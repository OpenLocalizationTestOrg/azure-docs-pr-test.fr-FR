---
title: "Utilisation d’Azure Storage avec une solution d’intégration continue Jenkins | Microsoft Docs"
description: "Ce didacticiel décrit l’utilisation du service BLOB Azure comme référentiel d’artefacts de build créés par une solution d’intégration continue Jenkins."
services: storage
documentationcenter: java
author: seguler
manager: jahogg
editor: tysonn
ms.assetid: f4e5ca75-f6cb-4f74-981b-2aa06bb8de45
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: Java
ms.topic: article
ms.date: 02/28/2017
ms.author: seguler
ms.openlocfilehash: 72cf98289102f64f82bbac6e43b48339db8681b4
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="using-azure-storage-with-a-jenkins-continuous-integration-solution"></a><span data-ttu-id="54e6f-103">Utilisation d’Azure Storage avec une solution d’intégration continue Jenkins</span><span class="sxs-lookup"><span data-stu-id="54e6f-103">Using Azure Storage with a Jenkins Continuous Integration solution</span></span>
## <a name="overview"></a><span data-ttu-id="54e6f-104">Vue d'ensemble</span><span class="sxs-lookup"><span data-stu-id="54e6f-104">Overview</span></span>
<span data-ttu-id="54e6f-105">Les informations suivantes expliquent comment utiliser Blob Storage comme dépôt pour les artefacts de build créés par une solution d’intégration continue (CI) Jenkins ou comme source de fichiers téléchargeables dans un processus de génération.</span><span class="sxs-lookup"><span data-stu-id="54e6f-105">The following information shows how to use Blob storage as a repository of build artifacts created by a Jenkins Continuous Integration (CI) solution, or as a source of downloadable files to be used in a build process.</span></span> <span data-ttu-id="54e6f-106">Cela peut s'avérer utile dans plusieurs scénarios, notamment lorsque vous codez dans un environnement de développement agile (avec Java ou d'autres langages), que les builds s'exécutent sur la base d'une intégration continue et que vous avez besoin d'un référentiel pour vos artefacts de build, de manière, par exemple, à pouvoir les partager avec d'autres membres de l'organisation, vos clients, ou conserver une archive.</span><span class="sxs-lookup"><span data-stu-id="54e6f-106">One of the scenarios where you would find this useful is when you're coding in an agile development environment (using Java or other languages), builds are running based on continuous integration, and you need a repository for your build artifacts, so that you could, for example, share them with other organization members, your customers, or maintain an archive.</span></span> <span data-ttu-id="54e6f-107">Il existe un autre scénario dans lequel votre tâche de build proprement dite requiert d'autres fichiers, comme des dépendances à télécharger dans le cadre de l'entrée de génération.</span><span class="sxs-lookup"><span data-stu-id="54e6f-107">Another scenario is when your build job itself requires other files, for example, dependencies to download as part of the build input.</span></span>

<span data-ttu-id="54e6f-108">Dans ce didacticiel, vous allez utiliser le plug-in Azure Storage pour Jenkins CI mis à disposition par Microsoft.</span><span class="sxs-lookup"><span data-stu-id="54e6f-108">In this tutorial you will be using the Azure Storage Plugin for Jenkins CI made available by Microsoft.</span></span>

## <a name="overview-of-jenkins"></a><span data-ttu-id="54e6f-109">Présentation de Jenkins</span><span class="sxs-lookup"><span data-stu-id="54e6f-109">Overview of Jenkins</span></span>
<span data-ttu-id="54e6f-110">Jenkins rend possible l’intégration continue d’un projet de logiciel en permettant aux développeurs d’intégrer aisément les modifications de leur code, et de créer automatiquement et fréquemment des builds, d’où une productivité accrue.</span><span class="sxs-lookup"><span data-stu-id="54e6f-110">Jenkins enables continuous integration of a software project by allowing developers to easily integrate their code changes and have builds produced automatically and frequently, thereby increasing the productivity of the developers.</span></span> <span data-ttu-id="54e6f-111">Les versions des builds sont gérées et les artefacts de build peuvent être téléchargés dans divers référentiels.</span><span class="sxs-lookup"><span data-stu-id="54e6f-111">Builds are versioned, and build artifacts can be uploaded to various repositories.</span></span> <span data-ttu-id="54e6f-112">Dans cette rubrique, vous allez apprendre à utiliser le stockage d'objets blob comme référentiel des artefacts de build.</span><span class="sxs-lookup"><span data-stu-id="54e6f-112">This topic will show how to use Azure blob storage as the repository of the build artifacts.</span></span> <span data-ttu-id="54e6f-113">Vous allez également apprendre à télécharger des dépendances depuis le stockage d'objets blob Azure.</span><span class="sxs-lookup"><span data-stu-id="54e6f-113">It will also show how to download dependencies from Azure blob storage.</span></span>

<span data-ttu-id="54e6f-114">Pour plus d'informations sur Jenkins, consultez la page de [présentation de Jenkins](https://wiki.jenkins-ci.org/display/JENKINS/Meet+Jenkins).</span><span class="sxs-lookup"><span data-stu-id="54e6f-114">More information about Jenkins can be found at [Meet Jenkins](https://wiki.jenkins-ci.org/display/JENKINS/Meet+Jenkins).</span></span>

## <a name="benefits-of-using-the-blob-service"></a><span data-ttu-id="54e6f-115">Avantages de l’utilisation du service BLOB</span><span class="sxs-lookup"><span data-stu-id="54e6f-115">Benefits of using the Blob service</span></span>
<span data-ttu-id="54e6f-116">L'utilisation du service BLOB pour héberger vos artefacts de build dans un environnement agile présente les avantages suivants :</span><span class="sxs-lookup"><span data-stu-id="54e6f-116">Benefits of using the Blob service to host your agile development build artifacts include:</span></span>

* <span data-ttu-id="54e6f-117">Haute disponibilité de vos artefacts de build et/ou dépendances téléchargeables.</span><span class="sxs-lookup"><span data-stu-id="54e6f-117">High availability of your build artifacts and/or downloadable dependencies.</span></span>
* <span data-ttu-id="54e6f-118">Performances lorsque votre solution Jenkins CI télécharge vos artefacts de build.</span><span class="sxs-lookup"><span data-stu-id="54e6f-118">Performance when your Jenkins CI solution uploads your build artifacts.</span></span>
* <span data-ttu-id="54e6f-119">Performances lorsque vos clients et partenaires téléchargent vos artefacts de build.</span><span class="sxs-lookup"><span data-stu-id="54e6f-119">Performance when your customers and partners download your build artifacts.</span></span>
* <span data-ttu-id="54e6f-120">Contrôle sur les stratégies d'accès utilisateur, avec choix entre accès anonyme, accès par signature d'accès partagé basé sur l'expiration, accès privé, etc.</span><span class="sxs-lookup"><span data-stu-id="54e6f-120">Control over user access policies, with a choice between anonymous access, expiration-based shared access signature access, private access, etc.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="54e6f-121">Composants requis</span><span class="sxs-lookup"><span data-stu-id="54e6f-121">Prerequisites</span></span>
<span data-ttu-id="54e6f-122">Pour utiliser le service BLOB avec votre solution Jenkins CI, vous avez besoin des éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="54e6f-122">You will need the following to use the Blob service with your Jenkins CI solution:</span></span>

* <span data-ttu-id="54e6f-123">Une solution d'intégration continue Jenkins.</span><span class="sxs-lookup"><span data-stu-id="54e6f-123">A Jenkins Continuous Integration solution.</span></span>
  
    <span data-ttu-id="54e6f-124">Si vous ne disposez pas d'une solution Jenkins CI, vous pouvez en exécuter une à l'aide de la technique suivante :</span><span class="sxs-lookup"><span data-stu-id="54e6f-124">If you currently don't have a Jenkins CI solution, you can run a Jenkins CI solution using the following technique:</span></span>
  
  1. <span data-ttu-id="54e6f-125">Sur un ordinateur compatible Java, téléchargez le fichier jenkins.war à l'adresse <http://jenkins-ci.org>.</span><span class="sxs-lookup"><span data-stu-id="54e6f-125">On a Java-enabled machine, download jenkins.war from <http://jenkins-ci.org>.</span></span>
  2. <span data-ttu-id="54e6f-126">Accédez au dossier contenant le fichier jenkins.war, ouvrez une invite de commandes et exécutez la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="54e6f-126">At a command prompt that is opened to the folder that contains jenkins.war, run:</span></span>
     
      `java -jar jenkins.war`

  3. <span data-ttu-id="54e6f-127">Dans votre navigateur, ouvrez `http://localhost:8080/`.</span><span class="sxs-lookup"><span data-stu-id="54e6f-127">In your browser, open `http://localhost:8080/`.</span></span> <span data-ttu-id="54e6f-128">Le tableau de bord Jenkins s’ouvre ; vous allez vous en servir pour installer et configurer le plug-in Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="54e6f-128">This will open the Jenkins dashboard, which you will use to install and configure the Azure Storage plugin.</span></span>
     
      <span data-ttu-id="54e6f-129">Une solution Jenkins CI type serait configurée pour s'exécuter en tant que service, mais l'exécution du fichier .war Jenkins depuis la ligne de commande est suffisante pour les besoins de ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="54e6f-129">While a typical Jenkins CI solution would be set up to run as a service, running the Jenkins war at the command line will be sufficient for this tutorial.</span></span>
* <span data-ttu-id="54e6f-130">Un compte Azure.</span><span class="sxs-lookup"><span data-stu-id="54e6f-130">An Azure account.</span></span> <span data-ttu-id="54e6f-131">Pour créer un compte Azure, consultez la page <http://www.azure.com>.</span><span class="sxs-lookup"><span data-stu-id="54e6f-131">You can sign up for an Azure account at <http://www.azure.com>.</span></span>
* <span data-ttu-id="54e6f-132">Un compte de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="54e6f-132">An Azure storage account.</span></span> <span data-ttu-id="54e6f-133">Si vous ne disposez pas déjà d’un compte de stockage, vous pouvez en créer un en suivant la procédure décrite dans la section [Créer un compte de stockage](storage-create-storage-account.md#create-a-storage-account).</span><span class="sxs-lookup"><span data-stu-id="54e6f-133">If you don't already have a storage account, you can create one using the steps at [Create a Storage Account](storage-create-storage-account.md#create-a-storage-account).</span></span>
* <span data-ttu-id="54e6f-134">Une bonne connaissance de la solution Jenkins CI est recommandée, mais pas obligatoire, car le contenu suivant emploiera un exemple élémentaire pour décrire la procédure requise lorsque vous utilisez le service BLOB comme référentiel pour les artefacts de build Jenkins CI.</span><span class="sxs-lookup"><span data-stu-id="54e6f-134">Familiarity with the Jenkins CI solution is recommended but not required, as the following content will use a basic example to show you the steps needed when using the Blob service as a repository for Jenkins CI build artifacts.</span></span>

## <a name="how-to-use-the-blob-service-with-jenkins-ci"></a><span data-ttu-id="54e6f-135">Utilisation du service BLOB avec Jenkins CI</span><span class="sxs-lookup"><span data-stu-id="54e6f-135">How to use the Blob service with Jenkins CI</span></span>
<span data-ttu-id="54e6f-136">Pour utiliser le service BLOB avec Jenkins, vous devez installer le plug-in Azure Storage, le configurer pour utiliser votre compte de stockage, puis créer une action post-build qui télécharge vos artefacts de build sur votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="54e6f-136">To use the Blob service with Jenkins, you'll need to install the Azure Storage plugin, configure the plugin to use your storage account, and then create a post-build action that uploads your build artifacts to your storage account.</span></span> <span data-ttu-id="54e6f-137">Les étapes de cette procédure sont décrites dans les sections suivantes.</span><span class="sxs-lookup"><span data-stu-id="54e6f-137">These steps are described in the following sections.</span></span>

## <a name="how-to-install-the-azure-storage-plugin"></a><span data-ttu-id="54e6f-138">Comment installer le plug-in de stockage Azure</span><span class="sxs-lookup"><span data-stu-id="54e6f-138">How to install the Azure Storage plugin</span></span>
1. <span data-ttu-id="54e6f-139">Dans le tableau de bord Jenkins, cliquez sur **Manage Jenkins**.</span><span class="sxs-lookup"><span data-stu-id="54e6f-139">Within the Jenkins dashboard, click **Manage Jenkins**.</span></span>
2. <span data-ttu-id="54e6f-140">Sur la page **Manage Jenkins**, cliquez sur **Manage Plugins**.</span><span class="sxs-lookup"><span data-stu-id="54e6f-140">In the **Manage Jenkins** page, click **Manage Plugins**.</span></span>
3. <span data-ttu-id="54e6f-141">Cliquez sur l'onglet **Available** .</span><span class="sxs-lookup"><span data-stu-id="54e6f-141">Click the **Available** tab.</span></span>
4. <span data-ttu-id="54e6f-142">Dans la section **Téléchargeurs d'artefacts**, activez la case à cocher **Plug-in Microsoft Azure Storage**.</span><span class="sxs-lookup"><span data-stu-id="54e6f-142">In the **Artifact Uploaders** section, check **Microsoft Azure Storage plugin**.</span></span>
5. <span data-ttu-id="54e6f-143">Cliquez sur **Install without restart** ou sur **Download now and install after restart**.</span><span class="sxs-lookup"><span data-stu-id="54e6f-143">Click either **Install without restart** or **Download now and install after restart**.</span></span>
6. <span data-ttu-id="54e6f-144">Redémarrez Jenkins.</span><span class="sxs-lookup"><span data-stu-id="54e6f-144">Restart Jenkins.</span></span>

## <a name="how-to-configure-the-azure-storage-plugin-to-use-your-storage-account"></a><span data-ttu-id="54e6f-145">Comment configurer le plug-in de stockage Azure pour utiliser votre compte de stockage</span><span class="sxs-lookup"><span data-stu-id="54e6f-145">How to configure the Azure Storage plugin to use your storage account</span></span>
1. <span data-ttu-id="54e6f-146">Dans le tableau de bord Jenkins, cliquez sur **Manage Jenkins**.</span><span class="sxs-lookup"><span data-stu-id="54e6f-146">Within the Jenkins dashboard, click **Manage Jenkins**.</span></span>
2. <span data-ttu-id="54e6f-147">Sur la page **Manage Jenkins**, cliquez sur **Configure System**.</span><span class="sxs-lookup"><span data-stu-id="54e6f-147">In the **Manage Jenkins** page, click **Configure System**.</span></span>
3. <span data-ttu-id="54e6f-148">Dans la section **Configuration du compte Microsoft Azure Storage** :</span><span class="sxs-lookup"><span data-stu-id="54e6f-148">In the **Microsoft Azure Storage Account Configuration** section:</span></span>
   1. <span data-ttu-id="54e6f-149">Entrez le nom de votre compte de stockage, que vous pouvez obtenir à partir du [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="54e6f-149">Enter your storage account name, which you can obtain from the [Azure Portal](https://portal.azure.com).</span></span>
   2. <span data-ttu-id="54e6f-150">Entrez la clé de votre compte de stockage, que vous pouvez obtenir à partir du [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="54e6f-150">Enter your storage account key, also obtainable from the [Azure Portal](https://portal.azure.com).</span></span>
   3. <span data-ttu-id="54e6f-151">Utilisez la valeur par défaut pour **Blob Service Endpoint URL** si vous vous servez du cloud public Azure.</span><span class="sxs-lookup"><span data-stu-id="54e6f-151">Use the default value for **Blob Service Endpoint URL** if you are using the public Azure cloud.</span></span> <span data-ttu-id="54e6f-152">Si vous vous servez d’un autre cloud Azure, utilisez le point de terminaison spécifié dans le [portail Azure](https://portal.azure.com) pour votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="54e6f-152">If you are using a different Azure cloud, use the endpoint as specified in the [Azure Portal](https://portal.azure.com) for your storage account.</span></span> 
   4. <span data-ttu-id="54e6f-153">Cliquez sur **Valider les informations d'identification de stockage** pour valider votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="54e6f-153">Click **Validate storage credentials** to validate your storage account.</span></span> 
   5. <span data-ttu-id="54e6f-154">[Facultatif] Si vous avez d'autres comptes de stockage que vous souhaitez rendre disponibles pour votre solution Jenkins CI, cliquez sur **Add more Storage Accounts**.</span><span class="sxs-lookup"><span data-stu-id="54e6f-154">[Optional] If you have additional storage accounts that you want made available to your Jenkins CI, click **Add more Storage Accounts**.</span></span>
   6. <span data-ttu-id="54e6f-155">Cliquez sur **Save** pour enregistrer vos paramètres.</span><span class="sxs-lookup"><span data-stu-id="54e6f-155">Click **Save** to save your settings.</span></span>

## <a name="how-to-create-a-post-build-action-that-uploads-your-build-artifacts-to-your-storage-account"></a><span data-ttu-id="54e6f-156">Création d'une action post-build qui télécharge les artefacts de votre build sur votre compte de stockage</span><span class="sxs-lookup"><span data-stu-id="54e6f-156">How to create a post-build action that uploads your build artifacts to your storage account</span></span>
<span data-ttu-id="54e6f-157">Pour les besoins de la formation, nous devons d’abord créer une tâche qui créera plusieurs fichiers, puis ajouter l’action post-build pour télécharger les fichiers sur votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="54e6f-157">For instruction purposes, first we'll need to create a job that will create several files, and then add in the post-build action to upload the files to your storage account.</span></span>

1. <span data-ttu-id="54e6f-158">Dans le tableau de bord Jenkins, cliquez sur **Nouvel élément**.</span><span class="sxs-lookup"><span data-stu-id="54e6f-158">Within the Jenkins dashboard, click **New Item**.</span></span>
2. <span data-ttu-id="54e6f-159">Nommez la tâche **MyJob**, cliquez sur **Build a free-style software project**, puis sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="54e6f-159">Name the job **MyJob**, click **Build a free-style software project**, and then click **OK**.</span></span>
3. <span data-ttu-id="54e6f-160">Dans la section **Build** (Générer) de la configuration de la tâche, cliquez sur **Add build step** (Ajouter une étape de génération) et choisissez **Execute Windows batch command** (Exécuter une commande batch Windows).</span><span class="sxs-lookup"><span data-stu-id="54e6f-160">In the **Build** section of the job configuration, click **Add build step** and choose **Execute Windows batch command**.</span></span>
4. <span data-ttu-id="54e6f-161">Dans **Command**, utilisez les commandes suivantes :</span><span class="sxs-lookup"><span data-stu-id="54e6f-161">In **Command**, use the following commands:</span></span>

    ```   
    md text
    cd text
    echo Hello Azure Storage from Jenkins > hello.txt
    date /t > date.txt
    time /t >> date.txt
    ```

5. <span data-ttu-id="54e6f-162">Dans la section **Post-build Actions** de la configuration de la tâche, cliquez sur **Add post-build action** et choisissez **Upload artifacts to Azure Blob storage**.</span><span class="sxs-lookup"><span data-stu-id="54e6f-162">In the **Post-build Actions** section of the job configuration, click **Add post-build action** and choose **Upload artifacts to Azure Blob storage**.</span></span>
6. <span data-ttu-id="54e6f-163">Dans le champ **Nom du compte de stockage**, sélectionnez le compte de stockage à utiliser.</span><span class="sxs-lookup"><span data-stu-id="54e6f-163">For **Storage account name**, select the storage account to use.</span></span>
7. <span data-ttu-id="54e6f-164">Dans le champ **Nom du conteneur**, indiquez le nom du conteneur.</span><span class="sxs-lookup"><span data-stu-id="54e6f-164">For **Container name**, specify the container name.</span></span> <span data-ttu-id="54e6f-165">Le conteneur est créé s’il n’existe pas déjà au téléchargement des artefacts de build. Vous pouvez utiliser des variables d’environnement. Dans cet exemple, entrez **${JOB_NAME}** comme nom de conteneur.</span><span class="sxs-lookup"><span data-stu-id="54e6f-165">(The container will be created if it does not already exist when the build artifacts are uploaded.) You can use environment variables, so for this example enter **${JOB_NAME}** as the container name.</span></span>
   
    <span data-ttu-id="54e6f-166">**Conseil**</span><span class="sxs-lookup"><span data-stu-id="54e6f-166">**Tip**</span></span>
   
    <span data-ttu-id="54e6f-167">Sous la section **Command** où vous avez entré un script pour **Execute Windows batch command**, un lien permet d'accéder aux variables d'environnement reconnues par Jenkins.</span><span class="sxs-lookup"><span data-stu-id="54e6f-167">Below the **Command** section where you entered a script for **Execute Windows batch command** is a link to the environment variables recognized by Jenkins.</span></span> <span data-ttu-id="54e6f-168">Cliquez sur ce lien pour découvrir les noms des variables d’environnement avec leurs descriptions.</span><span class="sxs-lookup"><span data-stu-id="54e6f-168">Click that link to learn the environment variable names and descriptions.</span></span> <span data-ttu-id="54e6f-169">Notez que les variables d’environnement qui contiennent des caractères spéciaux, comme la variable d’environnement **BUILD_URL**, ne sont pas autorisées comme nom de conteneur ou chemin virtuel commun.</span><span class="sxs-lookup"><span data-stu-id="54e6f-169">Note that environment variables that contain special characters, such as the **BUILD_URL** environment variable, are not allowed as a container name or common virtual path.</span></span>
8. <span data-ttu-id="54e6f-170">Cliquez sur **Rendre le nouveau conteneur public par défaut** pour cet exemple.</span><span class="sxs-lookup"><span data-stu-id="54e6f-170">Click **Make new container public by default** for this example.</span></span> <span data-ttu-id="54e6f-171">Si vous voulez utiliser un conteneur privé, vous devez créer une signature d'accès partagé pour autoriser l'accès.</span><span class="sxs-lookup"><span data-stu-id="54e6f-171">(If you want to use a private container, you'll need to create a shared access signature to allow access.</span></span> <span data-ttu-id="54e6f-172">La procédure n'entre pas dans le cadre de cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="54e6f-172">That is beyond the scope of this topic.</span></span> <span data-ttu-id="54e6f-173">Pour en savoir plus sur les signatures d’accès partagé, consultez [Utilisation des signatures d’accès partagé (SAP)](storage-dotnet-shared-access-signature-part-1.md).)</span><span class="sxs-lookup"><span data-stu-id="54e6f-173">You can learn more about shared access signatures at [Using Shared Access Signatures (SAS)](storage-dotnet-shared-access-signature-part-1.md).)</span></span>
9. <span data-ttu-id="54e6f-174">[Facultatif] Cliquez sur **Nettoyer le conteneur avant le téléchargement** si vous souhaitez que le contenu du conteneur soit effacé avant le téléchargement des artefacts de build (ne sélectionnez pas cette option si vous ne souhaitez pas effacer le contenu du conteneur).</span><span class="sxs-lookup"><span data-stu-id="54e6f-174">[Optional] Click **Clean container before uploading** if you want the container to be cleared of contents before build artifacts are uploaded (leave it unchecked if you do not want to clean the contents of the container).</span></span>
10. <span data-ttu-id="54e6f-175">Dans **List of Artifacts to upload** (Liste des artefacts à télécharger), entrez **text/*.txt**.</span><span class="sxs-lookup"><span data-stu-id="54e6f-175">For **List of Artifacts to upload**, enter **text/*.txt**.</span></span>
11. <span data-ttu-id="54e6f-176">Pour **Chemin virtuel commun pour les artefacts téléchargés**, dans le cadre de ce didacticiel, entrez **${BUILD\_ID}/${BUILD\_NUMBER}**.</span><span class="sxs-lookup"><span data-stu-id="54e6f-176">For **Common virtual path for uploaded artifacts**, for purposes of this tutorial, enter **${BUILD\_ID}/${BUILD\_NUMBER}**.</span></span>
12. <span data-ttu-id="54e6f-177">Cliquez sur **Save** pour enregistrer vos paramètres.</span><span class="sxs-lookup"><span data-stu-id="54e6f-177">Click **Save** to save your settings.</span></span>
13. <span data-ttu-id="54e6f-178">Dans le tableau de bord Jenkins, cliquez sur **Build Now** pour exécuter **MyJob**.</span><span class="sxs-lookup"><span data-stu-id="54e6f-178">In the Jenkins dashboard, click **Build Now** to run **MyJob**.</span></span> <span data-ttu-id="54e6f-179">Examinez l'état dans la sortie de la console.</span><span class="sxs-lookup"><span data-stu-id="54e6f-179">Examine the console output for status.</span></span> <span data-ttu-id="54e6f-180">Les messages d'état du stockage Azure sont inclus dans la sortie de la console lorsque l'action post-build commence à télécharger les artefacts de build.</span><span class="sxs-lookup"><span data-stu-id="54e6f-180">Status messages for Azure storage will be included in the console output when the post-build action starts to upload build artifacts.</span></span>
14. <span data-ttu-id="54e6f-181">Une fois la tâche terminée correctement, vous pouvez examiner les artefacts de build en ouvrant l’objet blob public.</span><span class="sxs-lookup"><span data-stu-id="54e6f-181">Upon successful completion of the job, you can examine the build artifacts by opening the public blob.</span></span>
    1. <span data-ttu-id="54e6f-182">Connectez-vous au [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="54e6f-182">Login to the [Azure Portal](https://portal.azure.com).</span></span>
    2. <span data-ttu-id="54e6f-183">Cliquez sur **Stockage**.</span><span class="sxs-lookup"><span data-stu-id="54e6f-183">Click **Storage**.</span></span>
    3. <span data-ttu-id="54e6f-184">Cliquez sur le nom du compte de stockage que vous avez utilisé pour Jenkins.</span><span class="sxs-lookup"><span data-stu-id="54e6f-184">Click the storage account name that you used for Jenkins.</span></span>
    4. <span data-ttu-id="54e6f-185">Cliquez sur **Conteneurs**.</span><span class="sxs-lookup"><span data-stu-id="54e6f-185">Click **Containers**.</span></span>
    5. <span data-ttu-id="54e6f-186">Cliquez sur le conteneur nommé **myjob**, qui correspond à la version en minuscules du nom de tâche attribué à la création de la tâche Jenkins.</span><span class="sxs-lookup"><span data-stu-id="54e6f-186">Click the container named **myjob**, which is the lowercase version of the job name that you assigned when you created the Jenkins job.</span></span> <span data-ttu-id="54e6f-187">Les noms de conteneurs et les noms d’objets blob sont en minuscules (et sensibles à la casse) dans le stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="54e6f-187">Container names and blob names are lowercase (and case-sensitive) in Azure storage.</span></span> <span data-ttu-id="54e6f-188">La liste d’objets blob du conteneur nommé **myjob** contient normalement **hello.txt** et **date.txt**.</span><span class="sxs-lookup"><span data-stu-id="54e6f-188">Within the list of blobs for the container named **myjob** you should see **hello.txt** and **date.txt**.</span></span> <span data-ttu-id="54e6f-189">Copiez l’URL correspondant à l’un de ces éléments et ouvrez-la dans le navigateur.</span><span class="sxs-lookup"><span data-stu-id="54e6f-189">Copy the URL for either of these items and open it in your browser.</span></span> <span data-ttu-id="54e6f-190">Le fichier texte qui a été téléchargé apparaît comme un artefact de build.</span><span class="sxs-lookup"><span data-stu-id="54e6f-190">You will see the text file that was uploaded as a build artifact.</span></span>

<span data-ttu-id="54e6f-191">Une seule action post-build qui télécharge les artefacts dans le stockage d'objet blob Azure peut être créée par tâche.</span><span class="sxs-lookup"><span data-stu-id="54e6f-191">Only one post-build action that uploads artifacts to Azure blob storage can be created per job.</span></span> <span data-ttu-id="54e6f-192">Notez que l'action post-build permettant de télécharger des artefacts sur le stockage d'objets blob Azure peut spécifier différents fichiers (y compris des caractères génériques) et chemins d'accès aux fichiers dans **Liste des artefacts à télécharger** grâce à l'ajout d'un point-virgule comme séparateur.</span><span class="sxs-lookup"><span data-stu-id="54e6f-192">Note that the single post-build action to upload artifacts to Azure blob storage can specify different files (including wildcards) and paths to files within **List of Artifacts to upload** using a semi-colon as a separator.</span></span> <span data-ttu-id="54e6f-193">Par exemple, si votre build Jenkins produit des fichiers JAR et des fichiers TXT dans le dossier **build** de votre espace de travail et que vous souhaitez télécharger ces deux types de fichiers sur le stockage d’objets blob Azure, entrez ce qui suit dans le champ **Liste des artefacts à télécharger** : **build/\*.jar;build/\*.txt**.</span><span class="sxs-lookup"><span data-stu-id="54e6f-193">For example, if your Jenkins build produces JAR files and TXT files in your workspace's **build** folder, and you want to upload both to Azure blob storage, use the following for the **List of Artifacts to upload** value: **build/\*.jar;build/\*.txt**.</span></span> <span data-ttu-id="54e6f-194">Vous pouvez aussi utiliser un double signe deux-points pour indiquer le chemin à utiliser dans le nom de l’objet blob.</span><span class="sxs-lookup"><span data-stu-id="54e6f-194">You can also use double-colon syntax to specify a path to use within the blob name.</span></span> <span data-ttu-id="54e6f-195">Par exemple, si vous souhaitez que les fichiers JAR soient téléchargés à l’aide de fichiers **binaires** dans le chemin d’accès des objets blob et que les fichiers TXT soient téléchargés à l’aide de **notices** dans le chemin d’accès des objets blob, renseignez **List of Artifacts to upload** (Liste des artefacts à télécharger) comme suit : **build/\*.jar::binaries;build/\*.txt::notices**.</span><span class="sxs-lookup"><span data-stu-id="54e6f-195">For example, if you want the JARs to get uploaded using **binaries** in the blob path and the TXT files to get uploaded using **notices** in the blob path, use the following for the **List of Artifacts to upload** value: **build/\*.jar::binaries;build/\*.txt::notices**.</span></span>

## <a name="how-to-create-a-build-step-that-downloads-from-azure-blob-storage"></a><span data-ttu-id="54e6f-196">Création d'une étape de génération pour télécharger des éléments depuis un stockage d'objets blob Azure</span><span class="sxs-lookup"><span data-stu-id="54e6f-196">How to create a build step that downloads from Azure blob storage</span></span>
<span data-ttu-id="54e6f-197">La procédure suivante explique comment configurer une étape de génération pour télécharger des éléments depuis un stockage d'objets blob Azure.</span><span class="sxs-lookup"><span data-stu-id="54e6f-197">The following steps show how to configure a build step to download items from Azure blob storage.</span></span> <span data-ttu-id="54e6f-198">Ceci peut s'avérer utile si vous souhaitez inclure des éléments dans votre build, par exemple, des fichiers JAR à conserver dans votre stockage d'objets blob Azure.</span><span class="sxs-lookup"><span data-stu-id="54e6f-198">This would be useful if you want to include items in your build, for example, JARs that you keep in Azure blob storage.</span></span>

1. <span data-ttu-id="54e6f-199">Dans la section **Build** (Générer) de la configuration de la tâche, cliquez sur **Add build step** (Ajouter une étape de génération) et choisissez **Download from Azure Blob storage** (Télécharger à partir du stockage d’objets blob Azure).</span><span class="sxs-lookup"><span data-stu-id="54e6f-199">In the **Build** section of the job configuration, click **Add build step** and choose **Download from Azure Blob storage**.</span></span>
2. <span data-ttu-id="54e6f-200">Dans le champ **Nom du compte de stockage**, sélectionnez le compte de stockage à utiliser.</span><span class="sxs-lookup"><span data-stu-id="54e6f-200">For **Storage account name**, select the storage account to use.</span></span>
3. <span data-ttu-id="54e6f-201">Dans le champ **Nom du conteneur**, indiquez le nom du conteneur dans lequel se trouvent les objets blob que vous souhaitez télécharger.</span><span class="sxs-lookup"><span data-stu-id="54e6f-201">For **Container name**, specify the name of the container that has the blobs you want to download.</span></span> <span data-ttu-id="54e6f-202">Vous pouvez utiliser des variables d'environnement.</span><span class="sxs-lookup"><span data-stu-id="54e6f-202">You can use environment variables.</span></span>
4. <span data-ttu-id="54e6f-203">Dans le champ **Nom d'objet blob**, indiquez le nom de l'objet blob.</span><span class="sxs-lookup"><span data-stu-id="54e6f-203">For **Blob name**, specify the blob name.</span></span> <span data-ttu-id="54e6f-204">Vous pouvez utiliser des variables d'environnement.</span><span class="sxs-lookup"><span data-stu-id="54e6f-204">You can use environment variables.</span></span> <span data-ttu-id="54e6f-205">Vous pouvez aussi utiliser un astérisque comme caractère générique après avoir indiqué la ou les premières lettres du nom de l’objet blob.</span><span class="sxs-lookup"><span data-stu-id="54e6f-205">Also, you can use an asterisk, as a wildcard after you specify the initial letter(s) of the blob name.</span></span> <span data-ttu-id="54e6f-206">Par exemple, **projet\*** désignera tous les objets blob dont le nom commence par **projet**.</span><span class="sxs-lookup"><span data-stu-id="54e6f-206">For example, **project\*** would specify all blobs whose names start with **project**.</span></span>
5. <span data-ttu-id="54e6f-207">[Facultatif] Dans le champ **Chemin de téléchargement**, indiquez l'emplacement de l'ordinateur Jenkins où vous souhaitez télécharger les fichiers depuis le stockage d'objets blob Azure.</span><span class="sxs-lookup"><span data-stu-id="54e6f-207">[Optional] For **Download path**, specify the path on the Jenkins machine where you want to download files from Azure blob storage.</span></span> <span data-ttu-id="54e6f-208">Vous pouvez utiliser des variables d’environnement.</span><span class="sxs-lookup"><span data-stu-id="54e6f-208">Environment variables can also be used.</span></span> <span data-ttu-id="54e6f-209">Si vous n'entrez rien dans le champ **Chemin de téléchargement**, les fichiers du stockage d'objets blob Azure seront téléchargés dans l'espace de travail de la tâche.</span><span class="sxs-lookup"><span data-stu-id="54e6f-209">(If you do not provide a value for **Download path**, the files from Azure blob storage will be downloaded to the job's workspace.)</span></span>

<span data-ttu-id="54e6f-210">Si vous souhaitez télécharger d’autres éléments depuis le stockage d’objets blob Azure, vous pouvez créer des étapes de génération supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="54e6f-210">If you have additional items you want to download from Azure blob storage, you can create additional build steps.</span></span>

<span data-ttu-id="54e6f-211">Après avoir exécuté une build, vous pouvez vérifier la sortie de la console d’historique de build ou vérifier dans le dossier de téléchargement si les objets blob attendus ont bien été téléchargés.</span><span class="sxs-lookup"><span data-stu-id="54e6f-211">After you run a build, you can check the build history console output, or look at your download location, to see whether the blobs you expected were successfully downloaded.</span></span>  

## <a name="components-used-by-the-blob-service"></a><span data-ttu-id="54e6f-212">Composants utilisés par le service BLOB</span><span class="sxs-lookup"><span data-stu-id="54e6f-212">Components used by the Blob service</span></span>
<span data-ttu-id="54e6f-213">La section suivante présente les composants du service BLOB.</span><span class="sxs-lookup"><span data-stu-id="54e6f-213">The following provides an overview of the Blob service components.</span></span>

* <span data-ttu-id="54e6f-214">**Compte de stockage :**tout accès au stockage Azure s'effectue via un compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="54e6f-214">**Storage Account**: All access to Azure Storage is done through a storage account.</span></span> <span data-ttu-id="54e6f-215">Il s'agit du plus haut niveau d'espace de noms permettant d'accéder aux objets blob.</span><span class="sxs-lookup"><span data-stu-id="54e6f-215">This is the highest level of the namespace for accessing blobs.</span></span> <span data-ttu-id="54e6f-216">Un compte peut contenir un nombre illimité de conteneurs, tant que sa taille totale ne dépasse pas 100 To.</span><span class="sxs-lookup"><span data-stu-id="54e6f-216">An account can contain an unlimited number of containers, as long as their total size is under 100TB.</span></span>
* <span data-ttu-id="54e6f-217">**Conteneur**: conteneur regroupant un ensemble d’objets blob.</span><span class="sxs-lookup"><span data-stu-id="54e6f-217">**Container**: A container provides a grouping of a set of blobs.</span></span> <span data-ttu-id="54e6f-218">Tous les objets blob doivent figurer dans un conteneur.</span><span class="sxs-lookup"><span data-stu-id="54e6f-218">All blobs must be in a container.</span></span> <span data-ttu-id="54e6f-219">Un compte peut contenir un nombre illimité de conteneurs.</span><span class="sxs-lookup"><span data-stu-id="54e6f-219">An account can contain an unlimited number of containers.</span></span> <span data-ttu-id="54e6f-220">Un conteneur peut stocker un nombre illimité d’objets blob.</span><span class="sxs-lookup"><span data-stu-id="54e6f-220">A container can store an unlimited number of blobs.</span></span>
* <span data-ttu-id="54e6f-221">**Objet blob**: fichier de tout type et de toute taille.</span><span class="sxs-lookup"><span data-stu-id="54e6f-221">**Blob**: A file of any type and size.</span></span> <span data-ttu-id="54e6f-222">Il existe deux types d’objets blob qui peuvent être enregistrés dans un stockage Azure : les objets blob de blocs et les objets blob de pages.</span><span class="sxs-lookup"><span data-stu-id="54e6f-222">There are two types of blobs that can be stored in Azure Storage: block and page blobs.</span></span> <span data-ttu-id="54e6f-223">La plupart des fichiers sont des objets blob de blocs.</span><span class="sxs-lookup"><span data-stu-id="54e6f-223">Most files are block blobs.</span></span> <span data-ttu-id="54e6f-224">Un seul objet blob de blocs peut avoir une taille maximale de 200 Go.</span><span class="sxs-lookup"><span data-stu-id="54e6f-224">A single block blob can be up to 200GB in size.</span></span> <span data-ttu-id="54e6f-225">Ce didacticiel utilise des objets blob de blocs.</span><span class="sxs-lookup"><span data-stu-id="54e6f-225">This tutorial uses block blobs.</span></span> <span data-ttu-id="54e6f-226">Les objets blob de pages, autre type d’objets blob, peuvent avoir une taille de 1 To et sont plus efficaces lorsque des plages d’octets dans un fichier sont modifiées fréquemment.</span><span class="sxs-lookup"><span data-stu-id="54e6f-226">Page blobs, another blob type, can be up to 1TB in size, and are more efficient when ranges of bytes in a file are modified frequently.</span></span> <span data-ttu-id="54e6f-227">Pour plus d’informations sur les objets blob, consultez [Présentation des objets blob de blocs, des objets blob d’ajout et des objets blob de pages](http://msdn.microsoft.com/library/azure/ee691964.aspx).</span><span class="sxs-lookup"><span data-stu-id="54e6f-227">For more information about blobs, see [Understanding Block Blobs, Append Blobs, and Page Blobs](http://msdn.microsoft.com/library/azure/ee691964.aspx).</span></span>
* <span data-ttu-id="54e6f-228">**Format d'URL**: les objets blob sont adressables à l'aide du format d'URL suivant :</span><span class="sxs-lookup"><span data-stu-id="54e6f-228">**URL format**: Blobs are addressable using the following URL format:</span></span>
  
    `http://storageaccount.blob.core.windows.net/container_name/blob_name`
  
    <span data-ttu-id="54e6f-229">Le format ci-dessus s'applique au cloud public Azure.</span><span class="sxs-lookup"><span data-stu-id="54e6f-229">(The format above applies to the public Azure cloud.</span></span> <span data-ttu-id="54e6f-230">Si vous utilisez un autre cloud Azure, utilisez le point de terminaison dans le [portail Azure](https://portal.azure.com) pour déterminer votre URL de point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="54e6f-230">If you are using a different Azure cloud, use the endpoint within the [Azure Portal](https://portal.azure.com) to determine your URL endpoint.)</span></span>
  
    <span data-ttu-id="54e6f-231">Dans le format ci-dessus, `storageaccount` représente le nom de votre compte de stockage, `container_name` représente le nom de votre conteneur et `blob_name` représente le nom de votre objet blob, respectivement.</span><span class="sxs-lookup"><span data-stu-id="54e6f-231">In the format above, `storageaccount` represents the name of your storage account, `container_name` represents the name of your container, and `blob_name` represents the name of your blob, respectively.</span></span> <span data-ttu-id="54e6f-232">Le nom du conteneur contient plusieurs chemins d’accès, séparés par une barre oblique (**/**).</span><span class="sxs-lookup"><span data-stu-id="54e6f-232">Within the container name, you can have multiple paths, separated by a forward slash, **/**.</span></span> <span data-ttu-id="54e6f-233">Dans ce didacticiel, nous avons utilisé **MyJob** comme exemple de nom de conteneur et **${BUILD\_ID}/${BUILD\_NUMBER}** comme chemin virtuel commun. L’URL de l’objet blob a donc la forme suivante :</span><span class="sxs-lookup"><span data-stu-id="54e6f-233">The example container name in this tutorial was **MyJob**, and **${BUILD\_ID}/${BUILD\_NUMBER}** was used for the common virtual path, resulting in the blob having a URL of the following form:</span></span>
  
    `http://example.blob.core.windows.net/myjob/2014-04-14_23-57-00/1/hello.txt`

## <a name="next-steps"></a><span data-ttu-id="54e6f-234">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="54e6f-234">Next steps</span></span>
* [<span data-ttu-id="54e6f-235">Présentation de Jenkins</span><span class="sxs-lookup"><span data-stu-id="54e6f-235">Meet Jenkins</span></span>](https://wiki.jenkins-ci.org/display/JENKINS/Meet+Jenkins)
* [<span data-ttu-id="54e6f-236">Kit de développement logiciel (SDK) Azure Storage pour Java</span><span class="sxs-lookup"><span data-stu-id="54e6f-236">Azure Storage SDK for Java</span></span>](https://github.com/azure/azure-storage-java)
* [<span data-ttu-id="54e6f-237">Référence du Kit de développement logiciel (SDK) du client Azure Storage</span><span class="sxs-lookup"><span data-stu-id="54e6f-237">Azure Storage Client SDK Reference</span></span>](http://dl.windowsazure.com/storage/javadoc/)
* [<span data-ttu-id="54e6f-238">API REST des services d’Azure Storage</span><span class="sxs-lookup"><span data-stu-id="54e6f-238">Azure Storage Services REST API</span></span>](https://msdn.microsoft.com/library/azure/dd179355.aspx)
* [<span data-ttu-id="54e6f-239">Blog de l'équipe Azure Storage</span><span class="sxs-lookup"><span data-stu-id="54e6f-239">Azure Storage Team Blog</span></span>](http://blogs.msdn.com/b/windowsazurestorage/)

<span data-ttu-id="54e6f-240">Pour plus d’informations, consultez également le [Centre pour développeurs Java](https://azure.microsoft.com/develop/java/).</span><span class="sxs-lookup"><span data-stu-id="54e6f-240">For more information, also see the [Java Developer Center](https://azure.microsoft.com/develop/java/).</span></span>