---
title: "Utilisation du CDN Azure pour accéder aux objets blob avec des domaines personnalisés via HTTPs"
description: "Découvrez comment intégrer le CDN Azure avec le stockage d’objets blob pour accéder aux objets blob avec des domaines personnalisés via HTTPS"
services: storage
documentationcenter: 
author: michaelhauss
manager: vamshik
editor: tysonn
ms.assetid: 
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/04/2017
ms.author: mihauss
ms.openlocfilehash: 1439198250346ae9484eae448489e8a5de4734b7
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="using-the-azure-cdn-to-access-blobs-with-custom-domains-over-https"></a><span data-ttu-id="ccd58-103">Utilisation du CDN Azure pour accéder aux objets blob avec des domaines personnalisés via HTTPs</span><span class="sxs-lookup"><span data-stu-id="ccd58-103">Using the Azure CDN to access blobs with custom domains over HTTPS</span></span>

<span data-ttu-id="ccd58-104">Le réseau de distribution de contenu (CDN) Azure prend désormais en charge le protocole HTTPS pour les noms de domaine personnalisés.</span><span class="sxs-lookup"><span data-stu-id="ccd58-104">Azure Content Delivery Network (CDN) now supports HTTPS for custom domain names.</span></span>
<span data-ttu-id="ccd58-105">Vous pouvez utiliser cette fonctionnalité pour accéder aux objets blob de stockage à l’aide de votre domaine personnalisé via HTTPS.</span><span class="sxs-lookup"><span data-stu-id="ccd58-105">You can leverage this feature to access storage blobs using your custom domain over HTTPS.</span></span> <span data-ttu-id="ccd58-106">Pour ce faire, vous devez tout d’abord activer le CDN Azure sur le point de terminaison de votre objet blob et mapper le CDN à un nom de domaine personnalisé.</span><span class="sxs-lookup"><span data-stu-id="ccd58-106">To do so, you’ll first need to enable Azure CDN on your blob endpoint and map the CDN to a custom domain name.</span></span> <span data-ttu-id="ccd58-107">Une fois cette procédure effectuée, l’activation du protocole HTTPS pour votre domaine personnalisé est simplifiée grâce à l’activation en un clic et la gestion complète des certificats, le tout sans coût supplémentaire par rapport au tarif CDN normal.</span><span class="sxs-lookup"><span data-stu-id="ccd58-107">Once you take these steps, enabling HTTPS for your custom domain is simplified via one-click enablement, complete certificate management, and all with no additional cost to normal CDN pricing.</span></span>

<span data-ttu-id="ccd58-108">Ces une option importante, car elle permet de protéger la confidentialité et l’intégrité des données de vos données d’application web sensibles lors de leur transit.</span><span class="sxs-lookup"><span data-stu-id="ccd58-108">This ability is important because it enables you to protect the privacy and data integrity of your sensitive web application data while in transit.</span></span> <span data-ttu-id="ccd58-109">L’utilisation du protocole SSL pour assurer le trafic via HTTPS garantit que vos données sont chiffrées lorsqu’elles sont envoyées sur Internet.</span><span class="sxs-lookup"><span data-stu-id="ccd58-109">Using the SSL protocol to serve traffic via HTTPS ensures that data is encrypted when it is sent across the internet.</span></span> <span data-ttu-id="ccd58-110">Le protocole HTTPS assure la confiance et l’authentification, et protège également vos applications web contre les attaques.</span><span class="sxs-lookup"><span data-stu-id="ccd58-110">HTTPS provides trust and authentication, and protects your web applications from attacks.</span></span>

> [!NOTE]
> <span data-ttu-id="ccd58-111">Outre la prise en charge SSL pour les noms de domaine personnalisés, le CDN Azure peut vous aider à faire évoluer votre application pour fournir du contenu de bande passante élevée dans le monde entier.</span><span class="sxs-lookup"><span data-stu-id="ccd58-111">In addition to providing SSL support for custom domain names, the Azure CDN can help you scale your application to deliver high-bandwidth content around the world.</span></span>
> <span data-ttu-id="ccd58-112">Pour plus d’informations, consultez [Vue d’ensemble du CDN Azure](../cdn/cdn-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ccd58-112">To learn more, check out [Overview of the Azure CDN](../cdn/cdn-overview.md).</span></span>
>
>

## <a name="quick-start"></a><span data-ttu-id="ccd58-113">Démarrage rapide</span><span class="sxs-lookup"><span data-stu-id="ccd58-113">Quick start</span></span>

<span data-ttu-id="ccd58-114">Voici les étapes requises pour activer le protocole HTTPS pour le point de terminaison du stockage d’objets blob personnalisé :</span><span class="sxs-lookup"><span data-stu-id="ccd58-114">These are the steps required to enable HTTPS for your custom blob storage endpoint:</span></span>

1.  <span data-ttu-id="ccd58-115">[Intégrer un compte de stockage Azure au CDN Azure](../cdn/cdn-create-a-storage-account-with-cdn.md).</span><span class="sxs-lookup"><span data-stu-id="ccd58-115">[Integrate an Azure storage account with Azure CDN](../cdn/cdn-create-a-storage-account-with-cdn.md).</span></span>
    <span data-ttu-id="ccd58-116">Cet article vous guide dans la création d’un compte de stockage dans le portail Azure si vous ne l’avez pas déjà fait.</span><span class="sxs-lookup"><span data-stu-id="ccd58-116">This article walks you through creating a storage account in the Azure Portal if you have not done so already.</span></span>
2.  <span data-ttu-id="ccd58-117">[Mapper du contenu CDN Azure avec un domaine personnalisé](../cdn/cdn-map-content-to-custom-domain.md).</span><span class="sxs-lookup"><span data-stu-id="ccd58-117">[Map Azure CDN content to a custom domain](../cdn/cdn-map-content-to-custom-domain.md).</span></span>
3.  <span data-ttu-id="ccd58-118">[Activer le protocole HTTPS sur un domaine personnalisé CDN Azure](../cdn/cdn-custom-ssl.md).</span><span class="sxs-lookup"><span data-stu-id="ccd58-118">[Enable HTTPS on an Azure CDN custom domain](../cdn/cdn-custom-ssl.md).</span></span>

## <a name="shared-access-signatures"></a><span data-ttu-id="ccd58-119">Les signatures d’accès partagé</span><span class="sxs-lookup"><span data-stu-id="ccd58-119">Shared Access Signatures</span></span>

<span data-ttu-id="ccd58-120">Si votre point de terminaison de stockage d’objets blob est configuré pour interdire l’accès anonyme en lecture, vous devrez fournir un jeton de [Signature d’accès partagé (SAP)](storage-dotnet-shared-access-signature-part-1.md) dans chaque demande d’émission effectuée vis-à-vis de votre domaine personnalisé.</span><span class="sxs-lookup"><span data-stu-id="ccd58-120">If your blob storage endpoint is configured to disallow anonymous read access, you will need to provide a [Shared Access Signature (SAS)](storage-dotnet-shared-access-signature-part-1.md) token in each request you make to your custom domain.</span></span> <span data-ttu-id="ccd58-121">Par défaut, les points de terminaison de stockage d’objets blob interdisent l’accès en lecture anonyme.</span><span class="sxs-lookup"><span data-stu-id="ccd58-121">By default, blob storage endpoints disallow anonymous read access.</span></span> <span data-ttu-id="ccd58-122">Consultez [Gestion de l’accès en lecture anonyme aux conteneurs et aux objets blob](storage-manage-access-to-resources.md) pour en savoir plus sur les signatures d’accès partagé.</span><span class="sxs-lookup"><span data-stu-id="ccd58-122">See [Managing anonymous read access to containers and blobs](storage-manage-access-to-resources.md) for more information on shared access signatures.</span></span>

<span data-ttu-id="ccd58-123">CDN Azure ne respecte pas les restrictions ajoutées au jeton SAP.</span><span class="sxs-lookup"><span data-stu-id="ccd58-123">Azure CDN does not respect any restrictions added to the SAS token.</span></span> <span data-ttu-id="ccd58-124">Par exemple, tous les jetons SAP ont un délai d’expiration.</span><span class="sxs-lookup"><span data-stu-id="ccd58-124">For example, all SAS tokens have an expiration time.</span></span> <span data-ttu-id="ccd58-125">Cela signifie que le contenu peut rester accessible même si la SAP est expirée, jusqu’à ce que ce contenu soit éliminé des nœuds de périphérie du CDN.</span><span class="sxs-lookup"><span data-stu-id="ccd58-125">This means that content can still be accessed with an expired SAS until that content is purged from the CDN edge nodes.</span></span> <span data-ttu-id="ccd58-126">Vous pouvez contrôler la durée pendant laquelle données mises en cache sur le CDN en définissant l’en-tête de réponse du cache.</span><span class="sxs-lookup"><span data-stu-id="ccd58-126">You can control how long data is cached on the CDN by setting the cache response header.</span></span> <span data-ttu-id="ccd58-127">Consultez la rubrique [Gérer l’expiration des objets blob de stockage Azure dans CDN Azure](../cdn/cdn-manage-expiration-of-blob-content.md) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="ccd58-127">See [Managing expiration of Azure Storage blobs in Azure CDN](../cdn/cdn-manage-expiration-of-blob-content.md) for instructions.</span></span>

<span data-ttu-id="ccd58-128">Si vous créez plusieurs URL de SAP pour le même point de terminaison d’objets blob, nous vous recommandons d’activer la chaîne de requête mise en cache pour votre CDN Azure.</span><span class="sxs-lookup"><span data-stu-id="ccd58-128">If you create multiple SAS URLs for the same blob endpoint, we recommend turning on query string caching for your Azure CDN.</span></span> <span data-ttu-id="ccd58-129">Cela permet de garantir que chaque URL est traitée comme une entité unique.</span><span class="sxs-lookup"><span data-stu-id="ccd58-129">This is to ensure that each URL is treated as a unique entity.</span></span> <span data-ttu-id="ccd58-130">Pour plus d’informations, consultez [Contrôle du comportement de mise en cache du CDN Azure avec des chaînes de requête](../cdn/cdn-query-string.md).</span><span class="sxs-lookup"><span data-stu-id="ccd58-130">See [Controlling Azure CDN caching behavior with query strings](../cdn/cdn-query-string.md) for more information.</span></span>

## <a name="http-to-https-redirection"></a><span data-ttu-id="ccd58-131">Redirection HTTP vers HTTPS</span><span class="sxs-lookup"><span data-stu-id="ccd58-131">HTTP to HTTPS redirection</span></span>

<span data-ttu-id="ccd58-132">Vous pouvez choisir de rediriger le trafic HTTP vers HTTPS.</span><span class="sxs-lookup"><span data-stu-id="ccd58-132">You can elect to redirect HTTP traffic to HTTPS.</span></span> <span data-ttu-id="ccd58-133">Cela nécessite l’utilisation de l’offre CDN Azure premium de Verizon.</span><span class="sxs-lookup"><span data-stu-id="ccd58-133">This requires use of the Azure CDN premium offering from Verizon.</span></span> <span data-ttu-id="ccd58-134">Vous devez [remplacer le comportement HTTP à l’aide du moteur de règles CDN Azure](../cdn/cdn-rules-engine.md) par la règle suivante :</span><span class="sxs-lookup"><span data-stu-id="ccd58-134">You need to [Override HTTP behavior using the Azure CDN rules engine](../cdn/cdn-rules-engine.md) with the following rule:</span></span>

![](./media/storage-https-custom-domain-cdn/redirect-to-https.png)

<span data-ttu-id="ccd58-135">« Cdn-endpoint-name » fait référence au nom que vous avez configuré pour votre point de terminaison CDN.</span><span class="sxs-lookup"><span data-stu-id="ccd58-135">“Cdn-endpoint-name” refers to the name that you configured for your CDN endpoint.</span></span> <span data-ttu-id="ccd58-136">Vous pouvez sélectionner cette valeur dans la liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="ccd58-136">You can select this value from the dropdown.</span></span> <span data-ttu-id="ccd58-137">« Origin-path » désigne le chemin d’accès au sein de votre compte de stockage d’origine dans lequel réside votre contenu statique.</span><span class="sxs-lookup"><span data-stu-id="ccd58-137">“Origin-path” refers to the path within your origin storage account where your static content resides.</span></span>
<span data-ttu-id="ccd58-138">Si vous hébergez tout le contenu statique dans un seul conteneur, remplacez « origine-path » par le nom de ce conteneur.</span><span class="sxs-lookup"><span data-stu-id="ccd58-138">If you are hosting all static content in a single container, replace “origin-path” with the name of that container.</span></span>

<span data-ttu-id="ccd58-139">Pour approfondir vos connaissances des règles, consultez les [fonctionnalités du moteur de règles de CDN Azure](../cdn/cdn-rules-engine-reference-features.md).</span><span class="sxs-lookup"><span data-stu-id="ccd58-139">For a deeper dive into rules, please see the [Azure CDN rules engine features](../cdn/cdn-rules-engine-reference-features.md).</span></span>

## <a name="pricing-and-billing"></a><span data-ttu-id="ccd58-140">Tarification et facturation</span><span class="sxs-lookup"><span data-stu-id="ccd58-140">Pricing and billing</span></span>

<span data-ttu-id="ccd58-141">Lorsque vous accédez à des objets blob via un CDN Azure, vous payez [le prix du stockage d’objets Blob](https://azure.microsoft.com/pricing/details/storage/blobs/) pour le trafic entre les nœuds de périphérie et l’origine (stockage d’objets Blob), et [les prix CDN](https://azure.microsoft.com/pricing/details/cdn/) pour l’accès aux données à partir des nœuds de périphérie.</span><span class="sxs-lookup"><span data-stu-id="ccd58-141">When you access blobs through an Azure CDN, you pay [Blob storage prices](https://azure.microsoft.com/pricing/details/storage/blobs/) for traffic between the edge nodes and the origin (Blob storage), and [CDN prices](https://azure.microsoft.com/pricing/details/cdn/) for data accessed from the edge nodes.</span></span>

<span data-ttu-id="ccd58-142">Par exemple, supposons que vous avez un compte de stockage dans l’ouest des États-Unis qui est accessible via un CDN Azure.</span><span class="sxs-lookup"><span data-stu-id="ccd58-142">For example, say you have a storage account in West US that is being accessed using an Azure CDN.</span></span> <span data-ttu-id="ccd58-143">Si une personne au Royaume-Uni tente d’accéder à un des objets blob de ce compte de stockage via le CDN, Azure vérifie d’abord le nœud de périphérie le plus proche du Royaume-Uni pour cet objet blob.</span><span class="sxs-lookup"><span data-stu-id="ccd58-143">If someone in the UK tries to access one of the blobs in that storage account via the CDN, Azure first checks the edge node closest to the UK for that blob.</span></span> <span data-ttu-id="ccd58-144">S’il est trouvé, il accède à cette copie de l’objet blob et utilise la tarification CDN, car l’accès se fait via le CDN.</span><span class="sxs-lookup"><span data-stu-id="ccd58-144">If found, it accesses that copy of the blob and will use CDN pricing, because it is being accessed on the CDN.</span></span> <span data-ttu-id="ccd58-145">Si ce n’est pas le cas, Azure copie l’objet blob vers le nœud de périphérie, ce qui entraîne des frais de sortie et de transaction tels que spécifiés dans la tarification du stockage d’objets Blob, et accède ensuite au fichier sur le nœud de périphérie, ce qui entraîne la facturation du CDN.</span><span class="sxs-lookup"><span data-stu-id="ccd58-145">If not found, Azure will copy the blob to the edge node, which will result in egress and transaction charges as specified in the Blob storage pricing, and then access the file on the edge node, which will result in CDN billing.</span></span>

<span data-ttu-id="ccd58-146">Lorsque vous examinez la [page de tarification de CDN](https://azure.microsoft.com/pricing/details/cdn/), notez que la prise en charge HTTPS pour les noms de domaine personnalisés est uniquement disponible pour le CDN Azure des produits Verizon (Standard ou Premium).</span><span class="sxs-lookup"><span data-stu-id="ccd58-146">When looking at the [CDN pricing page](https://azure.microsoft.com/pricing/details/cdn/), note that HTTPS support for custom domain names is only available for Azure CDN from Verizon products (Standard and Premium).</span></span>

## <a name="next-steps"></a><span data-ttu-id="ccd58-147">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="ccd58-147">Next steps</span></span>

[<span data-ttu-id="ccd58-148">Configurer un nom de domaine personnalisé pour un point de terminaison de stockage Blob</span><span class="sxs-lookup"><span data-stu-id="ccd58-148">Configure a custom domain name for your Blob storage endpoint</span></span>](storage-custom-domain-name.md)
