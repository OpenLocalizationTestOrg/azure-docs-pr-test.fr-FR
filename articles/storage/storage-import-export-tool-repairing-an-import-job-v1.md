---
title: "aaaRepairing un travail d’importation Azure Import/Export - v1 | Documents Microsoft"
description: "Découvrez comment un travail d’importation a été créé et exécuté à l’aide de toorepair hello Azure Import/Export service."
author: muralikk
manager: syadav
editor: tysonn
services: storage
documentationcenter: 
ms.assetid: 38cc16bd-ad55-4625-9a85-e1726c35fd1b
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/23/2017
ms.author: muralikk
ms.openlocfilehash: a9ed81f50cffd8ae6e0cb21b25a04815c2b51ee5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="repairing-an-import-job"></a><span data-ttu-id="afccf-103">Réparation d’un travail d’importation</span><span class="sxs-lookup"><span data-stu-id="afccf-103">Repairing an import job</span></span>
<span data-ttu-id="afccf-104">Hello service Microsoft Azure Import/Export risque d’échouer toocopy certains de vos fichiers ou les parties d’un fichier de toohello service Blob Windows Azure.</span><span class="sxs-lookup"><span data-stu-id="afccf-104">hello Microsoft Azure Import/Export service may fail toocopy some of your files or parts of a file toohello Windows Azure Blob service.</span></span> <span data-ttu-id="afccf-105">Voici quelques exemples de raisons de ces échecs :</span><span class="sxs-lookup"><span data-stu-id="afccf-105">Some reasons for failures include:</span></span>  
  
-   <span data-ttu-id="afccf-106">Fichiers endommagés</span><span class="sxs-lookup"><span data-stu-id="afccf-106">Corrupted files</span></span>  
  
-   <span data-ttu-id="afccf-107">Lecteurs endommagés</span><span class="sxs-lookup"><span data-stu-id="afccf-107">Damaged drives</span></span>  
  
-   <span data-ttu-id="afccf-108">clé de compte de stockage d’Hello changée pendant le transfert de fichier de hello.</span><span class="sxs-lookup"><span data-stu-id="afccf-108">hello storage account key changed while hello file was being transferred.</span></span>  
  
<span data-ttu-id="afccf-109">Vous pouvez exécuter hello outil d’importation/exportation de Microsoft Azure à l’importation de hello de fichiers journaux de copie du travail, et outil de hello téléchargera les fichiers manquants hello (ou les parties d’un fichier) travail d’importation toocomplete tooyour Windows Azure storage compte.</span><span class="sxs-lookup"><span data-stu-id="afccf-109">You can run hello Microsoft Azure Import/Export Tool with hello import job's copy log files, and hello tool will upload hello missing files (or parts of a file) tooyour Windows Azure storage account toocomplete import job.</span></span>  
  
## <a name="repairimport-parameters"></a><span data-ttu-id="afccf-110">Paramètres de RepairImport</span><span class="sxs-lookup"><span data-stu-id="afccf-110">RepairImport parameters</span></span>

<span data-ttu-id="afccf-111">Hello paramètres suivants peuvent être spécifiés avec **RepairImport**:</span><span class="sxs-lookup"><span data-stu-id="afccf-111">hello following parameters can be specified with **RepairImport**:</span></span> 
  
|||  
|-|-|  
|<span data-ttu-id="afccf-112">**/r:**&lt;RepairFile\></span><span class="sxs-lookup"><span data-stu-id="afccf-112">**/r:**<RepairFile\></span></span>|<span data-ttu-id="afccf-113">**Obligatoire.**</span><span class="sxs-lookup"><span data-stu-id="afccf-113">**Required.**</span></span> <span data-ttu-id="afccf-114">Chemin d’accès toohello fichier de réparation qui suit la progression de la réparation de hello hello et vous permet de tooresume une réparation interrompue.</span><span class="sxs-lookup"><span data-stu-id="afccf-114">Path toohello repair file, which tracks hello progress of hello repair, and allows you tooresume an interrupted repair.</span></span> <span data-ttu-id="afccf-115">Chaque disque ne doit avoir qu’un fichier de réparation.</span><span class="sxs-lookup"><span data-stu-id="afccf-115">Each drive must have one and only one repair file.</span></span> <span data-ttu-id="afccf-116">Lorsque vous démarrez une réparation pour un lecteur donné, vous passez hello chemin d’accès tooa réparer un fichier qui n’existe pas.</span><span class="sxs-lookup"><span data-stu-id="afccf-116">When you start a repair for a given drive, you will pass in hello path tooa repair file which does not yet exist.</span></span> <span data-ttu-id="afccf-117">tooresume une réparation interrompue, vous devez passer dans le nom d’un fichier existant de la réparation de hello.</span><span class="sxs-lookup"><span data-stu-id="afccf-117">tooresume an interrupted repair, you should pass in hello name of an existing repair file.</span></span> <span data-ttu-id="afccf-118">lecteur cible correspondant toohello d’Hello réparation fichier doit toujours être spécifié.</span><span class="sxs-lookup"><span data-stu-id="afccf-118">hello repair file corresponding toohello target drive must always be specified.</span></span>|  
|<span data-ttu-id="afccf-119">**/logdir:**&lt;LogDirectory\></span><span class="sxs-lookup"><span data-stu-id="afccf-119">**/logdir:**<LogDirectory\></span></span>|<span data-ttu-id="afccf-120">**Facultatif.**</span><span class="sxs-lookup"><span data-stu-id="afccf-120">**Optional.**</span></span> <span data-ttu-id="afccf-121">répertoire de journal Hello.</span><span class="sxs-lookup"><span data-stu-id="afccf-121">hello log directory.</span></span> <span data-ttu-id="afccf-122">Les fichiers journaux détaillés seront écrit toothis active.</span><span class="sxs-lookup"><span data-stu-id="afccf-122">Verbose log files will be written toothis directory.</span></span> <span data-ttu-id="afccf-123">Si aucun répertoire de journal est spécifié, répertoire actuel de hello sera utilisé comme répertoire de journal hello.</span><span class="sxs-lookup"><span data-stu-id="afccf-123">If no log directory is specified, hello current directory will be used as hello log directory.</span></span>|  
|<span data-ttu-id="afccf-124">**/d:**&lt;TargetDirectories\></span><span class="sxs-lookup"><span data-stu-id="afccf-124">**/d:**<TargetDirectories\></span></span>|<span data-ttu-id="afccf-125">**Obligatoire.**</span><span class="sxs-lookup"><span data-stu-id="afccf-125">**Required.**</span></span> <span data-ttu-id="afccf-126">Un ou plusieurs répertoires séparés par des points-virgules contenant hello des fichiers d’origine qui ont été importés.</span><span class="sxs-lookup"><span data-stu-id="afccf-126">One or more semicolon-separated directories that contain hello original files that were imported.</span></span> <span data-ttu-id="afccf-127">lecteur d’importation Hello peut-être également être utilisé, mais n’est pas nécessaire si d’autres emplacements de fichiers d’origine sont disponibles.</span><span class="sxs-lookup"><span data-stu-id="afccf-127">hello import drive may also be used, but is not required if alternate locations of original files are available.</span></span>|  
|<span data-ttu-id="afccf-128">**/bk:**&lt;BitLockerKey\></span><span class="sxs-lookup"><span data-stu-id="afccf-128">**/bk:**<BitLockerKey\></span></span>|<span data-ttu-id="afccf-129">**Facultatif.**</span><span class="sxs-lookup"><span data-stu-id="afccf-129">**Optional.**</span></span> <span data-ttu-id="afccf-130">Vous devez spécifier la clé de BitLocker hello si vous souhaitez hello outil toounlock un lecteur chiffré dans lequel les fichiers d’origine hello sont disponibles.</span><span class="sxs-lookup"><span data-stu-id="afccf-130">You should specify hello BitLocker key if you want hello tool toounlock an encrypted drive where hello original files are available.</span></span>|  
|<span data-ttu-id="afccf-131">**/sn:**&lt;StorageAccountName\></span><span class="sxs-lookup"><span data-stu-id="afccf-131">**/sn:**<StorageAccountName\></span></span>|<span data-ttu-id="afccf-132">**Obligatoire.**</span><span class="sxs-lookup"><span data-stu-id="afccf-132">**Required.**</span></span> <span data-ttu-id="afccf-133">tâche d’importation nom Hello hello du compte de stockage pour hello.</span><span class="sxs-lookup"><span data-stu-id="afccf-133">hello name of hello storage account for hello import job.</span></span>|  
|<span data-ttu-id="afccf-134">**/sk:**&lt;StorageAccountKey\></span><span class="sxs-lookup"><span data-stu-id="afccf-134">**/sk:**<StorageAccountKey\></span></span>|<span data-ttu-id="afccf-135">**Obligatoire** si et seulement si une SAP de conteneur n’est pas spécifiée.</span><span class="sxs-lookup"><span data-stu-id="afccf-135">**Required** if and only if a container SAS is not specified.</span></span> <span data-ttu-id="afccf-136">tâche d’importation de clé de compte Hello hello compte de stockage pour hello.</span><span class="sxs-lookup"><span data-stu-id="afccf-136">hello account key for hello storage account for hello import job.</span></span>|  
|<span data-ttu-id="afccf-137">**/csas:**&lt;ContainerSas\></span><span class="sxs-lookup"><span data-stu-id="afccf-137">**/csas:**<ContainerSas\></span></span>|<span data-ttu-id="afccf-138">**Requis** si et seulement si la clé de compte de stockage hello n’est pas spécifiée.</span><span class="sxs-lookup"><span data-stu-id="afccf-138">**Required** if and only if hello storage account key is not specified.</span></span> <span data-ttu-id="afccf-139">Hello SAP de conteneur pour accéder aux objets BLOB de hello associé au travail d’importation hello.</span><span class="sxs-lookup"><span data-stu-id="afccf-139">hello container SAS for accessing hello blobs associated with hello import job.</span></span>|  
|<span data-ttu-id="afccf-140">**/CopyLogFile:**&lt;DriveCopyLogFile\></span><span class="sxs-lookup"><span data-stu-id="afccf-140">**/CopyLogFile:**<DriveCopyLogFile\></span></span>|<span data-ttu-id="afccf-141">**Obligatoire.**</span><span class="sxs-lookup"><span data-stu-id="afccf-141">**Required.**</span></span> <span data-ttu-id="afccf-142">Chemin d’accès toohello lecteur fichier journal de copie (journal détaillé ou journal des erreurs).</span><span class="sxs-lookup"><span data-stu-id="afccf-142">Path toohello drive copy log file (either verbose log or error log).</span></span> <span data-ttu-id="afccf-143">fichier de Hello est généré par hello service Windows Azure Import/Export et peut être téléchargé à partir du stockage d’objets blob hello associé hello travail.</span><span class="sxs-lookup"><span data-stu-id="afccf-143">hello file is generated by hello Windows Azure Import/Export service and can be downloaded from hello blob storage associated with hello job.</span></span> <span data-ttu-id="afccf-144">fichier journal de copie Hello contient des informations sur les objets BLOB en échec ou les fichiers qui sont toobe réparé.</span><span class="sxs-lookup"><span data-stu-id="afccf-144">hello copy log file contains information about failed blobs or files which are toobe repaired.</span></span>|  
|<span data-ttu-id="afccf-145">**/PathMapFile:**&lt;DrivePathMapFile\></span><span class="sxs-lookup"><span data-stu-id="afccf-145">**/PathMapFile:**<DrivePathMapFile\></span></span>|<span data-ttu-id="afccf-146">**Facultatif.**</span><span class="sxs-lookup"><span data-stu-id="afccf-146">**Optional.**</span></span> <span data-ttu-id="afccf-147">Fichier texte tooa chemin d’accès peut être utilisé tooresolve ambiguïtés si vous avez plusieurs fichiers hello même nom que celui que vous importez dans hello même travail.</span><span class="sxs-lookup"><span data-stu-id="afccf-147">Path tooa text file that can be used tooresolve ambiguities if you have multiple files with hello same name that you were importing in hello same job.</span></span> <span data-ttu-id="afccf-148">outil hello première Hello est exécutée, elle peut remplir ce fichier avec tous les noms ambigus hello.</span><span class="sxs-lookup"><span data-stu-id="afccf-148">hello first time hello tool is run, it can populate this file with all of hello ambiguous names.</span></span> <span data-ttu-id="afccf-149">Les exécutions suivantes de l’outil de hello utilisera cette ambiguïtés au niveau du fichier tooresolve hello.</span><span class="sxs-lookup"><span data-stu-id="afccf-149">Subsequent runs of hello tool will use this file tooresolve hello ambiguities.</span></span>|  
  
## <a name="using-hello-repairimport-command"></a><span data-ttu-id="afccf-150">À l’aide de la commande RepairImport de hello</span><span class="sxs-lookup"><span data-stu-id="afccf-150">Using hello RepairImport command</span></span>  
<span data-ttu-id="afccf-151">toorepair d’importer des données par diffusion en continu des données de salutation réseau hello, vous devez spécifier les répertoires hello contenant les fichiers d’origine hello vous importez à l’aide de hello `/d` paramètre.</span><span class="sxs-lookup"><span data-stu-id="afccf-151">toorepair import data by streaming hello data over hello network, you must specify hello directories that contain hello original files you were importing using hello `/d` parameter.</span></span> <span data-ttu-id="afccf-152">Vous devez également spécifier le fichier journal de copie hello que vous avez téléchargé à partir de votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="afccf-152">You must also specify hello copy log file that you downloaded from your storage account.</span></span> <span data-ttu-id="afccf-153">Une ligne de commande classique de toorepair un travail d’importation avec des échecs partiels ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="afccf-153">A typical command line toorepair an import job with partial failures looks like:</span></span>  
  
```  
WAImportExport.exe RepairImport /r:C:\WAImportExport\9WM35C2V.rep /d:C:\Users\bob\Pictures;X:\BobBackup\photos /sn:bobmediaaccount /sk:VkGbrUqBWLYJ6zg1m29VOTrxpBgdNOlp+kp0C9MEdx3GELxmBw4hK94f7KysbbeKLDksg7VoN1W/a5UuM2zNgQ== /CopyLogFile:C:\WAImportExport\9WM35C2V.log  
```  
  
<span data-ttu-id="afccf-154">Hello Voici un exemple d’un fichier journal de copie.</span><span class="sxs-lookup"><span data-stu-id="afccf-154">hello following is an example of a copy log file.</span></span> <span data-ttu-id="afccf-155">Dans ce cas, une partie de 64 Ko d’un fichier a été endommagé sur le lecteur hello qui a été expédié pour le travail d’importation hello.</span><span class="sxs-lookup"><span data-stu-id="afccf-155">In this case, one 64K piece of a file was corrupted on hello drive that was shipped for hello import job.</span></span> <span data-ttu-id="afccf-156">Dans la mesure où il s’agit de hello seule erreur indiquée, reste hello d’objets BLOB de hello dans la tâche de hello ont été correctement importés.</span><span class="sxs-lookup"><span data-stu-id="afccf-156">Since this is hello only failure indicated, hello rest of hello blobs in hello job were successfully imported.</span></span>  
  
```xml
<?xml version="1.0" encoding="utf-8"?>  
<DriveLog>  
 <DriveId>9WM35C2V</DriveId>  
 <Blob Status="CompletedWithErrors">  
 <BlobPath>pictures/animals/koala.jpg</BlobPath>  
 <FilePath>\animals\koala.jpg</FilePath>  
 <Length>163840</Length>  
 <ImportDisposition Status="Overwritten">overwrite</ImportDisposition>  
 <PageRangeList>  
  <PageRange Offset="65536" Length="65536" Hash="AA2585F6F6FD01C4AD4256E018240CD4" Status="Corrupted" />  
 </PageRangeList>  
 </Blob>  
 <Status>CompletedWithErrors</Status>  
</DriveLog>  
```
  
<span data-ttu-id="afccf-157">Lorsque ce journal de copie est passé toohello outil d’importation/exportation Azure, outil de hello essaiera importation de hello toofinish pour ce fichier en copiant le contenu manquant de hello réseau hello.</span><span class="sxs-lookup"><span data-stu-id="afccf-157">When this copy log is passed toohello Azure Import/Export Tool, hello tool will try toofinish hello import for this file by copying hello missing contents across hello network.</span></span> <span data-ttu-id="afccf-158">Selon l’exemple hello ci-dessus, outil de hello recherchera les fichiers d’origine hello `\animals\koala.jpg` dans les répertoires hello deux `C:\Users\bob\Pictures` et `X:\BobBackup\photos`.</span><span class="sxs-lookup"><span data-stu-id="afccf-158">Following hello example above, hello tool will look for hello original file `\animals\koala.jpg` within hello two directories `C:\Users\bob\Pictures` and `X:\BobBackup\photos`.</span></span> <span data-ttu-id="afccf-159">Si hello fichier `C:\Users\bob\Pictures\animals\koala.jpg` existe, hello outil d’importation/exportation Azure copie hello la plage manquante de l’objet blob de données toohello correspondant `http://bobmediaaccount.blob.core.windows.net/pictures/animals/koala.jpg`.</span><span class="sxs-lookup"><span data-stu-id="afccf-159">If hello file `C:\Users\bob\Pictures\animals\koala.jpg` exists, hello Azure Import/Export Tool will copy hello missing range of data toohello corresponding blob `http://bobmediaaccount.blob.core.windows.net/pictures/animals/koala.jpg`.</span></span>  
  
## <a name="resolving-conflicts-when-using-repairimport"></a><span data-ttu-id="afccf-160">Résolution des conflits lors de l’utilisation de RepairImport</span><span class="sxs-lookup"><span data-stu-id="afccf-160">Resolving conflicts when using RepairImport</span></span>  
<span data-ttu-id="afccf-161">Dans certaines situations, outil de hello peut-être pas toofind en mesure ou un fichier de nécessaires hello ouvert pour l’une des hello suivant raisons : Impossible de trouver le fichier de hello, fichier de hello n’est pas accessible, nom de fichier hello est ambigu ou le contenu du fichier de hello hello n’est plus approprié.</span><span class="sxs-lookup"><span data-stu-id="afccf-161">In some situations, hello tool may not be able toofind or open hello necessary file for one of hello following reasons: hello file could not be found, hello file is not accessible, hello file name is ambiguous, or hello content of hello file is no longer correct.</span></span>  
  
<span data-ttu-id="afccf-162">Une erreur ambiguë peut se produire si l’outil de hello tente toolocate `\animals\koala.jpg` et qu’il existe un fichier portant ce nom dans les répertoires `C:\Users\bob\pictures` et `X:\BobBackup\photos`.</span><span class="sxs-lookup"><span data-stu-id="afccf-162">An ambiguous error could occur if hello tool is trying toolocate `\animals\koala.jpg` and there is a file with that name under both `C:\Users\bob\pictures` and `X:\BobBackup\photos`.</span></span> <span data-ttu-id="afccf-163">Autrement dit, les deux `C:\Users\bob\pictures\animals\koala.jpg` et `X:\BobBackup\photos\animals\koala.jpg` existent sur des lecteurs de travail d’importation hello.</span><span class="sxs-lookup"><span data-stu-id="afccf-163">That is, both `C:\Users\bob\pictures\animals\koala.jpg` and `X:\BobBackup\photos\animals\koala.jpg` exist on hello import job drives.</span></span>  
  
<span data-ttu-id="afccf-164">Hello `/PathMapFile` option vous permettra de tooresolve ces erreurs.</span><span class="sxs-lookup"><span data-stu-id="afccf-164">hello `/PathMapFile` option will allow you tooresolve these errors.</span></span> <span data-ttu-id="afccf-165">Vous pouvez spécifier le nom hello du fichier hello qui contiendra la liste hello des fichiers hello outil n’a pas pu identifier de toocorrectly.</span><span class="sxs-lookup"><span data-stu-id="afccf-165">You can specify hello name of hello file which will contains hello list of files that hello tool was not able toocorrectly identify.</span></span> <span data-ttu-id="afccf-166">Hello Voici un exemple de ligne de commande qui remplirait `9WM35C2V_pathmap.txt`:</span><span class="sxs-lookup"><span data-stu-id="afccf-166">hello following is an example command line that would populate `9WM35C2V_pathmap.txt`:</span></span>  
  
```
WAImportExport.exe RepairImport /r:C:\WAImportExport\9WM35C2V.rep /d:C:\Users\bob\Pictures;X:\BobBackup\photos /sn:bobmediaaccount /sk:VkGbrUqBWLYJ6zg1m29VOTrxpBgdNOlp+kp0C9MEdx3GELxmBw4hK94f7KysbbeKLDksg7VoN1W/a5UuM2zNgQ== /CopyLogFile:C:\WAImportExport\9WM35C2V.log /PathMapFile:C:\WAImportExport\9WM35C2V_pathmap.txt  
```
  
<span data-ttu-id="afccf-167">Hello outil écrira ensuite hello problématique chemins d’accès trop`9WM35C2V_pathmap.txt`, une sur chaque ligne.</span><span class="sxs-lookup"><span data-stu-id="afccf-167">hello tool will then write hello problematic file paths too`9WM35C2V_pathmap.txt`, one on each line.</span></span> <span data-ttu-id="afccf-168">Par exemple, fichier de hello peut contenir des hello suivant entrées après avoir exécuté la commande hello :</span><span class="sxs-lookup"><span data-stu-id="afccf-168">For instance, hello file may contain hello following entries after running hello command:</span></span>  
 
```
\animals\koala.jpg  
\animals\kangaroo.jpg  
```
  
 <span data-ttu-id="afccf-169">Pour chaque fichier dans la liste de hello, vous devez tenter de toolocate et ouvrez hello tooensure de fichier toohello disponible outil.</span><span class="sxs-lookup"><span data-stu-id="afccf-169">For each file in hello list, you should attempt toolocate and open hello file tooensure it is available toohello tool.</span></span> <span data-ttu-id="afccf-170">Si vous le souhaitez outil de hello tootell explicitement toofind un fichier, vous pouvez modifier le chemin d’accès de hello mapper le fichier et ajouter le fichier de tooeach de chemin d’accès hello sur hello même ligne, séparé par un caractère de tabulation :</span><span class="sxs-lookup"><span data-stu-id="afccf-170">If you wish tootell hello tool explicitly where toofind a file, you can modify hello path map file and add hello path tooeach file on hello same line, separated by a tab character:</span></span>  
  
```
\animals\koala.jpg           C:\Users\bob\Pictures\animals\koala.jpg  
\animals\kangaroo.jpg        X:\BobBackup\photos\animals\kangaroo.jpg  
```
  
<span data-ttu-id="afccf-171">Après avoir outil toohello disponible de fichiers nécessaires en hello, ou fichier de mappage de chemin d’accès hello mise à jour, vous pouvez réexécuter le processus d’importation hello outil toocomplete hello.</span><span class="sxs-lookup"><span data-stu-id="afccf-171">After making hello necessary files available toohello tool, or updating hello path map file, you can rerun hello tool toocomplete hello import process.</span></span>  
  
## <a name="next-steps"></a><span data-ttu-id="afccf-172">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="afccf-172">Next steps</span></span>
 
* [<span data-ttu-id="afccf-173">Configuration des hello, outil d’importation/exportation Azure</span><span class="sxs-lookup"><span data-stu-id="afccf-173">Setting Up hello Azure Import/Export Tool</span></span>](storage-import-export-tool-setup-v1.md)   
* [<span data-ttu-id="afccf-174">Préparation des disques durs pour un travail d’importation</span><span class="sxs-lookup"><span data-stu-id="afccf-174">Preparing hard drives for an import job</span></span>](storage-import-export-tool-preparing-hard-drives-import-v1.md)   
* [<span data-ttu-id="afccf-175">Consultation de l’état du travail avec les fichiers journaux de copie</span><span class="sxs-lookup"><span data-stu-id="afccf-175">Reviewing job status with copy log files</span></span>](storage-import-export-tool-reviewing-job-status-v1.md)   
* [<span data-ttu-id="afccf-176">Réparation d’un travail d’exportation</span><span class="sxs-lookup"><span data-stu-id="afccf-176">Repairing an export job</span></span>](storage-import-export-tool-repairing-an-export-job-v1.md)   
* [<span data-ttu-id="afccf-177">Résolution des problèmes de hello outil d’importation/exportation Azure</span><span class="sxs-lookup"><span data-stu-id="afccf-177">Troubleshooting hello Azure Import/Export Tool</span></span>](storage-import-export-tool-troubleshooting-v1.md)
