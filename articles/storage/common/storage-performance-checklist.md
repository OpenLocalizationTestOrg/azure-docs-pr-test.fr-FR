---
title: "aide-mémoire de performances et l’évolutivité de stockage aaaAzure | Documents Microsoft"
description: "Une liste des pratiques éprouvées à utiliser avec Azure Storage dans le développement d’applications performantes."
services: storage
documentationcenter: 
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: 959d831b-a4fd-4634-a646-0d2c0c462ef8
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 12/08/2016
ms.author: robinsh
ms.openlocfilehash: c2970c055d460070288d1810e4a77a7f056a4137
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="microsoft-azure-storage-performance-and-scalability-checklist"></a><span data-ttu-id="4d309-103">Liste de contrôle des performances et de l’extensibilité de Microsoft Azure Storage</span><span class="sxs-lookup"><span data-stu-id="4d309-103">Microsoft Azure Storage Performance and Scalability Checklist</span></span>
## <a name="overview"></a><span data-ttu-id="4d309-104">Vue d'ensemble</span><span class="sxs-lookup"><span data-stu-id="4d309-104">Overview</span></span>
<span data-ttu-id="4d309-105">Depuis la version hello de services de stockage Microsoft Azure hello, Microsoft a développé un nombre de pratiques éprouvées pour l’utilisation de ces services de manière performant, et cet article sert tooconsolidate hello plus importants d'entre eux dans une liste de style de la liste de vérification.</span><span class="sxs-lookup"><span data-stu-id="4d309-105">Since hello release of hello Microsoft Azure Storage services, Microsoft has developed a number of proven practices for using these services in a performant manner, and this article serves tooconsolidate hello most important of them into a checklist-style list.</span></span> <span data-ttu-id="4d309-106">intention de Hello de cet article est les développeurs d’applications toohelp vérifier qu’ils utilisent des pratiques éprouvées avec toohelp les identifient les autres pratiques éprouvées, qu'ils doivent envisager l’adoption et le stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4d309-106">hello intention of this article is toohelp application developers verify they are using proven practices with Azure Storage and toohelp them identify other proven practices they should consider adopting.</span></span> <span data-ttu-id="4d309-107">Cet article ne tente pas de toocover chaque optimisation des performances et évolutivité possible, il exclut les celles qui sont petites dans leur impact ou non largement applicable.</span><span class="sxs-lookup"><span data-stu-id="4d309-107">This article does not attempt toocover every possible performance and scalability optimization — it excludes those that are small in their impact or not broadly applicable.</span></span> <span data-ttu-id="4d309-108">étendue toohello hello le comportement de l’application peut être prédite lors de la conception, il est utile tookeep dans à l’esprit dès le début des conceptions tooavoid qui seront exécute dans des problèmes de performances.</span><span class="sxs-lookup"><span data-stu-id="4d309-108">toohello extent that hello application's behavior can be predicted during design, it's useful tookeep these in mind early on tooavoid designs that will run into performance problems.</span></span>  

<span data-ttu-id="4d309-109">Chaque développeur d’applications à l’aide du stockage Azure doit prendre hello temps tooread cet article et vérifiez que son application suit chaque hello ci-dessous des pratiques éprouvées.</span><span class="sxs-lookup"><span data-stu-id="4d309-109">Every application developer using Azure Storage should take hello time tooread this article, and check that his or her application follows each of hello proven practices listed below.</span></span>  

## <a name="checklist"></a><span data-ttu-id="4d309-110">Liste de contrôle</span><span class="sxs-lookup"><span data-stu-id="4d309-110">Checklist</span></span>
<span data-ttu-id="4d309-111">Cet article organise les pratiques éprouvée de hello en hello les groupes suivants.</span><span class="sxs-lookup"><span data-stu-id="4d309-111">This article organizes hello proven practices into hello following groups.</span></span> <span data-ttu-id="4d309-112">Pratiques éprouvées applicables aux éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="4d309-112">Proven practices applicable to:</span></span>  

* <span data-ttu-id="4d309-113">Tous les services Azure Storage (objets blob, tables, files d’attente et fichiers)</span><span class="sxs-lookup"><span data-stu-id="4d309-113">All Azure Storage services (blobs, tables, queues, and files)</span></span>
* <span data-ttu-id="4d309-114">Objets blob</span><span class="sxs-lookup"><span data-stu-id="4d309-114">Blobs</span></span>
* <span data-ttu-id="4d309-115">Tables</span><span class="sxs-lookup"><span data-stu-id="4d309-115">Tables</span></span>
* <span data-ttu-id="4d309-116">Files d’attente</span><span class="sxs-lookup"><span data-stu-id="4d309-116">Queues</span></span>  

| <span data-ttu-id="4d309-117">Terminé</span><span class="sxs-lookup"><span data-stu-id="4d309-117">Done</span></span> | <span data-ttu-id="4d309-118">Domaine</span><span class="sxs-lookup"><span data-stu-id="4d309-118">Area</span></span> | <span data-ttu-id="4d309-119">Catégorie</span><span class="sxs-lookup"><span data-stu-id="4d309-119">Category</span></span> | <span data-ttu-id="4d309-120">Question</span><span class="sxs-lookup"><span data-stu-id="4d309-120">Question</span></span> |
| --- | --- | --- | --- |
| &nbsp; | <span data-ttu-id="4d309-121">Tous les services</span><span class="sxs-lookup"><span data-stu-id="4d309-121">All Services</span></span> |<span data-ttu-id="4d309-122">Objectifs d'évolutivité</span><span class="sxs-lookup"><span data-stu-id="4d309-122">Scalability Targets</span></span> |[<span data-ttu-id="4d309-123">Votre tooavoid application conçue est proche des objectifs d’évolutivité hello ?</span><span class="sxs-lookup"><span data-stu-id="4d309-123">Is your application designed tooavoid approaching hello scalability targets?</span></span>](#subheading1) |
| &nbsp; | <span data-ttu-id="4d309-124">Tous les services</span><span class="sxs-lookup"><span data-stu-id="4d309-124">All Services</span></span> |<span data-ttu-id="4d309-125">Objectifs d'évolutivité</span><span class="sxs-lookup"><span data-stu-id="4d309-125">Scalability Targets</span></span> |[<span data-ttu-id="4d309-126">Est votre tooenable conçue de convention d’affectation de noms mieux l’équilibrage de charge ?</span><span class="sxs-lookup"><span data-stu-id="4d309-126">Is your naming convention designed tooenable better load-balancing?</span></span>](#subheading47) |
| &nbsp; | <span data-ttu-id="4d309-127">Tous les services</span><span class="sxs-lookup"><span data-stu-id="4d309-127">All Services</span></span> |<span data-ttu-id="4d309-128">Mise en réseau</span><span class="sxs-lookup"><span data-stu-id="4d309-128">Networking</span></span> |[<span data-ttu-id="4d309-129">Les périphériques clients côté ont-ils suffisamment large bande passante et les performances de hello tooachieve de faible latence nécessaire ?</span><span class="sxs-lookup"><span data-stu-id="4d309-129">Do client side devices have sufficiently high bandwidth and low latency tooachieve hello performance needed?</span></span>](#subheading2) |
| &nbsp; | <span data-ttu-id="4d309-130">Tous les services</span><span class="sxs-lookup"><span data-stu-id="4d309-130">All Services</span></span> |<span data-ttu-id="4d309-131">Mise en réseau</span><span class="sxs-lookup"><span data-stu-id="4d309-131">Networking</span></span> |[<span data-ttu-id="4d309-132">La qualité de la liaison des appareils côté client est-elle suffisamment élevée ?</span><span class="sxs-lookup"><span data-stu-id="4d309-132">Do client side devices have a high enough quality link?</span></span>](#subheading3) |
| &nbsp; | <span data-ttu-id="4d309-133">Tous les services</span><span class="sxs-lookup"><span data-stu-id="4d309-133">All Services</span></span> |<span data-ttu-id="4d309-134">Mise en réseau</span><span class="sxs-lookup"><span data-stu-id="4d309-134">Networking</span></span> |[<span data-ttu-id="4d309-135">Application cliente de hello se trouve « près de « compte de stockage hello ?</span><span class="sxs-lookup"><span data-stu-id="4d309-135">Is hello client application located "near" hello storage account?</span></span>](#subheading4) |
| &nbsp; | <span data-ttu-id="4d309-136">Tous les services</span><span class="sxs-lookup"><span data-stu-id="4d309-136">All Services</span></span> |<span data-ttu-id="4d309-137">Distribution de contenu</span><span class="sxs-lookup"><span data-stu-id="4d309-137">Content Distribution</span></span> |[<span data-ttu-id="4d309-138">Utilisez-vous un CDN pour la distribution de contenu ?</span><span class="sxs-lookup"><span data-stu-id="4d309-138">Are you using a CDN for content distribution?</span></span>](#subheading5) |
| &nbsp; | <span data-ttu-id="4d309-139">Tous les services</span><span class="sxs-lookup"><span data-stu-id="4d309-139">All Services</span></span> |<span data-ttu-id="4d309-140">Accès direct au client</span><span class="sxs-lookup"><span data-stu-id="4d309-140">Direct Client Access</span></span> |[<span data-ttu-id="4d309-141">Vous utilisez SAS et CORS toostorage d’un accès direct tooallow au lieu de proxy</span><span class="sxs-lookup"><span data-stu-id="4d309-141">Are you using SAS and CORS tooallow direct access toostorage instead of proxy?</span></span>](#subheading6) |
| &nbsp; | <span data-ttu-id="4d309-142">Tous les services</span><span class="sxs-lookup"><span data-stu-id="4d309-142">All Services</span></span> |<span data-ttu-id="4d309-143">Mise en cache</span><span class="sxs-lookup"><span data-stu-id="4d309-143">Caching</span></span> |[<span data-ttu-id="4d309-144">Votre application met-elle en cache les données qui sont utilisées fréquemment et qui changent rarement ?</span><span class="sxs-lookup"><span data-stu-id="4d309-144">Is your application caching data that is repeatedly used and changes rarely?</span></span>](#subheading7) |
| &nbsp; | <span data-ttu-id="4d309-145">Tous les services</span><span class="sxs-lookup"><span data-stu-id="4d309-145">All Services</span></span> |<span data-ttu-id="4d309-146">Mise en cache</span><span class="sxs-lookup"><span data-stu-id="4d309-146">Caching</span></span> |[<span data-ttu-id="4d309-147">Votre application traite-t-elle les mises à jour par lots (mise en cache côté client, suivie du téléchargement dans des ensembles plus grands) ?</span><span class="sxs-lookup"><span data-stu-id="4d309-147">Is your application batching updates (caching them client side and then uploading in larger sets)?</span></span>](#subheading8) |
| &nbsp; | <span data-ttu-id="4d309-148">Tous les services</span><span class="sxs-lookup"><span data-stu-id="4d309-148">All Services</span></span> |<span data-ttu-id="4d309-149">Configuration .NET</span><span class="sxs-lookup"><span data-stu-id="4d309-149">.NET Configuration</span></span> |[<span data-ttu-id="4d309-150">Vous avez configuré votre toouse client un nombre suffisant de connexions simultanées ?</span><span class="sxs-lookup"><span data-stu-id="4d309-150">Have you configured your client toouse a sufficient number of concurrent connections?</span></span>](#subheading9) |
| &nbsp; | <span data-ttu-id="4d309-151">Tous les services</span><span class="sxs-lookup"><span data-stu-id="4d309-151">All Services</span></span> |<span data-ttu-id="4d309-152">Configuration .NET</span><span class="sxs-lookup"><span data-stu-id="4d309-152">.NET Configuration</span></span> |[<span data-ttu-id="4d309-153">Vous avez configuré .NET toouse un nombre suffisant de threads ?</span><span class="sxs-lookup"><span data-stu-id="4d309-153">Have you configured .NET toouse a sufficient number of threads?</span></span>](#subheading10) |
| &nbsp; | <span data-ttu-id="4d309-154">Tous les services</span><span class="sxs-lookup"><span data-stu-id="4d309-154">All Services</span></span> |<span data-ttu-id="4d309-155">Configuration .NET</span><span class="sxs-lookup"><span data-stu-id="4d309-155">.NET Configuration</span></span> |[<span data-ttu-id="4d309-156">Utilisez-vous .NET 4.5 ou version ultérieure, qui présente une méthode de nettoyage de mémoire optimisée ?</span><span class="sxs-lookup"><span data-stu-id="4d309-156">Are you using .NET 4.5 or later, which has improved garbage collection?</span></span>](#subheading11) |
| &nbsp; | <span data-ttu-id="4d309-157">Tous les services</span><span class="sxs-lookup"><span data-stu-id="4d309-157">All Services</span></span> |<span data-ttu-id="4d309-158">Parallélisme</span><span class="sxs-lookup"><span data-stu-id="4d309-158">Parallelism</span></span> |[<span data-ttu-id="4d309-159">Vous assurez que parallélisme est limité en conséquence afin que vous ne surchargez pas vos fonctionnalités d’un client ou un objectifs d’évolutivité hello ?</span><span class="sxs-lookup"><span data-stu-id="4d309-159">Have you ensured that parallelism is bounded appropriately so that you don't overload either your client capabilities or hello scalability targets?</span></span>](#subheading12) |
| &nbsp; | <span data-ttu-id="4d309-160">Tous les services</span><span class="sxs-lookup"><span data-stu-id="4d309-160">All Services</span></span> |<span data-ttu-id="4d309-161">Outils</span><span class="sxs-lookup"><span data-stu-id="4d309-161">Tools</span></span> |[<span data-ttu-id="4d309-162">Vous utilisez la version la plus récente de Microsoft hello fourni outils et bibliothèques clientes</span><span class="sxs-lookup"><span data-stu-id="4d309-162">Are you using hello latest version of Microsoft provided client libraries and tools?</span></span>](#subheading13) |
| &nbsp; | <span data-ttu-id="4d309-163">Tous les services</span><span class="sxs-lookup"><span data-stu-id="4d309-163">All Services</span></span> |<span data-ttu-id="4d309-164">Nouvelle tentatives</span><span class="sxs-lookup"><span data-stu-id="4d309-164">Retries</span></span> |[<span data-ttu-id="4d309-165">Utilisez-vous une stratégie de nouvelles tentatives d'interruption exponentielle pour les erreurs de limitation et les délais d'expiration ?</span><span class="sxs-lookup"><span data-stu-id="4d309-165">Are you using an exponential backoff retry policy for throttling errors and timeouts?</span></span>](#subheading14) |
| &nbsp; | <span data-ttu-id="4d309-166">Tous les services</span><span class="sxs-lookup"><span data-stu-id="4d309-166">All Services</span></span> |<span data-ttu-id="4d309-167">Nouvelle tentatives</span><span class="sxs-lookup"><span data-stu-id="4d309-167">Retries</span></span> |[<span data-ttu-id="4d309-168">Votre application empêche-t-elle les nouvelles tentatives pour les erreurs non renouvelables ?</span><span class="sxs-lookup"><span data-stu-id="4d309-168">Is your application avoiding retries for non-retryable errors?</span></span>](#subheading15) |
| &nbsp; | <span data-ttu-id="4d309-169">Objets blob</span><span class="sxs-lookup"><span data-stu-id="4d309-169">Blobs</span></span> |<span data-ttu-id="4d309-170">Objectifs d'évolutivité</span><span class="sxs-lookup"><span data-stu-id="4d309-170">Scalability Targets</span></span> |[<span data-ttu-id="4d309-171">Disposez-vous d’un grand nombre de clients qui accèdent simultanément à un seul objet ?</span><span class="sxs-lookup"><span data-stu-id="4d309-171">Do you have a large number of clients accessing a single object concurrently?</span></span>](#subheading46) |
| &nbsp; | <span data-ttu-id="4d309-172">Objets blob</span><span class="sxs-lookup"><span data-stu-id="4d309-172">Blobs</span></span> |<span data-ttu-id="4d309-173">Objectifs d'évolutivité</span><span class="sxs-lookup"><span data-stu-id="4d309-173">Scalability Targets</span></span> |[<span data-ttu-id="4d309-174">Votre application est rester au sein de la cible de l’évolutivité des opérations ou de la bande passante hello pour un seul objet blob ?</span><span class="sxs-lookup"><span data-stu-id="4d309-174">Is your application staying within hello bandwidth or operations scalability target for a single blob?</span></span>](#subheading16) |
| &nbsp; | <span data-ttu-id="4d309-175">Objets blob</span><span class="sxs-lookup"><span data-stu-id="4d309-175">Blobs</span></span> |<span data-ttu-id="4d309-176">Copie d'objets blob</span><span class="sxs-lookup"><span data-stu-id="4d309-176">Copying Blobs</span></span> |[<span data-ttu-id="4d309-177">La copie des objets blob s'effectue-t-elle de manière efficace ?</span><span class="sxs-lookup"><span data-stu-id="4d309-177">Are you copying blobs in an efficient manner?</span></span>](#subheading17) |
| &nbsp; | <span data-ttu-id="4d309-178">Objets blob</span><span class="sxs-lookup"><span data-stu-id="4d309-178">Blobs</span></span> |<span data-ttu-id="4d309-179">Copie d'objets blob</span><span class="sxs-lookup"><span data-stu-id="4d309-179">Copying Blobs</span></span> |[<span data-ttu-id="4d309-180">Utilisez-vous AzCopy pour les copies en bloc d'objets blob ?</span><span class="sxs-lookup"><span data-stu-id="4d309-180">Are you using AzCopy for bulk copies of blobs?</span></span>](#subheading18) |
| &nbsp; | <span data-ttu-id="4d309-181">Objets blob</span><span class="sxs-lookup"><span data-stu-id="4d309-181">Blobs</span></span> |<span data-ttu-id="4d309-182">Copie d'objets blob</span><span class="sxs-lookup"><span data-stu-id="4d309-182">Copying Blobs</span></span> |[<span data-ttu-id="4d309-183">Vous utilisez Azure Import/Export tootransfer très grands volumes de données ?</span><span class="sxs-lookup"><span data-stu-id="4d309-183">Are you using Azure Import/Export tootransfer very large volumes of data?</span></span>](#subheading19) |
| &nbsp; | <span data-ttu-id="4d309-184">Objets blob</span><span class="sxs-lookup"><span data-stu-id="4d309-184">Blobs</span></span> |<span data-ttu-id="4d309-185">Utilisation de métadonnées</span><span class="sxs-lookup"><span data-stu-id="4d309-185">Use Metadata</span></span> |[<span data-ttu-id="4d309-186">Stockez-vous des métadonnées fréquemment utilisées concernant des objets blob dans leurs métadonnées ?</span><span class="sxs-lookup"><span data-stu-id="4d309-186">Are you storing frequently used metadata about blobs in their metadata?</span></span>](#subheading20) |
| &nbsp; | <span data-ttu-id="4d309-187">Objets blob</span><span class="sxs-lookup"><span data-stu-id="4d309-187">Blobs</span></span> |<span data-ttu-id="4d309-188">Téléchargement rapide</span><span class="sxs-lookup"><span data-stu-id="4d309-188">Uploading Fast</span></span> |[<span data-ttu-id="4d309-189">Lorsque vous essayez un objet blob de tooupload rapidement, vous téléchargez les blocs en parallèle ?</span><span class="sxs-lookup"><span data-stu-id="4d309-189">When trying tooupload one blob quickly, are you uploading blocks in parallel?</span></span>](#subheading21) |
| &nbsp; | <span data-ttu-id="4d309-190">Objets blob</span><span class="sxs-lookup"><span data-stu-id="4d309-190">Blobs</span></span> |<span data-ttu-id="4d309-191">Téléchargement rapide</span><span class="sxs-lookup"><span data-stu-id="4d309-191">Uploading Fast</span></span> |[<span data-ttu-id="4d309-192">Lorsque vous essayez tooupload nombreux objets BLOB rapidement, vous téléchargez les objets BLOB en parallèle ?</span><span class="sxs-lookup"><span data-stu-id="4d309-192">When trying tooupload many blobs quickly, are you uploading blobs in parallel?</span></span>](#subheading22) |
| &nbsp; | <span data-ttu-id="4d309-193">Objets blob</span><span class="sxs-lookup"><span data-stu-id="4d309-193">Blobs</span></span> |<span data-ttu-id="4d309-194">Type d'objet blob correct</span><span class="sxs-lookup"><span data-stu-id="4d309-194">Correct Blob Type</span></span> |[<span data-ttu-id="4d309-195">Utilisez-vous des objets blob de pages ou de blocs lorsque cela s'avère approprié ?</span><span class="sxs-lookup"><span data-stu-id="4d309-195">Are you using page blobs or block blobs when appropriate?</span></span>](#subheading23) |
| &nbsp; | <span data-ttu-id="4d309-196">Tables</span><span class="sxs-lookup"><span data-stu-id="4d309-196">Tables</span></span> |<span data-ttu-id="4d309-197">Objectifs d'évolutivité</span><span class="sxs-lookup"><span data-stu-id="4d309-197">Scalability Targets</span></span> |[<span data-ttu-id="4d309-198">Sont vous approchant hello objectifs d’évolutivité pour les entités par seconde ?</span><span class="sxs-lookup"><span data-stu-id="4d309-198">Are you approaching hello scalability targets for entities per second?</span></span>](#subheading24) |
| &nbsp; | <span data-ttu-id="4d309-199">Tables</span><span class="sxs-lookup"><span data-stu-id="4d309-199">Tables</span></span> |<span data-ttu-id="4d309-200">Configuration</span><span class="sxs-lookup"><span data-stu-id="4d309-200">Configuration</span></span> |[<span data-ttu-id="4d309-201">Utilisez-vous JSON pour vos demandes de table ?</span><span class="sxs-lookup"><span data-stu-id="4d309-201">Are you using JSON for your table requests?</span></span>](#subheading25) |
| &nbsp; | <span data-ttu-id="4d309-202">Tables</span><span class="sxs-lookup"><span data-stu-id="4d309-202">Tables</span></span> |<span data-ttu-id="4d309-203">Configuration</span><span class="sxs-lookup"><span data-stu-id="4d309-203">Configuration</span></span> |[<span data-ttu-id="4d309-204">Avez vous désactivé Nagle tooimprove les performances de hello de petites requêtes ?</span><span class="sxs-lookup"><span data-stu-id="4d309-204">Have you turned Nagle off tooimprove hello performance of small requests?</span></span>](#subheading26) |
| &nbsp; | <span data-ttu-id="4d309-205">Tables</span><span class="sxs-lookup"><span data-stu-id="4d309-205">Tables</span></span> |<span data-ttu-id="4d309-206">Tables et partitions</span><span class="sxs-lookup"><span data-stu-id="4d309-206">Tables and Partitions</span></span> |[<span data-ttu-id="4d309-207">Avez-vous correctement partitionné vos données ?</span><span class="sxs-lookup"><span data-stu-id="4d309-207">Have you properly partitioned your data?</span></span>](#subheading27) |
| &nbsp; | <span data-ttu-id="4d309-208">Tables</span><span class="sxs-lookup"><span data-stu-id="4d309-208">Tables</span></span> |<span data-ttu-id="4d309-209">Partitions actives</span><span class="sxs-lookup"><span data-stu-id="4d309-209">Hot Partitions</span></span> |[<span data-ttu-id="4d309-210">Évitez-vous les modèles « Ajouter après uniquement » ou « Ajouter avant uniquement » ?</span><span class="sxs-lookup"><span data-stu-id="4d309-210">Are you avoiding append-only and prepend-only patterns?</span></span>](#subheading28) |
| &nbsp; | <span data-ttu-id="4d309-211">Tables</span><span class="sxs-lookup"><span data-stu-id="4d309-211">Tables</span></span> |<span data-ttu-id="4d309-212">Partitions actives</span><span class="sxs-lookup"><span data-stu-id="4d309-212">Hot Partitions</span></span> |[<span data-ttu-id="4d309-213">Vos opérations d'insertion/de mise à jour couvrent-elles plusieurs partitions ?</span><span class="sxs-lookup"><span data-stu-id="4d309-213">Are your inserts/updates spread across many partitions?</span></span>](#subheading29) |
| &nbsp; | <span data-ttu-id="4d309-214">Tables</span><span class="sxs-lookup"><span data-stu-id="4d309-214">Tables</span></span> |<span data-ttu-id="4d309-215">Étendue de requête</span><span class="sxs-lookup"><span data-stu-id="4d309-215">Query Scope</span></span> |[<span data-ttu-id="4d309-216">Avez conçu votre tooallow de schéma pour le point de requêtes toobe est utilisé dans la plupart des cas et toobe de requêtes de table utilisée avec parcimonie ?</span><span class="sxs-lookup"><span data-stu-id="4d309-216">Have you designed your schema tooallow for point queries toobe used in most cases, and table queries toobe used sparingly?</span></span>](#subheading30) |
| &nbsp; | <span data-ttu-id="4d309-217">Tables</span><span class="sxs-lookup"><span data-stu-id="4d309-217">Tables</span></span> |<span data-ttu-id="4d309-218">Densité des requêtes</span><span class="sxs-lookup"><span data-stu-id="4d309-218">Query Density</span></span> |[<span data-ttu-id="4d309-219">En règle générale, vos requêtes n'analysent et ne renvoient-elles que les lignes qui seront utilisées par votre application ?</span><span class="sxs-lookup"><span data-stu-id="4d309-219">Do your queries typically only scan and return rows that your application will use?</span></span>](#subheading31) |
| &nbsp; | <span data-ttu-id="4d309-220">Tables</span><span class="sxs-lookup"><span data-stu-id="4d309-220">Tables</span></span> |<span data-ttu-id="4d309-221">Limitation des données renvoyées</span><span class="sxs-lookup"><span data-stu-id="4d309-221">Limiting Returned Data</span></span> |[<span data-ttu-id="4d309-222">Vous utilisez le filtrage tooavoid retournant des entités qui ne sont pas nécessaires ?</span><span class="sxs-lookup"><span data-stu-id="4d309-222">Are you using filtering tooavoid returning entities that are not needed?</span></span>](#subheading32) |
| &nbsp; | <span data-ttu-id="4d309-223">Tables</span><span class="sxs-lookup"><span data-stu-id="4d309-223">Tables</span></span> |<span data-ttu-id="4d309-224">Limitation des données renvoyées</span><span class="sxs-lookup"><span data-stu-id="4d309-224">Limiting Returned Data</span></span> |[<span data-ttu-id="4d309-225">Vous utilisez tooavoid projection retourner des propriétés qui ne sont pas nécessaires ?</span><span class="sxs-lookup"><span data-stu-id="4d309-225">Are you using projection tooavoid returning properties that are not needed?</span></span>](#subheading33) |
| &nbsp; | <span data-ttu-id="4d309-226">Tables</span><span class="sxs-lookup"><span data-stu-id="4d309-226">Tables</span></span> |<span data-ttu-id="4d309-227">Dénormalisation</span><span class="sxs-lookup"><span data-stu-id="4d309-227">Denormalization</span></span> |[<span data-ttu-id="4d309-228">Avoir dénormalisée vos données telles que vous évitez des requêtes inefficaces ou plusieurs demandes de lecture lors de la tentative de tooget données ?</span><span class="sxs-lookup"><span data-stu-id="4d309-228">Have you denormalized your data such that you avoid inefficient queries or multiple read requests when trying tooget data?</span></span>](#subheading34) |
| &nbsp; | <span data-ttu-id="4d309-229">Tables</span><span class="sxs-lookup"><span data-stu-id="4d309-229">Tables</span></span> |<span data-ttu-id="4d309-230">Insertion/Mise à jour/Suppression</span><span class="sxs-lookup"><span data-stu-id="4d309-230">Insert/Update/Delete</span></span> |[<span data-ttu-id="4d309-231">Sont vous le traitement par lot les demandes qui doivent toobe transactionnelle ou peuvent être effectuées à hello même tooreduce allers-retours de temps ?</span><span class="sxs-lookup"><span data-stu-id="4d309-231">Are you batching requests that need toobe transactional or can be done at hello same time tooreduce round-trips?</span></span>](#subheading35) |
| &nbsp; | <span data-ttu-id="4d309-232">Tables</span><span class="sxs-lookup"><span data-stu-id="4d309-232">Tables</span></span> |<span data-ttu-id="4d309-233">Insertion/Mise à jour/Suppression</span><span class="sxs-lookup"><span data-stu-id="4d309-233">Insert/Update/Delete</span></span> |[<span data-ttu-id="4d309-234">Sont éviter la récupération d’un toodetermine simplement entité si toocall insérer ou mettre à jour ?</span><span class="sxs-lookup"><span data-stu-id="4d309-234">Are you avoiding retrieving an entity just toodetermine whether toocall insert or update?</span></span>](#subheading36) |
| &nbsp; | <span data-ttu-id="4d309-235">Tables</span><span class="sxs-lookup"><span data-stu-id="4d309-235">Tables</span></span> |<span data-ttu-id="4d309-236">Insertion/Mise à jour/Suppression</span><span class="sxs-lookup"><span data-stu-id="4d309-236">Insert/Update/Delete</span></span> |[<span data-ttu-id="4d309-237">Avez-vous envisagé de stocker des séries de données qui seront fréquemment récupérées ensemble dans une seule entité sous la forme de propriétés plutôt que d'entités multiples ?</span><span class="sxs-lookup"><span data-stu-id="4d309-237">Have you considered storing series of data that will frequently be retrieved together in a single entity as properties instead of multiple entities?</span></span>](#subheading37) |
| &nbsp; | <span data-ttu-id="4d309-238">Tables</span><span class="sxs-lookup"><span data-stu-id="4d309-238">Tables</span></span> |<span data-ttu-id="4d309-239">Insertion/Mise à jour/Suppression</span><span class="sxs-lookup"><span data-stu-id="4d309-239">Insert/Update/Delete</span></span> |[<span data-ttu-id="4d309-240">Dans le cas des tables qui sont toujours récupérées ensemble et qui peuvent être écrites par lots (des données de séries temporelles, par exemple), avez-vous envisagé d'utiliser des objets blob à la place de tables ?</span><span class="sxs-lookup"><span data-stu-id="4d309-240">For entities that will always be retrieved together and can be written in batches (e.g. time series data), have you considered using blobs instead of tables?</span></span>](#subheading38) |
| &nbsp; | <span data-ttu-id="4d309-241">Files d’attente</span><span class="sxs-lookup"><span data-stu-id="4d309-241">Queues</span></span> |<span data-ttu-id="4d309-242">Objectifs d'évolutivité</span><span class="sxs-lookup"><span data-stu-id="4d309-242">Scalability Targets</span></span> |[<span data-ttu-id="4d309-243">Sont vous approchant hello objectifs d’évolutivité pour les messages par seconde ?</span><span class="sxs-lookup"><span data-stu-id="4d309-243">Are you approaching hello scalability targets for messages per second?</span></span>](#subheading39) |
| &nbsp; | <span data-ttu-id="4d309-244">Files d’attente</span><span class="sxs-lookup"><span data-stu-id="4d309-244">Queues</span></span> |<span data-ttu-id="4d309-245">Configuration</span><span class="sxs-lookup"><span data-stu-id="4d309-245">Configuration</span></span> |[<span data-ttu-id="4d309-246">Avez vous désactivé Nagle tooimprove les performances de hello de petites requêtes ?</span><span class="sxs-lookup"><span data-stu-id="4d309-246">Have you turned Nagle off tooimprove hello performance of small requests?</span></span>](#subheading40) |
| &nbsp; | <span data-ttu-id="4d309-247">Files d’attente</span><span class="sxs-lookup"><span data-stu-id="4d309-247">Queues</span></span> |<span data-ttu-id="4d309-248">Taille des messages</span><span class="sxs-lookup"><span data-stu-id="4d309-248">Message Size</span></span> |[<span data-ttu-id="4d309-249">Sont des performances de hello tooimprove compact de file d’attente hello vos messages ?</span><span class="sxs-lookup"><span data-stu-id="4d309-249">Are your messages compact tooimprove hello performance of hello queue?</span></span>](#subheading41) |
| &nbsp; | <span data-ttu-id="4d309-250">Files d’attente</span><span class="sxs-lookup"><span data-stu-id="4d309-250">Queues</span></span> |<span data-ttu-id="4d309-251">Récupération en bloc</span><span class="sxs-lookup"><span data-stu-id="4d309-251">Bulk Retrieve</span></span> |[<span data-ttu-id="4d309-252">Récupérez-vous plusieurs messages dans une seule opération « Get » ?</span><span class="sxs-lookup"><span data-stu-id="4d309-252">Are you retrieving multiple messages in a single "Get" operation?</span></span>](#subheading42) |
| &nbsp; | <span data-ttu-id="4d309-253">Files d’attente</span><span class="sxs-lookup"><span data-stu-id="4d309-253">Queues</span></span> |<span data-ttu-id="4d309-254">Fréquence d'interrogation</span><span class="sxs-lookup"><span data-stu-id="4d309-254">Polling Frequency</span></span> |[<span data-ttu-id="4d309-255">Vous demandent souvent assez hello tooreduce la perception de la latence de votre application ?</span><span class="sxs-lookup"><span data-stu-id="4d309-255">Are you polling frequently enough tooreduce hello perceived latency of your application?</span></span>](#subheading43) |
| &nbsp; | <span data-ttu-id="4d309-256">Files d’attente</span><span class="sxs-lookup"><span data-stu-id="4d309-256">Queues</span></span> |<span data-ttu-id="4d309-257">Mise à jour de message</span><span class="sxs-lookup"><span data-stu-id="4d309-257">Update Message</span></span> |[<span data-ttu-id="4d309-258">Vous utilisez UpdateMessage toostore progression dans le traitement des messages, en évitant d’avoir le message entier de type hello tooreprocess si une erreur se produit ?</span><span class="sxs-lookup"><span data-stu-id="4d309-258">Are you using UpdateMessage toostore progress in processing messages, avoiding having tooreprocess hello entire message if an error occurs?</span></span>](#subheading44) |
| &nbsp; | <span data-ttu-id="4d309-259">Files d’attente</span><span class="sxs-lookup"><span data-stu-id="4d309-259">Queues</span></span> |<span data-ttu-id="4d309-260">Architecture</span><span class="sxs-lookup"><span data-stu-id="4d309-260">Architecture</span></span> |[<span data-ttu-id="4d309-261">Vous utilisez les files d’attente toomake toute votre application plus évolutive en conservant les charges de travail de longue hors critique hello et l’échelle puis indépendamment ?</span><span class="sxs-lookup"><span data-stu-id="4d309-261">Are you using queues toomake your entire application more scalable by keeping long-running workloads out of hello critical path and scale then independently?</span></span>](#subheading45) |

## <span data-ttu-id="4d309-262"><a name="allservices"></a>Tous les Services</span><span class="sxs-lookup"><span data-stu-id="4d309-262"><a name="allservices"></a>All Services</span></span>
<span data-ttu-id="4d309-263">Cette section répertorie les pratiques qui sont applicables toohello aucune utilisation de services de stockage Azure hello (objets BLOB, tables, files d’attente ou fichiers).</span><span class="sxs-lookup"><span data-stu-id="4d309-263">This section lists proven practices that are applicable toohello use of any of hello Azure Storage services (blobs, tables, queues, or files).</span></span>  

### <span data-ttu-id="4d309-264"><a name="subheading1"></a>Objectifs d’extensibilité</span><span class="sxs-lookup"><span data-stu-id="4d309-264"><a name="subheading1"></a>Scalability Targets</span></span>
<span data-ttu-id="4d309-265">Chacun des services de stockage Azure hello a les objectifs d’évolutivité de capacité (Go), taux de transactions et la bande passante.</span><span class="sxs-lookup"><span data-stu-id="4d309-265">Each of hello Azure Storage services has scalability targets for capacity (GB), transaction rate, and bandwidth.</span></span> <span data-ttu-id="4d309-266">Si votre application est proche ou dépasse les objectifs d’évolutivité hello, il peut rencontrer des temps de latence accrue des transactions ou de limitations.</span><span class="sxs-lookup"><span data-stu-id="4d309-266">If your application approaches or exceeds any of hello scalability targets, it may encounter increased transaction latencies or throttling.</span></span> <span data-ttu-id="4d309-267">Lorsqu’un service de stockage limite votre application, service de hello commence tooreturn « 503 serveur occupé » ou « délai d’attente de 500 opération » codes d’erreur pour certaines transactions de stockage.</span><span class="sxs-lookup"><span data-stu-id="4d309-267">When a Storage service throttles your application, hello service begins tooreturn "503 Server busy" or "500 Operation timeout" error codes for some storage transactions.</span></span> <span data-ttu-id="4d309-268">Cette section décrit les deux toodealing approche générale de hello avec les objectifs d’évolutivité et les objectifs d’évolutivité de la bande passante en particulier.</span><span class="sxs-lookup"><span data-stu-id="4d309-268">This section discusses both hello general approach toodealing with scalability targets and bandwidth scalability targets in particular.</span></span> <span data-ttu-id="4d309-269">Les sections suivantes qui traitent des services de stockage individuel discuter des objectifs d’extensibilité dans le contexte de hello de ce service spécifique :</span><span class="sxs-lookup"><span data-stu-id="4d309-269">Later sections that deal with individual storage services discuss scalability targets in hello context of that specific service:</span></span>  

* [<span data-ttu-id="4d309-270">Bande passante des objets blob et demandes par seconde</span><span class="sxs-lookup"><span data-stu-id="4d309-270">Blob bandwidth and requests per second</span></span>](#subheading16)
* [<span data-ttu-id="4d309-271">Entités de table par seconde</span><span class="sxs-lookup"><span data-stu-id="4d309-271">Table entities per second</span></span>](#subheading24)
* [<span data-ttu-id="4d309-272">Messages de file d’attente par seconde</span><span class="sxs-lookup"><span data-stu-id="4d309-272">Queue messages per second</span></span>](#subheading39)  

#### <span data-ttu-id="4d309-273"><a name="sub1bandwidth"></a>Cible d’extensibilité de bande passante pour tous les services</span><span class="sxs-lookup"><span data-stu-id="4d309-273"><a name="sub1bandwidth"></a>Bandwidth Scalability Target for All Services</span></span>
<span data-ttu-id="4d309-274">Au moment de l’écriture de hello, cibles de la bande passante hello dans le compte de hello US pour un stockage géo-redondant (GRS) sont 10 gigabits par seconde (Gbits/s) pour l’entrée (données envoyées de compte de stockage toohello) et 20 Gbits/s pour la sortie (les données envoyées à partir du compte de stockage hello).</span><span class="sxs-lookup"><span data-stu-id="4d309-274">At hello time of writing, hello bandwidth targets in hello US for a geo-redundant storage (GRS) account are 10 gigabits per second (Gbps) for ingress (data sent toohello storage account) and 20 Gbps for egress (data sent from hello storage account).</span></span> <span data-ttu-id="4d309-275">Pour un compte de stockage localement redondant (LRS), les limites de hello sont supérieurs – 20 Gbits/s pour l’entrée et de 30 Gbits/s pour les sorties.</span><span class="sxs-lookup"><span data-stu-id="4d309-275">For a locally redundant storage (LRS) account, hello limits are higher – 20 Gbps for ingress and 30 Gbps for egress.</span></span>  <span data-ttu-id="4d309-276">Les limites de bande passante internationales peuvent être inférieures. Pour les consulter, rendez-vous sur la [page traitant des objectifs d’extensibilité](http://msdn.microsoft.com/library/azure/dn249410.aspx).</span><span class="sxs-lookup"><span data-stu-id="4d309-276">International bandwidth limits may be lower and can be found on our [scalability targets page](http://msdn.microsoft.com/library/azure/dn249410.aspx).</span></span>  <span data-ttu-id="4d309-277">Pour plus d’informations sur les options de redondance de stockage hello, consultez les liens de hello dans [ressources utiles](#sub1useful) ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="4d309-277">For more information on hello storage redundancy options, see hello links in [Useful Resources](#sub1useful) below.</span></span>  

#### <a name="what-toodo-when-approaching-a-scalability-target"></a><span data-ttu-id="4d309-278">Le toodo lors de l’approche d’une cible d’évolutivité</span><span class="sxs-lookup"><span data-stu-id="4d309-278">What toodo when approaching a scalability target</span></span>
<span data-ttu-id="4d309-279">Si votre application est proche des objectifs d’évolutivité hello pour un seul compte de stockage, envisager d’adopter une des méthodes suivantes de hello :</span><span class="sxs-lookup"><span data-stu-id="4d309-279">If your application is approaching hello scalability targets for a single storage account, consider adopting one of hello following approaches:</span></span>  

* <span data-ttu-id="4d309-280">Reconsidérer la charge de travail hello provoque tooapproach de votre application ou dépasser hello évolutivité cible.</span><span class="sxs-lookup"><span data-stu-id="4d309-280">Reconsider hello workload that causes your application tooapproach or exceed hello scalability target.</span></span> <span data-ttu-id="4d309-281">Pourrez vous la concevez différemment toouse moins de bande passante ou de capacité ou moins de transactions ?</span><span class="sxs-lookup"><span data-stu-id="4d309-281">Can you design it differently toouse less bandwidth or capacity, or fewer transactions?</span></span>
* <span data-ttu-id="4d309-282">Si une application doit dépasser la valeur d’un des objectifs d’évolutivité hello, vous devez créer plusieurs comptes de stockage et la partition vos données d’application sur ces plusieurs comptes de stockage.</span><span class="sxs-lookup"><span data-stu-id="4d309-282">If an application must exceed one of hello scalability targets, you should create multiple storage accounts and partition your application data across those multiple storage accounts.</span></span> <span data-ttu-id="4d309-283">Si vous utilisez ce modèle, puis être toodesign que votre application afin que vous pouvez ajouter plusieurs comptes de stockage Bonjour future pour l’équilibrage de charge.</span><span class="sxs-lookup"><span data-stu-id="4d309-283">If you use this pattern, then be sure toodesign your application so that you can add more storage accounts in hello future for load balancing.</span></span> <span data-ttu-id="4d309-284">Au moment de l’écriture, chaque abonnement Azure peut avoir des comptes de stockage too100.</span><span class="sxs-lookup"><span data-stu-id="4d309-284">At time of writing, each Azure subscription can have up too100 storage accounts.</span></span>  <span data-ttu-id="4d309-285">De plus, aucun coût autre que l’utilisation en termes de données stockées, de transactions effectuées ou de données transférées n’est associé à ces comptes de stockage.</span><span class="sxs-lookup"><span data-stu-id="4d309-285">Storage accounts also have no cost other than your usage in terms of data stored, transactions made, or data transferred.</span></span>
* <span data-ttu-id="4d309-286">Si votre application rencontre des cibles de la bande passante hello, envisagez la compression des données dans hello client tooreduce hello la bande passante requise toosend hello toohello stockage service de données.</span><span class="sxs-lookup"><span data-stu-id="4d309-286">If your application hits hello bandwidth targets, consider compressing data in hello client tooreduce hello bandwidth required toosend hello data toohello storage service.</span></span>  <span data-ttu-id="4d309-287">Bien que cela puisse réduire la bande passante et améliorer les performances du réseau, cette méthode présente des aspects négatifs.</span><span class="sxs-lookup"><span data-stu-id="4d309-287">Note that while this may save bandwidth and improve network performance, it can also have some negative impacts.</span></span>  <span data-ttu-id="4d309-288">Vous devez évaluer l’impact sur les performances hello de cette échéance toohello les exigences de traitement supplémentaires pour compresser et décompresser les données hello client.</span><span class="sxs-lookup"><span data-stu-id="4d309-288">You should evaluate hello performance impact of this due toohello additional processing requirements for compressing and decompressing data in hello client.</span></span> <span data-ttu-id="4d309-289">En outre, le stockage des données compressées peut rendre plus difficile tootroubleshoot problèmes dans la mesure où il peut s’agir des données tooview stockée plus difficiles à l’aide d’outils standard.</span><span class="sxs-lookup"><span data-stu-id="4d309-289">In addition, storing compressed data can make it more difficult tootroubleshoot issues since it could be more difficult tooview stored data using standard tools.</span></span>
* <span data-ttu-id="4d309-290">Si votre application rencontre des objectifs d’évolutivité hello, assurez-vous que vous utilisez une interruption exponentielle des nouvelles tentatives (consultez [tentatives](#subheading14)).</span><span class="sxs-lookup"><span data-stu-id="4d309-290">If your application hits hello scalability targets, then ensure that you are using an exponential backoff for retries (see [Retries](#subheading14)).</span></span>  <span data-ttu-id="4d309-291">Ses meilleures toomake que vous approche jamais les objectifs d’évolutivité hello (en utilisant une des hello au-dessus de méthodes), mais cela permet de garantir votre application ne sera pas simplement une nouvelle tentative rapidement, rendre hello pire de limitation.</span><span class="sxs-lookup"><span data-stu-id="4d309-291">It's better toomake sure you never approach hello scalability targets (by using one of hello above methods), but this will ensure your application won't just keep retrying rapidly, making hello throttling worse.</span></span>  

#### <a name="useful-resources"></a><span data-ttu-id="4d309-292">Ressources utiles</span><span class="sxs-lookup"><span data-stu-id="4d309-292">Useful Resources</span></span>
<span data-ttu-id="4d309-293">Hello suivant liens fournit des détails supplémentaires sur les objectifs d’évolutivité :</span><span class="sxs-lookup"><span data-stu-id="4d309-293">hello following links provide additional detail on scalability targets:</span></span>

* <span data-ttu-id="4d309-294">Pour plus d’informations sur les objectifs d’extensibilité, consultez [Objectifs de performance et évolutivité d’Azure Storage](storage-scalability-targets.md) .</span><span class="sxs-lookup"><span data-stu-id="4d309-294">See [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md) for information about scalability targets.</span></span>
* <span data-ttu-id="4d309-295">Consultez [réplication de stockage Azure](storage-redundancy.md) et le billet de blog hello [Options de redondance de stockage Azure et Read Access Geo Redundant Storage](http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/11/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx) pour plus d’informations sur les options de redondance de stockage.</span><span class="sxs-lookup"><span data-stu-id="4d309-295">See [Azure Storage replication](storage-redundancy.md) and hello blog post [Azure Storage Redundancy Options and Read Access Geo Redundant Storage](http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/11/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx) for information about storage redundancy options.</span></span>
* <span data-ttu-id="4d309-296">Pour obtenir des informations à jour sur la tarification des services Azure, consultez la page [Tarification Azure](https://azure.microsoft.com/pricing/overview/).</span><span class="sxs-lookup"><span data-stu-id="4d309-296">For current information about pricing for Azure services, see [Azure pricing](https://azure.microsoft.com/pricing/overview/).</span></span>  

### <span data-ttu-id="4d309-297"><a name="subheading47"></a>Conventions d’affectation de noms aux partitions</span><span class="sxs-lookup"><span data-stu-id="4d309-297"><a name="subheading47"></a>Partition Naming Convention</span></span>
<span data-ttu-id="4d309-298">Le stockage Azure utilise un basée sur une plage partitionnement schéma tooscale et charge solde hello système.</span><span class="sxs-lookup"><span data-stu-id="4d309-298">Azure Storage uses a range-based partitioning scheme tooscale and load balance hello system.</span></span> <span data-ttu-id="4d309-299">clé de partition Hello est données toopartition utilisés dans les plages et ces plages sont équilibrées entre le système de hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-299">hello partition key is used toopartition data into ranges and these ranges are load-balanced across hello system.</span></span> <span data-ttu-id="4d309-300">Cela signifie que les conventions d’affectation de noms tels que lexicale de classement (par exemple, msftpayroll, msftperformance, msftemployees, etc.) ou d’à l’aide d’un horodatage (log20160101, log20160102, log20160102, etc.) seront prête partitions toohello étant potentiellement COLOCALISÉES sur hello même serveur de partition, jusqu'à ce qu’une opération d’équilibrage de charge les fractionne en plus petites plages.</span><span class="sxs-lookup"><span data-stu-id="4d309-300">This means naming conventions such as lexical ordering (e.g. msftpayroll, msftperformance, msftemployees, etc) or using time-stamps (log20160101, log20160102, log20160102, etc) will lend itself toohello partitions being potentially co-located on hello same partition server, until a load balancing operation splits them out into smaller ranges.</span></span> <span data-ttu-id="4d309-301">Par exemple, tous les objets BLOB dans un conteneur peuvent être pris en charge par un seul serveur jusqu'à ce que hello charge sur ces objets BLOB ne nécessite plus le rééquilibrage des plages de partition hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-301">For example, all blobs within a container can be served by a single server until hello load on these blobs requires further rebalancing of hello partition ranges.</span></span> <span data-ttu-id="4d309-302">De même, un groupe de comptes légèrement chargés avec leurs noms organisés dans l’ordre lexical peut-être être traité par un seul serveur jusqu'à ce que hello charger sur l’un ou de tous ces comptes ont besoin toobe fractionné entre plusieurs serveurs de partitions.</span><span class="sxs-lookup"><span data-stu-id="4d309-302">Similarly, a group of lightly loaded accounts with their names arranged in lexical order may be served by a single server until hello load on one or all of these accounts require them toobe split across multiple partitions servers.</span></span> <span data-ttu-id="4d309-303">Chaque opération d’équilibrage de charge peut affecter la latence hello d’appels de stockage au cours de l’opération de hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-303">Each load balancing operation may impact hello latency of storage calls during hello operation.</span></span> <span data-ttu-id="4d309-304">toohandle de capacité du système Hello qu'une soudaine de la partition de tooa le trafic est limitée par hello d’un serveur de partition unique jusqu'à ce que l’opération d’équilibrage de charge hello intervient dans et rééquilibrage de plage de clés de partition hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-304">hello system's ability toohandle a sudden burst of traffic tooa partition is limited by hello scalability of a single partition server until hello load balancing operation kicks-in and rebalances hello partition key range.</span></span>  

<span data-ttu-id="4d309-305">Vous pouvez suivre certaines fréquence de hello de tooreduce meilleures pratiques de ces opérations.</span><span class="sxs-lookup"><span data-stu-id="4d309-305">You can follow some best practices tooreduce hello frequency of such operations.</span></span>  

* <span data-ttu-id="4d309-306">Examinez la convention de dénomination hello qu'utiliser des comptes, conteneurs, objets BLOB, tables et files d’attente, en étroite collaboration.</span><span class="sxs-lookup"><span data-stu-id="4d309-306">Examine hello naming convention you use for accounts, containers, blobs, tables and queues, closely.</span></span> <span data-ttu-id="4d309-307">Vous pouvez ajouter un préfixe aux noms de comptes avec un hachage à 3 chiffres à l'aide d'une fonction de hachage qui correspond le mieux à vos besoins.</span><span class="sxs-lookup"><span data-stu-id="4d309-307">Consider prefixing account names with a 3-digit hash using a hashing function that best suits your needs.</span></span>  
* <span data-ttu-id="4d309-308">Si vous organisez vos données à l’aide d’horodatages ou les identificateurs numériques, vous avez tooensure vous n’utilisez pas un trafic ajout uniquement (ou ajouter avant uniquement).</span><span class="sxs-lookup"><span data-stu-id="4d309-308">If you organize your data using timestamps or numerical identifiers, you have tooensure you are not using an append-only (or prepend-only) traffic patterns.</span></span> <span data-ttu-id="4d309-309">Ces modèles ne conviennent pas pour une plage de-en fonction de partitionnement du système, et pourraient prospect tooall hello le trafic continu tooa unique partition et limitation système hello à partir d’efficacement l’équilibrage de charge.</span><span class="sxs-lookup"><span data-stu-id="4d309-309">These patterns are not suitable for a range -based partitioning system, and could lead tooall hello traffic going tooa single partition and limiting hello system from effectively load balancing.</span></span> <span data-ttu-id="4d309-310">Par exemple, si vous disposez de tous les jours les opérations qui utilisent un objet blob avec un horodateur tel qu’AAAAMMJJ, puis hello trafic pour que l’opération quotidienne est dirigé tooa seul objet est pris en charge par un seul serveur de partitions.</span><span class="sxs-lookup"><span data-stu-id="4d309-310">For instance, if you have daily operations that use a blob object with a timestamp such as yyyymmdd, then all hello traffic for that daily operation is directed tooa single object which is served by a single partition server.</span></span> <span data-ttu-id="4d309-311">Regardez si hello par l’objet blob de limite et par partition limites répondent à vos besoins et arrêtez cette opération en plusieurs objets BLOB si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="4d309-311">Look at whether hello per blob limits and per partition limits meet your needs, and consider breaking this operation into multiple blobs if needed.</span></span> <span data-ttu-id="4d309-312">De même, si vous stockez des données de série chronologique dans vos tables, tout le trafic de hello peut être dirigé toohello dernière partie de l’espace de noms clé hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-312">Similarly, if you store time series data in your tables, all hello traffic could be directed toohello last part of hello key namespace.</span></span> <span data-ttu-id="4d309-313">Si vous devez utiliser les horodatages ou les ID numériques, préfixe id hello avec un code de hachage à 3 chiffres ou, dans les cas de hello partie horodateurs préfixe hello secondes de temps hello telles que ssyyyymmdd.</span><span class="sxs-lookup"><span data-stu-id="4d309-313">If you must use timestamps or numerical IDs, prefix hello id with a 3-digit hash, or in hello case of timestamps prefix hello seconds part of hello time such as ssyyyymmdd.</span></span> <span data-ttu-id="4d309-314">Si des opérations de listage et d'interrogation sont effectuées régulièrement, choisissez une fonction de hachage qui limite le nombre de vos requêtes.</span><span class="sxs-lookup"><span data-stu-id="4d309-314">If listing and querying operations are routinely performed, choose a hashing function that will limit your number of queries.</span></span> <span data-ttu-id="4d309-315">Dans d'autres cas, un préfixe aléatoire peut être suffisant.</span><span class="sxs-lookup"><span data-stu-id="4d309-315">In other cases, a random prefix may be sufficient.</span></span>  
* <span data-ttu-id="4d309-316">Pour plus d’informations sur hello utilisé dans le stockage Azure de schéma de partitionnement, lire le document du sosp sur Microsoft hello [ici](http://sigops.org/sosp/sosp11/current/2011-Cascais/printable/11-calder.pdf).</span><span class="sxs-lookup"><span data-stu-id="4d309-316">For additional information on hello partitioning scheme used in Azure Storage, read hello SOSP paper [here](http://sigops.org/sosp/sosp11/current/2011-Cascais/printable/11-calder.pdf).</span></span>

### <a name="networking"></a><span data-ttu-id="4d309-317">Mise en réseau</span><span class="sxs-lookup"><span data-stu-id="4d309-317">Networking</span></span>
<span data-ttu-id="4d309-318">Tandis que hello API appelle question, souvent les contraintes de réseau physique hello de l’application hello ont un impact significatif sur les performances.</span><span class="sxs-lookup"><span data-stu-id="4d309-318">While hello API calls matter, often hello physical network constraints of hello application have a significant impact on performance.</span></span> <span data-ttu-id="4d309-319">suivant de Hello décrire certaines des limitations, les utilisateurs peuvent rencontrer.</span><span class="sxs-lookup"><span data-stu-id="4d309-319">hello following describe some of limitations users may encounter.</span></span>  

#### <a name="client-network-capability"></a><span data-ttu-id="4d309-320">Fonctionnalités réseau du client</span><span class="sxs-lookup"><span data-stu-id="4d309-320">Client Network Capability</span></span>
##### <span data-ttu-id="4d309-321"><a name="subheading2"></a>Débit</span><span class="sxs-lookup"><span data-stu-id="4d309-321"><a name="subheading2"></a>Throughput</span></span>
<span data-ttu-id="4d309-322">Pour la bande passante, problème de hello est souvent hello fonctionnalités de hello client.</span><span class="sxs-lookup"><span data-stu-id="4d309-322">For bandwidth, hello problem is often hello capabilities of hello client.</span></span> <span data-ttu-id="4d309-323">Par exemple, si un seul compte de stockage peut gérer au moins 10 Gbits/s en entrée (consultez [objectifs d’évolutivité de la bande passante](#sub1bandwidth)), la vitesse réseau hello dans une instance de rôle de travail Azure « Petite » n’est capable d’environ 100 Mbits/s.</span><span class="sxs-lookup"><span data-stu-id="4d309-323">For example, while a single storage account can handle 10 Gbps or more of ingress (see [bandwidth scalability targets](#sub1bandwidth)), hello network speed in a "Small" Azure Worker Role instance is only capable of approximately 100 Mbps.</span></span> <span data-ttu-id="4d309-324">Dans le cas des instances Azure plus importantes, les cartes réseau présentent une capacité supérieure. Si vous avez besoin de limites réseau plus élevées à partir d’un seul ordinateur, vous devez donc envisager d’utiliser une instance plus grande ou davantage de machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="4d309-324">Larger Azure instances have NICs with greater capacity, so you should consider using a larger instance or more VM's if you need higher network limits from a single machine.</span></span> <span data-ttu-id="4d309-325">Si vous accédez à un service de stockage à partir d’une application de site sur, puis hello même règle s’applique : comprendre les capacités de réseau hello de périphérique de client hello et toohello de connectivité réseau hello emplacement de stockage Azure et l’améliorer en fonction des besoins ou concevoir votre toowork d’application au sein de leurs fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="4d309-325">If you are accessing a Storage service from an on premises application, then hello same rule applies: understand hello network capabilities of hello client device and hello network connectivity toohello Azure Storage location and either improve them as needed or design your application toowork within their capabilities.</span></span>  

##### <span data-ttu-id="4d309-326"><a name="subheading3"></a>Qualité de la liaison</span><span class="sxs-lookup"><span data-stu-id="4d309-326"><a name="subheading3"></a>Link Quality</span></span>
<span data-ttu-id="4d309-327">Comme c’est le cas pour toute utilisation du réseau, veuillez tenir compte du fait que les conditions réseau qui génèrent des erreurs et une perte de paquets ralentissent le débit effectif.</span><span class="sxs-lookup"><span data-stu-id="4d309-327">As with any network usage, be aware that network conditions resulting in errors and packet loss will slow effective throughput.</span></span>  <span data-ttu-id="4d309-328">L’utilisation de WireShark ou de NetMon peut vous aider à diagnostiquer ce problème.</span><span class="sxs-lookup"><span data-stu-id="4d309-328">Using WireShark or NetMon may help in diagnosing this issue.</span></span>  

##### <a name="useful-resources"></a><span data-ttu-id="4d309-329">Ressources utiles</span><span class="sxs-lookup"><span data-stu-id="4d309-329">Useful Resources</span></span>
<span data-ttu-id="4d309-330">Pour plus d’informations sur les tailles de machines virtuelles et la bande passante allouée, consultez la rubrique [Tailles des machines virtuelles](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) ou [Tailles des machines virtuelles Linux](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="4d309-330">For more information about virtual machine sizes and allocated bandwidth, see [Windows VM sizes](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) or [Linux VM sizes](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>  

#### <span data-ttu-id="4d309-331"><a name="subheading4"></a>Emplacement</span><span class="sxs-lookup"><span data-stu-id="4d309-331"><a name="subheading4"></a>Location</span></span>
<span data-ttu-id="4d309-332">Dans un environnement distribué, placer client hello proximité toohello serveur remet dans les meilleurs hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-332">In any distributed environment, placing hello client near toohello server delivers in hello best performance.</span></span> <span data-ttu-id="4d309-333">Pour accéder à Azure Storage avec une latence plus faible hello, hello meilleur emplacement pour votre client se trouve dans hello même région Azure.</span><span class="sxs-lookup"><span data-stu-id="4d309-333">For accessing Azure Storage with hello lowest latency, hello best location for your client is within hello same Azure region.</span></span> <span data-ttu-id="4d309-334">Par exemple, dans le cas d’un site web qui utilise Azure Storage, tous deux doivent se trouver dans la même région (Ouest des États-Unis ou Asie du Sud-Est, par exemple).</span><span class="sxs-lookup"><span data-stu-id="4d309-334">For example, if you have an Azure Web Site that uses Azure Storage, you should locate them both within a single region (for example, US West or Asia Southeast).</span></span> <span data-ttu-id="4d309-335">Cela réduit la latence hello et hello coût : au moment de l’écriture de hello, l’utilisation de la bande passante dans une région est gratuite.</span><span class="sxs-lookup"><span data-stu-id="4d309-335">This reduces hello latency and hello cost — at hello time of writing, bandwidth usage within a single region is free.</span></span>  

<span data-ttu-id="4d309-336">Si votre client applications ne sont pas hébergées dans Azure (tels que des applications pour appareil mobile ou sur les services d’entreprise local), puis à nouveau placer le compte de stockage hello dans une région proche toohello les appareils qui s’y accéder, généralement réduira la latence.</span><span class="sxs-lookup"><span data-stu-id="4d309-336">If your client applications are not hosted within Azure (such as mobile device apps or on premises enterprise services), then again placing hello storage account in a region near toohello devices that will access it, will generally reduce latency.</span></span> <span data-ttu-id="4d309-337">En cas de distribution à grande échelle de vos clients (par exemple, certains se trouvent en Amérique du Nord et d’autres en Europe), l’utilisation de plusieurs comptes de stockage peut s’avérer judicieuse : un dans une région de l’Amérique du Nord et l’autre dans une région d’Europe.</span><span class="sxs-lookup"><span data-stu-id="4d309-337">If your clients are broadly distributed (for example, some in North America, and some in Europe), then you should consider using multiple storage accounts: one located in a North American region and one in a European region.</span></span> <span data-ttu-id="4d309-338">Cela permet de latence tooreduce pour les utilisateurs dans les deux régions.</span><span class="sxs-lookup"><span data-stu-id="4d309-338">This will help tooreduce latency for users in both regions.</span></span> <span data-ttu-id="4d309-339">Cette approche est généralement plus facile tooimplement si hello hello application banques de données des utilisateurs tooindividual spécifique et ne nécessite pas de réplication de données entre des comptes de stockage.</span><span class="sxs-lookup"><span data-stu-id="4d309-339">This approach is usually easier tooimplement if hello data hello application stores is specific tooindividual users, and does not require replicating data between storage accounts.</span></span>  <span data-ttu-id="4d309-340">Pour une large distribution de contenu, un CDN est recommandé : consultez hello la section suivante pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="4d309-340">For broad content distribution, a CDN is recommended – see hello next section for more details.</span></span>  

### <span data-ttu-id="4d309-341"><a name="subheading5"></a>Distribution de contenu</span><span class="sxs-lookup"><span data-stu-id="4d309-341"><a name="subheading5"></a>Content Distribution</span></span>
<span data-ttu-id="4d309-342">Parfois, un hello tooserve de besoins application même contenu réduire utilisateurs (par exemple, un produit démonstration vidéo utilisé dans la page d’accueil hello d’un site Web), situé dans le hello même ou plusieurs régions.</span><span class="sxs-lookup"><span data-stu-id="4d309-342">Sometimes, an application needs tooserve hello same content toomany users (e.g. a product demo video used in hello home page of a website), located in either hello same or multiple regions.</span></span> <span data-ttu-id="4d309-343">Dans ce scénario, vous devez utiliser un réseau de distribution contenu (CDN) tels que Azure CDN et hello CDN utiliserait le stockage Azure en tant qu’origine hello de données de hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-343">In this scenario, you should use a Content Delivery Network (CDN) such as Azure CDN, and hello CDN would use Azure storage as hello origin of hello data.</span></span> <span data-ttu-id="4d309-344">Contrairement à un compte de stockage Azure qui existe dans une région et qui ne peut pas fournir du contenu avec une faible latence tooother régions, CDN Azure utilise des serveurs dans plusieurs centres de données Bonjour.</span><span class="sxs-lookup"><span data-stu-id="4d309-344">Unlike an Azure Storage account that exists in a single region and that cannot deliver content with low latency tooother regions, Azure CDN uses servers in multiple data centers around hello world.</span></span> <span data-ttu-id="4d309-345">De plus, un CDN peut généralement prendre en charge des limites de sortie bien plus élevées qu’un compte de stockage unique.</span><span class="sxs-lookup"><span data-stu-id="4d309-345">Additionally, a CDN can typically support much higher egress limits than a single storage account.</span></span>  

<span data-ttu-id="4d309-346">Pour plus d’informations sur le CDN Azure, voir la page [CDN Azure](https://azure.microsoft.com/services/cdn/).</span><span class="sxs-lookup"><span data-stu-id="4d309-346">For more information about Azure CDN, see [Azure CDN](https://azure.microsoft.com/services/cdn/).</span></span>  

### <span data-ttu-id="4d309-347"><a name="subheading6"></a>Utilisation de SAP et de CORS</span><span class="sxs-lookup"><span data-stu-id="4d309-347"><a name="subheading6"></a>Using SAS and CORS</span></span>
<span data-ttu-id="4d309-348">Lorsque vous avez besoin de code tooauthorize tels que JavaScript dans le navigateur web d’un utilisateur ou un téléphone mobile de données de tooaccess application dans le stockage Azure, une approche consiste à toouse une application dans un rôle web en tant que proxy : périphérique hello de l’utilisateur s’authentifie avec un rôle web de hello, qui à son tour authentifie avec le service de stockage hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-348">When you need tooauthorize code such as JavaScript in a user's web browser or a mobile phone app tooaccess data in Azure Storage, one approach is toouse an application in web role as a proxy: hello user's device authenticates with hello web role, which in turn authenticates with hello storage service.</span></span> <span data-ttu-id="4d309-349">Vous évitez ainsi d’exposer vos clés de compte de stockage sur des appareils non sécurisés.</span><span class="sxs-lookup"><span data-stu-id="4d309-349">In this way, you can avoid exposing your storage account keys on insecure devices.</span></span> <span data-ttu-id="4d309-350">Toutefois, il s’ensuit une charge importante sur le rôle web de hello, car toutes les données de hello transférées entre le périphérique de l’utilisateur hello et service de stockage hello doit passer par le rôle web de hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-350">However, this places a big overhead on hello web role because all hello data transferred between hello user's device and hello storage service must pass through hello web role.</span></span> <span data-ttu-id="4d309-351">Vous pouvez éviter d’utiliser un rôle web en tant que proxy pour le service de stockage hello par à l’aide d’accès partagé des Signatures (SAS), parfois en association avec des en-têtes de partage des ressources Cross-Origin (CORS).</span><span class="sxs-lookup"><span data-stu-id="4d309-351">You can avoid using a web role as a proxy for hello storage service by using Shared Access Signatures (SAS), sometimes in conjunction with Cross-Origin Resource Sharing headers (CORS).</span></span> <span data-ttu-id="4d309-352">À l’aide de SAP, vous pouvez autoriser que toomake de périphérique de l’utilisateur de votre demande directement tooa stockage de service au moyen d’un jeton d’accès limité.</span><span class="sxs-lookup"><span data-stu-id="4d309-352">Using SAS, you can allow your user's device toomake requests directly tooa storage service by means of a limited access token.</span></span> <span data-ttu-id="4d309-353">Par exemple, si un utilisateur souhaite tooupload une application de tooyour photo, votre rôle web peut générer et envoyer de périphérique de l’utilisateur toohello un jeton SAS qui autorise l’objet blob d’autorisation toowrite tooa spécifique ou un conteneur pour hello suivants 30 minutes (après quoi hello jeton SAS expire).</span><span class="sxs-lookup"><span data-stu-id="4d309-353">For example, if a user wants tooupload a photo tooyour application, your web role can generate and send toohello user's device a SAS token that grants permission toowrite tooa specific blob or container for hello next 30 minutes (after which hello SAS token expires).</span></span>

<span data-ttu-id="4d309-354">Normalement, un navigateur ne permet pas de JavaScript dans une page hébergée par un site Web sur un seul tooperform des opérations spécifiques de domaine comme un domaine tooanother « PUT ».</span><span class="sxs-lookup"><span data-stu-id="4d309-354">Normally, a browser will not allow JavaScript in a page hosted by a website on one domain tooperform specific operations such as a "PUT" tooanother domain.</span></span> <span data-ttu-id="4d309-355">Par exemple, si vous hébergez un rôle web à « contosomarketing.cloudapp.net » et que vous souhaitez toouse client côté JavaScript tooupload un compte de stockage blob tooyour à « contosoproducts.blob.core.windows.net », hello du navigateur « stratégie d’origine » sera c’est impossible opération.</span><span class="sxs-lookup"><span data-stu-id="4d309-355">For example, if you host a web role at "contosomarketing.cloudapp.net," and want toouse client side JavaScript tooupload a blob tooyour storage account at "contosoproducts.blob.core.windows.net," hello browser's "same origin policy" will forbid this operation.</span></span> <span data-ttu-id="4d309-356">CORS est une fonctionnalité de navigateur qui permet de hello domaine (dans ce compte de stockage cas hello) toocommunicate toohello navigateur cible qu’il approuve les demandes provenant de domaine source de hello (dans ce rôle web de cas hello).</span><span class="sxs-lookup"><span data-stu-id="4d309-356">CORS is a browser feature that allows hello target domain (in this case hello storage account) toocommunicate toohello browser that it trusts requests originating in hello source domain (in this case hello web role).</span></span>  

<span data-ttu-id="4d309-357">Ces deux technologies vous aident à éviter toute charge inutile (ainsi que les goulots d’étranglement) au niveau de votre application web.</span><span class="sxs-lookup"><span data-stu-id="4d309-357">Both of these technologies can help you avoid unnecessary load (and bottlenecks) on your web application.</span></span>  

#### <a name="useful-resources"></a><span data-ttu-id="4d309-358">Ressources utiles</span><span class="sxs-lookup"><span data-stu-id="4d309-358">Useful Resources</span></span>
<span data-ttu-id="4d309-359">Pour plus d’informations sur SAS, consultez [Signatures d’accès partagé, partie 1 : hello de présentation modèle SAP](../storage-dotnet-shared-access-signature-part-1.md).</span><span class="sxs-lookup"><span data-stu-id="4d309-359">For more information about SAS, see [Shared Access Signatures, Part 1: Understanding hello SAS Model](../storage-dotnet-shared-access-signature-part-1.md).</span></span>  

<span data-ttu-id="4d309-360">Pour plus d’informations sur CORS, consultez [prise en charge de partage de ressources Cross-Origin (CORS) pour hello Services de stockage Azure](http://msdn.microsoft.com/library/azure/dn535601.aspx).</span><span class="sxs-lookup"><span data-stu-id="4d309-360">For more information about CORS, see [Cross-Origin Resource Sharing (CORS) Support for hello Azure Storage Services](http://msdn.microsoft.com/library/azure/dn535601.aspx).</span></span>  

### <a name="caching"></a><span data-ttu-id="4d309-361">Mise en cache</span><span class="sxs-lookup"><span data-stu-id="4d309-361">Caching</span></span>
#### <span data-ttu-id="4d309-362"><a name="subheading7"></a>Récupération de données</span><span class="sxs-lookup"><span data-stu-id="4d309-362"><a name="subheading7"></a>Getting Data</span></span>
<span data-ttu-id="4d309-363">En règle générale, il est préférable de récupérer des données d’un service à une seule reprise plutôt que deux fois.</span><span class="sxs-lookup"><span data-stu-id="4d309-363">In general, getting data from a service once is better than getting it twice.</span></span> <span data-ttu-id="4d309-364">Envisagez un exemple hello d’application web MVC en cours d’exécution dans un rôle web qui a déjà récupéré un objet blob de 50 Mo tooserve de service de stockage hello en tant qu’utilisateur de contenu tooa.</span><span class="sxs-lookup"><span data-stu-id="4d309-364">Consider hello example of an MVC web application running in a web role that has already retrieved a 50MB blob from hello storage service tooserve as content tooa user.</span></span> <span data-ttu-id="4d309-365">application Hello pu puis récupérer ce même objet blob chaque fois qu’un utilisateur le demande, ou il peut mettre en cache localement toodisk et réutilisation version mise en cache hello pour les demandes suivantes des utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="4d309-365">hello application could then retrieve that same blob every time a user requests it, or it could cache it locally toodisk and reuse hello cached version for subsequent user requests.</span></span> <span data-ttu-id="4d309-366">En outre, chaque fois qu’un utilisateur demande des données de hello, hello application pu émettre GET avec un en-tête conditionnel pour l’heure de modification et serait éviter d’obtenir des objets blob de la totalité de hello s’il n’a pas été modifié.</span><span class="sxs-lookup"><span data-stu-id="4d309-366">Furthermore, whenever a user requests hello data, hello application could issue GET with a conditional header for modification time, which would avoid getting hello entire blob if it hasn't been modified.</span></span> <span data-ttu-id="4d309-367">Vous pouvez appliquer cette même tooworking de modèle avec les entités de table.</span><span class="sxs-lookup"><span data-stu-id="4d309-367">You can apply this same pattern tooworking with table entities.</span></span>  

<span data-ttu-id="4d309-368">Dans certains cas, vous pouvez décider que votre application peut assumer que ce blob hello reste valide pendant une courte période après la récupération, et que pendant cette période hello application n’a pas besoin toocheck si l’objet blob de hello a été modifié.</span><span class="sxs-lookup"><span data-stu-id="4d309-368">In some cases, you may decide that your application can assume that hello blob remains valid for a short period after retrieving it, and that during this period hello application does not need toocheck if hello blob was modified.</span></span>

<span data-ttu-id="4d309-369">Configuration, de recherche et d’autres données qui sont toujours utilisées par l’application hello sont des candidats idéaux pour la mise en cache.</span><span class="sxs-lookup"><span data-stu-id="4d309-369">Configuration, lookup, and other data that are always used by hello application are great candidates for caching.</span></span>  

<span data-ttu-id="4d309-370">Pour obtenir un exemple de comment tooget hello de toodiscover de propriétés d’un objet blob date de dernière modification à l’aide de .NET, consultez [ensemble et récupérer des propriétés et métadonnées](../blobs/storage-properties-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="4d309-370">For an example of how tooget a blob's properties toodiscover hello last modified date using .NET, see [Set and Retrieve Properties and Metadata](../blobs/storage-properties-metadata.md).</span></span> <span data-ttu-id="4d309-371">Pour plus d’informations sur les téléchargements conditionnels, consultez [Spécification d’en-têtes conditionnels pour les opérations de Service Blob](http://msdn.microsoft.com/library/azure/dd179371.aspx).</span><span class="sxs-lookup"><span data-stu-id="4d309-371">For more information about conditional downloads, see [Conditionally Refresh a Local Copy of a Blob](http://msdn.microsoft.com/library/azure/dd179371.aspx).</span></span>  

#### <span data-ttu-id="4d309-372"><a name="subheading8"></a>Téléchargement de données par lots</span><span class="sxs-lookup"><span data-stu-id="4d309-372"><a name="subheading8"></a>Uploading Data in Batches</span></span>
<span data-ttu-id="4d309-373">Dans certains scénarios d’application, vous pouvez agréger des données en local, puis les télécharger périodiquement dans un lot au lieu de les télécharger immédiatement une à une.</span><span class="sxs-lookup"><span data-stu-id="4d309-373">In some application scenarios, you can aggregate data locally, and then periodically upload it in a batch instead of uploading each piece of data immediately.</span></span> <span data-ttu-id="4d309-374">Par exemple, une application web peut conserver un fichier journal des activités : hello application pourrait soit télécharger des détails de chaque activité comme il se produit comme une entité de table (qui nécessite de nombreuses opérations de stockage), ou il peut enregistrer des détails tooa local fichier journal d’activité, puis Télécharger régulièrement tous les détails de l’activité en tant qu’un objet blob tooa de fichier délimité.</span><span class="sxs-lookup"><span data-stu-id="4d309-374">For example, a web application might keep a log file of activities: hello application could either upload details of every activity as it happens as a table entity (which requires many storage operations), or it could save activity details tooa local log file, and then periodically upload all activity details as a delimited file tooa blob.</span></span> <span data-ttu-id="4d309-375">Si la taille est 1 Ko pour chaque entrée de journal, vous pouvez télécharger des milliers dans une seule transaction « Put Blob » (vous pouvez télécharger un objet blob de configuration too64MB taille dans une transaction unique).</span><span class="sxs-lookup"><span data-stu-id="4d309-375">If each log entry is 1KB in size, you can upload thousands in a single "Put Blob" transaction (you can upload a blob of up too64MB in size in a single transaction).</span></span> <span data-ttu-id="4d309-376">Bien entendu, en cas de hello local toohello préalable téléchargement vous serez de perdre des données de journal : développeur d’applications hello doit concevoir possibilité hello de périphérique client ou télécharger des échecs.</span><span class="sxs-lookup"><span data-stu-id="4d309-376">Of course, if hello local machine crashes prior toohello upload, you will potentially lose some log data: hello application developer must design for hello possibility of client device or upload failures.</span></span>  <span data-ttu-id="4d309-377">Si les données d’activité hello doivent toobe téléchargé pour les intervalles de temps (pas juste une activité), les objets BLOB est recommandés sur des tables.</span><span class="sxs-lookup"><span data-stu-id="4d309-377">If hello activity data needs toobe downloaded for timespans (not just single activity), then blobs are recommended over tables.</span></span>

### <a name="net-configuration"></a><span data-ttu-id="4d309-378">Configuration .NET</span><span class="sxs-lookup"><span data-stu-id="4d309-378">.NET Configuration</span></span>
<span data-ttu-id="4d309-379">Si à l’aide de hello .NET Framework, cette section répertorie plusieurs paramètres de configuration rapide que vous pouvez utiliser les améliorations significatives des performances de toomake.</span><span class="sxs-lookup"><span data-stu-id="4d309-379">If using hello .NET Framework, this section lists several quick configuration settings that you can use toomake significant performance improvements.</span></span>  <span data-ttu-id="4d309-380">Si vous utilisez d’autres langages, vérifiez toosee si les concepts similaires s’appliquent dans le langage choisi.</span><span class="sxs-lookup"><span data-stu-id="4d309-380">If using other languages, check toosee if similar concepts apply in your chosen language.</span></span>  

#### <span data-ttu-id="4d309-381"><a name="subheading9"></a>Augmentation de la limite de connexions par défaut</span><span class="sxs-lookup"><span data-stu-id="4d309-381"><a name="subheading9"></a>Increase default connection limit</span></span>
<span data-ttu-id="4d309-382">Dans .NET, hello suivant code augmente la limite de connexion par défaut hello (qui est généralement 2 dans un environnement client ou 10 dans un environnement de serveur) too100.</span><span class="sxs-lookup"><span data-stu-id="4d309-382">In .NET, hello following code increases hello default connection limit (which is usually 2 in a client environment or 10 in a server environment) too100.</span></span> <span data-ttu-id="4d309-383">En règle générale, vous devez définir nombre de hello hello valeur tooapproximately de threads utilisés par votre application.</span><span class="sxs-lookup"><span data-stu-id="4d309-383">Typically, you should set hello value tooapproximately hello number of threads used by your application.</span></span>  

```csharp
ServicePointManager.DefaultConnectionLimit = 100; //(Or More)  
```

<span data-ttu-id="4d309-384">Vous devez définir le nombre maximal de connexions hello avant l’ouverture de toutes les connexions.</span><span class="sxs-lookup"><span data-stu-id="4d309-384">You must set hello connection limit before opening any connections.</span></span>  

<span data-ttu-id="4d309-385">Pour les autres langages de programmation, consultez toodetermine de documentation de ce langage comment limiter les connexions de hello tooset.</span><span class="sxs-lookup"><span data-stu-id="4d309-385">For other programming languages, see that language's documentation toodetermine how tooset hello connection limit.</span></span>  

<span data-ttu-id="4d309-386">Pour plus d’informations, voir blog de hello [Services Web : connexions simultanées](http://blogs.msdn.com/b/darrenj/archive/2005/03/07/386655.aspx).</span><span class="sxs-lookup"><span data-stu-id="4d309-386">For additional information, see hello blog post [Web Services: Concurrent Connections](http://blogs.msdn.com/b/darrenj/archive/2005/03/07/386655.aspx).</span></span>  

#### <span data-ttu-id="4d309-387"><a name="subheading10"></a>Augmentation du nombre minimum de threads du pool de threads en cas d’utilisation de code synchrone avec Async Tasks</span><span class="sxs-lookup"><span data-stu-id="4d309-387"><a name="subheading10"></a>Increase ThreadPool Min Threads if using synchronous code with Async Tasks</span></span>
<span data-ttu-id="4d309-388">Ce code augmentera hello min threads du pool :</span><span class="sxs-lookup"><span data-stu-id="4d309-388">This code will increase hello thread pool min threads:</span></span>  

```csharp
ThreadPool.SetMinThreads(100,100); //(Determine hello right number for your application)  
```

<span data-ttu-id="4d309-389">Pour plus d’informations, consultez [Méthode ThreadPool.SetMinThreads](http://msdn.microsoft.com/library/system.threading.threadpool.setminthreads%28v=vs.110%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="4d309-389">For more information, see [ThreadPool.SetMinThreads Method](http://msdn.microsoft.com/library/system.threading.threadpool.setminthreads%28v=vs.110%29.aspx).</span></span>  

#### <span data-ttu-id="4d309-390"><a name="subheading11"></a>Utilisation du nettoyage de la mémoire de .NET 4.5</span><span class="sxs-lookup"><span data-stu-id="4d309-390"><a name="subheading11"></a>Take advantage of .NET 4.5 Garbage Collection</span></span>
<span data-ttu-id="4d309-391">Utiliser .NET 4.5 ou version ultérieure pour hello client application tootake un avantage des améliorations de performances de garbage collection côté serveur.</span><span class="sxs-lookup"><span data-stu-id="4d309-391">Use .NET 4.5 or later for hello client application tootake advantage of performance improvements in server garbage collection.</span></span>

<span data-ttu-id="4d309-392">Pour plus d’informations, voir l’article hello [une vue d’ensemble d’améliorations des performances dans .NET 4.5](http://msdn.microsoft.com/magazine/hh882452.aspx).</span><span class="sxs-lookup"><span data-stu-id="4d309-392">For more information, see hello article [An Overview of Performance Improvements in .NET 4.5](http://msdn.microsoft.com/magazine/hh882452.aspx).</span></span>  

### <span data-ttu-id="4d309-393"><a name="subheading12"></a>Parallélisme illimité</span><span class="sxs-lookup"><span data-stu-id="4d309-393"><a name="subheading12"></a>Unbounded Parallelism</span></span>
<span data-ttu-id="4d309-394">Alors que le parallélisme peut être intéressante pour les performances, veillez à plusieurs partitions à l’aide de parallélisme unbounded (aucune limite sur nombre hello de threads et/ou les demandes parallèles) tooupload ou télécharger des données, à l’aide de plusieurs threads de travail tooaccess (conteneurs, des files d’attente, ou partitions de table) dans hello même compte de stockage ou tooaccess plusieurs éléments Bonjour même partition.</span><span class="sxs-lookup"><span data-stu-id="4d309-394">While parallelism can be great for performance, be careful about using unbounded parallelism (no limit on hello number of threads and/or parallel requests) tooupload or download data, using multiple workers tooaccess multiple partitions (containers, queues, or table partitions) in hello same storage account or tooaccess multiple items in hello same partition.</span></span> <span data-ttu-id="4d309-395">Si le parallélisme de hello est illimité, votre application peut dépasser les capacités du périphérique hello client ou hello objectifs d’évolutivité du compte de stockage entraîne plus élevés et de limitation.</span><span class="sxs-lookup"><span data-stu-id="4d309-395">If hello parallelism is unbounded, your application can exceed hello client device's capabilities or hello storage account's scalability targets resulting in longer latencies and throttling.</span></span>  

### <span data-ttu-id="4d309-396"><a name="subheading13"></a>Outils et bibliothèques clientes de stockage</span><span class="sxs-lookup"><span data-stu-id="4d309-396"><a name="subheading13"></a>Storage Client Libraries and Tools</span></span>
<span data-ttu-id="4d309-397">Toujours utiliser les outils et bibliothèques de client hello dernière fournis par Microsoft.</span><span class="sxs-lookup"><span data-stu-id="4d309-397">Always use hello latest Microsoft provided client libraries and tools.</span></span> <span data-ttu-id="4d309-398">Au moment de hello d’écriture, il existe des bibliothèques clientes disponibles pour .NET, Windows Phone, Windows Runtime, Java et C++, ainsi que les bibliothèques d’aperçu pour d’autres langues.</span><span class="sxs-lookup"><span data-stu-id="4d309-398">At hello time of writing, there are client libraries available for .NET, Windows Phone, Windows Runtime, Java, and C++, as well as preview libraries for other languages.</span></span> <span data-ttu-id="4d309-399">Microsoft a, en outre, publié des cmdlets PowerShell et des commandes de l’interface de ligne de commande, utilisables avec Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="4d309-399">In addition, Microsoft has released PowerShell cmdlets and Azure CLI commands for working with Azure Storage.</span></span> <span data-ttu-id="4d309-400">Microsoft activement développe ces outils avec des performances à l’esprit les maintient des toodate avec les dernières versions de service hello et permet de s’assurer qu’ils gèrent de nombreux hello éprouvée pratiques de performance en interne.</span><span class="sxs-lookup"><span data-stu-id="4d309-400">Microsoft actively develops these tools with performance in mind, keeps them up toodate with hello latest service versions, and ensures they handle many of hello proven performance practices internally.</span></span>  

### <a name="retries"></a><span data-ttu-id="4d309-401">Nouvelle tentatives</span><span class="sxs-lookup"><span data-stu-id="4d309-401">Retries</span></span>
#### <span data-ttu-id="4d309-402"><a name="subheading14"></a>Limitation/Serveur occupé</span><span class="sxs-lookup"><span data-stu-id="4d309-402"><a name="subheading14"></a>Throttling/ServerBusy</span></span>
<span data-ttu-id="4d309-403">Dans certains cas, hello service de stockage peut limiter votre application ou peut simplement être demande de hello tooserve impossible en raison de conditions transitoires de toosome et renvoyer un message « 503 serveur occupé » ou « Timeout 500 ».</span><span class="sxs-lookup"><span data-stu-id="4d309-403">In some cases, hello storage service may throttle your application or may simply be unable tooserve hello request due toosome transient condition and return a "503 Server busy" message or "500 Timeout".</span></span>  <span data-ttu-id="4d309-404">Cela peut se produire si un des objectifs d’évolutivité hello est proche de votre application, ou si le système de hello est rééquilibrage votre tooallow les données partitionnées pour un débit plus élevé.</span><span class="sxs-lookup"><span data-stu-id="4d309-404">This can happen if your application is approaching any of hello scalability targets, or if hello system is rebalancing your partitioned data tooallow for higher throughput.</span></span>  <span data-ttu-id="4d309-405">application cliente de Hello doit généralement retenter hello qui provoque cette erreur : tentative de hello même demande plus tard peut réussir.</span><span class="sxs-lookup"><span data-stu-id="4d309-405">hello client application should typically retry hello operation that causes such an error: attempting hello same request later can succeed.</span></span> <span data-ttu-id="4d309-406">Toutefois, si le service de stockage hello est la limitation de votre application, car il dépasse les objectifs d’évolutivité, ou même si le service de hello était demande de hello tooserve Impossible pour une raison quelconque, des tentatives d’agressives généralement aggraver hello problème.</span><span class="sxs-lookup"><span data-stu-id="4d309-406">However, if hello storage service is throttling your application because it is exceeding scalability targets, or even if hello service was unable tooserve hello request for some other reason, aggressive retries usually make hello problem worse.</span></span> <span data-ttu-id="4d309-407">Pour cette raison, vous devez utiliser une valeur exponentielle hors tension (hello client bibliothèques toothis par défaut).</span><span class="sxs-lookup"><span data-stu-id="4d309-407">For this reason, you should use an exponential back off (hello client libraries default toothis behavior).</span></span> <span data-ttu-id="4d309-408">Votre application peut, par exemple, effectuer une nouvelle tentative après 2 secondes, puis 4 secondes, 10 secondes, 30 secondes avant d’abandonner complètement.</span><span class="sxs-lookup"><span data-stu-id="4d309-408">For example, your application may retry after 2 seconds, then 4 seconds, then 10 seconds, then 30 seconds, and then give up completely.</span></span> <span data-ttu-id="4d309-409">Ce comportement provoque votre application considérablement réduire la charge sur le service de hello plutôt qu’exacerber les problèmes.</span><span class="sxs-lookup"><span data-stu-id="4d309-409">This behavior results in your application significantly reducing its load on hello service rather than exacerbating any problems.</span></span>  

<span data-ttu-id="4d309-410">Notez que les erreurs de connectivité peuvent être retentées immédiatement, car ils ne sont pas des résultats hello de limitation et sont attendu toobe temporaire.</span><span class="sxs-lookup"><span data-stu-id="4d309-410">Note that connectivity errors can be retried immediately, because they are not hello result of throttling and are expected toobe transient.</span></span>  

#### <span data-ttu-id="4d309-411"><a name="subheading15"></a>Erreurs non renouvelables</span><span class="sxs-lookup"><span data-stu-id="4d309-411"><a name="subheading15"></a>Non-Retryable Errors</span></span>
<span data-ttu-id="4d309-412">les bibliothèques clientes Hello connaissent les erreurs sont en mesure de nouvelle tentative et qui ne sont pas.</span><span class="sxs-lookup"><span data-stu-id="4d309-412">hello client libraries are aware of which errors are retry-able and which are not.</span></span> <span data-ttu-id="4d309-413">Toutefois, si vous écrivez votre propre code contre le stockage hello API REST, n’oubliez pas de certaines erreurs qui vous ne convient pas de nouvelle tentative : par exemple, un 400 (demande incorrecte) réponse indique l’application hello client a envoyé une demande qui ne peut pas être traitée car elle n’était pas dans un format attendu.</span><span class="sxs-lookup"><span data-stu-id="4d309-413">However, if you are writing your own code against hello storage REST API, remember there are some errors that you should not retry: for example, a 400 (Bad Request) response indicates that hello client application sent a request that could not be processed because it was not in an expected form.</span></span> <span data-ttu-id="4d309-414">Renvoi de cette demande entraîne hello même réponse chaque fois, donc il est inutile de nouvelle tentative il.</span><span class="sxs-lookup"><span data-stu-id="4d309-414">Resending this request will result hello same response every time, so there is no point in retrying it.</span></span> <span data-ttu-id="4d309-415">Si vous écrivez votre propre code contre le stockage hello API REST, tenez compte des codes d’erreur hello moyenne et hello tooretry de manière appropriée (ou pas) pour chacun d’eux.</span><span class="sxs-lookup"><span data-stu-id="4d309-415">If you are writing your own code against hello storage REST API, be aware of what hello error codes mean and hello proper way tooretry (or not) for each of them.</span></span>  

#### <a name="useful-resources"></a><span data-ttu-id="4d309-416">Ressources utiles</span><span class="sxs-lookup"><span data-stu-id="4d309-416">Useful Resources</span></span>
<span data-ttu-id="4d309-417">Pour plus d’informations sur les codes d’erreur de stockage, consultez [d’état et Codes d’erreur](http://msdn.microsoft.com/library/azure/dd179382.aspx) sur le site web de Microsoft Azure hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-417">For more information about storage error codes, see [Status and Error Codes](http://msdn.microsoft.com/library/azure/dd179382.aspx) on hello Microsoft Azure web site.</span></span>  

## <a name="blobs"></a><span data-ttu-id="4d309-418">Objets blob</span><span class="sxs-lookup"><span data-stu-id="4d309-418">Blobs</span></span>
<span data-ttu-id="4d309-419">Dans toohello plus pratiques pour éprouvées [tous les Services](#allservices) décrit précédemment, suivant hello pratiques éprouvées s’appliquent en particulier le service de blob toohello.</span><span class="sxs-lookup"><span data-stu-id="4d309-419">In addition toohello proven practices for [All Services](#allservices) described previously, hello following proven practices apply specifically toohello blob service.</span></span>  

### <a name="blob-specific-scalability-targets"></a><span data-ttu-id="4d309-420">Objectifs d’extensibilité propres aux objets blob</span><span class="sxs-lookup"><span data-stu-id="4d309-420">Blob-Specific Scalability Targets</span></span>
#### <span data-ttu-id="4d309-421"><a name="subheading46"></a>Plusieurs clients accédant simultanément à un seul objet</span><span class="sxs-lookup"><span data-stu-id="4d309-421"><a name="subheading46"></a>Multiple clients accessing a single object concurrently</span></span>
<span data-ttu-id="4d309-422">Si vous avez un grand nombre de clients accèdent simultanément à un objet unique, vous devez tooconsider par objet et stockage cibles d’extensibilité de compte.</span><span class="sxs-lookup"><span data-stu-id="4d309-422">If you have a large number of clients accessing a single object concurrently you will need tooconsider per object and storage account scalability targets.</span></span> <span data-ttu-id="4d309-423">nombre exact de Hello de clients qui peuvent accéder à un objet unique sera varient en fonction de facteurs tels que nombre hello de clients demandant des objets de hello simultanément, taille hello d’objet de hello, etc. de conditions réseau.</span><span class="sxs-lookup"><span data-stu-id="4d309-423">hello exact number of clients that can access a single object will vary depending on factors such as hello number of clients requesting hello object simultaneously, hello size of hello object, network conditions etc.</span></span>

<span data-ttu-id="4d309-424">Si l’objet de hello peut être distribué via un réseau CDN comme des images ou vidéos pris en charge à partir d’un site Web, puis vous devez utiliser un CDN.</span><span class="sxs-lookup"><span data-stu-id="4d309-424">If hello object can be distributed through a CDN such as images or videos served from a website then you should use a CDN.</span></span> <span data-ttu-id="4d309-425">Voir [ici](#subheading5).</span><span class="sxs-lookup"><span data-stu-id="4d309-425">See [here](#subheading5).</span></span>

<span data-ttu-id="4d309-426">Dans d’autres scénarios, telles que des simulations scientifiques où les données de salutation sont confidentielles, vous avez deux options.</span><span class="sxs-lookup"><span data-stu-id="4d309-426">In other scenarios such as scientific simulations where hello data is confidential you have two options.</span></span> <span data-ttu-id="4d309-427">Hello est tout d’abord toostagger access de votre charge de travail telle que hello objet est accédé sur une période de vs de temps en cours d’accès simultanément.</span><span class="sxs-lookup"><span data-stu-id="4d309-427">hello first is toostagger your workload's access such that hello object is accessed over a period of time vs being accessed simultaneously.</span></span> <span data-ttu-id="4d309-428">Ou bien, vous pouvez copier temporairement les comptes de stockage toomultiple objet hello améliorant hello total IOPS par objet et sur les comptes de stockage.</span><span class="sxs-lookup"><span data-stu-id="4d309-428">Alternatively, you can temporarily copy hello object toomultiple storage accounts thus increasing hello total IOPS per object and across storage accounts.</span></span> <span data-ttu-id="4d309-429">Dans limitées de test, nous avons trouvé qu’environ 25 ordinateurs virtuels peuvent télécharger simultanément un objet blob de 100 Go en parallèle (chaque machine virtuelle a été parallélisation téléchargement hello à l’aide de 32 threads).</span><span class="sxs-lookup"><span data-stu-id="4d309-429">In limited testing we found that around 25 VMs could simultaneously download a 100GB blob in parallel (each VM was parallelizing hello download using 32 threads).</span></span> <span data-ttu-id="4d309-430">Si vous aviez 100 clients nécessitant l’objet de hello tooaccess, tout d’abord copier tooa deuxième compte de stockage ont hello 50 premiers ordinateurs virtuels accès hello premier objet blob et hello ensuite 50 ordinateurs virtuels accès hello deuxième objet blob.</span><span class="sxs-lookup"><span data-stu-id="4d309-430">If you had 100 clients needing tooaccess hello object, first copy it tooa second storage account and then have hello first 50 VMs access hello first blob and hello second 50 VMs access hello second blob.</span></span> <span data-ttu-id="4d309-431">Les résultats varient selon le comportement de vos applications. Nous vous conseillons de tester ceci pendant la conception.</span><span class="sxs-lookup"><span data-stu-id="4d309-431">Results will vary depending on your applications behavior so you should test this during design.</span></span> 

#### <span data-ttu-id="4d309-432"><a name="subheading16"></a>Bande passante et opérations par objet blob</span><span class="sxs-lookup"><span data-stu-id="4d309-432"><a name="subheading16"></a>Bandwidth and operations per Blob</span></span>
<span data-ttu-id="4d309-433">Vous pouvez lire ou écrire tooa unique objet blob à des tooa jusqu'à 60 Mo par seconde (il s’agit d’environ 480 Mbits/s qui dépasse les capacités de hello de nombreux réseaux du côté client (y compris de hello carte réseau physique sur le périphérique de client hello).</span><span class="sxs-lookup"><span data-stu-id="4d309-433">You can read or write tooa single blob at up tooa maximum of 60 MB/second (this is approximately 480 Mbps which exceeds hello capabilities of many client side networks (including hello physical NIC on hello client device).</span></span> <span data-ttu-id="4d309-434">En outre, un seul objet blob prend en charge les demandes de too500 par seconde.</span><span class="sxs-lookup"><span data-stu-id="4d309-434">In addition, a single blob supports up too500 requests per second.</span></span> <span data-ttu-id="4d309-435">Si vous avez plusieurs clients qui ont besoin de tooread hello même objet blob et que vous pouvez dépasse ces limites, vous devez envisager d’utiliser un CDN pour distribuer des objets blob de hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-435">If you have multiple clients that need tooread hello same blob and you might exceed these limits, you should consider using a CDN for distributing hello blob.</span></span>  

<span data-ttu-id="4d309-436">Pour plus d’informations sur le débit cible pour les objets blob, consultez [Objectifs de performance et d’extensibilité d’Azure Storage](storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="4d309-436">For more information about target throughput for blobs, see [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md).</span></span>  

### <a name="copying-and-moving-blobs"></a><span data-ttu-id="4d309-437">Copie et déplacement d’objets blob</span><span class="sxs-lookup"><span data-stu-id="4d309-437">Copying and Moving Blobs</span></span>
#### <span data-ttu-id="4d309-438"><a name="subheading17"></a>Copie d’un objet blob</span><span class="sxs-lookup"><span data-stu-id="4d309-438"><a name="subheading17"></a>Copy Blob</span></span>
<span data-ttu-id="4d309-439">stockage de Hello version 2012-02-12 de l’API REST introduites toocopy objets BLOB de la capacité utile hello sur plusieurs comptes : une application cliente peut demander à toocopy de service de stockage hello un objet blob à partir d’une autre source (éventuellement dans un autre compte de stockage) et le laisser hello service copier hello en mode asynchrone.</span><span class="sxs-lookup"><span data-stu-id="4d309-439">hello storage REST API version 2012-02-12 introduced hello useful ability toocopy blobs across accounts: a client application can instruct hello storage service toocopy a blob from another source (possibly in a different storage account), and then let hello service perform hello copy asynchronously.</span></span> <span data-ttu-id="4d309-440">Cela peut réduire considérablement la bande passante hello nécessaire pour l’application hello lorsque vous avez une migration des données à partir d’autres comptes de stockage, car vous ne pas besoin toodownload et télécharger les données de salutation.</span><span class="sxs-lookup"><span data-stu-id="4d309-440">This can significantly reduce hello bandwidth needed for hello application when you are migrating data from other storage accounts because you do not need toodownload and upload hello data.</span></span>  

<span data-ttu-id="4d309-441">Tenez compte notamment, toutefois, est que, lors de la copie entre des comptes de stockage, il n’existe aucune garantie de temps sur lorsque la copie de hello s’achève.</span><span class="sxs-lookup"><span data-stu-id="4d309-441">One consideration, however, is that, when copying between storage accounts, there is no time guarantee on when hello copy will complete.</span></span> <span data-ttu-id="4d309-442">Si votre application doit toocomplete un objet blob copier rapidement sous votre contrôle, il peut être une meilleure blob de hello toocopy en téléchargeant tooa machine virtuelle, puis téléchargez toohello destination.</span><span class="sxs-lookup"><span data-stu-id="4d309-442">If your application needs toocomplete a blob copy quickly under your control, it may be better toocopy hello blob by downloading it tooa VM and then uploading it toohello destination.</span></span>  <span data-ttu-id="4d309-443">Prévisibilité complète dans ce cas, assurez-vous que la copie de hello est effectuée par un ordinateur virtuel en cours d’exécution dans hello même région Azure, ou bien les conditions du réseau peut (et sera probablement) affectent les performances de la copie.</span><span class="sxs-lookup"><span data-stu-id="4d309-443">For full predictability in that situation, ensure that hello copy is performed by a VM running in hello same Azure region, or else network conditions may (and probably will) affect your copy performance.</span></span>  <span data-ttu-id="4d309-444">En outre, vous pouvez évaluer les progrès hello d’une copie asynchrone par programme.</span><span class="sxs-lookup"><span data-stu-id="4d309-444">In addition, you can monitor hello progress of an asynchronous copy programmatically.</span></span>  

<span data-ttu-id="4d309-445">Notez que le copie dans hello même compte de stockage se sont terminées généralement rapidement.</span><span class="sxs-lookup"><span data-stu-id="4d309-445">Note that copies within hello same storage account itself are generally completed quickly.</span></span>  

<span data-ttu-id="4d309-446">Pour plus d’informations, consultez [Copie d’un objet blob](http://msdn.microsoft.com/library/azure/dd894037.aspx).</span><span class="sxs-lookup"><span data-stu-id="4d309-446">For more information, see [Copy Blob](http://msdn.microsoft.com/library/azure/dd894037.aspx).</span></span>  

#### <span data-ttu-id="4d309-447"><a name="subheading18"></a>Utilisation d’AzCopy</span><span class="sxs-lookup"><span data-stu-id="4d309-447"><a name="subheading18"></a>Use AzCopy</span></span>
<span data-ttu-id="4d309-448">équipe du stockage Azure Hello a publié un outil de ligne de commande « AzCopy » qui est revient toohelp en transfert de nombreux objets BLOB à, à partir d’et sur les comptes de stockage de masse.</span><span class="sxs-lookup"><span data-stu-id="4d309-448">hello Azure Storage team has released a command-line tool "AzCopy" that is meant toohelp with bulk transferring many blobs to, from, and across storage accounts.</span></span>  <span data-ttu-id="4d309-449">Cet outil est optimisé pour ce scénario et peut générer des taux de transfert élevés.</span><span class="sxs-lookup"><span data-stu-id="4d309-449">This tool is optimized for this scenario, and can achieve high transfer rates.</span></span>  <span data-ttu-id="4d309-450">Il est vivement conseillé de l’utiliser pour les opérations de chargement, de téléchargement et de copie en bloc.</span><span class="sxs-lookup"><span data-stu-id="4d309-450">Its use is encouraged for bulk upload, download, and copy scenarios.</span></span> <span data-ttu-id="4d309-451">toolearn plus d’informations et le télécharger, consultez [transférer des données avec l’utilitaire de ligne de commande AzCopy de hello](storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="4d309-451">toolearn more about it and download it, see [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md).</span></span>  

#### <span data-ttu-id="4d309-452"><a name="subheading19"></a>Service Azure Import/Export</span><span class="sxs-lookup"><span data-stu-id="4d309-452"><a name="subheading19"></a>Azure Import/Export Service</span></span>
<span data-ttu-id="4d309-453">Pour les très grands volumes de données (plus de 1 To), hello Azure Storage offre hello service Import/Export, ce qui permet de chargement et le téléchargement à partir du stockage d’objets blob par envoi de journaux des disques durs.</span><span class="sxs-lookup"><span data-stu-id="4d309-453">For very large volumes of data (more than 1TB), hello Azure Storage offers hello Import/Export service, which allows for uploading and downloading from blob storage by shipping hard drives.</span></span>  <span data-ttu-id="4d309-454">Vous pouvez placer vos données sur un disque dur et envoyez-le tooMicrosoft pour le téléchargement ou envoyer un disque dur vide tooMicrosoft toodownload de données.</span><span class="sxs-lookup"><span data-stu-id="4d309-454">You can put your data on a hard drive and send it tooMicrosoft for upload, or send a blank hard drive tooMicrosoft toodownload data.</span></span>  <span data-ttu-id="4d309-455">Pour plus d’informations, consultez [utiliser hello Service Microsoft Azure Import/Export tooTransfer données tooBlob stockage](../storage-import-export-service.md).</span><span class="sxs-lookup"><span data-stu-id="4d309-455">For more information, see [Use hello Microsoft Azure Import/Export Service tooTransfer Data tooBlob Storage](../storage-import-export-service.md).</span></span>  <span data-ttu-id="4d309-456">Cela peut être beaucoup plus efficace que du téléchargement ce volume de données sur le réseau de hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-456">This can be much more efficient than uploading/downloading this volume of data over hello network.</span></span>  

### <span data-ttu-id="4d309-457"><a name="subheading20"></a>Utilisation de métadonnées</span><span class="sxs-lookup"><span data-stu-id="4d309-457"><a name="subheading20"></a>Use metadata</span></span>
<span data-ttu-id="4d309-458">service d’objets blob Hello prend en charge les demandes head, qui peuvent inclure des métadonnées sur l’objet blob de hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-458">hello blob service supports head requests, which can include metadata about hello blob.</span></span> <span data-ttu-id="4d309-459">Par exemple, si votre application nécessaire données EXIF hello une photo, il pourrait extraire photo de hello et extrayez-le.</span><span class="sxs-lookup"><span data-stu-id="4d309-459">For example, if your application needed hello EXIF data out of a photo, it could retrieve hello photo and extract it.</span></span> <span data-ttu-id="4d309-460">la bande passante toosave et améliorer les performances, votre application peut stocker des données EXIF de hello dans les métadonnées de l’objet blob de hello lors de l’application hello téléchargé photo de hello : vous pouvez ensuite récupérer les données EXIF hello dans les métadonnées à l’aide uniquement d’une demande HEAD, l’enregistrement d’une bande passante et le temps de traitement hello tooextract hello données EXIF chaque objet blob hello de temps est en lecture est nécessaire.</span><span class="sxs-lookup"><span data-stu-id="4d309-460">toosave bandwidth and improve performance, your application could store hello EXIF data in hello blob's metadata when hello application uploaded hello photo: you can then retrieve hello EXIF data in metadata using only a HEAD request, saving significant bandwidth and hello processing time needed tooextract hello EXIF data each time hello blob is read.</span></span> <span data-ttu-id="4d309-461">Il serait utile dans les scénarios où vous devez uniquement les métadonnées hello et pas hello contenu complet d’un objet blob.</span><span class="sxs-lookup"><span data-stu-id="4d309-461">This would be useful in scenarios where you only need hello metadata, and not hello full content of a blob.</span></span>  <span data-ttu-id="4d309-462">Notez qu’uniquement 8 Ko de métadonnées peuvent être stockée par l’objet blob (hello service acceptera pas une demande toostore supérieure), donc si les données de salutation ne tient pas dans cette taille, vous ne pouvez pas être en mesure de toouse cette approche.</span><span class="sxs-lookup"><span data-stu-id="4d309-462">Note that only 8 KB of metadata can be stored per blob (hello service will not accept a request toostore more than that), so if hello data does not fit in that size, you may not be able toouse this approach.</span></span>  

<span data-ttu-id="4d309-463">Pour obtenir un exemple de procédure tooget les métadonnées d’un objet blob à l’aide de .NET, consultez [ensemble et récupérer des propriétés et métadonnées](../blobs/storage-properties-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="4d309-463">For an example of how tooget a blob's metadata using .NET, see [Set and Retrieve Properties and Metadata](../blobs/storage-properties-metadata.md).</span></span>  

### <a name="uploading-fast"></a><span data-ttu-id="4d309-464">Téléchargement rapide</span><span class="sxs-lookup"><span data-stu-id="4d309-464">Uploading Fast</span></span>
<span data-ttu-id="4d309-465">objets BLOB tooupload rapide, est de hello première question tooanswer : vous êtes téléchargement d’un objet blob ou nombreux ?</span><span class="sxs-lookup"><span data-stu-id="4d309-465">tooupload blobs fast, hello first question tooanswer is: are you uploading one blob or many?</span></span>  <span data-ttu-id="4d309-466">Utilisez hello ci-dessous les conseils toodetermine hello méthode correcte toouse selon votre scénario.</span><span class="sxs-lookup"><span data-stu-id="4d309-466">Use hello below guidance toodetermine hello correct method toouse depending on your scenario.</span></span>  

#### <span data-ttu-id="4d309-467"><a name="subheading21"></a>Téléchargement rapide d’un objet blob volumineux</span><span class="sxs-lookup"><span data-stu-id="4d309-467"><a name="subheading21"></a>Uploading one large blob quickly</span></span>
<span data-ttu-id="4d309-468">tooupload un seul grand blob rapidement, votre application cliente doit télécharger ses blocs ou les pages en parallèle (penser objectifs d’évolutivité hello pour les objets BLOB individuels et le compte de stockage hello dans son ensemble en cours).</span><span class="sxs-lookup"><span data-stu-id="4d309-468">tooupload a single large blob quickly, your client application should upload its blocks or pages in parallel (being mindful of hello scalability targets for individual blobs and hello storage account as a whole).</span></span>  <span data-ttu-id="4d309-469">Notez que hello officiel fournie par Microsoft RTM stockage bibliothèques clientes (.NET, Java) hello capacité toodo cela.</span><span class="sxs-lookup"><span data-stu-id="4d309-469">Note that hello official Microsoft-provided RTM Storage Client libraries (.NET, Java) have hello ability toodo this.</span></span>  <span data-ttu-id="4d309-470">Pour chacune des bibliothèques de hello, utilisez hello seuil spécifié/propriété de l’objet tooset hello d’accès concurrentiel :</span><span class="sxs-lookup"><span data-stu-id="4d309-470">For each of hello libraries, use hello below specified object/property tooset hello level of concurrency:</span></span>  

* <span data-ttu-id="4d309-471">.NET : ParallelOperationThreadCount d’ensemble sur un toobe d’objet BlobRequestOptions utilisé.</span><span class="sxs-lookup"><span data-stu-id="4d309-471">.NET: Set ParallelOperationThreadCount on a BlobRequestOptions object toobe used.</span></span>
* <span data-ttu-id="4d309-472">Java/Android : utilisez BlobRequestOptions.setConcurrentRequestCount()</span><span class="sxs-lookup"><span data-stu-id="4d309-472">Java/Android: Use BlobRequestOptions.setConcurrentRequestCount()</span></span>
* <span data-ttu-id="4d309-473">Node.js : Utilisez parallelOperationThreadCount sur les deux options de demande hello ou service d’objets blob hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-473">Node.js: Use parallelOperationThreadCount on either hello request options or on hello blob service.</span></span>
* <span data-ttu-id="4d309-474">C++ : Utilisez la méthode blob_request_options::set_parallelism_factor de hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-474">C++: Use hello blob_request_options::set_parallelism_factor method.</span></span>

#### <span data-ttu-id="4d309-475"><a name="subheading22"></a>Téléchargement rapide de nombreux objets blob</span><span class="sxs-lookup"><span data-stu-id="4d309-475"><a name="subheading22"></a>Uploading many blobs quickly</span></span>
<span data-ttu-id="4d309-476">tooupload grand nombre d’objets BLOB rapidement, télécharger des objets BLOB en parallèle.</span><span class="sxs-lookup"><span data-stu-id="4d309-476">tooupload many blobs quickly, upload blobs in parallel.</span></span> <span data-ttu-id="4d309-477">Il est plus rapide que le chargement des objets BLOB unique à la fois avec les téléchargements de bloc parallèle, car il répartit hello téléchargement sur plusieurs partitions hello du service de stockage.</span><span class="sxs-lookup"><span data-stu-id="4d309-477">This is faster than uploading single blobs at a time with parallel block uploads because it spreads hello upload across multiple partitions of hello storage service.</span></span> <span data-ttu-id="4d309-478">Dans le cas d’un objet blob unique, le débit pris en charge est seulement de 60 Mo/seconde (environ 480 Mbits/s).</span><span class="sxs-lookup"><span data-stu-id="4d309-478">A single blob only supports a throughput of 60 MB/second (approximately 480 Mbps).</span></span> <span data-ttu-id="4d309-479">Au moment de l’écriture de hello, un compte LRS de basés aux États-Unis prend en charge jusqu'à too20 entrée Gbits/s qui est beaucoup plus que le débit hello pris en charge par un objet blob individuel.</span><span class="sxs-lookup"><span data-stu-id="4d309-479">At hello time of writing, a US-based LRS account supports up too20 Gbps ingress which is far more than hello throughput supported by an individual blob.</span></span>  <span data-ttu-id="4d309-480">[AzCopy](#subheading18) effectue des téléchargements en parallèle et son utilisation est recommandée pour ce scénario.</span><span class="sxs-lookup"><span data-stu-id="4d309-480">[AzCopy](#subheading18) performs uploads in parallel by default, and is recommended for this scenario.</span></span>  

### <span data-ttu-id="4d309-481"><a name="subheading23"></a>Choix d’objets blob correct de type hello</span><span class="sxs-lookup"><span data-stu-id="4d309-481"><a name="subheading23"></a>Choosing hello correct type of blob</span></span>
<span data-ttu-id="4d309-482">Azure Storage prend en charge deux types d’objet blob : *de pages* et *de blocs*.</span><span class="sxs-lookup"><span data-stu-id="4d309-482">Azure Storage supports two types of blob: *page* blobs and *block* blobs.</span></span> <span data-ttu-id="4d309-483">Pour un scénario donné, le choix du type d’objet blob affectera les performances hello et l’évolutivité de votre solution.</span><span class="sxs-lookup"><span data-stu-id="4d309-483">For a given usage scenario, your choice of blob type will affect hello performance and scalability of your solution.</span></span> <span data-ttu-id="4d309-484">Objets BLOB de blocs est appropriés lorsque vous souhaitez qu’efficacement tooupload grandes quantités de données : par exemple, une application cliente peut-être les photos tooupload ou vidéo tooblob stockage.</span><span class="sxs-lookup"><span data-stu-id="4d309-484">Block blobs are appropriate when you want tooupload large amounts of data efficiently: for example, a client application may need tooupload photos or video tooblob storage.</span></span> <span data-ttu-id="4d309-485">Objets BLOB de pages est approprié si l’application hello doit tooperform des écritures aléatoires sur les données de salutation : par exemple, les disques durs virtuels de Azure sont stockés en tant qu’objets BLOB de pages.</span><span class="sxs-lookup"><span data-stu-id="4d309-485">Page blobs are appropriate if hello application needs tooperform random writes on hello data: for example, Azure VHDs are stored as page blobs.</span></span>  

<span data-ttu-id="4d309-486">Pour plus d’informations, consultez [Présentation des objets blob de blocs, des objets blob d’ajout et des objets blob de pages](http://msdn.microsoft.com/library/azure/ee691964.aspx).</span><span class="sxs-lookup"><span data-stu-id="4d309-486">For more information, see [Understanding Block Blobs, Append Blobs, and Page Blobs](http://msdn.microsoft.com/library/azure/ee691964.aspx).</span></span>  

## <a name="tables"></a><span data-ttu-id="4d309-487">Tables</span><span class="sxs-lookup"><span data-stu-id="4d309-487">Tables</span></span>
<span data-ttu-id="4d309-488">Dans toohello plus pratiques pour éprouvées [tous les Services](#allservices) décrit précédemment, suivant hello pratiques éprouvées s’appliquent en particulier le service de table toohello.</span><span class="sxs-lookup"><span data-stu-id="4d309-488">In addition toohello proven practices for [All Services](#allservices) described previously, hello following proven practices apply specifically toohello table service.</span></span>  

### <span data-ttu-id="4d309-489"><a name="subheading24"></a>Objectifs d’extensibilité propres aux tables</span><span class="sxs-lookup"><span data-stu-id="4d309-489"><a name="subheading24"></a>Table-Specific Scalability Targets</span></span>
<span data-ttu-id="4d309-490">Dans les limitations de bande passante plus toohello d’un compte de stockage dans son intégralité, les tables ont hello suivant limite d’évolutivité spécifique.</span><span class="sxs-lookup"><span data-stu-id="4d309-490">In addition toohello bandwidth limitations of an entire storage account, tables have hello following specific scalability limit.</span></span>  <span data-ttu-id="4d309-491">Notez que le système de hello équilibre la charge en tant que votre augmente le trafic, mais si votre trafic possède des rafales soudaines, vous ne pouvez pas être en mesure de tooget ce volume de débit d’immédiatement.</span><span class="sxs-lookup"><span data-stu-id="4d309-491">Note that hello system will load balance as your traffic increases, but if your traffic has sudden bursts, you may not be able tooget this volume of throughput immediately.</span></span>  <span data-ttu-id="4d309-492">Si votre modèle a des pics d’activité, vous devriez toosee limitation et/ou des délais d’attente pendant hello rafale en tant que service de stockage hello automatiquement équilibre la charge de votre table.</span><span class="sxs-lookup"><span data-stu-id="4d309-492">If your pattern has bursts, you should expect toosee throttling and/or timeouts during hello burst as hello storage service automatically load balances out your table.</span></span>  <span data-ttu-id="4d309-493">En identifiant lentement généralement a meilleurs résultats, car il fournit solde de tooload de temps système hello de manière appropriée.</span><span class="sxs-lookup"><span data-stu-id="4d309-493">Ramping up slowly generally has better results as it gives hello system time tooload balance appropriately.</span></span>  

#### <a name="entities-per-second-account"></a><span data-ttu-id="4d309-494">Entités par seconde (compte)</span><span class="sxs-lookup"><span data-stu-id="4d309-494">Entities per Second (Account)</span></span>
<span data-ttu-id="4d309-495">limite d’évolutivité Hello pour l’accès aux tables est too20, 000 entités (1 Ko) par seconde pour un compte.</span><span class="sxs-lookup"><span data-stu-id="4d309-495">hello scalability limit for accessing tables is up too20,000 entities (1KB each) per second for an account.</span></span>  <span data-ttu-id="4d309-496">En règle générale, chaque entité insérée, mise à jour, supprimée ou analysée est comptabilisée.</span><span class="sxs-lookup"><span data-stu-id="4d309-496">In general, each entity that is inserted, updated, deleted, or scanned counts toward this target.</span></span>  <span data-ttu-id="4d309-497">Une insertion par lots composée de 100 entités compte donc pour 100 entités.</span><span class="sxs-lookup"><span data-stu-id="4d309-497">So a batch insert that contains 100 entities would count as 100 entities.</span></span>  <span data-ttu-id="4d309-498">De même, une requête qui analyse 1 000 entités et en renvoie 5 compte pour 1 000 entités.</span><span class="sxs-lookup"><span data-stu-id="4d309-498">A query that scans 1000 entities and returns 5 would count as 1000 entities.</span></span>  

#### <a name="entities-per-second-partition"></a><span data-ttu-id="4d309-499">Entités par seconde (partition)</span><span class="sxs-lookup"><span data-stu-id="4d309-499">Entities per Second (Partition)</span></span>
<span data-ttu-id="4d309-500">Dans une même partition, hello cible d’évolutivité pour l’accès aux tables d’est 2 000 entités (1 Ko) par seconde, à l’aide de hello comptage même comme décrit dans la section précédente de hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-500">Within a single partition, hello scalability target for accessing tables is 2,000 entities (1KB each) per second, using hello same counting as described in hello previous section.</span></span>  

### <a name="configuration"></a><span data-ttu-id="4d309-501">Configuration</span><span class="sxs-lookup"><span data-stu-id="4d309-501">Configuration</span></span>
<span data-ttu-id="4d309-502">Cette section répertorie plusieurs paramètres de configuration rapide que vous pouvez utiliser des améliorations significatives des performances de toomake hello service de table :</span><span class="sxs-lookup"><span data-stu-id="4d309-502">This section lists several quick configuration settings that you can use toomake significant performance improvements in hello table service:</span></span>  

#### <span data-ttu-id="4d309-503"><a name="subheading25"></a>Utilisation de JSON</span><span class="sxs-lookup"><span data-stu-id="4d309-503"><a name="subheading25"></a>Use JSON</span></span>
<span data-ttu-id="4d309-504">Depuis la version de service de stockage 2013-08-15, service de table hello prend en charge l’utilisation de JSON au lieu du format de basé sur XML de AtomPub hello pour le transfert de données de la table.</span><span class="sxs-lookup"><span data-stu-id="4d309-504">Beginning with storage service version 2013-08-15, hello table service supports using JSON instead of hello XML-based AtomPub format for transferring table data.</span></span> <span data-ttu-id="4d309-505">Cela peut réduire la taille de la charge utile de 75 % et peut améliorer considérablement les performances de hello de votre application.</span><span class="sxs-lookup"><span data-stu-id="4d309-505">This can reduce payload sizes by as much as 75% and can significantly improve hello performance of your application.</span></span>

<span data-ttu-id="4d309-506">Pour plus d’informations, consultez hello [les Tables Microsoft Azure : présentation de JSON](http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/05/windows-azure-tables-introducing-json.aspx) et [Format de charge utile pour les opérations de Service de Table](http://msdn.microsoft.com/library/azure/dn535600.aspx).</span><span class="sxs-lookup"><span data-stu-id="4d309-506">For more information, see hello post [Microsoft Azure Tables: Introducing JSON](http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/05/windows-azure-tables-introducing-json.aspx) and [Payload Format for Table Service Operations](http://msdn.microsoft.com/library/azure/dn535600.aspx).</span></span>

#### <span data-ttu-id="4d309-507"><a name="subheading26"></a>Désactivation de Nagle</span><span class="sxs-lookup"><span data-stu-id="4d309-507"><a name="subheading26"></a>Nagle Off</span></span>
<span data-ttu-id="4d309-508">Algorithme de Nagle est largement implémenté sur les réseaux TCP/IP moyens tooimprove des performances réseau.</span><span class="sxs-lookup"><span data-stu-id="4d309-508">Nagle's algorithm is widely implemented across TCP/IP networks as a means tooimprove network performance.</span></span> <span data-ttu-id="4d309-509">Cependant, il n’est pas idéal dans toutes les situations (c’est le cas, par exemple, dans les environnements très interactifs).</span><span class="sxs-lookup"><span data-stu-id="4d309-509">However, it is not optimal in all circumstances (such as highly interactive environments).</span></span> <span data-ttu-id="4d309-510">Pour le stockage Azure, algorithme de Nagle a un impact négatif sur les performances de hello de demandes toohello table et file d’attente des services, et vous devez la désactiver si possible.</span><span class="sxs-lookup"><span data-stu-id="4d309-510">For Azure Storage, Nagle's algorithm has a negative impact on hello performance of requests toohello table and queue services, and you should disable it if possible.</span></span>  

<span data-ttu-id="4d309-511">Pour plus d’informations, voir notre blog [algorithme du Nagle n’est pas convivial aux petites requêtes](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx), qui explique pourquoi algorithme de Nagle interagit mal avec les requêtes de table et de la file d’attente et montre comment toodisable dans votre client application.</span><span class="sxs-lookup"><span data-stu-id="4d309-511">For more information, see our blog post [Nagle's Algorithm is Not Friendly towards Small Requests](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx), which explains why Nagle's algorithm interacts poorly with table and queue requests, and shows how toodisable it in your client application.</span></span>  

### <a name="schema"></a><span data-ttu-id="4d309-512">Schéma</span><span class="sxs-lookup"><span data-stu-id="4d309-512">Schema</span></span>
<span data-ttu-id="4d309-513">Utilisation de représenter et d’interroger vos données est hello plus un facteur qui affecte les performances de hello du service de table hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-513">How you represent and query your data is hello biggest single factor that affects hello performance of hello table service.</span></span> <span data-ttu-id="4d309-514">Bien que chaque application soit différente, cette section énumère quelques pratiques générales concernant les points suivants :</span><span class="sxs-lookup"><span data-stu-id="4d309-514">While every application is different, this section outlines some general proven practices that relate to:</span></span>  

* <span data-ttu-id="4d309-515">Conception de tables</span><span class="sxs-lookup"><span data-stu-id="4d309-515">Table design</span></span>
* <span data-ttu-id="4d309-516">Requêtes efficaces</span><span class="sxs-lookup"><span data-stu-id="4d309-516">Efficient queries</span></span>
* <span data-ttu-id="4d309-517">Mises à jour de données efficaces</span><span class="sxs-lookup"><span data-stu-id="4d309-517">Efficient data updates</span></span>  

#### <span data-ttu-id="4d309-518"><a name="subheading27"></a>Tables et partitions</span><span class="sxs-lookup"><span data-stu-id="4d309-518"><a name="subheading27"></a>Tables and partitions</span></span>
<span data-ttu-id="4d309-519">Les tables sont divisées en partitions.</span><span class="sxs-lookup"><span data-stu-id="4d309-519">Tables are divided into partitions.</span></span> <span data-ttu-id="4d309-520">Chaque entité stocké dans une partition partages hello la même clé de partition et a un tooidentify de clé de ligne unique dans cette partition.</span><span class="sxs-lookup"><span data-stu-id="4d309-520">Every entity stored in a partition shares hello same partition key and has a unique row key tooidentify it within that partition.</span></span> <span data-ttu-id="4d309-521">Les partitions offrent des avantages, mais elles s’accompagnent également de limites d’extensibilité.</span><span class="sxs-lookup"><span data-stu-id="4d309-521">Partitions provide benefits but also introduce scalability limits.</span></span>  

* <span data-ttu-id="4d309-522">Avantages : Vous pouvez mettre à jour les entités Bonjour même partition dans une transaction par lots atomiques, qui contient les opérations de stockage distincts too100 (limite de taille totale de 4 Mo).</span><span class="sxs-lookup"><span data-stu-id="4d309-522">Benefits: You can update entities in hello same partition in a single, atomic, batch transaction that contains up too100 separate storage operations (limit of 4MB total size).</span></span> <span data-ttu-id="4d309-523">En supposant que hello même nombre de toobe entités récupérée, vous pouvez également interroger les données dans une même partition plus efficacement que les données qui s’étend sur les partitions (bien que lecture pour les recommandations sur l’interrogation des données de table).</span><span class="sxs-lookup"><span data-stu-id="4d309-523">Assuming hello same number of entities toobe retrieved, you can also query data within a single partition more efficiently than data that spans partitions (though read on for further recommendations on querying table data).</span></span>
* <span data-ttu-id="4d309-524">Limite d’extensibilité : tooentities d’accès stockées dans une partition unique ne peut pas être équilibrée, car les partitions prennent en charge les transactions atomiques par lots.</span><span class="sxs-lookup"><span data-stu-id="4d309-524">Scalability limit: Access tooentities stored in a single partition cannot be load-balanced because partitions support atomic batch transactions.</span></span> <span data-ttu-id="4d309-525">Pour cette raison, la cible d’évolutivité hello pour une partition de table individuelle est inférieur à celui service de table hello dans sa globalité.</span><span class="sxs-lookup"><span data-stu-id="4d309-525">For this reason, hello scalability target for an individual table partition is lower than for hello table service as a whole.</span></span>  

<span data-ttu-id="4d309-526">En raison de ces caractéristiques des tables et des partitions, vous devez adopter hello suivant les principes de conception :</span><span class="sxs-lookup"><span data-stu-id="4d309-526">Because of these characteristics of tables and partitions, you should adopt hello following design principles:</span></span>  

* <span data-ttu-id="4d309-527">Les données que votre application cliente fréquemment mis à jour ou de l’interrogation Bonjour même unité logique de travail doit se trouver dans hello même partition.</span><span class="sxs-lookup"><span data-stu-id="4d309-527">Data that your client application frequently updated or queried in hello same logical unit of work should be located in hello same partition.</span></span>  <span data-ttu-id="4d309-528">Cela peut être, car votre application est l’agrégation des écritures ou vous souhaitez parti tootake des opérations atomiques par lots.</span><span class="sxs-lookup"><span data-stu-id="4d309-528">This may be because your application is aggregating writes, or because you want tootake advantage of atomic batch operations.</span></span>  <span data-ttu-id="4d309-529">Ajoutons encore que les données d’une seule partition peuvent être interrogées plus efficacement dans une seule requête que les données de plusieurs partitions.</span><span class="sxs-lookup"><span data-stu-id="4d309-529">Also, data in a single partition can be more efficiently queried in a single query than data across partitions.</span></span>
* <span data-ttu-id="4d309-530">Les données que votre application cliente ne pas insérer/mettre à jour ou une requête dans hello même unité logique de travail (requête unique ou mise à jour du lot) doit se trouver dans des partitions distinctes.</span><span class="sxs-lookup"><span data-stu-id="4d309-530">Data that your client application does not insert/update or query in hello same logical unit of work (single query or batch update) should be located in separate partitions.</span></span>  <span data-ttu-id="4d309-531">Une remarque importante n’est qu’aucun toohello limiter le nombre de clés de partition dans une table unique, afin d’avoir des millions de clés de partition n’est pas un problème et n’affectera pas les performances.</span><span class="sxs-lookup"><span data-stu-id="4d309-531">One important note is that there is no limit toohello number of partition keys in a single table, so having millions of partition keys is not a problem and will not impact performance.</span></span>  <span data-ttu-id="4d309-532">Par exemple, si votre application est un site de Web populaires avec la connexion de l’utilisateur, à l’aide de hello Id d’utilisateur en tant que clé de partition hello peut être un bon choix.</span><span class="sxs-lookup"><span data-stu-id="4d309-532">For example, if your application is a popular website with user login, using hello User Id as hello partition key could be a good choice.</span></span>  

#### <a name="hot-partitions"></a><span data-ttu-id="4d309-533">Partitions actives</span><span class="sxs-lookup"><span data-stu-id="4d309-533">Hot Partitions</span></span>
<span data-ttu-id="4d309-534">Une partition à chaud est une tâche qui reçoit un pourcentage disproportionné de compte de tooan hello du trafic, et ne peut pas être à charge équilibrée, car il s’agit d’une seule partition.</span><span class="sxs-lookup"><span data-stu-id="4d309-534">A hot partition is one that is receiving a disproportionate percentage of hello traffic tooan account, and cannot be load balanced because it is a single partition.</span></span>  <span data-ttu-id="4d309-535">En règle générale, la création des partitions actives s’effectue de l’une des façons suivantes :</span><span class="sxs-lookup"><span data-stu-id="4d309-535">In general, hot partitions are created one of two ways:</span></span>  

##### <span data-ttu-id="4d309-536"><a name="subheading28"></a>Modèles « Ajouter après uniquement » et « Ajouter avant uniquement »</span><span class="sxs-lookup"><span data-stu-id="4d309-536"><a name="subheading28"></a>Append Only and Prepend Only patterns</span></span>
<span data-ttu-id="4d309-537">Hello « Ajouter uniquement » est un modèle dans lequel toutes les (ou quasiment tous) de hello trafic tooa donné PK augmentent et diminuent toohello conséquente heure actuelle.</span><span class="sxs-lookup"><span data-stu-id="4d309-537">hello "Append Only" pattern is one where all (or nearly all) of hello traffic tooa given PK increases and decreases according toohello current time.</span></span>  <span data-ttu-id="4d309-538">Un exemple est si votre application a utilisé hello date actuelle en tant que clé de partition pour les données de journal.</span><span class="sxs-lookup"><span data-stu-id="4d309-538">An example is if your application used hello current date as a partition key for log data.</span></span>  <span data-ttu-id="4d309-539">Ainsi, toutes les insertions hello va toohello dernière partition dans la table, et système de hello ne peut pas équilibrer la charge, car toutes les écritures de hello sont toohello fin de votre table.</span><span class="sxs-lookup"><span data-stu-id="4d309-539">This results in all of hello inserts going toohello last partition in your table, and hello system cannot load balance because all of hello writes are going toohello end of your table.</span></span>  <span data-ttu-id="4d309-540">Si le volume de hello de partition toothat de trafic dépasse la cible d’évolutivité de niveau de la partition de hello, elle entraîne la limitation.</span><span class="sxs-lookup"><span data-stu-id="4d309-540">If hello volume of traffic toothat partition exceeds hello partition-level scalability target, then it will result in throttling.</span></span>  <span data-ttu-id="4d309-541">Il est mieux tooensure que le trafic est envoyé à des partitions toomultiple, hello de solde charge tooenable demande via votre table.</span><span class="sxs-lookup"><span data-stu-id="4d309-541">It's better tooensure that traffic is sent toomultiple partitions, tooenable load balance hello requests across your table.</span></span>  

##### <span data-ttu-id="4d309-542"><a name="subheading29"></a>Données à trafic élevé</span><span class="sxs-lookup"><span data-stu-id="4d309-542"><a name="subheading29"></a>High-Traffic Data</span></span>
<span data-ttu-id="4d309-543">Si vos résultats de schéma de partitionnement dans une seule partition qui comporte uniquement des données qui sert beaucoup plus que les autres partitions, vous pouvez également voir la limitation comme cible d’évolutivité hello pour une partition unique s’approche de cette partition.</span><span class="sxs-lookup"><span data-stu-id="4d309-543">If your partitioning scheme results in a single partition that just has data that is far more used than other partitions, you may also see throttling as that partition approaches hello scalability target for a single partition.</span></span>  <span data-ttu-id="4d309-544">Il s’agit d’une meilleure toomake sûr que vos résultats de schéma de partition dans aucun unique partitionnement approchant objectifs d’évolutivité hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-544">It's better toomake sure that your partition scheme results in no single partition approaching hello scalability targets.</span></span>  

#### <a name="querying"></a><span data-ttu-id="4d309-545">Interrogation</span><span class="sxs-lookup"><span data-stu-id="4d309-545">Querying</span></span>
<span data-ttu-id="4d309-546">Cette section décrit des pratiques éprouvées pour interroger le service de table hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-546">This section describes proven practices for querying hello table service.</span></span>  

##### <span data-ttu-id="4d309-547"><a name="subheading30"></a>Étendue de requête</span><span class="sxs-lookup"><span data-stu-id="4d309-547"><a name="subheading30"></a>Query Scope</span></span>
<span data-ttu-id="4d309-548">Il existe plusieurs façons toospecify hello plage tooquery d’entités.</span><span class="sxs-lookup"><span data-stu-id="4d309-548">There are several ways toospecify hello range of entities tooquery.</span></span>  <span data-ttu-id="4d309-549">Hello Voici une présentation des utilisations hello de chaque.</span><span class="sxs-lookup"><span data-stu-id="4d309-549">hello following is a discussion of hello uses of each.</span></span>  

<span data-ttu-id="4d309-550">En règle générale, évitez d’analyses (requêtes supérieure à une seule entité), mais si vous devez analyser, essayez tooorganize vos données afin que vos analyses récupérer les données hello sans analyse ou le renvoi d’importantes quantités d’entités que vous n’avez pas besoin.</span><span class="sxs-lookup"><span data-stu-id="4d309-550">In general, avoid scans (queries larger than a single entity), but if you must scan, try tooorganize your data so that your scans retrieve hello data you need without scanning or returning significant amounts of entities you don't need.</span></span>  

###### <a name="point-queries"></a><span data-ttu-id="4d309-551">Requêtes de point</span><span class="sxs-lookup"><span data-stu-id="4d309-551">Point Queries</span></span>
<span data-ttu-id="4d309-552">Une requête de point récupère exactement une entité.</span><span class="sxs-lookup"><span data-stu-id="4d309-552">A point query retrieves exactly one entity.</span></span> <span data-ttu-id="4d309-553">Pour cela, en spécifiant la clé de partition hello et clé de ligne de hello entité tooretrieve.</span><span class="sxs-lookup"><span data-stu-id="4d309-553">It does this by specifying both hello partition key and row key of hello entity tooretrieve.</span></span> <span data-ttu-id="4d309-554">Ces requêtes s’avèrent particulièrement efficaces et il est conseillé de les utiliser autant que possible.</span><span class="sxs-lookup"><span data-stu-id="4d309-554">These queries are very efficient, and you should use them wherever possible.</span></span>  

###### <a name="partition-queries"></a><span data-ttu-id="4d309-555">Requêtes de partition</span><span class="sxs-lookup"><span data-stu-id="4d309-555">Partition Queries</span></span>
<span data-ttu-id="4d309-556">Une requête de partition récupère un jeu de données qui partagent une clé de partition commune.</span><span class="sxs-lookup"><span data-stu-id="4d309-556">A partition query is a query that retrieves a set of data that shares a common partition key.</span></span> <span data-ttu-id="4d309-557">En règle générale, les requêtes hello spécifie une plage de valeurs de clé de ligne ou une plage de valeurs de propriété d’entité dans la clé de partition tooa Ajout.</span><span class="sxs-lookup"><span data-stu-id="4d309-557">Typically, hello query specifies a range of row key values or a range of values for some entity property in addition tooa partition key.</span></span> <span data-ttu-id="4d309-558">Les requêtes de partition sont moins efficaces que les requêtes de point et doivent être utilisées avec modération.</span><span class="sxs-lookup"><span data-stu-id="4d309-558">These are less efficient than point queries, and should be used sparingly.</span></span>  

###### <a name="table-queries"></a><span data-ttu-id="4d309-559">Requêtes de table</span><span class="sxs-lookup"><span data-stu-id="4d309-559">Table Queries</span></span>
<span data-ttu-id="4d309-560">Une requête de table récupère un jeu d’entités ne partageant pas une clé de partition commune.</span><span class="sxs-lookup"><span data-stu-id="4d309-560">A table query is a query that retrieves a set of entities that does not share a common partition key.</span></span> <span data-ttu-id="4d309-561">Les requêtes de ce type ne sont pas efficaces et il est conseillé de les éviter dans la mesure du possible.</span><span class="sxs-lookup"><span data-stu-id="4d309-561">These queries are not efficient and you should avoid them if possible.</span></span>  

##### <span data-ttu-id="4d309-562"><a name="subheading31"></a>Densité des requêtes</span><span class="sxs-lookup"><span data-stu-id="4d309-562"><a name="subheading31"></a>Query Density</span></span>
<span data-ttu-id="4d309-563">Un autre facteur clé pour l’efficacité des requêtes est un nombre hello d’entités retournées en tant que nombre toohello comparés d’entités toofind numérisés hello retournée défini.</span><span class="sxs-lookup"><span data-stu-id="4d309-563">Another key factor in query efficiency is hello number of entities returned as compared toohello number of entities scanned toofind hello returned set.</span></span> <span data-ttu-id="4d309-564">Si votre application effectue une requête de table avec un filtre pour une valeur de propriété qu’uniquement 1 % des partages de données hello, hello requête analyse 100 entités pour chaque une entité, qu'elle retourne.</span><span class="sxs-lookup"><span data-stu-id="4d309-564">If your application performs a table query with a filter for a property value that only 1% of hello data shares, hello query will scan 100 entities for every one entity it returns.</span></span> <span data-ttu-id="4d309-565">Hello objectifs d’évolutivité de table décrites précédemment nombre toohello d’entités analysées sont liés et pas hello nombre d’entités retournées : une densité basse de requête peut amener facilement hello table service toothrottle votre application, car il doit analyser autant entité de hello tooretrieve entités souhaité.</span><span class="sxs-lookup"><span data-stu-id="4d309-565">hello table scalability targets discussed previously all relate toohello number of entities scanned, and not hello number of entities returned: a low query density can easily cause hello table service toothrottle your application because it must scan so many entities tooretrieve hello entity you are looking for.</span></span>  <span data-ttu-id="4d309-566">Consultez la section hello ci-dessous sur [dénormalisation](#subheading34) pour plus d’informations sur la façon de tooavoid cela.</span><span class="sxs-lookup"><span data-stu-id="4d309-566">See hello section below on [denormalization](#subheading34) for more information on how tooavoid this.</span></span>  

##### <a name="limiting-hello-amount-of-data-returned"></a><span data-ttu-id="4d309-567">Limitation hello quantité de données retournées</span><span class="sxs-lookup"><span data-stu-id="4d309-567">Limiting hello Amount of Data Returned</span></span>
###### <span data-ttu-id="4d309-568"><a name="subheading32"></a>Filtrage</span><span class="sxs-lookup"><span data-stu-id="4d309-568"><a name="subheading32"></a>Filtering</span></span>
<span data-ttu-id="4d309-569">Lorsque vous savez qu’une requête retourne les entités que vous n’avez pas besoin dans l’application cliente de hello, envisagez d’utiliser une taille de hello filtre tooreduce Hello a retourné un ensemble.</span><span class="sxs-lookup"><span data-stu-id="4d309-569">Where you know that a query will return entities that you don't need in hello client application, consider using a filter tooreduce hello size of hello returned set.</span></span> <span data-ttu-id="4d309-570">Alors que les entités hello ne retourné pas toohello client toujours comptabilisé dans les limites d’extensibilité hello, améliorent en raison de la taille de la charge réseau réduite de hello et hello réduit le nombre d’entités que votre application cliente doit traiter les performances de votre application .</span><span class="sxs-lookup"><span data-stu-id="4d309-570">While hello entities not returned toohello client still count toward hello scalability limits, your application performance will improve because of hello reduced network payload size and hello reduced number of entities that your client application must process.</span></span>  <span data-ttu-id="4d309-571">Voir ci-dessus Remarque sur [densité de la requête](#subheading31), cependant – objectifs d’évolutivité hello concernent les nombre toohello d’entités analysées, une requête qui filtre les nombreuses entités peut toujours aboutira à la limitation, même si quelques entités sont retournées.</span><span class="sxs-lookup"><span data-stu-id="4d309-571">See above note on [Query Density](#subheading31), however – hello scalability targets relate toohello number of entities scanned, so a query that filters out many entities may still result in throttling, even if few entities are returned.</span></span>  

###### <span data-ttu-id="4d309-572"><a name="subheading33"></a>Projection</span><span class="sxs-lookup"><span data-stu-id="4d309-572"><a name="subheading33"></a>Projection</span></span>
<span data-ttu-id="4d309-573">Si votre application cliente doit uniquement un ensemble limité de propriétés à partir des entités hello dans votre table, vous pouvez utiliser la taille de hello toolimit projection de hello a retourné un ensemble de données.</span><span class="sxs-lookup"><span data-stu-id="4d309-573">If your client application needs only a limited set of properties from hello entities in your table, you can use projection toolimit hello size of hello returned data set.</span></span> <span data-ttu-id="4d309-574">Comme avec le filtrage, cela permet de tooreduce de la charge réseau et le traitement client.</span><span class="sxs-lookup"><span data-stu-id="4d309-574">As with filtering, this helps tooreduce network load and client processing.</span></span>  

##### <span data-ttu-id="4d309-575"><a name="subheading34"></a>Dénormalisation</span><span class="sxs-lookup"><span data-stu-id="4d309-575"><a name="subheading34"></a>Denormalization</span></span>
<span data-ttu-id="4d309-576">Contrairement à l’utilisation de bases de données relationnelles, hello pratiques permettant d’interroger efficacement les données de la table entraîner toodenormalizing vos données.</span><span class="sxs-lookup"><span data-stu-id="4d309-576">Unlike working with relational databases, hello proven practices for efficiently querying table data lead toodenormalizing your data.</span></span> <span data-ttu-id="4d309-577">Autrement dit, la duplication hello mêmes données dans plusieurs entités (une pour chaque clé, vous pouvez utiliser les données de salutation toofind) nombre de hello toominimize d’entités qu’une requête doit analyser les besoins du client toofind hello données hello, au lieu d’utiliser tooscan grand nombre d’entités toofind les données de salutation votre application a besoin.</span><span class="sxs-lookup"><span data-stu-id="4d309-577">That is, duplicating hello same data in multiple entities (one for each key you may use toofind hello data) toominimize hello number of entities that a query must scan toofind hello data hello client needs, rather than having tooscan large numbers of entities toofind hello data your application needs.</span></span>  <span data-ttu-id="4d309-578">Par exemple, dans un site Web de commerce électronique, vous souhaiterez peut-être toofind une commande par ID de client hello (donner les commandes de ce client) et par date de hello (me donner les commandes à une date).</span><span class="sxs-lookup"><span data-stu-id="4d309-578">For example, in an e-commerce website, you may want toofind an order both by hello customer ID (give me this customer's orders) and by hello date (give me orders on a date).</span></span>  <span data-ttu-id="4d309-579">Dans le stockage de Table, il est meilleure entité de hello toostore (ou un tooit de référence) à deux reprises : une fois avec le nom de la Table, PK et Kit de ressources recherche toofacilitate par ID de client, une fois les toofacilitate recherchant par date de hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-579">In Table Storage, it is best toostore hello entity (or a reference tooit) twice – once with Table Name, PK, and RK toofacilitate finding by customer ID, once toofacilitate finding it by hello date.</span></span>  

#### <a name="insertupdatedelete"></a><span data-ttu-id="4d309-580">Insertion/Mise à jour/Suppression</span><span class="sxs-lookup"><span data-stu-id="4d309-580">Insert/Update/Delete</span></span>
<span data-ttu-id="4d309-581">Cette section décrit des pratiques éprouvées pour la modification des entités stockées dans le service de table hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-581">This section describes proven practices for modifying entities stored in hello table service.</span></span>  

##### <span data-ttu-id="4d309-582"><a name="subheading35"></a>Traitement par lot</span><span class="sxs-lookup"><span data-stu-id="4d309-582"><a name="subheading35"></a>Batching</span></span>
<span data-ttu-id="4d309-583">Transactions par lots sont connues en tant qu’entité groupe de Transactions (ETG) dans le stockage Azure ; toutes les opérations de hello dans un ETG doivent être sur une partition unique dans une table unique.</span><span class="sxs-lookup"><span data-stu-id="4d309-583">Batch transactions are known as Entity Group Transactions (ETG) in Azure Storage; all hello operations within an ETG must be on a single partition in a single table.</span></span> <span data-ttu-id="4d309-584">Si possible, utilisez ETGs tooperform insertions, mises à jour et suppressions en lots.</span><span class="sxs-lookup"><span data-stu-id="4d309-584">Where possible, use ETGs tooperform inserts, updates, and deletes in batches.</span></span> <span data-ttu-id="4d309-585">Cela réduit le nombre de hello d’allers-retours à partir de votre serveur toohello d’application client, réduit hello nombre de transactions facturables (un ETG compte comme une transaction unique à des fins de facturation et peut contenir des opérations de stockage too100) et permet atomique mises à jour (toutes les opérations réussissent ou l’ensemble d’échouer dans un ETG).</span><span class="sxs-lookup"><span data-stu-id="4d309-585">This reduces hello number of round trips from your client application toohello server, reduces hello number of billable transactions (an ETG counts as a single transaction for billing purposes and can contain up too100 storage operations), and enables atomic updates (all operations succeed or all fail within an ETG).</span></span> <span data-ttu-id="4d309-586">L’utilisation des ETG peut apporter des avantages non négligeables dans les environnements où les temps de latence sont élevés, tels que les appareils mobiles.</span><span class="sxs-lookup"><span data-stu-id="4d309-586">Environments with high latencies such as mobile devices will benefit greatly from using ETGs.</span></span>  

##### <span data-ttu-id="4d309-587"><a name="subheading36"></a>Opération Upsert</span><span class="sxs-lookup"><span data-stu-id="4d309-587"><a name="subheading36"></a>Upsert</span></span>
<span data-ttu-id="4d309-588">Lorsque cela s'avère possible, il est conseillé d'utiliser des opérations de table **Upsert** .</span><span class="sxs-lookup"><span data-stu-id="4d309-588">Use table **Upsert** operations wherever possible.</span></span> <span data-ttu-id="4d309-589">Il existe deux types d’opération **Upsert** ; tous deux peuvent se révéler plus efficaces que les opérations **Insert** et **Update** classiques :</span><span class="sxs-lookup"><span data-stu-id="4d309-589">There are two types of **Upsert**, both of which can be more efficient than a traditional **Insert** and **Update** operations:</span></span>  

* <span data-ttu-id="4d309-590">**InsertOrMerge**: utilisez cette option lorsque vous souhaitez tooupload un sous-ensemble de propriétés de l’entité hello, mais ne savez pas si les entités hello existant déjà.</span><span class="sxs-lookup"><span data-stu-id="4d309-590">**InsertOrMerge**: Use this when you want tooupload a subset of hello entity's properties, but aren't sure whether hello entity already exists.</span></span> <span data-ttu-id="4d309-591">Si l’entité hello existe, cet appel met à jour les propriétés de hello incluses dans hello **Upsert** opération et conserve toutes les propriétés existantes lorsqu’ils sont, si hello entité n’existe pas, il insère la nouvelle entité de hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-591">If hello entity exists, this call updates hello properties included in hello **Upsert** operation, and leaves all existing properties as they are, if hello entity does not exist, it inserts hello new entity.</span></span> <span data-ttu-id="4d309-592">Il s’agit de projection de toousing similaire dans une requête, vous devez uniquement les propriétés de hello tooupload qui sont en cours de modification.</span><span class="sxs-lookup"><span data-stu-id="4d309-592">This is similar toousing projection in a query, in that you only need tooupload hello properties that are changing.</span></span>
* <span data-ttu-id="4d309-593">**InsertOrReplace**: utilisez cette option lorsque vous souhaitez tooupload une toute nouvelle entité, mais vous ne savez pas si elle existe déjà.</span><span class="sxs-lookup"><span data-stu-id="4d309-593">**InsertOrReplace**: Use this when you want tooupload an entirely new entity, but you aren't sure whether it already exists.</span></span> <span data-ttu-id="4d309-594">Vous n’utilisez cette option lorsque vous savez que hello téléchargé nouvellement entité est entièrement correct, car elle remplace complètement l’ancienne entité de hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-594">You should only use this when you know that hello newly uploaded entity is entirely correct because it completely overwrites hello old entity.</span></span> <span data-ttu-id="4d309-595">Par exemple, vous souhaitez entité hello tooupdate qui stocke l’emplacement actuel de l’utilisateur, quelle que soit ou non application hello a précédemment stocké des données d’emplacement pour l’utilisateur de hello ; nouvelle entité d’emplacement Hello est terminée, et vous n’avez pas besoin de toutes les informations de toute entité précédente.</span><span class="sxs-lookup"><span data-stu-id="4d309-595">For example, you want tooupdate hello entity that stores a user's current location regardless of whether or not hello application has previously stored location data for hello user; hello new location entity is complete, and you do not need any information from any previous entity.</span></span>

##### <span data-ttu-id="4d309-596"><a name="subheading37"></a>Stockage de séries de données dans une seule entité</span><span class="sxs-lookup"><span data-stu-id="4d309-596"><a name="subheading37"></a>Storing Data Series in a Single Entity</span></span>
<span data-ttu-id="4d309-597">Parfois, une application stocke une série de données fréquemment doit avoir tooretrieve tous en même temps : par exemple, une application peut suivre l’utilisation du processeur au fil du temps dans l’ordre tooplot un graphique propagée de données de hello de hello des dernières 24 heures.</span><span class="sxs-lookup"><span data-stu-id="4d309-597">Sometimes, an application stores a series of data that it frequently needs tooretrieve all at once: for example, an application might track CPU usage over time in order tooplot a rolling chart of hello data from hello last 24 hours.</span></span> <span data-ttu-id="4d309-598">Une approche consiste à entité d’une table de toohave par heure, avec chaque entité représentant une heure spécifique et le stockage de l’utilisation du processeur hello pour cette heure.</span><span class="sxs-lookup"><span data-stu-id="4d309-598">One approach is toohave one table entity per hour, with each entity representing a specific hour and storing hello CPU usage for that hour.</span></span> <span data-ttu-id="4d309-599">tooplot ces données, l’application hello doivent les entités de hello tooretrieve contenant les données hello hello les dernières 24 heures.</span><span class="sxs-lookup"><span data-stu-id="4d309-599">tooplot this data, hello application needs tooretrieve hello entities holding hello data from hello 24 most recent hours.</span></span>  

<span data-ttu-id="4d309-600">Vous pouvez également votre application peut stocker d’utilisation de hello du processeur pour chaque heure sous la forme d’une propriété distincte d’une entité unique : tooupdate chaque heure, votre application peut utiliser un seul **InsertOrMerge Upsert** appeler la valeur de hello tooupdate pour hello heure la plus récente.</span><span class="sxs-lookup"><span data-stu-id="4d309-600">Alternatively, your application could store hello CPU usage for each hour as a separate property of a single entity: tooupdate each hour, your application can use a single **InsertOrMerge Upsert** call tooupdate hello value for hello most recent hour.</span></span> <span data-ttu-id="4d309-601">les données de salutation tooplot, application hello doit uniquement tooretrieve une seule entité au lieu de 24, pour une requête très efficace (voir ci-dessus la discussion sur [étendue de requête](#subheading30)).</span><span class="sxs-lookup"><span data-stu-id="4d309-601">tooplot hello data, hello application only needs tooretrieve a single entity instead of 24, making for a very efficient query (see above discussion on [query scope](#subheading30)).</span></span>

##### <span data-ttu-id="4d309-602"><a name="subheading38"></a>Stockage de données structurées dans des objets blob</span><span class="sxs-lookup"><span data-stu-id="4d309-602"><a name="subheading38"></a>Storing structured data in blobs</span></span>
<span data-ttu-id="4d309-603">Les données structurées donnent parfois l’impression qu’elles devraient être placées dans les tables. Cependant, les plages d’entités sont toujours récupérées ensemble et peuvent être insérées par lots.</span><span class="sxs-lookup"><span data-stu-id="4d309-603">Sometimes structured data feels like it should go in tables, but ranges of entities are always retrieved together and can be batch inserted.</span></span>  <span data-ttu-id="4d309-604">À cet égard, un fichier journal constitue un parfait exemple.</span><span class="sxs-lookup"><span data-stu-id="4d309-604">A good example of this is a log file.</span></span>  <span data-ttu-id="4d309-605">Dans ce cas, vous pouvez regrouper plusieurs minutes de journalisation et les insérer. Vous récupérez alors plusieurs minutes de journalisation à la fois.</span><span class="sxs-lookup"><span data-stu-id="4d309-605">In this case, you can batch several minutes of logs, insert them, and then you are always retrieving several minutes of logs at a time as well.</span></span>  <span data-ttu-id="4d309-606">Dans ce cas, pour des performances, il est mieux BLOB toouse plutôt que des tables, étant donné que vous pouvez réduire considérablement le nombre hello des objets écrits/retournés, ainsi généralement hello nombre de demandes qui doivent être effectuées.</span><span class="sxs-lookup"><span data-stu-id="4d309-606">In this case, for performance, it's better toouse blobs instead of tables, since you can significantly reduce hello number of objects written/returned, as well as usually hello number of requests that need made.</span></span>  

## <a name="queues"></a><span data-ttu-id="4d309-607">Files d’attente</span><span class="sxs-lookup"><span data-stu-id="4d309-607">Queues</span></span>
<span data-ttu-id="4d309-608">Dans toohello plus pratiques pour éprouvées [tous les Services](#allservices) décrit précédemment, suivant hello pratiques éprouvées s’appliquent en particulier le service de file d’attente toohello.</span><span class="sxs-lookup"><span data-stu-id="4d309-608">In addition toohello proven practices for [All Services](#allservices) described previously, hello following proven practices apply specifically toohello queue service.</span></span>  

### <span data-ttu-id="4d309-609"><a name="subheading39"></a>Limites d’extensibilité</span><span class="sxs-lookup"><span data-stu-id="4d309-609"><a name="subheading39"></a>Scalability Limits</span></span>
<span data-ttu-id="4d309-610">Une seule file d’attente peut traiter environ 2 000 messages (1 Ko chacun) par seconde (chaque AddMessage, GetMessage et DeleteMessage compte pour un message).</span><span class="sxs-lookup"><span data-stu-id="4d309-610">A single queue can process approximately 2,000 messages (1KB each) per second (each AddMessage, GetMessage, and DeleteMessage count as a message here).</span></span> <span data-ttu-id="4d309-611">Si cela est insuffisant pour votre application, utilisez plusieurs files d’attente et répartir les messages de type hello entre eux.</span><span class="sxs-lookup"><span data-stu-id="4d309-611">If this is insufficient for your application, you should use multiple queues and spread hello messages across them.</span></span>  

<span data-ttu-id="4d309-612">consultez les objectifs d’extensibilité actuels dans [Objectifs de performance et d’extensibilité d’Azure Storage](storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="4d309-612">View current scalability targets at [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md).</span></span>  

### <span data-ttu-id="4d309-613"><a name="subheading40"></a>Désactivation de Nagle</span><span class="sxs-lookup"><span data-stu-id="4d309-613"><a name="subheading40"></a>Nagle Off</span></span>
<span data-ttu-id="4d309-614">Consultez la section de hello sur la configuration de la table qui décrit l’algorithme Nagle de hello : algorithme Nagle de hello est généralement incorrect pour les performances hello de demandes de file d’attente, et vous devez les désactiver.</span><span class="sxs-lookup"><span data-stu-id="4d309-614">See hello section on table configuration that discusses hello Nagle algorithm — hello Nagle algorithm is generally bad for hello performance of queue requests, and you should disable it.</span></span>  

### <span data-ttu-id="4d309-615"><a name="subheading41"></a>Taille des messages</span><span class="sxs-lookup"><span data-stu-id="4d309-615"><a name="subheading41"></a>Message Size</span></span>
<span data-ttu-id="4d309-616">Les performances et l’extensibilité des files d’attente diminuent quand la taille de message augmente.</span><span class="sxs-lookup"><span data-stu-id="4d309-616">Queue performance and scalability decreases as message size increases.</span></span> <span data-ttu-id="4d309-617">Vous devez placer seul hello informations hello récepteur doit être dans un message.</span><span class="sxs-lookup"><span data-stu-id="4d309-617">You should place only hello information hello receiver needs in a message.</span></span>  

### <span data-ttu-id="4d309-618"><a name="subheading42"></a>Récupération par lots</span><span class="sxs-lookup"><span data-stu-id="4d309-618"><a name="subheading42"></a>Batch Retrieval</span></span>
<span data-ttu-id="4d309-619">Vous pouvez récupérer les messages too32 à partir d’une file d’attente en une seule opération.</span><span class="sxs-lookup"><span data-stu-id="4d309-619">You can retrieve up too32 messages from a queue in a single operation.</span></span> <span data-ttu-id="4d309-620">Cela peut réduire le nombre de hello d’allers-retours à partir de l’application cliente hello, qui est particulièrement utile pour les environnements, tels que des appareils mobiles, avec une latence élevée.</span><span class="sxs-lookup"><span data-stu-id="4d309-620">This can reduce hello number of roundtrips from hello client application, which is especially useful for environments, such as mobile devices, with high latency.</span></span>  

### <span data-ttu-id="4d309-621"><a name="subheading43"></a>Intervalle d'interrogation de file d'attente</span><span class="sxs-lookup"><span data-stu-id="4d309-621"><a name="subheading43"></a>Queue Polling Interval</span></span>
<span data-ttu-id="4d309-622">La plupart des applications vérifier les messages à partir d’une file d’attente, ce qui peut être une des sources de plus grande hello de transactions pour cette application.</span><span class="sxs-lookup"><span data-stu-id="4d309-622">Most applications poll for messages from a queue, which can be one of hello largest sources of transactions for that application.</span></span> <span data-ttu-id="4d309-623">Sélectionnez votre intervalle d’interrogation avec soin : interrogation trop fréquente, tooapproach de votre application peut entraîner des objectifs d’évolutivité hello pour la file d’attente hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-623">Select your polling interval wisely: polling too frequently could cause your application tooapproach hello scalability targets for hello queue.</span></span> <span data-ttu-id="4d309-624">Toutefois, les transactions 200 000 pour 0,01 $ (au moment de hello de l’écriture), un seul processeur, l’interrogation d’une fois par seconde pour un mois reviendrait à moins de 15 cents coûts n’est pas généralement un facteur qui affecte le choix de l’intervalle d’interrogation.</span><span class="sxs-lookup"><span data-stu-id="4d309-624">However, at 200,000 transactions for $0.01 (at hello time of writing), a single processor polling once every second for a month would cost less than 15 cents so cost is not typically a factor that affects your choice of polling interval.</span></span>  

<span data-ttu-id="4d309-625">Pour plus d’informations relatives au coût, consultez [Tarification Azure Storage](https://azure.microsoft.com/pricing/details/storage/).</span><span class="sxs-lookup"><span data-stu-id="4d309-625">For up-to-date cost information, see [Azure Storage Pricing](https://azure.microsoft.com/pricing/details/storage/).</span></span>  

### <span data-ttu-id="4d309-626"><a name="subheading44"></a>UpdateMessage</span><span class="sxs-lookup"><span data-stu-id="4d309-626"><a name="subheading44"></a>UpdateMessage</span></span>
<span data-ttu-id="4d309-627">Vous pouvez utiliser **UpdateMessage** tooincrease hello invisibilité délai d’attente tooupdate informations d’état ou d’un message.</span><span class="sxs-lookup"><span data-stu-id="4d309-627">You can use **UpdateMessage** tooincrease hello invisibility timeout or tooupdate state information of a message.</span></span> <span data-ttu-id="4d309-628">Bien que cela soit puissant, n’oubliez pas que chaque **UpdateMessage** opération compte vers la cible d’évolutivité hello.</span><span class="sxs-lookup"><span data-stu-id="4d309-628">While this is powerful, remember that each **UpdateMessage** operation counts towards hello scalability target.</span></span> <span data-ttu-id="4d309-629">Toutefois, cela peut être beaucoup plus efficace que d’avoir un flux de travail passe ensuite, un travail à partir d’une file d’attente toohello que chaque étape du travail de hello est terminée.</span><span class="sxs-lookup"><span data-stu-id="4d309-629">However, this can be a much more efficient approach than having a workflow that passes a job from one queue toohello next, as each step of hello job is completed.</span></span> <span data-ttu-id="4d309-630">À l’aide de hello **UpdateMessage** opération permet à votre message d’application toosave hello travail état toohello et ensuite continuer à travailler, au lieu de message de type hello ré-files d’attente pour l’étape suivante de hello du travail hello chaque fois qu’une étape est terminée.</span><span class="sxs-lookup"><span data-stu-id="4d309-630">Using hello **UpdateMessage** operation allows your application toosave hello job state toohello message and then continue working, instead of re-queuing hello message for hello next step of hello job every time a step completes.</span></span>  

<span data-ttu-id="4d309-631">Pour plus d’informations, voir l’article hello [Comment : modifier le contenu de hello d’un message en file d’attente](../queues/storage-dotnet-how-to-use-queues.md#change-the-contents-of-a-queued-message).</span><span class="sxs-lookup"><span data-stu-id="4d309-631">For more information, see hello article [How to: Change hello contents of a queued message](../queues/storage-dotnet-how-to-use-queues.md#change-the-contents-of-a-queued-message).</span></span>  

### <span data-ttu-id="4d309-632"><a name="subheading45"></a>Architecture de l’application</span><span class="sxs-lookup"><span data-stu-id="4d309-632"><a name="subheading45"></a>Application architecture</span></span>
<span data-ttu-id="4d309-633">Vous devez utiliser les files d’attente toomake évolutive de l’architecture de votre application.</span><span class="sxs-lookup"><span data-stu-id="4d309-633">You should use queues toomake your application architecture scalable.</span></span> <span data-ttu-id="4d309-634">suivant de Hello répertorie quelques méthodes que vous pouvez utiliser les files d’attente toomake votre application plus évolutive :</span><span class="sxs-lookup"><span data-stu-id="4d309-634">hello following lists some ways you can use queues toomake your application more scalable:</span></span>  

* <span data-ttu-id="4d309-635">Vous pouvez utiliser les backlogs de toocreate de files d’attente de travail pour le traitement et lisser les charges de travail dans votre application.</span><span class="sxs-lookup"><span data-stu-id="4d309-635">You can use queues toocreate backlogs of work for processing and smooth out workloads in your application.</span></span> <span data-ttu-id="4d309-636">Par exemple, vous a une file d’attente les demandes de travail nécessitant de processeur tooperform utilisateurs telles que le redimensionnement des images téléchargées.</span><span class="sxs-lookup"><span data-stu-id="4d309-636">For example, you could queue up requests from users tooperform processor intensive work such as resizing uploaded images.</span></span>
* <span data-ttu-id="4d309-637">Vous pouvez utiliser des parties de toodecouple les files d’attente de votre application afin que vous pouvez mettre à l’échelle indépendamment.</span><span class="sxs-lookup"><span data-stu-id="4d309-637">You can use queues toodecouple parts of your application so that you can scale them independently.</span></span> <span data-ttu-id="4d309-638">Un serveur web frontal peut, par exemple, placer les résultats d’une enquête en file d’attente en vue de les stocker et de les analyser ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="4d309-638">For example, a web front-end could place survey results from users into a queue for later analysis and storage.</span></span> <span data-ttu-id="4d309-639">Vous pouvez ajouter que plus tooprocess d’instances de rôle de travail hello des données de la file d’attente en fonction des besoins.</span><span class="sxs-lookup"><span data-stu-id="4d309-639">You could add more worker role instances tooprocess hello queue data as required.</span></span>  

## <a name="conclusion"></a><span data-ttu-id="4d309-640">Conclusion</span><span class="sxs-lookup"><span data-stu-id="4d309-640">Conclusion</span></span>
<span data-ttu-id="4d309-641">Cet article parlé de quelques hello courant, pratiques pour optimiser les performances lors de l’utilisation du stockage Azure éprouvées.</span><span class="sxs-lookup"><span data-stu-id="4d309-641">This article discussed some of hello most common, proven practices for optimizing performance when using Azure Storage.</span></span> <span data-ttu-id="4d309-642">Nous encourageons chaque tooassess de développeur d’application leur application auprès de chacun des hello ci-dessus pratiques et que vous envisagez agissant sur les performances exceptionnelles tooget recommandations hello pour leurs applications qui utilisent le stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4d309-642">We encourage every application developer tooassess their application against each of hello above practices and consider acting on hello recommendations tooget great performance for their applications that use Azure Storage.</span></span>
