---
title: "Utilisation d’Hudson avec le stockage Blob | Microsoft Azure"
description: "Description de l'utilisation de la solution Hudson avec le stockage d'objets blob Azure comme référentiel pour des artefacts de build."
services: storage
documentationcenter: java
author: seguler
manager: jahogg
editor: tysonn
ms.assetid: 119becdd-72c4-4ade-a439-070233c1e1ac
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: Java
ms.topic: article
ms.date: 02/28/2017
ms.author: seguler
ms.openlocfilehash: e54bedff5f744004288e132efbed8c3e7981f8a6
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/29/2017
---
# <a name="using-azure-storage-with-a-hudson-continuous-integration-solution"></a><span data-ttu-id="3c978-103">Utilisation d’Azure Storage avec une solution d’intégration continue Hudson</span><span class="sxs-lookup"><span data-stu-id="3c978-103">Using Azure Storage with a Hudson Continuous Integration solution</span></span>
## <a name="overview"></a><span data-ttu-id="3c978-104">Vue d'ensemble</span><span class="sxs-lookup"><span data-stu-id="3c978-104">Overview</span></span>
<span data-ttu-id="3c978-105">Les informations suivantes expliquent comment utiliser Blob Storage comme dépôt pour les artefacts de build créés par une solution d’intégration continue (CI) Hudson ou comme source de fichiers téléchargeables dans un processus de génération.</span><span class="sxs-lookup"><span data-stu-id="3c978-105">The following information shows how to use Blob storage as a repository of build artifacts created by a Hudson Continuous Integration (CI) solution, or as a source of downloadable files to be used in a build process.</span></span> <span data-ttu-id="3c978-106">Cela peut s'avérer utile dans plusieurs scénarios, notamment lorsque vous codez dans un environnement de développement agile (avec Java ou d'autres langages), que les builds s'exécutent sur la base d'une intégration continue et que vous avez besoin d'un référentiel pour vos artefacts de build, de manière, par exemple, à pouvoir les partager avec d'autres membres de l'organisation, vos clients, ou conserver une archive.</span><span class="sxs-lookup"><span data-stu-id="3c978-106">One of the scenarios where you would find this useful is when you're coding in an agile development environment (using Java or other languages), builds are running based on continuous integration, and you need a repository for your build artifacts, so that you could, for example, share them with other organization members, your customers, or maintain an archive.</span></span>  <span data-ttu-id="3c978-107">Il existe un autre scénario dans lequel votre tâche de build proprement dite requiert d'autres fichiers, comme des dépendances à télécharger dans le cadre de l'entrée de génération.</span><span class="sxs-lookup"><span data-stu-id="3c978-107">Another scenario is when your build job itself requires other files, for example, dependencies to download as part of the build input.</span></span>

<span data-ttu-id="3c978-108">Dans ce didacticiel, vous allez utiliser le plug-in Azure Storage pour Hudson CI mis à disposition par Microsoft.</span><span class="sxs-lookup"><span data-stu-id="3c978-108">In this tutorial you will be using the Azure Storage plugin for Hudson CI made available by Microsoft.</span></span>

## <a name="introduction-to-hudson"></a><span data-ttu-id="3c978-109">Présentation de Hudson</span><span class="sxs-lookup"><span data-stu-id="3c978-109">Introduction to Hudson</span></span>
<span data-ttu-id="3c978-110">Hudson rend possible l’intégration continue d’un projet de logiciel en permettant aux développeurs d’intégrer aisément les modifications de leur code et de créer automatiquement et fréquemment des builds, d’où une productivité accrue.</span><span class="sxs-lookup"><span data-stu-id="3c978-110">Hudson enables continuous integration of a software project by allowing developers to easily integrate their code changes and have builds produced automatically and frequently, thereby increasing the productivity of the developers.</span></span> <span data-ttu-id="3c978-111">Les versions des builds sont gérées et les artefacts de build peuvent être téléchargés dans divers référentiels.</span><span class="sxs-lookup"><span data-stu-id="3c978-111">Builds are versioned, and build artifacts can be uploaded to various repositories.</span></span> <span data-ttu-id="3c978-112">Dans cet article, vous allez apprendre à utiliser le stockage d'objets blob Azure comme référentiel des artefacts de build.</span><span class="sxs-lookup"><span data-stu-id="3c978-112">This article will show how to use Azure Blob storage as the repository of the build artifacts.</span></span> <span data-ttu-id="3c978-113">Vous allez également apprendre à télécharger des dépendances depuis le stockage d'objets blob Azure.</span><span class="sxs-lookup"><span data-stu-id="3c978-113">It will also show how to download dependencies from Azure Blob storage.</span></span>

<span data-ttu-id="3c978-114">Pour plus d'informations sur Hudson, consultez la page de [présentation d'Hudson](http://wiki.eclipse.org/Hudson-ci/Meet_Hudson).</span><span class="sxs-lookup"><span data-stu-id="3c978-114">More information about Hudson can be found at [Meet Hudson](http://wiki.eclipse.org/Hudson-ci/Meet_Hudson).</span></span>

## <a name="benefits-of-using-the-blob-service"></a><span data-ttu-id="3c978-115">Avantages de l’utilisation du service BLOB</span><span class="sxs-lookup"><span data-stu-id="3c978-115">Benefits of using the Blob service</span></span>
<span data-ttu-id="3c978-116">L'utilisation du service BLOB pour héberger vos artefacts de build dans un environnement agile présente les avantages suivants :</span><span class="sxs-lookup"><span data-stu-id="3c978-116">Benefits of using the Blob service to host your agile development build artifacts include:</span></span>

* <span data-ttu-id="3c978-117">Haute disponibilité de vos artefacts de build et/ou dépendances téléchargeables.</span><span class="sxs-lookup"><span data-stu-id="3c978-117">High availability of your build artifacts and/or downloadable dependencies.</span></span>
* <span data-ttu-id="3c978-118">Performances lorsque votre solution Hudson CI télécharge vos artefacts de build.</span><span class="sxs-lookup"><span data-stu-id="3c978-118">Performance when your Hudson CI solution uploads your build artifacts.</span></span>
* <span data-ttu-id="3c978-119">Performances lorsque vos clients et partenaires téléchargent vos artefacts de build.</span><span class="sxs-lookup"><span data-stu-id="3c978-119">Performance when your customers and partners download your build artifacts.</span></span>
* <span data-ttu-id="3c978-120">Contrôle sur les stratégies d'accès utilisateur, avec choix entre accès anonyme, accès par signature d'accès partagé basé sur l'expiration, accès privé, etc.</span><span class="sxs-lookup"><span data-stu-id="3c978-120">Control over user access policies, with a choice between anonymous access, expiration-based shared access signature access, private access, etc.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="3c978-121">Composants requis</span><span class="sxs-lookup"><span data-stu-id="3c978-121">Prerequisites</span></span>
<span data-ttu-id="3c978-122">Pour utiliser le service BLOB avec votre solution Hudson CI, vous avez besoin des éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="3c978-122">You will need the following to use the Blob service with your Hudson CI solution:</span></span>

* <span data-ttu-id="3c978-123">Une solution d'intégration continue Hudson.</span><span class="sxs-lookup"><span data-stu-id="3c978-123">A Hudson Continuous Integration solution.</span></span>
  
    <span data-ttu-id="3c978-124">Si vous ne disposez pas d’une solution Hudson CI, vous pouvez en exécuter une à l’aide de la technique suivante :</span><span class="sxs-lookup"><span data-stu-id="3c978-124">If you currently don't have a Hudson CI solution, you can run a Hudson CI solution using the following technique:</span></span>
  
  1. <span data-ttu-id="3c978-125">Sur un ordinateur compatible Java, téléchargez le WAR Hudson à partir de <http://hudson-ci.org/>.</span><span class="sxs-lookup"><span data-stu-id="3c978-125">On a Java-enabled machine, download the Hudson WAR from <http://hudson-ci.org/>.</span></span>
  2. <span data-ttu-id="3c978-126">Accédez au dossier contenant le WAR Hudson et exécutez ce dernier à l’aide d’une invite de commandes.</span><span class="sxs-lookup"><span data-stu-id="3c978-126">At a command prompt that is opened to the folder that contains the Hudson WAR, run the Hudson WAR.</span></span> <span data-ttu-id="3c978-127">Par exemple, si vous avez téléchargé la version 3.1.2 :</span><span class="sxs-lookup"><span data-stu-id="3c978-127">For example, if you have downloaded version 3.1.2:</span></span>
     
      `java -jar hudson-3.1.2.war`

  3. <span data-ttu-id="3c978-128">Dans votre navigateur, ouvrez `http://localhost:8080/`.</span><span class="sxs-lookup"><span data-stu-id="3c978-128">In your browser, open `http://localhost:8080/`.</span></span> <span data-ttu-id="3c978-129">Le tableau de bord Hudson s'ouvre.</span><span class="sxs-lookup"><span data-stu-id="3c978-129">This will open the Hudson dashboard.</span></span>
  4. <span data-ttu-id="3c978-130">Lors de la première utilisation de Hudson, procédez à l’installation initiale à l’adresse `http://localhost:8080/`.</span><span class="sxs-lookup"><span data-stu-id="3c978-130">Upon first use of Hudson, complete the initial setup at `http://localhost:8080/`.</span></span>
  5. <span data-ttu-id="3c978-131">Une fois l’installation initiale effectuée, annulez l’instance en cours d’exécution du WAR Hudson, redémarrez-le, puis rouvrez le tableau de bord Hudson, `http://localhost:8080/`, que vous allez utiliser pour installer et configurer le plug-in Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="3c978-131">After you complete the initial setup, cancel the running instance of the Hudson WAR, start the Hudson WAR again, and  re-open the Hudson dashboard, `http://localhost:8080/`, which you will use to install and configure the Azure Storage plugin.</span></span>
     
      <span data-ttu-id="3c978-132">Une solution Hudson CI type serait configurée pour s’exécuter en tant que service, mais l’exécution du WAR Hudson depuis la ligne de commande est suffisante pour les besoins de ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="3c978-132">While a typical Hudson CI solution would be set up to run as a service, running the Hudson war at the command line will be sufficient for this tutorial.</span></span>
* <span data-ttu-id="3c978-133">Un compte Azure.</span><span class="sxs-lookup"><span data-stu-id="3c978-133">An Azure account.</span></span> <span data-ttu-id="3c978-134">Pour créer un compte Azure, consultez la page <http://www.azure.com>.</span><span class="sxs-lookup"><span data-stu-id="3c978-134">You can sign up for an Azure account at <http://www.azure.com>.</span></span>
* <span data-ttu-id="3c978-135">Un compte de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="3c978-135">An Azure storage account.</span></span> <span data-ttu-id="3c978-136">Si vous ne disposez pas déjà d’un compte de stockage, vous pouvez en créer un en suivant la procédure décrite dans la section [Créer un compte de stockage](../common/storage-create-storage-account.md#create-a-storage-account).</span><span class="sxs-lookup"><span data-stu-id="3c978-136">If you don't already have a storage account, you can create one using the steps at [Create a Storage Account](../common/storage-create-storage-account.md#create-a-storage-account).</span></span>
* <span data-ttu-id="3c978-137">Une bonne connaissance de la solution Hudson CI est recommandée, mais pas obligatoire, car le contenu suivant emploiera un exemple élémentaire pour décrire la procédure requise lorsque vous utilisez le service BLOB comme référentiel pour les artefacts de build Hudson CI.</span><span class="sxs-lookup"><span data-stu-id="3c978-137">Familiarity with the Hudson CI solution is recommended but not required, as the following content will use a basic example to show you the steps needed when using the Blob service as a repository for Hudson CI build artifacts.</span></span>

## <a name="how-to-use-the-blob-service-with-hudson-ci"></a><span data-ttu-id="3c978-138">Utilisation du service BLOB avec Hudson CI</span><span class="sxs-lookup"><span data-stu-id="3c978-138">How to use the Blob service with Hudson CI</span></span>
<span data-ttu-id="3c978-139">Pour utiliser le service BLOB avec Hudson, vous devez installer le plug-in Azure Storage, configurer le plug-in pour utiliser votre compte de stockage, puis créer une action post-build qui télécharge vos artefacts de build sur votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="3c978-139">To use the Blob service with Hudson, you'll need to install the Azure Storage plugin, configure the plugin to use your storage account, and then create a post-build action that uploads your build artifacts to your storage account.</span></span> <span data-ttu-id="3c978-140">Les étapes de cette procédure sont décrites dans les sections suivantes.</span><span class="sxs-lookup"><span data-stu-id="3c978-140">These steps are described in the following sections.</span></span>

## <a name="how-to-install-the-azure-storage-plugin"></a><span data-ttu-id="3c978-141">Comment installer le plug-in de stockage Azure</span><span class="sxs-lookup"><span data-stu-id="3c978-141">How to install the Azure Storage plugin</span></span>
1. <span data-ttu-id="3c978-142">Dans le tableau de bord Hudson, cliquez sur **Manage Hudson**.</span><span class="sxs-lookup"><span data-stu-id="3c978-142">Within the Hudson dashboard, click **Manage Hudson**.</span></span>
2. <span data-ttu-id="3c978-143">Dans la page **Manage Hudson** (Gérer Hudson), cliquez sur **Manage Plugins** (Gérer les plugins).</span><span class="sxs-lookup"><span data-stu-id="3c978-143">On the **Manage Hudson** page, click **Manage Plugins**.</span></span>
3. <span data-ttu-id="3c978-144">Cliquez sur l'onglet **Available** .</span><span class="sxs-lookup"><span data-stu-id="3c978-144">Click the **Available** tab.</span></span>
4. <span data-ttu-id="3c978-145">Cliquez sur **Others**.</span><span class="sxs-lookup"><span data-stu-id="3c978-145">Click **Others**.</span></span>
5. <span data-ttu-id="3c978-146">Dans la section **Artifact Uploaders** (Téléchargeurs d’artefacts), sélectionnez **Microsoft Azure Storage plugin** (Plug-in Microsoft Azure Storage).</span><span class="sxs-lookup"><span data-stu-id="3c978-146">In the **Artifact Uploaders** section, select **Microsoft Azure Storage plugin**.</span></span>
6. <span data-ttu-id="3c978-147">Cliquez sur **Installer**.</span><span class="sxs-lookup"><span data-stu-id="3c978-147">Click **Install**.</span></span>
7. <span data-ttu-id="3c978-148">Une fois l’installation terminée, redémarrez Hudson.</span><span class="sxs-lookup"><span data-stu-id="3c978-148">After the installation is complete, restart Hudson.</span></span>

## <a name="how-to-configure-the-azure-storage-plugin-to-use-your-storage-account"></a><span data-ttu-id="3c978-149">Comment configurer le plug-in de stockage Azure pour utiliser votre compte de stockage</span><span class="sxs-lookup"><span data-stu-id="3c978-149">How to configure the Azure Storage plugin to use your storage account</span></span>
1. <span data-ttu-id="3c978-150">Dans le tableau de bord Hudson, cliquez sur **Manage Hudson**.</span><span class="sxs-lookup"><span data-stu-id="3c978-150">Within the Hudson dashboard, click **Manage Hudson**.</span></span>
2. <span data-ttu-id="3c978-151">Dans la page **Manage Hudson** (Gérer Hudson), cliquez sur **Configure System** (Configurer le système).</span><span class="sxs-lookup"><span data-stu-id="3c978-151">On the **Manage Hudson** page, click **Configure System**.</span></span>
3. <span data-ttu-id="3c978-152">Dans la section **Configuration du compte Microsoft Azure Storage** :</span><span class="sxs-lookup"><span data-stu-id="3c978-152">In the **Microsoft Azure Storage Account Configuration** section:</span></span>
   
    <span data-ttu-id="3c978-153">a.</span><span class="sxs-lookup"><span data-stu-id="3c978-153">a.</span></span> <span data-ttu-id="3c978-154">Entrez le nom de votre compte de stockage, que vous pouvez obtenir à partir du [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="3c978-154">Enter your storage account name, which you can obtain from the [Azure Portal](https://portal.azure.com).</span></span>
   
    <span data-ttu-id="3c978-155">b.</span><span class="sxs-lookup"><span data-stu-id="3c978-155">b.</span></span> <span data-ttu-id="3c978-156">Entrez la clé de votre compte de stockage, que vous pouvez obtenir à partir du [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="3c978-156">Enter your storage account key, also obtainable from the [Azure Portal](https://portal.azure.com).</span></span>
   
    <span data-ttu-id="3c978-157">c.</span><span class="sxs-lookup"><span data-stu-id="3c978-157">c.</span></span> <span data-ttu-id="3c978-158">Utilisez la valeur par défaut pour **Blob Service Endpoint URL** si vous vous servez du cloud public Azure.</span><span class="sxs-lookup"><span data-stu-id="3c978-158">Use the default value for **Blob Service Endpoint URL** if you are using the public Azure cloud.</span></span> <span data-ttu-id="3c978-159">Si vous vous servez d’un autre cloud Azure, utilisez le point de terminaison spécifié dans le [portail Azure](https://portal.azure.com) pour votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="3c978-159">If you are using a different Azure cloud, use the endpoint as specified in the [Azure Portal](https://portal.azure.com) for your storage account.</span></span>
   
    <span data-ttu-id="3c978-160">d.</span><span class="sxs-lookup"><span data-stu-id="3c978-160">d.</span></span> <span data-ttu-id="3c978-161">Cliquez sur **Valider les informations d'identification de stockage** pour valider votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="3c978-161">Click **Validate storage credentials** to validate your storage account.</span></span>
   
    <span data-ttu-id="3c978-162">e.</span><span class="sxs-lookup"><span data-stu-id="3c978-162">e.</span></span> <span data-ttu-id="3c978-163">[Facultatif] Si vous avez d'autres comptes de stockage que vous souhaitez rendre disponibles pour votre solution Hudson CI, cliquez sur **Ajouter d'autres comptes de stockage**.</span><span class="sxs-lookup"><span data-stu-id="3c978-163">[Optional] If you have additional storage accounts that you want made available to your Hudson CI, click **Add more storage accounts**.</span></span>
   
    <span data-ttu-id="3c978-164">f.</span><span class="sxs-lookup"><span data-stu-id="3c978-164">f.</span></span> <span data-ttu-id="3c978-165">Cliquez sur **Save** pour enregistrer vos paramètres.</span><span class="sxs-lookup"><span data-stu-id="3c978-165">Click **Save** to save your settings.</span></span>

## <a name="how-to-create-a-post-build-action-that-uploads-your-build-artifacts-to-your-storage-account"></a><span data-ttu-id="3c978-166">Création d'une action post-build qui télécharge les artefacts de votre build sur votre compte de stockage</span><span class="sxs-lookup"><span data-stu-id="3c978-166">How to create a post-build action that uploads your build artifacts to your storage account</span></span>
<span data-ttu-id="3c978-167">Pour les besoins de la formation, nous devons d’abord créer une tâche qui créera plusieurs fichiers, puis ajouter l’action post-build pour télécharger les fichiers sur votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="3c978-167">For instruction purposes, first we'll need to create a job that will create several files, and then add in the post-build action to upload the files to your storage account.</span></span>

1. <span data-ttu-id="3c978-168">Dans le tableau de bord Hudson, cliquez sur **New Job**.</span><span class="sxs-lookup"><span data-stu-id="3c978-168">Within the Hudson dashboard, click **New Job**.</span></span>
2. <span data-ttu-id="3c978-169">Nommez la tâche **MyJob**, cliquez sur **Build a free-style software job** (Générer une tâche logicielle de style libre), puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="3c978-169">Name the job **MyJob**, click **Build a free-style software job**, and then click **OK**.</span></span>
3. <span data-ttu-id="3c978-170">Dans la section **Build** (Générer) de la configuration de la tâche, cliquez sur **Add build step** (Ajouter une étape de génération) et choisissez **Execute Windows batch command** (Exécuter une commande batch Windows).</span><span class="sxs-lookup"><span data-stu-id="3c978-170">In the **Build** section of the job configuration, click **Add build step** and choose **Execute Windows batch command**.</span></span>
4. <span data-ttu-id="3c978-171">Dans **Command**, utilisez les commandes suivantes :</span><span class="sxs-lookup"><span data-stu-id="3c978-171">In **Command**, use the following commands:</span></span>

    ```   
        md text
        cd text
        echo Hello Azure Storage from Hudson > hello.txt
        date /t > date.txt
        time /t >> date.txt
    ```

5. <span data-ttu-id="3c978-172">Dans la section **Post-build Actions** (Action post-génération) de la configuration de la tâche, cliquez sur **Upload artifacts to Microsoft Azure Blob storage** (Télécharger les artefacts vers le stockage d’objets blob Microsoft Azure).</span><span class="sxs-lookup"><span data-stu-id="3c978-172">In the **Post-build Actions** section of the job configuration, click **Upload artifacts to Microsoft Azure Blob storage**.</span></span>
6. <span data-ttu-id="3c978-173">Pour **Storage Account Name**, sélectionnez le compte de stockage à utiliser.</span><span class="sxs-lookup"><span data-stu-id="3c978-173">For **Storage Account Name**, select the storage account to use.</span></span>
7. <span data-ttu-id="3c978-174">Pour **Container Name**, spécifiez le nom du conteneur.</span><span class="sxs-lookup"><span data-stu-id="3c978-174">For **Container Name**, specify the container name.</span></span> <span data-ttu-id="3c978-175">Le conteneur est créé s’il n’existe pas déjà au téléchargement des artefacts de build. Vous pouvez utiliser des variables d’environnement. Dans cet exemple, entrez **${JOB_NAME}** comme nom de conteneur.</span><span class="sxs-lookup"><span data-stu-id="3c978-175">(The container will be created if it does not already exist when the build artifacts are uploaded.) You can use environment variables, so for this example enter **${JOB_NAME}** as the container name.</span></span>
   
    <span data-ttu-id="3c978-176">**Conseil**</span><span class="sxs-lookup"><span data-stu-id="3c978-176">**Tip**</span></span>
   
    <span data-ttu-id="3c978-177">Sous la section **Command** (Commande) où vous avez entré un script pour **Execute Windows batch command** (Exécuter la commande batch Windows), un lien permet d’accéder aux variables d’environnement reconnues par Hudson.</span><span class="sxs-lookup"><span data-stu-id="3c978-177">Below the **Command** section where you entered a script for **Execute Windows batch command** is a link to the environment variables recognized by Hudson.</span></span> <span data-ttu-id="3c978-178">Cliquez sur ce lien pour découvrir les noms des variables d’environnement avec leurs descriptions.</span><span class="sxs-lookup"><span data-stu-id="3c978-178">Click that link to learn the environment variable names and descriptions.</span></span> <span data-ttu-id="3c978-179">Notez que les variables d’environnement qui contiennent des caractères spéciaux, comme la variable d’environnement **BUILD_URL**, ne sont pas autorisées comme nom de conteneur ou chemin virtuel commun.</span><span class="sxs-lookup"><span data-stu-id="3c978-179">Note that environment variables that contain special characters, such as the **BUILD_URL** environment variable, are not allowed as a container name or common virtual path.</span></span>
8. <span data-ttu-id="3c978-180">Cliquez sur **Rendre le nouveau conteneur public par défaut** pour cet exemple.</span><span class="sxs-lookup"><span data-stu-id="3c978-180">Click **Make new container public by default** for this example.</span></span> <span data-ttu-id="3c978-181">Si vous voulez utiliser un conteneur privé, vous devez créer une signature d'accès partagé pour autoriser l'accès.</span><span class="sxs-lookup"><span data-stu-id="3c978-181">(If you want to use a private container, you'll need to create a shared access signature to allow access.</span></span> <span data-ttu-id="3c978-182">La procédure n'entre pas dans le cadre de cet article.</span><span class="sxs-lookup"><span data-stu-id="3c978-182">That is beyond the scope of this article.</span></span> <span data-ttu-id="3c978-183">Pour en savoir plus sur les signatures d’accès partagé, consultez [Utilisation des signatures d’accès partagé (SAP)](../storage-dotnet-shared-access-signature-part-1.md).)</span><span class="sxs-lookup"><span data-stu-id="3c978-183">You can learn more about shared access signatures at [Using Shared Access Signatures (SAS)](../storage-dotnet-shared-access-signature-part-1.md).)</span></span>
9. <span data-ttu-id="3c978-184">[Facultatif] Cliquez sur **Nettoyer le conteneur avant le téléchargement** si vous souhaitez que le contenu du conteneur soit effacé avant le téléchargement des artefacts de build (ne sélectionnez pas cette option si vous ne souhaitez pas effacer le contenu du conteneur).</span><span class="sxs-lookup"><span data-stu-id="3c978-184">[Optional] Click **Clean container before uploading** if you want the container to be cleared of contents before build artifacts are uploaded (leave it unchecked if you do not want to clean the contents of the container).</span></span>
10. <span data-ttu-id="3c978-185">Dans **List of Artifacts to upload** (Liste des artefacts à télécharger), entrez **text/*.txt**.</span><span class="sxs-lookup"><span data-stu-id="3c978-185">For **List of Artifacts to upload**, enter **text/*.txt**.</span></span>
11. <span data-ttu-id="3c978-186">Dans **Common virtual path for uploaded artifacts** (Chemin virtuel commun des artefacts téléchargés), entrez **${BUILD\_ID}/${BUILD\_NUMBER}**.</span><span class="sxs-lookup"><span data-stu-id="3c978-186">For **Common virtual path for uploaded artifacts**, enter **${BUILD\_ID}/${BUILD\_NUMBER}**.</span></span>
12. <span data-ttu-id="3c978-187">Cliquez sur **Save** pour enregistrer vos paramètres.</span><span class="sxs-lookup"><span data-stu-id="3c978-187">Click **Save** to save your settings.</span></span>
13. <span data-ttu-id="3c978-188">Dans le tableau de bord Hudson, cliquez sur **Build Now** (Générer maintenant) pour exécuter **MyJob**.</span><span class="sxs-lookup"><span data-stu-id="3c978-188">In the Hudson dashboard, click **Build Now** to run **MyJob**.</span></span> <span data-ttu-id="3c978-189">Examinez l'état dans la sortie de la console.</span><span class="sxs-lookup"><span data-stu-id="3c978-189">Examine the console output for status.</span></span> <span data-ttu-id="3c978-190">Les messages d'état du stockage Azure sont inclus dans la sortie de la console lorsque l'action post-build commence à télécharger les artefacts de build.</span><span class="sxs-lookup"><span data-stu-id="3c978-190">Status messages for Azure Storage will be included in the console output when the post-build action starts to upload build artifacts.</span></span>
14. <span data-ttu-id="3c978-191">Une fois la tâche terminée correctement, vous pouvez examiner les artefacts de build en ouvrant l’objet blob public.</span><span class="sxs-lookup"><span data-stu-id="3c978-191">Upon successful completion of the job, you can examine the build artifacts by opening the public blob.</span></span>
    
    <span data-ttu-id="3c978-192">a.</span><span class="sxs-lookup"><span data-stu-id="3c978-192">a.</span></span> <span data-ttu-id="3c978-193">Connectez-vous au [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="3c978-193">Sign in to the [Azure Portal](https://portal.azure.com).</span></span>
    
    <span data-ttu-id="3c978-194">b.</span><span class="sxs-lookup"><span data-stu-id="3c978-194">b.</span></span> <span data-ttu-id="3c978-195">Cliquez sur **Stockage**.</span><span class="sxs-lookup"><span data-stu-id="3c978-195">Click **Storage**.</span></span>
    
    <span data-ttu-id="3c978-196">c.</span><span class="sxs-lookup"><span data-stu-id="3c978-196">c.</span></span> <span data-ttu-id="3c978-197">Cliquez sur le nom du compte de stockage que vous avez utilisé pour Hudson.</span><span class="sxs-lookup"><span data-stu-id="3c978-197">Click the storage account name that you used for Hudson.</span></span>
    
    <span data-ttu-id="3c978-198">d.</span><span class="sxs-lookup"><span data-stu-id="3c978-198">d.</span></span> <span data-ttu-id="3c978-199">Cliquez sur **Conteneurs**.</span><span class="sxs-lookup"><span data-stu-id="3c978-199">Click **Containers**.</span></span>
    
    <span data-ttu-id="3c978-200">e.</span><span class="sxs-lookup"><span data-stu-id="3c978-200">e.</span></span> <span data-ttu-id="3c978-201">Cliquez sur le conteneur nommé **myjob**, qui correspond à la version en minuscules du nom de tâche attribué à la création de la tâche Hudson.</span><span class="sxs-lookup"><span data-stu-id="3c978-201">Click the container named **myjob**, which is the lowercase version of the job name that you assigned when you created the Hudson job.</span></span> <span data-ttu-id="3c978-202">Les noms de conteneurs et les noms d'objets blob sont en minuscules (et sensibles à la casse) dans le stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="3c978-202">Container names and blob names are lowercase (and case-sensitive) in Azure Storage.</span></span> <span data-ttu-id="3c978-203">La liste d’objets blob du conteneur nommé **myjob** contient normalement **hello.txt** et **date.txt**.</span><span class="sxs-lookup"><span data-stu-id="3c978-203">Within the list of blobs for the container named **myjob** you should see **hello.txt** and **date.txt**.</span></span> <span data-ttu-id="3c978-204">Copiez l’URL correspondant à l’un de ces éléments et ouvrez-la dans le navigateur.</span><span class="sxs-lookup"><span data-stu-id="3c978-204">Copy the URL for either of these items and open it in your browser.</span></span> <span data-ttu-id="3c978-205">Le fichier texte qui a été téléchargé apparaît comme un artefact de build.</span><span class="sxs-lookup"><span data-stu-id="3c978-205">You will see the text file that was uploaded as a build artifact.</span></span>

<span data-ttu-id="3c978-206">Une seule action post-build qui télécharge les artefacts dans le stockage d'objet blob Azure peut être créée par tâche.</span><span class="sxs-lookup"><span data-stu-id="3c978-206">Only one post-build action that uploads artifacts to Azure Blob storage can be created per job.</span></span> <span data-ttu-id="3c978-207">Notez que l'action post-build permettant de télécharger des artefacts sur le stockage d'objets blob Azure peut spécifier différents fichiers (y compris des caractères génériques) et chemins d'accès aux fichiers dans **Liste des artefacts à télécharger** grâce à l'ajout d'un point-virgule comme séparateur.</span><span class="sxs-lookup"><span data-stu-id="3c978-207">Note that the single post-build action to upload artifacts to Azure Blob storage can specify different files (including wildcards) and paths to files within **List of Artifacts to upload** using a semi-colon as a separator.</span></span> <span data-ttu-id="3c978-208">Par exemple, si votre build Hudson produit des fichiers JAR et TXT dans le dossier **build** de votre espace de travail et que vous souhaitez télécharger ces deux types de fichiers dans Stockage Blob Azure, renseignez **List of Artifacts to upload** (Liste des artefacts à télécharger) comme suit : **build/\*.jar;build/\*.txt**.</span><span class="sxs-lookup"><span data-stu-id="3c978-208">For example, if your Hudson build produces JAR files and TXT files in your workspace's **build** folder, and you want to upload both to Azure Blob storage, use the following for the **List of Artifacts to upload** value: **build/\*.jar;build/\*.txt**.</span></span> <span data-ttu-id="3c978-209">Vous pouvez aussi utiliser un double signe deux-points pour indiquer le chemin à utiliser dans le nom de l’objet blob.</span><span class="sxs-lookup"><span data-stu-id="3c978-209">You can also use double-colon syntax to specify a path to use within the blob name.</span></span> <span data-ttu-id="3c978-210">Par exemple, si vous souhaitez que les fichiers JAR soient téléchargés à l’aide de fichiers **binaires** dans le chemin d’accès des objets blob et que les fichiers TXT soient téléchargés à l’aide de **notices** dans le chemin d’accès des objets blob, renseignez **List of Artifacts to upload** (Liste des artefacts à télécharger) comme suit : **build/\*.jar::binaries;build/\*.txt::notices**.</span><span class="sxs-lookup"><span data-stu-id="3c978-210">For example, if you want the JARs to get uploaded using **binaries** in the blob path and the TXT files to get uploaded using **notices** in the blob path, use the following for the **List of Artifacts to upload** value: **build/\*.jar::binaries;build/\*.txt::notices**.</span></span>

## <a name="how-to-create-a-build-step-that-downloads-from-azure-blob-storage"></a><span data-ttu-id="3c978-211">Création d'une étape de génération pour télécharger des éléments depuis un stockage d'objets blob Azure</span><span class="sxs-lookup"><span data-stu-id="3c978-211">How to create a build step that downloads from Azure Blob storage</span></span>
<span data-ttu-id="3c978-212">La procédure suivante explique comment configurer une étape de génération pour télécharger des éléments depuis un stockage d'objets blob Azure.</span><span class="sxs-lookup"><span data-stu-id="3c978-212">The following steps show how to configure a build step to download items from Azure Blob storage.</span></span> <span data-ttu-id="3c978-213">Ceci peut s'avérer utile si vous souhaitez inclure des éléments dans votre build, par exemple, des fichiers JAR à conserver dans votre stockage d'objets blob Azure.</span><span class="sxs-lookup"><span data-stu-id="3c978-213">This would be useful if you want to include items in your build, for example, JARs that you keep in Azure Blob storage.</span></span>

1. <span data-ttu-id="3c978-214">Dans la section **Build** (Générer) de la configuration de la tâche, cliquez sur **Add build step** (Ajouter une étape de génération) et choisissez **Download from Azure Blob storage** (Télécharger à partir du stockage d’objets blob Azure).</span><span class="sxs-lookup"><span data-stu-id="3c978-214">In the **Build** section of the job configuration, click **Add build step** and choose **Download from Azure Blob storage**.</span></span>
2. <span data-ttu-id="3c978-215">Dans le champ **Nom du compte de stockage**, sélectionnez le compte de stockage à utiliser.</span><span class="sxs-lookup"><span data-stu-id="3c978-215">For **Storage account name**, select the storage account to use.</span></span>
3. <span data-ttu-id="3c978-216">Dans le champ **Nom du conteneur**, indiquez le nom du conteneur dans lequel se trouvent les objets blob que vous souhaitez télécharger.</span><span class="sxs-lookup"><span data-stu-id="3c978-216">For **Container name**, specify the name of the container that has the blobs you want to download.</span></span> <span data-ttu-id="3c978-217">Vous pouvez utiliser des variables d'environnement.</span><span class="sxs-lookup"><span data-stu-id="3c978-217">You can use environment variables.</span></span>
4. <span data-ttu-id="3c978-218">Dans le champ **Nom d'objet blob**, indiquez le nom de l'objet blob.</span><span class="sxs-lookup"><span data-stu-id="3c978-218">For **Blob name**, specify the blob name.</span></span> <span data-ttu-id="3c978-219">Vous pouvez utiliser des variables d'environnement.</span><span class="sxs-lookup"><span data-stu-id="3c978-219">You can use environment variables.</span></span> <span data-ttu-id="3c978-220">Vous pouvez aussi utiliser un astérisque comme caractère générique après avoir indiqué la ou les premières lettres du nom de l’objet blob.</span><span class="sxs-lookup"><span data-stu-id="3c978-220">Also, you can use an asterisk, as a wildcard after you specify the initial letter(s) of the blob name.</span></span> <span data-ttu-id="3c978-221">Par exemple, **projet\*** désignera tous les objets blob dont le nom commence par **projet**.</span><span class="sxs-lookup"><span data-stu-id="3c978-221">For example, **project\*** would specify all blobs whose names start with **project**.</span></span>
5. <span data-ttu-id="3c978-222">[Facultatif] Dans le champ **Chemin de téléchargement**, indiquez l'emplacement de l'ordinateur Hudson où vous souhaitez télécharger les fichiers depuis le stockage d'objets blob Azure.</span><span class="sxs-lookup"><span data-stu-id="3c978-222">[Optional] For **Download path**, specify the path on the Hudson machine where you want to download files from Azure Blob storage.</span></span> <span data-ttu-id="3c978-223">Vous pouvez utiliser des variables d’environnement.</span><span class="sxs-lookup"><span data-stu-id="3c978-223">Environment variables can also be used.</span></span> <span data-ttu-id="3c978-224">Si vous n'entrez rien dans le champ **Chemin de téléchargement**, les fichiers du stockage d'objets blob Azure seront téléchargés dans l'espace de travail de la tâche.</span><span class="sxs-lookup"><span data-stu-id="3c978-224">(If you do not provide a value for **Download path**, the files from Azure Blob storage will be downloaded to the job's workspace.)</span></span>

<span data-ttu-id="3c978-225">Si vous souhaitez télécharger d'autres éléments depuis le stockage d'objets blob Azure, vous pouvez créer des étapes de génération supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="3c978-225">If you have additional items you want to download from Azure Blob storage, you can create additional build steps.</span></span>

<span data-ttu-id="3c978-226">Après avoir exécuté une build, vous pouvez vérifier la sortie de la console d’historique de build ou vérifier dans le dossier de téléchargement si les objets blob attendus ont bien été téléchargés.</span><span class="sxs-lookup"><span data-stu-id="3c978-226">After you run a build, you can check the build history console output, or look at your download location, to see whether the blobs you expected were successfully downloaded.</span></span>

## <a name="components-used-by-the-blob-service"></a><span data-ttu-id="3c978-227">Composants utilisés par le service BLOB</span><span class="sxs-lookup"><span data-stu-id="3c978-227">Components used by the Blob service</span></span>
<span data-ttu-id="3c978-228">La section suivante présente les composants du service BLOB.</span><span class="sxs-lookup"><span data-stu-id="3c978-228">The following provides an overview of the Blob service components.</span></span>

* <span data-ttu-id="3c978-229">**Compte de stockage**: tout accès au stockage Azure s'effectue via un compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="3c978-229">**Storage account**: All access to Azure Storage is done through a storage account.</span></span> <span data-ttu-id="3c978-230">Il s'agit du plus haut niveau d'espace de noms permettant d'accéder aux objets blob.</span><span class="sxs-lookup"><span data-stu-id="3c978-230">This is the highest level of the namespace for accessing blobs.</span></span> <span data-ttu-id="3c978-231">Un compte peut contenir un nombre illimité de conteneurs, tant que sa taille totale ne dépasse pas 100 To.</span><span class="sxs-lookup"><span data-stu-id="3c978-231">An account can contain an unlimited number of containers, as long as their total size is under 100 TB.</span></span>
* <span data-ttu-id="3c978-232">**Conteneur**: conteneur regroupant un ensemble d’objets blob.</span><span class="sxs-lookup"><span data-stu-id="3c978-232">**Container**: A container provides a grouping of a set of blobs.</span></span> <span data-ttu-id="3c978-233">Tous les objets blob doivent figurer dans un conteneur.</span><span class="sxs-lookup"><span data-stu-id="3c978-233">All blobs must be in a container.</span></span> <span data-ttu-id="3c978-234">Un compte peut contenir un nombre illimité de conteneurs.</span><span class="sxs-lookup"><span data-stu-id="3c978-234">An account can contain an unlimited number of containers.</span></span> <span data-ttu-id="3c978-235">Un conteneur peut stocker un nombre illimité d’objets blob.</span><span class="sxs-lookup"><span data-stu-id="3c978-235">A container can store an unlimited number of blobs.</span></span>
* <span data-ttu-id="3c978-236">**Objet blob**: fichier de tout type et de toute taille.</span><span class="sxs-lookup"><span data-stu-id="3c978-236">**Blob**: A file of any type and size.</span></span> <span data-ttu-id="3c978-237">Il existe deux types d’objets blob qui peuvent être enregistrés dans un stockage Azure : les objets blob de blocs et les objets blob de pages.</span><span class="sxs-lookup"><span data-stu-id="3c978-237">There are two types of blobs that can be stored in Azure Storage: block and page blobs.</span></span> <span data-ttu-id="3c978-238">La plupart des fichiers sont des objets blob de blocs.</span><span class="sxs-lookup"><span data-stu-id="3c978-238">Most files are block blobs.</span></span> <span data-ttu-id="3c978-239">Un objet blob de blocs peut avoir une taille maximale de 200 Go.</span><span class="sxs-lookup"><span data-stu-id="3c978-239">A single block blob can be up to 200 GB in size.</span></span> <span data-ttu-id="3c978-240">Ce didacticiel utilise des objets blob de blocs.</span><span class="sxs-lookup"><span data-stu-id="3c978-240">This tutorial uses block blobs.</span></span> <span data-ttu-id="3c978-241">Les objets blob de pages, autre type d'objet blob, peuvent avoir une taille maximale de 1 To et sont plus efficaces lorsque les plages d'octets d'un fichier sont fréquemment modifiées.</span><span class="sxs-lookup"><span data-stu-id="3c978-241">Page blobs, another blob type, can be up to 1 TB in size, and are more efficient when ranges of bytes in a file are modified frequently.</span></span> <span data-ttu-id="3c978-242">Pour plus d’informations sur les objets blob, consultez [Présentation des objets blob de blocs, des objets blob d’ajout et des objets blob de pages](http://msdn.microsoft.com/library/azure/ee691964.aspx).</span><span class="sxs-lookup"><span data-stu-id="3c978-242">For more information about blobs, see [Understanding Block Blobs, Append Blobs, and Page Blobs](http://msdn.microsoft.com/library/azure/ee691964.aspx).</span></span>
* <span data-ttu-id="3c978-243">**Format d'URL**: les objets blob sont adressables à l'aide du format d'URL suivant :</span><span class="sxs-lookup"><span data-stu-id="3c978-243">**URL format**: Blobs are addressable using the following URL format:</span></span>
  
    `http://storageaccount.blob.core.windows.net/container_name/blob_name`
  
    <span data-ttu-id="3c978-244">Le format ci-dessus s'applique au cloud public Azure.</span><span class="sxs-lookup"><span data-stu-id="3c978-244">(The format above applies to the public Azure cloud.</span></span> <span data-ttu-id="3c978-245">Si vous utilisez un autre cloud Azure, utilisez le point de terminaison dans le [portail Azure](https://portal.azure.com) pour déterminer votre URL de point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="3c978-245">If you are using a different Azure cloud, use the endpoint within the [Azure Portal](https://portal.azure.com) to determine your URL endpoint.)</span></span>
  
    <span data-ttu-id="3c978-246">Dans le format ci-dessus, `storageaccount` représente le nom de votre compte de stockage, `container_name` représente le nom de votre conteneur et `blob_name` représente le nom de votre objet blob, respectivement.</span><span class="sxs-lookup"><span data-stu-id="3c978-246">In the format above, `storageaccount` represents the name of your storage account, `container_name` represents the name of your container, and `blob_name` represents the name of your blob, respectively.</span></span> <span data-ttu-id="3c978-247">Le nom du conteneur contient plusieurs chemins d’accès, séparés par une barre oblique (**/**).</span><span class="sxs-lookup"><span data-stu-id="3c978-247">Within the container name, you can have multiple paths, separated by a forward slash, **/**.</span></span> <span data-ttu-id="3c978-248">Dans ce didacticiel, nous avons utilisé **MyJob** comme exemple de nom de conteneur et **${BUILD\_ID}/${BUILD\_NUMBER}** comme chemin virtuel commun. L’URL de l’objet blob a donc la forme suivante :</span><span class="sxs-lookup"><span data-stu-id="3c978-248">The example container name in this tutorial was **MyJob**, and **${BUILD\_ID}/${BUILD\_NUMBER}** was used for the common virtual path, resulting in the blob having a URL of the following form:</span></span>
  
    `http://example.blob.core.windows.net/myjob/2014-05-01_11-56-22/1/hello.txt`

## <a name="next-steps"></a><span data-ttu-id="3c978-249">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="3c978-249">Next steps</span></span>
* [<span data-ttu-id="3c978-250">Présentation d’Hudson</span><span class="sxs-lookup"><span data-stu-id="3c978-250">Meet Hudson</span></span>](http://wiki.eclipse.org/Hudson-ci/Meet_Hudson)
* [<span data-ttu-id="3c978-251">Kit de développement logiciel (SDK) Azure Storage pour Java</span><span class="sxs-lookup"><span data-stu-id="3c978-251">Azure Storage SDK for Java</span></span>](https://github.com/azure/azure-storage-java)
* [<span data-ttu-id="3c978-252">Référence du Kit de développement logiciel (SDK) du client Azure Storage</span><span class="sxs-lookup"><span data-stu-id="3c978-252">Azure Storage Client SDK Reference</span></span>](http://dl.windowsazure.com/storage/javadoc/)
* [<span data-ttu-id="3c978-253">API REST des services d’Azure Storage</span><span class="sxs-lookup"><span data-stu-id="3c978-253">Azure Storage Services REST API</span></span>](https://msdn.microsoft.com/library/azure/dd179355.aspx)
* [<span data-ttu-id="3c978-254">Blog de l'équipe Azure Storage</span><span class="sxs-lookup"><span data-stu-id="3c978-254">Azure Storage Team Blog</span></span>](http://blogs.msdn.com/b/windowsazurestorage/)

<span data-ttu-id="3c978-255">Pour plus d’informations, consultez [Azure pour les développeurs Java](/java/azure).</span><span class="sxs-lookup"><span data-stu-id="3c978-255">For more information, visit [Azure for Java developers](/java/azure).</span></span>