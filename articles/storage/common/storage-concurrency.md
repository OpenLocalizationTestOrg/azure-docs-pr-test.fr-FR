---
title: "Gestion de l’accès concurrentiel dans Microsoft Azure Storage"
description: "Gestion de l’accès concurrentiel pour les services BLOB, de File d’attente, de Table et de Fichier"
services: storage
documentationcenter: 
author: jasontang501
manager: tadb
editor: tysonn
ms.assetid: cc6429c4-23ee-46e3-b22d-50dd68bd4680
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 05/11/2017
ms.author: jasontang501
ms.openlocfilehash: 937cca66a0af0674b868e6a87681adbea330e91c
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/29/2017
---
# <a name="managing-concurrency-in-microsoft-azure-storage"></a><span data-ttu-id="8ff9f-103">Gestion de l’accès concurrentiel dans Microsoft Azure Storage</span><span class="sxs-lookup"><span data-stu-id="8ff9f-103">Managing Concurrency in Microsoft Azure Storage</span></span>
## <a name="overview"></a><span data-ttu-id="8ff9f-104">Vue d'ensemble</span><span class="sxs-lookup"><span data-stu-id="8ff9f-104">Overview</span></span>
<span data-ttu-id="8ff9f-105">Dans les applications Internet modernes, les données sont généralement consultées et mises à jour par plusieurs utilisateurs à la fois.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-105">Modern Internet based applications usually have multiple users viewing and updating data simultaneously.</span></span> <span data-ttu-id="8ff9f-106">Les développeurs d'applications doivent donc bien réfléchir à la manière de proposer une expérience prévisible à leurs utilisateurs finaux, notamment lorsque plusieurs utilisateurs peuvent mettre à jour les mêmes données.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-106">This requires application developers to think carefully about how to provide a predictable experience to their end users, particularly for scenarios where multiple users can update the same data.</span></span> <span data-ttu-id="8ff9f-107">Les développeurs prennent généralement en compte trois grandes stratégies d’accès concurrentiel aux données :</span><span class="sxs-lookup"><span data-stu-id="8ff9f-107">There are three main data concurrency strategies that developers typically consider:</span></span>  

1. <span data-ttu-id="8ff9f-108">Accès concurrentiel optimiste – Une application procédant à une mise à jour vérifie, dans le cadre de la mise à jour, que les données n'ont pas été modifiées depuis la dernière lecture.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-108">Optimistic concurrency – An application performing an update will as part of its update verify if the data has changed since the application last read that data.</span></span> <span data-ttu-id="8ff9f-109">Par exemple, si deux utilisateurs qui consultent une page wiki procèdent à une mise à jour de la même page, la plateforme wiki doit veiller à ce que la deuxième mise à jour n'écrase pas la première et à ce que les deux utilisateurs sachent si leur mise à jour a fonctionné ou non.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-109">For example, if two users viewing a wiki page make an update to the same page then the wiki platform must ensure that the second update does not overwrite the first update – and that both users understand whether their update was successful or not.</span></span> <span data-ttu-id="8ff9f-110">Cette stratégie est la plus souvent utilisée dans les applications web.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-110">This strategy is most often used in web applications.</span></span>
2. <span data-ttu-id="8ff9f-111">Accès concurrentiel pessimiste – L'application qui cherche à procéder à une mise à jour verrouille l'objet, ce qui empêche les autres utilisateurs de mettre les données à jour jusqu'à ce qu'elles soient déverrouillées.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-111">Pessimistic concurrency – An application looking to perform an update will take a lock on an object preventing other users from updating the data until the lock is released.</span></span> <span data-ttu-id="8ff9f-112">Par exemple, dans un scénario de réplication de données maître/esclave où seul le maître procède aux mises à jour, le maître verrouille généralement les données de manière exclusive pendant une période de temps prolongée de manière à ce que personne d'autre ne puisse les mettre à jour.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-112">For example, in a master/slave data replication scenario where only the master will perform updates the master will typically hold an exclusive lock for an extended period of time on the data to ensure no one else can update it.</span></span>
3. <span data-ttu-id="8ff9f-113">Règle de Thomas (Last writer wins) – Approche qui permet de procéder aux mises à jour sans vérifier si les données ont été ou non mises à jour par une autre application depuis la première lecture des données par l'application.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-113">Last writer wins – An approach that allows any update operations to proceed without verifying if any other application has updated the data since the application first read the data.</span></span> <span data-ttu-id="8ff9f-114">Cette stratégie (ou ce manque de stratégie formelle) est généralement utilisée lorsque les données font l'objet d'une partition telle qu'il est peu probable que plusieurs utilisateurs accèdent aux mêmes données.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-114">This strategy (or lack of a formal strategy) is usually used where data is partitioned in such a way that there is no likelihood that multiple users will access the same data.</span></span> <span data-ttu-id="8ff9f-115">Elle peut également être utile lors du traitement de flux de données à durée de vie limitée.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-115">It can also be useful where short-lived data streams are being processed.</span></span>  

<span data-ttu-id="8ff9f-116">Cet article propose une vue d'ensemble de la manière dont la plateforme Azure Storage simplifie le développement en proposant une prise en charge de premier ordre pour ces trois stratégies d'accès concurrentiel.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-116">This article provides an overview of how the Azure Storage platform simplifies development by providing first class support for all three of these concurrency strategies.</span></span>  

## <a name="azure-storage--simplifies-cloud-development"></a><span data-ttu-id="8ff9f-117">Azure Storage – Simplification du développement dans le cloud</span><span class="sxs-lookup"><span data-stu-id="8ff9f-117">Azure Storage – Simplifies Cloud Development</span></span>
<span data-ttu-id="8ff9f-118">Le service de stockage Azure prend en charge les trois stratégies. Il se distingue cependant dans sa capacité à proposer une prise en charge complète pour les accès concurrentiels optimistes et pessimistes. Il a en effet été conçu pour adopter un modèle de cohérence forte qui garantit que lorsque le service de stockage procède à une mise à jour ou à un ajout de données, la dernière mise à jour s'affiche pour les utilisateurs qui accèdent aux données par la suite.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-118">The Azure storage service supports all three strategies, although it is distinctive in its ability to provide full support for optimistic and pessimistic concurrency because it was designed to embrace a strong consistency model which guarantees that when the Storage service commits a data insert or update operation all further accesses to that data will see the latest update.</span></span> <span data-ttu-id="8ff9f-119">Les plateformes de stockage qui utilisent un modèle de cohérence éventuelle présentent un décalage entre le moment où des données sont ajoutées par un utilisateur et le moment où les données mises à jour peuvent être consultées par les autres utilisateurs, ce qui complique le développement d'applications clientes, afin d'éviter que les incohérences n'affectent les utilisateurs finaux.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-119">Storage platforms that use an eventual consistency model have a lag between when a write is performed by one user and when the updated data can be seen by other users thus complicating development of client applications in order to prevent inconsistencies from affecting end users.</span></span>  

<span data-ttu-id="8ff9f-120">Parallèlement à la sélection d'une stratégie d'accès concurrentiel adaptée, les développeurs doivent savoir comment la plateforme de stockage isole les changements, notamment ceux apportés à un même objet au fil des transactions.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-120">In addition to selecting an appropriate concurrency strategy developers should also be aware of how a storage platform isolates changes – particularly changes to the same object across transactions.</span></span> <span data-ttu-id="8ff9f-121">Le service de stockage Azure utilise l'isolement de capture instantanée pour permettre l'exécution simultanée des opérations de lecture et d'écriture au sein d'une même partition.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-121">The Azure storage service uses snapshot isolation to allow read operations to happen concurrently with write operations within a single partition.</span></span> <span data-ttu-id="8ff9f-122">Contrairement à d'autres niveaux d'isolement, l'isolement de capture instantanée permet de garantir l'affichage d'une capture instantanée cohérente des données pour tous les lecteurs, même lorsque des mises à jour sont en cours, en renvoyant notamment les dernières valeurs validées pendant le traitement d'une transaction de mise à jour.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-122">Unlike other isolation levels, snapshot isolation guarantees that all reads see a consistent snapshot of the data even while updates are occurring – essentially by returning the last committed values while an update transaction is being processed.</span></span>  

## <a name="managing-concurrency-in-blob-storage"></a><span data-ttu-id="8ff9f-123">Gestion de l’accès concurrentiel dans Blob Storage</span><span class="sxs-lookup"><span data-stu-id="8ff9f-123">Managing Concurrency in Blob storage</span></span>
<span data-ttu-id="8ff9f-124">Vous pouvez choisir d'utiliser des modèles d'accès concurrentiel optimiste ou pessimiste pour gérer l'accès aux objets blob et aux conteneurs dans le service BLOB.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-124">You can opt to use either optimistic or pessimistic concurrency models to manage access to blobs and containers in the blob service.</span></span> <span data-ttu-id="8ff9f-125">Si vous ne sélectionnez pas une stratégie de manière explicite, la règle de Thomas est utilisée par défaut.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-125">If you do not explicitly specify a strategy last writes wins is the default.</span></span>  

### <a name="optimistic-concurrency-for-blobs-and-containers"></a><span data-ttu-id="8ff9f-126">Accès concurrentiel optimiste pour les objets blob et les conteneurs</span><span class="sxs-lookup"><span data-stu-id="8ff9f-126">Optimistic concurrency for blobs and containers</span></span>
<span data-ttu-id="8ff9f-127">Le service de stockage attribue un identificateur à chaque objet stocké.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-127">The Storage service assigns an identifier to every object stored.</span></span> <span data-ttu-id="8ff9f-128">Cet identificateur est mis à jour à chaque fois qu'une mise à jour est effectuée sur un objet.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-128">This identifier is updated every time an update operation is performed on an object.</span></span> <span data-ttu-id="8ff9f-129">L'identificateur est renvoyé au client en tant que réponse HTTP GET à l'aide de l'en-tête ETag (balise d'entité) défini dans le protocole HTTP.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-129">The identifier is returned to the client as part of an HTTP GET response using the ETag (entity tag) header that is defined within the HTTP protocol.</span></span> <span data-ttu-id="8ff9f-130">L’utilisateur qui procède à une mise à jour sur un tel objet peut envoyer la balise ETag d’origine avec un en-tête conditionnel pour que la mise à jour ne survienne que si une certaine condition est remplie. Dans ce cas, la condition est un en-tête « If-Match », qui nécessite que le service de stockage vérifie que la valeur de la balise ETag indiquée dans la demande de mise à jour soit la même que celle stockée dans le service de stockage.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-130">A user performing an update on such an object can send in the original ETag along with a conditional header to ensure that an update will only occur if a certain condition has been met – in this case the condition is an "If-Match" header, which requires the Storage Service to ensure the value of the ETag specified in the update request is the same as that stored in the Storage Service.</span></span>  

<span data-ttu-id="8ff9f-131">Ce processus se déroule comme suit :</span><span class="sxs-lookup"><span data-stu-id="8ff9f-131">The outline of this process is as follows:</span></span>  

1. <span data-ttu-id="8ff9f-132">Récupérez un objet blob à partir du service de stockage, la réponse inclut une valeur d'en-tête ETag HTTP qui identifie la version actuelle de l'objet dans le service de stockage.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-132">Retrieve a blob from the storage service, the response includes an HTTP ETag Header value that identifies the current version of the object in the storage service.</span></span>
2. <span data-ttu-id="8ff9f-133">Lorsque vous mettez l'objet blob à jour, incluez la valeur ETag reçue à l'étape 1 dans l'en-tête conditionnel **If-Match** de la demande que vous envoyez au service.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-133">When you update the blob, include the ETag value you received in step 1 in the **If-Match** conditional header of the request you send to the service.</span></span>
3. <span data-ttu-id="8ff9f-134">Le service compare la valeur ETag de la demande à la valeur ETag de l'objet blob.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-134">The service compares the ETag value in the request with the current ETag value of the blob.</span></span>
4. <span data-ttu-id="8ff9f-135">Si la valeur ETag de l'objet blob n'est pas la même que la balise ETag dans l'en-tête conditionnel **If-Match** de la demande, le service renvoie une erreur 412 au client.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-135">If the current ETag value of the blob is a different version than the ETag in the **If-Match** conditional header in the request, the service returns a 412 error to the client.</span></span> <span data-ttu-id="8ff9f-136">Cela indique au client que l'objet blob a été mis à jour par un autre processus depuis la récupération par le client.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-136">This indicates to the client that another process has updated the blob since the client retrieved it.</span></span>
5. <span data-ttu-id="8ff9f-137">Si la valeur ETag actuelle de l'objet blob est la même que la balise ETag dans l'en-tête conditionnel **If-Match** de la demande, le service effectue l'opération demandée et met la valeur ETag de l'objet blob à jour pour indiquer qu'il a créé une nouvelle version.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-137">If the current ETag value of the blob is the same version as the ETag in the **If-Match** conditional header in the request, the service performs the requested operation and updates the current ETag value of the blob to show that it has created a new version.</span></span>  

<span data-ttu-id="8ff9f-138">L'extrait de code C# suivant (à l'aide de la bibliothèque de stockage cliente 4.2.0) présente un exemple simple de construction d'une condition d'accès **If-Match AccessCondition** basée sur la valeur ETag obtenue à partir des propriétés d'un objet blob précédemment récupéré ou inséré.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-138">The following C# snippet (using the Client Storage Library 4.2.0) shows a simple example of how to construct an **If-Match AccessCondition** based on the ETag value that is accessed from the properties of a blob that was previously either retrieved or inserted.</span></span> <span data-ttu-id="8ff9f-139">Il utilise ensuite l’objet **AccessCondition** au moment de mettre à jour l’objet blob : l’objet **AccessCondition** ajoute l’en-tête **If-Match** à la demande.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-139">It then uses the **AccessCondition** object when it updates the blob: the **AccessCondition** object adds the **If-Match** header to the request.</span></span> <span data-ttu-id="8ff9f-140">Si l’objet blob a été mis à jour par un autre processus, le service BLOB renvoie un message d’état HTTP 412 (Échec de la condition préalable).</span><span class="sxs-lookup"><span data-stu-id="8ff9f-140">If another process has updated the blob, the blob service returns an HTTP 412 (Precondition Failed) status message.</span></span> <span data-ttu-id="8ff9f-141">Vous pouvez télécharger l’exemple complet ici : [Gestion de l’accès concurrentiel avec Azure Storage](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114).</span><span class="sxs-lookup"><span data-stu-id="8ff9f-141">You can download the full sample here: [Managing Concurrency using Azure Storage](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114).</span></span>  

```csharp
// Retrieve the ETag from the newly created blob
// Etag is already populated as UploadText should cause a PUT Blob call
// to storage blob service which returns the etag in response.
string orignalETag = blockBlob.Properties.ETag;

// This code simulates an update by a third party.
string helloText = "Blob updated by a third party.";

// No etag, provided so orignal blob is overwritten (thus generating a new etag)
blockBlob.UploadText(helloText);
Console.WriteLine("Blob updated. Updated ETag = {0}",
blockBlob.Properties.ETag);

// Now try to update the blob using the orignal ETag provided when the blob was created
try
{
    Console.WriteLine("Trying to update blob using orignal etag to generate if-match access condition");
    blockBlob.UploadText(helloText,accessCondition:
    AccessCondition.GenerateIfMatchCondition(orignalETag));
}
catch (StorageException ex)
{
    if (ex.RequestInformation.HttpStatusCode == (int)HttpStatusCode.PreconditionFailed)
    {
        Console.WriteLine("Precondition failure as expected. Blob's orignal etag no longer matches");
        // TODO: client can decide on how it wants to handle the 3rd party updated content.
    }
    else
        throw;
}  
```

<span data-ttu-id="8ff9f-142">Le service de stockage prend également en charge des en-têtes conditionnels supplémentaires tels que **If-Modified-Since**, **If-Unmodified-Since** et **If-None-Match**, ainsi que des associations de ces en-têtes.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-142">The Storage Service also includes support for additional conditional headers such as **If-Modified-Since**, **If-Unmodified-Since** and **If-None-Match** as well as combinations thereof.</span></span> <span data-ttu-id="8ff9f-143">Pour plus d'informations, consultez [Spécification des en-têtes conditionnels pour les opérations du service BLOB](http://msdn.microsoft.com/library/azure/dd179371.aspx) sur MSDN.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-143">For more information, see [Specifying Conditional Headers for Blob Service Operations](http://msdn.microsoft.com/library/azure/dd179371.aspx) on MSDN.</span></span>  

<span data-ttu-id="8ff9f-144">Le tableau suivant résume les opérations de conteneurs qui acceptent les en-têtes conditionnels tels que **If-Match** dans la demande et qui renvoient une valeur ETag dans la réponse.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-144">The following table summarizes the container operations that accept conditional headers such as **If-Match** in the request and that return an ETag value in the response.</span></span>  

| <span data-ttu-id="8ff9f-145">Opération</span><span class="sxs-lookup"><span data-stu-id="8ff9f-145">Operation</span></span> | <span data-ttu-id="8ff9f-146">Renvoie une valeur ETag de conteneur</span><span class="sxs-lookup"><span data-stu-id="8ff9f-146">Returns Container ETag value</span></span> | <span data-ttu-id="8ff9f-147">Accepte les en-têtes conditionnels</span><span class="sxs-lookup"><span data-stu-id="8ff9f-147">Accepts conditional headers</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="8ff9f-148">Create Container</span><span class="sxs-lookup"><span data-stu-id="8ff9f-148">Create Container</span></span> |<span data-ttu-id="8ff9f-149">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-149">Yes</span></span> |<span data-ttu-id="8ff9f-150">Non</span><span class="sxs-lookup"><span data-stu-id="8ff9f-150">No</span></span> |
| <span data-ttu-id="8ff9f-151">Get Container Properties</span><span class="sxs-lookup"><span data-stu-id="8ff9f-151">Get Container Properties</span></span> |<span data-ttu-id="8ff9f-152">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-152">Yes</span></span> |<span data-ttu-id="8ff9f-153">Non</span><span class="sxs-lookup"><span data-stu-id="8ff9f-153">No</span></span> |
| <span data-ttu-id="8ff9f-154">Get Container Metadata</span><span class="sxs-lookup"><span data-stu-id="8ff9f-154">Get Container Metadata</span></span> |<span data-ttu-id="8ff9f-155">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-155">Yes</span></span> |<span data-ttu-id="8ff9f-156">Non</span><span class="sxs-lookup"><span data-stu-id="8ff9f-156">No</span></span> |
| <span data-ttu-id="8ff9f-157">Set Container Metadata</span><span class="sxs-lookup"><span data-stu-id="8ff9f-157">Set Container Metadata</span></span> |<span data-ttu-id="8ff9f-158">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-158">Yes</span></span> |<span data-ttu-id="8ff9f-159">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-159">Yes</span></span> |
| <span data-ttu-id="8ff9f-160">Get Container ACL</span><span class="sxs-lookup"><span data-stu-id="8ff9f-160">Get Container ACL</span></span> |<span data-ttu-id="8ff9f-161">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-161">Yes</span></span> |<span data-ttu-id="8ff9f-162">Non</span><span class="sxs-lookup"><span data-stu-id="8ff9f-162">No</span></span> |
| <span data-ttu-id="8ff9f-163">Set Container ACL</span><span class="sxs-lookup"><span data-stu-id="8ff9f-163">Set Container ACL</span></span> |<span data-ttu-id="8ff9f-164">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-164">Yes</span></span> |<span data-ttu-id="8ff9f-165">Oui (*)</span><span class="sxs-lookup"><span data-stu-id="8ff9f-165">Yes (*)</span></span> |
| <span data-ttu-id="8ff9f-166">Delete Container</span><span class="sxs-lookup"><span data-stu-id="8ff9f-166">Delete Container</span></span> |<span data-ttu-id="8ff9f-167">Non</span><span class="sxs-lookup"><span data-stu-id="8ff9f-167">No</span></span> |<span data-ttu-id="8ff9f-168">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-168">Yes</span></span> |
| <span data-ttu-id="8ff9f-169">Lease Container</span><span class="sxs-lookup"><span data-stu-id="8ff9f-169">Lease Container</span></span> |<span data-ttu-id="8ff9f-170">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-170">Yes</span></span> |<span data-ttu-id="8ff9f-171">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-171">Yes</span></span> |
| <span data-ttu-id="8ff9f-172">List Blobs</span><span class="sxs-lookup"><span data-stu-id="8ff9f-172">List Blobs</span></span> |<span data-ttu-id="8ff9f-173">Non</span><span class="sxs-lookup"><span data-stu-id="8ff9f-173">No</span></span> |<span data-ttu-id="8ff9f-174">Non</span><span class="sxs-lookup"><span data-stu-id="8ff9f-174">No</span></span> |

<span data-ttu-id="8ff9f-175">(*) Les autorisations définies par SetContainerACL sont mises en cache et les mises à jour apportées à ces autorisations sont diffusées dans un délai de 30 secondes, période pendant laquelle la cohérence des mises à jour n’est pas garantie.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-175">(*) The permissions defined by SetContainerACL are cached and updates to these permissions take 30 seconds to propagate during which period updates are not guaranteed to be consistent.</span></span>  

<span data-ttu-id="8ff9f-176">Le tableau suivant résume les opérations d'objets blob qui acceptent les en-têtes conditionnels tels que **If-Match** dans la demande et qui renvoient une valeur ETag dans la réponse.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-176">The following table summarizes the blob operations that accept conditional headers such as **If-Match** in the request and that return an ETag value in the response.</span></span>

| <span data-ttu-id="8ff9f-177">Opération</span><span class="sxs-lookup"><span data-stu-id="8ff9f-177">Operation</span></span> | <span data-ttu-id="8ff9f-178">Renvoie une valeur ETag</span><span class="sxs-lookup"><span data-stu-id="8ff9f-178">Returns ETag value</span></span> | <span data-ttu-id="8ff9f-179">Accepte les en-têtes conditionnels</span><span class="sxs-lookup"><span data-stu-id="8ff9f-179">Accepts conditional headers</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="8ff9f-180">Put Blob</span><span class="sxs-lookup"><span data-stu-id="8ff9f-180">Put Blob</span></span> |<span data-ttu-id="8ff9f-181">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-181">Yes</span></span> |<span data-ttu-id="8ff9f-182">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-182">Yes</span></span> |
| <span data-ttu-id="8ff9f-183">Get Blob</span><span class="sxs-lookup"><span data-stu-id="8ff9f-183">Get Blob</span></span> |<span data-ttu-id="8ff9f-184">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-184">Yes</span></span> |<span data-ttu-id="8ff9f-185">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-185">Yes</span></span> |
| <span data-ttu-id="8ff9f-186">Get Blob Properties</span><span class="sxs-lookup"><span data-stu-id="8ff9f-186">Get Blob Properties</span></span> |<span data-ttu-id="8ff9f-187">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-187">Yes</span></span> |<span data-ttu-id="8ff9f-188">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-188">Yes</span></span> |
| <span data-ttu-id="8ff9f-189">Set Blob Properties</span><span class="sxs-lookup"><span data-stu-id="8ff9f-189">Set Blob Properties</span></span> |<span data-ttu-id="8ff9f-190">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-190">Yes</span></span> |<span data-ttu-id="8ff9f-191">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-191">Yes</span></span> |
| <span data-ttu-id="8ff9f-192">Get Blob Metadata</span><span class="sxs-lookup"><span data-stu-id="8ff9f-192">Get Blob Metadata</span></span> |<span data-ttu-id="8ff9f-193">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-193">Yes</span></span> |<span data-ttu-id="8ff9f-194">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-194">Yes</span></span> |
| <span data-ttu-id="8ff9f-195">Set Blob Metadata</span><span class="sxs-lookup"><span data-stu-id="8ff9f-195">Set Blob Metadata</span></span> |<span data-ttu-id="8ff9f-196">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-196">Yes</span></span> |<span data-ttu-id="8ff9f-197">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-197">Yes</span></span> |
| <span data-ttu-id="8ff9f-198">Lease Blob (*)</span><span class="sxs-lookup"><span data-stu-id="8ff9f-198">Lease Blob (*)</span></span> |<span data-ttu-id="8ff9f-199">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-199">Yes</span></span> |<span data-ttu-id="8ff9f-200">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-200">Yes</span></span> |
| <span data-ttu-id="8ff9f-201">Snapshot Blob</span><span class="sxs-lookup"><span data-stu-id="8ff9f-201">Snapshot Blob</span></span> |<span data-ttu-id="8ff9f-202">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-202">Yes</span></span> |<span data-ttu-id="8ff9f-203">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-203">Yes</span></span> |
| <span data-ttu-id="8ff9f-204">Copie d'un objet blob</span><span class="sxs-lookup"><span data-stu-id="8ff9f-204">Copy Blob</span></span> |<span data-ttu-id="8ff9f-205">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-205">Yes</span></span> |<span data-ttu-id="8ff9f-206">Oui (pour les objets blob source et de destination)</span><span class="sxs-lookup"><span data-stu-id="8ff9f-206">Yes (for source and destination blob)</span></span> |
| <span data-ttu-id="8ff9f-207">Abort Copy Blob</span><span class="sxs-lookup"><span data-stu-id="8ff9f-207">Abort Copy Blob</span></span> |<span data-ttu-id="8ff9f-208">Non</span><span class="sxs-lookup"><span data-stu-id="8ff9f-208">No</span></span> |<span data-ttu-id="8ff9f-209">Non</span><span class="sxs-lookup"><span data-stu-id="8ff9f-209">No</span></span> |
| <span data-ttu-id="8ff9f-210">Delete Blob</span><span class="sxs-lookup"><span data-stu-id="8ff9f-210">Delete Blob</span></span> |<span data-ttu-id="8ff9f-211">Non</span><span class="sxs-lookup"><span data-stu-id="8ff9f-211">No</span></span> |<span data-ttu-id="8ff9f-212">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-212">Yes</span></span> |
| <span data-ttu-id="8ff9f-213">Put Block</span><span class="sxs-lookup"><span data-stu-id="8ff9f-213">Put Block</span></span> |<span data-ttu-id="8ff9f-214">Non</span><span class="sxs-lookup"><span data-stu-id="8ff9f-214">No</span></span> |<span data-ttu-id="8ff9f-215">Non</span><span class="sxs-lookup"><span data-stu-id="8ff9f-215">No</span></span> |
| <span data-ttu-id="8ff9f-216">Put Block List</span><span class="sxs-lookup"><span data-stu-id="8ff9f-216">Put Block List</span></span> |<span data-ttu-id="8ff9f-217">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-217">Yes</span></span> |<span data-ttu-id="8ff9f-218">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-218">Yes</span></span> |
| <span data-ttu-id="8ff9f-219">Get Block List</span><span class="sxs-lookup"><span data-stu-id="8ff9f-219">Get Block List</span></span> |<span data-ttu-id="8ff9f-220">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-220">Yes</span></span> |<span data-ttu-id="8ff9f-221">Non</span><span class="sxs-lookup"><span data-stu-id="8ff9f-221">No</span></span> |
| <span data-ttu-id="8ff9f-222">Put Page</span><span class="sxs-lookup"><span data-stu-id="8ff9f-222">Put Page</span></span> |<span data-ttu-id="8ff9f-223">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-223">Yes</span></span> |<span data-ttu-id="8ff9f-224">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-224">Yes</span></span> |
| <span data-ttu-id="8ff9f-225">Get Page Ranges</span><span class="sxs-lookup"><span data-stu-id="8ff9f-225">Get Page Ranges</span></span> |<span data-ttu-id="8ff9f-226">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-226">Yes</span></span> |<span data-ttu-id="8ff9f-227">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-227">Yes</span></span> |

<span data-ttu-id="8ff9f-228">(*) L'opération Lease Blob n'entraîne pas la modification de la balise ETag d'un objet blob.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-228">(*) Lease Blob does not change the ETag on a blob.</span></span>  

### <a name="pessimistic-concurrency-for-blobs"></a><span data-ttu-id="8ff9f-229">Accès concurrentiel pessimiste pour les objets blob</span><span class="sxs-lookup"><span data-stu-id="8ff9f-229">Pessimistic concurrency for blobs</span></span>
<span data-ttu-id="8ff9f-230">Pour verrouiller un objet blob de manière à l'utiliser de manière exclusive, vous pouvez obtenir un [bail](http://msdn.microsoft.com/library/azure/ee691972.aspx) pour l'objet blob.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-230">To lock a blob for exclusive use, you can acquire a [lease](http://msdn.microsoft.com/library/azure/ee691972.aspx) on it.</span></span> <span data-ttu-id="8ff9f-231">Quand vous obtenez un bail, vous spécifiez pendant combien de temps vous en avez besoin : cette durée peut être comprise entre 15 à 60 secondes ou peut être infinie, ce qui confère un verrouillage exclusif.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-231">When you acquire a lease, you specify for how long you need the lease: this can be for between 15 to 60 seconds or infinite, which amounts to an exclusive lock.</span></span> <span data-ttu-id="8ff9f-232">Vous pouvez renouveler un bail à durée limitée et vous pouvez libérer un bail lorsque vous n'en avez plus besoin.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-232">You can renew a finite lease to extend it, and you can release any lease when you are finished with it.</span></span> <span data-ttu-id="8ff9f-233">Le service BLOB libère automatiquement les baux à durée limitée lorsqu'ils expirent.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-233">The blob service automatically releases finite leases when they expire.</span></span>  

<span data-ttu-id="8ff9f-234">Les baux permettent la prise en charge de différentes stratégies de synchronisation, dont des stratégies d'écriture exclusive/de lecture partagée, d'écriture exclusive/de lecture exclusive et d'écriture partagée/de lecture exclusive.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-234">Leases enable different synchronization strategies to be supported, including exclusive write / shared read, exclusive write / exclusive read and shared write / exclusive read.</span></span> <span data-ttu-id="8ff9f-235">Si un bail existe, le service de stockage applique une stratégie d’écriture exclusive (opérations Placement, Définition et Suppression). Cependant, pour garantir l’exclusivité des opérations de lecture, le développeur doit veiller à ce que toutes les applications clientes utilisent un identificateur de bail et à ce que seul un client à la fois dispose d’un identificateur de bail valable.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-235">Where a lease exists the storage service enforces exclusive writes (put, set and delete operations) however ensuring exclusivity for read operations requires the developer to ensure that all client applications use a lease ID and that only one client at a time has a valid lease ID.</span></span> <span data-ttu-id="8ff9f-236">Les opérations de lecture sans identificateur de bail entraînent l’application d’une stratégie de lecture partagée.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-236">Read operations that do not include a lease ID result in shared reads.</span></span>  

<span data-ttu-id="8ff9f-237">L'extrait de code C# suivant présente un exemple d'obtention d'un bail exclusif de 30 secondes sur un objet blob, de mise à jour du contenu de l'objet blob et de libération du bail.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-237">The following C# snippet shows an example of acquiring an exclusive lease for 30 seconds on a blob, updating the content of the blob, and then releasing the lease.</span></span> <span data-ttu-id="8ff9f-238">Si l’objet blob fait déjà l’objet d’un bail valide quand vous tentez d’obtenir un nouveau bail, le service BLOB renvoie un message d’état HTTP 409 (Conflit).</span><span class="sxs-lookup"><span data-stu-id="8ff9f-238">If there is already a valid lease on the blob when you try to acquire a new lease, the blob service returns an "HTTP (409) Conflict" status result.</span></span> <span data-ttu-id="8ff9f-239">L’extrait de code ci-dessous utilise un objet **AccessCondition** pour encapsuler les informations relatives au bail au moment où il formule une demande de mise à jour de l’objet blob dans le service de stockage.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-239">The following snippet uses an **AccessCondition** object to encapsulate the lease information when it makes a request to update the blob in the storage service.</span></span>  <span data-ttu-id="8ff9f-240">Vous pouvez télécharger l’exemple complet ici : [Gestion de l’accès concurrentiel avec Azure Storage](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114).</span><span class="sxs-lookup"><span data-stu-id="8ff9f-240">You can download the full sample here: [Managing Concurrency using Azure Storage](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114).</span></span>

```csharp
// Acquire lease for 15 seconds
string lease = blockBlob.AcquireLease(TimeSpan.FromSeconds(15), null);
Console.WriteLine("Blob lease acquired. Lease = {0}", lease);

// Update blob using lease. This operation will succeed
const string helloText = "Blob updated";
var accessCondition = AccessCondition.GenerateLeaseCondition(lease);
blockBlob.UploadText(helloText, accessCondition: accessCondition);
Console.WriteLine("Blob updated using an exclusive lease");

//Simulate third party update to blob without lease
try
{
    // Below operation will fail as no valid lease provided
    Console.WriteLine("Trying to update blob without valid lease");
    blockBlob.UploadText("Update without lease, will fail");
}
catch (StorageException ex)
{
    if (ex.RequestInformation.HttpStatusCode == (int)HttpStatusCode.PreconditionFailed)
        Console.WriteLine("Precondition failure as expected. Blob's lease does not match");
    else
        throw;
}  
```

<span data-ttu-id="8ff9f-241">Si vous tentez de procéder à une opération d'écriture sur un objet blob faisant l'objet d'un bail sans transmettre l'identificateur de bail, un message d'erreur 412 est renvoyé.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-241">If you attempt a write operation on a leased blob without passing the lease ID, the request fails with a 412 error.</span></span> <span data-ttu-id="8ff9f-242">Notez que si le bail expire avant l’appel de la méthode **UploadText**, un message d’erreur **412** est également renvoyé même si vous transmettez l’identificateur de bail.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-242">Note that if the lease expires before calling the **UploadText** method but you still pass the lease ID, the request also fails with a **412** error.</span></span> <span data-ttu-id="8ff9f-243">Pour plus d'informations sur la gestion des délais d’expiration des baux et des identificateurs de baux, consultez la documentation REST [Lease Blob](http://msdn.microsoft.com/library/azure/ee691972.aspx).</span><span class="sxs-lookup"><span data-stu-id="8ff9f-243">For more information about managing lease expiry times and lease IDs, see the [Lease Blob](http://msdn.microsoft.com/library/azure/ee691972.aspx) REST documentation.</span></span>  

<span data-ttu-id="8ff9f-244">Les opérations d'objets blob suivantes peuvent utiliser des baux dans le cadre de la gestion de l'accès concurrentiel pessimiste :</span><span class="sxs-lookup"><span data-stu-id="8ff9f-244">The following blob operations can use leases to manage pessimistic concurrency:</span></span>  

* <span data-ttu-id="8ff9f-245">Put Blob</span><span class="sxs-lookup"><span data-stu-id="8ff9f-245">Put Blob</span></span>
* <span data-ttu-id="8ff9f-246">Get Blob</span><span class="sxs-lookup"><span data-stu-id="8ff9f-246">Get Blob</span></span>
* <span data-ttu-id="8ff9f-247">Get Blob Properties</span><span class="sxs-lookup"><span data-stu-id="8ff9f-247">Get Blob Properties</span></span>
* <span data-ttu-id="8ff9f-248">Set Blob Properties</span><span class="sxs-lookup"><span data-stu-id="8ff9f-248">Set Blob Properties</span></span>
* <span data-ttu-id="8ff9f-249">Get Blob Metadata</span><span class="sxs-lookup"><span data-stu-id="8ff9f-249">Get Blob Metadata</span></span>
* <span data-ttu-id="8ff9f-250">Set Blob Metadata</span><span class="sxs-lookup"><span data-stu-id="8ff9f-250">Set Blob Metadata</span></span>
* <span data-ttu-id="8ff9f-251">Delete Blob</span><span class="sxs-lookup"><span data-stu-id="8ff9f-251">Delete Blob</span></span>
* <span data-ttu-id="8ff9f-252">Put Block</span><span class="sxs-lookup"><span data-stu-id="8ff9f-252">Put Block</span></span>
* <span data-ttu-id="8ff9f-253">Put Block List</span><span class="sxs-lookup"><span data-stu-id="8ff9f-253">Put Block List</span></span>
* <span data-ttu-id="8ff9f-254">Get Block List</span><span class="sxs-lookup"><span data-stu-id="8ff9f-254">Get Block List</span></span>
* <span data-ttu-id="8ff9f-255">Put Page</span><span class="sxs-lookup"><span data-stu-id="8ff9f-255">Put Page</span></span>
* <span data-ttu-id="8ff9f-256">Get Page Ranges</span><span class="sxs-lookup"><span data-stu-id="8ff9f-256">Get Page Ranges</span></span>
* <span data-ttu-id="8ff9f-257">Snapshot Blob - identificateur de bail en option s'il existe un bail</span><span class="sxs-lookup"><span data-stu-id="8ff9f-257">Snapshot Blob - lease ID optional if a lease exists</span></span>
* <span data-ttu-id="8ff9f-258">Copy Blob - identificateur de bail obligatoire s'il existe un bail sur l'objet blob cible</span><span class="sxs-lookup"><span data-stu-id="8ff9f-258">Copy Blob - lease ID required if a lease exists on the destination blob</span></span>
* <span data-ttu-id="8ff9f-259">Abort Copy Blob - identificateur de bail obligatoire s'il existe un bail à durée illimitée sur l'objet blob cible</span><span class="sxs-lookup"><span data-stu-id="8ff9f-259">Abort Copy Blob - lease ID required if an infinite lease exists on the destination blob</span></span>
* <span data-ttu-id="8ff9f-260">Lease Blob</span><span class="sxs-lookup"><span data-stu-id="8ff9f-260">Lease Blob</span></span>  

### <a name="pessimistic-concurrency-for-containers"></a><span data-ttu-id="8ff9f-261">Accès concurrentiel pessimiste pour les conteneurs</span><span class="sxs-lookup"><span data-stu-id="8ff9f-261">Pessimistic concurrency for containers</span></span>
<span data-ttu-id="8ff9f-262">Les baux sur les conteneurs permettent la prise en charge des mêmes stratégies de synchronisation que sur les objets blob (écriture exclusive/lecture partagée, écriture exclusive/lecture exclusive et écriture partagée/lecture exclusive). Cependant, contrairement aux objets blob, le service de stockage applique uniquement l'exclusivité aux opérations de suppression.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-262">Leases on containers enable the same synchronization strategies to be supported as on blobs (exclusive write / shared read, exclusive write / exclusive read and shared write / exclusive read) however unlike blobs the storage service only enforces exclusivity on delete operations.</span></span> <span data-ttu-id="8ff9f-263">Pour supprimer un conteneur avec un bail actif, le client doit inclure l'identificateur du bail actif dans la demande de suppression.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-263">To delete a container with an active lease, a client must include the active lease ID with the delete request.</span></span> <span data-ttu-id="8ff9f-264">Toutes les opérations sont correctement effectuées sur les conteneurs soumis à un bail sans que l'identificateur de bail soit inclus, il s'agit alors d'opérations partagées.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-264">All other container operations succeed on a leased container without including the lease ID in which case they are shared operations.</span></span> <span data-ttu-id="8ff9f-265">Si l'exclusivité est requise pour les opérations de mise à jour (Put ou Set) ou de lecture, les développeurs doivent veiller à ce que tous les clients utilisent un identificateur de bail et à ce que seul un client à la fois dispose d'un identificateur de bail valable.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-265">If exclusivity of update (put or set) or read operations is required then developers should ensure all clients use a lease ID and that only one client at a time has a valid lease ID.</span></span>  

<span data-ttu-id="8ff9f-266">Les opérations de conteneurs suivantes peuvent utiliser des baux dans le cadre de la gestion de l'accès concurrentiel pessimiste :</span><span class="sxs-lookup"><span data-stu-id="8ff9f-266">The following container operations can use leases to manage pessimistic concurrency:</span></span>  

* <span data-ttu-id="8ff9f-267">Delete Container</span><span class="sxs-lookup"><span data-stu-id="8ff9f-267">Delete Container</span></span>
* <span data-ttu-id="8ff9f-268">Get Container Properties</span><span class="sxs-lookup"><span data-stu-id="8ff9f-268">Get Container Properties</span></span>
* <span data-ttu-id="8ff9f-269">Get Container Metadata</span><span class="sxs-lookup"><span data-stu-id="8ff9f-269">Get Container Metadata</span></span>
* <span data-ttu-id="8ff9f-270">Set Container Metadata</span><span class="sxs-lookup"><span data-stu-id="8ff9f-270">Set Container Metadata</span></span>
* <span data-ttu-id="8ff9f-271">Get Container ACL</span><span class="sxs-lookup"><span data-stu-id="8ff9f-271">Get Container ACL</span></span>
* <span data-ttu-id="8ff9f-272">Set Container ACL</span><span class="sxs-lookup"><span data-stu-id="8ff9f-272">Set Container ACL</span></span>
* <span data-ttu-id="8ff9f-273">Lease Container</span><span class="sxs-lookup"><span data-stu-id="8ff9f-273">Lease Container</span></span>  

<span data-ttu-id="8ff9f-274">Pour plus d'informations, consultez les pages suivantes :</span><span class="sxs-lookup"><span data-stu-id="8ff9f-274">For more information, see:</span></span>  

* [<span data-ttu-id="8ff9f-275">Spécification des en-têtes conditionnels pour les opérations du service BLOB</span><span class="sxs-lookup"><span data-stu-id="8ff9f-275">Specifying Conditional Headers for Blob Service Operations</span></span>](http://msdn.microsoft.com/library/azure/dd179371.aspx)
* [<span data-ttu-id="8ff9f-276">Lease Container</span><span class="sxs-lookup"><span data-stu-id="8ff9f-276">Lease Container</span></span>](http://msdn.microsoft.com/library/azure/jj159103.aspx)
* [<span data-ttu-id="8ff9f-277">Lease Blob </span><span class="sxs-lookup"><span data-stu-id="8ff9f-277">Lease Blob </span></span>](http://msdn.microsoft.com/library/azure/ee691972.aspx)

## <a name="managing-concurrency-in-the-table-service"></a><span data-ttu-id="8ff9f-278">Gestion de l’accès concurrentiel dans le service de Table</span><span class="sxs-lookup"><span data-stu-id="8ff9f-278">Managing Concurrency in the Table Service</span></span>
<span data-ttu-id="8ff9f-279">Le service de Table utilise les vérifications d'accès concurrentiel optimiste comme comportement par défaut lorsque vous travaillez avec des entités, contrairement au service BLOB où vous devez choisir de manière explicite de procéder à des vérifications d'accès concurrentiel optimiste.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-279">The table service uses optimistic concurrency checks as the default behavior when you are working with entities, unlike the blob service where you must explicitly choose to perform optimistic concurrency checks.</span></span> <span data-ttu-id="8ff9f-280">L'autre différence réside dans le fait que vous pouvez uniquement gérer le comportement d'accès concurrentiel des entités avec le service de Table alors qu'avec le service BLOB, vous pouvez gérer l'accès concurrentiel des conteneurs et des objets blob.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-280">The other difference between the table and blob services is that you can only manage the concurrency behavior of entities whereas with the blob service you can manage the concurrency of both containers and blobs.</span></span>  

<span data-ttu-id="8ff9f-281">Pour utiliser l'accès concurrentiel optimiste et pour déterminer si un autre processus a modifié une entité depuis sa récupération à partir du service de stockage de tables, vous pouvez utiliser la valeur ETag reçue lorsque le service de Table renvoie une entité.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-281">To use optimistic concurrency and to check if another process modified an entity since you retrieved it from the table storage service, you can use the ETag value you receive when the table service returns an entity.</span></span> <span data-ttu-id="8ff9f-282">Ce processus se déroule comme suit :</span><span class="sxs-lookup"><span data-stu-id="8ff9f-282">The outline of this process is as follows:</span></span>  

1. <span data-ttu-id="8ff9f-283">Récupérez une entité à partir du service de stockage de tables, la réponse inclut une valeur ETag qui détermine l'identificateur associé à l'entité dans le service de stockage.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-283">Retrieve an entity from the table storage service, the response includes an ETag value that identifies the current identifier associated with that entity in the storage service.</span></span>
2. <span data-ttu-id="8ff9f-284">Lorsque vous mettez l'entité à jour, incluez la valeur ETag reçue à l'étape 1 dans l'en-tête obligatoire **If-Match** de la demande que vous envoyez au service.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-284">When you update the entity, include the ETag value you received in step 1 in the mandatory **If-Match** header of the request you send to the service.</span></span>
3. <span data-ttu-id="8ff9f-285">Le service compare la valeur ETag de la demande à la valeur ETag de l'entité.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-285">The service compares the ETag value in the request with the current ETag value of the entity.</span></span>
4. <span data-ttu-id="8ff9f-286">Si la valeur ETag de l'entité est différente de la balise ETag dans l'en-tête obligatoire **If-Match** de la demande, le service renvoie une erreur 412 au client.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-286">If the current ETag value of the entity is different than the ETag in the mandatory **If-Match** header in the request, the service returns a 412 error to the client.</span></span> <span data-ttu-id="8ff9f-287">Cela indique au client que l'entité a été mise à jour par un autre processus depuis la récupération par le client.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-287">This indicates to the client that another process has updated the entity since the client retrieved it.</span></span>
5. <span data-ttu-id="8ff9f-288">Si la valeur ETag de l’entité est la même que la balise ETag dans l’en-tête obligatoire **If-Match** de la demande ou si l’en-tête **If-Match** contient le caractère générique (*), le service effectue l’opération demandée et met la valeur ETag de l’entité à jour pour indiquer qu’elle a été mise à jour.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-288">If the current ETag value of the entity is the same as the ETag in the mandatory **If-Match** header in the request or the **If-Match** header contains the wildcard character (*), the service performs the requested operation and updates the current ETag value of the entity to show that it has been updated.</span></span>  

<span data-ttu-id="8ff9f-289">Notez que, contrairement au service BLOB, le client doit inclure un en-tête **If-Match** dans les demandes de mise à jour dans le cadre du service de Table.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-289">Note that unlike the blob service, the table service requires the client to include an **If-Match** header in update requests.</span></span> <span data-ttu-id="8ff9f-290">Il est cependant possible de procéder de force à une mise à jour inconditionnelle (règle de Thomas) et de contourner les vérifications d'accès concurrentiel en ajoutant le caractère générique (\*) dans l'en-tête **If-Match** de la demande.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-290">However, it is possible to force an unconditional update (last writer wins strategy) and bypass concurrency checks if the client sets the **If-Match** header to the wildcard character (*) in the request.</span></span>  

<span data-ttu-id="8ff9f-291">L’extrait de code C# suivant présente une entité de client précédemment créée ou récupérée et dont l’adresse de messagerie a été mise à jour.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-291">The following C# snippet shows a customer entity that was previously either created or retrieved having their email address updated.</span></span> <span data-ttu-id="8ff9f-292">L'opération d'insertion ou de récupération initiale stocke la valeur ETag dans l'objet client et, l'exemple utilisant la même instance d'objet lors de l'exécution de l'opération de remplacement, il renvoie automatiquement la valeur ETag au service de Table, ce qui permet au service de vérifier les violations d'accès concurrentiel.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-292">The initial insert or retrieve operation stores the ETag value in the customer object, and because the sample uses the same object instance when it executes the replace operation, it automatically sends the ETag value back to the table service, enabling the service to check for concurrency violations.</span></span> <span data-ttu-id="8ff9f-293">Si l'entité a été mise à jour par un autre processus dans le service de stockage de tables, le service renvoie un message d'état HTTP 412 (Échec de la condition préalable).</span><span class="sxs-lookup"><span data-stu-id="8ff9f-293">If another process has updated the entity in table storage, the service returns an HTTP 412 (Precondition Failed) status message.</span></span>  <span data-ttu-id="8ff9f-294">Vous pouvez télécharger l’exemple complet ici : [Gestion de l’accès concurrentiel avec Azure Storage](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114).</span><span class="sxs-lookup"><span data-stu-id="8ff9f-294">You can download the full sample here: [Managing Concurrency using Azure Storage](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114).</span></span>

```csharp
try
{
    customer.Email = "updatedEmail@contoso.org";
    TableOperation replaceCustomer = TableOperation.Replace(customer);
    customerTable.Execute(replaceCustomer);
    Console.WriteLine("Replace operation succeeded.");
}
catch (StorageException ex)
{
    if (ex.RequestInformation.HttpStatusCode == 412)
        Console.WriteLine("Optimistic concurrency violation – entity has changed since it was retrieved.");
    else
        throw;
}  
```

<span data-ttu-id="8ff9f-295">Pour désactiver explicitement la vérification d’accès concurrentiel, vous devez définir la propriété **ETag** de l’objet **employee** sur « * » avant d’exécuter l’opération de remplacement.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-295">To explicitly disable the concurrency check, you should set the **ETag** property of the **employee** object to "*" before you execute the replace operation.</span></span>  

```csharp
customer.ETag = "*";  
```

<span data-ttu-id="8ff9f-296">Le tableau suivant résume la manière dont les opérations d'entités de table utilisent les valeurs ETag :</span><span class="sxs-lookup"><span data-stu-id="8ff9f-296">The following table summarizes how the table entity operations use ETag values:</span></span>

| <span data-ttu-id="8ff9f-297">Opération</span><span class="sxs-lookup"><span data-stu-id="8ff9f-297">Operation</span></span> | <span data-ttu-id="8ff9f-298">Renvoie une valeur ETag</span><span class="sxs-lookup"><span data-stu-id="8ff9f-298">Returns ETag value</span></span> | <span data-ttu-id="8ff9f-299">Nécessite l'en-tête de demande If-Match</span><span class="sxs-lookup"><span data-stu-id="8ff9f-299">Requires If-Match request header</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="8ff9f-300">Query Entities</span><span class="sxs-lookup"><span data-stu-id="8ff9f-300">Query Entities</span></span> |<span data-ttu-id="8ff9f-301">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-301">Yes</span></span> |<span data-ttu-id="8ff9f-302">Non</span><span class="sxs-lookup"><span data-stu-id="8ff9f-302">No</span></span> |
| <span data-ttu-id="8ff9f-303">Insert Entity</span><span class="sxs-lookup"><span data-stu-id="8ff9f-303">Insert Entity</span></span> |<span data-ttu-id="8ff9f-304">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-304">Yes</span></span> |<span data-ttu-id="8ff9f-305">Non</span><span class="sxs-lookup"><span data-stu-id="8ff9f-305">No</span></span> |
| <span data-ttu-id="8ff9f-306">Update Entity</span><span class="sxs-lookup"><span data-stu-id="8ff9f-306">Update Entity</span></span> |<span data-ttu-id="8ff9f-307">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-307">Yes</span></span> |<span data-ttu-id="8ff9f-308">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-308">Yes</span></span> |
| <span data-ttu-id="8ff9f-309">Merge Entity</span><span class="sxs-lookup"><span data-stu-id="8ff9f-309">Merge Entity</span></span> |<span data-ttu-id="8ff9f-310">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-310">Yes</span></span> |<span data-ttu-id="8ff9f-311">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-311">Yes</span></span> |
| <span data-ttu-id="8ff9f-312">Delete Entity</span><span class="sxs-lookup"><span data-stu-id="8ff9f-312">Delete Entity</span></span> |<span data-ttu-id="8ff9f-313">Non</span><span class="sxs-lookup"><span data-stu-id="8ff9f-313">No</span></span> |<span data-ttu-id="8ff9f-314">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-314">Yes</span></span> |
| <span data-ttu-id="8ff9f-315">Insert or Replace Entity</span><span class="sxs-lookup"><span data-stu-id="8ff9f-315">Insert or Replace Entity</span></span> |<span data-ttu-id="8ff9f-316">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-316">Yes</span></span> |<span data-ttu-id="8ff9f-317">Non</span><span class="sxs-lookup"><span data-stu-id="8ff9f-317">No</span></span> |
| <span data-ttu-id="8ff9f-318">Insert or Merge Entity</span><span class="sxs-lookup"><span data-stu-id="8ff9f-318">Insert or Merge Entity</span></span> |<span data-ttu-id="8ff9f-319">Oui</span><span class="sxs-lookup"><span data-stu-id="8ff9f-319">Yes</span></span> |<span data-ttu-id="8ff9f-320">Non</span><span class="sxs-lookup"><span data-stu-id="8ff9f-320">No</span></span> |

<span data-ttu-id="8ff9f-321">Notez que les opérations **Insert or Replace Entity** et **Insert or Merge Entity** ne procèdent *pas* à des vérifications d’accès concurrentiel étant donné qu’elles n’envoient pas de valeur ETag au service de Table.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-321">Note that the **Insert or Replace Entity** and **Insert or Merge Entity** operations do *not* perform any concurrency checks because they do not send an ETag value to the table service.</span></span>  

<span data-ttu-id="8ff9f-322">Les développeurs utilisant des tables doivent généralement s'appuyer sur l'accès concurrentiel optimiste lors du développement d'applications extensibles.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-322">In general developers using tables should rely on optimistic concurrency when developing scalable applications.</span></span> <span data-ttu-id="8ff9f-323">Si un verrouillage pessimiste est nécessaire, les développeurs peuvent, lors de l'accès aux tables, attribuer un objet blob désigné à chaque table et essayer d'appliquer un bail à l'objet blob avant de travailler sur la table.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-323">If pessimistic locking is needed, one approach developers can take when accessing Tables is to assign a designated blob for each table and try to take a lease on the blob before operating on the table.</span></span> <span data-ttu-id="8ff9f-324">Dans le cadre de cette approche, l'application doit veiller à ce que tous les chemins d'accès aux données obtiennent le bail avant de travailler sur la table.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-324">This approach does require the application to ensure all data access paths obtain the lease prior to operating on the table.</span></span> <span data-ttu-id="8ff9f-325">Vous devez également noter que la durée minimale de bail est de 15 secondes, ce qui nécessite une bonne prise en considération pour l'extensibilité.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-325">You should also note that the minimum lease time is 15 seconds which requires careful consideration for scalability.</span></span>  

<span data-ttu-id="8ff9f-326">Pour plus d'informations, consultez les pages suivantes :</span><span class="sxs-lookup"><span data-stu-id="8ff9f-326">For more information, see:</span></span>  

* [<span data-ttu-id="8ff9f-327">Opérations sur les entités</span><span class="sxs-lookup"><span data-stu-id="8ff9f-327">Operations on Entities</span></span>](http://msdn.microsoft.com/library/azure/dd179375.aspx)  

## <a name="managing-concurrency-in-the-queue-service"></a><span data-ttu-id="8ff9f-328">Gestion de l’accès concurrentiel dans le service de File d’attente</span><span class="sxs-lookup"><span data-stu-id="8ff9f-328">Managing Concurrency in the Queue Service</span></span>
<span data-ttu-id="8ff9f-329">L'accès concurrentiel est un problème dans le cadre du service de File d'attente, où plusieurs clients récupèrent des messages à partir d'une file d'attente.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-329">One scenario in which concurrency is a concern in the queueing service is where multiple clients are retrieving messages from a queue.</span></span> <span data-ttu-id="8ff9f-330">Lorsqu'un message est récupéré à partir de la file d'attente, la réponse inclut le message et une valeur d'accusé pop, nécessaire à la suppression du message.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-330">When a message is retrieved from the queue, the response includes the message and a pop receipt value, which is required to delete the message.</span></span> <span data-ttu-id="8ff9f-331">Le message n'est pas automatiquement supprimé de la file d'attente mais, une fois récupéré, les autres clients ne le voient pas pendant l'intervalle défini par le paramètre visibilitytimeout.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-331">The message is not automatically deleted from the queue, but after it has been retrieved, it is not visible to other clients for the time interval specified by the visibilitytimeout parameter.</span></span> <span data-ttu-id="8ff9f-332">Le client qui récupère le message doit le supprimer une fois le message traité et avant expiration du délai défini par l'élément TimeNextVisible de la réponse, calculé en fonction de la valeur du paramètre visibilitytimeout.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-332">The client that retrieves the message is expected to delete the message after it has been processed, and before the time specified by the TimeNextVisible element of the response, which is calculated based on the value of the visibilitytimeout parameter.</span></span> <span data-ttu-id="8ff9f-333">La valeur visibilitytimeout est ajoutée à l'heure à laquelle le message a été récupéré pour déterminer la valeur de l'élément TimeNextVisible.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-333">The value of visibilitytimeout is added to the time at which the message is retrieved to determine the value of TimeNextVisible.</span></span>  

<span data-ttu-id="8ff9f-334">Le service de File d'attente ne prend pas en charge l'accès concurrentiel optimiste ou pessimiste. Les clients qui traitent des messages récupérés à partir d'une file d'attente doivent donc veiller à ce que les messages soient traités de manière idempotente.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-334">The queue service does not have support for either optimistic or pessimistic concurrency and for this reason clients processing messages retrieved from a queue should ensure messages are processed in an idempotent manner.</span></span> <span data-ttu-id="8ff9f-335">La règle de Thomas est utilisée pour les opérations de mise à jour telles que SetQueueServiceProperties, SetQueueMetaData, SetQueueACL et UpdateMessage.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-335">A last writer wins strategy is used for update operations such as SetQueueServiceProperties, SetQueueMetaData, SetQueueACL and UpdateMessage.</span></span>  

<span data-ttu-id="8ff9f-336">Pour plus d'informations, consultez les pages suivantes :</span><span class="sxs-lookup"><span data-stu-id="8ff9f-336">For more information, see:</span></span>  

* [<span data-ttu-id="8ff9f-337">API REST du service de File d’attente</span><span class="sxs-lookup"><span data-stu-id="8ff9f-337">Queue Service REST API</span></span>](http://msdn.microsoft.com/library/azure/dd179363.aspx)
* [<span data-ttu-id="8ff9f-338">Get Messages</span><span class="sxs-lookup"><span data-stu-id="8ff9f-338">Get Messages</span></span>](http://msdn.microsoft.com/library/azure/dd179474.aspx)  

## <a name="managing-concurrency-in-the-file-service"></a><span data-ttu-id="8ff9f-339">Gestion de l’accès concurrentiel dans le service de Fichier</span><span class="sxs-lookup"><span data-stu-id="8ff9f-339">Managing Concurrency in the File Service</span></span>
<span data-ttu-id="8ff9f-340">Il est possible d'accéder au service de Fichier à l'aide de deux points de terminaison de protocole différents : SMB et REST.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-340">The file service can be accessed using two different protocol endpoints – SMB and REST.</span></span> <span data-ttu-id="8ff9f-341">Le service REST ne prend pas en charge le verrouillage optimiste ou pessimiste, toutes les mises à jour sont donc effectuées selon la règle de Thomas.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-341">The REST service does not have support for either optimistic locking or pessimistic locking and all updates will follow a last writer wins strategy.</span></span> <span data-ttu-id="8ff9f-342">Les clients SMB qui montent les partages de fichiers peuvent utiliser les mécanismes de verrouillage du système de fichiers pour gérer l'accès aux fichiers partagés (possibilité de procéder à un verrouillage pessimiste incluse).</span><span class="sxs-lookup"><span data-stu-id="8ff9f-342">SMB clients that mount file shares can leverage file system locking mechanisms to manage access to shared files – including the ability to perform pessimistic locking.</span></span> <span data-ttu-id="8ff9f-343">Lorsqu'un client SMB ouvre un fichier, il définit le mode de partage et d'accès au fichier.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-343">When an SMB client opens a file, it specifies both the file access and share mode.</span></span> <span data-ttu-id="8ff9f-344">Si le fichier est accessible en écriture ou en lecture/écriture et si aucun mode de partage de fichiers n'est défini, le fichier est verrouillé par le client SMB jusqu'à fermeture.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-344">Setting a File Access option of "Write" or "Read/Write" along with a File Share mode of "None" will result in the file being locked by an SMB client until the file is closed.</span></span> <span data-ttu-id="8ff9f-345">En cas de tentative d'opération REST sur un fichier verrouillé par un client SMB, le service REST renvoie un code d'état 409 (Conflit) avec le code d'erreur SharingViolation.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-345">If REST operation is attempted on a file where an SMB client has the file locked the REST service will return status code 409 (Conflict) with error code SharingViolation.</span></span>  

<span data-ttu-id="8ff9f-346">Si un client SMB ouvre un fichier en vue de le supprimer, il marque le fichier comme étant en attente de suppression jusqu'à ce que les descripteurs d'ouverture des autres clients SMB pour ce fichier soient fermés.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-346">When an SMB client opens a file for delete, it marks the file as pending delete until all other SMB client open handles on that file are closed.</span></span> <span data-ttu-id="8ff9f-347">Lorsqu'un fichier est marqué comme étant en attente de suppression, toutes les opérations REST effectuées sur le fichier renvoient un code d'état 409 (Conflit) avec le code d'erreur SMBDeletePending.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-347">While a file is marked as pending delete, any REST operation on that file will return status code 409 (Conflict) with error code SMBDeletePending.</span></span> <span data-ttu-id="8ff9f-348">Le code d'état 404 (Introuvable) n'est pas renvoyé étant donné que le client SMB peut supprimer l'indicateur de suppression en attente avant de fermer le fichier.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-348">Status code 404 (Not Found) is not returned since it is possible for the SMB client to remove the pending deletion flag prior to closing the file.</span></span> <span data-ttu-id="8ff9f-349">En d'autres termes, le code d'état 404 (Introuvable) ne peut être renvoyé que si le fichier a été supprimé.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-349">In other words, status code 404 (Not Found) is only expected when the file has been removed.</span></span> <span data-ttu-id="8ff9f-350">Sachez que tant qu’un ficher est dans un état de suppression en attente SMB, il ne figure pas dans les résultats de la liste de fichiers.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-350">Note that while a file is in an SMB pending delete state, it will not be included in the List Files results.</span></span> <span data-ttu-id="8ff9f-351">De même, sachez que les opérations de suppression de fichier REST et de suppression de répertoire REST sont validées de manière atomique et ne débouchent pas sur un état de suppression en attente.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-351">Also, note that the REST Delete File and REST Delete Directory operations are committed atomically and do not result in a pending delete state.</span></span>  

<span data-ttu-id="8ff9f-352">Pour plus d'informations, consultez les pages suivantes :</span><span class="sxs-lookup"><span data-stu-id="8ff9f-352">For more information, see:</span></span>  

* [<span data-ttu-id="8ff9f-353">Gestion des verrouillages de fichiers</span><span class="sxs-lookup"><span data-stu-id="8ff9f-353">Managing File Locks</span></span>](http://msdn.microsoft.com/library/azure/dn194265.aspx)  

## <a name="summary-and-next-steps"></a><span data-ttu-id="8ff9f-354">Résumé et étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="8ff9f-354">Summary and Next Steps</span></span>
<span data-ttu-id="8ff9f-355">Le service Microsoft Azure Storage a été conçu pour répondre aux besoins des applications en ligne les plus complexes sans forcer les développeurs à faire des compromis ou à repenser des hypothèses de conception clés, telles que l'accès concurrentiel et la cohérence des données, qu'ils considèrent désormais comme acquises.</span><span class="sxs-lookup"><span data-stu-id="8ff9f-355">The Microsoft Azure Storage service has been designed to meet the needs of the most complex online applications without forcing developers to compromise or rethink key design assumptions such as concurrency and data consistency that they have come to take for granted.</span></span>  

<span data-ttu-id="8ff9f-356">Pour l'exemple complet d'application auquel il est fait référence dans ce blog :</span><span class="sxs-lookup"><span data-stu-id="8ff9f-356">For the complete sample application referenced in this blog:</span></span>  

* [<span data-ttu-id="8ff9f-357">Gestion de l’accès concurrentiel avec Azure Storage - Exemple d’application</span><span class="sxs-lookup"><span data-stu-id="8ff9f-357">Managing Concurrency using Azure Storage - Sample Application</span></span>](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114)  

<span data-ttu-id="8ff9f-358">Pour plus d’informations concernant Azure Storage, consultez la page :</span><span class="sxs-lookup"><span data-stu-id="8ff9f-358">For more information on Azure Storage see:</span></span>  

* [<span data-ttu-id="8ff9f-359">Page d’accueil de Microsoft Azure Storage</span><span class="sxs-lookup"><span data-stu-id="8ff9f-359">Microsoft Azure Storage Home Page</span></span>](https://azure.microsoft.com/services/storage/)
* [<span data-ttu-id="8ff9f-360">Introduction à Azure Storage</span><span class="sxs-lookup"><span data-stu-id="8ff9f-360">Introduction to Azure Storage</span></span>](storage-introduction.md)
* <span data-ttu-id="8ff9f-361">Prise en main du Stockage [Blob](../blobs/storage-dotnet-how-to-use-blobs.md), [Table](../../cosmos-db/table-storage-how-to-use-dotnet.md), [File d’attente](../storage-dotnet-how-to-use-queues.md) et [Fichier](../storage-dotnet-how-to-use-files.md)</span><span class="sxs-lookup"><span data-stu-id="8ff9f-361">Storage Getting Started for [Blob](../blobs/storage-dotnet-how-to-use-blobs.md), [Table](../../cosmos-db/table-storage-how-to-use-dotnet.md),  [Queues](../storage-dotnet-how-to-use-queues.md), and [Files](../storage-dotnet-how-to-use-files.md)</span></span>
* <span data-ttu-id="8ff9f-362">Architecture de stockage – [Stockage Azure : service de stockage cloud à haute disponibilité et à forte cohérence](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/11/20/windows-azure-storage-a-highly-available-cloud-storage-service-with-strong-consistency.aspx)</span><span class="sxs-lookup"><span data-stu-id="8ff9f-362">Storage Architecture – [Azure Storage: A Highly Available Cloud Storage Service with Strong Consistency](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/11/20/windows-azure-storage-a-highly-available-cloud-storage-service-with-strong-consistency.aspx)</span></span>

