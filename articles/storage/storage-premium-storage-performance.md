---
title: 'Azure Premium Storage : conception sous le signe de la haute performance | Microsoft Docs'
description: "Concevoir des applications hautes performances avec Azure Premium Storage. Premium Storage offre une prise en charge très performante et à faible latence des disques pour les charges de travail utilisant beaucoup d'E/S exécutées sur les machines virtuelles Azure."
services: storage
documentationcenter: na
author: aungoo-msft
manager: tadb
editor: tysonn
ms.assetid: e6a409c3-d31a-4704-a93c-0a04fdc95960
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/27/2017
ms.author: aungoo
ms.openlocfilehash: 75845eb4707e8e5606153a5e1a7c10b4113ee121
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-premium-storage-design-for-high-performance"></a><span data-ttu-id="7f74b-104">Azure Premium Storage : conception sous le signe de la haute performance</span><span class="sxs-lookup"><span data-stu-id="7f74b-104">Azure Premium Storage: Design for High Performance</span></span>
## <a name="overview"></a><span data-ttu-id="7f74b-105">Vue d'ensemble</span><span class="sxs-lookup"><span data-stu-id="7f74b-105">Overview</span></span>
<span data-ttu-id="7f74b-106">Cet article fournit des instructions pour la création d’applications hautes performances avec Azure Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="7f74b-106">This article provides guidelines for building high performance applications using Azure Premium Storage.</span></span> <span data-ttu-id="7f74b-107">Vous pouvez utiliser les instructions hello fournies dans ce document combiné avec des performances tootechnologies d’applicable meilleures de pratiques intégré utilisé par votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-107">You can use hello instructions provided in this document combined with performance best practices applicable tootechnologies used by your application.</span></span> <span data-ttu-id="7f74b-108">les instructions hello tooillustrate, nous avons utilisé SQL Server s’exécutant sur un stockage Premium, par exemple dans ce document.</span><span class="sxs-lookup"><span data-stu-id="7f74b-108">tooillustrate hello guidelines, we have used SQL Server running on Premium Storage as an example throughout this document.</span></span>

<span data-ttu-id="7f74b-109">Bien que nous indique les scénarios de performances pour la couche de stockage hello dans cet article, vous devez couche d’application toooptimize hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-109">While we address performance scenarios for hello Storage layer in this article, you will need toooptimize hello application layer.</span></span> <span data-ttu-id="7f74b-110">Par exemple, si vous hébergez une batterie de serveurs SharePoint sur le stockage Azure Premium, vous pouvez utiliser les exemples de SQL Server hello à partir de ce serveur de base de données de l’article toooptimize hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-110">For example, if you are hosting a SharePoint Farm on Azure Premium Storage, you can use hello SQL Server examples from this article toooptimize hello database server.</span></span> <span data-ttu-id="7f74b-111">En outre, optimiser Web server hello SharePoint la batterie de serveurs et messages hello du serveur tooget Application la plupart des performances.</span><span class="sxs-lookup"><span data-stu-id="7f74b-111">Additionally, optimize hello SharePoint Farm's Web server and Application server tooget hello most performance.</span></span>

<span data-ttu-id="7f74b-112">Cet article vous aidera à répondre à certaines questions courantes relatives à l’optimisation des performances applicatives sur Azure Premium Storage :</span><span class="sxs-lookup"><span data-stu-id="7f74b-112">This article will help answer following common questions about optimizing application performance on Azure Premium Storage,</span></span>

* <span data-ttu-id="7f74b-113">Comment toomeasure les performances de votre application ?</span><span class="sxs-lookup"><span data-stu-id="7f74b-113">How toomeasure your application performance?</span></span>  
* <span data-ttu-id="7f74b-114">Pourquoi n’obtenez-vous pas les hautes performances attendues ?</span><span class="sxs-lookup"><span data-stu-id="7f74b-114">Why are you not seeing expected high performance?</span></span>  
* <span data-ttu-id="7f74b-115">Quels sont les facteurs qui influencent les performances de votre application sur Premium Storage ?</span><span class="sxs-lookup"><span data-stu-id="7f74b-115">Which factors influence your application performance on Premium Storage?</span></span>  
* <span data-ttu-id="7f74b-116">Comment ces facteurs influencent-ils les performances de votre application sur Premium Storage ?</span><span class="sxs-lookup"><span data-stu-id="7f74b-116">How do these factors influence performance of your application on Premium Storage?</span></span>  
* <span data-ttu-id="7f74b-117">Comment optimiser les performances d’E/S par seconde, de bande passante et de latence ?</span><span class="sxs-lookup"><span data-stu-id="7f74b-117">How can you optimize for IOPS, Bandwidth and Latency?</span></span>  

<span data-ttu-id="7f74b-118">Ces instructions vous sont spécifiquement fournies pour Premium Storage, car les charges de travail exécutées sur Premium Storage sont extrêmement sensibles aux performances.</span><span class="sxs-lookup"><span data-stu-id="7f74b-118">We have provided these guidelines specifically for Premium Storage because workloads running on Premium Storage are highly performance sensitive.</span></span> <span data-ttu-id="7f74b-119">Nous vous proposons des exemples lorsque cela s’y prête.</span><span class="sxs-lookup"><span data-stu-id="7f74b-119">We have provided examples where appropriate.</span></span> <span data-ttu-id="7f74b-120">Vous pouvez également appliquer certaines de ces tooapplications instructions en cours d’exécution sur des machines virtuelles IaaS avec des disques de stockage Standard.</span><span class="sxs-lookup"><span data-stu-id="7f74b-120">You can also apply some of these guidelines tooapplications running on IaaS VMs with Standard Storage disks.</span></span>

<span data-ttu-id="7f74b-121">Avant de commencer, si vous êtes tooPremium nouveau stockage, tout d’abord lire hello [stockage Premium : stockage hautes performances pour les charges de travail de Machine virtuelle Azure](storage-premium-storage.md) et [évolutivité du stockage Azure et les objectifs de performances](storage-scalability-targets.md)articles.</span><span class="sxs-lookup"><span data-stu-id="7f74b-121">Before you begin, if you are new tooPremium Storage, first read hello [Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads](storage-premium-storage.md) and [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md) articles.</span></span>

## <a name="application-performance-indicators"></a><span data-ttu-id="7f74b-122">Indicateurs de performances d’une application</span><span class="sxs-lookup"><span data-stu-id="7f74b-122">Application Performance Indicators</span></span>
<span data-ttu-id="7f74b-123">Nous évaluer si une application s’exécute correctement ou non à l’aide de performances telles que les indicateurs de la vitesse à laquelle une application traite une demande de l’utilisateur, la quantité de données est une application de traitement par la demande, le nombre de requêtes est une application de traitement dans un spécifique période de temps, la durée pendant laquelle qu'un utilisateur a toowait tooget une réponse après avoir soumis la demande.</span><span class="sxs-lookup"><span data-stu-id="7f74b-123">We assess whether an application is performing well or not using performance indicators like, how fast an application is processing a user request, how much data an application is processing per request, how many requests is an application processing in a specific period of time, how long a user has toowait tooget a response after submitting their request.</span></span> <span data-ttu-id="7f74b-124">termes de techniques Hello pour ces indicateurs de performance sont, e/s, le débit ou la bande passante et la latence.</span><span class="sxs-lookup"><span data-stu-id="7f74b-124">hello technical terms for these performance indicators are, IOPS, Throughput or Bandwidth, and Latency.</span></span>

<span data-ttu-id="7f74b-125">Dans cette section, nous aborderons les indicateurs de performance hello courantes dans le contexte de hello du stockage Premium.</span><span class="sxs-lookup"><span data-stu-id="7f74b-125">In this section, we will discuss hello common performance indicators in hello context of Premium Storage.</span></span> <span data-ttu-id="7f74b-126">Bonjour, suivant la section, la collecte des exigences de l’Application, vous allez apprendre comment toomeasure ces indicateurs de performance pour votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-126">In hello following section, Gathering Application Requirements, you will learn how toomeasure these performance indicators for your application.</span></span> <span data-ttu-id="7f74b-127">Plus loin dans l’optimisation des performances des applications, vous découvrirez les facteurs de hello affectant ces toooptimize recommandations et les indicateurs de performance les.</span><span class="sxs-lookup"><span data-stu-id="7f74b-127">Later in Optimizing Application Performance, you will learn about hello factors affecting these performance indicators and recommendations toooptimize them.</span></span>

## <a name="iops"></a><span data-ttu-id="7f74b-128">E/S par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-128">IOPS</span></span>
<span data-ttu-id="7f74b-129">E/s est le nombre de demandes que votre application envoie toohello disques de stockage en une seconde.</span><span class="sxs-lookup"><span data-stu-id="7f74b-129">IOPS is number of requests that your application is sending toohello storage disks in one second.</span></span> <span data-ttu-id="7f74b-130">Une opération d’entrée/sortie peut être accessible en lecture ou écriture, et être séquentielle ou aléatoire.</span><span class="sxs-lookup"><span data-stu-id="7f74b-130">An input/output operation could be read or write, sequential or random.</span></span> <span data-ttu-id="7f74b-131">Les applications OLTP comme un site Web de vente au détail en ligne doivent tooprocess immédiatement des demandes de nombreux utilisateurs simultanés.</span><span class="sxs-lookup"><span data-stu-id="7f74b-131">OLTP applications like an online retail website need tooprocess many concurrent user requests immediately.</span></span> <span data-ttu-id="7f74b-132">Hello utilisateur sont Insérer et mettre à jour des transactions de bases de données intensif, l’application hello doit traiter rapidement.</span><span class="sxs-lookup"><span data-stu-id="7f74b-132">hello user requests are insert and update intensive database transactions, which hello application must process quickly.</span></span> <span data-ttu-id="7f74b-133">Les applications OLTP requièrent dont un nombre d’E/S par seconde très élevé.</span><span class="sxs-lookup"><span data-stu-id="7f74b-133">Therefore, OLTP applications require very high IOPS.</span></span> <span data-ttu-id="7f74b-134">Ces applications gèrent des millions de demandes d’E/S petites et aléatoires.</span><span class="sxs-lookup"><span data-stu-id="7f74b-134">Such applications handle millions of small and random IO requests.</span></span> <span data-ttu-id="7f74b-135">Si vous avez une telle application, vous devez concevoir hello application infrastructure toooptimize IOPS.</span><span class="sxs-lookup"><span data-stu-id="7f74b-135">If you have such an application, you must design hello application infrastructure toooptimize for IOPS.</span></span> <span data-ttu-id="7f74b-136">Bonjour ultérieurement section *optimisation des performances des applications*, les sujets abordés en détail tous les facteurs hello dont vous devez tenir compte tooget e/s élevées.</span><span class="sxs-lookup"><span data-stu-id="7f74b-136">In hello later section, *Optimizing Application Performance*, we discuss in detail all hello factors that you must consider tooget high IOPS.</span></span>

<span data-ttu-id="7f74b-137">Lorsque vous attachez une premium stockage disque tooyour à grande échelle machine virtuelle, Azure configure pour vous un garantie nombre d’IOPS conformément aux spécifications de disque hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-137">When you attach a premium storage disk tooyour high scale VM, Azure provisions for you a guaranteed number of IOPS as per hello disk specification.</span></span> <span data-ttu-id="7f74b-138">Par exemple, un disque P50 configure 7500 E/S par seconde.</span><span class="sxs-lookup"><span data-stu-id="7f74b-138">For example, a P50 disk provisions 7500 IOPS.</span></span> <span data-ttu-id="7f74b-139">Chaque taille de machine virtuelle à grande échelle est également associée à une limite spécifique d’E/S par seconde qu’elle peut prendre en charge.</span><span class="sxs-lookup"><span data-stu-id="7f74b-139">Each high scale VM size also has a specific IOPS limit that it can sustain.</span></span> <span data-ttu-id="7f74b-140">Par exemple, une machine virtuelle GS5 Standard a une limite de 80 000 E/S par seconde.</span><span class="sxs-lookup"><span data-stu-id="7f74b-140">For example, a Standard GS5 VM has 80,000 IOPS limit.</span></span>

## <a name="throughput"></a><span data-ttu-id="7f74b-141">Throughput</span><span class="sxs-lookup"><span data-stu-id="7f74b-141">Throughput</span></span>
<span data-ttu-id="7f74b-142">Débit ou la bande passante est hello que votre application est l’envoi des données toohello disques de stockage dans un intervalle spécifié.</span><span class="sxs-lookup"><span data-stu-id="7f74b-142">Throughput or Bandwidth is hello amount of data that your application is sending toohello storage disks in a specified interval.</span></span> <span data-ttu-id="7f74b-143">Si votre application effectue des opérations d’entrée/sortie avec des tailles d’unité d’E/S importantes, elle aura besoin d’un débit élevé.</span><span class="sxs-lookup"><span data-stu-id="7f74b-143">If your application is performing input/output operations with large IO unit sizes, it requires high Throughput.</span></span> <span data-ttu-id="7f74b-144">Applications d’entrepôt de données ont tendance à tooissue analyse opérations intensives d’accès à la fois des portions de données volumineuses et généralement les opérations en bloc.</span><span class="sxs-lookup"><span data-stu-id="7f74b-144">Data warehouse applications tend tooissue scan intensive operations that access large portions of data at a time and commonly perform bulk operations.</span></span> <span data-ttu-id="7f74b-145">En d’autres termes, ces applications nécessitent un débit plus élevé.</span><span class="sxs-lookup"><span data-stu-id="7f74b-145">In other words, such applications require higher Throughput.</span></span> <span data-ttu-id="7f74b-146">Si vous avez une telle application, vous devez concevoir son toooptimize infrastructure pour le débit.</span><span class="sxs-lookup"><span data-stu-id="7f74b-146">If you have such an application, you must design its infrastructure toooptimize for Throughput.</span></span> <span data-ttu-id="7f74b-147">Dans la section suivante de hello, les sujets abordés dans les facteurs de hello détail vous devez paramétrer tooachieve cela.</span><span class="sxs-lookup"><span data-stu-id="7f74b-147">In hello next section, we discuss in detail hello factors you must tune tooachieve this.</span></span>

<span data-ttu-id="7f74b-148">Lorsque vous attachez une premium stockage disque tooa à grande échelle machine virtuelle, Azure configure débit conformément à la spécification de ce disque.</span><span class="sxs-lookup"><span data-stu-id="7f74b-148">When you attach a premium storage disk tooa high scale VM, Azure provisions Throughput as per that disk specification.</span></span> <span data-ttu-id="7f74b-149">Par exemple, un disque P50 configure un débit de disque de 250 Mo par seconde.</span><span class="sxs-lookup"><span data-stu-id="7f74b-149">For example, a P50 disk provisions 250 MB per second disk Throughput.</span></span> <span data-ttu-id="7f74b-150">Chaque taille de machine virtuelle à grande échelle est également associée à une limite spécifique de débit qu’elle peut prendre en charge.</span><span class="sxs-lookup"><span data-stu-id="7f74b-150">Each high scale VM size also has as specific Throughput limit that it can sustain.</span></span> <span data-ttu-id="7f74b-151">Par exemple, une machine virtuelle GS5 Standard a un débit maximal de 2 000 Mo par seconde.</span><span class="sxs-lookup"><span data-stu-id="7f74b-151">For example, Standard GS5 VM has a maximum throughput of 2,000 MB per second.</span></span> 

<span data-ttu-id="7f74b-152">Il existe une relation entre un débit et des IOPS comme indiqué dans la formule hello ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="7f74b-152">There is a relation between Throughput and IOPS as shown in hello formula below.</span></span>

![](media/storage-premium-storage-performance/image1.png)

<span data-ttu-id="7f74b-153">Par conséquent, il est important toodetermine hello débit et des IOPS valeurs optimales que votre application requiert.</span><span class="sxs-lookup"><span data-stu-id="7f74b-153">Therefore, it is important toodetermine hello optimal Throughput and IOPS values that your application requires.</span></span> <span data-ttu-id="7f74b-154">Lorsque vous essaierez toooptimize une, hello autres obtient également affectée.</span><span class="sxs-lookup"><span data-stu-id="7f74b-154">As you try toooptimize one, hello other also gets affected.</span></span> <span data-ttu-id="7f74b-155">Dans la section *Optimisation des performances applicatives*, nous aborderons plus en détail la question de l’optimisation des E/S par seconde et du débit.</span><span class="sxs-lookup"><span data-stu-id="7f74b-155">In a later section, *Optimizing Application Performance*, we will discuss in more details about optimizing IOPS and Throughput.</span></span>

## <a name="latency"></a><span data-ttu-id="7f74b-156">Latency</span><span class="sxs-lookup"><span data-stu-id="7f74b-156">Latency</span></span>
<span data-ttu-id="7f74b-157">La latence est hello temps un tooreceive application une demande unique, envoyer des disques de stockage toohello et envoyer hello réponse toohello client.</span><span class="sxs-lookup"><span data-stu-id="7f74b-157">Latency is hello time it takes an application tooreceive a single request, send it toohello storage disks and send hello response toohello client.</span></span> <span data-ttu-id="7f74b-158">Il s’agit d’une mesure critique des performances d’une application dans Ajout tooIOPS et le débit.</span><span class="sxs-lookup"><span data-stu-id="7f74b-158">This is a critical measure of an application's performance in addition tooIOPS and Throughput.</span></span> <span data-ttu-id="7f74b-159">Hello latence d’un disque de stockage premium est temps hello prend les informations de hello tooretrieve pour une demande et à communiquer le retour tooyour application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-159">hello Latency of a premium storage disk is hello time it takes tooretrieve hello information for a request and communicate it back tooyour application.</span></span> <span data-ttu-id="7f74b-160">Premium Storage offre de faibles latences.</span><span class="sxs-lookup"><span data-stu-id="7f74b-160">Premium Storage provides consistent low latencies.</span></span> <span data-ttu-id="7f74b-161">Si vous activez une mise en cache de l’hôte en lecture seule sur des disques de stockage premium, vous pourrez obtenir une latence de lecture bien plus faible.</span><span class="sxs-lookup"><span data-stu-id="7f74b-161">If you enable ReadOnly host caching on premium storage disks, you can get much lower read latency.</span></span> <span data-ttu-id="7f74b-162">Nous aborderons la mise en cache du disque plus en détail dans la section *Optimisation des performances applicatives*.</span><span class="sxs-lookup"><span data-stu-id="7f74b-162">We will discuss Disk Caching in more detail in later section on *Optimizing Application Performance*.</span></span>

<span data-ttu-id="7f74b-163">Lorsque vous optimisez votre application tooget supérieur IOPS et le débit, cela affectera hello latence de votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-163">When you are optimizing your application tooget higher IOPS and Throughput, it will affect hello Latency of your application.</span></span> <span data-ttu-id="7f74b-164">Après le paramétrage des performances de l’application hello, évaluez toujours hello latence de hello application tooavoid comportement d’une latence élevée inattendue.</span><span class="sxs-lookup"><span data-stu-id="7f74b-164">After tuning hello application performance, always evaluate hello Latency of hello application tooavoid unexpected high latency behavior.</span></span>

## <a name="gather-application-performance-requirements"></a><span data-ttu-id="7f74b-165">Collecte des exigences de performances de l’application</span><span class="sxs-lookup"><span data-stu-id="7f74b-165">Gather Application Performance Requirements</span></span>
<span data-ttu-id="7f74b-166">Hello première étape de conception d’applications hautes performances en cours d’exécution sur le stockage Azure Premium est, les exigences de performances toounderstand hello de votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-166">hello first step in designing high performance applications running on Azure Premium Storage is, toounderstand hello performance requirements of your application.</span></span> <span data-ttu-id="7f74b-167">Après avoir recueilli les exigences de performances, vous pouvez optimiser votre application tooachieve hello plus optimale.</span><span class="sxs-lookup"><span data-stu-id="7f74b-167">After you gather performance requirements, you can optimize your application tooachieve hello most optimal performance.</span></span>

<span data-ttu-id="7f74b-168">Dans la section précédente de hello, nous avons expliqué hello commun les indicateurs de performance, IOPS, Throughput and Latency.</span><span class="sxs-lookup"><span data-stu-id="7f74b-168">In hello previous section, we explained hello common performance indicators, IOPS, Throughput and Latency.</span></span> <span data-ttu-id="7f74b-169">Vous devez identifier laquelle de ces indicateurs de performance sont l’expérience utilisateur tooyour critiques application toodeliver hello souhaité.</span><span class="sxs-lookup"><span data-stu-id="7f74b-169">You must identify which of these performance indicators are critical tooyour application toodeliver hello desired user experience.</span></span> <span data-ttu-id="7f74b-170">Par exemple, e/s élevées l'important la plupart des applications tooOLTP le traitement des millions de transactions en une seconde.</span><span class="sxs-lookup"><span data-stu-id="7f74b-170">For example, high IOPS matters most tooOLTP applications processing millions of transactions in a second.</span></span> <span data-ttu-id="7f74b-171">En revanche, un débit élevé sera plus pertinent pour les applications d’entrepôt de données qui traitent de grandes quantités de données en une seconde.</span><span class="sxs-lookup"><span data-stu-id="7f74b-171">Whereas, high Throughput is critical for Data Warehouse applications processing large amounts of data in a second.</span></span> <span data-ttu-id="7f74b-172">De même, une très faible latence sera cruciale pour les applications en temps réel, telles que les sites web de diffusion en continu de vidéo en direct.</span><span class="sxs-lookup"><span data-stu-id="7f74b-172">Extremely low Latency is crucial for real-time applications like live video streaming websites.</span></span>

<span data-ttu-id="7f74b-173">Ensuite, mesurer les exigences de performances maximales hello de votre application tout au long de sa durée de vie.</span><span class="sxs-lookup"><span data-stu-id="7f74b-173">Next, measure hello maximum performance requirements of your application throughout its lifetime.</span></span> <span data-ttu-id="7f74b-174">Utiliser la liste de vérification hello exemple ci-dessous comme un point de départ.</span><span class="sxs-lookup"><span data-stu-id="7f74b-174">Use hello sample checklist below as a start.</span></span> <span data-ttu-id="7f74b-175">Exigences de performances maximales hello enregistrement normale, les périodes de charge de travail des heures de pointe et les heures creuses.</span><span class="sxs-lookup"><span data-stu-id="7f74b-175">Record hello maximum performance requirements during normal, peak and off-hours workload periods.</span></span> <span data-ttu-id="7f74b-176">En identifiant les conditions requises pour tous les niveaux de charges de travail, vous serez en mesure de toodetermine hello des spécifications de performances globales de votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-176">By identifying requirements for all workloads levels, you will be able toodetermine hello overall performance requirement of your application.</span></span> <span data-ttu-id="7f74b-177">Par exemple, hello normal la charge de travail d’un site Web de commerce électronique sera transactions hello fait lors de la plupart des jours dans une année.</span><span class="sxs-lookup"><span data-stu-id="7f74b-177">For example, hello normal workload of an e-commerce website will be hello transactions it serves during most days in a year.</span></span> <span data-ttu-id="7f74b-178">une charge importante Hello du site Web de hello sera transactions hello fait pendant les vacances ou des événements de vente spéciale.</span><span class="sxs-lookup"><span data-stu-id="7f74b-178">hello peak workload of hello website will be hello transactions it serves during holiday season or special sale events.</span></span> <span data-ttu-id="7f74b-179">une charge importante Hello est généralement expérimentée pendant une période limitée, mais peut nécessiter votre tooscale application deux ou plusieurs fois à son fonctionnement normal.</span><span class="sxs-lookup"><span data-stu-id="7f74b-179">hello peak workload is typically experienced for a limited period, but can require your application tooscale two or more times its normal operation.</span></span> <span data-ttu-id="7f74b-180">Découvrez le centile de 50 hello, 90 centile et des exigences en termes de pourcentage 99.</span><span class="sxs-lookup"><span data-stu-id="7f74b-180">Find out hello 50 percentile, 90 percentile and 99 percentile requirements.</span></span> <span data-ttu-id="7f74b-181">Cela permet de filtrer les valeurs hors norme dans les exigences de performances hello et vous pouvez vous concentrer vos efforts sur l’optimisation pour les valeurs hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-181">This helps filter out any outliers in hello performance requirements and you can focus your efforts on optimizing for hello right values.</span></span>

<span data-ttu-id="7f74b-182">**Liste de contrôle pour les exigences de performances de l’application**</span><span class="sxs-lookup"><span data-stu-id="7f74b-182">**Application Performance Requirements Checklist**</span></span>

| <span data-ttu-id="7f74b-183">**Exigences de performances**</span><span class="sxs-lookup"><span data-stu-id="7f74b-183">**Performance requirements**</span></span> | <span data-ttu-id="7f74b-184">**50e percentile**</span><span class="sxs-lookup"><span data-stu-id="7f74b-184">**50 Percentile**</span></span> | <span data-ttu-id="7f74b-185">**90e percentile**</span><span class="sxs-lookup"><span data-stu-id="7f74b-185">**90 Percentile**</span></span> | <span data-ttu-id="7f74b-186">**99e percentile**</span><span class="sxs-lookup"><span data-stu-id="7f74b-186">**99  Percentile**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="7f74b-187">Bande passante</span><span class="sxs-lookup"><span data-stu-id="7f74b-187">Max.</span></span> <span data-ttu-id="7f74b-188">Transactions par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-188">Transactions per second</span></span> | | | |
| <span data-ttu-id="7f74b-189">% d’opérations de lecture</span><span class="sxs-lookup"><span data-stu-id="7f74b-189">% Read operations</span></span> | | | |
| <span data-ttu-id="7f74b-190">% d’opérations d’écriture</span><span class="sxs-lookup"><span data-stu-id="7f74b-190">% Write operations</span></span> | | | |
| <span data-ttu-id="7f74b-191">% d’opérations aléatoires</span><span class="sxs-lookup"><span data-stu-id="7f74b-191">% Random operations</span></span> | | | |
| <span data-ttu-id="7f74b-192">% d’opérations séquentielles</span><span class="sxs-lookup"><span data-stu-id="7f74b-192">% Sequential operations</span></span> | | | |
| <span data-ttu-id="7f74b-193">Taille de la demande d’E/S</span><span class="sxs-lookup"><span data-stu-id="7f74b-193">IO request size</span></span> | | | |
| <span data-ttu-id="7f74b-194">Débit moyen</span><span class="sxs-lookup"><span data-stu-id="7f74b-194">Average Throughput</span></span> | | | |
| <span data-ttu-id="7f74b-195">Bande passante</span><span class="sxs-lookup"><span data-stu-id="7f74b-195">Max.</span></span> <span data-ttu-id="7f74b-196">Débit</span><span class="sxs-lookup"><span data-stu-id="7f74b-196">Throughput</span></span> | | | |
| <span data-ttu-id="7f74b-197">min.</span><span class="sxs-lookup"><span data-stu-id="7f74b-197">Min.</span></span> <span data-ttu-id="7f74b-198">Latence</span><span class="sxs-lookup"><span data-stu-id="7f74b-198">Latency</span></span> | | | |
| <span data-ttu-id="7f74b-199">Latence moyenne</span><span class="sxs-lookup"><span data-stu-id="7f74b-199">Average Latency</span></span> | | | |
| <span data-ttu-id="7f74b-200">Bande passante</span><span class="sxs-lookup"><span data-stu-id="7f74b-200">Max.</span></span> <span data-ttu-id="7f74b-201">UC</span><span class="sxs-lookup"><span data-stu-id="7f74b-201">CPU</span></span> | | | |
| <span data-ttu-id="7f74b-202">Utilisation moyenne de l’UC</span><span class="sxs-lookup"><span data-stu-id="7f74b-202">Average CPU</span></span> | | | |
| <span data-ttu-id="7f74b-203">Bande passante</span><span class="sxs-lookup"><span data-stu-id="7f74b-203">Max.</span></span> <span data-ttu-id="7f74b-204">Mémoire</span><span class="sxs-lookup"><span data-stu-id="7f74b-204">Memory</span></span> | | | |
| <span data-ttu-id="7f74b-205">Utilisation moyenne de la mémoire</span><span class="sxs-lookup"><span data-stu-id="7f74b-205">Average Memory</span></span> | | | |
| <span data-ttu-id="7f74b-206">Profondeur de file d’attente</span><span class="sxs-lookup"><span data-stu-id="7f74b-206">Queue Depth</span></span> | | | |

> [!NOTE]
> <span data-ttu-id="7f74b-207">vous devez anticiper la mise à l’échelle de ces nombres en fonction de la croissance prévue de votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-207">You should consider scaling these numbers based on expected future growth of your application.</span></span> <span data-ttu-id="7f74b-208">Il est un tooplan recommandé pour la croissance avance, car il peut être plus difficile infrastructure de hello toochange d’amélioration des performances plus tard.</span><span class="sxs-lookup"><span data-stu-id="7f74b-208">It is a good idea tooplan for growth ahead of time, because it could be harder toochange hello infrastructure for improving performance later.</span></span>
>
>

<span data-ttu-id="7f74b-209">Si vous possédez une application existante et que vous souhaitez toomove tooPremium stockage, tout d’abord créer de liste de vérification hello ci-dessus pour l’application existante hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-209">If you have an existing application and want toomove tooPremium Storage, first build hello checklist above for hello existing application.</span></span> <span data-ttu-id="7f74b-210">Ensuite, générez un prototype de votre application sur la conception et stockage Premium application hello selon les indications décrites dans *optimisation des performances des applications* dans une section ultérieure de ce document.</span><span class="sxs-lookup"><span data-stu-id="7f74b-210">Then, build a prototype of your application on Premium Storage and design hello application based on guidelines described in *Optimizing Application Performance* in a later section of this document.</span></span> <span data-ttu-id="7f74b-211">Hello suivant décrit les outils hello vous pouvez utiliser des mesures de performances toogather hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-211">hello next section describes hello tools you can use toogather hello performance measurements.</span></span>

<span data-ttu-id="7f74b-212">Créer une liste de vérification tooyour existant application similaire pour le prototype de hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-212">Create a checklist similar tooyour existing application for hello prototype.</span></span> <span data-ttu-id="7f74b-213">À l’aide des outils de Benchmarking, vous pouvez simuler des charges de travail hello et mesurer les performances dans l’application hello prototype.</span><span class="sxs-lookup"><span data-stu-id="7f74b-213">Using Benchmarking tools you can simulate hello workloads and measure performance on hello prototype application.</span></span> <span data-ttu-id="7f74b-214">Consultez la section de hello sur [Benchmarking](#benchmarking) toolearn plus.</span><span class="sxs-lookup"><span data-stu-id="7f74b-214">See hello section on [Benchmarking](#benchmarking) toolearn more.</span></span> <span data-ttu-id="7f74b-215">En procédant ainsi, vous pouvez déterminer si Premium Storage peut satisfaire ou dépasser les exigences de performances de votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-215">By doing so you can determine whether Premium Storage can match or surpass your application performance requirements.</span></span> <span data-ttu-id="7f74b-216">Ensuite, vous pouvez implémenter hello les mêmes instructions pour votre application de production.</span><span class="sxs-lookup"><span data-stu-id="7f74b-216">Then you can implement hello same guidelines for your production application.</span></span>

### <a name="counters-toomeasure-application-performance-requirements"></a><span data-ttu-id="7f74b-217">Compteurs de performances d’application toomeasure requises</span><span class="sxs-lookup"><span data-stu-id="7f74b-217">Counters toomeasure application performance requirements</span></span>
<span data-ttu-id="7f74b-218">Hello meilleures conditions de performances toomeasure moyen de votre application, outils d’analyse des performances toouse hello système d’exploitation du serveur de hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-218">hello best way toomeasure performance requirements of your application, is toouse performance-monitoring tools provided by hello operating system of hello server.</span></span> <span data-ttu-id="7f74b-219">Vous pouvez utiliser PerfMon pour Windows et iostat pour Linux.</span><span class="sxs-lookup"><span data-stu-id="7f74b-219">You can use PerfMon for Windows and iostat for Linux.</span></span> <span data-ttu-id="7f74b-220">Ces outils capturent les compteurs de mesure tooeach correspondante est expliqué dans hello au-dessus de section.</span><span class="sxs-lookup"><span data-stu-id="7f74b-220">These tools capture counters corresponding tooeach measure explained in hello above section.</span></span> <span data-ttu-id="7f74b-221">Vous devez capturer les valeurs de ces compteurs hello lorsque votre application s’exécute ses normal, les charges de travail de pointe et les heures creuses.</span><span class="sxs-lookup"><span data-stu-id="7f74b-221">You must capture hello values of these counters when your application is running its normal, peak and off-hours workloads.</span></span>

<span data-ttu-id="7f74b-222">les compteurs PerfMon Hello sont disponibles pour le processeur, mémoire et, chaque disque logique et le disque physique de votre serveur.</span><span class="sxs-lookup"><span data-stu-id="7f74b-222">hello PerfMon counters are available for processor, memory and, each logical disk and physical disk of your server.</span></span> <span data-ttu-id="7f74b-223">Lorsque vous utilisez des disques de stockage premium avec une machine virtuelle, sont des compteurs de disque physique hello pour chaque disque de stockage premium, et sont des compteurs de disque logique pour chaque volume créée sur des disques de stockage premium hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-223">When you use premium storage disks with a VM, hello physical disk counters are for each premium storage disk, and logical disk counters are for each volume created on hello premium storage disks.</span></span> <span data-ttu-id="7f74b-224">Vous devez capturer les valeurs hello pour les disques hello qui hébergent votre charge de travail d’application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-224">You must capture hello values for hello disks that host your application workload.</span></span> <span data-ttu-id="7f74b-225">S’il existe un mappage tooone un entre les disques logiques et physiques, vous pouvez faire référence à des compteurs de disque toophysical ; dans le cas contraire, consultez les compteurs de disque logique toohello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-225">If there is a one tooone mapping between logical and physical disks, you can refer toophysical disk counters; otherwise refer toohello logical disk counters.</span></span> <span data-ttu-id="7f74b-226">Sur Linux, commande iostat de hello génère un rapport d’utilisation du processeur et disque.</span><span class="sxs-lookup"><span data-stu-id="7f74b-226">On Linux, hello iostat command generates a CPU and disk utilization report.</span></span> <span data-ttu-id="7f74b-227">rapport d’utilisation du disque Hello fournit des statistiques par partition ou le périphérique physique.</span><span class="sxs-lookup"><span data-stu-id="7f74b-227">hello disk utilization report provides statistics per physical device or partition.</span></span> <span data-ttu-id="7f74b-228">Si vous avez un serveur de base de données dont les données et les journaux résident sur des disques distincts, récupérez ces données pour les deux disques.</span><span class="sxs-lookup"><span data-stu-id="7f74b-228">If you have a database server with its data and log on separate disks, collect this data for both disks.</span></span> <span data-ttu-id="7f74b-229">Le tableau ci-dessous décrit les compteurs de disques, de processeur et de mémoire :</span><span class="sxs-lookup"><span data-stu-id="7f74b-229">Below table describes counters for disks, processor and memory:</span></span>

| <span data-ttu-id="7f74b-230">Compteur</span><span class="sxs-lookup"><span data-stu-id="7f74b-230">Counter</span></span> | <span data-ttu-id="7f74b-231">Description</span><span class="sxs-lookup"><span data-stu-id="7f74b-231">Description</span></span> | <span data-ttu-id="7f74b-232">PerfMon</span><span class="sxs-lookup"><span data-stu-id="7f74b-232">PerfMon</span></span> | <span data-ttu-id="7f74b-233">Iostat</span><span class="sxs-lookup"><span data-stu-id="7f74b-233">Iostat</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="7f74b-234">**Nombre d’E/S par seconde ou de transactions par seconde**</span><span class="sxs-lookup"><span data-stu-id="7f74b-234">**IOPS or Transactions per second**</span></span> |<span data-ttu-id="7f74b-235">Nombre de demandes d’e/s émises disque de stockage toohello par seconde.</span><span class="sxs-lookup"><span data-stu-id="7f74b-235">Number of I/O requests issued toohello storage disk per second.</span></span> |<span data-ttu-id="7f74b-236">Nb d’opérations de lectures de disque/s </span><span class="sxs-lookup"><span data-stu-id="7f74b-236">Disk Reads/sec</span></span> <br> <span data-ttu-id="7f74b-237">Nb d’opération d’écriture de disque/s</span><span class="sxs-lookup"><span data-stu-id="7f74b-237">Disk Writes/sec</span></span> |<span data-ttu-id="7f74b-238">tps </span><span class="sxs-lookup"><span data-stu-id="7f74b-238">tps</span></span> <br> <span data-ttu-id="7f74b-239">r/s </span><span class="sxs-lookup"><span data-stu-id="7f74b-239">r/s</span></span> <br> <span data-ttu-id="7f74b-240">w/s</span><span class="sxs-lookup"><span data-stu-id="7f74b-240">w/s</span></span> |
| <span data-ttu-id="7f74b-241">**Opérations de lecture et d’écriture de disque**</span><span class="sxs-lookup"><span data-stu-id="7f74b-241">**Disk Reads and Writes**</span></span> |<span data-ttu-id="7f74b-242">% de lectures et d’écrire des opérations effectuées sur le disque de hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-242">% of Reads and Write operations performed on hello disk.</span></span> |<span data-ttu-id="7f74b-243">% temps de lecture du disque </span><span class="sxs-lookup"><span data-stu-id="7f74b-243">% Disk Read Time</span></span> <br> <span data-ttu-id="7f74b-244">% temps d’écriture du disque</span><span class="sxs-lookup"><span data-stu-id="7f74b-244">% Disk Write Time</span></span> |<span data-ttu-id="7f74b-245">r/s </span><span class="sxs-lookup"><span data-stu-id="7f74b-245">r/s</span></span> <br> <span data-ttu-id="7f74b-246">w/s</span><span class="sxs-lookup"><span data-stu-id="7f74b-246">w/s</span></span> |
| <span data-ttu-id="7f74b-247">**Débit**</span><span class="sxs-lookup"><span data-stu-id="7f74b-247">**Throughput**</span></span> |<span data-ttu-id="7f74b-248">Quantité de données lues ou écrites toohello de disque par seconde.</span><span class="sxs-lookup"><span data-stu-id="7f74b-248">Amount of data read from or written toohello disk per second.</span></span> |<span data-ttu-id="7f74b-249">Nb d’octets de lecture de disque/s </span><span class="sxs-lookup"><span data-stu-id="7f74b-249">Disk Read Bytes/sec</span></span> <br> <span data-ttu-id="7f74b-250">Nb d’octets d’écriture de disque/s</span><span class="sxs-lookup"><span data-stu-id="7f74b-250">Disk Write Bytes/sec</span></span> |<span data-ttu-id="7f74b-251">kB_read/s</span><span class="sxs-lookup"><span data-stu-id="7f74b-251">kB_read/s</span></span> <br> <span data-ttu-id="7f74b-252">kB_wrtn/s</span><span class="sxs-lookup"><span data-stu-id="7f74b-252">kB_wrtn/s</span></span> |
| <span data-ttu-id="7f74b-253">**Latence**</span><span class="sxs-lookup"><span data-stu-id="7f74b-253">**Latency**</span></span> |<span data-ttu-id="7f74b-254">Nombre total de temps toocomplete une demande d’e/s de disque.</span><span class="sxs-lookup"><span data-stu-id="7f74b-254">Total time toocomplete a disk IO request.</span></span> |<span data-ttu-id="7f74b-255">Temps de lecture moyen du disque/s </span><span class="sxs-lookup"><span data-stu-id="7f74b-255">Average Disk sec/Read</span></span> <br> <span data-ttu-id="7f74b-256">Temps d’écriture moyen du disque/s</span><span class="sxs-lookup"><span data-stu-id="7f74b-256">Average disk sec/Write</span></span> |<span data-ttu-id="7f74b-257">await </span><span class="sxs-lookup"><span data-stu-id="7f74b-257">await</span></span> <br> <span data-ttu-id="7f74b-258">svctm</span><span class="sxs-lookup"><span data-stu-id="7f74b-258">svctm</span></span> |
| <span data-ttu-id="7f74b-259">**Taille d’E/S**</span><span class="sxs-lookup"><span data-stu-id="7f74b-259">**IO size**</span></span> |<span data-ttu-id="7f74b-260">taille Hello de demandes d’e/s émet des disques de stockage toohello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-260">hello size of I/O requests issues toohello storage disks.</span></span> |<span data-ttu-id="7f74b-261">Nb moyen d’octets en lecture du disque </span><span class="sxs-lookup"><span data-stu-id="7f74b-261">Average Disk Bytes/Read</span></span> <br> <span data-ttu-id="7f74b-262">Nb moyen d’octets en écriture du disque</span><span class="sxs-lookup"><span data-stu-id="7f74b-262">Average Disk Bytes/Write</span></span> |<span data-ttu-id="7f74b-263">avgrq-sz</span><span class="sxs-lookup"><span data-stu-id="7f74b-263">avgrq-sz</span></span> |
| <span data-ttu-id="7f74b-264">**Profondeur de file d’attente**</span><span class="sxs-lookup"><span data-stu-id="7f74b-264">**Queue Depth**</span></span> |<span data-ttu-id="7f74b-265">Nombre d’e/s en suspens demandes en attente toobe à lire ou d’écriture de disque de stockage toohello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-265">Number of outstanding I/O requests waiting toobe read form or written toohello storage disk.</span></span> |<span data-ttu-id="7f74b-266">Longueur de file d’attente actuelle du disque</span><span class="sxs-lookup"><span data-stu-id="7f74b-266">Current Disk Queue Length</span></span> |<span data-ttu-id="7f74b-267">avgqu-sz</span><span class="sxs-lookup"><span data-stu-id="7f74b-267">avgqu-sz</span></span> |
| <span data-ttu-id="7f74b-268">**IOPS Mémoire**</span><span class="sxs-lookup"><span data-stu-id="7f74b-268">**Max. Memory**</span></span> |<span data-ttu-id="7f74b-269">Quantité de mémoire requise toorun application sans heurts</span><span class="sxs-lookup"><span data-stu-id="7f74b-269">Amount of memory required toorun application smoothly</span></span> |<span data-ttu-id="7f74b-270">% d’octets dédiés utilisés</span><span class="sxs-lookup"><span data-stu-id="7f74b-270">% Committed Bytes in Use</span></span> |<span data-ttu-id="7f74b-271">Use vmstat</span><span class="sxs-lookup"><span data-stu-id="7f74b-271">Use vmstat</span></span> |
| <span data-ttu-id="7f74b-272">**Bande passante UC**</span><span class="sxs-lookup"><span data-stu-id="7f74b-272">**Max. CPU**</span></span> |<span data-ttu-id="7f74b-273">Quantité du processeur requise toorun application sans heurts</span><span class="sxs-lookup"><span data-stu-id="7f74b-273">Amount CPU required toorun application smoothly</span></span> |<span data-ttu-id="7f74b-274">% temps processeur</span><span class="sxs-lookup"><span data-stu-id="7f74b-274">% Processor time</span></span> |<span data-ttu-id="7f74b-275">%util</span><span class="sxs-lookup"><span data-stu-id="7f74b-275">%util</span></span> |

<span data-ttu-id="7f74b-276">En savoir plus sur [iostat](http://linuxcommand.org/man_pages/iostat1.html) et [PerfMon](https://msdn.microsoft.com/library/aa645516.aspx).</span><span class="sxs-lookup"><span data-stu-id="7f74b-276">Learn more about [iostat](http://linuxcommand.org/man_pages/iostat1.html) and [PerfMon](https://msdn.microsoft.com/library/aa645516.aspx).</span></span>

## <a name="optimizing-application-performance"></a><span data-ttu-id="7f74b-277">Optimisation des performances applicatives</span><span class="sxs-lookup"><span data-stu-id="7f74b-277">Optimizing Application Performance</span></span>
<span data-ttu-id="7f74b-278">Hello principaux facteurs qui influencent les performances d’une application en cours d’exécution sur le stockage Premium sont de Nature de requêtes e/s, taille de machine virtuelle, la taille du disque, nombre de disques, la mise en cache du disque, le Multithreading et profondeur de file d’attente.</span><span class="sxs-lookup"><span data-stu-id="7f74b-278">hello main factors that influence performance of an application running on Premium Storage are Nature of IO Requests, VM size, Disk size, Number of disks, Disk Caching, Multithreading and Queue Depth.</span></span> <span data-ttu-id="7f74b-279">Vous pouvez contrôler certains de ces facteurs avec les boutons fournis par le système de hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-279">You can control some of these factors with knobs provided by hello system.</span></span> <span data-ttu-id="7f74b-280">La plupart des applications, vous obtenez un hello de tooalter option taille d’e/s et la profondeur de file d’attente directement.</span><span class="sxs-lookup"><span data-stu-id="7f74b-280">Most applications may not give you an option tooalter hello IO size and Queue Depth directly.</span></span> <span data-ttu-id="7f74b-281">Par exemple, si vous utilisez SQL Server, vous ne pouvez pas choisir profondeur de file d’attente et de taille hello e/s.</span><span class="sxs-lookup"><span data-stu-id="7f74b-281">For example, if you are using SQL Server, you cannot choose hello IO size and queue depth.</span></span> <span data-ttu-id="7f74b-282">SQL Server choisit hello optimale d’e/s taille et la file d’attente profondeur valeurs tooget hello la plupart des performances.</span><span class="sxs-lookup"><span data-stu-id="7f74b-282">SQL Server chooses hello optimal IO size and queue depth values tooget hello most performance.</span></span> <span data-ttu-id="7f74b-283">Il est important toounderstand les effets de hello des deux types de facteurs sur les performances de votre application, afin que vous pouvez prévoir les besoins en performances toomeet ressources appropriées.</span><span class="sxs-lookup"><span data-stu-id="7f74b-283">It is important toounderstand hello effects of both types of factors on your application performance, so that you can provision appropriate resources toomeet performance needs.</span></span>

<span data-ttu-id="7f74b-284">Dans cette section, consultez toohello application aide-mémoire des conditions requises que vous avez créé, tooidentify combien vous devez toooptimize les performances de votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-284">Throughout this section, refer toohello application requirements checklist that you created, tooidentify how much you need toooptimize your application performance.</span></span> <span data-ttu-id="7f74b-285">Selon que vous serez en mesure de toodetermine qui facteurs à partir de cette section, vous devez tootune.</span><span class="sxs-lookup"><span data-stu-id="7f74b-285">Based on that, you will be able toodetermine which factors from this section you will need tootune.</span></span> <span data-ttu-id="7f74b-286">toowitness hello les effets de chaque facteur sur les performances de votre application, exécutez les outils de votre configuration de l’application des tests de performances.</span><span class="sxs-lookup"><span data-stu-id="7f74b-286">toowitness hello effects of each factor on your application performance, run benchmarking tools on your application setup.</span></span> <span data-ttu-id="7f74b-287">Consultez toohello [Benchmarking](#Benchmarking) section à fin hello de cet article pour toorun étapes courantes outils sur Windows et les machines virtuelles Linux des tests de performances.</span><span class="sxs-lookup"><span data-stu-id="7f74b-287">Refer toohello [Benchmarking](#Benchmarking) section at hello end of this article for steps toorun common benchmarking tools on Windows and Linux VMs.</span></span>

### <a name="optimizing-iops-throughput-and-latency-at-a-glance"></a><span data-ttu-id="7f74b-288">Aperçu de l’optimisation des E/S, du débit et de la latence</span><span class="sxs-lookup"><span data-stu-id="7f74b-288">Optimizing IOPS, Throughput and Latency at a glance</span></span>
<span data-ttu-id="7f74b-289">Hello tableau ci-dessous résume tous les facteurs de performances hello et hello étapes toooptimize IOPS, débit et la latence.</span><span class="sxs-lookup"><span data-stu-id="7f74b-289">hello table below summarizes all hello performance factors and hello steps toooptimize IOPS, Throughput and Latency.</span></span> <span data-ttu-id="7f74b-290">Hello sections suivant ce résumé décrit chaque facteur est beaucoup plus en détail.</span><span class="sxs-lookup"><span data-stu-id="7f74b-290">hello sections following this summary will describe each factor is much more depth.</span></span>

| &nbsp; | <span data-ttu-id="7f74b-291">**D’OPÉRATIONS D’E/S PAR SECONDE**</span><span class="sxs-lookup"><span data-stu-id="7f74b-291">**IOPS**</span></span> | <span data-ttu-id="7f74b-292">**Débit**</span><span class="sxs-lookup"><span data-stu-id="7f74b-292">**Throughput**</span></span> | <span data-ttu-id="7f74b-293">**Latence**</span><span class="sxs-lookup"><span data-stu-id="7f74b-293">**Latency**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="7f74b-294">**Exemple de scénario**</span><span class="sxs-lookup"><span data-stu-id="7f74b-294">**Example Scenario**</span></span> |<span data-ttu-id="7f74b-295">Application OLTP d’entreprise nécessitant un taux très élevé de transactions par seconde.</span><span class="sxs-lookup"><span data-stu-id="7f74b-295">Enterprise OLTP application requiring very high transactions per second rate.</span></span> |<span data-ttu-id="7f74b-296">Application d’entreposage de données d’entreprise traitant de grandes quantités de données.</span><span class="sxs-lookup"><span data-stu-id="7f74b-296">Enterprise Data warehousing application processing large amounts of data.</span></span> |<span data-ttu-id="7f74b-297">Près des applications en temps réel nécessitant des demandes de toouser réponses instantanée, telles que les jeux en ligne.</span><span class="sxs-lookup"><span data-stu-id="7f74b-297">Near real-time applications requiring instant responses toouser requests, like online gaming.</span></span> |
| <span data-ttu-id="7f74b-298">Facteurs de performances</span><span class="sxs-lookup"><span data-stu-id="7f74b-298">Performance factors</span></span> | &nbsp; | &nbsp; | &nbsp; |
| <span data-ttu-id="7f74b-299">**Taille d’E/S**</span><span class="sxs-lookup"><span data-stu-id="7f74b-299">**IO size**</span></span> |<span data-ttu-id="7f74b-300">Une plus petite taille d’E/S génère un nombre d’E/S par seconde plus élevé.</span><span class="sxs-lookup"><span data-stu-id="7f74b-300">Smaller IO size yields higher IOPS.</span></span> |<span data-ttu-id="7f74b-301">Tooyields de taille d’e/s plus grand débit plus élevé.</span><span class="sxs-lookup"><span data-stu-id="7f74b-301">Larger IO size tooyields higher Throughput.</span></span> | &nbsp;|
| <span data-ttu-id="7f74b-302">**Taille de la machine virtuelle**</span><span class="sxs-lookup"><span data-stu-id="7f74b-302">**VM size**</span></span> |<span data-ttu-id="7f74b-303">Utilisez une taille de machine virtuelle qui offre un nombre d’E/S par seconde supérieur aux besoins de votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-303">Use a VM size that offers IOPS greater than your application requirement.</span></span> <span data-ttu-id="7f74b-304">Voir ici les tailles de machine virtuelle et les limites d’E/S par seconde qui leur sont associées.</span><span class="sxs-lookup"><span data-stu-id="7f74b-304">See VM sizes and their IOPS limits here.</span></span> |<span data-ttu-id="7f74b-305">Utilisez une taille de machine virtuelle qui offre une limite de débit supérieure aux besoins de votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-305">Use a VM size with Throughput limit greater than your application requirement.</span></span> <span data-ttu-id="7f74b-306">Voir ici les tailles de machine virtuelle et les limites de débit qui leur sont associées.</span><span class="sxs-lookup"><span data-stu-id="7f74b-306">See VM sizes and their Throughput limits here.</span></span> |<span data-ttu-id="7f74b-307">Utilisez une taille de machine virtuelle qui offre une limite de mise à l’échelle supérieure aux besoins de votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-307">Use a VM size that offers scale limits greater than your application requirement.</span></span> <span data-ttu-id="7f74b-308">Voir ici les tailles de machine virtuelle et les limites qui leur sont associées.</span><span class="sxs-lookup"><span data-stu-id="7f74b-308">See VM sizes and their limits here.</span></span> |
| <span data-ttu-id="7f74b-309">**Taille du disque**</span><span class="sxs-lookup"><span data-stu-id="7f74b-309">**Disk size**</span></span> |<span data-ttu-id="7f74b-310">Utilisez une taille de disque qui offre un nombre d’E/S par seconde supérieur aux besoins de votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-310">Use a disk size that offers IOPS greater than your application requirement.</span></span> <span data-ttu-id="7f74b-311">Voir ici les tailles de disque et les limites d’E/S par seconde qui leur sont associées.</span><span class="sxs-lookup"><span data-stu-id="7f74b-311">See disk sizes and their IOPS limits here.</span></span> |<span data-ttu-id="7f74b-312">Utilisez une taille de disque qui offre une limite de débit supérieure aux besoins de votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-312">Use a disk size with Throughput limit greater than your application requirement.</span></span> <span data-ttu-id="7f74b-313">Vous trouverez ici les tailles de disque et les limites de débit qui leur sont associées.</span><span class="sxs-lookup"><span data-stu-id="7f74b-313">See disk sizes and their Throughput limits here.</span></span> |<span data-ttu-id="7f74b-314">Utilisez une taille de disque qui offre une limite de mise à l’échelle supérieure aux besoins de votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-314">Use a disk size that offers scale limits greater than your application requirement.</span></span> <span data-ttu-id="7f74b-315">Vous trouverez ici les tailles de disque et les limites qui leur sont associées.</span><span class="sxs-lookup"><span data-stu-id="7f74b-315">See disk sizes and their limits here.</span></span> |
| <span data-ttu-id="7f74b-316">**Limites de mises à l’échelle des machines virtuelles et des disques**</span><span class="sxs-lookup"><span data-stu-id="7f74b-316">**VM and Disk Scale Limits**</span></span> |<span data-ttu-id="7f74b-317">Limite d’e/s de choisi de taille de machine virtuelle hello doit être supérieure à total IOPS dus à des disques de stockage premium attaché tooit.</span><span class="sxs-lookup"><span data-stu-id="7f74b-317">IOPS limit of hello VM size chosen should be greater than total IOPS driven by premium storage disks attached tooit.</span></span> |<span data-ttu-id="7f74b-318">Limite de débit de choisi de taille de machine virtuelle hello doit être supérieure à débit total dus à des disques de stockage premium attaché tooit.</span><span class="sxs-lookup"><span data-stu-id="7f74b-318">Throughput limit of hello VM size chosen should be greater than total Throughput driven by premium storage disks attached tooit.</span></span> |<span data-ttu-id="7f74b-319">Limites d’échelles de choisi de taille de machine virtuelle hello doivent être supérieurs à des limites d’échelle total premium attachés des disques de stockage.</span><span class="sxs-lookup"><span data-stu-id="7f74b-319">Scale limits of hello VM size chosen must be greater than total scale limits of attached premium storage disks.</span></span> |
| <span data-ttu-id="7f74b-320">**Mise en cache du disque**</span><span class="sxs-lookup"><span data-stu-id="7f74b-320">**Disk Caching**</span></span> |<span data-ttu-id="7f74b-321">Activer le Cache d’en lecture seule sur les disques de stockage premium avec tooget lourde d’opérations de lecture e/s de lecture plus élevée.</span><span class="sxs-lookup"><span data-stu-id="7f74b-321">Enable ReadOnly Cache on premium storage disks with Read heavy operations tooget higher Read IOPS.</span></span> | &nbsp; |<span data-ttu-id="7f74b-322">Activer le Cache d’en lecture seule sur les disques de stockage premium avec des latences de lecture des opérations lourdes prêt tooget très faibles.</span><span class="sxs-lookup"><span data-stu-id="7f74b-322">Enable ReadOnly Cache on premium storage disks with Ready heavy operations tooget very low Read latencies.</span></span> |
| <span data-ttu-id="7f74b-323">**Entrelacement de disques**</span><span class="sxs-lookup"><span data-stu-id="7f74b-323">**Disk Striping**</span></span> |<span data-ttu-id="7f74b-324">Utiliser plusieurs disques et les distribuer tooget ensemble un niveau d’IOPS supérieure combinée et limite de débit.</span><span class="sxs-lookup"><span data-stu-id="7f74b-324">Use multiple disks and stripe them together tooget a combined higher IOPS and Throughput limit.</span></span> <span data-ttu-id="7f74b-325">Notez que hello limite combinée par machine virtuelle doit être supérieur à hello limites combinés des disques attachés premium.</span><span class="sxs-lookup"><span data-stu-id="7f74b-325">Note that hello combined limit per VM should be higher than hello combined limits of attached premium disks.</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="7f74b-326">**Taille de l’entrelacement**</span><span class="sxs-lookup"><span data-stu-id="7f74b-326">**Stripe Size**</span></span> |<span data-ttu-id="7f74b-327">Taille d’entrelacement plus petite pour les petits schémas d’E/S aléatoires associés aux applications OLTP.</span><span class="sxs-lookup"><span data-stu-id="7f74b-327">Smaller stripe size for random small IO pattern seen in OLTP applications.</span></span> <span data-ttu-id="7f74b-328">Utilisez par exemple une taille d’entrelacement de 64 Ko pour les applications OLTP sous SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7f74b-328">E.g., use stripe size of 64KB for SQL Server OLTP application.</span></span> |<span data-ttu-id="7f74b-329">Plus grande taille d’entrelacement pour les grands schémas d’E/S séquentiels associés aux applications d’entrepôt de données.</span><span class="sxs-lookup"><span data-stu-id="7f74b-329">Larger stripe size for sequential large IO pattern seen in Data Warehouse applications.</span></span> <span data-ttu-id="7f74b-330">Utilisez par exemple une taille d’entrelacement de 256 Ko pour les applications d’entrepôt de données sous SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7f74b-330">E.g., use 256KB stripe size for SQL Server Data warehouse application.</span></span> | &nbsp; |
| <span data-ttu-id="7f74b-331">**Traitement multithread**</span><span class="sxs-lookup"><span data-stu-id="7f74b-331">**Multithreading**</span></span> |<span data-ttu-id="7f74b-332">Utilisez le multithreading toopush le nombre élevé de demandes tooPremium stockage qui entraîne des toohigher IOPS et le débit.</span><span class="sxs-lookup"><span data-stu-id="7f74b-332">Use multithreading toopush higher number of requests tooPremium Storage that will lead toohigher IOPS and Throughput.</span></span> <span data-ttu-id="7f74b-333">Par exemple, sur SQL Server définir un tooallocate de valeur élevée MAXDOP plusieurs unités centrales tooSQL Server.</span><span class="sxs-lookup"><span data-stu-id="7f74b-333">For example, on SQL Server set a high MAXDOP value tooallocate more CPUs tooSQL Server.</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="7f74b-334">**Profondeur de file d’attente**</span><span class="sxs-lookup"><span data-stu-id="7f74b-334">**Queue Depth**</span></span> |<span data-ttu-id="7f74b-335">Une plus grande profondeur de file d’attente génère un nombre plus élevé d’E/S par seconde.</span><span class="sxs-lookup"><span data-stu-id="7f74b-335">Larger Queue Depth yields higher IOPS.</span></span> |<span data-ttu-id="7f74b-336">Une plus grande profondeur de file d’attente génère un débit plus élevé.</span><span class="sxs-lookup"><span data-stu-id="7f74b-336">Larger Queue Depth yields higher Throughput.</span></span> |<span data-ttu-id="7f74b-337">Une plus petite profondeur de file d’attente réduit les latences.</span><span class="sxs-lookup"><span data-stu-id="7f74b-337">Smaller Queue Depth yields lower latencies.</span></span> |

## <a name="nature-of-io-requests"></a><span data-ttu-id="7f74b-338">Nature des demandes d’E/S</span><span class="sxs-lookup"><span data-stu-id="7f74b-338">Nature of IO Requests</span></span>
<span data-ttu-id="7f74b-339">Une demande d’E/S représente une unité d’opération d’entrée/sortie exécutée par votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-339">An IO request is a unit of input/output operation that your application will be performing.</span></span> <span data-ttu-id="7f74b-340">Identifier la nature hello de demandes d’e/s, aléatoires ou séquentielles, de lecture ou d’écriture, petite ou grande, vous aide à déterminer les besoins de performances hello de votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-340">Identifying hello nature of IO requests, random or sequential, read or write, small or large, will help you determine hello performance requirements of your application.</span></span> <span data-ttu-id="7f74b-341">Il est de nature de hello toounderstand très important de demandes d’e/s, toomake hello bonnes décisions lors de la conception de votre infrastructure d’application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-341">It is very important toounderstand hello nature of IO requests, toomake hello right decisions when designing your application infrastructure.</span></span>

<span data-ttu-id="7f74b-342">Taille d’e/s est un des hello facteurs les plus importants.</span><span class="sxs-lookup"><span data-stu-id="7f74b-342">IO size is one of hello more important factors.</span></span> <span data-ttu-id="7f74b-343">Hello taille d’e/s est la taille hello de demande d’opération d’entrée/sortie hello générée par votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-343">hello IO size is hello size of hello input/output operation request generated by your application.</span></span> <span data-ttu-id="7f74b-344">Hello taille d’e/s a un impact significatif sur les performances en particulier sur hello IOPS et bande passante hello application est en mesure de tooachieve.</span><span class="sxs-lookup"><span data-stu-id="7f74b-344">hello IO size has a significant impact on performance especially on hello IOPS and Bandwidth that hello application is able tooachieve.</span></span> <span data-ttu-id="7f74b-345">Hello formule suivante illustre relation hello entre les e/s, taille d’e/s et la bande passante ou de débit.</span><span class="sxs-lookup"><span data-stu-id="7f74b-345">hello following formula shows hello relationship between IOPS, IO size and Bandwidth/Throughput.</span></span>  
    ![](media/storage-premium-storage-performance/image1.png)

<span data-ttu-id="7f74b-346">Certaines applications vous permettent de tooalter taille de leur e/s, contrairement à certaines applications.</span><span class="sxs-lookup"><span data-stu-id="7f74b-346">Some applications allow you tooalter their IO size, while some applications do not.</span></span> <span data-ttu-id="7f74b-347">Par exemple, SQL Server détermine la taille d’e/s optimales hello lui-même et ne fournit pas les utilisateurs avec n’importe quel toochange boutons il.</span><span class="sxs-lookup"><span data-stu-id="7f74b-347">For example, SQL Server determines hello optimal IO size itself, and does not provide users with any knobs toochange it.</span></span> <span data-ttu-id="7f74b-348">Sur hello autre part, Oracle fournit un paramètre appelé [DB\_bloquer\_taille](https://docs.oracle.com/cd/B19306_01/server.102/b14211/iodesign.htm#i28815) à l’aide de laquelle vous pouvez configurer hello taille de demande d’e/s de base de données hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-348">On hello other hand, Oracle provides a parameter called [DB\_BLOCK\_SIZE](https://docs.oracle.com/cd/B19306_01/server.102/b14211/iodesign.htm#i28815) using which you can configure hello I/O request size of hello database.</span></span>

<span data-ttu-id="7f74b-349">Si vous utilisez une application qui n’autorise pas de vous toochange hello taille d’e/s, suivez les indications de hello cet indicateur de performance clé qui est l’application la plus appropriée tooyour des performances hello article toooptimize.</span><span class="sxs-lookup"><span data-stu-id="7f74b-349">If you are using an application, which does not allow you toochange hello IO size, use hello guidelines in this article toooptimize hello performance KPI that is most relevant tooyour application.</span></span> <span data-ttu-id="7f74b-350">Par exemple,</span><span class="sxs-lookup"><span data-stu-id="7f74b-350">For example,</span></span>

* <span data-ttu-id="7f74b-351">Une application OLTP génère des millions de demandes d’E/S petites et aléatoires.</span><span class="sxs-lookup"><span data-stu-id="7f74b-351">An OLTP application generates millions of small and random IO requests.</span></span> <span data-ttu-id="7f74b-352">demande de toohandle ces type d’e/s, vous devez concevoir votre tooget d’infrastructure application IOPS plus élevée.</span><span class="sxs-lookup"><span data-stu-id="7f74b-352">toohandle these type of IO requests, you must design your application infrastructure tooget higher IOPS.</span></span>  
* <span data-ttu-id="7f74b-353">Une application d’entrepôt de données génère d’importantes demandes d’E/S séquentielles.</span><span class="sxs-lookup"><span data-stu-id="7f74b-353">A data warehousing application generates large and sequential IO requests.</span></span> <span data-ttu-id="7f74b-354">toohandle ces type de demandes d’e/s, vous devez concevoir votre tooget d’infrastructure d’application beaucoup de bande passante ou de débit.</span><span class="sxs-lookup"><span data-stu-id="7f74b-354">toohandle these type of IO requests, you must design your application infrastructure tooget higher Bandwidth or Throughput.</span></span>

<span data-ttu-id="7f74b-355">Si vous utilisez une application, ce qui vous permet de taille d’e/s toochange hello, utilisez cette règle générale pour hello e/s de taille en outre les instructions de performances tooother,</span><span class="sxs-lookup"><span data-stu-id="7f74b-355">If you are using an application, which allows you toochange hello IO size, use this rule of thumb for hello IO size in addition tooother performance guidelines,</span></span>

* <span data-ttu-id="7f74b-356">Plus petit tooget de taille d’e/s des e/s plus élevée.</span><span class="sxs-lookup"><span data-stu-id="7f74b-356">Smaller IO size tooget higher IOPS.</span></span> <span data-ttu-id="7f74b-357">Par exemple, 8 Ko pour une application OLTP.</span><span class="sxs-lookup"><span data-stu-id="7f74b-357">For example, 8 KB for an OLTP application.</span></span>  
* <span data-ttu-id="7f74b-358">Tooget de taille d’e/s plus grande bande passante ou de débit plus élevé.</span><span class="sxs-lookup"><span data-stu-id="7f74b-358">Larger IO size tooget higher Bandwidth/Throughput.</span></span> <span data-ttu-id="7f74b-359">Par exemple, 1 024 Ko pour une application d’entrepôt de données.</span><span class="sxs-lookup"><span data-stu-id="7f74b-359">For example, 1024 KB for a data warehouse application.</span></span>

<span data-ttu-id="7f74b-360">Voici un exemple sur la façon dont vous pouvez calculer hello IOPS et le débit et la bande passante pour votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-360">Here is an example on how you can calculate hello IOPS and Throughput/Bandwidth for your application.</span></span> <span data-ttu-id="7f74b-361">Supposons une application utilisant un disque P30.</span><span class="sxs-lookup"><span data-stu-id="7f74b-361">Consider an application using a P30 disk.</span></span> <span data-ttu-id="7f74b-362">Hello IOPS maximal et un disque P30 peut atteindre un débit et bande passante est 5000 IOPS et 200 Mo par seconde respectivement.</span><span class="sxs-lookup"><span data-stu-id="7f74b-362">hello maximum IOPS and Throughput/Bandwidth a P30 disk can achieve is 5000 IOPS and 200 MB per second respectively.</span></span> <span data-ttu-id="7f74b-363">Si votre application requiert hello que maximales e/s de disque de hello P30 et que vous utilisent une taille d’e/s inférieure à 8 Ko, hello résultant de la bande passante, vous serez en mesure de tooget est désormais 40 Mo par seconde.</span><span class="sxs-lookup"><span data-stu-id="7f74b-363">Now, if your application requires hello maximum IOPS from hello P30 disk and you use a smaller IO size like 8 KB, hello resulting Bandwidth you will be able tooget is 40 MB per second.</span></span> <span data-ttu-id="7f74b-364">Toutefois, si votre application requiert hello débit maximale et bande passante à partir du disque de P30 et que vous utilisez une plus grande taille d’e/s à 1 024 Ko, hello IOPS résultant sera inférieur, 200 IOPS.</span><span class="sxs-lookup"><span data-stu-id="7f74b-364">However, if your application requires hello maximum Throughput/Bandwidth from P30 disk, and you use a larger IO size like 1024 KB, hello resulting IOPS will be less, 200 IOPS.</span></span> <span data-ttu-id="7f74b-365">Par conséquent, paramétrez taille d’e/s hello tel qu’il réponde aux deux votre IOPS et le débit et la bande passante nécessaires à une application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-365">Therefore, tune hello IO size such that it meets both your application's IOPS and Throughput/Bandwidth requirement.</span></span> <span data-ttu-id="7f74b-366">Tableau ci-dessous récapitule les tailles d’e/s différentes hello et leurs IOPS et débit correspondants pour un disque P30.</span><span class="sxs-lookup"><span data-stu-id="7f74b-366">Table below summarizes hello different IO sizes and their corresponding IOPS and Throughput for a P30 disk.</span></span>

| <span data-ttu-id="7f74b-367">Spécification de l’application</span><span class="sxs-lookup"><span data-stu-id="7f74b-367">Application Requirement</span></span> | <span data-ttu-id="7f74b-368">Taille des E/S</span><span class="sxs-lookup"><span data-stu-id="7f74b-368">I/O size</span></span> | <span data-ttu-id="7f74b-369">E/S par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-369">IOPS</span></span> | <span data-ttu-id="7f74b-370">Débit/bande passante</span><span class="sxs-lookup"><span data-stu-id="7f74b-370">Throughput/Bandwidth</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="7f74b-371">Nb max. d’E/S par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-371">Max IOPS</span></span> |<span data-ttu-id="7f74b-372">8 Ko</span><span class="sxs-lookup"><span data-stu-id="7f74b-372">8 KB</span></span> |<span data-ttu-id="7f74b-373">5 000</span><span class="sxs-lookup"><span data-stu-id="7f74b-373">5,000</span></span> |<span data-ttu-id="7f74b-374">40 Mo par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-374">40 MB per second</span></span> |
| <span data-ttu-id="7f74b-375">Débit max.</span><span class="sxs-lookup"><span data-stu-id="7f74b-375">Max Throughput</span></span> |<span data-ttu-id="7f74b-376">1 024 Ko</span><span class="sxs-lookup"><span data-stu-id="7f74b-376">1024 KB</span></span> |<span data-ttu-id="7f74b-377">200</span><span class="sxs-lookup"><span data-stu-id="7f74b-377">200</span></span> |<span data-ttu-id="7f74b-378">200 Mo par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-378">200 MB per second</span></span> |
| <span data-ttu-id="7f74b-379">Débit max + nb élevé d’E/S par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-379">Max Throughput + high IOPS</span></span> |<span data-ttu-id="7f74b-380">64 Ko</span><span class="sxs-lookup"><span data-stu-id="7f74b-380">64 KB</span></span> |<span data-ttu-id="7f74b-381">3 200</span><span class="sxs-lookup"><span data-stu-id="7f74b-381">3,200</span></span> |<span data-ttu-id="7f74b-382">200 Mo par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-382">200 MB per second</span></span> |
| <span data-ttu-id="7f74b-383">Nb max d’E/S par seconde + débit élevé</span><span class="sxs-lookup"><span data-stu-id="7f74b-383">Max IOPS + high Throughput</span></span> |<span data-ttu-id="7f74b-384">32 Ko</span><span class="sxs-lookup"><span data-stu-id="7f74b-384">32 KB</span></span> |<span data-ttu-id="7f74b-385">5 000</span><span class="sxs-lookup"><span data-stu-id="7f74b-385">5,000</span></span> |<span data-ttu-id="7f74b-386">160 Mo par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-386">160 MB per second</span></span> |

<span data-ttu-id="7f74b-387">tooget IOPS et bande passante supérieure à la valeur maximale de hello d’un disque de stockage premium unique, utiliser plusieurs disques premium réparties ensemble.</span><span class="sxs-lookup"><span data-stu-id="7f74b-387">tooget IOPS and Bandwidth higher than hello maximum value of a single premium storage disk, use multiple premium disks striped together.</span></span> <span data-ttu-id="7f74b-388">Par exemple, distribuez tooget de disques deux P30 un IOPS combiné de 10 000 IOPS ou un débit combiné de 400 Mo par seconde.</span><span class="sxs-lookup"><span data-stu-id="7f74b-388">For example, stripe two P30 disks tooget a combined IOPS of 10,000 IOPS or a combined Throughput of 400 MB per second.</span></span> <span data-ttu-id="7f74b-389">Comme expliqué dans la section suivante de hello, vous devez utiliser une taille de machine virtuelle qui prend en charge les IOPS de disque hello combiné et le débit.</span><span class="sxs-lookup"><span data-stu-id="7f74b-389">As explained in hello next section, you must use a VM size that supports hello combined disk IOPS and Throughput.</span></span>

> [!NOTE]
> <span data-ttu-id="7f74b-390">Lorsque vous augmentez l’e/s ou hello débit autres augmente également, assurez-vous que vous ne cliquez pas sur débit ou les limites d’e/s de la machine virtuelle ou disque de hello lorsque l’une de l’augmentation.</span><span class="sxs-lookup"><span data-stu-id="7f74b-390">As you increase either IOPS or Throughput hello other also increases, make sure you do not hit throughput or IOPS limits of hello disk or VM when increasing either one.</span></span>
>
>

<span data-ttu-id="7f74b-391">toowitness hello les effets de la taille d’e/s sur les performances de l’application, vous pouvez exécuter les outils de test sur votre machine virtuelle et les disques.</span><span class="sxs-lookup"><span data-stu-id="7f74b-391">toowitness hello effects of IO size on application performance, you can run benchmarking tools on your VM and disks.</span></span> <span data-ttu-id="7f74b-392">Créer plusieurs séries de tests et utiliser différentes taille d’e/s pour chaque impact de hello toosee d’exécution.</span><span class="sxs-lookup"><span data-stu-id="7f74b-392">Create multiple test runs and use different IO size for each run toosee hello impact.</span></span> <span data-ttu-id="7f74b-393">Consultez toohello [Benchmarking](#Benchmarking) section à fin hello de cet article pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="7f74b-393">Refer toohello [Benchmarking](#Benchmarking) section at hello end of this article for more details.</span></span>

## <a name="high-scale-vm-sizes"></a><span data-ttu-id="7f74b-394">Tailles des machines virtuelles à grande échelle</span><span class="sxs-lookup"><span data-stu-id="7f74b-394">High Scale VM Sizes</span></span>
<span data-ttu-id="7f74b-395">Lorsque vous démarrez la conception d’une application, un des hello première choses toodo est, choisissez un toohost de machine virtuelle de votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-395">When you start designing an application, one of hello first things toodo is, choose a VM toohost your application.</span></span> <span data-ttu-id="7f74b-396">Premium Storage est fourni avec des tailles de machine virtuelle à grande échelle capables d’exécuter des applications qui requièrent une plus grande puissance de calcul et de hautes performances d’E/S du disque local.</span><span class="sxs-lookup"><span data-stu-id="7f74b-396">Premium Storage comes with High Scale VM sizes that can run applications requiring higher compute power and a high local disk I/O performance.</span></span> <span data-ttu-id="7f74b-397">Ces machines virtuelles fournissent des processeurs plus rapides, un taux de mémoire-cœur plus élevé et un Solid-State Drive (SSD) pour le disque local de hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-397">These VMs provide faster processors, a higher memory-to-core ratio, and a Solid-State Drive (SSD) for hello local disk.</span></span> <span data-ttu-id="7f74b-398">Série DS, DSv2 et GS hello machines virtuelles sont des exemples de grande échelle machines virtuelles prenant en charge le stockage Premium.</span><span class="sxs-lookup"><span data-stu-id="7f74b-398">Examples of High Scale VMs supporting Premium Storage are hello DS, DSv2 and GS series VMs.</span></span>

<span data-ttu-id="7f74b-399">Ces machines virtuelles sont disponibles en différentes tailles, avec un nombre différent de cœurs de processeur, de mémoire, de système d’exploitation et de taille du disque temporaire.</span><span class="sxs-lookup"><span data-stu-id="7f74b-399">High Scale VMs are available in different sizes with a different number of CPU cores, memory, OS and temporary disk size.</span></span> <span data-ttu-id="7f74b-400">Chaque taille de machine virtuelle dotée d’un nombre maximal de disques de données que vous pouvez attacher toohello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="7f74b-400">Each VM size also has maximum number of data disks that you can attach toohello VM.</span></span> <span data-ttu-id="7f74b-401">Par conséquent, taille de machine virtuelle hello choisi affecte la quantité capacité de traitement, de mémoire et de stockage est disponible pour votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-401">Therefore, hello chosen VM size will affect how much processing, memory, and storage capacity is available for your application.</span></span> <span data-ttu-id="7f74b-402">Elle affecte également hello calcul et stockage à moindre coût.</span><span class="sxs-lookup"><span data-stu-id="7f74b-402">It also affects hello Compute and Storage cost.</span></span> <span data-ttu-id="7f74b-403">Par exemple, voici les spécifications de hello hello plus grande taille d’ordinateur virtuel dans une série DS, DSv2 série et une série GS :</span><span class="sxs-lookup"><span data-stu-id="7f74b-403">For example, below are hello specifications of hello largest VM size in a DS series, DSv2 series and a GS series:</span></span>

| <span data-ttu-id="7f74b-404">Taille de la machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="7f74b-404">VM size</span></span> | <span data-ttu-id="7f74b-405">Cœurs d’unité centrale</span><span class="sxs-lookup"><span data-stu-id="7f74b-405">CPU cores</span></span> | <span data-ttu-id="7f74b-406">Mémoire</span><span class="sxs-lookup"><span data-stu-id="7f74b-406">Memory</span></span> | <span data-ttu-id="7f74b-407">Tailles du disque de la machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="7f74b-407">VM disk sizes</span></span> | <span data-ttu-id="7f74b-408">Bande passante</span><span class="sxs-lookup"><span data-stu-id="7f74b-408">Max.</span></span> <span data-ttu-id="7f74b-409">disques de données</span><span class="sxs-lookup"><span data-stu-id="7f74b-409">data disks</span></span> | <span data-ttu-id="7f74b-410">Taille du cache</span><span class="sxs-lookup"><span data-stu-id="7f74b-410">Cache size</span></span> | <span data-ttu-id="7f74b-411">E/S par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-411">IOPS</span></span> | <span data-ttu-id="7f74b-412">Limites d’E/S du cache de bande passante</span><span class="sxs-lookup"><span data-stu-id="7f74b-412">Bandwidth Cache IO limits</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="7f74b-413">Standard_DS14</span><span class="sxs-lookup"><span data-stu-id="7f74b-413">Standard_DS14</span></span> |<span data-ttu-id="7f74b-414">16</span><span class="sxs-lookup"><span data-stu-id="7f74b-414">16</span></span> |<span data-ttu-id="7f74b-415">112 Go</span><span class="sxs-lookup"><span data-stu-id="7f74b-415">112 GB</span></span> |<span data-ttu-id="7f74b-416">OS = 1023 Go </span><span class="sxs-lookup"><span data-stu-id="7f74b-416">OS = 1023 GB</span></span> <br> <span data-ttu-id="7f74b-417">SSD local = 224 Go</span><span class="sxs-lookup"><span data-stu-id="7f74b-417">Local SSD = 224 GB</span></span> |<span data-ttu-id="7f74b-418">32</span><span class="sxs-lookup"><span data-stu-id="7f74b-418">32</span></span> |<span data-ttu-id="7f74b-419">576 Go</span><span class="sxs-lookup"><span data-stu-id="7f74b-419">576 GB</span></span> |<span data-ttu-id="7f74b-420">50 000 E/S par seconde </span><span class="sxs-lookup"><span data-stu-id="7f74b-420">50,000 IOPS</span></span> <br> <span data-ttu-id="7f74b-421">512 Mo par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-421">512 MB per second</span></span> |<span data-ttu-id="7f74b-422">4 000 E/S par seconde et 33 Mo par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-422">4,000 IOPS and 33 MB per second</span></span> |
| <span data-ttu-id="7f74b-423">Standard_GS5</span><span class="sxs-lookup"><span data-stu-id="7f74b-423">Standard_GS5</span></span> |<span data-ttu-id="7f74b-424">32</span><span class="sxs-lookup"><span data-stu-id="7f74b-424">32</span></span> |<span data-ttu-id="7f74b-425">448 Go</span><span class="sxs-lookup"><span data-stu-id="7f74b-425">448 GB</span></span> |<span data-ttu-id="7f74b-426">OS = 1023 Go </span><span class="sxs-lookup"><span data-stu-id="7f74b-426">OS = 1023 GB</span></span> <br> <span data-ttu-id="7f74b-427">SSD local = 896 Go</span><span class="sxs-lookup"><span data-stu-id="7f74b-427">Local SSD = 896 GB</span></span> |<span data-ttu-id="7f74b-428">64</span><span class="sxs-lookup"><span data-stu-id="7f74b-428">64</span></span> |<span data-ttu-id="7f74b-429">4 224 Go</span><span class="sxs-lookup"><span data-stu-id="7f74b-429">4224 GB</span></span> |<span data-ttu-id="7f74b-430">80 000 E/S par seconde </span><span class="sxs-lookup"><span data-stu-id="7f74b-430">80,000 IOPS</span></span> <br> <span data-ttu-id="7f74b-431">2 000 Mo par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-431">2,000 MB per second</span></span> |<span data-ttu-id="7f74b-432">5 000 E/S par seconde et 50 Mo par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-432">5,000 IOPS and 50 MB per second</span></span> |

<span data-ttu-id="7f74b-433">tooview une liste complète de toutes les tailles de machine virtuelle Azure disponibles, consultez trop[tailles de machine virtuelle Windows](../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) ou [tailles de Linux VM](../virtual-machines/linux/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="7f74b-433">tooview a complete list of all available Azure VM sizes, refer too[Windows VM sizes](../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) or [Linux VM sizes](../virtual-machines/linux/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span> <span data-ttu-id="7f74b-434">Choisissez une taille de machine virtuelle qui peut répondre aux et tooyour de mise à l’échelle souhaitée des exigences de performances d’application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-434">Choose a VM size that can meet and scale tooyour desired application performance requirements.</span></span> <span data-ttu-id="7f74b-435">En outre, toothis, prendre en compte suivant les points importants à considérer lors du choix de tailles de machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="7f74b-435">In addition toothis, take into account following important considerations when choosing VM sizes.</span></span>

<span data-ttu-id="7f74b-436">*Limites de mise à l’échelle*</span><span class="sxs-lookup"><span data-stu-id="7f74b-436">*Scale Limits*</span></span>  
<span data-ttu-id="7f74b-437">Hello limites maximum d’IOPS par machine virtuelle et par disque sont différentes et indépendante des autres.</span><span class="sxs-lookup"><span data-stu-id="7f74b-437">hello maximum IOPS limits per VM and per disk are different and independent of each other.</span></span> <span data-ttu-id="7f74b-438">Assurez-vous qu’application hello est en e/s dans les limites de hello machine virtuelle, ainsi que tooit joint des disques premium hello hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-438">Make sure that hello application is driving IOPS within hello limits of hello VM as well as hello premium disks attached tooit.</span></span> <span data-ttu-id="7f74b-439">Dans le cas contraire, les performances de l’application seront limitées.</span><span class="sxs-lookup"><span data-stu-id="7f74b-439">Otherwise, application performance will experience throttling.</span></span>

<span data-ttu-id="7f74b-440">Par exemple, supposons une application exigeant un maximum de 4 000 E/S par seconde.</span><span class="sxs-lookup"><span data-stu-id="7f74b-440">As an example, suppose an application requirement is a maximum of 4,000 IOPS.</span></span> <span data-ttu-id="7f74b-441">tooachieve cette option, vous configurer un disque P30 sur une machine virtuelle DS1.</span><span class="sxs-lookup"><span data-stu-id="7f74b-441">tooachieve this, you provision a P30 disk on a DS1 VM.</span></span> <span data-ttu-id="7f74b-442">too5, 000 IOPS peut offrir un disque de P30 Hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-442">hello P30 disk can deliver up too5,000 IOPS.</span></span> <span data-ttu-id="7f74b-443">Toutefois, hello DS1 VM est limitée too3, 200 IOPS.</span><span class="sxs-lookup"><span data-stu-id="7f74b-443">However, hello DS1 VM is limited too3,200 IOPS.</span></span> <span data-ttu-id="7f74b-444">Par conséquent, les performances de l’application hello seront contraint par la limite d’ordinateurs virtuels hello à 3 200 niveau d’IOPS et il y aura de dégradation des performances.</span><span class="sxs-lookup"><span data-stu-id="7f74b-444">Consequently, hello application performance will be constrained by hello VM limit at 3,200 IOPS and there will be degraded performance.</span></span> <span data-ttu-id="7f74b-445">tooprevent cette situation, choisissez un ordinateur virtuel et taille qui sera à ces deux exigences de l’application satisfait du disque.</span><span class="sxs-lookup"><span data-stu-id="7f74b-445">tooprevent this situation, choose a VM and disk size that will both meet application requirements.</span></span>

<span data-ttu-id="7f74b-446">*Coût d’exploitation*</span><span class="sxs-lookup"><span data-stu-id="7f74b-446">*Cost of Operation*</span></span>  
<span data-ttu-id="7f74b-447">Dans de nombreux cas, il est possible que le coût global d’exploitation lié à l’utilisation de Premium Storage soit inférieur à celui associé à l’utilisation d’un stockage Standard.</span><span class="sxs-lookup"><span data-stu-id="7f74b-447">In many cases, it is possible that your overall cost of operation using Premium Storage is lower than using Standard Storage.</span></span>

<span data-ttu-id="7f74b-448">Imaginez par exemple une application nécessitant 16 000 E/S par seconde.</span><span class="sxs-lookup"><span data-stu-id="7f74b-448">For example, consider an application requiring 16,000 IOPS.</span></span> <span data-ttu-id="7f74b-449">tooachieve ces performances, vous aurez besoin d’une norme\_D14 IaaS machine virtuelle Azure, qui peut octroyer à un niveau d’IOPS maximale de 16 000 à l’aide de 32 disques de 1 To de stockage standard.</span><span class="sxs-lookup"><span data-stu-id="7f74b-449">tooachieve this performance, you will need a Standard\_D14 Azure IaaS VM, which can give a maximum IOPS of 16,000 using 32 standard storage 1TB disks.</span></span> <span data-ttu-id="7f74b-450">Chaque disque de stockage standard de 1 To peut atteindre un maximum de 500 E/S par seconde.</span><span class="sxs-lookup"><span data-stu-id="7f74b-450">Each 1TB standard storage disk can achieve a maximum of 500 IOPS.</span></span> <span data-ttu-id="7f74b-451">Hello estimation de coût de cet ordinateur virtuel par mois sera 1,570 $.</span><span class="sxs-lookup"><span data-stu-id="7f74b-451">hello estimated cost of this VM per month will be $1,570.</span></span> <span data-ttu-id="7f74b-452">coût mensuel de Hello 32 standard des disques de stockage sera 1,638 $.</span><span class="sxs-lookup"><span data-stu-id="7f74b-452">hello monthly cost of 32 standard storage disks will be $1,638.</span></span> <span data-ttu-id="7f74b-453">Hello estimation de coût mensuel total sera 3,208 $.</span><span class="sxs-lookup"><span data-stu-id="7f74b-453">hello estimated total monthly cost will be $3,208.</span></span>

<span data-ttu-id="7f74b-454">Toutefois, si vous hébergé hello même application sur un stockage Premium, vous aurez besoin une plus petite taille de machine virtuelle et disques de stockage moins premium, ce qui réduit le coût global de hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-454">However, if you hosted hello same application on Premium Storage, you will need a smaller VM size and fewer premium storage disks, thus reducing hello overall cost.</span></span> <span data-ttu-id="7f74b-455">Une norme\_DS13 VM peut disposer de hello 16 000 e/s à l’aide de quatre disques P30.</span><span class="sxs-lookup"><span data-stu-id="7f74b-455">A Standard\_DS13 VM can meet hello 16,000 IOPS requirement using four P30 disks.</span></span> <span data-ttu-id="7f74b-456">Hello DS13 VM a un nombre maximal d’IOPS de 25,600 et chaque disque P30 a un niveau d’IOPS maximal de 5 000.</span><span class="sxs-lookup"><span data-stu-id="7f74b-456">hello DS13 VM has a maximum IOPS of 25,600 and each P30 disk has a maximum IOPS of 5,000.</span></span> <span data-ttu-id="7f74b-457">Globalement, cette configuration peut atteindre 5 000 x 4 = 20 000 E/S par seconde.</span><span class="sxs-lookup"><span data-stu-id="7f74b-457">Overall, this configuration can achieve 5,000 x 4 = 20,000 IOPS.</span></span> <span data-ttu-id="7f74b-458">Hello estimation de coût de cet ordinateur virtuel par mois sera 1,003 $.</span><span class="sxs-lookup"><span data-stu-id="7f74b-458">hello estimated cost of this VM per month will be $1,003.</span></span> <span data-ttu-id="7f74b-459">coût mensuel de Hello quatre P30 premium des disques de stockage sera 544.34 $.</span><span class="sxs-lookup"><span data-stu-id="7f74b-459">hello monthly cost of four P30 premium storage disks will be $544.34.</span></span> <span data-ttu-id="7f74b-460">Hello estimation de coût mensuel total sera 1,544 $.</span><span class="sxs-lookup"><span data-stu-id="7f74b-460">hello estimated total monthly cost will be $1,544.</span></span>

<span data-ttu-id="7f74b-461">Tableau ci-dessous résume la répartition des coûts hello de ce scénario pour Standard et Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="7f74b-461">Table below summarizes hello cost breakdown of this scenario for Standard and Premium Storage.</span></span>

| &nbsp; | <span data-ttu-id="7f74b-462">**Standard**</span><span class="sxs-lookup"><span data-stu-id="7f74b-462">**Standard**</span></span> | <span data-ttu-id="7f74b-463">**Premium**</span><span class="sxs-lookup"><span data-stu-id="7f74b-463">**Premium**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7f74b-464">**Coût de la machine virtuelle par mois**</span><span class="sxs-lookup"><span data-stu-id="7f74b-464">**Cost of VM per month**</span></span> |<span data-ttu-id="7f74b-465">1 570,58 $ (Standard\_StandardD14)</span><span class="sxs-lookup"><span data-stu-id="7f74b-465">$1,570.58 (Standard\_D14)</span></span> |<span data-ttu-id="7f74b-466">1 003,66 $ (Standard\_StandardDS13)</span><span class="sxs-lookup"><span data-stu-id="7f74b-466">$1,003.66 (Standard\_DS13)</span></span> |
| <span data-ttu-id="7f74b-467">**Coût des disques par mois**</span><span class="sxs-lookup"><span data-stu-id="7f74b-467">**Cost of Disks per month**</span></span> |<span data-ttu-id="7f74b-468">1 638,40 $ (32 disques de 1 To)</span><span class="sxs-lookup"><span data-stu-id="7f74b-468">$1,638.40 (32 x 1 TB disks)</span></span> |<span data-ttu-id="7f74b-469">544,34 $ (4 disques P30)</span><span class="sxs-lookup"><span data-stu-id="7f74b-469">$544.34 (4 x P30 disks)</span></span> |
| <span data-ttu-id="7f74b-470">**Coût global par mois**</span><span class="sxs-lookup"><span data-stu-id="7f74b-470">**Overall Cost per month**</span></span> |<span data-ttu-id="7f74b-471">3 208,98 $</span><span class="sxs-lookup"><span data-stu-id="7f74b-471">$3,208.98</span></span> |<span data-ttu-id="7f74b-472">1 544,34 $</span><span class="sxs-lookup"><span data-stu-id="7f74b-472">$1,544.34</span></span> |

<span data-ttu-id="7f74b-473">*Distributions Linux*</span><span class="sxs-lookup"><span data-stu-id="7f74b-473">*Linux Distros*</span></span>  

<span data-ttu-id="7f74b-474">Avec le stockage Azure Premium, vous obtenez hello même niveau de Performance pour les machines virtuelles exécutant Windows et Linux.</span><span class="sxs-lookup"><span data-stu-id="7f74b-474">With Azure Premium Storage, you get hello same level of Performance for VMs running Windows and Linux.</span></span> <span data-ttu-id="7f74b-475">Nous prenons en charge diverses versions de versions de Linux, et vous pouvez voir la liste complète hello [ici](../virtual-machines/linux/endorsed-distros.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="7f74b-475">We support many flavors of Linux distros, and you can see hello complete list [here](../virtual-machines/linux/endorsed-distros.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span> <span data-ttu-id="7f74b-476">Il est important de toonote que les différentes versions sont mieux adaptées pour différents types de charges de travail.</span><span class="sxs-lookup"><span data-stu-id="7f74b-476">It is important toonote that different distros are better suited for different types of workloads.</span></span> <span data-ttu-id="7f74b-477">Vous verrez des différents niveaux de performances en fonction de distribution hello que votre charge de travail est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="7f74b-477">You will see different levels of performance depending on hello distro your workload is running on.</span></span> <span data-ttu-id="7f74b-478">Tester les versions de Linux hello avec votre application et choisissez hello qui fonctionne le mieux.</span><span class="sxs-lookup"><span data-stu-id="7f74b-478">Test hello Linux distros with your application and choose hello one that works best.</span></span>

<span data-ttu-id="7f74b-479">Lors de l’exécution de Linux avec un stockage Premium, vérifiez hello plus récentes des mises à jour sur les performances de haute tooensure pilotes requis.</span><span class="sxs-lookup"><span data-stu-id="7f74b-479">When running Linux with Premium Storage, check hello latest updates about required drivers tooensure high performance.</span></span>

## <a name="premium-storage-disk-sizes"></a><span data-ttu-id="7f74b-480">Tailles de disques Premium Storage</span><span class="sxs-lookup"><span data-stu-id="7f74b-480">Premium Storage Disk Sizes</span></span>
<span data-ttu-id="7f74b-481">Azure Premium Storage offre actuellement sept tailles de disque.</span><span class="sxs-lookup"><span data-stu-id="7f74b-481">Azure Premium Storage offers seven disk sizes currently.</span></span> <span data-ttu-id="7f74b-482">Chaque taille de disque a une limite de mise à l’échelle bien spécifique pour le nombre d’E/S par seconde, la bande passante et le stockage.</span><span class="sxs-lookup"><span data-stu-id="7f74b-482">Each disk size has a different scale limit for IOPS, Bandwidth and Storage.</span></span> <span data-ttu-id="7f74b-483">Choisissez la taille de disque de stockage Premium droite hello en fonction des spécifications d’application hello et élevée hello taille de machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="7f74b-483">Choose hello right Premium Storage Disk size depending on hello application requirements and hello high scale VM size.</span></span> <span data-ttu-id="7f74b-484">tableau Hello ci-dessous montre les tailles de disques sept hello et leurs fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="7f74b-484">hello table below shows hello seven disks sizes and their capabilities.</span></span> <span data-ttu-id="7f74b-485">Les tailles de disque P4 et P6 ne sont actuellement prises en charge que par Managed Disks.</span><span class="sxs-lookup"><span data-stu-id="7f74b-485">P4 and P6 sizes are currently only supported for Managed Disks.</span></span>

| <span data-ttu-id="7f74b-486">Type de disque Premium</span><span class="sxs-lookup"><span data-stu-id="7f74b-486">Premium Disks Type</span></span>  | <span data-ttu-id="7f74b-487">P4</span><span class="sxs-lookup"><span data-stu-id="7f74b-487">P4</span></span>    | <span data-ttu-id="7f74b-488">P6</span><span class="sxs-lookup"><span data-stu-id="7f74b-488">P6</span></span>    | <span data-ttu-id="7f74b-489">P10</span><span class="sxs-lookup"><span data-stu-id="7f74b-489">P10</span></span>   | <span data-ttu-id="7f74b-490">P20</span><span class="sxs-lookup"><span data-stu-id="7f74b-490">P20</span></span>   | <span data-ttu-id="7f74b-491">P30</span><span class="sxs-lookup"><span data-stu-id="7f74b-491">P30</span></span>   | <span data-ttu-id="7f74b-492">P40</span><span class="sxs-lookup"><span data-stu-id="7f74b-492">P40</span></span>   | <span data-ttu-id="7f74b-493">P50</span><span class="sxs-lookup"><span data-stu-id="7f74b-493">P50</span></span>   | 
|---------------------|-------|-------|-------|-------|-------|-------|-------|
| <span data-ttu-id="7f74b-494">Taille du disque</span><span class="sxs-lookup"><span data-stu-id="7f74b-494">Disk size</span></span>           | <span data-ttu-id="7f74b-495">32 Go</span><span class="sxs-lookup"><span data-stu-id="7f74b-495">32 GB</span></span> | <span data-ttu-id="7f74b-496">64 Go</span><span class="sxs-lookup"><span data-stu-id="7f74b-496">64 GB</span></span> | <span data-ttu-id="7f74b-497">128 Go</span><span class="sxs-lookup"><span data-stu-id="7f74b-497">128 GB</span></span>| <span data-ttu-id="7f74b-498">512 Go</span><span class="sxs-lookup"><span data-stu-id="7f74b-498">512 GB</span></span>            | <span data-ttu-id="7f74b-499">1024 Go (1 To)</span><span class="sxs-lookup"><span data-stu-id="7f74b-499">1024 GB (1 TB)</span></span>    | <span data-ttu-id="7f74b-500">2 048 Go (2 To)</span><span class="sxs-lookup"><span data-stu-id="7f74b-500">2048 GB (2 TB)</span></span>    | <span data-ttu-id="7f74b-501">4 095 Go (4 To)</span><span class="sxs-lookup"><span data-stu-id="7f74b-501">4095 GB (4 TB)</span></span>    | 
| <span data-ttu-id="7f74b-502">IOPS par disque</span><span class="sxs-lookup"><span data-stu-id="7f74b-502">IOPS per disk</span></span>       | <span data-ttu-id="7f74b-503">120</span><span class="sxs-lookup"><span data-stu-id="7f74b-503">120</span></span>   | <span data-ttu-id="7f74b-504">240</span><span class="sxs-lookup"><span data-stu-id="7f74b-504">240</span></span>   | <span data-ttu-id="7f74b-505">500</span><span class="sxs-lookup"><span data-stu-id="7f74b-505">500</span></span>   | <span data-ttu-id="7f74b-506">2 300</span><span class="sxs-lookup"><span data-stu-id="7f74b-506">2300</span></span>              | <span data-ttu-id="7f74b-507">5 000</span><span class="sxs-lookup"><span data-stu-id="7f74b-507">5000</span></span>              | <span data-ttu-id="7f74b-508">7500</span><span class="sxs-lookup"><span data-stu-id="7f74b-508">7500</span></span>              | <span data-ttu-id="7f74b-509">7500</span><span class="sxs-lookup"><span data-stu-id="7f74b-509">7500</span></span>              | 
| <span data-ttu-id="7f74b-510">Débit par disque</span><span class="sxs-lookup"><span data-stu-id="7f74b-510">Throughput per disk</span></span> | <span data-ttu-id="7f74b-511">25 Mo par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-511">25 MB per second</span></span>  | <span data-ttu-id="7f74b-512">50 Mo par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-512">50 MB per second</span></span>  | <span data-ttu-id="7f74b-513">100 Mo par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-513">100 MB per second</span></span> | <span data-ttu-id="7f74b-514">150 Mo par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-514">150 MB per second</span></span> | <span data-ttu-id="7f74b-515">200 Mo par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-515">200 MB per second</span></span> | <span data-ttu-id="7f74b-516">250 Mo par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-516">250 MB per second</span></span> | <span data-ttu-id="7f74b-517">250 Mo par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-517">250 MB per second</span></span> | 


<span data-ttu-id="7f74b-518">Le nombre de disques que vous choisissez dépend de disque de hello taille choisie.</span><span class="sxs-lookup"><span data-stu-id="7f74b-518">How many disks you choose depends on hello disk size chosen.</span></span> <span data-ttu-id="7f74b-519">Vous pouvez utiliser un seul disque P50 ou toomeet de disques P10 plusieurs de vos besoins de l’application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-519">You could use a single P50 disk or multiple P10 disks toomeet your application requirement.</span></span> <span data-ttu-id="7f74b-520">Prendre en considération ci-dessous lorsque vous élaborez des choix de hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-520">Take into account considerations listed below when making hello choice.</span></span>

<span data-ttu-id="7f74b-521">*Limites de mise à l’échelle (E/S par seconde et débit)*</span><span class="sxs-lookup"><span data-stu-id="7f74b-521">*Scale Limits (IOPS and Throughput)*</span></span>  
<span data-ttu-id="7f74b-522">limites de Hello IOPS et le débit de chaque taille de disque Premium est différente et indépendants des limites de mise à l’échelle de machine virtuelle hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-522">hello IOPS and Throughput limits of each Premium disk size is different and independent from hello VM scale limits.</span></span> <span data-ttu-id="7f74b-523">Vérifiez que hello total IOPS et débit à partir de disques de hello sont choisis dans les limites d’échelle de hello taille de machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="7f74b-523">Make sure that hello total IOPS and Throughput from hello disks are within scale limits of hello chosen VM size.</span></span>

<span data-ttu-id="7f74b-524">Imaginez par exemple que votre application requiert un débit maximum de 250 Mo/s et que vous utilisez une machine virtuelle DS4 avec un seul disque P30.</span><span class="sxs-lookup"><span data-stu-id="7f74b-524">For example, if an application requirement is a maximum of 250 MB/sec Throughput and you are using a DS4 VM with a single P30 disk.</span></span> <span data-ttu-id="7f74b-525">Hello DS4 VM peut abandonner le débit de Mo/s too256.</span><span class="sxs-lookup"><span data-stu-id="7f74b-525">hello DS4 VM can give up too256 MB/sec Throughput.</span></span> <span data-ttu-id="7f74b-526">Toutefois, un seul disque P30 a limite de débit de 200 Mo par seconde. Par conséquent, application hello sera contraint à 200 Mo/s en raison de la limite de disque toohello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-526">However, a single P30 disk has Throughput limit of 200 MB/sec. Consequently, hello application will be constrained at 200 MB/sec due toohello disk limit.</span></span> <span data-ttu-id="7f74b-527">tooovercome cette limite, configurer plusieurs toohello de disques de données machine virtuelle ou redimensionner des disques tooP40 P50.</span><span class="sxs-lookup"><span data-stu-id="7f74b-527">tooovercome this limit, provision more than one data disks toohello VM or resize your disks tooP40 or P50.</span></span>

> [!NOTE]
> <span data-ttu-id="7f74b-528">Lectures pris en charge par le cache de hello ne sont pas inclus dans les IOPS de disque hello et le débit, par conséquent, pas l’objet toodisk limites.</span><span class="sxs-lookup"><span data-stu-id="7f74b-528">Reads served by hello cache are not included in hello disk IOPS and Throughput, hence not subject toodisk limits.</span></span> <span data-ttu-id="7f74b-529">Le cache possède sa propre limite de débit et d’E/S pour chaque machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="7f74b-529">Cache has its separate IOPS and Throughput limit per VM.</span></span>
>
> <span data-ttu-id="7f74b-530">Par exemple, les lectures et écritures sont initialement de 60 Mo/s et 40 Mo/s respectivement.</span><span class="sxs-lookup"><span data-stu-id="7f74b-530">For example, initially your reads and writes are 60MB/sec and 40MB/sec respectively.</span></span> <span data-ttu-id="7f74b-531">Au fil du temps, le cache de hello préchauffage et sert de plus en plus de hello lectures à partir du cache de hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-531">Over time, hello cache warms up and serves more and more of hello reads from hello cache.</span></span> <span data-ttu-id="7f74b-532">Ensuite, vous pouvez obtenir écriture plus élevé de débit à partir du disque de hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-532">Then, you can get higher write Throughput from hello disk.</span></span>
>
>

<span data-ttu-id="7f74b-533">*Nombre de disques*</span><span class="sxs-lookup"><span data-stu-id="7f74b-533">*Number of Disks*</span></span>  
<span data-ttu-id="7f74b-534">Déterminer le nombre de hello de disques que vous aurez besoin à l’évaluation des besoins de l’application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-534">Determine hello number of disks you will need by assessing application requirements.</span></span> <span data-ttu-id="7f74b-535">Chaque taille de machine virtuelle dotée d’une limite de nombre hello de disques que vous pouvez attacher toohello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="7f74b-535">Each VM size also has a limit on hello number of disks that you can attach toohello VM.</span></span> <span data-ttu-id="7f74b-536">En règle générale, il s’agit de deux fois de hello nombre de cœurs.</span><span class="sxs-lookup"><span data-stu-id="7f74b-536">Typically, this is twice hello number of cores.</span></span> <span data-ttu-id="7f74b-537">Vérifiez que hello taille de machine virtuelle que vous choisissez peut prendre en charge hello de disques requis.</span><span class="sxs-lookup"><span data-stu-id="7f74b-537">Ensure that hello VM size you choose can support hello number of disks needed.</span></span>

<span data-ttu-id="7f74b-538">N’oubliez pas de disques de stockage Premium hello ont des disques de stockage tooStandard de fonctions par rapport performances supérieurs.</span><span class="sxs-lookup"><span data-stu-id="7f74b-538">Remember, hello Premium Storage disks have higher performance capabilities compared tooStandard Storage disks.</span></span> <span data-ttu-id="7f74b-539">Par conséquent, si vous migrez votre application à partir de la machine virtuelle IaaS de Azure à l’aide du stockage Standard tooPremium stockage, vous aurez probablement besoin moins de disques premium tooachieve hello performance identique ou supérieur pour votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-539">Therefore, if you are migrating your application from Azure IaaS VM using Standard Storage tooPremium Storage, you will likely need fewer premium disks tooachieve hello same or higher performance for your application.</span></span>

## <a name="disk-caching"></a><span data-ttu-id="7f74b-540">Mise en cache du disque</span><span class="sxs-lookup"><span data-stu-id="7f74b-540">Disk Caching</span></span>
<span data-ttu-id="7f74b-541">Les machines virtuelles à grande échelle qui exploitent Azure Premium Storage ont une technologie de mise en cache à plusieurs niveaux appelée BlobCache.</span><span class="sxs-lookup"><span data-stu-id="7f74b-541">High Scale VMs that leverage Azure Premium Storage have a multi-tier caching technology called BlobCache.</span></span> <span data-ttu-id="7f74b-542">BlobCache utilise une combinaison de hello RAM de l’ordinateur virtuel et le disque SSD local pour la mise en cache.</span><span class="sxs-lookup"><span data-stu-id="7f74b-542">BlobCache uses a combination of hello Virtual Machine RAM and local SSD for caching.</span></span> <span data-ttu-id="7f74b-543">Ce cache est disponible pour les disques persistants de stockage Premium hello et les disques locaux de machine virtuelle de hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-543">This cache is available for hello Premium Storage persistent disks and hello VM local disks.</span></span> <span data-ttu-id="7f74b-544">Par défaut, ce paramètre de cache est défini tooRead/écriture pour les disques du système d’exploitation et en lecture seule pour les disques de données hébergées sur le stockage Premium.</span><span class="sxs-lookup"><span data-stu-id="7f74b-544">By default, this cache setting is set tooRead/Write for OS disks and ReadOnly for data disks hosted on Premium Storage.</span></span> <span data-ttu-id="7f74b-545">Avec la mise en cache disque activé sur les disques de stockage Premium hello, élevée hello machines virtuelles permettre atteindre très élevées de performances qui dépassent les performances du disque sous-jacent hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-545">With disk caching enabled on hello Premium Storage disks, hello high scale VMs can achieve extremely high levels of performance that exceed hello underlying disk performance.</span></span>

> [!WARNING]
> <span data-ttu-id="7f74b-546">La modification de paramètre de cache hello d’un disque Azure détache et rattache le disque cible de hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-546">Changing hello cache setting of an Azure disk detaches and re-attaches hello target disk.</span></span> <span data-ttu-id="7f74b-547">S’il est le disque du système d’exploitation hello, hello machine virtuelle est redémarré.</span><span class="sxs-lookup"><span data-stu-id="7f74b-547">If it is hello operating system disk, hello VM is restarted.</span></span> <span data-ttu-id="7f74b-548">Arrêtez toutes les applications/services qui peuvent être affectées par cette indisponibilité avant de modifier le paramètre de cache du disque hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-548">Stop all applications/services that might be affected by this disruption before changing hello disk cache setting.</span></span>
>
>

<span data-ttu-id="7f74b-549">toolearn en savoir plus sur le fonctionne de BlobCache, consultez toohello à l’intérieur de [stockage Azure Premium](https://azure.microsoft.com/blog/azure-premium-storage-now-generally-available-2/) billet de blog.</span><span class="sxs-lookup"><span data-stu-id="7f74b-549">toolearn more about how BlobCache works, refer toohello Inside [Azure Premium Storage](https://azure.microsoft.com/blog/azure-premium-storage-now-generally-available-2/) blog post.</span></span>

<span data-ttu-id="7f74b-550">Il s’agit de cache tooenable important sur l’ensemble approprié de hello de disques.</span><span class="sxs-lookup"><span data-stu-id="7f74b-550">It is important tooenable cache on hello right set of disks.</span></span> <span data-ttu-id="7f74b-551">Que vous devez activer la mise en cache du disque sur un disque premium ou pas dépendront de modèle de charge de travail hello ce disque doit gérer.</span><span class="sxs-lookup"><span data-stu-id="7f74b-551">Whether you should enable disk caching on a premium disk or not will depend on hello workload pattern that disk will be handling.</span></span> <span data-ttu-id="7f74b-552">Tableau ci-dessous présente des paramètres de cache pour les disques du système d’exploitation et des données par défaut de hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-552">Table below shows hello default cache settings for OS and Data disks.</span></span>

| <span data-ttu-id="7f74b-553">**Type de disque**</span><span class="sxs-lookup"><span data-stu-id="7f74b-553">**Disk Type**</span></span> | <span data-ttu-id="7f74b-554">**Paramètre de cache par défaut**</span><span class="sxs-lookup"><span data-stu-id="7f74b-554">**Default Cache Setting**</span></span> |
| --- | --- |
| <span data-ttu-id="7f74b-555">Disque de système d’exploitation</span><span class="sxs-lookup"><span data-stu-id="7f74b-555">OS disk</span></span> |<span data-ttu-id="7f74b-556">Lecture/écriture</span><span class="sxs-lookup"><span data-stu-id="7f74b-556">ReadWrite</span></span> |
| <span data-ttu-id="7f74b-557">Disque de données</span><span class="sxs-lookup"><span data-stu-id="7f74b-557">Data disk</span></span> |<span data-ttu-id="7f74b-558">Aucun</span><span class="sxs-lookup"><span data-stu-id="7f74b-558">None</span></span> |

<span data-ttu-id="7f74b-559">Suivantes sont hello des paramètres de cache de disque recommandé pour les disques de données,</span><span class="sxs-lookup"><span data-stu-id="7f74b-559">Following are hello recommended disk cache settings for data disks,</span></span>

| <span data-ttu-id="7f74b-560">**Paramètre de mise en cache du disque**</span><span class="sxs-lookup"><span data-stu-id="7f74b-560">**Disk Caching Setting**</span></span> | <span data-ttu-id="7f74b-561">**Recommandation lorsque toouse ce paramètre**</span><span class="sxs-lookup"><span data-stu-id="7f74b-561">**Recommendation on when toouse this setting**</span></span> |
| --- | --- |
| <span data-ttu-id="7f74b-562">Aucun</span><span class="sxs-lookup"><span data-stu-id="7f74b-562">None</span></span> |<span data-ttu-id="7f74b-563">Configurer le cache hôte sur cette option pour les disques en lecture seule et les disques gourmands en écriture.</span><span class="sxs-lookup"><span data-stu-id="7f74b-563">Configure host-cache as None for write-only and write-heavy disks.</span></span> |
| <span data-ttu-id="7f74b-564">Lecture seule</span><span class="sxs-lookup"><span data-stu-id="7f74b-564">ReadOnly</span></span> |<span data-ttu-id="7f74b-565">Configurer le cache hôte en lecture seule pour les disques en lecture seule et les disques en lecture/écriture.</span><span class="sxs-lookup"><span data-stu-id="7f74b-565">Configure host-cache as ReadOnly for read-only and read-write disks.</span></span> |
| <span data-ttu-id="7f74b-566">Lecture/écriture</span><span class="sxs-lookup"><span data-stu-id="7f74b-566">ReadWrite</span></span> |<span data-ttu-id="7f74b-567">Configurer le cache d’hôte comme ReadWrite uniquement si votre application gère correctement l’écriture de mise en cache des disques toopersistent de données si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="7f74b-567">Configure host-cache as ReadWrite only if your application properly  handles writing cached data toopersistent disks when needed.</span></span> |

<span data-ttu-id="7f74b-568">*Lecture seule*</span><span class="sxs-lookup"><span data-stu-id="7f74b-568">*ReadOnly*</span></span>  
<span data-ttu-id="7f74b-569">En configurant une mise en cache en lecture seule sur des disques de données Premium Storage, vous pouvez obtenir une faible latence de lecture et obtenir de très hautes performances d’E/S et de débit en lecture pour votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-569">By configuring ReadOnly caching on Premium Storage data disks, you can achieve low Read latency and get very high Read IOPS and Throughput for your application.</span></span> <span data-ttu-id="7f74b-570">Cela est dû à deux raisons :</span><span class="sxs-lookup"><span data-stu-id="7f74b-570">This is due two reasons,</span></span>

1. <span data-ttu-id="7f74b-571">Lectures effectuées à partir du cache, ce qui se trouve sur la mémoire de machine virtuelle hello et disque SSD local, sont beaucoup plus rapides que les lectures sur le disque de données hello, qui se trouve sur hello stockage d’objets blob Azure.</span><span class="sxs-lookup"><span data-stu-id="7f74b-571">Reads performed from cache, which is on hello VM memory and local SSD, are much faster than reads from hello data disk, which is on hello Azure blob storage.</span></span>  
2. <span data-ttu-id="7f74b-572">Stockage Premium ne compte pas hello pris en charge les lectures du cache, vers le disque hello IOPS et le débit.</span><span class="sxs-lookup"><span data-stu-id="7f74b-572">Premium Storage does not count hello Reads served from cache, towards hello disk IOPS and Throughput.</span></span> <span data-ttu-id="7f74b-573">Par conséquent, votre application est en mesure de tooachieve supérieur total IOPS et le débit.</span><span class="sxs-lookup"><span data-stu-id="7f74b-573">Therefore, your application is able tooachieve higher total IOPS and Throughput.</span></span>

<span data-ttu-id="7f74b-574">*Lecture/écriture*</span><span class="sxs-lookup"><span data-stu-id="7f74b-574">*ReadWrite*</span></span>  
<span data-ttu-id="7f74b-575">Par défaut, les disques du système d’exploitation hello ReadWrite cache sont activé.</span><span class="sxs-lookup"><span data-stu-id="7f74b-575">By default, hello OS disks have ReadWrite caching enabled.</span></span> <span data-ttu-id="7f74b-576">Nous avons récemment ajouté la prise en charge de la mise en cache en lecture/écriture sur les données des disques.</span><span class="sxs-lookup"><span data-stu-id="7f74b-576">We have recently added support for ReadWrite caching on data disks as well.</span></span> <span data-ttu-id="7f74b-577">Si vous utilisez la mise en cache de lecture/écriture, vous devez disposer d’un bon moyen toowrite hello de données à partir de disques toopersistent de cache.</span><span class="sxs-lookup"><span data-stu-id="7f74b-577">If you are using ReadWrite caching, you must have a proper way toowrite hello data from cache toopersistent disks.</span></span> <span data-ttu-id="7f74b-578">Par exemple, l’écriture des descripteurs de SQL Server mis en cache les disques de stockage persistant toohello de données sur son propre.</span><span class="sxs-lookup"><span data-stu-id="7f74b-578">For example, SQL Server handles writing cached data toohello persistent storage disks on its own.</span></span> <span data-ttu-id="7f74b-579">À l’aide du cache de lecture/écriture avec une application qui ne gère pas la persistance hello requis données peuvent entraîner une perte de toodata si hello VM tombe en panne.</span><span class="sxs-lookup"><span data-stu-id="7f74b-579">Using ReadWrite cache with an application that does not handle persisting hello required data can lead toodata loss, if hello VM crashes.</span></span>

<span data-ttu-id="7f74b-580">Par exemple, vous pouvez appliquer ces tooSQL directives serveur en cours d’exécution sur le stockage Premium en procédant comme suit de hello,</span><span class="sxs-lookup"><span data-stu-id="7f74b-580">As an example, you can apply these guidelines tooSQL Server running on Premium Storage by doing hello following,</span></span>

1. <span data-ttu-id="7f74b-581">Configurez le cache en lecture seule sur les disques de stockage Premium qui hébergent des fichiers de données.</span><span class="sxs-lookup"><span data-stu-id="7f74b-581">Configure "ReadOnly" cache on premium storage disks hosting data files.</span></span>  
   <span data-ttu-id="7f74b-582">a.</span><span class="sxs-lookup"><span data-stu-id="7f74b-582">a.</span></span>  <span data-ttu-id="7f74b-583">Hello rapide lit à partir de la durée de requête de SQL Server du cache du inférieure hello étant donné que les pages de données sont extraites beaucoup plus rapidement toodirectly de cache comparé hello à partir de disques de données hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-583">hello fast reads from cache lower hello SQL Server query time since data pages are retrieved much faster from hello cache compared toodirectly from hello data disks.</span></span>  
   <span data-ttu-id="7f74b-584">b.</span><span class="sxs-lookup"><span data-stu-id="7f74b-584">b.</span></span>  <span data-ttu-id="7f74b-585">Le traitement des lectures à partir du cache signifie que les disques de données premium délivrent un débit supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="7f74b-585">Serving reads from cache, means there is additional Throughput available from premium data disks.</span></span> <span data-ttu-id="7f74b-586">SQL Server peut utiliser ce débit supplémentaire pour la récupération d’un plus grand nombre de pages de données et d’autres opérations telles que la sauvegarde/restauration, les charges de traitement par lots et les reconstructions d’index.</span><span class="sxs-lookup"><span data-stu-id="7f74b-586">SQL Server can use this additional Throughput towards retrieving more data pages and other operations like backup/restore, batch loads, and index rebuilds.</span></span>  
2. <span data-ttu-id="7f74b-587">Configurer « None » des fichiers journaux hello hébergement des disques de cache sur le stockage premium.</span><span class="sxs-lookup"><span data-stu-id="7f74b-587">Configure "None" cache on premium storage disks hosting hello log files.</span></span>  
   <span data-ttu-id="7f74b-588">a.</span><span class="sxs-lookup"><span data-stu-id="7f74b-588">a.</span></span>  <span data-ttu-id="7f74b-589">Les fichiers journaux ont principalement des opérations d’écriture intensives.</span><span class="sxs-lookup"><span data-stu-id="7f74b-589">Log files have primarily write-heavy operations.</span></span> <span data-ttu-id="7f74b-590">Par conséquent, ils ne bénéficient pas hello ReadOnly cache.</span><span class="sxs-lookup"><span data-stu-id="7f74b-590">Therefore, they do not benefit from hello ReadOnly cache.</span></span>

## <a name="disk-striping"></a><span data-ttu-id="7f74b-591">Entrelacement de disques</span><span class="sxs-lookup"><span data-stu-id="7f74b-591">Disk Striping</span></span>
<span data-ttu-id="7f74b-592">Quand une grande échelle de que machine virtuelle est attachée avec plusieurs premium stockage persistant disques, hello peut être réparties ensemble tooaggregate leurs IOPs, la bande passante et la capacité de stockage.</span><span class="sxs-lookup"><span data-stu-id="7f74b-592">When a high scale VM is attached with several premium storage persistent disks, hello disks can be striped together tooaggregate their IOPs, bandwidth, and storage capacity.</span></span>

<span data-ttu-id="7f74b-593">Sous Windows, vous pouvez utiliser des disques des espaces de stockage toostripe ensemble.</span><span class="sxs-lookup"><span data-stu-id="7f74b-593">On Windows, you can use Storage Spaces toostripe disks together.</span></span> <span data-ttu-id="7f74b-594">Vous devez configurer une seule colonne pour chaque disque dans un pool.</span><span class="sxs-lookup"><span data-stu-id="7f74b-594">You must configure one column for each disk in a pool.</span></span> <span data-ttu-id="7f74b-595">Dans le cas contraire, hello performances globales du volume agrégé par bandes peuvent être plus faible que prévu, en raison de la distribution de toouneven du trafic sur les disques hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-595">Otherwise, hello overall performance of striped volume can be lower than expected, due toouneven distribution of traffic across hello disks.</span></span>

<span data-ttu-id="7f74b-596">Important : Vous utilisez le Gestionnaire de serveur UI, vous pouvez définir le nombre total de hello de colonnes des too8 pour un volume agrégé par bandes.</span><span class="sxs-lookup"><span data-stu-id="7f74b-596">Important: Using Server Manager UI, you can set hello total number of columns up too8 for a striped volume.</span></span> <span data-ttu-id="7f74b-597">Lors de l’attachement de disques plus de 8, utilisez le volume de hello toocreate PowerShell.</span><span class="sxs-lookup"><span data-stu-id="7f74b-597">When attaching more than 8 disks, use PowerShell toocreate hello volume.</span></span> <span data-ttu-id="7f74b-598">À l’aide de PowerShell, vous pouvez définir nombre hello de colonnes nombre égal toohello de disques.</span><span class="sxs-lookup"><span data-stu-id="7f74b-598">Using PowerShell, you can set hello number of columns equal toohello number of disks.</span></span> <span data-ttu-id="7f74b-599">Par exemple, s’il existe 16 disques dans un agrégat unique ; Spécifiez des 16 colonnes Bonjour *NumberOfColumns* paramètre Hello *New-VirtualDisk* applet de commande PowerShell.</span><span class="sxs-lookup"><span data-stu-id="7f74b-599">For example, if there are 16 disks in a single stripe set; specify 16 columns in hello *NumberOfColumns* parameter of hello *New-VirtualDisk* PowerShell cmdlet.</span></span>

<span data-ttu-id="7f74b-600">Sur Linux, utilisez conjointement hello MDADM utilitaire toostripe des disques.</span><span class="sxs-lookup"><span data-stu-id="7f74b-600">On Linux, use hello MDADM utility toostripe disks together.</span></span> <span data-ttu-id="7f74b-601">Pour obtenir des instructions détaillées sur les disques d’agrégation par bandes sur Linux, consultez trop[configurer de RAID logiciels sur Linux](../virtual-machines/linux/configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="7f74b-601">For detailed steps on striping disks on Linux refer too[Configure Software RAID on Linux](../virtual-machines/linux/configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

<span data-ttu-id="7f74b-602">*Taille de l’entrelacement*</span><span class="sxs-lookup"><span data-stu-id="7f74b-602">*Stripe Size*</span></span>  
<span data-ttu-id="7f74b-603">Une configuration importante dans la répartition des disques est la taille de bande hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-603">An important configuration in disk striping is hello stripe size.</span></span> <span data-ttu-id="7f74b-604">taille de bande Hello ou la taille de bloc est hello plus petit segment de données qui application peut adresser sur un volume agrégé par bandes.</span><span class="sxs-lookup"><span data-stu-id="7f74b-604">hello stripe size or block size is hello smallest chunk of data that application can address on a striped volume.</span></span> <span data-ttu-id="7f74b-605">taille de bande Hello que vous configurez dépend de type hello d’application et de son modèle de demande.</span><span class="sxs-lookup"><span data-stu-id="7f74b-605">hello stripe size you configure depends on hello type of application and its request pattern.</span></span> <span data-ttu-id="7f74b-606">Si vous choisissez la taille de la mauvaise répartition hello, il risque de mauvais tooIO, ce qui conduit toodegraded les performances de votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-606">If you choose hello wrong stripe size, it could lead tooIO misalignment, which leads toodegraded performance of your application.</span></span>

<span data-ttu-id="7f74b-607">Par exemple, si une demande d’e/s générée par votre application est supérieure à la taille de bande hello disque, le système de stockage hello écrit sur bande des limites d’unité sur plusieurs disques.</span><span class="sxs-lookup"><span data-stu-id="7f74b-607">For example, if an IO request generated by your application is bigger than hello disk stripe size, hello storage system writes it across stripe unit boundaries on more than one disk.</span></span> <span data-ttu-id="7f74b-608">Lorsqu’il est temps tooaccess ces données, il aura tooseek sur plusieurs bandes unités toocomplete hello demande.</span><span class="sxs-lookup"><span data-stu-id="7f74b-608">When it is time tooaccess that data, it will have tooseek across more than one stripe units toocomplete hello request.</span></span> <span data-ttu-id="7f74b-609">effet cumulatif de Hello du comportement de ce type peut entraîner une dégradation des performances de toosubstantial.</span><span class="sxs-lookup"><span data-stu-id="7f74b-609">hello cumulative effect of such behavior can lead toosubstantial performance degradation.</span></span> <span data-ttu-id="7f74b-610">Sur hello autre part, si hello taille de la demande d’e/s est plus petite que la taille de bande, et si elle est aléatoire par nature, les demandes d’e/s hello peuvent additionner sur hello même disque provoquent un goulet d’étranglement et finalement dégrader les performances d’e/s hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-610">On hello other hand, if hello IO request size is smaller than stripe size, and if it is random in nature, hello IO requests may add up on hello same disk causing a bottleneck and ultimately degrading hello IO performance.</span></span>

<span data-ttu-id="7f74b-611">En fonction de type hello de charge de travail de que votre application est en cours d’exécution, choisissez une taille de répartition appropriée.</span><span class="sxs-lookup"><span data-stu-id="7f74b-611">Depending on hello type of workload your application is running, choose an appropriate stripe size.</span></span> <span data-ttu-id="7f74b-612">Pour les petites demandes d’E/S aléatoires, utilisez une plus petite taille d’entrelacement.</span><span class="sxs-lookup"><span data-stu-id="7f74b-612">For random small IO requests, use a smaller stripe size.</span></span> <span data-ttu-id="7f74b-613">Pour de grandes demandes d’E/S séquentielles, utilisez en revanche une plus grande taille d’entrelacement.</span><span class="sxs-lookup"><span data-stu-id="7f74b-613">Whereas, for large sequential IO requests use a larger stripe size.</span></span> <span data-ttu-id="7f74b-614">Découvrez hello stripe taille recommandations pour l’application hello que vous allez exécuter sur un stockage Premium.</span><span class="sxs-lookup"><span data-stu-id="7f74b-614">Find out hello stripe size recommendations for hello application you will be running on Premium Storage.</span></span> <span data-ttu-id="7f74b-615">Pour SQL Server, configurez une taille d’entrelacement de 64 Ko pour les charges de travail OLTP et de 256 Ko pour les charges de travail d’entrepôt de données.</span><span class="sxs-lookup"><span data-stu-id="7f74b-615">For SQL Server, configure stripe size of 64KB for OLTP workloads and 256KB for data warehousing workloads.</span></span> <span data-ttu-id="7f74b-616">Consultez [performances meilleures pratiques pour SQL Server sur des machines virtuelles Azure](../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md#disks-guidance) toolearn plus.</span><span class="sxs-lookup"><span data-stu-id="7f74b-616">See [Performance best practices for SQL Server on Azure VMs](../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md#disks-guidance) toolearn more.</span></span>

> [!NOTE]
> <span data-ttu-id="7f74b-617">vous pouvez entrelacer au maximum 32 disques de stockage premium sur une machine virtuelle DS et 64 disques de stockage premium sur une machine virtuelle GS.</span><span class="sxs-lookup"><span data-stu-id="7f74b-617">You can stripe together a maximum of 32 premium storage disks on a DS series VM and 64 premium storage disks on a GS series VM.</span></span>
>
>

## <a name="multi-threading"></a><span data-ttu-id="7f74b-618">Multithreading</span><span class="sxs-lookup"><span data-stu-id="7f74b-618">Multi-threading</span></span>
<span data-ttu-id="7f74b-619">Azure a conçu toobe de plate-forme de stockage Premium parallèle massif.</span><span class="sxs-lookup"><span data-stu-id="7f74b-619">Azure has designed Premium Storage platform toobe massively parallel.</span></span> <span data-ttu-id="7f74b-620">Par conséquent, une application multithread délivre de bien meilleures performances qu’une application à thread unique.</span><span class="sxs-lookup"><span data-stu-id="7f74b-620">Therefore, a multi-threaded application achieves much higher performance than a single-threaded application.</span></span> <span data-ttu-id="7f74b-621">Une application multithread répartit de ses tâches sur plusieurs threads et augmente l’efficacité de son exécution en utilisant hello VM et toohello de ressources de disque maximale.</span><span class="sxs-lookup"><span data-stu-id="7f74b-621">A multi-threaded application splits up its tasks across multiple threads and increases efficiency of its execution by utilizing hello VM and disk resources toohello maximum.</span></span>

<span data-ttu-id="7f74b-622">Par exemple, si votre application s’exécute sur un seul cœur de machine virtuelle à l’aide de deux threads, hello du processeur peut basculer entre l’efficacité de hello deux threads tooachieve.</span><span class="sxs-lookup"><span data-stu-id="7f74b-622">For example, if your application is running on a single core VM using two threads, hello CPU can switch between hello two threads tooachieve efficiency.</span></span> <span data-ttu-id="7f74b-623">Lorsqu’un thread est en attente sur un toocomplete d’e/s disque, hello du processeur peut basculer toohello autre thread.</span><span class="sxs-lookup"><span data-stu-id="7f74b-623">While one thread is waiting on a disk IO toocomplete, hello CPU can switch toohello other thread.</span></span> <span data-ttu-id="7f74b-624">De cette façon, deux threads peuvent accomplir bien plus qu’un seul thread.</span><span class="sxs-lookup"><span data-stu-id="7f74b-624">In this way, two threads can accomplish more than a single thread would.</span></span> <span data-ttu-id="7f74b-625">Si hello machine virtuelle possède plusieurs cœurs, il diminue plus temps d’exécution étant donné que chaque cœur peut exécuter des tâches en parallèle.</span><span class="sxs-lookup"><span data-stu-id="7f74b-625">If hello VM has more than one core, it further decreases running time since each core can execute tasks in parallel.</span></span>

<span data-ttu-id="7f74b-626">Vous n’êtes peut-être pas en mesure de toochange moyen de hello une application prête à implémente unique thread ou multi-threading.</span><span class="sxs-lookup"><span data-stu-id="7f74b-626">You may not be able toochange hello way an off-the-shelf application implements single threading or multi-threading.</span></span> <span data-ttu-id="7f74b-627">Par exemple, SQL Server est capable de gérer plusieurs processeurs et plusieurs nœuds.</span><span class="sxs-lookup"><span data-stu-id="7f74b-627">For example, SQL Server is capable of handling multi-CPU and multi-core.</span></span> <span data-ttu-id="7f74b-628">Toutefois, SQL Server décide dans quelles conditions elle reposera sur un ou plusieurs threads tooprocess une requête.</span><span class="sxs-lookup"><span data-stu-id="7f74b-628">However, SQL Server decides under what conditions it will leverage one or more threads tooprocess a query.</span></span> <span data-ttu-id="7f74b-629">Il peut exécuter des requêtes et créer des index à l’aide du traitement multithread.</span><span class="sxs-lookup"><span data-stu-id="7f74b-629">It can run queries and build indexes using multi-threading.</span></span> <span data-ttu-id="7f74b-630">Pour une requête qui implique une jointure de tables de grande taille et le tri des données avant de retourner toohello utilisateur, SQL Server utilise probablement plusieurs threads.</span><span class="sxs-lookup"><span data-stu-id="7f74b-630">For a query that involves joining large tables and sorting data before returning toohello user, SQL Server will likely use multiple threads.</span></span> <span data-ttu-id="7f74b-631">Toutefois, un utilisateur ne peut pas décider si SQL Server exécutera une requête à l’aide d’un ou plusieurs threads.</span><span class="sxs-lookup"><span data-stu-id="7f74b-631">However, a user cannot control whether SQL Server executes a query using a single thread or multiple threads.</span></span>

<span data-ttu-id="7f74b-632">Il existe des paramètres de configuration que vous pouvez modifier tooinfluence ce multi-threading ou parallèle du traitement d’une application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-632">There are configuration settings that you can alter tooinfluence this multi-threading or parallel processing of an application.</span></span> <span data-ttu-id="7f74b-633">Par exemple, en cas de SQL Server, il est configuration de degré de parallélisme maximale hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-633">For example, in case of SQL Server it is hello maximum Degree of Parallelism configuration.</span></span> <span data-ttu-id="7f74b-634">Ce paramètre de MAXDOP, vous permet de tooconfigure hello nombre de processeurs que SQL Server peut utiliser lorsque le traitement en parallèle.</span><span class="sxs-lookup"><span data-stu-id="7f74b-634">This setting called MAXDOP, allows you tooconfigure hello maximum number of processors SQL Server can use when parallel processing.</span></span> <span data-ttu-id="7f74b-635">Vous pouvez configurer MAXDOP pour des requêtes individuelles ou pour des opérations d’index.</span><span class="sxs-lookup"><span data-stu-id="7f74b-635">You can configure MAXDOP for individual queries or index operations.</span></span> <span data-ttu-id="7f74b-636">Cela s’avère utile lorsque vous souhaitez toobalance les ressources de votre système pour une application critique de performances.</span><span class="sxs-lookup"><span data-stu-id="7f74b-636">This is beneficial when you want toobalance resources of your system for a performance critical application.</span></span>

<span data-ttu-id="7f74b-637">Par exemple, supposons que votre application à l’aide de SQL Server exécute une requête de grande taille et une opération d’index sur hello même temps.</span><span class="sxs-lookup"><span data-stu-id="7f74b-637">For example, say your application using SQL Server is executing a large query and an index operation at hello same time.</span></span> <span data-ttu-id="7f74b-638">Supposons que vous souhaitiez hello index opération toobe plus performant par rapport toohello grande requête.</span><span class="sxs-lookup"><span data-stu-id="7f74b-638">Let us assume that you wanted hello index operation toobe more performant compared toohello large query.</span></span> <span data-ttu-id="7f74b-639">Dans ce cas, vous pouvez définir la valeur MAXDOP hello index opération toobe supérieur hello valeur MAXDOP pour la requête de hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-639">In such a case, you can set MAXDOP value of hello index operation toobe higher than hello MAXDOP value for hello query.</span></span> <span data-ttu-id="7f74b-640">De cette manière, SQL Server a plus grand nombre de processeurs, il peut exploiter pour hello index opération comparée toohello nombre de processeurs, il peut consacrer toohello requête de grande taille.</span><span class="sxs-lookup"><span data-stu-id="7f74b-640">This way, SQL Server has more number of processors that it can leverage for hello index operation compared toohello number of processors it can dedicate toohello large query.</span></span> <span data-ttu-id="7f74b-641">N’oubliez pas, vous ne contrôlez pas le nombre de hello de threads SQL Server utilisera pour chaque opération.</span><span class="sxs-lookup"><span data-stu-id="7f74b-641">Remember, you do not control hello number of threads SQL Server will use for each operation.</span></span> <span data-ttu-id="7f74b-642">Vous pouvez contrôler hello le nombre maximal de processeurs qui est dédié au multithreading.</span><span class="sxs-lookup"><span data-stu-id="7f74b-642">You can control hello maximum number of processors being dedicated for multi-threading.</span></span>

<span data-ttu-id="7f74b-643">En savoir plus sur [Degrés de parallélisme](https://technet.microsoft.com/library/ms188611.aspx) dans SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7f74b-643">Learn more about [Degrees of Parallelism](https://technet.microsoft.com/library/ms188611.aspx) in SQL Server.</span></span> <span data-ttu-id="7f74b-644">Découvrez des paramètres qui influencent multithreading dans votre application et leurs performances toooptimize de configurations.</span><span class="sxs-lookup"><span data-stu-id="7f74b-644">Find out such settings that influence multi-threading in your application and their configurations toooptimize performance.</span></span>

## <a name="queue-depth"></a><span data-ttu-id="7f74b-645">Profondeur de file d’attente</span><span class="sxs-lookup"><span data-stu-id="7f74b-645">Queue Depth</span></span>
<span data-ttu-id="7f74b-646">Hello profondeur de file d’attente ou de longueur de file d’attente ou la taille de la file d’attente est le nombre hello de demandes d’e/s en attente dans le système de hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-646">hello Queue Depth or Queue Length or Queue Size is hello number of pending IO requests in hello system.</span></span> <span data-ttu-id="7f74b-647">valeur Hello de profondeur de file d’attente détermine le nombre d’e/s d’opérations votre application peut aligner, les disques de stockage hello traitera.</span><span class="sxs-lookup"><span data-stu-id="7f74b-647">hello value of Queue Depth determines how many IO operations your application can line up, which hello storage disks will be processing.</span></span> <span data-ttu-id="7f74b-648">Il affecte tous les hello trois applications les indicateurs de performance dont nous avons discuté dans cet article savoir, IOPS, débit et la latence.</span><span class="sxs-lookup"><span data-stu-id="7f74b-648">It affects all hello three application performance indicators that we discussed in this article viz., IOPS, Throughput and Latency.</span></span>

<span data-ttu-id="7f74b-649">La profondeur de file d’attente et le traitement multithread sont étroitement liés.</span><span class="sxs-lookup"><span data-stu-id="7f74b-649">Queue Depth and multi-threading are closely related.</span></span> <span data-ttu-id="7f74b-650">Hello valeur de profondeur de file d’attente indique la quantité multi-threading qui peut être obtenue par application hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-650">hello Queue Depth value indicates how much multi-threading can be achieved by hello application.</span></span> <span data-ttu-id="7f74b-651">Si hello profondeur de file d’attente est importante, application peut exécuter plusieurs opérations simultanément, en d’autres termes, plus multi-threading.</span><span class="sxs-lookup"><span data-stu-id="7f74b-651">If hello Queue Depth is large, application can execute more operations concurrently, in other words, more multi-threading.</span></span> <span data-ttu-id="7f74b-652">Si hello profondeur de file d’attente est petite, même si l’application est multithread, il n’aura pas suffisamment demandes alignés pour une exécution simultanée.</span><span class="sxs-lookup"><span data-stu-id="7f74b-652">If hello Queue Depth is small, even though application is multi-threaded, it will not have enough requests lined up for concurrent execution.</span></span>

<span data-ttu-id="7f74b-653">En règle générale, off hello étagère applications n’autorisent pas vous profondeur de file d’attente toochange hello, car si définie correctement, il fera plus de mal que de bien.</span><span class="sxs-lookup"><span data-stu-id="7f74b-653">Typically, off hello shelf applications do not allow you toochange hello queue depth, because if set incorrectly it will do more harm than good.</span></span> <span data-ttu-id="7f74b-654">Les applications seront valeur hello droite des performances optimales de file d’attente profondeur tooget hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-654">Applications will set hello right value of queue depth tooget hello optimal performance.</span></span> <span data-ttu-id="7f74b-655">Toutefois, il est important toounderstand ce concept afin que vous pouvez résoudre les problèmes de performances avec votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-655">However, it is important toounderstand this concept so that you can troubleshoot performance issues with your application.</span></span> <span data-ttu-id="7f74b-656">Vous pouvez également observer les effets de hello de profondeur de file d’attente par les outils de test en cours d’exécution sur votre système.</span><span class="sxs-lookup"><span data-stu-id="7f74b-656">You can also observe hello effects of queue depth by running benchmarking tools on your system.</span></span>

<span data-ttu-id="7f74b-657">Certaines applications fournissent des paramètres tooinfluence hello profondeur de file d’attente.</span><span class="sxs-lookup"><span data-stu-id="7f74b-657">Some applications provide settings tooinfluence hello Queue Depth.</span></span> <span data-ttu-id="7f74b-658">Par exemple, paramètre de MAXDOP (degré maximal de parallélisme) hello dans SQL Server est expliqué dans la section précédente.</span><span class="sxs-lookup"><span data-stu-id="7f74b-658">For example, hello MAXDOP (maximum degree of parallelism) setting in SQL Server explained in previous section.</span></span> <span data-ttu-id="7f74b-659">MAXDOP est un moyen de tooinfluence profondeur de file d’attente et multi-threading, bien qu’il ne modifie pas directement les valeur de profondeur de file d’attente de hello de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7f74b-659">MAXDOP is a way tooinfluence Queue Depth and multi-threading, although it does not directly change hello Queue Depth value of SQL Server.</span></span>

<span data-ttu-id="7f74b-660">*Grande profondeur de file d’attente*</span><span class="sxs-lookup"><span data-stu-id="7f74b-660">*High Queue Depth*</span></span>  
<span data-ttu-id="7f74b-661">Une profondeur de file d’attente élevé les lignes les plus d’opérations sur le disque de hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-661">A high queue depth lines up more operations on hello disk.</span></span> <span data-ttu-id="7f74b-662">disque de Hello sait demande suivante de hello dans sa file d’attente à l’avance.</span><span class="sxs-lookup"><span data-stu-id="7f74b-662">hello disk knows hello next request in its queue ahead of time.</span></span> <span data-ttu-id="7f74b-663">Par conséquent, disque de hello permettre planifier des opérations d’avance et les traiter dans une séquence optimale.</span><span class="sxs-lookup"><span data-stu-id="7f74b-663">Consequently, hello disk can schedule operations ahead of time and process them in an optimal sequence.</span></span> <span data-ttu-id="7f74b-664">Étant donné que l’application hello envoie plus disque toohello de demandes, disque de hello peut traiter les e/s parallèles plus.</span><span class="sxs-lookup"><span data-stu-id="7f74b-664">Since hello application is sending more requests toohello disk, hello disk can process more parallel IOs.</span></span> <span data-ttu-id="7f74b-665">Pour finir, application hello sera en mesure de tooachieve e/s plus élevée.</span><span class="sxs-lookup"><span data-stu-id="7f74b-665">Ultimately, hello application will be able tooachieve higher IOPS.</span></span> <span data-ttu-id="7f74b-666">Étant donné que l’application est en train de traiter plus de requêtes, hello débit total d’application hello augmente également.</span><span class="sxs-lookup"><span data-stu-id="7f74b-666">Since application is processing more requests, hello total Throughput of hello application also increases.</span></span>

<span data-ttu-id="7f74b-667">En général, une application peut atteindre un débit maximal avec 8-16 E/S en attente par disque connecté.</span><span class="sxs-lookup"><span data-stu-id="7f74b-667">Typically, an application can achieve maximum Throughput with 8-16+ outstanding IOs per attached disk.</span></span> <span data-ttu-id="7f74b-668">Si une profondeur de file d’attente, application effectue pas suffisamment toohello du système IOs, et il traitera moins le montant de pendant une période donnée.</span><span class="sxs-lookup"><span data-stu-id="7f74b-668">If a Queue Depth is one, application is not pushing enough IOs toohello system, and it will process less amount of in a given period.</span></span> <span data-ttu-id="7f74b-669">En d’autres termes, elle atteindra un débit inférieur.</span><span class="sxs-lookup"><span data-stu-id="7f74b-669">In other words, less Throughput.</span></span>

<span data-ttu-id="7f74b-670">Par exemple, dans SQL Server, hello du paramètre MAXDOP valeur pour une requête trop « 4 » indique à SQL Server qu’il peut utiliser des requêtes de hello tooexecute toofour cœurs.</span><span class="sxs-lookup"><span data-stu-id="7f74b-670">For example, in SQL Server, setting hello MAXDOP value for a query too"4" informs SQL Server that it can use up toofour cores tooexecute hello query.</span></span> <span data-ttu-id="7f74b-671">SQL Server détermine quel est meilleure file d’attente profondeur hello et la valeur de nombre de cœurs pour l’exécution de requête hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-671">SQL Server will determine what is best queue depth value and hello number of cores for hello query execution.</span></span>

<span data-ttu-id="7f74b-672">*Profondeur de file d’attente optimale*</span><span class="sxs-lookup"><span data-stu-id="7f74b-672">*Optimal Queue Depth*</span></span>  
<span data-ttu-id="7f74b-673">Une valeur de profondeur de file d’attente très élevée présente aussi des inconvénients.</span><span class="sxs-lookup"><span data-stu-id="7f74b-673">Very high queue depth value also has its drawbacks.</span></span> <span data-ttu-id="7f74b-674">Si la valeur de profondeur de file d’attente est trop élevé, application hello essaiera toodrive e/s très élevées.</span><span class="sxs-lookup"><span data-stu-id="7f74b-674">If queue depth value is too high, hello application will try toodrive very high IOPS.</span></span> <span data-ttu-id="7f74b-675">À moins que l’application repose sur des disques persistants associés à un nombre suffisant d’E/S par seconde, cela peut affecter sérieusement les latences d’application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-675">Unless application has persistent disks with sufficient provisioned IOPS, this can negatively affect application latencies.</span></span> <span data-ttu-id="7f74b-676">Formule suivante montre la relation de hello entre les e/s, la latence et profondeur de file d’attente.</span><span class="sxs-lookup"><span data-stu-id="7f74b-676">Following formula shows hello relationship between IOPS, Latency and Queue Depth.</span></span>  
    ![](media/storage-premium-storage-performance/image6.png)

<span data-ttu-id="7f74b-677">Vous ne configurez pas de valeur élevée tooany de profondeur de file d’attente, mais tooan la valeur optimale qui peut fournir suffisamment d’IOPS pour l’application hello sans affecter les temps de latence.</span><span class="sxs-lookup"><span data-stu-id="7f74b-677">You should not configure Queue Depth tooany high value, but tooan optimal value, which can deliver enough IOPS for hello application without affecting latencies.</span></span> <span data-ttu-id="7f74b-678">Par exemple, si la latence de l’application hello doit toobe 1 milliseconde, hello profondeur de file d’attente requis tooachieve est de 5 000 IOPS, QD = 5000 x 0,001 = 5.</span><span class="sxs-lookup"><span data-stu-id="7f74b-678">For example, if hello application latency needs toobe 1 millisecond, hello Queue Depth required tooachieve 5,000 IOPS is, QD = 5000 x 0.001 = 5.</span></span>

<span data-ttu-id="7f74b-679">*Profondeur de file d’attente pour le volume entrelacé*</span><span class="sxs-lookup"><span data-stu-id="7f74b-679">*Queue Depth for Striped Volume*</span></span>  
<span data-ttu-id="7f74b-680">Pour un volume entrelacé, conservez une profondeur de file d’attente suffisamment élevée de sorte que chaque disque dispose individuellement d’un pic de profondeur de file d’attente.</span><span class="sxs-lookup"><span data-stu-id="7f74b-680">For a striped volume, maintain a high enough queue depth such that, every disk has a peak queue depth individually.</span></span> <span data-ttu-id="7f74b-681">Par exemple, considérez une application qui exécute un push d’une profondeur de file d’attente de 2, et il existe 4 disques de répartition de hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-681">For example, consider an application that pushes a queue depth of 2 and there are 4 disks in hello stripe.</span></span> <span data-ttu-id="7f74b-682">demandes d’e/s deux Hello passera tootwo disques et restant deux disques sera inactif.</span><span class="sxs-lookup"><span data-stu-id="7f74b-682">hello two IO requests will go tootwo disks and remaining two disks will be idle.</span></span> <span data-ttu-id="7f74b-683">Par conséquent, configurer profondeur de file d’attente hello telles que tous les disques hello peuvent être occupés.</span><span class="sxs-lookup"><span data-stu-id="7f74b-683">Therefore, configure hello queue depth such that all hello disks can be busy.</span></span> <span data-ttu-id="7f74b-684">Formule ci-dessous montre comment toodetermine hello profondeur de file d’attente de volumes agrégés par bandes.</span><span class="sxs-lookup"><span data-stu-id="7f74b-684">Formula below shows how toodetermine hello queue depth of striped volumes.</span></span>  
    ![](media/storage-premium-storage-performance/image7.png)

## <a name="throttling"></a><span data-ttu-id="7f74b-685">Limitation</span><span class="sxs-lookup"><span data-stu-id="7f74b-685">Throttling</span></span>
<span data-ttu-id="7f74b-686">Les dispositions de stockage Premium Azure spécifié nombre d’IOPS et le débit en fonction des tailles de machine virtuelle hello et tailles de disque que vous choisissez.</span><span class="sxs-lookup"><span data-stu-id="7f74b-686">Azure Premium Storage provisions specified number of IOPS and Throughput depending on hello VM sizes and disk sizes you choose.</span></span> <span data-ttu-id="7f74b-687">Chaque fois que votre application tente de toodrive e/s ou un débit dépasse ces limites de quel hello machine virtuelle ou un disque peut gérer, il est limité par stockage Premium.</span><span class="sxs-lookup"><span data-stu-id="7f74b-687">Anytime your application tries toodrive IOPS or Throughput above these limits of what hello VM or disk can handle, Premium Storage will throttle it.</span></span> <span data-ttu-id="7f74b-688">Cela se manifeste sous forme de hello de dégradation des performances dans votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-688">This manifests in hello form of degraded performance in your application.</span></span> <span data-ttu-id="7f74b-689">à savoir une latence plus élevée, un débit réduit ou un nombre inférieur d’E/S par seconde.</span><span class="sxs-lookup"><span data-stu-id="7f74b-689">This can mean higher latency, lower Throughput or lower IOPS.</span></span> <span data-ttu-id="7f74b-690">Sans cette limitation, votre application risquerait de planter en demandant plus que ses ressources ne lui permettent d’effectuer.</span><span class="sxs-lookup"><span data-stu-id="7f74b-690">If Premium Storage does not throttle, your application could completely fail by exceeding what its resources are capable of achieving.</span></span> <span data-ttu-id="7f74b-691">Par conséquent, des problèmes en raison de performances de tooavoid toothrottling, toujours configurer suffisamment de ressources pour votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-691">So, tooavoid performance issues due toothrottling, always provision sufficient resources for your application.</span></span> <span data-ttu-id="7f74b-692">Prenez en compte ce que nous avons abordée dans les sections de tailles de disque ci-dessus et les tailles de machine virtuelle hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-692">Take into consideration what we discussed in hello VM sizes and Disk sizes sections above.</span></span> <span data-ttu-id="7f74b-693">Tests de performances est hello meilleure manière toofigure out les ressources auxquelles vous devez toohost votre application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-693">Benchmarking is hello best way toofigure out what resources you will need toohost your application.</span></span>

## <a name="benchmarking"></a><span data-ttu-id="7f74b-694">Benchmarking</span><span class="sxs-lookup"><span data-stu-id="7f74b-694">Benchmarking</span></span>
<span data-ttu-id="7f74b-695">Tests de performances consiste à hello simuler différentes charges de travail sur votre application et de mesurer les performances de l’application hello pour chaque charge de travail.</span><span class="sxs-lookup"><span data-stu-id="7f74b-695">Benchmarking is hello process of simulating different workloads on your application and measuring hello application performance for each workload.</span></span> <span data-ttu-id="7f74b-696">À l’aide des étapes hello décrits dans une section précédente, vous avez rassemblé les exigences de performances d’application hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-696">Using hello steps described in an earlier section, you have gathered hello application performance requirements.</span></span> <span data-ttu-id="7f74b-697">En exécutant des tests de performances outils sur des machines virtuelles de hello hébergeant l’application hello, vous pouvez déterminer les niveaux de performance hello que votre application peut atteindre avec stockage Premium.</span><span class="sxs-lookup"><span data-stu-id="7f74b-697">By running benchmarking tools on hello VMs hosting hello application, you can determine hello performance levels that your application can achieve with Premium Storage.</span></span> <span data-ttu-id="7f74b-698">Dans cette section, nous allons vous fournir des exemples d’un benchmarking effectué sur une machine virtuelle DS14 Standard configurée avec des disques Azure Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="7f74b-698">In this section, we provide you examples of benchmarking a Standard DS14 VM provisioned with Azure Premium Storage disks.</span></span>

<span data-ttu-id="7f74b-699">Nous avons utilisé les outils courants Iometer et FIO, pour Windows et Linux respectivement.</span><span class="sxs-lookup"><span data-stu-id="7f74b-699">We have used common benchmarking tools Iometer and FIO, for Windows and Linux respectively.</span></span> <span data-ttu-id="7f74b-700">Ces outils générer plusieurs threads en simulant une charge de travail et de mesurer les performances système hello en production.</span><span class="sxs-lookup"><span data-stu-id="7f74b-700">These tools spawn multiple threads simulating a production like workload, and measure hello system performance.</span></span> <span data-ttu-id="7f74b-701">À l’aide des outils de hello vous pouvez également configurer des paramètres tels que la profondeur blocs de taille et de la file d’attente, que vous ne pouvez pas normalement modifier pour une application.</span><span class="sxs-lookup"><span data-stu-id="7f74b-701">Using hello tools you can also configure parameters like block size and queue depth, which you normally cannot change for an application.</span></span> <span data-ttu-id="7f74b-702">Cela vous donne davantage de souplesse toodrive hello maximale de performances sur une ordinateur virtuel configuré avec les disques premium pour différents types de charges de travail applicatives à grande échelle.</span><span class="sxs-lookup"><span data-stu-id="7f74b-702">This gives you more flexibility toodrive hello maximum performance on a high scale VM provisioned with premium disks for different types of application workloads.</span></span> <span data-ttu-id="7f74b-703">toolearn plus sur chaque outil de test, visitez [Iometer](http://www.iometer.org/) et [FIO](http://freecode.com/projects/fio).</span><span class="sxs-lookup"><span data-stu-id="7f74b-703">toolearn more about each benchmarking tool visit [Iometer](http://www.iometer.org/) and [FIO](http://freecode.com/projects/fio).</span></span>

<span data-ttu-id="7f74b-704">exemples de hello toofollow ci-dessous, créer une machine virtuelle de DS14 Standard et attacher 11 toohello de disques de stockage Premium machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="7f74b-704">toofollow hello examples below, create a Standard DS14 VM and attach 11 Premium Storage disks toohello VM.</span></span> <span data-ttu-id="7f74b-705">Des disques de hello 11, configurer 10 disques avec l’hôte de la mise en cache en tant que « None » et les distribuer dans un volume appelé NoCacheWrites.</span><span class="sxs-lookup"><span data-stu-id="7f74b-705">Of hello 11 disks, configure 10 disks with host caching as "None" and stripe them into a volume called NoCacheWrites.</span></span> <span data-ttu-id="7f74b-706">Configurer l’hôte de la mise en cache en tant que « ReadOnly » sur le disque restant de hello et créer un volume appelé CacheReads avec ce disque.</span><span class="sxs-lookup"><span data-stu-id="7f74b-706">Configure host caching as "ReadOnly" on hello remaining disk and create a volume called CacheReads with this disk.</span></span> <span data-ttu-id="7f74b-707">À l’aide de ce programme d’installation, vous serez en mesure de toosee hello en lecture et écriture performances maximales à partir d’un ordinateur virtuel DS14 Standard.</span><span class="sxs-lookup"><span data-stu-id="7f74b-707">Using this setup, you will be able toosee hello maximum Read and Write performance from a Standard DS14 VM.</span></span> <span data-ttu-id="7f74b-708">Pour obtenir des instructions détaillées sur la création d’une machine virtuelle DS14 avec disques premium, consultez trop[créer et utiliser un stockage Premium compte pour un disque de données de machine virtuelle](storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="7f74b-708">For detailed steps about creating a DS14 VM with premium disks, go too[Create and use a Premium Storage account for a virtual machine data disk](storage-premium-storage.md).</span></span>

<span data-ttu-id="7f74b-709">*Mise en route hello du Cache*</span><span class="sxs-lookup"><span data-stu-id="7f74b-709">*Warming up hello Cache*</span></span>  
<span data-ttu-id="7f74b-710">disque Hello avec caching d’hôte ReadOnly sera en mesure de toogive IOPS supérieur à la limite de disque hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-710">hello disk with ReadOnly host caching will be able toogive higher IOPS than hello disk limit.</span></span> <span data-ttu-id="7f74b-711">tooget ce maximum les performances de lecture à partir du cache d’hôte hello, tout d’abord vous devez préchauffage cache hello de ce disque.</span><span class="sxs-lookup"><span data-stu-id="7f74b-711">tooget this maximum read performance from hello host cache, first you must warm up hello cache of this disk.</span></span> <span data-ttu-id="7f74b-712">Cela garantit que hello IOs en lecture quel outil de test dirige sur CacheReads volume réellement atteint cache de hello et de disque de hello pas directement.</span><span class="sxs-lookup"><span data-stu-id="7f74b-712">This ensures that hello Read IOs which benchmarking tool will drive on CacheReads volume actually hits hello cache and not hello disk directly.</span></span> <span data-ttu-id="7f74b-713">résultat de présences dans le cache Hello dans les e/s supplémentaires à partir du cache d’unique hello activé disque.</span><span class="sxs-lookup"><span data-stu-id="7f74b-713">hello cache hits result in additional IOPS from hello single cache enabled disk.</span></span>

> <span data-ttu-id="7f74b-714">**Important :**</span><span class="sxs-lookup"><span data-stu-id="7f74b-714">**Important:**</span></span>  
> <span data-ttu-id="7f74b-715">Vous devez préchauffage du cache de hello avant d’exécuter des tests de performances, chaque redémarrage de machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="7f74b-715">You must warm up hello cache before running benchmarking, every time VM is rebooted.</span></span>
>
>

#### <a name="iometer"></a><span data-ttu-id="7f74b-716">Iometer</span><span class="sxs-lookup"><span data-stu-id="7f74b-716">Iometer</span></span>
<span data-ttu-id="7f74b-717">[Télécharger l’outil de Iometer hello](http://sourceforge.net/projects/iometer/files/iometer-stable/2006-07-27/iometer-2006.07.27.win32.i386-setup.exe/download) sur hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="7f74b-717">[Download hello Iometer tool](http://sourceforge.net/projects/iometer/files/iometer-stable/2006-07-27/iometer-2006.07.27.win32.i386-setup.exe/download) on hello VM.</span></span>

<span data-ttu-id="7f74b-718">*Fichier de test*</span><span class="sxs-lookup"><span data-stu-id="7f74b-718">*Test file*</span></span>  
<span data-ttu-id="7f74b-719">Iometer utilise un fichier de test qui est stocké sur le volume hello sur lequel vous allez exécuter hello test des tests de performances.</span><span class="sxs-lookup"><span data-stu-id="7f74b-719">Iometer uses a test file that is stored on hello volume on which you will run hello benchmarking test.</span></span> <span data-ttu-id="7f74b-720">Lecteurs de lectures et écritures sur ce test disque hello toomeasure IOPS et le débit.</span><span class="sxs-lookup"><span data-stu-id="7f74b-720">It drives Reads and Writes on this test file toomeasure hello disk IOPS and Throughput.</span></span> <span data-ttu-id="7f74b-721">Iometer crée ce fichier de test si vous n’en avez pas fourni.</span><span class="sxs-lookup"><span data-stu-id="7f74b-721">Iometer creates this test file if you have not provided one.</span></span> <span data-ttu-id="7f74b-722">Créer un fichier de test de 200 Go appelé iobw.tst sur des volumes CacheReads et NoCacheWrites hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-722">Create a 200GB test file called iobw.tst on hello CacheReads and NoCacheWrites volumes.</span></span>

<span data-ttu-id="7f74b-723">*Spécifications d’accès*</span><span class="sxs-lookup"><span data-stu-id="7f74b-723">*Access Specifications*</span></span>  
<span data-ttu-id="7f74b-724">Hello, spécifications de taille de la demande d’e/s, % en lecture/écriture, % aléatoire/séquentiel configurés à l’aide d’onglet de « Spécifications d’accès » hello dans Iometer.</span><span class="sxs-lookup"><span data-stu-id="7f74b-724">hello specifications, request IO size, % read/write, % random/sequential are configured using hello "Access Specifications" tab in Iometer.</span></span> <span data-ttu-id="7f74b-725">Créer une spécification de l’accès pour chacun des scénarios hello décrits ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="7f74b-725">Create an access specification for each of hello scenarios described below.</span></span> <span data-ttu-id="7f74b-726">Créer des spécifications d’accès hello et « Enregistrer » avec un nom similaire – RandomWrites\_8K, RandomReads\_8 Ko.</span><span class="sxs-lookup"><span data-stu-id="7f74b-726">Create hello access specifications and "Save" with an appropriate name like – RandomWrites\_8K, RandomReads\_8K.</span></span> <span data-ttu-id="7f74b-727">Sélectionnez la spécification correspondante de hello lors de l’exécution du scénario de test de hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-727">Select hello corresponding specification when running hello test scenario.</span></span>

<span data-ttu-id="7f74b-728">Vous trouverez ci-dessous un exemple de spécifications d’accès pour un scénario d’E/S en écriture maximales.</span><span class="sxs-lookup"><span data-stu-id="7f74b-728">An example of access specifications for maximum Write IOPS scenario is shown below,</span></span>  
    ![](media/storage-premium-storage-performance/image8.png)

<span data-ttu-id="7f74b-729">*Spécifications de test du taux maximal d’E/S par seconde*</span><span class="sxs-lookup"><span data-stu-id="7f74b-729">*Maximum IOPS Test Specifications*</span></span>  
<span data-ttu-id="7f74b-730">toodemonstrate maximale IOPs, utilisez la plus petite taille de la demande.</span><span class="sxs-lookup"><span data-stu-id="7f74b-730">toodemonstrate maximum IOPs, use smaller request size.</span></span> <span data-ttu-id="7f74b-731">Utilisez une taille de 8 Ko et créez des spécifications pour les lectures et écritures aléatoires.</span><span class="sxs-lookup"><span data-stu-id="7f74b-731">Use 8K request size and create specifications for Random Writes and Reads.</span></span>

| <span data-ttu-id="7f74b-732">Spécification d’accès</span><span class="sxs-lookup"><span data-stu-id="7f74b-732">Access Specification</span></span> | <span data-ttu-id="7f74b-733">Taille de la demande</span><span class="sxs-lookup"><span data-stu-id="7f74b-733">Request size</span></span> | <span data-ttu-id="7f74b-734">% aléatoire</span><span class="sxs-lookup"><span data-stu-id="7f74b-734">Random %</span></span> | <span data-ttu-id="7f74b-735">% écriture</span><span class="sxs-lookup"><span data-stu-id="7f74b-735">Read %</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="7f74b-736">RandomWrites\_8K</span><span class="sxs-lookup"><span data-stu-id="7f74b-736">RandomWrites\_8K</span></span> |<span data-ttu-id="7f74b-737">8 Ko</span><span class="sxs-lookup"><span data-stu-id="7f74b-737">8K</span></span> |<span data-ttu-id="7f74b-738">100</span><span class="sxs-lookup"><span data-stu-id="7f74b-738">100</span></span> |<span data-ttu-id="7f74b-739">0</span><span class="sxs-lookup"><span data-stu-id="7f74b-739">0</span></span> |
| <span data-ttu-id="7f74b-740">RandomReads\_8K</span><span class="sxs-lookup"><span data-stu-id="7f74b-740">RandomReads\_8K</span></span> |<span data-ttu-id="7f74b-741">8 Ko</span><span class="sxs-lookup"><span data-stu-id="7f74b-741">8K</span></span> |<span data-ttu-id="7f74b-742">100</span><span class="sxs-lookup"><span data-stu-id="7f74b-742">100</span></span> |<span data-ttu-id="7f74b-743">100</span><span class="sxs-lookup"><span data-stu-id="7f74b-743">100</span></span> |

<span data-ttu-id="7f74b-744">*Spécifications de test du débit maximal*</span><span class="sxs-lookup"><span data-stu-id="7f74b-744">*Maximum Throughput Test Specifications*</span></span>  
<span data-ttu-id="7f74b-745">toodemonstrate débit maximal, utilisent la plus grande taille de demande.</span><span class="sxs-lookup"><span data-stu-id="7f74b-745">toodemonstrate maximum Throughput, use larger request size.</span></span> <span data-ttu-id="7f74b-746">Utilisez une taille de requête 64 K et créez des spécifications pour les lectures et écritures aléatoires.</span><span class="sxs-lookup"><span data-stu-id="7f74b-746">Use 64K request size and create specifications for Random Writes and Reads.</span></span>

| <span data-ttu-id="7f74b-747">Spécification d’accès</span><span class="sxs-lookup"><span data-stu-id="7f74b-747">Access Specification</span></span> | <span data-ttu-id="7f74b-748">Taille de la demande</span><span class="sxs-lookup"><span data-stu-id="7f74b-748">Request size</span></span> | <span data-ttu-id="7f74b-749">% aléatoire</span><span class="sxs-lookup"><span data-stu-id="7f74b-749">Random %</span></span> | <span data-ttu-id="7f74b-750">% écriture</span><span class="sxs-lookup"><span data-stu-id="7f74b-750">Read %</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="7f74b-751">RandomWrites\_64K</span><span class="sxs-lookup"><span data-stu-id="7f74b-751">RandomWrites\_64K</span></span> |<span data-ttu-id="7f74b-752">64 Ko</span><span class="sxs-lookup"><span data-stu-id="7f74b-752">64K</span></span> |<span data-ttu-id="7f74b-753">100</span><span class="sxs-lookup"><span data-stu-id="7f74b-753">100</span></span> |<span data-ttu-id="7f74b-754">0</span><span class="sxs-lookup"><span data-stu-id="7f74b-754">0</span></span> |
| <span data-ttu-id="7f74b-755">RandomReads\_64K</span><span class="sxs-lookup"><span data-stu-id="7f74b-755">RandomReads\_64K</span></span> |<span data-ttu-id="7f74b-756">64 Ko</span><span class="sxs-lookup"><span data-stu-id="7f74b-756">64K</span></span> |<span data-ttu-id="7f74b-757">100</span><span class="sxs-lookup"><span data-stu-id="7f74b-757">100</span></span> |<span data-ttu-id="7f74b-758">100</span><span class="sxs-lookup"><span data-stu-id="7f74b-758">100</span></span> |

<span data-ttu-id="7f74b-759">*Hello Iometer Test en cours d’exécution*</span><span class="sxs-lookup"><span data-stu-id="7f74b-759">*Running hello Iometer Test*</span></span>  
<span data-ttu-id="7f74b-760">Effectuez les opérations hello ci-dessous toowarm cache</span><span class="sxs-lookup"><span data-stu-id="7f74b-760">Perform hello steps below toowarm up cache</span></span>

1. <span data-ttu-id="7f74b-761">Créez deux spécifications d’accès avec les valeurs indiquées ci-dessous</span><span class="sxs-lookup"><span data-stu-id="7f74b-761">Create two access specifications with values shown below,</span></span>

   | <span data-ttu-id="7f74b-762">Nom</span><span class="sxs-lookup"><span data-stu-id="7f74b-762">Name</span></span> | <span data-ttu-id="7f74b-763">Taille de la demande</span><span class="sxs-lookup"><span data-stu-id="7f74b-763">Request size</span></span> | <span data-ttu-id="7f74b-764">% aléatoire</span><span class="sxs-lookup"><span data-stu-id="7f74b-764">Random %</span></span> | <span data-ttu-id="7f74b-765">% écriture</span><span class="sxs-lookup"><span data-stu-id="7f74b-765">Read %</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="7f74b-766">RandomWrites\_1MB</span><span class="sxs-lookup"><span data-stu-id="7f74b-766">RandomWrites\_1MB</span></span> |<span data-ttu-id="7f74b-767">1 Mo</span><span class="sxs-lookup"><span data-stu-id="7f74b-767">1MB</span></span> |<span data-ttu-id="7f74b-768">100</span><span class="sxs-lookup"><span data-stu-id="7f74b-768">100</span></span> |<span data-ttu-id="7f74b-769">0</span><span class="sxs-lookup"><span data-stu-id="7f74b-769">0</span></span> |
   | <span data-ttu-id="7f74b-770">RandomReads\_1MB</span><span class="sxs-lookup"><span data-stu-id="7f74b-770">RandomReads\_1MB</span></span> |<span data-ttu-id="7f74b-771">1 Mo</span><span class="sxs-lookup"><span data-stu-id="7f74b-771">1MB</span></span> |<span data-ttu-id="7f74b-772">100</span><span class="sxs-lookup"><span data-stu-id="7f74b-772">100</span></span> |<span data-ttu-id="7f74b-773">100</span><span class="sxs-lookup"><span data-stu-id="7f74b-773">100</span></span> |
2. <span data-ttu-id="7f74b-774">Exécutez test de Iometer hello pour l’initialisation du cache disque avec les paramètres suivants.</span><span class="sxs-lookup"><span data-stu-id="7f74b-774">Run hello Iometer test for initializing cache disk with following parameters.</span></span> <span data-ttu-id="7f74b-775">Utilisez trois threads de travail pour le volume cible hello et une profondeur de file d’attente de 128.</span><span class="sxs-lookup"><span data-stu-id="7f74b-775">Use three worker threads for hello target volume and a queue depth of 128.</span></span> <span data-ttu-id="7f74b-776">Définir hello « Exécution » la durée de too2hrs de test hello sur l’onglet de « Tester le programme d’installation » hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-776">Set hello "Run time" duration of hello test too2hrs on hello "Test Setup" tab.</span></span>

   | <span data-ttu-id="7f74b-777">Scénario</span><span class="sxs-lookup"><span data-stu-id="7f74b-777">Scenario</span></span> | <span data-ttu-id="7f74b-778">Volume cible</span><span class="sxs-lookup"><span data-stu-id="7f74b-778">Target Volume</span></span> | <span data-ttu-id="7f74b-779">Nom</span><span class="sxs-lookup"><span data-stu-id="7f74b-779">Name</span></span> | <span data-ttu-id="7f74b-780">Durée</span><span class="sxs-lookup"><span data-stu-id="7f74b-780">Duration</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="7f74b-781">Initialisation du disque de cache</span><span class="sxs-lookup"><span data-stu-id="7f74b-781">Initialize Cache Disk</span></span> |<span data-ttu-id="7f74b-782">CacheReads</span><span class="sxs-lookup"><span data-stu-id="7f74b-782">CacheReads</span></span> |<span data-ttu-id="7f74b-783">RandomWrites\_1MB</span><span class="sxs-lookup"><span data-stu-id="7f74b-783">RandomWrites\_1MB</span></span> |<span data-ttu-id="7f74b-784">2 heures</span><span class="sxs-lookup"><span data-stu-id="7f74b-784">2hrs</span></span> |
3. <span data-ttu-id="7f74b-785">Exécutez test de Iometer hello pour le préchargement dans le disque de cache avec les paramètres suivants.</span><span class="sxs-lookup"><span data-stu-id="7f74b-785">Run hello Iometer test for warming up cache disk with following parameters.</span></span> <span data-ttu-id="7f74b-786">Utilisez trois threads de travail pour le volume cible hello et une profondeur de file d’attente de 128.</span><span class="sxs-lookup"><span data-stu-id="7f74b-786">Use three worker threads for hello target volume and a queue depth of 128.</span></span> <span data-ttu-id="7f74b-787">Définir hello « Exécution » la durée de too2hrs de test hello sur l’onglet de « Tester le programme d’installation » hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-787">Set hello "Run time" duration of hello test too2hrs on hello "Test Setup" tab.</span></span>

   | <span data-ttu-id="7f74b-788">Scénario</span><span class="sxs-lookup"><span data-stu-id="7f74b-788">Scenario</span></span> | <span data-ttu-id="7f74b-789">Volume cible</span><span class="sxs-lookup"><span data-stu-id="7f74b-789">Target Volume</span></span> | <span data-ttu-id="7f74b-790">Nom</span><span class="sxs-lookup"><span data-stu-id="7f74b-790">Name</span></span> | <span data-ttu-id="7f74b-791">Durée</span><span class="sxs-lookup"><span data-stu-id="7f74b-791">Duration</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="7f74b-792">Préchauffage du disque de cache</span><span class="sxs-lookup"><span data-stu-id="7f74b-792">Warm up Cache Disk</span></span> |<span data-ttu-id="7f74b-793">CacheReads</span><span class="sxs-lookup"><span data-stu-id="7f74b-793">CacheReads</span></span> |<span data-ttu-id="7f74b-794">RandomReads\_1MB</span><span class="sxs-lookup"><span data-stu-id="7f74b-794">RandomReads\_1MB</span></span> |<span data-ttu-id="7f74b-795">2 heures</span><span class="sxs-lookup"><span data-stu-id="7f74b-795">2hrs</span></span> |

<span data-ttu-id="7f74b-796">Une fois le cache disque est préparée, procéder à des scénarios de test hello répertoriées ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="7f74b-796">After cache disk is warmed up, proceed with hello test scenarios listed below.</span></span> <span data-ttu-id="7f74b-797">toorun hello Iometer test, utilisez au moins trois des threads de travail pour **chaque** volume cible.</span><span class="sxs-lookup"><span data-stu-id="7f74b-797">toorun hello Iometer test, use at least three worker threads for **each** target volume.</span></span> <span data-ttu-id="7f74b-798">Pour chaque thread de travail, sélectionnez le volume cible hello, définissez une profondeur de file d’attente et sélectionnez une des caractéristiques de test hello enregistré, comme indiqué dans la table hello ci-dessous, le scénario de test correspondant toorun hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-798">For each worker thread, select hello target volume, set queue depth and select one of hello saved test specifications, as shown in hello table below, toorun hello corresponding test scenario.</span></span> <span data-ttu-id="7f74b-799">table de Hello montre également les résultats attendus pour e/s et un débit lors de l’exécution de ces tests.</span><span class="sxs-lookup"><span data-stu-id="7f74b-799">hello table also shows expected results for IOPS and Throughput when running these tests.</span></span> <span data-ttu-id="7f74b-800">Pour tous les scénarios, une petite taille d’E/S de 8 Ko et une profondeur de file d’attente élevée de 128 sont utilisées.</span><span class="sxs-lookup"><span data-stu-id="7f74b-800">For all scenarios, a small IO size of 8KB and a high queue depth of 128 is used.</span></span>

| <span data-ttu-id="7f74b-801">Scénario de test</span><span class="sxs-lookup"><span data-stu-id="7f74b-801">Test Scenario</span></span> | <span data-ttu-id="7f74b-802">Volume cible</span><span class="sxs-lookup"><span data-stu-id="7f74b-802">Target Volume</span></span> | <span data-ttu-id="7f74b-803">Nom</span><span class="sxs-lookup"><span data-stu-id="7f74b-803">Name</span></span> | <span data-ttu-id="7f74b-804">Résultat</span><span class="sxs-lookup"><span data-stu-id="7f74b-804">Result</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="7f74b-805">Bande passante</span><span class="sxs-lookup"><span data-stu-id="7f74b-805">Max.</span></span> <span data-ttu-id="7f74b-806">E/S par seconde en lecture</span><span class="sxs-lookup"><span data-stu-id="7f74b-806">Read IOPS</span></span> |<span data-ttu-id="7f74b-807">CacheReads</span><span class="sxs-lookup"><span data-stu-id="7f74b-807">CacheReads</span></span> |<span data-ttu-id="7f74b-808">RandomWrites\_8K</span><span class="sxs-lookup"><span data-stu-id="7f74b-808">RandomWrites\_8K</span></span> |<span data-ttu-id="7f74b-809">50 000 E/S par seconde </span><span class="sxs-lookup"><span data-stu-id="7f74b-809">50,000 IOPS</span></span> |
| <span data-ttu-id="7f74b-810">Bande passante</span><span class="sxs-lookup"><span data-stu-id="7f74b-810">Max.</span></span> <span data-ttu-id="7f74b-811">E/S par seconde en écriture</span><span class="sxs-lookup"><span data-stu-id="7f74b-811">Write IOPS</span></span> |<span data-ttu-id="7f74b-812">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="7f74b-812">NoCacheWrites</span></span> |<span data-ttu-id="7f74b-813">RandomReads\_8K</span><span class="sxs-lookup"><span data-stu-id="7f74b-813">RandomReads\_8K</span></span> |<span data-ttu-id="7f74b-814">64 000 E/S par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-814">64,000 IOPS</span></span> |
| <span data-ttu-id="7f74b-815">Bande passante</span><span class="sxs-lookup"><span data-stu-id="7f74b-815">Max.</span></span> <span data-ttu-id="7f74b-816">Taux d’E/S par seconde combiné</span><span class="sxs-lookup"><span data-stu-id="7f74b-816">Combined IOPS</span></span> |<span data-ttu-id="7f74b-817">CacheReads</span><span class="sxs-lookup"><span data-stu-id="7f74b-817">CacheReads</span></span> |<span data-ttu-id="7f74b-818">RandomWrites\_8K</span><span class="sxs-lookup"><span data-stu-id="7f74b-818">RandomWrites\_8K</span></span> |<span data-ttu-id="7f74b-819">100 000 E/S par seconde</span><span class="sxs-lookup"><span data-stu-id="7f74b-819">100,000 IOPS</span></span> |
| <span data-ttu-id="7f74b-820">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="7f74b-820">NoCacheWrites</span></span> |<span data-ttu-id="7f74b-821">RandomReads\_8K</span><span class="sxs-lookup"><span data-stu-id="7f74b-821">RandomReads\_8K</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="7f74b-822">Bande passante</span><span class="sxs-lookup"><span data-stu-id="7f74b-822">Max.</span></span> <span data-ttu-id="7f74b-823">Mo/s en lecture</span><span class="sxs-lookup"><span data-stu-id="7f74b-823">Read MB/sec</span></span> |<span data-ttu-id="7f74b-824">CacheReads</span><span class="sxs-lookup"><span data-stu-id="7f74b-824">CacheReads</span></span> |<span data-ttu-id="7f74b-825">RandomWrites\_64K</span><span class="sxs-lookup"><span data-stu-id="7f74b-825">RandomWrites\_64K</span></span> |<span data-ttu-id="7f74b-826">524 Mo/s</span><span class="sxs-lookup"><span data-stu-id="7f74b-826">524 MB/sec</span></span> |
| <span data-ttu-id="7f74b-827">Bande passante</span><span class="sxs-lookup"><span data-stu-id="7f74b-827">Max.</span></span> <span data-ttu-id="7f74b-828">Mo/s en écriture</span><span class="sxs-lookup"><span data-stu-id="7f74b-828">Write MB/sec</span></span> |<span data-ttu-id="7f74b-829">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="7f74b-829">NoCacheWrites</span></span> |<span data-ttu-id="7f74b-830">RandomReads\_64K</span><span class="sxs-lookup"><span data-stu-id="7f74b-830">RandomReads\_64K</span></span> |<span data-ttu-id="7f74b-831">524 Mo/s</span><span class="sxs-lookup"><span data-stu-id="7f74b-831">524 MB/sec</span></span> |
| <span data-ttu-id="7f74b-832">Mo/s combiné</span><span class="sxs-lookup"><span data-stu-id="7f74b-832">Combined MB/sec</span></span> |<span data-ttu-id="7f74b-833">CacheReads</span><span class="sxs-lookup"><span data-stu-id="7f74b-833">CacheReads</span></span> |<span data-ttu-id="7f74b-834">RandomWrites\_64K</span><span class="sxs-lookup"><span data-stu-id="7f74b-834">RandomWrites\_64K</span></span> |<span data-ttu-id="7f74b-835">1 000 Mo/s</span><span class="sxs-lookup"><span data-stu-id="7f74b-835">1000 MB/sec</span></span> |
| <span data-ttu-id="7f74b-836">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="7f74b-836">NoCacheWrites</span></span> |<span data-ttu-id="7f74b-837">RandomReads\_64K</span><span class="sxs-lookup"><span data-stu-id="7f74b-837">RandomReads\_64K</span></span> | &nbsp; | &nbsp; |

<span data-ttu-id="7f74b-838">Vous trouverez ci-dessous des captures d’écran de hello Iometer les résultats de test pour des scénarios de débit et des IOPS combinés.</span><span class="sxs-lookup"><span data-stu-id="7f74b-838">Below are screenshots of hello Iometer test results for combined IOPS and Throughput scenarios.</span></span>

<span data-ttu-id="7f74b-839">*Taux d’E/S maximal combiné en lecture et en écriture*</span><span class="sxs-lookup"><span data-stu-id="7f74b-839">*Combined Reads and Writes Maximum IOPS*</span></span>  
![](media/storage-premium-storage-performance/image9.png)

<span data-ttu-id="7f74b-840">*Débit maximal combiné en lecture et en écriture*</span><span class="sxs-lookup"><span data-stu-id="7f74b-840">*Combined Reads and Writes Maximum Throughput*</span></span>  
![](media/storage-premium-storage-performance/image10.png)

### <a name="fio"></a><span data-ttu-id="7f74b-841">FIO</span><span class="sxs-lookup"><span data-stu-id="7f74b-841">FIO</span></span>
<span data-ttu-id="7f74b-842">FIO est un stockage de toobenchmark outil populaire sur hello les machines virtuelles Linux.</span><span class="sxs-lookup"><span data-stu-id="7f74b-842">FIO is a popular tool toobenchmark storage on hello Linux VMs.</span></span> <span data-ttu-id="7f74b-843">Il a des tailles différentes e/s hello flexibilité tooselect, séquentiels ou aléatoires des lectures et écritures.</span><span class="sxs-lookup"><span data-stu-id="7f74b-843">It has hello flexibility tooselect different IO sizes, sequential or random reads and writes.</span></span> <span data-ttu-id="7f74b-844">Il génère des threads de travail ou hello tooperform de processus spécifié les opérations d’e/s.</span><span class="sxs-lookup"><span data-stu-id="7f74b-844">It spawns worker threads or processes tooperform hello specified I/O operations.</span></span> <span data-ttu-id="7f74b-845">Vous pouvez spécifier le type hello d’opérations d’e/s que chaque thread de travail doit effectuer à l’aide de fichiers de travail.</span><span class="sxs-lookup"><span data-stu-id="7f74b-845">You can specify hello type of I/O operations each worker thread must perform using job files.</span></span> <span data-ttu-id="7f74b-846">Nous avons créé un fichier de travail par le scénario illustré dans les exemples hello ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="7f74b-846">We created one job file per scenario illustrated in hello examples below.</span></span> <span data-ttu-id="7f74b-847">Vous pouvez modifier les spécifications de hello dans ces travaux fichiers toobenchmark différentes charges de travail en cours d’exécution sur le stockage Premium.</span><span class="sxs-lookup"><span data-stu-id="7f74b-847">You can change hello specifications in these job files toobenchmark different workloads running on Premium Storage.</span></span> <span data-ttu-id="7f74b-848">Dans les exemples hello, nous utilisons une exécution Standard pour machine virtuelle 14 DS **Ubuntu**.</span><span class="sxs-lookup"><span data-stu-id="7f74b-848">In hello examples, we are using a Standard DS 14 VM running **Ubuntu**.</span></span> <span data-ttu-id="7f74b-849">Hello d’utiliser le programme d’installation même décrit début hello Hello [section des tests de performances](#Benchmarking) et préchauffage cache hello avant d’exécuter des tests des tests de performances de hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-849">Use hello same setup described in hello beginning of hello [Benchmarking section](#Benchmarking) and warm up hello cache before running hello benchmarking tests.</span></span>

<span data-ttu-id="7f74b-850">Avant de commencer, [téléchargez FIO](https://github.com/axboe/fio) et installez-le sur votre machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="7f74b-850">Before you begin, [download FIO](https://github.com/axboe/fio) and install it on your virtual machine.</span></span>

<span data-ttu-id="7f74b-851">Exécutez hello de commande suivante pour Ubuntu,</span><span class="sxs-lookup"><span data-stu-id="7f74b-851">Run hello following command for Ubuntu,</span></span>

```
apt-get install fio
```

<span data-ttu-id="7f74b-852">Nous allons utiliser quatre threads de travail de commande d’opérations d’écriture et de quatre threads de travail pour la conduite des opérations de lecture sur des disques hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-852">We will use four worker threads for driving Write operations and four worker threads for driving Read operations on hello disks.</span></span> <span data-ttu-id="7f74b-853">Hello travailleurs de l’écriture seront être gèrent le trafic sur le volume hello « nocache », ce qui a 10 disques avec le cache défini trop « None ».</span><span class="sxs-lookup"><span data-stu-id="7f74b-853">hello Write workers will be driving traffic on hello "nocache" volume, which has 10 disks with cache set too"None".</span></span> <span data-ttu-id="7f74b-854">Hello threads de travail en lecture seront être gérant le trafic sur le volume hello « readcache », qui a 1 disque avec le jeu de cache trop « ReadOnly ».</span><span class="sxs-lookup"><span data-stu-id="7f74b-854">hello Read workers will be driving traffic on hello "readcache" volume, which has 1 disk with cache set too"ReadOnly".</span></span>

<span data-ttu-id="7f74b-855">*Taux d’E/S par seconde maximal en écriture*</span><span class="sxs-lookup"><span data-stu-id="7f74b-855">*Maximum Write IOPS*</span></span>  
<span data-ttu-id="7f74b-856">Créer un fichier de travail hello avec tooget de spécifications suivantes maxi. d’écriture.</span><span class="sxs-lookup"><span data-stu-id="7f74b-856">Create hello job file with following specifications tooget maximum Write IOPS.</span></span> <span data-ttu-id="7f74b-857">Nommez ce fichier « fiowrite.ini ».</span><span class="sxs-lookup"><span data-stu-id="7f74b-857">Name it "fiowrite.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=256
ioengine=libaio
bs=8k

[writer1]
rw=randwrite
directory=/mnt/nocache
[writer2]
rw=randwrite
directory=/mnt/nocache
[writer3]
rw=randwrite
directory=/mnt/nocache
[writer4]
rw=randwrite
directory=/mnt/nocache
```

<span data-ttu-id="7f74b-858">Hello de Remarque Suivez les informations essentielles qui respectent les règles de conception hello présentées dans les sections précédentes.</span><span class="sxs-lookup"><span data-stu-id="7f74b-858">Note hello follow key things that are in line with hello design guidelines discussed in previous sections.</span></span> <span data-ttu-id="7f74b-859">Ces spécifications sont essentiel toodrive nombre maximal d’IOPS,</span><span class="sxs-lookup"><span data-stu-id="7f74b-859">These specifications are essential toodrive maximum IOPS,</span></span>  

* <span data-ttu-id="7f74b-860">Une profondeur de file d’attente élevée de 256.</span><span class="sxs-lookup"><span data-stu-id="7f74b-860">A high queue depth of 256.</span></span>  
* <span data-ttu-id="7f74b-861">Une petite taille de bloc de 8 Ko.</span><span class="sxs-lookup"><span data-stu-id="7f74b-861">A small block size of 8KB.</span></span>  
* <span data-ttu-id="7f74b-862">Plusieurs threads effectuant des écritures aléatoires.</span><span class="sxs-lookup"><span data-stu-id="7f74b-862">Multiple threads performing random writes.</span></span>

<span data-ttu-id="7f74b-863">Exécutez hello suivant tookick commande off hello FIO vérifier la présence de 30 secondes,</span><span class="sxs-lookup"><span data-stu-id="7f74b-863">Run hello following command tookick off hello FIO test for 30 seconds,</span></span>  

```
sudo fio --runtime 30 fiowrite.ini
```

<span data-ttu-id="7f74b-864">Pendant l’exécution de test de hello, vous serez nombre de hello toosee en mesure de remettre des disques de machine virtuelle et Premium de hello e/s d’écriture.</span><span class="sxs-lookup"><span data-stu-id="7f74b-864">While hello test runs, you will be able toosee hello number of write IOPS hello VM and Premium disks are delivering.</span></span> <span data-ttu-id="7f74b-865">Comme indiqué dans l’exemple hello ci-dessous, hello DS14 VM propose sa limite d’e/s de 50 000 IOPS maximale d’écriture.</span><span class="sxs-lookup"><span data-stu-id="7f74b-865">As shown in hello sample below, hello DS14 VM is delivering its maximum write IOPS limit of 50,000 IOPS.</span></span>  
    ![](media/storage-premium-storage-performance/image11.png)

<span data-ttu-id="7f74b-866">*Taux d’E/S par seconde maximal en lecture*</span><span class="sxs-lookup"><span data-stu-id="7f74b-866">*Maximum Read IOPS*</span></span>  
<span data-ttu-id="7f74b-867">Créer un fichier de travail hello avec tooget de spécifications suivantes IOPS maximales qu’en lecture.</span><span class="sxs-lookup"><span data-stu-id="7f74b-867">Create hello job file with following specifications tooget maximum Read IOPS.</span></span> <span data-ttu-id="7f74b-868">Nommez ce fichier « fioread.ini ».</span><span class="sxs-lookup"><span data-stu-id="7f74b-868">Name it "fioread.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=256
ioengine=libaio
bs=8k

[reader1]
rw=randread
directory=/mnt/readcache
[reader2]
rw=randread
directory=/mnt/readcache
[reader3]
rw=randread
directory=/mnt/readcache
[reader4]
rw=randread
directory=/mnt/readcache
```

<span data-ttu-id="7f74b-869">Hello de Remarque Suivez les informations essentielles qui respectent les règles de conception hello présentées dans les sections précédentes.</span><span class="sxs-lookup"><span data-stu-id="7f74b-869">Note hello follow key things that are in line with hello design guidelines discussed in previous sections.</span></span> <span data-ttu-id="7f74b-870">Ces spécifications sont essentiel toodrive nombre maximal d’IOPS,</span><span class="sxs-lookup"><span data-stu-id="7f74b-870">These specifications are essential toodrive maximum IOPS,</span></span>

* <span data-ttu-id="7f74b-871">Une profondeur de file d’attente élevée de 256.</span><span class="sxs-lookup"><span data-stu-id="7f74b-871">A high queue depth of 256.</span></span>  
* <span data-ttu-id="7f74b-872">Une petite taille de bloc de 8 Ko.</span><span class="sxs-lookup"><span data-stu-id="7f74b-872">A small block size of 8KB.</span></span>  
* <span data-ttu-id="7f74b-873">Plusieurs threads effectuant des écritures aléatoires.</span><span class="sxs-lookup"><span data-stu-id="7f74b-873">Multiple threads performing random writes.</span></span>

<span data-ttu-id="7f74b-874">Exécutez hello suivant tookick commande off hello FIO vérifier la présence de 30 secondes,</span><span class="sxs-lookup"><span data-stu-id="7f74b-874">Run hello following command tookick off hello FIO test for 30 seconds,</span></span>

```
sudo fio --runtime 30 fioread.ini
```

<span data-ttu-id="7f74b-875">Pendant l’exécution de test de hello, vous serez nombre de hello toosee en mesure de lecture e/s hello VM et remettre des disques Premium.</span><span class="sxs-lookup"><span data-stu-id="7f74b-875">While hello test runs, you will be able toosee hello number of read IOPS hello VM and Premium disks are delivering.</span></span> <span data-ttu-id="7f74b-876">Comme indiqué dans l’exemple hello ci-dessous, hello DS14 VM offre plus de 64 000 e/s de lecture.</span><span class="sxs-lookup"><span data-stu-id="7f74b-876">As shown in hello sample below, hello DS14 VM is delivering more than 64,000 Read IOPS.</span></span> <span data-ttu-id="7f74b-877">Il s’agit d’une combinaison de disque de hello et les performances du cache hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-877">This is a combination of hello disk and hello cache performance.</span></span>  
    ![](media/storage-premium-storage-performance/image12.png)

<span data-ttu-id="7f74b-878">*Taux d’E/S par seconde maximal en lecture et en écriture*</span><span class="sxs-lookup"><span data-stu-id="7f74b-878">*Maximum Read and Write IOPS*</span></span>  
<span data-ttu-id="7f74b-879">Créer le fichier de travail hello avec suivant tooget spécifications maximale combinées en lecture et écriture des e/s.</span><span class="sxs-lookup"><span data-stu-id="7f74b-879">Create hello job file with following specifications tooget maximum combined Read and Write IOPS.</span></span> <span data-ttu-id="7f74b-880">Nommez ce fichier « fioreadwrite.ini ».</span><span class="sxs-lookup"><span data-stu-id="7f74b-880">Name it "fioreadwrite.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=128
ioengine=libaio
bs=4k

[reader1]
rw=randread
directory=/mnt/readcache
[reader2]
rw=randread
directory=/mnt/readcache
[reader3]
rw=randread
directory=/mnt/readcache
[reader4]
rw=randread
directory=/mnt/readcache

[writer1]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer2]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer3]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer4]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
```

<span data-ttu-id="7f74b-881">Hello de Remarque Suivez les informations essentielles qui respectent les règles de conception hello présentées dans les sections précédentes.</span><span class="sxs-lookup"><span data-stu-id="7f74b-881">Note hello follow key things that are in line with hello design guidelines discussed in previous sections.</span></span> <span data-ttu-id="7f74b-882">Ces spécifications sont essentiel toodrive nombre maximal d’IOPS,</span><span class="sxs-lookup"><span data-stu-id="7f74b-882">These specifications are essential toodrive maximum IOPS,</span></span>

* <span data-ttu-id="7f74b-883">Une profondeur de file d’attente élevée de 128.</span><span class="sxs-lookup"><span data-stu-id="7f74b-883">A high queue depth of 128.</span></span>  
* <span data-ttu-id="7f74b-884">Une petite taille de bloc de 4 Ko.</span><span class="sxs-lookup"><span data-stu-id="7f74b-884">A small block size of 4KB.</span></span>  
* <span data-ttu-id="7f74b-885">Plusieurs threads effectuant des opérations d’écriture et de lecture aléatoires.</span><span class="sxs-lookup"><span data-stu-id="7f74b-885">Multiple threads performing random reads and writes.</span></span>

<span data-ttu-id="7f74b-886">Exécutez hello suivant tookick commande off hello FIO vérifier la présence de 30 secondes,</span><span class="sxs-lookup"><span data-stu-id="7f74b-886">Run hello following command tookick off hello FIO test for 30 seconds,</span></span>

```
sudo fio --runtime 30 fioreadwrite.ini
```

<span data-ttu-id="7f74b-887">Pendant l’exécution de test de hello, vous toosee en mesure de hello quantité, combiné en lecture et écriture IOPS hello de machine virtuelle et de livrer des disques Premium.</span><span class="sxs-lookup"><span data-stu-id="7f74b-887">While hello test runs, you will be able toosee hello number of combined read and write IOPS hello VM and Premium disks are delivering.</span></span> <span data-ttu-id="7f74b-888">Comme indiqué dans l’exemple hello ci-dessous, hello DS14 VM offre plus de 100 000 lecture combinée et écrire les e/s.</span><span class="sxs-lookup"><span data-stu-id="7f74b-888">As shown in hello sample below, hello DS14 VM is delivering more than 100,000 combined Read and Write IOPS.</span></span> <span data-ttu-id="7f74b-889">Il s’agit d’une combinaison de disque de hello et les performances du cache hello.</span><span class="sxs-lookup"><span data-stu-id="7f74b-889">This is a combination of hello disk and hello cache performance.</span></span>  
    ![](media/storage-premium-storage-performance/image13.png)

<span data-ttu-id="7f74b-890">*Débit maximal combiné*</span><span class="sxs-lookup"><span data-stu-id="7f74b-890">*Maximum Combined Throughput*</span></span>  
<span data-ttu-id="7f74b-891">hello tooget maximale combinées en lecture et écriture de débit, utilisez une plus grande taille de bloc et de la profondeur de file d’attente avec plusieurs threads exécutant des lectures et écritures.</span><span class="sxs-lookup"><span data-stu-id="7f74b-891">tooget hello maximum combined Read and Write Throughput, use a larger block size and large queue depth with multiple threads performing reads and writes.</span></span> <span data-ttu-id="7f74b-892">Vous pouvez utiliser une taille de bloc de 64 Ko et une profondeur de file d’attente de 128.</span><span class="sxs-lookup"><span data-stu-id="7f74b-892">You can use a block size of 64KB and queue depth of 128.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7f74b-893">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="7f74b-893">Next Steps</span></span>
<span data-ttu-id="7f74b-894">En savoir plus sur Azure Premium Storage :</span><span class="sxs-lookup"><span data-stu-id="7f74b-894">Learn more about Azure Premium Storage:</span></span>

* [<span data-ttu-id="7f74b-895">Stockage Premium : stockage hautes performances pour les charges de travail des machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="7f74b-895">Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads</span></span>](storage-premium-storage.md)  

<span data-ttu-id="7f74b-896">Pour les utilisateurs de SQL Server, consultez les articles relatifs aux meilleures pratiques de performances de SQL Server :</span><span class="sxs-lookup"><span data-stu-id="7f74b-896">For SQL Server users, read articles on Performance Best Practices for SQL Server:</span></span>

* [<span data-ttu-id="7f74b-897">Bonnes pratiques relatives aux performances de SQL Server sur les machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="7f74b-897">Performance Best Practices for SQL Server in Azure Virtual Machines</span></span>](../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md)
* [<span data-ttu-id="7f74b-898">Azure Premium Storage provides highest performance for SQL Server in Azure VM (en anglais)</span><span class="sxs-lookup"><span data-stu-id="7f74b-898">Azure Premium Storage provides highest performance for SQL Server in Azure VM</span></span>](http://blogs.technet.com/b/dataplatforminsider/archive/2015/04/23/azure-premium-storage-provides-highest-performance-for-sql-server-in-azure-vm.aspx)
