---
title: prise en charge du partage (CORS) aaaCross-Origin Resource | Documents Microsoft
description: "Découvrez comment tooenable CORS prennent en charge pour hello Services de stockage Microsoft Azure."
services: storage
documentationcenter: .net
author: cbrooksmsft
manager: carmonm
editor: tysonn
ms.assetid: a0229595-5b64-4898-b8d6-fa2625ea6887
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 2/22/2017
ms.author: cbrooks
ms.openlocfilehash: 0a6ec3bf6999c5faa7f0912dc2a47921aa01d3d4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="cross-origin-resource-sharing-cors-support-for-hello-azure-storage-services"></a><span data-ttu-id="14e37-103">Prise en charge de partage de ressources Cross-Origin (CORS) pour hello Services de stockage Azure</span><span class="sxs-lookup"><span data-stu-id="14e37-103">Cross-Origin Resource Sharing (CORS) Support for hello Azure Storage Services</span></span>
<span data-ttu-id="14e37-104">Depuis la version 2013-08-15, les services de stockage Azure hello prend en charge de partage de ressources Cross-Origin (CORS) pour les services Blob, Table, file d’attente et de fichier hello.</span><span class="sxs-lookup"><span data-stu-id="14e37-104">Beginning with version 2013-08-15, hello Azure storage services support Cross-Origin Resource Sharing (CORS) for hello Blob, Table, Queue, and File services.</span></span> <span data-ttu-id="14e37-105">CORS est une fonctionnalité HTTP qui permet à une application web en cours d’exécution ressources de tooaccess sous un domaine dans un autre domaine.</span><span class="sxs-lookup"><span data-stu-id="14e37-105">CORS is an HTTP feature that enables a web application running under one domain tooaccess resources in another domain.</span></span> <span data-ttu-id="14e37-106">Navigateurs Web implémentent une restriction de sécurité appelée [stratégie de même origine](http://www.w3.org/Security/wiki/Same_Origin_Policy) qui empêche une page web d’appeler des API dans un autre domaine. CORS constitue un un domaine de manière sécurisée tooallow (domaine d’origine hello) toocall API dans un autre domaine.</span><span class="sxs-lookup"><span data-stu-id="14e37-106">Web browsers implement a security restriction known as [same-origin policy](http://www.w3.org/Security/wiki/Same_Origin_Policy) that prevents a web page from calling APIs in a different domain; CORS provides a secure way tooallow one domain (hello origin domain) toocall APIs in another domain.</span></span> <span data-ttu-id="14e37-107">Consultez hello [spécification CORS](http://www.w3.org/TR/cors/) pour plus d’informations sur CORS.</span><span class="sxs-lookup"><span data-stu-id="14e37-107">See hello [CORS specification](http://www.w3.org/TR/cors/) for details on CORS.</span></span>

<span data-ttu-id="14e37-108">Vous pouvez définir les règles CORS individuellement pour chacun des hello services de stockage, en appelant [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [définir les propriétés de Service de file d’attente](https://msdn.microsoft.com/library/hh452232.aspx), et [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx).</span><span class="sxs-lookup"><span data-stu-id="14e37-108">You can set CORS rules individually for each of hello storage services, by calling [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), and [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx).</span></span> <span data-ttu-id="14e37-109">Une fois que vous définissez les règles CORS hello pour le service de hello, une demande authentifiée effectuée au service de hello à partir d’un autre domaine sera évaluée toodetermine si elle est autorisée selon les règles de toohello que vous avez spécifié.</span><span class="sxs-lookup"><span data-stu-id="14e37-109">Once you set hello CORS rules for hello service, then a properly authenticated request made against hello service from a different domain will be evaluated toodetermine whether it is allowed according toohello rules you have specified.</span></span>

> [!NOTE]
> <span data-ttu-id="14e37-110">Notez que CORS n'est pas un mécanisme d'authentification.</span><span class="sxs-lookup"><span data-stu-id="14e37-110">Note that CORS is not an authentication mechanism.</span></span> <span data-ttu-id="14e37-111">Toute demande adressée à une ressource de stockage lorsque CORS est activé doit avoir une signature d'authentification appropriée ou doit être exécutée sur une ressource publique.</span><span class="sxs-lookup"><span data-stu-id="14e37-111">Any request made against a storage resource when CORS is enabled must either have a proper authentication signature, or must be made against a public resource.</span></span>
> 
> 

## <a name="understanding-cors-requests"></a><span data-ttu-id="14e37-112">Présentation des demandes CORS</span><span class="sxs-lookup"><span data-stu-id="14e37-112">Understanding CORS requests</span></span>
<span data-ttu-id="14e37-113">Une demande CORS d'un domaine d'origine peut comprendre deux demandes distinctes :</span><span class="sxs-lookup"><span data-stu-id="14e37-113">A CORS request from an origin domain may consist of two separate requests:</span></span>

* <span data-ttu-id="14e37-114">Une demande préliminaire, qui interroge hello CORS imposées par le service de hello.</span><span class="sxs-lookup"><span data-stu-id="14e37-114">A preflight request, which queries hello CORS restrictions imposed by hello service.</span></span> <span data-ttu-id="14e37-115">demande préliminaire de Hello est requis, sauf si la méthode de demande hello est un [méthode simple](http://www.w3.org/TR/cors/), ce qui signifie GET, HEAD ou POST.</span><span class="sxs-lookup"><span data-stu-id="14e37-115">hello preflight request is required unless hello request method is a [simple method](http://www.w3.org/TR/cors/), meaning GET, HEAD, or POST.</span></span>
* <span data-ttu-id="14e37-116">demande réelle de Hello, effectuée par rapport à la ressource de hello souhaité.</span><span class="sxs-lookup"><span data-stu-id="14e37-116">hello actual request, made against hello desired resource.</span></span>

### <a name="preflight-request"></a><span data-ttu-id="14e37-117">Demande préliminaire</span><span class="sxs-lookup"><span data-stu-id="14e37-117">Preflight request</span></span>
<span data-ttu-id="14e37-118">requêtes de demande préliminaire Hello hello restrictions CORS qui ont été établies pour le service de stockage hello par propriétaire du compte hello.</span><span class="sxs-lookup"><span data-stu-id="14e37-118">hello preflight request queries hello CORS restrictions that have been established for hello storage service by hello account owner.</span></span> <span data-ttu-id="14e37-119">navigateur Hello (ou tout autre agent utilisateur) envoie une demande OPTIONS qui inclut les en-têtes de demande hello, domaine de méthode et d’origine.</span><span class="sxs-lookup"><span data-stu-id="14e37-119">hello web browser (or other user agent) sends an OPTIONS request that includes hello request headers, method and origin domain.</span></span> <span data-ttu-id="14e37-120">service de stockage Hello évalue opération hello conçue selon un ensemble préconfiguré de règles CORS qui spécifient les domaines d’origine, de méthodes de demande et en-têtes de demande peuvent être spécifiés dans une demande réelle sur une ressource de stockage.</span><span class="sxs-lookup"><span data-stu-id="14e37-120">hello storage service evaluates hello intended operation based on a pre-configured set of CORS rules that specify which origin domains, request methods, and request headers may be specified on an actual request against a storage resource.</span></span>

<span data-ttu-id="14e37-121">Si les règles CORS sont activées pour le service de hello et il existe une règle CORS qui correspond à la demande préliminaire de hello, hello service répond avec le code d’état 200 (OK) et inclut les en-têtes de contrôle d’accès hello requis dans la réponse de hello.</span><span class="sxs-lookup"><span data-stu-id="14e37-121">If CORS is enabled for hello service and there is a CORS rule that matches hello preflight request, hello service responds with status code 200 (OK), and includes hello required Access-Control headers in hello response.</span></span>

<span data-ttu-id="14e37-122">Si CORS n’est pas activée pour le service de hello ou aucune règle CORS correspond à la demande préliminaire de hello, service de hello répond avec le code d’état 403 (interdit).</span><span class="sxs-lookup"><span data-stu-id="14e37-122">If CORS is not enabled for hello service or no CORS rule matches hello preflight request, hello service will respond with status code 403 (Forbidden).</span></span>

<span data-ttu-id="14e37-123">Si la demande OPTIONS ne contient pas de hello hello en-têtes CORS requis (hello d’origine et les en-têtes Access-Control-Request-Method), service de hello répond avec le code d’état 400 (demande incorrecte).</span><span class="sxs-lookup"><span data-stu-id="14e37-123">If hello OPTIONS request doesn't contain hello required CORS headers (hello Origin and Access-Control-Request-Method headers), hello service will respond with status code 400 (Bad request).</span></span>

<span data-ttu-id="14e37-124">Notez qu’une demande préliminaire est évaluée par rapport à service hello (Blob, file d’attente et Table) et non sur hello la ressource demandée.</span><span class="sxs-lookup"><span data-stu-id="14e37-124">Note that a preflight request is evaluated against hello service (Blob, Queue, and Table) and not against hello requested resource.</span></span> <span data-ttu-id="14e37-125">propriétaire du compte Hello doit avoir activé des CORS dans le cadre des propriétés de service de compte hello dans l’ordre pour hello demande toosucceed.</span><span class="sxs-lookup"><span data-stu-id="14e37-125">hello account owner must have enabled CORS as part of hello account service properties in order for hello request toosucceed.</span></span>

### <a name="actual-request"></a><span data-ttu-id="14e37-126">Demande réelle</span><span class="sxs-lookup"><span data-stu-id="14e37-126">Actual request</span></span>
<span data-ttu-id="14e37-127">Une fois la demande préliminaire de hello est accepté et hello réponse est renvoyée, hello navigateur distribue demande réelle de hello par rapport à la ressource de stockage hello.</span><span class="sxs-lookup"><span data-stu-id="14e37-127">Once hello preflight request is accepted and hello response is returned, hello browser will dispatch hello actual request against hello storage resource.</span></span> <span data-ttu-id="14e37-128">navigateur de Hello refuse la demande réelle de hello immédiatement si hello demande préliminaire est rejetée.</span><span class="sxs-lookup"><span data-stu-id="14e37-128">hello browser will deny hello actual request immediately if hello preflight request is rejected.</span></span>

<span data-ttu-id="14e37-129">demande réelle de Hello est traité comme une demande normale dans le service de stockage hello.</span><span class="sxs-lookup"><span data-stu-id="14e37-129">hello actual request is treated as normal request against hello storage service.</span></span> <span data-ttu-id="14e37-130">présence de Hello d’en-tête d’origine hello indique que la demande de hello est une demande CORS et hello vérifie hello CORS règles de correspondance.</span><span class="sxs-lookup"><span data-stu-id="14e37-130">hello presence of hello Origin header indicates that hello request is a CORS request and hello service will check hello matching CORS rules.</span></span> <span data-ttu-id="14e37-131">Si une correspondance est trouvée, les en-têtes de hello de contrôle d’accès sont ajoutés toohello réponse et envoyé arrière toohello client.</span><span class="sxs-lookup"><span data-stu-id="14e37-131">If a match is found, hello Access-Control headers are added toohello response and sent back toohello client.</span></span> <span data-ttu-id="14e37-132">Si une correspondance est introuvable, les en-têtes Access-Control CORS hello ne sont pas retournés.</span><span class="sxs-lookup"><span data-stu-id="14e37-132">If a match is not found, hello CORS Access-Control headers are not returned.</span></span>

## <a name="enabling-cors-for-hello-azure-storage-services"></a><span data-ttu-id="14e37-133">L’activation de CORS pour les services de stockage Azure hello</span><span class="sxs-lookup"><span data-stu-id="14e37-133">Enabling CORS for hello Azure Storage services</span></span>
<span data-ttu-id="14e37-134">Les règles CORS sont définies au niveau de service hello, donc vous devez tooenable ou désactivez les CORS pour chaque service (Blob, file d’attente et Table) séparément.</span><span class="sxs-lookup"><span data-stu-id="14e37-134">CORS rules are set at hello service level, so you need tooenable or disable CORS for each service (Blob, Queue and Table) separately.</span></span> <span data-ttu-id="14e37-135">Par défaut, CORS est désactivé pour tous les services.</span><span class="sxs-lookup"><span data-stu-id="14e37-135">By default, CORS is disabled for each service.</span></span> <span data-ttu-id="14e37-136">tooenable CORS, vous avez besoin de propriétés de service appropriée de hello tooset à l’aide de la version 2013-08-15 ou version ultérieure et ajouter des propriétés du service toohello de règles CORS.</span><span class="sxs-lookup"><span data-stu-id="14e37-136">tooenable CORS, you need tooset hello appropriate service properties using version 2013-08-15 or later, and add CORS rules toohello service properties.</span></span> <span data-ttu-id="14e37-137">Pour plus d’informations sur la façon tooenable ou désactiver les CORS pour un service et comment tooset CORS règles, veuillez consultez trop[Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [définir les propriétés de Service de file d’attente](https://msdn.microsoft.com/library/hh452232.aspx), et [définir une Table Propriétés du service](https://msdn.microsoft.com/library/hh452240.aspx).</span><span class="sxs-lookup"><span data-stu-id="14e37-137">For details about how tooenable or disable CORS for a service and how tooset CORS rules, please refer too[Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), and [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx).</span></span>

<span data-ttu-id="14e37-138">Voici un exemple de règle CORS spécifiée via une opération Set Service Properties :</span><span class="sxs-lookup"><span data-stu-id="14e37-138">Here is a sample of a single CORS rule, specified via a Set Service Properties operation:</span></span>

```xml
<Cors>    
    <CorsRule>
        <AllowedOrigins>http://www.contoso.com, http://www.fabrikam.com</AllowedOrigins>
        <AllowedMethods>PUT,GET</AllowedMethods>
        <AllowedHeaders>x-ms-meta-data*,x-ms-meta-target*,x-ms-meta-abc</AllowedHeaders>
        <ExposedHeaders>x-ms-meta-*</ExposedHeaders>
        <MaxAgeInSeconds>200</MaxAgeInSeconds>
    </CorsRule>
<Cors>
```

<span data-ttu-id="14e37-139">Chaque élément inclus dans la règle de hello CORS est décrit ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="14e37-139">Each element included in hello CORS rule is described below:</span></span>

* <span data-ttu-id="14e37-140">**AllowedOrigins**: domaines d’origine hello autorisés toomake une demande de stockage de hello service via CORS.</span><span class="sxs-lookup"><span data-stu-id="14e37-140">**AllowedOrigins**: hello origin domains that are permitted toomake a request against hello storage service via CORS.</span></span> <span data-ttu-id="14e37-141">domaine d’origine Hello est hello à partir de quels hello provient la demande.</span><span class="sxs-lookup"><span data-stu-id="14e37-141">hello origin domain is hello domain from which hello request originates.</span></span> <span data-ttu-id="14e37-142">Notez que les origine hello doivent être une correspondance qui respecte la casse exacte avec origine hello que durée de vie hello utilisateur envoie toohello service.</span><span class="sxs-lookup"><span data-stu-id="14e37-142">Note that hello origin must be an exact case-sensitive match with hello origin that hello user age sends toohello service.</span></span> <span data-ttu-id="14e37-143">Vous pouvez également utiliser le caractère générique de hello ' *' tooallow toutes les demandes de toomake domaines origin via CORS.</span><span class="sxs-lookup"><span data-stu-id="14e37-143">You can also use hello wildcard character '*' tooallow all origin domains toomake requests via CORS.</span></span> <span data-ttu-id="14e37-144">Dans l’exemple hello ci-dessus, hello domaines [http://www.contoso.com](http://www.contoso.com) et [http://www.fabrikam.com](http://www.fabrikam.com) peut effectuer des demandes aux services hello à l’aide de CORS.</span><span class="sxs-lookup"><span data-stu-id="14e37-144">In hello example above, hello domains [http://www.contoso.com](http://www.contoso.com) and [http://www.fabrikam.com](http://www.fabrikam.com) can make requests against hello service using CORS.</span></span>
* <span data-ttu-id="14e37-145">**AllowedMethods**: méthodes de hello (verbes de requête HTTP) que le domaine d’origine hello peut utiliser pour une demande CORS.</span><span class="sxs-lookup"><span data-stu-id="14e37-145">**AllowedMethods**: hello methods (HTTP request verbs) that hello origin domain may use for a CORS request.</span></span> <span data-ttu-id="14e37-146">Dans l’exemple hello ci-dessus, seules les demandes PUT et GET sont autorisées.</span><span class="sxs-lookup"><span data-stu-id="14e37-146">In hello example above, only PUT and GET requests are permitted.</span></span>
* <span data-ttu-id="14e37-147">**AllowedHeaders**: en-têtes de demande hello ce domaine d’origine hello peut spécifier à la demande CORS hello.</span><span class="sxs-lookup"><span data-stu-id="14e37-147">**AllowedHeaders**: hello request headers that hello origin domain may specify on hello CORS request.</span></span> <span data-ttu-id="14e37-148">Dans l’exemple hello ci-dessus, tous les en-têtes de métadonnées commençant par x-ms-meta-data, x-ms-meta-cible et x-ms-meta-abc sont autorisées.</span><span class="sxs-lookup"><span data-stu-id="14e37-148">In hello example above, all metadata headers starting with x-ms-meta-data, x-ms-meta-target, and x-ms-meta-abc are permitted.</span></span> <span data-ttu-id="14e37-149">Notez que caractère générique de hello ' *' indique que les en-têtes commençant par hello spécifié est autorisé.</span><span class="sxs-lookup"><span data-stu-id="14e37-149">Note that hello wildcard character '*' indicates that any header beginning with hello specified prefix is allowed.</span></span>
* <span data-ttu-id="14e37-150">**ExposedHeaders**: hello des en-têtes de réponse qui peuvent être envoyés dans la demande de hello réponse toohello CORS et exposés par l’émetteur de la demande hello navigateur toohello.</span><span class="sxs-lookup"><span data-stu-id="14e37-150">**ExposedHeaders**: hello response headers that may be sent in hello response toohello CORS request and exposed by hello browser toohello request issuer.</span></span> <span data-ttu-id="14e37-151">Dans l’exemple hello situé au-dessus, hello est demandé tooexpose les en-têtes commençant par x-ms-meta.</span><span class="sxs-lookup"><span data-stu-id="14e37-151">In hello example above, hello browser is instructed tooexpose any header beginning with x-ms-meta.</span></span>
* <span data-ttu-id="14e37-152">**MaxAgeInSeconds**: hello durée maximale pendant qu’un navigateur doit mettre en cache les demande OPTIONS préliminaire hello.</span><span class="sxs-lookup"><span data-stu-id="14e37-152">**MaxAgeInSeconds**: hello maximum amount time that a browser should cache hello preflight OPTIONS request.</span></span>

<span data-ttu-id="14e37-153">Hello services de stockage Azure prennent en charge les en-têtes avec préfixe en spécifiant pour les deux hello **AllowedHeaders** et **ExposedHeaders** éléments.</span><span class="sxs-lookup"><span data-stu-id="14e37-153">hello Azure storage services support specifying prefixed headers for both hello **AllowedHeaders** and **ExposedHeaders** elements.</span></span> <span data-ttu-id="14e37-154">tooallow une catégorie d’en-têtes, vous pouvez spécifier une catégorie de toothat préfixe commun.</span><span class="sxs-lookup"><span data-stu-id="14e37-154">tooallow a category of headers, you can specify a common prefix toothat category.</span></span> <span data-ttu-id="14e37-155">Par exemple, le fait de spécifier *x-ms-meta** comme en-tête préfixé crée une règle qui établit une correspondance avec tous les en-têtes commençant par x-ms-meta.</span><span class="sxs-lookup"><span data-stu-id="14e37-155">For example, specifying *x-ms-meta** as a prefixed header establishes a rule that will match all headers that begin with x-ms-meta.</span></span>

<span data-ttu-id="14e37-156">Hello limites suivantes s’appliquent les règles tooCORS :</span><span class="sxs-lookup"><span data-stu-id="14e37-156">hello following limitations apply tooCORS rules:</span></span>

* <span data-ttu-id="14e37-157">Vous pouvez spécifier des toofive règles CORS par service de stockage (Blob, Table et file d’attente).</span><span class="sxs-lookup"><span data-stu-id="14e37-157">You can specify up toofive CORS rules per storage service (Blob, Table, and Queue).</span></span>
* <span data-ttu-id="14e37-158">taille maximale de Hello de tous les paramètres de règles CORS sur la demande de hello, à l’exception des balises XML, ne doit pas dépasser 2 Ko.</span><span class="sxs-lookup"><span data-stu-id="14e37-158">hello maximum size of all CORS rules settings on hello request, excluding XML tags, should not exceed 2 KB.</span></span>
* <span data-ttu-id="14e37-159">la longueur d’un en-tête autorisé, en-tête exposé ou origine autorisée Hello ne doit pas dépasser 256 caractères.</span><span class="sxs-lookup"><span data-stu-id="14e37-159">hello length of an allowed header, exposed header, or allowed origin should not exceed 256 characters.</span></span>
* <span data-ttu-id="14e37-160">Les en-têtes autorisés et les en-têtes exposés peuvent être :</span><span class="sxs-lookup"><span data-stu-id="14e37-160">Allowed headers and exposed headers may be either:</span></span>
  * <span data-ttu-id="14e37-161">En-têtes littéraux, où nom précis d’en-tête de hello est spécifié, tel que **x-ms-meta-processed**.</span><span class="sxs-lookup"><span data-stu-id="14e37-161">Literal headers, where hello exact header name is provided, such as **x-ms-meta-processed**.</span></span> <span data-ttu-id="14e37-162">Un maximum de 64 en-têtes littéraux peut être spécifié à la demande de hello.</span><span class="sxs-lookup"><span data-stu-id="14e37-162">A maximum of 64 literal headers may be specified on hello request.</span></span>
  * <span data-ttu-id="14e37-163">En-têtes préfixés, où un préfixe de hello en-tête est spécifié, tel que **x-ms-meta-data***.</span><span class="sxs-lookup"><span data-stu-id="14e37-163">Prefixed headers, where a prefix of hello header is provided, such as **x-ms-meta-data***.</span></span> <span data-ttu-id="14e37-164">En spécifiant un préfixe de cette façon autorise ou expose les en-têtes qui commençant par le préfixe de hello.</span><span class="sxs-lookup"><span data-stu-id="14e37-164">Specifying a prefix in this manner allows or exposes any header that begins with hello given prefix.</span></span> <span data-ttu-id="14e37-165">Un maximum de deux en-têtes avec préfixe peut être spécifié à la demande de hello.</span><span class="sxs-lookup"><span data-stu-id="14e37-165">A maximum of two prefixed headers may be specified on hello request.</span></span>
* <span data-ttu-id="14e37-166">Hello des méthodes (ou verbes HTTP) spécifiés dans hello **AllowedMethods** élément doit respecter les méthodes toohello pris en charge par les API de service de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="14e37-166">hello methods (or HTTP verbs) specified in hello **AllowedMethods** element must conform toohello methods supported by Azure storage service APIs.</span></span> <span data-ttu-id="14e37-167">Les méthodes prises en charge sont DELETE, GET, HEAD, MERGE, POST, OPTIONS et PUT.</span><span class="sxs-lookup"><span data-stu-id="14e37-167">Supported methods are DELETE, GET, HEAD, MERGE, POST, OPTIONS and PUT.</span></span>

## <a name="understanding-cors-rule-evaluation-logic"></a><span data-ttu-id="14e37-168">Présentation de la logique d'évaluation des règles CORS</span><span class="sxs-lookup"><span data-stu-id="14e37-168">Understanding CORS rule evaluation logic</span></span>
<span data-ttu-id="14e37-169">Lorsqu’un service de stockage reçoit une demande préliminaire ou réelle, il évalue cette demande, selon les règles CORS hello que vous avez établi pour le service de hello via l’opération Set Service Properties appropriée hello.</span><span class="sxs-lookup"><span data-stu-id="14e37-169">When a storage service receives a preflight or actual request, it evaluates that request based on hello CORS rules you have established for hello service via hello appropriate Set Service Properties operation.</span></span> <span data-ttu-id="14e37-170">Les règles CORS sont évaluées dans l’ordre de hello dans lequel ils ont été définis dans le corps de la demande hello Hello opération Set Service Properties.</span><span class="sxs-lookup"><span data-stu-id="14e37-170">CORS rules are evaluated in hello order in which they were set in hello request body of hello Set Service Properties operation.</span></span>

<span data-ttu-id="14e37-171">Les règles CORS sont évaluées comme suit :</span><span class="sxs-lookup"><span data-stu-id="14e37-171">CORS rules are evaluated as follows:</span></span>

1. <span data-ttu-id="14e37-172">Tout d’abord, le domaine d’origine hello de demande de hello est comparée aux domaines hello répertoriés pour hello **AllowedOrigins** élément.</span><span class="sxs-lookup"><span data-stu-id="14e37-172">First, hello origin domain of hello request is checked against hello domains listed for hello **AllowedOrigins** element.</span></span> <span data-ttu-id="14e37-173">Si le domaine d’origine hello est inclus dans la liste de hello, ou tous les domaines sont autorisés avec le caractère générique de hello ' *', puis évaluation des règles continue.</span><span class="sxs-lookup"><span data-stu-id="14e37-173">If hello origin domain is included in hello list, or all domains are allowed with hello wildcard character '*', then rules evaluation proceeds.</span></span> <span data-ttu-id="14e37-174">Si le domaine d’origine hello n’est pas inclus, la demande de hello échoue.</span><span class="sxs-lookup"><span data-stu-id="14e37-174">If hello origin domain is not included, then hello request fails.</span></span>
2. <span data-ttu-id="14e37-175">Ensuite, méthode hello (ou un verbe HTTP) de demande de hello est vérifié par rapport aux méthodes hello répertoriés dans hello **AllowedMethods** élément.</span><span class="sxs-lookup"><span data-stu-id="14e37-175">Next, hello method (or HTTP verb) of hello request is checked against hello methods listed in hello **AllowedMethods** element.</span></span> <span data-ttu-id="14e37-176">Si la méthode hello est inclus dans la liste de hello, évaluation des règles continue ; Si ce n’est pas le cas, puis demande de hello échoue.</span><span class="sxs-lookup"><span data-stu-id="14e37-176">If hello method is included in hello list, then rules evaluation proceeds; if not, then hello request fails.</span></span>
3. <span data-ttu-id="14e37-177">Si la demande de hello correspond à une règle dans son domaine d’origine et sa méthode, cette règle est sélectionnée tooprocess hello demande et aucune autre règle n’est évaluées.</span><span class="sxs-lookup"><span data-stu-id="14e37-177">If hello request matches a rule in its origin domain and its method, that rule is selected tooprocess hello request and no further rules are evaluated.</span></span> <span data-ttu-id="14e37-178">Avant hello demande réussisse, toutefois, des en-têtes spécifiés dans la demande hello sont vérifiées par rapport aux en-têtes hello répertoriés dans hello **AllowedHeaders** élément.</span><span class="sxs-lookup"><span data-stu-id="14e37-178">Before hello request can succeed, however, any headers specified on hello request are checked against hello headers listed in hello **AllowedHeaders** element.</span></span> <span data-ttu-id="14e37-179">Si les en-têtes de hello envoyés ne correspondent pas hello en-têtes autorisé, la demande de hello échoue.</span><span class="sxs-lookup"><span data-stu-id="14e37-179">If hello headers sent do not match hello allowed headers, hello request fails.</span></span>

<span data-ttu-id="14e37-180">Étant donné que les règles de hello sont traitées dans l’ordre de hello qu’ils sont présents dans le corps de la demande hello, les meilleures pratiques recommandent de spécifier règles les plus restrictives hello avec respectent tooorigins tout d’abord dans la liste hello, afin que ceux-ci sont évalués en premier.</span><span class="sxs-lookup"><span data-stu-id="14e37-180">Since hello rules are processed in hello order they are present in hello request body, best practices recommend that you specify hello most restrictive rules with respect tooorigins first in hello list, so that these are evaluated first.</span></span> <span data-ttu-id="14e37-181">Spécifier des règles qui sont moins restrictives – par exemple, un tooallow règle toutes les origines – à fin hello de liste de hello.</span><span class="sxs-lookup"><span data-stu-id="14e37-181">Specify rules that are less restrictive – for example, a rule tooallow all origins – at hello end of hello list.</span></span>

### <a name="example--cors-rules-evaluation"></a><span data-ttu-id="14e37-182">Exemple : évaluation de règles CORS</span><span class="sxs-lookup"><span data-stu-id="14e37-182">Example – CORS rules evaluation</span></span>
<span data-ttu-id="14e37-183">Hello suivant montre un corps de demande partiel pour une opération tooset CORS de règles pour les services de stockage hello.</span><span class="sxs-lookup"><span data-stu-id="14e37-183">hello following example shows a partial request body for an operation tooset CORS rules for hello storage services.</span></span> <span data-ttu-id="14e37-184">Consultez [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [définir les propriétés de Service de file d’attente](https://msdn.microsoft.com/library/hh452232.aspx), et [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx) pour plus d’informations sur la construction de demande de hello.</span><span class="sxs-lookup"><span data-stu-id="14e37-184">See [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), and [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx) for details on constructing hello request.</span></span>

```xml
<Cors>
    <CorsRule>
        <AllowedOrigins>http://www.contoso.com</AllowedOrigins>
        <AllowedMethods>PUT,HEAD</AllowedMethods>
        <MaxAgeInSeconds>5</MaxAgeInSeconds>
        <ExposedHeaders>x-ms-*</ExposedHeaders>
        <AllowedHeaders>x-ms-blob-content-type, x-ms-blob-content-disposition</AllowedHeaders>
    </CorsRule>
    <CorsRule>
        <AllowedOrigins>*</AllowedOrigins>
        <AllowedMethods>PUT,GET</AllowedMethods>
        <MaxAgeInSeconds>5</MaxAgeInSeconds>
        <ExposedHeaders>x-ms-*</ExposedHeaders>
        <AllowedHeaders>x-ms-blob-content-type, x-ms-blob-content-disposition</AllowedHeaders>
    </CorsRule>
    <CorsRule>
        <AllowedOrigins>http://www.contoso.com</AllowedOrigins>
        <AllowedMethods>GET</AllowedMethods>
        <MaxAgeInSeconds>5</MaxAgeInSeconds>
        <ExposedHeaders>x-ms-*</ExposedHeaders>
        <AllowedHeaders>x-ms-client-request-id</AllowedHeaders>
    </CorsRule>
</Cors>
```

<span data-ttu-id="14e37-185">Ensuite, prenez en compte les hello suivant des demandes CORS :</span><span class="sxs-lookup"><span data-stu-id="14e37-185">Next, consider hello following CORS requests:</span></span>

| <span data-ttu-id="14e37-186">Demande</span><span class="sxs-lookup"><span data-stu-id="14e37-186">Request</span></span> |  |  | <span data-ttu-id="14e37-187">Réponse</span><span class="sxs-lookup"><span data-stu-id="14e37-187">Response</span></span> |  |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="14e37-188">**Méthode**</span><span class="sxs-lookup"><span data-stu-id="14e37-188">**Method**</span></span> |<span data-ttu-id="14e37-189">**Origine**</span><span class="sxs-lookup"><span data-stu-id="14e37-189">**Origin**</span></span> |<span data-ttu-id="14e37-190">**En-têtes de requête**</span><span class="sxs-lookup"><span data-stu-id="14e37-190">**Request Headers**</span></span> |<span data-ttu-id="14e37-191">**Correspondance de règle**</span><span class="sxs-lookup"><span data-stu-id="14e37-191">**Rule Match**</span></span> |<span data-ttu-id="14e37-192">**Résultat**</span><span class="sxs-lookup"><span data-stu-id="14e37-192">**Result**</span></span> |
| <span data-ttu-id="14e37-193">**PUT**</span><span class="sxs-lookup"><span data-stu-id="14e37-193">**PUT**</span></span> |<span data-ttu-id="14e37-194">http://www.contoso.com</span><span class="sxs-lookup"><span data-stu-id="14e37-194">http://www.contoso.com</span></span> |<span data-ttu-id="14e37-195">x-ms-blob-content-type</span><span class="sxs-lookup"><span data-stu-id="14e37-195">x-ms-blob-content-type</span></span> |<span data-ttu-id="14e37-196">Première règle</span><span class="sxs-lookup"><span data-stu-id="14e37-196">First rule</span></span> |<span data-ttu-id="14e37-197">Succès</span><span class="sxs-lookup"><span data-stu-id="14e37-197">Success</span></span> |
| <span data-ttu-id="14e37-198">**GET**</span><span class="sxs-lookup"><span data-stu-id="14e37-198">**GET**</span></span> |<span data-ttu-id="14e37-199">http://www.contoso.com</span><span class="sxs-lookup"><span data-stu-id="14e37-199">http://www.contoso.com</span></span> |<span data-ttu-id="14e37-200">x-ms-blob-content-type</span><span class="sxs-lookup"><span data-stu-id="14e37-200">x-ms-blob-content-type</span></span> |<span data-ttu-id="14e37-201">Deuxième règle</span><span class="sxs-lookup"><span data-stu-id="14e37-201">Second rule</span></span> |<span data-ttu-id="14e37-202">Succès</span><span class="sxs-lookup"><span data-stu-id="14e37-202">Success</span></span> |
| <span data-ttu-id="14e37-203">**GET**</span><span class="sxs-lookup"><span data-stu-id="14e37-203">**GET**</span></span> |<span data-ttu-id="14e37-204">http://www.contoso.com</span><span class="sxs-lookup"><span data-stu-id="14e37-204">http://www.contoso.com</span></span> |<span data-ttu-id="14e37-205">x-ms-client-request-id</span><span class="sxs-lookup"><span data-stu-id="14e37-205">x-ms-client-request-id</span></span> |<span data-ttu-id="14e37-206">Deuxième règle</span><span class="sxs-lookup"><span data-stu-id="14e37-206">Second rule</span></span> |<span data-ttu-id="14e37-207">Échec</span><span class="sxs-lookup"><span data-stu-id="14e37-207">Failure</span></span> |

<span data-ttu-id="14e37-208">Hello première demande correspond à première règle de hello : domaine d’origine hello correspond à hello autorisé origines, méthode hello correspond à hello autorisé des méthodes et en-tête de hello correspond à hello autorisée des en-têtes – et sorte qu’elle réussit.</span><span class="sxs-lookup"><span data-stu-id="14e37-208">hello first request matches hello first rule – hello origin domain matches hello allowed origins, hello method matches hello allowed methods, and hello header matches hello allowed headers – and so succeeds.</span></span>

<span data-ttu-id="14e37-209">demande de deuxième Hello ne correspond pas à première règle de hello car méthode hello ne correspond pas hello autorisé de méthodes.</span><span class="sxs-lookup"><span data-stu-id="14e37-209">hello second request does not match hello first rule because hello method does not match hello allowed methods.</span></span> <span data-ttu-id="14e37-210">Il est le cas, cependant, correspondant à seconde hello, en cas de succès.</span><span class="sxs-lookup"><span data-stu-id="14e37-210">It does, however, match hello second rule, so it succeeds.</span></span>

<span data-ttu-id="14e37-211">Hello troisième demande correspond à hello deuxième règle de son domaine d’origine et la méthode, donc aucune autre règle n’est évaluées.</span><span class="sxs-lookup"><span data-stu-id="14e37-211">hello third request matches hello second rule in its origin domain and method, so no further rules are evaluated.</span></span> <span data-ttu-id="14e37-212">Toutefois, hello *en-tête x-ms-client-request-id* , mais n’est pas autorisée par la deuxième règle de hello, de demande de hello échoue, bien que la sémantique de la règle de tiers hello hello lui aurait permis toosucceed hello.</span><span class="sxs-lookup"><span data-stu-id="14e37-212">However, hello *x-ms-client-request-id header* is not allowed by hello second rule, so hello request fails, despite hello fact that hello semantics of hello third rule would have allowed it toosucceed.</span></span>

> [!NOTE]
> <span data-ttu-id="14e37-213">Bien que cet exemple montre une règle moins restrictive avant une plus restrictive, en général recommandé hello est tout d’abord les règles les plus restrictives toolist hello.</span><span class="sxs-lookup"><span data-stu-id="14e37-213">Although this example shows a less restrictive rule before a more restrictive one, in general hello best practice is toolist hello most restrictive rules first.</span></span>
> 
> 

## <a name="understanding-how-hello-vary-header-is-set"></a><span data-ttu-id="14e37-214">Comprendre comment l’en-tête Vary de hello est défini</span><span class="sxs-lookup"><span data-stu-id="14e37-214">Understanding how hello Vary header is set</span></span>
<span data-ttu-id="14e37-215">Hello *Vary* en-tête est un en-tête HTTP/1.1 standard composé d’un ensemble de champs d’en-tête de demande qui indiquent l’agent utilisateur ou du navigateur hello sur les critères de hello qui ont été sélectionnés par hello server tooprocess hello demande.</span><span class="sxs-lookup"><span data-stu-id="14e37-215">hello *Vary* header is a standard HTTP/1.1 header consisting of a set of request header fields that advise hello browser or user agent about hello criteria that were selected by hello server tooprocess hello request.</span></span> <span data-ttu-id="14e37-216">Hello *Vary* en-tête est principalement utilisé pour la mise en cache par les serveurs proxy, les navigateurs et CDN qui toodetermine l’utiliser la réponse de hello doit être mis en cache.</span><span class="sxs-lookup"><span data-stu-id="14e37-216">hello *Vary* header is mainly used for caching by proxies, browsers, and CDNs, which use it toodetermine how hello response should be cached.</span></span> <span data-ttu-id="14e37-217">Pour plus d’informations, consultez Spécification hello hello [en-tête Vary](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html).</span><span class="sxs-lookup"><span data-stu-id="14e37-217">For details, see hello specification for hello [Vary header](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html).</span></span>

<span data-ttu-id="14e37-218">Lorsque le navigateur de hello ou un autre agent utilisateur met en cache la réponse hello à partir d’une demande CORS, le domaine d’origine hello est mis en cache en tant que hello autorisé d’origine.</span><span class="sxs-lookup"><span data-stu-id="14e37-218">When hello browser or another user agent caches hello response from a CORS request, hello origin domain is cached as hello allowed origin.</span></span> <span data-ttu-id="14e37-219">Lorsqu’un second problèmes de domaine hello même demande pour une ressource de stockage pendant que le cache de hello est actif, l’agent utilisateur de hello récupère le domaine d’origine mis en cache hello.</span><span class="sxs-lookup"><span data-stu-id="14e37-219">When a second domain issues hello same request for a storage resource while hello cache is active, hello user agent retrieves hello cached origin domain.</span></span> <span data-ttu-id="14e37-220">domaine de second Hello ne correspond pas à domaine mis en cache de hello, demande de hello échoue lorsqu’elle réussit dans le cas contraire.</span><span class="sxs-lookup"><span data-stu-id="14e37-220">hello second domain does not match hello cached domain, so hello request fails when it would otherwise succeed.</span></span> <span data-ttu-id="14e37-221">Dans certains cas, le stockage Azure affecte en-tête Vary de hello trop**origine** tooinstruct hello utilisateur toosend hello ultérieures CORS demande toohello service de l’agent lorsque hello demande hello diffère de domaine mis en cache d’origine.</span><span class="sxs-lookup"><span data-stu-id="14e37-221">In certain cases, Azure Storage sets hello Vary header too**Origin** tooinstruct hello user agent toosend hello subsequent CORS request toohello service when hello requesting domain differs from hello cached origin.</span></span>

<span data-ttu-id="14e37-222">Le stockage Azure définit hello *Vary* en-tête trop**origine** pour les demandes GET/HEAD réelles Bonjour suivant cas :</span><span class="sxs-lookup"><span data-stu-id="14e37-222">Azure Storage sets hello *Vary* header too**Origin** for actual GET/HEAD requests in hello following cases:</span></span>

* <span data-ttu-id="14e37-223">Si la demande hello origine correspond exactement à hello autorisés origine défini par une règle CORS.</span><span class="sxs-lookup"><span data-stu-id="14e37-223">When hello request origin exactly matches hello allowed origin defined by a CORS rule.</span></span> <span data-ttu-id="14e37-224">toobe une correspondance exacte, règle CORS hello ne peut pas inclure un caractère générique ' * ' caractères.</span><span class="sxs-lookup"><span data-stu-id="14e37-224">toobe an exact match, hello CORS rule may not include a wildcard ' * ' character.</span></span>
* <span data-ttu-id="14e37-225">Il n’est pas règle correspondante hello demande d’origine, mais CORS sont activées pour le service de stockage hello.</span><span class="sxs-lookup"><span data-stu-id="14e37-225">There is no rule matching hello request origin, but CORS is enabled for hello storage service.</span></span>

<span data-ttu-id="14e37-226">Dans les cas de hello où une demande GET/HEAD correspond à une règle CORS qui autorise toutes les origines, réponse de hello indique que toutes les origines sont autorisées et cache de l’agent utilisateur hello autorise les demandes suivantes à partir de n’importe quel domaine d’origine pendant que le cache de hello est actif.</span><span class="sxs-lookup"><span data-stu-id="14e37-226">In hello case where a GET/HEAD request matches a CORS rule that allows all origins, hello response indicates that all origins are allowed, and hello user agent cache will allow subsequent requests from any origin domain while hello cache is active.</span></span>

<span data-ttu-id="14e37-227">Notez que pour les demandes à l’aide de méthodes autres que GET/HEAD, services de stockage hello ne définit pas en-tête Vary de hello, étant donné que les méthodes de toothese réponses ne sont pas mises en cache par les agents utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="14e37-227">Note that for requests using methods other than GET/HEAD, hello storage services will not set hello Vary header, since responses toothese methods are not cached by user agents.</span></span>

<span data-ttu-id="14e37-228">Hello tableau suivant indique comment le stockage Azure répondra tooGET/HEAD demandes en fonction de hello précédemment mentionné cas :</span><span class="sxs-lookup"><span data-stu-id="14e37-228">hello following table indicates how Azure storage will respond tooGET/HEAD requests based on hello previously mentioned cases:</span></span>

| <span data-ttu-id="14e37-229">Demande</span><span class="sxs-lookup"><span data-stu-id="14e37-229">Request</span></span> | <span data-ttu-id="14e37-230">Paramètre de compte et résultat de l'évaluation de la règle</span><span class="sxs-lookup"><span data-stu-id="14e37-230">Account setting and result of rule evaluation</span></span> |  |  | <span data-ttu-id="14e37-231">Réponse</span><span class="sxs-lookup"><span data-stu-id="14e37-231">Response</span></span> |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="14e37-232">**En-tête d’origine présent dans la demande**</span><span class="sxs-lookup"><span data-stu-id="14e37-232">**Origin header present on request**</span></span> |<span data-ttu-id="14e37-233">**Règle(s) CORS spécifiée(s) pour ce service**</span><span class="sxs-lookup"><span data-stu-id="14e37-233">**CORS rule(s) specified for this service**</span></span> |<span data-ttu-id="14e37-234">**Règle de correspondance existante qui autorise toutes les origines(*)**</span><span class="sxs-lookup"><span data-stu-id="14e37-234">**Matching rule exists that allows all origins(*)**</span></span> |<span data-ttu-id="14e37-235">**Règle de correspondance existante pour la correspondance exacte d’origine**</span><span class="sxs-lookup"><span data-stu-id="14e37-235">**Matching rule exists for exact origin match**</span></span> |<span data-ttu-id="14e37-236">**Réponse inclut tooOrigin de jeu d’en-tête Vary**</span><span class="sxs-lookup"><span data-stu-id="14e37-236">**Response includes Vary header set tooOrigin**</span></span> |<span data-ttu-id="14e37-237">**La réponse inclut l’en-tête Access-Control-Allowed-Origin : «*  »**</span><span class="sxs-lookup"><span data-stu-id="14e37-237">**Response includes Access-Control-Allowed-Origin: "*"**</span></span> |<span data-ttu-id="14e37-238">**La réponse inclut l’en-têteAccess-Control-Exposed-Headers**</span><span class="sxs-lookup"><span data-stu-id="14e37-238">**Response includes Access-Control-Exposed-Headers**</span></span> |
| <span data-ttu-id="14e37-239">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-239">No</span></span> |<span data-ttu-id="14e37-240">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-240">No</span></span> |<span data-ttu-id="14e37-241">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-241">No</span></span> |<span data-ttu-id="14e37-242">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-242">No</span></span> |<span data-ttu-id="14e37-243">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-243">No</span></span> |<span data-ttu-id="14e37-244">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-244">No</span></span> |<span data-ttu-id="14e37-245">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-245">No</span></span> |
| <span data-ttu-id="14e37-246">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-246">No</span></span> |<span data-ttu-id="14e37-247">Oui</span><span class="sxs-lookup"><span data-stu-id="14e37-247">Yes</span></span> |<span data-ttu-id="14e37-248">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-248">No</span></span> |<span data-ttu-id="14e37-249">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-249">No</span></span> |<span data-ttu-id="14e37-250">Oui</span><span class="sxs-lookup"><span data-stu-id="14e37-250">Yes</span></span> |<span data-ttu-id="14e37-251">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-251">No</span></span> |<span data-ttu-id="14e37-252">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-252">No</span></span> |
| <span data-ttu-id="14e37-253">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-253">No</span></span> |<span data-ttu-id="14e37-254">Oui</span><span class="sxs-lookup"><span data-stu-id="14e37-254">Yes</span></span> |<span data-ttu-id="14e37-255">Oui</span><span class="sxs-lookup"><span data-stu-id="14e37-255">Yes</span></span> |<span data-ttu-id="14e37-256">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-256">No</span></span> |<span data-ttu-id="14e37-257">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-257">No</span></span> |<span data-ttu-id="14e37-258">Oui</span><span class="sxs-lookup"><span data-stu-id="14e37-258">Yes</span></span> |<span data-ttu-id="14e37-259">Oui</span><span class="sxs-lookup"><span data-stu-id="14e37-259">Yes</span></span> |
| <span data-ttu-id="14e37-260">Oui</span><span class="sxs-lookup"><span data-stu-id="14e37-260">Yes</span></span> |<span data-ttu-id="14e37-261">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-261">No</span></span> |<span data-ttu-id="14e37-262">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-262">No</span></span> |<span data-ttu-id="14e37-263">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-263">No</span></span> |<span data-ttu-id="14e37-264">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-264">No</span></span> |<span data-ttu-id="14e37-265">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-265">No</span></span> |<span data-ttu-id="14e37-266">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-266">No</span></span> |
| <span data-ttu-id="14e37-267">Oui</span><span class="sxs-lookup"><span data-stu-id="14e37-267">Yes</span></span> |<span data-ttu-id="14e37-268">Oui</span><span class="sxs-lookup"><span data-stu-id="14e37-268">Yes</span></span> |<span data-ttu-id="14e37-269">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-269">No</span></span> |<span data-ttu-id="14e37-270">Oui</span><span class="sxs-lookup"><span data-stu-id="14e37-270">Yes</span></span> |<span data-ttu-id="14e37-271">Oui</span><span class="sxs-lookup"><span data-stu-id="14e37-271">Yes</span></span> |<span data-ttu-id="14e37-272">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-272">No</span></span> |<span data-ttu-id="14e37-273">Oui</span><span class="sxs-lookup"><span data-stu-id="14e37-273">Yes</span></span> |
| <span data-ttu-id="14e37-274">Oui</span><span class="sxs-lookup"><span data-stu-id="14e37-274">Yes</span></span> |<span data-ttu-id="14e37-275">Oui</span><span class="sxs-lookup"><span data-stu-id="14e37-275">Yes</span></span> |<span data-ttu-id="14e37-276">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-276">No</span></span> |<span data-ttu-id="14e37-277">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-277">No</span></span> |<span data-ttu-id="14e37-278">Oui</span><span class="sxs-lookup"><span data-stu-id="14e37-278">Yes</span></span> |<span data-ttu-id="14e37-279">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-279">No</span></span> |<span data-ttu-id="14e37-280">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-280">No</span></span> |
| <span data-ttu-id="14e37-281">Oui</span><span class="sxs-lookup"><span data-stu-id="14e37-281">Yes</span></span> |<span data-ttu-id="14e37-282">Oui</span><span class="sxs-lookup"><span data-stu-id="14e37-282">Yes</span></span> |<span data-ttu-id="14e37-283">Oui</span><span class="sxs-lookup"><span data-stu-id="14e37-283">Yes</span></span> |<span data-ttu-id="14e37-284">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-284">No</span></span> |<span data-ttu-id="14e37-285">Non</span><span class="sxs-lookup"><span data-stu-id="14e37-285">No</span></span> |<span data-ttu-id="14e37-286">Oui</span><span class="sxs-lookup"><span data-stu-id="14e37-286">Yes</span></span> |<span data-ttu-id="14e37-287">Oui</span><span class="sxs-lookup"><span data-stu-id="14e37-287">Yes</span></span> |

## <a name="billing-for-cors-requests"></a><span data-ttu-id="14e37-288">Facturation des demandes CORS</span><span class="sxs-lookup"><span data-stu-id="14e37-288">Billing for CORS requests</span></span>
<span data-ttu-id="14e37-289">Les demandes préliminaires ayant réussi sont facturées si vous avez activé des CORS pour un des services de stockage hello pour votre compte (en appelant [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [définir les propriétés de Service de file d’attente](https://msdn.microsoft.com/library/hh452232.aspx), ou [ Définir les propriétés de Service de Table](https://msdn.microsoft.com/library/hh452240.aspx)).</span><span class="sxs-lookup"><span data-stu-id="14e37-289">Successful preflight requests are billed if you have enabled CORS for any of hello storage services for your account (by calling [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), or [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx)).</span></span> <span data-ttu-id="14e37-290">frais de toominimize, envisagez de définir le hello **MaxAgeInSeconds** élément dans votre CORS règles tooa grande valeur permettant de hello agent utilisateur met en cache les demande hello.</span><span class="sxs-lookup"><span data-stu-id="14e37-290">toominimize charges, consider setting hello **MaxAgeInSeconds** element in your CORS rules tooa large value so that hello user agent caches hello request.</span></span>

<span data-ttu-id="14e37-291">Les demandes préliminaires infructueuses ne seront pas facturés.</span><span class="sxs-lookup"><span data-stu-id="14e37-291">Unsuccessful preflight requests will not be billed.</span></span>

## <a name="next-steps"></a><span data-ttu-id="14e37-292">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="14e37-292">Next steps</span></span>
[<span data-ttu-id="14e37-293">Définition des propriétés du service Blob</span><span class="sxs-lookup"><span data-stu-id="14e37-293">Set Blob Service Properties</span></span>](https://msdn.microsoft.com/library/hh452235.aspx)

[<span data-ttu-id="14e37-294">Définition des propriétés du service de File d’attente</span><span class="sxs-lookup"><span data-stu-id="14e37-294">Set Queue Service Properties</span></span>](https://msdn.microsoft.com/library/hh452232.aspx)

[<span data-ttu-id="14e37-295">Définition des propriétés du service de Table</span><span class="sxs-lookup"><span data-stu-id="14e37-295">Set Table Service Properties</span></span>](https://msdn.microsoft.com/library/hh452240.aspx)

[<span data-ttu-id="14e37-296">Spécification du Partage des ressources cross-origin (W3C)</span><span class="sxs-lookup"><span data-stu-id="14e37-296">W3C Cross-Origin Resource Sharing Specification</span></span>](http://www.w3.org/TR/cors/)

