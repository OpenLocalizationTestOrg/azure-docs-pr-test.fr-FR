---
title: "aaaTroubleshooting stockage Azure avec les diagnostics et de l’Analyseur de Message | Documents Microsoft"
description: "Didacticiel illustrant la résolution des problèmes de bout en bout avec Azure Storage Analytics, AzCopy et Microsoft Message Analyzer"
services: storage
documentationcenter: dotnet
author: robinsh
manager: timlt
ms.assetid: 643372a3-1c07-4e88-b4ef-042512a43086
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 03/15/2017
ms.author: robinsh
ms.openlocfilehash: f0b7886911c35de1fdc0bcbe6f83c220ddb38cf5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="end-to-end-troubleshooting-using-azure-storage-metrics-and-logging-azcopy-and-message-analyzer"></a><span data-ttu-id="b9719-103">Résolution des problèmes de bout en bout avec la journalisation et les mesures du stockage Azure, AzCopy et Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="b9719-103">End-to-End Troubleshooting using Azure Storage metrics and logging, AzCopy, and Message Analyzer</span></span>
[!INCLUDE [storage-selector-portal-e2e-troubleshooting](../../includes/storage-selector-portal-e2e-troubleshooting.md)]

<span data-ttu-id="b9719-104">Diagnostic et résolution des problèmes sont essentiels pour la création et la prise en charge d'applications clientes avec Microsoft Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="b9719-104">Diagnosing and troubleshooting is a key skill for building and supporting client applications with Microsoft Azure Storage.</span></span> <span data-ttu-id="b9719-105">En raison de la nature toohello distribuée d’une application Azure, diagnostic et la résolution des erreurs et problèmes de performances peuvent être plus complexes que dans les environnements classiques.</span><span class="sxs-lookup"><span data-stu-id="b9719-105">Due toohello distributed nature of an Azure application, diagnosing and troubleshooting errors and performance issues may be more complex than in traditional environments.</span></span>

<span data-ttu-id="b9719-106">Dans ce didacticiel, nous allons montrer comment tooidentify certaines erreurs qui peuvent affecter les performances et résoudre les erreurs de bout en bout à l’aide des outils fournis par Microsoft et le stockage Azure, dans l’application cliente de commande toooptimize hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-106">In this tutorial, we demonstrate how tooidentify certain errors that may affect performance, and troubleshoot those errors from end-to-end using tools provided by Microsoft and Azure Storage, in order toooptimize hello client application.</span></span>

<span data-ttu-id="b9719-107">Ce didacticiel fournit une exploration pratique d'un scénario de dépannage de bout en bout.</span><span class="sxs-lookup"><span data-stu-id="b9719-107">This tutorial provides a hands-on exploration of an end-to-end troubleshooting scenario.</span></span> <span data-ttu-id="b9719-108">Pour un guide détaillé des conceptuel tootroubleshooting stockage Azure des applications, consultez [moniteur, diagnostiquer et résoudre les problèmes de Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="b9719-108">For an in-depth conceptual guide tootroubleshooting Azure storage applications, see [Monitor, diagnose, and troubleshoot Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span></span>

## <a name="tools-for-troubleshooting-azure-storage-applications"></a><span data-ttu-id="b9719-109">Outils de résolution des problèmes dans les applications Azure Storage</span><span class="sxs-lookup"><span data-stu-id="b9719-109">Tools for troubleshooting Azure Storage applications</span></span>
<span data-ttu-id="b9719-110">les applications clientes tootroubleshoot à l’aide de Microsoft Azure Storage, vous pouvez utiliser une combinaison des outils toodetermine lorsqu’un problème s’est produite et quelles hello problème de hello peut être dû de.</span><span class="sxs-lookup"><span data-stu-id="b9719-110">tootroubleshoot client applications using Microsoft Azure Storage, you can use a combination of tools toodetermine when an issue has occurred and what hello cause of hello problem may be.</span></span> <span data-ttu-id="b9719-111">Ces outils incluent :</span><span class="sxs-lookup"><span data-stu-id="b9719-111">These tools include:</span></span>

* <span data-ttu-id="b9719-112">**Azure Storage Analytics**.</span><span class="sxs-lookup"><span data-stu-id="b9719-112">**Azure Storage Analytics**.</span></span> <span data-ttu-id="b9719-113">[Azure Storage Analytics](/rest/api/storageservices/Storage-Analytics) fournit des métriques et une journalisation pour Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="b9719-113">[Azure Storage Analytics](/rest/api/storageservices/Storage-Analytics) provides metrics and logging for Azure Storage.</span></span>
  
  * <span data-ttu-id="b9719-114">**Storage Metrics** assure le suivi des métriques de transaction et des métriques de capacité pour votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="b9719-114">**Storage metrics** tracks transaction metrics and capacity metrics for your storage account.</span></span> <span data-ttu-id="b9719-115">À l’aide de mesures, vous pouvez déterminer comment votre application s’exécute en fonction tooa diverses mesures différentes.</span><span class="sxs-lookup"><span data-stu-id="b9719-115">Using metrics, you can determine how your application is performing according tooa variety of different measures.</span></span> <span data-ttu-id="b9719-116">Consultez [schéma de Table de métriques Storage Analytique](/rest/api/storageservices/Storage-Analytics-Metrics-Table-Schema) pour plus d’informations sur les types hello de métriques suivies par stockage Analytique.</span><span class="sxs-lookup"><span data-stu-id="b9719-116">See [Storage Analytics Metrics Table Schema](/rest/api/storageservices/Storage-Analytics-Metrics-Table-Schema) for more information about hello types of metrics tracked by Storage Analytics.</span></span>
  * <span data-ttu-id="b9719-117">**La journalisation du stockage** enregistre chaque journal des demandes toohello Azure Storage services tooa côté serveur.</span><span class="sxs-lookup"><span data-stu-id="b9719-117">**Storage logging** logs each request toohello Azure Storage services tooa server-side log.</span></span> <span data-ttu-id="b9719-118">Hello journal assure le suivi des données détaillées pour chaque demande, y compris les opération hello effectuée, état hello d’opération de hello et les informations de latence.</span><span class="sxs-lookup"><span data-stu-id="b9719-118">hello log tracks detailed data for each request, including hello operation performed, hello status of hello operation, and latency information.</span></span> <span data-ttu-id="b9719-119">Consultez [le Format de journal Analytique stockage](/rest/api/storageservices/Storage-Analytics-Log-Format) pour plus d’informations sur les données de demande et de réponse hello écrit des journaux de toohello par stockage Analytique.</span><span class="sxs-lookup"><span data-stu-id="b9719-119">See [Storage Analytics Log Format](/rest/api/storageservices/Storage-Analytics-Log-Format) for more information about hello request and response data that is written toohello logs by Storage Analytics.</span></span>

> [!NOTE]
> <span data-ttu-id="b9719-120">Les comptes de stockage avec un type de réplication de stockage redondance de Zone (ZRS) n’ont pas de métriques de hello ou la fonctionnalité de journalisation activée pour l’instant.</span><span class="sxs-lookup"><span data-stu-id="b9719-120">Storage accounts with a replication type of Zone-Redundant Storage (ZRS) do not have hello metrics or logging capability enabled at this time.</span></span> 
> 
> 

* <span data-ttu-id="b9719-121">**Portail Azure**.</span><span class="sxs-lookup"><span data-stu-id="b9719-121">**Azure portal**.</span></span> <span data-ttu-id="b9719-122">Vous pouvez configurer des métriques et la journalisation pour votre compte de stockage Bonjour [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="b9719-122">You can configure metrics and logging for your storage account in hello [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="b9719-123">Vous pouvez également afficher des graphiques qui montrent le fonctionne de votre application au fil du temps et configurer toonotify alertes que vous attendu si votre application effectue différemment que pour une métrique spécifiée.</span><span class="sxs-lookup"><span data-stu-id="b9719-123">You can also view charts and graphs that show how your application is performing over time, and configure alerts toonotify you if your application performs differently than expected for a specified metric.</span></span>
  
    <span data-ttu-id="b9719-124">Consultez [surveiller un compte de stockage Bonjour Azure portal](storage-monitor-storage-account.md) pour plus d’informations sur la configuration de la surveillance Bonjour portail Azure.</span><span class="sxs-lookup"><span data-stu-id="b9719-124">See [Monitor a storage account in hello Azure portal](storage-monitor-storage-account.md) for information about configuring monitoring in hello Azure portal.</span></span>
* <span data-ttu-id="b9719-125">**AzCopy**.</span><span class="sxs-lookup"><span data-stu-id="b9719-125">**AzCopy**.</span></span> <span data-ttu-id="b9719-126">Journaux du serveur pour le stockage Azure sont stockés sous la forme d’objets BLOB, vous pouvez donc utiliser AzCopy toocopy hello journal BLOB tooa répertoire local pour l’analyse à l’aide de l’Analyseur de Message Microsoft.</span><span class="sxs-lookup"><span data-stu-id="b9719-126">Server logs for Azure Storage are stored as blobs, so you can use AzCopy toocopy hello log blobs tooa local directory for analysis using Microsoft Message Analyzer.</span></span> <span data-ttu-id="b9719-127">Consultez [transférer des données avec l’utilitaire de ligne de commande AzCopy de hello](storage-use-azcopy.md) pour plus d’informations sur AzCopy.</span><span class="sxs-lookup"><span data-stu-id="b9719-127">See [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md) for more information about AzCopy.</span></span>
* <span data-ttu-id="b9719-128">**Microsoft Message Analyzer**.</span><span class="sxs-lookup"><span data-stu-id="b9719-128">**Microsoft Message Analyzer**.</span></span> <span data-ttu-id="b9719-129">L’Analyseur de message est un outil qui consomme des fichiers journaux et affiche les données de journal dans un format visuel, il est facile toofilter, recherche et groupe journaliser les données en ensembles utiles que vous pouvez utiliser tooanalyze erreurs et problèmes de performances.</span><span class="sxs-lookup"><span data-stu-id="b9719-129">Message Analyzer is a tool that consumes log files and displays log data in a visual format that makes it easy toofilter, search, and group log data into useful sets that you can use tooanalyze errors and performance issues.</span></span> <span data-ttu-id="b9719-130">Pour plus d'informations sur Message Analyzer, consultez la page [Guide d'exploitation de Microsoft Message Analyzer](http://technet.microsoft.com/library/jj649776.aspx) .</span><span class="sxs-lookup"><span data-stu-id="b9719-130">See [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx) for more information about Message Analyzer.</span></span>

## <a name="about-hello-sample-scenario"></a><span data-ttu-id="b9719-131">À propos de l’exemple de scénario de hello</span><span class="sxs-lookup"><span data-stu-id="b9719-131">About hello sample scenario</span></span>
<span data-ttu-id="b9719-132">Pour ce didacticiel, nous allons examiner un scénario où les métriques Azure Storage indiquent un faible taux de réussite pour une application qui appelle le stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="b9719-132">For this tutorial, we'll examine a scenario where Azure Storage metrics indicates a low percent success rate for an application that calls Azure storage.</span></span> <span data-ttu-id="b9719-133">Hello mesure du taux de faible pourcentage de réussite (indiqué en tant que **PercentSuccess** Bonjour [portail Azure](https://portal.azure.com) et dans les tables de métriques hello) effectue le suivi des opérations qui réussissent, mais qui retournent un code d’état HTTP est supérieur à 299.</span><span class="sxs-lookup"><span data-stu-id="b9719-133">hello low percent success rate metric (shown as **PercentSuccess** in hello [Azure portal](https://portal.azure.com) and in hello metrics tables) tracks operations that succeed, but that return an HTTP status code that is greater than 299.</span></span> <span data-ttu-id="b9719-134">Dans les fichiers journaux de stockage côté serveur hello, ces opérations sont enregistrées avec un statut de transaction **ClientOtherErrors**.</span><span class="sxs-lookup"><span data-stu-id="b9719-134">In hello server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span> <span data-ttu-id="b9719-135">Pour plus d’informations sur la métrique de faible pourcentage de réussite hello, consultez [PercentSuccess basse affichent les métriques ou les entrées de journal analytique ont des opérations avec l’état de transaction de ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span><span class="sxs-lookup"><span data-stu-id="b9719-135">For more details about hello low percent success metric, see [Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span></span>

<span data-ttu-id="b9719-136">Les opérations d’Azure Storage peuvent renvoyer les codes d’état HTTP supérieurs à 299 dans le cadre de leur fonctionnement normal.</span><span class="sxs-lookup"><span data-stu-id="b9719-136">Azure Storage operations may return HTTP status codes greater than 299 as part of their normal functionality.</span></span> <span data-ttu-id="b9719-137">Mais dans certains cas, elles indiquent que vous pouvez être en mesure de toooptimize votre application cliente pour des performances accrues.</span><span class="sxs-lookup"><span data-stu-id="b9719-137">But these errors in some cases indicate that you may be able toooptimize your client application for improved performance.</span></span>

<span data-ttu-id="b9719-138">Dans ce scénario, nous allons étudier une toobe de fréquence faible pourcentage de réussite quoi que ce soit inférieure à 100 %.</span><span class="sxs-lookup"><span data-stu-id="b9719-138">In this scenario, we'll consider a low percent success rate toobe anything below 100%.</span></span> <span data-ttu-id="b9719-139">Vous pouvez choisir un autre métrique niveau, toutefois, selon les besoins de tooyour.</span><span class="sxs-lookup"><span data-stu-id="b9719-139">You can choose a different metric level, however, according tooyour needs.</span></span> <span data-ttu-id="b9719-140">Nous vous recommandons, pendant le test de votre application, d'établir une tolérance de référence pour les métriques de performances clés.</span><span class="sxs-lookup"><span data-stu-id="b9719-140">We recommend that during testing of your application, you establish a baseline tolerance for your key performance metrics.</span></span> <span data-ttu-id="b9719-141">Par exemple, vous pouvez déterminer, sur la base de tests, que votre application doit avoir un taux de réussite de 90 % ou 85 %.</span><span class="sxs-lookup"><span data-stu-id="b9719-141">For example, you might determine, based on testing, that your application should have a consistent percent success rate of 90%, or 85%.</span></span> <span data-ttu-id="b9719-142">Si vos données métriques montrent qu’application hello est libertés avec ce nombre, vous pouvez examiner ce que susceptible de causer l’augmentation de hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-142">If your metrics data shows that hello application is deviating from that number, then you can investigate what may be causing hello increase.</span></span>

<span data-ttu-id="b9719-143">Pour notre exemple de scénario, une fois que nous avons établi que la mesure du taux de pourcentage de réussite hello est inférieure à 100 %, nous examiner les erreurs de hello hello journaux toofind qui mettent en corrélation les mesures toohello et les utiliser toofigure comprendre ce qui est à l’origine hello plus faible pourcentage de réussite.</span><span class="sxs-lookup"><span data-stu-id="b9719-143">For our sample scenario, once we've established that hello percent success rate metric is below 100%, we will examine hello logs toofind hello errors that correlate toohello metrics, and use them toofigure out what is causing hello lower percent success rate.</span></span> <span data-ttu-id="b9719-144">Nous examinerons plus précisément les erreurs dans la plage de 400 hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-144">We'll look specifically at errors in hello 400 range.</span></span> <span data-ttu-id="b9719-145">Ensuite, nous étudierons plus en détail les erreurs 404 (Introuvable).</span><span class="sxs-lookup"><span data-stu-id="b9719-145">Then we'll more closely investigate 404 (Not Found) errors.</span></span>

### <a name="some-causes-of-400-range-errors"></a><span data-ttu-id="b9719-146">Certaines causes d'erreurs dans la plage 400</span><span class="sxs-lookup"><span data-stu-id="b9719-146">Some causes of 400-range errors</span></span>
<span data-ttu-id="b9719-147">exemples de Hello ci-dessous présente un échantillonnage de certaines erreurs 400-range pour les demandes sur le stockage d’objets Blob Azure et leurs causes possibles.</span><span class="sxs-lookup"><span data-stu-id="b9719-147">hello examples below shows a sampling of some 400-range errors for requests against Azure Blob Storage, and their possible causes.</span></span> <span data-ttu-id="b9719-148">Une de ces erreurs, ainsi que les erreurs dans la plage de 300 hello et plage de 500 hello, peuvent contribuer tooa faible pourcentage de réussite.</span><span class="sxs-lookup"><span data-stu-id="b9719-148">Any of these errors, as well as errors in hello 300 range and hello 500 range, can contribute tooa low percent success rate.</span></span>

<span data-ttu-id="b9719-149">Notez que les listes de hello ci-dessous sont loin d’être terminée.</span><span class="sxs-lookup"><span data-stu-id="b9719-149">Note that hello lists below are far from complete.</span></span> <span data-ttu-id="b9719-150">Consultez [d’état et Codes d’erreur](http://msdn.microsoft.com/library/azure/dd179382.aspx) sur MSDN pour plus d’informations sur les erreurs générales de stockage Azure et sur les erreurs tooeach spécifique des services de stockage hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-150">See [Status and Error Codes](http://msdn.microsoft.com/library/azure/dd179382.aspx) on MSDN for details about general Azure Storage errors and about errors specific tooeach of hello storage services.</span></span>

<span data-ttu-id="b9719-151">**Exemples de code d’état 404 (Introuvable)**</span><span class="sxs-lookup"><span data-stu-id="b9719-151">**Status Code 404 (Not Found) Examples**</span></span>

<span data-ttu-id="b9719-152">Se produit lorsqu’une opération de lecture pour un conteneur ou d’un objet blob échoue, car l’objet blob de hello ou un conteneur est introuvable.</span><span class="sxs-lookup"><span data-stu-id="b9719-152">Occurs when a read operation against a container or blob fails because hello blob or container is not found.</span></span>

* <span data-ttu-id="b9719-153">Se produit si un conteneur ou un objet blob a été supprimé par un autre client avant cette demande.</span><span class="sxs-lookup"><span data-stu-id="b9719-153">Occurs if a container or blob has been deleted by another client before this request.</span></span>
* <span data-ttu-id="b9719-154">Se produit si vous utilisez un appel d’API qui crée le conteneur de hello ou un objet blob après avoir vérifié si elle existe.</span><span class="sxs-lookup"><span data-stu-id="b9719-154">Occurs if you are using an API call that creates hello container or blob after checking whether it exists.</span></span> <span data-ttu-id="b9719-155">Hello CreateIfNotExists APIs appeler une tête toocheck première existence hello de hello conteneur ou blob ; Si elle n’existe pas, une erreur 404 est retourné et un deuxième appel PUT est effectué toowrite hello conteneur ou blob.</span><span class="sxs-lookup"><span data-stu-id="b9719-155">hello CreateIfNotExists APIs make a HEAD call first toocheck for hello existence of hello container or blob; if it does not exist, a 404 error is returned, and then a second PUT call is made toowrite hello container or blob.</span></span>

<span data-ttu-id="b9719-156">**Exemples de code d'état 409 (Conflit)**</span><span class="sxs-lookup"><span data-stu-id="b9719-156">**Status Code 409 (Conflict) Examples**</span></span>

* <span data-ttu-id="b9719-157">Se produit si vous utilisez un toocreate de l’API de créer un nouveau conteneur ou un objet blob, sans vérification de l’existence de tout d’abord, un conteneur ou un objet blob portant ce nom existe déjà.</span><span class="sxs-lookup"><span data-stu-id="b9719-157">Occurs if you use a Create API toocreate a new container or blob, without checking for existence first, and a container or blob with that name already exists.</span></span>
* <span data-ttu-id="b9719-158">Se produit si un conteneur est en cours de suppression et que vous essayez toocreate un conteneur avec hello même nom que celui avant l’opération de suppression hello est terminée.</span><span class="sxs-lookup"><span data-stu-id="b9719-158">Occurs if a container is being deleted, and you attempt toocreate a new container with hello same name before hello deletion operation is complete.</span></span>
* <span data-ttu-id="b9719-159">Se produit si vous spécifiez un bail sur un conteneur ou un objet blob, alors qu'il existe déjà un bail.</span><span class="sxs-lookup"><span data-stu-id="b9719-159">Occurs if you specify a lease on a container or blob, and there is already a lease present.</span></span>

<span data-ttu-id="b9719-160">**Exemples de code d'état 412 (Échec de la précondition)**</span><span class="sxs-lookup"><span data-stu-id="b9719-160">**Status Code 412 (Precondition Failed) Examples**</span></span>

* <span data-ttu-id="b9719-161">Se produit lorsque la condition de hello spécifiée par un en-tête conditionnel n’a pas été remplie.</span><span class="sxs-lookup"><span data-stu-id="b9719-161">Occurs when hello condition specified by a conditional header has not been met.</span></span>
* <span data-ttu-id="b9719-162">Se produit lorsque l’ID de bail hello spécifié ne correspond pas à des ID de bail hello sur le conteneur de hello ou un objet blob.</span><span class="sxs-lookup"><span data-stu-id="b9719-162">Occurs when hello lease ID specified does not match hello lease ID on hello container or blob.</span></span>

## <a name="generate-log-files-for-analysis"></a><span data-ttu-id="b9719-163">Génération de fichiers journaux pour l'analyse</span><span class="sxs-lookup"><span data-stu-id="b9719-163">Generate log files for analysis</span></span>
<span data-ttu-id="b9719-164">Dans ce didacticiel, nous allons utiliser l’Analyseur de Message toowork avec trois différents types de fichiers journaux, bien que vous pouvez choisir toowork avec l’une de ces :</span><span class="sxs-lookup"><span data-stu-id="b9719-164">In this tutorial, we'll use Message Analyzer toowork with three different types of log files, although you could choose toowork with any one of these:</span></span>

* <span data-ttu-id="b9719-165">Hello **journal server**, qui est créé lorsque vous activez la journalisation du stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="b9719-165">hello **server log**, which is created when you enable Azure Storage logging.</span></span> <span data-ttu-id="b9719-166">Hello contient les données relatives à chaque opération appelée sur l’un des services de stockage Azure hello - objet blob, file d’attente, table et fichier.</span><span class="sxs-lookup"><span data-stu-id="b9719-166">hello server log contains data about each operation called against one of hello Azure Storage services - blob, queue, table, and file.</span></span> <span data-ttu-id="b9719-167">journal du serveur Hello indique quelle opération a été appelée et le code d’état a été retournés, ainsi que d’autres détails sur hello demande et de réponse.</span><span class="sxs-lookup"><span data-stu-id="b9719-167">hello server log indicates which operation was called and what status code was returned, as well as other details about hello request and response.</span></span>
* <span data-ttu-id="b9719-168">Hello **journal du client .NET**, qui est créé lorsque vous activez la journalisation côté client à partir de votre application .NET.</span><span class="sxs-lookup"><span data-stu-id="b9719-168">hello **.NET client log**, which is created when you enable client-side logging from within your .NET application.</span></span> <span data-ttu-id="b9719-169">journaux du client Hello comprend des informations détaillées sur le client de hello prépare hello demande et reçoit et traite la réponse de hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-169">hello client log includes detailed information about how hello client prepares hello request and receives and processes hello response.</span></span>
* <span data-ttu-id="b9719-170">Hello **journal des traces réseau HTTP**, qui collecte les données sur les données demande et de réponse HTTP/HTTPS, notamment pour les opérations sur le stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="b9719-170">hello **HTTP network trace log**, which collects data on HTTP/HTTPS request and response data, including for operations against Azure Storage.</span></span> <span data-ttu-id="b9719-171">Dans ce didacticiel, nous allez générer la trace de réseau hello via l’Analyseur de Message.</span><span class="sxs-lookup"><span data-stu-id="b9719-171">In this tutorial, we'll generate hello network trace via Message Analyzer.</span></span>

### <a name="configure-server-side-logging-and-metrics"></a><span data-ttu-id="b9719-172">Configuration de la journalisation et des métriques côté serveur</span><span class="sxs-lookup"><span data-stu-id="b9719-172">Configure server-side logging and metrics</span></span>
<span data-ttu-id="b9719-173">Tout d’abord, nous avons besoin de journalisation d’Azure Storage tooconfigure et les mesures, afin que nous avons des données à partir de hello client application tooanalyze.</span><span class="sxs-lookup"><span data-stu-id="b9719-173">First, we'll need tooconfigure Azure Storage logging and metrics, so that we have data from hello client application tooanalyze.</span></span> <span data-ttu-id="b9719-174">Vous pouvez configurer la journalisation et les mesures dans de différentes façons : via hello [portail Azure](https://portal.azure.com), à l’aide de PowerShell, ou par programme.</span><span class="sxs-lookup"><span data-stu-id="b9719-174">You can configure logging and metrics in a variety of ways - via hello [Azure portal](https://portal.azure.com), by using PowerShell, or programmatically.</span></span> <span data-ttu-id="b9719-175">Pour plus d’informations sur la configuration de la journalisation et des métriques, consultez les pages [Activation de Storage Metrics et affichage des données de métriques](http://msdn.microsoft.com/library/azure/dn782843.aspx) et [Activation de la journalisation du stockage et accès aux données de journal](http://msdn.microsoft.com/library/azure/dn782840.aspx) sur MSDN.</span><span class="sxs-lookup"><span data-stu-id="b9719-175">See [Enabling Storage Metrics and Viewing Metrics Data](http://msdn.microsoft.com/library/azure/dn782843.aspx) and [Enabling Storage Logging and Accessing Log Data](http://msdn.microsoft.com/library/azure/dn782840.aspx) on MSDN for details about configuring logging and metrics.</span></span>

<span data-ttu-id="b9719-176">**Via hello portail Azure**</span><span class="sxs-lookup"><span data-stu-id="b9719-176">**Via hello Azure portal**</span></span>

<span data-ttu-id="b9719-177">tooconfigure journalisation et des mesures pour votre compte de stockage à l’aide de hello [portail Azure](https://portal.azure.com), suivez les instructions de hello à [surveiller un compte de stockage Bonjour Azure portal](storage-monitor-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="b9719-177">tooconfigure logging and metrics for your storage account using hello [Azure portal](https://portal.azure.com), follow hello instructions at [Monitor a storage account in hello Azure portal](storage-monitor-storage-account.md).</span></span>

> [!NOTE]
> <span data-ttu-id="b9719-178">Il n’est pas possible tooset mesure des minutes à l’aide de hello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="b9719-178">It's not possible tooset minute metrics using hello Azure portal.</span></span> <span data-ttu-id="b9719-179">Toutefois, nous recommandons que vous ne les définissez hello pour ce didacticiel et pour rechercher les problèmes de performances avec votre application.</span><span class="sxs-lookup"><span data-stu-id="b9719-179">However, we recommend that you do set them for hello purposes of this tutorial, and for investigating performance issues with your application.</span></span> <span data-ttu-id="b9719-180">Vous pouvez définir les métriques par minute à l’aide de PowerShell, comme illustré ci-dessous, ou par programme à l’aide de la bibliothèque cliente de stockage hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-180">You can set minute metrics using PowerShell as shown below, or programmatically using hello storage client library.</span></span>
> 
> <span data-ttu-id="b9719-181">Notez que hello portail Azure ne peut pas afficher les métriques par minute, seules les métriques par heure.</span><span class="sxs-lookup"><span data-stu-id="b9719-181">Note that hello Azure portal cannot display minute metrics, only hourly metrics.</span></span>
> 
> 

<span data-ttu-id="b9719-182">**Via PowerShell**</span><span class="sxs-lookup"><span data-stu-id="b9719-182">**Via PowerShell**</span></span>

<span data-ttu-id="b9719-183">tooget main de PowerShell pour Azure, consultez [comment tooinstall et configurer Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="b9719-183">tooget started with PowerShell for Azure, see [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span>

1. <span data-ttu-id="b9719-184">Hello d’utilisation [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) tooadd de l’applet de commande de votre utilisateur Azure compte toohello PowerShell fenêtre :</span><span class="sxs-lookup"><span data-stu-id="b9719-184">Use hello [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) cmdlet tooadd your Azure user account toohello PowerShell window:</span></span>
   
    ```powershell
    Add-AzureAccount
    ```

2. <span data-ttu-id="b9719-185">Bonjour **connecter tooMicrosoft Azure** fenêtre, adresse de messagerie de type hello et mot de passe associé à votre compte.</span><span class="sxs-lookup"><span data-stu-id="b9719-185">In hello **Sign in tooMicrosoft Azure** window, type hello email address and password associated with your account.</span></span> <span data-ttu-id="b9719-186">Azure authentifie et enregistre les informations d’identification de hello, puis ferme la fenêtre hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-186">Azure authenticates and saves hello credential information, and then closes hello window.</span></span>
3. <span data-ttu-id="b9719-187">Définir hello par défaut stockage compte toohello compte de stockage à l’aide d’un didacticiel de hello par l’exécution de ces commandes dans la fenêtre de PowerShell hello :</span><span class="sxs-lookup"><span data-stu-id="b9719-187">Set hello default storage account toohello storage account you are using for hello tutorial by executing these commands in hello PowerShell window:</span></span>
   
    ```powershell
    $SubscriptionName = 'Your subscription name'
    $StorageAccountName = 'yourstorageaccount'
    Set-AzureSubscription -CurrentStorageAccountName $StorageAccountName -SubscriptionName $SubscriptionName
    ```

4. <span data-ttu-id="b9719-188">Activer la journalisation pour hello service Blob du stockage :</span><span class="sxs-lookup"><span data-stu-id="b9719-188">Enable storage logging for hello Blob service:</span></span>
   
    ```powershell
    Set-AzureStorageServiceLoggingProperty -ServiceType Blob -LoggingOperations Read,Write,Delete -PassThru -RetentionDays 7 -Version 1.0
    ```

5. <span data-ttu-id="b9719-189">Activer les métriques de stockage pour hello service Blob, rendre vraiment tooset **- MetricsType** trop`Minute`:</span><span class="sxs-lookup"><span data-stu-id="b9719-189">Enable storage metrics for hello Blob service, making sure tooset **-MetricsType** too`Minute`:</span></span>
   
    ```powershell
    Set-AzureStorageServiceMetricsProperty -ServiceType Blob -MetricsType Minute -MetricsLevel ServiceAndApi -PassThru -RetentionDays 7 -Version 1.0
    ```

### <a name="configure-net-client-side-logging"></a><span data-ttu-id="b9719-190">Configuration de la journalisation côté client .NET</span><span class="sxs-lookup"><span data-stu-id="b9719-190">Configure .NET client-side logging</span></span>
<span data-ttu-id="b9719-191">tooconfigure côté client journalisation pour une application .NET, activer les diagnostics de .NET dans le fichier de configuration de l’application hello (web.config ou app.config).</span><span class="sxs-lookup"><span data-stu-id="b9719-191">tooconfigure client-side logging for a .NET application, enable .NET diagnostics in hello application's configuration file (web.config or app.config).</span></span> <span data-ttu-id="b9719-192">Consultez [journalisation avec hello bibliothèque cliente de stockage .NET côté Client](http://msdn.microsoft.com/library/azure/dn782839.aspx) et [journalisation avec hello SDK Microsoft Azure Storage pour Java côté Client](http://msdn.microsoft.com/library/azure/dn782844.aspx) sur MSDN pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="b9719-192">See [Client-side Logging with hello .NET Storage Client Library](http://msdn.microsoft.com/library/azure/dn782839.aspx) and [Client-side Logging with hello Microsoft Azure Storage SDK for Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) on MSDN for details.</span></span>

<span data-ttu-id="b9719-193">journal de Hello côté client comprend des informations détaillées sur le client de hello prépare hello demande et reçoit et traite la réponse de hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-193">hello client-side log includes detailed information about how hello client prepares hello request and receives and processes hello response.</span></span>

<span data-ttu-id="b9719-194">Hello bibliothèque cliente de stockage stocke les données de journal côté client à l’emplacement de hello spécifié dans le fichier de configuration de l’application hello (web.config ou app.config).</span><span class="sxs-lookup"><span data-stu-id="b9719-194">hello Storage Client Library stores client-side log data in hello location specified in hello application's configuration file (web.config or app.config).</span></span>

### <a name="collect-a-network-trace"></a><span data-ttu-id="b9719-195">Collecte d'un suivi réseau</span><span class="sxs-lookup"><span data-stu-id="b9719-195">Collect a network trace</span></span>
<span data-ttu-id="b9719-196">Vous pouvez utiliser l’Analyseur de Message toocollect une trace réseau HTTP/HTTPS pendant l’exécution de votre application cliente.</span><span class="sxs-lookup"><span data-stu-id="b9719-196">You can use Message Analyzer toocollect an HTTP/HTTPS network trace while your client application is running.</span></span> <span data-ttu-id="b9719-197">Utilisation de l’Analyseur de message [Fiddler](http://www.telerik.com/fiddler) sur hello back-end.</span><span class="sxs-lookup"><span data-stu-id="b9719-197">Message Analyzer uses [Fiddler](http://www.telerik.com/fiddler) on hello back end.</span></span> <span data-ttu-id="b9719-198">Avant de collecter de la trace de réseau hello, nous vous recommandons de configurer le trafic HTTPS Fiddler toorecord non chiffré :</span><span class="sxs-lookup"><span data-stu-id="b9719-198">Before you collect hello network trace, we recommend that you configure Fiddler toorecord unencrypted HTTPS traffic:</span></span>

1. <span data-ttu-id="b9719-199">Installez [Fiddler](http://www.telerik.com/download/fiddler).</span><span class="sxs-lookup"><span data-stu-id="b9719-199">Install [Fiddler](http://www.telerik.com/download/fiddler).</span></span>
2. <span data-ttu-id="b9719-200">Lancez Fiddler.</span><span class="sxs-lookup"><span data-stu-id="b9719-200">Launch Fiddler.</span></span>
3. <span data-ttu-id="b9719-201">Sélectionnez **Tools | Fiddler Options (Outils | Options de Fiddler)**.</span><span class="sxs-lookup"><span data-stu-id="b9719-201">Select **Tools | Fiddler Options**.</span></span>
4. <span data-ttu-id="b9719-202">Dans la boîte de dialogue Options hello, vérifiez que **capturer le connecte HTTPS** et **déchiffrer le trafic HTTPS** sont toutes deux activées, comme illustré ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="b9719-202">In hello Options dialog, ensure that **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** are both selected, as shown below.</span></span>

![Configuration des options de Fiddler](./media/storage-e2e-troubleshooting/fiddler-options-1.png)

<span data-ttu-id="b9719-204">Didacticiel de hello, collecter et tout d’abord enregistrer une trace réseau dans l’Analyseur de Message, puis créer une trace de hello analyse session tooanalyze et hello des journaux.</span><span class="sxs-lookup"><span data-stu-id="b9719-204">For hello tutorial, collect and save a network trace first in Message Analyzer, then create an analysis session tooanalyze hello trace and hello logs.</span></span> <span data-ttu-id="b9719-205">toocollect une trace réseau dans l’Analyseur de Message :</span><span class="sxs-lookup"><span data-stu-id="b9719-205">toocollect a network trace in Message Analyzer:</span></span>

1. <span data-ttu-id="b9719-206">Dans Message Analyzer, sélectionnez **File | Quick Trace | Unencrypted HTTPS (Fichier | Suivi rapide | HTTPS non chiffré)**.</span><span class="sxs-lookup"><span data-stu-id="b9719-206">In Message Analyzer, select **File | Quick Trace | Unencrypted HTTPS**.</span></span>
2. <span data-ttu-id="b9719-207">trace de Hello commence immédiatement.</span><span class="sxs-lookup"><span data-stu-id="b9719-207">hello trace will begin immediately.</span></span> <span data-ttu-id="b9719-208">Sélectionnez **arrêter** toostop hello trace pour que nous pouvons configurer tootrace le trafic de stockage uniquement.</span><span class="sxs-lookup"><span data-stu-id="b9719-208">Select **Stop** toostop hello trace so that we can configure it tootrace storage traffic only.</span></span>
3. <span data-ttu-id="b9719-209">Sélectionnez **modifier** session de suivi tooedit hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-209">Select **Edit** tooedit hello tracing session.</span></span>
4. <span data-ttu-id="b9719-210">Sélectionnez hello **configurer** lien toohello à droite de hello **Microsoft-Pef-WebProxy** fournisseur ETW.</span><span class="sxs-lookup"><span data-stu-id="b9719-210">Select hello **Configure** link toohello right of hello **Microsoft-Pef-WebProxy** ETW provider.</span></span>
5. <span data-ttu-id="b9719-211">Bonjour **paramètres avancés** boîte de dialogue, cliquez sur hello **fournisseur** onglet.</span><span class="sxs-lookup"><span data-stu-id="b9719-211">In hello **Advanced Settings** dialog, click hello **Provider** tab.</span></span>
6. <span data-ttu-id="b9719-212">Bonjour **filtre de nom d’hôte** Indiquez vos points de terminaison de stockage, séparés par des espaces.</span><span class="sxs-lookup"><span data-stu-id="b9719-212">In hello **Hostname Filter** field, specify your storage endpoints, separated by spaces.</span></span> <span data-ttu-id="b9719-213">Par exemple, vous pouvez spécifier vos points de terminaison comme suit : modifier `storagesample` nom toohello de votre compte de stockage :</span><span class="sxs-lookup"><span data-stu-id="b9719-213">For example, you can specify your endpoints as follows; change `storagesample` toohello name of your storage account:</span></span>

    ```   
    storagesample.blob.core.windows.net storagesample.queue.core.windows.net storagesample.table.core.windows.net
    ```

7. <span data-ttu-id="b9719-214">Quitter la boîte de dialogue hello, puis cliquez sur **redémarrer** toobegin la collecte d’hello trace avec le filtre de nom d’hôte hello en place, afin que seul le trafic de réseau de stockage Azure est inclus dans la trace de hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-214">Exit hello dialog, and click **Restart** toobegin collecting hello trace with hello hostname filter in place, so that only Azure Storage network traffic is included in hello trace.</span></span>

> [!NOTE]
> <span data-ttu-id="b9719-215">Une fois que vous avez terminé la collecte de trace de votre réseau, nous vous recommandons vivement de rétablir les paramètres hello que vous a peut-être changé dans le trafic HTTPS Fiddler toodecrypt.</span><span class="sxs-lookup"><span data-stu-id="b9719-215">After you have finished collecting your network trace, we strongly recommend that you revert hello settings that you may have changed in Fiddler toodecrypt HTTPS traffic.</span></span> <span data-ttu-id="b9719-216">Dans la boîte de dialogue Options de Fiddler hello, désélectionnez hello **capturer le connecte HTTPS** et **déchiffrer le trafic HTTPS** cases à cocher.</span><span class="sxs-lookup"><span data-stu-id="b9719-216">In hello Fiddler Options dialog, deselect hello **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** checkboxes.</span></span>
> 
> 

<span data-ttu-id="b9719-217">Consultez [à l’aide des fonctionnalités de suivi réseau hello](http://technet.microsoft.com/library/jj674819.aspx) sur Technet pour plus de détails.</span><span class="sxs-lookup"><span data-stu-id="b9719-217">See [Using hello Network Tracing Features](http://technet.microsoft.com/library/jj674819.aspx) on Technet for more details.</span></span>

## <a name="review-metrics-data-in-hello-azure-portal"></a><span data-ttu-id="b9719-218">Passez en revue les données de métriques Bonjour portail Azure</span><span class="sxs-lookup"><span data-stu-id="b9719-218">Review metrics data in hello Azure portal</span></span>
<span data-ttu-id="b9719-219">Une fois que votre application s’exécute pendant une période de temps, vous pouvez consulter les graphiques de métriques hello qui s’affichent dans hello [portail Azure](https://portal.azure.com) tooobserve comment votre service a été effectuée.</span><span class="sxs-lookup"><span data-stu-id="b9719-219">Once your application has been running for a period of time, you can review hello metrics charts that appear in hello [Azure portal](https://portal.azure.com) tooobserve how your service has been performing.</span></span>

<span data-ttu-id="b9719-220">Accédez d’abord, le compte de stockage tooyour Bonjour portail Azure.</span><span class="sxs-lookup"><span data-stu-id="b9719-220">First, navigate tooyour storage account in hello Azure portal.</span></span> <span data-ttu-id="b9719-221">Par défaut, un contrôle de graphique avec hello **pourcentage de réussite** mesure s’affiche dans le panneau de compte hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-221">By default, a monitoring chart with hello **Success percentage** metric is displayed on hello account blade.</span></span> <span data-ttu-id="b9719-222">Si vous avez modifié précédemment différentes métriques hello graphique toodisplay, ajouter hello **pourcentage de réussite** métrique.</span><span class="sxs-lookup"><span data-stu-id="b9719-222">If you've previously modified hello chart toodisplay different metrics, add hello **Success percentage** metric.</span></span>

<span data-ttu-id="b9719-223">Vous devez maintenant voir **pourcentage de réussite** Bonjour graphique de surveillance, ainsi que toutes les autres mesures vous avez ajouté.</span><span class="sxs-lookup"><span data-stu-id="b9719-223">You'll now see **Success percentage** in hello monitoring chart, along with any other metrics you may have added.</span></span> <span data-ttu-id="b9719-224">Dans le scénario hello que nous allons examiner ensuite en analysant les journaux hello dans l’Analyseur de Message, le taux de pourcentage de réussite de hello est légèrement inférieure à 100 %.</span><span class="sxs-lookup"><span data-stu-id="b9719-224">In hello scenario we'll investigate next by analyzing hello logs in Message Analyzer, hello percent success rate is somewhat below 100%.</span></span>

<span data-ttu-id="b9719-225">Pour plus d’informations sur l’ajout et la personnalisation de graphiques de mesures, consultez [Personnalisation des graphiques de mesures](storage-monitor-storage-account.md#customize-metrics-charts).</span><span class="sxs-lookup"><span data-stu-id="b9719-225">For more details on adding and customizing metrics charts, see [Customize metrics charts](storage-monitor-storage-account.md#customize-metrics-charts).</span></span>

> [!NOTE]
> <span data-ttu-id="b9719-226">Il peut prendre un certain temps pour votre tooappear de données de métriques Bonjour Azure portal après avoir activé les métriques de stockage.</span><span class="sxs-lookup"><span data-stu-id="b9719-226">It may take some time for your metrics data tooappear in hello Azure portal after you enable storage metrics.</span></span> <span data-ttu-id="b9719-227">Il s’agit, car les métriques pour hello heure précédente ne figurent pas dans hello portail Azure jusqu'à ce que hello heure actuelle a expiré.</span><span class="sxs-lookup"><span data-stu-id="b9719-227">This is because hourly metrics for hello previous hour are not displayed in hello Azure portal until hello current hour has elapsed.</span></span> <span data-ttu-id="b9719-228">En outre, les métriques par minute ne sont pas actuellement affichés dans hello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="b9719-228">Also, minute metrics are not currently displayed in hello Azure portal.</span></span> <span data-ttu-id="b9719-229">En fonction lorsque vous activez des mesures, qui peut prendre les données de métriques toosee tootwo heures.</span><span class="sxs-lookup"><span data-stu-id="b9719-229">So depending on when you enable metrics, it may take up tootwo hours toosee metrics data.</span></span>
> 
> 

## <a name="use-azcopy-toocopy-server-logs-tooa-local-directory"></a><span data-ttu-id="b9719-230">Utilisez AzCopy toocopy serveur journaux tooa répertoire local</span><span class="sxs-lookup"><span data-stu-id="b9719-230">Use AzCopy toocopy server logs tooa local directory</span></span>
<span data-ttu-id="b9719-231">Le stockage Azure écrit tooblobs de données de journal de serveur, tandis que les mesures sont écrites tootables.</span><span class="sxs-lookup"><span data-stu-id="b9719-231">Azure Storage writes server log data tooblobs, while metrics are written tootables.</span></span> <span data-ttu-id="b9719-232">Objets BLOB de journal est disponibles dans hello connue `$logs` conteneur pour votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="b9719-232">Log blobs are available in hello well-known `$logs` container for your storage account.</span></span> <span data-ttu-id="b9719-233">Objets BLOB de journal est nommés hiérarchiquement par année, mois, jour et les heures, afin que vous puissiez localiser facilement plage hello de fois que vous souhaitez tooinvestigate.</span><span class="sxs-lookup"><span data-stu-id="b9719-233">Log blobs are named hierarchically by year, month, day, and hour, so that you can easily locate hello range of time you wish tooinvestigate.</span></span> <span data-ttu-id="b9719-234">Par exemple, dans hello `storagesample` conteneur hello pour les objets BLOB de journal hello pour 02/01/2015, à partir de 8-9 : 00, le compte est `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span><span class="sxs-lookup"><span data-stu-id="b9719-234">For example, in hello `storagesample` account, hello container for hello log blobs for 01/02/2015, from 8-9 am, is `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span></span> <span data-ttu-id="b9719-235">objets BLOB individuels de Hello dans ce conteneur sont nommés de manière séquentielle, à partir de `000000.log`.</span><span class="sxs-lookup"><span data-stu-id="b9719-235">hello individual blobs in this container are named sequentially, beginning with `000000.log`.</span></span>

<span data-ttu-id="b9719-236">Vous pouvez utiliser toodownload d’outil de ligne de commande AzCopy hello ces emplacement tooa des fichiers journaux du côté serveur de votre choix sur votre ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="b9719-236">You can use hello AzCopy command-line tool toodownload these server-side log files tooa location of your choice on your local machine.</span></span> <span data-ttu-id="b9719-237">Par exemple, vous pouvez utiliser hello suivant des fichiers journaux de commande toodownload hello pour placer des opérations d’objet blob qui ont mis sur le 2 janvier 2015 toohello dossier `C:\Temp\Logs\Server`; Remplacez `<storageaccountname>` avec nom hello de votre compte de stockage et `<storageaccountkey>` avec votre clé d’accès de compte :</span><span class="sxs-lookup"><span data-stu-id="b9719-237">For example, you can use hello following command toodownload hello log files for blob operations that took place on January 2, 2015 toohello folder `C:\Temp\Logs\Server`; replace `<storageaccountname>` with hello name of your storage account, and `<storageaccountkey>` with your account access key:</span></span>

```azcopy
AzCopy.exe /Source:http://<storageaccountname>.blob.core.windows.net/$logs /Dest:C:\Temp\Logs\Server /Pattern:"blob/2015/01/02" /SourceKey:<storageaccountkey> /S /V
```
<span data-ttu-id="b9719-238">AzCopy est disponible pour téléchargement sur hello [téléchargements Azure](https://azure.microsoft.com/downloads/) page.</span><span class="sxs-lookup"><span data-stu-id="b9719-238">AzCopy is available for download on hello [Azure Downloads](https://azure.microsoft.com/downloads/) page.</span></span> <span data-ttu-id="b9719-239">Pour plus d’informations sur l’utilisation de AzCopy, consultez [transférer des données avec l’utilitaire de ligne de commande AzCopy de hello](storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="b9719-239">For details about using AzCopy, see [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md).</span></span>

<span data-ttu-id="b9719-240">Pour plus d’informations sur le téléchargement des journaux côté serveur, consultez [Télécharger les données de journal de la journalisation du stockage](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span><span class="sxs-lookup"><span data-stu-id="b9719-240">For additional information about downloading server-side logs, see [Download Storage Logging log data](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span></span>

## <a name="use-microsoft-message-analyzer-tooanalyze-log-data"></a><span data-ttu-id="b9719-241">Utiliser les données du journal Microsoft Message Analyzer tooanalyze</span><span class="sxs-lookup"><span data-stu-id="b9719-241">Use Microsoft Message Analyzer tooanalyze log data</span></span>
<span data-ttu-id="b9719-242">Microsoft Message Analyzer est un outil de capture, d'affichage et d'analyse du trafic de messagerie de protocole, des événements et des autres messages du système ou des applications dans les scénarios de résolution des problèmes et de diagnostic.</span><span class="sxs-lookup"><span data-stu-id="b9719-242">Microsoft Message Analyzer is a tool for capturing, displaying, and analyzing protocol messaging traffic, events, and other system or application messages in troubleshooting and diagnostic scenarios.</span></span> <span data-ttu-id="b9719-243">L’Analyseur de message également vous tooload, aggregate et analyser les données de journal et enregistré les fichiers de trace.</span><span class="sxs-lookup"><span data-stu-id="b9719-243">Message Analyzer also enables you tooload, aggregate, and analyze data from log and saved trace files.</span></span> <span data-ttu-id="b9719-244">Pour plus d'informations sur Message Analyzer, consultez la page [Guide d'exploitation de Microsoft Message Analyzer](http://technet.microsoft.com/library/jj649776.aspx).</span><span class="sxs-lookup"><span data-stu-id="b9719-244">For more information about Message Analyzer, see [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx).</span></span>

<span data-ttu-id="b9719-245">L’Analyseur de message inclut des ressources pour le stockage Azure qui vous aident à tooanalyze serveur, client et journaux réseau.</span><span class="sxs-lookup"><span data-stu-id="b9719-245">Message Analyzer includes assets for Azure Storage that help you tooanalyze server, client, and network logs.</span></span> <span data-ttu-id="b9719-246">Dans cette section, nous expliquerons comment toouse ces tooaddress outils hello problème de faible pourcentage de réussite dans hello des journaux de stockage.</span><span class="sxs-lookup"><span data-stu-id="b9719-246">In this section, we'll discuss how toouse those tools tooaddress hello issue of low percent success in hello storage logs.</span></span>

### <a name="download-and-install-message-analyzer-and-hello-azure-storage-assets"></a><span data-ttu-id="b9719-247">Télécharger et installer l’Analyseur de Message et hello des ressources de stockage Azure</span><span class="sxs-lookup"><span data-stu-id="b9719-247">Download and install Message Analyzer and hello Azure Storage Assets</span></span>
1. <span data-ttu-id="b9719-248">Télécharger [l’Analyseur de Message](http://www.microsoft.com/download/details.aspx?id=44226) de hello Microsoft Download Center, et exécuter le programme d’installation hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-248">Download [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) from hello Microsoft Download Center, and run hello installer.</span></span>
2. <span data-ttu-id="b9719-249">Lancez Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="b9719-249">Launch Message Analyzer.</span></span>
3. <span data-ttu-id="b9719-250">À partir de hello **outils** menu, sélectionnez **Asset Manager**.</span><span class="sxs-lookup"><span data-stu-id="b9719-250">From hello **Tools** menu, select **Asset Manager**.</span></span> <span data-ttu-id="b9719-251">Bonjour **Asset Manager** boîte de dialogue, sélectionnez **télécharge**, puis filtrez sur **Azure Storage**.</span><span class="sxs-lookup"><span data-stu-id="b9719-251">In hello **Asset Manager** dialog, select **Downloads**, then filter on **Azure Storage**.</span></span> <span data-ttu-id="b9719-252">Vous verrez des ressources de stockage Azure hello, comme indiqué dans l’image hello ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="b9719-252">You will see hello Azure Storage Assets, as shown in hello picture below.</span></span>
4. <span data-ttu-id="b9719-253">Cliquez sur **synchronisation affiche tous les éléments** tooinstall hello des ressources de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="b9719-253">Click **Sync All Displayed Items** tooinstall hello Azure Storage Assets.</span></span> <span data-ttu-id="b9719-254">les ressources Hello disponibles sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="b9719-254">hello available assets include:</span></span>
   * <span data-ttu-id="b9719-255">**Règles de couleur de stockage Azure :** règles de couleur de stockage Azure vous toodefine filtres spéciaux qui utilisent la couleur de texte, et toohighlight les messages qui contiennent des informations spécifiques dans une trace des styles de police.</span><span class="sxs-lookup"><span data-stu-id="b9719-255">**Azure Storage Color Rules:** Azure Storage color rules enable you toodefine special filters that use color, text, and font styles toohighlight messages that contain specific information in a trace.</span></span>
   * <span data-ttu-id="b9719-256">**Graphiques Azure Storage :** il s’agit de représentations graphiques prédéfinies des données du journal du serveur.</span><span class="sxs-lookup"><span data-stu-id="b9719-256">**Azure Storage Charts:** Azure Storage charts are predefined charts that graph server log data.</span></span> <span data-ttu-id="b9719-257">Notez que toouse graphiques de stockage Azure à ce stade, vous pouvez charger uniquement le journal de serveur hello en hello grille de l’analyse.</span><span class="sxs-lookup"><span data-stu-id="b9719-257">Note that toouse Azure Storage charts at this time, you may only load hello server log into hello Analysis Grid.</span></span>
   * <span data-ttu-id="b9719-258">**Les analyseurs de stockage Azure :** hello client de stockage Azure analyseurs analyse hello stockage Azure, le serveur et HTTP dans l’ordre toodisplay les enregistre dans hello grille de l’analyse.</span><span class="sxs-lookup"><span data-stu-id="b9719-258">**Azure Storage Parsers:** hello Azure Storage parsers parse hello Azure Storage client, server, and HTTP logs in order toodisplay them in hello Analysis Grid.</span></span>
   * <span data-ttu-id="b9719-259">**Filtres de stockage Azure :** filtres de stockage Azure sont des critères prédéfinis que vous pouvez utiliser tooquery vos données Bonjour grille de l’analyse.</span><span class="sxs-lookup"><span data-stu-id="b9719-259">**Azure Storage Filters:** Azure Storage filters are predefined criteria that you can use tooquery your data in hello Analysis Grid.</span></span>
   * <span data-ttu-id="b9719-260">**Dispositions de mode de stockage Azure :** dispositions de mode de stockage Azure sont des présentations colonne prédéfinies et des regroupements dans hello grille de l’analyse.</span><span class="sxs-lookup"><span data-stu-id="b9719-260">**Azure Storage View Layouts:** Azure Storage view layouts are predefined column layouts and groupings in hello Analysis Grid.</span></span>
5. <span data-ttu-id="b9719-261">Redémarrez l’Analyseur de Message après avoir installé les composants hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-261">Restart Message Analyzer after you've installed hello assets.</span></span>

![Gestionnaire de biens de l’analyseur de message](./media/storage-e2e-troubleshooting/mma-start-page-1.png)

> [!NOTE]
> <span data-ttu-id="b9719-263">Installez toutes les ressources de stockage Azure hello indiqués hello pour ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="b9719-263">Install all of hello Azure Storage assets shown for hello purposes of this tutorial.</span></span>
> 
> 

### <a name="import-your-log-files-into-message-analyzer"></a><span data-ttu-id="b9719-264">Importation de vos fichiers journaux dans Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="b9719-264">Import your log files into Message Analyzer</span></span>
<span data-ttu-id="b9719-265">Vous pouvez importer tous vos fichiers journaux enregistrés (côté serveur, côté client et réseau) dans une session de Microsoft Message Analyzer pour l'analyse.</span><span class="sxs-lookup"><span data-stu-id="b9719-265">You can import all of your saved log files (server-side, client-side, and network) into a single session in Microsoft Message Analyzer for analysis.</span></span>

1. <span data-ttu-id="b9719-266">Sur hello **fichier** menu dans l’Analyseur de Message de Microsoft, cliquez sur **nouvelle Session**, puis cliquez sur **Session vide**.</span><span class="sxs-lookup"><span data-stu-id="b9719-266">On hello **File** menu in Microsoft Message Analyzer, click **New Session**, and then click **Blank Session**.</span></span> <span data-ttu-id="b9719-267">Bonjour **nouvelle Session** boîte de dialogue, entrez un nom pour votre session d’analyse.</span><span class="sxs-lookup"><span data-stu-id="b9719-267">In hello **New Session** dialog, enter a name for your analysis session.</span></span> <span data-ttu-id="b9719-268">Bonjour **détails de la Session** du panneau, cliquez sur hello **fichiers** bouton.</span><span class="sxs-lookup"><span data-stu-id="b9719-268">In hello **Session Details** panel, click on hello **Files** button.</span></span>
2. <span data-ttu-id="b9719-269">données de trace tooload hello réseau générées par l’Analyseur de Message, cliquez sur **ajouter des fichiers**, rechercher l’emplacement de toohello où vous avez enregistré votre fichier .matp à partir de votre session de suivi web, fichier .matp de hello sélectionnez, puis cliquez sur **ouvrir**.</span><span class="sxs-lookup"><span data-stu-id="b9719-269">tooload hello network trace data generated by Message Analyzer, click on **Add Files**, browse toohello location where you saved your .matp file from your web tracing session, select hello .matp file, and click **Open**.</span></span>
3. <span data-ttu-id="b9719-270">données de journal côté serveur hello tooload, cliquez sur **ajouter des fichiers**, rechercher l’emplacement de toohello où vous avez téléchargé vos journaux côté serveur, sélectionnez les fichiers de journal hello pour plage de temps hello vous souhaitez tooanalyze, puis cliquez sur **ouvrir**.</span><span class="sxs-lookup"><span data-stu-id="b9719-270">tooload hello server-side log data, click on **Add Files**, browse toohello location where you downloaded your server-side logs, select hello log files for hello time range you want tooanalyze, and click **Open**.</span></span> <span data-ttu-id="b9719-271">Puis, dans hello **détails de la Session** Panneau de configuration, le jeu hello **Configuration des journaux texte** liste déroulante pour chaque fichier de journal côté serveur trop**AzureStorageLog** tooensure que Microsoft L’Analyseur de message peut analyser les fichier de journal hello correctement.</span><span class="sxs-lookup"><span data-stu-id="b9719-271">Then, in hello **Session Details** panel, set hello **Text Log Configuration** drop-down for each server-side log file too**AzureStorageLog** tooensure that Microsoft Message Analyzer can parse hello log file correctly.</span></span>
4. <span data-ttu-id="b9719-272">données de journal côté client tooload hello, cliquez sur **ajouter des fichiers**, rechercher l’emplacement de toohello où vous avez enregistré vos journaux côté client, sélectionnez les fichiers de journaux hello vous souhaitez tooanalyze, puis cliquez sur **ouvrir**.</span><span class="sxs-lookup"><span data-stu-id="b9719-272">tooload hello client-side log data, click on **Add Files**, browse toohello location where you saved your client-side logs, select hello log files you want tooanalyze, and click **Open**.</span></span> <span data-ttu-id="b9719-273">Puis, dans hello **détails de la Session** Panneau de configuration, le jeu hello **Configuration des journaux texte** liste déroulante pour chaque fichier de journal côté client trop**AzureStorageClientDotNetV4** tooensure qui L’Analyseur de Message Microsoft peut analyser les fichier de journal hello correctement.</span><span class="sxs-lookup"><span data-stu-id="b9719-273">Then, in hello **Session Details** panel, set hello **Text Log Configuration** drop-down for each client-side log file too**AzureStorageClientDotNetV4** tooensure that Microsoft Message Analyzer can parse hello log file correctly.</span></span>
5. <span data-ttu-id="b9719-274">Cliquez sur **Démarrer** Bonjour **nouvelle Session** dialogue tooload et l’analyse hello données du journal.</span><span class="sxs-lookup"><span data-stu-id="b9719-274">Click **Start** in hello **New Session** dialog tooload and parse hello log data.</span></span> <span data-ttu-id="b9719-275">affichent les données du journal Hello Bonjour Message Analyzer analyse grille.</span><span class="sxs-lookup"><span data-stu-id="b9719-275">hello log data displays in hello Message Analyzer Analysis Grid.</span></span>

<span data-ttu-id="b9719-276">image Hello ci-dessous montre un exemple de session configuré avec les fichiers journaux des traces réseau, client et serveur.</span><span class="sxs-lookup"><span data-stu-id="b9719-276">hello picture below shows an example session configured with server, client, and network trace log files.</span></span>

![Configuration d’une session de Message Analyzer](./media/storage-e2e-troubleshooting/configure-mma-session-1.png)

<span data-ttu-id="b9719-278">Notez que Message Analyzer charge les fichiers journaux en mémoire.</span><span class="sxs-lookup"><span data-stu-id="b9719-278">Note that Message Analyzer loads log files into memory.</span></span> <span data-ttu-id="b9719-279">Si vous avez un grand ensemble de données de journal, vous pouvez toofilter dans l’ordre tooget hello des performances optimales à partir de l’Analyseur de Message.</span><span class="sxs-lookup"><span data-stu-id="b9719-279">If you have a large set of log data, you will want toofilter it in order tooget hello best performance from Message Analyzer.</span></span>

<span data-ttu-id="b9719-280">Tout d’abord, déterminez laps de temps hello qui vous intéressez et minimiser ce laps de temps.</span><span class="sxs-lookup"><span data-stu-id="b9719-280">First, determine hello time frame that you are interested in reviewing, and keep this time frame as small as possible.</span></span> <span data-ttu-id="b9719-281">Dans de nombreux cas, vous devez tooreview une période de minutes ou heures au maximum.</span><span class="sxs-lookup"><span data-stu-id="b9719-281">In many cases you will want tooreview a period of minutes or hours at most.</span></span> <span data-ttu-id="b9719-282">Importer hello plus petit jeu de fichiers journaux qui peuvent répondre à vos besoins.</span><span class="sxs-lookup"><span data-stu-id="b9719-282">Import hello smallest set of logs that can meet your needs.</span></span>

<span data-ttu-id="b9719-283">Si vous avez toujours une grande quantité de données de journal, puis vous souhaiterez toospecify un toofilter de filtre de session vos données de journal avant de les charger.</span><span class="sxs-lookup"><span data-stu-id="b9719-283">If you still have a large amount of log data, then you may want toospecify a session filter toofilter your log data before you load it.</span></span> <span data-ttu-id="b9719-284">Bonjour **Session filtre** boîte, sélectionnez hello **bibliothèque** bouton toochoose un filtre prédéfini ; par exemple, choisir **filtre Global temps I** de hello filtres du stockage Azure toofilter sur un intervalle de temps.</span><span class="sxs-lookup"><span data-stu-id="b9719-284">In hello **Session Filter** box, select hello **Library** button toochoose a predefined filter; for example, choose **Global Time Filter I** from hello Azure Storage filters toofilter on a time interval.</span></span> <span data-ttu-id="b9719-285">Vous pouvez ensuite modifier Bonjour Bonjour du toospecify critères de filtre démarrage et horodatage de fin de l’intervalle de salutation vous toosee.</span><span class="sxs-lookup"><span data-stu-id="b9719-285">You can then edit hello filter criteria toospecify hello starting and ending timestamp for hello interval you want toosee.</span></span> <span data-ttu-id="b9719-286">Vous pouvez également filtrer sur un code d’état particulier. par exemple, vous pouvez choisir les seules entrées de journal tooload où le code d’état hello est 404.</span><span class="sxs-lookup"><span data-stu-id="b9719-286">You can also filter on a particular status code; for example, you can choose tooload only log entries where hello status code is 404.</span></span>

<span data-ttu-id="b9719-287">Pour plus d'informations sur l'importation des données de journal dans Microsoft Message Analyzer, consultez la page [Récupération des données des messages](http://technet.microsoft.com/library/dn772437.aspx) sur TechNet.</span><span class="sxs-lookup"><span data-stu-id="b9719-287">For more information about importing log data into Microsoft Message Analyzer, see [Retrieving Message Data](http://technet.microsoft.com/library/dn772437.aspx) on TechNet.</span></span>

### <a name="use-hello-client-request-id-toocorrelate-log-file-data"></a><span data-ttu-id="b9719-288">Utiliser les données de fichier journal de hello client demande ID toocorrelate</span><span class="sxs-lookup"><span data-stu-id="b9719-288">Use hello client request ID toocorrelate log file data</span></span>
<span data-ttu-id="b9719-289">Hello bibliothèque cliente de stockage Azure génère automatiquement un ID de demande client unique pour chaque demande.</span><span class="sxs-lookup"><span data-stu-id="b9719-289">hello Azure Storage Client Library automatically generates a unique client request ID for every request.</span></span> <span data-ttu-id="b9719-290">Cette valeur est écrite toohello client, journaux de serveur hello, suivi et journaux hello réseau, vous pouvez l’utiliser toocorrelate données sur trois journaux dans l’Analyseur de Message.</span><span class="sxs-lookup"><span data-stu-id="b9719-290">This value is written toohello client log, hello server log, and hello network trace, so you can use it toocorrelate data across all three logs within Message Analyzer.</span></span> <span data-ttu-id="b9719-291">Consultez [ID de demande Client](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) pour plus d’informations sur les clients hello ID de la demande</span><span class="sxs-lookup"><span data-stu-id="b9719-291">See [Client request ID](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) for additional information about hello client request ID.</span></span>

<span data-ttu-id="b9719-292">sections Hello ci-dessous décrivent comment toouse préconfiguré et les vues de disposition personnalisée toocorrelate et regrouper les données en fonction de la demande du client hello ID.</span><span class="sxs-lookup"><span data-stu-id="b9719-292">hello sections below describe how toouse pre-configured and custom layout views toocorrelate and group data based on hello client request ID.</span></span>

### <a name="select-a-view-layout-toodisplay-in-hello-analysis-grid"></a><span data-ttu-id="b9719-293">Sélectionnez un toodisplay de mise en page de vue Bonjour grille d’analyse</span><span class="sxs-lookup"><span data-stu-id="b9719-293">Select a view layout toodisplay in hello Analysis Grid</span></span>
<span data-ttu-id="b9719-294">Hello des ressources de stockage pour l’Analyseur de Message incluent les dispositions du mode de stockage Azure, qui sont des vues préconfigurées que vous pouvez utiliser toodisplay vos données avec des groupes utiles et des colonnes pour différents scénarios.</span><span class="sxs-lookup"><span data-stu-id="b9719-294">hello Storage Assets for Message Analyzer include Azure Storage View Layouts, which are pre-configured views that you can use toodisplay your data with useful groupings and columns for different scenarios.</span></span> <span data-ttu-id="b9719-295">Vous pouvez également créer des dispositions de vue personnalisées et les enregistrer pour pouvoir les réutiliser.</span><span class="sxs-lookup"><span data-stu-id="b9719-295">You can also create custom view layouts and save them for reuse.</span></span>

<span data-ttu-id="b9719-296">image Hello ci-dessous montre hello **mise en page de vue** menu, disponible en sélectionnant **mise en page de vue** à partir du ruban de barre d’outils hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-296">hello picture below shows hello **View Layout** menu, available by selecting **View Layout** from hello toolbar ribbon.</span></span> <span data-ttu-id="b9719-297">mises en page de vue Hello pour le stockage Azure sont regroupées sous hello **Azure Storage** nœud dans le menu de hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-297">hello view layouts for Azure Storage are grouped under hello **Azure Storage** node in hello menu.</span></span> <span data-ttu-id="b9719-298">Vous pouvez rechercher des `Azure Storage` dans toofilter de zone de recherche hello sur le stockage Azure permet d’afficher uniquement les dispositions.</span><span class="sxs-lookup"><span data-stu-id="b9719-298">You can search for `Azure Storage` in hello search box toofilter on Azure Storage view layouts only.</span></span> <span data-ttu-id="b9719-299">Vous pouvez également sélectionner hello en étoile suivant tooa vue disposition toomake informatique un favori et l’afficher en haut de hello du menu de hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-299">You can also select hello star next tooa view layout toomake it a favorite and display it at hello top of hello menu.</span></span>

![Menu Disposition de vue](./media/storage-e2e-troubleshooting/view-layout-menu.png)

<span data-ttu-id="b9719-301">toobegin avec select **regroupées par Module et ClientRequestID**.</span><span class="sxs-lookup"><span data-stu-id="b9719-301">toobegin with, select **Grouped by ClientRequestID and Module**.</span></span> <span data-ttu-id="b9719-302">Cette disposition de vue regroupe les données des trois journaux, d'abord par ID de demande client, puis par fichier journal source (ou **Module** dans Message Analyzer).</span><span class="sxs-lookup"><span data-stu-id="b9719-302">This view layout groups log data from all three logs first by client request ID, then by source log file (or **Module** in Message Analyzer).</span></span> <span data-ttu-id="b9719-303">Avec cette vue, vous pouvez explorer de manière détaillée un ID de demande client particulier et afficher les données des trois fichiers journaux pour cette ID de demande client.</span><span class="sxs-lookup"><span data-stu-id="b9719-303">With this view, you can drill down into a particular client request ID, and see data from all three log files for that client request ID.</span></span>

<span data-ttu-id="b9719-304">image Hello ci-dessous montre cette disposition affichage appliqué toohello journal des données d’échantillonnage, avec un sous-ensemble de colonnes affichées.</span><span class="sxs-lookup"><span data-stu-id="b9719-304">hello picture below shows this layout view applied toohello sample log data, with a subset of columns displayed.</span></span> <span data-ttu-id="b9719-305">Vous pouvez voir que pour un ID de demande client particulier, hello analyse grille affiche les données d’hello journal du client, les journaux de serveur et trace réseau.</span><span class="sxs-lookup"><span data-stu-id="b9719-305">You can see that for a particular client request ID, hello Analysis Grid displays data from hello client log, server log, and network trace.</span></span>

![Disposition de vue Azure Storage](./media/storage-e2e-troubleshooting/view-layout-client-request-id-module.png)

> [!NOTE]
> <span data-ttu-id="b9719-307">Différents fichiers journaux ont des colonnes différentes, donc lorsque les données à partir de plusieurs fichiers journaux sont affichées dans hello analyse grille, certaines colonnes ne peuvent pas contenir de données pour une ligne donnée.</span><span class="sxs-lookup"><span data-stu-id="b9719-307">Different log files have different columns, so when data from multiple log files is displayed in hello Analysis Grid, some columns may not contain any data for a given row.</span></span> <span data-ttu-id="b9719-308">Par exemple, dans l’image hello ci-dessus, les lignes de journal du client ne plus afficher toutes les données de hello **Timestamp**, **TimeElapsed**, **Source**, et **Destination** colonnes, car ces colonnes n’existent pas dans le journal du client hello, mais existent dans la trace de réseau hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-308">For example, in hello picture above, the client log rows do not show any data for hello **Timestamp**, **TimeElapsed**, **Source**, and **Destination** columns, because these columns do not exist in hello client log, but do exist in hello network trace.</span></span> <span data-ttu-id="b9719-309">De même, hello **Timestamp** colonne affiche les données d’horodatage à partir du journal du serveur hello, mais aucune donnée ne s’affiche pour hello **TimeElapsed**, **Source**, et  **Destination** colonnes qui ne font pas partie du journal du serveur hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-309">Similarly, hello **Timestamp** column displays timestamp data from hello server log, but no data is displayed for hello **TimeElapsed**, **Source**, and **Destination** columns, which are not part of hello server log.</span></span>
> 
> 

<span data-ttu-id="b9719-310">En outre toousing hello Azure Storage présentations, vous pouvez également définir et enregistrer vos propres mises en page de vue.</span><span class="sxs-lookup"><span data-stu-id="b9719-310">In addition toousing hello Azure Storage view layouts, you can also define and save your own view layouts.</span></span> <span data-ttu-id="b9719-311">Vous pouvez sélectionner d’autres champs de votre choisis pour le regroupement des données et enregistrer le regroupement de hello dans le cadre de votre disposition personnalisée ainsi.</span><span class="sxs-lookup"><span data-stu-id="b9719-311">You can select other desired fields for grouping data and save hello grouping as part of your custom layout as well.</span></span>

### <a name="apply-color-rules-toohello-analysis-grid"></a><span data-ttu-id="b9719-312">Appliquer des règles de couleur toohello analyse grille</span><span class="sxs-lookup"><span data-stu-id="b9719-312">Apply color rules toohello Analysis Grid</span></span>
<span data-ttu-id="b9719-313">Ressources de stockage Hello incluent également les règles de couleur, qui offrent qu'un élément visuel signifie tooidentify différents types d’erreurs Bonjour grille de l’analyse.</span><span class="sxs-lookup"><span data-stu-id="b9719-313">hello Storage Assets also include color rules, which offer a visual means tooidentify different types of errors in hello Analysis Grid.</span></span> <span data-ttu-id="b9719-314">Hello couleurs prédéfinies règles s’appliquent tooHTTP erreurs, afin qu’ils s’affichent uniquement pour la trace réseau et les journaux du serveur hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-314">hello predefined color rules apply tooHTTP errors, so they appear only for hello server log and network trace.</span></span>

<span data-ttu-id="b9719-315">Sélectionnez des règles de couleur tooapply, **les règles de couleur** à partir du ruban de barre d’outils hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-315">tooapply color rules, select **Color Rules** from hello toolbar ribbon.</span></span> <span data-ttu-id="b9719-316">Vous verrez les règles de couleur de stockage Azure hello dans le menu de hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-316">You'll see hello Azure Storage color rules in hello menu.</span></span> <span data-ttu-id="b9719-317">Pour hello didacticiel, sélectionnez **erreurs du Client (StatusCode compris entre 400 et 499)**, comme illustré dans l’image hello ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="b9719-317">For hello tutorial, select **Client Errors (StatusCode between 400 and 499)**, as shown in hello picture below.</span></span>

![Disposition de vue Azure Storage](./media/storage-e2e-troubleshooting/color-rules-menu.png)

<span data-ttu-id="b9719-319">En outre de couleur des règles toousing hello le stockage Azure, vous pouvez également définir et enregistrer vos propres règles de couleur.</span><span class="sxs-lookup"><span data-stu-id="b9719-319">In addition toousing hello Azure Storage color rules, you can also define and save your own color rules.</span></span>

### <a name="group-and-filter-log-data-toofind-400-range-errors"></a><span data-ttu-id="b9719-320">Regrouper et filtrer consigner les erreurs de 400-plage de données toofind</span><span class="sxs-lookup"><span data-stu-id="b9719-320">Group and filter log data toofind 400-range errors</span></span>
<span data-ttu-id="b9719-321">Ensuite, nous regrouper et filtrer toofind de données de journal hello toutes les erreurs dans la plage de hello 400.</span><span class="sxs-lookup"><span data-stu-id="b9719-321">Next, we'll group and filter hello log data toofind all errors in hello 400 range.</span></span>

1. <span data-ttu-id="b9719-322">Recherchez hello **StatusCode** colonne Bonjour grille Analysis, colonne de hello avec le bouton droit, titre et sélectionnez **groupe**.</span><span class="sxs-lookup"><span data-stu-id="b9719-322">Locate hello **StatusCode** column in hello Analysis Grid, right-click hello column heading, and select **Group**.</span></span>
2. <span data-ttu-id="b9719-323">Ensuite, regrouper sur hello **ClientRequestId** colonne.</span><span class="sxs-lookup"><span data-stu-id="b9719-323">Next, group on hello **ClientRequestId** column.</span></span> <span data-ttu-id="b9719-324">Vous verrez que les données de hello Bonjour que grille de l’analyse est désormais organisée par état de code et à la demande du client ID.</span><span class="sxs-lookup"><span data-stu-id="b9719-324">You'll see that hello data in hello Analysis Grid is now organized by status code and by client request ID.</span></span>
3. <span data-ttu-id="b9719-325">Affichez la fenêtre filtre de la vue hello si elle n’est pas affichée.</span><span class="sxs-lookup"><span data-stu-id="b9719-325">Display hello View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="b9719-326">Sur le ruban de barre d’outils hello, sélectionnez **fenêtres Outil**, puis **filtre de la vue**.</span><span class="sxs-lookup"><span data-stu-id="b9719-326">On hello toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
4. <span data-ttu-id="b9719-327">toofilter hello données toodisplay uniquement 400-plage erreurs du journal, ajouter hello suivant toohello de critères de filtre **filtre de la vue** fenêtre, puis cliquez sur **appliquer**:</span><span class="sxs-lookup"><span data-stu-id="b9719-327">toofilter hello log data toodisplay only 400-range errors, add hello following filter criteria toohello **View Filter** window, and click **Apply**:</span></span>

    ```   
    (AzureStorageLog.StatusCode >= 400 && AzureStorageLog.StatusCode <=499) || (HTTP.StatusCode >= 400 && HTTP.StatusCode <= 499)
    ```

<span data-ttu-id="b9719-328">image Hello ci-dessous montre les résultats de hello de ce regroupement et le filtre.</span><span class="sxs-lookup"><span data-stu-id="b9719-328">hello picture below shows hello results of this grouping and filter.</span></span> <span data-ttu-id="b9719-329">Expansion hello **ClientRequestID** champ sous hello de regroupement pour le code d’état 409, par exemple, montre une opération qui a entraîné ce code d’état.</span><span class="sxs-lookup"><span data-stu-id="b9719-329">Expanding hello **ClientRequestID** field beneath hello grouping for status code 409, for example, shows an operation that resulted in that status code.</span></span>

![Disposition de vue Azure Storage](./media/storage-e2e-troubleshooting/400-range-errors1.png)

<span data-ttu-id="b9719-331">Après avoir appliqué ce filtre, vous verrez que les lignes de journal du client hello sont exclues, comme hello journal client n’inclut pas un **StatusCode** colonne.</span><span class="sxs-lookup"><span data-stu-id="b9719-331">After applying this filter, you'll see that rows from hello client log are excluded, as hello client log does not include a **StatusCode** column.</span></span> <span data-ttu-id="b9719-332">toobegin avec, nous allons examiner du serveur de hello et toolocate réseau repérer les journaux des 404 erreurs, puis nous allons retourner toohello client journal tooexamine hello client les opérations qui ont conduit toothem.</span><span class="sxs-lookup"><span data-stu-id="b9719-332">toobegin with, we'll review hello server and network trace logs toolocate 404 errors, and then we'll return toohello client log tooexamine hello client operations that led toothem.</span></span>

> [!NOTE]
> <span data-ttu-id="b9719-333">Vous pouvez filtrer sur hello **StatusCode** colonne et toujours afficher les données de tous les journaux, y compris hello journal du client, si vous ajoutez un filtre d’expression de toohello qui comporte les entrées de journal dans lequel le code d’état hello est null.</span><span class="sxs-lookup"><span data-stu-id="b9719-333">You can filter on hello **StatusCode** column and still display data from all three logs, including hello client log, if you add an expression toohello filter that includes log entries where hello status code is null.</span></span> <span data-ttu-id="b9719-334">tooconstruct cette expression de filtre, utilisez :</span><span class="sxs-lookup"><span data-stu-id="b9719-334">tooconstruct this filter expression, use:</span></span>
> 
> <code>&#42;StatusCode >= 400 or !&#42;StatusCode</code>
> 
> <span data-ttu-id="b9719-335">Ce filtre retourne toutes les lignes de hello cliente journal et uniquement les lignes de journal du serveur hello et journal HTTP dont le code d’état hello est supérieur à 400.</span><span class="sxs-lookup"><span data-stu-id="b9719-335">This filter returns all rows from hello client log and only rows from hello server log and HTTP log where hello status code is greater than 400.</span></span> <span data-ttu-id="b9719-336">Si vous l’appliquez toohello regroupé par ID de demande client et le module de l’affichage de la disposition, vous pouvez rechercher ou défiler hello journal entrées toofind ceux où tous les trois journaux sont représentées.</span><span class="sxs-lookup"><span data-stu-id="b9719-336">If you apply it toohello view layout grouped by client request ID and module, you can search or scroll through hello log entries toofind ones where all three logs are represented.</span></span>   
> 
> 

### <a name="filter-log-data-toofind-404-errors"></a><span data-ttu-id="b9719-337">Filtrer les 404 erreurs du journal des données toofind</span><span class="sxs-lookup"><span data-stu-id="b9719-337">Filter log data toofind 404 errors</span></span>
<span data-ttu-id="b9719-338">Ressources de stockage Hello incluent des filtres prédéfinis que vous pouvez utiliser toonarrow journal toofind hello erreurs de données ou les tendances que vous recherchez.</span><span class="sxs-lookup"><span data-stu-id="b9719-338">hello Storage Assets include predefined filters that you can use toonarrow log data toofind hello errors or trends you are looking for.</span></span> <span data-ttu-id="b9719-339">Ensuite, nous allons appliquer deux filtres prédéfinis : une qui filtre les journaux de trace réseau pour les 404 erreurs et hello et une qui filtre les données hello sur un intervalle de temps spécifié.</span><span class="sxs-lookup"><span data-stu-id="b9719-339">Next, we'll apply two predefined filters: one that filters hello server and network trace logs for 404 errors, and one that filters hello data on a specified time range.</span></span>

1. <span data-ttu-id="b9719-340">Affichez la fenêtre filtre de la vue hello si elle n’est pas affichée.</span><span class="sxs-lookup"><span data-stu-id="b9719-340">Display hello View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="b9719-341">Sur le ruban de barre d’outils hello, sélectionnez **fenêtres Outil**, puis **filtre de la vue**.</span><span class="sxs-lookup"><span data-stu-id="b9719-341">On hello toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
2. <span data-ttu-id="b9719-342">Dans la fenêtre de filtre de la vue de hello, sélectionnez **bibliothèque**et effectuez une recherche sur `Azure Storage` hello toofind filtres de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="b9719-342">In hello View Filter window, select **Library**, and search on `Azure Storage` toofind hello Azure Storage filters.</span></span> <span data-ttu-id="b9719-343">Filtre sélectionnez hello pour **404 (introuvable) des messages dans tous les journaux**.</span><span class="sxs-lookup"><span data-stu-id="b9719-343">Select hello filter for **404 (Not Found) messages in all logs**.</span></span>
3. <span data-ttu-id="b9719-344">Hello d’affichage **bibliothèque** menu Nouveau, puis localisez et sélectionnez hello **filtre de temps Global**.</span><span class="sxs-lookup"><span data-stu-id="b9719-344">Display hello **Library** menu again, and locate and select hello **Global Time Filter**.</span></span>
4. <span data-ttu-id="b9719-345">Modifier les horodatages hello indiqués dans la plage de hello filtre toohello que tooview vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="b9719-345">Edit hello timestamps shown in hello filter toohello range you wish tooview.</span></span> <span data-ttu-id="b9719-346">Cela permet de plage hello toonarrow tooanalyze de données.</span><span class="sxs-lookup"><span data-stu-id="b9719-346">This will help toonarrow hello range of data tooanalyze.</span></span>
5. <span data-ttu-id="b9719-347">Le filtre doit apparaître comme exemple toohello ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="b9719-347">Your filter should appear similar toohello example below.</span></span> <span data-ttu-id="b9719-348">Cliquez sur **appliquer** tooapply hello filtre toohello grille de l’analyse.</span><span class="sxs-lookup"><span data-stu-id="b9719-348">Click **Apply** tooapply hello filter toohello Analysis Grid.</span></span>

    ```   
    ((AzureStorageLog.StatusCode == 404 || HTTP.StatusCode == 404)) And
    (#Timestamp >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39)
    ```

    ![Disposition de vue Azure Storage](./media/storage-e2e-troubleshooting/404-filtered-errors1.png)

### <a name="analyze-your-log-data"></a><span data-ttu-id="b9719-350">Analyse des données du journal</span><span class="sxs-lookup"><span data-stu-id="b9719-350">Analyze your log data</span></span>
<span data-ttu-id="b9719-351">Maintenant que vous avez groupées et filtré les données, vous pouvez examiner les détails de hello des requêtes individuelles qui ont généré des 404 erreurs.</span><span class="sxs-lookup"><span data-stu-id="b9719-351">Now that you have grouped and filtered your data, you can examine hello details of individual requests that generated 404 errors.</span></span> <span data-ttu-id="b9719-352">Dans la disposition d’affichage actuelle hello, les données de hello sont regroupées par ID de demande du client, puis par la source du journal.</span><span class="sxs-lookup"><span data-stu-id="b9719-352">In hello current view layout, hello data is grouped by client request ID, then by log source.</span></span> <span data-ttu-id="b9719-353">Étant donné que nous sommes le filtrage sur les demandes dont le champ de StatusCode hello contient 404, nous allons voir uniquement les serveur hello et données de trace du réseau, pas les données de journal client hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-353">Since we are filtering on requests where hello StatusCode field contains 404, we'll see only hello server and network trace data, not hello client log data.</span></span>

<span data-ttu-id="b9719-354">image Hello ci-dessous illustre une demande spécifique où une opération Get Blob générait une erreur 404, car l’objet blob de hello n’existe pas.</span><span class="sxs-lookup"><span data-stu-id="b9719-354">hello picture below shows a specific request where a Get Blob operation yielded a 404 because hello blob did not exist.</span></span> <span data-ttu-id="b9719-355">Notez que certaines colonnes ont été supprimées à partir de la vue standard de hello dans les données pertinentes de commande toodisplay hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-355">Note that some columns have been removed from hello standard view in order toodisplay hello relevant data.</span></span>

![Journaux de suivi du serveur et du réseau filtrés](./media/storage-e2e-troubleshooting/server-filtered-404-error.png)

<span data-ttu-id="b9719-357">Ensuite, nous allons corréler cet ID de demande client hello client journal données toosee client hello actions a été prise lors de l’hello erreur s’est produite.</span><span class="sxs-lookup"><span data-stu-id="b9719-357">Next, we'll correlate this client request ID with hello client log data toosee what actions hello client was taking when hello error happened.</span></span> <span data-ttu-id="b9719-358">Vous pouvez afficher une nouvelle vue de grille de l’analyse pour cette session tooview hello client données du journal, qui s’ouvre dans un deuxième onglet :</span><span class="sxs-lookup"><span data-stu-id="b9719-358">You can display a new Analysis Grid view for this session tooview hello client log data, which opens in a second tab:</span></span>

1. <span data-ttu-id="b9719-359">D’abord, copiez la valeur hello hello **ClientRequestId** Presse-papiers toohello de champ.</span><span class="sxs-lookup"><span data-stu-id="b9719-359">First, copy hello value of hello **ClientRequestId** field toohello clipboard.</span></span> <span data-ttu-id="b9719-360">Vous pouvez ce faire, sélectionnez une ligne, localisation hello **ClientRequestId** champ, en cliquant sur la valeur de données hello et en choisissant **copie « ClientRequestId »**.</span><span class="sxs-lookup"><span data-stu-id="b9719-360">You can do this by selecting either row, locating hello **ClientRequestId** field, right-clicking on hello data value, and choosing **Copy 'ClientRequestId'**.</span></span>
2. <span data-ttu-id="b9719-361">Sur le ruban de barre d’outils hello, sélectionnez **nouvelle visionneuse**, puis sélectionnez **analyse grille** tooopen un nouvel onglet hello nouvel onglet affiche toutes les données dans les fichiers journaux, sans les règles de couleur, de filtrage ou de regroupement.</span><span class="sxs-lookup"><span data-stu-id="b9719-361">On hello toolbar ribbon, select **New Viewer**, then select **Analysis Grid** tooopen a new tab. hello new tab shows all data in your log files, without grouping, filtering, or color rules.</span></span>
3. <span data-ttu-id="b9719-362">Sur le ruban de barre d’outils hello, sélectionnez **mise en page de vue**, puis sélectionnez **toutes les colonnes de Client .NET** sous hello **Azure Storage** section.</span><span class="sxs-lookup"><span data-stu-id="b9719-362">On hello toolbar ribbon, select **View Layout**, then select **All .NET Client Columns** under hello **Azure Storage** section.</span></span> <span data-ttu-id="b9719-363">Cette disposition de la vue affiche les données journal hello du client ainsi que hello journaux des traces de serveur et réseau.</span><span class="sxs-lookup"><span data-stu-id="b9719-363">This view layout shows data from hello client log as well as hello server and network trace logs.</span></span> <span data-ttu-id="b9719-364">Par défaut, il est trié sur hello **MessageNumber** colonne.</span><span class="sxs-lookup"><span data-stu-id="b9719-364">By default it is sorted on hello **MessageNumber** column.</span></span>
4. <span data-ttu-id="b9719-365">Ensuite, recherchez les journaux du client hello pour l’ID de demande client hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-365">Next, search hello client log for hello client request ID.</span></span> <span data-ttu-id="b9719-366">Sur le ruban de barre d’outils hello, sélectionnez **rechercher des Messages**, puis spécifiez un filtre personnalisé sur l’ID de demande client hello Bonjour **trouver** champ.</span><span class="sxs-lookup"><span data-stu-id="b9719-366">On hello toolbar ribbon, select **Find Messages**, then specify a custom filter on hello client request ID in hello **Find** field.</span></span> <span data-ttu-id="b9719-367">Utilisez la syntaxe de filtre hello, en spécifiant votre propre ID de demande client :</span><span class="sxs-lookup"><span data-stu-id="b9719-367">Use this syntax for hello filter, specifying your own client request ID:</span></span>

    ```
    *ClientRequestId == "398bac41-7725-484b-8a69-2a9e48fc669a"
    ```

<span data-ttu-id="b9719-368">L’Analyseur de message localise et sélectionne la première entrée de journal hello où les critères de recherche hello correspond aux ID de demande client hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-368">Message Analyzer locates and selects hello first log entry where hello search criteria matches hello client request ID.</span></span> <span data-ttu-id="b9719-369">Dans le journal du client hello, il existe plusieurs entrées pour chaque ID de demande client, vous pouvez donc toogroup à hello **ClientRequestId** champ toomake il toosee plus facilement les ensemble.</span><span class="sxs-lookup"><span data-stu-id="b9719-369">In hello client log, there are several entries for each client request ID, so you may want toogroup them on hello **ClientRequestId** field toomake it easier toosee them all together.</span></span> <span data-ttu-id="b9719-370">image Hello ci-dessous montre tous les messages hello client de hello de journal pour hello spécifié ID de demande client.</span><span class="sxs-lookup"><span data-stu-id="b9719-370">hello picture below shows all of hello messages in hello client log for hello specified client request ID.</span></span>

![Journal client affichant des erreurs 404](./media/storage-e2e-troubleshooting/client-log-analysis-grid1.png)

<span data-ttu-id="b9719-372">À l’aide de données hello indiquées dans les dispositions de vue hello dans ces deux onglets, vous pouvez analyser hello demande données toodetermine ce qui peut avoir provoqué l’erreur de hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-372">Using hello data shown in hello view layouts in these two tabs, you can analyze hello request data toodetermine what may have caused hello error.</span></span> <span data-ttu-id="b9719-373">Vous pouvez également consulter les demandes qui ont précédé cette un toosee si un événement précédent ont pu mener erreur 404 de toohello.</span><span class="sxs-lookup"><span data-stu-id="b9719-373">You can also look at requests that preceded this one toosee if a previous event may have led toohello 404 error.</span></span> <span data-ttu-id="b9719-374">Par exemple, vous pouvez consulter les entrées de journal client hello précédant cette toodetermine ID de demande client si l’objet blob de hello a peut-être été supprimé, ou si l’erreur de hello était en raison de l’application cliente de toohello appel d’une API de CreateIfNotExists dans un conteneur ou d’un objet blob.</span><span class="sxs-lookup"><span data-stu-id="b9719-374">For example, you can review hello client log entries preceding this client request ID toodetermine whether hello blob may have been deleted, or if hello error was due toohello client application calling a CreateIfNotExists API on a container or blob.</span></span> <span data-ttu-id="b9719-375">Dans le journal du client hello, vous pouvez trouver les adresses de l’objet blob de hello dans hello **Description** champ ; dans hello et les journaux de suivi réseau, ces informations s’affichent dans hello **Résumé** champ.</span><span class="sxs-lookup"><span data-stu-id="b9719-375">In hello client log, you can find hello blob's address in hello **Description** field; in hello server and network trace logs, this information appears in hello **Summary** field.</span></span>

<span data-ttu-id="b9719-376">Une fois que vous connaissez adresse hello du blob hello ayant généré l’erreur de hello 404, vous pouvez étudier de plus près.</span><span class="sxs-lookup"><span data-stu-id="b9719-376">Once you know hello address of hello blob that yielded hello 404 error, you can investigate further.</span></span> <span data-ttu-id="b9719-377">Si vous recherchez des entrées de journal hello pour les autres messages associés à des opérations sur hello même blob, vous pouvez vérifier si les clients hello supprimé précédemment entité de hello.</span><span class="sxs-lookup"><span data-stu-id="b9719-377">If you search hello log entries for other messages associated with operations on hello same blob, you can check whether hello client previously deleted hello entity.</span></span>

## <a name="analyze-other-types-of-storage-errors"></a><span data-ttu-id="b9719-378">Analyse des autres types d'erreur de stockage</span><span class="sxs-lookup"><span data-stu-id="b9719-378">Analyze other types of storage errors</span></span>
<span data-ttu-id="b9719-379">Maintenant que vous connaissez à l’aide de l’Analyseur de Message tooanalyze vos données de journal, vous pouvez analyser les autres types d’erreurs à l’aide de la vue disposition, les règles de couleur et la recherche/le filtrage.</span><span class="sxs-lookup"><span data-stu-id="b9719-379">Now that you are familiar with using Message Analyzer tooanalyze your log data, you can analyze other types of errors using view layouts, color rules, and searching/filtering.</span></span> <span data-ttu-id="b9719-380">Hello tables ci-dessous répertorie certains problèmes que vous pouvez rencontrer et hello des critères de filtre que vous pouvez utiliser toolocate les.</span><span class="sxs-lookup"><span data-stu-id="b9719-380">hello tables below lists some issues you may encounter and hello filter criteria you can use toolocate them.</span></span> <span data-ttu-id="b9719-381">Pour plus d’informations sur la construction des filtres et hello Analyseur de Message, le filtrage de langage, consultez [filtrage des données de Message](http://technet.microsoft.com/library/jj819365.aspx).</span><span class="sxs-lookup"><span data-stu-id="b9719-381">For more information on constructing filters and hello Message Analyzer filtering language, see [Filtering Message Data](http://technet.microsoft.com/library/jj819365.aspx).</span></span>

| <span data-ttu-id="b9719-382">tooInvestigate...</span><span class="sxs-lookup"><span data-stu-id="b9719-382">tooInvestigate…</span></span> | <span data-ttu-id="b9719-383">Utiliser l'expression de filtre...</span><span class="sxs-lookup"><span data-stu-id="b9719-383">Use Filter Expression…</span></span> | <span data-ttu-id="b9719-384">Expression s’applique tooLog (Client, serveur, réseau, toutes les)</span><span class="sxs-lookup"><span data-stu-id="b9719-384">Expression Applies tooLog (Client, Server,   Network, All)</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b9719-385">Retards inattendus de la remise des messages dans une file d'attente</span><span class="sxs-lookup"><span data-stu-id="b9719-385">Unexpected delays in message delivery on a queue</span></span> |<span data-ttu-id="b9719-386">AzureStorageClientDotNetV4.Description contient "Retrying failed operation."</span><span class="sxs-lookup"><span data-stu-id="b9719-386">AzureStorageClientDotNetV4.Description   contains "Retrying failed operation."</span></span> |<span data-ttu-id="b9719-387">Client</span><span class="sxs-lookup"><span data-stu-id="b9719-387">Client</span></span> |
| <span data-ttu-id="b9719-388">HTTP, augmentation de la valeur PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="b9719-388">HTTP Increase in PercentThrottlingError</span></span> |<span data-ttu-id="b9719-389">HTTP.Response.StatusCode   == 500 &#124;&#124; HTTP.Response.StatusCode == 503</span><span class="sxs-lookup"><span data-stu-id="b9719-389">HTTP.Response.StatusCode   == 500 &#124;&#124; HTTP.Response.StatusCode == 503</span></span> |<span data-ttu-id="b9719-390">Réseau</span><span class="sxs-lookup"><span data-stu-id="b9719-390">Network</span></span> |
| <span data-ttu-id="b9719-391">Augmentation de la valeur PercentTimeoutError</span><span class="sxs-lookup"><span data-stu-id="b9719-391">Increase in PercentTimeoutError</span></span> |<span data-ttu-id="b9719-392">HTTP.Response.StatusCode   == 500</span><span class="sxs-lookup"><span data-stu-id="b9719-392">HTTP.Response.StatusCode   == 500</span></span> |<span data-ttu-id="b9719-393">Réseau</span><span class="sxs-lookup"><span data-stu-id="b9719-393">Network</span></span> |
| <span data-ttu-id="b9719-394">Augmentation de la valeur PercentTimeoutError (tous)</span><span class="sxs-lookup"><span data-stu-id="b9719-394">Increase in PercentTimeoutError (all)</span></span> |<span data-ttu-id="b9719-395">*StatusCode   == 500</span><span class="sxs-lookup"><span data-stu-id="b9719-395">*StatusCode   == 500</span></span> |<span data-ttu-id="b9719-396">Tout</span><span class="sxs-lookup"><span data-stu-id="b9719-396">All</span></span> |
| <span data-ttu-id="b9719-397">Augmentation de la valeur PercentNetworkError</span><span class="sxs-lookup"><span data-stu-id="b9719-397">Increase in PercentNetworkError</span></span> |<span data-ttu-id="b9719-398">AzureStorageClientDotNetV4.EventLogEntry.Level   < 2</span><span class="sxs-lookup"><span data-stu-id="b9719-398">AzureStorageClientDotNetV4.EventLogEntry.Level   < 2</span></span> |<span data-ttu-id="b9719-399">Client</span><span class="sxs-lookup"><span data-stu-id="b9719-399">Client</span></span> |
| <span data-ttu-id="b9719-400">Messages HTTP 403 (refusé)</span><span class="sxs-lookup"><span data-stu-id="b9719-400">HTTP 403 (Forbidden) messages</span></span> |<span data-ttu-id="b9719-401">HTTP.Response.StatusCode   == 403</span><span class="sxs-lookup"><span data-stu-id="b9719-401">HTTP.Response.StatusCode   == 403</span></span> |<span data-ttu-id="b9719-402">Réseau</span><span class="sxs-lookup"><span data-stu-id="b9719-402">Network</span></span> |
| <span data-ttu-id="b9719-403">Messages HTTP 404 (non trouvé)</span><span class="sxs-lookup"><span data-stu-id="b9719-403">HTTP 404 (Not found) messages</span></span> |<span data-ttu-id="b9719-404">HTTP.Response.StatusCode   == 404</span><span class="sxs-lookup"><span data-stu-id="b9719-404">HTTP.Response.StatusCode   == 404</span></span> |<span data-ttu-id="b9719-405">Réseau</span><span class="sxs-lookup"><span data-stu-id="b9719-405">Network</span></span> |
| <span data-ttu-id="b9719-406">404 (tous)</span><span class="sxs-lookup"><span data-stu-id="b9719-406">404 (all)</span></span> |<span data-ttu-id="b9719-407">*StatusCode   == 404</span><span class="sxs-lookup"><span data-stu-id="b9719-407">*StatusCode   == 404</span></span> |<span data-ttu-id="b9719-408">Tout</span><span class="sxs-lookup"><span data-stu-id="b9719-408">All</span></span> |
| <span data-ttu-id="b9719-409">Problème d'autorisation de la signature d'accès partagé (SAS)</span><span class="sxs-lookup"><span data-stu-id="b9719-409">Shared Access Signature (SAS) authorization issue</span></span> |<span data-ttu-id="b9719-410">AzureStorageLog.RequestStatus ==  "SASAuthorizationError"</span><span class="sxs-lookup"><span data-stu-id="b9719-410">AzureStorageLog.RequestStatus ==  "SASAuthorizationError"</span></span> |<span data-ttu-id="b9719-411">Réseau</span><span class="sxs-lookup"><span data-stu-id="b9719-411">Network</span></span> |
| <span data-ttu-id="b9719-412">Messages HTTP 409 (conflit)</span><span class="sxs-lookup"><span data-stu-id="b9719-412">HTTP 409 (Conflict) messages</span></span> |<span data-ttu-id="b9719-413">HTTP.Response.StatusCode   == 409</span><span class="sxs-lookup"><span data-stu-id="b9719-413">HTTP.Response.StatusCode   == 409</span></span> |<span data-ttu-id="b9719-414">Réseau</span><span class="sxs-lookup"><span data-stu-id="b9719-414">Network</span></span> |
| <span data-ttu-id="b9719-415">409 (tous)</span><span class="sxs-lookup"><span data-stu-id="b9719-415">409 (all)</span></span> |<span data-ttu-id="b9719-416">*StatusCode   == 409</span><span class="sxs-lookup"><span data-stu-id="b9719-416">*StatusCode   == 409</span></span> |<span data-ttu-id="b9719-417">Tout</span><span class="sxs-lookup"><span data-stu-id="b9719-417">All</span></span> |
| <span data-ttu-id="b9719-418">Les entrées à faible valeur PercentSuccess ou du journal   d’analyse incluent des opérations avec un statut de transaction ClientOtherErrors</span><span class="sxs-lookup"><span data-stu-id="b9719-418">Low PercentSuccess or analytics log entries have   operations with transaction status of ClientOtherErrors</span></span> |<span data-ttu-id="b9719-419">AzureStorageLog.RequestStatus ==   "ClientOtherError"</span><span class="sxs-lookup"><span data-stu-id="b9719-419">AzureStorageLog.RequestStatus ==   "ClientOtherError"</span></span> |<span data-ttu-id="b9719-420">Serveur</span><span class="sxs-lookup"><span data-stu-id="b9719-420">Server</span></span> |
| <span data-ttu-id="b9719-421">Avertissement   de Nagle</span><span class="sxs-lookup"><span data-stu-id="b9719-421">Nagle   Warning</span></span> |<span data-ttu-id="b9719-422">((AzureStorageLog.EndToEndLatencyMS   - AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS *   1.5)) et (AzureStorageLog.RequestPacketSize <1460) et (AzureStorageLog.EndToEndLatencyMS -   AzureStorageLog.ServerLatencyMS >= 200)</span><span class="sxs-lookup"><span data-stu-id="b9719-422">((AzureStorageLog.EndToEndLatencyMS   - AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS *   1.5)) and (AzureStorageLog.RequestPacketSize <1460) and (AzureStorageLog.EndToEndLatencyMS -   AzureStorageLog.ServerLatencyMS >= 200)</span></span> |<span data-ttu-id="b9719-423">Serveur</span><span class="sxs-lookup"><span data-stu-id="b9719-423">Server</span></span> |
| <span data-ttu-id="b9719-424">Plage horaire   dans les journaux serveur et réseau</span><span class="sxs-lookup"><span data-stu-id="b9719-424">Range of   time in Server and Network logs</span></span> |<span data-ttu-id="b9719-425">#Timestamp   >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="b9719-425">#Timestamp   >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39</span></span> |<span data-ttu-id="b9719-426">Serveur, réseau</span><span class="sxs-lookup"><span data-stu-id="b9719-426">Server, Network</span></span> |
| <span data-ttu-id="b9719-427">Plage horaire   dans les journaux serveur</span><span class="sxs-lookup"><span data-stu-id="b9719-427">Range of   time in Server logs</span></span> |<span data-ttu-id="b9719-428">AzureStorageLog.Timestamp >= 2014-10-20T16:36:38 et AzureStorageLog.Timestamp <= 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="b9719-428">AzureStorageLog.Timestamp   >= 2014-10-20T16:36:38 and AzureStorageLog.Timestamp <=   2014-10-20T16:36:39</span></span> |<span data-ttu-id="b9719-429">Serveur</span><span class="sxs-lookup"><span data-stu-id="b9719-429">Server</span></span> |

## <a name="next-steps"></a><span data-ttu-id="b9719-430">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="b9719-430">Next steps</span></span>
<span data-ttu-id="b9719-431">Pour plus d'informations sur les scénarios de résolution des problèmes de bout en bout dans Azure Storage, consultez les ressources suivantes :</span><span class="sxs-lookup"><span data-stu-id="b9719-431">For more information about troubleshooting end-to-end scenarios in Azure Storage, see these resources:</span></span>

* [<span data-ttu-id="b9719-432">Analyser, diagnostiquer et dépanner Microsoft Azure Storage</span><span class="sxs-lookup"><span data-stu-id="b9719-432">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>](storage-monitoring-diagnosing-troubleshooting.md)
* [<span data-ttu-id="b9719-433">Analyse du stockage</span><span class="sxs-lookup"><span data-stu-id="b9719-433">Storage Analytics</span></span>](http://msdn.microsoft.com/library/azure/hh343270.aspx)
* [<span data-ttu-id="b9719-434">Surveillance d’un compte de stockage Bonjour portail Azure</span><span class="sxs-lookup"><span data-stu-id="b9719-434">Monitor a storage account in hello Azure portal</span></span>](storage-monitor-storage-account.md)
* [<span data-ttu-id="b9719-435">Transfert de données avec l’utilitaire de ligne de commande AzCopy de hello</span><span class="sxs-lookup"><span data-stu-id="b9719-435">Transfer data with hello AzCopy Command-Line Utility</span></span>](storage-use-azcopy.md)
* [<span data-ttu-id="b9719-436">Microsoft Message Analyzer Operating Guide (Guide des opérations Microsoft Message Analyzer)</span><span class="sxs-lookup"><span data-stu-id="b9719-436">Microsoft Message Analyzer Operating Guide</span></span>](http://technet.microsoft.com/library/jj649776.aspx)
