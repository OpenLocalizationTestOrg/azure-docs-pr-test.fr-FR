---
title: "Présentation des alertes dans Azure Log Analytics | Microsoft Docs"
description: "Les alertes dans Log Analytics identifient des informations importantes dans votre référentiel OMS et peuvent de façon proactive vous informer sur des problèmes ou appeler des actions pour tenter de les corriger.  Cet article décrit les différents types de règles d’alerte et comment elles sont définies."
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: 6cfd2a46-b6a2-4f79-a67b-08ce488f9a91
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/26/2017
ms.author: bwren
ms.openlocfilehash: 951e76d3fb18d9e433b148e82d4d6cee9417ce6d
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/03/2017
---
# <a name="understanding-alerts-in-log-analytics"></a><span data-ttu-id="c3bd5-104">Comprendre les alertes dans Log Analytics</span><span class="sxs-lookup"><span data-stu-id="c3bd5-104">Understanding alerts in Log Analytics</span></span>

<span data-ttu-id="c3bd5-105">Les alertes identifient des informations importantes dans votre référentiel Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-105">Alerts in Log Analytics identify important information in your Log Analytics repository.</span></span>  <span data-ttu-id="c3bd5-106">Cet article décrit en détail le fonctionnement des règles d’alerte dans Log Analytics et décrit les différences entre les divers types de règles d’alerte.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-106">This article provides details of how alert rules in Log Analytics work and describes the differences between different types of alert rules.</span></span>

<span data-ttu-id="c3bd5-107">Pour plus d’informations sur le processus de création de règles d’alerte, consultez les articles suivants :</span><span class="sxs-lookup"><span data-stu-id="c3bd5-107">For the process of creating alert rules, see the following articles:</span></span>

- <span data-ttu-id="c3bd5-108">Créer des règles d’alerte avec le [portail Azure](log-analytics-alerts-creating.md)</span><span class="sxs-lookup"><span data-stu-id="c3bd5-108">Create alert rules using [Azure portal](log-analytics-alerts-creating.md)</span></span>
- <span data-ttu-id="c3bd5-109">Créer des règles d’alerte avec le [modèle Resource Manager](../operations-management-suite/operations-management-suite-solutions-resources-searches-alerts.md)</span><span class="sxs-lookup"><span data-stu-id="c3bd5-109">Create alert rules using [Resource Manager template](../operations-management-suite/operations-management-suite-solutions-resources-searches-alerts.md)</span></span>
- <span data-ttu-id="c3bd5-110">Créer des règles d’alerte avec l’[API REST](log-analytics-api-alerts.md)</span><span class="sxs-lookup"><span data-stu-id="c3bd5-110">Create alert rules using [REST API](log-analytics-api-alerts.md)</span></span>


## <a name="alert-rules"></a><span data-ttu-id="c3bd5-111">Règles d'alerte</span><span class="sxs-lookup"><span data-stu-id="c3bd5-111">Alert rules</span></span>

<span data-ttu-id="c3bd5-112">Les alertes sont créées par des règles dédiées qui exécutent automatiquement des recherches dans les journaux à intervalles réguliers.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-112">Alerts are created by alert rules that automatically run log searches at regular intervals.</span></span>  <span data-ttu-id="c3bd5-113">Si les résultats de la recherche répondent à des critères particuliers, un enregistrement d’alerte est généré.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-113">If the results of the log search match particular criteria then an alert record is created.</span></span>  <span data-ttu-id="c3bd5-114">La règle peut ensuite exécuter automatiquement une ou plusieurs actions pour vous avertir de l’alerte ou appeler un autre processus de façon proactive.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-114">The rule can then automatically run one or more actions to proactively notify you of the alert or invoke another process.</span></span>  <span data-ttu-id="c3bd5-115">Les différents types de règles d’alerte utilisent une logique différente pour effectuer cette analyse.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-115">Different types of alert rules use different logic to perform this analysis.</span></span>

![Alertes Log Analytics](media/log-analytics-alerts/overview.png)

<span data-ttu-id="c3bd5-117">Les règles d’alerte sont définies par les détails suivants :</span><span class="sxs-lookup"><span data-stu-id="c3bd5-117">Alert Rules are defined by the following details:</span></span>

- <span data-ttu-id="c3bd5-118">**Recherche dans les journaux**.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-118">**Log search**.</span></span>  <span data-ttu-id="c3bd5-119">La requête qui s’exécute chaque fois que la règle d’alerte est déclenchée.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-119">The query that runs every time the alert rule fires.</span></span>  <span data-ttu-id="c3bd5-120">Les enregistrements retournés par cette requête permettent de déterminer si une alerte a été créée.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-120">The records returned by this query is used to determine whether an alert is created.</span></span>
- <span data-ttu-id="c3bd5-121">**Fenêtre de temps**.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-121">**Time window**.</span></span>  <span data-ttu-id="c3bd5-122">Spécifie l’intervalle de temps pour la requête.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-122">Specifies the time range for the query.</span></span>  <span data-ttu-id="c3bd5-123">La requête retourne uniquement les enregistrements qui ont été créés dans cette plage précédant son exécution.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-123">The query returns only records that were created within this range of the current time.</span></span>  <span data-ttu-id="c3bd5-124">Cela peut être toute valeur comprise entre 5 minutes et 24 heures.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-124">This can be any value between 5 minutes and 24 hours.</span></span> <span data-ttu-id="c3bd5-125">Par exemple, si la fenêtre de temps est définie sur 60 minutes et que la requête est exécutée à 13h15, seuls les enregistrements créés entre 12h15 et 13h15 sont retournés.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-125">For example, If the time window is set to 60 minutes, and the query is run at 1:15 PM, only records created between 12:15 PM and 1:15 PM is returned.</span></span>
- <span data-ttu-id="c3bd5-126">**Fréquence**.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-126">**Frequency**.</span></span>  <span data-ttu-id="c3bd5-127">Spécifie la fréquence à laquelle la requête doit être exécutée.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-127">Specifies how often the query should be run.</span></span> <span data-ttu-id="c3bd5-128">Peut être toute valeur comprise entre 5 minutes et 24 heures.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-128">Can be any value between 5 minutes and 24 hours.</span></span> <span data-ttu-id="c3bd5-129">La valeur doit être égale ou inférieure à la fenêtre de temps.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-129">Should be equal to or less than the time window.</span></span>  <span data-ttu-id="c3bd5-130">Si la valeur est supérieure à celle de la fenêtre de temps, vous risquez de manquer des enregistrements.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-130">If the value is greater than the time window, then you risk records being missed.</span></span><br><span data-ttu-id="c3bd5-131">Par exemple, imaginons une fenêtre de temps de 30 minutes associée à une fréquence de 60 minutes.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-131">For example, consider a time window of 30 minutes and a frequency of 60 minutes.</span></span>  <span data-ttu-id="c3bd5-132">Si la requête est exécutée à 13 h, les enregistrements entre 12 h 30 et 13 h sont renvoyés.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-132">If the query is run at 1:00, it returns records between 12:30 and 1:00 PM.</span></span>  <span data-ttu-id="c3bd5-133">La requête s’exécute ensuite à 14 h, moment auquel elle renvoie les enregistrements entre 13 h 30 et 14 h.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-133">The next time the query would run is 2:00 when it would return records between 1:30 and 2:00.</span></span>  <span data-ttu-id="c3bd5-134">Les enregistrements créés entre 13 h et 13 h 30 ne seront jamais analysés.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-134">Any records created between 1:00 and 1:30 would never be evaluated.</span></span>
- <span data-ttu-id="c3bd5-135">**Seuil**.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-135">**Threshold**.</span></span>  <span data-ttu-id="c3bd5-136">Les résultats de la recherche dans les journaux sont évalués pour déterminer si une alerte doit être créée.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-136">The results of the log search are evaluated to determine whether an alert should be created.</span></span>  <span data-ttu-id="c3bd5-137">Le seuil est différent pour chaque type de règle d’alerte.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-137">The threshold is different for the different types of alert rules.</span></span>

<span data-ttu-id="c3bd5-138">Chaque règle d’alerte Log Analytics appartient à l’un des deux types existants.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-138">Each alert rule in Log Analytics is one of two types.</span></span>  <span data-ttu-id="c3bd5-139">Chacun de ces types est décrit en détail dans les sections suivantes.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-139">Each of these types is described in detail in the sections that follow.</span></span>

- <span data-ttu-id="c3bd5-140">**[Nombre de résultats](#number-of-results-alert-rules)**.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-140">**[Number of results](#number-of-results-alert-rules)**.</span></span> <span data-ttu-id="c3bd5-141">Alerte unique créée lorsque le nombre d’enregistrements renvoyés par la recherche dans les journaux dépasse un nombre spécifié.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-141">Single alert created when the number records returned by the log search exceed a specified number.</span></span>
- <span data-ttu-id="c3bd5-142">**[Mesure métrique](#metric-measurement-alert-rules)**.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-142">**[Metric measurement](#metric-measurement-alert-rules)**.</span></span>  <span data-ttu-id="c3bd5-143">Alerte créée pour chaque objet des résultats de la recherche dans les journaux dont les valeurs dépassent le seuil spécifié.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-143">Alert created for each object in the results of the log search with values that exceed specified threshold.</span></span>

<span data-ttu-id="c3bd5-144">Les différences entre les types de règles d’alerte sont présentées ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-144">The differences between alert rule types are as follows.</span></span>

- <span data-ttu-id="c3bd5-145">La règle d’alerte **Nombre de résultats** crée toujours une alerte unique, tandis que la règle d’alerte **Mesure métrique** crée une alerte pour chaque objet dépassant le seuil.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-145">**Number of results** alert rule will always create a single alert while **Metric measurement** alert rule creates an alert for each object that exceeds the threshold.</span></span>
- <span data-ttu-id="c3bd5-146">Les règles d’alerte **Nombre de résultats** créent une alerte quand le seuil est dépassé une seule fois.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-146">**Number of results** alert rules create an alert when the threshold is exceeded a single time.</span></span> <span data-ttu-id="c3bd5-147">Les règles d’alerte **Mesure métrique** peuvent créer une alerte lorsque le seuil est dépassé un certain nombre de fois au cours d’un intervalle de temps spécifique.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-147">**Metric measurement** alert rules can create an alert when the threshold is exceeded a certain number of times over a particular time interval.</span></span>

## <a name="number-of-results-alert-rules"></a><span data-ttu-id="c3bd5-148">Règles d’alerte Nombre de résultats</span><span class="sxs-lookup"><span data-stu-id="c3bd5-148">Number of results alert rules</span></span>
<span data-ttu-id="c3bd5-149">Les règles d’alerte **Nombre de résultats** créent une alerte unique lorsque le nombre d’enregistrement renvoyés par la requête de recherche dépasse le seuil spécifié.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-149">**Number of results** alert rules create a single alert when the number of records returned by the search query exceed the specified threshold.</span></span>

### <a name="threshold"></a><span data-ttu-id="c3bd5-150">Seuil</span><span class="sxs-lookup"><span data-stu-id="c3bd5-150">Threshold</span></span>
<span data-ttu-id="c3bd5-151">Le seuil pour une règle d’alerte **Nombre de résultats** est simplement supérieur ou inférieur à une valeur particulière.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-151">The threshold for a **Number of results** alert rule is simply greater than or less than a particular value.</span></span>  <span data-ttu-id="c3bd5-152">Si le nombre d’enregistrements renvoyés par cette recherche dans les journaux satisfait à ce critère, une alerte est créée.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-152">If the number of records returned by the log search match this criteria, then an alert is created.</span></span>

### <a name="scenarios"></a><span data-ttu-id="c3bd5-153">Scénarios</span><span class="sxs-lookup"><span data-stu-id="c3bd5-153">Scenarios</span></span>

#### <a name="events"></a><span data-ttu-id="c3bd5-154">Événements</span><span class="sxs-lookup"><span data-stu-id="c3bd5-154">Events</span></span>
<span data-ttu-id="c3bd5-155">Ce type de règle d’alerte est idéal pour la gestion des événements, par exemple les journaux des événements Windows, les journaux Syslog et les journaux personnalisés.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-155">This type of alert rule is ideal for working with events such as Windows event logs, Syslog, and Custom logs.</span></span>  <span data-ttu-id="c3bd5-156">Vous pouvez créer une alerte quand un événement d’erreur particulier est créé, ou quand plusieurs événements d’erreur sont créés dans une fenêtre de temps spécifique.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-156">You may want to create an alert when a particular error event gets created, or when multiple error events are created within a particular time window.</span></span>

<span data-ttu-id="c3bd5-157">Pour associer une alerte à un seul événement, définissez le nombre de résultats sur une valeur supérieure à 0, et la fréquence et la fenêtre de temps sur 5 minutes.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-157">To alert on a single event, set the number of results to greater than 0 and both the frequency and time window to 5 minutes.</span></span>  <span data-ttu-id="c3bd5-158">Cette configuration exécute la requête toutes les cinq minutes et vérifie si un événement spécifique a été créé depuis la dernière exécution de la requête.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-158">That runs the query every 5 minutes and check for the occurrence of a single event that was created since the last time the query was run.</span></span>  <span data-ttu-id="c3bd5-159">Une fréquence plus longue peut rallonger le temps qui s’écoule entre l’événement collecté et l’alerte créée.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-159">A longer frequency may delay the time between the event being collected and the alert being created.</span></span>

<span data-ttu-id="c3bd5-160">Certaines applications peuvent consigner une erreur occasionnelle qui ne doit pas nécessairement déclencher une alerte.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-160">Some applications may log an occasional error that shouldn't necessarily raise an alert.</span></span>  <span data-ttu-id="c3bd5-161">Par exemple, l’application peut recommencer le processus à l’origine de l’événement d’erreur et voir sa nouvelle tentative couronnée de succès.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-161">For example, the application may retry the process that created the error event and then succeed the next time.</span></span>  <span data-ttu-id="c3bd5-162">Dans ce cas, la création de l’alerte ne se justifie que si plusieurs événements sont créés dans une fenêtre de temps spécifique.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-162">In this case, you may not want to create the alert unless multiple events are created within a particular time window.</span></span>  

<span data-ttu-id="c3bd5-163">Dans certains cas, vous pouvez créer une alerte en l’absence d’événement.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-163">In some cases, you may want to create an alert in the absence of an event.</span></span>  <span data-ttu-id="c3bd5-164">Par exemple, un processus peut enregistrer des événements réguliers pour indiquer qu’il fonctionne correctement.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-164">For example, a process may log regular events to indicate that it's working properly.</span></span>  <span data-ttu-id="c3bd5-165">S’il ne consigne pas un de ces événements dans une fenêtre de temps spécifique, une alerte doit être créée.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-165">If it doesn't log one of these events within a particular time window, then an alert should be created.</span></span>  <span data-ttu-id="c3bd5-166">Dans ce cas, vous devez définir le seuil sur **Inférieur à 1**.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-166">In this case you would set the threshold to **less than 1**.</span></span>

#### <a name="performance-alerts"></a><span data-ttu-id="c3bd5-167">Alertes de performances</span><span class="sxs-lookup"><span data-stu-id="c3bd5-167">Performance alerts</span></span>
<span data-ttu-id="c3bd5-168">[données de performances](log-analytics-data-sources-performance-counters.md) sont stockées sous la forme d’enregistrements dans le référentiel OMS.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-168">[Performance data](log-analytics-data-sources-performance-counters.md) is stored as records in the OMS repository similar to events.</span></span>  <span data-ttu-id="c3bd5-169">Si vous souhaitez être averti quand un compteur de performances dépasse un seuil spécifique, ce seuil doit être inclus dans la requête.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-169">If you want to alert when a performance counter exceeds a particular threshold, then that threshold should be included in the query.</span></span>

<span data-ttu-id="c3bd5-170">Par exemple, pour être averti quand le processeur s’exécute à plus de 90 % de ses capacités, utilisez une requête comme la suivante et définissez le seuil de la règle d’alerte sur **Supérieur à 0**.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-170">For example, if you wanted to alert when the processor runs over 90%, you would use a query like the following with the threshold for the alert rule **greater than 0**.</span></span>

    Type=Perf ObjectName=Processor CounterName="% Processor Time" CounterValue>90

<span data-ttu-id="c3bd5-171">Pour être averti lorsque la moyenne d’exécution du processeur dépasse 90 % de ses capacités pendant dans une fenêtre de temps spécifique, utilisez une requête comme la suivante avec la [commande measure](log-analytics-search-reference.md#commands) et définissez le seuil de la règle d’alerte sur **Supérieur à 0**.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-171">If you wanted to alert when the processor averaged over 90% for a particular time window, you would use a query using the [measure command](log-analytics-search-reference.md#commands) like the following with the threshold for the alert rule **greater than 0**.</span></span>

    Type=Perf ObjectName=Processor CounterName="% Processor Time" | measure avg(CounterValue) by Computer | where AggregatedValue>90

>[!NOTE]
> <span data-ttu-id="c3bd5-172">Si vous avez mis à niveau votre espace de travail vers le [nouveau langage de requête Log Analytics](log-analytics-log-search-upgrade.md), les requêtes ci-dessus sont remplacées par les requêtes ci-dessous : `Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" and CounterValue>90`
> `Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" | summarize avg(CounterValue) by Computer | where CounterValue>90`</span><span class="sxs-lookup"><span data-stu-id="c3bd5-172">If your workspace has been upgraded to the [new Log Analytics query language](log-analytics-log-search-upgrade.md), then the above queries would change to the following: `Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" and CounterValue>90`
> `Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" | summarize avg(CounterValue) by Computer | where CounterValue>90`</span></span>


## <a name="metric-measurement-alert-rules"></a><span data-ttu-id="c3bd5-173">Règles d’alerte Mesure métrique</span><span class="sxs-lookup"><span data-stu-id="c3bd5-173">Metric measurement alert rules</span></span>

>[!NOTE]
> <span data-ttu-id="c3bd5-174">Les règles d’alerte relatives aux mesures de métrique sont actuellement en préversion publique.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-174">Metric measurement alert rules are currently in public preview.</span></span>

<span data-ttu-id="c3bd5-175">Les règles d’alerte **Mesure métrique** créent une alerte pour chaque objet d’une requête dont la valeur dépasse un seuil spécifié.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-175">**Metric measurement** alert rules create an alert for each object in a query with a value that exceeds a specified threshold.</span></span>  <span data-ttu-id="c3bd5-176">Elles se distinguent des règles d’alerte **Nombre de résultats** comme suit.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-176">They have the following distinct differences from **Number of results** alert rules.</span></span>

#### <a name="log-search"></a><span data-ttu-id="c3bd5-177">Recherche dans les journaux</span><span class="sxs-lookup"><span data-stu-id="c3bd5-177">Log search</span></span>
<span data-ttu-id="c3bd5-178">Vous pouvez utiliser n’importe quelle requête pour une règle d’alerte **Nombre de résultats**, mais il existe des exigences de requête spécifiques pour la règle d’alerte Mesure métrique.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-178">While you can use any query for a **Number of results** alert rule, there are specific requirements the query for a metric measurement alert rule.</span></span>  <span data-ttu-id="c3bd5-179">Elle doit inclure une [commande Measure](log-analytics-search-reference.md#commands) pour regrouper les résultats sur un champ spécifique.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-179">It must include a [Measure command](log-analytics-search-reference.md#commands) to group the results on a particular field.</span></span> <span data-ttu-id="c3bd5-180">Cette commande doit inclure les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="c3bd5-180">This command must include the following elements.</span></span>

- <span data-ttu-id="c3bd5-181">**Fonction d’agrégation**.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-181">**Aggregate function**.</span></span>  <span data-ttu-id="c3bd5-182">Détermine le calcul à effectuer et, éventuellement, un champ numérique à agréger.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-182">Determines the calculation that is performed and potentially a numeric field to aggregate.</span></span>  <span data-ttu-id="c3bd5-183">Par exemple, **count()** renvoie le nombre d’enregistrements dans la requête, **avg(CounterValue)** renverra la moyenne du champ CounterValue sur l’intervalle.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-183">For example, **count()** will return the number of records in the query, **avg(CounterValue)** will return the average of the CounterValue field over the interval.</span></span>
- <span data-ttu-id="c3bd5-184">**Champ de groupe**.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-184">**Group Field**.</span></span>  <span data-ttu-id="c3bd5-185">Un enregistrement avec une valeur agrégée est créé pour chaque instance de ce champ, et une alerte peut être générée pour chacun.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-185">A record with an aggregated value is created for each instance of this field, and an alert can be generated for each.</span></span>  <span data-ttu-id="c3bd5-186">Par exemple, si vous souhaitez générer une alerte pour chaque ordinateur, vous pourriez utiliser **by Computer**.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-186">For example, if you wanted to generate an alert for each computer, you would use **by Computer**.</span></span>   
- <span data-ttu-id="c3bd5-187">**Intervalle**.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-187">**Interval**.</span></span>  <span data-ttu-id="c3bd5-188">Définit l’intervalle de temps pendant lequel les données sont agrégées.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-188">Defines the time interval over which the data is aggregated.</span></span>  <span data-ttu-id="c3bd5-189">Par exemple, si vous avez spécifié **5minutes**, un enregistrement est créé pour chaque instance du champ de groupe agrégé à intervalles de 5 minutes sur la fenêtre de temps spécifiée pour l’alerte.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-189">For example, if you specified **5minutes**, a record would be created for each instance of the group field aggregated at 5 minute intervals over the time window specified for the alert.</span></span>

#### <a name="threshold"></a><span data-ttu-id="c3bd5-190">Seuil</span><span class="sxs-lookup"><span data-stu-id="c3bd5-190">Threshold</span></span>
<span data-ttu-id="c3bd5-191">Le seuil des règles d’alerte Mesure métrique est défini par une valeur d’agrégation et un nombre de violations.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-191">The threshold for Metric measurement alert rules is defined by an aggregate value and a number of breaches.</span></span>  <span data-ttu-id="c3bd5-192">Si un point de données de la recherche dans les journaux dépasse cette valeur, elle est considérée comme une violation.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-192">If any data point in the log search exceeds this value, it's considered a breach.</span></span>  <span data-ttu-id="c3bd5-193">Si le nombre de violations pour un objet dans les résultats dépasse la valeur spécifiée, une alerte est créée pour cet objet.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-193">If the number of breaches in for any object in the results exceeds the specified value, then an alert is created for that object.</span></span>

#### <a name="example"></a><span data-ttu-id="c3bd5-194">Exemple</span><span class="sxs-lookup"><span data-stu-id="c3bd5-194">Example</span></span>
<span data-ttu-id="c3bd5-195">Prenons le scénario suivant : vous souhaitez créer une alerte si le taux d’utilisation du processeur d’un ordinateur dépasse 90 % à trois reprises en l’espace de 30 minutes.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-195">Consider a scenario where you wanted an alert if any computer exceeded processor utilization of 90% three times over 30 minutes.</span></span>  <span data-ttu-id="c3bd5-196">Il conviendrait de créer une règle d’alerte paramétrée comme suit.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-196">You would create an alert rule with the following details.</span></span>  

<span data-ttu-id="c3bd5-197">**Requête :** Type=Perf ObjectName=Processor CounterName="% Processor Time" | measure avg(CounterValue) by Computer Interval 5minute</span><span class="sxs-lookup"><span data-stu-id="c3bd5-197">**Query:** Type=Perf ObjectName=Processor CounterName="% Processor Time" | measure avg(CounterValue) by Computer Interval 5minute</span></span><br><span data-ttu-id="c3bd5-198">
**Fenêtre de temps :** 30 minutes</span><span class="sxs-lookup"><span data-stu-id="c3bd5-198">
**Time window:** 30 minutes</span></span><br><span data-ttu-id="c3bd5-199">
**Fréquence des alertes :** 5 minutes</span><span class="sxs-lookup"><span data-stu-id="c3bd5-199">
**Alert frequency:** 5 minutes</span></span><br><span data-ttu-id="c3bd5-200">
**Valeur d’agrégation :** supérieure à 90</span><span class="sxs-lookup"><span data-stu-id="c3bd5-200">
**Aggregate value:** Great than 90</span></span><br><span data-ttu-id="c3bd5-201">
**Déclencher une alerte en fonction de :** Nombre total de violations supérieur à 5</span><span class="sxs-lookup"><span data-stu-id="c3bd5-201">
**Trigger alert based on:** Total breaches Greater than 5</span></span><br>

<span data-ttu-id="c3bd5-202">La requête créerait une valeur moyenne pour chaque ordinateur à intervalles de 5 minutes.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-202">The query would create an average value for each computer at 5 minute intervals.</span></span>  <span data-ttu-id="c3bd5-203">Cette requête serait exécutée toutes les 5 minutes pour les données collectées au cours des 30 minutes précédentes.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-203">This query would be run every 5 minutes for data collected over the previous 30 minutes.</span></span>  <span data-ttu-id="c3bd5-204">Des exemples de données sont indiqués ci-dessous pour trois ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-204">Sample data is shown below for three computers.</span></span>

![Résultats de l’exemple de requête](media/log-analytics-alerts/metrics-measurement-sample-graph.png)

<span data-ttu-id="c3bd5-206">Dans cet exemple, des alertes distinctes seraient créées pour srv02 et srv03 dans la mesure où le seuil de 90 % a été dépassé 3 fois au cours de la fenêtre de temps.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-206">In this example, separate alerts would be created for srv02 and srv03 since they breached the 90% threshold 3 times over the time window.</span></span>  <span data-ttu-id="c3bd5-207">Si l’**Alerte Déclencheur basée sur :** a été modifiée sur **Consécutive**, alors une alerte serait créée uniquement pour srv03, car il a dépassé le seuil sur 3 exemples consécutifs.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-207">If the **Trigger alert based on:** were changed to **Consecutive** then an alert would be created only for srv03 since it breached the threshold for 3 consecutive samples.</span></span>

## <a name="alert-records"></a><span data-ttu-id="c3bd5-208">Enregistrements d’alerte</span><span class="sxs-lookup"><span data-stu-id="c3bd5-208">Alert records</span></span>
<span data-ttu-id="c3bd5-209">Les enregistrements d’alerte créés par des règles d’alerte dans Log Analytics ont pour **Type** **Alert** et pour **SourceSystem** **OMS**.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-209">Alert records created by alert rules in Log Analytics have a **Type** of **Alert** and a **SourceSystem** of **OMS**.</span></span>  <span data-ttu-id="c3bd5-210">Les propriétés des enregistrements sont décrites dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-210">They have the properties in the following table.</span></span>

| <span data-ttu-id="c3bd5-211">Propriété</span><span class="sxs-lookup"><span data-stu-id="c3bd5-211">Property</span></span> | <span data-ttu-id="c3bd5-212">Description</span><span class="sxs-lookup"><span data-stu-id="c3bd5-212">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="c3bd5-213">Type</span><span class="sxs-lookup"><span data-stu-id="c3bd5-213">Type</span></span> |<span data-ttu-id="c3bd5-214">*Alert*</span><span class="sxs-lookup"><span data-stu-id="c3bd5-214">*Alert*</span></span> |
| <span data-ttu-id="c3bd5-215">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="c3bd5-215">SourceSystem</span></span> |<span data-ttu-id="c3bd5-216">*OMS*</span><span class="sxs-lookup"><span data-stu-id="c3bd5-216">*OMS*</span></span> |
| <span data-ttu-id="c3bd5-217">*Object*</span><span class="sxs-lookup"><span data-stu-id="c3bd5-217">*Object*</span></span>  | <span data-ttu-id="c3bd5-218">Les [alertes Mesure métrique](#metric-measurement-alert-rules) auront une propriété pour le champ de groupe.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-218">[Metric measurement alerts](#metric-measurement-alert-rules) will have a property for the group field.</span></span>  <span data-ttu-id="c3bd5-219">Par exemple, si la recherche dans les journaux effectue un groupement sur Ordinateur, l’enregistrement de l’alerte disposera d’un champ Ordinateur avec comme valeur le nom de l’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-219">For example, if the log search groups on Computer, the alert record with have a Computer field with the name of the computer as the value.</span></span>
| <span data-ttu-id="c3bd5-220">AlertName</span><span class="sxs-lookup"><span data-stu-id="c3bd5-220">AlertName</span></span> |<span data-ttu-id="c3bd5-221">Nom de l’alerte.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-221">Name of the alert.</span></span> |
| <span data-ttu-id="c3bd5-222">AlertSeverity</span><span class="sxs-lookup"><span data-stu-id="c3bd5-222">AlertSeverity</span></span> |<span data-ttu-id="c3bd5-223">Niveau de gravité de l’alerte.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-223">Severity level of the alert.</span></span> |
| <span data-ttu-id="c3bd5-224">LinkToSearchResults</span><span class="sxs-lookup"><span data-stu-id="c3bd5-224">LinkToSearchResults</span></span> |<span data-ttu-id="c3bd5-225">Lien vers la recherche dans les journaux Log Analytics qui retourne les enregistrements de la requête ayant créé l’alerte.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-225">Link to Log Analytics log search that returns the records from the query that created the alert.</span></span> |
| <span data-ttu-id="c3bd5-226">Requête</span><span class="sxs-lookup"><span data-stu-id="c3bd5-226">Query</span></span> |<span data-ttu-id="c3bd5-227">Texte de la requête qui a été exécutée.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-227">Text of the query that was run.</span></span> |
| <span data-ttu-id="c3bd5-228">QueryExecutionEndTime</span><span class="sxs-lookup"><span data-stu-id="c3bd5-228">QueryExecutionEndTime</span></span> |<span data-ttu-id="c3bd5-229">Fin de l’intervalle de temps pour la requête.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-229">End of the time range for the query.</span></span> |
| <span data-ttu-id="c3bd5-230">QueryExecutionStartTime</span><span class="sxs-lookup"><span data-stu-id="c3bd5-230">QueryExecutionStartTime</span></span> |<span data-ttu-id="c3bd5-231">Début de l’intervalle de temps pour la requête.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-231">Start of the time range for the query.</span></span> |
| <span data-ttu-id="c3bd5-232">ThresholdOperator</span><span class="sxs-lookup"><span data-stu-id="c3bd5-232">ThresholdOperator</span></span> | <span data-ttu-id="c3bd5-233">Opérateur utilisé par la règle d’alerte.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-233">Operator that was used by the alert rule.</span></span> |
| <span data-ttu-id="c3bd5-234">ThresholdValue</span><span class="sxs-lookup"><span data-stu-id="c3bd5-234">ThresholdValue</span></span> | <span data-ttu-id="c3bd5-235">Valeur utilisée par la règle d’alerte.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-235">Value that was used by the alert rule.</span></span> |
| <span data-ttu-id="c3bd5-236">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="c3bd5-236">TimeGenerated</span></span> |<span data-ttu-id="c3bd5-237">Date et heure de la création de l’alerte.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-237">Date and time the alert was created.</span></span> |

<span data-ttu-id="c3bd5-238">Il existe d’autres genres d’enregistrements d’alerte créés par la [solution de gestion des alertes](log-analytics-solution-alert-management.md) et par les [exportations Power BI](log-analytics-powerbi.md).</span><span class="sxs-lookup"><span data-stu-id="c3bd5-238">There are other kinds of alert records created by the [Alert Management solution](log-analytics-solution-alert-management.md) and by [Power BI exports](log-analytics-powerbi.md).</span></span>  <span data-ttu-id="c3bd5-239">Ces enregistrements ont tous pour **Type** **Alert**, mais se distinguent par leur propriété **SourceSystem**.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-239">These all have a **Type** of **Alert** but are distinguished by their **SourceSystem**.</span></span>


## <a name="next-steps"></a><span data-ttu-id="c3bd5-240">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="c3bd5-240">Next steps</span></span>
* <span data-ttu-id="c3bd5-241">Installez la [solution de gestion des alertes](log-analytics-solution-alert-management.md) pour analyser les alertes créées dans Log Analytics, ainsi que les alertes collectées à partir de System Center Operations Manager.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-241">Install the [Alert Management solution](log-analytics-solution-alert-management.md) to analyze alerts created in Log Analytics along with alerts collected from System Center Operations Manager.</span></span>
* <span data-ttu-id="c3bd5-242">Approfondissez vos connaissances sur les [recherches dans les journaux](log-analytics-log-searches.md) pouvant générer des alertes.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-242">Read more about [log searches](log-analytics-log-searches.md) that can generate alerts.</span></span>
* <span data-ttu-id="c3bd5-243">Effectuez une procédure pas à pas pour [configurer un webhook](log-analytics-alerts-webhooks.md) avec une règle d’alerte.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-243">Complete a walkthrough for [configuring a webook](log-analytics-alerts-webhooks.md) with an alert rule.</span></span>  
* <span data-ttu-id="c3bd5-244">Apprenez à écrire des [runbooks dans Azure Automation](https://azure.microsoft.com/documentation/services/automation) pour corriger les problèmes identifiés par des alertes.</span><span class="sxs-lookup"><span data-stu-id="c3bd5-244">Learn how to write [runbooks in Azure Automation](https://azure.microsoft.com/documentation/services/automation) to remediate problems identified by alerts.</span></span>
