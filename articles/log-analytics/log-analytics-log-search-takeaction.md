---
title: "aaaUser Action initiée par Azure Automation Runbook dans le journal Analytique | Documents Microsoft"
description: "Cet article décrit comment toorun un runbook Automation à partir d’un Analytique de journal recherche le résultat à la demande."
services: log-analytics
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/04/2017
ms.author: magoedte
ms.openlocfilehash: 53c25431572babd5fd54bf964e4683077e2a4c2d
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="take-action-with-an-automation-runbook-from-a-log-analytics-log-search-result"></a><span data-ttu-id="84d7c-103">Utilisation d’un runbook Automation sur un résultat de recherche dans les journaux Log Analytics</span><span class="sxs-lookup"><span data-stu-id="84d7c-103">Take Action with an Automation Runbook from a Log Analytics log search result</span></span>

<span data-ttu-id="84d7c-104">À partir d’un résultat de recherche de journal dans l’Analytique des journaux Azure, vous pouvez maintenant sélectionner **prendre des mesures** toorun un runbook Automation.</span><span class="sxs-lookup"><span data-stu-id="84d7c-104">From a log search result in Azure Log Analytics, you can now select **Take action** toorun an Automation runbook.</span></span>  <span data-ttu-id="84d7c-105">Hello runbook peut être utilisé tooremediate hello problème ou effectuer d’autres actions telles que de collecter des informations de dépannage, envoyer un courrier électronique ou créer une demande de service.</span><span class="sxs-lookup"><span data-stu-id="84d7c-105">hello runbook can be used tooremediate hello issue or take some other action such as collect troubleshooting information, send an email, or create a service request.</span></span> 

## <a name="components-and-features-used"></a><span data-ttu-id="84d7c-106">Composants et fonctionnalités utilisés</span><span class="sxs-lookup"><span data-stu-id="84d7c-106">Components and features used</span></span>
* [<span data-ttu-id="84d7c-107">Compte Azure Automation</span><span class="sxs-lookup"><span data-stu-id="84d7c-107">Azure Automation account</span></span>](../automation/automation-offering-get-started.md)
* [<span data-ttu-id="84d7c-108">Espace de travail Log Analytics</span><span class="sxs-lookup"><span data-stu-id="84d7c-108">Log Analytics workspace</span></span>](../log-analytics/log-analytics-overview.md)

## <a name="tooinitiate-runbook-from-log-search"></a><span data-ttu-id="84d7c-109">runbook tooinitiate à partir de la recherche de journal</span><span class="sxs-lookup"><span data-stu-id="84d7c-109">tooinitiate runbook from log search</span></span>

<span data-ttu-id="84d7c-110">action tootake sur un événement et le lancement d’un runbook à partir de vos résultats de recherche de journal, commencez par créer une recherche de journal et à partir des résultats de hello, vous pouvez appeler une runbook à la demande.</span><span class="sxs-lookup"><span data-stu-id="84d7c-110">tootake action on an event and initiate a runbook from your log search results, you start by creating a log search and from hello results you can invoke a runbook on-demand.</span></span>  <span data-ttu-id="84d7c-111">Cela peut être obtenue à partir de la fonctionnalité de recherche de journal hello Bonjour Azure ou [portail OMS](../log-analytics/log-analytics-log-searches.md).</span><span class="sxs-lookup"><span data-stu-id="84d7c-111">This can be achieved from hello log search feature in hello Azure or [OMS portal](../log-analytics/log-analytics-log-searches.md).</span></span>  <span data-ttu-id="84d7c-112">Dans cet exemple, nous effectuons une recherche de journal à partir de hello portail Azure avec une démonstration de base de cette fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="84d7c-112">In this example, we perform a log search from hello Azure portal with a basic demonstration of this feature.</span></span>

1. <span data-ttu-id="84d7c-113">Dans hello portail Azure, cliquez sur le menu du Hub hello **davantage de services** et sélectionnez **Analytique de journal**.</span><span class="sxs-lookup"><span data-stu-id="84d7c-113">In hello Azure portal, on hello Hub menu click **More services** and select **Log Analytics**.</span></span>  
2. <span data-ttu-id="84d7c-114">Dans Panneau de journal Analytique hello, sélectionnez votre espace de travail Analytique de journal puis sur Panneau espace de travail de hello **recherche de journal**.</span><span class="sxs-lookup"><span data-stu-id="84d7c-114">On hello Log Analytics blade, select your Log Analytics workspace and on hello workspace blade select **Log Search**.</span></span>  
3. <span data-ttu-id="84d7c-115">Dans Panneau de recherche de journal hello, effectuer une recherche de journal.</span><span class="sxs-lookup"><span data-stu-id="84d7c-115">On hello Log Search blade, perform a log search.</span></span>  
4. <span data-ttu-id="84d7c-116">À partir des résultats de recherche de journal hello, cliquez sur la gauche de toohello hello ellipse de l’un des champs de hello et à partir de la fenêtre contextuelle hello, sélectionnez **agissent sur**.</span><span class="sxs-lookup"><span data-stu-id="84d7c-116">From hello log search results, click hello ellipse toohello left of one of hello fields and from hello popup, select **Take action on**.</span></span><br><br> <span data-ttu-id="84d7c-117">![Sélectionner Agir à partir des résultats de recherche](./media/log-analytics-log-search-takeaction/log-search-takeaction-menuoption.png)</span><span class="sxs-lookup"><span data-stu-id="84d7c-117">![Select Take Action from search result](./media/log-analytics-log-search-takeaction/log-search-takeaction-menuoption.png)</span></span> 
5. <span data-ttu-id="84d7c-118">Dans le panneau de hello Take action, sélectionnez **exécuter un runbook**et sur hello **exécuter un runbook** panneau que vous pouvez sélectionner un toorun runbook.</span><span class="sxs-lookup"><span data-stu-id="84d7c-118">From hello Take action blade, select **Run a runbook**, and on hello **Run a runbook** blade you can select a runbook toorun.</span></span>  <span data-ttu-id="84d7c-119">Vous pouvez sélectionner n’importe quel runbook Bonjour compte Automation qui est l’espace de travail lié toohello Analytique de journal.</span><span class="sxs-lookup"><span data-stu-id="84d7c-119">You can select any runbook in hello Automation account that is linked toohello Log Analytics workspace.</span></span>  <span data-ttu-id="84d7c-120">Notez hello suivantes :</span><span class="sxs-lookup"><span data-stu-id="84d7c-120">Note hello following:</span></span>

    * <span data-ttu-id="84d7c-121">Les runbooks sont organisés par balise</span><span class="sxs-lookup"><span data-stu-id="84d7c-121">Runbooks are organized by tags</span></span>
    * <span data-ttu-id="84d7c-122">Les valeurs de paramètre d’entrée de Runbook peuvent être sélectionnés directement à partir de champs hello du résultat de la recherche hello.</span><span class="sxs-lookup"><span data-stu-id="84d7c-122">Runbook input parameter values can be selected directly from hello fields of hello search result.</span></span>  <span data-ttu-id="84d7c-123">Une liste déroulante apparaît affichant tous les champs disponibles hello de tooselect de résultat hello à partir de.</span><span class="sxs-lookup"><span data-stu-id="84d7c-123">A drop-down list will appear displaying all hello available fields from hello result tooselect from.</span></span>  
    * <span data-ttu-id="84d7c-124">Vous pouvez choisir toorun hello runbook sur un [runbook worker hybride](../automation/automation-hybrid-runbook-worker.md) que vous avez installé sur l’ordinateur hello qui a le problème de hello si vous avez un groupe de travail de Runbook hybride correspondant qui ne contient que cet ordinateur en tant que membre.</span><span class="sxs-lookup"><span data-stu-id="84d7c-124">You can choose toorun hello runbook on a [hybrid runbook worker](../automation/automation-hybrid-runbook-worker.md) that you have installed on hello machine that has hello issue if you have a corresponding Hybrid Runbook Worker group that only contains this machine as a member.</span></span>  <span data-ttu-id="84d7c-125">Si le nom hello du groupe de travail hybride hello correspond au nom hello d’ordinateur hello en résultat de recherche de journal hello, groupe de hello est sélectionné automatiquement.</span><span class="sxs-lookup"><span data-stu-id="84d7c-125">If hello name of hello Hybrid Worker group matches hello name of hello computer that is in hello log search result, then hello group is selected automatically.</span></span>    

6. <span data-ttu-id="84d7c-126">Après avoir cliqué sur **exécuter**, hello runbook travail panneau tooallow vous tooreview hello état du travail de hello.</span><span class="sxs-lookup"><span data-stu-id="84d7c-126">After you click **Run**, hello runbook job blade will open tooallow you tooreview hello status of hello job.</span></span>   

<span data-ttu-id="84d7c-127">Si vous sélectionnez un runbook qui a été configuré toobe [appelée à partir d’une alerte d’Analytique de journal](../automation/automation-invoke-runbook-from-omsla-alert.md), il a un paramètre d’entrée appelé **WebhookData** qui est **objet** type.</span><span class="sxs-lookup"><span data-stu-id="84d7c-127">If you select a runbook that was configured toobe [called from a Log Analytics alert](../automation/automation-invoke-runbook-from-omsla-alert.md), it has an input parameter called **WebhookData** that is **Object** type.</span></span>  <span data-ttu-id="84d7c-128">Si le paramètre d’entrée hello est obligatoire, vous devez toopass hello recherche résultats toohello runbook et il peut convertir la chaîne JSON de hello dans un type d’objet qui vous toofilter sur des éléments spécifiques que vous allez référencer dans les activités de runbook.</span><span class="sxs-lookup"><span data-stu-id="84d7c-128">If hello input parameter is mandatory, you need toopass hello search results toohello runbook so it can convert hello JSON-formatted string into an object type allowing you toofilter on specific items that you will reference in runbook activities.</span></span>  <span data-ttu-id="84d7c-129">Pour cela, sélectionnez **(objet) de résultat de la recherche** à partir de la liste déroulante de hello.</span><span class="sxs-lookup"><span data-stu-id="84d7c-129">You do this by selecting **Search result (Object)** from hello drop-down list.</span></span><br><br> <span data-ttu-id="84d7c-130">![Sélectionner un objet de données Webhook pour le paramètre de runbook](media/log-analytics-log-search-takeaction/select-runbook-and-properties.png)</span><span class="sxs-lookup"><span data-stu-id="84d7c-130">![Select Webhook data object for runbook parameter](media/log-analytics-log-search-takeaction/select-runbook-and-properties.png)</span></span>   
    
## <a name="next-steps"></a><span data-ttu-id="84d7c-131">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="84d7c-131">Next steps</span></span>

* <span data-ttu-id="84d7c-132">Hello de révision [Analytique de journal journal référence de recherche](log-analytics-search-reference.md) tooview tous les Hello recherche des champs et facettes disponibles dans le journal Analytique.</span><span class="sxs-lookup"><span data-stu-id="84d7c-132">Review hello [Log Analytics log search reference](log-analytics-search-reference.md) tooview all of hello search fields and facets available in Log Analytics.</span></span>
* <span data-ttu-id="84d7c-133">toolearn comment tooinvoke un runbook Automation automatiquement, consultez [appeler un runbook Azure Automation à partir d’une alerte de l’Analytique des journaux OMS](../automation/automation-invoke-runbook-from-omsla-alert.md).</span><span class="sxs-lookup"><span data-stu-id="84d7c-133">toolearn how tooinvoke an Automation runbook automatically, review [calling an Azure Automation runbook from an OMS Log Analytics alert](../automation/automation-invoke-runbook-from-omsla-alert.md).</span></span>  
