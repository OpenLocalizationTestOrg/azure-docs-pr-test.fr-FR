---
title: "Champs personnalisés dans Log Analytics | Microsoft Docs"
description: "La fonction Champs personnalisés de Log Analytics vous permet de créer vos propres champs autorisant les recherches, à partir des données OMS qui s’ajoutent aux propriétés d’un enregistrement collecté.  Cet article décrit la création d’un champ personnalisé et fournit une procédure détaillée avec un exemple d’événement."
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: 31572b51-6b57-4945-8208-ecfc3b5304fc
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 10/18/2016
ms.author: bwren
ms.openlocfilehash: 9e02094f155eaade9bc5fb49c4fbb798e546e989
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="custom-fields-in-log-analytics"></a><span data-ttu-id="d6f4c-104">Champs personnalisés dans Log Analytics</span><span class="sxs-lookup"><span data-stu-id="d6f4c-104">Custom fields in Log Analytics</span></span>
<span data-ttu-id="d6f4c-105">La fonction **Champs personnalisés** de Log Analytics vous permet de compléter les enregistrements existants dans le référentiel OMS en leur ajoutant vos propres champs de recherche.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-105">The **Custom Fields** feature of Log Analytics allows you to extend existing records in the OMS repository by adding your own searchable fields.</span></span>  <span data-ttu-id="d6f4c-106">Les champs personnalisés sont renseignés automatiquement à partir des données extraites d’autres propriétés du même enregistrement.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-106">Custom fields are automatically populated from data extracted from other properties in the same record.</span></span>

![Vue d’ensemble des champs personnalisés](media/log-analytics-custom-fields/overview.png)

<span data-ttu-id="d6f4c-108">Par exemple, l’enregistrement ci-dessous contient des données utiles dans la description de l’événement.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-108">For example, the sample record below has useful data buried in the event description.</span></span>  <span data-ttu-id="d6f4c-109">L’extraction de ces données dans des propriétés séparées les rend disponibles pour des opérations de tri et de filtrage.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-109">Extracting this data into separate properties makes it available for such actions as sorting and filtering.</span></span>

![Bouton Recherche de journal](media/log-analytics-custom-fields/sample-extract.png)

> [!NOTE]
> <span data-ttu-id="d6f4c-111">Dans la version préliminaire, votre espace de travail est limité à 100 champs personnalisés.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-111">In the Preview, you are limited to 100 custom fields in your workspace.</span></span>  <span data-ttu-id="d6f4c-112">Cette limite pourra être relevée lorsque cette fonction sera disponible dans le commerce.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-112">This limit will be expanded when this feature reaches general availability.</span></span>
> 
> 

## <a name="creating-a-custom-field"></a><span data-ttu-id="d6f4c-113">Création d’un champ personnalisé</span><span class="sxs-lookup"><span data-stu-id="d6f4c-113">Creating a custom field</span></span>
<span data-ttu-id="d6f4c-114">Lorsque vous créez un champ personnalisé, Log Analytics doit savoir quelles données utiliser pour le renseigner.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-114">When you create a custom field, Log Analytics must understand which data to use to populate its value.</span></span>  <span data-ttu-id="d6f4c-115">Il fait donc appel à une technologie de Microsoft Research, appelée FlashExtract, afin d’identifier rapidement ces données.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-115">It uses a technology from Microsoft Research called FlashExtract to quickly identify this data.</span></span>  <span data-ttu-id="d6f4c-116">Au lieu de vous obliger à fournir des instructions explicites, Log Analytics apprend à connaître les données à extraire des exemples que vous fournissez.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-116">Rather than requiring you to provide explicit instructions, Log Analytics learns about the data you want to extract from examples that you provide.</span></span>

<span data-ttu-id="d6f4c-117">Les sections suivantes décrivent la procédure de création d’un champ personnalisé.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-117">The following sections provide the procedure for creating a custom field.</span></span>  <span data-ttu-id="d6f4c-118">À la fin de cet article se trouve une procédure détaillée d’extraction.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-118">At the bottom of this article is a walkthrough of a sample extraction.</span></span>

> [!NOTE]
> <span data-ttu-id="d6f4c-119">Le champ personnalisé est renseigné lorsque des enregistrements correspondant aux critères spécifiés sont ajoutés au magasin de données OMS. Il ne s’affiche donc que sur les enregistrements collectés après la création du champ personnalisé.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-119">The custom field is populated as records matching the specified criteria are added to the OMS data store, so it will only appear on records collected after the custom field is created.</span></span>  <span data-ttu-id="d6f4c-120">Le champ personnalisé n’est pas ajouté aux enregistrements déjà présents dans le magasin de données lors de sa création.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-120">The custom field will not be added to records that are already in the data store when it’s created.</span></span>
> 
> 

### <a name="step-1--identify-records-that-will-have-the-custom-field"></a><span data-ttu-id="d6f4c-121">Étape 1 : identifier les enregistrements qui contiendront le champ personnalisé</span><span class="sxs-lookup"><span data-stu-id="d6f4c-121">Step 1 – Identify records that will have the custom field</span></span>
<span data-ttu-id="d6f4c-122">La première étape consiste à identifier les enregistrements qui recevront le champ personnalisé.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-122">The first step is to identify the records that will get the custom field.</span></span>  <span data-ttu-id="d6f4c-123">Commencez par une [recherche de journal standard](log-analytics-log-searches.md) , puis sélectionnez l’enregistrement qui va servir de modèle à Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-123">You start with a [standard log search](log-analytics-log-searches.md) and then select a record to act as the model that Log Analytics will learn from.</span></span>  <span data-ttu-id="d6f4c-124">Lorsque vous indiquez que vous allez extraire des données pour les placer dans un champ personnalisé, l’ **Assistant Extraction de champs** s’ouvre et vous permet d’affiner et de valider les critères.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-124">When you specify that you are going to extract data into a custom field, the **Field Extraction Wizard** is opened where you validate and refine the criteria.</span></span>

1. <span data-ttu-id="d6f4c-125">Accédez à **Recherche de journal** et utilisez une [requête pour récupérer les enregistrements](log-analytics-log-searches.md) qui contiendront le champ personnalisé.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-125">Go to **Log Search** and use a [query to retrieve the records](log-analytics-log-searches.md) that will have the custom field.</span></span>
2. <span data-ttu-id="d6f4c-126">Sélectionnez l’enregistrement que Log Analytics utilisera comme modèle pour extraire les données à afficher dans le champ personnalisé.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-126">Select a record that Log Analytics will use to act as a model for extracting data to populate the custom field.</span></span>  <span data-ttu-id="d6f4c-127">Vous allez identifier les données à extraire de cet enregistrement, données que Log Analytics va utiliser pour déterminer la logique permettant de renseigner le champ personnalisé de tous les enregistrements similaires.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-127">You will identify the data that you want to extract from this record, and Log Analytics will use this information to determine the logic to populate the custom field for all similar records.</span></span>
3. <span data-ttu-id="d6f4c-128">Cliquez sur le bouton à gauche d’une propriété textuelle de l’enregistrement, puis sélectionnez **Extraire les champs de**.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-128">Click the button to the left of any text property of the record and select **Extract fields from**.</span></span>
4. <span data-ttu-id="d6f4c-129">L’**Assistant Extraction de champs s’ouvre** et l’enregistrement que vous avez sélectionné s’affiche dans la colonne **Exemple principal**.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-129">The **Field Extraction Wizard is opened**, and the record you selected is displayed in the **Main Example** column.</span></span>  <span data-ttu-id="d6f4c-130">Le champ personnalisé sera défini pour les enregistrements ayant les mêmes valeurs dans les propriétés sélectionnées.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-130">The custom field will be defined for those records with the same values in the properties that are selected.</span></span>  
5. <span data-ttu-id="d6f4c-131">Si la sélection ne correspond pas exactement à ce que vous souhaitez, sélectionnez d’autres champs pour affiner les critères.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-131">If the selection is not exactly what you want, select additional fields to narrow the criteria.</span></span>  <span data-ttu-id="d6f4c-132">Pour modifier les valeurs des critères, vous devez annuler l’opération et sélectionner un autre enregistrement correspondant aux critères souhaités.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-132">In order to change the field values for the criteria, you must cancel and select a different record matching the criteria you want.</span></span>

### <a name="step-2---perform-initial-extract"></a><span data-ttu-id="d6f4c-133">Étape 2 : effectuer l’extraction initiale.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-133">Step 2 - Perform initial extract.</span></span>
<span data-ttu-id="d6f4c-134">Après avoir identifié les enregistrements qui contiendront le champ personnalisé, vous identifiez les données à extraire.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-134">Once you’ve identified the records that will have the custom field, you identify the data that you want to extract.</span></span>  <span data-ttu-id="d6f4c-135">Log Analytics utilisera ces informations pour identifier des données similaires dans des enregistrements similaires.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-135">Log Analytics will use this information to identify similar patterns in similar records.</span></span>  <span data-ttu-id="d6f4c-136">Dans l’étape suivante, vous allez valider les résultats et fournir d’autres informations que Log Analytics va exploiter dans son analyse.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-136">In the step after this you will be able to validate the results and provide further details for Log Analytics to use in its analysis.</span></span>

1. <span data-ttu-id="d6f4c-137">Mettez en surbrillance le texte de l’enregistrement exemple dont vous souhaitez renseigner dans le champ personnalisé.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-137">Highlight the text in the sample record that you want to populate the custom field.</span></span>  <span data-ttu-id="d6f4c-138">Dans la boîte de dialogue qui s’affiche, indiquez le nom du champ et effectuez l’extraction initiale.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-138">You will then be presented with a dialog box to provide a name for the field and to perform the initial extract.</span></span>  <span data-ttu-id="d6f4c-139">Les caractères **\_CF** sont automatiquement ajoutés à la fin.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-139">The characters **\_CF** will automatically be appended.</span></span>
2. <span data-ttu-id="d6f4c-140">Cliquez sur **Extraire** pour analyser les enregistrements collectés.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-140">Click **Extract** to perform an analysis of collected records.</span></span>  
3. <span data-ttu-id="d6f4c-141">Les sections **Résumé** et **Résultats** de la recherche affichent les résultats de l’extraction pour que vous puissiez vérifier qu’ils sont corrects.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-141">The **Summary** and **Search Results** sections display the results of the extract so you can inspect its accuracy.</span></span>  <span data-ttu-id="d6f4c-142">**Résumé** affiche les critères utilisés pour identifier les enregistrements et le nombre de chacune des valeurs de données identifiées.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-142">**Summary** displays the criteria used to identify records and a count for each of the data values identified.</span></span>  <span data-ttu-id="d6f4c-143">**Résultats de la recherche** fournit une liste détaillée des enregistrements correspondant aux critères.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-143">**Search Results** provides a detailed list of records matching the criteria.</span></span>

### <a name="step-3--verify-accuracy-of-the-extract-and-create-custom-field"></a><span data-ttu-id="d6f4c-144">Étape 3 : vérifier l’exactitude de l’extraction et créer le champ personnalisé</span><span class="sxs-lookup"><span data-stu-id="d6f4c-144">Step 3 – Verify accuracy of the extract and create custom field</span></span>
<span data-ttu-id="d6f4c-145">Une fois l’extraction initiale effectuée, Log Analytics affiche ses résultats en fonction des données déjà collectées.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-145">Once you have performed the initial extract, Log Analytics will display its results based on data that has already been collected.</span></span>  <span data-ttu-id="d6f4c-146">Si les résultats semblent exacts, vous pouvez créer le champ personnalisé sans aucune opération supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-146">If the results look accurate then you can create the custom field with no further work.</span></span>  <span data-ttu-id="d6f4c-147">Si tel n’est pas le cas, vous pouvez affiner les résultats afin d’améliorer la logique de Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-147">If not, then you can refine the results so that Log Analytics can improve its logic.</span></span>

1. <span data-ttu-id="d6f4c-148">Si des valeurs de l’extraction initiale sont incorrectes, cliquez sur l’icône **Modifier** en regard d’un enregistrement inexact, puis sélectionnez **Modifier cette mise en surbrillance** afin de modifier la sélection.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-148">If any values in the initial extract aren’t correct, then click the **Edit** icon next to an inaccurate record and select **Modify this highlight** in order to modify the selection.</span></span>
2. <span data-ttu-id="d6f4c-149">L’entrée est copiée dans la section **Exemples supplémentaires** sous **Exemple principal**.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-149">The entry is copied to the **Additional examples** section underneath the **Main Example**.</span></span>  <span data-ttu-id="d6f4c-150">Vous pouvez ajuster la mise en surbrillance pour aider Log Analytics à comprendre la sélection qu’il aurait dû faire.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-150">You can adjust the highlight here to help Log Analytics understand the selection it should have made.</span></span>
3. <span data-ttu-id="d6f4c-151">Cliquez sur **Extraire** pour utiliser ces nouvelles informations et évaluer tous les enregistrements existants.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-151">Click **Extract** to use this new information to evaluate all the existing records.</span></span>  <span data-ttu-id="d6f4c-152">Les résultats peuvent être modifiés pour les enregistrements autres que celui dont vous venez de modifier la logique.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-152">The results may be modified for records other than the one you just modified based on this new intelligence.</span></span>
4. <span data-ttu-id="d6f4c-153">Continuez d’ajouter des corrections jusqu’à ce que tous les enregistrements de l’extraction identifient correctement les données à afficher dans le champ personnalisé.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-153">Continue to add corrections until all records in the extract correctly identify the data to populate the new custom field.</span></span>
5. <span data-ttu-id="d6f4c-154">Cliquez sur **Enregistrer l’extraction** lorsque vous êtes satisfait des résultats.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-154">Click **Save Extract** when you are satisfied with the results.</span></span>  <span data-ttu-id="d6f4c-155">Le champ personnalisé est maintenant défini, mais il n’est encore ajouté à aucun enregistrement.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-155">The custom field is now defined, but it won’t be added to any records yet.</span></span>
6. <span data-ttu-id="d6f4c-156">Attendez que des nouveaux enregistrements correspondant aux critères spécifiés soient collectés, puis relancez la recherche du journal.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-156">Wait for new records matching the specified criteria to be collected and then run the log search again.</span></span> <span data-ttu-id="d6f4c-157">Les nouveaux enregistrements doivent contenir le champ personnalisé.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-157">New records should have the custom field.</span></span>
7. <span data-ttu-id="d6f4c-158">Utilisez le champ personnalisé comme n’importe quelle autre propriété d’enregistrement.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-158">Use the custom field like any other record property.</span></span>  <span data-ttu-id="d6f4c-159">Il peut vous servir à agréger et grouper les données, et même à produire d’autres connaissances.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-159">You can use it to aggregate and group data and even use it to produce new insights.</span></span>

## <a name="viewing-custom-fields"></a><span data-ttu-id="d6f4c-160">Affichage de champs personnalisés</span><span class="sxs-lookup"><span data-stu-id="d6f4c-160">Viewing custom fields</span></span>
<span data-ttu-id="d6f4c-161">Vous pouvez afficher la liste de tous les champs personnalisés de votre groupe d’administration, dans la mosaïque **Paramètres** du tableau de bord OMS.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-161">You can view a list of all custom fields in your management group from the **Settings** tile of the OMS dashboard.</span></span>  <span data-ttu-id="d6f4c-162">Sélectionnez **Données** puis **Champs personnalisés** pour obtenir la liste de tous les champs personnalisés dans votre espace de travail.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-162">Select **Data** and then **Custom fields** for a list of all custom fields in your workspace.</span></span>  

![Champs personnalisés](media/log-analytics-custom-fields/list.png)

## <a name="removing-a-custom-field"></a><span data-ttu-id="d6f4c-164">Suppression d’un champ personnalisé</span><span class="sxs-lookup"><span data-stu-id="d6f4c-164">Removing a custom field</span></span>
<span data-ttu-id="d6f4c-165">Il existe deux méthodes pour supprimer un champ personnalisé.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-165">There are two ways to remove a custom field.</span></span>  <span data-ttu-id="d6f4c-166">La première consiste à utiliser l’option **Supprimer** de chaque champ lorsque vous affichez la liste complète, comme indiqué ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-166">The first is the **Remove** option for each field when viewing the complete list as described above.</span></span>  <span data-ttu-id="d6f4c-167">L’autre consiste à extraire un enregistrement et à cliquer sur le bouton à gauche du champ.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-167">The other method is to retrieve a record and click the button to the left of the field.</span></span>  <span data-ttu-id="d6f4c-168">Le menu affiche une option permettant de supprimer le champ personnalisé.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-168">The menu will have an option to remove the custom field.</span></span>

## <a name="sample-walkthrough"></a><span data-ttu-id="d6f4c-169">Exemple de procédure</span><span class="sxs-lookup"><span data-stu-id="d6f4c-169">Sample walkthrough</span></span>
<span data-ttu-id="d6f4c-170">La section suivante décrit la procédure complète de création d’un champ personnalisé.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-170">The following section walks through a complete example of creating a custom field.</span></span>  <span data-ttu-id="d6f4c-171">Cet exemple extrait le nom du service dans les événements Windows indiquant un changement d’état de service.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-171">This example extracts the service name in Windows events that indicate a service changing state.</span></span>  <span data-ttu-id="d6f4c-172">Il s’appuie sur les événements créés par le Gestionnaire de contrôle des services dans le Journal système des ordinateurs Windows.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-172">This relies on events created by Service Control Manager in the System log on Windows computers.</span></span>  <span data-ttu-id="d6f4c-173">Si vous souhaitez suivre cet exemple, vous devez [collecter des événements d’information du journal système](log-analytics-data-sources-windows-events.md).</span><span class="sxs-lookup"><span data-stu-id="d6f4c-173">If you want to follow this example, you must be [collecting Information events for the System log](log-analytics-data-sources-windows-events.md).</span></span>

<span data-ttu-id="d6f4c-174">Nous spécifions la requête suivante pour renvoyer tous les événements du Gestionnaire de contrôle des services dont l’ID d’événement est 7036, c’est-à-dire l’événement indiquant le démarrage ou l’arrêt d’un service.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-174">We enter the following query to return all events from Service Control Manager that have an Event ID of 7036 which is the event that indicates a service starting or stopping.</span></span>

![Interroger](media/log-analytics-custom-fields/query.png)

<span data-ttu-id="d6f4c-176">Ensuite, nous sélectionnons un enregistrement ayant l’ID d’événement 7036.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-176">We then select any record with event ID 7036.</span></span>

![Enregistrement source](media/log-analytics-custom-fields/source-record.png)

<span data-ttu-id="d6f4c-178">Nous voulons afficher le nom du service dans la propriété **RenderedDescription** , donc nous cliquons sur le bouton en regard de cette propriété.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-178">We want the service name that appears in the **RenderedDescription** property and select the button next to this property.</span></span>

![Extraire des champs](media/log-analytics-custom-fields/extract-fields.png)

<span data-ttu-id="d6f4c-180">L’**Assistant Extraction de champs** s’ouvre. Les champs **EventLog** et **EventID** sont sélectionnés dans la colonne **Exemple principal**.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-180">The **Field Extraction Wizard** is opened, and the **EventLog** and **EventID** fields are selected in the **Main Example** column.</span></span>  <span data-ttu-id="d6f4c-181">Cela indique que le champ personnalisé sera défini pour les événements du journal système ayant l’ID d’événement 7036.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-181">This indicates that the custom field will be defined for events from the System log with an event ID of 7036.</span></span>  <span data-ttu-id="d6f4c-182">Cela nous suffit, inutile de sélectionner d’autres champs.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-182">This is sufficient so we don’t need to select any other fields.</span></span>

![Exemple principal](media/log-analytics-custom-fields/main-example.png)

<span data-ttu-id="d6f4c-184">Nous mettons en surbrillance le nom du service dans la propriété **RenderedDescription** et utilisons **Service** pour identifier le nom du service.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-184">We highlight the name of the service in the **RenderedDescription** property and use **Service** to identify the service name.</span></span>  <span data-ttu-id="d6f4c-185">Le nom du champ personnalisé sera **Service_CF**.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-185">The custom field will be called **Service_CF**.</span></span>

![Titre du champ](media/log-analytics-custom-fields/field-title.png)

<span data-ttu-id="d6f4c-187">Nous constatons que le nom du service est identifié correctement pour certains enregistrements, mais pas pour d’autres.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-187">We see that the service name is identified properly for some records but not for others.</span></span>   <span data-ttu-id="d6f4c-188">Les **Résultats de la recherche** montrent que cette partie du nom de **Carte de performance WMI** n’est pas sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-188">The **Search Results** show that part of the name for the **WMI Performance Adapter** wasn’t selected.</span></span>  <span data-ttu-id="d6f4c-189">La section **Résumé** montre que quatre enregistrements du service **DPRMA** comprenaient à tort un mot supplémentaire et que deux enregistrements identifiés **Programme d’installation pour les modules** au lieu de **Programme d’installation pour les modules Windows**.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-189">The **Summary** shows that four records with **DPRMA** service incorrectly included an extra word, and two records identified **Modules Installer** instead of **Windows Modules Installer**.</span></span>  

![Résultats de la recherche](media/log-analytics-custom-fields/search-results-01.png)

<span data-ttu-id="d6f4c-191">Commençons par l’enregistrement **Carte de performance WMI** .</span><span class="sxs-lookup"><span data-stu-id="d6f4c-191">We start with the **WMI Performance Adapter** record.</span></span>  <span data-ttu-id="d6f4c-192">Cliquez sur son icône de modification, puis sur **Modifier cette mise en surbrillance**.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-192">We click its edit icon and then **Modify this highlight**.</span></span>  

![Modifier la mise en surbrillance](media/log-analytics-custom-fields/modify-highlight.png)

<span data-ttu-id="d6f4c-194">Nous étendons la mise en surbrillance afin d’inclure le mot **WMI**, puis nous relançons l’extraction.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-194">We increase    the highlight to include the word **WMI** and then rerun the extract.</span></span>  

![Exemple supplémentaire](media/log-analytics-custom-fields/additional-example-01.png)

<span data-ttu-id="d6f4c-196">Nous constatons que les entrées de **Carte de performance WMI** ont été corrigées, et que Log Analytics a utilisé ces informations pour corriger les enregistrements de **Programme d’installation pour les modules Windows**.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-196">We can see that the entries for **WMI Performance Adapter** have been corrected, and Log Analytics also used that information to correct the records for **Windows Module Installer**.</span></span>  <span data-ttu-id="d6f4c-197">Cependant, dans la section **Résumé**, **DPMRA** n’est toujours pas identifié correctement.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-197">We can see in the **Summary** section though that **DPMRA** is still not being identified correctly.</span></span>

![Résultats de la recherche](media/log-analytics-custom-fields/search-results-02.png)

<span data-ttu-id="d6f4c-199">Nous faisons défiler l’affichage jusqu’à un enregistrement avec le service DPMRA et suivons le même processus pour corriger cet enregistrement.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-199">We scroll to a record with the DPMRA service and use the same process to correct that record.</span></span>

![Exemple supplémentaire](media/log-analytics-custom-fields/additional-example-02.png)

 <span data-ttu-id="d6f4c-201">Lorsque nous relançons l’extraction, nous voyons que tous les résultats sont désormais exacts.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-201">When we run the extraction, we can see that all of our results are now accurate.</span></span>

![Résultats de la recherche](media/log-analytics-custom-fields/search-results-03.png)

<span data-ttu-id="d6f4c-203">Nous constatons que **Service_CF** est créé mais qu’il n’est encore ajouté à aucun enregistrement.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-203">We can see that **Service_CF** is created but is not yet added to any records.</span></span>

![Nombre initial](media/log-analytics-custom-fields/initial-count.png)

<span data-ttu-id="d6f4c-205">Après la collecte de nouveaux événements, nous pouvons voir que le champ **Service_CF** est désormais ajouté aux enregistrements qui répondent à nos critères.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-205">After some time has passed so new events are collected, we can see that that the **Service_CF** field is now being added to records that match our criteria.</span></span>

![Résultats finaux](media/log-analytics-custom-fields/final-results.png)

<span data-ttu-id="d6f4c-207">Nous pouvons maintenant utiliser le champ personnalisé comme n’importe quelle propriété d’enregistrement.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-207">We can now use the custom field like any other record property.</span></span>  <span data-ttu-id="d6f4c-208">Pour illustrer ce propos, nous créons une requête qui classe les enregistrements par le nouveau champ **Service_CF** pour identifier les services les plus actifs.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-208">To illustrate this, we create a query that groups by the new **Service_CF** field to inspect which services are the most active.</span></span>

![Regrouper par requête](media/log-analytics-custom-fields/query-group.png)

## <a name="next-steps"></a><span data-ttu-id="d6f4c-210">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="d6f4c-210">Next steps</span></span>
* <span data-ttu-id="d6f4c-211">En savoir plus sur les [recherches de journaux](log-analytics-log-searches.md) pour générer des requêtes utilisant des champs personnalisés comme critères.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-211">Learn about [log searches](log-analytics-log-searches.md) to build queries using custom fields for criteria.</span></span>
* <span data-ttu-id="d6f4c-212">Surveillez les [fichiers journaux personnalisés](log-analytics-data-sources-custom-logs.md) que vous analysez à l’aide de champs personnalisés.</span><span class="sxs-lookup"><span data-stu-id="d6f4c-212">Monitor [custom log files](log-analytics-data-sources-custom-logs.md) that you parse using custom fields.</span></span>

