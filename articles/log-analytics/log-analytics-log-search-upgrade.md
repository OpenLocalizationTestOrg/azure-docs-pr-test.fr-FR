---
title: "Mise à niveau d’Azure Log Analytics pour la nouvelle fonctionnalité de recherche dans les journaux | Microsoft Docs"
description: "Le nouveau langage de requête Log Analytics sera bientôt disponible. En attendant, vous pouvez participer à la préversion publique.  Cet article décrit les avantages du nouveau langage et explique comment convertir votre espace de travail."
services: log-analytics
documentationcenter: 
author: bwren
manager: carmonm
editor: 
ms.service: log-analytics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/08/2017
ms.author: magoedte;bwren
ms.openlocfilehash: 4a3ee3c4d1fa9b626a51f24997603adceed8311f
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/29/2017
---
# <a name="upgrade-your-azure-log-analytics-workspace-to-new-log-search"></a><span data-ttu-id="5cedc-104">Mettre à niveau de votre espace de travail Azure Log Analytics pour la nouvelle fonctionnalité de recherche dans les journaux</span><span class="sxs-lookup"><span data-stu-id="5cedc-104">Upgrade your Azure Log Analytics workspace to new log search</span></span>

> [!NOTE]
> <span data-ttu-id="5cedc-105">La mise à niveau vers le nouveau langage de requête Log Analytics est actuellement facultative, afin de vous laisser le temps de vous [familiariser avec le nouveau langage](https://go.microsoft.com/fwlink/?linkid=856078).</span><span class="sxs-lookup"><span data-stu-id="5cedc-105">Upgrade to the new Log Analytics query language is currently optional giving you time to [ramp up on the new language](https://go.microsoft.com/fwlink/?linkid=856078).</span></span>  

<span data-ttu-id="5cedc-106">Le nouveau langage de requête Log Analytics est désormais disponible et vous devez mettre à niveau votre espace de travail pour pouvoir l’utiliser.</span><span class="sxs-lookup"><span data-stu-id="5cedc-106">The new Log Analytics query language is here, and you need to upgrade your workspace to take advantage of it.</span></span>  <span data-ttu-id="5cedc-107">Cet article décrit les avantages du nouveau langage et explique comment convertir votre espace de travail.</span><span class="sxs-lookup"><span data-stu-id="5cedc-107">This article describes the advantages of the new language and how to convert your workspace.</span></span>  <span data-ttu-id="5cedc-108">Si vous choisissez de ne pas procéder à la mise à niveau pour le moment, votre espace de travail continuera de fonctionner exactement comme avant. Toutefois, il sera automatiquement converti à une date ultérieure.</span><span class="sxs-lookup"><span data-stu-id="5cedc-108">If you don't choose to upgrade now, then your workspace will continue to operate just like it always did, but it will be automatically converted at a later date.</span></span>  <span data-ttu-id="5cedc-109">Vous serez averti bien à l’avance de cette conversion.</span><span class="sxs-lookup"><span data-stu-id="5cedc-109">You will receive significant time and notification when that date is set.</span></span>

<span data-ttu-id="5cedc-110">Cet article fournit des informations détaillées sur le nouveau langage et le processus de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="5cedc-110">This article provides details on the new language and the upgrade process.</span></span>

## <a name="why-the-new-language"></a><span data-ttu-id="5cedc-111">Pourquoi un nouveau langage ?</span><span class="sxs-lookup"><span data-stu-id="5cedc-111">Why the new language?</span></span>
<span data-ttu-id="5cedc-112">Nous sommes conscients que toute transition implique des efforts. Sachez, toutefois, que cette modification était nécessaire.</span><span class="sxs-lookup"><span data-stu-id="5cedc-112">We understand that there’s pain in any transition, and we aren’t just changing the query language for the fun of it.</span></span>  <span data-ttu-id="5cedc-113">Cette modification présente de nombreux avantages pour les utilisateurs Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="5cedc-113">There are several reasons that this change will provide significant value to our Log Analytics customers.</span></span>

- <span data-ttu-id="5cedc-114">**Simple, mais puissant.**</span><span class="sxs-lookup"><span data-stu-id="5cedc-114">**Simple yet powerful.**</span></span> <span data-ttu-id="5cedc-115">Le nouveau langage est plus facile à comprendre et similaire au langage SQL, avec des constructions plus proches du langage naturel que l’ancien langage.</span><span class="sxs-lookup"><span data-stu-id="5cedc-115">The new language is easier to understand and similar to SQL with constructs more like natural language than the legacy language.</span></span>
- <span data-ttu-id="5cedc-116">**Des fonctionnalités de redirection complètes.**</span><span class="sxs-lookup"><span data-stu-id="5cedc-116">**Full piping language.**</span></span>  <span data-ttu-id="5cedc-117">Le nouveau langage comprend des fonctionnalités de redirection plus complètes que celles de l’ancien langage.</span><span class="sxs-lookup"><span data-stu-id="5cedc-117">The new language has more extensive piping capabilities than the legacy language.</span></span>  <span data-ttu-id="5cedc-118">Quasiment tous les résultats peuvent être redirigés vers une autre commande pour créer des requêtes plus complexes qu’avec l’ancien langage.</span><span class="sxs-lookup"><span data-stu-id="5cedc-118">Virtually any output can be piped to another command to create more complex queries than were previously possible.</span></span>
- <span data-ttu-id="5cedc-119">**Extraction des champs au moment de la recherche.**</span><span class="sxs-lookup"><span data-stu-id="5cedc-119">**Search-time field extractions.**</span></span>  <span data-ttu-id="5cedc-120">Le nouveau langage prend en charge des champs calculés au moment du runtime plus avancés que ceux de l’ancien langage.</span><span class="sxs-lookup"><span data-stu-id="5cedc-120">The new language supports more advanced runtime calculated fields than the legacy language.</span></span>  <span data-ttu-id="5cedc-121">Vous pouvez utiliser des calculs complexes pour les champs étendus, puis utiliser les champs calculés dans des commandes supplémentaires telles que des jointures et des agrégations.</span><span class="sxs-lookup"><span data-stu-id="5cedc-121">You can use complex calculations for extended fields and then use the calculated fields for additional commands including joins and aggregations.</span></span>
- <span data-ttu-id="5cedc-122">**Jointures avancées.**</span><span class="sxs-lookup"><span data-stu-id="5cedc-122">**Advanced joins.**</span></span>  <span data-ttu-id="5cedc-123">Le nouveau langage fournit des jointures plus avancées que celles de l’ancien langage. Il permet notamment de joindre les tables de plusieurs champs, d’utiliser des jointures internes et externes, et de joindre des champs étendus.</span><span class="sxs-lookup"><span data-stu-id="5cedc-123">The new language provides more advanced joins than the legacy language including the ability to join tables on multiple fields, use inner and outer joins, and join on extended fields.</span></span>
- <span data-ttu-id="5cedc-124">**Fonctions de date et d’heure.**</span><span class="sxs-lookup"><span data-stu-id="5cedc-124">**Date/time functions.**</span></span>  <span data-ttu-id="5cedc-125">Le nouveau langage comprend davantage de fonctions de date/heure que l’ancien langage.</span><span class="sxs-lookup"><span data-stu-id="5cedc-125">The new language has more advanced date/time functions than the legacy language.</span></span>
- <span data-ttu-id="5cedc-126">**Analyses intelligentes.**</span><span class="sxs-lookup"><span data-stu-id="5cedc-126">**Smart Analytics.**</span></span>  <span data-ttu-id="5cedc-127">Le nouveau langage comprend des algorithmes avancés permettant d’évaluer les modèles de jeux de données et de comparer des jeux de données.</span><span class="sxs-lookup"><span data-stu-id="5cedc-127">The new language has advanced algorithms to evaluate patterns in datasets and compare different sets of data.</span></span>
- <span data-ttu-id="5cedc-128">**Portail Analytique avancée.**</span><span class="sxs-lookup"><span data-stu-id="5cedc-128">**Advanced Analytics portal.**</span></span>  <span data-ttu-id="5cedc-129">Le portail Analytique avancée comprend des fonctionnalités d’analyse qui ne sont pas disponibles dans le portail Log Analytics, notamment l’édition multiligne de requêtes, des visualisations supplémentaires et des diagnostics avancés.</span><span class="sxs-lookup"><span data-stu-id="5cedc-129">The Advanced Analytics portal offers analysis features not available in the Log Analytics portal including multiline editing of queries, additional visualizations, and advanced diagnostics.</span></span>
- <span data-ttu-id="5cedc-130">**Cohérence avec les autres applications.**</span><span class="sxs-lookup"><span data-stu-id="5cedc-130">**Consistency with other applications.**</span></span>  <span data-ttu-id="5cedc-131">Le nouveau langage et le portail Analytique avancée sont déjà utilisés pour les analyses dans Application Insights.</span><span class="sxs-lookup"><span data-stu-id="5cedc-131">The new language and the Advanced Analytics Portal are already used for analytics in Application Insights.</span></span>  <span data-ttu-id="5cedc-132">L’implémentation du nouveau langage pour Log Analytics permet une cohérence entre les services Azure.</span><span class="sxs-lookup"><span data-stu-id="5cedc-132">Implementing it for Log Analytics provides consistency across Azure services.</span></span>
- <span data-ttu-id="5cedc-133">**Meilleure intégration avec Power BI.**</span><span class="sxs-lookup"><span data-stu-id="5cedc-133">**Better integration with Power BI.**</span></span> <span data-ttu-id="5cedc-134">Les requêtes dans le nouveau langage peuvent être exportées vers Power BI Desktop : vous pouvez donc utiliser ses riches fonctionnalités de transformation des données.</span><span class="sxs-lookup"><span data-stu-id="5cedc-134">Queries in the new language can be exported to Power BI Desktop, so you can utilize its rich data transformation capabilities.</span></span>
- <span data-ttu-id="5cedc-135">**Et bien plus encore...**</span><span class="sxs-lookup"><span data-stu-id="5cedc-135">**Much more.**</span></span> <span data-ttu-id="5cedc-136">Pour obtenir des informations détaillées et des didacticiels sur le nouveau langage, consultez le site [Langage de requête Azure Log Analytics](https://docs.loganalytics.io).</span><span class="sxs-lookup"><span data-stu-id="5cedc-136">Refer to the [Azure Log Analytics Query Language](https://docs.loganalytics.io) site for complete details and tutorials on the new language.</span></span>


## <a name="when-can-i-upgrade"></a><span data-ttu-id="5cedc-137">À quel moment puis-je effectuer la mise à niveau ?</span><span class="sxs-lookup"><span data-stu-id="5cedc-137">When can I upgrade?</span></span>
<span data-ttu-id="5cedc-138">La mise à niveau va être déployée dans toutes les régions Azure, et peut être disponible dans certaines régions avant d’autres.</span><span class="sxs-lookup"><span data-stu-id="5cedc-138">The upgrade will be rolled out across all Azure regions so it may be available in some regions before others.</span></span>  <span data-ttu-id="5cedc-139">Vous saurez que votre espace de travail est prêt pour la mise à niveau lorsque vous verrez une bannière violette en haut de votre espace de travail vous invitant à effectuer la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="5cedc-139">You'll know when your workspace is available to be upgraded when you see the purple banner across the top of your workspace inviting you to upgrade.</span></span>

![Mise à niveau 1](media/log-analytics-log-search-upgrade/upgrade-01a.png)

## <a name="what-happens-when-i-upgrade"></a><span data-ttu-id="5cedc-141">Que se passe-t-il quand j’effectue la mise à niveau ?</span><span class="sxs-lookup"><span data-stu-id="5cedc-141">What happens when I upgrade?</span></span>
<span data-ttu-id="5cedc-142">Lorsque vous convertissez votre espace de travail, toutes les recherches enregistrées, les règles d’alerte et les vues que vous avez créées avec le Concepteur de vues sont automatiquement converties dans le nouveau langage.</span><span class="sxs-lookup"><span data-stu-id="5cedc-142">When you convert your workspace, any saved searches, alert rules, and views that you’ve created with the View Designer are automatically converted to the new language.</span></span>  <span data-ttu-id="5cedc-143">Les recherches incluses dans les solutions de recherche ne sont pas automatiquement converties. Elles le sont, cependant, lorsque vous les ouvrez.</span><span class="sxs-lookup"><span data-stu-id="5cedc-143">Searches included in solutions are not automatically converted, but they’re instead converted on the fly when you open them.</span></span>  <span data-ttu-id="5cedc-144">Cela se fait de manière totalement transparente.</span><span class="sxs-lookup"><span data-stu-id="5cedc-144">This is completely transparent to you.</span></span>

## <a name="can-i-go-back-after-i-upgrade"></a><span data-ttu-id="5cedc-145">Puis-je annuler la mise à niveau ?</span><span class="sxs-lookup"><span data-stu-id="5cedc-145">Can I go back after I upgrade?</span></span>
<span data-ttu-id="5cedc-146">Lorsque vous effectuez la mise à niveau, une sauvegarde complète de votre espace de travail est créée. La sauvegarde est constituée de la capture instantanée de toutes vos recherches enregistrées, de vos règles d’alerte et de vos vues.</span><span class="sxs-lookup"><span data-stu-id="5cedc-146">When you upgrade, a complete backup of your workspace is taken that includes a snapshot of all saved searches, alert rule, and views.</span></span>  <span data-ttu-id="5cedc-147">Vous pouvez ainsi restaurer votre ancien espace de travail si vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="5cedc-147">This allows you to restore your old workspace if you should later desire.</span></span>

<span data-ttu-id="5cedc-148">Pour restaurer votre ancien espace de travail, accédez à **Paramètres** dans votre espace de travail, puis à **Résumé de la mise à niveau**.</span><span class="sxs-lookup"><span data-stu-id="5cedc-148">To restore your legacy workspace, go to **Settings** in your workspace and then **Upgrade Summary**.</span></span>  <span data-ttu-id="5cedc-149">Vous pouvez ensuite sélectionner l’option **Restaurer l’espace de travail hérité**.</span><span class="sxs-lookup"><span data-stu-id="5cedc-149">You can then select the option to **Restore legacy workspace**.</span></span>  

![Restaurer l’espace de travail hérité](media/log-analytics-log-search-upgrade/restore-legacy-b.png)

## <a name="how-do-i-perform-the-upgrade"></a><span data-ttu-id="5cedc-151">Comment effectuer la mise à niveau ?</span><span class="sxs-lookup"><span data-stu-id="5cedc-151">How do I perform the upgrade?</span></span>
<span data-ttu-id="5cedc-152">Lorsque vous voyez la bannière violette en haut du portail, vous êtes prêt à mettre à niveau votre espace de travail.</span><span class="sxs-lookup"><span data-stu-id="5cedc-152">You can upgrade your workspace when you see the purple banner at the top of the portal.</span></span>  

1.  <span data-ttu-id="5cedc-153">Démarrer le processus de mise à niveau en cliquant sur la bannière violette intitulée **En savoir plus et mise à niveau**.</span><span class="sxs-lookup"><span data-stu-id="5cedc-153">Start the upgrade process by clicking on the purple banner that says **Learn more and upgrade**.</span></span><br><span data-ttu-id="5cedc-154">![Mise à niveau 2](media/log-analytics-log-search-upgrade/upgrade-01a.png)</span><span class="sxs-lookup"><span data-stu-id="5cedc-154">![Upgrade 2](media/log-analytics-log-search-upgrade/upgrade-01a.png)</span></span><br>
2.  <span data-ttu-id="5cedc-155">Pour plus d’informations sur la mise à niveau, consultez la page d’informations sur la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="5cedc-155">Read through the additional information about the upgrade on the upgrade information page.</span></span><br>![Mise à niveau 2](media/log-analytics-log-search-upgrade/upgrade-03.png)<br>
3.  <span data-ttu-id="5cedc-157">Pour démarrer la mise à niveau, cliquez sur **Mettre à niveau maintenant**.</span><span class="sxs-lookup"><span data-stu-id="5cedc-157">Click **Upgrade Now** to start the upgrade.</span></span><br><span data-ttu-id="5cedc-158">![Mettre à niveau 4](media/log-analytics-log-search-upgrade/upgrade-04.png)</span><span class="sxs-lookup"><span data-stu-id="5cedc-158">![Upgrade 4](media/log-analytics-log-search-upgrade/upgrade-04.png)</span></span><br><span data-ttu-id="5cedc-159">L’état est affiché dans la zone de notification située dans le coin supérieur droit.</span><span class="sxs-lookup"><span data-stu-id="5cedc-159">A notification box in the upper right corner shows the status.</span></span><br><span data-ttu-id="5cedc-160">![Mettre à niveau 5](media/log-analytics-log-search-upgrade/upgrade-05.png)</span><span class="sxs-lookup"><span data-stu-id="5cedc-160">![Upgrade 5](media/log-analytics-log-search-upgrade/upgrade-05.png)</span></span>
4.  <span data-ttu-id="5cedc-161">Et voilà !</span><span class="sxs-lookup"><span data-stu-id="5cedc-161">That’s it!</span></span>  <span data-ttu-id="5cedc-162">Passez en revue la page Recherche dans les journaux pour voir à quoi ressemble votre nouvel espace de travail.</span><span class="sxs-lookup"><span data-stu-id="5cedc-162">Go over to the Log Search page to have a look at your upgraded workspace.</span></span><br>![Mise à jour 6](media/log-analytics-log-search-upgrade/upgrade-06.png)<br>

<span data-ttu-id="5cedc-164">Si vous rencontrez un problème qui provoque l’échec de la mise à niveau, vous pouvez accéder au [Forum de discussion](https://social.msdn.microsoft.com/Forums/azure/home?forum=opinsights) et envoyer votre question. Vous pouvez également [créer une demande de support](../azure-supportability/how-to-create-azure-support-request.md) dans le portail Azure.</span><span class="sxs-lookup"><span data-stu-id="5cedc-164">If you encounter an issue that causes the upgrade to fail, you can go to the [discussion forum](https://social.msdn.microsoft.com/Forums/azure/home?forum=opinsights) and post your question or [create a support request](../azure-supportability/how-to-create-azure-support-request.md) from the Azure portal.</span></span>

## <a name="how-do-i-learn-the-new-language"></a><span data-ttu-id="5cedc-165">Comment en savoir plus sur le nouveau langage ?</span><span class="sxs-lookup"><span data-stu-id="5cedc-165">How do I learn the new language?</span></span>
<span data-ttu-id="5cedc-166">Dans la mesure où il est utilisé par plusieurs services, nous avons créé un [site externe pour héberger la documentation](https://docs.loganalytics.io/) relative au nouveau langage.</span><span class="sxs-lookup"><span data-stu-id="5cedc-166">Since it's used by multiple services we've created an [external site to host the documentation](https://docs.loganalytics.io/) for the new language.</span></span>  <span data-ttu-id="5cedc-167">Cette documentation inclut des didacticiels, des exemples, ainsi qu’une référence complète sur le langage, afin de vous aider à améliorer vos connaissances.</span><span class="sxs-lookup"><span data-stu-id="5cedc-167">This includes tutorials, samples, and a complete reference to help you come up to speed.</span></span> <span data-ttu-id="5cedc-168">Pour lire un didacticiel sur le nouveau langage, consultez le [Guide pratique sur les requêtes](https://go.microsoft.com/fwlink/?linkid=856078). Pour accéder à la référence du langage, consultez [Langage de requête Log Analytics](https://go.microsoft.com/fwlink/?linkid=856079).</span><span class="sxs-lookup"><span data-stu-id="5cedc-168">You can walk through a tutorial of the new language at [Getting Started with Queries](https://go.microsoft.com/fwlink/?linkid=856078) and access the language reference at [Log Analytics query langauge](https://go.microsoft.com/fwlink/?linkid=856079).</span></span>  

<span data-ttu-id="5cedc-169">Si vous êtes déjà familiarisé avec l’ancien langage de requête Log Analytics, vous pouvez utiliser le convertisseur de langage qui est ajouté à votre espace de travail dans le cadre de la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="5cedc-169">If you're already familiar with the legacy Log Analytics query language though, then you can use the language converter which is added to your workspace as part of the upgrade.</span></span>

<span data-ttu-id="5cedc-170">Il vous suffit de taper votre requête dans l’ancien langage, puis de cliquer sur **Convertir** pour afficher la version traduite en nouveau langage.</span><span class="sxs-lookup"><span data-stu-id="5cedc-170">Just type in your legacy query and then click **Convert** to see the translated version.</span></span>  <span data-ttu-id="5cedc-171">Vous pouvez ensuite cliquer sur le bouton de recherche pour exécuter la recherche, ou copier-coller la requête convertie pour l’utiliser ailleurs (par exemple, dans une règle d’alerte).</span><span class="sxs-lookup"><span data-stu-id="5cedc-171">You can then either click the search button to run the search or copy and paste the converted query to use somewhere else such as an alert rule.</span></span>

![Convertisseur de langage](media/log-analytics-log-search-upgrade/language-converter.png)


## <a name="next-steps"></a><span data-ttu-id="5cedc-173">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="5cedc-173">Next steps</span></span>
- <span data-ttu-id="5cedc-174">Consultez le [didacticiel sur le nouveau langage](https://go.microsoft.com/fwlink/?linkid=856078).</span><span class="sxs-lookup"><span data-stu-id="5cedc-174">Check out a [tutorial on the new language](https://go.microsoft.com/fwlink/?linkid=856078).</span></span>
- <span data-ttu-id="5cedc-175">Suivez le [didacticiel sur l’utilisation du portail Recherche dans les journaux](log-analytics-log-search-log-search-portal.md) avec le nouveau langage de requête.</span><span class="sxs-lookup"><span data-stu-id="5cedc-175">Walk through a [tutorial on using the Log Search portal](log-analytics-log-search-log-search-portal.md) with the new query language.</span></span>
- <span data-ttu-id="5cedc-176">Lisez la présentation du nouveau [portail Advanced Analytics](https://go.microsoft.com/fwlink/?linkid=856587).</span><span class="sxs-lookup"><span data-stu-id="5cedc-176">Get an introduction to the new [Advanced Analytics portal](https://go.microsoft.com/fwlink/?linkid=856587).</span></span>
