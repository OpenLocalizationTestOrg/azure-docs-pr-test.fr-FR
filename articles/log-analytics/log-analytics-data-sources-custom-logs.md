---
title: "aaaCollect personnalisée se connecte Analytique des journaux OMS | Documents Microsoft"
description: "Log Analytics peut collecter des événements dans des fichiers texte sur des ordinateurs Windows et Linux.  Cet article décrit comment toodefine un nouveau journal personnalisé et les détails des enregistrements de hello créent dans le référentiel d’OMS hello."
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: aca7f6bb-6f53-4fd4-a45c-93f12ead4ae1
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/15/2017
ms.author: bwren
ms.openlocfilehash: a75d058c371fecf7c43690a797d4e650c1570317
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="custom-logs-in-log-analytics"></a><span data-ttu-id="f4977-104">Journaux personnalisés dans Log Analytics</span><span class="sxs-lookup"><span data-stu-id="f4977-104">Custom logs in Log Analytics</span></span>
<span data-ttu-id="f4977-105">source de données de journaux personnalisés Hello dans Analytique de journal vous permet de toocollect les événements à partir des fichiers texte sur les ordinateurs Windows et Linux.</span><span class="sxs-lookup"><span data-stu-id="f4977-105">hello Custom Logs data source in Log Analytics allows you toocollect events from text files on both Windows and Linux computers.</span></span> <span data-ttu-id="f4977-106">De nombreuses applications journaux informations tootext au lieu de services de journalisation standard tels que le journal des événements Windows ou Syslog.</span><span class="sxs-lookup"><span data-stu-id="f4977-106">Many applications log information tootext files instead of standard logging services such as Windows Event log or Syslog.</span></span>  <span data-ttu-id="f4977-107">Une fois collectées, vous pouvez analyser chaque enregistrement de journal hello dans les champs de tooindividual à l’aide de hello [les champs personnalisés](log-analytics-custom-fields.md) fonctionnalité de journal Analytique.</span><span class="sxs-lookup"><span data-stu-id="f4977-107">Once collected, you can parse each record in hello log in tooindividual fields using hello [Custom Fields](log-analytics-custom-fields.md) feature of Log Analytics.</span></span>

![Collecte de journaux personnalisés](media/log-analytics-data-sources-custom-logs/overview.png)

<span data-ttu-id="f4977-109">toobe de fichiers de journal Hello collectée doit correspondre à hello suivant des critères.</span><span class="sxs-lookup"><span data-stu-id="f4977-109">hello log files toobe collected must match hello following criteria.</span></span>

- <span data-ttu-id="f4977-110">journal de Hello doit avoir une seule entrée par ligne ou utiliser un horodatage correspondant hello suivantes met en forme au début de hello de chaque entrée.</span><span class="sxs-lookup"><span data-stu-id="f4977-110">hello log must either have a single entry per line or use a timestamp matching one of hello following formats at hello start of each entry.</span></span>

    <span data-ttu-id="f4977-111">AAAA-MM-JJ HH:MM:SS </span><span class="sxs-lookup"><span data-stu-id="f4977-111">YYYY-MM-DD HH:MM:SS</span></span><br><span data-ttu-id="f4977-112">M/J/AAAA HH:MM:SS AM/PM</span><span class="sxs-lookup"><span data-stu-id="f4977-112">M/D/YYYY HH:MM:SS AM/PM</span></span> <br><span data-ttu-id="f4977-113">Mois JJ,AAAA HH:MM:SS</span><span class="sxs-lookup"><span data-stu-id="f4977-113">Mon DD,YYYY HH:MM:SS</span></span>

- <span data-ttu-id="f4977-114">fichier de journal Hello ne doit pas autoriser d’où les fichiers hello sont remplacé par de nouvelles entrées mises à jour circulaires.</span><span class="sxs-lookup"><span data-stu-id="f4977-114">hello log file must not allow circular updates where hello file is overwritten with new entries.</span></span>
- <span data-ttu-id="f4977-115">fichier de journal de Hello doit utiliser l’encodage ASCII ou UTF-8.</span><span class="sxs-lookup"><span data-stu-id="f4977-115">hello log file must use ASCII or UTF-8 encoding.</span></span>  <span data-ttu-id="f4977-116">Les autres formats, par exemple UTF-16, ne sont pas pris en charge.</span><span class="sxs-lookup"><span data-stu-id="f4977-116">Other formats such as UTF-16 are not supported.</span></span>

>[!NOTE]
><span data-ttu-id="f4977-117">S’il existe des entrées en double dans le fichier journal de hello, Analytique de journal collectera les.</span><span class="sxs-lookup"><span data-stu-id="f4977-117">If there are duplicate entries in hello log file, Log Analytics will collect them.</span></span>  <span data-ttu-id="f4977-118">Toutefois, les résultats de recherche hello seront incohérents où affichent les résultats du filtrage hello plus d’événements que le nombre de résultats hello.</span><span class="sxs-lookup"><span data-stu-id="f4977-118">However, hello search results will be inconsistent where hello filter results show more events than hello result count.</span></span>  <span data-ttu-id="f4977-119">Il sera important de valider hello journal toodetermine si l’application hello qui le crée à l’origine de ce comportement et de corriger si possible avant de créer la définition de la collection hello journal personnalisé.</span><span class="sxs-lookup"><span data-stu-id="f4977-119">It will be important that you validate hello log toodetermine if hello application that creates it is causing this behavior and address it if possible before creating hello custom log collection definition.</span></span>  
>
  
## <a name="defining-a-custom-log"></a><span data-ttu-id="f4977-120">Définition d’un journal personnalisé</span><span class="sxs-lookup"><span data-stu-id="f4977-120">Defining a custom log</span></span>
<span data-ttu-id="f4977-121">Utilisez hello suivant la procédure toodefine un fichier journal personnalisé.</span><span class="sxs-lookup"><span data-stu-id="f4977-121">Use hello following procedure toodefine a custom log file.</span></span>  <span data-ttu-id="f4977-122">Faites défiler vers la fin de toohello de cet article pour une procédure pas à pas d’un exemple d’ajout d’un journal personnalisé.</span><span class="sxs-lookup"><span data-stu-id="f4977-122">Scroll toohello end of this article for a walkthrough of a sample of adding a custom log.</span></span>

### <a name="step-1-open-hello-custom-log-wizard"></a><span data-ttu-id="f4977-123">Étape 1.</span><span class="sxs-lookup"><span data-stu-id="f4977-123">Step 1.</span></span> <span data-ttu-id="f4977-124">Ouvrez hello Assistant de journal personnalisé</span><span class="sxs-lookup"><span data-stu-id="f4977-124">Open hello Custom Log Wizard</span></span>
<span data-ttu-id="f4977-125">Hello Assistant journal personnalisé s’exécute dans le portail OMS est hello et vous permet de toodefine un nouveau toocollect de journal personnalisé.</span><span class="sxs-lookup"><span data-stu-id="f4977-125">hello Custom Log Wizard runs in hello OMS portal and allows you toodefine a new custom log toocollect.</span></span>

1. <span data-ttu-id="f4977-126">Dans le portail OMS : hello, accédez trop**paramètres**.</span><span class="sxs-lookup"><span data-stu-id="f4977-126">In hello OMS portal, go too**Settings**.</span></span>
2. <span data-ttu-id="f4977-127">Cliquez sur **Données** puis sur **Journaux personnalisés**.</span><span class="sxs-lookup"><span data-stu-id="f4977-127">Click on **Data** and then **Custom logs**.</span></span>
3. <span data-ttu-id="f4977-128">Par défaut, toutes les modifications de configuration sont automatiquement récupérées tooall agents.</span><span class="sxs-lookup"><span data-stu-id="f4977-128">By default, all configuration changes are automatically pushed tooall agents.</span></span>  <span data-ttu-id="f4977-129">Pour les agents de Linux, un fichier de configuration est envoyé toohello Fluentd de collecteurs de données.</span><span class="sxs-lookup"><span data-stu-id="f4977-129">For Linux agents, a configuration file is sent toohello Fluentd data collector.</span></span>  <span data-ttu-id="f4977-130">Si vous le souhaitez toomodify ce fichier manuellement sur chaque agent Linux, puis hello désactivez case à cocher *appliquer ci-dessous les machines Linux configuration toomy*.</span><span class="sxs-lookup"><span data-stu-id="f4977-130">If you wish toomodify this file manually on each Linux agent, then uncheck hello box *Apply below configuration toomy Linux machines*.</span></span>
4. <span data-ttu-id="f4977-131">Cliquez sur **ajouter +** tooopen hello Assistant de journal personnalisé.</span><span class="sxs-lookup"><span data-stu-id="f4977-131">Click **Add+** tooopen hello Custom Log Wizard.</span></span>

### <a name="step-2-upload-and-parse-a-sample-log"></a><span data-ttu-id="f4977-132">Étape 2.</span><span class="sxs-lookup"><span data-stu-id="f4977-132">Step 2.</span></span> <span data-ttu-id="f4977-133">Télécharger et analyser un exemple de journal</span><span class="sxs-lookup"><span data-stu-id="f4977-133">Upload and parse a sample log</span></span>
<span data-ttu-id="f4977-134">Vous commencez par télécharger un exemple de journal personnalisées de hello.</span><span class="sxs-lookup"><span data-stu-id="f4977-134">You start by uploading a sample of hello custom log.</span></span>  <span data-ttu-id="f4977-135">Assistant de Hello analyser et afficher les entrées de hello dans ce fichier pour vous toovalidate.</span><span class="sxs-lookup"><span data-stu-id="f4977-135">hello wizard will parse and display hello entries in this file for you toovalidate.</span></span>  <span data-ttu-id="f4977-136">Analytique de journal utilisera un délimiteur hello que vous spécifiez tooidentify chaque enregistrement.</span><span class="sxs-lookup"><span data-stu-id="f4977-136">Log Analytics will use hello delimiter that you specify tooidentify each record.</span></span>

<span data-ttu-id="f4977-137">**Nouvelle ligne** est le délimiteur par défaut de hello et est utilisé pour les fichiers journaux qui ont une seule entrée par ligne.</span><span class="sxs-lookup"><span data-stu-id="f4977-137">**New Line** is hello default delimiter and is used for log files that have a single entry per line.</span></span>  <span data-ttu-id="f4977-138">Si la ligne de hello commence par une date et heure dans un des formats disponibles de hello, vous pouvez ensuite spécifier un **Timestamp** délimiteur qui prend en charge les entrées qui s’étendent sur plusieurs lignes.</span><span class="sxs-lookup"><span data-stu-id="f4977-138">If hello line starts with a date and time in one of hello available formats, then you can specify a **Timestamp** delimiter which supports entries that span more than one line.</span></span>

<span data-ttu-id="f4977-139">Si un délimiteur de timestamp est utilisé, puis de la propriété TimeGenerated de hello de chaque enregistrement stocké dans OMS contiendra hello date/heure spécifié pour cette entrée dans le fichier journal de hello.</span><span class="sxs-lookup"><span data-stu-id="f4977-139">If a timestamp delimiter is used, then hello TimeGenerated property of each record stored in OMS will be populated with hello date/time specified for that entry in hello log file.</span></span>  <span data-ttu-id="f4977-140">Si un nouveau délimiteur de ligne est utilisé, TimeGenerated est remplie avec la date et l’heure que le journal Analytique collectées entrée de hello.</span><span class="sxs-lookup"><span data-stu-id="f4977-140">If a new line delimiter is used, then TimeGenerated is populated with date and time that Log Analytics collected hello entry.</span></span>

> [!NOTE]
> <span data-ttu-id="f4977-141">Analytique de journal traite actuellement hello date/heure collecté à partir d’un journal à l’aide d’un délimiteur de timestamp comme UTC.</span><span class="sxs-lookup"><span data-stu-id="f4977-141">Log Analytics currently treats hello date/time collected from a log using a timestamp delimiter as UTC.</span></span>  <span data-ttu-id="f4977-142">Ce sera bientôt horaire toouse modifiées hello sur l’agent de hello.</span><span class="sxs-lookup"><span data-stu-id="f4977-142">This will soon be changed toouse hello time zone on hello agent.</span></span>
>
>

1. <span data-ttu-id="f4977-143">Cliquez sur **Parcourir** et recherchez le fichier d’exemple tooa.</span><span class="sxs-lookup"><span data-stu-id="f4977-143">Click **Browse** and browse tooa sample file.</span></span>  <span data-ttu-id="f4977-144">Notez que ce bouton peut s’appeler **Choisir un fichier** dans certains navigateurs.</span><span class="sxs-lookup"><span data-stu-id="f4977-144">Note that this may button may be labeled **Choose File** in some browsers.</span></span>
2. <span data-ttu-id="f4977-145">Cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="f4977-145">Click **Next**.</span></span>
3. <span data-ttu-id="f4977-146">Pour télécharger hello fichier liste hello enregistrements et qu’il identifie Hello Assistant de journal personnalisé.</span><span class="sxs-lookup"><span data-stu-id="f4977-146">hello Custom Log Wizard will upload hello file and list hello records that it identifies.</span></span>
4. <span data-ttu-id="f4977-147">Modifier séparateur hello tooidentify utilisé un nouvel enregistrement et délimiteur hello select qui identifie mieux enregistrements hello dans votre fichier journal.</span><span class="sxs-lookup"><span data-stu-id="f4977-147">Change hello delimiter that is used tooidentify a new record and select hello delimiter that best identifies hello records in your log file.</span></span>
5. <span data-ttu-id="f4977-148">Cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="f4977-148">Click **Next**.</span></span>

### <a name="step-3-add-log-collection-paths"></a><span data-ttu-id="f4977-149">Étape 3.</span><span class="sxs-lookup"><span data-stu-id="f4977-149">Step 3.</span></span> <span data-ttu-id="f4977-150">Ajouter des chemins de collecte de journaux</span><span class="sxs-lookup"><span data-stu-id="f4977-150">Add log collection paths</span></span>
<span data-ttu-id="f4977-151">Vous devez définir un ou plusieurs chemins sur agent hello qui permet de localiser les journaux personnalisés hello.</span><span class="sxs-lookup"><span data-stu-id="f4977-151">You must define one or more paths on hello agent where it can locate hello custom log.</span></span>  <span data-ttu-id="f4977-152">Vous pouvez fournir un chemin d’accès spécifique et le nom de fichier journal de hello, ou vous pouvez spécifier un chemin d’accès avec un caractère générique pour le nom de hello.</span><span class="sxs-lookup"><span data-stu-id="f4977-152">You can either provide a specific path and name for hello log file, or you can specify a path with a wildcard for hello name.</span></span>  <span data-ttu-id="f4977-153">Ce mécanisme prend en charge les applications qui créent un fichier par jour ou lorsqu’un fichier atteint une certaine taille.</span><span class="sxs-lookup"><span data-stu-id="f4977-153">This supports applications that create a new file each day or when one file reaches a certain size.</span></span>  <span data-ttu-id="f4977-154">Vous pouvez également fournir plusieurs chemins d’accès pour un fichier journal.</span><span class="sxs-lookup"><span data-stu-id="f4977-154">You can also provide multiple paths for a single log file.</span></span>

<span data-ttu-id="f4977-155">Par exemple, une application peut créer un fichier journal par jour avec la date hello inclus dans le nom hello comme dans log20100316.txt.</span><span class="sxs-lookup"><span data-stu-id="f4977-155">For example, an application might create a log file each day with hello date included in hello name as in log20100316.txt.</span></span> <span data-ttu-id="f4977-156">Un modèle d’un journal de ce type peut être *journal\*.txt* qui serait d’utiliser tooany journal après l’application hello de noms de schéma.</span><span class="sxs-lookup"><span data-stu-id="f4977-156">A pattern for such a log might be *log\*.txt* which would apply tooany log file following hello application’s naming scheme.</span></span>

<span data-ttu-id="f4977-157">Hello tableau suivant fournit des exemples de modèles valides toospecify différents fichiers journaux.</span><span class="sxs-lookup"><span data-stu-id="f4977-157">hello following table provides examples of valid patterns toospecify different log files.</span></span>

| <span data-ttu-id="f4977-158">Description</span><span class="sxs-lookup"><span data-stu-id="f4977-158">Description</span></span> | <span data-ttu-id="f4977-159">Chemin</span><span class="sxs-lookup"><span data-stu-id="f4977-159">Path</span></span> |
|:--- |:--- |
| <span data-ttu-id="f4977-160">Tous les fichiers sous *C:\Logs* avec l’extension .txt sur l’agent Windows</span><span class="sxs-lookup"><span data-stu-id="f4977-160">All files in *C:\Logs* with .txt extension on Windows agent</span></span> |<span data-ttu-id="f4977-161">C:\Logs\\\*.txt</span><span class="sxs-lookup"><span data-stu-id="f4977-161">C:\Logs\\\*.txt</span></span> |
| <span data-ttu-id="f4977-162">Tous les fichiers sous *C:\Logs* avec un nom commençant par log et portant l’extension .txt sur l’agent Windows</span><span class="sxs-lookup"><span data-stu-id="f4977-162">All files in *C:\Logs* with a name starting with log and a .txt extension on Windows agent</span></span> |<span data-ttu-id="f4977-163">C:\Logs\log\*.txt</span><span class="sxs-lookup"><span data-stu-id="f4977-163">C:\Logs\log\*.txt</span></span> |
| <span data-ttu-id="f4977-164">Tous les fichiers sous */var/log/audit* avec l’extension .txt sur l’agent Linux</span><span class="sxs-lookup"><span data-stu-id="f4977-164">All files in */var/log/audit* with .txt extension on Linux agent</span></span> |<span data-ttu-id="f4977-165">/var/log/audit/*.txt</span><span class="sxs-lookup"><span data-stu-id="f4977-165">/var/log/audit/*.txt</span></span> |
| <span data-ttu-id="f4977-166">Tous les fichiers sous */var/log/audit* avec un nom commençant par log et portant l’extension .txt sur l’agent Linux</span><span class="sxs-lookup"><span data-stu-id="f4977-166">All files in */var/log/audit* with a name starting with log and a .txt extension on Linux agent</span></span> |<span data-ttu-id="f4977-167">/var/log/audit/log\*.txt</span><span class="sxs-lookup"><span data-stu-id="f4977-167">/var/log/audit/log\*.txt</span></span> |

1. <span data-ttu-id="f4977-168">Sélectionnez toospecify Windows ou Linux, le format de chemin d’accès que vous ajoutez.</span><span class="sxs-lookup"><span data-stu-id="f4977-168">Select Windows or Linux toospecify which path format you are adding.</span></span>
2. <span data-ttu-id="f4977-169">Tapez le chemin d’accès de hello et cliquez sur hello  **+**  bouton.</span><span class="sxs-lookup"><span data-stu-id="f4977-169">Type in hello path and click hello **+** button.</span></span>
3. <span data-ttu-id="f4977-170">Répétez les processus hello pour les chemins d’accès supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="f4977-170">Repeat hello process for any additional paths.</span></span>

### <a name="step-4-provide-a-name-and-description-for-hello-log"></a><span data-ttu-id="f4977-171">Étape 4.</span><span class="sxs-lookup"><span data-stu-id="f4977-171">Step 4.</span></span> <span data-ttu-id="f4977-172">Fournissez un nom et une description pour le journal de hello</span><span class="sxs-lookup"><span data-stu-id="f4977-172">Provide a name and description for hello log</span></span>
<span data-ttu-id="f4977-173">Hello nom que vous spécifiez sera être utilisé pour le type de journal hello comme décrit ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="f4977-173">hello name that you specify will be used for hello log type as described above.</span></span>  <span data-ttu-id="f4977-174">Il se termine toujours par _CL toodistinguish elle en tant qu’un journal personnalisé.</span><span class="sxs-lookup"><span data-stu-id="f4977-174">It will always end with _CL toodistinguish it as a custom log.</span></span>

1. <span data-ttu-id="f4977-175">Tapez un nom pour le journal de hello.</span><span class="sxs-lookup"><span data-stu-id="f4977-175">Type in a name for hello log.</span></span>  <span data-ttu-id="f4977-176">Hello  **\_CL** suffixe est fourni automatiquement.</span><span class="sxs-lookup"><span data-stu-id="f4977-176">hello **\_CL** suffix is automatically provided.</span></span>
2. <span data-ttu-id="f4977-177">Si vous le souhaitez, renseignez le champ **Description**.</span><span class="sxs-lookup"><span data-stu-id="f4977-177">Add an optional **Description**.</span></span>
3. <span data-ttu-id="f4977-178">Cliquez sur **suivant** définition de journal personnalisé toosave hello.</span><span class="sxs-lookup"><span data-stu-id="f4977-178">Click **Next** toosave hello custom log definition.</span></span>

### <a name="step-5-validate-that-hello-custom-logs-are-being-collected"></a><span data-ttu-id="f4977-179">Étape 5.</span><span class="sxs-lookup"><span data-stu-id="f4977-179">Step 5.</span></span> <span data-ttu-id="f4977-180">Valider des journaux personnalisés hello sont collectés</span><span class="sxs-lookup"><span data-stu-id="f4977-180">Validate that hello custom logs are being collected</span></span>
<span data-ttu-id="f4977-181">Cela peut prendre jusqu'à tooan heure initiale des données hello à partir d’un nouveau tooappear de journal personnalisé dans le journal Analytique.</span><span class="sxs-lookup"><span data-stu-id="f4977-181">It may take up tooan hour for hello initial data from a new custom log tooappear in Log Analytics.</span></span>  <span data-ttu-id="f4977-182">Il va commencer à collecter les entrées de hello journaux trouvent dans le chemin d’accès hello spécifié à partir du point de hello que vous hello défini journal personnalisé.</span><span class="sxs-lookup"><span data-stu-id="f4977-182">It will start collecting entries from hello logs found in hello path you specified from hello point that you defined hello custom log.</span></span>  <span data-ttu-id="f4977-183">Il conserve pas les entrées de hello que vous avez téléchargé lors de la création du journal personnalisé hello, mais il collecte des entrées déjà existantes dans les fichiers journaux hello qui localise.</span><span class="sxs-lookup"><span data-stu-id="f4977-183">It will not retain hello entries that you uploaded during hello custom log creation, but it will collect already existing entries in hello log files that it locates.</span></span>

<span data-ttu-id="f4977-184">Une fois que le journal Analytique commence la collecte de journal personnalisé de hello, ses enregistrements sera disponibles avec une recherche de journal.</span><span class="sxs-lookup"><span data-stu-id="f4977-184">Once Log Analytics starts collecting from hello custom log, its records will be available with a Log Search.</span></span>  <span data-ttu-id="f4977-185">Utiliser le nom hello que vous avez donné de journal personnalisée hello hello **Type** dans votre requête.</span><span class="sxs-lookup"><span data-stu-id="f4977-185">Use hello name that you gave hello custom log as hello **Type** in your query.</span></span>

> [!NOTE]
> <span data-ttu-id="f4977-186">Si hello RawData propriété est absent de la recherche de hello, vous pouvez peut-être tooclose et rouvrez votre navigateur.</span><span class="sxs-lookup"><span data-stu-id="f4977-186">If hello RawData property is missing from hello search, you may need tooclose and reopen your browser.</span></span>
>
>

### <a name="step-6-parse-hello-custom-log-entries"></a><span data-ttu-id="f4977-187">Étape 6.</span><span class="sxs-lookup"><span data-stu-id="f4977-187">Step 6.</span></span> <span data-ttu-id="f4977-188">Analyser les entrées de journal personnalisées hello</span><span class="sxs-lookup"><span data-stu-id="f4977-188">Parse hello custom log entries</span></span>
<span data-ttu-id="f4977-189">entrée de journal complet Hello est stockée dans une propriété unique appelée **RawData**.</span><span class="sxs-lookup"><span data-stu-id="f4977-189">hello entire log entry will be stored in a single property called **RawData**.</span></span>  <span data-ttu-id="f4977-190">Vous souhaiterez certainement que tooseparate hello différents éléments d’informations dans chaque entrée dans les propriétés individuelles stockées dans l’enregistrement de hello.</span><span class="sxs-lookup"><span data-stu-id="f4977-190">You will most likely want tooseparate hello different pieces of information in each entry into individual properties stored in hello record.</span></span>  <span data-ttu-id="f4977-191">Cela à l’aide de hello [les champs personnalisés](log-analytics-custom-fields.md) fonctionnalité de journal Analytique.</span><span class="sxs-lookup"><span data-stu-id="f4977-191">You do this using hello [Custom Fields](log-analytics-custom-fields.md) feature of Log Analytics.</span></span>

<span data-ttu-id="f4977-192">La procédure détaillée pour l’analyse d’entrée de journal personnalisée hello n’est pas indiquée ici.</span><span class="sxs-lookup"><span data-stu-id="f4977-192">Detailed steps for parsing hello custom log entry are not provided here.</span></span>  <span data-ttu-id="f4977-193">Reportez-vous toohello [les champs personnalisés](log-analytics-custom-fields.md) documentation pour obtenir des informations.</span><span class="sxs-lookup"><span data-stu-id="f4977-193">Please refer toohello [Custom Fields](log-analytics-custom-fields.md) documentation for this information.</span></span>

## <a name="disabling-a-custom-log"></a><span data-ttu-id="f4977-194">Désactivation d’un journal personnalisé</span><span class="sxs-lookup"><span data-stu-id="f4977-194">Disabling a custom log</span></span>
<span data-ttu-id="f4977-195">Vous ne pouvez pas supprimer une définition de journal personnalisé une fois qu’elle a été créée, mais vous pouvez la désactiver en supprimant tous ses chemins de regroupement.</span><span class="sxs-lookup"><span data-stu-id="f4977-195">You cannot remove a custom log definition once it's been created, but you can disable it by removing all of its collection paths.</span></span>

1. <span data-ttu-id="f4977-196">Dans le portail OMS : hello, accédez trop**paramètres**.</span><span class="sxs-lookup"><span data-stu-id="f4977-196">In hello OMS portal, go too**Settings**.</span></span>
2. <span data-ttu-id="f4977-197">Cliquez sur **Données** puis sur **Journaux personnalisés**.</span><span class="sxs-lookup"><span data-stu-id="f4977-197">Click on **Data** and then **Custom logs**.</span></span>
3. <span data-ttu-id="f4977-198">Cliquez sur **détails** toodisable de définition de journal personnalisé toohello suivant.</span><span class="sxs-lookup"><span data-stu-id="f4977-198">Click **Details** next toohello custom log definition toodisable.</span></span>
4. <span data-ttu-id="f4977-199">Supprimez chacun des chemins d’accès de la collection hello pour la définition de journal personnalisées hello.</span><span class="sxs-lookup"><span data-stu-id="f4977-199">Remove each of hello collection paths for hello custom log definition.</span></span>

## <a name="data-collection"></a><span data-ttu-id="f4977-200">Collecte des données</span><span class="sxs-lookup"><span data-stu-id="f4977-200">Data collection</span></span>
<span data-ttu-id="f4977-201">Log Analytics collecte les nouvelles entrées de chaque journal personnalisé toutes les 5 minutes environ.</span><span class="sxs-lookup"><span data-stu-id="f4977-201">Log Analytics will collect new entries from each custom log approximately every 5 minutes.</span></span>  <span data-ttu-id="f4977-202">l’agent de Hello enregistre sa place dans chaque fichier journal qu’il collecte à partir de.</span><span class="sxs-lookup"><span data-stu-id="f4977-202">hello agent will record its place in each log file that it collects from.</span></span>  <span data-ttu-id="f4977-203">Si l’agent de hello est mis hors connexion pendant une période de temps, puis Analytique de journal collectent des entrées d’où il s’était arrêté, même si ces entrées ont été créées lors de l’agent de hello est hors connexion.</span><span class="sxs-lookup"><span data-stu-id="f4977-203">If hello agent goes offline for a period of time, then Log Analytics will collect entries from where it last left off, even if those entries were created while hello agent was offline.</span></span>

<span data-ttu-id="f4977-204">contenu entier de Hello hello d’entrée de journal est écrites tooa de propriété unique appelée **RawData**.</span><span class="sxs-lookup"><span data-stu-id="f4977-204">hello entire contents of hello log entry are written tooa single property called **RawData**.</span></span>  <span data-ttu-id="f4977-205">Vous pouvez l’analyser dans plusieurs propriétés qui peuvent être analysées et traitées séparément en définissant [des champs personnalisés](log-analytics-custom-fields.md) après avoir créé les journal personnalisé hello.</span><span class="sxs-lookup"><span data-stu-id="f4977-205">You can parse this into multiple properties that can be analyzed and searched separately by defining [Custom Fields](log-analytics-custom-fields.md) after you have created hello custom log.</span></span>

## <a name="custom-log-record-properties"></a><span data-ttu-id="f4977-206">Propriétés d’enregistrement de journal personnalisé</span><span class="sxs-lookup"><span data-stu-id="f4977-206">Custom log record properties</span></span>
<span data-ttu-id="f4977-207">Les enregistrements de journal personnalisées ont un type avec le nom du journal hello que vous fournissez et hello propriétés Bonjour tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="f4977-207">Custom log records have a type with hello log name that you provide and hello properties in hello following table.</span></span>

| <span data-ttu-id="f4977-208">Propriété</span><span class="sxs-lookup"><span data-stu-id="f4977-208">Property</span></span> | <span data-ttu-id="f4977-209">Description</span><span class="sxs-lookup"><span data-stu-id="f4977-209">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="f4977-210">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="f4977-210">TimeGenerated</span></span> |<span data-ttu-id="f4977-211">Date et heure auxquelles l’enregistrement de hello ont été collectées par Analytique de journal.</span><span class="sxs-lookup"><span data-stu-id="f4977-211">Date and time that hello record was collected by Log Analytics.</span></span>  <span data-ttu-id="f4977-212">Si le journal de hello utilise un délimiteur de temps il s’agit de heure hello collecté à partir de l’entrée de hello.</span><span class="sxs-lookup"><span data-stu-id="f4977-212">If hello log uses a time-based delimiter then this is hello time collected from hello entry.</span></span> |
| <span data-ttu-id="f4977-213">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="f4977-213">SourceSystem</span></span> |<span data-ttu-id="f4977-214">Type d’enregistrement de hello de l’agent a été collecté à partir de.</span><span class="sxs-lookup"><span data-stu-id="f4977-214">Type of agent hello record was collected from.</span></span> <br> <span data-ttu-id="f4977-215">Ops Manager : Agent Windows. Connexion directe ou System Center Operations Manager</span><span class="sxs-lookup"><span data-stu-id="f4977-215">OpsManager – Windows agent, either direct connect or System Center Operations Manager</span></span> <br> <span data-ttu-id="f4977-216">Linux – Tous les agents Linux</span><span class="sxs-lookup"><span data-stu-id="f4977-216">Linux – All Linux agents</span></span> |
| <span data-ttu-id="f4977-217">RawData</span><span class="sxs-lookup"><span data-stu-id="f4977-217">RawData</span></span> |<span data-ttu-id="f4977-218">Recherche en texte intégral de hello collectées entrée.</span><span class="sxs-lookup"><span data-stu-id="f4977-218">Full text of hello collected entry.</span></span> |
| <span data-ttu-id="f4977-219">ManagementGroupName</span><span class="sxs-lookup"><span data-stu-id="f4977-219">ManagementGroupName</span></span> |<span data-ttu-id="f4977-220">Nom du groupe d’administration hello pour les agents de gestion de System Center Operations.</span><span class="sxs-lookup"><span data-stu-id="f4977-220">Name of hello management group for System Center Operations Manage agents.</span></span>  <span data-ttu-id="f4977-221">Pour les autres agents, il s’agit d’AOI-\<workspace ID\></span><span class="sxs-lookup"><span data-stu-id="f4977-221">For other agents, this is AOI-\<workspace ID\></span></span> |

## <a name="log-searches-with-custom-log-records"></a><span data-ttu-id="f4977-222">Recherches de journal avec des enregistrements de journal personnalisé</span><span class="sxs-lookup"><span data-stu-id="f4977-222">Log searches with custom log records</span></span>
<span data-ttu-id="f4977-223">Les enregistrements de journaux personnalisés sont stockés dans le référentiel d’OMS hello comme enregistrements à partir de toute autre source de données.</span><span class="sxs-lookup"><span data-stu-id="f4977-223">Records from custom logs are stored in hello OMS repository just like records from any other data source.</span></span>  <span data-ttu-id="f4977-224">Ils ont un type correspondant au nom hello que vous fournissez lorsque vous définissez le journal de hello, vous pouvez utiliser la propriété de Type hello dans vos enregistrements de tooretrieve recherche collectés à partir d’un journal spécifique.</span><span class="sxs-lookup"><span data-stu-id="f4977-224">They will have a type matching hello name that you provide when you define hello log, so you can use hello Type property in your search tooretrieve records collected from a specific log.</span></span>

<span data-ttu-id="f4977-225">Hello tableau suivant fournit des exemples de recherches de journal qui extrait des enregistrements de journaux personnalisés.</span><span class="sxs-lookup"><span data-stu-id="f4977-225">hello following table provides different examples of log searches that retrieve records from custom logs.</span></span>

| <span data-ttu-id="f4977-226">Interroger</span><span class="sxs-lookup"><span data-stu-id="f4977-226">Query</span></span> | <span data-ttu-id="f4977-227">Description</span><span class="sxs-lookup"><span data-stu-id="f4977-227">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="f4977-228">Type=MyApp_CL</span><span class="sxs-lookup"><span data-stu-id="f4977-228">Type=MyApp_CL</span></span> |<span data-ttu-id="f4977-229">Tous les événements du fichier journal nommé MyApp_CL.</span><span class="sxs-lookup"><span data-stu-id="f4977-229">All events from a custom log named MyApp_CL.</span></span> |
| <span data-ttu-id="f4977-230">Type=MyApp_CL Severity_CF=error</span><span class="sxs-lookup"><span data-stu-id="f4977-230">Type=MyApp_CL Severity_CF=error</span></span> |<span data-ttu-id="f4977-231">Tous les événements d’un journal personnalisé nommé MyApp_CL avec la valeur *error* dans le champ personnalisé nommé *Severity_CF*.</span><span class="sxs-lookup"><span data-stu-id="f4977-231">All events from a custom log named MyApp_CL with a value of *error* in a custom field named *Severity_CF*.</span></span> |

>[!NOTE]
> <span data-ttu-id="f4977-232">Si votre espace de travail a été mis à niveau toohello [Analytique de journal nouveau langage de requête](log-analytics-log-search-upgrade.md), puis hello ci-dessus requêtes modifierait toohello suivant.</span><span class="sxs-lookup"><span data-stu-id="f4977-232">If your workspace has been upgraded toohello [new Log Analytics query language](log-analytics-log-search-upgrade.md), then hello above queries would change toohello following.</span></span>

> | <span data-ttu-id="f4977-233">Interroger</span><span class="sxs-lookup"><span data-stu-id="f4977-233">Query</span></span> | <span data-ttu-id="f4977-234">Description</span><span class="sxs-lookup"><span data-stu-id="f4977-234">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="f4977-235">MyApp_CL</span><span class="sxs-lookup"><span data-stu-id="f4977-235">MyApp_CL</span></span> |<span data-ttu-id="f4977-236">Tous les événements du fichier journal nommé MyApp_CL.</span><span class="sxs-lookup"><span data-stu-id="f4977-236">All events from a custom log named MyApp_CL.</span></span> |
| <span data-ttu-id="f4977-237">MyApp_CL &#124; where Severity_CF=="error"</span><span class="sxs-lookup"><span data-stu-id="f4977-237">MyApp_CL &#124; where Severity_CF=="error"</span></span> |<span data-ttu-id="f4977-238">Tous les événements d’un journal personnalisé nommé MyApp_CL avec la valeur *error* dans le champ personnalisé nommé *Severity_CF*.</span><span class="sxs-lookup"><span data-stu-id="f4977-238">All events from a custom log named MyApp_CL with a value of *error* in a custom field named *Severity_CF*.</span></span> |


## <a name="sample-walkthrough-of-adding-a-custom-log"></a><span data-ttu-id="f4977-239">Exemple de procédure d’ajout d’un journal personnalisé</span><span class="sxs-lookup"><span data-stu-id="f4977-239">Sample walkthrough of adding a custom log</span></span>
<span data-ttu-id="f4977-240">Hello suivante section décrit un exemple de création d’un journal personnalisé.</span><span class="sxs-lookup"><span data-stu-id="f4977-240">hello following section walks through an example of creating a custom log.</span></span>  <span data-ttu-id="f4977-241">exemple de journal Hello collecté a une seule entrée sur chaque ligne commençant par une date et heure et puis délimitée par des virgules pour le message, l’état et code.</span><span class="sxs-lookup"><span data-stu-id="f4977-241">hello sample log being collected has a single entry on each line starting with a date and time and then comma-delimited fields for code, status, and message.</span></span>  <span data-ttu-id="f4977-242">Plusieurs exemples d’entrée sont présentés ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="f4977-242">Several sample entries are shown below.</span></span>

    2016-03-10 01:34:36 207,Success,Client 05a26a97-272a-4bc9-8f64-269d154b0e39 connected
    2016-03-10 01:33:33 208,Warning,Client ec53d95c-1c88-41ae-8174-92104212de5d disconnected
    2016-03-10 01:35:44 209,Success,Transaction 10d65890-b003-48f8-9cfc-9c74b51189c8 succeeded
    2016-03-10 01:38:22 302,Error,Application could not connect toodatabase
    2016-03-10 01:31:34 303,Error,Application lost connection toodatabase

### <a name="upload-and-parse-a-sample-log"></a><span data-ttu-id="f4977-243">Télécharger et analyser un exemple de journal</span><span class="sxs-lookup"><span data-stu-id="f4977-243">Upload and parse a sample log</span></span>
<span data-ttu-id="f4977-244">Nous fournir un des fichiers de journaux hello et que vous pouvez voir les événements hello qui sera être en cours.</span><span class="sxs-lookup"><span data-stu-id="f4977-244">We provide one of hello log files and can see hello events that it will be collecting.</span></span>  <span data-ttu-id="f4977-245">Dans ce cas, le délimiteur Nouvelle ligne suffit.</span><span class="sxs-lookup"><span data-stu-id="f4977-245">In this case New Line is a sufficient delimiter.</span></span>  <span data-ttu-id="f4977-246">Si une seule entrée dans le journal de hello peut couvrir plusieurs lignes Cependant, un séparateur d’horodatage doit toobe utilisé.</span><span class="sxs-lookup"><span data-stu-id="f4977-246">If a single entry in hello log could span multiple lines though, then a timestamp delimiter would need toobe used.</span></span>

![Télécharger et analyser un exemple de journal](media/log-analytics-data-sources-custom-logs/delimiter.png)

### <a name="add-log-collection-paths"></a><span data-ttu-id="f4977-248">Ajouter des chemins de collecte de journaux</span><span class="sxs-lookup"><span data-stu-id="f4977-248">Add log collection paths</span></span>
<span data-ttu-id="f4977-249">les fichiers journaux Hello se situeront dans *C:\MyApp\Logs*.</span><span class="sxs-lookup"><span data-stu-id="f4977-249">hello log files will be located in *C:\MyApp\Logs*.</span></span>  <span data-ttu-id="f4977-250">Un nouveau fichier sera créé chaque jour avec un nom qui inclut la date de hello dans le modèle de hello *appYYYYMMDD.log*.</span><span class="sxs-lookup"><span data-stu-id="f4977-250">A new file will be created each day with a name that includes hello date in hello pattern *appYYYYMMDD.log*.</span></span>  <span data-ttu-id="f4977-251">Le format adapté à ce fichier journal est *C:\MyApp\Logs\\\\*.log*.</span><span class="sxs-lookup"><span data-stu-id="f4977-251">A sufficient pattern for this log would be *C:\MyApp\Logs\\\*.log*.</span></span>

![Chemin de collecte de journaux](media/log-analytics-data-sources-custom-logs/collection-path.png)

### <a name="provide-a-name-and-description-for-hello-log"></a><span data-ttu-id="f4977-253">Fournissez un nom et une description pour le journal de hello</span><span class="sxs-lookup"><span data-stu-id="f4977-253">Provide a name and description for hello log</span></span>
<span data-ttu-id="f4977-254">Nous utilisons le nom *MyApp_CL* et complétons le champ **Description**.</span><span class="sxs-lookup"><span data-stu-id="f4977-254">We use a name of *MyApp_CL* and type in a **Description**.</span></span>

![Nom du journal](media/log-analytics-data-sources-custom-logs/log-name.png)

### <a name="validate-that-hello-custom-logs-are-being-collected"></a><span data-ttu-id="f4977-256">Valider des journaux personnalisés hello sont collectés</span><span class="sxs-lookup"><span data-stu-id="f4977-256">Validate that hello custom logs are being collected</span></span>
<span data-ttu-id="f4977-257">Nous utilisons une requête de *Type = MyApp_CL* tooreturn tous les enregistrements de journaux seront collectés de hello.</span><span class="sxs-lookup"><span data-stu-id="f4977-257">We use a query of *Type=MyApp_CL* tooreturn all records from hello collected log.</span></span>

![Requête de journal sans aucun champ personnalisé](media/log-analytics-data-sources-custom-logs/query-01.png)

### <a name="parse-hello-custom-log-entries"></a><span data-ttu-id="f4977-259">Analyser les entrées de journal personnalisées hello</span><span class="sxs-lookup"><span data-stu-id="f4977-259">Parse hello custom log entries</span></span>
<span data-ttu-id="f4977-260">Nous utilisons hello toodefine de champs personnalisés *EventTime*, *Code*, *état*, et *Message* champs et nous pouvons voir différence hello Bonjour enregistrements qui sont retournés par la requête de hello.</span><span class="sxs-lookup"><span data-stu-id="f4977-260">We use Custom Fields toodefine hello *EventTime*, *Code*, *Status*, and *Message* fields and we can see hello difference in hello records that are returned by hello query.</span></span>

![Requête de journal avec des champs personnalisés](media/log-analytics-data-sources-custom-logs/query-02.png)

## <a name="next-steps"></a><span data-ttu-id="f4977-262">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="f4977-262">Next steps</span></span>
* <span data-ttu-id="f4977-263">Utilisez [des champs personnalisés](log-analytics-custom-fields.md) tooparse les entrées de hello de journal personnalisées de hello dans les champs tooindividual.</span><span class="sxs-lookup"><span data-stu-id="f4977-263">Use [Custom Fields](log-analytics-custom-fields.md) tooparse hello entries in hello custom log in tooindividual fields.</span></span>
* <span data-ttu-id="f4977-264">En savoir plus sur [recherche de journal](log-analytics-log-searches.md) tooanalyze les données de salutation collectées à partir de sources de données et les solutions possibles.</span><span class="sxs-lookup"><span data-stu-id="f4977-264">Learn about [log searches](log-analytics-log-searches.md) tooanalyze hello data collected from data sources and solutions.</span></span>
