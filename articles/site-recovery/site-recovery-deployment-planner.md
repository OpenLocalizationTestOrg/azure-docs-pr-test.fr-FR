---
title: "Azure Site Recovery deployment planner pour le déploiement de VMware vers Azure| Microsoft Docs"
description: "Il s’agit du guide de l’utilisateur d’Azure Site Recovery deployment planner."
services: site-recovery
documentationcenter: 
author: nsoneji
manager: garavd
editor: 
ms.assetid: 
ms.service: site-recovery
ms.workload: storage-backup-recovery
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: hero-article
ms.date: 08/28/2017
ms.author: nisoneji
ms.openlocfilehash: 60b0641076c2fa8ed2feb5c64e7b119519f46cf4
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/29/2017
---
# <a name="azure-site-recovery-deployment-planner"></a><span data-ttu-id="4714e-103">Azure Site Recovery deployment planner</span><span class="sxs-lookup"><span data-stu-id="4714e-103">Azure Site Recovery deployment planner</span></span>
<span data-ttu-id="4714e-104">Cet article est le guide de l’utilisateur d’Azure Site Recovery Deployment Planner portant sur les déploiements de production de VMware vers Azure.</span><span class="sxs-lookup"><span data-stu-id="4714e-104">This article is the Azure Site Recovery Deployment Planner user guide for VMware-to-Azure production deployments.</span></span>

## <a name="overview"></a><span data-ttu-id="4714e-105">Vue d'ensemble</span><span class="sxs-lookup"><span data-stu-id="4714e-105">Overview</span></span>

<span data-ttu-id="4714e-106">Avant de commencer à protéger les machines virtuelles VMware à l’aide de Site Recovery, allouez suffisamment de bande passante en fonction de votre taux de modifications des données par jour pour atteindre votre objectif de point de récupération (RPO) souhaité.</span><span class="sxs-lookup"><span data-stu-id="4714e-106">Before you begin protecting any VMware virtual machines (VMs) by using Site Recovery, allocate sufficient bandwidth, based on your daily data-change rate, to meet your desired recovery point objective (RPO).</span></span> <span data-ttu-id="4714e-107">Assurez-vous de déployer le nombre approprié de serveurs de configuration et de serveurs de processus en local.</span><span class="sxs-lookup"><span data-stu-id="4714e-107">Be sure to deploy the right number of configuration servers and process servers on-premises.</span></span>

<span data-ttu-id="4714e-108">Vous devez également créer le type approprié et le nombre de comptes de stockage Azure cibles.</span><span class="sxs-lookup"><span data-stu-id="4714e-108">You also need to create the right type and number of target Azure storage accounts.</span></span> <span data-ttu-id="4714e-109">Vous créez des comptes de stockage standard ou premium, en tenant compte de la croissance de vos serveurs de production sources en raison d’une utilisation accrue au fil du temps.</span><span class="sxs-lookup"><span data-stu-id="4714e-109">You create either standard or premium storage accounts, factoring in growth on your source production servers because of increased usage over time.</span></span> <span data-ttu-id="4714e-110">Vous choisissez le type de stockage par machine virtuelle, en fonction des caractéristiques de charge de travail (par exemple, les opérations de lecture/écriture d’E/S par seconde, ou l’activité des données) et des limites Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="4714e-110">You choose the storage type per VM, based on workload characteristics (for example, read/write I/O operations per second [IOPS], or data churn) and Site Recovery limits.</span></span>

<span data-ttu-id="4714e-111">La préversion publique d’Azure Site Recovery deployment planner est un outil de ligne de commande qui est actuellement disponible uniquement pour le scénario de déploiement VMware vers Azure.</span><span class="sxs-lookup"><span data-stu-id="4714e-111">The Site Recovery deployment planner public preview is a command-line tool that's currently available only for the VMware-to-Azure scenario.</span></span> <span data-ttu-id="4714e-112">Vous pouvez profiler à distance vos machines virtuelles VMware à l’aide de cet outil (sans conséquences sur la production) pour comprendre les besoins de stockage Azure et de bande passante afin d’assurer la réussite de la réplication et du test de basculement.</span><span class="sxs-lookup"><span data-stu-id="4714e-112">You can remotely profile your VMware VMs by using this tool (with no production impact whatsoever) to understand the bandwidth and Azure Storage requirements for successful replication and test failover.</span></span> <span data-ttu-id="4714e-113">Vous pouvez exécuter l’outil sans installer les composants Site Recovery locaux.</span><span class="sxs-lookup"><span data-stu-id="4714e-113">You can run the tool without installing any Site Recovery components on-premises.</span></span> <span data-ttu-id="4714e-114">Cependant, pour obtenir des résultats de débit précis, nous vous recommandons d’exécuter l’outil sur un serveur Windows Server répondant à la configuration requise minimale du serveur de configuration Site Recovery que vous devrez finalement déployer dans les premières étapes du déploiement de production.</span><span class="sxs-lookup"><span data-stu-id="4714e-114">However, to get accurate achieved throughput results, we recommend that you run the planner on a Windows Server that meets the minimum requirements of the Site Recovery configuration server that you would eventually need to deploy as one of the first steps in production deployment.</span></span>

<span data-ttu-id="4714e-115">L’outil fournit les informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="4714e-115">The tool provides the following details:</span></span>

<span data-ttu-id="4714e-116">**Évaluation de la compatibilité**</span><span class="sxs-lookup"><span data-stu-id="4714e-116">**Compatibility assessment**</span></span>

* <span data-ttu-id="4714e-117">Une évaluation de l’éligibilité de la machine virtuelle en fonction du nombre de disques, de la taille du disque, des E/S par seconde, de l’activité et du type de démarrage (EFI/BIOS)</span><span class="sxs-lookup"><span data-stu-id="4714e-117">A VM eligibility assessment, based on number of disks, disk size, IOPS, churn and boot type(EFI/BIOS)</span></span>
* <span data-ttu-id="4714e-118">La bande passante réseau estimée requise pour la réplication différentielle</span><span class="sxs-lookup"><span data-stu-id="4714e-118">The estimated network bandwidth that's required for delta replication</span></span>

<span data-ttu-id="4714e-119">**Besoin de bande passante réseau et évaluation de RPO**</span><span class="sxs-lookup"><span data-stu-id="4714e-119">**Network bandwidth need versus RPO assessment**</span></span>

* <span data-ttu-id="4714e-120">La bande passante réseau estimée requise pour la réplication différentielle</span><span class="sxs-lookup"><span data-stu-id="4714e-120">The estimated network bandwidth that's required for delta replication</span></span>
* <span data-ttu-id="4714e-121">Le débit pouvant être obtenu par Site Recovery dans le scénario « local vers Azure »</span><span class="sxs-lookup"><span data-stu-id="4714e-121">The throughput that Site Recovery can get from on-premises to Azure</span></span>
* <span data-ttu-id="4714e-122">Le nombre de machines virtuelles à traiter par lot en fonction de la bande passante estimée pour effectuer une réplication initiale pendant une durée donnée</span><span class="sxs-lookup"><span data-stu-id="4714e-122">The number of VMs to batch, based on the estimated bandwidth to complete initial replication in a given amount of time</span></span>

<span data-ttu-id="4714e-123">**Exigences de l’infrastructure Azure**</span><span class="sxs-lookup"><span data-stu-id="4714e-123">**Azure infrastructure requirements**</span></span>

* <span data-ttu-id="4714e-124">Le type de stockage (compte de stockage standard ou premium) pour chaque machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="4714e-124">The storage type (standard or premium storage account) requirement for each VM</span></span>
* <span data-ttu-id="4714e-125">Le nombre total de comptes de stockage standard et premium à configurer pour la réplication</span><span class="sxs-lookup"><span data-stu-id="4714e-125">The total number of standard and premium storage accounts to be set up for replication</span></span>
* <span data-ttu-id="4714e-126">Suggestions d’affectation de noms pour les comptes de stockage en fonction des conseils liés au Stockage Azure</span><span class="sxs-lookup"><span data-stu-id="4714e-126">Storage-account naming suggestions, based on Azure Storage guidance</span></span>
* <span data-ttu-id="4714e-127">L’emplacement du compte de stockage pour toutes les machines virtuelles</span><span class="sxs-lookup"><span data-stu-id="4714e-127">The storage-account placement for all VMs</span></span>
* <span data-ttu-id="4714e-128">Le nombre de cœurs Azure à configurer avant le test de basculement ou le basculement sur l’abonnement</span><span class="sxs-lookup"><span data-stu-id="4714e-128">The number of Azure cores to be set up before test failover or failover on the subscription</span></span>
* <span data-ttu-id="4714e-129">La taille recommandée de machine virtuelle Azure pour chaque machine virtuelle sur site</span><span class="sxs-lookup"><span data-stu-id="4714e-129">The Azure VM-recommended size for each on-premises VM</span></span>

<span data-ttu-id="4714e-130">**Exigences de l’infrastructure locale**</span><span class="sxs-lookup"><span data-stu-id="4714e-130">**On-premises infrastructure requirements**</span></span>
* <span data-ttu-id="4714e-131">Le nombre requis de serveurs de configuration et de serveurs de processus à déployer en local</span><span class="sxs-lookup"><span data-stu-id="4714e-131">The required number of configuration servers and process servers to be deployed on-premises</span></span>

>[!IMPORTANT]
>
><span data-ttu-id="4714e-132">Étant donné que l’utilisation est susceptible d’augmenter au fil du temps, tous les calculs de l’outil précédent sont effectués en supposant un facteur de croissance de 30 pour cent de caractéristiques de charge de travail et à l’aide d’une valeur de 95e centile de toutes les mesures profilage (E/S par seconde en lecture/écriture, activité, etc.).</span><span class="sxs-lookup"><span data-stu-id="4714e-132">Because usage is likely to increase over time, all the preceding tool calculations are performed assuming a 30 percent growth factor in  workload characteristics, and using a 95th percentile value of all the profiling metrics (read/write IOPS, churn, and so forth).</span></span> <span data-ttu-id="4714e-133">Ces deux éléments (facteur de croissance et calcul de centile), sont configurables.</span><span class="sxs-lookup"><span data-stu-id="4714e-133">Both of these elements (growth factor and percentile calculation) are configurable.</span></span> <span data-ttu-id="4714e-134">Pour en savoir plus sur le facteur de croissance, consultez la section « Considérations relatives au facteur de croissance ».</span><span class="sxs-lookup"><span data-stu-id="4714e-134">To learn more about growth factor, see the "Growth-factor considerations" section.</span></span> <span data-ttu-id="4714e-135">Pour en savoir plus sur la valeur de centile, consultez la section « Valeur de centile utilisée pour le calcul ».</span><span class="sxs-lookup"><span data-stu-id="4714e-135">To learn more about  percentile value, see the "Percentile value used for the calculation" section.</span></span>
>

## <a name="requirements"></a><span data-ttu-id="4714e-136">Configuration requise</span><span class="sxs-lookup"><span data-stu-id="4714e-136">Requirements</span></span>
<span data-ttu-id="4714e-137">L’outil comporte deux phases principales : le profilage et la génération de rapport.</span><span class="sxs-lookup"><span data-stu-id="4714e-137">The tool has two main phases: profiling and report generation.</span></span> <span data-ttu-id="4714e-138">En outre, une troisième option permet de calculer le débit uniquement.</span><span class="sxs-lookup"><span data-stu-id="4714e-138">There is also a third option to calculate throughput only.</span></span> <span data-ttu-id="4714e-139">La configuration requise pour le serveur à partir de laquelle le profilage et la mesure du débit sont initiés est présentée dans le tableau suivant :</span><span class="sxs-lookup"><span data-stu-id="4714e-139">The requirements for the server from which the profiling and throughput measurement is initiated are presented in the following table:</span></span>

| <span data-ttu-id="4714e-140">Configuration requise du serveur</span><span class="sxs-lookup"><span data-stu-id="4714e-140">Server requirement</span></span> | <span data-ttu-id="4714e-141">Description</span><span class="sxs-lookup"><span data-stu-id="4714e-141">Description</span></span>|
|---|---|
|<span data-ttu-id="4714e-142">Profilage et mesure du débit</span><span class="sxs-lookup"><span data-stu-id="4714e-142">Profiling and throughput measurement</span></span>| <ul><li><span data-ttu-id="4714e-143">Système d’exploitation : Microsoft Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="4714e-143">Operating system: Microsoft Windows Server 2012 R2</span></span><br><span data-ttu-id="4714e-144">(dans l’idéal, correspondant au moins aux [recommandations de taille pour le serveur de configuration](https://aka.ms/asr-v2a-on-prem-components))</span><span class="sxs-lookup"><span data-stu-id="4714e-144">(ideally matching at least the [size recommendations for the configuration server](https://aka.ms/asr-v2a-on-prem-components))</span></span></li><li><span data-ttu-id="4714e-145">Configuration de la machine : 8 processeurs virtuels, 16 Go de RAM, disque dur de 300 Go</span><span class="sxs-lookup"><span data-stu-id="4714e-145">Machine configuration: 8 vCPUs, 16 GB RAM, 300 GB HDD</span></span></li><li>[<span data-ttu-id="4714e-146">Microsoft .NET Framework 4.5</span><span class="sxs-lookup"><span data-stu-id="4714e-146">Microsoft .NET Framework 4.5</span></span>](https://aka.ms/dotnet-framework-45)</li><li>[<span data-ttu-id="4714e-147">VMware vSphere PowerCLI 6.0 R3</span><span class="sxs-lookup"><span data-stu-id="4714e-147">VMware vSphere PowerCLI 6.0 R3</span></span>](https://aka.ms/download_powercli)</li><li>[<span data-ttu-id="4714e-148">Microsoft Visual C++ Redistributable pour Visual Studio 2012</span><span class="sxs-lookup"><span data-stu-id="4714e-148">Microsoft Visual C++ Redistributable for Visual Studio 2012</span></span>](https://aka.ms/vcplusplus-redistributable)</li><li><span data-ttu-id="4714e-149">Accès Internet à Azure à partir de ce serveur</span><span class="sxs-lookup"><span data-stu-id="4714e-149">Internet access to Azure from this server</span></span></li><li><span data-ttu-id="4714e-150">Compte Azure Storage</span><span class="sxs-lookup"><span data-stu-id="4714e-150">Azure storage account</span></span></li><li><span data-ttu-id="4714e-151">Accès administrateur sur le serveur</span><span class="sxs-lookup"><span data-stu-id="4714e-151">Administrator access on the server</span></span></li><li><span data-ttu-id="4714e-152">Au minimum 100 Go d’espace disque disponible (en supposant que 1 000 machines virtuelles avec une moyenne de trois disques chacune, profilage pour 30 jours)</span><span class="sxs-lookup"><span data-stu-id="4714e-152">Minimum 100 GB of free disk space (assuming 1000 VMs with an average of three disks each, profiled for 30 days)</span></span></li><li><span data-ttu-id="4714e-153">Les paramètres de niveau de statistiques de VMware vCenter doivent être définis sur le niveau 2 ou un niveau supérieur</span><span class="sxs-lookup"><span data-stu-id="4714e-153">VMware vCenter statistics level settings should be set to 2 or high level</span></span></li><li><span data-ttu-id="4714e-154">Autoriser le port 443 : le planificateur de déploiement ASR se sert de ce port pour se connecter au serveur vCenter/à l’hôte ESXi</span><span class="sxs-lookup"><span data-stu-id="4714e-154">Allow 443 port: ASR Deployment Planner uses this port to connect to vCenter server/ESXi host</span></span></ul></ul>|
| <span data-ttu-id="4714e-155">Génération de rapport</span><span class="sxs-lookup"><span data-stu-id="4714e-155">Report generation</span></span> | <span data-ttu-id="4714e-156">Un PC Windows ou serveur Windows Server doté de Microsoft Excel 2013 ou version ultérieure</span><span class="sxs-lookup"><span data-stu-id="4714e-156">A Windows PC or Windows Server with Microsoft Excel 2013 or later</span></span> |
| <span data-ttu-id="4714e-157">Autorisations utilisateur</span><span class="sxs-lookup"><span data-stu-id="4714e-157">User permissions</span></span> | <span data-ttu-id="4714e-158">Autorisation de lecture seule pour le compte d’utilisateur utilisé pour accéder au serveur VMware vCenter/à l’hôte VMware vSphere ESXi lors du profilage</span><span class="sxs-lookup"><span data-stu-id="4714e-158">Read-only permission for the user account that's used to access the VMware vCenter server/VMware vSphere ESXi host during profiling</span></span> |

> [!NOTE]
>
><span data-ttu-id="4714e-159">L’outil peut profiler uniquement des machines virtuelles avec des disques de machines virtuelles et des disques RDM.</span><span class="sxs-lookup"><span data-stu-id="4714e-159">The tool can profile only VMs with VMDK and RDM disks.</span></span> <span data-ttu-id="4714e-160">Il ne peut pas profiler les machines virtuelles équipées de disques iSCSI ou NFS.</span><span class="sxs-lookup"><span data-stu-id="4714e-160">It cannot profile VMs with iSCSI or NFS disks.</span></span> <span data-ttu-id="4714e-161">Site Recovery prend en charge les disques iSCSI et NFS pour les serveurs VMware, mais comme l’outil Deployment Planner ne se trouve pas dans l’invité et n’effectue le profilage qu’à l’aide des compteurs de performance vCenter, il n’a pas de visibilité sur ces types de disque.</span><span class="sxs-lookup"><span data-stu-id="4714e-161">Site Recovery does support iSCSI and NFS disks for VMware servers but, because the deployment planner is not inside the guest and it profiles only by using vCenter performance counters, the tool does not have visibility into these disk types.</span></span>
>

## <a name="download-and-extract-the-public-preview"></a><span data-ttu-id="4714e-162">Télécharger et extraire la préversion publique</span><span class="sxs-lookup"><span data-stu-id="4714e-162">Download and extract the public preview</span></span>
1. <span data-ttu-id="4714e-163">Téléchargez la dernière version de la [préversion publique de Site Recovery deployment planner](https://aka.ms/asr-deployment-planner).</span><span class="sxs-lookup"><span data-stu-id="4714e-163">Download the latest version of the [Site Recovery deployment planner public preview](https://aka.ms/asr-deployment-planner).</span></span>  
<span data-ttu-id="4714e-164">L’outil se présente dans un dossier .zip.</span><span class="sxs-lookup"><span data-stu-id="4714e-164">The tool is packaged in a .zip folder.</span></span> <span data-ttu-id="4714e-165">Sa version actuelle ne prend en charge que le scénario VMware vers Azure.</span><span class="sxs-lookup"><span data-stu-id="4714e-165">The current version of the tool supports only the VMware-to-Azure scenario.</span></span>

2. <span data-ttu-id="4714e-166">Copiez le dossier .zip sur le serveur Windows à partir duquel vous voulez exécuter l’outil.</span><span class="sxs-lookup"><span data-stu-id="4714e-166">Copy the .zip folder to the Windows server from which you want to run the tool.</span></span>  
<span data-ttu-id="4714e-167">Vous pouvez exécuter l’outil à partir de Windows Server 2012 R2 si le serveur a accès au réseau pour se connecter au serveur vCenter/à l’hôte vSphere ESXi qui contient les machines virtuelles à profiler.</span><span class="sxs-lookup"><span data-stu-id="4714e-167">You can run the tool from Windows Server 2012 R2 if the server has network access to connect to the vCenter server/vSphere ESXi host that holds the VMs to be profiled.</span></span> <span data-ttu-id="4714e-168">Toutefois, nous vous recommandons d’exécuter l’outil sur un serveur dont la configuration matérielle répond aux [indications de dimensionnement pour les serveurs de configuration](https://aka.ms/asr-v2a-on-prem-components).</span><span class="sxs-lookup"><span data-stu-id="4714e-168">However, we recommend that you run the tool on a server whose hardware configuration meets the [configuration server sizing guideline](https://aka.ms/asr-v2a-on-prem-components).</span></span> <span data-ttu-id="4714e-169">Si vous avez déjà déployé les composants Site Recovery en local, exécutez l’outil à partir du serveur de configuration.</span><span class="sxs-lookup"><span data-stu-id="4714e-169">If you have already deployed Site Recovery components on-premises, run the tool from the configuration server.</span></span>

 <span data-ttu-id="4714e-170">Nous vous recommandons d’adopter la même configuration matérielle que le serveur de configuration (qui dispose d’un serveur de processus intégré) sur le serveur sur lequel vous exécutez l’outil.</span><span class="sxs-lookup"><span data-stu-id="4714e-170">We recommend that you have the same hardware configuration as the configuration server (which has an in-built process server) on the server where you run the tool.</span></span> <span data-ttu-id="4714e-171">Cette configuration garantit que le débit atteint rapporté par l’outil corresponde au débit que Site Recovery peut atteindre lors de la réplication.</span><span class="sxs-lookup"><span data-stu-id="4714e-171">Such a configuration ensures that the achieved throughput that the tool reports matches the actual throughput that Site Recovery can achieve during replication.</span></span> <span data-ttu-id="4714e-172">Le calcul du débit dépend de la bande passante réseau disponible sur le serveur et de la configuration matérielle (processeur, stockage, etc.) du serveur.</span><span class="sxs-lookup"><span data-stu-id="4714e-172">The throughput calculation depends on available network bandwidth on the server and hardware configuration (CPU, storage, and so forth) of the server.</span></span> <span data-ttu-id="4714e-173">Si vous exécutez l’outil à partir de n’importe quel autre serveur, le débit est calculé à partir de ce serveur vers Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="4714e-173">If you run the tool from any other server, the throughput is calculated from that server to Microsoft Azure.</span></span> <span data-ttu-id="4714e-174">En outre, étant donné que la configuration matérielle du serveur peut différer de celle du serveur de configuration, le débit atteint rapporté par l’outil peut être inexact.</span><span class="sxs-lookup"><span data-stu-id="4714e-174">Also, because the hardware configuration of the server might differ from that of the configuration server, the achieved throughput that the tool reports might be inaccurate.</span></span>

3. <span data-ttu-id="4714e-175">Extrayez le dossier .zip.</span><span class="sxs-lookup"><span data-stu-id="4714e-175">Extract the .zip folder.</span></span>  
<span data-ttu-id="4714e-176">Le dossier contient plusieurs fichiers et sous-dossiers.</span><span class="sxs-lookup"><span data-stu-id="4714e-176">The folder contains multiple files and subfolders.</span></span> <span data-ttu-id="4714e-177">Le fichier exécutable s’appelle ASRDeploymentPlanner.exe dans le dossier parent.</span><span class="sxs-lookup"><span data-stu-id="4714e-177">The executable file is ASRDeploymentPlanner.exe in the parent folder.</span></span>

    <span data-ttu-id="4714e-178">Exemple :</span><span class="sxs-lookup"><span data-stu-id="4714e-178">Example:</span></span>  
    <span data-ttu-id="4714e-179">Copiez le fichier .zip sur le lecteur E:\ et extrayez-le.</span><span class="sxs-lookup"><span data-stu-id="4714e-179">Copy the .zip file to E:\ drive and extract it.</span></span>
   <span data-ttu-id="4714e-180">E:\ASR Deployment Planner-Preview_v1.2.zip</span><span class="sxs-lookup"><span data-stu-id="4714e-180">E:\ASR Deployment Planner-Preview_v1.2.zip</span></span>

    <span data-ttu-id="4714e-181">E:\ASR Deployment Planner-Preview_v1.2\ ASR Deployment Planner-Preview_v1.2\ ASRDeploymentPlanner.exe</span><span class="sxs-lookup"><span data-stu-id="4714e-181">E:\ASR Deployment Planner-Preview_v1.2\ ASR Deployment Planner-Preview_v1.2\ ASRDeploymentPlanner.exe</span></span>

## <a name="capabilities"></a><span data-ttu-id="4714e-182">Fonctionnalités</span><span class="sxs-lookup"><span data-stu-id="4714e-182">Capabilities</span></span>
<span data-ttu-id="4714e-183">Vous pouvez exécuter l’outil de ligne de commande (ASRDeploymentPlanner.exe) dans l’un des trois modes suivants :</span><span class="sxs-lookup"><span data-stu-id="4714e-183">You can run the command-line tool (ASRDeploymentPlanner.exe) in any of the following three modes:</span></span>

1. <span data-ttu-id="4714e-184">Profilage</span><span class="sxs-lookup"><span data-stu-id="4714e-184">Profiling</span></span>  
2. <span data-ttu-id="4714e-185">Génération de rapport</span><span class="sxs-lookup"><span data-stu-id="4714e-185">Report generation</span></span>
3. <span data-ttu-id="4714e-186">GetThroughput</span><span class="sxs-lookup"><span data-stu-id="4714e-186">Get throughput</span></span>

<span data-ttu-id="4714e-187">Tout d’abord, exécutez l’outil en mode profilage pour rassembler l’activité des données de machine virtuelle et les E/S par seconde.</span><span class="sxs-lookup"><span data-stu-id="4714e-187">First, run the tool in profiling mode to gather VM data churn and IOPS.</span></span> <span data-ttu-id="4714e-188">Ensuite, exécutez l’outil pour générer le rapport afin de déterminer les besoins en bande passante réseau et en stockage.</span><span class="sxs-lookup"><span data-stu-id="4714e-188">Next, run the tool to generate the report to find the network bandwidth and storage requirements.</span></span>

## <a name="profiling"></a><span data-ttu-id="4714e-189">Profilage</span><span class="sxs-lookup"><span data-stu-id="4714e-189">Profiling</span></span>
<span data-ttu-id="4714e-190">En mode profilage, l’outil Deployment Planner se connecte au serveur vCenter ou à l’hôte vSphere ESXi pour collecter les données de performance sur la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4714e-190">In profiling mode, the deployment planner tool connects to the vCenter server/vSphere ESXi host to collect performance data about the VM.</span></span>

* <span data-ttu-id="4714e-191">Le profilage n’affecte pas les performances des machines virtuelles de production, car aucune connexion directe n’est établie.</span><span class="sxs-lookup"><span data-stu-id="4714e-191">Profiling does not affect the performance of the production VMs, because no direct connection is made to them.</span></span> <span data-ttu-id="4714e-192">Toutes les données de performance sont collectées à partir du serveur vCenter/de l’hôte vSphere ESXi.</span><span class="sxs-lookup"><span data-stu-id="4714e-192">All performance data is collected from the vCenter server/vSphere ESXi host.</span></span>
* <span data-ttu-id="4714e-193">Pour s’assurer que les effets du profilage sur le serveur sont négligeables, l’outil interroge l’hôte du serveur vCenter/de l’hôte vSphere ESXi toutes les 15 minutes.</span><span class="sxs-lookup"><span data-stu-id="4714e-193">To ensure that there is a negligible impact on the server because of profiling, the tool queries the vCenter server/vSphere ESXi host once every 15 minutes.</span></span> <span data-ttu-id="4714e-194">Cet intervalle de requête ne compromet pas la précision du profilage, car l’outil stocke les données du compteur de performances toutes les minutes.</span><span class="sxs-lookup"><span data-stu-id="4714e-194">This query interval does not compromise profiling accuracy, because the tool stores every minute’s performance counter data.</span></span>

### <a name="create-a-list-of-vms-to-profile"></a><span data-ttu-id="4714e-195">Créer une liste de machines virtuelles à profiler</span><span class="sxs-lookup"><span data-stu-id="4714e-195">Create a list of VMs to profile</span></span>
<span data-ttu-id="4714e-196">Tout d’abord, vous avez besoin d’une liste des machines virtuelles à profiler.</span><span class="sxs-lookup"><span data-stu-id="4714e-196">First, you need a list of the VMs to be profiled.</span></span> <span data-ttu-id="4714e-197">Vous pouvez obtenir tous les noms des machines virtuelles sur un serveur vCenter/hôte vSphere ESXi à l’aide des commandes VMware vSphere PowerCLI indiquées dans la procédure suivante.</span><span class="sxs-lookup"><span data-stu-id="4714e-197">You can get all the names of VMs on a vCenter server/vSphere ESXi host by using the VMware vSphere PowerCLI commands in the following procedure.</span></span> <span data-ttu-id="4714e-198">Vous pouvez également répertorier dans un fichier les noms conviviaux ou adresses IP des machines virtuelles que vous souhaitez profiler manuellement.</span><span class="sxs-lookup"><span data-stu-id="4714e-198">Alternatively, you can list in a file the friendly names or IP addresses of the VMs that you want to profile manually.</span></span>

1. <span data-ttu-id="4714e-199">Connectez-vous à la machine virtuelle sur laquelle VMware vSphere PowerCLI est installé.</span><span class="sxs-lookup"><span data-stu-id="4714e-199">Sign in to the VM that VMware vSphere PowerCLI is installed in.</span></span>
2. <span data-ttu-id="4714e-200">Ouvrez la console VMware vSphere PowerCLI.</span><span class="sxs-lookup"><span data-stu-id="4714e-200">Open the VMware vSphere PowerCLI console.</span></span>
3. <span data-ttu-id="4714e-201">Assurez-vous que la stratégie d’exécution est activée pour le script.</span><span class="sxs-lookup"><span data-stu-id="4714e-201">Ensure that the execution policy is enabled for the script.</span></span> <span data-ttu-id="4714e-202">Si elle est désactivée, lancez la console VMware vSphere PowerCLI en mode administrateur, puis activez-la en exécutant la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="4714e-202">If it is disabled, launch the VMware vSphere PowerCLI console in administrator mode, and then enable it by running the following command:</span></span>

            Set-ExecutionPolicy –ExecutionPolicy AllSigned

4. <span data-ttu-id="4714e-203">Vous pourriez avoir besoin d’exécuter la commande suivante, dans le cas où Connect-VIServer ne serait pas reconnu comme nom de cmdlet.</span><span class="sxs-lookup"><span data-stu-id="4714e-203">You may optionly need to run the following command if Connect-VIServer is not recognized as the name of cmdlet.</span></span>
 
            Add-PSSnapin VMware.VimAutomation.Core 

5. <span data-ttu-id="4714e-204">Pour obtenir tous les noms des machines virtuelles sur un serveur vCenter/hôte vSphere ESXi et enregistrer la liste dans un fichier .txt, exécutez les deux commandes répertoriées ici.</span><span class="sxs-lookup"><span data-stu-id="4714e-204">To get all the names of VMs on a vCenter server/vSphere ESXi host and store the list in a .txt file, run the two commands listed here.</span></span>
<span data-ttu-id="4714e-205">Remplacez &lsaquo;server name&rsaquo;, &lsaquo;user name&rsaquo;, &lsaquo;password&rsaquo; et &lsaquo;outputfile.txt&rsaquo; par vos entrées.</span><span class="sxs-lookup"><span data-stu-id="4714e-205">Replace &lsaquo;server name&rsaquo;, &lsaquo;user name&rsaquo;, &lsaquo;password&rsaquo;, &lsaquo;outputfile.txt&rsaquo;; with your inputs.</span></span>

            Connect-VIServer -Server <server name> -User <user name> -Password <password>

            Get-VM |  Select Name | Sort-Object -Property Name >  <outputfile.txt>

6. <span data-ttu-id="4714e-206">Ouvrez le fichier de sortie dans le bloc-notes et copiez les noms de toutes les machines virtuelles que vous souhaitez profiler dans un autre fichier (par exemple, ProfileVMList.txt), en indiquant un nom de machine virtuelle par ligne.</span><span class="sxs-lookup"><span data-stu-id="4714e-206">Open the output file in Notepad, and then copy the names of all VMs that you want to profile to another file (for example, ProfileVMList.txt), one VM name per line.</span></span> <span data-ttu-id="4714e-207">Ce fichier est utilisé comme entrée pour le paramètre *-VMListFile* de l’outil de ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="4714e-207">This file is used as input to the *-VMListFile* parameter of the command-line tool.</span></span>

    ![Liste des noms de machines virtuelles dans Deployment planner](./media/site-recovery-deployment-planner/profile-vm-list.png)

### <a name="start-profiling"></a><span data-ttu-id="4714e-209">Démarrer le profilage</span><span class="sxs-lookup"><span data-stu-id="4714e-209">Start profiling</span></span>
<span data-ttu-id="4714e-210">Après avoir établi la liste des machines virtuelles à profiler, vous pouvez exécuter l’outil en mode profilage.</span><span class="sxs-lookup"><span data-stu-id="4714e-210">After you have the list of VMs to be profiled, you can run the tool in profiling mode.</span></span> <span data-ttu-id="4714e-211">Voici la liste des paramètres obligatoires et facultatifs de l’outil à exécuter en mode profilage.</span><span class="sxs-lookup"><span data-stu-id="4714e-211">Here is the list of mandatory and optional parameters of the tool to run in profiling mode.</span></span>

<span data-ttu-id="4714e-212">ASRDeploymentPlanner.exe -Operation StartProfiling /?</span><span class="sxs-lookup"><span data-stu-id="4714e-212">ASRDeploymentPlanner.exe -Operation StartProfiling /?</span></span>

| <span data-ttu-id="4714e-213">Nom du paramètre</span><span class="sxs-lookup"><span data-stu-id="4714e-213">Parameter name</span></span> | <span data-ttu-id="4714e-214">Description</span><span class="sxs-lookup"><span data-stu-id="4714e-214">Description</span></span> |
|---|---|
| <span data-ttu-id="4714e-215">-Operation</span><span class="sxs-lookup"><span data-stu-id="4714e-215">-Operation</span></span> | <span data-ttu-id="4714e-216">StartProfiling</span><span class="sxs-lookup"><span data-stu-id="4714e-216">StartProfiling</span></span> |
| <span data-ttu-id="4714e-217">-Server</span><span class="sxs-lookup"><span data-stu-id="4714e-217">-Server</span></span> | <span data-ttu-id="4714e-218">Le nom de domaine complet ou l’adresse IP du serveur vCenter/de l’hôte vSphere ESXi dont les machines virtuelles doivent être profilées.</span><span class="sxs-lookup"><span data-stu-id="4714e-218">The fully qualified domain name or IP address of the vCenter server/vSphere ESXi host whose VMs are to be profiled.</span></span>|
| <span data-ttu-id="4714e-219">-User</span><span class="sxs-lookup"><span data-stu-id="4714e-219">-User</span></span> | <span data-ttu-id="4714e-220">Le nom d’utilisateur pour se connecter au serveur vCenter/à l’hôte vSphere ESXi.</span><span class="sxs-lookup"><span data-stu-id="4714e-220">The user name to connect to the vCenter server/vSphere ESXi host.</span></span> <span data-ttu-id="4714e-221">L’utilisateur doit disposer au moins d’un accès en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="4714e-221">The user needs to have read-only access, at minimum.</span></span>|
| <span data-ttu-id="4714e-222">-VMListFile</span><span class="sxs-lookup"><span data-stu-id="4714e-222">-VMListFile</span></span> | <span data-ttu-id="4714e-223">Le fichier qui contient la liste des machines virtuelles à profiler.</span><span class="sxs-lookup"><span data-stu-id="4714e-223">The file that contains the list of VMs to be profiled.</span></span> <span data-ttu-id="4714e-224">Le chemin d’accès du fichier peut être absolu ou relatif.</span><span class="sxs-lookup"><span data-stu-id="4714e-224">The file path can be absolute or relative.</span></span> <span data-ttu-id="4714e-225">Le fichier doit contenir un nom/une adresse IP de machine virtuelle par ligne.</span><span class="sxs-lookup"><span data-stu-id="4714e-225">The file should contain one VM name/IP address per line.</span></span> <span data-ttu-id="4714e-226">Le nom de la machine virtuelle spécifié dans le fichier doit être identique au nom de la machine virtuelle sur le serveur vCenter/l’hôte vSphere ESXi.</span><span class="sxs-lookup"><span data-stu-id="4714e-226">Virtual machine name specified in the file should be the same as the VM name on the vCenter server/vSphere ESXi host.</span></span><br><span data-ttu-id="4714e-227">Par exemple, le fichier VMList.txt contient les machines virtuelles suivantes :</span><span class="sxs-lookup"><span data-stu-id="4714e-227">For example, the file VMList.txt contains the following VMs:</span></span><ul><li><span data-ttu-id="4714e-228">virtual_machine_A</span><span class="sxs-lookup"><span data-stu-id="4714e-228">virtual_machine_A</span></span></li><li><span data-ttu-id="4714e-229">10.150.29.110</span><span class="sxs-lookup"><span data-stu-id="4714e-229">10.150.29.110</span></span></li><li><span data-ttu-id="4714e-230">virtual_machine_B</span><span class="sxs-lookup"><span data-stu-id="4714e-230">virtual_machine_B</span></span></li><ul> |
| <span data-ttu-id="4714e-231">-NoOfDaysToProfile</span><span class="sxs-lookup"><span data-stu-id="4714e-231">-NoOfDaysToProfile</span></span> | <span data-ttu-id="4714e-232">Le nombre de jours pendant lesquels le profilage doit être exécuté.</span><span class="sxs-lookup"><span data-stu-id="4714e-232">The number of days for which profiling is to be run.</span></span> <span data-ttu-id="4714e-233">Nous vous recommandons d’exécuter le profilage pendant plus de 15 jours pour vous assurer que le modèle de charge de travail de votre environnement sur la période spécifiée est observé et utilisé pour fournir une recommandation précise.</span><span class="sxs-lookup"><span data-stu-id="4714e-233">We recommend that you run profiling for more than 15 days to ensure that the workload pattern in your environment over the specified period is observed and used to provide an accurate recommendation.</span></span> |
| <span data-ttu-id="4714e-234">-Répertoire</span><span class="sxs-lookup"><span data-stu-id="4714e-234">-Directory</span></span> | <span data-ttu-id="4714e-235">(Facultatif) La convention d’appellation universelle (UNC) ou le chemin d’accès du répertoire local pour stocker les données de profilage générées pendant le profilage.</span><span class="sxs-lookup"><span data-stu-id="4714e-235">(Optional) The universal naming convention (UNC) or local directory path to store profiling data generated during profiling.</span></span> <span data-ttu-id="4714e-236">Si aucun nom de répertoire n’est spécifié, le répertoire ProfiledData figurant dans le chemin d’accès actuel est utilisé comme répertoire par défaut.</span><span class="sxs-lookup"><span data-stu-id="4714e-236">If a directory name is not given, the directory named ‘ProfiledData’ under the current path will be used as the default directory.</span></span> |
| <span data-ttu-id="4714e-237">-Mot de passe</span><span class="sxs-lookup"><span data-stu-id="4714e-237">-Password</span></span> | <span data-ttu-id="4714e-238">(Facultatif) Le mot de passe utilisé pour se connecter au serveur vCenter/à l’hôte vSphere ESXi.</span><span class="sxs-lookup"><span data-stu-id="4714e-238">(Optional) The password to use to connect to the vCenter server/vSphere ESXi host.</span></span> <span data-ttu-id="4714e-239">Si vous spécifiez aucun mot de passe maintenant, vous êtes invité à l’indiquer à l’exécution de la commande.</span><span class="sxs-lookup"><span data-stu-id="4714e-239">If you do not specify one now, you will be prompted for it when the command is executed.</span></span>|
| <span data-ttu-id="4714e-240">-StorageAccountName</span><span class="sxs-lookup"><span data-stu-id="4714e-240">-StorageAccountName</span></span> | <span data-ttu-id="4714e-241">(Facultatif) Le nom du compte de stockage utilisé pour rechercher le débit réalisable pour la réplication des données locales vers Azure.</span><span class="sxs-lookup"><span data-stu-id="4714e-241">(Optional) The storage-account name that's used to find the throughput achievable for replication of data from on-premises to Azure.</span></span> <span data-ttu-id="4714e-242">L’outil charge les données de test sur ce compte de stockage pour calculer le débit.</span><span class="sxs-lookup"><span data-stu-id="4714e-242">The tool uploads test data to this storage account to calculate throughput.</span></span>|
| <span data-ttu-id="4714e-243">-StorageAccountKey</span><span class="sxs-lookup"><span data-stu-id="4714e-243">-StorageAccountKey</span></span> | <span data-ttu-id="4714e-244">(Facultatif) La clé du compte de stockage utilisée pour accéder au compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="4714e-244">(Optional) The storage-account key that's used to access the storage account.</span></span> <span data-ttu-id="4714e-245">Accédez au portail Azure > Comptes de stockage > <*Nom du compte de stockage*> > Paramètres > Clés d’accès > Key1 (ou clé d’accès principale pour le compte de stockage classique).</span><span class="sxs-lookup"><span data-stu-id="4714e-245">Go to the Azure portal > Storage accounts > <*Storage account name*> > Settings > Access Keys > Key1 (or primary access key for classic storage account).</span></span> |
| <span data-ttu-id="4714e-246">-Environment</span><span class="sxs-lookup"><span data-stu-id="4714e-246">-Environment</span></span> | <span data-ttu-id="4714e-247">(Facultatif) Votre environnement de compte Stockage Azure cible.</span><span class="sxs-lookup"><span data-stu-id="4714e-247">(optional) This is your target Azure Storage account environment.</span></span> <span data-ttu-id="4714e-248">Ce paramètre peut être défini sur l’une des trois valeurs suivantes : AzureCloud, AzureUSGovernment, AzureChinaCloud.</span><span class="sxs-lookup"><span data-stu-id="4714e-248">This can be one of three values - AzureCloud,AzureUSGovernment, AzureChinaCloud.</span></span> <span data-ttu-id="4714e-249">La valeur par défaut est AzureCloud.</span><span class="sxs-lookup"><span data-stu-id="4714e-249">Default is AzureCloud.</span></span> <span data-ttu-id="4714e-250">Utilisez ce paramètre lorsque votre région Azure cible correspond à des clouds Azure - Gouvernement des États-Unis ou Azure - Chine.</span><span class="sxs-lookup"><span data-stu-id="4714e-250">Use the parameter when your target Azure region is either Azure US Government or Azure China clouds.</span></span> |


<span data-ttu-id="4714e-251">Nous recommandons que vous profiliez vos machines virtuelles pendant au moins 15 à 30 jours.</span><span class="sxs-lookup"><span data-stu-id="4714e-251">We recommend that you profile your VMs for at least 15 to 30 days.</span></span> <span data-ttu-id="4714e-252">Pendant la période de profilage, ASRDeploymentPlanner.exe continue de s’exécuter.</span><span class="sxs-lookup"><span data-stu-id="4714e-252">During the profiling period, ASRDeploymentPlanner.exe keeps running.</span></span> <span data-ttu-id="4714e-253">Les entrées du temps de profilage de l’outil sont indiquées en jours.</span><span class="sxs-lookup"><span data-stu-id="4714e-253">The tool takes profiling time input in days.</span></span> <span data-ttu-id="4714e-254">Si vous souhaitez procéder au profilage pendant quelques heures ou quelques minutes dans le cadre d’un test rapide de l’outil, dans la préversion publique, vous devez convertir le temps en nombre de jours équivalent.</span><span class="sxs-lookup"><span data-stu-id="4714e-254">If you want to profile for few hours or minutes for a quick test of the tool, in the public preview, you will need to convert the time into the equivalent measure of days.</span></span> <span data-ttu-id="4714e-255">Par exemple, pour un profilage de 30 minutes, l’entrée doit être égale à 30/(60*24) = 0,021 jours.</span><span class="sxs-lookup"><span data-stu-id="4714e-255">For example, to profile for 30 minutes, the input must be 30/(60*24) = 0.021 days.</span></span> <span data-ttu-id="4714e-256">Le temps de profilage minimum autorisé est de 30 minutes.</span><span class="sxs-lookup"><span data-stu-id="4714e-256">The minimum allowed profiling time is 30 minutes.</span></span>

<span data-ttu-id="4714e-257">Pendant le profilage, vous pouvez éventuellement transmettre un nom et une clé du compte de stockage pour déterminer le débit que Site Recovery peut atteindre au moment de la réplication du serveur de configuration ou du serveur de processus vers Azure.</span><span class="sxs-lookup"><span data-stu-id="4714e-257">During profiling, you can optionally pass a storage-account name and key to find the throughput that Site Recovery can achieve at the time of replication from the configuration server or process server to Azure.</span></span> <span data-ttu-id="4714e-258">Si la clé et le nom du compte de stockage ne sont pas transmis au cours du profilage, l’outil ne calcule pas le débit réalisable.</span><span class="sxs-lookup"><span data-stu-id="4714e-258">If the storage-account name and key are not passed during profiling, the tool does not calculate achievable throughput.</span></span>

<span data-ttu-id="4714e-259">Vous pouvez exécuter plusieurs instances de l’outil pour différents ensembles de machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="4714e-259">You can run multiple instances of the tool for various sets of VMs.</span></span> <span data-ttu-id="4714e-260">Veillez à ce que les noms des machines virtuelles ne soient pas répétés dans les ensembles de profilage.</span><span class="sxs-lookup"><span data-stu-id="4714e-260">Ensure that the VM names are not repeated in any of the profiling sets.</span></span> <span data-ttu-id="4714e-261">Exemple : si vous avez profilé dix machines virtuelles (VM1 à VM10) et que, après quelques jours, vous voulez profiler cinq autres machines virtuelles (VM11 à VM15) ; vous pouvez exécuter l’outil à partir d’une autre console de ligne de commande pour le second ensemble de machines virtuelles (VM11 à VM15).</span><span class="sxs-lookup"><span data-stu-id="4714e-261">For example, if you have profiled ten VMs (VM1 through VM10) and after few days you want to profile another five VMs (VM11 through VM15), you can run the tool from another command-line console for the second set of VMs (VM11 through VM15).</span></span> <span data-ttu-id="4714e-262">Assurez-vous que le second ensemble de machines virtuelles ne comporte pas de noms de machine virtuelle de la première instance de profilage ou utilisez un autre répertoire de sortie pour la seconde exécution.</span><span class="sxs-lookup"><span data-stu-id="4714e-262">Ensure that the second set of VMs do not have any VM names from the first profiling instance or you use a different output directory for the second run.</span></span> <span data-ttu-id="4714e-263">Si deux instances de l’outil sont utilisées pour profiler les mêmes machines virtuelles et que vous utilisez le même répertoire de sortie, le rapport généré sera incorrect.</span><span class="sxs-lookup"><span data-stu-id="4714e-263">If two instances of the tool are used for profiling the same VMs and use the same output directory, the generated report will be incorrect.</span></span>

<span data-ttu-id="4714e-264">Les configurations de machines virtuelles sont capturées une fois au début de l’opération de profilage et stockées dans un fichier appelé VMDetailList.xml.</span><span class="sxs-lookup"><span data-stu-id="4714e-264">VM configurations are captured once at the beginning of the profiling operation and stored in a file called VMDetailList.xml.</span></span> <span data-ttu-id="4714e-265">Ces informations sont utilisées lorsque le rapport est généré.</span><span class="sxs-lookup"><span data-stu-id="4714e-265">This information is used when the report is generated.</span></span> <span data-ttu-id="4714e-266">Toute modification de configuration de machine virtuelle (par exemple, un nombre accru de cœurs, de disques ou de cartes réseau) du début à la fin du profilage n’est pas capturée.</span><span class="sxs-lookup"><span data-stu-id="4714e-266">Any change in VM configuration (for example, an increased number of cores, disks, or NICs) from the beginning to the end of profiling is not captured.</span></span> <span data-ttu-id="4714e-267">Si une configuration de machines virtuelles profilées est modifiée en cours de profilage, la solution de contournement dans la préversion publique consiste à obtenir les toutes dernières informations des machines virtuelles lorsque vous générez le rapport :</span><span class="sxs-lookup"><span data-stu-id="4714e-267">If a profiled VM configuration has changed during the course of profiling, in the public preview, here is the workaround to get latest VM details when generating the report:</span></span>

* <span data-ttu-id="4714e-268">Sauvegardez VMdetailList.xml et supprimez le fichier de son emplacement actuel.</span><span class="sxs-lookup"><span data-stu-id="4714e-268">Back up VMdetailList.xml, and delete the file from its current location.</span></span>
* <span data-ttu-id="4714e-269">Transmettez les arguments -User et -Password au moment de la génération du rapport.</span><span class="sxs-lookup"><span data-stu-id="4714e-269">Pass -User and -Password arguments at the time of report generation.</span></span>

<span data-ttu-id="4714e-270">La commande de profilage génère plusieurs fichiers dans le répertoire de profilage.</span><span class="sxs-lookup"><span data-stu-id="4714e-270">The profiling command generates several files in the profiling directory.</span></span> <span data-ttu-id="4714e-271">Ne supprimez pas les fichiers, car cela affecterait la génération de rapports.</span><span class="sxs-lookup"><span data-stu-id="4714e-271">Do not delete any of the files, because doing so affects report generation.</span></span>

#### <a name="example-1-profile-vms-for-30-days-and-find-the-throughput-from-on-premises-to-azure"></a><span data-ttu-id="4714e-272">Exemple 1 : profiler des machines virtuelles pendant 30 jours et déterminer le débit pour le scénario « local vers Azure »</span><span class="sxs-lookup"><span data-stu-id="4714e-272">Example 1: Profile VMs for 30 days, and find the throughput from on-premises to Azure</span></span>
```
ASRDeploymentPlanner.exe -Operation StartProfiling -Directory “E:\vCenter1_ProfiledData” -Server vCenter1.contoso.com -VMListFile “E:\vCenter1_ProfiledData\ProfileVMList1.txt”  -NoOfDaysToProfile  30  -User vCenterUser1 -StorageAccountName  asrspfarm1 -StorageAccountKey Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==
```

#### <a name="example-2-profile-vms-for-15-days"></a><span data-ttu-id="4714e-273">Exemple 2 : profiler des machines virtuelles pendant 15 jours</span><span class="sxs-lookup"><span data-stu-id="4714e-273">Example 2: Profile VMs for 15 days</span></span>

```
ASRDeploymentPlanner.exe -Operation StartProfiling -Directory “E:\vCenter1_ProfiledData” -Server vCenter1.contoso.com -VMListFile “E:\vCenter1_ProfiledData\ProfileVMList1.txt”  -NoOfDaysToProfile  15  -User vCenterUser1
```

#### <a name="example-3-profile-vms-for-1-hour-for-a-quick-test-of-the-tool"></a><span data-ttu-id="4714e-274">Exemple 3 : profiler des machines virtuelles pendant 1 heure pour tester rapidement l’outil</span><span class="sxs-lookup"><span data-stu-id="4714e-274">Example 3: Profile VMs for 1 hour for a quick test of the tool</span></span>
```
ASRDeploymentPlanner.exe -Operation StartProfiling -Directory “E:\vCenter1_ProfiledData” -Server vCenter1.contoso.com -VMListFile “E:\vCenter1_ProfiledData\ProfileVMList1.txt”  -NoOfDaysToProfile  0.04  -User vCenterUser1
```

>[!NOTE]
>
>* <span data-ttu-id="4714e-275">Si le serveur sur lequel s’exécute l’outil est redémarré ou est tombé en panne, ou si vous fermez l’outil à l’aide de Ctrl + C, les données profilées sont conservées.</span><span class="sxs-lookup"><span data-stu-id="4714e-275">If the server that the tool is running on is rebooted or has crashed, or if you close the tool by using Ctrl + C, the profiled data is preserved.</span></span> <span data-ttu-id="4714e-276">Cependant, il existe un risque de manquer les 15 dernières minutes de données profilées.</span><span class="sxs-lookup"><span data-stu-id="4714e-276">However, there is a chance of missing the last 15 minutes of profiled data.</span></span> <span data-ttu-id="4714e-277">Dans ce cas, réexécutez l’outil en mode profilage après le redémarrage du serveur.</span><span class="sxs-lookup"><span data-stu-id="4714e-277">In such an instance, rerun the tool in profiling mode after the server restarts.</span></span>
>* <span data-ttu-id="4714e-278">Lorsque le nom et la clé du compte de stockage sont transmis, l’outil mesure le débit au cours de la dernière étape du profilage.</span><span class="sxs-lookup"><span data-stu-id="4714e-278">When the storage-account name and key are passed, the tool measures the throughput at the last step of profiling.</span></span> <span data-ttu-id="4714e-279">Si l’outil est fermé avant la fin du profilage, le débit n’est pas calculé.</span><span class="sxs-lookup"><span data-stu-id="4714e-279">If the tool is closed before profiling is completed, the throughput is not calculated.</span></span> <span data-ttu-id="4714e-280">Pour trouver le débit avant de générer le rapport, vous pouvez exécuter l’opération GetThroughput à partir de la console de ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="4714e-280">To find the throughput before generating the report, you can run the GetThroughput operation from the command-line console.</span></span> <span data-ttu-id="4714e-281">Autrement, le rapport généré ne contient pas les informations de débit.</span><span class="sxs-lookup"><span data-stu-id="4714e-281">Otherwise, the generated report will not contain the throughput information.</span></span>


## <a name="generate-a-report"></a><span data-ttu-id="4714e-282">Générer un rapport</span><span class="sxs-lookup"><span data-stu-id="4714e-282">Generate a report</span></span>
<span data-ttu-id="4714e-283">L’outil génère un fichier Microsoft Excel avec les macros activées (fichier XLSM) en tant que sortie du rapport, qui résume toutes les recommandations de déploiement.</span><span class="sxs-lookup"><span data-stu-id="4714e-283">The tool generates a macro-enabled Microsoft Excel file (XLSM file) as the report output, which summarizes all the deployment recommendations.</span></span> <span data-ttu-id="4714e-284">Le rapport est intitulé DeploymentPlannerReport_<*identificateur numérique unique*>.xlsm et placé dans le répertoire spécifié.</span><span class="sxs-lookup"><span data-stu-id="4714e-284">The report is named DeploymentPlannerReport_<*unique numeric identifier*>.xlsm and placed in the specified directory.</span></span>

<span data-ttu-id="4714e-285">À l’issue du profilage, vous pouvez exécuter l’outil en mode génération de rapport.</span><span class="sxs-lookup"><span data-stu-id="4714e-285">After profiling is complete, you can run the tool in report-generation mode.</span></span> <span data-ttu-id="4714e-286">Le tableau suivant contient une liste des paramètres obligatoires et facultatifs de l’outil à exécuter en mode génération de rapport.</span><span class="sxs-lookup"><span data-stu-id="4714e-286">The following table contains a list of mandatory and optional tool parameters to run in report-generation mode.</span></span>

`ASRDeploymentPlanner.exe -Operation GenerateReport /?`

|<span data-ttu-id="4714e-287">Nom du paramètre</span><span class="sxs-lookup"><span data-stu-id="4714e-287">Parameter name</span></span> | <span data-ttu-id="4714e-288">Description</span><span class="sxs-lookup"><span data-stu-id="4714e-288">Description</span></span> |
|-|-|
| <span data-ttu-id="4714e-289">-Operation</span><span class="sxs-lookup"><span data-stu-id="4714e-289">-Operation</span></span> | <span data-ttu-id="4714e-290">GenerateReport</span><span class="sxs-lookup"><span data-stu-id="4714e-290">GenerateReport</span></span> |
| <span data-ttu-id="4714e-291">-Server</span><span class="sxs-lookup"><span data-stu-id="4714e-291">-Server</span></span> |  <span data-ttu-id="4714e-292">Le nom de domaine complet ou l’adresse IP du serveur vCenter/vSphere (utilisez le même nom ou la même adresse IP que ceux utilisés lors du profilage) sur lequel se trouvent les machines virtuelles profilées dont le rapport doit être généré.</span><span class="sxs-lookup"><span data-stu-id="4714e-292">The vCenter/vSphere server fully qualified domain name or IP address (use the same name or IP address that you used at the time of profiling) where the profiled VMs whose report is to be generated are located.</span></span> <span data-ttu-id="4714e-293">Notez que si vous avez utilisé un serveur vCenter au moment du profilage, vous ne pouvez pas utiliser un serveur vSphere pour la génération de rapport, et inversement.</span><span class="sxs-lookup"><span data-stu-id="4714e-293">Note that if you used a vCenter server at the time of profiling, you cannot use a vSphere server for report generation, and vice-versa.</span></span>|
| <span data-ttu-id="4714e-294">-VMListFile</span><span class="sxs-lookup"><span data-stu-id="4714e-294">-VMListFile</span></span> | <span data-ttu-id="4714e-295">Le fichier qui contient la liste des machines virtuelles profilées pour lesquels le rapport va être généré.</span><span class="sxs-lookup"><span data-stu-id="4714e-295">The file that contains the list of profiled VMs that the report is to be generated for.</span></span> <span data-ttu-id="4714e-296">Le chemin d’accès du fichier peut être absolu ou relatif.</span><span class="sxs-lookup"><span data-stu-id="4714e-296">The file path can be absolute or relative.</span></span> <span data-ttu-id="4714e-297">Le fichier doit contenir un nom ou une adresse IP de machine virtuelle par ligne.</span><span class="sxs-lookup"><span data-stu-id="4714e-297">The file should contain one VM name or IP address per line.</span></span> <span data-ttu-id="4714e-298">Les noms de machines virtuelles spécifiés dans le fichier doivent être identiques à ceux des machines virtuelles sur le serveur vCenter/l’hôte vSphere ESXi, et ils correspondent à ce qui a été utilisé au moment du profilage.</span><span class="sxs-lookup"><span data-stu-id="4714e-298">The VM names that are specified in the file should be the same as the VM names on the vCenter server/vSphere ESXi host, and match what was used during profiling.</span></span>|
| <span data-ttu-id="4714e-299">-Répertoire</span><span class="sxs-lookup"><span data-stu-id="4714e-299">-Directory</span></span> | <span data-ttu-id="4714e-300">(Facultatif) UNC ou chemin d’accès du répertoire local où les données profilées (fichiers générés lors du profilage) sont stockées.</span><span class="sxs-lookup"><span data-stu-id="4714e-300">(Optional) The UNC or local directory path where the profiled data (files generated during profiling) is stored.</span></span> <span data-ttu-id="4714e-301">Ces données sont requises pour générer le rapport.</span><span class="sxs-lookup"><span data-stu-id="4714e-301">This data is required for generating the report.</span></span> <span data-ttu-id="4714e-302">Si aucun nom n’est spécifié, le répertoire ProfiledData est utilisé.</span><span class="sxs-lookup"><span data-stu-id="4714e-302">If a name isn't specified, ‘ProfiledData’ directory will be used.</span></span> |
| <span data-ttu-id="4714e-303">-GoalToCompleteIR</span><span class="sxs-lookup"><span data-stu-id="4714e-303">-GoalToCompleteIR</span></span> | <span data-ttu-id="4714e-304">(Facultatif) Le nombre d’heures pendant lesquelles la réplication initiale des machines virtuelles profilées doit être effectuée.</span><span class="sxs-lookup"><span data-stu-id="4714e-304">(Optional) The number of hours in which the initial replication of the profiled VMs needs to be completed.</span></span> <span data-ttu-id="4714e-305">Le rapport généré indique le nombre de machines virtuelles pour lesquelles la réplication initiale peut être effectuée dans le délai spécifié.</span><span class="sxs-lookup"><span data-stu-id="4714e-305">The generated report provides the number of VMs for which initial replication can be completed in the specified time.</span></span> <span data-ttu-id="4714e-306">La valeur par défaut est 72 heures.</span><span class="sxs-lookup"><span data-stu-id="4714e-306">The default is 72 hours.</span></span> |
| <span data-ttu-id="4714e-307">-User</span><span class="sxs-lookup"><span data-stu-id="4714e-307">-User</span></span> | <span data-ttu-id="4714e-308">(Facultatif) Le nom d’utilisateur permettant de se connecter au serveur vCenter/vSphere.</span><span class="sxs-lookup"><span data-stu-id="4714e-308">(Optional) The user name to use to connect to the vCenter/vSphere server.</span></span> <span data-ttu-id="4714e-309">Le nom est utilisé pour extraire les dernières informations de configuration des machines virtuelles, comme le nombre de disques, le nombre de cœurs, le nombre de cartes réseau, etc. à utiliser dans le rapport.</span><span class="sxs-lookup"><span data-stu-id="4714e-309">The name is used to fetch the latest configuration information of the VMs, such as the number of disks, number of cores, and number of NICs, to use in the report.</span></span> <span data-ttu-id="4714e-310">Si aucun nom n’est fourni, les informations de configuration collectées au début du profilage sont utilisées.</span><span class="sxs-lookup"><span data-stu-id="4714e-310">If the name isn't provided, the configuration information collected at the beginning of the profiling kickoff is used.</span></span> |
| <span data-ttu-id="4714e-311">-Mot de passe</span><span class="sxs-lookup"><span data-stu-id="4714e-311">-Password</span></span> | <span data-ttu-id="4714e-312">(Facultatif) Le mot de passe utilisé pour se connecter au serveur vCenter/à l’hôte vSphere ESXi.</span><span class="sxs-lookup"><span data-stu-id="4714e-312">(Optional) The password to use to connect to the vCenter server/vSphere ESXi host.</span></span> <span data-ttu-id="4714e-313">Si le mot de passe n’est pas spécifié en tant que paramètre, vous êtes invité à l’indiquer ultérieurement à l’exécution de la commande.</span><span class="sxs-lookup"><span data-stu-id="4714e-313">If the password isn't specified as a parameter, you will be prompted for it later when the command is executed.</span></span> |
| <span data-ttu-id="4714e-314">-DesiredRPO</span><span class="sxs-lookup"><span data-stu-id="4714e-314">-DesiredRPO</span></span> | <span data-ttu-id="4714e-315">(Facultatif) L’objectif de point de récupération souhaité, en minutes.</span><span class="sxs-lookup"><span data-stu-id="4714e-315">(Optional) The desired recovery point objective, in minutes.</span></span> <span data-ttu-id="4714e-316">La valeur par défaut est 15 minutes.</span><span class="sxs-lookup"><span data-stu-id="4714e-316">The default is 15 minutes.</span></span>|
| <span data-ttu-id="4714e-317">-Bandwidth</span><span class="sxs-lookup"><span data-stu-id="4714e-317">-Bandwidth</span></span> | <span data-ttu-id="4714e-318">Bande passante en Mbits/s.</span><span class="sxs-lookup"><span data-stu-id="4714e-318">Bandwidth in Mbps.</span></span> <span data-ttu-id="4714e-319">Le paramètre permet de calculer le RPO qui peut être atteint pour la bande passante spécifiée.</span><span class="sxs-lookup"><span data-stu-id="4714e-319">The parameter to use to calculate the RPO that can be achieved for the specified bandwidth.</span></span> |
| <span data-ttu-id="4714e-320">-StartDate</span><span class="sxs-lookup"><span data-stu-id="4714e-320">-StartDate</span></span> | <span data-ttu-id="4714e-321">(Facultatif) La date et l’heure de début au format MM-JJ-AAAA:HH:MM (24 heures).</span><span class="sxs-lookup"><span data-stu-id="4714e-321">(Optional) The start date and time in MM-DD-YYYY:HH:MM (24-hour format).</span></span> <span data-ttu-id="4714e-322">Le paramètre *StartDate* doit être spécifié avec le paramètre *EndDate*.</span><span class="sxs-lookup"><span data-stu-id="4714e-322">*StartDate* must be specified along with *EndDate*.</span></span> <span data-ttu-id="4714e-323">Si le paramètre StartDate est spécifié, le rapport est généré pour les données profilées collectées entre les dates StartDate et EndDate.</span><span class="sxs-lookup"><span data-stu-id="4714e-323">When StartDate is specified, the report is generated for the profiled data that's collected between StartDate and EndDate.</span></span> |
| <span data-ttu-id="4714e-324">-EndDate</span><span class="sxs-lookup"><span data-stu-id="4714e-324">-EndDate</span></span> | <span data-ttu-id="4714e-325">(Facultatif) La date et l’heure de fin au format MM-JJ-AAAA:HH:MM (24 heures).</span><span class="sxs-lookup"><span data-stu-id="4714e-325">(Optional) The end date and time in MM-DD-YYYY:HH:MM (24-hour format).</span></span> <span data-ttu-id="4714e-326">Le paramètre *EndDate* doit être spécifié avec le paramètre *StartDate*.</span><span class="sxs-lookup"><span data-stu-id="4714e-326">*EndDate* must be specified along with *StartDate*.</span></span> <span data-ttu-id="4714e-327">Si le paramètre EndDate est spécifié, le rapport est généré pour les données profilées collectées entre les dates StartDate et EndDate.</span><span class="sxs-lookup"><span data-stu-id="4714e-327">When EndDate is specified, the report is generated for the profiled data that's collected between StartDate and EndDate.</span></span> |
| <span data-ttu-id="4714e-328">-GrowthFactor</span><span class="sxs-lookup"><span data-stu-id="4714e-328">-GrowthFactor</span></span> | <span data-ttu-id="4714e-329">(Facultatif) Le facteur de croissance, exprimé en pourcentage.</span><span class="sxs-lookup"><span data-stu-id="4714e-329">(Optional) The growth factor, expressed as a percentage.</span></span> <span data-ttu-id="4714e-330">La valeur par défaut est 30 pour cent.</span><span class="sxs-lookup"><span data-stu-id="4714e-330">The default is 30 percent.</span></span> |
| <span data-ttu-id="4714e-331">-UseManagedDisks</span><span class="sxs-lookup"><span data-stu-id="4714e-331">-UseManagedDisks</span></span> | <span data-ttu-id="4714e-332">(Facultatif) UseManagedDisks - Oui/Non.</span><span class="sxs-lookup"><span data-stu-id="4714e-332">(Optional) UseManagedDisks - Yes/No.</span></span> <span data-ttu-id="4714e-333">La valeur par défaut est Oui.</span><span class="sxs-lookup"><span data-stu-id="4714e-333">Default is Yes.</span></span> <span data-ttu-id="4714e-334">Le nombre de machines qu’il est possible de placer dans un compte de stockage unique est calculé en fonction de si le basculement/test de basculement des machines virtuelles est effectué sur un disque managé au lieu d’un disque non managé.</span><span class="sxs-lookup"><span data-stu-id="4714e-334">The number of virtual machines that can be placed into a single storage account is calculated considering whether Failover/Test failover of virtual machines is done on managed disk instead of unmanaged disk.</span></span> |

#### <a name="example-1-generate-a-report-with-default-values-when-the-profiled-data-is-on-the-local-drive"></a><span data-ttu-id="4714e-335">Exemple 1 :générer un rapport contenant des valeurs par défaut lorsque les données profilées sont situées sur le lecteur local</span><span class="sxs-lookup"><span data-stu-id="4714e-335">Example 1: Generate a report with default values when the profiled data is on the local drive</span></span>
```
ASRDeploymentPlanner.exe -Operation GenerateReport -Server vCenter1.contoso.com -Directory “\\PS1-W2K12R2\vCenter1_ProfiledData” -VMListFile “\\PS1-W2K12R2\vCenter1_ProfiledData\ProfileVMList1.txt”
```

#### <a name="example-2-generate-a-report-when-the-profiled-data-is-on-a-remote-server"></a><span data-ttu-id="4714e-336">Exemple 2 : générer un rapport lorsque les données profilées sont situées sur un serveur distant</span><span class="sxs-lookup"><span data-stu-id="4714e-336">Example 2: Generate a report when the profiled data is on a remote server</span></span>
<span data-ttu-id="4714e-337">Vous devez disposer d’un accès en lecture/écriture sur le répertoire distant.</span><span class="sxs-lookup"><span data-stu-id="4714e-337">You should have read/write access on the remote directory.</span></span>
```
ASRDeploymentPlanner.exe -Operation GenerateReport -Server vCenter1.contoso.com -Directory “\\PS1-W2K12R2\vCenter1_ProfiledData” -VMListFile “\\PS1-W2K12R2\vCenter1_ProfiledData\ProfileVMList1.txt”
```

#### <a name="example-3-generate-a-report-with-a-specific-bandwidth-and-goal-to-complete-ir-within-specified-time"></a><span data-ttu-id="4714e-338">Exemple 3 : générer un rapport contenant la bande passante spécifique et les objectifs pour terminer le RI dans le temps indiqué</span><span class="sxs-lookup"><span data-stu-id="4714e-338">Example 3: Generate a report with a specific bandwidth and goal to complete IR within specified time</span></span>
```
ASRDeploymentPlanner.exe -Operation GenerateReport -Server vCenter1.contoso.com -Directory “E:\vCenter1_ProfiledData” -VMListFile “E:\vCenter1_ProfiledData\ProfileVMList1.txt” -Bandwidth 100 -GoalToCompleteIR 24
```

#### <a name="example-4-generate-a-report-with-a-5-percent-growth-factor-instead-of-the-default-30-percent"></a><span data-ttu-id="4714e-339">Exemple 4 : générer un rapport avec un facteur de croissance de 5 pour cent au lieu des 30 pour cent par défaut</span><span class="sxs-lookup"><span data-stu-id="4714e-339">Example 4: Generate a report with a 5 percent growth factor instead of the default 30 percent</span></span>
```
ASRDeploymentPlanner.exe -Operation GenerateReport -Server vCenter1.contoso.com -Directory “E:\vCenter1_ProfiledData” -VMListFile “E:\vCenter1_ProfiledData\ProfileVMList1.txt” -GrowthFactor 5
```

#### <a name="example-5-generate-a-report-with-a-subset-of-profiled-data"></a><span data-ttu-id="4714e-340">Exemple 5 : générer un rapport contenant un sous-ensemble de données profilées</span><span class="sxs-lookup"><span data-stu-id="4714e-340">Example 5: Generate a report with a subset of profiled data</span></span>
<span data-ttu-id="4714e-341">Par exemple, vous disposez de 30 jours de données profilées et vous souhaitez générer un rapport pour une période de 20 jours seulement.</span><span class="sxs-lookup"><span data-stu-id="4714e-341">For example, you have 30 days of profiled data and want to generate a report for only 20 days.</span></span>
```
ASRDeploymentPlanner.exe -Operation GenerateReport -Server vCenter1.contoso.com -Directory “E:\vCenter1_ProfiledData” -VMListFile “E:\vCenter1_ProfiledData\ProfileVMList1.txt” -StartDate  01-10-2017:12:30 -EndDate 01-19-2017:12:30
```

#### <a name="example-6-generate-a-report-for-5-minute-rpo"></a><span data-ttu-id="4714e-342">Exemple 6 : générer un rapport pour un RPO de 5 minutes</span><span class="sxs-lookup"><span data-stu-id="4714e-342">Example 6: Generate a report for 5-minute RPO</span></span>
```
ASRDeploymentPlanner.exe -Operation GenerateReport -Server vCenter1.contoso.com -Directory “E:\vCenter1_ProfiledData” -VMListFile “E:\vCenter1_ProfiledData\ProfileVMList1.txt”  -DesiredRPO 5
```

## <a name="percentile-value-used-for-the-calculation"></a><span data-ttu-id="4714e-343">Valeur de centile utilisée pour le calcul</span><span class="sxs-lookup"><span data-stu-id="4714e-343">Percentile value used for the calculation</span></span>
<span data-ttu-id="4714e-344">**Quelle valeur de centile par défaut des indicateurs de performance collectés pendant le profilage l’outil va-t-il utiliser au moment de la génération de rapport ?**</span><span class="sxs-lookup"><span data-stu-id="4714e-344">**What default percentile value of the performance metrics collected during profiling does the tool use when it generates a report?**</span></span>

<span data-ttu-id="4714e-345">L’outil est configuré par défaut sur les valeurs du 95e centile des E/S par seconde de lecture/écriture, des E/S par seconde d’écriture et de l’activité des données collectées pendant le profilage de toutes les machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="4714e-345">The tool defaults to the 95th percentile values of read/write IOPS, write IOPS, and data churn that are collected during profiling of all the VMs.</span></span> <span data-ttu-id="4714e-346">Cette mesure garantit que le pic du 100e centile que vos machines virtuelles peuvent voir en raison d’événements temporaires n’est pas utilisé pour déterminer vos besoins de compte de stockage cible et de bande passante source.</span><span class="sxs-lookup"><span data-stu-id="4714e-346">This metric ensures that the 100th percentile spike your VMs might see because of temporary events is not used to determine your target storage-account and source-bandwidth requirements.</span></span> <span data-ttu-id="4714e-347">Par exemple, un événement temporaire peut être une tâche de sauvegarde exécutée une fois par jour, une indexation de base de données périodique ou une activité de génération de rapport d’analyse ou d’autres événements similaires ponctuels et de courte durée.</span><span class="sxs-lookup"><span data-stu-id="4714e-347">For example, a temporary event might be a backup job running once a day, a periodic database indexing or analytics report-generation activity, or other similar short-lived, point-in-time events.</span></span>

<span data-ttu-id="4714e-348">L’utilisation des valeurs du 95e centile permet de donner une image exacte des caractéristiques des charges de travail réelles et vous offre les meilleures performances lorsque les charges de travail s’exécutent sur Azure.</span><span class="sxs-lookup"><span data-stu-id="4714e-348">Using 95th percentile values gives a true picture of real workload characteristics, and it gives you the best performance when the workloads are running on Azure.</span></span> <span data-ttu-id="4714e-349">Nous ne prévoyons pas que vous modifiiez ce numéro.</span><span class="sxs-lookup"><span data-stu-id="4714e-349">We do not anticipate that you would need to change this number.</span></span> <span data-ttu-id="4714e-350">Si vous modifiez la valeur (au 90e centile par exemple), vous pouvez mettre à jour le fichier de configuration *ASRDeploymentPlanner.exe.config* dans le dossier par défaut et l’enregistrer pour générer un nouveau rapport sur les données profilées existantes.</span><span class="sxs-lookup"><span data-stu-id="4714e-350">If you do change the value (to the 90th percentile, for example), you can update the configuration file *ASRDeploymentPlanner.exe.config* in the default folder and save it to generate a new report on the existing profiled data.</span></span>
```
<add key="WriteIOPSPercentile" value="95" />      
<add key="ReadWriteIOPSPercentile" value="95" />      
<add key="DataChurnPercentile" value="95" />
```

## <a name="growth-factor-considerations"></a><span data-ttu-id="4714e-351">Considérations relatives au facteur de croissance</span><span class="sxs-lookup"><span data-stu-id="4714e-351">Growth-factor considerations</span></span>
<span data-ttu-id="4714e-352">**Pourquoi devrais-je tenir compte du facteur de croissance lors de la planification de déploiement ?**</span><span class="sxs-lookup"><span data-stu-id="4714e-352">**Why should I consider growth factor when I plan deployments?**</span></span>

<span data-ttu-id="4714e-353">Il est essentiel de tenir compte de la croissance dans vos caractéristiques de charge de travail en supposant une augmentation potentielle de l’utilisation au fil du temps.</span><span class="sxs-lookup"><span data-stu-id="4714e-353">It is critical to account for growth in your workload characteristics, assuming a potential increase in usage over time.</span></span> <span data-ttu-id="4714e-354">Une fois la protection en place, si les caractéristiques de votre charge de travail changent, vous ne pouvez pas basculer vers un compte de stockage différent pour la protection sans désactiver et réactiver la protection.</span><span class="sxs-lookup"><span data-stu-id="4714e-354">After protection is in place, if your workload characteristics change, you cannot switch to a different storage account for protection without disabling and re-enabling the protection.</span></span>

<span data-ttu-id="4714e-355">Par exemple, supposons que, aujourd’hui, votre machine virtuelle s’intègre dans un compte de réplication de stockage standard.</span><span class="sxs-lookup"><span data-stu-id="4714e-355">For example, let's say that today your VM fits in a standard storage replication account.</span></span> <span data-ttu-id="4714e-356">Au cours des trois derniers mois, plusieurs modifications sont susceptibles de se produire :</span><span class="sxs-lookup"><span data-stu-id="4714e-356">Over the next three months, several changes are likely to occur:</span></span>

* <span data-ttu-id="4714e-357">Le nombre d’utilisateurs de l’application qui s’exécute sur la machine virtuelle va augmenter.</span><span class="sxs-lookup"><span data-stu-id="4714e-357">The number of users of the application that runs on the VM will increase.</span></span>
* <span data-ttu-id="4714e-358">L’activité accrue en résultant sur la machine virtuelle va nécessiter que la machine virtuelle devienne un stockage premium de sorte que la réplication Site Recovery puisse suivre le rythme.</span><span class="sxs-lookup"><span data-stu-id="4714e-358">The resulting increased churn on the VM will require the VM to go to premium storage so that Site Recovery replication can keep pace.</span></span>
* <span data-ttu-id="4714e-359">Par conséquent, vous devez désactiver et réactiver la protection de compte de stockage premium.</span><span class="sxs-lookup"><span data-stu-id="4714e-359">Consequently, you will have to disable and re-enable protection to a premium storage account.</span></span>

<span data-ttu-id="4714e-360">Nous vous recommandons de planifier la croissance pendant la planification du déploiement et pendant que la valeur par défaut est 30 pour cent.</span><span class="sxs-lookup"><span data-stu-id="4714e-360">We strongly recommend that you plan for growth during deployment planning and while the default value is 30 percent.</span></span> <span data-ttu-id="4714e-361">Vous êtes expert du modèle d’utilisation de vos applications et des projections de croissance et vous pouvez modifier ce nombre en conséquence lors de la génération d’un rapport.</span><span class="sxs-lookup"><span data-stu-id="4714e-361">You are the expert on your application usage pattern and growth projections, and you can change this number accordingly while generating a report.</span></span> <span data-ttu-id="4714e-362">En outre, vous pouvez générer plusieurs rapports avec différents facteurs de croissance avec les mêmes données profilées et déterminer les recommandations de stockage cible et de bande passante source fonctionnent le mieux pour vous.</span><span class="sxs-lookup"><span data-stu-id="4714e-362">Moreover, you can  generate multiple reports with various growth factors with the same profiled data and determine what target storage and source bandwidth recommendations work best for you.</span></span>

<span data-ttu-id="4714e-363">Le rapport Microsoft Excel généré contient les informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="4714e-363">The generated Microsoft Excel report contains the following information:</span></span>

* [<span data-ttu-id="4714e-364">Input</span><span class="sxs-lookup"><span data-stu-id="4714e-364">Input</span></span>](site-recovery-deployment-planner.md#input)
* [<span data-ttu-id="4714e-365">Recommandations</span><span class="sxs-lookup"><span data-stu-id="4714e-365">Recommendations</span></span>](site-recovery-deployment-planner.md#recommendations-with-desired-rpo-as-input)
* [<span data-ttu-id="4714e-366">Recommandations : entrée de bande passante</span><span class="sxs-lookup"><span data-stu-id="4714e-366">Recommendations-Bandwidth Input</span></span>](site-recovery-deployment-planner.md#recommendations-with-available-bandwidth-as-input)
* [<span data-ttu-id="4714e-367">VM<->Storage Placement</span><span class="sxs-lookup"><span data-stu-id="4714e-367">VM<->Storage Placement</span></span>](site-recovery-deployment-planner.md#vm-storage-placement)
* [<span data-ttu-id="4714e-368">Compatible VMs</span><span class="sxs-lookup"><span data-stu-id="4714e-368">Compatible VMs</span></span>](site-recovery-deployment-planner.md#compatible-vms)
* [<span data-ttu-id="4714e-369">Incompatible VMs</span><span class="sxs-lookup"><span data-stu-id="4714e-369">Incompatible VMs</span></span>](site-recovery-deployment-planner.md#incompatible-vms)

![Deployment planner](./media/site-recovery-deployment-planner/dp-report.png)

## <a name="get-throughput"></a><span data-ttu-id="4714e-371">GetThroughput</span><span class="sxs-lookup"><span data-stu-id="4714e-371">Get throughput</span></span>

<span data-ttu-id="4714e-372">Pour estimer le débit que Site Recovery peut atteindre pendant la réplication de données locales vers Azure, exécutez l’outil en mode GetThroughput.</span><span class="sxs-lookup"><span data-stu-id="4714e-372">To estimate the throughput that Site Recovery can achieve from on-premises to Azure during replication, run the tool in GetThroughput mode.</span></span> <span data-ttu-id="4714e-373">L’outil calcule le débit à partir du serveur sur lequel l’outil est exécuté.</span><span class="sxs-lookup"><span data-stu-id="4714e-373">The tool calculates the throughput from the server that the tool is running on.</span></span> <span data-ttu-id="4714e-374">Idéalement, ce serveur est basé sur le guide de dimensionnement des serveurs de configuration.</span><span class="sxs-lookup"><span data-stu-id="4714e-374">Ideally, this server is based on the configuration server sizing guide.</span></span> <span data-ttu-id="4714e-375">Si vous avez déjà déployé les composants d’infrastructure Site Recovery en local, exécutez l’outil sur le serveur de configuration.</span><span class="sxs-lookup"><span data-stu-id="4714e-375">If you have already deployed Site Recovery infrastructure components on-premises, run the tool on the configuration server.</span></span>

<span data-ttu-id="4714e-376">Ouvrez une console de ligne de commande et accédez au dossier de l’outil de planification du déploiement Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="4714e-376">Open a command-line console, and go to the Site Recovery deployment planning tool folder.</span></span> <span data-ttu-id="4714e-377">Exécutez ASRDeploymentPlanner.exe avec les paramètres ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="4714e-377">Run ASRDeploymentPlanner.exe with following parameters.</span></span>

`ASRDeploymentPlanner.exe -Operation GetThroughput /?`

|<span data-ttu-id="4714e-378">Nom du paramètre</span><span class="sxs-lookup"><span data-stu-id="4714e-378">Parameter name</span></span> | <span data-ttu-id="4714e-379">Description</span><span class="sxs-lookup"><span data-stu-id="4714e-379">Description</span></span> |
|-|-|
| <span data-ttu-id="4714e-380">-Operation</span><span class="sxs-lookup"><span data-stu-id="4714e-380">-Operation</span></span> | <span data-ttu-id="4714e-381">GetThroughput</span><span class="sxs-lookup"><span data-stu-id="4714e-381">GetThroughput</span></span> |
| <span data-ttu-id="4714e-382">-Répertoire</span><span class="sxs-lookup"><span data-stu-id="4714e-382">-Directory</span></span> | <span data-ttu-id="4714e-383">(Facultatif) UNC ou chemin d’accès du répertoire local où les données profilées (fichiers générés lors du profilage) sont stockées.</span><span class="sxs-lookup"><span data-stu-id="4714e-383">(Optional) The UNC or local directory path where the profiled data (files generated during profiling) is stored.</span></span> <span data-ttu-id="4714e-384">Ces données sont requises pour générer le rapport.</span><span class="sxs-lookup"><span data-stu-id="4714e-384">This data is required for generating the report.</span></span> <span data-ttu-id="4714e-385">Si aucun nom de répertoire n’est spécifié, le répertoire ProfiledData est utilisé.</span><span class="sxs-lookup"><span data-stu-id="4714e-385">If a directory name is not specified, ‘ProfiledData’ directory is used.</span></span> |
| <span data-ttu-id="4714e-386">-StorageAccountName</span><span class="sxs-lookup"><span data-stu-id="4714e-386">-StorageAccountName</span></span> | <span data-ttu-id="4714e-387">Le nom du compte de stockage Azure permettant de déterminer la bande passante utilisée pour la réplication des données locales vers Azure.</span><span class="sxs-lookup"><span data-stu-id="4714e-387">The storage-account name that's used to find the bandwidth consumed for replication of data from on-premises to Azure.</span></span> <span data-ttu-id="4714e-388">L’outil charge les données de test sur ce compte de stockage pour trouver la bande passante consommée.</span><span class="sxs-lookup"><span data-stu-id="4714e-388">The tool uploads test data to this storage account to find the bandwidth consumed.</span></span> |
| <span data-ttu-id="4714e-389">-StorageAccountKey</span><span class="sxs-lookup"><span data-stu-id="4714e-389">-StorageAccountKey</span></span> | <span data-ttu-id="4714e-390">La clé du compte de stockage utilisée pour accéder au compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="4714e-390">The storage-account key that's used to access the storage account.</span></span> <span data-ttu-id="4714e-391">Accédez au portail Azure > Comptes de stockage > <*Nom du compte de stockage*> > Paramètres > Clés d’accès > Key1 (ou clé d’accès principale pour un compte de stockage classique).</span><span class="sxs-lookup"><span data-stu-id="4714e-391">Go to the Azure portal > Storage accounts > <*Storage account name*> > Settings > Access Keys > Key1 (or a primary access key for a classic storage account).</span></span> |
| <span data-ttu-id="4714e-392">-VMListFile</span><span class="sxs-lookup"><span data-stu-id="4714e-392">-VMListFile</span></span> | <span data-ttu-id="4714e-393">Le fichier qui contient la liste des machines virtuelles à profiler pour calculer la bande passante consommée.</span><span class="sxs-lookup"><span data-stu-id="4714e-393">The file that contains the list of VMs to be profiled for calculating the bandwidth consumed.</span></span> <span data-ttu-id="4714e-394">Le chemin d’accès du fichier peut être absolu ou relatif.</span><span class="sxs-lookup"><span data-stu-id="4714e-394">The file path can be absolute or relative.</span></span> <span data-ttu-id="4714e-395">Le fichier doit contenir un nom/une adresse IP de machine virtuelle par ligne.</span><span class="sxs-lookup"><span data-stu-id="4714e-395">The file should contain one VM name/IP address per line.</span></span> <span data-ttu-id="4714e-396">Les noms de machine virtuelle spécifiés dans le fichier doivent être identiques au nom des machines virtuelles sur le serveur vCenter/l’hôte vSphere ESXi.</span><span class="sxs-lookup"><span data-stu-id="4714e-396">The VM names specified in the file should be the same as the VM names on the vCenter server/vSphere ESXi host.</span></span><br><span data-ttu-id="4714e-397">Par exemple, le fichier VMList.txt contient les machines virtuelles suivantes :</span><span class="sxs-lookup"><span data-stu-id="4714e-397">For example, the file VMList.txt contains the following VMs:</span></span><ul><li><span data-ttu-id="4714e-398">VM_A</span><span class="sxs-lookup"><span data-stu-id="4714e-398">VM_A</span></span></li><li><span data-ttu-id="4714e-399">10.150.29.110</span><span class="sxs-lookup"><span data-stu-id="4714e-399">10.150.29.110</span></span></li><li><span data-ttu-id="4714e-400">VM_B</span><span class="sxs-lookup"><span data-stu-id="4714e-400">VM_B</span></span></li></ul>|
| <span data-ttu-id="4714e-401">-Environment</span><span class="sxs-lookup"><span data-stu-id="4714e-401">-Environment</span></span> | <span data-ttu-id="4714e-402">(Facultatif) Votre environnement de compte Stockage Azure cible.</span><span class="sxs-lookup"><span data-stu-id="4714e-402">(optional) This is your target Azure Storage account environment.</span></span> <span data-ttu-id="4714e-403">Ce paramètre peut être défini sur l’une des trois valeurs suivantes : AzureCloud, AzureUSGovernment, AzureChinaCloud.</span><span class="sxs-lookup"><span data-stu-id="4714e-403">This can be one of three values - AzureCloud,AzureUSGovernment, AzureChinaCloud.</span></span> <span data-ttu-id="4714e-404">La valeur par défaut est AzureCloud.</span><span class="sxs-lookup"><span data-stu-id="4714e-404">Default is AzureCloud.</span></span> <span data-ttu-id="4714e-405">Utilisez ce paramètre lorsque votre région Azure cible correspond à des clouds Azure - Gouvernement des États-Unis ou Azure - Chine.</span><span class="sxs-lookup"><span data-stu-id="4714e-405">Use the parameter when your target Azure region is either Azure US Government or Azure China clouds.</span></span> |

<span data-ttu-id="4714e-406">L’outil crée plusieurs fichiers asrvhdfile<#>.vhd de 64 Mo (où # représente le nombre de fichiers) dans le répertoire spécifié.</span><span class="sxs-lookup"><span data-stu-id="4714e-406">The tool creates several 64-MB asrvhdfile<#>.vhd files (where "#" is the number of files) on the specified directory.</span></span> <span data-ttu-id="4714e-407">L’outil charge ces fichiers sur le compte de stockage pour déterminer le débit.</span><span class="sxs-lookup"><span data-stu-id="4714e-407">The tool uploads the files to the storage account to find the throughput.</span></span> <span data-ttu-id="4714e-408">Une fois le débit mesuré, l’outil supprime tous les fichiers du compte de stockage et du serveur local.</span><span class="sxs-lookup"><span data-stu-id="4714e-408">After the throughput is measured, the tool deletes all the files from the storage account and from the local server.</span></span> <span data-ttu-id="4714e-409">Si l’outil est interrompu pour une raison quelconque alors qu’il calcule le débit, cela ne supprime pas les fichiers du stockage ou du serveur local.</span><span class="sxs-lookup"><span data-stu-id="4714e-409">If the tool is terminated for any reason while it is calculating throughput, it doesn't delete the files from the storage or from the local server.</span></span> <span data-ttu-id="4714e-410">Vous devrez les supprimer manuellement.</span><span class="sxs-lookup"><span data-stu-id="4714e-410">You will have to delete them manually.</span></span>

<span data-ttu-id="4714e-411">Le débit est mesuré à un moment donné et il s’agit du débit maximal que Site Recovery peut atteindre lors d’une réplication, sous réserve que tous les autres facteurs restent identiques.</span><span class="sxs-lookup"><span data-stu-id="4714e-411">The throughput is measured at a specified point in time, and it is the maximum throughput that Site Recovery can achieve during replication, provided that all other factors remain the same.</span></span> <span data-ttu-id="4714e-412">Par exemple, si une application commence à consommer davantage de bande passante sur le même réseau, le débit réel varie pendant la réplication.</span><span class="sxs-lookup"><span data-stu-id="4714e-412">For example, if any application starts consuming more bandwidth on the same network, the actual throughput varies during replication.</span></span> <span data-ttu-id="4714e-413">Si vous exécutez la commande GetThroughput à partir d’un serveur de configuration, l’outil ne reconnaît pas les machines virtuelles protégées ni la réplication en cours.</span><span class="sxs-lookup"><span data-stu-id="4714e-413">If you are running the GetThroughput command from a configuration server, the tool is unaware of any protected VMs and ongoing replication.</span></span> <span data-ttu-id="4714e-414">Le résultat du débit mesuré est différent si l’opération GetThroughput est exécutée lorsque les machines virtuelles protégées présentent des taux d’activité élevés.</span><span class="sxs-lookup"><span data-stu-id="4714e-414">The result of the measured throughput is different if the GetThroughput operation is run when the protected VMs have high data churn.</span></span> <span data-ttu-id="4714e-415">Nous vous recommandons d’exécuter l’outil à différents moments dans le temps pendant le profilage pour comprendre les niveaux de débit pouvant être atteints à des moments différents.</span><span class="sxs-lookup"><span data-stu-id="4714e-415">We recommend that you run the tool at various points in time during profiling to understand what throughput levels can be achieved at various times.</span></span> <span data-ttu-id="4714e-416">Dans le rapport, l’outil affiche le dernier débit mesuré.</span><span class="sxs-lookup"><span data-stu-id="4714e-416">In the report, the tool shows the last measured throughput.</span></span>

### <a name="example"></a><span data-ttu-id="4714e-417">Exemple</span><span class="sxs-lookup"><span data-stu-id="4714e-417">Example</span></span>
```
ASRDeploymentPlanner.exe -Operation GetThroughput -Directory  E:\vCenter1_ProfiledData -VMListFile E:\vCenter1_ProfiledData\ProfileVMList1.txt  -StorageAccountName  asrspfarm1 -StorageAccountKey by8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==
```

>[!NOTE]
>
> <span data-ttu-id="4714e-418">Exécutez l’outil sur un serveur doté des mêmes caractéristiques de stockage et de processeur que le serveur de configuration.</span><span class="sxs-lookup"><span data-stu-id="4714e-418">Run the tool on a server that has the same storage and CPU characteristics as the configuration server.</span></span>
>
> <span data-ttu-id="4714e-419">Pour la réplication, définissez la bande passante recommandée pour atteindre le RPO souhaité en permanence.</span><span class="sxs-lookup"><span data-stu-id="4714e-419">For replication, set the recommended bandwidth to meet the RPO 100 percent of the time.</span></span> <span data-ttu-id="4714e-420">Après avoir défini la bande passante appropriée, si vous ne constatez pas d’augmentation du débit atteint signalé par l’outil, vérifiez les points suivants :</span><span class="sxs-lookup"><span data-stu-id="4714e-420">After you set the right bandwidth, if you don’t see an increase in the achieved throughput reported by the tool, do the following:</span></span>
>
>  1. <span data-ttu-id="4714e-421">Vérifiez si un réseau Qualité de Service (QoS) limite le débit Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="4714e-421">Check to determine whether there is any network Quality of Service (QoS) that is limiting Site Recovery throughput.</span></span>
>
>  2. <span data-ttu-id="4714e-422">Vérifiez si votre coffre Site Recovery se trouve dans la région Microsoft Azure physique prise en charge la plus proche pour réduire la latence du réseau.</span><span class="sxs-lookup"><span data-stu-id="4714e-422">Check to determine whether your Site Recovery vault is in the nearest physically supported Microsoft Azure region to minimize network latency.</span></span>
>
>  3. <span data-ttu-id="4714e-423">Vérifiez les caractéristiques de stockage local pour déterminer si vous pouvez améliorer le matériel (par exemple, passer d’un disque dur à un disque SSD).</span><span class="sxs-lookup"><span data-stu-id="4714e-423">Check your local storage characteristics to determine whether you can improve the hardware (for example, HDD to SSD).</span></span>
>
>  4. <span data-ttu-id="4714e-424">Modifiez les paramètres Site Recovery sur le serveur de processus pour [augmenter la quantité de bande passante réseau utilisée pour la réplication](./site-recovery-plan-capacity-vmware.md#control-network-bandwidth).</span><span class="sxs-lookup"><span data-stu-id="4714e-424">Change the Site Recovery settings in the process server to [increase the amount of network bandwidth used for replication](./site-recovery-plan-capacity-vmware.md#control-network-bandwidth).</span></span>

## <a name="recommendations-with-desired-rpo-as-input"></a><span data-ttu-id="4714e-425">Recommandations liées au RPO souhaité en tant qu’entrée</span><span class="sxs-lookup"><span data-stu-id="4714e-425">Recommendations with desired RPO as input</span></span>

### <a name="profiled-data"></a><span data-ttu-id="4714e-426">Données profilées</span><span class="sxs-lookup"><span data-stu-id="4714e-426">Profiled data</span></span>

![La vue des données profilées dans le Deployment planner](./media/site-recovery-deployment-planner/profiled-data-period.png)

<span data-ttu-id="4714e-428">**Profiled data period**: la période pendant laquelle le profilage a été exécuté.</span><span class="sxs-lookup"><span data-stu-id="4714e-428">**Profiled data period**: The period during which the profiling was run.</span></span> <span data-ttu-id="4714e-429">Par défaut, l’outil inclut toutes les données profilées pour le calcul, sauf s’il génère le rapport pour une période spécifique à l’aide des options StartDate et EndDate pendant la génération du rapport.</span><span class="sxs-lookup"><span data-stu-id="4714e-429">By default, the tool includes all profiled data in the calculation, unless it generates the report for a specific period by using StartDate and EndDate options during report generation.</span></span>

<span data-ttu-id="4714e-430">**Server Name** : le nom ou l’adresse IP de VMware vCenter ou de l’hôte ESXi dont le rapport des machines virtuelles est généré.</span><span class="sxs-lookup"><span data-stu-id="4714e-430">**Server Name**: The name or IP address of the VMware vCenter or ESXi host whose VMs’ report is generated.</span></span>

<span data-ttu-id="4714e-431">**Desired RPO** :l’objectif de point de récupération (RPO) de votre déploiement.</span><span class="sxs-lookup"><span data-stu-id="4714e-431">**Desired RPO**: The recovery point objective for your deployment.</span></span> <span data-ttu-id="4714e-432">Par défaut, la bande passante réseau requise est calculée pour les valeurs RPO de 15, 30 et 60 minutes.</span><span class="sxs-lookup"><span data-stu-id="4714e-432">By default, the required network bandwidth is calculated for RPO values of 15, 30, and 60 minutes.</span></span> <span data-ttu-id="4714e-433">En fonction de la sélection, les valeurs concernées sont mises à jour sur la feuille.</span><span class="sxs-lookup"><span data-stu-id="4714e-433">Based on the selection, the affected values are updated on the sheet.</span></span> <span data-ttu-id="4714e-434">Si vous avez utilisé le paramètre *DesiredRPOinMin* lors de la génération du rapport, cette valeur est affichée dans le résultat Desired RPO.</span><span class="sxs-lookup"><span data-stu-id="4714e-434">If you have used the *DesiredRPOinMin* parameter while generating the report, that value is shown in the Desired RPO result.</span></span>

### <a name="profiling-overview"></a><span data-ttu-id="4714e-435">Vue d’ensemble du profilage</span><span class="sxs-lookup"><span data-stu-id="4714e-435">Profiling overview</span></span>

![Résultats de profilage dans le Deployment planner](./media/site-recovery-deployment-planner/profiling-overview.png)

<span data-ttu-id="4714e-437">**Total Profiled Virtual Machines** : le nombre total de machines virtuelles dont les données profilées sont disponibles.</span><span class="sxs-lookup"><span data-stu-id="4714e-437">**Total Profiled Virtual Machines**: The total number of VMs whose profiled data is available.</span></span> <span data-ttu-id="4714e-438">Si le fichier VMListFile contient des noms de machines virtuelles qui n’ont pas été profilées, celles-ci ne sont pas prises en compte dans la génération de rapport et sont exclues du nombre total de machines virtuelles profilées.</span><span class="sxs-lookup"><span data-stu-id="4714e-438">If the VMListFile has names of any VMs which were not profiled, those VMs are not considered in the report generation and are excluded from the total profiled VMs count.</span></span>

<span data-ttu-id="4714e-439">**Compatible Virtual Machines** : le nombre de machines virtuelles pouvant être protégées dans Azure à l’aide de Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="4714e-439">**Compatible Virtual Machines**: The number of VMs that can be protected to Azure by using Site Recovery.</span></span> <span data-ttu-id="4714e-440">Il s’agit du nombre total de machines virtuelles compatibles pour lesquelles la bande passante réseau requise, le nombre de comptes de stockage, le nombre de cœurs Azure et le nombre de serveurs de configuration et de serveurs de processus supplémentaires sont calculés.</span><span class="sxs-lookup"><span data-stu-id="4714e-440">It is the total number of compatible VMs for which the required network bandwidth, number of storage accounts, number of Azure cores, and number of configuration servers and additional process servers are calculated.</span></span> <span data-ttu-id="4714e-441">Les détails de chaque machine virtuelle compatible sont disponibles dans la section « Machines virtuelles compatibles ».</span><span class="sxs-lookup"><span data-stu-id="4714e-441">The details of every compatible VM are available in the "Compatible VMs" section.</span></span>

<span data-ttu-id="4714e-442">**Incompatible Virtual Machines** : le nombre de machines virtuelles qui sont incompatibles pour la protection assurée avec Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="4714e-442">**Incompatible Virtual Machines**: The number of profiled VMs that are incompatible for protection with Site Recovery.</span></span> <span data-ttu-id="4714e-443">Les raisons de l’incompatibilité sont indiquées dans la section Machines virtuelles incompatibles.</span><span class="sxs-lookup"><span data-stu-id="4714e-443">The reasons for incompatibility are noted in the "Incompatible VMs" section.</span></span> <span data-ttu-id="4714e-444">Si VMListFile contient des noms de machines virtuelles qui n’ont pas été profilées, ces machines virtuelles sont exclues du nombre de machines virtuelles incompatibles.</span><span class="sxs-lookup"><span data-stu-id="4714e-444">If the VMListFile has names of any VMs that were not profiled, those VMs are excluded from the incompatible VMs count.</span></span> <span data-ttu-id="4714e-445">Ces machines virtuelles sont répertoriées comme « Data not found » à la fin de la section Machines virtuelles incompatibles.</span><span class="sxs-lookup"><span data-stu-id="4714e-445">These VMs are listed as "Data not found" at the end of the "Incompatible VMs" section.</span></span>

<span data-ttu-id="4714e-446">**Desired RPO** : votre objectif de point de récupération souhaité, en minutes.</span><span class="sxs-lookup"><span data-stu-id="4714e-446">**Desired RPO**: Your desired recovery point objective, in minutes.</span></span> <span data-ttu-id="4714e-447">Le rapport est généré pour les trois valeurs RPO : 15 (valeur par défaut), 30 et 60 minutes.</span><span class="sxs-lookup"><span data-stu-id="4714e-447">The report is generated for three RPO values: 15 (default), 30, and 60 minutes.</span></span> <span data-ttu-id="4714e-448">La recommandation de la bande passante dans le rapport est modifiée en fonction de votre sélection dans la liste déroulante « Desired RPO » dans l’angle supérieur droit de la feuille.</span><span class="sxs-lookup"><span data-stu-id="4714e-448">The bandwidth recommendation in the report is changed based on your selection in the Desired RPO drop-down list at the top right of the sheet.</span></span> <span data-ttu-id="4714e-449">Si vous avez généré le rapport à l’aide du paramètre *-DesiredRPO* avec une valeur personnalisée, cette valeur personnalisée s’affiche par défaut dans la liste déroulante « Desired RPO ».</span><span class="sxs-lookup"><span data-stu-id="4714e-449">If you have generated the report by using the *-DesiredRPO* parameter with a custom value, this custom value will show as the default in the Desired RPO drop-down list.</span></span>

### <a name="required-network-bandwidth-mbps"></a><span data-ttu-id="4714e-450">Bande passante réseau requise (Mbits/s)</span><span class="sxs-lookup"><span data-stu-id="4714e-450">Required network bandwidth (Mbps)</span></span>

![Bande passante réseau requise dans le Deployment planner](./media/site-recovery-deployment-planner/required-network-bandwidth.png)

<span data-ttu-id="4714e-452">**To meet RPO 100 percent of the time :** la bande passante recommandée en Mbits/s à allouer pour atteindre votre RPO souhaité 100 pour cent du temps.</span><span class="sxs-lookup"><span data-stu-id="4714e-452">**To meet RPO 100 percent of the time:** The recommended bandwidth in Mbps to be allocated to meet your desired RPO 100 percent of the time.</span></span> <span data-ttu-id="4714e-453">Cette quantité de bande passante doit être dédiée à la réplication différentielle à l’état stable de toutes vos machines virtuelles compatibles afin d’éviter toute violation de RPO.</span><span class="sxs-lookup"><span data-stu-id="4714e-453">This amount of bandwidth must be dedicated for steady-state delta replication of all your compatible VMs to avoid any RPO violations.</span></span>

<span data-ttu-id="4714e-454">**To meet RPO 90 percent of the time :** en raison de la tarification haut débit ou pour toute autre raison, si vous ne pouvez pas configurer la bande passante nécessaire pour atteindre votre RPO souhaité 100 pour cent du temps, vous pouvez choisir un paramètre de bande passante inférieure pouvant satisfaire votre RPO souhaité 90 pour cent du temps.</span><span class="sxs-lookup"><span data-stu-id="4714e-454">**To meet RPO 90 percent of the time**: Because of broadband pricing or for any other reason, if you cannot set the bandwidth needed to meet your desired RPO 100 percent of the time, you can choose to go with a lower bandwidth setting that can meet your desired RPO 90 percent of the time.</span></span> <span data-ttu-id="4714e-455">Pour comprendre les implications de la configuration de cette bande passante réduite, le rapport fournit une analyse par simulation du nombre et de la durée de violations de RPO à attendre.</span><span class="sxs-lookup"><span data-stu-id="4714e-455">To understand the implications of setting this lower bandwidth, the report provides a what-if analysis on the number and duration of RPO violations to expect.</span></span>

<span data-ttu-id="4714e-456">**Achieved Throughput :** le débit du serveur sur lequel vous avez exécuté la commande GetThroughput pour la région Microsoft Azure où se trouve le compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="4714e-456">**Achieved Throughput:** The throughput from the server on which you have run the GetThroughput command to the Microsoft Azure region where the storage account is located.</span></span> <span data-ttu-id="4714e-457">Cette valeur de débit indique le niveau estimé que vous pouvez obtenir lorsque vous protégez les machines virtuelles compatibles à l’aide de Site Recovery, sous réserve que les caractéristiques de réseau et de stockage du serveur de configuration/serveur de processus demeurent identiques à celles du serveur à partir duquel vous avez exécuté l’outil.</span><span class="sxs-lookup"><span data-stu-id="4714e-457">This throughput number indicates the estimated level that you can achieve when you protect the compatible VMs by using Site Recovery, provided that your configuration server or process server storage and network characteristics remain the same as that of the server from which you have run the tool.</span></span>

<span data-ttu-id="4714e-458">Pour la réplication, vous devez définir la bande passante recommandée pour atteindre le RPO souhaité en permanence.</span><span class="sxs-lookup"><span data-stu-id="4714e-458">For replication, you should set the recommended bandwidth to meet the RPO 100 percent of the time.</span></span> <span data-ttu-id="4714e-459">Après avoir défini la bande passante, si vous ne constatez pas d’augmentation du débit atteint signalé par l’outil, vérifiez les points suivants :</span><span class="sxs-lookup"><span data-stu-id="4714e-459">After you set the bandwidth, if you don’t see any increase in the achieved throughput, as reported by the tool, do the following:</span></span>

1. <span data-ttu-id="4714e-460">Vérifiez si un réseau Qualité de Service (QoS) limite le débit Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="4714e-460">Check to see whether there is any network Quality of Service (QoS) that is limiting Site Recovery throughput.</span></span>

2. <span data-ttu-id="4714e-461">Vérifiez si votre coffre Site Recovery se trouve dans la région Microsoft Azure physique prise en charge la plus proche pour réduire la latence du réseau.</span><span class="sxs-lookup"><span data-stu-id="4714e-461">Check to see whether your Site Recovery vault is in the nearest physically supported Microsoft Azure region to minimize network latency.</span></span>

3. <span data-ttu-id="4714e-462">Vérifiez les caractéristiques de stockage local pour déterminer si vous pouvez améliorer le matériel (par exemple, passer d’un disque dur à un disque SSD).</span><span class="sxs-lookup"><span data-stu-id="4714e-462">Check your local storage characteristics to determine whether you can improve the hardware (for example, HDD to SSD).</span></span>

4. <span data-ttu-id="4714e-463">Modifiez les paramètres Site Recovery sur le serveur de processus pour [augmenter la quantité de bande passante réseau utilisée pour la réplication](./site-recovery-plan-capacity-vmware.md#control-network-bandwidth).</span><span class="sxs-lookup"><span data-stu-id="4714e-463">Change the Site Recovery settings in the process server to [increase the amount network bandwidth used for replication](./site-recovery-plan-capacity-vmware.md#control-network-bandwidth).</span></span>

<span data-ttu-id="4714e-464">Si vous exécutez l’outil sur un serveur de configuration ou un serveur de processus qui a déjà protégé les machines virtuelles, exécutez l’outil plusieurs fois.</span><span class="sxs-lookup"><span data-stu-id="4714e-464">If you are running the tool on a configuration server or process server that already has protected VMs, run the tool a few times.</span></span> <span data-ttu-id="4714e-465">La valeur de débit atteint change selon la quantité des données d’activité en cours de traitement à ce moment précis.</span><span class="sxs-lookup"><span data-stu-id="4714e-465">The achieved throughput number changes depending on the amount of churn being processed at that point in time.</span></span>

<span data-ttu-id="4714e-466">Pour tous les déploiements Site Recovery d’entreprise, nous vous recommandons d’utiliser [ExpressRoute](https://aka.ms/expressroute).</span><span class="sxs-lookup"><span data-stu-id="4714e-466">For all enterprise Site Recovery deployments, we recommend that you use [ExpressRoute](https://aka.ms/expressroute).</span></span>

### <a name="required-storage-accounts"></a><span data-ttu-id="4714e-467">Comptes de stockage requis</span><span class="sxs-lookup"><span data-stu-id="4714e-467">Required storage accounts</span></span>
<span data-ttu-id="4714e-468">Le graphique suivant indique le nombre total de comptes de stockage (standard et premium) nécessaires pour protéger toutes les machines virtuelles compatibles.</span><span class="sxs-lookup"><span data-stu-id="4714e-468">The following chart shows the total number of storage accounts (standard and premium) that are required to protect all the compatible VMs.</span></span> <span data-ttu-id="4714e-469">Pour savoir quel compte de stockage utiliser pour chaque machine virtuelle, consultez la section « VM-storage placement ».</span><span class="sxs-lookup"><span data-stu-id="4714e-469">To learn which storage account to use for each VM, see the "VM-storage placement" section.</span></span>

![Comptes de stockage requis dans Deployment planner](./media/site-recovery-deployment-planner/required-azure-storage-accounts.png)

### <a name="required-number-of-azure-cores"></a><span data-ttu-id="4714e-471">Required number of Azure cores</span><span class="sxs-lookup"><span data-stu-id="4714e-471">Required number of Azure cores</span></span>
<span data-ttu-id="4714e-472">Il s’agit du nombre total de cœurs à configurer avant le basculement ou le test de basculement de l’ensemble des machines virtuelles compatibles.</span><span class="sxs-lookup"><span data-stu-id="4714e-472">This result is the total number of cores to be set up before failover or test failover of all the compatible VMs.</span></span> <span data-ttu-id="4714e-473">Si un nombre insuffisant de cœurs est disponible dans l’abonnement, Site Recovery ne peut pas créer de machines virtuelles au moment du basculement ou du test de basculement.</span><span class="sxs-lookup"><span data-stu-id="4714e-473">If too few cores are available in the subscription, Site Recovery fails to create VMs at the time of test failover or failover.</span></span>

![Nombre de cœurs Azure dans Deployment planner](./media/site-recovery-deployment-planner/required-number-of-azure-cores.png)

### <a name="required-on-premises-infrastructure"></a><span data-ttu-id="4714e-475">Required on-premises infrastructure</span><span class="sxs-lookup"><span data-stu-id="4714e-475">Required on-premises infrastructure</span></span>
<span data-ttu-id="4714e-476">Il s’agit du nombre total de serveurs de processus supplémentaires et de serveurs de configuration à configurer qui suffirait pour protéger toutes les machines virtuelles compatibles.</span><span class="sxs-lookup"><span data-stu-id="4714e-476">This figure is the total number of configuration servers and additional process servers to be configured that would suffice to protect all the compatible VMs.</span></span> <span data-ttu-id="4714e-477">En fonction des [recommandations de taille pour le serveur de configuration](https://aka.ms/asr-v2a-on-prem-components) prises en charge, l’outil peut recommander des serveurs supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="4714e-477">Depending on the supported [size recommendations for the configuration server](https://aka.ms/asr-v2a-on-prem-components), the tool might recommend additional servers.</span></span> <span data-ttu-id="4714e-478">La recommandation est basée sur la valeur la plus élevée entre l’activité quotidienne et le nombre maximal de machines virtuelles protégées (en partant d’une moyenne de trois disques par machine virtuelle), peu importe que le serveur de configuration ou le serveur de processus supplémentaire soit atteint en premier.</span><span class="sxs-lookup"><span data-stu-id="4714e-478">The recommendation is based on the larger of either the per-day churn or the maximum number of protected VMs (assuming an average of three disks per VM), whichever is hit first on the configuration server or the additional process server.</span></span> <span data-ttu-id="4714e-479">Vous trouverez tous les détails de l’activité totale quotidienne et du nombre total de disques protégés se trouvent dans la section Input.</span><span class="sxs-lookup"><span data-stu-id="4714e-479">You'll find the details of total churn per day and total number of protected disks in the "Input" section.</span></span>

![Infrastructure locale requise dans Deployment planner](./media/site-recovery-deployment-planner/required-on-premises-infrastructure.png)

### <a name="what-if-analysis"></a><span data-ttu-id="4714e-481">Analyse de scénarios</span><span class="sxs-lookup"><span data-stu-id="4714e-481">What-if analysis</span></span>
<span data-ttu-id="4714e-482">Cette analyse indique le nombre de violations susceptibles de se produire pendant la période de profilage lorsque vous configurez une bande passante plus faible pour que le RPO souhaité ne soit rempli que 90 pour cent du temps.</span><span class="sxs-lookup"><span data-stu-id="4714e-482">This analysis outlines how many violations could occur during the profiling period when you set a lower bandwidth for the desired RPO to be met only 90 percent of the time.</span></span> <span data-ttu-id="4714e-483">Une ou plusieurs violations de RPO peuvent se produire sur un jour donné.</span><span class="sxs-lookup"><span data-stu-id="4714e-483">One or more RPO violations can occur on any given day.</span></span> <span data-ttu-id="4714e-484">Le graphique affiche le pic RPO de la journée.</span><span class="sxs-lookup"><span data-stu-id="4714e-484">The graph shows the peak RPO of the day.</span></span>
<span data-ttu-id="4714e-485">En vous appuyant sur cette analyse, vous pouvez décider si le nombre de violations de RPO tous les jours et d’accès RPO maximal par jour est acceptable avec la bande passante inférieure spécifiée.</span><span class="sxs-lookup"><span data-stu-id="4714e-485">Based on this analysis, you can decide if the number of RPO violations across all days and peak RPO hit per day is acceptable with the specified lower bandwidth.</span></span> <span data-ttu-id="4714e-486">S’il est acceptable, vous pouvez allouer la bande passante inférieure pour la réplication. Sinon, allouez la bande passante supérieure, comme suggéré pour atteindre le RPO souhaité 100 pour cent du temps.</span><span class="sxs-lookup"><span data-stu-id="4714e-486">If it is acceptable, you can allocate the lower bandwidth for replication, else allocate the higher bandwidth as suggested to meet the desired RPO 100 percent of the time.</span></span>

![Analyse de scénarios dans Deployment planner](./media/site-recovery-deployment-planner/what-if-analysis.png)

### <a name="recommended-vm-batch-size-for-initial-replication"></a><span data-ttu-id="4714e-488">Recommended VM batch size for initial replication</span><span class="sxs-lookup"><span data-stu-id="4714e-488">Recommended VM batch size for initial replication</span></span>
<span data-ttu-id="4714e-489">Dans cette section, nous recommandons le nombre de machines virtuelles qui peuvent être protégées en parallèle pour effectuer la réplication initiale dans les 72 heures avec la bande passante suggérée pour respecter le RPO souhaité en permanence.</span><span class="sxs-lookup"><span data-stu-id="4714e-489">In this section, we recommend the number of VMs that can be protected in parallel to complete the initial replication within 72 hours with the suggested bandwidth to meet desired RPO 100 percent of the time being set.</span></span> <span data-ttu-id="4714e-490">Cette valeur est configurable.</span><span class="sxs-lookup"><span data-stu-id="4714e-490">This value is configurable value.</span></span> <span data-ttu-id="4714e-491">Pour modifier cette valeur au moment de la génération de rapports, utilisez le paramètre *GoalToCompleteIR*.</span><span class="sxs-lookup"><span data-stu-id="4714e-491">To change it at report-generation time, use the *GoalToCompleteIR* parameter.</span></span>

<span data-ttu-id="4714e-492">Ce graphique affiche une plage de valeurs de bande passante et un nombre de tailles de lot de machines virtuelles pour effectuer une réplication initiale en 72 heures en fonction de la taille moyenne de machine virtuelle détectée sur toutes les machines virtuelles compatibles.</span><span class="sxs-lookup"><span data-stu-id="4714e-492">The graph here shows a range of bandwidth values and a calculated VM batch size count to complete initial replication in 72 hours, based on the average detected VM size across all the compatible VMs.</span></span>

<span data-ttu-id="4714e-493">Dans la préversion publique, le rapport ne spécifie pas les machines virtuelles à inclure dans un lot.</span><span class="sxs-lookup"><span data-stu-id="4714e-493">In the public preview, the report does not specify which VMs should be included in a batch.</span></span> <span data-ttu-id="4714e-494">Vous pouvez utiliser la taille de disque indiquée dans la section « Machines virtuelles compatibles » pour déterminer la taille de chaque machine virtuelle, et sélectionner des machines virtuelles pour un lot, ou les sélectionner en fonction des caractéristiques de charge de travail connues.</span><span class="sxs-lookup"><span data-stu-id="4714e-494">You can use the disk size shown in the "Compatible VMs" section to find each VM’s size and select them for a batch, or you can select the VMs based on known workload characteristics.</span></span> <span data-ttu-id="4714e-495">La durée d’exécution de la réplication initiale change proportionnellement en fonction de la taille de disque réelle des machines virtuelles, de l’espace disque utilisé et du débit réseau disponible.</span><span class="sxs-lookup"><span data-stu-id="4714e-495">The completion time of the initial replication changes proportionally, based on the actual VM disk size, used disk space, and available network throughput.</span></span>

![Taille de lot recommandée de machines virtuelles](./media/site-recovery-deployment-planner/recommended-vm-batch-size.png)

### <a name="growth-factor-and-percentile-values-used"></a><span data-ttu-id="4714e-497">Growth factor and percentile values used</span><span class="sxs-lookup"><span data-stu-id="4714e-497">Growth factor and percentile values used</span></span>
<span data-ttu-id="4714e-498">Cette section figurant en bas de la feuille indique la valeur de centile utilisé pour tous les compteurs de performances des machines virtuelles profilées (par défaut : 95e centile) et le facteur de croissance (par défaut : 30 %) qui est utilisé dans tous les calculs.</span><span class="sxs-lookup"><span data-stu-id="4714e-498">This section at the bottom of the sheet shows the percentile value used for all the performance counters of the profiled VMs (default is 95th percentile), and the growth factor (default is 30 percent) that's used in all the calculations.</span></span>

![Growth factor and percentile values used](./media/site-recovery-deployment-planner/max-iops-and-data-churn-setting.png)

## <a name="recommendations-with-available-bandwidth-as-input"></a><span data-ttu-id="4714e-500">Recommandations relatives à la bande passante disponible comme entrée</span><span class="sxs-lookup"><span data-stu-id="4714e-500">Recommendations with available bandwidth as input</span></span>

![Recommandations relatives à la bande passante disponible comme entrée](./media/site-recovery-deployment-planner/profiling-overview-bandwidth-input.png)

<span data-ttu-id="4714e-502">Vous pouvez vous trouver dans une situation dans laquelle vous ne pouvez pas configurer une bande passante supérieure à x Mbits/s pour la réplication Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="4714e-502">You might have a situation where you know that you cannot set a bandwidth of more than x Mbps for Site Recovery replication.</span></span> <span data-ttu-id="4714e-503">L’outil vous permet d’entrer la bande passante disponible (à l’aide du paramètre -Bandwidth lors de la génération de rapport) et d’obtenir le RPO réalisable en minutes.</span><span class="sxs-lookup"><span data-stu-id="4714e-503">The tool allows you to input available bandwidth (using the -Bandwidth parameter during report generation) and get the achievable RPO in minutes.</span></span> <span data-ttu-id="4714e-504">Avec cette valeur de RPO réalisable, vous pouvez choisir de configurer une bande passante supplémentaire ou vous contenter d’une solution de récupération d’urgence avec ce RPO.</span><span class="sxs-lookup"><span data-stu-id="4714e-504">With this achievable RPO value, you can decide whether you need to set up additional bandwidth or you are OK with having a disaster recovery solution with this RPO.</span></span>

![RPO possible pour une bande passante de 500 Mbits/s](./media/site-recovery-deployment-planner/achievable-rpos.png)

## <a name="input"></a><span data-ttu-id="4714e-506">Entrée</span><span class="sxs-lookup"><span data-stu-id="4714e-506">Input</span></span>
<span data-ttu-id="4714e-507">La feuille de calcul Input fournit une vue d’ensemble de l’environnement VMware profilé.</span><span class="sxs-lookup"><span data-stu-id="4714e-507">The Input worksheet provides an overview of the profiled VMware environment.</span></span>

![Vue d’ensemble de l’environnement VMware profilé](./media/site-recovery-deployment-planner/Input.png)

<span data-ttu-id="4714e-509">**Start Date** et **End Date** : les dates de début et de fin du profilage des données prises en compte pour la génération de rapport.</span><span class="sxs-lookup"><span data-stu-id="4714e-509">**Start Date** and **End Date**: The start and end dates of the profiling data considered for report generation.</span></span> <span data-ttu-id="4714e-510">Par défaut, la date de début est la date à laquelle le profilage démarre, et la date de fin est la date à laquelle le profilage s’arrête.</span><span class="sxs-lookup"><span data-stu-id="4714e-510">By default, the start date is the date when profiling starts, and the end date is the date when profiling stops.</span></span> <span data-ttu-id="4714e-511">Il peut s’agir des valeurs StartDate et EndDate si le rapport est généré avec ces paramètres.</span><span class="sxs-lookup"><span data-stu-id="4714e-511">This can be the ‘StartDate’ and ‘EndDate’ values if the report is generated with these parameters.</span></span>

<span data-ttu-id="4714e-512">**Total number of profiling days** : le nombre total de jours de profilage compris entre les dates de début et de fin pendant lesquelles le rapport est généré.</span><span class="sxs-lookup"><span data-stu-id="4714e-512">**Total number of profiling days**: The total number of days of profiling between the start and end dates for which the report is generated.</span></span>

<span data-ttu-id="4714e-513">**Number of compatible virtual machines** : le nombre total de machines virtuelles compatibles pour lesquelles la bande passante réseau requise, ainsi que le nombre requis de comptes de stockage, de cœurs Microsoft Azure et de serveurs de processus supplémentaires et de serveurs de configuration sont calculés.</span><span class="sxs-lookup"><span data-stu-id="4714e-513">**Number of compatible virtual machines**: The total number of compatible VMs for which the required network bandwidth, required number of storage accounts, Microsoft Azure cores, configuration servers and additional process servers are calculated.</span></span>

<span data-ttu-id="4714e-514">**Total number of disks across all compatible virtual machines** : ce nombre est utilisé comme nombre d’entrées pour déterminer le nombre de serveurs de processus supplémentaires et de serveurs de configuration à utiliser dans le déploiement.</span><span class="sxs-lookup"><span data-stu-id="4714e-514">**Total number of disks across all compatible virtual machines**: The number that's used as one of the inputs to decide the number of configuration servers and additional process servers to be used in the deployment.</span></span>

<span data-ttu-id="4714e-515">**Average number of disks per compatible virtual machine** : le nombre moyen de disques calculé sur toutes les machines virtuelles compatibles.</span><span class="sxs-lookup"><span data-stu-id="4714e-515">**Average number of disks per compatible virtual machine**: The average number of disks calculated across all compatible VMs.</span></span>

<span data-ttu-id="4714e-516">**Average disk size (GB)** : la taille de disque moyenne calculée sur toutes les machines virtuelles compatibles.</span><span class="sxs-lookup"><span data-stu-id="4714e-516">**Average disk size (GB)**: The average disk size calculated across all compatible VMs.</span></span>

<span data-ttu-id="4714e-517">**Desired RPO (minutes)** : l’objectif de point de récupération par défaut ou la valeur transmise pour le paramètre DesiredRPO au moment de la génération de rapport pour estimer la bande passante requise.</span><span class="sxs-lookup"><span data-stu-id="4714e-517">**Desired RPO (minutes)**: Either the default recovery point objective or the value passed for the ‘DesiredRPO’ parameter at the time of report generation to estimate required bandwidth.</span></span>

<span data-ttu-id="4714e-518">**Desired bandwidth (Mbps)** : la valeur que vous avez transmise pour le paramètre Bandwidth au moment de la génération de rapport pour estimer le RPO réalisable.</span><span class="sxs-lookup"><span data-stu-id="4714e-518">**Desired bandwidth (Mbps)**: The value that you have passed for the ‘Bandwidth’ parameter at the time of report generation to estimate achievable RPO.</span></span>

<span data-ttu-id="4714e-519">**Observed typical data churn per day (GB)** : l’activité moyenne des données observée tous les jours de profilage.</span><span class="sxs-lookup"><span data-stu-id="4714e-519">**Observed typical data churn per day (GB)**: The average data churn observed across all profiling days.</span></span> <span data-ttu-id="4714e-520">Ce nombre est utilisé comme nombre d’entrées pour déterminer le nombre de serveurs de processus supplémentaires et de serveurs de configuration à utiliser dans le déploiement.</span><span class="sxs-lookup"><span data-stu-id="4714e-520">This number is used as one of the inputs to decide the number of configuration servers and additional process servers to be used in the deployment.</span></span>


## <a name="vm-storage-placement"></a><span data-ttu-id="4714e-521">VM-storage placement</span><span class="sxs-lookup"><span data-stu-id="4714e-521">VM-storage placement</span></span>

![VM-storage placement](./media/site-recovery-deployment-planner/vm-storage-placement.png)

<span data-ttu-id="4714e-523">**Disk Storage Type** : le compte de stockage standard ou premium utilisé pour répliquer toutes les machines virtuelles correspondantes, mentionnées dans la colonne **VMs to Place**.</span><span class="sxs-lookup"><span data-stu-id="4714e-523">**Disk Storage Type**: Either a standard or premium storage account, which is used to replicate all the corresponding VMs mentioned in the **VMs to Place** column.</span></span>

<span data-ttu-id="4714e-524">**Suggested Prefix** : le préfixe suggéré à trois caractères qui permet de nommer le compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="4714e-524">**Suggested Prefix**: The suggested three-character prefix that can be used for naming the storage account.</span></span> <span data-ttu-id="4714e-525">Vous pouvez utiliser votre propre préfixe, mais la suggestion de l’outil suit la [convention d’affectation de noms aux partitions pour les comptes de stockage](https://aka.ms/storage-performance-checklist).</span><span class="sxs-lookup"><span data-stu-id="4714e-525">You can use your own prefix, but the tool's suggestion follows the [partition naming convention for storage accounts](https://aka.ms/storage-performance-checklist).</span></span>

<span data-ttu-id="4714e-526">**Suggested Account Name** : le nom du compte de stockage après lequel vous incluez le préfixe suggéré.</span><span class="sxs-lookup"><span data-stu-id="4714e-526">**Suggested Account Name**: The storage-account name after you include the suggested prefix.</span></span> <span data-ttu-id="4714e-527">Remplacez le nom entre crochets pointus(< and >) avec votre entrée personnalisée.</span><span class="sxs-lookup"><span data-stu-id="4714e-527">Replace the name within the angle brackets (< and >) with your custom input.</span></span>

<span data-ttu-id="4714e-528">**Log Storage Account :** tous les journaux de réplication sont stockés dans un compte de stockage standard.</span><span class="sxs-lookup"><span data-stu-id="4714e-528">**Log Storage Account**: All the replication logs are stored in a standard storage account.</span></span> <span data-ttu-id="4714e-529">Pour les machines virtuelles qui répliquent vers un compte de stockage premium, configurez un compte de stockage standard supplémentaire pour le stockage des journaux.</span><span class="sxs-lookup"><span data-stu-id="4714e-529">For VMs that replicate to a premium storage account, set up an additional standard storage account for log storage.</span></span> <span data-ttu-id="4714e-530">Un seul et même compte de stockage standard des journaux peut être utilisé par plusieurs comptes de stockage de réplication premium.</span><span class="sxs-lookup"><span data-stu-id="4714e-530">A single standard log-storage account can be used by multiple premium replication storage accounts.</span></span> <span data-ttu-id="4714e-531">Les machines virtuelles qui sont répliquées vers les comptes de stockage standard utilisent le même compte de stockage pour les journaux.</span><span class="sxs-lookup"><span data-stu-id="4714e-531">VMs that are replicated to standard storage accounts use the same storage account for logs.</span></span>

<span data-ttu-id="4714e-532">**Suggested Log Account Name** : le nom de votre compte de stockage des journaux après lequel vous incluez le préfixe suggéré.</span><span class="sxs-lookup"><span data-stu-id="4714e-532">**Suggested Log Account Name**: Your storage log account name after you include the suggested prefix.</span></span> <span data-ttu-id="4714e-533">Remplacez le nom entre crochets pointus(< and >) avec votre entrée personnalisée.</span><span class="sxs-lookup"><span data-stu-id="4714e-533">Replace the name within the angle brackets (< and >) with your custom input.</span></span>

<span data-ttu-id="4714e-534">**Placement Summary** : un résumé de la charge totale des machines virtuelles sur le compte de stockage au moment de la réplication et du test de basculement/basculement.</span><span class="sxs-lookup"><span data-stu-id="4714e-534">**Placement Summary**: A summary of the total VMs' load on the storage account at the time of replication and test failover or failover.</span></span> <span data-ttu-id="4714e-535">Il inclut le nombre total de machines virtuelles mappées au compte de stockage, le total des E/S par seconde de lecture/écriture sur toutes les machines virtuelles placées dans ce compte de stockage, le total des E/S par seconde d’écriture (réplication), la taille totale configurée sur tous les disques ainsi que le nombre total de disques.</span><span class="sxs-lookup"><span data-stu-id="4714e-535">It includes the total number of VMs mapped to the storage account, total read/write IOPS across all VMs being placed in this storage account, total write (replication) IOPS, total setup size across all disks, and total number of disks.</span></span>

<span data-ttu-id="4714e-536">**Virtual Machines to Place** : une liste de toutes les machines virtuelles qui doivent être placées dans le compte de stockage donné pour optimiser les performances et l’utilisation.</span><span class="sxs-lookup"><span data-stu-id="4714e-536">**Virtual Machines to Place**: A list of all the VMs that should be placed on the given storage account for optimal performance and use.</span></span>

## <a name="compatible-vms"></a><span data-ttu-id="4714e-537">Machines virtuelles compatibles</span><span class="sxs-lookup"><span data-stu-id="4714e-537">Compatible VMs</span></span>
![Feuille de calcul Excel des machines virtuelles compatibles](./media/site-recovery-deployment-planner/compatible-vms.png)

<span data-ttu-id="4714e-539">**VM Name** : nom de la machine virtuelle ou adresse IP utilisés dans VMListFile lorsqu’un rapport est généré.</span><span class="sxs-lookup"><span data-stu-id="4714e-539">**VM Name**: The VM name or IP address that's used in the VMListFile when a report is generated.</span></span> <span data-ttu-id="4714e-540">Cette colonne répertorie également les disques (VMDK) qui sont attachés aux machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="4714e-540">This column also lists the disks (VMDKs) that are attached to the VMs.</span></span> <span data-ttu-id="4714e-541">Pour distinguer les machines virtuelles vCenter avec des noms ou des adresses IP en double, les noms incluent le nom de l’hôte ESXi.</span><span class="sxs-lookup"><span data-stu-id="4714e-541">To distinguish vCenter VMs with duplicate names or IP addresses, the names include the ESXi host name.</span></span> <span data-ttu-id="4714e-542">L’hôte ESXi répertorié est celui dans lequel la machine virtuelle a été placée lors de la détection de l’outil pendant le profilage.</span><span class="sxs-lookup"><span data-stu-id="4714e-542">The listed ESXi host is the one where the VM was placed when the tool discovered during the profiling period.</span></span>

<span data-ttu-id="4714e-543">**VM Compatibility** : les valeurs sont **Oui** et **Oui**\*.</span><span class="sxs-lookup"><span data-stu-id="4714e-543">**VM Compatibility**: Values are **Yes** and **Yes**\*.</span></span> <span data-ttu-id="4714e-544">**Oui**\* : pour les instances dans lesquelles la machine virtuelle est adaptée pour [le stockage Premium Azure](https://aka.ms/premium-storage-workload).</span><span class="sxs-lookup"><span data-stu-id="4714e-544">**Yes**\* is for instances in which the VM is a fit for [Azure Premium Storage](https://aka.ms/premium-storage-workload).</span></span> <span data-ttu-id="4714e-545">Ici l’activité élevée profilée ou le disque d’E/S par seconde se classe dans la catégorie P20 ou P30, mais la taille du disque entraîne classification inférieure à P10 ou P20.</span><span class="sxs-lookup"><span data-stu-id="4714e-545">Here, the profiled high-churn or IOPS disk fits in the P20 or P30 category, but the size of the disk causes it to be mapped down to a P10 or P20.</span></span> <span data-ttu-id="4714e-546">Le compte de stockage décide du type de disque de stockage Premium sur lequel mapper un disque, en fonction de sa taille.</span><span class="sxs-lookup"><span data-stu-id="4714e-546">The storage account decides which premium storage disk type to map a disk to, based on its size.</span></span> <span data-ttu-id="4714e-547">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="4714e-547">For example:</span></span>
* <span data-ttu-id="4714e-548">< 128 Go : disque P10.</span><span class="sxs-lookup"><span data-stu-id="4714e-548"><128 GB is a P10.</span></span>
* <span data-ttu-id="4714e-549">128 Go à 512 Go : disque P20.</span><span class="sxs-lookup"><span data-stu-id="4714e-549">128 GB to 512 GB is a P20.</span></span>
* <span data-ttu-id="4714e-550">512 Go à 1024 Go : disque P30.</span><span class="sxs-lookup"><span data-stu-id="4714e-550">512 GB to 1024 GB is a P30.</span></span>
* <span data-ttu-id="4714e-551">1025 Go à 2048 Go : disque P40.</span><span class="sxs-lookup"><span data-stu-id="4714e-551">1025 GB to 2048 GB is a P40.</span></span>
* <span data-ttu-id="4714e-552">2049 Go à 4095 Go : disque P50.</span><span class="sxs-lookup"><span data-stu-id="4714e-552">2049 GB to 4095 GB is a P50.</span></span>

<span data-ttu-id="4714e-553">Si les caractéristiques de charge de travail d’un disque le placent dans la catégorie P20 ou P30, mais que la taille le mappe à un niveau ou à un type de disque de stockage premium inférieur, l’outil marque cette machine virtuelle comme **Oui**\*.</span><span class="sxs-lookup"><span data-stu-id="4714e-553">If the workload characteristics of a disk put it in the P20 or P30 category, but the size maps it down to a lower premium storage disk type, the tool marks that VM as **Yes**\*.</span></span> <span data-ttu-id="4714e-554">L’outil recommande également que vous modifiiez la taille du disque source pour que celui s’adapte au type de disque de stockage premium recommandé, ou que vous modifiiez le type de disque cible après le basculement.</span><span class="sxs-lookup"><span data-stu-id="4714e-554">The tool also recommends that you either change the source disk size to fit into the recommended premium storage disk type or change the target disk type post-failover.</span></span>

<span data-ttu-id="4714e-555">**Storage Type** : standard ou premium.</span><span class="sxs-lookup"><span data-stu-id="4714e-555">**Storage Type**: Standard or premium.</span></span>

<span data-ttu-id="4714e-556">**Suggested Prefix** : le préfixe de compte de stockage à trois caractères.</span><span class="sxs-lookup"><span data-stu-id="4714e-556">**Suggested Prefix**: The three-character storage-account prefix.</span></span>

<span data-ttu-id="4714e-557">**Storage Account** : le nom utilisé par le préfixe du compte de stockage suggéré.</span><span class="sxs-lookup"><span data-stu-id="4714e-557">**Storage Account**: The name that uses the suggested storage-account prefix.</span></span>

<span data-ttu-id="4714e-558">**R/W IOPS (with Growth Factor)** : les opérations d’E/S par seconde de lecture/écriture de la charge de travail de pointe sur le disque (95e centile par défaut), y compris le facteur de croissance futur (30 pour cent par défaut).</span><span class="sxs-lookup"><span data-stu-id="4714e-558">**R/W IOPS (with Growth Factor)**: The peak workload read/write IOPS on the disk (default is 95th percentile), including the future growth factor (default is 30 percent).</span></span> <span data-ttu-id="4714e-559">Notez que les E/S par seconde en lecture/écriture d’une machine virtuelle ne sont pas toujours la somme des E/S par seconde en lecture/écriture des disques individuels de la machine virtuelle, car les E/S par seconde en lecture/écriture de pointe de la machine virtuelle représentent le pic de la somme des E/S par seconde de ses disques individuels pendant chaque minute de la période de profilage.</span><span class="sxs-lookup"><span data-stu-id="4714e-559">Note that the total read/write IOPS of a VM is not always the sum of the VM’s individual disks’ read/write IOPS, because the peak read/write IOPS of the VM is the peak of the sum of its individual disks' read/write IOPS during every minute of the profiling period.</span></span>

<span data-ttu-id="4714e-560">**Data Churn in Mbps (with Growth Factor)** : le taux d’activité de pointe sur le disque (95e centile par défaut), y compris le facteur de croissance futur (30 % par défaut).</span><span class="sxs-lookup"><span data-stu-id="4714e-560">**Data Churn in Mbps (with Growth Factor)**: The peak churn rate on the disk (default is 95th percentile), including the future growth factor (default is 30 percent).</span></span> <span data-ttu-id="4714e-561">Notez que le taux total d’activité des données de la machine virtuelle n’est pas toujours la somme des taux d’activité des données des disques individuels de la machine virtuelle, car le taux d’activité de pointe de la machine virtuelle représente le pic de la somme du taux d’activité de ses disques individuels pendant chaque minute de la période de profilage.</span><span class="sxs-lookup"><span data-stu-id="4714e-561">Note that the total data churn of the VM is not always the sum of the VM’s individual disks’ data churn, because the peak data churn of the VM is the peak of the sum of its individual disks' churn during every minute of the profiling period.</span></span>

<span data-ttu-id="4714e-562">**Azure VM Size** : la taille de machine virtuelle d’Azure Cloud Services mappée idéale pour cette machine virtuelle locale.</span><span class="sxs-lookup"><span data-stu-id="4714e-562">**Azure VM Size**: The ideal mapped Azure Cloud Services virtual-machine size for this on-premises VM.</span></span> <span data-ttu-id="4714e-563">Le mappage est basé sur la mémoire, le nombre de disques/cœurs/cartes réseau de la machine virtuelle locale, et les E/S par seconde en lecture/écriture.</span><span class="sxs-lookup"><span data-stu-id="4714e-563">The mapping is based on the on-premises VM’s memory, number of disks/cores/NICs, and read/write IOPS.</span></span> <span data-ttu-id="4714e-564">La recommandation est toujours la plus petite taille de machine virtuelle Azure qui correspond à toutes les caractéristiques des machines virtuelles locales.</span><span class="sxs-lookup"><span data-stu-id="4714e-564">The recommendation is always the lowest Azure VM size that matches all of the on-premises VM characteristics.</span></span>

<span data-ttu-id="4714e-565">**Number of Disks** : le nombre total de disques de machines virtuelles (VMDK) sur la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4714e-565">**Number of Disks**: The total number of virtual machine disks (VMDKs) on the VM.</span></span>

<span data-ttu-id="4714e-566">**Disk size (GB)** : la taille totale d’installation de tous les disques de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4714e-566">**Disk size (GB)**: The total setup size of all disks of the VM.</span></span> <span data-ttu-id="4714e-567">L’outil affiche également la taille des disques individuels de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4714e-567">The tool also shows the disk size for the individual disks in the VM.</span></span>

<span data-ttu-id="4714e-568">**Cores** : le nombre de cœurs de processeur de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4714e-568">**Cores**: The number of CPU cores on the VM.</span></span>

<span data-ttu-id="4714e-569">**Memory (MB)** : la mémoire RAM de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4714e-569">**Memory (MB)**: The RAM on the VM.</span></span>

<span data-ttu-id="4714e-570">**NICs** : le nombre de cartes réseau de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4714e-570">**NICs**: The number of NICs on the VM.</span></span>

<span data-ttu-id="4714e-571">**Boot Type** : type de démarrage de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4714e-571">**Boot Type**: It is boot type of the VM.</span></span> <span data-ttu-id="4714e-572">Le type de démarrage peut prendre la valeur BIOS ou EFI.</span><span class="sxs-lookup"><span data-stu-id="4714e-572">It can be either BIOS or EFI.</span></span> <span data-ttu-id="4714e-573">Pour l’instant, Azure Site Recovery ne prend en charge que le type de démarrage BIOS.</span><span class="sxs-lookup"><span data-stu-id="4714e-573">Currently Azure Site Recovery supports only BIOS boot type.</span></span> <span data-ttu-id="4714e-574">Toutes les machines virtuelles présentant le type de démarrage EFI sont répertoriées dans la feuille de calcul des machines virtuelles incompatibles.</span><span class="sxs-lookup"><span data-stu-id="4714e-574">All the virtual machines of EFI boot type are listed in Incompatible VMs worksheet.</span></span>

<span data-ttu-id="4714e-575">**OS Type** : type de système d’exploitation de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4714e-575">**OS Type**: The is OS type of the VM.</span></span> <span data-ttu-id="4714e-576">Ce type peut prendre la valeur Windows ou Linux.</span><span class="sxs-lookup"><span data-stu-id="4714e-576">It can be either Windows or Linux or other.</span></span>

## <a name="incompatible-vms"></a><span data-ttu-id="4714e-577">Machines virtuelles incompatibles</span><span class="sxs-lookup"><span data-stu-id="4714e-577">Incompatible VMs</span></span>

![Feuille de calcul Excel des machines virtuelles incompatibles](./media/site-recovery-deployment-planner/incompatible-vms.png)

<span data-ttu-id="4714e-579">**VM Name** : nom de la machine virtuelle ou adresse IP utilisés dans VMListFile lorsqu’un rapport est généré.</span><span class="sxs-lookup"><span data-stu-id="4714e-579">**VM Name**: The VM name or IP address that's used in the VMListFile when a report is generated.</span></span> <span data-ttu-id="4714e-580">Cette colonne répertorie également les disques de machines virtuelles qui sont attachés aux machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="4714e-580">This column also lists the VMDKs that are attached to the VMs.</span></span> <span data-ttu-id="4714e-581">Pour distinguer les machines virtuelles vCenter avec des noms ou des adresses IP en double, les noms incluent le nom de l’hôte ESXi.</span><span class="sxs-lookup"><span data-stu-id="4714e-581">To distinguish vCenter VMs with duplicate names or IP addresses, the names include the ESXi host name.</span></span> <span data-ttu-id="4714e-582">L’hôte ESXi répertorié est celui dans lequel la machine virtuelle a été placée lors de la détection de l’outil pendant le profilage.</span><span class="sxs-lookup"><span data-stu-id="4714e-582">The listed ESXi host is the one where the VM was placed when the tool discovered during the profiling period.</span></span>

<span data-ttu-id="4714e-583">**VM Compatibility** : indique pourquoi la machine virtuelle spécifiée est incompatible avec une utilisation avec Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="4714e-583">**VM Compatibility**: Indicates why the given VM is incompatible for use with Site Recovery.</span></span> <span data-ttu-id="4714e-584">Les raisons sont décrites pour chaque disque incompatible de la machine virtuelle et, en fonction des [limites de stockage](https://aka.ms/azure-storage-scalbility-performance), peuvent figurer parmi les suivantes :</span><span class="sxs-lookup"><span data-stu-id="4714e-584">The reasons are described for each incompatible disk of the VM and, based on published [storage limits](https://aka.ms/azure-storage-scalbility-performance), can be any of the following:</span></span>

* <span data-ttu-id="4714e-585">La taille du disque est > 4095 Go.</span><span class="sxs-lookup"><span data-stu-id="4714e-585">Disk size is >4095 GB.</span></span> <span data-ttu-id="4714e-586">Actuellement, le stockage Azure ne prend pas en charge les tailles de disques de données supérieures à 4095 Go.</span><span class="sxs-lookup"><span data-stu-id="4714e-586">Azure Storage currently does not support data disk sizes greater than 4095 GB.</span></span>
* <span data-ttu-id="4714e-587">Le disque du système d’exploitation est  > 2048 Go.</span><span class="sxs-lookup"><span data-stu-id="4714e-587">OS disk is >2048 GB.</span></span> <span data-ttu-id="4714e-588">Actuellement, le stockage Azure ne prend pas en charge les tailles de disques de systèmes d’exploitation supérieures à 2048 Go.</span><span class="sxs-lookup"><span data-stu-id="4714e-588">Azure Storage currently does not support OS disk size greater than 2048 GB.</span></span>
* <span data-ttu-id="4714e-589">Le type de démarrage est EFI.</span><span class="sxs-lookup"><span data-stu-id="4714e-589">Boot type is EFI.</span></span> <span data-ttu-id="4714e-590">Pour l’instant, Azure Site Recovery ne prend en charge que les machines virtuelles qui présentent le type de démarrage BIOS.</span><span class="sxs-lookup"><span data-stu-id="4714e-590">Azure Site Recovery currently supports only BIOS boot type virtual machine.</span></span>

* <span data-ttu-id="4714e-591">La taille totale de machine virtuelle (réplication + TFO) dépasse la limite de taille du compte de stockage prise en charge (35 To).</span><span class="sxs-lookup"><span data-stu-id="4714e-591">Total VM size (replication + TFO) exceeds the supported storage-account size limit (35 TB).</span></span> <span data-ttu-id="4714e-592">Cette incompatibilité se produit généralement lorsqu’un seul disque de la machine virtuelle présente une caractéristique de performances dépassant les limites maximales prises en charge Azure ou Site Recovery pour le stockage standard.</span><span class="sxs-lookup"><span data-stu-id="4714e-592">This incompatibility usually occurs when a single disk in the VM has a performance characteristic that exceeds the maximum supported Azure or Site Recovery limits for standard storage.</span></span> <span data-ttu-id="4714e-593">Une telle instance envoie la machine virtuelle dans la zone de stockage premium en mode Push.</span><span class="sxs-lookup"><span data-stu-id="4714e-593">Such an instance pushes the VM into the premium storage zone.</span></span> <span data-ttu-id="4714e-594">Néanmoins, la taille maximale prise en charge d’un compte de stockage premium est de 35 To, et une seule et même machine virtuelle protégée ne peut pas être protégée sur plusieurs comptes de stockage.</span><span class="sxs-lookup"><span data-stu-id="4714e-594">However, the maximum supported size of a premium storage account is 35 TB, and a single protected VM cannot be protected across multiple storage accounts.</span></span> <span data-ttu-id="4714e-595">Notez également que, lorsqu’un test de basculement est exécuté sur une machine virtuelle protégée, elle s’exécute dans le compte de stockage où la réplication est en cours.</span><span class="sxs-lookup"><span data-stu-id="4714e-595">Also note that when a test failover is executed on a protected VM, it runs in the same storage account where replication is progressing.</span></span> <span data-ttu-id="4714e-596">Dans ce cas, configurez 2 fois la taille du disque pour que la progression de la réplication et le test de basculement réussissent en parallèle.</span><span class="sxs-lookup"><span data-stu-id="4714e-596">In this instance, set up 2x the size of the disk for replication to progress and test failover to succeed in parallel.</span></span>
* <span data-ttu-id="4714e-597">Les E/S par seconde source excèdent la limite des E/S par seconde prise en charge par le stockage qui est de 5 000 par disque.</span><span class="sxs-lookup"><span data-stu-id="4714e-597">Source IOPS exceeds supported storage IOPS limit of 5000 per disk.</span></span>
* <span data-ttu-id="4714e-598">Les E/S par seconde source excèdent la limite des E/S par seconde prise en charge par le stockage qui est de 80 000 par machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4714e-598">Source IOPS exceeds supported storage IOPS limit of 80,000 per VM.</span></span>
* <span data-ttu-id="4714e-599">L’activité moyenne des données dépasse la limite d’activité des données prise en charge par Site Recovery, qui est de 10 Mbits/s pour la taille d’E/S moyenne de disque.</span><span class="sxs-lookup"><span data-stu-id="4714e-599">Average data churn exceeds supported Site Recovery data churn limit of 10 MBps for average I/O size for the disk.</span></span>
* <span data-ttu-id="4714e-600">L’activité totale des données sur tous les disques de la machine virtuelle dépasse la limite d’activité des données maximale prise en charge par Site Recovery, qui est de 54 Mbits/s par machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4714e-600">Total data churn across all disks on the VM exceeds the maximum supported Site Recovery data churn limit of 54 MBps per VM.</span></span>
* <span data-ttu-id="4714e-601">Les E/S par seconde d’écriture moyennes effectives dépassent la limite des E/S par seconde prise en charge par Site Recovery, qui est de 840 par disque.</span><span class="sxs-lookup"><span data-stu-id="4714e-601">Average effective write IOPS exceeds the supported Site Recovery IOPS limit of 840 for disk.</span></span>
* <span data-ttu-id="4714e-602">Le stockage calculé des captures instantanées dépasse la limite de stockage des captures instantanées prise en charge, qui est de 10 To.</span><span class="sxs-lookup"><span data-stu-id="4714e-602">Calculated snapshot storage exceeds the supported snapshot storage limit of 10 TB.</span></span>

<span data-ttu-id="4714e-603">**R/W IOPS (with Growth Factor)** : les opérations d’E/S par seconde de la charge de travail de pointe sur le disque (95e centile par défaut), y compris le facteur de croissance futur (30 pour cent par défaut).</span><span class="sxs-lookup"><span data-stu-id="4714e-603">**R/W IOPS (with Growth Factor)**: The peak workload IOPS on the disk (default is 95th percentile), including the future growth factor (default is 30 percent).</span></span> <span data-ttu-id="4714e-604">Notez que les E/S par seconde en lecture/écriture de la machine virtuelle ne sont pas toujours la somme des E/S par seconde en lecture/écriture des disques individuels de la machine virtuelle, car les E/S par seconde en lecture/écriture de pointe de la machine virtuelle représentent le pic de la somme des E/S par seconde de ses disques individuels pendant chaque minute de la période de profilage.</span><span class="sxs-lookup"><span data-stu-id="4714e-604">Note that the total read/write IOPS of the VM is not always the sum of the VM’s individual disks’ read/write IOPS, because the peak read/write IOPS of the VM is the peak of the sum of its individual disks' read/write IOPS during every minute of the profiling period.</span></span>

<span data-ttu-id="4714e-605">**Data Churn in Mbps (with Growth Factor)** : le taux d’activité de pointe sur le disque (95e centile par défaut), y compris le facteur de croissance futur (par défaut : 30 pour cent).</span><span class="sxs-lookup"><span data-stu-id="4714e-605">**Data Churn in Mbps (with Growth Factor)**: The peak churn rate on the disk (default 95th percentile) including the future growth factor (default 30 percent).</span></span> <span data-ttu-id="4714e-606">Notez que le taux total d’activité des données de la machine virtuelle n’est pas toujours la somme des taux d’activité des données des disques individuels de la machine virtuelle, car le taux d’activité de pointe de la machine virtuelle représente le pic de la somme du taux d’activité de ses disques individuels pendant chaque minute de la période de profilage.</span><span class="sxs-lookup"><span data-stu-id="4714e-606">Note that the total data churn of the VM is not always the sum of the VM’s individual disks’ data churn, because the peak data churn of the VM is the peak of the sum of its individual disks' churn during every minute of the profiling period.</span></span>

<span data-ttu-id="4714e-607">**Number of Disks** : le nombre total de disques de machines virtuelles (VMDK) sur la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4714e-607">**Number of Disks**: The total number of VMDKs on the VM.</span></span>

<span data-ttu-id="4714e-608">**Disk size (GB)** : la taille totale d’installation de tous les disques de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4714e-608">**Disk size (GB)**: The total setup size of all disks of the VM.</span></span> <span data-ttu-id="4714e-609">L’outil affiche également la taille des disques individuels de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4714e-609">The tool also shows the disk size for the individual disks in the VM.</span></span>

<span data-ttu-id="4714e-610">**Cores** : le nombre de cœurs de processeur de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4714e-610">**Cores**: The number of CPU cores on the VM.</span></span>

<span data-ttu-id="4714e-611">**Memory (MB)** : la quantité de RAM sur la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4714e-611">**Memory (MB)**: The amount of RAM on the VM.</span></span>

<span data-ttu-id="4714e-612">**NICs** : le nombre de cartes réseau de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4714e-612">**NICs**: The number of NICs on the VM.</span></span>

<span data-ttu-id="4714e-613">**Boot Type** : type de démarrage de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4714e-613">**Boot Type**: It is boot type of the VM.</span></span> <span data-ttu-id="4714e-614">Le type de démarrage peut prendre la valeur BIOS ou EFI.</span><span class="sxs-lookup"><span data-stu-id="4714e-614">It can be either BIOS or EFI.</span></span> <span data-ttu-id="4714e-615">Pour l’instant, Azure Site Recovery ne prend en charge que le type de démarrage BIOS.</span><span class="sxs-lookup"><span data-stu-id="4714e-615">Currently Azure Site Recovery supports only BIOS boot type.</span></span> <span data-ttu-id="4714e-616">Toutes les machines virtuelles présentant le type de démarrage EFI sont répertoriées dans la feuille de calcul des machines virtuelles incompatibles.</span><span class="sxs-lookup"><span data-stu-id="4714e-616">All the virtual machines of EFI boot type are listed in Incompatible VMs worksheet.</span></span>

<span data-ttu-id="4714e-617">**OS Type** : type de système d’exploitation de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4714e-617">**OS Type**: The is OS type of the VM.</span></span> <span data-ttu-id="4714e-618">Ce type peut prendre la valeur Windows ou Linux.</span><span class="sxs-lookup"><span data-stu-id="4714e-618">It can be either Windows or Linux or other.</span></span>


## <a name="site-recovery-limits"></a><span data-ttu-id="4714e-619">Limites Azure Site Recovery</span><span class="sxs-lookup"><span data-stu-id="4714e-619">Site Recovery limits</span></span>

<span data-ttu-id="4714e-620">**Stockage de réplication cible**</span><span class="sxs-lookup"><span data-stu-id="4714e-620">**Replication storage target**</span></span> | <span data-ttu-id="4714e-621">**Taille d’E/S moyenne de disque source**</span><span class="sxs-lookup"><span data-stu-id="4714e-621">**Average source disk I/O size**</span></span> |<span data-ttu-id="4714e-622">**Activité des données moyenne de disque source**</span><span class="sxs-lookup"><span data-stu-id="4714e-622">**Average source disk data churn**</span></span> | <span data-ttu-id="4714e-623">**Total de l’activité des données de disque source par jour**</span><span class="sxs-lookup"><span data-stu-id="4714e-623">**Total source disk data churn per day**</span></span>
---|---|---|---
<span data-ttu-id="4714e-624">Stockage Standard</span><span class="sxs-lookup"><span data-stu-id="4714e-624">Standard storage</span></span> | <span data-ttu-id="4714e-625">8 Ko</span><span class="sxs-lookup"><span data-stu-id="4714e-625">8 KB</span></span> | <span data-ttu-id="4714e-626">2 Mbits/s</span><span class="sxs-lookup"><span data-stu-id="4714e-626">2 MBps</span></span> | <span data-ttu-id="4714e-627">168 Go par disque</span><span class="sxs-lookup"><span data-stu-id="4714e-627">168 GB per disk</span></span>
<span data-ttu-id="4714e-628">Disque P10 Premium</span><span class="sxs-lookup"><span data-stu-id="4714e-628">Premium P10 disk</span></span> | <span data-ttu-id="4714e-629">8 Ko</span><span class="sxs-lookup"><span data-stu-id="4714e-629">8 KB</span></span> | <span data-ttu-id="4714e-630">2 Mbits/s</span><span class="sxs-lookup"><span data-stu-id="4714e-630">2 MBps</span></span> | <span data-ttu-id="4714e-631">168 Go par disque</span><span class="sxs-lookup"><span data-stu-id="4714e-631">168 GB per disk</span></span>
<span data-ttu-id="4714e-632">Disque P10 Premium</span><span class="sxs-lookup"><span data-stu-id="4714e-632">Premium P10 disk</span></span> | <span data-ttu-id="4714e-633">16 Ko</span><span class="sxs-lookup"><span data-stu-id="4714e-633">16 KB</span></span> | <span data-ttu-id="4714e-634">4 Mbits/s</span><span class="sxs-lookup"><span data-stu-id="4714e-634">4 MBps</span></span> | <span data-ttu-id="4714e-635">336 Go par disque</span><span class="sxs-lookup"><span data-stu-id="4714e-635">336 GB per disk</span></span>
<span data-ttu-id="4714e-636">Disque P10 Premium</span><span class="sxs-lookup"><span data-stu-id="4714e-636">Premium P10 disk</span></span> | <span data-ttu-id="4714e-637">32 Ko ou plus</span><span class="sxs-lookup"><span data-stu-id="4714e-637">32 KB or greater</span></span> | <span data-ttu-id="4714e-638">8 Mbits/s</span><span class="sxs-lookup"><span data-stu-id="4714e-638">8 MBps</span></span> | <span data-ttu-id="4714e-639">672 Go par disque</span><span class="sxs-lookup"><span data-stu-id="4714e-639">672 GB per disk</span></span>
<span data-ttu-id="4714e-640">Disque Premium P20 ou P30</span><span class="sxs-lookup"><span data-stu-id="4714e-640">Premium P20 or P30 disk</span></span> | <span data-ttu-id="4714e-641">8 Ko</span><span class="sxs-lookup"><span data-stu-id="4714e-641">8 KB</span></span>  | <span data-ttu-id="4714e-642">5 Mbits/s</span><span class="sxs-lookup"><span data-stu-id="4714e-642">5 MBps</span></span> | <span data-ttu-id="4714e-643">421 Go par disque</span><span class="sxs-lookup"><span data-stu-id="4714e-643">421 GB per disk</span></span>
<span data-ttu-id="4714e-644">Disque Premium P20 ou P30</span><span class="sxs-lookup"><span data-stu-id="4714e-644">Premium P20 or P30 disk</span></span> | <span data-ttu-id="4714e-645">16 Ko ou plus</span><span class="sxs-lookup"><span data-stu-id="4714e-645">16 KB or greater</span></span> |<span data-ttu-id="4714e-646">10 Mbits/s</span><span class="sxs-lookup"><span data-stu-id="4714e-646">10 MBps</span></span> | <span data-ttu-id="4714e-647">842 Go par disque</span><span class="sxs-lookup"><span data-stu-id="4714e-647">842 GB per disk</span></span>

<span data-ttu-id="4714e-648">Il s’agit de moyennes en partant sur un chevauchement d’E/S de 30 pour cent.</span><span class="sxs-lookup"><span data-stu-id="4714e-648">These are average numbers assuming a 30 percent I/O overlap.</span></span> <span data-ttu-id="4714e-649">Site Recovery est capable de gérer un débit plus élevé en fonction du ratio de chevauchement, de tailles d’écriture plus grandes et du comportement d’E/S des charges de travail réelles.</span><span class="sxs-lookup"><span data-stu-id="4714e-649">Site Recovery is capable of handling higher throughput based on overlap ratio, larger write sizes, and actual workload I/O behavior.</span></span> <span data-ttu-id="4714e-650">Les valeurs précédentes supposent un retard de traitement typique de cinq minutes.</span><span class="sxs-lookup"><span data-stu-id="4714e-650">The preceding numbers assume a typical backlog of approximately five minutes.</span></span> <span data-ttu-id="4714e-651">Autrement dit, une fois que les données sont chargées, elles sont traitées, et un point de récupération est créé dans un délai de cinq minutes.</span><span class="sxs-lookup"><span data-stu-id="4714e-651">That is, after data is uploaded, it is processed and a recovery point is created within five minutes.</span></span>

<span data-ttu-id="4714e-652">Les limites sont basées sur nos tests, mais ne peuvent pas couvrir toutes les combinaisons d’E/S d’application possibles.</span><span class="sxs-lookup"><span data-stu-id="4714e-652">These limits are based on our tests, but they cannot cover all possible application I/O combinations.</span></span> <span data-ttu-id="4714e-653">Les résultats réels varient en fonction de la combinaison d’E/S de votre application.</span><span class="sxs-lookup"><span data-stu-id="4714e-653">Actual results can vary based on your application I/O mix.</span></span> <span data-ttu-id="4714e-654">Pour de meilleurs résultats, même après la planification du déploiement, nous recommandons toujours que vous effectuiez des tests d’application approfondis à l’aide d’un test de basculement pour obtenir une image réelle des performances.</span><span class="sxs-lookup"><span data-stu-id="4714e-654">For best results, even after deployment planning, we always recommend that you perform extensive application testing by using a test failover to get the true performance picture.</span></span>

## <a name="updating-the-deployment-planner"></a><span data-ttu-id="4714e-655">Mise à jour de Deployment planner</span><span class="sxs-lookup"><span data-stu-id="4714e-655">Updating the deployment planner</span></span>
<span data-ttu-id="4714e-656">Pour mettre à jour Deployment planner, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="4714e-656">To update the deployment planner, do the following:</span></span>

1. <span data-ttu-id="4714e-657">Téléchargez la dernière version [d’Azure Site Recovery deployment planner](https://aka.ms/asr-deployment-planner).</span><span class="sxs-lookup"><span data-stu-id="4714e-657">Download the latest version of the [Azure Site Recovery deployment planner](https://aka.ms/asr-deployment-planner).</span></span>

2. <span data-ttu-id="4714e-658">Copiez le dossier .zip sur le serveur sur lequel vous souhaitez l’exécuter.</span><span class="sxs-lookup"><span data-stu-id="4714e-658">Copy the .zip folder to a server that you want to run it on.</span></span>

3. <span data-ttu-id="4714e-659">Extrayez le dossier .zip.</span><span class="sxs-lookup"><span data-stu-id="4714e-659">Extract the .zip folder.</span></span>

4. <span data-ttu-id="4714e-660">Effectuez l’une des actions suivantes :</span><span class="sxs-lookup"><span data-stu-id="4714e-660">Do either of the following:</span></span>
 * <span data-ttu-id="4714e-661">Si la dernière version ne contient pas de correctif de profilage, et que le profilage est déjà en cours sur votre version actuelle de la planification, passez au profilage.</span><span class="sxs-lookup"><span data-stu-id="4714e-661">If the latest version doesn't contain a profiling fix and profiling is already in progress on your current version of the planner, continue the profiling.</span></span>
 * <span data-ttu-id="4714e-662">Si la dernière version contient un correctif de profilage, nous vous recommandons d’arrêter le profilage sur votre version actuelle et de redémarrer le profilage avec la nouvelle version.</span><span class="sxs-lookup"><span data-stu-id="4714e-662">If the latest version does contain a profiling fix, we recommended that you stop profiling on your current version and restart the profiling with the new version.</span></span>

  >[!NOTE]
  >
  ><span data-ttu-id="4714e-663">Lorsque vous démarrez le profilage avec la nouvelle version, transmettez le même chemin de répertoire de sortie de sorte que l’outil ajoute les données de profil sur les fichiers existants.</span><span class="sxs-lookup"><span data-stu-id="4714e-663">When you start profiling with the new version, pass the same output directory path so that the tool appends profile data on the existing files.</span></span> <span data-ttu-id="4714e-664">Un ensemble complet de données profilées est utilisé pour générer le rapport.</span><span class="sxs-lookup"><span data-stu-id="4714e-664">A complete set of profiled data will be used to generate the report.</span></span> <span data-ttu-id="4714e-665">Si vous transmettez un répertoire de sortie différent, des fichiers sont créés et les anciennes données profilées ne sont pas utilisées pour générer les rapports.</span><span class="sxs-lookup"><span data-stu-id="4714e-665">If you pass a different output directory, new files are created, and old profiled data is not used to generate the report.</span></span>
  >
  ><span data-ttu-id="4714e-666">Chaque nouveau deployment planner est une mise à jour cumulative du fichier .zip.</span><span class="sxs-lookup"><span data-stu-id="4714e-666">Each new deployment planner is a cumulative update of the .zip file.</span></span> <span data-ttu-id="4714e-667">Vous n’avez pas besoin de copier les fichiers les plus récents dans le dossier précédent.</span><span class="sxs-lookup"><span data-stu-id="4714e-667">You don't need to copy the newest files to the previous  folder.</span></span> <span data-ttu-id="4714e-668">Vous pouvez créer un dossier et l’utiliser.</span><span class="sxs-lookup"><span data-stu-id="4714e-668">You can create and use a new folder.</span></span>


## <a name="version-history"></a><span data-ttu-id="4714e-669">Historique des versions</span><span class="sxs-lookup"><span data-stu-id="4714e-669">Version history</span></span>

### <a name="131"></a><span data-ttu-id="4714e-670">1.3.1</span><span class="sxs-lookup"><span data-stu-id="4714e-670">1.3.1</span></span>
<span data-ttu-id="4714e-671">Dernière mise à jour : 19 juillet, 2017</span><span class="sxs-lookup"><span data-stu-id="4714e-671">Updated: July 19, 2017</span></span>

<span data-ttu-id="4714e-672">La nouvelle fonctionnalité suivante est ajoutée :</span><span class="sxs-lookup"><span data-stu-id="4714e-672">Following new feature is added:</span></span>

* <span data-ttu-id="4714e-673">La prise en charge des disques volumineux (> 1To) a été ajoutée à la génération de rapport.</span><span class="sxs-lookup"><span data-stu-id="4714e-673">Added support for large disks (> 1TB) in report generation.</span></span> <span data-ttu-id="4714e-674">Maintenant, vous pouvez utiliser le planificateur de déploiement pour planifier la réplication pour les ordinateurs virtuels dont les tailles de disque sont supérieures à 1 To (jusqu'à 4095 Go).</span><span class="sxs-lookup"><span data-stu-id="4714e-674">Now you can use deployment planner to plan replication for virtual machines that have disk sizes greater than 1 TB (upto 4095 GB).</span></span>
<span data-ttu-id="4714e-675">En savoir plus sur la [Prise en charge des disques volumineux sur Azure Site Recovery](https://azure.microsoft.com/en-us/blog/azure-site-recovery-large-disks/)</span><span class="sxs-lookup"><span data-stu-id="4714e-675">Read more about [Large disk support in Azure Site Recovery](https://azure.microsoft.com/en-us/blog/azure-site-recovery-large-disks/)</span></span>


### <a name="13"></a><span data-ttu-id="4714e-676">1.3</span><span class="sxs-lookup"><span data-stu-id="4714e-676">1.3</span></span>
<span data-ttu-id="4714e-677">Mise à jour : 9 mai 2017</span><span class="sxs-lookup"><span data-stu-id="4714e-677">Updated: May 9, 2017</span></span>

<span data-ttu-id="4714e-678">La nouvelle fonctionnalité suivante est ajoutée :</span><span class="sxs-lookup"><span data-stu-id="4714e-678">Following new feature is added:</span></span>

* <span data-ttu-id="4714e-679">Ajout de la prise en charge des disques gérés dans la génération de rapport.</span><span class="sxs-lookup"><span data-stu-id="4714e-679">Added Managed Disk support in report generation.</span></span> <span data-ttu-id="4714e-680">Le nombre de machines virtuelles pouvant être placé sur un compte de stockage unique est calculé selon que le disque géré est sélectionné pour le basculement/test de basculement.</span><span class="sxs-lookup"><span data-stu-id="4714e-680">The number of virtual machines can be placed to a single storage account is calcuated based on if managed disk is selected for Failover/Test failover.</span></span>        


### <a name="12"></a><span data-ttu-id="4714e-681">1.2</span><span class="sxs-lookup"><span data-stu-id="4714e-681">1.2</span></span>
<span data-ttu-id="4714e-682">Mise à jour : 7 avril 2017</span><span class="sxs-lookup"><span data-stu-id="4714e-682">Updated: April 7, 2017</span></span>

<span data-ttu-id="4714e-683">Ajout des correctifs suivants :</span><span class="sxs-lookup"><span data-stu-id="4714e-683">Added following fixes:</span></span>

* <span data-ttu-id="4714e-684">Ajout de la vérification du type de démarrage (BIOS ou EFI) pour chaque machine virtuelle afin de déterminer si la machine virtuelle est compatible ou incompatible pour la protection.</span><span class="sxs-lookup"><span data-stu-id="4714e-684">Added boot type( BIOS or EFI) check for each virtual machine to determine if the virtual machine is compatible or incompatible for the protection.</span></span>
* <span data-ttu-id="4714e-685">Ajout des informations du type de système d’exploitation pour chaque machine virtuelle dans les feuilles de calcul des machines virtuelles compatibles et incompatibles.</span><span class="sxs-lookup"><span data-stu-id="4714e-685">Added OS type information for each virtual machine in the Compatible VMs  and Incompatible VMs worksheets.</span></span>
* <span data-ttu-id="4714e-686">L’opération GetThroughput est désormais prise en charge dans les régions Microsoft Azure Gouvernement des États-Unis et Chine.</span><span class="sxs-lookup"><span data-stu-id="4714e-686">The GetThroughput operation is now supported in the US Government and China Microsoft Azure regions.</span></span>
* <span data-ttu-id="4714e-687">Ajout de quelques autres vérifications préalables pour les serveurs vCenter et ESXi.</span><span class="sxs-lookup"><span data-stu-id="4714e-687">Added few more prerequisite checks for vCenter and ESXi Server.</span></span>
* <span data-ttu-id="4714e-688">Génération d’un rapport incorrect lorsque les paramètres régionaux sont définis sur une valeur autre que l’anglais.</span><span class="sxs-lookup"><span data-stu-id="4714e-688">Incorrect report was getting generated when locale settings is set to non-English.</span></span>


### <a name="11"></a><span data-ttu-id="4714e-689">1.1</span><span class="sxs-lookup"><span data-stu-id="4714e-689">1.1</span></span>
<span data-ttu-id="4714e-690">Mise à jour : 9 mars 2017</span><span class="sxs-lookup"><span data-stu-id="4714e-690">Updated: March 9, 2017</span></span>

<span data-ttu-id="4714e-691">Les problèmes suivants ont été résolus :</span><span class="sxs-lookup"><span data-stu-id="4714e-691">Fixed the following issues:</span></span>

* <span data-ttu-id="4714e-692">L’outil ne peut pas profiler de machines virtuelles si vCenter possède au moins deux machines virtuelles ayant le même nom ou la même adresse IP sur plusieurs hôtes ESXi.</span><span class="sxs-lookup"><span data-stu-id="4714e-692">The tool cannot profile VMs if the vCenter has two or more VMs with the same name or IP address across various ESXi hosts.</span></span>
* <span data-ttu-id="4714e-693">La copie et la recherche ont été désactivées pour les feuilles de travail « Compatible VMs » et « Incompatible VMs ».</span><span class="sxs-lookup"><span data-stu-id="4714e-693">Copy and search is disabled for the Compatible VMs and Incompatible VMs worksheets.</span></span>

### <a name="10"></a><span data-ttu-id="4714e-694">1.0</span><span class="sxs-lookup"><span data-stu-id="4714e-694">1.0</span></span>
<span data-ttu-id="4714e-695">Mise à jour : 23 février 2017</span><span class="sxs-lookup"><span data-stu-id="4714e-695">Updated: February 23, 2017</span></span>

<span data-ttu-id="4714e-696">La préversion publique d’Azure Site Recovery Deployment Planner 1.0 rencontre les problèmes connus suivants (à traiter dans les prochaines mises à jour) :</span><span class="sxs-lookup"><span data-stu-id="4714e-696">Azure Site Recovery Deployment Planner public preview 1.0 has the following known issues (to be addressed in upcoming updates):</span></span>

* <span data-ttu-id="4714e-697">L’outil fonctionne uniquement pour les scénarios VMware vers Azure, mais pas pour les déploiements Hyper-V vers Azure.</span><span class="sxs-lookup"><span data-stu-id="4714e-697">The tool works only for VMware-to-Azure scenarios, not for Hyper-V-to-Azure deployments.</span></span> <span data-ttu-id="4714e-698">Pour ces scénarios Hyper-V vers Azure, utilisez [l’outil de planification de la capacité Hyper-V](./site-recovery-capacity-planning-for-hyper-v-replication.md).</span><span class="sxs-lookup"><span data-stu-id="4714e-698">For Hyper-V-to-Azure scenarios, use the [Hyper-V capacity planner tool](./site-recovery-capacity-planning-for-hyper-v-replication.md).</span></span>
* <span data-ttu-id="4714e-699">L’opération GetThroughput n’est pas prise en charge dans les régions Microsoft Azure US Government et Chine.</span><span class="sxs-lookup"><span data-stu-id="4714e-699">The GetThroughput operation is not supported in the US Government and China Microsoft Azure regions.</span></span>
* <span data-ttu-id="4714e-700">L’outil ne peut pas profiler de machines virtuelles si le serveur vCenter possède au moins deux machines virtuelles ayant le même nom ou la même adresse IP sur plusieurs hôtes ESXi.</span><span class="sxs-lookup"><span data-stu-id="4714e-700">The tool cannot profile VMs if the vCenter server has two or more VMs with the same name or IP address across various ESXi hosts.</span></span> <span data-ttu-id="4714e-701">Dans cette version, l’outil ignore le profilage des noms ou adresses IP des machines virtuelles en double dans le fichier VMListFile.</span><span class="sxs-lookup"><span data-stu-id="4714e-701">In this version, the tool skips profiling for duplicate VM names or IP addresses in the VMListFile.</span></span> <span data-ttu-id="4714e-702">La solution de contournement consiste à profiler des machines virtuelles à l’aide d’un hôte ESXi au lieu du serveur vCenter.</span><span class="sxs-lookup"><span data-stu-id="4714e-702">The workaround is to profile the VMs by using an ESXi host instead of the vCenter server.</span></span> <span data-ttu-id="4714e-703">Vous devez exécuter une instance par hôte ESXi.</span><span class="sxs-lookup"><span data-stu-id="4714e-703">You must run one instance for each ESXi host.</span></span>
