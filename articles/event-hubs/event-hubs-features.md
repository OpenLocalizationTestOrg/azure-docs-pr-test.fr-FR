---
title: "vue d’ensemble des fonctionnalités aaaAzure concentrateurs d’événements | Documents Microsoft"
description: "Vue d’ensemble et détails sur les fonctionnalités des concentrateurs d’événements"
services: event-hubs
documentationcenter: .net
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 
ms.service: event-hubs
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/17/2017
ms.author: sethm
ms.openlocfilehash: 8094e48abc8455ed725d4d5d3f9895f431441e2b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="event-hubs-features-overview"></a><span data-ttu-id="9c2bd-103">Vue d’ensemble des fonctionnalités des concentrateurs d’événements</span><span class="sxs-lookup"><span data-stu-id="9c2bd-103">Event Hubs features overview</span></span>

<span data-ttu-id="9c2bd-104">Azure Event Hubs est un service évolutif de traitement d’événements qui ingère et traite de gros volumes de données et d’événements avec une faible latence et une haute fiabilité.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-104">Azure Event Hubs is a scalable event processing service that ingests and processes large volumes of events and data, with low latency and high reliability.</span></span> <span data-ttu-id="9c2bd-105">Consultez [quel est le service Event Hubs ?](event-hubs-what-is-event-hubs.md) pour une vue d’ensemble du service de hello.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-105">See [What is Event Hubs?](event-hubs-what-is-event-hubs.md) for a high-level overview of hello service.</span></span>

<span data-ttu-id="9c2bd-106">Cet article s’appuie sur les informations de hello Bonjour [vue d’ensemble](event-hubs-what-is-event-hubs.md)et fournit des détails techniques et de mise en œuvre sur les fonctionnalités et composants de concentrateurs d’événements.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-106">This article builds on hello information in hello [overview](event-hubs-what-is-event-hubs.md), and provides technical and implementation details about Event Hubs components and features.</span></span>

## <a name="event-publishers"></a><span data-ttu-id="9c2bd-107">Éditeurs d'événements</span><span class="sxs-lookup"><span data-stu-id="9c2bd-107">Event publishers</span></span>

<span data-ttu-id="9c2bd-108">Une entité qui envoie le concentrateur d’événements de données tooan est producteur d’événement, ou *Éditeur d’événements*.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-108">Any entity that sends data tooan event hub is an event producer, or *event publisher*.</span></span> <span data-ttu-id="9c2bd-109">Les éditeurs d’événements peuvent publier des événements à l’aide du protocole HTTPS ou AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-109">Event publishers can publish events using HTTPS or AMQP 1.0.</span></span> <span data-ttu-id="9c2bd-110">Les éditeurs d’événements utilisez un tooidentify de jeton de Signature d’accès partagé (SAS) eux-mêmes tooan concentrateur d’événements et peuvent avoir une identité unique ou un jeton SAP commun.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-110">Event publishers use a Shared Access Signature (SAS) token tooidentify themselves tooan event hub, and can have a unique identity, or use a common SAS token.</span></span>

### <a name="publishing-an-event"></a><span data-ttu-id="9c2bd-111">Publication d'un événement</span><span class="sxs-lookup"><span data-stu-id="9c2bd-111">Publishing an event</span></span>

<span data-ttu-id="9c2bd-112">Vous pouvez publier un événement avec AMQP 1.0 ou HTTPS.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-112">You can publish an event via AMQP 1.0 or HTTPS.</span></span> <span data-ttu-id="9c2bd-113">Fournit des concentrateurs d’événements [les classes et les bibliothèques clientes](event-hubs-dotnet-framework-api-overview.md) pour la publication de concentrateur d’événements événements tooan à partir de clients .NET.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-113">Event Hubs provides [client libraries and classes](event-hubs-dotnet-framework-api-overview.md) for publishing events tooan event hub from .NET clients.</span></span> <span data-ttu-id="9c2bd-114">Pour les autres runtimes et plateformes, vous pouvez utiliser n'importe quel client AMQP 1.0, comme [Apache Qpid](http://qpid.apache.org/).</span><span class="sxs-lookup"><span data-stu-id="9c2bd-114">For other runtimes and platforms, you can use any AMQP 1.0 client, such as [Apache Qpid](http://qpid.apache.org/).</span></span> <span data-ttu-id="9c2bd-115">Vous pouvez publier les événements individuellement ou par lots.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-115">You can publish events individually, or batched.</span></span> <span data-ttu-id="9c2bd-116">Une publication unique (instance de données d’événement) a une limite de 256 Ko, qu’il s’agisse d’un événement unique ou d’un lot.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-116">A single publication (event data instance) has a limit of 256 KB, regardless of whether it is a single event or a batch.</span></span> <span data-ttu-id="9c2bd-117">La publication d'événements plus volumineux que ce seuil entraîne une erreur.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-117">Publishing events larger than this threshold results in an error.</span></span> <span data-ttu-id="9c2bd-118">Il est recommandé pour toobe de serveurs de publication sans se préoccuper de partitions dans le concentrateur d’événements hello et tooonly spécifier un *clé de partition* (introduit dans la section suivante de hello), ou leur identité via leur jeton SAP.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-118">It is a best practice for publishers toobe unaware of partitions within hello event hub and tooonly specify a *partition key* (introduced in hello next section), or their identity via their SAS token.</span></span>

<span data-ttu-id="9c2bd-119">Hello choix toouse AMQP ou HTTPS est le scénario d’utilisation de toohello spécifique.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-119">hello choice toouse AMQP or HTTPS is specific toohello usage scenario.</span></span> <span data-ttu-id="9c2bd-120">Le protocole AMQP requiert l’établissement d’un socket bidirectionnel persistant hello dans la sécurité au niveau des tootransport addition (TLS) ou SSL/TLS.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-120">AMQP requires hello establishment of a persistent bidirectional socket in addition tootransport level security (TLS) or SSL/TLS.</span></span> <span data-ttu-id="9c2bd-121">AMQP a des coûts de réseau plus élevés lors de l’initialisation de session de hello, toutefois, HTTPS requiert traitement SSL supplémentaire pour chaque demande.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-121">AMQP has higher network costs when initializing hello session, however HTTPS requires additional SSL overhead for every request.</span></span> <span data-ttu-id="9c2bd-122">Par ailleurs, AMQP propose des performances plus élevées pour les éditeurs courants.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-122">AMQP has higher performance for frequent publishers.</span></span>

![Event Hubs](./media/event-hubs-features/partition_keys.png)

<span data-ttu-id="9c2bd-124">Concentrateurs d’événements permet de s’assurer que tous les événements qui partage une valeur de clé de partition sont remis dans l’ordre et toohello que même partition.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-124">Event Hubs ensures that all events sharing a partition key value are delivered in order, and toohello same partition.</span></span> <span data-ttu-id="9c2bd-125">Si les clés de partition sont utilisées avec les stratégies de serveur de publication, puis hello identité du serveur de publication hello et valeur hello de clé de partition hello doit correspondre.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-125">If partition keys are used with publisher policies, then hello identity of hello publisher and hello value of hello partition key must match.</span></span> <span data-ttu-id="9c2bd-126">Sinon, une erreur se produit.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-126">Otherwise, an error occurs.</span></span>

### <a name="publisher-policy"></a><span data-ttu-id="9c2bd-127">Stratégie de l'éditeur</span><span class="sxs-lookup"><span data-stu-id="9c2bd-127">Publisher policy</span></span>

<span data-ttu-id="9c2bd-128">Event Hubs permet un contrôle granulaire sur les éditeurs d'événements par le biais des *stratégies d'éditeur*.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-128">Event Hubs enables granular control over event publishers through *publisher policies*.</span></span> <span data-ttu-id="9c2bd-129">Stratégies d’éditeur sont des fonctionnalités d’exécution conçues toofacilitate grand nombre d’éditeurs d’événements indépendant.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-129">Publisher policies are run-time features designed toofacilitate large numbers of independent event publishers.</span></span> <span data-ttu-id="9c2bd-130">Avec les stratégies du serveur de publication, chaque serveur de publication utilise son propre identificateur lors de la publication du concentrateur d’événements événements tooan, à l’aide de hello suivant mécanisme :</span><span class="sxs-lookup"><span data-stu-id="9c2bd-130">With publisher policies, each publisher uses its own unique identifier when publishing events tooan event hub, using hello following mechanism:</span></span>

```
//[my namespace].servicebus.windows.net/[event hub name]/publishers/[my publisher name]
```

<span data-ttu-id="9c2bd-131">Vous n’avez pas les noms d’éditeurs toocreate avance, mais il doit correspondre au jeton SAS de hello utilisé lors de la publication d’un événement, dans les identités des éditeurs indépendants tooensure ordre.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-131">You don't have toocreate publisher names ahead of time, but they must match hello SAS token used when publishing an event, in order tooensure independent publisher identities.</span></span> <span data-ttu-id="9c2bd-132">Lorsque vous utilisez des stratégies d’éditeur, hello **PartitionKey** a la valeur toohello nom de l’éditeur.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-132">When using publisher policies, hello **PartitionKey** value is set toohello publisher name.</span></span> <span data-ttu-id="9c2bd-133">toowork correctement, ces valeurs doivent correspondre.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-133">toowork properly, these values must match.</span></span>

## <a name="capture"></a><span data-ttu-id="9c2bd-134">Capture</span><span class="sxs-lookup"><span data-stu-id="9c2bd-134">Capture</span></span>

<span data-ttu-id="9c2bd-135">[Capturer des concentrateurs d’événements](event-hubs-capture-overview.md) vous tooautomatically hello de capture de diffusion en continu des données dans des concentrateurs d’événements et enregistrez-le tooyour les choix d’un compte de stockage d’objets Blob ou d’un compte de Service de LAC de données Azure.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-135">[Event Hubs Capture](event-hubs-capture-overview.md) enables you tooautomatically capture hello streaming data in Event Hubs and save it tooyour choice of either a Blob storage account, or an Azure Data Lake Service account.</span></span> <span data-ttu-id="9c2bd-136">Vous pouvez activer la Capture de hello portail Azure et spécifiez une taille minimale et la capture de temps fenêtre tooperform hello.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-136">You can enable Capture from hello Azure portal, and specify a minimum size and time window tooperform hello capture.</span></span> <span data-ttu-id="9c2bd-137">À l’aide de capturer des concentrateurs d’événements, vous spécifiez votre propre compte de stockage d’objets Blob Azure et d’un conteneur, ou compte de Service de LAC de données Azure, qui est utilisé toostore hello les données capturées.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-137">Using Event Hubs Capture, you specify your own Azure Blob Storage account and container, or Azure Data Lake Service account, which is used toostore hello captured data.</span></span> <span data-ttu-id="9c2bd-138">Les données capturées sont écrit au format de Apache Avro hello.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-138">Captured data is written in hello Apache Avro format.</span></span>

## <a name="partitions"></a><span data-ttu-id="9c2bd-139">Partitions</span><span class="sxs-lookup"><span data-stu-id="9c2bd-139">Partitions</span></span>

<span data-ttu-id="9c2bd-140">Concentrateurs d’événements fournit le message de diffusion en continu via un modèle de consommateur partitionné où chaque consommateur lit uniquement un sous-ensemble spécifique, ou une partition, du flux de messages hello.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-140">Event Hubs provides message streaming through a partitioned consumer pattern in which each consumer only reads a specific subset, or partition, of hello message stream.</span></span> <span data-ttu-id="9c2bd-141">Ce modèle permet la mise à l’échelle horizontale pour le traitement des événements et fournit d’autres fonctionnalités de flux qui ne sont pas disponibles dans les rubriques et les files d’attente.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-141">This pattern enables horizontal scale for event processing and provides other stream-focused features that are unavailable in queues and topics.</span></span>

<span data-ttu-id="9c2bd-142">Une partition est une séquence ordonnée d’événements qui est conservée dans un concentrateur d’événements.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-142">A partition is an ordered sequence of events that is held in an event hub.</span></span> <span data-ttu-id="9c2bd-143">Comme les événements plus récents arrivent, ils sont ajoutés fin toohello de cette séquence.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-143">As newer events arrive, they are added toohello end of this sequence.</span></span> <span data-ttu-id="9c2bd-144">Une partition peut être considérée comme un « journal de validation ».</span><span class="sxs-lookup"><span data-stu-id="9c2bd-144">A partition can be thought of as a "commit log."</span></span>

![Event Hubs](./media/event-hubs-features/partition.png)

<span data-ttu-id="9c2bd-146">Concentrateurs d’événements conserve les données pendant une période de rétention configurée qui s’appliquent à toutes les partitions dans le concentrateur d’événements hello.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-146">Event Hubs retains data for a configured retention time that applies across all partitions in hello event hub.</span></span> <span data-ttu-id="9c2bd-147">Les événements expirent selon une base temporelle. Vous ne pouvez pas les supprimer explicitement.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-147">Events expire on a time basis; you cannot explicitly delete them.</span></span> <span data-ttu-id="9c2bd-148">Comme les partitions sont indépendantes et contiennent leur propre séquence de données, elles évoluent souvent à des vitesses différentes.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-148">Because partitions are independent and contain their own sequence of data, they often grow at different rates.</span></span>

![Event Hubs](./media/event-hubs-features/multiple_partitions.png)

<span data-ttu-id="9c2bd-150">nombre de Hello de partitions est spécifié lors de la création et doit être comprise entre 2 et 32.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-150">hello number of partitions is specified at creation and must be between 2 and 32.</span></span> <span data-ttu-id="9c2bd-151">nombre de partitions Hello n’est pas modifiable, vous devez envisager la mise à l’échelle à long terme lors de la définition du nombre de partitions.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-151">hello partition count is not changeable, so you should consider long-term scale when setting partition count.</span></span> <span data-ttu-id="9c2bd-152">Les partitions sont un mécanisme d’organisation de données qui se rapporte toohello de parallélisme en aval requis dans les applications consommatrices.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-152">Partitions are a data organization mechanism that relates toohello downstream parallelism required in consuming applications.</span></span> <span data-ttu-id="9c2bd-153">Hello nombre de partitions dans un concentrateur d’événements sont directement liées toohello nombre de lecteurs simultanés souhaitées toohave.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-153">hello number of partitions in an event hub directly relates toohello number of concurrent readers you expect toohave.</span></span> <span data-ttu-id="9c2bd-154">Vous pouvez augmenter le nombre de hello de partitions au-delà de 32 à contacter l’équipe de concentrateurs d’événements hello.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-154">You can increase hello number of partitions beyond 32 by contacting hello Event Hubs team.</span></span>

<span data-ttu-id="9c2bd-155">Alors que les partitions sont identifiables et peuvent être envoyées toodirectly, envoyant directement tooa partition n’est pas recommandée.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-155">While partitions are identifiable and can be sent toodirectly, sending directly tooa partition is not recommended.</span></span> <span data-ttu-id="9c2bd-156">Au lieu de cela, vous pouvez utiliser des constructions de niveau supérieur, introduites dans hello [Éditeur d’événements](#event-publishers) et [capacité](#capacity) sections.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-156">Instead, you can use higher level constructs introduced in hello [Event publisher](#event-publishers) and [Capacity](#capacity) sections.</span></span> 

<span data-ttu-id="9c2bd-157">Les partitions sont remplies avec une séquence de données d’événement qui contient le corps hello d’événement de hello, un sac défini par l’utilisateur et les métadonnées telles que son décalage dans la partition de hello et son numéro de séquence de flux hello.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-157">Partitions are filled with a sequence of event data which contains hello body of hello event, a user-defined property bag, and metadata such as its offset in hello partition and its number in hello stream sequence.</span></span>

<span data-ttu-id="9c2bd-158">Pour plus d’informations sur les partitions et les compromis de hello entre la disponibilité et la fiabilité, consultez hello [guide de programmation de concentrateurs d’événements](event-hubs-programming-guide.md#partition-key) et hello [disponibilité et la cohérence dans les concentrateurs d’événements](event-hubs-availability-and-consistency.md) article .</span><span class="sxs-lookup"><span data-stu-id="9c2bd-158">For more information about partitions and hello trade-off between availability and reliability, see hello [Event Hubs programming guide](event-hubs-programming-guide.md#partition-key) and hello [Availability and consistency in Event Hubs](event-hubs-availability-and-consistency.md) article.</span></span>

### <a name="partition-key"></a><span data-ttu-id="9c2bd-159">Clé de partition</span><span class="sxs-lookup"><span data-stu-id="9c2bd-159">Partition key</span></span>

<span data-ttu-id="9c2bd-160">Vous pouvez utiliser un [clé de partition](event-hubs-programming-guide.md#partition-key) toomap des données d’événement entrant vers des partitions spécifiques à des fins de hello d’organisation des données.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-160">You can use a [partition key](event-hubs-programming-guide.md#partition-key) toomap incoming event data into specific partitions for hello purpose of data organization.</span></span> <span data-ttu-id="9c2bd-161">clé de partition Hello est une valeur fournie par l’expéditeur est passée dans un concentrateur d’événements.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-161">hello partition key is a sender-supplied value passed into an event hub.</span></span> <span data-ttu-id="9c2bd-162">Elle est traitée via une fonction de hachage statique, ce qui crée l’attribution de partition hello.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-162">It is processed through a static hashing function, which creates hello partition assignment.</span></span> <span data-ttu-id="9c2bd-163">Si vous ne spécifiez aucune clé de partition lors de la publication d’un événement, une affectation de type tourniquet (round robin) est utilisée.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-163">If you don't specify a partition key when publishing an event, a round-robin assignment is used.</span></span>

<span data-ttu-id="9c2bd-164">Éditeur d’événements Hello est uniquement informé de sa clé de partition, pas les événements de hello du toowhich hello partition sont publiés.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-164">hello event publisher is only aware of its partition key, not hello partition toowhich hello events are published.</span></span> <span data-ttu-id="9c2bd-165">Cette séparation de la clé et la partition isole expéditeur hello d’avoir tooknow trop sur le traitement en aval de hello.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-165">This decoupling of key and partition insulates hello sender from needing tooknow too much about hello downstream processing.</span></span> <span data-ttu-id="9c2bd-166">Un périphérique ou un utilisateur unique identité rend une bonne clé de partition, mais les autres attributs tels que geography peuvent également être utilisé toogroup événements associés dans une seule partition.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-166">A per-device or user unique identity makes a good partition key, but other attributes such as geography can also be used toogroup related events into a single partition.</span></span>

## <a name="sas-tokens"></a><span data-ttu-id="9c2bd-167">Jetons SAS</span><span class="sxs-lookup"><span data-stu-id="9c2bd-167">SAS tokens</span></span>

<span data-ttu-id="9c2bd-168">Utilise des concentrateurs d’événements *Signatures d’accès partagé*, qui sont disponible au niveau du concentrateur hello espace de noms et des événements.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-168">Event Hubs uses *Shared Access Signatures*, which are available at hello namespace and event hub level.</span></span> <span data-ttu-id="9c2bd-169">Un jeton SAS est généré à partir d'une clé SAS. C'est un hachage SHA d'une URL, codé dans un format spécifique.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-169">A SAS token is generated from a SAS key and is an SHA hash of a URL, encoded in a specific format.</span></span> <span data-ttu-id="9c2bd-170">À l’aide du nom hello de clé de hello (stratégie) et du jeton de hello, les concentrateurs d’événements peut régénérer le hachage de hello et ainsi s’authentifier l’expéditeur de hello.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-170">Using hello name of hello key (policy) and hello token, Event Hubs can regenerate hello hash and thus authenticate hello sender.</span></span> <span data-ttu-id="9c2bd-171">Normalement, les jetons SAS pour les éditeurs d’événements sont créés uniquement avec des privilèges **d’envoi** sur un concentrateur d’événements spécifique.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-171">Normally, SAS tokens for event publishers are created with only **send** privileges on a specific event hub.</span></span> <span data-ttu-id="9c2bd-172">Identification de l’éditeur introduite dans la stratégie d’éditeur hello, ce mécanisme d’URL de jeton SAS sert hello.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-172">This SAS token URL mechanism is hello basis for publisher identification introduced in hello publisher policy.</span></span> <span data-ttu-id="9c2bd-173">Pour plus d’informations sur l’utilisation de SAS, consultez [Authentification par signature d’accès partagé avec Service Bus](../service-bus-messaging/service-bus-sas.md).</span><span class="sxs-lookup"><span data-stu-id="9c2bd-173">For more information about working with SAS, see [Shared Access Signature Authentication with Service Bus](../service-bus-messaging/service-bus-sas.md).</span></span>

## <a name="event-consumers"></a><span data-ttu-id="9c2bd-174">Consommateurs d'événements</span><span class="sxs-lookup"><span data-stu-id="9c2bd-174">Event consumers</span></span>

<span data-ttu-id="9c2bd-175">Toute entité qui lit des données d’événement à partir d’un concentrateur d’événements est un *consommateur d’événements*.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-175">Any entity that reads event data from an event hub is an *event consumer*.</span></span> <span data-ttu-id="9c2bd-176">Tous les consommateurs de concentrateurs d’événements se connectent via une session de hello AMQP 1.0 et les événements sont remis via une session de hello dès qu’elles sont disponibles.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-176">All Event Hubs consumers connect via hello AMQP 1.0 session and events are delivered through hello session as they become available.</span></span> <span data-ttu-id="9c2bd-177">client de Hello ne nécessite pas de toopoll pour la disponibilité des données.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-177">hello client does not need toopoll for data availability.</span></span>

### <a name="consumer-groups"></a><span data-ttu-id="9c2bd-178">Groupes de consommateurs</span><span class="sxs-lookup"><span data-stu-id="9c2bd-178">Consumer groups</span></span>

<span data-ttu-id="9c2bd-179">le mécanisme de publication/abonnement Hello des concentrateurs d’événements est activé via *groupes de consommateurs*.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-179">hello publish/subscribe mechanism of Event Hubs is enabled through *consumer groups*.</span></span> <span data-ttu-id="9c2bd-180">Un groupe de consommateurs est une vue (état, position ou décalage) d’un concentrateur d’événements dans sa totalité.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-180">A consumer group is a view (state, position, or offset) of an entire event hub.</span></span> <span data-ttu-id="9c2bd-181">Groupes de consommateurs activer plusieurs applications consommatrices tooeach ont une vue distincte du flux d’événements hello et flux de hello tooread indépendamment à leur propre rythme et avec leurs propres décalages.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-181">Consumer groups enable multiple consuming applications tooeach have a separate view of hello event stream, and tooread hello stream independently at their own pace and with their own offsets.</span></span>

<span data-ttu-id="9c2bd-182">Dans un architecture de traitement de flux, chaque application en aval équivaut tooa du groupe de consommateurs.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-182">In a stream processing architecture, each downstream application equates tooa consumer group.</span></span> <span data-ttu-id="9c2bd-183">Si vous souhaitez que le stockage à long terme toolong de toowrite événements données, cette application d’enregistrement est un groupe de consommateurs.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-183">If you want toowrite event data toolong-term storage, then that storage writer application is a consumer group.</span></span> <span data-ttu-id="9c2bd-184">Le traitement des événements complexes est ensuite effectué par un autre groupe de consommateurs distinct.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-184">Complex event processing can then be performed by another, separate consumer group.</span></span> <span data-ttu-id="9c2bd-185">Vous ne pouvez accéder aux partitions que par le biais d'un groupe de consommateurs.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-185">You can only access partitions through a consumer group.</span></span> <span data-ttu-id="9c2bd-186">Il peut y avoir au maximum 5 lecteurs simultanés sur une partition par groupe de consommateurs. Toutefois **il est recommandé de n’avoir qu’un seul récepteur actif sur une partition par groupe de consommateurs**.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-186">There can be at most 5 concurrent readers on a partition per consumer group; however **it is recommended that there is only one active receiver on a partition per consumer group**.</span></span> <span data-ttu-id="9c2bd-187">Un groupe de consommateurs par défaut est toujours dans un concentrateur d’événements, et vous pouvez créer des groupes de consommateurs too20 pour un concentrateur d’événements de niveau Standard.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-187">There is always a default consumer group in an event hub, and you can create up too20 consumer groups for a Standard tier event hub.</span></span>

<span data-ttu-id="9c2bd-188">Hello Voici des exemples de convention d’URI du groupe de consommateurs hello :</span><span class="sxs-lookup"><span data-stu-id="9c2bd-188">hello following are examples of hello consumer group URI convention:</span></span>

```http
//[my namespace].servicebus.windows.net/[event hub name]/[Consumer Group #1]
//[my namespace].servicebus.windows.net/[event hub name]/[Consumer Group #2]
```

<span data-ttu-id="9c2bd-189">Hello figure ci-dessous illustre l’architecture de traitement flux hello concentrateurs d’événements :</span><span class="sxs-lookup"><span data-stu-id="9c2bd-189">hello following figure shows hello Event Hubs stream processing architecture:</span></span>

![Event Hubs](./media/event-hubs-features/event_hubs_architecture.png)

### <a name="stream-offsets"></a><span data-ttu-id="9c2bd-191">Décalages du flux</span><span class="sxs-lookup"><span data-stu-id="9c2bd-191">Stream offsets</span></span>

<span data-ttu-id="9c2bd-192">Un *offset* position hello d’un événement dans une partition.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-192">An *offset* is hello position of an event within a partition.</span></span> <span data-ttu-id="9c2bd-193">Vous pouvez considérer un décalage comme un curseur côté client.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-193">You can think of an offset as a client-side cursor.</span></span> <span data-ttu-id="9c2bd-194">décalage Hello est un octet de numérotation de l’événement de hello.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-194">hello offset is a byte numbering of hello event.</span></span> <span data-ttu-id="9c2bd-195">Ce décalage permet un toospecify de consommateur (lecteur) d’événement un point dans le flux d’événements hello à partir duquel ils veulent toobegin la lecture des événements.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-195">This offset enables an event consumer (reader) toospecify a point in hello event stream from which they want toobegin reading events.</span></span> <span data-ttu-id="9c2bd-196">Vous pouvez spécifier le décalage de hello comme un horodatage ou comme une valeur de décalage.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-196">You can specify hello offset as a timestamp or as an offset value.</span></span> <span data-ttu-id="9c2bd-197">Les clients sont responsables du stockage de leurs propres valeurs de décalage en dehors de hello service Event Hubs.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-197">Consumers are responsible for storing their own offset values outside of hello Event Hubs service.</span></span> <span data-ttu-id="9c2bd-198">Dans une partition, chaque événement inclut un décalage.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-198">Within a partition, each event includes an offset.</span></span>

![Event Hubs](./media/event-hubs-features/partition_offset.png)

### <a name="checkpointing"></a><span data-ttu-id="9c2bd-200">Points de contrôle</span><span class="sxs-lookup"><span data-stu-id="9c2bd-200">Checkpointing</span></span>

<span data-ttu-id="9c2bd-201">Les *points de contrôle* constituent un processus par lequel les lecteurs marquent ou valident leur position dans une séquence d’événements de partition.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-201">*Checkpointing* is a process by which readers mark or commit their position within a partition event sequence.</span></span> <span data-ttu-id="9c2bd-202">Points de contrôle incombe de hello du consommateur de hello et se produit sur une base par partition dans un groupe de consommateurs.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-202">Checkpointing is hello responsibility of hello consumer and occurs on a per-partition basis within a consumer group.</span></span> <span data-ttu-id="9c2bd-203">Cette responsabilité signifie que pour chaque groupe de consommateurs, chaque lecteur de partition doit conserver une trace de sa position actuelle dans le flux d’événements hello et permet d’informer le service de hello quand il considère que les flux de données hello terminée.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-203">This responsibility means that for each consumer group, each partition reader must keep track of its current position in hello event stream, and can inform hello service when it considers hello data stream complete.</span></span>

<span data-ttu-id="9c2bd-204">Si un lecteur se déconnecte d’une partition, lorsqu’il reconnecte, il commence à lire au point de contrôle hello précédemment soumis par hello dernier lecteur de cette partition dans ce groupe de consommateurs.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-204">If a reader disconnects from a partition, when it reconnects it begins reading at hello checkpoint that was previously submitted by hello last reader of that partition in that consumer group.</span></span> <span data-ttu-id="9c2bd-205">Lorsque le lecteur de hello se connecte, il transmet ce décalage toohello événement hub toospecify hello emplacement lequel toostart la lecture.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-205">When hello reader connects, it passes this offset toohello event hub toospecify hello location at which toostart reading.</span></span> <span data-ttu-id="9c2bd-206">De cette façon, vous pouvez utiliser des points de contrôle tooboth marquer des événements comme « terminé » par les applications en aval, et résilience tooprovide si un basculement entre des lecteurs en cours d’exécution sur des ordinateurs différents se produit.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-206">In this way, you can use checkpointing tooboth mark events as "complete" by downstream applications, and tooprovide resiliency if a failover between readers running on different machines occurs.</span></span> <span data-ttu-id="9c2bd-207">Il est possible de tooreturn tooolder données en spécifiant un décalage inférieur à partir de ce processus de vérification.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-207">It is possible tooreturn tooolder data by specifying a lower offset from this checkpointing process.</span></span> <span data-ttu-id="9c2bd-208">Grâce à ce mécanisme, les points de contrôle permettent une résilience au basculement renforcée, mais également la relecture du flux d’événements.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-208">Through this mechanism, checkpointing enables both failover resiliency and event stream replay.</span></span>

### <a name="common-consumer-tasks"></a><span data-ttu-id="9c2bd-209">Tâches courantes du consommateur</span><span class="sxs-lookup"><span data-stu-id="9c2bd-209">Common consumer tasks</span></span>

<span data-ttu-id="9c2bd-210">Tous les consommateurs Azure Event Hubs se connectent via une session AMQP 1.0, un canal de communication bidirectionnelle prenant en charge l’état.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-210">All Event Hubs consumers connect via an AMQP 1.0 session, a state-aware bidirectional communication channel.</span></span> <span data-ttu-id="9c2bd-211">Chaque partition a une session AMQP 1.0 qui facilite le transport hello d’événements séparés par partition.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-211">Each partition has an AMQP 1.0 session that facilitates hello transport of events segregated by partition.</span></span>

#### <a name="connect-tooa-partition"></a><span data-ttu-id="9c2bd-212">Se connecter tooa partition</span><span class="sxs-lookup"><span data-stu-id="9c2bd-212">Connect tooa partition</span></span>

<span data-ttu-id="9c2bd-213">Lors de la connexion toopartitions, il est commun toouse pratique un bail de partitions de mécanisme toocoordinate reader connexions toospecific.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-213">When connecting toopartitions, it is common practice toouse a leasing mechanism toocoordinate reader connections toospecific partitions.</span></span> <span data-ttu-id="9c2bd-214">De cette manière, il est possible pour chaque partition dans un consommateur groupe toohave qu’un seul lecteur actif.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-214">This way, it is possible for every partition in a consumer group toohave only one active reader.</span></span> <span data-ttu-id="9c2bd-215">Points de contrôle, la location et la gestion des lecteurs sont simplifiées à l’aide de hello [EventProcessorHost](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost) classe pour les clients .NET.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-215">Checkpointing, leasing, and managing readers are simplified by using hello [EventProcessorHost](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost) class for .NET clients.</span></span> <span data-ttu-id="9c2bd-216">Hello processeur d’événements hôte est un agent de consommateur intelligent.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-216">hello Event Processor Host is an intelligent consumer agent.</span></span>

#### <a name="read-events"></a><span data-ttu-id="9c2bd-217">Lire les événements</span><span class="sxs-lookup"><span data-stu-id="9c2bd-217">Read events</span></span>

<span data-ttu-id="9c2bd-218">Une fois la session AMQP 1.0 et établir un lien est ouverte pour une partition spécifique, les événements sont remis toohello AMQP 1.0 client par hello service Event Hubs.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-218">After an AMQP 1.0 session and link is opened for a specific partition, events are delivered toohello AMQP 1.0 client by hello Event Hubs service.</span></span> <span data-ttu-id="9c2bd-219">Ce mécanisme de livraison permet un débit plus élevé et une latence plus faible par rapport aux mécanismes basés sur l'extraction, tels que HTTP GET.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-219">This delivery mechanism enables higher throughput and lower latency than pull-based mechanisms such as HTTP GET.</span></span> <span data-ttu-id="9c2bd-220">Comme les événements sont envoyés toohello client, chaque instance de données d’événement contient des métadonnées importantes telles que nombre hello offset et de la séquence qui sont utilisés toofacilitate des points de contrôle sur la séquence d’événements hello.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-220">As events are sent toohello client, each event data instance contains important metadata such as hello offset and sequence number that are used toofacilitate checkpointing on hello event sequence.</span></span>

<span data-ttu-id="9c2bd-221">Données d’événement :</span><span class="sxs-lookup"><span data-stu-id="9c2bd-221">Event data:</span></span>
* <span data-ttu-id="9c2bd-222">Offset</span><span class="sxs-lookup"><span data-stu-id="9c2bd-222">Offset</span></span>
* <span data-ttu-id="9c2bd-223">Numéro de séquence</span><span class="sxs-lookup"><span data-stu-id="9c2bd-223">Sequence number</span></span>
* <span data-ttu-id="9c2bd-224">Corps</span><span class="sxs-lookup"><span data-stu-id="9c2bd-224">Body</span></span>
* <span data-ttu-id="9c2bd-225">Propriétés de l’utilisateur</span><span class="sxs-lookup"><span data-stu-id="9c2bd-225">User properties</span></span>
* <span data-ttu-id="9c2bd-226">Propriétés système</span><span class="sxs-lookup"><span data-stu-id="9c2bd-226">System properties</span></span>

<span data-ttu-id="9c2bd-227">Il est le décalage de hello toomanage responsabilité.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-227">It is your responsibility toomanage hello offset.</span></span>

## <a name="capacity"></a><span data-ttu-id="9c2bd-228">Capacity</span><span class="sxs-lookup"><span data-stu-id="9c2bd-228">Capacity</span></span>

<span data-ttu-id="9c2bd-229">Concentrateurs d’événements possède une architecture parallèle hautement extensible et il existe plusieurs facteurs clés tooconsider, lors du dimensionnement et de mise à l’échelle.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-229">Event Hubs has a highly scalable parallel architecture and there are several key factors tooconsider when sizing and scaling.</span></span>

### <a name="throughput-units"></a><span data-ttu-id="9c2bd-230">Unités de débit</span><span class="sxs-lookup"><span data-stu-id="9c2bd-230">Throughput units</span></span>

<span data-ttu-id="9c2bd-231">capacité de débit Hello des concentrateurs d’événements est contrôlée par *unités de débit*.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-231">hello throughput capacity of Event Hubs is controlled by *throughput units*.</span></span> <span data-ttu-id="9c2bd-232">Les unités de débit sont des unités de capacité achetées préalablement.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-232">Throughput units are pre-purchased units of capacity.</span></span> <span data-ttu-id="9c2bd-233">Une unité de débit inclut hello suivant de capacité :</span><span class="sxs-lookup"><span data-stu-id="9c2bd-233">A single throughput unit includes hello following capacity:</span></span>

* <span data-ttu-id="9c2bd-234">Entrée : des Mo too1 par seconde ou 1 000 événements par seconde (selon celle qui apparaît en premier)</span><span class="sxs-lookup"><span data-stu-id="9c2bd-234">Ingress: Up too1 MB per second or 1000 events per second (whichever comes first)</span></span>
* <span data-ttu-id="9c2bd-235">Sortie : des Mo too2 par seconde</span><span class="sxs-lookup"><span data-stu-id="9c2bd-235">Egress: Up too2 MB per second</span></span>

<span data-ttu-id="9c2bd-236">Au-delà de la capacité de hello de hello acheté des unités de débit, l’entrée est limitée et un [ServerBusyException](/dotnet/api/microsoft.servicebus.messaging.serverbusyexception) est retourné.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-236">Beyond hello capacity of hello purchased throughput units, ingress is throttled and a [ServerBusyException](/dotnet/api/microsoft.servicebus.messaging.serverbusyexception) is returned.</span></span> <span data-ttu-id="9c2bd-237">Sortie ne produit pas d’exceptions de limitation, mais toujours limitée toohello une capacité de hello acheté des unités de débit.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-237">Egress does not produce throttling exceptions, but is still limited toohello capacity of hello purchased throughput units.</span></span> <span data-ttu-id="9c2bd-238">Si vous recevez des exceptions de vitesse de publication ou que vous attendez une sortie supérieure toosee, être toocheck que le nombre d’unités de débit que vous avez achetées pour l’espace de noms hello.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-238">If you receive publishing rate exceptions or are expecting toosee higher egress, be sure toocheck how many throughput units you have purchased for hello namespace.</span></span> <span data-ttu-id="9c2bd-239">Vous pouvez gérer des unités de débit sur hello **échelle** panneau d’espaces de noms hello Bonjour [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="9c2bd-239">You can manage throughput units on hello **Scale** blade of hello namespaces in hello [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="9c2bd-240">Vous pouvez également gérer des unités de débit par programmation à l’aide de hello [API de concentrateurs d’événements](event-hubs-api-overview.md).</span><span class="sxs-lookup"><span data-stu-id="9c2bd-240">You can also manage throughput units programmatically using hello [Event Hubs APIs](event-hubs-api-overview.md).</span></span>

<span data-ttu-id="9c2bd-241">Les unités de débit sont facturées par heure et sont préalablement acquises.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-241">Throughput units are billed per hour and are pre-purchased.</span></span> <span data-ttu-id="9c2bd-242">Une fois achetées, les unités de débit sont facturées au moins une heure.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-242">Once purchased, throughput units are billed for a minimum of one hour.</span></span> <span data-ttu-id="9c2bd-243">Too20 unités de débit peuvent être achetées pour un espace de noms de concentrateurs d’événements et sont partagées entre tous les concentrateurs d’événements dans l’espace de noms hello.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-243">Up too20 throughput units can be purchased for an Event Hubs namespace and are shared across all Event Hubs in hello namespace.</span></span>

<span data-ttu-id="9c2bd-244">Plusieurs unités de débit peuvent être achetées dans les blocs de 20 unités de débit too100, en contactant le support Azure.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-244">More throughput units can be purchased in blocks of 20, up too100 throughput units, by contacting Azure support.</span></span> <span data-ttu-id="9c2bd-245">Ensuite, vous pouvez également acheter des blocs de 100 unités de débit.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-245">Beyond that, you can also purchase blocks of 100 throughput units.</span></span>

<span data-ttu-id="9c2bd-246">Nous vous recommandons d’équilibrer échelle optimale tooachieve partitions et les unités de débit.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-246">We recommend that you balance throughput units and partitions tooachieve optimal scale.</span></span> <span data-ttu-id="9c2bd-247">Une partition unique a une échelle maximale d'une unité de débit.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-247">A single partition has a maximum scale of one throughput unit.</span></span> <span data-ttu-id="9c2bd-248">Hello nombre d’unités de débit doit être inférieure ou égale nombre toohello de partitions dans un concentrateur d’événements.</span><span class="sxs-lookup"><span data-stu-id="9c2bd-248">hello number of throughput units should be less than or equal toohello number of partitions in an event hub.</span></span>

<span data-ttu-id="9c2bd-249">Pour obtenir des informations de tarification détaillées des concentrateurs d’événements, consultez [Tarification des concentrateurs d’événements](https://azure.microsoft.com/pricing/details/event-hubs/).</span><span class="sxs-lookup"><span data-stu-id="9c2bd-249">For detailed Event Hubs pricing information, see [Event Hubs pricing](https://azure.microsoft.com/pricing/details/event-hubs/).</span></span>

## <a name="next-steps"></a><span data-ttu-id="9c2bd-250">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="9c2bd-250">Next steps</span></span>

<span data-ttu-id="9c2bd-251">Pour plus d’informations sur les concentrateurs d’événements, consultez hello suivant liens :</span><span class="sxs-lookup"><span data-stu-id="9c2bd-251">For more information about Event Hubs, visit hello following links:</span></span>

* <span data-ttu-id="9c2bd-252">Prise en main avec un [didacticiel des hubs d'événements][Event Hubs tutorial]</span><span class="sxs-lookup"><span data-stu-id="9c2bd-252">Get started with an [Event Hubs tutorial][Event Hubs tutorial]</span></span>
* [<span data-ttu-id="9c2bd-253">Guide de programmation de concentrateurs d’événements</span><span class="sxs-lookup"><span data-stu-id="9c2bd-253">Event Hubs programming guide</span></span>](event-hubs-programming-guide.md)
* [<span data-ttu-id="9c2bd-254">Disponibilité et cohérence dans Event Hubs</span><span class="sxs-lookup"><span data-stu-id="9c2bd-254">Availability and consistency in Event Hubs</span></span>](event-hubs-availability-and-consistency.md)
* [<span data-ttu-id="9c2bd-255">FAQ sur les hubs d'événements</span><span class="sxs-lookup"><span data-stu-id="9c2bd-255">Event Hubs FAQ</span></span>](event-hubs-faq.md)
* <span data-ttu-id="9c2bd-256">[Exemples de hubs d’événements][]</span><span class="sxs-lookup"><span data-stu-id="9c2bd-256">[Event Hubs samples][]</span></span>

[Event Hubs tutorial]: event-hubs-dotnet-standard-getstarted-send.md
[Exemples de hubs d’événements]: https://github.com/Azure/azure-event-hubs/tree/master/samples
