---
title: "aaaDiagnose et résoudre les problèmes | Documents Microsoft"
description: "Ce didacticiel décrit comment toodiagnose et résoudre les problèmes dans votre environnement un aperçu en temps série"
keywords: 
services: time-series-insights
documentationcenter: 
author: venkatgct
manager: almineev
editor: cgronlun
ms.assetid: 
ms.service: time-series-insights
ms.devlang: na
ms.topic: how-to-article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 04/24/2017
ms.author: venkatja
ms.openlocfilehash: 00893d4bec497f5f8bf7093be5b96f1844446d13
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="diagnose-and-solve-problems-in-your-time-series-insights-environment"></a><span data-ttu-id="0f735-103">Diagnostiquer et résoudre les problèmes dans votre environnement Time Series Insights</span><span class="sxs-lookup"><span data-stu-id="0f735-103">Diagnose and solve problems in your Time Series Insights environment</span></span>

## <a name="i-dont-see-my-data"></a><span data-ttu-id="0f735-104">Mes données ne s’affichent pas</span><span class="sxs-lookup"><span data-stu-id="0f735-104">I don't see my data</span></span>
<span data-ttu-id="0f735-105">Voici quelques raisons pour lesquelles vous ne voyiez pas vos données dans votre environnement Bonjour [portail Azure temps série Insights](https://insights.timeseries.azure.com).</span><span class="sxs-lookup"><span data-stu-id="0f735-105">Here are some reasons why you might not see your data in your environment in hello [Azure Time Series Insights portal](https://insights.timeseries.azure.com).</span></span>

### <a name="your-event-source-doesnt-have-data-in-json-format"></a><span data-ttu-id="0f735-106">Votre source d’événement ne contient pas de données au format JSON</span><span class="sxs-lookup"><span data-stu-id="0f735-106">Your event source doesn't have data in JSON format</span></span>
<span data-ttu-id="0f735-107">Pour le moment, Azure Time Series Insights ne prend en charge que les données JSON.</span><span class="sxs-lookup"><span data-stu-id="0f735-107">Azure Time Series Insights supports only JSON data today.</span></span> <span data-ttu-id="0f735-108">Pour obtenir des exemples de données JSON, consultez [Structures JSON prises en charge](time-series-insights-send-events.md#supported-json-shapes).</span><span class="sxs-lookup"><span data-stu-id="0f735-108">For JSON samples, see [Supported JSON shapes](time-series-insights-send-events.md#supported-json-shapes).</span></span>

### <a name="when-you-registered-your-event-source-you-didnt-provide-hello-key-that-has-hello-required-permission"></a><span data-ttu-id="0f735-109">Lorsque vous avez inscrit votre source d’événements, vous n’avez pas fourni de clé hello qui a l’autorisation de hello requis</span><span class="sxs-lookup"><span data-stu-id="0f735-109">When you registered your event source, you didn't provide hello key that has hello required permission</span></span>
* <span data-ttu-id="0f735-110">Pour un hub IoT, vous devez clé hello tooprovide a **service de se connecter** autorisation.</span><span class="sxs-lookup"><span data-stu-id="0f735-110">For an IoT hub, you need tooprovide hello key that has **service connect** permission.</span></span>

   ![Autorisation de connexion de service IoT Hub](media/diagnose-and-solve-problems/iothub-serviceconnect-permissions.png)

   <span data-ttu-id="0f735-112">Comme indiqué dans hello précédant l’image, une des stratégies de hello **iothubowner** et **service** fonctionne, car les deux ont **service de se connecter** autorisation.</span><span class="sxs-lookup"><span data-stu-id="0f735-112">As shown in hello preceding image, either of hello policies **iothubowner** and **service** would work, because both have **service connect** permission.</span></span>
* <span data-ttu-id="0f735-113">Pour un concentrateur d’événements, vous devez clé hello tooprovide a **écouter** autorisation.</span><span class="sxs-lookup"><span data-stu-id="0f735-113">For an event hub, you need tooprovide hello key that has **Listen** permission.</span></span>

   ![Autorisation d’écoute EventHub](media/diagnose-and-solve-problems/eventhub-listen-permissions.png)

   <span data-ttu-id="0f735-115">Comme indiqué dans hello précédant l’image, une des stratégies de hello **lire** et **gérer** fonctionne, car les deux ont **écouter** autorisation.</span><span class="sxs-lookup"><span data-stu-id="0f735-115">As shown in hello preceding image, either of hello policies **read** and **manage** would work, because both have **Listen** permission.</span></span>

### <a name="hello-provided-consumer-group-is-not-exclusive-tootime-series-insights"></a><span data-ttu-id="0f735-116">Hello fourni le groupe de consommateurs n’est pas exclusive tooTime série Insights</span><span class="sxs-lookup"><span data-stu-id="0f735-116">hello provided consumer group is not exclusive tooTime Series Insights</span></span>
<span data-ttu-id="0f735-117">Un hub IoT ou un concentrateur d’événements, lors de l’inscription nous nécessiter un groupe de consommateurs hello toospecify qui doit être utilisé pour la lecture de vos données.</span><span class="sxs-lookup"><span data-stu-id="0f735-117">For an IoT hub or an event hub, during registration we require you toospecify hello consumer group that should be used for reading your data.</span></span> <span data-ttu-id="0f735-118">Ce groupe de consommateurs ne doit pas être partagé.</span><span class="sxs-lookup"><span data-stu-id="0f735-118">This consumer group must not be shared.</span></span> <span data-ttu-id="0f735-119">S’il est partagé, concentrateur d’événements hello sous-jacent déconnecte automatiquement un des lecteurs de hello aléatoirement.</span><span class="sxs-lookup"><span data-stu-id="0f735-119">If it's shared, hello underlying event hub automatically disconnects one of hello readers randomly.</span></span>

## <a name="i-see-my-data-but-theres-a-lag"></a><span data-ttu-id="0f735-120">Mes données s’affichent, mais avec un décalage</span><span class="sxs-lookup"><span data-stu-id="0f735-120">I see my data, but there's a lag</span></span>
<span data-ttu-id="0f735-121">Voici les raisons pour lesquelles pourquoi vous pouvez voir des données partielles dans votre environnement Bonjour [portail temps série Insights](https://insights.timeseries.azure.com).</span><span class="sxs-lookup"><span data-stu-id="0f735-121">Here are reasons why you might see partial data in your environment in hello [Time Series Insights portal](https://insights.timeseries.azure.com).</span></span>

### <a name="your-environment-is-getting-throttled"></a><span data-ttu-id="0f735-122">Votre environnement est sujet à des limitations</span><span class="sxs-lookup"><span data-stu-id="0f735-122">Your environment is getting throttled</span></span>
<span data-ttu-id="0f735-123">Hello limitation est appliquée en fonction du type de référence (SKU) et la capacité de l’environnement hello.</span><span class="sxs-lookup"><span data-stu-id="0f735-123">hello throttling limit is enforced based on hello environment's SKU type and capacity.</span></span> <span data-ttu-id="0f735-124">Toutes les sources d’événements dans l’environnement de hello partagent cette capacité.</span><span class="sxs-lookup"><span data-stu-id="0f735-124">All event sources in hello environment share this capacity.</span></span> <span data-ttu-id="0f735-125">Si la source d’événement hello pour votre hub IoT ou un concentrateur d’événements est effectué un push des données au-delà des limites de hello appliquée, vous consultez un décalage et limitation.</span><span class="sxs-lookup"><span data-stu-id="0f735-125">If hello event source for your IoT hub or event hub is pushing data beyond hello enforced limits, you see throttling and a lag.</span></span>

<span data-ttu-id="0f735-126">Hello suivant schéma montre un environnement de temps série Insights qui a une référence (SKU) de S1 et une capacité de 3.</span><span class="sxs-lookup"><span data-stu-id="0f735-126">hello following diagram shows a Time Series Insights environment that has a SKU of S1 and a capacity of 3.</span></span> <span data-ttu-id="0f735-127">Cet environnement peut recevoir 3 millions d’événements par jour.</span><span class="sxs-lookup"><span data-stu-id="0f735-127">It can ingress 3 million events per day.</span></span>

![Capacité actuelle et référence de l’environnement](media/diagnose-and-solve-problems/environment-sku-current-capacity.png)

<span data-ttu-id="0f735-129">Partons du principe que cet environnement est réception des messages à partir d’un concentrateur d’événements avec les taux d’entrée hello illustré hello suivant schéma :</span><span class="sxs-lookup"><span data-stu-id="0f735-129">Assume that this environment is ingesting messages from an event hub with hello ingress rate shown in hello following diagram:</span></span>

![Exemple de taux d’entrée pour un concentrateur d’événements](media/diagnose-and-solve-problems/eventhub-ingress-rate.png)

<span data-ttu-id="0f735-131">Comme indiqué dans le diagramme de hello, taux d’entrée quotidien hello est ~ 67 000 messages.</span><span class="sxs-lookup"><span data-stu-id="0f735-131">As shown in hello diagram, hello daily ingress rate is ~67,000 messages.</span></span> <span data-ttu-id="0f735-132">Ce taux convertit les messages too46 environ toutes les minutes.</span><span class="sxs-lookup"><span data-stu-id="0f735-132">This rate translates roughly too46 messages every minute.</span></span> <span data-ttu-id="0f735-133">Si chaque message d’événement de concentrateur est aplatie tooa événement temps série Insights, cet environnement ne voit aucune limitation.</span><span class="sxs-lookup"><span data-stu-id="0f735-133">If each event hub message is flattened tooa single Time Series Insights event, this environment sees no throttling.</span></span> <span data-ttu-id="0f735-134">Si chaque message d’événement de concentrateur est aplatie too100 temps série Insights événements, puis 4 600 événements doivent être ingérées toutes les minutes.</span><span class="sxs-lookup"><span data-stu-id="0f735-134">If each event hub message is flattened too100 Time Series Insights events, then 4,600 events should be ingested every minute.</span></span> <span data-ttu-id="0f735-135">Un environnement de référence (SKU) S1 qui a une capacité de 3 peut uniquement prendre 2 100 événements d’entrée toutes les minutes (1 million d’événements par jour = 700 événements par minute à 3 unités = 2 100 événements par minute).</span><span class="sxs-lookup"><span data-stu-id="0f735-135">An S1 SKU environment that has a capacity of 3 can ingress only 2,100 events every minute (1 million events per day = 700 events per minute at 3 units = 2,100 events per minute).</span></span> <span data-ttu-id="0f735-136">Par conséquent, vous voyez un décalage toothrottling échéance.</span><span class="sxs-lookup"><span data-stu-id="0f735-136">Therefore you see a lag due toothrottling.</span></span> 

<span data-ttu-id="0f735-137">Pour en savoir plus sur la logique de mise à plat, consultez [Structures JSON prises en charge](time-series-insights-send-events.md#supported-json-shapes).</span><span class="sxs-lookup"><span data-stu-id="0f735-137">For a high-level understanding of how flattening logic works, see [Supported JSON shapes](time-series-insights-send-events.md#supported-json-shapes).</span></span>

#### <a name="recommended-steps"></a><span data-ttu-id="0f735-138">Étapes recommandées</span><span class="sxs-lookup"><span data-stu-id="0f735-138">Recommended steps</span></span>
<span data-ttu-id="0f735-139">retard hello toofix, hello d’augmentation de capacité de référence (SKU) de votre environnement.</span><span class="sxs-lookup"><span data-stu-id="0f735-139">toofix hello lag, increase hello SKU capacity of your environment.</span></span> <span data-ttu-id="0f735-140">Pour plus d’informations, consultez [comment tooscale votre environnement temps série Insights](time-series-insights-how-to-scale-your-environment.md).</span><span class="sxs-lookup"><span data-stu-id="0f735-140">For more information, see [How tooscale your Time Series Insights environment](time-series-insights-how-to-scale-your-environment.md).</span></span>

### <a name="youre-pushing-historical-data-and-causing-slow-ingress"></a><span data-ttu-id="0f735-141">Vous envoyez des données d’historique et causez un ralentissement en entrée</span><span class="sxs-lookup"><span data-stu-id="0f735-141">You're pushing historical data and causing slow ingress</span></span>
<span data-ttu-id="0f735-142">Si vous vous connectez à une source d’événement existante, il est probable que votre concentrateur Event Hub ou IoT Hub comporte déjà des données.</span><span class="sxs-lookup"><span data-stu-id="0f735-142">If you are connecting an existing event source, it's likely that your IoT hub or event hub already has data in it.</span></span> <span data-ttu-id="0f735-143">Par conséquent, hello démarrage environnement extrayant des données à partir du début hello de période de rétention de message de la source d’événement hello.</span><span class="sxs-lookup"><span data-stu-id="0f735-143">So hello environment starts pulling data from hello beginning of hello event source's message retention period.</span></span> 

<span data-ttu-id="0f735-144">Ce comportement est le comportement par défaut de hello et ne peut pas être substitué.</span><span class="sxs-lookup"><span data-stu-id="0f735-144">This behavior is hello default behavior and cannot be overridden.</span></span> <span data-ttu-id="0f735-145">Vous pouvez prendre part aux limitation, et peut prendre un certain temps toocatch haut sur la réception des données d’historique.</span><span class="sxs-lookup"><span data-stu-id="0f735-145">You can engage throttling, and it may take a while toocatch up on ingesting historical data.</span></span>

#### <a name="recommended-steps"></a><span data-ttu-id="0f735-146">Étapes recommandées</span><span class="sxs-lookup"><span data-stu-id="0f735-146">Recommended steps</span></span>
<span data-ttu-id="0f735-147">retard hello toofix, hello prennent comme suit :</span><span class="sxs-lookup"><span data-stu-id="0f735-147">toofix hello lag, take hello following steps:</span></span>
1. <span data-ttu-id="0f735-148">Augmentez hello SKU capacité toohello valeur maximale autorisée (10 dans ce cas).</span><span class="sxs-lookup"><span data-stu-id="0f735-148">Increase hello SKU capacity toohello maximum allowed value (10 in this case).</span></span> <span data-ttu-id="0f735-149">Une fois que la capacité de hello est augmentée, processus d’entrée hello démarre rattrape le retard beaucoup plus rapidement.</span><span class="sxs-lookup"><span data-stu-id="0f735-149">After hello capacity is increased, hello ingress process starts catching up much faster.</span></span> <span data-ttu-id="0f735-150">Vous pouvez visualiser la rapidité avec laquelle vous êtes rattrape le retard via le graphique de disponibilité hello Bonjour [portail temps série Insights](https://insights.timeseries.azure.com).</span><span class="sxs-lookup"><span data-stu-id="0f735-150">You can visualize how quickly you're catching up through hello availability chart in hello [Time Series Insights portal](https://insights.timeseries.azure.com).</span></span> <span data-ttu-id="0f735-151">Vous êtes facturé pour la capacité de hello augmenté.</span><span class="sxs-lookup"><span data-stu-id="0f735-151">You are charged for hello increased capacity.</span></span>
2. <span data-ttu-id="0f735-152">Après avoir hello lag est en retard, diminuer les taux d’entrée normal tooyour arrière capacités hello référence (SKU).</span><span class="sxs-lookup"><span data-stu-id="0f735-152">After hello lag is caught up, decrease hello SKU capacity back tooyour normal ingress rate.</span></span>

## <a name="my-event-sources-timestamp-property-name-setting-doesnt-work"></a><span data-ttu-id="0f735-153">Le paramètre *Nom de la propriété timestamp* de ma source d’événement ne fonctionne pas</span><span class="sxs-lookup"><span data-stu-id="0f735-153">My event source's *timestamp property name* setting doesn't work</span></span>
<span data-ttu-id="0f735-154">Vérifiez que hello nom et la valeur sont conformes toohello suivant les règles :</span><span class="sxs-lookup"><span data-stu-id="0f735-154">Ensure that hello name and value conform toohello following rules:</span></span>
* <span data-ttu-id="0f735-155">nom de la propriété timestamp Hello est _respectant la casse_.</span><span class="sxs-lookup"><span data-stu-id="0f735-155">hello timestamp property name is _case-sensitive_.</span></span>
* <span data-ttu-id="0f735-156">valeur de propriété timestamp Hello provenant de votre source d’événement, comme une chaîne JSON, doit avoir le format de hello _AAAA-MM-JJThh. FFFFFFFK_.</span><span class="sxs-lookup"><span data-stu-id="0f735-156">hello timestamp property value that's coming from your event source, as a JSON string, should have hello format _yyyy-MM-ddTHH:mm:ss.FFFFFFFK_.</span></span> <span data-ttu-id="0f735-157">Exemple de chaîne : 2008-04-12T12:53Z.</span><span class="sxs-lookup"><span data-stu-id="0f735-157">An example of such a string is “2008-04-12T12:53Z”.</span></span>
