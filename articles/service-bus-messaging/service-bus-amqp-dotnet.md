---
title: aaaService Bus avec .NET et AMQP 1.0 | Documents Microsoft
description: "Utilisation d’Azure Service Bus à partir de .NET avec AMQP"
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 332bcb13-e287-4715-99ee-3d7d97396487
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 04/19/2017
ms.author: sethm
ms.openlocfilehash: d8b40f92ba29058951556fa3db1adcf9383ee69f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="using-service-bus-from-net-with-amqp-10"></a><span data-ttu-id="c14e4-103">Utilisation de Service Bus à partir de .NET avec AMQP 1.0</span><span class="sxs-lookup"><span data-stu-id="c14e4-103">Using Service Bus from .NET with AMQP 1.0</span></span>

## <a name="downloading-hello-service-bus-sdk"></a><span data-ttu-id="c14e4-104">Hello durant le téléchargement du Kit de développement logiciel de Service Bus</span><span class="sxs-lookup"><span data-stu-id="c14e4-104">Downloading hello Service Bus SDK</span></span>

<span data-ttu-id="c14e4-105">Prise en charge d’AMQP 1.0 est disponible dans hello Kit de développement logiciel Service Bus version 2.1 ou ultérieure.</span><span class="sxs-lookup"><span data-stu-id="c14e4-105">AMQP 1.0 support is available in hello Service Bus SDK version 2.1 or later.</span></span> <span data-ttu-id="c14e4-106">Vous pouvez vous assurer version la plus récente hello en téléchargeant les bits de Service Bus hello de [NuGet][NuGet].</span><span class="sxs-lookup"><span data-stu-id="c14e4-106">You can ensure you have hello latest version by downloading hello Service Bus bits from [NuGet][NuGet].</span></span>

## <a name="configuring-net-applications-toouse-amqp-10"></a><span data-ttu-id="c14e4-107">Configuration de .NET applications toouse AMQP 1.0</span><span class="sxs-lookup"><span data-stu-id="c14e4-107">Configuring .NET applications toouse AMQP 1.0</span></span>

<span data-ttu-id="c14e4-108">Par défaut, la bibliothèque cliente de hello .NET Service Bus communique avec les hello Service service Bus à l’aide d’un protocole SOAP dédié.</span><span class="sxs-lookup"><span data-stu-id="c14e4-108">By default, hello Service Bus .NET client library communicates with hello Service Bus service using a dedicated SOAP-based protocol.</span></span> <span data-ttu-id="c14e4-109">toouse AMQP 1.0 au lieu de protocole par défaut de hello nécessite une configuration explicite sur la chaîne de connexion de Service Bus hello, comme décrit dans la section suivante de hello.</span><span class="sxs-lookup"><span data-stu-id="c14e4-109">toouse AMQP 1.0 instead of hello default protocol requires explicit configuration on hello Service Bus connection string, as described in hello next section.</span></span> <span data-ttu-id="c14e4-110">À l'exception de cette modification, le code de l'application reste inchangé lors de l'utilisation d'AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="c14e4-110">Other than this change, application code remains unchanged when using AMQP 1.0.</span></span>

<span data-ttu-id="c14e4-111">Dans la version actuelle de hello, il existe quelques fonctionnalités de l’API qui ne sont pas pris en charge lors de l’utilisation d’AMQP.</span><span class="sxs-lookup"><span data-stu-id="c14e4-111">In hello current release, there are a few API features that are not supported when using AMQP.</span></span> <span data-ttu-id="c14e4-112">Ces fonctionnalités non prises en charge sont répertoriées plus loin dans la section de hello [non pris en charge des fonctionnalités, les restrictions et les différences de comportement](#unsupported-features-restrictions-and-behavioral-differences).</span><span class="sxs-lookup"><span data-stu-id="c14e4-112">These unsupported features are listed later in hello section [Unsupported features, restrictions, and behavioral differences](#unsupported-features-restrictions-and-behavioral-differences).</span></span> <span data-ttu-id="c14e4-113">Certaines des hello paramètres de configuration avancée ont également une signification différente lors de l’utilisation d’AMQP.</span><span class="sxs-lookup"><span data-stu-id="c14e4-113">Some of hello advanced configuration settings also have a different meaning when using AMQP.</span></span>

### <a name="configuration-using-appconfig"></a><span data-ttu-id="c14e4-114">Configuration à l’aide d’App.config</span><span class="sxs-lookup"><span data-stu-id="c14e4-114">Configuration using App.config</span></span>

<span data-ttu-id="c14e4-115">Il est recommandé pour les applications toouse hello App.config fichier toostore de configuration.</span><span class="sxs-lookup"><span data-stu-id="c14e4-115">It is good practice for applications toouse hello App.config configuration file toostore settings.</span></span> <span data-ttu-id="c14e4-116">Pour les applications de Service Bus, vous pouvez utiliser la chaîne de connexion de Service Bus App.config toostore hello.</span><span class="sxs-lookup"><span data-stu-id="c14e4-116">For Service Bus applications, you can use App.config toostore hello Service Bus connection string.</span></span> <span data-ttu-id="c14e4-117">Voici un exemple de fichier App.config :</span><span class="sxs-lookup"><span data-stu-id="c14e4-117">An example App.config file is as follows:</span></span>

```xml
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
    <appSettings>
        <add key="Microsoft.ServiceBus.ConnectionString"
             value="Endpoint=sb://[namespace].servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=[SAS key];TransportType=Amqp" />
    </appSettings>
</configuration>
```

<span data-ttu-id="c14e4-118">Hello valeur Hello `Microsoft.ServiceBus.ConnectionString` paramètre est la chaîne de connexion de Service Bus hello est utilisé tooconfigure hello connexion tooService Bus.</span><span class="sxs-lookup"><span data-stu-id="c14e4-118">hello value of hello `Microsoft.ServiceBus.ConnectionString` setting is hello Service Bus connection string that is used tooconfigure hello connection tooService Bus.</span></span> <span data-ttu-id="c14e4-119">format de Hello est comme suit :</span><span class="sxs-lookup"><span data-stu-id="c14e4-119">hello format is as follows:</span></span>

`Endpoint=sb://[namespace].servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=[SAS key];TransportType=Amqp`

<span data-ttu-id="c14e4-120">Où `[namespace]` et `SharedAccessKey` sont obtenues à partir de hello [portail Azure] [ Azure portal] lorsque vous créez un espace de noms Service Bus.</span><span class="sxs-lookup"><span data-stu-id="c14e4-120">Where `[namespace]` and `SharedAccessKey` are obtained from hello [Azure portal][Azure portal] when you create a Service Bus namespace.</span></span> <span data-ttu-id="c14e4-121">Pour plus d’informations, consultez [créer un espace de noms Service Bus à l’aide de hello portail Azure][Create a Service Bus namespace using hello Azure portal].</span><span class="sxs-lookup"><span data-stu-id="c14e4-121">For more information, see [Create a Service Bus namespace using hello Azure portal][Create a Service Bus namespace using hello Azure portal].</span></span>

<span data-ttu-id="c14e4-122">Lors de l’utilisation d’AMQP, ajoutez la chaîne de connexion de hello avec `;TransportType=Amqp`.</span><span class="sxs-lookup"><span data-stu-id="c14e4-122">When using AMQP, append hello connection string with `;TransportType=Amqp`.</span></span> <span data-ttu-id="c14e4-123">Cette notation fait en sorte que hello client bibliothèque toomake son tooService connexion Bus à l’aide d’AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="c14e4-123">This notation instructs hello client library toomake its connection tooService Bus using AMQP 1.0.</span></span>

## <a name="message-serialization"></a><span data-ttu-id="c14e4-124">Sérialisation de messages</span><span class="sxs-lookup"><span data-stu-id="c14e4-124">Message serialization</span></span>

<span data-ttu-id="c14e4-125">Lorsque vous utilisez le protocole par défaut de hello, hello sérialisation par défaut de la bibliothèque cliente .NET hello est toouse hello [DataContractSerializer] [ DataContractSerializer] type tooserialize un [BrokeredMessage ] [ BrokeredMessage] instance pour le transport entre la bibliothèque cliente de hello et hello Service service Bus.</span><span class="sxs-lookup"><span data-stu-id="c14e4-125">When using hello default protocol, hello default serialization behavior of hello .NET client library is toouse hello [DataContractSerializer][DataContractSerializer] type tooserialize a [BrokeredMessage][BrokeredMessage] instance for transport between hello client library and hello Service Bus service.</span></span> <span data-ttu-id="c14e4-126">Lorsque vous utilisez le mode de transport AMQP hello, bibliothèque hello du client utilise le système de type hello AMQP pour la sérialisation de hello [message réparti] [ BrokeredMessage] dans un message AMQP.</span><span class="sxs-lookup"><span data-stu-id="c14e4-126">When using hello AMQP transport mode, hello client library uses hello AMQP type system for serialization of hello [brokered message][BrokeredMessage] into an AMQP message.</span></span> <span data-ttu-id="c14e4-127">Cette sérialisation permet hello message toobe reçu et interprété par une application de réception qui s’exécute potentiellement sur une plateforme différente, par exemple, une application Java qui utilise l’API JMS de hello tooaccess Service Bus.</span><span class="sxs-lookup"><span data-stu-id="c14e4-127">This serialization enables hello message toobe received and interpreted by a receiving application that is potentially running on a different platform, for example, a Java application that uses hello JMS API tooaccess Service Bus.</span></span>

<span data-ttu-id="c14e4-128">Lorsque vous construisez un [BrokeredMessage] [ BrokeredMessage] instance, vous pouvez fournir un objet .NET en tant qu’un tooserve de constructeur toohello paramètre en tant que corps hello de message de type hello.</span><span class="sxs-lookup"><span data-stu-id="c14e4-128">When you construct a [BrokeredMessage][BrokeredMessage] instance, you can provide a .NET object as a parameter toohello constructor tooserve as hello body of hello message.</span></span> <span data-ttu-id="c14e4-129">Pour les objets qui peuvent être mappés tooAMQP des types primitifs, les corps de hello est sérialisé en types de données AMQP.</span><span class="sxs-lookup"><span data-stu-id="c14e4-129">For objects that can be mapped tooAMQP primitive types, hello body is serialized into AMQP data types.</span></span> <span data-ttu-id="c14e4-130">Si l’objet de hello ne peut pas être mappé directement dans un type primitif AMQP ; Autrement dit, un type personnalisé défini par l’application hello, puis les objet hello est sérialisé à l’aide de hello [DataContractSerializer][DataContractSerializer], et les octets de hello sérialisé sont envoyés dans un message de données AMQP.</span><span class="sxs-lookup"><span data-stu-id="c14e4-130">If hello object cannot be directly mapped into an AMQP primitive type; that is, a custom type defined by hello application, then hello object is serialized using hello [DataContractSerializer][DataContractSerializer], and hello serialized bytes are sent in an AMQP data message.</span></span>

<span data-ttu-id="c14e4-131">interopérabilité toofacilitate avec des clients non .NET, utilisez uniquement des types .NET qui peuvent être sérialisés directement en types AMQP pour les corps de hello du message de type hello.</span><span class="sxs-lookup"><span data-stu-id="c14e4-131">toofacilitate interoperability with non-.NET clients, use only .NET types that can be serialized directly into AMQP types for hello body of hello message.</span></span> <span data-ttu-id="c14e4-132">Hello tableau suivant détaille ces types et le système de type hello correspondant mappage toohello AMQP.</span><span class="sxs-lookup"><span data-stu-id="c14e4-132">hello following table details those types and hello corresponding mapping toohello AMQP type system.</span></span>

| <span data-ttu-id="c14e4-133">Type d’objet de corps .NET</span><span class="sxs-lookup"><span data-stu-id="c14e4-133">.NET Body Object Type</span></span> | <span data-ttu-id="c14e4-134">Type AMQP mappé</span><span class="sxs-lookup"><span data-stu-id="c14e4-134">Mapped AMQP Type</span></span> | <span data-ttu-id="c14e4-135">Type de section de corps AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-135">AMQP Body Section Type</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c14e4-136">valeur booléenne</span><span class="sxs-lookup"><span data-stu-id="c14e4-136">bool</span></span> |<span data-ttu-id="c14e4-137">booléenne</span><span class="sxs-lookup"><span data-stu-id="c14e4-137">boolean</span></span> |<span data-ttu-id="c14e4-138">Valeur AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-138">AMQP Value</span></span> |
| <span data-ttu-id="c14e4-139">byte</span><span class="sxs-lookup"><span data-stu-id="c14e4-139">byte</span></span> |<span data-ttu-id="c14e4-140">ubyte</span><span class="sxs-lookup"><span data-stu-id="c14e4-140">ubyte</span></span> |<span data-ttu-id="c14e4-141">Valeur AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-141">AMQP Value</span></span> |
| <span data-ttu-id="c14e4-142">ushort</span><span class="sxs-lookup"><span data-stu-id="c14e4-142">ushort</span></span> |<span data-ttu-id="c14e4-143">ushort</span><span class="sxs-lookup"><span data-stu-id="c14e4-143">ushort</span></span> |<span data-ttu-id="c14e4-144">Valeur AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-144">AMQP Value</span></span> |
| <span data-ttu-id="c14e4-145">uint</span><span class="sxs-lookup"><span data-stu-id="c14e4-145">uint</span></span> |<span data-ttu-id="c14e4-146">uint</span><span class="sxs-lookup"><span data-stu-id="c14e4-146">uint</span></span> |<span data-ttu-id="c14e4-147">Valeur AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-147">AMQP Value</span></span> |
| <span data-ttu-id="c14e4-148">ulong</span><span class="sxs-lookup"><span data-stu-id="c14e4-148">ulong</span></span> |<span data-ttu-id="c14e4-149">ulong</span><span class="sxs-lookup"><span data-stu-id="c14e4-149">ulong</span></span> |<span data-ttu-id="c14e4-150">Valeur AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-150">AMQP Value</span></span> |
| <span data-ttu-id="c14e4-151">sbyte</span><span class="sxs-lookup"><span data-stu-id="c14e4-151">sbyte</span></span> |<span data-ttu-id="c14e4-152">byte</span><span class="sxs-lookup"><span data-stu-id="c14e4-152">byte</span></span> |<span data-ttu-id="c14e4-153">Valeur AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-153">AMQP Value</span></span> |
| <span data-ttu-id="c14e4-154">short</span><span class="sxs-lookup"><span data-stu-id="c14e4-154">short</span></span> |<span data-ttu-id="c14e4-155">short</span><span class="sxs-lookup"><span data-stu-id="c14e4-155">short</span></span> |<span data-ttu-id="c14e4-156">Valeur AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-156">AMQP Value</span></span> |
| <span data-ttu-id="c14e4-157">int</span><span class="sxs-lookup"><span data-stu-id="c14e4-157">int</span></span> |<span data-ttu-id="c14e4-158">int</span><span class="sxs-lookup"><span data-stu-id="c14e4-158">int</span></span> |<span data-ttu-id="c14e4-159">Valeur AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-159">AMQP Value</span></span> |
| <span data-ttu-id="c14e4-160">long</span><span class="sxs-lookup"><span data-stu-id="c14e4-160">long</span></span> |<span data-ttu-id="c14e4-161">long</span><span class="sxs-lookup"><span data-stu-id="c14e4-161">long</span></span> |<span data-ttu-id="c14e4-162">Valeur AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-162">AMQP Value</span></span> |
| <span data-ttu-id="c14e4-163">float</span><span class="sxs-lookup"><span data-stu-id="c14e4-163">float</span></span> |<span data-ttu-id="c14e4-164">float</span><span class="sxs-lookup"><span data-stu-id="c14e4-164">float</span></span> |<span data-ttu-id="c14e4-165">Valeur AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-165">AMQP Value</span></span> |
| <span data-ttu-id="c14e4-166">double</span><span class="sxs-lookup"><span data-stu-id="c14e4-166">double</span></span> |<span data-ttu-id="c14e4-167">double</span><span class="sxs-lookup"><span data-stu-id="c14e4-167">double</span></span> |<span data-ttu-id="c14e4-168">Valeur AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-168">AMQP Value</span></span> |
| <span data-ttu-id="c14e4-169">décimal</span><span class="sxs-lookup"><span data-stu-id="c14e4-169">decimal</span></span> |<span data-ttu-id="c14e4-170">decimal128</span><span class="sxs-lookup"><span data-stu-id="c14e4-170">decimal128</span></span> |<span data-ttu-id="c14e4-171">Valeur AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-171">AMQP Value</span></span> |
| <span data-ttu-id="c14e4-172">char</span><span class="sxs-lookup"><span data-stu-id="c14e4-172">char</span></span> |<span data-ttu-id="c14e4-173">char</span><span class="sxs-lookup"><span data-stu-id="c14e4-173">char</span></span> |<span data-ttu-id="c14e4-174">Valeur AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-174">AMQP Value</span></span> |
| <span data-ttu-id="c14e4-175">DateTime</span><span class="sxs-lookup"><span data-stu-id="c14e4-175">DateTime</span></span> |<span data-ttu-id="c14e4-176">timestamp</span><span class="sxs-lookup"><span data-stu-id="c14e4-176">timestamp</span></span> |<span data-ttu-id="c14e4-177">Valeur AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-177">AMQP Value</span></span> |
| <span data-ttu-id="c14e4-178">Guid</span><span class="sxs-lookup"><span data-stu-id="c14e4-178">Guid</span></span> |<span data-ttu-id="c14e4-179">uuid</span><span class="sxs-lookup"><span data-stu-id="c14e4-179">uuid</span></span> |<span data-ttu-id="c14e4-180">Valeur AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-180">AMQP Value</span></span> |
| <span data-ttu-id="c14e4-181">byte[]</span><span class="sxs-lookup"><span data-stu-id="c14e4-181">byte[]</span></span> |<span data-ttu-id="c14e4-182">binaire</span><span class="sxs-lookup"><span data-stu-id="c14e4-182">binary</span></span> |<span data-ttu-id="c14e4-183">Valeur AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-183">AMQP Value</span></span> |
| <span data-ttu-id="c14e4-184">string</span><span class="sxs-lookup"><span data-stu-id="c14e4-184">string</span></span> |<span data-ttu-id="c14e4-185">string</span><span class="sxs-lookup"><span data-stu-id="c14e4-185">string</span></span> |<span data-ttu-id="c14e4-186">Valeur AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-186">AMQP Value</span></span> |
| <span data-ttu-id="c14e4-187">System.Collections.IList</span><span class="sxs-lookup"><span data-stu-id="c14e4-187">System.Collections.IList</span></span> |<span data-ttu-id="c14e4-188">list</span><span class="sxs-lookup"><span data-stu-id="c14e4-188">list</span></span> |<span data-ttu-id="c14e4-189">Valeur AMQP : éléments contenus dans la collection de hello peuvent uniquement être ceux qui sont définis dans cette table.</span><span class="sxs-lookup"><span data-stu-id="c14e4-189">AMQP Value: items contained in hello collection can only be those that are defined in this table.</span></span> |
| <span data-ttu-id="c14e4-190">System.Array</span><span class="sxs-lookup"><span data-stu-id="c14e4-190">System.Array</span></span> |<span data-ttu-id="c14e4-191">array</span><span class="sxs-lookup"><span data-stu-id="c14e4-191">array</span></span> |<span data-ttu-id="c14e4-192">Valeur AMQP : éléments contenus dans la collection de hello peuvent uniquement être ceux qui sont définis dans cette table.</span><span class="sxs-lookup"><span data-stu-id="c14e4-192">AMQP Value: items contained in hello collection can only be those that are defined in this table.</span></span> |
| <span data-ttu-id="c14e4-193">System.Collections.IDictionary</span><span class="sxs-lookup"><span data-stu-id="c14e4-193">System.Collections.IDictionary</span></span> |<span data-ttu-id="c14e4-194">map</span><span class="sxs-lookup"><span data-stu-id="c14e4-194">map</span></span> |<span data-ttu-id="c14e4-195">Valeur AMQP : éléments contenus dans la collection de hello peuvent uniquement être ceux qui sont définis dans cette table. Remarque : seules les clés de chaîne sont pris en charge.</span><span class="sxs-lookup"><span data-stu-id="c14e4-195">AMQP Value: items contained in hello collection can only be those that are defined in this table.Note: only String keys are supported.</span></span> |
| <span data-ttu-id="c14e4-196">Uri</span><span class="sxs-lookup"><span data-stu-id="c14e4-196">Uri</span></span> |<span data-ttu-id="c14e4-197">Décrit la chaîne (voir hello tableau suivant)</span><span class="sxs-lookup"><span data-stu-id="c14e4-197">Described string(see hello following table)</span></span> |<span data-ttu-id="c14e4-198">Valeur AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-198">AMQP Value</span></span> |
| <span data-ttu-id="c14e4-199">Datetimeoffset</span><span class="sxs-lookup"><span data-stu-id="c14e4-199">DateTimeOffset</span></span> |<span data-ttu-id="c14e4-200">Décrit le long (voir hello tableau suivant)</span><span class="sxs-lookup"><span data-stu-id="c14e4-200">Described long(see hello following table)</span></span> |<span data-ttu-id="c14e4-201">Valeur AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-201">AMQP Value</span></span> |
| <span data-ttu-id="c14e4-202">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="c14e4-202">TimeSpan</span></span> |<span data-ttu-id="c14e4-203">Décrit le long (voir hello)</span><span class="sxs-lookup"><span data-stu-id="c14e4-203">Described long(see hello following)</span></span> |<span data-ttu-id="c14e4-204">Valeur AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-204">AMQP Value</span></span> |
| <span data-ttu-id="c14e4-205">Stream</span><span class="sxs-lookup"><span data-stu-id="c14e4-205">Stream</span></span> |<span data-ttu-id="c14e4-206">binaire</span><span class="sxs-lookup"><span data-stu-id="c14e4-206">binary</span></span> |<span data-ttu-id="c14e4-207">Données AMQP (peuvent être multiples).</span><span class="sxs-lookup"><span data-stu-id="c14e4-207">AMQP Data (may be multiple).</span></span> <span data-ttu-id="c14e4-208">les sections de données Hello contiennent les octets bruts hello lire à partir de l’objet de flux hello.</span><span class="sxs-lookup"><span data-stu-id="c14e4-208">hello Data sections contain hello raw bytes read from hello Stream object.</span></span> |
| <span data-ttu-id="c14e4-209">Objet Other</span><span class="sxs-lookup"><span data-stu-id="c14e4-209">Other Object</span></span> |<span data-ttu-id="c14e4-210">binaire</span><span class="sxs-lookup"><span data-stu-id="c14e4-210">binary</span></span> |<span data-ttu-id="c14e4-211">Données AMQP (peuvent être multiples).</span><span class="sxs-lookup"><span data-stu-id="c14e4-211">AMQP Data (may be multiple).</span></span> <span data-ttu-id="c14e4-212">Contient des données binaires hello sérialisé d’objet hello qui utilise hello DataContractSerializer ou un sérialiseur fourni par l’application hello.</span><span class="sxs-lookup"><span data-stu-id="c14e4-212">Contains hello serialized binary of hello object that uses hello DataContractSerializer or a serializer supplied by hello application.</span></span> |

| <span data-ttu-id="c14e4-213">Type .NET</span><span class="sxs-lookup"><span data-stu-id="c14e4-213">.NET Type</span></span> | <span data-ttu-id="c14e4-214">Type décrit AMQP mappé</span><span class="sxs-lookup"><span data-stu-id="c14e4-214">Mapped AMQP Described Type</span></span> | <span data-ttu-id="c14e4-215">Remarques</span><span class="sxs-lookup"><span data-stu-id="c14e4-215">Notes</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c14e4-216">Uri</span><span class="sxs-lookup"><span data-stu-id="c14e4-216">Uri</span></span> |`<type name=”uri” class=restricted source=”string”> <descriptor name=”com.microsoft:uri” /></type>` |<span data-ttu-id="c14e4-217">Uri.AbsoluteUri</span><span class="sxs-lookup"><span data-stu-id="c14e4-217">Uri.AbsoluteUri</span></span> |
| <span data-ttu-id="c14e4-218">Datetimeoffset</span><span class="sxs-lookup"><span data-stu-id="c14e4-218">DateTimeOffset</span></span> |`<type name=”datetime-offset” class=restricted source=”long”> <descriptor name=”com.microsoft:datetime-offset” /></type>` |<span data-ttu-id="c14e4-219">DateTimeOffset.UtcTicks</span><span class="sxs-lookup"><span data-stu-id="c14e4-219">DateTimeOffset.UtcTicks</span></span> |
| <span data-ttu-id="c14e4-220">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="c14e4-220">TimeSpan</span></span> |`<type name=”timespan” class=restricted source=”long”> <descriptor name=”com.microsoft:timespan” /></type> ` |<span data-ttu-id="c14e4-221">TimeSpan.Ticks</span><span class="sxs-lookup"><span data-stu-id="c14e4-221">TimeSpan.Ticks</span></span> |

## <a name="unsupported-features-restrictions-and-behavioral-differences"></a><span data-ttu-id="c14e4-222">Fonctionnalités non prises en charge, restrictions et différences de comportement</span><span class="sxs-lookup"><span data-stu-id="c14e4-222">Unsupported features, restrictions, and behavioral differences</span></span>

<span data-ttu-id="c14e4-223">Hello suivant les fonctionnalités de hello les API .NET Service Bus n’est pas actuellement pris en charge lors de l’utilisation d’AMQP :</span><span class="sxs-lookup"><span data-stu-id="c14e4-223">hello following features of hello Service Bus .NET API are not currently supported when using AMQP:</span></span>

* <span data-ttu-id="c14e4-224">Transactions</span><span class="sxs-lookup"><span data-stu-id="c14e4-224">Transactions</span></span>
* <span data-ttu-id="c14e4-225">Envoi via destination de transfert</span><span class="sxs-lookup"><span data-stu-id="c14e4-225">Send via transfer destination</span></span>

<span data-ttu-id="c14e4-226">Il existe également de petites différences de comportement hello Hello les API .NET Service Bus lors de l’utilisation d’AMQP, protocole de toohello comparés par défaut :</span><span class="sxs-lookup"><span data-stu-id="c14e4-226">There are also some small differences in hello behavior of hello Service Bus .NET API when using AMQP, compared toohello default protocol:</span></span>

* <span data-ttu-id="c14e4-227">Hello [OperationTimeout] [ OperationTimeout] propriété est ignorée.</span><span class="sxs-lookup"><span data-stu-id="c14e4-227">hello [OperationTimeout][OperationTimeout] property is ignored.</span></span>
* <span data-ttu-id="c14e4-228">`MessageReceiver.Receive(TimeSpan.Zero)` est implémenté en tant que `MessageReceiver.Receive(TimeSpan.FromSeconds(10))`.</span><span class="sxs-lookup"><span data-stu-id="c14e4-228">`MessageReceiver.Receive(TimeSpan.Zero)` is implemented as `MessageReceiver.Receive(TimeSpan.FromSeconds(10))`.</span></span>
* <span data-ttu-id="c14e4-229">Fin des messages par les jetons de verrou n’est possible par les récepteurs de messages hello initialement reçu les messages hello.</span><span class="sxs-lookup"><span data-stu-id="c14e4-229">Completing messages by lock tokens can only be done by hello message receivers that initially received hello messages.</span></span>

## <a name="controlling-amqp-protocol-settings"></a><span data-ttu-id="c14e4-230">Contrôle des paramètres de protocole AMQP</span><span class="sxs-lookup"><span data-stu-id="c14e4-230">Controlling AMQP protocol settings</span></span>

<span data-ttu-id="c14e4-231">Hello [API .NET](/dotnet/api/) exposer plusieurs toocontrol hello du comportement des paramètres de hello protocole AMQP :</span><span class="sxs-lookup"><span data-stu-id="c14e4-231">hello [.NET APIs](/dotnet/api/) expose several settings toocontrol hello behavior of hello AMQP protocol:</span></span>

* <span data-ttu-id="c14e4-232">**[MessageReceiver.PrefetchCount](/dotnet/api/microsoft.servicebus.messaging.messagereceiver.prefetchcount?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_MessageReceiver_PrefetchCount)**: contrôles hello crédit initial appliqué tooa lien.</span><span class="sxs-lookup"><span data-stu-id="c14e4-232">**[MessageReceiver.PrefetchCount](/dotnet/api/microsoft.servicebus.messaging.messagereceiver.prefetchcount?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_MessageReceiver_PrefetchCount)**: Controls hello initial credit applied tooa link.</span></span> <span data-ttu-id="c14e4-233">valeur par défaut Hello est 0.</span><span class="sxs-lookup"><span data-stu-id="c14e4-233">hello default is 0.</span></span>
* <span data-ttu-id="c14e4-234">**[MessagingFactorySettings.AmqpTransportSettings.MaxFrameSize](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.maxframesize?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_MaxFrameSize)**: taille de trame AMQP maximale contrôles hello fournie durant la négociation hello à ouvrir la connexion.</span><span class="sxs-lookup"><span data-stu-id="c14e4-234">**[MessagingFactorySettings.AmqpTransportSettings.MaxFrameSize](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.maxframesize?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_MaxFrameSize)**: Controls hello maximum AMQP frame size offered during hello negotiation at connection open time.</span></span> <span data-ttu-id="c14e4-235">valeur par défaut Hello est 65 536 octets.</span><span class="sxs-lookup"><span data-stu-id="c14e4-235">hello default is 65,536 bytes.</span></span>
* <span data-ttu-id="c14e4-236">**[MessagingFactorySettings.AmqpTransportSettings.BatchFlushInterval](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.batchflushinterval?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_BatchFlushInterval)**: si les transferts sont exécutables par lots, cette valeur détermine le délai maximal de hello pour envoyer des dispositions.</span><span class="sxs-lookup"><span data-stu-id="c14e4-236">**[MessagingFactorySettings.AmqpTransportSettings.BatchFlushInterval](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.batchflushinterval?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_BatchFlushInterval)**: If transfers are batchable, this value determines hello maximum delay for sending dispositions.</span></span> <span data-ttu-id="c14e4-237">Héritée par les expéditeurs/destinataires par défaut.</span><span class="sxs-lookup"><span data-stu-id="c14e4-237">Inherited by senders/receivers by default.</span></span> <span data-ttu-id="c14e4-238">Expéditeur/destinataire individuel peut remplacer une valeur par défaut de hello, qui est de 20 millisecondes.</span><span class="sxs-lookup"><span data-stu-id="c14e4-238">Individual sender/receiver can override hello default, which is 20 milliseconds.</span></span>
* <span data-ttu-id="c14e4-239">**[MessagingFactorySettings.AmqpTransportSettings.UseSslStreamSecurity](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.usesslstreamsecurity?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_UseSslStreamSecurity)** : contrôle si les connexions AMQP sont établies via une connexion SSL.</span><span class="sxs-lookup"><span data-stu-id="c14e4-239">**[MessagingFactorySettings.AmqpTransportSettings.UseSslStreamSecurity](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.usesslstreamsecurity?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_UseSslStreamSecurity)**: Controls whether AMQP connections are established over an SSL connection.</span></span> <span data-ttu-id="c14e4-240">valeur par défaut Hello est **true**.</span><span class="sxs-lookup"><span data-stu-id="c14e4-240">hello default is **true**.</span></span>

## <a name="next-steps"></a><span data-ttu-id="c14e4-241">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="c14e4-241">Next steps</span></span>

<span data-ttu-id="c14e4-242">Prêt toolearn plus ?</span><span class="sxs-lookup"><span data-stu-id="c14e4-242">Ready toolearn more?</span></span> <span data-ttu-id="c14e4-243">Visitez hello suivant liens :</span><span class="sxs-lookup"><span data-stu-id="c14e4-243">Visit hello following links:</span></span>

* <span data-ttu-id="c14e4-244">[Vue d’ensemble du protocole AMQP de Service Bus]</span><span class="sxs-lookup"><span data-stu-id="c14e4-244">[Service Bus AMQP overview]</span></span>
* <span data-ttu-id="c14e4-245">[Prise en charge d’AMQP 1.0 dans les rubriques et files d’attente partitionnées Service Bus]</span><span class="sxs-lookup"><span data-stu-id="c14e4-245">[AMQP 1.0 support for Service Bus partitioned queues and topics]</span></span>
* <span data-ttu-id="c14e4-246">[AMQP dans Service Bus pour Windows Server]</span><span class="sxs-lookup"><span data-stu-id="c14e4-246">[AMQP in Service Bus for Windows Server]</span></span>

[Create a Service Bus namespace using hello Azure portal]: service-bus-create-namespace-portal.md
[DataContractSerializer]: https://msdn.microsoft.com/library/system.runtime.serialization.datacontractserializer.aspx
[BrokeredMessage]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage?view=azureservicebus-4.0.0
[Microsoft.ServiceBus.Messaging.MessagingFactory.AcceptMessageSession]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory.acceptmessagesession?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_MessagingFactory_AcceptMessageSession
[OperationTimeout]: /dotnet/api/microsoft.servicebus.messaging.messagingfactorysettings.operationtimeout?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_MessagingFactorySettings_OperationTimeout
[NuGet]: http://nuget.org/packages/WindowsAzure.ServiceBus/
[Azure portal]: https://portal.azure.com
[Vue d’ensemble du protocole AMQP de Service Bus]: service-bus-amqp-overview.md
[Prise en charge d’AMQP 1.0 dans les rubriques et files d’attente partitionnées Service Bus]: service-bus-partitioned-queues-and-topics-amqp-overview.md
[AMQP dans Service Bus pour Windows Server]: https://msdn.microsoft.com/library/dn574799.aspx
