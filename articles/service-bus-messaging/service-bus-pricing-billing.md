---
title: Tarification et facturation de Service Bus | Microsoft Docs
description: "Présentation de la structure de prix de Service Bus."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 7c45b112-e911-45ab-9203-a2e5abccd6e0
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 05/02/2017
ms.author: sethm
ms.openlocfilehash: 5161b555db96886f556a4fe96eab4415d8ccf047
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="service-bus-pricing-and-billing"></a><span data-ttu-id="db376-103">Tarification et facturation de Service Bus</span><span class="sxs-lookup"><span data-stu-id="db376-103">Service Bus pricing and billing</span></span>
<span data-ttu-id="db376-104">Service Bus est disponible en trois niveaux de service : De base, Standard, et [Premium](service-bus-premium-messaging.md).</span><span class="sxs-lookup"><span data-stu-id="db376-104">Service Bus is offered in Basic, Standard, and [Premium](service-bus-premium-messaging.md) tiers.</span></span> <span data-ttu-id="db376-105">Vous pouvez choisir un niveau de service pour chaque espace de noms Service Bus que vous créez ; cette sélection s’applique à l’ensemble des entités créées dans cet espace de noms.</span><span class="sxs-lookup"><span data-stu-id="db376-105">You can choose a service tier for each Service Bus service namespace that you create, and this tier selection applies across all entities created within that namespace.</span></span>

> [!NOTE]
> <span data-ttu-id="db376-106">Pour obtenir des informations détaillées sur la tarification actuelle de Service Bus, consultez la [page de tarification Azure Service Bus](https://azure.microsoft.com/pricing/details/service-bus/) et la [FAQ de Service Bus](service-bus-faq.md#pricing).</span><span class="sxs-lookup"><span data-stu-id="db376-106">For detailed information about current Service Bus pricing, see the [Azure Service Bus pricing page](https://azure.microsoft.com/pricing/details/service-bus/), and the [Service Bus FAQ](service-bus-faq.md#pricing).</span></span>
>
>

<span data-ttu-id="db376-107">Service Bus utilise les deux mesures suivantes pour les files d’attente et les rubriques/abonnements :</span><span class="sxs-lookup"><span data-stu-id="db376-107">Service Bus uses the following two meters for queues and topics/subscriptions:</span></span>

1. <span data-ttu-id="db376-108">**Opérations de messagerie**: définies en tant qu’appels API par rapport aux points de terminaison du service de file d’attente ou de rubrique/abonnement.</span><span class="sxs-lookup"><span data-stu-id="db376-108">**Messaging Operations**: Defined as API calls against queue or topic/subscription service endpoints.</span></span> <span data-ttu-id="db376-109">Cette mesure remplacera les messages envoyés ou reçus en tant qu’unités principales de l’utilisation facturable des files d’attente et des rubriques/abonnements.</span><span class="sxs-lookup"><span data-stu-id="db376-109">This meter will replace messages sent or received as the primary unit of billable usage for queues and topics/subscriptions.</span></span>
2. <span data-ttu-id="db376-110">**Connexions réparties**: définies comme le nombre maximal de connexions persistantes ouvertes par rapport aux files d’attente, rubriques ou abonnements pendant une période d’échantillonnage d’une heure donnée.</span><span class="sxs-lookup"><span data-stu-id="db376-110">**Brokered Connections**: Defined as the peak number of persistent connections open against queues, topics, or subscriptions during a given one-hour sampling period.</span></span> <span data-ttu-id="db376-111">Cette mesure s’appliquera uniquement au niveau standard, dans lequel vous pouvez ouvrir des connexions supplémentaires (auparavant, les connexions étaient limitées à 100 par file d’attente/rubrique/abonnement) pour des frais minimaux par connexion.</span><span class="sxs-lookup"><span data-stu-id="db376-111">This meter will only apply in the Standard tier, in which you can open additional connections (previously, connections were limited to 100 per queue/topic/subscription) for a nominal per-connection fee.</span></span>

<span data-ttu-id="db376-112">Le niveau **standard** présente une tarification progressive pour les opérations exécutées avec les files d’attente et les rubriques/abonnements, ce qui entraîne des remises basées sur le volume de pouvant atteindre 80 %, pour les plus hauts niveaux d’utilisation.</span><span class="sxs-lookup"><span data-stu-id="db376-112">The **Standard** tier introduces graduated pricing for operations performed with queues and topics/subscriptions, resulting in volume-based discounts of up to 80% at the highest usage levels.</span></span> <span data-ttu-id="db376-113">Il existe également des frais de base de niveau standard de 10 $ par mois, ce qui vous permet d'effectuer jusqu'à 12,5 millions d'opérations par mois sans frais supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="db376-113">There is also a Standard tier base charge of $10 per month, which enables you to perform up to 12.5 million operations per month at no additional cost.</span></span>

<span data-ttu-id="db376-114">Le niveau **premium** isole les ressources au niveau des couches processeur et mémoire, ce qui permet d'exécuter chaque charge de travail client de manière isolée.</span><span class="sxs-lookup"><span data-stu-id="db376-114">The **Premium** tier provides resource isolation at the CPU and memory layer so that each customer workload runs in isolation.</span></span> <span data-ttu-id="db376-115">Ce conteneur de ressources est appelé *unité de messagerie*.</span><span class="sxs-lookup"><span data-stu-id="db376-115">This resource container is called a *messaging unit*.</span></span> <span data-ttu-id="db376-116">Au moins une unité de messagerie est allouée à chaque espace de noms premium.</span><span class="sxs-lookup"><span data-stu-id="db376-116">Each premium namespace is allocated at least one messaging unit.</span></span> <span data-ttu-id="db376-117">Vous pouvez acheter une, deux ou quatre unités de messagerie pour chaque espace de noms Service Bus Premium.</span><span class="sxs-lookup"><span data-stu-id="db376-117">You can purchase 1, 2, or 4 messaging units for each Service Bus Premium namespace.</span></span> <span data-ttu-id="db376-118">Une entité ou une charge de travail unique peut couvrir plusieurs unités de messagerie et le nombre d’unités de messagerie peut être modifié à volonté. En revanche, les frais qui vous sont facturés sont établis par période de 24 heures.</span><span class="sxs-lookup"><span data-stu-id="db376-118">A single workload or entity can span multiple messaging units and the number of messaging units can be changed at will, although billing is in 24-hour or daily rate charges.</span></span> <span data-ttu-id="db376-119">Au final, les performances de votre solution Service Bus sont non seulement prévisibles et répétables,</span><span class="sxs-lookup"><span data-stu-id="db376-119">The result is predictable and repeatable performance for your Service Bus-based solution.</span></span> <span data-ttu-id="db376-120">Au final, les performances de votre solution Service Bus sont non seulement prévisibles et répétables, mais aussi supérieures.</span><span class="sxs-lookup"><span data-stu-id="db376-120">Not only is this performance more predictable and available, but it is also faster.</span></span>

<span data-ttu-id="db376-121">Les frais de base du niveau Standard sont facturés en une seule fois par mois et par abonnement Azure.</span><span class="sxs-lookup"><span data-stu-id="db376-121">Note that the Standard tier base charge is charged only once per month per Azure subscription.</span></span> <span data-ttu-id="db376-122">Aussi, une fois que vous avez créé un premier espace de noms Service Bus de niveau Standard, vous pouvez en créer autant que vous le souhaitez sous le même abonnement Azure, et ce sans frais de base supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="db376-122">This means that after you create a single Standard tier Service Bus namespace, you will be able to create as many additional Standard namespaces as you want under that same Azure subscription, without incurring additional base charges.</span></span>

<span data-ttu-id="db376-123">Le tableau [Tarification Service Bus](https://azure.microsoft.com/pricing/details/service-bus/) résume les différences fonctionnelles entre les niveaux De base, Standard et Premium.</span><span class="sxs-lookup"><span data-stu-id="db376-123">The [Service Bus pricing](https://azure.microsoft.com/pricing/details/service-bus/) table summarizes the functional differences between the Basic, Standard, and Premium tiers.</span></span>

## <a name="messaging-operations"></a><span data-ttu-id="db376-124">Opérations de messagerie</span><span class="sxs-lookup"><span data-stu-id="db376-124">Messaging operations</span></span>
<span data-ttu-id="db376-125">Dans le cadre du nouveau modèle de tarification, la facturation des files d’attente et des rubriques/abonnements évolue.</span><span class="sxs-lookup"><span data-stu-id="db376-125">As part of the new pricing model, billing for queues and topics/subscriptions is changing.</span></span> <span data-ttu-id="db376-126">Ces entités passent d'un modèle de facturation au message à une facturation à l'opération.</span><span class="sxs-lookup"><span data-stu-id="db376-126">These entities are transitioning from billing per message to billing per operation.</span></span> <span data-ttu-id="db376-127">Une « opération » désigne un appel d’API adressé au point de terminaison d’un service de file d’attente ou d’une rubrique/un abonnement.</span><span class="sxs-lookup"><span data-stu-id="db376-127">An "operation" refers to any API call made against a queue or topic/subscription service endpoint.</span></span> <span data-ttu-id="db376-128">Cela inclut les opérations de gestion, d'envoi/réception et d'état de session.</span><span class="sxs-lookup"><span data-stu-id="db376-128">This includes management, send/receive, and session state operations.</span></span>

| <span data-ttu-id="db376-129">Type d'opération</span><span class="sxs-lookup"><span data-stu-id="db376-129">Operation Type</span></span> | <span data-ttu-id="db376-130">Description</span><span class="sxs-lookup"><span data-stu-id="db376-130">Description</span></span> |
| --- | --- |
| <span data-ttu-id="db376-131">gestion</span><span class="sxs-lookup"><span data-stu-id="db376-131">Management</span></span> |<span data-ttu-id="db376-132">Création, lecture, mise à jour, suppression (CRUD) sur les files d’attente ou rubriques/abonnements.</span><span class="sxs-lookup"><span data-stu-id="db376-132">Create, Read, Update, Delete (CRUD) against queues or topics/subscriptions.</span></span> |
| <span data-ttu-id="db376-133">Messagerie</span><span class="sxs-lookup"><span data-stu-id="db376-133">Messaging</span></span> |<span data-ttu-id="db376-134">Envoi et réception de messages avec files d’attente ou rubriques/abonnements.</span><span class="sxs-lookup"><span data-stu-id="db376-134">Sending and receiving messages with queues or topics/subscriptions.</span></span> |
| <span data-ttu-id="db376-135">État de la session</span><span class="sxs-lookup"><span data-stu-id="db376-135">Session state</span></span> |<span data-ttu-id="db376-136">Récupération ou configuration de l’état de session d’une file d’attente ou d’une rubrique/un abonnement.</span><span class="sxs-lookup"><span data-stu-id="db376-136">Getting or setting session state on a queue or topic/subscription.</span></span> |

<span data-ttu-id="db376-137">Pour plus d’informations sur les coûts, consultez les tarifs indiqués dans la page [Tarification de Service Bus](https://azure.microsoft.com/pricing/details/service-bus/).</span><span class="sxs-lookup"><span data-stu-id="db376-137">For cost details, see the prices listed on the [Service Bus pricing](https://azure.microsoft.com/pricing/details/service-bus/) page.</span></span>

## <a name="brokered-connections"></a><span data-ttu-id="db376-138">Connexions réparties</span><span class="sxs-lookup"><span data-stu-id="db376-138">Brokered connections</span></span>
<span data-ttu-id="db376-139">*Brokered connections* répondent aux modèles d’utilisation client qui impliquent un grand nombre d’expéditeurs/de destinataires « en permanence connectés » aux files d’attente, aux rubriques ou aux abonnements.</span><span class="sxs-lookup"><span data-stu-id="db376-139">*Brokered connections* accommodate customer usage patterns that involve a large number of "persistently connected" senders/receivers against queues, topics, or subscriptions.</span></span> <span data-ttu-id="db376-140">Les expéditeurs/destinataires connectés de façon permanente sont ceux qui se connectent à l'aide d'AMQP ou de HTTP avec un délai d'expiration de réception non nul (par exemple, l'interrogation longue HTTP).</span><span class="sxs-lookup"><span data-stu-id="db376-140">Persistently connected senders/receivers are those that connect using either AMQP or HTTP with a non-zero receive timeout (for example, HTTP long polling).</span></span> <span data-ttu-id="db376-141">Les expéditeurs et les destinataires HTTP qui utilisent un délai d'expiration immédiat ne génèrent pas de connexions réparties.</span><span class="sxs-lookup"><span data-stu-id="db376-141">HTTP senders and receivers with an immediate timeout do not generate brokered connections.</span></span>

<span data-ttu-id="db376-142">Pour les quotas de connexion et les autres limites de service, consultez l’article [Quotas Service Bus](service-bus-quotas.md).</span><span class="sxs-lookup"><span data-stu-id="db376-142">For connection quotas and other service limits, see the [Service Bus quotas](service-bus-quotas.md) article.</span></span>

<span data-ttu-id="db376-143">Le niveau Standard supprime la limite de connexion répartie par espace de noms et compte l’utilisation de connexions réparties de façon globale au sein de tout l’abonnement Azure.</span><span class="sxs-lookup"><span data-stu-id="db376-143">The Standard tier removes the per-namespace brokered connection limit and counts aggregate brokered connection usage across the Azure subscription.</span></span> <span data-ttu-id="db376-144">Pour plus d’informations, consultez le tableau [Connexions réparties](https://azure.microsoft.com/pricing/details/service-bus/).</span><span class="sxs-lookup"><span data-stu-id="db376-144">For more information, see the [Brokered connections](https://azure.microsoft.com/pricing/details/service-bus/) table.</span></span>

> [!NOTE]
> <span data-ttu-id="db376-145">1 000 connexions réparties sont incluses avec le niveau de messagerie Standard (avec les frais de base) et peuvent être partagées entre toutes les files d’attente, toutes les rubriques et tous les abonnements au sein de l’abonnement Azure associé.</span><span class="sxs-lookup"><span data-stu-id="db376-145">1,000 brokered connections are included with the Standard messaging tier (via the base charge) and can be shared across all queues, topics, and subscriptions within the associated Azure subscription.</span></span>
>
>

<br />

> [!NOTE]
> <span data-ttu-id="db376-146">La facturation est basée sur le nombre maximal de connexions simultanées et est calculée au prorata toutes les heures basées sur 744 heures par mois.</span><span class="sxs-lookup"><span data-stu-id="db376-146">Billing is based on the peak number of concurrent connections and is prorated hourly based on 744 hours per month.</span></span>
>
>

| <span data-ttu-id="db376-147">Niveau premium</span><span class="sxs-lookup"><span data-stu-id="db376-147">Premium Tier</span></span> |
| --- |
| <span data-ttu-id="db376-148">Les connexions réparties ne sont pas facturées au niveau premium.</span><span class="sxs-lookup"><span data-stu-id="db376-148">Brokered connections are not charged in the Premium tier.</span></span> |

<span data-ttu-id="db376-149">Pour plus d’informations sur les connexions réparties, consultez la section [FAQ](#faq) plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="db376-149">For more information about brokered connections, see the [FAQ](#faq) section later in this topic.</span></span>

## <a name="faq"></a><span data-ttu-id="db376-150">Forum Aux Questions</span><span class="sxs-lookup"><span data-stu-id="db376-150">FAQ</span></span>

### <a name="what-are-brokered-connections-and-how-do-i-get-charged-for-them"></a><span data-ttu-id="db376-151">Que sont les connexions réparties et combien me coûtent-elles ?</span><span class="sxs-lookup"><span data-stu-id="db376-151">What are brokered connections and how do I get charged for them?</span></span>
<span data-ttu-id="db376-152">Une connexion répartie est définie comme suit :</span><span class="sxs-lookup"><span data-stu-id="db376-152">A brokered connection is defined as one of the following:</span></span>

1. <span data-ttu-id="db376-153">Une connexion AMQP d’un client à une file d’attente ou une rubrique/un abonnement Service Bus.</span><span class="sxs-lookup"><span data-stu-id="db376-153">An AMQP connection from a client to a Service Bus queue or topic/subscription.</span></span>
2. <span data-ttu-id="db376-154">Un appel HTTP pour recevoir le message d’une rubrique ou d’une file d’attente Service Bus dont le délai d’expiration de réception est supérieur à zéro.</span><span class="sxs-lookup"><span data-stu-id="db376-154">An HTTP call to receive a message from a Service Bus topic or queue that has a receive timeout value greater than zero.</span></span>

<span data-ttu-id="db376-155">Service Bus facture le nombre maximal de connexions simultanées réparties qui dépassent la quantité incluse (1 000 au niveau standard).</span><span class="sxs-lookup"><span data-stu-id="db376-155">Service Bus charges for the peak number of concurrent brokered connections that exceed the included quantity (1,000 in the Standard tier).</span></span> <span data-ttu-id="db376-156">Des pics sont mesurés toutes les heures, au prorata en divisant les valeurs par 744 heures par mois et en les ajoutant à la période de facturation mensuelle.</span><span class="sxs-lookup"><span data-stu-id="db376-156">Peaks are measured on an hourly basis, prorated by dividing by 744 hours in a month, and added up over the monthly billing period.</span></span> <span data-ttu-id="db376-157">La quantité incluse (1 000 connexions réparties par mois) est appliquée à la fin de la période de facturation par rapport à la somme des pics horaires calculés au prorata.</span><span class="sxs-lookup"><span data-stu-id="db376-157">The included quantity (1,000 brokered connections per month) is applied at the end of the billing period against the sum of the prorated hourly peaks.</span></span>

<span data-ttu-id="db376-158">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="db376-158">For example:</span></span>

1. <span data-ttu-id="db376-159">Chacun des 10 000 appareils se connecte via une connexion AMQP unique et reçoit des commandes à partir d’une rubrique Service Bus.</span><span class="sxs-lookup"><span data-stu-id="db376-159">Each of 10,000 devices connects via a single AMQP connection, and receives commands from a Service Bus topic.</span></span> <span data-ttu-id="db376-160">Les appareils envoient des événements de télémétrie à un Event Hub.</span><span class="sxs-lookup"><span data-stu-id="db376-160">The devices send telemetry events to an Event Hub.</span></span> <span data-ttu-id="db376-161">Si tous les appareils se connectent 12 heures par jour, les frais de connexion suivants s’appliquent (en plus des frais liés à une autre rubrique Service Bus) : 10 000 connexions * 12 heures * 31 jours / 744 = 5 000 connexions réparties.</span><span class="sxs-lookup"><span data-stu-id="db376-161">If all devices connect for 12 hours each day, the following connection charges apply (in addition to any other Service Bus topic charges): 10,000 connections * 12 hours * 31 days / 744 = 5,000 brokered connections.</span></span> <span data-ttu-id="db376-162">Après le volume mensuel de 1 000 connexions réparties, vous serez facturé pour les 4 000 connexions réparties, au tarif de 0,03 $ par connexion répartie, pour un total de 120 $.</span><span class="sxs-lookup"><span data-stu-id="db376-162">After the monthly allowance of 1,000 brokered connections, you would be charged for 4,000 brokered connections, at the rate of $0.03 per brokered connection, for a total of $120.</span></span>
2. <span data-ttu-id="db376-163">10 000 appareils reçoivent des messages d'une file d'attente Service Bus via HTTP, en spécifiant un délai d'expiration différent de zéro.</span><span class="sxs-lookup"><span data-stu-id="db376-163">10,000 devices receive messages from a Service Bus queue via HTTP, specifying a non-zero timeout.</span></span> <span data-ttu-id="db376-164">Si tous les appareils se connectent 12 heures par jour, les frais de connexion suivants s’appliquent (en plus des autres frais liés à Service Bus) : 10 000 connexions de réception HTTP * 12 heures par jour * 31 jours / 744 heures = 5 000 connexions réparties.</span><span class="sxs-lookup"><span data-stu-id="db376-164">If all devices connect for 12 hours every day, you will see the following connection charges (in addition to any other Service Bus charges): 10,000 HTTP Receive connections * 12 hours per day * 31 days / 744 hours = 5,000 brokered connections.</span></span>

### <a name="do-brokered-connection-charges-apply-to-queues-and-topicssubscriptions"></a><span data-ttu-id="db376-165">Des frais de connexion répartie s’appliquent-ils aux files d’attente et rubriques/abonnements ?</span><span class="sxs-lookup"><span data-stu-id="db376-165">Do brokered connection charges apply to queues and topics/subscriptions?</span></span>
<span data-ttu-id="db376-166">Oui.</span><span class="sxs-lookup"><span data-stu-id="db376-166">Yes.</span></span> <span data-ttu-id="db376-167">Il n'y a aucun frais de connexion pour l'envoi d'événements à l'aide de HTTP, quel que soit le nombre de systèmes ou de périphériques d’envoi.</span><span class="sxs-lookup"><span data-stu-id="db376-167">There are no connection charges for sending events using HTTP, regardless of the number of sending systems or devices.</span></span> <span data-ttu-id="db376-168">La réception d'événements avec le protocole HTTP et à l'aide d'un délai d'expiration supérieur à zéro, parfois appelé « interrogation longue », génère des frais de connexion répartie.</span><span class="sxs-lookup"><span data-stu-id="db376-168">Receiving events with HTTP using a timeout greater than zero, sometimes called "long polling," generates brokered connection charges.</span></span> <span data-ttu-id="db376-169">Les connexions AMQP génèrent des frais de connexion répartie peu importe si les connexions sont utilisées pour l'envoi ou pour la réception.</span><span class="sxs-lookup"><span data-stu-id="db376-169">AMQP connections generate brokered connection charges regardless of whether the connections are being used to send or receive.</span></span> <span data-ttu-id="db376-170">Notez que 100 connexions réparties sont autorisées gratuitement dans un espace de noms de base.</span><span class="sxs-lookup"><span data-stu-id="db376-170">Note that 100 brokered connections are allowed at no charge in a Basic namespace.</span></span> <span data-ttu-id="db376-171">Il s’agit également du nombre maximal de connexions réparties autorisées pour l’abonnement Azure.</span><span class="sxs-lookup"><span data-stu-id="db376-171">This is also the maximum number of brokered connections allowed for the Azure subscription.</span></span> <span data-ttu-id="db376-172">Les 1 000 premières connexions réparties entre tous les espaces de noms standard d’un abonnement Azure sont incluses sans frais supplémentaires (hors frais de base).</span><span class="sxs-lookup"><span data-stu-id="db376-172">The first 1,000 brokered connections across all Standard namespaces in an Azure subscription are included at no extra charge (beyond the base charge).</span></span> <span data-ttu-id="db376-173">Étant donné que ces volumes couvrent de nombreux scénarios de messagerie de service à service, des frais de connexion répartie sont habituellement pertinents si vous prévoyez d'utiliser l'interrogation longue AMQP ou HTTP avec un grand nombre de clients. Par exemple, pour obtenir un flux d'événements plus efficace ou permettre une communication bidirectionnelle avec de nombreux appareils ou instances d'application.</span><span class="sxs-lookup"><span data-stu-id="db376-173">Because these allowances are enough to cover many service-to-service messaging scenarios, brokered connection charges usually only become relevant if you plan to use AMQP or HTTP long-polling with a large number of clients; for example, to achieve more efficient event streaming or enable bi-directional communication with many devices or application instances.</span></span>

## <a name="next-steps"></a><span data-ttu-id="db376-174">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="db376-174">Next steps</span></span>
* <span data-ttu-id="db376-175">Pour plus d’informations sur la tarification Service Bus, consultez la [page Tarification de Service Bus](https://azure.microsoft.com/pricing/details/service-bus/).</span><span class="sxs-lookup"><span data-stu-id="db376-175">For complete details about Service Bus pricing, see the [Service Bus pricing page](https://azure.microsoft.com/pricing/details/service-bus/).</span></span>
* <span data-ttu-id="db376-176">Consultez le [FAQ sur Service Bus](service-bus-faq.md#pricing) pour quelques questions courantes sur la tarification et facturation de Service Bus.</span><span class="sxs-lookup"><span data-stu-id="db376-176">See the [Service Bus FAQ](service-bus-faq.md#pricing) for some common FAQs about Service bus pricing and billing.</span></span>

[Azure portal]: https://portal.azure.com
