---
title: "entités de messagerie Azure Service Bus aaaAuto transfert | Documents Microsoft"
description: "Comment toochain un Bus de Service de file d’attente ou une rubrique ou file d’attente de tooanother abonnement."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: f7060778-3421-402c-97c7-735dbf6a61e8
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/07/2017
ms.author: sethm
ms.openlocfilehash: af18273e4e2f81c5363eb830c7decf313afd8307
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="chaining-service-bus-entities-with-auto-forwarding"></a><span data-ttu-id="a0576-103">Chaînage des entités Service Bus avec transfert automatique</span><span class="sxs-lookup"><span data-stu-id="a0576-103">Chaining Service Bus entities with auto-forwarding</span></span>

<span data-ttu-id="a0576-104">Hello Service Bus *transfert automatique* fonctionnalité vous permet de file d’attente de tooanother abonnement ou toochain une file d’attente ou une rubrique qui fait partie de hello même espace de noms.</span><span class="sxs-lookup"><span data-stu-id="a0576-104">hello Service Bus *auto-forwarding* feature enables you toochain a queue or subscription tooanother queue or topic that is part of hello same namespace.</span></span> <span data-ttu-id="a0576-105">Lorsque le transfert automatique est activé, Service Bus automatiquement supprime les messages sont placés dans la file d’attente de la première hello ou un abonnement (source) et les place dans la file d’attente de la deuxième hello ou une rubrique (destination).</span><span class="sxs-lookup"><span data-stu-id="a0576-105">When auto-forwarding is enabled, Service Bus automatically removes messages that are placed in hello first queue or subscription (source) and puts them in hello second queue or topic (destination).</span></span> <span data-ttu-id="a0576-106">Notez qu’il est toujours possible de toosend une entité de destination de message toohello directement.</span><span class="sxs-lookup"><span data-stu-id="a0576-106">Note that it is still possible toosend a message toohello destination entity directly.</span></span> <span data-ttu-id="a0576-107">En outre, il n’est pas possible de toochain une sous-file d’attente, tel qu’une file d’attente de lettres mortes, la file d’attente tooanother ou la rubrique.</span><span class="sxs-lookup"><span data-stu-id="a0576-107">Also, it is not possible toochain a subqueue, such as a deadletter queue, tooanother queue or topic.</span></span>

## <a name="using-auto-forwarding"></a><span data-ttu-id="a0576-108">Utilisation du transfert automatique</span><span class="sxs-lookup"><span data-stu-id="a0576-108">Using auto-forwarding</span></span>
<span data-ttu-id="a0576-109">Vous pouvez activer le transfert automatique en définissant un hello [QueueDescription.ForwardTo] [ QueueDescription.ForwardTo] ou [SubscriptionDescription.ForwardTo] [ SubscriptionDescription.ForwardTo] propriétés de hello [QueueDescription] [ QueueDescription] ou [SubscriptionDescription] [ SubscriptionDescription] objets de source de hello, comme dans hello exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="a0576-109">You can enable auto-forwarding by setting hello [QueueDescription.ForwardTo][QueueDescription.ForwardTo] or [SubscriptionDescription.ForwardTo][SubscriptionDescription.ForwardTo] properties on hello [QueueDescription][QueueDescription] or [SubscriptionDescription][SubscriptionDescription] objects for hello source, as in hello following example.</span></span>

```csharp
SubscriptionDescription srcSubscription = new SubscriptionDescription (srcTopic, srcSubscriptionName);
srcSubscription.ForwardTo = destTopic;
namespaceManager.CreateSubscription(srcSubscription));
```

<span data-ttu-id="a0576-110">entité de destination Hello doit exister au moment de hello hello source entité est créée.</span><span class="sxs-lookup"><span data-stu-id="a0576-110">hello destination entity must exist at hello time hello source entity is created.</span></span> <span data-ttu-id="a0576-111">Si l’entité de destination hello n’existe pas, le Service Bus retourne une exception lorsque toocreate posée hello entité source.</span><span class="sxs-lookup"><span data-stu-id="a0576-111">If hello destination entity does not exist, Service Bus returns an exception when asked toocreate hello source entity.</span></span>

<span data-ttu-id="a0576-112">Vous pouvez utiliser tooscale de transfert automatique à une rubrique particulière.</span><span class="sxs-lookup"><span data-stu-id="a0576-112">You can use auto-forwarding tooscale out an individual topic.</span></span> <span data-ttu-id="a0576-113">Service Bus limites hello [nombre d’abonnements à une rubrique donnée](service-bus-quotas.md) too2, 000.</span><span class="sxs-lookup"><span data-stu-id="a0576-113">Service Bus limits hello [number of subscriptions on a given topic](service-bus-quotas.md) too2,000.</span></span> <span data-ttu-id="a0576-114">Vous pouvez créer des abonnements supplémentaires en créant des rubriques de second niveau.</span><span class="sxs-lookup"><span data-stu-id="a0576-114">You can accommodate additional subscriptions by creating second-level topics.</span></span> <span data-ttu-id="a0576-115">Notez que même si vous ne sont pas liés par hello Service Bus limitation nombre hello d’abonnements, l’ajout d’un second niveau de rubriques peut améliorer hello débit global de votre rubrique.</span><span class="sxs-lookup"><span data-stu-id="a0576-115">Note that even if you are not bound by hello Service Bus limitation on hello number of subscriptions, adding a second level of topics can improve hello overall throughput of your topic.</span></span>

![Scénario de transfert automatique][0]

<span data-ttu-id="a0576-117">Vous pouvez également utiliser des expéditeurs de messages toodecouple de transfert automatique à partir de récepteurs.</span><span class="sxs-lookup"><span data-stu-id="a0576-117">You can also use auto-forwarding toodecouple message senders from receivers.</span></span> <span data-ttu-id="a0576-118">Par exemple, considérez un système ERP qui se compose de trois modules : Traitement des commandes, Gestion des stocks et Gestion des relations client.</span><span class="sxs-lookup"><span data-stu-id="a0576-118">For example, consider an ERP system that consists of three modules: order processing, inventory management, and customer relations management.</span></span> <span data-ttu-id="a0576-119">Chacun de ces modules génère des messages qui sont placés en file d’attente dans une rubrique correspondante.</span><span class="sxs-lookup"><span data-stu-id="a0576-119">Each of these modules generates messages that are enqueued into a corresponding topic.</span></span> <span data-ttu-id="a0576-120">Alice et Bob sont des représentants commerciaux intéressés par tous les messages qui se rapportent aux clients de tootheir.</span><span class="sxs-lookup"><span data-stu-id="a0576-120">Alice and Bob are sales representatives that are interested in all messages that relate tootheir customers.</span></span> <span data-ttu-id="a0576-121">tooreceive ces messages, Alice et Bob créent une file d’attente personnel et un abonnement sur chacune des rubriques hello ERP qui transfèrent automatiquement tous les messages tootheir file d’attente.</span><span class="sxs-lookup"><span data-stu-id="a0576-121">tooreceive those messages, Alice and Bob each create a personal queue and a subscription on each of hello ERP topics that automatically forward all messages tootheir queue.</span></span>

![Scénario de transfert automatique][1]

<span data-ttu-id="a0576-123">Si Alice part en vacances, sa file d’attente personnelle, plutôt que rubrique ERP de hello, soit saturé.</span><span class="sxs-lookup"><span data-stu-id="a0576-123">If Alice goes on vacation, her personal queue, rather than hello ERP topic, fills up.</span></span> <span data-ttu-id="a0576-124">Dans ce scénario, car un représentant commercial n’a pas reçu les messages, aucun des rubriques ERP de hello n’atteignent jamais leur quota.</span><span class="sxs-lookup"><span data-stu-id="a0576-124">In this scenario, because a sales representative has not received any messages, none of hello ERP topics ever reach quota.</span></span>

## <a name="auto-forwarding-considerations"></a><span data-ttu-id="a0576-125">Considérations sur le transfert automatique</span><span class="sxs-lookup"><span data-stu-id="a0576-125">Auto-forwarding considerations</span></span>

<span data-ttu-id="a0576-126">Si l’entité de destination hello accumule trop grand nombre de messages et dépasse le quota de hello ou entité de destination hello est désactivée, l’entité source hello ajoute hello messages tooits [file d’attente de lettres mortes](service-bus-dead-letter-queues.md) jusqu'à ce que l’espace dans la destination de hello (ou entité de hello est réactivée).</span><span class="sxs-lookup"><span data-stu-id="a0576-126">If hello destination entity accumulates too many messages and exceeds hello quota, or hello destination entity is disabled, hello source entity adds hello messages tooits [dead-letter queue](service-bus-dead-letter-queues.md) until there is space in hello destination (or hello entity is re-enabled).</span></span> <span data-ttu-id="a0576-127">Ces messages continue toolive dans la file d’attente de lettres mortes hello, vous devez donc explicitement de réception et les traiter à partir de la file d’attente de lettres mortes hello.</span><span class="sxs-lookup"><span data-stu-id="a0576-127">Those messages will continue toolive in hello dead-letter queue, so you must explicitly receive and process them from hello dead-letter queue.</span></span>

<span data-ttu-id="a0576-128">Lors du chaînage des rubriques individuelles tooobtain une rubrique composite avec de nombreux abonnements, il est recommandé d’avoir un nombre modéré d’abonnements sur la rubrique de premier niveau hello et un grand nombre de rubriques de second niveau hello.</span><span class="sxs-lookup"><span data-stu-id="a0576-128">When chaining together individual topics tooobtain a composite topic with many subscriptions, it is recommended that you have a moderate number of subscriptions on hello first-level topic and many subscriptions on hello second-level topics.</span></span> <span data-ttu-id="a0576-129">Par exemple, une rubrique de premier niveau possédant 20 abonnements, chacun d’eux chaînés tooa rubrique de second niveau possédant 200 abonnements, permet un débit plus élevé à une rubrique de premier niveau possédant 200 abonnements, chacun attaché tooa rubrique de second niveau possédant 20 abonnements .</span><span class="sxs-lookup"><span data-stu-id="a0576-129">For example, a first-level topic with 20 subscriptions, each of them chained tooa second-level topic with 200 subscriptions, allows for higher throughput than a first-level topic with 200 subscriptions, each chained tooa second-level topic with 20 subscriptions.</span></span>

<span data-ttu-id="a0576-130">Service Bus facture une opération pour chaque message transféré.</span><span class="sxs-lookup"><span data-stu-id="a0576-130">Service Bus bills one operation for each forwarded message.</span></span> <span data-ttu-id="a0576-131">Par exemple, envoi d’une rubrique de message de tooa possédant 20 abonnements, chacun d’eux configuré les messages avant de tooauto file d’attente tooanother ou une rubrique, est facturé 21 opérations si tous les abonnements de premier niveau reçoivent une copie du message de type hello.</span><span class="sxs-lookup"><span data-stu-id="a0576-131">For example, sending a message tooa topic with 20 subscriptions, each of them configured tooauto-forward messages tooanother queue or topic, is billed as 21 operations if all first-level subscriptions receive a copy of hello message.</span></span>

<span data-ttu-id="a0576-132">toocreate un abonnement qui est la file d’attente tooanother chaînées ou une rubrique, le créateur de hello d’abonnement de hello doit avoir **gérer** autorisations sur la source de hello et entité de destination hello.</span><span class="sxs-lookup"><span data-stu-id="a0576-132">toocreate a subscription that is chained tooanother queue or topic, hello creator of hello subscription must have **Manage** permissions on both hello source and hello destination entity.</span></span> <span data-ttu-id="a0576-133">Envoi de rubrique de messages toohello source nécessite uniquement **envoyer** autorisations sur la rubrique source de hello.</span><span class="sxs-lookup"><span data-stu-id="a0576-133">Sending messages toohello source topic only requires **Send** permissions on hello source topic.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a0576-134">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="a0576-134">Next steps</span></span>

<span data-ttu-id="a0576-135">Pour plus d’informations sur le transfert automatique, consultez hello rubriques de référence suivantes :</span><span class="sxs-lookup"><span data-stu-id="a0576-135">For detailed information about auto-forwarding, see hello following reference topics:</span></span>

* <span data-ttu-id="a0576-136">[ForwardTo][QueueDescription.ForwardTo]</span><span class="sxs-lookup"><span data-stu-id="a0576-136">[ForwardTo][QueueDescription.ForwardTo]</span></span>
* <span data-ttu-id="a0576-137">[QueueDescription][QueueDescription]</span><span class="sxs-lookup"><span data-stu-id="a0576-137">[QueueDescription][QueueDescription]</span></span>
* <span data-ttu-id="a0576-138">[SubscriptionDescription][SubscriptionDescription]</span><span class="sxs-lookup"><span data-stu-id="a0576-138">[SubscriptionDescription][SubscriptionDescription]</span></span>

<span data-ttu-id="a0576-139">toolearn en savoir plus sur les améliorations des performances de Service Bus, consultez</span><span class="sxs-lookup"><span data-stu-id="a0576-139">toolearn more about Service Bus performance improvements, see</span></span> 

* [<span data-ttu-id="a0576-140">Meilleures pratiques relatives aux améliorations de performances à l’aide de la messagerie Service Bus</span><span class="sxs-lookup"><span data-stu-id="a0576-140">Best Practices for performance improvements using Service Bus Messaging</span></span>](service-bus-performance-improvements.md)
* <span data-ttu-id="a0576-141">[Files d’attente et rubriques partitionnées][Partitioned messaging entities].</span><span class="sxs-lookup"><span data-stu-id="a0576-141">[Partitioned messaging entities][Partitioned messaging entities].</span></span>

[QueueDescription.ForwardTo]: /dotnet/api/microsoft.servicebus.messaging.queuedescription.forwardto#Microsoft_ServiceBus_Messaging_QueueDescription_ForwardTo
[SubscriptionDescription.ForwardTo]: /dotnet/api/microsoft.servicebus.messaging.subscriptiondescription.forwardto#Microsoft_ServiceBus_Messaging_SubscriptionDescription_ForwardTo
[QueueDescription]: /dotnet/api/microsoft.servicebus.messaging.queuedescription
[SubscriptionDescription]: /dotnet/api/microsoft.servicebus.messaging.queuedescription
[0]: ./media/service-bus-auto-forwarding/IC628631.gif
[1]: ./media/service-bus-auto-forwarding/IC628632.gif
[Partitioned messaging entities]: service-bus-partitioning.md
