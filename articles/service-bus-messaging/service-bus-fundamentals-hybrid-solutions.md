---
title: aaaOverview des notions de base Azure Service Bus | Documents Microsoft
description: "Une présentation toousing Service Bus tooconnect logiciel de tooother applications Azure."
services: service-bus-messaging
documentationcenter: .net
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 12654cdd-82ab-4b95-b56f-08a5a8bbc6f9
ms.service: service-bus-messaging
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 06/15/2017
ms.author: sethm
ms.openlocfilehash: 1abd5cf310ef06ba35e1e2489a7c0a07e1797736
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-service-bus"></a><span data-ttu-id="cb8e6-103">Azure Service Bus</span><span class="sxs-lookup"><span data-stu-id="cb8e6-103">Azure Service Bus</span></span>

<span data-ttu-id="cb8e6-104">Si une application ou un service s’exécute dans le cloud de hello ou local, il doit souvent toointeract avec d’autres applications ou services.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-104">Whether an application or service runs in hello cloud or on premises, it often needs toointeract with other applications or services.</span></span> <span data-ttu-id="cb8e6-105">tooprovide un toodo largement utile, offres Microsoft Azure Service Bus.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-105">tooprovide a broadly useful way toodo this, Microsoft Azure offers Service Bus.</span></span> <span data-ttu-id="cb8e6-106">Cet article examine cette technologie, qui décrit ce qu’il est et vous pouvez souhaiter toouse il.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-106">This article looks at this technology, describing what it is and why you might want toouse it.</span></span>

## <a name="service-bus-fundamentals"></a><span data-ttu-id="cb8e6-107">Concepts de base de Service Bus</span><span class="sxs-lookup"><span data-stu-id="cb8e6-107">Service Bus fundamentals</span></span>

<span data-ttu-id="cb8e6-108">À chaque situation correspond un style de communication.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-108">Different situations call for different styles of communication.</span></span> <span data-ttu-id="cb8e6-109">Parfois, laissant les applications envoyer et recevoir des messages via une file d’attente simple est mieux hello.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-109">Sometimes, letting applications send and receive messages through a simple queue is hello best solution.</span></span> <span data-ttu-id="cb8e6-110">Dans d’autres situations, une file d’attente ordinaire n’est pas suffisante et une file avec mécanisme de publication et d’abonnement est une meilleure solution.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-110">In other situations, an ordinary queue isn't enough; a queue with a publish-and-subscribe mechanism is better.</span></span> <span data-ttu-id="cb8e6-111">Dans certains cas, vous avez simplement besoin d’une connexion entre les applications, sans file d’attente.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-111">In some cases, all that's needed is a connection between applications, and queues are not required.</span></span> <span data-ttu-id="cb8e6-112">Service Bus fournit les trois options, l’activation de votre toointeract d’applications de plusieurs façons différentes.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-112">Service Bus provides all three options, enabling your applications toointeract in several different ways.</span></span>

<span data-ttu-id="cb8e6-113">Service Bus est un service cloud mutualisée, ce qui signifie que le service de hello est partagé par plusieurs utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-113">Service Bus is a multi-tenant cloud service, which means that hello service is shared by multiple users.</span></span> <span data-ttu-id="cb8e6-114">Chaque utilisateur, telles que développeur d’applications, crée un *espace de noms*, puis définit les mécanismes de communication hello nécessaires au sein de cet espace de noms.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-114">Each user, such as an application developer, creates a *namespace*, then defines hello communication mechanisms needed within that namespace.</span></span> <span data-ttu-id="cb8e6-115">La figure 1 montre à quoi ressemble cette architecture.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-115">Figure 1 shows how this architecture looks.</span></span>

![][1]

<span data-ttu-id="cb8e6-116">**Figure 1 : Service Bus fournit un service de plusieurs locataire pour connecter des applications via le cloud de hello.**</span><span class="sxs-lookup"><span data-stu-id="cb8e6-116">**Figure 1: Service Bus provides a multi-tenant service for connecting applications through hello cloud.**</span></span>

<span data-ttu-id="cb8e6-117">Dans un espace de noms, vous pouvez utiliser une ou plusieurs instances de trois mécanismes de communication distincts, chacun se connectant de manière différente à l’application.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-117">Within a namespace, you can use one or more instances of three different communication mechanisms, each of which connects applications in a different way.</span></span> <span data-ttu-id="cb8e6-118">choix de Hello sont :</span><span class="sxs-lookup"><span data-stu-id="cb8e6-118">hello choices are:</span></span>

* <span data-ttu-id="cb8e6-119">Les *files d’attente* permettent la communication unidirectionnelle.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-119">*Queues*, which allow one-directional communication.</span></span> <span data-ttu-id="cb8e6-120">Chacune agit comme un intermédiaire (ou *broker*) qui stocke les messages envoyés jusqu’à leur réception.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-120">Each queue acts as an intermediary (sometimes called a *broker*) that stores sent messages until they are received.</span></span> <span data-ttu-id="cb8e6-121">Chaque message est reçu par un destinataire unique.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-121">Each message is received by a single recipient.</span></span>
* <span data-ttu-id="cb8e6-122">Les *rubriques* fournissent une communication unidirectionnelle à l’aide *d’abonnements* : une seule rubrique peut avoir plusieurs abonnements.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-122">*Topics*, which provide one-directional communication using *subscriptions*-a single topic can have multiple subscriptions.</span></span> <span data-ttu-id="cb8e6-123">Comme une file d’attente, une rubrique agit comme un service broker, mais chaque abonnement peut éventuellement utiliser un filtre tooreceive uniquement les messages qui correspondent aux critères spécifiques.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-123">Like a queue, a topic acts as a broker, but each subscription can optionally use a filter tooreceive only messages that match specific criteria.</span></span>
* <span data-ttu-id="cb8e6-124">Les *relais* permettent la communication bidirectionnelle.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-124">*Relays*, which provide bi-directional communication.</span></span> <span data-ttu-id="cb8e6-125">À l’inverse des files d’attente et des rubriques, le relais ne stocke pas les messages en transit ; il ne s’agit pas d’un intermédiaire.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-125">Unlike queues and topics, a relay doesn't store in-flight messages; it's not a broker.</span></span> <span data-ttu-id="cb8e6-126">Au lieu de cela, il les transmet simplement sur l’application de destination toohello.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-126">Instead, it just passes them on toohello destination application.</span></span>

<span data-ttu-id="cb8e6-127">Lorsque vous créez une file d'attente, une rubrique ou un relais, vous lui donnez un nom.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-127">When you create a queue, topic, or relay, you give it a name.</span></span> <span data-ttu-id="cb8e6-128">Associé à votre votre espace de noms, ce nom crée un identificateur unique pour l’objet de hello.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-128">Combined with whatever you called your namespace, this name creates a unique identifier for hello object.</span></span> <span data-ttu-id="cb8e6-129">Applications, vous peuvent fournir cette tooService nom Bus, puis utiliser cette file d’attente, rubrique ou relais toocommunicate avec l’autre.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-129">Applications can provide this name tooService Bus, then use that queue, topic, or relay toocommunicate with one another.</span></span> 

<span data-ttu-id="cb8e6-130">toouse un de ces objets dans le scénario de relais hello, Windows permet aux applications Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="cb8e6-130">toouse any of these objects in hello relay scenario, Windows applications can use Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="cb8e6-131">Ce service est appelé [Relais WCF](../service-bus-relay/relay-what-is-it.md).</span><span class="sxs-lookup"><span data-stu-id="cb8e6-131">This service is known as [WCF Relay](../service-bus-relay/relay-what-is-it.md).</span></span> <span data-ttu-id="cb8e6-132">Pour les files d’attente et les rubriques, les applications Windows peuvent utiliser des API de messagerie définie par Service Bus.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-132">For queues and topics, Windows applications can use Service Bus-defined messaging APIs.</span></span> <span data-ttu-id="cb8e6-133">toomake ces objets toouse plus facile à partir d’applications autres que Windows, Microsoft fournit des kits de développement logiciel pour Java, Node.js et d’autres langages.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-133">toomake these objects easier toouse from non-Windows applications, Microsoft provides SDKs for Java, Node.js, and other languages.</span></span> <span data-ttu-id="cb8e6-134">Vous pouvez également accéder aux files d’attente et aux rubriques à l’aide des [API REST](/rest/api/servicebus/) sur HTTP(s).</span><span class="sxs-lookup"><span data-stu-id="cb8e6-134">You can also access queues and topics using [REST APIs](/rest/api/servicebus/) over HTTP(s).</span></span> 

<span data-ttu-id="cb8e6-135">Il est important de toounderstand que même si Service Bus lui-même s’exécute dans le cloud de hello (autrement dit, dans les centres de données de Microsoft Azure), les applications qui l’utilisent peuvent exécuter n’importe quel endroit.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-135">It's important toounderstand that even though Service Bus itself runs in hello cloud (that is, in Microsoft's Azure datacenters), applications that use it can run anywhere.</span></span> <span data-ttu-id="cb8e6-136">Vous pouvez utiliser des applications de tooconnect de Bus des services s’exécutant sur Azure, par exemple, ou les applications qui s’exécutent à l’intérieur de votre centre de données.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-136">You can use Service Bus tooconnect applications running on Azure, for example, or applications running inside your own datacenter.</span></span> <span data-ttu-id="cb8e6-137">Vous pouvez également l’utiliser tooconnect une application exécutée sur Azure ou une autre plateforme de cloud avec une application sur site ou avec des tablettes et téléphones.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-137">You can also use it tooconnect an application running on Azure or another cloud platform with an on-premises application or with tablets and phones.</span></span> <span data-ttu-id="cb8e6-138">Il est même possible tooconnect appareils ménagers, capteurs et autres application centrale tooa de périphériques ou les tooone autres.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-138">It's even possible tooconnect household appliances, sensors, and other devices tooa central application or tooone other.</span></span> <span data-ttu-id="cb8e6-139">Service Bus est un mécanisme de communication dans le cloud hello qui est accessible à partir de presque n’importe quel endroit.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-139">Service Bus is a communication mechanism in hello cloud that's accessible from pretty much anywhere.</span></span> <span data-ttu-id="cb8e6-140">Comment vous utilisez cela dépend de quelles vos applications ont besoin toodo.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-140">How you use it depends on what your applications need toodo.</span></span>

## <a name="queues"></a><span data-ttu-id="cb8e6-141">Files d’attente</span><span class="sxs-lookup"><span data-stu-id="cb8e6-141">Queues</span></span>

<span data-ttu-id="cb8e6-142">Supposons que vous décidez de tooconnect deux applications à l’aide d’une file d’attente Service Bus.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-142">Suppose you decide tooconnect two applications using a Service Bus queue.</span></span> <span data-ttu-id="cb8e6-143">La figure 2 illustre cette situation.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-143">Figure 2 illustrates this situation.</span></span>

![][2]

<span data-ttu-id="cb8e6-144">**Figure 2 : les files d’attente Service Bus offrent un système de files d’attente unidirectionnelles asynchrones.**</span><span class="sxs-lookup"><span data-stu-id="cb8e6-144">**Figure 2: Service Bus queues provide one-way asynchronous queuing.**</span></span>

<span data-ttu-id="cb8e6-145">processus de Hello est simple : un expéditeur envoie une file d’attente Service Bus de messages tooa et un récepteur récupère ce message à un moment ultérieur.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-145">hello process is simple: A sender sends a message tooa Service Bus queue, and a receiver picks up that message at some later time.</span></span> <span data-ttu-id="cb8e6-146">Une file d’attente peut avoir un seul destinataire, comme l’indique la Figure 2,</span><span class="sxs-lookup"><span data-stu-id="cb8e6-146">A queue can have just a single receiver, as Figure 2 shows.</span></span> <span data-ttu-id="cb8e6-147">Ou, plusieurs applications peuvent lire à partir de hello même file d’attente.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-147">Or, multiple applications can read from hello same queue.</span></span> <span data-ttu-id="cb8e6-148">Dans ce dernier cas de hello, chaque message est lu par un seul récepteur.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-148">In hello latter situation, each message is read by just one receiver.</span></span> <span data-ttu-id="cb8e6-149">Dans le cas d’un service de multidiffusion, utilisez plutôt une rubrique.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-149">For a multi-cast service, you should use a topic instead.</span></span>

<span data-ttu-id="cb8e6-150">Chaque message se compose de deux parties : un jeu de propriétés (chacun de type paire clé/valeur) et une charge utile de message.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-150">Each message has two parts: a set of properties, each a key/value pair, and a message payload.</span></span> <span data-ttu-id="cb8e6-151">charge utile de Hello peut être binaire, texte ou même du XML.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-151">hello payload can be binary, text, or even XML.</span></span> <span data-ttu-id="cb8e6-152">Leur utilisation dépend une application tente de toodo.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-152">How they're used depends on what an application is trying toodo.</span></span> <span data-ttu-id="cb8e6-153">Par exemple, une application qui envoie un message concernant une vente récente peut inclure des propriétés de hello **vendeur = « Ava »** et **quantité = 10000**.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-153">For example, an application sending a message about a recent sale might include hello properties **Seller="Ava"** and **Amount=10000**.</span></span> <span data-ttu-id="cb8e6-154">corps du message de salutation contient une image numérisée hello contrat de vente signé ou, s’il n’existe pas, reste vide.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-154">hello message body might contain a scanned image of hello sale's signed contract or, if there isn't one, remain empty.</span></span>

<span data-ttu-id="cb8e6-155">Le destinataire peut lire le message de file d’attente Service Bus de deux façons.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-155">A receiver can read a message from a Service Bus queue in two different ways.</span></span> <span data-ttu-id="cb8e6-156">Hello première option, appelée  *[ReceiveAndDelete](/dotnet/api/microsoft.servicebus.messaging.receivemode)*, supprime un message de la file d’attente hello et le supprime immédiatement.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-156">hello first option, called *[ReceiveAndDelete](/dotnet/api/microsoft.servicebus.messaging.receivemode)*, removes a message from hello queue and immediately deletes it.</span></span> <span data-ttu-id="cb8e6-157">Cette option est simple, mais si le récepteur de hello se bloque avant la fin du traitement du message de type hello, le message de type hello est perdu.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-157">This option is simple, but if hello receiver crashes before it finishes processing hello message, hello message is lost.</span></span> <span data-ttu-id="cb8e6-158">Car il est supprimé de la file d’attente hello, aucune autre récepteur ne peut y accéder.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-158">Because it's been removed from hello queue, no other receiver can access it.</span></span> 

<span data-ttu-id="cb8e6-159">Hello deuxième option  *[PeekLock](/dotnet/api/microsoft.servicebus.messaging.receivemode)*, est destiné à toohelp avec ce problème.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-159">hello second option, *[PeekLock](/dotnet/api/microsoft.servicebus.messaging.receivemode)*, is meant toohelp with this problem.</span></span> <span data-ttu-id="cb8e6-160">Comme **ReceiveAndDelete**, un **PeekLock** lecture supprime un message de file d’attente hello.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-160">Like **ReceiveAndDelete**, a **PeekLock** read removes a message from hello queue.</span></span> <span data-ttu-id="cb8e6-161">Elle ne supprime pas le message de salutation, toutefois.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-161">It doesn't delete hello message, however.</span></span> <span data-ttu-id="cb8e6-162">Au lieu de cela, il verrouille le message de type hello, rendant les récepteurs tooother invisible, puis attend qu’un des trois événements :</span><span class="sxs-lookup"><span data-stu-id="cb8e6-162">Instead, it locks hello message, making it invisible tooother receivers, then waits for one of three events:</span></span>

* <span data-ttu-id="cb8e6-163">Si le processus de récepteur hello hello message avec succès, elle appelle [Complete()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_Complete), et de la file d’attente hello supprime le message de type hello.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-163">If hello receiver processes hello message successfully, it calls [Complete()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_Complete), and hello queue deletes hello message.</span></span> 
* <span data-ttu-id="cb8e6-164">Si le récepteur de hello décide qu’il ne peut pas traiter un message de type hello avec succès, elle appelle [Abandon()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_Abandon).</span><span class="sxs-lookup"><span data-stu-id="cb8e6-164">If hello receiver decides that it can't process hello message successfully, it calls [Abandon()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_Abandon).</span></span> <span data-ttu-id="cb8e6-165">file d’attente Hello supprime les verrous hello de message de type hello et rend disponible tooother récepteurs.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-165">hello queue then removes hello lock from hello message and makes it available tooother receivers.</span></span>
* <span data-ttu-id="cb8e6-166">Si le récepteur de hello appelle aucune de ces méthodes dans un délai configurable (par défaut, 60 secondes), file d’attente hello suppose de récepteur de hello a échoué.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-166">If hello receiver calls neither of these methods within a configurable period of time (by default, 60 seconds), hello queue assumes hello receiver has failed.</span></span> <span data-ttu-id="cb8e6-167">Dans ce cas, il se comporte comme si le récepteur de hello avait appelé **abandonner**, rendre hello tooother disponibles les récepteurs de messages.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-167">In this case, it behaves as if hello receiver had called **Abandon**, making hello message available tooother receivers.</span></span>

<span data-ttu-id="cb8e6-168">Notez ce qui peut se produire : hello même message peut être remis à deux reprises, peut-être tootwo différents destinataires.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-168">Notice what can happen here: hello same message might be delivered twice, perhaps tootwo different receivers.</span></span> <span data-ttu-id="cb8e6-169">Les applications qui utilisent des files d’attente Service Bus doivent pouvoir faire face à cet événement.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-169">Applications using Service Bus queues must be prepared for this event.</span></span> <span data-ttu-id="cb8e6-170">toomake détection des doublons plus facile, chaque message possède un [MessageID](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_MessageId) propriété par défaut reste hello identiques, quel que soit le nombre de fois message de type hello sont lu à partir d’une file d’attente.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-170">toomake duplicate detection easier, each message has a unique [MessageID](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_MessageId) property that by default stays hello same no matter how many times hello message is read from a queue.</span></span> 

<span data-ttu-id="cb8e6-171">Les files d’attente sont utiles dans de nombreuses situations.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-171">Queues are useful in quite a few situations.</span></span> <span data-ttu-id="cb8e6-172">Ils permettent des applications toocommunicate même lorsque les deux ne sont pas en cours d’exécution à hello même moment, ce qui s’avère particulièrement utile avec des applications mobiles et de lot.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-172">They enable applications toocommunicate even when both aren't running at hello same time, something that's especially handy with batch and mobile applications.</span></span> <span data-ttu-id="cb8e6-173">Une file d'attente avec plusieurs destinataires assure aussi un équilibrage automatique de la charge, car les messages sont répartis vers ces différents destinataires.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-173">A queue with multiple receivers also provides automatic load balancing, since sent messages are spread across these receivers.</span></span>

## <a name="topics"></a><span data-ttu-id="cb8e6-174">Rubriques</span><span class="sxs-lookup"><span data-stu-id="cb8e6-174">Topics</span></span>

<span data-ttu-id="cb8e6-175">Utile lorsqu’ils sont, les files d’attente ne sont pas toujours une solution adaptée hello.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-175">Useful as they are, queues aren't always hello right solution.</span></span> <span data-ttu-id="cb8e6-176">Parfois, les rubriques Service Bus sont plus utiles.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-176">Sometimes, Service Bus topics are better.</span></span> <span data-ttu-id="cb8e6-177">La figure 3 illustre cette idée.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-177">Figure 3 illustrates this idea.</span></span>

![][3]

<span data-ttu-id="cb8e6-178">**Figure 3 : En fonction de filtre hello spécifie d’une application abonnée, il peut recevoir certains ou tous les messages hello envoyé tooa la rubrique Service Bus.**</span><span class="sxs-lookup"><span data-stu-id="cb8e6-178">**Figure 3: Based on hello filter a subscribing application specifies, it can receive some or all hello messages sent tooa Service Bus topic.**</span></span>

<span data-ttu-id="cb8e6-179">A *rubrique* est similaire dans la file d’attente de nombreuses façons tooa.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-179">A *topic* is similar in many ways tooa queue.</span></span> <span data-ttu-id="cb8e6-180">Envoyer des expéditeurs rubrique tooa de messages Bonjour même manière qu’ils envoient la file d’attente de messages tooa et détaillée de ces messages hello même chose avec les files d’attente.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-180">Senders submit messages tooa topic in hello same way that they submit messages tooa queue, and those messages look hello same as with queues.</span></span> <span data-ttu-id="cb8e6-181">Bonjour différence est que les rubriques activent chaque toocreate application réceptrice son propre *abonnement* en définissant un *filtre*.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-181">hello difference is that topics enable each receiving application toocreate its own *subscription* by defining a *filter*.</span></span> <span data-ttu-id="cb8e6-182">Un abonné puis voit uniquement les messages hello qui correspondent au filtre.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-182">A subscriber then sees only hello messages that match that filter.</span></span> <span data-ttu-id="cb8e6-183">Par exemple, la figure 3 présente un expéditeur et une rubrique avec trois abonnés, chacun disposant de son propre filtre :</span><span class="sxs-lookup"><span data-stu-id="cb8e6-183">For example, Figure 3 shows a sender and a topic with three subscribers, each with its own filter:</span></span>

* <span data-ttu-id="cb8e6-184">Abonné 1 reçoit uniquement les messages qui contiennent la propriété de hello *vendeur = « Ava »*.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-184">Subscriber 1 receives only messages that contain hello property *Seller="Ava"*.</span></span>
* <span data-ttu-id="cb8e6-185">Abonné 2 reçoit les messages qui contiennent la propriété de hello *vendeur = « Ruby »* et/ou contiennent une *quantité* propriété dont la valeur est supérieure à 100 000.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-185">Subscriber 2 receives messages that contain hello property *Seller="Ruby"* and/or contain an *Amount* property whose value is greater than 100,000.</span></span> <span data-ttu-id="cb8e6-186">Peut-être Ruby est responsable des ventes hello, afin qu’elle veut toosee propres sales et toutes les ventes de grande taille, quelle que soit la qui les rend.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-186">Perhaps Ruby is hello sales manager, so she wants toosee both her own sales and all large sales regardless of who makes them.</span></span>
* <span data-ttu-id="cb8e6-187">Abonné 3 a défini son filtre trop*True*, ce qui signifie qu’il reçoit tous les messages.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-187">Subscriber 3 has set its filter too*True*, which means that it receives all messages.</span></span> <span data-ttu-id="cb8e6-188">Par exemple, cette application peut être chargée pour la gestion d’une piste d’audit et il doit donc toosee tous les messages de type hello.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-188">For example, this application might be responsible for maintaining an audit trail and therefore it needs toosee all hello messages.</span></span>

<span data-ttu-id="cb8e6-189">Comme avec les files d’attente, rubrique tooa d’abonnés peut lire les messages à l’aide [ReceiveAndDelete ou PeekLock](/dotnet/api/microsoft.servicebus.messaging.receivemode).</span><span class="sxs-lookup"><span data-stu-id="cb8e6-189">As with queues, subscribers tooa topic can read messages using either [ReceiveAndDelete or PeekLock](/dotnet/api/microsoft.servicebus.messaging.receivemode).</span></span> <span data-ttu-id="cb8e6-190">Contrairement aux files d’attente, toutefois, un seul message envoyé à tooa rubrique peut être reçu par plusieurs abonnements.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-190">Unlike queues, however, a single message sent tooa topic can be received by multiple subscriptions.</span></span> <span data-ttu-id="cb8e6-191">Cette approche, souvent appelée *publier et s’abonner* (ou *pub/sub*), est utile lorsque plusieurs applications intéressent hello messages mêmes.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-191">This approach, commonly called *publish and subscribe* (or *pub/sub*), is useful whenever multiple applications are interested in hello same messages.</span></span> <span data-ttu-id="cb8e6-192">En définissant un filtre de droite hello, chaque abonné peut exploiter simplement les partie hello du flux de messages hello qu’il doit toosee.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-192">By defining hello right filter, each subscriber can tap into just hello part of hello message stream that it needs toosee.</span></span>

## <a name="relays"></a><span data-ttu-id="cb8e6-193">relais</span><span class="sxs-lookup"><span data-stu-id="cb8e6-193">Relays</span></span>

<span data-ttu-id="cb8e6-194">Les files d’attente et les rubriques permettent la communication asynchrone unidirectionnelle via un intermédiaire.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-194">Both queues and topics provide one-way asynchronous communication through a broker.</span></span> <span data-ttu-id="cb8e6-195">Le trafic circule dans une seule direction, et il n’y a pas de connexion directe entre expéditeur et destinataire.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-195">Traffic flows in just one direction, and there's no direct connection between senders and receivers.</span></span> <span data-ttu-id="cb8e6-196">Mais que faire si vous ne voulez pas de cette connexion ?</span><span class="sxs-lookup"><span data-stu-id="cb8e6-196">But what if you don't want this connection?</span></span> <span data-ttu-id="cb8e6-197">Supposons que vos applications doivent tooboth envoyer et recevoir des messages peut-être vous souhaitez un lien direct entre eux et vous n’avez pas besoin d’un toostore de messages service broker.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-197">Suppose your applications need tooboth send and receive messages, or perhaps you want a direct link between them and you don't need a broker toostore messages.</span></span> <span data-ttu-id="cb8e6-198">l’offre de Service Bus tooaddress des scénarios comme celui-ci, *relaie*, comme le montre la Figure 4.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-198">tooaddress scenarios such as this, Service Bus provides *relays*, as Figure 4 shows.</span></span>

![][4]

<span data-ttu-id="cb8e6-199">**Figure 4 : le relais Service Bus permet la communication bidirectionnelle synchrone entre applications.**</span><span class="sxs-lookup"><span data-stu-id="cb8e6-199">**Figure 4: Service Bus relay provides synchronous, two-way communication between applications.**</span></span>

<span data-ttu-id="cb8e6-200">Hello tooask question évidente à propos des relais s’agit-il : Pourquoi dois-je l’utiliser ?</span><span class="sxs-lookup"><span data-stu-id="cb8e6-200">hello obvious question tooask about relays is this: why would I use one?</span></span> <span data-ttu-id="cb8e6-201">Même si vous ne devez pas les files d’attente, pourquoi créer des applications communiquent via un service cloud au lieu de simplement interagir directement ? les réponses Hello sont qu’ils s’adressent directement peut être difficile que vous ne le pensez.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-201">Even if I don't need queues, why make applications communicate via a cloud service rather than just interact directly? hello answer is that talking directly can be harder than you might think.</span></span>

<span data-ttu-id="cb8e6-202">Supposons que vous souhaitez tooconnect deux applications locales, les deux en cours d’exécution à l’intérieur des centres de données d’entreprise.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-202">Suppose you want tooconnect two on-premises applications, both running inside corporate datacenters.</span></span> <span data-ttu-id="cb8e6-203">Chaque application se trouve derrière un pare-feu et chaque centre de données utilise probablement la traduction d’adresses réseau.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-203">Each of these applications sits behind a firewall, and each datacenter probably uses network address translation (NAT).</span></span> <span data-ttu-id="cb8e6-204">Hello pare-feu bloque les données entrantes sur tous les ports quelques et NAT implique que chaque application s’exécute sur l’ordinateur hello ne dispose d’une adresse IP fixe, vous pouvez également accéder directement à partir de centre de données externe hello.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-204">hello firewall blocks incoming data on all but a few ports, and NAT implies that hello machine each application is running on doesn't have a fixed IP address that you can reach directly from outside hello datacenter.</span></span> <span data-ttu-id="cb8e6-205">Sans une aide supplémentaire, la connexion de ces applications sur hello internet public peut être problématique.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-205">Without some extra help, connecting these applications over hello public internet is problematic.</span></span>

<span data-ttu-id="cb8e6-206">Un Service Bus Relay peut être utile.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-206">A Service Bus relay can help.</span></span> <span data-ttu-id="cb8e6-207">toocommunicate bidirectionnelle via un relais, chaque application établit une connexion TCP sortante avec Service Bus, puis conserve ouverte.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-207">toocommunicate bi-directionally through a relay, each application establishes an outbound TCP connection with Service Bus, then keeps it open.</span></span> <span data-ttu-id="cb8e6-208">Toutes les communications entre deux applications de hello transitent par ces connexions.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-208">All communication between hello two applications travels over these connections.</span></span> <span data-ttu-id="cb8e6-209">Étant donné que chaque connexion a été établie à partir d’à l’intérieur du centre de données hello, hello pare-feu autorise application tooeach au trafic entrant sans ouvrir de nouveaux ports.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-209">Because each connection was established from inside hello datacenter, hello firewall allows incoming traffic tooeach application without opening new ports.</span></span> <span data-ttu-id="cb8e6-210">Cette approche obtient également contourner problème NAT hello, étant donné que chaque application possède un point de terminaison cohérent dans le cloud hello tout au long de communication de hello.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-210">This approach also gets around hello NAT problem, because each application has a consistent endpoint in hello cloud throughout hello communication.</span></span> <span data-ttu-id="cb8e6-211">En échangeant des données via le relais de hello, les applications hello peuvent éviter les problèmes de hello qui seraient autrement difficile communication.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-211">By exchanging data through hello relay, hello applications can avoid hello problems that would otherwise make communication difficult.</span></span> 

<span data-ttu-id="cb8e6-212">toouse des relais Service Bus, les applications reposent sur hello Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="cb8e6-212">toouse Service Bus relays, applications rely on hello Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="cb8e6-213">Service Bus fournit des liaisons WCF qui la rendent simple pour toointeract des applications Windows via le relais.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-213">Service Bus provides WCF bindings that make it straightforward for Windows applications toointeract via relays.</span></span> <span data-ttu-id="cb8e6-214">Applications qui utilisent déjà WCF peuvent généralement spécifier l’une de ces liaisons, puis contactez tooeach autres via un relais.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-214">Applications that already use WCF can typically specify one of these bindings, then talk tooeach other through a relay.</span></span> <span data-ttu-id="cb8e6-215">En effet, aucune bibliothèque standard n’est fournie.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-215">Unlike queues and topics, however, using relays from non-Windows applications, while possible, requires some programming effort; no standard libraries are provided.</span></span>

<span data-ttu-id="cb8e6-216">Contrairement aux files d’attente et aux rubriques, les applications ne créent pas de relais de façon explicite.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-216">Unlike queues and topics, applications don't explicitly create relays.</span></span> <span data-ttu-id="cb8e6-217">En revanche, lorsqu’une application qui souhaite tooreceive messages établit une connexion TCP avec Service Bus, un relais est créé automatiquement.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-217">Instead, when an application that wishes tooreceive messages establishes a TCP connection with Service Bus, a relay is created automatically.</span></span> <span data-ttu-id="cb8e6-218">Lors de la connexion de hello est supprimée, les relais hello sont supprimé.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-218">When hello connection is dropped, hello relay is deleted.</span></span> <span data-ttu-id="cb8e6-219">tooenable un relais de hello toofind application créé par un récepteur spécifique, Service Bus fournit un Registre permettant aux applications toolocate un relais spécifique par nom.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-219">tooenable an application toofind hello relay created by a specific listener, Service Bus provides a registry that enables applications toolocate a specific relay by name.</span></span>

<span data-ttu-id="cb8e6-220">Les relais sont une solution adaptée hello lorsque vous avez besoin d’une communication directe entre les applications.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-220">Relays are hello right solution when you need direct communication between applications.</span></span> <span data-ttu-id="cb8e6-221">Prenons par exemple le système de réservation d’une compagnie aérienne qui s’exécute sur un centre de données local qui peut être accessible à partir de bornes d’enregistrement, d’appareils mobiles et d’ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-221">For example, consider an airline reservation system running in an on-premises datacenter that must be accessed from check-in kiosks, mobile devices, and other computers.</span></span> <span data-ttu-id="cb8e6-222">Applications en cours d’exécution sur tous ces systèmes pourraient reposent sur les relais Service Bus dans hello cloud toocommunicate, partout où elles peuvent être en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-222">Applications running on all these systems could rely on Service Bus relays in hello cloud toocommunicate, wherever they might be running.</span></span>

## <a name="summary"></a><span data-ttu-id="cb8e6-223">Résumé</span><span class="sxs-lookup"><span data-stu-id="cb8e6-223">Summary</span></span>

<span data-ttu-id="cb8e6-224">Connexion d’applications a été toujours partie de la création de solutions complètes et plage hello de scénarios qui requièrent des applications et toocommunicate services avec l’autre a la valeur tooincrease étant plus d’applications et les périphériques connecté toohello internet.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-224">Connecting applications has always been part of building complete solutions, and hello range of scenarios that require applications and services toocommunicate with each other is set tooincrease as more applications and devices are connected toohello internet.</span></span> <span data-ttu-id="cb8e6-225">Grâce aux technologies informatiques pour atteindre une communication via les files d’attente, rubriques et relais, Service Bus vise toomake cette tooimplement plus facilement des fonctions essentielles et plus largement disponibles.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-225">By providing cloud-based technologies for achieving communication through queues, topics, and relays, Service Bus aims toomake this essential function easier tooimplement and more broadly available.</span></span>

## <a name="next-steps"></a><span data-ttu-id="cb8e6-226">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="cb8e6-226">Next steps</span></span>

<span data-ttu-id="cb8e6-227">Maintenant que vous avez appris les notions de base de hello du Bus des services Azure, suivez ces liens de toolearn plus.</span><span class="sxs-lookup"><span data-stu-id="cb8e6-227">Now that you've learned hello fundamentals of Azure Service Bus, follow these links toolearn more.</span></span>

* <span data-ttu-id="cb8e6-228">Comment toouse [files d’attente Service Bus](service-bus-dotnet-get-started-with-queues.md)</span><span class="sxs-lookup"><span data-stu-id="cb8e6-228">How toouse [Service Bus queues](service-bus-dotnet-get-started-with-queues.md)</span></span>
* <span data-ttu-id="cb8e6-229">Comment toouse [rubriques Service Bus](service-bus-dotnet-how-to-use-topics-subscriptions.md)</span><span class="sxs-lookup"><span data-stu-id="cb8e6-229">How toouse [Service Bus topics](service-bus-dotnet-how-to-use-topics-subscriptions.md)</span></span>
* <span data-ttu-id="cb8e6-230">Comment toouse [relais Service Bus](../service-bus-relay/service-bus-dotnet-how-to-use-relay.md)</span><span class="sxs-lookup"><span data-stu-id="cb8e6-230">How toouse [Service Bus relay](../service-bus-relay/service-bus-dotnet-how-to-use-relay.md)</span></span>
* [<span data-ttu-id="cb8e6-231">Exemples Service Bus</span><span class="sxs-lookup"><span data-stu-id="cb8e6-231">Service Bus samples</span></span>](service-bus-samples.md)

[1]: ./media/service-bus-fundamentals-hybrid-solutions/SvcBus_01_architecture.png
[2]: ./media/service-bus-fundamentals-hybrid-solutions/SvcBus_02_queues.png
[3]: ./media/service-bus-fundamentals-hybrid-solutions/SvcBus_03_topicsandsubscriptions.png
[4]: ./media/service-bus-fundamentals-hybrid-solutions/SvcBus_04_relay.png
