---
title: "Présentation de l’architecture de traitement du message de Service Bus aaaAzure | Documents Microsoft"
description: "Décrit l’architecture de traitement des messages hello du Bus des services Azure."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: baf94c2d-0e58-4d5d-a588-767f996ccf7f
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/23/2017
ms.author: sethm
ms.openlocfilehash: f7606e40cdf6db3797a0db2de9365453ff2a158e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="service-bus-architecture"></a><span data-ttu-id="5b46c-103">Architecture de Service Bus</span><span class="sxs-lookup"><span data-stu-id="5b46c-103">Service Bus architecture</span></span>
<span data-ttu-id="5b46c-104">Cet article décrit l’architecture de traitement des messages hello du Bus des services Azure.</span><span class="sxs-lookup"><span data-stu-id="5b46c-104">This article describes hello message processing architecture of Azure Service Bus.</span></span>

## <a name="service-bus-scale-units"></a><span data-ttu-id="5b46c-105">Unités d'échelle de Service Bus</span><span class="sxs-lookup"><span data-stu-id="5b46c-105">Service Bus scale units</span></span>
<span data-ttu-id="5b46c-106">Service Bus est organisé par *unités d'échelle*.</span><span class="sxs-lookup"><span data-stu-id="5b46c-106">Service Bus is organized by *scale units*.</span></span> <span data-ttu-id="5b46c-107">Une unité d’échelle est une unité de déploiement et contenait tous les composants de service hello exécution requis.</span><span class="sxs-lookup"><span data-stu-id="5b46c-107">A scale unit is a unit of deployment and contains all components required run hello service.</span></span> <span data-ttu-id="5b46c-108">Chaque région déploie une ou plusieurs unités d'échelle Service Bus.</span><span class="sxs-lookup"><span data-stu-id="5b46c-108">Each region deploys one or more Service Bus scale units.</span></span>

<span data-ttu-id="5b46c-109">Un espace de noms Service Bus est l’unité d’échelle tooa mappé.</span><span class="sxs-lookup"><span data-stu-id="5b46c-109">A Service Bus namespace is mapped tooa scale unit.</span></span> <span data-ttu-id="5b46c-110">unité d’échelle Hello gère tous les types d’entités Service Bus (files d’attente, rubriques, abonnements).</span><span class="sxs-lookup"><span data-stu-id="5b46c-110">hello scale unit handles all types of Service Bus entities (queues, topics, subscriptions).</span></span> <span data-ttu-id="5b46c-111">Une unité d’échelle Service Bus comprend hello suivant des composants :</span><span class="sxs-lookup"><span data-stu-id="5b46c-111">A Service Bus scale unit consists of hello following components:</span></span>

* <span data-ttu-id="5b46c-112">**Un ensemble de nœuds de passerelle.**</span><span class="sxs-lookup"><span data-stu-id="5b46c-112">**A set of gateway nodes.**</span></span> <span data-ttu-id="5b46c-113">Les nœuds de passerelle authentifient les requêtes entrantes.</span><span class="sxs-lookup"><span data-stu-id="5b46c-113">Gateway nodes authenticate incoming requests.</span></span> <span data-ttu-id="5b46c-114">Chaque nœud de passerelle a une adresse IP publique.</span><span class="sxs-lookup"><span data-stu-id="5b46c-114">Each gateway node has a public IP address.</span></span>
* <span data-ttu-id="5b46c-115">**Un ensemble de nœuds de broker de messagerie.**</span><span class="sxs-lookup"><span data-stu-id="5b46c-115">**A set of messaging broker nodes.**</span></span> <span data-ttu-id="5b46c-116">Les nœuds de broker de messagerie traitent les requêtes concernant les entités de messagerie.</span><span class="sxs-lookup"><span data-stu-id="5b46c-116">Messaging broker nodes process requests concerning messaging entities.</span></span>
* <span data-ttu-id="5b46c-117">**Une banque de passerelle.**</span><span class="sxs-lookup"><span data-stu-id="5b46c-117">**One gateway store.**</span></span> <span data-ttu-id="5b46c-118">magasin de passerelle Hello conserve des données de hello pour chaque entité définie dans cette unité d’échelle.</span><span class="sxs-lookup"><span data-stu-id="5b46c-118">hello gateway store holds hello data for every entity that is defined in this scale unit.</span></span> <span data-ttu-id="5b46c-119">magasin de passerelle Hello est implémenté sur une base de données SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="5b46c-119">hello gateway store is implemented on top of a SQL Azure database.</span></span>
* <span data-ttu-id="5b46c-120">**Plusieurs banques de messagerie.**</span><span class="sxs-lookup"><span data-stu-id="5b46c-120">**Multiple messaging stores.**</span></span> <span data-ttu-id="5b46c-121">Banques de messages contiennent des messages hello de toutes les files d’attente, rubriques et abonnements qui sont définis dans cette unité d’échelle.</span><span class="sxs-lookup"><span data-stu-id="5b46c-121">Messaging stores hold hello messages of all queues, topics and subscriptions that are defined in this scale unit.</span></span> <span data-ttu-id="5b46c-122">Elles contiennent également toutes les données d’abonnement.</span><span class="sxs-lookup"><span data-stu-id="5b46c-122">It also contains all subscription data.</span></span> <span data-ttu-id="5b46c-123">À moins que [partitionnement des entités de messagerie](service-bus-partitioning.md) est activé, une file d’attente ou une rubrique est mappé tooone banque de messagerie.</span><span class="sxs-lookup"><span data-stu-id="5b46c-123">Unless [partitioning messaging entities](service-bus-partitioning.md) is enabled, a queue or topic is mapped tooone messaging store.</span></span> <span data-ttu-id="5b46c-124">Les abonnements sont stockés dans hello même banque de messagerie en tant que leur rubrique parente.</span><span class="sxs-lookup"><span data-stu-id="5b46c-124">Subscriptions are stored in hello same messaging store as their parent topic.</span></span> <span data-ttu-id="5b46c-125">À l’exception de Service Bus [Premium-Messaging](service-bus-premium-messaging.md), des banques de messages hello sont implémentées sur les bases de données SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="5b46c-125">Except for Service Bus [Premium Messaging](service-bus-premium-messaging.md), hello messaging stores are implemented on top of SQL Azure databases.</span></span>

## <a name="containers"></a><span data-ttu-id="5b46c-126">Conteneurs</span><span class="sxs-lookup"><span data-stu-id="5b46c-126">Containers</span></span>
<span data-ttu-id="5b46c-127">Un conteneur spécifique est assigné à chaque entité de messagerie.</span><span class="sxs-lookup"><span data-stu-id="5b46c-127">Each messaging entity is assigned a specific container.</span></span> <span data-ttu-id="5b46c-128">Un conteneur est une construction logique qui utilise un seul toostore banque de messagerie toutes les données pour ce conteneur.</span><span class="sxs-lookup"><span data-stu-id="5b46c-128">A container is a logical construct that uses exactly one messaging store toostore all relevant data for this container.</span></span> <span data-ttu-id="5b46c-129">Chaque conteneur est assigné tooa nœud service broker de messagerie.</span><span class="sxs-lookup"><span data-stu-id="5b46c-129">Each container is assigned tooa messaging broker node.</span></span> <span data-ttu-id="5b46c-130">En règle générale, il existe plus de conteneurs que de nœuds de broker de messagerie.</span><span class="sxs-lookup"><span data-stu-id="5b46c-130">Typically, there are more containers than messaging broker nodes.</span></span> <span data-ttu-id="5b46c-131">Par conséquent, chaque nœud de broker de messagerie charge plusieurs conteneurs.</span><span class="sxs-lookup"><span data-stu-id="5b46c-131">Therefore, each messaging broker node loads multiple containers.</span></span> <span data-ttu-id="5b46c-132">distribution Hello du nœud de broker messagerie conteneurs tooa est organisée de sorte que tous les nœuds de broker de messagerie sont également chargés.</span><span class="sxs-lookup"><span data-stu-id="5b46c-132">hello distribution of containers tooa messaging broker node is organized such that all messaging broker nodes are equally loaded.</span></span> <span data-ttu-id="5b46c-133">Si les modifications de modèle de charge de hello (par exemple, un Obtient des conteneurs hello très occupé) ou si un nœud de broker de messagerie devient temporairement indisponible, hello conteneurs sont redistribuées entre hello nœuds de broker de messagerie.</span><span class="sxs-lookup"><span data-stu-id="5b46c-133">If hello load pattern changes (for example, one of hello containers gets very busy), or if a messaging broker node becomes temporarily unavailable, hello containers are redistributed among hello messaging broker nodes.</span></span>

## <a name="processing-of-incoming-messaging-requests"></a><span data-ttu-id="5b46c-134">Traitement des requêtes de messagerie entrantes</span><span class="sxs-lookup"><span data-stu-id="5b46c-134">Processing of incoming messaging requests</span></span>
<span data-ttu-id="5b46c-135">Lorsqu’un client envoie une demande de tooService Bus, équilibrage de charge Azure hello achemine tooany de nœuds de passerelle hello.</span><span class="sxs-lookup"><span data-stu-id="5b46c-135">When a client sends a request tooService Bus, hello Azure load balancer routes it tooany of hello gateway nodes.</span></span> <span data-ttu-id="5b46c-136">nœud de passerelle Hello autorise la demande de hello.</span><span class="sxs-lookup"><span data-stu-id="5b46c-136">hello gateway node authorizes hello request.</span></span> <span data-ttu-id="5b46c-137">Si la demande de hello s’applique à une entité de messagerie (file d’attente, rubrique, abonnement), nœud de passerelle hello recherche entité hello dans le magasin de passerelle hello et détermine dans quel hello de magasin de messagerie entité se trouve.</span><span class="sxs-lookup"><span data-stu-id="5b46c-137">If hello request concerns a messaging entity (queue, topic, subscription), hello gateway node looks up hello entity in hello gateway store and determines in which messaging store hello entity is located.</span></span> <span data-ttu-id="5b46c-138">Il recherche ensuite le nœud service broker de messagerie traite actuellement ce conteneur et envoie toothat de demande hello nœud service broker de messagerie.</span><span class="sxs-lookup"><span data-stu-id="5b46c-138">It then looks up which messaging broker node is currently servicing this container, and sends hello request toothat messaging broker node.</span></span> <span data-ttu-id="5b46c-139">Hello nœud service broker de messagerie traite la demande de hello et met à jour d’état de l’entité dans le magasin de conteneur hello hello.</span><span class="sxs-lookup"><span data-stu-id="5b46c-139">hello messaging broker node processes hello request and updates hello entity state in hello container store.</span></span> <span data-ttu-id="5b46c-140">Hello nœud service broker de messagerie puis envoie hello réponse toohello précédent nœud passerelle, qui envoie un client toohello arrière de réponse appropriée cette demande d’origine hello émis.</span><span class="sxs-lookup"><span data-stu-id="5b46c-140">hello messaging broker node then sends hello response back toohello gateway node, which sends an appropriate response back toohello client that issued hello original request.</span></span>

![Traitement des requêtes de messagerie entrantes](./media/service-bus-architecture/ic690644.png)

## <a name="next-steps"></a><span data-ttu-id="5b46c-142">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="5b46c-142">Next steps</span></span>
<span data-ttu-id="5b46c-143">Maintenant que vous avez lu une vue d’ensemble de l’architecture de Service Bus, visitez hello suivant les liens pour plus d’informations :</span><span class="sxs-lookup"><span data-stu-id="5b46c-143">Now that you've read an overview of Service Bus architecture, visit hello following links for more information:</span></span>

* [<span data-ttu-id="5b46c-144">Présentation de la messagerie Service Bus</span><span class="sxs-lookup"><span data-stu-id="5b46c-144">Service Bus messaging overview</span></span>](service-bus-messaging-overview.md)
* [<span data-ttu-id="5b46c-145">Concepts de base de Service Bus</span><span class="sxs-lookup"><span data-stu-id="5b46c-145">Service Bus fundamentals</span></span>](service-bus-fundamentals-hybrid-solutions.md)
* [<span data-ttu-id="5b46c-146">Solution de messages de file d’attente utilisant les files d’attente Service Bus</span><span class="sxs-lookup"><span data-stu-id="5b46c-146">A queued messaging solution using Service Bus queues</span></span>](service-bus-dotnet-multi-tier-app-using-service-bus-queues.md)


