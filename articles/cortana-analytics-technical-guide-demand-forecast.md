---
title: "Prévision de la demande énergétique : guide technique | Microsoft Docs"
description: "Guide technique de l’utilisation du modèle de solution avec Microsoft Cortana Intelligence pour prévoir la demande énergétique."
services: cortana-analytics
documentationcenter: 
author: yijichen
manager: ilanr9
editor: yijichen
ms.assetid: 7f1a866b-79b7-4b97-ae3e-bc6bebe8c756
ms.service: cortana-analytics
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/16/2016
ms.author: inqiu;yijichen;ilanr9
ms.openlocfilehash: c3bbef8fee018dc54e7d3edb86e3f9434999bdae
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="technical-guide-to-the-cortana-intelligence-solution-template-for-demand-forecast-in-energy"></a><span data-ttu-id="0c2ae-103">Guide technique de l’utilisation du modèle de solution Cortana Intelligence pour prévoir la demande énergétique</span><span class="sxs-lookup"><span data-stu-id="0c2ae-103">Technical guide to the Cortana Intelligence Solution Template for demand forecast in energy</span></span>
## <a name="overview"></a><span data-ttu-id="0c2ae-104">**Vue d’ensemble**</span><span class="sxs-lookup"><span data-stu-id="0c2ae-104">**Overview**</span></span>
<span data-ttu-id="0c2ae-105">Les modèles de solution visent à accélérer le processus de création d’une démonstration E2E sur Cortana Intelligence Suite.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-105">Solution Templates are designed to accelerate the process of building an E2E demo on top of Cortana Intelligence Suite.</span></span> <span data-ttu-id="0c2ae-106">Un modèle déployé fournit à votre abonnement les composants Cortana Intelligence nécessaires et établit les relations entre eux.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-106">A deployed template will provision your subscription with necessary Cortana Intelligence component and build the relationships between.</span></span> <span data-ttu-id="0c2ae-107">Il amorce également le pipeline de données avec des exemples de données générées à partir d'une application de simulation de données.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-107">It also seeds the data pipeline with sample data getting generated from a data simulation application.</span></span> <span data-ttu-id="0c2ae-108">Téléchargez le simulateur de données en cliquant sur le lien fourni et installez-le sur votre ordinateur local. Pour obtenir des instructions sur l'utilisation du simulateur, consultez le fichier readme.txt.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-108">Download the data simulator from the link provided and install it on your local machine, refer to the readme.txt file for instruction on using the simulator.</span></span> <span data-ttu-id="0c2ae-109">Les données issues du simulateur alimentent le pipeline de données et génèrent des prédictions Machine Learning que vous pouvez ensuite visualiser dans le tableau de bord Power BI.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-109">Data generated from the simulator will hydrate the data pipeline and start generating machine learning prediction which can then be visualized on the Power BI dashboard.</span></span>

<span data-ttu-id="0c2ae-110">Le modèle de solution se trouve [ici](https://gallery.cortanaintelligence.com/SolutionTemplate/Demand-Forecasting-for-Energy-1)</span><span class="sxs-lookup"><span data-stu-id="0c2ae-110">The solution template can be found [here](https://gallery.cortanaintelligence.com/SolutionTemplate/Demand-Forecasting-for-Energy-1)</span></span>

<span data-ttu-id="0c2ae-111">Le processus de déploiement vous guide à travers plusieurs étapes permettant de configurer les informations d’identification de votre solution.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-111">The deployment process will guide you through several steps to set up your solution credentials.</span></span> <span data-ttu-id="0c2ae-112">Veillez à consigner les informations d’identification, telles que le nom de la solution, le nom d’utilisateur et le mot de passe, que vous renseignez pendant le déploiement.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-112">Make sure you record these credentials such as solution name, username, and password you provide during the deployment.</span></span>

<span data-ttu-id="0c2ae-113">L’objectif de ce document est de vous présenter l’architecture de référence et les différents composants configurés dans votre abonnement dans le cadre de ce modèle de solution.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-113">The goal of this document is to explain the reference architecture and different components provisioned in your subscription as part of this Solution Template.</span></span> <span data-ttu-id="0c2ae-114">Ce document explique également comment remplacer les exemples de données par vos propres données réelles afin de vous permettre de visualiser des analyses et des prévisions dérivées de vos propres données.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-114">The document also talks about how to replace the sample data, with real data of your own to be able to see insights/predictions from you won data.</span></span> <span data-ttu-id="0c2ae-115">Il décrit enfin les éléments du modèle de solution que vous devez modifier si vous souhaitez personnaliser la solution avec vos propres données.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-115">Additionally, the document talks about the parts of the Solution Template that would need to be modified if you want to customize the solution with your own data.</span></span> <span data-ttu-id="0c2ae-116">Vous trouverez à la fin de ce document des instructions sur la façon de configurer le tableau de bord Power BI pour ce modèle de solution.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-116">Instructions on how to build the Power BI dashboard for this Solution Template are provided at the end.</span></span>

## <a name="big-picture"></a><span data-ttu-id="0c2ae-117">**Grandes lignes**</span><span class="sxs-lookup"><span data-stu-id="0c2ae-117">**Big Picture**</span></span>
![](media/cortana-analytics-technical-guide-demand-forecast/ca-topologies-energy-forecasting.png)

### <a name="architecture-explained"></a><span data-ttu-id="0c2ae-118">Architecture</span><span class="sxs-lookup"><span data-stu-id="0c2ae-118">Architecture Explained</span></span>
<span data-ttu-id="0c2ae-119">Le déploiement de la solution entraîne l’activation de divers services Azure dans Cortana Analytics Suite (*c’est-à-dire* Event Hub, Stream Analytics, HDInsight, Data Factory, Machine Learning, *etc.*).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-119">When the solution is deployed, various Azure services within Cortana Analytics Suite are activated (*i.e.* Event Hub, Stream Analytics, HDInsight, Data Factory, Machine Learning, *etc.*).</span></span> <span data-ttu-id="0c2ae-120">Le schéma d’architecture ci-dessus illustre globalement la construction de bout en bout du modèle de solution de prévision de la demande énergétique.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-120">The architecture diagram above shows, at a high level, how the Demand Forecasting for Energy Solution Template is constructed from end-to-end.</span></span> <span data-ttu-id="0c2ae-121">Vous pouvez passer en revue ces services en cliquant dessus sur le schéma du modèle de solution créé avec le déploiement de la solution.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-121">You will be able to investigate these services by clicking on them on the solution template diagram created with the deployment of the solution.</span></span> <span data-ttu-id="0c2ae-122">Les sections suivantes décrivent chaque élément du schéma.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-122">The following sections describe each piece.</span></span>

## <a name="data-source-and-ingestion"></a><span data-ttu-id="0c2ae-123">**Source et ingestion de données**</span><span class="sxs-lookup"><span data-stu-id="0c2ae-123">**Data Source and Ingestion**</span></span>
### <a name="synthetic-data-source"></a><span data-ttu-id="0c2ae-124">Source de données de synthèse</span><span class="sxs-lookup"><span data-stu-id="0c2ae-124">Synthetic Data Source</span></span>
<span data-ttu-id="0c2ae-125">Pour ce modèle, la source de données utilisée est générée à partir d’une application de bureau que vous allez télécharger et exécuter localement après la réussite du déploiement.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-125">For this template the data source used is generated from a desktop application that you will download and run locally after successful deployment.</span></span> <span data-ttu-id="0c2ae-126">Vous trouverez les instructions de téléchargement et d’installation de cette application dans la barre des propriétés lorsque vous sélectionnez le premier nœud appelé Energy Forecasting Data Simulator sur le schéma du modèle de solution.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-126">You will find the instructions to download and install this application in the properties bar when you select the first node called Energy Forecasting Data Simulator on the solution template diagram.</span></span> <span data-ttu-id="0c2ae-127">Cette application alimente le service [Azure Event Hub](#azure-event-hub) avec des points de données, ou événements, qui seront utilisés dans le reste du flux de la solution.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-127">This application feeds the [Azure Event Hub](#azure-event-hub) service with data points, or events, that will be used in the rest of the solution flow.</span></span>

<span data-ttu-id="0c2ae-128">L’application de génération d’événements alimente le service Azure Event Hub uniquement lorsqu’elle est exécutée sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-128">The event generation application will populate the Azure Event Hub only while it's executing on your computer.</span></span>

### <a name="azure-event-hub"></a><span data-ttu-id="0c2ae-129">Azure Event Hub</span><span class="sxs-lookup"><span data-stu-id="0c2ae-129">Azure Event Hub</span></span>
<span data-ttu-id="0c2ae-130">Le service [Azure Event Hub](https://azure.microsoft.com/services/event-hubs/) est le destinataire des données fournies par la source de données de synthèse décrite ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-130">The [Azure Event Hub](https://azure.microsoft.com/services/event-hubs/) service is the recipient of the input provided by the Synthetic Data Source described above.</span></span>

## <a name="data-preparation-and-analysis"></a><span data-ttu-id="0c2ae-131">**Préparation et analyse des données**</span><span class="sxs-lookup"><span data-stu-id="0c2ae-131">**Data Preparation and Analysis**</span></span>
### <a name="azure-stream-analytics"></a><span data-ttu-id="0c2ae-132">Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="0c2ae-132">Azure Stream Analytics</span></span>
<span data-ttu-id="0c2ae-133">Le service [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) sert à fournir des analyses en temps quasi-réel sur le flux d’entrée du service [Azure Event Hub](#azure-event-hub) et à publier les résultats dans un tableau de bord [Power BI](https://powerbi.microsoft.com). Il permet également d’archiver, dans le service [Azure Storage](https://azure.microsoft.com/services/storage/), tous les événements bruts entrants qui seront ensuite traités par le service [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-133">The [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) service is used to provide near real-time analytics on the input stream from the [Azure Event Hub](#azure-event-hub) service and publish results onto a [Power BI](https://powerbi.microsoft.com) dashboard as well as archiving all raw incoming events to the [Azure Storage](https://azure.microsoft.com/services/storage/) service for later processing by the [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/) service.</span></span>

### <a name="hd-insights-custom-aggregation"></a><span data-ttu-id="0c2ae-134">Agrégation personnalisée HDInsight</span><span class="sxs-lookup"><span data-stu-id="0c2ae-134">HD Insights Custom Aggregation</span></span>
<span data-ttu-id="0c2ae-135">Le service Azure HD Insight est utilisé pour exécuter des scripts [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) (orchestrés par Azure Data Factory) pour agréger les événements bruts ayant été archivés à l’aide du service Azure Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-135">The Azure HD Insight service is used to run [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) scripts (orchestrated by Azure Data Factory) to provide aggregations on the raw events that were archived using the Azure Stream Analytics service.</span></span>

### <a name="azure-machine-learning"></a><span data-ttu-id="0c2ae-136">Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="0c2ae-136">Azure Machine Learning</span></span>
<span data-ttu-id="0c2ae-137">Le service [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) est utilisé (et orchestré par Azure Data Factory) pour prédire la consommation électrique future d’une région particulière compte tenu des entrées reçues.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-137">The [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) service is used (orchestrated by Azure Data Factory) to make forecast on future power consumption of a particular region given the inputs received.</span></span>

## <a name="data-publishing"></a><span data-ttu-id="0c2ae-138">**Publication des données**</span><span class="sxs-lookup"><span data-stu-id="0c2ae-138">**Data Publishing**</span></span>
### <a name="azure-sql-database-service"></a><span data-ttu-id="0c2ae-139">Service de base de données SQL Azure</span><span class="sxs-lookup"><span data-stu-id="0c2ae-139">Azure SQL Database Service</span></span>
<span data-ttu-id="0c2ae-140">Le service [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) sert à stocker (sous le contrôle d’Azure Data Factory) les prédictions reçues par le service Azure Machine Learning et qui seront utilisées dans le tableau de bord [Power BI](https://powerbi.microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-140">The [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) service is used to store (managed by Azure Data Factory) the predictions received by the Azure Machine Learning service that will be consumed in the [Power BI](https://powerbi.microsoft.com) dashboard.</span></span>

## <a name="data-consumption"></a><span data-ttu-id="0c2ae-141">**Consommation des données**</span><span class="sxs-lookup"><span data-stu-id="0c2ae-141">**Data Consumption**</span></span>
### <a name="power-bi"></a><span data-ttu-id="0c2ae-142">Power BI</span><span class="sxs-lookup"><span data-stu-id="0c2ae-142">Power BI</span></span>
<span data-ttu-id="0c2ae-143">Le service [Power BI](https://powerbi.microsoft.com) permet d’afficher un tableau de bord contenant les agrégations fournies par le service [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/), ainsi que les résultats des prévisions de la demande stockés dans [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) et qui ont été générés à l’aide du service [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-143">The [Power BI](https://powerbi.microsoft.com) service is used to show a dashboard that contains aggregations provided by the [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) service as well as demand forecast results stored in [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) that were produced using the [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) service.</span></span> <span data-ttu-id="0c2ae-144">Pour obtenir des instructions sur la façon de configurer le tableau de bord Power BI pour ce modèle de solution, consultez la section ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-144">For Instructions on how to build the Power BI dashboard for this Solution Template, refer to the section below.</span></span>

## <a name="how-to-bring-in-your-own-data"></a><span data-ttu-id="0c2ae-145">**Comment importer vos propres données**</span><span class="sxs-lookup"><span data-stu-id="0c2ae-145">**How to bring in your own data**</span></span>
<span data-ttu-id="0c2ae-146">Cette section explique comment importer vos propres données dans Azure et décrit les éléments à modifier compte tenu des données que vous importez dans cette architecture.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-146">This section describes how to bring your own data to Azure, and what areas would require changes for the data you bring into this architecture.</span></span>

<span data-ttu-id="0c2ae-147">Les jeux de données que vous importez ont peu de chance de correspondre parfaitement à ce modèle de solution.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-147">It's unlikely that any dataset you bring would match the dataset used for this solution template.</span></span> <span data-ttu-id="0c2ae-148">Il est important de bien comprendre vos données et besoins pour déterminer la façon dont vous allez modifier ce modèle pour l’utiliser avec vos propres données.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-148">Understanding your data and the requirements will be crucial in how you modify this template to work with your own data.</span></span> <span data-ttu-id="0c2ae-149">Si vous n’êtes pas familiarisé avec le service Azure Machine Learning, vous pouvez consulter la page [Didacticiel sur l’apprentissage automatique : création de votre première expérience dans Azure Machine Learning Studio](machine-learning/machine-learning-create-experiment.md) pour en obtenir un premier aperçu.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-149">If this is your first exposure to the Azure Machine Learning service, you can get an introduction to it by using the example in [How to create your first experiment](machine-learning/machine-learning-create-experiment.md).</span></span>

<span data-ttu-id="0c2ae-150">Dans les sections suivantes, nous allons décrire les sections du modèle que vous devrez modifier lors de l’introduction d’un nouveau jeu de données.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-150">The following sections will discuss the sections of the template that will require modifications when a new dataset is introduced.</span></span>

### <a name="azure-event-hub"></a><span data-ttu-id="0c2ae-151">Azure Event Hub</span><span class="sxs-lookup"><span data-stu-id="0c2ae-151">Azure Event Hub</span></span>
<span data-ttu-id="0c2ae-152">Le service [Azure Event Hub](https://azure.microsoft.com/services/event-hubs/) est très générique, au point que les données peuvent être publiées sur le hub au format CSV ou JSON.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-152">The [Azure Event Hub](https://azure.microsoft.com/services/event-hubs/) service is very generic, such that data can be posted to the hub in either CSV or JSON format.</span></span> <span data-ttu-id="0c2ae-153">Bien que le service Azure Event Hub n’implique aucun traitement particulier, il est important de comprendre les données qui l’alimentent.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-153">No special processing occurs in the Azure Event Hub, but it is important you understand the data that is fed into it.</span></span>

<span data-ttu-id="0c2ae-154">Ce document ne décrit pas le mode de réception de vos données, mais vous pouvez facilement envoyer des événements ou des données vers un service Azure Event Hub à l’aide de l’[API Event Hub](event-hubs/event-hubs-programming-guide.md).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-154">This document does not describe how to ingest your data, but one can easily send events or data to an Azure Event Hub, using the [Event Hub API](event-hubs/event-hubs-programming-guide.md).</span></span>

### <a name="azure-stream-analytics"></a><span data-ttu-id="0c2ae-155">Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="0c2ae-155">Azure Stream Analytics</span></span>
<span data-ttu-id="0c2ae-156">Le service [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) permet de fournir des analyses en temps quasi-réel grâce à une lecture des flux de données et à l’envoi de données vers diverses sources.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-156">The [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) service is used to provide near real-time analytics by reading from data streams and outputting data to any number of sources.</span></span>

<span data-ttu-id="0c2ae-157">Dans le cas du modèle de solution de prévision de la demande énergétique, la requête Azure Stream Analytics se compose de deux sous-requêtes, chacune utilisant les événements du service Azure Event Hub en tant qu’entrées et générant des sorties à deux emplacements distincts.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-157">For the Demand Forecasting for Energy Solution Template, the Azure Stream Analytics query consists of two sub-queries, each consuming events from the Azure Event Hub service as inputs and having outputs to two distinct locations.</span></span> <span data-ttu-id="0c2ae-158">Ces sorties comprennent un jeu de données Power BI et un emplacement Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-158">These outputs consist of one Power BI dataset and one Azure Storage location.</span></span>

<span data-ttu-id="0c2ae-159">Pour accéder à la requête [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) :</span><span class="sxs-lookup"><span data-stu-id="0c2ae-159">The [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) query can be found by:</span></span>

* <span data-ttu-id="0c2ae-160">Connectez-vous au [portail de gestion Azure](https://manage.windowsazure.com/)</span><span class="sxs-lookup"><span data-stu-id="0c2ae-160">Logging into the [Azure management portal](https://manage.windowsazure.com/)</span></span>
* <span data-ttu-id="0c2ae-161">Recherchez les travaux Stream Analytics ![](media/cortana-analytics-technical-guide-demand-forecast/icon-stream-analytics.png) qui ont été générés au moment du déploiement de la solution.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-161">Locating the stream analytics jobs ![](media/cortana-analytics-technical-guide-demand-forecast/icon-stream-analytics.png) that were generated when the solution was deployed.</span></span> <span data-ttu-id="0c2ae-162">L’un effectue un Push des données vers Blob Storage (par exemple, mytest1streaming432822asablob), et l'autre vers Power BI (par exemple, mytest1streaming432822asapbi).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-162">One is for pushing data to blob storage (e.g. mytest1streaming432822asablob) and the other one is for pushing data to Power BI (e.g. mytest1streaming432822asapbi).</span></span>
* <span data-ttu-id="0c2ae-163">Sélectionnez</span><span class="sxs-lookup"><span data-stu-id="0c2ae-163">Selecting</span></span>

  * <span data-ttu-id="0c2ae-164">***INPUTS*** pour afficher l’entrée de la requête</span><span class="sxs-lookup"><span data-stu-id="0c2ae-164">***INPUTS*** to view the query input</span></span>
  * <span data-ttu-id="0c2ae-165">***QUERY*** pour afficher la requête elle-même</span><span class="sxs-lookup"><span data-stu-id="0c2ae-165">***QUERY*** to view the query itself</span></span>
  * <span data-ttu-id="0c2ae-166">***OUTPUTS*** pour afficher les différentes sorties</span><span class="sxs-lookup"><span data-stu-id="0c2ae-166">***OUTPUTS*** to view the different outputs</span></span>

<span data-ttu-id="0c2ae-167">Pour plus d’informations sur la construction des requêtes Azure Stream Analytics, consultez la [référence de requête Stream Analytics](https://msdn.microsoft.com/library/azure/dn834998.aspx) sur MSDN.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-167">Information about Azure Stream Analytics query construction can be found in the [Stream Analytics Query Reference](https://msdn.microsoft.com/library/azure/dn834998.aspx) on MSDN.</span></span>

<span data-ttu-id="0c2ae-168">Dans cette solution, le travail Azure Stream Analytics qui génère le jeu de données avec des informations d’analyse en temps quasi-réel concernant le flux de données entrant dans un tableau de bord Power BI est fourni dans le cadre de ce modèle de solution.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-168">In this solution, the Azure Stream Analytics job which outputs dataset with near real-time analytics information about the incoming data stream to a Power BI dashboard is provided as part of this solution template.</span></span> <span data-ttu-id="0c2ae-169">Étant donné que le format des données entrantes est implicitement connu, ces requêtes devront être modifiées en fonction de votre format de données.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-169">Because there's implicit knowledge about the incoming data format, these queries would need to be altered based on your data format.</span></span>

<span data-ttu-id="0c2ae-170">L’autre travail Azure Stream Analytics génère tous les événements [Event Hub](https://azure.microsoft.com/services/event-hubs/) dans [Azure Storage](https://azure.microsoft.com/services/storage/) et ne nécessite donc aucune modification, quel que soit votre format de données, puisque les informations d’événement complètes sont transmises en continu vers le stockage.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-170">The other Azure Stream Analytics job outputs all [Event Hub](https://azure.microsoft.com/services/event-hubs/) events to [Azure Storage](https://azure.microsoft.com/services/storage/) and hence requires no alteration regardless of your data format as the full event information is streamed to storage.</span></span>

### <a name="azure-data-factory"></a><span data-ttu-id="0c2ae-171">Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="0c2ae-171">Azure Data Factory</span></span>
<span data-ttu-id="0c2ae-172">Le service [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/) orchestre le déplacement et le traitement des données.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-172">The [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/) service orchestrates the movement and processing of data.</span></span> <span data-ttu-id="0c2ae-173">Dans le modèle de solution de prévision de la demande énergétique, la fabrique de données est constituée de douze [pipelines](data-factory/data-factory-create-pipelines.md) qui déplacent et traitent les données à l’aide de différentes technologies.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-173">In the Demand Forecasting for Energy Solution Template the data factory is made up of twelve [pipelines](data-factory/data-factory-create-pipelines.md) that move and process the data using various technologies.</span></span>

  <span data-ttu-id="0c2ae-174">Vous pouvez accéder à votre fabrique de données en ouvrant le nœud Data Factory en bas du diagramme du modèle de solution créé avec le déploiement de la solution.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-174">You can access your data factory by opening the Data Factory node at the bottom of the solution template diagram created with the deployment of the solution.</span></span> <span data-ttu-id="0c2ae-175">Vous êtes alors redirigé vers la fabrique de données sur votre portail de gestion Azure.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-175">This will take you to the data factory on your Azure management portal.</span></span> <span data-ttu-id="0c2ae-176">Si vous rencontrez des erreurs dans vos jeux de données, vous pouvez les ignorer car ces erreurs sont liées à la fabrique de données déployée avant le démarrage du générateur de données.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-176">If you see errors under your datasets, you can ignore those as they are due to data factory being deployed before the data generator was started.</span></span> <span data-ttu-id="0c2ae-177">Ces erreurs ne perturbent pas le fonctionnement de votre fabrique de données.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-177">Those errors do not prevent your data factory from functioning.</span></span>

<span data-ttu-id="0c2ae-178">Cette section décrit les [pipelines](data-factory/data-factory-create-pipelines.md) et les [activités](data-factory/data-factory-create-pipelines.md) nécessaires qui sont contenus dans le service [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-178">This section discusses the necessary [pipelines](data-factory/data-factory-create-pipelines.md) and [activities](data-factory/data-factory-create-pipelines.md) contained in the [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/).</span></span> <span data-ttu-id="0c2ae-179">Vous trouverez ci-dessous une vue schématique de la solution.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-179">Below is the diagram view of the solution.</span></span>

![](media/cortana-analytics-technical-guide-demand-forecast/ADF2.png)

<span data-ttu-id="0c2ae-180">Cinq des pipelines de cette fabrique contiennent des scripts [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) utilisés pour partitionner et agréger les données.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-180">Five of the pipelines of this factory contain [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) scripts that are used to partition and aggregate the data.</span></span> <span data-ttu-id="0c2ae-181">Quand ils sont référencés, les scripts apparaissent dans le compte [Azure Storage](https://azure.microsoft.com/services/storage/) créé pendant l’installation,</span><span class="sxs-lookup"><span data-stu-id="0c2ae-181">When noted, the scripts will be located in the [Azure Storage](https://azure.microsoft.com/services/storage/) account created during setup.</span></span> <span data-ttu-id="0c2ae-182">à l’emplacement suivant : demandforecasting\\\\script\\\\hive\\\\ (ou https://[nom de votre solution].blob.core.windows.net/demandforecasting).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-182">Their location will be: demandforecasting\\\\script\\\\hive\\\\ (or https://[Your solution name].blob.core.windows.net/demandforecasting).</span></span>

<span data-ttu-id="0c2ae-183">De la même manière que les requêtes [Azure Stream Analytics](#azure-stream-analytics-1), les scripts [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) ont une connaissance implicite du format des données entrantes. Vous devez donc modifier ces requêtes en fonction de votre format de données et des exigences [d’ingénierie des caractéristiques](machine-learning/machine-learning-feature-selection-and-engineering.md).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-183">Similar to the [Azure Stream Analytics](#azure-stream-analytics-1) queries, the [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) scripts have implicit knowledge about the incoming data format, these queries would need to be altered based on your data format and [feature engineering](machine-learning/machine-learning-feature-selection-and-engineering.md) requirements.</span></span>

#### <a name="aggregatedemanddatato1hrpipeline"></a><span data-ttu-id="0c2ae-184">*AggregateDemandDataTo1HrPipeline*</span><span class="sxs-lookup"><span data-stu-id="0c2ae-184">*AggregateDemandDataTo1HrPipeline*</span></span>
<span data-ttu-id="0c2ae-185">Ce [pipeline](data-factory/data-factory-create-pipelines.md) contient une seule activité, [HDInsightHive](data-factory/data-factory-hive-activity.md). Cette activité utilise un [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) qui exécute un script [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) pour agréger les données à la demande diffusées en continu toutes les 10 secondes au niveau de la sous-station en données horaires au niveau de la région et les placer dans [Azure Storage](https://azure.microsoft.com/services/storage/) par le biais du travail Azure Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-185">This [pipeline](data-factory/data-factory-create-pipelines.md) pipeline contains a single activity - an [HDInsightHive](data-factory/data-factory-hive-activity.md) activity using a [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) that runs a [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) script to aggregate the every 10 seconds streamed in demand data in substation level to hourly region level and put in [Azure Storage](https://azure.microsoft.com/services/storage/) through the Azure Stream Analytics job.</span></span>

<span data-ttu-id="0c2ae-186">Le script [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) utilisé pour cette tâche de partitionnement est ***AggregateDemandRegion1Hr.hql***</span><span class="sxs-lookup"><span data-stu-id="0c2ae-186">The [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) script for this partitioning task is ***AggregateDemandRegion1Hr.hql***</span></span>

#### <a name="loadhistorydemanddatapipeline"></a><span data-ttu-id="0c2ae-187">*LoadHistoryDemandDataPipeline*</span><span class="sxs-lookup"><span data-stu-id="0c2ae-187">*LoadHistoryDemandDataPipeline*</span></span>
<span data-ttu-id="0c2ae-188">Ce [pipeline](data-factory/data-factory-create-pipelines.md) contient deux activités :</span><span class="sxs-lookup"><span data-stu-id="0c2ae-188">This [pipeline](data-factory/data-factory-create-pipelines.md) contains two activities:</span></span>

* <span data-ttu-id="0c2ae-189">[HDInsightHive](data-factory/data-factory-hive-activity.md), qui utilise un [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) exécutant un script Hive pour agréger les données de demande d’historique horaire au niveau de la sous-station en données horaires au niveau de la région et les placer dans Azure Storage pendant le travail Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="0c2ae-189">[HDInsightHive](data-factory/data-factory-hive-activity.md) activity using a [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) that runs a  Hive script to aggregate the hourly history demand data in substation level to hourly region level and put in Azure Storage during the Azure Stream Analytics job</span></span>
* <span data-ttu-id="0c2ae-190">[Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) , qui déplace les données agrégées de l’objet blob Azure Storage vers la base de données SQL Microsoft Azure approvisionnée dans le cadre de l’installation du modèle de solution.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-190">[Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) activity that moves the aggregated data from Azure Storage blob to the Azure SQL Database that was provisioned as part of the solution template installation.</span></span>

<span data-ttu-id="0c2ae-191">Le script [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) pour cette tâche est ***AggregateDemandHistoryRegion.hql***.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-191">The [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) script for this task is ***AggregateDemandHistoryRegion.hql***.</span></span>

#### <a name="mlscoringregionxpipeline"></a><span data-ttu-id="0c2ae-192">*MLScoringRegionXPipeline*</span><span class="sxs-lookup"><span data-stu-id="0c2ae-192">*MLScoringRegionXPipeline*</span></span>
<span data-ttu-id="0c2ae-193">Ces [pipelines](data-factory/data-factory-create-pipelines.md) comprennent plusieurs activités dont le résultat final contient les prédictions notées à partir de l’expérience Azure Machine Learning associée à ce modèle de solution.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-193">These [pipelines](data-factory/data-factory-create-pipelines.md) contain several activities and whose end result is the scored predictions from the Azure Machine Learning experiment associated with this solution template.</span></span> <span data-ttu-id="0c2ae-194">Ils sont quasiment identiques : ce qui les différencie, c’est qu’ils gèrent chacun une région différente. Pour cela, un RegionID différent est passé dans le pipeline ADF et le script Hive pour chaque région.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-194">They are almost identical except each of them only handles the different region which is being done by different RegionID passed in the ADF pipeline and the hive script for each region.</span></span>  
<span data-ttu-id="0c2ae-195">Ce pipeline contient les activités suivantes :</span><span class="sxs-lookup"><span data-stu-id="0c2ae-195">The activities contained in this are:</span></span>

* <span data-ttu-id="0c2ae-196">[HDInsightHive](data-factory/data-factory-hive-activity.md), qui utilise un [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) exécutant un script Hive pour effectuer les agrégations et l’ingénierie de fonctionnalités nécessaires pour l’expérience Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-196">[HDInsightHive](data-factory/data-factory-hive-activity.md) activity using a [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) that runs a  Hive script to perform aggregations and feature engineering necessary for the Azure Machine Learning experiment.</span></span> <span data-ttu-id="0c2ae-197">Les scripts Hive pour cette tâche sont le ***PrepareMLInputRegionX.hql*** respectif.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-197">The Hive scripts for this task are respective ***PrepareMLInputRegionX.hql***.</span></span>
* <span data-ttu-id="0c2ae-198">Activité [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) qui déplace les résultats de l’activité [HDInsightHive](data-factory/data-factory-hive-activity.md) vers un objet blob Azure Storage unique, accessible à l’activité [AzureMLBatchScoring](https://msdn.microsoft.com/library/azure/dn894009.aspx).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-198">[Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) activity that moves the results from the [HDInsightHive](data-factory/data-factory-hive-activity.md) activity to a single Azure Storage blob that can be access by the  [AzureMLBatchScoring](https://msdn.microsoft.com/library/azure/dn894009.aspx) activity.</span></span>
* <span data-ttu-id="0c2ae-199">[AzureMLBatchScoring](https://msdn.microsoft.com/library/azure/dn894009.aspx) qui appelle l’expérience Azure Machine Learning pour placer les résultats dans un objet blob Azure Storage unique.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-199">[AzureMLBatchScoring](https://msdn.microsoft.com/library/azure/dn894009.aspx) activity that calls the Azure Machine Learning experiment which results in the results being put in a single Azure Storage blob.</span></span>

#### <a name="copyscoredresultregionxpipeline"></a><span data-ttu-id="0c2ae-200">*CopyScoredResultRegionXPipeline*</span><span class="sxs-lookup"><span data-stu-id="0c2ae-200">*CopyScoredResultRegionXPipeline*</span></span>
<span data-ttu-id="0c2ae-201">Ces [pipelines](data-factory/data-factory-create-pipelines.md) contiennent une seule activité, [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx). Cette activité déplace les résultats de l’expérience Azure Machine Learning du ***MLScoringRegionXPipeline*** respectif vers la base de données Azure SQL Database approvisionnée dans le cadre de l’installation du modèle de solution.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-201">These [pipelines](data-factory/data-factory-create-pipelines.md) contain a single activity - a [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) activity that moves the results of the Azure Machine Learning experiment from the respective ***MLScoringRegionXPipeline*** to the Azure SQL Database that was provisioned as part of the solution template installation.</span></span>

#### <a name="copyaggdemandpipeline"></a><span data-ttu-id="0c2ae-202">*CopyAggDemandPipeline*</span><span class="sxs-lookup"><span data-stu-id="0c2ae-202">*CopyAggDemandPipeline*</span></span>
<span data-ttu-id="0c2ae-203">Ces [pipelines](data-factory/data-factory-create-pipelines.md) contiennent une seule activité, [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx). Cette activité déplace les données à la demande agrégées en continu de ***LoadHistoryDemandDataPipeline*** vers la base de données Azure SQL Database approvisionnée dans le cadre de l’installation du modèle de solution.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-203">This [pipelines](data-factory/data-factory-create-pipelines.md) contain a single activity - a [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) activity that moves the aggregated ongoing demand data from ***LoadHistoryDemandDataPipeline*** to the Azure SQL Database that was provisioned as part of the solution template installation.</span></span>

#### <a name="copyregiondatapipeline-copysubstationdatapipeline-copytopologydatapipeline"></a><span data-ttu-id="0c2ae-204">*CopyRegionDataPipeline, CopySubstationDataPipeline, CopyTopologyDataPipeline*</span><span class="sxs-lookup"><span data-stu-id="0c2ae-204">*CopyRegionDataPipeline, CopySubstationDataPipeline, CopyTopologyDataPipeline*</span></span>
<span data-ttu-id="0c2ae-205">Ces [pipelines](data-factory/data-factory-create-pipelines.md) contiennent une seule activité, [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx). Cette activité déplace les données de référence de Region/Substation/Topologygeo chargées dans l’objet blob Azure Storage dans le cadre de l’installation du modèle de solution vers la base de données Azure SQL Database approvisionnée dans le cadre de l’installation du modèle de solution.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-205">These [pipelines](data-factory/data-factory-create-pipelines.md) contain a single activity - a [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) activity that moves the reference data of Region/Substation/Topologygeo that are uploaded to Azure Storage blob as part of the solution template installation to the Azure SQL Database that was provisioned as part of the solution template installation.</span></span>

### <a name="azure-machine-learning"></a><span data-ttu-id="0c2ae-206">Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="0c2ae-206">Azure Machine Learning</span></span>
<span data-ttu-id="0c2ae-207">L’expérience [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) utilisée pour ce modèle de solution fournit la prédiction de la demande de la région.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-207">The [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) experiment used for this solution template provides the prediction of demand of region.</span></span> <span data-ttu-id="0c2ae-208">L’expérience est spécifique au jeu de données consommé et doit donc être modifiée ou remplacée compte tenu des données qui y sont importées.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-208">The experiment is specific to the data set consumed and therefore will require modification or replacement specific to the data that is brought in.</span></span>

## <a name="monitor-progress"></a><span data-ttu-id="0c2ae-209">**Surveiller la progression**</span><span class="sxs-lookup"><span data-stu-id="0c2ae-209">**Monitor Progress**</span></span>
<span data-ttu-id="0c2ae-210">Une fois le Générateur de données lancé, l’alimentation du pipeline commence et les différents composants de votre solution entrent en action selon les commandes émises par la fabrique de données.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-210">Once the Data Generator is launched, the pipeline begins to get hydrated and the different components of your solution start kicking into action following the commands issued by the Data Factory.</span></span> <span data-ttu-id="0c2ae-211">Il existe deux méthodes de surveillance du pipeline.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-211">There are two ways you can monitor the pipeline.</span></span>

1. <span data-ttu-id="0c2ae-212">Vérifiez les données à partir d’Azure Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-212">Check the data from Azure Blob Storage.</span></span>

    <span data-ttu-id="0c2ae-213">Un des travaux Stream Analytics enregistre les données brutes entrantes dans Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-213">One of the Stream Analytics job writes the raw incoming data to blob storage.</span></span> <span data-ttu-id="0c2ae-214">Si vous cliquez sur le composant **Azure Blob Storage** de votre solution dans l’écran à partir duquel vous avez déployé la solution, puis cliquez sur **Ouvrir** dans le volet droit, vous accédez au [portail de gestion Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-214">If you click on **Azure Blob Storage** component of your solution from the screen you successfully deployed the solution and then click **Open** in the right panel, it will take you to the [Azure management portal](https://portal.azure.com).</span></span> <span data-ttu-id="0c2ae-215">Une fois dans le portail, cliquez sur **Objets BLOB**.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-215">Once there, click on **Blobs**.</span></span> <span data-ttu-id="0c2ae-216">Dans le panneau suivant, vous verrez une liste de conteneurs.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-216">In the next panel, you will see a list of Containers.</span></span> <span data-ttu-id="0c2ae-217">Cliquez sur **energysadata**.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-217">Click on **"energysadata"**.</span></span> <span data-ttu-id="0c2ae-218">Le panneau suivant affiche le dossier **demandongoing**.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-218">In the next panel, you will see the **"demandongoing"** folder.</span></span> <span data-ttu-id="0c2ae-219">Celui-ci comprend des dossiers nommés par exemple date=2016-01-28, etc. Si vous voyez ces dossiers, cela signifie que les données brutes sont correctement générées sur votre ordinateur et stockées dans Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-219">Inside the rawdata folder, you will see folders with names such as date=2016-01-28 etc. If you see these folders, it indicates that the raw data is successfully being generated on your computer and stored in blob storage.</span></span> <span data-ttu-id="0c2ae-220">Vous devriez voir des fichiers avec des tailles finies en Mo dans ces dossiers.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-220">You should see files that should have finite sizes in MB in those folders.</span></span>
2. <span data-ttu-id="0c2ae-221">Vérifiez les données à partir d’Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-221">Check the data from Azure SQL Database.</span></span>

    <span data-ttu-id="0c2ae-222">La dernière étape du pipeline consiste à enregistrer des données (par exemple, les prédictions générées à partir de Machine Learning) dans SQL Database.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-222">The last step of the pipeline is to write data (e.g. predictions from machine learning) into SQL Database.</span></span> <span data-ttu-id="0c2ae-223">Vous devrez peut-être attendre un maximum de deux heures pour que les données s'affichent dans SQL Database.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-223">You might have to wait a maximum of 2 hours for the data to appear in SQL Database.</span></span> <span data-ttu-id="0c2ae-224">Le [portail de gestion Azure](https://manage.windowsazure.com/)offre un moyen de surveiller la quantité de données disponible dans votre base de données SQL.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-224">One way to monitor how much data is available in your SQL Database is through [Azure management portal](https://manage.windowsazure.com/).</span></span> <span data-ttu-id="0c2ae-225">Dans le volet gauche, identifiez les BASES DE DONNÉES SQL![](media/cortana-analytics-technical-guide-demand-forecast/SQLicon2.png) et cliquez dessus.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-225">On the left panel locate SQL DATABASES![](media/cortana-analytics-technical-guide-demand-forecast/SQLicon2.png)  and click it.</span></span> <span data-ttu-id="0c2ae-226">Recherchez ensuite votre base de données (par exemple, demo123456db), puis cliquez dessus.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-226">Then locate your database (i.e. demo123456db) and click on it.</span></span> <span data-ttu-id="0c2ae-227">Dans la page suivante, sous la section **Se connecter à votre base de données**, cliquez sur **Exécuter des requêtes Transact-SQL sur votre base de données SQL**.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-227">On the next page under **"Connect to your database"** section, click **"Run Transact-SQL queries against your SQL database"**.</span></span>

    <span data-ttu-id="0c2ae-228">Ici, vous pouvez cliquer sur Nouvelle requête et entrez une requête pour obtenir le nombre de lignes (par exemple, select count(*) from DemandRealHourly). À mesure que votre base de données augmente, le nombre de lignes de la table doit augmenter.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-228">Here, you can click on New Query and query for the number of rows (e.g. "select count(*) from DemandRealHourly)" As your database grows, the number of rows in the table should increase.)</span></span>
3. <span data-ttu-id="0c2ae-229">Vérifiez les données à partir du tableau de bord Power BI.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-229">Check the data from Power BI dashboard.</span></span>

    <span data-ttu-id="0c2ae-230">Vous pouvez configurer un tableau de bord de chemin à chaud Power BI pour surveiller les données brutes entrantes.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-230">You can set up Power BI hot path dashboard to monitor the raw incoming data.</span></span> <span data-ttu-id="0c2ae-231">Suivez les instructions contenues dans la section « Tableau de bord Power BI ».</span><span class="sxs-lookup"><span data-stu-id="0c2ae-231">Please follow the instruction in the "Power BI Dashboard" section.</span></span>

## <a name="power-bi-dashboard"></a><span data-ttu-id="0c2ae-232">**Tableau de bord Power BI**</span><span class="sxs-lookup"><span data-stu-id="0c2ae-232">**Power BI Dashboard**</span></span>
### <a name="overview"></a><span data-ttu-id="0c2ae-233">Vue d'ensemble</span><span class="sxs-lookup"><span data-stu-id="0c2ae-233">Overview</span></span>
<span data-ttu-id="0c2ae-234">Cette section décrit comment configurer un tableau de bord Power BI afin de visualiser vos données en temps réel à partir d’Azure Stream Analytics (chemin à chaud), ainsi que les résultats des prévisions à partir d’Azure Machine Learning (chemin à froid).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-234">This section describes how to set up Power BI dashboard to visualize your real time data from Azure stream analytics (hot path), as well as forecast results from Azure machine learning (cold path).</span></span>

### <a name="setup-hot-path-dashboard"></a><span data-ttu-id="0c2ae-235">Configurer le tableau de bord de chemin à chaud</span><span class="sxs-lookup"><span data-stu-id="0c2ae-235">Setup Hot Path Dashboard</span></span>
<span data-ttu-id="0c2ae-236">Dans les étapes suivantes, nous allons vous expliquer comment visualiser la sortie de données en temps réel des tâches Stream Analytics qui ont été générées au moment du déploiement de la solution.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-236">The following steps will guide you how to visualize real time data output from Stream Analytics jobs that were generated at the time of solution deployment.</span></span> <span data-ttu-id="0c2ae-237">Les étapes suivantes nécessitent un compte [Power BI en ligne](http://www.powerbi.com/) .</span><span class="sxs-lookup"><span data-stu-id="0c2ae-237">A [Power BI online](http://www.powerbi.com/) account is required to perform the following steps.</span></span> <span data-ttu-id="0c2ae-238">Si vous ne possédez pas de compte, vous pouvez en [créer un](https://powerbi.microsoft.com/pricing).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-238">If you don't have an account, you can [create one](https://powerbi.microsoft.com/pricing).</span></span>

1. <span data-ttu-id="0c2ae-239">Ajouter une sortie Power BI dans Azure Stream Analytics (ASA).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-239">Add Power BI output in Azure Stream Analytics (ASA).</span></span>

   * <span data-ttu-id="0c2ae-240">Pour configurer la sortie de votre travail Azure Stream Analytics en tant que tableau de bord Power BI, vous devez suivre les instructions contenues dans [Azure Stream Analytics et Power BI : tableau de bord d’analyse permettant de visualiser en temps réel les données de diffusion en continu](stream-analytics/stream-analytics-power-bi-dashboard.md).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-240">You will need to follow the instructions in [Azure Stream Analytics & Power BI: A real-time analytics dashboard for real-time visibility of streaming data](stream-analytics/stream-analytics-power-bi-dashboard.md) to set up the output of your Azure Stream Analytics job as your Power BI dashboard.</span></span>
   * <span data-ttu-id="0c2ae-241">Dans votre [portail de gestion Azure](https://manage.windowsazure.com), recherchez le travail Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-241">Locate the stream analytics job in your [Azure management portal](https://manage.windowsazure.com).</span></span> <span data-ttu-id="0c2ae-242">Le nom du travail doit être au format nom_solution+"streamingjob"+nombre_aléatoire+"asapbi" (c’est-à-dire, demostreamingjob123456asapbi).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-242">The name of the job should be: YourSolutionName+"streamingjob"+random number+"asapbi" (i.e. demostreamingjob123456asapbi).</span></span>
   * <span data-ttu-id="0c2ae-243">Ajoutez une sortie PowerBI pour le travail ASA.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-243">Add a PowerBI output for the ASA job.</span></span> <span data-ttu-id="0c2ae-244">Définissez l’**alias de sortie** sur **PBIoutput**.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-244">Set the **Output Alias** as **‘PBIoutput’**.</span></span> <span data-ttu-id="0c2ae-245">Dans **Nom du jeu de données** et **Nom de la table**, entrez **EnergyStreamData**.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-245">Set your **Dataset Name** and **Table Name** as **‘EnergyStreamData’**.</span></span> <span data-ttu-id="0c2ae-246">Une fois que vous avez ajouté la sortie, cliquez sur **Démarrer** en bas de la page pour démarrer le travail Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-246">Once you have added the output, click **"Start"** at the bottom of the page to start the Stream Analytics job.</span></span> <span data-ttu-id="0c2ae-247">Un message de confirmation doit s’afficher (*par exemple*: La tâche Stream Analytics ’myteststreamingjob12345asablob’ a bien démarré).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-247">You should get a confirmation message (*e.g.*, "Starting stream analytics job myteststreamingjob12345asablob succeeded").</span></span>
2. <span data-ttu-id="0c2ae-248">Se connecter à [Power BI en ligne](http://www.powerbi.com)</span><span class="sxs-lookup"><span data-stu-id="0c2ae-248">Log in to [Power BI online](http://www.powerbi.com)</span></span>

   * <span data-ttu-id="0c2ae-249">Dans la section Jeux de données du volet gauche de Mon espace de travail, un nouveau jeu de données doit apparaître dans le volet gauche de Power BI.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-249">On the left panel Datasets section in My Workspace, you should be able to see a new dataset showing on the left panel of Power BI.</span></span> <span data-ttu-id="0c2ae-250">Il s'agit des données de diffusion en continu qui ont fait l’objet d’un Push à partir d'Azure Stream Analytics au cours de l'étape précédente.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-250">This is the streaming data you pushed from Azure Stream Analytics in the previous step.</span></span>
   * <span data-ttu-id="0c2ae-251">Assurez-vous que le volet ***Visualisations*** est ouvert et qu’il s’affiche à droite de l’écran.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-251">Make sure the ***Visualizations*** pane is open and is shown on the right side of the screen.</span></span>
3. <span data-ttu-id="0c2ae-252">Créez la vignette Demand by Timestamp :</span><span class="sxs-lookup"><span data-stu-id="0c2ae-252">Create the "Demand by Timestamp" tile:</span></span>

   * <span data-ttu-id="0c2ae-253">Cliquez sur le jeu de données **EnergyStreamData** dans la section Jeux de données du volet gauche.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-253">Click dataset **‘EnergyStreamData’** on the left panel Datasets section.</span></span>
   * <span data-ttu-id="0c2ae-254">Cliquez sur l’icône **Courbes** ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic8.png).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-254">Click **"Line Chart"** icon ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic8.png).</span></span>
   * <span data-ttu-id="0c2ae-255">Cliquez sur EnergyStreamData dans le panneau **Champs** .</span><span class="sxs-lookup"><span data-stu-id="0c2ae-255">Click ‘EnergyStreamData’ in **Fields** panel.</span></span>
   * <span data-ttu-id="0c2ae-256">Cliquez sur **Horodatage** et vérifiez qu’il apparaît sous Axe.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-256">Click **“Timestamp”** and make sure it shows under "Axis".</span></span> <span data-ttu-id="0c2ae-257">Cliquez sur **Charger** et vérifiez qu’il apparaît sous Valeurs.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-257">Click **“Load”** and make sure it shows under "Values".</span></span>
   * <span data-ttu-id="0c2ae-258">Cliquez sur **ENREGISTRER** en haut de l’écran et nommez le rapport EnergyStreamDataReport.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-258">Click **SAVE** on the top and name the report as “EnergyStreamDataReport”.</span></span> <span data-ttu-id="0c2ae-259">Le rapport EnergyStreamDataReport s’affiche dans la section Rapports du volet Navigateur de gauche.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-259">The report named “EnergyStreamDataReport” will be shown in Reports section in the Navigator pane on left.</span></span>
   * <span data-ttu-id="0c2ae-260">Cliquez sur l’icône **Épingler au tableau de bord**![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic6.png) dans le coin supérieur droit de ce graphique en courbes. Une fenêtre Épingler au tableau de bord peut apparaître pour vous permettre de sélectionner un tableau de bord.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-260">Click **“Pin Visual”**![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic6.png) icon on top right corner of this line chart, a "Pin to Dashboard" window may show up for you to choose a dashboard.</span></span> <span data-ttu-id="0c2ae-261">Sélectionnez EnergyStreamDataReport, puis cliquez sur Épingler.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-261">Please select "EnergyStreamDataReport", then click "Pin".</span></span>
   * <span data-ttu-id="0c2ae-262">Dans le tableau de bord, pointez la souris sur cette vignette, cliquez sur l’icône Modifier située en haut à droite pour donner le titre « Demand by Timestamp ».</span><span class="sxs-lookup"><span data-stu-id="0c2ae-262">Hover the mouse over this tile on the dashboard, click "edit" icon on top right corner to change its title as "Demand by Timestamp"</span></span>
4. <span data-ttu-id="0c2ae-263">Créez d’autres vignettes de tableau de bord en fonction des jeux de données appropriés.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-263">Create other dashboard tiles based on appropriate datasets.</span></span> <span data-ttu-id="0c2ae-264">La vue Tableau de bord finale est illustrée ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-264">The final dashboard view is shown below.</span></span>
     ![](media/cortana-analytics-technical-guide-demand-forecast/PBIFullScreen.png)

### <a name="setup-cold-path-dashboard"></a><span data-ttu-id="0c2ae-265">Configurer le tableau de bord de chemin à froid</span><span class="sxs-lookup"><span data-stu-id="0c2ae-265">Setup Cold Path Dashboard</span></span>
<span data-ttu-id="0c2ae-266">Dans le pipeline de données de chemin à froid, l'objectif principal est d’obtenir la prévision de la demande de chaque région.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-266">In cold path data pipeline, the essential goal is to get the demand forecast of each region.</span></span> <span data-ttu-id="0c2ae-267">Power BI se connecte à une base de données SQL Azure en tant que source de données où sont stockés les résultats de la prédiction.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-267">Power BI connects to an Azure SQL database as its data source, where the prediction results are stored.</span></span>

> [!NOTE]
> 1) <span data-ttu-id="0c2ae-268">Il faut plusieurs heures pour collecter suffisamment de résultats de prévisions pour le tableau de bord.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-268">It takes few hours to collect enough forecast results for the dashboard.</span></span> <span data-ttu-id="0c2ae-269">Nous vous recommandons donc de démarrer ce processus 2 à 3 heures après le lancement du Générateur de données.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-269">We recommend you start this process 2-3 hours after you lunch the data generator.</span></span> <span data-ttu-id="0c2ae-270">2) Dans cette étape, la condition préalable consiste à télécharger et installer le logiciel gratuit [Power BI Desktop](https://powerbi.microsoft.com/desktop).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-270">2) In this step, the prerequisite is to download and install the free software [Power BI desktop](https://powerbi.microsoft.com/desktop).</span></span>
>
>

1. <span data-ttu-id="0c2ae-271">Obtenez les informations d’identification de la base de données.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-271">Get the database credentials.</span></span>

   <span data-ttu-id="0c2ae-272">Avant de passer aux étapes suivantes, vous devez rechercher **le nom du serveur de base de données, le nom de la base de données, le nom d’utilisateur et le mot de passe** .</span><span class="sxs-lookup"><span data-stu-id="0c2ae-272">You will need **database server name, database name, user name and password** before moving to next steps.</span></span> <span data-ttu-id="0c2ae-273">Voici les étapes à suivre pour obtenir ces informations.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-273">Here are the steps to guide you how to find them.</span></span>

   * <span data-ttu-id="0c2ae-274">Une fois qu’**Azure SQL Database** apparaît en vert sur votre schéma de modèle de solution, cliquez dessus, puis cliquez sur **Ouvrir**.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-274">Once **"Azure SQL Database"** on your solution template diagram turns green, click it and then click **"Open"**.</span></span> <span data-ttu-id="0c2ae-275">Vous accédez alors au portail de gestion Azure qui affiche une page d'informations sur votre base de données.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-275">You will be guided to Azure management portal and your database information page will be opened as well.</span></span>
   * <span data-ttu-id="0c2ae-276">La page contient une section Base de données</span><span class="sxs-lookup"><span data-stu-id="0c2ae-276">On the page, you can find a "Database" section.</span></span> <span data-ttu-id="0c2ae-277">dans laquelle figure la base de données que vous avez créée.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-277">It lists out the database you have created.</span></span> <span data-ttu-id="0c2ae-278">Le nom de votre base de données doit être au format **nom_solution+nombre_aléatoire+db** (par exemple, montest12345db).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-278">The name of your database should be **"Your Solution Name + Random Number + 'db'"** (e.g. "mytest12345db").</span></span>
   * <span data-ttu-id="0c2ae-279">Cliquez sur votre base de données. Dans le nouveau panneau contextuel, le nom de votre serveur de base de données apparaît dans la partie supérieure.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-279">Click your database, in the new pop out panel, you can find your database server name on the top.</span></span> <span data-ttu-id="0c2ae-280">Le nom de votre base de données doit être au format **"Your Solution Name + Random Number + 'database.windows.net,1433'"** (e.g. "mytest12345.database.windows.net,1433").</span><span class="sxs-lookup"><span data-stu-id="0c2ae-280">Your database server name should be **"Your Solution Name + Random Number + 'database.windows.net,1433'"** (e.g. "mytest12345.database.windows.net,1433").</span></span>
   * <span data-ttu-id="0c2ae-281">Les **nom d’utilisateur** et **mot de passe** de votre base de données sont identiques aux nom d’utilisateur et mot de passe précédemment enregistrés au moment du déploiement de la solution.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-281">Your database **username** and **password** are the same as the username and password previously recorded during deployment of the solution.</span></span>
2. <span data-ttu-id="0c2ae-282">Mettez à jour la source de données du fichier Power BI de chemin à froid.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-282">Update the data source of the cold path Power BI file</span></span>

   * <span data-ttu-id="0c2ae-283">Vérifiez que vous avez installé la dernière version de [Power BI Desktop](https://powerbi.microsoft.com/desktop).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-283">Make sure you have installed the latest version of [Power BI desktop](https://powerbi.microsoft.com/desktop).</span></span>
   * <span data-ttu-id="0c2ae-284">Dans le dossier **DemandForecastingDataGeneratorv1.0** que vous avez téléchargé, double-cliquez sur le fichier **Power BI Template\DemandForecastPowerBI.pbix**.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-284">In the **"DemandForecastingDataGeneratorv1.0"** folder you downloaded, double click the **‘Power BI Template\DemandForecastPowerBI.pbix’** file.</span></span> <span data-ttu-id="0c2ae-285">Les visualisations initiales sont basées sur des données fictives.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-285">The initial visualizations are based on dummy data.</span></span> <span data-ttu-id="0c2ae-286">**Remarque :** si un message d’erreur s’affiche, vérifiez que vous avez installé la dernière version de Power BI Desktop.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-286">**Note:** If you see an error massage, please make sure you have installed the latest version of Power BI Desktop.</span></span>

     <span data-ttu-id="0c2ae-287">Après avoir ouvert le fichier, cliquez sur **Modifier les requêtes**dans la partie supérieure.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-287">Once you open it, on the top of the file, click **‘Edit Queries’**.</span></span> <span data-ttu-id="0c2ae-288">Dans la fenêtre contextuelle, double-cliquez sur **Source** dans le volet droit.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-288">In the pop out window, double click **‘Source’** on the right panel.</span></span>
     ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic1.png)
   * <span data-ttu-id="0c2ae-289">Dans la fenêtre contextuelle, remplacez **Serveur** et **Base de données** par vos propres noms de serveur et de base de données, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-289">In the pop out window, replace **"Server"** and **"Database"** with your own server and database names, and then click **"OK"**.</span></span> <span data-ttu-id="0c2ae-290">Pour le nom du serveur, veillez à spécifier le port 1433 (**NomVotreSolution.database.windows.net, 1433**).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-290">For server name, make sure you specify the port 1433 (**YourSolutionName.database.windows.net, 1433**).</span></span> <span data-ttu-id="0c2ae-291">Ignorez les messages d’avertissement qui s’affichent à l’écran.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-291">Ignore the warning messages that appear on the screen.</span></span>
   * <span data-ttu-id="0c2ae-292">Dans la fenêtre contextuelle suivante, deux options s’affichent dans le volet gauche (**Windows** et **Base de données**).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-292">In the next pop out window, you'll see two options on the left pane (**Windows** and **Database**).</span></span> <span data-ttu-id="0c2ae-293">Cliquez sur **Base de données** et renseignez vos **Nom d’utilisateur** et **Mot de passe** (il s’agit des nom d’utilisateur et mot de passe que vous avez entrés au moment du déploiement de la solution et de la création de la base de données SQL Azure).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-293">Click **"Database"**, fill in your **"Username"** and **"Password"** (this is the username and password you entered when you first deployed the solution and created an Azure SQL database).</span></span> <span data-ttu-id="0c2ae-294">Dans ***Sélectionnez le niveau auquel appliquer ces paramètres***, cochez l’option du niveau de base de données.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-294">In ***Select which level to apply these settings to***, check database level option.</span></span> <span data-ttu-id="0c2ae-295">Cliquez ensuite sur **Se connecter**.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-295">Then click **"Connect"**.</span></span>
   * <span data-ttu-id="0c2ae-296">Une fois redirigé sur la page précédente, fermez la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-296">Once you're guided back to the previous page, close the window.</span></span> <span data-ttu-id="0c2ae-297">Un message s’affiche ; cliquez sur **Appliquer**.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-297">A message will pop out - click **Apply**.</span></span> <span data-ttu-id="0c2ae-298">Pour finir, cliquez sur le bouton **Enregistrer** pour enregistrer les modifications.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-298">Lastly, click the **Save** button to save the changes.</span></span> <span data-ttu-id="0c2ae-299">Votre fichier Power BI a maintenant établi la connexion au serveur.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-299">Your Power BI file has now established connection to the server.</span></span> <span data-ttu-id="0c2ae-300">Si vos visualisations sont vides, veillez à désactiver les sélections de visualisation pour visualiser toutes les données en cliquant sur l’icône de suppression en haut à droite des légendes.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-300">If your visualizations are empty, make sure you clear the selections on the visualizations to visualize all the data by clicking the eraser icon on the upper right corner of the legends.</span></span> <span data-ttu-id="0c2ae-301">Utilisez le bouton Actualiser pour afficher les nouvelles données sur les visualisations.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-301">Use the refresh button to reflect new data on the visualizations.</span></span> <span data-ttu-id="0c2ae-302">Au départ, vous verrez uniquement les données d’amorçage sur vos visualisations, étant donné que la fabrique de données est planifiée pour s’actualiser toutes les 3 heures.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-302">Initially, you will only see the seed data on your visualizations as the data factory is scheduled to refresh every 3 hours.</span></span> <span data-ttu-id="0c2ae-303">Au bout de 3 heures, les nouvelles prédictions sont reflétées dans vos visualisations lorsque vous actualisez les données.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-303">After 3 hours, you will see new predictions reflected in your visualizations when you refresh the data.</span></span>
3. <span data-ttu-id="0c2ae-304">(Facultatif) Publier le tableau de bord de chemin à froid dans [Power BI en ligne](http://www.powerbi.com/).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-304">(Optional) Publish the cold path dashboard to [Power BI online](http://www.powerbi.com/).</span></span> <span data-ttu-id="0c2ae-305">Notez que vous avez besoin d’un compte Power BI (ou d’un compte Office 365) pour cette étape.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-305">Note that this step needs a Power BI account (or Office 365 account).</span></span>

   * <span data-ttu-id="0c2ae-306">Cliquez sur **Publier** et attendez quelques secondes : une fenêtre s’affiche pour confirmer que la publication dans Power BI a bien été effectuée</span><span class="sxs-lookup"><span data-stu-id="0c2ae-306">Click **"Publish"** and few seconds later a window appears displaying "Publishing to Power BI Success!"</span></span> <span data-ttu-id="0c2ae-307">avec une coche verte.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-307">with a green check mark.</span></span> <span data-ttu-id="0c2ae-308">Cliquez sur le lien sous Ouvrir demoprediction.pbix dans Power BI.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-308">Click the link below "Open demoprediction.pbix in Power BI".</span></span> <span data-ttu-id="0c2ae-309">Pour obtenir des instructions détaillées, consultez la page [Publier à partir de Power BI Desktop](https://support.powerbi.com/knowledgebase/articles/461278-publish-from-power-bi-desktop).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-309">To find detailed instructions, see [Publish from Power BI Desktop](https://support.powerbi.com/knowledgebase/articles/461278-publish-from-power-bi-desktop).</span></span>
   * <span data-ttu-id="0c2ae-310">Pour créer un tableau de bord : cliquez sur le signe **+** en regard de la section **Tableaux de bord** dans le volet gauche.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-310">To create a new dashboard: click the **+** sign next to the **Dashboards** section on the left pane.</span></span> <span data-ttu-id="0c2ae-311">Nommez ce nouveau tableau de bord « Prévision de la demande - Démonstration ».</span><span class="sxs-lookup"><span data-stu-id="0c2ae-311">Enter the name "Demand Forecasting Demo" for this new dashboard.</span></span>
   * <span data-ttu-id="0c2ae-312">Après avoir ouvert le rapport, cliquez sur ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic6.png) pour épingler toutes les visualisations à votre tableau de bord.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-312">Once you open the report, click ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic6.png) to pin all the visualizations to your dashboard.</span></span> <span data-ttu-id="0c2ae-313">Pour obtenir des instructions détaillées, consultez la page [Épingler une vignette à un tableau de bord Power BI à partir d’un rapport](https://support.powerbi.com/knowledgebase/articles/430323-pin-a-tile-to-a-power-bi-dashboard-from-a-report).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-313">To find detailed instructions, see [Pin a tile to a Power BI dashboard from a report](https://support.powerbi.com/knowledgebase/articles/430323-pin-a-tile-to-a-power-bi-dashboard-from-a-report).</span></span>
     <span data-ttu-id="0c2ae-314">Accédez à la page Tableau de bord et ajustez la taille et l’emplacement de vos visualisations, puis modifier leurs titres.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-314">Go to the dashboard page and adjust the size and location of your visualizations and edit their titles.</span></span> <span data-ttu-id="0c2ae-315">Pour obtenir des instructions détaillées sur la modification de vos vignettes, consultez [Modifier une vignette -- redimensionner, déplacer, renommer, épingler, supprimer, ajouter un lien hypertexte](https://powerbi.microsoft.com/documentation/powerbi-service-edit-a-tile-in-a-dashboard/#rename).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-315">To find detailed instructions on how to edit your tiles, see [Edit a tile -- resize, move, rename, pin, delete, add hyperlink](https://powerbi.microsoft.com/documentation/powerbi-service-edit-a-tile-in-a-dashboard/#rename).</span></span> <span data-ttu-id="0c2ae-316">Voici un exemple de tableau de bord sur lequel sont épinglées des visualisations de chemin à froid.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-316">Here is an example dashboard with some cold path visualizations pinned to it.</span></span>

     ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic7.png)
4. <span data-ttu-id="0c2ae-317">(Facultatif) Planifiez l'actualisation de la source de données.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-317">(Optional) Schedule refresh of the data source.</span></span>

   * <span data-ttu-id="0c2ae-318">Pour planifier l’actualisation des données, pointez votre souris sur le jeu de données **EnergyBPI-Final**, cliquez sur ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic3.png), puis sélectionnez **Planifier l’actualisation**.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-318">To schedule refresh of the data, hover your mouse over the **EnergyBPI-Final** dataset, click ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic3.png) and then choose **Schedule Refresh**.</span></span>
     <span data-ttu-id="0c2ae-319">**Remarque :** si vous voyez un message d’avertissement, cliquez sur **Modifier les informations d’identification** et assurez-vous que vos informations d’identification de base de données sont les mêmes que celles décrites à l’étape 1.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-319">**Note:** If you see a warning massage, click **Edit Credentials** and make sure your database credentials are the same as those described in step 1.</span></span>

     ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic4.png)
   * <span data-ttu-id="0c2ae-320">Développez la section **Planifier l’actualisation** .</span><span class="sxs-lookup"><span data-stu-id="0c2ae-320">Expand the **Schedule Refresh** section.</span></span> <span data-ttu-id="0c2ae-321">Activez l’option Maintenir vos données à jour.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-321">Turn on "keep your data up-to-date".</span></span>
   * <span data-ttu-id="0c2ae-322">Planifiez l’actualisation selon vos besoins.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-322">Schedule the refresh based on your needs.</span></span> <span data-ttu-id="0c2ae-323">Pour plus d’informations, consultez la page [Actualisation des données dans Power BI](https://powerbi.microsoft.com/documentation/powerbi-refresh-data/).</span><span class="sxs-lookup"><span data-stu-id="0c2ae-323">To find more information, see [Data refresh in Power BI](https://powerbi.microsoft.com/documentation/powerbi-refresh-data/).</span></span>

## <a name="how-to-delete-your-solution"></a><span data-ttu-id="0c2ae-324">**Comment supprimer votre solution**</span><span class="sxs-lookup"><span data-stu-id="0c2ae-324">**How to delete your solution**</span></span>
<span data-ttu-id="0c2ae-325">Veillez à arrêter le générateur de données quand vous n’utilisez pas la solution activement, car l’exécution du générateur de données entraîne des coûts plus élevés.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-325">Please ensure that you stop the data generator when not actively using the solution as running the data generator will incur higher costs.</span></span> <span data-ttu-id="0c2ae-326">Supprimez la solution si vous ne l’utilisez pas.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-326">Please delete the solution if you are not using it.</span></span> <span data-ttu-id="0c2ae-327">La suppression de votre solution supprime tous les composants qui étaient configurés dans votre abonnement quand vous avez déployé la solution.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-327">Deleting your solution will delete all the components provisioned in your subscription when you deployed the solution.</span></span> <span data-ttu-id="0c2ae-328">Pour supprimer la solution, cliquez sur son nom dans le volet gauche du modèle de solution, puis cliquez sur Supprimer.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-328">To delete the solution click on your solution name in the left panel of the solution template and click on delete.</span></span>

## <a name="cost-estimation-tools"></a><span data-ttu-id="0c2ae-329">**Outils d’estimation des coûts**</span><span class="sxs-lookup"><span data-stu-id="0c2ae-329">**Cost Estimation Tools**</span></span>
<span data-ttu-id="0c2ae-330">Les deux outils suivants peuvent vous aider à mieux comprendre les coûts impliqués dans l’exécution du modèle de solution de prévision de la demande énergétique dans votre abonnement :</span><span class="sxs-lookup"><span data-stu-id="0c2ae-330">The following two tools are available to help you better understand the total costs involved in running the Demand Forecasting for Energy Solution Template in your subscription:</span></span>

* [<span data-ttu-id="0c2ae-331">Microsoft Azure Cost Estimator Tool (en ligne)</span><span class="sxs-lookup"><span data-stu-id="0c2ae-331">Microsoft Azure Cost Estimator Tool (online)</span></span>](https://azure.microsoft.com/pricing/calculator/)
* [<span data-ttu-id="0c2ae-332">Microsoft Azure Cost Estimator Tool (de bureau)</span><span class="sxs-lookup"><span data-stu-id="0c2ae-332">Microsoft Azure Cost Estimator Tool (desktop)</span></span>](http://www.microsoft.com/download/details.aspx?id=43376)

## <a name="acknowledgements"></a><span data-ttu-id="0c2ae-333">**Remerciements**</span><span class="sxs-lookup"><span data-stu-id="0c2ae-333">**Acknowledgements**</span></span>
<span data-ttu-id="0c2ae-334">Cet article a été créé par le scientifique de données Yijing Chen et l’ingénieur logiciel Min Qiu de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="0c2ae-334">This article is authored by data scientist Yijing Chen and software engineer Qiu Min at Microsoft.</span></span>
