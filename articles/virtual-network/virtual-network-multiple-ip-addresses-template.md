---
title: "Plusieurs adresses IP pour les machines virtuelles Azure - Modèle | Microsoft Docs"
description: "Apprenez à affecter plusieurs adresses IP à une machine virtuelle à l’aide d’un modèle Azure Resource Manager."
documentationcenter: 
author: jimdial
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 12/08/2016
ms.author: jdial
ms.openlocfilehash: d4b189fb23dda1167c4f6b17b618c718d32dd98f
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="assign-multiple-ip-addresses-to-virtual-machines-using-an-azure-resource-manager-template"></a><span data-ttu-id="1eb59-103">Affecter plusieurs adresses IP à des machines virtuelles à l’aide d’un modèle Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="1eb59-103">Assign multiple IP addresses to virtual machines using an Azure Resource Manager template</span></span>

[!INCLUDE [virtual-network-multiple-ip-addresses-intro.md](../../includes/virtual-network-multiple-ip-addresses-intro.md)]

<span data-ttu-id="1eb59-104">Cet article explique comment créer une machine virtuelle dans le modèle de déploiement Azure Resource Manager à l’aide d’un modèle Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="1eb59-104">This article explains how to create a virtual machine (VM) through the Azure Resource Manager deployment model using a Resource Manager template.</span></span> <span data-ttu-id="1eb59-105">Plusieurs adresses IP publiques et privées ne peuvent pas être affectées à la même carte réseau lors du déploiement d’une machine virtuelle dans le modèle de déploiement classique.</span><span class="sxs-lookup"><span data-stu-id="1eb59-105">Multiple public and private IP addresses cannot be assigned to the same NIC when deploying a VM through the classic deployment model.</span></span> <span data-ttu-id="1eb59-106">Pour en savoir plus sur les modèles de déploiement Azure, voir [Comprendre les modèles de déploiement](../resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="1eb59-106">To learn more about Azure deployment models, read the [Understand deployment models](../resource-manager-deployment-model.md) article.</span></span>

[!INCLUDE [virtual-network-multiple-ip-addresses-template-scenario.md](../../includes/virtual-network-multiple-ip-addresses-scenario.md)]

## <a name="template-description"></a><span data-ttu-id="1eb59-107">Description du modèle</span><span class="sxs-lookup"><span data-stu-id="1eb59-107">Template description</span></span>

<span data-ttu-id="1eb59-108">Le déploiement d’un modèle vous permet de créer rapidement et de manière cohérente des ressources Azure avec différentes valeurs de configuration.</span><span class="sxs-lookup"><span data-stu-id="1eb59-108">Deploying a template enables you to quickly and consistently create Azure resources with different configuration values.</span></span> <span data-ttu-id="1eb59-109">Lisez l’article [Guide de création d’un modèle Resource Manager](../azure-resource-manager/resource-manager-template-walkthrough.md?toc=%2fazure%2fvirtual-network%2ftoc.json) si vous n’êtes pas familiarisé avec les modèles Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="1eb59-109">Read the [Resource Manager template walkthrough](../azure-resource-manager/resource-manager-template-walkthrough.md?toc=%2fazure%2fvirtual-network%2ftoc.json) article if you're not familiar with Azure Resource Manager templates.</span></span> <span data-ttu-id="1eb59-110">Le modèle [Déployer une machine virtuelle avec plusieurs adresses IP](https://azure.microsoft.com/resources/templates/101-vm-multiple-ipconfig) est utilisé dans cet article.</span><span class="sxs-lookup"><span data-stu-id="1eb59-110">The [Deploy a VM with multiple IP addresses](https://azure.microsoft.com/resources/templates/101-vm-multiple-ipconfig) template is utilized in this article.</span></span>

<span data-ttu-id="1eb59-111"><a name="resources"></a>Le déploiement du modèle crée les ressources suivantes :</span><span class="sxs-lookup"><span data-stu-id="1eb59-111"><a name="resources"></a>Deploying the template creates the following resources:</span></span>

|<span data-ttu-id="1eb59-112">Ressource</span><span class="sxs-lookup"><span data-stu-id="1eb59-112">Resource</span></span>|<span data-ttu-id="1eb59-113">Nom</span><span class="sxs-lookup"><span data-stu-id="1eb59-113">Name</span></span>|<span data-ttu-id="1eb59-114">Description</span><span class="sxs-lookup"><span data-stu-id="1eb59-114">Description</span></span>|
|---|---|---|
|<span data-ttu-id="1eb59-115">Interface réseau</span><span class="sxs-lookup"><span data-stu-id="1eb59-115">Network interface</span></span>|<span data-ttu-id="1eb59-116">*myNic1*</span><span class="sxs-lookup"><span data-stu-id="1eb59-116">*myNic1*</span></span>|<span data-ttu-id="1eb59-117">Les trois configurations IP décrites dans la section du scénario de cet article sont créées et affectées à cette carte réseau.</span><span class="sxs-lookup"><span data-stu-id="1eb59-117">The three IP configurations described in the scenario section of this article are created and assigned to this NIC.</span></span>|
|<span data-ttu-id="1eb59-118">Ressource d’adresse IP publique</span><span class="sxs-lookup"><span data-stu-id="1eb59-118">Public IP address resource</span></span>|<span data-ttu-id="1eb59-119">2 sont créés : *myPublicIP* et *myPublicIP2*</span><span class="sxs-lookup"><span data-stu-id="1eb59-119">2 are created: *myPublicIP* and *myPublicIP2*</span></span>|<span data-ttu-id="1eb59-120">Ces ressources sont affectées à des adresses IP statiques publics et aux configurations IP *IPConfig-1* et *IPConfig-2* décrites dans le scénario.</span><span class="sxs-lookup"><span data-stu-id="1eb59-120">These resources are assigned static public IP addresses and are assigned to the  *IPConfig-1* and *IPConfig-2* IP configurations described in the scenario.</span></span>|
|<span data-ttu-id="1eb59-121">machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="1eb59-121">VM</span></span>|<span data-ttu-id="1eb59-122">*myVM1*</span><span class="sxs-lookup"><span data-stu-id="1eb59-122">*myVM1*</span></span>|<span data-ttu-id="1eb59-123">Une machine virtuelle DS3 standard.</span><span class="sxs-lookup"><span data-stu-id="1eb59-123">A Standard DS3 VM.</span></span>|
|<span data-ttu-id="1eb59-124">Réseau virtuel</span><span class="sxs-lookup"><span data-stu-id="1eb59-124">Virtual network</span></span>|<span data-ttu-id="1eb59-125">*myVNet1*</span><span class="sxs-lookup"><span data-stu-id="1eb59-125">*myVNet1*</span></span>|<span data-ttu-id="1eb59-126">Un réseau virtuel avec un sous-réseau nommé *mySubnet*.</span><span class="sxs-lookup"><span data-stu-id="1eb59-126">A virtual network with one subnet named *mySubnet*.</span></span>|
|<span data-ttu-id="1eb59-127">Compte de stockage</span><span class="sxs-lookup"><span data-stu-id="1eb59-127">Storage account</span></span>|<span data-ttu-id="1eb59-128">Unique pour le déploiement</span><span class="sxs-lookup"><span data-stu-id="1eb59-128">Unique to the deployment</span></span>|<span data-ttu-id="1eb59-129">Un compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="1eb59-129">A storage account.</span></span>|

<span data-ttu-id="1eb59-130"><a name="parameters"></a>Lorsque vous déployez le modèle, vous devez spécifier des valeurs pour les paramètres suivants :</span><span class="sxs-lookup"><span data-stu-id="1eb59-130"><a name="parameters"></a>When deploying the template, you must specify values for the following parameters:</span></span>

|<span data-ttu-id="1eb59-131">Nom</span><span class="sxs-lookup"><span data-stu-id="1eb59-131">Name</span></span>|<span data-ttu-id="1eb59-132">Description</span><span class="sxs-lookup"><span data-stu-id="1eb59-132">Description</span></span>|
|---|---|
|<span data-ttu-id="1eb59-133">adminUsername</span><span class="sxs-lookup"><span data-stu-id="1eb59-133">adminUsername</span></span>|<span data-ttu-id="1eb59-134">Nom d’utilisateur administrateur.</span><span class="sxs-lookup"><span data-stu-id="1eb59-134">Admin username.</span></span> <span data-ttu-id="1eb59-135">Le nom d’utilisateur doit satisfaire aux [exigences de nom d’utilisateur Azure](../virtual-machines/windows/faq.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="1eb59-135">The username must comply with [Azure username requirements](../virtual-machines/windows/faq.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span>|
|<span data-ttu-id="1eb59-136">adminPassword</span><span class="sxs-lookup"><span data-stu-id="1eb59-136">adminPassword</span></span>|<span data-ttu-id="1eb59-137">Mot de passe administrateur. Le mot de passe doit satisfaire les [exigences de mot de passe Azure](../virtual-machines/windows/faq.md?toc=%2fazure%2fvirtual-network%2ftoc.json#what-are-the-password-requirements-when-creating-a-vm).</span><span class="sxs-lookup"><span data-stu-id="1eb59-137">Admin password The password must comply with [Azure password requirements](../virtual-machines/windows/faq.md?toc=%2fazure%2fvirtual-network%2ftoc.json#what-are-the-password-requirements-when-creating-a-vm).</span></span>|
|<span data-ttu-id="1eb59-138">dnsLabelPrefix</span><span class="sxs-lookup"><span data-stu-id="1eb59-138">dnsLabelPrefix</span></span>|<span data-ttu-id="1eb59-139">Nom DNS de PublicIPAddressName1.</span><span class="sxs-lookup"><span data-stu-id="1eb59-139">DNS name for PublicIPAddressName1.</span></span> <span data-ttu-id="1eb59-140">Le nom DNS est résolu en une des adresses IP publiques affectées à la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="1eb59-140">The DNS name will resolve to one of the public IP addresses assigned to the VM.</span></span> <span data-ttu-id="1eb59-141">Le nom doit être unique au sein de la région Azure (emplacement) dans laquelle vous créez la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="1eb59-141">The name must be unique within the Azure region (location) you create the VM in.</span></span>|
|<span data-ttu-id="1eb59-142">dnsLabelPrefix1</span><span class="sxs-lookup"><span data-stu-id="1eb59-142">dnsLabelPrefix1</span></span>|<span data-ttu-id="1eb59-143">Nom DNS de PublicIPAddressName2.</span><span class="sxs-lookup"><span data-stu-id="1eb59-143">DNS name for PublicIPAddressName2.</span></span> <span data-ttu-id="1eb59-144">Le nom DNS est résolu en une des adresses IP publiques affectées à la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="1eb59-144">The DNS name will resolve to one of the public IP addresses assigned to the VM.</span></span> <span data-ttu-id="1eb59-145">Le nom doit être unique au sein de la région Azure (emplacement) dans laquelle vous créez la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="1eb59-145">The name must be unique within the Azure region (location) you create the VM in.</span></span>|
|<span data-ttu-id="1eb59-146">OSVersion:</span><span class="sxs-lookup"><span data-stu-id="1eb59-146">OSVersion</span></span>|<span data-ttu-id="1eb59-147">La version de Windows/Linux pour la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="1eb59-147">The Windows/Linux version for the VM.</span></span> <span data-ttu-id="1eb59-148">Le système d’exploitation est une image entièrement corrigée de la version de Windows/Linux sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="1eb59-148">The operating system is a fully patched image of the given Windows/Linux version selected.</span></span>|
|<span data-ttu-id="1eb59-149">imagePublisher</span><span class="sxs-lookup"><span data-stu-id="1eb59-149">imagePublisher</span></span>|<span data-ttu-id="1eb59-150">L’éditeur d’image Windows/Linux pour la machine virtuelle sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="1eb59-150">The Windows/Linux image publisher for the selected VM.</span></span>|
|<span data-ttu-id="1eb59-151">imageOffer</span><span class="sxs-lookup"><span data-stu-id="1eb59-151">imageOffer</span></span>|<span data-ttu-id="1eb59-152">L’image Windows/Linux pour la machine virtuelle sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="1eb59-152">The Windows/Linux image for the selected VM.</span></span>|

<span data-ttu-id="1eb59-153">Chacune des ressources déployées par le modèle est configurée avec plusieurs paramètres par défaut.</span><span class="sxs-lookup"><span data-stu-id="1eb59-153">Each of the resources deployed by the template is configured with several default settings.</span></span> <span data-ttu-id="1eb59-154">Vous pouvez afficher ces paramètres à l’aide de l’une des méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="1eb59-154">You can view these settings through either of the following methods:</span></span>

- <span data-ttu-id="1eb59-155">**Afficher le modèle dans GitHub :** si vous êtes familiarisé avec les modèles, vous pouvez afficher les paramètres dans le [modèle](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.json).</span><span class="sxs-lookup"><span data-stu-id="1eb59-155">**View the template on GitHub:** If you're familiar with templates, you can view the settings within the [template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.json).</span></span>
- <span data-ttu-id="1eb59-156">**Afficher les paramètres après le déploiement :** si vous n’êtes pas familiarisé avec les modèles, vous pouvez déployer le modèle à l’aide des étapes de l’une des sections suivantes, puis afficher les paramètres après le déploiement.</span><span class="sxs-lookup"><span data-stu-id="1eb59-156">**View the settings after deploying:** If you're not familiar with templates, you can deploy the template using steps in one of the following sections and then view the settings after deployment.</span></span>

<span data-ttu-id="1eb59-157">Vous pouvez utiliser le portail Azure, PowerShell ou l’interface de ligne de commande (CLI) Azure pour déployer le modèle.</span><span class="sxs-lookup"><span data-stu-id="1eb59-157">You can use the Azure portal, PowerShell, or the Azure command-line interface (CLI) to deploy the template.</span></span> <span data-ttu-id="1eb59-158">Toutes les méthodes produisent le même résultat.</span><span class="sxs-lookup"><span data-stu-id="1eb59-158">All methods produce the same result.</span></span> <span data-ttu-id="1eb59-159">Pour déployer le modèle, suivez les étapes de l’une des sections suivantes :</span><span class="sxs-lookup"><span data-stu-id="1eb59-159">To deploy the template, complete the steps in one of the following sections :</span></span>

## <a name="deploy-using-the-azure-portal"></a><span data-ttu-id="1eb59-160">Déployer à l’aide du portail Azure</span><span class="sxs-lookup"><span data-stu-id="1eb59-160">Deploy using the Azure portal</span></span>

<span data-ttu-id="1eb59-161">Pour déployer le modèle à l’aide du portail Azure, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="1eb59-161">To deploy the template using the Azure portal, complete the following steps:</span></span>

1. <span data-ttu-id="1eb59-162">Si vous le souhaitez, modifiez le modèle.</span><span class="sxs-lookup"><span data-stu-id="1eb59-162">Modify the template, if desired.</span></span> <span data-ttu-id="1eb59-163">Le modèle déploie les ressources et les paramètres répertoriés dans la section des [ressources](#resources) de cet article.</span><span class="sxs-lookup"><span data-stu-id="1eb59-163">The template deploys the resources and settings listed in the [resources](#resources) section of this article.</span></span> <span data-ttu-id="1eb59-164">Pour en savoir plus sur les modèles et leur création, consultez [Création de modèles Azure Resource Manager](../azure-resource-manager/resource-group-authoring-templates.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="1eb59-164">To learn more about templates and how to author them, read the [Authoring Azure Resource Manager templates](../azure-resource-manager/resource-group-authoring-templates.md?toc=%2fazure%2fvirtual-network%2ftoc.json)article.</span></span>
2. <span data-ttu-id="1eb59-165">Déployez le modèle selon l’une des méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="1eb59-165">Deploy the template with one of the following methods:</span></span>
    - <span data-ttu-id="1eb59-166">**Sélectionner le modèle dans le portail :** suivez les étapes de l’article [Déployer des ressources à partir d’un modèle personnalisé](../azure-resource-manager/resource-group-template-deploy-portal.md?toc=%2fazure%2fvirtual-network%2ftoc.json#deploy-resources-from-custom-template).</span><span class="sxs-lookup"><span data-stu-id="1eb59-166">**Select the template in the portal:** Complete the steps in the [Deploy resources from custom template](../azure-resource-manager/resource-group-template-deploy-portal.md?toc=%2fazure%2fvirtual-network%2ftoc.json#deploy-resources-from-custom-template) article.</span></span> <span data-ttu-id="1eb59-167">Choisissez le modèle existant nommé *101-vm-multiple-ipconfig*.</span><span class="sxs-lookup"><span data-stu-id="1eb59-167">Choose the pre-existing template named *101-vm-multiple-ipconfig*.</span></span>
    - <span data-ttu-id="1eb59-168">**Directement :** cliquez sur le bouton ci-dessous pour ouvrir le modèle directement dans le portail :<a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2F101-vm-multiple-ipconfig%2Fazuredeploy.json" target="_blank"><img src="http://azuredeploy.net/deploybutton.png"/></a></span><span class="sxs-lookup"><span data-stu-id="1eb59-168">**Directly:** Click the following button to open the template directly in the portal: <a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2F101-vm-multiple-ipconfig%2Fazuredeploy.json" target="_blank"><img src="http://azuredeploy.net/deploybutton.png"/></a></span></span>

<span data-ttu-id="1eb59-169">Quelle que soit la méthode choisie, vous devez fournir des valeurs pour le [paramètres](#parameters) répertoriés précédemment dans cet article.</span><span class="sxs-lookup"><span data-stu-id="1eb59-169">Regardless of the method you choose, you'll need to supply values for the [parameters](#parameters) listed previously in this article.</span></span> <span data-ttu-id="1eb59-170">Une fois la machine virtuelle déployée, connectez la machine virtuelle et ajoutez les adresses IP privées au système d’exploitation que vous avez déployé en suivant les étapes de la section [Ajouter des adresses IP à un système d’exploitation de machine virtuelle](#os-config) de cet article.</span><span class="sxs-lookup"><span data-stu-id="1eb59-170">After the VM is deployed, connect to the VM and add the private IP addresses to the operating system you deployed by completing the steps in the [Add IP addresses to a VM operating system](#os-config) section of this article.</span></span> <span data-ttu-id="1eb59-171">N’ajoutez pas les adresses IP publiques au système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="1eb59-171">Do not add the public IP addresses to the operating system.</span></span>

## <a name="deploy-using-powershell"></a><span data-ttu-id="1eb59-172">Déployer à l’aide de PowerShell</span><span class="sxs-lookup"><span data-stu-id="1eb59-172">Deploy using PowerShell</span></span>

<span data-ttu-id="1eb59-173">Pour déployer le modèle à l’aide de PowerShell, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="1eb59-173">To deploy the template using PowerShell, complete the following steps:</span></span>

1. <span data-ttu-id="1eb59-174">Déployez le modèle en suivant les étapes de l’article [Déployer un modèle avec PowerShell](../azure-resource-manager/resource-group-template-deploy-cli.md).</span><span class="sxs-lookup"><span data-stu-id="1eb59-174">Deploy the template by completing the steps in the [Deploy a template with PowerShell](../azure-resource-manager/resource-group-template-deploy-cli.md) article.</span></span> <span data-ttu-id="1eb59-175">L’article décrit plusieurs options de déploiement d’un modèle.</span><span class="sxs-lookup"><span data-stu-id="1eb59-175">The article describes multiple options for deploying a template.</span></span> <span data-ttu-id="1eb59-176">Si vous choisissez de déployer à l’aide de `-TemplateUri parameter`, l’URI de ce modèle est *https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.json*.</span><span class="sxs-lookup"><span data-stu-id="1eb59-176">If you choose to deploy using the `-TemplateUri parameter`, the URI for this template is *https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.json*.</span></span> <span data-ttu-id="1eb59-177">Si vous choisissez de déployer à l’aide du paramètre `-TemplateFile`, copiez le contenu du [fichier de modèle](https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.json) de GitHub dans un nouveau fichier sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="1eb59-177">If you choose to deploy using the `-TemplateFile` parameter, copy the contents of the [template file](https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.json) from GitHub into a new file on your machine.</span></span> <span data-ttu-id="1eb59-178">Si vous le souhaitez, modifiez le contenu du modèle.</span><span class="sxs-lookup"><span data-stu-id="1eb59-178">Modify the template contents, if desired.</span></span> <span data-ttu-id="1eb59-179">Le modèle déploie les ressources et les paramètres répertoriés dans la section des [ressources](#resources) de cet article.</span><span class="sxs-lookup"><span data-stu-id="1eb59-179">The template deploys the resources and settings listed in the [resources](#resources) section of this article.</span></span> <span data-ttu-id="1eb59-180">Pour en savoir plus sur les modèles et leur création, lisez l’article [Création de modèles Azure Resource Manager](../azure-resource-manager/resource-group-authoring-templates.md).</span><span class="sxs-lookup"><span data-stu-id="1eb59-180">To learn more about templates and how to author them, read the [Authoring Azure Resource Manager templates ](../azure-resource-manager/resource-group-authoring-templates.md)article.</span></span>

    <span data-ttu-id="1eb59-181">Quelle que soit l’option que vous choisissez pour déployer le modèle, vous devez fournir des valeurs pour les valeurs de paramètre répertoriées dans la section des [paramètres](#parameters) de cet article.</span><span class="sxs-lookup"><span data-stu-id="1eb59-181">Regardless of the option you choose to deploy the template with, you must supply values for the parameter values listed in the [parameters](#parameters) section of this article.</span></span> <span data-ttu-id="1eb59-182">Si vous choisissez de fournir des paramètres à l’aide d’un fichier de paramètres, copiez le contenu du [fichier de paramètres](https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.parameters.json) de GitHub dans un nouveau fichier sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="1eb59-182">If you choose to supply parameters using a parameters file, copy the contents of the [parameters file](https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.parameters.json) from GitHub into a new file on your computer.</span></span> <span data-ttu-id="1eb59-183">Modifiez les valeurs dans le fichier.</span><span class="sxs-lookup"><span data-stu-id="1eb59-183">Modify the values in the file.</span></span> <span data-ttu-id="1eb59-184">Utilisez le fichier que vous avez créé en tant que valeur pour le paramètre `-TemplateParameterFile`.</span><span class="sxs-lookup"><span data-stu-id="1eb59-184">Use the file you created as the value for the `-TemplateParameterFile` parameter.</span></span>

    <span data-ttu-id="1eb59-185">Pour déterminer les valeurs valides pour les paramètres OSVersion, ImagePublisher et imageOffer, suivez les étapes de l’article [Accéder à et sélectionner des images de machine virtuelle Windows](../virtual-machines/windows/cli-ps-findimage.md).</span><span class="sxs-lookup"><span data-stu-id="1eb59-185">To determine valid values for the OSVersion, ImagePublisher, and imageOffer parameters, complete the steps in the [Navigate and select Windows VM images article](../virtual-machines/windows/cli-ps-findimage.md) article.</span></span>

    >[!TIP]
    ><span data-ttu-id="1eb59-186">Si vous ne savez pas si un dnslabelprefix est disponible, entrez la commande `Test-AzureRmDnsAvailability -DomainNameLabel <name-you-want-to-use> -Location <location>` pour le déterminer.</span><span class="sxs-lookup"><span data-stu-id="1eb59-186">If you're not sure whether a dnslabelprefix is available, enter the `Test-AzureRmDnsAvailability -DomainNameLabel <name-you-want-to-use> -Location <location>` command to find out.</span></span> <span data-ttu-id="1eb59-187">S’il est disponible, la commande renvoie `True`.</span><span class="sxs-lookup"><span data-stu-id="1eb59-187">If it is available, the command will return `True`.</span></span>

2. <span data-ttu-id="1eb59-188">Une fois la machine virtuelle déployée, connectez la machine virtuelle et ajoutez les adresses IP privées au système d’exploitation que vous avez déployé en suivant les étapes de la section [Ajouter des adresses IP à un système d’exploitation de machine virtuelle](#os-config) de cet article.</span><span class="sxs-lookup"><span data-stu-id="1eb59-188">After the VM is deployed, connect to the VM and add the private IP addresses to the operating system you deployed by completing the steps in the [Add IP addresses to a VM operating system](#os-config) section of this article.</span></span> <span data-ttu-id="1eb59-189">N’ajoutez pas les adresses IP publiques au système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="1eb59-189">Do not add the public IP addresses to the operating system.</span></span>

## <a name="deploy-using-the-azure-cli"></a><span data-ttu-id="1eb59-190">Déployer à l’aide de l’interface de ligne de commande (CLI) Azure</span><span class="sxs-lookup"><span data-stu-id="1eb59-190">Deploy using the Azure CLI</span></span>

<span data-ttu-id="1eb59-191">Pour déployer le modèle à l’aide de l’interface de ligne de commande (CLI) Azure 1.0, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="1eb59-191">To deploy the template using the Azure CLI 1.0, complete the following steps:</span></span>

1. <span data-ttu-id="1eb59-192">Déployez le modèle en suivant les étapes de l’article [Déployer un modèle avec l’interface de ligne de commande (CLI) Azure](../azure-resource-manager/resource-group-template-deploy-cli.md).</span><span class="sxs-lookup"><span data-stu-id="1eb59-192">Deploy the template by completing the steps in the [Deploy a template with the Azure CLI](../azure-resource-manager/resource-group-template-deploy-cli.md) article.</span></span> <span data-ttu-id="1eb59-193">L’article décrit plusieurs options de déploiement du modèle.</span><span class="sxs-lookup"><span data-stu-id="1eb59-193">The article describes multiple options for deploying the template.</span></span> <span data-ttu-id="1eb59-194">Si vous choisissez de déployer à l’aide de `--template-uri` (-f), l’URI de ce modèle est *https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.json*.</span><span class="sxs-lookup"><span data-stu-id="1eb59-194">If you choose to deploy using the `--template-uri` (-f), the URI for this template is *https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.json*.</span></span> <span data-ttu-id="1eb59-195">Si vous choisissez de déployer à l’aide du paramètre `--template-file` (f-), copiez le contenu du [fichier de modèle](https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.json) de GitHub dans un nouveau fichier sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="1eb59-195">If you choose to deploy using the `--template-file` (-f) parameter, copy the contents of the [template file](https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.json) from GitHub into a new file on your machine.</span></span> <span data-ttu-id="1eb59-196">Si vous le souhaitez, modifiez le contenu du modèle.</span><span class="sxs-lookup"><span data-stu-id="1eb59-196">Modify the template contents, if desired.</span></span> <span data-ttu-id="1eb59-197">Le modèle déploie les ressources et les paramètres répertoriés dans la section des [ressources](#resources) de cet article.</span><span class="sxs-lookup"><span data-stu-id="1eb59-197">The template deploys the resources and settings listed in the [resources](#resources) section of this article.</span></span> <span data-ttu-id="1eb59-198">Pour en savoir plus sur les modèles et leur création, lisez l’article [Création de modèles Azure Resource Manager](../azure-resource-manager/resource-group-authoring-templates.md).</span><span class="sxs-lookup"><span data-stu-id="1eb59-198">To learn more about templates and how to author them, read the [Authoring Azure Resource Manager templates ](../azure-resource-manager/resource-group-authoring-templates.md)article.</span></span>

    <span data-ttu-id="1eb59-199">Quelle que soit l’option que vous choisissez pour déployer le modèle, vous devez fournir des valeurs pour les valeurs de paramètre répertoriées dans la section des [paramètres](#parameters) de cet article.</span><span class="sxs-lookup"><span data-stu-id="1eb59-199">Regardless of the option you choose to deploy the template with, you must supply values for the parameter values listed in the [parameters](#parameters) section of this article.</span></span> <span data-ttu-id="1eb59-200">Si vous choisissez de fournir des paramètres à l’aide d’un fichier de paramètres, copiez le contenu du [fichier de paramètres](https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.parameters.json) de GitHub dans un nouveau fichier sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="1eb59-200">If you choose to supply parameters using a parameters file, copy the contents of the [parameters file](https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.parameters.json) from GitHub into a new file on your computer.</span></span> <span data-ttu-id="1eb59-201">Modifiez les valeurs dans le fichier.</span><span class="sxs-lookup"><span data-stu-id="1eb59-201">Modify the values in the file.</span></span> <span data-ttu-id="1eb59-202">Utilisez le fichier que vous avez créé en tant que valeur pour le paramètre `--parameters-file` (-e).</span><span class="sxs-lookup"><span data-stu-id="1eb59-202">Use the file you created as the value for the `--parameters-file` (-e) parameter.</span></span>

    <span data-ttu-id="1eb59-203">Pour déterminer les valeurs valides pour les paramètres OSVersion, ImagePublisher et imageOffer, suivez les étapes de l’article [Accéder à et sélectionner des images de machine virtuelle Windows](../virtual-machines/windows/cli-ps-findimage.md).</span><span class="sxs-lookup"><span data-stu-id="1eb59-203">To determine valid values for the OSVersion, ImagePublisher, and imageOffer parameters, complete the steps in the [Navigate and select Windows VM images article](../virtual-machines/windows/cli-ps-findimage.md) article.</span></span>

2. <span data-ttu-id="1eb59-204">Une fois la machine virtuelle déployée, connectez la machine virtuelle et ajoutez les adresses IP privées au système d’exploitation que vous avez déployé en suivant les étapes de la section [Ajouter des adresses IP à un système d’exploitation de machine virtuelle](#os-config) de cet article.</span><span class="sxs-lookup"><span data-stu-id="1eb59-204">After the VM is deployed, connect to the VM and add the private IP addresses to the operating system you deployed by completing the steps in the [Add IP addresses to a VM operating system](#os-config) section of this article.</span></span> <span data-ttu-id="1eb59-205">N’ajoutez pas les adresses IP publiques au système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="1eb59-205">Do not add the public IP addresses to the operating system.</span></span>

[!INCLUDE [virtual-network-multiple-ip-addresses-os-config.md](../../includes/virtual-network-multiple-ip-addresses-os-config.md)]
