---
title: Authentification et autorisation dans Azure App Service | Microsoft Docs
description: "Référence et présentation conceptuelles de la fonctionnalité d’authentification/autorisation pour Azure App Service."
services: app-service
documentationcenter: 
author: mattchenderson
manager: erikre
editor: 
ms.assetid: b7151b57-09e5-4c77-a10c-375a262f17e5
ms.service: app-service
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 08/29/2016
ms.author: mahender
ms.openlocfilehash: e89ba5613c615c41af93e8f63b3703da8395095c
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="authentication-and-authorization-in-azure-app-service"></a><span data-ttu-id="e6eee-103">Authentification et autorisation dans Azure App Service</span><span class="sxs-lookup"><span data-stu-id="e6eee-103">Authentication and authorization in Azure App Service</span></span>
## <a name="what-is-app-service-authentication--authorization"></a><span data-ttu-id="e6eee-104">Qu’est-ce que l’authentification/autorisation App Service ?</span><span class="sxs-lookup"><span data-stu-id="e6eee-104">What is App Service Authentication / Authorization?</span></span>
<span data-ttu-id="e6eee-105">L’authentification/autorisation App Service est une fonctionnalité qui permet à votre application de connecter les utilisateurs. Vous n’êtes ainsi donc pas obligé de modifier le code sur le serveur principal.</span><span class="sxs-lookup"><span data-stu-id="e6eee-105">App Service Authentication / Authorization is a feature that provides a way for your application to sign in users so that you don't have to change code on the app backend.</span></span> <span data-ttu-id="e6eee-106">Elle propose un moyen simple de protéger votre application et fonctionne avec des données par utilisateur.</span><span class="sxs-lookup"><span data-stu-id="e6eee-106">It provides an easy way to protect your application and work with per-user data.</span></span>

<span data-ttu-id="e6eee-107">App Service utilise l’identité fédérée, dans laquelle un fournisseur d’identité tiers stocke les comptes et authentifie les utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="e6eee-107">App Service uses federated identity, in which a third-party identity provider stores accounts and authenticates users.</span></span> <span data-ttu-id="e6eee-108">L’application utilise les informations sur cette identité pour qu’elle n’ait pas à stocker ces informations elle-même.</span><span class="sxs-lookup"><span data-stu-id="e6eee-108">The application relies on the provider's identity information so that the app doesn't have to store that information itself.</span></span> <span data-ttu-id="e6eee-109">App Service prend en charge cinq fournisseurs d’identité prêts à l’emploi : Azure Active Directory, Facebook, Google, Compte Microsoft et Twitter.</span><span class="sxs-lookup"><span data-stu-id="e6eee-109">App Service supports five identity providers out of the box: Azure Active Directory, Facebook, Google, Microsoft Account, and Twitter.</span></span> <span data-ttu-id="e6eee-110">Votre application peut exploiter plusieurs de ces fournisseurs d’identité, afin de proposer à vos utilisateurs plusieurs options de connexion.</span><span class="sxs-lookup"><span data-stu-id="e6eee-110">Your app can use any number of these identity providers to provide your users with options for how they sign in.</span></span> <span data-ttu-id="e6eee-111">Vous pouvez étendre cette prise en charge intégrée en ajoutant un autre fournisseur d’identité ou [votre propre solution d’identité personnalisée][custom-auth].</span><span class="sxs-lookup"><span data-stu-id="e6eee-111">To expand the built-in support, you can integrate another identity provider or [your own custom identity solution][custom-auth].</span></span>

<span data-ttu-id="e6eee-112">Si vous voulez commencer tout de suite, consultez l’un des didacticiels suivants :</span><span class="sxs-lookup"><span data-stu-id="e6eee-112">If you want to get started right away, see one of the following tutorials:</span></span>

* <span data-ttu-id="e6eee-113">[Ajout de l’authentification à votre application iOS][iOS] (ou [Android], [Windows], [Xamarin.iOS], [Xamarin.Android], [Xamarin.Forms] ou encore [Cordova])</span><span class="sxs-lookup"><span data-stu-id="e6eee-113">[Add authentication to your iOS app][iOS] (or [Android], [Windows], [Xamarin.iOS], [Xamarin.Android], [Xamarin.Forms], or [Cordova])</span></span>
* <span data-ttu-id="e6eee-114">[Authentification utilisateur pour API Apps dans Azure App Service][apia-user]</span><span class="sxs-lookup"><span data-stu-id="e6eee-114">[User authentication for API Apps in Azure App Service][apia-user]</span></span>
* <span data-ttu-id="e6eee-115">[Prise en main d’Azure App Service, 2e partie][web-getstarted]</span><span class="sxs-lookup"><span data-stu-id="e6eee-115">[Get started with Azure App Service - Part 2][web-getstarted]</span></span>

## <a name="how-authentication-works-in-app-service"></a><span data-ttu-id="e6eee-116">Fonctionnement de l’authentification dans App Service</span><span class="sxs-lookup"><span data-stu-id="e6eee-116">How authentication works in App Service</span></span>
<span data-ttu-id="e6eee-117">Pour s’authentifier à l’aide d’un des fournisseurs d’identité, vous devez d’abord configurer le fournisseur d’identité pour qu’il reconnaisse votre application.</span><span class="sxs-lookup"><span data-stu-id="e6eee-117">In order to authenticate by using one of the identity providers, you first need to configure the identity provider to know about your application.</span></span> <span data-ttu-id="e6eee-118">Le fournisseur d’identité vous fournit alors des ID et des secrets, que vous devez fournir à votre tour à App Service.</span><span class="sxs-lookup"><span data-stu-id="e6eee-118">The identity provider will then provide IDs and secrets that you provide to App Service.</span></span> <span data-ttu-id="e6eee-119">Cela termine la relation d’approbation pour qu’App Service puisse valider des assertions d’utilisateur du fournisseur d’identité, telles que les jetons d’authentification.</span><span class="sxs-lookup"><span data-stu-id="e6eee-119">This completes the trust relationship so that App Service can validate user assertions, such as authentication tokens, from the identity provider.</span></span>

<span data-ttu-id="e6eee-120">Pour connecter un utilisateur en utilisant l’un de ces fournisseurs, vous devez rediriger cet utilisateur vers un point de terminaison de connexion associé à ce fournisseur.</span><span class="sxs-lookup"><span data-stu-id="e6eee-120">To sign in a user by using one of these providers, the user must be redirected to an endpoint that signs in users for that provider.</span></span> <span data-ttu-id="e6eee-121">Si les clients utilisent un navigateur web, vous pouvez faire en sorte qu’App Service redirige automatiquement l’ensemble des utilisateurs non authentifiés vers le point de terminaison de connexion.</span><span class="sxs-lookup"><span data-stu-id="e6eee-121">If customers are using a web browser, you can have App Service automatically direct all unauthenticated users to the endpoint that signs in users.</span></span> <span data-ttu-id="e6eee-122">Dans le cas contraire, vous devez rediriger vos clients vers `{your App Service base URL}/.auth/login/<provider>`, où `<provider>` correspond à l’une des valeurs suivantes : aad, facebook, google, microsoft ou twitter.</span><span class="sxs-lookup"><span data-stu-id="e6eee-122">Otherwise, you will need to direct your customers to `{your App Service base URL}/.auth/login/<provider>`, where `<provider>` is one of the following values: aad, facebook, google, microsoft, or twitter.</span></span> <span data-ttu-id="e6eee-123">Les scénarios portant sur les appareils mobiles et les API sont expliqués plus loin dans cet article.</span><span class="sxs-lookup"><span data-stu-id="e6eee-123">Mobile and API scenarios are explained in sections later in this article.</span></span>

<span data-ttu-id="e6eee-124">Les utilisateurs qui interagissent avec votre application via un navigateur web se verront affecter un cookie, qui leur permettra de rester authentifiés tant qu’ils seront connectés à votre application.</span><span class="sxs-lookup"><span data-stu-id="e6eee-124">Users who interact with your application through a web browser will have a cookie set so that they can remain authenticated as they browse your application.</span></span> <span data-ttu-id="e6eee-125">Pour les autres types de clients, comme les clients mobiles, un jeton web JSON (JWT) est émis pour le client, et doit être présenté dans l’en-tête `X-ZUMO-AUTH` .</span><span class="sxs-lookup"><span data-stu-id="e6eee-125">For other client types, such as mobile, a JSON web token (JWT), which should be presented in the `X-ZUMO-AUTH` header, will be issued to the client.</span></span> <span data-ttu-id="e6eee-126">Les kits de développement logiciel (SDK) du client Mobile Apps gèrent cette étape pour vous.</span><span class="sxs-lookup"><span data-stu-id="e6eee-126">The Mobile Apps client SDKs will handle this for you.</span></span> <span data-ttu-id="e6eee-127">Il est également possible d’ajouter directement un jeton d’accès ou d’identité Azure Active Directory dans l’en-tête `Authorization` , en tant que [jeton du porteur](https://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="e6eee-127">Alternatively, an Azure Active Directory identity token or access token may be directly included in the `Authorization` header as a [bearer token](https://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="e6eee-128">App Service valide n’importe quel cookie ou un jeton émis par votre application pour authentifier des utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="e6eee-128">App Service will validate any cookie or token that your application issues to authenticate users.</span></span> <span data-ttu-id="e6eee-129">Pour restreindre l’accès à votre application, consultez la section [Autorisation](#authorization) , plus loin dans cet article.</span><span class="sxs-lookup"><span data-stu-id="e6eee-129">To restrict who can access your application, see the [Authorization](#authorization) section later in this article.</span></span>

### <a name="mobile-authentication-with-a-provider-sdk"></a><span data-ttu-id="e6eee-130">Authentification d’appareils mobiles avec un Kit de développement logiciel (SDK) de fournisseur</span><span class="sxs-lookup"><span data-stu-id="e6eee-130">Mobile authentication with a provider SDK</span></span>
<span data-ttu-id="e6eee-131">Une fois que tout est configuré sur le système back-end, vous pouvez modifier les clients mobiles pour la connexion à App Service.</span><span class="sxs-lookup"><span data-stu-id="e6eee-131">After everything is configured on the backend, you can modify mobile clients to sign in with App Service.</span></span> <span data-ttu-id="e6eee-132">Il existe deux approches :</span><span class="sxs-lookup"><span data-stu-id="e6eee-132">There are two approaches here:</span></span>

* <span data-ttu-id="e6eee-133">Exploitez un Kit de développement logiciel (SDK) publié par un fournisseur d’identité donné pour établir l’identité, puis accédez à App Service.</span><span class="sxs-lookup"><span data-stu-id="e6eee-133">Use an SDK that a given identity provider publishes to establish identity and then gain access to App Service.</span></span>
* <span data-ttu-id="e6eee-134">Utilisez une seule ligne de code pour que le Kit de développement logiciel (SDK) client Mobile Apps puisse connecter des utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="e6eee-134">Use a single line of code so that the Mobile Apps client SDK can sign in users.</span></span>

> [!TIP]
> <span data-ttu-id="e6eee-135">La plupart des applications doivent utiliser un Kit de développement logiciel (SDK) de fournisseur pour obtenir une expérience de connexion plus cohérente et tirer parti de la prise en charge de l’actualisation et d’autres avantages propres au fournisseur.</span><span class="sxs-lookup"><span data-stu-id="e6eee-135">Most applications should use a provider SDK to get a more consistent experience when users sign in, to use refresh support, and to get other benefits that the provider specifies.</span></span>
> 
> 

<span data-ttu-id="e6eee-136">Lorsque vous utilisez un Kit de développement logiciel (SDK), l’expérience de connexion s’intègre parfaitement avec le système d’exploitation sur lequel l’application s’exécute.</span><span class="sxs-lookup"><span data-stu-id="e6eee-136">When you use a provider SDK, users can sign in to an experience that integrates more tightly with the operating system that the app is running on.</span></span> <span data-ttu-id="e6eee-137">Elle permet également d’obtenir un jeton de fournisseur et certaines informations utilisateur sur le client, ce qui facilite beaucoup la consommation d’API graphiques et la personnalisation de l’expérience utilisateur.</span><span class="sxs-lookup"><span data-stu-id="e6eee-137">This also gives you a provider token and some user information on the client, which makes it much easier to consume graph APIs and customize the user experience.</span></span> <span data-ttu-id="e6eee-138">Dans les blogs et sur les forums, cette opération est de temps en temps appelée « flux client » ou « flux dirigé vers le client » car le code sur le client connecte les utilisateurs et a accès à un jeton de fournisseur.</span><span class="sxs-lookup"><span data-stu-id="e6eee-138">Occasionally on blogs and forums, you will see this referred to as the "client flow" or "client-directed flow" because code on the client signs in users, and the client code has access to a provider token.</span></span>

<span data-ttu-id="e6eee-139">Une fois qu’un jeton de fournisseur est obtenu, il doit être envoyé à App Service à des fins de validation.</span><span class="sxs-lookup"><span data-stu-id="e6eee-139">After a provider token is obtained, it needs to be sent to App Service for validation.</span></span> <span data-ttu-id="e6eee-140">Lorsque App Service a validé le jeton, App Service crée un jeton App Service, qui est renvoyé au client.</span><span class="sxs-lookup"><span data-stu-id="e6eee-140">After App Service validates the token, App Service creates a new App Service token that is returned to the client.</span></span> <span data-ttu-id="e6eee-141">Le Kit de développement logiciel (SDK) du client Mobile Apps présente des méthodes d’assistance pour gérer cet échange et lier automatiquement le jeton à toutes les demandes adressées au back-end de l’application.</span><span class="sxs-lookup"><span data-stu-id="e6eee-141">The Mobile Apps client SDK has helper methods to manage this exchange and automatically attach the token to all requests to the application backend.</span></span> <span data-ttu-id="e6eee-142">Le développeur peut également conserver une référence au jeton de fournisseur s’il le souhaite.</span><span class="sxs-lookup"><span data-stu-id="e6eee-142">Developers can also keep a reference to the provider token if they so choose.</span></span>

### <a name="mobile-authentication-without-a-provider-sdk"></a><span data-ttu-id="e6eee-143">Authentification d’appareils mobiles sans Kit de développement logiciel (SDK) de fournisseur</span><span class="sxs-lookup"><span data-stu-id="e6eee-143">Mobile authentication without a provider SDK</span></span>
<span data-ttu-id="e6eee-144">Si vous ne souhaitez pas configurer un Kit de développement logiciel (SDK) de fournisseur, vous pouvez autoriser la fonctionnalité Mobile Apps d’Azure App Service à effectuer la connexion à votre place.</span><span class="sxs-lookup"><span data-stu-id="e6eee-144">If you do not want to set up a provider SDK, you can allow the Mobile Apps feature of Azure App Service to sign in for you.</span></span> <span data-ttu-id="e6eee-145">Le SDK client Mobile Apps ouvre un affichage web du fournisseur de votre choix et connecte l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="e6eee-145">The Mobile Apps client SDK will open a web view to the provider of your choosing and sign in the user.</span></span> <span data-ttu-id="e6eee-146">Dans les blogs et sur les forums, cette opération est de temps en temps appelée « flux serveur » ou « flux dirigé vers le serveur », car le serveur gère le processus de connexion des utilisateurs et le Kit de développement logiciel (SDK) client ne reçoit jamais le jeton du fournisseur.</span><span class="sxs-lookup"><span data-stu-id="e6eee-146">Occasionally on blogs and forums, you will see this referred to as the "server flow" or "server-directed flow" because the server manages the process that signs in users, and the client SDK never receives the provider token.</span></span>

<span data-ttu-id="e6eee-147">Le code nécessaire pour démarrer ce flux est inclus dans le didacticiel sur l’authentification pour chaque plateforme.</span><span class="sxs-lookup"><span data-stu-id="e6eee-147">Code to start this flow is included in the authentication tutorial for each platform.</span></span> <span data-ttu-id="e6eee-148">À la fin du flux, le Kit de développement logiciel (SDK) client dispose d’un jeton App Service et le jeton est automatiquement joint à toutes les requêtes adressées au back-end de l’application.</span><span class="sxs-lookup"><span data-stu-id="e6eee-148">At the end of the flow, the client SDK has an App Service token, and the token is automatically attached to all requests to the application backend.</span></span>

### <a name="service-to-service-authentication"></a><span data-ttu-id="e6eee-149">Authentification de service à service</span><span class="sxs-lookup"><span data-stu-id="e6eee-149">Service-to-service authentication</span></span>
<span data-ttu-id="e6eee-150">Bien que vous puissiez fournir aux utilisateurs l’accès à votre application, vous pouvez également faire confiance à une autre application pour appeler votre propre API.</span><span class="sxs-lookup"><span data-stu-id="e6eee-150">Although you can give users access to your application, you can also trust another application to call your own API.</span></span> <span data-ttu-id="e6eee-151">Par exemple, une application web pourrait appeler une API dans une autre application web.</span><span class="sxs-lookup"><span data-stu-id="e6eee-151">For example, you could have one web app call an API in another web app.</span></span> <span data-ttu-id="e6eee-152">Dans ce scénario, vous utilisez des informations d’identification correspondant à un compte de service au lieu des informations d’identification de l’utilisateur pour obtenir un jeton.</span><span class="sxs-lookup"><span data-stu-id="e6eee-152">In this scenario, you use credentials for a service account instead of user credentials to get a token.</span></span> <span data-ttu-id="e6eee-153">Un compte de service est également appelé *principal de service* dans Azure Active Directory. L’authentification pratiquée avec ce type de compte est également appelée « scénario de service à service ».</span><span class="sxs-lookup"><span data-stu-id="e6eee-153">A service account is also known as a *service principal* in Azure Active Directory parlance, and authentication that uses such an account is also known as a service-to-service scenario.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e6eee-154">Comme les applications mobiles s’exécutent sur des appareils clients, celles-ci ne sont *pas* considérées comme des applications approuvées et ne doivent pas utiliser un flux de principal de service.</span><span class="sxs-lookup"><span data-stu-id="e6eee-154">Because mobile apps run on customer devices, mobile applications do *not* count as trusted applications and should not use a service principal flow.</span></span> <span data-ttu-id="e6eee-155">Au lieu de cela, elles doivent utiliser un flux utilisateur décrit précédemment.</span><span class="sxs-lookup"><span data-stu-id="e6eee-155">Instead, they should use a user flow that was detailed earlier.</span></span>
> 
> 

<span data-ttu-id="e6eee-156">Pour les scénarios de service à service, App Service peut protéger votre application à l’aide d’Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="e6eee-156">For service-to-service scenarios, App Service can protect your application by using Azure Active Directory.</span></span> <span data-ttu-id="e6eee-157">Il suffit que l’application appelante fournisse un jeton d’autorisation du principal de service Azure Active Directory, en fournissant l’ID du client et son secret via Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="e6eee-157">The calling application just needs to provide an Azure Active Directory service principal authorization token that is obtained by providing the client ID and client secret from Azure Active Directory.</span></span> <span data-ttu-id="e6eee-158">Vous trouverez un exemple de ce scénario utilisant des applications API ASP.NET dans le didacticiel [Authentification de principal du service pour API Apps dans Azure App Service][apia-service].</span><span class="sxs-lookup"><span data-stu-id="e6eee-158">An example of this scenario that uses ASP.NET API apps is explained by the tutorial, [Service principal authentication for API Apps][apia-service].</span></span>

<span data-ttu-id="e6eee-159">Si vous souhaitez utiliser l’authentification App Service pour gérer un scénario de service à service, vous pouvez utiliser les certificats clients ou l’authentification de base.</span><span class="sxs-lookup"><span data-stu-id="e6eee-159">If you want to use App Service authentication to handle a service-to-service scenario, you can use client certificates or basic authentication.</span></span> <span data-ttu-id="e6eee-160">Pour plus d’informations sur les certificats clients dans Azure, consultez [Configuration de l’authentification mutuelle TLS pour une application Web](../app-service-web/app-service-web-configure-tls-mutual-auth.md).</span><span class="sxs-lookup"><span data-stu-id="e6eee-160">For information about client certificates in Azure, see [How To Configure TLS Mutual Authentication for Web Apps](../app-service-web/app-service-web-configure-tls-mutual-auth.md).</span></span> <span data-ttu-id="e6eee-161">Pour en savoir plus sur l’authentification de base dans ASP.NET, voir [Authentication Filters in ASP.NET Web API 2](http://www.asp.net/web-api/overview/security/authentication-filters)(Filtres d’authentification dans ASP.NET Web API 2).</span><span class="sxs-lookup"><span data-stu-id="e6eee-161">For information about basic authentication in ASP.NET, see [Authentication Filters in ASP.NET Web API 2](http://www.asp.net/web-api/overview/security/authentication-filters).</span></span>

<span data-ttu-id="e6eee-162">L’authentification du compte de service à partir d’une application logique App Service vers une application API est un cas particulier, qui est expliqué en détail dans la section [Utilisation de votre API personnalisée hébergée sur App Service avec les applications logiques](../logic-apps/logic-apps-custom-hosted-api.md).</span><span class="sxs-lookup"><span data-stu-id="e6eee-162">Service account authentication from an App Service logic app to an API app is a special case that is detailed in [Using your custom API hosted on App Service with Logic apps](../logic-apps/logic-apps-custom-hosted-api.md).</span></span>

## <span data-ttu-id="e6eee-163"><a name="authorization"></a>Fonctionnement de l’autorisation dans App Service</span><span class="sxs-lookup"><span data-stu-id="e6eee-163"><a name="authorization"></a>How authorization works in App Service</span></span>
<span data-ttu-id="e6eee-164">Vous bénéficiez d’un contrôle absolu sur les requêtes pouvant accéder à votre application.</span><span class="sxs-lookup"><span data-stu-id="e6eee-164">You have full control over the requests that can access your application.</span></span> <span data-ttu-id="e6eee-165">Vous pouvez configurer les fonctionnalités d’authentification/d’autorisation d’App Service en leur affectant l’un des comportements suivants :</span><span class="sxs-lookup"><span data-stu-id="e6eee-165">App Service Authentication / Authorization can be configured with any of the following behaviors:</span></span>

* <span data-ttu-id="e6eee-166">Autoriser uniquement les requêtes authentifiées à accéder à votre application.</span><span class="sxs-lookup"><span data-stu-id="e6eee-166">Allow only authenticated requests to reach your application.</span></span>
  
    <span data-ttu-id="e6eee-167">Si un navigateur reçoit une requête anonyme, App Service la redirige vers la page de connexion du fournisseur d’identité de votre choix pour que les utilisateurs puissent se connecter.</span><span class="sxs-lookup"><span data-stu-id="e6eee-167">If a browser receives an anonymous request, App Service will redirect to a page for the identity provider that you choose so that users can sign in.</span></span> <span data-ttu-id="e6eee-168">Si la requête provient d’un appareil mobile, une réponse HTTP du type *401 non autorisé* est renvoyée.</span><span class="sxs-lookup"><span data-stu-id="e6eee-168">If the request comes from a mobile device, the returned response is an HTTP *401 Unauthorized* response.</span></span>
  
    <span data-ttu-id="e6eee-169">Grâce à cette option, vous n’avez pas besoin d’écrire du code d’authentification dans votre application.</span><span class="sxs-lookup"><span data-stu-id="e6eee-169">With this option, you don't need to write any authentication code at all in your app.</span></span> <span data-ttu-id="e6eee-170">S’il vous faut une autorisation plus fine, vous pouvez tirer parti des informations sur l’utilisateur disponibles pour votre code.</span><span class="sxs-lookup"><span data-stu-id="e6eee-170">If you need finer authorization, information about the user is available to your code.</span></span>
* <span data-ttu-id="e6eee-171">Autoriser toutes les requêtes à atteindre votre application, mais valider les requêtes authentifiées et transmettre les informations d’authentification dans les en-têtes HTTP.</span><span class="sxs-lookup"><span data-stu-id="e6eee-171">Allow all requests to reach your application, but validate authenticated requests, and pass along authentication information in the HTTP headers.</span></span>
  
    <span data-ttu-id="e6eee-172">Cette option permet de confier les décisions en matière d’autorisation à votre code d’application.</span><span class="sxs-lookup"><span data-stu-id="e6eee-172">This option defers authorization decisions to your application code.</span></span> <span data-ttu-id="e6eee-173">Elle permet un traitement plus souple des requêtes anonymes, mais vous devez écrire du code à cette fin.</span><span class="sxs-lookup"><span data-stu-id="e6eee-173">It provides more flexibility in handling anonymous requests, but you have to write code.</span></span>
* <span data-ttu-id="e6eee-174">Autoriser toutes les requêtes à atteindre votre application, sans recours aux informations d’authentification dans les requêtes.</span><span class="sxs-lookup"><span data-stu-id="e6eee-174">Allow all requests to reach your application, and take no action on authentication information in the requests.</span></span>
  
    <span data-ttu-id="e6eee-175">Dans ce cas, la fonctionnalité d’authentification/d’autorisation est désactivée.</span><span class="sxs-lookup"><span data-stu-id="e6eee-175">In this case, the Authentication / Authorization feature is off.</span></span> <span data-ttu-id="e6eee-176">Les tâches d’authentification et d’autorisation sont entièrement à la charge du code de votre application.</span><span class="sxs-lookup"><span data-stu-id="e6eee-176">The tasks of authentication and authorization are entirely up to your application code.</span></span>

<span data-ttu-id="e6eee-177">Les comportements ci-dessus sont contrôlés par le biais de l’option **Action à exécuter quand une demande n’est pas authentifiée** du portail Azure.</span><span class="sxs-lookup"><span data-stu-id="e6eee-177">The previous behaviors are controlled by the **Action to take when request is not authenticated** option in the Azure portal.</span></span> <span data-ttu-id="e6eee-178">Si vous choisissez **Se connecter avec *nom du fournisseur***, toutes les demandes doivent être authentifiées.</span><span class="sxs-lookup"><span data-stu-id="e6eee-178">If you choose **Log in with *provider name* **, all requests have to be authenticated.</span></span> <span data-ttu-id="e6eee-179">L’option **Autoriser la demande (aucune action)** confie les décisions en matière d’autorisation à votre code, mais fournit malgré tout des informations d’authentification.</span><span class="sxs-lookup"><span data-stu-id="e6eee-179">**Allow request (no action)** defers the authorization decision to your code, but it still provides authentication information.</span></span> <span data-ttu-id="e6eee-180">Si vous souhaitez que votre code gère toutes ces opérations, vous pouvez désactiver la fonctionnalité d’autorisation/d’authentification.</span><span class="sxs-lookup"><span data-stu-id="e6eee-180">If you want to have your code handle everything, you can disable the Authentication / Authorization feature.</span></span>

## <a name="working-with-user-identities-in-your-application"></a><span data-ttu-id="e6eee-181">Utilisation des identités des utilisateurs dans votre application</span><span class="sxs-lookup"><span data-stu-id="e6eee-181">Working with user identities in your application</span></span>
<span data-ttu-id="e6eee-182">App Service transmet certaines informations sur les utilisateurs à votre application, au moyen d’en-têtes spéciaux.</span><span class="sxs-lookup"><span data-stu-id="e6eee-182">App Service passes some user information to your application by using special headers.</span></span> <span data-ttu-id="e6eee-183">Ces en-têtes ne sont pas autorisés dans les requêtes externes ; ils ne seront présents que si la fonctionnalité d’autorisation/d’authentification d’App Service les définit.</span><span class="sxs-lookup"><span data-stu-id="e6eee-183">External requests prohibit these headers and will only be present if set by App Service Authentication / Authorization.</span></span> <span data-ttu-id="e6eee-184">Voici quelques exemples d’en-têtes :</span><span class="sxs-lookup"><span data-stu-id="e6eee-184">Some example headers include:</span></span>

* <span data-ttu-id="e6eee-185">X-MS-CLIENT-PRINCIPAL-NAME</span><span class="sxs-lookup"><span data-stu-id="e6eee-185">X-MS-CLIENT-PRINCIPAL-NAME</span></span>
* <span data-ttu-id="e6eee-186">X-MS-CLIENT-PRINCIPAL-ID</span><span class="sxs-lookup"><span data-stu-id="e6eee-186">X-MS-CLIENT-PRINCIPAL-ID</span></span>
* <span data-ttu-id="e6eee-187">X-MS-TOKEN-FACEBOOK-ACCESS-TOKEN</span><span class="sxs-lookup"><span data-stu-id="e6eee-187">X-MS-TOKEN-FACEBOOK-ACCESS-TOKEN</span></span>
* <span data-ttu-id="e6eee-188">X-MS-TOKEN-FACEBOOK-EXPIRES-ON</span><span class="sxs-lookup"><span data-stu-id="e6eee-188">X-MS-TOKEN-FACEBOOK-EXPIRES-ON</span></span>

<span data-ttu-id="e6eee-189">Tout code, quels que soient le langage ou l’infrastructure utilisés, peut trouver les informations qu’il recherche dans ces en-têtes.</span><span class="sxs-lookup"><span data-stu-id="e6eee-189">Code that is written in any language or framework can get the information that it needs from these headers.</span></span> <span data-ttu-id="e6eee-190">Dans le cas d’applications ASP.NET 4.6, le paramètre **ClaimsPrincipal** est automatiquement défini sur les valeurs appropriées.</span><span class="sxs-lookup"><span data-stu-id="e6eee-190">For ASP.NET 4.6 apps, the **ClaimsPrincipal** is automatically set with the appropriate values.</span></span>

<span data-ttu-id="e6eee-191">Votre application peut également obtenir des informations supplémentaires sur l’utilisateur en émettant la commande HTTP GET sur le point de terminaison `/.auth/me` de votre application.</span><span class="sxs-lookup"><span data-stu-id="e6eee-191">Your application can also obtain additional user details through an HTTP GET on the `/.auth/me` endpoint of your application.</span></span> <span data-ttu-id="e6eee-192">Un jeton valide inclus dans la requête renvoie une charge utile JSON présentant des informations sur le fournisseur utilisé, le jeton du fournisseur sous-jacent et d’autres données sur l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="e6eee-192">A valid token that's included with the request will return a JSON payload with details about the provider that's being used, the underlying provider token, and some other user information.</span></span> <span data-ttu-id="e6eee-193">Les Kits de développement logiciel (SDK) serveur de Mobile Apps offrent des méthodes d’assistance permettant de manipuler ces données.</span><span class="sxs-lookup"><span data-stu-id="e6eee-193">The Mobile Apps server SDKs provide helper methods to work with this data.</span></span> <span data-ttu-id="e6eee-194">Pour plus d’informations, consultez [Comment utiliser le Kit de développement logiciel Node.js dans Azure Mobile Apps](../app-service-mobile/app-service-mobile-node-backend-how-to-use-server-sdk.md#howto-tables-getidentity), et [Utiliser le Kit de développement logiciel (SDK) de serveur principal .NET pour Azure Mobile Apps](../app-service-mobile/app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#user-info).</span><span class="sxs-lookup"><span data-stu-id="e6eee-194">For more information, see [How to use the Azure Mobile Apps Node.js SDK](../app-service-mobile/app-service-mobile-node-backend-how-to-use-server-sdk.md#howto-tables-getidentity), and [Work with the .NET backend server SDK for Azure Mobile Apps](../app-service-mobile/app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#user-info).</span></span>

## <a name="documentation-and-additional-resources"></a><span data-ttu-id="e6eee-195">Documentation et ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="e6eee-195">Documentation and additional resources</span></span>
### <a name="identity-providers"></a><span data-ttu-id="e6eee-196">Fournisseurs d’identité</span><span class="sxs-lookup"><span data-stu-id="e6eee-196">Identity providers</span></span>
<span data-ttu-id="e6eee-197">Les didacticiels suivants montrent comment configurer App Service pour exploiter différents fournisseurs d’authentification :</span><span class="sxs-lookup"><span data-stu-id="e6eee-197">The following tutorials show how to configure App Service to use different authentication providers:</span></span>

* <span data-ttu-id="e6eee-198">[Configurer votre application App Service pour utiliser la connexion Azure Active Directory][AAD]</span><span class="sxs-lookup"><span data-stu-id="e6eee-198">[How to configure your app to use Azure Active Directory login][AAD]</span></span>
* <span data-ttu-id="e6eee-199">[Comment configurer votre application App Service de manière à utiliser la connexion via Facebook][Facebook]</span><span class="sxs-lookup"><span data-stu-id="e6eee-199">[How to configure your app to use Facebook login][Facebook]</span></span>
* <span data-ttu-id="e6eee-200">[Comment configurer votre application App Service de manière à utiliser la connexion via Google][Google]</span><span class="sxs-lookup"><span data-stu-id="e6eee-200">[How to configure your app to use Google login][Google]</span></span>
* <span data-ttu-id="e6eee-201">[Comment configurer votre application App Service pour utiliser une connexion par compte Microsoft][MSA]</span><span class="sxs-lookup"><span data-stu-id="e6eee-201">[How to configure your app to use Microsoft Account login][MSA]</span></span>
* <span data-ttu-id="e6eee-202">[Comment configurer votre application App Service de manière à utiliser la connexion via Twitter][Twitter]</span><span class="sxs-lookup"><span data-stu-id="e6eee-202">[How to configure your app to use Twitter login][Twitter]</span></span>

<span data-ttu-id="e6eee-203">Si vous voulez utiliser un système d’identité différent de ceux indiqués ici, vous pouvez également exploiter la [prise en charge de l’authentification personnalisée en version préliminaire dans le Kit de développement logiciel (SDK) du serveur .NET de Mobile Apps][custom-auth], qui peut être utilisée dans les applications web, Mobiles Apps ou API Apps.</span><span class="sxs-lookup"><span data-stu-id="e6eee-203">If you want to use an identity system other than the ones provided here, you can also use the [preview custom authentication support in the Mobile Apps .NET server SDK][custom-auth], which can be used in web apps, mobile apps, or API apps.</span></span>

### <a name="web-applications"></a><span data-ttu-id="e6eee-204">Applications web</span><span class="sxs-lookup"><span data-stu-id="e6eee-204">Web applications</span></span>
<span data-ttu-id="e6eee-205">Les didacticiels suivants montrent comment ajouter l’authentification à une application web :</span><span class="sxs-lookup"><span data-stu-id="e6eee-205">The following tutorials show how to add authentication to a web application:</span></span>

* <span data-ttu-id="e6eee-206">[Prise en main d’Azure App Service, 2e partie][web-getstarted]</span><span class="sxs-lookup"><span data-stu-id="e6eee-206">[Get started with Azure App Service - Part 2][web-getstarted]</span></span>

### <a name="mobile-applications"></a><span data-ttu-id="e6eee-207">Applications mobiles</span><span class="sxs-lookup"><span data-stu-id="e6eee-207">Mobile applications</span></span>
<span data-ttu-id="e6eee-208">Les didacticiels suivants expliquent comment ajouter une fonctionnalité d’authentification à vos clients mobiles en utilisant le flux dirigé vers le serveur :</span><span class="sxs-lookup"><span data-stu-id="e6eee-208">The following tutorials show how to add authentication to your mobile clients by using the server-directed flow:</span></span>

* <span data-ttu-id="e6eee-209">[Ajout de l'authentification à votre application iOS][iOS]</span><span class="sxs-lookup"><span data-stu-id="e6eee-209">[Add authentication to your iOS app][iOS]</span></span>
* <span data-ttu-id="e6eee-210">[Ajout de l’authentification à votre application Android][Android]</span><span class="sxs-lookup"><span data-stu-id="e6eee-210">[Add Authentication to your Android app][Android]</span></span>
* <span data-ttu-id="e6eee-211">[Ajout de l’authentification à votre application Windows][Windows]</span><span class="sxs-lookup"><span data-stu-id="e6eee-211">[Add Authentication to your Windows app][Windows]</span></span>
* <span data-ttu-id="e6eee-212">[Ajout de l’authentification à votre application Xamarin.iOS][Xamarin.iOS]</span><span class="sxs-lookup"><span data-stu-id="e6eee-212">[Add authentication to your Xamarin.iOS app][Xamarin.iOS]</span></span>
* <span data-ttu-id="e6eee-213">[Ajout de l’authentification à votre application Xamarin.Android][Xamarin.Android]</span><span class="sxs-lookup"><span data-stu-id="e6eee-213">[Add authentication to your Xamarin.Android app][Xamarin.Android]</span></span>
* <span data-ttu-id="e6eee-214">[Ajout de l’authentification à votre application Xamarin.Forms][Xamarin.Forms]</span><span class="sxs-lookup"><span data-stu-id="e6eee-214">[Add authentication to your Xamarin.Forms app][Xamarin.Forms]</span></span>
* <span data-ttu-id="e6eee-215">[Ajout de l’authentification à votre application Cordova][Cordova]</span><span class="sxs-lookup"><span data-stu-id="e6eee-215">[Add Authentication to your Cordova app][Cordova]</span></span>

<span data-ttu-id="e6eee-216">Utilisez les ressources suivantes si vous souhaitez exploiter le flux dirigé vers le client pour Azure Active Directory :</span><span class="sxs-lookup"><span data-stu-id="e6eee-216">Use the following resources if you want to use the client-directed flow for Azure Active Directory:</span></span>

* <span data-ttu-id="e6eee-217">[Bibliothèque Active Directory Authentication Library pour iOS][ADAL-iOS]</span><span class="sxs-lookup"><span data-stu-id="e6eee-217">[Use the Active Directory Authentication Library for iOS][ADAL-iOS]</span></span>
* <span data-ttu-id="e6eee-218">[Bibliothèque Active Directory Authentication Library pour Android][ADAL-Android]</span><span class="sxs-lookup"><span data-stu-id="e6eee-218">[Use the Active Directory Authentication Library for Android][ADAL-Android]</span></span>
* <span data-ttu-id="e6eee-219">[Bibliothèque Active Directory Authentication Library pour Windows et Xamarin][ADAL-dotnet]</span><span class="sxs-lookup"><span data-stu-id="e6eee-219">[Use the Active Directory Authentication Library for Windows and Xamarin][ADAL-dotnet]</span></span>

<span data-ttu-id="e6eee-220">Utilisez les ressources suivantes si vous souhaitez exploiter le flux dirigé vers le client pour Facebook :</span><span class="sxs-lookup"><span data-stu-id="e6eee-220">Use the following resources if you want to use the client-directed flow for Facebook:</span></span>

* [<span data-ttu-id="e6eee-221">Kit de développement logiciel (SDK) Facebook pour iOS</span><span class="sxs-lookup"><span data-stu-id="e6eee-221">Use the Facebook SDK for iOS</span></span>](../app-service-mobile/app-service-mobile-ios-how-to-use-client-library.md#facebook-sdk)

<span data-ttu-id="e6eee-222">Utilisez les ressources suivantes si vous souhaitez exploiter le flux dirigé vers le client pour Twitter :</span><span class="sxs-lookup"><span data-stu-id="e6eee-222">Use the following resources if you want to use the client-directed flow for Twitter:</span></span>

* [<span data-ttu-id="e6eee-223">Twitter Fabric pour iOS</span><span class="sxs-lookup"><span data-stu-id="e6eee-223">Use Twitter Fabric for iOS</span></span>](../app-service-mobile/app-service-mobile-ios-how-to-use-client-library.md#twitter-fabric)

<span data-ttu-id="e6eee-224">Utilisez les ressources suivantes si vous souhaitez exploiter le flux dirigé vers le client pour Google :</span><span class="sxs-lookup"><span data-stu-id="e6eee-224">Use the following resources if you want to use the client-directed flow for Google:</span></span>

* [<span data-ttu-id="e6eee-225">Kit de développement logiciel (SDK) Google Sign-In pour iOS</span><span class="sxs-lookup"><span data-stu-id="e6eee-225">Use the Google Sign-In SDK for iOS</span></span>](../app-service-mobile/app-service-mobile-ios-how-to-use-client-library.md#google-sdk)

### <a name="api-applications"></a><span data-ttu-id="e6eee-226">Applications API</span><span class="sxs-lookup"><span data-stu-id="e6eee-226">API applications</span></span>
<span data-ttu-id="e6eee-227">Les didacticiels suivants expliquent comment protéger vos applications API :</span><span class="sxs-lookup"><span data-stu-id="e6eee-227">The following tutorials show how to protect your API apps:</span></span>

* <span data-ttu-id="e6eee-228">[Authentification utilisateur pour API Apps dans Azure App Service][apia-user]</span><span class="sxs-lookup"><span data-stu-id="e6eee-228">[User authentication for API Apps in Azure App Service][apia-user]</span></span>
* <span data-ttu-id="e6eee-229">[Authentification de principal du service pour API Apps dans Azure App Service][apia-service]</span><span class="sxs-lookup"><span data-stu-id="e6eee-229">[Service principal authentication for API Apps in Azure App Service][apia-service]</span></span>

[apia-user]: ../app-service-api/app-service-api-dotnet-user-principal-auth.md
[apia-service]: ../app-service-api/app-service-api-dotnet-service-principal-auth.md

[web-getstarted]: ../app-service-web/app-service-web-get-started-2.md#authenticate-your-users

[iOS]: ../app-service-mobile/app-service-mobile-ios-get-started-users.md
<span data-ttu-id="e6eee-230">[Android]: ../app-service-mobile/app-service-mobile-android-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="e6eee-230">[Android]: ../app-service-mobile/app-service-mobile-android-get-started-users.md</span></span>
<span data-ttu-id="e6eee-231">[Xamarin.iOS]: ../app-service-mobile/app-service-mobile-xamarin-ios-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="e6eee-231">[Xamarin.iOS]: ../app-service-mobile/app-service-mobile-xamarin-ios-get-started-users.md</span></span>
<span data-ttu-id="e6eee-232">[Xamarin.Android]: ../app-service-mobile/app-service-mobile-xamarin-android-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="e6eee-232">[Xamarin.Android]: ../app-service-mobile/app-service-mobile-xamarin-android-get-started-users.md</span></span>
<span data-ttu-id="e6eee-233">[Xamarin.Forms]: ../app-service-mobile/app-service-mobile-xamarin-forms-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="e6eee-233">[Xamarin.Forms]: ../app-service-mobile/app-service-mobile-xamarin-forms-get-started-users.md</span></span>
<span data-ttu-id="e6eee-234">[Windows]: ../app-service-mobile/app-service-mobile-windows-store-dotnet-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="e6eee-234">[Windows]: ../app-service-mobile/app-service-mobile-windows-store-dotnet-get-started-users.md</span></span>
<span data-ttu-id="e6eee-235">[Cordova]: ../app-service-mobile/app-service-mobile-cordova-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="e6eee-235">[Cordova]: ../app-service-mobile/app-service-mobile-cordova-get-started-users.md</span></span>

[AAD]: ../app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication.md
[Facebook]: ../app-service-mobile/app-service-mobile-how-to-configure-facebook-authentication.md
[Google]: ../app-service-mobile/app-service-mobile-how-to-configure-google-authentication.md
[MSA]: ../app-service-mobile/app-service-mobile-how-to-configure-microsoft-authentication.md
[Twitter]: ../app-service-mobile/app-service-mobile-how-to-configure-twitter-authentication.md

[custom-auth]: ../app-service-mobile/app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#custom-auth

[ADAL-Android]: ../app-service-mobile/app-service-mobile-android-how-to-use-client-library.md#adal
[ADAL-iOS]: ../app-service-mobile/app-service-mobile-ios-how-to-use-client-library.md#adal
[ADAL-dotnet]: ../app-service-mobile/app-service-mobile-dotnet-how-to-use-client-library.md#adal
