---
title: "aaaExporting un tooPowerApps de l’API de hébergés par Azure et le Microsoft Flow | Documents Microsoft"
description: "Vue d’ensemble de la façon dont tooexpose une API hébergés dans le Service d’applications tooPowerApps et Microsoft Flow"
services: app-service
documentationcenter: 
author: mattchenderson
manager: erikre
editor: 
ms.assetid: 
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 06/20/2017
ms.author: mahender
ms.openlocfilehash: 285b6efa3af5b0feac1ee2f617c0dc56dc3fd198
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="exporting-an-azure-hosted-api-toopowerapps-and-microsoft-flow"></a><span data-ttu-id="f465d-103">Exportation d’un tooPowerApps de l’API de hébergés par Azure et de Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="f465d-103">Exporting an Azure-hosted API tooPowerApps and Microsoft Flow</span></span>

## <a name="creating-custom-connectors-for-powerapps-and-microsoft-flow"></a><span data-ttu-id="f465d-104">Création de connecteurs personnalisés pour PowerApps et Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="f465d-104">Creating custom connectors for PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="f465d-105">[PowerApps](https://powerapps.com) est un service pour la création et l’utilisation d’applications métier personnalisées connectent tooyour données et de travailler sur plusieurs plateformes.</span><span class="sxs-lookup"><span data-stu-id="f465d-105">[PowerApps](https://powerapps.com) is a service for building and using custom business apps that connect tooyour data and work across platforms.</span></span> <span data-ttu-id="f465d-106">[Microsoft Flow](https://flow.microsoft.com) , il est facile tooautomate de flux de travail et des processus d’entreprise entre vos applications favorites et les services.</span><span class="sxs-lookup"><span data-stu-id="f465d-106">[Microsoft Flow](https://flow.microsoft.com) makes it easy tooautomate workflows and business processes between your favorite apps and services.</span></span> <span data-ttu-id="f465d-107">PowerApps et Microsoft Flow sont fournis avec un large éventail de sources de toodata de liens intégrés tels que Office 365, Dynamics 365, Salesforce et bien plus encore.</span><span class="sxs-lookup"><span data-stu-id="f465d-107">Both PowerApps and Microsoft Flow come with a variety of built-in connectors toodata sources such as Office 365, Dynamics 365, Salesforce, and more.</span></span> <span data-ttu-id="f465d-108">Toutefois, les utilisateurs doivent également des sources de données en mesure de tooleverage toobe et les API en cours de génération par l’entreprise.</span><span class="sxs-lookup"><span data-stu-id="f465d-108">However, users also need toobe able tooleverage data sources and APIs being built by their organization.</span></span>

<span data-ttu-id="f465d-109">De même, les développeurs qui veulent tooexpose leurs API plus largement dans hello organisation souhaiterez toomake leurs tooPowerApps disponible d’API et les utilisateurs de Microsoft Flow.</span><span class="sxs-lookup"><span data-stu-id="f465d-109">Similarly, developers that want tooexpose their APIs more broadly within hello organization may want toomake their APIs available tooPowerApps and Microsoft Flow users.</span></span> <span data-ttu-id="f465d-110">Cette rubrique va vous montrer comment tooexpose une API générée à l’aide de tooPowerApps Azure App Service ou des fonctions d’Azure et Microsoft Flow.</span><span class="sxs-lookup"><span data-stu-id="f465d-110">This topic will show you how tooexpose an API built with Azure App Service or Azure Functions tooPowerApps and Microsoft Flow.</span></span> <span data-ttu-id="f465d-111">[Azure App Service](https://azure.microsoft.com/services/app-service/) est une offre platform-as-a-service qui permet aux développeurs tooquickly et facilement web d’entreprise de génération, mobile et les applications API.</span><span class="sxs-lookup"><span data-stu-id="f465d-111">[Azure App Service](https://azure.microsoft.com/services/app-service/) is a platform-as-a-service offering that allows developers tooquickly and easily build enterprise-grade web, mobile, and API applications.</span></span> <span data-ttu-id="f465d-112">[Les fonctions Azure](https://azure.microsoft.com/services/functions/) est une solution basée sur les événements de calcul sans serveur qui vous permet de code auteur tooquickly pouvant réagir tooother des parties de votre système et de la mise à l’échelle en fonction de la demande.</span><span class="sxs-lookup"><span data-stu-id="f465d-112">[Azure Functions](https://azure.microsoft.com/services/functions/) is an event-based serverless compute solution that allows you tooquickly author code that can react tooother parts of your system and scale based on demand.</span></span>

<span data-ttu-id="f465d-113">toolearn savoir plus sur ces services, consultez :</span><span class="sxs-lookup"><span data-stu-id="f465d-113">toolearn more about these services, see:</span></span>
- <span data-ttu-id="f465d-114">[PowerApps Guided Learning](https://powerapps.microsoft.com/guided-learning/learning-introducing-powerapps/) (Formation guidée sur PowerApps)</span><span class="sxs-lookup"><span data-stu-id="f465d-114">[PowerApps Guided Learning](https://powerapps.microsoft.com/guided-learning/learning-introducing-powerapps/)</span></span> 
- [<span data-ttu-id="f465d-115">Formation guidée sur Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="f465d-115">Microsoft Flow Guided Learning</span></span>](https://flow.microsoft.com/guided-learning/learning-introducing-flow/)
- [<span data-ttu-id="f465d-116">Présentation d’App Service</span><span class="sxs-lookup"><span data-stu-id="f465d-116">What is App Service?</span></span>](https://docs.microsoft.com/azure/app-service/app-service-value-prop-what-is)
- [<span data-ttu-id="f465d-117">Vue d’ensemble d’Azure Functions</span><span class="sxs-lookup"><span data-stu-id="f465d-117">What is Azure Functions</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-overview)

## <a name="sharing-an-api-definition"></a><span data-ttu-id="f465d-118">Partage d’une définition d’API</span><span class="sxs-lookup"><span data-stu-id="f465d-118">Sharing an API definition</span></span>

<span data-ttu-id="f465d-119">API est souvent décrits à l’aide un [OpenAPI document](https://www.openapis.org/) (parfois appelée tooas un document « Swagger »).</span><span class="sxs-lookup"><span data-stu-id="f465d-119">APIs are often described using an [OpenAPI document](https://www.openapis.org/) (sometimes referred tooas a "Swagger" document).</span></span> <span data-ttu-id="f465d-120">Contient tous les hello plus d’informations sur les opérations sont disponibles et la structuration des données de salutation.</span><span class="sxs-lookup"><span data-stu-id="f465d-120">This contains all of hello information about what operations are available and how hello data should be structured.</span></span> <span data-ttu-id="f465d-121">PowerApps et Microsoft Flow peuvent créer des connecteurs personnalisés pour tout document Open API 2.0.</span><span class="sxs-lookup"><span data-stu-id="f465d-121">PowerApps and Microsoft Flow can create custom connectors for any OpenAPI 2.0 document.</span></span> <span data-ttu-id="f465d-122">Une fois un connecteur personnalisé est créé, il peut être utilisé dans hello exactement comme un des hello liens intégrés et peut rapidement être intégré dans une application.</span><span class="sxs-lookup"><span data-stu-id="f465d-122">Once a custom connector is created, it can be used in exactly hello same way as one of hello built-in connectors and can quickly be integrated into an application.</span></span>

<span data-ttu-id="f465d-123">Azure App Service et Azure Functions [prennent en charge](https://docs.microsoft.com/azure/app-service-api/app-service-api-metadata) la création, l’hébergement et la gestion d’un document Open API.</span><span class="sxs-lookup"><span data-stu-id="f465d-123">Azure App Service and Azure Functions have [built-in support](https://docs.microsoft.com/azure/app-service-api/app-service-api-metadata) for creating, hosting, and managing an OpenAPI document.</span></span> <span data-ttu-id="f465d-124">Dans l’ordre toocreate un connecteur personnalisé pour un site web, mobile, API ou d’application de la fonction, PowerApps et flux doivent toobe reçoit une copie de la définition de hello.</span><span class="sxs-lookup"><span data-stu-id="f465d-124">In order toocreate a custom connector for a web, mobile, API, or function app, PowerApps and Flow need toobe given a copy of hello definition.</span></span>

> [!NOTE]
> <span data-ttu-id="f465d-125">Car une copie de la définition de l’API de hello est utilisée, PowerApps et Microsoft Flow immédiatement ne saura pas sur les mises à jour ou une application de toohello de modifications avec rupture.</span><span class="sxs-lookup"><span data-stu-id="f465d-125">Because a copy of hello API definition is being used, PowerApps and Microsoft Flow will not immediately know about updates or breaking changes toohello application.</span></span> <span data-ttu-id="f465d-126">Si une nouvelle version de l’API de hello est rendue disponible, ces étapes doivent être répétés pour la nouvelle version de hello.</span><span class="sxs-lookup"><span data-stu-id="f465d-126">If a new version of hello API is made available, these steps should be repeated for hello new version.</span></span> 

<span data-ttu-id="f465d-127">tooprovide PowerApps et Microsoft Flow avec la définition de l’API hello hébergé pour votre application, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="f465d-127">tooprovide PowerApps and Microsoft Flow with hello hosted API definition for your app, follow these steps:</span></span>

1. <span data-ttu-id="f465d-128">Ouvrez hello [portail Azure](https://portal.azure.com) et accédez tooyour application du Service d’applications ou des fonctions d’Azure.</span><span class="sxs-lookup"><span data-stu-id="f465d-128">Open hello [Azure Portal](https://portal.azure.com) and navigate tooyour App Service or Azure Functions application.</span></span>

    <span data-ttu-id="f465d-129">Si vous utilisez le Service d’applications Azure, sélectionnez **définition d’API** à partir de la liste des paramètres hello.</span><span class="sxs-lookup"><span data-stu-id="f465d-129">If using Azure App Service, select **API definition** from hello settings list.</span></span> 
    
    <span data-ttu-id="f465d-130">Si vous utilisez Azure Functions, sélectionnez votre application de fonction, choisissez **Fonctionnalités de la plateforme**, puis **Définition de l’API**.</span><span class="sxs-lookup"><span data-stu-id="f465d-130">If using Azure Functions, select your function app, and then choose **Platform features**, and then **API definition**.</span></span> <span data-ttu-id="f465d-131">Vous pouvez également choisir de tooopen hello **définition d’API (version préliminaire)** onglet à la place.</span><span class="sxs-lookup"><span data-stu-id="f465d-131">You could also choose tooopen hello **API definition (preview)** tab instead.</span></span>

2. <span data-ttu-id="f465d-132">Si une définition de l’API a été fournie, vous verrez un **exporter tooPowerApps + Microsoft Flow** bouton.</span><span class="sxs-lookup"><span data-stu-id="f465d-132">If an API definition has been provided, you will see an **Export tooPowerApps + Microsoft Flow** button.</span></span> <span data-ttu-id="f465d-133">Cliquez sur ce processus d’exportation bouton toobegin hello.</span><span class="sxs-lookup"><span data-stu-id="f465d-133">Click this button toobegin hello export process.</span></span>

3. <span data-ttu-id="f465d-134">Sélectionnez hello **mode d’exportation**.</span><span class="sxs-lookup"><span data-stu-id="f465d-134">Select hello **Export mode**.</span></span> <span data-ttu-id="f465d-135">Ce paramètre détermine les étapes hello vous devez toofollow toocreate un connecteur.</span><span class="sxs-lookup"><span data-stu-id="f465d-135">This determines hello steps you will need toofollow toocreate a connector.</span></span> <span data-ttu-id="f465d-136">App Service offre deux options pour fournir votre définition d’API à PowerApps et Microsoft Flow :</span><span class="sxs-lookup"><span data-stu-id="f465d-136">App Service offers two options for providing PowerApps and Microsoft Flow with your API definition:</span></span>

    <span data-ttu-id="f465d-137">**Express** vous permet de créer hello personnalisé connecteur dans hello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="f465d-137">**Express** lets you create hello custom connector from within hello Azure portal.</span></span> <span data-ttu-id="f465d-138">Il requiert que hello que vous utilisez actuellement connecté l’utilisateur a connecteurs de toocreate d’autorisation dans l’environnement cible de hello.</span><span class="sxs-lookup"><span data-stu-id="f465d-138">It requires that hello curent logged-in user has permission toocreate connectors in hello target environment.</span></span> <span data-ttu-id="f465d-139">Il s’agit de hello approche recommandée si cette condition peut être remplie.</span><span class="sxs-lookup"><span data-stu-id="f465d-139">This is hello recommended approach if that requirement can be met.</span></span> <span data-ttu-id="f465d-140">Si vous utilisez ce mode, suivez hello [Express exportation](#express) instructions ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="f465d-140">If using this mode, follow hello [Express export](#express) instructions below.</span></span>

    <span data-ttu-id="f465d-141">**Manuel** vous permet d’exporter une copie de la définition d’API hello qui peut être importée à l’aide de hello PowerApps ou Microsoft Flow portails.</span><span class="sxs-lookup"><span data-stu-id="f465d-141">**Manual** lets you export a copy of hello API definiton which can be imported using hello PowerApps or Microsoft Flow portals.</span></span> <span data-ttu-id="f465d-142">Il s’agit de hello approche recommandée si hello utilisateur Azure et hello utilisateur avec des connecteurs de toocreate d’autorisation sont différentes personnes ou si le connecteur de hello doit toobe créé dans une autre locataire.</span><span class="sxs-lookup"><span data-stu-id="f465d-142">This is hello recommended approach if hello Azure user and hello user with permission toocreate connectors are different people or if hello connector needs toobe created in another tenant.</span></span> <span data-ttu-id="f465d-143">Si vous utilisez ce mode, suivez hello [importation et exportation manuelle](#manual) instructions ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="f465d-143">If using this mode, follow hello [Manual export and import](#manual) instructions below.</span></span>

<a name="express"></a>
## <a name="express-export"></a><span data-ttu-id="f465d-144">Mode d’exportation express</span><span class="sxs-lookup"><span data-stu-id="f465d-144">Express export</span></span>

<span data-ttu-id="f465d-145">Dans cette section, vous allez créer un nouveau connecteur personnalisé à partir de hello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="f465d-145">In this section, you will create a new custom connector from within hello Azure portal.</span></span> <span data-ttu-id="f465d-146">Vous devez être connecté en hello client toowhich vous souhaitez tooexport, et vous devez avoir toocreate d’autorisation à un connecteur personnalisé dans l’environnement cible de hello.</span><span class="sxs-lookup"><span data-stu-id="f465d-146">You must be logged into hello tenant toowhich you wish tooexport, and you must have permission toocreate a custom connector in hello target environment.</span></span>

1. <span data-ttu-id="f465d-147">Sélectionnez l’environnement hello dans lequel vous souhaitez que le connecteur de hello toocreate.</span><span class="sxs-lookup"><span data-stu-id="f465d-147">Select hello environment in which you would like toocreate hello connector.</span></span> <span data-ttu-id="f465d-148">Puis, indiquez un nom pour votre connecteur personnalisé.</span><span class="sxs-lookup"><span data-stu-id="f465d-148">Then provide a name for your custom connector.</span></span>

2. <span data-ttu-id="f465d-149">Si votre définition de l’API comprend des définitions de sécurité, elles seront exigées à l’étape n° 2.</span><span class="sxs-lookup"><span data-stu-id="f465d-149">If your API definition includes any security definitions, these will be called out in step #2.</span></span> <span data-ttu-id="f465d-150">Si nécessaire, sécuriser hello détails de la configuration des utilisateurs de toogrant d’accès nécessaire tooyour API.</span><span class="sxs-lookup"><span data-stu-id="f465d-150">If required, provide hello security configuration details needed toogrant users access tooyour API.</span></span> <span data-ttu-id="f465d-151">Pour en savoir plus, consultez la section [Authentification](#auth) plus bas.</span><span class="sxs-lookup"><span data-stu-id="f465d-151">For more information, see [Authentication](#auth) below.</span></span> 

3. <span data-ttu-id="f465d-152">Cliquez sur **OK** toocreate votre lien personnalisé.</span><span class="sxs-lookup"><span data-stu-id="f465d-152">Click **OK** toocreate your custom connector.</span></span>


<a name="manual"></a>
## <a name="manual-export-and-import"></a><span data-ttu-id="f465d-153">Mode d’exportation et d’importation manuel</span><span class="sxs-lookup"><span data-stu-id="f465d-153">Manual export and import</span></span>

<span data-ttu-id="f465d-154">Dans l’ordre toocreate un connecteur personnalisé pour un site web, mobile, API ou d’application de la fonction, les deux étapes seront nécessaires :</span><span class="sxs-lookup"><span data-stu-id="f465d-154">In order toocreate a custom connector for a web, mobile, API, or function app, two steps will be needed:</span></span>

1. [<span data-ttu-id="f465d-155">La récupération de la définition de l’API hello à partir du Service d’applications ou des fonctions d’Azure</span><span class="sxs-lookup"><span data-stu-id="f465d-155">Retrieving hello API definition from App Service or Azure Functions</span></span>](#export)
2. [<span data-ttu-id="f465d-156">L’importation de la définition de l’API hello dans PowerApps et Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="f465d-156">Importing hello API definition into PowerApps and Microsoft Flow</span></span>](#import)

<span data-ttu-id="f465d-157">Il est possible que ces deux étapes devez toobe effectué par différentes personnes au sein d’une organisation, comme un utilisateur donné ne peut pas avoir tooperform d’autorisation les deux actions.</span><span class="sxs-lookup"><span data-stu-id="f465d-157">It is possible that these two steps will need toobe carried out by separate individuals within an organization, as a given user may not have permission tooperform both actions.</span></span> <span data-ttu-id="f465d-158">Dans ce cas, un développeur qui a des collaborateurs accès toohello application du Service d’applications ou les fonctions Azure devez définition de hello API tooobtain (un seul fichier JSON) ou un tooit de lien.</span><span class="sxs-lookup"><span data-stu-id="f465d-158">In this case, a developer who has contributor access toohello App Service or Azure Functions application will need tooobtain hello API definition (a single JSON file) or a link tooit.</span></span> <span data-ttu-id="f465d-159">Ils devront à tooprovide puis lequel définition tooa PowerApps ou Microsoft Flow le propriétaire.</span><span class="sxs-lookup"><span data-stu-id="f465d-159">They will then need tooprovide that definition tooa PowerApps or Microsoft Flow owner.</span></span> <span data-ttu-id="f465d-160">Peut utiliser ce lien personnalisé de hello métadonnées toocreate hello.</span><span class="sxs-lookup"><span data-stu-id="f465d-160">That owner can use hello metadata toocreate hello custom connector.</span></span>

<a name="export"></a>
### <a name="retrieving-hello-api-definition-from-app-service-or-azure-functions"></a><span data-ttu-id="f465d-161">La récupération de la définition de l’API hello à partir du Service d’applications ou des fonctions d’Azure</span><span class="sxs-lookup"><span data-stu-id="f465d-161">Retrieving hello API definition from App Service or Azure Functions</span></span>

<span data-ttu-id="f465d-162">Dans cette section, vous allez exporter la définition de l’API hello votre API de Service d’application, toobe utilisé ultérieurement dans le portail de PowerApps ou Microsoft Flow hello.</span><span class="sxs-lookup"><span data-stu-id="f465d-162">In this section, you will export hello API definition for your App Service API, toobe used later in hello PowerApps or Microsoft Flow portal.</span></span>

1. <span data-ttu-id="f465d-163">Vous pouvez choisir tooeither **télécharger hello API définition** ou **obtenir un lien**.</span><span class="sxs-lookup"><span data-stu-id="f465d-163">You can choose tooeither **Download hello API definition** or **Get a link**.</span></span> <span data-ttu-id="f465d-164">Selon que vous choisissez, le résultat de hello sera fournie dans la section suivante de hello.</span><span class="sxs-lookup"><span data-stu-id="f465d-164">Whichever you choose, hello result will be provided in hello next section.</span></span> <span data-ttu-id="f465d-165">Sélectionnez une de ces options et suivez les instructions de hello.</span><span class="sxs-lookup"><span data-stu-id="f465d-165">Select one of these options and follow hello instructions.</span></span>
 
2. <span data-ttu-id="f465d-166">Si votre définition de l’API comprend des définitions de sécurité, elles seront exigées à l’étape n° 2.</span><span class="sxs-lookup"><span data-stu-id="f465d-166">If your API definition includes any security definitions, these will be called out in step #2.</span></span> <span data-ttu-id="f465d-167">Lors de l’importation, PowerApps et Microsoft Flow détecteront ces définitions et demanderont les informations de sécurité.</span><span class="sxs-lookup"><span data-stu-id="f465d-167">During import, PowerApps and Microsoft Flow will detect these and will prompt for security information.</span></span> <span data-ttu-id="f465d-168">Rassemblez hello informations d’identification associées tooeach définition pour une utilisation dans la section suivante de hello.</span><span class="sxs-lookup"><span data-stu-id="f465d-168">Gather hello credentials related tooeach definition for use in hello next section.</span></span> <span data-ttu-id="f465d-169">Pour en savoir plus, consultez la section [Authentification](#auth) plus bas.</span><span class="sxs-lookup"><span data-stu-id="f465d-169">For more information, see [Authentication](#auth) below.</span></span> 

<a name="import"></a>
### <a name="importing-hello-api-definition-into-powerapps-and-microsoft-flow"></a><span data-ttu-id="f465d-170">L’importation de la définition de l’API hello dans PowerApps et Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="f465d-170">Importing hello API definition into PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="f465d-171">Dans cette section, vous allez créer un connecteur personnalisé dans PowerApps et Microsoft Flow à l’aide de la définition de hello API obtenue précédemment.</span><span class="sxs-lookup"><span data-stu-id="f465d-171">In this section, you will create a custom connector in PowerApps and Microsoft Flow using hello API definition obtained earlier.</span></span> <span data-ttu-id="f465d-172">Connecteurs personnalisés sont partagés entre hello deux services, il suffit de définition de hello tooimport qu’une seule fois.</span><span class="sxs-lookup"><span data-stu-id="f465d-172">Custom connectors are shared between hello two services, so you only need tooimport hello definition once.</span></span> <span data-ttu-id="f465d-173">Pour plus d’informations sur les connecteurs personnalisés, consultez [enregistrer et utiliser des connecteurs personnalisés dans PowerApps] et [enregistrer et utiliser des connecteurs personnalisés dans Microsoft Flow].</span><span class="sxs-lookup"><span data-stu-id="f465d-173">For more information on custom connectors, see [Register and use custom connectors in PowerApps] and [Register and use custom connectors in Microsoft Flow].</span></span>

1. <span data-ttu-id="f465d-174">Ouvrez hello [portail web de Powerapps](https://web.powerapps.com) ou hello [portail web de Microsoft Flow](https://flow.microsoft.com/)et vous connecter.</span><span class="sxs-lookup"><span data-stu-id="f465d-174">Open hello [Powerapps web portal](https://web.powerapps.com) or hello [Microsoft Flow web portal](https://flow.microsoft.com/), and sign in.</span></span> 

2. <span data-ttu-id="f465d-175">Cliquez sur hello **paramètres** bouton (icône d’engrenage hello) hello en haut à droite de la page de hello et sélectionnez **les connecteurs personnalisé**.</span><span class="sxs-lookup"><span data-stu-id="f465d-175">Click hello **Settings** button (hello gear icon) at hello upper right of hello page and select **Custom connectors**.</span></span> 

3. <span data-ttu-id="f465d-176">Cliquez sur **Créer un connecteur personnalisé**.</span><span class="sxs-lookup"><span data-stu-id="f465d-176">Click **Create custom connector**.</span></span>

4. <span data-ttu-id="f465d-177">Sur hello **général** onglet, fournissez un nom pour votre API et puis télécharger la définition de OpenAPI hello ou collez dans l’URL de métadonnées hello.</span><span class="sxs-lookup"><span data-stu-id="f465d-177">On hello **General** tab, provide a name for your API, and then upload hello OpenAPI definition or paste in hello metadata URL.</span></span> <span data-ttu-id="f465d-178">Cliquez sur **Continuer**.</span><span class="sxs-lookup"><span data-stu-id="f465d-178">Click **Continue**.</span></span>

4. <span data-ttu-id="f465d-179">Sur hello **sécurité** sous l’onglet si vous n’êtes plus d’informations d’authentification demandées tooprovide, entrez les valeurs hello obtenus dans la section précédente de hello.</span><span class="sxs-lookup"><span data-stu-id="f465d-179">On hello **Security** tab, if you are prompted tooprovide authentication details, enter hello values obtained in hello previous section.</span></span> <span data-ttu-id="f465d-180">Dans le cas contraire, passez toohello prochaine étape.</span><span class="sxs-lookup"><span data-stu-id="f465d-180">If not, proceed toohello next step.</span></span>

5. <span data-ttu-id="f465d-181">Sur hello **définitions** onglet, toutes les opérations de hello définies dans votre fichier OpenAPI sont remplis automatiquement.</span><span class="sxs-lookup"><span data-stu-id="f465d-181">On hello **Definitions** tab, all hello operations defined in your OpenAPI file are auto-populated.</span></span> <span data-ttu-id="f465d-182">Si toutes vos opérations requises sont définies, vous pouvez accéder toohello prochaine étape.</span><span class="sxs-lookup"><span data-stu-id="f465d-182">If all your required operations are defined, you can go toohello next step.</span></span> <span data-ttu-id="f465d-183">Si ce n’est pas le cas, vous pouvez ajouter et modifier les opérations ici.</span><span class="sxs-lookup"><span data-stu-id="f465d-183">If not, you can add and modify operations here.</span></span>

6. <span data-ttu-id="f465d-184">Cliquez sur **Créer un connecteur**.</span><span class="sxs-lookup"><span data-stu-id="f465d-184">Click **Create connector**.</span></span> <span data-ttu-id="f465d-185">Si vous souhaitez que les appels d’API tootest, accédez à toohello prochaine étape.</span><span class="sxs-lookup"><span data-stu-id="f465d-185">If you want tootest API calls, go toohello next step.</span></span>

7. <span data-ttu-id="f465d-186">Sur hello **Test** , créer une connexion, sélectionnez une opération tootest et entrez les données requises par l’opération de hello.</span><span class="sxs-lookup"><span data-stu-id="f465d-186">On hello **Test** tab, create a connection, select an operation tootest, and enter any data required by hello operation.</span></span>

8. <span data-ttu-id="f465d-187">Cliquez sur **Test de fonctionnement**.</span><span class="sxs-lookup"><span data-stu-id="f465d-187">Click **Test operation**.</span></span>


<a name="auth"></a>
## <a name="authentication"></a><span data-ttu-id="f465d-188">Authentification</span><span class="sxs-lookup"><span data-stu-id="f465d-188">Authentication</span></span>

<span data-ttu-id="f465d-189">PowerApps et Microsoft Flow prend en charge une collection de fournisseurs d’identité qui peut être toolog utilisé dans les utilisateurs de votre lien personnalisé.</span><span class="sxs-lookup"><span data-stu-id="f465d-189">PowerApps and Microsoft Flow natively support a collection of identity providers which can be used toolog in users of your custom connector.</span></span> <span data-ttu-id="f465d-190">Si votre API nécessite une authentification, assurez-vous qu’elle est capturée en tant que _définition de sécurité_ dans votre document Open API.</span><span class="sxs-lookup"><span data-stu-id="f465d-190">If your API requires authentication, ensure that it is captured as a _security definition_ in your OpenAPI document.</span></span> <span data-ttu-id="f465d-191">Pendant l’exportation, vous aurez besoin des valeurs de configuration tooprovide permettent à une action d’ouverture de session Microsoft Flow tooperform PowerApps.</span><span class="sxs-lookup"><span data-stu-id="f465d-191">During export, you will need tooprovide configuration values that allow PowerApps an Microsoft Flow tooperform login actions.</span></span>

<span data-ttu-id="f465d-192">Cette section traite des types d’authentification hello qui sont pris en charge par le flux de hello express : clé API, Azure Active Directory et générique OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="f465d-192">This section covers hello authentication types which are supported by hello express flow: API key, Azure Active Directory, and Generic OAuth 2.0.</span></span> <span data-ttu-id="f465d-193">Pour obtenir une liste complète des fournisseurs et des informations d’identification hello chacune nécessite, consultez [enregistrer et utiliser des connecteurs personnalisés dans PowerApps] et [enregistrer et utiliser des connecteurs personnalisés dans Microsoft Flow].</span><span class="sxs-lookup"><span data-stu-id="f465d-193">For a complete list of providers and hello credentials each requires, see [Register and use custom connectors in PowerApps] and [Register and use custom connectors in Microsoft Flow].</span></span>

### <a name="api-key"></a><span data-ttu-id="f465d-194">Clé API</span><span class="sxs-lookup"><span data-stu-id="f465d-194">API key</span></span>
<span data-ttu-id="f465d-195">Lorsque cette méthode de sécurité est utilisée, hello de votre connecteur pourront clé de hello tooprovide demandées lorsqu’ils créent une connexion.</span><span class="sxs-lookup"><span data-stu-id="f465d-195">When this security scheme is used, hello users of your connector will be prompted tooprovide hello key when they create a connection.</span></span> <span data-ttu-id="f465d-196">Vous pouvez fournir une toohelp de nom de la clé d’API que leur savoir quelle clé est nécessaire.</span><span class="sxs-lookup"><span data-stu-id="f465d-196">You can provide an API key name toohelp them know which key is needed.</span></span> <span data-ttu-id="f465d-197">Pour les fonctions d’Azure, il s’agit généralement une des clés d’hôte hello, couvrant plusieurs fonctions au sein de l’application de fonction hello.</span><span class="sxs-lookup"><span data-stu-id="f465d-197">For Azure Functions, this will typically be one of hello host keys, covering several functions within hello function app.</span></span>

### <a name="azure-active-directory"></a><span data-ttu-id="f465d-198">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="f465d-198">Azure Active Directory</span></span>
<span data-ttu-id="f465d-199">Lorsque vous configurez un connecteur personnalisé qui requiert une connexion d’AAD, deux inscriptions d’application AAD sont nécessaires : une API de serveur principal toomodel hello et d’un connecteur de hello toomodel dans PowerApps et le flux.</span><span class="sxs-lookup"><span data-stu-id="f465d-199">When configuring a custom connector that requires AAD login, two AAD application registrations are required: one toomodel hello backend API, and one toomodel hello connector in PowerApps and Flow.</span></span>

<span data-ttu-id="f465d-200">Votre API doit être configuré toowork avec la première inscription à hello et ce sera déjà être prises en charge si vous avez utilisé hello [d’authentification/autorisation du Service application](https://docs.microsoft.com/azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication) fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="f465d-200">Your API should be configured toowork with hello first registration, and this will already be taken care of if you used hello [App Service Authentication/Authorization](https://docs.microsoft.com/azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication) feature.</span></span>

<span data-ttu-id="f465d-201">Vous devez toomanually créer l’enregistrement du deuxième hello pour le connecteur de hello, à l’aide des étapes hello traitées dans [Ajout d’une application AAD](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span><span class="sxs-lookup"><span data-stu-id="f465d-201">You will have toomanually create hello second registration for hello connector, using hello steps covered in [Adding an AAD application](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span></span> <span data-ttu-id="f465d-202">Hello l’inscription doit toohave déléguée accès tooyour API et une URL de réponse de `https://msmanaged-na.consent.azure-apim.net/redirect`.</span><span class="sxs-lookup"><span data-stu-id="f465d-202">hello registration needs toohave delegated access tooyour API and a reply URL of `https://msmanaged-na.consent.azure-apim.net/redirect`.</span></span> <span data-ttu-id="f465d-203">Consultez [cet exemple](
https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) pour plus de détails, en remplaçant votre API pour hello Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="f465d-203">Please see [this example](
https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) for more detail, substituting your API for hello Azure Resource Manager.</span></span>

<span data-ttu-id="f465d-204">Hello, les valeurs de configuration suivantes est requise :</span><span class="sxs-lookup"><span data-stu-id="f465d-204">hello following configuration values are required:</span></span>
- <span data-ttu-id="f465d-205">**ID client** -hello ID client de votre inscription auprès d’AAD du connecteur</span><span class="sxs-lookup"><span data-stu-id="f465d-205">**Client ID** - hello client ID of your connector AAD registration</span></span>
- <span data-ttu-id="f465d-206">**Clé secrète client** -question secrète du client hello de votre inscription auprès d’AAD du connecteur</span><span class="sxs-lookup"><span data-stu-id="f465d-206">**Client secret** - hello client secret of your connector AAD registration</span></span>
- <span data-ttu-id="f465d-207">**URL de connexion** hello - URL de base pour AAD.</span><span class="sxs-lookup"><span data-stu-id="f465d-207">**Login URL** - hello base URL for AAD.</span></span> <span data-ttu-id="f465d-208">Dans Azure public, il s’agit généralement de `https://login.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="f465d-208">In public Azure, this will typically be `https://login.windows.net`.</span></span>
- <span data-ttu-id="f465d-209">**ID de locataire** -hello ID de hello client toobe est utilisé pour la connexion de hello.</span><span class="sxs-lookup"><span data-stu-id="f465d-209">**Tenant ID** - hello ID of hello tenant toobe used for hello login.</span></span> <span data-ttu-id="f465d-210">Doit être « commune » ou hello ID du client hello dans le hello connecteur est en cours de création.</span><span class="sxs-lookup"><span data-stu-id="f465d-210">This should be "common" or hello ID of hello tenant in which hello connector is being created.</span></span>
- <span data-ttu-id="f465d-211">**URL de ressource** -hello URL de ressource de l’enregistrement AAD API principal</span><span class="sxs-lookup"><span data-stu-id="f465d-211">**Resource URL** - hello resource URL of your API backend AAD registration</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f465d-212">Si une autre personne sera importer la définition de hello API dans PowerApps et Microsoft Flow dans le cadre du flux de hello manuelle, vous devez tooprovide avec hello client et ID de clé secrète du client **de l’inscription du connecteur de hello**, ainsi que en tant qu’URL de ressource hello de votre API.</span><span class="sxs-lookup"><span data-stu-id="f465d-212">If another individual will be importing hello API definition into PowerApps and Microsoft Flow as part of hello manual flow, you will need tooprovide them with hello client ID and client secret **of hello connector registration**, as well as hello resource URL of your API.</span></span> <span data-ttu-id="f465d-213">Assurez-vous que ces informations secrètes sont gérées de façon sécurisée.</span><span class="sxs-lookup"><span data-stu-id="f465d-213">Make sure that these secrets are managed securely.</span></span> <span data-ttu-id="f465d-214">**Ne partagez pas les informations d’identification de sécurité hello Hello API elle-même.**</span><span class="sxs-lookup"><span data-stu-id="f465d-214">**Do not share hello security credentials of hello API itself.**</span></span>

### <a name="generic-oauth-20"></a><span data-ttu-id="f465d-215">Generic OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="f465d-215">Generic OAuth 2.0</span></span>
<span data-ttu-id="f465d-216">prise en charge OAuth 2.0 générique Hello vous permet de toointegrate avec n’importe quel fournisseur OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="f465d-216">hello generic OAuth 2.0 support allows you toointegrate with any OAuth 2.0 provider.</span></span> <span data-ttu-id="f465d-217">Ainsi, vous toobring dans n’importe quel fournisseur personnalisé qui n’est pas pris en charge en mode natif.</span><span class="sxs-lookup"><span data-stu-id="f465d-217">This allows you toobring in any custom provider which is not natively supported.</span></span>

<span data-ttu-id="f465d-218">Hello, les valeurs de configuration suivantes est requise :</span><span class="sxs-lookup"><span data-stu-id="f465d-218">hello following configuration values are required:</span></span>
- <span data-ttu-id="f465d-219">**ID client** -hello ID de client OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="f465d-219">**Client ID** - hello OAuth 2.0 client ID</span></span>
- <span data-ttu-id="f465d-220">**Clé secrète client** -question secrète du client hello OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="f465d-220">**Client secret** - hello OAuth 2.0 client secret</span></span>
- <span data-ttu-id="f465d-221">**URL d’autorisation** -hello URL d’autorisation OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="f465d-221">**Authorization URL** - hello OAuth 2.0 authorization URL</span></span>
- <span data-ttu-id="f465d-222">**URL de jeton** -hello URL de jeton OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="f465d-222">**Token URL** - hello OAuth 2.0 token URL</span></span>
- <span data-ttu-id="f465d-223">**Actualiser les URL** -hello URL d’actualisation OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="f465d-223">**Refresh URL** - hello OAuth 2.0 refresh URL</span></span>



[enregistrer et utiliser des connecteurs personnalisés dans PowerApps]: https://powerapps.microsoft.com/tutorials/register-custom-api/
[enregistrer et utiliser des connecteurs personnalisés dans Microsoft Flow]: https://flow.microsoft.com/documentation/register-custom-api/
