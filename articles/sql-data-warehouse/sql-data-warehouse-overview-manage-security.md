---
title: "aaaSecure une base de données SQL Data Warehouse | Documents Microsoft"
description: "Conseils relatifs à la sécurisation d’une base de données dans Microsoft Azure SQL Data Warehouse, dans le cadre du développement de solutions."
services: sql-data-warehouse
documentationcenter: NA
author: ronortloff
manager: jhubbard
editor: 
ms.assetid: 8fa2f5ca-4cf5-4418-99a2-4dc745799850
ms.service: sql-data-warehouse
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.custom: security
ms.date: 10/31/2016
ms.author: rortloff;barbkess
ms.openlocfilehash: 5ef4d760e00be46bfe7808bc95dbe1e4b3a51165
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="secure-a-database-in-sql-data-warehouse"></a><span data-ttu-id="4d0e9-103">Sécuriser une base de données dans SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="4d0e9-103">Secure a database in SQL Data Warehouse</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="4d0e9-104">Présentation de la sécurité</span><span class="sxs-lookup"><span data-stu-id="4d0e9-104">Security Overview</span></span>](sql-data-warehouse-overview-manage-security.md)
> * [<span data-ttu-id="4d0e9-105">Authentification</span><span class="sxs-lookup"><span data-stu-id="4d0e9-105">Authentication</span></span>](sql-data-warehouse-authentication.md)
> * [<span data-ttu-id="4d0e9-106">Chiffrement (portail)</span><span class="sxs-lookup"><span data-stu-id="4d0e9-106">Encryption (Portal)</span></span>](sql-data-warehouse-encryption-tde.md)
> * [<span data-ttu-id="4d0e9-107">Chiffrement (T-SQL)</span><span class="sxs-lookup"><span data-stu-id="4d0e9-107">Encryption (T-SQL)</span></span>](sql-data-warehouse-encryption-tde-tsql.md)
> 
> 

<span data-ttu-id="4d0e9-108">Cet article explique les concepts de base hello de la sécurisation de votre base de données de l’entrepôt de données SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-108">This article walks through hello basics of securing your Azure SQL Data Warehouse database.</span></span> <span data-ttu-id="4d0e9-109">Plus spécifiquement, cet article vous offre un aperçu sur les ressources dédiées à la limitation de l’accès, à la protection des données et à la surveillance des activités sur une base de données.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-109">In particular, this article will get you started with resources for limiting access, protecting data, and monitoring activities on a database.</span></span>

## <a name="connection-security"></a><span data-ttu-id="4d0e9-110">Sécurité de la connexion</span><span class="sxs-lookup"><span data-stu-id="4d0e9-110">Connection security</span></span>
<span data-ttu-id="4d0e9-111">Sécurité de connexion fait référence à toohow vous limitez et sécurisez les connexions tooyour base de données à l’aide de règles de pare-feu et de chiffrement de la connexion.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-111">Connection Security refers toohow you restrict and secure connections tooyour database using firewall rules and connection encryption.</span></span>

<span data-ttu-id="4d0e9-112">Règles de pare-feu sont utilisés par les deux hello hello et serveur de base de données tooreject tentatives de connexion à partir d’adresses IP qui n’ont pas été explicitement dans la liste approuvée.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-112">Firewall rules are used by both hello server and hello database tooreject connection attempts from IP addresses that have not been explicitly whitelisted.</span></span> <span data-ttu-id="4d0e9-113">tooallow des connexions à partir de votre application ou l’adresse IP publique de l’ordinateur client, vous devez d’abord créer une règle de pare-feu de niveau serveur à l’aide de hello portail Azure, les API REST ou PowerShell.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-113">tooallow connections from your application or client machine's public IP address, you must first create a server-level firewall rule using hello Azure Portal, REST API, or PowerShell.</span></span> <span data-ttu-id="4d0e9-114">Comme meilleure pratique, vous devez restreindre les plages d’adresses IP hello autorisés via le pare-feu de votre serveur autant que possibles.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-114">As a best practice, you should restrict hello IP address ranges allowed through your server firewall as much as possible.</span></span>  <span data-ttu-id="4d0e9-115">tooaccess Azure SQL Data Warehouse à partir de votre ordinateur local, assurez-vous que le pare-feu hello sur votre réseau et l’ordinateur local autorise les communications sortantes sur le port TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-115">tooaccess Azure SQL Data Warehouse from your local computer, ensure hello firewall on your network and local computer allows outgoing communication on TCP port 1433.</span></span>  <span data-ttu-id="4d0e9-116">Pour plus d’informations, consultez [Pare-feu d’Azure SQL Database][Azure SQL Database firewall], [sp_set_firewall_rule][sp_set_firewall_rule] et [sp_set_database_firewall_rule][sp_set_database_firewall_rule].</span><span class="sxs-lookup"><span data-stu-id="4d0e9-116">For more information, see [Azure SQL Database firewall][Azure SQL Database firewall], [sp_set_firewall_rule][sp_set_firewall_rule], and [sp_set_database_firewall_rule][sp_set_database_firewall_rule].</span></span>

<span data-ttu-id="4d0e9-117">Connexions tooyour SQL Data Warehouse sont chiffrées par défaut.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-117">Connections tooyour SQL Data Warehouse are encrypted by default.</span></span>  <span data-ttu-id="4d0e9-118">Chiffrement modification toodisable des paramètres de connexion sont ignorés.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-118">Modifying connection settings toodisable encryption are ignored.</span></span>

## <a name="authentication"></a><span data-ttu-id="4d0e9-119">Authentification</span><span class="sxs-lookup"><span data-stu-id="4d0e9-119">Authentication</span></span>
<span data-ttu-id="4d0e9-120">L’authentification fait référence toohow vous prouver votre identité lors de la connexion de base de données toohello.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-120">Authentication refers toohow you prove your identity when connecting toohello database.</span></span> <span data-ttu-id="4d0e9-121">SQL Data Warehouse prend actuellement en charge l’authentification SQL Server avec un nom d’utilisateur et un mot de passe, ainsi qu’Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-121">SQL Data Warehouse currently supports SQL Server Authentication with a username and password as well as a Azure Active Directory.</span></span> 

<span data-ttu-id="4d0e9-122">Lorsque vous avez créé un serveur logique de hello pour votre base de données, vous avez spécifié un compte de connexion « server admin » avec un nom d’utilisateur et un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-122">When you created hello logical server for your database, you specified a "server admin" login with a username and password.</span></span> <span data-ttu-id="4d0e9-123">À l’aide de ces informations d’identification, vous pouvez authentifier tooany de base de données sur ce serveur en tant que propriétaire de base de données hello ou « dbo » via l’authentification SQL Server.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-123">Using these credentials, you can authenticate tooany database on that server as hello database owner, or "dbo" through SQL Server Authentication.</span></span>

<span data-ttu-id="4d0e9-124">Toutefois, comme il est recommandé aux utilisateurs de votre organisation doivent utiliser un compte différent de tooauthenticate.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-124">However, as a best practice, your organization’s users should use a different account tooauthenticate.</span></span> <span data-ttu-id="4d0e9-125">De cette manière, vous pouvez limiter les autorisations hello toohello application et réduire les risques de hello d’activités malveillantes au cas où votre code d’application est d’attaque par injection de SQL tooa vulnérable.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-125">This way you can limit hello permissions granted toohello application and reduce hello risks of malicious activity in case your application code is vulnerable tooa SQL injection attack.</span></span> 

<span data-ttu-id="4d0e9-126">toocreate un utilisateur authentifié de SQL Server, connexion toohello **master** sur votre serveur avec votre connexion d’administrateur de serveur de base de données et créez une nouvelle connexion serveur.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-126">toocreate a SQL Server Authenticated user, connect toohello **master** database on your server with your server admin login and create a new server login.</span></span>  <span data-ttu-id="4d0e9-127">En outre, il est une bonne idée de toocreate un utilisateur dans la base de données master hello pour les utilisateurs d’Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-127">Additionally, it is a good idea toocreate a user in hello master database for Azure SQL Data Warehouse users.</span></span> <span data-ttu-id="4d0e9-128">Création d’un utilisateur dans master permet une toologin d’utilisateur à l’aide des outils tels que SSMS sans spécifier un nom de base de données.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-128">Creating a user in master allows a user toologin using tools like SSMS without specifying a database name.</span></span>  <span data-ttu-id="4d0e9-129">Cela leur permet également toouse hello objet explorer tooview toutes les bases de données sur un serveur SQL server.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-129">It also allows them toouse hello object explorer tooview all databases on a SQL server.</span></span>

```sql
-- Connect toomaster database and create a login
CREATE LOGIN ApplicationLogin WITH PASSWORD = 'Str0ng_password';
CREATE USER ApplicationUser FOR LOGIN ApplicationLogin;
```

<span data-ttu-id="4d0e9-130">Puis, connectez tooyour **base de données SQL Data Warehouse** avec votre connexion d’administration de serveur et créez un utilisateur de base de données en fonction de la connexion au serveur hello vous venez de créer.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-130">Then, connect tooyour **SQL Data Warehouse database** with your server admin login and create a database user based on hello server login you just created.</span></span>

```sql
-- Connect tooSQL DW database and create a database user
CREATE USER ApplicationUser FOR LOGIN ApplicationLogin;
```

<span data-ttu-id="4d0e9-131">Si un utilisateur prévoyez d’effectuer des opérations supplémentaires telles que la création de connexions ou la création de nouvelles bases de données, ils devront également toobe affecté toohello `Loginmanager` et `dbmanager` rôles dans la base de données master hello.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-131">If a user will be doing additional operations such as creating logins or creating new databases, they will also need toobe assigned toohello `Loginmanager` and `dbmanager` roles in hello master database.</span></span> <span data-ttu-id="4d0e9-132">Pour plus d’informations sur ces autres rôles et l’authentification tooa de base de données SQL, consultez [gestion des bases de données et des connexions dans la base de données SQL Azure][Managing databases and logins in Azure SQL Database].</span><span class="sxs-lookup"><span data-stu-id="4d0e9-132">For more information on these additonal roles and authenticating tooa SQL Database, see [Managing databases and logins in Azure SQL Database][Managing databases and logins in Azure SQL Database].</span></span>  <span data-ttu-id="4d0e9-133">Pour plus d’informations sur Azure AD pour l’entrepôt de données SQL, consultez [connexion tooSQL données entrepôt par à l’aide d’authentification Azure Active Directory][Connecting tooSQL Data Warehouse By Using Azure Active Directory Authentication].</span><span class="sxs-lookup"><span data-stu-id="4d0e9-133">For more details on Azure AD for SQL Data Warehouse, see [Connecting tooSQL Data Warehouse By Using Azure Active Directory Authentication][Connecting tooSQL Data Warehouse By Using Azure Active Directory Authentication].</span></span>

## <a name="authorization"></a><span data-ttu-id="4d0e9-134">Autorisation</span><span class="sxs-lookup"><span data-stu-id="4d0e9-134">Authorization</span></span>
<span data-ttu-id="4d0e9-135">Autorisation fait référence toowhat vous pouvez effectuer dans une base de données Azure SQL Data Warehouse, et cela est contrôlé par les autorisations et les appartenances aux rôles de votre compte d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-135">Authorization refers toowhat you can do within an Azure SQL Data Warehouse database, and this is controlled by your user account's role memberships and permissions.</span></span> <span data-ttu-id="4d0e9-136">Comme meilleure pratique, vous devriez hello d’utilisateurs des privilèges minimaux nécessaires.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-136">As a best practice, you should grant users hello least privileges necessary.</span></span> <span data-ttu-id="4d0e9-137">Azure SQL Data Warehouse rend cette toomanage facile avec les rôles dans T-SQL :</span><span class="sxs-lookup"><span data-stu-id="4d0e9-137">Azure SQL Data Warehouse makes this easy toomanage with roles in T-SQL:</span></span>

```sql
EXEC sp_addrolemember 'db_datareader', 'ApplicationUser'; -- allows ApplicationUser tooread data
EXEC sp_addrolemember 'db_datawriter', 'ApplicationUser'; -- allows ApplicationUser toowrite data
```

<span data-ttu-id="4d0e9-138">compte d’administrateur de serveur Hello que vous connectez à l’aide est un membre de db_owner ayant autorité toodo quoi que ce soit dans la base de données hello.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-138">hello server admin account you are connecting with is a member of db_owner, which has authority toodo anything within hello database.</span></span> <span data-ttu-id="4d0e9-139">Enregistrez ce compte pour l’utiliser lors du déploiement des mises à niveau de schéma et d’autres opérations de gestion.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-139">Save this account for deploying schema upgrades and other management operations.</span></span> <span data-ttu-id="4d0e9-140">Utiliser le compte de « ApplicationUser » de hello avec tooconnect d’autorisations plus limitée à partir de votre base de données application toohello avec hello des privilèges minimaux requis par votre application.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-140">Use hello "ApplicationUser" account with more limited permissions tooconnect from your application toohello database with hello least privileges needed by your application.</span></span>

<span data-ttu-id="4d0e9-141">Il existe façons toofurther limite un utilisateur peut faire avec la base de données SQL Azure :</span><span class="sxs-lookup"><span data-stu-id="4d0e9-141">There are ways toofurther limit what a user can do with Azure SQL Database:</span></span>

* <span data-ttu-id="4d0e9-142">Niveau de granularité [autorisations] [ Permissions] vous permettent de contrôle les opérations que vous pouvez sur des colonnes, tables, vues, procédures et autres objets de base de données hello.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-142">Granular [Permissions][Permissions] let you control which operations you can do on individual columns, tables, views, procedures, and other objects in hello database.</span></span> <span data-ttu-id="4d0e9-143">Utilisation des autorisations granulaires toohave hello un contrôle optimal et accordez hello les autorisations minimales nécessaires.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-143">Use granular permissions toohave hello most control and grant hello minimum permissions necessary.</span></span> <span data-ttu-id="4d0e9-144">système d’autorisation granulaire Hello est quelque peu complexe et nécessite quelques toouse étude efficacement.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-144">hello granular permission system is somewhat complicated and will require some study toouse effectively.</span></span>
* <span data-ttu-id="4d0e9-145">[Rôles de base de données] [ Database roles] autres que db_datareader et db_datawriter peuvent être utilisé toocreate les comptes d’utilisateur application plus puissants ou des comptes de gestion moins puissants.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-145">[Database roles][Database roles] other than db_datareader and db_datawriter can be used toocreate more powerful application user accounts or less powerful management accounts.</span></span> <span data-ttu-id="4d0e9-146">rôles de base de données fixe intégrée Hello fournissent un moyen simple toogrant des autorisations, mais peuvent entraîner l’octroi d’autorisations plus que nécessaire.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-146">hello built-in fixed database roles provide an easy way toogrant permissions, but can result in granting more permissions than are necessary.</span></span>
* <span data-ttu-id="4d0e9-147">[Procédures stockées] [ Stored procedures] peut être utilisé toolimit actions hello qui peuvent être effectuées sur la base de données hello.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-147">[Stored procedures][Stored procedures] can be used toolimit hello actions that can be taken on hello database.</span></span>

<span data-ttu-id="4d0e9-148">Gérer des bases de données et les serveurs logiques dans hello portail classique Azure ou à l’aide des API Azure Resource Manager de hello est contrôlé par les attributions de rôles de votre compte d’utilisateur du portail.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-148">Managing databases and logical servers from hello Azure Classic Portal or using hello Azure Resource Manager API is controlled by your portal user account's role assignments.</span></span> <span data-ttu-id="4d0e9-149">Pour en savoir plus à ce sujet, consultez [Contrôle d’accès en fonction du rôle dans le portail Azure][Role-based access control in Azure Portal].</span><span class="sxs-lookup"><span data-stu-id="4d0e9-149">For more information on this topic, see [Role-based access control in Azure Portal][Role-based access control in Azure Portal].</span></span>

## <a name="encryption"></a><span data-ttu-id="4d0e9-150">Chiffrement</span><span class="sxs-lookup"><span data-stu-id="4d0e9-150">Encryption</span></span>
<span data-ttu-id="4d0e9-151">Azure SQL données entrepôt Transparent Data Encryption (TDE) protège contre les menaces hello d’activités malveillantes en effectuant le chiffrement en temps réel et déchiffrement de vos données au repos.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-151">Azure SQL Data Warehouse Transparent Data Encryption (TDE) helps protect against hello threat of malicious activity by performing real-time encryption and decryption of your data at rest.</span></span>  <span data-ttu-id="4d0e9-152">Lorsque vous chiffrez votre base de données, les sauvegardes associées et les fichiers journaux des transactions sont chiffrées sans nécessiter de toutes les applications de tooyour de modifications.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-152">When you encrypt your database, associated backups and transaction log files are encrypted without requiring any changes tooyour applications.</span></span> <span data-ttu-id="4d0e9-153">Stockage hello d’une base de données entière est chiffré à l’aide d’une clé de chiffrement de base de données hello appelée de clé symétrique.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-153">TDE encrypts hello storage of an entire database by using a symmetric key called hello database encryption key.</span></span> <span data-ttu-id="4d0e9-154">Dans la base de données SQL, clé de chiffrement de base de données hello est protégé par un certificat de serveur intégré.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-154">In SQL Database hello database encryption key is protected by a built-in server certificate.</span></span> <span data-ttu-id="4d0e9-155">certificat de serveur intégré Hello est unique pour chaque serveur de base de données SQL.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-155">hello built-in server certificate is unique for each SQL Database server.</span></span> <span data-ttu-id="4d0e9-156">Microsoft alterne automatiquement ces certificats au moins tous les 90 jours.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-156">Microsoft automatically rotates these certificates at least every 90 days.</span></span> <span data-ttu-id="4d0e9-157">algorithme de chiffrement Hello utilisé par SQL Data Warehouse est AES-256.</span><span class="sxs-lookup"><span data-stu-id="4d0e9-157">hello encryption algorithm used by SQL Data Warehouse is AES-256.</span></span> <span data-ttu-id="4d0e9-158">Pour obtenir une description générale du chiffrement transparent des données, consultez la page [Transparent Data Encryption][Transparent Data Encryption].</span><span class="sxs-lookup"><span data-stu-id="4d0e9-158">For a general description of TDE, see [Transparent Data Encryption][Transparent Data Encryption].</span></span>

<span data-ttu-id="4d0e9-159">Vous pouvez chiffrer votre base de données à l’aide de hello [Azure Portal] [ Encryption with Portal] ou [T-SQL][Encryption with TSQL].</span><span class="sxs-lookup"><span data-stu-id="4d0e9-159">You can encrypt your database using hello [Azure Portal][Encryption with Portal] or [T-SQL][Encryption with TSQL].</span></span>

## <a name="next-steps"></a><span data-ttu-id="4d0e9-160">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="4d0e9-160">Next steps</span></span>
<span data-ttu-id="4d0e9-161">Pour plus d’informations et des exemples sur la connexion tooyour SQL Data Warehouse avec différents protocoles, consultez [connecter tooSQL Data Warehouse][Connect tooSQL Data Warehouse].</span><span class="sxs-lookup"><span data-stu-id="4d0e9-161">For details and examples on connecting tooyour SQL Data Warehouse with different protocols, see [Connect tooSQL Data Warehouse][Connect tooSQL Data Warehouse].</span></span>

<!--Image references-->

<!--Article references-->
[Connect tooSQL Data Warehouse]: ./sql-data-warehouse-connect-overview.md
[Encryption with Portal]: ./sql-data-warehouse-encryption-tde.md
[Encryption with TSQL]: ./sql-data-warehouse-encryption-tde-tsql.md
[Connecting tooSQL Data Warehouse By Using Azure Active Directory Authentication]: ./sql-data-warehouse-authentication.md

<!--MSDN references-->
[Azure SQL Database firewall]: https://msdn.microsoft.com/library/ee621782.aspx
[sp_set_firewall_rule]: https://msdn.microsoft.com/library/dn270017.aspx
[sp_set_database_firewall_rule]: https://msdn.microsoft.com/library/dn270010.aspx
[Database roles]: https://msdn.microsoft.com/library/ms189121.aspx
[Managing databases and logins in Azure SQL Database]: https://msdn.microsoft.com/library/ee336235.aspx
[Permissions]: https://msdn.microsoft.com/library/ms191291.aspx
[Stored procedures]: https://msdn.microsoft.com/library/ms190782.aspx
[Transparent Data Encryption]: https://msdn.microsoft.com/library/bb934049.aspx
[Azure portal]: https://portal.azure.com/

<!--Other Web references-->
[Role-based access control in Azure Portal]: https://azure.microsoft.com/documentation/articles/role-based-access-control-configure
