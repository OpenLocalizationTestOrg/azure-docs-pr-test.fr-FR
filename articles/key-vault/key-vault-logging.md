---
title: "aaaAzure enregistrement de clé de coffre | Documents Microsoft"
description: "Utilisez ce didacticiel toohelp vous prise en main d’Azure Key Vault journalisation."
services: key-vault
documentationcenter: 
author: cabailey
manager: mbaldwin
tags: azure-resource-manager
ms.assetid: 43f96a2b-3af8-4adc-9344-bc6041fface8
ms.service: key-vault
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: hero-article
ms.date: 07/19/2017
ms.author: cabailey
ms.openlocfilehash: 38a173297948748bef45e3d857c06b50b3e21e74
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-key-vault-logging"></a><span data-ttu-id="8afc7-103">Journalisation d’Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="8afc7-103">Azure Key Vault Logging</span></span>
<span data-ttu-id="8afc7-104">Azure Key Vault est disponible dans la plupart des régions.</span><span class="sxs-lookup"><span data-stu-id="8afc7-104">Azure Key Vault is available in most regions.</span></span> <span data-ttu-id="8afc7-105">Pour plus d’informations, consultez hello [page de tarification de coffre de clés](https://azure.microsoft.com/pricing/details/key-vault/).</span><span class="sxs-lookup"><span data-stu-id="8afc7-105">For more information, see hello [Key Vault pricing page](https://azure.microsoft.com/pricing/details/key-vault/).</span></span>

## <a name="introduction"></a><span data-ttu-id="8afc7-106">Introduction</span><span class="sxs-lookup"><span data-stu-id="8afc7-106">Introduction</span></span>
<span data-ttu-id="8afc7-107">Après avoir créé un ou plusieurs coffres de clé, vous pouvez toomonitor comment et quand les coffres de votre clé sont utilisées et par qui.</span><span class="sxs-lookup"><span data-stu-id="8afc7-107">After you have created one or more key vaults, you will likely want toomonitor how and when your key vaults are accessed, and by whom.</span></span> <span data-ttu-id="8afc7-108">Pour ce faire, vous pouvez activer la journalisation du coffre de clés, ce qui permet d’enregistrer les informations dans un compte de stockage Azure que vous fournissez.</span><span class="sxs-lookup"><span data-stu-id="8afc7-108">You can do this by enabling logging for Key Vault, which saves information in an Azure storage account that you provide.</span></span> <span data-ttu-id="8afc7-109">Un nouveau conteneur nommé **insights-logs-auditevent** est automatiquement créé pour le compte de stockage spécifié, et vous pouvez utiliser ce même compte pour recueillir les journaux de plusieurs coffres de clés.</span><span class="sxs-lookup"><span data-stu-id="8afc7-109">A new container named **insights-logs-auditevent** is automatically created for your specified storage account, and you can use this same storage account for collecting logs for multiple key vaults.</span></span>

<span data-ttu-id="8afc7-110">Vous pouvez accéder à vos informations de journalisation au maximum, 10 minutes après la clé de hello coffre l’opération.</span><span class="sxs-lookup"><span data-stu-id="8afc7-110">You can access your logging information at most, 10 minutes after hello key vault operation.</span></span> <span data-ttu-id="8afc7-111">Dans la plupart des cas, ce sera plus rapide.</span><span class="sxs-lookup"><span data-stu-id="8afc7-111">In most cases, it will be quicker than this.</span></span>  <span data-ttu-id="8afc7-112">Il s’agit des tooyou toomanage vos journaux dans votre compte de stockage :</span><span class="sxs-lookup"><span data-stu-id="8afc7-112">It's up tooyou toomanage your logs in your storage account:</span></span>

* <span data-ttu-id="8afc7-113">Utilisez toosecure de méthodes de contrôle d’accès Azure standard vos journaux en limitant leur accès.</span><span class="sxs-lookup"><span data-stu-id="8afc7-113">Use standard Azure access control methods toosecure your logs by restricting who can access them.</span></span>
* <span data-ttu-id="8afc7-114">Supprimer les journaux que vous ne voulez plus tookeep dans votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="8afc7-114">Delete logs that you no longer want tookeep in your storage account.</span></span>

<span data-ttu-id="8afc7-115">Utilisez ce didacticiel toohelp vous prise en main d’Azure Key Vault journalisation, toocreate votre compte de stockage, activer la journalisation et interpréter les informations de journalisation de hello collectées.</span><span class="sxs-lookup"><span data-stu-id="8afc7-115">Use this tutorial toohelp you get started with Azure Key Vault logging, toocreate your storage account, enable logging, and interpret hello logging information collected.</span></span>  

> [!NOTE]
> <span data-ttu-id="8afc7-116">Ce didacticiel n’inclut pas les instructions relatives à la toocreate clé archivages, les clés ou les clés secrètes.</span><span class="sxs-lookup"><span data-stu-id="8afc7-116">This tutorial does not include instructions for how toocreate key vaults, keys, or secrets.</span></span> <span data-ttu-id="8afc7-117">Pour plus d’informations, consultez [Prise en main d’Azure Key Vault](key-vault-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="8afc7-117">For this information, see [Get started with Azure Key Vault](key-vault-get-started.md).</span></span> <span data-ttu-id="8afc7-118">Ou, pour obtenir des instructions de l'interface de ligne de commande interplateforme, consultez [ce didacticiel équivalent](key-vault-manage-with-cli2.md).</span><span class="sxs-lookup"><span data-stu-id="8afc7-118">Or, for Cross-Platform Command-Line Interface instructions, see [this equivalent tutorial](key-vault-manage-with-cli2.md).</span></span>
>
> <span data-ttu-id="8afc7-119">Actuellement, vous ne pouvez pas configurer le coffre de clés Azure Bonjour portail Azure.</span><span class="sxs-lookup"><span data-stu-id="8afc7-119">Currently, you cannot configure Azure Key Vault in hello Azure portal.</span></span> <span data-ttu-id="8afc7-120">Au lieu de cela, vous devez suivre ces instructions Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="8afc7-120">Instead, use these Azure PowerShell instructions.</span></span>
>
>

<span data-ttu-id="8afc7-121">Pour plus d’informations générales sur Azure Key Vault, consultez la page [Présentation d’Azure Key Vault](key-vault-whatis.md)</span><span class="sxs-lookup"><span data-stu-id="8afc7-121">For overview information about Azure Key Vault, see [What is Azure Key Vault?](key-vault-whatis.md)</span></span>

## <a name="prerequisites"></a><span data-ttu-id="8afc7-122">Composants requis</span><span class="sxs-lookup"><span data-stu-id="8afc7-122">Prerequisites</span></span>
<span data-ttu-id="8afc7-123">toocomplete ce didacticiel, vous devez avoir hello suivant :</span><span class="sxs-lookup"><span data-stu-id="8afc7-123">toocomplete this tutorial, you must have hello following:</span></span>

* <span data-ttu-id="8afc7-124">Un coffre de clés existant que vous utilisez déjà.</span><span class="sxs-lookup"><span data-stu-id="8afc7-124">An existing key vault that you have been using.</span></span>  
* <span data-ttu-id="8afc7-125">Azure PowerShell, **version 1.0.1 minimum**.</span><span class="sxs-lookup"><span data-stu-id="8afc7-125">Azure PowerShell, **minimum version of 1.0.1**.</span></span> <span data-ttu-id="8afc7-126">tooinstall Azure PowerShell et associez-le à votre abonnement Azure, consultez [comment tooinstall et configurer Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="8afc7-126">tooinstall Azure PowerShell and associate it with your Azure subscription, see [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span> <span data-ttu-id="8afc7-127">Si vous avez déjà installé Azure PowerShell et que vous ne connaissez pas la version de hello, à partir de la console de hello Azure PowerShell, tapez `(Get-Module azure -ListAvailable).Version`.</span><span class="sxs-lookup"><span data-stu-id="8afc7-127">If you have already installed Azure PowerShell and do not know hello version, from hello Azure PowerShell console, type `(Get-Module azure -ListAvailable).Version`.</span></span>  
* <span data-ttu-id="8afc7-128">Espace de stockage suffisant sur Azure pour vos journaux de coffre de clés.</span><span class="sxs-lookup"><span data-stu-id="8afc7-128">Sufficient storage on Azure for your Key Vault logs.</span></span>

## <span data-ttu-id="8afc7-129"><a id="connect"></a>Se connecter tooyour abonnements</span><span class="sxs-lookup"><span data-stu-id="8afc7-129"><a id="connect"></a>Connect tooyour subscriptions</span></span>
<span data-ttu-id="8afc7-130">Démarrer une session Azure PowerShell et connectez-vous à tooyour compte Azure avec hello de commande suivante :</span><span class="sxs-lookup"><span data-stu-id="8afc7-130">Start an Azure PowerShell session and sign in tooyour Azure account with hello following command:</span></span>  

    Login-AzureRmAccount

<span data-ttu-id="8afc7-131">Dans la fenêtre contextuelle du navigateur de hello, entrez votre nom d’utilisateur de compte Azure et un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="8afc7-131">In hello pop-up browser window, enter your Azure account user name and password.</span></span> <span data-ttu-id="8afc7-132">Azure PowerShell Obtient tous les abonnements hello qui sont associés à ce compte et par défaut, utilise hello premier.</span><span class="sxs-lookup"><span data-stu-id="8afc7-132">Azure PowerShell will get all hello subscriptions that are associated with this account and by default, uses hello first one.</span></span>

<span data-ttu-id="8afc7-133">Si vous avez plusieurs abonnements, peut-être toospecify une valeur spécifique qui a été utilisé toocreate votre coffre de clés Azure.</span><span class="sxs-lookup"><span data-stu-id="8afc7-133">If you have multiple subscriptions, you might have toospecify a specific one that was used toocreate your Azure Key Vault.</span></span> <span data-ttu-id="8afc7-134">Tapez hello suivant toosee les abonnements de hello pour votre compte :</span><span class="sxs-lookup"><span data-stu-id="8afc7-134">Type hello following toosee hello subscriptions for your account:</span></span>

    Get-AzureRmSubscription

<span data-ttu-id="8afc7-135">Ensuite, toospecify hello abonnement qui est associé à votre coffre de clés que vous se connectent, type :</span><span class="sxs-lookup"><span data-stu-id="8afc7-135">Then, toospecify hello subscription that's associated with your key vault you will be logging, type:</span></span>

    Set-AzureRmContext -SubscriptionId <subscription ID>

> [!NOTE]
> <span data-ttu-id="8afc7-136">Cette étape est importante et particulièrement utile si plusieurs abonnements sont associés à votre compte.</span><span class="sxs-lookup"><span data-stu-id="8afc7-136">This is an important step and especially helpful if you have multiple subscriptions associated with your account.</span></span> <span data-ttu-id="8afc7-137">Vous pouvez recevoir une erreur de tooregister Microsoft.Insights si cette étape est ignorée.</span><span class="sxs-lookup"><span data-stu-id="8afc7-137">You may receive an error tooregister Microsoft.Insights if this step is skipped.</span></span>
>   
>

<span data-ttu-id="8afc7-138">Pour plus d’informations sur la configuration d’Azure PowerShell, consultez [comment tooinstall et configurer Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="8afc7-138">For more information about configuring Azure PowerShell, see  [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span>

## <span data-ttu-id="8afc7-139"><a id="storage"></a>Création d’un nouveau compte de stockage pour vos journaux</span><span class="sxs-lookup"><span data-stu-id="8afc7-139"><a id="storage"></a>Create a new storage account for your logs</span></span>
<span data-ttu-id="8afc7-140">Bien que vous pouvez utiliser un compte de stockage existant pour les journaux, nous allons créer un nouveau compte de stockage qui est des journaux de coffre tooKey dédié.</span><span class="sxs-lookup"><span data-stu-id="8afc7-140">Although you can use an existing storage account for your logs, we'll create a new storage account that will be dedicated tooKey Vault logs.</span></span> <span data-ttu-id="8afc7-141">Pour plus de commodité pour nous avons toospecify cela plus tard, nous allons stocker de détails de hello dans une variable nommée **sa**.</span><span class="sxs-lookup"><span data-stu-id="8afc7-141">For convenience for when we have toospecify this later, we'll store hello details into a variable named **sa**.</span></span>

<span data-ttu-id="8afc7-142">Pour une gestion plue facile, nous utilisons également hello le même groupe de ressources comme hello contenant notre coffre de clés.</span><span class="sxs-lookup"><span data-stu-id="8afc7-142">For additional ease of management, we'll also use hello same resource group as hello one that contains our key vault.</span></span> <span data-ttu-id="8afc7-143">À partir de hello [didacticiel de mise en route](key-vault-get-started.md), ce groupe de ressources nommé **ContosoResourceGroup** et nous continuerons emplacement Asie orientale toouse hello.</span><span class="sxs-lookup"><span data-stu-id="8afc7-143">From hello [getting started tutorial](key-vault-get-started.md), this resource group is named **ContosoResourceGroup** and we'll continue toouse hello East Asia location.</span></span> <span data-ttu-id="8afc7-144">Remplacez ces valeurs par les vôtres, selon le cas :</span><span class="sxs-lookup"><span data-stu-id="8afc7-144">Substitute these values for your own, as applicable:</span></span>

    $sa = New-AzureRmStorageAccount -ResourceGroupName ContosoResourceGroup -Name contosokeyvaultlogs -Type Standard_LRS -Location 'East Asia'


> [!NOTE]
> <span data-ttu-id="8afc7-145">Si vous décidez de toouse un compte de stockage existant, elle doit utiliser hello même abonnement que votre coffre de clés et il doivent utiliser, modèle de déploiement du Gestionnaire de ressources hello, plutôt que de modèle de déploiement classique hello.</span><span class="sxs-lookup"><span data-stu-id="8afc7-145">If you decide toouse an existing storage account, it must use hello same subscription as your key vault and it must use hello Resource Manager deployment model, rather than hello Classic deployment model.</span></span>
>
>

## <span data-ttu-id="8afc7-146"><a id="identify"></a>Identifier le coffre de clés hello pour les journaux</span><span class="sxs-lookup"><span data-stu-id="8afc7-146"><a id="identify"></a>Identify hello key vault for your logs</span></span>
<span data-ttu-id="8afc7-147">Dans notre didacticiel de mise en route, le nom de notre coffre de clés a été **ContosoKeyVault**, donc nous allons continuer toouse que nommer et enregistrer des informations sur les hello dans une variable nommée **kv**:</span><span class="sxs-lookup"><span data-stu-id="8afc7-147">In our getting started tutorial, our key vault name was **ContosoKeyVault**, so we'll continue toouse that name and store hello details into a variable named **kv**:</span></span>

    $kv = Get-AzureRmKeyVault -VaultName 'ContosoKeyVault'


## <span data-ttu-id="8afc7-148"><a id="enable"></a>Activation de la journalisation</span><span class="sxs-lookup"><span data-stu-id="8afc7-148"><a id="enable"></a>Enable logging</span></span>
<span data-ttu-id="8afc7-149">tooenable journalisation pour le coffre de clés, nous utiliserons une applet de commande hello AzureRmDiagnosticSetting de jeu, ainsi que les variables hello créé pour notre coffre de clés et de notre nouveau compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="8afc7-149">tooenable logging for Key Vault, we'll use hello Set-AzureRmDiagnosticSetting cmdlet, together with hello variables we created for our new storage account and our key vault.</span></span> <span data-ttu-id="8afc7-150">Nous mettrons également hello **-activé** indicateur trop**$true** et hello catégorie tooAuditEvent (hello seule catégorie pour la journalisation de coffre de clés), la valeur :</span><span class="sxs-lookup"><span data-stu-id="8afc7-150">We'll also set hello **-Enabled** flag too**$true** and set hello category tooAuditEvent (hello only category for Key Vault logging), :</span></span>

    Set-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId -StorageAccountId $sa.Id -Enabled $true -Categories AuditEvent

<span data-ttu-id="8afc7-151">sortie Hello pour cela inclut :</span><span class="sxs-lookup"><span data-stu-id="8afc7-151">hello output for this includes:</span></span>

    StorageAccountId   : /subscriptions/<subscription-GUID>/resourceGroups/ContosoResourceGroup/providers/Microsoft.Storage/storageAccounts/ContosoKeyVaultLogs
    ServiceBusRuleId   :
    StorageAccountName :
        Logs
        Enabled           : True
        Category          : AuditEvent
        RetentionPolicy
        Enabled : False
        Days    : 0


<span data-ttu-id="8afc7-152">Cela confirme que la journalisation est maintenant activée pour votre coffre de clés, l’enregistrement de compte de stockage tooyour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="8afc7-152">This confirms that logging is now enabled for your key vault, saving information tooyour storage account.</span></span>

<span data-ttu-id="8afc7-153">Si vous le souhaitez, vous pouvez également définir une stratégie de rétention pour vos journaux, par exemple la suppression automatique des anciens journaux.</span><span class="sxs-lookup"><span data-stu-id="8afc7-153">Optionally you can also set retention policy for your logs such that older logs will be automatically deleted.</span></span> <span data-ttu-id="8afc7-154">Par exemple, définissez la stratégie de rétention à l’aide **- RetentionEnabled** indicateur trop**$true** et **- RetentionInDays** paramètre trop**90** donc que les journaux plus de 90 jours seront automatiquement supprimés.</span><span class="sxs-lookup"><span data-stu-id="8afc7-154">For example, set retention policy using **-RetentionEnabled** flag too**$true** and set **-RetentionInDays** parameter too**90** so that logs older than 90 days will be automatically deleted.</span></span>

    Set-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId -StorageAccountId $sa.Id -Enabled $true -Categories AuditEvent -RetentionEnabled $true -RetentionInDays 90

<span data-ttu-id="8afc7-155">Éléments consignés :</span><span class="sxs-lookup"><span data-stu-id="8afc7-155">What's logged:</span></span>

* <span data-ttu-id="8afc7-156">toutes les demandes API REST authentifiées sont enregistrées, ce qui inclut des requêtes ayant échoué suite à des demandes, des erreurs système ou des autorisations d’accès incorrectes ;</span><span class="sxs-lookup"><span data-stu-id="8afc7-156">All authenticated REST API requests are logged, which includes failed requests as a result of access permissions, system errors or bad requests.</span></span>
* <span data-ttu-id="8afc7-157">Opérations sur la clé de hello coffre lui-même, ce qui inclut la création, de suppression, de stratégies d’accès de coffre de clés de paramètre, et la mise à jour des attributs de coffre de clés telles que des balises.</span><span class="sxs-lookup"><span data-stu-id="8afc7-157">Operations on hello key vault itself, which includes creation, deletion, setting key vault access policies, and updating key vault attributes such as tags.</span></span>
* <span data-ttu-id="8afc7-158">Opérations sur les clés et les secrets dans le coffre de clés hello, qui inclut la création, la modification ou la suppression de ces clés ou les clés secrètes ; opérations telles que la connexion, vérifier, chiffrer, déchiffrer, retour à la ligne et désencapsuler les clés, obtenir des clés secrètes, liste des clés et les secrets et leurs versions.</span><span class="sxs-lookup"><span data-stu-id="8afc7-158">Operations on keys and secrets in hello key vault, which includes creating, modifying, or deleting these keys or secrets; operations such as sign, verify, encrypt, decrypt, wrap and unwrap keys, get secrets, list keys and secrets and their versions.</span></span>
* <span data-ttu-id="8afc7-159">les requêtes non authentifiées qui génèrent une réponse 401.</span><span class="sxs-lookup"><span data-stu-id="8afc7-159">Unauthenticated requests that result in a 401 response.</span></span> <span data-ttu-id="8afc7-160">Par exemple, les requêtes qui ne possèdent pas de jeton de porteur, qui sont incorrectes, qui ont expiré ou qui comportent un jeton non valide.</span><span class="sxs-lookup"><span data-stu-id="8afc7-160">For example, requests that do not have a bearer token, or are malformed or expired, or have an invalid token.</span></span>  

## <span data-ttu-id="8afc7-161"><a id="access"></a>Accéder à vos journaux</span><span class="sxs-lookup"><span data-stu-id="8afc7-161"><a id="access"></a>Access your logs</span></span>
<span data-ttu-id="8afc7-162">Journaux de coffre de clés sont stockés dans hello **insights-journaux-auditevent** conteneur hello compte de stockage fourni.</span><span class="sxs-lookup"><span data-stu-id="8afc7-162">Key vault logs are stored in hello **insights-logs-auditevent** container in hello storage account you provided.</span></span> <span data-ttu-id="8afc7-163">toolist tous les objets BLOB de hello dans ce conteneur, tapez :</span><span class="sxs-lookup"><span data-stu-id="8afc7-163">toolist all hello blobs in this container, type:</span></span>

<span data-ttu-id="8afc7-164">Tout d’abord, créez une variable pour le nom du conteneur hello.</span><span class="sxs-lookup"><span data-stu-id="8afc7-164">First, create a variable for hello container name.</span></span> <span data-ttu-id="8afc7-165">Il sera utilisé dans l’ensemble de rest hello de procédure pas à pas hello.</span><span class="sxs-lookup"><span data-stu-id="8afc7-165">This will be used throughout hello rest of hello walk through.</span></span>

    $container = 'insights-logs-auditevent'

<span data-ttu-id="8afc7-166">toolist tous les objets BLOB de hello dans ce conteneur, tapez :</span><span class="sxs-lookup"><span data-stu-id="8afc7-166">toolist all hello blobs in this container, type:</span></span>

    Get-AzureStorageBlob -Container $container -Context $sa.Context
<span data-ttu-id="8afc7-167">sortie de Hello ressemblera toothis quelque chose de similaire :</span><span class="sxs-lookup"><span data-stu-id="8afc7-167">hello output will look something similar toothis:</span></span>

<span data-ttu-id="8afc7-168">**URI du conteneur : https://contosokeyvaultlogs.blob.core.windows.net/insights-logs-auditevent**</span><span class="sxs-lookup"><span data-stu-id="8afc7-168">**Container Uri: https://contosokeyvaultlogs.blob.core.windows.net/insights-logs-auditevent**</span></span>

<span data-ttu-id="8afc7-169">**Nom**</span><span class="sxs-lookup"><span data-stu-id="8afc7-169">**Name**</span></span>

- - -
<span data-ttu-id="8afc7-170">**resourceId=/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSORESOURCEGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT/y=2016/m=01/d=05/h=01/m=00/PT1H.json**</span><span class="sxs-lookup"><span data-stu-id="8afc7-170">**resourceId=/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSORESOURCEGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT/y=2016/m=01/d=05/h=01/m=00/PT1H.json**</span></span>

<span data-ttu-id="8afc7-171">**resourceId=/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSORESOURCEGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT/y=2016/m=01/d=04/h=02/m=00/PT1H.json**</span><span class="sxs-lookup"><span data-stu-id="8afc7-171">**resourceId=/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSORESOURCEGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT/y=2016/m=01/d=04/h=02/m=00/PT1H.json**</span></span>

<span data-ttu-id="8afc7-172">**resourceId=/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSORESOURCEGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT/y=2016/m=01/d=04/h=18/m=00/PT1H.json****</span><span class="sxs-lookup"><span data-stu-id="8afc7-172">**resourceId=/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSORESOURCEGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT/y=2016/m=01/d=04/h=18/m=00/PT1H.json****</span></span>

<span data-ttu-id="8afc7-173">Comme vous pouvez le voir à partir de cette sortie, objets BLOB de hello suivre une convention d’affectation de noms : **resourceId =<ARM resource ID>/y =<year>/m =<month>/d =<day of month>/h =<hour>/m =<minute>/filename.json**</span><span class="sxs-lookup"><span data-stu-id="8afc7-173">As you can see from this output, hello blobs follow a naming convention: **resourceId=<ARM resource ID>/y=<year>/m=<month>/d=<day of month>/h=<hour>/m=<minute>/filename.json**</span></span>

<span data-ttu-id="8afc7-174">valeurs de date et d’heure Hello utilisent l’heure UTC.</span><span class="sxs-lookup"><span data-stu-id="8afc7-174">hello date and time values use UTC.</span></span>

<span data-ttu-id="8afc7-175">Hello même compte de stockage pouvant être journaux toocollect utilisé pour plusieurs ressources, hello ID de ressource complet dans le nom d’objet blob hello est très utile tooaccess ou BLOB hello simplement télécharger dont vous avez besoin.</span><span class="sxs-lookup"><span data-stu-id="8afc7-175">Because hello same storage account can be used toocollect logs for multiple resources, hello full resource ID in hello blob name is very useful tooaccess or download just hello blobs that you need.</span></span> <span data-ttu-id="8afc7-176">Avant cela, nous aborderons tout d’abord comment toodownload tous hello d’objets BLOB.</span><span class="sxs-lookup"><span data-stu-id="8afc7-176">But before we do that, we'll first cover how toodownload all hello blobs.</span></span>

<span data-ttu-id="8afc7-177">Commencez par créer un Bonjour de toodownload dossier objets BLOB.</span><span class="sxs-lookup"><span data-stu-id="8afc7-177">First, create a folder toodownload hello blobs.</span></span> <span data-ttu-id="8afc7-178">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="8afc7-178">For example:</span></span>

    New-Item -Path 'C:\Users\username\ContosoKeyVaultLogs' -ItemType Directory -Force

<span data-ttu-id="8afc7-179">Procurez-vous la liste de tous les objets blob :</span><span class="sxs-lookup"><span data-stu-id="8afc7-179">Then get a list of all blobs:</span></span>  

    $blobs = Get-AzureStorageBlob -Container $container -Context $sa.Context

<span data-ttu-id="8afc7-180">Redirigez cette liste via des objets BLOB de 'Get-AzureStorageBlobContent' toodownload hello dans notre dossier de destination :</span><span class="sxs-lookup"><span data-stu-id="8afc7-180">Pipe this list through 'Get-AzureStorageBlobContent' toodownload hello blobs into our destination folder:</span></span>

    $blobs | Get-AzureStorageBlobContent -Destination 'C:\Users\username\ContosoKeyVaultLogs'

<span data-ttu-id="8afc7-181">Lorsque vous exécutez cette commande deuxième, hello  **/**  délimiteur dans les noms d’objets blob hello créer une structure de dossier complet sous le dossier de destination hello, et cette structure sera utilisés toodownload et magasin hello les objets BLOB en tant que fichiers.</span><span class="sxs-lookup"><span data-stu-id="8afc7-181">When you run this second command, hello **/** delimiter in hello blob names create a full folder structure under hello destination folder, and this structure will be used toodownload and store hello blobs as files.</span></span>

<span data-ttu-id="8afc7-182">tooselectively télécharger des objets BLOB, utilisez des caractères génériques.</span><span class="sxs-lookup"><span data-stu-id="8afc7-182">tooselectively download blobs, use wildcards.</span></span> <span data-ttu-id="8afc7-183">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="8afc7-183">For example:</span></span>

* <span data-ttu-id="8afc7-184">Si vous avez plusieurs coffres de clé et que vous souhaitez que les journaux de toodownload pour qu’un coffre de clés, nommé CONTOSOKEYVAULT3 :</span><span class="sxs-lookup"><span data-stu-id="8afc7-184">If you have multiple key vaults and want toodownload logs for just one key vault, named CONTOSOKEYVAULT3:</span></span>

        Get-AzureStorageBlob -Container $container -Context $sa.Context -Blob '*/VAULTS/CONTOSOKEYVAULT3
* <span data-ttu-id="8afc7-185">Si vous avez plusieurs groupes de ressources et que vous souhaitez les journaux toodownload pour le groupe de ressources qu’un seul, utilisez `-Blob '*/RESOURCEGROUPS/<resource group name>/*'`:</span><span class="sxs-lookup"><span data-stu-id="8afc7-185">If you have multiple resource groups and want toodownload logs for just one resource group, use `-Blob '*/RESOURCEGROUPS/<resource group name>/*'`:</span></span>

        Get-AzureStorageBlob -Container $container -Context $sa.Context -Blob '*/RESOURCEGROUPS/CONTOSORESOURCEGROUP3/*'
* <span data-ttu-id="8afc7-186">Si vous souhaitez toodownload tous les journaux hello pour les mois hello de janvier 2016, utilisez `-Blob '*/year=2016/m=01/*'`:</span><span class="sxs-lookup"><span data-stu-id="8afc7-186">If you want toodownload all hello logs for hello month of January 2016, use `-Blob '*/year=2016/m=01/*'`:</span></span>

        Get-AzureStorageBlob -Container $container -Context $sa.Context -Blob '*/year=2016/m=01/*'

<span data-ttu-id="8afc7-187">Vous êtes maintenant prêt toostart examinant Nouveautés Bonjour se connecte.</span><span class="sxs-lookup"><span data-stu-id="8afc7-187">You're now ready toostart looking at what's in hello logs.</span></span> <span data-ttu-id="8afc7-188">Mais avant de passer à cela, deux plus de paramètres que vous devrez peut-être tooknow Get-AzureRmDiagnosticSetting :</span><span class="sxs-lookup"><span data-stu-id="8afc7-188">But before moving onto that, two more parameters for Get-AzureRmDiagnosticSetting that you might need tooknow:</span></span>

* <span data-ttu-id="8afc7-189">état de hello tooquery des paramètres de diagnostic pour votre ressource de coffre de clés :`Get-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId`</span><span class="sxs-lookup"><span data-stu-id="8afc7-189">tooquery hello  status of diagnostic settings for your key vault resource: `Get-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId`</span></span>
* <span data-ttu-id="8afc7-190">journalisation toodisable pour votre ressource de coffre de clés :`Set-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId -StorageAccountId $sa.Id -Enabled $false -Categories AuditEvent`</span><span class="sxs-lookup"><span data-stu-id="8afc7-190">toodisable logging for your key vault resource: `Set-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId -StorageAccountId $sa.Id -Enabled $false -Categories AuditEvent`</span></span>

## <span data-ttu-id="8afc7-191"><a id="interpret"></a>Interpréter vos journaux Key Vault</span><span class="sxs-lookup"><span data-stu-id="8afc7-191"><a id="interpret"></a>Interpret your Key Vault logs</span></span>
<span data-ttu-id="8afc7-192">Les objets blob individuels sont stockés sous forme de texte en tant qu’objet blob JSON.</span><span class="sxs-lookup"><span data-stu-id="8afc7-192">Individual blobs are stored as text, formatted as a JSON blob.</span></span> <span data-ttu-id="8afc7-193">Voici un exemple d’entrée de journal après l’exécution de `Get-AzureRmKeyVault -VaultName 'contosokeyvault'`:</span><span class="sxs-lookup"><span data-stu-id="8afc7-193">This is an example log entry from running `Get-AzureRmKeyVault -VaultName 'contosokeyvault'`:</span></span>

    {
        "records":
        [
            {
                "time": "2016-01-05T01:32:01.2691226Z",
                "resourceId": "/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSOGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT",
                "operationName": "VaultGet",
                "operationVersion": "2015-06-01",
                "category": "AuditEvent",
                "resultType": "Success",
                "resultSignature": "OK",
                "resultDescription": "",
                "durationMs": "78",
                "callerIpAddress": "104.40.82.76",
                "correlationId": "",
                "identity": {"claim":{"http://schemas.microsoft.com/identity/claims/objectidentifier":"d9da5048-2737-4770-bd64-XXXXXXXXXXXX","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/upn":"live.com#username@outlook.com","appid":"1950a258-227b-4e31-a9cf-XXXXXXXXXXXX"}},
                "properties": {"clientInfo":"azure-resource-manager/2.0","requestUri":"https://control-prod-wus.vaultcore.azure.net/subscriptions/361da5d4-a47a-4c79-afdd-XXXXXXXXXXXX/resourcegroups/contosoresourcegroup/providers/Microsoft.KeyVault/vaults/contosokeyvault?api-version=2015-06-01","id":"https://contosokeyvault.vault.azure.net/","httpStatusCode":200}
            }
        ]
    }


<span data-ttu-id="8afc7-194">Hello tableau suivant répertorie les descriptions et les noms de champ hello.</span><span class="sxs-lookup"><span data-stu-id="8afc7-194">hello following table lists hello field names and descriptions.</span></span>

| <span data-ttu-id="8afc7-195">Nom du champ</span><span class="sxs-lookup"><span data-stu-id="8afc7-195">Field name</span></span> | <span data-ttu-id="8afc7-196">Description</span><span class="sxs-lookup"><span data-stu-id="8afc7-196">Description</span></span> |
| --- | --- |
| <span data-ttu-id="8afc7-197">time</span><span class="sxs-lookup"><span data-stu-id="8afc7-197">time</span></span> |<span data-ttu-id="8afc7-198">Date et heure (UTC)</span><span class="sxs-lookup"><span data-stu-id="8afc7-198">Date and time (UTC).</span></span> |
| <span data-ttu-id="8afc7-199">resourceId</span><span class="sxs-lookup"><span data-stu-id="8afc7-199">resourceId</span></span> |<span data-ttu-id="8afc7-200">ID de ressource Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="8afc7-200">Azure Resource Manager Resource ID.</span></span> <span data-ttu-id="8afc7-201">Pour les journaux de coffre de clés, il s’agit toujours ID de ressource de coffre de clés hello.</span><span class="sxs-lookup"><span data-stu-id="8afc7-201">For Key Vault logs, this is always hello  Key Vault resource ID.</span></span> |
| <span data-ttu-id="8afc7-202">operationName</span><span class="sxs-lookup"><span data-stu-id="8afc7-202">operationName</span></span> |<span data-ttu-id="8afc7-203">Nom de l’opération de hello, comme indiqué dans le tableau suivant de hello.</span><span class="sxs-lookup"><span data-stu-id="8afc7-203">Name of hello operation, as documented in hello next table.</span></span> |
| <span data-ttu-id="8afc7-204">operationVersion</span><span class="sxs-lookup"><span data-stu-id="8afc7-204">operationVersion</span></span> |<span data-ttu-id="8afc7-205">Il s’agit de version d’API REST de hello demandée par le client de hello.</span><span class="sxs-lookup"><span data-stu-id="8afc7-205">This is hello REST API version requested by hello client.</span></span> |
| <span data-ttu-id="8afc7-206">category</span><span class="sxs-lookup"><span data-stu-id="8afc7-206">category</span></span> |<span data-ttu-id="8afc7-207">Pour les journaux de coffre de clés, AuditEvent est hello disponible valeur unique.</span><span class="sxs-lookup"><span data-stu-id="8afc7-207">For Key Vault logs, AuditEvent is hello single, available value.</span></span> |
| <span data-ttu-id="8afc7-208">resultType</span><span class="sxs-lookup"><span data-stu-id="8afc7-208">resultType</span></span> |<span data-ttu-id="8afc7-209">Résultat de la demande d’API REST.</span><span class="sxs-lookup"><span data-stu-id="8afc7-209">Result of REST API request.</span></span> |
| <span data-ttu-id="8afc7-210">resultSignature</span><span class="sxs-lookup"><span data-stu-id="8afc7-210">resultSignature</span></span> |<span data-ttu-id="8afc7-211">État HTTP</span><span class="sxs-lookup"><span data-stu-id="8afc7-211">HTTP status.</span></span> |
| <span data-ttu-id="8afc7-212">resultDescription</span><span class="sxs-lookup"><span data-stu-id="8afc7-212">resultDescription</span></span> |<span data-ttu-id="8afc7-213">Description supplémentaire sur le résultat de hello, lorsqu’il est disponible.</span><span class="sxs-lookup"><span data-stu-id="8afc7-213">Additional description about hello result, when available.</span></span> |
| <span data-ttu-id="8afc7-214">durationMS</span><span class="sxs-lookup"><span data-stu-id="8afc7-214">durationMs</span></span> |<span data-ttu-id="8afc7-215">Durée tooservice demande l’API REST hello, en millisecondes.</span><span class="sxs-lookup"><span data-stu-id="8afc7-215">Time it took tooservice hello REST API request, in milliseconds.</span></span> <span data-ttu-id="8afc7-216">Cela n’inclut pas la latence réseau hello, hello que côté client de hello de mesures peut correspond pas à ce stade.</span><span class="sxs-lookup"><span data-stu-id="8afc7-216">This does not include hello network latency, so hello time you measure on hello client side might not match this time.</span></span> |
| <span data-ttu-id="8afc7-217">callerIpAddress</span><span class="sxs-lookup"><span data-stu-id="8afc7-217">callerIpAddress</span></span> |<span data-ttu-id="8afc7-218">Adresse IP du client hello qui a effectué la demande de hello.</span><span class="sxs-lookup"><span data-stu-id="8afc7-218">IP address of hello client who made hello request.</span></span> |
| <span data-ttu-id="8afc7-219">correlationId</span><span class="sxs-lookup"><span data-stu-id="8afc7-219">correlationId</span></span> |<span data-ttu-id="8afc7-220">Un GUID facultatif qui hello client peut passer toocorrelate des côté service (le coffre de clés), les journaux côté client.</span><span class="sxs-lookup"><span data-stu-id="8afc7-220">An optional GUID that hello client can pass toocorrelate client-side logs with service-side (Key Vault) logs.</span></span> |
| <span data-ttu-id="8afc7-221">identité</span><span class="sxs-lookup"><span data-stu-id="8afc7-221">identity</span></span> |<span data-ttu-id="8afc7-222">Identité du jeton hello qui a été présenté lors de la demande d’API REST hello.</span><span class="sxs-lookup"><span data-stu-id="8afc7-222">Identity from hello token that was presented when making hello REST API request.</span></span> <span data-ttu-id="8afc7-223">Il s’agit généralement d’un « utilisateur », d’« un principal de service » ou d’une combinaison « utilisateur + appId », comme dans le cas d’une demande résultant d’une applet de commande PowerShell Azure.</span><span class="sxs-lookup"><span data-stu-id="8afc7-223">This is usually a "user", a "service principal" or a combination "user+appId" as in case of a request resulting from a Azure PowerShell cmdlet.</span></span> |
| <span data-ttu-id="8afc7-224">properties</span><span class="sxs-lookup"><span data-stu-id="8afc7-224">properties</span></span> |<span data-ttu-id="8afc7-225">Ce champ contient des informations différentes en fonction de l’opération hello (NomOpération).</span><span class="sxs-lookup"><span data-stu-id="8afc7-225">This field will contain different information based on hello operation (operationName).</span></span> <span data-ttu-id="8afc7-226">Dans la plupart des cas, contient des informations sur le client (hello useragent chaîne passée par le client de hello), hello exacte URI de demande d’API REST et le code d’état HTTP.</span><span class="sxs-lookup"><span data-stu-id="8afc7-226">In most cases, contains client information (hello useragent string passed by hello client), hello exact REST API request URI, and HTTP status code.</span></span> <span data-ttu-id="8afc7-227">En outre, lorsqu’un objet est retourné à la suite d’une demande (par exemple, KeyCreate ou VaultGet) il contiendra également hello URI de clé (comme « id »), archivage URI ou un URI de Secret.</span><span class="sxs-lookup"><span data-stu-id="8afc7-227">In addition, when an object is returned as a result of a request (for example, KeyCreate or VaultGet) it will also contain hello Key URI (as "id"), Vault URI, or Secret URI.</span></span> |

<span data-ttu-id="8afc7-228">Hello **NomOpération** les valeurs de champ sont au format de ObjectVerb.</span><span class="sxs-lookup"><span data-stu-id="8afc7-228">hello **operationName** field values are in ObjectVerb format.</span></span> <span data-ttu-id="8afc7-229">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="8afc7-229">For example:</span></span>

* <span data-ttu-id="8afc7-230">Toutes les opérations de coffre de clés ont hello ' coffre`<action>`' mettre en forme, telles que `VaultGet` et `VaultCreate`.</span><span class="sxs-lookup"><span data-stu-id="8afc7-230">All key vault operations have hello 'Vault`<action>`' format, such as `VaultGet` and `VaultCreate`.</span></span>
* <span data-ttu-id="8afc7-231">Toutes les opérations de clé ont hello ' clé`<action>`' mettre en forme, telles que `KeySign` et `KeyList`.</span><span class="sxs-lookup"><span data-stu-id="8afc7-231">All  key operations have hello 'Key`<action>`' format, such as `KeySign` and `KeyList`.</span></span>
* <span data-ttu-id="8afc7-232">Toutes les opérations de secret principal ont hello ' Secret`<action>`' mettre en forme, telles que `SecretGet` et `SecretListVersions`.</span><span class="sxs-lookup"><span data-stu-id="8afc7-232">All secret operations have hello 'Secret`<action>`' format, such as `SecretGet` and `SecretListVersions`.</span></span>

<span data-ttu-id="8afc7-233">Hello tableau suivant répertorie les hello NomOpération et la commande API REST.</span><span class="sxs-lookup"><span data-stu-id="8afc7-233">hello following table lists hello operationName and corresponding REST API command.</span></span>

| <span data-ttu-id="8afc7-234">operationName</span><span class="sxs-lookup"><span data-stu-id="8afc7-234">operationName</span></span> | <span data-ttu-id="8afc7-235">Commande API REST</span><span class="sxs-lookup"><span data-stu-id="8afc7-235">REST API Command</span></span> |
| --- | --- |
| <span data-ttu-id="8afc7-236">Authentification</span><span class="sxs-lookup"><span data-stu-id="8afc7-236">Authentication</span></span> |<span data-ttu-id="8afc7-237">Via le point de terminaison Azure Active Directory (Azure AD)</span><span class="sxs-lookup"><span data-stu-id="8afc7-237">Via Azure Active Directory endpoint</span></span> |
| <span data-ttu-id="8afc7-238">VaultGet</span><span class="sxs-lookup"><span data-stu-id="8afc7-238">VaultGet</span></span> |[<span data-ttu-id="8afc7-239">Obtention des informations sur un coffre de clés</span><span class="sxs-lookup"><span data-stu-id="8afc7-239">Get information about a key vault</span></span>](https://msdn.microsoft.com/en-us/library/azure/mt620026.aspx) |
| <span data-ttu-id="8afc7-240">VaultPut</span><span class="sxs-lookup"><span data-stu-id="8afc7-240">VaultPut</span></span> |[<span data-ttu-id="8afc7-241">Création ou mise à jour d’un coffre de clés</span><span class="sxs-lookup"><span data-stu-id="8afc7-241">Create or update a key vault</span></span>](https://msdn.microsoft.com/en-us/library/azure/mt620025.aspx) |
| <span data-ttu-id="8afc7-242">VaultDelete</span><span class="sxs-lookup"><span data-stu-id="8afc7-242">VaultDelete</span></span> |[<span data-ttu-id="8afc7-243">Suppression d’un coffre de clés</span><span class="sxs-lookup"><span data-stu-id="8afc7-243">Delete a key vault</span></span>](https://msdn.microsoft.com/en-us/library/azure/mt620022.aspx) |
| <span data-ttu-id="8afc7-244">VaultPatch</span><span class="sxs-lookup"><span data-stu-id="8afc7-244">VaultPatch</span></span> |[<span data-ttu-id="8afc7-245">Mise à jour d’un coffre de clés</span><span class="sxs-lookup"><span data-stu-id="8afc7-245">Update a key vault</span></span>](https://msdn.microsoft.com/library/azure/mt620025.aspx) |
| <span data-ttu-id="8afc7-246">VaultList</span><span class="sxs-lookup"><span data-stu-id="8afc7-246">VaultList</span></span> |[<span data-ttu-id="8afc7-247">Liste de l’ensemble des coffres de clés dans un groupe de ressources</span><span class="sxs-lookup"><span data-stu-id="8afc7-247">List all key vaults in a resource group</span></span>](https://msdn.microsoft.com/en-us/library/azure/mt620027.aspx) |
| <span data-ttu-id="8afc7-248">KeyCreate</span><span class="sxs-lookup"><span data-stu-id="8afc7-248">KeyCreate</span></span> |[<span data-ttu-id="8afc7-249">Création d’une clé</span><span class="sxs-lookup"><span data-stu-id="8afc7-249">Create a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903634.aspx) |
| <span data-ttu-id="8afc7-250">KeyGet</span><span class="sxs-lookup"><span data-stu-id="8afc7-250">KeyGet</span></span> |[<span data-ttu-id="8afc7-251">Obtention des informations sur une clé</span><span class="sxs-lookup"><span data-stu-id="8afc7-251">Get information about a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878080.aspx) |
| <span data-ttu-id="8afc7-252">KeyImport</span><span class="sxs-lookup"><span data-stu-id="8afc7-252">KeyImport</span></span> |[<span data-ttu-id="8afc7-253">Importation d’une clé dans un coffre</span><span class="sxs-lookup"><span data-stu-id="8afc7-253">Import a key into a vault</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903626.aspx) |
| <span data-ttu-id="8afc7-254">KeyBackup</span><span class="sxs-lookup"><span data-stu-id="8afc7-254">KeyBackup</span></span> |<span data-ttu-id="8afc7-255">[Sauvegarde d’une clé](https://msdn.microsoft.com/en-us/library/azure/dn878058.aspx).</span><span class="sxs-lookup"><span data-stu-id="8afc7-255">[Backup a key](https://msdn.microsoft.com/en-us/library/azure/dn878058.aspx).</span></span> |
| <span data-ttu-id="8afc7-256">KeyDelete</span><span class="sxs-lookup"><span data-stu-id="8afc7-256">KeyDelete</span></span> |[<span data-ttu-id="8afc7-257">Suppression d’une clé</span><span class="sxs-lookup"><span data-stu-id="8afc7-257">Delete a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903611.aspx) |
| <span data-ttu-id="8afc7-258">KeyRestore</span><span class="sxs-lookup"><span data-stu-id="8afc7-258">KeyRestore</span></span> |[<span data-ttu-id="8afc7-259">Restauration d’une clé</span><span class="sxs-lookup"><span data-stu-id="8afc7-259">Restore a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878106.aspx) |
| <span data-ttu-id="8afc7-260">KeySign</span><span class="sxs-lookup"><span data-stu-id="8afc7-260">KeySign</span></span> |[<span data-ttu-id="8afc7-261">Signature avec une clé</span><span class="sxs-lookup"><span data-stu-id="8afc7-261">Sign with a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878096.aspx) |
| <span data-ttu-id="8afc7-262">KeyVerify</span><span class="sxs-lookup"><span data-stu-id="8afc7-262">KeyVerify</span></span> |[<span data-ttu-id="8afc7-263">Vérification à l’aide d’une clé</span><span class="sxs-lookup"><span data-stu-id="8afc7-263">Verify with a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878082.aspx) |
| <span data-ttu-id="8afc7-264">KeyWrap</span><span class="sxs-lookup"><span data-stu-id="8afc7-264">KeyWrap</span></span> |[<span data-ttu-id="8afc7-265">Encapsulage d’une clé</span><span class="sxs-lookup"><span data-stu-id="8afc7-265">Wrap a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878066.aspx) |
| <span data-ttu-id="8afc7-266">KeyUnwrap</span><span class="sxs-lookup"><span data-stu-id="8afc7-266">KeyUnwrap</span></span> |[<span data-ttu-id="8afc7-267">Désencapsulage d’une clé</span><span class="sxs-lookup"><span data-stu-id="8afc7-267">Unwrap a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878079.aspx) |
| <span data-ttu-id="8afc7-268">KeyEncrypt</span><span class="sxs-lookup"><span data-stu-id="8afc7-268">KeyEncrypt</span></span> |[<span data-ttu-id="8afc7-269">Chiffrement avec une clé</span><span class="sxs-lookup"><span data-stu-id="8afc7-269">Encrypt with a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878060.aspx) |
| <span data-ttu-id="8afc7-270">KeyDecrypt</span><span class="sxs-lookup"><span data-stu-id="8afc7-270">KeyDecrypt</span></span> |[<span data-ttu-id="8afc7-271">Déchiffrement avec une clé</span><span class="sxs-lookup"><span data-stu-id="8afc7-271">Decrypt with a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878097.aspx) |
| <span data-ttu-id="8afc7-272">KeyUpdate</span><span class="sxs-lookup"><span data-stu-id="8afc7-272">KeyUpdate</span></span> |[<span data-ttu-id="8afc7-273">Mise à jour d’une clé</span><span class="sxs-lookup"><span data-stu-id="8afc7-273">Update a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903616.aspx) |
| <span data-ttu-id="8afc7-274">KeyList</span><span class="sxs-lookup"><span data-stu-id="8afc7-274">KeyList</span></span> |[<span data-ttu-id="8afc7-275">Liste des clés hello dans un coffre</span><span class="sxs-lookup"><span data-stu-id="8afc7-275">List hello keys in a vault</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903629.aspx) |
| <span data-ttu-id="8afc7-276">KeyListVersions</span><span class="sxs-lookup"><span data-stu-id="8afc7-276">KeyListVersions</span></span> |[<span data-ttu-id="8afc7-277">Liste des versions d’une clé hello</span><span class="sxs-lookup"><span data-stu-id="8afc7-277">List hello versions of a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn986822.aspx) |
| <span data-ttu-id="8afc7-278">SecretSet</span><span class="sxs-lookup"><span data-stu-id="8afc7-278">SecretSet</span></span> |[<span data-ttu-id="8afc7-279">Création d’une clé secrète</span><span class="sxs-lookup"><span data-stu-id="8afc7-279">Create a secret</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903618.aspx) |
| <span data-ttu-id="8afc7-280">SecretGet</span><span class="sxs-lookup"><span data-stu-id="8afc7-280">SecretGet</span></span> |[<span data-ttu-id="8afc7-281">Obtention d’une clé secrète</span><span class="sxs-lookup"><span data-stu-id="8afc7-281">Get secret</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903633.aspx) |
| <span data-ttu-id="8afc7-282">SecretUpdate</span><span class="sxs-lookup"><span data-stu-id="8afc7-282">SecretUpdate</span></span> |[<span data-ttu-id="8afc7-283">Mise à jour d’une clé secrète</span><span class="sxs-lookup"><span data-stu-id="8afc7-283">Update a secret</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn986818.aspx) |
| <span data-ttu-id="8afc7-284">SecretDelete</span><span class="sxs-lookup"><span data-stu-id="8afc7-284">SecretDelete</span></span> |[<span data-ttu-id="8afc7-285">Suppression d’une clé secrète</span><span class="sxs-lookup"><span data-stu-id="8afc7-285">Delete a secret</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903613.aspx) |
| <span data-ttu-id="8afc7-286">SecretList</span><span class="sxs-lookup"><span data-stu-id="8afc7-286">SecretList</span></span> |[<span data-ttu-id="8afc7-287">Liste des clés secrètes d’un coffre</span><span class="sxs-lookup"><span data-stu-id="8afc7-287">List secrets in a vault</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903614.aspx) |
| <span data-ttu-id="8afc7-288">SecretListVersions</span><span class="sxs-lookup"><span data-stu-id="8afc7-288">SecretListVersions</span></span> |[<span data-ttu-id="8afc7-289">Liste des versions d’une clé secrète</span><span class="sxs-lookup"><span data-stu-id="8afc7-289">List versions of a secret</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn986824.aspx) |

## <span data-ttu-id="8afc7-290"><a id="loganalytics"></a>Utilisation de Log Analytics</span><span class="sxs-lookup"><span data-stu-id="8afc7-290"><a id="loganalytics"></a>Use Log Analytics</span></span>

<span data-ttu-id="8afc7-291">Vous pouvez utiliser la solution de coffre de clés Azure hello dans tooreview Analytique de journal Qu'azure Key Vault AuditEvent se connecte.</span><span class="sxs-lookup"><span data-stu-id="8afc7-291">You can use hello Azure Key Vault solution in Log Analytics tooreview Azure Key Vault AuditEvent logs.</span></span> <span data-ttu-id="8afc7-292">Pour plus d’informations, y compris comment tooset cette installation, consultez [solution Azure Key Vault dans le journal Analytique](../log-analytics/log-analytics-azure-key-vault.md).</span><span class="sxs-lookup"><span data-stu-id="8afc7-292">For more information, including how tooset this up, see [Azure Key Vault solution in Log Analytics](../log-analytics/log-analytics-azure-key-vault.md).</span></span> <span data-ttu-id="8afc7-293">Cet article contient également des instructions si vous avez besoin toomigrate de hello ancien coffre de clés solution qui a été proposé en version préliminaire hello Analytique de journal, où vous routé votre tooan journaux compte de stockage Azure et configuré en premier tooread Analytique de journal à partir de là.</span><span class="sxs-lookup"><span data-stu-id="8afc7-293">This article also contains instructions if you need toomigrate from hello old Key Vault solution that was offered during hello Log Analytics preview, where you first routed your logs tooan Azure Storage account and configured Log Analytics tooread from there.</span></span>

## <span data-ttu-id="8afc7-294"><a id="next"></a>Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="8afc7-294"><a id="next"></a>Next steps</span></span>
<span data-ttu-id="8afc7-295">Pour accéder à un didacticiel utilisant Azure Key Vault dans une application web, consultez l’article [Utilisation d’Azure Key Vault à partir d’une application web](key-vault-use-from-web-application.md).</span><span class="sxs-lookup"><span data-stu-id="8afc7-295">For a tutorial that uses Azure Key Vault in a web application, see [Use Azure Key Vault from a Web Application](key-vault-use-from-web-application.md).</span></span>

<span data-ttu-id="8afc7-296">Pour les références de programmation, consultez [hello guide du développeur Azure Key Vault](key-vault-developers-guide.md).</span><span class="sxs-lookup"><span data-stu-id="8afc7-296">For programming references, see [hello Azure Key Vault developer's guide](key-vault-developers-guide.md).</span></span>

<span data-ttu-id="8afc7-297">Pour obtenir la liste des applets de commande Azure PowerShell 1.0 pour Azure Key Vault, consultez l’article [Azure Key Vault Cmdlets (Applets de commande Azure Key Vault)](/powershell/module/azurerm.keyvault/#key_vault).</span><span class="sxs-lookup"><span data-stu-id="8afc7-297">For a list of Azure PowerShell 1.0 cmdlets for Azure Key Vault, see [Azure Key Vault Cmdlets](/powershell/module/azurerm.keyvault/#key_vault).</span></span>

<span data-ttu-id="8afc7-298">Pour un didacticiel sur la rotation des clés et le journal d’audit avec Azure Key Vault, consultez [comment toosetup le coffre de clés avec tooend de fin de clé de rotation et de l’audit](key-vault-key-rotation-log-monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="8afc7-298">For a tutorial on key rotation and log auditing with Azure Key Vault, see [How toosetup Key Vault with end tooend key rotation and auditing](key-vault-key-rotation-log-monitoring.md).</span></span>
