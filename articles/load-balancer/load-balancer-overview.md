---
title: "vue d’ensemble du programme d’équilibrage de charge aaaAzure | Documents Microsoft"
description: "Présentation des fonctionnalités, de l'architecture et de l'implémentation de l'équilibrage de charge Azure. Découvrez le fonctionne de l’équilibrage de charge hello et l’exploiter dans le cloud de hello."
services: load-balancer
documentationcenter: na
author: kumudd
manager: timlt
editor: 
ms.assetid: 0f313dc0-f007-4cee-b2b9-f542357925a3
ms.service: load-balancer
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 10/24/2016
ms.author: kumud
ms.openlocfilehash: 2376a02f7cbbbed6a90f216419c0c3d30f594272
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-load-balancer-overview"></a><span data-ttu-id="56a34-104">Vue d’ensemble de l’équilibreur de charge Azure</span><span class="sxs-lookup"><span data-stu-id="56a34-104">Azure Load Balancer overview</span></span>

<span data-ttu-id="56a34-105">Équilibrage de charge Azure offre une haute disponibilité et les performances réseau tooyour applications.</span><span class="sxs-lookup"><span data-stu-id="56a34-105">Azure Load Balancer delivers high availability and network performance tooyour applications.</span></span> <span data-ttu-id="56a34-106">Il s’agit d’un équilibreur de charge Layer-4 (TCP, UDP) qui distribue le trafic entrant parmi des instances saines de services définis dans un jeu à charge équilibrée.</span><span class="sxs-lookup"><span data-stu-id="56a34-106">It is a Layer 4 (TCP, UDP) load balancer that distributes incoming traffic among healthy instances of services defined in a load-balanced set.</span></span>

<span data-ttu-id="56a34-107">Azure Load Balancer peut être configuré pour :</span><span class="sxs-lookup"><span data-stu-id="56a34-107">Azure Load Balancer can be configured to:</span></span>

* <span data-ttu-id="56a34-108">La charge des machines de solde entrants Internet trafic toovirtual.</span><span class="sxs-lookup"><span data-stu-id="56a34-108">Load balance incoming Internet traffic toovirtual machines.</span></span> <span data-ttu-id="56a34-109">Cette configuration est appelée [équilibrage de charge avec accès par Internet](load-balancer-internet-overview.md).</span><span class="sxs-lookup"><span data-stu-id="56a34-109">This configuration is known as [Internet-facing load balancing](load-balancer-internet-overview.md).</span></span>
* <span data-ttu-id="56a34-110">équilibrer le trafic entre des machines virtuelles dans un réseau virtuel, entre des machines virtuelles dans les services cloud ou entre des ordinateurs locaux et des machines virtuelles dans un réseau virtuel entre différents locaux.</span><span class="sxs-lookup"><span data-stu-id="56a34-110">Load balance traffic between virtual machines in a virtual network, between virtual machines in cloud services, or between on-premises computers and virtual machines in a cross-premises virtual network.</span></span> <span data-ttu-id="56a34-111">Cette configuration est appelée [équilibrage de charge interne](load-balancer-internal-overview.md).</span><span class="sxs-lookup"><span data-stu-id="56a34-111">This configuration is known as [internal load balancing](load-balancer-internal-overview.md).</span></span>
* <span data-ttu-id="56a34-112">Transférer le trafic externe tooa ordinateur virtuel spécifique.</span><span class="sxs-lookup"><span data-stu-id="56a34-112">Forward external traffic tooa specific virtual machine.</span></span>

<span data-ttu-id="56a34-113">Toutes les ressources de cloud de hello peut-être un toobe d’adresse IP publique accessible à partir de hello Internet.</span><span class="sxs-lookup"><span data-stu-id="56a34-113">All resources in hello cloud need a public IP address toobe reachable from hello Internet.</span></span> <span data-ttu-id="56a34-114">infrastructure en nuage Hello dans Azure utilise des adresses IP non routable pour ses ressources.</span><span class="sxs-lookup"><span data-stu-id="56a34-114">hello cloud infrastructure in Azure uses non-routable IP addresses for its resources.</span></span> <span data-ttu-id="56a34-115">Azure utilise la traduction d’adresses réseau (NAT) avec publique toohello de toocommunicate d’adresses IP Internet.</span><span class="sxs-lookup"><span data-stu-id="56a34-115">Azure uses network address translation (NAT) with public IP addresses toocommunicate toohello Internet.</span></span>

## <a name="azure-deployment-models"></a><span data-ttu-id="56a34-116">Modèles de déploiement Azure</span><span class="sxs-lookup"><span data-stu-id="56a34-116">Azure deployment models</span></span>

<span data-ttu-id="56a34-117">Il est important de toounderstand hello différences hello Azure classic et Gestionnaire de ressources [modèles de déploiement](../azure-resource-manager/resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="56a34-117">It's important toounderstand hello differences between hello Azure classic and Resource Manager [deployment models](../azure-resource-manager/resource-manager-deployment-model.md).</span></span> <span data-ttu-id="56a34-118">Azure Load Balancer est configuré différemment selon les modèles.</span><span class="sxs-lookup"><span data-stu-id="56a34-118">Azure Load Balancer is configured differently in each model.</span></span>

### <a name="azure-classic-deployment-model"></a><span data-ttu-id="56a34-119">Modèle de déploiement classique Azure</span><span class="sxs-lookup"><span data-stu-id="56a34-119">Azure classic deployment model</span></span>

<span data-ttu-id="56a34-120">Ordinateurs virtuels déployés dans une limite de service cloud peuvent être groupée toouse un équilibreur de charge.</span><span class="sxs-lookup"><span data-stu-id="56a34-120">Virtual machines deployed within a cloud service boundary can be grouped toouse a load balancer.</span></span> <span data-ttu-id="56a34-121">Dans ce modèle à une adresse IP publique et un nom de domaine complet, le (FQDN) sont affectés tooa le service cloud.</span><span class="sxs-lookup"><span data-stu-id="56a34-121">In this model a public IP address and a Fully Qualified Domain Name, (FQDN) are assigned tooa cloud service.</span></span> <span data-ttu-id="56a34-122">équilibrage de charge Hello le port traduction et équilibre la charge du trafic réseau hello à l’aide de l’adresse IP hello pour le service cloud hello.</span><span class="sxs-lookup"><span data-stu-id="56a34-122">hello load balancer does port translation and load balances hello network traffic by using hello public IP address for hello cloud service.</span></span>

<span data-ttu-id="56a34-123">Le trafic à charge équilibrée est défini par points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="56a34-123">Load-balanced traffic is defined by endpoints.</span></span> <span data-ttu-id="56a34-124">Points de terminaison de port traduction ont une relation un à un entre hello attribué par le public ports de l’adresse IP publique de hello et hello local affecté service toohello sur un ordinateur virtuel spécifique.</span><span class="sxs-lookup"><span data-stu-id="56a34-124">Port translation endpoints have a one-to-one relationship between hello public-assigned port of hello public IP address and hello local port assigned toohello service on a specific virtual machine.</span></span> <span data-ttu-id="56a34-125">Les points de terminaison de l’équilibrage de charge ont une relation un-à-plusieurs entre les adresse IP publique hello et hello local ports attribués toohello services sur des ordinateurs virtuels de hello dans le service cloud hello.</span><span class="sxs-lookup"><span data-stu-id="56a34-125">Load balancing endpoints have a one-to-many relationship between hello public IP address and hello local ports assigned toohello services on hello virtual machines in hello cloud service.</span></span>

![Équilibrage de charge Azure dans le modèle de déploiement classique de hello](./media/load-balancer-overview/asm-lb.png)

<span data-ttu-id="56a34-127">Figure 1 : équilibrage de charge Azure dans le modèle de déploiement classique de hello</span><span class="sxs-lookup"><span data-stu-id="56a34-127">Figure 1 - Azure Load Balancer in hello classic deployment model</span></span>

<span data-ttu-id="56a34-128">nom de domaine Hello pour hello adresse IP publique qui utilise d’équilibrage de charge pour ce modèle de déploiement de hello est \<nom du service cloud\>. cloudapp.net.</span><span class="sxs-lookup"><span data-stu-id="56a34-128">hello domain label for hello public IP address that hello load balancer uses for this deployment model is \<cloud service name\>.cloudapp.net.</span></span> <span data-ttu-id="56a34-129">Hello graphique suivant illustre hello équilibrage de charge Azure dans ce modèle.</span><span class="sxs-lookup"><span data-stu-id="56a34-129">hello following graphic shows hello Azure Load Balancer in this model.</span></span>

### <a name="azure-resource-manager-deployment-model"></a><span data-ttu-id="56a34-130">Modèle de déploiement Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="56a34-130">Azure Resource Manager deployment model</span></span>

<span data-ttu-id="56a34-131">Dans le modèle de déploiement du Gestionnaire de ressources hello n’existe aucun besoin toocreate un service Cloud.</span><span class="sxs-lookup"><span data-stu-id="56a34-131">In hello Resource Manager deployment model there is no need toocreate a Cloud service.</span></span> <span data-ttu-id="56a34-132">équilibrage de charge Hello est créé tooexplicitly acheminer le trafic entre plusieurs machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="56a34-132">hello load balancer is created tooexplicitly route traffic among multiple virtual machines.</span></span>

<span data-ttu-id="56a34-133">Une adresse IP publique est une ressource individuelle qui a une étiquette de domaine (nom DNS).</span><span class="sxs-lookup"><span data-stu-id="56a34-133">A public IP address is an individual resource that has a domain label (DNS name).</span></span> <span data-ttu-id="56a34-134">adresse IP publique de Hello est associé à des ressources d’équilibrage de charge hello.</span><span class="sxs-lookup"><span data-stu-id="56a34-134">hello public IP address is associated with hello load balancer resource.</span></span> <span data-ttu-id="56a34-135">Règles d’équilibrage de charge et les règles NAT entrantes utilisent une adresse IP publique de hello comme point de terminaison Internet pour les ressources hello qui reçoivent le trafic réseau à charge équilibrée de hello.</span><span class="sxs-lookup"><span data-stu-id="56a34-135">Load balancer rules and inbound NAT rules use hello public IP address as hello Internet endpoint for hello resources that are receiving load-balanced network traffic.</span></span>

<span data-ttu-id="56a34-136">Une adresse IP privée ou publique est affectée toohello network interface ressource attachée tooa virtuels.</span><span class="sxs-lookup"><span data-stu-id="56a34-136">A private or public IP address is assigned toohello network interface resource attached tooa virtual machine.</span></span> <span data-ttu-id="56a34-137">Une fois qu’une interface réseau est ajoutée à un pool d’adresses IP l’équilibreur de charge tooa terminale, équilibrage de charge hello est en mesure de toosend équilibrage de la charge de trafic réseau en fonction des règles d’équilibrage de la charge hello qui sont créés.</span><span class="sxs-lookup"><span data-stu-id="56a34-137">Once a network interface is added tooa load balancer's back-end IP address pool, hello load balancer is able toosend load-balanced network traffic based on hello load-balanced rules that are created.</span></span>

<span data-ttu-id="56a34-138">Hello graphique suivant illustre hello équilibrage de charge Azure dans ce modèle :</span><span class="sxs-lookup"><span data-stu-id="56a34-138">hello following graphic shows hello Azure Load Balancer in this model:</span></span>

![L’équilibrage de charge Azure dans Resource Manager](./media/load-balancer-overview/arm-lb.png)

<span data-ttu-id="56a34-140">Illustration 2 - L’équilibrage de charge Azure dans Resource Manager</span><span class="sxs-lookup"><span data-stu-id="56a34-140">Figure 2 - Azure Load Balancer in Resource Manager</span></span>

<span data-ttu-id="56a34-141">équilibrage de charge Hello peut être géré par le biais de modèles basés sur le Gestionnaire de ressources, les API et les outils.</span><span class="sxs-lookup"><span data-stu-id="56a34-141">hello load balancer can be managed through Resource Manager-based templates, APIs, and tools.</span></span> <span data-ttu-id="56a34-142">toolearn plus sur la gestion de ressources, consultez hello [vue d’ensemble du Gestionnaire de ressources](../azure-resource-manager/resource-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="56a34-142">toolearn more about Resource Manager, see hello [Resource Manager overview](../azure-resource-manager/resource-group-overview.md).</span></span>

## <a name="load-balancer-features"></a><span data-ttu-id="56a34-143">Fonctionnalités d’équilibrage de charge</span><span class="sxs-lookup"><span data-stu-id="56a34-143">Load Balancer features</span></span>

* <span data-ttu-id="56a34-144">Distribution basée sur le hachage</span><span class="sxs-lookup"><span data-stu-id="56a34-144">Hash-based distribution</span></span>

    <span data-ttu-id="56a34-145">L'Équilibrage de charge Azure utilise un algorithme de distribution basé sur le hachage.</span><span class="sxs-lookup"><span data-stu-id="56a34-145">Azure Load Balancer uses a hash-based distribution algorithm.</span></span> <span data-ttu-id="56a34-146">Par défaut, il utilise un hachage de 5-tuple composé de l’adresse IP source, port source, adresse IP de destination, le port de destination et serveurs de protocole type toomap trafic tooavailable.</span><span class="sxs-lookup"><span data-stu-id="56a34-146">By default, it uses a 5-tuple hash composed of source IP, source port, destination IP, destination port, and protocol type toomap traffic tooavailable servers.</span></span> <span data-ttu-id="56a34-147">Il fournit l’adhérence uniquement *dans* une session de transport.</span><span class="sxs-lookup"><span data-stu-id="56a34-147">It provides stickiness only *within* a transport session.</span></span> <span data-ttu-id="56a34-148">Les paquets hello même session TCP ou UDP sera dirigé toohello même instance derrière le point de terminaison avec équilibrage de charge hello.</span><span class="sxs-lookup"><span data-stu-id="56a34-148">Packets in hello same TCP or UDP session will be directed toohello same instance behind hello load-balanced endpoint.</span></span> <span data-ttu-id="56a34-149">Lorsque le client de hello se ferme et rouvre la connexion de hello ou démarre une nouvelle session de hello la même adresse IP source, modifications de port source hello.</span><span class="sxs-lookup"><span data-stu-id="56a34-149">When hello client closes and reopens hello connection or starts a new session from hello same source IP, hello source port changes.</span></span> <span data-ttu-id="56a34-150">Cela peut entraîner hello trafic toogo tooa autre point de terminaison dans un autre centre de données.</span><span class="sxs-lookup"><span data-stu-id="56a34-150">This may cause hello traffic toogo tooa different endpoint in a different datacenter.</span></span>

    <span data-ttu-id="56a34-151">Pour en savoir plus, consultez [Mode de distribution de l’équilibrage de charge](load-balancer-distribution-mode.md).</span><span class="sxs-lookup"><span data-stu-id="56a34-151">For more details, see [Load balancer distribution mode](load-balancer-distribution-mode.md).</span></span> <span data-ttu-id="56a34-152">Hello graphique suivant illustre distribution basée sur le hachage de hello :</span><span class="sxs-lookup"><span data-stu-id="56a34-152">hello following graphic shows hello hash-based distribution:</span></span>

    ![Distribution basée sur le hachage](./media/load-balancer-overview/load-balancer-distribution.png)

    <span data-ttu-id="56a34-154">Figure 3 : distribution basée sur le hachage</span><span class="sxs-lookup"><span data-stu-id="56a34-154">Figure 3 - Hash based distribution</span></span>

* <span data-ttu-id="56a34-155">Réacheminement de port</span><span class="sxs-lookup"><span data-stu-id="56a34-155">Port forwarding</span></span>

    <span data-ttu-id="56a34-156">L'équilibrage de charge Azure vous permet de contrôler la gestion des communications entrantes.</span><span class="sxs-lookup"><span data-stu-id="56a34-156">Azure Load Balancer gives you control over how inbound communication is managed.</span></span> <span data-ttu-id="56a34-157">Ces communications comprennent le trafic initié par des hôtes Internet, des machines virtuelles dans d'autres services cloud ou des réseaux virtuels.</span><span class="sxs-lookup"><span data-stu-id="56a34-157">This communication includes traffic initiated from Internet hosts, virtual machines in other cloud services, or virtual networks.</span></span> <span data-ttu-id="56a34-158">Ce contrôle est représenté par un point de terminaison (également appelé point de terminaison d'entrée).</span><span class="sxs-lookup"><span data-stu-id="56a34-158">This control is represented by an endpoint (also called an input endpoint).</span></span>

    <span data-ttu-id="56a34-159">Un point de terminaison écoute sur un port public et transfère le trafic de port interne de tooan.</span><span class="sxs-lookup"><span data-stu-id="56a34-159">An input endpoint listens on a public port and forwards traffic tooan internal port.</span></span> <span data-ttu-id="56a34-160">Vous pouvez mapper hello même ports pour un point de terminaison interne ou externe ou utiliser un port différent pour eux.</span><span class="sxs-lookup"><span data-stu-id="56a34-160">You can map hello same ports for an internal or external endpoint or use a different port for them.</span></span> <span data-ttu-id="56a34-161">Par exemple, vous pouvez avoir un tooport toolisten du serveur configuré web 81 alors que le mappage de point de terminaison public hello est le port 80.</span><span class="sxs-lookup"><span data-stu-id="56a34-161">For example, you can have a web server configured toolisten tooport 81 while hello public endpoint mapping is port 80.</span></span> <span data-ttu-id="56a34-162">la création d’un point de terminaison public Hello déclenche la création d’une instance d’équilibrage de charge hello.</span><span class="sxs-lookup"><span data-stu-id="56a34-162">hello creation of a public endpoint triggers hello creation of a load balancer instance.</span></span>

    <span data-ttu-id="56a34-163">Lorsque créé à l’aide de hello le portail Azure, portal de hello crée automatiquement une machine virtuelle points de terminaison toohello hello protocole RDP (Remote Desktop) et le trafic de session Windows PowerShell à distance.</span><span class="sxs-lookup"><span data-stu-id="56a34-163">When created using hello Azure portal, hello portal automatically creates endpoints toohello virtual machine for hello Remote Desktop Protocol (RDP) and remote Windows PowerShell session traffic.</span></span> <span data-ttu-id="56a34-164">Vous pouvez utiliser ces points de terminaison tooremotely administrer hello virtual machine via hello Internet.</span><span class="sxs-lookup"><span data-stu-id="56a34-164">You can use these endpoints tooremotely administer hello virtual machine over hello Internet.</span></span>

* <span data-ttu-id="56a34-165">Reconfiguration automatique</span><span class="sxs-lookup"><span data-stu-id="56a34-165">Automatic reconfiguration</span></span>

    <span data-ttu-id="56a34-166">L'équilibrage de charge Azure se reconfigure instantanément lors de la mise à l'échelle d'instances vers le haut ou vers le bas.</span><span class="sxs-lookup"><span data-stu-id="56a34-166">Azure Load Balancer instantly reconfigures itself when you scale instances up or down.</span></span> <span data-ttu-id="56a34-167">Par exemple, cette reconfiguration se produit lorsque vous augmentez hello du nombre d’instances pour les rôles web/de travail dans un service cloud ou lorsque vous ajoutez des ordinateurs virtuels supplémentaires en hello même équilibrée définie.</span><span class="sxs-lookup"><span data-stu-id="56a34-167">For example, this reconfiguration happens when you increase hello instance count for web/worker roles in a cloud service or when you add additional virtual machines into hello same load-balanced set.</span></span>

* <span data-ttu-id="56a34-168">Surveillance des services</span><span class="sxs-lookup"><span data-stu-id="56a34-168">Service monitoring</span></span>

    <span data-ttu-id="56a34-169">Équilibrage de charge Azure peut détecter intégrité hello hello différentes instances de serveur.</span><span class="sxs-lookup"><span data-stu-id="56a34-169">Azure Load Balancer can probe hello health of hello various server instances.</span></span> <span data-ttu-id="56a34-170">Lorsqu’une sonde échoue toorespond, équilibrage de charge hello cesse d’envoyer des toohello des instances non intègre de nouvelles connexions.</span><span class="sxs-lookup"><span data-stu-id="56a34-170">When a probe fails toorespond, hello load balancer stops sending new connections toohello unhealthy instances.</span></span> <span data-ttu-id="56a34-171">Les connexions existantes ne sont pas concernées.</span><span class="sxs-lookup"><span data-stu-id="56a34-171">Existing connections are not impacted.</span></span>

    <span data-ttu-id="56a34-172">Trois types de sondes sont pris en charge :</span><span class="sxs-lookup"><span data-stu-id="56a34-172">Three types of probes are supported:</span></span>

    + <span data-ttu-id="56a34-173">**Sonde de l’agent invité (sur la plateforme en tant qu’un Service les ordinateurs virtuels uniquement) :** équilibrage de charge hello utilise l’agent invité de hello à l’intérieur de machine virtuelle de hello.</span><span class="sxs-lookup"><span data-stu-id="56a34-173">**Guest agent probe (on Platform as a Service Virtual Machines only):** hello load balancer utilizes hello guest agent inside hello virtual machine.</span></span> <span data-ttu-id="56a34-174">Hello agent invité d’écoute et répond avec une réponse HTTP 200 OK uniquement lorsque hello instance est prête hello (c'est-à-dire hello instance n’est pas dans un état comme occupé, le recyclage ou l’arrêt).</span><span class="sxs-lookup"><span data-stu-id="56a34-174">hello guest agent listens and responds with an HTTP 200 OK response only when hello instance is in hello ready state (i.e. hello instance is not in a state like busy, recycling, or stopping).</span></span> <span data-ttu-id="56a34-175">Si l’agent de hello échoue toorespond avec un OK de 200 HTTP, les marques de programme d’équilibrage de charge hello hello instance ne répond pas et cesse d’envoyer l’instance toothat de trafic.</span><span class="sxs-lookup"><span data-stu-id="56a34-175">If hello agent fails toorespond with an HTTP 200 OK, hello load balancer marks hello instance as unresponsive and stops sending traffic toothat instance.</span></span> <span data-ttu-id="56a34-176">équilibrage de charge Hello continue d’instance de hello tooping.</span><span class="sxs-lookup"><span data-stu-id="56a34-176">hello load balancer continues tooping hello instance.</span></span> <span data-ttu-id="56a34-177">Si l’agent invité de hello répond avec un HTTP 200, équilibrage de charge hello envoie à nouveau instance toothat de trafic.</span><span class="sxs-lookup"><span data-stu-id="56a34-177">If hello guest agent responds with an HTTP 200, hello load balancer will send traffic toothat instance again.</span></span> <span data-ttu-id="56a34-178">Lorsque vous utilisez un rôle web, votre code de site Web s’exécute généralement dans w3wp.exe, ce qui n’est pas analysé par hello tissu Azure ou l’agent invité.</span><span class="sxs-lookup"><span data-stu-id="56a34-178">When you're using a web role, your website code typically runs in w3wp.exe, which is not monitored by hello Azure fabric or guest agent.</span></span> <span data-ttu-id="56a34-179">Cela signifie que les échecs dans w3wp.exe (par exemple, les réponses HTTP 500) ne sera pas l’agent invité de toohello signalé et équilibrage de charge hello ne saura pas tootake cette instance hors rotation.</span><span class="sxs-lookup"><span data-stu-id="56a34-179">This means that failures in w3wp.exe (e.g. HTTP 500 responses) will not be reported toohello guest agent, and hello load balancer will not know tootake that instance out of rotation.</span></span>
    + <span data-ttu-id="56a34-180">**Sonde personnalisée HTTP :** sonde de hello par défaut (l’agent invité) substitue à cette sonde.</span><span class="sxs-lookup"><span data-stu-id="56a34-180">**HTTP custom probe:** This probe overrides hello default (guest agent) probe.</span></span> <span data-ttu-id="56a34-181">Vous pouvez l’utiliser toocreate votre propre logique personnalisée toodetermine hello la santé de l’instance de rôle hello.</span><span class="sxs-lookup"><span data-stu-id="56a34-181">You can use it toocreate your own custom logic toodetermine hello health of hello role instance.</span></span> <span data-ttu-id="56a34-182">équilibrage de charge Hello chercheront régulièrement votre point de terminaison (toutes les 15 secondes, par défaut).</span><span class="sxs-lookup"><span data-stu-id="56a34-182">hello load balancer will regularly probe your endpoint (every 15 seconds, by default).</span></span> <span data-ttu-id="56a34-183">instance de Hello est considéré comme toobe en rotation s’il répond avec HTTP 200 de TCP ACK au sein de la période de délai d’attente hello (31 secondes par défaut).</span><span class="sxs-lookup"><span data-stu-id="56a34-183">hello instance is considered toobe in rotation if it responds with a TCP ACK or HTTP 200 within hello timeout period (default of 31 seconds).</span></span> <span data-ttu-id="56a34-184">Cela est utile pour implémenter vos propres instances de tooremove logique de la rotation de l’équilibreur de charge hello.</span><span class="sxs-lookup"><span data-stu-id="56a34-184">This is useful for implementing your own logic tooremove instances from hello load balancer's rotation.</span></span> <span data-ttu-id="56a34-185">Par exemple, vous pouvez configurer hello instance tooreturn un état autre que 200 si l’instance de hello est supérieure à 90 % de l’UC.</span><span class="sxs-lookup"><span data-stu-id="56a34-185">For example, you can configure hello instance tooreturn a non-200 status if hello instance is above 90% CPU.</span></span> <span data-ttu-id="56a34-186">Pour les rôles web qui utilisent w3wp.exe, vous obtenez également automatique d’analyse de votre site Web, puisque les défaillances dans votre code de site Web retournent une sonde toohello d’état de non-200.</span><span class="sxs-lookup"><span data-stu-id="56a34-186">For web roles that use w3wp.exe, you also get automatic monitoring of your website, since failures in your website code return a non-200 status toohello probe.</span></span>
    + <span data-ttu-id="56a34-187">**Sonde personnalisée TCP :** cette sonde s’appuie sur la réussite session établissement tooa défini sonde le port TCP.</span><span class="sxs-lookup"><span data-stu-id="56a34-187">**TCP custom probe:** This probe relies on successful TCP session establishment tooa defined probe port.</span></span>

    <span data-ttu-id="56a34-188">Pour plus d’informations, consultez hello [schéma LoadBalancerProbe](https://msdn.microsoft.com/library/azure/jj151530.aspx).</span><span class="sxs-lookup"><span data-stu-id="56a34-188">For more information, see hello [LoadBalancerProbe schema](https://msdn.microsoft.com/library/azure/jj151530.aspx).</span></span>

* <span data-ttu-id="56a34-189">Source NAT</span><span class="sxs-lookup"><span data-stu-id="56a34-189">Source NAT</span></span>

    <span data-ttu-id="56a34-190">Tout le trafic sortant toohello Internet qui proviennent de votre service subit source NAT (SNAT) à l’aide de hello la même adresse IP virtuelle comme hello le trafic entrant.</span><span class="sxs-lookup"><span data-stu-id="56a34-190">All outbound traffic toohello Internet that originates from your service undergoes source NAT (SNAT) by using hello same VIP address as hello incoming traffic.</span></span> <span data-ttu-id="56a34-191">SNAT offre des avantages importants :</span><span class="sxs-lookup"><span data-stu-id="56a34-191">SNAT provides important benefits:</span></span>

    + <span data-ttu-id="56a34-192">Il permet une simple mise à niveau et récupération d’urgence de services, puisque hello qu'adresse IP virtuelle peut être dynamiquement mappée instance tooanother du service de hello.</span><span class="sxs-lookup"><span data-stu-id="56a34-192">It enables easy upgrade and disaster recovery of services, since hello VIP can be dynamically mapped tooanother instance of hello service.</span></span>
    + <span data-ttu-id="56a34-193">Il facilite la gestion des listes de contrôle d’accès (ACL).</span><span class="sxs-lookup"><span data-stu-id="56a34-193">It makes access control list (ACL) management easier.</span></span> <span data-ttu-id="56a34-194">Les ACL exprimées sous forme d’adresses IP virtuelles ne changent pas lorsque les services montent en puissance, descendent en puissance ou sont redéployés.</span><span class="sxs-lookup"><span data-stu-id="56a34-194">ACLs expressed in terms of VIPs do not change as services scale up, down, or get redeployed.</span></span>

    <span data-ttu-id="56a34-195">configuration d’équilibrage de charge de Hello prend en charge complète cône NAT pour le protocole UDP.</span><span class="sxs-lookup"><span data-stu-id="56a34-195">hello load balancer configuration supports full cone NAT for UDP.</span></span> <span data-ttu-id="56a34-196">Cône plein NAT est un type de NAT où port de hello autorise les connexions entrantes à partir de n’importe quel hôte externe (dans la demande sortante tooan de réponse).</span><span class="sxs-lookup"><span data-stu-id="56a34-196">Full cone NAT is a type of NAT where hello port allows inbound connections from any external host (in response tooan outbound request).</span></span>

    <span data-ttu-id="56a34-197">Pour chaque nouvelle connexion sortante qui lance d’un ordinateur virtuel, un port de sortie est également alloué par l’équilibrage de charge hello.</span><span class="sxs-lookup"><span data-stu-id="56a34-197">For each new outbound connection that a virtual machine initiates, an outbound port is also allocated by hello load balancer.</span></span> <span data-ttu-id="56a34-198">l’hôte externe Hello voit le trafic avec un port virtuel alloué par l’adresse IP virtuelle de l’IP.</span><span class="sxs-lookup"><span data-stu-id="56a34-198">hello external host sees traffic with a virtual IP (VIP)-allocated port.</span></span> <span data-ttu-id="56a34-199">Pour les scénarios qui requièrent un grand nombre de connexions sortantes, il est recommandé de toouse [adresse IP publique au niveau de l’instance](../virtual-network/virtual-networks-instance-level-public-ip.md) adresses afin que les ordinateurs virtuels de hello disposent d’une adresse IP sortante dédiée pour SNAT.</span><span class="sxs-lookup"><span data-stu-id="56a34-199">For scenarios that require a large number of outbound connections, it is recommended toouse [instance-level public IP](../virtual-network/virtual-networks-instance-level-public-ip.md) addresses so that hello VMs have a dedicated outbound IP address for SNAT.</span></span> <span data-ttu-id="56a34-200">Cela réduit le risque de hello d’épuisement du port.</span><span class="sxs-lookup"><span data-stu-id="56a34-200">This reduces hello risk of port exhaustion.</span></span>

    <span data-ttu-id="56a34-201">Consultez l’article [connexions sortantes](load-balancer-outbound-connections.md) pour plus d’informations sur ce sujet.</span><span class="sxs-lookup"><span data-stu-id="56a34-201">Please see [outbound connections](load-balancer-outbound-connections.md) article for more details on this topic.</span></span>

### <a name="support-for-multiple-load-balanced-ip-addresses-for-virtual-machines"></a><span data-ttu-id="56a34-202">Prise en charge de plusieurs adresses IP à équilibrage de charge pour les machines virtuelles</span><span class="sxs-lookup"><span data-stu-id="56a34-202">Support for multiple load-balanced IP addresses for virtual machines</span></span>
<span data-ttu-id="56a34-203">Vous pouvez affecter plusieurs équilibrée publics tooa ensemble d’adresses IP des ordinateurs virtuels.</span><span class="sxs-lookup"><span data-stu-id="56a34-203">You can assign more than one load-balanced public IP address tooa set of virtual machines.</span></span> <span data-ttu-id="56a34-204">Avec cette possibilité, vous pouvez héberger plusieurs sites Web SSL et/ou plusieurs écouteurs de groupe de disponibilité AlwaysOn de SQL Server sur le même ensemble d’ordinateurs virtuels de hello.</span><span class="sxs-lookup"><span data-stu-id="56a34-204">With this ability, you can host multiple SSL websites and/or multiple SQL Server AlwaysOn Availability Group listeners on hello same set of virtual machines.</span></span> <span data-ttu-id="56a34-205">Pour en savoir plus, consultez [Plusieurs adresses IP virtuelles par service cloud](load-balancer-multivip.md).</span><span class="sxs-lookup"><span data-stu-id="56a34-205">For more information, see [Multiple VIPs per cloud service](load-balancer-multivip.md).</span></span>

[!INCLUDE [load-balancer-compare-tm-ag-lb-include.md](../../includes/load-balancer-compare-tm-ag-lb-include.md)]

## <a name="limitations"></a><span data-ttu-id="56a34-206">Limites</span><span class="sxs-lookup"><span data-stu-id="56a34-206">Limitations</span></span>

<span data-ttu-id="56a34-207">Les pools back-end d’équilibreur de charge peuvent héberger toutes les références SKU de machines virtuelles, sauf le niveau De base.</span><span class="sxs-lookup"><span data-stu-id="56a34-207">Load Balancer backend pools can contain any VM SKU except Basic tier.</span></span>

## <a name="next-steps"></a><span data-ttu-id="56a34-208">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="56a34-208">Next steps</span></span>

- <span data-ttu-id="56a34-209">En savoir plus sur l’[équilibrage de charge accessible sur Internet](load-balancer-internet-overview.md)</span><span class="sxs-lookup"><span data-stu-id="56a34-209">Learn more about [Internet-facing load balancer](load-balancer-internet-overview.md)</span></span>

- <span data-ttu-id="56a34-210">En savoir plus sur l’[équilibrage de charge interne](load-balancer-internal-overview.md)</span><span class="sxs-lookup"><span data-stu-id="56a34-210">Learn more about [Internal load balancer overview](load-balancer-internal-overview.md)</span></span>

- <span data-ttu-id="56a34-211">Créer un [équilibrage de charge accessible sur Internet](load-balancer-get-started-internet-portal.md)</span><span class="sxs-lookup"><span data-stu-id="56a34-211">Create an [Internet-facing load balancer](load-balancer-get-started-internet-portal.md)</span></span>

- <span data-ttu-id="56a34-212">En savoir plus sur certaines des hello autre clé [fonctionnalités de réseau](../networking/networking-overview.md) de Azure</span><span class="sxs-lookup"><span data-stu-id="56a34-212">Learn about some of hello other key [networking capabilities](../networking/networking-overview.md) of Azure</span></span>

