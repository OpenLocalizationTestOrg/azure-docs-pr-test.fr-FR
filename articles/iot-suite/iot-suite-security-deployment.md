---
title: "Sécuriser votre déploiement de l’Internet des objets | Microsoft Docs"
description: "Cet article explique comment sécuriser votre déploiement IoT"
services: 
suite: iot-suite
documentationcenter: 
author: YuriDio
manager: timlt
editor: 
ms.assetid: 95c23341-16b0-4954-b3f2-d2e82ab7b367
ms.service: iot-suite
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/24/2017
ms.author: yurid
ms.openlocfilehash: d752dd13b138cdae80dac5c0b2f84a19fe0aa670
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/29/2017
---
# <a name="secure-your-iot-deployment"></a><span data-ttu-id="00db8-103">Sécuriser votre déploiement IoT</span><span class="sxs-lookup"><span data-stu-id="00db8-103">Secure your IoT deployment</span></span>
<span data-ttu-id="00db8-104">Cet article fournit davantage de détails sur la sécurisation de l’infrastructure Internet des objets (IoT) basée sur Azure IoT.</span><span class="sxs-lookup"><span data-stu-id="00db8-104">This article provides the next level of detail for securing the Azure IoT-based Internet of Things (IoT) infrastructure.</span></span> <span data-ttu-id="00db8-105">Il est lié à la procédure au niveau de l’implémentation pour la configuration et le déploiement de chaque composant.</span><span class="sxs-lookup"><span data-stu-id="00db8-105">It links to implementation level details for configuring and deploying each component.</span></span> <span data-ttu-id="00db8-106">Il fournit également des comparaisons et des choix entre les différentes méthodes.</span><span class="sxs-lookup"><span data-stu-id="00db8-106">It also provides comparisons and choices between various competing methods.</span></span>

<span data-ttu-id="00db8-107">La sécurisation du déploiement Azure IoT peut être divisée selon les trois zones de sécurité suivantes :</span><span class="sxs-lookup"><span data-stu-id="00db8-107">Securing the Azure IoT deployment can be divided into the following three security areas:</span></span>

* <span data-ttu-id="00db8-108">**Sécurité de l’appareil**: sécurisation de l’appareil IoT alors que celui-ci est déployé dans la nature.</span><span class="sxs-lookup"><span data-stu-id="00db8-108">**Device Security**: Securing the IoT device while it is deployed in the wild.</span></span>
* <span data-ttu-id="00db8-109">**Sécurité de la connexion**: s’assurer que toutes les données transmises entre l’appareil IoT et IoT Hub sont confidentielles et protégées contre la falsification.</span><span class="sxs-lookup"><span data-stu-id="00db8-109">**Connection Security**: Ensuring all data transmitted between the IoT device and IoT Hub is confidential and tamper-proof.</span></span>
* <span data-ttu-id="00db8-110">**Sécurité du cloud**: fournir un moyen de sécuriser les données lorsque celles-ci transitent par le cloud ou sont stockées sur celui-ci.</span><span class="sxs-lookup"><span data-stu-id="00db8-110">**Cloud Security**: Providing a means to secure data while it moves through, and is stored in the cloud.</span></span>

![Trois zones de sécurité][img-overview]

## <a name="secure-device-provisioning-and-authentication"></a><span data-ttu-id="00db8-112">Approvisionnement et authentification sécurisés des appareils</span><span class="sxs-lookup"><span data-stu-id="00db8-112">Secure device provisioning and authentication</span></span>
<span data-ttu-id="00db8-113">Azure IoT Suite sécurise les appareils IoT à l’aide des deux méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="00db8-113">The Azure IoT Suite secures IoT devices by the following two methods:</span></span>

* <span data-ttu-id="00db8-114">En fournissant une clé d’identité unique (jetons de sécurité) pour chaque appareil, qui peut être utilisée par l’appareil pour communiquer avec IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="00db8-114">By providing a unique identity key (security tokens) for each device, which can be used by the device to communicate with the IoT Hub.</span></span>
* <span data-ttu-id="00db8-115">À l’aide d’un [certificat X.509][lnk-x509] et d’une clé privée sur l’appareil en vue d’authentifier l’appareil auprès de l’IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="00db8-115">By using an on-device [X.509 certificate][lnk-x509] and private key as a means to authenticate the device to the IoT Hub.</span></span> <span data-ttu-id="00db8-116">Cette méthode d’authentification permet de s’assurer que la clé privée sur l’appareil reste confidentielle à tout moment, offrant ainsi un niveau de sécurité plus élevé.</span><span class="sxs-lookup"><span data-stu-id="00db8-116">This authentication method ensures that the private key on the device is not known outside the device at any time, providing a higher level of security.</span></span>

<span data-ttu-id="00db8-117">La méthode du jeton de sécurité fournit une authentification pour chaque appel effectué par l’appareil à IoT Hub en associant la clé symétrique à chaque appel.</span><span class="sxs-lookup"><span data-stu-id="00db8-117">The security token method provides authentication for each call made by the device to IoT Hub by associating the symmetric key to each call.</span></span> <span data-ttu-id="00db8-118">L’authentification basée sur le certificat X.509 permet l’authentification d’un appareil IoT au niveau physique dans le cadre de l’établissement d’une connexion TLS.</span><span class="sxs-lookup"><span data-stu-id="00db8-118">X.509-based authentication allows authentication of an IoT device at the physical layer as part of the TLS connection establishment.</span></span> <span data-ttu-id="00db8-119">La méthode basée sur le jeton de sécurité peut être utilisée sans l’authentification X.509 qui constitue un modèle moins sécurisé.</span><span class="sxs-lookup"><span data-stu-id="00db8-119">The security-token-based method can be used without the X.509 authentication which is a less secure pattern.</span></span> <span data-ttu-id="00db8-120">Le choix entre les deux méthodes dépend principalement du niveau requis pour l’authentification de l’appareil et de la disponibilité d’un stockage sécurisé sur l’appareil (pour stocker la clé privée en toute sécurité).</span><span class="sxs-lookup"><span data-stu-id="00db8-120">The choice between the two methods is primarily dictated by how secure the device authentication needs to be, and availability of secure storage on the device (to store the private key securely).</span></span>

## <a name="iot-hub-security-tokens"></a><span data-ttu-id="00db8-121">Jetons de sécurité IoT Hub</span><span class="sxs-lookup"><span data-stu-id="00db8-121">IoT Hub security tokens</span></span>
<span data-ttu-id="00db8-122">IoT Hub utilise des jetons de sécurité pour authentifier les appareils et les services afin d’éviter d’envoyer des clés sur le réseau.</span><span class="sxs-lookup"><span data-stu-id="00db8-122">IoT Hub uses security tokens to authenticate devices and services to avoid sending keys on the network.</span></span> <span data-ttu-id="00db8-123">En outre, la validité et la portée des jetons sont limitées dans le temps.</span><span class="sxs-lookup"><span data-stu-id="00db8-123">Additionally, security tokens are limited in time validity and scope.</span></span> <span data-ttu-id="00db8-124">Les Kits de développement logiciel (SDK) Azure IoT Hub génèrent automatiquement les jetons sans configuration spéciale.</span><span class="sxs-lookup"><span data-stu-id="00db8-124">Azure IoT SDKs automatically generate tokens without requiring any special configuration.</span></span> <span data-ttu-id="00db8-125">Certains scénarios requièrent toutefois que l’utilisateur génère et utilise directement des jetons de sécurité.</span><span class="sxs-lookup"><span data-stu-id="00db8-125">Some scenarios, however, require the user to generate and use security tokens directly.</span></span> <span data-ttu-id="00db8-126">Par exemple, il peut s’agir de l’utilisation directe des surfaces MQTT, AMQP ou HTTP, ou de l’implémentation du modèle de service de jeton.</span><span class="sxs-lookup"><span data-stu-id="00db8-126">These include the direct use of the MQTT, AMQP, or HTTP surfaces, or the implementation of the token service pattern.</span></span>

<span data-ttu-id="00db8-127">Vous trouverez plus d’informations sur la structure du jeton de sécurité et son utilisation dans les articles suivants :</span><span class="sxs-lookup"><span data-stu-id="00db8-127">More details on the structure of the security token and its usage can be found in the following articles:</span></span>

* <span data-ttu-id="00db8-128">[Structure du jeton de sécurité][lnk-security-tokens]</span><span class="sxs-lookup"><span data-stu-id="00db8-128">[Security token structure][lnk-security-tokens]</span></span>
* <span data-ttu-id="00db8-129">[Utilisation de jetons SAP comme appareil][lnk-sas-tokens]</span><span class="sxs-lookup"><span data-stu-id="00db8-129">[Using SAS tokens as a device][lnk-sas-tokens]</span></span>

<span data-ttu-id="00db8-130">Chaque IoT Hub dispose d’un [registre d’identité][lnk-identity-registry] servant à créer des ressources par appareil dans le service, par exemple, une file d’attente contenant des messages actuels envoyés du cloud vers l’appareil. En outre, il autorise l’accès aux points de terminaison des appareils.</span><span class="sxs-lookup"><span data-stu-id="00db8-130">Each IoT Hub has an [identity registry][lnk-identity-registry] that can be used to create per-device resources in the service, such as a queue that contains in-flight cloud-to-device messages, and to allow access to the device-facing endpoints.</span></span> <span data-ttu-id="00db8-131">Le registre des identités IoT Hub stocke de manière sécurisée les identités des appareils et les clés de sécurité d’une solution.</span><span class="sxs-lookup"><span data-stu-id="00db8-131">The IoT Hub identity registry provides secure storage of device identities and security keys for a solution.</span></span> <span data-ttu-id="00db8-132">Des identités d’appareil peuvent être ajoutées à une liste verte ou une liste rouge, individuellement ou en groupe, permettant un contrôle total de l’accès à l’appareil.</span><span class="sxs-lookup"><span data-stu-id="00db8-132">Individual or groups of device identities can be added to an allow list, or a block list, enabling complete control over device access.</span></span> <span data-ttu-id="00db8-133">Les articles suivants fournissent plus de détails sur la structure du registre d’identité et les opérations prises en charge.</span><span class="sxs-lookup"><span data-stu-id="00db8-133">The following articles provide more details on the structure of the identity registry and supported operations.</span></span>

<span data-ttu-id="00db8-134">[IoT Hub prend en charge les protocoles tels que MQTT, AMQP, and HTTP][lnk-protocols].</span><span class="sxs-lookup"><span data-stu-id="00db8-134">[IoT Hub supports protocols such as MQTT, AMQP, and HTTP][lnk-protocols].</span></span> <span data-ttu-id="00db8-135">Chacun de ces protocoles utilise des jetons de sécurité à partir de l’appareil IoT vers IoT Hub différemment :</span><span class="sxs-lookup"><span data-stu-id="00db8-135">Each of these protocols use security tokens from the IoT device to IoT Hub differently:</span></span>

* <span data-ttu-id="00db8-136">AMQP : sécurité basée sur des revendications AMQP et SASL PLAIN ({policyName}@sas.root.{iothubName} dans le cas de jetons de niveau IoT hub ; {deviceId} dans le cas de jetons à l’échelle de l’appareil).</span><span class="sxs-lookup"><span data-stu-id="00db8-136">AMQP: SASL PLAIN and AMQP Claims-based security ({policyName}@sas.root.{iothubName} in the case of IoT hub-level tokens; {deviceId} in case of device-scoped tokens).</span></span>
* <span data-ttu-id="00db8-137">MQTT : le paquet CONNECT utilise {deviceId} en tant que {ClientId}, {IoThubhostname}/{deviceId} dans le champ **Nom d’utilisateur** et un jeton SAS dans le champ **Mot de passe**.</span><span class="sxs-lookup"><span data-stu-id="00db8-137">MQTT: CONNECT packet uses {deviceId} as the {ClientId}, {IoThubhostname}/{deviceId} in the **Username** field and a SAS token in the **Password** field.</span></span>
* <span data-ttu-id="00db8-138">HTTP : le jeton valide se trouve dans l’en-tête de la requête d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="00db8-138">HTTP: Valid token is in the authorization request header.</span></span>

<span data-ttu-id="00db8-139">Vous pouvez utiliser le registre d’identité IoT Hub pour configurer les informations d’identification de sécurité et le contrôle d’accès par appareil.</span><span class="sxs-lookup"><span data-stu-id="00db8-139">IoT Hub identity registry can be used to configure per-device security credentials and access control.</span></span> <span data-ttu-id="00db8-140">Cependant, si une solution IoT représente déjà un investissement significatif dans un [registre d’identité des appareils personnalisé et/ou un schéma d’authentification][lnk-custom-auth], vous pouvez intégrer cette infrastructure existante à IoT Hub en créant un service de jeton.</span><span class="sxs-lookup"><span data-stu-id="00db8-140">However, if an IoT solution already has a significant investment in a [custom device identity registry and/or authentication scheme][lnk-custom-auth], it can be integrated into an existing infrastructure with IoT Hub by creating a token service.</span></span>

### <a name="x509-certificate-based-device-authentication"></a><span data-ttu-id="00db8-141">Authentification des appareils basée sur un certificat X.509</span><span class="sxs-lookup"><span data-stu-id="00db8-141">X.509 certificate-based device authentication</span></span>
<span data-ttu-id="00db8-142">L’utilisation d’un [certificat X.509 basé sur un appareil][lnk-protocols] et sa paire de clés privée et publique associée permet d’obtenir une authentification supplémentaire au niveau de la couche physique.</span><span class="sxs-lookup"><span data-stu-id="00db8-142">The use of a [device-based X.509 certificate][lnk-protocols] and its associated private and public key pair allows additional authentication at the physical layer.</span></span> <span data-ttu-id="00db8-143">La clé privée est stockée en toute sécurité dans l’appareil et n’est pas détectable en dehors de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="00db8-143">The private key is stored securely in the device and is not discoverable outside the device.</span></span> <span data-ttu-id="00db8-144">Le certificat X.509 contient des informations sur l’appareil, telles que l’identifiant de l’appareil et d’autres détails organisationnels.</span><span class="sxs-lookup"><span data-stu-id="00db8-144">The X.509 certificate contains information about the device, such as device ID, and other organizational details.</span></span> <span data-ttu-id="00db8-145">Une signature du certificat est générée à l’aide de la clé privée.</span><span class="sxs-lookup"><span data-stu-id="00db8-145">A signature of the certificate is generated by using the private key.</span></span>

<span data-ttu-id="00db8-146">Flux d’approvisionnement des appareils de haut niveau :</span><span class="sxs-lookup"><span data-stu-id="00db8-146">High-level device provisioning flow:</span></span>

* <span data-ttu-id="00db8-147">Associer un identificateur à un appareil physique : identité de l’appareil et/ou certificat X.509 associés à l’appareil lors de la fabrication ou de la mise en service de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="00db8-147">Associate an identifier to a physical device – device identity and/or X.509 certificate associated to the device during device manufacturing or commissioning.</span></span>
* <span data-ttu-id="00db8-148">Créer une entrée d’identité correspondante dans IoT Hub : identité de l’appareil et informations connexes sur l’appareil dans le Registre d’identité IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="00db8-148">Create a corresponding identity entry in IoT Hub – device identity and associated device information in the IoT Hub identity registry.</span></span>
* <span data-ttu-id="00db8-149">Stocker en toute sécurité l’empreinte numérique du certificat X.509 dans le Registre d’identité IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="00db8-149">Securely store X.509 certificate thumbprint in IoT Hub identity registry.</span></span>

### <a name="root-certificate-on-device"></a><span data-ttu-id="00db8-150">Certificat racine sur un appareil</span><span class="sxs-lookup"><span data-stu-id="00db8-150">Root certificate on device</span></span>
<span data-ttu-id="00db8-151">Lors de l’établissement d’une connexion TLS sécurisée avec IoT Hub, l’appareil IoT authentifie IoT Hub à l’aide d’un certificat racine qui fait partie du Kit de développement logiciel (SDK) de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="00db8-151">While establishing a secure TLS connection with IoT Hub, the IoT device authenticates IoT Hub using a root certificate which is part of the device SDK.</span></span> <span data-ttu-id="00db8-152">Pour le Kit de développement logiciel (SDK) du client C, le certificat se trouve dans le dossier « \\c\\certs » sous la racine du référentiel.</span><span class="sxs-lookup"><span data-stu-id="00db8-152">For the C client SDK the certificate is located under the folder "\\c\\certs" under the root of the repo.</span></span> <span data-ttu-id="00db8-153">Bien que ces certificats racine soient de longue durée, ils peuvent malgré tout expirer ou être révoqués.</span><span class="sxs-lookup"><span data-stu-id="00db8-153">Though these root certificates are long-lived, they still may expire or be revoked.</span></span> <span data-ttu-id="00db8-154">S’il n’existe aucun moyen de mettre à jour le certificat sur l’appareil, il est possible que celui-ci ne puisse pas se connecter ultérieurement à IoT Hub (ou tout autre service cloud).</span><span class="sxs-lookup"><span data-stu-id="00db8-154">If there is no way of updating the certificate on the device, the device may not be able to subsequently connect to the IoT Hub (or any other cloud service).</span></span> <span data-ttu-id="00db8-155">Pour minimiser ce risque, nous vous conseillons de disposer d’un moyen de mettre à jour le certificat racine une fois l’appareil IoT déployé.</span><span class="sxs-lookup"><span data-stu-id="00db8-155">Having a means to update the root certificate once the IoT device is deployed will effectively mitigate this risk.</span></span>

## <a name="securing-the-connection"></a><span data-ttu-id="00db8-156">Sécurisation de la connexion</span><span class="sxs-lookup"><span data-stu-id="00db8-156">Securing the connection</span></span>
<span data-ttu-id="00db8-157">La connexion Internet entre l’appareil IoT et IoT Hub est sécurisée à l’aide de la norme TLS (Transport Layer Security).</span><span class="sxs-lookup"><span data-stu-id="00db8-157">Internet connection between the IoT device and IoT Hub is secured using the Transport Layer Security (TLS) standard.</span></span> <span data-ttu-id="00db8-158">Azure IoT prend en charge [TLS 1.2][lnk-tls12], TLS 1.1 et TLS 1.0, dans cet ordre.</span><span class="sxs-lookup"><span data-stu-id="00db8-158">Azure IoT supports [TLS 1.2][lnk-tls12], TLS 1.1 and TLS 1.0, in this order.</span></span> <span data-ttu-id="00db8-159">La prise en charge de TLS 1.0 est fournie uniquement à des fins de compatibilité descendante.</span><span class="sxs-lookup"><span data-stu-id="00db8-159">Support for TLS 1.0 is provided for backward compatibility only.</span></span> <span data-ttu-id="00db8-160">Il est recommandé d’utiliser TLS 1.2, qui fournit la meilleure sécurité.</span><span class="sxs-lookup"><span data-stu-id="00db8-160">It is recommended to use TLS 1.2 since it provides the most security.</span></span>

<span data-ttu-id="00db8-161">Azure IoT Suite prend en charge les suites de chiffrement suivantes, dans cet ordre.</span><span class="sxs-lookup"><span data-stu-id="00db8-161">Azure IoT Suite supports the following Cipher Suites, in this order.</span></span>

| <span data-ttu-id="00db8-162">Suite de chiffrement</span><span class="sxs-lookup"><span data-stu-id="00db8-162">Cipher Suite</span></span> | <span data-ttu-id="00db8-163">Longueur</span><span class="sxs-lookup"><span data-stu-id="00db8-163">Length</span></span> |
| --- | --- |
| <span data-ttu-id="00db8-164">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA384 (0xc028) ECDH secp384r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="00db8-164">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA384 (0xc028) ECDH secp384r1 (eq.</span></span> <span data-ttu-id="00db8-165">7680 bits RSA) FS</span><span class="sxs-lookup"><span data-stu-id="00db8-165">7680 bits RSA) FS</span></span> |<span data-ttu-id="00db8-166">256</span><span class="sxs-lookup"><span data-stu-id="00db8-166">256</span></span> |
| <span data-ttu-id="00db8-167">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0xc027) ECDH secp256r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="00db8-167">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0xc027) ECDH secp256r1 (eq.</span></span> <span data-ttu-id="00db8-168">3072 bits RSA) FS</span><span class="sxs-lookup"><span data-stu-id="00db8-168">3072 bits RSA) FS</span></span> |<span data-ttu-id="00db8-169">128</span><span class="sxs-lookup"><span data-stu-id="00db8-169">128</span></span> |
| <span data-ttu-id="00db8-170">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA (0xc014) ECDH secp384r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="00db8-170">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA (0xc014) ECDH secp384r1 (eq.</span></span> <span data-ttu-id="00db8-171">7680 bits RSA) FS</span><span class="sxs-lookup"><span data-stu-id="00db8-171">7680 bits RSA) FS</span></span> |<span data-ttu-id="00db8-172">256</span><span class="sxs-lookup"><span data-stu-id="00db8-172">256</span></span> |
| <span data-ttu-id="00db8-173">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA (0xc013) ECDH secp256r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="00db8-173">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA (0xc013) ECDH secp256r1 (eq.</span></span> <span data-ttu-id="00db8-174">3072 bits RSA) FS</span><span class="sxs-lookup"><span data-stu-id="00db8-174">3072 bits RSA) FS</span></span> |<span data-ttu-id="00db8-175">128</span><span class="sxs-lookup"><span data-stu-id="00db8-175">128</span></span> |
| <span data-ttu-id="00db8-176">TLS\_RSA\_WITH\_AES\_256\_GCM\_SHA384 (0x9d)</span><span class="sxs-lookup"><span data-stu-id="00db8-176">TLS\_RSA\_WITH\_AES\_256\_GCM\_SHA384 (0x9d)</span></span> |<span data-ttu-id="00db8-177">256</span><span class="sxs-lookup"><span data-stu-id="00db8-177">256</span></span> |
| <span data-ttu-id="00db8-178">TLS\_RSA\_WITH\_AES\_128\_GCM\_SHA256 (0x9c)</span><span class="sxs-lookup"><span data-stu-id="00db8-178">TLS\_RSA\_WITH\_AES\_128\_GCM\_SHA256 (0x9c)</span></span> |<span data-ttu-id="00db8-179">128</span><span class="sxs-lookup"><span data-stu-id="00db8-179">128</span></span> |
| <span data-ttu-id="00db8-180">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA256 (0x3d)</span><span class="sxs-lookup"><span data-stu-id="00db8-180">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA256 (0x3d)</span></span> |<span data-ttu-id="00db8-181">256</span><span class="sxs-lookup"><span data-stu-id="00db8-181">256</span></span> |
| <span data-ttu-id="00db8-182">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0x3c)</span><span class="sxs-lookup"><span data-stu-id="00db8-182">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0x3c)</span></span> |<span data-ttu-id="00db8-183">128</span><span class="sxs-lookup"><span data-stu-id="00db8-183">128</span></span> |
| <span data-ttu-id="00db8-184">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA (0x35)</span><span class="sxs-lookup"><span data-stu-id="00db8-184">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA (0x35)</span></span> |<span data-ttu-id="00db8-185">256</span><span class="sxs-lookup"><span data-stu-id="00db8-185">256</span></span> |
| <span data-ttu-id="00db8-186">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA (0x2f)</span><span class="sxs-lookup"><span data-stu-id="00db8-186">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA (0x2f)</span></span> |<span data-ttu-id="00db8-187">128</span><span class="sxs-lookup"><span data-stu-id="00db8-187">128</span></span> |
| <span data-ttu-id="00db8-188">TLS\_RSA\_WITH\_3DES\_EDE\_CBC\_SHA (0xa)</span><span class="sxs-lookup"><span data-stu-id="00db8-188">TLS\_RSA\_WITH\_3DES\_EDE\_CBC\_SHA (0xa)</span></span> |<span data-ttu-id="00db8-189">112</span><span class="sxs-lookup"><span data-stu-id="00db8-189">112</span></span> |

## <a name="securing-the-cloud"></a><span data-ttu-id="00db8-190">Sécurisation du cloud</span><span class="sxs-lookup"><span data-stu-id="00db8-190">Securing the cloud</span></span>
<span data-ttu-id="00db8-191">Azure IoT Hub permet la définition de [stratégies de contrôle d’accès][lnk-protocols] pour chaque clé de sécurité.</span><span class="sxs-lookup"><span data-stu-id="00db8-191">Azure IoT Hub allows definition of [access control policies][lnk-protocols] for each security key.</span></span> <span data-ttu-id="00db8-192">Azure IoT Hub utilise l’ensemble d’autorisations qui suit pour accorder l’accès à chaque point de terminaison IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="00db8-192">It uses the following set of permissions to grant access to each of IoT Hub's endpoints.</span></span> <span data-ttu-id="00db8-193">Les autorisations limitent l’accès à un IoT Hub selon la fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="00db8-193">Permissions limit the access to an IoT Hub based on functionality.</span></span>

* <span data-ttu-id="00db8-194">**RegistryRead**.</span><span class="sxs-lookup"><span data-stu-id="00db8-194">**RegistryRead**.</span></span> <span data-ttu-id="00db8-195">Accorde l’accès en lecture au registre des identités.</span><span class="sxs-lookup"><span data-stu-id="00db8-195">Grants read access to the identity registry.</span></span> <span data-ttu-id="00db8-196">Pour plus d’informations, consultez la rubrique dédiée au [registre des identités][lnk-identity-registry].</span><span class="sxs-lookup"><span data-stu-id="00db8-196">For more information, see [identity registry][lnk-identity-registry].</span></span>
* <span data-ttu-id="00db8-197">**RegistryReadWrite**.</span><span class="sxs-lookup"><span data-stu-id="00db8-197">**RegistryReadWrite**.</span></span> <span data-ttu-id="00db8-198">Accorde l’accès en lecture et en écriture au registre des identités.</span><span class="sxs-lookup"><span data-stu-id="00db8-198">Grants read and write access to the identity registry.</span></span> <span data-ttu-id="00db8-199">Pour plus d’informations, consultez la rubrique dédiée au [registre des identités][lnk-identity-registry].</span><span class="sxs-lookup"><span data-stu-id="00db8-199">For more information, see [identity registry][lnk-identity-registry].</span></span>
* <span data-ttu-id="00db8-200">**ServiceConnect**.</span><span class="sxs-lookup"><span data-stu-id="00db8-200">**ServiceConnect**.</span></span> <span data-ttu-id="00db8-201">Accorde l’accès à la communication de services cloud et à la surveillance des points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="00db8-201">Grants access to cloud service-facing communication and monitoring endpoints.</span></span> <span data-ttu-id="00db8-202">Par exemple, elle permet aux services cloud principaux de recevoir des messages appareil-à-cloud, d’envoyer des messages cloud-à-appareil et de récupérer les accusés de remise correspondants.</span><span class="sxs-lookup"><span data-stu-id="00db8-202">For example, it grants permission to back-end cloud services to receive device-to-cloud messages, send cloud-to-device messages, and retrieve the corresponding delivery acknowledgments.</span></span>
* <span data-ttu-id="00db8-203">**DeviceConnect**.</span><span class="sxs-lookup"><span data-stu-id="00db8-203">**DeviceConnect**.</span></span> <span data-ttu-id="00db8-204">Accorde l’accès aux points de terminaison côté appareil.</span><span class="sxs-lookup"><span data-stu-id="00db8-204">Grants access to device-facing endpoints.</span></span> <span data-ttu-id="00db8-205">Par exemple, elle permet d’envoyer des messages appareil-à-cloud et de recevoir des messages cloud-à-appareil.</span><span class="sxs-lookup"><span data-stu-id="00db8-205">For example, it grants permission to send device-to-cloud messages and receive cloud-to-device messages.</span></span> <span data-ttu-id="00db8-206">Cette autorisation est utilisée par les appareils.</span><span class="sxs-lookup"><span data-stu-id="00db8-206">This permission is used by devices.</span></span>

<span data-ttu-id="00db8-207">Il existe deux façons d’obtenir des autorisations **DeviceConnect** avec IoT Hub avec [jetons de sécurité][lnk-sas-tokens] : avec une clé d’identité d’appareil ou une clé d’accès partagé.</span><span class="sxs-lookup"><span data-stu-id="00db8-207">There are two ways to obtain **DeviceConnect** permissions with IoT Hub with [security tokens][lnk-sas-tokens]: using a device identity key, or a shared access key.</span></span> <span data-ttu-id="00db8-208">En outre, il est important de noter que toutes les fonctionnalités accessibles à partir des appareils sont exposées dès le départ sur les points de terminaison avec le préfixe `/devices/{deviceId}`.</span><span class="sxs-lookup"><span data-stu-id="00db8-208">Moreover, it is important to note that all functionality accessible from devices is exposed by design on endpoints with prefix `/devices/{deviceId}`.</span></span>

<span data-ttu-id="00db8-209">Les [composants de service peuvent uniquement créer des jetons de sécurité][lnk-service-tokens] utilisant des stratégies d’accès partagé pour accorder les autorisations adaptées.</span><span class="sxs-lookup"><span data-stu-id="00db8-209">[Service components can only generate security tokens][lnk-service-tokens] using shared access policies granting the appropriate permissions.</span></span>

<span data-ttu-id="00db8-210">Azure IoT Hub et d’autres services pouvant faire partie de la solution autorisent la gestion des utilisateurs à l’aide d’Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="00db8-210">Azure IoT Hub and other services which may be part of the solution allow management of users using the Azure Active Directory.</span></span>

<span data-ttu-id="00db8-211">Les données reçues par Azure IoT Hub peuvent être utilisées par une variété de services comme Azure Stream Analytics et le stockage d’objets blob.</span><span class="sxs-lookup"><span data-stu-id="00db8-211">Data ingested by Azure IoT Hub can be consumed by a variety of services such as Azure Stream Analytics and Azure blob storage.</span></span> <span data-ttu-id="00db8-212">Ces services permettent un accès en gestion.</span><span class="sxs-lookup"><span data-stu-id="00db8-212">These services allow management access.</span></span> <span data-ttu-id="00db8-213">En savoir plus sur ces services et les options disponibles ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="00db8-213">Read more about these services and available options below:</span></span>

* <span data-ttu-id="00db8-214">[Azure Cosmos DB][lnk-docdb] : service de base de données évolutif et entièrement indexé pour données semi-structurées, qui gère les métadonnées (attributs, configuration, propriétés de sécurité, etc.) des appareils que vous approvisionnez.</span><span class="sxs-lookup"><span data-stu-id="00db8-214">[Azure Cosmos DB][lnk-docdb]: A scalable, fully-indexed database service for semi-structured data that manages metadata for the devices you provision, such as attributes, configuration, and security properties.</span></span> <span data-ttu-id="00db8-215">Cosmos DB assure un traitement hautes performances et à débit élevé, ainsi qu’une indexation des données indépendante du schéma. Ce service offre également une interface de requête SQL enrichie.</span><span class="sxs-lookup"><span data-stu-id="00db8-215">Cosmos DB offers high-performance and high-throughput processing, schema-agnostic indexing of data, and a rich SQL query interface.</span></span>
* <span data-ttu-id="00db8-216">[Azure Stream Analytics][lnk-asa] : traitement des flux en temps réel dans le cloud, permettant de développer et de déployer rapidement une solution d’analyse à faible coût pour obtenir des informations en temps réel de la part des appareils, capteurs, infrastructures et applications.</span><span class="sxs-lookup"><span data-stu-id="00db8-216">[Azure Stream Analytics][lnk-asa]: Real-time stream processing in the cloud that enables you to rapidly develop and deploy a low-cost analytics solution to uncover real-time insights from devices, sensors, infrastructure, and applications.</span></span> <span data-ttu-id="00db8-217">Les données de ce service entièrement géré peuvent être mises à l’échelle selon n’importe quel volume. Vous continuez à bénéficier d’un débit élevé, d’une faible latence et de la résilience.</span><span class="sxs-lookup"><span data-stu-id="00db8-217">The data from this fully-managed service can scale to any volume while still achieving high throughput, low latency, and resiliency.</span></span>
* <span data-ttu-id="00db8-218">[Azure App Services][lnk-appservices] : plateforme cloud permettant de créer de puissantes applications web et mobiles qui se connectent aux données n’importe où, que ce soit localement ou dans le cloud.</span><span class="sxs-lookup"><span data-stu-id="00db8-218">[Azure App Services][lnk-appservices]: A cloud platform to build powerful web and mobile apps that connect to data anywhere; in the cloud or on-premises.</span></span> <span data-ttu-id="00db8-219">Créez des applications mobiles attrayantes pour iOS, Android et Windows.</span><span class="sxs-lookup"><span data-stu-id="00db8-219">Build engaging mobile apps for iOS, Android, and Windows.</span></span> <span data-ttu-id="00db8-220">Assurez l’intégration avec vos applications SaaS (Software as a Service) et d’entreprise grâce à une connectivité prête à l’emploi à des dizaines d’applications et services basés sur le cloud.</span><span class="sxs-lookup"><span data-stu-id="00db8-220">Integrate with your Software as a Service (SaaS) and enterprise applications with out-of-the-box connectivity to dozens of cloud-based services and enterprise applications.</span></span> <span data-ttu-id="00db8-221">Encodez dans votre environnement de développement intégré et votre langage favoris (.NET, Node.js, PHP, Python ou Java) pour créer rapidement des applications web et des API.</span><span class="sxs-lookup"><span data-stu-id="00db8-221">Code in your favorite language and IDE (.NET, Node.js, PHP, Python, or Java) to build web apps and APIs faster than ever.</span></span>
* <span data-ttu-id="00db8-222">[Logic Apps][lnk-logicapps] : fonctionnalité Azure App Service qui vous aide à intégrer votre solution IoT dans vos systèmes métier existants et à automatiser les processus de flux de travail.</span><span class="sxs-lookup"><span data-stu-id="00db8-222">[Logic Apps][lnk-logicapps]: The Logic Apps feature of Azure App Service helps integrate your IoT solution to your existing line-of-business systems and automate workflow processes.</span></span> <span data-ttu-id="00db8-223">Logic Apps permet aux développeurs de concevoir des flux de travail qui démarrent à partir d’un déclencheur et exécutent une série d’étapes — des règles et actions utilisant des connecteurs puissants pour l’intégration à vos processus d’entreprise.</span><span class="sxs-lookup"><span data-stu-id="00db8-223">Logic Apps enables developers to design workflows that start from a trigger and then execute a series of steps—rules and actions that use powerful connectors to integrate with your business processes.</span></span> <span data-ttu-id="00db8-224">Logic Apps offre une connectivité prête à l’emploi vers un vaste écosystème d’applications SaaS, basées sur le cloud et locales.</span><span class="sxs-lookup"><span data-stu-id="00db8-224">Logic Apps offers out-of-the-box connectivity to a vast ecosystem of SaaS, cloud-based, and on-premises applications.</span></span>
* <span data-ttu-id="00db8-225">[Blob Storage][lnk-blob] : stockage cloud fiable et économique pour les données que vos appareils envoient au cloud.</span><span class="sxs-lookup"><span data-stu-id="00db8-225">[Azure blob storage][lnk-blob]: Reliable, economical cloud storage for the data that your devices send to the cloud.</span></span>

## <a name="conclusion"></a><span data-ttu-id="00db8-226">Conclusion</span><span class="sxs-lookup"><span data-stu-id="00db8-226">Conclusion</span></span>
<span data-ttu-id="00db8-227">Cet article fournit une vue d’ensemble des détails au niveau de l’implémentation pour concevoir et déployer une infrastructure IoT à l’aide d’Azure IoT.</span><span class="sxs-lookup"><span data-stu-id="00db8-227">This article provides overview of implementation level details for designing and deploying an IoT infrastructure using Azure IoT.</span></span> <span data-ttu-id="00db8-228">La configuration de chaque composant afin qu’il soit sécurisé est essentielle pour sécuriser l’infrastructure IoT dans son ensemble.</span><span class="sxs-lookup"><span data-stu-id="00db8-228">Configuring each component to be secure is key in securing the overall IoT infrastructure.</span></span> <span data-ttu-id="00db8-229">Les choix de conception disponibles dans Azure IoT offrent un certain degré de souplesse et de choix. Toutefois, chaque choix peuvent avoir des implications en matière de sécurité.</span><span class="sxs-lookup"><span data-stu-id="00db8-229">The design choices available in Azure IoT provide some level of flexibility and choice; however, each choice may have security implications.</span></span> <span data-ttu-id="00db8-230">Nous vous recommandons d’évaluer chacun de ces choix à l’aide d’une évaluation des risques et du coût.</span><span class="sxs-lookup"><span data-stu-id="00db8-230">It is recommended that each of these choices be evaluated through a risk/cost assessment.</span></span>

## <a name="see-also"></a><span data-ttu-id="00db8-231">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="00db8-231">See also</span></span>
<span data-ttu-id="00db8-232">Vous pouvez également explorer certaines des autres fonctionnalités et capacités des solutions préconfigurées IoT Suite :</span><span class="sxs-lookup"><span data-stu-id="00db8-232">You can also explore some of the other features and capabilities of the IoT Suite preconfigured solutions:</span></span>

* <span data-ttu-id="00db8-233">[Présentation de la solution préconfigurée de maintenance prédictive][lnk-predictive-overview]</span><span class="sxs-lookup"><span data-stu-id="00db8-233">[Predictive maintenance preconfigured solution overview][lnk-predictive-overview]</span></span>
* <span data-ttu-id="00db8-234">[Forum Aux Questions (FAQ) relatives à IoT Suite][lnk-faq]</span><span class="sxs-lookup"><span data-stu-id="00db8-234">[Frequently asked questions for IoT Suite][lnk-faq]</span></span>

<span data-ttu-id="00db8-235">Pour en savoir plus sur la sécurité d’IoT Hub, consultez la rubrique [Contrôler l’accès à IoT Hub][lnk-devguide-security] du guide du développeur IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="00db8-235">You can read about IoT Hub security in [Control access to IoT Hub][lnk-devguide-security] in the IoT Hub developer guide.</span></span>


[img-overview]: media/iot-suite-security-deployment/overview.png

[lnk-security-tokens]: ../iot-hub/iot-hub-devguide-security.md#security-token-structure
[lnk-sas-tokens]: ../iot-hub/iot-hub-devguide-security.md#use-sas-tokens-in-a-device-app
[lnk-identity-registry]: ../iot-hub/iot-hub-devguide-identity-registry.md
[lnk-protocols]: ../iot-hub/iot-hub-devguide-security.md
[lnk-custom-auth]: ../iot-hub/iot-hub-devguide-security.md#custom-device-authentication
[lnk-x509]: http://www.itu.int/rec/T-REC-X.509-201210-I/en
[lnk-tls12]: https://tools.ietf.org/html/rfc5246
[lnk-service-tokens]: ../iot-hub/iot-hub-devguide-security.md#use-security-tokens-from-service-components
[lnk-docdb]: https://azure.microsoft.com/services/documentdb/
[lnk-asa]: https://azure.microsoft.com/services/stream-analytics/
[lnk-appservices]: https://azure.microsoft.com/services/app-service/
[lnk-logicapps]: https://azure.microsoft.com/services/app-service/logic/
[lnk-blob]: https://azure.microsoft.com/services/storage/

[lnk-predictive-overview]: iot-suite-predictive-overview.md
[lnk-faq]: iot-suite-faq.md
[lnk-devguide-security]: ../iot-hub/iot-hub-devguide-security.md
