---
title: "Solutions préconfigurées IoT Azure | Microsoft Docs"
description: "Description des solutions préconfigurées IoT Azure et de leur architecture avec des liens vers des ressources supplémentaires."
services: 
suite: iot-suite
documentationcenter: 
author: dominicbetts
manager: timlt
editor: 
ms.assetid: 59009f37-9ba0-4e17-a189-7ea354a858a2
ms.service: iot-suite
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/25/2017
ms.author: dobett
ms.openlocfilehash: d66dece63d2ba944c8f3828ba68c6202485d47e0
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/03/2017
---
# <a name="what-are-the-azure-iot-suite-preconfigured-solutions"></a><span data-ttu-id="4869c-103">Que sont les solutions préconfigurées Azure IoT Suite ?</span><span class="sxs-lookup"><span data-stu-id="4869c-103">What are the Azure IoT Suite preconfigured solutions?</span></span>

<span data-ttu-id="4869c-104">Les solutions Azure IoT Suite préconfigurées sont des implémentations de modèles de solution IoT courants que vous pouvez déployer sur Azure en utilisant votre abonnement.</span><span class="sxs-lookup"><span data-stu-id="4869c-104">The Azure IoT Suite preconfigured solutions are implementations of common IoT solution patterns that you can deploy to Azure using your subscription.</span></span> <span data-ttu-id="4869c-105">Vous pouvez utiliser les solutions préconfigurées :</span><span class="sxs-lookup"><span data-stu-id="4869c-105">You can use the preconfigured solutions:</span></span>

* <span data-ttu-id="4869c-106">Comme point de départ de vos propres solutions IoT.</span><span class="sxs-lookup"><span data-stu-id="4869c-106">As a starting point for your own IoT solutions.</span></span>
* <span data-ttu-id="4869c-107">Pour en savoir plus sur les modèles courants en matière de développement et de conception d’une solution IoT.</span><span class="sxs-lookup"><span data-stu-id="4869c-107">To learn about common patterns in IoT solution design and development.</span></span>

<span data-ttu-id="4869c-108">Chaque solution préconfigurée est une implémentation complète de bout en bout qui utilise les appareils simulés pour générer la télémétrie.</span><span class="sxs-lookup"><span data-stu-id="4869c-108">Each preconfigured solution is a complete, end-to-end implementation that uses simulated devices to generate telemetry.</span></span>

<span data-ttu-id="4869c-109">Vous pouvez télécharger le code source complet pour personnaliser et étendre la solution afin de répondre à vos besoins IoT spécifiques.</span><span class="sxs-lookup"><span data-stu-id="4869c-109">You can download the complete source code to customize and extend the solution to meet your specific IoT requirements.</span></span>

> [!NOTE]
> <span data-ttu-id="4869c-110">Pour déployer l’une des solutions préconfigurées, visitez [Microsoft Azure IoT Suite][lnk-azureiotsuite].</span><span class="sxs-lookup"><span data-stu-id="4869c-110">To deploy one of the preconfigured solutions, visit [Microsoft Azure IoT Suite][lnk-azureiotsuite].</span></span> <span data-ttu-id="4869c-111">L’article [Prise en main des solutions préconfigurées IoT][lnk-getstarted-preconfigured] fournit plus d’informations pour vous expliquer comment déployer et exécuter l’une des solutions.</span><span class="sxs-lookup"><span data-stu-id="4869c-111">The article [Get started with the IoT preconfigured solutions][lnk-getstarted-preconfigured] provides more information about how to deploy and run one of the solutions.</span></span>

<span data-ttu-id="4869c-112">Le tableau suivant montre le mappage entre les solutions et des fonctionnalités IoT spécifiques :</span><span class="sxs-lookup"><span data-stu-id="4869c-112">The following table shows how the solutions map to specific IoT features:</span></span>

| <span data-ttu-id="4869c-113">Solution</span><span class="sxs-lookup"><span data-stu-id="4869c-113">Solution</span></span> | <span data-ttu-id="4869c-114">Ingestion de données</span><span class="sxs-lookup"><span data-stu-id="4869c-114">Data ingestion</span></span> | <span data-ttu-id="4869c-115">Identité d’appareil</span><span class="sxs-lookup"><span data-stu-id="4869c-115">Device identity</span></span> | <span data-ttu-id="4869c-116">Gestion des appareils</span><span class="sxs-lookup"><span data-stu-id="4869c-116">Device management</span></span> | <span data-ttu-id="4869c-117">Commande et contrôle</span><span class="sxs-lookup"><span data-stu-id="4869c-117">Command and control</span></span> | <span data-ttu-id="4869c-118">Règles et actions</span><span class="sxs-lookup"><span data-stu-id="4869c-118">Rules and actions</span></span> | <span data-ttu-id="4869c-119">Analyse prédictive</span><span class="sxs-lookup"><span data-stu-id="4869c-119">Predictive analytics</span></span> |
| --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="4869c-120">[Surveillance à distance][lnk-getstarted-preconfigured]</span><span class="sxs-lookup"><span data-stu-id="4869c-120">[Remote monitoring][lnk-getstarted-preconfigured]</span></span> |<span data-ttu-id="4869c-121">Oui</span><span class="sxs-lookup"><span data-stu-id="4869c-121">Yes</span></span> |<span data-ttu-id="4869c-122">Oui</span><span class="sxs-lookup"><span data-stu-id="4869c-122">Yes</span></span> |<span data-ttu-id="4869c-123">Oui</span><span class="sxs-lookup"><span data-stu-id="4869c-123">Yes</span></span> |<span data-ttu-id="4869c-124">Oui</span><span class="sxs-lookup"><span data-stu-id="4869c-124">Yes</span></span> |<span data-ttu-id="4869c-125">Oui</span><span class="sxs-lookup"><span data-stu-id="4869c-125">Yes</span></span> |- |
| <span data-ttu-id="4869c-126">[Maintenance prédictive][lnk-predictive-maintenance]</span><span class="sxs-lookup"><span data-stu-id="4869c-126">[Predictive maintenance][lnk-predictive-maintenance]</span></span> |<span data-ttu-id="4869c-127">Oui</span><span class="sxs-lookup"><span data-stu-id="4869c-127">Yes</span></span> |<span data-ttu-id="4869c-128">Oui</span><span class="sxs-lookup"><span data-stu-id="4869c-128">Yes</span></span> |- |<span data-ttu-id="4869c-129">Oui</span><span class="sxs-lookup"><span data-stu-id="4869c-129">Yes</span></span> |<span data-ttu-id="4869c-130">Oui</span><span class="sxs-lookup"><span data-stu-id="4869c-130">Yes</span></span> |<span data-ttu-id="4869c-131">Oui</span><span class="sxs-lookup"><span data-stu-id="4869c-131">Yes</span></span> |
| <span data-ttu-id="4869c-132">[Fabrique connectée][lnk-getstarted-factory]</span><span class="sxs-lookup"><span data-stu-id="4869c-132">[Connected factory][lnk-getstarted-factory]</span></span> |<span data-ttu-id="4869c-133">Oui</span><span class="sxs-lookup"><span data-stu-id="4869c-133">Yes</span></span> |<span data-ttu-id="4869c-134">Oui</span><span class="sxs-lookup"><span data-stu-id="4869c-134">Yes</span></span> |<span data-ttu-id="4869c-135">Oui</span><span class="sxs-lookup"><span data-stu-id="4869c-135">Yes</span></span> |<span data-ttu-id="4869c-136">Oui</span><span class="sxs-lookup"><span data-stu-id="4869c-136">Yes</span></span> |<span data-ttu-id="4869c-137">yes</span><span class="sxs-lookup"><span data-stu-id="4869c-137">Yes</span></span> |- |

* <span data-ttu-id="4869c-138">*Données*: entrer des données à l'échelle dans le cloud.</span><span class="sxs-lookup"><span data-stu-id="4869c-138">*Data ingestion*: Ingress of data at scale to the cloud.</span></span>
* <span data-ttu-id="4869c-139">*Identité de l’appareil* : gérez les identités d’appareil uniques et contrôlez l’accès de l’appareil à la solution.</span><span class="sxs-lookup"><span data-stu-id="4869c-139">*Device identity*: Manage unique device identities and control device access to the solution.</span></span>
* <span data-ttu-id="4869c-140">*Gestion des appareils* : gérez les métadonnées de l’appareil et effectuez des opérations comme le redémarrage d’appareils et la mise à jour du microprogramme.</span><span class="sxs-lookup"><span data-stu-id="4869c-140">*Device management*: Manage device metadata and perform operations such as device reboots and firmware upgrades.</span></span>
* <span data-ttu-id="4869c-141">*Commande et contrôle*: envoyer des messages à un appareil à partir du cloud pour lui demander d’agir.</span><span class="sxs-lookup"><span data-stu-id="4869c-141">*Command and control*: To cause the device to take an action, send messages to a device from the cloud.</span></span>
* <span data-ttu-id="4869c-142">*Règles et actions*: le serveur principal utilise des règles pour agir sur des données d’appareil spécifiques vers le cloud.</span><span class="sxs-lookup"><span data-stu-id="4869c-142">*Rules and actions*: To act on specific device-to-cloud data, the solution back end uses rules.</span></span>
* <span data-ttu-id="4869c-143">*Analyse prédictive*: le serveur principal analyse les données d’appareil vers le cloud afin de prédire le moment où des actions spécifiques devraient se produire.</span><span class="sxs-lookup"><span data-stu-id="4869c-143">*Predictive analytics*: The solution back end analyzes device-to-cloud data to predict when specific actions should take place.</span></span> <span data-ttu-id="4869c-144">Par exemple, l’analyse de la télémétrie d’un moteur d'avion permet de déterminer le moment où la maintenance doit avoir lieu.</span><span class="sxs-lookup"><span data-stu-id="4869c-144">For example, analyzing aircraft engine telemetry to determine when engine maintenance is due.</span></span>

## <a name="remote-monitoring-preconfigured-solution-overview"></a><span data-ttu-id="4869c-145">Présentation de la solution préconfigurée de surveillance à distance</span><span class="sxs-lookup"><span data-stu-id="4869c-145">Remote Monitoring preconfigured solution overview</span></span>

<span data-ttu-id="4869c-146">Nous avons choisi d’aborder dans cet article la solution préconfigurée de surveillance à distance, car elle illustre de nombreux éléments de conception communs que partagent les autres solutions.</span><span class="sxs-lookup"><span data-stu-id="4869c-146">We have chosen to discuss the remote monitoring preconfigured solution in this article because it illustrates many common design elements that the other solutions share.</span></span>

<span data-ttu-id="4869c-147">Le schéma suivant illustre les éléments clés de la solution de surveillance à distance.</span><span class="sxs-lookup"><span data-stu-id="4869c-147">The following diagram illustrates the key elements of the remote monitoring solution.</span></span> <span data-ttu-id="4869c-148">Les sections qui suivent fournissent des informations supplémentaires sur ces éléments.</span><span class="sxs-lookup"><span data-stu-id="4869c-148">The following sections provide more information about these elements.</span></span>

![Architecture de la solution préconfigurée Surveillance à distance][img-remote-monitoring-arch]

## <a name="devices"></a><span data-ttu-id="4869c-150">Appareils</span><span class="sxs-lookup"><span data-stu-id="4869c-150">Devices</span></span>

<span data-ttu-id="4869c-151">Lorsque vous déployez la solution préconfigurée de surveillance à distance, quatre appareils sont préconfigurés dans la solution pour simuler un appareil de refroidissement.</span><span class="sxs-lookup"><span data-stu-id="4869c-151">When you deploy the remote monitoring preconfigured solution, four simulated devices are pre-provisioned in the solution that simulate a cooling device.</span></span> <span data-ttu-id="4869c-152">Ces appareils de simulation intègrent un modèle de température et d’humidité qui génère des données de télémétrie.</span><span class="sxs-lookup"><span data-stu-id="4869c-152">These simulated devices have a built-in temperature and humidity model that emits telemetry.</span></span> <span data-ttu-id="4869c-153">Ces appareils simulés sont inclus pour :</span><span class="sxs-lookup"><span data-stu-id="4869c-153">These simulated devices are included to:</span></span>

- <span data-ttu-id="4869c-154">Illustrer le trajet de bout en bout des données à travers la solution.</span><span class="sxs-lookup"><span data-stu-id="4869c-154">Illustrate the end-to-end flow of data through the solution.</span></span>
- <span data-ttu-id="4869c-155">Fournir une source de données de télémétrie pratique.</span><span class="sxs-lookup"><span data-stu-id="4869c-155">Provide a convenient source of telemetry.</span></span>
- <span data-ttu-id="4869c-156">Fournir une cible pour les méthodes ou commandes si vous êtes un développeur de système principal en utilisant la solution comme point de départ pour une implémentation personnalisée.</span><span class="sxs-lookup"><span data-stu-id="4869c-156">Provide a target for methods or commands if you are a back-end developer using the solution as a starting point for a custom implementation.</span></span>

<span data-ttu-id="4869c-157">Les appareils simulés dans la solution peuvent répondre aux communications cloud-à-appareil suivantes :</span><span class="sxs-lookup"><span data-stu-id="4869c-157">The simulated devices in the solution can respond to the following cloud-to-device communications:</span></span>

- <span data-ttu-id="4869c-158">*Méthodes ([méthodes directes][lnk-direct-methods])* : une méthode de communication bidirectionnelle pour laquelle un appareil connecté doit répondre immédiatement.</span><span class="sxs-lookup"><span data-stu-id="4869c-158">*Methods ([direct methods][lnk-direct-methods])*: A two-way communication method where a connected device is expected to respond immediately.</span></span>
- <span data-ttu-id="4869c-159">*Commandes (messages cloud-à-appareil)* : une méthode de communication unidirectionnelle pour laquelle un appareil récupère la commande à partir d’une file d’attente durable.</span><span class="sxs-lookup"><span data-stu-id="4869c-159">*Commands (cloud-to-device messages)*: A one-way communication method where a device retrieves the command from a durable queue.</span></span>

<span data-ttu-id="4869c-160">Pour une comparaison de ces différentes approches, consultez [Conseils pour les communications cloud-à-appareil][lnk-c2d-guidance].</span><span class="sxs-lookup"><span data-stu-id="4869c-160">For a comparison of these different approaches, see [Cloud-to-device communications guidance][lnk-c2d-guidance].</span></span>

<span data-ttu-id="4869c-161">Lorsqu’un appareil se connecte pour la première fois à IoT Hub dans la solution préconfigurée, il envoie un message d’informations sur l’appareil au hub.</span><span class="sxs-lookup"><span data-stu-id="4869c-161">When a device first connects to IoT Hub in the preconfigured solution, it sends a device information message to the hub.</span></span> <span data-ttu-id="4869c-162">Ce message énumère les méthodes auxquelles l’appareil peut répondre.</span><span class="sxs-lookup"><span data-stu-id="4869c-162">This message enumerates the methods the device can respond to.</span></span> <span data-ttu-id="4869c-163">Dans la solution préconfigurée de surveillance à distance, les appareils simulés prennent en charge les méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="4869c-163">In the remote monitoring preconfigured solution, simulated devices support these methods:</span></span>

* <span data-ttu-id="4869c-164">*Lancer la mise à jour du microprogramme* : cette méthode lance une tâche asynchrone sur l’appareil pour effectuer une mise à jour du microprogramme.</span><span class="sxs-lookup"><span data-stu-id="4869c-164">*Initiate Firmware Update*: this method initiates an asynchronous task on the device to perform a firmware update.</span></span> <span data-ttu-id="4869c-165">La tâche asynchrone utilise les propriétés signalées pour fournir des mises à jour d’état d’application sur le tableau de bord de la solution.</span><span class="sxs-lookup"><span data-stu-id="4869c-165">The asynchronous task uses reported properties to deliver status updates to the solution dashboard.</span></span>
* <span data-ttu-id="4869c-166">*Redémarrer* : cette méthode provoque le redémarrage de l’appareil simulé.</span><span class="sxs-lookup"><span data-stu-id="4869c-166">*Reboot*: this method causes the simulated device to reboot.</span></span>
* <span data-ttu-id="4869c-167">*FactoryReset* : cette méthode déclenche une réinitialisation aux paramètres d’usine sur l’appareil simulé.</span><span class="sxs-lookup"><span data-stu-id="4869c-167">*FactoryReset*: this method triggers a factory reset on the simulated device.</span></span>

<span data-ttu-id="4869c-168">Lorsqu’un appareil se connecte pour la première fois à IoT Hub dans la solution préconfigurée, il envoie un message d’informations sur l’appareil au hub.</span><span class="sxs-lookup"><span data-stu-id="4869c-168">When a device first connects to IoT Hub in the preconfigured solution, it sends a device information message to the hub.</span></span> <span data-ttu-id="4869c-169">Ce message énumère les commandes auxquelles l’appareil peut répondre.</span><span class="sxs-lookup"><span data-stu-id="4869c-169">This message enumerates the commands the device can respond to.</span></span> <span data-ttu-id="4869c-170">Dans la solution préconfigurée de surveillance à distance, les appareils simulés prennent en charge les commandes suivantes :</span><span class="sxs-lookup"><span data-stu-id="4869c-170">In the remote monitoring preconfigured solution, simulated devices support these commands:</span></span>

* <span data-ttu-id="4869c-171">*Effectuer un test Ping*: l’appareil répond à cette commande par un accusé de réception.</span><span class="sxs-lookup"><span data-stu-id="4869c-171">*Ping Device*: The device responds to this command with an acknowledgement.</span></span> <span data-ttu-id="4869c-172">Cette commande est utile pour vérifier que l’appareil est toujours actif et en mode écoute.</span><span class="sxs-lookup"><span data-stu-id="4869c-172">This command is useful for checking that the device is still active and listening.</span></span>
* <span data-ttu-id="4869c-173">*Démarrer la télémétrie*: demande à l’appareil de démarrer l’envoi des données de télémétrie.</span><span class="sxs-lookup"><span data-stu-id="4869c-173">*Start Telemetry*: Instructs the device to start sending telemetry.</span></span>
* <span data-ttu-id="4869c-174">*Démarrer la télémétrie*: demande à l’appareil d’arrêter l’envoi des données de télémétrie.</span><span class="sxs-lookup"><span data-stu-id="4869c-174">*Stop Telemetry*: Instructs the device to stop sending telemetry.</span></span>
* <span data-ttu-id="4869c-175">*Modifier la température nominale*: contrôle les valeurs de télémétrie reflétant la température simulée envoyées par l’appareil.</span><span class="sxs-lookup"><span data-stu-id="4869c-175">*Change Set Point Temperature*: Controls the simulated temperature telemetry values the device sends.</span></span> <span data-ttu-id="4869c-176">Cette commande est utile dans le cadre de tests de logique Back-end.</span><span class="sxs-lookup"><span data-stu-id="4869c-176">This command is useful for testing back-end logic.</span></span>
* <span data-ttu-id="4869c-177">*Diagnostiquer la télémétrie*: détermine si l’appareil doit envoyer les données de température externe sous la forme de données de télémétrie.</span><span class="sxs-lookup"><span data-stu-id="4869c-177">*Diagnostic Telemetry*: Controls if the device should send the external temperature as telemetry.</span></span>
* <span data-ttu-id="4869c-178">*Modifier l’état de l’appareil* : définit la propriété des métadonnées d’état de l’appareil renvoyée par l’appareil.</span><span class="sxs-lookup"><span data-stu-id="4869c-178">*Change Device State*: Sets the device state metadata property that the device reports.</span></span> <span data-ttu-id="4869c-179">Cette commande est utile dans le cadre de tests de logique Back-end.</span><span class="sxs-lookup"><span data-stu-id="4869c-179">This command is useful for testing back-end logic.</span></span>

<span data-ttu-id="4869c-180">Vous pouvez ajouter à la solution d’autres appareils de simulation qui génèrent les mêmes données de télémétrie et répondent aux mêmes méthodes et commandes.</span><span class="sxs-lookup"><span data-stu-id="4869c-180">You can add more simulated devices to the solution that emit the same telemetry and respond to the same methods and commands.</span></span>

<span data-ttu-id="4869c-181">En plus de répondre aux commandes et aux méthodes, la solution utilise les [représentations d’appareil][lnk-device-twin].</span><span class="sxs-lookup"><span data-stu-id="4869c-181">In addition to responding to commands and methods, the solution uses [device twins][lnk-device-twin].</span></span> <span data-ttu-id="4869c-182">Les appareils utilisent les représentations pour renvoyer les valeurs de propriété au système principal de la solution.</span><span class="sxs-lookup"><span data-stu-id="4869c-182">Devices use device twins to report property values to the solution back end.</span></span> <span data-ttu-id="4869c-183">Le tableau de bord de la solution utilise les représentations d’appareil pour définir les nouvelles valeurs de propriété de votre choix sur les appareils.</span><span class="sxs-lookup"><span data-stu-id="4869c-183">The solution dashboard uses device twins to set to new desired property values on devices.</span></span> <span data-ttu-id="4869c-184">Par exemple, lors du processus de mise à jour du microprogramme, l’appareil simulé signale l’état de la mise à jour à l’aide des propriétés signalées.</span><span class="sxs-lookup"><span data-stu-id="4869c-184">For example, during the firmware update process the simulated device reports the status of the update using reported properties.</span></span>

## <a name="iot-hub"></a><span data-ttu-id="4869c-185">IoT Hub</span><span class="sxs-lookup"><span data-stu-id="4869c-185">IoT Hub</span></span>

<span data-ttu-id="4869c-186">Dans cette solution préconfigurée, l’instance IoT Hub correspond à une *passerelle cloud* dans une [architecture de solution IoT][lnk-what-is-azure-iot] standard.</span><span class="sxs-lookup"><span data-stu-id="4869c-186">In this preconfigured solution, the IoT Hub instance corresponds to the *Cloud Gateway* in a typical [IoT solution architecture][lnk-what-is-azure-iot].</span></span>

<span data-ttu-id="4869c-187">Un IoT Hub reçoit la télémétrie provenant des appareils à un seul système d’extrémité.</span><span class="sxs-lookup"><span data-stu-id="4869c-187">An IoT hub receives telemetry from the devices at a single endpoint.</span></span> <span data-ttu-id="4869c-188">Un IoT Hub gère également les points de terminaison spécifiques des appareils où chaque appareil peut récupérer les commandes qui lui sont envoyées.</span><span class="sxs-lookup"><span data-stu-id="4869c-188">An IoT hub also maintains device-specific endpoints where each device can retrieve the commands that are sent to it.</span></span>

<span data-ttu-id="4869c-189">L’IoT Hub met les données de télémétrie qu’il reçoit à disposition via un système d’extrémité de lecture de télémétrie côté service.</span><span class="sxs-lookup"><span data-stu-id="4869c-189">The IoT hub makes the received telemetry available through the service-side telemetry read endpoint.</span></span>

<span data-ttu-id="4869c-190">La fonctionnalité de gestion des appareils de IoT Hub vous permet de gérer les propriétés de votre appareil à partir du portail de la solution et de planifier des tâches qui effectuent diverses opérations dont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="4869c-190">The device management capability of IoT Hub enables you to manage your device properties from the solution portal and schedule jobs that perform operations such as:</span></span>

- <span data-ttu-id="4869c-191">Redémarrage des appareils</span><span class="sxs-lookup"><span data-stu-id="4869c-191">Rebooting devices</span></span>
- <span data-ttu-id="4869c-192">Changement d’état d’appareil</span><span class="sxs-lookup"><span data-stu-id="4869c-192">Changing device states</span></span>
- <span data-ttu-id="4869c-193">Mises à jour de microprogramme</span><span class="sxs-lookup"><span data-stu-id="4869c-193">Firmware updates</span></span>

## <a name="azure-stream-analytics"></a><span data-ttu-id="4869c-194">Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="4869c-194">Azure Stream Analytics</span></span>

<span data-ttu-id="4869c-195">Cette solution préconfigurée utilise trois travaux [Azure Stream Analytics][lnk-asa] (ASA) pour filtrer le flux de télémétrie des appareils :</span><span class="sxs-lookup"><span data-stu-id="4869c-195">The preconfigured solution uses three [Azure Stream Analytics][lnk-asa] (ASA) jobs to filter the telemetry stream from the devices:</span></span>

* <span data-ttu-id="4869c-196">*Tâche DeviceInfo* : envoie des données à un Event Hub qui achemine les messages relatifs à l’inscription de l’appareil dans le registre d’appareils de la solution.</span><span class="sxs-lookup"><span data-stu-id="4869c-196">*DeviceInfo job* - outputs data to an Event hub that routes device registration-specific messages to the solution device registry.</span></span> <span data-ttu-id="4869c-197">Le registre d’appareils correspond à une base de données Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="4869c-197">This device registry is an Azure Cosmos DB database.</span></span> <span data-ttu-id="4869c-198">Ces messages sont envoyés lorsqu’un appareil se connecte d’abord ou en réponse à une commande **Modifier l’état de l’appareil**.</span><span class="sxs-lookup"><span data-stu-id="4869c-198">These messages are sent when a device first connects or in response to a **Change device state** command.</span></span>
* <span data-ttu-id="4869c-199">*Tâche Telemetry* : envoie toutes les données de télémétrie brutes vers Azure Blob Storage pour un stockage à froid et calcule les données de télémétrie agrégées qui s’affichent dans le tableau de bord de la solution.</span><span class="sxs-lookup"><span data-stu-id="4869c-199">*Telemetry job* - sends all raw telemetry to Azure blob storage for cold storage and calculates telemetry aggregations that display in the solution dashboard.</span></span>
* <span data-ttu-id="4869c-200">*Tâche Rules* : filtre le flux de télémétrie sur les valeurs qui dépassent les seuils de la règle et envoie les données vers un hub d’événements.</span><span class="sxs-lookup"><span data-stu-id="4869c-200">*Rules job* - filters the telemetry stream for values that exceed any rule thresholds and outputs the data to an Event hub.</span></span> <span data-ttu-id="4869c-201">Lorsqu’une règle se déclenche, la vue du tableau de bord du portail de la solution affiche cet événement sous la forme d’une nouvelle ligne dans la table d’historique des alarmes.</span><span class="sxs-lookup"><span data-stu-id="4869c-201">When a rule fires, the solution portal dashboard view displays this event as a new row in the alarm history table.</span></span> <span data-ttu-id="4869c-202">Ces règles peuvent également déclencher une action basée sur les paramètres définis dans les vues **Règles** et **Actions** dans le portail de la solution.</span><span class="sxs-lookup"><span data-stu-id="4869c-202">These rules can also trigger an action based on the settings defined on the **Rules** and **Actions** views in the solution portal.</span></span>

<span data-ttu-id="4869c-203">Dans cette solution préconfigurée, les tâches ASA font partie du **serveur principal de solution IoT** dans une [architecture de solution IoT][lnk-what-is-azure-iot] standard.</span><span class="sxs-lookup"><span data-stu-id="4869c-203">In this preconfigured solution, the ASA jobs form part of to the **IoT solution back end** in a typical [IoT solution architecture][lnk-what-is-azure-iot].</span></span>

## <a name="event-processor"></a><span data-ttu-id="4869c-204">Processeur d’événements</span><span class="sxs-lookup"><span data-stu-id="4869c-204">Event processor</span></span>

<span data-ttu-id="4869c-205">Dans cette solution préconfigurée, le processeur d’événements fait partie du **serveur principal de solution IoT** dans une [architecture de solution IoT][lnk-what-is-azure-iot] standard.</span><span class="sxs-lookup"><span data-stu-id="4869c-205">In this preconfigured solution, the event processor forms part of the **IoT solution back end** in a typical [IoT solution architecture][lnk-what-is-azure-iot].</span></span>

<span data-ttu-id="4869c-206">Les tâches ASA **DeviceInfo** et **Rules** envoient leur sortie vers des Event hubs pour une transmission à d’autres services principaux.</span><span class="sxs-lookup"><span data-stu-id="4869c-206">The **DeviceInfo** and **Rules** ASA jobs send their output to Event hubs for delivery to other back-end services.</span></span> <span data-ttu-id="4869c-207">La solution utilise une instance [EventPocessorHost][lnk-event-processor], qui s’exécute dans une [tâche web][lnk-web-job], pour lire les messages à partir de ces Event hubs.</span><span class="sxs-lookup"><span data-stu-id="4869c-207">The solution uses an [EventProcessorHost][lnk-event-processor] instance, running in a [WebJob][lnk-web-job], to read the messages from these Event hubs.</span></span> <span data-ttu-id="4869c-208">L’événement **EventProcessorHost** utilise :</span><span class="sxs-lookup"><span data-stu-id="4869c-208">The **EventProcessorHost** uses:</span></span>
- <span data-ttu-id="4869c-209">Les données **DeviceInfo** pour mettre à jour les données de l’appareil dans la base de données Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="4869c-209">The **DeviceInfo** data to update the device data in the Cosmos DB database.</span></span>
- <span data-ttu-id="4869c-210">Les données de **Règles** pour appeler l’application logique et mettre à jour l’affichage des alertes dans le portail de la solution.</span><span class="sxs-lookup"><span data-stu-id="4869c-210">The **Rules** data to invoke the Logic app and update the alerts display in the solution portal.</span></span>

## <a name="device-identity-registry-device-twin-and-cosmos-db"></a><span data-ttu-id="4869c-211">Registre d’identité des appareils, jumeau d’appareil et Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="4869c-211">Device identity registry, device twin, and Cosmos DB</span></span>

<span data-ttu-id="4869c-212">Chaque IoT hub inclut un [registre d’identité des appareils][lnk-identity-registry] qui stocke des clés d’appareils.</span><span class="sxs-lookup"><span data-stu-id="4869c-212">Every IoT hub includes a [device identity registry][lnk-identity-registry] that stores device keys.</span></span> <span data-ttu-id="4869c-213">IoT Hub utilise ces informations pour authentifier les appareils. Un appareil doit être enregistré et disposer d'une clé valide avant de se connecter au concentrateur.</span><span class="sxs-lookup"><span data-stu-id="4869c-213">IoT Hub uses this information authenticate devices - a device must be registered and have a valid key before it can connect to the hub.</span></span>

<span data-ttu-id="4869c-214">Une [représentation d’appareil][lnk-device-twin] est un document JSON géré par Iot Hub.</span><span class="sxs-lookup"><span data-stu-id="4869c-214">A [device twin][lnk-device-twin] is a JSON document managed by the IoT Hub.</span></span> <span data-ttu-id="4869c-215">Une représentation d’appareil contient :</span><span class="sxs-lookup"><span data-stu-id="4869c-215">A device twin for a device contains:</span></span>

- <span data-ttu-id="4869c-216">Les propriétés signalées envoyées par l’appareil vers le hub.</span><span class="sxs-lookup"><span data-stu-id="4869c-216">Reported properties sent by the device to the hub.</span></span> <span data-ttu-id="4869c-217">Vous pouvez afficher ces propriétés dans le portail de la solution.</span><span class="sxs-lookup"><span data-stu-id="4869c-217">You can view these properties in the solution portal.</span></span>
- <span data-ttu-id="4869c-218">Les propriétés de votre choix que vous souhaitez envoyer à l’appareil.</span><span class="sxs-lookup"><span data-stu-id="4869c-218">Desired properties that you want to send to the device.</span></span> <span data-ttu-id="4869c-219">Vous pouvez définir ces propriétés dans le portail de la solution.</span><span class="sxs-lookup"><span data-stu-id="4869c-219">You can set these properties in the solution portal.</span></span>
- <span data-ttu-id="4869c-220">Des balises qui existent uniquement dans la représentation d’appareil et non sur l’appareil.</span><span class="sxs-lookup"><span data-stu-id="4869c-220">Tags that exist only in the device twin and not on the device.</span></span> <span data-ttu-id="4869c-221">Vous pouvez utiliser ces balises pour filtrer les listes d’appareils dans le portail de la solution.</span><span class="sxs-lookup"><span data-stu-id="4869c-221">You can use these tags to filter lists of devices in the solution portal.</span></span>

<span data-ttu-id="4869c-222">Cette solution utilise des représentations d’appareil pour gérer les métadonnées d’appareil.</span><span class="sxs-lookup"><span data-stu-id="4869c-222">This solution uses device twins to manage device metadata.</span></span> <span data-ttu-id="4869c-223">La solution utilise également une base de données Cosmos DB pour stocker des données d’appareil supplémentaires propres à la solution comme les commandes prises en charge par chaque appareil et l’historique des commandes.</span><span class="sxs-lookup"><span data-stu-id="4869c-223">The solution also uses a Cosmos DB database to store additional solution-specific device data such as the commands supported by each device and the command history.</span></span>

<span data-ttu-id="4869c-224">La solution doit également conserver les informations dans le registre d’identité des appareils, synchronisé avec le contenu de la base de données Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="4869c-224">The solution must also keep the information in the device identity registry synchronized with the contents of the Cosmos DB database.</span></span> <span data-ttu-id="4869c-225">L’instance **EventProcessorHost** utilise les données de la tâche Stream Analytics **DeviceInfo** pour gérer la synchronisation.</span><span class="sxs-lookup"><span data-stu-id="4869c-225">The **EventProcessorHost** uses the data from **DeviceInfo** stream analytics job to manage the synchronization.</span></span>

## <a name="solution-portal"></a><span data-ttu-id="4869c-226">Portail de la solution</span><span class="sxs-lookup"><span data-stu-id="4869c-226">Solution portal</span></span>

![portail de la solution][img-dashboard]

<span data-ttu-id="4869c-228">Le portail de la solution est une interface utilisateur web qui est déployée dans le cloud dans le cadre de la solution préconfigurée.</span><span class="sxs-lookup"><span data-stu-id="4869c-228">The solution portal is a web-based UI that is deployed to the cloud as part of the preconfigured solution.</span></span> <span data-ttu-id="4869c-229">Il vous permet d’effectuer les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="4869c-229">It enables you to:</span></span>

* <span data-ttu-id="4869c-230">Afficher l’historique de télémétrie et d’alertes dans un tableau de bord.</span><span class="sxs-lookup"><span data-stu-id="4869c-230">View telemetry and alarm history in a dashboard.</span></span>
* <span data-ttu-id="4869c-231">Approvisionner de nouveaux appareils.</span><span class="sxs-lookup"><span data-stu-id="4869c-231">Provision new devices.</span></span>
* <span data-ttu-id="4869c-232">Gérer et surveiller des appareils.</span><span class="sxs-lookup"><span data-stu-id="4869c-232">Manage and monitor devices.</span></span>
* <span data-ttu-id="4869c-233">Envoyer des commandes à des appareils spécifiques.</span><span class="sxs-lookup"><span data-stu-id="4869c-233">Send commands to specific devices.</span></span>
* <span data-ttu-id="4869c-234">Des méthodes d’appel sur des appareils spécifiques.</span><span class="sxs-lookup"><span data-stu-id="4869c-234">Invoke methods on specific devices.</span></span>
* <span data-ttu-id="4869c-235">Gérer les règles et les actions.</span><span class="sxs-lookup"><span data-stu-id="4869c-235">Manage rules and actions.</span></span>
* <span data-ttu-id="4869c-236">Planifiez l’exécution de travaux sur un ou plusieurs appareils.</span><span class="sxs-lookup"><span data-stu-id="4869c-236">Schedule jobs to run on one or more devices.</span></span>

<span data-ttu-id="4869c-237">Dans cette solution préconfigurée, le portail de la solution fait partie du **serveur principal de solution IoT** et de la **connectivité de traitement et d’entreprise** dans [l’architecture de solution IoT][lnk-what-is-azure-iot] standard.</span><span class="sxs-lookup"><span data-stu-id="4869c-237">In this preconfigured solution, the solution portal forms part of the **IoT solution back end** and part of the **Processing and business connectivity** in the typical [IoT solution architecture][lnk-what-is-azure-iot].</span></span>

## <a name="next-steps"></a><span data-ttu-id="4869c-238">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="4869c-238">Next steps</span></span>

<span data-ttu-id="4869c-239">Pour plus d’informations sur les architectures de solution IoT, consultez le document [Microsoft Azure IoT services: Reference Architecture][lnk-refarch].</span><span class="sxs-lookup"><span data-stu-id="4869c-239">For more information about IoT solution architectures, see [Microsoft Azure IoT services: Reference Architecture][lnk-refarch].</span></span>

<span data-ttu-id="4869c-240">À présent que vous savez en quoi consiste une solution préconfigurée, vous pouvez commencer en déployant la solution préconfigurée de *surveillance à distance* : [Prise en main des solutions préconfigurées][lnk-getstarted-preconfigured].</span><span class="sxs-lookup"><span data-stu-id="4869c-240">Now you know what a preconfigured solution is, you can get started by deploying the *remote monitoring* preconfigured solution: [Get started with the preconfigured solutions][lnk-getstarted-preconfigured].</span></span>

[img-remote-monitoring-arch]: ./media/iot-suite-what-are-preconfigured-solutions/remote-monitoring-arch1.png
[img-dashboard]: ./media/iot-suite-what-are-preconfigured-solutions/dashboard.png
[lnk-what-is-azure-iot]: iot-suite-what-is-azure-iot.md
[lnk-asa]: https://azure.microsoft.com/documentation/services/stream-analytics/
[lnk-event-processor]: ../event-hubs/event-hubs-programming-guide.md#event-processor-host
[lnk-web-job]: ../app-service-web/web-sites-create-web-jobs.md
[lnk-identity-registry]: ../iot-hub/iot-hub-devguide-identity-registry.md
[lnk-predictive-maintenance]: iot-suite-predictive-overview.md
[lnk-azureiotsuite]: https://www.azureiotsuite.com/
[lnk-refarch]: http://download.microsoft.com/download/A/4/D/A4DAD253-BC21-41D3-B9D9-87D2AE6F0719/Microsoft_Azure_IoT_Reference_Architecture.pdf
[lnk-getstarted-preconfigured]: iot-suite-getstarted-preconfigured-solutions.md
[lnk-c2d-guidance]: ../iot-hub/iot-hub-devguide-c2d-guidance.md
[lnk-device-twin]: ../iot-hub/iot-hub-devguide-device-twins.md
[lnk-direct-methods]: ../iot-hub/iot-hub-devguide-direct-methods.md
[lnk-getstarted-factory]: iot-suite-connected-factory-overview.md
