---
title: "CENC avec Multi-DRM et contrôle d’accès : une conception de référence et l’application sur Windows Azure et Azure Media Services | Microsoft Docs"
description: "Découvrez comment toolicensing hello Microsoft® Kit Smooth Streaming Client Porting Kit."
services: media-services
documentationcenter: 
author: willzhan
manager: cfowler
editor: 
ms.assetid: 7814739b-cea9-4b9b-8370-538702e5c615
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/19/2017
ms.author: willzhan;kilroyh;yanmf;juliako
ms.openlocfilehash: 033fb618650c4fbe9069d467159a8734da759bba
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="cenc-with-multi-drm-and-access-control-a-reference-design-and-implementation-on-azure-and-azure-media-services"></a><span data-ttu-id="b7bb4-103">CENC avec Multi-DRM et contrôle d’accès : une conception de référence et l’application sur Windows Azure et Azure Media Services</span><span class="sxs-lookup"><span data-stu-id="b7bb4-103">CENC with Multi-DRM and Access Control: A Reference Design and Implementation on Azure and Azure Media Services</span></span>
 
## <a name="introduction"></a><span data-ttu-id="b7bb4-104">Introduction</span><span class="sxs-lookup"><span data-stu-id="b7bb4-104">Introduction</span></span>
<span data-ttu-id="b7bb4-105">Il est connu qu’il est une tâche complexe de toodesign et générer un sous-système de gestion des droits numériques pour une OTT ou en ligne de diffusion en continu de la solution.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-105">It is well known that it is a complex task toodesign and build a DRM subsystem for an OTT or online streaming solution.</span></span> <span data-ttu-id="b7bb4-106">Et c’est une pratique courante pour les opérateurs/en ligne des fournisseurs vidéo toooutsource cette fournisseurs de services de gestion des droits numériques toospecialized partie.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-106">And it is a common practice for operators/online video providers toooutsource this part toospecialized DRM service providers.</span></span> <span data-ttu-id="b7bb4-107">Hello ce document vise toopresent une conception de référence et l’implémentation du sous-système DRM de bout en bout dans OTT ou une solution de diffusion en continu en ligne.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-107">hello goal of this document is toopresent a reference design and implementation of end-to-end DRM subsystem in OTT or online streaming solution.</span></span>

<span data-ttu-id="b7bb4-108">lecteurs Hello ciblé de ce document sont ingénieurs travaillant dans le sous-système de gestion des droits numériques de OTT solutions en ligne de diffusion en continu/multi-cluster-screen ou tous les lecteurs intéressés par le sous-système de gestion des droits numériques.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-108">hello targeted readers of this document are engineers working in DRM subsystem of OTT or online streaming/multi-screen solutions, or any readers interested in DRM subsystem.</span></span> <span data-ttu-id="b7bb4-109">hypothèse de Hello est que les lecteurs sont familiarisés avec au moins une des technologies de gestion des droits numériques hello sur le marché hello, telles que PlayReady, Widevine, FairPlay ou Adobe accès.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-109">hello assumption is that readers are familiar with at least one of hello DRM technologies on hello market, such as PlayReady, Widevine, FairPlay or Adobe Access.</span></span>

<span data-ttu-id="b7bb4-110">Par DRM, nous entendons également CENC (chiffrement commun) avec multi-DRM.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-110">By DRM, we also include CENC (Common Encryption) with multi-DRM.</span></span> <span data-ttu-id="b7bb4-111">Une tendance majeure dans la diffusion en continu en ligne et de l’industrie OTT est toouse CENC avec multi-native-DRM sur différentes plateformes de client, qui est un décalage à partir de la tendance précédente de hello d’à l’aide d’un seul DRM et son client SDK pour différentes plateformes clientes.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-111">A major trend in online streaming and OTT industry is toouse CENC with multi-native-DRM on various client platforms, which is a shift from hello previous trend of using a single DRM and its client SDK for various client platforms.</span></span> <span data-ttu-id="b7bb4-112">Lorsque vous utilisez CENC avec plusieurs native-DRM, PlayReady et Widevine sont chiffrées par hello [chiffrement commun (ISO/IEC 23001-7 CENC)](http://www.iso.org/iso/home/store/catalogue_ics/catalogue_detail_ics.htm?csnumber=65271/) spécification.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-112">When using CENC with multi-native-DRM, both PlayReady and Widevine are encrypted per hello [Common Encryption (ISO/IEC 23001-7 CENC)](http://www.iso.org/iso/home/store/catalogue_ics/catalogue_detail_ics.htm?csnumber=65271/) specification.</span></span>

<span data-ttu-id="b7bb4-113">avantages de Hello de CENC avec multi-DRM sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-113">hello benefits of CENC with multi-DRM are as follows:</span></span>

1. <span data-ttu-id="b7bb4-114">réduction des frais de chiffrement dans la mesure où un seul traitement de chiffrement est utilisé, ciblant différentes plateformes avec ses DRM natifs ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-114">Reduces encryption cost since a single encryption processing is used targeting different platforms with its native DRMs;</span></span>
2. <span data-ttu-id="b7bb4-115">Réduit le coût de hello de la gestion des éléments multimédias chiffrés, car une seule copie d’éléments multimédias chiffrés est nécessaire ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-115">Reduces hello cost of managing encrypted assets since only a single copy of encrypted assets is needed;</span></span>
3. <span data-ttu-id="b7bb4-116">Élimine le coût de licence depuis hello native DRM client est généralement disponible sur la plateforme native du client DRM.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-116">Eliminates DRM client licensing cost since hello native DRM client is usually free on its native platform.</span></span>

<span data-ttu-id="b7bb4-117">Microsoft a joué le rôle de promoteur actif de DASH et de CENC, tout comme d’autres acteurs majeurs du secteur.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-117">Microsoft has been an active promoter of DASH and CENC together with some major industry players.</span></span> <span data-ttu-id="b7bb4-118">Microsoft Azure Media Services offre la prise en charge de DASH et CENC.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-118">Microsoft Azure Media Services has been providing support of DASH and CENC.</span></span> <span data-ttu-id="b7bb4-119">Pour les dernières annonces, consultez les blogs de Mingfei : [Annonce d’une distribution de licence Google Widevine dans Azure Media Services](https://azure.microsoft.com/blog/announcing-general-availability-of-google-widevine-license-services/) et [Azure Media Services ajoute un package Gooble Windevine pour la distribution de flux multi-DRM](https://azure.microsoft.com/blog/azure-media-services-adds-google-widevine-packaging-for-delivering-multi-drm-stream/).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-119">For recent announcements, please see Mingfei’s blogs: [Announcing Google Widevine license delivery services in Azure Media Services](https://azure.microsoft.com/blog/announcing-general-availability-of-google-widevine-license-services/), and [Azure Media Services adds Google Widevine packaging for delivering multi-DRM stream](https://azure.microsoft.com/blog/azure-media-services-adds-google-widevine-packaging-for-delivering-multi-drm-stream/).</span></span>  

### <a name="overview-of-this-article"></a><span data-ttu-id="b7bb4-120">Présentation de cet article</span><span class="sxs-lookup"><span data-stu-id="b7bb4-120">Overview of this article</span></span>
<span data-ttu-id="b7bb4-121">objectif Hello de cet article inclut hello qui suit :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-121">hello goal of this article includes hello following:</span></span>

1. <span data-ttu-id="b7bb4-122">fourniture d’une conception de référence du sous-système de gestion des droits numériques avec CENC multi-DRM ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-122">Provides a reference design of DRM subsystem using CENC with multi-DRM;</span></span>
2. <span data-ttu-id="b7bb4-123">fourniture d’une implémentation de référence sur la plateforme Microsoft Azure/Azure Media Services ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-123">Provides a reference implementation on Microsoft Azure/Azure Media Services platform;</span></span>
3. <span data-ttu-id="b7bb4-124">Commentaires de certaines rubriques relatives à la conception et l’implémentation.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-124">Discusses some design and implementation topics.</span></span>

<span data-ttu-id="b7bb4-125">Dans l’article hello, « multi-DRM » couvre suivant de hello :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-125">In hello article, “multi-DRM” covers hello following:</span></span>

1. <span data-ttu-id="b7bb4-126">Microsoft PlayReady</span><span class="sxs-lookup"><span data-stu-id="b7bb4-126">Microsoft PlayReady</span></span>
2. <span data-ttu-id="b7bb4-127">Google Widevine</span><span class="sxs-lookup"><span data-stu-id="b7bb4-127">Google Widevine</span></span>
3. <span data-ttu-id="b7bb4-128">Apple FairPlay</span><span class="sxs-lookup"><span data-stu-id="b7bb4-128">Apple FairPlay</span></span> 

<span data-ttu-id="b7bb4-129">Hello tableau suivant récapitule application de plateforme native/native hello et les navigateurs pris en charge par chaque DRM.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-129">hello following table summarizes hello native platform/native app, and browsers supported by each DRM.</span></span>

| <span data-ttu-id="b7bb4-130">**Plateforme cliente**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-130">**Client Platform**</span></span> | <span data-ttu-id="b7bb4-131">**Prise en charge native de DRM**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-131">**Native DRM Support**</span></span> | <span data-ttu-id="b7bb4-132">**Navigateur/App**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-132">**Browser/App**</span></span> | <span data-ttu-id="b7bb4-133">**Formats de diffusion en continu**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-133">**Streaming Formats**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="b7bb4-134">**Téléviseurs intelligents, récepteurs d’opérateur, récepteurs OTT**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-134">**Smart TVs, operator STBs, OTT STBs**</span></span> |<span data-ttu-id="b7bb4-135">PlayReady principalement, et/ou Widevine, et/ou autres</span><span class="sxs-lookup"><span data-stu-id="b7bb4-135">PlayReady primarily, and/or Widevine, and/or other</span></span> |<span data-ttu-id="b7bb4-136">Linux, Opera, WebKit, autre</span><span class="sxs-lookup"><span data-stu-id="b7bb4-136">Linux, Opera, WebKit, Other</span></span> |<span data-ttu-id="b7bb4-137">Divers formats</span><span class="sxs-lookup"><span data-stu-id="b7bb4-137">Various formats</span></span> |
| <span data-ttu-id="b7bb4-138">**Appareils Windows 10 (PC Windows, tablettes Windows, Windows Phone, Xbox)**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-138">**Windows 10 devices (Windows PC, Windows Tablets, Windows Phone, Xbox)**</span></span> |<span data-ttu-id="b7bb4-139">PlayReady</span><span class="sxs-lookup"><span data-stu-id="b7bb4-139">PlayReady</span></span> |<span data-ttu-id="b7bb4-140">MS Edge/IE11/EME</span><span class="sxs-lookup"><span data-stu-id="b7bb4-140">MS Edge/IE11/EME</span></span><br/><br/><br/><span data-ttu-id="b7bb4-141">UWP</span><span class="sxs-lookup"><span data-stu-id="b7bb4-141">UWP</span></span> |<span data-ttu-id="b7bb4-142">DASH (pour HLS, PlayReady n’est pas pris en charge)</span><span class="sxs-lookup"><span data-stu-id="b7bb4-142">DASH (For HLS, PlayReady is not supported)</span></span><br/><br/><span data-ttu-id="b7bb4-143">DASH, Smooth Streaming (pour HLS, PlayReady n’est pas pris en charge)</span><span class="sxs-lookup"><span data-stu-id="b7bb4-143">DASH, Smooth Streaming (For HLS, PlayReady is not supported)</span></span> |
| <span data-ttu-id="b7bb4-144">**Appareils Android (téléphone, tablette, TV)**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-144">**Android devices (Phone, Tablet, TV)**</span></span> |<span data-ttu-id="b7bb4-145">Widevine</span><span class="sxs-lookup"><span data-stu-id="b7bb4-145">Widevine</span></span> |<span data-ttu-id="b7bb4-146">Chrome/EME</span><span class="sxs-lookup"><span data-stu-id="b7bb4-146">Chrome/EME</span></span> |<span data-ttu-id="b7bb4-147">DASH, HLS</span><span class="sxs-lookup"><span data-stu-id="b7bb4-147">DASH,HLS</span></span> |
| <span data-ttu-id="b7bb4-148">**iOS (iPhone, iPad), clients OS X et Apple TV**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-148">**iOS (iPhone, iPad), OS X clients and Apple TV**</span></span> |<span data-ttu-id="b7bb4-149">FairPlay</span><span class="sxs-lookup"><span data-stu-id="b7bb4-149">FairPlay</span></span> |<span data-ttu-id="b7bb4-150">Safari 8+/EME</span><span class="sxs-lookup"><span data-stu-id="b7bb4-150">Safari 8+/EME</span></span> |<span data-ttu-id="b7bb4-151">HLS</span><span class="sxs-lookup"><span data-stu-id="b7bb4-151">HLS</span></span> |


<span data-ttu-id="b7bb4-152">Compte tenu de l’état actuel de hello de déploiement pour chaque DRM, un service souhaiterez généralement que vous devez tous les types hello de points de terminaison Bonjour meilleures tooimplement 2 ou 3-DRMs-toomake moyen.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-152">Considering hello current state of deployment for each DRM, a service will typically want tooimplement 2 or 3 DRMs toomake sure you address all hello types of endpoints in hello best way.</span></span>

<span data-ttu-id="b7bb4-153">Il existe un compromis entre la complexité hello de logique de service hello et complexité hello sur hello client côté tooreach un certain niveau de l’utilisateur d’expérience sur hello différents clients.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-153">There is a tradeoff between hello complexity of hello service logic and hello complexity on hello client side tooreach a certain level of user experience on hello various clients.</span></span>

<span data-ttu-id="b7bb4-154">toomake votre sélection, gardez à l’esprit ces faits :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-154">toomake your selection, keep in mind these facts:</span></span>

* <span data-ttu-id="b7bb4-155">PlayReady est implémenté en mode natif dans tous les appareils Windows, sur certains appareils Android, et est disponible via les kits de développement logiciel (SDK) sur pratiquement n'importe quelle plate-forme</span><span class="sxs-lookup"><span data-stu-id="b7bb4-155">PlayReady is natively implemented in every Windows device, on some Android devices, and available through software SDKs on virtually any platform</span></span>
* <span data-ttu-id="b7bb4-156">Widevine est implémenté en mode natif dans chaque appareil Android, dans Chrome, et dans certains autres appareils</span><span class="sxs-lookup"><span data-stu-id="b7bb4-156">Widevine is natively implemented in every Android device, in Chrome, and in some other devices</span></span>
* <span data-ttu-id="b7bb4-157">FairPlay est disponible uniquement sur iOS et les clients Mac OS ou via iTunes.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-157">FairPlay is available only on iOS and Mac OS clients or through iTunes.</span></span>

<span data-ttu-id="b7bb4-158">Par conséquent, une configuration multi-DRM standard serait :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-158">So a typical multi-DRM would be:</span></span>

* <span data-ttu-id="b7bb4-159">Option 1 : PlayReady et Widevine</span><span class="sxs-lookup"><span data-stu-id="b7bb4-159">Option 1: PlayReady and Widevine</span></span>
* <span data-ttu-id="b7bb4-160">Option 2 : PlayReady, Widevine et FairPlay</span><span class="sxs-lookup"><span data-stu-id="b7bb4-160">Option 2: PlayReady, Widevine and FairPlay</span></span>

## <a name="a-reference-design"></a><span data-ttu-id="b7bb4-161">Une conception de référence</span><span class="sxs-lookup"><span data-stu-id="b7bb4-161">A reference design</span></span>
<span data-ttu-id="b7bb4-162">Dans cette section, nous allons examiner une conception de référence est agnostique tootechnologies utilisé tooimplement il.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-162">In this section, we will present a reference design which is agnostic tootechnologies used tooimplement it.</span></span>

<span data-ttu-id="b7bb4-163">Un sous-système DRM peut contenir hello suivant des composants :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-163">A DRM subsystem may contain hello following components:</span></span>

1. <span data-ttu-id="b7bb4-164">Gestion des clés</span><span class="sxs-lookup"><span data-stu-id="b7bb4-164">Key management</span></span>
2. <span data-ttu-id="b7bb4-165">Packaging DRM</span><span class="sxs-lookup"><span data-stu-id="b7bb4-165">DRM packaging</span></span>
3. <span data-ttu-id="b7bb4-166">Remise de licence DRM</span><span class="sxs-lookup"><span data-stu-id="b7bb4-166">DRM license delivery</span></span>
4. <span data-ttu-id="b7bb4-167">Vérification des droits</span><span class="sxs-lookup"><span data-stu-id="b7bb4-167">Entitlement check</span></span>
5. <span data-ttu-id="b7bb4-168">Authentification/autorisation</span><span class="sxs-lookup"><span data-stu-id="b7bb4-168">Authentication/authorization</span></span>
6. <span data-ttu-id="b7bb4-169">Lecteur</span><span class="sxs-lookup"><span data-stu-id="b7bb4-169">Player</span></span>
7. <span data-ttu-id="b7bb4-170">Origine/CDN</span><span class="sxs-lookup"><span data-stu-id="b7bb4-170">Origin/CDN</span></span>

<span data-ttu-id="b7bb4-171">Hello diagramme suivant illustre hello élevée au niveau d’interaction entre composants hello dans un sous-système de gestion des droits numériques.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-171">hello following diagram illustrates hello high level interaction among hello components in a DRM subsystem.</span></span>

![Sous-système de gestion des droits numériques avec CENC](./media/media-services-cenc-with-multidrm-access-control/media-services-generic-drm-subsystem-with-cenc.png)

<span data-ttu-id="b7bb4-173">Il existe trois base « couches » dans la conception de hello :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-173">There are three basic “layers” in hello design:</span></span>

1. <span data-ttu-id="b7bb4-174">Couche back-office (en noir) qui n’est pas présentée à l’extérieur ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-174">Back office layer (in black) which are not exposed externally;</span></span>
2. <span data-ttu-id="b7bb4-175">Couche de « Réseau de périmètre » (bleu) contenant tous les points de terminaison hello exposés au public ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-175">“DMZ” layer (blue) containing all hello endpoints facing public;</span></span>
3. <span data-ttu-id="b7bb4-176">Couche Internet Public (en bleu clair) contenant les réseaux de diffusion en continu et des lecteurs avec le trafic transitant par l’Internet public.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-176">Public Internet layer (light blue) containing CDN and players with traffic across public Internet.</span></span>

<span data-ttu-id="b7bb4-177">Il doit exister un outil de gestion de contenu pour le contrôle de la protection DRM, que le chiffrement soit statique ou dynamique.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-177">There should be a content management tool for controlling DRM protection, regardless it is static or dynamic encryption.</span></span> <span data-ttu-id="b7bb4-178">entrées Hello pour le chiffrement de la gestion des droits numériques doivent inclure :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-178">hello inputs for DRM encryption should include:</span></span>

1. <span data-ttu-id="b7bb4-179">le contenu vidéo MBR ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-179">MBR video content;</span></span>
2. <span data-ttu-id="b7bb4-180">la clé de contenu ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-180">Content key;</span></span>
3. <span data-ttu-id="b7bb4-181">URL d’acquisition de licence.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-181">License acquisition URLs.</span></span>

<span data-ttu-id="b7bb4-182">Durant la lecture, les flux de niveau élevé de hello est :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-182">During playback time, hello high level flow is:</span></span>

1. <span data-ttu-id="b7bb4-183">l’utilisateur est authentifié ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-183">User is authenticated;</span></span>
2. <span data-ttu-id="b7bb4-184">Jeton d’autorisation est créé pour l’utilisateur de hello ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-184">Authorization token is created for hello user;</span></span>
3. <span data-ttu-id="b7bb4-185">Le contenu protégé par DRM (manifeste) est téléchargé tooplayer ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-185">DRM protected content (manifest) is downloaded tooplayer;</span></span>
4. <span data-ttu-id="b7bb4-186">Lecteur soumet des serveurs de licences d’acquisition demande toolicense avec l’ID de clé et l’autorisation jeton.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-186">Player submits license acquisition request toolicense servers together with key ID and authorization token.</span></span>

<span data-ttu-id="b7bb4-187">Avant de déplacer rubrique suivante toohello, quelques mots sur hello concevoir de gestion de clés.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-187">Before moving toohello next topic, a few words about hello design of key management.</span></span>

| <span data-ttu-id="b7bb4-188">**ContentKey vers ressources**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-188">**ContentKey–to-Asset**</span></span> | <span data-ttu-id="b7bb4-189">**Scénario**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-189">**Scenario**</span></span> |
| --- | --- |
| <span data-ttu-id="b7bb4-190">1 à 1</span><span class="sxs-lookup"><span data-stu-id="b7bb4-190">1–to-1</span></span> |<span data-ttu-id="b7bb4-191">cas le plus simple Hello.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-191">hello simplest case.</span></span> <span data-ttu-id="b7bb4-192">Il fournit le plus grand contrôle de hello.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-192">It provides hello finest control.</span></span> <span data-ttu-id="b7bb4-193">Mais cette approche résulte en un coût plus élevé de remise la licence hello.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-193">But this generally results in hello highest license delivery cost.</span></span> <span data-ttu-id="b7bb4-194">Chaque ressource protégée nécessite au moins une licence.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-194">At minimum one license request is required for each protected asset.</span></span> |
| <span data-ttu-id="b7bb4-195">1 à plusieurs</span><span class="sxs-lookup"><span data-stu-id="b7bb4-195">1–to-Many</span></span> |<span data-ttu-id="b7bb4-196">Vous pouvez utiliser hello même contenu de clé pour plusieurs éléments multimédias.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-196">You could use hello same content key for multiple assets.</span></span> <span data-ttu-id="b7bb4-197">Par exemple, pour tous les actifs hello dans un groupe logique telle qu’un genre ou un sous-ensemble de genre (ou séquence génétique), vous pouvez utiliser une seule clé de contenu.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-197">For example, for all hello assets in a logical group such as a genre or subset of genre (or Movie Gene), you could use a single content key.</span></span> |
| <span data-ttu-id="b7bb4-198">Plusieurs à 1</span><span class="sxs-lookup"><span data-stu-id="b7bb4-198">Many–to-1</span></span> |<span data-ttu-id="b7bb4-199">Plusieurs clés de contenu sont nécessaires pour chaque élément multimédia.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-199">Multiple content keys are needed for each asset.</span></span> <br/><br/><span data-ttu-id="b7bb4-200">Par exemple, si vous avez besoin de protection de CENC dynamique tooapply avec multi-DRM pour MPEG-DASH et le chiffrement AES-128 dynamique pour TLS, vous devez les deux clés de contenu distinctes, chacune avec son propre ContentKeyType.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-200">For example, if you need tooapply dynamic CENC protection with multi-DRM for MPEG-DASH, and dynamic AES-128 encryption for HLS, you need two separate content keys, each with its own ContentKeyType.</span></span> <span data-ttu-id="b7bb4-201">(Pour la clé de contenu de hello utilisée pour la protection de CENC dynamique, ContentKeyType.CommonEncryption doit être utilisé, alors que pour hello contenu clé utilisée pour le chiffrement dynamique AES-128, ContentKeyType.EnvelopeEncryption doit être utilisé.)</span><span class="sxs-lookup"><span data-stu-id="b7bb4-201">(For hello content key used for dynamic CENC protection, ContentKeyType.CommonEncryption should be used, while for hello content key used for dynamic AES-128 encryption, ContentKeyType.EnvelopeEncryption should be used.)</span></span><br/><br/><span data-ttu-id="b7bb4-202">Un autre exemple, dans la protection de CENC de tiret de contenu, en théorie, une clé de contenu peut être utilisé tooprotect des flux vidéo et un autre flux audio contenu tooprotect clé.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-202">Another example, in CENC protection of DASH content, in theory, one content key can be used tooprotect video stream and another content key tooprotect audio stream.</span></span> |
| <span data-ttu-id="b7bb4-203">Plusieurs – trop-plusieurs</span><span class="sxs-lookup"><span data-stu-id="b7bb4-203">Many – too- Many</span></span> |<span data-ttu-id="b7bb4-204">Combinaison de hello au-dessus des deux scénarios : un seul jeu de contenu clés sont utilisées pour chacune des hello plusieurs éléments multimédias dans hello même actif « groupe ».</span><span class="sxs-lookup"><span data-stu-id="b7bb4-204">Combination of hello above two scenarios: one set of content keys are used for each of hello multiple assets in hello same asset “group”.</span></span> |

<span data-ttu-id="b7bb4-205">Un autre facteur important tooconsider est hello de licences persistantes et non persistantes.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-205">Another important factor tooconsider is hello use of persistent and non-persistent licenses.</span></span>

<span data-ttu-id="b7bb4-206">Pourquoi ces considérations sont-elles importantes ?</span><span class="sxs-lookup"><span data-stu-id="b7bb4-206">Why are these considerations important?</span></span>

<span data-ttu-id="b7bb4-207">Ils ont la remise de toolicense impact direct si vous utilisez un cloud public pour la remise de la licence de coût.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-207">They have direct impact toolicense delivery cost if you use public cloud for license delivery.</span></span> <span data-ttu-id="b7bb4-208">Prenons l’exemple hello suivant deux tooillustrate de cas de conception :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-208">Let’s consider hello following two different design cases tooillustrate:</span></span>

1. <span data-ttu-id="b7bb4-209">Abonnement mensuel : utilisation d’une licence persistante et d’un mappage clé à ressource 1 à plusieurs.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-209">Monthly subscription: Use persistent license, and 1-to-many content key-to-asset mapping.</span></span> <span data-ttu-id="b7bb4-210">Par exemple,</span><span class="sxs-lookup"><span data-stu-id="b7bb4-210">E.g.</span></span> <span data-ttu-id="b7bb4-211">pour toutes les vidéos d’enfants hello, nous utilisons une clé unique de contenu pour le chiffrement.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-211">for all hello kids movies, we use a single content key for encryption.</span></span> <span data-ttu-id="b7bb4-212">Dans ce cas :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-212">In this case:</span></span>

    <span data-ttu-id="b7bb4-213">Nombre total de licences requis pour tous les films/appareils = 1</span><span class="sxs-lookup"><span data-stu-id="b7bb4-213">Total # licenses requested for all kids movies/device = 1</span></span>
2. <span data-ttu-id="b7bb4-214">Abonnement mensuel : utilisation d’une licence non persistante et du mappage 1 à 1 entre la clé de contenu et la ressource de contenu.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-214">Monthly subscription: Use non-persistent license, and 1-to-1 mapping between content key and asset.</span></span> <span data-ttu-id="b7bb4-215">Dans ce cas :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-215">In this case:</span></span>

    <span data-ttu-id="b7bb4-216">Nombre total de licences requis pour tous les films/appareils = [nombre de films # regardés] x [# de séances]</span><span class="sxs-lookup"><span data-stu-id="b7bb4-216">Total # licenses requested for all kids movies/device = [# movies watched] x [# sessions]</span></span>

<span data-ttu-id="b7bb4-217">Comme vous pouvez le voir, hello deux conceptions différentes entraîner licence très différente demander à modèles par conséquent, la remise de licence coût si le service de remise de licence est fourni par un cloud public comme Azure Media Services.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-217">As you can easily see, hello two different designs result in very different license request patterns hence license delivery cost if license delivery service is provided by a public cloud such as Azure Media Services.</span></span>

## <a name="mapping-design-tootechnology-for-implementation"></a><span data-ttu-id="b7bb4-218">Tootechnology de conception de mappage pour l’implémentation</span><span class="sxs-lookup"><span data-stu-id="b7bb4-218">Mapping design tootechnology for implementation</span></span>
<span data-ttu-id="b7bb4-219">Ensuite, nous mapper notre tootechnologies conception générique sur la plateforme de Microsoft Azure/Azure Media Services, en spécifiant le toouse technologie pour chaque bloc de construction.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-219">Next, we map our generic design tootechnologies on Microsoft Azure/Azure Media Services platform, by specifying which technology toouse for each building block.</span></span>

<span data-ttu-id="b7bb4-220">Hello tableau suivant montre le hello mappage :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-220">hello following table shows hello mapping:</span></span>

| <span data-ttu-id="b7bb4-221">**Bloc de construction**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-221">**Building Block**</span></span> | <span data-ttu-id="b7bb4-222">**Technology**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-222">**Technology**</span></span> |
| --- | --- |
| <span data-ttu-id="b7bb4-223">**Lecteur**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-223">**Player**</span></span> |[<span data-ttu-id="b7bb4-224">Azure Media Player</span><span class="sxs-lookup"><span data-stu-id="b7bb4-224">Azure Media Player</span></span>](https://azure.microsoft.com/services/media-services/media-player/) |
| <span data-ttu-id="b7bb4-225">**Fournisseur d’identité (IDP)**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-225">**Identity Provider (IDP)**</span></span> |<span data-ttu-id="b7bb4-226">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="b7bb4-226">Azure Active Directory</span></span> |
| <span data-ttu-id="b7bb4-227">**Secure Token Service (Service d’émission de jeton de sécurité - STS)**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-227">**Secure Token Service (STS)**</span></span> |<span data-ttu-id="b7bb4-228">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="b7bb4-228">Azure Active Directory</span></span> |
| <span data-ttu-id="b7bb4-229">**Flux de travail de Protection DRM**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-229">**DRM Protection Workflow**</span></span> |<span data-ttu-id="b7bb4-230">Protection dynamique Azure Media Services</span><span class="sxs-lookup"><span data-stu-id="b7bb4-230">Azure Media Services Dynamic Protection</span></span> |
| <span data-ttu-id="b7bb4-231">**Distribution de licence DRM**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-231">**DRM License Delivery**</span></span> |<span data-ttu-id="b7bb4-232">1. Distribution de licence Azure Media Services (PlayReady, Widevine, FairPlay) ou</span><span class="sxs-lookup"><span data-stu-id="b7bb4-232">1. Azure Media Services License Delivery (PlayReady, Widevine, FairPlay), or</span></span> <br/><span data-ttu-id="b7bb4-233">2. Serveur de licences de Axinom,</span><span class="sxs-lookup"><span data-stu-id="b7bb4-233">2. Axinom License Server,</span></span> <br/><span data-ttu-id="b7bb4-234">3. Serveur de licences PlayReady personnalisé</span><span class="sxs-lookup"><span data-stu-id="b7bb4-234">3. Custom PlayReady License Server</span></span> |
| <span data-ttu-id="b7bb4-235">**Origine**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-235">**Origin**</span></span> |<span data-ttu-id="b7bb4-236">Point de terminaison des Services de diffusion multimédia en continu Azure</span><span class="sxs-lookup"><span data-stu-id="b7bb4-236">Azure Media Services Streaming Endpoint</span></span> |
| <span data-ttu-id="b7bb4-237">**Gestion des clés**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-237">**Key Management**</span></span> |<span data-ttu-id="b7bb4-238">Inutile pour l’implémentation de référence</span><span class="sxs-lookup"><span data-stu-id="b7bb4-238">Not needed for reference implementation</span></span> |
| <span data-ttu-id="b7bb4-239">**Gestion de contenu**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-239">**Content Management**</span></span> |<span data-ttu-id="b7bb4-240">Une application de console C#</span><span class="sxs-lookup"><span data-stu-id="b7bb4-240">A C# console application</span></span> |

<span data-ttu-id="b7bb4-241">En d’autres termes, le fournisseur d’identité (IDP) et du STS (Service d’émission de jeton de sécurité - Secure Token Services) sera AD Azure.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-241">In other words, both Identity Provider (IDP) and Secure Token Service (STS) will be Azure AD.</span></span> <span data-ttu-id="b7bb4-242">Nous utiliserons l’ [API de lecteur Azure Media](http://amp.azure.net/libs/amp/latest/docs/)comme lecteur.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-242">For player, we will use [Azure Media Player API](http://amp.azure.net/libs/amp/latest/docs/).</span></span> <span data-ttu-id="b7bb4-243">Azure Media Services et le lecteur Azure Media prend en charge DASH et CENC avec multi-DRM.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-243">Both Azure Media Services and Azure Media Player support DASH and CENC with multi-DRM.</span></span>

<span data-ttu-id="b7bb4-244">Hello ci-dessous diagramme illustre hello structure globale et du flux avec hello au-dessus de mappage de la technologie.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-244">hello following diagram shows hello overall structure and flow with hello above technology mapping.</span></span>

![CENC sur AMS](./media/media-services-cenc-with-multidrm-access-control/media-services-cenc-subsystem-on-AMS-platform.png)

<span data-ttu-id="b7bb4-246">Dans tooset d’ordre de chiffrement CENC dynamique, outil de gestion de contenu hello utilisera hello suivant entrées :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-246">In order tooset up dynamic CENC encryption, hello content management tool will use hello following inputs:</span></span>

1. <span data-ttu-id="b7bb4-247">contenu ouvert ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-247">Open content;</span></span>
2. <span data-ttu-id="b7bb4-248">clé de contenu issue de la génération/la gestion de clé ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-248">Content key from key generation/management;</span></span>
3. <span data-ttu-id="b7bb4-249">URL d’acquisition de licence ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-249">License acquisition URLs;</span></span>
4. <span data-ttu-id="b7bb4-250">liste d’informations fournie par Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-250">A list of information from Azure AD.</span></span>

<span data-ttu-id="b7bb4-251">sortie Hello de l’outil de gestion de contenu hello sera :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-251">hello output of hello content management tool will be:</span></span>

1. <span data-ttu-id="b7bb4-252">ContentKeyAuthorizationPolicy contenant la spécification hello sur la remise de licences vérifie un jeton Web JSON et les spécifications de licences DRM ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-252">ContentKeyAuthorizationPolicy containing hello specification on how license delivery verifies a JWT token and DRM license specifications;</span></span>
2. <span data-ttu-id="b7bb4-253">AssetDeliveryPolicy contient des spécifications au format streaming, la protection DRM et les URL d’acquisition de licence.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-253">AssetDeliveryPolicy containing specifications on streaming format, DRM protection and license acquisition URLs.</span></span>

<span data-ttu-id="b7bb4-254">Pendant l’exécution, les flux hello sont comme ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-254">During runtime, hello flow is as below:</span></span>

1. <span data-ttu-id="b7bb4-255">au moment de l’authentification de l’utilisateur, un jeton JWT est généré ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-255">Upon user authentication, a JWT token is generated;</span></span>
2. <span data-ttu-id="b7bb4-256">Une des revendications hello contenues dans un jeton JWT hello est revendication « groupes » contenant les ID d’objet groupe hello de « EntitledUserGroup ».</span><span class="sxs-lookup"><span data-stu-id="b7bb4-256">One of hello claims contained in hello JWT token is “groups” claim containing hello group object ID of “EntitledUserGroup”.</span></span> <span data-ttu-id="b7bb4-257">Cette revendication sera utilisée pour le réussir la « vérification des droits ».</span><span class="sxs-lookup"><span data-stu-id="b7bb4-257">This claim will be used for passing “entitlement check”.</span></span>
3. <span data-ttu-id="b7bb4-258">Manifeste du client télécharge le lecteur d’un CENC le contenu protégé et « voit » suivante de hello :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-258">Player downloads client manifest of a CENC protected content and “sees” hello following:</span></span>

   1. <span data-ttu-id="b7bb4-259">ID de clé,</span><span class="sxs-lookup"><span data-stu-id="b7bb4-259">key ID,</span></span>
   2. <span data-ttu-id="b7bb4-260">contenu de Hello est CENC protégé,</span><span class="sxs-lookup"><span data-stu-id="b7bb4-260">hello content is CENC protected,</span></span>
   3. <span data-ttu-id="b7bb4-261">URL d’acquisition de licence.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-261">License acquisition URLs.</span></span>
4. <span data-ttu-id="b7bb4-262">Le lecteur effectue une demande d’acquisition de licence basée sur hello navigateur/DRM pris en charge.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-262">Player makes a license acquisition request based on hello browser/DRM supported.</span></span> <span data-ttu-id="b7bb4-263">Dans la demande d’acquisition de licence hello, ID de clé et hello JWT jeton sera également envoyé.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-263">In hello license acquisition request, key ID and hello JWT token will also be submitted.</span></span> <span data-ttu-id="b7bb4-264">Service de remise de licences vérifie un jeton JWT hello et revendications hello contenues avant l’émission hello nécessaire de licence.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-264">License delivery service will verify hello JWT token and hello claims contained before issuing hello needed license.</span></span>

## <a name="implementation"></a><span data-ttu-id="b7bb4-265">Implémentation</span><span class="sxs-lookup"><span data-stu-id="b7bb4-265">Implementation</span></span>
### <a name="implementation-procedures"></a><span data-ttu-id="b7bb4-266">Procédures de mise en œuvre</span><span class="sxs-lookup"><span data-stu-id="b7bb4-266">Implementation procedures</span></span>
<span data-ttu-id="b7bb4-267">implémentation de Hello inclura hello comme suit :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-267">hello implementation will include hello following steps:</span></span>

1. <span data-ttu-id="b7bb4-268">Préparer les éléments multimédias de test : encoder/package un test toomulti-vitesse de transmission vidéo fragmenté MP4 dans Azure Media Services.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-268">Prepare test asset(s): encode/package a test video toomulti-bitrate fragmented MP4 in Azure Media Services.</span></span> <span data-ttu-id="b7bb4-269">Cet actif n’est pas protégé par DRM.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-269">This asset is NOT DRM protected.</span></span> <span data-ttu-id="b7bb4-270">La protection DRM sera assurée par le biais d’une protection dynamique ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-270">DRM protection will be done by dynamic protection later.</span></span>
2. <span data-ttu-id="b7bb4-271">Créez l’ID de clé et une clé de contenu (éventuellement à partir d’une amorce de clé).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-271">Create key ID and content key (optionally from key seed).</span></span> <span data-ttu-id="b7bb4-272">Dans le cas présent, le système de gestion de clés n’est pas nécessaire dans la mesure où nous avons affaire à un seul ensemble d’ID de clés et de clé contenu pour plusieurs ressources de test ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-272">For our purpose, key management system is not needed since we are dealing with only a single set of key ID and content key for a couple of test assets;</span></span>
3. <span data-ttu-id="b7bb4-273">Utiliser les services de livraison AMS API tooconfigure multi-DRM licence pour un composant de test hello.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-273">Use AMS API tooconfigure multi-DRM license delivery services for hello test asset.</span></span> <span data-ttu-id="b7bb4-274">Si vous utilisez des serveurs de licences personnalisés par votre entreprise ou des fournisseurs de votre société au lieu des services de licence dans Azure Media Services, vous pouvez ignorer cette étape et spécifier l’URL d’acquisition de licence à l’étape hello pour la configuration de la remise de la licence.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-274">If you are using custom license servers by your company or your company’s vendors instead of license services in Azure Media Services, you can skip this step and specify license acquisition URLs in hello step for configuring license delivery.</span></span> <span data-ttu-id="b7bb4-275">Les API AMS est nécessaire toospecify détaillée de certaines configurations, notamment la restriction de la stratégie d’autorisation, les modèles de réponse pour les différents services de licences DRM, etc. de licence. À ce stade, hello portail Azure n’a pas encore fournir hello nécessaires de l’interface utilisateur pour cette configuration.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-275">AMS API is needed toospecify some detailed configurations, such as authorization policy restriction, license response templates for different DRM license services, etc. At this time, hello Azure portal does not yet provide hello needed UI for this configuration.</span></span> <span data-ttu-id="b7bb4-276">Vous pouvez trouver des informations de niveau API et un exemple de code dans le document de Julia Kornich intitulé : [Utilisation du chiffrement commun dynamique PlayReady et/ou Widevine](media-services-protect-with-drm.md).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-276">You can find API level info and sample code in Julia Kornich’s document: [Using PlayReady and/or Widevine Dynamic Common Encryption](media-services-protect-with-drm.md).</span></span>
4. <span data-ttu-id="b7bb4-277">Utilisez stratégie de livraison AMS API tooconfigure actif pour un composant de test hello.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-277">Use AMS API tooconfigure asset delivery policy for hello test asset.</span></span> <span data-ttu-id="b7bb4-278">Vous pouvez trouver des informations de niveau API et un exemple de code dans le document de Julia Kornich intitulé : [Utilisation du chiffrement commun dynamique PlayReady et/ou Widevine](media-services-protect-with-drm.md).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-278">You can find API level info and sample code in Julia Kornich’s document: [Using PlayReady and/or Widevine Dynamic Common Encryption](media-services-protect-with-drm.md).</span></span>
5. <span data-ttu-id="b7bb4-279">créer et modifier un client Azure Active Directory dans Azure ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-279">Create and configure an Azure Active Directory tenant in Azure;</span></span>
6. <span data-ttu-id="b7bb4-280">Créer plusieurs comptes d’utilisateurs et groupes dans votre locataire Azure Active Directory : vous devez créer au moins « EntitledUser » et d’ajouter un groupe d’utilisateurs toothis.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-280">Create a few user accounts and groups in your Azure Active Directory tenant: you should create at least “EntitledUser” group and add a user toothis group.</span></span> <span data-ttu-id="b7bb4-281">Les utilisateurs de ce groupe passera la vérification des droits d’acquisition de licence, les utilisateurs pas dans ce groupe de contrôle d’authentification toopass échoue et qu’il ne sera pas en mesure de tooacquire une licence.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-281">Users in this group will pass entitlement check in license acquisition and users not in this group will fail toopass authentication check and will not be able tooacquire any license.</span></span> <span data-ttu-id="b7bb4-282">Un membre de ce groupe « EntitledUser » est une revendication « groupes » requis dans un jeton JWT hello émis par Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-282">Being a member of this “EntitledUser” group is a required “groups” claim in hello JWT token issued by Azure AD.</span></span> <span data-ttu-id="b7bb4-283">Cette exigence de revendication doit être spécifiée pendant l’opération de configuration de services de distribution de licence multi-DRM.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-283">This claim requirement should be specified in configuring multi-DRM license delivery services step.</span></span>
7. <span data-ttu-id="b7bb4-284">Créez une application ASP.NET MVC qui hébergera votre lecteur vidéo.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-284">Create an ASP.NET MVC app which will be hosting your video player.</span></span> <span data-ttu-id="b7bb4-285">Cette application ASP.NET est protégée avec l’authentification des utilisateurs sur des locataires Azure Active Directory hello.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-285">This ASP.NET app will be protected with user authentication against hello Azure Active Directory tenant.</span></span> <span data-ttu-id="b7bb4-286">Revendications appropriées seront incluses dans les jetons d’accès hello obtenus après l’authentification des utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-286">Proper claims will be included in hello access tokens obtained after user authentication.</span></span> <span data-ttu-id="b7bb4-287">L’API OpenID Connect est recommandée pour cette étape.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-287">OpenID Connect API is recommended for this step.</span></span> <span data-ttu-id="b7bb4-288">Vous devez hello tooinstall suivant les packages NuGet :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-288">You need tooinstall hello following NuGet packages:</span></span>
   * <span data-ttu-id="b7bb4-289">Install-Package Microsoft.Azure.ActiveDirectory.GraphClient</span><span class="sxs-lookup"><span data-stu-id="b7bb4-289">Install-Package Microsoft.Azure.ActiveDirectory.GraphClient</span></span>
   * <span data-ttu-id="b7bb4-290">Install-Package Microsoft.Owin.Security.OpenIdConnect</span><span class="sxs-lookup"><span data-stu-id="b7bb4-290">Install-Package Microsoft.Owin.Security.OpenIdConnect</span></span>
   * <span data-ttu-id="b7bb4-291">Install-Package Microsoft.Owin.Security.Cookies</span><span class="sxs-lookup"><span data-stu-id="b7bb4-291">Install-Package Microsoft.Owin.Security.Cookies</span></span>
   * <span data-ttu-id="b7bb4-292">Install-Package Microsoft.Owin.Host.SystemWeb</span><span class="sxs-lookup"><span data-stu-id="b7bb4-292">Install-Package Microsoft.Owin.Host.SystemWeb</span></span>
   * <span data-ttu-id="b7bb4-293">Install-Package Microsoft.IdentityModel.Clients.ActiveDirectory</span><span class="sxs-lookup"><span data-stu-id="b7bb4-293">Install-Package Microsoft.IdentityModel.Clients.ActiveDirectory</span></span>
8. <span data-ttu-id="b7bb4-294">Créer un lecteur à l’aide d’ [API Azure Media Player](http://amp.azure.net/libs/amp/latest/docs/).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-294">Create a player using [Azure Media Player API](http://amp.azure.net/libs/amp/latest/docs/).</span></span> <span data-ttu-id="b7bb4-295">[ProtectionInfo API de Azure Media Player](http://amp.azure.net/libs/amp/latest/docs/) vous permet de toospecify le toouse de technologie DRM sur une autre plateforme de gestion des droits numériques.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-295">[Azure Media Player’s ProtectionInfo API](http://amp.azure.net/libs/amp/latest/docs/) allows you toospecify which DRM technology toouse on different DRM platform.</span></span>
9. <span data-ttu-id="b7bb4-296">Matrice de test :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-296">Test matrix:</span></span>

| <span data-ttu-id="b7bb4-297">**DRM**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-297">**DRM**</span></span> | <span data-ttu-id="b7bb4-298">**Browser**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-298">**Browser**</span></span> | <span data-ttu-id="b7bb4-299">**Résultat pour les utilisateurs autorisés**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-299">**Result for Entitled User**</span></span> | <span data-ttu-id="b7bb4-300">**Résultat pour les utilisateurs non autorisés**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-300">**Result for Un-entitled User**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="b7bb4-301">**PlayReady**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-301">**PlayReady**</span></span> |<span data-ttu-id="b7bb4-302">MS Edge ou IE11 sous Windows 10</span><span class="sxs-lookup"><span data-stu-id="b7bb4-302">MS Edge or IE11 on Windows 10</span></span> |<span data-ttu-id="b7bb4-303">Réussite</span><span class="sxs-lookup"><span data-stu-id="b7bb4-303">Succeed</span></span> |<span data-ttu-id="b7bb4-304">Échec</span><span class="sxs-lookup"><span data-stu-id="b7bb4-304">Fail</span></span> |
| <span data-ttu-id="b7bb4-305">**Widevine**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-305">**Widevine**</span></span> |<span data-ttu-id="b7bb4-306">Chrome sous Windows 10</span><span class="sxs-lookup"><span data-stu-id="b7bb4-306">Chrome on Windows 10</span></span> |<span data-ttu-id="b7bb4-307">Réussite</span><span class="sxs-lookup"><span data-stu-id="b7bb4-307">Succeed</span></span> |<span data-ttu-id="b7bb4-308">Échec</span><span class="sxs-lookup"><span data-stu-id="b7bb4-308">Fail</span></span> |
| <span data-ttu-id="b7bb4-309">**FairPlay**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-309">**FairPlay**</span></span> |<span data-ttu-id="b7bb4-310">TBD</span><span class="sxs-lookup"><span data-stu-id="b7bb4-310">TBD</span></span> | | |

<span data-ttu-id="b7bb4-311">George Trifonov, de l’équipe Azure Media Services, a écrit un blog fournissant la procédure détaillée de la configuration d’Azure Active Directory pour une application de lecteur MVC ASP.NET : [intégrer l’application Azure Media Services OWIN basée sur MVC avec Azure Active Directory et restreindre la distribution de clé de contenu en se fondant sur les revendications JWT](http://gtrifonov.com/2015/01/24/mvc-owin-azure-media-services-ad-integration/).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-311">George Trifonov of Azure Media Services Team has written a blog providing detailed steps in setting up Azure Active Directory for an ASP.NET MVC player app: [Integrate Azure Media Services OWIN MVC based app with Azure Active Directory and restrict content key delivery based on JWT claims](http://gtrifonov.com/2015/01/24/mvc-owin-azure-media-services-ad-integration/).</span></span>

<span data-ttu-id="b7bb4-312">George a également écrit un blog concernant la page [Authentification des jetons JWT dans Azure Media Services et chiffrement dynamique](http://gtrifonov.com/2015/01/03/jwt-token-authentication-in-azure-media-services-and-dynamic-encryption/).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-312">George has also written a blog on [JWT token Authentication in Azure Media Services and Dynamic Encryption](http://gtrifonov.com/2015/01/03/jwt-token-authentication-in-azure-media-services-and-dynamic-encryption/).</span></span> <span data-ttu-id="b7bb4-313">Et voici son [exemple sur l’intégration d’Azure AD avec remise de clé Azure Media Services](https://github.com/AzureMediaServicesSamples/Key-delivery-with-AAD-integration/).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-313">And here is his [sample on Azure AD integration with Azure Media Services key delivery](https://github.com/AzureMediaServicesSamples/Key-delivery-with-AAD-integration/).</span></span>

<span data-ttu-id="b7bb4-314">Pour plus d’informations, sur Azure Active Directory :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-314">For information on Azure Active Directory:</span></span>

* <span data-ttu-id="b7bb4-315">Vous pouvez trouver des informations pour les développeurs dans [Guide du développeur Azure Active Directory](../active-directory/active-directory-developers-guide.md).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-315">You can find developer information in [Azure Active Directory Developer’s Guide](../active-directory/active-directory-developers-guide.md).</span></span>
* <span data-ttu-id="b7bb4-316">Vous pouvez trouver des informations sur l’administrateur dans [Administrer votre annuaire Azure AD](../active-directory/active-directory-administer.md).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-316">You can find administrator information in [Administer Your Azure AD Directory](../active-directory/active-directory-administer.md).</span></span>

### <a name="some-gotchas-in-implementation"></a><span data-ttu-id="b7bb4-317">Des problèmes de mise en œuvre</span><span class="sxs-lookup"><span data-stu-id="b7bb4-317">Some gotchas in implementation</span></span>
<span data-ttu-id="b7bb4-318">Il existe des problèmes » » dans l’implémentation de hello.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-318">There are some “gotchas” in hello implementation.</span></span> <span data-ttu-id="b7bb4-319">Nous espérons que hello suivant de la liste des « pièges » peut vous aider à résolution des problèmes si vous rencontrez des problèmes.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-319">Hopefully hello following list of “gotchas” can help you troubleshooting in case you run into issues.</span></span>

1. <span data-ttu-id="b7bb4-320">**Issuer** : l’URL doit se terminer par **« / »**.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-320">**Issuer** URL should end with **"/"**.</span></span>  

    <span data-ttu-id="b7bb4-321">**Audience** doit être hello lecteur identifiant client d’application et vous devez également ajouter **« / »** à fin hello d’URL de l’émetteur hello.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-321">**Audience** should be hello player application client ID and you should also add **"/"** at hello end of hello issuer URL.</span></span>

        <add key="ida:audience" value="[Application Client ID GUID]" />
        <add key="ida:issuer" value="https://sts.windows.net/[AAD Tenant ID]/" />

    <span data-ttu-id="b7bb4-322">Dans [JWT décodeur](http://jwt.calebb.net/), vous devez voir **aud** et **iss** comme ci-dessous dans un jeton JWT hello :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-322">In [JWT Decoder](http://jwt.calebb.net/), you should see **aud** and **iss** as below in hello JWT token:</span></span>

    ![1er piège](./media/media-services-cenc-with-multidrm-access-control/media-services-1st-gotcha.png)
2. <span data-ttu-id="b7bb4-324">Ajouter des autorisations toohello application AAD (sur l’onglet configurer de l’application hello).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-324">Add Permissions toohello application in AAD (on Configure tab of hello application).</span></span> <span data-ttu-id="b7bb4-325">Cette opération est obligatoire pour chaque application (versions locales et déployées).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-325">This is required for each application (local and deployed versions).</span></span>

    ![2e piège](./media/media-services-cenc-with-multidrm-access-control/media-services-perms-to-other-apps.png)
3. <span data-ttu-id="b7bb4-327">Utiliser l’émetteur de droite hello dans la configuration de la protection de CENC dynamique :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-327">Use hello right issuer in setting up dynamic CENC protection:</span></span>

        <add key="ida:issuer" value="https://sts.windows.net/[AAD Tenant ID]/"/>

    <span data-ttu-id="b7bb4-328">qui suit Hello ne fonctionne pas :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-328">hello following will not work:</span></span>

        <add key="ida:issuer" value="https://willzhanad.onmicrosoft.com/" />

    <span data-ttu-id="b7bb4-329">Hello GUID est l’ID de client hello AAD</span><span class="sxs-lookup"><span data-stu-id="b7bb4-329">hello GUID is hello AAD tenant ID.</span></span> <span data-ttu-id="b7bb4-330">Hello GUID sont accessibles dans le menu contextuel de points de terminaison dans le portail Azure.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-330">hello GUID can be found in Endpoints popup in Azure portal.</span></span>
4. <span data-ttu-id="b7bb4-331">Octroi des autorisations de revendications de membre de groupe.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-331">Grant group membership claims privileges.</span></span> <span data-ttu-id="b7bb4-332">Vérifiez que dans le fichier manifeste d’application AAD, nous avons suivant de hello</span><span class="sxs-lookup"><span data-stu-id="b7bb4-332">Make sure in AAD application manifest file, we have hello following</span></span>

    <span data-ttu-id="b7bb4-333">« groupMembershipClaims » : « Tous », (valeur par défaut de hello est null)</span><span class="sxs-lookup"><span data-stu-id="b7bb4-333">"groupMembershipClaims": "All",    (hello default value is null)</span></span>
5. <span data-ttu-id="b7bb4-334">Définition d’un TokenType approprié lors de la création de conditions de restriction.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-334">Setting proper TokenType when creating restriction requirements.</span></span>

        objTokenRestrictionTemplate.TokenType = TokenType.JWT;

    <span data-ttu-id="b7bb4-335">Ajout de prenant en charge de JSON (AAD) en outre tooSWT (ACS), la valeur par défaut de hello TokenType est TokenType.JWT.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-335">Since adding support of JWT (AAD) in addition tooSWT (ACS), hello default TokenType is TokenType.JWT.</span></span> <span data-ttu-id="b7bb4-336">Si vous utilisez SWT/ACS, vous devez définir tooTokenType.SWT.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-336">If you use SWT/ACS, you must set tooTokenType.SWT.</span></span>

## <a name="additional-topics-for-implementation"></a><span data-ttu-id="b7bb4-337">Rubriques supplémentaires pour l’implémentation</span><span class="sxs-lookup"><span data-stu-id="b7bb4-337">Additional Topics for Implementation</span></span>
<span data-ttu-id="b7bb4-338">Ensuite, nous aborderons certaines rubriques supplémentaires de notre conception et de l’implémentation.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-338">Next we will disc uss some additional topics in our design and implementation.</span></span>

### <a name="http-or-https"></a><span data-ttu-id="b7bb4-339">HTTP ou HTTPS ?</span><span class="sxs-lookup"><span data-stu-id="b7bb4-339">HTTP or HTTPS?</span></span>
<span data-ttu-id="b7bb4-340">Hello application de lecteur d’ASP.NET MVC nous générées doit prendre en charge suivantes d’hello :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-340">hello ASP.NET MVC player application we built must support hello following:</span></span>

1. <span data-ttu-id="b7bb4-341">Authentification des utilisateurs via Azure AD qui a besoin de toobe sous HTTPS ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-341">User authentication through Azure AD which needs toobe under HTTPS;</span></span>
2. <span data-ttu-id="b7bb4-342">Échange de jeton JWT entre le client et Azure AD qui a besoin de toobe sous HTTPS ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-342">JWT token exchange between client and Azure AD which needs toobe under HTTPS;</span></span>
3. <span data-ttu-id="b7bb4-343">Acquisition de licence DRM par client hello qui est requis toobe sous HTTPS si la remise de la licence est fourni par Azure Media Services.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-343">DRM license acquisition by hello client which is required toobe under HTTPS if license delivery is provided by Azure Media Services.</span></span> <span data-ttu-id="b7bb4-344">Bien entendu, la suite de produits PlayReady n'impose pas le format HTTPS pour la distribution de licences.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-344">Of course, PlayReady product suite does not mandate HTTPS for license delivery.</span></span> <span data-ttu-id="b7bb4-345">Si votre serveur de licences PlayReady se trouve en dehors d'Azure Media Services, vous pouvez utiliser HTTP ou HTTPS.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-345">If your PlayReady license server is outside of Azure Media Services, either HTTP or HTTPS could be used.</span></span>

<span data-ttu-id="b7bb4-346">Par conséquent, hello application de lecteur ASP.NET utilisent le protocole HTTPS est recommandé.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-346">Therefore, hello ASP.NET player application will use HTTPS as a best practice.</span></span> <span data-ttu-id="b7bb4-347">Cela signifie que hello Qu'azure Media Player sera sur une page sous HTTPS.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-347">This means hello Azure Media Player will be on a page under HTTPS.</span></span> <span data-ttu-id="b7bb4-348">Toutefois, pour la diffusion en continu nous préférons HTTP, par conséquent, nous devons tooconsider mixte les problèmes liés au contenu.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-348">However, for streaming we prefer HTTP, hence we need tooconsider mixed content issue.</span></span>

1. <span data-ttu-id="b7bb4-349">Le navigateur ne permet pas un contenu mixte.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-349">Browser does not allow mixed content.</span></span> <span data-ttu-id="b7bb4-350">Cependant, les plug-ins tels que Silverlight et OSMF pour Smooth et DASH le permettent.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-350">But plugins like Silverlight and OSMF plugin for smooth and DASH allow.</span></span> <span data-ttu-id="b7bb4-351">Contenu mixte est un problème de sécurité : ce en raison de la menace de toohello de tooinject de capacité hello JS malveillants qui peut provoquer des hello toobe des données client exposés.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-351">Mixed content is a security concern - This is due toohello threat of hello ability tooinject malicious JS which can cause hello customer data toobe at risk.</span></span>  <span data-ttu-id="b7bb4-352">Navigateurs bloquent ce paramètre par défaut et jusqu'à présent hello seule façon toowork autour de hello (origine) côté serveur tooallow tous les domaines (quel que soit le protocole https ou http).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-352">Browsers block this by default and so far hello only way toowork around it is on hello server (origin) side, tooallow all domains (regardless https or http).</span></span> <span data-ttu-id="b7bb4-353">Il ne s’agit probablement pas d’une idée judicieuse.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-353">This is probably not a good idea either.</span></span>
2. <span data-ttu-id="b7bb4-354">Il est préférable d’éviter les contenus mixtes : les deux doivent utiliser soit HTTP, soit utiliser HTTPS </span><span class="sxs-lookup"><span data-stu-id="b7bb4-354">We should avoid mixed content: either both use HTTP or both use HTTPS.</span></span> <span data-ttu-id="b7bb4-355">Si du contenu mixte est lu, silverlightSS tech nécessite la suppression d’un avertissement de contenu mixte.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-355">When playing mixed content, silverlightSS tech requires clearing a mixed content warning.</span></span> <span data-ttu-id="b7bb4-356">flashSS tech traite le contenu mixte sans aucun avertissement.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-356">flashSS tech handles mixed content without mixed content warning.</span></span>
3. <span data-ttu-id="b7bb4-357">Si votre point de terminaison de diffusion a été créé avant août 2014, il ne prend pas en charge HTTPS.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-357">If your streaming endpoint was created before August 2014, it will not support HTTPS.</span></span> <span data-ttu-id="b7bb4-358">Dans ce cas, créez et utilisez un nouveau point de terminaison pour le protocole HTTPS.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-358">In this case, please create and use a new streaming endpoint for HTTPS.</span></span>

<span data-ttu-id="b7bb4-359">Dans l’implémentation de référence hello, pour le contenu protégé par DRM, application et la diffusion en continu sera sous HTTTPS.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-359">In hello reference implementation, for DRM protected contents, both application and streaming will be under HTTTPS.</span></span> <span data-ttu-id="b7bb4-360">Pour ouvrir contenu, le lecteur hello ne doit pas l’authentification ou licence, afin que vous ayez hello liberty toouse HTTP ou HTTPS.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-360">For open contents, hello player does not need authentication or license, so you have hello liberty toouse either HTTP or HTTPS.</span></span>

### <a name="azure-active-directory-signing-key-rollover"></a><span data-ttu-id="b7bb4-361">Substitution de la clé de signature Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="b7bb4-361">Azure Active Directory signing key rollover</span></span>
<span data-ttu-id="b7bb4-362">Il s’agit d’un tootake point important en considération de votre implémentation.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-362">This is an important point tootake into consideration of your implementation.</span></span> <span data-ttu-id="b7bb4-363">Si vous ne considérez pas cela dans votre implémentation, système de hello terminée sera finalement cessent de fonctionner complètement dans les 6 semaines au maximum.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-363">If you do not consider this in your implementation, hello completed system will eventually stop working completely within at most 6 weeks.</span></span>

<span data-ttu-id="b7bb4-364">Azure AD utilise une confiance industrie tooestablish standard entre lui-même et les applications à l’aide d’Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-364">Azure AD uses industry standard tooestablish trust between itself and applications using Azure AD.</span></span> <span data-ttu-id="b7bb4-365">Azure AD utilise plus particulièrement une clé de signature se composant d’une paire clé publique-clé privée.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-365">Specifically, Azure AD uses a signing key that consists of a public and private key pair.</span></span> <span data-ttu-id="b7bb4-366">Lorsque Azure AD crée un jeton de sécurité qui contient des informations sur l’utilisateur de hello, ce jeton est signé par Azure AD à l’aide de sa clé privée avant son envoi différé toohello application.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-366">When Azure AD creates a security token that contains information about hello user, this token is signed by Azure AD using its private key before it is sent back toohello application.</span></span> <span data-ttu-id="b7bb4-367">tooverify hello jeton est valide et provient bien d’Azure AD, l’application hello doit valider la signature du jeton hello à l’aide de la clé publique de hello exposé par Azure AD, qui est contenue dans le document de métadonnées de fédération du locataire hello.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-367">tooverify that hello token is valid and actually originated from Azure AD, hello application must validate hello token’s signature using hello public key exposed by Azure AD that is contained in hello tenant’s federation metadata document.</span></span> <span data-ttu-id="b7bb4-368">Cette clé publique – et les hello à partir duquel il dérive de clé de signature – sont hello celui utilisé pour tous les locataires dans Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-368">This public key – and hello signing key from which it derives – is hello same one used for all tenants in Azure AD.</span></span>

<span data-ttu-id="b7bb4-369">Vous trouverez des informations détaillées sur la substitution de clé d’Azure AD dans le document de hello : [des informations importantes sur la substitution des clés de signature dans Azure AD](../active-directory/active-directory-signing-key-rollover.md).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-369">Detailed info on Azure AD key rollover can be found in hello document: [Important Information about Signing Key Rollover in Azure AD](../active-directory/active-directory-signing-key-rollover.md).</span></span>

<span data-ttu-id="b7bb4-370">Entre hello [paire de clés publique-privée](https://login.microsoftonline.com/common/discovery/keys/),</span><span class="sxs-lookup"><span data-stu-id="b7bb4-370">Between hello [public-private key pair](https://login.microsoftonline.com/common/discovery/keys/),</span></span>

* <span data-ttu-id="b7bb4-371">la clé privée Hello est utilisée par Azure Active Directory toogenerate un jeton Web JSON ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-371">hello private key is used by Azure Active Directory toogenerate a JWT token;</span></span>
* <span data-ttu-id="b7bb4-372">clé publique de Hello est utilisée par une application, telles que les Services de remise de licences DRM dans AMS tooverify hello un jeton JWT ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-372">hello public key is used by an application such as DRM License Delivery Services in AMS tooverify hello JWT token;</span></span>

<span data-ttu-id="b7bb4-373">à des fins de sécurité, Azure Active Directory renouvelle ce certificat périodiquement (toutes les 6 semaines).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-373">For security purpose, Azure Active Directory rotates this certificate periodically (every 6 weeks).</span></span> <span data-ttu-id="b7bb4-374">En cas de violations de la sécurité, substitution de clé hello peut se produire chaque fois.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-374">In case of security breaches, hello key rollover can occur any time.</span></span> <span data-ttu-id="b7bb4-375">Services de remise de licences hello dans AMS doivent clé publique de tooupdate hello utilisé comme Azure AD fait pivoter la paire de clés hello, sinon l’authentification des jetons dans AMS échoue et aucune licence n’est émis.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-375">Therefore, hello license delivery services in AMS need tooupdate hello public key used as Azure AD rotates hello key pair, otherwise token authentication in AMS will fail and no license will be issued.</span></span>

<span data-ttu-id="b7bb4-376">Pour ce faire, il faut définir TokenRestrictionTemplate.OpenIdConnectDiscoveryDocument au moment de configurer les services de distribution de licence DRM.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-376">This is achieved by setting TokenRestrictionTemplate.OpenIdConnectDiscoveryDocument when configuring DRM license delivery services.</span></span>

<span data-ttu-id="b7bb4-377">Hello flux de jeton JWT est comme ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-377">hello JWT token flow is as below:</span></span>

1. <span data-ttu-id="b7bb4-378">Azure AD émet un jeton JWT hello avec la clé privée de hello en cours pour un utilisateur authentifié ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-378">Azure AD will issue hello JWT token with hello current private key for an authenticated user;</span></span>
2. <span data-ttu-id="b7bb4-379">Lorsqu’un lecteur voit une CENC avec un contenu protégé par multi-DRM, il sera d’abord localiser un jeton JWT hello émis par Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-379">When a player sees a CENC with multi-DRM protected content, it will first locate hello JWT token issued by Azure AD.</span></span>
3. <span data-ttu-id="b7bb4-380">le lecteur de Hello envoie la demande d’acquisition de licence avec les services de livraison toolicense jeton hello JWT dans AMS ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-380">hello player sends license acquisition request with hello JWT token toolicense delivery services in AMS;</span></span>
4. <span data-ttu-id="b7bb4-381">services de remise de licences Hello dans AMS utilisera hello en cours/valides clé publique du jeton de Azure AD tooverify hello Web JSON, avant d’émettre des licences.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-381">hello license delivery services in AMS will use hello current/valid public key from Azure AD tooverify hello JWT token, before issuing licenses.</span></span>

<span data-ttu-id="b7bb4-382">Services de remise de licences DRM seront toujours vérifier pour la clé publique de hello en cours/valides à partir d’Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-382">DRM license delivery services will always be checking for hello current/valid public key from Azure AD.</span></span> <span data-ttu-id="b7bb4-383">clé publique de Hello présentée par Azure AD seront clé hello permettant de vérifier un jeton JWT émis par Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-383">hello public key presented by Azure AD will be hello key used for verifying a JWT token issued by Azure AD.</span></span>

<span data-ttu-id="b7bb4-384">Que se passe-t-il si la substitution de clé hello se produit après AAD génère un jeton Web JSON, mais avant hello JWT jeton est envoyé par les lecteurs tooDRM licence remise services dans AMS pour la vérification ?</span><span class="sxs-lookup"><span data-stu-id="b7bb4-384">What if hello key rollover happens after AAD generates a JWT token but before hello JWT token is sent by players tooDRM license delivery services in AMS for verification?</span></span>

<span data-ttu-id="b7bb4-385">Car une clé peut être changée à tout moment, il est toujours plus d’une clé publique valide disponible dans le document de métadonnées de fédération hello.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-385">Because a key may be rolled at any moment, there is always more than one valid public key available in hello federation metadata document.</span></span> <span data-ttu-id="b7bb4-386">Distribution de licences Azure Media Services peut utiliser hello clés spécifiées dans le document de hello, dans la mesure où une clé peut être changée rapidement, un autre peut être son remplacement et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-386">Azure Media Services license delivery can use any of hello keys specified in hello document, since one key may be rolled soon, another may be its replacement, and so forth.</span></span>

### <a name="where-is-hello-access-token"></a><span data-ttu-id="b7bb4-387">Dans lequel l’est hello jeton d’accès ?</span><span class="sxs-lookup"><span data-stu-id="b7bb4-387">Where is hello Access Token?</span></span>
<span data-ttu-id="b7bb4-388">Si vous examinez comment une application web appelle une application API sous [identité de l’Application avec l’octroi des informations d’identification du Client OAuth 2.0](../active-directory/develop/active-directory-authentication-scenarios.md#web-application-to-web-api), flux d’authentification hello est comme ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-388">If you look at how a web app calls an API app under [Application Identity with OAuth 2.0 Client Credentials Grant](../active-directory/develop/active-directory-authentication-scenarios.md#web-application-to-web-api), hello authentication flow is as below:</span></span>

1. <span data-ttu-id="b7bb4-389">Un utilisateur est connecté dans tooAzure AD dans l’application web de hello (voir hello [tooWeb de navigateur Web Application](../active-directory/develop/active-directory-authentication-scenarios.md#web-browser-to-web-application).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-389">A user is signed in tooAzure AD in hello web application (see hello [Web Browser tooWeb Application](../active-directory/develop/active-directory-authentication-scenarios.md#web-browser-to-web-application).</span></span>
2. <span data-ttu-id="b7bb4-390">point de terminaison d’autorisation Hello Azure AD redirige l’application hello utilisateur agent toohello précédent client avec un code d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-390">hello Azure AD authorization endpoint redirects hello user agent back toohello client application with an authorization code.</span></span> <span data-ttu-id="b7bb4-391">l’agent utilisateur de Hello retourne l’URI de redirection de l’application cliente d’autorisation code toohello.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-391">hello user agent returns authorization code toohello client application’s redirect URI.</span></span>
3. <span data-ttu-id="b7bb4-392">application web de Hello doit tooacquire un jeton d’accès pour qu’il peut s’authentifier toohello web API et récupération de la ressource de hello souhaité.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-392">hello web application needs tooacquire an access token so that it can authenticate toohello web API and retrieve hello desired resource.</span></span> <span data-ttu-id="b7bb4-393">Il rend le point de terminaison token un tooAzure de demande d’AD, en fournissant des informations d’identification hello, ID de client et URI d’ID d’application de l’API web.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-393">It makes a request tooAzure AD’s token endpoint, providing hello credential, client ID, and web API’s application ID URI.</span></span> <span data-ttu-id="b7bb4-394">Elle présente tooprove de code d’autorisation hello que hello utilisateur a donné son consentement.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-394">It presents hello authorization code tooprove that hello user has consented.</span></span>
4. <span data-ttu-id="b7bb4-395">Azure AD authentifie l’application hello et retourne un jeton d’accès JWT est utilisé toocall hello web API.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-395">Azure AD authenticates hello application and returns a JWT access token that is used toocall hello web API.</span></span>
5. <span data-ttu-id="b7bb4-396">Sur HTTPS, application web de hello utilise hello retourné hello de tooadd jeton d’accès JWT chaîne JWT avec une désignation « Support » dans l’en-tête d’autorisation de hello d’API web toohello demande de hello.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-396">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="b7bb4-397">API web de Hello valide ensuite un jeton JWT hello, et si la validation est réussie, retourne hello souhaitée des ressources.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-397">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

<span data-ttu-id="b7bb4-398">Dans ce flux « application identity », API web de hello fait confiance à cet utilisateur de hello web application hello authentifié.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-398">In this “application identity” flow, hello web API trusts that hello web application authenticated hello user.</span></span> <span data-ttu-id="b7bb4-399">C’est pour cette raison que ce modèle est appelé « sous-système approuvé ».</span><span class="sxs-lookup"><span data-stu-id="b7bb4-399">For this reason, this pattern is called a trusted subsystem.</span></span> <span data-ttu-id="b7bb4-400">Hello [diagramme sur cette page](https://docs.microsoft.com/azure/active-directory/active-directory-protocols-oauth-code) décrit comment le code d’autorisation accorder flux fonctionne.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-400">hello [diagram on this page](https://docs.microsoft.com/azure/active-directory/active-directory-protocols-oauth-code) describes how authorization code grant flow works.</span></span>

<span data-ttu-id="b7bb4-401">Dans l’acquisition de licence avec restriction token, nous continuons à hello même modèle de sous-système approuvé.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-401">In license acquisition with token restriction, we are following hello same trusted subsystem pattern.</span></span> <span data-ttu-id="b7bb4-402">Et service de remise de licences hello dans Azure Media Services est la ressource d’API web hello, hello « ressource principal » tooaccess a besoin d’une application web.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-402">And hello license delivery service in Azure Media Services is hello web API resource, hello “backend resource” a web application needs tooaccess.</span></span> <span data-ttu-id="b7bb4-403">Où est donc de jeton d’accès hello ?</span><span class="sxs-lookup"><span data-stu-id="b7bb4-403">So where is hello access token?</span></span>

<span data-ttu-id="b7bb4-404">Nous devons obtenir un jeton d’accès de la part d’Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-404">Indeed, we are obtaining access token from Azure AD.</span></span> <span data-ttu-id="b7bb4-405">Une fois l’authentification utilisateur réussie, le code d’autorisation est renvoyé.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-405">After successful user authentication, authorization code is returned.</span></span> <span data-ttu-id="b7bb4-406">code d’autorisation de Hello est ensuite utilisé, ainsi que d’application et les ID de clé de client, tooexchange pour le jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-406">hello authorization code is then used, together with client ID and app key, tooexchange for access token.</span></span> <span data-ttu-id="b7bb4-407">Et jeton d’accès hello pour accéder à une application « pointeur » qui pointe ou représentant le service de remise de licences Azure Media Services.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-407">And hello access token is for accessing a “pointer” application pointing or representing Azure Media Services license delivery service.</span></span>

<span data-ttu-id="b7bb4-408">Nous avons besoin tooregister et que vous configurez hello « pointeur » application dans Azure AD en suivant les étapes de hello ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-408">We need tooregister and configure hello “pointer” app in Azure AD by following hello steps below:</span></span>

1. <span data-ttu-id="b7bb4-409">Dans le client de hello Azure AD</span><span class="sxs-lookup"><span data-stu-id="b7bb4-409">In hello Azure AD tenant</span></span>

   * <span data-ttu-id="b7bb4-410">ajouter une application (ressource) avec l’URL de connexion :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-410">add an application (resource) with sign-on URL:</span></span>

   <span data-ttu-id="b7bb4-411">https://[nom_ressource].azurewebsites.net/ et</span><span class="sxs-lookup"><span data-stu-id="b7bb4-411">https://[resource_name].azurewebsites.net/ and</span></span>

   * <span data-ttu-id="b7bb4-412">URL d’ID d’application :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-412">app ID URL:</span></span>

   <span data-ttu-id="b7bb4-413">https://[nom_client_aad].onmicrosoft.com/[nom_ressource]</span><span class="sxs-lookup"><span data-stu-id="b7bb4-413">https://[aad_tenant_name].onmicrosoft.com/[resource_name];</span></span>
2. <span data-ttu-id="b7bb4-414">Ajoutez une nouvelle clé pour l’application de ressource hello ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-414">Add a new key for hello resource app;</span></span>
3. <span data-ttu-id="b7bb4-415">Mettre à jour du fichier manifeste d’application hello afin que la propriété de groupMembershipClaims hello a hello valeur suivante : « groupMembershipClaims » : « Tous »,</span><span class="sxs-lookup"><span data-stu-id="b7bb4-415">Update hello app manifest file so that hello groupMembershipClaims property has hello following value: "groupMembershipClaims": "All",</span></span>  
4. <span data-ttu-id="b7bb4-416">Dans l’application Azure AD de hello pointant toohello lecteur web app, dans la section de hello « autorisations tooother applications », ajouter une application de ressource hello qui a été ajoutée à l’étape 1 ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-416">In hello Azure AD app pointing toohello player web app, in hello section “permissions tooother applications”, add hello resource app which was added in step 1 above.</span></span> <span data-ttu-id="b7bb4-417">Sous « autorisations déléguées », cliquez sur la coche « Accès [nom_ressource] ».</span><span class="sxs-lookup"><span data-stu-id="b7bb4-417">Under “delegated permissions” check “Access [resource_name]” checkmark.</span></span> <span data-ttu-id="b7bb4-418">Cela autorise hello web application toocreate des jetons d’accès pour accéder à application de ressource hello.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-418">This gives hello web app permission toocreate access tokens for accessing hello resource app.</span></span> <span data-ttu-id="b7bb4-419">Vous devez le faire pour la version locale et déployée de hello web application si vous développez avec l’application web Visual Studio et Azure.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-419">You should do this for both local and deployed version of hello web app if you are developing with Visual Studio and Azure web app.</span></span>

<span data-ttu-id="b7bb4-420">Par conséquent, un jeton JWT hello émis par Azure AD est effectivement jeton d’accès hello pour accéder à cette ressource de « pointeur ».</span><span class="sxs-lookup"><span data-stu-id="b7bb4-420">Therefore, hello JWT token issued by Azure AD is indeed hello access token for accessing this “pointer” resource.</span></span>

### <a name="what-about-live-streaming"></a><span data-ttu-id="b7bb4-421">Qu’en est-il de la diffusion en continu ?</span><span class="sxs-lookup"><span data-stu-id="b7bb4-421">What about Live Streaming?</span></span>
<span data-ttu-id="b7bb4-422">Bonjour ci-dessus, notre discussion a été en mettant l’accent sur les ressources à la demande.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-422">In hello above, our discussion has been focusing on on-demand assets.</span></span> <span data-ttu-id="b7bb4-423">Qu’en est-il de la diffusion en continu ?</span><span class="sxs-lookup"><span data-stu-id="b7bb4-423">What about live streaming?</span></span>

<span data-ttu-id="b7bb4-424">Hello excellente est que vous pouvez utiliser exactement hello même conception et implémentation de la protection de diffusion en continu dans Azure Media Services, en traitant asset hello associé à un programme comme une « ressource VOD ».</span><span class="sxs-lookup"><span data-stu-id="b7bb4-424">hello good news is that you can use exactly hello same design and implementation for protecting live streaming in Azure Media Services, by treating hello asset associated with a program as a “VOD asset”.</span></span>

<span data-ttu-id="b7bb4-425">Plus précisément, il est bien connu que toodo diffusion en continu dans Azure Media Services, vous devez toocreate un canal, puis un programme sous un canal de hello.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-425">Specifically, it is well known that toodo live streaming in Azure Media Services, you need toocreate a channel, then a program under hello channel.</span></span> <span data-ttu-id="b7bb4-426">programme de hello toocreate, vous devez toocreate un élément multimédia qui contient une archive de programme de hello en hello.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-426">toocreate hello program, you need toocreate an asset which will contain hello live archive for hello program.</span></span> <span data-ttu-id="b7bb4-427">Dans l’ordre tooprovide CENC avec la protection de multi-DRM du contenu dynamique hello, il vous suffit de toodo, est tooapply hello même le programme d’installation/de traitement toohello actif comme si elle était un « asset VOD » avant de démarrer le programme de hello.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-427">In order tooprovide CENC with multi-DRM protection of hello live content, all you need toodo, is tooapply hello same setup/processing toohello asset as if it was a “VOD asset” before you start hello program.</span></span>

### <a name="what-about-license-servers-outside-of-azure-media-services"></a><span data-ttu-id="b7bb4-428">Qu’en est-il des serveurs de licences hors Azure Media Services ?</span><span class="sxs-lookup"><span data-stu-id="b7bb4-428">What about license servers outside of Azure Media Services?</span></span>
<span data-ttu-id="b7bb4-429">Souvent, les clients investissent dans une batterie de serveurs qu’ils hébergent dans leur propre centre de données ou chez des fournisseurs de service DRM.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-429">Often, customers may have invested in license server farm either in their own data center or hosted by DRM service providers.</span></span> <span data-ttu-id="b7bb4-430">Heureusement, Protection du contenu Azure Media Services vous permet de toooperate en mode hybride : contenu hébergé et dynamiquement protégées dans Azure Media Services, alors que les licences DRM sont fournies par les serveurs en dehors d’Azure Media Services.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-430">Fortunately, Azure Media Services Content Protection allows you toooperate in hybrid mode: contents hosted and dynamically protected in Azure Media Services, while DRM licenses are delivered by servers outside Azure Media Services.</span></span> <span data-ttu-id="b7bb4-431">Dans ce cas, il existe des hello suivant des considérations relatives à des modifications :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-431">In this case, there are hello following considerations of changes:</span></span>

1. <span data-ttu-id="b7bb4-432">Hello Service d’émission de jeton sécurisé besoins tooissue jetons qui sont acceptables et peuvent être vérifiés par batterie de serveurs de licences hello.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-432">hello Secure Token Service needs tooissue tokens which are acceptable and can be verified by hello license server farm.</span></span> <span data-ttu-id="b7bb4-433">Par exemple, les serveurs de licences Widevine hello fournies par Axinom requiert un jeton JWT spécifique qui contient « message droit ».</span><span class="sxs-lookup"><span data-stu-id="b7bb4-433">For example, hello Widevine license servers provided by Axinom requires a specific JWT token which contains “entitlement message”.</span></span> <span data-ttu-id="b7bb4-434">Par conséquent, vous devez toohave une tooissue STS ce jeton Web JSON.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-434">Therefore, you need toohave an STS tooissue such JWT token.</span></span> <span data-ttu-id="b7bb4-435">les auteurs de Hello est terminé une telle implémentation et vous trouverez des détails de hello Bonjour suivant du document dans [centre de Documentation Azure](https://azure.microsoft.com/documentation/): [tooAzure Media Servicesleslicencesàl’aidedeAxinomtoodeliverWidevine](media-services-axinom-integration.md).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-435">hello authors have completed such an implementation and you can find hello details in hello following document in [Azure Documentation Center](https://azure.microsoft.com/documentation/): [Using Axinom toodeliver Widevine licenses tooAzure Media Services](media-services-axinom-integration.md).</span></span>
2. <span data-ttu-id="b7bb4-436">Vous n’avez plus besoin service de remise de licences tooconfigure (ContentKeyAuthorizationPolicy) dans Azure Media Services.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-436">You no longer need tooconfigure license delivery service (ContentKeyAuthorizationPolicy) in Azure Media Services.</span></span> <span data-ttu-id="b7bb4-437">Vous devez toodo est l’URL d’acquisition de licence de tooprovide hello (pour PlayReady, Widevine et FairPlay) lorsque vous configurez AssetDeliveryPolicy dans Configuration CENC avec multi-DRM.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-437">What you need toodo is tooprovide hello license acquisition URLs (for PlayReady, Widevine and FairPlay) when you configure AssetDeliveryPolicy in setting up CENC with multi-DRM.</span></span>

### <a name="what-if-i-want-toouse-a-custom-sts"></a><span data-ttu-id="b7bb4-438">Que se passe-t-il si je veux toouse un STS personnalisé ?</span><span class="sxs-lookup"><span data-stu-id="b7bb4-438">What if I want toouse a custom STS?</span></span>
<span data-ttu-id="b7bb4-439">Il peut exister plusieurs raisons un client peut choisir toouse un STS personnalisé (Secure Token Service) pour fournir des jetons JWT.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-439">There could be a few reasons that a customer may choose toouse a custom STS (Secure Token Service) for providing JWT tokens.</span></span> <span data-ttu-id="b7bb4-440">parmi lesquelles :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-440">Some of them are:</span></span>

1. <span data-ttu-id="b7bb4-441">Hello fournisseur d’identité (IDP) utilisé par le client de hello ne prend pas en charge le STS.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-441">hello Identity Provider (IDP) used by hello customer does not support STS.</span></span> <span data-ttu-id="b7bb4-442">Dans ce cas, un service STS pourrait être une option.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-442">In this case a custom STS may be an option.</span></span>
2. <span data-ttu-id="b7bb4-443">client de Hello peut-être un contrôle plus souple ou plus strict dans intégrant STS abonné du client système de facturation.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-443">hello customer may need more flexible or tighter control in integrating STS with customer’s subscriber billing system.</span></span> <span data-ttu-id="b7bb4-444">Par exemple, un opérateur MVPD peut offrir plusieurs packages d’abonné OTT comme premium, basic, sports, opérateur de hello etc. pouvez toomatch les revendications de hello dans un jeton avec le package de l’abonné afin que seul le contenu dans le package approprié de hello est rendue disponible.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-444">For example, an MVPD operator may offer multiple OTT subscriber packages such as premium, basic, sports, etc. hello operator may want toomatch hello claims in a token with a subscriber’s package so that only contents in hello right package is made available.</span></span> <span data-ttu-id="b7bb4-445">Dans ce cas, un STS personnalisé fournit hello nécessaire flexibilité et contrôle.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-445">In this case, a custom STS provides hello needed flexibility and control.</span></span>

<span data-ttu-id="b7bb4-446">Deux modifications doivent toobe effectuée lors de l’utilisation d’un STS personnalisé :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-446">Two changes need toobe made when using a custom STS:</span></span>

1. <span data-ttu-id="b7bb4-447">Lorsque vous configurez le service de remise de licences d’un composant, vous devez la clé de sécurité hello toospecify utilisé pour la vérification par le STS personnalisé hello (plus de détails ci-dessous) au lieu de la clé actuelle de hello d’Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-447">When configuring license delivery service for an asset, you need toospecify hello security key used for verification by hello custom STS (more details below) instead of hello current key from Azure Active Directory.</span></span>
2. <span data-ttu-id="b7bb4-448">Lorsqu’un jeton JTW est généré, une clé de sécurité est spécifiée au lieu de la clé privée de hello du certificat hello X509 actuelle dans Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-448">When a JTW token is generated, a security key is specified instead of hello private key of hello current X509 certificate in Azure Active Directory.</span></span>

<span data-ttu-id="b7bb4-449">Il existe deux types de clés de sécurité :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-449">There are two types of security keys:</span></span>

1. <span data-ttu-id="b7bb4-450">Clé symétrique : hello même clé est utilisée pour générer et vérifier un jeton Web JSON ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-450">Symmetric key: hello same key is used for both generating and verifying a JWT token;</span></span>
2. <span data-ttu-id="b7bb4-451">Clé asymétrique : une paire de clés publique-privée dans un X509 certificat est utilisé avec une clé privée pour chiffrer/génération d’un JWT hello et jeton de clé publique pour la vérification de jeton de hello.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-451">Asymmetric key: a public-private key pair in an X509 certificate is used with private key for encrypting/generating a JWT token and hello public key for verifying hello token.</span></span>

#### <a name="tech-note"></a><span data-ttu-id="b7bb4-452">Note technique</span><span class="sxs-lookup"><span data-stu-id="b7bb4-452">Tech note</span></span>
<span data-ttu-id="b7bb4-453">Si vous utilisez .NET Framework / C# comme plateforme de développement, hello X509 certificat utilisé pour la clé de sécurité asymétrique doit avoir au moins 2048 longueur de clé.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-453">If you use .NET Framework/C# as your development platform, hello X509 certificate used for asymmetric security key must have key length at least 2048.</span></span> <span data-ttu-id="b7bb4-454">Il s’agit d’une spécification de classe de hello System.IdentityModel.Tokens.X509AsymmetricSecurityKey dans .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-454">This is a requirement of hello class System.IdentityModel.Tokens.X509AsymmetricSecurityKey in .NET Framework.</span></span> <span data-ttu-id="b7bb4-455">Dans le cas contraire, hello l’exception suivante est levée :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-455">Otherwise, hello following exception will be thrown:</span></span>

<span data-ttu-id="b7bb4-456">IDX10630 : hello 'System.IdentityModel.Tokens.X509AsymmetricSecurityKey' pour la signature ne peut pas être inférieure à '2048' bits.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-456">IDX10630: hello 'System.IdentityModel.Tokens.X509AsymmetricSecurityKey' for signing cannot be smaller than '2048' bits.</span></span>

## <a name="hello-completed-system-and-test"></a><span data-ttu-id="b7bb4-457">test et du système de hello terminée</span><span class="sxs-lookup"><span data-stu-id="b7bb4-457">hello completed system and test</span></span>
<span data-ttu-id="b7bb4-458">Nous vous guide dans quelques scénarios dans le système de bout en bout hello terminée afin que les lecteurs peuvent avoir une « image » du comportement de hello basic avant d’obtenir un compte de connexion.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-458">We will walk through a few scenarios in hello completed end-to-end system so that readers can have a basic “picture” of hello behavior before getting a login account.</span></span>

<span data-ttu-id="b7bb4-459">Hello application web de lecteur et sa connexion se trouvent [ici](https://openidconnectweb.azurewebsites.net/).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-459">hello player web application and its login can be found [here](https://openidconnectweb.azurewebsites.net/).</span></span>

<span data-ttu-id="b7bb4-460">Si vous avez besoin est « non intégré » le scénario : ressources vidéo hébergé dans Azure Media Services sont soit non protégé, les DRM protégé mais sans l’authentification des jetons (émettre un toowhoever licence demandant), vous pouvez le tester sans connexion (en basculant tooHTTP si votre vidéo en continu est effectuée via HTTP).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-460">If what you need is “non-integrated” scenario: video assets hosted in Azure Media Services which are either unprotected, or DRM protected but without token authentication (issuing a license toowhoever requesting it), you can test it without login (by switching tooHTTP if your video streaming is over HTTP).</span></span>

<span data-ttu-id="b7bb4-461">Si vous avez besoin est scénario intégrée de bout en bout : ressources vidéo est sous protection DRM dynamique dans Azure Media Services, avec le jeton d’authentification et jeton Web JSON généré par Azure AD, vous devez toologin.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-461">If what you need is end-to-end integrated scenario: video assets is under dynamic DRM protection in Azure Media Services, with token authentication and JWT token being generated by Azure AD, you need toologin.</span></span>

### <a name="user-login"></a><span data-ttu-id="b7bb4-462">Connexion utilisateur</span><span class="sxs-lookup"><span data-stu-id="b7bb4-462">User login</span></span>
<span data-ttu-id="b7bb4-463">Commande tootest hello bout en bout DRM système intégré, vous devez toohave un « compte » créé ou ajouté.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-463">In order tootest hello end-to-end integrated DRM system, you need toohave an “account” created or added.</span></span>

<span data-ttu-id="b7bb4-464">Quel compte ?</span><span class="sxs-lookup"><span data-stu-id="b7bb4-464">What account?</span></span>

<span data-ttu-id="b7bb4-465">Même si Azure avait initialement autorisé l’accès aux utilisateurs de compte Microsoft uniquement, il autorise désormais l’accès aux utilisateurs des deux systèmes.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-465">Although Azure originally allowed access only by Microsoft account users, it now allows access by users from both systems.</span></span> <span data-ttu-id="b7bb4-466">Cela a été effectuée en faisant confiance de propriétés Azure toutes les hello Azure AD pour l’authentification, ayant Azure AD d’authentification des utilisateurs professionnels et en créant une relation de fédération où Azure AD approuve le système d’identité hello Microsoft compte consommateur tooauthenticate particuliers.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-466">This was done by having all hello Azure properties trust Azure AD for authentication, having Azure AD authenticate organizational users, and by creating a federation relationship where Azure AD trusts hello Microsoft account consumer identity system tooauthenticate consumer users.</span></span> <span data-ttu-id="b7bb4-467">Par conséquent, Azure AD est tooauthenticate en mesure des comptes de Microsoft « invités », ainsi que les comptes Azure AD « natifs ».</span><span class="sxs-lookup"><span data-stu-id="b7bb4-467">As a result, Azure AD is able tooauthenticate “guest” Microsoft accounts as well as “native” Azure AD accounts.</span></span>

<span data-ttu-id="b7bb4-468">Étant donné que Azure AD approuve le domaine de compte Microsoft (MSA), vous pouvez ajouter des comptes à partir des hello suivant toohello de domaines personnalisé Azure AD de client et utilisent hello compte toologin :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-468">Since Azure AD trusts Microsoft Account (MSA) domain, you can add any accounts from any of hello following domains toohello custom Azure AD tenant and use hello account toologin:</span></span>

| <span data-ttu-id="b7bb4-469">**Nom de domaine**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-469">**Domain Name**</span></span> | <span data-ttu-id="b7bb4-470">**Domaine**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-470">**Domain**</span></span> |
| --- | --- |
| <span data-ttu-id="b7bb4-471">**Domaine client Azure AD personnalisé**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-471">**Custom Azure AD tenant domain**</span></span> |<span data-ttu-id="b7bb4-472">somename.onmicrosoft.com</span><span class="sxs-lookup"><span data-stu-id="b7bb4-472">somename.onmicrosoft.com</span></span> |
| <span data-ttu-id="b7bb4-473">**Domaine d’entreprise**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-473">**Corporate domain**</span></span> |<span data-ttu-id="b7bb4-474">microsoft.com</span><span class="sxs-lookup"><span data-stu-id="b7bb4-474">microsoft.com</span></span> |
| <span data-ttu-id="b7bb4-475">**Domaine de compte Microsoft (MSA)**</span><span class="sxs-lookup"><span data-stu-id="b7bb4-475">**Microsoft Account (MSA) domain**</span></span> |<span data-ttu-id="b7bb4-476">outlook.com, live.com, hotmail.com</span><span class="sxs-lookup"><span data-stu-id="b7bb4-476">outlook.com, live.com, hotmail.com</span></span> |

<span data-ttu-id="b7bb4-477">Vous pouvez contacter un des auteurs de hello toohave un compte créé ou ajoutés pour vous.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-477">You may contact any of hello authors toohave an account created or added for you.</span></span>

<span data-ttu-id="b7bb4-478">Vous trouverez ci-dessous des captures d’écran de hello de pages de connexion différents utilisés par les différents comptes de domaine.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-478">Below are hello screenshots of different login pages used by different domain accounts.</span></span>

<span data-ttu-id="b7bb4-479">**Compte de domaine de client personnalisé Azure AD**: dans ce cas, vous voyez la page de connexion personnalisée hello du domaine du client hello personnalisé Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-479">**Custom Azure AD tenant domain account**: In this case, you see hello customized login page of hello custom Azure AD tenant domain.</span></span>

![compte de domaine client Azure personnalisé](./media/media-services-cenc-with-multidrm-access-control/media-services-ad-tenant-domain1.png)

<span data-ttu-id="b7bb4-481">**Compte de domaine Microsoft avec carte à puce**: dans ce cas vous consultez la page de connexion hello personnalisé par Microsoft d’entreprise informatique à l’aide de l’authentification à deux facteurs.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-481">**Microsoft domain account with smart card**: In this case you see hello login page customized by Microsoft corporate IT with two-factor authentication.</span></span>

![compte de domaine client Azure personnalisé](./media/media-services-cenc-with-multidrm-access-control/media-services-ad-tenant-domain2.png)

<span data-ttu-id="b7bb4-483">**Compte Microsoft (MSA)**: dans ce cas, vous voyez la page de connexion de hello de Account Microsoft pour les consommateurs.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-483">**Microsoft Account (MSA)**: In this case, you see hello login page of Microsoft Account for consumers.</span></span>

![compte de domaine client Azure personnalisé](./media/media-services-cenc-with-multidrm-access-control/media-services-ad-tenant-domain3.png)

### <a name="using-encrypted-media-extensions-for-playready"></a><span data-ttu-id="b7bb4-485">Utilisation de Encrypted Media Extensions pour PlayReady</span><span class="sxs-lookup"><span data-stu-id="b7bb4-485">Using Encrypted Media Extensions for PlayReady</span></span>
<span data-ttu-id="b7bb4-486">Sur un navigateur modern avec chiffrés Media Extensions (EME) pour la prise en charge, tels que navigateur Internet Explorer 11 sur Windows 8.1 et suivantes et Microsoft Edge sur Windows 10, PlayReady sera de PlayReady hello DRM sous-jacent pour EME.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-486">On a modern browser with Encrypted Media Extensions (EME) for PlayReady support, such as IE 11 on Windows 8.1 and up, and Microsoft Edge browser on Windows 10, PlayReady will be hello underlying DRM for EME.</span></span>

![Utilisation d’EME pour PlayReady](./media/media-services-cenc-with-multidrm-access-control/media-services-eme-for-playready1.png)

<span data-ttu-id="b7bb4-488">la zone de lecteur sombre Hello est dû fait toohello que la protection PlayReady empêche un d’effectuer la capture d’écran de la vidéo protégé.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-488">hello dark player area is due toohello fact that PlayReady protection prevents one from making screen capture of protected video.</span></span>

<span data-ttu-id="b7bb4-489">Hello d’écran suivante montre plug-ins du lecteur hello et prise en charge MSE/EME.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-489">hello following screen shows hello player plugins and MSE/EME support.</span></span>

![Utilisation d’EME pour PlayReady](./media/media-services-cenc-with-multidrm-access-control/media-services-eme-for-playready2.png)

<span data-ttu-id="b7bb4-491">EME dans Microsoft Edge et IE 11 sur Windows 10 permet d’appeler [PlayReady SL3000](https://www.microsoft.com/playready/features/EnhancedContentProtection.aspx/) sur les appareils Windows 10 compatibles.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-491">EME in Microsoft Edge and IE 11 on Windows 10 allows invoking of [PlayReady SL3000](https://www.microsoft.com/playready/features/EnhancedContentProtection.aspx/) on Windows 10 devices which support it.</span></span> <span data-ttu-id="b7bb4-492">PlayReady SL3000 déverrouille flux hello de contenu premium améliorées (4 Ko, en-tête, etc.) et les nouveaux modèles de diffusion de contenu (fenêtre anticipée de contenu amélioré).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-492">PlayReady SL3000 unlocks hello flow of enhanced premium content (4K, HDR, etc.) and new content delivery models (early window for Enhanced Content).</span></span>

<span data-ttu-id="b7bb4-493">Se concentrer sur des appareils Windows hello : PlayReady est hello uniquement DRM dans HW hello disponible sur les appareils Windows (PlayReady SL3000).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-493">Focus on hello Windows devices: PlayReady is hello only DRM in hello HW available on Windows devices (PlayReady SL3000).</span></span> <span data-ttu-id="b7bb4-494">Un service de diffusion en continu peut utiliser PlayReady via EME ou via une application UWP, et offrir ainsi une meilleure qualité vidéo à l'aide de PlayReady SL3000 par rapport à un autre DRM.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-494">A streaming service can use PlayReady through EME or through a UWP application and offer a higher video quality using PlayReady SL3000 than another DRM.</span></span> <span data-ttu-id="b7bb4-495">En règle générale, 2K contenu flux au sein de Chrome ou Firefox, et 4 K contenu via Microsoft Edge/IE11 ou une application UWP sur hello même appareil (en fonction des paramètres de service et l’implémentation).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-495">Typically, 2K content will flow through Chrome or Firefox, and 4K content through Microsoft Edge/IE11 or a UWP application on hello same device (depending on service settings and implementation).</span></span>

#### <a name="using-eme-for-widevine"></a><span data-ttu-id="b7bb4-496">Utilisation d’EME pour Widevine</span><span class="sxs-lookup"><span data-stu-id="b7bb4-496">Using EME for Widevine</span></span>
<span data-ttu-id="b7bb4-497">Sur un navigateur modern avec EME/Widevine prise en charge, telles que Chrome 41 + sur Windows 10, Windows 8.1, Mac OSX Yosemite et Chrome sur Android 4.4.4, Google Widevine est hello DRM derrière EME.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-497">On a modern browser with EME/Widevine support, such as Chrome 41+ on Windows 10, Windows 8.1, Mac OSX Yosemite, and Chrome on Android 4.4.4, Google Widevine is hello DRM behind EME.</span></span>

![Utilisation d’EME pour Widevine](./media/media-services-cenc-with-multidrm-access-control/media-services-eme-for-widevine1.png)

<span data-ttu-id="b7bb4-499">Notez que Widevine n’empêche pas d’effectuer une capture d’écran de la vidéo protégée.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-499">Notice that Widevine does not prevent one from making screen capture of protected video.</span></span>

![Utilisation d’EME pour Widevine](./media/media-services-cenc-with-multidrm-access-control/media-services-eme-for-widevine2.png)

### <a name="not-entitled-users"></a><span data-ttu-id="b7bb4-501">Utilisateurs sans intitulé</span><span class="sxs-lookup"><span data-stu-id="b7bb4-501">Not entitled users</span></span>
<span data-ttu-id="b7bb4-502">Si un utilisateur n’est pas membre du groupe « Utilisateurs intitulée », utilisateur de hello ne sera pas toopass en mesure de « droit vérification » et service de licence de multi-DRM hello refusera licence demandée de hello tooissue comme indiqué ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-502">If a user is not a member of "Entitled Users" group, hello user will not be able toopass “entitlement check” and hello multi-DRM license service will refuse tooissue hello requested license as shown below.</span></span> <span data-ttu-id="b7bb4-503">Bonjour description détaillée est « acquisition de licence a échoué », qui est conçu.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-503">hello detailed description is “License acquire failed”, which is as designed.</span></span>

![Utilisateurs non autorisés](./media/media-services-cenc-with-multidrm-access-control/media-services-unentitledusers.png)

### <a name="running-custom-secure-token-service"></a><span data-ttu-id="b7bb4-505">Exécution d’un Service d’émission de jeton sécurisé personnalisé</span><span class="sxs-lookup"><span data-stu-id="b7bb4-505">Running custom Secure Token Service</span></span>
<span data-ttu-id="b7bb4-506">Pour le scénario hello personnalisé sécuriser Service d’émission de jeton en cours d’exécution, un jeton JWT hello est émis par un STS personnalisé de hello à l’aide de la clé symétrique ou asymétrique.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-506">For hello scenario of running custom Secure Token Service (STS), hello JWT token will be issued by hello custom STS using either symmetric or asymmetric key.</span></span>

<span data-ttu-id="b7bb4-507">cas de Hello d’à l’aide de la clé symétrique (à l’aide de Chrome) :</span><span class="sxs-lookup"><span data-stu-id="b7bb4-507">hello case of using symmetric key (using Chrome):</span></span>

![Exécution de STS personnalisé](./media/media-services-cenc-with-multidrm-access-control/media-services-running-sts1.png)

<span data-ttu-id="b7bb4-509">Hello cas d’utilisation d’une clé asymétrique via un X509 de certificat (à l’aide du navigateur moderne de Microsoft).</span><span class="sxs-lookup"><span data-stu-id="b7bb4-509">hello case of using asymmetric key via an X509 certificate (using Microsoft modern browser).</span></span>

![Exécution de STS personnalisé](./media/media-services-cenc-with-multidrm-access-control/media-services-running-sts2.png)

<span data-ttu-id="b7bb4-511">Dans les deux hello au-dessus de cas, reste de l’authentification utilisateur même : hello via Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-511">In both of hello above cases, user authentication stays hello same – through Azure AD.</span></span> <span data-ttu-id="b7bb4-512">Hello seule différence est que les jetons JWT sont émis par STS personnalisé de hello au lieu d’Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-512">hello only difference is that JWT tokens are issued by hello custom STS instead of Azure AD.</span></span> <span data-ttu-id="b7bb4-513">Bien entendu, lorsque vous configurez la protection CENC dynamique, restriction hello du service de remise de licences spécifie type hello de jeton JWT, clé symétrique ou asymétrique.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-513">Of course, when configuring dynamic CENC protection, hello restriction of license delivery service specifies hello type of JWT token, either symmetric or asymmetric key.</span></span>

## <a name="summary"></a><span data-ttu-id="b7bb4-514">Résumé</span><span class="sxs-lookup"><span data-stu-id="b7bb4-514">Summary</span></span>
<span data-ttu-id="b7bb4-515">Dans ce document, nous avons abordé les sujets des DRM natives multiples, et un contrôle d’authentification des jetons : sa conception et son implémentation à l’aide d’Azure, d’Azure Media Services et d’Azure Media Player.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-515">In this document, we discussed CENC with multi-native-DRM and access control via token authentication: its design and its implementation using Azure, Azure Media Services and Azure Media Player.</span></span>

* <span data-ttu-id="b7bb4-516">Un modèle de référence est présenté qui contient tous les composants nécessaires hello dans un sous-système DRM/CENC ;</span><span class="sxs-lookup"><span data-stu-id="b7bb4-516">A reference design is presented which contains all hello necessary components in a DRM/CENC subsystem;</span></span>
* <span data-ttu-id="b7bb4-517">Une implémentation de référence sur Azure, Azure Media Services et Azure Media Player.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-517">A reference implementation on Azure, Azure Media Services and Azure Media Player.</span></span>
* <span data-ttu-id="b7bb4-518">Certaines rubriques directement impliqués dans hello conception et implémentation sont également décrites.</span><span class="sxs-lookup"><span data-stu-id="b7bb4-518">Some topics directly involved in hello design and implementation are also discussed.</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="b7bb4-519">Parcours d’apprentissage de Media Services</span><span class="sxs-lookup"><span data-stu-id="b7bb4-519">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="b7bb4-520">Fournir des commentaires</span><span class="sxs-lookup"><span data-stu-id="b7bb4-520">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]
 
