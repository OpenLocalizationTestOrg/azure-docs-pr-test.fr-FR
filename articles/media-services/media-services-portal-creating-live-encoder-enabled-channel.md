---
title: "Comment effectuer une diffusion de vidéo en flux continu à l’aide d’Azure Media Services pour créer des flux multidébit avec le portail Azure | Microsoft Docs"
description: "Ce didacticiel vous guide tout au long des étapes de création d’un canal qui reçoit un flux en temps réel à vitesse de transmission unique et qui l’encode en flux à vitesses de transmission multiples à l’aide du portail Azure."
services: media-services
documentationcenter: 
author: anilmur
manager: cfowler
editor: 
ms.assetid: 504f74c2-3103-42a0-897b-9ff52f279e23
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 08/09/2017
ms.author: juliako
ms.openlocfilehash: 29cf8e68de5e15e2b570fa2f546d8644c5cf57b1
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/29/2017
---
# <a name="how-to-perform-live-streaming-using-azure-media-services-to-create-multi-bitrate-streams-with-the-azure-portal"></a><span data-ttu-id="fb880-103">Comment effectuer une diffusion de vidéo en flux continu à l’aide d’Azure Media Services pour créer des flux multidébit avec le portail Azure</span><span class="sxs-lookup"><span data-stu-id="fb880-103">How to perform live streaming using Azure Media Services to create multi-bitrate streams with the Azure portal</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="fb880-104">Portail</span><span class="sxs-lookup"><span data-stu-id="fb880-104">Portal</span></span>](media-services-portal-creating-live-encoder-enabled-channel.md)
> * [<span data-ttu-id="fb880-105">.NET</span><span class="sxs-lookup"><span data-stu-id="fb880-105">.NET</span></span>](media-services-dotnet-creating-live-encoder-enabled-channel.md)
> * [<span data-ttu-id="fb880-106">API REST</span><span class="sxs-lookup"><span data-stu-id="fb880-106">REST API</span></span>](https://docs.microsoft.com/rest/api/media/operations/channel)
> 
> 

<span data-ttu-id="fb880-107">Ce didacticiel vous guide tout au long des étapes de création d’un **canal** qui reçoit un flux continu à débit binaire unique et qui l’encode en flux à débit binaire multiple.</span><span class="sxs-lookup"><span data-stu-id="fb880-107">This tutorial walks you through the steps of creating a **Channel** that receives a single-bitrate live stream and encodes it to multi-bitrate stream.</span></span>

> [!NOTE]
> <span data-ttu-id="fb880-108">Pour obtenir des informations conceptuelles sur les canaux prenant en charge l’encodage dynamique, consultez [Utilisation de canaux activés pour effectuer un encodage en temps réel avec Azure Media Services](media-services-manage-live-encoder-enabled-channels.md).</span><span class="sxs-lookup"><span data-stu-id="fb880-108">For more conceptual information related to Channels that are enabled for live encoding, see [Live streaming using Azure Media Services to create multi-bitrate streams](media-services-manage-live-encoder-enabled-channels.md).</span></span>
> 
> 

## <a name="common-live-streaming-scenario"></a><span data-ttu-id="fb880-109">Scénario courant de diffusion dynamique en continu</span><span class="sxs-lookup"><span data-stu-id="fb880-109">Common Live Streaming Scenario</span></span>
<span data-ttu-id="fb880-110">Ci-après figurent les étapes générales impliquées dans la création d’applications courantes de diffusion en continu dynamique.</span><span class="sxs-lookup"><span data-stu-id="fb880-110">The following are general steps involved in creating common live streaming applications.</span></span>

> [!NOTE]
> <span data-ttu-id="fb880-111">Actuellement, la durée maximale recommandée d’un événement en direct est de 8 heures.</span><span class="sxs-lookup"><span data-stu-id="fb880-111">Currently, the max recommended duration of a live event is 8 hours.</span></span> <span data-ttu-id="fb880-112">Veuillez contacter amslived à l’adresse Microsoft.com si vous avez besoin d’exécuter un canal sur de plus longues périodes.</span><span class="sxs-lookup"><span data-stu-id="fb880-112">Please contact  amslived at Microsoft.com if you need to run a Channel for longer periods of time.</span></span>
> 
> 

1. <span data-ttu-id="fb880-113">Connectez une caméra vidéo à un ordinateur.</span><span class="sxs-lookup"><span data-stu-id="fb880-113">Connect a video camera to a computer.</span></span> <span data-ttu-id="fb880-114">Lancez et configurez un encodeur dynamique local capable de générer un flux à débit binaire unique dans l’un des protocoles suivants : RTMP, Smooth Streaming ou RTP (MPEG-TS).</span><span class="sxs-lookup"><span data-stu-id="fb880-114">Launch and configure an on-premises live encoder that can output a single bitrate stream in one of the following protocols: RTMP, Smooth Streaming, or RTP (MPEG-TS).</span></span> <span data-ttu-id="fb880-115">Pour plus d’informations, voir [Prise en charge RTMP et encodeurs dynamiques dans Azure Media Services](http://go.microsoft.com/fwlink/?LinkId=532824).</span><span class="sxs-lookup"><span data-stu-id="fb880-115">For more information, see [Azure Media Services RTMP Support and Live Encoders](http://go.microsoft.com/fwlink/?LinkId=532824).</span></span>
   
    <span data-ttu-id="fb880-116">Cette étape peut également être effectuée après la création du canal.</span><span class="sxs-lookup"><span data-stu-id="fb880-116">This step could also be performed after you create your Channel.</span></span>
2. <span data-ttu-id="fb880-117">Créez et démarrez un canal.</span><span class="sxs-lookup"><span data-stu-id="fb880-117">Create and start a Channel.</span></span> 
3. <span data-ttu-id="fb880-118">Récupérez l’URL de réception du canal.</span><span class="sxs-lookup"><span data-stu-id="fb880-118">Retrieve the Channel ingest URL.</span></span> 
   
    <span data-ttu-id="fb880-119">L’URL de réception est utilisée par l’encodeur dynamique pour envoyer le flux au canal.</span><span class="sxs-lookup"><span data-stu-id="fb880-119">The ingest URL is used by the live encoder to send the stream to the Channel.</span></span>
4. <span data-ttu-id="fb880-120">Récupérez l’URL d’aperçu du canal.</span><span class="sxs-lookup"><span data-stu-id="fb880-120">Retrieve the Channel preview URL.</span></span> 
   
    <span data-ttu-id="fb880-121">Utilisez cette URL pour vérifier que votre canal reçoit correctement le flux dynamique.</span><span class="sxs-lookup"><span data-stu-id="fb880-121">Use this URL to verify that your channel is properly receiving the live stream.</span></span>
5. <span data-ttu-id="fb880-122">Créez un événement/programme (ce qui crée également un élément multimédia).</span><span class="sxs-lookup"><span data-stu-id="fb880-122">Create an event/program (that will also create an asset).</span></span> 
6. <span data-ttu-id="fb880-123">Publiez l’événement (ce qui crée un localisateur OnDemand pour l’élément multimédia associé).</span><span class="sxs-lookup"><span data-stu-id="fb880-123">Publish the event (that will create an  OnDemand locator for the associated asset).</span></span>    
7. <span data-ttu-id="fb880-124">Démarrez l’événement dès que vous êtes prêt à lancer la diffusion en continu et l’archivage.</span><span class="sxs-lookup"><span data-stu-id="fb880-124">Start the event when you are ready to start streaming and archiving.</span></span>
8. <span data-ttu-id="fb880-125">Un signal peut éventuellement être envoyé à l’encodeur dynamique pour qu’il démarre une publicité.</span><span class="sxs-lookup"><span data-stu-id="fb880-125">Optionally, the live encoder can be signaled to start an advertisement.</span></span> <span data-ttu-id="fb880-126">La publicité est insérée dans le flux de sortie.</span><span class="sxs-lookup"><span data-stu-id="fb880-126">The advertisement is inserted in the output stream.</span></span>
9. <span data-ttu-id="fb880-127">Arrêtez l’événement chaque fois que vous voulez arrêter la diffusion et archiver l’événement.</span><span class="sxs-lookup"><span data-stu-id="fb880-127">Stop the event whenever you want to stop streaming and archiving the event.</span></span>
10. <span data-ttu-id="fb880-128">Supprimez l’événement (et éventuellement l’élément multimédia).</span><span class="sxs-lookup"><span data-stu-id="fb880-128">Delete the event (and optionally delete the asset).</span></span>   

## <a name="in-this-tutorial"></a><span data-ttu-id="fb880-129">Dans ce didacticiel</span><span class="sxs-lookup"><span data-stu-id="fb880-129">In this tutorial</span></span>
<span data-ttu-id="fb880-130">Dans ce didacticiel, le portail Azure est utilisé pour effectuer les tâches suivantes :</span><span class="sxs-lookup"><span data-stu-id="fb880-130">In this tutorial, the Azure portal is used to accomplish the following tasks:</span></span> 

1. <span data-ttu-id="fb880-131">Créez un canal qui est activé pour effectuer un encodage en temps réel.</span><span class="sxs-lookup"><span data-stu-id="fb880-131">Create a channel that is enabled to perform live encoding.</span></span>
2. <span data-ttu-id="fb880-132">Obtenez l’URL de réception afin de la fournir à l’encodeur dynamique.</span><span class="sxs-lookup"><span data-stu-id="fb880-132">Get the Ingest URL in order to supply it to live encoder.</span></span> <span data-ttu-id="fb880-133">L’encodeur dynamique utilise cette URL pour recevoir le flux dans le canal.</span><span class="sxs-lookup"><span data-stu-id="fb880-133">The live encoder will use this URL to ingest the stream into the Channel.</span></span>
3. <span data-ttu-id="fb880-134">Créer un événement/programme (et un élément multimédia).</span><span class="sxs-lookup"><span data-stu-id="fb880-134">Create an event/program (and an asset).</span></span>
4. <span data-ttu-id="fb880-135">Publier l’élément multimédia et obtenir les URL de diffusion en continu.</span><span class="sxs-lookup"><span data-stu-id="fb880-135">Publish the asset and get streaming URLs.</span></span>  
5. <span data-ttu-id="fb880-136">Lire votre contenu.</span><span class="sxs-lookup"><span data-stu-id="fb880-136">Play your content.</span></span>
6. <span data-ttu-id="fb880-137">Nettoyage.</span><span class="sxs-lookup"><span data-stu-id="fb880-137">Cleaning up.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="fb880-138">Composants requis</span><span class="sxs-lookup"><span data-stu-id="fb880-138">Prerequisites</span></span>
<span data-ttu-id="fb880-139">Les éléments suivants sont requis pour suivre le didacticiel.</span><span class="sxs-lookup"><span data-stu-id="fb880-139">The following are required to complete the tutorial.</span></span>

* <span data-ttu-id="fb880-140">Pour suivre ce didacticiel, vous avez besoin d'un compte Azure.</span><span class="sxs-lookup"><span data-stu-id="fb880-140">To complete this tutorial, you need an Azure account.</span></span> <span data-ttu-id="fb880-141">Si vous ne possédez pas de compte, vous pouvez créer un compte d'évaluation gratuit en quelques minutes.</span><span class="sxs-lookup"><span data-stu-id="fb880-141">If you don't have an account, you can create a free trial account in just a couple of minutes.</span></span> 
  <span data-ttu-id="fb880-142">Pour plus d'informations, consultez la page [Version d'évaluation gratuite d'Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="fb880-142">For details, see [Azure Free Trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="fb880-143">Un compte Media Services.</span><span class="sxs-lookup"><span data-stu-id="fb880-143">A Media Services account.</span></span> <span data-ttu-id="fb880-144">Pour créer un compte Media Services, consultez [Créer un compte](media-services-portal-create-account.md).</span><span class="sxs-lookup"><span data-stu-id="fb880-144">To create a Media Services account, see [Create Account](media-services-portal-create-account.md).</span></span>
* <span data-ttu-id="fb880-145">Une webcam et un encodeur capable d’envoyer un flux dynamique à débit binaire unique.</span><span class="sxs-lookup"><span data-stu-id="fb880-145">A webcam and an encoder that can send a single bitrate live stream.</span></span>

## <a name="create-a-channel"></a><span data-ttu-id="fb880-146">Créer un CANAL</span><span class="sxs-lookup"><span data-stu-id="fb880-146">Create a channel</span></span>
1. <span data-ttu-id="fb880-147">Dans le [portail Azure](https://portal.azure.com/), sélectionnez Media Services, puis cliquez sur le nom de votre compte Media Services.</span><span class="sxs-lookup"><span data-stu-id="fb880-147">In the [Azure portal](https://portal.azure.com/), select Media Services and then click on your Media Services account name.</span></span>
2. <span data-ttu-id="fb880-148">Sélectionnez **Vidéo en flux continu**.</span><span class="sxs-lookup"><span data-stu-id="fb880-148">Select **Live Streaming**.</span></span>
3. <span data-ttu-id="fb880-149">Sélectionnez **Création personnalisée**.</span><span class="sxs-lookup"><span data-stu-id="fb880-149">Select **Custom create**.</span></span> <span data-ttu-id="fb880-150">Cette option vous permet de créer un canal activé pour l’encodage live.</span><span class="sxs-lookup"><span data-stu-id="fb880-150">This option will let you create a channel that is enabled for live encoding.</span></span>
   
    ![Créer un CANAL](./media/media-services-portal-creating-live-encoder-enabled-channel/media-services-create-channel.png)
4. <span data-ttu-id="fb880-152">Cliquez sur **Paramètres**.</span><span class="sxs-lookup"><span data-stu-id="fb880-152">Click on **Settings**.</span></span>
   
   1. <span data-ttu-id="fb880-153">Choisissez le type de canal **Live Encoding** .</span><span class="sxs-lookup"><span data-stu-id="fb880-153">Choose the **Live Encoding** channel type.</span></span> <span data-ttu-id="fb880-154">Ce type spécifie que vous souhaitez créer un canal qui est activé pour l’encodage en temps réel.</span><span class="sxs-lookup"><span data-stu-id="fb880-154">This type specifies that you want to create a Channel that is enabled for live encoding.</span></span> <span data-ttu-id="fb880-155">Cela signifie que le flux entrant à débit binaire unique est envoyé au canal et encodé en un flux à débit binaire multiple à l’aide des paramètres d’encodeur dynamique spécifiés.</span><span class="sxs-lookup"><span data-stu-id="fb880-155">That means the incoming single bitrate stream is sent to the Channel and encoded into a multi-bitrate stream using specified live encoder settings.</span></span> <span data-ttu-id="fb880-156">Pour plus d’informations, consultez l’article [Comment effectuer une diffusion de vidéo en flux continu à l’aide d’Azure Media Services pour créer des flux multidébit](media-services-manage-live-encoder-enabled-channels.md).</span><span class="sxs-lookup"><span data-stu-id="fb880-156">For more information, see [Live streaming using Azure Media Services to create multi-bitrate streams](media-services-manage-live-encoder-enabled-channels.md).</span></span> <span data-ttu-id="fb880-157">Cliquez sur OK.</span><span class="sxs-lookup"><span data-stu-id="fb880-157">Click OK.</span></span>
   2. <span data-ttu-id="fb880-158">Indiquez le nom d’un canal.</span><span class="sxs-lookup"><span data-stu-id="fb880-158">Specify a channel's name.</span></span>
   3. <span data-ttu-id="fb880-159">Cliquez sur OK au bas de la page.</span><span class="sxs-lookup"><span data-stu-id="fb880-159">Click OK at the bottom of the screen.</span></span>
5. <span data-ttu-id="fb880-160">Sélectionnez l’onglet **Ingérer** .</span><span class="sxs-lookup"><span data-stu-id="fb880-160">Select the **Ingest** tab.</span></span>
   
   1. <span data-ttu-id="fb880-161">Sur cette page, vous pouvez sélectionner un protocole de diffusion en continu.</span><span class="sxs-lookup"><span data-stu-id="fb880-161">On this page, you can select a streaming protocol.</span></span> <span data-ttu-id="fb880-162">Pour le type de canal **Live Encoding** , les options de protocole valides sont :</span><span class="sxs-lookup"><span data-stu-id="fb880-162">For the **Live Encoding** channel type, valid protocol options are:</span></span>
      
      * <span data-ttu-id="fb880-163">MP4 fragmenté (Smooth Streaming) à débit binaire unique</span><span class="sxs-lookup"><span data-stu-id="fb880-163">Single bitrate Fragmented MP4 (Smooth Streaming)</span></span>
      * <span data-ttu-id="fb880-164">RTMP à débit binaire unique</span><span class="sxs-lookup"><span data-stu-id="fb880-164">Single bitrate RTMP</span></span>
      * <span data-ttu-id="fb880-165">RTP (MPEG-TS) : flux de transport MPEG-2 via RTP.</span><span class="sxs-lookup"><span data-stu-id="fb880-165">RTP (MPEG-TS): MPEG-2 Transport Stream over RTP.</span></span>
        
        <span data-ttu-id="fb880-166">Pour une explication détaillée de chaque protocole, consultez l’article [Comment effectuer une diffusion de vidéo en flux continu à l’aide d’Azure Media Services pour créer des flux à vitesses de transmission multiples](media-services-manage-live-encoder-enabled-channels.md).</span><span class="sxs-lookup"><span data-stu-id="fb880-166">For detailed explanation about each protocol, see [Live streaming using Azure Media Services to create multi-bitrate streams](media-services-manage-live-encoder-enabled-channels.md).</span></span>
        
        <span data-ttu-id="fb880-167">Vous ne pouvez pas modifier l’option de protocole pendant l’exécution du canal ou de ses événements/programmes associés.</span><span class="sxs-lookup"><span data-stu-id="fb880-167">You cannot change the protocol option while the Channel or its associated events/programs are running.</span></span> <span data-ttu-id="fb880-168">Si vous avez besoin d’autres protocoles, vous devez créer des canaux distincts pour chaque protocole de diffusion.</span><span class="sxs-lookup"><span data-stu-id="fb880-168">If you require different protocols, you should create separate channels for each streaming protocol.</span></span>  
   2. <span data-ttu-id="fb880-169">Vous pouvez appliquer des restrictions d’adresse IP à la réception.</span><span class="sxs-lookup"><span data-stu-id="fb880-169">You can apply IP restriction on the ingest.</span></span> 
      
       <span data-ttu-id="fb880-170">Vous pouvez définir les adresses IP autorisées à ingérer du contenu vidéo sur ce canal.</span><span class="sxs-lookup"><span data-stu-id="fb880-170">You can define the IP addresses that are allowed to ingest a video to this channel.</span></span> <span data-ttu-id="fb880-171">Les adresses IP autorisées peuvent être spécifiées en tant qu’adresses IP uniques (par exemple, '10.0.0.1'), une plage d’adresses IP utilisant une adresse IP et un masque de sous-réseau CIDR (par exemple, '10.0.0.1/22'), ou une plage d’adresses IP utilisant une adresse IP et un masque de sous-réseau décimal séparé par des points (par exemple, '10.0.0.1(255.255.252.0)').</span><span class="sxs-lookup"><span data-stu-id="fb880-171">Allowed IP addresses can be specified as either a single IP address (e.g. '10.0.0.1'), an IP range using an IP address and a CIDR subnet mask (e.g. '10.0.0.1/22'), or an IP range using an IP address and a dotted decimal subnet mask (e.g. '10.0.0.1(255.255.252.0)').</span></span>
      
       <span data-ttu-id="fb880-172">Si aucune adresse IP n’est spécifiée et qu’il n’existe pas de définition de règle, alors aucune adresse IP n’est autorisée.</span><span class="sxs-lookup"><span data-stu-id="fb880-172">If no IP addresses are specified and there is no rule definition then no IP address will be allowed.</span></span> <span data-ttu-id="fb880-173">Pour autoriser toutes les adresses IP, créez une règle et définissez la valeur 0.0.0.0/0.</span><span class="sxs-lookup"><span data-stu-id="fb880-173">To allow any IP address, create a rule and set 0.0.0.0/0.</span></span>
6. <span data-ttu-id="fb880-174">Dans l’onglet **Aperçu** , appliquez des restrictions d’adresse IP à la version préliminaire.</span><span class="sxs-lookup"><span data-stu-id="fb880-174">On the **Preview** tab, apply IP restriction on the preview.</span></span>
7. <span data-ttu-id="fb880-175">Dans l’onglet **Encodage** , spécifiez la valeur prédéfinie d’encodage.</span><span class="sxs-lookup"><span data-stu-id="fb880-175">On the **Encoding** tab, specify the encoding preset.</span></span> 
   
    <span data-ttu-id="fb880-176">Actuellement, le seul préréglage système que vous pouvez sélectionner est **Default720p**.</span><span class="sxs-lookup"><span data-stu-id="fb880-176">Currently, the only system preset you can select is **Default 720p**.</span></span> <span data-ttu-id="fb880-177">Pour spécifier un paramètre prédéfini personnalisé, ouvrez un ticket de support Microsoft.</span><span class="sxs-lookup"><span data-stu-id="fb880-177">To specify a custom preset, open a Microsoft support ticket.</span></span> <span data-ttu-id="fb880-178">Entrez ensuite le nom du paramètre prédéfini créé pour vous.</span><span class="sxs-lookup"><span data-stu-id="fb880-178">Then, enter the name of the preset created for you.</span></span> 

> [!NOTE]
> <span data-ttu-id="fb880-179">Actuellement, le démarrage du canal peut prendre jusqu’à 30 minutes.</span><span class="sxs-lookup"><span data-stu-id="fb880-179">Currently, the Channel start can take up to 30 minutes.</span></span> <span data-ttu-id="fb880-180">La réinitialisation du canal peut prendre jusqu’à 5 minutes.</span><span class="sxs-lookup"><span data-stu-id="fb880-180">Channel reset can take up to 5 minutes.</span></span>
> 
> 

<span data-ttu-id="fb880-181">Une fois que vous avez créé le canal, vous pouvez cliquer dessus et sélectionner **Paramètres** pour afficher les configurations de vos canaux.</span><span class="sxs-lookup"><span data-stu-id="fb880-181">Once you created the Channel, you can click on the channel and select **Settings** where you can view your channels configurations.</span></span> 

<span data-ttu-id="fb880-182">Pour plus d’informations, consultez l’article [Comment effectuer une diffusion de vidéo en flux continu à l’aide d’Azure Media Services pour créer des flux multidébit](media-services-manage-live-encoder-enabled-channels.md).</span><span class="sxs-lookup"><span data-stu-id="fb880-182">For more information, see [Live streaming using Azure Media Services to create multi-bitrate streams](media-services-manage-live-encoder-enabled-channels.md).</span></span>

## <a name="get-ingest-urls"></a><span data-ttu-id="fb880-183">Obtenir les URL de réception</span><span class="sxs-lookup"><span data-stu-id="fb880-183">Get ingest URLs</span></span>
<span data-ttu-id="fb880-184">Lorsque le canal est créé, vous pouvez obtenir des URL de réception que vous devez fournir à l’encodeur dynamique.</span><span class="sxs-lookup"><span data-stu-id="fb880-184">Once the channel is created, you can get ingest URLs that you will provide to the live encoder.</span></span> <span data-ttu-id="fb880-185">L’encodeur utilise ces URL pour entrer un flux dynamique.</span><span class="sxs-lookup"><span data-stu-id="fb880-185">The encoder uses these URLs to input a live stream.</span></span>

![ingesturls](./media/media-services-portal-creating-live-encoder-enabled-channel/media-services-ingest-urls.png)

## <a name="create-and-manage-events"></a><span data-ttu-id="fb880-187">Créer et gérer des événements</span><span class="sxs-lookup"><span data-stu-id="fb880-187">Create and manage events</span></span>
### <a name="overview"></a><span data-ttu-id="fb880-188">Vue d'ensemble</span><span class="sxs-lookup"><span data-stu-id="fb880-188">Overview</span></span>
<span data-ttu-id="fb880-189">Un canal est associé à des événements/programmes vous permettant de contrôler la publication et le stockage des segments dans un flux dynamique.</span><span class="sxs-lookup"><span data-stu-id="fb880-189">A channel is associated with events/programs that enable you to control the publishing and storage of segments in a live stream.</span></span> <span data-ttu-id="fb880-190">Les canaux gèrent des événements/programmes.</span><span class="sxs-lookup"><span data-stu-id="fb880-190">Channels manage events/programs.</span></span> <span data-ttu-id="fb880-191">La relation entre canal et programme est très similaire au contenu multimédia traditionnel où un canal a un flux de contenu constant et un programme est limité à un événement minuté sur ce canal.</span><span class="sxs-lookup"><span data-stu-id="fb880-191">The Channel and Program relationship is very similar to traditional media where a channel has a constant stream of content and a program is scoped to some timed event on that channel.</span></span>

<span data-ttu-id="fb880-192">Vous pouvez spécifier le nombre d’heures pendant lesquelles vous souhaitez conserver le contenu enregistré pour l’événement en définissant la durée de la **fenêtre d’archivage** .</span><span class="sxs-lookup"><span data-stu-id="fb880-192">You can specify the number of hours you want to retain the recorded content for the event by setting the **Archive Window** length.</span></span> <span data-ttu-id="fb880-193">Cette valeur peut être comprise entre 5 minutes et 25 heures.</span><span class="sxs-lookup"><span data-stu-id="fb880-193">This value can be set from a minimum of 5 minutes to a maximum of 25 hours.</span></span> <span data-ttu-id="fb880-194">La durée de la fenêtre d’archivage détermine également la plage maximale de temps dans laquelle les clients peuvent effectuer des recherches en arrière à partir de la position dynamique actuelle.</span><span class="sxs-lookup"><span data-stu-id="fb880-194">Archive window length also dictates the maximum amount of time clients can seek back in time from the current live position.</span></span> <span data-ttu-id="fb880-195">Les événements peuvent durer davantage que le laps de temps spécifié, mais le contenu qui se situe en dehors de la longueur de fenêtre est ignoré en permanence.</span><span class="sxs-lookup"><span data-stu-id="fb880-195">Events can run over the specified amount of time, but content that falls behind the window length is continuously discarded.</span></span> <span data-ttu-id="fb880-196">La valeur de cette propriété détermine également la longueur maximale que les manifestes de client peuvent atteindre.</span><span class="sxs-lookup"><span data-stu-id="fb880-196">This value of this property also determines how long the client manifests can grow.</span></span>

<span data-ttu-id="fb880-197">Chaque événement est associé à un élément multimédia.</span><span class="sxs-lookup"><span data-stu-id="fb880-197">Each event is associated with an Asset.</span></span> <span data-ttu-id="fb880-198">Pour publier l’événement, vous devez créer un localisateur OnDemand pour l’élément multimédia associé.</span><span class="sxs-lookup"><span data-stu-id="fb880-198">To publish the event you must create an OnDemand locator for the associated asset.</span></span> <span data-ttu-id="fb880-199">Le fait de posséder ce localisateur vous permettra de générer une URL de diffusion en continu que vous pourrez fournir à vos clients.</span><span class="sxs-lookup"><span data-stu-id="fb880-199">Having this locator will enable you to build a streaming URL that you can provide to your clients.</span></span>

<span data-ttu-id="fb880-200">Un canal prend en charge jusqu’à trois événements exécutés simultanément, ce qui rend possible la création de plusieurs archives du même flux entrant.</span><span class="sxs-lookup"><span data-stu-id="fb880-200">A channel supports up to three concurrently running events so you can create multiple archives of the same incoming stream.</span></span> <span data-ttu-id="fb880-201">Cela vous permet de publier et d’archiver différentes parties d’un événement en fonction des besoins.</span><span class="sxs-lookup"><span data-stu-id="fb880-201">This allows you to publish and archive different parts of an event as needed.</span></span> <span data-ttu-id="fb880-202">Par exemple, imaginez que vous devez archiver 6 heures d’un événement, mais diffuser uniquement les 10 dernières minutes.</span><span class="sxs-lookup"><span data-stu-id="fb880-202">For example, your business requirement is to archive 6 hours of an event, but to broadcast only last 10 minutes.</span></span> <span data-ttu-id="fb880-203">Pour ce faire, vous devez créer deux événements exécutés simultanément.</span><span class="sxs-lookup"><span data-stu-id="fb880-203">To accomplish this, you need to create two concurrently running event.</span></span> <span data-ttu-id="fb880-204">Un événement est configuré pour archiver 6 heures de l’événement, mais il n’est pas publié.</span><span class="sxs-lookup"><span data-stu-id="fb880-204">One event is set to archive 6 hours of the event but the program is not published.</span></span> <span data-ttu-id="fb880-205">L’autre événement est configuré pour archiver pendant 10 minutes et il est publié.</span><span class="sxs-lookup"><span data-stu-id="fb880-205">The other event is set to archive for 10 minutes and this program is published.</span></span>

<span data-ttu-id="fb880-206">Vous ne devez pas réutiliser de programmes existants pour de nouveaux événements.</span><span class="sxs-lookup"><span data-stu-id="fb880-206">You should not reuse existing programs for new events.</span></span> <span data-ttu-id="fb880-207">Créez et lancez plutôt un nouveau programme pour chaque événement.</span><span class="sxs-lookup"><span data-stu-id="fb880-207">Instead, create and start a new program for each event.</span></span>

<span data-ttu-id="fb880-208">Démarrez un événement ou un programme dès que vous êtes prêt à lancer la diffusion en continu et l’archivage.</span><span class="sxs-lookup"><span data-stu-id="fb880-208">Start an event/program when you are ready to start streaming and archiving.</span></span> <span data-ttu-id="fb880-209">Arrêtez l’événement chaque fois que vous voulez arrêter la diffusion et archiver l’événement.</span><span class="sxs-lookup"><span data-stu-id="fb880-209">Stop the event whenever you want to stop streaming and archiving the event.</span></span> 

<span data-ttu-id="fb880-210">Pour supprimer du contenu archivé, arrêtez et supprimez l’événement, puis supprimez l’élément multimédia associé.</span><span class="sxs-lookup"><span data-stu-id="fb880-210">To delete archived content, stop and delete the event and then delete the associated asset.</span></span> <span data-ttu-id="fb880-211">Un élément multimédia ne peut pas être supprimé s’il est utilisé par l’événement ; vous devez d’abord supprimer l’événement.</span><span class="sxs-lookup"><span data-stu-id="fb880-211">An asset cannot be deleted if it is used by the event; the event must be deleted first.</span></span> 

<span data-ttu-id="fb880-212">Même après l’arrêt et la suppression de l’événement, les utilisateurs pourront lire votre contenu archivé en tant que vidéo à la demande tant que vous n’aurez pas supprimé l’élément multimédia.</span><span class="sxs-lookup"><span data-stu-id="fb880-212">Even after you stop and delete the event, the users would be able to stream your archived content as a video on demand, for as long as you do not delete the asset.</span></span>

<span data-ttu-id="fb880-213">Si vous souhaitez conserver le contenu archivé sans qu’il soit disponible pour la diffusion, supprimez le localisateur de diffusion en continu.</span><span class="sxs-lookup"><span data-stu-id="fb880-213">If you do want to retain the archived content, but not have it available for streaming, delete the streaming locator.</span></span>

### <a name="createstartstop-events"></a><span data-ttu-id="fb880-214">Créer/Démarrer/Arrêter des événements</span><span class="sxs-lookup"><span data-stu-id="fb880-214">Create/start/stop events</span></span>
<span data-ttu-id="fb880-215">Une fois que le flux transite dans le canal, vous pouvez commencer l’événement de diffusion en continu en créant une ressource, un programme et un localisateur de diffusion en continu.</span><span class="sxs-lookup"><span data-stu-id="fb880-215">Once you have the stream flowing into the Channel you can begin the streaming event by creating an Asset, Program, and Streaming Locator.</span></span> <span data-ttu-id="fb880-216">Le flux est alors archivé et mis à la disposition des observateurs via le point de terminaison de diffusion en continu.</span><span class="sxs-lookup"><span data-stu-id="fb880-216">This will archive the stream and make it available to viewers through the Streaming Endpoint.</span></span> 

>[!NOTE]
><span data-ttu-id="fb880-217">Une fois votre compte AMS créé, un point de terminaison de streaming **par défaut** est ajouté à votre compte à l’état **Arrêté**.</span><span class="sxs-lookup"><span data-stu-id="fb880-217">When your AMS account is created a **default** streaming endpoint is added to your account in the **Stopped** state.</span></span> <span data-ttu-id="fb880-218">Pour démarrer la diffusion en continu de votre contenu et tirer parti de l’empaquetage et du chiffrement dynamiques, le point de terminaison de streaming à partir duquel vous souhaitez diffuser du contenu doit se trouver à l’état **En cours d’exécution**.</span><span class="sxs-lookup"><span data-stu-id="fb880-218">To start streaming your content and take advantage of dynamic packaging and dynamic encryption, the streaming endpoint from which you want to stream content has to be in the **Running** state.</span></span> 

<span data-ttu-id="fb880-219">Il existe deux façons de démarrer un événement :</span><span class="sxs-lookup"><span data-stu-id="fb880-219">There are two ways to start event:</span></span> 

1. <span data-ttu-id="fb880-220">Dans la page **Canal**, appuyez sur **Événement réel** pour ajouter un événement.</span><span class="sxs-lookup"><span data-stu-id="fb880-220">From the **Channel** page, press **Live Event** to add a new event.</span></span>
   
    <span data-ttu-id="fb880-221">Spécifiez le nom de l’événement, le nom de l’élément multimédia, la fenêtre d’archivage et l’option de chiffrement.</span><span class="sxs-lookup"><span data-stu-id="fb880-221">Specify: event name, asset name, archive window, and encryption option.</span></span>
   
    ![createprogram](./media/media-services-portal-creating-live-encoder-enabled-channel/media-services-create-program.png)
   
    <span data-ttu-id="fb880-223">Si vous avez laissé la case **Publier cet événement en direct maintenant** cochée, l’événement de publication des URL est créé.</span><span class="sxs-lookup"><span data-stu-id="fb880-223">If you left **Publish this live event now** checked, the event the PUBLISHING URLs will get created.</span></span>
   
    <span data-ttu-id="fb880-224">Vous pouvez appuyer sur **Démarrer**chaque fois que vous êtes prêt à diffuser l’événement.</span><span class="sxs-lookup"><span data-stu-id="fb880-224">You can press **Start**, whenever you are ready to stream the event.</span></span>
   
    <span data-ttu-id="fb880-225">Une fois que vous avez démarré l’événement, vous pouvez appuyer sur **Regarder** pour commencer à lire le contenu.</span><span class="sxs-lookup"><span data-stu-id="fb880-225">Once you start the event, you can press **Watch** to start playing the content.</span></span>
2. <span data-ttu-id="fb880-226">Vous pouvez également utiliser un raccourci et appuyer sur le bouton **Direct** dans la page **Canal**.</span><span class="sxs-lookup"><span data-stu-id="fb880-226">Alternatively, you can use a shortcut and press **Go Live** button on the **Channel** page.</span></span> <span data-ttu-id="fb880-227">Un élément multimédia, un programme et un localisateur de diffusion en continu par défaut sont alors créés.</span><span class="sxs-lookup"><span data-stu-id="fb880-227">This will create a default Asset, Program, and Streaming Locator.</span></span>
   
    <span data-ttu-id="fb880-228">L’événement est nommé **default** , et la fenêtre d’archivage est définie sur 8 heures.</span><span class="sxs-lookup"><span data-stu-id="fb880-228">The event is named **default** and the archive window is set to 8 hours.</span></span>

<span data-ttu-id="fb880-229">Vous pouvez regarder l’événement publié à partir de la page **Événement réel** .</span><span class="sxs-lookup"><span data-stu-id="fb880-229">You can watch the published event from the **Live event** page.</span></span> 

<span data-ttu-id="fb880-230">Si vous cliquez sur **Off Air**(Hors antenne), tous les événements en direct sont arrêtés.</span><span class="sxs-lookup"><span data-stu-id="fb880-230">If you click **Off Air**, it will stop all live events.</span></span> 

## <a name="watch-the-event"></a><span data-ttu-id="fb880-231">Regarder l’événement</span><span class="sxs-lookup"><span data-stu-id="fb880-231">Watch the event</span></span>
<span data-ttu-id="fb880-232">Pour visionner l’événement, cliquez sur **Watch** (Visionner) dans le portail Azure ou copiez l’URL de diffusion en continu et utilisez le lecteur de votre choix.</span><span class="sxs-lookup"><span data-stu-id="fb880-232">To watch the event, click **Watch** in the Azure portal or copy the streaming URL and use a player of your choice.</span></span> 

![Date de création](./media/media-services-portal-creating-live-encoder-enabled-channel/media-services-play-event.png)

<span data-ttu-id="fb880-234">Une fois arrêté, l’événement en direct est automatiquement converti en contenu à la demande.</span><span class="sxs-lookup"><span data-stu-id="fb880-234">Live event automatically converts events to on-demand content when stopped.</span></span>

## <a name="clean-up"></a><span data-ttu-id="fb880-235">Nettoyer</span><span class="sxs-lookup"><span data-stu-id="fb880-235">Clean up</span></span>
<span data-ttu-id="fb880-236">Si vous avez terminé de diffuser en continu les événements et que vous voulez nettoyer les ressources configurées précédemment, suivez la procédure ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="fb880-236">If you are done streaming events and want to clean up the resources provisioned earlier, follow the following procedure.</span></span>

* <span data-ttu-id="fb880-237">Arrêtez d’envoyer le flux à partir de l’encodeur.</span><span class="sxs-lookup"><span data-stu-id="fb880-237">Stop pushing the stream from the encoder.</span></span>
* <span data-ttu-id="fb880-238">Arrêtez le canal.</span><span class="sxs-lookup"><span data-stu-id="fb880-238">Stop the channel.</span></span> <span data-ttu-id="fb880-239">Une fois le canal arrêté, aucun frais n’est encouru.</span><span class="sxs-lookup"><span data-stu-id="fb880-239">Once the Channel is stopped, it will not incur any charges.</span></span> <span data-ttu-id="fb880-240">Lorsque vous devez le redémarrer, il possède la même URL de réception. Vous n’avez donc pas besoin de reconfigurer votre encodeur.</span><span class="sxs-lookup"><span data-stu-id="fb880-240">When you need to start it again, it will have the same ingest URL so you won't need to reconfigure your encoder.</span></span>
* <span data-ttu-id="fb880-241">Vous pouvez arrêter votre point de terminaison de diffusion en continu, sauf si vous souhaitez continuer à fournir l’archive de votre événement en direct en tant que flux à la demande.</span><span class="sxs-lookup"><span data-stu-id="fb880-241">You can stop your Streaming Endpoint, unless you want to continue to provide the archive of your live event as an on-demand stream.</span></span> <span data-ttu-id="fb880-242">Si le canal est arrêté, aucun frais n’est encouru.</span><span class="sxs-lookup"><span data-stu-id="fb880-242">If the channel is in stopped state, it will not incur any charges.</span></span>

## <a name="view-archived-content"></a><span data-ttu-id="fb880-243">Afficher le contenu archivé</span><span class="sxs-lookup"><span data-stu-id="fb880-243">View archived content</span></span>
<span data-ttu-id="fb880-244">Même après l’arrêt et la suppression de l’événement, les utilisateurs pourront lire votre contenu archivé en tant que vidéo à la demande tant que vous n’aurez pas supprimé l’élément multimédia.</span><span class="sxs-lookup"><span data-stu-id="fb880-244">Even after you stop and delete the event, the users would be able to stream your archived content as a video on demand, for as long as you do not delete the asset.</span></span> <span data-ttu-id="fb880-245">Un élément multimédia ne peut pas être supprimé s’il est utilisé par un événement ; vous devez d’abord supprimer l’événement.</span><span class="sxs-lookup"><span data-stu-id="fb880-245">An asset cannot be deleted if it is used by an event; the event must be deleted first.</span></span> 

<span data-ttu-id="fb880-246">Pour gérer vos éléments multimédias, cliquez sur **Paramètre** puis sur **Éléments multimédias**.</span><span class="sxs-lookup"><span data-stu-id="fb880-246">To manage your assets, select **Setting** and click **Assets**.</span></span>

![ressources](./media/media-services-portal-creating-live-encoder-enabled-channel/media-services-assets.png)

## <a name="considerations"></a><span data-ttu-id="fb880-248">Considérations</span><span class="sxs-lookup"><span data-stu-id="fb880-248">Considerations</span></span>
* <span data-ttu-id="fb880-249">Actuellement, la durée maximale recommandée d’un événement en direct est de 8 heures.</span><span class="sxs-lookup"><span data-stu-id="fb880-249">Currently, the max recommended duration of a live event is 8 hours.</span></span> <span data-ttu-id="fb880-250">Veuillez contacter amslived à l'adresse Microsoft.com si vous avez besoin d'exécuter un canal sur de plus longues périodes.</span><span class="sxs-lookup"><span data-stu-id="fb880-250">Please contact amslived at Microsoft.com if you need to run a Channel for longer periods of time.</span></span>
* <span data-ttu-id="fb880-251">Assurez-vous que le point de terminaison de streaming à partir duquel vous souhaitez diffuser votre contenu se trouve à l’état **En cours d’exécution**.</span><span class="sxs-lookup"><span data-stu-id="fb880-251">Make sure the streaming endpoint from which you want to stream  your content is in the **Running** state.</span></span>

## <a name="next-step"></a><span data-ttu-id="fb880-252">Étape suivante</span><span class="sxs-lookup"><span data-stu-id="fb880-252">Next step</span></span>
<span data-ttu-id="fb880-253">Consultez les parcours d’apprentissage de Media Services.</span><span class="sxs-lookup"><span data-stu-id="fb880-253">Review Media Services learning paths.</span></span>

[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="fb880-254">Fournir des commentaires</span><span class="sxs-lookup"><span data-stu-id="fb880-254">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

