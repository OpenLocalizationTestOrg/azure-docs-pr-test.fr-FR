---
title: "vue d’ensemble des modèles de licence aaaWidevine | Documents Microsoft"
description: "Cette rubrique donne une vue d’ensemble d’un modèle de licence Widevine utilisé tooconfigure Widevine licences."
author: juliako
manager: cfowler
editor: 
services: media-services
documentationcenter: 
ms.assetid: 0e6f1f05-7ed6-4ed6-82a0-0cc2182b075a
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/29/2017
ms.author: juliako
ms.openlocfilehash: 67a6ae38cf3d3c21e1b7282aef15f79b21776414
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="widevine-license-template-overview"></a><span data-ttu-id="c6725-103">Vue d’ensemble du modèle de licence Widevine</span><span class="sxs-lookup"><span data-stu-id="c6725-103">Widevine license template overview</span></span>
## <a name="overview"></a><span data-ttu-id="c6725-104">Vue d'ensemble</span><span class="sxs-lookup"><span data-stu-id="c6725-104">Overview</span></span>
<span data-ttu-id="c6725-105">Azure Media Services vous permet maintenant des licences Widevine tooconfigure et de la demande.</span><span class="sxs-lookup"><span data-stu-id="c6725-105">Azure Media Services now enables you tooconfigure and request Widevine licenses.</span></span> <span data-ttu-id="c6725-106">Lorsque le lecteur hello utilisateur final tente tooplay votre contenu Widevine protégé, une demande est envoyé toohello licence remise service tooobtain une licence.</span><span class="sxs-lookup"><span data-stu-id="c6725-106">When hello end user player tries tooplay your Widevine protected content, a request is sent toohello license delivery service tooobtain a license.</span></span> <span data-ttu-id="c6725-107">Si le service de licence hello approuve la demande de hello, il émet la licence hello qui est envoyé toohello client et peut être utilisé toodecrypt- and -play hello contenu spécifié.</span><span class="sxs-lookup"><span data-stu-id="c6725-107">If hello license service approves hello request, it issues hello license which is sent toohello client and can be used toodecrypt and play hello specified content.</span></span>

<span data-ttu-id="c6725-108">La demande de licence Widevine se présente sous forme de message JSON.</span><span class="sxs-lookup"><span data-stu-id="c6725-108">Widevine license request is formatted as a JSON message.</span></span>  

>[!NOTE]
> <span data-ttu-id="c6725-109">Vous pouvez choisir toocreate un message vide avec aucune valeurs simplement « {} » et un modèle de licence sera créé avec les valeurs par défaut.</span><span class="sxs-lookup"><span data-stu-id="c6725-109">You can choose toocreate an empty message with no values just "{}" and a license template will be created with all defaults.</span></span> <span data-ttu-id="c6725-110">valeur par défaut de Hello fonctionne pour la plupart des cas.</span><span class="sxs-lookup"><span data-stu-id="c6725-110">hello default works for most cases.</span></span> <span data-ttu-id="c6725-111">Par exemple, les scénarios de remise de licence MS nécessitent toujours les valeurs par défaut.</span><span class="sxs-lookup"><span data-stu-id="c6725-111">For example, for MS based license delivery scenarios that should always be default.</span></span> <span data-ttu-id="c6725-112">Si vous avez besoin tooset hello « provider » et les valeurs de « content_id », un fournisseur doit correspondre à des informations d’identification de Widevine de Google.</span><span class="sxs-lookup"><span data-stu-id="c6725-112">If you do need tooset hello "provider" and "content_id" values, a provider must match Google's Widevine credentials.</span></span>

    {  
       “payload”:“<license challenge>”,
       “content_id”: “<content id>” 
       “provider”: ”<provider>”
       “allowed_track_types”:“<types>”,
       “content_key_specs”:[  
          {  
             “track_type”:“<track type 1>”
          },
          {  
             “track_type”:“<track type 2>”
          },
          …
       ],
       “policy_overrides”:{  
          “can_play”:<can play>,
          “can persist”:<can persist>,
          “can_renew”:<can renew>,
          “rental_duration_seconds”:<rental duration>,
          “playback_duration_seconds”:<playback duration>,
          “license_duration_seconds”:<license duration>,
          “renewal_recovery_duration_seconds”:<renewal recovery duration>,
          “renewal_server_url”:”<renewal server url>”,
          “renewal_delay_seconds”:<renewal delay>,
          “renewal_retry_interval_seconds”:<renewal retry interval>,
          “renew_with_usage”:<renew with usage>
       }
    }

## <a name="json-message"></a><span data-ttu-id="c6725-113">Message JSON</span><span class="sxs-lookup"><span data-stu-id="c6725-113">JSON message</span></span>
| <span data-ttu-id="c6725-114">Nom</span><span class="sxs-lookup"><span data-stu-id="c6725-114">Name</span></span> | <span data-ttu-id="c6725-115">Valeur</span><span class="sxs-lookup"><span data-stu-id="c6725-115">Value</span></span> | <span data-ttu-id="c6725-116">Description</span><span class="sxs-lookup"><span data-stu-id="c6725-116">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c6725-117">payload</span><span class="sxs-lookup"><span data-stu-id="c6725-117">payload</span></span> |<span data-ttu-id="c6725-118">Chaîne encodée Base64</span><span class="sxs-lookup"><span data-stu-id="c6725-118">Base64 encoded string</span></span> |<span data-ttu-id="c6725-119">demande de licence Hello envoyée par un client.</span><span class="sxs-lookup"><span data-stu-id="c6725-119">hello license request sent by a client.</span></span> |
| <span data-ttu-id="c6725-120">content_id</span><span class="sxs-lookup"><span data-stu-id="c6725-120">content_id</span></span> |<span data-ttu-id="c6725-121">Chaîne encodée Base64</span><span class="sxs-lookup"><span data-stu-id="c6725-121">Base64 encoded string</span></span> |<span data-ttu-id="c6725-122">Identificateur utilisé tooderive KeyId(s) et clés de contenu pour chaque content_key_specs.track_type.</span><span class="sxs-lookup"><span data-stu-id="c6725-122">Identifier used tooderive KeyId(s) and Content Key(s) for each content_key_specs.track_type.</span></span> |
| <span data-ttu-id="c6725-123">provider</span><span class="sxs-lookup"><span data-stu-id="c6725-123">provider</span></span> |<span data-ttu-id="c6725-124">string</span><span class="sxs-lookup"><span data-stu-id="c6725-124">string</span></span> |<span data-ttu-id="c6725-125">Toolook utilisé des clés de contenu et des stratégies.</span><span class="sxs-lookup"><span data-stu-id="c6725-125">Used toolook up content keys and policies.</span></span> <span data-ttu-id="c6725-126">Si la remise de clé MS est utilisée pour la remise de licence Widevine, ce paramètre est ignoré.</span><span class="sxs-lookup"><span data-stu-id="c6725-126">If MS key delivery is used for Widevine license delivery, this parameter is ignored.</span></span> |
| <span data-ttu-id="c6725-127">policy_name</span><span class="sxs-lookup"><span data-stu-id="c6725-127">policy_name</span></span> |<span data-ttu-id="c6725-128">string</span><span class="sxs-lookup"><span data-stu-id="c6725-128">string</span></span> |<span data-ttu-id="c6725-129">Nom d'une stratégie précédemment enregistrée.</span><span class="sxs-lookup"><span data-stu-id="c6725-129">Name of a previously registered policy.</span></span> <span data-ttu-id="c6725-130">Facultatif</span><span class="sxs-lookup"><span data-stu-id="c6725-130">Optional</span></span> |
| <span data-ttu-id="c6725-131">allowed_track_types</span><span class="sxs-lookup"><span data-stu-id="c6725-131">allowed_track_types</span></span> |<span data-ttu-id="c6725-132">enum</span><span class="sxs-lookup"><span data-stu-id="c6725-132">enum</span></span> |<span data-ttu-id="c6725-133">SD_ONLY ou SD_HD.</span><span class="sxs-lookup"><span data-stu-id="c6725-133">SD_ONLY or SD_HD.</span></span> <span data-ttu-id="c6725-134">Contrôle les clés de contenu à inclure dans une licence</span><span class="sxs-lookup"><span data-stu-id="c6725-134">Controls which content keys should be included in a license</span></span> |
| <span data-ttu-id="c6725-135">content_key_specs</span><span class="sxs-lookup"><span data-stu-id="c6725-135">content_key_specs</span></span> |<span data-ttu-id="c6725-136">tableau de structures JSON, consultez **Spécifications de clé de contenu** ci-dessous</span><span class="sxs-lookup"><span data-stu-id="c6725-136">array of JSON structures, see **Content Key Specs** below</span></span> |<span data-ttu-id="c6725-137">Un contrôle plus fin sur le contenu des clés tooreturn.</span><span class="sxs-lookup"><span data-stu-id="c6725-137">A finer grained control on what content keys tooreturn.</span></span> <span data-ttu-id="c6725-138">Pour plus d'informations, consultez Spécifications de clé de contenu ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="c6725-138">See Content Key Spec below for details.</span></span>  <span data-ttu-id="c6725-139">Une seule valeur allowed_track_types et content_key_specs peut être spécifiée.</span><span class="sxs-lookup"><span data-stu-id="c6725-139">Only one of allowed_track_types and content_key_specs can be specified.</span></span> |
| <span data-ttu-id="c6725-140">use_policy_overrides_exclusively</span><span class="sxs-lookup"><span data-stu-id="c6725-140">use_policy_overrides_exclusively</span></span> |<span data-ttu-id="c6725-141">booléen.</span><span class="sxs-lookup"><span data-stu-id="c6725-141">boolean.</span></span> <span data-ttu-id="c6725-142">true ou false</span><span class="sxs-lookup"><span data-stu-id="c6725-142">true or false</span></span> |<span data-ttu-id="c6725-143">Utiliser les attributs de la stratégie spécifiés par policy_overrides et ignorer toutes les stratégies stockées précédemment.</span><span class="sxs-lookup"><span data-stu-id="c6725-143">Use policy attributes specified by policy_overrides and omit all previously stored policy.</span></span> |
| <span data-ttu-id="c6725-144">policy_overrides</span><span class="sxs-lookup"><span data-stu-id="c6725-144">policy_overrides</span></span> |<span data-ttu-id="c6725-145">Structure JSON, consultez **Remplacements de stratégies** ci-dessous</span><span class="sxs-lookup"><span data-stu-id="c6725-145">JSON structure, see **Policy Overrides** below</span></span> |<span data-ttu-id="c6725-146">Paramètres de stratégie pour cette licence.</span><span class="sxs-lookup"><span data-stu-id="c6725-146">Policy settings for this license.</span></span>  <span data-ttu-id="c6725-147">En cas de hello cette ressource a une stratégie prédéfinie, ces valeurs spécifiés seront utilisés.</span><span class="sxs-lookup"><span data-stu-id="c6725-147">In hello event this asset has a pre-defined policy, these specified values will be used.</span></span> |
| <span data-ttu-id="c6725-148">session_init</span><span class="sxs-lookup"><span data-stu-id="c6725-148">session_init</span></span> |<span data-ttu-id="c6725-149">Structure JSON, consultez **Initialisation de la session** ci-dessous</span><span class="sxs-lookup"><span data-stu-id="c6725-149">JSON structure, see **Session Initialization** below</span></span> |<span data-ttu-id="c6725-150">Données facultatives passé toolicense.</span><span class="sxs-lookup"><span data-stu-id="c6725-150">Optional data passed toolicense.</span></span> |
| <span data-ttu-id="c6725-151">parse_only</span><span class="sxs-lookup"><span data-stu-id="c6725-151">parse_only</span></span> |<span data-ttu-id="c6725-152">booléen.</span><span class="sxs-lookup"><span data-stu-id="c6725-152">boolean.</span></span> <span data-ttu-id="c6725-153">true ou false</span><span class="sxs-lookup"><span data-stu-id="c6725-153">true or false</span></span> |<span data-ttu-id="c6725-154">demande de licence Hello est analysée, mais aucune licence n’est émise.</span><span class="sxs-lookup"><span data-stu-id="c6725-154">hello license request is parsed but no license is issued.</span></span> <span data-ttu-id="c6725-155">Toutefois, la demande de licence de valeurs écran hello sont retournées dans la réponse de hello.</span><span class="sxs-lookup"><span data-stu-id="c6725-155">However, values form hello license request are returned in hello response.</span></span> |

## <a name="content-key-specs"></a><span data-ttu-id="c6725-156">Spécifications de clé de contenu</span><span class="sxs-lookup"><span data-stu-id="c6725-156">Content Key Specs</span></span>
<span data-ttu-id="c6725-157">Si une stratégie préexistante existe, il n’existe aucun toospecify besoin de hello valeur hello spécification de clé de contenu.  stratégie préexistant de Hello associée à ce contenu sera utilisé toodetermine hello sortie protection telles que HDCP et CGMS.</span><span class="sxs-lookup"><span data-stu-id="c6725-157">If a pre-existing policy exist, there is no need toospecify any of hello values in hello Content Key Spec.  hello pre-existing policy associated with this content will be used toodetermine hello output protection such as HDCP and CGMS.</span></span>  <span data-ttu-id="c6725-158">Si une stratégie déjà existante n’est pas inscrit avec le serveur de licences Widevine de hello, fournisseur de contenu hello peut injecter des valeurs de hello dans la demande de licence hello.</span><span class="sxs-lookup"><span data-stu-id="c6725-158">If a pre-existing policy is not registered with hello Widevine License Server, hello content provider can inject hello values into hello license request.</span></span>   

<span data-ttu-id="c6725-159">Chaque content_key_specs doit être spécifié pour toutes les pistes, quel que soit hello option use_policy_overrides_exclusively.</span><span class="sxs-lookup"><span data-stu-id="c6725-159">Each content_key_specs must be specified for all tracks, regardless of hello option use_policy_overrides_exclusively.</span></span> 

| <span data-ttu-id="c6725-160">Nom</span><span class="sxs-lookup"><span data-stu-id="c6725-160">Name</span></span> | <span data-ttu-id="c6725-161">Valeur</span><span class="sxs-lookup"><span data-stu-id="c6725-161">Value</span></span> | <span data-ttu-id="c6725-162">Description</span><span class="sxs-lookup"><span data-stu-id="c6725-162">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c6725-163">content_key_specs.</span><span class="sxs-lookup"><span data-stu-id="c6725-163">content_key_specs.</span></span> <span data-ttu-id="c6725-164">track_type</span><span class="sxs-lookup"><span data-stu-id="c6725-164">track_type</span></span> |<span data-ttu-id="c6725-165">string</span><span class="sxs-lookup"><span data-stu-id="c6725-165">string</span></span> |<span data-ttu-id="c6725-166">Un nom de type de piste.</span><span class="sxs-lookup"><span data-stu-id="c6725-166">A track type name.</span></span> <span data-ttu-id="c6725-167">Si content_key_specs est spécifié dans la demande de licence hello, assurez-vous que toospecify que tous le suivi types explicitement.</span><span class="sxs-lookup"><span data-stu-id="c6725-167">If content_key_specs is specified in hello license request, make sure toospecify all track types explicitly.</span></span> <span data-ttu-id="c6725-168">Échec toodo entraînerait échec tooplayback dernières 10 secondes.</span><span class="sxs-lookup"><span data-stu-id="c6725-168">Failure toodo so will result in failure tooplayback past 10 seconds.</span></span> |
| <span data-ttu-id="c6725-169">content_key_specs</span><span class="sxs-lookup"><span data-stu-id="c6725-169">content_key_specs</span></span>  <br/> <span data-ttu-id="c6725-170">security_level</span><span class="sxs-lookup"><span data-stu-id="c6725-170">security_level</span></span> |<span data-ttu-id="c6725-171">uint32</span><span class="sxs-lookup"><span data-stu-id="c6725-171">uint32</span></span> |<span data-ttu-id="c6725-172">Définit la configuration requise de robustesse du client pour la lecture.</span><span class="sxs-lookup"><span data-stu-id="c6725-172">Defines client robustness requirements for playback.</span></span> <br/> <span data-ttu-id="c6725-173">1 - Chiffrement whitebox logiciel requis.</span><span class="sxs-lookup"><span data-stu-id="c6725-173">1 - Software-based whitebox crypto is required.</span></span> <br/> <span data-ttu-id="c6725-174">2 - Chiffrement logiciel et décodeur masqué requis.</span><span class="sxs-lookup"><span data-stu-id="c6725-174">2 - Software crypto and an obfuscated decoder is required.</span></span> <br/> <span data-ttu-id="c6725-175">3 - opérations de matériel et de services de chiffrement de clé hello doivent être effectuées dans un environnement d’exécution approuvé sauvegardées matériel.</span><span class="sxs-lookup"><span data-stu-id="c6725-175">3 - hello key material and crypto operations must be performed within a hardware backed trusted execution environment.</span></span> <br/> <span data-ttu-id="c6725-176">4 - hello chiffrement et de décodage du contenu doit être effectuée dans un environnement d’exécution approuvé sauvegardées matériel.</span><span class="sxs-lookup"><span data-stu-id="c6725-176">4 - hello crypto and decoding of content must be performed within a hardware backed trusted execution environment.</span></span>  <br/> <span data-ttu-id="c6725-177">5 - hello crypto, décodage et tous les gestion des média hello (compressé et décompressé) doit être gérée dans un environnement d’exécution approuvé sauvegardées matériel.</span><span class="sxs-lookup"><span data-stu-id="c6725-177">5 - hello crypto, decoding and all handling of hello media (compressed and uncompressed) must be handled within a hardware backed trusted execution environment.</span></span> |
| <span data-ttu-id="c6725-178">content_key_specs</span><span class="sxs-lookup"><span data-stu-id="c6725-178">content_key_specs</span></span> <br/> <span data-ttu-id="c6725-179">required_output_protection.hdc</span><span class="sxs-lookup"><span data-stu-id="c6725-179">required_output_protection.hdc</span></span> |<span data-ttu-id="c6725-180">string - une des options : HDCP_NONE, HDCP_V1, HDCP_V2</span><span class="sxs-lookup"><span data-stu-id="c6725-180">string - one of: HDCP_NONE, HDCP_V1, HDCP_V2</span></span> |<span data-ttu-id="c6725-181">Indique si HDCP est requis</span><span class="sxs-lookup"><span data-stu-id="c6725-181">Indicates whether HDCP is require</span></span> |
| <span data-ttu-id="c6725-182">content_key_specs</span><span class="sxs-lookup"><span data-stu-id="c6725-182">content_key_specs</span></span> <br/><span data-ttu-id="c6725-183">key</span><span class="sxs-lookup"><span data-stu-id="c6725-183">key</span></span> |<span data-ttu-id="c6725-184">Chaîne </span><span class="sxs-lookup"><span data-stu-id="c6725-184">Base64</span></span> <br/><span data-ttu-id="c6725-185">encodée Base64</span><span class="sxs-lookup"><span data-stu-id="c6725-185">encoded string</span></span> |<span data-ttu-id="c6725-186">Toouse de clé de contenu pour cette piste. Si spécifié, hello track_type ou ID est requis.</span><span class="sxs-lookup"><span data-stu-id="c6725-186">Content key toouse for this track. If specified, hello track_type or key_id is required.</span></span>  <span data-ttu-id="c6725-187">Cette option permet de fournisseur de contenu hello tooinject clé de contenu hello pour cette piste au lieu de laisser le serveur de licences Widevine générer ou de recherche d’une clé.</span><span class="sxs-lookup"><span data-stu-id="c6725-187">This option allows hello content provider tooinject hello content key for this track instead of letting Widevine license server generate or lookup a key.</span></span> |
| <span data-ttu-id="c6725-188">content_key_specs.key_id</span><span class="sxs-lookup"><span data-stu-id="c6725-188">content_key_specs.key_id</span></span> |<span data-ttu-id="c6725-189">Chaîne binaire encodée Base64, 16 octets</span><span class="sxs-lookup"><span data-stu-id="c6725-189">Base64 encoded string  binary, 16 bytes</span></span> |<span data-ttu-id="c6725-190">Identificateur unique pour la clé de hello.</span><span class="sxs-lookup"><span data-stu-id="c6725-190">Unique identifier for hello key.</span></span> |

## <a name="policy-overrides"></a><span data-ttu-id="c6725-191">Remplacements de stratégies</span><span class="sxs-lookup"><span data-stu-id="c6725-191">Policy Overrides</span></span>
| <span data-ttu-id="c6725-192">Nom</span><span class="sxs-lookup"><span data-stu-id="c6725-192">Name</span></span> | <span data-ttu-id="c6725-193">Valeur</span><span class="sxs-lookup"><span data-stu-id="c6725-193">Value</span></span> | <span data-ttu-id="c6725-194">Description</span><span class="sxs-lookup"><span data-stu-id="c6725-194">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c6725-195">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="c6725-195">policy_overrides.</span></span> <span data-ttu-id="c6725-196">can_play</span><span class="sxs-lookup"><span data-stu-id="c6725-196">can_play</span></span> |<span data-ttu-id="c6725-197">booléen.</span><span class="sxs-lookup"><span data-stu-id="c6725-197">boolean.</span></span> <span data-ttu-id="c6725-198">true ou false</span><span class="sxs-lookup"><span data-stu-id="c6725-198">true or false</span></span> |<span data-ttu-id="c6725-199">Indique que la lecture de hello du contenu est autorisée.</span><span class="sxs-lookup"><span data-stu-id="c6725-199">Indicates that playback of hello content is allowed.</span></span> <span data-ttu-id="c6725-200">La valeur par défaut est false.</span><span class="sxs-lookup"><span data-stu-id="c6725-200">Default is false.</span></span> |
| <span data-ttu-id="c6725-201">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="c6725-201">policy_overrides.</span></span> <span data-ttu-id="c6725-202">can_persist</span><span class="sxs-lookup"><span data-stu-id="c6725-202">can_persist</span></span> |<span data-ttu-id="c6725-203">booléen.</span><span class="sxs-lookup"><span data-stu-id="c6725-203">boolean.</span></span> <span data-ttu-id="c6725-204">true ou false</span><span class="sxs-lookup"><span data-stu-id="c6725-204">true or false</span></span> |<span data-ttu-id="c6725-205">Indique cette licence hello peut être un stockage volatile toonon persistant pour une utilisation hors connexion.</span><span class="sxs-lookup"><span data-stu-id="c6725-205">Indicates that hello license may be persisted toonon-volatile storage for offline use.</span></span> <span data-ttu-id="c6725-206">La valeur par défaut est false.</span><span class="sxs-lookup"><span data-stu-id="c6725-206">Default is false.</span></span> |
| <span data-ttu-id="c6725-207">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="c6725-207">policy_overrides.</span></span> <span data-ttu-id="c6725-208">can_renew</span><span class="sxs-lookup"><span data-stu-id="c6725-208">can_renew</span></span> |<span data-ttu-id="c6725-209">booléen, true ou false</span><span class="sxs-lookup"><span data-stu-id="c6725-209">boolean true or false</span></span> |<span data-ttu-id="c6725-210">Indique que le renouvellement de cette licence est autorisé.</span><span class="sxs-lookup"><span data-stu-id="c6725-210">Indicates that renewal of this license is allowed.</span></span> <span data-ttu-id="c6725-211">Si la valeur est true, la durée hello de licence de hello peut être étendue par pulsation.</span><span class="sxs-lookup"><span data-stu-id="c6725-211">If true, hello duration of hello license can be extended by heartbeat.</span></span> <span data-ttu-id="c6725-212">La valeur par défaut est false.</span><span class="sxs-lookup"><span data-stu-id="c6725-212">Default is false.</span></span> |
| <span data-ttu-id="c6725-213">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="c6725-213">policy_overrides.</span></span> <span data-ttu-id="c6725-214">license_duration_seconds</span><span class="sxs-lookup"><span data-stu-id="c6725-214">license_duration_seconds</span></span> |<span data-ttu-id="c6725-215">int64</span><span class="sxs-lookup"><span data-stu-id="c6725-215">int64</span></span> |<span data-ttu-id="c6725-216">Indique la fenêtre de temps hello pour cette licence spécifique.</span><span class="sxs-lookup"><span data-stu-id="c6725-216">Indicates hello time window for this specific license.</span></span> <span data-ttu-id="c6725-217">La valeur 0 indique qu’il n’y a aucune durée de toohello limite.</span><span class="sxs-lookup"><span data-stu-id="c6725-217">A value of 0 indicates that there is no limit toohello duration.</span></span> <span data-ttu-id="c6725-218">La valeur par défaut est 0.</span><span class="sxs-lookup"><span data-stu-id="c6725-218">Default is 0.</span></span> |
| <span data-ttu-id="c6725-219">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="c6725-219">policy_overrides.</span></span> <span data-ttu-id="c6725-220">rental_duration_seconds</span><span class="sxs-lookup"><span data-stu-id="c6725-220">rental_duration_seconds</span></span> |<span data-ttu-id="c6725-221">int64</span><span class="sxs-lookup"><span data-stu-id="c6725-221">int64</span></span> |<span data-ttu-id="c6725-222">Indique la fenêtre de temps hello lors de la lecture est autorisée.</span><span class="sxs-lookup"><span data-stu-id="c6725-222">Indicates hello time window while playback is permitted.</span></span> <span data-ttu-id="c6725-223">La valeur 0 indique qu’il n’y a aucune durée de toohello limite.</span><span class="sxs-lookup"><span data-stu-id="c6725-223">A value of 0 indicates that there is no limit toohello duration.</span></span> <span data-ttu-id="c6725-224">La valeur par défaut est 0.</span><span class="sxs-lookup"><span data-stu-id="c6725-224">Default is 0.</span></span> |
| <span data-ttu-id="c6725-225">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="c6725-225">policy_overrides.</span></span> <span data-ttu-id="c6725-226">playback_duration_seconds</span><span class="sxs-lookup"><span data-stu-id="c6725-226">playback_duration_seconds</span></span> |<span data-ttu-id="c6725-227">int64</span><span class="sxs-lookup"><span data-stu-id="c6725-227">int64</span></span> |<span data-ttu-id="c6725-228">Hello d’affichage de la fenêtre de temps après le démarrage de la lecture au sein de la durée de licence hello.</span><span class="sxs-lookup"><span data-stu-id="c6725-228">hello viewing window of time once playback starts within hello license duration.</span></span> <span data-ttu-id="c6725-229">La valeur 0 indique qu’il n’y a aucune durée de toohello limite.</span><span class="sxs-lookup"><span data-stu-id="c6725-229">A value of 0 indicates that there is no limit toohello duration.</span></span> <span data-ttu-id="c6725-230">La valeur par défaut est 0.</span><span class="sxs-lookup"><span data-stu-id="c6725-230">Default is 0.</span></span> |
| <span data-ttu-id="c6725-231">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="c6725-231">policy_overrides.</span></span> <span data-ttu-id="c6725-232">renewal_server_url</span><span class="sxs-lookup"><span data-stu-id="c6725-232">renewal_server_url</span></span> |<span data-ttu-id="c6725-233">string</span><span class="sxs-lookup"><span data-stu-id="c6725-233">string</span></span> |<span data-ttu-id="c6725-234">Toutes les demandes de pulsation (renouvellement) de cette licence doivent être dirigées toohello spécifié l’URL.</span><span class="sxs-lookup"><span data-stu-id="c6725-234">All heartbeat (renewal) requests for this license shall be directed toohello specified URL.</span></span> <span data-ttu-id="c6725-235">Ce champ est utilisé uniquement si can_renew a la valeur true.</span><span class="sxs-lookup"><span data-stu-id="c6725-235">This field is only used if can_renew is true.</span></span> |
| <span data-ttu-id="c6725-236">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="c6725-236">policy_overrides.</span></span> <span data-ttu-id="c6725-237">renewal_delay_seconds</span><span class="sxs-lookup"><span data-stu-id="c6725-237">renewal_delay_seconds</span></span> |<span data-ttu-id="c6725-238">int64</span><span class="sxs-lookup"><span data-stu-id="c6725-238">int64</span></span> |<span data-ttu-id="c6725-239">Nombre de secondes après license_start_time avant la première tentative de renouvellement.</span><span class="sxs-lookup"><span data-stu-id="c6725-239">How many seconds after license_start_time, before renewal is first attempted.</span></span> <span data-ttu-id="c6725-240">Ce champ est utilisé uniquement si can_renew a la valeur true.</span><span class="sxs-lookup"><span data-stu-id="c6725-240">This field is only used if can_renew is true.</span></span> <span data-ttu-id="c6725-241">La valeur par défaut est 0</span><span class="sxs-lookup"><span data-stu-id="c6725-241">Default is 0</span></span> |
| <span data-ttu-id="c6725-242">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="c6725-242">policy_overrides.</span></span> <span data-ttu-id="c6725-243">renewal_retry_interval_seconds</span><span class="sxs-lookup"><span data-stu-id="c6725-243">renewal_retry_interval_seconds</span></span> |<span data-ttu-id="c6725-244">int64</span><span class="sxs-lookup"><span data-stu-id="c6725-244">int64</span></span> |<span data-ttu-id="c6725-245">Spécifie le délai de hello en secondes entre les demandes de renouvellement de licence suivants, en cas d’échec.</span><span class="sxs-lookup"><span data-stu-id="c6725-245">Specifies hello delay in seconds between subsequent license renewal requests, in case of failure.</span></span> <span data-ttu-id="c6725-246">Ce champ est utilisé uniquement si can_renew a la valeur true.</span><span class="sxs-lookup"><span data-stu-id="c6725-246">This field is only used if can_renew is true.</span></span> |
| <span data-ttu-id="c6725-247">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="c6725-247">policy_overrides.</span></span> <span data-ttu-id="c6725-248">renewal_recovery_duration_seconds</span><span class="sxs-lookup"><span data-stu-id="c6725-248">renewal_recovery_duration_seconds</span></span> |<span data-ttu-id="c6725-249">int64</span><span class="sxs-lookup"><span data-stu-id="c6725-249">int64</span></span> |<span data-ttu-id="c6725-250">fenêtre Hello d’exécution, dans laquelle la lecture autorisée toocontinue lors de renouvellement est tentée, encore échoue en raison de problèmes toobackend avec le serveur de licences hello.</span><span class="sxs-lookup"><span data-stu-id="c6725-250">hello window of time, in which playback is allowed toocontinue while renewal is attempted, yet unsuccessful due toobackend problems with hello license server.</span></span> <span data-ttu-id="c6725-251">La valeur 0 indique qu’il n’y a aucune durée de toohello limite.</span><span class="sxs-lookup"><span data-stu-id="c6725-251">A value of 0 indicates that there is no limit toohello duration.</span></span> <span data-ttu-id="c6725-252">Ce champ est utilisé uniquement si can_renew a la valeur true.</span><span class="sxs-lookup"><span data-stu-id="c6725-252">This field is only used if can_renew is true.</span></span> |
| <span data-ttu-id="c6725-253">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="c6725-253">policy_overrides.</span></span> <span data-ttu-id="c6725-254">renew_with_usage</span><span class="sxs-lookup"><span data-stu-id="c6725-254">renew_with_usage</span></span> |<span data-ttu-id="c6725-255">booléen, true ou false</span><span class="sxs-lookup"><span data-stu-id="c6725-255">boolean true or false</span></span> |<span data-ttu-id="c6725-256">Indique que cette licence hello est envoyée pour le renouvellement au démarrage de l’utilisation.</span><span class="sxs-lookup"><span data-stu-id="c6725-256">Indicates that hello license shall be sent for renewal when usage is started.</span></span> <span data-ttu-id="c6725-257">Ce champ est utilisé uniquement si can_renew a la valeur true.</span><span class="sxs-lookup"><span data-stu-id="c6725-257">This field is only used if can_renew is true.</span></span> |

## <a name="session-initialization"></a><span data-ttu-id="c6725-258">Initialisation de la session</span><span class="sxs-lookup"><span data-stu-id="c6725-258">Session Initialization</span></span>
| <span data-ttu-id="c6725-259">Nom</span><span class="sxs-lookup"><span data-stu-id="c6725-259">Name</span></span> | <span data-ttu-id="c6725-260">Valeur</span><span class="sxs-lookup"><span data-stu-id="c6725-260">Value</span></span> | <span data-ttu-id="c6725-261">Description</span><span class="sxs-lookup"><span data-stu-id="c6725-261">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c6725-262">provider_session_token</span><span class="sxs-lookup"><span data-stu-id="c6725-262">provider_session_token</span></span> |<span data-ttu-id="c6725-263">Chaîne encodée Base64</span><span class="sxs-lookup"><span data-stu-id="c6725-263">Base64 encoded string</span></span> |<span data-ttu-id="c6725-264">Ce jeton de session a été retourné dans la licence de hello et se trouvent dans les renouvellements suivants.</span><span class="sxs-lookup"><span data-stu-id="c6725-264">This session token is passed back in hello license and will exist in subsequent renewals.</span></span>  <span data-ttu-id="c6725-265">jeton de session Hello n’est pas persistante au-delà de sessions.</span><span class="sxs-lookup"><span data-stu-id="c6725-265">hello session token will not persist beyond sessions.</span></span> |
| <span data-ttu-id="c6725-266">provider_client_token</span><span class="sxs-lookup"><span data-stu-id="c6725-266">provider_client_token</span></span> |<span data-ttu-id="c6725-267">Chaîne encodée Base64</span><span class="sxs-lookup"><span data-stu-id="c6725-267">Base64 encoded string</span></span> |<span data-ttu-id="c6725-268">Client toosend jeton en réponse de licence hello.</span><span class="sxs-lookup"><span data-stu-id="c6725-268">Client token toosend back in hello license response.</span></span>  <span data-ttu-id="c6725-269">Si la demande de licence hello contient un jeton du client, cette valeur est ignorée.</span><span class="sxs-lookup"><span data-stu-id="c6725-269">If hello license request contains a client token, this value is ignored.</span></span> <span data-ttu-id="c6725-270">jeton Hello du client est conservées au-delà de sessions de licence.</span><span class="sxs-lookup"><span data-stu-id="c6725-270">hello client token will persist beyond license sessions.</span></span> |
| <span data-ttu-id="c6725-271">override_provider_client_token</span><span class="sxs-lookup"><span data-stu-id="c6725-271">override_provider_client_token</span></span> |<span data-ttu-id="c6725-272">booléen.</span><span class="sxs-lookup"><span data-stu-id="c6725-272">boolean.</span></span> <span data-ttu-id="c6725-273">true ou false</span><span class="sxs-lookup"><span data-stu-id="c6725-273">true or false</span></span> |<span data-ttu-id="c6725-274">Si la demande de licence false et hello contient un jeton de client, utilisez jeton hello à partir de la demande de hello même si un jeton du client a été spécifié dans cette structure.</span><span class="sxs-lookup"><span data-stu-id="c6725-274">If false and hello license request contains a client token, use hello token from hello request even if a client token was specified in this structure.</span></span>  <span data-ttu-id="c6725-275">Si la valeur est true, utilisez toujours le jeton hello spécifié dans cette structure.</span><span class="sxs-lookup"><span data-stu-id="c6725-275">If true, always use hello token specified in this structure.</span></span> |

## <a name="configure-your-widevine-licenses-using-net-types"></a><span data-ttu-id="c6725-276">Configuration de vos licences Widevine à l'aide des types .NET</span><span class="sxs-lookup"><span data-stu-id="c6725-276">Configure your Widevine licenses using .NET types</span></span>
<span data-ttu-id="c6725-277">Media Services propose des API .NET qui vous permettent de configurer vos licences Widevine.</span><span class="sxs-lookup"><span data-stu-id="c6725-277">Media Services provides .NET APIs that let you configure your Widevine licenses.</span></span> 

### <a name="classes-as-defined-in-hello-media-services-net-sdk"></a><span data-ttu-id="c6725-278">Classes définies dans hello Media Services .NET SDK</span><span class="sxs-lookup"><span data-stu-id="c6725-278">Classes as defined in hello Media Services .NET SDK</span></span>
<span data-ttu-id="c6725-279">Hello Voici les définitions de ces types hello.</span><span class="sxs-lookup"><span data-stu-id="c6725-279">hello following are hello definitions of these types.</span></span>

    public class WidevineMessage
    {
        public WidevineMessage();

        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public AllowedTrackTypes? allowed_track_types { get; set; }
        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public ContentKeySpecs[] content_key_specs { get; set; }
        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public object policy_overrides { get; set; }
    }

    [JsonConverter(typeof(StringEnumConverter))]
    public enum AllowedTrackTypes
    {
        SD_ONLY = 0,
        SD_HD = 1
    }
    public class ContentKeySpecs
    {
        public ContentKeySpecs();

        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public string key_id { get; set; }
        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public RequiredOutputProtection required_output_protection { get; set; }
        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public int? security_level { get; set; }
        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public string track_type { get; set; }
    }

    public class RequiredOutputProtection
    {
        public RequiredOutputProtection();

        public Hdcp hdcp { get; set; }
    }

    [JsonConverter(typeof(StringEnumConverter))]
    public enum Hdcp
    {
        HDCP_NONE = 0,
        HDCP_V1 = 1,
        HDCP_V2 = 2
    }

### <a name="example"></a><span data-ttu-id="c6725-280">Exemple</span><span class="sxs-lookup"><span data-stu-id="c6725-280">Example</span></span>
<span data-ttu-id="c6725-281">Hello suivant montre l’exemple de comment toouse API .NET tooconfigure une licence Widevine simple.</span><span class="sxs-lookup"><span data-stu-id="c6725-281">hello following example shows how toouse .NET APIs tooconfigure  a simple Widevine license.</span></span>

    private static string ConfigureWidevineLicenseTemplate()
    {
        var template = new WidevineMessage
        {
            allowed_track_types = AllowedTrackTypes.SD_HD,
            content_key_specs = new[]
            {
                new ContentKeySpecs
                {
                    required_output_protection = new RequiredOutputProtection { hdcp = Hdcp.HDCP_NONE},
                    security_level = 1,
                    track_type = "SD"
                }
            },
            policy_overrides = new
            {
                can_play = true,
                can_persist = true,
                can_renew = false
            }
        };

        string configuration = JsonConvert.SerializeObject(template);
        return configuration;
    }


## <a name="media-services-learning-paths"></a><span data-ttu-id="c6725-282">Parcours d’apprentissage de Media Services</span><span class="sxs-lookup"><span data-stu-id="c6725-282">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="c6725-283">Fournir des commentaires</span><span class="sxs-lookup"><span data-stu-id="c6725-283">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="see-also"></a><span data-ttu-id="c6725-284">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="c6725-284">See also</span></span>
[<span data-ttu-id="c6725-285">Utilisation du chiffrement commun dynamique PlayReady et/ou Widevine</span><span class="sxs-lookup"><span data-stu-id="c6725-285">Using PlayReady and/or Widevine Dynamic Common Encryption</span></span>](media-services-protect-with-drm.md)

