---
title: "aaaAccess API Azure Media Services avec l’authentification Azure Active Directory | Documents Microsoft"
description: "Découvrez les concepts et les étapes tootake toouse Azure Active Directory (Azure AD) tooauthenticate accès toohello API Azure Media Services."
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/17/2017
ms.author: juliako
ms.openlocfilehash: bb8f75f39100dc37098260c24ab4a199ef689d46
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="access-hello-azure-media-services-api-with-azure-ad-authentication"></a><span data-ttu-id="6c01f-103">Hello d’accès API Azure Media Services avec l’authentification Azure AD</span><span class="sxs-lookup"><span data-stu-id="6c01f-103">Access hello Azure Media Services API with Azure AD authentication</span></span>
 
<span data-ttu-id="6c01f-104">Hello API Azure Media Services est une API RESTful.</span><span class="sxs-lookup"><span data-stu-id="6c01f-104">hello Azure Media Services API is a RESTful API.</span></span> <span data-ttu-id="6c01f-105">Vous pouvez l’utiliser tooperform des opérations sur les ressources de support à l’aide d’une API REST ou à l’aide de kits de développement logiciel client disponible.</span><span class="sxs-lookup"><span data-stu-id="6c01f-105">You can use it tooperform operations on media resources by using a REST API or by using available client SDKs.</span></span> <span data-ttu-id="6c01f-106">Azure Media Services propose un Kit de développement logiciel (SDK) client Media Services pour Microsoft .NET.</span><span class="sxs-lookup"><span data-stu-id="6c01f-106">Azure Media Services offers a Media Services client SDK for Microsoft .NET.</span></span> <span data-ttu-id="6c01f-107">toobe autorisé des ressources de Media Services tooaccess et hello API Media Services, vous devez tout d’abord être authentifié.</span><span class="sxs-lookup"><span data-stu-id="6c01f-107">toobe authorized tooaccess Media Services resources and hello Media Services API, you must first be authenticated.</span></span> 

<span data-ttu-id="6c01f-108">Media Services prend en charge l’[authentification avec Azure Active Directory (Azure AD)](../active-directory/active-directory-whatis.md).</span><span class="sxs-lookup"><span data-stu-id="6c01f-108">Media Services supports [Azure Active Directory (Azure AD)-based authentication](../active-directory/active-directory-whatis.md).</span></span> <span data-ttu-id="6c01f-109">Hello service REST de média Azure requiert que soit hello utilisateur de hello ou une application qui effectue des demandes d’API REST hello **collaborateur** ou **propriétaire** rôle tooaccess hello des ressources.</span><span class="sxs-lookup"><span data-stu-id="6c01f-109">hello Azure Media REST service requires that hello user or application that makes hello REST API requests have either hello **Contributor** or **Owner** role tooaccess hello resources.</span></span> <span data-ttu-id="6c01f-110">Pour plus d’informations, consultez [prise en main le contrôle d’accès en fonction du rôle Bonjour Azure portal](../active-directory/role-based-access-control-what-is.md).</span><span class="sxs-lookup"><span data-stu-id="6c01f-110">For more information, see [Get started with Role-Based Access Control in hello Azure portal](../active-directory/role-based-access-control-what-is.md).</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="6c01f-111">Actuellement, Media Services prend en charge le modèle d’authentification hello Azure Access Control service.</span><span class="sxs-lookup"><span data-stu-id="6c01f-111">Currently, Media Services supports hello Azure Access Control service authentication model.</span></span> <span data-ttu-id="6c01f-112">Toutefois, l’autorisation Access Control sera déconseillée à compter du 1er juin 2018.</span><span class="sxs-lookup"><span data-stu-id="6c01f-112">However, Access Control authorization will be deprecated on June 1, 2018.</span></span> <span data-ttu-id="6c01f-113">Nous vous recommandons de migrer modèle d’authentification Azure AD de toohello dès que possible.</span><span class="sxs-lookup"><span data-stu-id="6c01f-113">We recommend that you migrate toohello Azure AD authentication model as soon as possible.</span></span>

<span data-ttu-id="6c01f-114">Ce document donne une vue d’ensemble de la façon dont tooaccess hello API Media Services à l’aide des API REST ou .NET.</span><span class="sxs-lookup"><span data-stu-id="6c01f-114">This document gives an overview of how tooaccess hello Media Services API by using REST or .NET APIs.</span></span>

## <a name="access-control"></a><span data-ttu-id="6c01f-115">Contrôle d’accès</span><span class="sxs-lookup"><span data-stu-id="6c01f-115">Access control</span></span>

<span data-ttu-id="6c01f-116">Pour toosucceed de demande REST de Media Azure hello, utilisateur appelant de hello doit avoir un rôle de contributeur ou de propriétaire pour hello compte Media Services est la tentative de tooaccess.</span><span class="sxs-lookup"><span data-stu-id="6c01f-116">For hello Azure Media REST request toosucceed, hello calling user must have a Contributor or Owner role for hello Media Services account it is trying tooaccess.</span></span>  
<span data-ttu-id="6c01f-117">Seul un utilisateur avec le rôle de propriétaire hello peut donner media (compte) accès toonew les utilisateurs de ressources ou d’applications.</span><span class="sxs-lookup"><span data-stu-id="6c01f-117">Only a user with hello Owner role can give media resource (account) access toonew users or apps.</span></span> <span data-ttu-id="6c01f-118">rôle de collaborateur Hello accessible uniquement les ressources de support hello.</span><span class="sxs-lookup"><span data-stu-id="6c01f-118">hello Contributor role can access only hello media resource.</span></span>
<span data-ttu-id="6c01f-119">Les requêtes non autorisées échouent et génèrent le code d’état 401.</span><span class="sxs-lookup"><span data-stu-id="6c01f-119">Unauthorized requests fail, with status code of 401.</span></span> <span data-ttu-id="6c01f-120">Si vous voyez ce code d’erreur, vérifiez si l’utilisateur a hello contributeur ou rôle de propriétaire affecté hello compte d’utilisateur Media Services.</span><span class="sxs-lookup"><span data-stu-id="6c01f-120">If you see this error code, check whether your user has hello Contributor or Owner role assigned for hello user's Media Services account.</span></span> <span data-ttu-id="6c01f-121">Vous pouvez le vérifier dans hello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="6c01f-121">You can check this in hello Azure portal.</span></span> <span data-ttu-id="6c01f-122">Recherchez votre compte de média, puis cliquez sur hello **le contrôle d’accès** onglet.</span><span class="sxs-lookup"><span data-stu-id="6c01f-122">Search for your media account, and then click hello **Access control** tab.</span></span> 

![Onglet Contrôle d’accès](./media/media-services-use-aad-auth-to-access-ams-api/media-services-access-control.png)

## <a name="types-of-authentication"></a><span data-ttu-id="6c01f-124">Types d’authentification</span><span class="sxs-lookup"><span data-stu-id="6c01f-124">Types of authentication</span></span> 
 
<span data-ttu-id="6c01f-125">Lorsque vous utilisez l’authentification Azure AD avec Azure Media Services, vous disposez de deux options d’authentification :</span><span class="sxs-lookup"><span data-stu-id="6c01f-125">When you use Azure AD authentication with Azure Media Services, you have two authentication options:</span></span>

- <span data-ttu-id="6c01f-126">**Authentification utilisateur**.</span><span class="sxs-lookup"><span data-stu-id="6c01f-126">**User authentication**.</span></span> <span data-ttu-id="6c01f-127">Authentifier un utilisateur de hello application toointeract avec les ressources de Media Services.</span><span class="sxs-lookup"><span data-stu-id="6c01f-127">Authenticate a person who is using hello app toointeract with Media Services resources.</span></span> <span data-ttu-id="6c01f-128">application interactive Hello doit tout d’abord utilisateur hello pour les informations d’identification de l’utilisateur hello.</span><span class="sxs-lookup"><span data-stu-id="6c01f-128">hello interactive application should first prompt hello user for hello user's credentials.</span></span> <span data-ttu-id="6c01f-129">Un exemple est une application de console de gestion utilisée par les tâches d’encodage toomonitor des utilisateurs autorisés ou la diffusion en continu.</span><span class="sxs-lookup"><span data-stu-id="6c01f-129">An example is a management console app used by authorized users toomonitor encoding jobs or live streaming.</span></span> 
- <span data-ttu-id="6c01f-130">**Authentification d’un principal de service**.</span><span class="sxs-lookup"><span data-stu-id="6c01f-130">**Service principal authentication**.</span></span> <span data-ttu-id="6c01f-131">Authentifiez un service.</span><span class="sxs-lookup"><span data-stu-id="6c01f-131">Authenticate a service.</span></span> <span data-ttu-id="6c01f-132">Les applications qui utilisent généralement cette méthode d’authentification sont des applications qui exécutent des services démon, des services de niveau intermédiaire ou des travaux planifiés,</span><span class="sxs-lookup"><span data-stu-id="6c01f-132">Applications that commonly use this authentication method are apps that run daemon services, middle-tier services, or scheduled jobs.</span></span> <span data-ttu-id="6c01f-133">par exemple les applications web, les applications de fonction, les applications logiques, les API ou les microservices.</span><span class="sxs-lookup"><span data-stu-id="6c01f-133">Examples are web apps, function apps, logic apps, API, and microservices.</span></span>

### <a name="user-authentication"></a><span data-ttu-id="6c01f-134">Authentification utilisateur</span><span class="sxs-lookup"><span data-stu-id="6c01f-134">User authentication</span></span> 

<span data-ttu-id="6c01f-135">Les applications qui doivent utiliser de méthode d’authentification utilisateur hello sont gestion ou surveillance des applications natives : les applications mobiles, les applications Windows et les applications de Console.</span><span class="sxs-lookup"><span data-stu-id="6c01f-135">Applications that should use hello user authentication method are management or monitoring native apps: mobile apps, Windows apps, and Console applications.</span></span> <span data-ttu-id="6c01f-136">Ce type de solution est utile lorsque vous souhaitez que d’interaction humaine avec un service hello dans un des hello les scénarios suivants :</span><span class="sxs-lookup"><span data-stu-id="6c01f-136">This type of solution is useful when you want human interaction with hello service in one of hello following scenarios:</span></span>

- <span data-ttu-id="6c01f-137">Tableau de bord de surveillance pour vos travaux d’encodage.</span><span class="sxs-lookup"><span data-stu-id="6c01f-137">Monitoring dashboard for your encoding jobs.</span></span>
- <span data-ttu-id="6c01f-138">Tableau de bord de surveillance pour vos flux en direct.</span><span class="sxs-lookup"><span data-stu-id="6c01f-138">Monitoring dashboard for your live streams.</span></span>
- <span data-ttu-id="6c01f-139">Application de gestion des ressources de tooadminister les utilisateurs de bureau ou portable dans un compte Media Services.</span><span class="sxs-lookup"><span data-stu-id="6c01f-139">Management application for desktop or mobile users tooadminister resources in a Media Services account.</span></span>

> [!NOTE]
> <span data-ttu-id="6c01f-140">Cette méthode d’authentification ne doit pas être utilisée pour les applications accessibles aux consommateurs.</span><span class="sxs-lookup"><span data-stu-id="6c01f-140">This authentication method should not be used for consumer-facing applications.</span></span> 

<span data-ttu-id="6c01f-141">Une application native doit d’abord acquérir un jeton d’accès d’Azure AD et ensuite l’utiliser lorsque vous apportez des API REST de HTTP demandes toohello Media Services.</span><span class="sxs-lookup"><span data-stu-id="6c01f-141">A native application must first acquire an access token from Azure AD, and then use it when you make HTTP requests toohello Media Services REST API.</span></span> <span data-ttu-id="6c01f-142">Ajouter un en-tête de demande de jeton toohello accès hello.</span><span class="sxs-lookup"><span data-stu-id="6c01f-142">Add hello access token toohello request header.</span></span> 

<span data-ttu-id="6c01f-143">Hello suivant schéma montre un flux d’authentification classique application interactive :</span><span class="sxs-lookup"><span data-stu-id="6c01f-143">hello following diagram shows a typical interactive application authentication flow:</span></span> 

![Diagramme d’applications natives](./media/media-services-use-aad-auth-to-access-ams-api/media-services-native-aad-app1.png)

<span data-ttu-id="6c01f-145">Bonjour précédant le diagramme, hello nombres représentent des flux de hello de demandes hello dans l’ordre chronologique.</span><span class="sxs-lookup"><span data-stu-id="6c01f-145">In hello preceding diagram, hello numbers represent hello flow of hello requests in chronological order.</span></span>

> [!NOTE]
> <span data-ttu-id="6c01f-146">Lorsque vous utilisez la méthode d’authentification utilisateur hello, toutes les applications partagent hello même ID de client d’application native (par défaut) et l’application native URI de redirection.</span><span class="sxs-lookup"><span data-stu-id="6c01f-146">When you use hello user authentication method, all apps share hello same (default) native application client ID and native application redirect URI.</span></span> 

1. <span data-ttu-id="6c01f-147">Demandez à un utilisateur ses informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="6c01f-147">Prompt a user for credentials.</span></span>
2. <span data-ttu-id="6c01f-148">Demander un jeton d’accès Azure AD avec hello paramètres suivants :</span><span class="sxs-lookup"><span data-stu-id="6c01f-148">Request an Azure AD access token with hello following parameters:</span></span>  

    * <span data-ttu-id="6c01f-149">Point de terminaison de locataire Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6c01f-149">Azure AD tenant endpoint.</span></span>

        <span data-ttu-id="6c01f-150">les informations du locataire Hello peuvent être récupérées de hello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="6c01f-150">hello tenant information can be retrieved from hello Azure portal.</span></span> <span data-ttu-id="6c01f-151">Placez votre curseur sur le nom de hello de hello utilisateur connecté dans le coin supérieur droit de hello.</span><span class="sxs-lookup"><span data-stu-id="6c01f-151">Place your cursor over hello name of hello signed-in user in hello top right corner.</span></span>
    * <span data-ttu-id="6c01f-152">URI de ressource Media Services.</span><span class="sxs-lookup"><span data-stu-id="6c01f-152">Media Services resource URI.</span></span> 

        <span data-ttu-id="6c01f-153">Cet URI est hello même pour les comptes Media Services qui se trouvent dans hello même environnement Azure (par exemple, https://rest.media.azure.net).</span><span class="sxs-lookup"><span data-stu-id="6c01f-153">This URI is hello same for Media Services accounts that are in hello same Azure environment (for example, https://rest.media.azure.net).</span></span>

    * <span data-ttu-id="6c01f-154">ID client d’application Media Services (natif).</span><span class="sxs-lookup"><span data-stu-id="6c01f-154">Media Services (native) application client ID.</span></span>
    * <span data-ttu-id="6c01f-155">URI de redirection d’application Media Services (natif).</span><span class="sxs-lookup"><span data-stu-id="6c01f-155">Media Services (native) application redirect URI.</span></span>
    * <span data-ttu-id="6c01f-156">URI de ressource pour REST Media Services.</span><span class="sxs-lookup"><span data-stu-id="6c01f-156">Resource URI for REST Media Services.</span></span>
        
        <span data-ttu-id="6c01f-157">Hello URI représente le point de terminaison API REST hello (par exemple, https://test03.restv2.westus.media.azure.net/api/).</span><span class="sxs-lookup"><span data-stu-id="6c01f-157">hello URI represents hello REST API endpoint (for example, https://test03.restv2.westus.media.azure.net/api/).</span></span>

    <span data-ttu-id="6c01f-158">tooget des valeurs pour ces paramètres, consultez [utiliser les paramètres d’authentification tooaccess portail Azure AD Azure hello](media-services-portal-get-started-with-aad.md) à l’aide d’option d’authentification utilisateur hello.</span><span class="sxs-lookup"><span data-stu-id="6c01f-158">tooget values for these parameters, see [Use hello Azure portal tooaccess Azure AD authentication settings](media-services-portal-get-started-with-aad.md) using hello user authentication option.</span></span>

3. <span data-ttu-id="6c01f-159">jeton d’accès Azure AD de Hello est envoyée toohello client.</span><span class="sxs-lookup"><span data-stu-id="6c01f-159">hello Azure AD access token is sent toohello client.</span></span>
4. <span data-ttu-id="6c01f-160">Hello en envoyant une demande de toohello API REST de Azure Media avec un jeton d’accès hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6c01f-160">hello client sends a request toohello Azure Media REST API with hello Azure AD access token.</span></span>
5. <span data-ttu-id="6c01f-161">client de Hello récupère les données de salutation de Media Services.</span><span class="sxs-lookup"><span data-stu-id="6c01f-161">hello client gets back hello data from Media Services.</span></span>

<span data-ttu-id="6c01f-162">Pour plus d’informations sur comment toocommunicate d’authentification toouse Azure AD avec REST demande à l’aide de hello Media Services .NET client SDK, consultez [utilisent Azure AD authentication tooaccess hello API Media Services avec .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="6c01f-162">For information about how toouse Azure AD authentication toocommunicate with REST requests by using hello Media Services .NET client SDK, see [Use Azure AD authentication tooaccess hello Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span> 

<span data-ttu-id="6c01f-163">Si vous n’utilisez pas de client de Media Services .NET hello SDK, vous devez créer manuellement une demande de jeton d’accès Azure AD à l’aide de paramètres hello décrites à l’étape 2.</span><span class="sxs-lookup"><span data-stu-id="6c01f-163">If you are not using hello Media Services .NET client SDK, you must manually create an Azure AD access token request by using hello parameters described in step 2.</span></span> <span data-ttu-id="6c01f-164">Pour plus d’informations, consultez [comment toouse hello Azure AD Authentication Library tooget hello jeton Azure AD](../active-directory/develop/active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="6c01f-164">For more information, see [How toouse hello Azure AD Authentication Library tooget hello Azure AD token](../active-directory/develop/active-directory-authentication-libraries.md).</span></span>

### <a name="service-principal-authentication"></a><span data-ttu-id="6c01f-165">Authentification d’un principal du service</span><span class="sxs-lookup"><span data-stu-id="6c01f-165">Service principal authentication</span></span>

<span data-ttu-id="6c01f-166">Les applications qui utilisent généralement cette méthode d’authentification sont des applications qui exécutent des services de niveau intermédiaire et des travaux planifiés : applications web, applications de fonction, applications logiques, API et microservices.</span><span class="sxs-lookup"><span data-stu-id="6c01f-166">Applications that commonly use this authentication method are apps that run middle-tier services and scheduled jobs: web apps, function apps, logic apps, APIs, and microservices.</span></span> <span data-ttu-id="6c01f-167">Cette méthode d’authentification est également adaptée aux applications interactives dans laquelle vous souhaiterez toouse un compte de service toomanage ressources.</span><span class="sxs-lookup"><span data-stu-id="6c01f-167">This authentication method also is suitable for interactive applications in which you might want toouse a service account toomanage resources.</span></span>

<span data-ttu-id="6c01f-168">Lorsque vous utilisez des scénarios de consommateur hello service authentification principale méthode toobuild, l’authentification est généralement gérée dans la couche intermédiaire de hello (via une API) et non directement dans une application mobile ou de bureau.</span><span class="sxs-lookup"><span data-stu-id="6c01f-168">When you use hello service principal authentication method toobuild consumer scenarios, authentication typically is handled in hello middle tier (through some API) and not directly in a mobile or desktop application.</span></span> 

<span data-ttu-id="6c01f-169">toouse cette méthode, créez une application Azure AD et service principal dans son propre locataire.</span><span class="sxs-lookup"><span data-stu-id="6c01f-169">toouse this method, create an Azure AD application and service principal in its own tenant.</span></span> <span data-ttu-id="6c01f-170">Après avoir créé des application hello, donnez à hello application contributeur ou propriétaire du rôle accès toohello compte Media Services.</span><span class="sxs-lookup"><span data-stu-id="6c01f-170">After you create hello application, give hello app Contributor or Owner role access toohello Media Services account.</span></span> <span data-ttu-id="6c01f-171">Vous pouvez cela Bonjour portail Azure, à l’aide de CLI d’Azure, ou avec un script PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6c01f-171">You can do this in hello Azure portal, by using Azure CLI, or with a PowerShell script.</span></span> <span data-ttu-id="6c01f-172">Vous pouvez aussi utiliser une application Azure AD existante.</span><span class="sxs-lookup"><span data-stu-id="6c01f-172">You also can use an existing Azure AD application.</span></span> <span data-ttu-id="6c01f-173">Vous pouvez inscrire et gérer votre application Azure AD et votre service principal [Bonjour Azure portal](media-services-portal-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="6c01f-173">You can register and manage your Azure AD app and service principal [in hello Azure portal](media-services-portal-get-started-with-aad.md).</span></span> <span data-ttu-id="6c01f-174">Vous pouvez également le faire à l’aide d’[Azure CLI 2.0](media-services-use-aad-auth-to-access-ams-api.md) ou de [PowerShell](media-services-powershell-create-and-configure-aad-app.md).</span><span class="sxs-lookup"><span data-stu-id="6c01f-174">You also can do this by using [Azure CLI 2.0](media-services-use-aad-auth-to-access-ams-api.md) or [PowerShell](media-services-powershell-create-and-configure-aad-app.md).</span></span> 

![Applications de niveau intermédiaire](./media/media-services-use-aad-auth-to-access-ams-api/media-services-principal-service-aad-app1.png)

<span data-ttu-id="6c01f-176">Après avoir créé votre application Azure AD, vous obtenez les valeurs pour hello suivant les paramètres.</span><span class="sxs-lookup"><span data-stu-id="6c01f-176">After you create your Azure AD application, you get values for hello following settings.</span></span> <span data-ttu-id="6c01f-177">Vous avez besoin de ces valeurs pour l’authentification :</span><span class="sxs-lookup"><span data-stu-id="6c01f-177">You need these values for authentication:</span></span>

- <span data-ttu-id="6c01f-178">ID client</span><span class="sxs-lookup"><span data-stu-id="6c01f-178">Client ID</span></span> 
- <span data-ttu-id="6c01f-179">Clé secrète client</span><span class="sxs-lookup"><span data-stu-id="6c01f-179">Client secret</span></span> 

<span data-ttu-id="6c01f-180">Bonjour précédant figure, hello nombres représentent des flux de hello de demandes hello dans l’ordre chronologique :</span><span class="sxs-lookup"><span data-stu-id="6c01f-180">In hello preceding figure, hello numbers represent hello flow of hello requests in chronological order:</span></span>
    
1. <span data-ttu-id="6c01f-181">Une application de couche intermédiaire (API web ou une application web) demande un jeton d’accès Azure AD qui a hello paramètres suivants :</span><span class="sxs-lookup"><span data-stu-id="6c01f-181">A middle-tier app (web API or web application) requests an Azure AD access token that has hello following parameters:</span></span>  

    * <span data-ttu-id="6c01f-182">Point de terminaison de locataire Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6c01f-182">Azure AD tenant endpoint.</span></span>

        <span data-ttu-id="6c01f-183">les informations du locataire Hello peuvent être récupérées de hello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="6c01f-183">hello tenant information can be retrieved from hello Azure portal.</span></span> <span data-ttu-id="6c01f-184">Placez votre curseur sur le nom de hello de hello utilisateur connecté dans le coin supérieur droit de hello.</span><span class="sxs-lookup"><span data-stu-id="6c01f-184">Place your cursor over hello name of hello signed-in user in hello top right corner.</span></span>
    * <span data-ttu-id="6c01f-185">URI de ressource Media Services.</span><span class="sxs-lookup"><span data-stu-id="6c01f-185">Media Services resource URI.</span></span> 

        <span data-ttu-id="6c01f-186">Cet URI est hello même pour les comptes Media Services qui sont trouvent dans hello même environnement Azure (par exemple, https://rest.media.azure.net).</span><span class="sxs-lookup"><span data-stu-id="6c01f-186">This URI is hello same for Media Services accounts that are located in hello same Azure environment (for example, https://rest.media.azure.net).</span></span>

    * <span data-ttu-id="6c01f-187">URI de ressource pour REST Media Services.</span><span class="sxs-lookup"><span data-stu-id="6c01f-187">Resource URI for REST Media Services.</span></span>

        <span data-ttu-id="6c01f-188">Hello URI représente le point de terminaison API REST hello (par exemple, https://test03.restv2.westus.media.azure.net/api/).</span><span class="sxs-lookup"><span data-stu-id="6c01f-188">hello URI represents hello REST API endpoint (for example, https://test03.restv2.westus.media.azure.net/api/).</span></span>

    * <span data-ttu-id="6c01f-189">Valeurs de l’application Azure AD : hello ID client et question secrète du client.</span><span class="sxs-lookup"><span data-stu-id="6c01f-189">Azure AD application values: hello client ID and client secret.</span></span>
    
    <span data-ttu-id="6c01f-190">tooget des valeurs pour ces paramètres, consultez [utiliser les paramètres d’authentification tooaccess portail Azure AD Azure hello](media-services-portal-get-started-with-aad.md) en utilisant l’option de l’authentification du principal de service hello.</span><span class="sxs-lookup"><span data-stu-id="6c01f-190">tooget values for these parameters, see [Use hello Azure portal tooaccess Azure AD authentication settings](media-services-portal-get-started-with-aad.md) by using hello service principal authentication option.</span></span>

2. <span data-ttu-id="6c01f-191">jeton d’accès Azure AD de Hello est envoyée intermédiaire toohello.</span><span class="sxs-lookup"><span data-stu-id="6c01f-191">hello Azure AD access token is sent toohello middle tier.</span></span>
4. <span data-ttu-id="6c01f-192">niveau intermédiaire de Hello envoie la demande toohello API REST de Media Azure avec un jeton d’Azure AD hello.</span><span class="sxs-lookup"><span data-stu-id="6c01f-192">hello middle tier sends request toohello Azure Media REST API with hello Azure AD token.</span></span>
5. <span data-ttu-id="6c01f-193">niveau intermédiaire de Hello récupère les données de salutation de Media Services.</span><span class="sxs-lookup"><span data-stu-id="6c01f-193">hello middle tier gets back hello data from Media Services.</span></span>

<span data-ttu-id="6c01f-194">Pour plus d’informations sur la façon dont toocommunicate d’authentification toouse Azure AD avec REST demande à l’aide de hello Media Services .NET client SDK, consultez [utilisent Azure AD authentication tooaccess API Azure Media Services avec .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="6c01f-194">For more information about how toouse Azure AD authentication toocommunicate with REST requests by using hello Media Services .NET client SDK, see [Use Azure AD authentication tooaccess Azure Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span> 

<span data-ttu-id="6c01f-195">Si vous n’utilisez pas de client de Media Services .NET hello SDK, vous devez créer manuellement une demande de jeton Azure AD à l’aide des paramètres décrits à l’étape 1.</span><span class="sxs-lookup"><span data-stu-id="6c01f-195">If you are not using hello Media Services .NET client SDK, you must manually create an Azure AD token request by using parameters described in step 1.</span></span> <span data-ttu-id="6c01f-196">Pour plus d’informations, consultez [comment toouse hello Azure AD Authentication Library tooget hello jeton Azure AD](../active-directory/develop/active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="6c01f-196">For more information, see [How toouse hello Azure AD Authentication Library tooget hello Azure AD token](../active-directory/develop/active-directory-authentication-libraries.md).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="6c01f-197">Résolution des problèmes</span><span class="sxs-lookup"><span data-stu-id="6c01f-197">Troubleshooting</span></span>

<span data-ttu-id="6c01f-198">Exception : « à distance hello a renvoyé une erreur : (401) non autorisé. »</span><span class="sxs-lookup"><span data-stu-id="6c01f-198">Exception: "hello remote server returned an error: (401) Unauthorized."</span></span>

<span data-ttu-id="6c01f-199">Solution : Pour hello toosucceed de demande REST de Media Services, les utilisateur appelant hello doivent être un rôle de contributeur ou propriétaire Bonjour compte Media Services est la tentative de tooaccess.</span><span class="sxs-lookup"><span data-stu-id="6c01f-199">Solution: For hello Media Services REST request toosucceed, hello calling user must be a Contributor or Owner role in hello Media Services account it is trying tooaccess.</span></span> <span data-ttu-id="6c01f-200">Pour plus d’informations, consultez hello [le contrôle d’accès](media-services-use-aad-auth-to-access-ams-api.md#access-control) section.</span><span class="sxs-lookup"><span data-stu-id="6c01f-200">For more information, see hello [Access control](media-services-use-aad-auth-to-access-ams-api.md#access-control) section.</span></span>

## <a name="resources"></a><span data-ttu-id="6c01f-201">Ressources</span><span class="sxs-lookup"><span data-stu-id="6c01f-201">Resources</span></span>

<span data-ttu-id="6c01f-202">Hello suivant des articles des vues d’ensemble des concepts d’authentification Azure AD :</span><span class="sxs-lookup"><span data-stu-id="6c01f-202">hello following articles are overviews of Azure AD authentication concepts:</span></span> 

- [<span data-ttu-id="6c01f-203">Scénarios d’authentification pour Azure AD</span><span class="sxs-lookup"><span data-stu-id="6c01f-203">Authentication scenarios addressed by Azure AD</span></span>](../active-directory/develop/active-directory-authentication-scenarios.md#basics-of-authentication-in-azure-ad)
- <span data-ttu-id="6c01f-204">[Add, update, or remove an application in Azure AD](../active-directory/develop/active-directory-integrating-applications.md) (Ajouter, mettre à jour ou supprimer une application dans Azure AD)</span><span class="sxs-lookup"><span data-stu-id="6c01f-204">[Add, update, or remove an application in Azure AD](../active-directory/develop/active-directory-integrating-applications.md)</span></span>
- <span data-ttu-id="6c01f-205">[Configure and manage Role-Based Access Control by using PowerShell](../active-directory/role-based-access-control-manage-access-powershell.md) (Configurer et gérer le contrôle d’accès en fonction du rôle à l’aide de PowerShell)</span><span class="sxs-lookup"><span data-stu-id="6c01f-205">[Configure and manage Role-Based Access Control by using PowerShell](../active-directory/role-based-access-control-manage-access-powershell.md)</span></span>

## <a name="next-steps"></a><span data-ttu-id="6c01f-206">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="6c01f-206">Next steps</span></span>

* <span data-ttu-id="6c01f-207">Utilisez hello portail Azure trop[tooconsume d’authentification Azure AD Azure Media Services API d’accès](media-services-portal-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="6c01f-207">Use hello Azure portal too[access Azure AD authentication tooconsume Azure Media Services API](media-services-portal-get-started-with-aad.md).</span></span>
* <span data-ttu-id="6c01f-208">Utiliser l’authentification Azure AD trop[accéder aux API Azure Media Services avec .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="6c01f-208">Use Azure AD authentication too[access Azure Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span>

