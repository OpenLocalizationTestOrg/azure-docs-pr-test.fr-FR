---
title: "Accéder à une API Azure Media Services avec l’authentification Azure Active Directory | Microsoft Docs"
description: "Découvrez les concepts et les étapes à suivre pour utiliser Azure Active Directory (Azure AD) afin d’authentifier l’accès à l’API Azure Media Services."
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/17/2017
ms.author: juliako
ms.openlocfilehash: 0e1217afb0a37353793c64ae927b741d9fee4954
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/29/2017
---
# <a name="access-the-azure-media-services-api-with-azure-ad-authentication"></a><span data-ttu-id="a4ec9-103">Accéder à l’API Azure Media Services avec l’authentification Azure AD</span><span class="sxs-lookup"><span data-stu-id="a4ec9-103">Access the Azure Media Services API with Azure AD authentication</span></span>
 
<span data-ttu-id="a4ec9-104">L’API Azure Media Services est une API RESTful.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-104">The Azure Media Services API is a RESTful API.</span></span> <span data-ttu-id="a4ec9-105">Vous pouvez l’utiliser pour effectuer des opérations sur les ressources médias à l’aide d’une API REST ou à l’aide de Kits de développement logiciel (SDK) clients disponibles.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-105">You can use it to perform operations on media resources by using a REST API or by using available client SDKs.</span></span> <span data-ttu-id="a4ec9-106">Azure Media Services propose un Kit de développement logiciel (SDK) client Media Services pour Microsoft .NET.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-106">Azure Media Services offers a Media Services client SDK for Microsoft .NET.</span></span> <span data-ttu-id="a4ec9-107">Pour être autorisé à accéder aux ressources Media Services et à l’API Media Services, vous devez tout d’abord être authentifié.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-107">To be authorized to access Media Services resources and the Media Services API, you must first be authenticated.</span></span> 

<span data-ttu-id="a4ec9-108">Media Services prend en charge l’[authentification avec Azure Active Directory (Azure AD)](../active-directory/active-directory-whatis.md).</span><span class="sxs-lookup"><span data-stu-id="a4ec9-108">Media Services supports [Azure Active Directory (Azure AD)-based authentication](../active-directory/active-directory-whatis.md).</span></span> <span data-ttu-id="a4ec9-109">Le service REST Media Azure nécessite que l’utilisateur ou l’application effectuant les requêtes de l’API REST ait le rôle **Collaborateur** ou **Propriétaire** pour accéder aux ressources.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-109">The Azure Media REST service requires that the user or application that makes the REST API requests have either the **Contributor** or **Owner** role to access the resources.</span></span> <span data-ttu-id="a4ec9-110">Pour plus d’informations, consultez [Bien démarrer avec le contrôle d’accès en fonction du rôle dans le portail Azure](../active-directory/role-based-access-control-what-is.md).</span><span class="sxs-lookup"><span data-stu-id="a4ec9-110">For more information, see [Get started with Role-Based Access Control in the Azure portal](../active-directory/role-based-access-control-what-is.md).</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="a4ec9-111">À l’heure actuelle, Media Services prend en charge le modèle d’authentification du service Azure Access Control.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-111">Currently, Media Services supports the Azure Access Control service authentication model.</span></span> <span data-ttu-id="a4ec9-112">Toutefois, l’autorisation Access Control sera déconseillée à compter du 1er juin 2018.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-112">However, Access Control authorization will be deprecated on June 1, 2018.</span></span> <span data-ttu-id="a4ec9-113">Nous vous recommandons de migrer vers le modèle d’authentification Azure AD dès que possible.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-113">We recommend that you migrate to the Azure AD authentication model as soon as possible.</span></span>

<span data-ttu-id="a4ec9-114">Ce document donne une vue d’ensemble de l’accès à l’API Media Services à l’aide des API REST ou .NET.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-114">This document gives an overview of how to access the Media Services API by using REST or .NET APIs.</span></span>

## <a name="access-control"></a><span data-ttu-id="a4ec9-115">Contrôle d’accès</span><span class="sxs-lookup"><span data-stu-id="a4ec9-115">Access control</span></span>

<span data-ttu-id="a4ec9-116">Pour que la demande Azure Media REST réussisse, l’utilisateur appelant doit avoir un rôle Collaborateur ou Propriétaire pour le compte Media Services auquel il tente d’accéder.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-116">For the Azure Media REST request to succeed, the calling user must have a Contributor or Owner role for the Media Services account it is trying to access.</span></span>  
<span data-ttu-id="a4ec9-117">Seul un utilisateur avec le rôle Propriétaire peut donner accès aux ressources médias (compte) pour les nouveaux utilisateurs ou les nouvelles applications.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-117">Only a user with the Owner role can give media resource (account) access to new users or apps.</span></span> <span data-ttu-id="a4ec9-118">Le rôle Collaborateur ne peut accéder qu’à la ressource média.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-118">The Contributor role can access only the media resource.</span></span>
<span data-ttu-id="a4ec9-119">Les requêtes non autorisées échouent et génèrent le code d’état 401.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-119">Unauthorized requests fail, with status code of 401.</span></span> <span data-ttu-id="a4ec9-120">Si vous voyez ce code d’erreur, vérifiez que le rôle Collaborateur ou Propriétaire est assigné à votre utilisateur pour le compte Media Services de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-120">If you see this error code, check whether your user has the Contributor or Owner role assigned for the user's Media Services account.</span></span> <span data-ttu-id="a4ec9-121">Vous pouvez le vérifier dans le portail Azure.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-121">You can check this in the Azure portal.</span></span> <span data-ttu-id="a4ec9-122">Recherchez votre compte média, puis cliquez sur l’onglet **Contrôle d’accès**.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-122">Search for your media account, and then click the **Access control** tab.</span></span> 

![Onglet Contrôle d’accès](./media/media-services-use-aad-auth-to-access-ams-api/media-services-access-control.png)

## <a name="types-of-authentication"></a><span data-ttu-id="a4ec9-124">Types d’authentification</span><span class="sxs-lookup"><span data-stu-id="a4ec9-124">Types of authentication</span></span> 
 
<span data-ttu-id="a4ec9-125">Lorsque vous utilisez l’authentification Azure AD avec Azure Media Services, vous disposez de deux options d’authentification :</span><span class="sxs-lookup"><span data-stu-id="a4ec9-125">When you use Azure AD authentication with Azure Media Services, you have two authentication options:</span></span>

- <span data-ttu-id="a4ec9-126">**Authentification utilisateur**.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-126">**User authentication**.</span></span> <span data-ttu-id="a4ec9-127">Authentifiez une personne qui utilise l’application pour interagir avec les ressources Media Services.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-127">Authenticate a person who is using the app to interact with Media Services resources.</span></span> <span data-ttu-id="a4ec9-128">L’application interactive invite tout d’abord l’utilisateur à entrer ses informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-128">The interactive application should first prompt the user for the user's credentials.</span></span> <span data-ttu-id="a4ec9-129">Par exemple, une application de console de gestion peut être utilisée par les utilisateurs autorisés pour contrôler les travaux d’encodage ou de streaming en direct.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-129">An example is a management console app used by authorized users to monitor encoding jobs or live streaming.</span></span> 
- <span data-ttu-id="a4ec9-130">**Authentification d’un principal de service**.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-130">**Service principal authentication**.</span></span> <span data-ttu-id="a4ec9-131">Authentifiez un service.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-131">Authenticate a service.</span></span> <span data-ttu-id="a4ec9-132">Les applications qui utilisent généralement cette méthode d’authentification sont des applications qui exécutent des services démon, des services de niveau intermédiaire ou des travaux planifiés,</span><span class="sxs-lookup"><span data-stu-id="a4ec9-132">Applications that commonly use this authentication method are apps that run daemon services, middle-tier services, or scheduled jobs.</span></span> <span data-ttu-id="a4ec9-133">par exemple les applications web, les applications de fonction, les applications logiques, les API ou les microservices.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-133">Examples are web apps, function apps, logic apps, API, and microservices.</span></span>

### <a name="user-authentication"></a><span data-ttu-id="a4ec9-134">Authentification utilisateur</span><span class="sxs-lookup"><span data-stu-id="a4ec9-134">User authentication</span></span> 

<span data-ttu-id="a4ec9-135">Les applications qui doivent utiliser la méthode d’authentification utilisateur sont les applications natives de gestion ou de surveillance : applications mobiles, applications Windows et applications de console.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-135">Applications that should use the user authentication method are management or monitoring native apps: mobile apps, Windows apps, and Console applications.</span></span> <span data-ttu-id="a4ec9-136">Ce type de solution est utile lorsque vous souhaitez une interaction humaine avec le service dans l’un des scénarios suivants :</span><span class="sxs-lookup"><span data-stu-id="a4ec9-136">This type of solution is useful when you want human interaction with the service in one of the following scenarios:</span></span>

- <span data-ttu-id="a4ec9-137">Tableau de bord de surveillance pour vos travaux d’encodage.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-137">Monitoring dashboard for your encoding jobs.</span></span>
- <span data-ttu-id="a4ec9-138">Tableau de bord de surveillance pour vos flux en direct.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-138">Monitoring dashboard for your live streams.</span></span>
- <span data-ttu-id="a4ec9-139">Application de gestion pour les utilisateurs d’ordinateurs de bureau ou les utilisateurs mobiles afin de gérer les ressources dans un compte Media Services.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-139">Management application for desktop or mobile users to administer resources in a Media Services account.</span></span>

> [!NOTE]
> <span data-ttu-id="a4ec9-140">Cette méthode d’authentification ne doit pas être utilisée pour les applications accessibles aux consommateurs.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-140">This authentication method should not be used for consumer-facing applications.</span></span> 

<span data-ttu-id="a4ec9-141">Une application native doit tout d’abord acquérir un jeton d’accès à partir d’Azure AD, puis l’utiliser lorsque vous effectuez des requêtes HTTP auprès de l’API REST Media Services.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-141">A native application must first acquire an access token from Azure AD, and then use it when you make HTTP requests to the Media Services REST API.</span></span> <span data-ttu-id="a4ec9-142">Ajoutez le jeton d’accès à l’en-tête de la requête.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-142">Add the access token to the request header.</span></span> 

<span data-ttu-id="a4ec9-143">Le diagramme suivant illustre un flux d’authentification d’application interactive classique :</span><span class="sxs-lookup"><span data-stu-id="a4ec9-143">The following diagram shows a typical interactive application authentication flow:</span></span> 

![Diagramme d’applications natives](./media/media-services-use-aad-auth-to-access-ams-api/media-services-native-aad-app1.png)

<span data-ttu-id="a4ec9-145">Dans le diagramme précédent, les nombres représentent le flux des requêtes dans l’ordre chronologique.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-145">In the preceding diagram, the numbers represent the flow of the requests in chronological order.</span></span>

> [!NOTE]
> <span data-ttu-id="a4ec9-146">Lorsque vous utilisez la méthode d’authentification utilisateur, toutes les applications partagent le même ID client d’application native (par défaut) et le même URI de redirection d’application native.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-146">When you use the user authentication method, all apps share the same (default) native application client ID and native application redirect URI.</span></span> 

1. <span data-ttu-id="a4ec9-147">Demandez à un utilisateur ses informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-147">Prompt a user for credentials.</span></span>
2. <span data-ttu-id="a4ec9-148">Demandez un jeton d’accès Azure AD avec les paramètres suivants :</span><span class="sxs-lookup"><span data-stu-id="a4ec9-148">Request an Azure AD access token with the following parameters:</span></span>  

    * <span data-ttu-id="a4ec9-149">Point de terminaison de locataire Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-149">Azure AD tenant endpoint.</span></span>

        <span data-ttu-id="a4ec9-150">Les informations relatives au locataire peuvent être récupérées à partir du portail Azure.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-150">The tenant information can be retrieved from the Azure portal.</span></span> <span data-ttu-id="a4ec9-151">Placez votre curseur sur le nom de l’utilisateur connecté, en haut à droite.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-151">Place your cursor over the name of the signed-in user in the top right corner.</span></span>
    * <span data-ttu-id="a4ec9-152">URI de ressource Media Services.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-152">Media Services resource URI.</span></span> 

        <span data-ttu-id="a4ec9-153">Cet URI est identique pour les comptes Media Services qui se trouvent dans le même environnement Azure (par exemple, https://rest.media.azure.net).</span><span class="sxs-lookup"><span data-stu-id="a4ec9-153">This URI is the same for Media Services accounts that are in the same Azure environment (for example, https://rest.media.azure.net).</span></span>

    * <span data-ttu-id="a4ec9-154">ID client d’application Media Services (natif).</span><span class="sxs-lookup"><span data-stu-id="a4ec9-154">Media Services (native) application client ID.</span></span>
    * <span data-ttu-id="a4ec9-155">URI de redirection d’application Media Services (natif).</span><span class="sxs-lookup"><span data-stu-id="a4ec9-155">Media Services (native) application redirect URI.</span></span>
    * <span data-ttu-id="a4ec9-156">URI de ressource pour REST Media Services.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-156">Resource URI for REST Media Services.</span></span>
        
        <span data-ttu-id="a4ec9-157">L’URI représente le point de terminaison de l’API REST (par exemple, https://test03.restv2.westus.media.azure.net/api/).</span><span class="sxs-lookup"><span data-stu-id="a4ec9-157">The URI represents the REST API endpoint (for example, https://test03.restv2.westus.media.azure.net/api/).</span></span>

    <span data-ttu-id="a4ec9-158">Pour obtenir les valeurs de ces paramètres, consultez [Prise en main de l’authentification Azure AD à l’aide du portail Azure](media-services-portal-get-started-with-aad.md) par le biais de l’option d’authentification utilisateur.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-158">To get values for these parameters, see [Use the Azure portal to access Azure AD authentication settings](media-services-portal-get-started-with-aad.md) using the user authentication option.</span></span>

3. <span data-ttu-id="a4ec9-159">Le jeton d’accès Azure AD est envoyé au client.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-159">The Azure AD access token is sent to the client.</span></span>
4. <span data-ttu-id="a4ec9-160">Le client envoie une requête à l’API REST Azure Media avec le jeton d’accès Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-160">The client sends a request to the Azure Media REST API with the Azure AD access token.</span></span>
5. <span data-ttu-id="a4ec9-161">Le client récupère les données de Media Services.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-161">The client gets back the data from Media Services.</span></span>

<span data-ttu-id="a4ec9-162">Pour plus d’informations sur l’utilisation de l’authentification Azure AD dans l’optique de communiquer avec les requêtes REST par le biais du Kit de développement logiciel (SDK) client Media Services .NET, consultez [Use Azure AD authentication to access Azure Media Services API with .NET](media-services-dotnet-get-started-with-aad.md) (Utiliser l’authentification Azure AD pour accéder à l’API Azure Media Services avec .NET).</span><span class="sxs-lookup"><span data-stu-id="a4ec9-162">For information about how to use Azure AD authentication to communicate with REST requests by using the Media Services .NET client SDK, see [Use Azure AD authentication to access the Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span> 

<span data-ttu-id="a4ec9-163">Si vous n’utilisez pas le Kit de développement logiciel (SDK) client de Media Services .NET, vous devez créer manuellement une demande de jeton d’accès Azure AD en utilisant les paramètres décrits à l’étape 2.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-163">If you are not using the Media Services .NET client SDK, you must manually create an Azure AD access token request by using the parameters described in step 2.</span></span> <span data-ttu-id="a4ec9-164">Pour plus d’informations, consultez [Bibliothèques d’authentification d’Azure Active Directory](../active-directory/develop/active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="a4ec9-164">For more information, see [How to use the Azure AD Authentication Library to get the Azure AD token](../active-directory/develop/active-directory-authentication-libraries.md).</span></span>

### <a name="service-principal-authentication"></a><span data-ttu-id="a4ec9-165">Authentification d’un principal du service</span><span class="sxs-lookup"><span data-stu-id="a4ec9-165">Service principal authentication</span></span>

<span data-ttu-id="a4ec9-166">Les applications qui utilisent généralement cette méthode d’authentification sont des applications qui exécutent des services de niveau intermédiaire et des travaux planifiés : applications web, applications de fonction, applications logiques, API et microservices.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-166">Applications that commonly use this authentication method are apps that run middle-tier services and scheduled jobs: web apps, function apps, logic apps, APIs, and microservices.</span></span> <span data-ttu-id="a4ec9-167">Cette méthode d’authentification est également adaptée aux applications interactives dans lesquelles vous souhaitez peut-être utiliser un compte de service pour gérer les ressources.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-167">This authentication method also is suitable for interactive applications in which you might want to use a service account to manage resources.</span></span>

<span data-ttu-id="a4ec9-168">Lorsque vous utilisez la méthode d’authentification du principal de service pour créer des scénarios de clients, l’authentification est généralement gérée au niveau intermédiaire (par le biais d’une API) et non directement dans une application mobile ou une application de bureau.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-168">When you use the service principal authentication method to build consumer scenarios, authentication typically is handled in the middle tier (through some API) and not directly in a mobile or desktop application.</span></span> 

<span data-ttu-id="a4ec9-169">Pour utiliser cette méthode, créez une application Azure AD et un principal de service dans son propre locataire.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-169">To use this method, create an Azure AD application and service principal in its own tenant.</span></span> <span data-ttu-id="a4ec9-170">Après avoir créé l’application, assignez à l’application le rôle Collaborateur ou Propriétaire pour accéder au compte Media Services.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-170">After you create the application, give the app Contributor or Owner role access to the Media Services account.</span></span> <span data-ttu-id="a4ec9-171">Vous pouvez le faire dans le portail Azure, à l’aide d’Azure CLI ou d’un script PowerShell.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-171">You can do this in the Azure portal, by using Azure CLI, or with a PowerShell script.</span></span> <span data-ttu-id="a4ec9-172">Vous pouvez aussi utiliser une application Azure AD existante.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-172">You also can use an existing Azure AD application.</span></span> <span data-ttu-id="a4ec9-173">Vous pouvez inscrire et gérer votre application Azure AD et votre principal de service [dans le portail Azure](media-services-portal-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="a4ec9-173">You can register and manage your Azure AD app and service principal [in the Azure portal](media-services-portal-get-started-with-aad.md).</span></span> <span data-ttu-id="a4ec9-174">Vous pouvez également le faire à l’aide d’[Azure CLI 2.0](media-services-use-aad-auth-to-access-ams-api.md) ou de [PowerShell](media-services-powershell-create-and-configure-aad-app.md).</span><span class="sxs-lookup"><span data-stu-id="a4ec9-174">You also can do this by using [Azure CLI 2.0](media-services-use-aad-auth-to-access-ams-api.md) or [PowerShell](media-services-powershell-create-and-configure-aad-app.md).</span></span> 

![Applications de niveau intermédiaire](./media/media-services-use-aad-auth-to-access-ams-api/media-services-principal-service-aad-app1.png)

<span data-ttu-id="a4ec9-176">Après avoir créé votre application Azure AD, vous obtenez les valeurs correspondant aux paramètres suivants.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-176">After you create your Azure AD application, you get values for the following settings.</span></span> <span data-ttu-id="a4ec9-177">Vous avez besoin de ces valeurs pour l’authentification :</span><span class="sxs-lookup"><span data-stu-id="a4ec9-177">You need these values for authentication:</span></span>

- <span data-ttu-id="a4ec9-178">ID client</span><span class="sxs-lookup"><span data-stu-id="a4ec9-178">Client ID</span></span> 
- <span data-ttu-id="a4ec9-179">Clé secrète client</span><span class="sxs-lookup"><span data-stu-id="a4ec9-179">Client secret</span></span> 

<span data-ttu-id="a4ec9-180">Dans la figure précédente, les nombres représentent le flux des requêtes dans l’ordre chronologique :</span><span class="sxs-lookup"><span data-stu-id="a4ec9-180">In the preceding figure, the numbers represent the flow of the requests in chronological order:</span></span>
    
1. <span data-ttu-id="a4ec9-181">Une application de niveau intermédiaire (API web ou application web) nécessite un jeton d’accès Azure AD qui possède les paramètres suivants :</span><span class="sxs-lookup"><span data-stu-id="a4ec9-181">A middle-tier app (web API or web application) requests an Azure AD access token that has the following parameters:</span></span>  

    * <span data-ttu-id="a4ec9-182">Point de terminaison de locataire Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-182">Azure AD tenant endpoint.</span></span>

        <span data-ttu-id="a4ec9-183">Les informations relatives au locataire peuvent être récupérées à partir du portail Azure.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-183">The tenant information can be retrieved from the Azure portal.</span></span> <span data-ttu-id="a4ec9-184">Placez votre curseur sur le nom de l’utilisateur connecté, en haut à droite.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-184">Place your cursor over the name of the signed-in user in the top right corner.</span></span>
    * <span data-ttu-id="a4ec9-185">URI de ressource Media Services.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-185">Media Services resource URI.</span></span> 

        <span data-ttu-id="a4ec9-186">Cet URI est identique pour les comptes Media Services qui se trouvent dans le même environnement Azure (par exemple, https://rest.media.azure.net).</span><span class="sxs-lookup"><span data-stu-id="a4ec9-186">This URI is the same for Media Services accounts that are located in the same Azure environment (for example, https://rest.media.azure.net).</span></span>

    * <span data-ttu-id="a4ec9-187">URI de ressource pour REST Media Services.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-187">Resource URI for REST Media Services.</span></span>

        <span data-ttu-id="a4ec9-188">L’URI représente le point de terminaison de l’API REST (par exemple, https://test03.restv2.westus.media.azure.net/api/).</span><span class="sxs-lookup"><span data-stu-id="a4ec9-188">The URI represents the REST API endpoint (for example, https://test03.restv2.westus.media.azure.net/api/).</span></span>

    * <span data-ttu-id="a4ec9-189">Valeurs de l’application Azure AD : ID client et clé secrète client.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-189">Azure AD application values: the client ID and client secret.</span></span>
    
    <span data-ttu-id="a4ec9-190">Pour obtenir les valeurs de ces paramètres, consultez [Prise en main de l’authentification Azure AD à l’aide du portail Azure](media-services-portal-get-started-with-aad.md) par le biais de l’option d’authentification utilisateur du principal de serveur.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-190">To get values for these parameters, see [Use the Azure portal to access Azure AD authentication settings](media-services-portal-get-started-with-aad.md) by using the service principal authentication option.</span></span>

2. <span data-ttu-id="a4ec9-191">Le jeton d’accès Azure AD est envoyé au niveau intermédiaire.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-191">The Azure AD access token is sent to the middle tier.</span></span>
4. <span data-ttu-id="a4ec9-192">Le niveau intermédiaire envoie une requête à l’API REST Azure Media avec le jeton Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-192">The middle tier sends request to the Azure Media REST API with the Azure AD token.</span></span>
5. <span data-ttu-id="a4ec9-193">Le niveau intermédiaire récupère les données de Media Services.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-193">The middle tier gets back the data from Media Services.</span></span>

<span data-ttu-id="a4ec9-194">Pour plus d’informations sur l’utilisation de l’authentification Azure AD dans l’optique de communiquer avec les requêtes REST par le biais du Kit de développement logiciel (SDK) client Media Services .NET, consultez [Use Azure AD authentication to access Azure Media Services API with .NET](media-services-dotnet-get-started-with-aad.md) (Utiliser l’authentification Azure AD pour accéder à l’API Azure Media Services avec .NET).</span><span class="sxs-lookup"><span data-stu-id="a4ec9-194">For more information about how to use Azure AD authentication to communicate with REST requests by using the Media Services .NET client SDK, see [Use Azure AD authentication to access Azure Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span> 

<span data-ttu-id="a4ec9-195">Si vous n’utilisez pas le Kit de développement logiciel (SDK) client Media Services .NET, vous devez créer manuellement une demande de jeton Azure AD en utilisant les paramètres décrits à l’étape 1.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-195">If you are not using the Media Services .NET client SDK, you must manually create an Azure AD token request by using parameters described in step 1.</span></span> <span data-ttu-id="a4ec9-196">Pour plus d’informations, consultez [Bibliothèques d’authentification d’Azure Active Directory](../active-directory/develop/active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="a4ec9-196">For more information, see [How to use the Azure AD Authentication Library to get the Azure AD token](../active-directory/develop/active-directory-authentication-libraries.md).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="a4ec9-197">résolution des problèmes</span><span class="sxs-lookup"><span data-stu-id="a4ec9-197">Troubleshooting</span></span>

<span data-ttu-id="a4ec9-198">Exception : « Le serveur distant a retourné une erreur : 401 - Non autorisé ».</span><span class="sxs-lookup"><span data-stu-id="a4ec9-198">Exception: "The remote server returned an error: (401) Unauthorized."</span></span>

<span data-ttu-id="a4ec9-199">Solution : pour que la requête Azure Media REST réussisse, l’utilisateur appelant doit avoir un rôle Collaborateur ou Propriétaire pour le compte Media Services auquel il tente d’accéder.</span><span class="sxs-lookup"><span data-stu-id="a4ec9-199">Solution: For the Media Services REST request to succeed, the calling user must be a Contributor or Owner role in the Media Services account it is trying to access.</span></span> <span data-ttu-id="a4ec9-200">Pour plus d’informations, consultez la section [Contrôle d’accès](media-services-use-aad-auth-to-access-ams-api.md#access-control).</span><span class="sxs-lookup"><span data-stu-id="a4ec9-200">For more information, see the [Access control](media-services-use-aad-auth-to-access-ams-api.md#access-control) section.</span></span>

## <a name="resources"></a><span data-ttu-id="a4ec9-201">Ressources</span><span class="sxs-lookup"><span data-stu-id="a4ec9-201">Resources</span></span>

<span data-ttu-id="a4ec9-202">Les articles suivants sont des vues d’ensemble des concepts d’authentification Azure AD :</span><span class="sxs-lookup"><span data-stu-id="a4ec9-202">The following articles are overviews of Azure AD authentication concepts:</span></span> 

- [<span data-ttu-id="a4ec9-203">Scénarios d’authentification pour Azure AD</span><span class="sxs-lookup"><span data-stu-id="a4ec9-203">Authentication scenarios addressed by Azure AD</span></span>](../active-directory/develop/active-directory-authentication-scenarios.md#basics-of-authentication-in-azure-ad)
- <span data-ttu-id="a4ec9-204">[Add, update, or remove an application in Azure AD](../active-directory/develop/active-directory-integrating-applications.md) (Ajouter, mettre à jour ou supprimer une application dans Azure AD)</span><span class="sxs-lookup"><span data-stu-id="a4ec9-204">[Add, update, or remove an application in Azure AD](../active-directory/develop/active-directory-integrating-applications.md)</span></span>
- <span data-ttu-id="a4ec9-205">[Configure and manage Role-Based Access Control by using PowerShell](../active-directory/role-based-access-control-manage-access-powershell.md) (Configurer et gérer le contrôle d’accès en fonction du rôle à l’aide de PowerShell)</span><span class="sxs-lookup"><span data-stu-id="a4ec9-205">[Configure and manage Role-Based Access Control by using PowerShell](../active-directory/role-based-access-control-manage-access-powershell.md)</span></span>

## <a name="next-steps"></a><span data-ttu-id="a4ec9-206">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="a4ec9-206">Next steps</span></span>

* <span data-ttu-id="a4ec9-207">Utilisez le portail Azure pour [accéder à l’authentification Azure AD en vue d’utiliser l’API Azure Media Services](media-services-portal-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="a4ec9-207">Use the Azure portal to [access Azure AD authentication to consume Azure Media Services API](media-services-portal-get-started-with-aad.md).</span></span>
* <span data-ttu-id="a4ec9-208">Utilisez l’authentification Azure AD pour [accéder à l’API Azure Media Services avec .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="a4ec9-208">Use Azure AD authentication to [access Azure Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span>

