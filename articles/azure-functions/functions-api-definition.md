---
title: "Métadonnées OpenAPI dans Azure Functions | Microsoft Docs"
description: "Vue d’ensemble de la prise en charge d’OpenAPI dans les fonctions Azure"
services: functions
documentationcenter: 
author: alexkarcher-msft
manager: erikre
editor: 
ms.assetid: 
ms.service: functions
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 03/23/2017
ms.author: alkarche
ms.openlocfilehash: e426e56bcac30c740e86d620dadf291fe31e3e10
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/29/2017
---
# <a name="openapi-20-metadata-support-in-azure-functions-preview"></a><span data-ttu-id="637f7-103">Prise en charge des métadonnées OpenAPI 2.0 dans Azure Functions (préversion)</span><span class="sxs-lookup"><span data-stu-id="637f7-103">OpenAPI 2.0 metadata support in Azure Functions (preview)</span></span>
<span data-ttu-id="637f7-104">La prise en charge des métadonnées OpenAPI 2.0 (anciennement Swagger) dans Azure Functions est une fonctionnalité en préversion que vous pouvez utiliser pour écrire une définition OpenAPI 2.0 dans une application de fonction.</span><span class="sxs-lookup"><span data-stu-id="637f7-104">OpenAPI 2.0 (formerly Swagger) metadata support in Azure Functions is a preview feature that you can use to write an OpenAPI 2.0 definition inside a function app.</span></span> <span data-ttu-id="637f7-105">Vous pouvez ensuite héberger ce fichier à l’aide de l’application de fonction.</span><span class="sxs-lookup"><span data-stu-id="637f7-105">You can then host that file by using the function app.</span></span>

<span data-ttu-id="637f7-106">Les [métadonnées OpenAPI](http://swagger.io/) permettent à une grande variété d’autres logiciels de consommer une fonction hébergeant une API REST.</span><span class="sxs-lookup"><span data-stu-id="637f7-106">[OpenAPI metadata](http://swagger.io/) allows a function that's hosting a REST API to be consumed by a wide variety of other software.</span></span> <span data-ttu-id="637f7-107">Ces logiciels incluent les offres Microsoft comme PowerApps et la [fonctionnalité API Apps d’Azure App Service](https://docs.microsoft.com/azure/app-service-api/app-service-api-dotnet-get-started#a-idcodegena-generate-client-code-for-the-data-tier), des outils de développeurs tiers comme [Postman](https://www.getpostman.com/docs/importing_swagger) et [beaucoup d’autres packages](http://swagger.io/tools/).</span><span class="sxs-lookup"><span data-stu-id="637f7-107">This software includes Microsoft offerings like PowerApps and the [API Apps feature of Azure App Service](https://docs.microsoft.com/azure/app-service-api/app-service-api-dotnet-get-started#a-idcodegena-generate-client-code-for-the-data-tier), third-party developer tools like [Postman](https://www.getpostman.com/docs/importing_swagger), and [many more packages](http://swagger.io/tools/).</span></span>

[!INCLUDE [intro](../../includes/functions-bindings-intro.md)]

>[!TIP]
><span data-ttu-id="637f7-108">Nous vous conseillons de commencer par le [didacticiel de mise en route](./functions-api-definition-getting-started.md) , puis de revenir à ce document pour en savoir plus sur les fonctionnalités spécifiques.</span><span class="sxs-lookup"><span data-stu-id="637f7-108">We recommend starting with the [getting started tutorial](./functions-api-definition-getting-started.md) and then returning to this document to learn more about specific features.</span></span>

## <span data-ttu-id="637f7-109"><a name="enable"></a>Activer la prise en charge de la définition OpenAPI</span><span class="sxs-lookup"><span data-stu-id="637f7-109"><a name="enable"></a>Enable OpenAPI definition support</span></span>
<span data-ttu-id="637f7-110">Vous pouvez configurer tous les paramètres OpenAPI dans la page **Définition d’API**, dans les **Fonctionnalités de la plateforme** de votre application de fonction.</span><span class="sxs-lookup"><span data-stu-id="637f7-110">You can configure all OpenAPI settings on the **API Definition** page in your function app's **Platform features**.</span></span>

<span data-ttu-id="637f7-111">Pour activer la génération d’une définition OpenAPI hébergée et d’une définition de démarrage rapide, définissez **Source de définition d’API** sur **Fonction (préversion)**.</span><span class="sxs-lookup"><span data-stu-id="637f7-111">To enable the generation of a hosted OpenAPI definition and a quickstart definition, set **API definition source** to **Function (Preview)**.</span></span> <span data-ttu-id="637f7-112">**L’URL externe** permet à votre fonction d’utiliser une définition OpenAPI qui est hébergée ailleurs.</span><span class="sxs-lookup"><span data-stu-id="637f7-112">**External URL** allows your function to use an OpenAPI definition that's hosted elsewhere.</span></span>

## <span data-ttu-id="637f7-113"><a name="generate-definition"></a>Générer une structure Swagger à partir des métadonnées de votre fonction</span><span class="sxs-lookup"><span data-stu-id="637f7-113"><a name="generate-definition"></a>Generate a Swagger skeleton from your function's metadata</span></span>
<span data-ttu-id="637f7-114">Un modèle peut vous aider à commencer à écrire votre première définition OpenAPI.</span><span class="sxs-lookup"><span data-stu-id="637f7-114">A template can help you start writing your first OpenAPI definition.</span></span> <span data-ttu-id="637f7-115">La fonctionnalité de modèle de définition crée une définition OpenAPI partielle à l’aide de toutes les métadonnées dans le fichier function.json, pour chacune de vos fonctions de déclencheur HTTP.</span><span class="sxs-lookup"><span data-stu-id="637f7-115">The definition template feature creates a sparse OpenAPI definition by using all the metadata in the function.json file for each of your HTTP trigger functions.</span></span> <span data-ttu-id="637f7-116">Vous devrez renseigner plus d’informations sur votre API à partir de la [spécification OpenAPI](http://swagger.io/specification/), comme les modèles de requête et de réponse.</span><span class="sxs-lookup"><span data-stu-id="637f7-116">You'll need to fill in more information about your API from the [OpenAPI specification](http://swagger.io/specification/), such as request and response templates.</span></span>

<span data-ttu-id="637f7-117">Pour des instructions détaillées, consultez le [didacticiel de prise en main](./functions-api-definition-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="637f7-117">For step-by-step instructions, see the [getting started tutorial](./functions-api-definition-getting-started.md).</span></span>

### <span data-ttu-id="637f7-118"><a name="templates"></a>Modèles disponibles</span><span class="sxs-lookup"><span data-stu-id="637f7-118"><a name="templates"></a>Available templates</span></span>

|<span data-ttu-id="637f7-119">Nom</span><span class="sxs-lookup"><span data-stu-id="637f7-119">Name</span></span>| <span data-ttu-id="637f7-120">Description</span><span class="sxs-lookup"><span data-stu-id="637f7-120">Description</span></span> |
|:-----|:-----|
|<span data-ttu-id="637f7-121">Définition générée</span><span class="sxs-lookup"><span data-stu-id="637f7-121">Generated Definition</span></span>|<span data-ttu-id="637f7-122">Une définition OpenAPI avec la quantité maximale d’informations pouvant être déduites à partir de métadonnées existantes de la fonction.</span><span class="sxs-lookup"><span data-stu-id="637f7-122">An OpenAPI definition with the maximum amount of information that can be inferred from the function's existing metadata.</span></span>|

### <span data-ttu-id="637f7-123"><a name="quickstart-details"></a>Métadonnées incluses dans la définition générée</span><span class="sxs-lookup"><span data-stu-id="637f7-123"><a name="quickstart-details"></a>Included metadata in the generated definition</span></span>

<span data-ttu-id="637f7-124">Le tableau suivant représente les paramètres du portail Azure et les données correspondantes dans function.json telles qu’elles sont mappées sur la structure Swagger générée.</span><span class="sxs-lookup"><span data-stu-id="637f7-124">The following table represents the Azure portal settings and corresponding data in function.json as it is mapped to the generated Swagger skeleton.</span></span>

|<span data-ttu-id="637f7-125">Swagger.json</span><span class="sxs-lookup"><span data-stu-id="637f7-125">Swagger.json</span></span>|<span data-ttu-id="637f7-126">Interface utilisateur du portail</span><span class="sxs-lookup"><span data-stu-id="637f7-126">Portal UI</span></span>|<span data-ttu-id="637f7-127">Function.json</span><span class="sxs-lookup"><span data-stu-id="637f7-127">Function.json</span></span>|
|:----|:-----|:-----|
|[<span data-ttu-id="637f7-128">Hôte</span><span class="sxs-lookup"><span data-stu-id="637f7-128">Host</span></span>](http://swagger.io/specification/#fixed-fields-15)|<span data-ttu-id="637f7-129">**Paramètres de l’application de fonctions** > **Paramètres App Service** > **Vue d’ensemble** > **URL**</span><span class="sxs-lookup"><span data-stu-id="637f7-129">**Function app settings** > **App Service settings** > **Overview** > **URL**</span></span>|<span data-ttu-id="637f7-130">*Non présent*</span><span class="sxs-lookup"><span data-stu-id="637f7-130">*Not present*</span></span>
|[<span data-ttu-id="637f7-131">Chemins d’accès</span><span class="sxs-lookup"><span data-stu-id="637f7-131">Paths</span></span>](http://swagger.io/specification/#paths-object-29)|<span data-ttu-id="637f7-132">**Intégrer** > **Méthodes HTTP sélectionnées**</span><span class="sxs-lookup"><span data-stu-id="637f7-132">**Integrate** > **Selected HTTP methods**</span></span>|<span data-ttu-id="637f7-133">Liaisons : itinéraire</span><span class="sxs-lookup"><span data-stu-id="637f7-133">Bindings: Route</span></span>
|[<span data-ttu-id="637f7-134">Élément du chemin d’accès</span><span class="sxs-lookup"><span data-stu-id="637f7-134">Path Item</span></span>](http://swagger.io/specification/#path-item-object-32)|<span data-ttu-id="637f7-135">**Intégrer** > **Modèle de routage**</span><span class="sxs-lookup"><span data-stu-id="637f7-135">**Integrate** > **Route template**</span></span>|<span data-ttu-id="637f7-136">Liaisons : méthodes</span><span class="sxs-lookup"><span data-stu-id="637f7-136">Bindings: Methods</span></span>
|[<span data-ttu-id="637f7-137">Sécurité</span><span class="sxs-lookup"><span data-stu-id="637f7-137">Security</span></span>](http://swagger.io/specification/#security-scheme-object-112)|<span data-ttu-id="637f7-138">**Clés**</span><span class="sxs-lookup"><span data-stu-id="637f7-138">**Keys**</span></span>|<span data-ttu-id="637f7-139">*Non présent*</span><span class="sxs-lookup"><span data-stu-id="637f7-139">*Not present*</span></span>|
|<span data-ttu-id="637f7-140">operationID*</span><span class="sxs-lookup"><span data-stu-id="637f7-140">operationID*</span></span>|<span data-ttu-id="637f7-141">**Itinéraire + verbes autorisés**</span><span class="sxs-lookup"><span data-stu-id="637f7-141">**Route + Allowed verbs**</span></span>|<span data-ttu-id="637f7-142">Itinéraire + verbes autorisés</span><span class="sxs-lookup"><span data-stu-id="637f7-142">Route + Allowed Verbs</span></span>|

<span data-ttu-id="637f7-143">\*L’ID de l’opération est nécessaire uniquement pour l’intégration avec PowerApps et Flow.</span><span class="sxs-lookup"><span data-stu-id="637f7-143">\*The operation ID is required only for integrating with PowerApps and Flow.</span></span>
> [!NOTE]
> <span data-ttu-id="637f7-144">L’extension x-ms-summary fournit un nom d’affichage dans Logic Apps, Flow et PowerApps.</span><span class="sxs-lookup"><span data-stu-id="637f7-144">The x-ms-summary extension provides a display name in Logic Apps, PowerApps, and Flow.</span></span>
>
> <span data-ttu-id="637f7-145">Consultez [Personnaliser votre définition Swagger pour PowerApps](https://powerapps.microsoft.com/tutorials/customapi-how-to-swagger/) pour en savoir plus.</span><span class="sxs-lookup"><span data-stu-id="637f7-145">To learn more, see [Customize your Swagger definition for PowerApps](https://powerapps.microsoft.com/tutorials/customapi-how-to-swagger/).</span></span>

## <span data-ttu-id="637f7-146"><a name="CICD"></a>Définir une définition d’API avec CI/CD</span><span class="sxs-lookup"><span data-stu-id="637f7-146"><a name="CICD"></a>Use CI/CD to set an API definition</span></span>

 <span data-ttu-id="637f7-147">Vous devez activer l’hébergement de la définition d’API dans le portail avant d’activer le contrôle de code source pour modifier votre définition d’API à partir du contrôle de code source.</span><span class="sxs-lookup"><span data-stu-id="637f7-147">You must enable API definition hosting in the portal before you enable source control to modify your API definition from source control.</span></span> <span data-ttu-id="637f7-148">Suivez ces instructions :</span><span class="sxs-lookup"><span data-stu-id="637f7-148">Follow these instructions:</span></span>

1. <span data-ttu-id="637f7-149">Accédez à **Définition d’API (préversion)** dans vos paramètres d’application de fonction.</span><span class="sxs-lookup"><span data-stu-id="637f7-149">Browse to **API Definition (preview)** in your function app settings.</span></span>
  1. <span data-ttu-id="637f7-150">Définissez **Source de définition d’API** sur **Fonction**.</span><span class="sxs-lookup"><span data-stu-id="637f7-150">Set **API definition source** to **Function**.</span></span>
  1. <span data-ttu-id="637f7-151">Cliquez sur **Générer le modèle de définition d’API**, puis sur **Enregistrer** pour créer une définition de modèle à modifier ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="637f7-151">Click **Generate API definition template** and then **Save** to create a template definition for modifying later.</span></span>
  1. <span data-ttu-id="637f7-152">Notez votre URL de définition d’API et votre clé.</span><span class="sxs-lookup"><span data-stu-id="637f7-152">Note your API definition URL and key.</span></span>
1. <span data-ttu-id="637f7-153">[Configurez l’intégration continue/le déploiement continu (CI/CD)](https://docs.microsoft.com/azure/azure-functions/functions-continuous-deployment#continuous-deployment-requirements).</span><span class="sxs-lookup"><span data-stu-id="637f7-153">[Set up continuous integration/continuous deployment (CI/CD)](https://docs.microsoft.com/azure/azure-functions/functions-continuous-deployment#continuous-deployment-requirements).</span></span>
2. <span data-ttu-id="637f7-154">Modifiez swagger.json dans le contrôle de code source à l’adresse \site\wwwroot\.azurefunctions\swagger\swagger.json.</span><span class="sxs-lookup"><span data-stu-id="637f7-154">Modify swagger.json in source control at \site\wwwroot\.azurefunctions\swagger\swagger.json.</span></span>

<span data-ttu-id="637f7-155">Désormais, les modifications apportées à swagger.json dans votre référentiel sont hébergées par votre application de fonction au niveau de l’URL de définition d’API et de la clé que vous avez notées à l’étape 1.c.</span><span class="sxs-lookup"><span data-stu-id="637f7-155">Now, changes to swagger.json in your repository are hosted by your function app at the API definition URL and key that you noted in step 1.c.</span></span>

## <a name="next-steps"></a><span data-ttu-id="637f7-156">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="637f7-156">Next steps</span></span>
* <span data-ttu-id="637f7-157">[Didacticiel de prise en main](functions-api-definition-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="637f7-157">[Getting started tutorial](functions-api-definition-getting-started.md).</span></span> <span data-ttu-id="637f7-158">Essayez notre procédure détaillée pour voir une définition OpenAPI en action.</span><span class="sxs-lookup"><span data-stu-id="637f7-158">Try our walkthrough to see an OpenAPI definition in action.</span></span>
* <span data-ttu-id="637f7-159">[Référentiel GitHub Azure Functions](https://github.com/Azure/Azure-Functions/).</span><span class="sxs-lookup"><span data-stu-id="637f7-159">[Azure Functions GitHub repository](https://github.com/Azure/Azure-Functions/).</span></span> <span data-ttu-id="637f7-160">Consultez le référentiel Functions pour nous donner votre avis sur la préversion du support de définition d’API.</span><span class="sxs-lookup"><span data-stu-id="637f7-160">Check out the Functions repository to give us feedback on the API definition support preview.</span></span> <span data-ttu-id="637f7-161">Créez un ticket GitHub pour les mises à jour que vous souhaitez.</span><span class="sxs-lookup"><span data-stu-id="637f7-161">Make a GitHub issue for anything you want to see updated.</span></span>
* <span data-ttu-id="637f7-162">[Référence du développeur Azure Functions](functions-reference.md).</span><span class="sxs-lookup"><span data-stu-id="637f7-162">[Azure Functions developer reference](functions-reference.md).</span></span> <span data-ttu-id="637f7-163">Apprenez-en davantage sur le codage de fonctions et la définition de déclencheurs et de liaisons.</span><span class="sxs-lookup"><span data-stu-id="637f7-163">Learn about coding functions and defining triggers and bindings.</span></span>
