---
title: "Mesures courantes pour la mise à l’échelle automatique dans Azure Monitor | Microsoft Docs"
description: "Découvrez les métriques utilisées pour la mise à l’échelle automatique de vos instances Cloud Services, Virtual Machines et Web Apps."
author: anirudhcavale
manager: orenr
editor: 
services: monitoring-and-diagnostics
documentationcenter: monitoring-and-diagnostics
ms.assetid: 189b2a13-01c8-4aca-afd5-90711903ca59
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 12/6/2016
ms.author: ancav
ms.openlocfilehash: 240a230d09680672ccd5316470a87d047fab9fd1
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/03/2017
---
# <a name="azure-monitor-autoscaling-common-metrics"></a><span data-ttu-id="2c373-103">Métriques courantes pour la mise à l’échelle automatique d’Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="2c373-103">Azure Monitor autoscaling common metrics</span></span>
<span data-ttu-id="2c373-104">La fonction de mise à l’échelle automatique d’Azure Monitor vous permet de diminuer ou d’augmenter la taille des instances en fonction des données de télémétrie (métriques).</span><span class="sxs-lookup"><span data-stu-id="2c373-104">Azure Monitor autoscaling allows you to scale the number of running instances up or down, based on telemetry data (metrics).</span></span> <span data-ttu-id="2c373-105">Ce document décrit les métriques courantes que vous pouvez utiliser.</span><span class="sxs-lookup"><span data-stu-id="2c373-105">This document describes common metrics that you might want to use.</span></span> <span data-ttu-id="2c373-106">Dans le portail Azure pour les services cloud et les batteries de serveurs, vous pouvez choisir les métriques de la ressource à mettre à l’échelle.</span><span class="sxs-lookup"><span data-stu-id="2c373-106">In the Azure portal  for Cloud Services and Server Farms, you can choose the metric of the resource to scale by.</span></span> <span data-ttu-id="2c373-107">Toutefois, vous pouvez également choisir des métriques à partir d’une autre ressource à mettre à l’échelle.</span><span class="sxs-lookup"><span data-stu-id="2c373-107">However, you can also choose any metric from a different resource to scale by.</span></span>

<span data-ttu-id="2c373-108">La mise à l’échelle automatique Azure Monitor s’applique uniquement aux [jeux de mise à l’échelle de machine virtuelle](https://azure.microsoft.com/services/virtual-machine-scale-sets/), [services cloud](https://azure.microsoft.com/services/cloud-services/) et à [App Service - Web Apps](https://azure.microsoft.com/services/app-service/web/).</span><span class="sxs-lookup"><span data-stu-id="2c373-108">Azure Monitor autoscale applies only to [Virtual Machine Scale Sets](https://azure.microsoft.com/services/virtual-machine-scale-sets/), [Cloud Services](https://azure.microsoft.com/services/cloud-services/), and [App Service - Web Apps](https://azure.microsoft.com/services/app-service/web/).</span></span> <span data-ttu-id="2c373-109">Les autres services Azure utilisent des méthodes de mise à l’échelle différentes.</span><span class="sxs-lookup"><span data-stu-id="2c373-109">Other Azure services use different scaling methods.</span></span>

## <a name="compute-metrics-for-resource-manager-based-vms"></a><span data-ttu-id="2c373-110">Calcul des métriques pour les machines virtuelles basées sur Resource Manager</span><span class="sxs-lookup"><span data-stu-id="2c373-110">Compute metrics for Resource Manager-based VMs</span></span>
<span data-ttu-id="2c373-111">Par défaut, les machines virtuelles et jeux de mise à l’échelle de machine virtuelle basés sur Resource Manager émettent des métriques de base (niveau hôte).</span><span class="sxs-lookup"><span data-stu-id="2c373-111">By default, Resource Manager-based Virtual Machines and Virtual Machine Scale Sets emit basic (host-level) metrics.</span></span> <span data-ttu-id="2c373-112">En outre, lorsque vous configurez la collecte de données de diagnostic pour une machine virtuelle ou des jeux de mise à l’échelle de machine virtuelle Azure, l’extension de diagnostic Azure émet également les compteurs de performances du système d’exploitation invité (communément appelés « Métriques de système d’exploitation invité »).</span><span class="sxs-lookup"><span data-stu-id="2c373-112">In addition, when you configure diagnostics data collection for an Azure VM and VMSS,  the Azure diagnostic extension also emits guest-OS performance counters (commonly known as "guest-OS metrics").</span></span>  <span data-ttu-id="2c373-113">Vous utilisez toutes ces métriques dans les règles de mise à l’échelle automatique.</span><span class="sxs-lookup"><span data-stu-id="2c373-113">You use all these metrics in autoscale rules.</span></span>

<span data-ttu-id="2c373-114">Vous pouvez utiliser l’API/PoSH/CLI `Get MetricDefinitions` pour afficher les métriques disponibles pour votre ressource VMSS.</span><span class="sxs-lookup"><span data-stu-id="2c373-114">You can use the `Get MetricDefinitions` API/PoSH/CLI to view the metrics available for your VMSS resource.</span></span>

<span data-ttu-id="2c373-115">Si vous utilisez des jeux de mise à l’échelle de machine virtuelle et qu’une métrique que vous cherchez n’est pas répertoriée, il est probable qu’elle soit *désactivée* dans votre extension de diagnostics.</span><span class="sxs-lookup"><span data-stu-id="2c373-115">If you're using VM scale sets and you don't see a particular metric listed, then it is likely *disabled* in your diagnostics extension.</span></span>

<span data-ttu-id="2c373-116">Si une métrique particulière n’est pas en cours d’échantillonnage ou de transfert vers la fréquence souhaitée, vous pouvez mettre à jour la configuration des diagnostics.</span><span class="sxs-lookup"><span data-stu-id="2c373-116">If a particular metric is not being sampled or transferred at the frequency you want, you can update the diagnostics configuration.</span></span>

<span data-ttu-id="2c373-117">Si l’un des deux cas ci-dessus s’applique, consultez la page [Utiliser PowerShell pour activer Azure Diagnostics sur une machine virtuelle exécutant Windows](../virtual-machines/windows/ps-extensions-diagnostics.md) pour savoir comment utiliser PowerShell pour configurer et mettre à jour votre extension de diagnostics de machine virtuelle Windows Azure afin d’activer la métrique.</span><span class="sxs-lookup"><span data-stu-id="2c373-117">If either preceding case is true, then review [Use PowerShell to enable Azure Diagnostics in a virtual machine running Windows](../virtual-machines/windows/ps-extensions-diagnostics.md) about PowerShell to configure and update your Azure VM Diagnostics extension to enable the metric.</span></span> <span data-ttu-id="2c373-118">Cet article inclut également un exemple de fichier de configuration de diagnostics.</span><span class="sxs-lookup"><span data-stu-id="2c373-118">That article also includes a sample diagnostics configuration file.</span></span>

### <a name="host-metrics-for-resource-manager-based-windows-and-linux-vms"></a><span data-ttu-id="2c373-119">Métriques de l’hôte pour les machines virtuelles Windows et Linux basées sur Resource Manager</span><span class="sxs-lookup"><span data-stu-id="2c373-119">Host metrics for Resource Manager-based Windows and Linux VMs</span></span>
<span data-ttu-id="2c373-120">Les métriques de niveau hôte suivantes sont émies par défaut pour les machines virtuelles et jeux de mise à l’échelle de machine virtuelle Azure dans les instances Windows et Linux.</span><span class="sxs-lookup"><span data-stu-id="2c373-120">The following host-level metrics are emitted by default for Azure VM and VMSS in both Windows and Linux instances.</span></span> <span data-ttu-id="2c373-121">Ces métriques décrivent votre machine virtuelle Azure, mais sont collectées à partir de l’hôte de la machine Virtuelle Azure plutôt que via l’agent installé sur la machine virtuelle invitée.</span><span class="sxs-lookup"><span data-stu-id="2c373-121">These metrics describe your Azure VM, but are collected from the Azure VM host rather than via agent installed on the guest VM.</span></span> <span data-ttu-id="2c373-122">Vous pouvez utiliser ces métriques dans les règles de mise à l’échelle automatique.</span><span class="sxs-lookup"><span data-stu-id="2c373-122">You may use these metrics in autoscaling rules.</span></span>

- [<span data-ttu-id="2c373-123">Métriques de l’hôte pour les machines virtuelles Windows et Linux basées sur Resource Manager</span><span class="sxs-lookup"><span data-stu-id="2c373-123">Host metrics for Resource Manager-based Windows and Linux VMs</span></span>](monitoring-supported-metrics.md#microsoftcomputevirtualmachines)
- [<span data-ttu-id="2c373-124">Métriques de l’hôte pour les jeux de mise à l’échelle de machine virtuelle Windows et Linux basées sur Resource Manager</span><span class="sxs-lookup"><span data-stu-id="2c373-124">Host metrics for Resource Manager-based Windows and Linux VM Scale Sets</span></span>](monitoring-supported-metrics.md#microsoftcomputevirtualmachinescalesets)

### <a name="guest-os-metrics-resource-manager-based-windows-vms"></a><span data-ttu-id="2c373-125">Métriques de SE invité pour machines virtuelles Windows basées sur Resource Manager</span><span class="sxs-lookup"><span data-stu-id="2c373-125">Guest OS metrics Resource Manager-based Windows VMs</span></span>
<span data-ttu-id="2c373-126">Lorsque vous créez une machine virtuelle dans Azure, les diagnostics sont effectués grâce à l’extension Diagnostics.</span><span class="sxs-lookup"><span data-stu-id="2c373-126">When you create a VM in Azure, diagnostics is enabled by using the Diagnostics extension.</span></span> <span data-ttu-id="2c373-127">L’extension de diagnostics émet un ensemble de métriques extraites de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="2c373-127">The diagnostics extension emits a set of metrics taken from inside of the VM.</span></span> <span data-ttu-id="2c373-128">Cela signifie que vous pouvez automatiser la mise à l’échelle des métriques qui ne sont pas émises par défaut.</span><span class="sxs-lookup"><span data-stu-id="2c373-128">This means you can autoscale off of metrics that are not emitted by default.</span></span>

<span data-ttu-id="2c373-129">Vous pouvez utiliser la commande suivante dans PowerShell pour générer une liste des métriques.</span><span class="sxs-lookup"><span data-stu-id="2c373-129">You can generate a list of the metrics by using the following command in PowerShell.</span></span>

```
Get-AzureRmMetricDefinition -ResourceId <resource_id> | Format-Table -Property Name,Unit
```

<span data-ttu-id="2c373-130">Vous pouvez créer une alerte pour les métriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="2c373-130">You can create an alert for the following metrics:</span></span>

| <span data-ttu-id="2c373-131">Nom de métrique</span><span class="sxs-lookup"><span data-stu-id="2c373-131">Metric Name</span></span> | <span data-ttu-id="2c373-132">Unité</span><span class="sxs-lookup"><span data-stu-id="2c373-132">Unit</span></span> |
| --- | --- |
| <span data-ttu-id="2c373-133">\Processor(_Total)\% temps processeur</span><span class="sxs-lookup"><span data-stu-id="2c373-133">\Processor(_Total)\% Processor Time</span></span> |<span data-ttu-id="2c373-134">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-134">Percent</span></span> |
| <span data-ttu-id="2c373-135">\Processor(_Total)\\% temps privilégié</span><span class="sxs-lookup"><span data-stu-id="2c373-135">\Processor(_Total)\% Privileged Time</span></span> |<span data-ttu-id="2c373-136">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-136">Percent</span></span> |
| <span data-ttu-id="2c373-137">\Processor(_Total)\\% temps utilisateur</span><span class="sxs-lookup"><span data-stu-id="2c373-137">\Processor(_Total)\% User Time</span></span> |<span data-ttu-id="2c373-138">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-138">Percent</span></span> |
| <span data-ttu-id="2c373-139">\Processor Information(_Total)\Fréquence du processeur</span><span class="sxs-lookup"><span data-stu-id="2c373-139">\Processor Information(_Total)\Processor Frequency</span></span> |<span data-ttu-id="2c373-140">Nombre</span><span class="sxs-lookup"><span data-stu-id="2c373-140">Count</span></span> |
| <span data-ttu-id="2c373-141">\System\Processus</span><span class="sxs-lookup"><span data-stu-id="2c373-141">\System\Processes</span></span> |<span data-ttu-id="2c373-142">Nombre</span><span class="sxs-lookup"><span data-stu-id="2c373-142">Count</span></span> |
| <span data-ttu-id="2c373-143">\Process(_Total)\Nombre de threads</span><span class="sxs-lookup"><span data-stu-id="2c373-143">\Process(_Total)\Thread Count</span></span> |<span data-ttu-id="2c373-144">Nombre</span><span class="sxs-lookup"><span data-stu-id="2c373-144">Count</span></span> |
| <span data-ttu-id="2c373-145">\Process(_Total)\Nombre de handles</span><span class="sxs-lookup"><span data-stu-id="2c373-145">\Process(_Total)\Handle Count</span></span> |<span data-ttu-id="2c373-146">Nombre</span><span class="sxs-lookup"><span data-stu-id="2c373-146">Count</span></span> |
| <span data-ttu-id="2c373-147">\Memory\\% octets validés en cours d’utilisation</span><span class="sxs-lookup"><span data-stu-id="2c373-147">\Memory\% Committed Bytes In Use</span></span> |<span data-ttu-id="2c373-148">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-148">Percent</span></span> |
| <span data-ttu-id="2c373-149">\Memory\Octets disponibles</span><span class="sxs-lookup"><span data-stu-id="2c373-149">\Memory\Available Bytes</span></span> |<span data-ttu-id="2c373-150">Octets</span><span class="sxs-lookup"><span data-stu-id="2c373-150">Bytes</span></span> |
| <span data-ttu-id="2c373-151">\Memory\Octets validés</span><span class="sxs-lookup"><span data-stu-id="2c373-151">\Memory\Committed Bytes</span></span> |<span data-ttu-id="2c373-152">Octets</span><span class="sxs-lookup"><span data-stu-id="2c373-152">Bytes</span></span> |
| <span data-ttu-id="2c373-153">\Memory\Limite de mémoire dédiée</span><span class="sxs-lookup"><span data-stu-id="2c373-153">\Memory\Commit Limit</span></span> |<span data-ttu-id="2c373-154">Octets</span><span class="sxs-lookup"><span data-stu-id="2c373-154">Bytes</span></span> |
| <span data-ttu-id="2c373-155">\Memory\Octets de réserve paginée</span><span class="sxs-lookup"><span data-stu-id="2c373-155">\Memory\Pool Paged Bytes</span></span> |<span data-ttu-id="2c373-156">Octets</span><span class="sxs-lookup"><span data-stu-id="2c373-156">Bytes</span></span> |
| <span data-ttu-id="2c373-157">\Memory\Octets de réserve non paginée</span><span class="sxs-lookup"><span data-stu-id="2c373-157">\Memory\Pool Nonpaged Bytes</span></span> |<span data-ttu-id="2c373-158">Octets</span><span class="sxs-lookup"><span data-stu-id="2c373-158">Bytes</span></span> |
| <span data-ttu-id="2c373-159">\PhysicalDisk(_Total)\\% temps disque</span><span class="sxs-lookup"><span data-stu-id="2c373-159">\PhysicalDisk(_Total)\% Disk Time</span></span> |<span data-ttu-id="2c373-160">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-160">Percent</span></span> |
| <span data-ttu-id="2c373-161">\PhysicalDisk(_Total)\\% temps de lecture du disque</span><span class="sxs-lookup"><span data-stu-id="2c373-161">\PhysicalDisk(_Total)\% Disk Read Time</span></span> |<span data-ttu-id="2c373-162">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-162">Percent</span></span> |
| <span data-ttu-id="2c373-163">\PhysicalDisk(_Total)\\% temps écriture du disque</span><span class="sxs-lookup"><span data-stu-id="2c373-163">\PhysicalDisk(_Total)\% Disk Write Time</span></span> |<span data-ttu-id="2c373-164">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-164">Percent</span></span> |
| <span data-ttu-id="2c373-165">\PhysicalDisk(_Total)\Disk Transfers/sec</span><span class="sxs-lookup"><span data-stu-id="2c373-165">\PhysicalDisk(_Total)\Disk Transfers/sec</span></span> |<span data-ttu-id="2c373-166">Nombre par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-166">CountPerSecond</span></span> |
| <span data-ttu-id="2c373-167">\PhysicalDisk(_Total)\Lectures disque/s</span><span class="sxs-lookup"><span data-stu-id="2c373-167">\PhysicalDisk(_Total)\Disk Reads/sec</span></span> |<span data-ttu-id="2c373-168">Nombre par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-168">CountPerSecond</span></span> |
| <span data-ttu-id="2c373-169">\PhysicalDisk(_Total)\Écritures disque/s</span><span class="sxs-lookup"><span data-stu-id="2c373-169">\PhysicalDisk(_Total)\Disk Writes/sec</span></span> |<span data-ttu-id="2c373-170">Nombre par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-170">CountPerSecond</span></span> |
| <span data-ttu-id="2c373-171">\PhysicalDisk(_Total)\Octets disque/s</span><span class="sxs-lookup"><span data-stu-id="2c373-171">\PhysicalDisk(_Total)\Disk Bytes/sec</span></span> |<span data-ttu-id="2c373-172">Octets par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-172">BytesPerSecond</span></span> |
| <span data-ttu-id="2c373-173">\PhysicalDisk(_Total)\Lectures disque, octets/s</span><span class="sxs-lookup"><span data-stu-id="2c373-173">\PhysicalDisk(_Total)\Disk Read Bytes/sec</span></span> |<span data-ttu-id="2c373-174">Octets par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-174">BytesPerSecond</span></span> |
| <span data-ttu-id="2c373-175">\PhysicalDisk(_Total)\Écritures disque, octets/s</span><span class="sxs-lookup"><span data-stu-id="2c373-175">\PhysicalDisk(_Total)\Disk Write Bytes/sec</span></span> |<span data-ttu-id="2c373-176">Octets par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-176">BytesPerSecond</span></span> |
| <span data-ttu-id="2c373-177">\PhysicalDisk(_Total)\Longueur moyenne</span><span class="sxs-lookup"><span data-stu-id="2c373-177">\PhysicalDisk(_Total)\Avg.</span></span> <span data-ttu-id="2c373-178">Longueur de file d'attente de disque</span><span class="sxs-lookup"><span data-stu-id="2c373-178">Disk Queue Length</span></span> |<span data-ttu-id="2c373-179">Nombre</span><span class="sxs-lookup"><span data-stu-id="2c373-179">Count</span></span> |
| <span data-ttu-id="2c373-180">\PhysicalDisk(_Total)\Longueur moyenne</span><span class="sxs-lookup"><span data-stu-id="2c373-180">\PhysicalDisk(_Total)\Avg.</span></span> <span data-ttu-id="2c373-181">de file d’attente lecture disque</span><span class="sxs-lookup"><span data-stu-id="2c373-181">Disk Read Queue Length</span></span> |<span data-ttu-id="2c373-182">Nombre</span><span class="sxs-lookup"><span data-stu-id="2c373-182">Count</span></span> |
| <span data-ttu-id="2c373-183">\PhysicalDisk(_Total)\Longueur moyenne</span><span class="sxs-lookup"><span data-stu-id="2c373-183">\PhysicalDisk(_Total)\Avg.</span></span> <span data-ttu-id="2c373-184">de file d’attente écriture disque</span><span class="sxs-lookup"><span data-stu-id="2c373-184">Disk Write Queue Length</span></span> |<span data-ttu-id="2c373-185">Nombre</span><span class="sxs-lookup"><span data-stu-id="2c373-185">Count</span></span> |
| <span data-ttu-id="2c373-186">\LogicalDisk(_Total)\\% espace libre</span><span class="sxs-lookup"><span data-stu-id="2c373-186">\LogicalDisk(_Total)\% Free Space</span></span> |<span data-ttu-id="2c373-187">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-187">Percent</span></span> |
| <span data-ttu-id="2c373-188">\LogicalDisk(_Total)\Mégaoctets libres</span><span class="sxs-lookup"><span data-stu-id="2c373-188">\LogicalDisk(_Total)\Free Megabytes</span></span> |<span data-ttu-id="2c373-189">Nombre</span><span class="sxs-lookup"><span data-stu-id="2c373-189">Count</span></span> |

### <a name="guest-os-metrics-linux-vms"></a><span data-ttu-id="2c373-190">Métriques de SE invité pour les machines virtuelles Linux</span><span class="sxs-lookup"><span data-stu-id="2c373-190">Guest OS metrics Linux VMs</span></span>
<span data-ttu-id="2c373-191">Lorsque vous créez une machine virtuelle dans Azure, les diagnostics sont activés par défaut grâce à l’extension Diagnostics.</span><span class="sxs-lookup"><span data-stu-id="2c373-191">When you create a VM in Azure, diagnostics is enabled by default by using Diagnostics extension.</span></span>

<span data-ttu-id="2c373-192">Vous pouvez utiliser la commande suivante dans PowerShell pour générer une liste des métriques.</span><span class="sxs-lookup"><span data-stu-id="2c373-192">You can generate a list of the metrics by using the following command in PowerShell.</span></span>

```
Get-AzureRmMetricDefinition -ResourceId <resource_id> | Format-Table -Property Name,Unit
```

 <span data-ttu-id="2c373-193">Vous pouvez créer une alerte pour les métriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="2c373-193">You can create an alert for the following metrics:</span></span>

| <span data-ttu-id="2c373-194">Nom de métrique</span><span class="sxs-lookup"><span data-stu-id="2c373-194">Metric Name</span></span> | <span data-ttu-id="2c373-195">Unité</span><span class="sxs-lookup"><span data-stu-id="2c373-195">Unit</span></span> |
| --- | --- |
| <span data-ttu-id="2c373-196">\Mémoire\Mémoire disponible</span><span class="sxs-lookup"><span data-stu-id="2c373-196">\Memory\AvailableMemory</span></span> |<span data-ttu-id="2c373-197">Octets</span><span class="sxs-lookup"><span data-stu-id="2c373-197">Bytes</span></span> |
| <span data-ttu-id="2c373-198">\Mémoire\Pourcentage de mémoire disponible</span><span class="sxs-lookup"><span data-stu-id="2c373-198">\Memory\PercentAvailableMemory</span></span> |<span data-ttu-id="2c373-199">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-199">Percent</span></span> |
| <span data-ttu-id="2c373-200">\Mémoire\Mémoire utilisée</span><span class="sxs-lookup"><span data-stu-id="2c373-200">\Memory\UsedMemory</span></span> |<span data-ttu-id="2c373-201">Octets</span><span class="sxs-lookup"><span data-stu-id="2c373-201">Bytes</span></span> |
| <span data-ttu-id="2c373-202">\Mémoire\Pourcentage de mémoire utilisée</span><span class="sxs-lookup"><span data-stu-id="2c373-202">\Memory\PercentUsedMemory</span></span> |<span data-ttu-id="2c373-203">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-203">Percent</span></span> |
| <span data-ttu-id="2c373-204">\Mémoire\Pourcentage de mémoire utilisée par le cache</span><span class="sxs-lookup"><span data-stu-id="2c373-204">\Memory\PercentUsedByCache</span></span> |<span data-ttu-id="2c373-205">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-205">Percent</span></span> |
| <span data-ttu-id="2c373-206">\Mémoire\Pages par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-206">\Memory\PagesPerSec</span></span> |<span data-ttu-id="2c373-207">Nombre par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-207">CountPerSecond</span></span> |
| <span data-ttu-id="2c373-208">\Mémoire\Pages lues par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-208">\Memory\PagesReadPerSec</span></span> |<span data-ttu-id="2c373-209">Nombre par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-209">CountPerSecond</span></span> |
| <span data-ttu-id="2c373-210">\Mémoire\Pages écrites par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-210">\Memory\PagesWrittenPerSec</span></span> |<span data-ttu-id="2c373-211">Nombre par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-211">CountPerSecond</span></span> |
| <span data-ttu-id="2c373-212">\Mémoire\Échanges disponibles</span><span class="sxs-lookup"><span data-stu-id="2c373-212">\Memory\AvailableSwap</span></span> |<span data-ttu-id="2c373-213">Octets</span><span class="sxs-lookup"><span data-stu-id="2c373-213">Bytes</span></span> |
| <span data-ttu-id="2c373-214">\Mémoire\Pourcentage d’échanges disponibles</span><span class="sxs-lookup"><span data-stu-id="2c373-214">\Memory\PercentAvailableSwap</span></span> |<span data-ttu-id="2c373-215">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-215">Percent</span></span> |
| <span data-ttu-id="2c373-216">\Mémoire\Échanges utilisés</span><span class="sxs-lookup"><span data-stu-id="2c373-216">\Memory\UsedSwap</span></span> |<span data-ttu-id="2c373-217">Octets</span><span class="sxs-lookup"><span data-stu-id="2c373-217">Bytes</span></span> |
| <span data-ttu-id="2c373-218">\Mémoire\Pourcentage d’échanges utilisés</span><span class="sxs-lookup"><span data-stu-id="2c373-218">\Memory\PercentUsedSwap</span></span> |<span data-ttu-id="2c373-219">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-219">Percent</span></span> |
| <span data-ttu-id="2c373-220">\Processeur\Pourcentage de temps d’inactivité</span><span class="sxs-lookup"><span data-stu-id="2c373-220">\Processor\PercentIdleTime</span></span> |<span data-ttu-id="2c373-221">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-221">Percent</span></span> |
| <span data-ttu-id="2c373-222">\Processeur\Pourcentage de temps d’utilisateur</span><span class="sxs-lookup"><span data-stu-id="2c373-222">\Processor\PercentUserTime</span></span> |<span data-ttu-id="2c373-223">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-223">Percent</span></span> |
| <span data-ttu-id="2c373-224">\Processeur\Pourcentage de temps d’efficacité</span><span class="sxs-lookup"><span data-stu-id="2c373-224">\Processor\PercentNiceTime</span></span> |<span data-ttu-id="2c373-225">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-225">Percent</span></span> |
| <span data-ttu-id="2c373-226">\Processeur\Pourcentage de temps privilégié</span><span class="sxs-lookup"><span data-stu-id="2c373-226">\Processor\PercentPrivilegedTime</span></span> |<span data-ttu-id="2c373-227">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-227">Percent</span></span> |
| <span data-ttu-id="2c373-228">\Processeur\Pourcentage de temps d’interruption</span><span class="sxs-lookup"><span data-stu-id="2c373-228">\Processor\PercentInterruptTime</span></span> |<span data-ttu-id="2c373-229">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-229">Percent</span></span> |
| <span data-ttu-id="2c373-230">\Processeur\Pourcentage de temps d’appels de procédure différés (DPC)</span><span class="sxs-lookup"><span data-stu-id="2c373-230">\Processor\PercentDPCTime</span></span> |<span data-ttu-id="2c373-231">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-231">Percent</span></span> |
| <span data-ttu-id="2c373-232">\Processeur\Pourcentage de temps de processeur</span><span class="sxs-lookup"><span data-stu-id="2c373-232">\Processor\PercentProcessorTime</span></span> |<span data-ttu-id="2c373-233">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-233">Percent</span></span> |
| <span data-ttu-id="2c373-234">\Processeur\Pourcentage de temps d’attente</span><span class="sxs-lookup"><span data-stu-id="2c373-234">\Processor\PercentIOWaitTime</span></span> |<span data-ttu-id="2c373-235">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-235">Percent</span></span> |
| <span data-ttu-id="2c373-236">\Disque physique\Octets par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-236">\PhysicalDisk\BytesPerSecond</span></span> |<span data-ttu-id="2c373-237">Octets par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-237">BytesPerSecond</span></span> |
| <span data-ttu-id="2c373-238">\Disque physique\Octets lus par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-238">\PhysicalDisk\ReadBytesPerSecond</span></span> |<span data-ttu-id="2c373-239">Octets par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-239">BytesPerSecond</span></span> |
| <span data-ttu-id="2c373-240">\Disque physique\Octets écrits par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-240">\PhysicalDisk\WriteBytesPerSecond</span></span> |<span data-ttu-id="2c373-241">Octets par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-241">BytesPerSecond</span></span> |
| <span data-ttu-id="2c373-242">\Disque physique\Transferts par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-242">\PhysicalDisk\TransfersPerSecond</span></span> |<span data-ttu-id="2c373-243">Nombre par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-243">CountPerSecond</span></span> |
| <span data-ttu-id="2c373-244">\Disque physique\Lectures par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-244">\PhysicalDisk\ReadsPerSecond</span></span> |<span data-ttu-id="2c373-245">Nombre par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-245">CountPerSecond</span></span> |
| <span data-ttu-id="2c373-246">\Disque physique\Écritures par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-246">\PhysicalDisk\WritesPerSecond</span></span> |<span data-ttu-id="2c373-247">Nombre par seconde</span><span class="sxs-lookup"><span data-stu-id="2c373-247">CountPerSecond</span></span> |
| <span data-ttu-id="2c373-248">\Disque physique\Temps de lecture moyen</span><span class="sxs-lookup"><span data-stu-id="2c373-248">\PhysicalDisk\AverageReadTime</span></span> |<span data-ttu-id="2c373-249">Secondes</span><span class="sxs-lookup"><span data-stu-id="2c373-249">Seconds</span></span> |
| <span data-ttu-id="2c373-250">\Disque physique\Temps d’écriture moyen</span><span class="sxs-lookup"><span data-stu-id="2c373-250">\PhysicalDisk\AverageWriteTime</span></span> |<span data-ttu-id="2c373-251">Secondes</span><span class="sxs-lookup"><span data-stu-id="2c373-251">Seconds</span></span> |
| <span data-ttu-id="2c373-252">\Disque physique\Temps de transfert moyen</span><span class="sxs-lookup"><span data-stu-id="2c373-252">\PhysicalDisk\AverageTransferTime</span></span> |<span data-ttu-id="2c373-253">Secondes</span><span class="sxs-lookup"><span data-stu-id="2c373-253">Seconds</span></span> |
| <span data-ttu-id="2c373-254">\Disque physique\Longueur moyenne de la file d’attente du disque</span><span class="sxs-lookup"><span data-stu-id="2c373-254">\PhysicalDisk\AverageDiskQueueLength</span></span> |<span data-ttu-id="2c373-255">Nombre</span><span class="sxs-lookup"><span data-stu-id="2c373-255">Count</span></span> |
| <span data-ttu-id="2c373-256">\Interface réseau\Octets transmis</span><span class="sxs-lookup"><span data-stu-id="2c373-256">\NetworkInterface\BytesTransmitted</span></span> |<span data-ttu-id="2c373-257">Octets</span><span class="sxs-lookup"><span data-stu-id="2c373-257">Bytes</span></span> |
| <span data-ttu-id="2c373-258">\Interface réseau\Octets reçus</span><span class="sxs-lookup"><span data-stu-id="2c373-258">\NetworkInterface\BytesReceived</span></span> |<span data-ttu-id="2c373-259">Octets</span><span class="sxs-lookup"><span data-stu-id="2c373-259">Bytes</span></span> |
| <span data-ttu-id="2c373-260">\Interface réseau\Paquets transmis</span><span class="sxs-lookup"><span data-stu-id="2c373-260">\NetworkInterface\PacketsTransmitted</span></span> |<span data-ttu-id="2c373-261">Nombre</span><span class="sxs-lookup"><span data-stu-id="2c373-261">Count</span></span> |
| <span data-ttu-id="2c373-262">\Interface réseau\Paquets reçus</span><span class="sxs-lookup"><span data-stu-id="2c373-262">\NetworkInterface\PacketsReceived</span></span> |<span data-ttu-id="2c373-263">Nombre</span><span class="sxs-lookup"><span data-stu-id="2c373-263">Count</span></span> |
| <span data-ttu-id="2c373-264">\Interface réseau\Total des octets</span><span class="sxs-lookup"><span data-stu-id="2c373-264">\NetworkInterface\BytesTotal</span></span> |<span data-ttu-id="2c373-265">Octets</span><span class="sxs-lookup"><span data-stu-id="2c373-265">Bytes</span></span> |
| <span data-ttu-id="2c373-266">\Interface réseau\Total des erreurs Rx</span><span class="sxs-lookup"><span data-stu-id="2c373-266">\NetworkInterface\TotalRxErrors</span></span> |<span data-ttu-id="2c373-267">Nombre</span><span class="sxs-lookup"><span data-stu-id="2c373-267">Count</span></span> |
| <span data-ttu-id="2c373-268">\Interface réseau\Total des erreurs Tx</span><span class="sxs-lookup"><span data-stu-id="2c373-268">\NetworkInterface\TotalTxErrors</span></span> |<span data-ttu-id="2c373-269">Nombre</span><span class="sxs-lookup"><span data-stu-id="2c373-269">Count</span></span> |
| <span data-ttu-id="2c373-270">\Interface réseau\Total des collisions</span><span class="sxs-lookup"><span data-stu-id="2c373-270">\NetworkInterface\TotalCollisions</span></span> |<span data-ttu-id="2c373-271">Nombre</span><span class="sxs-lookup"><span data-stu-id="2c373-271">Count</span></span> |

## <a name="commonly-used-web-server-farm-metrics"></a><span data-ttu-id="2c373-272">Métriques web couramment utilisées (batterie de serveurs)</span><span class="sxs-lookup"><span data-stu-id="2c373-272">Commonly used Web (Server Farm) metrics</span></span>
<span data-ttu-id="2c373-273">Vous pouvez également effectuer la mise à l’échelle en fonction des métriques de serveur web courantes, telles que la longueur de file d’attente HTTP.</span><span class="sxs-lookup"><span data-stu-id="2c373-273">You can also perform autoscale based on common web server metrics such as the Http queue length.</span></span> <span data-ttu-id="2c373-274">Son nom de métrique est **Longueur de file d’attente HTTP**.</span><span class="sxs-lookup"><span data-stu-id="2c373-274">It's metric name is **HttpQueueLength**.</span></span>  <span data-ttu-id="2c373-275">La section suivante répertorie les métriques de batterie de serveurs (Web Apps) disponibles.</span><span class="sxs-lookup"><span data-stu-id="2c373-275">The following section lists available server farm (Web Apps) metrics.</span></span>

### <a name="web-apps-metrics"></a><span data-ttu-id="2c373-276">Métriques Web Apps</span><span class="sxs-lookup"><span data-stu-id="2c373-276">Web Apps metrics</span></span>
<span data-ttu-id="2c373-277">Vous pouvez utiliser la commande suivante dans PowerShell pour générer une liste des métriques Web Apps.</span><span class="sxs-lookup"><span data-stu-id="2c373-277">You can generate a list of the Web Apps metrics by using the following command in PowerShell.</span></span>

```
Get-AzureRmMetricDefinition -ResourceId <resource_id> | Format-Table -Property Name,Unit
```

<span data-ttu-id="2c373-278">Ces métriques permettent d’émettre une alerte ou de procéder à un mise à l’échelle.</span><span class="sxs-lookup"><span data-stu-id="2c373-278">You can alert on or scale by these metrics.</span></span>

| <span data-ttu-id="2c373-279">Nom de métrique</span><span class="sxs-lookup"><span data-stu-id="2c373-279">Metric Name</span></span> | <span data-ttu-id="2c373-280">Unité</span><span class="sxs-lookup"><span data-stu-id="2c373-280">Unit</span></span> |
| --- | --- |
| <span data-ttu-id="2c373-281">Pourcentage UC</span><span class="sxs-lookup"><span data-stu-id="2c373-281">CpuPercentage</span></span> |<span data-ttu-id="2c373-282">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-282">Percent</span></span> |
| <span data-ttu-id="2c373-283">Pourcentage mémoire</span><span class="sxs-lookup"><span data-stu-id="2c373-283">MemoryPercentage</span></span> |<span data-ttu-id="2c373-284">Pourcentage</span><span class="sxs-lookup"><span data-stu-id="2c373-284">Percent</span></span> |
| <span data-ttu-id="2c373-285">Longueur de file d’attente du disque</span><span class="sxs-lookup"><span data-stu-id="2c373-285">DiskQueueLength</span></span> |<span data-ttu-id="2c373-286">Nombre</span><span class="sxs-lookup"><span data-stu-id="2c373-286">Count</span></span> |
| <span data-ttu-id="2c373-287">Longueur de file d’attente HTTP</span><span class="sxs-lookup"><span data-stu-id="2c373-287">HttpQueueLength</span></span> |<span data-ttu-id="2c373-288">Nombre</span><span class="sxs-lookup"><span data-stu-id="2c373-288">Count</span></span> |
| <span data-ttu-id="2c373-289">Octets reçus</span><span class="sxs-lookup"><span data-stu-id="2c373-289">BytesReceived</span></span> |<span data-ttu-id="2c373-290">Octets</span><span class="sxs-lookup"><span data-stu-id="2c373-290">Bytes</span></span> |
| <span data-ttu-id="2c373-291">Octets envoyés</span><span class="sxs-lookup"><span data-stu-id="2c373-291">BytesSent</span></span> |<span data-ttu-id="2c373-292">Octets</span><span class="sxs-lookup"><span data-stu-id="2c373-292">Bytes</span></span> |

## <a name="commonly-used-storage-metrics"></a><span data-ttu-id="2c373-293">Métriques couramment utilisées dans Azure Storage</span><span class="sxs-lookup"><span data-stu-id="2c373-293">Commonly used Storage metrics</span></span>
<span data-ttu-id="2c373-294">Vous pouvez procéder à une mise à l’échelle en fonction de la métrique Longueur de file d’attente, qui correspond au nombre de messages dans la file d’attente de stockage.</span><span class="sxs-lookup"><span data-stu-id="2c373-294">You can scale by Storage queue length, which is the number of messages in the storage queue.</span></span> <span data-ttu-id="2c373-295">La longueur de file d’attente de stockage est une métrique spéciale et le seuil appliqué sera le nombre de messages par instance.</span><span class="sxs-lookup"><span data-stu-id="2c373-295">Storage queue length is a special metric and the threshold is the number of messages per instance.</span></span> <span data-ttu-id="2c373-296">Par exemple, si vous avez deux instances et que le seuil est défini sur 100, la mise à l’échelle aura lieu lorsque la file d’attente contiendra 200 messages.</span><span class="sxs-lookup"><span data-stu-id="2c373-296">For example, if there are two instances and if the threshold is set to 100, scaling occurs when the total number of messages in the queue is 200.</span></span> <span data-ttu-id="2c373-297">Cela peut être 100 messages par instance, 120 et 80 ou toute autre combinaison qui correspond à 200 ou plus.</span><span class="sxs-lookup"><span data-stu-id="2c373-297">That can be 100 messages per instance, 120 and 80, or any other combination that adds up to 200 or more.</span></span>

<span data-ttu-id="2c373-298">Configurez de paramètre dans le panneau **Paramètres** du Portail Azure.</span><span class="sxs-lookup"><span data-stu-id="2c373-298">Configure this setting in the Azure portal in the **Settings** blade.</span></span> <span data-ttu-id="2c373-299">Pour les jeux de mise à l’échelle de machine virtuelle, vous pouvez mettre à jour le paramètre Mise à l’échelle automatique dans le modèle Resource Manager afin d’utiliser *metricName* avec la valeur *ApproximateMessageCount*, puis transmettre l’ID de la file d’attente de stockage avec la valeur *metricResourceUri*.</span><span class="sxs-lookup"><span data-stu-id="2c373-299">For VM scale sets, you can update the Autoscale setting in the Resource Manager template to use *metricName* as *ApproximateMessageCount* and pass the ID of the storage queue as *metricResourceUri*.</span></span>

<span data-ttu-id="2c373-300">Par exemple, avec un compte de stockage classique, le paramètre de mise à l’échelle automatique metricTrigger peut inclure :</span><span class="sxs-lookup"><span data-stu-id="2c373-300">For example, with a Classic Storage Account the autoscale setting metricTrigger would include:</span></span>

```
"metricName": "ApproximateMessageCount",
 "metricNamespace": "",
 "metricResourceUri": "/subscriptions/SUBSCRIPTION_ID/resourceGroups/RES_GROUP_NAME/providers/Microsoft.ClassicStorage/storageAccounts/STORAGE_ACCOUNT_NAME/services/queue/queues/QUEUE_NAME"
 ```

<span data-ttu-id="2c373-301">Pour un compte de stockage (non classique), le paramètre metricTrigger peut inclure :</span><span class="sxs-lookup"><span data-stu-id="2c373-301">For a (non-classic) storage account, the metricTrigger would include:</span></span>

```
"metricName": "ApproximateMessageCount",
"metricNamespace": "",
"metricResourceUri": "/subscriptions/SUBSCRIPTION_ID/resourceGroups/RES_GROUP_NAME/providers/Microsoft.Storage/storageAccounts/STORAGE_ACCOUNT_NAME/services/queue/queues/QUEUE_NAME"
```

## <a name="commonly-used-service-bus-metrics"></a><span data-ttu-id="2c373-302">Métriques Service Bus généralement utilisées</span><span class="sxs-lookup"><span data-stu-id="2c373-302">Commonly used Service Bus metrics</span></span>
<span data-ttu-id="2c373-303">Vous pouvez procéder à une mise à l’échelle en fonction de la longueur de la file d’attente Service Bus, autrement dit en fonction du nombre de messages présents dans cette file d’attente.</span><span class="sxs-lookup"><span data-stu-id="2c373-303">You can scale by Service Bus queue length, which is the number of messages in the Service Bus queue.</span></span> <span data-ttu-id="2c373-304">La longueur de la file d’attente Service Bus est une métrique particulière. Le seuil correspond au nombre de messages par instance.</span><span class="sxs-lookup"><span data-stu-id="2c373-304">Service Bus queue length is a special metric and the threshold is the number of messages per instance.</span></span> <span data-ttu-id="2c373-305">Par exemple, si vous avez deux instances et que le seuil est défini sur 100, la mise à l’échelle aura lieu lorsque la file d’attente contiendra 200 messages.</span><span class="sxs-lookup"><span data-stu-id="2c373-305">For example, if there are two instances and if the threshold is set to 100, scaling occurs when the total number of messages in the queue is 200.</span></span> <span data-ttu-id="2c373-306">Cela peut être 100 messages par instance, 120 et 80 ou toute autre combinaison qui correspond à 200 ou plus.</span><span class="sxs-lookup"><span data-stu-id="2c373-306">That can be 100 messages per instance, 120 and 80, or any other combination that adds up to 200 or more.</span></span>

<span data-ttu-id="2c373-307">Pour les jeux de mise à l’échelle de machine virtuelle, vous pouvez mettre à jour le paramètre Mise à l’échelle automatique dans le modèle Resource Manager afin d’utiliser *metricName* avec la valeur *ApproximateMessageCount*, puis transmettre l’ID de la file d’attente de stockage avec la valeur *metricResourceUri*.</span><span class="sxs-lookup"><span data-stu-id="2c373-307">For VM scale sets, you can update the Autoscale setting in the Resource Manager template to use *metricName* as *ApproximateMessageCount* and pass the ID of the storage queue as *metricResourceUri*.</span></span>

```
"metricName": "MessageCount",
 "metricNamespace": "",
"metricResourceUri": "/subscriptions/SUBSCRIPTION_ID/resourceGroups/RES_GROUP_NAME/providers/Microsoft.ServiceBus/namespaces/SB_NAMESPACE/queues/QUEUE_NAME"
```

> [!NOTE]
> <span data-ttu-id="2c373-308">Le concept de groupe de ressources n’existe pas pour Service Bus, mais Azure Resource Manager crée un groupe de ressources par défaut par région.</span><span class="sxs-lookup"><span data-stu-id="2c373-308">For Service Bus, the resource group concept does not exist but Azure Resource Manager creates a default resource group per region.</span></span> <span data-ttu-id="2c373-309">Le groupe de ressources est généralement affiché au format « [Région] Service Bus par défaut ».</span><span class="sxs-lookup"><span data-stu-id="2c373-309">The resource group is usually in the 'Default-ServiceBus-[region]' format.</span></span> <span data-ttu-id="2c373-310">Par exemple, « Est des États-Unis Service Bus par défaut », « Ouest des États-Unis Service Bus par défaut », « Est de l’Australie Service Bus par défaut », etc.</span><span class="sxs-lookup"><span data-stu-id="2c373-310">For example, 'Default-ServiceBus-EastUS', 'Default-ServiceBus-WestUS', 'Default-ServiceBus-AustraliaEast' etc.</span></span>
>
>
