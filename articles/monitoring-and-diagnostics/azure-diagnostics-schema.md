---
title: "aaaAzure Diagnostics versions de schéma de configuration de l’extension et l’historique | Documents Microsoft"
description: "Compteurs de performance toocollecting pertinentes dans des Machines virtuelles Azure, jeux de mise à l’échelle de machine virtuelle, l’infrastructure de Service et Services de cloud computing."
services: monitoring-and-diagnostics
documentationcenter: .net
author: rboucher
manager: carmonm
editor: 
ms.assetid: 
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 05/16/2017
ms.author: robb
ms.openlocfilehash: 854ad118f660810aa38703670284794d658142c7
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-diagnostics-extention-configuration-schema-versions-and-history"></a><span data-ttu-id="3230c-103">Versions et historique des schémas de configuration de l’extension Azure Diagnostics | Microsoft Docs</span><span class="sxs-lookup"><span data-stu-id="3230c-103">Azure Diagnostics extention configuration schema versions and history</span></span>
<span data-ttu-id="3230c-104">Cette page d’index versions de schéma d’extension Azure Diagnostics partie intégrante d’hello Microsoft Azure SDK.</span><span class="sxs-lookup"><span data-stu-id="3230c-104">This page indexes Azure Diagnostics extension schema versions shipped as part of hello Microsoft Azure SDK.</span></span>  

> [!NOTE]
> <span data-ttu-id="3230c-105">Hello extension Azure Diagnostics est composant de hello utilisé toocollect les compteurs de performance et d’autres statistiques à partir de :</span><span class="sxs-lookup"><span data-stu-id="3230c-105">hello Azure Diagnostics extension is hello component used toocollect performance counters and other statistics from:</span></span>
> - <span data-ttu-id="3230c-106">Machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="3230c-106">Azure Virtual Machines</span></span> 
> - <span data-ttu-id="3230c-107">Jeux de mise à l’échelle de machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="3230c-107">Virtual Machine Scale Sets</span></span>
> - <span data-ttu-id="3230c-108">Service Fabric</span><span class="sxs-lookup"><span data-stu-id="3230c-108">Service Fabric</span></span> 
> - <span data-ttu-id="3230c-109">Services cloud</span><span class="sxs-lookup"><span data-stu-id="3230c-109">Cloud Services</span></span> 
> - <span data-ttu-id="3230c-110">Groupes de sécurité réseau</span><span class="sxs-lookup"><span data-stu-id="3230c-110">Network Security Groups</span></span>
> 
> <span data-ttu-id="3230c-111">Cette page vous concerne uniquement si vous utilisez l’un de ces services.</span><span class="sxs-lookup"><span data-stu-id="3230c-111">This page is only relevant if you are using one of these services.</span></span>

<span data-ttu-id="3230c-112">Hello extension Azure Diagnostics est utilisé avec d’autres produits de diagnostics de Microsoft, analyse d’Azure, Application Insights et Analytique de journal.</span><span class="sxs-lookup"><span data-stu-id="3230c-112">hello Azure Diagnostics extension is used with other Microsoft diagnostics products like Azure Monitor, Application Insights, and Log Analytics.</span></span> <span data-ttu-id="3230c-113">Pour plus d’informations, voir [Présentation des outils d’analyse Microsoft](monitoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3230c-113">For more information see [Microsoft Monitoring Tools Overview](monitoring-overview.md).</span></span>

## <a name="azure-sdk-and-diagnostics-versions-shipping-chart"></a><span data-ttu-id="3230c-114">Graphique des versions d’Azure Diagnostics et SDK</span><span class="sxs-lookup"><span data-stu-id="3230c-114">Azure SDK and diagnostics versions shipping chart</span></span>  

|<span data-ttu-id="3230c-115">Version du kit Azure SDK</span><span class="sxs-lookup"><span data-stu-id="3230c-115">Azure SDK version</span></span> | <span data-ttu-id="3230c-116">Version d’extension Azure Diagnostics</span><span class="sxs-lookup"><span data-stu-id="3230c-116">Diagnostics extension version</span></span> | <span data-ttu-id="3230c-117">Modèle</span><span class="sxs-lookup"><span data-stu-id="3230c-117">Model</span></span>|  
|------------------|-------------------------------|------|  
|<span data-ttu-id="3230c-118">1.x</span><span class="sxs-lookup"><span data-stu-id="3230c-118">1.x</span></span>               |<span data-ttu-id="3230c-119">1.0</span><span class="sxs-lookup"><span data-stu-id="3230c-119">1.0</span></span>                            |<span data-ttu-id="3230c-120">plug-in</span><span class="sxs-lookup"><span data-stu-id="3230c-120">plug-in</span></span>|  
|<span data-ttu-id="3230c-121">2.0 - 2.4</span><span class="sxs-lookup"><span data-stu-id="3230c-121">2.0 - 2.4</span></span>         |<span data-ttu-id="3230c-122">1.0</span><span class="sxs-lookup"><span data-stu-id="3230c-122">1.0</span></span>                            |<span data-ttu-id="3230c-123">plug-in</span><span class="sxs-lookup"><span data-stu-id="3230c-123">plug-in</span></span>|  
|<span data-ttu-id="3230c-124">2.5</span><span class="sxs-lookup"><span data-stu-id="3230c-124">2.5</span></span>               |<span data-ttu-id="3230c-125">1.2</span><span class="sxs-lookup"><span data-stu-id="3230c-125">1.2</span></span>                            |<span data-ttu-id="3230c-126">extension</span><span class="sxs-lookup"><span data-stu-id="3230c-126">extension</span></span>|  
|<span data-ttu-id="3230c-127">2.6</span><span class="sxs-lookup"><span data-stu-id="3230c-127">2.6</span></span>               |<span data-ttu-id="3230c-128">1.3</span><span class="sxs-lookup"><span data-stu-id="3230c-128">1.3</span></span>                            |<span data-ttu-id="3230c-129">"</span><span class="sxs-lookup"><span data-stu-id="3230c-129">"</span></span>|  
|<span data-ttu-id="3230c-130">2.7</span><span class="sxs-lookup"><span data-stu-id="3230c-130">2.7</span></span>               |<span data-ttu-id="3230c-131">1.4</span><span class="sxs-lookup"><span data-stu-id="3230c-131">1.4</span></span>                            |<span data-ttu-id="3230c-132">"</span><span class="sxs-lookup"><span data-stu-id="3230c-132">"</span></span>|  
|<span data-ttu-id="3230c-133">2.8</span><span class="sxs-lookup"><span data-stu-id="3230c-133">2.8</span></span>               |<span data-ttu-id="3230c-134">1.5</span><span class="sxs-lookup"><span data-stu-id="3230c-134">1.5</span></span>                            |<span data-ttu-id="3230c-135">"</span><span class="sxs-lookup"><span data-stu-id="3230c-135">"</span></span>|  
|<span data-ttu-id="3230c-136">2,9</span><span class="sxs-lookup"><span data-stu-id="3230c-136">2.9</span></span>               |<span data-ttu-id="3230c-137">1.6</span><span class="sxs-lookup"><span data-stu-id="3230c-137">1.6</span></span>                            |<span data-ttu-id="3230c-138">"</span><span class="sxs-lookup"><span data-stu-id="3230c-138">"</span></span>|
|<span data-ttu-id="3230c-139">2.96</span><span class="sxs-lookup"><span data-stu-id="3230c-139">2.96</span></span>              |<span data-ttu-id="3230c-140">1.7</span><span class="sxs-lookup"><span data-stu-id="3230c-140">1.7</span></span>                            |<span data-ttu-id="3230c-141">"</span><span class="sxs-lookup"><span data-stu-id="3230c-141">"</span></span>|
|<span data-ttu-id="3230c-142">2.96</span><span class="sxs-lookup"><span data-stu-id="3230c-142">2.96</span></span>              |<span data-ttu-id="3230c-143">1.8</span><span class="sxs-lookup"><span data-stu-id="3230c-143">1.8</span></span>                            |<span data-ttu-id="3230c-144">"</span><span class="sxs-lookup"><span data-stu-id="3230c-144">"</span></span>|
|<span data-ttu-id="3230c-145">2.96</span><span class="sxs-lookup"><span data-stu-id="3230c-145">2.96</span></span>              |<span data-ttu-id="3230c-146">1.8.1</span><span class="sxs-lookup"><span data-stu-id="3230c-146">1.8.1</span></span>                          |<span data-ttu-id="3230c-147">"</span><span class="sxs-lookup"><span data-stu-id="3230c-147">"</span></span>|
|<span data-ttu-id="3230c-148">2.96</span><span class="sxs-lookup"><span data-stu-id="3230c-148">2.96</span></span>              |<span data-ttu-id="3230c-149">1.9</span><span class="sxs-lookup"><span data-stu-id="3230c-149">1.9</span></span>                            |<span data-ttu-id="3230c-150">"</span><span class="sxs-lookup"><span data-stu-id="3230c-150">"</span></span>|



 <span data-ttu-id="3230c-151">Diagnostics Windows Azure version 1.0 livré dans un modèle de plug-in, c'est-à-dire que, lorsque vous avez installé hello Azure SDK, vous avez obtenu version hello des diagnostics Azure fournis.</span><span class="sxs-lookup"><span data-stu-id="3230c-151">Azure Diagnostics version 1.0 first shipped in a plug-in model -- meaning that when you installed hello Azure SDK, you got hello version of Azure diagnostics shipped with it.</span></span>  

 <span data-ttu-id="3230c-152">SDK 2.5 (diagnostics version 1.2), compter des diagnostics Windows Azure est allé tooan modèle d’extension.</span><span class="sxs-lookup"><span data-stu-id="3230c-152">Starting with SDK 2.5 (diagnostics version 1.2), Azure diagnostics went tooan extension model.</span></span> <span data-ttu-id="3230c-153">Hello outils tooutilize nouvelles fonctionnalités ont uniquement disponibles dans les kits de développement Azure plus récente, mais n’importe quel service à l’aide des diagnostics Azure choisit directement à partir d’Azure hello copie plus récente.</span><span class="sxs-lookup"><span data-stu-id="3230c-153">hello tools tooutilize new features were only available in newer Azure SDKs, but any service using Azure diagnostics would pick up hello latest shipping version directly from Azure.</span></span> <span data-ttu-id="3230c-154">Par exemple, toute personne qui utilise toujours les SDK 2.5 serait chargement version la plus récente hello indiquée dans le tableau précédent de hello, peu importe s’ils sont de nouvelles fonctionnalités de hello.</span><span class="sxs-lookup"><span data-stu-id="3230c-154">For example, anyone still using SDK 2.5 would be loading hello latest version shown in hello previous table, regardless if they are using hello newer features.</span></span>  

## <a name="schemas-index"></a><span data-ttu-id="3230c-155">Index des schémas</span><span class="sxs-lookup"><span data-stu-id="3230c-155">Schemas index</span></span>  
<span data-ttu-id="3230c-156">Les différentes versions d’Azure Diagnostics utilisent des schémas de configuration différents.</span><span class="sxs-lookup"><span data-stu-id="3230c-156">Different versions of Azure diagnostics use different configuration schemas.</span></span> 

[<span data-ttu-id="3230c-157">Schéma de configuration des diagnostics 1.0</span><span class="sxs-lookup"><span data-stu-id="3230c-157">Diagnostics 1.0 Configuration Schema</span></span>](azure-diagnostics-schema-1dot0.md)  

[<span data-ttu-id="3230c-158">Schéma de configuration des diagnostics 1.2</span><span class="sxs-lookup"><span data-stu-id="3230c-158">Diagnostics 1.2 Configuration Schema</span></span>](azure-diagnostics-schema-1dot2.md)  

[<span data-ttu-id="3230c-159">Diagnostics 1.3 et schéma de configuration ultérieur</span><span class="sxs-lookup"><span data-stu-id="3230c-159">Diagnostics 1.3 and later Configuration Schema</span></span>](azure-diagnostics-schema-1dot3-and-later.md)  

## <a name="version-history"></a><span data-ttu-id="3230c-160">Historique des versions</span><span class="sxs-lookup"><span data-stu-id="3230c-160">Version history</span></span>


### <a name="diagnostics-extension-19"></a><span data-ttu-id="3230c-161">Extension d’Azure Diagnostics 1.9</span><span class="sxs-lookup"><span data-stu-id="3230c-161">Diagnostics extension 1.9</span></span> 
<span data-ttu-id="3230c-162">Prise en charge de Docker ajoutée.</span><span class="sxs-lookup"><span data-stu-id="3230c-162">Added Docker support.</span></span>


### <a name="diagnostics-extension-181"></a><span data-ttu-id="3230c-163">Extension d’Azure Diagnostics 1.8.1</span><span class="sxs-lookup"><span data-stu-id="3230c-163">Diagnostics extension 1.8.1</span></span> 
<span data-ttu-id="3230c-164">Pouvez de spécifier un jeton SAP au lieu d’une clé de compte de stockage dans la configuration privée de hello. Si un jeton SAP est fourni, la clé de compte de stockage hello est ignorée.</span><span class="sxs-lookup"><span data-stu-id="3230c-164">Can specify a SAS token instead of a storage account key in hello private config. If a SAS token is provided, hello storage account key is ignored.</span></span>


```json
{
    "storageAccountName": "diagstorageaccount",
    "storageAccountEndPoint": "https://core.windows.net",
    "storageAccountSasToken": "{sas token}",
    "SecondaryStorageAccounts": {
        "StorageAccount": [
            {
                "name": "secondarydiagstorageaccount",
                "endpoint": "https://core.windows.net",
                "sasToken": "{sas token}"
            }
        ]
    }
}
```

```xml
<PrivateConfig>
    <StorageAccount name="diagstorageaccount" endpoint="https://core.windows.net" sasToken="{sas token}" />
    <SecondaryStorageAccounts>
        <StorageAccount name="secondarydiagstorageaccount" endpoint="https://core.windows.net" sasToken="{sas token}" />
    </SecondaryStorageAccounts>
</PrivateConfig>
```


### <a name="diagnostics-extension-18"></a><span data-ttu-id="3230c-165">Extension d’Azure Diagnostics 1.8</span><span class="sxs-lookup"><span data-stu-id="3230c-165">Diagnostics extension 1.8</span></span> 
<span data-ttu-id="3230c-166">TooPublicConfig de Type de stockage ajouté.</span><span class="sxs-lookup"><span data-stu-id="3230c-166">Added Storage Type tooPublicConfig.</span></span> <span data-ttu-id="3230c-167">Le type de stockage (StorageType) peut être *Table*, *Blob* ou *TableAndBlob*.</span><span class="sxs-lookup"><span data-stu-id="3230c-167">StorageType can be *Table*, *Blob*, *TableAndBlob*.</span></span> <span data-ttu-id="3230c-168">*Table* est la valeur par défaut hello.</span><span class="sxs-lookup"><span data-stu-id="3230c-168">*Table* is hello default.</span></span>


```json
{
    "WadCfg": {
    },
    "StorageAccount": "diagstorageaccount",
    "StorageType": "TableAndBlob"
}
```

```xml
<PublicConfig>
    <WadCfg />
    <StorageAccount>diagstorageaccount</StorageAccount>
    <StorageType>TableAndBlob</StorageType>
</PublicConfig>
```


### <a name="diagnostics-extension-17"></a><span data-ttu-id="3230c-169">Extension d’Azure Diagnostics 1.7</span><span class="sxs-lookup"><span data-stu-id="3230c-169">Diagnostics extension 1.7</span></span> 
<span data-ttu-id="3230c-170">Hello ajouté capacité tooroute tooEventHub.</span><span class="sxs-lookup"><span data-stu-id="3230c-170">Added hello ability tooroute tooEventHub.</span></span>

### <a name="diagnostics-extension-15"></a><span data-ttu-id="3230c-171">Extension de diagnostic 1.5</span><span class="sxs-lookup"><span data-stu-id="3230c-171">Diagnostics extension 1.5</span></span>
<span data-ttu-id="3230c-172">Ajouté hello récepteurs trop d’élément et hello les données de diagnostic capacité toosend[Application Insights](../application-insights/app-insights-cloudservices.md) rend plus facile toodiagnose problèmes sur votre application, ainsi que les au niveau du système et l’infrastructure hello.</span><span class="sxs-lookup"><span data-stu-id="3230c-172">Added hello sinks element and hello ability toosend diagnostics data too[Application Insights](../application-insights/app-insights-cloudservices.md) making it easier toodiagnose issues across your application as well as hello system and infrastructure level.</span></span>

### <a name="azure-sdk-26-and-diagnostics-extension-13"></a><span data-ttu-id="3230c-173">Extension 1.3 d’Azure Diagnostics et du kit Azure SDK 2.6</span><span class="sxs-lookup"><span data-stu-id="3230c-173">Azure SDK 2.6 and diagnostics extension 1.3</span></span> 
<span data-ttu-id="3230c-174">Pour les projets de Service Cloud dans Visual Studio, hello modifications suivantes ont été apportée.</span><span class="sxs-lookup"><span data-stu-id="3230c-174">For Cloud Service projects in Visual Studio, hello following changes were made.</span></span> <span data-ttu-id="3230c-175">(Ces modifications s’appliquent également toolater les versions de Windows Azure SDK.)</span><span class="sxs-lookup"><span data-stu-id="3230c-175">(These changes also apply toolater versions of Azure SDK.)</span></span>

* <span data-ttu-id="3230c-176">émulateur local de Hello prend désormais en charge les diagnostics.</span><span class="sxs-lookup"><span data-stu-id="3230c-176">hello local emulator now supports diagnostics.</span></span> <span data-ttu-id="3230c-177">Cela signifie que vous pouvez collecter des données de diagnostic et vérifiez que votre application crée hello traces appropriées lorsque vous développez et testez dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="3230c-177">This means you can collect diagnostics data and ensure your application is creating hello right traces while you're developing and testing in Visual Studio.</span></span> <span data-ttu-id="3230c-178">chaîne de connexion de Hello `UseDevelopmentStorage=true` permet la collecte de données de diagnostic lorsque vous exécutez votre projet de service cloud dans Visual Studio à l’aide d’émulateur de stockage Azure hello.</span><span class="sxs-lookup"><span data-stu-id="3230c-178">hello connection string `UseDevelopmentStorage=true` enables diagnostics data collection while you're running your cloud service project in Visual Studio by using hello Azure storage emulator.</span></span> <span data-ttu-id="3230c-179">Toutes les données de diagnostic sont collectées dans le compte de stockage hello (stockage de développement).</span><span class="sxs-lookup"><span data-stu-id="3230c-179">All diagnostics data is collected in hello (Development Storage) storage account.</span></span>
* <span data-ttu-id="3230c-180">chaîne de connexion de compte des stockage Hello diagnostics (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) est stocké à nouveau dans le fichier de configuration (.cscfg) de service hello.</span><span class="sxs-lookup"><span data-stu-id="3230c-180">hello diagnostics storage account connection string (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) is stored once again in hello service configuration (.cscfg) file.</span></span> <span data-ttu-id="3230c-181">Compte de stockage de diagnostics hello Azure SDK 2.5 a été spécifié dans le fichier diagnostics.wadcfgx de hello.</span><span class="sxs-lookup"><span data-stu-id="3230c-181">In Azure SDK 2.5 hello diagnostics storage account was specified in hello diagnostics.wadcfgx file.</span></span>

<span data-ttu-id="3230c-182">Il existe des différences notables entre la chaîne de connexion hello travaillé dans Azure SDK 2.4 et versions antérieures, et comment il fonctionne dans Azure SDK 2.6 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="3230c-182">There are some notable differences between how hello connection string worked in Azure SDK 2.4 and earlier and how it works in Azure SDK 2.6 and later.</span></span>

* <span data-ttu-id="3230c-183">Dans Azure SDK 2.4 et versions antérieures, chaîne de connexion hello a été utilisé comme un runtime par hello plug-in tooget hello stockage compte des informations de diagnostic pour le transfert des journaux de diagnostic.</span><span class="sxs-lookup"><span data-stu-id="3230c-183">In Azure SDK 2.4 and earlier, hello connection string was used as a runtime by hello diagnostics plugin tooget hello storage account information for transferring diagnostics logs.</span></span>
* <span data-ttu-id="3230c-184">Dans Azure SDK 2.6 et versions ultérieures, la chaîne de connexion de diagnostics de hello est utilisée par l’extension de Visual Studio tooconfigure hello diagnostics avec les informations de compte de stockage approprié hello lors de la publication.</span><span class="sxs-lookup"><span data-stu-id="3230c-184">In Azure SDK 2.6 and later, hello diagnostics connection string is used by Visual Studio tooconfigure hello diagnostics extension with hello appropriate storage account information during publishing.</span></span> <span data-ttu-id="3230c-185">chaîne de connexion Hello permet de définir les comptes de stockage différentes pour différentes configurations de service que Visual Studio utilisera lors de la publication.</span><span class="sxs-lookup"><span data-stu-id="3230c-185">hello connection string lets you define different storage accounts for different service configurations that Visual Studio will use when publishing.</span></span> <span data-ttu-id="3230c-186">Toutefois, étant donné que le plug-in des diagnostics hello n’est plus disponible (après Azure SDK 2.5), fichier .cscfg de hello par lui-même ne peut pas activer hello Extension des Diagnostics.</span><span class="sxs-lookup"><span data-stu-id="3230c-186">However, because hello diagnostics plugin is no longer available (after Azure SDK 2.5), hello .cscfg file by itself can't enable hello Diagnostics Extension.</span></span> <span data-ttu-id="3230c-187">Vous disposez d’extension de hello tooenable séparément par le biais d’outils tels que Visual Studio ou PowerShell.</span><span class="sxs-lookup"><span data-stu-id="3230c-187">You have tooenable hello extension separately through tools such as Visual Studio or PowerShell.</span></span>
* <span data-ttu-id="3230c-188">processus de hello toosimplify de configuration de l’extension de diagnostics hello avec PowerShell, sortie hello du package à partir de Visual Studio contient également hello publique XML de configuration pour l’extension diagnostics hello pour chaque rôle.</span><span class="sxs-lookup"><span data-stu-id="3230c-188">toosimplify hello process of configuring hello diagnostics extension with PowerShell, hello package output from Visual Studio also contains hello public configuration XML for hello diagnostics extension for each role.</span></span> <span data-ttu-id="3230c-189">Visual Studio utilise hello diagnostics connexion chaîne toopopulate hello compte de stockage informations présente dans la configuration publique de hello.</span><span class="sxs-lookup"><span data-stu-id="3230c-189">Visual Studio uses hello diagnostics connection string toopopulate hello storage account information present in hello public configuration.</span></span> <span data-ttu-id="3230c-190">les fichiers de configuration publics Hello sont créés dans le dossier d’Extensions hello et suivent hello modèle PaaSDiagnostics. <RoleName>. PubConfig.xml.</span><span class="sxs-lookup"><span data-stu-id="3230c-190">hello public config files are created in hello Extensions folder and follow hello pattern PaaSDiagnostics.<RoleName>.PubConfig.xml.</span></span> <span data-ttu-id="3230c-191">Tout déploiement basé sur PowerShell peut utiliser toomap de ce modèle chaque tooa configuration rôle.</span><span class="sxs-lookup"><span data-stu-id="3230c-191">Any PowerShell based deployments can use this pattern toomap each configuration tooa Role.</span></span>
* <span data-ttu-id="3230c-192">Hello chaîne de connexion dans le fichier .cscfg de hello est également utilisé par hello les données de diagnostic hello tooaccess portail Azure afin de pouvoir Bonjour **analyse** chaîne de connexion onglet hello est nécessaire tooconfigure hello service tooshow détaillé données d’analyse dans le portail de hello.</span><span class="sxs-lookup"><span data-stu-id="3230c-192">hello connection string in hello .cscfg file is also used by hello Azure portal tooaccess hello diagnostics data so it can appear in hello **Monitoring** tab. hello connection string is needed tooconfigure hello service tooshow verbose monitoring data in hello portal.</span></span>

#### <a name="migrating-projects-tooazure-sdk-26-and-later"></a><span data-ttu-id="3230c-193">Migration des projets tooAzure SDK 2.6 et versions ultérieur</span><span class="sxs-lookup"><span data-stu-id="3230c-193">Migrating projects tooAzure SDK 2.6 and later</span></span>
<span data-ttu-id="3230c-194">Lors de la migration à partir d’Azure SDK 2.5 tooAzure SDK 2.6 ou version ultérieure, si vous avez un compte de stockage de diagnostics spécifié dans le fichier .wadcfgx de hello, puis il y restera.</span><span class="sxs-lookup"><span data-stu-id="3230c-194">When migrating from Azure SDK 2.5 tooAzure SDK 2.6 or later, if you had a diagnostics storage account specified in hello .wadcfgx file, then it will stay there.</span></span> <span data-ttu-id="3230c-195">avantage tootake de flexibilité hello d’utilisation de stockage différents comptes pour diverses configurations de stockage, vous avez toomanually ajouter un projet de tooyour de chaîne de connexion hello.</span><span class="sxs-lookup"><span data-stu-id="3230c-195">tootake advantage of hello flexibility of using different storage accounts for different storage configurations, you'll have toomanually add hello connection string tooyour project.</span></span> <span data-ttu-id="3230c-196">Si vous migrez un projet à partir d’Azure SDK 2.4 ou antérieure tooAzure 2.6 du Kit de développement logiciel, puis hello diagnostics des chaînes de connexion sont conservés.</span><span class="sxs-lookup"><span data-stu-id="3230c-196">If you're migrating a project from Azure SDK 2.4 or earlier tooAzure SDK 2.6, then hello diagnostics connection strings are preserved.</span></span> <span data-ttu-id="3230c-197">Toutefois, notez les modifications hello dans la façon dont les chaînes de connexion sont traitées dans Azure SDK 2.6 comme spécifié dans la section précédente de hello.</span><span class="sxs-lookup"><span data-stu-id="3230c-197">However, please note hello changes in how connection strings are treated in Azure SDK 2.6 as specified in hello previous section.</span></span>

#### <a name="how-visual-studio-determines-hello-diagnostics-storage-account"></a><span data-ttu-id="3230c-198">Comment Visual Studio détermine le compte de stockage de diagnostics hello</span><span class="sxs-lookup"><span data-stu-id="3230c-198">How Visual Studio determines hello diagnostics storage account</span></span>
* <span data-ttu-id="3230c-199">Si une chaîne de connexion de diagnostic est spécifiée dans le fichier .cscfg de hello, Visual Studio utilise extension de diagnostics tooconfigure hello lors de la publication et lors de la génération des fichiers xml de configuration publique hello lors de l’empaquetage.</span><span class="sxs-lookup"><span data-stu-id="3230c-199">If a diagnostics connection string is specified in hello .cscfg file, Visual Studio uses it tooconfigure hello diagnostics extension when publishing, and when generating hello public configuration xml files during packaging.</span></span>
* <span data-ttu-id="3230c-200">Si aucune chaîne de connexion de diagnostic n’est spécifié dans le fichier .cscfg de hello, puis Visual Studio revient compte de stockage toousing hello spécifié dans hello .wadcfgx tooconfigure hello diagnostics extension de fichier lors de la publication et la génération hello public fichiers de xml de configuration lors de la compression.</span><span class="sxs-lookup"><span data-stu-id="3230c-200">If no diagnostics connection string is specified in hello .cscfg file, then Visual Studio falls back toousing hello storage account specified in hello .wadcfgx file tooconfigure hello diagnostics extension when publishing, and generating hello public configuration xml files when packaging.</span></span>
* <span data-ttu-id="3230c-201">chaîne de connexion des diagnostics Hello dans le fichier .cscfg de hello est prioritaire sur le compte de stockage hello dans le fichier .wadcfgx de hello.</span><span class="sxs-lookup"><span data-stu-id="3230c-201">hello diagnostics connection string in hello .cscfg file takes precedence over hello storage account in hello .wadcfgx file.</span></span> <span data-ttu-id="3230c-202">Si une chaîne de connexion de diagnostic est spécifiée dans le fichier .cscfg de hello, puis Visual Studio qui utilise et ignore le compte de stockage hello dans .wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="3230c-202">If a diagnostics connection string is specified in hello .cscfg file, then Visual Studio uses that and ignores hello storage account in .wadcfgx.</span></span>

#### <a name="what-does-hello-update-development-storage-connection-strings-checkbox-do"></a><span data-ttu-id="3230c-203">Ce qui hello « Mettre à jour les chaînes de connexion de stockage de développement... »</span><span class="sxs-lookup"><span data-stu-id="3230c-203">What does hello "Update development storage connection strings…"</span></span> <span data-ttu-id="3230c-204"> ?</span><span class="sxs-lookup"><span data-stu-id="3230c-204">checkbox do?</span></span>
<span data-ttu-id="3230c-205">Hello case à cocher pour **mettre à jour les chaînes de connexion de stockage de développement pour les Diagnostics et la mise en cache avec les informations d’identification de compte de stockage Microsoft Azure lors de la publication tooMicrosoft Azure** vous offre un moyen pratique de tooupdate tout chaînes de connexion de compte de stockage de développement avec le compte de stockage Azure hello spécifié lors de la publication.</span><span class="sxs-lookup"><span data-stu-id="3230c-205">hello checkbox for **Update development storage connection strings for Diagnostics and Caching with Microsoft Azure storage account credentials when publishing tooMicrosoft Azure** gives you a convenient way tooupdate any development storage account connection strings with hello Azure storage account specified during publishing.</span></span>

<span data-ttu-id="3230c-206">Par exemple, supposons que vous sélectionnez cette case à cocher et la chaîne de connexion de diagnostic hello spécifie `UseDevelopmentStorage=true`.</span><span class="sxs-lookup"><span data-stu-id="3230c-206">For example, suppose you select this checkbox and hello diagnostics connection string specifies `UseDevelopmentStorage=true`.</span></span> <span data-ttu-id="3230c-207">Lorsque vous publiez hello projet tooAzure, Visual Studio met automatiquement à jour chaîne de connexion des diagnostics hello avec compte de stockage hello que vous avez spécifié dans l’Assistant de publication hello.</span><span class="sxs-lookup"><span data-stu-id="3230c-207">When you publish hello project tooAzure, Visual Studio will automatically update hello diagnostics connection string with hello storage account you specified in hello Publish wizard.</span></span> <span data-ttu-id="3230c-208">Toutefois, si un compte de stockage réel a été spécifié comme chaîne de connexion des diagnostics hello, ce compte est utilisé à la place.</span><span class="sxs-lookup"><span data-stu-id="3230c-208">However, if a real storage account was specified as hello diagnostics connection string, then that account is used instead.</span></span>

### <a name="diagnostics-functionality-differences-between-azure-sdk-24-and-earlier-and-azure-sdk-25-and-later"></a><span data-ttu-id="3230c-209">Différences entre les fonctionnalités de diagnostics du Kit de développement logiciel (SDK) Azure 2.4 et les versions antérieures et du Kit de développement logiciel (SDK) Azure 2.5 et les versions ultérieures</span><span class="sxs-lookup"><span data-stu-id="3230c-209">Diagnostics functionality differences between Azure SDK 2.4 and earlier and Azure SDK 2.5 and later</span></span>
<span data-ttu-id="3230c-210">Si vous mettez à niveau votre projet à partir d’Azure SDK 2.4 tooAzure SDK 2.5 ou version ultérieure, vous devez garder à hello esprit suivant des différences de fonctionnalités de diagnostics.</span><span class="sxs-lookup"><span data-stu-id="3230c-210">If you're upgrading your project from Azure SDK 2.4 tooAzure SDK 2.5 or later, you should bear in mind hello following diagnostics functionality differences.</span></span>

* <span data-ttu-id="3230c-211">**Les API de configuration sont déconseillées** : la configuration par programmation des diagnostics est disponible dans le Kit de développement logiciel (SDK) Azure 2.4 ou les versions antérieures, mais déconseillée dans le Kit de développement logiciel (SDK) Azure 2.5 et les versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="3230c-211">**Configuration APIs are deprecated** – Programmatic configuration of diagnostics is available in Azure SDK 2.4 or earlier versions, but is deprecated in Azure SDK 2.5 and later.</span></span> <span data-ttu-id="3230c-212">Si votre configuration des diagnostics est actuellement définie dans le code, vous devez tooreconfigure ces paramètres à partir de zéro dans le projet migré de hello dans l’ordre pour l’utilisation de diagnostics tookeep.</span><span class="sxs-lookup"><span data-stu-id="3230c-212">If your diagnostics configuration is currently defined in code, you'll need tooreconfigure those settings from scratch in hello migrated project in order for diagnostics tookeep working.</span></span> <span data-ttu-id="3230c-213">fichier de configuration des diagnostics Hello pour Azure SDK 2.4 est diagnostics.wadcfg et diagnostics.wadcfgx pour Azure SDK 2.5 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="3230c-213">hello diagnostics configuration file for Azure SDK 2.4 is diagnostics.wadcfg, and diagnostics.wadcfgx for Azure SDK 2.5 and later.</span></span>
* <span data-ttu-id="3230c-214">**Diagnostics pour les applications de service cloud peuvent être configurées uniquement au niveau du rôle hello, pas au niveau de l’instance hello.**</span><span class="sxs-lookup"><span data-stu-id="3230c-214">**Diagnostics for cloud service applications can only be configured at hello role level, not at hello instance level.**</span></span>
* <span data-ttu-id="3230c-215">**Chaque fois que vous déployez votre application, la configuration des diagnostics hello est mise à jour** : cela peut entraîner des problèmes de parité si vous modifiez votre configuration des diagnostics à partir de l’Explorateur de serveurs et redéployez votre application.</span><span class="sxs-lookup"><span data-stu-id="3230c-215">**Every time you deploy your app, hello diagnostics configuration is updated** – This can cause parity issues if you change your diagnostics configuration from Server Explorer and then redeploy your app.</span></span>
* <span data-ttu-id="3230c-216">**Dans Azure SDK 2.5 et versions ultérieures, les vidages sur incident sont configurés dans le fichier de configuration de diagnostics hello, pas dans le code** – si vous avez des vidages sur incident configurés dans le code, vous aurez une configuration du transfert de hello toomanually toohello configuration fichier de code, Étant donné que les vidages sur incident de hello ne sont pas transférées au cours de la migration de hello tooAzure 2.6 du Kit de développement logiciel.</span><span class="sxs-lookup"><span data-stu-id="3230c-216">**In Azure SDK 2.5 and later, crash dumps are configured in hello diagnostics configuration file, not in code** – If you have crash dumps configured in code, you'll have toomanually transfer hello configuration from code toohello configuration file, because hello crash dumps aren't transferred during hello migration tooAzure SDK 2.6.</span></span>

