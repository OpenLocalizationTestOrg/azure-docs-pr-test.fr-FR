---
title: aaaCreate web API & API REST en tant que connecteurs - Azure Logic Apps | Documents Microsoft
description: "Créer toocall API & API REST de web API, des services ou des systèmes de flux de travail pour l’intégration des systèmes avec Azure Logic Apps"
keywords: "API web, API REST, connecteurs, flux de travail, intégration système"
services: logic-apps
author: jeffhollan
manager: anneta
editor: 
documentationcenter: 
ms.assetid: bd229179-7199-4aab-bae0-1baf072c7659
ms.service: logic-apps
ms.workload: integration
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 5/26/2017
ms.author: LADocs; jehollan
ms.openlocfilehash: 2792204d1d298a6f810e75211c1789ee204c2fdf
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="create-custom-apis-as-connectors-for-logic-apps"></a><span data-ttu-id="e03ae-104">Créer des API personnalisées en tant que connecteurs pour les applications logiques</span><span class="sxs-lookup"><span data-stu-id="e03ae-104">Create custom APIs as connectors for logic apps</span></span>

<span data-ttu-id="e03ae-105">Bien que Azure Logic Apps offre [liens intégrés 100 +](../connectors/apis-list.md) que vous pouvez utiliser dans les workflows d’application logique, vous pouvez toocall API, systèmes et services qui ne sont pas disponibles en tant que les connecteurs.</span><span class="sxs-lookup"><span data-stu-id="e03ae-105">Although Azure Logic Apps offers [100+ built-in connectors](../connectors/apis-list.md) that you can use in logic app workflows, you might want toocall APIs, systems, and services that aren't available as connectors.</span></span> <span data-ttu-id="e03ae-106">Vous pouvez créer vos propres API personnalisées qui fournissent les actions et les déclencheurs toouse dans les applications de la logique.</span><span class="sxs-lookup"><span data-stu-id="e03ae-106">You can create your own custom APIs that provide actions and triggers toouse in logic apps.</span></span> <span data-ttu-id="e03ae-107">Voici les autres raisons pour lesquelles vous pourriez toocreate vos propres API utilisent trop en tant que liens dans les applications de logique :</span><span class="sxs-lookup"><span data-stu-id="e03ae-107">Here are other reasons why you might want toocreate your own APIs too use as connectors in logic apps:</span></span>

* <span data-ttu-id="e03ae-108">Étendre l’intégration de votre système actuel et les flux de travail d’intégration de données.</span><span class="sxs-lookup"><span data-stu-id="e03ae-108">Extend your current system integration and data integration workflows.</span></span>
* <span data-ttu-id="e03ae-109">Aider les clients à utiliser votre service toomanage personnels ou professionnels des tâches.</span><span class="sxs-lookup"><span data-stu-id="e03ae-109">Help customers use your service toomanage professional or personal tasks.</span></span>
* <span data-ttu-id="e03ae-110">Développez hello portée, détectabilité et l’utilisation de votre service.</span><span class="sxs-lookup"><span data-stu-id="e03ae-110">Expand hello reach, discoverability, and use for your service.</span></span>

<span data-ttu-id="e03ae-111">En principe, les connecteurs sont des API web qui utilisent REST pour les interfaces enfichables, le [format de métadonnées Swagger](http://swagger.io/specification/) pour la documentation et JSON en tant que format d’échange de données.</span><span class="sxs-lookup"><span data-stu-id="e03ae-111">Basically, connectors are web APIs that use REST for pluggable interfaces, [Swagger metadata format](http://swagger.io/specification/) for documentation, and JSON as their data exchange format.</span></span> <span data-ttu-id="e03ae-112">Étant donné que les connecteurs sont des API REST qui communiquent via des points de terminaison HTTP, vous pouvez utiliser n’importe quel langage, comme .NET, Java ou Node.js, pour la création de connecteurs.</span><span class="sxs-lookup"><span data-stu-id="e03ae-112">Because connectors are REST APIs that communicate through HTTP endpoints, you can use any language, like .NET, Java, or Node.js, for building connectors.</span></span> <span data-ttu-id="e03ae-113">Vous pouvez également héberger votre API sur [Azure App Service](../app-service/app-service-value-prop-what-is.md), un platform-as-a-service (PaaS) qui fournit une des manières de meilleures, plus simple et plus évolutive hello pour l’hébergement de l’API de l’offre.</span><span class="sxs-lookup"><span data-stu-id="e03ae-113">You can also host your APIs on [Azure App Service](../app-service/app-service-value-prop-what-is.md), a platform-as-a-service (PaaS) offering that provides one of hello best, easiest, and most scalable ways for API hosting.</span></span> 

<span data-ttu-id="e03ae-114">Pour toowork API personnalisée avec les applications de la logique, peut fournir votre API [ *actions* ](./logic-apps-what-are-logic-apps.md#logic-app-concepts) qui effectuent des tâches spécifiques dans les workflows d’application logique.</span><span class="sxs-lookup"><span data-stu-id="e03ae-114">For custom APIs toowork with logic apps, your API can provide [*actions*](./logic-apps-what-are-logic-apps.md#logic-app-concepts) that perform specific tasks in logic app workflows.</span></span> <span data-ttu-id="e03ae-115">Votre API peut également faire office de [*déclencheur*](./logic-apps-what-are-logic-apps.md#logic-app-concepts) qui démarre le flux de travail d’une application logique lorsque de nouvelles données ou un événement répondent à une condition donnée.</span><span class="sxs-lookup"><span data-stu-id="e03ae-115">Your API can also act as a [*trigger*](./logic-apps-what-are-logic-apps.md#logic-app-concepts) that starts a logic app workflow when new data or an event meets a specified condition.</span></span> <span data-ttu-id="e03ae-116">Cette rubrique décrit les modèles courants que vous pouvez suivre pour la création d’actions et des déclencheurs dans votre API, selon le comportement de hello que votre tooprovide API que vous souhaitez.</span><span class="sxs-lookup"><span data-stu-id="e03ae-116">This topic describes common patterns that you can follow for building actions and triggers in your API, based on hello behavior that you want your API tooprovide.</span></span>

> [!TIP] 
> <span data-ttu-id="e03ae-117">Vous pouvez déployer votre API que [les applications web](../app-service-web/app-service-web-overview.md), envisagez de déployer votre API comme [applications API](../app-service-api/app-service-api-apps-why-best-platform.md), qui peut simplifier votre travail lorsque vous générez, hébergez et consommer des API dans le cloud de hello et localement.</span><span class="sxs-lookup"><span data-stu-id="e03ae-117">Although you can deploy your APIs as [web apps](../app-service-web/app-service-web-overview.md), consider deploying your APIs as [API apps](../app-service-api/app-service-api-apps-why-best-platform.md), which can make your job easier when you build, host, and consume APIs in hello cloud and on premises.</span></span> <span data-ttu-id="e03ae-118">Vous n’avez pas de code toochange dans votre API--simplement déployer votre application API de tooan code.</span><span class="sxs-lookup"><span data-stu-id="e03ae-118">You don't have toochange any code in your APIs -- just deploy your code tooan API app.</span></span> <span data-ttu-id="e03ae-119">Découvrez comment trop [créer des applications API créées avec ASP.NET](../app-service-api/app-service-api-dotnet-get-started.md), [Java](../app-service-api/app-service-api-java-api-app.md), ou [Node.js](../app-service-api/app-service-api-nodejs-api-app.md).</span><span class="sxs-lookup"><span data-stu-id="e03ae-119">Learn how too [build API apps created with ASP.NET](../app-service-api/app-service-api-dotnet-get-started.md), [Java](../app-service-api/app-service-api-java-api-app.md), or [Node.js](../app-service-api/app-service-api-nodejs-api-app.md).</span></span> 
>
> <span data-ttu-id="e03ae-120">Pour obtenir des exemples d’application API générées pour logic apps, visitez hello [référentiel GitHub d’applications Azure logique](http://github.com/logicappsio) ou [blog](http://aka.ms/logicappsblog).</span><span class="sxs-lookup"><span data-stu-id="e03ae-120">For API App samples built for logic apps, visit hello [Azure Logic Apps GitHub repository](http://github.com/logicappsio) or [blog](http://aka.ms/logicappsblog).</span></span>

## <a name="helpful-tools"></a><span data-ttu-id="e03ae-121">Outils utiles</span><span class="sxs-lookup"><span data-stu-id="e03ae-121">Helpful tools</span></span>

<span data-ttu-id="e03ae-122">Une API personnalisée fonctionne mieux avec les applications logique lorsque hello API a également un [Swagger document](http://swagger.io/specification/) qui décrit les opérations et les paramètres de l’API de hello.</span><span class="sxs-lookup"><span data-stu-id="e03ae-122">A custom API works best with logic apps when hello API also has a [Swagger document](http://swagger.io/specification/) that describes hello API's operations and parameters.</span></span>
<span data-ttu-id="e03ae-123">Comme de nombreuses bibliothèques, [Swashbuckle](https://github.com/domaindrivendev/Swashbuckle), peut générer automatiquement le fichier Swagger hello pour vous.</span><span class="sxs-lookup"><span data-stu-id="e03ae-123">Many libraries, like [Swashbuckle](https://github.com/domaindrivendev/Swashbuckle), can automatically generate hello Swagger file for you.</span></span> <span data-ttu-id="e03ae-124">le fichier de Swagger tooannotate hello pour les noms d’affichage, les types de propriété et ainsi de suite, vous pouvez également utiliser [TRex](https://github.com/nihaue/TRex) afin que votre fichier Swagger fonctionne bien avec les applications de la logique.</span><span class="sxs-lookup"><span data-stu-id="e03ae-124">tooannotate hello Swagger file for display names, property types, and so on, you can also use [TRex](https://github.com/nihaue/TRex) so that your Swagger file works well with logic apps.</span></span>

<a name="actions"></a>

## <a name="action-patterns"></a><span data-ttu-id="e03ae-125">Modèles d’action</span><span class="sxs-lookup"><span data-stu-id="e03ae-125">Action patterns</span></span>

<span data-ttu-id="e03ae-126">Pour les tâches de tooperform logique applications, votre API personnalisée doit fournir [ *actions*](./logic-apps-what-are-logic-apps.md#logic-app-concepts).</span><span class="sxs-lookup"><span data-stu-id="e03ae-126">For logic apps tooperform tasks, your custom API should provide [*actions*](./logic-apps-what-are-logic-apps.md#logic-app-concepts).</span></span> <span data-ttu-id="e03ae-127">Chaque opération dans votre API mappe tooan action.</span><span class="sxs-lookup"><span data-stu-id="e03ae-127">Each operation in your API maps tooan action.</span></span> <span data-ttu-id="e03ae-128">Une action de base peut être un contrôleur qui accepte les requêtes HTTP et renvoie des réponses HTTP.</span><span class="sxs-lookup"><span data-stu-id="e03ae-128">A basic action is a controller that accepts HTTP requests and returns HTTP responses.</span></span> <span data-ttu-id="e03ae-129">Par exemple, une application logique envoie un HTTP demande tooyour l’application web ou une application API.</span><span class="sxs-lookup"><span data-stu-id="e03ae-129">So for example, a logic app sends an HTTP request tooyour web app or API app.</span></span> <span data-ttu-id="e03ae-130">Votre application puis renvoie une réponse HTTP, ainsi que le contenu qui hello logique application peut traiter.</span><span class="sxs-lookup"><span data-stu-id="e03ae-130">Your app then returns an HTTP response, along with content that hello logic app can process.</span></span>

<span data-ttu-id="e03ae-131">Pour une action standard, vous pouvez écrire une méthode de requête HTTP dans votre API et décrire cette méthode dans un fichier Swagger.</span><span class="sxs-lookup"><span data-stu-id="e03ae-131">For a standard action, you can write an HTTP request method in your API and describe that method in a Swagger file.</span></span> <span data-ttu-id="e03ae-132">Vous pouvez ensuite appeler votre API directement avec une [action HTTP](../connectors/connectors-native-http.md) ou une action [HTTP + Swagger](../connectors/connectors-native-http-swagger.md).</span><span class="sxs-lookup"><span data-stu-id="e03ae-132">You can then call your API directly with an [HTTP action](../connectors/connectors-native-http.md) or an [HTTP + Swagger](../connectors/connectors-native-http-swagger.md) action.</span></span> <span data-ttu-id="e03ae-133">Par défaut, les réponses doivent être retournées dans hello [limite de délai d’attente de demandes](./logic-apps-limits-and-config.md).</span><span class="sxs-lookup"><span data-stu-id="e03ae-133">By default, responses must be returned within hello [request timeout limit](./logic-apps-limits-and-config.md).</span></span> 

![Modèle d’action standard](./media/logic-apps-create-api-app/standard-action.png)

<span data-ttu-id="e03ae-135"><a name="pattern-overview"></a>toomake une application logique patienter pendant que votre API des tâches de longue durée plus longue, votre API peut suivre hello [d’interrogation asynchrone modèle](#async-pattern) ou hello [webhook asynchrone modèle](#webhook-actions) décrites dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="e03ae-135"><a name="pattern-overview"></a> toomake a logic app wait while your API finishes longer-running tasks, your API can follow hello [asynchronous polling pattern](#async-pattern) or hello [asynchronous webhook pattern](#webhook-actions) described in this topic.</span></span> <span data-ttu-id="e03ae-136">Supposons une analogie qui vous permet de visualiser des comportements différents des ces modèles, processus hello pour commander un gâteau personnalisé à partir d’un bakery.</span><span class="sxs-lookup"><span data-stu-id="e03ae-136">For an analogy that helps you visualize these patterns' different behaviors, imagine hello process for ordering a custom cake from a bakery.</span></span> <span data-ttu-id="e03ae-137">modèle de l’interrogation de Hello reflète le comportement hello d’appel bakery de hello chaque toocheck 20 minutes si au chocolat hello est prêt.</span><span class="sxs-lookup"><span data-stu-id="e03ae-137">hello polling pattern mirrors hello behavior where you call hello bakery every 20 minutes toocheck whether hello cake is ready.</span></span> <span data-ttu-id="e03ae-138">comportement hello Hello webhook modèle miroirs où bakery de hello vous demande votre numéro de téléphone afin de vous appeler quand au chocolat hello est prêt.</span><span class="sxs-lookup"><span data-stu-id="e03ae-138">hello webhook pattern mirrors hello behavior where hello bakery asks you for your phone number so they can call you when hello cake is ready.</span></span>

<span data-ttu-id="e03ae-139">Pour obtenir des exemples, visitez hello [référentiel GitHub d’applications logique](https://github.com/logicappsio).</span><span class="sxs-lookup"><span data-stu-id="e03ae-139">For samples, visit hello [Logic Apps GitHub repository](https://github.com/logicappsio).</span></span> <span data-ttu-id="e03ae-140">Découvrez également les [mesures d’utilisation des actions](logic-apps-pricing.md).</span><span class="sxs-lookup"><span data-stu-id="e03ae-140">Also, learn more about [usage metering for actions](logic-apps-pricing.md).</span></span>

<a name="async-pattern"></a>

### <a name="perform-long-running-tasks-with-hello-polling-action-pattern"></a><span data-ttu-id="e03ae-141">Effectuer des tâches longues avec hello d’interrogation du modèle d’action</span><span class="sxs-lookup"><span data-stu-id="e03ae-141">Perform long-running tasks with hello polling action pattern</span></span>

<span data-ttu-id="e03ae-142">toohave votre API effectuer des tâches qui pourrait s’exécuter plus longtemps que hello [limite de délai d’attente de demandes](./logic-apps-limits-and-config.md), vous pouvez utiliser le modèle d’interrogation asynchrone hello.</span><span class="sxs-lookup"><span data-stu-id="e03ae-142">toohave your API perform tasks that could run longer than hello [request timeout limit](./logic-apps-limits-and-config.md), you can use hello asynchronous polling pattern.</span></span> <span data-ttu-id="e03ae-143">Ce modèle est votre API de travail dans un thread distinct, mais conserve un moteur de Logic Apps toohello connexion active.</span><span class="sxs-lookup"><span data-stu-id="e03ae-143">This pattern has your API do work in a separate thread, but keep an active connection toohello Logic Apps engine.</span></span> <span data-ttu-id="e03ae-144">De cette façon, application logique de hello n’expire pas ou continuer à l’étape suivante de hello dans le flux de travail hello avant la fin de travail par votre API.</span><span class="sxs-lookup"><span data-stu-id="e03ae-144">That way, hello logic app does not time out or continue with hello next step in hello workflow before your API finishes working.</span></span>

<span data-ttu-id="e03ae-145">Voici le modèle général de hello :</span><span class="sxs-lookup"><span data-stu-id="e03ae-145">Here's hello general pattern:</span></span>

1. <span data-ttu-id="e03ae-146">Assurez-vous que ce moteur hello sait que votre API accepté la demande de hello et commencer à travailler.</span><span class="sxs-lookup"><span data-stu-id="e03ae-146">Make sure that hello engine knows that your API accepted hello request and started working.</span></span>
2. <span data-ttu-id="e03ae-147">Lorsque le moteur de hello effectue des demandes ultérieures portant sur l’état du travail, informer le moteur de hello lorsque votre API termine la tâche hello.</span><span class="sxs-lookup"><span data-stu-id="e03ae-147">When hello engine makes subsequent requests for job status, let hello engine know when your API finishes hello task.</span></span>
3. <span data-ttu-id="e03ae-148">Retour du moteur de données pertinentes toohello afin que le flux de travail application hello logique peut continuer.</span><span class="sxs-lookup"><span data-stu-id="e03ae-148">Return relevant data toohello engine so that hello logic app workflow can continue.</span></span>

<span data-ttu-id="e03ae-149"><a name="bakery-polling-action"></a>Maintenant appliquer des critères de l’interrogation de bakery analogie toohello hello précédentes et Imaginez que vous appelez un bakery et ordre gâteau personnalisé pour la remise.</span><span class="sxs-lookup"><span data-stu-id="e03ae-149"><a name="bakery-polling-action"></a> Now apply hello previous bakery analogy toohello polling pattern, and imagine that you call a bakery and order a custom cake for delivery.</span></span> <span data-ttu-id="e03ae-150">processus Hello permettant au chocolat hello prend du temps, et vous ne souhaitez pas toowait sur le téléphone de hello tandis que les bakery hello fonctionne sur le gâteau de hello.</span><span class="sxs-lookup"><span data-stu-id="e03ae-150">hello process for making hello cake takes time, and you don't want toowait on hello phone while hello bakery works on hello cake.</span></span> <span data-ttu-id="e03ae-151">bakery de Hello confirme votre commande et a d’appeler toutes les 20 minutes pour l’état du gâteau hello.</span><span class="sxs-lookup"><span data-stu-id="e03ae-151">hello bakery confirms your order and has you call every 20 minutes for hello cake's status.</span></span> <span data-ttu-id="e03ae-152">Après que 20 minutes se sont écoulées, vous appelez bakery de hello, mais ils indiquent que votre gâteau n’est pas terminé et que vous devez appeler dans un autre de 20 minutes.</span><span class="sxs-lookup"><span data-stu-id="e03ae-152">After 20 minutes pass, you call hello bakery, but they tell you that your cake isn't done and that you should call in another 20 minutes.</span></span> <span data-ttu-id="e03ae-153">Ce processus back-et-les deux sens se poursuit jusqu'à ce que vous appelez et bakery de hello indique que votre commande est prête et remet le gâteau.</span><span class="sxs-lookup"><span data-stu-id="e03ae-153">This back-and-forth process continues until you call, and hello bakery tells you that your order is ready and delivers your cake.</span></span> 

<span data-ttu-id="e03ae-154">Revenons à ce modèle d’interrogation pour votre API.</span><span class="sxs-lookup"><span data-stu-id="e03ae-154">So let's map this polling pattern back.</span></span> <span data-ttu-id="e03ae-155">bakery de Hello représente votre API personnalisée, tandis que vous, hello gâteau client, représentez le moteur de Logic Apps hello.</span><span class="sxs-lookup"><span data-stu-id="e03ae-155">hello bakery represents your custom API, while you, hello cake customer, represent hello Logic Apps engine.</span></span> <span data-ttu-id="e03ae-156">Lorsque le moteur de hello appelle votre API avec une demande, votre API confirmant la demande de hello et répond avec un intervalle de temps hello lorsque le moteur de hello peut vérifier l’état du travail.</span><span class="sxs-lookup"><span data-stu-id="e03ae-156">When hello engine calls your API with a request, your API confirms hello request and responds with hello time interval when hello engine can check job status.</span></span> <span data-ttu-id="e03ae-157">moteur de Hello continue de la vérification d’état du travail jusqu'à ce que votre API répond que ce travail hello est effectué et retourne données tooyour application logique, qui ensuite continue de flux de travail.</span><span class="sxs-lookup"><span data-stu-id="e03ae-157">hello engine continues checking job status until your API responds that hello job is done and returns data tooyour logic app, which then continues workflow.</span></span> 

![Modèle d’action d’interrogation](./media/logic-apps-create-api-app/custom-api-async-action-pattern.png)

<span data-ttu-id="e03ae-159">Hello les étapes spécifiques pour votre API toofollow, décrit à partir de la perspective de l’API de hello sont :</span><span class="sxs-lookup"><span data-stu-id="e03ae-159">Here are hello specific steps for your API toofollow, described from hello API's perspective:</span></span>

1. <span data-ttu-id="e03ae-160">Lorsque votre API Obtient un travail de toostart de demande HTTP, retourner immédiatement HTTP `202 ACCEPTED` réponse avec hello `location` en-tête décrite plus loin dans cette étape.</span><span class="sxs-lookup"><span data-stu-id="e03ae-160">When your API gets an HTTP request toostart work, immediately return an HTTP `202 ACCEPTED` response with hello `location` header described later in this step.</span></span> <span data-ttu-id="e03ae-161">Cette réponse permet hello Logic Apps, moteur de savoir que votre API a été hello demande, la charge utile de demande acceptée hello (données d’entrée) et est en train de traiter.</span><span class="sxs-lookup"><span data-stu-id="e03ae-161">This response lets hello Logic Apps engine know that your API got hello request, accepted hello request payload (data input), and is now processing.</span></span> 
   
   <span data-ttu-id="e03ae-162">Hello `202 ACCEPTED` réponse doit inclure ces en-têtes :</span><span class="sxs-lookup"><span data-stu-id="e03ae-162">hello `202 ACCEPTED` response should include these headers:</span></span>
   
   * <span data-ttu-id="e03ae-163">*Requis*: A `location` en-tête qui spécifie l’URL de tooa hello chemin d’accès absolu où moteur de Logic Apps hello peut vérifier état du travail de votre API</span><span class="sxs-lookup"><span data-stu-id="e03ae-163">*Required*: A `location` header that specifies hello absolute path tooa URL where hello Logic Apps engine can check your API's job status</span></span>

   * <span data-ttu-id="e03ae-164">*Facultatif*: A `retry-after` en-tête qui spécifie le nombre hello de secondes pendant lesquelles hello moteur doit attendre avant de vérifier hello `location` URL de l’état du travail.</span><span class="sxs-lookup"><span data-stu-id="e03ae-164">*Optional*: A `retry-after` header that specifies hello number of seconds that hello engine should wait before checking hello `location` URL for job status.</span></span> 

     <span data-ttu-id="e03ae-165">Par défaut, le moteur de hello vérifie toutes les 20 secondes.</span><span class="sxs-lookup"><span data-stu-id="e03ae-165">By default, hello engine checks every 20 seconds.</span></span> <span data-ttu-id="e03ae-166">toospecify un intervalle différent, inclure hello `retry-after` en-tête et hello le nombre de secondes jusqu'à ce que l’interrogation suivante de hello.</span><span class="sxs-lookup"><span data-stu-id="e03ae-166">toospecify a different interval, include hello `retry-after` header and hello number of seconds until hello next poll.</span></span>

2. <span data-ttu-id="e03ae-167">Une fois hello spécifié délai s’écoule, hello Logic Apps moteur hello de sondages `location` état du travail toocheck URL.</span><span class="sxs-lookup"><span data-stu-id="e03ae-167">After hello specified time passes, hello Logic Apps engine polls hello `location` URL toocheck job status.</span></span> <span data-ttu-id="e03ae-168">Votre API doit effectuer ces vérifications et renvoyer ces réponses :</span><span class="sxs-lookup"><span data-stu-id="e03ae-168">Your API should perform these checks and return these responses:</span></span>
   
   * <span data-ttu-id="e03ae-169">Si le travail de hello est effectué, retourner HTTP `200 OK` réponse, ainsi que de la charge utile de réponse hello (entrée pour l’étape suivante de hello).</span><span class="sxs-lookup"><span data-stu-id="e03ae-169">If hello job is done, return an HTTP `200 OK` response, along with hello response payload (input for hello next step).</span></span>

   * <span data-ttu-id="e03ae-170">Si le traitement de la tâche de hello est toujours, retourner un autre HTTP `202 ACCEPTED` hello de réponse, mais avec des en-têtes mêmes en tant que réponse de hello d’origine.</span><span class="sxs-lookup"><span data-stu-id="e03ae-170">If hello job is still processing, return another HTTP `202 ACCEPTED` response, but with hello same headers as hello original response.</span></span>

<span data-ttu-id="e03ae-171">Lorsque votre API suit ce modèle, vous n’avez rien toodo dans hello logique application workflow définition toocontinue la vérification de statut.</span><span class="sxs-lookup"><span data-stu-id="e03ae-171">When your API follows this pattern, you don't have toodo anything in hello logic app workflow definition toocontinue checking job status.</span></span> <span data-ttu-id="e03ae-172">Lorsque le moteur de hello obtient HTTP `202 ACCEPTED` réponse et un `location` en-tête, hello moteur égards hello asynchrone modèle et les vérifications hello `location` en-tête jusqu'à ce que votre API renvoie une réponse non-202.</span><span class="sxs-lookup"><span data-stu-id="e03ae-172">When hello engine gets an HTTP `202 ACCEPTED` response and a valid `location` header, hello engine respects hello asynchronous pattern and checks hello `location` header until your API returns a non-202 response.</span></span>

> [!TIP]
> <span data-ttu-id="e03ae-173">Pour un exemple de modèle asynchrone, consultez cet [exemple de réponse de contrôleur asynchrone dans GitHub](https://github.com/logicappsio/LogicAppsAsyncResponseSample).</span><span class="sxs-lookup"><span data-stu-id="e03ae-173">For an example asynchronous pattern, review this [asynchronous controller response sample in GitHub](https://github.com/logicappsio/LogicAppsAsyncResponseSample).</span></span>

<a name="webhook-actions"></a>

### <a name="perform-long-running-tasks-with-hello-webhook-action-pattern"></a><span data-ttu-id="e03ae-174">Effectuer des tâches de longue avec le modèle d’action hello webhook</span><span class="sxs-lookup"><span data-stu-id="e03ae-174">Perform long-running tasks with hello webhook action pattern</span></span>

<span data-ttu-id="e03ae-175">En guise d’alternative, vous pouvez utiliser le modèle de webhook hello pour le traitement asynchrone et les tâches de longue.</span><span class="sxs-lookup"><span data-stu-id="e03ae-175">As an alternative, you can use hello webhook pattern for long-running tasks and asynchronous processing.</span></span> <span data-ttu-id="e03ae-176">Ce modèle est l’application logique de hello interrompre et attendre un « rappel » à partir de votre toofinish API avant de poursuivre le flux de travail de traitement.</span><span class="sxs-lookup"><span data-stu-id="e03ae-176">This pattern has hello logic app pause and wait for a "callback" from your API toofinish processing before continuing workflow.</span></span> <span data-ttu-id="e03ae-177">Ce rappel est une requête HTTP POST qui envoie une URL tooa de message quand un événement se produit.</span><span class="sxs-lookup"><span data-stu-id="e03ae-177">This callback is an HTTP POST that sends a message tooa URL when an event happens.</span></span> 

<span data-ttu-id="e03ae-178"><a name="bakery-webhook-action"></a>Maintenant appliquer des critères de hello précédente bakery analogie toohello webhook et Imaginez que vous appelez un bakery et ordre gâteau personnalisé pour la remise.</span><span class="sxs-lookup"><span data-stu-id="e03ae-178"><a name="bakery-webhook-action"></a> Now apply hello previous bakery analogy toohello webhook pattern, and imagine that you call a bakery and order a custom cake for delivery.</span></span> <span data-ttu-id="e03ae-179">processus Hello permettant au chocolat hello prend du temps, et vous ne souhaitez pas toowait sur le téléphone de hello tandis que les bakery hello fonctionne sur le gâteau de hello.</span><span class="sxs-lookup"><span data-stu-id="e03ae-179">hello process for making hello cake takes time, and you don't want toowait on hello phone while hello bakery works on hello cake.</span></span> <span data-ttu-id="e03ae-180">bakery de Hello confirme votre commande, mais cette fois, vous leur donnez votre numéro de téléphone afin de vous appeler quand au chocolat hello est terminé.</span><span class="sxs-lookup"><span data-stu-id="e03ae-180">hello bakery confirms your order, but this time, you give them your phone number so they can call you when hello cake is done.</span></span> <span data-ttu-id="e03ae-181">Cette fois-ci, bakery de hello vous indique lorsque votre commande est prêt et remet le gâteau.</span><span class="sxs-lookup"><span data-stu-id="e03ae-181">This time, hello bakery tells you when your order is ready and delivers your cake.</span></span>

<span data-ttu-id="e03ae-182">Quand nous mappez ce modèle webhook précédent, bakery de hello représente votre API personnalisée, tout en vous, client de gâteau hello, représentent hello Logic Apps moteur.</span><span class="sxs-lookup"><span data-stu-id="e03ae-182">When we map this webhook pattern back, hello bakery represents your custom API, while you, hello cake customer, represent hello Logic Apps engine.</span></span> <span data-ttu-id="e03ae-183">moteur de Hello appelle votre API avec une demande et inclut une URL « rappel ».</span><span class="sxs-lookup"><span data-stu-id="e03ae-183">hello engine calls your API with a request and includes a "callback" URL.</span></span>
<span data-ttu-id="e03ae-184">Lors de la tâche de hello est terminé, votre API utilise hello URL toonotify hello moteur et retourner des données tooyour logique application, puis continue le flux de travail.</span><span class="sxs-lookup"><span data-stu-id="e03ae-184">When hello job is done, your API uses hello URL toonotify hello engine and return data tooyour logic app, which then continues workflow.</span></span> 

<span data-ttu-id="e03ae-185">Pour ce modèle, définissez deux points de terminaison sur votre contrôleur : `subscribe` et `unsubscribe`</span><span class="sxs-lookup"><span data-stu-id="e03ae-185">For this pattern, set up two endpoints on your controller: `subscribe` and `unsubscribe`</span></span>

*  <span data-ttu-id="e03ae-186">`subscribe`point de terminaison : lorsque l’exécution atteint l’action de votre API dans le flux de travail hello, hello Logic Apps moteur hello d’appels `subscribe` point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="e03ae-186">`subscribe` endpoint: When execution reaches your API's action in hello workflow, hello Logic Apps engine calls hello `subscribe` endpoint.</span></span> <span data-ttu-id="e03ae-187">Cette étape affiche hello logique application toocreate une URL de rappel que votre API stocke et attendez rappel hello à partir de votre API lorsque le travail est terminé.</span><span class="sxs-lookup"><span data-stu-id="e03ae-187">This step causes hello logic app toocreate a callback URL that your API stores and then wait for hello callback from your API when work is complete.</span></span> <span data-ttu-id="e03ae-188">Votre API puis rappelle avec une URL de toohello HTTP POST et transmet les en-têtes et le contenu retourné en tant qu’application logique de toohello d’entrée.</span><span class="sxs-lookup"><span data-stu-id="e03ae-188">Your API then calls back with an HTTP POST toohello URL and passes any returned content and headers as input toohello logic app.</span></span>

* <span data-ttu-id="e03ae-189">`unsubscribe`point de terminaison : si l’application de la logique de hello exécuter est annulée, hello Logic Apps moteur hello d’appels `unsubscribe` point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="e03ae-189">`unsubscribe` endpoint: If hello logic app run is canceled, hello Logic Apps engine calls hello `unsubscribe` endpoint.</span></span> <span data-ttu-id="e03ae-190">Votre API ensuite annuler l’inscription d’URL de rappel hello et arrêtez tous les processus en tant que nécessaire.</span><span class="sxs-lookup"><span data-stu-id="e03ae-190">Your API can then unregister hello callback URL and stop any processes as necessary.</span></span>

![Modèle d’action Webhook](./media/logic-apps-create-api-app/custom-api-webhook-action-pattern.png)

> [!NOTE]
> <span data-ttu-id="e03ae-192">Actuellement, hello Concepteur de logique d’application ne prend en charge des points de terminaison webhook découverte via Swagger.</span><span class="sxs-lookup"><span data-stu-id="e03ae-192">Currently, hello Logic App Designer doesn't support discovering webhook endpoints through Swagger.</span></span> <span data-ttu-id="e03ae-193">Donc pour ce modèle, vous devez tooadd un [ **Webhook** action](../connectors/connectors-native-webhook.md) et spécifiez l’URL de hello, en-têtes, corps de votre demande.</span><span class="sxs-lookup"><span data-stu-id="e03ae-193">So for this pattern, you have tooadd a [**Webhook** action](../connectors/connectors-native-webhook.md) and specify hello URL, headers, and body for your request.</span></span> <span data-ttu-id="e03ae-194">Voir également [Actions et déclencheurs de flux de travail](logic-apps-workflow-actions-triggers.md#api-connection-webhook-action).</span><span class="sxs-lookup"><span data-stu-id="e03ae-194">See also [Workflow actions and triggers](logic-apps-workflow-actions-triggers.md#api-connection-webhook-action).</span></span> <span data-ttu-id="e03ae-195">toopass dans l’URL de rappel hello, vous pouvez utiliser hello `@listCallbackUrl()` fonction de workflow dans un des champs de précédents hello selon les besoins.</span><span class="sxs-lookup"><span data-stu-id="e03ae-195">toopass in hello callback URL, you can use hello `@listCallbackUrl()` workflow function in any of hello previous fields as necessary.</span></span>

> [!TIP]
> <span data-ttu-id="e03ae-196">Pour un exemple de modèle Webhook, consultez cet [exemple de déclencheur Webhook dans GitHub](https://github.com/logicappsio/LogicAppTriggersExample/blob/master/LogicAppTriggers/Controllers/WebhookTriggerController.cs).</span><span class="sxs-lookup"><span data-stu-id="e03ae-196">For an example webhook pattern, review this [webhook trigger sample in GitHub](https://github.com/logicappsio/LogicAppTriggersExample/blob/master/LogicAppTriggers/Controllers/WebhookTriggerController.cs).</span></span>

<a name="triggers"></a>

## <a name="trigger-patterns"></a><span data-ttu-id="e03ae-197">Modèles de déclencheur</span><span class="sxs-lookup"><span data-stu-id="e03ae-197">Trigger patterns</span></span>

<span data-ttu-id="e03ae-198">Votre API personnalisée peut faire office de [*déclencheur*](./logic-apps-what-are-logic-apps.md#logic-app-concepts) qui démarre une application logique lorsque de nouvelles données ou un événement répondent à une condition donnée.</span><span class="sxs-lookup"><span data-stu-id="e03ae-198">Your custom API can act as a [*trigger*](./logic-apps-what-are-logic-apps.md#logic-app-concepts) that starts a logic app when new data or an event meets a specified condition.</span></span> <span data-ttu-id="e03ae-199">Ce déclencheur peut soit vérifier régulièrement, soit attendre et écouter, la présence de nouvelles données ou d’événements au niveau du point de terminaison de votre service.</span><span class="sxs-lookup"><span data-stu-id="e03ae-199">This trigger can either check regularly, or wait and listen, for new data or events at your service endpoint.</span></span> <span data-ttu-id="e03ae-200">Si de nouvelles données ou un événement respecte hello la condition spécifiée, déclencheur de hello est activé et qu’il démarre l’application hello logique, qui est à l’écoute toothat déclencheur.</span><span class="sxs-lookup"><span data-stu-id="e03ae-200">If new data or an event meets hello specified condition, hello trigger fires and starts hello logic app, which is listening toothat trigger.</span></span> <span data-ttu-id="e03ae-201">logique toostart les applications de cette manière, votre API peut suivre hello [ *d’interrogation déclencheur* ](#polling-triggers) ou hello [ *webhook déclencheur* ](#webhook-triggers) modèle.</span><span class="sxs-lookup"><span data-stu-id="e03ae-201">toostart logic apps this way, your API can follow hello [*polling trigger*](#polling-triggers) or hello [*webhook trigger*](#webhook-triggers) pattern.</span></span> <span data-ttu-id="e03ae-202">Ces modèles sont des équivalents tootheir similaire pour [d’interrogation actions](#async-pattern) et [les actions webhook](#webhook-actions).</span><span class="sxs-lookup"><span data-stu-id="e03ae-202">These patterns are similar tootheir counterparts for [polling actions](#async-pattern) and [webhook actions](#webhook-actions).</span></span> <span data-ttu-id="e03ae-203">Découvrez également les [mesures d’utilisation des déclencheurs](logic-apps-pricing.md).</span><span class="sxs-lookup"><span data-stu-id="e03ae-203">Also, learn more about [usage metering for triggers](logic-apps-pricing.md).</span></span>

<a name="polling-triggers"></a>

### <a name="check-for-new-data-or-events-regularly-with-hello-polling-trigger-pattern"></a><span data-ttu-id="e03ae-204">Rechercher les nouvelles données ou des événements régulièrement par hello d’interrogation du modèle de déclencheur</span><span class="sxs-lookup"><span data-stu-id="e03ae-204">Check for new data or events regularly with hello polling trigger pattern</span></span>

<span data-ttu-id="e03ae-205">A *d’interrogation déclencheur* joue hello [d’interrogation action](#async-pattern) décrit précédemment dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="e03ae-205">A *polling trigger* acts much like hello [polling action](#async-pattern) previously described in this topic.</span></span> <span data-ttu-id="e03ae-206">moteur de Logic Apps Hello appelle régulièrement et vérifie le point de terminaison de déclencheur hello pour les nouvelles données ou des événements.</span><span class="sxs-lookup"><span data-stu-id="e03ae-206">hello Logic Apps engine periodically calls and checks hello trigger endpoint for new data or events.</span></span> <span data-ttu-id="e03ae-207">Si le moteur de hello détecte les nouvelles données ou un événement qui répond à la condition spécifiée, hello déclencheur.</span><span class="sxs-lookup"><span data-stu-id="e03ae-207">If hello engine finds new data or an event that meets your specified condition, hello trigger fires.</span></span> <span data-ttu-id="e03ae-208">Moteur de hello crée ensuite une instance d’application logique qui traite les données hello en tant qu’entrée.</span><span class="sxs-lookup"><span data-stu-id="e03ae-208">Then, hello engine creates a logic app instance that processes hello data as input.</span></span> 

![Modèle de déclencheur d’interrogation](./media/logic-apps-create-api-app/custom-api-polling-trigger-pattern.png)

> [!NOTE]
> <span data-ttu-id="e03ae-210">Chaque requête d’interrogation compte comme une exécution de l’action, même lorsqu’aucune instance d’application logique n’est créée.</span><span class="sxs-lookup"><span data-stu-id="e03ae-210">Each polling request counts as an action execution, even when no logic app instance is created.</span></span> <span data-ttu-id="e03ae-211">le traitement de tooprevent hello des mêmes données plusieurs fois, le déclencheur doit nettoyer les données qui a été déjà lu et transmises toohello logique application.</span><span class="sxs-lookup"><span data-stu-id="e03ae-211">tooprevent processing hello same data multiple times, your trigger should clean up data that was already read and passed toohello logic app.</span></span>

<span data-ttu-id="e03ae-212">Voici les étapes spécifiques pour un déclencheur d’interrogation, décrit à partir de la perspective de l’API de hello :</span><span class="sxs-lookup"><span data-stu-id="e03ae-212">Here are specific steps for a polling trigger, described from hello API's perspective:</span></span>

| <span data-ttu-id="e03ae-213">Il existe de nouvelles données ou un nouvel événement ?</span><span class="sxs-lookup"><span data-stu-id="e03ae-213">Found new data or event?</span></span>  | <span data-ttu-id="e03ae-214">Réponse de l’API</span><span class="sxs-lookup"><span data-stu-id="e03ae-214">API response</span></span> | 
| ------------------------- | ------------ |
| <span data-ttu-id="e03ae-215">Trouvé</span><span class="sxs-lookup"><span data-stu-id="e03ae-215">Found</span></span> | <span data-ttu-id="e03ae-216">Retourner HTTP `200 OK` état de la charge utile de réponse hello (entrée pour l’étape suivante).</span><span class="sxs-lookup"><span data-stu-id="e03ae-216">Return an HTTP `200 OK` status with hello response payload (input for next step).</span></span> <br/><span data-ttu-id="e03ae-217">Cette réponse crée une instance d’application logique et démarre le flux de travail hello.</span><span class="sxs-lookup"><span data-stu-id="e03ae-217">This response creates a logic app instance and starts hello workflow.</span></span> |
| <span data-ttu-id="e03ae-218">Introuvable</span><span class="sxs-lookup"><span data-stu-id="e03ae-218">Not found</span></span> | <span data-ttu-id="e03ae-219">Renvoyez un état HTTP `202 ACCEPTED` avec un en-tête `location` et un en-tête `retry-after`.</span><span class="sxs-lookup"><span data-stu-id="e03ae-219">Return an HTTP `202 ACCEPTED` status with a `location` header and a `retry-after` header.</span></span> <br/><span data-ttu-id="e03ae-220">Pour les déclencheurs, hello `location` en-tête doit également contenir un `triggerState` paramètre de requête, qui est généralement un « timestamp ».</span><span class="sxs-lookup"><span data-stu-id="e03ae-220">For triggers, hello `location` header should also contain a `triggerState` query parameter, which is usually a "timestamp."</span></span> <span data-ttu-id="e03ae-221">Votre API permet cette hello de tootrack identificateur dernière hello logique d’application a été déclenchée.</span><span class="sxs-lookup"><span data-stu-id="e03ae-221">Your API can use this identifier tootrack hello last time that hello logic app was triggered.</span></span> |

<span data-ttu-id="e03ae-222">Par exemple, tooperiodically vérifier votre service pour les nouveaux fichiers, vous pouvez créer un déclencheur d’interrogation qui possède ces comportements :</span><span class="sxs-lookup"><span data-stu-id="e03ae-222">For example, tooperiodically check your service for new files, you might build a polling trigger that has these behaviors:</span></span>

| <span data-ttu-id="e03ae-223">La requête inclut `triggerState` ?</span><span class="sxs-lookup"><span data-stu-id="e03ae-223">Request includes `triggerState`?</span></span> | <span data-ttu-id="e03ae-224">Réponse de l’API</span><span class="sxs-lookup"><span data-stu-id="e03ae-224">API response</span></span> |
| -------------------------------- | -------------|
| <span data-ttu-id="e03ae-225">Non</span><span class="sxs-lookup"><span data-stu-id="e03ae-225">No</span></span> | <span data-ttu-id="e03ae-226">Retourner HTTP `202 ACCEPTED` état plus une `location` en-tête avec `triggerState` définir toohello heure actuelle et hello `retry-after` too15 d’intervalle en secondes.</span><span class="sxs-lookup"><span data-stu-id="e03ae-226">Return an HTTP `202 ACCEPTED` status plus a `location` header with `triggerState` set toohello current time and hello `retry-after` interval too15 seconds.</span></span> |
| <span data-ttu-id="e03ae-227">Oui</span><span class="sxs-lookup"><span data-stu-id="e03ae-227">Yes</span></span> | <span data-ttu-id="e03ae-228">Vérifiez que votre service de fichiers ajoutés après hello `DateTime` pour `triggerState`.</span><span class="sxs-lookup"><span data-stu-id="e03ae-228">Check your service for files added after hello `DateTime` for `triggerState`.</span></span> |

| <span data-ttu-id="e03ae-229">Nombre de fichiers trouvés</span><span class="sxs-lookup"><span data-stu-id="e03ae-229">Number of files found</span></span> | <span data-ttu-id="e03ae-230">Réponse de l’API</span><span class="sxs-lookup"><span data-stu-id="e03ae-230">API response</span></span> |
| --------------------- | -------------|
| <span data-ttu-id="e03ae-231">Fichier unique</span><span class="sxs-lookup"><span data-stu-id="e03ae-231">Single file</span></span> | <span data-ttu-id="e03ae-232">Retourner HTTP `200 OK` charge utile du contenu état et hello, mise à jour `triggerState` toohello `DateTime` de hello a retourné un fichier et à `retry-after` too15 d’intervalle en secondes.</span><span class="sxs-lookup"><span data-stu-id="e03ae-232">Return an HTTP `200 OK` status and hello content payload, update `triggerState` toohello `DateTime` for hello returned file, and set `retry-after` interval too15 seconds.</span></span> |
| <span data-ttu-id="e03ae-233">Fichiers multiples</span><span class="sxs-lookup"><span data-stu-id="e03ae-233">Multiple files</span></span> | <span data-ttu-id="e03ae-234">Retourner un seul fichier à la fois HTTP `200 OK` état, de mise à jour `triggerState`et ensemble hello `retry-after` too0 d’intervalle en secondes.</span><span class="sxs-lookup"><span data-stu-id="e03ae-234">Return one file at a time and an HTTP `200 OK` status, update `triggerState`, and set hello `retry-after` interval too0 seconds.</span></span> </br><span data-ttu-id="e03ae-235">Ces étapes informer le moteur de hello que davantage de données est disponible, et ce moteur hello doit demander immédiatement les données de salutation URL hello Bonjour `location` en-tête.</span><span class="sxs-lookup"><span data-stu-id="e03ae-235">These steps let hello engine know that more data is available, and that hello engine should immediately request hello data from hello URL in hello `location` header.</span></span> |
| <span data-ttu-id="e03ae-236">Aucun fichier</span><span class="sxs-lookup"><span data-stu-id="e03ae-236">No files</span></span> | <span data-ttu-id="e03ae-237">Retourner HTTP `202 ACCEPTED` état, ne modifiez pas `triggerState`et ensemble hello `retry-after` too15 d’intervalle en secondes.</span><span class="sxs-lookup"><span data-stu-id="e03ae-237">Return an HTTP `202 ACCEPTED` status, don't change `triggerState`, and set hello `retry-after` interval too15 seconds.</span></span> |

> [!TIP]
> <span data-ttu-id="e03ae-238">Pour obtenir un exemple de modèle de déclencheur d’interrogation, consultez cet [exemple de contrôleur de déclencheur d’interrogation dans GitHub](https://github.com/logicappsio/LogicAppTriggersExample/blob/master/LogicAppTriggers/Controllers/PollTriggerController.cs).</span><span class="sxs-lookup"><span data-stu-id="e03ae-238">For an example polling trigger pattern, review this [poll trigger controller sample in GitHub](https://github.com/logicappsio/LogicAppTriggersExample/blob/master/LogicAppTriggers/Controllers/PollTriggerController.cs).</span></span>

<a name="webhook-triggers"></a>

### <a name="wait-and-listen-for-new-data-or-events-with-hello-webhook-trigger-pattern"></a><span data-ttu-id="e03ae-239">Patientez et écouter les nouvelles données ou des événements avec le modèle de déclencheur hello webhook</span><span class="sxs-lookup"><span data-stu-id="e03ae-239">Wait and listen for new data or events with hello webhook trigger pattern</span></span>

<span data-ttu-id="e03ae-240">Un déclencheur Webhook est un *déclencheur d’émission* qui attend et écoute les nouvelles données ou les événements au point de terminaison de votre service.</span><span class="sxs-lookup"><span data-stu-id="e03ae-240">A webhook trigger is a *push trigger* that waits and listens for new data or events at your service endpoint.</span></span> <span data-ttu-id="e03ae-241">Si de nouvelles données ou un événement respecte hello spécifié la condition de déclencheur hello et crée une instance d’application logique, lequel traite ensuite les données hello en tant qu’entrée.</span><span class="sxs-lookup"><span data-stu-id="e03ae-241">If new data or an event meets hello specified condition, hello trigger fires and creates a logic app instance, which then processes hello data as input.</span></span>
<span data-ttu-id="e03ae-242">Les déclencheurs de Webhook agissent comme hello [les actions webhook](#webhook-actions) précédemment décrites dans cette rubrique et sont configurés avec `subscribe` et `unsubscribe` points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="e03ae-242">Webhook triggers act much like hello [webhook actions](#webhook-actions) previously described in this topic, and are set up with `subscribe` and `unsubscribe` endpoints.</span></span> 

* <span data-ttu-id="e03ae-243">`subscribe`point de terminaison : lorsque vous ajoutez et enregistrez un déclencheur de webhook dans votre application logique, hello Logic Apps moteur hello d’appels `subscribe` point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="e03ae-243">`subscribe` endpoint: When you add and save a webhook trigger in your logic app, hello Logic Apps engine calls hello `subscribe` endpoint.</span></span> <span data-ttu-id="e03ae-244">Cette étape affiche hello logique application toocreate une URL de rappel qui stocke de votre API.</span><span class="sxs-lookup"><span data-stu-id="e03ae-244">This step causes hello logic app toocreate a callback URL that your API stores.</span></span> <span data-ttu-id="e03ae-245">Lorsque de nouvelles données ou un événement qui répond à hello condition spécifiée, votre API rappelle avec une URL de toohello HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="e03ae-245">When there's new data or an event that meets hello specified condition, your API calls back with an HTTP POST toohello URL.</span></span> <span data-ttu-id="e03ae-246">en-têtes et la charge de contenu hello passent en tant qu’application logique de toohello d’entrée.</span><span class="sxs-lookup"><span data-stu-id="e03ae-246">hello content payload and headers pass as input toohello logic app.</span></span>

* <span data-ttu-id="e03ae-247">`unsubscribe`point de terminaison : si le déclencheur de webhook hello ou l’application de l’intégralité de la logique est supprimée, hello Logic Apps moteur hello d’appels `unsubscribe` point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="e03ae-247">`unsubscribe` endpoint: If hello webhook trigger or entire logic app is deleted, hello Logic Apps engine calls hello `unsubscribe` endpoint.</span></span> <span data-ttu-id="e03ae-248">Votre API ensuite annuler l’inscription d’URL de rappel hello et arrêtez tous les processus en tant que nécessaire.</span><span class="sxs-lookup"><span data-stu-id="e03ae-248">Your API can then unregister hello callback URL and stop any processes as necessary.</span></span>

![Modèle de déclencheur Webhook](./media/logic-apps-create-api-app/custom-api-webhook-trigger-pattern.png)

> [!NOTE]
> <span data-ttu-id="e03ae-250">Actuellement, hello Concepteur de logique d’application ne prend en charge des points de terminaison webhook découverte via Swagger.</span><span class="sxs-lookup"><span data-stu-id="e03ae-250">Currently, hello Logic App Designer doesn't support discovering webhook endpoints through Swagger.</span></span> <span data-ttu-id="e03ae-251">Donc pour ce modèle, vous devez tooadd un [ **Webhook** déclencheur](../connectors/connectors-native-webhook.md) et spécifiez l’URL de hello, en-têtes, corps de votre demande.</span><span class="sxs-lookup"><span data-stu-id="e03ae-251">So for this pattern, you have tooadd a [**Webhook** trigger](../connectors/connectors-native-webhook.md) and specify hello URL, headers, and body for your request.</span></span> <span data-ttu-id="e03ae-252">Voir également [Déclencheur HTTPWebhook](logic-apps-workflow-actions-triggers.md#httpwebhook-trigger).</span><span class="sxs-lookup"><span data-stu-id="e03ae-252">See also [HTTPWebhook trigger](logic-apps-workflow-actions-triggers.md#httpwebhook-trigger).</span></span> <span data-ttu-id="e03ae-253">toopass dans l’URL de rappel hello, vous pouvez utiliser hello `@listCallbackUrl()` fonction de workflow dans un des champs de précédents hello selon les besoins.</span><span class="sxs-lookup"><span data-stu-id="e03ae-253">toopass in hello callback URL, you can use hello `@listCallbackUrl()` workflow function in any of hello previous fields as necessary.</span></span>
>
> <span data-ttu-id="e03ae-254">le traitement de tooprevent hello des mêmes données plusieurs fois, le déclencheur doit nettoyer les données qui a été déjà lu et transmises toohello logique application.</span><span class="sxs-lookup"><span data-stu-id="e03ae-254">tooprevent processing hello same data multiple times, your trigger should clean up data that was already read and passed toohello logic app.</span></span>

> [!TIP]
> <span data-ttu-id="e03ae-255">Pour un exemple de modèle Webhook, consultez cet [exemple de contrôleur de déclencheur Webhook dans GitHub](https://github.com/logicappsio/LogicAppTriggersExample/blob/master/LogicAppTriggers/Controllers/WebhookTriggerController.cs).</span><span class="sxs-lookup"><span data-stu-id="e03ae-255">For an example webhook pattern, review this [webhook trigger controller sample in GitHub](https://github.com/logicappsio/LogicAppTriggersExample/blob/master/LogicAppTriggers/Controllers/WebhookTriggerController.cs).</span></span>

## <a name="deploy-call-and-secure-custom-apis"></a><span data-ttu-id="e03ae-256">Déployer, appeler et sécuriser les API personnalisées</span><span class="sxs-lookup"><span data-stu-id="e03ae-256">Deploy, call, and secure custom APIs</span></span>

<span data-ttu-id="e03ae-257">Une fois les API personnalisées créées, configurez-les pour le déploiement, de façon à pouvoir les appeler en toute sécurité.</span><span class="sxs-lookup"><span data-stu-id="e03ae-257">After creating your custom APIs, set up your APIs for deployment so you can call them securely.</span></span> <span data-ttu-id="e03ae-258">Découvrez comment trop[déployer, appeler et sécuriser les API personnalisées pour les applications de la logique](./logic-apps-custom-hosted-api.md).</span><span class="sxs-lookup"><span data-stu-id="e03ae-258">Learn how too[deploy, call, and secure custom APIs for logic apps](./logic-apps-custom-hosted-api.md).</span></span>

## <a name="publish-custom-apis-tooazure"></a><span data-ttu-id="e03ae-259">Publier les tooAzure API personnalisée</span><span class="sxs-lookup"><span data-stu-id="e03ae-259">Publish custom APIs tooAzure</span></span>

<span data-ttu-id="e03ae-260">toomake votre API personnalisée disponibles pour une utilisation publique dans Azure, envoyez votre toohello les candidatures [programme Microsoft Azure Certified](https://azure.microsoft.com/marketplace/programs/certified/logic-apps/).</span><span class="sxs-lookup"><span data-stu-id="e03ae-260">toomake your custom APIs available for public use in Azure, submit your nominations toohello [Microsoft Azure Certified program](https://azure.microsoft.com/marketplace/programs/certified/logic-apps/).</span></span>

## <a name="get-help"></a><span data-ttu-id="e03ae-261">Obtenir de l’aide</span><span class="sxs-lookup"><span data-stu-id="e03ae-261">Get help</span></span>

<span data-ttu-id="e03ae-262">Pour obtenir de l’aide concernant les API personnalisées, contactez [customapishelp@microsoft.com](mailto:customapishelp@microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="e03ae-262">For specific help with custom APIs, contact [customapishelp@microsoft.com](mailto:customapishelp@microsoft.com).</span></span>

<span data-ttu-id="e03ae-263">tooask questions, répondez aux questions et voir les autres utilisateurs Azure Logic Apps font, visitez hello [forum de Azure Logic Apps](https://social.msdn.microsoft.com/Forums/en-US/home?forum=azurelogicapps).</span><span class="sxs-lookup"><span data-stu-id="e03ae-263">tooask questions, answer questions, and see what other Azure Logic Apps users are doing, visit hello [Azure Logic Apps forum](https://social.msdn.microsoft.com/Forums/en-US/home?forum=azurelogicapps).</span></span>

<span data-ttu-id="e03ae-264">toohelp améliorer Logic Apps et connecteurs, voter pour ou envoyer vos idées à hello [site de commentaires utilisateur Logic Apps](http://aka.ms/logicapps-wish).</span><span class="sxs-lookup"><span data-stu-id="e03ae-264">toohelp improve Logic Apps and connectors, vote on or submit ideas at hello [Logic Apps user feedback site](http://aka.ms/logicapps-wish).</span></span> 

## <a name="next-steps"></a><span data-ttu-id="e03ae-265">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="e03ae-265">Next steps</span></span>

* [<span data-ttu-id="e03ae-266">Mesure de l’utilisation des actions et des déclencheurs</span><span class="sxs-lookup"><span data-stu-id="e03ae-266">Usage metering for actions and triggers</span></span>](logic-apps-pricing.md)
* [<span data-ttu-id="e03ae-267">Gérer les types de contenu</span><span class="sxs-lookup"><span data-stu-id="e03ae-267">Handle content types</span></span>](./logic-apps-content-type.md)
* [<span data-ttu-id="e03ae-268">Gérer les erreurs et exceptions</span><span class="sxs-lookup"><span data-stu-id="e03ae-268">Handle errors and exceptions</span></span>](./logic-apps-exception-handling.md)
* [<span data-ttu-id="e03ae-269">Sécuriser l’accès aux applications de la logique de tooyour</span><span class="sxs-lookup"><span data-stu-id="e03ae-269">Secure access tooyour logic apps</span></span>](./logic-apps-securing-a-logic-app.md)
* [<span data-ttu-id="e03ae-270">Appeler, déclencher ou imbriquer des applications logiques via des points de terminaison HTTP</span><span class="sxs-lookup"><span data-stu-id="e03ae-270">Call, trigger, or nest logic apps with HTTP endpoints</span></span>](./logic-apps-http-endpoint.md)