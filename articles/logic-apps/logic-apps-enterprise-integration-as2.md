---
title: "Messages AS2 pour l’intégration d’entreprise B2B - Azure Logic Apps | Microsoft Docs"
description: "Échangez des messages AS2 dans le cadre d’une intégration d’entreprise B2B avec Azure Logic Apps"
services: logic-apps
documentationcenter: .net,nodejs,java
author: MandiOhlinger
manager: anneta
editor: 
ms.assetid: c9b7e1a9-4791-474c-855f-988bd7bf4b7f
ms.service: logic-apps
ms.workload: integration
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/08/2017
ms.author: LADocs; mandia
ms.openlocfilehash: 91b2f16611b88aa4b9395ca301d88042065ad9dd
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="exchange-as2-messages-for-enterprise-integration-with-logic-apps"></a><span data-ttu-id="87a87-103">Échangez des messages AS2 dans le cadre d’une intégration d’entreprise avec Logic Apps</span><span class="sxs-lookup"><span data-stu-id="87a87-103">Exchange AS2 messages for enterprise integration with logic apps</span></span>

<span data-ttu-id="87a87-104">Avant de pouvoir échanger des messages AS2 pour Azure Logic Apps, vous devez créer un contrat AS2 et le stocker dans votre compte d’intégration.</span><span class="sxs-lookup"><span data-stu-id="87a87-104">Before you can exchange AS2 messages for Azure Logic Apps, you must create an AS2 agreement and store that agreement in your integration account.</span></span> <span data-ttu-id="87a87-105">Voici les étapes de création d’un contrat AS2.</span><span class="sxs-lookup"><span data-stu-id="87a87-105">Here are the steps for how to create an AS2 agreement.</span></span>

## <a name="before-you-start"></a><span data-ttu-id="87a87-106">Avant de commencer</span><span class="sxs-lookup"><span data-stu-id="87a87-106">Before you start</span></span>

<span data-ttu-id="87a87-107">Voici les éléments dont vous avez besoin :</span><span class="sxs-lookup"><span data-stu-id="87a87-107">Here's the items you need:</span></span>

* <span data-ttu-id="87a87-108">Un [compte d’intégration](../logic-apps/logic-apps-enterprise-integration-accounts.md) déjà défini et associé à votre abonnement Azure</span><span class="sxs-lookup"><span data-stu-id="87a87-108">An [integration account](../logic-apps/logic-apps-enterprise-integration-accounts.md) that's already defined and associated with your Azure subscription</span></span>
* <span data-ttu-id="87a87-109">Au moins deux [partenaires](logic-apps-enterprise-integration-partners.md) déjà définis dans votre compte d’intégration et configurés avec le qualificateur AS2 sous **Identités d’entreprise**</span><span class="sxs-lookup"><span data-stu-id="87a87-109">At least two [partners](logic-apps-enterprise-integration-partners.md) that are already defined in your integration account and configured with the AS2 qualifier under **Business Identities**</span></span>

> [!NOTE]
> <span data-ttu-id="87a87-110">Lorsque vous créez un contrat, le contenu du fichier de contrat doit correspondre au type de contrat.</span><span class="sxs-lookup"><span data-stu-id="87a87-110">When you create an agreement, the content in the agreement file must match the agreement type.</span></span>    

<span data-ttu-id="87a87-111">Une fois que vous avez [créé un compte d’intégration](../logic-apps/logic-apps-enterprise-integration-accounts.md) et [ajouté des partenaires](logic-apps-enterprise-integration-partners.md), vous pouvez créer un contrat AS2 en procédant comme suit.</span><span class="sxs-lookup"><span data-stu-id="87a87-111">After you [create an integration account](../logic-apps/logic-apps-enterprise-integration-accounts.md) and [add partners](logic-apps-enterprise-integration-partners.md), you can create an AS2 agreement by following these steps.</span></span>

## <a name="create-an-as2-agreement"></a><span data-ttu-id="87a87-112">Créer un contrat AS2</span><span class="sxs-lookup"><span data-stu-id="87a87-112">Create an AS2 agreement</span></span>

1.  <span data-ttu-id="87a87-113">Connectez-vous au [portail Azure](http://portal.azure.com "portail Azure").</span><span class="sxs-lookup"><span data-stu-id="87a87-113">Sign in to the [Azure portal](http://portal.azure.com "Azure portal").</span></span>  

2.  <span data-ttu-id="87a87-114">Dans le menu de gauche, cliquez sur **Plus de services**.</span><span class="sxs-lookup"><span data-stu-id="87a87-114">From the left menu, select **More services**.</span></span> <span data-ttu-id="87a87-115">Dans la zone de recherche, entrez **intégration** comme filtre.</span><span class="sxs-lookup"><span data-stu-id="87a87-115">In the search box, enter **integration** as your filter.</span></span> <span data-ttu-id="87a87-116">Sélectionnez **Comptes d’intégration** dans la liste des résultats.</span><span class="sxs-lookup"><span data-stu-id="87a87-116">In the results list, select **Integration Accounts**.</span></span>

    > [!TIP]
    > <span data-ttu-id="87a87-117">Si vous ne voyez pas l’option **Plus de services**, vous devez d’abord développer le menu.</span><span class="sxs-lookup"><span data-stu-id="87a87-117">If you don't see **More services**, you might have to expand the menu first.</span></span> <span data-ttu-id="87a87-118">En haut du menu réduit, sélectionnez **Afficher le menu**.</span><span class="sxs-lookup"><span data-stu-id="87a87-118">At the top of the collapsed menu, select **Show menu**.</span></span>

    ![Plus de services, filtrer sur « intégration », sélectionner « Comptes d’intégration »](./media/logic-apps-enterprise-integration-agreements/overview-1.png)

3. <span data-ttu-id="87a87-120">Dans le panneau **Comptes d’intégration** qui s’affiche, sélectionnez le compte d’intégration dans lequel vous souhaitez créer le contrat.</span><span class="sxs-lookup"><span data-stu-id="87a87-120">In the **Integration Accounts** blade that opens, select the integration account where you want to create the agreement.</span></span>
<span data-ttu-id="87a87-121">Si aucun compte d’intégration ne s’affiche, [créez-en un](../logic-apps/logic-apps-enterprise-integration-accounts.md "Tout sur les comptes d’intégration").</span><span class="sxs-lookup"><span data-stu-id="87a87-121">If you don't see any integration accounts, [create one first](../logic-apps/logic-apps-enterprise-integration-accounts.md "All about integration accounts").</span></span>  

    ![Sélectionnez le compte d’intégration dans lequel vous souhaitez créer le contrat](./media/logic-apps-enterprise-integration-overview/overview-3.png)

4. <span data-ttu-id="87a87-123">Choisissez la mosaïque **Contrats**.</span><span class="sxs-lookup"><span data-stu-id="87a87-123">Choose the **Agreements** tile.</span></span> <span data-ttu-id="87a87-124">Si vous ne voyez pas la mosaïque Contrats, commencez par ajouter la mosaïque.</span><span class="sxs-lookup"><span data-stu-id="87a87-124">If you don't have an Agreements tile, add the tile first.</span></span>

    ![Choisissez la mosaïque « Contrats »](./media/logic-apps-enterprise-integration-agreements/agreement-1.png)

5. <span data-ttu-id="87a87-126">Dans le panneau Contrats qui s’affiche, sélectionnez **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="87a87-126">In the Agreements blade that opens, choose **Add**.</span></span>

    ![Choisir « Ajouter »](./media/logic-apps-enterprise-integration-agreements/agreement-2.png)

6. <span data-ttu-id="87a87-128">Sous **Ajouter**, entrez le **nom** de votre contrat.</span><span class="sxs-lookup"><span data-stu-id="87a87-128">Under **Add**, enter a **Name** for your agreement.</span></span> <span data-ttu-id="87a87-129">Pour le **type de contrat**, sélectionnez **AS2**.</span><span class="sxs-lookup"><span data-stu-id="87a87-129">For **Agreement type**, select **AS2**.</span></span> <span data-ttu-id="87a87-130">Sélectionnez le **partenaire hôte**, **l’identité de l’hôte**, le **partenaire invité** et **l’identité de l’invité** pour votre contrat.</span><span class="sxs-lookup"><span data-stu-id="87a87-130">Select the **Host Partner**, **Host Identity**, **Guest Partner**, and **Guest Identity** for your agreement.</span></span>

    ![Renseigner les détails relatifs au contrat](./media/logic-apps-enterprise-integration-agreements/agreement-3.png)  

    | <span data-ttu-id="87a87-132">Propriété</span><span class="sxs-lookup"><span data-stu-id="87a87-132">Property</span></span> | <span data-ttu-id="87a87-133">Description</span><span class="sxs-lookup"><span data-stu-id="87a87-133">Description</span></span> |
    | --- | --- |
    | <span data-ttu-id="87a87-134">Nom</span><span class="sxs-lookup"><span data-stu-id="87a87-134">Name</span></span> |<span data-ttu-id="87a87-135">Nom du contrat.</span><span class="sxs-lookup"><span data-stu-id="87a87-135">Name of the agreement</span></span> |
    | <span data-ttu-id="87a87-136">Type de contrat</span><span class="sxs-lookup"><span data-stu-id="87a87-136">Agreement Type</span></span> | <span data-ttu-id="87a87-137">Doit être AS2</span><span class="sxs-lookup"><span data-stu-id="87a87-137">Should be AS2</span></span> |
    | <span data-ttu-id="87a87-138">Partenaire hôte</span><span class="sxs-lookup"><span data-stu-id="87a87-138">Host Partner</span></span> |<span data-ttu-id="87a87-139">Un contrat nécessite un partenaire hôte et un partenaire invité.</span><span class="sxs-lookup"><span data-stu-id="87a87-139">An agreement needs both a host and guest partner.</span></span> <span data-ttu-id="87a87-140">Le partenaire hôte représente l’organisation qui configure le contrat.</span><span class="sxs-lookup"><span data-stu-id="87a87-140">The host partner represents the organization that configures the agreement.</span></span> |
    | <span data-ttu-id="87a87-141">Identité de l’hôte</span><span class="sxs-lookup"><span data-stu-id="87a87-141">Host Identity</span></span> |<span data-ttu-id="87a87-142">Identificateur du partenaire hôte.</span><span class="sxs-lookup"><span data-stu-id="87a87-142">An identifier for the host partner</span></span> |
    | <span data-ttu-id="87a87-143">Partenaire invité</span><span class="sxs-lookup"><span data-stu-id="87a87-143">Guest Partner</span></span> |<span data-ttu-id="87a87-144">Un contrat nécessite un partenaire hôte et un partenaire invité.</span><span class="sxs-lookup"><span data-stu-id="87a87-144">An agreement needs both a host and guest partner.</span></span> <span data-ttu-id="87a87-145">Le partenaire invité représente l’organisation qui travaille avec le partenaire hôte.</span><span class="sxs-lookup"><span data-stu-id="87a87-145">The guest partner represents the organization that's doing business with the host partner.</span></span> |
    | <span data-ttu-id="87a87-146">identité de l’invité</span><span class="sxs-lookup"><span data-stu-id="87a87-146">Guest Identity</span></span> |<span data-ttu-id="87a87-147">Identificateur du partenaire invité.</span><span class="sxs-lookup"><span data-stu-id="87a87-147">An identifier for the guest partner</span></span> |
    | <span data-ttu-id="87a87-148">Paramètres de réception</span><span class="sxs-lookup"><span data-stu-id="87a87-148">Receive Settings</span></span> |<span data-ttu-id="87a87-149">Ces propriétés s’appliquent à tous les messages reçus par un contrat.</span><span class="sxs-lookup"><span data-stu-id="87a87-149">These properties apply to all messages received by an agreement.</span></span> |
    | <span data-ttu-id="87a87-150">Paramètres d’envoi</span><span class="sxs-lookup"><span data-stu-id="87a87-150">Send Settings</span></span> |<span data-ttu-id="87a87-151">Ces propriétés s’appliquent à tous les messages envoyés par un contrat.</span><span class="sxs-lookup"><span data-stu-id="87a87-151">These properties apply to all messages sent by an agreement.</span></span> |

## <a name="configure-how-your-agreement-handles-received-messages"></a><span data-ttu-id="87a87-152">Configuration du traitement des messages reçus</span><span class="sxs-lookup"><span data-stu-id="87a87-152">Configure how your agreement handles received messages</span></span>

<span data-ttu-id="87a87-153">Maintenant que vous avez défini les propriétés du contrat, vous pouvez configurer la manière dont ce contrat identifie et traite les messages entrants reçus par votre partenaire par l’intermédiaire de ce contrat.</span><span class="sxs-lookup"><span data-stu-id="87a87-153">Now that you've set the agreement properties, you can configure how this agreement identifies and handles incoming messages received from your partner through this agreement.</span></span>

1.  <span data-ttu-id="87a87-154">Sous **Ajouter**, sélectionnez **Paramètres de réception**.</span><span class="sxs-lookup"><span data-stu-id="87a87-154">Under **Add**, select **Receive Settings**.</span></span>
<span data-ttu-id="87a87-155">Configurez ces propriétés selon le contrat conclu avec le partenaire qui échange des messages avec vous.</span><span class="sxs-lookup"><span data-stu-id="87a87-155">Configure these properties based on your agreement with the partner that exchanges messages with you.</span></span> <span data-ttu-id="87a87-156">Pour obtenir les descriptions des propriétés, consultez le tableau de cette section.</span><span class="sxs-lookup"><span data-stu-id="87a87-156">For property descriptions, see the table in this section.</span></span>

    ![Configurer les « Paramètres de réception »](./media/logic-apps-enterprise-integration-agreements/agreement-4.png)

2. <span data-ttu-id="87a87-158">Si vous le souhaitez, vous pouvez remplacer les propriétés des messages entrants en cochant la case **Remplacer les propriétés du message**.</span><span class="sxs-lookup"><span data-stu-id="87a87-158">Optionally, you can override the properties of incoming messages by selecting **Override message properties**.</span></span>

3. <span data-ttu-id="87a87-159">Sélectionnez **Le message doit être signé** pour demander la signature de tous les messages entrants.</span><span class="sxs-lookup"><span data-stu-id="87a87-159">To require all incoming messages to be signed, select **Message should be signed**.</span></span> <span data-ttu-id="87a87-160">Dans la liste **Certificat**, sélectionnez un [certificat public de partenaire invité](../logic-apps/logic-apps-enterprise-integration-certificates.md) existant pour valider la signature dans les messages.</span><span class="sxs-lookup"><span data-stu-id="87a87-160">From the **Certificate** list, select an existing [guest partner public certificate](../logic-apps/logic-apps-enterprise-integration-certificates.md) for validating the signature on the messages.</span></span> <span data-ttu-id="87a87-161">Sinon, créez le certificat si vous n’en possédez pas.</span><span class="sxs-lookup"><span data-stu-id="87a87-161">Or create the certificate, if you don't have one.</span></span>

4.  <span data-ttu-id="87a87-162">Sélectionnez **Le message doit être chiffré** pour exiger que tous les messages entrants soient chiffrés.</span><span class="sxs-lookup"><span data-stu-id="87a87-162">To require all incoming messages to be encrypted, select **Message should be encrypted**.</span></span> <span data-ttu-id="87a87-163">Dans la liste **Certificat**, sélectionnez un [certificat privé de partenaire hôte](../logic-apps/logic-apps-enterprise-integration-certificates.md) existant pour déchiffrer les messages entrants.</span><span class="sxs-lookup"><span data-stu-id="87a87-163">From the **Certificate** list, select an existing [host partner private certificate](../logic-apps/logic-apps-enterprise-integration-certificates.md) for decrypting incoming messages.</span></span> <span data-ttu-id="87a87-164">Sinon, créez le certificat si vous n’en possédez pas.</span><span class="sxs-lookup"><span data-stu-id="87a87-164">Or create the certificate, if you don't have one.</span></span>

5. <span data-ttu-id="87a87-165">Pour exiger que les messages soit compressés, sélectionnez **Le message doit être compressé**.</span><span class="sxs-lookup"><span data-stu-id="87a87-165">To require messages to be compressed, select **Message should be compressed**.</span></span>

6. <span data-ttu-id="87a87-166">Pour envoyer une notification de réception du message (MDN) synchrone pour les messages reçus, sélectionnez **Envoyer un MDN**.</span><span class="sxs-lookup"><span data-stu-id="87a87-166">To send a synchronous message disposition notification (MDN) for received messages, select **Send MDN**.</span></span>

7. <span data-ttu-id="87a87-167">Pour envoyer un MDN signé pour les messages reçus, sélectionnez **Envoyer un MDN signé**.</span><span class="sxs-lookup"><span data-stu-id="87a87-167">To send signed MDNs for received messages, select **Send signed MDN**.</span></span>

8. <span data-ttu-id="87a87-168">Pour envoyer un MDN asynchrone pour les messages reçus, sélectionnez **Envoyer un MDN asynchrone**.</span><span class="sxs-lookup"><span data-stu-id="87a87-168">To send asynchronous MDNs for received messages, select **Send asynchronous MDN**.</span></span>

9. <span data-ttu-id="87a87-169">Une fois que vous avez terminé, cliquez sur **OK** pour enregistrer vos paramètres.</span><span class="sxs-lookup"><span data-stu-id="87a87-169">After you're done, make sure to save your settings by choosing **OK**.</span></span>

<span data-ttu-id="87a87-170">Votre contrat est maintenant prêt à traiter les messages entrants qui sont conformes aux paramètres que vous avez sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="87a87-170">Now your agreement is ready to handle incoming messages that conform to your selected settings.</span></span>

| <span data-ttu-id="87a87-171">Propriété</span><span class="sxs-lookup"><span data-stu-id="87a87-171">Property</span></span> | <span data-ttu-id="87a87-172">Description</span><span class="sxs-lookup"><span data-stu-id="87a87-172">Description</span></span> |
| --- | --- |
| <span data-ttu-id="87a87-173">Override message properties</span><span class="sxs-lookup"><span data-stu-id="87a87-173">Override message properties</span></span> |<span data-ttu-id="87a87-174">Indique que les propriétés dans les messages reçus peuvent être remplacées.</span><span class="sxs-lookup"><span data-stu-id="87a87-174">Indicates that properties in received messages can be overridden.</span></span> |
| <span data-ttu-id="87a87-175">Le message doit être signé</span><span class="sxs-lookup"><span data-stu-id="87a87-175">Message should be signed</span></span> |<span data-ttu-id="87a87-176">Exige que les messages soient signés numériquement.</span><span class="sxs-lookup"><span data-stu-id="87a87-176">Requires messages to be digitally signed.</span></span> <span data-ttu-id="87a87-177">Configurez le certificat public du partenaire invité pour la vérification de signature.</span><span class="sxs-lookup"><span data-stu-id="87a87-177">Configure the guest partner public certificate for signature verification.</span></span>  |
| <span data-ttu-id="87a87-178">Le message doit être chiffré</span><span class="sxs-lookup"><span data-stu-id="87a87-178">Message should be encrypted</span></span> |<span data-ttu-id="87a87-179">Exige que les messages soient chiffrés.</span><span class="sxs-lookup"><span data-stu-id="87a87-179">Requires messages to be encrypted.</span></span> <span data-ttu-id="87a87-180">Les messages non chiffrés sont rejetés.</span><span class="sxs-lookup"><span data-stu-id="87a87-180">Non-encrypted messages are rejected.</span></span> <span data-ttu-id="87a87-181">Configurez le certificat privé du partenaire hôte pour déchiffrer les messages.</span><span class="sxs-lookup"><span data-stu-id="87a87-181">Configure the host partner private certificate for decrypting the messages.</span></span>  |
| <span data-ttu-id="87a87-182">Le message doit être compressé</span><span class="sxs-lookup"><span data-stu-id="87a87-182">Message should be compressed</span></span> |<span data-ttu-id="87a87-183">Exige que les messages soient compressés.</span><span class="sxs-lookup"><span data-stu-id="87a87-183">Requires messages to be compressed.</span></span> <span data-ttu-id="87a87-184">Les messages non compressés sont rejetés.</span><span class="sxs-lookup"><span data-stu-id="87a87-184">Non-compressed messages are rejected.</span></span> |
| <span data-ttu-id="87a87-185">Texte du MDN</span><span class="sxs-lookup"><span data-stu-id="87a87-185">MDN Text</span></span> |<span data-ttu-id="87a87-186">La notification de réception du message (MDN) par défaut à envoyer à l’expéditeur du message.</span><span class="sxs-lookup"><span data-stu-id="87a87-186">The default message disposition notification (MDN) to be sent to the message sender.</span></span> |
| <span data-ttu-id="87a87-187">Send MDN (Envoyer MDN)</span><span class="sxs-lookup"><span data-stu-id="87a87-187">Send MDN</span></span> |<span data-ttu-id="87a87-188">Exige que le MDN soit envoyé.</span><span class="sxs-lookup"><span data-stu-id="87a87-188">Requires MDNs to be sent.</span></span> |
| <span data-ttu-id="87a87-189">Send signed MDN (Envoyer MDN signé)</span><span class="sxs-lookup"><span data-stu-id="87a87-189">Send signed MDN</span></span> |<span data-ttu-id="87a87-190">Exige que le MDN soit signé.</span><span class="sxs-lookup"><span data-stu-id="87a87-190">Requires MDNs to be signed.</span></span> |
| <span data-ttu-id="87a87-191">MIC Algorithm (Algorithme MIC)</span><span class="sxs-lookup"><span data-stu-id="87a87-191">MIC Algorithm</span></span> |<span data-ttu-id="87a87-192">Sélectionnez l’algorithme à utiliser pour la signature du message.</span><span class="sxs-lookup"><span data-stu-id="87a87-192">Select the algorithm to use for signing messages.</span></span> |
| <span data-ttu-id="87a87-193">Send asynchronous MDN (Envoyer MDN asynchrone)</span><span class="sxs-lookup"><span data-stu-id="87a87-193">Send asynchronous MDN</span></span> | <span data-ttu-id="87a87-194">Exige que les messages soient envoyés de manière asynchrone.</span><span class="sxs-lookup"><span data-stu-id="87a87-194">Requires messages to be sent asynchronously.</span></span> |
| <span data-ttu-id="87a87-195">URL</span><span class="sxs-lookup"><span data-stu-id="87a87-195">URL</span></span> | <span data-ttu-id="87a87-196">Spécifiez l’URL vers laquelle envoyer les MDN.</span><span class="sxs-lookup"><span data-stu-id="87a87-196">Specify the URL where to send the MDNs.</span></span> |

## <a name="configure-how-your-agreement-sends-messages"></a><span data-ttu-id="87a87-197">Configuration de l’envoi des messages</span><span class="sxs-lookup"><span data-stu-id="87a87-197">Configure how your agreement sends messages</span></span>

<span data-ttu-id="87a87-198">Vous pouvez configurer la manière dont votre contrat identifie et traite les messages sortants que vous envoyez à vos partenaires par l’intermédiaire de ce contrat.</span><span class="sxs-lookup"><span data-stu-id="87a87-198">You can configure how this agreement identifies and handles outgoing messages that you send to your partners through this agreement.</span></span>

1.  <span data-ttu-id="87a87-199">Sous **Ajouter**, sélectionnez **Paramètres d’envoi**.</span><span class="sxs-lookup"><span data-stu-id="87a87-199">Under **Add**, select **Send Settings**.</span></span>
<span data-ttu-id="87a87-200">Configurez ces propriétés selon le contrat conclu avec le partenaire qui échange des messages avec vous.</span><span class="sxs-lookup"><span data-stu-id="87a87-200">Configure these properties based on your agreement with the partner that exchanges messages with you.</span></span> <span data-ttu-id="87a87-201">Pour obtenir les descriptions des propriétés, consultez le tableau de cette section.</span><span class="sxs-lookup"><span data-stu-id="87a87-201">For property descriptions, see the table in this section.</span></span>

    ![Définissez les propriétés de « Paramètres d’envoi »](./media/logic-apps-enterprise-integration-agreements/agreement-51.png)

2. <span data-ttu-id="87a87-203">Sélectionnez l’option **Activer la signature des messages** pour envoyer des messages signés à votre partenaire.</span><span class="sxs-lookup"><span data-stu-id="87a87-203">To send signed messages to your partner, select **Enable message signing**.</span></span> <span data-ttu-id="87a87-204">Pour signer les messages, sélectionnez *l’algorithme MIC de certificat privé du partenaire hôte* dans la liste **Algorithme MIC**.</span><span class="sxs-lookup"><span data-stu-id="87a87-204">For signing the messages, in the **MIC Algorithm** list, select the *host partner private certificate MIC Algorithm*.</span></span> <span data-ttu-id="87a87-205">Dans la liste **Certificat**, sélectionnez un [certificat privé de partenaire hôte](../logic-apps/logic-apps-enterprise-integration-certificates.md).</span><span class="sxs-lookup"><span data-stu-id="87a87-205">And in the **Certificate** list, select an existing [host partner private certificate](../logic-apps/logic-apps-enterprise-integration-certificates.md).</span></span>

3. <span data-ttu-id="87a87-206">Sélectionnez l’option **Activer le chiffrement des messages** pour envoyer des messages chiffrés au partenaire.</span><span class="sxs-lookup"><span data-stu-id="87a87-206">To send encrypted messages to the partner, select **Enable message encryption**.</span></span> <span data-ttu-id="87a87-207">Pour chiffrer les messages, sélectionnez *l’algorithme de certificat public du partenaire invité* dans la liste **Algorithme de chiffrement**.</span><span class="sxs-lookup"><span data-stu-id="87a87-207">For encrypting the messages, in the **Encryption Algorithm** list, select the *guest partner public certificate algorithm*.</span></span>
<span data-ttu-id="87a87-208">Dans la liste **Certificat**, sélectionnez un [certificat public de partenaire invité](../logic-apps/logic-apps-enterprise-integration-certificates.md).</span><span class="sxs-lookup"><span data-stu-id="87a87-208">And in the **Certificate** list, select an existing [guest partner public certificate](../logic-apps/logic-apps-enterprise-integration-certificates.md).</span></span>

4. <span data-ttu-id="87a87-209">Pour compresser les messages, sélectionnez **Activer la compression des messages**.</span><span class="sxs-lookup"><span data-stu-id="87a87-209">To compress the message, select **Enable message compression**.</span></span>

5. <span data-ttu-id="87a87-210">Sélectionnez l’option **Dérouler les en-têtes HTTP** pour dérouler l’en-tête de type de contenu HTTP sur une seule ligne.</span><span class="sxs-lookup"><span data-stu-id="87a87-210">To unfold the HTTP content-type header into a single line, select **Unfold HTTP headers**.</span></span>

6. <span data-ttu-id="87a87-211">Pour recevoir des MDN synchrones pour les messages envoyés, sélectionnez **Exiger le MDN**.</span><span class="sxs-lookup"><span data-stu-id="87a87-211">To receive synchronous MDNs for the sent messages, select **Request MDN**.</span></span>

7. <span data-ttu-id="87a87-212">Pour recevoir des MDN signés pour les messages envoyés, sélectionnez **Exiger le MDN signé**.</span><span class="sxs-lookup"><span data-stu-id="87a87-212">To receive signed MDNs for the sent messages, select **Request signed MDN**.</span></span>

8. <span data-ttu-id="87a87-213">Pour recevoir des MDN asynchrones pour les messages envoyés, sélectionnez **Exiger le MDN asynchrone**.</span><span class="sxs-lookup"><span data-stu-id="87a87-213">To receive asynchronous MDNs for the sent messages, select **Request asynchronous MDN**.</span></span> <span data-ttu-id="87a87-214">Si vous sélectionnez cette option, saisissez l’URL à laquelle envoyer les MDN.</span><span class="sxs-lookup"><span data-stu-id="87a87-214">If you select this option, enter the URL for where to send the MDNs.</span></span>

9. <span data-ttu-id="87a87-215">Pour exiger la non-répudiation de réception, sélectionnez **Activer NRR**.</span><span class="sxs-lookup"><span data-stu-id="87a87-215">To require non-repudiation of receipt, select **Enable NRR**.</span></span>  

10. <span data-ttu-id="87a87-216">Pour spécifier le format d’algorithme à utiliser dans le MIC ou pour la signature dans les en-têtes sortants des messages AS2 ou des MDN, sélectionnez **Format de l’algorithme SHA2**.</span><span class="sxs-lookup"><span data-stu-id="87a87-216">To specify algorithm format to use in the MIC or signing in the outgoing headers of the AS2 message or MDN, select **SHA2 Algorithm format**.</span></span>  

11. <span data-ttu-id="87a87-217">Une fois que vous avez terminé, cliquez sur **OK** pour enregistrer vos paramètres.</span><span class="sxs-lookup"><span data-stu-id="87a87-217">After you're done, make sure to save your settings by choosing **OK**.</span></span>

<span data-ttu-id="87a87-218">Votre contrat est maintenant prêt à traiter les messages sortants qui sont conformes aux paramètres que vous avez sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="87a87-218">Now your agreement is ready to handle outgoing messages that conform to your selected settings.</span></span>

| <span data-ttu-id="87a87-219">Propriété</span><span class="sxs-lookup"><span data-stu-id="87a87-219">Property</span></span> | <span data-ttu-id="87a87-220">Description</span><span class="sxs-lookup"><span data-stu-id="87a87-220">Description</span></span> |
| --- | --- |
| <span data-ttu-id="87a87-221">Enable message signing (Activer la signature des messages)</span><span class="sxs-lookup"><span data-stu-id="87a87-221">Enable message signing</span></span> |<span data-ttu-id="87a87-222">Exige que tous les messages envoyés à partir du contrat soient signés.</span><span class="sxs-lookup"><span data-stu-id="87a87-222">Requires all messages that are sent from the agreement to be signed.</span></span> |
| <span data-ttu-id="87a87-223">MIC Algorithm (Algorithme MIC)</span><span class="sxs-lookup"><span data-stu-id="87a87-223">MIC Algorithm</span></span> |<span data-ttu-id="87a87-224">L’algorithme à utiliser pour la signature du message.</span><span class="sxs-lookup"><span data-stu-id="87a87-224">The algorithm to use for signing messages.</span></span> <span data-ttu-id="87a87-225">Configurez l’algorithme MIC de certificat privé du partenaire hôte pour signer les messages.</span><span class="sxs-lookup"><span data-stu-id="87a87-225">Configures the host partner private certificate MIC Algorithm for signing the messages.</span></span> |
| <span data-ttu-id="87a87-226">Certificat</span><span class="sxs-lookup"><span data-stu-id="87a87-226">Certificate</span></span> |<span data-ttu-id="87a87-227">Sélectionnez le certificat à utiliser pour la signature des messages.</span><span class="sxs-lookup"><span data-stu-id="87a87-227">Select the certificate to use for signing messages.</span></span> <span data-ttu-id="87a87-228">Configurez le certificat privé du partenaire hôte pour signer les messages.</span><span class="sxs-lookup"><span data-stu-id="87a87-228">Configures the host partner private certificate for signing the messages.</span></span> |
| <span data-ttu-id="87a87-229">Enable message encryption (Activer le chiffrement du message)</span><span class="sxs-lookup"><span data-stu-id="87a87-229">Enable message encryption</span></span> |<span data-ttu-id="87a87-230">Exige que tous les messages envoyés à partir du contrat soient chiffrés.</span><span class="sxs-lookup"><span data-stu-id="87a87-230">Requires encryption of all messages that are sent from this agreement.</span></span> <span data-ttu-id="87a87-231">Configure l’algorithme de certificat public du partenaire invité pour chiffrer les messages.</span><span class="sxs-lookup"><span data-stu-id="87a87-231">Configures the guest partner public certificate algorithm for encrypting the messages.</span></span> |
| <span data-ttu-id="87a87-232">Algorithme de chiffrement</span><span class="sxs-lookup"><span data-stu-id="87a87-232">Encryption Algorithm</span></span> |<span data-ttu-id="87a87-233">L’algorithme de chiffrement à utiliser pour le chiffrement des messages.</span><span class="sxs-lookup"><span data-stu-id="87a87-233">The encryption algorithm to use for message encryption.</span></span> <span data-ttu-id="87a87-234">Configure le certificat public du partenaire invité pour chiffrer les messages.</span><span class="sxs-lookup"><span data-stu-id="87a87-234">Configures the guest partner public certificate for encrypting the messages.</span></span> |
| <span data-ttu-id="87a87-235">Certificat</span><span class="sxs-lookup"><span data-stu-id="87a87-235">Certificate</span></span> |<span data-ttu-id="87a87-236">Le certificat à utiliser pour chiffrer les messages.</span><span class="sxs-lookup"><span data-stu-id="87a87-236">The certificate to use to encrypt messages.</span></span> <span data-ttu-id="87a87-237">Configure le certificat privé du partenaire invité pour chiffrer les messages.</span><span class="sxs-lookup"><span data-stu-id="87a87-237">Configures the guest partner private certificate for encrypting the messages.</span></span> |
| <span data-ttu-id="87a87-238">Enable message compression (Activer la compression des messages)</span><span class="sxs-lookup"><span data-stu-id="87a87-238">Enable message compression</span></span> |<span data-ttu-id="87a87-239">Exige que tous les messages envoyés à partir du contrat soient compressés.</span><span class="sxs-lookup"><span data-stu-id="87a87-239">Requires compression of all messages that are sent from this agreement.</span></span> |
| <span data-ttu-id="87a87-240">Dérouler les en-têtes HTTP</span><span class="sxs-lookup"><span data-stu-id="87a87-240">Unfold HTTP headers</span></span> |<span data-ttu-id="87a87-241">Déroule l’en-tête de type de contenu HTTP sur une seule ligne.</span><span class="sxs-lookup"><span data-stu-id="87a87-241">Places the HTTP content-type header onto a single line.</span></span> |
| <span data-ttu-id="87a87-242">Exiger le MDN</span><span class="sxs-lookup"><span data-stu-id="87a87-242">Request MDN</span></span> |<span data-ttu-id="87a87-243">Exige l’envoi d’un MDN pour tous les messages envoyés à partir du contrat.</span><span class="sxs-lookup"><span data-stu-id="87a87-243">Requires an MDN for all messages that are sent from this agreement.</span></span> |
| <span data-ttu-id="87a87-244">Exiger le MDN signé</span><span class="sxs-lookup"><span data-stu-id="87a87-244">Request signed MDN</span></span> |<span data-ttu-id="87a87-245">Exige que tous les MDN envoyés dans le cadre de ce contrat soient signés.</span><span class="sxs-lookup"><span data-stu-id="87a87-245">Requires all MDNs that are sent to this agreement to be signed.</span></span> |
| <span data-ttu-id="87a87-246">Exiger le MDN asynchrone</span><span class="sxs-lookup"><span data-stu-id="87a87-246">Request asynchronous MDN</span></span> |<span data-ttu-id="87a87-247">Exige l’envoi d’un MDN asynchrone à ce contrat.</span><span class="sxs-lookup"><span data-stu-id="87a87-247">Requires asynchronous MDNs to be sent to this agreement.</span></span> |
| <span data-ttu-id="87a87-248">URL</span><span class="sxs-lookup"><span data-stu-id="87a87-248">URL</span></span> |<span data-ttu-id="87a87-249">Spécifiez l’URL vers laquelle envoyer les MDN.</span><span class="sxs-lookup"><span data-stu-id="87a87-249">Specify the URL where to send the MDNs.</span></span> |
| <span data-ttu-id="87a87-250">Enable NRR (Activer NRR)</span><span class="sxs-lookup"><span data-stu-id="87a87-250">Enable NRR</span></span> |<span data-ttu-id="87a87-251">Exige la non-répudiation de réception (NRR), un attribut de communication qui fournit une preuve de réception des données.</span><span class="sxs-lookup"><span data-stu-id="87a87-251">Requires non-repudiation of receipt (NRR), a communication attribute that provides evidence that the data was received as addressed.</span></span> |
| <span data-ttu-id="87a87-252">Format de l’algorithme SHA2</span><span class="sxs-lookup"><span data-stu-id="87a87-252">SHA2 Algorithm format</span></span> |<span data-ttu-id="87a87-253">Sélectionnez le format d’algorithme à utiliser dans le MIC ou pour la signature dans les en-têtes sortants des messages AS2 ou des MDN.</span><span class="sxs-lookup"><span data-stu-id="87a87-253">Select algorithm format to use in the MIC or signing in the outgoing headers of the AS2 message or MDN</span></span> |

## <a name="find-your-created-agreement"></a><span data-ttu-id="87a87-254">Comment retrouver le contrat que vous avez créé</span><span class="sxs-lookup"><span data-stu-id="87a87-254">Find your created agreement</span></span>

1.  <span data-ttu-id="87a87-255">Après avoir défini toutes les propriétés de votre contrat, dans le panneau **Ajouter**, cliquez sur **OK** pour terminer la création de votre contrat et revenir au panneau de votre compte d’intégration.</span><span class="sxs-lookup"><span data-stu-id="87a87-255">After you finish setting all your agreement properties, on the **Add** blade, choose **OK** to finish creating your agreement and return to your integration account blade.</span></span>

    <span data-ttu-id="87a87-256">Le contrat que vous venez d’ajouter s’affiche dans votre liste **Contrats**.</span><span class="sxs-lookup"><span data-stu-id="87a87-256">Your newly added agreement now appears in your **Agreements** list.</span></span>

2.  <span data-ttu-id="87a87-257">Vous pouvez également afficher vos contrats dans la vue d’ensemble de votre compte d’intégration.</span><span class="sxs-lookup"><span data-stu-id="87a87-257">You can also view your agreements in your integration account overview.</span></span> <span data-ttu-id="87a87-258">Dans le panneau de votre compte d’intégration, choisissez **Vue d’ensemble**, puis sélectionnez la mosaïque **Contrats**.</span><span class="sxs-lookup"><span data-stu-id="87a87-258">On your integration account blade, choose **Overview**, then select the **Agreements** tile.</span></span> 

    ![Sélectionner la mosaïque « Contrats » pour afficher tous les contrats](./media/logic-apps-enterprise-integration-agreements/agreement-6.png)

## <a name="view-the-swagger"></a><span data-ttu-id="87a87-260">Afficher Swagger</span><span class="sxs-lookup"><span data-stu-id="87a87-260">View the swagger</span></span>
<span data-ttu-id="87a87-261">Consultez les [détails sur Swagger](/connectors/as2/).</span><span class="sxs-lookup"><span data-stu-id="87a87-261">See the [swagger details](/connectors/as2/).</span></span> 

## <a name="next-steps"></a><span data-ttu-id="87a87-262">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="87a87-262">Next steps</span></span>
* [<span data-ttu-id="87a87-263">En savoir plus sur Enterprise Integration Pack</span><span class="sxs-lookup"><span data-stu-id="87a87-263">Learn more about the Enterprise Integration Pack</span></span>](logic-apps-enterprise-integration-overview.md "Découvrez Enterprise Integration Pack")  
