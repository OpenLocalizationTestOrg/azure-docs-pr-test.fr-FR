---
title: "aaaScenario - créer un tableau de bord client insights avec Azure sans serveur | Documents Microsoft"
description: "Exemple de comment vous pouvez générer un client de toomanage du tableau de bord des commentaires, les données de réseaux sociale et bien plus encore avec Azure Logic Apps et fonctions de Azure."
keywords: 
services: logic-apps
author: jeffhollan
manager: anneta
editor: 
documentationcenter: 
ms.assetid: d565873c-6b1b-4057-9250-cf81a96180ae
ms.service: logic-apps
ms.workload: integration
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/29/2017
ms.author: jehollan
ms.openlocfilehash: db175e895e37aa795a9c34bf4d65566bf68f8c37
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="create-a-real-time-customer-insights-dashboard-with-azure-logic-apps-and-azure-functions"></a><span data-ttu-id="bafba-103">Créer un tableau de bord Insights client en temps réel avec Azure Logic Apps et Azure Functions</span><span class="sxs-lookup"><span data-stu-id="bafba-103">Create a real-time customer insights dashboard with Azure Logic Apps and Azure Functions</span></span>

<span data-ttu-id="bafba-104">Windows Azure tools sans fournissent des fonctionnalités puissantes tooquickly créer et héberger des applications dans le cloud de hello, sans avoir toothink sur l’infrastructure.</span><span class="sxs-lookup"><span data-stu-id="bafba-104">Azure Serverless tools provide powerful capabilities tooquickly build and host applications in hello cloud, without having toothink about infrastructure.</span></span>  <span data-ttu-id="bafba-105">Dans ce scénario, nous sera créer un tableau de bord tootrigger des commentaires des clients, l’analyse des commentaires avec machine learning et publier insights une source comme Power BI ou Azure Data Lake.</span><span class="sxs-lookup"><span data-stu-id="bafba-105">In this scenario, we will create a dashboard tootrigger on customer feedback, analyze feedback with machine learning, and publish insights a source like Power BI or Azure Data Lake.</span></span>

## <a name="overview-of-hello-scenario-and-tools-used"></a><span data-ttu-id="bafba-106">Vue d’ensemble du scénario de hello et outils utilisés</span><span class="sxs-lookup"><span data-stu-id="bafba-106">Overview of hello scenario and tools used</span></span>

<span data-ttu-id="bafba-107">Dans commande tooimplement cette solution, nous mettons à profit hello deux principaux composants d’applications sans serveur dans Azure : [Azure fonctions](https://azure.microsoft.com/services/functions/) et [Azure Logic Apps](https://azure.microsoft.com/services/logic-apps/).</span><span class="sxs-lookup"><span data-stu-id="bafba-107">In order tooimplement this solution, we will leverage hello two key components of serverless apps in Azure: [Azure Functions](https://azure.microsoft.com/services/functions/) and [Azure Logic Apps](https://azure.microsoft.com/services/logic-apps/).</span></span>

<span data-ttu-id="bafba-108">Logique d’applications est un moteur de flux de travail sans serveur dans le cloud de hello.</span><span class="sxs-lookup"><span data-stu-id="bafba-108">Logic Apps is a serverless workflow engine in hello cloud.</span></span>  <span data-ttu-id="bafba-109">Il fournit l’orchestration pour les composants sans serveur et connecte également tooover les 100 services et API.</span><span class="sxs-lookup"><span data-stu-id="bafba-109">It provides orchestration across serverless components, and also connects tooover 100 services and APIs.</span></span>  <span data-ttu-id="bafba-110">Pour ce scénario, nous allons créer un tootrigger d’application logique sur les commentaires des clients.</span><span class="sxs-lookup"><span data-stu-id="bafba-110">For this scenario, we will create a logic app tootrigger on feedback from customers.</span></span>  <span data-ttu-id="bafba-111">Connecteurs hello qui peuvent aider à réaction toocustomer commentaires quelques-uns des Outlook.com, Office 365, le d’enquête, Twitter et une requête HTTP [à partir d’un formulaire web](https://blogs.msdn.microsoft.com/logicapps/2017/01/30/calling-a-logic-app-from-an-html-form/).</span><span class="sxs-lookup"><span data-stu-id="bafba-111">Some of hello connectors that can assist in reacting toocustomer feedback include Outlook.com, Office 365, Survey Monkey, Twitter, and an HTTP Request [from a web form](https://blogs.msdn.microsoft.com/logicapps/2017/01/30/calling-a-logic-app-from-an-html-form/).</span></span>  <span data-ttu-id="bafba-112">Flux de travail hello ci-dessous, nous analyse un #sqlhelp sur Twitter.</span><span class="sxs-lookup"><span data-stu-id="bafba-112">For hello workflow below, we will monitor a hashtag on Twitter.</span></span>

<span data-ttu-id="bafba-113">Fonctions fournissent sans calcul dans le cloud de hello.</span><span class="sxs-lookup"><span data-stu-id="bafba-113">Functions provide serverless compute in hello cloud.</span></span>  <span data-ttu-id="bafba-114">Dans ce scénario, nous allons utiliser tweet tooflag de fonctions d’Azure à partir des clients basés sur une série de prédéfinies par mots clés.</span><span class="sxs-lookup"><span data-stu-id="bafba-114">In this scenario, we will use Azure Functions tooflag tweets from customers based on a series of pre-defined key words.</span></span>

<span data-ttu-id="bafba-115">ensemble de la solution Hello peut être [génération dans Visual Studio](logic-apps-deploy-from-vs.md) et [déployé en tant que partie d’un modèle de ressource](logic-apps-create-deploy-template.md).</span><span class="sxs-lookup"><span data-stu-id="bafba-115">hello entire solution can be [build in Visual Studio](logic-apps-deploy-from-vs.md) and [deployed as part of a resource template](logic-apps-create-deploy-template.md).</span></span>  <span data-ttu-id="bafba-116">Procédure pas à pas vidéo du scénario de hello est également [sur Channel 9](http://aka.ms/logicappsdemo).</span><span class="sxs-lookup"><span data-stu-id="bafba-116">There is also video walkthrough of hello scenario [on Channel 9](http://aka.ms/logicappsdemo).</span></span>

## <a name="build-hello-logic-app-tootrigger-on-customer-data"></a><span data-ttu-id="bafba-117">Build hello logique application tootrigger sur les données des clients</span><span class="sxs-lookup"><span data-stu-id="bafba-117">Build hello logic app tootrigger on customer data</span></span>

<span data-ttu-id="bafba-118">Après avoir [création d’une application logique](logic-apps-create-a-logic-app.md) dans Visual Studio ou hello portail Azure :</span><span class="sxs-lookup"><span data-stu-id="bafba-118">After [creating a logic app](logic-apps-create-a-logic-app.md) in Visual Studio or hello Azure portal:</span></span>

1. <span data-ttu-id="bafba-119">Ajoutez un déclencheur pour **On New Tweets (Aux nouveaux tweets)** de Twitter.</span><span class="sxs-lookup"><span data-stu-id="bafba-119">Add a trigger for **On New Tweets** from Twitter</span></span>
2. <span data-ttu-id="bafba-120">Configurer hello déclencheur toolisten tootweets sur un mot clé ou un #sqlhelp.</span><span class="sxs-lookup"><span data-stu-id="bafba-120">Configure hello trigger toolisten tootweets on a keyword or hashtag.</span></span>

   > [!NOTE]
   > <span data-ttu-id="bafba-121">propriété de périodicité Hello sur le déclencheur de hello détermine la fréquence de vérification application logique de hello pour les nouveaux éléments sur les déclencheurs d’interrogation</span><span class="sxs-lookup"><span data-stu-id="bafba-121">hello recurrence property on hello trigger will determine how frequently hello logic app checks for new items on polling-based triggers</span></span>

   ![Exemple de déclencheur Twitter][1]

<span data-ttu-id="bafba-123">Cette application se déclenche sur tous les nouveaux tweets.</span><span class="sxs-lookup"><span data-stu-id="bafba-123">This app will now fire on all new tweets.</span></span>  <span data-ttu-id="bafba-124">Nous pouvons ensuite prendre ces données tweet et comprendre plus de sentiment hello exprimé.</span><span class="sxs-lookup"><span data-stu-id="bafba-124">We can then take that tweet data and understand more of hello sentiment expressed.</span></span>  <span data-ttu-id="bafba-125">Pour cela, nous utilisons hello [Service cognitifs Azure](https://azure.microsoft.com/services/cognitive-services/) sentiment toodetect du texte.</span><span class="sxs-lookup"><span data-stu-id="bafba-125">For this we use hello [Azure Cognitive Service](https://azure.microsoft.com/services/cognitive-services/) toodetect sentiment of text.</span></span>

1. <span data-ttu-id="bafba-126">Cliquez sur **Nouvelle étape**.</span><span class="sxs-lookup"><span data-stu-id="bafba-126">Click **New Step**</span></span>
1. <span data-ttu-id="bafba-127">Sélectionner ou rechercher hello **texte Analytique** connecteur</span><span class="sxs-lookup"><span data-stu-id="bafba-127">Select or search for hello **Text Analytics** connector</span></span>
1. <span data-ttu-id="bafba-128">Sélectionnez hello **détecter un sentiments** opération</span><span class="sxs-lookup"><span data-stu-id="bafba-128">Select hello **Detect Sentiment** operation</span></span>
1. <span data-ttu-id="bafba-129">Si vous y êtes invité, fournissez une clé de Services cognitifs valide pour le service de texte Analytique de hello</span><span class="sxs-lookup"><span data-stu-id="bafba-129">If prompted, provide a valid Cognitive Services key for hello Text Analytics service</span></span>
1. <span data-ttu-id="bafba-130">Ajouter hello **texte Tweet** comme hello tooanalyze de texte.</span><span class="sxs-lookup"><span data-stu-id="bafba-130">Add hello **Tweet Text** as hello text tooanalyze.</span></span>

<span data-ttu-id="bafba-131">Maintenant que nous avons hello tweet données et des informations sur les tweet hello, un nombre de tous les autres connecteurs peut-être être pertinente :</span><span class="sxs-lookup"><span data-stu-id="bafba-131">Now that we have hello tweet data, and insights on hello tweet, a number of other connectors may be relevant:</span></span>
* <span data-ttu-id="bafba-132">Power BI - ajouter des lignes tooStreaming jeu de données : vue tweets sur un tableau de bord Power BI en temps réel.</span><span class="sxs-lookup"><span data-stu-id="bafba-132">Power BI - Add Rows tooStreaming Dataset: View tweets real time on a Power BI dashboard.</span></span>
* <span data-ttu-id="bafba-133">Azure Data Lake - Ajout d’un fichier : complément client données tooan Azure Data Lake dataset tooinclude travaux de l’analytique.</span><span class="sxs-lookup"><span data-stu-id="bafba-133">Azure Data Lake - Append file: Add customer data tooan Azure Data Lake dataset tooinclude in analytics jobs.</span></span>
* <span data-ttu-id="bafba-134">SQL - Ajouter des lignes : stocker des données dans une base de données pour les récupérer ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="bafba-134">SQL - Add rows: Store data in a database for later retrieval.</span></span>
* <span data-ttu-id="bafba-135">Slack - Envoyer un message : alerter un canal Slack en cas de commentaires négatifs nécessitant des actions.</span><span class="sxs-lookup"><span data-stu-id="bafba-135">Slack - Send message: Alert a slack channel on negative feedback that requires actions.</span></span>

<span data-ttu-id="bafba-136">Une fonction de Azure peut également être utilisé toodo plus personnalisée de calcul sur des données de hello.</span><span class="sxs-lookup"><span data-stu-id="bafba-136">An Azure Function can also be used toodo more custom compute on top of hello data.</span></span>

## <a name="enriching-hello-data-with-an-azure-function"></a><span data-ttu-id="bafba-137">Enrichir les données de salutation avec une fonction d’Azure</span><span class="sxs-lookup"><span data-stu-id="bafba-137">Enriching hello data with an Azure Function</span></span>

<span data-ttu-id="bafba-138">Nous pouvons créer une fonction, nous devons toohave une application de la fonction dans notre abonnement Azure.</span><span class="sxs-lookup"><span data-stu-id="bafba-138">Before we can create a function, we need toohave a function app in our Azure subscription.</span></span>  <span data-ttu-id="bafba-139">Pour plus d’informations sur la création d’une fonction d’Azure dans le portail de hello peuvent [se trouve ici](../azure-functions/functions-create-first-azure-function-azure-portal.md)</span><span class="sxs-lookup"><span data-stu-id="bafba-139">Details on creating an Azure Function in hello portal can [be found here](../azure-functions/functions-create-first-azure-function-azure-portal.md)</span></span>

<span data-ttu-id="bafba-140">Pour une fonction toobe appelée directement à partir d’une application logique, il a besoin toohave HTTP déclencher la liaison.</span><span class="sxs-lookup"><span data-stu-id="bafba-140">For a function toobe called directly from a logic app, it needs toohave an HTTP trigger binding.</span></span>  <span data-ttu-id="bafba-141">Nous vous recommandons d’utiliser des hello **HttpTrigger** modèle.</span><span class="sxs-lookup"><span data-stu-id="bafba-141">We recommend using hello **HttpTrigger** template.</span></span>

<span data-ttu-id="bafba-142">Dans ce scénario, le corps de la demande de hello Azure fonction hello serait texte tweet de hello.</span><span class="sxs-lookup"><span data-stu-id="bafba-142">In this scenario, hello request body of hello Azure Function would be hello tweet text.</span></span>  <span data-ttu-id="bafba-143">Dans le code de la fonction hello, il suffit de définir la logique de si le texte de tweet hello contient un mot clé ou une expression.</span><span class="sxs-lookup"><span data-stu-id="bafba-143">In hello function code, simply define logic on if hello tweet text contains a key word or phrase.</span></span>  <span data-ttu-id="bafba-144">fonction Hello proprement dit peut rester simple ou complexe que nécessaire pour le scénario de hello.</span><span class="sxs-lookup"><span data-stu-id="bafba-144">hello function itself could be kept as simple or complex as needed for hello scenario.</span></span>

<span data-ttu-id="bafba-145">Extrémité hello de fonction hello, simplement retourner une application de la logique de toohello de réponse avec des données.</span><span class="sxs-lookup"><span data-stu-id="bafba-145">At hello end of hello function, simply return a response toohello logic app with some data.</span></span>  <span data-ttu-id="bafba-146">Il peut s’agir d’une valeur booléenne simple (par exemple, `containsKeyword`) ou d’un objet complexe.</span><span class="sxs-lookup"><span data-stu-id="bafba-146">This could be a simple boolean value (e.g. `containsKeyword`), or a complex object.</span></span>

![Étape de configuration d’une fonction Azure][2]

> [!TIP]
> <span data-ttu-id="bafba-148">Lors de l’accès à une réponse complexe à partir d’une fonction dans une application logique, utilisez l’action d’analyse de JSON hello.</span><span class="sxs-lookup"><span data-stu-id="bafba-148">When accessing a complex response from a function in a logic app, use hello Parse JSON action.</span></span>

<span data-ttu-id="bafba-149">Une fois que la fonction hello est enregistrée, il peut être ajouté dans l’application logique de hello créée ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="bafba-149">Once hello function is saved, it can be added into hello logic app created above.</span></span>  <span data-ttu-id="bafba-150">Dans l’application hello logique :</span><span class="sxs-lookup"><span data-stu-id="bafba-150">In hello logic app:</span></span>

1. <span data-ttu-id="bafba-151">Cliquez sur tooadd un **nouvelle étape**</span><span class="sxs-lookup"><span data-stu-id="bafba-151">Click tooadd a **New Step**</span></span>
1. <span data-ttu-id="bafba-152">Sélectionnez hello **Azure fonctions** connecteur</span><span class="sxs-lookup"><span data-stu-id="bafba-152">Select hello **Azure Functions** connector</span></span>
1. <span data-ttu-id="bafba-153">Sélectionnez les toochoose une fonction existante, puis parcourir la fonction toohello créée</span><span class="sxs-lookup"><span data-stu-id="bafba-153">Select toochoose an existing function, and browse toohello function created</span></span>
1. <span data-ttu-id="bafba-154">Envoyer Bonjour **texte Tweet** pour hello **corps de la demande**</span><span class="sxs-lookup"><span data-stu-id="bafba-154">Send in hello **Tweet Text** for hello **Request Body**</span></span>

## <a name="running-and-monitoring-hello-solution"></a><span data-ttu-id="bafba-155">En cours d’exécution et la surveillance des solutions de hello</span><span class="sxs-lookup"><span data-stu-id="bafba-155">Running and monitoring hello solution</span></span>

<span data-ttu-id="bafba-156">Un des avantages de hello de la création d’orchestrations sans serveur dans les applications de la logique est débogage enrichi de hello et ses fonctionnalités de surveillance.</span><span class="sxs-lookup"><span data-stu-id="bafba-156">One of hello benefits of authoring serverless orchestrations in Logic Apps is hello rich debug and monitoring capabilities.</span></span>  <span data-ttu-id="bafba-157">Toute exécution (en cours ou historique) peut être consultée à partir de Visual Studio, hello portail Azure, ou via l’API REST de hello et kits de développement logiciel.</span><span class="sxs-lookup"><span data-stu-id="bafba-157">Any run (current or historic) can be viewed from within Visual Studio, hello Azure portal, or via hello REST API and SDKs.</span></span>

<span data-ttu-id="bafba-158">Un des hello plus simple façons tootest une application de logique est à l’aide de hello **exécuter** bouton dans le Concepteur de hello.</span><span class="sxs-lookup"><span data-stu-id="bafba-158">One of hello easiest ways tootest a logic app is using hello **Run** button in hello designer.</span></span>  <span data-ttu-id="bafba-159">En cliquant sur **exécuter** sera continuer déclencheur de hello toopoll toutes les 5 secondes jusqu'à ce qu’un événement est détecté et donnent une vue active fur hello exécuter.</span><span class="sxs-lookup"><span data-stu-id="bafba-159">Clicking **Run** will continue toopoll hello trigger every 5 seconds until an event is detected, and give a live view as hello run progresses.</span></span>

<span data-ttu-id="bafba-160">Historiques d’exécution précédentes peuvent être affichés sur le panneau de vue d’ensemble de hello dans hello portail Azure, ou à l’aide de Visual Studio Cloud Explorer de hello.</span><span class="sxs-lookup"><span data-stu-id="bafba-160">Previous run histories can be viewed on hello Overview blade in hello Azure portal, or using hello Visual Studio Cloud Explorer.</span></span>

## <a name="creating-a-deployment-template-for-automated-deployments"></a><span data-ttu-id="bafba-161">Création d’un modèle de déploiement pour les déploiements automatisés</span><span class="sxs-lookup"><span data-stu-id="bafba-161">Creating a deployment template for automated deployments</span></span>

<span data-ttu-id="bafba-162">Une fois qu’une solution a été développée, il peut être capturé et déployée via un tooany de modèle de déploiement Azure région Azure dans Bonjour.</span><span class="sxs-lookup"><span data-stu-id="bafba-162">Once a solution has been developed, it can be captured and deployed via an Azure deployment template tooany Azure region in hello world.</span></span>  <span data-ttu-id="bafba-163">Cela est utile pour modifier les paramètres des différentes versions de ce flux de travail, mais également pour intégrer cette solution à un pipeline de génération et de mise en production.</span><span class="sxs-lookup"><span data-stu-id="bafba-163">This is useful for both modifying parameters for different versions of this workflow, but also for integrating this solution in a build and release pipeline.</span></span>  <span data-ttu-id="bafba-164">Les détails sur la création d’un modèle de déploiement se trouvent [dans cet article](logic-apps-create-deploy-template.md).</span><span class="sxs-lookup"><span data-stu-id="bafba-164">Details on creating a deployment template can be found [in this article](logic-apps-create-deploy-template.md).</span></span>

<span data-ttu-id="bafba-165">Azure fonctions peuvent également être incorporées dans le modèle de déploiement hello - donc hello ensemble de la solution avec toutes les dépendances peut être géré comme un seul modèle.</span><span class="sxs-lookup"><span data-stu-id="bafba-165">Azure Functions can also be incorporated in hello deployment template - so hello entire solution with all dependencies can be managed as a single template.</span></span>  <span data-ttu-id="bafba-166">Vous trouverez un exemple d’un modèle de déploiement de fonction Bonjour [référentiel de modèle de démarrage rapide Azure](https://github.com/Azure/azure-quickstart-templates/tree/master/101-function-app-create-dynamic).</span><span class="sxs-lookup"><span data-stu-id="bafba-166">An example of a function deployment template can be found in hello [Azure quickstart template repository](https://github.com/Azure/azure-quickstart-templates/tree/master/101-function-app-create-dynamic).</span></span>

## <a name="next-steps"></a><span data-ttu-id="bafba-167">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="bafba-167">Next steps</span></span>

* [<span data-ttu-id="bafba-168">Voir d’autres exemples et scénarios relatifs à Azure Logic Apps</span><span class="sxs-lookup"><span data-stu-id="bafba-168">See other examples and scenarios for Azure Logic Apps</span></span>](logic-apps-examples-and-scenarios.md)
* [<span data-ttu-id="bafba-169">Regarder une vidéo de procédure pas à pas sur la création de cette solution de bout en bout</span><span class="sxs-lookup"><span data-stu-id="bafba-169">Watch a video walkthrough on creating this solution end-to-end</span></span>](http://aka.ms/logicappsdemo)
* [<span data-ttu-id="bafba-170">Découvrez comment toohandle et intercepter des exceptions au sein d’une application de logique</span><span class="sxs-lookup"><span data-stu-id="bafba-170">Learn how toohandle and catch exceptions within a logic app</span></span>](logic-apps-exception-handling.md)

<!-- Image References -->
[1]: ./media/logic-apps-scenario-social-serverless/twitter.png
[2]: ./media/logic-apps-scenario-social-serverless/function.png