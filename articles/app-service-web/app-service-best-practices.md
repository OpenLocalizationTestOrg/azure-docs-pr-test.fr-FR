---
title: Pratiques aaaBest pour Azure App Service
description: "Découvrez les meilleures pratiques et la résolution des problèmes pour Azure App Service."
services: app-service
documentationcenter: 
author: dariagrigoriu
manager: erikre
editor: mollybos
ms.assetid: f3359464-fa44-4f4a-9ea6-7821060e8d0d
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/30/2016
ms.author: dariagrigoriu
ms.openlocfilehash: a1d3127f5a746aa43f7b56b45f17c45df9087bee
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="best-practices-for-azure-app-service"></a><span data-ttu-id="fb4b8-103">Meilleures pratiques pour Azure App Service</span><span class="sxs-lookup"><span data-stu-id="fb4b8-103">Best Practices for Azure App Service</span></span>
<span data-ttu-id="fb4b8-104">Cet article résume les meilleures pratiques dans l’utilisation de [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span><span class="sxs-lookup"><span data-stu-id="fb4b8-104">This article summarizes best practices for using [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span></span> 

## <span data-ttu-id="fb4b8-105"><a name="colocation"></a>Colocalisation</span><span class="sxs-lookup"><span data-stu-id="fb4b8-105"><a name="colocation"></a>Colocation</span></span>
<span data-ttu-id="fb4b8-106">Lorsque la composition d’une solution telle qu’une application web et une base de données de ressources Azure sont situés dans des effets des régions différentes hello peuvent suivants hello :</span><span class="sxs-lookup"><span data-stu-id="fb4b8-106">When Azure resources composing a solution such as a web app and a database are located in different regions hello effects can include hello following:</span></span>

* <span data-ttu-id="fb4b8-107">Une latence plus élevée dans la communication entre les ressources</span><span class="sxs-lookup"><span data-stu-id="fb4b8-107">Increased latency in communication between resources</span></span>
* <span data-ttu-id="fb4b8-108">Transfert de frais monétaires pour les données sortantes entre régions comme indiqué sur hello [Azure page de tarification](https://azure.microsoft.com/pricing/details/data-transfers).</span><span class="sxs-lookup"><span data-stu-id="fb4b8-108">Monetary charges for outbound data transfer cross-region as noted on hello [Azure pricing page](https://azure.microsoft.com/pricing/details/data-transfers).</span></span>

<span data-ttu-id="fb4b8-109">La colocalisation Bonjour même région est idéal pour les ressources Azure de composer une solution telle qu’une application web et un compte de base de données ou de stockage utilisé toohold contenu ou données.</span><span class="sxs-lookup"><span data-stu-id="fb4b8-109">Colocation in hello same region is best for Azure resources composing a solution such as a web app and a database or storage account used toohold content or data.</span></span> <span data-ttu-id="fb4b8-110">Lorsque la création de ressources vous devez vous assurer qu’ils sont dans hello même région Azure sauf si vous avez professionnels spécifiques ou raison toobe pas de conception.</span><span class="sxs-lookup"><span data-stu-id="fb4b8-110">When creating resources you should make sure they are in hello same Azure region unless you have specific business or design reason for them not toobe.</span></span> <span data-ttu-id="fb4b8-111">Vous pouvez déplacer une toohello d’application de Service de l’application même région que votre base de données en tirant parti de hello [fonctionnalité de clonage du Service d’applications](app-service-web-app-cloning-portal.md) actuellement disponibles pour les applications de Premium du Plan App Service.</span><span class="sxs-lookup"><span data-stu-id="fb4b8-111">You can move an App Service app toohello same region as your database by leveraging hello [App Service cloning feature](app-service-web-app-cloning-portal.md) currently available for Premium App Service Plan apps.</span></span>   

## <span data-ttu-id="fb4b8-112"><a name="memoryresources"></a>Quand les applications consomment plus de mémoire que prévu</span><span class="sxs-lookup"><span data-stu-id="fb4b8-112"><a name="memoryresources"></a>When apps consume more memory than expected</span></span>
<span data-ttu-id="fb4b8-113">Lorsque vous remarquez une application consomme davantage de mémoire que prévu comme indiqué par le biais d’analyse ou de recommandations de service envisagez hello [App Service la réparation automatique de fonctionnalité](https://azure.microsoft.com/blog/auto-healing-windows-azure-web-sites).</span><span class="sxs-lookup"><span data-stu-id="fb4b8-113">When you notice an app consumes more memory than expected as indicated via monitoring or service recommendations consider hello [App Service Auto-Healing feature](https://azure.microsoft.com/blog/auto-healing-windows-azure-web-sites).</span></span> <span data-ttu-id="fb4b8-114">Une des options de hello pour la fonctionnalité de la réparation automatique hello effectue les actions personnalisées en fonction d’un seuil de mémoire.</span><span class="sxs-lookup"><span data-stu-id="fb4b8-114">One of hello options for hello Auto-Healing feature is taking custom actions based on a memory threshold.</span></span> <span data-ttu-id="fb4b8-115">Actions span spectre hello de tooinvestigation des notifications par courrier électronique via l’atténuation de tooon place de vidage de mémoire par le recyclage des processus de travail hello.</span><span class="sxs-lookup"><span data-stu-id="fb4b8-115">Actions span hello spectrum from email notifications tooinvestigation via memory dump tooon-the-spot mitigation by recycling hello worker process.</span></span> <span data-ttu-id="fb4b8-116">La réparation automatique peut être configurée via le fichier web.config et via une interface utilisateur conviviale conformément à ce billet de blog pour hello [Extension d’application Service prise en charge de Site](https://azure.microsoft.com/blog/additional-updates-to-support-site-extension-for-azure-app-service-web-apps).</span><span class="sxs-lookup"><span data-stu-id="fb4b8-116">Auto-healing can be configured via web.config and via a friendly user interface as described at in this blog post for hello [App Service Support Site Extension](https://azure.microsoft.com/blog/additional-updates-to-support-site-extension-for-azure-app-service-web-apps).</span></span>   

## <span data-ttu-id="fb4b8-117"><a name="CPUresources"></a>Quand les applications consomment plus d’UC que prévu</span><span class="sxs-lookup"><span data-stu-id="fb4b8-117"><a name="CPUresources"></a>When apps consume more CPU than expected</span></span>
<span data-ttu-id="fb4b8-118">Lorsque vous remarquez qu'une application consomme plus d’UC que prévu ou rencontre de répéter les pics de consommation UC comme indiqué par le biais d’analyse ou prendre en compte des recommandations de service l’évolution verticale ou la montée en puissance parallèle hello plan App Service.</span><span class="sxs-lookup"><span data-stu-id="fb4b8-118">When you notice an app consumes more CPU than expected or experiences repeated CPU spikes as indicated via monitoring or service recommendations consider scaling up or scaling out hello App Service plan.</span></span> <span data-ttu-id="fb4b8-119">Si votre application est avec état, l’évolution verticale est l’option de hello, tandis que si votre application est sans état, de mise à l’échelle de la sortie vous donne plus de souplesse et plus susceptible de mise à l’échelle.</span><span class="sxs-lookup"><span data-stu-id="fb4b8-119">If your application is statefull, scaling up is hello only option, while if your application is stateless, scaling out will give you more flexibility and higher scale potential.</span></span> 

<span data-ttu-id="fb4b8-120">Pour plus d’informations sur les applications « sans état » et « avec état », visualisez la vidéo [Planning a Scalable End-to-End Multi-Tier Application on Microsoft Azure Web App](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2014/DEV-B414#fbid=?hashlink=fbid)(Planification d’une application multiniveau complète et évolutive sur l’application web Microsoft Azure).</span><span class="sxs-lookup"><span data-stu-id="fb4b8-120">For more information about “statefull” vs “stateless” applications you can watch this video: [Planning a Scalable End-to-End Multi-Tier Application on Microsoft Azure Web App](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2014/DEV-B414#fbid=?hashlink=fbid).</span></span> <span data-ttu-id="fb4b8-121">Pour plus d’informations sur les options de montée en charge et de mise à l’échelle automatique, consultez [Mise à l’échelle d’une application web dans Microsoft Azure App Service](web-sites-scale.md).</span><span class="sxs-lookup"><span data-stu-id="fb4b8-121">For more information about App Service scaling and autoscaling options read: [Scale a Web App in Azure App Service](web-sites-scale.md).</span></span>  

## <span data-ttu-id="fb4b8-122"><a name="socketresources"></a>Quand les ressources de socket sont épuisées</span><span class="sxs-lookup"><span data-stu-id="fb4b8-122"><a name="socketresources"></a>When socket resources are exhausted</span></span>
<span data-ttu-id="fb4b8-123">Une raison courante d’épuiser les connexions TCP sortantes est hello utilisation des bibliothèques clientes qui ne sont pas les connexions TCP tooreuse implémenté, ou dans les cas de hello d’un protocole de niveau supérieur tels que HTTP - n’étant ne pas exploité Keep-Alive.</span><span class="sxs-lookup"><span data-stu-id="fb4b8-123">A common reason for exhausting outbound TCP connections is hello use of client libraries which are not implemented tooreuse TCP connections, or in hello case of a higher level protocol such as HTTP - Keep-Alive not being leveraged.</span></span> <span data-ttu-id="fb4b8-124">Consultez la documentation de hello pour chacune des bibliothèques hello référencés par les applications hello dans votre tooensure Plan App Service qu’ils sont configurés ou accessible dans votre code pour une réutilisation efficace de connexions sortantes.</span><span class="sxs-lookup"><span data-stu-id="fb4b8-124">Please review hello documentation for each of hello libraries referenced by hello apps in your App Service Plan tooensure they are configured or accessed in your code for efficient reuse of outbound connections.</span></span> <span data-ttu-id="fb4b8-125">Suivez également hello bibliothèque documentation des conseils pour la création correcte et mise en production ou nettoyage tooavoid une fuite de connexions.</span><span class="sxs-lookup"><span data-stu-id="fb4b8-125">Also follow hello library documentation guidance for proper creation and release or cleanup tooavoid leaking connections.</span></span> <span data-ttu-id="fb4b8-126">Alors que ces enquêtes de bibliothèques de client sont en impact de progression peut être atténuée par montée en puissance parallèle toomultiple instances.</span><span class="sxs-lookup"><span data-stu-id="fb4b8-126">While such client libraries investigations are in progress impact may be mitigated by scaling out toomultiple instances.</span></span>  

## <span data-ttu-id="fb4b8-127"><a name="appbackup"></a>La sauvegarde de votre application échoue</span><span class="sxs-lookup"><span data-stu-id="fb4b8-127"><a name="appbackup"></a>When your app backup starts failing</span></span>
<span data-ttu-id="fb4b8-128">Hello deux raisons les plus courantes pour lesquelles Échec de la sauvegarde application est : les paramètres de stockage non valide et la configuration de la base de données non valide.</span><span class="sxs-lookup"><span data-stu-id="fb4b8-128">hello two most common reasons why app backup fails are: invalid storage settings and invalid database configuration.</span></span> <span data-ttu-id="fb4b8-129">Ces défaillances se produisent généralement lors des modifications toostorage ou des ressources de base de données ou les modifications sur la manière de tooaccess ces ressources (par exemple, informations d’identification mises à jour pour hello de base de données sélectionnée dans les paramètres de sauvegarde hello).</span><span class="sxs-lookup"><span data-stu-id="fb4b8-129">These failures typically happen when there are changes toostorage or database resources, or changes for how tooaccess these resources (e.g. credentials updated for hello database selected in hello backup settings).</span></span> <span data-ttu-id="fb4b8-130">Généralement, les sauvegardes s’exécutent selon une planification et requièrent toostorage d’accès (pour la sortie de hello des fichiers sauvegardé) et les bases de données (pour la copie et la lecture toobe contenu inclus dans la sauvegarde de hello).</span><span class="sxs-lookup"><span data-stu-id="fb4b8-130">Backups typically run on a schedule and require access toostorage (for outputting hello backed up files) and databases (for copying and reading contents toobe included in hello backup).</span></span> <span data-ttu-id="fb4b8-131">Hello échec tooaccess une de ces ressources serait de l’échec des sauvegardes cohérente.</span><span class="sxs-lookup"><span data-stu-id="fb4b8-131">hello result of failing tooaccess either of these resources would be consistent backup failure.</span></span> 

<span data-ttu-id="fb4b8-132">Lorsque les échecs de sauvegarde se produisent, passez en revue le plus récent toounderstand résultats quel type de défaillance se produit.</span><span class="sxs-lookup"><span data-stu-id="fb4b8-132">When backup failures happen, please review most recent results toounderstand which type of failure is happening.</span></span> <span data-ttu-id="fb4b8-133">Dans les cas de hello d’échecs d’accès de stockage, vérifiez et mettez à jour les paramètres de stockage hello utilisés dans la configuration de la sauvegarde hello.</span><span class="sxs-lookup"><span data-stu-id="fb4b8-133">In hello case of storage access failures, please review and update hello storage settings used in hello backup configuration.</span></span> <span data-ttu-id="fb4b8-134">Dans les cas de hello d’échecs d’accès de base de données, examiner et mettre à jour vos chaînes de connexion dans le cadre des paramètres de l’application ; Passez tooupdate tooproperly de votre configuration de la sauvegarde incluent des bases de données de hello requis.</span><span class="sxs-lookup"><span data-stu-id="fb4b8-134">In hello case of database access failures, please review and update your connections strings as part of app settings; then proceed tooupdate your backup configuration tooproperly include hello required databases.</span></span> <span data-ttu-id="fb4b8-135">Pour plus d’informations sur la sauvegarde de l’application hello consultez [sauvegardez une application web dans Azure App Service](web-sites-backup.md) documentation.</span><span class="sxs-lookup"><span data-stu-id="fb4b8-135">For more information on app backup please see hello [Back up a web app in Azure App Service](web-sites-backup.md) documentation.</span></span>

## <span data-ttu-id="fb4b8-136"><a name="nodejs"></a>Lorsque de nouvelles applications Node.js sont déployé tooAzure du Service d’applications</span><span class="sxs-lookup"><span data-stu-id="fb4b8-136"><a name="nodejs"></a>When new Node.js apps are deployed tooAzure App Service</span></span>
<span data-ttu-id="fb4b8-137">Azure App Service est par défaut pour les applications Node.js toobest prévue couleur hello besoins d’applications courantes.</span><span class="sxs-lookup"><span data-stu-id="fb4b8-137">Azure App Service default configuration for Node.js apps is intended toobest suit hello needs of most common apps.</span></span> <span data-ttu-id="fb4b8-138">Si la configuration pour votre application Node.js serait tirent parti des performances tooimprove paramétrage personnalisé ou optimiser l’utilisation des ressources pour les ressources de processeur/mémoire/réseau, vous pourriez consulter nos meilleures pratiques et les étapes de dépannage.</span><span class="sxs-lookup"><span data-stu-id="fb4b8-138">If configuration for your Node.js app would benefit from personalized tuning tooimprove performance or optimize resource usage for CPU/memory/network resources, you could review our best practices and troubleshooting steps.</span></span> <span data-ttu-id="fb4b8-139">Cet article de la documentation décrit les paramètres d’iisnode hello vous devrez peut-être tooconfigure pour votre application Node.js, décrit hello de divers scénarios ou problèmes que votre application peut rencontrer et montre comment tooaddress ces problèmes : [meilleures pratiques et guide de dépannage pour les applications du nœud sur Azure App Service](app-service-web-nodejs-best-practices-and-troubleshoot-guide.md).</span><span class="sxs-lookup"><span data-stu-id="fb4b8-139">This documentation article describes hello iisnode settings you may need tooconfigure for your Node.js app, describes hello various scenarios or issues that your app may be facing, and shows how tooaddress these issues: [Best practices and troubleshooting guide for Node applications on Azure App Service](app-service-web-nodejs-best-practices-and-troubleshoot-guide.md).</span></span>   

