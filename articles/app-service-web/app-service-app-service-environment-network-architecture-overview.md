---
title: "aaaNetwork Architecture vue d’ensemble des applications Service environnements"
description: "Présentation de l'architecture de la topologie de réseau des environnements App Service."
services: app-service
documentationcenter: 
author: stefsch
manager: erikre
editor: 
ms.assetid: 13d03a37-1fe2-4e3e-9d57-46dfb330ba52
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/04/2016
ms.author: stefsch
ms.openlocfilehash: 3cbc86883f5687a9ada35a3ab2f577a450a3fa0b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="network-architecture-overview-of-app-service-environments"></a><span data-ttu-id="d5785-103">Présentation de l'architecture réseau des environnements App Service</span><span class="sxs-lookup"><span data-stu-id="d5785-103">Network Architecture Overview of App Service Environments</span></span>
## <a name="introduction"></a><span data-ttu-id="d5785-104">Introduction</span><span class="sxs-lookup"><span data-stu-id="d5785-104">Introduction</span></span>
<span data-ttu-id="d5785-105">Les environnements App Service sont toujours créés dans un sous-réseau d’un [réseau virtuel] [ virtualnetwork] -applications en cours d’exécution dans un environnement App Service peuvent communiquer avec privé points de terminaison qui trouvent dans hello même virtuel topologie du réseau.</span><span class="sxs-lookup"><span data-stu-id="d5785-105">App Service Environments are always created within a subnet of a [virtual network][virtualnetwork] - apps running in an App Service Environment can communicate with private endpoints located within hello same virtual network topology.</span></span>  <span data-ttu-id="d5785-106">Étant donné que les clients peuvent verrouiller des parties de leur infrastructure réseau virtuel, il est important toounderstand des types de hello de flux de communication réseau qui se produisent avec un environnement App Service.</span><span class="sxs-lookup"><span data-stu-id="d5785-106">Since customers may lock down parts of their virtual network infrastructure, it is important toounderstand hello types of network communication flows that occur with an App Service Environment.</span></span>

## <a name="general-network-flow"></a><span data-ttu-id="d5785-107">Flux réseau général</span><span class="sxs-lookup"><span data-stu-id="d5785-107">General Network Flow</span></span>
<span data-ttu-id="d5785-108">Lorsqu’un environnement App Service (ASE) utilise une adresse IP virtuelle publique (VIP) pour les applications, tout le trafic entrant arrive sur cette adresse IP virtuelle publique.</span><span class="sxs-lookup"><span data-stu-id="d5785-108">When an App Service Environment (ASE) uses a public virtual IP address (VIP) for apps, all inbound traffic arrives on that public VIP.</span></span>  <span data-ttu-id="d5785-109">Cela inclut le trafic HTTP et HTTPS pour les applications, ainsi que le reste du trafic pour les opérations de gestion Azure, les fonctionnalités de débogage à distance et FTP.</span><span class="sxs-lookup"><span data-stu-id="d5785-109">This includes HTTP and HTTPS traffic for apps, as well as other traffic for FTP, remote debugging functionality, and Azure management operations.</span></span>  <span data-ttu-id="d5785-110">Pour obtenir la liste complète de hello des ports spécifiques (requis et facultatifs) qui sont disponibles sur l’adresse IP virtuelle publique de hello consultez l’article de hello sur [contrôler le trafic entrant] [ controllinginboundtraffic] tooan environnement App Service.</span><span class="sxs-lookup"><span data-stu-id="d5785-110">For a full list of hello specific ports (both required and optional) that are available on hello public VIP see hello article on [controlling inbound traffic][controllinginboundtraffic] tooan App Service Environment.</span></span> 

<span data-ttu-id="d5785-111">Environnements de Service d’application prennent également en charge en cours d’exécution pour les applications qui sont liées uniquement tooa virtuel réseau adresse interne, également appelée tooas une adresse d’équilibrage de charge interne (équilibrage de charge interne).</span><span class="sxs-lookup"><span data-stu-id="d5785-111">App Service Environments also support running apps that are bound only tooa virtual network internal address, also referred tooas an ILB (internal load balancer) address.</span></span>  <span data-ttu-id="d5785-112">Sur un équilibrage de charge interne activé trafic ASE, HTTP et HTTPS pour les applications, ainsi que les appels de débogage à distance, arrivent sur hello adresse d’équilibrage de charge interne.</span><span class="sxs-lookup"><span data-stu-id="d5785-112">On an ILB enabled ASE, HTTP and HTTPS traffic for apps as well as remote debugging calls, arrive on hello ILB address.</span></span>  <span data-ttu-id="d5785-113">Pour les configurations d’équilibrage de charge interne-ASE les plus courantes, le trafic FTP/FTPS également parviennent sur hello adresse d’équilibrage de charge interne.</span><span class="sxs-lookup"><span data-stu-id="d5785-113">For most common ILB-ASE configurations, FTP/FTPS traffic will also arrive on hello ILB address.</span></span>  <span data-ttu-id="d5785-114">Cependant les opérations de gestion Azure continuent de circuler tooports 454/455 sur hello une adresse IP virtuelle publique d’un équilibrage de charge interne activée ASE.</span><span class="sxs-lookup"><span data-stu-id="d5785-114">However Azure management operations will still flow tooports 454/455 on hello public VIP of an ILB enabled ASE.</span></span>

<span data-ttu-id="d5785-115">diagramme Hello ci-dessous montre une vue d’ensemble de hello différents flux réseau entrantes et sortantes pour un environnement App Service où les applications de hello sont les adresse IP virtuelle publique tooa liée :</span><span class="sxs-lookup"><span data-stu-id="d5785-115">hello diagram below shows an overview of hello various inbound and outbound network flows for an App Service Environment where hello apps are bound tooa public virtual IP address:</span></span>

![Flux de réseau généraux][GeneralNetworkFlows]

<span data-ttu-id="d5785-117">Un environnement App Service peut communiquer avec plusieurs points de terminaison client privés.</span><span class="sxs-lookup"><span data-stu-id="d5785-117">An App Service Environment can communicate with a variety of private customer endpoints.</span></span>  <span data-ttu-id="d5785-118">Par exemple, les applications qui s’exécutent dans un environnement App Service peut se connecter à toodatabase ou les serveurs s’exécutant sur des machines virtuelles IaaS de hello hello même topologie de réseau virtuel.</span><span class="sxs-lookup"><span data-stu-id="d5785-118">For example, apps running in hello App Service Environment can connect toodatabase server(s) running on IaaS virtual machines in hello same virtual network topology.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d5785-119">En examinant organigramme hello, hello « autres calcul ressources » sont déployés dans un sous-réseau différent de celui de hello environnement App Service.</span><span class="sxs-lookup"><span data-stu-id="d5785-119">Looking at hello network diagram, hello "Other Compute Resources" are deployed in a different Subnet from hello App Service Environment.</span></span> <span data-ttu-id="d5785-120">Déploiement de ressources Bonjour même sous-réseau avec hello ASE bloque la connectivité à partir des ressources de toothose ASE (à l’exception spécifique intra-ASE routage).</span><span class="sxs-lookup"><span data-stu-id="d5785-120">Deploying resources in hello same Subnet with hello ASE will block connectivity from ASE toothose resources (except for specific intra-ASE routing).</span></span> <span data-ttu-id="d5785-121">Déployer tooa sous-réseau différent à la place (dans hello même réseau virtuel).</span><span class="sxs-lookup"><span data-stu-id="d5785-121">Deploy tooa different Subnet instead (in hello same VNET).</span></span> <span data-ttu-id="d5785-122">Hello environnement App Service sera alors en mesure de tooconnect.</span><span class="sxs-lookup"><span data-stu-id="d5785-122">hello App Service Environment will then be able tooconnect.</span></span> <span data-ttu-id="d5785-123">Aucune configuration supplémentaire n’est nécessaire.</span><span class="sxs-lookup"><span data-stu-id="d5785-123">No additional configuration is necessary.</span></span>
> 
> 

<span data-ttu-id="d5785-124">Les environnements App Service communiquent également avec les ressources BD SQL et stockage Azure nécessaires pour la gestion et l'exploitation d'un environnement App Service.</span><span class="sxs-lookup"><span data-stu-id="d5785-124">App Service Environments also communicate with Sql DB and Azure Storage resources necessary for managing and operating an App Service Environment.</span></span>  <span data-ttu-id="d5785-125">Certaines des ressources Sql et le stockage hello un environnement App Service avec lequel communique se trouvent dans hello même région que hello environnement App Service, tandis que d’autres sont situés dans des régions Azure à distance.</span><span class="sxs-lookup"><span data-stu-id="d5785-125">Some of hello Sql and Storage resources that an App Service Environment communicates with are located in hello same region as hello App Service Environment, while others are located in remote Azure regions.</span></span>  <span data-ttu-id="d5785-126">Par conséquent, connectivité sortante toohello Internet est toujours requis pour une environnement App Service de toofunction correctement.</span><span class="sxs-lookup"><span data-stu-id="d5785-126">As a result, outbound connectivity toohello Internet is always required for an App Service Environment toofunction properly.</span></span> 

<span data-ttu-id="d5785-127">Depuis un environnement App Service est déployé dans un sous-réseau, les groupes de sécurité réseau peuvent être utilisé toocontrol sous-réseau toohello de trafic entrant.</span><span class="sxs-lookup"><span data-stu-id="d5785-127">Since an App Service Environment is deployed in a subnet, network security groups can be used toocontrol inbound traffic toohello subnet.</span></span>  <span data-ttu-id="d5785-128">Pour plus d’informations sur la façon dont toocontrol entrants trafic tooan environnement App Service, voir hello [article][controllinginboundtraffic].</span><span class="sxs-lookup"><span data-stu-id="d5785-128">For details on how toocontrol inbound traffic tooan App Service Environment, see hello following [article][controllinginboundtraffic].</span></span>

<span data-ttu-id="d5785-129">Pour plus d’informations sur la façon de tooallow une connectivité Internet sortante à partir d’un environnement App Service, consultez hello suivant de l’article sur l’utilisation de [Express Route][ExpressRoute].</span><span class="sxs-lookup"><span data-stu-id="d5785-129">For details on how tooallow outbound Internet connectivity from an App Service Environment, see hello following article about working with [Express Route][ExpressRoute].</span></span>  <span data-ttu-id="d5785-130">Hello même approche décrite dans l’article de hello s’applique lorsque fonctionne avec la connectivité de Site à Site et que vous utilisez le tunneling forcé.</span><span class="sxs-lookup"><span data-stu-id="d5785-130">hello same approach described in hello article applies when working with Site-to-Site connectivity and using forced tunneling.</span></span>

## <a name="outbound-network-addresses"></a><span data-ttu-id="d5785-131">Adresses réseau sortantes</span><span class="sxs-lookup"><span data-stu-id="d5785-131">Outbound Network Addresses</span></span>
<span data-ttu-id="d5785-132">Lorsqu’un environnement App Service effectue des appels sortants, une adresse IP est toujours associée les appels sortants hello.</span><span class="sxs-lookup"><span data-stu-id="d5785-132">When an App Service Environment makes outbound calls, an IP Address is always associated with hello outbound calls.</span></span>  <span data-ttu-id="d5785-133">adresse IP spécifique Hello qui est utilisée varie selon que les point de terminaison hello appelée est situé au sein de la topologie du réseau virtuel hello ou en dehors de la topologie du réseau virtuel hello.</span><span class="sxs-lookup"><span data-stu-id="d5785-133">hello specific IP address that is used depends on whether hello endpoint being called is located within hello virtual network topology, or outside of hello virtual network topology.</span></span>

<span data-ttu-id="d5785-134">Si le point de terminaison hello appelée est **en dehors de** de topologie de réseau virtuel hello, puis hello sortant adresse (aka hello sortant NAT) qui est utilisé est hello une adresse IP virtuelle publique de hello environnement App Service.</span><span class="sxs-lookup"><span data-stu-id="d5785-134">If hello endpoint being called is **outside** of hello virtual network topology, then hello outbound address (aka hello outbound NAT address) that is used is hello public VIP of hello App Service Environment.</span></span>  <span data-ttu-id="d5785-135">Cette adresse peut être trouvée dans l’interface utilisateur du portail hello pour hello environnement App Service dans le panneau des propriétés.</span><span class="sxs-lookup"><span data-stu-id="d5785-135">This address can be found in hello portal user interface for hello App Service Environment in Properties blade.</span></span>

![Adresse IP sortante][OutboundIPAddress]

<span data-ttu-id="d5785-137">Cette adresse peut également être déterminée pour ASEs possédant uniquement une adresse VIP publique en créant une application Bonjour environnement App Service, puis en effectuant une *nslookup* sur l’adresse de l’application hello.</span><span class="sxs-lookup"><span data-stu-id="d5785-137">This address can also be determined for ASEs that only have a public VIP by creating an app in hello App Service Environment, and then performing an *nslookup* on hello app's address.</span></span> <span data-ttu-id="d5785-138">adresse IP de la résultante Hello est hello publique VIP, ainsi que les adresse NAT sortant de l’environnement hello App Service.</span><span class="sxs-lookup"><span data-stu-id="d5785-138">hello resultant IP address is both hello public VIP, as well as hello App Service Environment's outbound NAT address.</span></span>

<span data-ttu-id="d5785-139">Si le point de terminaison hello appelée est **à l’intérieur de** de topologie de réseau virtuel hello, hello sortant de l’application appelante hello est adresse est hello adresse IP interne de ressources de calcul individuelles hello application hello en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="d5785-139">If hello endpoint being called is **inside** of hello virtual network topology, hello outbound address of hello calling app will be hello internal IP address of hello individual compute resource running hello app.</span></span>  <span data-ttu-id="d5785-140">Toutefois, il n’existe pas un mappage persistant de tooapps des adresses IP internes de réseau virtuel.</span><span class="sxs-lookup"><span data-stu-id="d5785-140">However there is not a persistent mapping of virtual network internal IP addresses tooapps.</span></span>  <span data-ttu-id="d5785-141">Applications peuvent se déplacer entre les ressources de calcul différente, et pool hello disponible des ressources de calcul dans un environnement App Service peut changer en raison d’opérations de tooscaling.</span><span class="sxs-lookup"><span data-stu-id="d5785-141">Apps can move around across different compute resources, and hello pool of available compute resources in an App Service Environment can change due tooscaling operations.</span></span>

<span data-ttu-id="d5785-142">Toutefois, depuis un environnement App Service est toujours situé dans un sous-réseau, vous avez la garantie que les adresse IP interne hello d’une ressource de calcul une application en cours d’exécution seront se trouvent toujours dans la plage CIDR hello du sous-réseau de hello.</span><span class="sxs-lookup"><span data-stu-id="d5785-142">However, since an App Service Environment is always located within a subnet, you are guaranteed that hello internal IP address of a compute resource running an app will always lie within hello CIDR range of hello subnet.</span></span>  <span data-ttu-id="d5785-143">Par conséquent, lorsqu’ACL affinées ou groupes de sécurité réseau sont utilisés toosecure accéder aux points de terminaison tooother au sein du réseau virtuel de hello, hello plage de sous-réseau contenant hello environnement App Service besoins toobe accordé l’accès.</span><span class="sxs-lookup"><span data-stu-id="d5785-143">As a result, when fine-grained ACLs or network security groups are used toosecure access tooother endpoints within hello virtual network, hello subnet range containing hello App Service Environment needs toobe granted access.</span></span>

<span data-ttu-id="d5785-144">Hello diagramme suivant illustre ces concepts plus en détail :</span><span class="sxs-lookup"><span data-stu-id="d5785-144">hello following diagram shows these concepts in more detail:</span></span>

![Adresses réseau sortantes][OutboundNetworkAddresses]

<span data-ttu-id="d5785-146">Bonjour diagramme ci-dessus :</span><span class="sxs-lookup"><span data-stu-id="d5785-146">In hello above diagram:</span></span>

* <span data-ttu-id="d5785-147">Hello une adresse IP virtuelle publique de hello environnement App Service étant 192.23.1.2, qui est l’adresse IP sortante hello utilisée lors d’appels trop points de terminaison « Internet ».</span><span class="sxs-lookup"><span data-stu-id="d5785-147">Since hello public VIP of hello App Service Environment is 192.23.1.2, that is hello outbound IP address used when making calls too"Internet" endpoints.</span></span>
* <span data-ttu-id="d5785-148">Hello la plage CIDR de hello contenant le sous-réseau pour hello environnement App Service est 10.0.1.0/26.</span><span class="sxs-lookup"><span data-stu-id="d5785-148">hello CIDR range of hello containing subnet for hello App Service Environment is 10.0.1.0/26.</span></span>  <span data-ttu-id="d5785-149">Autres points de terminaison dans hello même infrastructure de réseau virtuel va apparaître dans les appels à partir d’applications provenant de quelque part dans cette plage d’adresses.</span><span class="sxs-lookup"><span data-stu-id="d5785-149">Other endpoints within hello same virtual network infrastructure will see calls from apps as originating from somewhere within this address range.</span></span>

## <a name="calls-between-app-service-environments"></a><span data-ttu-id="d5785-150">Appels entre les environnements App Service</span><span class="sxs-lookup"><span data-stu-id="d5785-150">Calls Between App Service Environments</span></span>
<span data-ttu-id="d5785-151">Un scénario plus complexe peut se produire si vous déployez plusieurs environnements de Service d’application hello même réseau virtuel et effectuer des appels sortants à partir d’un environnement App Service tooanother environnement App Service.</span><span class="sxs-lookup"><span data-stu-id="d5785-151">A more complex scenario can occur if you deploy multiple App Service Environments in hello same virtual network, and make outbound calls from one App Service Environment tooanother App Service Environment.</span></span>  <span data-ttu-id="d5785-152">Ces types d’appels entre les environnements App Service seront également traités comme des appels « Internet ».</span><span class="sxs-lookup"><span data-stu-id="d5785-152">These types of cross App Service Environment calls will also be treated as "Internet" calls.</span></span>

<span data-ttu-id="d5785-153">Hello suivant schéma montre un exemple d’architecture multiniveau avec les applications sur un environnement App Service (par exemple) Les applications web « Porte ») appelant des applications sur un deuxième environnement App Service (par exemple, les applications d’API principal internes non prévus toobe accessible à partir de hello Internet).</span><span class="sxs-lookup"><span data-stu-id="d5785-153">hello following diagram shows an example of a layered architecture with apps on one App Service Environment (e.g. "Front door" web apps) calling apps on a second App Service Environment (e.g. internal back-end API apps not intended toobe accessible from hello Internet).</span></span> 

![Appels entre les environnements App Service][CallsBetweenAppServiceEnvironments] 

<span data-ttu-id="d5785-155">Bonjour exemple ci-dessus hello environnement App Service « ASE un » a une adresse IP sortante de 192.23.1.2.</span><span class="sxs-lookup"><span data-stu-id="d5785-155">In hello example above hello App Service Environment "ASE One" has an outbound IP address of 192.23.1.2.</span></span>  <span data-ttu-id="d5785-156">Si une application en cours d’exécution sur cet environnement App Service rend une application de tooan appel sortant en cours d’exécution sur un deuxième environnement App Service (« ASE deux ») situé dans hello virtuel même réseau, hello sortant appel sera traité comme un appel de « Internet ».</span><span class="sxs-lookup"><span data-stu-id="d5785-156">If an app running on this App Service Environment makes an outbound call tooan app running on a second App Service Environment ("ASE Two") located in hello same virtual network, hello outbound call will be treated as an "Internet" call.</span></span>  <span data-ttu-id="d5785-157">Par conséquent le trafic réseau de hello arrivant sur hello deuxième environnement App Service affiche comme provenant de 192.23.1.2 (autrement dit, pas hello sous-réseau plage d’adresses de hello premier environnement App Service).</span><span class="sxs-lookup"><span data-stu-id="d5785-157">As a result hello network traffic arriving on hello second App Service Environment will show as originating from 192.23.1.2 (i.e. not hello subnet address range of hello first App Service Environment).</span></span>

<span data-ttu-id="d5785-158">Bien que les appels entre différents environnements de Service d’application sont traités comme des appels de « Internet », quand les deux environnements de Service d’application sont situés dans hello même région Azure hello le trafic sera disponible sur le réseau Azure hello et ne sera pas physiquement flux sur hello Internet public.</span><span class="sxs-lookup"><span data-stu-id="d5785-158">Even though calls between different App Service Environments are treated as "Internet" calls, when both App Service Environments are located in hello same Azure region hello network traffic will remain on hello regional Azure network and will not physically flow over hello public Internet.</span></span>  <span data-ttu-id="d5785-159">Par conséquent, vous pouvez utiliser un groupe de sécurité réseau sur le sous-réseau hello Hello deuxième environnement App Service tooonly autorisent les appels entrants de hello premier environnement App Service (dont l’adresse IP sortante est 192.23.1.2), afin de garantir une communication sécurisée entre hello Environnements App Service.</span><span class="sxs-lookup"><span data-stu-id="d5785-159">As a result you can use a network security group on hello subnet of hello second App Service Environment tooonly allow inbound calls from hello first App Service Environment (whose outbound IP address is 192.23.1.2), thus ensuring secure communication between hello App Service Environments.</span></span>

## <a name="additional-links-and-information"></a><span data-ttu-id="d5785-160">Informations et liens supplémentaires</span><span class="sxs-lookup"><span data-stu-id="d5785-160">Additional Links and Information</span></span>
<span data-ttu-id="d5785-161">Tous les articles et comment-de pour les environnements App Service sont disponibles dans hello [fichier Lisezmoi pour les environnements de Service d’Application](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="d5785-161">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="d5785-162">Pour plus d’informations sur entrant des ports utilisés par les environnements App Service et le trafic entrant à l’aide de toocontrol de groupes de sécurité réseau est disponible [ici][controllinginboundtraffic].</span><span class="sxs-lookup"><span data-stu-id="d5785-162">Details on inbound ports used by App Service Environments and using network security groups toocontrol inbound traffic is available [here][controllinginboundtraffic].</span></span>

<span data-ttu-id="d5785-163">Détails sur l’utilisation de défini par l’utilisateur itinéraires toogrant sortant Internet access tooApp environnements de Service est disponible dans cette [article][ExpressRoute].</span><span class="sxs-lookup"><span data-stu-id="d5785-163">Details on using user defined routes toogrant outbound Internet access tooApp Service Environments is available in this [article][ExpressRoute].</span></span> 

<!-- LINKS -->
[virtualnetwork]: http://azure.microsoft.com/services/virtual-network/
[controllinginboundtraffic]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-control-inbound-traffic/
[ExpressRoute]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-network-configuration-expressroute/

<!-- IMAGES -->
[GeneralNetworkFlows]: ./media/app-service-app-service-environment-network-architecture-overview/NetworkOverview-1.png
[OutboundIPAddress]: ./media/app-service-app-service-environment-network-architecture-overview/OutboundIPAddress-1.png
[OutboundNetworkAddresses]: ./media/app-service-app-service-environment-network-architecture-overview/OutboundNetworkAddresses-1.png
[CallsBetweenAppServiceEnvironments]: ./media/app-service-app-service-environment-network-architecture-overview/CallsBetweenEnvironments-1.png

