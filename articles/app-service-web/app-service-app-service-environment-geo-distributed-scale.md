---
title: "aaaGeo échelle distribuées avec les environnements de Service d’application"
description: "Découvrez comment toohorizontally l’échelle d’applications à l’aide de la distribution géographique avec Traffic Manager et les environnements de Service d’application."
services: app-service
documentationcenter: 
author: stefsch
manager: erikre
editor: 
ms.assetid: c1b05ca8-3703-4d87-a9ae-819d741787fb
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/07/2016
ms.author: stefsch
ms.openlocfilehash: 9b441f637d8b7f679b3d83240baf99b8ee57e8f3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="geo-distributed-scale-with-app-service-environments"></a><span data-ttu-id="1c827-103">Mise à l’échelle géolocalisée avec les environnements App Service</span><span class="sxs-lookup"><span data-stu-id="1c827-103">Geo Distributed Scale with App Service Environments</span></span>
## <a name="overview"></a><span data-ttu-id="1c827-104">Vue d'ensemble</span><span class="sxs-lookup"><span data-stu-id="1c827-104">Overview</span></span>
<span data-ttu-id="1c827-105">Scénarios d’application qui exigent une très grande échelle peuvent dépasser hello calcul capacité disponible tooa seul déploiement de ressources d’une application.</span><span class="sxs-lookup"><span data-stu-id="1c827-105">Application scenarios which require very high scale can exceed hello compute resource capacity available tooa single deployment of an app.</span></span>  <span data-ttu-id="1c827-106">À titre d’exemple, les applications de vote, les événements sportifs et les programmes de divertissement télévisés sont des scénarios qui fonctionnent à très grande échelle.</span><span class="sxs-lookup"><span data-stu-id="1c827-106">Voting applications, sporting events, and televised entertainment events are all examples of scenarios that require extremely high scale.</span></span> <span data-ttu-id="1c827-107">Les besoins à grande échelle peuvent être remplies par l’évolution horizontale des applications, avec plusieurs déploiements d’applications effectués au sein d’une seule région, ainsi qu’entre les régions, les exigences de charge extrême toohandle.</span><span class="sxs-lookup"><span data-stu-id="1c827-107">High scale requirements can be met by horizontally scaling out apps, with multiple app deployments being made within a single region, as well as across regions, toohandle extreme load requirements.</span></span>

<span data-ttu-id="1c827-108">Les environnements App Service sont une plate-forme idéale pour l’évolution horizontale.  Une fois qu’une configuration de l’environnement App Service a été sélectionnée qui peut prendre en charge un taux de demandes connus, les développeurs peuvent déployer des environnements de Service application supplémentaires dans « découpage » de manière tooattain une capacité de charge maximale de votre choix.</span><span class="sxs-lookup"><span data-stu-id="1c827-108">App Service Environments are an ideal platform for horizontal scale out.  Once an App Service Environment configuration has been selected that can support a known request rate, developers can deploy additional App Service Environments in "cookie cutter" fashion tooattain a desired peak load capacity.</span></span>

<span data-ttu-id="1c827-109">Par exemple une application en cours d’exécution sur une configuration de l’environnement App Service a été testée toohandle 20 Ko des demandes par seconde (RPS).</span><span class="sxs-lookup"><span data-stu-id="1c827-109">For example suppose an app running on an App Service Environment configuration has been tested toohandle 20K requests per second (RPS).</span></span>  <span data-ttu-id="1c827-110">Si la charge de pointe de votre choix hello capacité est 100 Ko RPS, environnements de Service d’application cinq (5) peut être créés et configuré tooensure hello application peut gérer hello maximale prévue de charge.</span><span class="sxs-lookup"><span data-stu-id="1c827-110">If hello desired peak load capacity is 100K RPS, then five (5) App Service Environments can be created and configured tooensure hello application can handle hello maximum projected load.</span></span>

<span data-ttu-id="1c827-111">Étant donné que les clients en général les applications à l’aide d’un domaine personnalisé (ou personnel), les développeurs doivent accéder à une application toodistribute de façon demandes sur toutes les instances d’environnement App Service hello.</span><span class="sxs-lookup"><span data-stu-id="1c827-111">Since customers typically access apps using a custom (or vanity) domain, developers need a way toodistribute app requests across all of hello App Service Environment instances.</span></span>  <span data-ttu-id="1c827-112">Un tooaccomplish excellent moyen il s’agit de tooresolve hello personnalisé de domaine en utilisant un [profil Azure Traffic Manager][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="1c827-112">A great way tooaccomplish this is tooresolve hello custom domain using an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="1c827-113">Hello Traffic Manager profil peut être configuré toopoint tous les hello environnements de Service d’application individuels.</span><span class="sxs-lookup"><span data-stu-id="1c827-113">hello Traffic Manager profile can be configured toopoint at all of hello individual App Service Environments.</span></span>  <span data-ttu-id="1c827-114">Traffic Manager gérera automatiquement à la distribution des clients dans l’ensemble de hello Qu'environnements de Service d’application basées sur les paramètres dans le profil Traffic Manager hello d’équilibrage de charge de hello.</span><span class="sxs-lookup"><span data-stu-id="1c827-114">Traffic Manager will automatically handle distributing customers across all of hello App Service Environments based on hello load balancing settings in hello Traffic Manager profile.</span></span>  <span data-ttu-id="1c827-115">Cette approche fonctionne indépendamment de tous les environnements de Service d’application hello sont déployés dans une seule région Azure ou déployés dans le monde dans plusieurs régions Azure.</span><span class="sxs-lookup"><span data-stu-id="1c827-115">This approach works regardless of whether all of hello App Service Environments are deployed in a single Azure region, or deployed worldwide across multiple Azure regions.</span></span>

<span data-ttu-id="1c827-116">En outre, étant donné que les clients accéder aux applications via le domaine personnel de hello, les clients ne savent pas nombre hello des environnements de Service d’application une application en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="1c827-116">Furthermore, since customers access apps through hello vanity domain, customers are unaware of hello number of App Service Environments running an app.</span></span>  <span data-ttu-id="1c827-117">Par conséquent les développeurs peuvent rapidement et facilement ajouter et supprimer des environnements App Service en fonction de la charge du trafic observée.</span><span class="sxs-lookup"><span data-stu-id="1c827-117">As a result developers can quickly and easily add, and remove, App Service Environments based on observed traffic load.</span></span>

<span data-ttu-id="1c827-118">diagramme conceptuel de Hello ci-dessous illustre une application horizontalement répartie sur trois environnements de Service d’application au sein d’une seule région.</span><span class="sxs-lookup"><span data-stu-id="1c827-118">hello conceptual diagram below depicts an app horizontally scaled out across three App Service Environments within a single region.</span></span>

![Architecture conceptuelle][ConceptualArchitecture] 

<span data-ttu-id="1c827-120">reste Hello de cette rubrique décrit les étapes hello liés à la configuration d’une topologie distribuée pour l’application d’exemple hello à l’aide de plusieurs environnements de Service d’application.</span><span class="sxs-lookup"><span data-stu-id="1c827-120">hello remainder of this topic walks through hello steps involved with setting up a distributed topology for hello sample app using multiple App Service Environments.</span></span>

## <a name="planning-hello-topology"></a><span data-ttu-id="1c827-121">Planification de la topologie de hello</span><span class="sxs-lookup"><span data-stu-id="1c827-121">Planning hello Topology</span></span>
<span data-ttu-id="1c827-122">Avant la création d’un encombrement de l’application distribuée, il vous aide à toohave quelques informations pièces avance.</span><span class="sxs-lookup"><span data-stu-id="1c827-122">Before building out a distributed app footprint, it helps toohave a few pieces information ahead of time.</span></span>

* <span data-ttu-id="1c827-123">**Domaine personnalisé pour une application hello :** ce qui est le nom de domaine personnalisé hello que les clients utilisent tooaccess hello application ?</span><span class="sxs-lookup"><span data-stu-id="1c827-123">**Custom domain for hello app:**  What is hello custom domain name that customers will use tooaccess hello app?</span></span>  <span data-ttu-id="1c827-124">Pour un domaine personnalisé d’hello application exemple hello nom est *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="1c827-124">For hello sample app hello custom domain name is *www.scalableasedemo.com*</span></span>
* <span data-ttu-id="1c827-125">**Domaine Traffic Manager :** toobe choisi lors de la création a besoin d’un nom de domaine un [profil Azure Traffic Manager][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="1c827-125">**Traffic Manager domain:**  A domain name needs toobe chosen when creating an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="1c827-126">Ce nom sera combiné avec hello *trafficmanager.net* suffixe tooregister une entrée de domaine qui est gérée par le Gestionnaire de trafic.</span><span class="sxs-lookup"><span data-stu-id="1c827-126">This name will be combined with hello *trafficmanager.net* suffix tooregister a domain entry that is managed by Traffic Manager.</span></span>  <span data-ttu-id="1c827-127">Pour l’application d’exemple hello, est choisi de nom hello *évolutive ase-démonstration*.</span><span class="sxs-lookup"><span data-stu-id="1c827-127">For hello sample app, hello name chosen is *scalable-ase-demo*.</span></span>  <span data-ttu-id="1c827-128">Par conséquent le nom de domaine complet de hello est géré par le Gestionnaire de trafic est *demo.trafficmanager.net-ase évolutive*.</span><span class="sxs-lookup"><span data-stu-id="1c827-128">As a result hello full domain name that is managed by Traffic Manager is *scalable-ase-demo.trafficmanager.net*.</span></span>
* <span data-ttu-id="1c827-129">**Stratégie de mise à l’échelle l’encombrement application hello :** sera l’impact des applications hello distribué sur plusieurs environnements de Service d’application dans une seule région ?</span><span class="sxs-lookup"><span data-stu-id="1c827-129">**Strategy for scaling hello app footprint:**  Will hello application footprint be distributed across multiple App Service Environments in a single region?</span></span>  <span data-ttu-id="1c827-130">Plusieurs régions ?</span><span class="sxs-lookup"><span data-stu-id="1c827-130">Multiple regions?</span></span>  <span data-ttu-id="1c827-131">Une combinaison des deux approches ?</span><span class="sxs-lookup"><span data-stu-id="1c827-131">A mix-and-match of both approaches?</span></span>  <span data-ttu-id="1c827-132">décision de Hello doit être basée sur les attentes d’où le trafic de client proviennent, ainsi que la manière d’autres hello bien d’une application prenant en charge l’infrastructure principale peut mettre à l’échelle.</span><span class="sxs-lookup"><span data-stu-id="1c827-132">hello decision should be based on expectations of where customer traffic will originate, as well as how well hello rest of an app's supporting back-end infrastructure can scale.</span></span>  <span data-ttu-id="1c827-133">Par exemple, avec une application à 100 % sans état, une application peut être adaptée à très grande échelle à l’aide d’une combinaison de plusieurs environnements App Service, puis multipliée par les environnements App Service déployés dans plusieurs régions Azure.</span><span class="sxs-lookup"><span data-stu-id="1c827-133">For example, with a 100% stateless application, an app can be massively scaled using a combination of multiple App Service Environments per Azure region,  multiplied by App Service Environments deployed across multiple Azure regions.</span></span>  <span data-ttu-id="1c827-134">Avec les régions Azure publique 15 + toochoose disponible à partir de, les clients peuvent générer réellement un encombrement de l’application d’une évolutivité à l’échelle mondiale.</span><span class="sxs-lookup"><span data-stu-id="1c827-134">With 15+ public Azure regions available toochoose from, customers can truly build a world-wide hyper-scale application footprint.</span></span>  <span data-ttu-id="1c827-135">Pour l’application d’exemple hello utilisée pour cet article, trois environnements de Service d’application ont été créés dans une seule région Azure (Amérique du Sud).</span><span class="sxs-lookup"><span data-stu-id="1c827-135">For hello sample app used for this article, three App Service Environments were created in a single Azure region (South Central US).</span></span>
* <span data-ttu-id="1c827-136">**Convention de dénomination pour hello les environnements App Service :** chaque environnement App Service requiert un nom unique.</span><span class="sxs-lookup"><span data-stu-id="1c827-136">**Naming convention for hello App Service Environments:**  Each App Service Environment requires a unique name.</span></span>  <span data-ttu-id="1c827-137">Au-delà d’un ou deux environnements de Service d’application, il est utile toohave une convention d’affectation de noms toohelp identifier chaque environnement App Service.</span><span class="sxs-lookup"><span data-stu-id="1c827-137">Beyond one or two App Service Environments it is helpful toohave a naming convention toohelp identify each App Service Environment.</span></span>  <span data-ttu-id="1c827-138">Pour un exemple d’application hello une convention d’affectation de noms simple a été utilisée.</span><span class="sxs-lookup"><span data-stu-id="1c827-138">For hello sample app a simple naming convention was used.</span></span>  <span data-ttu-id="1c827-139">Hello noms des environnements de Service d’application hello trois sont *fe1ase*, *fe2ase*, et *fe3ase*.</span><span class="sxs-lookup"><span data-stu-id="1c827-139">hello names of hello three App Service Environments are *fe1ase*, *fe2ase*, and *fe3ase*.</span></span>
* <span data-ttu-id="1c827-140">**Convention d’affectation de noms pour les applications de hello :** étant donné que plusieurs instances de l’application hello seront déployés, un nom est requis pour chaque instance de l’application hello déployé.</span><span class="sxs-lookup"><span data-stu-id="1c827-140">**Naming convention for hello apps:**  Since multiple instances of hello app will be deployed, a name is needed for each instance of hello deployed app.</span></span>  <span data-ttu-id="1c827-141">Une fonctionnalité peu connue, mais très pratique des environnements de Service d’application est que hello même nom d’application peut être utilisé dans différents environnements de Service d’application.</span><span class="sxs-lookup"><span data-stu-id="1c827-141">One little-known but very convenient feature of App Service Environments is that hello same app name can be used across multiple App Service Environments.</span></span>  <span data-ttu-id="1c827-142">Étant donné que chaque environnement App Service a un suffixe de domaine unique, les développeurs peuvent choisir d’utiliser toore hello exacte même nom de l’application dans chaque environnement.</span><span class="sxs-lookup"><span data-stu-id="1c827-142">Since each App Service Environment has a unique domain suffix, developers can choose toore-use hello exact same app name in each environment.</span></span>  <span data-ttu-id="1c827-143">Par exemple, un développeur peut avoir des applications nommées comme suit : *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net*, etc.  Pour un exemple d’application hello bien que chaque instance de l’application a également un nom unique.</span><span class="sxs-lookup"><span data-stu-id="1c827-143">For example a developer could have apps named as follows:  *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net*, etc.  For hello sample app though each app instance also has a unique name.</span></span>  <span data-ttu-id="1c827-144">Hello application les noms d’instance utilisés sont *webfrontend1*, *webfrontend2*, et *webfrontend3*.</span><span class="sxs-lookup"><span data-stu-id="1c827-144">hello app instance names used are *webfrontend1*, *webfrontend2*, and *webfrontend3*.</span></span>

## <a name="setting-up-hello-traffic-manager-profile"></a><span data-ttu-id="1c827-145">Configuration de hello profil Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="1c827-145">Setting up hello Traffic Manager Profile</span></span>
<span data-ttu-id="1c827-146">Une fois que plusieurs instances d’une application sont déployés sur plusieurs environnements de Service d’application, les instances d’application individuels hello peuvent être inscrits avec Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="1c827-146">Once multiple instances of an app are deployed on multiple App Service Environments, hello  individual app instances can be registered with Traffic Manager.</span></span>  <span data-ttu-id="1c827-147">Pour l’application d’exemple hello Gestionnaire de trafic profil est nécessaire pour *demo.trafficmanager.net-ase évolutive* qui peut acheminer les instances d’application clients tooany Hello suivant déployé :</span><span class="sxs-lookup"><span data-stu-id="1c827-147">For hello sample app a Traffic Manager profile is needed for *scalable-ase-demo.trafficmanager.net* that can route customers tooany of hello following deployed app instances:</span></span>

* <span data-ttu-id="1c827-148">**webfrontend1.fe1ase.p.azurewebsites.NET :** une instance de l’application d’exemple hello déployée sur hello premier environnement App Service.</span><span class="sxs-lookup"><span data-stu-id="1c827-148">**webfrontend1.fe1ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello first App Service Environment.</span></span>
* <span data-ttu-id="1c827-149">**webfrontend2.fe2ase.p.azurewebsites.NET :** une instance de l’application d’exemple hello déployée sur hello deuxième environnement App Service.</span><span class="sxs-lookup"><span data-stu-id="1c827-149">**webfrontend2.fe2ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello second App Service Environment.</span></span>
* <span data-ttu-id="1c827-150">**webfrontend3.fe3ase.p.azurewebsites.NET :** une instance de l’application d’exemple hello déployée sur hello troisième environnement App Service.</span><span class="sxs-lookup"><span data-stu-id="1c827-150">**webfrontend3.fe3ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello third App Service Environment.</span></span>

<span data-ttu-id="1c827-151">Hello tooregister de façon plus simple de plusieurs services d’application Azure points de terminaison, s’exécutant tous dans hello **même** région Azure, est par hello Powershell [prise en charge Azure Resource Manager Traffic Manager] [ ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="1c827-151">hello easiest way tooregister multiple Azure App Service endpoints, all running in hello **same** Azure region, is with hello Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

<span data-ttu-id="1c827-152">première étape de Hello est toocreate un profil Traffic Manager de Azure.</span><span class="sxs-lookup"><span data-stu-id="1c827-152">hello first step is toocreate an Azure Traffic Manager profile.</span></span>  <span data-ttu-id="1c827-153">code Hello ci-dessous montre comment le profil de hello a été créé pour hello, exemple d’application :</span><span class="sxs-lookup"><span data-stu-id="1c827-153">hello code below shows how hello profile was created for hello sample app:</span></span>

    $profile = New-AzureTrafficManagerProfile –Name scalableasedemo -ResourceGroupName yourRGNameHere -TrafficRoutingMethod Weighted -RelativeDnsName scalable-ase-demo -Ttl 30 -MonitorProtocol HTTP -MonitorPort 80 -MonitorPath "/"

<span data-ttu-id="1c827-154">Notez comment hello *RelativeDnsName* paramètre a été défini trop*évolutive ase-démonstration*.</span><span class="sxs-lookup"><span data-stu-id="1c827-154">Notice how hello *RelativeDnsName* parameter was set too*scalable-ase-demo*.</span></span>  <span data-ttu-id="1c827-155">Cela est hello comment de nom de domaine *demo.trafficmanager.net-ase évolutive* est créé et associé à un profil Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="1c827-155">This is how hello domain name *scalable-ase-demo.trafficmanager.net* is created and associated with a Traffic Manager profile.</span></span>

<span data-ttu-id="1c827-156">Hello *TrafficRoutingMethod* paramètre définit la stratégie Traffic Manager utilisera toodetermine comment toospread client charger dans l’ensemble de points de terminaison disponibles hello d’équilibrage de charge hello.</span><span class="sxs-lookup"><span data-stu-id="1c827-156">hello *TrafficRoutingMethod* parameter defines hello load balancing policy Traffic Manager will use toodetermine how toospread customer load across all of hello available endpoints.</span></span>  <span data-ttu-id="1c827-157">Dans cette hello exemple *Weighted* méthode a été choisie.</span><span class="sxs-lookup"><span data-stu-id="1c827-157">In this example hello *Weighted* method was chosen.</span></span>  <span data-ttu-id="1c827-158">Ainsi, les demandes des clients sont réparties entre tous points de terminaison d’application hello inscrit en fonction du poids relatif de hello associés à chaque point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="1c827-158">This will result in customer requests being spread across all of hello registered application endpoints based on hello relative weights associated with each endpoint.</span></span> 

<span data-ttu-id="1c827-159">Avec profil hello créé, chaque instance de l’application est ajoutée toohello profil comme un point de terminaison Azure natif.</span><span class="sxs-lookup"><span data-stu-id="1c827-159">With hello profile created, each app instance is added toohello profile as a native Azure endpoint.</span></span>  <span data-ttu-id="1c827-160">code Hello ci-dessous extrait d’une application web de référence tooeach front-end, puis ajoute chaque application en tant qu’un point de terminaison Traffic Manager au moyen de hello *TargetResourceId* paramètre.</span><span class="sxs-lookup"><span data-stu-id="1c827-160">hello code below fetches a reference tooeach front end web app, and then adds each app as a Traffic Manager endpoint by way of hello *TargetResourceId* parameter.</span></span>

    $webapp1 = Get-AzureRMWebApp -Name webfrontend1
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend1 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp1.Id –EndpointStatus Enabled –Weight 10

    $webapp2 = Get-AzureRMWebApp -Name webfrontend2
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend2 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp2.Id –EndpointStatus Enabled –Weight 10

    $webapp3 = Get-AzureRMWebApp -Name webfrontend3
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend3 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp3.Id –EndpointStatus Enabled –Weight 10

    Set-AzureTrafficManagerProfile –TrafficManagerProfile $profile

<span data-ttu-id="1c827-161">Notez la façon dont un appel est trop*Add-AzureTrafficManagerEndpointConfig* pour chaque instance d’application individuels.</span><span class="sxs-lookup"><span data-stu-id="1c827-161">Notice how there is one call too*Add-AzureTrafficManagerEndpointConfig* for each individual app instance.</span></span>  <span data-ttu-id="1c827-162">Hello *TargetResourceId* dans chaque commande Powershell fait référence à une des instances d’application déployée trois hello.</span><span class="sxs-lookup"><span data-stu-id="1c827-162">hello *TargetResourceId* parameter in each Powershell command references one of hello three deployed app instances.</span></span>  <span data-ttu-id="1c827-163">Hello profil Traffic Manager est répartir la charge parmi les trois points de terminaison inscrits dans le profil hello.</span><span class="sxs-lookup"><span data-stu-id="1c827-163">hello Traffic Manager profile will spread load across all three endpoints registered in hello profile.</span></span>

<span data-ttu-id="1c827-164">Tous les hello trois points de terminaison utilisent hello même valeur (10) pour hello *poids* paramètre.</span><span class="sxs-lookup"><span data-stu-id="1c827-164">All of hello three endpoints use hello same value (10) for hello *Weight* parameter.</span></span>  <span data-ttu-id="1c827-165">Ainsi, Traffic Manager répartit les demandes clients entre les trois instances d’application de façon relativement uniforme.</span><span class="sxs-lookup"><span data-stu-id="1c827-165">This results in Traffic Manager spreading customer requests across all three app instances relatively evenly.</span></span> 

## <a name="pointing-hello-apps-custom-domain-at-hello-traffic-manager-domain"></a><span data-ttu-id="1c827-166">Pointant vers un domaine personnalisé de l’application hello en hello domaine Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="1c827-166">Pointing hello App's Custom Domain at hello Traffic Manager Domain</span></span>
<span data-ttu-id="1c827-167">dernière étape Hello nécessaire est domaine personnalisé de hello toopoint de l’application hello au domaine Traffic Manager de hello.</span><span class="sxs-lookup"><span data-stu-id="1c827-167">hello final step necessary is toopoint hello custom domain of hello app at hello Traffic Manager domain.</span></span>  <span data-ttu-id="1c827-168">Pour un exemple d’application hello, cela signifie pointant *www.scalableasedemo.com* à *demo.trafficmanager.net-ase évolutive*.</span><span class="sxs-lookup"><span data-stu-id="1c827-168">For hello sample app this means pointing *www.scalableasedemo.com* at *scalable-ase-demo.trafficmanager.net*.</span></span>  <span data-ttu-id="1c827-169">Cette étape doit toobe s’est terminée avec des domaines hello qui gère le domaine personnalisé de hello.</span><span class="sxs-lookup"><span data-stu-id="1c827-169">This step needs toobe completed with hello domain registrar that manages hello custom domain.</span></span>  

<span data-ttu-id="1c827-170">À l’aide des outils de gestion de domaine de votre bureau d’enregistrement, un toobe de besoins d’enregistrements CNAME créé le domaine personnalisé hello points au domaine Traffic Manager de hello.</span><span class="sxs-lookup"><span data-stu-id="1c827-170">Using your registrar's domain management tools, a CNAME records needs toobe created which points hello custom domain at hello Traffic Manager domain.</span></span>  <span data-ttu-id="1c827-171">image Hello ci-dessous montre un exemple de cette configuration de CNAME :</span><span class="sxs-lookup"><span data-stu-id="1c827-171">hello picture below shows an example of what this CNAME configuration looks like:</span></span>

![Enregistrement CNAME pour le domaine personnalisé][CNAMEforCustomDomain] 

<span data-ttu-id="1c827-173">Bien que non couvertes dans cette rubrique, souvenez-vous que chaque instance d’application individuels doit enregistré avec lui aussi bien du domaine personnalisé hello toohave.</span><span class="sxs-lookup"><span data-stu-id="1c827-173">Although not covered in this topic, remember that each individual app instance needs toohave hello custom domain registered with it as well.</span></span>  <span data-ttu-id="1c827-174">Dans le cas contraire, si l’instance d’application tooan rend une demande et application hello n’a pas de nom de domaine personnalisé hello enregistré avec l’application hello, demande de hello échoue.</span><span class="sxs-lookup"><span data-stu-id="1c827-174">Otherwise if a request makes it tooan app instance, and hello application does not have hello custom domain registered with hello app, hello request will fail.</span></span>  

<span data-ttu-id="1c827-175">Dans cette hello exemple domaine personnalisé est *www.scalableasedemo.com*, et chaque instance d’application hello de domaine personnalisé associé.</span><span class="sxs-lookup"><span data-stu-id="1c827-175">In this example hello custom domain is *www.scalableasedemo.com*, and each application instance has hello custom domain associated with it.</span></span>

![Domaine personnalisé][CustomDomain] 

<span data-ttu-id="1c827-177">Pour un récapitulatif d’inscription d’un domaine personnalisé avec les applications de Service d’applications Azure, consultez hello l’article suivant [l’enregistrement de domaines personnalisés][RegisterCustomDomain].</span><span class="sxs-lookup"><span data-stu-id="1c827-177">For a recap of of registering a custom domain with Azure App Service apps, see hello following article on [registering custom domains][RegisterCustomDomain].</span></span>

## <a name="trying-out-hello-distributed-topology"></a><span data-ttu-id="1c827-178">La tentative de hello distribués topologie</span><span class="sxs-lookup"><span data-stu-id="1c827-178">Trying out hello Distributed Topology</span></span>
<span data-ttu-id="1c827-179">Bonjour résultat final de la configuration de Traffic Manager et DNS hello est que les demandes de *www.scalableasedemo.com* transite hello suivant séquence :</span><span class="sxs-lookup"><span data-stu-id="1c827-179">hello end result of hello Traffic Manager and DNS configuration is that requests for *www.scalableasedemo.com* will flow through hello following sequence:</span></span>

1. <span data-ttu-id="1c827-180">Un navigateur ou un périphérique effectue une recherche DNS sur *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="1c827-180">A browser or device will make a DNS lookup for *www.scalableasedemo.com*</span></span>
2. <span data-ttu-id="1c827-181">Hello entrée CNAME auprès de domaines hello provoque hello DNS recherche toobe redirigé tooAzure Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="1c827-181">hello CNAME entry at hello domain registrar causes hello DNS lookup toobe redirected tooAzure Traffic Manager.</span></span>
3. <span data-ttu-id="1c827-182">Une recherche DNS est effectuée *demo.trafficmanager.net-ase évolutive* sur l’un des serveurs de Azure DNS Traffic Manager hello.</span><span class="sxs-lookup"><span data-stu-id="1c827-182">A DNS lookup is made for *scalable-ase-demo.trafficmanager.net* against one of hello Azure Traffic Manager DNS servers.</span></span>
4. <span data-ttu-id="1c827-183">Stratégie d’équilibrage de charge hello (hello *TrafficRoutingMethod* paramètre utilisé précédemment lors de la création du profil Traffic Manager hello), Traffic Manager va sélectionner de hello configuré des points de terminaison et retourne hello de ce nom de domaine complet navigateur de toohello de point de terminaison ou l’appareil.</span><span class="sxs-lookup"><span data-stu-id="1c827-183">Based on hello load balancing policy (hello *TrafficRoutingMethod* parameter used earlier when creating hello Traffic Manager profile), Traffic Manager will select one of hello configured endpoints and return hello FQDN of that endpoint toohello browser or device.</span></span>
5. <span data-ttu-id="1c827-184">Hello, nom de domaine complet du point de terminaison hello étant hello les Url d’une instance de l’application en cours d’exécution sur un environnement App Service, hello navigateur ou l’appareil vous demande un serveur DNS de Microsoft Azure tooresolve hello adresse tooan de nom de domaine complet.</span><span class="sxs-lookup"><span data-stu-id="1c827-184">Since hello FQDN of hello endpoint is hello Url of an app instance running on an App Service Environment, hello browser or device will ask a Microsoft Azure DNS server tooresolve hello FQDN tooan IP address.</span></span> 
6. <span data-ttu-id="1c827-185">Hello navigateur ou l’appareil envoie hello HTTP/demande toohello adresse IP.</span><span class="sxs-lookup"><span data-stu-id="1c827-185">hello browser or device will send hello HTTP/S request toohello IP address.</span></span>  
7. <span data-ttu-id="1c827-186">demande de Hello arriverez à une des instances d’application hello en cours d’exécution sur l’un des hello environnements de Service d’application.</span><span class="sxs-lookup"><span data-stu-id="1c827-186">hello request will arrive at one of hello app instances running on one of hello App Service Environments.</span></span>

<span data-ttu-id="1c827-187">image de la console ci-dessous Hello affiche une recherche DNS pour domaine personnalisé avec succès résolution tooan application instance l’application d’exemple hello en cours d’exécution sur l’un de l’exemple hello trois environnements de Service d’application (dans ce cas hello seconde de hello trois environnements de Service d’application) :</span><span class="sxs-lookup"><span data-stu-id="1c827-187">hello console picture below shows a DNS lookup for hello sample app's custom domain successfully resolving tooan app instance running on one of hello three sample App Service Environments (in this case hello second of hello three App Service Environments):</span></span>

![Recherche DNS][DNSLookup] 

## <a name="additional-links-and-information"></a><span data-ttu-id="1c827-189">Informations et liens supplémentaires</span><span class="sxs-lookup"><span data-stu-id="1c827-189">Additional Links and Information</span></span>
<span data-ttu-id="1c827-190">Tous les articles et comment-de pour les environnements App Service sont disponibles dans hello [fichier Lisezmoi pour les environnements de Service d’Application](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="1c827-190">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="1c827-191">Documentation sur hello Powershell [prise en charge Azure Resource Manager Traffic Manager][ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="1c827-191">Documentation on hello Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[AzureTrafficManagerProfile]: ../traffic-manager/traffic-manager-manage-profiles.md
[ARMTrafficManager]: ../traffic-manager/traffic-manager-powershell-arm.md
[RegisterCustomDomain]: app-service-web-tutorial-custom-domain.md


<!-- IMAGES -->
[ConceptualArchitecture]: ./media/app-service-app-service-environment-geo-distributed-scale/ConceptualArchitecture-1.png
[CNAMEforCustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CNAMECustomDomain-1.png
[DNSLookup]:  ./media/app-service-app-service-environment-geo-distributed-scale/DNSLookup-1.png
[CustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CustomDomain-1.png 
