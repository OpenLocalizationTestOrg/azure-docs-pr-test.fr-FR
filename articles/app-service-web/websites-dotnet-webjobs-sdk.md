---
title: "Présentation du Kit de développement logiciel (SDK) Azure WebJobs"
description: "Présentation du Kit de développement logiciel WebJobs Azure Explique la nature du Kit de développement logiciel (SDK), les scénarios typiques pour lesquels il est utile et fournit des exemples de code."
services: app-service\web, storage
documentationcenter: .net
author: ggailey777
manager: erikre
editor: jimbe
ms.assetid: 8281267b-572b-4b14-a328-6704493ea682
ms.service: app-service-web
ms.workload: web
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/01/2016
ms.author: glenga
ms.openlocfilehash: 8eb05b7cbfb4505f2e94c5b8e6d367ec63a2f033
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="what-is-the-azure-webjobs-sdk"></a><span data-ttu-id="51805-104">Présentation du Kit de développement logiciel (SDK) Azure WebJobs</span><span class="sxs-lookup"><span data-stu-id="51805-104">What is the Azure WebJobs SDK</span></span>
## <span data-ttu-id="51805-105"><a id="overview"></a>Vue d’ensemble</span><span class="sxs-lookup"><span data-stu-id="51805-105"><a id="overview"></a>Overview</span></span>
<span data-ttu-id="51805-106">Cet article explique la nature du Kit de développement logiciel (SDK) WebJobs, examine quelques scénarios courants pour lesquels il est utile, et présente son utilisation dans votre code.</span><span class="sxs-lookup"><span data-stu-id="51805-106">This article explains what the WebJobs SDK is, reviews some common scenarios it is useful for, and gives an overview of how you use it in your code.</span></span>

[!INCLUDE [app-service-web-webjobs-corenote](../../includes/app-service-web-webjobs-corenote.md)]

<span data-ttu-id="51805-107">[WebJobs](websites-webjobs-resources.md) est une fonctionnalité de Microsoft Azure App Service qui vous permet d’exécuter un programme ou un script dans un même contexte, en tant qu’application web, application API ou application mobile.</span><span class="sxs-lookup"><span data-stu-id="51805-107">[WebJobs](websites-webjobs-resources.md) is a feature of Azure App Service that enables you to run a program or script in the same context as a web app, API app, or mobile app.</span></span> <span data-ttu-id="51805-108">L’objectif du [kit de développement logiciel (SDK) WebJobs](websites-webjobs-resources.md) consiste à simplifier le code que vous écrivez pour les tâches web courantes, telles que le traitement d’image, le traitement de la file d’attente, l’agrégation RSS, la maintenance des fichiers et l’envoi des messages électroniques.</span><span class="sxs-lookup"><span data-stu-id="51805-108">The purpose of the [WebJobs SDK](websites-webjobs-resources.md) is to simplify the code you write for common tasks that a WebJob can perform, such as image processing, queue processing, RSS aggregation, file maintenance, and sending emails.</span></span> <span data-ttu-id="51805-109">Le kit de développement logiciel (SDK) WebJobs dispose de fonctionnalités intégrées fonctionnant avec le stockage Azure et Service Bus et servant à planifier des tâches, à gérer des erreurs et à nombreux autres scénarios courants.</span><span class="sxs-lookup"><span data-stu-id="51805-109">The WebJobs SDK has built-in features for working with Azure Storage and Service Bus, for scheduling tasks and handling errors, and for many other common scenarios.</span></span> <span data-ttu-id="51805-110">En outre, il est conçu pour être extensible.</span><span class="sxs-lookup"><span data-stu-id="51805-110">In addition, it's designed to be extensible.</span></span> <span data-ttu-id="51805-111">Le [SDK WebJobs est open source](https://github.com/Azure/azure-webjobs-sdk/) et il existe un [référentiel open source pour les extensions](https://github.com/Azure/azure-webjobs-sdk-extensions/wiki/Binding-Extensions-Overview).</span><span class="sxs-lookup"><span data-stu-id="51805-111">The [WebJobs SDK is open source](https://github.com/Azure/azure-webjobs-sdk/), and there's an [open source repository for extensions](https://github.com/Azure/azure-webjobs-sdk-extensions/wiki/Binding-Extensions-Overview).</span></span>

<span data-ttu-id="51805-112">Ce Kit comprend les composants suivants :</span><span class="sxs-lookup"><span data-stu-id="51805-112">The WebJobs SDK includes the following components:</span></span>

* <span data-ttu-id="51805-113">**Packages NuGet**.</span><span class="sxs-lookup"><span data-stu-id="51805-113">**NuGet packages**.</span></span> <span data-ttu-id="51805-114">Les packages NuGet que vous ajoutez à un projet d'application console Visual Studio fournissent une infrastructure que votre code utilise en décorant vos méthodes avec les attributs SDK de WebJobs.</span><span class="sxs-lookup"><span data-stu-id="51805-114">NuGet packages that you add to a Visual Studio Console Application project provide a framework that your code uses by decorating your methods with WebJobs SDK attributes.</span></span>
* <span data-ttu-id="51805-115">**Tableau de bord**.</span><span class="sxs-lookup"><span data-stu-id="51805-115">**Dashboard**.</span></span> <span data-ttu-id="51805-116">Cette partie du Kit de développement logiciel (SDK) WebJobs est incluse dans Microsoft Azure App Service ; elle offre des fonctions évoluées de surveillance et de diagnostic pour les programmes qui utilisent les packages NuGet.</span><span class="sxs-lookup"><span data-stu-id="51805-116">Part of the WebJobs SDK is included in Azure App Service and provides rich monitoring and diagnostics for programs that use the NuGet packages.</span></span> <span data-ttu-id="51805-117">Vous n’avez pas à écrire du code pour utiliser ces fonctions.</span><span class="sxs-lookup"><span data-stu-id="51805-117">You don't have to write code to use these monitoring and diagnostics features.</span></span>

## <span data-ttu-id="51805-118"><a id="scenarios"></a>Scénarios</span><span class="sxs-lookup"><span data-stu-id="51805-118"><a id="scenarios"></a>Scenarios</span></span>
<span data-ttu-id="51805-119">Voici quelques scénarios typiques plus faciles à gérer avec le Kit de développement logiciel (SDK) Azure WebJobs :</span><span class="sxs-lookup"><span data-stu-id="51805-119">Here are some typical scenarios you can handle more easily with the Azure WebJobs SDK:</span></span>

* <span data-ttu-id="51805-120">Traitement d'images ou autres tâches imposant une forte charge au processeur.</span><span class="sxs-lookup"><span data-stu-id="51805-120">Image processing or other CPU-intensive work.</span></span> <span data-ttu-id="51805-121">Une caractéristique courante des sites web est le téléchargement d'images ou de vidéos.</span><span class="sxs-lookup"><span data-stu-id="51805-121">A common feature of websites is the ability to upload images or videos.</span></span> <span data-ttu-id="51805-122">Vous voulez souvent manipuler le contenu après le téléchargement, mais vous ne voulez pas faire attendre l'utilisateur pendant ce temps.</span><span class="sxs-lookup"><span data-stu-id="51805-122">Often you want to manipulate the content after it's uploaded, but you don't want to make the user wait while you do that.</span></span>
* <span data-ttu-id="51805-123">Traitement de files d'attente.</span><span class="sxs-lookup"><span data-stu-id="51805-123">Queue processing.</span></span> <span data-ttu-id="51805-124">Un serveur web frontal utilise souvent des files d'attente pour communiquer avec un service principal.</span><span class="sxs-lookup"><span data-stu-id="51805-124">A common way for a web frontend to communicate with a backend service is to use queues.</span></span> <span data-ttu-id="51805-125">Lorsque le site web doit effectuer un travail, il envoie un message à une file d'attente.</span><span class="sxs-lookup"><span data-stu-id="51805-125">When the website needs to get work done, it pushes a message onto a queue.</span></span> <span data-ttu-id="51805-126">Un service principal extrait les messages de la file d’attente et effectue le travail.</span><span class="sxs-lookup"><span data-stu-id="51805-126">A backend service pulls messages from the queue and does the work.</span></span> <span data-ttu-id="51805-127">Vous pouvez utiliser les files d’attente pour le traitement d’image. Par exemple, une fois que l’utilisateur a chargé un certain nombre de fichiers, placez les noms de fichiers dans un message en file d’attente, afin qu’ils soient récupérés par le serveur principal à des fins de traitement.</span><span class="sxs-lookup"><span data-stu-id="51805-127">You could use queues for image processing: for example, after the user uploads a number of files, put the file names in a queue message to be picked up by the backend for processing.</span></span> <span data-ttu-id="51805-128">Vous pouvez également utiliser des files d’attente pour améliorer la réactivité d’un site.</span><span class="sxs-lookup"><span data-stu-id="51805-128">Or you could use queues to improve site responsiveness.</span></span> <span data-ttu-id="51805-129">Par exemple, au lieu d'écrire directement dans une base de données SQL, écrivez dans une file d'attente, indiquez à l'utilisateur que vous avez terminé et laissez le serveur principal gérer le travail sur les bases de données relationnelles ayant une latence élevée.</span><span class="sxs-lookup"><span data-stu-id="51805-129">For example, instead of writing directly to a SQL database, write to a queue, tell the user you're done, and let the backend service handle high-latency relational database work.</span></span> <span data-ttu-id="51805-130">Pour consulter un exemple de traitement de file d’attente avec le traitement d’images, consultez le [didacticiel Prise en mains du Kit de développement logiciel (SDK) WebJobs](websites-dotnet-webjobs-sdk-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="51805-130">For an example of queue processing with image process, see the [WebJobs SDK Get Started tutorial](websites-dotnet-webjobs-sdk-get-started.md).</span></span>
* <span data-ttu-id="51805-131">Agrégation RSS.</span><span class="sxs-lookup"><span data-stu-id="51805-131">RSS aggregation.</span></span> <span data-ttu-id="51805-132">Si vous avez un site qui maintient une liste de flux RSS, vous pouvez récupérer tous les articles des flux dans un traitement en arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="51805-132">If you have a site that maintains a list of RSS feeds, you could pull in all of the articles from the feeds in a background process.</span></span>
* <span data-ttu-id="51805-133">Maintenance de fichiers (par exemple, agrégation ou nettoyage de fichiers journaux).</span><span class="sxs-lookup"><span data-stu-id="51805-133">File maintenance, such as aggregating or cleaning up log files.</span></span>  <span data-ttu-id="51805-134">Vous voudrez peut-être que des fichiers journaux soient créés par plusieurs sites ou pour des périodes données que vous voulez associer pour les soumettre à des tâches d'analyse.</span><span class="sxs-lookup"><span data-stu-id="51805-134">You might have log files being created by several sites or for separate time spans which you want to combine in order to run analysis jobs on them.</span></span> <span data-ttu-id="51805-135">Vous voudrez peut-être aussi planifier l'exécution hebdomadaire d'une tâche de nettoyage des fichiers journaux.</span><span class="sxs-lookup"><span data-stu-id="51805-135">Or you might want to schedule a task to run weekly to clean up old log files.</span></span>
* <span data-ttu-id="51805-136">Entrée dans des tables Azure.</span><span class="sxs-lookup"><span data-stu-id="51805-136">Ingress into Azure Tables.</span></span> <span data-ttu-id="51805-137">Vous aurez peut-être des fichiers et des objets blob stockés que vous voudrez analyser pour enregistrer les données dans des tables.</span><span class="sxs-lookup"><span data-stu-id="51805-137">You might have files stored and blobs and want to parse them and store the data in tables.</span></span> <span data-ttu-id="51805-138">La fonction d'entrée peut consister à écrire de nombreuses lignes (des millions dans certains cas) : le Kit de développement logiciel (SDK) WebJobs permet d'implémenter facilement cette fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="51805-138">The ingress function could be writing lots of rows (millions in some cases), and the WebJobs SDK makes it possible to implement this functionality easily.</span></span> <span data-ttu-id="51805-139">Il permet également la surveillance en temps réel d'indicateurs de progression tels que le nombre de lignes écrites dans la table.</span><span class="sxs-lookup"><span data-stu-id="51805-139">The SDK also provides real-time monitoring of progress indicators such as the number of rows written in the table.</span></span>
* <span data-ttu-id="51805-140">Autres tâches longues que vous voulez exécuter dans un thread en arrière-plan (par exemple, [envoi de courriers électroniques](https://github.com/victorhurdugaci/AzureWebJobsSamples/tree/master/SendEmailOnFailure)).</span><span class="sxs-lookup"><span data-stu-id="51805-140">Other long-running tasks that you want to run in a background thread, such as [sending emails](https://github.com/victorhurdugaci/AzureWebJobsSamples/tree/master/SendEmailOnFailure).</span></span> 
* <span data-ttu-id="51805-141">Toutes les tâches que vous souhaitez exécuter sur un planning, par exemple une opération de sauvegarde exécutée toutes les nuits.</span><span class="sxs-lookup"><span data-stu-id="51805-141">Any tasks that you want to run on a schedule, such as performing a back-up operation every night.</span></span>

<span data-ttu-id="51805-142">Dans un grand nombre de ces scénarios, vous souhaiterez mettre à l'échelle une application web de sorte à ce qu’elle puisse être exécutée sur plusieurs machines virtuelles, qui exécuteraient plusieurs WebJobs simultanément.</span><span class="sxs-lookup"><span data-stu-id="51805-142">In many of these scenarios you may want to scale a web app to run on multiple VMs, which would run multiple WebJobs simultaneously.</span></span> <span data-ttu-id="51805-143">Dans certains scénarios, cela pourrait entraîner le traitement multiple de mêmes données, mais ceci n'est pas un problème lorsque vous utilisez la file d'attente intégrée, blob et les déclencheurs de bus de service du Kit de développement logiciel (SDK) de WebJobs.</span><span class="sxs-lookup"><span data-stu-id="51805-143">In some scenarios this could result in the same data getting processed multiple times, but this is not a problem when you use the built-in queue, blob, and Service Bus triggers of the WebJobs SDK.</span></span> <span data-ttu-id="51805-144">Le Kit de développement logiciel (SDK) garantit que vos fonctions ne seront traitées qu'une seule fois pour chaque message ou objet blob.</span><span class="sxs-lookup"><span data-stu-id="51805-144">The SDK ensures that your functions will be processed only once for each message or blob.</span></span>

<span data-ttu-id="51805-145">Le SDK WebJobs facilite également la gestion des scénarios de traitement des erreurs courantes.</span><span class="sxs-lookup"><span data-stu-id="51805-145">The WebJobs SDK also makes it easy to handle common error handling scenarios.</span></span> <span data-ttu-id="51805-146">Vous pouvez définir des alertes pour envoyer des notifications lorsqu’une fonction échoue, et vous pouvez définir des délais d'attente afin qu’une fonction soit automatiquement annulée si elle ne se termine pas dans un délai spécifié.</span><span class="sxs-lookup"><span data-stu-id="51805-146">You can set up alerts to send notifications when a function fails, and you can set timeouts so that a function is automatically canceled if it doesn't complete within a specified time limit.</span></span>

## <span data-ttu-id="51805-147"><a id="code"></a> Exemples de code</span><span class="sxs-lookup"><span data-stu-id="51805-147"><a id="code"></a> Code samples</span></span>
<span data-ttu-id="51805-148">Le code de traitement des tâches typiques fonctionnant avec Azure Storage est simple.</span><span class="sxs-lookup"><span data-stu-id="51805-148">The code for handling typical tasks that work with Azure Storage is simple.</span></span> <span data-ttu-id="51805-149">Dans votre méthode `Main` de Console Application, vous créez un objet `JobHost` qui coordonne les appels aux méthodes que vous écrivez.</span><span class="sxs-lookup"><span data-stu-id="51805-149">In your Console Application's `Main` method you create a `JobHost` object that coordinates the calls to methods you write.</span></span> <span data-ttu-id="51805-150">L’infrastructure du Kit de développement logiciel (SDK) WebJobs sait quand appeler vos méthodes et quels valeurs de paramètre utiliser d’après les attributs associés que vous utilisez dans ces méthodes.</span><span class="sxs-lookup"><span data-stu-id="51805-150">The WebJobs SDK framework knows when to call your methods and what parameter values to use based on the WebJobs SDK attributes you use in them.</span></span> <span data-ttu-id="51805-151">Le SDK fournit des *déclencheurs* qui spécifient les conditions déclenchant l’appel de la fonction, et des *binders* qui spécifient comment obtenir des informations vers et depuis des paramètres de méthode.</span><span class="sxs-lookup"><span data-stu-id="51805-151">The SDK provides *triggers* that specify what conditions cause the function to be called, and *binders* that specify how to get information into and out of method parameters.</span></span>

<span data-ttu-id="51805-152">Par exemple, l’attribut [QueueTrigger](websites-dotnet-webjobs-sdk-storage-queues-how-to.md) déclenche l’appel d’une fonction lorsqu’une file d’attente reçoit un message ; si le message est enregistré au format JSON pour un tableau d’octets ou un type personnalisé, il est automatiquement désérialisé.</span><span class="sxs-lookup"><span data-stu-id="51805-152">For example, the [QueueTrigger](websites-dotnet-webjobs-sdk-storage-queues-how-to.md) attribute causes a function to be called when a message is received on a queue, and if the message format is JSON for a byte array or a custom type, the message is automatically deserialized.</span></span> <span data-ttu-id="51805-153">L’attribut [BlobTrigger](websites-dotnet-webjobs-sdk-storage-blobs-how-to.md) déclenche un processus lorsqu'un nouvel objet blob est créé dans un compte Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="51805-153">The [BlobTrigger](websites-dotnet-webjobs-sdk-storage-blobs-how-to.md) attribute triggers a process whenever a new blob is created in an Azure Storage account.</span></span>

<span data-ttu-id="51805-154">Voici un programme simple qui interroge une file d’attente et crée un objet blob pour chaque message de file d’attente reçu :</span><span class="sxs-lookup"><span data-stu-id="51805-154">Here is a simple program that polls a queue and creates a blob for each queue message received:</span></span>

        public static void Main()
        {
            JobHost host = new JobHost();
            host.RunAndBlock();
        }

        public static void ProcessQueueMessage([QueueTrigger("webjobsqueue")] string inputText, 
            [Blob("containername/blobname")]TextWriter writer)
        {
            writer.WriteLine(inputText);
        }

<span data-ttu-id="51805-155">L’objet `JobHost` est un conteneur prévu pour un ensemble de fonctions en arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="51805-155">The `JobHost` object is a container for a set of background functions.</span></span> <span data-ttu-id="51805-156">L’objet `JobHost` surveille ces fonctions, recherche les événements qui les déclenchent et exécute les fonctions lorsque des événements de déclenchement se produisent.</span><span class="sxs-lookup"><span data-stu-id="51805-156">The `JobHost` object monitors the functions, watches for events that trigger them, and executes the functions when trigger events occur.</span></span> <span data-ttu-id="51805-157">Vous appelez une méthode `JobHost` pour indiquer si vous voulez que le processus du conteneur s’exécute sur le thread actif ou dans un thread en arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="51805-157">You call a `JobHost` method to indicate whether you want the container process to run on the current thread or a background thread.</span></span> <span data-ttu-id="51805-158">Dans cet exemple, la méthode `RunAndBlock` exécute le processus en permanence sur le thread actif.</span><span class="sxs-lookup"><span data-stu-id="51805-158">In the example, the `RunAndBlock` method runs the process continuously on the current thread.</span></span>

<span data-ttu-id="51805-159">Comme la méthode `ProcessQueueMessage` de cet exemple inclut un attribut `QueueTrigger`, le déclencheur de cette fonction est la réception d’un nouveau message en file d’attente.</span><span class="sxs-lookup"><span data-stu-id="51805-159">Because the `ProcessQueueMessage` method in this example has a `QueueTrigger` attribute, the trigger for that function is the reception of a new queue message.</span></span> <span data-ttu-id="51805-160">L’objet `JobHost` recherche les nouveaux messages dans la file d’attente spécifiée (« webjobsqueue », dans cet exemple). Lorsqu’il trouve un message, il appelle `ProcessQueueMessage`.</span><span class="sxs-lookup"><span data-stu-id="51805-160">The `JobHost` object watches for new queue messages on the specified queue ("webjobsqueue" in this sample) and when one is found, it calls `ProcessQueueMessage`.</span></span> 

<span data-ttu-id="51805-161">L’attribut `QueueTrigger` lie le paramètre `inputText` à la valeur du message de file d'attente.</span><span class="sxs-lookup"><span data-stu-id="51805-161">The `QueueTrigger` attribute binds the `inputText` parameter to the value of the queue message.</span></span> <span data-ttu-id="51805-162">L’attribut `Blob` lie également un objet `TextWriter` à un objet blob nommé « blobname » dans le conteneur « containername ».</span><span class="sxs-lookup"><span data-stu-id="51805-162">And the `Blob` attribute binds a `TextWriter` object to a blob named "blobname" in a container named "containername".</span></span>  

        public static void ProcessQueueMessage([QueueTrigger("webjobsqueue")]] string inputText, 
            [Blob("containername/blobname")]TextWriter writer)

<span data-ttu-id="51805-163">La fonction utilise ensuite ces paramètres pour écrire la valeur du message en file d'attente dans l'objet blob :</span><span class="sxs-lookup"><span data-stu-id="51805-163">The function then uses these parameters to write the value of the queue message to the blob:</span></span>

        writer.WriteLine(inputText);

<span data-ttu-id="51805-164">Les fonctionnalités de déclencheur et de classeur du Kit de développement logiciel (SDK) WebJobs simplifient considérablement le code que vous devez écrire.</span><span class="sxs-lookup"><span data-stu-id="51805-164">The trigger and binder features of the WebJobs SDK greatly simplify the code you have to write.</span></span> <span data-ttu-id="51805-165">L'infrastructure du SDK écrit pour vous le code de bas niveau nécessaire à la gestion des files d'attente et au traitement des objets blob.</span><span class="sxs-lookup"><span data-stu-id="51805-165">The low-level code required to process queues, blobs, or files, or to initiate scheduled tasks, is done for you by the WebJobs SDK framework.</span></span> <span data-ttu-id="51805-166">Par exemple, elle crée des files d'attente qui n'existent pas encore, ouvre une file d'attente, lit les messages en attente, supprime les messages en attente une fois qu'ils ont été traités, crée des conteneurs d'objets blob qui n'existent pas encore, écrit dans les objets blob, etc.</span><span class="sxs-lookup"><span data-stu-id="51805-166">For example, the framework creates queues that don't exist yet, opens the queue, reads queue messages, deletes queue messages when processing is completed, creates blob containers that don't exist yet, writes to blobs, and so on.</span></span>

<span data-ttu-id="51805-167">L’exemple de code suivant présente différents déclencheurs dans une tâche WebJob : `QueueTrigger`, `FileTrigger`, `WebHookTrigger`, et `ErrorTrigger`.</span><span class="sxs-lookup"><span data-stu-id="51805-167">The following code example shows a variety of triggers in one WebJob: `QueueTrigger`, `FileTrigger`, `WebHookTrigger`, and `ErrorTrigger`.</span></span> 

```
    public class Functions
    {
        public static void ProcessQueueMessage([QueueTrigger("queue")] string message,
        TextWriter log)
        {
            log.WriteLine(message);
        }

        public static void ProcessFileAndUploadToBlob(
            [FileTrigger(@"import\{name}", "*.*", autoDelete: true)] Stream file,
            [Blob(@"processed/{name}", FileAccess.Write)] Stream output,
            string name,
            TextWriter log)
        {
            output = file;
            file.Close();
            log.WriteLine(string.Format("Processed input file '{0}'!", name));
        }

        [Singleton]
        public static void ProcessWebHookA([WebHookTrigger] string body, TextWriter log)
        {
            log.WriteLine(string.Format("WebHookA invoked! Body: {0}", body));
        }

        public static void ProcessGitHubWebHook([WebHookTrigger] string body, TextWriter log)
        {
            dynamic issueEvent = JObject.Parse(body);
            log.WriteLine(string.Format("GitHub WebHook invoked! ('{0}', '{1}')",
                issueEvent.issue.title, issueEvent.action));
        }

        public static void ErrorMonitor(
        [ErrorTrigger("00:01:00", 1)] TraceFilter filter, TextWriter log,
        [SendGrid(
            To = "admin@emailaddress.com",
            Subject = "Error!")]
         SendGridMessage message)
        {
            // log last 5 detailed errors to the Dashboard
            log.WriteLine(filter.GetDetailedMessage(5));
            message.Text = filter.GetDetailedMessage(1);
        }
    }
```

## <span data-ttu-id="51805-168">Planification <a id="schedule"></a></span><span class="sxs-lookup"><span data-stu-id="51805-168"><a id="schedule"></a> Scheduling</span></span>
<span data-ttu-id="51805-169">L’attribut `TimerTrigger` permet de déclencher des fonctions selon une planification.</span><span class="sxs-lookup"><span data-stu-id="51805-169">The `TimerTrigger` attribute gives you the ability to trigger functions to run on a schedule.</span></span> <span data-ttu-id="51805-170">Vous pouvez planifier une tâche Web dans son ensemble via des fonctions individuelles Azure ou de la planification d'une tâche WebJob à l’aide du SDK WebJobs `TimerTrigger`.</span><span class="sxs-lookup"><span data-stu-id="51805-170">You can schedule a WebJob as a whole through Azure or schedule individual functions of a WebJob using the WebJobs SDK `TimerTrigger`.</span></span> <span data-ttu-id="51805-171">Voici un exemple de code.</span><span class="sxs-lookup"><span data-stu-id="51805-171">Here's a code sample.</span></span>

```
public class Functions
{
    public static void ProcessTimer([TimerTrigger("*/15 * * * * *", RunOnStartup = true)]
    TimerInfo info, [Queue("queue")] out string message)
    {
        message = info.FormatNextOccurrences(1);
    }
}
```

<span data-ttu-id="51805-172">Pour d’autres exemples de code, consultez [TimerSamples.cs](https://github.com/Azure/azure-webjobs-sdk-extensions/blob/master/src/ExtensionsSample/Samples/TimerSamples.cs) dans le référentiel azure-webjobs-sdk-extensions sur GitHub.com.</span><span class="sxs-lookup"><span data-stu-id="51805-172">For more sample code, see [TimerSamples.cs](https://github.com/Azure/azure-webjobs-sdk-extensions/blob/master/src/ExtensionsSample/Samples/TimerSamples.cs) in the azure-webjobs-sdk-extensions repository on GitHub.com.</span></span>

## <a name="extensibility"></a><span data-ttu-id="51805-173">Extensibilité</span><span class="sxs-lookup"><span data-stu-id="51805-173">Extensibility</span></span>
<span data-ttu-id="51805-174">Vous n'êtes pas limité aux fonctionnalités intégrées, en effet le SDK WebJobs vous permet d’écrire les binders et déclencheurs personnalisés.</span><span class="sxs-lookup"><span data-stu-id="51805-174">You're not limited to built-in functionality -- the WebJobs SDK allows you to write custom triggers and binders.</span></span>  <span data-ttu-id="51805-175">Par exemple, vous pouvez écrire des déclencheurs pour les événements du cache et les planifications périodiques.</span><span class="sxs-lookup"><span data-stu-id="51805-175">For example, you can write triggers for cache events and periodic schedules.</span></span> <span data-ttu-id="51805-176">Un [référentiel open source](https://github.com/Azure/azure-webjobs-sdk-extensions) contient un [guide détaillé sur l’extensibilité du SDK WebJobs](https://github.com/Azure/azure-webjobs-sdk-extensions/wiki/Binding-Extensions-Overview) et l’exemple de code pour vous aider à commencer à écrire vos propres déclencheurs et binders.</span><span class="sxs-lookup"><span data-stu-id="51805-176">An [open source repository](https://github.com/Azure/azure-webjobs-sdk-extensions) contains a [detailed guide on WebJobs SDK extensibility](https://github.com/Azure/azure-webjobs-sdk-extensions/wiki/Binding-Extensions-Overview) and sample code to help get you started writing your own triggers and binders.</span></span>

## <span data-ttu-id="51805-177"><a id="workerrole"></a>Utilisation du Kit de développement logiciel (SDK) WebJobs en dehors de WebJobs</span><span class="sxs-lookup"><span data-stu-id="51805-177"><a id="workerrole"></a>Using the WebJobs SDK outside of WebJobs</span></span>
<span data-ttu-id="51805-178">Un programme qui utilise le Kit de développement logiciel (SDK) WebJobs est une application console standard qui peut s’exécuter n’importe où, et pas nécessairement en tant que tâche web.</span><span class="sxs-lookup"><span data-stu-id="51805-178">A program that uses the the WebJobs SDK is a standard Console Application and can run anywhere -- it doesn't have to run as a WebJob.</span></span> <span data-ttu-id="51805-179">Vous pouvez tester ce programme localement sur votre ordinateur de développement ; en production, vous pouvez l’exécuter dans un rôle de travail de service cloud ou un service Windows si vous préférez un de ces environnements.</span><span class="sxs-lookup"><span data-stu-id="51805-179">You can test the program locally on your development computer, and in production you can run it in a Cloud Service worker role or a Windows service if you prefer one of those environments.</span></span> 

<span data-ttu-id="51805-180">Toutefois, le tableau de bord est uniquement disponible en tant qu’extension d’une application web Microsoft Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="51805-180">However, the dashboard is only available as an extension for an Azure App Service web app.</span></span> <span data-ttu-id="51805-181">Si vous voulez que l’exécution ait lieu en dehors de WebJobs, mais souhaitez pouvoir utiliser le tableau de bord, vous pouvez configurer une application web de manière à utiliser le compte de stockage auquel la chaîne de connexion du tableau de bord du Kit de développement logiciel (SDK) WebJobs fait référence ; le tableau de bord WebJobs de cette application affiche alors les données concernant l’exécution des fonctions de votre programme, qui s’exécute ailleurs.</span><span class="sxs-lookup"><span data-stu-id="51805-181">If you want to run outside of a WebJob and still use the Dashboard, you can configure a web app to use the same storage account that your WebJobs SDK Dashboard connection string refers to, and that web app's WebJobs Dashboard will then show data about function execution from your program that is running somewhere else.</span></span> <span data-ttu-id="51805-182">Vous pouvez accéder au tableau de bord en utilisant l’URL https://*{webappname}*.scm.azurewebsites.net/azurejobs/#/functions.</span><span class="sxs-lookup"><span data-stu-id="51805-182">You can get to the Dashboard by using the URL https://*{webappname}*.scm.azurewebsites.net/azurejobs/#/functions.</span></span> <span data-ttu-id="51805-183">Pour plus d’informations, consultez le billet de blog [Récupération d’un tableau de bord pour un développement local avec le Kit de développement logiciel (SDK) WebJobs](http://blogs.msdn.com/b/jmstall/archive/2014/01/27/getting-a-dashboard-for-local-development-with-the-webjobs-sdk.aspx)(notez cependant que le billet de blog affiche un ancien nom de chaîne de connexion).</span><span class="sxs-lookup"><span data-stu-id="51805-183">For more information, see [Getting a dashboard for local development with the WebJobs SDK](http://blogs.msdn.com/b/jmstall/archive/2014/01/27/getting-a-dashboard-for-local-development-with-the-webjobs-sdk.aspx), but note that the blog post shows an old connection string name.</span></span> 

## <span data-ttu-id="51805-184"><a id="nostorage"></a>Fonctionnalités du tableau de bord</span><span class="sxs-lookup"><span data-stu-id="51805-184"><a id="nostorage"></a>Dashboard features</span></span>
<span data-ttu-id="51805-185">Le Kit de développement logiciel (SDK) WebJobs offre plusieurs avantages même si vous n’utilisez pas les déclencheurs ou binders du SDK WebJobs :</span><span class="sxs-lookup"><span data-stu-id="51805-185">The WebJobs SDK provides several advantages even if you don't use WebJobs SDK triggers or binders:</span></span>

* <span data-ttu-id="51805-186">Vous pouvez appeler des fonctions depuis le tableau de bord.</span><span class="sxs-lookup"><span data-stu-id="51805-186">You can invoke functions from the Dashboard.</span></span>
* <span data-ttu-id="51805-187">Vous pouvez réexécuter des fonctions depuis le tableau de bord.</span><span class="sxs-lookup"><span data-stu-id="51805-187">You can replay functions from the Dashboard.</span></span>
* <span data-ttu-id="51805-188">Vous pouvez afficher les journaux dans le tableau de bord, liés à une tâche web spécifique (journaux d’application, écrits via les éléments Console.Out, Console.Error, Trace, etc.) ou liés à l’appel de fonction spécifique à l’origine de leur génération (journaux écrits via un objet `TextWriter` que le Kit de développement logiciel (SDK) passe à la fonction, en tant que paramètre).</span><span class="sxs-lookup"><span data-stu-id="51805-188">You can view logs in the Dashboard, linked to the particular WebJob (application logs, written by using Console.Out, Console.Error, Trace, etc.) or linked to the particular function invocation that generated them (logs written by using a `TextWriter` object that the SDK passes to the function as a parameter).</span></span> 

<span data-ttu-id="51805-189">Pour en savoir plus, consultez les pages [Appel manuel d’une fonction](websites-dotnet-webjobs-sdk-storage-queues-how-to.md#manual) et [Écriture de journaux](websites-dotnet-webjobs-sdk-storage-queues-how-to.md#logs)</span><span class="sxs-lookup"><span data-stu-id="51805-189">For more information, see [How to manually invoke a function](websites-dotnet-webjobs-sdk-storage-queues-how-to.md#manual) and [How to write logs](websites-dotnet-webjobs-sdk-storage-queues-how-to.md#logs)</span></span> 

## <span data-ttu-id="51805-190"><a id="nextsteps"></a>Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="51805-190"><a id="nextsteps"></a>Next steps</span></span>
<span data-ttu-id="51805-191">Pour en savoir plus sur le Kit de développement logiciel (SDK) WebJobs, consultez la rubrique [Tâches web Azure - Ressources recommandées](http://go.microsoft.com/fwlink/?linkid=390226).</span><span class="sxs-lookup"><span data-stu-id="51805-191">For more information about the WebJobs SDK, see [Azure WebJobs Recommended Resources](http://go.microsoft.com/fwlink/?linkid=390226).</span></span>

<span data-ttu-id="51805-192">Pour plus d'informations sur les dernières améliorations apportées au SDK WebJobs, consultez les [Notes de publication](https://github.com/Azure/azure-webjobs-sdk/wiki/Release-Notes).</span><span class="sxs-lookup"><span data-stu-id="51805-192">For information about the latest enhancements to the WebJobs SDK, see the [Release Notes](https://github.com/Azure/azure-webjobs-sdk/wiki/Release-Notes).</span></span>

