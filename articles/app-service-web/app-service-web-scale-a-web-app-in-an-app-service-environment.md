---
title: "Comment mettre à l'échelle une application dans un environnement App Service"
description: "Mise à l'échelle d'une application dans un environnement App Service"
services: app-service
documentationcenter: 
author: ccompy
manager: stefsch
editor: jimbe
ms.assetid: 78eb1e49-4fcd-49e7-b3c7-f1906f0f22e3
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/17/2016
ms.author: ccompy
ms.openlocfilehash: 240c2486c23b7cd84e2471bf5b2170e08ee1f150
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="scaling-apps-in-an-app-service-environment"></a><span data-ttu-id="7257f-103">Mise à l'échelle des applications dans un environnement App Service</span><span class="sxs-lookup"><span data-stu-id="7257f-103">Scaling apps in an App Service Environment</span></span>
<span data-ttu-id="7257f-104">Dans Azure App Service, il existe normalement trois éléments que vous pouvez mettre à l'échelle :</span><span class="sxs-lookup"><span data-stu-id="7257f-104">In the Azure App Service there are normally three things you can scale:</span></span>

* <span data-ttu-id="7257f-105">Plan de tarification</span><span class="sxs-lookup"><span data-stu-id="7257f-105">pricing plan</span></span>
* <span data-ttu-id="7257f-106">Taille du travail</span><span class="sxs-lookup"><span data-stu-id="7257f-106">worker size</span></span> 
* <span data-ttu-id="7257f-107">Nombre d'instances</span><span class="sxs-lookup"><span data-stu-id="7257f-107">number of instances.</span></span>

<span data-ttu-id="7257f-108">Dans un environnement App Service, il est inutile de sélectionner ou de modifier le plan de tarification.</span><span class="sxs-lookup"><span data-stu-id="7257f-108">In an ASE there is no need to select or change the pricing plan.</span></span>  <span data-ttu-id="7257f-109">En termes de fonctionnalités, il est déjà au niveau de tarification Premium.</span><span class="sxs-lookup"><span data-stu-id="7257f-109">In terms of capabilities it is already at a Premium pricing capability level.</span></span>  

<span data-ttu-id="7257f-110">En ce qui concerne les tailles de travaux, l'administrateur de l'environnement App Service peut affecter la taille de la ressource de calcul à utiliser pour chaque pool de travaux.</span><span class="sxs-lookup"><span data-stu-id="7257f-110">With respect to worker sizes, the ASE admin can assign the size of the compute resource to be used for each worker pool.</span></span>  <span data-ttu-id="7257f-111">Cela signifie que vous pouvez avoir le pool de travaux 1 avec les ressources de calcul P4 et le pool de travaux 2 avec les ressources de calcul P1, si vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="7257f-111">That means you can have Worker Pool 1 with P4 compute resources and Worker Pool 2 with P1 compute resources, if desired.</span></span>  <span data-ttu-id="7257f-112">Ils n'ont pas à être par ordre de taille.</span><span class="sxs-lookup"><span data-stu-id="7257f-112">They do not have to be in size order.</span></span>  <span data-ttu-id="7257f-113">Pour plus d’informations sur les tailles et leurs tarifications, consultez le document [Tarification de Azure App Service][AppServicePricing].</span><span class="sxs-lookup"><span data-stu-id="7257f-113">For details around the sizes and their pricing see the document here [Azure App Service Pricing][AppServicePricing].</span></span>  <span data-ttu-id="7257f-114">Les options de mise à l'échelle des applications web et des plans App Service d'un environnement App Service sont alors les suivantes :</span><span class="sxs-lookup"><span data-stu-id="7257f-114">This leaves the scaling options for web apps and App Service Plans in an App Service Environment to be:</span></span>

* <span data-ttu-id="7257f-115">Sélection du pool de travaux</span><span class="sxs-lookup"><span data-stu-id="7257f-115">worker pool selection</span></span>
* <span data-ttu-id="7257f-116">Nombre d'instances</span><span class="sxs-lookup"><span data-stu-id="7257f-116">number of instances</span></span>

<span data-ttu-id="7257f-117">La modification de l'un ou l'autre élément s'effectue via l'interface utilisateur appropriée pour vos plans App Service hébergés par ASE.</span><span class="sxs-lookup"><span data-stu-id="7257f-117">Changing either item is done through the appropriate UI shown for your ASE hosted App Service Plans.</span></span>  

![][1]

<span data-ttu-id="7257f-118">Vous ne pouvez pas mettre à l'échelle votre ASP au-delà du nombre de ressources de calcul disponibles du pool de travaux où se trouve votre ASP.</span><span class="sxs-lookup"><span data-stu-id="7257f-118">You can't scale up your ASP beyond the number of available compute resources in the worker pool that your ASP is in.</span></span>  <span data-ttu-id="7257f-119">Si vous avez besoin de ressources de calcul dans ce pool de travaux, vous devez demander à l'administrateur de votre environnement App Service de les ajouter.</span><span class="sxs-lookup"><span data-stu-id="7257f-119">If you need compute resources in that worker pool you need to get your ASE administrator to add them.</span></span>  <span data-ttu-id="7257f-120">Pour plus d’informations sur la reconfiguration de votre environnement App Service, consultez [Comment configurer un environnement App Service][HowtoConfigureASE].</span><span class="sxs-lookup"><span data-stu-id="7257f-120">For information around re-configuring your ASE read the information here: [How to Configure an App Service environment][HowtoConfigureASE].</span></span>  <span data-ttu-id="7257f-121">Vous pouvez également tirer parti des fonctionnalités de mise à l'échelle automatique d'ASE pour ajouter de la capacité en fonction de la planification ou des mesures.</span><span class="sxs-lookup"><span data-stu-id="7257f-121">You may also want to take advantage of the ASE autoscale features to add capacity based on schedule or metrics.</span></span>  <span data-ttu-id="7257f-122">Pour obtenir des informations sur la configuration de mise à l’échelle automatique de l’environnement ASE lui-même, consultez [Configuration de la mise à l’échelle automatique pour un environnement App Service][ASEAutoscale].</span><span class="sxs-lookup"><span data-stu-id="7257f-122">To get more details on configuring autoscale for the ASE environment itself see [How to configure autoscale for an App Service Environment][ASEAutoscale].</span></span>

<span data-ttu-id="7257f-123">Vous pouvez créer plusieurs plans App Service à l’aide de ressources de calcul provenant de pools de travaux différents ou vous pouvez utiliser le même pool de travail.</span><span class="sxs-lookup"><span data-stu-id="7257f-123">You can create multiple app service plans using compute resources from different worker pools, or you can use the same worker pool.</span></span>  <span data-ttu-id="7257f-124">Par exemple, si vous disposez de (10) ressources de calcul disponibles dans le pool de travaux 1, vous pouvez choisir de créer un plan App Service à l’aide de (6) ressources de calcul et planifier un deuxième service d’application qui utilise (4) ressources de calcul.</span><span class="sxs-lookup"><span data-stu-id="7257f-124">For example if you have (10) available compute resources in Worker Pool 1, you can choose to create one app service plan using (6) compute resources, and a second app service plan that uses (4) compute resources.</span></span>

### <a name="scaling-the-number-of-instances"></a><span data-ttu-id="7257f-125">Mise à l'échelle du nombre d'instances</span><span class="sxs-lookup"><span data-stu-id="7257f-125">Scaling the number of instances</span></span>
<span data-ttu-id="7257f-126">Lorsque vous créez votre application web dans un environnement App Service, elle ne contient qu’1 instance.</span><span class="sxs-lookup"><span data-stu-id="7257f-126">When you first create your web app in an App Service Environment it starts with 1 instance.</span></span>  <span data-ttu-id="7257f-127">Vous pouvez ensuite augmenter le nombre d’instances pour fournir des ressources de calcul supplémentaires à votre application.</span><span class="sxs-lookup"><span data-stu-id="7257f-127">You can then scale out to additional instances to provide additional compute resources for your app.</span></span>   

<span data-ttu-id="7257f-128">Si votre environnement Application Service a une capacité suffisante, l'opération est assez simple.</span><span class="sxs-lookup"><span data-stu-id="7257f-128">If your ASE has enough capacity then this is pretty simple.</span></span>  <span data-ttu-id="7257f-129">Vous accédez à votre plan App Service qui contient les sites que vous souhaitez mettre à l'échelle et vous sélectionnez Mettre à l'échelle.</span><span class="sxs-lookup"><span data-stu-id="7257f-129">You go to your App Service Plan that holds the sites you want to scale up and select Scale.</span></span>  <span data-ttu-id="7257f-130">Ceci affiche l'interface utilisateur où vous pouvez définir manuellement l'échelle de votre ASP ou configurer des règles de mise à l'échelle automatique pour votre ASP.</span><span class="sxs-lookup"><span data-stu-id="7257f-130">This opens the UI where you can manually set the scale for your ASP or configure autoscale rules for your ASP.</span></span>  <span data-ttu-id="7257f-131">Pour mettre à l'échelle manuellement votre application, il vous suffit de définir ***Mise à l'échelle selon*** sur ***un nombre d'instances saisi manuellement***.</span><span class="sxs-lookup"><span data-stu-id="7257f-131">To manually scale your app simply set ***Scale by*** to ***an instance count that I enter manually***.</span></span>  <span data-ttu-id="7257f-132">À partir de là, faites glisser le curseur vers la quantité souhaitée ou entrez la quantité souhaitée dans la zone à côté du curseur.</span><span class="sxs-lookup"><span data-stu-id="7257f-132">From here either drag the slider to the desired quantity or enter it in the box next to the slider.</span></span>  

![][2] 

<span data-ttu-id="7257f-133">Les règles de mise à l'échelle automatique d'un ASP dans un travail ASE fonctionnent de manière normale.</span><span class="sxs-lookup"><span data-stu-id="7257f-133">The autoscale rules for an ASP in an ASE work the same as they do normally.</span></span>  <span data-ttu-id="7257f-134">Vous pouvez sélectionner ***Pourcentage UC*** sous ***Mise à l'échelle selon*** et créer des règles de mise à l'échelle automatique de votre ASP basées sur le pourcentage UC ou vous pouvez créer des règles plus complexes à l'aide des ***règles de performances et de planification***.</span><span class="sxs-lookup"><span data-stu-id="7257f-134">You can select ***CPU Percentage*** under ***Scale by*** and create autoscale rules for your ASP based on CPU Percentage or you can create more complex rules using ***schedule and performance rules***.</span></span>  <span data-ttu-id="7257f-135">Pour plus d’informations sur la configuration de la mise à l’échelle automatique, utilisez le guide [Mise à l’échelle d’une application dans Azure App Service][AppScale].</span><span class="sxs-lookup"><span data-stu-id="7257f-135">To see more complete details on configuring autoscale use the guide here [Scale an app in Azure App Service][AppScale].</span></span> 

### <a name="worker-pool-selection"></a><span data-ttu-id="7257f-136">Sélection du pool de travaux</span><span class="sxs-lookup"><span data-stu-id="7257f-136">Worker Pool selection</span></span>
<span data-ttu-id="7257f-137">Comme indiqué précédemment, la sélection du pool de travaux s'effectue à partir de l'interface utilisateur du plan App Service (ASP).</span><span class="sxs-lookup"><span data-stu-id="7257f-137">As noted earlier, the worker pool selection is accessed from the ASP UI.</span></span>  <span data-ttu-id="7257f-138">Ouvrez le panneau de l'ASP que vous souhaitez mettre à l'échelle et sélectionnez le pool de travaux.</span><span class="sxs-lookup"><span data-stu-id="7257f-138">Open the blade for the ASP that you want to scale and select worker pool.</span></span>  <span data-ttu-id="7257f-139">Tous les pools de travaux que vous avez configurés dans votre environnement App Service s'affichent.</span><span class="sxs-lookup"><span data-stu-id="7257f-139">You will see all of the worker pools which you have configured in your App Service Environment.</span></span>  <span data-ttu-id="7257f-140">Si vous n'avez qu'un pool de travaux, lui seul apparaît.</span><span class="sxs-lookup"><span data-stu-id="7257f-140">If you have only one worker pool then you will only see the one pool listed.</span></span>  <span data-ttu-id="7257f-141">Pour modifier le pool de travaux dans lequel se trouve votre ASP, il suffit de sélectionner le pool de travaux vers lequel vous souhaitez déplacer votre plan App Service.</span><span class="sxs-lookup"><span data-stu-id="7257f-141">To change what worker pool your ASP is in, you simply select the worker pool you want your App Service Plan to move to.</span></span>  

![][3]

<span data-ttu-id="7257f-142">Avant de déplacer votre ASP à partir d'un pool de travaux vers un autre, il est important de vous assurer que la capacité est adaptée pour votre ASP.</span><span class="sxs-lookup"><span data-stu-id="7257f-142">Before moving your ASP from one worker pool to another it is important to make sure you will have adequate capacity for your ASP.</span></span>  <span data-ttu-id="7257f-143">Dans la liste des pools de travaux, non seulement figure le nom du pool de travaux, mais également le nombre de travaux disponibles dans ce pool.</span><span class="sxs-lookup"><span data-stu-id="7257f-143">In the list of worker pools, not only is the worker pool name listed but you can also see how many workers are available in that worker pool.</span></span>  <span data-ttu-id="7257f-144">Veillez à ce qu'il y ait suffisamment d'instances disponibles pour contenir votre plan App Service.</span><span class="sxs-lookup"><span data-stu-id="7257f-144">Make sure that there are enough instances available to contain your App Service Plan.</span></span>  <span data-ttu-id="7257f-145">Si vous avez besoin de plus de ressources de calcul dans le pool de travaux vers lequel vous souhaitez déplacer votre plan, demandez à l'administrateur de votre environnement App Service de les ajouter.</span><span class="sxs-lookup"><span data-stu-id="7257f-145">If you need more compute resources in the worker pool you wish to move to, then get your ASE administrator to add them.</span></span>  

> [!NOTE]
> <span data-ttu-id="7257f-146">Le déplacement d’un ASP d’un pool de travaux entraîne le redémarrage à froid de vos applications dans cet ASP.</span><span class="sxs-lookup"><span data-stu-id="7257f-146">Moving an ASP from one worker pool will cause cold starts of the apps in that ASP.</span></span>  <span data-ttu-id="7257f-147">Cela peut provoquer le ralentissement de l’exécution des demandes, car votre application démarre à froid sur les nouvelles ressources de calcul.</span><span class="sxs-lookup"><span data-stu-id="7257f-147">This can cause requests to run slowly as your app is cold started on the new compute resources.</span></span>  <span data-ttu-id="7257f-148">Le démarrage à froid peut être évité en utilisant la [fonctionnalité de préchauffage des applications][AppWarmup] dans Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="7257f-148">The cold start can be avoided by using the [application warm up capability][AppWarmup] in Azure App Service.</span></span>  <span data-ttu-id="7257f-149">Le module Initialisation d’application décrit dans l’article fonctionne également pour les démarrages à froid, car le processus d'initialisation est également appelé lorsque les applications sont démarrées à froid sur les nouvelles ressources de calcul.</span><span class="sxs-lookup"><span data-stu-id="7257f-149">The Application Initialization module described in the article also works for cold starts because the initialization process is also invoked when apps are cold started on new compute resources.</span></span> 
> 
> 

## <a name="getting-started"></a><span data-ttu-id="7257f-150">Prise en main</span><span class="sxs-lookup"><span data-stu-id="7257f-150">Getting started</span></span>
<span data-ttu-id="7257f-151">Pour prendre en main les environnements App Service, consultez [Comment créer un environnement App Service][HowtoCreateASE]</span><span class="sxs-lookup"><span data-stu-id="7257f-151">To get started with App Service Environments, see [How To Create An App Service Environment][HowtoCreateASE]</span></span>

<span data-ttu-id="7257f-152">Pour plus d’informations sur la plateforme Azure App Service, consultez la rubrique [Azure App Service][AzureAppService].</span><span class="sxs-lookup"><span data-stu-id="7257f-152">For more information about the Azure App Service platform, see [Azure App Service][AzureAppService].</span></span>

<!--Image references-->
[1]: ./media/app-service-web-scale-a-web-app-in-an-app-service-environment/aseappscale-aspblade.png
[2]: ./media/app-service-web-scale-a-web-app-in-an-app-service-environment/aseappscale-manualscale.png
[3]: ./media/app-service-web-scale-a-web-app-in-an-app-service-environment/aseappscale-sizescale.png

<!--Links-->
[WhatisASE]: http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-intro/
[ScaleWebapp]: http://azure.microsoft.com/documentation/articles/web-sites-scale/
[HowtoCreateASE]: http://azure.microsoft.com/documentation/articles/app-service-web-how-to-create-an-app-service-environment/
[HowtoConfigureASE]: http://azure.microsoft.com/documentation/articles/app-service-web-configure-an-app-service-environment/
[CreateWebappinASE]: http://azure.microsoft.com/documentation/articles/app-service-web-how-to-create-a-web-app-in-an-ase/
[Appserviceplans]: http://azure.microsoft.com/documentation/articles/azure-web-sites-web-hosting-plans-in-depth-overview/
[AppServicePricing]: http://azure.microsoft.com/pricing/details/app-service/ 
[AzureAppService]: http://azure.microsoft.com/documentation/articles/app-service-value-prop-what-is/
[ASEAutoscale]: http://azure.microsoft.com/documentation/articles/app-service-environment-auto-scale/
[AppScale]: http://azure.microsoft.com/documentation/articles/web-sites-scale/
[AppWarmup]: http://ruslany.net/2015/09/how-to-warm-up-azure-web-app-during-deployment-slots-swap/
