---
title: "Importer et exporter des données dans le Cache Redis Azure | Microsoft Docs"
description: "Découvrez comment importer et exporter des données vers et depuis un stockage d’objets blob à l’aide de vos instances Premium de Cache Redis Azure"
services: redis-cache
documentationcenter: 
author: steved0x
manager: douge
editor: 
ms.assetid: 4a68ac38-87af-4075-adab-569d37d7cc9e
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 07/31/2017
ms.author: sdanie
ms.openlocfilehash: 5e6d731f0a1cecc1a191c74a45e37a9b94fd98ee
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/29/2017
---
# <a name="import-and-export-data-in-azure-redis-cache"></a><span data-ttu-id="83be0-103">Importer et exporter des données dans le Cache Redis Azure</span><span class="sxs-lookup"><span data-stu-id="83be0-103">Import and Export data in Azure Redis Cache</span></span>
<span data-ttu-id="83be0-104">L’Importation/Exportation est une opération de gestion de données de Cache Redis Azure qui vous permet d’importer ou d’exporter des données depuis ou vers le Cache Redis Azure, en important ou en exportant une capture instantanée de base de données du Cache Redis (RDB) depuis un cache Premium vers un objet blob dans un compte Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="83be0-104">Import/Export is an Azure Redis Cache data management operation, which allows you to import data into Azure Redis Cache or export data from Azure Redis Cache by importing and exporting a Redis Cache Database (RDB) snapshot from a premium cache to a blob in an Azure Storage Account.</span></span> 

- <span data-ttu-id="83be0-105">**Exportation** : vous pouvez exporter vos captures instantanées Azure Redis Cache RDB vers un objet blob de pages.</span><span class="sxs-lookup"><span data-stu-id="83be0-105">**Export** - you can export your Azure Redis Cache RDB snapshots to a Page Blob.</span></span>
- <span data-ttu-id="83be0-106">**Importation** : vous pouvez importer vos captures instantanées Redis Cache RDB à partir d’un objet blob de pages ou d’un objet blob de blocs.</span><span class="sxs-lookup"><span data-stu-id="83be0-106">**Import** - you can import your Redis Cache RDB snapshots from either a Page Blob or a Block Blob.</span></span>

<span data-ttu-id="83be0-107">L’Importation/Exportation vous permet de migrer entre différentes instances de Cache Redis Azure ou de remplir le cache de données avant utilisation.</span><span class="sxs-lookup"><span data-stu-id="83be0-107">Import/Export enables you to migrate between different Azure Redis Cache instances or populate the cache with data before use.</span></span>

<span data-ttu-id="83be0-108">Cet article fournit un guide pour l’importation et l’exportation de données avec le Cache Redis Azure et répond aux questions fréquemment posées.</span><span class="sxs-lookup"><span data-stu-id="83be0-108">This article provides a guide for importing and exporting data with Azure Redis Cache and provides the answers to commonly asked questions.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="83be0-109">Cette fonctionnalité est en version préliminaire et uniquement disponible pour les caches de [niveau Premium](cache-premium-tier-intro.md) .</span><span class="sxs-lookup"><span data-stu-id="83be0-109">Import/Export is in preview and is only available for [premium tier](cache-premium-tier-intro.md) caches.</span></span>
>
>

## <a name="import"></a><span data-ttu-id="83be0-110">Importer</span><span class="sxs-lookup"><span data-stu-id="83be0-110">Import</span></span>
<span data-ttu-id="83be0-111">L’importation peut servir à récupérer les fichiers RDB compatibles Redis depuis n’importe quel serveur Redis en cours d’exécution sur n’importe quel environnement ou cloud, y compris si Redis est exécuté sur Linux, Windows ou n’importe quel fournisseur de cloud tel qu’Amazon Web Services.</span><span class="sxs-lookup"><span data-stu-id="83be0-111">Import can be used to bring Redis compatible RDB files from any Redis server running in any cloud or environment, including Redis running on Linux, Windows, or any cloud provider such as Amazon Web Services and others.</span></span> <span data-ttu-id="83be0-112">Importer des données est un moyen simple de créer un cache pré-rempli de données.</span><span class="sxs-lookup"><span data-stu-id="83be0-112">Importing data is an easy way to create a cache with pre-populated data.</span></span> <span data-ttu-id="83be0-113">Pendant le processus d’importation, le Cache Azure Redis charge les fichiers RDB d’Azure Storage dans la mémoire, puis insère les clés dans le cache.</span><span class="sxs-lookup"><span data-stu-id="83be0-113">During the import process, Azure Redis Cache loads the RDB files from Azure storage into memory and then inserts the keys into the cache.</span></span>

> [!NOTE]
> <span data-ttu-id="83be0-114">Avant de commencer l’opération d’importation, vérifiez que le ou les fichier(s) de votre base de données Redis (RDB) sont téléchargés vers des objets blob de pages ou de blocs dans Azure Storage, dans les mêmes région et abonnement que votre instance de Cache Redis Azure.</span><span class="sxs-lookup"><span data-stu-id="83be0-114">Before beginning the import operation, ensure that your Redis Database (RDB) file or files are uploaded into page or block blobs in Azure storage, in the same region and subscription as your Azure Redis Cache instance.</span></span> <span data-ttu-id="83be0-115">Pour plus d’informations, consultez l’article [Prise en main du stockage d’objets blob Azure](../storage/blobs/storage-dotnet-how-to-use-blobs.md).</span><span class="sxs-lookup"><span data-stu-id="83be0-115">For more information, see [Get started with Azure Blob storage](../storage/blobs/storage-dotnet-how-to-use-blobs.md).</span></span> <span data-ttu-id="83be0-116">Si vous avez exporté votre fichier RDB à l’aide de la fonctionnalité [Azure Redis Cache Export](#export) (Exportation Azure Redis Cache), votre fichier RDB est déjà stocké dans un objet blob de pages et est prêt pour l’importation.</span><span class="sxs-lookup"><span data-stu-id="83be0-116">If you exported your RDB file using the [Azure Redis Cache Export](#export) feature, your RDB file is already stored in a page blob and is ready for importing.</span></span>
>
>

1. <span data-ttu-id="83be0-117">Pour importer un ou plusieurs objets blob de cache exportés, [accédez à votre cache](cache-configure.md#configure-redis-cache-settings) dans le portail Azure et cliquez sur **Importer des données** dans le **menu Ressource**.</span><span class="sxs-lookup"><span data-stu-id="83be0-117">To import one or more exported cache blobs, [browse to your cache](cache-configure.md#configure-redis-cache-settings) in the Azure portal and click **Import data** from the **Resource menu**.</span></span>

    ![Importer des données][cache-import-data]
2. <span data-ttu-id="83be0-119">Cliquez sur **Choisir un ou plusieurs objets blob** et sélectionnez le compte de stockage contenant les données à importer.</span><span class="sxs-lookup"><span data-stu-id="83be0-119">Click **Choose Blob(s)** and select the storage account that contains the data to import.</span></span>

    ![Sélection d'un compte de stockage][cache-import-choose-storage-account]
3. <span data-ttu-id="83be0-121">Cliquez sur le conteneur des données à importer.</span><span class="sxs-lookup"><span data-stu-id="83be0-121">Click the container that contains the data to import.</span></span>

    ![Sélection d’un conteneur][cache-import-choose-container]
4. <span data-ttu-id="83be0-123">Sélectionnez un ou plusieurs objets blob à importer en cliquant sur la zone située à gauche de leurs noms, puis cliquez sur **Sélectionnez**.</span><span class="sxs-lookup"><span data-stu-id="83be0-123">Select one or more blobs to import by clicking the area to the left of the blob name, and then click **Select**.</span></span>

    ![Sélection d’objets blob][cache-import-choose-blobs]
5. <span data-ttu-id="83be0-125">Cliquez sur **Importer** pour commencer le processus d’importation.</span><span class="sxs-lookup"><span data-stu-id="83be0-125">Click **Import** to begin the import process.</span></span>

   > [!IMPORTANT]
   > <span data-ttu-id="83be0-126">Pendant le processus d’importation, le cache n’est pas accessible par les clients de cache, et toutes les données existantes dans le cache sont supprimées.</span><span class="sxs-lookup"><span data-stu-id="83be0-126">The cache is not accessible by cache clients during the import process, and any existing data in the cache is deleted.</span></span>
   >
   >

    ![Importer][cache-import-blobs]

    <span data-ttu-id="83be0-128">Vous pouvez surveiller la progression de l’importation grâce aux notifications du portail Azure ou aux événements dans le [journal d’audit](../azure-resource-manager/resource-group-audit.md).</span><span class="sxs-lookup"><span data-stu-id="83be0-128">You can monitor the progress of the import operation by following the notifications from the Azure portal, or by viewing the events in the [audit log](../azure-resource-manager/resource-group-audit.md).</span></span>

    ![Progression de l’importation][cache-import-data-import-complete]

## <a name="export"></a><span data-ttu-id="83be0-130">Exportation</span><span class="sxs-lookup"><span data-stu-id="83be0-130">Export</span></span>
<span data-ttu-id="83be0-131">L’exportation vous permet d’exporter les données stockées dans le Cache Azure Redis vers un ou plusieurs fichiers RDB compatibles.</span><span class="sxs-lookup"><span data-stu-id="83be0-131">Export allows you to export the data stored in Azure Redis Cache to Redis compatible RDB file(s).</span></span> <span data-ttu-id="83be0-132">Vous pouvez utiliser cette fonctionnalité pour déplacer des données d’une instance de Cache Redis Azure à une autre, ou vers un autre serveur Redis.</span><span class="sxs-lookup"><span data-stu-id="83be0-132">You can use this feature to move data from one Azure Redis Cache instance to another or to another Redis server.</span></span> <span data-ttu-id="83be0-133">Pendant le processus d’exportation, un fichier temporaire est créé sur la machine virtuelle qui héberge l’instance de serveur de Cache Redis Azure, puis téléchargé vers le compte de stockage désigné.</span><span class="sxs-lookup"><span data-stu-id="83be0-133">During the export process, a temporary file is created on the VM that hosts the Azure Redis Cache server instance, and the file is uploaded to the designated storage account.</span></span> <span data-ttu-id="83be0-134">Lorsque l’opération d’exportation se termine avec un état de réussite ou d’échec, le fichier temporaire est supprimé.</span><span class="sxs-lookup"><span data-stu-id="83be0-134">When the export operation completes with either a status of success or failure, the temporary file is deleted.</span></span>

1. <span data-ttu-id="83be0-135">Pour exporter le contenu actuel du cache vers un espace de stockage, [accédez à votre cache](cache-configure.md#configure-redis-cache-settings) dans le portail Azure, puis cliquez sur **Exporter des données** à partir du **Menu Ressource**.</span><span class="sxs-lookup"><span data-stu-id="83be0-135">To export the current contents of the cache to storage, [browse to your cache](cache-configure.md#configure-redis-cache-settings) in the Azure portal and click **Export data** from the **Resource menu**.</span></span>

    ![Choisir un conteneur de stockage][cache-export-data-choose-storage-container]
2. <span data-ttu-id="83be0-137">Cliquez sur **Choisir un conteneur de stockage** et sélectionnez le compte de stockage souhaité.</span><span class="sxs-lookup"><span data-stu-id="83be0-137">Click **Choose Storage Container** and select the desired storage account.</span></span> <span data-ttu-id="83be0-138">Le compte de stockage doit être situé dans les mêmes région et abonnement que votre cache.</span><span class="sxs-lookup"><span data-stu-id="83be0-138">The storage account must be in the same subscription and region as your cache.</span></span>

   > [!IMPORTANT]
   > <span data-ttu-id="83be0-139">La fonctionnalité Exportation fonctionne avec les objets blob de pages, qui sont pris en charge par les comptes de stockage Resource Manager et classiques, mais pas par les [comptes de stockage d’objets Blob](../storage/blobs/storage-blob-storage-tiers.md#blob-storage-accounts) pour l’instant.</span><span class="sxs-lookup"><span data-stu-id="83be0-139">Export works with page blobs, which are supported by both classic and Resource Manager storage accounts, but are not supported by [Blob storage accounts](../storage/blobs/storage-blob-storage-tiers.md#blob-storage-accounts) at this time.</span></span>
   >
   >

    ![Compte de stockage][cache-export-data-choose-account]
3. <span data-ttu-id="83be0-141">Choisissez le conteneur d’objets blob souhaité et cliquez sur **Sélectionnez**.</span><span class="sxs-lookup"><span data-stu-id="83be0-141">Choose the desired blob container and click **Select**.</span></span> <span data-ttu-id="83be0-142">Pour utiliser un nouveau conteneur, cliquez sur **Ajouter un conteneur** , puis sélectionnez-le dans la liste.</span><span class="sxs-lookup"><span data-stu-id="83be0-142">To use new a container, click **Add Container** to add it first and then select it from the list.</span></span>

    ![Choisir un conteneur de stockage][cache-export-data-container]
4. <span data-ttu-id="83be0-144">Tapez un **préfixe de nom d’objet blob** et cliquez sur **Exporter** pour lancer le processus d’exportation.</span><span class="sxs-lookup"><span data-stu-id="83be0-144">Type a **Blob name prefix** and click **Export** to start the export process.</span></span> <span data-ttu-id="83be0-145">Le préfixe de nom d’objet blob est utilisé pour préfixer les noms des fichiers générés par cette opération d’exportation.</span><span class="sxs-lookup"><span data-stu-id="83be0-145">The blob name prefix is used to prefix the names of files generated by this export operation.</span></span>

    ![Exportation][cache-export-data]

    <span data-ttu-id="83be0-147">Vous pouvez surveiller la progression de l’exportation grâce aux notifications du portail Azure ou aux événements du [journal d’audit](../azure-resource-manager/resource-group-audit.md).</span><span class="sxs-lookup"><span data-stu-id="83be0-147">You can monitor the progress of the export operation by following the notifications from the Azure portal, or by viewing the events in the [audit log](../azure-resource-manager/resource-group-audit.md).</span></span>

    ![Exportation des données terminées][cache-export-data-export-complete]

    <span data-ttu-id="83be0-149">Les caches restent disponibles pendant le processus d’exportation.</span><span class="sxs-lookup"><span data-stu-id="83be0-149">Caches remain available for use during the export process.</span></span>

## <a name="importexport-faq"></a><span data-ttu-id="83be0-150">FAQ sur l’Importation/Exportation</span><span class="sxs-lookup"><span data-stu-id="83be0-150">Import/Export FAQ</span></span>
<span data-ttu-id="83be0-151">Cette section contient les questions fréquemment posées sur la fonctionnalité d’Importation/Exportation.</span><span class="sxs-lookup"><span data-stu-id="83be0-151">This section contains frequently asked questions about the Import/Export feature.</span></span>

* [<span data-ttu-id="83be0-152">Quels niveaux de tarification permettent d’utiliser l’Importation/Exportation ?</span><span class="sxs-lookup"><span data-stu-id="83be0-152">What pricing tiers can use Import/Export?</span></span>](#what-pricing-tiers-can-use-importexport)
* [<span data-ttu-id="83be0-153">Puis-je importer des données à partir de n’importe quel serveur Redis ?</span><span class="sxs-lookup"><span data-stu-id="83be0-153">Can I import data from any Redis server?</span></span>](#can-i-import-data-from-any-redis-server)
* [<span data-ttu-id="83be0-154">Quelles versions RDB puis-je importer ?</span><span class="sxs-lookup"><span data-stu-id="83be0-154">What RDB versions can I import?</span></span>](#what-rdb-versions-can-i-import)
* [<span data-ttu-id="83be0-155">Mon cache est-il disponible pendant une opération d’Importation/Exportation ?</span><span class="sxs-lookup"><span data-stu-id="83be0-155">Is my cache available during an Import/Export operation?</span></span>](#is-my-cache-available-during-an-importexport-operation)
* [<span data-ttu-id="83be0-156">Puis-je utiliser l’Importation/Exportation avec le cluster Redis ?</span><span class="sxs-lookup"><span data-stu-id="83be0-156">Can I use Import/Export with Redis cluster?</span></span>](#can-i-use-importexport-with-redis-cluster)
* [<span data-ttu-id="83be0-157">Comment l’importation/exportation fonctionne avec un paramètre de base de données personnalisé ?</span><span class="sxs-lookup"><span data-stu-id="83be0-157">How does Import/Export work with a custom databases setting?</span></span>](#how-does-importexport-work-with-a-custom-databases-setting)
* [<span data-ttu-id="83be0-158">En quoi l’Importation/Exportation est-elle différente de la persistance Redis ?</span><span class="sxs-lookup"><span data-stu-id="83be0-158">How is Import/Export different from Redis persistence?</span></span>](#how-is-importexport-different-from-redis-persistence)
* [<span data-ttu-id="83be0-159">Puis-je automatiser l’Importation/Exportation à l’aide de PowerShell, de CLI ou d’autres clients de gestion ?</span><span class="sxs-lookup"><span data-stu-id="83be0-159">Can I automate Import/Export using PowerShell, CLI, or other management clients?</span></span>](#can-i-automate-importexport-using-powershell-cli-or-other-management-clients)
* [<span data-ttu-id="83be0-160">J’ai reçu une erreur de délai d’attente pendant mon opération d’importation/exportation. Qu’est-ce que cela signifie ?</span><span class="sxs-lookup"><span data-stu-id="83be0-160">I received a timeout error during my Import/Export operation. What does it mean?</span></span>](#i-received-a-timeout-error-during-my-importexport-operation-what-does-it-mean)
* [<span data-ttu-id="83be0-161">J’ai obtenu une erreur en exportant mes données vers un stockage d’objets blob Azure. Que s’est-il passé ?</span><span class="sxs-lookup"><span data-stu-id="83be0-161">I got an error when exporting my data to Azure Blob Storage. What happened?</span></span>](#i-got-an-error-when-exporting-my-data-to-azure-blob-storage-what-happened)

### <a name="what-pricing-tiers-can-use-importexport"></a><span data-ttu-id="83be0-162">Quels niveaux de tarification permettent d’utiliser l’Importation/Exportation ?</span><span class="sxs-lookup"><span data-stu-id="83be0-162">What pricing tiers can use Import/Export?</span></span>
<span data-ttu-id="83be0-163">L’Importation/Exportation n’est disponible que dans le niveau de tarification Premium.</span><span class="sxs-lookup"><span data-stu-id="83be0-163">Import/Export is available only in the premium pricing tier.</span></span>

### <a name="can-i-import-data-from-any-redis-server"></a><span data-ttu-id="83be0-164">Puis-je importer des données à partir de n’importe quel serveur Redis ?</span><span class="sxs-lookup"><span data-stu-id="83be0-164">Can I import data from any Redis server?</span></span>
<span data-ttu-id="83be0-165">Oui, en plus des données exportées à partir d’instances de Cache Redis Azure, vous pouvez importer des fichiers RDB à partir de n’importe quel serveur Redis en cours d’exécution sur n’importe quel environnement ou cloud, tels que Linux, Windows ou tout autre fournisseur de cloud tel qu’Amazon Web Services.</span><span class="sxs-lookup"><span data-stu-id="83be0-165">Yes, in addition to importing data exported from Azure Redis Cache instances, you can import RDB files from any Redis server running in any cloud or environment, such as Linux, Windows, or cloud providers such as Amazon Web Services.</span></span> <span data-ttu-id="83be0-166">Pour ce faire, téléchargez le fichier RDB à partir du serveur Redis souhaité dans un objet blob de pages ou de blocs d’un compte Azure Storage, puis importez-le dans votre instance Premium de Cache Redis.</span><span class="sxs-lookup"><span data-stu-id="83be0-166">To do this, upload the RDB file from the desired Redis server into a page or block blob in an Azure Storage Account, and then import it into your premium Azure Redis Cache instance.</span></span> <span data-ttu-id="83be0-167">Vous pouvez par exemple exporter les données de votre cache de production et les importer vers un cache faisant partie d’un environnement intermédiaire, à des fins de test ou de migration.</span><span class="sxs-lookup"><span data-stu-id="83be0-167">For example, you may want to export the data from your production cache and import it into a cache used as part of a staging environment for testing or migration.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="83be0-168">Pour importer correctement des données exportées à partir de serveurs Redis autres que le Cache Redis Azure lors de l’utilisation d’un objet blob de pages, la taille de l’objet blob de pages doit être alignée sur une limite de 512 octets.</span><span class="sxs-lookup"><span data-stu-id="83be0-168">To successfully import data exported from Redis servers other than Azure Redis Cache when using a page blob, the page blob size must be aligned on a 512 byte boundary.</span></span> <span data-ttu-id="83be0-169">Pour que l’exemple de code exécute un remplissage d’octets, voir [Chargement d’un exemple de blog de pages](https://github.com/JimRoberts-MS/SamplePageBlobUpload).</span><span class="sxs-lookup"><span data-stu-id="83be0-169">For sample code to perform any required byte padding, see [Sample page blog upload](https://github.com/JimRoberts-MS/SamplePageBlobUpload).</span></span>
> 
> 

### <a name="what-rdb-versions-can-i-import"></a><span data-ttu-id="83be0-170">Quelles versions RDB puis-je importer ?</span><span class="sxs-lookup"><span data-stu-id="83be0-170">What RDB versions can I import?</span></span>

<span data-ttu-id="83be0-171">Cache Redis Azure prend en charge l’importation RDB via la version 7 de RDB.</span><span class="sxs-lookup"><span data-stu-id="83be0-171">Azure Redis Cache supports RDB import up through RDB version 7.</span></span>

### <a name="is-my-cache-available-during-an-importexport-operation"></a><span data-ttu-id="83be0-172">Mon cache est-il disponible pendant une opération d’Importation/Exportation ?</span><span class="sxs-lookup"><span data-stu-id="83be0-172">Is my cache available during an Import/Export operation?</span></span>
* <span data-ttu-id="83be0-173">**Exporter** - Les caches restent disponibles et vous pouvez continuer à utiliser votre cache pendant une opération d’exportation.</span><span class="sxs-lookup"><span data-stu-id="83be0-173">**Export** - Caches remain available and you can continue to use your cache during an export operation.</span></span>
* <span data-ttu-id="83be0-174">**Importer** - Les caches deviennent indisponibles au démarrage d’une opération d’importation, puis redeviennent disponibles lorsqu’elle est terminée.</span><span class="sxs-lookup"><span data-stu-id="83be0-174">**Import** - Caches become unavailable when an import operation starts, and become available for use when the import operation completes.</span></span>

### <a name="can-i-use-importexport-with-redis-cluster"></a><span data-ttu-id="83be0-175">Puis-je utiliser l’Importation/Exportation avec le cluster Redis ?</span><span class="sxs-lookup"><span data-stu-id="83be0-175">Can I use Import/Export with Redis cluster?</span></span>
<span data-ttu-id="83be0-176">Oui, et vous pouvez importer/exporter des données entre un cache en cluster et un cache hors cluster.</span><span class="sxs-lookup"><span data-stu-id="83be0-176">Yes, and you can import/export between a clustered cache and a non-clustered cache.</span></span> <span data-ttu-id="83be0-177">Depuis que le cluster Redis [ne prend en charge que la base de données 0](cache-how-to-premium-clustering.md#do-i-need-to-make-any-changes-to-my-client-application-to-use-clustering), toutes les données de bases de données différentes de 0 ne sont pas importées.</span><span class="sxs-lookup"><span data-stu-id="83be0-177">Since Redis cluster [only supports database 0](cache-how-to-premium-clustering.md#do-i-need-to-make-any-changes-to-my-client-application-to-use-clustering), any data in databases other than 0 isn't imported.</span></span> <span data-ttu-id="83be0-178">Lorsque vous importez des données d’un cache en cluster, les clés sont redistribuées entre les partitions du cluster.</span><span class="sxs-lookup"><span data-stu-id="83be0-178">When clustered cache data is imported, the keys are redistributed among the shards of the cluster.</span></span>

### <a name="how-does-importexport-work-with-a-custom-databases-setting"></a><span data-ttu-id="83be0-179">Comment l’importation/exportation fonctionne avec un paramètre de base de données personnalisé ?</span><span class="sxs-lookup"><span data-stu-id="83be0-179">How does Import/Export work with a custom databases setting?</span></span>
<span data-ttu-id="83be0-180">Certains niveaux tarifaires sont associés à des [limites de bases de données](cache-configure.md#databases) différentes. Certains aspects doivent donc être pris en compte lors d’une importation si vous avez configuré une valeur personnalisée pour le paramètre `databases` lors de la création du cache.</span><span class="sxs-lookup"><span data-stu-id="83be0-180">Some pricing tiers have different [databases limits](cache-configure.md#databases), so there are some considerations when importing if you configured a custom value for the `databases` setting during cache creation.</span></span>

* <span data-ttu-id="83be0-181">Lorsque vous procédez à une importation vers un niveau tarifaire avec une priorité inférieure à `databases` par rapport au niveau à partir duquel vous effectuez l’exportation :</span><span class="sxs-lookup"><span data-stu-id="83be0-181">When importing to a pricing tier with a lower `databases` limit than the tier from which you exported:</span></span>
  * <span data-ttu-id="83be0-182">Si vous utilisez le nombre par défaut de `databases`, c’est-à-dire 16 pour tous les niveaux de tarification, vous ne perdrez aucune donnée.</span><span class="sxs-lookup"><span data-stu-id="83be0-182">If you are using the default number of `databases`, which is 16 for all pricing tiers, no data is lost.</span></span>
  * <span data-ttu-id="83be0-183">Si vous utilisez un nombre de `databases` personnalisé qui se situe dans les limites du niveau tarifaire vers lequel vous effectuez l’importation, vous ne perdrez aucune donnée.</span><span class="sxs-lookup"><span data-stu-id="83be0-183">If you are using a custom number of `databases` that falls within the limits for the tier to which you are importing, no data is lost.</span></span>
  * <span data-ttu-id="83be0-184">Si vos données exportées contenaient des données dans une base de données dépassant les limites du nouveau niveau, les données de ces bases de données plus élevées ne sont pas importées.</span><span class="sxs-lookup"><span data-stu-id="83be0-184">If your exported data contained data in a database that exceeds the limits of the new tier, the data from those higher databases is not imported.</span></span>

### <a name="how-is-importexport-different-from-redis-persistence"></a><span data-ttu-id="83be0-185">En quoi l’Importation/Exportation est-elle différente de la persistance Redis ?</span><span class="sxs-lookup"><span data-stu-id="83be0-185">How is Import/Export different from Redis persistence?</span></span>
<span data-ttu-id="83be0-186">La persistance du Cache Redis Azure vous permet de conserver dans Azure Storage les données stockées dans Redis.</span><span class="sxs-lookup"><span data-stu-id="83be0-186">Azure Redis Cache persistence allows you to persist data stored in Redis to Azure Storage.</span></span> <span data-ttu-id="83be0-187">Quand la persistance est configurée, le Cache Redis Azure conserve un instantané du cache Redis dans un format binaire Redis sur le disque selon une fréquence de sauvegarde configurable.</span><span class="sxs-lookup"><span data-stu-id="83be0-187">When persistence is configured, Azure Redis Cache persists a snapshot of the Redis cache in a Redis binary format to disk based on a configurable backup frequency.</span></span> <span data-ttu-id="83be0-188">Si un événement catastrophique se produit et provoque la désactivation du cache principal et du réplica, les données du cache sont automatiquement rétablies à l’aide de l’instantané le plus récent.</span><span class="sxs-lookup"><span data-stu-id="83be0-188">If a catastrophic event occurs that disables both the primary and replica cache, the cache data is restored automatically using the most recent snapshot.</span></span> <span data-ttu-id="83be0-189">Pour plus d’informations, voir [Comment configurer la persistance des données pour un Cache Redis Azure Premium](cache-how-to-premium-persistence.md).</span><span class="sxs-lookup"><span data-stu-id="83be0-189">For more information, see [How to configure data persistence for a Premium Azure Redis Cache](cache-how-to-premium-persistence.md).</span></span>

<span data-ttu-id="83be0-190">L’Importation/Exportation vous permet d’importer ou d’exporter des données vers ou depuis le Cache Redis Azure.</span><span class="sxs-lookup"><span data-stu-id="83be0-190">Import/ Export allows you to bring data into or export from Azure Redis Cache.</span></span> <span data-ttu-id="83be0-191">Elle ne configure pas la sauvegarde et restauration à l’aide de la persistance Redis.</span><span class="sxs-lookup"><span data-stu-id="83be0-191">It does not configure backup and restore using Redis persistence.</span></span>

### <a name="can-i-automate-importexport-using-powershell-cli-or-other-management-clients"></a><span data-ttu-id="83be0-192">Puis-je automatiser l’Importation/Exportation à l’aide de PowerShell, de CLI ou d’autres clients de gestion ?</span><span class="sxs-lookup"><span data-stu-id="83be0-192">Can I automate Import/Export using PowerShell, CLI, or other management clients?</span></span>
<span data-ttu-id="83be0-193">Oui, pour les instructions PowerShell, voir [Pour importer un cache Redis](cache-howto-manage-redis-cache-powershell.md#to-import-a-redis-cache) et [Pour exporter un cache Redis](cache-howto-manage-redis-cache-powershell.md#to-export-a-redis-cache).</span><span class="sxs-lookup"><span data-stu-id="83be0-193">Yes, for PowerShell instructions see [To import a Redis cache](cache-howto-manage-redis-cache-powershell.md#to-import-a-redis-cache) and [To export a Redis cache](cache-howto-manage-redis-cache-powershell.md#to-export-a-redis-cache).</span></span>

### <a name="i-received-a-timeout-error-during-my-importexport-operation-what-does-it-mean"></a><span data-ttu-id="83be0-194">J’ai reçu une erreur de délai d’attente pendant mon opération d’Importation/Exportation.</span><span class="sxs-lookup"><span data-stu-id="83be0-194">I received a timeout error during my Import/Export operation.</span></span> <span data-ttu-id="83be0-195">Qu’est-ce que cela signifie ?</span><span class="sxs-lookup"><span data-stu-id="83be0-195">What does it mean?</span></span>
<span data-ttu-id="83be0-196">Si vous restez sur le panneau **Importer des données** ou **Exporter des données** pendant plus de 15 minutes avant de lancer l’opération, vous recevez une erreur avec un message similaire à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="83be0-196">If you remain on the **Import data** or **Export data** blade for longer than 15 minutes before initiating the operation, you receive an error with an error message similar to the following example:</span></span>

    The request to import data into cache 'contoso55' failed with status 'error' and error 'One of the SAS URIs provided could not be used for the following reason: The SAS token end time (se) must be at least 1 hour from now and the start time (st), if given, must be at least 15 minutes in the past.

<span data-ttu-id="83be0-197">Pour résoudre ce problème, démarrez l’importation ou l’exportation avant que les 15 minutes ne se soient écoulées.</span><span class="sxs-lookup"><span data-stu-id="83be0-197">To resolve this, initiate the import or export operation before 15 minutes has elapsed.</span></span>

### <a name="i-got-an-error-when-exporting-my-data-to-azure-blob-storage-what-happened"></a><span data-ttu-id="83be0-198">J’ai obtenu une erreur en exportant mes données vers un stockage d’objets blob Azure.</span><span class="sxs-lookup"><span data-stu-id="83be0-198">I got an error when exporting my data to Azure Blob Storage.</span></span> <span data-ttu-id="83be0-199">Que s’est-il passé ?</span><span class="sxs-lookup"><span data-stu-id="83be0-199">What happened?</span></span>
<span data-ttu-id="83be0-200">L’exportation ne fonctionne qu’avec les fichiers RDB stockés sous la forme d’objets blob de pages.</span><span class="sxs-lookup"><span data-stu-id="83be0-200">Export works only with RDB files stored as page blobs.</span></span> <span data-ttu-id="83be0-201">Les autres types d’objets blob ne sont pas pris en charge pour l’instant, y compris les comptes de stockage d’objets blob de niveaux chaud et froid.</span><span class="sxs-lookup"><span data-stu-id="83be0-201">Other blob types are not currently supported, including blob storage accounts with hot and cool tiers.</span></span> <span data-ttu-id="83be0-202">Pour plus d’informations, consultez [Comptes de stockage Blob](../storage/blobs/storage-blob-storage-tiers.md#blob-storage-accounts).</span><span class="sxs-lookup"><span data-stu-id="83be0-202">For more information, see [Blob storage accounts](../storage/blobs/storage-blob-storage-tiers.md#blob-storage-accounts).</span></span>

## <a name="next-steps"></a><span data-ttu-id="83be0-203">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="83be0-203">Next steps</span></span>
<span data-ttu-id="83be0-204">Découvrez comment utiliser davantage de fonctionnalités de cache de niveau Premium.</span><span class="sxs-lookup"><span data-stu-id="83be0-204">Learn how to use more premium cache features.</span></span>

* [<span data-ttu-id="83be0-205">Introduction au niveau Premium du Cache Redis Azure</span><span class="sxs-lookup"><span data-stu-id="83be0-205">Introduction to the Azure Redis Cache Premium tier</span></span>](cache-premium-tier-intro.md)    

<!-- IMAGES -->
[cache-settings-import-export-menu]: ./media/cache-how-to-import-export-data/cache-settings-import-export-menu.png
[cache-export-data-choose-account]: ./media/cache-how-to-import-export-data/cache-export-data-choose-account.png
[cache-export-data-choose-storage-container]: ./media/cache-how-to-import-export-data/cache-export-data-choose-storage-container.png
[cache-export-data-container]: ./media/cache-how-to-import-export-data/cache-export-data-container.png
[cache-export-data-export-complete]: ./media/cache-how-to-import-export-data/cache-export-data-export-complete.png
[cache-export-data]: ./media/cache-how-to-import-export-data/cache-export-data.png
[cache-import-data]: ./media/cache-how-to-import-export-data/cache-import-data.png
[cache-import-choose-storage-account]: ./media/cache-how-to-import-export-data/cache-import-choose-storage-account.png
[cache-import-choose-container]: ./media/cache-how-to-import-export-data/cache-import-choose-container.png
[cache-import-choose-blobs]: ./media/cache-how-to-import-export-data/cache-import-choose-blobs.png
[cache-import-blobs]: ./media/cache-how-to-import-export-data/cache-import-blobs.png
[cache-import-data-import-complete]: ./media/cache-how-to-import-export-data/cache-import-data-import-complete.png
