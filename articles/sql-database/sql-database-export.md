---
title: "aaaExport un fichier BACPAC de tooa de base de données SQL Azure | Documents Microsoft"
description: "Exporter un fichier BACPAC SQL Azure de base de données tooa à l’aide de hello portail Azure"
services: sql-database
documentationcenter: 
author: CarlRabeler
manager: jhubbard
editor: 
ms.assetid: 41d63a97-37db-4e40-b652-77c2fd1c09b7
ms.service: sql-database
ms.custom: load & move data
ms.devlang: NA
ms.date: 06/15/2017
ms.author: carlrab
ms.workload: data-management
ms.topic: article
ms.tgt_pltfrm: NA
ms.openlocfilehash: cb3b4227318e0fd2114529c86c9792615fe7fd1f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="export-an-azure-sql-database-tooa-bacpac-file"></a><span data-ttu-id="348d7-103">Exporter un fichier BACPAC de tooa de base de données SQL Azure</span><span class="sxs-lookup"><span data-stu-id="348d7-103">Export an Azure SQL database tooa BACPAC file</span></span>

<span data-ttu-id="348d7-104">Lorsque vous devez tooexport une base de données d’archivage ou pour la plateforme de tooanother mobile, vous pouvez exporter tooa de schéma et les données de la base de données hello [BACPAC](https://msdn.microsoft.com/library/ee210546.aspx#Anchor_4) fichier.</span><span class="sxs-lookup"><span data-stu-id="348d7-104">When you need tooexport a database for archiving or for moving tooanother platform, you can export hello database schema and data tooa [BACPAC](https://msdn.microsoft.com/library/ee210546.aspx#Anchor_4) file.</span></span> <span data-ttu-id="348d7-105">Un fichier BACPAC est un fichier ZIP avec une extension de fichier BACPAC qui contient les métadonnées de hello et les données à partir d’une base de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="348d7-105">A BACPAC file is a ZIP file with an extension of BACPAC containing hello metadata and data from a SQL Server database.</span></span> <span data-ttu-id="348d7-106">Il peut être stocké dans le Stockage Blob Azure ou un stockage local dans un emplacement local, puis importé dans Azure SQL Database ou une installation locale SQL Server.</span><span class="sxs-lookup"><span data-stu-id="348d7-106">A BACPAC file can be stored in Azure blob storage or in local storage in an on-premises location and later imported back into Azure SQL Database or into a SQL Server on-premises installation.</span></span> 

> [!IMPORTANT] 
> <span data-ttu-id="348d7-107">L’exportation automatisée Azure SQL Database a été retirée le 1er mars 2017.</span><span class="sxs-lookup"><span data-stu-id="348d7-107">Azure SQL Database Automated Export was retired on March 1, 2017.</span></span> <span data-ttu-id="348d7-108">Vous pouvez utiliser [rétention de sauvegarde à long terme](sql-database-long-term-retention.md
) ou [Azure Automation](https://github.com/Microsoft/azure-docs-pr/blob/2461f706f8fc1150e69312098640c0676206a531/articles/automation/automation-intro.md) bases de données SQL d’archive tooperiodically à l’aide de PowerShell selon planification tooa de votre choix.</span><span class="sxs-lookup"><span data-stu-id="348d7-108">You can use [long-term backup retention](sql-database-long-term-retention.md
) or [Azure Automation](https://github.com/Microsoft/azure-docs-pr/blob/2461f706f8fc1150e69312098640c0676206a531/articles/automation/automation-intro.md) tooperiodically archive SQL databases using PowerShell according tooa schedule of your choice.</span></span> <span data-ttu-id="348d7-109">Pour obtenir un exemple, téléchargez hello [exemple de script PowerShell](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-automation-automated-export) à partir de Github.</span><span class="sxs-lookup"><span data-stu-id="348d7-109">For a sample, download hello [sample PowerShell script](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-automation-automated-export) from Github.</span></span>
>

## <a name="considerations-when-exporting-an-azure-sql-database"></a><span data-ttu-id="348d7-110">Considérations à prendre en compte lors de l’exportation d’une base de données SQL Azure</span><span class="sxs-lookup"><span data-stu-id="348d7-110">Considerations when exporting an Azure SQL database</span></span>

* <span data-ttu-id="348d7-111">Pour une exportation toobe cohérente, vous devez vous assurer qu’aucune activité d’écriture ne se produit lors de l’exportation de hello, ou que vous exportez à partir d’un [copie transactionnellement cohérente](sql-database-copy.md) de votre base de données SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="348d7-111">For an export toobe transactionally consistent, you must ensure either that no write activity is occurring during hello export, or that you are exporting from a [transactionally consistent copy](sql-database-copy.md) of your Azure SQL database.</span></span>
* <span data-ttu-id="348d7-112">Si vous exportez tooblob stockage, taille maximale de hello d’un fichier BACPAC est de 200 Go.</span><span class="sxs-lookup"><span data-stu-id="348d7-112">If you are exporting tooblob storage, hello maximum size of a BACPAC file is 200 GB.</span></span> <span data-ttu-id="348d7-113">tooarchive un fichier BACPAC plus volumineux, exportez toolocal stockage.</span><span class="sxs-lookup"><span data-stu-id="348d7-113">tooarchive a larger BACPAC file, export toolocal storage.</span></span>
* <span data-ttu-id="348d7-114">Exportation d’un stockage de premium de tooAzure de fichier BACPAC à l’aide de méthodes de hello présentées dans cet article n’est pas prise en charge.</span><span class="sxs-lookup"><span data-stu-id="348d7-114">Exporting a BACPAC file tooAzure premium storage using hello methods discussed in this article is not supported.</span></span>
* <span data-ttu-id="348d7-115">Si l’opération d’exportation à partir de la base de données SQL Azure hello dépasse 20 heures, il peut être annulé.</span><span class="sxs-lookup"><span data-stu-id="348d7-115">If hello export operation from Azure SQL Database exceeds 20 hours, it may be canceled.</span></span> <span data-ttu-id="348d7-116">tooincrease des performances lors de l’exportation, vous pouvez :</span><span class="sxs-lookup"><span data-stu-id="348d7-116">tooincrease performance during export, you can:</span></span>
  * <span data-ttu-id="348d7-117">Augmentez temporairement votre niveau de service.</span><span class="sxs-lookup"><span data-stu-id="348d7-117">Temporarily increase your service level.</span></span>
  * <span data-ttu-id="348d7-118">Cesser de tous les lire et écrire des activités lors de l’exportation de hello.</span><span class="sxs-lookup"><span data-stu-id="348d7-118">Cease all read and write activity during hello export.</span></span>
  * <span data-ttu-id="348d7-119">Utilisez un [index cluster](https://msdn.microsoft.com/library/ms190457.aspx) avec des valeurs non nulles sur toutes les tables de grande taille.</span><span class="sxs-lookup"><span data-stu-id="348d7-119">Use a [clustered index](https://msdn.microsoft.com/library/ms190457.aspx) with non-null values on all large tables.</span></span> <span data-ttu-id="348d7-120">Sans index cluster, une exportation peut échouer si elle dure plus de 6 à 12 heures.</span><span class="sxs-lookup"><span data-stu-id="348d7-120">Without clustered indexes, an export may fail if it takes longer than 6-12 hours.</span></span> <span data-ttu-id="348d7-121">Il s’agit, car le service d’exportation hello doit toocomplete une table entière de table analyse tootry tooexport.</span><span class="sxs-lookup"><span data-stu-id="348d7-121">This is because hello export service needs toocomplete a table scan tootry tooexport entire table.</span></span> <span data-ttu-id="348d7-122">Un toodetermine efficace si vos tables sont optimisés pour l’exportation est toorun **DBCC SHOW_STATISTICS** et assurez-vous que hello *RANGE_HI_KEY* n’est pas null et sa valeur est une bonne distribution.</span><span class="sxs-lookup"><span data-stu-id="348d7-122">A good way toodetermine if your tables are optimized for export is toorun **DBCC SHOW_STATISTICS** and make sure that hello *RANGE_HI_KEY* is not null and its value has good distribution.</span></span> <span data-ttu-id="348d7-123">Pour plus d’informations, consultez [DBCC SHOW_STATISTICS](https://msdn.microsoft.com/library/ms174384.aspx).</span><span class="sxs-lookup"><span data-stu-id="348d7-123">For details, see [DBCC SHOW_STATISTICS](https://msdn.microsoft.com/library/ms174384.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="348d7-124">Fichiers Bacpac n’est pas prévu toobe utilisé pour les opérations de sauvegarde et de restauration.</span><span class="sxs-lookup"><span data-stu-id="348d7-124">BACPACs are not intended toobe used for backup and restore operations.</span></span> <span data-ttu-id="348d7-125">La base de données SQL Azure crée automatiquement des sauvegardes pour chaque base de données utilisateur.</span><span class="sxs-lookup"><span data-stu-id="348d7-125">Azure SQL Database automatically creates backups for every user database.</span></span> <span data-ttu-id="348d7-126">Pour plus d’informations, consultez [Vue d’ensemble de la continuité de l’activité avec la base de données SQL Azure](sql-database-business-continuity.md) et [Découvrir les sauvegardes SQL Database](sql-database-automated-backups.md).</span><span class="sxs-lookup"><span data-stu-id="348d7-126">For details, see [Business Continuity Overview](sql-database-business-continuity.md) and [SQL Database backups](sql-database-automated-backups.md).</span></span>  
> 

## <a name="export-tooa-bacpac-file-using-hello-azure-portal"></a><span data-ttu-id="348d7-127">Exporter le fichier BACPAC tooa à l’aide de hello portail Azure</span><span class="sxs-lookup"><span data-stu-id="348d7-127">Export tooa BACPAC file using hello Azure portal</span></span>

<span data-ttu-id="348d7-128">une base de données à l’aide de tooexport hello [portail Azure](https://portal.azure.com), ouvrez la page hello pour votre base de données, cliquez sur **exporter** sur la barre d’outils hello.</span><span class="sxs-lookup"><span data-stu-id="348d7-128">tooexport a database using hello [Azure portal](https://portal.azure.com), open hello page for your database and click **Export** on hello toolbar.</span></span> <span data-ttu-id="348d7-129">Spécifiez le nom de fichier BACPAC hello et fournir le compte de stockage Azure hello et conteneur pour l’exportation de hello hello informations d’identification tooconnect toohello source de base de données.</span><span class="sxs-lookup"><span data-stu-id="348d7-129">Specify hello BACPAC filename, provide hello Azure storage account and container for hello export, and provide hello credentials tooconnect toohello source database.</span></span>  

![Exportation de base de données](./media/sql-database-export/database-export.png)

<span data-ttu-id="348d7-131">progression de hello toomonitor Hello l’opération d’exportation, ouvrez une page hello pour hello serveur logique contenant hello de base de données en cours d’exportation.</span><span class="sxs-lookup"><span data-stu-id="348d7-131">toomonitor hello progress of hello export operation, open hello page for hello logical server containing hello database being exported.</span></span> <span data-ttu-id="348d7-132">Faites défiler la liste trop**Operations** puis cliquez sur **Import/Export** l’historique.</span><span class="sxs-lookup"><span data-stu-id="348d7-132">Scroll down too**Operations** and then click **Import/Export** history.</span></span>

<span data-ttu-id="348d7-133">![exporter l’historique](./media/sql-database-export/export-history.png)
![exporter l’état de l’historique](./media/sql-database-export/export-history2.png)</span><span class="sxs-lookup"><span data-stu-id="348d7-133">![export history](./media/sql-database-export/export-history.png)
![export history status](./media/sql-database-export/export-history2.png)</span></span>

## <a name="export-tooa-bacpac-file-using-hello-sqlpackage-utility"></a><span data-ttu-id="348d7-134">Exporter le fichier BACPAC tooa à l’aide d’utilitaire de SQLPackage hello</span><span class="sxs-lookup"><span data-stu-id="348d7-134">Export tooa BACPAC file using hello SQLPackage utility</span></span>

<span data-ttu-id="348d7-135">tooexport SQL de base de données à l’aide de hello [SqlPackage](https://msdn.microsoft.com/library/hh550080.aspx) utilitaire de ligne de commande, consultez [exporter les paramètres et les propriétés](https://msdn.microsoft.com/library/hh550080.aspx#Export Parameters and Properties).</span><span class="sxs-lookup"><span data-stu-id="348d7-135">tooexport a SQL database using hello [SqlPackage](https://msdn.microsoft.com/library/hh550080.aspx) command-line utility, see [Export parameters and properties](https://msdn.microsoft.com/library/hh550080.aspx#Export Parameters and Properties).</span></span> <span data-ttu-id="348d7-136">Hello SQLPackage utilitaire est fourni avec les versions les plus récentes de hello [SQL Server Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) et [SQL Server Data Tools pour Visual Studio](https://msdn.microsoft.com/library/mt204009.aspx), ou vous pouvez télécharger la version la plus récente de hello [ SqlPackage](https://www.microsoft.com/download/details.aspx?id=53876) directement hello Microsoft Centre de téléchargement.</span><span class="sxs-lookup"><span data-stu-id="348d7-136">hello SQLPackage utility ships with hello latest versions of [SQL Server Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) and [SQL Server Data Tools for Visual Studio](https://msdn.microsoft.com/library/mt204009.aspx), or you can download hello latest version of [SqlPackage](https://www.microsoft.com/download/details.aspx?id=53876) directly from hello Microsoft download center.</span></span>

<span data-ttu-id="348d7-137">Nous vous recommandons d’utiliser hello Hello SQLPackage utilitaire pour l’évolutivité et de performances dans la plupart des environnements de production.</span><span class="sxs-lookup"><span data-stu-id="348d7-137">We recommend hello use of hello SQLPackage utility for scale and performance in most production environments.</span></span> <span data-ttu-id="348d7-138">Pour une équipe de consultants clients SQL Server à l’aide des fichiers BACPAC, consultez le blog sur la migration [migration à partir de SQL Server tooAzure de la base de données SQL à l’aide des fichiers BACPAC](https://blogs.msdn.microsoft.com/sqlcat/2016/10/20/migrating-from-sql-server-to-azure-sql-database-using-bacpac-files/).</span><span class="sxs-lookup"><span data-stu-id="348d7-138">For a SQL Server Customer Advisory Team blog about migrating using BACPAC files, see [Migrating from SQL Server tooAzure SQL Database using BACPAC Files](https://blogs.msdn.microsoft.com/sqlcat/2016/10/20/migrating-from-sql-server-to-azure-sql-database-using-bacpac-files/).</span></span>

<span data-ttu-id="348d7-139">Cet exemple montre comment tooexport une base de données à l’aide de SqlPackage.exe avec l’authentification universelle Active Directory :</span><span class="sxs-lookup"><span data-stu-id="348d7-139">This example shows how tooexport a database using SqlPackage.exe with Active Directory Universal Authentication:</span></span>

```cmd
SqlPackage.exe /a:Export /tf:testExport.bacpac /scs:"Data Source=apptestserver.database.windows.net;Initial Catalog=MyDB;" /ua:True /tid:"apptest.onmicrosoft.com"
```

## <a name="export-tooa-bacpac-file-using-sql-server-management-studio-ssms"></a><span data-ttu-id="348d7-140">Exporter le fichier BACPAC tooa à l’aide de SQL Server Management Studio (SSMS)</span><span class="sxs-lookup"><span data-stu-id="348d7-140">Export tooa BACPAC file using SQL Server Management Studio (SSMS)</span></span>

<span data-ttu-id="348d7-141">versions les plus récentes de SQL Server Management Studio Hello fournissent également un Assistant tooexport un fichier BACPAC de tooa de base de données SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="348d7-141">hello newest versions of SQL Server Management Studio also provide a wizard tooexport an Azure SQL Database tooa BACPAC file.</span></span> <span data-ttu-id="348d7-142">Consultez hello [exporter une Application de couche données](https://docs.microsoft.com/sql/relational-databases/data-tier-applications/export-a-data-tier-application).</span><span class="sxs-lookup"><span data-stu-id="348d7-142">See hello [Export a Data-tier Application](https://docs.microsoft.com/sql/relational-databases/data-tier-applications/export-a-data-tier-application).</span></span>

## <a name="export-tooa-bacpac-file-using-powershell"></a><span data-ttu-id="348d7-143">Exporter le fichier BACPAC tooa à l’aide de PowerShell</span><span class="sxs-lookup"><span data-stu-id="348d7-143">Export tooa BACPAC file using PowerShell</span></span>

<span data-ttu-id="348d7-144">Hello d’utilisation [New-AzureRmSqlDatabaseExport](/powershell/module/azurerm.sql/new-azurermsqldatabaseexport) toosubmit de l’applet de commande un toohello de demande exportation de base de données service de base de données SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="348d7-144">Use hello [New-AzureRmSqlDatabaseExport](/powershell/module/azurerm.sql/new-azurermsqldatabaseexport) cmdlet toosubmit an export database request toohello Azure SQL Database service.</span></span> <span data-ttu-id="348d7-145">Selon la taille de hello de votre base de données, l’opération d’exportation hello peut prendre quelques toocomplete de temps.</span><span class="sxs-lookup"><span data-stu-id="348d7-145">Depending on hello size of your database, hello export operation may take some time toocomplete.</span></span>

 ```powershell
 $exportRequest = New-AzureRmSqlDatabaseExport -ResourceGroupName $ResourceGroupName -ServerName $ServerName `
   -DatabaseName $DatabaseName -StorageKeytype $StorageKeytype -StorageKey $StorageKey -StorageUri $BacpacUri `
   -AdministratorLogin $creds.UserName -AdministratorLoginPassword $creds.Password
 ```

<span data-ttu-id="348d7-146">état de hello toocheck Hello demande d’exportation, utilisez hello [Get-AzureRmSqlDatabaseImportExportStatus](/powershell/module/azurerm.sql/get-azurermsqldatabaseimportexportstatus) applet de commande.</span><span class="sxs-lookup"><span data-stu-id="348d7-146">toocheck hello status of hello export request, use hello [Get-AzureRmSqlDatabaseImportExportStatus](/powershell/module/azurerm.sql/get-azurermsqldatabaseimportexportstatus) cmdlet.</span></span> <span data-ttu-id="348d7-147">Cela exécute immédiatement après hello demande généralement retourne **état : InProgress**.</span><span class="sxs-lookup"><span data-stu-id="348d7-147">Running this immediately after hello request usually returns **Status: InProgress**.</span></span> <span data-ttu-id="348d7-148">Lorsque vous consultez **état : a réussi** hello exportation est terminée.</span><span class="sxs-lookup"><span data-stu-id="348d7-148">When you see **Status: Succeeded** hello export is complete.</span></span>

```powershell
$exportStatus = Get-AzureRmSqlDatabaseImportExportStatus -OperationStatusLink $exportRequest.OperationStatusLink
[Console]::Write("Exporting")
while ($exportStatus.Status -eq "InProgress")
{
    $exportStatus = Get-AzureRmSqlDatabaseImportExportStatus -OperationStatusLink $exportRequest.OperationStatusLink
    [Console]::Write(".")
    Start-Sleep -s 10
}
[Console]::WriteLine("")
$exportStatus
```

## <a name="next-steps"></a><span data-ttu-id="348d7-149">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="348d7-149">Next steps</span></span>

* <span data-ttu-id="348d7-150">toolearn sur la rétention de sauvegarde à long terme d’une sauvegarde de base de données SQL Azure en tant qu’une autre tooexported une base de données à des fins d’archivage, consultez [rétention de sauvegarde à long terme](sql-database-long-term-retention.md).</span><span class="sxs-lookup"><span data-stu-id="348d7-150">toolearn about long-term backup retention of an Azure SQL database backup as an alternative tooexported a database for archive purposes, see [Long-term backup retention](sql-database-long-term-retention.md).</span></span>
- <span data-ttu-id="348d7-151">Pour une équipe de consultants clients SQL Server à l’aide des fichiers BACPAC, consultez le blog sur la migration [migration à partir de SQL Server tooAzure de la base de données SQL à l’aide des fichiers BACPAC](https://blogs.msdn.microsoft.com/sqlcat/2016/10/20/migrating-from-sql-server-to-azure-sql-database-using-bacpac-files/).</span><span class="sxs-lookup"><span data-stu-id="348d7-151">For a SQL Server Customer Advisory Team blog about migrating using BACPAC files, see [Migrating from SQL Server tooAzure SQL Database using BACPAC Files](https://blogs.msdn.microsoft.com/sqlcat/2016/10/20/migrating-from-sql-server-to-azure-sql-database-using-bacpac-files/).</span></span>
* <span data-ttu-id="348d7-152">toolearn sur l’importation d’une base de données BACPAC tooa SQL Server, consultez [importer une base de données SQL Server de tooa BACPCAC](https://msdn.microsoft.com/library/hh710052.aspx).</span><span class="sxs-lookup"><span data-stu-id="348d7-152">toolearn about importing a BACPAC tooa SQL Server database, see [Import a BACPCAC tooa SQL Server database](https://msdn.microsoft.com/library/hh710052.aspx).</span></span>
* <span data-ttu-id="348d7-153">toolearn sur l’exportation d’un fichier BACPAC à partir d’une base de données SQL Server, consultez [exporter une Application de couche données](https://docs.microsoft.com/sql/relational-databases/data-tier-applications/export-a-data-tier-application) et [migrer votre première base de données](sql-database-migrate-your-sql-server-database.md).</span><span class="sxs-lookup"><span data-stu-id="348d7-153">toolearn about exporting a BACPAC from a SQL Server database, see [Export a Data-tier Application](https://docs.microsoft.com/sql/relational-databases/data-tier-applications/export-a-data-tier-application) and [Migrate your first database](sql-database-migrate-your-sql-server-database.md).</span></span>
* <span data-ttu-id="348d7-154">Si vous exportez à partir de SQL Server comme un tooAzure de toomigration prélude base de données SQL, consultez [migrer un tooAzure de base de données SQL Server de la base de données SQL](sql-database-cloud-migrate.md).</span><span class="sxs-lookup"><span data-stu-id="348d7-154">If you are exporting from SQL Server as a prelude toomigration tooAzure SQL Database, see [Migrate a SQL Server database tooAzure SQL Database](sql-database-cloud-migrate.md).</span></span>
