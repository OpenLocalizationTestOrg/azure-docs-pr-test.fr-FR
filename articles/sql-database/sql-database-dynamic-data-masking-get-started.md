---
title: "masquage des données dynamiques de base de données SQL aaaAzure | Documents Microsoft"
description: "Masquage dynamique des données de base de données SQL limite l’exposition des données sensibles en les masquant aux utilisateurs privilèges toonon"
services: sql-database
documentationcenter: 
author: ronitr
manager: jhubbard
editor: 
ms.assetid: 4b36d78e-7749-4f26-9774-eed1120a9182
ms.service: sql-database
ms.custom: security
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.date: 03/09/2017
ms.author: ronitr; ronmat
ms.openlocfilehash: 68b55128dc096f7e3dd0e5ed1427b39da5d64736
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="sql-database-dynamic-data-masking"></a><span data-ttu-id="ba429-103">Masquage de données dynamiques dans une base de données SQL</span><span class="sxs-lookup"><span data-stu-id="ba429-103">SQL Database dynamic data masking</span></span>

<span data-ttu-id="ba429-104">Masquage dynamique des données de base de données SQL limite l’exposition des données sensibles en les masquant aux utilisateurs privilèges toonon.</span><span class="sxs-lookup"><span data-stu-id="ba429-104">SQL Database dynamic data masking limits sensitive data exposure by masking it toonon-privileged users.</span></span> 

<span data-ttu-id="ba429-105">Masquage dynamique des données permet d’empêcher les données toosensitive de tout accès non autorisé en activant les clients toodesignate combien de tooreveal des données sensibles hello avec un impact minimal sur la couche d’application hello.</span><span class="sxs-lookup"><span data-stu-id="ba429-105">Dynamic data masking helps prevent unauthorized access toosensitive data by enabling customers toodesignate how much of hello sensitive data tooreveal with minimal impact on hello application layer.</span></span> <span data-ttu-id="ba429-106">Il s’agit d’une fonctionnalité basée sur des stratégies de sécurité qui masque les données sensibles hello hello jeu de résultats d’une requête sur des champs de base de données désignée données hello hello de base de données ne sont pas modifiées.</span><span class="sxs-lookup"><span data-stu-id="ba429-106">It’s a policy-based security feature that hides hello sensitive data in hello result set of a query over designated database fields, while hello data in hello database is not changed.</span></span>

<span data-ttu-id="ba429-107">Par exemple, un représentant du service à un centre d’appels peut identifier des appelants par quelques chiffres de leur numéro de carte de crédit, mais ces éléments ne doivent pas être entièrement les données exposées toohello représentant du service.</span><span class="sxs-lookup"><span data-stu-id="ba429-107">For example, a service representative at a call center may identify callers by several digits of their credit card number, but those data items should not be fully exposed toohello service representative.</span></span> <span data-ttu-id="ba429-108">Une règle de masquage peut être définie que tous les masques de mais hello les quatre derniers chiffres de n’importe quel numéro de carte de crédit dans le jeu de résultats hello de toutes les requêtes.</span><span class="sxs-lookup"><span data-stu-id="ba429-108">A masking rule can be defined that masks all but hello last four digits of any credit card number in hello result set of any query.</span></span> <span data-ttu-id="ba429-109">Autre exemple, un masque de données approprié peut être défini tooprotect informations d’identification personnelle (PII) données, afin qu’un développeur peut interroger les environnements de production aux fins de dépannage sans violer les réglementations de conformité.</span><span class="sxs-lookup"><span data-stu-id="ba429-109">As another example, an appropriate data mask can be defined tooprotect personally identifiable information (PII) data, so that a developer can query production environments for troubleshooting purposes without violating compliance regulations.</span></span>

## <a name="sql-database-dynamic-data-masking-basics"></a><span data-ttu-id="ba429-110">Principes fondamentaux du masquage de données dynamiques de base de données SQL</span><span class="sxs-lookup"><span data-stu-id="ba429-110">SQL Database dynamic data masking basics</span></span>
<span data-ttu-id="ba429-111">Permet de paramétrer une stratégie Bonjour de masquage dynamique des données portail Azure en sélectionnant hello masquage dynamique des données opération dans votre Panneau de configuration de base de données SQL ou le panneau des paramètres.</span><span class="sxs-lookup"><span data-stu-id="ba429-111">You set up a dynamic data masking policy in hello Azure portal by selecting hello dynamic data masking operation in your SQL Database configuration blade or settings blade.</span></span>

### <a name="dynamic-data-masking-permissions"></a><span data-ttu-id="ba429-112">Autorisations du masquage des données dynamiques</span><span class="sxs-lookup"><span data-stu-id="ba429-112">Dynamic data masking permissions</span></span>
<span data-ttu-id="ba429-113">Masquage dynamique des données peuvent être configuré par l’administrateur de base de données Azure hello, un administrateur de serveur ou des rôles de responsable de la sécurité.</span><span class="sxs-lookup"><span data-stu-id="ba429-113">Dynamic data masking can be configured by hello Azure Database admin, server admin, or security officer roles.</span></span>

### <a name="dynamic-data-masking-policy"></a><span data-ttu-id="ba429-114">Stratégie de masquage des données dynamiques</span><span class="sxs-lookup"><span data-stu-id="ba429-114">Dynamic data masking policy</span></span>
* <span data-ttu-id="ba429-115">**Utilisateurs SQL exclus du masquage** : ensemble d’utilisateurs de SQL ou résultats de la requête identités AAD qui obtiennent des données non masquées Bonjour SQL.</span><span class="sxs-lookup"><span data-stu-id="ba429-115">**SQL users excluded from masking** - A set of SQL users or AAD identities that get unmasked data in hello SQL query results.</span></span> <span data-ttu-id="ba429-116">Les utilisateurs disposant des privilèges d’administrateur sont toujours exclus du masquage et voir les données d’origine de salutation sans un masque.</span><span class="sxs-lookup"><span data-stu-id="ba429-116">Users with administrator privileges are always excluded from masking, and see hello original data without any mask.</span></span>
* <span data-ttu-id="ba429-117">**Règles de masquage** -un ensemble de règles qui définissent hello désigné toobe de champs masqué et hello masquage de fonction qui est utilisée.</span><span class="sxs-lookup"><span data-stu-id="ba429-117">**Masking rules** - A set of rules that define hello designated fields toobe masked and hello masking function that is used.</span></span> <span data-ttu-id="ba429-118">Hello désigné des champs peut être défini à l’aide d’un nom de schéma de base de données, le nom de la table et le nom de la colonne.</span><span class="sxs-lookup"><span data-stu-id="ba429-118">hello designated fields can be defined using a database schema name, table name, and column name.</span></span>
* <span data-ttu-id="ba429-119">**Fonctions de masquage** -un ensemble de méthodes qui contrôlent l’exposition de hello de données pour différents scénarios.</span><span class="sxs-lookup"><span data-stu-id="ba429-119">**Masking functions** - A set of methods that control hello exposure of data for different scenarios.</span></span>

| <span data-ttu-id="ba429-120">Fonction de masquage</span><span class="sxs-lookup"><span data-stu-id="ba429-120">Masking Function</span></span> | <span data-ttu-id="ba429-121">Logique de masquage</span><span class="sxs-lookup"><span data-stu-id="ba429-121">Masking Logic</span></span> |
| --- | --- |
| <span data-ttu-id="ba429-122">**Par défaut**</span><span class="sxs-lookup"><span data-stu-id="ba429-122">**Default**</span></span> |<span data-ttu-id="ba429-123">**Complète des données toohello en fonction de masquage de types Hello désignés champs**</span><span class="sxs-lookup"><span data-stu-id="ba429-123">**Full masking according toohello data types of hello designated fields**</span></span><br/><br/><span data-ttu-id="ba429-124">• Utilisez XXXX ou moins de x si hello hello champ est inférieure à 4 caractères pour les types de données string (nchar, ntext, nvarchar).</span><span class="sxs-lookup"><span data-stu-id="ba429-124">• Use XXXX or fewer Xs if hello size of hello field is less than 4 characters for string data types (nchar, ntext, nvarchar).</span></span><br/><span data-ttu-id="ba429-125">• Utilisez la valeur zéro pour les types de données numériques (bigint, bit, decimal, int, money, numeric, smallint, smallmoney, tinyint, float, real).</span><span class="sxs-lookup"><span data-stu-id="ba429-125">• Use a zero value for numeric data types (bigint, bit, decimal, int, money, numeric, smallint, smallmoney, tinyint, float, real).</span></span><br/><span data-ttu-id="ba429-126">• Utilisez 01-01-1900 pour les types de données date/heure (date, datetime2, datetime, datetimeoffset, smalldatetime, time).</span><span class="sxs-lookup"><span data-stu-id="ba429-126">• Use 01-01-1900 for date/time data types (date, datetime2, datetime, datetimeoffset, smalldatetime, time).</span></span><br/><span data-ttu-id="ba429-127">• SQL variant, hello valeur par défaut de type en cours de hello est utilisé.</span><span class="sxs-lookup"><span data-stu-id="ba429-127">• For SQL variant, hello default value of hello current type is used.</span></span><br/><span data-ttu-id="ba429-128">• Pour du document XML hello <masked/> est utilisé.</span><span class="sxs-lookup"><span data-stu-id="ba429-128">• For XML hello document <masked/> is used.</span></span><br/><span data-ttu-id="ba429-129">• Utilisez une valeur vide pour les types de données spéciaux (table timestamp, hierarchyid, GUID, binary, image, varbinary spatial).</span><span class="sxs-lookup"><span data-stu-id="ba429-129">• Use an empty value for special data types (timestamp table, hierarchyid, GUID, binary, image, varbinary spatial types).</span></span> |
| <span data-ttu-id="ba429-130">**Carte de crédit**</span><span class="sxs-lookup"><span data-stu-id="ba429-130">**Credit card**</span></span> |<span data-ttu-id="ba429-131">**Méthode de masquage, qui expose hello les quatre derniers chiffres de hello désigné des champs** et ajoute une chaîne constante en tant que préfixe sous forme de hello d’une carte de crédit.</span><span class="sxs-lookup"><span data-stu-id="ba429-131">**Masking method, which exposes hello last four digits of hello designated fields** and adds a constant string as a prefix in hello form of a credit card.</span></span><br/><br/><span data-ttu-id="ba429-132">XXXX-XXXX-XXXX-1234</span><span class="sxs-lookup"><span data-stu-id="ba429-132">XXXX-XXXX-XXXX-1234</span></span> |
| <span data-ttu-id="ba429-133">**E-mail**</span><span class="sxs-lookup"><span data-stu-id="ba429-133">**Email**</span></span> |<span data-ttu-id="ba429-134">**Méthode de masquage, qui expose la première lettre de hello et remplace le domaine du hello avec XXX.com** à l’aide d’un préfixe de chaîne constante sous forme de hello d’une adresse de messagerie.</span><span class="sxs-lookup"><span data-stu-id="ba429-134">**Masking method, which exposes hello first letter and replaces hello domain with XXX.com** using a constant string prefix in hello form of an email address.</span></span><br/><br/>aXX@XXXX.com |
| <span data-ttu-id="ba429-135">**Nombre aléatoire**</span><span class="sxs-lookup"><span data-stu-id="ba429-135">**Random number**</span></span> |<span data-ttu-id="ba429-136">**Méthode de masquage, qui génère un nombre aléatoire** selon toohello sélectionné des limites et les types de données réelles.</span><span class="sxs-lookup"><span data-stu-id="ba429-136">**Masking method, which generates a random number** according toohello selected boundaries and actual data types.</span></span> <span data-ttu-id="ba429-137">Si hello désigné des limites est égal, hello fonction de masquage est un nombre constant.</span><span class="sxs-lookup"><span data-stu-id="ba429-137">If hello designated boundaries are equal, then hello masking function is a constant number.</span></span><br/><br/><span data-ttu-id="ba429-138">![Volet de navigation](./media/sql-database-dynamic-data-masking-get-started/1_DDM_Random_number.png)</span><span class="sxs-lookup"><span data-stu-id="ba429-138">![Navigation pane](./media/sql-database-dynamic-data-masking-get-started/1_DDM_Random_number.png)</span></span> |
| <span data-ttu-id="ba429-139">**Texte personnalisé**</span><span class="sxs-lookup"><span data-stu-id="ba429-139">**Custom text**</span></span> |<span data-ttu-id="ba429-140">**Méthode, qui expose hello premiers et derniers caractères de masquage** et ajoute une chaîne de remplissage personnalisée au milieu de hello.</span><span class="sxs-lookup"><span data-stu-id="ba429-140">**Masking method, which exposes hello first and last characters** and adds a custom padding string in hello middle.</span></span> <span data-ttu-id="ba429-141">Si la chaîne d’origine de hello est plus courte que suffixe et le préfixe de hello exposée, uniquement les hello chaîne de remplissage est utilisé.</span><span class="sxs-lookup"><span data-stu-id="ba429-141">If hello original string is shorter than hello exposed prefix and suffix, only hello padding string is used.</span></span> <br/><span data-ttu-id="ba429-142">préfixe[remplissage]suffixe</span><span class="sxs-lookup"><span data-stu-id="ba429-142">prefix[padding]suffix</span></span><br/><br/><span data-ttu-id="ba429-143">![Volet de navigation](./media/sql-database-dynamic-data-masking-get-started/2_DDM_Custom_text.png)</span><span class="sxs-lookup"><span data-stu-id="ba429-143">![Navigation pane](./media/sql-database-dynamic-data-masking-get-started/2_DDM_Custom_text.png)</span></span> |

<a name="Anchor1"></a>

### <a name="recommended-fields-toomask"></a><span data-ttu-id="ba429-144">Champs recommandés toomask</span><span class="sxs-lookup"><span data-stu-id="ba429-144">Recommended fields toomask</span></span>
<span data-ttu-id="ba429-145">Hello moteur de recommandations DDM, indicateurs de certains champs de votre base de données en tant que champs potentiellement sensibles, ce qui peuvent être de bons candidats pour les masques.</span><span class="sxs-lookup"><span data-stu-id="ba429-145">hello DDM recommendations engine, flags certain fields from your database as potentially sensitive fields, which may be good candidates for masking.</span></span> <span data-ttu-id="ba429-146">Dans Panneau de masquage dynamique des données la hello dans le portail de hello, vous verrez hello recommandé de colonnes de votre base de données.</span><span class="sxs-lookup"><span data-stu-id="ba429-146">In hello Dynamic Data Masking blade in hello portal, you will see hello recommended columns for your database.</span></span> <span data-ttu-id="ba429-147">Vous devez toodo est cliquez sur **ajouter un masque** pour une ou plusieurs colonnes, puis **enregistrer** tooapply un masque pour ces champs.</span><span class="sxs-lookup"><span data-stu-id="ba429-147">All you need toodo is click **Add Mask** for one or more columns and then **Save** tooapply a mask for these fields.</span></span>

## <a name="set-up-dynamic-data-masking-for-your-database-using-powershell-cmdlets"></a><span data-ttu-id="ba429-148">Configuration du masquage des données dynamiques pour votre base de données à l’aide des cmdlets Powershell</span><span class="sxs-lookup"><span data-stu-id="ba429-148">Set up dynamic data masking for your database using Powershell cmdlets</span></span>
<span data-ttu-id="ba429-149">Voir [Cmdlets de la base de données SQL Azure](https://msdn.microsoft.com/library/azure/mt574084.aspx).</span><span class="sxs-lookup"><span data-stu-id="ba429-149">See [Azure SQL Database Cmdlets](https://msdn.microsoft.com/library/azure/mt574084.aspx).</span></span>

## <a name="set-up-dynamic-data-masking-for-your-database-using-rest-api"></a><span data-ttu-id="ba429-150">Configuration du masquage des données dynamiques pour votre base de données à l’aide de l’API REST</span><span class="sxs-lookup"><span data-stu-id="ba429-150">Set up dynamic data masking for your database using REST API</span></span>
<span data-ttu-id="ba429-151">Voir [Opérations pour les bases de données SQL Azure](https://msdn.microsoft.com/library/dn505719.aspx).</span><span class="sxs-lookup"><span data-stu-id="ba429-151">See [Operations for Azure SQL Databases](https://msdn.microsoft.com/library/dn505719.aspx).</span></span>

