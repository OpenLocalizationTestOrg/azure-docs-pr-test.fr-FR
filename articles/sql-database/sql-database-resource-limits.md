---
title: "Limites de ressources d’Azure SQL Database | Microsoft Docs"
description: "Cette page décrit certaines limites de ressources courantes pour une base de données SQL Azure."
services: sql-database
documentationcenter: na
author: CarlRabeler
manager: jhubbard
editor: 
ms.assetid: 884e519f-23bb-4b73-a718-00658629646a
ms.service: sql-database
ms.custom: DBs & servers
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 07/12/2017
ms.author: carlrab
ms.openlocfilehash: e75458db79e6c15f8d5155b71f04a20fa21818ff
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/03/2017
---
# <a name="azure-sql-database-resource-limits"></a><span data-ttu-id="eca6e-103">Limites de ressources de base de données SQL Azure</span><span class="sxs-lookup"><span data-stu-id="eca6e-103">Azure SQL Database resource limits</span></span>
## <a name="overview"></a><span data-ttu-id="eca6e-104">Vue d’ensemble</span><span class="sxs-lookup"><span data-stu-id="eca6e-104">Overview</span></span>
<span data-ttu-id="eca6e-105">Azure SQL Database gère les ressources disponibles pour une base de données à l’aide de deux mécanismes différents : la **gouvernance des ressources** et l’**application de limites**.</span><span class="sxs-lookup"><span data-stu-id="eca6e-105">Azure SQL Database manages the resources available to a database using two different mechanisms: **Resources Governance** and **Enforcement of Limits**.</span></span> <span data-ttu-id="eca6e-106">Cette rubrique décrit ces deux domaines principaux de la gestion des ressources.</span><span class="sxs-lookup"><span data-stu-id="eca6e-106">This topic explains these two main areas of resource management.</span></span>

## <a name="resource-governance"></a><span data-ttu-id="eca6e-107">Gouvernance des ressources</span><span class="sxs-lookup"><span data-stu-id="eca6e-107">Resource governance</span></span>
<span data-ttu-id="eca6e-108">L’un des objectifs de conception des niveaux de service De base, Standard, Premium et Premium RS est qu’Azure SQL Database se comporte comme si la base de données s’exécutait sur sa propre machine, de façon isolée des autres bases de données.</span><span class="sxs-lookup"><span data-stu-id="eca6e-108">One of the design goals of the Basic, Standard, Premium, and Premium RS service tiers is for Azure SQL Database to behave as if the database is running on its own machine, isolated from other databases.</span></span> <span data-ttu-id="eca6e-109">La gouvernance des ressources émule ce comportement.</span><span class="sxs-lookup"><span data-stu-id="eca6e-109">Resource governance emulates this behavior.</span></span> <span data-ttu-id="eca6e-110">Si l’utilisation des ressources agrégées atteint les ressources maximales disponibles de processeur, de mémoire, d’E/S du journal et d’E/S des données affectées à la base de données, la gouvernance des données met en file d’attente les requêtes en exécution et affecte des ressources aux requêtes en file d’attente à mesure qu’elles se libèrent.</span><span class="sxs-lookup"><span data-stu-id="eca6e-110">If the aggregated resource utilization reaches the maximum available CPU, Memory, Log I/O, and Data I/O resources assigned to the database, resource governance queues queries in execution and assign resources to the queued queries as they free up.</span></span>

<span data-ttu-id="eca6e-111">Comme sur une machine dédiée, l’utilisation de toutes les ressources disponibles entraîne une exécution plus longue des requêtes en cours d’exécution, ce qui peut provoquer des expirations de commandes sur le client.</span><span class="sxs-lookup"><span data-stu-id="eca6e-111">As on a dedicated machine, utilizing all available resources results in a longer execution of currently executing queries, which can result in command timeouts on the client.</span></span> <span data-ttu-id="eca6e-112">Les applications avec la logique de nouvelle tentative agressive et les applications qui exécutent des requêtes sur la base de données avec une fréquence élevée peuvent rencontrer des messages d’erreur lorsque vous tentez d’exécuter de nouvelles requêtes et que la limite de demandes simultanées a été atteinte.</span><span class="sxs-lookup"><span data-stu-id="eca6e-112">Applications with aggressive retry logic and applications that execute queries against the database with a high frequency can encounter errors messages when trying to execute new queries when the limit of concurrent requests has been reached.</span></span>

### <a name="recommendations"></a><span data-ttu-id="eca6e-113">Recommandations :</span><span class="sxs-lookup"><span data-stu-id="eca6e-113">Recommendations:</span></span>
<span data-ttu-id="eca6e-114">Surveillez l’utilisation des ressources et les temps de réponse moyens des requêtes lorsque vous approchez de l’utilisation maximale d’une base de données.</span><span class="sxs-lookup"><span data-stu-id="eca6e-114">Monitor the resource utilization and the average response times of queries when nearing the maximum utilization of a database.</span></span> <span data-ttu-id="eca6e-115">Si vous rencontrez des latences de requête supérieures, généralement, trois options s’offrent à vous :</span><span class="sxs-lookup"><span data-stu-id="eca6e-115">When encountering higher query latencies you generally have three options:</span></span>

1. <span data-ttu-id="eca6e-116">Réduire le nombre de requêtes entrantes dans la base de données afin d’éviter l’expiration et l’accumulation de demandes.</span><span class="sxs-lookup"><span data-stu-id="eca6e-116">Reduce the number of incoming requests to the database to prevent timeout and the pile up of requests.</span></span>
2. <span data-ttu-id="eca6e-117">Affecter un niveau de performance supérieur à la base de données.</span><span class="sxs-lookup"><span data-stu-id="eca6e-117">Assign a higher performance level to the database.</span></span>
3. <span data-ttu-id="eca6e-118">Optimiser les requêtes pour réduire l’utilisation des ressources de chaque requête.</span><span class="sxs-lookup"><span data-stu-id="eca6e-118">Optimize queries to reduce the resource utilization of each query.</span></span> <span data-ttu-id="eca6e-119">Pour plus d’informations, consultez la section Analyse/Compréhension de requêtes de l’article Guide des performances de base de données SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="eca6e-119">For more information, see the Query Tuning/Hinting section in the Azure SQL Database Performance Guidance article.</span></span>

## <a name="enforcement-of-limits"></a><span data-ttu-id="eca6e-120">Application de limites</span><span class="sxs-lookup"><span data-stu-id="eca6e-120">Enforcement of limits</span></span>
<span data-ttu-id="eca6e-121">Les ressources autres que le processeur, la mémoire, les E/S de journal et les E/S de données sont appliquées en refusant les nouvelles demandes lorsque les limites sont atteintes.</span><span class="sxs-lookup"><span data-stu-id="eca6e-121">Resources other than CPU, Memory, Log I/O, and Data I/O are enforced by denying new requests when limits are reached.</span></span> <span data-ttu-id="eca6e-122">Lorsqu’une base de données atteint la limite de taille maximale configurée, les insertions et les mises à jour qui augmentent la taille des données échouent, tandis que les sélections et les suppressions continuent de fonctionner.</span><span class="sxs-lookup"><span data-stu-id="eca6e-122">When a database reaches the configured maximum size limit, inserts and updates that increase data size fail, while selects and deletes continue to work.</span></span> <span data-ttu-id="eca6e-123">Les clients reçoivent un [message d’erreur](sql-database-develop-error-messages.md) en fonction de la limite qui a été atteinte.</span><span class="sxs-lookup"><span data-stu-id="eca6e-123">Clients receive an [error message](sql-database-develop-error-messages.md) depending on the limit that has been reached.</span></span>

<span data-ttu-id="eca6e-124">Par exemple, le nombre de connexions à une base de données SQL et le nombre de demandes simultanées qui peuvent être traitées sont limités.</span><span class="sxs-lookup"><span data-stu-id="eca6e-124">For example, the number of connections to a SQL database and the number of concurrent requests that can be processed are restricted.</span></span> <span data-ttu-id="eca6e-125">La base de données SQL permet un nombre de connexions à la base de données supérieur au nombre de demandes simultanées afin de prendre en charge le groupement de connexions.</span><span class="sxs-lookup"><span data-stu-id="eca6e-125">SQL Database allows the number of connections to the database to be greater than the number of concurrent requests to support connection pooling.</span></span> <span data-ttu-id="eca6e-126">Si le nombre de connexions disponibles peut être facilement contrôlé par l’application, le nombre de demandes parallèles est souvent plus difficile à estimer et à contrôler.</span><span class="sxs-lookup"><span data-stu-id="eca6e-126">While the number of connections that are available can easily be controlled by the application, the number of parallel requests is often times harder to estimate and to control.</span></span> <span data-ttu-id="eca6e-127">Il est possible de rencontrer des erreurs notamment pendant les charges maximales, lorsque l’application envoie trop de demandes ou que la base de données atteint ses limites de ressources et commence à empiler les threads de travail en raison de l’exécution de requêtes plus longues.</span><span class="sxs-lookup"><span data-stu-id="eca6e-127">Especially during peak loads when the application either sends too many requests or the database reaches its resource limits and starts piling up worker threads due to longer running queries, errors can be encountered.</span></span>

## <a name="service-tiers-and-performance-levels"></a><span data-ttu-id="eca6e-128">Niveaux de service et niveaux de performances</span><span class="sxs-lookup"><span data-stu-id="eca6e-128">Service tiers and performance levels</span></span>
<span data-ttu-id="eca6e-129">Il existe des niveaux de service et de performances à la fois pour les pools élastiques et pour les bases de données uniques.</span><span class="sxs-lookup"><span data-stu-id="eca6e-129">There are service tiers and performance levels for both single database and elastic pools.</span></span>

### <a name="single-databases"></a><span data-ttu-id="eca6e-130">Bases de données uniques</span><span class="sxs-lookup"><span data-stu-id="eca6e-130">Single databases</span></span>
<span data-ttu-id="eca6e-131">Pour une base de données unique, les limites d’une base de données sont définies par ses niveaux de service et de performances.</span><span class="sxs-lookup"><span data-stu-id="eca6e-131">For a single database, the limits of a database are defined by the database service tier and performance level.</span></span> <span data-ttu-id="eca6e-132">Le tableau suivant décrit les caractéristiques des bases de données De base, Standard, Premium et Premium RS à différents niveaux de performances.</span><span class="sxs-lookup"><span data-stu-id="eca6e-132">The following table describes the characteristics of Basic, Standard, Premium, and Premium RS databases at varying performance levels.</span></span>

[!INCLUDE [SQL DB service tiers table](../../includes/sql-database-service-tiers-table.md)]

> [!IMPORTANT]
> <span data-ttu-id="eca6e-133">Les clients utilisant les niveaux de performances P11 et P15 peuvent utiliser jusqu’à 4 To de stockage inclus sans frais supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="eca6e-133">Customers using P11 and P15 performance levels can use up to 4 TB of included storage at no additional charge.</span></span> <span data-ttu-id="eca6e-134">Cette option de 4 To est actuellement disponible dans les régions suivantes : Est des États-Unis 2, États-Unis de l’Ouest, Gouvernement des États-Unis - Virginie, Europe de l’Ouest, Centre de l’Allemagne, Asie du Sud-Est, Japon de l’Est, Est de l’Australie, Centre du Canada et Est du Canada.</span><span class="sxs-lookup"><span data-stu-id="eca6e-134">This 4 TB option is currently available in the following regions: US East2, West US, US Gov Virginia, West Europe, Germany Central, South East Asia, Japan East, Australia East, Canada Central, and Canada East.</span></span>
>

### <a name="elastic-pools"></a><span data-ttu-id="eca6e-135">Pools élastiques</span><span class="sxs-lookup"><span data-stu-id="eca6e-135">Elastic pools</span></span>
<span data-ttu-id="eca6e-136">[Pools élastiques](sql-database-elastic-pool.md) partagent des ressources entre les bases de données du pool.</span><span class="sxs-lookup"><span data-stu-id="eca6e-136">[Elastic pools](sql-database-elastic-pool.md) share resources across databases in the pool.</span></span> <span data-ttu-id="eca6e-137">Le tableau ci-après décrit les caractéristiques des pools élastiques De base, Standard, Premium et Premium RS.</span><span class="sxs-lookup"><span data-stu-id="eca6e-137">The following table describes the characteristics of Basic, Standard, Premium, and Premium RS elastic pools.</span></span>

[!INCLUDE [SQL DB service tiers table for elastic databases](../../includes/sql-database-service-tiers-table-elastic-pools.md)]

<span data-ttu-id="eca6e-138">Pour consulter une définition étendue de chaque ressource répertoriée dans les tableaux précédents, reportez-vous aux descriptions de la rubrique [Capacités et limites des niveaux de service](sql-database-performance-guidance.md#service-tier-capabilities-and-limits).</span><span class="sxs-lookup"><span data-stu-id="eca6e-138">For an expanded definition of each resource listed in the previous tables, see the descriptions in [Service tier capabilities and limits](sql-database-performance-guidance.md#service-tier-capabilities-and-limits).</span></span> <span data-ttu-id="eca6e-139">Pour obtenir une présentation des niveaux de service, consultez [Niveaux de service et de performance de Base de données SQL Azure](sql-database-service-tiers.md).</span><span class="sxs-lookup"><span data-stu-id="eca6e-139">For an overview of service tiers, see [Azure SQL Database Service Tiers and Performance Levels](sql-database-service-tiers.md).</span></span>

## <a name="other-sql-database-limits"></a><span data-ttu-id="eca6e-140">Autres limites de SQL Database</span><span class="sxs-lookup"><span data-stu-id="eca6e-140">Other SQL Database limits</span></span>
| <span data-ttu-id="eca6e-141">Domaine</span><span class="sxs-lookup"><span data-stu-id="eca6e-141">Area</span></span> | <span data-ttu-id="eca6e-142">Limite</span><span class="sxs-lookup"><span data-stu-id="eca6e-142">Limit</span></span> | <span data-ttu-id="eca6e-143">Description</span><span class="sxs-lookup"><span data-stu-id="eca6e-143">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="eca6e-144">Bases de données utilisant l’exportation automatique par abonnement</span><span class="sxs-lookup"><span data-stu-id="eca6e-144">Databases using Automated export per subscription</span></span> |<span data-ttu-id="eca6e-145">10</span><span class="sxs-lookup"><span data-stu-id="eca6e-145">10</span></span> |<span data-ttu-id="eca6e-146">L’exportation automatique vous permet de créer une planification personnalisée pour sauvegarder vos bases de données SQL.</span><span class="sxs-lookup"><span data-stu-id="eca6e-146">Automated export allows you to create a custom schedule for backing up your SQL databases.</span></span> <span data-ttu-id="eca6e-147">La version préliminaire de cette fonctionnalité se terminera le 1er mars 2017.</span><span class="sxs-lookup"><span data-stu-id="eca6e-147">The preview of this feature will end on March 1, 2017.</span></span>  |
| <span data-ttu-id="eca6e-148">Bases de données par serveur</span><span class="sxs-lookup"><span data-stu-id="eca6e-148">Databases per server</span></span> |<span data-ttu-id="eca6e-149">Jusqu'à 5000</span><span class="sxs-lookup"><span data-stu-id="eca6e-149">Up to 5000</span></span> |<span data-ttu-id="eca6e-150">Jusqu’à 5 000 bases de données sont autorisées par serveur.</span><span class="sxs-lookup"><span data-stu-id="eca6e-150">Up to 5000 databases are allowed per server.</span></span> |
| <span data-ttu-id="eca6e-151">DTU par serveur</span><span class="sxs-lookup"><span data-stu-id="eca6e-151">DTUs per server</span></span> |<span data-ttu-id="eca6e-152">45000</span><span class="sxs-lookup"><span data-stu-id="eca6e-152">45000</span></span> |<span data-ttu-id="eca6e-153">45 000 DTU sont autorisés par serveur pour l’approvisionnement des bases de données autonomes et des pools élastiques.</span><span class="sxs-lookup"><span data-stu-id="eca6e-153">45000 DTUs are allowed per server for provisioning standalone databases and elastic pools.</span></span> <span data-ttu-id="eca6e-154">Le nombre total de bases de données autonomes et de pools autorisé par serveur est uniquement limité par le nombre de DTU par serveur.</span><span class="sxs-lookup"><span data-stu-id="eca6e-154">The total number of standalone databases and pools allowed per server is limited only by the number of server DTUs.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="eca6e-155">La fonctionnalité Automatiser l’exportation Azure SQL Database est maintenant disponible en version préliminaire et sera supprimée le 1er mars 2017.</span><span class="sxs-lookup"><span data-stu-id="eca6e-155">Azure SQL Database Automated Export is now in preview and will be retired on March 1, 2017.</span></span> <span data-ttu-id="eca6e-156">À partir du 1er décembre 2016, vous ne pourrez plus configurer l’exportation automatisée sur une base de données SQL.</span><span class="sxs-lookup"><span data-stu-id="eca6e-156">Starting December 1st, 2016, you will no longer be able to configure automated export on any SQL database.</span></span> <span data-ttu-id="eca6e-157">Tous vos travaux d’exportation automatisée existants continueront à fonctionner jusqu’au 1er mars 2017.</span><span class="sxs-lookup"><span data-stu-id="eca6e-157">All your existing automated export jobs will continue to work until March 1st, 2017.</span></span> <span data-ttu-id="eca6e-158">Après le 1er décembre 2016, vous pouvez utiliser [Rétention des sauvegardes à long terme](sql-database-long-term-retention.md) ou [Azure Automation](../automation/automation-intro.md) pour archiver des bases de données SQL régulièrement à l’aide de PowerShell en fonction d’une planification de votre choix.</span><span class="sxs-lookup"><span data-stu-id="eca6e-158">After December 1st, 2016, you can use [long-term backup retention](sql-database-long-term-retention.md) or [Azure Automation](../automation/automation-intro.md) to archive SQL databases periodically using PowerShell periodically according to a schedule of your choice.</span></span> <span data-ttu-id="eca6e-159">Pour obtenir un exemple de script, vous pouvez télécharger [l’exemple de script sur GitHub](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-automation-automated-export).</span><span class="sxs-lookup"><span data-stu-id="eca6e-159">For a sample script, you can download the [sample script from GitHub](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-automation-automated-export).</span></span>
>


## <a name="resources"></a><span data-ttu-id="eca6e-160">les ressources</span><span class="sxs-lookup"><span data-stu-id="eca6e-160">Resources</span></span>
[<span data-ttu-id="eca6e-161">Abonnement Azure et limites, quotas et contraintes du service</span><span class="sxs-lookup"><span data-stu-id="eca6e-161">Azure Subscription and Service Limits, Quotas, and Constraints</span></span>](../azure-subscription-service-limits.md)

[<span data-ttu-id="eca6e-162">Niveaux de service et niveaux de performances de la base de données SQL Azure</span><span class="sxs-lookup"><span data-stu-id="eca6e-162">Azure SQL Database Service Tiers and Performance Levels</span></span>](sql-database-service-tiers.md)

[<span data-ttu-id="eca6e-163">Messages d'erreur pour les programmes clients SQL Database</span><span class="sxs-lookup"><span data-stu-id="eca6e-163">Error messages for SQL Database client programs</span></span>](sql-database-develop-error-messages.md)
