---
title: "Accorder l’accès à Azure SQL Database | Microsoft Docs"
description: "Découvrez comment accorder l’accès à Microsoft Azure SQL Database."
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: 
tags: 
ms.assetid: 8e71b04c-bc38-4153-8f83-f2b14faa31d9
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 02/06/2017
ms.author: rickbyh
ms.openlocfilehash: 0ca1ccd273317d67537d31724d566625a4eb2c85
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="azure-sql-database-access-control"></a><span data-ttu-id="a502b-103">Contrôle d’accès à Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="a502b-103">Azure SQL Database access control</span></span>
<span data-ttu-id="a502b-104">Pour assurer la sécurité, SQL Database contrôle l’accès avec des règles de pare-feu qui limitent la connectivité par adresse IP, des mécanismes d’authentification qui obligent les utilisateurs à prouver leur identité, et des mécanismes d’autorisation qui les restreignent à certaines actions et données.</span><span class="sxs-lookup"><span data-stu-id="a502b-104">To provide security, SQL Database controls access with firewall rules limiting connectivity by IP address, authentication mechanisms requiring users to prove their identity, and authorization mechanisms limiting users to specific actions and data.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="a502b-105">Pour une vue d’ensemble des fonctionnalités de sécurité de SQL Database, consultez [Sécurisation de SQL Database](sql-database-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a502b-105">For an overview of the SQL Database security features, see [SQL security overview](sql-database-security-overview.md).</span></span> <span data-ttu-id="a502b-106">Pour obtenir un didacticiel, consultez [Sécuriser votre base de données Azure SQL Database](sql-database-security-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="a502b-106">For a tutorial, see [Secure your Azure SQL Database](sql-database-security-tutorial.md).</span></span>

## <a name="firewall-and-firewall-rules"></a><span data-ttu-id="a502b-107">Pare-feu et règles de pare-feu</span><span class="sxs-lookup"><span data-stu-id="a502b-107">Firewall and firewall rules</span></span>
<span data-ttu-id="a502b-108">Microsoft Azure SQL Database fournit un service de base de données relationnelle pour Azure et d’autres applications basées sur Internet.</span><span class="sxs-lookup"><span data-stu-id="a502b-108">Microsoft Azure SQL Database provides a relational database service for Azure and other Internet-based applications.</span></span> <span data-ttu-id="a502b-109">Pour aider à protéger vos données, le pare-feu empêche tout accès à votre serveur de base de données jusqu’à ce que vous spécifiiez les ordinateurs qui disposent d’autorisations.</span><span class="sxs-lookup"><span data-stu-id="a502b-109">To help protect your data, firewalls prevent all access to your database server until you specify which computers have permission.</span></span> <span data-ttu-id="a502b-110">Le pare-feu octroie l’accès à la base de données en fonction de l’adresse IP d’origine de chaque demande.</span><span class="sxs-lookup"><span data-stu-id="a502b-110">The firewall grants access to databases based on the originating IP address of each request.</span></span> <span data-ttu-id="a502b-111">Pour en savoir plus, consultez [Vue d’ensemble des règles de pare-feu d’Azure SQL Database](sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="a502b-111">For more information, see [Overview of Azure SQL Database firewall rules](sql-database-firewall-configure.md)</span></span>

<span data-ttu-id="a502b-112">Le service Azure SQL Database Azure n’est disponible que via le port TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="a502b-112">The Azure SQL Database service is only available through TCP port 1433.</span></span> <span data-ttu-id="a502b-113">Pour accéder à une base de données SQL depuis votre ordinateur, vérifiez que le pare-feu de votre ordinateur client autorise les communications TCP sortantes sur le port 1433.</span><span class="sxs-lookup"><span data-stu-id="a502b-113">To access a SQL Database from your computer, ensure that your client computer firewall allows outgoing TCP communication on TCP port 1433.</span></span> <span data-ttu-id="a502b-114">Si elles ne sont pas nécessaire pour les autres applications, bloquez les connexions entrantes sur le port TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="a502b-114">If not needed for other applications, block inbound connections on TCP port 1433.</span></span> 

<span data-ttu-id="a502b-115">Dans le cadre du processus de connexion, les connexions à partir des machines virtuelles Azure sont redirigées vers une autre adresse IP et un autre port, propres à chaque rôle de travail.</span><span class="sxs-lookup"><span data-stu-id="a502b-115">As part of the connection process, connections from Azure virtual machines are redirected to a different IP address and port, unique for each worker role.</span></span> <span data-ttu-id="a502b-116">Le numéro du port est compris entre 11000 et 11999.</span><span class="sxs-lookup"><span data-stu-id="a502b-116">The port number is in the range from 11000 to 11999.</span></span> <span data-ttu-id="a502b-117">Pour plus d’informations sur les ports TCP, consultez [Ports au-delà de 1433 pour ADO.NET 4.5 et SQL Database2](sql-database-develop-direct-route-ports-adonet-v12.md).</span><span class="sxs-lookup"><span data-stu-id="a502b-117">For more information about TCP ports, see [Ports beyond 1433 for ADO.NET 4.5 and SQL Database2](sql-database-develop-direct-route-ports-adonet-v12.md).</span></span>

## <a name="authentication"></a><span data-ttu-id="a502b-118">Authentification</span><span class="sxs-lookup"><span data-stu-id="a502b-118">Authentication</span></span>

<span data-ttu-id="a502b-119">Une base de données SQL prend en charge deux types d’authentification :</span><span class="sxs-lookup"><span data-stu-id="a502b-119">SQL Database supports two types of authentication:</span></span>

* <span data-ttu-id="a502b-120">**L’authentification SQL**, qui utilise un nom d’utilisateur et un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="a502b-120">**SQL Authentication**, which uses a username and password.</span></span> <span data-ttu-id="a502b-121">Lorsque vous avez créé un serveur logique pour votre base de données, vous avez spécifié un compte de connexion « Admin serveur », associé à un nom d’utilisateur et à un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="a502b-121">When you created the logical server for your database, you specified a "server admin" login with a username and password.</span></span> <span data-ttu-id="a502b-122">À l’aide de ces informations d’identification, vous pouvez vous authentifier auprès de n’importe quelle base de données sur ce serveur, en tant que propriétaire de la base de données, ou « dbo ».</span><span class="sxs-lookup"><span data-stu-id="a502b-122">Using these credentials, you can authenticate to any database on that server as the database owner, or "dbo."</span></span> 
* <span data-ttu-id="a502b-123">**L’authentification Azure Active Directory**, qui utilise des identités gérées par Azure Active Directory et qui est prise en charge pour les domaines gérés et intégrés.</span><span class="sxs-lookup"><span data-stu-id="a502b-123">**Azure Active Directory Authentication**, which uses identities managed by Azure Active Directory and is supported for managed and integrated domains.</span></span> <span data-ttu-id="a502b-124">Utilisez l’authentification Active Directory (sécurité intégrée) [dans la mesure du possible](https://docs.microsoft.com/sql/relational-databases/security/choose-an-authentication-mode).</span><span class="sxs-lookup"><span data-stu-id="a502b-124">Use Active Directory authentication (integrated security) [whenever possible](https://docs.microsoft.com/sql/relational-databases/security/choose-an-authentication-mode).</span></span> <span data-ttu-id="a502b-125">Si vous souhaitez utiliser l’authentification Azure Active Directory, vous devez créer un autre administrateur de serveur appelé « administrateur Azure AD », autorisé à gérer les groupes et utilisateurs Active Directory Azure.</span><span class="sxs-lookup"><span data-stu-id="a502b-125">If you want to use Azure Active Directory Authentication, you must create another server admin called the "Azure AD admin," which is allowed to administer Azure AD users and groups.</span></span> <span data-ttu-id="a502b-126">Cet administrateur peut également effectuer toutes les opérations d’un administrateur de serveur ordinaire.</span><span class="sxs-lookup"><span data-stu-id="a502b-126">This admin can also perform all operations that a regular server admin can.</span></span> <span data-ttu-id="a502b-127">Pour une procédure pas à pas relative à la création d’un administrateur Azure AD pour activer l’authentification Azure Active Directory, consultez [Connexion à la base de données SQL avec l’authentification Azure Active Directory](sql-database-aad-authentication.md) .</span><span class="sxs-lookup"><span data-stu-id="a502b-127">See [Connecting to SQL Database By Using Azure Active Directory Authentication](sql-database-aad-authentication.md) for a walkthrough of how to create an Azure AD admin to enable Azure Active Directory Authentication.</span></span>

<span data-ttu-id="a502b-128">Le moteur de base de données ferme les connexions restées inactives pendant plus de 30 minutes.</span><span class="sxs-lookup"><span data-stu-id="a502b-128">The Database Engine closes connections that remain idle for more than 30 minutes.</span></span> <span data-ttu-id="a502b-129">La connexion nécessite une nouvelle identification pour fonctionner à nouveau.</span><span class="sxs-lookup"><span data-stu-id="a502b-129">The connection must login again before it can be used.</span></span> <span data-ttu-id="a502b-130">Les connexions perpétuelles à SQL Database requièrent une nouvelle autorisation (effectuée par le moteur de base de données) au moins toutes les 10 heures.</span><span class="sxs-lookup"><span data-stu-id="a502b-130">Continuously active connections to SQL Database require reauthorization (performed by the database engine) at least every 10 hours.</span></span> <span data-ttu-id="a502b-131">Le moteur de base de données tente de renouveler l’autorisation à l’aide du mot de passe envoyé à l’origine. L’utilisateur n’a rien à saisir.</span><span class="sxs-lookup"><span data-stu-id="a502b-131">The database engine attempts reauthorization using the originally submitted password and no user input is required.</span></span> <span data-ttu-id="a502b-132">Pour des raisons de performances, lorsqu’un mot de passe est réinitialisé dans SQL Database, la connexion n’est pas authentifiée à nouveau, même si elle est réinitialisée suite à un regroupement de connexions.</span><span class="sxs-lookup"><span data-stu-id="a502b-132">For performance reasons, when a password is reset in SQL Database, the connection is not be reauthenticated, even if the connection is reset due to connection pooling.</span></span> <span data-ttu-id="a502b-133">Ce comportement est différent de SQL Server local.</span><span class="sxs-lookup"><span data-stu-id="a502b-133">This is different from the behavior of on-premises SQL Server.</span></span> <span data-ttu-id="a502b-134">Si le mot de passe a été modifié depuis l’autorisation initiale de la connexion, celle-ci doit être interrompue et une nouvelle connexion établie à l’aide du nouveau mot de passe.</span><span class="sxs-lookup"><span data-stu-id="a502b-134">If the password has been changed since the connection was initially authorized, the connection must be terminated and a new connection made using the new password.</span></span> <span data-ttu-id="a502b-135">Un utilisateur disposant de l’autorisation `KILL DATABASE CONNECTION` peut mettre explicitement fin à une connexion à SQL Database à l’aide de la commande [KILL](https://docs.microsoft.com/sql/t-sql/language-elements/kill-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="a502b-135">A user with the `KILL DATABASE CONNECTION` permission can explicitly terminate a connection to SQL Database by using the [KILL](https://docs.microsoft.com/sql/t-sql/language-elements/kill-transact-sql) command.</span></span>

<span data-ttu-id="a502b-136">Les comptes d’utilisateur peuvent être soit créés dans la base de données principale et autorisés à accéder à toutes les bases de données sur le serveur, soit créés dans la base de données elle-même (appelés utilisateurs à relation contenant-contenu).</span><span class="sxs-lookup"><span data-stu-id="a502b-136">User accounts can be created in the master database and can be granted permissions in all databases on the server, or they can be created in the database itself (called contained users).</span></span> <span data-ttu-id="a502b-137">Pour plus d’informations sur la création et la gestion des connexions, consultez [Gérer les connexions](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="a502b-137">For information on creating and managing logins, see [Manage logins](sql-database-manage-logins.md).</span></span> <span data-ttu-id="a502b-138">Pour plus de portabilité et d’évolutivité, utilisez des utilisateurs de base de données à relation contenant-contenu.</span><span class="sxs-lookup"><span data-stu-id="a502b-138">To enhance portability and scalabilty, use contained database users to enhance scalability.</span></span> <span data-ttu-id="a502b-139">Pour plus d’informations sur les utilisateurs à relation contenant-contenu, consultez [Utilisateurs de base de données à relation contenant-contenu - Rendre votre base de données portable](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), [CREATE USER (Transact-SQL)](https://docs.microsoft.com/sql/t-sql/statements/create-user-transact-sql) et [Bases de données à relation contenant-contenu](https://docs.microsoft.com/sql/relational-databases/databases/contained-databases).</span><span class="sxs-lookup"><span data-stu-id="a502b-139">For more information on contained users, see [Contained Database Users - Making Your Database Portable](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), [CREATE USER (Transact-SQL)](https://docs.microsoft.com/sql/t-sql/statements/create-user-transact-sql), and [Contained Databases](https://docs.microsoft.com/sql/relational-databases/databases/contained-databases).</span></span>

<span data-ttu-id="a502b-140">Nous vous recommandons, au titre de meilleure pratique, d’utiliser un compte dédié pour l’authentification de votre application. Cela vous permet de limiter les autorisations accordées à cette application et de réduire les risques d’activité malveillante, au cas où le code de votre application serait vulnérable à une attaque par injection de code SQL.</span><span class="sxs-lookup"><span data-stu-id="a502b-140">As a best practice your application should use a dedicated account to authenticate -- this way you can limit the permissions granted to the application and reduce the risks of malicious activity in case your application code is vulnerable to a SQL injection attack.</span></span> <span data-ttu-id="a502b-141">La méthode recommandée consiste à créer un [utilisateur de base de données à relation contenant-contenu](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), qui permet à votre application de s’authentifier directement auprès de la base de données.</span><span class="sxs-lookup"><span data-stu-id="a502b-141">The recommended approach is to create a [contained database user](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), which allows your app to authenticate directly to the database.</span></span> 

## <a name="authorization"></a><span data-ttu-id="a502b-142">Autorisation</span><span class="sxs-lookup"><span data-stu-id="a502b-142">Authorization</span></span>

<span data-ttu-id="a502b-143">Le terme « autorisation » fait référence aux actions qu’un utilisateur peut exécuter dans une base de données Azure SQL Database et qui sont contrôlées par les [rôles détenus](https://docs.microsoft.com/sql/relational-databases/security/authentication-access/database-level-roles) et les [autorisations sur les objets](https://docs.microsoft.com/sql/relational-databases/security/permissions-database-engine).</span><span class="sxs-lookup"><span data-stu-id="a502b-143">Authorization refers to what a user can do within an Azure SQL Database, and this is controlled by your user account's database [role memberships](https://docs.microsoft.com/sql/relational-databases/security/authentication-access/database-level-roles) and [object-level permissions](https://docs.microsoft.com/sql/relational-databases/security/permissions-database-engine).</span></span> <span data-ttu-id="a502b-144">Nous vous recommandons, à titre de meilleure pratique, d’accorder aux utilisateurs des privilèges aussi réduits que possible.</span><span class="sxs-lookup"><span data-stu-id="a502b-144">As a best practice, you should grant users the least privileges necessary.</span></span> <span data-ttu-id="a502b-145">Le compte d’administrateur du serveur avec lequel vous vous connectez appartient au groupe « db_owner », qui est autorisé à effectuer tout type d’opérations dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="a502b-145">The server admin account you are connecting with is a member of db_owner, which has authority to do anything within the database.</span></span> <span data-ttu-id="a502b-146">Enregistrez ce compte pour l’utiliser lors du déploiement des mises à niveau de schéma et d’autres opérations de gestion.</span><span class="sxs-lookup"><span data-stu-id="a502b-146">Save this account for deploying schema upgrades and other management operations.</span></span> <span data-ttu-id="a502b-147">Utilisez le compte « ApplicationUser », doté d’autorisations plus limitées, pour vous connecter à la base de données à partir de votre application, en bénéficiant du niveau de privilèges le moins élevé requis par cette dernière.</span><span class="sxs-lookup"><span data-stu-id="a502b-147">Use the "ApplicationUser" account with more limited permissions to connect from your application to the database with the least privileges needed by your application.</span></span> <span data-ttu-id="a502b-148">Pour plus d’informations, consultez [Gérer les connexions](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="a502b-148">For more information, see [Manage logins](sql-database-manage-logins.md).</span></span>

<span data-ttu-id="a502b-149">En règle générale, seuls les administrateurs ont besoin d’accéder à la base de données `master`.</span><span class="sxs-lookup"><span data-stu-id="a502b-149">Typically, only administrators need access to the `master` database.</span></span> <span data-ttu-id="a502b-150">L’accès normal à chaque base de données utilisateur doit se faire par les utilisateurs non administrateurs de base de données à relation contenant-contenu créés dans chaque base de données.</span><span class="sxs-lookup"><span data-stu-id="a502b-150">Routine access to each user database should be through non-administrator contained database users created in each database.</span></span> <span data-ttu-id="a502b-151">Lorsque vous utilisez des utilisateurs de base de données à relation contenant-contenu, vous n’avez pas besoin de créer des connexions à la base de données `master`.</span><span class="sxs-lookup"><span data-stu-id="a502b-151">When you use contained database users, you do not need to create logins in the `master` database.</span></span> <span data-ttu-id="a502b-152">Pour plus d’informations, voir [Utilisateurs de base de données à relation contenant-contenu - Rendre votre base de données portable](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable).</span><span class="sxs-lookup"><span data-stu-id="a502b-152">For more information, see [Contained Database Users - Making Your Database Portable](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable).</span></span>

<span data-ttu-id="a502b-153">Vous devez vous familiariser avec les fonctionnalités suivantes qui peuvent être utilisées pour limiter ou élever les autorisations :</span><span class="sxs-lookup"><span data-stu-id="a502b-153">You should familiarize yourself with the following features that can be used to limit or elevate permissions:</span></span>   
* <span data-ttu-id="a502b-154">Vous pouvez recourir à l’[emprunt d’identité](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/customizing-permissions-with-impersonation-in-sql-server) et à la [signature de module](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/signing-stored-procedures-in-sql-server) pour élever le niveau des autorisations temporairement, en toute sécurité.</span><span class="sxs-lookup"><span data-stu-id="a502b-154">[Impersonation](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/customizing-permissions-with-impersonation-in-sql-server) and [module-signing](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/signing-stored-procedures-in-sql-server) can be used to securely elevate permissions temporarily.</span></span>
* <span data-ttu-id="a502b-155">[sécurité au niveau des lignes](https://docs.microsoft.com/sql/relational-databases/security/row-level-security) peut être utilisée pour limiter le nombres de lignes accessibles par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="a502b-155">[Row-Level Security](https://docs.microsoft.com/sql/relational-databases/security/row-level-security) can be used limit which rows a user can access.</span></span>
* <span data-ttu-id="a502b-156">[masquage des données](sql-database-dynamic-data-masking-get-started.md) permet de restreindre l’exposition des données sensibles.</span><span class="sxs-lookup"><span data-stu-id="a502b-156">[Data Masking](sql-database-dynamic-data-masking-get-started.md) can be used to limit exposure of sensitive data.</span></span>
* <span data-ttu-id="a502b-157">[procédures stockées](https://docs.microsoft.com/sql/relational-databases/stored-procedures/stored-procedures-database-engine) , vous pouvez limiter le nombre d’actions susceptibles d’être exécutées sur la base de données.</span><span class="sxs-lookup"><span data-stu-id="a502b-157">[Stored procedures](https://docs.microsoft.com/sql/relational-databases/stored-procedures/stored-procedures-database-engine) can be used to limit the actions that can be taken on the database.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a502b-158">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="a502b-158">Next steps</span></span>

- <span data-ttu-id="a502b-159">Pour une vue d’ensemble des fonctionnalités de sécurité de SQL Database, consultez [Sécurisation de SQL Database](sql-database-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a502b-159">For an overview of the SQL Database security features, see [SQL security overview](sql-database-security-overview.md).</span></span>
- <span data-ttu-id="a502b-160">Pour en savoir plus sur les règles de pare-feu, consultez [Règles de pare-feu](sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="a502b-160">To learn more about firewall rules, see [Firewall rules](sql-database-firewall-configure.md).</span></span>
- <span data-ttu-id="a502b-161">Pour en savoir plus sur les utilisateurs et les connexions, consultez [Gérer les connexions](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="a502b-161">To learn about users and logins, see [Manage logins](sql-database-manage-logins.md).</span></span> 
- <span data-ttu-id="a502b-162">Pour une discussion sur la surveillance proactive, consultez [Audit de base de données](sql-database-auditing.md) et [Détection des menaces pour SQL Database](sql-database-threat-detection.md).</span><span class="sxs-lookup"><span data-stu-id="a502b-162">For a discussion of proactive monitoring, see [Database Auditing](sql-database-auditing.md) and [SQL Database Threat Detection](sql-database-threat-detection.md).</span></span>
- <span data-ttu-id="a502b-163">Pour obtenir un didacticiel, consultez [Sécuriser votre base de données Azure SQL Database](sql-database-security-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="a502b-163">For a tutorial, see [Secure your Azure SQL Database](sql-database-security-tutorial.md).</span></span>
