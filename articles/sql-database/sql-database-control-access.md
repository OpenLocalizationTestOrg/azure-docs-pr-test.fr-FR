---
title: "aaaGranting accès tooAzure base de données SQL | Documents Microsoft"
description: "En savoir plus sur l’octroi d’accès tooMicrosoft base de données SQL Azure."
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: 
tags: 
ms.assetid: 8e71b04c-bc38-4153-8f83-f2b14faa31d9
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 02/06/2017
ms.author: rickbyh
ms.openlocfilehash: 4c32fafa7e98b731ff2f9bf4666da7e4a3145286
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-sql-database-access-control"></a><span data-ttu-id="356a6-103">Contrôle d’accès à Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="356a6-103">Azure SQL Database access control</span></span>
<span data-ttu-id="356a6-104">sécurité tooprovide, base de données SQL contrôle l’accès avec les règles de pare-feu limitant la connectivité par adresse IP, les mécanismes d’authentification nécessitant des utilisateurs tooprove leur identité et les mécanismes d’autorisation limitant les actions de toospecific les utilisateurs et les données.</span><span class="sxs-lookup"><span data-stu-id="356a6-104">tooprovide security, SQL Database controls access with firewall rules limiting connectivity by IP address, authentication mechanisms requiring users tooprove their identity, and authorization mechanisms limiting users toospecific actions and data.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="356a6-105">Pour une vue d’ensemble des fonctionnalités de sécurité de base de données SQL hello, consultez [vue d’ensemble de la sécurité SQL](sql-database-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="356a6-105">For an overview of hello SQL Database security features, see [SQL security overview](sql-database-security-overview.md).</span></span> <span data-ttu-id="356a6-106">Pour obtenir un didacticiel, consultez [Sécuriser votre base de données Azure SQL Database](sql-database-security-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="356a6-106">For a tutorial, see [Secure your Azure SQL Database](sql-database-security-tutorial.md).</span></span>

## <a name="firewall-and-firewall-rules"></a><span data-ttu-id="356a6-107">Pare-feu et règles de pare-feu</span><span class="sxs-lookup"><span data-stu-id="356a6-107">Firewall and firewall rules</span></span>
<span data-ttu-id="356a6-108">Microsoft Azure SQL Database fournit un service de base de données relationnelle pour Azure et d’autres applications basées sur Internet.</span><span class="sxs-lookup"><span data-stu-id="356a6-108">Microsoft Azure SQL Database provides a relational database service for Azure and other Internet-based applications.</span></span> <span data-ttu-id="356a6-109">toohelp protéger vos données, les pare-feu empêchent le serveur de base de données de tous les accès tooyour jusqu'à ce que vous spécifiez les ordinateurs sur lesquels l’autorisation.</span><span class="sxs-lookup"><span data-stu-id="356a6-109">toohelp protect your data, firewalls prevent all access tooyour database server until you specify which computers have permission.</span></span> <span data-ttu-id="356a6-110">les pare-feu Hello accorde toodatabases d’accès basé sur hello adresse IP de chaque demande d’origine.</span><span class="sxs-lookup"><span data-stu-id="356a6-110">hello firewall grants access toodatabases based on hello originating IP address of each request.</span></span> <span data-ttu-id="356a6-111">Pour en savoir plus, consultez [Vue d’ensemble des règles de pare-feu d’Azure SQL Database](sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="356a6-111">For more information, see [Overview of Azure SQL Database firewall rules](sql-database-firewall-configure.md)</span></span>

<span data-ttu-id="356a6-112">Hello service de base de données SQL Azure est disponible uniquement via le port TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="356a6-112">hello Azure SQL Database service is only available through TCP port 1433.</span></span> <span data-ttu-id="356a6-113">tooaccess une base de données SQL à partir de votre ordinateur, vérifiez que le pare-feu de votre ordinateur client autorise les communications TCP sortantes sur le port TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="356a6-113">tooaccess a SQL Database from your computer, ensure that your client computer firewall allows outgoing TCP communication on TCP port 1433.</span></span> <span data-ttu-id="356a6-114">Si elles ne sont pas nécessaire pour les autres applications, bloquez les connexions entrantes sur le port TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="356a6-114">If not needed for other applications, block inbound connections on TCP port 1433.</span></span> 

<span data-ttu-id="356a6-115">Dans le cadre du processus de connexion hello, connexions à partir de machines virtuelles sont des adresses IP différentes tooa redirigé et port unique pour chaque rôle de travail.</span><span class="sxs-lookup"><span data-stu-id="356a6-115">As part of hello connection process, connections from Azure virtual machines are redirected tooa different IP address and port, unique for each worker role.</span></span> <span data-ttu-id="356a6-116">numéro de port Hello est comprise de hello too11999 11000.</span><span class="sxs-lookup"><span data-stu-id="356a6-116">hello port number is in hello range from 11000 too11999.</span></span> <span data-ttu-id="356a6-117">Pour plus d’informations sur les ports TCP, consultez [Ports au-delà de 1433 pour ADO.NET 4.5 et SQL Database2](sql-database-develop-direct-route-ports-adonet-v12.md).</span><span class="sxs-lookup"><span data-stu-id="356a6-117">For more information about TCP ports, see [Ports beyond 1433 for ADO.NET 4.5 and SQL Database2](sql-database-develop-direct-route-ports-adonet-v12.md).</span></span>

## <a name="authentication"></a><span data-ttu-id="356a6-118">Authentification</span><span class="sxs-lookup"><span data-stu-id="356a6-118">Authentication</span></span>

<span data-ttu-id="356a6-119">Une base de données SQL prend en charge deux types d’authentification :</span><span class="sxs-lookup"><span data-stu-id="356a6-119">SQL Database supports two types of authentication:</span></span>

* <span data-ttu-id="356a6-120">**L’authentification SQL**, qui utilise un nom d’utilisateur et un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="356a6-120">**SQL Authentication**, which uses a username and password.</span></span> <span data-ttu-id="356a6-121">Lorsque vous avez créé un serveur logique de hello pour votre base de données, vous avez spécifié un compte de connexion « server admin » avec un nom d’utilisateur et un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="356a6-121">When you created hello logical server for your database, you specified a "server admin" login with a username and password.</span></span> <span data-ttu-id="356a6-122">À l’aide de ces informations d’identification, vous pouvez vous authentifier tooany de base de données sur ce serveur en tant que propriétaire de base de données hello ou « dbo ».</span><span class="sxs-lookup"><span data-stu-id="356a6-122">Using these credentials, you can authenticate tooany database on that server as hello database owner, or "dbo."</span></span> 
* <span data-ttu-id="356a6-123">**L’authentification Azure Active Directory**, qui utilise des identités gérées par Azure Active Directory et qui est prise en charge pour les domaines gérés et intégrés.</span><span class="sxs-lookup"><span data-stu-id="356a6-123">**Azure Active Directory Authentication**, which uses identities managed by Azure Active Directory and is supported for managed and integrated domains.</span></span> <span data-ttu-id="356a6-124">Utilisez l’authentification Active Directory (sécurité intégrée) [dans la mesure du possible](https://docs.microsoft.com/sql/relational-databases/security/choose-an-authentication-mode).</span><span class="sxs-lookup"><span data-stu-id="356a6-124">Use Active Directory authentication (integrated security) [whenever possible](https://docs.microsoft.com/sql/relational-databases/security/choose-an-authentication-mode).</span></span> <span data-ttu-id="356a6-125">Si vous souhaitez toouse authentification Azure Active Directory, vous devez créer un autre administrateur de serveur appelé hello « Azure AD admin », ce qui est autorisé de groupes et utilisateurs d’Azure AD tooadminister.</span><span class="sxs-lookup"><span data-stu-id="356a6-125">If you want toouse Azure Active Directory Authentication, you must create another server admin called hello "Azure AD admin," which is allowed tooadminister Azure AD users and groups.</span></span> <span data-ttu-id="356a6-126">Cet administrateur peut également effectuer toutes les opérations d’un administrateur de serveur ordinaire.</span><span class="sxs-lookup"><span data-stu-id="356a6-126">This admin can also perform all operations that a regular server admin can.</span></span> <span data-ttu-id="356a6-127">Consultez [connexion tooSQL de base de données en utilisant authentification Azure Active Directory](sql-database-aad-authentication.md) pour une procédure pas à pas toocreate un tooenable d’administrateur Azure AD authentification Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="356a6-127">See [Connecting tooSQL Database By Using Azure Active Directory Authentication](sql-database-aad-authentication.md) for a walkthrough of how toocreate an Azure AD admin tooenable Azure Active Directory Authentication.</span></span>

<span data-ttu-id="356a6-128">Hello du moteur de base de données ferme les connexions qui restent inactives pendant plus de 30 minutes.</span><span class="sxs-lookup"><span data-stu-id="356a6-128">hello Database Engine closes connections that remain idle for more than 30 minutes.</span></span> <span data-ttu-id="356a6-129">Hello connexion doit à nouveau de connexion avant de pouvoir être utilisé.</span><span class="sxs-lookup"><span data-stu-id="356a6-129">hello connection must login again before it can be used.</span></span> <span data-ttu-id="356a6-130">En continu les connexions actives tooSQL de base de données nécessitent une nouvelle autorisation (opération effectuée par le moteur de base de données hello) au moins toutes les 10 heures.</span><span class="sxs-lookup"><span data-stu-id="356a6-130">Continuously active connections tooSQL Database require reauthorization (performed by hello database engine) at least every 10 hours.</span></span> <span data-ttu-id="356a6-131">moteur de base de données Hello tente de renouvellement d’autorisation à l’aide de mot de passe soumis hello et aucune entrée utilisateur n’est requise.</span><span class="sxs-lookup"><span data-stu-id="356a6-131">hello database engine attempts reauthorization using hello originally submitted password and no user input is required.</span></span> <span data-ttu-id="356a6-132">Pour des raisons de performances, lorsqu’un mot de passe est réinitialisé dans la base de données SQL, hello connexion n’est pas être authentifiés, même si la connexion de hello est réinitialisée en raison de tooconnection le regroupement.</span><span class="sxs-lookup"><span data-stu-id="356a6-132">For performance reasons, when a password is reset in SQL Database, hello connection is not be reauthenticated, even if hello connection is reset due tooconnection pooling.</span></span> <span data-ttu-id="356a6-133">Ce comportement est différent de hello de local SQL Server.</span><span class="sxs-lookup"><span data-stu-id="356a6-133">This is different from hello behavior of on-premises SQL Server.</span></span> <span data-ttu-id="356a6-134">Si le mot de passe hello a été modifié depuis hello connexion a été initialement autorisée, connexion de hello doit se terminer et établir une nouvelle connexion à l’aide du nouveau mot de passe hello.</span><span class="sxs-lookup"><span data-stu-id="356a6-134">If hello password has been changed since hello connection was initially authorized, hello connection must be terminated and a new connection made using hello new password.</span></span> <span data-ttu-id="356a6-135">Un utilisateur avec hello `KILL DATABASE CONNECTION` autorisation peut terminer explicitement une tooSQL de connexion de base de données à l’aide de hello [KILL](https://docs.microsoft.com/sql/t-sql/language-elements/kill-transact-sql) commande.</span><span class="sxs-lookup"><span data-stu-id="356a6-135">A user with hello `KILL DATABASE CONNECTION` permission can explicitly terminate a connection tooSQL Database by using hello [KILL](https://docs.microsoft.com/sql/t-sql/language-elements/kill-transact-sql) command.</span></span>

<span data-ttu-id="356a6-136">Comptes d’utilisateur peuvent être créées dans la base de données master hello et peuvent avoir des autorisations dans toutes les bases de données sur le serveur de hello, ou ils peuvent être créés dans la base de données hello lui-même (appelé utilisateurs contenus).</span><span class="sxs-lookup"><span data-stu-id="356a6-136">User accounts can be created in hello master database and can be granted permissions in all databases on hello server, or they can be created in hello database itself (called contained users).</span></span> <span data-ttu-id="356a6-137">Pour plus d’informations sur la création et la gestion des connexions, consultez [Gérer les connexions](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="356a6-137">For information on creating and managing logins, see [Manage logins](sql-database-manage-logins.md).</span></span> <span data-ttu-id="356a6-138">tooenhance portabilité et expansion, utilisez l’extensibilité de relation contenant-contenu de la base de données utilisateurs tooenhance.</span><span class="sxs-lookup"><span data-stu-id="356a6-138">tooenhance portability and scalabilty, use contained database users tooenhance scalability.</span></span> <span data-ttu-id="356a6-139">Pour plus d’informations sur les utilisateurs à relation contenant-contenu, consultez [Utilisateurs de base de données à relation contenant-contenu - Rendre votre base de données portable](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), [CREATE USER (Transact-SQL)](https://docs.microsoft.com/sql/t-sql/statements/create-user-transact-sql) et [Bases de données à relation contenant-contenu](https://docs.microsoft.com/sql/relational-databases/databases/contained-databases).</span><span class="sxs-lookup"><span data-stu-id="356a6-139">For more information on contained users, see [Contained Database Users - Making Your Database Portable](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), [CREATE USER (Transact-SQL)](https://docs.microsoft.com/sql/t-sql/statements/create-user-transact-sql), and [Contained Databases](https://docs.microsoft.com/sql/relational-databases/databases/contained-databases).</span></span>

<span data-ttu-id="356a6-140">Comme meilleure pratique votre application doit utiliser un tooauthenticate compte dédié, cette façon, vous pouvez limiter les autorisations hello toohello application et réduire les risques de hello d’activités malveillantes au cas où votre code d’application est vulnérable tooa d’injection SQL attaque.</span><span class="sxs-lookup"><span data-stu-id="356a6-140">As a best practice your application should use a dedicated account tooauthenticate -- this way you can limit hello permissions granted toohello application and reduce hello risks of malicious activity in case your application code is vulnerable tooa SQL injection attack.</span></span> <span data-ttu-id="356a6-141">Hello recommandé consiste toocreate un [utilisateur de base de données](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), qui permet à votre application tooauthenticate toohello directement la base de données.</span><span class="sxs-lookup"><span data-stu-id="356a6-141">hello recommended approach is toocreate a [contained database user](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), which allows your app tooauthenticate directly toohello database.</span></span> 

## <a name="authorization"></a><span data-ttu-id="356a6-142">Autorisation</span><span class="sxs-lookup"><span data-stu-id="356a6-142">Authorization</span></span>

<span data-ttu-id="356a6-143">Autorisation fait référence toowhat un utilisateur peut faire au sein d’une base de données SQL Azure, et cela est contrôlé par la base de données de votre compte utilisateur [appartenances au rôle](https://docs.microsoft.com/sql/relational-databases/security/authentication-access/database-level-roles) et [autorisations au niveau de l’objet](https://docs.microsoft.com/sql/relational-databases/security/permissions-database-engine).</span><span class="sxs-lookup"><span data-stu-id="356a6-143">Authorization refers toowhat a user can do within an Azure SQL Database, and this is controlled by your user account's database [role memberships](https://docs.microsoft.com/sql/relational-databases/security/authentication-access/database-level-roles) and [object-level permissions](https://docs.microsoft.com/sql/relational-databases/security/permissions-database-engine).</span></span> <span data-ttu-id="356a6-144">Comme meilleure pratique, vous devriez hello d’utilisateurs des privilèges minimaux nécessaires.</span><span class="sxs-lookup"><span data-stu-id="356a6-144">As a best practice, you should grant users hello least privileges necessary.</span></span> <span data-ttu-id="356a6-145">compte d’administrateur de serveur Hello que vous connectez à l’aide est un membre de db_owner ayant autorité toodo quoi que ce soit dans la base de données hello.</span><span class="sxs-lookup"><span data-stu-id="356a6-145">hello server admin account you are connecting with is a member of db_owner, which has authority toodo anything within hello database.</span></span> <span data-ttu-id="356a6-146">Enregistrez ce compte pour l’utiliser lors du déploiement des mises à niveau de schéma et d’autres opérations de gestion.</span><span class="sxs-lookup"><span data-stu-id="356a6-146">Save this account for deploying schema upgrades and other management operations.</span></span> <span data-ttu-id="356a6-147">Utiliser le compte de « ApplicationUser » de hello avec tooconnect d’autorisations plus limitée à partir de votre base de données application toohello avec hello des privilèges minimaux requis par votre application.</span><span class="sxs-lookup"><span data-stu-id="356a6-147">Use hello "ApplicationUser" account with more limited permissions tooconnect from your application toohello database with hello least privileges needed by your application.</span></span> <span data-ttu-id="356a6-148">Pour plus d’informations, consultez [Gérer les connexions](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="356a6-148">For more information, see [Manage logins](sql-database-manage-logins.md).</span></span>

<span data-ttu-id="356a6-149">En général, seuls les administrateurs doivent accéder toohello `master` base de données.</span><span class="sxs-lookup"><span data-stu-id="356a6-149">Typically, only administrators need access toohello `master` database.</span></span> <span data-ttu-id="356a6-150">Routine tooeach utilisateur base de données access doit être par les utilisateurs non administrateurs de base de données contenus dans chaque base de données.</span><span class="sxs-lookup"><span data-stu-id="356a6-150">Routine access tooeach user database should be through non-administrator contained database users created in each database.</span></span> <span data-ttu-id="356a6-151">Lorsque vous utilisez les utilisateurs de base de données, vous n’avez pas besoin de connexions toocreate Bonjour `master` base de données.</span><span class="sxs-lookup"><span data-stu-id="356a6-151">When you use contained database users, you do not need toocreate logins in hello `master` database.</span></span> <span data-ttu-id="356a6-152">Pour plus d’informations, voir [Utilisateurs de base de données à relation contenant-contenu - Rendre votre base de données portable](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable).</span><span class="sxs-lookup"><span data-stu-id="356a6-152">For more information, see [Contained Database Users - Making Your Database Portable](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable).</span></span>

<span data-ttu-id="356a6-153">Vous devez vous familiariser avec hello suivant les fonctionnalités qui peuvent être utilisé toolimit ou élever des autorisations :</span><span class="sxs-lookup"><span data-stu-id="356a6-153">You should familiarize yourself with hello following features that can be used toolimit or elevate permissions:</span></span>   
* <span data-ttu-id="356a6-154">[L’emprunt d’identité](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/customizing-permissions-with-impersonation-in-sql-server) et [signature de module](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/signing-stored-procedures-in-sql-server) peut être utilisé toosecurely élever les autorisations temporairement.</span><span class="sxs-lookup"><span data-stu-id="356a6-154">[Impersonation](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/customizing-permissions-with-impersonation-in-sql-server) and [module-signing](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/signing-stored-procedures-in-sql-server) can be used toosecurely elevate permissions temporarily.</span></span>
* <span data-ttu-id="356a6-155">[sécurité au niveau des lignes](https://docs.microsoft.com/sql/relational-databases/security/row-level-security) peut être utilisée pour limiter le nombres de lignes accessibles par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="356a6-155">[Row-Level Security](https://docs.microsoft.com/sql/relational-databases/security/row-level-security) can be used limit which rows a user can access.</span></span>
* <span data-ttu-id="356a6-156">[Le masquage des données](sql-database-dynamic-data-masking-get-started.md) peut être exposition toolimit utilisé des données sensibles.</span><span class="sxs-lookup"><span data-stu-id="356a6-156">[Data Masking](sql-database-dynamic-data-masking-get-started.md) can be used toolimit exposure of sensitive data.</span></span>
* <span data-ttu-id="356a6-157">[Procédures stockées](https://docs.microsoft.com/sql/relational-databases/stored-procedures/stored-procedures-database-engine) peut être utilisé toolimit actions hello qui peuvent être effectuées sur la base de données hello.</span><span class="sxs-lookup"><span data-stu-id="356a6-157">[Stored procedures](https://docs.microsoft.com/sql/relational-databases/stored-procedures/stored-procedures-database-engine) can be used toolimit hello actions that can be taken on hello database.</span></span>

## <a name="next-steps"></a><span data-ttu-id="356a6-158">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="356a6-158">Next steps</span></span>

- <span data-ttu-id="356a6-159">Pour une vue d’ensemble des fonctionnalités de sécurité de base de données SQL hello, consultez [vue d’ensemble de la sécurité SQL](sql-database-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="356a6-159">For an overview of hello SQL Database security features, see [SQL security overview](sql-database-security-overview.md).</span></span>
- <span data-ttu-id="356a6-160">toolearn en savoir plus sur les règles de pare-feu, consultez [des règles de pare-feu](sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="356a6-160">toolearn more about firewall rules, see [Firewall rules](sql-database-firewall-configure.md).</span></span>
- <span data-ttu-id="356a6-161">toolearn sur les utilisateurs et les connexions, consultez [gérer des connexions](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="356a6-161">toolearn about users and logins, see [Manage logins](sql-database-manage-logins.md).</span></span> 
- <span data-ttu-id="356a6-162">Pour une discussion sur la surveillance proactive, consultez [Audit de base de données](sql-database-auditing.md) et [Détection des menaces pour SQL Database](sql-database-threat-detection.md).</span><span class="sxs-lookup"><span data-stu-id="356a6-162">For a discussion of proactive monitoring, see [Database Auditing](sql-database-auditing.md) and [SQL Database Threat Detection](sql-database-threat-detection.md).</span></span>
- <span data-ttu-id="356a6-163">Pour obtenir un didacticiel, consultez [Sécuriser votre base de données Azure SQL Database](sql-database-security-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="356a6-163">For a tutorial, see [Secure your Azure SQL Database](sql-database-security-tutorial.md).</span></span>
