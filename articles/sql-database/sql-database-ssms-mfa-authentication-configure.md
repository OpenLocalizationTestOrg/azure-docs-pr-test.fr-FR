---
title: "Configurer Multi-Factor Authentication - Azure SQL | Microsoft Docs"
description: "Utilisez l’authentification multi-facteur avec SSMS pour la base de données SQL et SQL Data Warehouse."
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: 
tags: 
ms.assetid: 
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 07/17/2017
ms.author: rickbyh
ms.openlocfilehash: fd78b34e8bbefdaa79a73d69ff2a0e3c1c342e98
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/18/2017
---
# <a name="configure-multi-factor-authentication-for-sql-server-management-studio-and-azure-ad"></a><span data-ttu-id="134aa-103">Configurer l’authentification multifacteur pour SQL Server Management Studio et Azure AD</span><span class="sxs-lookup"><span data-stu-id="134aa-103">Configure multi-factor authentication for SQL Server Management Studio and Azure AD</span></span>

<span data-ttu-id="134aa-104">Cette rubrique montre comment utiliser l’authentification multifacteur Azure Active Directory (MFA) avec SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="134aa-104">This topic shows you how to use Azure Active Directory multi-factor authentication (MFA) with SQL Server Management Studio.</span></span> <span data-ttu-id="134aa-105">Azure AD MFA peut être utilisé au moment de la connexion de SSMS ou SqlPackage.exe à Azure SQL Database et Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="134aa-105">Azure AD MFA can be used when connecting SSMS or SqlPackage.exe to Azure SQL Database and Azure SQL Data Warehouse.</span></span>

<span data-ttu-id="134aa-106">Pour une vue d’ensemble de l’authentification multifacteur Azure SQL Database, consultez [Authentification universelle avec SQL Database et SQL Data Warehouse (prise en charge de SSMS pour MFA)](sql-database-ssms-mfa-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="134aa-106">For an overview of Azure SQL Database multi-factor authentication, see [Universal Authentication with SQL Database and SQL Data Warehouse (SSMS support for MFA)](sql-database-ssms-mfa-authentication.md).</span></span>

## <a name="configuration-steps"></a><span data-ttu-id="134aa-107">Configuration</span><span class="sxs-lookup"><span data-stu-id="134aa-107">Configuration steps</span></span>

1. <span data-ttu-id="134aa-108">**Configurer un annuaire Azure Active Directory** : pour plus d’informations, consultez [Administration de votre annuaire Azure AD](https://msdn.microsoft.com/library/azure/hh967611.aspx), [Intégration de vos identités locales à Azure Active Directory](../active-directory/active-directory-aadconnect.md), [Ajout de votre nom de domaine personnalisé à Azure AD](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), [Microsoft Azure now supports federation with Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/) (Microsoft Azure prend désormais en charge la fédération avec Windows Server Active Directory) et [Gestion d’Azure AD à l’aide de Windows PowerShell](https://msdn.microsoft.com/library/azure/jj151815.aspx).</span><span class="sxs-lookup"><span data-stu-id="134aa-108">**Configure an Azure Active Directory** - For more information, see [Administering your Azure AD directory](https://msdn.microsoft.com/library/azure/hh967611.aspx), [Integrating your on-premises identities with Azure Active Directory](../active-directory/active-directory-aadconnect.md), [Add your own domain name to Azure AD](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), [Microsoft Azure now supports federation with Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), and [Manage Azure AD using Windows PowerShell](https://msdn.microsoft.com/library/azure/jj151815.aspx).</span></span>
2. <span data-ttu-id="134aa-109">**Configurer l’authentification MFA** : pour obtenir des instructions pas à pas, consultez [Présentation d’Azure Multi-Factor Authentication](../multi-factor-authentication/multi-factor-authentication.md) et [Accès conditionnel (MFA) avec Azure SQL Database et Data Warehouse](sql-database-conditional-access.md).</span><span class="sxs-lookup"><span data-stu-id="134aa-109">**Configure MFA** - For step-by-step instructions, see [What is Azure Multi-Factor Authentication?](../multi-factor-authentication/multi-factor-authentication.md), [Conditional Access (MFA) with Azure SQL Database and Data Warehouse](sql-database-conditional-access.md).</span></span> <span data-ttu-id="134aa-110">(L’accès conditionnel complet requiert un annuaire Azure Active Directory (Azure AD) Premium.</span><span class="sxs-lookup"><span data-stu-id="134aa-110">(Full conditional access requires a Premium Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="134aa-111">L’authentification MFA limitée est disponible avec un annuaire Azure AD standard.)</span><span class="sxs-lookup"><span data-stu-id="134aa-111">Limited MFA is available with a standard Azure AD.)</span></span>
3. <span data-ttu-id="134aa-112">**Configurer SQL Database ou SQL Data Warehouse pour l’authentification Azure AD** : pour obtenir des instructions pas à pas, consultez [Connexion à SQL Database ou SQL Data Warehouse avec l’authentification Azure Active Directory](sql-database-aad-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="134aa-112">**Configure SQL Database or SQL Data Warehouse for Azure AD Authentication** - For step-by-step instructions, see [Connecting to SQL Database or SQL Data Warehouse By Using Azure Active Directory Authentication](sql-database-aad-authentication.md).</span></span>
4. <span data-ttu-id="134aa-113">**Télécharger SSMS** : sur l’ordinateur client, téléchargez la dernière version de SSMS à partir de la page [Télécharger SQL Server Management Studio (SSMS)](https://msdn.microsoft.com/library/mt238290.aspx).</span><span class="sxs-lookup"><span data-stu-id="134aa-113">**Download SSMS** - On the client computer, download the latest SSMS, from [Download SQL Server Management Studio (SSMS)](https://msdn.microsoft.com/library/mt238290.aspx).</span></span> <span data-ttu-id="134aa-114">Pour toutes les fonctionnalités abordées dans cette rubrique, utilisez au minimum la version 17.2 (juillet 2017).</span><span class="sxs-lookup"><span data-stu-id="134aa-114">For all the features in this topic, use at least July 2017, version 17.2.</span></span>  

## <a name="connecting-by-using-universal-authentication-with-ssms"></a><span data-ttu-id="134aa-115">Connexion à l’aide de l’authentification universelle avec SSMS</span><span class="sxs-lookup"><span data-stu-id="134aa-115">Connecting by using universal authentication with SSMS</span></span>

<span data-ttu-id="134aa-116">Les étapes suivantes montrent comment se connecter à la base de données SQL ou à SQL Data Warehouse à l’aide de la version la plus récente de SSMS.</span><span class="sxs-lookup"><span data-stu-id="134aa-116">The following steps show how to connect to SQL Database or SQL Data Warehouse by using the latest SSMS.</span></span>

1. <span data-ttu-id="134aa-117">Pour vous connecter à l’aide de l’authentification universelle, accédez à la boîte de dialogue **Se connecter au serveur**, puis sélectionnez **Active Directory - Authentification universelle avec MFA**.</span><span class="sxs-lookup"><span data-stu-id="134aa-117">To connect using Universal Authentication, on the **Connect to Server** dialog box, select **Active Directory - Universal with MFA support**.</span></span> <span data-ttu-id="134aa-118">(Si vous voyez **Authentification universelle Active Directory**, vous n’êtes pas en train d’utiliser la dernière version de SSMS.)</span><span class="sxs-lookup"><span data-stu-id="134aa-118">(If you see **Active Directory Universal Authentication** you are not on the latest version of SSMS.)</span></span>  
   <span data-ttu-id="134aa-119">![1mfa-universal-connect][1]</span><span class="sxs-lookup"><span data-stu-id="134aa-119">![1mfa-universal-connect][1]</span></span>  
2. <span data-ttu-id="134aa-120">Renseignez la zone **Nom d’utilisateur** avec les informations d’identification Azure Active Directory, selon le format `user_name@domain.com`.</span><span class="sxs-lookup"><span data-stu-id="134aa-120">Complete the **User name** box with the Azure Active Directory credentials, in the format `user_name@domain.com`.</span></span>  
   <span data-ttu-id="134aa-121">![1mfa-universal-connect-user](./media/sql-database-ssms-mfa-auth/1mfa-universal-connect-user.png)</span><span class="sxs-lookup"><span data-stu-id="134aa-121">![1mfa-universal-connect-user](./media/sql-database-ssms-mfa-auth/1mfa-universal-connect-user.png)</span></span>   
3. <span data-ttu-id="134aa-122">Si vous vous connectez en tant qu’utilisateur invité, vous devez cliquer sur **Options**, puis, dans la boîte de dialogue **Propriété de connexion**, renseigner la zone **Nom du domaine AD ou ID de locataire**.</span><span class="sxs-lookup"><span data-stu-id="134aa-122">If you are connecting as a guest user, you must click **Options**, and on the **Connection Property** dialog box, complete the **AD domain name or tenant ID** box.</span></span> <span data-ttu-id="134aa-123">Pour plus d’informations, consultez [Authentification universelle avec SQL Database et SQL Data Warehouse (prise en charge de SSMS pour MFA)](sql-database-ssms-mfa-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="134aa-123">For more information, see [Universal Authentication with SQL Database and SQL Data Warehouse (SSMS support for MFA)](sql-database-ssms-mfa-authentication.md).</span></span>
   <span data-ttu-id="134aa-124">![mfa-tenant-ssms](./media/sql-database-ssms-mfa-auth/mfa-tenant-ssms.png)</span><span class="sxs-lookup"><span data-stu-id="134aa-124">![mfa-tenant-ssms](./media/sql-database-ssms-mfa-auth/mfa-tenant-ssms.png)</span></span>   
4. <span data-ttu-id="134aa-125">Comme d’habitude pour SQL Database et SQL Data Warehouse, vous devez cliquer sur **Options** et spécifier la base de données dans la boîte de dialogue **Options**.</span><span class="sxs-lookup"><span data-stu-id="134aa-125">As usual for SQL Database and SQL Data Warehouse, you must click **Options** and specify the database on the **Options** dialog box.</span></span> <span data-ttu-id="134aa-126">Si l’utilisateur connecté est un utilisateur invité (c’est-à-dire joe@outlook.com), vous devez cocher la case et ajouter le nom de domaine AD ou l’ID de locataire actuel parmi les options.</span><span class="sxs-lookup"><span data-stu-id="134aa-126">(If the connected user is a guest user ( i.e. joe@outlook.com), you must check the box and add the current AD domain name or tenant ID as part of Options.</span></span> <span data-ttu-id="134aa-127">Consultez [Authentification universelle avec SQL Database et SQL Data Warehouse (prise en charge de SSMS pour MFA)]()(sql-database-ssms-mfa-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="134aa-127">See [Universal Authentication with SQL Database and SQL Data Warehouse (SSMS support for MFA)]()(sql-database-ssms-mfa-authentication.md.</span></span> <span data-ttu-id="134aa-128">Puis, cliquez sur **Se connecter**.</span><span class="sxs-lookup"><span data-stu-id="134aa-128">Then click **Connect**.</span></span>  
5. <span data-ttu-id="134aa-129">Lorsque la boîte de dialogue **Connectez-vous à votre compte** s’affiche, spécifiez le compte et le mot de passe de votre identité Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="134aa-129">When the **Sign in to your account** dialog box appears, provide the account and password of your Azure Active Directory identity.</span></span> <span data-ttu-id="134aa-130">Aucun mot de passe n’est requis si un utilisateur fait partie d’un domaine fédéré avec Azure AD.</span><span class="sxs-lookup"><span data-stu-id="134aa-130">No password is required if a user is part of a domain federated with Azure AD.</span></span>  
   <span data-ttu-id="134aa-131">![2mfa-sign-in][2]</span><span class="sxs-lookup"><span data-stu-id="134aa-131">![2mfa-sign-in][2]</span></span>  

   > [!NOTE]
   > <span data-ttu-id="134aa-132">Pour l’authentification universelle avec un compte qui ne nécessite pas MFA, vous vous connectez à ce stade.</span><span class="sxs-lookup"><span data-stu-id="134aa-132">For Universal Authentication with an account that does not require MFA, you connect at this point.</span></span> <span data-ttu-id="134aa-133">Pour les utilisateurs nécessitant MFA, passez aux étapes suivantes :</span><span class="sxs-lookup"><span data-stu-id="134aa-133">For users requiring MFA, continue with the following steps:</span></span>
   >  
   
6. <span data-ttu-id="134aa-134">Deux boîtes de dialogue de configuration de MFA peuvent s’afficher.</span><span class="sxs-lookup"><span data-stu-id="134aa-134">Two MFA setup dialog boxes might appear.</span></span> <span data-ttu-id="134aa-135">Cette opération à exécuter une seule fois dépend de l’administrateur du paramètre de l’administrateur MFA et peut être par conséquent facultative.</span><span class="sxs-lookup"><span data-stu-id="134aa-135">This one time operation depends on the MFA administrator setting, and therefore may be optional.</span></span> <span data-ttu-id="134aa-136">Pour un domaine avec MFA activée, cette étape est parfois prédéfinie (par exemple, le domaine exige que les utilisateurs utilisent une carte à puce et un code confidentiel).</span><span class="sxs-lookup"><span data-stu-id="134aa-136">For an MFA enabled domain this step is sometimes pre-defined (for example, the domain requires users to use a smartcard and pin).</span></span>  
   ![3mfa-setup][3]  
7. <span data-ttu-id="134aa-138">La deuxième boîte de dialogue unique possible vous permet de sélectionner les détails de votre méthode d’authentification.</span><span class="sxs-lookup"><span data-stu-id="134aa-138">The second possible one time dialog box allows you to select the details of your authentication method.</span></span> <span data-ttu-id="134aa-139">Les options possibles sont configurées par votre administrateur.</span><span class="sxs-lookup"><span data-stu-id="134aa-139">The possible options are configured by your administrator.</span></span>  
   ![4mfa-verify-1][4]  
8. <span data-ttu-id="134aa-141">Azure Active Directory vous envoie les informations de confirmation.</span><span class="sxs-lookup"><span data-stu-id="134aa-141">The Azure Active Directory sends the confirming information to you.</span></span> <span data-ttu-id="134aa-142">Lorsque vous recevez le code de vérification, entrez-le dans la zone **Entrez le code de vérification**, puis cliquez sur **Connexion**.</span><span class="sxs-lookup"><span data-stu-id="134aa-142">When you receive the verification code, enter it into the **Enter verification code** box, and click **Sign in**.</span></span>  
   <span data-ttu-id="134aa-143">![5mfa-verify-2][5]</span><span class="sxs-lookup"><span data-stu-id="134aa-143">![5mfa-verify-2][5]</span></span>  

<span data-ttu-id="134aa-144">Lorsque la vérification est terminée, SSMS se connecte normalement à condition que les informations d’identification soient valides et qu’un accès au pare-feu soit possible.</span><span class="sxs-lookup"><span data-stu-id="134aa-144">When verification is complete, SSMS connects normally presuming valid credentials and firewall access.</span></span>

## <a name="next-steps"></a><span data-ttu-id="134aa-145">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="134aa-145">Next steps</span></span>

* <span data-ttu-id="134aa-146">Pour une vue d’ensemble de l’authentification multifacteur Azure SQL Database, consultez [Authentification universelle avec SQL Database et SQL Data Warehouse (prise en charge de SSMS pour MFA)](sql-database-ssms-mfa-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="134aa-146">For an overview of Azure SQL Database multi-factor authentication, see Universal Authentication with [SQL Database and SQL Data Warehouse (SSMS support for MFA)](sql-database-ssms-mfa-authentication.md).</span></span>
* <span data-ttu-id="134aa-147">Octroyer à d’autres utilisateurs l’accès à votre base de données : [Authentification et autorisation de base de données SQL : octroi de l’accès](sql-database-manage-logins.md)</span><span class="sxs-lookup"><span data-stu-id="134aa-147">Grant others access to your database: [SQL Database Authentication and Authorization: Granting Access](sql-database-manage-logins.md)</span></span>  
<span data-ttu-id="134aa-148">Vérifiez que les autres utilisateurs peuvent se connecter par le biais du pare-feu : [Configurer une règle de pare-feu au niveau du serveur sur Azure SQL Database à l’aide du portail Azure](sql-database-configure-firewall-settings.md)</span><span class="sxs-lookup"><span data-stu-id="134aa-148">Make sure others can connect through the firewall: [Configure an Azure SQL Database server-level firewall rule using the Azure portal](sql-database-configure-firewall-settings.md)</span></span>


[1]: ./media/sql-database-ssms-mfa-auth/1mfa-universal-connect.png
[2]: ./media/sql-database-ssms-mfa-auth/2mfa-sign-in.png
[3]: ./media/sql-database-ssms-mfa-auth/3mfa-setup.png
[4]: ./media/sql-database-ssms-mfa-auth/4mfa-verify-1.png
[5]: ./media/sql-database-ssms-mfa-auth/5mfa-verify-2.png

