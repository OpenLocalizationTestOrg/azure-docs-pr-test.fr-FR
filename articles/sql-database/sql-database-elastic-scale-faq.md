---
title: "FAQ sur l’infrastructure élastique d’Azure SQL | Microsoft Docs"
description: Frequently Asked Questions about Azure SQL Database Elastic Scale.
services: sql-database
documentationcenter: 
manager: jhubbard
author: ddove
editor: 
ms.assetid: e60dde9c-bb7b-4f2f-b52c-bdb506d49fcb
ms.service: sql-database
ms.custom: scale out apps
ms.workload: sql-database
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/24/2016
ms.author: ddove
ms.openlocfilehash: f0a7b5ce61feaead608d457465f64813737fa112
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="elastic-database-tools-faq"></a><span data-ttu-id="6afe0-103">FAQ sur les outils de bases de données élastiques</span><span class="sxs-lookup"><span data-stu-id="6afe0-103">Elastic database tools FAQ</span></span>
#### <a name="if-i-have-a-single-tenant-per-shard-and-no-sharding-key-how-do-i-populate-the-sharding-key-for-the-schema-info"></a><span data-ttu-id="6afe0-104">Si je possède un locataire unique par partition et aucune clé de partitionnement, comment remplir la clé de partitionnement pour les informations de schéma ?</span><span class="sxs-lookup"><span data-stu-id="6afe0-104">If I have a single-tenant per shard and no sharding key, how do I populate the sharding key for the schema info?</span></span>
<span data-ttu-id="6afe0-105">L’objet d’informations de schéma est utilisé uniquement dans les scénarios de fractionnement/fusion.</span><span class="sxs-lookup"><span data-stu-id="6afe0-105">The schema info object is only used to split merge scenarios.</span></span> <span data-ttu-id="6afe0-106">Si une application ne possède par nature qu’un seul locataire, elle n’a pas besoin de l’outil de fractionnement/fusion, et il n’est donc pas nécessaire de remplir l’objet d’informations de schéma.</span><span class="sxs-lookup"><span data-stu-id="6afe0-106">If an application is inherently single-tenant, then it does not require the Split Merge tool and thus there is no need to populate the schema info object.</span></span>

#### <a name="ive-provisioned-a-database-and-i-already-have-a-shard-map-manager-how-do-i-register-this-new-database-as-a-shard"></a><span data-ttu-id="6afe0-107">J’ai configuré une base de données et dispose déjà d’un gestionnaire de cartes de partition, comment enregistrer cette nouvelle base de données en tant que partition ?</span><span class="sxs-lookup"><span data-stu-id="6afe0-107">I’ve provisioned a database and I already have a Shard Map Manager, how do I register this new database as a shard?</span></span>
<span data-ttu-id="6afe0-108">Consultez **[Ajout d’une partition à une application à l’aide de la bibliothèque cliente des bases de données élastiques](sql-database-elastic-scale-add-a-shard.md)**.</span><span class="sxs-lookup"><span data-stu-id="6afe0-108">Please see **[Adding a shard to an application using the elastic database client library](sql-database-elastic-scale-add-a-shard.md)**.</span></span> 

#### <a name="how-much-do-elastic-database-tools-cost"></a><span data-ttu-id="6afe0-109">Combien coûtent les outils de bases de données élastiques ?</span><span class="sxs-lookup"><span data-stu-id="6afe0-109">How much do elastic database tools cost?</span></span>
<span data-ttu-id="6afe0-110">L’utilisation de la bibliothèque cliente des bases de données élastiques est gratuite.</span><span class="sxs-lookup"><span data-stu-id="6afe0-110">Using the elastic database client library does not incur any costs.</span></span> <span data-ttu-id="6afe0-111">Les coûts sont uniquement liés à l’utilisation des bases de données Azure SQL pour les partitions et le gestionnaire des mappages de partition, ainsi qu’aux rôles web/de travail configurés pour le service de fractionnement/fusion.</span><span class="sxs-lookup"><span data-stu-id="6afe0-111">Costs accrue only for the Azure SQL databases that you use for shards and the Shard Map Manager, as well as the web/worker roles you provision for the Split Merge tool.</span></span>

#### <a name="why-are-my-credentials-not-working-when-i-add-a-shard-from-a-different-server"></a><span data-ttu-id="6afe0-112">Pourquoi mes informations d’identification ne fonctionnent pas quand j’ajoute une partition d’un autre serveur ?</span><span class="sxs-lookup"><span data-stu-id="6afe0-112">Why are my credentials not working when I add a shard from a different server?</span></span>
<span data-ttu-id="6afe0-113">N’utilisez pas les informations d’identification sous la forme de « ID utilisateur =username@servername», à la place utiliser simplement « ID utilisateur = nom d’utilisateur ».</span><span class="sxs-lookup"><span data-stu-id="6afe0-113">Do not use credentials in the form of “User ID=username@servername”, instead simply use “User ID = username”.</span></span>  <span data-ttu-id="6afe0-114">Par ailleurs, assurez-vous que l’ID de connexion « nom_utilisateur » dispose d’autorisations sur la partition.</span><span class="sxs-lookup"><span data-stu-id="6afe0-114">Also, be sure that the “username” login has permissions on the shard.</span></span>

#### <a name="do-i-need-to-create-a-shard-map-manager-and-populate-shards-every-time-i-start-my-applications"></a><span data-ttu-id="6afe0-115">Dois-je créer un gestionnaire de cartes de partition et remplir les partitions chaque fois que je démarre mes applications ?</span><span class="sxs-lookup"><span data-stu-id="6afe0-115">Do I need to create a Shard Map Manager and populate shards every time I start my applications?</span></span>
<span data-ttu-id="6afe0-116">Non, la création du gestionnaire de mappages de partitions (par exemple, **[ShardMapManagerFactory.CreateSqlShardMapManager](http://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmapmanagerfactory.createsqlshardmapmanager.aspx)**) est une opération unique.</span><span class="sxs-lookup"><span data-stu-id="6afe0-116">No—the creation of the Shard Map Manager (for example, **[ShardMapManagerFactory.CreateSqlShardMapManager](http://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmapmanagerfactory.createsqlshardmapmanager.aspx)**) is a one-time operation.</span></span>  <span data-ttu-id="6afe0-117">Votre application doit appeler **[ShardMapManagerFactory.TryGetSqlShardMapManager()](http://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmapmanagerfactory.trygetsqlshardmapmanager.aspx)** au démarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="6afe0-117">Your application should use the call **[ShardMapManagerFactory.TryGetSqlShardMapManager()](http://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmapmanagerfactory.trygetsqlshardmapmanager.aspx)** at application start-up time.</span></span>  <span data-ttu-id="6afe0-118">Un seul appel de ce type n’est possible par domaine d’application.</span><span class="sxs-lookup"><span data-stu-id="6afe0-118">There should only one such call per application domain.</span></span>

#### <a name="i-have-questions-about-using-elastic-database-tools-how-do-i-get-them-answered"></a><span data-ttu-id="6afe0-119">J’ai des questions sur l’utilisation des outils de bases de données élastique. Où trouver les réponses ?</span><span class="sxs-lookup"><span data-stu-id="6afe0-119">I have questions about using elastic database tools, how do I get them answered?</span></span>
<span data-ttu-id="6afe0-120">Contactez-nous via le [forum Azure SQL Database](https://social.msdn.microsoft.com/forums/azure/home?forum=ssdsgetstarted).</span><span class="sxs-lookup"><span data-stu-id="6afe0-120">Please reach out to us on the [Azure SQL Database forum](https://social.msdn.microsoft.com/forums/azure/home?forum=ssdsgetstarted).</span></span>

#### <a name="when-i-get-a-database-connection-using-a-sharding-key-i-can-still-query-data-for-other-sharding-keys-on-the-same-shard--is-this-by-design"></a><span data-ttu-id="6afe0-121">Quand j’obtiens une connexion de base de données à l’aide d’une clé de partitionnement, je peux encore interroger les données pour d’autres clés de partitionnement sur la même partition.</span><span class="sxs-lookup"><span data-stu-id="6afe0-121">When I get a database connection using a sharding key, I can still query data for other sharding keys on the same shard.</span></span>  <span data-ttu-id="6afe0-122">Est-ce normal ?</span><span class="sxs-lookup"><span data-stu-id="6afe0-122">Is this by design?</span></span>
<span data-ttu-id="6afe0-123">Les API d’infrastructure élastique vous donnent une connexion à la base de données correspondant à votre clé de partitionnement, mais elles ne permettent pas de filtrer les clés de partitionnement.</span><span class="sxs-lookup"><span data-stu-id="6afe0-123">The Elastic Scale APIs give you a connection to the correct database for your sharding key, but do not provide sharding key filtering.</span></span>  <span data-ttu-id="6afe0-124">Ajoutez des clauses **WHERE** à votre requête pour restreindre l’étendue à la clé de partitionnement fournie, si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="6afe0-124">Add **WHERE** clauses to your query to restrict the scope to the provided sharding key, if necessary.</span></span>

#### <a name="can-i-use-a-different-azure-database-edition-for-each-shard-in-my-shard-set"></a><span data-ttu-id="6afe0-125">Puis-je utiliser une édition différente d’Azure SQL Database pour chaque partition de mon ensemble de partitions ?</span><span class="sxs-lookup"><span data-stu-id="6afe0-125">Can I use a different Azure Database edition for each shard in my shard set?</span></span>
<span data-ttu-id="6afe0-126">Oui, une partition est une base de données individuelle, par conséquent, une partition peut utiliser une édition Premium alors qu’une autre utilise une édition Standard.</span><span class="sxs-lookup"><span data-stu-id="6afe0-126">Yes, a shard is an individual database, and thus one shard could be a Premium edition while another be a Standard edition.</span></span> <span data-ttu-id="6afe0-127">Par ailleurs, l’édition d’une partition peut monter ou descendre en puissance plusieurs fois pendant la durée de vie de la partition.</span><span class="sxs-lookup"><span data-stu-id="6afe0-127">Further, the edition of a shard can scale up or down multiple times during the lifetime of the shard.</span></span>

#### <a name="does-the-split-merge-tool-provision-or-delete-a-database-during-a-split-or-merge-operation"></a><span data-ttu-id="6afe0-128">Le service de fractionnement/fusion configure-t-il (ou supprime-t-il) une base de données pendant une opération de fractionnement ou de fusion ?</span><span class="sxs-lookup"><span data-stu-id="6afe0-128">Does the Split Merge tool provision (or delete) a database during a split or merge operation?</span></span>
<span data-ttu-id="6afe0-129">Non.</span><span class="sxs-lookup"><span data-stu-id="6afe0-129">No.</span></span> <span data-ttu-id="6afe0-130">Pour les opérations de **fractionnement** , la base de données cible doit exister avec le schéma approprié et être enregistrée dans le gestionnaire de mappages de partition.</span><span class="sxs-lookup"><span data-stu-id="6afe0-130">For **split** operations, the target database must exist with the appropriate schema and be registered with the Shard Map Manager.</span></span>  <span data-ttu-id="6afe0-131">Pour les opérations de **fusion** , vous devez supprimer la partition à partir du gestionnaire de mappages de partition, puis supprimer la base de données.</span><span class="sxs-lookup"><span data-stu-id="6afe0-131">For **merge** operations, you must delete the shard from the shard map manager and then delete the database.</span></span>

[!INCLUDE [elastic-scale-include](../../includes/elastic-scale-include.md)]

