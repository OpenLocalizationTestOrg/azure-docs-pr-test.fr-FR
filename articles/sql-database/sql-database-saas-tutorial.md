---
title: "aaaDeploy et Explorer les application SaaS de Wingtip hello mutualisée qui utilise la base de données SQL Azure | Documents Microsoft"
description: "Déployer et Explorer l’application hello Wingtip SaaS mutualisée, qui illustre les modèles SaaS à l’aide de la base de données SQL Azure."
keywords: "didacticiel sur les bases de données SQL"
services: sql-database
documentationcenter: 
author: stevestein
manager: jhubbard
editor: 
ms.assetid: 
ms.service: sql-database
ms.custom: scale out apps
ms.workload: data-management
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/26/2017
ms.author: sstein
ms.openlocfilehash: 7c528ee19472d3b8c7a285b2f86013945e8f4bf4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="deploy-and-explore-a-multi-tenant-application-that-uses-azure-sql-database---wingtip-saas"></a><span data-ttu-id="67c3f-104">Déployer et explorer une application mutualisée qui utilise Azure SQL Database - Wingtip SaaS</span><span class="sxs-lookup"><span data-stu-id="67c3f-104">Deploy and explore a multi-tenant application that uses Azure SQL Database - Wingtip SaaS</span></span>

<span data-ttu-id="67c3f-105">Dans ce didacticiel, vous déployez et explorez hello Wingtip SaaS application.</span><span class="sxs-lookup"><span data-stu-id="67c3f-105">In this tutorial, you deploy and explore hello Wingtip SaaS application.</span></span> <span data-ttu-id="67c3f-106">application Hello utilise un base de données-par-client, modèle d’application SaaS, tooservice plusieurs clients.</span><span class="sxs-lookup"><span data-stu-id="67c3f-106">hello application uses a database-per-tenant, SaaS application pattern, tooservice multiple tenants.</span></span> <span data-ttu-id="67c3f-107">l’application Hello est conçue tooshowcase les fonctionnalités de base de données SQL Azure qui simplifient l’activation de scénarios de SaaS.</span><span class="sxs-lookup"><span data-stu-id="67c3f-107">hello application is designed tooshowcase features of Azure SQL Database that simplify enabling SaaS scenarios.</span></span>

<span data-ttu-id="67c3f-108">Cinq minutes après avoir cliqué sur hello *déployer tooAzure* bouton ci-dessous, vous avez une application SaaS mutualisée, à l’aide de base de données SQL, jusqu'à et en cours d’exécution dans le cloud de hello.</span><span class="sxs-lookup"><span data-stu-id="67c3f-108">Five minutes after clicking hello *Deploy tooAzure* button below, you have a multi-tenant SaaS application, using SQL Database, up and running in hello cloud.</span></span> <span data-ttu-id="67c3f-109">application Hello est déployée dans les clients exemple trois, chacun avec sa propre base de données, tous déployé dans un pool élastique SQL.</span><span class="sxs-lookup"><span data-stu-id="67c3f-109">hello application is deployed with three sample tenants, each with its own database, all deployed into a SQL elastic pool.</span></span> <span data-ttu-id="67c3f-110">application Hello est déployé tooyour abonnement Azure, vous offrant un accès complet tooexplore et utiliser des composants d’application individuels hello.</span><span class="sxs-lookup"><span data-stu-id="67c3f-110">hello app is deployed tooyour Azure subscription, giving you full access tooexplore and work with hello individual application components.</span></span> <span data-ttu-id="67c3f-111">scripts de gestion et de code source d’application Hello sont disponibles dans hello référentiel WingtipSaaS GitHub.</span><span class="sxs-lookup"><span data-stu-id="67c3f-111">hello application source code and management scripts are available in hello WingtipSaaS GitHub repo.</span></span>


<span data-ttu-id="67c3f-112">Ce didacticiel vous apprend à effectuer les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="67c3f-112">In this tutorial you learn:</span></span>

> [!div class="checklist"]

> * <span data-ttu-id="67c3f-113">Comment toodeploy hello application Wingtip SaaS</span><span class="sxs-lookup"><span data-stu-id="67c3f-113">How toodeploy hello Wingtip SaaS application</span></span>
> * <span data-ttu-id="67c3f-114">Où tooget hello code source d’applications et les scripts d’administration</span><span class="sxs-lookup"><span data-stu-id="67c3f-114">Where tooget hello application source code, and management scripts</span></span>
> * <span data-ttu-id="67c3f-115">Sur les serveurs de hello, les pools et les bases de données qui composent application hello</span><span class="sxs-lookup"><span data-stu-id="67c3f-115">About hello servers, pools, and databases that make up hello app</span></span>
> * <span data-ttu-id="67c3f-116">Comment les clients sont mappées les données tootheir par hello *catalogue*</span><span class="sxs-lookup"><span data-stu-id="67c3f-116">How tenants are mapped tootheir data with hello *catalog*</span></span>
> * <span data-ttu-id="67c3f-117">Comment tooprovision un nouveau client.</span><span class="sxs-lookup"><span data-stu-id="67c3f-117">How tooprovision a new tenant</span></span>
> * <span data-ttu-id="67c3f-118">Comment toomonitor locataire activité dans une application hello</span><span class="sxs-lookup"><span data-stu-id="67c3f-118">How toomonitor tenant activity in hello app</span></span>

<span data-ttu-id="67c3f-119">tooexplore divers SaaS conception et gestion des modèles, un [série de didacticiels associées](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials) n’est disponible qui reposent sur ce déploiement initial.</span><span class="sxs-lookup"><span data-stu-id="67c3f-119">tooexplore various SaaS design and management patterns, a [series of related tutorials](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials) is available that build upon this initial deployment.</span></span> <span data-ttu-id="67c3f-120">Tout en parcourant les didacticiels hello, plonger dans les scripts hello fourni et examinez l’implémentation de différents modèles de SaaS hello.</span><span class="sxs-lookup"><span data-stu-id="67c3f-120">While going through hello tutorials, dive into hello provided scripts, and examine how hello different SaaS patterns are implemented.</span></span> <span data-ttu-id="67c3f-121">Parcourir les scripts de hello dans chaque didacticiel toogain une compréhension plus approfondie comment tooimplement hello base de données SQL de nombreuses fonctionnalités qui simplifient le développement d’applications SaaS.</span><span class="sxs-lookup"><span data-stu-id="67c3f-121">Step through hello scripts in each tutorial toogain a deeper understanding how tooimplement hello many SQL Database features that simplify developing SaaS applications.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="67c3f-122">Composants requis</span><span class="sxs-lookup"><span data-stu-id="67c3f-122">Prerequisites</span></span>

<span data-ttu-id="67c3f-123">toocomplete ce didacticiel, assurez-vous que hello est suivant des conditions préalables requises sont effectuées :</span><span class="sxs-lookup"><span data-stu-id="67c3f-123">toocomplete this tutorial, make sure hello following prerequisites are completed:</span></span>

* <span data-ttu-id="67c3f-124">Azure PowerShell est installé.</span><span class="sxs-lookup"><span data-stu-id="67c3f-124">Azure PowerShell is installed.</span></span> <span data-ttu-id="67c3f-125">Pour plus d’informations, consultez [Bien démarrer avec Azure PowerShell](https://docs.microsoft.com/powershell/azure/get-started-azureps).</span><span class="sxs-lookup"><span data-stu-id="67c3f-125">For details, see [Getting started with Azure PowerShell](https://docs.microsoft.com/powershell/azure/get-started-azureps)</span></span>

## <a name="deploy-hello-wingtip-saas-application"></a><span data-ttu-id="67c3f-126">Déployer l’application de Wingtip SaaS hello</span><span class="sxs-lookup"><span data-stu-id="67c3f-126">Deploy hello Wingtip SaaS application</span></span>

<span data-ttu-id="67c3f-127">Déploiement d’une application de Wingtip SaaS hello :</span><span class="sxs-lookup"><span data-stu-id="67c3f-127">Deploy hello Wingtip SaaS app:</span></span>

1. <span data-ttu-id="67c3f-128">En cliquant sur hello **déployer tooAzure** bouton ouvre le modèle de déploiement Wingtip SaaS hello toohello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="67c3f-128">Clicking hello **Deploy tooAzure** button opens hello Azure portal toohello Wingtip SaaS deployment template.</span></span> <span data-ttu-id="67c3f-129">modèle de Hello nécessite deux valeurs de paramètre ; un nom pour un groupe de ressources et un nom d’utilisateur qui distingue ce déploiement à partir d’autres déploiements d’application de Wingtip SaaS hello.</span><span class="sxs-lookup"><span data-stu-id="67c3f-129">hello template requires two parameter values; a name for a new resource group, and a user name that distinguishes this deployment from other deployments of hello Wingtip SaaS app.</span></span> <span data-ttu-id="67c3f-130">étape suivante de Hello fournit des détails sur la définition de ces valeurs.</span><span class="sxs-lookup"><span data-stu-id="67c3f-130">hello next step provides details for setting these values.</span></span>

   <span data-ttu-id="67c3f-131">Assurez-vous que toonote hello exactement les valeurs que vous utilisez, car vous devrez tooenter dans une configuration de fichier plus tard.</span><span class="sxs-lookup"><span data-stu-id="67c3f-131">Make sure toonote hello exact values that you use, because you will need tooenter them into a configuration file later.</span></span>

   <a href="http://aka.ms/deploywtpapp" target="_blank"><img src="http://azuredeploy.net/deploybutton.png"/></a>

1. <span data-ttu-id="67c3f-132">Entrez les valeurs des paramètres requis pour le déploiement de hello :</span><span class="sxs-lookup"><span data-stu-id="67c3f-132">Enter required parameter values for hello deployment:</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="67c3f-133">Certaines authentifications et pare-feu de serveur sont volontairement non sécurisés à des fins de démonstration.</span><span class="sxs-lookup"><span data-stu-id="67c3f-133">Some authentication, and server firewalls are intentionally unsecured for demonstration purposes.</span></span> <span data-ttu-id="67c3f-134">**Créez un nouveau groupe de ressources** et n’utilisez pas de groupes de ressources, serveurs ou pools existants.</span><span class="sxs-lookup"><span data-stu-id="67c3f-134">**Create a new resource group**, and do not use existing resource groups, servers, or pools.</span></span> <span data-ttu-id="67c3f-135">N’utilisez pas cette application, ni les ressources qu’elle crée, pour la production.</span><span class="sxs-lookup"><span data-stu-id="67c3f-135">Do not use this application, or any resources it creates, for production.</span></span> <span data-ttu-id="67c3f-136">Supprimer cette ressource de groupe lorsque vous avez terminé avec hello application toostop liées à la facturation.</span><span class="sxs-lookup"><span data-stu-id="67c3f-136">Delete this resource group when you are finished with hello application toostop related billing.</span></span>

    * <span data-ttu-id="67c3f-137">**Groupe de ressources** : sélectionnez **nouvel** et fournir un **nom** pour le groupe de ressources hello.</span><span class="sxs-lookup"><span data-stu-id="67c3f-137">**Resource group** - Select **Create new** and provide a **Name** for hello resource group.</span></span> <span data-ttu-id="67c3f-138">Sélectionnez un **emplacement** à partir de la liste déroulante de hello.</span><span class="sxs-lookup"><span data-stu-id="67c3f-138">Select a **Location** from hello drop-down list.</span></span>
    * <span data-ttu-id="67c3f-139">**Utilisateur** : certaines ressources nécessitent des noms globalement uniques.</span><span class="sxs-lookup"><span data-stu-id="67c3f-139">**User** - Some resources require names that are globally unique.</span></span> <span data-ttu-id="67c3f-140">l’unicité de tooensure, chaque fois que vous déployez l’application hello fournir une valeur ressources toodifferentiate créer, à partir des ressources créées par d’autres déploiements de hello application de Wingtip.</span><span class="sxs-lookup"><span data-stu-id="67c3f-140">tooensure uniqueness, each time you deploy hello application provide a value toodifferentiate resources you create, from resources created by any other deployment of hello Wingtip application.</span></span> <span data-ttu-id="67c3f-141">Il est recommandé de toouse un court **utilisateur** nom, tels que vos initiales plus un nombre (par exemple, *bg1*) et l’utiliser ensuite dans le nom de groupe de ressources hello (par exemple, *wingtip-bg1*).</span><span class="sxs-lookup"><span data-stu-id="67c3f-141">It’s recommended toouse a short **User** name, such as your initials plus a number (for example, *bg1*), and then use that in hello resource group name (for example, *wingtip-bg1*).</span></span> <span data-ttu-id="67c3f-142">Le paramètre **Utilisateur** peut contenir uniquement des lettres, des chiffres et des traits d’union (sans espaces).</span><span class="sxs-lookup"><span data-stu-id="67c3f-142">The **User** parameter can only contain letters, numbers, and hyphens (no spaces).</span></span> <span data-ttu-id="67c3f-143">premier et dernier caractères Hello doit être une lettre ou un chiffre (toutes les minuscules recommandé).</span><span class="sxs-lookup"><span data-stu-id="67c3f-143">hello first and last character must be a letter or a number (all lowercase is recommended).</span></span>


1. <span data-ttu-id="67c3f-144">**Déployer l’application hello**.</span><span class="sxs-lookup"><span data-stu-id="67c3f-144">**Deploy hello application**.</span></span>

    * <span data-ttu-id="67c3f-145">Cliquez sur tooagree toohello termes et conditions.</span><span class="sxs-lookup"><span data-stu-id="67c3f-145">Click tooagree toohello terms and conditions.</span></span>
    * <span data-ttu-id="67c3f-146">Cliquez sur **Achat**.</span><span class="sxs-lookup"><span data-stu-id="67c3f-146">Click **Purchase**.</span></span>

1. <span data-ttu-id="67c3f-147">Surveiller l’état du déploiement en cliquant sur **Notifications** (icône de cloche hello à droite de la zone de recherche hello).</span><span class="sxs-lookup"><span data-stu-id="67c3f-147">Monitor deployment status by clicking **Notifications** (hello bell icon right of hello search box).</span></span> <span data-ttu-id="67c3f-148">Application de Wingtip SaaS hello déploiement prend environ cinq minutes.</span><span class="sxs-lookup"><span data-stu-id="67c3f-148">Deploying hello Wingtip SaaS app takes approximately five minutes.</span></span>

   ![déploiement réussi](media/sql-database-saas-tutorial/succeeded.png)

## <a name="download-and-unblock-hello-wingtip-saas-scripts"></a><span data-ttu-id="67c3f-150">Téléchargez et débloquer des scripts de hello Wingtip SaaS</span><span class="sxs-lookup"><span data-stu-id="67c3f-150">Download and unblock hello Wingtip SaaS scripts</span></span>

<span data-ttu-id="67c3f-151">Pendant le déploiement de l’application hello, téléchargez les scripts de gestion et de code source hello.</span><span class="sxs-lookup"><span data-stu-id="67c3f-151">While hello application is deploying, download hello source code and management scripts.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="67c3f-152">Le contenu exécutable (scripts, DLL) peut être bloqué par Windows lorsque des fichiers zip sont téléchargés à partir d’une source externe puis extraits.</span><span class="sxs-lookup"><span data-stu-id="67c3f-152">Executable contents (scripts, dlls) may be blocked by Windows when zip files are downloaded from an external source and extracted.</span></span> <span data-ttu-id="67c3f-153">Lorsque vous extrayez les scripts hello à partir d’un fichier zip, suivez les étapes de hello ci-dessous le fichier .zip de hello toounblock avant l’extraction.</span><span class="sxs-lookup"><span data-stu-id="67c3f-153">When extracting hello scripts from a zip file, follow hello steps below toounblock hello .zip file before extracting.</span></span> <span data-ttu-id="67c3f-154">Cela garantit que les scripts de hello sont autorisés à toorun.</span><span class="sxs-lookup"><span data-stu-id="67c3f-154">This ensures hello scripts are allowed toorun.</span></span>

1. <span data-ttu-id="67c3f-155">Parcourir trop[du référentiel github hello Wingtip SaaS](https://github.com/Microsoft/WingtipSaaS).</span><span class="sxs-lookup"><span data-stu-id="67c3f-155">Browse too[hello Wingtip SaaS github repo](https://github.com/Microsoft/WingtipSaaS).</span></span>
1. <span data-ttu-id="67c3f-156">Cliquez sur **Cloner ou télécharger**.</span><span class="sxs-lookup"><span data-stu-id="67c3f-156">Click **Clone or download**.</span></span>
1. <span data-ttu-id="67c3f-157">Cliquez sur **ZIP de téléchargement** et enregistrez le fichier de hello.</span><span class="sxs-lookup"><span data-stu-id="67c3f-157">Click **Download ZIP** and save hello file.</span></span>
1. <span data-ttu-id="67c3f-158">Avec le bouton hello **WingtipSaaS-master.zip** de fichiers, puis sélectionnez **propriétés**.</span><span class="sxs-lookup"><span data-stu-id="67c3f-158">Right-click hello **WingtipSaaS-master.zip** file, and select **Properties**.</span></span>
1. <span data-ttu-id="67c3f-159">Sur hello **général** onglet, sélectionnez **Unblock**, puis cliquez sur **appliquer**.</span><span class="sxs-lookup"><span data-stu-id="67c3f-159">On hello **General** tab, select **Unblock**, and click **Apply**.</span></span>
1. <span data-ttu-id="67c3f-160">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="67c3f-160">Click **OK**.</span></span>
1. <span data-ttu-id="67c3f-161">Extrayez les fichiers hello.</span><span class="sxs-lookup"><span data-stu-id="67c3f-161">Extract hello files.</span></span>

<span data-ttu-id="67c3f-162">Les scripts se trouvent dans hello *... \\WingtipSaaS-master\\Modules d’apprentissage* dossier.</span><span class="sxs-lookup"><span data-stu-id="67c3f-162">Scripts are located in hello *..\\WingtipSaaS-master\\Learning Modules* folder.</span></span>

## <a name="update-hello-configuration-file-for-this-deployment"></a><span data-ttu-id="67c3f-163">Mettre à jour le fichier de configuration hello pour ce déploiement</span><span class="sxs-lookup"><span data-stu-id="67c3f-163">Update hello configuration file for this deployment</span></span>

<span data-ttu-id="67c3f-164">Avant d’exécuter des scripts, définissez hello *groupe de ressources* et *utilisateur* valeurs **UserConfig.psm1**.</span><span class="sxs-lookup"><span data-stu-id="67c3f-164">Before running any scripts, set hello *resource group* and *user* values in **UserConfig.psm1**.</span></span> <span data-ttu-id="67c3f-165">Permet de définir des valeurs toohello que vous avez défini pendant le déploiement de ces variables.</span><span class="sxs-lookup"><span data-stu-id="67c3f-165">Set these variables toohello values you set during deployment.</span></span>

1. <span data-ttu-id="67c3f-166">Ouvrir... \\Modules d’apprentissage\\*UserConfig.psm1* Bonjour *PowerShell ISE*</span><span class="sxs-lookup"><span data-stu-id="67c3f-166">Open ...\\Learning Modules\\*UserConfig.psm1* in hello *PowerShell ISE*</span></span>
1. <span data-ttu-id="67c3f-167">Mise à jour *ResourceGroupName* et *nom* avec des valeurs spécifiques hello pour votre déploiement (sur les lignes 10 et 11 uniquement).</span><span class="sxs-lookup"><span data-stu-id="67c3f-167">Update *ResourceGroupName* and *Name* with hello specific values for your deployment (on lines 10 and 11 only).</span></span>
1. <span data-ttu-id="67c3f-168">Enregistrer les modifications de hello !</span><span class="sxs-lookup"><span data-stu-id="67c3f-168">Save hello changes!</span></span>

<span data-ttu-id="67c3f-169">Ce paramètre ici simplement vous évite d’avoir tooupdate ces valeurs spécifiques au déploiement dans chaque script.</span><span class="sxs-lookup"><span data-stu-id="67c3f-169">Setting this here simply keeps you from having tooupdate these deployment-specific values in every script.</span></span>

## <a name="run-hello-application"></a><span data-ttu-id="67c3f-170">Exécutez l’application hello</span><span class="sxs-lookup"><span data-stu-id="67c3f-170">Run hello application</span></span>

<span data-ttu-id="67c3f-171">application Hello présente des systèmes, tels que les salles de concert, service jazz, sportives, etc., qui hébergent des événements.</span><span class="sxs-lookup"><span data-stu-id="67c3f-171">hello app showcases venues, such as concert halls, jazz clubs, sports clubs, that host events.</span></span> <span data-ttu-id="67c3f-172">Les lieux inscrire en tant que clients (ou locataires) de plateforme de Wingtip hello, pour un moyen simple toolist d’événements et de vendent des tickets.</span><span class="sxs-lookup"><span data-stu-id="67c3f-172">Venues register as customers (or tenants) of hello Wingtip platform, for an easy way toolist events and sell tickets.</span></span> <span data-ttu-id="67c3f-173">Chaque salle Obtient un toomanage d’application web personnalisée et répertorier leurs événements et vendre des tickets, indépendantes et isolés des autres clients.</span><span class="sxs-lookup"><span data-stu-id="67c3f-173">Each venue gets a personalized web app toomanage and list their events and sell tickets, independent and isolated from other tenants.</span></span> <span data-ttu-id="67c3f-174">Dans les coulisses hello, chaque locataire Obtient une base de données SQL déployé dans un pool élastique SQL.</span><span class="sxs-lookup"><span data-stu-id="67c3f-174">Under hello covers, each tenant gets a SQL database deployed into a SQL elastic pool.</span></span>

<span data-ttu-id="67c3f-175">Un centre **concentrateur d’événements** fournit une liste de client URL spécifique tooyour déploiement.</span><span class="sxs-lookup"><span data-stu-id="67c3f-175">A central **Events Hub** provides a list of tenant URLs specific tooyour deployment.</span></span>

1. <span data-ttu-id="67c3f-176">Ouvrez hello _concentrateur d’événements_ dans votre navigateur web : http://events.wtp.&lt; UTILISATEUR&gt;. trafficmanager.net (à remplacer par le nom d’utilisateur de votre déploiement) :</span><span class="sxs-lookup"><span data-stu-id="67c3f-176">Open hello _Events Hub_ in your web browser: http://events.wtp.&lt;USER&gt;.trafficmanager.net (replace with your deployment's user name):</span></span>

    ![events hub](media/sql-database-saas-tutorial/events-hub.png)

1. <span data-ttu-id="67c3f-178">Cliquez sur **Fabrikam Jazz Club** dans le *concentrateur d’événements*.</span><span class="sxs-lookup"><span data-stu-id="67c3f-178">Click **Fabrikam Jazz Club** in the *Events Hub*.</span></span>

   ![Événements](./media/sql-database-saas-tutorial/fabrikam.png)


<span data-ttu-id="67c3f-180">distribution de hello toocontrol des demandes entrantes, hello application utilise [ *Azure Traffic Manager*](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-overview).</span><span class="sxs-lookup"><span data-stu-id="67c3f-180">toocontrol hello distribution of incoming requests, hello app uses [*Azure Traffic Manager*](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-overview).</span></span> <span data-ttu-id="67c3f-181">pages d’événements Hello, qui sont spécifiques du client, requièrent que les noms de client sont inclus dans les URL de hello.</span><span class="sxs-lookup"><span data-stu-id="67c3f-181">hello events pages, which are tenant-specific, require that tenant names are included in hello URLs.</span></span> <span data-ttu-id="67c3f-182">Tous les hello client les URL sont spécifiques à votre *utilisateur* valeur et de suivre ce format : http://events.wtp.&lt; UTILISATEUR&gt;.trafficmanager.net/*fabrikamjazzclub*.</span><span class="sxs-lookup"><span data-stu-id="67c3f-182">All hello tenant URLs include your specific *User* value and follow this format: http://events.wtp.&lt;USER&gt;.trafficmanager.net/*fabrikamjazzclub*.</span></span> <span data-ttu-id="67c3f-183">Hello événements application analyse le nom du client à partir de l’URL de hello hello et utilise une clé tooaccess un catalogue à l’aide de toocreate [ *gestion de carte de partitions*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-scale-shard-map-management).</span><span class="sxs-lookup"><span data-stu-id="67c3f-183">hello events app parses hello tenant name from hello URL and uses it toocreate a key tooaccess a catalog using [*shard map management*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-scale-shard-map-management).</span></span> <span data-ttu-id="67c3f-184">mappages de catalogue Hello hello emplacement de base de données du client de la clé toohello.</span><span class="sxs-lookup"><span data-stu-id="67c3f-184">hello catalog maps hello key toohello tenant's database location.</span></span> <span data-ttu-id="67c3f-185">Hello **concentrateur d’événements** utilise des métadonnées dans le nom du locataire hello hello catalogue tooretrieve associé à chaque liste de hello tooprovide de base de données d’URL.</span><span class="sxs-lookup"><span data-stu-id="67c3f-185">hello **Events Hub** uses extended metadata in hello catalog tooretrieve hello tenant’s name associated with each database tooprovide hello list of URLs.</span></span>

<span data-ttu-id="67c3f-186">Dans un environnement de production, vous devez généralement créer un enregistrement DNS CNAME pour [ *pointer un domaine internet de société* ](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-point-internet-domain) pour le profil traffic manager hello.</span><span class="sxs-lookup"><span data-stu-id="67c3f-186">In a production environment, you would typically create a CNAME DNS record to [*point a company internet domain*](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-point-internet-domain) to hello traffic manager profile.</span></span>

## <a name="start-generating-load-on-hello-tenant-databases"></a><span data-ttu-id="67c3f-187">Démarrer la génération de charge sur les bases de données clientes hello</span><span class="sxs-lookup"><span data-stu-id="67c3f-187">Start generating load on hello tenant databases</span></span>

<span data-ttu-id="67c3f-188">Maintenant que hello application est déployée, disons toowork !</span><span class="sxs-lookup"><span data-stu-id="67c3f-188">Now that hello app is deployed, let’s put it toowork!</span></span> <span data-ttu-id="67c3f-189">Hello *LoadGenerator de démonstration* script PowerShell démarre une charge de travail en cours d’exécution sur toutes les bases de données client.</span><span class="sxs-lookup"><span data-stu-id="67c3f-189">hello *Demo-LoadGenerator* PowerShell script starts a workload running against all tenant databases.</span></span> <span data-ttu-id="67c3f-190">chargement du monde réel Hello sur de nombreuses applications SaaS est généralement sporadique et imprévisibles.</span><span class="sxs-lookup"><span data-stu-id="67c3f-190">hello real-world load on many SaaS apps is typically sporadic and unpredictable.</span></span> <span data-ttu-id="67c3f-191">toosimulate ce type de charge, le Générateur de hello génère une charge distribuée entre tous les locataires, rafales aléatoire sur chaque client qui se produisent à intervalles aléatoires.</span><span class="sxs-lookup"><span data-stu-id="67c3f-191">toosimulate this type of load, hello generator produces a load distributed across all tenants, with randomized bursts on each tenant occurring at randomized intervals.</span></span> <span data-ttu-id="67c3f-192">Pour cette raison qu’il prend quelques minutes tooemerge de modèle de charge hello, il est donc meilleures Générateur de hello toolet exécuter au moins trois ou quatre minutes avant d’analyser hello charger.</span><span class="sxs-lookup"><span data-stu-id="67c3f-192">Because of this it takes several minutes for hello load pattern tooemerge, so it’s best toolet hello generator run for at least three or four minutes before monitoring hello load.</span></span>

1. <span data-ttu-id="67c3f-193">Bonjour *PowerShell ISE*, ouvrez hello... \\Modules d’apprentissage\\utilitaires\\*LoadGenerator.ps1 de démonstration* script.</span><span class="sxs-lookup"><span data-stu-id="67c3f-193">In hello *PowerShell ISE*, open hello ...\\Learning Modules\\Utilities\\*Demo-LoadGenerator.ps1* script.</span></span>
1. <span data-ttu-id="67c3f-194">Appuyez sur **F5** pour exécuter le script de hello et démarrer le Générateur de charge hello (laissez hello valeurs par défaut pour l’instant).</span><span class="sxs-lookup"><span data-stu-id="67c3f-194">Press **F5** to run hello script and start hello load generator (leave hello default parameter values for now).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="67c3f-195">toorun autres scripts, ouvrez une nouvelle fenêtre de PowerShell ISE.</span><span class="sxs-lookup"><span data-stu-id="67c3f-195">toorun other scripts, open a new PowerShell ISE window.</span></span> <span data-ttu-id="67c3f-196">Générateur de charge Hello est en cours d’exécution comme une série de tâches dans votre session PowerShell locale.</span><span class="sxs-lookup"><span data-stu-id="67c3f-196">hello load generator is running as a series of jobs in your local PowerShell session.</span></span> <span data-ttu-id="67c3f-197">Hello *LoadGenerator.ps1 de démonstration* script lance le script de génération hello charge réelle, ce qui s’exécute comme une tâche de premier plan ainsi qu’une série de tâches de génération de charge en arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="67c3f-197">hello *Demo-LoadGenerator.ps1* script kicks off hello actual load generator script, which runs as a foreground task plus a series of background load-generation jobs.</span></span> <span data-ttu-id="67c3f-198">Une tâche du Générateur de charge est appelée pour chaque base de données enregistré dans le catalogue de hello.</span><span class="sxs-lookup"><span data-stu-id="67c3f-198">A load-generator job is invoked for each database registered in hello catalog.</span></span> <span data-ttu-id="67c3f-199">travaux de Hello est en cours d’exécution dans votre session PowerShell locale, afin que la fermeture de session de PowerShell hello s’arrête tous les travaux.</span><span class="sxs-lookup"><span data-stu-id="67c3f-199">hello jobs are running in your local PowerShell session, so closing hello PowerShell session stops all jobs.</span></span> <span data-ttu-id="67c3f-200">Si vous mettez en veille l’ordinateur, la génération de la charge est interrompue et reprendra dès la sortie de veille de votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="67c3f-200">If you suspend your machine, load generation is paused and will resume when you wake up your machine.</span></span>

<span data-ttu-id="67c3f-201">Une fois que le Générateur de charge hello appelle les tâches de génération de charge pour chaque client, la tâche de premier plan hello reste dans un état d’appel de travail, où elle démarre les tâches en arrière-plan supplémentaire pour les nouveaux clients sont ensuite configurés.</span><span class="sxs-lookup"><span data-stu-id="67c3f-201">Once hello load generator invokes load-generation jobs for each tenant, hello foreground task remains in a job-invoking state, where it starts additional background jobs for any new tenants that are subsequently provisioned.</span></span> <span data-ttu-id="67c3f-202">Vous pouvez utiliser *Ctrl-C* ou appuyez sur hello *arrêter* tâche de premier plan bouton toostop hello, mais en arrière-plan existant travaux continuent de génération de la charge sur chaque base de données.</span><span class="sxs-lookup"><span data-stu-id="67c3f-202">You can use *Ctrl-C* or press hello *Stop* button toostop hello foreground task, but existing background jobs will continue generating load on each database.</span></span> <span data-ttu-id="67c3f-203">Si vous devez toomonitor et contrôlez les tâches en arrière-plan hello, utilisez *Get-Job*, *Receive-Job* et *Stop-Job*.</span><span class="sxs-lookup"><span data-stu-id="67c3f-203">If you need toomonitor and control hello background jobs, use *Get-Job*, *Receive-Job* and *Stop-Job*.</span></span> <span data-ttu-id="67c3f-204">Lors de la tâche de premier plan hello est en cours d’exécution vous ne peut pas utiliser hello même tooexecute de session PowerShell autres scripts.</span><span class="sxs-lookup"><span data-stu-id="67c3f-204">While hello foreground task is running you cannot use hello same PowerShell session tooexecute other scripts.</span></span> <span data-ttu-id="67c3f-205">toorun autres scripts, ouvrez une nouvelle fenêtre de PowerShell ISE.</span><span class="sxs-lookup"><span data-stu-id="67c3f-205">toorun other scripts, open a new PowerShell ISE window.</span></span>

<span data-ttu-id="67c3f-206">Si vous souhaitez toorestart hello charge générateur session, par exemple avec des paramètres différents, vous pouvez arrêter tâche de premier plan hello, puis exécutez de nouveau le hello *LoadGenerator.ps1 de démonstration* script.</span><span class="sxs-lookup"><span data-stu-id="67c3f-206">If you want toorestart hello load generator session, for example with different parameters, you can stop hello foreground task and then re-run hello *Demo-LoadGenerator.ps1* script.</span></span> <span data-ttu-id="67c3f-207">Réexécuter *LoadGenerator.ps1 de démonstration* arrête d’abord les tâches en cours et puis générateur redémarrages hello, qui lance un nouveau jeu de travaux à l’aide des paramètres actuels de hello.</span><span class="sxs-lookup"><span data-stu-id="67c3f-207">Re-running *Demo-LoadGenerator.ps1* first stops any currently running jobs, and then restarts hello generator, which kicks off a new set of jobs using hello current parameters.</span></span>

<span data-ttu-id="67c3f-208">Pour l’instant, laissez le Générateur de charge hello en cours d’exécution dans l’état d’appel de travail hello.</span><span class="sxs-lookup"><span data-stu-id="67c3f-208">For now, leave hello load generator running in hello job-invoking state.</span></span>


## <a name="provision-a-new-tenant"></a><span data-ttu-id="67c3f-209">Approvisionner un nouveau locataire</span><span class="sxs-lookup"><span data-stu-id="67c3f-209">Provision a new tenant</span></span>

<span data-ttu-id="67c3f-210">déploiement initial de Hello crée trois locataires d’exemple, mais nous allons créer une autre locataire toosee comment cela affecte l’application hello déployé.</span><span class="sxs-lookup"><span data-stu-id="67c3f-210">hello initial deployment creates three sample tenants, but let’s create another tenant toosee how this impacts hello deployed application.</span></span> <span data-ttu-id="67c3f-211">flux de travail Hello Wingtip SaaS approvisionnement-locataires est détaillée dans hello [didacticiel fourniture et catalogue](sql-database-saas-tutorial-provision-and-catalog.md).</span><span class="sxs-lookup"><span data-stu-id="67c3f-211">hello Wingtip SaaS provisioning-tenants workflow is detailed in hello [Provision and catalog tutorial](sql-database-saas-tutorial-provision-and-catalog.md).</span></span> <span data-ttu-id="67c3f-212">Dans cette étape, vous créez rapidement un nouveau locataire.</span><span class="sxs-lookup"><span data-stu-id="67c3f-212">In this step, you quickly create a new tenant.</span></span>

1. <span data-ttu-id="67c3f-213">Ouvrir... \\Modules\Provision d’apprentissage et de catalogue\\*ProvisionAndCatalog.ps1 de démonstration* Bonjour *PowerShell ISE*.</span><span class="sxs-lookup"><span data-stu-id="67c3f-213">Open ...\\Learning Modules\Provision and Catalog\\*Demo-ProvisionAndCatalog.ps1* in hello *PowerShell ISE*.</span></span>
1. <span data-ttu-id="67c3f-214">Appuyez sur **F5** pour exécuter le script hello (laissez hello par défaut pour l’instant).</span><span class="sxs-lookup"><span data-stu-id="67c3f-214">Press **F5** to run hello script (leave hello default values for now).</span></span>

   > [!NOTE]
   > <span data-ttu-id="67c3f-215">Utilisent de nombreux scripts Wingtip SaaS *$PSScriptRoot* tooallow navigation dans les fonctions de toocall de dossiers dans d’autres scripts.</span><span class="sxs-lookup"><span data-stu-id="67c3f-215">Many Wingtip SaaS scripts use *$PSScriptRoot* tooallow navigating folders toocall functions in other scripts.</span></span> <span data-ttu-id="67c3f-216">Cette variable est évaluée uniquement lorsque le script de hello est exécuté en appuyant sur **F5**.</span><span class="sxs-lookup"><span data-stu-id="67c3f-216">This variable is only evaluated when hello script is executed by pressing **F5**.</span></span>  <span data-ttu-id="67c3f-217">La mise en surbrillance et l’exécution d’une sélection (**F8**) pouvant entraîner des erreurs, appuyez sur **F5** lors de l’exécution des scripts.</span><span class="sxs-lookup"><span data-stu-id="67c3f-217">Highlighting and running a selection (**F8**) can result in errors, so press **F5** when running scripts.</span></span>

<span data-ttu-id="67c3f-218">Hello nouvelle base de données est créé dans un pool élastique SQL, initialisé et enregistré dans le catalogue de hello.</span><span class="sxs-lookup"><span data-stu-id="67c3f-218">hello new tenant database is created in a SQL elastic pool, initialized and registered in hello catalog.</span></span> <span data-ttu-id="67c3f-219">Après le déploiement réussi, client hello de vente incitative ticket *événements* site s’affiche dans votre navigateur :</span><span class="sxs-lookup"><span data-stu-id="67c3f-219">After successful provisioning, hello new tenant's ticket-selling *Events* site appears in your browser:</span></span>

![Nouveau locataire](./media/sql-database-saas-tutorial/red-maple-racing.png)

<span data-ttu-id="67c3f-221">Actualiser hello *concentrateur d’événements* et client hello apparaît maintenant dans la liste de hello.</span><span class="sxs-lookup"><span data-stu-id="67c3f-221">Refresh hello *Events Hub* and hello new tenant now appears in hello list.</span></span>


## <a name="explore-hello-servers-pools-and-tenant-databases"></a><span data-ttu-id="67c3f-222">Explorer des serveurs hello, pools et bases de données de client</span><span class="sxs-lookup"><span data-stu-id="67c3f-222">Explore hello servers, pools, and tenant databases</span></span>

<span data-ttu-id="67c3f-223">Maintenant que vous avez démarré une charge en cours d’exécution sur le regroupement de hello de clients, examinons quelques-unes des ressources hello qui ont été déployés :</span><span class="sxs-lookup"><span data-stu-id="67c3f-223">Now that you've started running a load against hello collection of tenants, let’s look at some of hello resources that were deployed:</span></span>

1. <span data-ttu-id="67c3f-224">Dans le [portail Azure](http://portal.azure.com), accédez tooyour la liste des serveurs SQL Server et le **catalogue -&lt;utilisateur&gt;**  server.</span><span class="sxs-lookup"><span data-stu-id="67c3f-224">In the [Azure portal](http://portal.azure.com), browse tooyour list of SQL servers and open the **catalog-&lt;USER&gt;** server.</span></span> <span data-ttu-id="67c3f-225">serveur de catalogue Hello contient deux bases de données.</span><span class="sxs-lookup"><span data-stu-id="67c3f-225">hello catalog server contains two databases.</span></span> <span data-ttu-id="67c3f-226">Hello **tenantcatalog**et hello **basetenantdb** (vide *or* ou de la base de données de modèle qui est copié toocreate nouveaux clients).</span><span class="sxs-lookup"><span data-stu-id="67c3f-226">hello **tenantcatalog**, and hello **basetenantdb** (an empty *golden* or template database that is copied toocreate new tenants).</span></span>

   ![bases de données](./media/sql-database-saas-tutorial/databases.png)

1. <span data-ttu-id="67c3f-228">Revenir en arrière tooyour la liste des serveurs SQL Server et ouvrez hello **tenants1 -&lt;utilisateur&gt;**  serveur qui contient les bases de données clientes hello.</span><span class="sxs-lookup"><span data-stu-id="67c3f-228">Go back tooyour list of SQL servers and open hello **tenants1-&lt;USER&gt;** server that holds hello tenant databases.</span></span> <span data-ttu-id="67c3f-229">Chaque base de données de locataires est une base de données _élastique standard_ dans un pool standard de 50 eDTU.</span><span class="sxs-lookup"><span data-stu-id="67c3f-229">Each tenant database is an _Elastic Standard_ database in a 50 eDTU standard pool.</span></span> <span data-ttu-id="67c3f-230">Notez également est un _érable rouge course_ de base de données, la base de données client hello vous avez configuré précédemment.</span><span class="sxs-lookup"><span data-stu-id="67c3f-230">Also notice there is a _Red Maple Racing_ database, hello tenant database you provisioned previously.</span></span>

   ![server](./media/sql-database-saas-tutorial/server.png)

## <a name="monitor-hello-pool"></a><span data-ttu-id="67c3f-232">Moniteur hello pool</span><span class="sxs-lookup"><span data-stu-id="67c3f-232">Monitor hello pool</span></span>

<span data-ttu-id="67c3f-233">Si le Générateur de charge hello s’exécute pendant plusieurs minutes, suffisamment de données doit être disponible toostart examiner certaines hello fonctionnalités intégrées aux bases de données et des pools d’analyse.</span><span class="sxs-lookup"><span data-stu-id="67c3f-233">If hello load generator has been running for several minutes, enough data should be available toostart looking at some of hello monitoring capabilities built into pools and databases.</span></span>

1. <span data-ttu-id="67c3f-234">Parcourir le serveur de toohello **tenants1 -&lt;utilisateur&gt;**, puis cliquez sur **Pool1** pour afficher l’utilisation des ressources pour le pool de hello (Générateur de charge hello exécuté pendant une heure Bonjour suivant graphiques) :</span><span class="sxs-lookup"><span data-stu-id="67c3f-234">Browse toohello server **tenants1-&lt;USER&gt;**, and click **Pool1** to view resource utilization for hello pool (hello load generator ran for an hour in hello following charts):</span></span>

   ![surveiller un pool](./media/sql-database-saas-tutorial/monitor-pool.png)

<span data-ttu-id="67c3f-236">Ces deux graphiques montrent bien que les pools élastiques et SQL Database sont parfaitement adaptés aux charges de travail de l’application SaaS.</span><span class="sxs-lookup"><span data-stu-id="67c3f-236">What these two charts nicely illustrate, is how well suited elastic pools and SQL Database are for SaaS application workloads.</span></span> <span data-ttu-id="67c3f-237">Quatre bases de données qui sont chacun éclatement tooas autant 40 Edtu est facilement pris en charge dans un pool 50 eDTU.</span><span class="sxs-lookup"><span data-stu-id="67c3f-237">Four databases that are each bursting tooas much as 40 eDTUs are easily being supported in a 50 eDTU pool.</span></span> <span data-ttu-id="67c3f-238">Si elles ont été déployées en tant que bases de données autonomes, ils le feraient chaque toobe besoin une S2 (DTU 50) toosupport hello pics.</span><span class="sxs-lookup"><span data-stu-id="67c3f-238">If they were provisioned as standalone databases, they would each need toobe an S2 (50 DTU) toosupport hello bursts.</span></span> <span data-ttu-id="67c3f-239">coût Hello de 4 bases de données autonome S2 est près de 3 fois hello du pool de hello et pool de hello dispose toujours de suffisamment d’espace disponible pour plusieurs bases de données.</span><span class="sxs-lookup"><span data-stu-id="67c3f-239">hello cost of 4 standalone S2 databases would be nearly 3 times hello price of hello pool, and hello pool still has plenty of headroom for many more databases.</span></span> <span data-ttu-id="67c3f-240">Dans des situations réelles, les clients de base de données SQL en cours d’exécution des bases de données too500 dans des pools d’eDTU 200.</span><span class="sxs-lookup"><span data-stu-id="67c3f-240">In real-world situations, SQL Database customers are currently running up too500 databases in 200 eDTU pools.</span></span> <span data-ttu-id="67c3f-241">Pour plus d’informations, consultez hello [didacticiel l’analyse des performances](sql-database-saas-tutorial-performance-monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="67c3f-241">For more information, see hello [performance monitoring tutorial](sql-database-saas-tutorial-performance-monitoring.md).</span></span>


## <a name="next-steps"></a><span data-ttu-id="67c3f-242">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="67c3f-242">Next steps</span></span>

<span data-ttu-id="67c3f-243">Dans ce didacticiel, vous avez appris à effectuer les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="67c3f-243">In this tutorial you learned:</span></span>

> [!div class="checklist"]

> * <span data-ttu-id="67c3f-244">Comment toodeploy hello application Wingtip SaaS</span><span class="sxs-lookup"><span data-stu-id="67c3f-244">How toodeploy hello Wingtip SaaS application</span></span>
> * <span data-ttu-id="67c3f-245">Sur les serveurs de hello, les pools et les bases de données qui composent application hello</span><span class="sxs-lookup"><span data-stu-id="67c3f-245">About hello servers, pools, and databases that make up hello app</span></span>
> * <span data-ttu-id="67c3f-246">Les clients sont des données tootheir mappé avec hello *catalogue*</span><span class="sxs-lookup"><span data-stu-id="67c3f-246">Tenants are mapped tootheir data with hello *catalog*</span></span>
> * <span data-ttu-id="67c3f-247">Comment tooprovision nouveaux clients</span><span class="sxs-lookup"><span data-stu-id="67c3f-247">How tooprovision new tenants</span></span>
> * <span data-ttu-id="67c3f-248">Comment toomonitor de l’utilisation du pool tooview locataire activité</span><span class="sxs-lookup"><span data-stu-id="67c3f-248">How tooview pool utilization toomonitor tenant activity</span></span>
> * <span data-ttu-id="67c3f-249">Comment toodelete exemple ressources toostop liées à la facturation</span><span class="sxs-lookup"><span data-stu-id="67c3f-249">How toodelete sample resources toostop related billing</span></span>

<span data-ttu-id="67c3f-250">Essayez maintenant hello [didacticiel approvisionner et de catalogue](sql-database-saas-tutorial-provision-and-catalog.md)</span><span class="sxs-lookup"><span data-stu-id="67c3f-250">Now try hello [Provision and catalog tutorial](sql-database-saas-tutorial-provision-and-catalog.md)</span></span>



## <a name="additional-resources"></a><span data-ttu-id="67c3f-251">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="67c3f-251">Additional resources</span></span>

* <span data-ttu-id="67c3f-252">Supplémentaires [didacticiels qui s’appuient sur hello application Wingtip SaaS](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials)</span><span class="sxs-lookup"><span data-stu-id="67c3f-252">Additional [tutorials that build on hello Wingtip SaaS application](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials)</span></span>
* <span data-ttu-id="67c3f-253">toolearn sur les pools élastiques, consultez [ *qu’est un pool élastique SQL Azure*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-pool)</span><span class="sxs-lookup"><span data-stu-id="67c3f-253">toolearn about elastic pools, see [*What is an Azure SQL elastic pool*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-pool)</span></span>
* <span data-ttu-id="67c3f-254">toolearn sur les tâches élastiques, consultez [ *gestion des bases de données de cloud de montée en charge*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-jobs-overview)</span><span class="sxs-lookup"><span data-stu-id="67c3f-254">toolearn about elastic jobs, see [*Managing scaled-out cloud databases*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-jobs-overview)</span></span>
* <span data-ttu-id="67c3f-255">toolearn sur les applications SaaS mutualisées, consultez [ *concevoir des modèles pour des applications SaaS mutualisées*](https://docs.microsoft.com/azure/sql-database/sql-database-design-patterns-multi-tenancy-saas-applications)</span><span class="sxs-lookup"><span data-stu-id="67c3f-255">toolearn about multi-tenant SaaS applications, see [*Design patterns for multi-tenant SaaS applications*](https://docs.microsoft.com/azure/sql-database/sql-database-design-patterns-multi-tenancy-saas-applications)</span></span>
