---
title: "aaaSQL de base de données - le paramétrage automatique | Documents Microsoft"
description: "Base de données SQL analyse la requête SQL et automatiquement s’adapte à la charge de travail toouser."
services: sql-database
documentationcenter: 
author: jovanpop-msft
manager: jhubbard
editor: 
ms.assetid: 
ms.service: sql-database
ms.custom: monitor & tune
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/05/2017
ms.author: jovanpop
ms.openlocfilehash: 897a8deaabedb6727dc49958c64d0433c5f2e4f4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="automatic-tuning"></a><span data-ttu-id="dbb09-103">Réglage automatique</span><span class="sxs-lookup"><span data-stu-id="dbb09-103">Automatic tuning</span></span>

<span data-ttu-id="dbb09-104">Base de données SQL Azure est un service de données entièrement géré qui surveille les requêtes hello qui sont exécutées sur la base de données hello et peuvent améliorer les performances des charges de travail hello automatiquement.</span><span class="sxs-lookup"><span data-stu-id="dbb09-104">Azure SQL Database is a fully managed data service that monitors hello queries that are executed on hello database and can automatically improve performance of hello workload.</span></span> <span data-ttu-id="dbb09-105">Base de données SQL Azure a un mécanisme d’intelligence intégrée qui peut optimiser et améliorer les performances de vos requêtes en adaptant dynamiquement la charge de travail tooyour hello de base de données automatiquement.</span><span class="sxs-lookup"><span data-stu-id="dbb09-105">Azure SQL Database has a built-in intelligence mechanism that can automatically tune and improve performance of your queries by dynamically adapting hello database tooyour workload.</span></span> <span data-ttu-id="dbb09-106">Réglage automatique dans la base de données SQL Azure peut être une des fonctionnalités hello plus importantes que vous pouvez activer sur les performances de toooptimize de base de données SQL Azure de vos requêtes.</span><span class="sxs-lookup"><span data-stu-id="dbb09-106">Automatic tuning in Azure SQL Database might be one of hello most important features that you can enable on Azure SQL Database toooptimize performance of your queries.</span></span>

<span data-ttu-id="dbb09-107">Consultez cet article pour hello trop[activer le réglage automatique](sql-database-automatic-tuning-enable.md) à l’aide de hello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="dbb09-107">See this article for hello steps too[enable automatic tuning](sql-database-automatic-tuning-enable.md) using hello Azure portal.</span></span>

## <a name="why-automatic-tuning"></a><span data-ttu-id="dbb09-108">À quoi sert le réglage automatique ?</span><span class="sxs-lookup"><span data-stu-id="dbb09-108">Why automatic tuning?</span></span>

<span data-ttu-id="dbb09-109">Une des principales tâches de hello dans l’administration de la base de données classique analyse la charge de travail hello, identifiant SQL critiques des requêtes, les index qui doivent être ajoutés à des performances de tooimprove et rarement utilisée index.</span><span class="sxs-lookup"><span data-stu-id="dbb09-109">One of hello main tasks in classic database administration is monitoring hello workload, identifying critical SQL queries, indexes that should be added tooimprove performance, and rarely used indexes.</span></span> <span data-ttu-id="dbb09-110">Base de données SQL Azure fournit un aperçu détaillé dans les requêtes hello et les index que vous avez besoin de toomonitor.</span><span class="sxs-lookup"><span data-stu-id="dbb09-110">Azure SQL Database provides detailed insight into hello queries and indexes that you need toomonitor.</span></span> <span data-ttu-id="dbb09-111">Toutefois, la surveillance permanente de la base de données est une tâche difficile et fastidieuse, en particulier lors du traitement de plusieurs bases de données.</span><span class="sxs-lookup"><span data-stu-id="dbb09-111">However, constantly monitoring database is a hard and tedious task, especially when dealing with many databases.</span></span> <span data-ttu-id="dbb09-112">Gérer un très grand nombre de bases de données peut être impossible toodo efficacement même avec tous les outils disponibles et les rapports qui fournissent des base de données SQL Azure et le portail Azure.</span><span class="sxs-lookup"><span data-stu-id="dbb09-112">Managing a huge number of databases might be impossible toodo efficiently even with all available tools and reports that Azure SQL Database and Azure portal provide.</span></span> <span data-ttu-id="dbb09-113">Au lieu de surveillance et de paramétrage de votre base de données manuellement, vous pouvez envisager de délégation des hello surveillance et de paramétrage des actions tooAzure base de données SQL à l’aide de la fonctionnalité de réglage automatique.</span><span class="sxs-lookup"><span data-stu-id="dbb09-113">Instead of monitoring and tuning your database manually, you might consider delegating some of hello monitoring and tuning actions tooAzure SQL Database using automatic tuning feature.</span></span> 


> [!VIDEO https://channel9.msdn.com/Blogs/Azure-in-the-Enterprise/Enabling-Azure-SQL-Database-Auto-Tuning-at-Scale-for-Microsoft-IT/player]
>

## <a name="how-does-automatic-tuning-work"></a><span data-ttu-id="dbb09-114">Comment fonctionne le réglage automatique ?</span><span class="sxs-lookup"><span data-stu-id="dbb09-114">How does automatic tuning work?</span></span>

<span data-ttu-id="dbb09-115">Base de données SQL Azure a un processus de surveillance et d’analyse continue de performances qui constamment hello caractéristique de votre charge de travail utilise pour détecter et identifier des améliorations et des problèmes potentiels.</span><span class="sxs-lookup"><span data-stu-id="dbb09-115">Azure SQL Database has a continuous performance monitoring and analysis process that constantly learns about hello characteristic of your workload and identify potential issues and improvements.</span></span>

![Processus de réglage automatique](./media/sql-database-automatic-tuning/tuning-process.png)

<span data-ttu-id="dbb09-117">Cela permet de processus toodynamically de la base de données SQL Azure adapter la charge de travail tooyour en recherchant les plans et les index peuvent améliorer les performances de vos charges de travail et les index affecte vos charges de travail.</span><span class="sxs-lookup"><span data-stu-id="dbb09-117">This process enables Azure SQL Database toodynamically adapt tooyour workload by finding what indexes and plans might improve performance of your workloads and what indexes affect your workloads.</span></span> <span data-ttu-id="dbb09-118">En fonction de ces résultats, le réglage automatique effectue des actions de réglage qui améliorent les performances de votre charge de travail.</span><span class="sxs-lookup"><span data-stu-id="dbb09-118">Based on these findings, automatic tuning applies tuning actions that improve performance of your workload.</span></span> <span data-ttu-id="dbb09-119">En outre, base de données SQL Azure surveille en permanence les performances après toute modification apportée par tooensure de réglage automatique qu’elle améliore les performances de votre charge de travail.</span><span class="sxs-lookup"><span data-stu-id="dbb09-119">In addition, Azure SQL Database continuously monitors performance after any change made by automatic tuning tooensure that it improves performance of your workload.</span></span> <span data-ttu-id="dbb09-120">Toute action qui n’a pas amélioré les performances est automatiquement annulée.</span><span class="sxs-lookup"><span data-stu-id="dbb09-120">Any action that didn’t improve performance is automatically reverted.</span></span> <span data-ttu-id="dbb09-121">Ce processus de vérification est une fonctionnalité clé qui permet de s’assurer que toute modification apportée par le paramétrage automatique ne diminue pas les performances de hello de votre charge de travail.</span><span class="sxs-lookup"><span data-stu-id="dbb09-121">This verification process is a key feature that ensures that any change made by automatic tuning does not decrease hello performance of your workload.</span></span>

<span data-ttu-id="dbb09-122">Deux aspects de réglage automatique sont disponibles dans Azure SQL Database :</span><span class="sxs-lookup"><span data-stu-id="dbb09-122">There are two automatic tuning aspects that are available in Azure SQL Database:</span></span>

 -  <span data-ttu-id="dbb09-123">La **gestion automatique des index**, qui identifie les index qui doivent être ajoutés à votre base de données et ceux qui doivent être supprimés.</span><span class="sxs-lookup"><span data-stu-id="dbb09-123">**Automatic index management** that identifies indexes that should be added in your database, and indexes that should be removed.</span></span>
 -  <span data-ttu-id="dbb09-124">La **correction du plan automatique** (déployée prochainement, déjà disponible dans SQL Server 2017), qui identifie les plans problématiques et résout les problèmes de performances du plan SQL.</span><span class="sxs-lookup"><span data-stu-id="dbb09-124">**Automatic plan correction** (coming soon, already available in SQL Server 2017) that identifies problematic plans and fixes SQL plan performance problems.</span></span>

## <a name="automatic-index-management"></a><span data-ttu-id="dbb09-125">Gestion automatique des index</span><span class="sxs-lookup"><span data-stu-id="dbb09-125">Automatic index management</span></span>

<span data-ttu-id="dbb09-126">Dans Azure SQL Database, la gestion des index est facile, car Azure SQL Database s’informe sur votre charge de travail et s’assure que vos données sont toujours indexées de manière optimale.</span><span class="sxs-lookup"><span data-stu-id="dbb09-126">In Azure SQL Database, index management is easy because Azure SQL Database learns about your workload and ensures that your data is always optimally indexed.</span></span> <span data-ttu-id="dbb09-127">Pour assurer des performances optimales de votre charge de travail, l’index doit être correctement conçu. La gestion automatique des index peut vous aider à les optimiser.</span><span class="sxs-lookup"><span data-stu-id="dbb09-127">Proper index design is crucial for optimal performance of your workload, and automatic index management can help you optimize your indexes.</span></span> <span data-ttu-id="dbb09-128">Gestion automatique des index peuvent résoudre les problèmes de performances dans les bases de données indexées de manière incorrecte, ou mettre à jour et améliorez les index sur le schéma de base de données existant hello.</span><span class="sxs-lookup"><span data-stu-id="dbb09-128">Automatic index management can either fix performance issues in incorrectly indexed databases, or maintain and improve indexes on hello existing database schema.</span></span> 

### <a name="why-do-you-need-index-management"></a><span data-ttu-id="dbb09-129">Pourquoi utiliser la gestion des index ?</span><span class="sxs-lookup"><span data-stu-id="dbb09-129">Why do you need index management?</span></span>

<span data-ttu-id="dbb09-130">Index accélérer de certaines de vos requêtes qui lisent des données à partir des tables de hello ; Toutefois, ils peuvent ralentir les requêtes de hello qui mettent à jour des données.</span><span class="sxs-lookup"><span data-stu-id="dbb09-130">Indexes speed up some of your queries that read data from hello tables; however, they can slow down hello queries that update data.</span></span> <span data-ttu-id="dbb09-131">Vous devez toocarefully analyser lorsque toocreate un index et les colonnes que vous devez tooinclude dans hello index.</span><span class="sxs-lookup"><span data-stu-id="dbb09-131">You need toocarefully analyze when toocreate an index and what columns you need tooinclude in hello index.</span></span> <span data-ttu-id="dbb09-132">Certains index peuvent ne plus être nécessaires après un certain temps.</span><span class="sxs-lookup"><span data-stu-id="dbb09-132">Some indexes might not be needed after some time.</span></span> <span data-ttu-id="dbb09-133">Par conséquent, vous devez tooperiodically identifier et supprimer des index hello qui ne mettez pas d’avantages.</span><span class="sxs-lookup"><span data-stu-id="dbb09-133">Therefore, you would need tooperiodically identify and drop hello indexes that do not bring any benefits.</span></span> <span data-ttu-id="dbb09-134">Si vous ignorez hello index inutilisés, les performances des requêtes hello qui mettent à jour des données est diminuée sans aucun avantage sur les requêtes hello qui lisent des données.</span><span class="sxs-lookup"><span data-stu-id="dbb09-134">If you ignore hello unused indexes, performance of hello queries that update data would be decreased without any benefit on hello queries that read data.</span></span> <span data-ttu-id="dbb09-135">Index inutilisés affectent également les performances globales du système de hello, car les mises à jour supplémentaires besoin d’une journalisation inutile.</span><span class="sxs-lookup"><span data-stu-id="dbb09-135">Unused indexes also affect overall performance of hello system because additional updates require unnecessary logging.</span></span>

<span data-ttu-id="dbb09-136">Recherche l’ensemble optimal de hello d’index qui améliorent les performances des requêtes hello lire les données de vos tables et ont un impact minimal sur les mises à jour peut nécessiter l’analyse continue et complexe.</span><span class="sxs-lookup"><span data-stu-id="dbb09-136">Finding hello optimal set of indexes that improve performance of hello queries that read data from your tables and have minimal impact on updates might require continuous and complex analysis.</span></span>

<span data-ttu-id="dbb09-137">Base de données SQL Azure utilise intelligence intégrée et des règles avancées pour analyser vos requêtes, identifier les index qui seraient optimales pour vos charges de travail en cours, et les index hello risque d’être supprimés.</span><span class="sxs-lookup"><span data-stu-id="dbb09-137">Azure SQL Database uses built-in intelligence and advanced rules that analyze your queries, identify indexes that would be optimal for your current workloads, and hello indexes might be removed.</span></span> <span data-ttu-id="dbb09-138">Base de données SQL Azure permet de s’assurer que vous disposez d’un ensemble minimal nécessaire d’index qui optimisent les requêtes hello qui lisent des données, avec un impact sur hello réduite hello autres requêtes.</span><span class="sxs-lookup"><span data-stu-id="dbb09-138">Azure SQL Database ensures that you have a minimal necessary set of indexes that optimize hello queries that read data, with hello minimized impact on hello other queries.</span></span>

### <a name="how-tooidentify-indexes-that-need-toobe-changed-in-your-database"></a><span data-ttu-id="dbb09-139">Comment tooidentify indexe que toobe besoin modifié dans votre base de données ?</span><span class="sxs-lookup"><span data-stu-id="dbb09-139">How tooidentify indexes that need toobe changed in your database?</span></span>

<span data-ttu-id="dbb09-140">Azure SQL Database facilite le processus de gestion des index.</span><span class="sxs-lookup"><span data-stu-id="dbb09-140">Azure SQL Database makes index management process easy.</span></span> <span data-ttu-id="dbb09-141">Base de données SQL Azure au lieu de processus fastidieux de hello d’analyse de la charge de travail manuelle et l’analyse de l’index, analyse votre charge de travail, identifie les requêtes hello pourraient être exécutées plus rapidement avec un nouvel index et identifie les index non utilisés ou en double.</span><span class="sxs-lookup"><span data-stu-id="dbb09-141">Instead of hello tedious process of manual workload analysis and index monitoring, Azure SQL Database analyzes your workload, identifies hello queries that could be executed faster with a new index, and identifies unused or duplicated indexes.</span></span> <span data-ttu-id="dbb09-142">Pour plus d’informations sur l’identification des index à modifier, voir [Rechercher des recommandations d’index dans le portail Azure](sql-database-advisor-portal.md).</span><span class="sxs-lookup"><span data-stu-id="dbb09-142">Find more information about identification of indexes that should be changed at [Find index recommendations in Azure portal](sql-database-advisor-portal.md).</span></span>

### <a name="automatic-index-management-considerations"></a><span data-ttu-id="dbb09-143">Considérations sur la gestion automatique des index</span><span class="sxs-lookup"><span data-stu-id="dbb09-143">Automatic index management considerations</span></span>

<span data-ttu-id="dbb09-144">Si vous trouvez que les règles intégrées hello améliorent les performances de hello de votre base de données, vous pourrez permettre de la base de données SQL Azure gérer automatiquement les index.</span><span class="sxs-lookup"><span data-stu-id="dbb09-144">If you find that hello built-in rules improve hello performance of your database, you might let Azure SQL database automatically manage your indexes.</span></span>

<span data-ttu-id="dbb09-145">Actions requises toocreate des index nécessaires dans les bases de données SQL Azure peuvent consomment des ressources et affecter temporairement les performances de la charge de travail.</span><span class="sxs-lookup"><span data-stu-id="dbb09-145">Actions required toocreate necessary indexes in Azure SQL Databases might consume resources and temporally affect workload performance.</span></span> <span data-ttu-id="dbb09-146">impact de hello toominimize de création d’index sur les performances de la charge de travail, base de données SQL Azure recherche la fenêtre du moment opportun hello pour toutes les opérations de gestion d’index.</span><span class="sxs-lookup"><span data-stu-id="dbb09-146">toominimize hello impact of index creation on workload performance, Azure SQL Database finds hello appropriate time window for any index management operation.</span></span> <span data-ttu-id="dbb09-147">Action de paramétrage est reporté à plus tard si la base de données de hello doit tooexecute des ressources de votre charge de travail et démarré lors de la base de données hello possède suffisamment les ressources inutiles qui peuvent être utilisés pour la tâche de maintenance hello.</span><span class="sxs-lookup"><span data-stu-id="dbb09-147">Tuning action is postponed if hello database needs resources tooexecute your workload, and started when hello database has enough unused resources that can be used for hello maintenance task.</span></span> <span data-ttu-id="dbb09-148">Une fonctionnalité importante dans la gestion automatique des index est une vérification des actions de hello.</span><span class="sxs-lookup"><span data-stu-id="dbb09-148">One important feature in automatic index management is a verification of hello actions.</span></span> <span data-ttu-id="dbb09-149">Lors de la base de données SQL Azure crée ou supprime des index, un processus d’analyse analyse des performances de votre tooverify de charge de travail qu’action de hello d’améliorer les performances de hello.</span><span class="sxs-lookup"><span data-stu-id="dbb09-149">When Azure SQL Database creates or drops index, a monitoring process analyzes performance of your workload tooverify that hello action improved hello performance.</span></span> <span data-ttu-id="dbb09-150">Si elle n’a pas d’apporter une amélioration significative : hello action est immédiatement annulée.</span><span class="sxs-lookup"><span data-stu-id="dbb09-150">If it didn’t bring significant improvement – hello action is immediately reverted.</span></span> <span data-ttu-id="dbb09-151">De cette manière, Azure SQL Database s’assure que les actions automatiques ne nuisent pas aux performances de votre charge de travail.</span><span class="sxs-lookup"><span data-stu-id="dbb09-151">This way, Azure SQL Database ensures that automatic actions do not negatively impact performance of your workload.</span></span> <span data-ttu-id="dbb09-152">Index créés par le paramétrage automatique sont transparentes pour l’opération de maintenance hello sur le schéma sous-jacent de hello.</span><span class="sxs-lookup"><span data-stu-id="dbb09-152">Indexes created by automatic tuning are transparent for hello maintenance operation on hello underlying schema.</span></span> <span data-ttu-id="dbb09-153">Modifications de schéma telles que supprimer ou renommer des colonnes ne sont pas bloquées par la présence de hello des index créés automatiquement.</span><span class="sxs-lookup"><span data-stu-id="dbb09-153">Schema changes such as dropping or renaming columns are not blocked by hello presence of automatically created indexes.</span></span> <span data-ttu-id="dbb09-154">Les index créés automatiquement par Azure SQL Database sont immédiatement supprimés lorsque la table ou les colonnes liées sont supprimées.</span><span class="sxs-lookup"><span data-stu-id="dbb09-154">Indexes that are automatically created by Azure SQL Database are immediately dropped when related table or columns is dropped.</span></span>

## <a name="automatic-plan-choice-correction"></a><span data-ttu-id="dbb09-155">Correction automatique du choix de plan</span><span class="sxs-lookup"><span data-stu-id="dbb09-155">Automatic plan choice correction</span></span>

<span data-ttu-id="dbb09-156">La correction automatique du plan est une nouvelle fonctionnalité de réglage automatique ajoutée dans SQL Server 2017 CTP2.0. Elle identifie les plans SQL qui ne se comportent pas de manière adéquate.</span><span class="sxs-lookup"><span data-stu-id="dbb09-156">Automatic plan correction is a new automatic tuning feature added in SQL Server 2017 CTP2.0 that identifies SQL plans that misbehave.</span></span> <span data-ttu-id="dbb09-157">Cette option de réglage automatique sera bientôt disponible sur Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="dbb09-157">This automatic tuning option is coming soon on Azure SQL Database.</span></span> <span data-ttu-id="dbb09-158">Pour en savoir plus, voir [Réglage automatique dans SQL Server 2017](https://docs.microsoft.com/sql/relational-databases/automatic-tuning/automatic-tuning).</span><span class="sxs-lookup"><span data-stu-id="dbb09-158">Find more information at [Automatic tuning in SQL Server 2017](https://docs.microsoft.com/sql/relational-databases/automatic-tuning/automatic-tuning).</span></span>

## <a name="next-steps"></a><span data-ttu-id="dbb09-159">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="dbb09-159">Next steps</span></span>

- <span data-ttu-id="dbb09-160">tooenable automatique de paramétrage dans la base de données SQL Azure et de laisser automatique paramétrage fonctionnalité entièrement gérer votre charge de travail, consultez [activer le réglage automatique](sql-database-automatic-tuning-enable.md).</span><span class="sxs-lookup"><span data-stu-id="dbb09-160">tooenable automatic tuning in Azure SQL Database and let automatic tuning feature fully manage your workload, see [Enable automatic tuning](sql-database-automatic-tuning-enable.md).</span></span>
- <span data-ttu-id="dbb09-161">paramétrage manuel toouse, vous pouvez passer en revue [recommandations dans le portail Azure de paramétrage](sql-database-advisor-portal.md) et appliquer manuellement hello celles qui améliorent les performances de vos requêtes.</span><span class="sxs-lookup"><span data-stu-id="dbb09-161">toouse manual tuning, you can review [Tuning recommendations in Azure portal](sql-database-advisor-portal.md) and manually apply hello ones that improve performance of your queries.</span></span>
