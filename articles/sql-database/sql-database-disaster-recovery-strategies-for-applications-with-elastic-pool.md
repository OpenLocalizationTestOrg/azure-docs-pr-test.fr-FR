---
title: "solutions de récupération d’urgence aaaDesign - base de données SQL Azure | Documents Microsoft"
description: "Découvrez comment toodesign votre solution de cloud de récupération d’urgence en choisissant le modèle de basculement droite hello."
services: sql-database
documentationcenter: 
author: anosov1960
manager: jhubbard
editor: monicar
ms.assetid: 2db99057-0c79-4fb0-a7f1-d1c057ec787f
ms.service: sql-database
ms.custom: business continuity
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 04/07/2017
ms.author: sashan;carlrab
ms.openlocfilehash: 9d9eca7570c7a01c992d0b33d449721709b471c3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="disaster-recovery-strategies-for-applications-using-sql-database-elastic-pools"></a><span data-ttu-id="a931e-103">Stratégies de récupération d’urgence pour les applications utilisant les pools élastiques de bases de données SQL</span><span class="sxs-lookup"><span data-stu-id="a931e-103">Disaster recovery strategies for applications using SQL Database elastic pools</span></span>
<span data-ttu-id="a931e-104">Années hello, nous avons appris que les services de cloud computing ne sont pas sans poser de problèmes et incidents catastrophiques se produisent.</span><span class="sxs-lookup"><span data-stu-id="a931e-104">Over hello years we have learned that cloud services are not foolproof and catastrophic incidents happen.</span></span> <span data-ttu-id="a931e-105">Base de données SQL fournit plusieurs fonctionnalités tooprovide pour la continuité hello de votre application lorsque ces incidents se produisent.</span><span class="sxs-lookup"><span data-stu-id="a931e-105">SQL Database provides several capabilities tooprovide for hello business continuity of your application when these incidents occur.</span></span> <span data-ttu-id="a931e-106">[Pools élastiques](sql-database-elastic-pool.md) et prend en charge les bases de données uniques hello même type de fonctionnalités de récupération d’urgence.</span><span class="sxs-lookup"><span data-stu-id="a931e-106">[Elastic pools](sql-database-elastic-pool.md) and single databases support hello same kind of disaster recovery capabilities.</span></span> <span data-ttu-id="a931e-107">Cet article décrit plusieurs stratégies de récupération d’urgence pour les pools élastiques qui tirent parti de ces fonctionnalités de continuité des activités de la base de données SQL.</span><span class="sxs-lookup"><span data-stu-id="a931e-107">This article describes several DR strategies for elastic pools that leverage these SQL Database business continuity features.</span></span>

<span data-ttu-id="a931e-108">Cet article utilise hello suivant le modèle d’application SaaS ISV canonique :</span><span class="sxs-lookup"><span data-stu-id="a931e-108">This article uses hello following canonical SaaS ISV application pattern:</span></span>

<span data-ttu-id="a931e-109"><i>Une application web moderne de nuage configure une base de données SQL pour chaque utilisateur final. Hello ISV a de nombreux clients et utilise plusieurs bases de données, appelées bases de données client. Étant donné que les bases de données clientes hello ont en général les modèles d’activités imprévisibles, hello ISV utilise un coût de base de données pool élastique toomake hello très prévisible sur de longues périodes. pool élastique de Hello simplifie également la gestion des performances hello lorsque l’activité des utilisateurs hello des pics se produisent. En outre application hello de toohello client bases de données utilise également plusieurs bases de données des profils utilisateur toomanage, sécurité, collecter etc. des modèles d’utilisation. Disponibilité des clients individuels de hello n’affecte pas la disponibilité de l’application hello dans son ensemble. Toutefois, hello et performances des bases de données de gestion est essentielles pour la fonction de l’application hello et si les bases de données de gestion hello sont l’ensemble de l’application hello hors connexion est hors connexion.</i></span><span class="sxs-lookup"><span data-stu-id="a931e-109"><i>A modern cloud-based web application provisions one SQL database for each end user. hello ISV has many customers and therefore uses many databases, known as tenant databases. Because hello tenant databases typically have unpredictable activity patterns, hello ISV uses an elastic pool toomake hello database cost very predictable over extended periods of time. hello elastic pool also simplifies hello performance management when hello user activity spikes. In addition toohello tenant databases hello application also uses several databases toomanage user profiles, security, collect usage patterns etc. Availability of hello individual tenants does not impact hello application’s availability as whole. However, hello availability and performance of management databases is critical for hello application’s function and if hello management databases are offline hello entire application is offline.</i></span></span>  

<span data-ttu-id="a931e-110">Cet article aborde les stratégies de récupération d’urgence qui couvrent un éventail de scénarios de coût démarrage sensibles applications tooones avec des exigences strictes de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="a931e-110">This article discusses DR strategies covering a range of scenarios from cost sensitive startup applications tooones with stringent availability requirements.</span></span>

## <a name="scenario-1-cost-sensitive-startup"></a><span data-ttu-id="a931e-111">Scénario 1</span><span class="sxs-lookup"><span data-stu-id="a931e-111">Scenario 1.</span></span> <span data-ttu-id="a931e-112">Start-up soucieuse des coûts</span><span class="sxs-lookup"><span data-stu-id="a931e-112">Cost sensitive startup</span></span>
<span data-ttu-id="a931e-113"><i>Ma jeune entreprise a un budget très serré.  Je veux toosimplify déploiement et gestion de l’application hello et je peux demander à un contrat SLA limité pour les clients individuels. Mais je veux application hello de tooensure comme un entier n’est jamais en mode hors connexion.</i></span><span class="sxs-lookup"><span data-stu-id="a931e-113"><i>I am a startup business and am extremely cost sensitive.  I want toosimplify deployment and management of hello application and I can have a limited SLA for individual customers. But I want tooensure hello application as a whole is never offline.</i></span></span>

<span data-ttu-id="a931e-114">spécification de simplicité toosatisfy hello déployer toutes les bases de données client dans un pool élastique Bonjour région Azure de votre choix et déployer des bases de données de gestion en tant que bases de données uniques géo-répliquées.</span><span class="sxs-lookup"><span data-stu-id="a931e-114">toosatisfy hello simplicity requirement, deploy all tenant databases into one elastic pool in hello Azure region of your choice and deploy management databases as geo-replicated single databases.</span></span> <span data-ttu-id="a931e-115">Hello récupération d’urgence de clients, utilisez la géo-restauration, ce qui est fourni sans coût supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="a931e-115">For hello disaster recovery of tenants, use geo-restore, which comes at no additional cost.</span></span> <span data-ttu-id="a931e-116">disponibilité tooensure hello hello des bases de données de gestion, géo-répliquer les région tooanother à l’aide d’un groupe de basculement automatique (dans la version préliminaire) (étape 1).</span><span class="sxs-lookup"><span data-stu-id="a931e-116">tooensure hello availability of hello management databases, geo-replicate them tooanother region using an auto-failover group (in-preview) (step 1).</span></span> <span data-ttu-id="a931e-117">coût Hello de configuration de la récupération d’urgence hello dans ce scénario est égal toohello le coût total de bases de données secondaires hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-117">hello ongoing cost of hello disaster recovery configuration in this scenario is equal toohello total cost of hello secondary databases.</span></span> <span data-ttu-id="a931e-118">Cette configuration est illustrée dans le diagramme suivant de hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-118">This configuration is illustrated on hello next diagram.</span></span>

![La figure 1](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-1.png)

<span data-ttu-id="a931e-120">Si une panne se produit dans la région principale de hello, hello toobring d’étapes de récupération en ligne votre application sont illustrées par le diagramme suivant de hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-120">If an outage occurs in hello primary region, hello recovery steps toobring your application online are illustrated by hello next diagram.</span></span>

* <span data-ttu-id="a931e-121">groupe de basculement Hello lance le basculement automatique d’une région de récupération d’urgence toohello hello gestion de base de données.</span><span class="sxs-lookup"><span data-stu-id="a931e-121">hello failover group initiates automatic failover of hello management database toohello DR region.</span></span> <span data-ttu-id="a931e-122">application Hello est reconnectée automatiquement toohello nouveaux primaire et tous les nouveaux comptes et les bases de données clientes sont créés dans la région de récupération d’urgence hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-122">hello application is automatically reconnected toohello new primary and all new accounts and tenant databases are created in hello DR region.</span></span> <span data-ttu-id="a931e-123">les clients existants de Hello voient leurs données temporairement indisponibles.</span><span class="sxs-lookup"><span data-stu-id="a931e-123">hello existing customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="a931e-124">Créer un pool élastique de hello avec hello même configuration que le pool d’origine de hello (2).</span><span class="sxs-lookup"><span data-stu-id="a931e-124">Create hello elastic pool with hello same configuration as hello original pool (2).</span></span>
* <span data-ttu-id="a931e-125">Utiliser des copies de toocreate géo-restauration de bases de données clientes hello (3).</span><span class="sxs-lookup"><span data-stu-id="a931e-125">Use geo-restore toocreate copies of hello tenant databases (3).</span></span> <span data-ttu-id="a931e-126">Vous pouvez envisager de déclenchement des restaurations individuelles de hello par des connexions de l’utilisateur final hello ou utiliser certaines autres schéma spécifiques à l’application en priorité.</span><span class="sxs-lookup"><span data-stu-id="a931e-126">You can consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>


<span data-ttu-id="a931e-127">À ce stade votre application est en ligne dans la région de récupération d’urgence hello, mais que certains clients délai lors de l’accès à leurs données.</span><span class="sxs-lookup"><span data-stu-id="a931e-127">At this point your application is back online in hello DR region, but some customers experience delay when accessing their data.</span></span>

![Figure 2](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-2.png)

<span data-ttu-id="a931e-129">Si la panne de hello était temporaire, il est possible de que cette région primaire hello est récupérée par Azure avant que toutes les restaurations de base de données hello soient terminées dans la région de hello récupération d’urgence.</span><span class="sxs-lookup"><span data-stu-id="a931e-129">If hello outage was temporary, it is possible that hello primary region is recovered by Azure before all hello database restores are complete in hello DR region.</span></span> <span data-ttu-id="a931e-130">Dans ce cas, orchestrer le déplacement région principale hello application toohello précédent.</span><span class="sxs-lookup"><span data-stu-id="a931e-130">In this case, orchestrate moving hello application back toohello primary region.</span></span> <span data-ttu-id="a931e-131">processus de Hello prend les mesures de hello illustrés le diagramme suivant de hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-131">hello process takes hello steps illustrated on hello next diagram.</span></span>

* <span data-ttu-id="a931e-132">Annulez toutes les requêtes de géo-restauration en attente.</span><span class="sxs-lookup"><span data-stu-id="a931e-132">Cancel all outstanding geo-restore requests.</span></span>   
* <span data-ttu-id="a931e-133">Basculer hello gestion des bases de données toohello région principale (5).</span><span class="sxs-lookup"><span data-stu-id="a931e-133">Fail over hello management databases toohello primary region (5).</span></span> <span data-ttu-id="a931e-134">Après la récupération de la région de hello, indistinctement ancien de hello est devenues automatiquement les bases de données secondaires.</span><span class="sxs-lookup"><span data-stu-id="a931e-134">After hello region’s recovery, hello old primaries have automatically become secondaries.</span></span> <span data-ttu-id="a931e-135">Les rôles sont à nouveau permutés.</span><span class="sxs-lookup"><span data-stu-id="a931e-135">Now they switch roles again.</span></span> 
* <span data-ttu-id="a931e-136">Modifier connexion chaîne toopoint toohello arrière principal la région l’application hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-136">Change hello application's connection string toopoint back toohello primary region.</span></span> <span data-ttu-id="a931e-137">Maintenant tous les nouveaux comptes et les bases de données clientes sont créés dans la région principale de hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-137">Now all new accounts and tenant databases are created in hello primary region.</span></span> <span data-ttu-id="a931e-138">Les données de certains clients existants sont temporairement indisponibles.</span><span class="sxs-lookup"><span data-stu-id="a931e-138">Some existing customers see their data temporarily unavailable.</span></span>   
* <span data-ttu-id="a931e-139">Définissez toutes les bases de données dans hello DR pool tooread uniquement tooensure qu'ils ne peuvent pas être modifiés dans la région de récupération d’urgence hello (6).</span><span class="sxs-lookup"><span data-stu-id="a931e-139">Set all databases in hello DR pool tooread-only tooensure they cannot be modified in hello DR region (6).</span></span> 
* <span data-ttu-id="a931e-140">Pour chaque base de données Bonjour pool de récupération d’urgence qui a changé depuis la récupération de hello, renommer ou supprimer des bases de données correspondantes hello dans le pool principal d’hello (7).</span><span class="sxs-lookup"><span data-stu-id="a931e-140">For each database in hello DR pool that has changed since hello recovery, rename or delete hello corresponding databases in hello primary pool (7).</span></span> 
* <span data-ttu-id="a931e-141">Hello de copie mise à jour des bases de données à partir de hello pool principal de récupération d’urgence pool toohello (8).</span><span class="sxs-lookup"><span data-stu-id="a931e-141">Copy hello updated databases from hello DR pool toohello primary pool (8).</span></span> 
* <span data-ttu-id="a931e-142">Supprimer le pool de récupération d’urgence hello (9)</span><span class="sxs-lookup"><span data-stu-id="a931e-142">Delete hello DR pool (9)</span></span>

<span data-ttu-id="a931e-143">À ce stade votre application est en ligne dans la région principale de hello avec toutes les bases de données clientes disponibles dans le pool principal d’hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-143">At this point your application is online in hello primary region with all tenant databases available in hello primary pool.</span></span>

![Figure 3](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-3.png)

<span data-ttu-id="a931e-145">clé de Hello **bénéficier** de cette stratégie est faible coût en cours de la redondance de couche données.</span><span class="sxs-lookup"><span data-stu-id="a931e-145">hello key **benefit** of this strategy is low ongoing cost for data tier redundancy.</span></span> <span data-ttu-id="a931e-146">Sauvegardes sont effectuées automatiquement par hello service de base de données SQL avec aucune réécriture de l’application et sans coût supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="a931e-146">Backups are taken automatically by hello SQL Database service with no application rewrite and at no additional cost.</span></span>  <span data-ttu-id="a931e-147">Hello entraîne des coûts uniquement les bases de données élastiques hello sont restaurés.</span><span class="sxs-lookup"><span data-stu-id="a931e-147">hello cost is incurred only when hello elastic databases are restored.</span></span> <span data-ttu-id="a931e-148">Hello **compromis** est que la récupération complète de hello de toutes les bases de données clientes prend beaucoup de temps.</span><span class="sxs-lookup"><span data-stu-id="a931e-148">hello **trade-off** is that hello complete recovery of all tenant databases takes significant time.</span></span> <span data-ttu-id="a931e-149">Hello durée dépend hello nombre total de restaurations vous lancer dans la récupération d’urgence de hello région et la taille globale de hello locataire des bases de données.</span><span class="sxs-lookup"><span data-stu-id="a931e-149">hello length of time depends on hello total number of restores you initiate in hello DR region and overall size of hello tenant databases.</span></span> <span data-ttu-id="a931e-150">Même si vous modifier la priorité sur d’autres restaurations de certains clients, vous sont en concurrence avec hello tous les autres restaurations lancées à partir de hello la même région comme service de hello détermine et limite toominimize hello l’impact global sur les bases de données clients hello existants.</span><span class="sxs-lookup"><span data-stu-id="a931e-150">Even if you prioritize some tenants' restores over others, you are competing with all hello other restores that are initiated in hello same region as hello service arbitrates and throttles toominimize hello overall impact on hello existing customers' databases.</span></span> <span data-ttu-id="a931e-151">En outre, récupération hello de bases de données hello client ne peut pas démarrer tant que nouveau pool élastique hello dans la région de récupération d’urgence hello est créé.</span><span class="sxs-lookup"><span data-stu-id="a931e-151">In addition, hello recovery of hello tenant databases cannot start until hello new elastic pool in hello DR region is created.</span></span>

## <a name="scenario-2-mature-application-with-tiered-service"></a><span data-ttu-id="a931e-152">Scénario 2</span><span class="sxs-lookup"><span data-stu-id="a931e-152">Scenario 2.</span></span> <span data-ttu-id="a931e-153">Application arrivée à maturité avec un service sur plusieurs niveaux</span><span class="sxs-lookup"><span data-stu-id="a931e-153">Mature application with tiered service</span></span>
<span data-ttu-id="a931e-154"><i>Je propose une application SaaS mature avec plusieurs offres de service et différents contrats SLA pour les clients qui utilisent une version d’évaluation gratuite ou une version payante. Pour les clients à l’essai hello, j’ai tooreduce hello coût autant que possible. Clients à l’essai peuvent prendre le temps d’arrêt, mais je veux tooreduce sa probabilité. Pourquoi les clients payants, les temps d’arrêt est un risque de vol. Donc de toomake assurer que les clients qui paient sont toujours en mesure de tooaccess leurs données.</i></span><span class="sxs-lookup"><span data-stu-id="a931e-154"><i>I am a mature SaaS application with tiered service offers and different SLAs for trial customers and for paying customers. For hello trial customers, I have tooreduce hello cost as much as possible. Trial customers can take downtime but I want tooreduce its likelihood. For hello paying customers, any downtime is a flight risk. So I want toomake sure that paying customers are always able tooaccess their data.</i></span></span> 

<span data-ttu-id="a931e-155">toosupport ce scénario, distinct hello locataires de test à partir de payé locataires en les plaçant dans des pools élastiques distincts.</span><span class="sxs-lookup"><span data-stu-id="a931e-155">toosupport this scenario, separate hello trial tenants from paid tenants by putting them into separate elastic pools.</span></span> <span data-ttu-id="a931e-156">les clients de version d’évaluation Hello ont eDTU inférieur par client et inférieure SLA avec un temps de récupération plus long.</span><span class="sxs-lookup"><span data-stu-id="a931e-156">hello trial customers have lower eDTU per tenant and lower SLA with a longer recovery time.</span></span> <span data-ttu-id="a931e-157">les clients qui paient Hello sont dans un pool avec eDTU plus élevée par le client et un contrat SLA plus élevé.</span><span class="sxs-lookup"><span data-stu-id="a931e-157">hello paying customers are in a pool with higher eDTU per tenant and a higher SLA.</span></span> <span data-ttu-id="a931e-158">tooguarantee hello plus faible temps de récupération, les bases de données des clients qui paient hello client sont répliquées.</span><span class="sxs-lookup"><span data-stu-id="a931e-158">tooguarantee hello lowest recovery time, hello paying customers' tenant databases are geo-replicated.</span></span> <span data-ttu-id="a931e-159">Cette configuration est illustrée dans le diagramme suivant de hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-159">This configuration is illustrated on hello next diagram.</span></span> 

![Figure 4](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-4.png)

<span data-ttu-id="a931e-161">Comme dans le scénario de première hello, bases de données de gestion hello ne sont assez actives une seule base de données géo-répliquées pour (1).</span><span class="sxs-lookup"><span data-stu-id="a931e-161">As in hello first scenario, hello management databases are quite active so you use a single geo-replicated database for it (1).</span></span> <span data-ttu-id="a931e-162">Cela garantit des performances prévisibles hello pour l’abonnement du client, les mises à jour de profil et les autres opérations de gestion.</span><span class="sxs-lookup"><span data-stu-id="a931e-162">This ensures hello predictable performance for new customer subscriptions, profile updates, and other management operations.</span></span> <span data-ttu-id="a931e-163">région dans lesquels résidence indistinctement hello de bases de données de gestion hello Hello est la région primaire hello et région hello dans lesquels résident les bases de données secondaires hello de bases de données de gestion hello est la région de hello récupération d’urgence.</span><span class="sxs-lookup"><span data-stu-id="a931e-163">hello region in which hello primaries of hello management databases reside is hello primary region and hello region in which hello secondaries of hello management databases reside is hello DR region.</span></span>

<span data-ttu-id="a931e-164">Hello bases de données des clients qui paient client ont des bases de données actives Bonjour « payant « pool configuré dans la région principale de hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-164">hello paying customers’ tenant databases have active databases in hello “paid” pool provisioned in hello primary region.</span></span> <span data-ttu-id="a931e-165">Configurer un pool secondaire avec le même nom dans la région de hello récupération d’urgence de hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-165">Provision a secondary pool with hello same name in hello DR region.</span></span> <span data-ttu-id="a931e-166">Chaque client est toohello de géo-répliquées de pool secondaire (2).</span><span class="sxs-lookup"><span data-stu-id="a931e-166">Each tenant is geo-replicated toohello secondary pool (2).</span></span> <span data-ttu-id="a931e-167">Cela permet une récupération rapide de toutes les bases de données client à l’aide de la fonctionnalité de basculement.</span><span class="sxs-lookup"><span data-stu-id="a931e-167">This enables quick recovery of all tenant databases using failover.</span></span> 

<span data-ttu-id="a931e-168">Si une panne se produit dans la région principale de hello, hello toobring d’étapes de récupération en ligne votre application sont illustrées dans le diagramme suivant de hello :</span><span class="sxs-lookup"><span data-stu-id="a931e-168">If an outage occurs in hello primary region, hello recovery steps toobring your application online are illustrated in hello next diagram:</span></span>

![Figure 5](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-5.png)

* <span data-ttu-id="a931e-170">Basculer immédiatement la région de récupération d’urgence toohello hello gestion des bases de données (3).</span><span class="sxs-lookup"><span data-stu-id="a931e-170">Immediately fail over hello management databases toohello DR region (3).</span></span>
* <span data-ttu-id="a931e-171">Modifier connexion chaîne toopoint toohello récupération d’urgence la région l’application hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-171">Change hello application’s connection string toopoint toohello DR region.</span></span> <span data-ttu-id="a931e-172">Maintenant tous les nouveaux comptes et les bases de données clientes sont créés dans la région de récupération d’urgence hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-172">Now all new accounts and tenant databases are created in hello DR region.</span></span> <span data-ttu-id="a931e-173">les clients existants de version d’évaluation Hello voient leurs données temporairement indisponibles.</span><span class="sxs-lookup"><span data-stu-id="a931e-173">hello existing trial customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="a931e-174">Basculer hello payé de pool de toohello de bases de données du locataire dans tooimmediately de région de récupération d’urgence hello restaurer leur disponibilité (4).</span><span class="sxs-lookup"><span data-stu-id="a931e-174">Fail over hello paid tenant's databases toohello pool in hello DR region tooimmediately restore their availability (4).</span></span> <span data-ttu-id="a931e-175">Basculement de hello étant une modification du niveau de métadonnées rapide, envisagez une optimisation où hello les basculements individuels sont déclenchés à la demande par des connexions de l’utilisateur final hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-175">Since hello failover is a quick metadata level change, consider an optimization where hello individual failovers are triggered on demand by hello end-user connections.</span></span> 
* <span data-ttu-id="a931e-176">Si la taille d’eDTU de pool secondaire était inférieure à hello principal, car les bases de données secondaires hello uniquement requis hello capacité tooprocess hello modification enregistre pendant qu’ils ont des bases de données secondaires, augmentez immédiatement la capacité du pool hello maintenant tooaccommodate hello complète charge de travail de tous les locataires (5).</span><span class="sxs-lookup"><span data-stu-id="a931e-176">If your secondary pool eDTU size was lower than hello primary because hello secondary databases only required hello capacity tooprocess hello change logs while they were secondaries, immediately increase hello pool capacity now tooaccommodate hello full workload of all tenants (5).</span></span> 
* <span data-ttu-id="a931e-177">Créer nouveau pool élastique d’hello avec hello même nom et même hello configuration dans la région de hello récupération d’urgence pour les bases de données clients hello d’évaluation (6).</span><span class="sxs-lookup"><span data-stu-id="a931e-177">Create hello new elastic pool with hello same name and hello same configuration in hello DR region for hello trial customers' databases (6).</span></span> 
* <span data-ttu-id="a931e-178">Une fois le pool de clients hello d’évaluation est créé, utilisez bases de données géo-restauration toorestore hello client d’évaluation individuelle dans un nouveau pool d’hello (7).</span><span class="sxs-lookup"><span data-stu-id="a931e-178">Once hello trial customers’ pool is created, use geo-restore toorestore hello individual trial tenant databases into hello new pool (7).</span></span> <span data-ttu-id="a931e-179">Envisagez de déclencher les restaurations individuelles hello par des connexions de l’utilisateur final hello ou utiliser certaines autres schéma spécifiques à l’application en priorité.</span><span class="sxs-lookup"><span data-stu-id="a931e-179">Consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>

<span data-ttu-id="a931e-180">À ce stade votre application est en ligne dans la région de récupération d’urgence hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-180">At this point your application is back online in hello DR region.</span></span> <span data-ttu-id="a931e-181">Tous les clients qui paient ont accès aux données tootheir tandis que les clients à l’essai hello subissent délai lors de l’accès à leurs données.</span><span class="sxs-lookup"><span data-stu-id="a931e-181">All paying customers have access tootheir data while hello trial customers experience delay when accessing their data.</span></span>

<span data-ttu-id="a931e-182">Lorsque la région principale de hello est récupérée par Azure *après* vous avez restauré application hello chez hello récupération d’urgence, vous pouvez continuer à exécuter des application hello dans cette région ou vous pouvez décider de région principale de toofail toohello précédent.</span><span class="sxs-lookup"><span data-stu-id="a931e-182">When hello primary region is recovered by Azure *after* you have restored hello application in hello DR region you can continue running hello application in that region or you can decide toofail back toohello primary region.</span></span> <span data-ttu-id="a931e-183">Si la région primaire hello est récupérée *avant* hello basculement terminée, envisagez de restauration immédiatement.</span><span class="sxs-lookup"><span data-stu-id="a931e-183">If hello primary region is recovered *before* hello failover process is completed, consider failing back right away.</span></span> <span data-ttu-id="a931e-184">la restauration automatique Hello prend les mesures de hello illustrés dans le diagramme suivant de hello :</span><span class="sxs-lookup"><span data-stu-id="a931e-184">hello failback takes hello steps illustrated in hello next diagram:</span></span> 

![Figure 6](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-6.png)

* <span data-ttu-id="a931e-186">Annulez toutes les requêtes de géo-restauration en attente.</span><span class="sxs-lookup"><span data-stu-id="a931e-186">Cancel all outstanding geo-restore requests.</span></span>   
* <span data-ttu-id="a931e-187">Basculer les bases de données de gestion hello (8).</span><span class="sxs-lookup"><span data-stu-id="a931e-187">Fail over hello management databases (8).</span></span> <span data-ttu-id="a931e-188">Après la récupération de la région de hello, hello ancien serveur principal devient automatiquement hello secondaire.</span><span class="sxs-lookup"><span data-stu-id="a931e-188">After hello region’s recovery, hello old primary automatically become hello secondary.</span></span> <span data-ttu-id="a931e-189">Maintenant il devient hello principal à nouveau.</span><span class="sxs-lookup"><span data-stu-id="a931e-189">Now it becomes hello primary again.</span></span>  
* <span data-ttu-id="a931e-190">Basculer hello payé des bases de données client (9).</span><span class="sxs-lookup"><span data-stu-id="a931e-190">Fail over hello paid tenant databases (9).</span></span> <span data-ttu-id="a931e-191">De même, après la récupération de la région de hello, indistinctement ancien de hello deviennent automatiquement les bases de données secondaires hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-191">Similarly, after hello region’s recovery, hello old primaries automatically become hello secondaries.</span></span> <span data-ttu-id="a931e-192">Ils sont désormais à nouveau indistinctement de hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-192">Now they become hello primaries again.</span></span> 
* <span data-ttu-id="a931e-193">Hello du jeu de restauration des bases de données d’évaluation qui ont été modifiés dans la région de récupération d’urgence hello tooread uniquement (10).</span><span class="sxs-lookup"><span data-stu-id="a931e-193">Set hello restored trial databases that have changed in hello DR region tooread-only (10).</span></span>
* <span data-ttu-id="a931e-194">Pour chaque base de données de pool de récupération d’urgence de clients à l’essai hello qui a changé depuis la récupération de hello, renommer ou supprimer la base de données correspondante hello dans le pool principal de clients à l’essai hello (11).</span><span class="sxs-lookup"><span data-stu-id="a931e-194">For each database in hello trial customers DR pool that changed since hello recovery, rename or delete hello corresponding database in hello trial customers primary pool (11).</span></span> 
* <span data-ttu-id="a931e-195">Hello de copie mise à jour des bases de données à partir de hello pool principal de récupération d’urgence pool toohello (12).</span><span class="sxs-lookup"><span data-stu-id="a931e-195">Copy hello updated databases from hello DR pool toohello primary pool (12).</span></span> 
* <span data-ttu-id="a931e-196">Supprimer le pool de récupération d’urgence hello (13)</span><span class="sxs-lookup"><span data-stu-id="a931e-196">Delete hello DR pool (13)</span></span> 

> [!NOTE]
> <span data-ttu-id="a931e-197">l’opération de basculement Hello est asynchrone.</span><span class="sxs-lookup"><span data-stu-id="a931e-197">hello failover operation is asynchronous.</span></span> <span data-ttu-id="a931e-198">temps de récupération hello toominimize qu'il est important que vous exécutez commande de basculement hello client bases de données par lots de moins de 20 bases de données.</span><span class="sxs-lookup"><span data-stu-id="a931e-198">toominimize hello recovery time it is important that you execute hello tenant databases' failover command in batches of at least 20 databases.</span></span> 
> 
> 

<span data-ttu-id="a931e-199">clé de Hello **bénéficier** de cette stratégie est qu’elle fournit des SLA de la plus élevée hello pour hello clients payants.</span><span class="sxs-lookup"><span data-stu-id="a931e-199">hello key **benefit** of this strategy is that it provides hello highest SLA for hello paying customers.</span></span> <span data-ttu-id="a931e-200">Elle garantit également que les nouvelles versions d’essai hello sont débloquées dès que le pool de récupération d’urgence d’évaluation hello est créé.</span><span class="sxs-lookup"><span data-stu-id="a931e-200">It also guarantees that hello new trials are unblocked as soon as hello trial DR pool is created.</span></span> <span data-ttu-id="a931e-201">Hello **compromis** est que ce programme d’installation augmente le coût de hello total de bases de données clientes hello par coût hello du pool de récupération d’urgence secondaire hello pour payer des clients.</span><span class="sxs-lookup"><span data-stu-id="a931e-201">hello **trade-off** is that this setup increases hello total cost of hello tenant databases by hello cost of hello secondary DR pool for paid customers.</span></span> <span data-ttu-id="a931e-202">En outre, si le pool de hello secondaire a une taille différente, les clients qui paient hello performances inférieur après le basculement jusqu'à ce que hello mise à niveau du pool dans la région de hello récupération d’urgence est terminée.</span><span class="sxs-lookup"><span data-stu-id="a931e-202">In addition, if hello secondary pool has a different size, hello paying customers experience lower performance after failover until hello pool upgrade in hello DR region is completed.</span></span> 

## <a name="scenario-3-geographically-distributed-application-with-tiered-service"></a><span data-ttu-id="a931e-203">Scénario 3</span><span class="sxs-lookup"><span data-stu-id="a931e-203">Scenario 3.</span></span> <span data-ttu-id="a931e-204">Application dispersée géographiquement avec un service sur plusieurs niveaux</span><span class="sxs-lookup"><span data-stu-id="a931e-204">Geographically distributed application with tiered service</span></span>
<span data-ttu-id="a931e-205"><i>Je propose une application SaaS mature avec des offres de service sur plusieurs niveaux. Je souhaitez toooffer un toomy SLA très agressif payé clients et réduire les risques de hello d’impact sur les cas de panne, car même brève interruption peut entraîner le mécontentement du client. Il est essentiel que hello payer les clients permettre toujours accéder à leurs données. les essais Hello sont gratuits et un contrat SLA n’est pas proposé pendant la période d’évaluation de hello.</i></span><span class="sxs-lookup"><span data-stu-id="a931e-205"><i>I have a mature SaaS application with tiered service offers. I want toooffer a very aggressive SLA toomy paid customers and minimize hello risk of impact when outages occur because even brief interruption can cause customer dissatisfaction. It is critical that hello paying customers can always access their data. hello trials are free and an SLA is not offered during hello trial period. </i></span></span> 

<span data-ttu-id="a931e-206">toosupport ce scénario, utilisent les pools élastiques distinct trois.</span><span class="sxs-lookup"><span data-stu-id="a931e-206">toosupport this scenario, use three separate elastic pools.</span></span> <span data-ttu-id="a931e-207">Configurer deux pools de taille égale avec haute Edtu par base de données dans deux hello toocontain de différentes régions payant bases de données clientes clients.</span><span class="sxs-lookup"><span data-stu-id="a931e-207">Provision two equal size pools with high eDTUs per database in two different regions toocontain hello paid customers' tenant databases.</span></span> <span data-ttu-id="a931e-208">pool de tiers Hello contenant les clients de la version d’évaluation de hello peut inférieur Edtu par base de données et être configuré dans un des deux régions de hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-208">hello third pool containing hello trial tenants can have lower eDTUs per database and be provisioned in one of hello two regions.</span></span>

<span data-ttu-id="a931e-209">tooguarantee hello plus faible temps de récupération pendant les pannes, les bases de données des clients qui paient hello client sont répliquées avec 50 % de bases de données primaires hello dans chacune des régions de hello deux.</span><span class="sxs-lookup"><span data-stu-id="a931e-209">tooguarantee hello lowest recovery time during outages, hello paying customers' tenant databases are geo-replicated with 50% of hello primary databases in each of hello two regions.</span></span> <span data-ttu-id="a931e-210">De même, chaque région a 50 % de bases de données secondaires hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-210">Similarly, each region has 50% of hello secondary databases.</span></span> <span data-ttu-id="a931e-211">De cette manière, si une région est hors connexion, seuls 50 % des hello payé des bases de données de clients sont affectés et toofail sur.</span><span class="sxs-lookup"><span data-stu-id="a931e-211">This way, if a region is offline, only 50% of hello paid customers' databases are impacted and have toofail over.</span></span> <span data-ttu-id="a931e-212">Hello autres bases de données restent intacts.</span><span class="sxs-lookup"><span data-stu-id="a931e-212">hello other databases remain intact.</span></span> <span data-ttu-id="a931e-213">Cette configuration est illustrée dans hello suivant schéma :</span><span class="sxs-lookup"><span data-stu-id="a931e-213">This configuration is illustrated in hello following diagram:</span></span>

![Figure 4](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-7.png)

<span data-ttu-id="a931e-215">Comme dans les scénarios précédents hello, bases de données de gestion hello sont très actifs ainsi les configurer comme unique géo-répliquées bases de données (1).</span><span class="sxs-lookup"><span data-stu-id="a931e-215">As in hello previous scenarios, hello management databases are quite active so configure them as single geo-replicated databases (1).</span></span> <span data-ttu-id="a931e-216">Cela garantit des performances prévisibles hello d’abonnement du client hello, de mises à jour de profil et d’autres opérations de gestion.</span><span class="sxs-lookup"><span data-stu-id="a931e-216">This ensures hello predictable performance of hello new customer subscriptions, profile updates and other management operations.</span></span> <span data-ttu-id="a931e-217">Région A est la région principale de hello pour les bases de données de gestion hello et région de hello B est utilisée pour la récupération des bases de données de gestion hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-217">Region A is hello primary region for hello management databases and hello region B is used for recovery of hello management databases.</span></span>

<span data-ttu-id="a931e-218">bases de données des clients qui paient Hello client sont également répliquées, mais avec des couleurs primaires et secondaires fractionnée entre région A et B (2).</span><span class="sxs-lookup"><span data-stu-id="a931e-218">hello paying customers’ tenant databases are also geo-replicated but with primaries and secondaries split between region A and region B (2).</span></span> <span data-ttu-id="a931e-219">De cette manière, hello client bases de données primaires affectés par la panne de hello peuvent basculer toohello autre région et deviennent disponibles.</span><span class="sxs-lookup"><span data-stu-id="a931e-219">This way, hello tenant primary databases impacted by hello outage can fail over toohello other region and become available.</span></span> <span data-ttu-id="a931e-220">Hello autres la moitié des bases de données clientes hello ne soient pas affectés du tout.</span><span class="sxs-lookup"><span data-stu-id="a931e-220">hello other half of hello tenant databases are not be impacted at all.</span></span> 

<span data-ttu-id="a931e-221">le diagramme suivant Hello montre hello récupération étapes tootake si une panne se produit dans la région A.</span><span class="sxs-lookup"><span data-stu-id="a931e-221">hello next diagram illustrates hello recovery steps tootake if  an outage occurs in region A.</span></span>

![Figure 5](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-8.png)

* <span data-ttu-id="a931e-223">Basculer immédiatement tooregion de bases de données de gestion hello B (3).</span><span class="sxs-lookup"><span data-stu-id="a931e-223">Immediately fail over hello management databases tooregion B (3).</span></span>
* <span data-ttu-id="a931e-224">Modifier connexion chaîne toopoint toohello gestion des bases de données l’application hello dans la région B. Modifiez hello gestion des bases de données toomake que hello nouveaux comptes et les bases de données clientes sont créés dans la région B et bases de données client hello figurent il en tant que barre d’outils.</span><span class="sxs-lookup"><span data-stu-id="a931e-224">Change hello application’s connection string toopoint toohello management databases in region B. Modify hello management databases toomake sure hello new accounts and tenant databases are created in region B and hello existing tenant databases are found there as well.</span></span> <span data-ttu-id="a931e-225">les clients existants de version d’évaluation Hello voient leurs données temporairement indisponibles.</span><span class="sxs-lookup"><span data-stu-id="a931e-225">hello existing trial customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="a931e-226">Basculer hello payé toopool de bases de données du locataire 2 dans la région B tooimmediately restaurer leur disponibilité (4).</span><span class="sxs-lookup"><span data-stu-id="a931e-226">Fail over hello paid tenant's databases toopool 2 in region B tooimmediately restore their availability (4).</span></span> <span data-ttu-id="a931e-227">Basculement de hello étant une modification du niveau de métadonnées rapide, vous pouvez envisager une optimisation où hello les basculements individuels sont déclenchés à la demande par des connexions de l’utilisateur final hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-227">Since hello failover is a quick metadata level change, you may consider an optimization where hello individual failovers are triggered on demand by hello end-user connections.</span></span> 
* <span data-ttu-id="a931e-228">Depuis maintenant pool 2 contient uniquement les bases de données primaires, hello la charge de travail totale dans hello pool augmente et immédiatement augmenter sa taille eDTU (5).</span><span class="sxs-lookup"><span data-stu-id="a931e-228">Since now pool 2 contains only primary databases, hello total workload in hello pool increases and can immediately increase its eDTU size (5).</span></span> 
* <span data-ttu-id="a931e-229">Créer nouveau pool élastique d’hello avec hello même nom et même hello configuration dans la région B hello pour les bases de données clients hello d’évaluation (6).</span><span class="sxs-lookup"><span data-stu-id="a931e-229">Create hello new elastic pool with hello same name and hello same configuration in hello region B for hello trial customers' databases (6).</span></span> 
* <span data-ttu-id="a931e-230">Une fois le pool de hello est créé de base de données d’utilisation géo-restauration toorestore hello client d’évaluation individuelle dans le pool hello (7).</span><span class="sxs-lookup"><span data-stu-id="a931e-230">Once hello pool is created use geo-restore toorestore hello individual trial tenant database into hello pool (7).</span></span> <span data-ttu-id="a931e-231">Vous pouvez envisager de déclenchement des restaurations individuelles de hello par des connexions de l’utilisateur final hello ou utiliser certaines autres schéma spécifiques à l’application en priorité.</span><span class="sxs-lookup"><span data-stu-id="a931e-231">You can consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>

> [!NOTE]
> <span data-ttu-id="a931e-232">l’opération de basculement Hello est asynchrone.</span><span class="sxs-lookup"><span data-stu-id="a931e-232">hello failover operation is asynchronous.</span></span> <span data-ttu-id="a931e-233">temps de récupération toominimize hello, il est important que vous exécutez commande de basculement hello client bases de données par lots de moins de 20 bases de données.</span><span class="sxs-lookup"><span data-stu-id="a931e-233">toominimize hello recovery time, it is important that you execute hello tenant databases' failover command in batches of at least 20 databases.</span></span> 
> 

<span data-ttu-id="a931e-234">À ce stade votre application est en ligne dans la région B. Tous les clients qui paient ont accès aux données tootheir tandis que les clients à l’essai hello subissent délai lors de l’accès à leurs données.</span><span class="sxs-lookup"><span data-stu-id="a931e-234">At this point your application is back online in region B. All paying customers have access tootheir data while hello trial customers experience delay when accessing their data.</span></span>

<span data-ttu-id="a931e-235">Lors de la récupération de la région A vous devez toodecide si vous souhaitez toouse région B pour les clients à l’essai ou pool de clients à l’essai de la restauration automatique toousing hello dans la région A. Un critère pu être hello du client d’évaluation de bases de données modifiées depuis la récupération de hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-235">When region A is recovered you need toodecide if you want toouse region B for trial customers or failback toousing hello trial customers pool in region A. One criteria could be hello % of trial tenant databases modified since hello recovery.</span></span> <span data-ttu-id="a931e-236">Quelle que soit cette décision, vous devez toore équilibrer les locataires de hello payé entre deux pools.</span><span class="sxs-lookup"><span data-stu-id="a931e-236">Regardless of that decision, you need toore-balance hello paid tenants between two pools.</span></span> <span data-ttu-id="a931e-237">Hello le diagramme suivant montre les processus hello cas d’échouent des bases de données client d’évaluation hello a de tooregion précédent.</span><span class="sxs-lookup"><span data-stu-id="a931e-237">hello next diagram illustrates hello process when hello trial tenant databases fail back tooregion A.</span></span>  

![Figure 6](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-9.png)

* <span data-ttu-id="a931e-239">Annuler le pool tootrial récupération d’urgence de demandes toutes les géo-restauration en attente.</span><span class="sxs-lookup"><span data-stu-id="a931e-239">Cancel all outstanding geo-restore requests tootrial DR pool.</span></span>   
* <span data-ttu-id="a931e-240">Basculer la base de données de gestion hello (8).</span><span class="sxs-lookup"><span data-stu-id="a931e-240">Fail over hello management database (8).</span></span> <span data-ttu-id="a931e-241">Après la récupération de la région de hello, ancien serveur principal de hello est automatiquement devenu hello secondaire.</span><span class="sxs-lookup"><span data-stu-id="a931e-241">After hello region’s recovery, hello old primary automatically became hello secondary.</span></span> <span data-ttu-id="a931e-242">Maintenant il devient hello principal à nouveau.</span><span class="sxs-lookup"><span data-stu-id="a931e-242">Now it becomes hello primary again.</span></span>  
* <span data-ttu-id="a931e-243">Sélectionnez les bases de données client payant échouent précédent toopool 1 et initier basculement tootheir secondaires (9).</span><span class="sxs-lookup"><span data-stu-id="a931e-243">Select which paid tenant databases fail back toopool 1 and initiate failover tootheir secondaries (9).</span></span> <span data-ttu-id="a931e-244">Après la récupération de la région de hello, toutes les bases de données dans le pool 1 sont automatiquement les bases de données secondaires.</span><span class="sxs-lookup"><span data-stu-id="a931e-244">After hello region’s recovery, all databases in pool 1 automatically became secondaries.</span></span> <span data-ttu-id="a931e-245">Désormais, 50 % d’entre elles redeviennent des bases de données primaires.</span><span class="sxs-lookup"><span data-stu-id="a931e-245">Now 50% of them become primaries again.</span></span> 
* <span data-ttu-id="a931e-246">Réduire la taille hello des 2 toohello d’origine eDTU (10).</span><span class="sxs-lookup"><span data-stu-id="a931e-246">Reduce hello size of pool 2 toohello original eDTU (10).</span></span>
* <span data-ttu-id="a931e-247">Jeu de tous les restauré les bases de données d’évaluation dans la région de hello B tooread uniquement (11).</span><span class="sxs-lookup"><span data-stu-id="a931e-247">Set all restored trial databases in hello region B tooread-only (11).</span></span>
* <span data-ttu-id="a931e-248">Pour chaque base de données hello d’évaluation DR pool a changé depuis la récupération de hello, renommez ou supprimez des base de données correspondante hello dans le pool principal d’évaluation hello (12).</span><span class="sxs-lookup"><span data-stu-id="a931e-248">For each database in hello trial DR pool that has changed since hello recovery, rename or delete hello corresponding database in hello trial primary pool (12).</span></span> 
* <span data-ttu-id="a931e-249">Hello de copie mise à jour des bases de données à partir de hello pool principal de récupération d’urgence pool toohello (13).</span><span class="sxs-lookup"><span data-stu-id="a931e-249">Copy hello updated databases from hello DR pool toohello primary pool (13).</span></span> 
* <span data-ttu-id="a931e-250">Supprimer le pool de récupération d’urgence hello (14)</span><span class="sxs-lookup"><span data-stu-id="a931e-250">Delete hello DR pool (14)</span></span> 

<span data-ttu-id="a931e-251">clé de Hello **avantages** de cette stratégie sont :</span><span class="sxs-lookup"><span data-stu-id="a931e-251">hello key **benefits** of this strategy are:</span></span>

* <span data-ttu-id="a931e-252">Il prend en charge les SLA plus agressif hello hello clients payants, car elle garantit qu’une panne ne peut pas avoir une incidence sur plus de 50 % de bases de données clientes hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-252">It supports hello most aggressive SLA for hello paying customers because it ensures that an outage cannot impact more than 50% of hello tenant databases.</span></span> 
* <span data-ttu-id="a931e-253">Elle garantit que les nouvelles versions d’essai hello sont débloquées dès que le cheminement de hello DR pool est créé lors de la récupération de hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-253">It guarantees that hello new trials are unblocked as soon as hello trail DR pool is created during hello recovery.</span></span> 
* <span data-ttu-id="a931e-254">Il permet une utilisation plus efficace de la capacité du pool hello à 50 % des bases de données secondaires dans le pool 1 et 2 de pool est garantie toobe moins actives de bases de données primaires hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-254">It allows more efficient use of hello pool capacity as 50% of secondary databases in pool 1 and pool 2 are guaranteed toobe less active than hello primary databases.</span></span>

<span data-ttu-id="a931e-255">Hello principal **compromis** sont :</span><span class="sxs-lookup"><span data-stu-id="a931e-255">hello main **trade-offs** are:</span></span>

* <span data-ttu-id="a931e-256">les opérations CRUD Hello par rapport aux bases de données de gestion hello ont une latence plus faible pour hello utilisateurs finaux tooregion A que pour les utilisateurs finaux de hello tooregion B comme elles sont exécutées sur principal hello de bases de données de gestion hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-256">hello CRUD operations against hello management databases have lower latency for hello end users connected tooregion A than for hello end users connected tooregion B as they are executed against hello primary of hello management databases.</span></span>
* <span data-ttu-id="a931e-257">Elle nécessite une conception plus complexe de base de données de gestion hello.</span><span class="sxs-lookup"><span data-stu-id="a931e-257">It requires more complex design of hello management database.</span></span> <span data-ttu-id="a931e-258">Par exemple, chaque enregistrement de client est une balise d’emplacement qui doit toobe modifié pendant le basculement et la restauration automatique.</span><span class="sxs-lookup"><span data-stu-id="a931e-258">For example, each tenant record has a location tag that needs toobe changed during failover and failback.</span></span>  
* <span data-ttu-id="a931e-259">Hello clients payants peut rencontrer des performances inférieures à la normale jusqu'à ce que hello mise à niveau du pool dans la région B est terminée.</span><span class="sxs-lookup"><span data-stu-id="a931e-259">hello paying customers may experience lower performance than usual until hello pool upgrade in region B is completed.</span></span> 

## <a name="summary"></a><span data-ttu-id="a931e-260">Résumé</span><span class="sxs-lookup"><span data-stu-id="a931e-260">Summary</span></span>
<span data-ttu-id="a931e-261">Cet article se concentre sur les stratégies de récupération d’urgence hello pour le niveau de base de données hello utilisé par une application mutualisée de SaaS ISV.</span><span class="sxs-lookup"><span data-stu-id="a931e-261">This article focuses on hello disaster recovery strategies for hello database tier used by a SaaS ISV multi-tenant application.</span></span> <span data-ttu-id="a931e-262">choix de la stratégie Hello est basée sur les besoins hello d’application hello, telles que le mode d’entreprise hello, hello SLA vous toooffer tooyour clients, etc. de contrainte de budget. Description de chacun stratégie contours hello avantages et compromis afin de vous pourriez prendre une décision informée.</span><span class="sxs-lookup"><span data-stu-id="a931e-262">hello strategy you choose is based on hello needs of hello application, such as hello business model, hello SLA you want toooffer tooyour customers, budget constraint etc. Each described strategy outlines hello benefits and trade-off so you could make an informed decision.</span></span> <span data-ttu-id="a931e-263">De plus, votre propre application inclut probablement d’autres composants Azure.</span><span class="sxs-lookup"><span data-stu-id="a931e-263">Also, your specific application likely includes other Azure components.</span></span> <span data-ttu-id="a931e-264">Vous passez en revue leur aide de la continuité des activités et Orchestrez récupération hello de niveau de base de données hello avec eux.</span><span class="sxs-lookup"><span data-stu-id="a931e-264">So you review their business continuity guidance and orchestrate hello recovery of hello database tier with them.</span></span> <span data-ttu-id="a931e-265">toolearn savoir plus sur la gestion de la récupération des applications de base de données dans Azure, consultez trop[conception de solutions de cloud de récupération d’urgence](sql-database-designing-cloud-solutions-for-disaster-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="a931e-265">toolearn more about managing recovery of database applications in Azure, refer too[Designing cloud solutions for disaster recovery](sql-database-designing-cloud-solutions-for-disaster-recovery.md).</span></span>  

## <a name="next-steps"></a><span data-ttu-id="a931e-266">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="a931e-266">Next steps</span></span>
* <span data-ttu-id="a931e-267">toolearn sur les sauvegardes de base de données SQL Azure automatisée, consultez [base de données SQL des sauvegardes automatisées](sql-database-automated-backups.md).</span><span class="sxs-lookup"><span data-stu-id="a931e-267">toolearn about Azure SQL Database automated backups, see [SQL Database automated backups](sql-database-automated-backups.md).</span></span>
* <span data-ttu-id="a931e-268">Pour une vue d’ensemble de la continuité des activités et des scénarios, consultez [Vue d’ensemble de la continuité des activités](sql-database-business-continuity.md).</span><span class="sxs-lookup"><span data-stu-id="a931e-268">For a business continuity overview and scenarios, see [Business continuity overview](sql-database-business-continuity.md).</span></span>
* <span data-ttu-id="a931e-269">toolearn sur l’utilisation des sauvegardes automatisées pour la récupération, consultez [restaurer une base de données à partir de sauvegardes de hello initiées par le service](sql-database-recovery-using-backups.md).</span><span class="sxs-lookup"><span data-stu-id="a931e-269">toolearn about using automated backups for recovery, see [restore a database from hello service-initiated backups](sql-database-recovery-using-backups.md).</span></span>
* <span data-ttu-id="a931e-270">toolearn sur les options de récupération plus rapides, consultez [géo-réplication active](sql-database-geo-replication-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a931e-270">toolearn about faster recovery options, see [active geo-replication](sql-database-geo-replication-overview.md).</span></span>
* <span data-ttu-id="a931e-271">toolearn sur l’utilisation des sauvegardes automatisées pour l’archivage, consultez [copie de base de données](sql-database-copy.md).</span><span class="sxs-lookup"><span data-stu-id="a931e-271">toolearn about using automated backups for archiving, see [database copy](sql-database-copy.md).</span></span>

