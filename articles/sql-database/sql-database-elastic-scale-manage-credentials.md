---
title: "aaaManaging les informations d’identification de la bibliothèque cliente de base de données élastique hello | Documents Microsoft"
description: "Comment tooset hello niveau approprié d’informations d’identification, admin tooread uniquement, pour les applications de base de données élastique"
services: sql-database
documentationcenter: 
manager: jhubbard
author: ddove
editor: 
ms.assetid: 72e0edaf-795e-4856-84a5-6594f735fb7e
ms.service: sql-database
ms.custom: scale out apps
ms.workload: sql-database
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/24/2016
ms.author: ddove
ms.openlocfilehash: 218783ca2a07e3c0a4b089aa92634f32c41386e6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="credentials-used-tooaccess-hello-elastic-database-client-library"></a><span data-ttu-id="f477a-103">Informations d’identification utilisées la bibliothèque cliente de tooaccess hello élastique de base de données</span><span class="sxs-lookup"><span data-stu-id="f477a-103">Credentials used tooaccess hello Elastic Database client library</span></span>
<span data-ttu-id="f477a-104">Hello [bibliothèque cliente de base de données élastique](http://www.nuget.org/packages/Microsoft.Azure.SqlDatabase.ElasticScale.Client/) utilise trois types différents de hello de tooaccess d’informations d’identification [Gestionnaire de carte de partitions](sql-database-elastic-scale-shard-map-management.md).</span><span class="sxs-lookup"><span data-stu-id="f477a-104">hello [Elastic Database client library](http://www.nuget.org/packages/Microsoft.Azure.SqlDatabase.ElasticScale.Client/) uses three different kinds  of credentials tooaccess hello [shard map manager](sql-database-elastic-scale-shard-map-management.md).</span></span> <span data-ttu-id="f477a-105">En fonction de la nécessité de hello, utiliser les informations d’identification de hello avec hello plus bas niveau d’accès possible.</span><span class="sxs-lookup"><span data-stu-id="f477a-105">Depending on hello need, use hello credential with  hello lowest level of access possible.</span></span>

* <span data-ttu-id="f477a-106">**Informations d'identification d'administration**: pour créer ou manipuler un gestionnaire des cartes de partitions.</span><span class="sxs-lookup"><span data-stu-id="f477a-106">**Management credentials**: for creating or manipulating a shard map manager.</span></span> <span data-ttu-id="f477a-107">(Consultez hello [glossaire](sql-database-elastic-scale-glossary.md).)</span><span class="sxs-lookup"><span data-stu-id="f477a-107">(See hello [glossary](sql-database-elastic-scale-glossary.md).)</span></span> 
* <span data-ttu-id="f477a-108">**Accéder aux informations d’identification**: tooaccess une partition existante mapper manager tooobtain plus d’informations sur les partitions.</span><span class="sxs-lookup"><span data-stu-id="f477a-108">**Access credentials**: tooaccess an existing shard map manager tooobtain information about shards.</span></span>
* <span data-ttu-id="f477a-109">**Informations d’identification de connexion**: tooconnect tooshards.</span><span class="sxs-lookup"><span data-stu-id="f477a-109">**Connection credentials**: tooconnect tooshards.</span></span> 

<span data-ttu-id="f477a-110">Consultez également la section [Gestion des bases de données et des connexions dans la base de données Azure SQL](sql-database-manage-logins.md)</span><span class="sxs-lookup"><span data-stu-id="f477a-110">See also [Managing databases and logins in Azure SQL Database](sql-database-manage-logins.md).</span></span> 

## <a name="about-management-credentials"></a><span data-ttu-id="f477a-111">À propos des informations d'identification d'administration</span><span class="sxs-lookup"><span data-stu-id="f477a-111">About management credentials</span></span>
<span data-ttu-id="f477a-112">Informations d’identification d’administration sont utilisé toocreate un [ **ShardMapManager** ](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmapmanager.aspx) objet pour les applications qui manipulent des cartes de partitions.</span><span class="sxs-lookup"><span data-stu-id="f477a-112">Management credentials are used toocreate a [**ShardMapManager**](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmapmanager.aspx) object for applications that manipulate shard maps.</span></span> <span data-ttu-id="f477a-113">(Par exemple, consultez [Ajout d’une partition à l’aide des outils de base de données élastique](sql-database-elastic-scale-add-a-shard.md) et [routage dépendant des données](sql-database-elastic-scale-data-dependent-routing.md)) utilisateur hello de bibliothèque cliente d’élastique hello crée des utilisateurs SQL hello et des connexions SQL et permet de s’assurer que chacun est accordé des autorisations de lecture/écriture hello sur les partitions global hello mappent de base de données et toutes les partitions bases de données.</span><span class="sxs-lookup"><span data-stu-id="f477a-113">(For example, see [Adding a shard using Elastic Database tools](sql-database-elastic-scale-add-a-shard.md) and [Data dependent routing](sql-database-elastic-scale-data-dependent-routing.md)) hello user of hello elastic scale client library creates hello SQL users and SQL logins and makes sure each is granted hello read/write permissions on hello global shard map database and all shard databases as well.</span></span> <span data-ttu-id="f477a-114">Ces informations d’identification sont la carte de partitions globales hello toomaintain utilisés et les cartes de partitions local de hello lors de la carte de partitions toohello modifications sont effectuées.</span><span class="sxs-lookup"><span data-stu-id="f477a-114">These credentials are used toomaintain hello global shard map and hello local shard maps when changes toohello shard map are performed.</span></span> <span data-ttu-id="f477a-115">Par exemple, utiliser objet de gestionnaire map toocreate hello partition hello gestion des informations d’identification (à l’aide de [ **GetSqlShardMapManager**](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmapmanagerfactory.getsqlshardmapmanager.aspx):</span><span class="sxs-lookup"><span data-stu-id="f477a-115">For instance, use hello management credentials toocreate hello shard map manager object (using [**GetSqlShardMapManager**](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmapmanagerfactory.getsqlshardmapmanager.aspx):</span></span> 

    // Obtain a shard map manager. 
    ShardMapManager shardMapManager = ShardMapManagerFactory.GetSqlShardMapManager( 
            smmAdminConnectionString, 
            ShardMapManagerLoadPolicy.Lazy 
    ); 

<span data-ttu-id="f477a-116">variable de Hello **smmAdminConnectionString** est une chaîne de connexion qui contient les informations d’identification de gestion hello.</span><span class="sxs-lookup"><span data-stu-id="f477a-116">hello variable **smmAdminConnectionString** is a connection string that contains hello management credentials.</span></span> <span data-ttu-id="f477a-117">Hello ID d’utilisateur et mot de passe fournit la base de données de mappage en lecture/écriture access tooboth partitions et des partitions individuelles.</span><span class="sxs-lookup"><span data-stu-id="f477a-117">hello user ID and password provides read/write access tooboth shard map database and individual shards.</span></span> <span data-ttu-id="f477a-118">chaîne de connexion de gestion Hello inclut également hello serveur nom et la base de données nom tooidentify hello global partition carte de base de données.</span><span class="sxs-lookup"><span data-stu-id="f477a-118">hello management connection string also includes hello server name and database name tooidentify hello global shard map database.</span></span> <span data-ttu-id="f477a-119">Voici une chaîne de connexion classique à cet effet :</span><span class="sxs-lookup"><span data-stu-id="f477a-119">Here is a typical connection string for that purpose:</span></span>

     "Server=<yourserver>.database.windows.net;Database=<yourdatabase>;User ID=<yourmgmtusername>;Password=<yourmgmtpassword>;Trusted_Connection=False;Encrypt=True;Connection Timeout=30;” 

<span data-ttu-id="f477a-120">N’utilisez pas les valeurs sous forme de hello de «username@server», utilisez simplement de valeur de « nom d’utilisateur » hello.</span><span class="sxs-lookup"><span data-stu-id="f477a-120">Do not use values in hello form of "username@server"—instead just use hello "username" value.</span></span>  <span data-ttu-id="f477a-121">Il s’agit, car les informations d’identification doivent fonctionner par rapport à la base de données du gestionnaire carte hello partitions et des partitions individuelles, qui peuvent être sur des serveurs différents.</span><span class="sxs-lookup"><span data-stu-id="f477a-121">This is because credentials must work against both hello shard map manager database and individual shards, which may be on different servers.</span></span>

## <a name="access-credentials"></a><span data-ttu-id="f477a-122">Informations d’identification d’accès</span><span class="sxs-lookup"><span data-stu-id="f477a-122">Access credentials</span></span>
<span data-ttu-id="f477a-123">Lorsque vous créez une partition de gestionnaire de cartes dans une application qui ne pas administrer les cartes de partitions, utilisez les informations d’identification disposant des autorisations en lecture seule sur la carte de partitions globales de hello.</span><span class="sxs-lookup"><span data-stu-id="f477a-123">When creating a shard map manager in an application that does not administer shard maps, use credentials that have read-only permissions on hello global shard map.</span></span> <span data-ttu-id="f477a-124">Hello informations récupérées à partir de la carte de partitions globales de hello sous ces informations d’identification sont utilisées pour [routage dépendant des données](sql-database-elastic-scale-data-dependent-routing.md) et partitions de hello toopopulate mapper le cache sur hello client.</span><span class="sxs-lookup"><span data-stu-id="f477a-124">hello information retrieved from hello global shard map under these credentials are used for [data-dependent routing](sql-database-elastic-scale-data-dependent-routing.md) and toopopulate hello shard map cache on hello client.</span></span> <span data-ttu-id="f477a-125">Hello informations d’identification sont fournies via hello même call modèle trop**GetSqlShardMapManager** comme indiqué ci-dessus :</span><span class="sxs-lookup"><span data-stu-id="f477a-125">hello credentials are provided through hello same call pattern too**GetSqlShardMapManager** as shown above:</span></span> 

    // Obtain shard map manager. 
    ShardMapManager shardMapManager = ShardMapManagerFactory.GetSqlShardMapManager( 
            smmReadOnlyConnectionString, 
            ShardMapManagerLoadPolicy.Lazy
    );  

<span data-ttu-id="f477a-126">Notez que hello hello **smmReadOnlyConnectionString** tooreflect utilisation de hello de différentes informations d’identification d’accès de la part de **non-administrateur** utilisateurs : ces informations d’identification ne doivent pas fournir écriture autorisations sur la carte de partitions globales de hello.</span><span class="sxs-lookup"><span data-stu-id="f477a-126">Note hello use of hello **smmReadOnlyConnectionString** tooreflect hello use of different credentials for this access on behalf of **non-admin** users: these credentials should not provide write permissions on hello global shard map.</span></span> 

## <a name="connection-credentials"></a><span data-ttu-id="f477a-127">Informations d'identification de connexion</span><span class="sxs-lookup"><span data-stu-id="f477a-127">Connection credentials</span></span>
<span data-ttu-id="f477a-128">Informations d’identification supplémentaires sont nécessaires lorsque vous utilisez hello [ **OpenConnectionForKey** ](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmap.openconnectionforkey.aspx) méthode tooaccess une partition associée à une clé de partitionnement.</span><span class="sxs-lookup"><span data-stu-id="f477a-128">Additional credentials are needed when using hello [**OpenConnectionForKey**](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmap.openconnectionforkey.aspx) method tooaccess a shard associated with a sharding key.</span></span> <span data-ttu-id="f477a-129">Ces informations d’identification besoin tooprovide autorisations pour les tables de correspondance des accès en lecture seule toohello partition locale résidant sur les partitions hello.</span><span class="sxs-lookup"><span data-stu-id="f477a-129">These credentials need tooprovide permissions for read-only access toohello local shard map tables residing on hello shard.</span></span> <span data-ttu-id="f477a-130">Il s’agit de validation de la connexion tooperform nécessaires pour le routage dépendant des données sur les partitions hello.</span><span class="sxs-lookup"><span data-stu-id="f477a-130">This is needed tooperform connection validation for data-dependent routing on hello shard.</span></span> <span data-ttu-id="f477a-131">Cet extrait de code permet l’accès aux données dans le contexte de hello de routage dépendant des données :</span><span class="sxs-lookup"><span data-stu-id="f477a-131">This code snippet allows data access in hello context of data dependent routing:</span></span> 

    using (SqlConnection conn = rangeMap.OpenConnectionForKey<int>( 
    targetWarehouse, smmUserConnectionString, ConnectionOptions.Validate)) 

<span data-ttu-id="f477a-132">Dans cet exemple, **smmUserConnectionString** contient des informations d’identification de l’utilisateur de chaîne de connexion hello pour hello.</span><span class="sxs-lookup"><span data-stu-id="f477a-132">In this example, **smmUserConnectionString** holds hello connection string for hello user credentials.</span></span> <span data-ttu-id="f477a-133">Pour la base de données SQL Azure, voici une chaîne de connexion classique pour les informations d'identification de l'utilisateur :</span><span class="sxs-lookup"><span data-stu-id="f477a-133">For Azure SQL DB, here is a typical connection string for user credentials:</span></span> 

    "User ID=<yourusername>; Password=<youruserpassword>; Trusted_Connection=False; Encrypt=True; Connection Timeout=30;”  

<span data-ttu-id="f477a-134">Comme avec les informations d’identification d’administrateur hello, ne pas les valeurs sous forme de hello de «username@server».</span><span class="sxs-lookup"><span data-stu-id="f477a-134">As with hello admin credentials, do not values in hello form of "username@server".</span></span> <span data-ttu-id="f477a-135">Utilisez simplement « username ».</span><span class="sxs-lookup"><span data-stu-id="f477a-135">Instead, just use "username".</span></span>  <span data-ttu-id="f477a-136">Notez également que chaîne de connexion hello ne contient pas de nom de serveur et le nom de la base de données.</span><span class="sxs-lookup"><span data-stu-id="f477a-136">Also note that hello connection string does not contain a server name and database name.</span></span> <span data-ttu-id="f477a-137">C’est parce que hello **OpenConnectionForKey** appel dirigera hello toohello de connexion correct de partitions en fonction de la clé de hello.</span><span class="sxs-lookup"><span data-stu-id="f477a-137">That is because hello **OpenConnectionForKey** call will automatically direct hello connection toohello correct shard based on hello key.</span></span> <span data-ttu-id="f477a-138">Par conséquent, nom de base de données hello et le nom du serveur ne sont pas fournies.</span><span class="sxs-lookup"><span data-stu-id="f477a-138">Hence, hello database name and server name are not provided.</span></span> 

## <a name="see-also"></a><span data-ttu-id="f477a-139">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="f477a-139">See also</span></span>
[<span data-ttu-id="f477a-140">Gestion des bases de données et des connexions dans Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="f477a-140">Managing databases and logins in Azure SQL Database</span></span>](sql-database-manage-logins.md)

[<span data-ttu-id="f477a-141">Sécurisation de votre base de données SQL</span><span class="sxs-lookup"><span data-stu-id="f477a-141">Securing your SQL Database</span></span>](sql-database-security-overview.md)

[<span data-ttu-id="f477a-142">Prise en main de Tâches de bases de données élastiques</span><span class="sxs-lookup"><span data-stu-id="f477a-142">Getting started with Elastic Database jobs</span></span>](sql-database-elastic-jobs-getting-started.md)

[!INCLUDE [elastic-scale-include](../../includes/elastic-scale-include.md)]

