---
title: "Registre des identités de Azure IoT Hub hello aaaUnderstand | Documents Microsoft"
description: "Guide du développeur - description de hello Registre des identités IoT Hub et la manière dont toouse il toomanage vos appareils. Inclut des informations sur l’importation de hello et l’exportation des identités de l’appareil en bloc."
services: iot-hub
documentationcenter: .net
author: dominicbetts
manager: timlt
editor: 
ms.assetid: 0706eccd-e84c-4ae7-bbd4-2b1a22241147
ms.service: iot-hub
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/08/2017
ms.author: dobett
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: c9fe3730a4608e28c47807ecb42e13e73f6a2e80
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="understand-hello-identity-registry-in-your-iot-hub"></a><span data-ttu-id="7baa6-104">Comprendre le Registre des identités hello dans votre IoT hub</span><span class="sxs-lookup"><span data-stu-id="7baa6-104">Understand hello identity registry in your IoT hub</span></span>

<span data-ttu-id="7baa6-105">Chaque hub IoT a un registre des identités qui stocke des informations sur les périphériques hello autorisés tooconnect toohello IoT hub.</span><span class="sxs-lookup"><span data-stu-id="7baa6-105">Every IoT hub has an identity registry that stores information about hello devices permitted tooconnect toohello IoT hub.</span></span> <span data-ttu-id="7baa6-106">Avant de connecter un appareil tooan IoT hub, il doit y avoir une entrée pour ce périphérique dans le Registre des identités de concentrateur hello IoT.</span><span class="sxs-lookup"><span data-stu-id="7baa6-106">Before a device can connect tooan IoT hub, there must be an entry for that device in hello IoT hub's identity registry.</span></span> <span data-ttu-id="7baa6-107">Un appareil doit également s’authentifier avec hello IoT hub basé sur les informations d’identification stockées dans le Registre des identités hello.</span><span class="sxs-lookup"><span data-stu-id="7baa6-107">A device must also authenticate with hello IoT hub based on credentials stored in hello identity registry.</span></span>

<span data-ttu-id="7baa6-108">ID de périphérique Hello stockée dans le Registre des identités hello respecte la casse.</span><span class="sxs-lookup"><span data-stu-id="7baa6-108">hello device ID stored in hello identity registry is case-sensitive.</span></span>

<span data-ttu-id="7baa6-109">À un niveau élevé, Registre des identités hello est une collection prenant en charge de REST identité de ressources de périphérique.</span><span class="sxs-lookup"><span data-stu-id="7baa6-109">At a high level, hello identity registry is a REST-capable collection of device identity resources.</span></span> <span data-ttu-id="7baa6-110">Lorsque vous ajoutez une entrée dans le Registre des identités hello, IoT Hub crée un ensemble de ressources de chaque appareil comme file d’attente hello qui contient des messages cloud-à-appareil en cours.</span><span class="sxs-lookup"><span data-stu-id="7baa6-110">When you add an entry in hello identity registry, IoT Hub creates a set of per-device resources such as hello queue that contains in-flight cloud-to-device messages.</span></span>

### <a name="when-toouse"></a><span data-ttu-id="7baa6-111">Lorsque toouse</span><span class="sxs-lookup"><span data-stu-id="7baa6-111">When toouse</span></span>

<span data-ttu-id="7baa6-112">Utilisez le Registre des identités hello lorsque vous avez besoin :</span><span class="sxs-lookup"><span data-stu-id="7baa6-112">Use hello identity registry when you need to:</span></span>

* <span data-ttu-id="7baa6-113">Configurer des appareils qui se connectent tooyour IoT hub.</span><span class="sxs-lookup"><span data-stu-id="7baa6-113">Provision devices that connect tooyour IoT hub.</span></span>
* <span data-ttu-id="7baa6-114">Contrôler les points de terminaison de périphérique du concentrateur de tooyour accès par périphérique.</span><span class="sxs-lookup"><span data-stu-id="7baa6-114">Control per-device access tooyour hub's device-facing endpoints.</span></span>

> [!NOTE]
> <span data-ttu-id="7baa6-115">Registre des identités Hello ne contient pas toutes les métadonnées spécifiques à l’application.</span><span class="sxs-lookup"><span data-stu-id="7baa6-115">hello identity registry does not contain any application-specific metadata.</span></span>

## <a name="identity-registry-operations"></a><span data-ttu-id="7baa6-116">Opérations du registre d’identité</span><span class="sxs-lookup"><span data-stu-id="7baa6-116">Identity registry operations</span></span>

<span data-ttu-id="7baa6-117">Hello Registre des identités IoT Hub expose hello opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="7baa6-117">hello IoT Hub identity registry exposes hello following operations:</span></span>

* <span data-ttu-id="7baa6-118">Création d’une identité d’appareil</span><span class="sxs-lookup"><span data-stu-id="7baa6-118">Create device identity</span></span>
* <span data-ttu-id="7baa6-119">Mise à jour d’une identité d’appareil</span><span class="sxs-lookup"><span data-stu-id="7baa6-119">Update device identity</span></span>
* <span data-ttu-id="7baa6-120">Récupération d’une identité d’appareil par ID</span><span class="sxs-lookup"><span data-stu-id="7baa6-120">Retrieve device identity by ID</span></span>
* <span data-ttu-id="7baa6-121">Suppression d’une identité d’appareil</span><span class="sxs-lookup"><span data-stu-id="7baa6-121">Delete device identity</span></span>
* <span data-ttu-id="7baa6-122">Liste des identités de too1000</span><span class="sxs-lookup"><span data-stu-id="7baa6-122">List up too1000 identities</span></span>
* <span data-ttu-id="7baa6-123">Exporter le stockage d’objets blob tooAzure toutes les identités</span><span class="sxs-lookup"><span data-stu-id="7baa6-123">Export all identities tooAzure blob storage</span></span>
* <span data-ttu-id="7baa6-124">Importation de toutes les identités depuis le stockage Blob Azure</span><span class="sxs-lookup"><span data-stu-id="7baa6-124">Import identities from Azure blob storage</span></span>

<span data-ttu-id="7baa6-125">Toutes ces opérations peuvent utiliser un accès concurrentiel optimiste, comme spécifié dans [RFC7232][lnk-rfc7232].</span><span class="sxs-lookup"><span data-stu-id="7baa6-125">All these operations can use optimistic concurrency, as specified in [RFC7232][lnk-rfc7232].</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7baa6-126">Hello tooretrieve de façon seulement toutes les identités dans le Registre des identités d’un hub IoT est toouse hello [exporter] [ lnk-export] fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="7baa6-126">hello only way tooretrieve all identities in an IoT hub's identity registry is toouse hello [Export][lnk-export] functionality.</span></span>

<span data-ttu-id="7baa6-127">Un registre des identités IoT Hub :</span><span class="sxs-lookup"><span data-stu-id="7baa6-127">An IoT Hub identity registry:</span></span>

* <span data-ttu-id="7baa6-128">ne contient pas de métadonnées de l’application ;</span><span class="sxs-lookup"><span data-stu-id="7baa6-128">Does not contain any application metadata.</span></span>
* <span data-ttu-id="7baa6-129">Est accessible comme un dictionnaire, à l’aide de hello **deviceId** en tant que clé de hello.</span><span class="sxs-lookup"><span data-stu-id="7baa6-129">Can be accessed like a dictionary, by using hello **deviceId** as hello key.</span></span>
* <span data-ttu-id="7baa6-130">ne prend pas en charge les requêtes expressives.</span><span class="sxs-lookup"><span data-stu-id="7baa6-130">Does not support expressive queries.</span></span>

<span data-ttu-id="7baa6-131">Une solution IoT possède généralement une zone de stockage distincte spécifique à la solution qui contient les métadonnées propres à l’application.</span><span class="sxs-lookup"><span data-stu-id="7baa6-131">An IoT solution typically has a separate solution-specific store that contains application-specific metadata.</span></span> <span data-ttu-id="7baa6-132">Par exemple, hello magasin spécifique à la solution dans une solution de génération de smart doit enregistrer salle hello dans lequel un capteur de température est déployé.</span><span class="sxs-lookup"><span data-stu-id="7baa6-132">For example, hello solution-specific store in a smart building solution would record hello room in which a temperature sensor is deployed.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7baa6-133">Utilisez uniquement Registre des identités hello pour la gestion des périphériques et opérations de configuration.</span><span class="sxs-lookup"><span data-stu-id="7baa6-133">Only use hello identity registry for device management and provisioning operations.</span></span> <span data-ttu-id="7baa6-134">Opérations de débit élevé au moment de l’exécution ne doivent pas dépendre de l’exécution d’opérations dans le Registre des identités hello.</span><span class="sxs-lookup"><span data-stu-id="7baa6-134">High throughput operations at run time should not depend on performing operations in hello identity registry.</span></span> <span data-ttu-id="7baa6-135">Par exemple, la vérification de l’état de connexion hello d’un appareil avant d’envoyer une commande n’est pas un modèle pris en charge.</span><span class="sxs-lookup"><span data-stu-id="7baa6-135">For example, checking hello connection state of a device before sending a command is not a supported pattern.</span></span> <span data-ttu-id="7baa6-136">Assurez-vous que toocheck hello [taux de limitation] [ lnk-quotas] pour le Registre des identités hello et hello [pulsation de l’appareil] [ lnk-guidance-heartbeat] modèle.</span><span class="sxs-lookup"><span data-stu-id="7baa6-136">Make sure toocheck hello [throttling rates][lnk-quotas] for hello identity registry, and hello [device heartbeat][lnk-guidance-heartbeat] pattern.</span></span>

## <a name="disable-devices"></a><span data-ttu-id="7baa6-137">Désactivation d’appareils</span><span class="sxs-lookup"><span data-stu-id="7baa6-137">Disable devices</span></span>

<span data-ttu-id="7baa6-138">Vous pouvez désactiver les périphériques en mettant à jour hello **état** propriété d’une identité dans le Registre des identités hello.</span><span class="sxs-lookup"><span data-stu-id="7baa6-138">You can disable devices by updating hello **status** property of an identity in hello identity registry.</span></span> <span data-ttu-id="7baa6-139">Généralement, cette propriété est utilisée dans deux scénarios :</span><span class="sxs-lookup"><span data-stu-id="7baa6-139">Typically, you use this property in two scenarios:</span></span>

* <span data-ttu-id="7baa6-140">Au cours d’un processus d’orchestration d’approvisionnement.</span><span class="sxs-lookup"><span data-stu-id="7baa6-140">During a provisioning orchestration process.</span></span> <span data-ttu-id="7baa6-141">Pour plus d’informations, voir [Approvisionnement des appareils][lnk-guidance-provisioning].</span><span class="sxs-lookup"><span data-stu-id="7baa6-141">For more information, see [Device Provisioning][lnk-guidance-provisioning].</span></span>
* <span data-ttu-id="7baa6-142">Si, pour une raison quelconque, vous pensez qu’un appareil est compromis ou non autorisé.</span><span class="sxs-lookup"><span data-stu-id="7baa6-142">If, for any reason, you consider a device is compromised or has become unauthorized.</span></span>

## <a name="import-and-export-device-identities"></a><span data-ttu-id="7baa6-143">Importer et exporter les identités des appareils</span><span class="sxs-lookup"><span data-stu-id="7baa6-143">Import and export device identities</span></span>

<span data-ttu-id="7baa6-144">Vous pouvez exporter les identités des appareils en bloc à partir du Registre des identités d’un hub IoT, à l’aide des opérations asynchrones sur hello [point de terminaison IoT Hub ressource fournisseur][lnk-endpoints].</span><span class="sxs-lookup"><span data-stu-id="7baa6-144">You can export device identities in bulk from an IoT hub's identity registry, by using asynchronous operations on hello [IoT Hub resource provider endpoint][lnk-endpoints].</span></span> <span data-ttu-id="7baa6-145">Les exportations sont longs travaux qui utilisent un données d’identité d’appareil fourni par le client de blob conteneur toosave lire à partir du Registre des identités hello.</span><span class="sxs-lookup"><span data-stu-id="7baa6-145">Exports are long-running jobs that use a customer-supplied blob container toosave device identity data read from hello identity registry.</span></span>

<span data-ttu-id="7baa6-146">Vous pouvez importer des identités d’appareil dans le Registre des identités du hub IoT en bloc tooan, à l’aide des opérations asynchrones sur hello [point de terminaison IoT Hub ressource fournisseur][lnk-endpoints].</span><span class="sxs-lookup"><span data-stu-id="7baa6-146">You can import device identities in bulk tooan IoT hub's identity registry, by using asynchronous operations on hello [IoT Hub resource provider endpoint][lnk-endpoints].</span></span> <span data-ttu-id="7baa6-147">Les importations sont des travaux à long terme qui utilisent des données dans un blob de fourni par le client conteneur toowrite appareil identité de données dans le Registre des identités hello.</span><span class="sxs-lookup"><span data-stu-id="7baa6-147">Imports are long-running jobs that use data in a customer-supplied blob container toowrite device identity data into hello identity registry.</span></span>

* <span data-ttu-id="7baa6-148">Pour obtenir des informations détaillées sur l’importation de hello et d’exportation des API, consultez [fournisseur de ressources IoT Hub API REST][lnk-resource-provider-apis].</span><span class="sxs-lookup"><span data-stu-id="7baa6-148">For detailed information about hello import and export APIs, see [IoT Hub resource provider REST APIs][lnk-resource-provider-apis].</span></span>
* <span data-ttu-id="7baa6-149">toolearn plus d’informations sur l’exécution importent et exporter les tâches, consultez [en bloc de gestion des identités des appareils IoT Hub][lnk-bulk-identity].</span><span class="sxs-lookup"><span data-stu-id="7baa6-149">toolearn more about running import and export jobs, see [Bulk management of IoT Hub device identities][lnk-bulk-identity].</span></span>

## <a name="device-provisioning"></a><span data-ttu-id="7baa6-150">Approvisionnement des appareils</span><span class="sxs-lookup"><span data-stu-id="7baa6-150">Device provisioning</span></span>

<span data-ttu-id="7baa6-151">données de l’appareil Hello contenant une solution IoT donnée dépendent hello spécifique de cette solution.</span><span class="sxs-lookup"><span data-stu-id="7baa6-151">hello device data that a given IoT solution stores depends on hello specific requirements of that solution.</span></span> <span data-ttu-id="7baa6-152">Mais une solution doit au minimum stocker les clés d’authentification et les identités des appareils.</span><span class="sxs-lookup"><span data-stu-id="7baa6-152">But, as a minimum, a solution must store device identities and authentication keys.</span></span> <span data-ttu-id="7baa6-153">Azure IoT Hub inclut un registre d’identité qui peut stocker des valeurs pour chaque appareil, comme les ID, les clés d’authentification et les codes d’état.</span><span class="sxs-lookup"><span data-stu-id="7baa6-153">Azure IoT Hub includes an identity registry that can store values for each device such as IDs, authentication keys, and status codes.</span></span> <span data-ttu-id="7baa6-154">Une solution peut utiliser des autres services Azure tels que le stockage de table, stockage d’objets blob ou Cosmos DB toostore toutes les données d’appareil supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="7baa6-154">A solution can use other Azure services such as table storage, blob storage, or Cosmos DB toostore any additional device data.</span></span>

<span data-ttu-id="7baa6-155">*Configuration du périphérique* est hello des processus d’ajout de banques de toohello données hello initiale de l’appareil dans votre solution.</span><span class="sxs-lookup"><span data-stu-id="7baa6-155">*Device provisioning* is hello process of adding hello initial device data toohello stores in your solution.</span></span> <span data-ttu-id="7baa6-156">tooenable un nouveau concentrateur de tooyour tooconnect de périphérique, vous devez ajouter un toohello ID et les clés appareil Registre des identités IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="7baa6-156">tooenable a new device tooconnect tooyour hub, you must add a device ID and keys toohello IoT Hub identity registry.</span></span> <span data-ttu-id="7baa6-157">Dans le cadre du processus d’approvisionnement de hello, vous devrez peut-être tooinitialize des données dans d’autres banques de la solution.</span><span class="sxs-lookup"><span data-stu-id="7baa6-157">As part of hello provisioning process, you might need tooinitialize device-specific data in other solution stores.</span></span>

## <a name="device-heartbeat"></a><span data-ttu-id="7baa6-158">Pulsation des appareils</span><span class="sxs-lookup"><span data-stu-id="7baa6-158">Device heartbeat</span></span>

<span data-ttu-id="7baa6-159">Registre des identités IoT Hub Hello contient un champ appelé **connectionState**.</span><span class="sxs-lookup"><span data-stu-id="7baa6-159">hello IoT Hub identity registry contains a field called **connectionState**.</span></span> <span data-ttu-id="7baa6-160">Utilisez uniquement hello **connectionState** champ pendant le développement et le débogage.</span><span class="sxs-lookup"><span data-stu-id="7baa6-160">Only use hello **connectionState** field during development and debugging.</span></span> <span data-ttu-id="7baa6-161">IoT solutions doivent interroger pas de champ de hello en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="7baa6-161">IoT solutions should not query hello field at run time.</span></span> <span data-ttu-id="7baa6-162">Par exemple, ne pas interroger hello **connectionState** toocheck champ si un appareil est connecté avant d’envoyer un message cloud-à-appareil ou un SMS.</span><span class="sxs-lookup"><span data-stu-id="7baa6-162">For example, do not query hello **connectionState** field toocheck if a device is connected before you send a cloud-to-device message or an SMS.</span></span>

<span data-ttu-id="7baa6-163">Si votre solution IoT doit tooknow si un appareil est connecté, vous devez implémenter hello *modèle de pulsation*.</span><span class="sxs-lookup"><span data-stu-id="7baa6-163">If your IoT solution needs tooknow if a device is connected, you should implement hello *heartbeat pattern*.</span></span>

<span data-ttu-id="7baa6-164">Dans le modèle de pulsation hello, appareil de hello envoie des messages de l’appareil-à-cloud au moins une fois chaque quantité fixe de temps (par exemple, au moins une fois par heure).</span><span class="sxs-lookup"><span data-stu-id="7baa6-164">In hello heartbeat pattern, hello device sends device-to-cloud messages at least once every fixed amount of time (for example, at least once every hour).</span></span> <span data-ttu-id="7baa6-165">Par conséquent, même si un appareil ne dispose pas de n’importe quel toosend de données, il envoie toujours un message vide de périphérique dans le cloud (généralement avec une propriété qui l’identifie comme une pulsation).</span><span class="sxs-lookup"><span data-stu-id="7baa6-165">Therefore, even if a device does not have any data toosend, it still sends an empty device-to-cloud message (usually with a property that identifies it as a heartbeat).</span></span> <span data-ttu-id="7baa6-166">Sur le côté du service hello, solution de hello gère un mappage avec hello dernière pulsation reçue pour chaque périphérique.</span><span class="sxs-lookup"><span data-stu-id="7baa6-166">On hello service side, hello solution maintains a map with hello last heartbeat received for each device.</span></span> <span data-ttu-id="7baa6-167">Si la solution de hello ne reçoit pas d’un message de pulsation dans délai hello prévu à partir de l’appareil de hello, il part du principe qu’il existe un problème avec le périphérique de hello.</span><span class="sxs-lookup"><span data-stu-id="7baa6-167">If hello solution does not receive a heartbeat message within hello expected time from hello device, it assumes that there is a problem with hello device.</span></span>

<span data-ttu-id="7baa6-168">Une implémentation plus complexe peut inclure des informations de hello des [surveillance des opérations] [ lnk-devguide-opmon] périphériques tooidentify essaient tooconnect ou communiquent mais échouent.</span><span class="sxs-lookup"><span data-stu-id="7baa6-168">A more complex implementation could include hello information from [operations monitoring][lnk-devguide-opmon] tooidentify devices that are trying tooconnect or communicate but failing.</span></span> <span data-ttu-id="7baa6-169">Lorsque vous implémentez le modèle de pulsation hello, assurez-vous que toocheck [IoT Hub Quotas et les accélérateurs][lnk-quotas].</span><span class="sxs-lookup"><span data-stu-id="7baa6-169">When you implement hello heartbeat pattern, make sure toocheck [IoT Hub Quotas and Throttles][lnk-quotas].</span></span>

> [!NOTE]
> <span data-ttu-id="7baa6-170">Si une connexion de hello IoT solution utilise état toodetermine uniquement si les messages cloud-à-appareil toosend, et les messages ne sont pas toolarge des ensembles de périphériques de diffusion, envisagez d’utiliser le plus simple de hello *court délai d’expiration* modèle.</span><span class="sxs-lookup"><span data-stu-id="7baa6-170">If an IoT solution uses hello connection state solely toodetermine whether toosend cloud-to-device messages, and messages are not broadcast toolarge sets of devices, consider using hello simpler *short expiry time* pattern.</span></span> <span data-ttu-id="7baa6-171">Ce modèle permet d’obtenir hello même résultat que la gestion d’un Registre état de connexion de périphérique à l’aide du modèle de pulsation hello, tout en étant plus efficace.</span><span class="sxs-lookup"><span data-stu-id="7baa6-171">This pattern achieves hello same result as maintaining a device connection state registry using hello heartbeat pattern, while being more efficient.</span></span> <span data-ttu-id="7baa6-172">Si vous demandez les accusés de réception de message, IoT Hub peut vous informer sur les appareils qui sont en mesure de tooreceive messages et qui ne sont pas.</span><span class="sxs-lookup"><span data-stu-id="7baa6-172">If you request message acknowledgements, IoT Hub can notify you about which devices are able tooreceive messages and which are not.</span></span>

## <a name="device-lifecycle-notifications"></a><span data-ttu-id="7baa6-173">Notifications de cycle de vie des appareils</span><span class="sxs-lookup"><span data-stu-id="7baa6-173">Device lifecycle notifications</span></span>

<span data-ttu-id="7baa6-174">IoT Hub peut avertir votre solution IoT lorsqu’une identité d’appareil est créée ou supprimée, en envoyant des notifications de cycle de vie des appareils.</span><span class="sxs-lookup"><span data-stu-id="7baa6-174">IoT Hub can notify your IoT solution when a device identity is created or deleted by sending device lifecycle notifications.</span></span> <span data-ttu-id="7baa6-175">toodo, votre solution IoT doit donc toocreate un itinéraire et égal de Source de données tooset hello trop*DeviceLifecycleEvents*.</span><span class="sxs-lookup"><span data-stu-id="7baa6-175">toodo so, your IoT solution needs toocreate a route and tooset hello Data Source equal too*DeviceLifecycleEvents*.</span></span> <span data-ttu-id="7baa6-176">Par défaut, aucune notification du cycle de vie n’est envoyée. Autrement dit, aucun itinéraire n’existe préalablement.</span><span class="sxs-lookup"><span data-stu-id="7baa6-176">By default, no lifecycle notifications are sent, that is, no such routes pre-exist.</span></span> <span data-ttu-id="7baa6-177">message de notification Hello inclut le corps et les propriétés.</span><span class="sxs-lookup"><span data-stu-id="7baa6-177">hello notification message includes properties, and body.</span></span>

<span data-ttu-id="7baa6-178">Propriétés : Propriétés des messages système sont précédées hello `'$'` symbole.</span><span class="sxs-lookup"><span data-stu-id="7baa6-178">Properties: Message system properties are prefixed with hello `'$'` symbol.</span></span>

| <span data-ttu-id="7baa6-179">Nom</span><span class="sxs-lookup"><span data-stu-id="7baa6-179">Name</span></span> | <span data-ttu-id="7baa6-180">Valeur</span><span class="sxs-lookup"><span data-stu-id="7baa6-180">Value</span></span> |
| --- | --- |
<span data-ttu-id="7baa6-181">$content-type</span><span class="sxs-lookup"><span data-stu-id="7baa6-181">$content-type</span></span> | <span data-ttu-id="7baa6-182">application/json</span><span class="sxs-lookup"><span data-stu-id="7baa6-182">application/json</span></span> |
<span data-ttu-id="7baa6-183">$iothub-enqueuedtime</span><span class="sxs-lookup"><span data-stu-id="7baa6-183">$iothub-enqueuedtime</span></span> |  <span data-ttu-id="7baa6-184">Heure à laquelle la notification de hello a été envoyée</span><span class="sxs-lookup"><span data-stu-id="7baa6-184">Time when hello notification was sent</span></span> |
<span data-ttu-id="7baa6-185">$iothub-message-source</span><span class="sxs-lookup"><span data-stu-id="7baa6-185">$iothub-message-source</span></span> | <span data-ttu-id="7baa6-186">deviceLifecycleEvents</span><span class="sxs-lookup"><span data-stu-id="7baa6-186">deviceLifecycleEvents</span></span> |
<span data-ttu-id="7baa6-187">$content-encoding</span><span class="sxs-lookup"><span data-stu-id="7baa6-187">$content-encoding</span></span> | <span data-ttu-id="7baa6-188">utf-8</span><span class="sxs-lookup"><span data-stu-id="7baa6-188">utf-8</span></span> |
<span data-ttu-id="7baa6-189">opType</span><span class="sxs-lookup"><span data-stu-id="7baa6-189">opType</span></span> | <span data-ttu-id="7baa6-190">**createDeviceIdentity** ou **deleteDeviceIdentity**</span><span class="sxs-lookup"><span data-stu-id="7baa6-190">**createDeviceIdentity** or **deleteDeviceIdentity**</span></span> |
<span data-ttu-id="7baa6-191">hubName</span><span class="sxs-lookup"><span data-stu-id="7baa6-191">hubName</span></span> | <span data-ttu-id="7baa6-192">Nom de l’IoT Hub</span><span class="sxs-lookup"><span data-stu-id="7baa6-192">Name of IoT Hub</span></span> |
<span data-ttu-id="7baa6-193">deviceId</span><span class="sxs-lookup"><span data-stu-id="7baa6-193">deviceId</span></span> | <span data-ttu-id="7baa6-194">ID de périphérique de hello</span><span class="sxs-lookup"><span data-stu-id="7baa6-194">ID of hello device</span></span> |
<span data-ttu-id="7baa6-195">operationTimestamp</span><span class="sxs-lookup"><span data-stu-id="7baa6-195">operationTimestamp</span></span> | <span data-ttu-id="7baa6-196">Horodatage ISO8601 de l’opération</span><span class="sxs-lookup"><span data-stu-id="7baa6-196">ISO8601 timestamp of operation</span></span> |
<span data-ttu-id="7baa6-197">iothub-message-schema</span><span class="sxs-lookup"><span data-stu-id="7baa6-197">iothub-message-schema</span></span> | <span data-ttu-id="7baa6-198">deviceLifecycleNotification</span><span class="sxs-lookup"><span data-stu-id="7baa6-198">deviceLifecycleNotification</span></span> |

<span data-ttu-id="7baa6-199">Corps : Cette section est au format JSON et représente le double de hello Hello créé l’identité de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="7baa6-199">Body: This section is in JSON format and represents hello twin of hello created device identity.</span></span> <span data-ttu-id="7baa6-200">Par exemple,</span><span class="sxs-lookup"><span data-stu-id="7baa6-200">For example,</span></span>

```json
{
    "deviceId":"11576-ailn-test-0-67333793211",
    "etag":"AAAAAAAAAAE=",
    "properties": {
        "desired": {
            "$metadata": {
                "$lastUpdated": "2016-02-30T16:24:48.789Z"
            },
            "$version": 1
        },
        "reported": {
            "$metadata": {
                "$lastUpdated": "2016-02-30T16:24:48.789Z"
            },
            "$version": 1
        }
    }
}
```

## <a name="reference-topics"></a><span data-ttu-id="7baa6-201">Rubriques de référence :</span><span class="sxs-lookup"><span data-stu-id="7baa6-201">Reference topics:</span></span>

<span data-ttu-id="7baa6-202">Hello rubriques de référence suivantes vous fournissent plus d’informations sur le Registre des identités hello.</span><span class="sxs-lookup"><span data-stu-id="7baa6-202">hello following reference topics provide you with more information about hello identity registry.</span></span>

## <a name="device-identity-properties"></a><span data-ttu-id="7baa6-203">Propriétés d’identité des appareils</span><span class="sxs-lookup"><span data-stu-id="7baa6-203">Device identity properties</span></span>

<span data-ttu-id="7baa6-204">Identités de l’appareil sont représentées en tant que documents JSON par hello propriétés suivantes :</span><span class="sxs-lookup"><span data-stu-id="7baa6-204">Device identities are represented as JSON documents with hello following properties:</span></span>

| <span data-ttu-id="7baa6-205">Propriété</span><span class="sxs-lookup"><span data-stu-id="7baa6-205">Property</span></span> | <span data-ttu-id="7baa6-206">Options</span><span class="sxs-lookup"><span data-stu-id="7baa6-206">Options</span></span> | <span data-ttu-id="7baa6-207">Description</span><span class="sxs-lookup"><span data-stu-id="7baa6-207">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7baa6-208">deviceId</span><span class="sxs-lookup"><span data-stu-id="7baa6-208">deviceId</span></span> |<span data-ttu-id="7baa6-209">obligatoire, en lecture seule sur les mises à jour</span><span class="sxs-lookup"><span data-stu-id="7baa6-209">required, read-only on updates</span></span> |<span data-ttu-id="7baa6-210">Une chaîne qui respecte la casse (haut too128 caractères) de caractères ASCII 7 bits + `{'-', ':', '.', '+', '%', '_', '#', '*', '?', '!', '(', ')', ',', '=', '@', ';', '$', '''}`.</span><span class="sxs-lookup"><span data-stu-id="7baa6-210">A case-sensitive string (up too128 characters long) of ASCII 7-bit alphanumeric characters + `{'-', ':', '.', '+', '%', '_', '#', '*', '?', '!', '(', ')', ',', '=', '@', ';', '$', '''}`.</span></span> |
| <span data-ttu-id="7baa6-211">generationId</span><span class="sxs-lookup"><span data-stu-id="7baa6-211">generationId</span></span> |<span data-ttu-id="7baa6-212">obligatoire, en lecture seule</span><span class="sxs-lookup"><span data-stu-id="7baa6-212">required, read-only</span></span> |<span data-ttu-id="7baa6-213">Une IoT respectant la casse, générées par le concentrateur, chaîne des caractères too128.</span><span class="sxs-lookup"><span data-stu-id="7baa6-213">An IoT hub-generated, case-sensitive string up too128 characters long.</span></span> <span data-ttu-id="7baa6-214">Cette valeur est toodistinguish utilisé pour les appareils avec hello même **deviceId**, lorsqu’ils ont été supprimés et recréés.</span><span class="sxs-lookup"><span data-stu-id="7baa6-214">This value is used toodistinguish devices with hello same **deviceId**, when they have been deleted and re-created.</span></span> |
| <span data-ttu-id="7baa6-215">etag</span><span class="sxs-lookup"><span data-stu-id="7baa6-215">etag</span></span> |<span data-ttu-id="7baa6-216">obligatoire, en lecture seule</span><span class="sxs-lookup"><span data-stu-id="7baa6-216">required, read-only</span></span> |<span data-ttu-id="7baa6-217">Chaîne représentant un ETag faible pour l’identité de l’appareil hello, comme par [RFC7232][lnk-rfc7232].</span><span class="sxs-lookup"><span data-stu-id="7baa6-217">A string representing a weak ETag for hello device identity, as per [RFC7232][lnk-rfc7232].</span></span> |
| <span data-ttu-id="7baa6-218">auth</span><span class="sxs-lookup"><span data-stu-id="7baa6-218">auth</span></span> |<span data-ttu-id="7baa6-219">facultatif</span><span class="sxs-lookup"><span data-stu-id="7baa6-219">optional</span></span> |<span data-ttu-id="7baa6-220">Un objet composite contenant des informations d’authentification et des éléments de sécurité.</span><span class="sxs-lookup"><span data-stu-id="7baa6-220">A composite object containing authentication information and security materials.</span></span> |
| <span data-ttu-id="7baa6-221">auth.symkey</span><span class="sxs-lookup"><span data-stu-id="7baa6-221">auth.symkey</span></span> |<span data-ttu-id="7baa6-222">facultatif</span><span class="sxs-lookup"><span data-stu-id="7baa6-222">optional</span></span> |<span data-ttu-id="7baa6-223">Un objet composite contenant une clé primaire et une clé secondaire, stockées au format base64.</span><span class="sxs-lookup"><span data-stu-id="7baa6-223">A composite object containing a primary and a secondary key, stored in base64 format.</span></span> |
| <span data-ttu-id="7baa6-224">status</span><span class="sxs-lookup"><span data-stu-id="7baa6-224">status</span></span> |<span data-ttu-id="7baa6-225">required</span><span class="sxs-lookup"><span data-stu-id="7baa6-225">required</span></span> |<span data-ttu-id="7baa6-226">Un indicateur d’accès.</span><span class="sxs-lookup"><span data-stu-id="7baa6-226">An access indicator.</span></span> <span data-ttu-id="7baa6-227">Peut être **Activé** ou **Désactivé**.</span><span class="sxs-lookup"><span data-stu-id="7baa6-227">Can be **Enabled** or **Disabled**.</span></span> <span data-ttu-id="7baa6-228">Si **activé**, hello est autorisé tooconnect.</span><span class="sxs-lookup"><span data-stu-id="7baa6-228">If **Enabled**, hello device is allowed tooconnect.</span></span> <span data-ttu-id="7baa6-229">Si la propriété est définie sur **Désactivé**, cet appareil ne peut pas accéder à un point de terminaison de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="7baa6-229">If **Disabled**, this device cannot access any device-facing endpoint.</span></span> |
| <span data-ttu-id="7baa6-230">statusReason</span><span class="sxs-lookup"><span data-stu-id="7baa6-230">statusReason</span></span> |<span data-ttu-id="7baa6-231">facultatif</span><span class="sxs-lookup"><span data-stu-id="7baa6-231">optional</span></span> |<span data-ttu-id="7baa6-232">Un 128 caractères de longueur de chaîne magasins hello raison hello appareil statut d’identité.</span><span class="sxs-lookup"><span data-stu-id="7baa6-232">A 128 character-long string that stores hello reason for hello device identity status.</span></span> <span data-ttu-id="7baa6-233">Tous les caractères UTF-8 sont autorisés.</span><span class="sxs-lookup"><span data-stu-id="7baa6-233">All UTF-8 characters are allowed.</span></span> |
| <span data-ttu-id="7baa6-234">statusUpdateTime</span><span class="sxs-lookup"><span data-stu-id="7baa6-234">statusUpdateTime</span></span> |<span data-ttu-id="7baa6-235">en lecture seule</span><span class="sxs-lookup"><span data-stu-id="7baa6-235">read-only</span></span> |<span data-ttu-id="7baa6-236">Un indicateur temporel, indiquant la date de hello et l’heure de mise à jour de statut dernière hello.</span><span class="sxs-lookup"><span data-stu-id="7baa6-236">A temporal indicator, showing hello date and time of hello last status update.</span></span> |
| <span data-ttu-id="7baa6-237">connectionState</span><span class="sxs-lookup"><span data-stu-id="7baa6-237">connectionState</span></span> |<span data-ttu-id="7baa6-238">en lecture seule</span><span class="sxs-lookup"><span data-stu-id="7baa6-238">read-only</span></span> |<span data-ttu-id="7baa6-239">Un champ indiquant l’état de la connexion : **Connecté** ou **Déconnecté**.</span><span class="sxs-lookup"><span data-stu-id="7baa6-239">A field indicating connection status: either **Connected** or **Disconnected**.</span></span> <span data-ttu-id="7baa6-240">Ce champ représente hello vue IoT Hub du statut de connexion de périphérique hello.</span><span class="sxs-lookup"><span data-stu-id="7baa6-240">This field represents hello IoT Hub view of hello device connection status.</span></span> <span data-ttu-id="7baa6-241">**Important**  : ce champ doit être utilisé uniquement à des fins de développement et de débogage.</span><span class="sxs-lookup"><span data-stu-id="7baa6-241">**Important**: This field should be used only for development/debugging purposes.</span></span> <span data-ttu-id="7baa6-242">état de la connexion Hello est mise à jour uniquement pour les appareils à l’aide de MQTT ou AMQP.</span><span class="sxs-lookup"><span data-stu-id="7baa6-242">hello connection state is updated only for devices using MQTT or AMQP.</span></span> <span data-ttu-id="7baa6-243">Cet état est basé sur les pings au niveau du protocole (tests ping MQTT ou AMQP) et peut avoir un délai maximum de 5 minutes seulement.</span><span class="sxs-lookup"><span data-stu-id="7baa6-243">Also, it is based on protocol-level pings (MQTT pings, or AMQP pings), and it can have a maximum delay of only 5 minutes.</span></span> <span data-ttu-id="7baa6-244">Pour ces raisons, de faux positifs peuvent survenir. Par exemple : un appareil peut être signalé comme étant connecté, alors qu’il est déconnecté.</span><span class="sxs-lookup"><span data-stu-id="7baa6-244">For these reasons, there can be false positives, such as devices reported as connected but that are disconnected.</span></span> |
| <span data-ttu-id="7baa6-245">connectionStateUpdatedTime</span><span class="sxs-lookup"><span data-stu-id="7baa6-245">connectionStateUpdatedTime</span></span> |<span data-ttu-id="7baa6-246">en lecture seule</span><span class="sxs-lookup"><span data-stu-id="7baa6-246">read-only</span></span> |<span data-ttu-id="7baa6-247">Un indicateur temporel, indiquant la date de hello et l’état de la connexion dernière heure hello a été mis à jour.</span><span class="sxs-lookup"><span data-stu-id="7baa6-247">A temporal indicator, showing hello date and last time hello connection state was updated.</span></span> |
| <span data-ttu-id="7baa6-248">lastActivityTime</span><span class="sxs-lookup"><span data-stu-id="7baa6-248">lastActivityTime</span></span> |<span data-ttu-id="7baa6-249">en lecture seule</span><span class="sxs-lookup"><span data-stu-id="7baa6-249">read-only</span></span> |<span data-ttu-id="7baa6-250">Un indicateur temporel, indiquant la date de hello et dernière hello appareil connecté, reçu ou envoyé un message.</span><span class="sxs-lookup"><span data-stu-id="7baa6-250">A temporal indicator, showing hello date and last time hello device connected, received, or sent a message.</span></span> |

> [!NOTE]
> <span data-ttu-id="7baa6-251">État de la connexion peut représenter uniquement hello vue IoT Hub du statut hello de connexion de hello.</span><span class="sxs-lookup"><span data-stu-id="7baa6-251">Connection state can only represent hello IoT Hub view of hello status of hello connection.</span></span> <span data-ttu-id="7baa6-252">État de toothis mises à jour peut être retardée, en fonction des configurations et des conditions réseau.</span><span class="sxs-lookup"><span data-stu-id="7baa6-252">Updates toothis state may be delayed, depending on network conditions and configurations.</span></span>

## <a name="additional-reference-material"></a><span data-ttu-id="7baa6-253">Matériel de référence supplémentaire</span><span class="sxs-lookup"><span data-stu-id="7baa6-253">Additional reference material</span></span>

<span data-ttu-id="7baa6-254">Les autres rubriques de référence de hello guide du développeur IoT Hub sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="7baa6-254">Other reference topics in hello IoT Hub developer guide include:</span></span>

* <span data-ttu-id="7baa6-255">[Points de terminaison IoT Hub] [ lnk-endpoints] décrit hello différents points de terminaison qui expose de chaque IoT hub pour les opérations de gestion et d’exécution.</span><span class="sxs-lookup"><span data-stu-id="7baa6-255">[IoT Hub endpoints][lnk-endpoints] describes hello various endpoints that each IoT hub exposes for run-time and management operations.</span></span>
* <span data-ttu-id="7baa6-256">[Limitation et les quotas] [ lnk-quotas] décrit les quotas hello et la limitation des comportements qui s’appliquent toohello IoT Hub service.</span><span class="sxs-lookup"><span data-stu-id="7baa6-256">[Throttling and quotas][lnk-quotas] describes hello quotas and throttling behaviors that apply toohello IoT Hub service.</span></span>
* <span data-ttu-id="7baa6-257">[Azure IoT périphérique et service kits de développement logiciel] [ lnk-sdks] listes hello langue différents kits de développement logiciel vous pouvez utiliser lorsque vous développez des applications de périphérique et le service qui interagissent avec IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="7baa6-257">[Azure IoT device and service SDKs][lnk-sdks] lists hello various language SDKs you can use when you develop both device and service apps that interact with IoT Hub.</span></span>
* <span data-ttu-id="7baa6-258">[Langage de requête IoT Hub] [ lnk-query] décrit le langage de requête hello vous pouvez utiliser les informations de tooretrieve à partir de IoT Hub sur votre jumeaux de périphérique et les travaux.</span><span class="sxs-lookup"><span data-stu-id="7baa6-258">[IoT Hub query language][lnk-query] describes hello query language you can use tooretrieve information from IoT Hub about your device twins and jobs.</span></span>
* <span data-ttu-id="7baa6-259">[Prise en charge IoT Hub MQTT] [ lnk-devguide-mqtt] fournit plus d’informations sur la prise en charge IoT Hub pour le protocole MQTT hello.</span><span class="sxs-lookup"><span data-stu-id="7baa6-259">[IoT Hub MQTT support][lnk-devguide-mqtt] provides more information about IoT Hub support for hello MQTT protocol.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7baa6-260">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="7baa6-260">Next steps</span></span>

<span data-ttu-id="7baa6-261">Maintenant, vous avez appris comment Registre des identités toouse hello IoT Hub, vous pouvez être intéressé hello IoT Hub développeur guide rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="7baa6-261">Now you have learned how toouse hello IoT Hub identity registry, you may be interested in hello following IoT Hub developer guide topics:</span></span>

* <span data-ttu-id="7baa6-262">[Contrôle l’accès tooIoT Hub][lnk-devguide-security]</span><span class="sxs-lookup"><span data-stu-id="7baa6-262">[Control access tooIoT Hub][lnk-devguide-security]</span></span>
* <span data-ttu-id="7baa6-263">[Utiliser les configurations et état du périphérique jumeaux toosynchronize][lnk-devguide-device-twins]</span><span class="sxs-lookup"><span data-stu-id="7baa6-263">[Use device twins toosynchronize state and configurations][lnk-devguide-device-twins]</span></span>
* <span data-ttu-id="7baa6-264">[Appeler une méthode directe sur un appareil][lnk-devguide-directmethods]</span><span class="sxs-lookup"><span data-stu-id="7baa6-264">[Invoke a direct method on a device][lnk-devguide-directmethods]</span></span>
* <span data-ttu-id="7baa6-265">[Planifier des travaux sur plusieurs appareils][lnk-devguide-jobs]</span><span class="sxs-lookup"><span data-stu-id="7baa6-265">[Schedule jobs on multiple devices][lnk-devguide-jobs]</span></span>

<span data-ttu-id="7baa6-266">Si vous souhaitez que tootry certains des concepts hello décrits dans cet article, peut vous intéresser hello suivant IoT Hub didacticiel :</span><span class="sxs-lookup"><span data-stu-id="7baa6-266">If you would like tootry out some of hello concepts described in this article, you may be interested in hello following IoT Hub tutorial:</span></span>

* <span data-ttu-id="7baa6-267">[Mise en route d’Azure IoT Hub][lnk-getstarted-tutorial]</span><span class="sxs-lookup"><span data-stu-id="7baa6-267">[Get started with Azure IoT Hub][lnk-getstarted-tutorial]</span></span>

<!-- Links and images -->

[lnk-endpoints]: iot-hub-devguide-endpoints.md
[lnk-quotas]: iot-hub-devguide-quotas-throttling.md
[lnk-sdks]: iot-hub-devguide-sdks.md
[lnk-query]: iot-hub-devguide-query-language.md
[lnk-devguide-mqtt]: iot-hub-mqtt-support.md
[lnk-resource-provider-apis]: https://docs.microsoft.com/rest/api/iothub/iothubresource
[lnk-guidance-provisioning]: iot-hub-devguide-identity-registry.md#device-provisioning
[lnk-guidance-heartbeat]: iot-hub-devguide-identity-registry.md#device-heartbeat
[lnk-rfc7232]: https://tools.ietf.org/html/rfc7232
[lnk-bulk-identity]: iot-hub-bulk-identity-mgmt.md
[lnk-export]: iot-hub-devguide-identity-registry.md#import-and-export-device-identities
[lnk-devguide-opmon]: iot-hub-operations-monitoring.md

[lnk-devguide-security]: iot-hub-devguide-security.md
[lnk-devguide-device-twins]: iot-hub-devguide-device-twins.md
[lnk-devguide-directmethods]: iot-hub-devguide-direct-methods.md
[lnk-devguide-jobs]: iot-hub-devguide-jobs.md

[lnk-getstarted-tutorial]: iot-hub-csharp-csharp-getstarted.md
