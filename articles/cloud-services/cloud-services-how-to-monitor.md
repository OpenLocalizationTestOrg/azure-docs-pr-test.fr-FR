---
title: aaaHow toomonitor un service cloud | Documents Microsoft
description: "Découvrez comment toomonitor services de cloud computing à l’aide de hello portail Azure classic."
services: cloud-services
documentationcenter: 
author: thraka
manager: timlt
editor: 
ms.assetid: 5c48d2fb-b8ea-420f-80df-7aebe2b66b1b
ms.service: cloud-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 12/07/2015
ms.author: adegeo
ms.openlocfilehash: ee98c56e0b98b85d75a5c1d796800069c4f06d20
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="how-toomonitor-cloud-services"></a><span data-ttu-id="d5fb8-103">Comment les Services de cloud computing tooMonitor</span><span class="sxs-lookup"><span data-stu-id="d5fb8-103">How tooMonitor Cloud Services</span></span>
[!INCLUDE [disclaimer](../../includes/disclaimer.md)]

<span data-ttu-id="d5fb8-104">Vous pouvez surveiller `key` mesures de performance pour vos services cloud Bonjour portail Azure classic.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-104">You can monitor `key` performance metrics for your cloud services in hello Azure classic portal.</span></span> <span data-ttu-id="d5fb8-105">Vous pouvez définir hello au niveau de l’analyse toominimal et détaillés pour chaque rôle de service et que vous pouvez personnaliser les affichages de surveillance de hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-105">You can set hello level of monitoring toominimal and verbose for each service role, and can customize hello monitoring displays.</span></span> <span data-ttu-id="d5fb8-106">Données de surveillance détaillées sont stockées dans un compte de stockage, vous pouvez accéder à l’extérieur hello portail.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-106">Verbose monitoring data is stored in a storage account, which you can access outside hello portal.</span></span> 

<span data-ttu-id="d5fb8-107">Affichages de surveillance Bonjour portail Azure classic sont hautement configurables.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-107">Monitoring displays in hello Azure classic portal are highly configurable.</span></span> <span data-ttu-id="d5fb8-108">Vous pouvez choisir les métriques hello souhaité toomonitor dans la liste de mesures hello sur hello **moniteur** page et que vous pouvez choisir le métriques tooplot dans les graphiques de métriques sur hello **moniteur** hello et la page tableau de bord.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-108">You can choose hello metrics you want toomonitor in hello metrics list on hello **Monitor** page, and you can choose which metrics tooplot in metrics charts on hello **Monitor** page and hello dashboard.</span></span> 

## <a name="concepts"></a><span data-ttu-id="d5fb8-109">Concepts</span><span class="sxs-lookup"><span data-stu-id="d5fb8-109">Concepts</span></span>
<span data-ttu-id="d5fb8-110">Par défaut, la surveillance minimale est fournie pour un nouveau service cloud à l’aide des compteurs de performance collectés hello système d’exploitation hôte pour les instances de rôles hello (machines virtuelles).</span><span class="sxs-lookup"><span data-stu-id="d5fb8-110">By default, minimal monitoring is provided for a new cloud service using performance counters gathered from hello host operating system for hello roles instances (virtual machines).</span></span> <span data-ttu-id="d5fb8-111">les métriques minimales Hello sont tooCPU limité pourcentage, de données, données sortantes, débit de lecture du disque et débit d’écriture du disque.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-111">hello minimal metrics are limited tooCPU Percentage, Data In, Data Out, Disk Read Throughput, and Disk Write Throughput.</span></span> <span data-ttu-id="d5fb8-112">En configurant la surveillance détaillée, vous pouvez recevoir des métriques supplémentaires en fonction des données de performances des ordinateurs virtuels de hello (instances de rôle).</span><span class="sxs-lookup"><span data-stu-id="d5fb8-112">By configuring verbose monitoring, you can receive additional metrics based on performance data within hello virtual machines (role instances).</span></span> <span data-ttu-id="d5fb8-113">les métriques détaillées Hello permettent une analyse plus approfondie des problèmes qui se produisent pendant les opérations de l’application.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-113">hello verbose metrics enable closer analysis of issues that occur during application operations.</span></span>

<span data-ttu-id="d5fb8-114">Par défaut, les données de compteur de performance à partir d’instances de rôle sont échantillonnées et transférées à partir de l’instance de rôle hello à 3 minutes.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-114">By default performance counter data from role instances is sampled and transferred from hello role instance at 3-minute intervals.</span></span> <span data-ttu-id="d5fb8-115">Lorsque vous activez la surveillance détaillée, données de compteur de performances brutes hello sont agrégées pour chaque instance de rôle et entre les instances de rôle pour chaque rôle à des intervalles de 5 minutes, 1 heure et 12 heures.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-115">When you enable verbose monitoring, hello raw performance counter data is aggregated for each role instance and across role instances for each role at intervals of 5 minutes, 1 hour, and 12 hours.</span></span> <span data-ttu-id="d5fb8-116">Hello des données agrégées sont purgées après dix jours.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-116">hello aggregated data is purged after 10 days.</span></span>

<span data-ttu-id="d5fb8-117">Après avoir activé la surveillance détaillée, hello agrégée analyse les données est stockée dans des tables dans votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-117">After you enable verbose monitoring, hello aggregated monitoring data is stored in tables in your storage account.</span></span> <span data-ttu-id="d5fb8-118">tooenable pour un rôle de surveillance détaillée, vous devez configurer une chaîne de connexion de diagnostics qui lie le compte de stockage toohello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-118">tooenable verbose monitoring for a role, you must configure a diagnostics connection string that links toohello storage account.</span></span> <span data-ttu-id="d5fb8-119">Vous pouvez utiliser différents comptes de stockage pour différents rôles.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-119">You can use different storage accounts for different roles.</span></span>

<span data-ttu-id="d5fb8-120">L’activation des augmentations de surveillance détaillées les coûts de stockage liés toodata stockage, le transfert de données et transactions de stockage.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-120">Enabling verbose monitoring increases your storage costs related toodata storage, data transfer, and storage transactions.</span></span> <span data-ttu-id="d5fb8-121">La surveillance minimale ne nécessite pas de compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-121">Minimal monitoring does not require a storage account.</span></span> <span data-ttu-id="d5fb8-122">données Hello pour les métriques hello qui sont exposés au niveau de surveillance minimale hello ne sont pas stockées dans votre compte de stockage, même si vous définissez hello tooverbose au niveau de surveillance.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-122">hello data for hello metrics that are exposed at hello minimal monitoring level are not stored in your storage account, even if you set hello monitoring level tooverbose.</span></span>

## <a name="how-to-configure-monitoring-for-cloud-services"></a><span data-ttu-id="d5fb8-123">Procédure de configuration de la surveillance des services cloud</span><span class="sxs-lookup"><span data-stu-id="d5fb8-123">How to: Configure monitoring for cloud services</span></span>
<span data-ttu-id="d5fb8-124">Utilisez hello suivant les procédures tooconfigure détaillée ou minimale analyse Bonjour portail Azure classic.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-124">Use hello following procedures tooconfigure verbose or minimal monitoring in hello Azure classic portal.</span></span> 

### <a name="before-you-begin"></a><span data-ttu-id="d5fb8-125">Avant de commencer</span><span class="sxs-lookup"><span data-stu-id="d5fb8-125">Before you begin</span></span>
* <span data-ttu-id="d5fb8-126">Créer un *classique* hello de toostore de compte de stockage données d’analyse.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-126">Create a *classic* storage account toostore hello monitoring data.</span></span> <span data-ttu-id="d5fb8-127">Vous pouvez utiliser différents comptes de stockage pour différents rôles.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-127">You can use different storage accounts for different roles.</span></span> <span data-ttu-id="d5fb8-128">Pour plus d’informations, consultez [comment toocreate un compte de stockage](../storage/common/storage-create-storage-account.md#create-a-storage-account).</span><span class="sxs-lookup"><span data-stu-id="d5fb8-128">For more information, see [How toocreate a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account).</span></span>
* <span data-ttu-id="d5fb8-129">Activez le diagnostic Azure pour vos rôles de service cloud.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-129">Enable Azure Diagnostics for your cloud service roles.</span></span> <span data-ttu-id="d5fb8-130">Consultez [Configuration des diagnostics pour les services cloud](cloud-services-dotnet-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="d5fb8-130">See [Configuring Diagnostics for Cloud Services](cloud-services-dotnet-diagnostics.md).</span></span>

<span data-ttu-id="d5fb8-131">Assurez-vous que la chaîne de connexion des diagnostics hello est présent dans la configuration du rôle hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-131">Ensure that hello diagnostics connection string is present in hello Role configuration.</span></span> <span data-ttu-id="d5fb8-132">Vous ne pouvez pas activer la surveillance détaillée jusqu'à ce que vous activez les Diagnostics de Azure et incluez une chaîne de connexion de diagnostic dans la configuration du rôle hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-132">You cannot turn on verbose monitoring until you enable Azure Diagnostics and include a diagnostics connection string in hello Role configuration.</span></span>   

> [!NOTE]
> <span data-ttu-id="d5fb8-133">Projets ciblant Azure SDK 2.5 n’incluent pas automatiquement de chaîne de connexion des diagnostics hello dans le modèle de projet hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-133">Projects targeting Azure SDK 2.5 did not automatically include hello diagnostics connection string in hello project template.</span></span> <span data-ttu-id="d5fb8-134">Pour que ces projets, vous devez toomanually ajouter la configuration du rôle connexion chaîne toohello hello diagnostics.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-134">For these projects, you need toomanually add hello diagnostics connection string toohello Role configuration.</span></span>
> 
> 

<span data-ttu-id="d5fb8-135">**toomanually ajouter une configuration de tooRole de chaîne de connexion de diagnostic**</span><span class="sxs-lookup"><span data-stu-id="d5fb8-135">**toomanually add diagnostics connection string tooRole configuration**</span></span>

1. <span data-ttu-id="d5fb8-136">Projet de Service Cloud hello ouvert dans Visual Studio</span><span class="sxs-lookup"><span data-stu-id="d5fb8-136">Open hello Cloud Service project in Visual Studio</span></span>
2. <span data-ttu-id="d5fb8-137">Double-cliquez sur hello **rôle** tooopen hello Concepteur de rôle et sélectionnez hello **paramètres** onglet</span><span class="sxs-lookup"><span data-stu-id="d5fb8-137">Double-click on hello **Role** tooopen hello Role designer and select hello **Settings** tab</span></span>
3. <span data-ttu-id="d5fb8-138">Recherchez un paramètre appelé **Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString**.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-138">Look for a setting named **Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString**.</span></span> 
4. <span data-ttu-id="d5fb8-139">Si ce paramètre n’est pas présent, cliquez sur hello **ajouter un paramètre** bouton tooadd il toohello configuration et des modifications de type pour hello nouveau paramètre trop hello**ConnectionString**</span><span class="sxs-lookup"><span data-stu-id="d5fb8-139">If this setting is not present, click on hello **Add Setting** button tooadd it toohello configuration and change hello type for hello new setting too**ConnectionString**</span></span>
5. <span data-ttu-id="d5fb8-140">La valeur hello pour hello de chaîne de connexion en cliquant sur hello **...**  bouton.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-140">Set hello value for connection string hello by clicking on hello **...** button.</span></span> <span data-ttu-id="d5fb8-141">S’ouvre une boîte de dialogue qui vous tooselect un compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-141">This will open up a dialog allowing you tooselect a storage account.</span></span>
   
    ![Paramètres Visual Studio](./media/cloud-services-how-to-monitor/CloudServices_Monitor_VisualStudioDiagnosticsConnectionString.png)

### <a name="toochange-hello-monitoring-level-tooverbose-or-minimal"></a><span data-ttu-id="d5fb8-143">hello toochange tooverbose au niveau de surveillance ou minimale</span><span class="sxs-lookup"><span data-stu-id="d5fb8-143">toochange hello monitoring level tooverbose or minimal</span></span>
1. <span data-ttu-id="d5fb8-144">Bonjour [portail Azure classic](https://manage.windowsazure.com/), ouvrez hello **configurer** page déployer le service cloud hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-144">In hello [Azure classic portal](https://manage.windowsazure.com/), open hello **Configure** page for hello cloud service deployment.</span></span>
2. <span data-ttu-id="d5fb8-145">Dans **Niveau**, cliquez sur **Détaillé** ou **Minimal**.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-145">In **Level**, click **Verbose** or **Minimal**.</span></span> 
3. <span data-ttu-id="d5fb8-146">Cliquez sur **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-146">Click **Save**.</span></span>

<span data-ttu-id="d5fb8-147">Une fois que vous activez la surveillance détaillée, vous devez commencer à voir les hello analyser les données Bonjour portail Azure classic heure de hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-147">After you turn on verbose monitoring, you should start seeing hello monitoring data in hello Azure classic portal within hello hour.</span></span>

<span data-ttu-id="d5fb8-148">données de compteur de performances brutes Hello et analyse des données agrégées sont stockées dans le compte de stockage hello dans les tables qualifiés par ID de déploiement hello pour les rôles de hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-148">hello raw performance counter data and aggregated monitoring data are stored in hello storage account in tables qualified by hello deployment ID for hello roles.</span></span> 

## <a name="how-to-receive-alerts-for-cloud-service-metrics"></a><span data-ttu-id="d5fb8-149">Procédure de réception d’alertes pour les mesures des services cloud</span><span class="sxs-lookup"><span data-stu-id="d5fb8-149">How to: Receive alerts for cloud service metrics</span></span>
<span data-ttu-id="d5fb8-150">Vous pouvez recevoir des alertes en fonction des mesures de surveillance de votre service cloud.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-150">You can receive alerts based on your cloud service monitoring metrics.</span></span> <span data-ttu-id="d5fb8-151">Sur hello **des Services de gestion** page de hello portail Azure classic, vous pouvez créer une règle tootrigger une alerte lorsque la métrique hello vous choisissez atteint une valeur que vous spécifiez.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-151">On hello **Management Services** page of hello Azure classic portal, you can create a rule tootrigger an alert when hello metric you choose reaches a value that you specify.</span></span> <span data-ttu-id="d5fb8-152">Vous pouvez également choisir toohave par e-mail quand hello alerte est déclenchée.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-152">You can also choose toohave email sent when hello alert is triggered.</span></span> <span data-ttu-id="d5fb8-153">Pour plus d’informations, consultez la page [Réception de notifications d’alerte et gestion des règles d’alerte dans Azure](http://go.microsoft.com/fwlink/?LinkId=309356).</span><span class="sxs-lookup"><span data-stu-id="d5fb8-153">For more information, see [How to: Receive Alert Notifications and Manage Alert Rules in Azure](http://go.microsoft.com/fwlink/?LinkId=309356).</span></span>

## <a name="how-to-add-metrics-toohello-metrics-table"></a><span data-ttu-id="d5fb8-154">Comment : ajouter la table des mesures métriques toohello</span><span class="sxs-lookup"><span data-stu-id="d5fb8-154">How to: Add metrics toohello metrics table</span></span>
1. <span data-ttu-id="d5fb8-155">Bonjour [portail Azure classic](http://manage.windowsazure.com/), ouvrez hello **moniteur** page hello cloud service.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-155">In hello [Azure classic portal](http://manage.windowsazure.com/), open hello **Monitor** page for hello cloud service.</span></span>
   
    <span data-ttu-id="d5fb8-156">Par défaut, la table des métriques hello affiche un sous-ensemble des métriques disponibles de hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-156">By default, hello metrics table displays a subset of hello available metrics.</span></span> <span data-ttu-id="d5fb8-157">l’illustration Hello hello par défaut les métriques détaillées pour un service cloud, qui est un compteur de performance Memory\Available MBytes toohello limité, avec les données agrégées au niveau du rôle hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-157">hello illustration shows hello default verbose metrics for a cloud service, which is limited toohello Memory\Available MBytes performance counter, with data aggregated at hello role level.</span></span> <span data-ttu-id="d5fb8-158">Utilisez **ajouter des métriques** agrégat supplémentaires de tooselect et toomonitor de métriques au niveau du rôle dans hello portail Azure classic.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-158">Use **Add Metrics** tooselect additional aggregate and role-level metrics toomonitor in hello Azure classic portal.</span></span>
   
    ![Affichage détaillé](./media/cloud-services-how-to-monitor/CloudServices_DefaultVerboseDisplay.png)
2. <span data-ttu-id="d5fb8-160">table des mesures métriques toohello tooadd :</span><span class="sxs-lookup"><span data-stu-id="d5fb8-160">tooadd metrics toohello metrics table:</span></span>
   
   1. <span data-ttu-id="d5fb8-161">Cliquez sur **ajouter des métriques** tooopen **choisir des métriques**, comme illustré ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-161">Click **Add Metrics** tooopen **Choose Metrics**, shown below.</span></span>
      
       <span data-ttu-id="d5fb8-162">métrique de disponible premier de Hello est développé tooshow les options qui sont disponibles.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-162">hello first available metric is expanded tooshow options that are available.</span></span> <span data-ttu-id="d5fb8-163">Pour chaque mesure, option top de hello affiche des données d’analyse agrégées pour tous les rôles.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-163">For each metric, hello top option displays aggregated monitoring data for all roles.</span></span> <span data-ttu-id="d5fb8-164">En outre, vous pouvez choisir les rôles individuels toodisplay les données de.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-164">In addition, you can choose individual roles toodisplay data for.</span></span>
      
       ![Ajouter des métriques](./media/cloud-services-how-to-monitor/CloudServices_AddMetrics.png)
   2. <span data-ttu-id="d5fb8-166">tooselect métriques toodisplay</span><span class="sxs-lookup"><span data-stu-id="d5fb8-166">tooselect metrics toodisplay</span></span>
      
      * <span data-ttu-id="d5fb8-167">Cliquez sur hello flèche vers le bas par Bonjour tooexpand métrique Bonjour options de surveillance.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-167">Click hello down arrow by hello metric tooexpand hello monitoring options.</span></span>
      * <span data-ttu-id="d5fb8-168">Hello Select case à cocher pour chaque option que vous souhaitez toodisplay d’analyse.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-168">Select hello check box for each monitoring option you want toodisplay.</span></span>
        
        <span data-ttu-id="d5fb8-169">Vous pouvez afficher les métriques de too50 dans la table des métriques hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-169">You can display up too50 metrics in hello metrics table.</span></span>
        
        > [!TIP]
        > <span data-ttu-id="d5fb8-170">La surveillance détaillée, liste de mesures hello peut contenir des dizaines de métriques.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-170">In verbose monitoring, hello metrics list can contain dozens of metrics.</span></span> <span data-ttu-id="d5fb8-171">toodisplay une barre de défilement, placez votre curseur sur le côté droit de hello de boîte de dialogue hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-171">toodisplay a scrollbar, hover over hello right side of hello dialog box.</span></span> <span data-ttu-id="d5fb8-172">liste de hello toofilter, cliquez sur icône de recherche hello et entrez le texte dans la zone de recherche de hello, comme indiqué ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-172">toofilter hello list, click hello search icon, and enter text in hello search box, as shown below.</span></span>
        > 
        > 
        
        ![Add metrics search](./media/cloud-services-how-to-monitor/CloudServices_AddMetrics_Search.png)
3. <span data-ttu-id="d5fb8-174">Une fois que vous avez terminé de sélectionner les mesures, cliquez sur OK (coche).</span><span class="sxs-lookup"><span data-stu-id="d5fb8-174">After you finish selecting metrics, click OK (checkmark).</span></span>
   
    <span data-ttu-id="d5fb8-175">Hello les métriques sélectionnées sont ajoutées toohello table des métriques, comme indiqué ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-175">hello selected metrics are added toohello metrics table, as shown below.</span></span>
   
    ![mesures de surveillance](./media/cloud-services-how-to-monitor/CloudServices_Monitor_UpdatedMetrics.png)
4. <span data-ttu-id="d5fb8-177">toodelete une mesure à partir de la table des métriques hello, tooselect de métrique hello il, puis cliquez sur **supprimer une métrique**.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-177">toodelete a metric from hello metrics table, click hello metric tooselect it, and then click **Delete Metric**.</span></span> <span data-ttu-id="d5fb8-178">( **Delete Metric** ne s'affiche que si une mesure est sélectionnée.)</span><span class="sxs-lookup"><span data-stu-id="d5fb8-178">(You only see **Delete Metric** when you have a metric selected.)</span></span>

### <a name="tooadd-custom-metrics-toohello-metrics-table"></a><span data-ttu-id="d5fb8-179">table des métriques toohello tooadd des mesures personnalisées</span><span class="sxs-lookup"><span data-stu-id="d5fb8-179">tooadd custom metrics toohello metrics table</span></span>
<span data-ttu-id="d5fb8-180">Hello **Verbose** analyse niveau fournit une liste des mesures par défaut que vous pouvez surveiller sur le portail hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-180">hello **Verbose** monitoring level provides a list of default metrics that you can monitor on hello portal.</span></span> <span data-ttu-id="d5fb8-181">En outre vous toothese vous pouvez surveiller les compteurs de performance définis par votre application via le portail de hello ni des mesures personnalisées.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-181">In addition toothese you can monitor any custom metrics or performance counters defined by your application through hello portal.</span></span>

<span data-ttu-id="d5fb8-182">Hello étapes suivantes supposent que vous avez activé **Verbose** niveau de surveillance et avez configuré vos compteurs de performances personnalisés application toocollect et de transfert.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-182">hello following steps assume that you have turned on **Verbose** monitoring level and have configured your application toocollect and transfer custom performance counters.</span></span> 

<span data-ttu-id="d5fb8-183">compteurs de performances personnalisés toodisplay hello dans hello portail que vous avez besoin de configuration hello tooupdate wad-control-container :</span><span class="sxs-lookup"><span data-stu-id="d5fb8-183">toodisplay hello custom performance counters in hello portal you need tooupdate hello configuration in wad-control-container:</span></span>

1. <span data-ttu-id="d5fb8-184">Ouvrez l’objet blob wad-control-container de hello dans votre compte de stockage de diagnostics.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-184">Open hello wad-control-container blob in your diagnostics storage account.</span></span> <span data-ttu-id="d5fb8-185">Vous pouvez utiliser Visual Studio ou toute autre toodo de l’Explorateur de stockage cela.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-185">You can use Visual Studio or any other storage explorer toodo this.</span></span>
   
    ![Explorateur de serveurs Visual Studio.](./media/cloud-services-how-to-monitor/CloudServices_Monitor_VisualStudioBlobExplorer.png)
2. <span data-ttu-id="d5fb8-187">Parcourir le chemin d’accès de l’objet blob hello à l’aide du modèle de hello **DeploymentId/RoleName/RoleInstance** configuration de hello toofind pour votre instance de rôle.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-187">Navigate hello blob path using hello pattern **DeploymentId/RoleName/RoleInstance** toofind hello configuration for your role instance.</span></span> 
   
    ![Explorateur de stockage Visual Studio](./media/cloud-services-how-to-monitor/CloudServices_Monitor_VisualStudioStorage.png)
3. <span data-ttu-id="d5fb8-189">Télécharger le fichier de configuration hello pour votre instance de rôle et le mettre à jour tooinclude des compteurs de performance personnalisés.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-189">Download hello configuration file for your role instance and update it tooinclude any custom performance counters.</span></span> <span data-ttu-id="d5fb8-190">Par exemple toomonitor *octets/s d’écriture sur disque* pour hello *lecteur C* ajouter suivantes hello sous **PerformanceCounters\Subscriptions** nœud</span><span class="sxs-lookup"><span data-stu-id="d5fb8-190">For example toomonitor *Disk Write Bytes/sec* for hello *C drive* add hello following under **PerformanceCounters\Subscriptions** node</span></span>
   
    ```xml
    <PerformanceCounterConfiguration>
    <CounterSpecifier>\LogicalDisk(C:)\Disk Write Bytes/sec</CounterSpecifier>
    <SampleRateInSeconds>180</SampleRateInSeconds>
    </PerformanceCounterConfiguration>
    ```
4. <span data-ttu-id="d5fb8-191">Enregistrez les modifications hello et toohello précédent du fichier configuration hello téléchargement remplacement du même emplacement hello un fichier existant dans l’objet blob de hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-191">Save hello changes and upload hello configuration file back toohello same location overwriting hello existing file in hello blob.</span></span>
5. <span data-ttu-id="d5fb8-192">Basculer vers le mode tooVerbose Bonjour configuration du portail Azure classique.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-192">Toggle tooVerbose mode in hello Azure classic portal configuration.</span></span> <span data-ttu-id="d5fb8-193">Si vous étiez en mode documenté déjà avoir tootoggle les tooverbose toominimal et inversement.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-193">If you were in Verbose mode already you will have tootoggle toominimal and back tooverbose.</span></span>
6. <span data-ttu-id="d5fb8-194">compteur de performances personnalisé Hello seront désormais disponible dans hello **ajouter des métriques** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-194">hello custom performance counter will now be available in hello **Add Metrics** dialog box.</span></span> 

## <a name="how-to-customize-hello-metrics-chart"></a><span data-ttu-id="d5fb8-195">Comment : personnaliser le graphique des métriques hello</span><span class="sxs-lookup"><span data-stu-id="d5fb8-195">How to: Customize hello metrics chart</span></span>
1. <span data-ttu-id="d5fb8-196">Dans la table des métriques hello, sélectionnez tooplot de métriques too6 sur le graphique des métriques hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-196">In hello metrics table, select up too6 metrics tooplot on hello metrics chart.</span></span> <span data-ttu-id="d5fb8-197">tooselect une mesure, cliquez sur hello case à cocher sur son côté gauche.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-197">tooselect a metric, click hello check box on its left side.</span></span> <span data-ttu-id="d5fb8-198">tooremove une mesure à partir du graphique des métriques hello, désactivez sa case à cocher dans la table des métriques hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-198">tooremove a metric from hello metrics chart, clear its check box in hello metrics table.</span></span>
   
    <span data-ttu-id="d5fb8-199">Lorsque vous sélectionnez des mesures dans la table des métriques hello, les métriques de hello sont ajoutés toohello graphique des métriques.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-199">As you select metrics in hello metrics table, hello metrics are added toohello metrics chart.</span></span> <span data-ttu-id="d5fb8-200">Sur un affichage étroit, une **plus de n** liste déroulante contienne les en-têtes de métriques qui ne tient pas afficher de hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-200">On a narrow display, an **n more** drop-down list contains metric headers that won't fit hello display.</span></span>
2. <span data-ttu-id="d5fb8-201">tooswitch entre l’affichage des valeurs relatives (valeur finale uniquement pour chaque mesure) et les valeurs absolues (affiché de l’axe Y), sélectionnez Relative ou absolue haut hello du graphique de hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-201">tooswitch between displaying relative values (final value only for each metric) and absolute values (Y axis displayed), select Relative or Absolute at hello top of hello chart.</span></span>
   
    ![Relative ou Absolute](./media/cloud-services-how-to-monitor/CloudServices_Monitor_RelativeAbsolute.png)
3. <span data-ttu-id="d5fb8-203">graphique des mesures toochange hello temps plage hello affiche, sélectionnez les 1 heure, 24 heures ou 7 jours haut hello du graphique de hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-203">toochange hello time range hello metrics chart displays, select 1 hour, 24 hours, or 7 days at hello top of hello chart.</span></span>
   
    ![Période d'affichage de la surveillance](./media/cloud-services-how-to-monitor/CloudServices_Monitor_DisplayPeriod.png)
   
    <span data-ttu-id="d5fb8-205">Sur le graphique des métriques hello du tableau de bord, la méthode hello pour les mesures de traçage est différent.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-205">On hello dashboard metrics chart, hello method for plotting metrics is different.</span></span> <span data-ttu-id="d5fb8-206">Un ensemble standard de métriques est disponible, et les métriques sont ajoutés ou supprimés en sélectionnant l’en-tête de métrique hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-206">A standard set of metrics is available, and metrics are added or removed by selecting hello metric header.</span></span>

### <a name="toocustomize-hello-metrics-chart-on-hello-dashboard"></a><span data-ttu-id="d5fb8-207">graphique des métriques toocustomize hello sur le tableau de bord hello</span><span class="sxs-lookup"><span data-stu-id="d5fb8-207">toocustomize hello metrics chart on hello dashboard</span></span>
1. <span data-ttu-id="d5fb8-208">Ouvrez le tableau de bord de hello pour le service cloud hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-208">Open hello dashboard for hello cloud service.</span></span>
2. <span data-ttu-id="d5fb8-209">Ajouter ou supprimer des métriques dans le graphique de hello :</span><span class="sxs-lookup"><span data-stu-id="d5fb8-209">Add or remove metrics from hello chart:</span></span>
   
   * <span data-ttu-id="d5fb8-210">tooplot une case à cocher hello métrique, sélectionnez nouvelle mesure hello dans les en-têtes du graphique hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-210">tooplot a new metric, select hello check box for hello metric in hello chart headers.</span></span> <span data-ttu-id="d5fb8-211">Sur un étroit affichage, cliquez sur hello bas par  ***n* ?? métriques** tooplot une zone d’en-tête hello métrique graphique ne peut pas afficher.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-211">On a narrow display, click hello down arrow by ***n*??metrics** tooplot a metric hello chart header area can't display.</span></span>
   * <span data-ttu-id="d5fb8-212">toodelete une métrique est tracée sur le graphique de hello, hello désactivez case à cocher par son en-tête.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-212">toodelete a metric that is plotted on hello chart, clear hello check box by its header.</span></span>
   
3. <span data-ttu-id="d5fb8-213">Basculez entre les affichages **Relative** et **Absolute**.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-213">Switch between **Relative** and **Absolute** displays.</span></span>
4. <span data-ttu-id="d5fb8-214">Choisissez une heure, 24 heures ou 7 jours de données toodisplay.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-214">Choose 1 hour, 24 hours, or 7 days of data toodisplay.</span></span>

## <a name="how-to-access-verbose-monitoring-data-outside-hello-azure-classic-portal"></a><span data-ttu-id="d5fb8-215">Comment : accéder aux données de surveillance détaillées à l’extérieur de hello portail Azure classic</span><span class="sxs-lookup"><span data-stu-id="d5fb8-215">How to: Access verbose monitoring data outside hello Azure classic portal</span></span>
<span data-ttu-id="d5fb8-216">Données de surveillance détaillées sont stockées dans des tables dans les comptes de stockage hello que vous spécifiez pour chaque rôle.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-216">Verbose monitoring data is stored in tables in hello storage accounts that you specify for each role.</span></span> <span data-ttu-id="d5fb8-217">Pour chaque déploiement de service cloud, les six tables sont créées pour le rôle de hello.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-217">For each cloud service deployment, six tables are created for hello role.</span></span> <span data-ttu-id="d5fb8-218">Deux tables sont créées toutes les (5 minutes, 1 heure et 12 heures).</span><span class="sxs-lookup"><span data-stu-id="d5fb8-218">Two tables are created for each (5 minutes, 1 hour, and 12 hours).</span></span> <span data-ttu-id="d5fb8-219">Une de ces tables stocke les agrégations au niveau du rôle. Bonjour autres agrégations de magasins de table pour les instances de rôle.</span><span class="sxs-lookup"><span data-stu-id="d5fb8-219">One of these tables stores role-level aggregations; hello other table stores aggregations for role instances.</span></span> 

<span data-ttu-id="d5fb8-220">les noms de table Hello ont hello suivant le format :</span><span class="sxs-lookup"><span data-stu-id="d5fb8-220">hello table names have hello following format:</span></span>

```
WAD*deploymentID*PT*aggregation_interval*[R|RI]Table
```

<span data-ttu-id="d5fb8-221">où :</span><span class="sxs-lookup"><span data-stu-id="d5fb8-221">where:</span></span>

* <span data-ttu-id="d5fb8-222">*ID de déploiement* est hello GUID affecté le déploiement du service cloud toohello</span><span class="sxs-lookup"><span data-stu-id="d5fb8-222">*deploymentID* is hello GUID assigned toohello cloud service deployment</span></span>
* <span data-ttu-id="d5fb8-223">*aggregation_interval* = 5 m, 1 h ou 12 h</span><span class="sxs-lookup"><span data-stu-id="d5fb8-223">*aggregation_interval* = 5M, 1H, or 12H</span></span>
* <span data-ttu-id="d5fb8-224">consolidations au niveau du rôle = R</span><span class="sxs-lookup"><span data-stu-id="d5fb8-224">role-level aggregations = R</span></span>
* <span data-ttu-id="d5fb8-225">consolidations pour les instances de rôle = RI</span><span class="sxs-lookup"><span data-stu-id="d5fb8-225">aggregations for role instances = RI</span></span>

<span data-ttu-id="d5fb8-226">Par exemple, hello tableaux suivants stocke des données de surveillance détaillées agrégées à des intervalles de 1 heure :</span><span class="sxs-lookup"><span data-stu-id="d5fb8-226">For example, hello following tables would store verbose monitoring data aggregated at 1-hour intervals:</span></span>

```
WAD8b7c4233802442b494d0cc9eb9d8dd9fPT1HRTable (hourly aggregations for hello role)

WAD8b7c4233802442b494d0cc9eb9d8dd9fPT1HRITable (hourly aggregations for role instances)
```
