---
title: "Résoudre les problèmes de déploiement de service cloud | Microsoft Docs"
description: "Vous pouvez rencontrer quelques problèmes courants lors du déploiement d’un service cloud sur Azure. Cet article fournit des solutions pour certains d’entre eux."
services: cloud-services
documentationcenter: 
author: simonxjx
manager: felixwu
editor: 
tags: top-support-issue
ms.assetid: a18ae415-0d1c-4bc4-ab6c-c1ddea02c870
ms.service: cloud-services
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: tbd
ms.date: 7/26/2017
ms.author: v-six
ms.openlocfilehash: 60e06ba292ff1e43d00cd69c1a422f9237d5e5a4
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/03/2017
---
# <a name="troubleshoot-cloud-service-deployment-problems"></a><span data-ttu-id="68835-104">Résoudre les problèmes de déploiement de service cloud</span><span class="sxs-lookup"><span data-stu-id="68835-104">Troubleshoot cloud service deployment problems</span></span>
<span data-ttu-id="68835-105">Lorsque vous déployez un package d’application de service cloud sur Azure, vous pouvez obtenir des informations concernant le déploiement dans le volet **Propriétés** du portail Azure.</span><span class="sxs-lookup"><span data-stu-id="68835-105">When you deploy a cloud service application package to Azure, you can obtain information about the deployment from the **Properties** pane in the Azure portal.</span></span> <span data-ttu-id="68835-106">Vous pouvez utiliser les détails figurant dans ce volet pour faciliter la résolution des problèmes du service cloud, et vous pouvez fournir ces informations au support Azure lors de l’ouverture d’une nouvelle demande de support.</span><span class="sxs-lookup"><span data-stu-id="68835-106">You can use the details in this pane to help you troubleshoot problems with the cloud service, and you can provide this information to Azure Support when opening a new support request.</span></span>

<span data-ttu-id="68835-107">Vous trouverez le volet **Propriétés** comme suit :</span><span class="sxs-lookup"><span data-stu-id="68835-107">You can find the **Properties** pane as follows:</span></span>

* <span data-ttu-id="68835-108">Dans le portail Azure, cliquez successivement sur le déploiement de votre service cloud, sur **Tous les paramètres** et sur **Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="68835-108">In the Azure portal, click the deployment of your cloud service, click **All settings**, and then click **Properties**.</span></span>
* <span data-ttu-id="68835-109">Dans le portail Azure Classic, cliquez sur le déploiement de votre service cloud, puis sur **TABLEAU DE BORD** dans le coin inférieur droit de la page (sous **aperçu rapide**).</span><span class="sxs-lookup"><span data-stu-id="68835-109">In the Azure classic portal, click the deployment of your cloud service, click **DASHBOARD**, located at the lower-right corner of the page (under **quick glance**).</span></span> <span data-ttu-id="68835-110">Notez que ce volet ne contient aucun étiquette Propriétés.</span><span class="sxs-lookup"><span data-stu-id="68835-110">Be aware that there's no "Properties" label on this pane.</span></span>

> [!NOTE]
> <span data-ttu-id="68835-111">Vous pouvez copier le contenu du volet **Propriétés** dans le Presse-papiers en cliquant sur l’icône dans le coin supérieur droit du volet.</span><span class="sxs-lookup"><span data-stu-id="68835-111">You can copy the contents of the **Properties** pane to the clipboard by clicking the icon in the upper-right corner of the pane.</span></span>
>
>

[!INCLUDE [support-disclaimer](../../includes/support-disclaimer.md)]

## <a name="problem-i-cannot-access-my-website-but-my-deployment-is-started-and-all-role-instances-are-ready"></a><span data-ttu-id="68835-112">Problème : Je ne peux pas accéder à mon site web bien que mon déploiement soit démarré et que toutes les instances de rôle soient prêtes</span><span class="sxs-lookup"><span data-stu-id="68835-112">Problem: I cannot access my website, but my deployment is started and all role instances are ready</span></span>
<span data-ttu-id="68835-113">Le lien URL du site web affiché dans le portail n’inclut pas le port.</span><span class="sxs-lookup"><span data-stu-id="68835-113">The website URL link shown in the portal does not include the port.</span></span> <span data-ttu-id="68835-114">Le port par défaut pour les sites web est 80.</span><span class="sxs-lookup"><span data-stu-id="68835-114">The default port for websites is 80.</span></span> <span data-ttu-id="68835-115">Si votre application est configurée pour s’exécuter dans un autre port, vous devez ajouter le numéro de port approprié à l’URL lorsque vous accédez au site web.</span><span class="sxs-lookup"><span data-stu-id="68835-115">If your application is configured to run in a different port, you must add the correct port number to the URL when accessing the website.</span></span>

1. <span data-ttu-id="68835-116">Dans le portail Azure, cliquez sur le déploiement de votre service cloud.</span><span class="sxs-lookup"><span data-stu-id="68835-116">In the Azure portal, click the deployment of your cloud service.</span></span>
2. <span data-ttu-id="68835-117">Dans le volet **Propriétés** du portail Azure, vérifiez les ports des instances de rôle (sous **Points de terminaison d’entrée**).</span><span class="sxs-lookup"><span data-stu-id="68835-117">In the **Properties** pane of the Azure portal, check the ports for the role instances (under **Input Endpoints**).</span></span>
3. <span data-ttu-id="68835-118">Si le port n’est pas le port 80, ajoutez la valeur de port correcte à l’URL lorsque vous accédez à l’application.</span><span class="sxs-lookup"><span data-stu-id="68835-118">If the port is not 80, add the correct port value to the URL when you access the application.</span></span> <span data-ttu-id="68835-119">Pour spécifier un port non défini par défaut, tapez l’URL, suivie de deux-points (:) et du numéro de port sans espaces.</span><span class="sxs-lookup"><span data-stu-id="68835-119">To specify a non-default port, type the URL, followed by a colon (:), followed by the port number, with no spaces.</span></span>

## <a name="problem-my-role-instances-recycled-without-me-doing-anything"></a><span data-ttu-id="68835-120">Problème : Mes instances de rôle sont recyclées sans action de ma part</span><span class="sxs-lookup"><span data-stu-id="68835-120">Problem: My role instances recycled without me doing anything</span></span>
<span data-ttu-id="68835-121">Une réparation de service se produit automatiquement lorsque Azure détecte des nœuds problématiques et déplace donc les instances de rôle vers de nouveaux nœuds.</span><span class="sxs-lookup"><span data-stu-id="68835-121">Service healing occurs automatically when Azure detects problem nodes and therefore moves role instances to new nodes.</span></span> <span data-ttu-id="68835-122">Le cas échéant, il est possible que vos instances de rôle se recyclent automatiquement.</span><span class="sxs-lookup"><span data-stu-id="68835-122">When this occurs, you might see your role instances recycling automatically.</span></span> <span data-ttu-id="68835-123">Pour savoir si une réparation de service a eu lieu :</span><span class="sxs-lookup"><span data-stu-id="68835-123">To find out if service healing occurred:</span></span>

1. <span data-ttu-id="68835-124">Dans le portail Azure, cliquez sur le déploiement de votre service cloud.</span><span class="sxs-lookup"><span data-stu-id="68835-124">In the Azure portal, click the deployment of your cloud service.</span></span>
2. <span data-ttu-id="68835-125">Dans le volet **Propriétés** du portail Azure, passez en revue les informations et déterminez si une réparation de service a eu lieu au moment où vous observiez le recyclage des rôles.</span><span class="sxs-lookup"><span data-stu-id="68835-125">In the **Properties** pane of the Azure portal, review the information and determine whether service healing occurred during the time that you observed the roles recycling.</span></span>

<span data-ttu-id="68835-126">Les rôles sont recyclés également environ une fois par mois pendant les mises à jour du système d’exploitation hôte et du système d’exploitation invité.</span><span class="sxs-lookup"><span data-stu-id="68835-126">Roles will also recycle roughly once per month during host-OS and guest-OS updates.</span></span>  
<span data-ttu-id="68835-127">Pour plus d’informations, consultez le billet de blog [Redémarrages d’instances de rôles pour cause de mises à niveau du système d’exploitation](http://blogs.msdn.com/b/kwill/archive/2012/09/19/role-instance-restarts-due-to-os-upgrades.aspx)</span><span class="sxs-lookup"><span data-stu-id="68835-127">For more information, see the blog post [Role Instance Restarts Due to OS Upgrades](http://blogs.msdn.com/b/kwill/archive/2012/09/19/role-instance-restarts-due-to-os-upgrades.aspx)</span></span>

## <a name="problem-i-cannot-do-a-vip-swap-and-receive-an-error"></a><span data-ttu-id="68835-128">Problème : Impossible d’effectuer un échange d’adresses IP virtuelles, une erreur s’affiche</span><span class="sxs-lookup"><span data-stu-id="68835-128">Problem: I cannot do a VIP swap and receive an error</span></span>
<span data-ttu-id="68835-129">Un échange d’adresses IP virtuelles n’est pas autorisé si une mise à jour de déploiement est en cours.</span><span class="sxs-lookup"><span data-stu-id="68835-129">A VIP swap is not allowed if a deployment update is in progress.</span></span> <span data-ttu-id="68835-130">Les mises à jour de déploiement peuvent se produire automatiquement dans les situations suivantes :</span><span class="sxs-lookup"><span data-stu-id="68835-130">Deployment updates can occur automatically when:</span></span>

* <span data-ttu-id="68835-131">Un nouveau système d’exploitation invité est disponible et votre installation est configurée pour les mises à jour automatiques.</span><span class="sxs-lookup"><span data-stu-id="68835-131">A new guest operating system is available and you are configured for automatic updates.</span></span>
* <span data-ttu-id="68835-132">Une réparation de service se produit.</span><span class="sxs-lookup"><span data-stu-id="68835-132">Service healing occurs.</span></span>

<span data-ttu-id="68835-133">Pour savoir si une mise à jour automatique vous empêche d’effectuer un échange d’adresses IP virtuelles :</span><span class="sxs-lookup"><span data-stu-id="68835-133">To find out if an automatic update is preventing you from doing a VIP swap:</span></span>

1. <span data-ttu-id="68835-134">Dans le portail Azure, cliquez sur le déploiement de votre service cloud.</span><span class="sxs-lookup"><span data-stu-id="68835-134">In the Azure portal, click the deployment of your cloud service.</span></span>
2. <span data-ttu-id="68835-135">Dans le volet **Propriétés** du portail Azure, examinez la valeur de l’**État**.</span><span class="sxs-lookup"><span data-stu-id="68835-135">In the **Properties** pane of the Azure portal, look at the value of **Status**.</span></span> <span data-ttu-id="68835-136">Si elle affiche **Prêt**, vérifiez la **Dernière opération** pour voir si une opération récente empêche l’échange d’adresses IP virtuelles.</span><span class="sxs-lookup"><span data-stu-id="68835-136">If it is **Ready**, then check **Last operation** to see if one recently happened that might prevent the VIP swap.</span></span>
3. <span data-ttu-id="68835-137">Répétez les étapes 1 et 2 pour le déploiement en production.</span><span class="sxs-lookup"><span data-stu-id="68835-137">Repeat steps 1 and 2 for the production deployment.</span></span>
4. <span data-ttu-id="68835-138">Si une mise à jour automatique est en cours, attendez qu’elle se termine avant d’essayer d’effectuer l’échange d’adresses IP virtuelles.</span><span class="sxs-lookup"><span data-stu-id="68835-138">If an automatic update is in process, wait for it to finish before trying to do the VIP swap.</span></span>

## <a name="problem-a-role-instance-is-looping-between-started-initializing-busy-and-stopped"></a><span data-ttu-id="68835-139">Problème : Une instance de rôle est exécutée en boucle entre Démarrée, Initialisation, Occupée et Arrêtée</span><span class="sxs-lookup"><span data-stu-id="68835-139">Problem: A role instance is looping between Started, Initializing, Busy, and Stopped</span></span>
<span data-ttu-id="68835-140">Cette condition peut indiquer un problème lié à votre code d’application, package ou fichier de configuration.</span><span class="sxs-lookup"><span data-stu-id="68835-140">This condition could indicate a problem with your application code, package, or configuration file.</span></span> <span data-ttu-id="68835-141">Dans ce cas, vous devez être en mesure de voir l’état changer à des intervalles de quelques minutes, et le portail Azure peut indiquer des états tels que **Recyclage**, **Occupé** ou **Initialisation**.</span><span class="sxs-lookup"><span data-stu-id="68835-141">In that case, you should be able to see the status changing every few minutes and the Azure portal may say something like **Recycling**, **Busy**, or **Initializing**.</span></span> <span data-ttu-id="68835-142">Cela indique qu’il existe un problème au niveau de l’application qui empêche l’exécution de l’instance de rôle.</span><span class="sxs-lookup"><span data-stu-id="68835-142">This indicates that there is something wrong with the application that is keeping the role instance from running.</span></span>

<span data-ttu-id="68835-143">Pour plus d’informations sur la résolution de ce problème, consultez les billets de blog [Données de diagnostic de calcul PaaS Azure](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx) et [Problèmes courants provoquant le recyclage des rôles](cloud-services-troubleshoot-common-issues-which-cause-roles-recycle.md).</span><span class="sxs-lookup"><span data-stu-id="68835-143">For more information on how to troubleshoot for this problem, see the blog post [Azure PaaS Compute Diagnostics Data](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx) and [Common issues that cause roles to recycle](cloud-services-troubleshoot-common-issues-which-cause-roles-recycle.md).</span></span>

## <a name="problem-my-application-stopped-working"></a><span data-ttu-id="68835-144">Problème : Mon application a cessé de fonctionner</span><span class="sxs-lookup"><span data-stu-id="68835-144">Problem: My application stopped working</span></span>
1. <span data-ttu-id="68835-145">Dans le portail Azure, cliquez sur l’instance de rôle.</span><span class="sxs-lookup"><span data-stu-id="68835-145">In the Azure portal, click the role instance.</span></span>
2. <span data-ttu-id="68835-146">Dans le volet **Propriétés** du portail Azure, tenez compte des conditions suivantes pour résoudre votre problème :</span><span class="sxs-lookup"><span data-stu-id="68835-146">In the **Properties** pane of the Azure portal, consider the following conditions to resolve your problem:</span></span>
   * <span data-ttu-id="68835-147">Si l’instance de rôle a été récemment arrêtée (vous pouvez vérifier la valeur **Nombre d’abandons**), il est possible que le déploiement soit en cours de mise à jour.</span><span class="sxs-lookup"><span data-stu-id="68835-147">If the role instance has recently stopped (you can check the value of **Abort count**), the deployment could be updating.</span></span> <span data-ttu-id="68835-148">Attendez de voir si l’instance de rôle recommence à fonctionner par elle-même.</span><span class="sxs-lookup"><span data-stu-id="68835-148">Wait to see if the role instance resumes functioning on its own.</span></span>
   * <span data-ttu-id="68835-149">Si l’instance de rôle est **Occupée**, vérifiez votre code d’application pour voir si l’événement [StatusCheck](https://msdn.microsoft.com/library/microsoft.windowsazure.serviceruntime.roleenvironment.statuscheck) est géré.</span><span class="sxs-lookup"><span data-stu-id="68835-149">If the role instance is **Busy**, check your application code to see if the [StatusCheck](https://msdn.microsoft.com/library/microsoft.windowsazure.serviceruntime.roleenvironment.statuscheck) event is handled.</span></span> <span data-ttu-id="68835-150">Vous devrez peut-être ajouter ou corriger le code qui gère cet événement.</span><span class="sxs-lookup"><span data-stu-id="68835-150">You might need to add or fix some code that handles this event.</span></span>
   * <span data-ttu-id="68835-151">Passez en revue les données de diagnostic et les scénarios de résolution des problèmes dans le billet de blog [Données de diagnostic de calcul PaaS Azure](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span><span class="sxs-lookup"><span data-stu-id="68835-151">Go through the diagnostic data and troubleshooting scenarios in the blog post [Azure PaaS Compute Diagnostics Data](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span></span>

> [!WARNING]
> <span data-ttu-id="68835-152">Si vous recyclez votre service cloud, vous réinitialisez les propriétés de déploiement, et effacez ainsi efficacement les informations du problème d’origine.</span><span class="sxs-lookup"><span data-stu-id="68835-152">If you recycle your cloud service, you reset the properties for the deployment, effectively erasing the information for the original problem.</span></span>
>
>

## <a name="next-steps"></a><span data-ttu-id="68835-153">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="68835-153">Next steps</span></span>
<span data-ttu-id="68835-154">Affichez plus d’ [articles de résolution des problèmes](https://azure.microsoft.com/documentation/articles/?tag=top-support-issue&product=cloud-services) liés aux services cloud.</span><span class="sxs-lookup"><span data-stu-id="68835-154">View more [troubleshooting articles](https://azure.microsoft.com/documentation/articles/?tag=top-support-issue&product=cloud-services) for cloud services.</span></span>

<span data-ttu-id="68835-155">Pour découvrir comment résoudre les problèmes liés aux rôles de service cloud à l’aide des données de diagnostic de calcul PaaS Azure, consultez la [série de blogs de Kevin Williamson](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span><span class="sxs-lookup"><span data-stu-id="68835-155">To learn how to troubleshoot cloud service role issues by using Azure PaaS computer diagnostics data, see [Kevin Williamson's blog series](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span></span>
