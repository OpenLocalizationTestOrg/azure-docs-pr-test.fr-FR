---
title: "aaaStage un déploiement de service cloud (Node.js) | Documents Microsoft"
description: "Découvrez comment toodeploy votre tooa d’application Windows Azure mise en lots d’environnement, puis déployer tooa environnement de production à l’aide de la permutation d’adresse IP virtuelle (VIP)."
services: cloud-services
documentationcenter: nodejs
author: TomArcher
manager: routlaw
editor: 
ms.assetid: d65d26a6-b424-49cd-a88c-7ef46bb112a8
ms.service: cloud-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: nodejs
ms.topic: article
ms.date: 08/17/2017
ms.author: tarcher
ms.openlocfilehash: 0656c84ac444a10f152f441265f85141347bf1fb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="staging-an-application-in-azure"></a><span data-ttu-id="f0453-103">Déploiement intermédiaire d'une application dans Azure</span><span class="sxs-lookup"><span data-stu-id="f0453-103">Staging an Application in Azure</span></span>
<span data-ttu-id="f0453-104">Une application peut être déployée toohello environnement dans Azure toobe testé avant de le déplacer toohello production intermédiaire environnement dans le hello application est accessible sur Internet de hello.</span><span class="sxs-lookup"><span data-stu-id="f0453-104">A packaged application can be deployed toohello staging environment in Azure toobe tested before you move it toohello production environment in which hello application is accessible on hello Internet.</span></span> <span data-ttu-id="f0453-105">L’environnement intermédiaire est exactement comme environnement de production hello, sauf que vous pouvez uniquement hello d’accès intermédiaire application avec une URL masquée qui est générée par Azure.</span><span class="sxs-lookup"><span data-stu-id="f0453-105">The staging environment is exactly like hello production environment, except that you can only access hello staged application with an obfuscated URL that is generated by Azure.</span></span> <span data-ttu-id="f0453-106">Après avoir vérifié que votre application fonctionne correctement, il peut être l’environnement de production toohello déployé en effectuant un échange d’adresse IP virtuelle (VIP).</span><span class="sxs-lookup"><span data-stu-id="f0453-106">After you have verified that your application is working correctly, it can be deployed toohello production environment by performing a Virtual IP (VIP) swap.</span></span>

> [!NOTE]
> <span data-ttu-id="f0453-107">Hello étapes décrites dans cet article s’appliquent uniquement les applications toonode hébergées comme un Service Cloud Azure.</span><span class="sxs-lookup"><span data-stu-id="f0453-107">hello steps in this article only apply toonode applications hosted as an Azure Cloud Service.</span></span>
> 
> 

## <a name="step-1-stage-an-application"></a><span data-ttu-id="f0453-108">Étape 1 : déploiement intermédiaire d'une application</span><span class="sxs-lookup"><span data-stu-id="f0453-108">Step 1: Stage an Application</span></span>
<span data-ttu-id="f0453-109">Cette tâche concerne la façon dont une application à l’aide de toostage hello **Microsoft Azure PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="f0453-109">This task covers how toostage an application by using hello **Microsoft Azure PowerShell**.</span></span>

1. <span data-ttu-id="f0453-110">Lorsque vous publiez un service, transmettez simplement hello **-emplacement** paramètre Hello **AzureServiceProject de publication** applet de commande.</span><span class="sxs-lookup"><span data-stu-id="f0453-110">When publishing a service, simply pass hello **-Slot** parameter to hello **Publish-AzureServiceProject** cmdlet.</span></span>
   
   ```powershell
   Publish-AzureServiceProject -Slot staging
   ```
2. <span data-ttu-id="f0453-111">Ouvrez une session sur toohello [portail Azure classic] et sélectionnez **Services de cloud computing**.</span><span class="sxs-lookup"><span data-stu-id="f0453-111">Log on toohello [Azure classic portal] and select **Cloud Services**.</span></span> <span data-ttu-id="f0453-112">Une fois le service cloud hello est créé et hello **intermédiaire** état de la colonne a été mis à jour trop**en cours d’exécution**, cliquez sur le nom du service hello.</span><span class="sxs-lookup"><span data-stu-id="f0453-112">After hello cloud service is created and hello **Staging** column status has been updated too**Running**, click on hello service name.</span></span>
   
   ![portail affichant un service en cours d'exécution][cloud-service]
3. <span data-ttu-id="f0453-114">Sélectionnez hello **tableau de bord**, puis sélectionnez **intermédiaire**.</span><span class="sxs-lookup"><span data-stu-id="f0453-114">Select hello **Dashboard**, and then select **Staging**.</span></span>
   
   ![tableau de bord du service cloud][cloud-service-dashboard]
4. <span data-ttu-id="f0453-116">Notez la valeur hello Bonjour **URL du Site** droite de toohello d’entrée.</span><span class="sxs-lookup"><span data-stu-id="f0453-116">Note hello value in hello **Site URL** entry toohello right.</span></span> <span data-ttu-id="f0453-117">nom DNS de Hello est un ID interne obscurci Azure générée.</span><span class="sxs-lookup"><span data-stu-id="f0453-117">hello DNS name is an obfuscated internal ID that Azure generated.</span></span>
   
    ![URL du site][cloud-service-staging-url]

<span data-ttu-id="f0453-119">Maintenant, vous pouvez vérifier que l’application de hello fonctionne correctement dans hello environnement intermédiaire à l’aide de hello URL du site de mise en lots.</span><span class="sxs-lookup"><span data-stu-id="f0453-119">Now you can verify that hello application is working correctly in hello staging environment by using hello staging site URL.</span></span>

## <a name="step-2-upgrade-an-application-in-production-by-swapping-vips"></a><span data-ttu-id="f0453-120">Étape 2 : mise à niveau d'une application en production en échangeant les adresses IP virtuelles</span><span class="sxs-lookup"><span data-stu-id="f0453-120">Step 2: Upgrade an Application in Production by Swapping VIPs</span></span>
<span data-ttu-id="f0453-121">Après avoir vérifié hello la version mise à niveau d’une application dans l’environnement intermédiaire, vous pouvez rapidement rendre disponible en production en échangeant hello des adresses IP virtuelles (VIP) des environnements intermédiaire et de production de hello.</span><span class="sxs-lookup"><span data-stu-id="f0453-121">After you have verified hello upgraded version of an application in the staging environment, you can quickly make it available in production by swapping hello virtual IPs (VIPs) of hello staging and production environments.</span></span>

> [!NOTE]
> <span data-ttu-id="f0453-122">Cette étape suppose que vous avez déjà déployé une application tooproduction et intermédiaire hello la version mise à niveau de l’application.</span><span class="sxs-lookup"><span data-stu-id="f0453-122">This step assumes that you have already deployed an application tooproduction and staged hello upgraded version of the application.</span></span>
> 
> 

1. <span data-ttu-id="f0453-123">Ouvrez une session sur hello [portail Azure classic], cliquez sur **Services de cloud computing** , puis sélectionnez le nom du service hello.</span><span class="sxs-lookup"><span data-stu-id="f0453-123">Log into hello [Azure classic portal], click **Cloud Services** and then select hello service name.</span></span>
2. <span data-ttu-id="f0453-124">À partir de hello **tableau de bord**, sélectionnez **intermédiaire**, puis cliquez sur **échanger** bas hello de page de hello.</span><span class="sxs-lookup"><span data-stu-id="f0453-124">From hello **Dashboard**, select **Staging**, and then click **Swap** at hello bottom of hello page.</span></span> <span data-ttu-id="f0453-125">Hello VIP Swap la boîte de dialogue s’ouvre.</span><span class="sxs-lookup"><span data-stu-id="f0453-125">This opens hello VIP Swap dialog.</span></span>
   
   ![boîte de dialogue Échange d'adresses IP virtuelles][vip-swap-dialog]
3. <span data-ttu-id="f0453-127">Passez en revue les informations de hello, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="f0453-127">Review hello information, and then click **OK**.</span></span> <span data-ttu-id="f0453-128">deux déploiements de Hello commencent la mise à jour comme hello déploiement commutateurs tooproduction et hello production déploiement commutateurs toostaging de mise en lots.</span><span class="sxs-lookup"><span data-stu-id="f0453-128">hello two deployments begin updating as hello staging deployment switches tooproduction and hello production deployment switches toostaging.</span></span>

<span data-ttu-id="f0453-129">Vous avez un déploiement par étapes et mis à niveau un déploiement de production en échangeant les adresses IP virtuelles avec le déploiement hello intermédiaire.</span><span class="sxs-lookup"><span data-stu-id="f0453-129">You have successfully staged a deployment and upgraded a production deployment by swapping VIPs with hello deployment in staging.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="f0453-130">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="f0453-130">Additional Resources</span></span>
* <span data-ttu-id="f0453-131">[Comment tooDeploy une tooProduction mise à niveau de Service en échangeant les adresses IP virtuelles dans Azure]</span><span class="sxs-lookup"><span data-stu-id="f0453-131">[How tooDeploy a Service Upgrade tooProduction by Swapping VIPs in Azure]</span></span>

[portail Azure classic]: http://manage.windowsazure.com
[cloud-service]: ./media/cloud-services-nodejs-stage-application/staging-cloud-service-running.png
[cloud-service-dashboard]: ./media/cloud-services-nodejs-stage-application/cloud-service-dashboard-staging.png
[cloud-service-staging-url]: ./media/cloud-services-nodejs-stage-application/cloud-service-staging-url.png
[vip-swap-dialog]: ./media/cloud-services-nodejs-stage-application/vip-swap-dialog.png
[Comment tooDeploy une tooProduction mise à niveau de Service en échangeant les adresses IP virtuelles dans Azure]: cloud-services-how-to-manage.md#how-to-swap-deployments-to-promote-a-staged-deployment-to-production
