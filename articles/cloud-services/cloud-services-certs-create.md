---
title: Services cloud et certificats de gestion | Microsoft Docs
description: "Découvrez comment créer et utiliser des certificats avec Microsoft Azure."
services: cloud-services
documentationcenter: .net
author: Thraka
manager: timlt
editor: 
ms.assetid: fc70d00d-899b-4771-855f-44574dc4bfc6
ms.service: cloud-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/19/2017
ms.author: adegeo
ms.openlocfilehash: f760bfd93b19c43d12889b5dd38015c5eba0a8ac
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/18/2017
---
# <a name="certificates-overview-for-azure-cloud-services"></a><span data-ttu-id="e5934-103">Vue d’ensemble des certificats pour Azure Cloud Services</span><span class="sxs-lookup"><span data-stu-id="e5934-103">Certificates overview for Azure Cloud Services</span></span>
<span data-ttu-id="e5934-104">Dans Azure, des certificats sont utilisés pour les services cloud ([certificats de service](#what-are-service-certificates)) et pour l’authentification auprès de l’API de gestion ([certificats de gestion](#what-are-management-certificates) lorsque vous utilisez le portail Azure Classic et non classique).</span><span class="sxs-lookup"><span data-stu-id="e5934-104">Certificates are used in Azure for cloud services ([service certificates](#what-are-service-certificates)) and for authenticating with the management API ([management certificates](#what-are-management-certificates) when using the Azure classic portal and not the non-classic Azure portal).</span></span> <span data-ttu-id="e5934-105">Cette rubrique offre une vue d’ensemble de ces deux types de certificats et vous explique comment les [créer](#create) et les [déployer](#deploy) dans Azure.</span><span class="sxs-lookup"><span data-stu-id="e5934-105">This topic gives a general overview of both certificate types, how to [create](#create) and [deploy](#deploy) them to Azure.</span></span>

<span data-ttu-id="e5934-106">Les certificats utilisés dans Azure sont des certificats x.509 v3 et peuvent être signés par un autre certificat approuvé ou être auto-signés.</span><span class="sxs-lookup"><span data-stu-id="e5934-106">Certificates used in Azure are x.509 v3 certificates and can be signed by another trusted certificate or they can be self-signed.</span></span> <span data-ttu-id="e5934-107">Un certificat auto-signé est signé par son propre créateur et n’est donc pas approuvé par défaut.</span><span class="sxs-lookup"><span data-stu-id="e5934-107">A self-signed certificate is signed by its own creator, therefore it is not trusted by default.</span></span> <span data-ttu-id="e5934-108">La plupart des navigateurs peuvent ignorer ce problème.</span><span class="sxs-lookup"><span data-stu-id="e5934-108">Most browsers can ignore this problem.</span></span> <span data-ttu-id="e5934-109">Les certificats auto-signés ne doivent être utilisés que par vous au moment où vous développez et testez vos services cloud.</span><span class="sxs-lookup"><span data-stu-id="e5934-109">You should only use self-signed certificates when developing and testing your cloud services.</span></span> 

<span data-ttu-id="e5934-110">Les certificats utilisés par Azure peuvent contenir une clé privée ou publique.</span><span class="sxs-lookup"><span data-stu-id="e5934-110">Certificates used by Azure can contain a private or a public key.</span></span> <span data-ttu-id="e5934-111">Les certificats comportent une empreinte numérique qui permet de les identifier sans ambiguïté.</span><span class="sxs-lookup"><span data-stu-id="e5934-111">Certificates have a thumbprint that provides a means to identify them in an unambiguous way.</span></span> <span data-ttu-id="e5934-112">Cette empreinte numérique est utilisée dans le [fichier de configuration](cloud-services-configure-ssl-certificate.md) Azure pour identifier le certificat qu’un service cloud doit utiliser.</span><span class="sxs-lookup"><span data-stu-id="e5934-112">This thumbprint is used in the Azure [configuration file](cloud-services-configure-ssl-certificate.md) to identify which certificate a cloud service should use.</span></span> 

## <a name="what-are-service-certificates"></a><span data-ttu-id="e5934-113">Que sont les certificats de service ?</span><span class="sxs-lookup"><span data-stu-id="e5934-113">What are service certificates?</span></span>
<span data-ttu-id="e5934-114">Les certificats de service sont associés aux services cloud et sécurisent les communications à destination et en provenance du service.</span><span class="sxs-lookup"><span data-stu-id="e5934-114">Service certificates are attached to cloud services and enable secure communication to and from the service.</span></span> <span data-ttu-id="e5934-115">Par exemple, si vous avez déployé un rôle web, vous pouvez fournir un certificat qui peut authentifier un point de terminaison HTTPS exposé.</span><span class="sxs-lookup"><span data-stu-id="e5934-115">For example, if you deployed a web role, you would want to supply a certificate that can authenticate an exposed HTTPS endpoint.</span></span> <span data-ttu-id="e5934-116">Les certificats de service, définis dans votre définition de service, sont déployés automatiquement sur la machine virtuelle qui exécute une instance de votre rôle.</span><span class="sxs-lookup"><span data-stu-id="e5934-116">Service certificates, defined in your service definition, are automatically deployed to the virtual machine that is running an instance of your role.</span></span> 

<span data-ttu-id="e5934-117">Vous pouvez charger les certificats de service dans le portail Azure Classic par l’intermédiaire de ce portail ou à l’aide du modèle de déploiement classique.</span><span class="sxs-lookup"><span data-stu-id="e5934-117">You can upload service certificates to Azure classic portal either using the Azure classic portal or by using the classic deployment model.</span></span> <span data-ttu-id="e5934-118">Les certificats de service sont associés à un service cloud spécifique.</span><span class="sxs-lookup"><span data-stu-id="e5934-118">Service certificates are associated with a specific cloud service.</span></span> <span data-ttu-id="e5934-119">Ils sont attribués à un déploiement dans le fichier de définition de service.</span><span class="sxs-lookup"><span data-stu-id="e5934-119">They are assigned to a deployment in the service definition file.</span></span>

<span data-ttu-id="e5934-120">Les certificats de service peuvent être gérés séparément de vos services et par différentes personnes.</span><span class="sxs-lookup"><span data-stu-id="e5934-120">Service certificates can be managed separately from your services, and may be managed by different individuals.</span></span> <span data-ttu-id="e5934-121">Par exemple, un développeur peut charger un package de services qui fait référence à un certificat précédemment chargé dans Azure par un responsable informatique.</span><span class="sxs-lookup"><span data-stu-id="e5934-121">For example, a developer may upload a service package that refers to a certificate that an IT manager has previously uploaded to Azure.</span></span> <span data-ttu-id="e5934-122">Un responsable informatique peut gérer et renouveler ce certificat (en modifiant la configuration du service) sans avoir à charger un nouveau package de services.</span><span class="sxs-lookup"><span data-stu-id="e5934-122">An IT manager can manage and renew that certificate (changing the configuration of the service) without needing to upload a new service package.</span></span> <span data-ttu-id="e5934-123">La mise à jour sans nouveau package de service est possible par le fait que le nom logique, ainsi que le nom et l’emplacement du magasin du certificat sont spécifiés dans le fichier de définition de service, alors que l’empreinte numérique du certificat est spécifiée dans le fichier de configuration de service.</span><span class="sxs-lookup"><span data-stu-id="e5934-123">Updating without a new service package is possible because the logical name, store name, and location of the certificate is in the service definition file and while the certificate thumbprint is specified in the service configuration file.</span></span> <span data-ttu-id="e5934-124">Pour mettre à jour le certificat, il est uniquement nécessaire de charger un nouveau certificat et de modifier la valeur d’empreinte numérique dans le fichier de configuration de service.</span><span class="sxs-lookup"><span data-stu-id="e5934-124">To update the certificate, it's only necessary to upload a new certificate and change the thumbprint value in the service configuration file.</span></span>

>[!Note]
><span data-ttu-id="e5934-125">L’article [Forum aux questions sur Cloud Services](cloud-services-faq.md) comporte des informations utiles sur les certificats.</span><span class="sxs-lookup"><span data-stu-id="e5934-125">The [Cloud Services FAQ](cloud-services-faq.md) article has some helpful information about certificates.</span></span>

## <a name="what-are-management-certificates"></a><span data-ttu-id="e5934-126">Que sont les certificats de gestion ?</span><span class="sxs-lookup"><span data-stu-id="e5934-126">What are management certificates?</span></span>
<span data-ttu-id="e5934-127">Les certificats de gestion vous permettent de vous authentifier dans le modèle de déploiement classique.</span><span class="sxs-lookup"><span data-stu-id="e5934-127">Management certificates allow you to authenticate with the classic deployment model.</span></span> <span data-ttu-id="e5934-128">De nombreux programmes et outils (tels que Visual Studio ou le Kit de développement logiciel (SDK) Azure) utilisent ces certificats pour automatiser la configuration et le déploiement de divers services Azure.</span><span class="sxs-lookup"><span data-stu-id="e5934-128">Many programs and tools (such as Visual Studio or the Azure SDK) use these certificates to automate configuration and deployment of various Azure services.</span></span> <span data-ttu-id="e5934-129">Ces certificats ne sont pas réellement associés aux services cloud.</span><span class="sxs-lookup"><span data-stu-id="e5934-129">These are not really related to cloud services.</span></span> 

> [!WARNING]
> <span data-ttu-id="e5934-130">Soyez prudent !</span><span class="sxs-lookup"><span data-stu-id="e5934-130">Be careful!</span></span> <span data-ttu-id="e5934-131">Ces types de certificat permettent à toute personne qui s’authentifie par leur biais de gérer l’abonnement auquel ils sont associés.</span><span class="sxs-lookup"><span data-stu-id="e5934-131">These types of certificates allow anyone who authenticates with them to manage the subscription they are associated with.</span></span> 
> 
> 

### <a name="limitations"></a><span data-ttu-id="e5934-132">Limitations</span><span class="sxs-lookup"><span data-stu-id="e5934-132">Limitations</span></span>
<span data-ttu-id="e5934-133">Le nombre de certificats de gestion est limité à 100 par abonnement.</span><span class="sxs-lookup"><span data-stu-id="e5934-133">There is a limit of 100 management certificates per subscription.</span></span> <span data-ttu-id="e5934-134">Il existe également une limite de 100 certificats de gestion pour l’ensemble des abonnements figurant sous un identificateur d’utilisateur d’administrateur de service spécifique.</span><span class="sxs-lookup"><span data-stu-id="e5934-134">There is also a limit of 100 management certificates for all subscriptions under a specific service administrator’s user ID.</span></span> <span data-ttu-id="e5934-135">Si l’identificateur d’utilisateur de l’administrateur de compte a déjà été utilisé pour ajouter 100 certificats de gestion et que d’autres certificats sont nécessaires, vous pouvez ajouter un coadministrateur pour disposer des certificats supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="e5934-135">If the user ID for the account administrator has already been used to add 100 management certificates and there is a need for more certificates, you can add a co-administrator to add the additional certificates.</span></span> 

<span data-ttu-id="e5934-136">Avant d’ajouter plus de 100 certificats, regardez si vous pouvez réutiliser un certificat existant.</span><span class="sxs-lookup"><span data-stu-id="e5934-136">Before adding more than 100 certificates, see if you can reuse an existing certificate.</span></span> <span data-ttu-id="e5934-137">L’utilisation de coadministrateurs complique parfois inutilement votre processus de gestion des certificats.</span><span class="sxs-lookup"><span data-stu-id="e5934-137">Using co-administrators adds potentially unneeded complexity to your certificate management process.</span></span>

<a name="create"></a>
## <a name="create-a-new-self-signed-certificate"></a><span data-ttu-id="e5934-138">Création d’un certificat auto-signé</span><span class="sxs-lookup"><span data-stu-id="e5934-138">Create a new self-signed certificate</span></span>
<span data-ttu-id="e5934-139">Vous pouvez créer un certificat auto-signé au moyen de n’importe quel outil disponible, à condition qu’il remplisse les conditions suivantes :</span><span class="sxs-lookup"><span data-stu-id="e5934-139">You can use any tool available to create a self-signed certificate as long as they adhere to these settings:</span></span>

* <span data-ttu-id="e5934-140">Certificat X.509.</span><span class="sxs-lookup"><span data-stu-id="e5934-140">An X.509 certificate.</span></span>
* <span data-ttu-id="e5934-141">Contient une clé privée.</span><span class="sxs-lookup"><span data-stu-id="e5934-141">Contains a private key.</span></span>
* <span data-ttu-id="e5934-142">Créé pour l’échange de clés (fichier .pfx).</span><span class="sxs-lookup"><span data-stu-id="e5934-142">Created for key exchange (.pfx file).</span></span>
* <span data-ttu-id="e5934-143">Le nom du sujet doit correspondre au domaine servant à accéder au service cloud.</span><span class="sxs-lookup"><span data-stu-id="e5934-143">Subject name must match the domain used to access the cloud service.</span></span>

    > <span data-ttu-id="e5934-144">Vous ne pouvez pas acquérir un certificat SSL pour le domaine cloudapp.net (ou pour tout domaine lié à Azure). Le nom d'objet du certificat doit correspondre au nom de domaine personnalisé utilisé pour accéder à votre application.</span><span class="sxs-lookup"><span data-stu-id="e5934-144">You cannot acquire an SSL certificate for the cloudapp.net (or for any Azure-related) domain; the certificate's subject name must match the custom domain name used to access your application.</span></span> <span data-ttu-id="e5934-145">Par exemple, **contoso.net**, mais pas **contoso.cloudapp.net**.</span><span class="sxs-lookup"><span data-stu-id="e5934-145">For example, **contoso.net**, not **contoso.cloudapp.net**.</span></span>

* <span data-ttu-id="e5934-146">Chiffrement à 2 048 bits au minimum.</span><span class="sxs-lookup"><span data-stu-id="e5934-146">Minimum of 2048-bit encryption.</span></span>
* <span data-ttu-id="e5934-147">**Certificat de service uniquement**: le certificat côté client doit résider dans le magasin de certificats *personnel* .</span><span class="sxs-lookup"><span data-stu-id="e5934-147">**Service Certificate Only**: Client-side certificate must reside in the *Personal* certificate store.</span></span>

<span data-ttu-id="e5934-148">Vous disposez de deux méthodes simples pour créer un certificat sur Windows : avec l’utilitaire `makecert.exe` ou avec IIS.</span><span class="sxs-lookup"><span data-stu-id="e5934-148">There are two easy ways to create a certificate on Windows, with the `makecert.exe` utility, or IIS.</span></span>

### <a name="makecertexe"></a><span data-ttu-id="e5934-149">Makecert.exe</span><span class="sxs-lookup"><span data-stu-id="e5934-149">Makecert.exe</span></span>
<span data-ttu-id="e5934-150">Cet utilitaire a été déconseillé et n’est plus documenté ici.</span><span class="sxs-lookup"><span data-stu-id="e5934-150">This utility has been deprecated and is no longer documented here.</span></span> <span data-ttu-id="e5934-151">Pour plus d’informations, consultez [cet article MSDN](https://msdn.microsoft.com/library/windows/desktop/aa386968).</span><span class="sxs-lookup"><span data-stu-id="e5934-151">For more information, see [this MSDN article](https://msdn.microsoft.com/library/windows/desktop/aa386968).</span></span>

### <a name="powershell"></a><span data-ttu-id="e5934-152">PowerShell</span><span class="sxs-lookup"><span data-stu-id="e5934-152">PowerShell</span></span>
```powershell
$cert = New-SelfSignedCertificate -DnsName yourdomain.cloudapp.net -CertStoreLocation "cert:\LocalMachine\My"
$password = ConvertTo-SecureString -String "your-password" -Force -AsPlainText
Export-PfxCertificate -Cert $cert -FilePath ".\my-cert-file.pfx" -Password $password
```

> [!NOTE]
> <span data-ttu-id="e5934-153">Pour utiliser le certificat avec une adresse IP au lieu d’un domaine, utilisez l’adresse IP dans le paramètre -DnsName.</span><span class="sxs-lookup"><span data-stu-id="e5934-153">If you want to use the certificate with an IP address instead of a domain, use the IP address in the -DnsName parameter.</span></span>


<span data-ttu-id="e5934-154">Si vous souhaitez utiliser ce [certificat avec le portail de gestion](../azure-api-management-certs.md), exportez-le vers un fichier **.cer** :</span><span class="sxs-lookup"><span data-stu-id="e5934-154">If you want to use this [certificate with the management portal](../azure-api-management-certs.md), export it to a **.cer** file:</span></span>

```powershell
Export-Certificate -Type CERT -Cert $cert -FilePath .\my-cert-file.cer
```

### <a name="internet-information-services-iis"></a><span data-ttu-id="e5934-155">Internet Information Services (IIS)</span><span class="sxs-lookup"><span data-stu-id="e5934-155">Internet Information Services (IIS)</span></span>
<span data-ttu-id="e5934-156">De nombreuses pages sur Internet vous expliquent comment procéder avec IIS.</span><span class="sxs-lookup"><span data-stu-id="e5934-156">There are many pages on the internet that cover how to do this with IIS.</span></span> <span data-ttu-id="e5934-157">[ici](https://www.sslshopper.com/article-how-to-create-a-self-signed-certificate-in-iis-7.html) une procédure détaillée particulièrement claire.</span><span class="sxs-lookup"><span data-stu-id="e5934-157">[Here](https://www.sslshopper.com/article-how-to-create-a-self-signed-certificate-in-iis-7.html) is a great one I found that I think explains it well.</span></span> 

### <a name="java"></a><span data-ttu-id="e5934-158">Java</span><span class="sxs-lookup"><span data-stu-id="e5934-158">Java</span></span>
<span data-ttu-id="e5934-159">Vous pouvez utiliser Java pour [créer un certificat](../app-service-web/java-create-azure-website-using-java-sdk.md#create-a-certificate).</span><span class="sxs-lookup"><span data-stu-id="e5934-159">You can use Java to [create a certificate](../app-service-web/java-create-azure-website-using-java-sdk.md#create-a-certificate).</span></span>

### <a name="linux"></a><span data-ttu-id="e5934-160">Linux</span><span class="sxs-lookup"><span data-stu-id="e5934-160">Linux</span></span>
<span data-ttu-id="e5934-161">[Cet](../virtual-machines/linux/mac-create-ssh-keys.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) article décrit comment créer des certificats avec SSH.</span><span class="sxs-lookup"><span data-stu-id="e5934-161">[This](../virtual-machines/linux/mac-create-ssh-keys.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) article describes how to create certificates with SSH.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e5934-162">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="e5934-162">Next steps</span></span>
<span data-ttu-id="e5934-163">[Chargez votre certificat de service sur le portail Azure Classic](cloud-services-configure-ssl-certificate.md) (ou sur le [portail Azure](cloud-services-configure-ssl-certificate-portal.md)).</span><span class="sxs-lookup"><span data-stu-id="e5934-163">[Upload your service certificate to the Azure classic portal](cloud-services-configure-ssl-certificate.md) (or the [Azure portal](cloud-services-configure-ssl-certificate-portal.md)).</span></span>

<span data-ttu-id="e5934-164">Chargez un [certificat d’API de gestion](../azure-api-management-certs.md) dans le portail Azure Classic.</span><span class="sxs-lookup"><span data-stu-id="e5934-164">Upload a [management API certificate](../azure-api-management-certs.md) to the Azure classic portal.</span></span> <span data-ttu-id="e5934-165">Le portail Azure n’utilise pas de certificats de gestion pour l’authentification.</span><span class="sxs-lookup"><span data-stu-id="e5934-165">The Azure portal does not use management certificates for authentication.</span></span>

