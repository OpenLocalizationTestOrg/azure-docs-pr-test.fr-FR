---
title: "guide d’aaaTroubleshooting pour l’Analytique des flux de données Azure | Documents Microsoft"
description: "Comment tootroubleshoot votre tâche de flux de données Analytique"
keywords: "Guide de dépannage"
documentationcenter: 
services: stream-analytics
author: jeffstokes72
manager: jhubbard
editor: cgronlun
ms.assetid: 
ms.service: stream-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-services
ms.date: 04/20/2017
ms.author: jeffstok
ms.openlocfilehash: 4add48054e06a7d8eb617a08595c1be4555c59d2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshooting-guide-for-azure-stream-analytics"></a><span data-ttu-id="b8bb3-104">Guide de dépannage pour Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="b8bb3-104">Troubleshooting guide for Azure Stream Analytics</span></span>

<span data-ttu-id="b8bb3-105">Résolution des problèmes du flux de données Analytique Azure peuvent s’afficher toobe un effort complex à première vue.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-105">Azure Stream Analytics troubleshooting can appear toobe a complex effort at first glance.</span></span> <span data-ttu-id="b8bb3-106">Après avoir travaillé avec de nombreux utilisateurs, nous avoir créé ce guide de processus de hello toohelp simplifiée et supprimer le hasard hello sur vos entrées, les sorties, les requêtes et les fonctions.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-106">After working with many users, we have created this guide toohelp streamline hello process and remove hello guesswork about your inputs, outputs, queries, and functions.</span></span>

## <a name="troubleshoot-your-stream-analytics-job"></a><span data-ttu-id="b8bb3-107">Résoudre les problèmes liés à votre travail Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="b8bb3-107">Troubleshoot your Stream Analytics job</span></span>

<span data-ttu-id="b8bb3-108">Pour de meilleurs résultats dans votre tâche de flux de données Analytique de résolution des problèmes, utilisez hello instructions :</span><span class="sxs-lookup"><span data-stu-id="b8bb3-108">For best results in troubleshooting your Stream Analytics job, use hello following guidelines:</span></span>

1.  <span data-ttu-id="b8bb3-109">Testez votre connectivité :</span><span class="sxs-lookup"><span data-stu-id="b8bb3-109">Test your connectivity:</span></span>
    - <span data-ttu-id="b8bb3-110">Vérifiez tooinputs de connectivité et des sorties à l’aide de hello **tester la connexion** bouton pour chaque entrée et sortie.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-110">Verify connectivity tooinputs and outputs by using hello **Test Connection** button for each input and output.</span></span>

2.  <span data-ttu-id="b8bb3-111">Examinez vos données d’entrée :</span><span class="sxs-lookup"><span data-stu-id="b8bb3-111">Examine your input data:</span></span>
    - <span data-ttu-id="b8bb3-112">tooverify que les données d’entrée est transférée dans le concentrateur d’événements, utilisez [Explorateur Service Bus](https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a) tooconnect tooAzure concentrateur d’événements (si l’entrée de concentrateur d’événements est utilisée).</span><span class="sxs-lookup"><span data-stu-id="b8bb3-112">tooverify that input data is flowing into Event Hub, use [Service Bus Explorer](https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a) tooconnect tooAzure Event Hub (if Event Hub input is used).</span></span>  
    - <span data-ttu-id="b8bb3-113">Hello d’utilisation [ **Sample Data** ](stream-analytics-sample-data-input.md) bouton pour chaque entrée et télécharger les données d’exemple d’entrée de hello.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-113">Use hello [**Sample Data**](stream-analytics-sample-data-input.md) button for each input, and download hello input sample data.</span></span>
    - <span data-ttu-id="b8bb3-114">Inspecter hello exemple données toounderstand hello forme des données de salutation : hello schéma et hello [des types de données](https://msdn.microsoft.com/library/azure/dn835065.aspx).</span><span class="sxs-lookup"><span data-stu-id="b8bb3-114">Inspect hello sample data toounderstand hello shape of hello data: hello schema and hello [data types](https://msdn.microsoft.com/library/azure/dn835065.aspx).</span></span>

3.  <span data-ttu-id="b8bb3-115">Testez votre requête :</span><span class="sxs-lookup"><span data-stu-id="b8bb3-115">Test your query:</span></span>
    - <span data-ttu-id="b8bb3-116">Sur hello **requête** utiliser hello, onglet **Test** bouton requête de hello tootest et utiliser les données d’exemple hello téléchargé trop[tester la requête hello](stream-analytics-test-query.md).</span><span class="sxs-lookup"><span data-stu-id="b8bb3-116">On hello **Query** tab, use hello **Test** button tootest hello query, and use hello downloaded sample data too[test hello query](stream-analytics-test-query.md).</span></span> <span data-ttu-id="b8bb3-117">Examinez les erreurs et tenter de toocorrect les.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-117">Examine any errors and attempt toocorrect them.</span></span>
    - <span data-ttu-id="b8bb3-118">Si vous utilisez [ **Timestamp By**](https://msdn.microsoft.com/library/azure/mt573293.aspx), vérifiez que les événements hello horodateurs supérieur hello [heure de début de la tâche](stream-analytics-out-of-order-and-late-events.md).</span><span class="sxs-lookup"><span data-stu-id="b8bb3-118">If you use [**Timestamp By**](https://msdn.microsoft.com/library/azure/mt573293.aspx), verify that hello events have timestamps greater than hello [job start time](stream-analytics-out-of-order-and-late-events.md).</span></span>

4.  <span data-ttu-id="b8bb3-119">Déboguez votre requête :</span><span class="sxs-lookup"><span data-stu-id="b8bb3-119">Debug your query:</span></span>
    - <span data-ttu-id="b8bb3-120">Reconstruire la requête hello progressivement à partir d’agrégats complexes de toomore instruction select simple à l’aide des étapes.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-120">Rebuild hello query progressively from simple select statement toomore complex aggregates by using steps.</span></span> <span data-ttu-id="b8bb3-121">toobuild logique de requête hello étape par étape, utilisez [WITH](https://msdn.microsoft.com/library/azure/dn835049.aspx) clauses.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-121">toobuild up hello query logic step by step, use [WITH](https://msdn.microsoft.com/library/azure/dn835049.aspx) clauses.</span></span>
    - <span data-ttu-id="b8bb3-122">Utilisez [SELECT INTO](stream-analytics-select-into.md) toodebug étapes de la requête.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-122">Use [SELECT INTO](stream-analytics-select-into.md) toodebug query steps.</span></span>

5.  <span data-ttu-id="b8bb3-123">Éliminez les pièges les plus courants, comme par exemple :</span><span class="sxs-lookup"><span data-stu-id="b8bb3-123">Eliminate common pitfalls, such as:</span></span>
    - <span data-ttu-id="b8bb3-124">A [ **où** ](https://msdn.microsoft.com/library/azure/dn835048.aspx) clause de la requête de hello filtrées de tous les événements, empêchant toute sortie d’être générée.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-124">A [**WHERE**](https://msdn.microsoft.com/library/azure/dn835048.aspx) clause in hello query filtered out all events, preventing any output from being generated.</span></span>
    - <span data-ttu-id="b8bb3-125">Lorsque vous utilisez des fonctions de fenêtre, attendez toosee de durée de fenêtre entière hello une sortie à partir de la requête de hello.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-125">When you use window functions, wait for hello entire window duration toosee an output from hello query.</span></span>
    - <span data-ttu-id="b8bb3-126">horodatage Hello pour les événements précède l’heure de début de tâche hello et, par conséquent, les événements sont en cours de suppression.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-126">hello timestamp for events precedes hello job start time and, therefore, events are being dropped.</span></span>

6.  <span data-ttu-id="b8bb3-127">Utilisez l’ordre des événements :</span><span class="sxs-lookup"><span data-stu-id="b8bb3-127">Use event ordering:</span></span>
    - <span data-ttu-id="b8bb3-128">Si tous les hello fonctionnés des étapes précédentes, accédez à toohello **paramètres** panneau et sélectionnez [ **l’ordre des événements**](stream-analytics-out-of-order-and-late-events.md).</span><span class="sxs-lookup"><span data-stu-id="b8bb3-128">If all hello previous steps worked fine, go toohello **Settings** blade and select [**Event Ordering**](stream-analytics-out-of-order-and-late-events.md).</span></span> <span data-ttu-id="b8bb3-129">Vérifiez que cette stratégie est configurée pour s’intégrer logiquement à votre scénario.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-129">Verify that this policy is configured for what makes sense in your scenario.</span></span> <span data-ttu-id="b8bb3-130">stratégie de Hello est *pas* appliqué lorsque vous utilisez hello **Test** requête de bouton tootest hello.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-130">hello policy is *not* applied when you use hello **Test** button tootest hello query.</span></span> <span data-ttu-id="b8bb3-131">Le résultat est une différence entre le test dans un navigateur et en cours d’exécution des travaux de hello en production.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-131">This result is one difference between testing in-browser versus running hello job in production.</span></span>

7.  <span data-ttu-id="b8bb3-132">Déboguez la requête à l’aide de métriques :</span><span class="sxs-lookup"><span data-stu-id="b8bb3-132">Debug by using metrics:</span></span>
    - <span data-ttu-id="b8bb3-133">Si vous ne disposez d’aucune sortie après que hello attendu (basée sur la requête de hello) de durée, essayez suivante de hello :</span><span class="sxs-lookup"><span data-stu-id="b8bb3-133">If you obtain no output after hello expected duration (based on hello query), try hello following:</span></span>
        - <span data-ttu-id="b8bb3-134">Examinez [ **mesures de surveillance** ](stream-analytics-monitoring.md) sur hello **moniteur** onglet. Étant donné que les valeurs hello sont agrégées, les métriques de hello sont retardés en quelques minutes.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-134">Look at [**Monitoring Metrics**](stream-analytics-monitoring.md) on hello **Monitor** tab. Because hello values are aggregated, hello metrics are delayed by a few minutes.</span></span>
            - <span data-ttu-id="b8bb3-135">Si les événements d’entrée > 0, la tâche de hello est en mesure de tooread des données d’entrée.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-135">If Input Events > 0, hello job is able tooread input data.</span></span> <span data-ttu-id="b8bb3-136">Si le nombre d’événements d’entrée est nul, alors :</span><span class="sxs-lookup"><span data-stu-id="b8bb3-136">If Input Events is not > 0, then:</span></span>
                - <span data-ttu-id="b8bb3-137">toosee si la source de données hello comporte des données valides, intégrez-le à l’aide de [Explorateur Service Bus](https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a).</span><span class="sxs-lookup"><span data-stu-id="b8bb3-137">toosee whether hello data source has valid data, check it by using [Service Bus Explorer](https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a).</span></span> <span data-ttu-id="b8bb3-138">Cette vérification s’applique si le travail de hello est à l’aide de concentrateur d’événements en tant qu’entrée.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-138">This check applies if hello job is using Event Hub as input.</span></span>
                - <span data-ttu-id="b8bb3-139">Vérifiez toosee si le format de sérialisation des données hello et codage de données sont normalement.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-139">Check toosee whether hello data serialization format and data encoding are as expected.</span></span>
                - <span data-ttu-id="b8bb3-140">Si le travail de hello est à l’aide d’un concentrateur d’événements, vérifiez toosee si le corps de message de type hello hello est *Null*.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-140">If hello job is using an Event Hub, check toosee whether hello body of hello message is *Null*.</span></span>
            - <span data-ttu-id="b8bb3-141">Si des erreurs de Conversion de données > 0 et escalade, suivant de hello peut être vrai :</span><span class="sxs-lookup"><span data-stu-id="b8bb3-141">If Data Conversion Errors > 0 and climbing, hello following might be true:</span></span>
                - <span data-ttu-id="b8bb3-142">travail de Hello peut ne pas être en mesure de toode-sérialiser les événements hello.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-142">hello job might not be able toode-serialize hello events.</span></span>
                - <span data-ttu-id="b8bb3-143">Hello schéma d’événement peut ne pas correspondre au hello défini ou schéma attendu d’événements hello dans la requête de hello.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-143">hello event schema might not match hello defined or expected schema of hello events in hello query.</span></span>
                - <span data-ttu-id="b8bb3-144">Hello des types de données de certains champs hello dans les événements hello ne peut pas correspondre aux attentes.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-144">hello datatypes of some of hello fields in hello event might not match expectations.</span></span>
            - <span data-ttu-id="b8bb3-145">Si des erreurs d’exécution > 0, cela signifie que le travail hello peut recevoir des données de hello mais génère des erreurs lors du traitement de requête de hello.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-145">If Runtime Errors > 0, it means that hello job can receive hello data but is generating errors while processing hello query.</span></span>
                - <span data-ttu-id="b8bb3-146">erreurs de hello toofind, accédez toohello [les journaux d’Audit](../azure-resource-manager/resource-group-audit.md) et filtrer sur *n’a pas pu* état.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-146">toofind hello errors, go toohello [Audit Logs](../azure-resource-manager/resource-group-audit.md) and filter on *Failed* status.</span></span>
            - <span data-ttu-id="b8bb3-147">Si InputEvents > 0 et OutputEvents = 0, cela signifie que hello suivantes est vraie :</span><span class="sxs-lookup"><span data-stu-id="b8bb3-147">If InputEvents > 0 and OutputEvents = 0, it means that one of hello following is true:</span></span>
                - <span data-ttu-id="b8bb3-148">Le traitement de la requête a abouti à un nombre nul d’événements de sortie.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-148">Query processing resulted in zero output events.</span></span>
                - <span data-ttu-id="b8bb3-149">Les événements ou leurs champs peuvent être formés de manière inappropriée et n’entraîner aucune sortie après le traitement des requêtes.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-149">Events or its fields might be malformed, resulting in zero output after query processing.</span></span>
                - <span data-ttu-id="b8bb3-150">tâche de Hello était impossible toopush données toohello [récepteur de sortie](stream-analytics-select-into.md) pour des raisons de connectivité ou d’authentification.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-150">hello job was unable toopush data toohello [output sink](stream-analytics-select-into.md) for connectivity or authentication reasons.</span></span>
        - <span data-ttu-id="b8bb3-151">Dans tous les hello mentionné précédemment cas d’erreur, les opérations des messages de journal décrivent d’autres aspects (y compris ce qui se passe), sauf dans les cas où la logique de requête hello filtrée tous les événements.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-151">In all hello previously mentioned error cases, operations log messages explain additional details (including what is happening), except in cases where hello query logic filtered out all events.</span></span> <span data-ttu-id="b8bb3-152">Si le traitement de plusieurs événements hello génère des erreurs, Analytique de flux de journaux hello trois premiers messages d’erreur de hello même type dans les 10 minutes tooOperations se connecte.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-152">If hello processing of multiple events generates errors, Stream Analytics logs hello first three error messages of hello same type within 10 minutes tooOperations logs.</span></span> <span data-ttu-id="b8bb3-153">Il supprime ensuite toutes les autres erreurs identiques avec un message indiquant que les erreurs survenant trop rapidement sont supprimées.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-153">It then suppresses additional identical errors with a message that reads “Errors are happening too rapidly, these are being suppressed.”</span></span>

8. <span data-ttu-id="b8bb3-154">Débogage à l’aide des journaux de diagnostic et d’audit :</span><span class="sxs-lookup"><span data-stu-id="b8bb3-154">Debug by using audit and diagnostic logs:</span></span>
    - <span data-ttu-id="b8bb3-155">Utilisez [les journaux d’Audit](../azure-resource-manager/resource-group-audit.md)et les erreurs du filtre de tooidentify et de débogage.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-155">Use [Audit Logs](../azure-resource-manager/resource-group-audit.md), and filter tooidentify and debug errors.</span></span>
    - <span data-ttu-id="b8bb3-156">Utilisez [journaux de diagnostic de la tâche](stream-analytics-job-diagnostic-logs.md) tooidentify et débogage des erreurs.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-156">Use [job diagnostic logs](stream-analytics-job-diagnostic-logs.md) tooidentify and debug errors.</span></span>

9. <span data-ttu-id="b8bb3-157">Examinez les sorties hello :</span><span class="sxs-lookup"><span data-stu-id="b8bb3-157">Examine hello outputs:</span></span>
    - <span data-ttu-id="b8bb3-158">Lorsque le statut de la tâche hello est *en cours d’exécution*, selon la durée hello stipulée dans la requête de hello, vous pouvez voir la sortie de hello dans la source de données récepteur hello.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-158">When hello job status is *Running*, depending on hello duration that's stipulated in hello query, you can see hello output in hello sink data source.</span></span>
    - <span data-ttu-id="b8bb3-159">Si vous ne voyez pas les sorties qui vont type de sortie spécifique de tooa, rediriger les type de sortie tooan qui est moins complexe, par exemple un objet Blob Azure.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-159">If you cannot see outputs that are going tooa specific output type, redirect them tooan output type that is less complex, such as an Azure Blob.</span></span> <span data-ttu-id="b8bb3-160">À l’aide de l’Explorateur de stockage, vérifiez toosee si la sortie de hello peut être consulté.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-160">By using Storage Explorer, check toosee whether hello output can be seen.</span></span> <span data-ttu-id="b8bb3-161">En outre, vérifiez si des limites de limitation à la sortie de hello empêchent les données reçues.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-161">Additionally, verify whether throttling limits at hello output are preventing data from being received.</span></span>

10. <span data-ttu-id="b8bb3-162">Utilisez l’analyse de flux de données avec les métriques du diagramme de travail :</span><span class="sxs-lookup"><span data-stu-id="b8bb3-162">Use data-flow analysis with job diagram metrics:</span></span>
    - <span data-ttu-id="b8bb3-163">flux de données de la tooanalyze et identifier les problèmes, utilisez hello [diagramme de travail avec les mesures](stream-analytics-job-diagram-with-metrics.md).</span><span class="sxs-lookup"><span data-stu-id="b8bb3-163">tooanalyze data flow and identify issues, use hello [job diagram with metrics](stream-analytics-job-diagram-with-metrics.md).</span></span>

11. <span data-ttu-id="b8bb3-164">Créez une demande de support :</span><span class="sxs-lookup"><span data-stu-id="b8bb3-164">Open a support case:</span></span>
    - <span data-ttu-id="b8bb3-165">Enfin, si tout le reste échoue, ouvrez une demande de support Microsoft à l’aide de hello SubscriptionID qui contient votre travail.</span><span class="sxs-lookup"><span data-stu-id="b8bb3-165">Finally, if all else fails, open a Microsoft support case by using hello SubscriptionID that contains your job.</span></span>

## <a name="get-help"></a><span data-ttu-id="b8bb3-166">Obtenir de l’aide</span><span class="sxs-lookup"><span data-stu-id="b8bb3-166">Get help</span></span>

<span data-ttu-id="b8bb3-167">Pour obtenir une assistance, consultez le [forum Azure Stream Analytics](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics)</span><span class="sxs-lookup"><span data-stu-id="b8bb3-167">For further assistance, try our [Azure Stream Analytics forum](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span></span>

## <a name="next-steps"></a><span data-ttu-id="b8bb3-168">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="b8bb3-168">Next steps</span></span>

* [<span data-ttu-id="b8bb3-169">Introduction tooAzure Analytique de flux de données</span><span class="sxs-lookup"><span data-stu-id="b8bb3-169">Introduction tooAzure Stream Analytics</span></span>](stream-analytics-introduction.md)
* [<span data-ttu-id="b8bb3-170">Prise en main d’Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="b8bb3-170">Get started using Azure Stream Analytics</span></span>](stream-analytics-real-time-fraud-detection.md)
* [<span data-ttu-id="b8bb3-171">Mise à l'échelle des travaux Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="b8bb3-171">Scale Azure Stream Analytics jobs</span></span>](stream-analytics-scale-jobs.md)
* [<span data-ttu-id="b8bb3-172">Références sur le langage des requêtes d'Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="b8bb3-172">Azure Stream Analytics Query Language Reference</span></span>](https://msdn.microsoft.com/library/azure/dn834998.aspx)
* [<span data-ttu-id="b8bb3-173">Références sur l’API REST de gestion d’Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="b8bb3-173">Azure Stream Analytics Management REST API Reference</span></span>](https://msdn.microsoft.com/library/azure/dn835031.aspx)
