---
title: "Présentation Qu’est-ce qu’Azure Relay et pourquoi l’utiliser | Microsoft Docs"
description: "Présentation d’Azure Relay"
services: service-bus-relay
documentationcenter: .net
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 1e3e971d-2a24-4f96-a88a-ce3ea2b1a1cd
ms.service: service-bus-relay
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: get-started-article
ms.date: 08/23/2017
ms.author: sethm
ms.openlocfilehash: 77ee85db0bcc701514a1a98da9405a79d658d49d
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/29/2017
---
# <a name="what-is-azure-relay"></a><span data-ttu-id="90211-103">Qu’est-ce qu’Azure Relay ?</span><span class="sxs-lookup"><span data-stu-id="90211-103">What is Azure Relay?</span></span>

<span data-ttu-id="90211-104">Le service Azure Relay facilite les applications hybrides en offrant la possibilité d’exposer les services qui résident dans un réseau d’entreprise sur le cloud public en toute sécurité, sans avoir à ouvrir une connexion de pare-feu ni à exiger des modifications intrusives dans une infrastructure de réseau d’entreprise.</span><span class="sxs-lookup"><span data-stu-id="90211-104">The Azure Relay service facilitates hybrid applications by enabling you to securely expose services that reside within a corporate enterprise network to the public cloud, without having to open a firewall connection, or require intrusive changes to a corporate network infrastructure.</span></span> <span data-ttu-id="90211-105">Azure Relay prend en charge une grande variété de protocoles de transport et normes de services web.</span><span class="sxs-lookup"><span data-stu-id="90211-105">Relay supports a variety of different transport protocols and web services standards.</span></span>

<span data-ttu-id="90211-106">Le service de relais prend en charge le trafic unidirectionnel standard, le trafic de demande/réponse et le trafic d’homologue à homologue.</span><span class="sxs-lookup"><span data-stu-id="90211-106">The relay service supports traditional one-way, request/response, and peer-to-peer traffic.</span></span> <span data-ttu-id="90211-107">Il prend également en charge la distribution des événements sur Internet pour activer les scénarios de publication/abonnement et la communication par socket bidirectionnelle pour une efficacité accrue de point à point.</span><span class="sxs-lookup"><span data-stu-id="90211-107">It also supports event distribution at internet-scope to enable publish/subscribe scenarios and bi-directional socket communication for increased point-to-point efficiency.</span></span> 

<span data-ttu-id="90211-108">Dans le modèle de transfert de données par relais, un service local se connecte au service de relais via un port sortant et crée un socket bidirectionnel pour la communication liée à des adresses de rendez-vous spécifiques.</span><span class="sxs-lookup"><span data-stu-id="90211-108">In the relayed data transfer pattern, an on-premises service connects to the relay service through an outbound port and creates a bi-directional socket for communication tied to a particular rendezvous address.</span></span> <span data-ttu-id="90211-109">Le client peut ensuite communiquer avec le service local en envoyant le trafic vers le service de relais ciblant l’adresse de rendez-vous.</span><span class="sxs-lookup"><span data-stu-id="90211-109">The client can then communicate with the on-premises service by sending traffic to the relay service targeting the rendezvous address.</span></span> <span data-ttu-id="90211-110">Le service de relais « relaie » ensuite les données au service local via le socket bidirectionnel dédié à chaque client.</span><span class="sxs-lookup"><span data-stu-id="90211-110">The relay service then "relays" data to the on-premises service through a bi-directional socket dedicated to each client.</span></span> <span data-ttu-id="90211-111">Le client n’a pas besoin d’une connexion directe au service local ni de savoir où se trouve le service, et le service local n’a pas besoin d’ouvrir de ports entrants sur le pare-feu.</span><span class="sxs-lookup"><span data-stu-id="90211-111">The client does not need a direct connection to the on-premises service, it is not required to know where the service resides, and the on-premises service does not need any inbound ports open on the firewall.</span></span>

<span data-ttu-id="90211-112">Les principaux éléments de fonctionnalité d’Azure Relay sont la communication bidirectionnelle, non mise en mémoire tampon à travers les limites du réseau avec limitation de type TCP, la découverte de point de terminaison, l’état de la connectivité et la sécurité des points de terminaison superposés.</span><span class="sxs-lookup"><span data-stu-id="90211-112">The key capability elements provided by Relay are bi-directional, unbuffered communication across network boundaries with TCP-like throttling, endpoint discovery, connectivity status, and overlaid endpoint security.</span></span> <span data-ttu-id="90211-113">Les fonctionnalités d’Azure Relay diffèrent des technologies d’intégration au niveau du réseau telles que le réseau VPN, car le relais peut être limité à un point de terminaison d’application unique sur un ordinateur unique, alors que la technologie VPN est beaucoup plus intrusive, car elle repose sur la modification de l’environnement réseau.</span><span class="sxs-lookup"><span data-stu-id="90211-113">The relay capabilities differ from network-level integration technologies such as VPN, in that relay can be scoped to a single application endpoint on a single machine, while VPN technology is far more intrusive as it relies on altering the network environment.</span></span>

<span data-ttu-id="90211-114">Azure Relay comprend deux fonctionnalités :</span><span class="sxs-lookup"><span data-stu-id="90211-114">Azure Relay has two features:</span></span>

1. <span data-ttu-id="90211-115">[Connexions hybrides](#hybrid-connections) : utilise les sockets web standard ouverts permettant des scénarios multi-plateformes.</span><span class="sxs-lookup"><span data-stu-id="90211-115">[Hybrid Connections](#hybrid-connections) - Uses the open standard web sockets enabling multi-platform scenarios.</span></span>
2. <span data-ttu-id="90211-116">[Relais WCF](#wcf-relays) : utilise Windows Communication Foundation (WCF) pour activer les appels de procédure à distance.</span><span class="sxs-lookup"><span data-stu-id="90211-116">[WCF Relays](#wcf-relays) - Uses Windows Communication Foundation (WCF) to enable remote procedure calls.</span></span> <span data-ttu-id="90211-117">Le relais WCF est l’offre de relais héritée que de nombreux clients utilisent déjà avec leurs modèles de programmation WCF.</span><span class="sxs-lookup"><span data-stu-id="90211-117">WCF Relay is the legacy relay offering that many customers already use with their WCF programming models.</span></span>

<span data-ttu-id="90211-118">Les connexions hybrides et relais WCF permettent une connexion sécurisée aux actifs existants au sein d’un réseau d’entreprise.</span><span class="sxs-lookup"><span data-stu-id="90211-118">Hybrid Connections and WCF Relays both enable secure connection to assets that exist within a corporate enterprise network.</span></span> <span data-ttu-id="90211-119">L’utilisation de l’un par rapport à l’autre dépend de vos besoins particuliers, comme décrit dans le tableau suivant :</span><span class="sxs-lookup"><span data-stu-id="90211-119">Use of one over the other is dependent on your particular needs, as described in the following table:</span></span>

|  | <span data-ttu-id="90211-120">Relais WCF</span><span class="sxs-lookup"><span data-stu-id="90211-120">WCF Relay</span></span> | <span data-ttu-id="90211-121">les connexions hybrides</span><span class="sxs-lookup"><span data-stu-id="90211-121">Hybrid Connections</span></span> |
| --- |:---:|:---:|
| <span data-ttu-id="90211-122">**WCF**</span><span class="sxs-lookup"><span data-stu-id="90211-122">**WCF**</span></span> |<span data-ttu-id="90211-123">x</span><span class="sxs-lookup"><span data-stu-id="90211-123">x</span></span> | |
| <span data-ttu-id="90211-124">**.NET Core**</span><span class="sxs-lookup"><span data-stu-id="90211-124">**.NET Core**</span></span> | |<span data-ttu-id="90211-125">x</span><span class="sxs-lookup"><span data-stu-id="90211-125">x</span></span> |
| <span data-ttu-id="90211-126">**.NET Framework**</span><span class="sxs-lookup"><span data-stu-id="90211-126">**.NET Framework**</span></span> |<span data-ttu-id="90211-127">x</span><span class="sxs-lookup"><span data-stu-id="90211-127">x</span></span> |<span data-ttu-id="90211-128">x</span><span class="sxs-lookup"><span data-stu-id="90211-128">x</span></span> |
| <span data-ttu-id="90211-129">**JavaScript/NodeJS**</span><span class="sxs-lookup"><span data-stu-id="90211-129">**JavaScript/NodeJS**</span></span> | |<span data-ttu-id="90211-130">x</span><span class="sxs-lookup"><span data-stu-id="90211-130">x</span></span> |
| <span data-ttu-id="90211-131">**Protocole Open basé sur des normes**</span><span class="sxs-lookup"><span data-stu-id="90211-131">**Standards-Based Open Protocol**</span></span> | |<span data-ttu-id="90211-132">x</span><span class="sxs-lookup"><span data-stu-id="90211-132">x</span></span> |
| <span data-ttu-id="90211-133">**Plusieurs modèles de programmation RPC**</span><span class="sxs-lookup"><span data-stu-id="90211-133">**Multiple RPC Programming Models**</span></span> | |<span data-ttu-id="90211-134">x</span><span class="sxs-lookup"><span data-stu-id="90211-134">x</span></span> |

## <a name="hybrid-connections"></a><span data-ttu-id="90211-135">les connexions hybrides</span><span class="sxs-lookup"><span data-stu-id="90211-135">Hybrid Connections</span></span>

<span data-ttu-id="90211-136">La fonctionnalité de [connexions hybrides Azure Relay](relay-hybrid-connections-protocol.md) est une évolution de protocole ouvert sécurisé des fonctionnalités existantes du relais, qui peut être implémentée sur n’importe quelle plateforme et dans n’importe quel langage incluant une fonctionnalité WebSocket de base, ce qui comprend explicitement l’API WebSocket dans les navigateurs web courants.</span><span class="sxs-lookup"><span data-stu-id="90211-136">The [Azure Relay Hybrid Connections](relay-hybrid-connections-protocol.md) capability is a secure, open-protocol evolution of the existing Relay features that can be implemented on any platform and in any language that has a basic WebSocket capability, which explicitly includes the WebSocket API in common web browsers.</span></span> <span data-ttu-id="90211-137">Les connexions hybrides sont basées sur HTTP et WebSockets.</span><span class="sxs-lookup"><span data-stu-id="90211-137">Hybrid Connections is based on HTTP and WebSockets.</span></span>

### <a name="service-history"></a><span data-ttu-id="90211-138">Historique des services</span><span class="sxs-lookup"><span data-stu-id="90211-138">Service history</span></span>

<span data-ttu-id="90211-139">Les connexions hybrides remplacent l’ancienne fonctionnalité appelée « BizTalk Services » qui a été créée sur le relais WCF Azure Service Bus.</span><span class="sxs-lookup"><span data-stu-id="90211-139">Hybrid Connections supplants the former, similarly named "BizTalk Services" feature that was built on the Azure Service Bus WCF Relay.</span></span> <span data-ttu-id="90211-140">La nouvelle fonctionnalité de connexions hybrides vient compléter la fonction de relais WCF existante, et ces deux possibilités de service cohabitent dans le service Azure Relay.</span><span class="sxs-lookup"><span data-stu-id="90211-140">The new Hybrid Connections capability complements the existing WCF Relay feature and these two service capabilities exist side-by-side in the Azure Relay service.</span></span> <span data-ttu-id="90211-141">Elles partagent une passerelle commune, mais ont des implémentations différentes.</span><span class="sxs-lookup"><span data-stu-id="90211-141">They share a common gateway, but are otherwise different implementations.</span></span>

## <a name="wcf-relays"></a><span data-ttu-id="90211-142">Relais WCF</span><span class="sxs-lookup"><span data-stu-id="90211-142">WCF Relays</span></span>

<span data-ttu-id="90211-143">Le relais WCF fonctionne pour l’ensemble de .NET Framework (NETFX) et pour WCF.</span><span class="sxs-lookup"><span data-stu-id="90211-143">The WCF Relay works for the full .NET Framework (NETFX) and for WCF.</span></span> <span data-ttu-id="90211-144">Vous lancez la connexion entre votre service local et le service de relais à l’aide d’une suite de liaisons de « relais » WCF.</span><span class="sxs-lookup"><span data-stu-id="90211-144">You initiate the connection between your on-premises service and the relay service using a suite of WCF "relay" bindings.</span></span> <span data-ttu-id="90211-145">En coulisses, les liaisons de relais se mappent à de nouveaux éléments de liaison de transport destinés à créer des composants de canal WCF qui s'intègrent à Service Bus dans le cloud.</span><span class="sxs-lookup"><span data-stu-id="90211-145">Behind the scenes, the relay bindings map to new transport binding elements designed to create WCF channel components that integrate with Service Bus in the cloud.</span></span>

## <a name="architecture-processing-of-incoming-relay-requests"></a><span data-ttu-id="90211-146">Architecture : Traitement des requêtes de relais entrantes</span><span class="sxs-lookup"><span data-stu-id="90211-146">Architecture: Processing of incoming relay requests</span></span>
<span data-ttu-id="90211-147">Lorsqu’un client envoie une requête au service [Azure Relay](/azure/service-bus-relay/), Azure Load Balancer la transmet à l’un des nœuds de passerelle.</span><span class="sxs-lookup"><span data-stu-id="90211-147">When a client sends a request to the [Azure Relay](/azure/service-bus-relay/) service, the Azure load balancer routes it to any of the gateway nodes.</span></span> <span data-ttu-id="90211-148">Si la requête est une requête d'écoute, le nœud de passerelle crée un relais.</span><span class="sxs-lookup"><span data-stu-id="90211-148">If the request is a listening request, the gateway node creates a new relay.</span></span> <span data-ttu-id="90211-149">Si la requête est une requête de connexion à un relais spécifique, le nœud de passerelle transfère la requête de connexion au nœud de passerelle qui possède le relais.</span><span class="sxs-lookup"><span data-stu-id="90211-149">If the request is a connection request to a specific relay, the gateway node forwards the connection request to the gateway node that owns the relay.</span></span> <span data-ttu-id="90211-150">Le nœud de passerelle qui possède le relais envoie une requête de rendez-vous au client d'écoute, lui demandant de créer un canal temporaire au nœud de passerelle qui a reçu la requête de connexion.</span><span class="sxs-lookup"><span data-stu-id="90211-150">The gateway node that owns the relay sends a rendezvous request to the listening client, asking the listener to create a temporary channel to the gateway node that received the connection request.</span></span>

<span data-ttu-id="90211-151">Lorsque la connexion au relais est établie, les clients peuvent échanger des messages via le nœud de passerelle utilisé pour le rendez-vous.</span><span class="sxs-lookup"><span data-stu-id="90211-151">When the relay connection is established, the clients can exchange messages via the gateway node that is used for the rendezvous.</span></span>

![Traitement des requêtes WCF Relay entrantes](./media/relay-what-is-it/ic690645.png)

## <a name="next-steps"></a><span data-ttu-id="90211-153">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="90211-153">Next steps</span></span>

* [<span data-ttu-id="90211-154">FAQ sur Azure Relay</span><span class="sxs-lookup"><span data-stu-id="90211-154">Relay FAQ</span></span>](relay-faq.md)
* [<span data-ttu-id="90211-155">Créer un espace de noms</span><span class="sxs-lookup"><span data-stu-id="90211-155">Create a namespace</span></span>](relay-create-namespace-portal.md)
* [<span data-ttu-id="90211-156">Prise en main de .NET</span><span class="sxs-lookup"><span data-stu-id="90211-156">Get started with .NET</span></span>](relay-hybrid-connections-dotnet-get-started.md)
* [<span data-ttu-id="90211-157">Prise en main de Node</span><span class="sxs-lookup"><span data-stu-id="90211-157">Get started with Node</span></span>](relay-hybrid-connections-node-get-started.md)

