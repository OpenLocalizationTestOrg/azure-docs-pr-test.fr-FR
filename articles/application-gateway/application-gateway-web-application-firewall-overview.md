---
title: "pare-feu d’applications aaaIntroduction tooweb (WAF) pour la passerelle d’Application Azure | Documents Microsoft"
description: "Cette page fournit une vue d’ensemble du pare-feu d’applications web (WAF) pour la passerelle Application Gateway"
documentationcenter: na
services: application-gateway
author: amsriva
manager: rossort
editor: amsriva
ms.assetid: 04b362bc-6653-4765-86f6-55ee8ec2a0ff
ms.service: application-gateway
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/03/2017
ms.author: amsriva
ms.openlocfilehash: 5a42ce0fb2bd12a391844099e2de8fa2571195e6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="web-application-firewall-waf"></a><span data-ttu-id="c01a4-103">Pare-feu d’applications web (WAF)</span><span class="sxs-lookup"><span data-stu-id="c01a4-103">Web application firewall (WAF)</span></span>

<span data-ttu-id="c01a4-104">Le pare-feu d’applications Web (WAF) est une fonctionnalité de passerelle d’application qui protège vos applications web de manière centralisée contre les vulnérabilités et exploits courants.</span><span class="sxs-lookup"><span data-stu-id="c01a4-104">Web application firewall (WAF) is a feature of Application Gateway that provides centralized protection of your web applications from common exploits and vulnerabilities.</span></span> 

<span data-ttu-id="c01a4-105">Pare-feu d’applications Web est basé sur les règles de hello [OWASP avoir des ensembles de règles principales](https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project) 3.0 ou 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="c01a4-105">Web application firewall is based on rules from hello [OWASP core rule sets](https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project) 3.0 or 2.2.9.</span></span> <span data-ttu-id="c01a4-106">Les applications Web sont de plus en plus la cible d’attaques malveillantes qui exploitent des vulnérabilités connues.</span><span class="sxs-lookup"><span data-stu-id="c01a4-106">Web applications are increasingly targets of malicious attacks that exploit common known vulnerabilities.</span></span> <span data-ttu-id="c01a4-107">Communs à ces attaques sont des attaques par injection SQL, l’écriture de scripts entre sites attaques tooname quelques exemples.</span><span class="sxs-lookup"><span data-stu-id="c01a4-107">Common among these exploits are SQL injection attacks, cross site scripting attacks tooname a few.</span></span> <span data-ttu-id="c01a4-108">Prévention de telles attaques dans le code d’application peut être difficile et peut nécessiter rigoureuse maintenance, mise à jour corrective et la surveillance de plusieurs couches de la topologie de l’application hello.</span><span class="sxs-lookup"><span data-stu-id="c01a4-108">Preventing such attacks in application code can be challenging and may require rigorous maintenance, patching and monitoring at multiple layers of hello application topology.</span></span> <span data-ttu-id="c01a4-109">Un pare-feu d’applications web centralisé permet de simplifier la gestion de la sécurité et offre une meilleure assurance aux administrateurs de tooapplication contre les menaces ou les intrusions.</span><span class="sxs-lookup"><span data-stu-id="c01a4-109">A centralized web application firewall helps make security management much simpler and gives better assurance tooapplication administrators against threats or intrusions.</span></span> <span data-ttu-id="c01a4-110">Une solution WAF peut réagir également de menace pour la sécurité tooa plus rapide par la mise à jour corrective une vulnérabilité connue à un emplacement central par rapport à la sécurisation de chacune des applications web individuelles.</span><span class="sxs-lookup"><span data-stu-id="c01a4-110">A WAF solution can also react tooa security threat faster by patching a known vulnerability at a central location versus securing each of individual web applications.</span></span> <span data-ttu-id="c01a4-111">Les passerelles d’application existant peuvent être converti tooa web application pare-feu est activé application passerelle facilement.</span><span class="sxs-lookup"><span data-stu-id="c01a4-111">Existing application gateways can be converted tooa web application firewall enabled application gateway easily.</span></span>

![imageURLroute](./media/application-gateway-web-application-firewall-overview/WAF1.png)

<span data-ttu-id="c01a4-113">Passerelle d’application fonctionne comme une remise contrôleur et des offres SSL arrêt de l’application, d’affinité de session basée sur un cookie, distribution de la charge de tourniquet, le routage basé sur le contenu, capacité toohost plusieurs améliorations de sécurité et de sites Web.</span><span class="sxs-lookup"><span data-stu-id="c01a4-113">Application Gateway operates as an application delivery controller and offers SSL termination, cookie-based session affinity, round-robin load distribution, content-based routing, ability toohost multiple websites and security enhancements.</span></span> <span data-ttu-id="c01a4-114">Améliorations de la sécurité offertes par la passerelle d’Application incluent la gestion de stratégie SSL, tooend fin prennent en charge de SSL.</span><span class="sxs-lookup"><span data-stu-id="c01a4-114">Security enhancements offered by Application Gateway include SSL policy management, end tooend SSL support.</span></span> <span data-ttu-id="c01a4-115">Sécurité de l’application est désormais fournie par WAF (pare-feu d’applications web) offre de hello ADC intégré directement.</span><span class="sxs-lookup"><span data-stu-id="c01a4-115">Application security is now strengthened by WAF (web application firewall) being directly integrated into hello ADC offering.</span></span> <span data-ttu-id="c01a4-116">Cela fournit un toomanage d’emplacement central tooconfigure facile et protéger vos applications web contre les vulnérabilités de web courantes.</span><span class="sxs-lookup"><span data-stu-id="c01a4-116">This provides an easy tooconfigure central location toomanage and protect your web applications against common web vulnerabilities.</span></span>

## <a name="benefits"></a><span data-ttu-id="c01a4-117">Avantages</span><span class="sxs-lookup"><span data-stu-id="c01a4-117">Benefits</span></span>

<span data-ttu-id="c01a4-118">Hello Voici les principaux avantages hello qui fournissent des pare-feu d’applications web et de la passerelle d’Application :</span><span class="sxs-lookup"><span data-stu-id="c01a4-118">hello following are hello core benefits that Application Gateway and web application firewall provide:</span></span>

### <a name="protection"></a><span data-ttu-id="c01a4-119">Protection</span><span class="sxs-lookup"><span data-stu-id="c01a4-119">Protection</span></span>

* <span data-ttu-id="c01a4-120">Protéger votre application web contre les vulnérabilités de web et sans code toobackend de modification.</span><span class="sxs-lookup"><span data-stu-id="c01a4-120">Protect your web application from web vulnerabilities and attacks without modification toobackend code.</span></span>

* <span data-ttu-id="c01a4-121">Protéger web plusieurs applications à hello même moment derrière une passerelle d’application.</span><span class="sxs-lookup"><span data-stu-id="c01a4-121">Protect multiple web applications at hello same time behind an application gateway.</span></span> <span data-ttu-id="c01a4-122">Passerelle d’application prend en charge l’hébergement des sites Web de too20 derrière une passerelle unique qui pourrait être protégée contre les attaques de web avec WAF.</span><span class="sxs-lookup"><span data-stu-id="c01a4-122">Application gateway supports hosting up too20 websites behind a single gateway that could all be protected against web attacks with WAF.</span></span>

### <a name="monitoring"></a><span data-ttu-id="c01a4-123">Surveillance</span><span class="sxs-lookup"><span data-stu-id="c01a4-123">Monitoring</span></span>

* <span data-ttu-id="c01a4-124">Analysez les attaques contre votre application web à l’aide d’un journal WAF en temps réel.</span><span class="sxs-lookup"><span data-stu-id="c01a4-124">Monitor your web application against attacks using a real-time WAF log.</span></span> <span data-ttu-id="c01a4-125">Ce journal est intégré à [moniteur Azure](../monitoring-and-diagnostics/monitoring-overview.md) tootrack WAF alertes et se connecte et analyser facilement les tendances.</span><span class="sxs-lookup"><span data-stu-id="c01a4-125">This log is integrated with [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md) tootrack WAF alerts and logs and easily monitor trends.</span></span>

* <span data-ttu-id="c01a4-126">WAF sera bientôt intégré à Azure Security Center.</span><span class="sxs-lookup"><span data-stu-id="c01a4-126">WAF will be integrated with Azure Security Center soon.</span></span> <span data-ttu-id="c01a4-127">Centre de sécurité Azure permet une vue centralisée de l’état de sécurité hello de toutes vos ressources Azure.</span><span class="sxs-lookup"><span data-stu-id="c01a4-127">Azure Security Center allows for a central view of hello security state of all your Azure resources.</span></span>

### <a name="customization"></a><span data-ttu-id="c01a4-128">Personnalisation</span><span class="sxs-lookup"><span data-stu-id="c01a4-128">Customization</span></span>

* <span data-ttu-id="c01a4-129">Hello capacité toocustomize WAF règles et règle regroupe les spécifications de votre application toosuit et éliminer les faux positifs.</span><span class="sxs-lookup"><span data-stu-id="c01a4-129">hello ability toocustomize WAF rules and rule groups toosuit your application requirements and eliminate false positives.</span></span>

## <a name="features"></a><span data-ttu-id="c01a4-130">Caractéristiques</span><span class="sxs-lookup"><span data-stu-id="c01a4-130">Features</span></span>

<span data-ttu-id="c01a4-131">Pare-feu d’applications Web est préconfiguré avec CRS 3.0 par défaut, ou vous pouvez choisir toouse 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="c01a4-131">Web application firewall comes preconfigured with CRS 3.0 by default or you can choose toouse 2.2.9.</span></span> <span data-ttu-id="c01a4-132">CRS 3.0 permet une réduction des faux positifs au-delà de la version 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="c01a4-132">CRS 3.0 offers reduced false positives over 2.2.9.</span></span> <span data-ttu-id="c01a4-133">Hello capacité trop[personnaliser les règles toosuit vos besoins](application-gateway-customize-waf-rules-portal.md) est fourni.</span><span class="sxs-lookup"><span data-stu-id="c01a4-133">hello ability too[customize rules toosuit your needs](application-gateway-customize-waf-rules-portal.md) is provided.</span></span> <span data-ttu-id="c01a4-134">Parmi le pare-feu d’applications web protège contre les vulnérabilités web courantes hello inclut :</span><span class="sxs-lookup"><span data-stu-id="c01a4-134">Some of hello common web vulnerabilities which web application firewall protects against includes:</span></span>

* <span data-ttu-id="c01a4-135">Protection contre les injections de code SQL</span><span class="sxs-lookup"><span data-stu-id="c01a4-135">SQL injection protection</span></span>
* <span data-ttu-id="c01a4-136">Protection de l’exécution de script de site à site</span><span class="sxs-lookup"><span data-stu-id="c01a4-136">Cross site scripting protection</span></span>
* <span data-ttu-id="c01a4-137">Protection contre les attaques web courante comme l’injection de commande, les dissimulations de requêtes HTTP, la séparation de réponse HTTP et les attaques RFI (Remote File Inclusion)</span><span class="sxs-lookup"><span data-stu-id="c01a4-137">Common Web Attacks Protection such as command injection, HTTP request smuggling, HTTP response splitting, and remote file inclusion attack</span></span>
* <span data-ttu-id="c01a4-138">Protection contre les violations de protocole HTTP</span><span class="sxs-lookup"><span data-stu-id="c01a4-138">Protection against HTTP protocol violations</span></span>
* <span data-ttu-id="c01a4-139">Protection contre les anomalies de protocole HTTP comme un agent-utilisateur hôte manquant et les en-têtes Accept</span><span class="sxs-lookup"><span data-stu-id="c01a4-139">Protection against HTTP protocol anomalies such as missing host user-agent and accept headers</span></span>
* <span data-ttu-id="c01a4-140">Protection contre les robots, les crawlers et les scanneurs</span><span class="sxs-lookup"><span data-stu-id="c01a4-140">Prevention against bots, crawlers, and scanners</span></span>
* <span data-ttu-id="c01a4-141">Détection des erreurs de configuration d’application courantes (par exemple, Apache, IIS, etc.)</span><span class="sxs-lookup"><span data-stu-id="c01a4-141">Detection of common application misconfigurations (i.e. Apache, IIS, etc.)</span></span>

<span data-ttu-id="c01a4-142">Pour une liste plus détaillée des règles et les protections Voir hello [ensembles de règles de base](#core-rule-sets).</span><span class="sxs-lookup"><span data-stu-id="c01a4-142">For a more detailed list of rules and their protections see hello following [Core rule sets](#core-rule-sets).</span></span>

### <a name="core-rule-sets"></a><span data-ttu-id="c01a4-143">Ensembles de règles de base</span><span class="sxs-lookup"><span data-stu-id="c01a4-143">Core rule sets</span></span>

<span data-ttu-id="c01a4-144">Application Gateway prend en charge les ensembles de règles CRS 3.0 et CRS 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="c01a4-144">Application Gateway supports two rule sets, CRS 3.0, and CRS 2.2.9.</span></span> <span data-ttu-id="c01a4-145">Ces ensembles de règles de base sont des ensembles de règles qui protègent vos applications web des activités malveillantes.</span><span class="sxs-lookup"><span data-stu-id="c01a4-145">These core rules sets are collections of rules that protect your web applications for malicious activity.</span></span>

#### <a name="owasp30"></a><span data-ttu-id="c01a4-146">OWASP_3.0</span><span class="sxs-lookup"><span data-stu-id="c01a4-146">OWASP_3.0</span></span>

<span data-ttu-id="c01a4-147">ensemble de règles Hello 3.0 core fourni comporte des groupes de règles 13 comme illustré dans hello tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="c01a4-147">hello 3.0 core rule set provided has 13 rule groups as shown in hello following table.</span></span> <span data-ttu-id="c01a4-148">Chacun de ces groupes de règles contient plusieurs règles, qui peuvent être désactivées.</span><span class="sxs-lookup"><span data-stu-id="c01a4-148">Each of these rule groups contains multiple rules, which can be disabled.</span></span>

|<span data-ttu-id="c01a4-149">RuleGroup</span><span class="sxs-lookup"><span data-stu-id="c01a4-149">RuleGroup</span></span>|<span data-ttu-id="c01a4-150">Description</span><span class="sxs-lookup"><span data-stu-id="c01a4-150">Description</span></span>|
|---|---|
|<span data-ttu-id="c01a4-151">**[REQUEST-910-IP-REPUTATION](application-gateway-crs-rulegroups-rules.md#crs910)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-151">**[REQUEST-910-IP-REPUTATION](application-gateway-crs-rulegroups-rules.md#crs910)**</span></span>|<span data-ttu-id="c01a4-152">Contient des tooprotect de règles par rapport aux expéditeurs connus ou des activités malveillantes.</span><span class="sxs-lookup"><span data-stu-id="c01a4-152">Contains rules tooprotect against known spammers or malicious activity.</span></span>|
|<span data-ttu-id="c01a4-153">**[REQUEST-911-METHOD-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs911)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-153">**[REQUEST-911-METHOD-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs911)**</span></span>|<span data-ttu-id="c01a4-154">Contient des toolock règles méthodes (PUT, PATCH <..)</span><span class="sxs-lookup"><span data-stu-id="c01a4-154">Contains rules toolock down methods (PUT, PATCH< ..)</span></span>|
|<span data-ttu-id="c01a4-155">**[REQUEST-912-DOS-PROTECTION](application-gateway-crs-rulegroups-rules.md#crs912)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-155">**[REQUEST-912-DOS-PROTECTION](application-gateway-crs-rulegroups-rules.md#crs912)**</span></span>| <span data-ttu-id="c01a4-156">Contient les règles des tooprotect contre les attaques par déni de Service (DoS).</span><span class="sxs-lookup"><span data-stu-id="c01a4-156">Contains rules tooprotect against Denial of Service (DoS) attacks.</span></span>|
|<span data-ttu-id="c01a4-157">**[REQUEST-913-SCANNER-DETECTION](application-gateway-crs-rulegroups-rules.md#crs913)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-157">**[REQUEST-913-SCANNER-DETECTION](application-gateway-crs-rulegroups-rules.md#crs913)**</span></span>| <span data-ttu-id="c01a4-158">Contient des tooprotect de règles par rapport à des analyseurs de port et l’environnement.</span><span class="sxs-lookup"><span data-stu-id="c01a4-158">Contains rules tooprotect against port and environment scanners.</span></span>|
|<span data-ttu-id="c01a4-159">**[REQUEST-920-PROTOCOL-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs920)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-159">**[REQUEST-920-PROTOCOL-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs920)**</span></span>|<span data-ttu-id="c01a4-160">Contient tooprotect règles contre le protocole et les problèmes de codage.</span><span class="sxs-lookup"><span data-stu-id="c01a4-160">Contains rules tooprotect against protocol and encoding issues.</span></span>|
|<span data-ttu-id="c01a4-161">**[REQUEST-921-PROTOCOL-ATTACK](application-gateway-crs-rulegroups-rules.md#crs921)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-161">**[REQUEST-921-PROTOCOL-ATTACK](application-gateway-crs-rulegroups-rules.md#crs921)**</span></span>|<span data-ttu-id="c01a4-162">Contient des tooprotect de règles par rapport à l’injection de l’en-tête, demande de piratage et fractionnement de réponse</span><span class="sxs-lookup"><span data-stu-id="c01a4-162">Contains rules tooprotect against header injection, request smuggling, and response splitting</span></span>|
|<span data-ttu-id="c01a4-163">**[REQUEST-930-APPLICATION-ATTACK-LFI](application-gateway-crs-rulegroups-rules.md#crs930)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-163">**[REQUEST-930-APPLICATION-ATTACK-LFI](application-gateway-crs-rulegroups-rules.md#crs930)**</span></span>|<span data-ttu-id="c01a4-164">Contient tooprotect règles contre les attaques de fichier et chemin d’accès.</span><span class="sxs-lookup"><span data-stu-id="c01a4-164">Contains rules tooprotect against file and path attacks.</span></span>|
|<span data-ttu-id="c01a4-165">**[REQUEST-931-APPLICATION-ATTACK-RFI](application-gateway-crs-rulegroups-rules.md#crs931)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-165">**[REQUEST-931-APPLICATION-ATTACK-RFI](application-gateway-crs-rulegroups-rules.md#crs931)**</span></span>|<span data-ttu-id="c01a4-166">Contient des règles tooprotect contre d’Inclusion de fichier distant (RFI)</span><span class="sxs-lookup"><span data-stu-id="c01a4-166">Contains rules tooprotect against Remote File Inclusion (RFI)</span></span>|
|<span data-ttu-id="c01a4-167">**[REQUEST-932-APPLICATION-ATTACK-RCE](application-gateway-crs-rulegroups-rules.md#crs932)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-167">**[REQUEST-932-APPLICATION-ATTACK-RCE](application-gateway-crs-rulegroups-rules.md#crs932)**</span></span>|<span data-ttu-id="c01a4-168">Contient des règles tooprotect à nouveau l’exécution de Code.</span><span class="sxs-lookup"><span data-stu-id="c01a4-168">Contains rules tooprotect again Remote Code Execution.</span></span>|
|<span data-ttu-id="c01a4-169">**[REQUEST-933-APPLICATION-ATTACK-PHP](application-gateway-crs-rulegroups-rules.md#crs933)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-169">**[REQUEST-933-APPLICATION-ATTACK-PHP](application-gateway-crs-rulegroups-rules.md#crs933)**</span></span>|<span data-ttu-id="c01a4-170">Contient tooprotect règles contre les attaques par injection de PHP.</span><span class="sxs-lookup"><span data-stu-id="c01a4-170">Contains rules tooprotect against PHP injection attacks.</span></span>|
|<span data-ttu-id="c01a4-171">**[REQUEST-941-APPLICATION-ATTACK-XSS](application-gateway-crs-rulegroups-rules.md#crs941)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-171">**[REQUEST-941-APPLICATION-ATTACK-XSS](application-gateway-crs-rulegroups-rules.md#crs941)**</span></span>|<span data-ttu-id="c01a4-172">Contient des règles de protection de l’exécution de script de site à site.</span><span class="sxs-lookup"><span data-stu-id="c01a4-172">Contains rules for protecting against cross site scripting.</span></span>|
|<span data-ttu-id="c01a4-173">**[REQUEST-942-APPLICATION-ATTACK-SQLI](application-gateway-crs-rulegroups-rules.md#crs942)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-173">**[REQUEST-942-APPLICATION-ATTACK-SQLI](application-gateway-crs-rulegroups-rules.md#crs942)**</span></span>|<span data-ttu-id="c01a4-174">Contient des règles de protection contre les attaques par injection de code SQL.</span><span class="sxs-lookup"><span data-stu-id="c01a4-174">Contains rules for protecting against SQL injection attacks.</span></span>|
|<span data-ttu-id="c01a4-175">**[REQUEST-943-APPLICATION-ATTACK-SESSION-FIXATION](application-gateway-crs-rulegroups-rules.md#crs943)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-175">**[REQUEST-943-APPLICATION-ATTACK-SESSION-FIXATION](application-gateway-crs-rulegroups-rules.md#crs943)**</span></span>|<span data-ttu-id="c01a4-176">Contient tooprotect règles contre les attaques de Fixation de Session.</span><span class="sxs-lookup"><span data-stu-id="c01a4-176">Contains rules tooprotect against Session Fixation Attacks.</span></span>|

#### <a name="owasp229"></a><span data-ttu-id="c01a4-177">OWASP_2.2.9</span><span class="sxs-lookup"><span data-stu-id="c01a4-177">OWASP_2.2.9</span></span>

<span data-ttu-id="c01a4-178">ensemble de règles de base Hello 2.2.9 fourni comporte 10 groupes de règles comme illustré dans hello tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="c01a4-178">hello 2.2.9 core rule set provided has 10 rule groups as shown in hello following table.</span></span> <span data-ttu-id="c01a4-179">Chacun de ces groupes de règles contient plusieurs règles, qui peuvent être désactivées.</span><span class="sxs-lookup"><span data-stu-id="c01a4-179">Each of these rule groups contains multiple rules, which can be disabled.</span></span>

|<span data-ttu-id="c01a4-180">RuleGroup</span><span class="sxs-lookup"><span data-stu-id="c01a4-180">RuleGroup</span></span>|<span data-ttu-id="c01a4-181">Description</span><span class="sxs-lookup"><span data-stu-id="c01a4-181">Description</span></span>|
|---|---|
|<span data-ttu-id="c01a4-182">**[crs_20_protocol_violations](application-gateway-crs-rulegroups-rules.md#crs20)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-182">**[crs_20_protocol_violations](application-gateway-crs-rulegroups-rules.md#crs20)**</span></span>|<span data-ttu-id="c01a4-183">Contient les règles des tooprotect contre les violations de protocole (caractères non valides, GET avec un corps de la demande, un etc..)</span><span class="sxs-lookup"><span data-stu-id="c01a4-183">Contains rules tooprotect against protocol violations (invalid characters, GET with a request body, etc.)</span></span>|
|<span data-ttu-id="c01a4-184">**[crs_21_protocol_anomalies](application-gateway-crs-rulegroups-rules.md#crs21)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-184">**[crs_21_protocol_anomalies](application-gateway-crs-rulegroups-rules.md#crs21)**</span></span>|<span data-ttu-id="c01a4-185">Contient des tooprotect de règles par rapport aux informations d’en-tête incorrect.</span><span class="sxs-lookup"><span data-stu-id="c01a4-185">Contains rules tooprotect against incorrect header information.</span></span>|
|<span data-ttu-id="c01a4-186">**[crs_23_request_limits](application-gateway-crs-rulegroups-rules.md#crs23)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-186">**[crs_23_request_limits](application-gateway-crs-rulegroups-rules.md#crs23)**</span></span>|<span data-ttu-id="c01a4-187">Contient des tooprotect de règles par rapport à des arguments ou des fichiers qui dépassent les limites.</span><span class="sxs-lookup"><span data-stu-id="c01a4-187">Contains rules tooprotect against arguments or files that exceed limitations.</span></span>|
|<span data-ttu-id="c01a4-188">**[crs_30_http_policy](application-gateway-crs-rulegroups-rules.md#crs30)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-188">**[crs_30_http_policy](application-gateway-crs-rulegroups-rules.md#crs30)**</span></span>|<span data-ttu-id="c01a4-189">Contient des tooprotect de règles par rapport aux méthodes restreintes, les en-têtes et les types de fichiers.</span><span class="sxs-lookup"><span data-stu-id="c01a4-189">Contains rules tooprotect against restricted methods, headers, and file types.</span></span> |
|<span data-ttu-id="c01a4-190">**[crs_35_bad_robots](application-gateway-crs-rulegroups-rules.md#crs35)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-190">**[crs_35_bad_robots](application-gateway-crs-rulegroups-rules.md#crs35)**</span></span>|<span data-ttu-id="c01a4-191">Contient des tooprotect de règles par rapport à des robots et des scanneurs.</span><span class="sxs-lookup"><span data-stu-id="c01a4-191">Contains rules tooprotect against web crawlers and scanners.</span></span>|
|<span data-ttu-id="c01a4-192">**[crs_40_generic_attacks](application-gateway-crs-rulegroups-rules.md#crs40)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-192">**[crs_40_generic_attacks](application-gateway-crs-rulegroups-rules.md#crs40)**</span></span>|<span data-ttu-id="c01a4-193">Contient les règles des tooprotect contre les attaques de génériques (fixation de session, d’inclusion de fichiers distant, injection de PHP, etc.)</span><span class="sxs-lookup"><span data-stu-id="c01a4-193">Contains rules tooprotect against generic attacks (session fixation, remote file inclusion, PHP injection, etc.)</span></span>|
|<span data-ttu-id="c01a4-194">**[crs_41_sql_injection_attacks](application-gateway-crs-rulegroups-rules.md#crs41sql)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-194">**[crs_41_sql_injection_attacks](application-gateway-crs-rulegroups-rules.md#crs41sql)**</span></span>|<span data-ttu-id="c01a4-195">Contient les règles des tooprotect contre les attaques par injection SQL</span><span class="sxs-lookup"><span data-stu-id="c01a4-195">Contains rules tooprotect against SQL injection attacks</span></span>|
|<span data-ttu-id="c01a4-196">**[crs_41_xss_attacks](application-gateway-crs-rulegroups-rules.md#crs41xss)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-196">**[crs_41_xss_attacks](application-gateway-crs-rulegroups-rules.md#crs41xss)**</span></span>|<span data-ttu-id="c01a4-197">Contient tooprotect règles contre cross-site scripting.</span><span class="sxs-lookup"><span data-stu-id="c01a4-197">Contains rules tooprotect against cross site scripting.</span></span>|
|<span data-ttu-id="c01a4-198">**[crs_42_tight_security](application-gateway-crs-rulegroups-rules.md#crs42)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-198">**[crs_42_tight_security](application-gateway-crs-rulegroups-rules.md#crs42)**</span></span>|<span data-ttu-id="c01a4-199">Contient un tooprotect règle contre les attaques de parcours d’un chemin d’accès</span><span class="sxs-lookup"><span data-stu-id="c01a4-199">Contains a rule tooprotect against path traversal attacks</span></span>|
|<span data-ttu-id="c01a4-200">**[crs_45_trojans](application-gateway-crs-rulegroups-rules.md#crs45)**</span><span class="sxs-lookup"><span data-stu-id="c01a4-200">**[crs_45_trojans](application-gateway-crs-rulegroups-rules.md#crs45)**</span></span>|<span data-ttu-id="c01a4-201">Contient des tooprotect de règles par rapport aux chevaux de Troie de porte dérobée.</span><span class="sxs-lookup"><span data-stu-id="c01a4-201">Contains rules tooprotect against backdoor Trojans.</span></span>|

### <a name="waf-modes"></a><span data-ttu-id="c01a4-202">Modes WAF</span><span class="sxs-lookup"><span data-stu-id="c01a4-202">WAF Modes</span></span>

<span data-ttu-id="c01a4-203">WAF de passerelle d’application peut être configurée toorun Bonjour suivant deux modes :</span><span class="sxs-lookup"><span data-stu-id="c01a4-203">Application Gateway WAF can be configured toorun in hello following two modes:</span></span>

* <span data-ttu-id="c01a4-204">**Mode de détection** : lorsque toorun configuré en mode de détection, Application passerelle WAF surveille et enregistre toutes les alertes de menaces dans le fichier de journal tooa.</span><span class="sxs-lookup"><span data-stu-id="c01a4-204">**Detection mode** – When configured toorun in detection mode, Application Gateway WAF monitors and logs all threat alerts in tooa log file.</span></span> <span data-ttu-id="c01a4-205">Journalisation des diagnostics pour la passerelle d’Application ne doit être activées à l’aide de hello **Diagnostics** section.</span><span class="sxs-lookup"><span data-stu-id="c01a4-205">Logging diagnostics for Application Gateway should be turned on using hello **Diagnostics** section.</span></span> <span data-ttu-id="c01a4-206">Vous devez également tooensure qui hello WAF journal est sélectionné et activé.</span><span class="sxs-lookup"><span data-stu-id="c01a4-206">You also need tooensure that hello WAF log is selected and turned on.</span></span> <span data-ttu-id="c01a4-207">Le pare-feu d’applications web exécuté en mode de détection ne bloque pas les requêtes entrantes.</span><span class="sxs-lookup"><span data-stu-id="c01a4-207">When running in detection mode web application firewall does not block incoming requests.</span></span>
* <span data-ttu-id="c01a4-208">**Mode de prévention** – lorsque toorun configuré en mode de prévention, Application Gateway bloque activement les intrusions et les attaques détectées par les règles.</span><span class="sxs-lookup"><span data-stu-id="c01a4-208">**Prevention mode** – When configured toorun in prevention mode, Application Gateway actively blocks intrusions and attacks detected by its rules.</span></span> <span data-ttu-id="c01a4-209">les intrus Hello reçoit une exception d’accès non autorisé 403 et hello connexion est interrompue.</span><span class="sxs-lookup"><span data-stu-id="c01a4-209">hello attacker receives a 403 unauthorized access exception and hello connection is terminated.</span></span> <span data-ttu-id="c01a4-210">Mode de prévention continue toolog ces attaques dans les journaux hello WAF.</span><span class="sxs-lookup"><span data-stu-id="c01a4-210">Prevention mode continues toolog such attacks in hello WAF logs.</span></span>

### <span data-ttu-id="c01a4-211"><a name="application-gateway-waf-reports"></a>Surveillance du pare-feu d’applications web</span><span class="sxs-lookup"><span data-stu-id="c01a4-211"><a name="application-gateway-waf-reports"></a>WAF Monitoring</span></span>

<span data-ttu-id="c01a4-212">Il est important de surveiller la santé de votre passerelle d’application hello.</span><span class="sxs-lookup"><span data-stu-id="c01a4-212">Monitoring hello health of your application gateway is important.</span></span> <span data-ttu-id="c01a4-213">Surveillance de l’intégrité de hello de vos applications d’application web du pare-feu et hello qu’il protège sont fournis par la journalisation et l’intégration avec le moniteur de Windows Azure, Azure Security Center (prochainement) et Analytique de journal.</span><span class="sxs-lookup"><span data-stu-id="c01a4-213">Monitoring hello health of your web application firewall and hello applications that it protects are provided through logging and integration with Azure Monitor, Azure Security Center (coming soon), and Log Analytics.</span></span>

![diagnostics](./media/application-gateway-web-application-firewall-overview/diagnostics.png)

#### <a name="azure-monitor"></a><span data-ttu-id="c01a4-215">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="c01a4-215">Azure Monitor</span></span>

<span data-ttu-id="c01a4-216">Chaque journal de passerelle d’application est intégré à [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c01a4-216">Each application gateway log is integrated with [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md).</span></span>  <span data-ttu-id="c01a4-217">Cela vous permet de tootrack des informations de diagnostic, y compris les journaux et alertes de WAF.</span><span class="sxs-lookup"><span data-stu-id="c01a4-217">This allows you tootrack diagnostic information including WAF alerts and logs.</span></span>  <span data-ttu-id="c01a4-218">Cette fonctionnalité est fournie dans hello ressource passerelle d’Application de portail hello sous hello **Diagnostics** onglet ou directement via hello Azure moniteur service.</span><span class="sxs-lookup"><span data-stu-id="c01a4-218">This capability is provided within hello Application Gateway resource in hello portal under hello **Diagnostics** tab or through hello Azure Monitor service directly.</span></span> <span data-ttu-id="c01a4-219">toolearn plus d’informations sur l’activation des journaux de diagnostic pour la passerelle d’application visitez [diagnostics de la passerelle d’Application](application-gateway-diagnostics.md)</span><span class="sxs-lookup"><span data-stu-id="c01a4-219">toolearn more about enabling diagnostic logs for application gateway visit [Application Gateway diagnostics](application-gateway-diagnostics.md)</span></span>

#### <a name="azure-security-center"></a><span data-ttu-id="c01a4-220">Azure Security Center</span><span class="sxs-lookup"><span data-stu-id="c01a4-220">Azure Security Center</span></span>

<span data-ttu-id="c01a4-221">[Centre de sécurité Azure](../security-center/security-center-intro.md) vous aide à vous empêchez, détectez et répondre toothreats avec une meilleure visibilité et contrôler hello la sécurité de vos ressources Azure.</span><span class="sxs-lookup"><span data-stu-id="c01a4-221">[Azure Security Center](../security-center/security-center-intro.md) helps you prevent, detect, and respond toothreats with increased visibility into and control over hello security of your Azure resources.</span></span> <span data-ttu-id="c01a4-222">Désormais, Application Gateway [s’intègre à Azure Security Center](application-gateway-integration-security-center.md).</span><span class="sxs-lookup"><span data-stu-id="c01a4-222">Application gateway now [integrates into Azure Security Center](application-gateway-integration-security-center.md).</span></span> <span data-ttu-id="c01a4-223">Centre de sécurité Azure analyse les applications web votre environnement toodetect non protégé.</span><span class="sxs-lookup"><span data-stu-id="c01a4-223">Azure Security Center scans your environment toodetect unprotected web applications.</span></span> <span data-ttu-id="c01a4-224">Il peut maintenant vous recommander application passerelle WAF tooprotect ces ressources vulnérables.</span><span class="sxs-lookup"><span data-stu-id="c01a4-224">It can now recommend application gateway WAF tooprotect these vulnerable resources.</span></span> <span data-ttu-id="c01a4-225">Vous pouvez créer directement WAF de passerelle d’application à partir de hello Azure Security Center.</span><span class="sxs-lookup"><span data-stu-id="c01a4-225">You can directly create application gateway WAF from hello Azure Security Center.</span></span>  <span data-ttu-id="c01a4-226">Ces instances WAF sont intégrées à Azure Security Center et seront renvoyer des alertes et les informations de contrôle d’intégrité tooAzure le centre de sécurité pour les rapports.</span><span class="sxs-lookup"><span data-stu-id="c01a4-226">These WAF instances are integrated with Azure Security Center and will send alerts and health information back tooAzure Security Center for reporting.</span></span>

![figure 1](./media/application-gateway-web-application-firewall-overview/figure1.png)

#### <a name="logging"></a><span data-ttu-id="c01a4-228">Journalisation</span><span class="sxs-lookup"><span data-stu-id="c01a4-228">Logging</span></span>

<span data-ttu-id="c01a4-229">Application Gateway WAF fournit des rapports détaillés sur chaque menace détectée.</span><span class="sxs-lookup"><span data-stu-id="c01a4-229">Application Gateway WAF provides detailed reporting on each threat it detects.</span></span> <span data-ttu-id="c01a4-230">La journalisation est intégrée aux journaux Azure Diagnostics et les alertes sont enregistrées au format json.</span><span class="sxs-lookup"><span data-stu-id="c01a4-230">Logging is integrated with Azure Diagnostics logs and alerts are recorded in a json format.</span></span> <span data-ttu-id="c01a4-231">Ces journaux peuvent être intégrés à [Log Analytics](../log-analytics/log-analytics-azure-networking-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="c01a4-231">These logs can be integrated with [Log Analytics](../log-analytics/log-analytics-azure-networking-analytics.md).</span></span>

![imageURLroute](./media/application-gateway-web-application-firewall-overview/waf2.png)

```json
{
  "resourceId": "/SUBSCRIPTIONS/{subscriptionId}/RESOURCEGROUPS/{resourceGroupId}/PROVIDERS/MICROSOFT.NETWORK/APPLICATIONGATEWAYS/{appGatewayName}",
  "operationName": "ApplicationGatewayFirewall",
  "time": "2017-03-20T15:52:09.1494499Z",
  "category": "ApplicationGatewayFirewallLog",
  "properties": {
    "instanceId": "ApplicationGatewayRole_IN_0",
    "clientIp": "104.210.252.3",
    "clientPort": "4835",
    "requestUri": "/?a=%3Cscript%3Ealert(%22Hello%22);%3C/script%3E",
    "ruleSetType": "OWASP",
    "ruleSetVersion": "3.0",
    "ruleId": "941320",
    "message": "Possible XSS Attack Detected - HTML Tag Handler",
    "action": "Blocked",
    "site": "Global",
    "details": {
      "message": "Warning. Pattern match \"<(a|abbr|acronym|address|applet|area|audioscope|b|base|basefront|bdo|bgsound|big|blackface|blink|blockquote|body|bq|br|button|caption|center|cite|code|col|colgroup|comment|dd|del|dfn|dir|div|dl|dt|em|embed|fieldset|fn|font|form|frame|frameset|h1|head|h ...\" at ARGS:a.",
      "data": "Matched Data: <script> found within ARGS:a: <script>alert(\\x22hello\\x22);</script>",
      "file": "rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf",
      "line": "865"
    }
  }
} 

```

## <a name="application-gateway-waf-sku-pricing"></a><span data-ttu-id="c01a4-233">Tarification de la référence SKU Application Gateway WAF</span><span class="sxs-lookup"><span data-stu-id="c01a4-233">Application Gateway WAF SKU pricing</span></span>

<span data-ttu-id="c01a4-234">Le pare-feu d’applications web est disponible sous une nouvelle référence WAF.</span><span class="sxs-lookup"><span data-stu-id="c01a4-234">Web application firewall is available under a new a WAF SKU.</span></span> <span data-ttu-id="c01a4-235">Cette référence est disponible uniquement dans le modèle de déploiement Azure Resource Manager et non sous le modèle de déploiement classique hello.</span><span class="sxs-lookup"><span data-stu-id="c01a4-235">This SKU is available only in Azure Resource Manager provisioning model and not under hello classic deployment model.</span></span> <span data-ttu-id="c01a4-236">Par ailleurs, la référence WAF est proposée uniquement dans les instances de passerelle d’application de moyenne et grande taille.</span><span class="sxs-lookup"><span data-stu-id="c01a4-236">Additionally WAF SKU comes only in medium and large application gateway instance sizes.</span></span> <span data-ttu-id="c01a4-237">Toutes les limites de hello pour la passerelle d’application s’appliquent également à toohello WAF référence (SKU).</span><span class="sxs-lookup"><span data-stu-id="c01a4-237">All hello limits for application gateway also apply toohello WAF SKU.</span></span> <span data-ttu-id="c01a4-238">La tarification est basée sur les frais d’instance de passerelle par heure et les frais de traitement des données.</span><span class="sxs-lookup"><span data-stu-id="c01a4-238">Pricing is based on per hour gateway instance charge and data processing charge.</span></span> <span data-ttu-id="c01a4-239">La tarification par heure de la passerelle pour la référence WAF diffère des frais de référence Standard et est accessible sur [Détails de tarification Application Gateway](https://azure.microsoft.com/pricing/details/application-gateway/).</span><span class="sxs-lookup"><span data-stu-id="c01a4-239">Per hour gateway pricing for WAF SKU is different from Standard SKU charges and can be found at [Application Gateway pricing details](https://azure.microsoft.com/pricing/details/application-gateway/).</span></span> <span data-ttu-id="c01a4-240">Le traitement des données des frais restent hello identiques.</span><span class="sxs-lookup"><span data-stu-id="c01a4-240">Data processing charges remain hello same.</span></span> <span data-ttu-id="c01a4-241">Il n’existe aucun frais par règle ou groupe de règles.</span><span class="sxs-lookup"><span data-stu-id="c01a4-241">There is no per rule or rule group charges.</span></span> <span data-ttu-id="c01a4-242">Vous pouvez protéger plusieurs applications web derrière hello même web pare-feu d’applications et pas de frais supplémentaires pour prendre en charge de plusieurs applications.</span><span class="sxs-lookup"><span data-stu-id="c01a4-242">You can protect multiple web applications behind hello same web application firewall and there are no additional charges for supporting multiple applications.</span></span> 

<span data-ttu-id="c01a4-243">La facturation pour WAF commence efficacement 5/5/2017, jusqu'à ce que hello puis les passerelles de référence (SKU) WAF continue toobe facturée au tarif standard.</span><span class="sxs-lookup"><span data-stu-id="c01a4-243">Billing for WAF starts effectively 5/5/2017, until then hello WAF SKU gateways continues toobe charged at standard rates.</span></span>

## <a name="next-steps"></a><span data-ttu-id="c01a4-244">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="c01a4-244">Next steps</span></span>

<span data-ttu-id="c01a4-245">Après avoir plus d’informations sur les fonctionnalités de WAF hello de formation, visitez [comment tooconfigure web pare-feu d’applications sur la passerelle d’Application](application-gateway-web-application-firewall-portal.md).</span><span class="sxs-lookup"><span data-stu-id="c01a4-245">After learning more about hello capabilities of WAF, visit [How tooconfigure web application firewall on Application Gateway](application-gateway-web-application-firewall-portal.md).</span></span>

