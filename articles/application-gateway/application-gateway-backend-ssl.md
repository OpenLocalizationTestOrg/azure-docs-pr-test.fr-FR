---
title: Activation du chiffrement SSL de bout en bout sur la passerelle Azure Application Gateway | Microsoft Docs
description: "Cette page fournit une vue d’ensemble de la prise en charge du chiffrement SSL de bout en bout pour la passerelle Application Gateway."
documentationcenter: na
services: application-gateway
author: amsriva
manager: rossort
editor: amsriva
ms.assetid: 3976399b-25ad-45eb-8eb3-fdb736a598c5
ms.service: application-gateway
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.custom: H1Hack27Feb2017
ms.workload: infrastructure-services
ms.date: 07/19/2017
ms.author: amsriva
ms.openlocfilehash: 689ee54dc1db2ea371b08270718278fd98c65bb5
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/18/2017
---
# <a name="overview-of-end-to-end-ssl-with-application-gateway"></a><span data-ttu-id="b94e2-103">Présentation du chiffrement SSL de bout en bout sur la passerelle Application Gateway</span><span class="sxs-lookup"><span data-stu-id="b94e2-103">Overview of end to end SSL with Application Gateway</span></span>

<span data-ttu-id="b94e2-104">La passerelle Application Gateway prend en charge la terminaison SSL au niveau de la passerelle, après laquelle le trafic transite généralement de façon non chiffrée vers les serveurs principaux.</span><span class="sxs-lookup"><span data-stu-id="b94e2-104">Application gateway supports SSL termination at the gateway, after which traffic typically flows unencrypted to the backend servers.</span></span> <span data-ttu-id="b94e2-105">Grâce à cette fonctionnalité, les serveurs web ne sont plus chargés des opérations coûteuses de chiffrement et de déchiffrement.</span><span class="sxs-lookup"><span data-stu-id="b94e2-105">This feature allows web servers to be unburdened from costly encryption and decryption overhead.</span></span> <span data-ttu-id="b94e2-106">Mais pour certains clients, une communication non chiffrée vers les serveurs principaux n’est pas une option acceptable.</span><span class="sxs-lookup"><span data-stu-id="b94e2-106">However for some customers unencrypted communication to the backend servers is not an acceptable option.</span></span> <span data-ttu-id="b94e2-107">Cette communication non chiffrée peut être due à des exigences de sécurité ou de conformité, ou au fait que l’application n’accepte qu’une connexion sécurisée.</span><span class="sxs-lookup"><span data-stu-id="b94e2-107">This unencrypted communication could be due to security requirements, compliance requirements, or the application may only accept a secure connection.</span></span> <span data-ttu-id="b94e2-108">Pour de telles applications, la passerelle Application Gateway prend désormais en charge le chiffrement SSL de bout en bout.</span><span class="sxs-lookup"><span data-stu-id="b94e2-108">For such applications, application gateway supports end to end SSL encryption.</span></span>

## <a name="overview"></a><span data-ttu-id="b94e2-109">Vue d’ensemble</span><span class="sxs-lookup"><span data-stu-id="b94e2-109">Overview</span></span>

<span data-ttu-id="b94e2-110">Le chiffrement SSL de bout en bout vous permet de transmettre en toute sécurité des données sensibles au serveur back-end, tout en continuant de bénéficier des avantages des fonctionnalités d’équilibrage de charge de couche 7 fournies par la passerelle Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="b94e2-110">End to end SSL allows you to securely transmit sensitive data to the backend encrypted while still taking advantage of the benefits of Layer 7 load balancing features which application gateway provides.</span></span> <span data-ttu-id="b94e2-111">Il s’agit notamment de la fonctionnalité d’affinité basée sur les cookies, du routage basé sur l’URL, de la prise en charge du routage basé sur des sites ou de la possibilité d’injecter des en-têtes X-Forwarded.</span><span class="sxs-lookup"><span data-stu-id="b94e2-111">Some of these features are cookie-based session affinity, URL-based routing, support for routing based on sites, or ability to inject X-Forwarded-* headers.</span></span>

<span data-ttu-id="b94e2-112">Lorsqu’elle est configurée avec un mode de communication SSL de bout en bout, la passerelle Application Gateway ferme les sessions SSL au niveau de la passerelle et déchiffre le trafic de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="b94e2-112">When configured with end to end SSL communication mode, application gateway terminates the SSL sessions at the gateway and decrypts user traffic.</span></span> <span data-ttu-id="b94e2-113">Il applique ensuite les règles configurées pour sélectionner une instance de pool principal appropriée vers laquelle acheminer le trafic.</span><span class="sxs-lookup"><span data-stu-id="b94e2-113">It then applies the configured rules to select an appropriate backend pool instance to route traffic to.</span></span> <span data-ttu-id="b94e2-114">La passerelle Application Gateway établit ensuite une nouvelle connexion SSL vers le serveur back-end, puis chiffre à nouveau les données à l’aide du certificat de clé publique de ce serveur avant de transmettre la requête au back-end.</span><span class="sxs-lookup"><span data-stu-id="b94e2-114">Application gateway then initiates a new SSL connection to the backend server and re-encrypts data using the backend server's public key certificate before transmitting the request to the backend.</span></span> <span data-ttu-id="b94e2-115">Pour activer le chiffrement SSL de bout en bout, définissez le paramètre de protocole BackendHTTPSetting sur HTTPS, qui est ensuite appliqué à un pool back-end.</span><span class="sxs-lookup"><span data-stu-id="b94e2-115">End to end SSL is enabled by setting protocol setting in BackendHTTPSetting to HTTPS, which is then applied to a backend pool.</span></span> <span data-ttu-id="b94e2-116">Chaque serveur principal du pool principal pour lequel un chiffrement SSL de bout en bout a été activé doit être configuré avec un certificat afin de permettre une communication sécurisée.</span><span class="sxs-lookup"><span data-stu-id="b94e2-116">Each backend server in the backend pool with end to end SSL enabled must be configured with a certificate to allow secure communication.</span></span>

![scénario ssl de bout en bout][1]

<span data-ttu-id="b94e2-118">Dans cet exemple, les demandes utilisant TLS1.2 sont acheminées vers les serveurs principaux dans Pool1 à l’aide du chiffrement SSL de bout en bout.</span><span class="sxs-lookup"><span data-stu-id="b94e2-118">In this example, requests using TLS1.2 are routed to backend servers in Pool1 using end to end SSL.</span></span>

## <a name="end-to-end-ssl-and-whitelisting-of-certificates"></a><span data-ttu-id="b94e2-119">Chiffrement SSL de bout en bout et liste blanche de certificats</span><span class="sxs-lookup"><span data-stu-id="b94e2-119">End to end SSL and whitelisting of certificates</span></span>

<span data-ttu-id="b94e2-120">La passerelle Application Gateway communique uniquement avec les instances de serveur principal identifiées dont le certificat figure sur la liste approuvée par la passerelle Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="b94e2-120">Application gateway only communicates with known backend instances that have whitelisted their certificate with the application gateway.</span></span> <span data-ttu-id="b94e2-121">Pour approuver des certificats, vous devez télécharger la clé publique des certificats du serveur principal pour la passerelle Application Gateway (non le certificat racine).</span><span class="sxs-lookup"><span data-stu-id="b94e2-121">To enable whitelisting of certificates, you must upload the public key of backend server certificates to the application gateway (not the root certificate).</span></span> <span data-ttu-id="b94e2-122">Seules les connexions aux serveurs principaux connus et sur liste blanche sont alors autorisées.</span><span class="sxs-lookup"><span data-stu-id="b94e2-122">Only connections to known and whitelisted backends are then allowed.</span></span> <span data-ttu-id="b94e2-123">Les autres serveurs principaux renvoient une erreur de passerelle.</span><span class="sxs-lookup"><span data-stu-id="b94e2-123">The remaining backends results in a gateway error.</span></span> <span data-ttu-id="b94e2-124">Les certificats auto-signés sont uniquement destinés à des fins de test et ne sont pas recommandés pour les charges de travail de production.</span><span class="sxs-lookup"><span data-stu-id="b94e2-124">Self-signed certificates are for test purposes only and not recommended for production workloads.</span></span> <span data-ttu-id="b94e2-125">Pour être utilisables, ces certificats doivent figurer dans la liste approuvée par la passerelle Application Gateway, comme décrit dans les étapes précédentes.</span><span class="sxs-lookup"><span data-stu-id="b94e2-125">Such certificates have to be whitelisted with the application gateway as described in the preceding steps before they can be used.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b94e2-126">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="b94e2-126">Next steps</span></span>

<span data-ttu-id="b94e2-127">Après avoir découvert le chiffrement SSL de bout en bout, consultez l’article indiquant comment [activer le chiffrement SSL de bout en bout sur la passerelle Application Gateway](application-gateway-end-to-end-ssl-powershell.md) pour créer une passerelle d’application à l’aide du chiffrement SSL de bout en bout.</span><span class="sxs-lookup"><span data-stu-id="b94e2-127">After learning about end to end SSL, go to [enable end to end SSL on application gateway](application-gateway-end-to-end-ssl-powershell.md) to create an application gateway using end to end SSL.</span></span>

<!--Image references-->

[1]: ./media/application-gateway-backend-ssl/scenario.png
