---
<span data-ttu-id="43c79-101">titre : aaa « leçon du didacticiel Azure Analysis Services 4 : créer des relations | Description de Microsoft Docs » : décrit la façon dont les relations toocreate dans hello projet du didacticiel Azure Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="43c79-101">title: aaa"Azure Analysis Services tutorial lesson 4: Create relationships | Microsoft Docs" description: Describes how toocreate relationships in hello Azure Analysis Services tutorial project.</span></span> <span data-ttu-id="43c79-102">Services : analysis services documentationcenter : '' auteur : minewiskan manager : erikre éditeur : '' balises : ».</span><span class="sxs-lookup"><span data-stu-id="43c79-102">services: analysis-services documentationcenter: '' author: minewiskan manager: erikre editor: '' tags: ''</span></span>

<span data-ttu-id="43c79-103">MS.AssetId : ms.service : ms.devlang d’analysis services : NA ms.topic : get-started-article ms.tgt_pltfrm : NA ms.workload : na ms.date : 26/05/2017 ms.author : owend</span><span class="sxs-lookup"><span data-stu-id="43c79-103">ms.assetid: ms.service: analysis-services ms.devlang: NA ms.topic: get-started-article ms.tgt_pltfrm: NA ms.workload: na ms.date: 05/26/2017 ms.author: owend</span></span>
---
# <a name="lesson-4-create-relationships"></a><span data-ttu-id="43c79-104">Leçon 4 : Créer des relations</span><span class="sxs-lookup"><span data-stu-id="43c79-104">Lesson 4: Create relationships</span></span>

[!INCLUDE[analysis-services-appliesto-aas-sql2017-later](../../../includes/analysis-services-appliesto-aas-sql2017-later.md)]

<span data-ttu-id="43c79-105">Dans cette leçon, vous vérifiez les relations hello qui ont été créées automatiquement lorsque vous avez importé des données et ajoutez de nouvelles relations entre les différentes tables.</span><span class="sxs-lookup"><span data-stu-id="43c79-105">In this lesson, you verify hello relationships that were created automatically when you imported data and add new relationships between different tables.</span></span> <span data-ttu-id="43c79-106">Une relation est une connexion entre deux tables qui établit la corrélation des données hello dans ces tables.</span><span class="sxs-lookup"><span data-stu-id="43c79-106">A relationship is a connection between two tables that establishes how hello data in those tables should be correlated.</span></span> <span data-ttu-id="43c79-107">Par exemple, table de hello DimProduct et DimProductSubcategory hello ont une relation basée sur des faits hello que chaque produit appartienne tooa sous-catégorie.</span><span class="sxs-lookup"><span data-stu-id="43c79-107">For example, hello DimProduct table and hello DimProductSubcategory table have a relationship based on hello fact that each product belongs tooa subcategory.</span></span> <span data-ttu-id="43c79-108">toolearn, voir [relations](https://docs.microsoft.com/sql/analysis-services/tabular-models/relationships-ssas-tabular).</span><span class="sxs-lookup"><span data-stu-id="43c79-108">toolearn more, see [Relationships](https://docs.microsoft.com/sql/analysis-services/tabular-models/relationships-ssas-tabular).</span></span>
  
<span data-ttu-id="43c79-109">Estimé temps toocomplete cette leçon : **10 minutes**</span><span class="sxs-lookup"><span data-stu-id="43c79-109">Estimated time toocomplete this lesson: **10 minutes**</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="43c79-110">Composants requis</span><span class="sxs-lookup"><span data-stu-id="43c79-110">Prerequisites</span></span>  
<span data-ttu-id="43c79-111">Cette rubrique fait partie d’un didacticiel de modélisation tabulaire, qui doit être suivi dans l’ordre prévu.</span><span class="sxs-lookup"><span data-stu-id="43c79-111">This topic is part of a tabular modeling tutorial, which should be completed in order.</span></span> <span data-ttu-id="43c79-112">Avant d’effectuer les tâches de hello dans cette leçon, vous devez avoir terminé les leçon précédente hello : [leçon 3 : marquer en tant que Table de dates](../tutorials/aas-lesson-3-mark-as-date-table.md).</span><span class="sxs-lookup"><span data-stu-id="43c79-112">Before performing hello tasks in this lesson, you should have completed hello previous lesson: [Lesson 3: Mark as Date Table](../tutorials/aas-lesson-3-mark-as-date-table.md).</span></span> 
  
## <a name="review-existing-relationships-and-add-new-relationships"></a><span data-ttu-id="43c79-113">Vérifier les relations existantes et ajouter de nouvelles relations</span><span class="sxs-lookup"><span data-stu-id="43c79-113">Review existing relationships and add new relationships</span></span>  
<span data-ttu-id="43c79-114">Lorsque vous avez importé des données à l’aide d’obtenir des données, que vous avez obtenu sept tables de base de données AdventureWorksDW2014 hello.</span><span class="sxs-lookup"><span data-stu-id="43c79-114">When you imported data by using Get Data, you got seven tables from hello AdventureWorksDW2014 database.</span></span> <span data-ttu-id="43c79-115">En règle générale, lorsque vous importez des données à partir d’une source relationnelle, les relations existantes sont importées automatiquement avec les données de salutation.</span><span class="sxs-lookup"><span data-stu-id="43c79-115">Generally, when you import data from a relational source, existing relationships are automatically imported together with hello data.</span></span> <span data-ttu-id="43c79-116">Toutefois, avant de poursuivre avec la création de votre modèle, vous devez vérifier que les relations entre les tables ont été créées correctement.</span><span class="sxs-lookup"><span data-stu-id="43c79-116">However, before you proceed with authoring your model you should verify those relationships between tables were created properly.</span></span> <span data-ttu-id="43c79-117">Pour ce didacticiel, vous ajoutez trois nouvelles relations.</span><span class="sxs-lookup"><span data-stu-id="43c79-117">For this tutorial, you add three new relationships.</span></span>  
  
#### <a name="tooreview-existing-relationships"></a><span data-ttu-id="43c79-118">relations existantes tooreview</span><span class="sxs-lookup"><span data-stu-id="43c79-118">tooreview existing relationships</span></span>  
  
1.  <span data-ttu-id="43c79-119">Cliquez sur hello **modèle** menu > **vue de modèle** > **vue de diagramme**.</span><span class="sxs-lookup"><span data-stu-id="43c79-119">Click hello **Model** menu > **Model View** > **Diagram View**.</span></span>  

    <span data-ttu-id="43c79-120">Hello Générateur de modèles apparaît maintenant dans la vue de diagramme, un format graphique affichant toutes les tables hello que vous importées et les lignes entre eux.</span><span class="sxs-lookup"><span data-stu-id="43c79-120">hello model designer now appears in Diagram View, a graphical format displaying all hello tables you imported with lines between them.</span></span> <span data-ttu-id="43c79-121">lignes Hello entre les tables indiquent les relations de hello qui ont été créées automatiquement lorsque vous avez importé les données de salutation.</span><span class="sxs-lookup"><span data-stu-id="43c79-121">hello lines between tables indicate hello relationships that were automatically created when you imported hello data.</span></span>
    
    ![aas-lesson4-diagram](../tutorials/media/aas-lesson4-diagram.png)
  
    <span data-ttu-id="43c79-123">Inclure autant de tables hello que possible à l’aide de contrôles de la minicarte dans le coin inférieur droit de hello du Générateur de modèles hello.</span><span class="sxs-lookup"><span data-stu-id="43c79-123">Include as many of hello tables as possible by using minimap controls in hello lower-right corner of hello model designer.</span></span> <span data-ttu-id="43c79-124">Vous pouvez également cliquez et faites glisser d’emplacements toodifferent de tables, regrouper les tables plus proche ou en les plaçant dans un ordre particulier.</span><span class="sxs-lookup"><span data-stu-id="43c79-124">You can also click and drag tables toodifferent locations, bringing tables closer together, or putting them in a particular order.</span></span> <span data-ttu-id="43c79-125">Déplacement de tables n’affecte pas les relations hello déjà entre les tables de hello.</span><span class="sxs-lookup"><span data-stu-id="43c79-125">Moving tables does not affect hello relationships already between hello tables.</span></span> <span data-ttu-id="43c79-126">tooview toutes les colonnes hello dans une table particulière, cliquez et faites glisser sur un tooexpand de bord de table ou réduire sa taille.</span><span class="sxs-lookup"><span data-stu-id="43c79-126">tooview all hello columns in a particular table, click and drag on a table edge tooexpand or make it smaller.</span></span>  
  
2.  <span data-ttu-id="43c79-127">Sur la ligne pleine entre hello hello **DimCustomer** table et hello **DimGeography** table.</span><span class="sxs-lookup"><span data-stu-id="43c79-127">Click hello solid line between hello **DimCustomer** table and hello **DimGeography** table.</span></span> <span data-ttu-id="43c79-128">trait plein de Hello entre ces deux tables indique que cette relation est active, autrement dit, qu'il est utilisé par défaut lors du calcul des formules DAX.</span><span class="sxs-lookup"><span data-stu-id="43c79-128">hello solid line between these two tables shows this relationship is active, that is, it is used by default when calculating DAX formulas.</span></span>  
  
    <span data-ttu-id="43c79-129">Hello d’avis **GeographyKey** colonne Bonjour **DimCustomer** table et hello **GeographyKey** colonne Bonjour **DimGeography** table apparaissent maintenant chacune dans une zone.</span><span class="sxs-lookup"><span data-stu-id="43c79-129">Notice hello **GeographyKey** column in hello **DimCustomer** table and hello **GeographyKey** column in hello **DimGeography** table now both each appear within a box.</span></span> <span data-ttu-id="43c79-130">Ces colonnes sont utilisées dans la relation de hello.</span><span class="sxs-lookup"><span data-stu-id="43c79-130">These columns are used in hello relationship.</span></span> <span data-ttu-id="43c79-131">Hello propriétés de la relation apparaissent maintenant aussi Bonjour **propriétés** fenêtre.</span><span class="sxs-lookup"><span data-stu-id="43c79-131">hello relationship’s properties now also appear in hello **Properties** window.</span></span>  
  
    > [!TIP]  
    > <span data-ttu-id="43c79-132">En outre toousing hello Générateur de modèles dans la vue de diagramme, vous pouvez également utiliser hello gérer les relations boîte de dialogue zone tooshow hello des relations entre toutes les tables dans un format de table.</span><span class="sxs-lookup"><span data-stu-id="43c79-132">In addition toousing hello model designer in diagram view, you can also use hello Manage Relationships dialog box tooshow hello relationships between all tables in a table format.</span></span> <span data-ttu-id="43c79-133">Dans l’Explorateur de modèles tabulaires, cliquez sur **Relations** > **Gérer les relations**.</span><span class="sxs-lookup"><span data-stu-id="43c79-133">In Tabular Model Explorer, right-click **Relationships** > **Manage Relationships**.</span></span>
  
3.  <span data-ttu-id="43c79-134">Vérifiez que hello suit les relations ont été créée lorsque chacune des tables de hello ont été importées à partir de la base de données AdventureWorksDW hello :</span><span class="sxs-lookup"><span data-stu-id="43c79-134">Verify hello following relationships were created when each of hello tables were imported from hello AdventureWorksDW database:</span></span>  
  
    |<span data-ttu-id="43c79-135">Actif</span><span class="sxs-lookup"><span data-stu-id="43c79-135">Active</span></span>|<span data-ttu-id="43c79-136">Table</span><span class="sxs-lookup"><span data-stu-id="43c79-136">Table</span></span>|<span data-ttu-id="43c79-137">Table de recherche associée</span><span class="sxs-lookup"><span data-stu-id="43c79-137">Related Lookup Table</span></span>|  
    |----------|---------|------------------------|  
    |<span data-ttu-id="43c79-138">Oui</span><span class="sxs-lookup"><span data-stu-id="43c79-138">Yes</span></span>|<span data-ttu-id="43c79-139">**DimCustomer [GeographyKey]**</span><span class="sxs-lookup"><span data-stu-id="43c79-139">**DimCustomer [GeographyKey]**</span></span>|<span data-ttu-id="43c79-140">**DimGeography [GeographyKey]**</span><span class="sxs-lookup"><span data-stu-id="43c79-140">**DimGeography [GeographyKey]**</span></span>|  
    |<span data-ttu-id="43c79-141">Oui</span><span class="sxs-lookup"><span data-stu-id="43c79-141">Yes</span></span>|<span data-ttu-id="43c79-142">**DimProduct [ProductSubcategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="43c79-142">**DimProduct [ProductSubcategoryKey]**</span></span>|<span data-ttu-id="43c79-143">**DimProductSubcategory [ProductSubcategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="43c79-143">**DimProductSubcategory [ProductSubcategoryKey]**</span></span>|  
    |<span data-ttu-id="43c79-144">Oui</span><span class="sxs-lookup"><span data-stu-id="43c79-144">Yes</span></span>|<span data-ttu-id="43c79-145">**DimProductSubcategory [ProductCategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="43c79-145">**DimProductSubcategory [ProductCategoryKey]**</span></span>|<span data-ttu-id="43c79-146">**DimProductCategory [ProductCategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="43c79-146">**DimProductCategory [ProductCategoryKey]**</span></span>|  
    |<span data-ttu-id="43c79-147">Oui</span><span class="sxs-lookup"><span data-stu-id="43c79-147">Yes</span></span>|<span data-ttu-id="43c79-148">**FactInternetSales [CustomerKey]**</span><span class="sxs-lookup"><span data-stu-id="43c79-148">**FactInternetSales [CustomerKey]**</span></span>|<span data-ttu-id="43c79-149">**DimCustomer [CustomerKey]**</span><span class="sxs-lookup"><span data-stu-id="43c79-149">**DimCustomer [CustomerKey]**</span></span>|  
    |<span data-ttu-id="43c79-150">Oui</span><span class="sxs-lookup"><span data-stu-id="43c79-150">Yes</span></span>|<span data-ttu-id="43c79-151">**FactInternetSales [ProductKey]**</span><span class="sxs-lookup"><span data-stu-id="43c79-151">**FactInternetSales [ProductKey]**</span></span>|<span data-ttu-id="43c79-152">**DimProduct [ProductKey]**</span><span class="sxs-lookup"><span data-stu-id="43c79-152">**DimProduct [ProductKey]**</span></span>|  
  
    <span data-ttu-id="43c79-153">Si une des relations de hello sont manquante, vérifiez que votre modèle inclut les tableaux suivants de hello : DimCustomer, DimDate, DimGeography, DimProduct, DimProductCategory, DimProductSubcategory et FactInternetSales.</span><span class="sxs-lookup"><span data-stu-id="43c79-153">If any of hello relationships are missing, verify that your model includes hello following tables: DimCustomer, DimDate, DimGeography, DimProduct, DimProductCategory, DimProductSubcategory, and FactInternetSales.</span></span> <span data-ttu-id="43c79-154">Si les tables à partir de hello même connexion de source de données sont importées à séparent les heures, toutes les relations entre ces tables ne sont pas créées et doivent être créées manuellement.</span><span class="sxs-lookup"><span data-stu-id="43c79-154">If tables from hello same data source connection are imported at separate times, any relationships between those tables are not be created and must be created manually.</span></span>  

### <a name="take-a-closer-look"></a><span data-ttu-id="43c79-155">Examen approfondi</span><span class="sxs-lookup"><span data-stu-id="43c79-155">Take a closer look</span></span>
<span data-ttu-id="43c79-156">Dans la vue de diagramme, notez une flèche, un astérisque et un nombre de lignes hello qui montrent la relation hello entre les tables.</span><span class="sxs-lookup"><span data-stu-id="43c79-156">In Diagram View, notice an arrow, an asterisk, and a number on hello lines that show hello relationship between tables.</span></span>

![aas-lesson4-line](../tutorials/media/aas-lesson4-line.png)

<span data-ttu-id="43c79-158">flèche de Hello indique la direction du filtrage hello.</span><span class="sxs-lookup"><span data-stu-id="43c79-158">hello arrow shows hello filter direction.</span></span> <span data-ttu-id="43c79-159">astérisque de Hello montre que cette table est hello côté « plusieurs » de la cardinalité de la relation hello et hello un élément indique cette table est hello côté « un » de la relation de hello.</span><span class="sxs-lookup"><span data-stu-id="43c79-159">hello asterisk shows this table is hello many side in hello relationship's cardinality, and hello one shows this table is hello one side of hello relationship.</span></span> <span data-ttu-id="43c79-160">Si vous avez besoin de tooedit une relation ; par exemple, modifiez la direction du filtrage ou la cardinalité de la relation hello, double-cliquez sur hello ligne tooopen hello modifier la relation boîte de dialogue relation.</span><span class="sxs-lookup"><span data-stu-id="43c79-160">If you need tooedit a relationship; for example, change hello relationship's filter direction or cardinality, double-click hello relationship line tooopen hello Edit Relationship dialog.</span></span>

![aas-lesson4-edit](../tutorials/media/aas-lesson4-edit.png)

<span data-ttu-id="43c79-162">Ces fonctionnalités sont destinées à la modélisation des données avancées et étendue de hello en dehors de ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="43c79-162">These features are meant for advanced data modeling and are outside hello scope of this tutorial.</span></span> <span data-ttu-id="43c79-163">toolearn, voir [bidirectionnelles entre les filtres pour les modèles tabulaires dans Analysis Services](https://docs.microsoft.com/sql/analysis-services/tabular-models/bi-directional-cross-filters-tabular-models-analysis-services).</span><span class="sxs-lookup"><span data-stu-id="43c79-163">toolearn more, see [Bi-directional cross filters for tabular models in Analysis Services](https://docs.microsoft.com/sql/analysis-services/tabular-models/bi-directional-cross-filters-tabular-models-analysis-services).</span></span>

<span data-ttu-id="43c79-164">Dans certains cas, vous devrez peut-être toocreate des relations supplémentaires entre les tables dans votre modèle de toosupport certaine logique métier.</span><span class="sxs-lookup"><span data-stu-id="43c79-164">In some cases, you may need toocreate additional relationships between tables in your model toosupport certain business logic.</span></span> <span data-ttu-id="43c79-165">Pour ce didacticiel, vous devez toocreate trois relations supplémentaires entre les tables de FactInternetSales hello et hello DimDate.</span><span class="sxs-lookup"><span data-stu-id="43c79-165">For this tutorial, you need toocreate three additional relationships between hello FactInternetSales table and hello DimDate table.</span></span>  
  
#### <a name="tooadd-new-relationships-between-tables"></a><span data-ttu-id="43c79-166">relations entre les tables tooadd</span><span class="sxs-lookup"><span data-stu-id="43c79-166">tooadd new relationships between tables</span></span>  
  
1.  <span data-ttu-id="43c79-167">Dans le Concepteur de modèle hello, Bonjour **FactInternetSales** table, cliquez et maintenez la sélection hello **OrderDate** colonne, puis faites glisser hello curseur toohello **Date** colonne Bonjour  **DimDate** de table et relâchez.</span><span class="sxs-lookup"><span data-stu-id="43c79-167">In hello model designer, in hello **FactInternetSales** table, click, and hold on hello **OrderDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  

    <span data-ttu-id="43c79-168">Une ligne pleine apparaît et indique que vous avez créé une relation active entre hello **OrderDate** colonne Bonjour **Internet Sales** table et hello **Date** colonne Bonjour **Date** table.</span><span class="sxs-lookup"><span data-stu-id="43c79-168">A solid line appears showing you have created an active relationship between hello **OrderDate** column in hello **Internet Sales** table, and hello **Date** column in hello **Date** table.</span></span> 
  
      ![aas-lesson4-new](../tutorials/media/aas-lesson4-new.png) 
  
    > [!NOTE]  
    > <span data-ttu-id="43c79-170">Lors de la création de relations, la direction de cardinalité et filtre hello entre la table primaire de hello et de la table de recherche associée hello est sélectionnée automatiquement.</span><span class="sxs-lookup"><span data-stu-id="43c79-170">When creating relationships, hello cardinality and filter direction between hello primary table and hello related lookup table is automatically selected.</span></span>  
  
2.  <span data-ttu-id="43c79-171">Bonjour **FactInternetSales** table, cliquez sur et maintenez la sélection hello **DueDate** colonne, puis faites glisser hello curseur toohello **Date** colonne Bonjour **DimDate** de table et relâchez.</span><span class="sxs-lookup"><span data-stu-id="43c79-171">In hello **FactInternetSales** table, click and hold on hello **DueDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  
  
    <span data-ttu-id="43c79-172">Une ligne pointillée apparaît indique que vous avez créé une relation inactive entre hello **DueDate** colonne Bonjour **FactInternetSales** table et hello **Date** colonne Hello **DimDate** table.</span><span class="sxs-lookup"><span data-stu-id="43c79-172">A dotted line appears showing you have created an inactive relationship between hello **DueDate** column in hello **FactInternetSales** table, and hello **Date** column in hello **DimDate** table.</span></span> <span data-ttu-id="43c79-173">Vous pouvez avoir plusieurs relations entre les tables, mais une seule relation peut être active à la fois.</span><span class="sxs-lookup"><span data-stu-id="43c79-173">You can have multiple relationships between tables, but only one relationship can be active at a time.</span></span> <span data-ttu-id="43c79-174">Les relations inactives peuvent être effectuées tooperform active les agrégations spéciale dans les expressions DAX personnalisées.</span><span class="sxs-lookup"><span data-stu-id="43c79-174">Inactive relationships can be made active tooperform special aggregations in custom DAX expressions.</span></span>  
  
3.  <span data-ttu-id="43c79-175">Pour finir, créez une dernière relation.</span><span class="sxs-lookup"><span data-stu-id="43c79-175">Finally, create one more relationship.</span></span> <span data-ttu-id="43c79-176">Bonjour **FactInternetSales** table, cliquez sur et maintenez la sélection hello **ShipDate** colonne, puis faites glisser hello curseur toohello **Date** colonne Bonjour **DimDate** de table et relâchez.</span><span class="sxs-lookup"><span data-stu-id="43c79-176">In hello **FactInternetSales** table, click and hold on hello **ShipDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  
    
     ![aas-lesson4-newinactive](../tutorials/media/aas-lesson4-newinactive.png)
  
## <a name="whats-next"></a><span data-ttu-id="43c79-178">Et ensuite ?</span><span class="sxs-lookup"><span data-stu-id="43c79-178">What's next?</span></span>
<span data-ttu-id="43c79-179">[Leçon 5 : Créer des colonnes calculées](../tutorials/aas-lesson-5-create-calculated-columns.md).</span><span class="sxs-lookup"><span data-stu-id="43c79-179">[Lesson 5: Create calculated columns](../tutorials/aas-lesson-5-create-calculated-columns.md).</span></span>
  
  
  
