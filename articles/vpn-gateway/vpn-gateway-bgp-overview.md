---
title: "Vue d’ensemble du protocole BGP avec les passerelles VPN Azure | Microsoft Docs"
description: "Cet article fournit une vue d’ensemble du protocole BGP avec les passerelles VPN Azure."
services: vpn-gateway
documentationcenter: na
author: yushwang
manager: rossort
editor: 
tags: 
ms.assetid: f8c3985c-c128-4f34-835c-0e88742bf36e
ms.service: vpn-gateway
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 01/12/2017
ms.author: yushwang
ms.openlocfilehash: 60d8dd45ecbd4a075721c25acadb21d4e2fd5448
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/18/2017
---
# <a name="overview-of-bgp-with-azure-vpn-gateways"></a><span data-ttu-id="63cae-103">Vue d’ensemble du protocole BGP avec les passerelles VPN Azure</span><span class="sxs-lookup"><span data-stu-id="63cae-103">Overview of BGP with Azure VPN Gateways</span></span>
<span data-ttu-id="63cae-104">Cet article fournit une vue d’ensemble de la prise en charge du protocole BGP (Border Gateway Protocol) avec les passerelles VPN Azure.</span><span class="sxs-lookup"><span data-stu-id="63cae-104">This article provides an overview of BGP (Border Gateway Protocol) support in Azure VPN Gateways.</span></span>

<span data-ttu-id="63cae-105">BGP est le protocole de routage standard couramment utilisé sur Internet pour l’échange d’informations d’accessibilité et de routage entre plusieurs réseaux.</span><span class="sxs-lookup"><span data-stu-id="63cae-105">BGP is the standard routing protocol commonly used in the Internet to exchange routing and reachability information between two or more networks.</span></span> <span data-ttu-id="63cae-106">Dans le contexte des réseaux virtuels Azure, le protocole BGP permet aux passerelles VPN Azure et à vos périphériques VPN locaux (appelés voisins ou homologues BGP) d’échanger des « itinéraires » qui informent les deux passerelles de la disponibilité et de l’accessibilité de ces préfixes pour transiter par les passerelles ou routeurs impliqués.</span><span class="sxs-lookup"><span data-stu-id="63cae-106">When used in the context of Azure Virtual Networks, BGP enables the Azure VPN Gateways and your on-premises VPN devices, called BGP peers or neighbors, to exchange "routes" that will inform both gateways on the availability and reachability for those prefixes to go through the gateways or routers involved.</span></span> <span data-ttu-id="63cae-107">Le protocole BGP permet également le routage de transit entre plusieurs réseaux en propageant les itinéraires qu’une passerelle BGP obtient d’un homologue BGP vers tous les autres homologues BGP.</span><span class="sxs-lookup"><span data-stu-id="63cae-107">BGP can also enable transit routing among multiple networks by propagating routes a BGP gateway learns from one BGP peer to all other BGP peers.</span></span> 

## <a name="why-use-bgp"></a><span data-ttu-id="63cae-108">Pourquoi utiliser le protocole BGP ?</span><span class="sxs-lookup"><span data-stu-id="63cae-108">Why use BGP?</span></span>
<span data-ttu-id="63cae-109">Le protocole BGP est une fonctionnalité facultative que vous pouvez utiliser avec les passerelles VPN Azure basées sur des itinéraires.</span><span class="sxs-lookup"><span data-stu-id="63cae-109">BGP is an optional feature you can use with Azure Route-Based VPN gateways.</span></span> <span data-ttu-id="63cae-110">Vous devez vous assurer que vos périphériques VPN locaux prennent en charge le protocole BGP avant d’activer cette fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="63cae-110">You should also make sure your on-premises VPN devices support BGP before you enable the feature.</span></span> <span data-ttu-id="63cae-111">Vous pouvez continuer à utiliser des passerelles VPN Azure et vos périphériques VPN locaux sans le protocole BGP.</span><span class="sxs-lookup"><span data-stu-id="63cae-111">You can continue to use Azure VPN gateways and your on-premises VPN devices without BGP.</span></span> <span data-ttu-id="63cae-112">Cela revient à utiliser des itinéraires statiques (sans le protocole BGP) *au lieu* d’utiliser un routage dynamique avec le protocole BGP entre vos réseaux et Azure.</span><span class="sxs-lookup"><span data-stu-id="63cae-112">It is the equivalent of using static routes (without BGP) *vs.* using dynamic routing with BGP between your networks and Azure.</span></span>

<span data-ttu-id="63cae-113">Le protocole BGP offre plusieurs avantages et de nouvelles fonctionnalités :</span><span class="sxs-lookup"><span data-stu-id="63cae-113">There are several advantages and new capabilities with BGP:</span></span>

### <a name="support-automatic-and-flexible-prefix-updates"></a><span data-ttu-id="63cae-114">Prise en charge de mises à jour de préfixe automatiques et flexibles</span><span class="sxs-lookup"><span data-stu-id="63cae-114">Support automatic and flexible prefix updates</span></span>
<span data-ttu-id="63cae-115">Avec le protocole BGP, il vous suffit de déclarer un préfixe minimal pour un homologue BGP spécifique sur le tunnel VPN S2S IPsec.</span><span class="sxs-lookup"><span data-stu-id="63cae-115">With BGP, you only need to declare a minimum prefix to a specific BGP peer over the IPsec S2S VPN tunnel.</span></span> <span data-ttu-id="63cae-116">Il peut être aussi réduit que le préfixe d’un hôte (/32) de l’adresse IP de l’homologue BGP de votre périphérique VPN local.</span><span class="sxs-lookup"><span data-stu-id="63cae-116">It can be as small as a host prefix (/32) of the BGP peer IP address of your on-premises VPN device.</span></span> <span data-ttu-id="63cae-117">Vous pouvez décider des préfixes de réseaux locaux à publier sur Azure, qui pourront accéder à votre réseau virtuel Azure.</span><span class="sxs-lookup"><span data-stu-id="63cae-117">You can control which on-premises network prefixes you want to advertise to Azure to allow your Azure Virtual Network to access.</span></span>

<span data-ttu-id="63cae-118">Vous pouvez également publier un préfixe plus étendu, qui peut inclure certains préfixes d’adresses de votre réseau virtuel, par exemple un large espace d’adressage IP privé (par exemple, 10.0.0.0/8).</span><span class="sxs-lookup"><span data-stu-id="63cae-118">You can also advertise larger prefixes that may include some of your VNet address prefixes, such as a large private IP address space (for example, 10.0.0.0/8).</span></span> <span data-ttu-id="63cae-119">Notez cependant que les préfixes ne peuvent en aucun cas être identiques à ceux de votre réseau virtuel.</span><span class="sxs-lookup"><span data-stu-id="63cae-119">Note though the prefixes cannot be identical with any one of your VNet prefixes.</span></span> <span data-ttu-id="63cae-120">Les itinéraires identiques aux préfixes de votre réseau virtuel seront rejetés.</span><span class="sxs-lookup"><span data-stu-id="63cae-120">Those routes identical to your VNet prefixes will be rejected.</span></span>

### <a name="support-multiple-tunnels-between-a-vnet-and-an-on-premises-site-with-automatic-failover-based-on-bgp"></a><span data-ttu-id="63cae-121">Prise en charge de plusieurs tunnels entre un réseau virtuel et un site local avec basculement automatique basé sur le protocole BGP</span><span class="sxs-lookup"><span data-stu-id="63cae-121">Support multiple tunnels between a VNet and an on-premises site with automatic failover based on BGP</span></span>
<span data-ttu-id="63cae-122">Vous pouvez établir plusieurs connexions entre votre réseau virtuel Azure et vos périphériques VPN locaux au même emplacement.</span><span class="sxs-lookup"><span data-stu-id="63cae-122">You can establish multiple connections between your Azure VNet and your on-premises VPN devices in the same location.</span></span> <span data-ttu-id="63cae-123">Cette fonctionnalité fournit plusieurs tunnels (chemins) entre les deux réseaux dans une configuration actif-actif.</span><span class="sxs-lookup"><span data-stu-id="63cae-123">This capability provides multiple tunnels (paths) between the two networks in an active-active configuration.</span></span> <span data-ttu-id="63cae-124">Si l’un des tunnels est déconnecté, les itinéraires correspondants seront retirés par le biais du protocole BGP et le trafic est automatiquement déplacé vers les tunnels restants.</span><span class="sxs-lookup"><span data-stu-id="63cae-124">If one of the tunnels is disconnected, the corresponding routes will be withdrawn via BGP and the traffic automatically shifts to the remaining tunnels.</span></span>

<span data-ttu-id="63cae-125">Le schéma suivant offre un exemple simple de cette configuration à haute disponibilité :</span><span class="sxs-lookup"><span data-stu-id="63cae-125">The following diagram shows a simple example of this highly available setup:</span></span>

![Plusieurs chemins actifs](./media/vpn-gateway-bgp-overview/multiple-active-tunnels.png)

### <a name="support-transit-routing-between-your-on-premises-networks-and-multiple-azure-vnets"></a><span data-ttu-id="63cae-127">Prise en charge du routage de transit entre vos réseaux locaux et plusieurs réseaux virtuels Azure</span><span class="sxs-lookup"><span data-stu-id="63cae-127">Support transit routing between your on-premises networks and multiple Azure VNets</span></span>
<span data-ttu-id="63cae-128">Le protocole BGP permet à plusieurs passerelles d’obtenir des préfixes de différents réseaux et de les propager, que la connexion soit directe ou indirecte.</span><span class="sxs-lookup"><span data-stu-id="63cae-128">BGP enables multiple gateways to learn and propagate prefixes from different networks, whether they are directly or indirectly connected.</span></span> <span data-ttu-id="63cae-129">Ceci peut permettre un routage de transit avec des passerelles VPN Azure entre vos sites locaux ou sur plusieurs réseaux virtuels Azure.</span><span class="sxs-lookup"><span data-stu-id="63cae-129">This can enable transit routing with Azure VPN gateways between your on-premises sites or across multiple Azure Virtual Networks.</span></span>

<span data-ttu-id="63cae-130">Le schéma suivant offre un exemple de topologie à tronçons multiples, avec plusieurs chemins permettant de faire transiter le trafic entre les deux réseaux locaux via les passerelles VPN Azure dans les réseaux Microsoft :</span><span class="sxs-lookup"><span data-stu-id="63cae-130">The following diagram shows an example of a multi-hop topology with multiple paths that can transit traffic between the two on-premises networks through Azure VPN gateways within the Microsoft Networks:</span></span>

![Transit sur plusieurs tronçons](./media/vpn-gateway-bgp-overview/full-mesh-transit.png)

## <a name="bgp-faq"></a><span data-ttu-id="63cae-132">Forum Aux Questions sur le protocole BGP</span><span class="sxs-lookup"><span data-stu-id="63cae-132">BGP FAQ</span></span>
[!INCLUDE [vpn-gateway-bgp-faq-include](../../includes/vpn-gateway-bpg-faq-include.md)]

## <a name="next-steps"></a><span data-ttu-id="63cae-133">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="63cae-133">Next steps</span></span>
<span data-ttu-id="63cae-134">Consultez la page [Getting started with BGP on Azure VPN gateways](vpn-gateway-bgp-resource-manager-ps.md) (Prise en main du protocole BGP sur les passerelles VPN Azure) pour savoir comment configurer le protocole BGP pour vos connexions entre sites locaux et entre réseaux virtuels.</span><span class="sxs-lookup"><span data-stu-id="63cae-134">See [Getting started with BGP on Azure VPN gateways](vpn-gateway-bgp-resource-manager-ps.md) for steps to configure BGP for your cross-premises and VNet-to-VNet connections.</span></span>

