---
title: Projets de groupe de ressources Azure avec Visual Studio | Microsoft Docs
description: "Utilisez Visual Studio pour créer un projet de groupe de ressources Azure et déployer les ressources dans Azure."
services: azure-resource-manager
documentationcenter: na
author: tfitzmac
manager: timlt
editor: tysonn
ms.assetid: 4bd084c8-0842-4a10-8460-080c6a085bec
ms.service: azure-resource-manager
ms.devlang: multiple
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/10/2017
ms.author: tomfitz
ms.openlocfilehash: f82f59f363507b69a729580302c2d11202e93a87
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/03/2017
---
# <a name="creating-and-deploying-azure-resource-groups-through-visual-studio"></a><span data-ttu-id="70426-103">Création et déploiement de groupes de ressources Azure à l’aide de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="70426-103">Creating and deploying Azure resource groups through Visual Studio</span></span>
<span data-ttu-id="70426-104">Avec Visual Studio et les [Kits de développement logiciel (SDK) Azure](https://azure.microsoft.com/downloads/), vous pouvez créer un projet qui déploie votre infrastructure et votre code sur Azure.</span><span class="sxs-lookup"><span data-stu-id="70426-104">With Visual Studio and the [Azure SDK](https://azure.microsoft.com/downloads/), you can create a project that deploys your infrastructure and code to Azure.</span></span> <span data-ttu-id="70426-105">Par exemple, vous pouvez définir l’hôte web, le site web et la base de données de votre application, et déployer cette infrastructure parallèlement au code.</span><span class="sxs-lookup"><span data-stu-id="70426-105">For example, you can define the web host, web site, and database for your app, and deploy that infrastructure along with the code.</span></span> <span data-ttu-id="70426-106">Ou bien, vous pouvez définir une machine virtuelle, le réseau virtuel et le compte de stockage, puis déployer cette infrastructure parallèlement à un script exécuté sur la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="70426-106">Or, you can define a Virtual Machine, Virtual Network and Storage Account, and deploy that infrastructure along with a script that is executed on Virtual Machine.</span></span> <span data-ttu-id="70426-107">Le projet de déploiement du **Groupe de ressources Azure** vous permet de déployer toutes les ressources nécessaires en une seule opération reproductible.</span><span class="sxs-lookup"><span data-stu-id="70426-107">The **Azure Resource Group** deployment project enables you to deploy all the needed resources in a single, repeatable operation.</span></span> <span data-ttu-id="70426-108">Pour plus d’informations sur le déploiement et la gestion des ressources, consultez [Présentation d’Azure Resource Manager](resource-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="70426-108">For more information about deploying and managing your resources, see [Azure Resource Manager overview](resource-group-overview.md).</span></span>

<span data-ttu-id="70426-109">Les projets de groupe de ressources Azure contiennent des modèles JSON Azure Resource Manager, qui définissent les ressources que vous déployez sur Azure.</span><span class="sxs-lookup"><span data-stu-id="70426-109">Azure Resource Group projects contain Azure Resource Manager JSON templates, which define the resources that you deploy to Azure.</span></span> <span data-ttu-id="70426-110">Pour en savoir plus sur les éléments du modèle Resource Manager, consultez [Création de modèles Azure Resource Manager](resource-group-authoring-templates.md).</span><span class="sxs-lookup"><span data-stu-id="70426-110">To learn about the elements of the Resource Manager template, see [Authoring Azure Resource Manager templates](resource-group-authoring-templates.md).</span></span> <span data-ttu-id="70426-111">Visual Studio vous permet de modifier ces modèles et fournit des outils qui simplifient l’utilisation des modèles.</span><span class="sxs-lookup"><span data-stu-id="70426-111">Visual Studio enables you to edit these templates, and provides tools that simplify working with templates.</span></span>

<span data-ttu-id="70426-112">Dans cet article, vous déployez une application web et SQL Database.</span><span class="sxs-lookup"><span data-stu-id="70426-112">In this article, you deploy a web app and SQL Database.</span></span> <span data-ttu-id="70426-113">Toutefois, les étapes sont presque identiques pour tous les types de ressources.</span><span class="sxs-lookup"><span data-stu-id="70426-113">However, the steps are almost the same for any type resource.</span></span> <span data-ttu-id="70426-114">Vous pouvez tout aussi facilement déployer une machine virtuelle et ses ressources associées.</span><span class="sxs-lookup"><span data-stu-id="70426-114">You can as easily deploy a Virtual Machine and its related resources.</span></span> <span data-ttu-id="70426-115">Visual Studio fournit de nombreux modèles de démarrage différents pour déployer des scénarios courants.</span><span class="sxs-lookup"><span data-stu-id="70426-115">Visual Studio provides many different starter templates for deploying common scenarios.</span></span>

<span data-ttu-id="70426-116">Cet article présente Visual Studio 2017.</span><span class="sxs-lookup"><span data-stu-id="70426-116">This article shows Visual Studio 2017.</span></span> <span data-ttu-id="70426-117">Si vous utilisez Visual Studio 2015 Update 2 et le kit de développement logiciel (SDK) Microsoft Azure pour .NET 2.9 ou Visual Studio 2013 avec Azure SDK 2.9, votre expérience sera sensiblement identique.</span><span class="sxs-lookup"><span data-stu-id="70426-117">If you use Visual Studio 2015 Update 2 and Microsoft Azure SDK for .NET 2.9, or Visual Studio 2013 with Azure SDK 2.9, your experience is largely the same.</span></span> <span data-ttu-id="70426-118">Vous pouvez également utiliser la version 2.6 ou les versions ultérieures du Kit de développement logiciel (SDK) Azure, mais l’interface utilisateur que vous verrez peut différer de celle illustrée dans cet article.</span><span class="sxs-lookup"><span data-stu-id="70426-118">You can use versions of the Azure SDK from 2.6 or later; however, your experience of the user interface may be different than the user interface shown in this article.</span></span> <span data-ttu-id="70426-119">Nous vous recommandons fortement d’installer la dernière version du [Kit de développement logiciel (SDK) Azure](https://azure.microsoft.com/downloads/) avant de commencer à suivre les étapes.</span><span class="sxs-lookup"><span data-stu-id="70426-119">We strongly recommend that you install the latest version of the [Azure SDK](https://azure.microsoft.com/downloads/) before starting the steps.</span></span> 

## <a name="create-azure-resource-group-project"></a><span data-ttu-id="70426-120">Créer un projet de groupe de ressources Azure</span><span class="sxs-lookup"><span data-stu-id="70426-120">Create Azure Resource Group project</span></span>
<span data-ttu-id="70426-121">Au cours de cette procédure, vous allez apprendre à créer un projet de groupe de ressources Azure avec un modèle **Application web + SQL** .</span><span class="sxs-lookup"><span data-stu-id="70426-121">In this procedure, you create an Azure Resource Group project with a **Web app + SQL** template.</span></span>

1. <span data-ttu-id="70426-122">Dans Visual Studio, sélectionnez **Fichier**, **Nouveau projet**, puis choisissez **C#** ou **Visual Basic**.</span><span class="sxs-lookup"><span data-stu-id="70426-122">In Visual Studio, choose **File**, **New Project**, choose **C#** or **Visual Basic**.</span></span> <span data-ttu-id="70426-123">Choisissez ensuite **Cloud** et le projet de **Groupe de ressources Azure**.</span><span class="sxs-lookup"><span data-stu-id="70426-123">Then choose **Cloud**, and **Azure Resource Group** project.</span></span>
   
    ![Projet de déploiement cloud](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/create-project.png)
2. <span data-ttu-id="70426-125">Choisissez le modèle à déployer sur Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="70426-125">Choose the template that you want to deploy to Azure Resource Manager.</span></span> <span data-ttu-id="70426-126">Notez qu’il existe de nombreuses options différentes selon le type de projet que vous voulez déployer.</span><span class="sxs-lookup"><span data-stu-id="70426-126">Notice there are many different options based on the type of project you wish to deploy.</span></span> <span data-ttu-id="70426-127">Pour cet article, sélectionnez le modèle **Application web + SQL** .</span><span class="sxs-lookup"><span data-stu-id="70426-127">For this article, choose the **Web app + SQL** template.</span></span>
   
    ![Sélectionner un modèle](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/select-project.png)
   
    <span data-ttu-id="70426-129">Le modèle que vous choisissez est seulement un point de départ ; vous pouvez ajouter et supprimer des ressources en fonction des besoins de votre scénario.</span><span class="sxs-lookup"><span data-stu-id="70426-129">The template you pick is just a starting point; you can add and remove resources to fulfill your scenario.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="70426-130">Visual Studio extrait une liste des modèles disponibles en ligne.</span><span class="sxs-lookup"><span data-stu-id="70426-130">Visual Studio retrieves a list of available templates online.</span></span> <span data-ttu-id="70426-131">La liste peut évoluer.</span><span class="sxs-lookup"><span data-stu-id="70426-131">The list may change.</span></span>
   > 
   > 
   
    <span data-ttu-id="70426-132">Visual Studio crée un projet de déploiement de groupe de ressources Azure pour une application web et une base de données SQL.</span><span class="sxs-lookup"><span data-stu-id="70426-132">Visual Studio creates a resource group deployment project for the web app and SQL database.</span></span>
3. <span data-ttu-id="70426-133">Pour voir les éléments créés, consultez les nœuds du projet de déploiement.</span><span class="sxs-lookup"><span data-stu-id="70426-133">To see what you created, look at the node in the deployment project.</span></span>
   
    ![afficher les nœuds](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/show-items.png)
   
    <span data-ttu-id="70426-135">Puisque nous avons choisi le modèle Application web + SQL pour cet exemple, vous voyez les fichiers suivants :</span><span class="sxs-lookup"><span data-stu-id="70426-135">Since we chose the Web app + SQL template for this example, you see the following files:</span></span> 
   
   | <span data-ttu-id="70426-136">Nom de fichier</span><span class="sxs-lookup"><span data-stu-id="70426-136">File name</span></span> | <span data-ttu-id="70426-137">Description</span><span class="sxs-lookup"><span data-stu-id="70426-137">Description</span></span> |
   | --- | --- |
   | <span data-ttu-id="70426-138">Deploy-AzureResourceGroup.ps1</span><span class="sxs-lookup"><span data-stu-id="70426-138">Deploy-AzureResourceGroup.ps1</span></span> |<span data-ttu-id="70426-139">Script PowerShell qui appelle des commandes PowerShell à déployer sur Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="70426-139">A PowerShell script that invokes PowerShell commands to deploy to Azure Resource Manager.</span></span><br /><span data-ttu-id="70426-140">**Remarque** Visual Studio utilise ce script PowerShell pour déployer votre modèle.</span><span class="sxs-lookup"><span data-stu-id="70426-140">**Note** Visual Studio uses this PowerShell script to deploy your template.</span></span> <span data-ttu-id="70426-141">Les modifications apportées à ce script affectent également le déploiement dans Visual Studio. Par conséquent, modifiez ce script avec prudence.</span><span class="sxs-lookup"><span data-stu-id="70426-141">Any changes you make to this script affect deployment in Visual Studio, so be careful.</span></span> |
   | <span data-ttu-id="70426-142">WebSiteSQLDatabase.json</span><span class="sxs-lookup"><span data-stu-id="70426-142">WebSiteSQLDatabase.json</span></span> |<span data-ttu-id="70426-143">Le modèle Resource Manager qui définit l’infrastructure que vous voulez déployer sur Azure, et les paramètres que vous pouvez fournir au cours du déploiement.</span><span class="sxs-lookup"><span data-stu-id="70426-143">The Resource Manager template that defines the infrastructure you want deploy to Azure, and the parameters you can provide during deployment.</span></span> <span data-ttu-id="70426-144">Il définit également les dépendances entre les ressources de manière à ce que Resource Manager les déploie dans le bon ordre.</span><span class="sxs-lookup"><span data-stu-id="70426-144">It also defines the dependencies between the resources so Resource Manager deploys the resources in the correct order.</span></span> |
   | <span data-ttu-id="70426-145">WebSiteSQLDatabase.parameters.json</span><span class="sxs-lookup"><span data-stu-id="70426-145">WebSiteSQLDatabase.parameters.json</span></span> |<span data-ttu-id="70426-146">Un fichier de paramètres qui contient les valeurs requises par le modèle.</span><span class="sxs-lookup"><span data-stu-id="70426-146">A parameters file that contains values needed by the template.</span></span> <span data-ttu-id="70426-147">Vous transmettez des valeurs de paramètres pour personnaliser chaque déploiement.</span><span class="sxs-lookup"><span data-stu-id="70426-147">You pass in parameter values to customize each deployment.</span></span> |
   
    <span data-ttu-id="70426-148">Tous les projets de déploiement de groupe de ressources Azure contiennent ces fichiers de base.</span><span class="sxs-lookup"><span data-stu-id="70426-148">All resource group deployment projects contain these basic files.</span></span> <span data-ttu-id="70426-149">D'autres projets peuvent contenir des fichiers supplémentaires pour prendre en charge d'autres fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="70426-149">Other projects may contain additional files to support other functionality.</span></span>

## <a name="customize-the-resource-manager-template"></a><span data-ttu-id="70426-150">Personnaliser le modèle de gestionnaire de ressources</span><span class="sxs-lookup"><span data-stu-id="70426-150">Customize the Resource Manager template</span></span>
<span data-ttu-id="70426-151">Vous pouvez personnaliser un projet de déploiement en modifiant les modèles JSON qui décrivent les ressources à déployer.</span><span class="sxs-lookup"><span data-stu-id="70426-151">You can customize a deployment project by modifying the JSON templates that describe the resources you want to deploy.</span></span> <span data-ttu-id="70426-152">JSON signifie JavaScript Object Notation. Il s'agit d'un format de données sérialisées facile à utiliser.</span><span class="sxs-lookup"><span data-stu-id="70426-152">JSON stands for JavaScript Object Notation, and is a serialized data format that is easy to work with.</span></span> <span data-ttu-id="70426-153">Les fichiers JSON utilisent un schéma que vous référencez au début de chaque fichier.</span><span class="sxs-lookup"><span data-stu-id="70426-153">The JSON files use a schema that you reference at the top of each file.</span></span> <span data-ttu-id="70426-154">Si vous souhaitez comprendre le schéma, vous pouvez le télécharger et l’analyser.</span><span class="sxs-lookup"><span data-stu-id="70426-154">If you want to understand the schema, you can download and analyze it.</span></span> <span data-ttu-id="70426-155">Le schéma définit les éléments valides, les types et les formats des champs, les valeurs énumérées possibles, etc.</span><span class="sxs-lookup"><span data-stu-id="70426-155">The schema defines what elements are valid, the types and formats of fields, the possible values of enumerated values, and so on.</span></span> <span data-ttu-id="70426-156">Pour en savoir plus sur les éléments du modèle Resource Manager, consultez [Création de modèles Azure Resource Manager](resource-group-authoring-templates.md).</span><span class="sxs-lookup"><span data-stu-id="70426-156">To learn about the elements of the Resource Manager template, see [Authoring Azure Resource Manager templates](resource-group-authoring-templates.md).</span></span>

<span data-ttu-id="70426-157">Pour travailler sur votre modèle, ouvrez **WebSiteSQLDatabase.json**.</span><span class="sxs-lookup"><span data-stu-id="70426-157">To work on your template, open **WebSiteSQLDatabase.json**.</span></span>

<span data-ttu-id="70426-158">L’éditeur Visual Studio fournit des outils pour vous aider à modifier le modèle Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="70426-158">The Visual Studio editor provides tools to assist you with editing the Resource Manager template.</span></span> <span data-ttu-id="70426-159">La fenêtre **Structure JSON** permet de voir facilement les éléments définis dans votre modèle.</span><span class="sxs-lookup"><span data-stu-id="70426-159">The **JSON Outline** window makes it easy to see the elements defined in your template.</span></span>

![afficher la structure JSON](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/show-json-outline.png)

<span data-ttu-id="70426-161">Il vous suffit de sélectionner l’un des éléments de la structure pour accéder à cette partie du modèle et mettre en évidence le JSON correspondant.</span><span class="sxs-lookup"><span data-stu-id="70426-161">Selecting any of the elements in the outline takes you to that part of the template and highlights the corresponding JSON.</span></span>

![explorer JSON](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/navigate-json.png)

<span data-ttu-id="70426-163">Vous pouvez ajouter une ressource en sélectionnant le bouton **Ajouter une ressource** en haut de la fenêtre Structure JSON, ou en double-cliquant sur **Ressources** et en sélectionnant **Ajouter une nouvelle ressource**.</span><span class="sxs-lookup"><span data-stu-id="70426-163">You can add a resource by either selecting the **Add Resource** button at the top of the JSON Outline window, or by right-clicking **resources** and selecting **Add New Resource**.</span></span>

![ajouter une ressource](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/add-resource.png)

<span data-ttu-id="70426-165">Pour ce didacticiel, sélectionnez **Compte de stockage** et donnez-lui un nom.</span><span class="sxs-lookup"><span data-stu-id="70426-165">For this tutorial, select **Storage Account** and give it a name.</span></span> <span data-ttu-id="70426-166">Choisissez un nom qui ne contient pas plus de 11 caractères et uniquement des chiffres et des lettres minuscules.</span><span class="sxs-lookup"><span data-stu-id="70426-166">Provide a name that is no more than 11 characters, and only contains numbers and lower-case letters.</span></span>

![ajouter du stockage](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/add-storage.png)

<span data-ttu-id="70426-168">Notez qu’en plus de la ressource, un paramètre pour le compte de stockage de type et une variable pour le nom du compte de stockage ont été ajoutés.</span><span class="sxs-lookup"><span data-stu-id="70426-168">Notice that not only was the resource added, but also a parameter for the type storage account, and a variable for the name of the storage account.</span></span>

![afficher la structure](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/show-new-items.png)

<span data-ttu-id="70426-170">Le paramètre **storageType** est prédéfini avec des types autorisés et un type par défaut.</span><span class="sxs-lookup"><span data-stu-id="70426-170">The **storageType** parameter is pre-defined with allowed types and a default type.</span></span> <span data-ttu-id="70426-171">Vous pouvez laisser ces valeurs ou les modifier pour votre scénario.</span><span class="sxs-lookup"><span data-stu-id="70426-171">You can leave these values or edit them for your scenario.</span></span> <span data-ttu-id="70426-172">Si vous ne souhaitez autoriser personne à déployer un compte de stockage **Premium_LRS** via ce modèle, supprimez ce dernier des types autorisés.</span><span class="sxs-lookup"><span data-stu-id="70426-172">If you do not want anyone to deploy a **Premium_LRS** storage account through this template, remove it from the allowed types.</span></span> 

```json
"storageType": {
  "type": "string",
  "defaultValue": "Standard_LRS",
  "allowedValues": [
    "Standard_LRS",
    "Standard_ZRS",
    "Standard_GRS",
    "Standard_RAGRS"
  ]
}
```

<span data-ttu-id="70426-173">Visual Studio fournit également des fonctionnalités intellisense pour vous aider à comprendre quelles propriétés sont disponibles lors de la modification du modèle.</span><span class="sxs-lookup"><span data-stu-id="70426-173">Visual Studio also provides intellisense to help you understand what properties are available when editing the template.</span></span> <span data-ttu-id="70426-174">Par exemple, pour modifier les propriétés de votre plan App Service, accédez à la ressource **HostingPlan** et ajoutez une valeur pour les **propriétés**.</span><span class="sxs-lookup"><span data-stu-id="70426-174">For example, to edit the properties for your App Service plan, navigate to the **HostingPlan** resource, and add a value for the **properties**.</span></span> <span data-ttu-id="70426-175">Notez qu’intellisense affiche les valeurs disponibles et fournit une description de cette valeur.</span><span class="sxs-lookup"><span data-stu-id="70426-175">Notice that intellisense shows the available values and provides a description of that value.</span></span>

![afficher intellisense](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/show-intellisense.png)

<span data-ttu-id="70426-177">Vous pouvez définir **numberOfWorkers** sur 1.</span><span class="sxs-lookup"><span data-stu-id="70426-177">You can set **numberOfWorkers** to 1.</span></span>

```json
"properties": {
  "name": "[parameters('hostingPlanName')]",
  "numberOfWorkers": 1
}
```

## <a name="deploy-the-resource-group-project-to-azure"></a><span data-ttu-id="70426-178">Déployer le projet de groupe de ressources sur Azure</span><span class="sxs-lookup"><span data-stu-id="70426-178">Deploy the Resource Group project to Azure</span></span>
<span data-ttu-id="70426-179">Vous êtes maintenant prêt à déployer votre projet.</span><span class="sxs-lookup"><span data-stu-id="70426-179">You are now ready to deploy your project.</span></span> <span data-ttu-id="70426-180">Lorsque vous déployez un projet de groupe de ressources Azure, vous le déployez dans un groupe de ressources Azure.</span><span class="sxs-lookup"><span data-stu-id="70426-180">When you deploy an Azure Resource Group project, you deploy it to an Azure resource group.</span></span> <span data-ttu-id="70426-181">Un groupe de ressources est un regroupement logique de ressources qui partagent un cycle de vie commun.</span><span class="sxs-lookup"><span data-stu-id="70426-181">The resource group is a logical grouping of resources that share a common lifecycle.</span></span>

1. <span data-ttu-id="70426-182">Dans le menu contextuel du nœud du projet de déploiement, choisissez **Déployer** > **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="70426-182">On the shortcut menu of the deployment project node, choose **Deploy** > **New**.</span></span>
   
    ![Déployer, élément de menu Nouveau déploiement](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/deploy.png)
   
    <span data-ttu-id="70426-184">La boîte de dialogue **Déployer vers le groupe de ressources** s’affiche.</span><span class="sxs-lookup"><span data-stu-id="70426-184">The **Deploy to Resource Group** dialog box appears.</span></span>
   
    ![Boîte de dialogue Déployer vers le groupe de ressources](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/show-deployment.png)
2. <span data-ttu-id="70426-186">Dans la zone de liste déroulante **Groupe de ressources** , sélectionnez un groupe de ressources existant ou créez-en un.</span><span class="sxs-lookup"><span data-stu-id="70426-186">In the **Resource group** dropdown box, choose an existing resource group or create a new one.</span></span> <span data-ttu-id="70426-187">Pour créer un groupe de ressources, ouvrez la zone de liste déroulante **Groupe de ressources** et sélectionnez **Créer**.</span><span class="sxs-lookup"><span data-stu-id="70426-187">To create a resource group, open the **Resource Group** dropdown box and choose **Create New**.</span></span>
   
    ![Boîte de dialogue Déployer vers le groupe de ressources](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/create-new-group.png)
   
    <span data-ttu-id="70426-189">La boîte de dialogue **Créer un groupe de ressources** s’affiche.</span><span class="sxs-lookup"><span data-stu-id="70426-189">The **Create Resource Group** dialog box appears.</span></span> <span data-ttu-id="70426-190">Donnez à votre groupe un nom et un emplacement, puis sélectionnez le bouton **Créer** .</span><span class="sxs-lookup"><span data-stu-id="70426-190">Give your group a name and location, and select the **Create** button.</span></span>
   
    ![Boîte de dialogue Créer un groupe de ressources](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/create-resource-group.png)
3. <span data-ttu-id="70426-192">Modifiez les paramètres du déploiement en sélectionnant le bouton **Modifier les paramètres** .</span><span class="sxs-lookup"><span data-stu-id="70426-192">Edit the parameters for the deployment by selecting the **Edit Parameters** button.</span></span>
   
    ![Bouton Modifier les paramètres](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/edit-parameters.png)
4. <span data-ttu-id="70426-194">Fournissez des valeurs pour les paramètres vides et sélectionnez le bouton **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="70426-194">Provide values for the empty parameters and select the **Save** button.</span></span> <span data-ttu-id="70426-195">Les paramètres vides sont **hostingPlanName**, **administratorLogin**, **administratorLoginPassword** et **databaseName**.</span><span class="sxs-lookup"><span data-stu-id="70426-195">The empty parameters are **hostingPlanName**, **administratorLogin**, **administratorLoginPassword**, and **databaseName**.</span></span>
   
    <span data-ttu-id="70426-196">**hostingPlanName** spécifie le nom du [plan App Service](../app-service/azure-web-sites-web-hosting-plans-in-depth-overview.md) à créer.</span><span class="sxs-lookup"><span data-stu-id="70426-196">**hostingPlanName** specifies a name for the [App Service plan](../app-service/azure-web-sites-web-hosting-plans-in-depth-overview.md) to create.</span></span> 
   
    <span data-ttu-id="70426-197">**administratorLogin** spécifie le nom d’utilisateur de l’administrateur SQL Server.</span><span class="sxs-lookup"><span data-stu-id="70426-197">**administratorLogin** specifies the user name for the SQL Server administrator.</span></span> <span data-ttu-id="70426-198">N’utilisez pas de noms d’administrateur communs comme **sa** ou **admin**.</span><span class="sxs-lookup"><span data-stu-id="70426-198">Do not use common admin names like **sa** or **admin**.</span></span> 
   
    <span data-ttu-id="70426-199">**administratorLoginPassword** spécifie le mot de passe d’administrateur SQL Server.</span><span class="sxs-lookup"><span data-stu-id="70426-199">The **administratorLoginPassword** specifies a password for SQL Server administrator.</span></span> <span data-ttu-id="70426-200">L’option **Enregistrer les mots de passe en texte brut dans le fichier de paramètres** n’est pas sécurisée. Ne sélectionnez pas cette option.</span><span class="sxs-lookup"><span data-stu-id="70426-200">The **Save passwords as plain text in the parameters file** option is not secure; therefore, do not select this option.</span></span> <span data-ttu-id="70426-201">Étant donné que le mot de passe n’est pas enregistré en texte brut, vous devez indiquer ce mot de passe à nouveau lors du déploiement.</span><span class="sxs-lookup"><span data-stu-id="70426-201">Since the password is not saved as plain text, you need to provide this password again during deployment.</span></span> 
   
    <span data-ttu-id="70426-202">**databaseName** spécifie le nom de la base de données à créer.</span><span class="sxs-lookup"><span data-stu-id="70426-202">**databaseName** specifies a name for the database to create.</span></span> 
   
    ![Boîte de dialogue Modifier les paramètres](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/provide-parameters.png)
5. <span data-ttu-id="70426-204">Sélectionnez le bouton **Déployer** pour déployer le projet dans Azure.</span><span class="sxs-lookup"><span data-stu-id="70426-204">Choose the **Deploy** button to deploy the project to Azure.</span></span> <span data-ttu-id="70426-205">Une console PowerShell s’ouvre en dehors de l’instance de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="70426-205">A PowerShell console opens outside of the Visual Studio instance.</span></span> <span data-ttu-id="70426-206">Entrez le mot de passe d’administrateur SQL Server dans la console PowerShell lorsque vous y êtes invité.</span><span class="sxs-lookup"><span data-stu-id="70426-206">Enter the SQL Server administrator password in the PowerShell console when prompted.</span></span> <span data-ttu-id="70426-207">**Votre console PowerShell peut être masquée par d’autres éléments ou réduite dans la barre des tâches.**</span><span class="sxs-lookup"><span data-stu-id="70426-207">**Your PowerShell console may be hidden behind other items or minimized in the task bar.**</span></span> <span data-ttu-id="70426-208">Recherchez-la et sélectionnez-la pour indiquer le mot de passe.</span><span class="sxs-lookup"><span data-stu-id="70426-208">Look for this console and select it to provide the password.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="70426-209">Il se peut que Visual Studio vous invite à installer les applets de commande Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="70426-209">Visual Studio may ask you to install the Azure PowerShell cmdlets.</span></span> <span data-ttu-id="70426-210">Vous devez disposer des applets de commande Azure PowerShell pour déployer des groupes de ressources.</span><span class="sxs-lookup"><span data-stu-id="70426-210">You need the Azure PowerShell cmdlets to successfully deploy resource groups.</span></span> <span data-ttu-id="70426-211">Si vous y êtes invité, installez-les.</span><span class="sxs-lookup"><span data-stu-id="70426-211">If prompted, install them.</span></span>
   > 
   > 
6. <span data-ttu-id="70426-212">Ce déploiement peut prendre quelques minutes.</span><span class="sxs-lookup"><span data-stu-id="70426-212">The deployment may take a few minutes.</span></span> <span data-ttu-id="70426-213">La fenêtre **Sortie** indique l’état du déploiement.</span><span class="sxs-lookup"><span data-stu-id="70426-213">In the **Output** windows, you see the status of the deployment.</span></span> <span data-ttu-id="70426-214">Lorsque le déploiement est terminé, le dernier message indique que le déploiement a été réalisé avec succès :</span><span class="sxs-lookup"><span data-stu-id="70426-214">When the deployment has finished, the last message indicates a successful deployment with something similar to:</span></span>
   
        ... 
        18:00:58 - Successfully deployed template 'websitesqldatabase.json' to resource group 'DemoSiteGroup'.
7. <span data-ttu-id="70426-215">Dans un navigateur, ouvrez le [portail Azure](https://portal.azure.com/) et connectez-vous à votre compte.</span><span class="sxs-lookup"><span data-stu-id="70426-215">In a browser, open the [Azure portal](https://portal.azure.com/) and sign in to your account.</span></span> <span data-ttu-id="70426-216">Pour afficher le groupe de ressources, sélectionnez **Groupes de ressources** et le groupe de ressources vers lequel vous avez effectué le déploiement.</span><span class="sxs-lookup"><span data-stu-id="70426-216">To see the resource group, select **Resource groups** and the resource group you deployed to.</span></span>
   
    ![sélectionner un groupe](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/select-group.png)
8. <span data-ttu-id="70426-218">Vous verrez toutes les ressources déployées.</span><span class="sxs-lookup"><span data-stu-id="70426-218">You see all the deployed resources.</span></span> <span data-ttu-id="70426-219">Notez que le nom du compte de stockage n’est pas exactement celui spécifié lors de l’ajout de cette ressource.</span><span class="sxs-lookup"><span data-stu-id="70426-219">Notice that the name of the storage account is not exactly what you specified when adding that resource.</span></span> <span data-ttu-id="70426-220">Le compte de stockage doit être unique.</span><span class="sxs-lookup"><span data-stu-id="70426-220">The storage account must be unique.</span></span> <span data-ttu-id="70426-221">Le modèle ajoute automatiquement une chaîne de caractères au nom que vous avez spécifié pour créer un nom unique.</span><span class="sxs-lookup"><span data-stu-id="70426-221">The template automatically adds a string of characters to the name you provided to provide a unique name.</span></span> 
   
    ![afficher des ressources](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/show-deployed-resources.png)
9. <span data-ttu-id="70426-223">Si vous modifiez et redéployez votre projet, choisissez le groupe de ressources existant dans le menu contextuel du projet de groupe de ressources Azure.</span><span class="sxs-lookup"><span data-stu-id="70426-223">If you make changes and want to redeploy your project, choose the existing resource group from the shortcut menu of Azure resource group project.</span></span> <span data-ttu-id="70426-224">Dans le menu contextuel, sélectionnez **Déployer**, puis le groupe de ressources que vous avez déployé.</span><span class="sxs-lookup"><span data-stu-id="70426-224">On the shortcut menu, choose **Deploy**, and then choose the resource group you deployed.</span></span>
   
    ![Groupe de ressources Azure déployé](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/redeploy.png)

## <a name="deploy-code-with-your-infrastructure"></a><span data-ttu-id="70426-226">Déployer le code avec votre infrastructure</span><span class="sxs-lookup"><span data-stu-id="70426-226">Deploy code with your infrastructure</span></span>
<span data-ttu-id="70426-227">À ce stade, vous avez déployé l’infrastructure de votre application, mais aucun code réel n’est déployé avec le projet.</span><span class="sxs-lookup"><span data-stu-id="70426-227">At this point, you have deployed the infrastructure for your app, but there is no actual code deployed with the project.</span></span> <span data-ttu-id="70426-228">Cet article montre comment déployer une application web et des tables SQL Database lors du déploiement.</span><span class="sxs-lookup"><span data-stu-id="70426-228">This article shows how to deploy a web app and SQL Database tables during deployment.</span></span> <span data-ttu-id="70426-229">Si vous déployez une machine virtuelle au lieu d’une application web, vous devrez exécuter du code sur la machine dans le cadre du déploiement.</span><span class="sxs-lookup"><span data-stu-id="70426-229">If you are deploying a Virtual Machine instead of a web app, you want to run some code on the machine as part of deployment.</span></span> <span data-ttu-id="70426-230">Le processus de déploiement du code pour une application web ou pour la configuration d’une machine virtuelle est quasiment le même.</span><span class="sxs-lookup"><span data-stu-id="70426-230">The process for deploying code for a web app or for setting up a Virtual Machine is almost the same.</span></span>

1. <span data-ttu-id="70426-231">Ajoutez un projet à votre solution Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="70426-231">Add a project to your Visual Studio solution.</span></span> <span data-ttu-id="70426-232">Cliquez avec le bouton droit sur la solution et sélectionnez **Ajouter** > **Nouveau projet**.</span><span class="sxs-lookup"><span data-stu-id="70426-232">Right-click the solution, and select **Add** > **New Project**.</span></span>
   
    ![ajouter un projet](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/add-project.png)
2. <span data-ttu-id="70426-234">Ajoutez une **application web ASP.NET**.</span><span class="sxs-lookup"><span data-stu-id="70426-234">Add an **ASP.NET Web Application**.</span></span> 
   
    ![ajouter une application web](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/add-app.png)
3. <span data-ttu-id="70426-236">Sélectionnez **MVC**.</span><span class="sxs-lookup"><span data-stu-id="70426-236">Select **MVC**.</span></span>
   
    ![sélectionner MVC](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/select-mvc.png)
4. <span data-ttu-id="70426-238">Une fois votre application web créée par Visual Studio, vous voyez les deux projets dans la solution.</span><span class="sxs-lookup"><span data-stu-id="70426-238">After Visual Studio creates your web app, you see both projects in the solution.</span></span>
   
    ![afficher les projets](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/show-projects.png)
5. <span data-ttu-id="70426-240">À présent, vous devez vous assurer que votre projet de groupe de ressources est informé du nouveau projet.</span><span class="sxs-lookup"><span data-stu-id="70426-240">Now, you need to make sure your resource group project is aware of the new project.</span></span> <span data-ttu-id="70426-241">Revenez à votre projet de groupe de ressources (AzureResourceGroup1).</span><span class="sxs-lookup"><span data-stu-id="70426-241">Go back to your resource group project (AzureResourceGroup1).</span></span> <span data-ttu-id="70426-242">Cliquez avec le bouton droit sur **Références** et sélectionnez **Ajouter une référence**.</span><span class="sxs-lookup"><span data-stu-id="70426-242">Right-click **References** and select **Add Reference**.</span></span>
   
    ![Ajouter une référence](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/add-new-reference.png)
6. <span data-ttu-id="70426-244">Sélectionnez le projet d’application web que vous avez créé.</span><span class="sxs-lookup"><span data-stu-id="70426-244">Select the web app project that you created.</span></span>
   
    ![Ajouter une référence](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/add-reference.png)
   
    <span data-ttu-id="70426-246">En ajoutant une référence, vous liez le projet d’application web au projet de groupe de ressources et définissez automatiquement trois propriétés clés.</span><span class="sxs-lookup"><span data-stu-id="70426-246">By adding a reference, you link the web app project to the resource group project, and automatically set three key properties.</span></span> <span data-ttu-id="70426-247">Vous voyez ces propriétés dans la fenêtre **Propriétés** de la référence.</span><span class="sxs-lookup"><span data-stu-id="70426-247">You see these properties in the **Properties** window for the reference.</span></span>
   
      ![voir une référence](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/see-reference.png)
   
    <span data-ttu-id="70426-249">Les propriétés sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="70426-249">The properties are:</span></span>
   
   * <span data-ttu-id="70426-250">**Propriétés supplémentaires** contient l’emplacement intermédiaire du package de déploiement web qui est envoyé vers Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="70426-250">The **Additional Properties** contains the web deployment package staging location that is pushed to the Azure Storage.</span></span> <span data-ttu-id="70426-251">Notez le dossier (ExampleApp) et le fichier (package.zip).</span><span class="sxs-lookup"><span data-stu-id="70426-251">Note the folder (ExampleApp) and file (package.zip).</span></span> <span data-ttu-id="70426-252">Vous devez connaître ces valeurs, car elles doivent être fournies en tant que paramètres lors du déploiement de l’application.</span><span class="sxs-lookup"><span data-stu-id="70426-252">You need to know these values because you provide them as parameters when deploying the app.</span></span> 
   * <span data-ttu-id="70426-253">**Inclure le chemin d’accès au fichier** contient le chemin d’accès à l’emplacement de création du package.</span><span class="sxs-lookup"><span data-stu-id="70426-253">The **Include File Path** contains the path where the package is created.</span></span> <span data-ttu-id="70426-254">**Inclure les cibles** contient la commande que ce déploiement exécute.</span><span class="sxs-lookup"><span data-stu-id="70426-254">The **Include Targets** contains the command that deployment executes.</span></span> 
   * <span data-ttu-id="70426-255">La valeur par défaut **Build;Package** permet au déploiement de construire et créer un package de déploiement web (package.zip).</span><span class="sxs-lookup"><span data-stu-id="70426-255">The default value of **Build;Package** enables the deployment to build and create a web deployment package (package.zip).</span></span>  
     
     <span data-ttu-id="70426-256">Vous n’avez pas besoin de profil de publication, car le déploiement obtient les informations nécessaires à partir des propriétés pour créer le package.</span><span class="sxs-lookup"><span data-stu-id="70426-256">You do not need a publish profile as the deployment gets the necessary information from the properties to create the package.</span></span>
7. <span data-ttu-id="70426-257">Revenez à WebSiteSQLDatabase.json et ajoutez une ressource au modèle.</span><span class="sxs-lookup"><span data-stu-id="70426-257">Go back to WebSiteSQLDatabase.json and add a resource to the template.</span></span>
   
    ![ajouter une ressource](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/add-resource-2.png)
8. <span data-ttu-id="70426-259">Cette fois-ci, sélectionnez **Web Deploy pour les applications Web**.</span><span class="sxs-lookup"><span data-stu-id="70426-259">This time select **Web Deploy for Web Apps**.</span></span> 
   
    ![ajouter web deploy](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/add-web-deploy.png)
9. <span data-ttu-id="70426-261">Redéployez votre projet de groupe de ressources vers le groupe de ressources.</span><span class="sxs-lookup"><span data-stu-id="70426-261">Redeploy your resource group project to the resource group.</span></span> <span data-ttu-id="70426-262">Cette fois, il y a de nouveaux paramètres.</span><span class="sxs-lookup"><span data-stu-id="70426-262">This time there are some new parameters.</span></span> <span data-ttu-id="70426-263">Vous n’avez pas besoin de fournir des valeurs pour **_artifactsLocation** ou **_artifactsLocationSasToken** car Visual Studio les génère automatiquement.</span><span class="sxs-lookup"><span data-stu-id="70426-263">You do not need to provide values for **_artifactsLocation** or **_artifactsLocationSasToken** because Visual Studio automatically generates those values.</span></span> <span data-ttu-id="70426-264">Toutefois, vous devez définir le dossier et le nom de fichier sur le chemin d’accès qui contient le package de déploiement (présenté comme **ExampleAppPackageFolder** et **ExampleAppPackageFileName** dans l’image suivante).</span><span class="sxs-lookup"><span data-stu-id="70426-264">However, you have to set the folder and file name to the path that contains the deployment package (shown as **ExampleAppPackageFolder** and **ExampleAppPackageFileName** in the following image).</span></span> <span data-ttu-id="70426-265">Indiquez les valeurs que vous avez vues précédemment dans les propriétés de référence (**ExampleApp** et **package.zip**).</span><span class="sxs-lookup"><span data-stu-id="70426-265">Provide the values you saw earlier in the reference properties (**ExampleApp** and **package.zip**).</span></span>
   
    ![ajouter web deploy](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/set-new-parameters.png)
   
    <span data-ttu-id="70426-267">Pour le **compte de stockage des artefacts**, sélectionnez celui déployé avec ce groupe de ressources.</span><span class="sxs-lookup"><span data-stu-id="70426-267">For the **Artifact storage account**, select the one deployed with this resource group.</span></span>
10. <span data-ttu-id="70426-268">Une fois le déploiement terminé, sélectionnez votre application web dans le portail.</span><span class="sxs-lookup"><span data-stu-id="70426-268">After the deployment has finished, select your web app in the portal.</span></span> <span data-ttu-id="70426-269">Sélectionnez l’URL pour accéder au site.</span><span class="sxs-lookup"><span data-stu-id="70426-269">Select the URL to browse to the site.</span></span>
    
     ![parcourir le site](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/browse-site.png)
11. <span data-ttu-id="70426-271">Notez que vous avez déployé avec succès l’application ASP.NET par défaut.</span><span class="sxs-lookup"><span data-stu-id="70426-271">Notice that you have successfully deployed the default ASP.NET app.</span></span>
    
     ![afficher l’application déployée](./media/vs-azure-tools-resource-groups-deployment-projects-create-deploy/show-deployed-app.png)

## <a name="next-steps"></a><span data-ttu-id="70426-273">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="70426-273">Next steps</span></span>
* <span data-ttu-id="70426-274">Pour plus d’informations sur la gestion des ressources via le portail, voir [Utilisation du portail Azure pour gérer vos ressources Azure](resource-group-portal.md).</span><span class="sxs-lookup"><span data-stu-id="70426-274">To learn about managing your resources through the portal, see [Using the Azure portal to manage your Azure resources](resource-group-portal.md).</span></span>
* <span data-ttu-id="70426-275">Pour en savoir plus sur les modèles, voir [Création de modèles Azure Resource Manager](resource-group-authoring-templates.md).</span><span class="sxs-lookup"><span data-stu-id="70426-275">To learn more about templates, see [Authoring Azure Resource Manager templates](resource-group-authoring-templates.md).</span></span>

