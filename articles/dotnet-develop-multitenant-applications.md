---
title: "Modèle d'application web mutualisée | Microsoft Docs"
description: "Trouvez des présentations et des modèles de conception architecturaux qui décrivent comment implémenter une application web mutualisée dans Azure."
services: 
documentationcenter: .net
author: wadepickett
manager: wpickett
editor: 
ms.assetid: 4f0281d2-1555-42b0-a99d-1222fade0b0f
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 06/05/2015
ms.author: wpickett
ms.openlocfilehash: 57ba0e46139bda2d74c9f7db0ffab2f2122b0df2
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/03/2017
---
# <a name="multitenant-applications-in-azure"></a><span data-ttu-id="49f3b-103">Applications mutualisées dans Azure</span><span class="sxs-lookup"><span data-stu-id="49f3b-103">Multitenant Applications in Azure</span></span>
<span data-ttu-id="49f3b-104">Une application mutualisée est une ressource partagée qui autorise des utilisateurs distincts, appelés « locataires », à afficher l'application comme s'il s'agissait de la leur.</span><span class="sxs-lookup"><span data-stu-id="49f3b-104">A multitenant application is a shared resource that allows separate users, or "tenants," to view the application as though it was their own.</span></span> <span data-ttu-id="49f3b-105">Un scénario typique qui se prête à une application mutualisée est celui dans lequel tous les utilisateurs de l'application peuvent personnaliser leur expérience utilisateur, tout en ayant les mêmes besoins professionnels de base.</span><span class="sxs-lookup"><span data-stu-id="49f3b-105">A typical scenario that lends itself to a multitenant application is one in which all users of the application may wish to customize the user experience but otherwise have the same basic business requirements.</span></span> <span data-ttu-id="49f3b-106">Exemples d'applications mutualisées : Office 365, Outlook.com et visualstudio.com.</span><span class="sxs-lookup"><span data-stu-id="49f3b-106">Examples of large multitenant applications are Office 365, Outlook.com, and visualstudio.com.</span></span>

<span data-ttu-id="49f3b-107">Du point de vue du fournisseur d'application, les avantages d'une architecture mutualisée touchent principalement à l'efficacité opérationnelle et à la réduction des coûts.</span><span class="sxs-lookup"><span data-stu-id="49f3b-107">From an application provider's perspective, the benefits of multitenancy mostly relate to operational and cost efficiencies.</span></span> <span data-ttu-id="49f3b-108">Une version de votre application peut répondre aux besoins de plusieurs locataires/clients, autorisant ainsi la consolidation des tâches d'administration système telles que la surveillance, le réglage des performances, les mises à jour logicielles et les sauvegardes de données.</span><span class="sxs-lookup"><span data-stu-id="49f3b-108">One version of your application can meet the needs of many tenants/customers, allowing consolidation of system administration tasks such as monitoring, performance tuning, software maintenance, and data backups.</span></span>

<span data-ttu-id="49f3b-109">Voici une liste des objectifs et exigences les plus significatifs du point de vue d'un fournisseur.</span><span class="sxs-lookup"><span data-stu-id="49f3b-109">The following provides a list of the most significant goals and requirements from a provider's perspective.</span></span>

* <span data-ttu-id="49f3b-110">**Approvisionnement**: vous devez être en mesure approvisionner de nouveaux locataires de l’application.</span><span class="sxs-lookup"><span data-stu-id="49f3b-110">**Provisioning**: You must be able to provision new tenants for the application.</span></span>  <span data-ttu-id="49f3b-111">Pour les applications mutualisées incluant un grand nombre de locataires, il est généralement nécessaire d'automatiser ce processus en activant l'approvisionnement libre-service.</span><span class="sxs-lookup"><span data-stu-id="49f3b-111">For multitenant applications with a large number of tenants, it is usually necessary to automate this process by enabling self-service provisioning.</span></span>
* <span data-ttu-id="49f3b-112">**Maintenabilité**: vous devez pouvoir mettre à niveau l'application et effectuer d'autres tâches de maintenance pendant que plusieurs locataires sont en train de l'utiliser.</span><span class="sxs-lookup"><span data-stu-id="49f3b-112">**Maintainability**: You must be able to upgrade the application and perform other maintenance tasks while multiple tenants are using it.</span></span>
* <span data-ttu-id="49f3b-113">**Surveillance**: vous devez pouvoir surveiller l'application en toutes circonstances pour identifier et résoudre les éventuels problèmes.</span><span class="sxs-lookup"><span data-stu-id="49f3b-113">**Monitoring**: You must be able to monitor the application at all times to identify any problems and to troubleshoot them.</span></span> <span data-ttu-id="49f3b-114">Cela inclut la surveillance de la façon dont chaque locataire utilise l'application.</span><span class="sxs-lookup"><span data-stu-id="49f3b-114">This includes monitoring how each tenant is using the application.</span></span>

<span data-ttu-id="49f3b-115">Une application mutualisée correctement mise en œuvre offre les avantages suivants aux utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="49f3b-115">A properly implemented multitenant application provides the following benefits to users.</span></span>

* <span data-ttu-id="49f3b-116">**Isolement**: les activités de locataires individuels n'affectent pas l'utilisation de l'application par les autres locataires.</span><span class="sxs-lookup"><span data-stu-id="49f3b-116">**Isolation**: The activities of individual tenants do not affect the use of the application by other tenants.</span></span> <span data-ttu-id="49f3b-117">Les locataires ne peuvent pas accéder aux données des uns et des autres.</span><span class="sxs-lookup"><span data-stu-id="49f3b-117">Tenants cannot access each other's data.</span></span> <span data-ttu-id="49f3b-118">Le locataire a ainsi l’impression d’avoir une utilisation exclusive de l’application.</span><span class="sxs-lookup"><span data-stu-id="49f3b-118">It appears to the tenant as though they have exclusive use of the application.</span></span>
* <span data-ttu-id="49f3b-119">**Disponibilité**: les locataires individuels veulent que l'application soit constamment disponible, sans doute avec des garanties définies dans un contrat SLA.</span><span class="sxs-lookup"><span data-stu-id="49f3b-119">**Availability**: Individual tenants want the application to be constantly available, perhaps with guarantees defined in an SLA.</span></span> <span data-ttu-id="49f3b-120">À nouveau, les activités des autres locataires ne doivent pas affecter la disponibilité de l'application.</span><span class="sxs-lookup"><span data-stu-id="49f3b-120">Again, the activities of other tenants should not affect the availability of the application.</span></span>
* <span data-ttu-id="49f3b-121">**Extensibilité**: l'application peut être mise à l'échelle pour répondre aux exigences de locataires individuels.</span><span class="sxs-lookup"><span data-stu-id="49f3b-121">**Scalability**: The application scales to meet the demand of individual tenants.</span></span> <span data-ttu-id="49f3b-122">La présence et les actions des autres locataires ne doivent pas affecter les performances de l'application.</span><span class="sxs-lookup"><span data-stu-id="49f3b-122">The presence and actions of other tenants should not affect the performance of the application.</span></span>
* <span data-ttu-id="49f3b-123">**Coûts**: les coûts sont inférieurs au coût de l'exécution d'une application dédiée à un seul locataire, car une architecture mutualisée permet de partager les ressources.</span><span class="sxs-lookup"><span data-stu-id="49f3b-123">**Costs**: Costs are lower than running a dedicated, single-tenant application because multi-tenancy enables the sharing of resources.</span></span>
* <span data-ttu-id="49f3b-124">**Possibilités de personnalisation**.</span><span class="sxs-lookup"><span data-stu-id="49f3b-124">**Customizability**.</span></span> <span data-ttu-id="49f3b-125">possibilité de personnaliser l'application d'un locataire individuel de diverses façons telles qu'en ajoutant ou en supprimant des fonctionnalités, en changeant les couleurs et les logos, ou même en ajoutant son propre code ou script.</span><span class="sxs-lookup"><span data-stu-id="49f3b-125">The ability to customize the application for an individual tenant in various ways such as adding or removing features, changing colors and logos, or even adding their own code or script.</span></span>

<span data-ttu-id="49f3b-126">En résumé, bien que de nombreux aspects soient à prendre en compte pour fournir un service hautement évolutif, il y a également une série d'objectifs et d'exigences communs à de nombreuses applications mutualisées.</span><span class="sxs-lookup"><span data-stu-id="49f3b-126">In short, while there are many considerations that you must take into account to provide a highly scalable service, there are also a number of the goals and requirements that are common to many multitenant applications.</span></span> <span data-ttu-id="49f3b-127">Certains peuvent ne pas concerner des scénarios spécifiques, et l'importance d'objectifs et d'exigences individuels peut différer pour chaque scénario.</span><span class="sxs-lookup"><span data-stu-id="49f3b-127">Some may not be relevant in specific scenarios, and the importance of individual goals and requirements will differ in each scenario.</span></span> <span data-ttu-id="49f3b-128">En tant que fournisseur de l'application mutualisée, vous aurez également des objectifs et des exigences tels que la satisfaction des objectifs et des exigences des locataires, la rentabilité, la facturation, les niveaux de service multiples, l'approvisionnement, la surveillance de la maintenabilité et l'automatisation.</span><span class="sxs-lookup"><span data-stu-id="49f3b-128">As a provider of the multitenant application, you will also have goals and requirements such as, meeting the tenants' goals and requirements, profitability, billing, multiple service levels, provisioning, maintainability monitoring, and automation.</span></span>

<span data-ttu-id="49f3b-129">Pour plus d'informations sur les considérations supplémentaires d'une application mutualisée en matière de conception, consultez la page [Hébergement d'une application mutualisée dans Azure][Hosting a Multi-Tenant Application on Azure].</span><span class="sxs-lookup"><span data-stu-id="49f3b-129">For more information on additional design considerations of a multitenant application, see [Hosting a Multi-Tenant Application on Azure][Hosting a Multi-Tenant Application on Azure].</span></span> <span data-ttu-id="49f3b-130">Pour plus d’informations sur les modèles d’architecture de données des applications de base de données de logiciels en tant que service (SaaS) mutualisés, consultez [Modèles de conception pour les applications SaaS mutualisées avec Base de données SQL Azure](sql-database/sql-database-design-patterns-multi-tenancy-saas-applications.md).</span><span class="sxs-lookup"><span data-stu-id="49f3b-130">For information on common data architecture patterns of multi-tenant software-as-a-service (SaaS) database applications, see [Design Patterns for Multi-tenant SaaS Applications with Azure SQL Database](sql-database/sql-database-design-patterns-multi-tenancy-saas-applications.md).</span></span> 

<span data-ttu-id="49f3b-131">Azure offre de nombreuses fonctionnalités vous permettant de résoudre les problèmes clés rencontrés lors de la conception d'un système mutualisé.</span><span class="sxs-lookup"><span data-stu-id="49f3b-131">Azure provides many features that allow you to address the key problems encountered when designing a multitenant system.</span></span>

<span data-ttu-id="49f3b-132">**Isolement**</span><span class="sxs-lookup"><span data-stu-id="49f3b-132">**Isolation**</span></span>

* <span data-ttu-id="49f3b-133">Segmentation des locataires de site web en fonction des en-têtes d'hôte avec ou sans communication SSL</span><span class="sxs-lookup"><span data-stu-id="49f3b-133">Segment Website Tenants by Host Headers with or without SSL communication</span></span>
* <span data-ttu-id="49f3b-134">Segmentation des locataires de site web en fonction des paramètres de requête</span><span class="sxs-lookup"><span data-stu-id="49f3b-134">Segment Website Tenants by Query Parameters</span></span>
* <span data-ttu-id="49f3b-135">Services Web dans les rôles de travail</span><span class="sxs-lookup"><span data-stu-id="49f3b-135">Web Services in Worker Roles</span></span>
  * <span data-ttu-id="49f3b-136">Rôles de travail.</span><span class="sxs-lookup"><span data-stu-id="49f3b-136">Worker Roles.</span></span> <span data-ttu-id="49f3b-137">traitant généralement les données sur la partie principale d'une application.</span><span class="sxs-lookup"><span data-stu-id="49f3b-137">that typically process data on the backend of an application.</span></span>
  * <span data-ttu-id="49f3b-138">Rôles Web faisant généralement office d'interface frontale pour les applications.</span><span class="sxs-lookup"><span data-stu-id="49f3b-138">Web Roles that typically act as the frontend for applications.</span></span>

<span data-ttu-id="49f3b-139">**Stockage**</span><span class="sxs-lookup"><span data-stu-id="49f3b-139">**Storage**</span></span>

<span data-ttu-id="49f3b-140">Gestion des données telles que la Base de données SQL Azure ou les services Azure Storage tels que le service Table qui fournit des services pour le stockage de grandes quantités de données non structurées, et le service BLOB qui fournit des services pour le stockage de grandes quantités de texte non structuré ou de données binaires telles que de la vidéo, de l'audio et des images.</span><span class="sxs-lookup"><span data-stu-id="49f3b-140">Data management such as Azure SQL Database or Azure Storage services such as the Table service which provides services for storage of large amounts of unstructured data and the Blob service which provides services to store large amounts of unstructured text or binary data such as video, audio and images.</span></span>

* <span data-ttu-id="49f3b-141">Sécurisation de données mutualisées dans des connexions SQL Server par locataire appropriées de la base de données SQL.</span><span class="sxs-lookup"><span data-stu-id="49f3b-141">Securing Multitenant Data in SQL Database appropriate per-tenant SQL Server logins.</span></span>
* <span data-ttu-id="49f3b-142">Utilisation de tables Azure pour les ressources d'application : en spécifiant une stratégie d'accès de niveau conteneur, vous pouvez modifier les autorisations sans avoir à émettre de nouvelles URL pour les ressources protégées au moyen de signatures d'accès partagé.</span><span class="sxs-lookup"><span data-stu-id="49f3b-142">Using Azure Tables for Application Resources By specifying a container level access policy, you can the ability to adjust permissions without having to issue new URL's for the resources protected with shared access signatures.</span></span>
* <span data-ttu-id="49f3b-143">Files d'attentes Azure pour les ressources d'application : les files d'attente Azure sont couramment utilisées pour effectuer le traitement pour le compte de locataires, mais elles peuvent également permettre de distribuer les tâches requises pour l'approvisionnement ou la gestion.</span><span class="sxs-lookup"><span data-stu-id="49f3b-143">Azure Queues for Application Resources Azure queues are commonly used to drive processing on behalf of tenants, but may also be used to distribute work required for provisioning or management.</span></span>
* <span data-ttu-id="49f3b-144">Files d'attente Service Bus pour les ressources d'application qui transfèrent les tâches vers un service partagé. Vous pouvez utiliser une file d'attente unique dans laquelle chaque expéditeur locataire dispose uniquement d'autorisations (telles que dérivées de revendications émises par ACS) de transfert vers cette file d'attente, tandis que seuls les destinataires de ce service sont autorisés à extraire à partir de la file d'attente les données provenant de plusieurs locataires.</span><span class="sxs-lookup"><span data-stu-id="49f3b-144">Service Bus Queues for Application Resources that pushes work to a shared a service, you can use a single queue where each tenant sender only has permissions (as derived from claims issued from ACS) to push to that queue, while only the receivers from the service have permission to pull from the queue the data coming from multiple tenants.</span></span>

<span data-ttu-id="49f3b-145">**Services de connexion et de sécurité**</span><span class="sxs-lookup"><span data-stu-id="49f3b-145">**Connection and Security Services**</span></span>

* <span data-ttu-id="49f3b-146">Azure Service Bus, infrastructure de messagerie située entre des applications et autorisant celles-ci à échanger des messages de façon souple, offrant ainsi une mise à l'échelle et une résilience améliorées.</span><span class="sxs-lookup"><span data-stu-id="49f3b-146">Azure Service Bus, a messaging infrastructure that sits between applications allowing them to exchange messages in a loosely coupled way for improved scale and resiliency.</span></span>

<span data-ttu-id="49f3b-147">**Services de mise en réseau**</span><span class="sxs-lookup"><span data-stu-id="49f3b-147">**Networking Services**</span></span>

<span data-ttu-id="49f3b-148">Azure offre plusieurs services de mise en réseau prenant en charge l'authentification et améliorant la capacité de gestion de vos applications hébergées.</span><span class="sxs-lookup"><span data-stu-id="49f3b-148">Azure provides several networking services that support authentication, and improve manageability of your hosted applications.</span></span> <span data-ttu-id="49f3b-149">Ces services sont les suivants :</span><span class="sxs-lookup"><span data-stu-id="49f3b-149">These services include the following:</span></span>

* <span data-ttu-id="49f3b-150">Azure Virtual Network vous permet d'approvisionner et de gérer des réseaux privés virtuels (VPN) dans Azure, ainsi que de lier ceux-ci de façon sécurisée avec l'infrastructure informatique locale.</span><span class="sxs-lookup"><span data-stu-id="49f3b-150">Azure Virtual Network lets you provision and manage virtual private networks (VPNs) in Azure as well as securely link these with on-premises IT infrastructure.</span></span>
* <span data-ttu-id="49f3b-151">Virtual Network Traffic Manager vous permet de répartir le trafic entrant sur plusieurs services Azure hébergés, qu'ils s'exécutent sur le même centre de données ou sur différents centres de données à travers le monde.</span><span class="sxs-lookup"><span data-stu-id="49f3b-151">Virtual Network Traffic Manager allows you to load balance incoming traffic across multiple hosted Azure services whether they're running in the same datacenter or across different datacenters around the world.</span></span>
* <span data-ttu-id="49f3b-152">Azure Active Directory (Azure AD) est un service moderne, basé sur le protocole REST, qui offre des capacités de contrôle d'accès et de gestion des identités pour vos applications dans le cloud.</span><span class="sxs-lookup"><span data-stu-id="49f3b-152">Azure Active Directory (Azure AD) is a modern, REST-based service that provides identity management and access control capabilities for your cloud applications.</span></span> <span data-ttu-id="49f3b-153">Utilisation d'Azure AD pour les ressources d'application : Azure AD offre une façon simple d'authentifier et d'autoriser les utilisateurs à accéder à vos applications et services Web tout en permettant de ne pas prendre en compte les fonctionnalités d'authentification et d'autorisation dans votre code.</span><span class="sxs-lookup"><span data-stu-id="49f3b-153">Using Azure AD for Application Resources Azure AD to provides an easy way of authenticating and authorizing users to gain access to your web applications and services while allowing the features of authentication and authorization to be factored out of your code.</span></span>
* <span data-ttu-id="49f3b-154">Azure Service Bus offre des capacités de messagerie et de flux de données sécurisées pour les applications distribuées et hybrides, telles que les communications entre les applications hébergées sur Azure et les applications et services locaux, sans nécessiter d'infrastructures de sécurité et de pare-feu complexes.</span><span class="sxs-lookup"><span data-stu-id="49f3b-154">Azure Service Bus provides a secure messaging and data flow capability for distributed and hybrid applications, such as communication between Azure hosted applications and on-premises applications and services, without requiring complex firewall and security infrastructures.</span></span> <span data-ttu-id="49f3b-155">Utilisation de Service Bus Relay pour les ressources d'application : les services qui sont exposés en tant que points de terminaison peuvent appartenir au locataire (par exemple, être hébergés en dehors du système, en local), ou il peut s'agir de services approvisionnés spécifiquement pour le locataire (parce que des données critiques, spécifiques au locataire, transitent par ceux-ci).</span><span class="sxs-lookup"><span data-stu-id="49f3b-155">Using Service Bus Relay for Application Resources to The services that are exposed as endpoints may belong to the tenant (for example, hosted outside of the system, such as on-premises), or they may be services provisioned specifically for the tenant (because sensitive, tenant-specific data travels across them).</span></span>

<span data-ttu-id="49f3b-156">**Approvisionnement de ressources**</span><span class="sxs-lookup"><span data-stu-id="49f3b-156">**Provisioning Resources**</span></span>

<span data-ttu-id="49f3b-157">Azure offre une série de méthodes permettant d'approvisionner de nouveaux locataires pour l'application.</span><span class="sxs-lookup"><span data-stu-id="49f3b-157">Azure provides a number of ways provision new tenants for the application.</span></span> <span data-ttu-id="49f3b-158">Pour les applications mutualisées incluant un grand nombre de locataires, il est généralement nécessaire d'automatiser ce processus en activant l'approvisionnement libre-service.</span><span class="sxs-lookup"><span data-stu-id="49f3b-158">For multitenant applications with a large number of tenants, it is usually necessary to automate this process by enabling self-service provisioning.</span></span>

* <span data-ttu-id="49f3b-159">Les rôles de travail vous permettent d'approvisionner ou d'annuler l'approvisionnement de ressources par locataire (comme lorsqu'un nouveau locataire s'inscrit ou annule), de recueillir des mesures et de gérer la mise à l'échelle sur la base d'une planification spécifique ou en réponse au dépassement des seuils d'indicateurs de performance clé.</span><span class="sxs-lookup"><span data-stu-id="49f3b-159">Worker roles allow you to provision and de-provision per tenant resources (such as when a new tenant signs-up or cancels), collect metrics for metering use, and manage scale following a certain schedule or in response to the crossing of thresholds of key performance indicators.</span></span> <span data-ttu-id="49f3b-160">Ce même rôle peut également être utilisé pour transmettre des mises à jour et des mises à niveau vers la solution.</span><span class="sxs-lookup"><span data-stu-id="49f3b-160">This same role may also be used to push out updates and upgrades to the solution.</span></span>
* <span data-ttu-id="49f3b-161">Les objets blob Azure peuvent être utilisés pour approvisionner des ressources de calcul ou de stockage pré-initialisées pour les nouveaux locataires tout en fournissant des stratégies d'accès de niveau conteneur visant à protéger les packages de service de calcul, les images de disque dur virtuel et d'autres ressources.</span><span class="sxs-lookup"><span data-stu-id="49f3b-161">Azure Blobs can be used to provision compute or pre-initialized storage resources for new tenants while providing container level access policies to protect the compute service Packages, VHD images and other resources.</span></span>
* <span data-ttu-id="49f3b-162">Options pour l'approvisionnement de ressources de la base de données SQL pour un locataire :</span><span class="sxs-lookup"><span data-stu-id="49f3b-162">Options for provisioning SQL Database resources for a tenant include:</span></span>
  
  * <span data-ttu-id="49f3b-163">Langage DDL dans les scripts ou incorporé en tant que ressources au sein d'assemblys</span><span class="sxs-lookup"><span data-stu-id="49f3b-163">DDL in scripts or embedded as resources within assemblies</span></span>
  * <span data-ttu-id="49f3b-164">Packages DAC SQL Server 2008 R2 déployés par programme</span><span class="sxs-lookup"><span data-stu-id="49f3b-164">SQL Server 2008 R2 DAC Packages deployed programmatically.</span></span>
  * <span data-ttu-id="49f3b-165">Copie à partir d'une base de données de référence principale</span><span class="sxs-lookup"><span data-stu-id="49f3b-165">Copying from a master reference database</span></span>
  * <span data-ttu-id="49f3b-166">Utilisation de l'importation et de l'exportation de base de données pour approvisionner de nouvelles bases de données à partir d'un fichier</span><span class="sxs-lookup"><span data-stu-id="49f3b-166">Using database Import and Export to provision new databases from a file.</span></span>

<!--links-->

[Hosting a Multi-Tenant Application on Azure]: http://msdn.microsoft.com/library/hh534480.aspx
[Designing Multitenant Applications on Azure]: http://msdn.microsoft.com/library/windowsazure/hh689716
