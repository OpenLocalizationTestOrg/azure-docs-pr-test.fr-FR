---
title: "Sauvegarde Azure : récupérer des fichiers et des dossiers à partir d’une sauvegarde de machine virtuelle Azure | Microsoft Docs"
description: "Récupérer des fichiers à partir d’un point de récupération de machine virtuelle Azure"
services: backup
documentationcenter: dev-center-name
author: pvrk
manager: shivamg
keywords: "récupération au niveau élément ; récupération de fichiers à partir d’une sauvegarde de machine virtuelle Azure ; restaurer des fichiers à partir d’une machine virtuelle Azure"
ms.assetid: f1c067a2-4826-4da4-b97a-c5fd6c189a77
ms.service: backup
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: storage-backup-recovery
ms.date: 07/20/2017
ms.author: pullabhk;markgal
ms.openlocfilehash: 1a62a0ed83d61272c032ac0377a54099ed118db4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="recover-files-from-azure-virtual-machine-backup"></a><span data-ttu-id="a6f17-104">Récupérer des fichiers à partir d’une sauvegarde de machine virtuelle Azure</span><span class="sxs-lookup"><span data-stu-id="a6f17-104">Recover files from Azure virtual machine backup</span></span>

<span data-ttu-id="a6f17-105">Azure backup offre hello capacité toorestore [machines virtuelles Azure et les disques](./backup-azure-arm-restore-vms.md) à partir de sauvegardes de machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="a6f17-105">Azure backup provides hello capability toorestore [Azure VMs and disks](./backup-azure-arm-restore-vms.md) from Azure VM backups.</span></span> <span data-ttu-id="a6f17-106">Cet article explique comment récupérer des éléments tels que des fichiers et des dossiers à partir d’une sauvegarde de machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="a6f17-106">Now this article explains how you can recover items such as files and folders from an Azure VM backup.</span></span>

> [!Note]
> <span data-ttu-id="a6f17-107">Cette fonctionnalité est disponible pour les machines virtuelles Azure déployé à l’aide du modèle de gestionnaire de ressources hello et protégé tooa coffre Recovery services.</span><span class="sxs-lookup"><span data-stu-id="a6f17-107">This feature is available for Azure VMs deployed using hello Resource Manager model and protected tooa Recovery services vault.</span></span>
> <span data-ttu-id="a6f17-108">La récupération de fichiers à partir d’une sauvegarde de machine virtuelle chiffrée n’est pas prise en charge.</span><span class="sxs-lookup"><span data-stu-id="a6f17-108">File recovery from an encrypted VM backup is not supported.</span></span>
>

## <a name="mount-hello-volume-and-copy-files"></a><span data-ttu-id="a6f17-109">Monter hello volume et copier des fichiers</span><span class="sxs-lookup"><span data-stu-id="a6f17-109">Mount hello volume and copy files</span></span>

1. <span data-ttu-id="a6f17-110">L’authentification à hello [portail Azure](http://portal.Azure.com).</span><span class="sxs-lookup"><span data-stu-id="a6f17-110">Sign into hello [Azure portal](http://portal.Azure.com).</span></span> <span data-ttu-id="a6f17-111">Recherchez coffre hello pertinentes Recovery services et sauvegarder l’élément hello requis.</span><span class="sxs-lookup"><span data-stu-id="a6f17-111">Find hello relevant Recovery services vault and hello required backup item.</span></span>

2. <span data-ttu-id="a6f17-112">Dans le panneau d’élément de sauvegarde hello, cliquez sur **récupération de fichier**</span><span class="sxs-lookup"><span data-stu-id="a6f17-112">On hello Backup Item blade, click **File Recovery**</span></span>

    ![Ouvrir l’élément de sauvegarde du coffre Recovery Services.](./media/backup-azure-restore-files-from-vm/open-vault-item.png)

    <span data-ttu-id="a6f17-114">Hello **récupération de fichier** panneau s’ouvre.</span><span class="sxs-lookup"><span data-stu-id="a6f17-114">hello **File Recovery** blade opens.</span></span>

    ![Panneau Récupération de fichier](./media/backup-azure-restore-files-from-vm/file-recovery-blade.png)

3. <span data-ttu-id="a6f17-116">À partir de hello **sélectionner le point de récupération** menu déroulant, le point de récupération hello select qui contient les fichiers hello souhaité.</span><span class="sxs-lookup"><span data-stu-id="a6f17-116">From hello **Select recovery point** drop-down menu, select hello recovery point that contains hello files you want.</span></span> <span data-ttu-id="a6f17-117">Par défaut, dernier point de récupération hello est déjà sélectionné.</span><span class="sxs-lookup"><span data-stu-id="a6f17-117">By default, hello latest recovery point is already selected.</span></span>

4. <span data-ttu-id="a6f17-118">Cliquez sur **télécharger le fichier exécutable** (pour la machine virtuelle Windows Azure) ou **télécharger le Script** (pour Linux Azure VM) logiciels de hello toodownload que vous allez utiliser toocopy des fichiers de point de récupération hello.</span><span class="sxs-lookup"><span data-stu-id="a6f17-118">Click **Download Executable** (for Windows Azure VM) or **Download Script** (for Linux Azure VM) toodownload hello software that you'll use toocopy files from hello recovery point.</span></span>

  <span data-ttu-id="a6f17-119">Hello exécutable/script crée une connexion entre l’ordinateur local de hello et hello spécifié point de récupération.</span><span class="sxs-lookup"><span data-stu-id="a6f17-119">hello executable/script creates a connection between hello local computer and hello specified recovery point.</span></span>

5. <span data-ttu-id="a6f17-120">Vous avez besoin d’un mot de passe toorun hello téléchargé script/exécutable.</span><span class="sxs-lookup"><span data-stu-id="a6f17-120">You need a password toorun hello downloaded script/executable.</span></span> <span data-ttu-id="a6f17-121">Vous pouvez copier le mot de passe hello à partir du portail hello à l’aide du bouton en regard de mot de passe généré de hello hello</span><span class="sxs-lookup"><span data-stu-id="a6f17-121">You can copy hello password from hello portal using hello copy button beside hello generated password</span></span>

    ![Mot de passe généré](./media/backup-azure-restore-files-from-vm/generated-pswd.png)

6. <span data-ttu-id="a6f17-123">Sur hello ordinateur sur lequel les fichiers hello toorecover, exécutez hello exécutable/script.</span><span class="sxs-lookup"><span data-stu-id="a6f17-123">On hello computer where you want toorecover hello files, run hello executable/script.</span></span> <span data-ttu-id="a6f17-124">Vous devez l’exécuter en tant qu’administrateur.</span><span class="sxs-lookup"><span data-stu-id="a6f17-124">You must run it with Administrator credentials.</span></span> <span data-ttu-id="a6f17-125">Si vous exécutez le script de hello sur un ordinateur avec accès restreint, vérifiez l’accès à :</span><span class="sxs-lookup"><span data-stu-id="a6f17-125">If you run hello script on a computer with restricted access, ensure there is access to:</span></span>

    - <span data-ttu-id="a6f17-126">download.microsoft.com</span><span class="sxs-lookup"><span data-stu-id="a6f17-126">download.microsoft.com</span></span>
    - <span data-ttu-id="a6f17-127">points de terminaison Azure utilisés pour les sauvegardes de machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="a6f17-127">Azure endpoints used for Azure VM backups</span></span>
    - <span data-ttu-id="a6f17-128">port sortant 3260</span><span class="sxs-lookup"><span data-stu-id="a6f17-128">outbound port 3260</span></span>

   <span data-ttu-id="a6f17-129">Pour Linux, script de hello nécessite les composants 'open-iscsi' et 'lshw' point de récupération tooconnect toohello.</span><span class="sxs-lookup"><span data-stu-id="a6f17-129">For Linux, hello script requires 'open-iscsi' and 'lshw' components tooconnect toohello recovery point.</span></span> <span data-ttu-id="a6f17-130">Si ceux n’existent pas sur l’ordinateur hello où elle est exécutée, elle demande composants concernés d’autorisation tooinstall hello et les installe sur son consentement.</span><span class="sxs-lookup"><span data-stu-id="a6f17-130">If those do not exist on hello machine where it is run, it asks for permission tooinstall hello relevant components and installs them upon consent.</span></span>
   
   <span data-ttu-id="a6f17-131">Entrez le mot de passe hello copié à partir du portail hello lorsque vous y êtes invité.</span><span class="sxs-lookup"><span data-stu-id="a6f17-131">Enter hello password copied from hello portal when prompted.</span></span> <span data-ttu-id="a6f17-132">Une fois que le mot de passe valide hello est entré les scripts hello établit une connexion point de récupération toohello.</span><span class="sxs-lookup"><span data-stu-id="a6f17-132">Once hello valid password is entered hello scripts connects toohello recovery point.</span></span>
      
    ![Panneau Récupération de fichier](./media/backup-azure-restore-files-from-vm/executable-output.png)
    
   
   <span data-ttu-id="a6f17-134">Vous pouvez exécuter le script de hello sur les ordinateurs où le système d’exploitation de hello identiques (ou compatibles) comme hello sauvegardé machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="a6f17-134">You can run hello script on any machine that has hello same (or compatible) operating system as hello backed-up VM.</span></span> <span data-ttu-id="a6f17-135">Consultez hello [table du système d’exploitation Compatible](backup-azure-restore-files-from-vm.md#compatible-os) pour les systèmes d’exploitation compatibles.</span><span class="sxs-lookup"><span data-stu-id="a6f17-135">See hello [Compatible OS table](backup-azure-restore-files-from-vm.md#compatible-os) for compatible operating systems.</span></span> <span data-ttu-id="a6f17-136">Si hello protégé Azure virtuel utilise machine des espaces de stockage de Windows (pour les machines virtuelles Windows Azure) ou le Gestionnaire de volume logique/RAID Arrays(for Linux VMs), puis vous ne pouvez pas exécuter hello exécutable/script sur hello même machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="a6f17-136">If hello protected Azure virtual machine uses Windows Storage Spaces (for Windows Azure VMs) or LVM/RAID Arrays(for Linux VMs), then you can't run hello executable/script on hello same virtual machine.</span></span> <span data-ttu-id="a6f17-137">Au lieu de cela, exécutez-la sur n’importe quelle autre machine avec un système d’exploitation compatible.</span><span class="sxs-lookup"><span data-stu-id="a6f17-137">Instead, run it on any other machine with a compatible operating system.</span></span>

### <a name="compatible-os"></a><span data-ttu-id="a6f17-138">Systèmes d’exploitation compatibles</span><span class="sxs-lookup"><span data-stu-id="a6f17-138">Compatible OS</span></span>

#### <a name="for-windows"></a><span data-ttu-id="a6f17-139">Pour Windows</span><span class="sxs-lookup"><span data-stu-id="a6f17-139">For Windows</span></span>

<span data-ttu-id="a6f17-140">Hello suivant table affiche hello compatibilité entre les systèmes d’exploitation serveur et l’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="a6f17-140">hello following table shows hello compatibility between server and computer operating systems.</span></span> <span data-ttu-id="a6f17-141">Lors de la récupération de fichiers, vous ne pouvez pas restaurer des fichiers entre des systèmes d’exploitation incompatibles.</span><span class="sxs-lookup"><span data-stu-id="a6f17-141">When recovering files, you can't restore files between incompatible operating systems.</span></span>

|<span data-ttu-id="a6f17-142">Système d’exploitation serveur</span><span class="sxs-lookup"><span data-stu-id="a6f17-142">Server OS</span></span> | <span data-ttu-id="a6f17-143">Système d’exploitation client compatible</span><span class="sxs-lookup"><span data-stu-id="a6f17-143">Compatible client OS</span></span>  |
| --------------- | ---- |
| <span data-ttu-id="a6f17-144">Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="a6f17-144">Windows Server 2012 R2</span></span> | <span data-ttu-id="a6f17-145">Windows 8.1</span><span class="sxs-lookup"><span data-stu-id="a6f17-145">Windows 8.1</span></span> |
| <span data-ttu-id="a6f17-146">Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="a6f17-146">Windows Server 2012</span></span>    | <span data-ttu-id="a6f17-147">Windows 8</span><span class="sxs-lookup"><span data-stu-id="a6f17-147">Windows 8</span></span>  |
| <span data-ttu-id="a6f17-148">Windows Server 2008 R2</span><span class="sxs-lookup"><span data-stu-id="a6f17-148">Windows Server 2008 R2</span></span> | <span data-ttu-id="a6f17-149">Windows 7</span><span class="sxs-lookup"><span data-stu-id="a6f17-149">Windows 7</span></span>   |

#### <a name="for-linux"></a><span data-ttu-id="a6f17-150">Pour Linux</span><span class="sxs-lookup"><span data-stu-id="a6f17-150">For Linux</span></span>

<span data-ttu-id="a6f17-151">Sous Linux, condition fondamentale de hello est que hello du système d’exploitation de l’ordinateur hello où le script de hello est exécutée doit prendre en charge du système de fichiers hello Hello fichiers présents dans hello sauvegardéent Linux VM.</span><span class="sxs-lookup"><span data-stu-id="a6f17-151">In Linux, hello fundamental requirement is that hello OS of hello machine where hello script is run should support hello filesystem of hello files present in hello backed-up Linux VM.</span></span> <span data-ttu-id="a6f17-152">Lors du choix d’un script de hello toorun machine, vérifiez que l’il possède des versions compatibles de système d’exploitation et hello hello comme indiqué dans le tableau hello ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="a6f17-152">While selecting a machine toorun hello script, please ensure it has hello compatible OS and hello versions as mentioned in hello table below.</span></span>

|<span data-ttu-id="a6f17-153">Système d’exploitation Linux</span><span class="sxs-lookup"><span data-stu-id="a6f17-153">Linux OS</span></span> | <span data-ttu-id="a6f17-154">Versions</span><span class="sxs-lookup"><span data-stu-id="a6f17-154">Versions</span></span>  |
| --------------- | ---- |
| <span data-ttu-id="a6f17-155">Ubuntu</span><span class="sxs-lookup"><span data-stu-id="a6f17-155">Ubuntu</span></span> | <span data-ttu-id="a6f17-156">12.04 et versions ultérieures</span><span class="sxs-lookup"><span data-stu-id="a6f17-156">12.04 and above</span></span> |
| <span data-ttu-id="a6f17-157">CentOS</span><span class="sxs-lookup"><span data-stu-id="a6f17-157">CentOS</span></span> | <span data-ttu-id="a6f17-158">6.5 et versions ultérieures</span><span class="sxs-lookup"><span data-stu-id="a6f17-158">6.5 and above</span></span>  |
| <span data-ttu-id="a6f17-159">RHEL</span><span class="sxs-lookup"><span data-stu-id="a6f17-159">RHEL</span></span> | <span data-ttu-id="a6f17-160">6.7 et versions ultérieures</span><span class="sxs-lookup"><span data-stu-id="a6f17-160">6.7 and above</span></span> |
| <span data-ttu-id="a6f17-161">Debian</span><span class="sxs-lookup"><span data-stu-id="a6f17-161">Debian</span></span> | <span data-ttu-id="a6f17-162">7 et versions ultérieures</span><span class="sxs-lookup"><span data-stu-id="a6f17-162">7 and above</span></span> |
| <span data-ttu-id="a6f17-163">Oracle Linux</span><span class="sxs-lookup"><span data-stu-id="a6f17-163">Oracle Linux</span></span> | <span data-ttu-id="a6f17-164">6.4 et versions ultérieures</span><span class="sxs-lookup"><span data-stu-id="a6f17-164">6.4 and above</span></span> |

<span data-ttu-id="a6f17-165">script de Hello requiert aussi python et bash tooexecute de composants et vous connecter en toute sécurité point de récupération toohello.</span><span class="sxs-lookup"><span data-stu-id="a6f17-165">hello script also requires python and bash components tooexecute and connect securely toohello recovery point.</span></span>

|<span data-ttu-id="a6f17-166">Composant</span><span class="sxs-lookup"><span data-stu-id="a6f17-166">Component</span></span> | <span data-ttu-id="a6f17-167">Version</span><span class="sxs-lookup"><span data-stu-id="a6f17-167">Version</span></span>  |
| --------------- | ---- |
| <span data-ttu-id="a6f17-168">bash</span><span class="sxs-lookup"><span data-stu-id="a6f17-168">bash</span></span> | <span data-ttu-id="a6f17-169">4 et versions ultérieures</span><span class="sxs-lookup"><span data-stu-id="a6f17-169">4 and above</span></span> |
| <span data-ttu-id="a6f17-170">python</span><span class="sxs-lookup"><span data-stu-id="a6f17-170">python</span></span> | <span data-ttu-id="a6f17-171">2.6.6 et versions ultérieures</span><span class="sxs-lookup"><span data-stu-id="a6f17-171">2.6.6 and above</span></span>  |


### <a name="identifying-volumes"></a><span data-ttu-id="a6f17-172">Identification des volumes</span><span class="sxs-lookup"><span data-stu-id="a6f17-172">Identifying Volumes</span></span>

#### <a name="for-windows"></a><span data-ttu-id="a6f17-173">Pour Windows</span><span class="sxs-lookup"><span data-stu-id="a6f17-173">For Windows</span></span>

<span data-ttu-id="a6f17-174">Lorsque vous exécutez hello exécutable, système d’exploitation de hello monte les volumes nouvelle hello et attribue des lettres de lecteur.</span><span class="sxs-lookup"><span data-stu-id="a6f17-174">When you run hello exectuable, hello operating system mounts hello new volumes and assigns drive letters.</span></span> <span data-ttu-id="a6f17-175">Vous pouvez utiliser l’Explorateur Windows ou l’Explorateur de fichiers toobrowse ces lecteurs.</span><span class="sxs-lookup"><span data-stu-id="a6f17-175">You can use Windows Explorer or File Explorer toobrowse those drives.</span></span> <span data-ttu-id="a6f17-176">Hello lettres de lecteur affectées toohello volumes peut-être pas hello mêmes lettres que hello les ordinateur virtuel d’origine, toutefois, hello nom de volume sont conservé.</span><span class="sxs-lookup"><span data-stu-id="a6f17-176">hello drive letters assigned toohello volumes may not be hello same letters as hello original virtual machine, however, hello volume name is preserved.</span></span> <span data-ttu-id="a6f17-177">Par exemple, si hello volume sur l’ordinateur virtuel d’origine de hello a été « disque de données (E:\)», que le volume peut être attaché en tant que « disque de données (« Aucune lettre de lecteur disponible » :\) sur l’ordinateur local de hello.</span><span class="sxs-lookup"><span data-stu-id="a6f17-177">For example, if hello volume on hello original virtual machine was “Data Disk (E:\)”, that volume can be attached as “Data Disk ('Any drive letter available':\) on hello local computer.</span></span> <span data-ttu-id="a6f17-178">Parcourir tous les volumes mentionnés dans la sortie du script hello jusqu'à ce que vous trouviez votre dossier de fichiers /.</span><span class="sxs-lookup"><span data-stu-id="a6f17-178">Browse through all volumes mentioned in hello script output until you find your files/folder.</span></span>  
       
   ![Panneau Récupération de fichier](./media/backup-azure-restore-files-from-vm/volumes-attached.png)
           
#### <a name="for-linux"></a><span data-ttu-id="a6f17-180">Pour Linux</span><span class="sxs-lookup"><span data-stu-id="a6f17-180">For Linux</span></span>

<span data-ttu-id="a6f17-181">Sous Linux, volumes hello hello du point de récupération sont dossier monté toohello où le script de hello est exécutée.</span><span class="sxs-lookup"><span data-stu-id="a6f17-181">In Linux, hello volumes of hello recovery point are mounted toohello folder where hello script is run.</span></span> <span data-ttu-id="a6f17-182">Hello attacher des disques, volumes et montage correspondante de hello chemins d’accès sont affichés en conséquence.</span><span class="sxs-lookup"><span data-stu-id="a6f17-182">hello attached disks, volumes and hello corresponding mount paths are shown accordingly.</span></span> <span data-ttu-id="a6f17-183">Ces chemins d’accès de montage sont visibles toousers ayant un accès au niveau racine.</span><span class="sxs-lookup"><span data-stu-id="a6f17-183">These mount paths are visible toousers having root level access.</span></span> <span data-ttu-id="a6f17-184">Parcourir les volumes hello mentionnés dans la sortie du script hello.</span><span class="sxs-lookup"><span data-stu-id="a6f17-184">Browse through hello volumes mentioned in hello script output.</span></span>

  ![Panneau Récupération de fichier Linux](./media/backup-azure-restore-files-from-vm/linux-mount-paths.png)
  

## <a name="closing-hello-connection"></a><span data-ttu-id="a6f17-186">Fermeture de la connexion de hello</span><span class="sxs-lookup"><span data-stu-id="a6f17-186">Closing hello connection</span></span>

<span data-ttu-id="a6f17-187">Après avoir identifié les fichiers de hello, les copier l’emplacement de stockage local tooa, supprimez (ou démonter) des lecteurs supplémentaires hello.</span><span class="sxs-lookup"><span data-stu-id="a6f17-187">After identifying hello files and copying them tooa local storage location, remove (or unmount) hello additional drives.</span></span> <span data-ttu-id="a6f17-188">lecteurs toounmount hello, hello **récupération de fichier** panneau Bonjour portail Azure, cliquez sur **démontage de disques**.</span><span class="sxs-lookup"><span data-stu-id="a6f17-188">toounmount hello drives, on hello **File Recovery** blade in hello Azure portal, click **Unmount Disks**.</span></span>

![Démonter les disques](./media/backup-azure-restore-files-from-vm/unmount-disks3.png)

<span data-ttu-id="a6f17-190">Une fois que les disques hello ont été démontés, vous recevez un message vous informe qu’il a réussi.</span><span class="sxs-lookup"><span data-stu-id="a6f17-190">Once hello disks have been unmounted, you receive a message letting you know it was successful.</span></span> <span data-ttu-id="a6f17-191">Il peut prendre quelques minutes pour hello connexion toorefresh afin que vous pouvez supprimer les disques hello.</span><span class="sxs-lookup"><span data-stu-id="a6f17-191">It may take a few minutes for hello connection toorefresh so that you can remove hello disks.</span></span>

<span data-ttu-id="a6f17-192">Sous Linux, une fois le point de récupération toohello hello connexion est interrompue, hello du système d’exploitation ne supprime pas chemins d’accès de montage correspondants hello automatiquement.</span><span class="sxs-lookup"><span data-stu-id="a6f17-192">In Linux, after hello connection toohello recovery point is severed, hello OS doesn't remove hello corresponding mount paths automatically.</span></span> <span data-ttu-id="a6f17-193">Ils se trouvent en tant que volumes de « orphelin » et ils sont visibles, mais génère une erreur lorsque vous les fichiers hello accès/écriture.</span><span class="sxs-lookup"><span data-stu-id="a6f17-193">These exist as "orphan" volumes and they are visible but throw an error when you access/write hello files.</span></span> <span data-ttu-id="a6f17-194">Ils peuvent être supprimés manuellement.</span><span class="sxs-lookup"><span data-stu-id="a6f17-194">They can be manually removed.</span></span> <span data-ttu-id="a6f17-195">script Hello quand il est exécuté, identifie les volumes de ce type existant à partir des points de récupération précédent et nettoie les lors de son consentement.</span><span class="sxs-lookup"><span data-stu-id="a6f17-195">hello script, when run, identifies any such volumes existing from any previous recovery points and cleans them up upon consent.</span></span>

## <a name="special-configurations"></a><span data-ttu-id="a6f17-196">Configurations spéciales</span><span class="sxs-lookup"><span data-stu-id="a6f17-196">Special configurations</span></span>

### <a name="dynamic-disks"></a><span data-ttu-id="a6f17-197">Disques dynamiques</span><span class="sxs-lookup"><span data-stu-id="a6f17-197">Dynamic Disks</span></span>

<span data-ttu-id="a6f17-198">Si hello machine virtuelle Azure qui a été sauvegardée comporte des volumes qui s’étendent sur plusieurs disques (volumes agrégés et) et/ou des volumes à tolérance de pannes (volumes en miroir ou RAID-5) sur les disques dynamiques, puis vous ne peut pas exécuter un script exécutable hello sur hello même machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="a6f17-198">If hello Azure VM that was backed up has volumes that span multiple disks (spanned and striped volumes) and/or fault-tolerant volumes (mirrored and RAID-5 volumes) on dynamic disks, then you can't run hello executable script on hello same VM.</span></span> <span data-ttu-id="a6f17-199">Au lieu de cela, exécutez un script exécutable hello sur tout autre ordinateur avec un système d’exploitation compatible.</span><span class="sxs-lookup"><span data-stu-id="a6f17-199">Instead, run hello executable script on any other machine with a compatible operating system.</span></span>

### <a name="windows-storage-spaces"></a><span data-ttu-id="a6f17-200">Espaces de stockage Windows</span><span class="sxs-lookup"><span data-stu-id="a6f17-200">Windows Storage Spaces</span></span>

<span data-ttu-id="a6f17-201">Espaces de stockage Windows est une technologie de stockage de Windows qui vous permet le stockage de toovirtualize.</span><span class="sxs-lookup"><span data-stu-id="a6f17-201">Windows Storage Spaces is a technology in Windows storage that enables you toovirtualize storage.</span></span> <span data-ttu-id="a6f17-202">Avec les espaces de stockage Windows, vous pouvez regrouper des disques standard en pools de stockage et puis créer des disques virtuels, appelés espaces de stockage, à partir de l’espace disponible de hello dans les pools de stockage.</span><span class="sxs-lookup"><span data-stu-id="a6f17-202">With Windows Storage Spaces you can group industry-standard disks into storage pools, and then create virtual disks, called storage spaces, from hello available space in those storage pools.</span></span>

<span data-ttu-id="a6f17-203">Si hello machine virtuelle Azure qui a été sauvegardée utilise des espaces de stockage Windows, puis vous ne peut pas exécuter un script exécutable hello sur hello même machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="a6f17-203">If hello Azure VM that was backed up uses Windows Storage Spaces, then you can't run hello executable script on hello same VM.</span></span> <span data-ttu-id="a6f17-204">Au lieu de cela, exécutez un script exécutable hello sur tout autre ordinateur avec un système d’exploitation compatible.</span><span class="sxs-lookup"><span data-stu-id="a6f17-204">Instead, run hello executable script on any other machine with a compatible operating system.</span></span>

### <a name="lvmraid-arrays"></a><span data-ttu-id="a6f17-205">Baies LVM/RAID</span><span class="sxs-lookup"><span data-stu-id="a6f17-205">LVM/RAID Arrays</span></span>

<span data-ttu-id="a6f17-206">Dans Linux, le Gestionnaire de volume logique (LVM) et/ou du logiciel RAID tableaux sont des volumes logiques toomanage utilisé sur plusieurs disques.</span><span class="sxs-lookup"><span data-stu-id="a6f17-206">In Linux, Logical volume manager (LVM) and/or software RAID Arrays are used toomanage logical volumes over multiple disks.</span></span> <span data-ttu-id="a6f17-207">Si hello sauvegardée Linux VM utilise le Gestionnaire de volume logique et/ou des tableaux RAID, vous ne peut pas exécuter les script hello sur hello même machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="a6f17-207">If hello backed up Linux VM uses LVM and/or RAID Arrays, you can't run hello script on hello same VM.</span></span> <span data-ttu-id="a6f17-208">Exécuter à la place de script de hello sur tout autre ordinateur avec le système d’exploitation compatible et qui prend en charge le système de fichiers de hello sauvegardé la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="a6f17-208">Instead run hello script on any other machine with compatible OS and which supports filesystem of hello backed up VM.</span></span>

<span data-ttu-id="a6f17-209">sortie du script Hello affiche hello Gestionnaire de volume logique et/ou les disques de tableaux RAID et les volumes de hello avec le type de partition hello comme indiqué ci-dessous</span><span class="sxs-lookup"><span data-stu-id="a6f17-209">hello script output displays hello LVM and/or RAID Arrays disks and hello volumes with hello partition type as shown below</span></span>

   ![Panneau de sortie de LVM Linux](./media/backup-azure-restore-files-from-vm/linux-LVMOutput.png)
   
<span data-ttu-id="a6f17-211">les commandes Hello suivant besoin toobe exécutée par hello utilisateur toobring ces partitions en ligne.</span><span class="sxs-lookup"><span data-stu-id="a6f17-211">hello following commands need toobe run by hello user toobring these partitions online.</span></span> 

<span data-ttu-id="a6f17-212">**Pour les partitions LVM**</span><span class="sxs-lookup"><span data-stu-id="a6f17-212">**For LVM Partitions**</span></span>

```
$ pvs <volume name as shown above in hello script output> 
```
<span data-ttu-id="a6f17-213">Répertorie les noms de groupe de volumes hello sous un volume physique.</span><span class="sxs-lookup"><span data-stu-id="a6f17-213">This lists hello volume group names under a physical volume.</span></span>

```
$ lvdisplay <volume-group-name from hello pvs command’s results> 
```
<span data-ttu-id="a6f17-214">Cela répertorie tous les volumes logiques, noms et chemins d’accès dans un groupe de volumes.</span><span class="sxs-lookup"><span data-stu-id="a6f17-214">This lists all logical volumes, names and their paths in a volume group.</span></span>

```
$ mount <LV path> </mountpath>
```
<span data-ttu-id="a6f17-215">toomount hello des volumes logiques toohello chemin d’accès de votre choix.</span><span class="sxs-lookup"><span data-stu-id="a6f17-215">toomount hello logical volumes toohello path of your choice.</span></span>


<span data-ttu-id="a6f17-216">**Pour les tableaux RAID**</span><span class="sxs-lookup"><span data-stu-id="a6f17-216">**For RAID Arrays**</span></span>

```
$ mdadm –detail –scan
```
<span data-ttu-id="a6f17-217">Cela affiche des détails sur tous les disques RAID.</span><span class="sxs-lookup"><span data-stu-id="a6f17-217">This displays details about all raid disks.</span></span> <span data-ttu-id="a6f17-218">les disques RAID pertinentes Hello seront affichera en tant que`/dev/mdm/<RAID array name in hello backed up VM>`</span><span class="sxs-lookup"><span data-stu-id="a6f17-218">hello relevant RAID disk will be displayed as `/dev/mdm/<RAID array name in hello backed up VM>`</span></span>

<span data-ttu-id="a6f17-219">Utilisez la commande de montage de hello si le disque RAID hello dispose de volumes physiques.</span><span class="sxs-lookup"><span data-stu-id="a6f17-219">Use hello mount command if hello RAID disk has physical volumes.</span></span>
```
$ mount [RAID Disk Path] [/mounthpath]
```

<span data-ttu-id="a6f17-220">Si ce disque RAID a un autre gestionnaire de volume logique configuré puis suivez hello même procédure, comme indiqué plus haut pour les partitions de gestionnaire de volume logique avec le nom de volume hello étant nom de disque RAID hello</span><span class="sxs-lookup"><span data-stu-id="a6f17-220">If this RAID disk has another LVM configured in it then follow hello same procedure as outlined above for LVM partitions with hello volume name being hello RAID Disk name</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="a6f17-221">Résolution des problèmes</span><span class="sxs-lookup"><span data-stu-id="a6f17-221">Troubleshooting</span></span>

<span data-ttu-id="a6f17-222">Si vous rencontrez des problèmes lors de la récupération de fichiers à partir d’ordinateurs virtuels de hello, vérifiez hello tableau pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="a6f17-222">If you have problems while recovering files from hello virtual machines, check hello following table for additional information.</span></span>

| <span data-ttu-id="a6f17-223">Message d’erreur/Scénario</span><span class="sxs-lookup"><span data-stu-id="a6f17-223">Error Message / Scenario</span></span> | <span data-ttu-id="a6f17-224">Cause probable</span><span class="sxs-lookup"><span data-stu-id="a6f17-224">Probable Cause</span></span> | <span data-ttu-id="a6f17-225">Action recommandée</span><span class="sxs-lookup"><span data-stu-id="a6f17-225">Recommended action</span></span> |
| ------------------------ | -------------- | ------------------ |
| <span data-ttu-id="a6f17-226">Sortie de l’exe : *connexion toohello cible (Exception)*</span><span class="sxs-lookup"><span data-stu-id="a6f17-226">Exe output: *Exception connecting toohello target*</span></span> |<span data-ttu-id="a6f17-227">Script n’est pas un point de récupération tooaccess en mesure de hello</span><span class="sxs-lookup"><span data-stu-id="a6f17-227">Script is not able tooaccess hello recovery point</span></span> | <span data-ttu-id="a6f17-228">Vérifiez si les ordinateur hello satisfait les besoins de l’accès hello mentionnés ci-dessus</span><span class="sxs-lookup"><span data-stu-id="a6f17-228">Check whether hello machine fulfills hello access requirements mentioned above</span></span>|  
|   <span data-ttu-id="a6f17-229">Sortie de l’exe : *hello cible a déjà été connectée via une session ISCSI.*</span><span class="sxs-lookup"><span data-stu-id="a6f17-229">Exe output: *hello target has already been logged in via an ISCSI session.*</span></span> |   <span data-ttu-id="a6f17-230">script de Hello a déjà été exécuté sur hello même ordinateur et hello les lecteurs ont été attachées.</span><span class="sxs-lookup"><span data-stu-id="a6f17-230">hello script was already executed on hello same machine and hello drives have been attached</span></span> |   <span data-ttu-id="a6f17-231">volumes Hello hello du point de récupération ont déjà été attachés.</span><span class="sxs-lookup"><span data-stu-id="a6f17-231">hello volumes of hello recovery point have already been attached.</span></span> <span data-ttu-id="a6f17-232">Ils ne peuvent être montés par hello même des lettres de lecteur hello d’ordinateur virtuel d’origine.</span><span class="sxs-lookup"><span data-stu-id="a6f17-232">They may NOT be mounted with hello same drive letters of hello original VM.</span></span> <span data-ttu-id="a6f17-233">Parcourir tous les volumes disponibles hello dans l’Explorateur de fichiers hello pour votre fichier</span><span class="sxs-lookup"><span data-stu-id="a6f17-233">Browse through all hello available volumes in hello file explorer for your file</span></span> |
| <span data-ttu-id="a6f17-234">Sortie de l’exe : *ce script n’est pas valide, car les disques hello ont été démontés via la limite de 12-hr hello de portail/dépassé. Téléchargez un nouveau script à partir du portail de hello.*</span><span class="sxs-lookup"><span data-stu-id="a6f17-234">Exe output: *This script is invalid because hello disks have been dismounted via portal/exceeded hello 12-hr limit. Please download a new script from hello portal.*</span></span> |    <span data-ttu-id="a6f17-235">les disques Hello ont été démontées du portail de hello ou de la limite de 12-hr hello dépassée</span><span class="sxs-lookup"><span data-stu-id="a6f17-235">hello disks have been dismounted from hello portal or hello 12-hr limit exceeded</span></span> |  <span data-ttu-id="a6f17-236">Ce fichier exécutable en particulier n’est plus valide et ne peut pas être exécuté.</span><span class="sxs-lookup"><span data-stu-id="a6f17-236">This particular exe is now invalid and can’t be run.</span></span> <span data-ttu-id="a6f17-237">Si vous souhaitez tooaccess hello des fichiers de cette récupération limitée dans le temps, visitez le portail de hello pour un nouvel exe</span><span class="sxs-lookup"><span data-stu-id="a6f17-237">If you want tooaccess hello files of that recovery point-in-time, visit hello portal for a new exe</span></span>|
| <span data-ttu-id="a6f17-238">Sur l’ordinateur hello où hello exe est exécuté : nouveaux volumes de hello ne sont pas démontées après hello démontage du bouton</span><span class="sxs-lookup"><span data-stu-id="a6f17-238">On hello machine where hello exe is run: hello new volumes are not dismounted after hello dismount button is clicked</span></span> |    <span data-ttu-id="a6f17-239">initiateur ISCSI de Hello sur l’ordinateur de hello n’est pas de réponse/actualisation de sa cible de toohello de connexion et en conservant le cache de hello</span><span class="sxs-lookup"><span data-stu-id="a6f17-239">hello ISCSI initiator on hello machine is not responding/refreshing its connection toohello target and maintaining hello cache</span></span> |    <span data-ttu-id="a6f17-240">Attendez quelques minutes après que hello démontage bouton est enfoncé.</span><span class="sxs-lookup"><span data-stu-id="a6f17-240">Wait for some mins after hello dismount button is pressed.</span></span> <span data-ttu-id="a6f17-241">Si de nouveaux volumes de hello sont toujours pas démontées, Veuillez parcourir tous les volumes hello.</span><span class="sxs-lookup"><span data-stu-id="a6f17-241">If hello new volumes are still not dismounted, please browse through all hello volumes.</span></span> <span data-ttu-id="a6f17-242">Cette force hello initiateur toorefresh hello connexion et hello volume est démonté avec un message d’erreur qui hello disque n’est pas disponible</span><span class="sxs-lookup"><span data-stu-id="a6f17-242">This forces hello initiator toorefresh hello connection and hello volume is dismounted with an error message that hello disk is not available</span></span>|
| <span data-ttu-id="a6f17-243">Sortie de l’exe : Script est exécuté avec succès, mais « Nouveaux volumes attachés » ne sont pas affichés dans la sortie du script hello</span><span class="sxs-lookup"><span data-stu-id="a6f17-243">Exe output: Script is run successfully but “New volumes attached” is not displayed on hello script output</span></span> |   <span data-ttu-id="a6f17-244">Il s’agit d’une erreur temporaire.</span><span class="sxs-lookup"><span data-stu-id="a6f17-244">This is a transient error</span></span>   | <span data-ttu-id="a6f17-245">les volumes Hello seraient ont été déjà attachés.</span><span class="sxs-lookup"><span data-stu-id="a6f17-245">hello volumes would have been already attached.</span></span> <span data-ttu-id="a6f17-246">Ouvrez l’Explorateur toobrowse.</span><span class="sxs-lookup"><span data-stu-id="a6f17-246">Open Explorer toobrowse.</span></span> <span data-ttu-id="a6f17-247">Si vous utilisez hello même de l’ordinateur pour exécuter des scripts à chaque fois, redémarrez l’ordinateur de hello et liste de hello doit être affiché dans les exécutions ultérieures exe hello.</span><span class="sxs-lookup"><span data-stu-id="a6f17-247">If you are using hello same machine for running scripts every time, consider restarting hello machine and hello list should be displayed in hello subsequent exe runs.</span></span> |
| <span data-ttu-id="a6f17-248">Spécifique à Linux : tooview n’a pas pu hello souhaitée des volumes</span><span class="sxs-lookup"><span data-stu-id="a6f17-248">Linux specific: Not able tooview hello desired volumes</span></span> | <span data-ttu-id="a6f17-249">Hello du système d’exploitation de l’ordinateur hello où le script de hello est exécutée peut ne pas reconnaît hello un système de fichiers sous-jacent de hello sauvegardé de machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="a6f17-249">hello OS of hello machine where hello script is run may not recognize hello underlying filesystem of hello backed up VM</span></span> | <span data-ttu-id="a6f17-250">Vérifiez si un point de récupération de hello est incident cohérent ou avec cohérence de fichiers.</span><span class="sxs-lookup"><span data-stu-id="a6f17-250">Check whether hello recovery point is crash consistent or file-consistent.</span></span> <span data-ttu-id="a6f17-251">Si le script cohérent, exécutez hello du fichier sur un autre ordinateur dont système d’exploitation reconnaît hello sauvegardé de système de fichiers de la machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="a6f17-251">If file consistent, run hello script on another machine whose OS recognizes hello backed up VM's filesystem</span></span> |
| <span data-ttu-id="a6f17-252">Spécifiques à Windows : tooview n’a pas pu hello souhaitée des volumes</span><span class="sxs-lookup"><span data-stu-id="a6f17-252">Windows specific: Not able tooview hello desired volumes</span></span> | <span data-ttu-id="a6f17-253">les disques Hello ont été attachées, mais les volumes hello n’ont pas été configurées.</span><span class="sxs-lookup"><span data-stu-id="a6f17-253">hello disks may have been attached but hello volumes were not configured</span></span> | <span data-ttu-id="a6f17-254">À partir de l’écran de gestion de disque hello, identifier le point de récupération de toohello connexes de disques supplémentaires hello.</span><span class="sxs-lookup"><span data-stu-id="a6f17-254">From hello disk management screen, identify hello additional disks related toohello recovery point.</span></span> <span data-ttu-id="a6f17-255">Si un de ces disques sont hors connexion état essayez en ligne en cliquant sur le disque de hello et cliquez sur « En ligne »</span><span class="sxs-lookup"><span data-stu-id="a6f17-255">If any of these disks are in offline state try making them online by right-clicking on hello disk and click 'Online'</span></span>|
