---
title: "aaaCopy activité guide des performances et paramétrage | Documents Microsoft"
description: "Découvrez les principaux facteurs qui affectent les performances de hello de déplacement des données dans Azure Data Factory lorsque vous utilisez l’activité de copie."
services: data-factory
documentationcenter: 
author: linda33wj
manager: jhubbard
editor: monicar
ms.assetid: 4b9a6a4f-8cf5-4e0a-a06f-8133a2b7bc58
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/10/2017
ms.author: jingwang
ms.openlocfilehash: b0fb5a76c34752d07e8ddfffbb799a05fb5d6be6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="copy-activity-performance-and-tuning-guide"></a><span data-ttu-id="9cd99-103">Guide sur les performances et le réglage de l’activité de copie</span><span class="sxs-lookup"><span data-stu-id="9cd99-103">Copy Activity performance and tuning guide</span></span>
<span data-ttu-id="9cd99-104">L’activité de copie Azure Data Factory offre une solution de chargement de données de premier ordre, sécurisée, fiable et hautes performances.</span><span class="sxs-lookup"><span data-stu-id="9cd99-104">Azure Data Factory Copy Activity delivers a first-class secure, reliable, and high-performance data loading solution.</span></span> <span data-ttu-id="9cd99-105">Il vous toocopy des dizaines de téraoctets de données tous les jours entre une grande variété de cloud et banques de données locale.</span><span class="sxs-lookup"><span data-stu-id="9cd99-105">It enables you toocopy tens of terabytes of data every day across a rich variety of cloud and on-premises data stores.</span></span> <span data-ttu-id="9cd99-106">Performances de chargement des données d’accélérée ultra-rapides sont tooensure clé, vous pouvez vous concentrer sur le problème de « big data » hello core : création de solutions d’analytique avancée et l’obtention des informations détaillées à partir de toutes les données.</span><span class="sxs-lookup"><span data-stu-id="9cd99-106">Blazing-fast data loading performance is key tooensure you can focus on hello core “big data” problem: building advanced analytics solutions and getting deep insights from all that data.</span></span>

<span data-ttu-id="9cd99-107">Azure fournit un ensemble d’échelle de l’entreprise solutions d’entrepôt de données de stockage et données, et l’activité de copie offre une expérience tooconfigure facile et configuration de chargement de données hautement optimisées.</span><span class="sxs-lookup"><span data-stu-id="9cd99-107">Azure provides a set of enterprise-grade data storage and data warehouse solutions, and Copy Activity offers a highly optimized data loading experience that is easy tooconfigure and set up.</span></span> <span data-ttu-id="9cd99-108">Avec une seule activité de copie, vous pouvez obtenir ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="9cd99-108">With just a single copy activity, you can achieve:</span></span>

* <span data-ttu-id="9cd99-109">Chargement de données dans **Azure SQL Data Warehouse** à **1,2 Gbits/s**.</span><span class="sxs-lookup"><span data-stu-id="9cd99-109">Loading data into **Azure SQL Data Warehouse** at **1.2 GBps**.</span></span> <span data-ttu-id="9cd99-110">Consultez [Charger 1 To dans Azure SQL Data Warehouse en moins de 15 minutes avec Azure Data Factory](data-factory-load-sql-data-warehouse.md) pour obtenir une procédure pas à pas avec un cas d’utilisation.</span><span class="sxs-lookup"><span data-stu-id="9cd99-110">For a walkthrough with a use case, see [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span></span>
* <span data-ttu-id="9cd99-111">Chargement de données dans le **stockage des objets blob Azure** à **1,0 Gbit/s**</span><span class="sxs-lookup"><span data-stu-id="9cd99-111">Loading data into **Azure Blob storage** at **1.0 GBps**</span></span>
* <span data-ttu-id="9cd99-112">Chargement de données dans **Azure Data Lake Store** à **1,0 Gbit/s**</span><span class="sxs-lookup"><span data-stu-id="9cd99-112">Loading data into **Azure Data Lake Store** at **1.0 GBps**</span></span>

<span data-ttu-id="9cd99-113">Cet article explique :</span><span class="sxs-lookup"><span data-stu-id="9cd99-113">This article describes:</span></span>

* <span data-ttu-id="9cd99-114">[Numéros de référence des performances](#performance-reference) pour la prise en charge toohelp banques de données source et le récepteur vous planifiez votre projet ;</span><span class="sxs-lookup"><span data-stu-id="9cd99-114">[Performance reference numbers](#performance-reference) for supported source and sink data stores toohelp you plan your project;</span></span>
* <span data-ttu-id="9cd99-115">Fonctionnalités peuvent dynamiser hello débit dans différents scénarios, y compris [unités de déplacement des données en nuage](#cloud-data-movement-units), [parallèles copie](#parallel-copy), et [intermédiaire copie](#staged-copy);</span><span class="sxs-lookup"><span data-stu-id="9cd99-115">Features that can boost hello copy throughput in different scenarios, including [cloud data movement units](#cloud-data-movement-units), [parallel copy](#parallel-copy), and [staged Copy](#staged-copy);</span></span>
* <span data-ttu-id="9cd99-116">[Conseils de réglage des performances](#performance-tuning-steps) sur comment tootune hello performances et hello facteurs clés qui peuvent affecter les performances en copie.</span><span class="sxs-lookup"><span data-stu-id="9cd99-116">[Performance tuning guidance](#performance-tuning-steps) on how tootune hello performance and hello key factors that can impact copy performance.</span></span>

> [!NOTE]
> <span data-ttu-id="9cd99-117">Si vous n’êtes pas familiarisé avec l’activité de copie, voir [Déplacer des données à l’aide de l’activité de copie](data-factory-data-movement-activities.md) avant de lire cet article.</span><span class="sxs-lookup"><span data-stu-id="9cd99-117">If you are not familiar with Copy Activity in general, see [Move data by using Copy Activity](data-factory-data-movement-activities.md) before reading this article.</span></span>
>

## <a name="performance-reference"></a><span data-ttu-id="9cd99-118">Performances de référence</span><span class="sxs-lookup"><span data-stu-id="9cd99-118">Performance reference</span></span>

<span data-ttu-id="9cd99-119">En tant que référence, tableau ci-dessous présente nombre de débit de copie hello en Mbits/s pour hello donné paires source et le récepteur basés sur les tests internes.</span><span class="sxs-lookup"><span data-stu-id="9cd99-119">As a reference, below table shows hello copy throughput number in MBps for hello given source and sink pairs based on in-house testing.</span></span> <span data-ttu-id="9cd99-120">À des fins de comparaison, il montre également comment les différents paramètres [d’unités de déplacement des données cloud](#cloud-data-movement-units) ou [d’évolutivité de la passerelle de gestion des données](data-factory-data-management-gateway-high-availability-scalability.md) (plusieurs nœuds de passerelle) peuvent améliorer les performances de copie.</span><span class="sxs-lookup"><span data-stu-id="9cd99-120">For comparison, it also demonstrates how different settings of [cloud data movement units](#cloud-data-movement-units) or [Data Management Gateway scalability](data-factory-data-management-gateway-high-availability-scalability.md) (multiple gateway nodes) can help on copy performance.</span></span>

![Matrice des performances](./media/data-factory-copy-activity-performance/CopyPerfRef.png)


<span data-ttu-id="9cd99-122">**Points toonote :**</span><span class="sxs-lookup"><span data-stu-id="9cd99-122">**Points toonote:**</span></span>
* <span data-ttu-id="9cd99-123">Débit est calculé à l’aide de hello formule suivante : [taille des données lues à partir de la source] / [activité de copie de durée d’exécution].</span><span class="sxs-lookup"><span data-stu-id="9cd99-123">Throughput is calculated by using hello following formula: [size of data read from source]/[Copy Activity run duration].</span></span>
* <span data-ttu-id="9cd99-124">numéros de référence des performances Hello dans la table de hello ont été mesurés à l’aide de [TPC-H](http://www.tpc.org/tpch/) jeu de données dans une activité de copie unique s’exécuter.</span><span class="sxs-lookup"><span data-stu-id="9cd99-124">hello performance reference numbers in hello table were measured using [TPC-H](http://www.tpc.org/tpch/) data set in a single copy activity run.</span></span>
* <span data-ttu-id="9cd99-125">Dans les magasins de données Azure, hello source et le récepteur sont Bonjour même région Azure.</span><span class="sxs-lookup"><span data-stu-id="9cd99-125">In Azure data stores, hello source and sink are in hello same Azure region.</span></span>
* <span data-ttu-id="9cd99-126">Pour la copie hybride entre locaux et cloud magasins de données, chaque nœud de passerelle était en cours d’exécution sur un ordinateur qui a été séparé hello magasin de données local avec sous spécification.</span><span class="sxs-lookup"><span data-stu-id="9cd99-126">For hybrid copy between on-premises and cloud data stores, each gateway node was running on a machine that was separate from hello on-premises data store with below specification.</span></span> <span data-ttu-id="9cd99-127">Lorsqu’une activité unique était en cours d’exécution sur la passerelle, opération de copie hello consommée uniquement une petite partie de l’ordinateur de test hello du processeur, la mémoire ou la bande passante réseau.</span><span class="sxs-lookup"><span data-stu-id="9cd99-127">When a single activity was running on gateway, hello copy operation consumed only a small portion of hello test machine's CPU, memory, or network bandwidth.</span></span> <span data-ttu-id="9cd99-128">Pour en savoir plus, voir [Considérations relatives à la passerelle de gestion des données](#considerations-for-data-management-gateway).</span><span class="sxs-lookup"><span data-stu-id="9cd99-128">Learn more from [consideration for Data Management Gateway](#considerations-for-data-management-gateway).</span></span>
    <table>
    <tr>
        <td><span data-ttu-id="9cd99-129">UC</span><span class="sxs-lookup"><span data-stu-id="9cd99-129">CPU</span></span></td>
        <td><span data-ttu-id="9cd99-130">32 cœurs 2,20 GHz Intel Xeon E5-2660 v2</span><span class="sxs-lookup"><span data-stu-id="9cd99-130">32 cores 2.20 GHz Intel Xeon E5-2660 v2</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="9cd99-131">Mémoire</span><span class="sxs-lookup"><span data-stu-id="9cd99-131">Memory</span></span></td>
        <td><span data-ttu-id="9cd99-132">128 Go</span><span class="sxs-lookup"><span data-stu-id="9cd99-132">128 GB</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="9cd99-133">Réseau</span><span class="sxs-lookup"><span data-stu-id="9cd99-133">Network</span></span></td>
        <td><span data-ttu-id="9cd99-134">Interface Internet : 10 Gbits/s ; interface intranet : 40 Gbits/s</span><span class="sxs-lookup"><span data-stu-id="9cd99-134">Internet interface: 10 Gbps; intranet interface: 40 Gbps</span></span></td>
    </tr>
    </table>


> [!TIP]
> <span data-ttu-id="9cd99-135">Vous pouvez obtenir un débit plus élevé grâce à plus d’unités de déplacement de données (DMUs) que hello par défaut DMUs maximales, qui est 32 pour une activité de copie de vers cloud s’exécuter.</span><span class="sxs-lookup"><span data-stu-id="9cd99-135">You can achieve higher throughput by leveraging more data movement units (DMUs) than hello default maximum DMUs, which is 32 for a cloud-to-cloud copy activity run.</span></span> <span data-ttu-id="9cd99-136">Par exemple, avec 100 unités DMU, vous pouvez copier des données depuis Azure Blob vers Azure Data Lake Store à **1,0 Go/s**.</span><span class="sxs-lookup"><span data-stu-id="9cd99-136">For example, with 100 DMUs, you can achieve copying data from Azure Blob into Azure Data Lake Store at **1.0GBps**.</span></span> <span data-ttu-id="9cd99-137">Consultez hello [unités de déplacement des données en nuage](#cloud-data-movement-units) pour plus d’informations sur cette fonctionnalité et sur hello les scénarios pris en charge.</span><span class="sxs-lookup"><span data-stu-id="9cd99-137">See hello [Cloud data movement units](#cloud-data-movement-units) section for details about this feature and hello supported scenario.</span></span> <span data-ttu-id="9cd99-138">Contact [prise en charge Azure](https://azure.microsoft.com/support/) toorequest DMUs plus.</span><span class="sxs-lookup"><span data-stu-id="9cd99-138">Contact [Azure support](https://azure.microsoft.com/support/) toorequest more DMUs.</span></span>

## <a name="parallel-copy"></a><span data-ttu-id="9cd99-139">Copie en parallèle</span><span class="sxs-lookup"><span data-stu-id="9cd99-139">Parallel copy</span></span>
<span data-ttu-id="9cd99-140">Vous pouvez lire la source de données à partir de hello ou écrire la destination des données toohello **en parallèle dans une activité de copie exécuter**.</span><span class="sxs-lookup"><span data-stu-id="9cd99-140">You can read data from hello source or write data toohello destination **in parallel within a Copy Activity run**.</span></span> <span data-ttu-id="9cd99-141">Cette fonctionnalité améliore le débit d’une opération de copie hello et réduit hello durée toomove données.</span><span class="sxs-lookup"><span data-stu-id="9cd99-141">This feature enhances hello throughput of a copy operation and reduces hello time it takes toomove data.</span></span>

<span data-ttu-id="9cd99-142">Ce paramètre est différent de hello **concurrency** propriété dans la définition d’activité hello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-142">This setting is different from hello **concurrency** property in hello activity definition.</span></span> <span data-ttu-id="9cd99-143">Hello **concurrency** propriété détermine le nombre de hello de **simultanées activité de copie s’exécute** tooprocess des données à partir de windows de l’activité différente (1 h too2 AM, 2 AM too3, 3 AM too4 AM, et ainsi de suite).</span><span class="sxs-lookup"><span data-stu-id="9cd99-143">hello **concurrency** property determines hello number of **concurrent Copy Activity runs** tooprocess data from different activity windows (1 AM too2 AM, 2 AM too3 AM, 3 AM too4 AM, and so on).</span></span> <span data-ttu-id="9cd99-144">Cette fonctionnalité est utile lorsque vous effectuez une charge historique.</span><span class="sxs-lookup"><span data-stu-id="9cd99-144">This capability is helpful when you perform a historical load.</span></span> <span data-ttu-id="9cd99-145">fonctionnalité de copie en parallèle Hello s’applique tooa **unique activité exécuter**.</span><span class="sxs-lookup"><span data-stu-id="9cd99-145">hello parallel copy capability applies tooa **single activity run**.</span></span>

<span data-ttu-id="9cd99-146">Examinons un exemple de scénario.</span><span class="sxs-lookup"><span data-stu-id="9cd99-146">Let's look at a sample scenario.</span></span> <span data-ttu-id="9cd99-147">Dans l’exemple suivant de hello, plusieurs tranches de hello passée doivent toobe traité.</span><span class="sxs-lookup"><span data-stu-id="9cd99-147">In hello following example, multiple slices from hello past need toobe processed.</span></span> <span data-ttu-id="9cd99-148">Data Factory exécute une instance de l’activité de copie (une exécution d’activité) pour chaque tranche :</span><span class="sxs-lookup"><span data-stu-id="9cd99-148">Data Factory runs an instance of Copy Activity (an activity run) for each slice:</span></span>

* <span data-ttu-id="9cd99-149">la tranche de données à partir de la fenêtre d’activité première hello Hello (1 h too2 suis) == > exécution de l’activité 1</span><span class="sxs-lookup"><span data-stu-id="9cd99-149">hello data slice from hello first activity window (1 AM too2 AM) ==> Activity run 1</span></span>
* <span data-ttu-id="9cd99-150">la tranche de données à partir de la fenêtre d’activité deuxième hello Hello (2 AM too3 suis) == > activité exécutée 2</span><span class="sxs-lookup"><span data-stu-id="9cd99-150">hello data slice from hello second activity window (2 AM too3 AM) ==> Activity run 2</span></span>
* <span data-ttu-id="9cd99-151">la tranche de données à partir de la fenêtre d’activité deuxième hello Hello (3 AM too4 suis) == > activité exécuter 3</span><span class="sxs-lookup"><span data-stu-id="9cd99-151">hello data slice from hello second activity window (3 AM too4 AM) ==> Activity run 3</span></span>

<span data-ttu-id="9cd99-152">Et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="9cd99-152">And so on.</span></span>

<span data-ttu-id="9cd99-153">Dans cet exemple, lorsque hello **concurrency** a la valeur too2, **activité exécutée 1** et **activité exécutée 2** copier les données à partir de deux fenêtres de l’activité **simultanément**  tooimprove les performances de déplacement de données.</span><span class="sxs-lookup"><span data-stu-id="9cd99-153">In this example, when hello **concurrency** value is set too2, **Activity run 1** and **Activity run 2** copy data from two activity windows **concurrently** tooimprove data movement performance.</span></span> <span data-ttu-id="9cd99-154">Toutefois, si plusieurs fichiers sont associés à activité exécuter 1, le service de déplacement de données hello copie les fichiers à partir d’un seul fichier hello source toohello destination à la fois.</span><span class="sxs-lookup"><span data-stu-id="9cd99-154">However, if multiple files are associated with Activity run 1, hello data movement service copies files from hello source toohello destination one file at a time.</span></span>

### <a name="cloud-data-movement-units"></a><span data-ttu-id="9cd99-155">Unités de déplacement de données cloud</span><span class="sxs-lookup"><span data-stu-id="9cd99-155">Cloud data movement units</span></span>
<span data-ttu-id="9cd99-156">A **unité de déplacement des données de cloud (DMU)** est une mesure qui représente la puissance hello (il s’agit d’une combinaison de l’UC, la mémoire et l’allocation des ressources réseau) d’une seule unité dans la fabrique de données.</span><span class="sxs-lookup"><span data-stu-id="9cd99-156">A **cloud data movement unit (DMU)** is a measure that represents hello power (a combination of CPU, memory, and network resource allocation) of a single unit in Data Factory.</span></span> <span data-ttu-id="9cd99-157">Une unité de déplacement de données peut être utilisée dans une opération de copie cloud-cloud, mais pas dans une copie hybride.</span><span class="sxs-lookup"><span data-stu-id="9cd99-157">A DMU might be used in a cloud-to-cloud copy operation, but not in a hybrid copy.</span></span>

<span data-ttu-id="9cd99-158">Par défaut, la fabrique de données utilise un tooperform DMU cloud unique une seule activité de copie s’exécuter.</span><span class="sxs-lookup"><span data-stu-id="9cd99-158">By default, Data Factory uses a single cloud DMU tooperform a single Copy Activity run.</span></span> <span data-ttu-id="9cd99-159">toooverride cette valeur par défaut, spécifiez une valeur pour hello **cloudDataMovementUnits** propriété comme suit.</span><span class="sxs-lookup"><span data-stu-id="9cd99-159">toooverride this default, specify a value for hello **cloudDataMovementUnits** property as follows.</span></span> <span data-ttu-id="9cd99-160">Pour plus d’informations sur le niveau de gain de performance de hello que vous pouvez obtenir lorsque vous configurez plusieurs unités pour une source de copie spécifique et le récepteur, consultez hello [référence des performances](#performance-reference).</span><span class="sxs-lookup"><span data-stu-id="9cd99-160">For information about hello level of performance gain you might get when you configure more units for a specific copy source and sink, see hello [performance reference](#performance-reference).</span></span>

```json
"activities":[  
    {
        "name": "Sample copy activity",
        "description": "",
        "type": "Copy",
        "inputs": [{ "name": "InputDataset" }],
        "outputs": [{ "name": "OutputDataset" }],
        "typeProperties": {
            "source": {
                "type": "BlobSource",
            },
            "sink": {
                "type": "AzureDataLakeStoreSink"
            },
            "cloudDataMovementUnits": 32
        }
    }
]
```
<span data-ttu-id="9cd99-161">Hello **valeurs autorisées** pour hello **cloudDataMovementUnits** propriété sont 1 (valeur par défaut), 2, 4, 8, 16, 32.</span><span class="sxs-lookup"><span data-stu-id="9cd99-161">hello **allowed values** for hello **cloudDataMovementUnits** property are 1 (default), 2, 4, 8, 16, 32.</span></span> <span data-ttu-id="9cd99-162">Hello **nombre réel de cloud DMUs** que l’opération de copie hello utilise au moment de l’exécution est égale tooor inférieure à hello configuré en fonction de votre modèle de données.</span><span class="sxs-lookup"><span data-stu-id="9cd99-162">hello **actual number of cloud DMUs** that hello copy operation uses at run time is equal tooor less than hello configured value, depending on your data pattern.</span></span>

> [!NOTE]
> <span data-ttu-id="9cd99-163">Si vous avez besoin de plus d’unités de déplacement de données cloud pour un débit plus élevé, contactez le [support Azure](https://azure.microsoft.com/support/).</span><span class="sxs-lookup"><span data-stu-id="9cd99-163">If you need more cloud DMUs for a higher throughput, contact [Azure support](https://azure.microsoft.com/support/).</span></span> <span data-ttu-id="9cd99-164">Définition de 8 et versions ultérieures actuellement fonctionnent uniquement lorsque vous **copier plusieurs fichiers à partir de l’objet Blob stockage/Data Lake Store/Amazon S3/cloud FTP/cloud SFTP tooBlob stockage/Data Lake Store/et Azure SQL Database**.</span><span class="sxs-lookup"><span data-stu-id="9cd99-164">Setting of 8 and above currently works only when you **copy multiple files from Blob storage/Data Lake Store/Amazon S3/cloud FTP/cloud SFTP tooBlob storage/Data Lake Store/Azure SQL Database**.</span></span>
>

### <a name="parallelcopies"></a><span data-ttu-id="9cd99-165">parallelCopies</span><span class="sxs-lookup"><span data-stu-id="9cd99-165">parallelCopies</span></span>
<span data-ttu-id="9cd99-166">Vous pouvez utiliser hello **parallelCopies** parallélisme de hello tooindicate propriété que vous souhaitez toouse d’activité de copie.</span><span class="sxs-lookup"><span data-stu-id="9cd99-166">You can use hello **parallelCopies** property tooindicate hello parallelism that you want Copy Activity toouse.</span></span> <span data-ttu-id="9cd99-167">Vous pouvez considérer cette propriété en tant que le nombre maximal de hello des threads au sein de l’activité de copie qui peut lire à partir de votre source ou écrire des magasins de données récepteur tooyour en parallèle.</span><span class="sxs-lookup"><span data-stu-id="9cd99-167">You can think of this property as hello maximum number of threads within Copy Activity that can read from your source or write tooyour sink data stores in parallel.</span></span>

<span data-ttu-id="9cd99-168">Pour chaque activité de copie s’exécuter, Data Factory détermine le nombre hello de parallèle copie toouse toocopy données à partir de la banque de données source hello et magasin de données de destination toohello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-168">For each Copy Activity run, Data Factory determines hello number of parallel copies toouse toocopy data from hello source data store and toohello destination data store.</span></span> <span data-ttu-id="9cd99-169">nombre de copies parallèles qu’il utilise par défaut de Hello dépend de type hello de source et le récepteur que vous utilisez.</span><span class="sxs-lookup"><span data-stu-id="9cd99-169">hello default number of parallel copies that it uses depends on hello type of source and sink that you are using.</span></span>  

| <span data-ttu-id="9cd99-170">Source et récepteur</span><span class="sxs-lookup"><span data-stu-id="9cd99-170">Source and sink</span></span> | <span data-ttu-id="9cd99-171">Nombre de copie en parallèle par défaut déterminé par le service</span><span class="sxs-lookup"><span data-stu-id="9cd99-171">Default parallel copy count determined by service</span></span> |
| --- | --- |
| <span data-ttu-id="9cd99-172">Copie de données entre les magasins basés sur fichier (stockage des objets blob ; Data Lake Store ; Amazon S3 ; un système de fichiers local ; un HDFS local)</span><span class="sxs-lookup"><span data-stu-id="9cd99-172">Copy data between file-based stores (Blob storage; Data Lake Store; Amazon S3; an on-premises file system; an on-premises HDFS)</span></span> |<span data-ttu-id="9cd99-173">Entre 1 et 32.</span><span class="sxs-lookup"><span data-stu-id="9cd99-173">Between 1 and 32.</span></span> <span data-ttu-id="9cd99-174">Taille hello de fichiers de hello et nombre de hello d’unités de déplacement des données de cloud (DMUs) dépend des données toocopy utilisés entre les deux banques de données cloud ou configuration physique de hello de hello ordinateur passerelle utilisée pour une copie hybride (toocopy données tooor à partir d’une banque de données locale ).</span><span class="sxs-lookup"><span data-stu-id="9cd99-174">Depends on hello size of hello files and hello number of cloud data movement units (DMUs) used toocopy data between two cloud data stores, or hello physical configuration of hello Gateway machine used for a hybrid copy (toocopy data tooor from an on-premises data store).</span></span> |
| <span data-ttu-id="9cd99-175">Copier des données à partir de **toutes les données source stocker tooAzure le stockage de Table**</span><span class="sxs-lookup"><span data-stu-id="9cd99-175">Copy data from **any source data store tooAzure Table storage**</span></span> |<span data-ttu-id="9cd99-176">4</span><span class="sxs-lookup"><span data-stu-id="9cd99-176">4</span></span> |
| <span data-ttu-id="9cd99-177">Toutes les autres paires de source et de récepteur</span><span class="sxs-lookup"><span data-stu-id="9cd99-177">All other source and sink pairs</span></span> |<span data-ttu-id="9cd99-178">1</span><span class="sxs-lookup"><span data-stu-id="9cd99-178">1</span></span> |

<span data-ttu-id="9cd99-179">En règle générale, par défaut hello doit vous fournir débit hello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-179">Usually, hello default behavior should give you hello best throughput.</span></span> <span data-ttu-id="9cd99-180">Toutefois, toocontrol hello de charge sur les ordinateurs qui hébergent vos magasins de données, ou des performances de copie tootune, vous pouvez choisir la valeur par défaut de hello toooverride et spécifiez une valeur pour hello **parallelCopies** propriété.</span><span class="sxs-lookup"><span data-stu-id="9cd99-180">However, toocontrol hello load on machines that host your data stores, or tootune copy performance, you may choose toooverride hello default value and specify a value for hello **parallelCopies** property.</span></span> <span data-ttu-id="9cd99-181">valeur de Hello doit être compris entre 1 et 32 (tous deux inclus).</span><span class="sxs-lookup"><span data-stu-id="9cd99-181">hello value must be between 1 and 32 (both inclusive).</span></span> <span data-ttu-id="9cd99-182">Au moment de l’exécution, pour de meilleures performances de hello, l’activité de copie utilise une valeur qui est inférieure ou égale valeur toohello que vous définissez.</span><span class="sxs-lookup"><span data-stu-id="9cd99-182">At run time, for hello best performance, Copy Activity uses a value that is less than or equal toohello value that you set.</span></span>

```json
"activities":[  
    {
        "name": "Sample copy activity",
        "description": "",
        "type": "Copy",
        "inputs": [{ "name": "InputDataset" }],
        "outputs": [{ "name": "OutputDataset" }],
        "typeProperties": {
            "source": {
                "type": "BlobSource",
            },
            "sink": {
                "type": "AzureDataLakeStoreSink"
            },
            "parallelCopies": 8
        }
    }
]
```
<span data-ttu-id="9cd99-183">Points toonote :</span><span class="sxs-lookup"><span data-stu-id="9cd99-183">Points toonote:</span></span>

* <span data-ttu-id="9cd99-184">Lorsque vous copiez des données entre des magasins basés sur des fichiers, hello **parallelCopies** déterminer le parallélisme hello au niveau du fichier hello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-184">When you copy data between file-based stores, hello **parallelCopies** determine hello parallelism at hello file level.</span></span> <span data-ttu-id="9cd99-185">Hello de segmentation dans un seul fichier passerait sous en toute transparence et automatiquement, et il est conçu toouse hello meilleures approprié taille de segment pour une banque de données source donnée de type tooload dans tooparallelCopies parallèles et orthogonales.</span><span class="sxs-lookup"><span data-stu-id="9cd99-185">hello chunking within a single file would happen underneath automatically and transparently, and it's designed toouse hello best suitable chunk size for a given source data store type tooload data in parallel and orthogonal tooparallelCopies.</span></span> <span data-ttu-id="9cd99-186">nombre réel de Hello de copies parallèles hello données mouvement service utilise pour l’opération de copie hello en cours d’exécution n’est pas plus de numéro hello des fichiers.</span><span class="sxs-lookup"><span data-stu-id="9cd99-186">hello actual number of parallel copies hello data movement service uses for hello copy operation at run time is no more than hello number of files you have.</span></span> <span data-ttu-id="9cd99-187">Si le comportement de copie hello est **mergeFile**, l’activité de copie ne peut pas tirer parti du parallélisme au niveau du fichier.</span><span class="sxs-lookup"><span data-stu-id="9cd99-187">If hello copy behavior is **mergeFile**, Copy Activity cannot take advantage of file-level parallelism.</span></span>
* <span data-ttu-id="9cd99-188">Lorsque vous spécifiez une valeur pour hello **parallelCopies** propriété, envisagez d’augmenter de charge hello de vos magasins de données source et le récepteur, toogateway s’il s’agit d’une copie hybride.</span><span class="sxs-lookup"><span data-stu-id="9cd99-188">When you specify a value for hello **parallelCopies** property, consider hello load increase on your source and sink data stores, and toogateway if it is a hybrid copy.</span></span> <span data-ttu-id="9cd99-189">Cela produit en particulier lorsque vous avez plusieurs activités ou les exécutions simultanées de hello mêmes activités qui s’exécutent sur hello même magasin de données.</span><span class="sxs-lookup"><span data-stu-id="9cd99-189">This happens especially when you have multiple activities or concurrent runs of hello same activities that run against hello same data store.</span></span> <span data-ttu-id="9cd99-190">Si vous remarquez que le magasin de données hello ou passerelle est surchargé avec une charge hello, diminuer hello **parallelCopies** charge de valeur toorelieve hello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-190">If you notice that either hello data store or Gateway is overwhelmed with hello load, decrease hello **parallelCopies** value toorelieve hello load.</span></span>
* <span data-ttu-id="9cd99-191">Lorsque vous copiez des données à partir de magasins qui ne sont pas toostores basée sur des fichiers qui sont basés sur le fichier, le service de déplacement de données hello ignore hello **parallelCopies** propriété.</span><span class="sxs-lookup"><span data-stu-id="9cd99-191">When you copy data from stores that are not file-based toostores that are file-based, hello data movement service ignores hello **parallelCopies** property.</span></span> <span data-ttu-id="9cd99-192">Même si le parallélisme est spécifié, il n’est pas appliqué dans ce cas.</span><span class="sxs-lookup"><span data-stu-id="9cd99-192">Even if parallelism is specified, it's not applied in this case.</span></span>

> [!NOTE]
> <span data-ttu-id="9cd99-193">Vous devez utiliser hello de passerelle de gestion des données version 1.11 ou version ultérieure toouse **parallelCopies** fonctionnalité lorsque vous effectuez une copie hybride.</span><span class="sxs-lookup"><span data-stu-id="9cd99-193">You must use Data Management Gateway version 1.11 or later toouse hello **parallelCopies** feature when you do a hybrid copy.</span></span>
>
>

<span data-ttu-id="9cd99-194">toobetter ces deux propriétés et tooenhance votre débit de déplacement des données, voir hello [exemples de cas d’usage](#case-study-use-parallel-copy).</span><span class="sxs-lookup"><span data-stu-id="9cd99-194">toobetter use these two properties, and tooenhance your data movement throughput, see hello [sample use cases](#case-study-use-parallel-copy).</span></span> <span data-ttu-id="9cd99-195">Vous n’avez pas besoin de tooconfigure **parallelCopies** parti tootake du comportement par défaut de hello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-195">You don't need tooconfigure **parallelCopies** tootake advantage of hello default behavior.</span></span> <span data-ttu-id="9cd99-196">Si vous configurez **parallelCopies** et que la valeur est trop basse, plusieurs unités de déplacement de données cloud ne peuvent pas être pleinement utilisées.</span><span class="sxs-lookup"><span data-stu-id="9cd99-196">If you do configure and **parallelCopies** is too small, multiple cloud DMUs might not be fully utilized.</span></span>  

### <a name="billing-impact"></a><span data-ttu-id="9cd99-197">Impact sur la facturation</span><span class="sxs-lookup"><span data-stu-id="9cd99-197">Billing impact</span></span>
<span data-ttu-id="9cd99-198">Il a **important** tooremember qui vous sont facturés en fonction hello le temps total d’opération de copie hello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-198">It's **important** tooremember that you are charged based on hello total time of hello copy operation.</span></span> <span data-ttu-id="9cd99-199">Si un travail de copie utilisé tootake une heure avec l’unité d’un cloud et maintenant il prend 15 minutes avec quatre unités de cloud, hello globale facture reste presque hello identiques.</span><span class="sxs-lookup"><span data-stu-id="9cd99-199">If a copy job used tootake one hour with one cloud unit and now it takes 15 minutes with four cloud units, hello overall bill remains almost hello same.</span></span> <span data-ttu-id="9cd99-200">Par exemple, vous utilisez quatre unités cloud.</span><span class="sxs-lookup"><span data-stu-id="9cd99-200">For example, you use four cloud units.</span></span> <span data-ttu-id="9cd99-201">première unité de cloud Hello consacre à 10 minutes, hello un deuxième, 10 minutes, hello un tiers, 5 minutes, hello une quatrième, 5 minutes, toutes dans une activité de copie s’exécuter.</span><span class="sxs-lookup"><span data-stu-id="9cd99-201">hello first cloud unit spends 10 minutes, hello second one, 10 minutes, hello third one, 5 minutes, and hello fourth one, 5 minutes, all in one Copy Activity run.</span></span> <span data-ttu-id="9cd99-202">Vous êtes facturé pour le temps hello copie total (le déplacement des données), qui est de 10 + 10 + 5 + 5 = 30 minutes.</span><span class="sxs-lookup"><span data-stu-id="9cd99-202">You are charged for hello total copy (data movement) time, which is 10 + 10 + 5 + 5 = 30 minutes.</span></span> <span data-ttu-id="9cd99-203">L’utilisation de **parallelCopies** n’affecte pas la facturation.</span><span class="sxs-lookup"><span data-stu-id="9cd99-203">Using **parallelCopies** does not affect billing.</span></span>

## <a name="staged-copy"></a><span data-ttu-id="9cd99-204">copie intermédiaire</span><span class="sxs-lookup"><span data-stu-id="9cd99-204">Staged copy</span></span>
<span data-ttu-id="9cd99-205">Lorsque vous copiez des données à partir d’un magasin de données de source données magasin tooa récepteur, vous pouvez choisir toouse stockage d’objets Blob comme magasin de mise en lots intermédiaire.</span><span class="sxs-lookup"><span data-stu-id="9cd99-205">When you copy data from a source data store tooa sink data store, you might choose toouse Blob storage as an interim staging store.</span></span> <span data-ttu-id="9cd99-206">Mise en lots est particulièrement utile dans hello suivant cas :</span><span class="sxs-lookup"><span data-stu-id="9cd99-206">Staging is especially useful in hello following cases:</span></span>

1. <span data-ttu-id="9cd99-207">**Vous voulez tooingest des données à partir de différentes banques de données dans l’entrepôt de données SQL via PolyBase**.</span><span class="sxs-lookup"><span data-stu-id="9cd99-207">**You want tooingest data from various data stores into SQL Data Warehouse via PolyBase**.</span></span> <span data-ttu-id="9cd99-208">SQL Data Warehouse utilise PolyBase comme un tooload à débit élevé mécanisme une grande quantité de données dans l’entrepôt de données SQL.</span><span class="sxs-lookup"><span data-stu-id="9cd99-208">SQL Data Warehouse uses PolyBase as a high-throughput mechanism tooload a large amount of data into SQL Data Warehouse.</span></span> <span data-ttu-id="9cd99-209">Toutefois, les données de salutation source doivent être dans le stockage Blob, et elle doit répondre aux critères supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="9cd99-209">However, hello source data must be in Blob storage, and it must meet additional criteria.</span></span> <span data-ttu-id="9cd99-210">Lorsque vous chargez des données à partir d’une banque de données autre que le stockage Blob, vous pouvez activer la copie de données via un stockage Blob intermédiaire.</span><span class="sxs-lookup"><span data-stu-id="9cd99-210">When you load data from a data store other than Blob storage, you can activate data copying via interim staging Blob storage.</span></span> <span data-ttu-id="9cd99-211">Dans ce cas, la fabrique de données effectue tooensure de transformations de données hello requis qu’il répond aux exigences de hello de PolyBase.</span><span class="sxs-lookup"><span data-stu-id="9cd99-211">In that case, Data Factory performs hello required data transformations tooensure that it meets hello requirements of PolyBase.</span></span> <span data-ttu-id="9cd99-212">Il utilise ensuite les données tooload de PolyBase dans SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="9cd99-212">Then it uses PolyBase tooload data into SQL Data Warehouse.</span></span> <span data-ttu-id="9cd99-213">Pour plus d’informations, consultez [PolyBase d’utilisation des données de tooload dans Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse).</span><span class="sxs-lookup"><span data-stu-id="9cd99-213">For more details, see [Use PolyBase tooload data into Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse).</span></span> <span data-ttu-id="9cd99-214">Consultez [Charger 1 To dans Azure SQL Data Warehouse en moins de 15 minutes avec Azure Data Factory](data-factory-load-sql-data-warehouse.md) pour obtenir une procédure pas à pas avec un cas d’utilisation.</span><span class="sxs-lookup"><span data-stu-id="9cd99-214">For a walkthrough with a use case, see [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span></span>
2. <span data-ttu-id="9cd99-215">**Parfois, il faut un certain temps tooperform un mouvement de données hybride (autrement dit, toocopy entre une banque de données locale et un magasin de données cloud) via une connexion réseau lente**.</span><span class="sxs-lookup"><span data-stu-id="9cd99-215">**Sometimes it takes a while tooperform a hybrid data movement (that is, toocopy between an on-premises data store and a cloud data store) over a slow network connection**.</span></span> <span data-ttu-id="9cd99-216">tooimprove des performances, vous pouvez compresser hello en local afin que celui-ci utilise moins de temps toomove toohello mise en lots de données stocker dans le cloud de hello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-216">tooimprove performance, you can compress hello data on-premises so that it takes less time toomove data toohello staging data store in hello cloud.</span></span> <span data-ttu-id="9cd99-217">Puis, vous pouvez décompresser les données de salutation Bonjour intermédiaire magasin avant de les charger dans le magasin de données de destination hello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-217">Then you can decompress hello data in hello staging store before you load it into hello destination data store.</span></span>
3. <span data-ttu-id="9cd99-218">**Vous ne souhaitez pas tooopen ports autres que le port 80 et le port 443 dans votre pare-feu, en raison des stratégies informatiques d’entreprise**.</span><span class="sxs-lookup"><span data-stu-id="9cd99-218">**You don't want tooopen ports other than port 80 and port 443 in your firewall, because of corporate IT policies**.</span></span> <span data-ttu-id="9cd99-219">Par exemple, lorsque vous copiez des données à partir d’un récepteur Azure SQL Database tooan de banque de données locale ou un récepteur de l’entrepôt de données SQL Azure, vous devez tooactivate les communications TCP sortantes sur le port 1433 pour le pare-feu Windows hello et de pare-feu de l’entreprise.</span><span class="sxs-lookup"><span data-stu-id="9cd99-219">For example, when you copy data from an on-premises data store tooan Azure SQL Database sink or an Azure SQL Data Warehouse sink, you need tooactivate outbound TCP communication on port 1433 for both hello Windows firewall and your corporate firewall.</span></span> <span data-ttu-id="9cd99-220">Dans ce scénario, tirer parti de hello passerelle toofirst copie données tooa Blob intermédiaire instance de stockage via HTTP ou HTTPS sur le port 443.</span><span class="sxs-lookup"><span data-stu-id="9cd99-220">In this scenario, take advantage of hello gateway toofirst copy data tooa Blob storage staging instance over HTTP or HTTPS on port 443.</span></span> <span data-ttu-id="9cd99-221">Ensuite, chargez les données de salutation dans la base de données SQL ou de l’entrepôt de données SQL à partir du transit de stockage Blob.</span><span class="sxs-lookup"><span data-stu-id="9cd99-221">Then, load hello data into SQL Database or SQL Data Warehouse from Blob storage staging.</span></span> <span data-ttu-id="9cd99-222">Dans ce flux, vous n’avez pas besoin tooenable le port 1433.</span><span class="sxs-lookup"><span data-stu-id="9cd99-222">In this flow, you don't need tooenable port 1433.</span></span>

### <a name="how-staged-copy-works"></a><span data-ttu-id="9cd99-223">Fonctionnement de la copie intermédiaire</span><span class="sxs-lookup"><span data-stu-id="9cd99-223">How staged copy works</span></span>
<span data-ttu-id="9cd99-224">Lorsque vous activez hello fonctionnalité de mise en lots, premières données hello sont copiées à partir de la banque de données de mise en lots de hello source données magasin toohello (apportez votre propre).</span><span class="sxs-lookup"><span data-stu-id="9cd99-224">When you activate hello staging feature, first hello data is copied from hello source data store toohello staging data store (bring your own).</span></span> <span data-ttu-id="9cd99-225">Ensuite, les données de hello sont copiées de hello banque de données récepteur de données magasin toohello de mise en lots.</span><span class="sxs-lookup"><span data-stu-id="9cd99-225">Next, hello data is copied from hello staging data store toohello sink data store.</span></span> <span data-ttu-id="9cd99-226">Fabrique de données gère automatiquement les flux de deux étapes hello pour vous.</span><span class="sxs-lookup"><span data-stu-id="9cd99-226">Data Factory automatically manages hello two-stage flow for you.</span></span> <span data-ttu-id="9cd99-227">Fabrique de données nettoie également les données temporaires à partir de hello mise en lots de stockage après le déplacement des données de hello sont terminé.</span><span class="sxs-lookup"><span data-stu-id="9cd99-227">Data Factory also cleans up temporary data from hello staging storage after hello data movement is complete.</span></span>

<span data-ttu-id="9cd99-228">Dans le scénario de la copie cloud hello (source et le récepteur de données sont des magasins dans le cloud de hello), la passerelle n’est pas utilisée.</span><span class="sxs-lookup"><span data-stu-id="9cd99-228">In hello cloud copy scenario (both source and sink data stores are in hello cloud), gateway is not used.</span></span> <span data-ttu-id="9cd99-229">Hello service Data Factory effectue les opérations de copie hello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-229">hello Data Factory service performs hello copy operations.</span></span>

![Copie intermédiaire : scénario cloud](media/data-factory-copy-activity-performance/staged-copy-cloud-scenario.png)

<span data-ttu-id="9cd99-231">Dans le scénario de copie hello hybride (source est locale et récepteur dans le cloud de hello), la passerelle de hello déplace tooa intermédiaire du magasin de données du magasin de données à partir de la source de données hello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-231">In hello hybrid copy scenario (source is on-premises and sink is in hello cloud), hello gateway moves data from hello source data store tooa staging data store.</span></span> <span data-ttu-id="9cd99-232">Service de fabrique de données déplace le magasin de données récepteur toohello du magasin de données à partir de hello transit des données.</span><span class="sxs-lookup"><span data-stu-id="9cd99-232">Data Factory service moves data from hello staging data store toohello sink data store.</span></span> <span data-ttu-id="9cd99-233">Copie de données à partir d’un tooan de magasin de données cloud local banque de données via un intermédiaire également est pris en charge avec les flux hello inversée.</span><span class="sxs-lookup"><span data-stu-id="9cd99-233">Copying data from a cloud data store tooan on-premises data store via staging also is supported with hello reversed flow.</span></span>

![Copie intermédiaire : scénario hybride](media/data-factory-copy-activity-performance/staged-copy-hybrid-scenario.png)

<span data-ttu-id="9cd99-235">Lorsque vous activez le déplacement des données à l’aide d’un magasin intermédiaire, vous pouvez spécifier si vous souhaitez que hello toobe de données compressée avant le déplacement de données à partir de la source de hello magasin tooan temporaire ou la banque de données de mise en lots de données et puis décompressé avant le déplacement de données à partir d’un intervalle ou magasin de données récepteur toohello de magasin de données mise en lots.</span><span class="sxs-lookup"><span data-stu-id="9cd99-235">When you activate data movement by using a staging store, you can specify whether you want hello data toobe compressed before moving data from hello source data store tooan interim or staging data store, and then decompressed before moving data from an interim or staging data store toohello sink data store.</span></span>

<span data-ttu-id="9cd99-236">Actuellement, vous ne pouvez pas copier de données entre deux banques de données locales à l’aide d’une banque intermédiaire.</span><span class="sxs-lookup"><span data-stu-id="9cd99-236">Currently, you can't copy data between two on-premises data stores by using a staging store.</span></span> <span data-ttu-id="9cd99-237">Nous pensons que cette option toobe disponible bientôt.</span><span class="sxs-lookup"><span data-stu-id="9cd99-237">We expect this option toobe available soon.</span></span>

### <a name="configuration"></a><span data-ttu-id="9cd99-238">Configuration</span><span class="sxs-lookup"><span data-stu-id="9cd99-238">Configuration</span></span>
<span data-ttu-id="9cd99-239">Configurer hello **enableStaging** définition dans l’activité de copie toospecify si vous souhaitez hello toobe de données transférée dans le stockage Blob avant de les charger dans un magasin de données de destination.</span><span class="sxs-lookup"><span data-stu-id="9cd99-239">Configure hello **enableStaging** setting in Copy Activity toospecify whether you want hello data toobe staged in Blob storage before you load it into a destination data store.</span></span> <span data-ttu-id="9cd99-240">Lorsque vous définissez **enableStaging** tooTRUE, spécifier des propriétés supplémentaires hello répertoriées dans le tableau suivant de hello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-240">When you set **enableStaging** tooTRUE, specify hello additional properties listed in hello next table.</span></span> <span data-ttu-id="9cd99-241">Si vous n’en avez pas, vous devez également toocreate un stockage Azure ou le stockage partagé service lié à la signature d’accès pour l’environnement intermédiaire.</span><span class="sxs-lookup"><span data-stu-id="9cd99-241">If you don’t have one, you also need toocreate an Azure Storage or Storage shared access signature-linked service for staging.</span></span>

| <span data-ttu-id="9cd99-242">Propriété</span><span class="sxs-lookup"><span data-stu-id="9cd99-242">Property</span></span> | <span data-ttu-id="9cd99-243">Description</span><span class="sxs-lookup"><span data-stu-id="9cd99-243">Description</span></span> | <span data-ttu-id="9cd99-244">Valeur par défaut</span><span class="sxs-lookup"><span data-stu-id="9cd99-244">Default value</span></span> | <span data-ttu-id="9cd99-245">Requis</span><span class="sxs-lookup"><span data-stu-id="9cd99-245">Required</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="9cd99-246">**enableStaging**</span><span class="sxs-lookup"><span data-stu-id="9cd99-246">**enableStaging**</span></span> |<span data-ttu-id="9cd99-247">Spécifiez si vous souhaitez que les données toocopy via un intervalle de mise en lots de magasin.</span><span class="sxs-lookup"><span data-stu-id="9cd99-247">Specify whether you want toocopy data via an interim staging store.</span></span> |<span data-ttu-id="9cd99-248">False</span><span class="sxs-lookup"><span data-stu-id="9cd99-248">False</span></span> |<span data-ttu-id="9cd99-249">Non</span><span class="sxs-lookup"><span data-stu-id="9cd99-249">No</span></span> |
| <span data-ttu-id="9cd99-250">**linkedServiceName**</span><span class="sxs-lookup"><span data-stu-id="9cd99-250">**linkedServiceName**</span></span> |<span data-ttu-id="9cd99-251">Spécifiez le nom hello d’un [AzureStorage](data-factory-azure-blob-connector.md#azure-storage-linked-service) ou [AzureStorageSas](data-factory-azure-blob-connector.md#azure-storage-sas-linked-service) service, qui fait référence instance toohello de stockage que vous utilisez comme un magasin de mise en lots intermédiaire lié.</span><span class="sxs-lookup"><span data-stu-id="9cd99-251">Specify hello name of an [AzureStorage](data-factory-azure-blob-connector.md#azure-storage-linked-service) or [AzureStorageSas](data-factory-azure-blob-connector.md#azure-storage-sas-linked-service) linked service, which refers toohello instance of Storage that you use as an interim staging store.</span></span> <br/><br/> <span data-ttu-id="9cd99-252">Vous ne pouvez pas utiliser le stockage comportant des données tooload signature d’accès partagé dans l’entrepôt de données SQL via PolyBase.</span><span class="sxs-lookup"><span data-stu-id="9cd99-252">You cannot use Storage with a shared access signature tooload data into SQL Data Warehouse via PolyBase.</span></span> <span data-ttu-id="9cd99-253">Vous pouvez l’utiliser dans tous les autres scénarios.</span><span class="sxs-lookup"><span data-stu-id="9cd99-253">You can use it in all other scenarios.</span></span> |<span data-ttu-id="9cd99-254">N/A</span><span class="sxs-lookup"><span data-stu-id="9cd99-254">N/A</span></span> |<span data-ttu-id="9cd99-255">Oui, lorsque **enableStaging** a la valeur tooTRUE</span><span class="sxs-lookup"><span data-stu-id="9cd99-255">Yes, when **enableStaging** is set tooTRUE</span></span> |
| <span data-ttu-id="9cd99-256">**path**</span><span class="sxs-lookup"><span data-stu-id="9cd99-256">**path**</span></span> |<span data-ttu-id="9cd99-257">Spécifier le chemin de stockage d’objets Blob hello que les données de hello intermédiaire toocontain.</span><span class="sxs-lookup"><span data-stu-id="9cd99-257">Specify hello Blob storage path that you want toocontain hello staged data.</span></span> <span data-ttu-id="9cd99-258">Si vous ne fournissez pas un chemin d’accès, le service de hello crée une conteneur toostore les données de temporaire.</span><span class="sxs-lookup"><span data-stu-id="9cd99-258">If you do not provide a path, hello service creates a container toostore temporary data.</span></span> <br/><br/> <span data-ttu-id="9cd99-259">Spécifiez un chemin d’accès que si vous utilisez le stockage avec une signature d’accès partagé, ou vous avez besoin de toobe de données temporaires dans un emplacement spécifique.</span><span class="sxs-lookup"><span data-stu-id="9cd99-259">Specify a path only if you use Storage with a shared access signature, or you require temporary data toobe in a specific location.</span></span> |<span data-ttu-id="9cd99-260">N/A</span><span class="sxs-lookup"><span data-stu-id="9cd99-260">N/A</span></span> |<span data-ttu-id="9cd99-261">Non</span><span class="sxs-lookup"><span data-stu-id="9cd99-261">No</span></span> |
| <span data-ttu-id="9cd99-262">**enableCompression**</span><span class="sxs-lookup"><span data-stu-id="9cd99-262">**enableCompression**</span></span> |<span data-ttu-id="9cd99-263">Spécifie si les données doivent être compressées avant qu’il soit copiée toohello destination.</span><span class="sxs-lookup"><span data-stu-id="9cd99-263">Specifies whether data should be compressed before it is copied toohello destination.</span></span> <span data-ttu-id="9cd99-264">Ce paramètre réduit le volume hello de données transférées.</span><span class="sxs-lookup"><span data-stu-id="9cd99-264">This setting reduces hello volume of data being transferred.</span></span> |<span data-ttu-id="9cd99-265">False</span><span class="sxs-lookup"><span data-stu-id="9cd99-265">False</span></span> |<span data-ttu-id="9cd99-266">Non</span><span class="sxs-lookup"><span data-stu-id="9cd99-266">No</span></span> |

<span data-ttu-id="9cd99-267">Voici un exemple de définition de l’activité de copie avec des propriétés de hello qui sont décrites dans le tableau précédent de hello :</span><span class="sxs-lookup"><span data-stu-id="9cd99-267">Here's a sample definition of Copy Activity with hello properties that are described in hello preceding table:</span></span>

```json
"activities":[  
{
    "name": "Sample copy activity",
    "type": "Copy",
    "inputs": [{ "name": "OnpremisesSQLServerInput" }],
    "outputs": [{ "name": "AzureSQLDBOutput" }],
    "typeProperties": {
        "source": {
            "type": "SqlSource",
        },
        "sink": {
            "type": "SqlSink"
        },
        "enableStaging": true,
        "stagingSettings": {
            "linkedServiceName": "MyStagingBlob",
            "path": "stagingcontainer/path",
            "enableCompression": true
        }
    }
}
]
```

### <a name="billing-impact"></a><span data-ttu-id="9cd99-268">Impact sur la facturation</span><span class="sxs-lookup"><span data-stu-id="9cd99-268">Billing impact</span></span>
<span data-ttu-id="9cd99-269">Vous êtes facturé en fonction de deux étapes : la durée de la copie et le type de copie.</span><span class="sxs-lookup"><span data-stu-id="9cd99-269">You are charged based on two steps: copy duration and copy type.</span></span>

* <span data-ttu-id="9cd99-270">Lorsque vous utilisez intermédiaire lors d’une copie de cloud (copie de données à partir d’un magasin de données du magasin tooanother cloud cloud données), vous êtes facturé hello [somme des durées de copie pour les étapes 1 et 2] x [prix unitaires de copie cloud].</span><span class="sxs-lookup"><span data-stu-id="9cd99-270">When you use staging during a cloud copy (copying data from a cloud data store tooanother cloud data store), you are charged hello [sum of copy duration for step 1 and step 2] x [cloud copy unit price].</span></span>
* <span data-ttu-id="9cd99-271">Lorsque vous utilisez intermédiaire lors d’une copie hybride (copie de données à partir d’une banque de données locale données magasin tooa cloud), vous êtes facturé pour [durée de la copie hybride] x [prix d’unitaire copie hybride] + [durée de la copie de cloud computing] x [prix unitaires de copie cloud].</span><span class="sxs-lookup"><span data-stu-id="9cd99-271">When you use staging during a hybrid copy (copying data from an on-premises data store tooa cloud data store), you are charged for [hybrid copy duration] x [hybrid copy unit price] + [cloud copy duration] x [cloud copy unit price].</span></span>

## <a name="performance-tuning-steps"></a><span data-ttu-id="9cd99-272">Procédure de réglage des performances</span><span class="sxs-lookup"><span data-stu-id="9cd99-272">Performance tuning steps</span></span>
<span data-ttu-id="9cd99-273">Nous recommandons d’effectuer ces étapes tootune les performances de hello de votre service de fabrique de données avec l’activité de copie :</span><span class="sxs-lookup"><span data-stu-id="9cd99-273">We suggest that you take these steps tootune hello performance of your Data Factory service with Copy Activity:</span></span>

1. <span data-ttu-id="9cd99-274">**Établir une ligne de base**.</span><span class="sxs-lookup"><span data-stu-id="9cd99-274">**Establish a baseline**.</span></span> <span data-ttu-id="9cd99-275">Pendant la phase de développement hello, testez votre pipeline à l’aide de l’activité de copie sur un échantillon représentatif de données.</span><span class="sxs-lookup"><span data-stu-id="9cd99-275">During hello development phase, test your pipeline by using Copy Activity against a representative data sample.</span></span> <span data-ttu-id="9cd99-276">Vous pouvez utiliser hello Data Factory [découpage modèle](data-factory-scheduling-and-execution.md) durée hello toolimit vous travaillez avec des données.</span><span class="sxs-lookup"><span data-stu-id="9cd99-276">You can use hello Data Factory [slicing model](data-factory-scheduling-and-execution.md) toolimit hello amount of data you work with.</span></span>

   <span data-ttu-id="9cd99-277">Collecter le temps d’exécution et les caractéristiques de performances à l’aide de hello **analyse et l’application de gestion**.</span><span class="sxs-lookup"><span data-stu-id="9cd99-277">Collect execution time and performance characteristics by using hello **Monitoring and Management App**.</span></span> <span data-ttu-id="9cd99-278">Choisissez **Surveiller et gérer** sur votre page d’accueil Data Factory.</span><span class="sxs-lookup"><span data-stu-id="9cd99-278">Choose **Monitor & Manage** on your Data Factory home page.</span></span> <span data-ttu-id="9cd99-279">Dans l’arborescence de hello, choisissez hello **jeu de données de sortie**.</span><span class="sxs-lookup"><span data-stu-id="9cd99-279">In hello tree view, choose hello **output dataset**.</span></span> <span data-ttu-id="9cd99-280">Bonjour **Windows de l’activité** , choisissez hello exécuter l’activité de copie.</span><span class="sxs-lookup"><span data-stu-id="9cd99-280">In hello **Activity Windows** list, choose hello Copy Activity run.</span></span> <span data-ttu-id="9cd99-281">**Activité Windows** répertorie la durée de l’activité de copie hello et taille hello de données hello sont copiée.</span><span class="sxs-lookup"><span data-stu-id="9cd99-281">**Activity Windows** lists hello Copy Activity duration and hello size of hello data that's copied.</span></span> <span data-ttu-id="9cd99-282">débit de Hello est répertorié dans **activité fenêtre Explorateur**.</span><span class="sxs-lookup"><span data-stu-id="9cd99-282">hello throughput is listed in **Activity Window Explorer**.</span></span> <span data-ttu-id="9cd99-283">toolearn en savoir plus sur l’application hello, consultez [analyse et gérer des pipelines Azure Data Factory à l’aide de hello surveillance et l’application de gestion](data-factory-monitor-manage-app.md).</span><span class="sxs-lookup"><span data-stu-id="9cd99-283">toolearn more about hello app, see [Monitor and manage Azure Data Factory pipelines by using hello Monitoring and Management App](data-factory-monitor-manage-app.md).</span></span>

   ![Détails de l'exécution d'activité](./media/data-factory-copy-activity-performance/mmapp-activity-run-details.png)

   <span data-ttu-id="9cd99-285">Plus loin dans l’article hello, vous pouvez comparer les performances de hello et la configuration de votre scénario tooCopy activité [référence des performances](#performance-reference) de nos tests.</span><span class="sxs-lookup"><span data-stu-id="9cd99-285">Later in hello article, you can compare hello performance and configuration of your scenario tooCopy Activity’s [performance reference](#performance-reference) from our tests.</span></span>
2. <span data-ttu-id="9cd99-286">**Diagnostiquer et optimiser les performances**.</span><span class="sxs-lookup"><span data-stu-id="9cd99-286">**Diagnose and optimize performance**.</span></span> <span data-ttu-id="9cd99-287">Si les performances hello que vous observez ne répondent pas à vos attentes, vous devez tooidentify les goulots d’étranglement.</span><span class="sxs-lookup"><span data-stu-id="9cd99-287">If hello performance you observe doesn't meet your expectations, you need tooidentify performance bottlenecks.</span></span> <span data-ttu-id="9cd99-288">Ensuite, optimiser les performances tooremove ou réduire l’effet de hello des goulots d’étranglement.</span><span class="sxs-lookup"><span data-stu-id="9cd99-288">Then, optimize performance tooremove or reduce hello effect of bottlenecks.</span></span> <span data-ttu-id="9cd99-289">Une description complète des diagnostics de performances est abordée dans cet article hello, mais certaines considérations courantes sont :</span><span class="sxs-lookup"><span data-stu-id="9cd99-289">A full description of performance diagnosis is beyond hello scope of this article, but here are some common considerations:</span></span>

   * <span data-ttu-id="9cd99-290">Fonctionnalités de performances :</span><span class="sxs-lookup"><span data-stu-id="9cd99-290">Performance features:</span></span>
     * [<span data-ttu-id="9cd99-291">Copie en parallèle</span><span class="sxs-lookup"><span data-stu-id="9cd99-291">Parallel copy</span></span>](#parallel-copy)
     * [<span data-ttu-id="9cd99-292">Unités de déplacement de données cloud</span><span class="sxs-lookup"><span data-stu-id="9cd99-292">Cloud data movement units</span></span>](#cloud-data-movement-units)
     * [<span data-ttu-id="9cd99-293">Copie intermédiaire</span><span class="sxs-lookup"><span data-stu-id="9cd99-293">Staged copy</span></span>](#staged-copy)
     * [<span data-ttu-id="9cd99-294">Évolutivité de la passerelle de gestion des données</span><span class="sxs-lookup"><span data-stu-id="9cd99-294">Data Management Gateway scalability</span></span>](data-factory-data-management-gateway-high-availability-scalability.md)
   * [<span data-ttu-id="9cd99-295">Passerelle de gestion de données</span><span class="sxs-lookup"><span data-stu-id="9cd99-295">Data Management Gateway</span></span>](#considerations-for-data-management-gateway)
   * [<span data-ttu-id="9cd99-296">Source</span><span class="sxs-lookup"><span data-stu-id="9cd99-296">Source</span></span>](#considerations-for-the-source)
   * [<span data-ttu-id="9cd99-297">Section sink</span><span class="sxs-lookup"><span data-stu-id="9cd99-297">Sink</span></span>](#considerations-for-the-sink)
   * [<span data-ttu-id="9cd99-298">Sérialisation et désérialisation</span><span class="sxs-lookup"><span data-stu-id="9cd99-298">Serialization and deserialization</span></span>](#considerations-for-serialization-and-deserialization)
   * [<span data-ttu-id="9cd99-299">Compression</span><span class="sxs-lookup"><span data-stu-id="9cd99-299">Compression</span></span>](#considerations-for-compression)
   * [<span data-ttu-id="9cd99-300">Mappage de colonnes</span><span class="sxs-lookup"><span data-stu-id="9cd99-300">Column mapping</span></span>](#considerations-for-column-mapping)
   * [<span data-ttu-id="9cd99-301">Autres points à considérer</span><span class="sxs-lookup"><span data-stu-id="9cd99-301">Other considerations</span></span>](#other-considerations)
3. <span data-ttu-id="9cd99-302">**Développez le jeu de données entier hello configuration tooyour**.</span><span class="sxs-lookup"><span data-stu-id="9cd99-302">**Expand hello configuration tooyour entire data set**.</span></span> <span data-ttu-id="9cd99-303">Lorsque vous êtes satisfait des performances et les résultats de l’exécution de hello, vous pouvez développer la définition de hello et pipeline toocover période active votre ensemble de données.</span><span class="sxs-lookup"><span data-stu-id="9cd99-303">When you're satisfied with hello execution results and performance, you can expand hello definition and pipeline active period toocover your entire data set.</span></span>

## <a name="considerations-for-data-management-gateway"></a><span data-ttu-id="9cd99-304">Considérations relatives à la passerelle de gestion des données</span><span class="sxs-lookup"><span data-stu-id="9cd99-304">Considerations for Data Management Gateway</span></span>
<span data-ttu-id="9cd99-305">**Le programme d’installation de passerelle**: nous vous recommandons d’utiliser une passerelle de gestion des données de toohost ordinateur dédié.</span><span class="sxs-lookup"><span data-stu-id="9cd99-305">**Gateway setup**: We recommend that you use a dedicated machine toohost Data Management Gateway.</span></span> <span data-ttu-id="9cd99-306">Voir [Considérations relatives à l’utilisation de la passerelle de gestion des données](data-factory-data-management-gateway.md#considerations-for-using-gateway).</span><span class="sxs-lookup"><span data-stu-id="9cd99-306">See [Considerations for using Data Management Gateway](data-factory-data-management-gateway.md#considerations-for-using-gateway).</span></span>  

<span data-ttu-id="9cd99-307">**Analyse de la passerelle et la montée en puissancehaut/**: une seule passerelle logique avec un ou plusieurs nœuds de passerelle peut traiter plusieurs activité de copie s’exécute sur hello même moment simultanément.</span><span class="sxs-lookup"><span data-stu-id="9cd99-307">**Gateway monitoring and scale-up/out**: A single logical gateway with one or more gateway nodes can serve multiple Copy Activity runs at hello same time concurrently.</span></span> <span data-ttu-id="9cd99-308">Vous pouvez afficher l’instantané quasiment en temps réel de l’utilisation des ressources (processeur, mémoire, network(in/out), etc.) sur un ordinateur de passerelle, ainsi que le nombre de hello de travaux simultanés en cours d’exécution par rapport à la limite de hello portail Azure, consultez [passerelle moniteur dans le portail hello](data-factory-data-management-gateway.md#monitor-gateway-in-the-portal).</span><span class="sxs-lookup"><span data-stu-id="9cd99-308">You can view near-real time snapshot of resource utilization (CPU, memory, network(in/out), etc.) on a gateway machine as well as hello number of concurrent jobs running versus limit in hello Azure portal, see [Monitor gateway in hello portal](data-factory-data-management-gateway.md#monitor-gateway-in-the-portal).</span></span> <span data-ttu-id="9cd99-309">Si vous avez besoin d’importante sur le déplacement des données hybride avec un grand nombre d’exécutions d’activité copie simultanée ou avec un gros volume de données toocopy, envisagez trop[montée en puissance ou la montée en puissance parallèle passerelle](data-factory-data-management-gateway-high-availability-scalability.md#scale-considerations) ainsi en toobetter utiliser votre ressource ou tooprovision plusieurs ressources tooempower copier.</span><span class="sxs-lookup"><span data-stu-id="9cd99-309">If you have heavy need on hybrid data movement either with large number of concurrent copy activity runs or with large volume of data toocopy, consider too[scale up or scale out gateway](data-factory-data-management-gateway-high-availability-scalability.md#scale-considerations) so as toobetter utilize your resource or tooprovision more resource tooempower copy.</span></span> 

## <a name="considerations-for-hello-source"></a><span data-ttu-id="9cd99-310">Considérations relatives à la source de hello</span><span class="sxs-lookup"><span data-stu-id="9cd99-310">Considerations for hello source</span></span>
### <a name="general"></a><span data-ttu-id="9cd99-311">Généralités</span><span class="sxs-lookup"><span data-stu-id="9cd99-311">General</span></span>
<span data-ttu-id="9cd99-312">N’oubliez pas que hello sous-jacent du magasin de données ne soit pas submergé par les autres charges de travail qui sont exécutent sur ou s’y rapportant.</span><span class="sxs-lookup"><span data-stu-id="9cd99-312">Be sure that hello underlying data store is not overwhelmed by other workloads that are running on or against it.</span></span>

<span data-ttu-id="9cd99-313">Pour les magasins de données de Microsoft, consultez [surveillance et de paramétrage des rubriques](#performance-reference) qui sont des magasins de toodata spécifique et vous aident à comprendre les caractéristiques de performances de magasin de données, réduire les temps de réponse et optimiser le débit.</span><span class="sxs-lookup"><span data-stu-id="9cd99-313">For Microsoft data stores, see [monitoring and tuning topics](#performance-reference) that are specific toodata stores, and help you understand data store performance characteristics, minimize response times, and maximize throughput.</span></span>

<span data-ttu-id="9cd99-314">Si vous copiez des données à partir de l’objet Blob stockage tooSQL l’entrepôt de données, envisagez d’utiliser **PolyBase** tooboost performances.</span><span class="sxs-lookup"><span data-stu-id="9cd99-314">If you copy data from Blob storage tooSQL Data Warehouse, consider using **PolyBase** tooboost performance.</span></span> <span data-ttu-id="9cd99-315">Consultez [PolyBase d’utilisation des données de tooload dans Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="9cd99-315">See [Use PolyBase tooload data into Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse) for details.</span></span> <span data-ttu-id="9cd99-316">Consultez [Charger 1 To dans Azure SQL Data Warehouse en moins de 15 minutes avec Azure Data Factory](data-factory-load-sql-data-warehouse.md) pour obtenir une procédure pas à pas avec un cas d’utilisation.</span><span class="sxs-lookup"><span data-stu-id="9cd99-316">For a walkthrough with a use case, see [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span></span>

### <a name="file-based-data-stores"></a><span data-ttu-id="9cd99-317">Magasins de données basés sur un fichier</span><span class="sxs-lookup"><span data-stu-id="9cd99-317">File-based data stores</span></span>
<span data-ttu-id="9cd99-318">*(Inclut le stockage des objets blob, Data Lake Store, Amazon S3, les systèmes de fichiers locaux et HDFS locaux)*</span><span class="sxs-lookup"><span data-stu-id="9cd99-318">*(Includes Blob storage, Data Lake Store, Amazon S3, on-premises file systems, and on-premises HDFS)*</span></span>

* <span data-ttu-id="9cd99-319">**Taille moyenne de fichier et nombre de fichiers**: l’activité de copie transfère les données d’un fichier à la fois.</span><span class="sxs-lookup"><span data-stu-id="9cd99-319">**Average file size and file count**: Copy Activity transfers data one file at a time.</span></span> <span data-ttu-id="9cd99-320">Avec hello déplacée de la même quantité de données toobe, hello débit global est faible si les données de salutation est composée de nombreux petits fichiers plutôt que de quelques fichiers volumineux en raison de la phase d’amorçage toohello pour chaque fichier.</span><span class="sxs-lookup"><span data-stu-id="9cd99-320">With hello same amount of data toobe moved, hello overall throughput is lower if hello data consists of many small files rather than a few large files due toohello bootstrap phase for each file.</span></span> <span data-ttu-id="9cd99-321">Par conséquent, si possible, combiner plusieurs petits fichiers dans un plus grand débit plus élevé toogain de fichiers.</span><span class="sxs-lookup"><span data-stu-id="9cd99-321">Therefore, if possible, combine small files into larger files toogain higher throughput.</span></span>
* <span data-ttu-id="9cd99-322">**Fichier de format et compression**: pour davantage de performances tooimprove manières, consultez hello [considérations relatives à la sérialisation et la désérialisation](#considerations-for-serialization-and-deserialization) et [considérations pour la compression](#considerations-for-compression) sections.</span><span class="sxs-lookup"><span data-stu-id="9cd99-322">**File format and compression**: For more ways tooimprove performance, see hello [Considerations for serialization and deserialization](#considerations-for-serialization-and-deserialization) and [Considerations for compression](#considerations-for-compression) sections.</span></span>
* <span data-ttu-id="9cd99-323">Pourquoi **système de fichiers local** scénario, dans lequel **passerelle de gestion des données** est obligatoire, voir hello [considérations relatives à la passerelle de gestion des données](#considerations-for-data-management-gateway) section.</span><span class="sxs-lookup"><span data-stu-id="9cd99-323">For hello **on-premises file system** scenario, in which **Data Management Gateway** is required, see hello [Considerations for Data Management Gateway](#considerations-for-data-management-gateway) section.</span></span>

### <a name="relational-data-stores"></a><span data-ttu-id="9cd99-324">Bases de données relationnelles</span><span class="sxs-lookup"><span data-stu-id="9cd99-324">Relational data stores</span></span>
<span data-ttu-id="9cd99-325">*(Inclut SQL Database, SQL Data Warehouse, Amazon Redshift, les bases de données SQL Server et les bases de données Oracle, MySQL, DB2, Teradata, Sybase et PostgreSQL, etc.)*</span><span class="sxs-lookup"><span data-stu-id="9cd99-325">*(Includes SQL Database; SQL Data Warehouse; Amazon Redshift; SQL Server databases; and Oracle, MySQL, DB2, Teradata, Sybase, and PostgreSQL databases, etc.)*</span></span>

* <span data-ttu-id="9cd99-326">**Modèle de données**: votre schéma de table a des répercussions sur le débit de copie.</span><span class="sxs-lookup"><span data-stu-id="9cd99-326">**Data pattern**: Your table schema affects copy throughput.</span></span> <span data-ttu-id="9cd99-327">Une taille importante vous offre de meilleures performances à petite taille, toocopy hello même volume de données.</span><span class="sxs-lookup"><span data-stu-id="9cd99-327">A large row size gives you a better performance than small row size, toocopy hello same amount of data.</span></span> <span data-ttu-id="9cd99-328">Hello est que cette base de données hello peut extraire plus efficacement les lots de moins de données qui contiennent moins de lignes.</span><span class="sxs-lookup"><span data-stu-id="9cd99-328">hello reason is that hello database can more efficiently retrieve fewer batches of data that contain fewer rows.</span></span>
* <span data-ttu-id="9cd99-329">**Requête ou procédure stockée**: optimiser la logique de requête de hello ou procédure stockée spécifiée dans les données de toofetch de source de l’activité de copie hello plus efficacement hello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-329">**Query or stored procedure**: Optimize hello logic of hello query or stored procedure you specify in hello Copy Activity source toofetch data more efficiently.</span></span>
* <span data-ttu-id="9cd99-330">Pour **local bases de données relationnelles**, tels que SQL Server et Oracle, qui nécessitent l’utilisation hello de **passerelle de gestion des données**, consultez hello [considérations relatives à la passerelle de gestion des données](#considerations-on-data-management-gateway) section.</span><span class="sxs-lookup"><span data-stu-id="9cd99-330">For **on-premises relational databases**, such as SQL Server and Oracle, which require hello use of **Data Management Gateway**, see hello [Considerations for Data Management Gateway](#considerations-on-data-management-gateway) section.</span></span>

## <a name="considerations-for-hello-sink"></a><span data-ttu-id="9cd99-331">Considérations pour le récepteur de hello</span><span class="sxs-lookup"><span data-stu-id="9cd99-331">Considerations for hello sink</span></span>
### <a name="general"></a><span data-ttu-id="9cd99-332">Généralités</span><span class="sxs-lookup"><span data-stu-id="9cd99-332">General</span></span>
<span data-ttu-id="9cd99-333">N’oubliez pas que hello sous-jacent du magasin de données ne soit pas submergé par les autres charges de travail qui sont exécutent sur ou s’y rapportant.</span><span class="sxs-lookup"><span data-stu-id="9cd99-333">Be sure that hello underlying data store is not overwhelmed by other workloads that are running on or against it.</span></span>

<span data-ttu-id="9cd99-334">Pour les magasins de données de Microsoft, consultez trop[surveillance et de paramétrage des rubriques](#performance-reference) qui sont des magasins de toodata spécifique.</span><span class="sxs-lookup"><span data-stu-id="9cd99-334">For Microsoft data stores, refer too[monitoring and tuning topics](#performance-reference) that are specific toodata stores.</span></span> <span data-ttu-id="9cd99-335">Ces rubriques peuvent vous aider à comprendre les caractéristiques de performances du magasin de données et la façon dont des temps de réponse de toominimize et accélère le débit.</span><span class="sxs-lookup"><span data-stu-id="9cd99-335">These topics can help you understand data store performance characteristics and how toominimize response times and maximize throughput.</span></span>

<span data-ttu-id="9cd99-336">Si vous copiez des données à partir de **stockage d’objets Blob** trop**SQL Data Warehouse**, envisagez d’utiliser **PolyBase** tooboost performances.</span><span class="sxs-lookup"><span data-stu-id="9cd99-336">If you are copying data from **Blob storage** too**SQL Data Warehouse**, consider using **PolyBase** tooboost performance.</span></span> <span data-ttu-id="9cd99-337">Consultez [PolyBase d’utilisation des données de tooload dans Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="9cd99-337">See [Use PolyBase tooload data into Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse) for details.</span></span> <span data-ttu-id="9cd99-338">Consultez [Charger 1 To dans Azure SQL Data Warehouse en moins de 15 minutes avec Azure Data Factory](data-factory-load-sql-data-warehouse.md) pour obtenir une procédure pas à pas avec un cas d’utilisation.</span><span class="sxs-lookup"><span data-stu-id="9cd99-338">For a walkthrough with a use case, see [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span></span>

### <a name="file-based-data-stores"></a><span data-ttu-id="9cd99-339">Magasins de données basés sur un fichier</span><span class="sxs-lookup"><span data-stu-id="9cd99-339">File-based data stores</span></span>
<span data-ttu-id="9cd99-340">*(Inclut le stockage des objets blob, Data Lake Store, Amazon S3, les systèmes de fichiers locaux et HDFS locaux)*</span><span class="sxs-lookup"><span data-stu-id="9cd99-340">*(Includes Blob storage, Data Lake Store, Amazon S3, on-premises file systems, and on-premises HDFS)*</span></span>

* <span data-ttu-id="9cd99-341">**Copiez le comportement**: Si vous copiez des données d’un magasin de données de fichier différent, l’activité de copie a trois options via hello **copyBehavior** propriété.</span><span class="sxs-lookup"><span data-stu-id="9cd99-341">**Copy behavior**: If you copy data from a different file-based data store, Copy Activity has three options via hello **copyBehavior** property.</span></span> <span data-ttu-id="9cd99-342">Elle conserve la hiérarchie, aplatit la hiérarchie ou fusionne les fichiers.</span><span class="sxs-lookup"><span data-stu-id="9cd99-342">It preserves hierarchy, flattens hierarchy, or merges files.</span></span> <span data-ttu-id="9cd99-343">Conserver ou de mise à plat de la hiérarchie a peu ou aucune surcharge de performances, mais entraîne la fusion de fichiers tooincrease surcharge de performances.</span><span class="sxs-lookup"><span data-stu-id="9cd99-343">Either preserving or flattening hierarchy has little or no performance overhead, but merging files causes performance overhead tooincrease.</span></span>
* <span data-ttu-id="9cd99-344">**Fichier de format et compression**: voir hello [considérations relatives à la sérialisation et la désérialisation](#considerations-for-serialization-and-deserialization) et [considérations pour la compression](#considerations-for-compression) sections pour les performances de tooimprove plusieurs façons .</span><span class="sxs-lookup"><span data-stu-id="9cd99-344">**File format and compression**: See hello [Considerations for serialization and deserialization](#considerations-for-serialization-and-deserialization) and [Considerations for compression](#considerations-for-compression) sections for more ways tooimprove performance.</span></span>
* <span data-ttu-id="9cd99-345">**Stockage Blob**: actuellement, le stockage Blob ne prend en charge que les objets blob de blocs pour un transfert de données et un débit optimisés.</span><span class="sxs-lookup"><span data-stu-id="9cd99-345">**Blob storage**: Currently, Blob storage supports only block blobs for optimized data transfer and throughput.</span></span>
* <span data-ttu-id="9cd99-346">Pour **systèmes de fichiers local** scénarios qui nécessitent l’utilisation de hello de **passerelle de gestion des données**, consultez hello [considérations relatives à la passerelle de gestion des données](#considerations-for-data-management-gateway) section.</span><span class="sxs-lookup"><span data-stu-id="9cd99-346">For **on-premises file systems** scenarios that require hello use of **Data Management Gateway**, see hello [Considerations for Data Management Gateway](#considerations-for-data-management-gateway) section.</span></span>

### <a name="relational-data-stores"></a><span data-ttu-id="9cd99-347">Bases de données relationnelles</span><span class="sxs-lookup"><span data-stu-id="9cd99-347">Relational data stores</span></span>
<span data-ttu-id="9cd99-348">*(Inclut SQL Database, SQL Data Warehouse, les bases de données SQL Server et les bases de données Oracle)*</span><span class="sxs-lookup"><span data-stu-id="9cd99-348">*(Includes SQL Database, SQL Data Warehouse, SQL Server databases, and Oracle databases)*</span></span>

* <span data-ttu-id="9cd99-349">**Copiez le comportement**: selon les propriétés de hello que vous avez définies pour **sqlSink**, l’activité de copie écrit la base de données de destination de données toohello de différentes façons.</span><span class="sxs-lookup"><span data-stu-id="9cd99-349">**Copy behavior**: Depending on hello properties you've set for **sqlSink**, Copy Activity writes data toohello destination database in different ways.</span></span>
  * <span data-ttu-id="9cd99-350">Par défaut, hello données mouvement service utilise les données de tooinsert salutation API de copie en bloc en mode append, qui fournit des hello des performances optimales.</span><span class="sxs-lookup"><span data-stu-id="9cd99-350">By default, hello data movement service uses hello Bulk Copy API tooinsert data in append mode, which provides hello best performance.</span></span>
  * <span data-ttu-id="9cd99-351">Si vous configurez une procédure stockée dans le récepteur de hello, base de données hello s’applique à une ligne de données hello a une heure au lieu d’un chargement en masse.</span><span class="sxs-lookup"><span data-stu-id="9cd99-351">If you configure a stored procedure in hello sink, hello database applies hello data one row at a time instead of as a bulk load.</span></span> <span data-ttu-id="9cd99-352">Les performances chutent considérablement.</span><span class="sxs-lookup"><span data-stu-id="9cd99-352">Performance drops significantly.</span></span> <span data-ttu-id="9cd99-353">Si votre jeu de données est importante, le cas échéant, envisagez de commutation toousing hello **sqlWriterCleanupScript** propriété.</span><span class="sxs-lookup"><span data-stu-id="9cd99-353">If your data set is large, when applicable, consider switching toousing hello **sqlWriterCleanupScript** property.</span></span>
  * <span data-ttu-id="9cd99-354">Si vous configurez hello **sqlWriterCleanupScript** exécuter de propriété pour chaque activité de copie, déclencheurs de service hello hello script, puis vous utilisez les données de salutation tooinsert hello API de copie en bloc.</span><span class="sxs-lookup"><span data-stu-id="9cd99-354">If you configure hello **sqlWriterCleanupScript** property for each Copy Activity run, hello service triggers hello script, and then you use hello Bulk Copy API tooinsert hello data.</span></span> <span data-ttu-id="9cd99-355">Par exemple, toooverwrite hello toute table avec les données les plus récentes hello, vous pouvez spécifier un script toofirst supprimer tous les enregistrements avant de nouvelles données de chargement en masse hello à partir de la source de hello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-355">For example, toooverwrite hello entire table with hello latest data, you can specify a script toofirst delete all records before bulk-loading hello new data from hello source.</span></span>
* <span data-ttu-id="9cd99-356">**Modèle de données et taille de lot**:</span><span class="sxs-lookup"><span data-stu-id="9cd99-356">**Data pattern and batch size**:</span></span>
  * <span data-ttu-id="9cd99-357">Votre schéma de table a des répercussions sur le débit de copie.</span><span class="sxs-lookup"><span data-stu-id="9cd99-357">Your table schema affects copy throughput.</span></span> <span data-ttu-id="9cd99-358">toocopy hello même volume de données, une taille importante vous donne meilleures performances à une petite taille, car la base de données hello peut valider plus efficacement les lots de moins de données.</span><span class="sxs-lookup"><span data-stu-id="9cd99-358">toocopy hello same amount of data, a large row size gives you better performance than a small row size because hello database can more efficiently commit fewer batches of data.</span></span>
  * <span data-ttu-id="9cd99-359">L’activité de copie insère des données dans une série de lots.</span><span class="sxs-lookup"><span data-stu-id="9cd99-359">Copy Activity inserts data in a series of batches.</span></span> <span data-ttu-id="9cd99-360">Vous pouvez définir le nombre de hello de lignes dans un lot à l’aide de hello **valeur writeBatchSize** propriété.</span><span class="sxs-lookup"><span data-stu-id="9cd99-360">You can set hello number of rows in a batch by using hello **writeBatchSize** property.</span></span> <span data-ttu-id="9cd99-361">Si vos données ont de petites lignes, vous pouvez définir hello **valeur writeBatchSize** propriété avec un toobenefit de valeur plus élevée à partir d’un traitement par lots et un débit plus élevé.</span><span class="sxs-lookup"><span data-stu-id="9cd99-361">If your data has small rows, you can set hello **writeBatchSize** property with a higher value toobenefit from lower batch overhead and higher throughput.</span></span> <span data-ttu-id="9cd99-362">Si la taille de ligne hello de vos données est importante, soyez prudent lorsque vous augmentez **valeur writeBatchSize**.</span><span class="sxs-lookup"><span data-stu-id="9cd99-362">If hello row size of your data is large, be careful when you increase **writeBatchSize**.</span></span> <span data-ttu-id="9cd99-363">Une valeur élevée peut provoquer l’échec de copie tooa dû à la surcharge de la base de données hello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-363">A high value might lead tooa copy failure caused by overloading hello database.</span></span>
* <span data-ttu-id="9cd99-364">Pour **local bases de données relationnelles** , tels que SQL Server et Oracle, qui nécessitent l’utilisation hello de **passerelle de gestion des données**, consultez hello [considérations relatives à la passerelle de gestion des données](#considerations-for-data-management-gateway) section.</span><span class="sxs-lookup"><span data-stu-id="9cd99-364">For **on-premises relational databases** like SQL Server and Oracle, which require hello use of **Data Management Gateway**, see hello [Considerations for Data Management Gateway](#considerations-for-data-management-gateway) section.</span></span>

### <a name="nosql-stores"></a><span data-ttu-id="9cd99-365">Magasins NoSQL</span><span class="sxs-lookup"><span data-stu-id="9cd99-365">NoSQL stores</span></span>
<span data-ttu-id="9cd99-366">*(Inclut le Stockage Table et Azure Cosmos DB)*</span><span class="sxs-lookup"><span data-stu-id="9cd99-366">*(Includes Table storage and Azure Cosmos DB )*</span></span>

* <span data-ttu-id="9cd99-367">Pour le **Stockage Table**:</span><span class="sxs-lookup"><span data-stu-id="9cd99-367">For **Table storage**:</span></span>
  * <span data-ttu-id="9cd99-368">**Partition**: l’écriture des partitions de données toointerleaved considérablement dégrade les performances.</span><span class="sxs-lookup"><span data-stu-id="9cd99-368">**Partition**: Writing data toointerleaved partitions dramatically degrades performance.</span></span> <span data-ttu-id="9cd99-369">Trier vos données sources par clé de partition afin que les données de salutation sont insérées efficacement une partition après l’autre, ou ajuster hello logique toowrite hello tooa unique partition de données.</span><span class="sxs-lookup"><span data-stu-id="9cd99-369">Sort your source data by partition key so that hello data is inserted efficiently into one partition after another, or adjust hello logic toowrite hello data tooa single partition.</span></span>
* <span data-ttu-id="9cd99-370">Pour **Azure Cosmos DB** :</span><span class="sxs-lookup"><span data-stu-id="9cd99-370">For **Azure Cosmos DB**:</span></span>
  * <span data-ttu-id="9cd99-371">**Taille du lot**: hello **valeur writeBatchSize** jeux de propriétés nombre hello de demandes parallèles documents toocreate de service de base de données Azure Cosmos toohello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-371">**Batch size**: hello **writeBatchSize** property sets hello number of parallel requests toohello Azure Cosmos DB service toocreate documents.</span></span> <span data-ttu-id="9cd99-372">Attendez-vous à améliorer les performances lorsque vous augmentez **valeur writeBatchSize** , car les demandes parallèles plus sont envoyés tooAzure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="9cd99-372">You can expect better performance when you increase **writeBatchSize** because more parallel requests are sent tooAzure Cosmos DB.</span></span> <span data-ttu-id="9cd99-373">Toutefois, observer la limitation lorsque vous écrivez tooAzure Cosmos DB (message d’erreur hello est « Requête taux est grand »).</span><span class="sxs-lookup"><span data-stu-id="9cd99-373">However, watch for throttling when you write tooAzure Cosmos DB (hello error message is "Request rate is large").</span></span> <span data-ttu-id="9cd99-374">Divers facteurs peuvent entraîner la limitation, notamment la taille du document, nombre de hello de termes dans les documents hello et hello stratégie d’indexation de la collection cible.</span><span class="sxs-lookup"><span data-stu-id="9cd99-374">Various factors can cause throttling, including document size, hello number of terms in hello documents, and hello target collection's indexing policy.</span></span> <span data-ttu-id="9cd99-375">tooachieve copie débit, envisagez d’utiliser une collection mieux, par exemple, S3.</span><span class="sxs-lookup"><span data-stu-id="9cd99-375">tooachieve higher copy throughput, consider using a better collection, for example, S3.</span></span>

## <a name="considerations-for-serialization-and-deserialization"></a><span data-ttu-id="9cd99-376">Considérations relatives à la sérialisation et à la désérialisation</span><span class="sxs-lookup"><span data-stu-id="9cd99-376">Considerations for serialization and deserialization</span></span>
<span data-ttu-id="9cd99-377">Une sérialisation et une désérialisation peuvent survenir quand le jeu de données d’entrée ou de sortie est un fichier.</span><span class="sxs-lookup"><span data-stu-id="9cd99-377">Serialization and deserialization can occur when your input data set or output data set is a file.</span></span> <span data-ttu-id="9cd99-378">Consultez la page [Formats de fichier et de compression pris en charge](data-factory-supported-file-and-compression-formats.md) qui présente des détails sur les formats de fichier pris en charge par activité de copie.</span><span class="sxs-lookup"><span data-stu-id="9cd99-378">See [Supported file and compression formats](data-factory-supported-file-and-compression-formats.md) with details on supported file formats by Copy Activity.</span></span>

<span data-ttu-id="9cd99-379">**Comportement de copie**:</span><span class="sxs-lookup"><span data-stu-id="9cd99-379">**Copy behavior**:</span></span>

* <span data-ttu-id="9cd99-380">Copie de fichiers entre banques de données basées sur fichier :</span><span class="sxs-lookup"><span data-stu-id="9cd99-380">Copying files between file-based data stores:</span></span>
  * <span data-ttu-id="9cd99-381">Lorsque les jeux de données d’entrée et de sortie qu'ont tous deux ne hello même ou les paramètres de format de fichier, le service de déplacement de données hello exécute une copie binaire sans sérialisation ou la désérialisation.</span><span class="sxs-lookup"><span data-stu-id="9cd99-381">When input and output data sets both have hello same or no file format settings, hello data movement service executes a binary copy without any serialization or deserialization.</span></span> <span data-ttu-id="9cd99-382">Vous consultez un scénario de toohello le débit par rapport plus élevé, dans quel hello les paramètres de format de fichier source et le récepteur sont différents entre eux.</span><span class="sxs-lookup"><span data-stu-id="9cd99-382">You see a higher throughput compared toohello scenario, in which hello source and sink file format settings are different from each other.</span></span>
  * <span data-ttu-id="9cd99-383">Lorsque l’entrée et les deux jeux de données sortie sont au format texte et l’encodage de hello uniquement type est différent, le service de déplacement de données hello ne conversion de codage.</span><span class="sxs-lookup"><span data-stu-id="9cd99-383">When input and output data sets both are in text format and only hello encoding type is different, hello data movement service only does encoding conversion.</span></span> <span data-ttu-id="9cd99-384">Il ne la sérialisation et la désérialisation, ce qui entraîne une surcharge de performances par rapport copie binaire de tooa.</span><span class="sxs-lookup"><span data-stu-id="9cd99-384">It doesn't do any serialization and deserialization, which causes some performance overhead compared tooa binary copy.</span></span>
  * <span data-ttu-id="9cd99-385">Lorsque d’entrée et de sortie jeux de données à la fois avoir différents formats de fichiers ou des configurations différentes, telles que les délimiteurs, hello service de déplacement de données désérialise toostream de données source, transformer et puis de le sérialiser dans le format de sortie hello indiquée.</span><span class="sxs-lookup"><span data-stu-id="9cd99-385">When input and output data sets both have different file formats or different configurations, like delimiters, hello data movement service deserializes source data toostream, transform, and then serialize it into hello output format you indicated.</span></span> <span data-ttu-id="9cd99-386">Cette opération entraîne une baisse des performances beaucoup plus importante par rapport à des scénarios de tooother.</span><span class="sxs-lookup"><span data-stu-id="9cd99-386">This operation results in a much more significant performance overhead compared tooother scenarios.</span></span>
* <span data-ttu-id="9cd99-387">Lorsque vous copiez des fichiers vers ou depuis un magasin de données qui n’est pas basé sur le fichier (par exemple, à partir d’un magasin relationnel tooa du magasin de fichiers), l’étape de sérialisation ou la désérialisation hello est requise.</span><span class="sxs-lookup"><span data-stu-id="9cd99-387">When you copy files to/from a data store that is not file-based (for example, from a file-based store tooa relational store), hello serialization or deserialization step is required.</span></span> <span data-ttu-id="9cd99-388">Cette étape génère une surcharge significative des performances.</span><span class="sxs-lookup"><span data-stu-id="9cd99-388">This step results in significant performance overhead.</span></span>

<span data-ttu-id="9cd99-389">**Format de fichier**: format de fichier hello que vous choisissez peut affecter les performances de copie.</span><span class="sxs-lookup"><span data-stu-id="9cd99-389">**File format**: hello file format you choose might affect copy performance.</span></span> <span data-ttu-id="9cd99-390">Par exemple, Avro est un format binaire compact qui stocke des métadonnées avec des données.</span><span class="sxs-lookup"><span data-stu-id="9cd99-390">For example, Avro is a compact binary format that stores metadata with data.</span></span> <span data-ttu-id="9cd99-391">Il a vaste prise en charge dans l’écosystème de Hadoop hello pour le traitement et l’interrogation.</span><span class="sxs-lookup"><span data-stu-id="9cd99-391">It has broad support in hello Hadoop ecosystem for processing and querying.</span></span> <span data-ttu-id="9cd99-392">Toutefois, Avro est plus coûteuse pour la sérialisation et la désérialisation, ce qui aboutit à un débit plus faible par rapport à tootext format.</span><span class="sxs-lookup"><span data-stu-id="9cd99-392">However, Avro is more expensive for serialization and deserialization, which results in lower copy throughput compared tootext format.</span></span> <span data-ttu-id="9cd99-393">Faites votre choix d’un format de fichier hello que guidage de flux de traitement.</span><span class="sxs-lookup"><span data-stu-id="9cd99-393">Make your choice of file format throughout hello processing flow holistically.</span></span> <span data-ttu-id="9cd99-394">Démarrer avec les données de hello du formulaire sont stockées dans, la source des magasins de données ou toobe extraites de systèmes externes ; format de meilleures Hello pour le stockage, traitement analytique et l’interrogation ; et, dans le format des données de hello doivent être exportées dans les data warehouses pour les outils de visualisation et de création de rapports.</span><span class="sxs-lookup"><span data-stu-id="9cd99-394">Start with what form hello data is stored in, source data stores or toobe extracted from external systems; hello best format for storage, analytical processing, and querying; and in what format hello data should be exported into data marts for reporting and visualization tools.</span></span> <span data-ttu-id="9cd99-395">Parfois, un format de fichier qui n’est pas optimal pour lire et écrire des performances peuvent être un bon choix lorsque vous considérez hello globale analytiques processus.</span><span class="sxs-lookup"><span data-stu-id="9cd99-395">Sometimes a file format that is suboptimal for read and write performance might be a good choice when you consider hello overall analytical process.</span></span>

## <a name="considerations-for-compression"></a><span data-ttu-id="9cd99-396">Considérations relatives à la compression</span><span class="sxs-lookup"><span data-stu-id="9cd99-396">Considerations for compression</span></span>
<span data-ttu-id="9cd99-397">Lorsque votre jeu de données d’entrée ou de sortie est un fichier, vous pouvez définir la compression de l’activité de copie tooperform ou la décompression lorsqu’il écrit la destination des données toohello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-397">When your input or output data set is a file, you can set Copy Activity tooperform compression or decompression as it writes data toohello destination.</span></span> <span data-ttu-id="9cd99-398">Lorsque vous choisissez la compression, vous trouvez un compromis entre les entrées/sorties (E/S) et le processeur.</span><span class="sxs-lookup"><span data-stu-id="9cd99-398">When you choose compression, you make a tradeoff between input/output (I/O) and CPU.</span></span> <span data-ttu-id="9cd99-399">La compression des données de hello des coûts supplémentaires en ressources de calcul.</span><span class="sxs-lookup"><span data-stu-id="9cd99-399">Compressing hello data costs extra in compute resources.</span></span> <span data-ttu-id="9cd99-400">Toutefois, en retour, elle réduit les E/S réseau et le stockage.</span><span class="sxs-lookup"><span data-stu-id="9cd99-400">But in return, it reduces network I/O and storage.</span></span> <span data-ttu-id="9cd99-401">En fonction de vos données, vous pouvez constater une augmentation du débit global de copie.</span><span class="sxs-lookup"><span data-stu-id="9cd99-401">Depending on your data, you may see a boost in overall copy throughput.</span></span>

<span data-ttu-id="9cd99-402">**Codec**: l’activité de copie prend en charge gzip, bzip2 et les types de compression Deflate.</span><span class="sxs-lookup"><span data-stu-id="9cd99-402">**Codec**: Copy Activity supports gzip, bzip2, and Deflate compression types.</span></span> <span data-ttu-id="9cd99-403">Azure HDInsight peut utiliser les trois types de traitement.</span><span class="sxs-lookup"><span data-stu-id="9cd99-403">Azure HDInsight can consume all three types for processing.</span></span> <span data-ttu-id="9cd99-404">Chaque codec de compression présente des avantages.</span><span class="sxs-lookup"><span data-stu-id="9cd99-404">Each compression codec has advantages.</span></span> <span data-ttu-id="9cd99-405">Par exemple, bzip2 a débit hello plus bas, mais vous obtenez hello ruche de meilleurs résultats avec bzip2, car vous pouvez le fractionner pour le traitement.</span><span class="sxs-lookup"><span data-stu-id="9cd99-405">For example, bzip2 has hello lowest copy throughput, but you get hello best Hive query performance with bzip2 because you can split it for processing.</span></span> <span data-ttu-id="9cd99-406">Gzip est l’option de hello plus équilibrée, et il est utilisé hello plus souvent.</span><span class="sxs-lookup"><span data-stu-id="9cd99-406">Gzip is hello most balanced option, and it is used hello most often.</span></span> <span data-ttu-id="9cd99-407">Choisissez le codec hello qui convient le mieux à votre scénario de bout en bout.</span><span class="sxs-lookup"><span data-stu-id="9cd99-407">Choose hello codec that best suits your end-to-end scenario.</span></span>

<span data-ttu-id="9cd99-408">**Niveau**: vous avec le choix entre deux options pour chaque codec de compression, la compression la plus rapide et la compression optimale.</span><span class="sxs-lookup"><span data-stu-id="9cd99-408">**Level**: You can choose from two options for each compression codec: fastest compressed and optimally compressed.</span></span> <span data-ttu-id="9cd99-409">Hello plus rapide compressée option compresse les données de salutation aussi rapidement que possible, même si le fichier résultant de hello n’est pas compressé de façon optimale.</span><span class="sxs-lookup"><span data-stu-id="9cd99-409">hello fastest compressed option compresses hello data as quickly as possible, even if hello resulting file is not optimally compressed.</span></span> <span data-ttu-id="9cd99-410">Hello option optimale compressée consacre plus de temps sur la compression et génère une quantité minimale de données.</span><span class="sxs-lookup"><span data-stu-id="9cd99-410">hello optimally compressed option spends more time on compression and yields a minimal amount of data.</span></span> <span data-ttu-id="9cd99-411">Vous pouvez tester les deux toosee options qui fournit de meilleures performances globales dans votre cas.</span><span class="sxs-lookup"><span data-stu-id="9cd99-411">You can test both options toosee which provides better overall performance in your case.</span></span>

<span data-ttu-id="9cd99-412">**Une considération**: toocopy une grande quantité de données entre une banque locale et le cloud de hello, envisagez d’utiliser de stockage d’objets blob temporaire avec la compression.</span><span class="sxs-lookup"><span data-stu-id="9cd99-412">**A consideration**: toocopy a large amount of data between an on-premises store and hello cloud, consider using interim blob storage with compression.</span></span> <span data-ttu-id="9cd99-413">L’utilisation du stockage temporaire est utile lorsque la bande passante hello de votre réseau d’entreprise et vos services Azure est le facteur de limitation hello, et que vous souhaitez hello d’entrée de jeu de données et les données de sortie défini à la fois toobe sous forme non compressée.</span><span class="sxs-lookup"><span data-stu-id="9cd99-413">Using interim storage is helpful when hello bandwidth of your corporate network and your Azure services is hello limiting factor, and you want hello input data set and output data set both toobe in uncompressed form.</span></span> <span data-ttu-id="9cd99-414">Plus spécifiquement, vous pouvez scinder une activité de copie unique en deux activités de copie.</span><span class="sxs-lookup"><span data-stu-id="9cd99-414">More specifically, you can break a single copy activity into two copy activities.</span></span> <span data-ttu-id="9cd99-415">copie de Hello première copie activité d’intérimaire de tooan source hello ou un objet blob de mise en lots sous forme compressée.</span><span class="sxs-lookup"><span data-stu-id="9cd99-415">hello first copy activity copies from hello source tooan interim or staging blob in compressed form.</span></span> <span data-ttu-id="9cd99-416">activité de copie Hello deuxième copie des données de hello compressé à partir du transit et puis décompresse alors qu’il écrit toohello récepteur.</span><span class="sxs-lookup"><span data-stu-id="9cd99-416">hello second copy activity copies hello compressed data from staging, and then decompresses while it writes toohello sink.</span></span>

## <a name="considerations-for-column-mapping"></a><span data-ttu-id="9cd99-417">Considérations relatives au mappage de colonnes</span><span class="sxs-lookup"><span data-stu-id="9cd99-417">Considerations for column mapping</span></span>
<span data-ttu-id="9cd99-418">Vous pouvez définir hello **columnMappings** propriété toomap de l’activité de copie tous les ou un sous-ensemble de hello d’entrée de colonnes de sortie toohello de colonnes.</span><span class="sxs-lookup"><span data-stu-id="9cd99-418">You can set hello **columnMappings** property in Copy Activity toomap all or a subset of hello input columns toohello output columns.</span></span> <span data-ttu-id="9cd99-419">Une fois que le service de déplacement de données hello lit les données de hello à partir de la source de hello, il doit le mappage de colonnes tooperform sur les données de salutation avant l’écriture de récepteur de toohello données hello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-419">After hello data movement service reads hello data from hello source, it needs tooperform column mapping on hello data before it writes hello data toohello sink.</span></span> <span data-ttu-id="9cd99-420">Ce traitement supplémentaire réduit le débit de copie.</span><span class="sxs-lookup"><span data-stu-id="9cd99-420">This extra processing reduces copy throughput.</span></span>

<span data-ttu-id="9cd99-421">Si votre banque de données source ne peut être interrogée, par exemple, s’il s’agit d’un magasin relationnel comme base de données SQL ou SQL Server, ou s’il s’agit d’une banque NoSQL comme stockage de Table ou de la base de données Azure Cosmos, envisagez d’en exécutant un push de filtrage de colonne hello et la réorganisation des logique toohello **requête**  propriété au lieu d’utiliser le mappage de colonnes.</span><span class="sxs-lookup"><span data-stu-id="9cd99-421">If your source data store is queryable, for example, if it's a relational store like SQL Database or SQL Server, or if it's a NoSQL store like Table storage or Azure Cosmos DB, consider pushing hello column filtering and reordering logic toohello **query** property instead of using column mapping.</span></span> <span data-ttu-id="9cd99-422">De cette manière, projection de hello se produit pendant que le service de déplacement de données hello lit de stocker des données à partir de la source de données hello, où il est beaucoup plus efficace.</span><span class="sxs-lookup"><span data-stu-id="9cd99-422">This way, hello projection occurs while hello data movement service reads data from hello source data store, where it is much more efficient.</span></span>

## <a name="other-considerations"></a><span data-ttu-id="9cd99-423">Autres points à considérer</span><span class="sxs-lookup"><span data-stu-id="9cd99-423">Other considerations</span></span>
<span data-ttu-id="9cd99-424">Si hello la taille des données que vous souhaitez toocopy est grande, vous pouvez ajuster vos données hello entreprise logique toofurther partition à l’aide de hello découpage mécanisme dans la fabrique de données.</span><span class="sxs-lookup"><span data-stu-id="9cd99-424">If hello size of data you want toocopy is large, you can adjust your business logic toofurther partition hello data using hello slicing mechanism in Data Factory.</span></span> <span data-ttu-id="9cd99-425">Ensuite, planifiez toorun activité de copie plus fréquemment exécuter de la taille des données tooreduce hello pour chaque activité de copie.</span><span class="sxs-lookup"><span data-stu-id="9cd99-425">Then, schedule Copy Activity toorun more frequently tooreduce hello data size for each Copy Activity run.</span></span>

<span data-ttu-id="9cd99-426">Être prudent nombre hello de jeux de données et copie les activités nécessitant une fabrique de données tooconnector toohello mêmes magasin de données à hello même temps.</span><span class="sxs-lookup"><span data-stu-id="9cd99-426">Be cautious about hello number of data sets and copy activities requiring Data Factory tooconnector toohello same data store at hello same time.</span></span> <span data-ttu-id="9cd99-427">Nombre de travaux simultanés copie peut limiter un magasin de données et entraîner des performances de toodegraded, copier les nouvelles tentatives internes de travail et dans certains cas, les erreurs d’exécution.</span><span class="sxs-lookup"><span data-stu-id="9cd99-427">Many concurrent copy jobs might throttle a data store and lead toodegraded performance, copy job internal retries, and in some cases, execution failures.</span></span>

## <a name="sample-scenario-copy-from-an-on-premises-sql-server-tooblob-storage"></a><span data-ttu-id="9cd99-428">Exemple de scénario : copie à partir d’un stockage tooBlob de SQL Server locale</span><span class="sxs-lookup"><span data-stu-id="9cd99-428">Sample scenario: Copy from an on-premises SQL Server tooBlob storage</span></span>
<span data-ttu-id="9cd99-429">**Scénario**: un pipeline repose toocopy des données à partir d’un stockage de tooBlob de SQL Server local au format CSV.</span><span class="sxs-lookup"><span data-stu-id="9cd99-429">**Scenario**: A pipeline is built toocopy data from an on-premises SQL Server tooBlob storage in CSV format.</span></span> <span data-ttu-id="9cd99-430">toomake hello plus rapide de travail de copie, les fichiers CSV hello doivent être compressées bzip2 format.</span><span class="sxs-lookup"><span data-stu-id="9cd99-430">toomake hello copy job faster, hello CSV files should be compressed into bzip2 format.</span></span>

<span data-ttu-id="9cd99-431">**Test et analyse**: débit hello de l’activité de copie est inférieure à 2 Mbits/s, qui est beaucoup plus lent que le test d’évaluation des performances hello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-431">**Test and analysis**: hello throughput of Copy Activity is less than 2 MBps, which is much slower than hello performance benchmark.</span></span>

<span data-ttu-id="9cd99-432">**Analyse des performances et paramétrage**: tootroubleshoot hello problème de performances, nous allons voir comment les données de hello sont traitées et déplacées.</span><span class="sxs-lookup"><span data-stu-id="9cd99-432">**Performance analysis and tuning**: tootroubleshoot hello performance issue, let’s look at how hello data is processed and moved.</span></span>

1. <span data-ttu-id="9cd99-433">**Lire les données**: passerelle ouvre une tooSQL connexion serveur et envoie hello la requête.</span><span class="sxs-lookup"><span data-stu-id="9cd99-433">**Read data**: Gateway opens a connection tooSQL Server and sends hello query.</span></span> <span data-ttu-id="9cd99-434">SQL Server répond en envoyant tooGateway de flux de données hello via l’intranet de hello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-434">SQL Server responds by sending hello data stream tooGateway via hello intranet.</span></span>
2. <span data-ttu-id="9cd99-435">**Sérialiser et compresser les données**: passerelle sérialise le format de tooCSV de flux de données hello et compresse hello des flux de données tooa bzip2.</span><span class="sxs-lookup"><span data-stu-id="9cd99-435">**Serialize and compress data**: Gateway serializes hello data stream tooCSV format, and compresses hello data tooa bzip2 stream.</span></span>
3. <span data-ttu-id="9cd99-436">**Écrire des données**: passerelle télécharge hello bzip2 flux tooBlob de stockage via hello Internet.</span><span class="sxs-lookup"><span data-stu-id="9cd99-436">**Write data**: Gateway uploads hello bzip2 stream tooBlob storage via hello Internet.</span></span>

<span data-ttu-id="9cd99-437">Comme vous pouvez le voir, les données de hello sont traités et déplacés de manière séquentielle diffusion en continu : SQL Server > réseau > passerelle > WAN > stockage d’objets Blob.</span><span class="sxs-lookup"><span data-stu-id="9cd99-437">As you can see, hello data is being processed and moved in a streaming sequential manner: SQL Server > LAN > Gateway > WAN > Blob storage.</span></span> <span data-ttu-id="9cd99-438">**Hello performances globales sont contrôlé par un débit minimal de hello sur le pipeline de hello**.</span><span class="sxs-lookup"><span data-stu-id="9cd99-438">**hello overall performance is gated by hello minimum throughput across hello pipeline**.</span></span>

![Flux de données](./media/data-factory-copy-activity-performance/case-study-pic-1.png)

<span data-ttu-id="9cd99-440">Un ou plusieurs des hello suivant facteurs peuvent provoquer des hello goulot d’étranglement :</span><span class="sxs-lookup"><span data-stu-id="9cd99-440">One or more of hello following factors might cause hello performance bottleneck:</span></span>

* <span data-ttu-id="9cd99-441">**Source :**SQL Server offre lui-même un faible débit en raison des charges lourdes.</span><span class="sxs-lookup"><span data-stu-id="9cd99-441">**Source**: SQL Server itself has low throughput because of heavy loads.</span></span>
* <span data-ttu-id="9cd99-442">**Passerelle de gestion des données**:</span><span class="sxs-lookup"><span data-stu-id="9cd99-442">**Data Management Gateway**:</span></span>
  * <span data-ttu-id="9cd99-443">**LAN**: passerelle se trouve loin d’être l’ordinateur SQL Server hello et dispose d’une connexion à faible bande passante.</span><span class="sxs-lookup"><span data-stu-id="9cd99-443">**LAN**: Gateway is located far from hello SQL Server machine and has a low-bandwidth connection.</span></span>
  * <span data-ttu-id="9cd99-444">**Passerelle**: passerelle a atteint son hello tooperform de limitations charge opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="9cd99-444">**Gateway**: Gateway has reached its load limitations tooperform hello following operations:</span></span>
    * <span data-ttu-id="9cd99-445">**Sérialisation**: sérialisation tooCSV de flux de données hello format a débit lent.</span><span class="sxs-lookup"><span data-stu-id="9cd99-445">**Serialization**: Serializing hello data stream tooCSV format has slow throughput.</span></span>
    * <span data-ttu-id="9cd99-446">**Compression**: vous avez choisi un codec de compression lent (par exemple, bzip2, c’est-à-dire 2,8 Mbits/s avec Core i7).</span><span class="sxs-lookup"><span data-stu-id="9cd99-446">**Compression**: You chose a slow compression codec (for example, bzip2, which is 2.8 MBps with Core i7).</span></span>
  * <span data-ttu-id="9cd99-447">**WAN**: la bande passante hello entre le réseau d’entreprise de hello et vos services Azure est faible (par exemple, T1 = 1,544 Kbits/s ; T2 = Kbits/s 6,312).</span><span class="sxs-lookup"><span data-stu-id="9cd99-447">**WAN**: hello bandwidth between hello corporate network and your Azure services is low (for example, T1 = 1,544 kbps; T2 = 6,312 kbps).</span></span>
* <span data-ttu-id="9cd99-448">**Récepteur**: le stockage Blob a un faible débit.</span><span class="sxs-lookup"><span data-stu-id="9cd99-448">**Sink**: Blob storage has low throughput.</span></span> <span data-ttu-id="9cd99-449">(Ce scénario est peu probable car son contrat SLA garantit un minimum de 60 Mbits/s.)</span><span class="sxs-lookup"><span data-stu-id="9cd99-449">(This scenario is unlikely because its SLA guarantees a minimum of 60 MBps.)</span></span>

<span data-ttu-id="9cd99-450">Dans ce cas, la compression des données bzip2 peut être ralentir pipeline entier de hello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-450">In this case, bzip2 data compression might be slowing down hello entire pipeline.</span></span> <span data-ttu-id="9cd99-451">Commutation codec de compression gzip tooa peut faciliter ce goulot d’étranglement.</span><span class="sxs-lookup"><span data-stu-id="9cd99-451">Switching tooa gzip compression codec might ease this bottleneck.</span></span>

## <a name="sample-scenarios-use-parallel-copy"></a><span data-ttu-id="9cd99-452">Exemples de scénarios : utilisation de la copie en parallèle</span><span class="sxs-lookup"><span data-stu-id="9cd99-452">Sample scenarios: Use parallel copy</span></span>
<span data-ttu-id="9cd99-453">**Scénario i :** copier 1 000 fichiers de 1 Mo à partir du stockage de tooBlob hello local fichier système.</span><span class="sxs-lookup"><span data-stu-id="9cd99-453">**Scenario I:** Copy 1,000 1-MB files from hello on-premises file system tooBlob storage.</span></span>

<span data-ttu-id="9cd99-454">**Analyse et réglage des performances**: pour obtenir un exemple, si vous avez installé la passerelle sur un ordinateur quadricœur, Data Factory utilise 16 copies parallèles toomove fichiers de stockage de tooBlob de système de fichiers hello simultanément.</span><span class="sxs-lookup"><span data-stu-id="9cd99-454">**Analysis and performance tuning**: For an example, if you have installed gateway on a quad core machine, Data Factory uses 16 parallel copies toomove files from hello file system tooBlob storage concurrently.</span></span> <span data-ttu-id="9cd99-455">Cette exécution parallèle doit aboutir à un débit élevé.</span><span class="sxs-lookup"><span data-stu-id="9cd99-455">This parallel execution should result in high throughput.</span></span> <span data-ttu-id="9cd99-456">Vous pouvez également explicitement spécifier nombre de copies parallèles hello.</span><span class="sxs-lookup"><span data-stu-id="9cd99-456">You also can explicitly specify hello parallel copies count.</span></span> <span data-ttu-id="9cd99-457">Lorsque vous copiez plusieurs petits fichiers, les copies parallèles aident considérablement le débit en utilisant les ressources plus efficacement.</span><span class="sxs-lookup"><span data-stu-id="9cd99-457">When you copy many small files, parallel copies dramatically help throughput by using resources more effectively.</span></span>

![Scénario 1](./media/data-factory-copy-activity-performance/scenario-1.png)

<span data-ttu-id="9cd99-459">**Scénario II**: copier des objets BLOB de 20 de 500 Mo de tooData de stockage d’objets Blob Lake Store Analytique et puis régler les performances.</span><span class="sxs-lookup"><span data-stu-id="9cd99-459">**Scenario II**: Copy 20 blobs of 500 MB each from Blob storage tooData Lake Store Analytics, and then tune performance.</span></span>

<span data-ttu-id="9cd99-460">**Analyse et réglage des performances**: dans ce scénario, la fabrique de données copie les données de hello à partir du magasin d’objets Blob stockage tooData Lake à l’aide de copie unique (**parallelCopies** définir too1) et des unités de déplacement des données unique-cloud.</span><span class="sxs-lookup"><span data-stu-id="9cd99-460">**Analysis and performance tuning**: In this scenario, Data Factory copies hello data from Blob storage tooData Lake Store by using single-copy (**parallelCopies** set too1) and single-cloud data movement units.</span></span> <span data-ttu-id="9cd99-461">Hello débit vous observez va être toothat fermer décrite dans hello [section de référence des performances](#performance-reference).</span><span class="sxs-lookup"><span data-stu-id="9cd99-461">hello throughput you observe will be close toothat described in hello [performance reference section](#performance-reference).</span></span>   

![Scénario 2](./media/data-factory-copy-activity-performance/scenario-2.png)

<span data-ttu-id="9cd99-463">**Scénario III**: la taille des fichiers individuels est supérieure à des dizaines de mégaoctets et le volume total est important.</span><span class="sxs-lookup"><span data-stu-id="9cd99-463">**Scenario III**: Individual file size is greater than dozens of MBs and total volume is large.</span></span>

<span data-ttu-id="9cd99-464">**Analyse et l’activation de performances**: augmentation **parallelCopies** ne produit pas de meilleures performances de copie en raison des limitations de ressources hello d’un DMU unique-cloud.</span><span class="sxs-lookup"><span data-stu-id="9cd99-464">**Analysis and performance turning**: Increasing **parallelCopies** doesn't result in better copy performance because of hello resource limitations of a single-cloud DMU.</span></span> <span data-ttu-id="9cd99-465">Au lieu de cela, vous devez spécifier plus cloud DMUs tooget plusieurs ressources tooperform hello le déplacement des données.</span><span class="sxs-lookup"><span data-stu-id="9cd99-465">Instead, you should specify more cloud DMUs tooget more resources tooperform hello data movement.</span></span> <span data-ttu-id="9cd99-466">Ne spécifiez pas une valeur pour hello **parallelCopies** propriété.</span><span class="sxs-lookup"><span data-stu-id="9cd99-466">Do not specify a value for hello **parallelCopies** property.</span></span> <span data-ttu-id="9cd99-467">Fabrique de données gère le parallélisme de hello pour vous.</span><span class="sxs-lookup"><span data-stu-id="9cd99-467">Data Factory handles hello parallelism for you.</span></span> <span data-ttu-id="9cd99-468">Dans ce cas, si vous définissez **cloudDataMovementUnits** too4, un débit d’environ quatre fois survient.</span><span class="sxs-lookup"><span data-stu-id="9cd99-468">In this case, if you set **cloudDataMovementUnits** too4, a throughput of about four times occurs.</span></span>

![Scénario 3](./media/data-factory-copy-activity-performance/scenario-3.png)

## <a name="reference"></a><span data-ttu-id="9cd99-470">Référence</span><span class="sxs-lookup"><span data-stu-id="9cd99-470">Reference</span></span>
<span data-ttu-id="9cd99-471">Analyse des performances et réglage des références pour certaines des magasins de données hello pris en charge sont :</span><span class="sxs-lookup"><span data-stu-id="9cd99-471">Here are performance monitoring and tuning references for some of hello supported data stores:</span></span>

* <span data-ttu-id="9cd99-472">Azure Storage (le Stockage Blob et le Stockage Table) : [Objectifs d’évolutivité d’Azure Storage](../storage/common/storage-scalability-targets.md) et [Liste de contrôle des performances et de l’évolutivité d’Azure Storage](../storage/common/storage-performance-checklist.md)</span><span class="sxs-lookup"><span data-stu-id="9cd99-472">Azure Storage (including Blob storage and Table storage): [Azure Storage scalability targets](../storage/common/storage-scalability-targets.md) and [Azure Storage performance and scalability checklist](../storage/common/storage-performance-checklist.md)</span></span>
* <span data-ttu-id="9cd99-473">Base de données SQL Azure : Vous pouvez [surveiller les performances de hello](../sql-database/sql-database-single-database-monitor.md) et vérifie le pourcentage de l’unité (DTU) de transaction de base de données hello</span><span class="sxs-lookup"><span data-stu-id="9cd99-473">Azure SQL Database: You can [monitor hello performance](../sql-database/sql-database-single-database-monitor.md) and check hello database transaction unit (DTU) percentage</span></span>
* <span data-ttu-id="9cd99-474">Azure SQL Data Warehouse : sa capacité est mesurée en Data Warehouse Units (DWU) ; voir [Gestion de la puissance de calcul dans Azure SQL Data Warehouse (Vue d’ensemble)](../sql-data-warehouse/sql-data-warehouse-manage-compute-overview.md)</span><span class="sxs-lookup"><span data-stu-id="9cd99-474">Azure SQL Data Warehouse: Its capability is measured in data warehouse units (DWUs); see [Manage compute power in Azure SQL Data Warehouse (Overview)](../sql-data-warehouse/sql-data-warehouse-manage-compute-overview.md)</span></span>
* <span data-ttu-id="9cd99-475">Azure Cosmos DB : [Niveaux de performances d’Azure Cosmos DB](../documentdb/documentdb-performance-levels.md)</span><span class="sxs-lookup"><span data-stu-id="9cd99-475">Azure Cosmos DB: [Performance levels in Azure Cosmos DB](../documentdb/documentdb-performance-levels.md)</span></span>
* <span data-ttu-id="9cd99-476">SQL Server local : [Surveillance et réglage des performances](https://msdn.microsoft.com/library/ms189081.aspx)</span><span class="sxs-lookup"><span data-stu-id="9cd99-476">On-premises SQL Server: [Monitor and tune for performance](https://msdn.microsoft.com/library/ms189081.aspx)</span></span>
* <span data-ttu-id="9cd99-477">Serveur de fichiers local : [Réglage des performances des serveurs de fichiers](https://msdn.microsoft.com/library/dn567661.aspx)</span><span class="sxs-lookup"><span data-stu-id="9cd99-477">On-premises file server: [Performance tuning for file servers](https://msdn.microsoft.com/library/dn567661.aspx)</span></span>
