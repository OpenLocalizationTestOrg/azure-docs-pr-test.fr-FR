---
title: "aaaBuild votre première fabrique de données (Visual Studio) | Documents Microsoft"
description: "Dans ce didacticiel, vous allez créer un exemple de pipeline Azure Data Factory avec Visual Studio."
services: data-factory
documentationcenter: 
author: spelluru
manager: jhubbard
editor: monicar
ms.assetid: 7398c0c9-7a03-4628-94b3-f2aaef4a72c5
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: hero-article
ms.date: 07/10/2017
ms.author: spelluru
ms.openlocfilehash: 0c5eb01b685d978d80916da0293cc2d3701b2d57
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="tutorial-create-a-data-factory-by-using-visual-studio"></a><span data-ttu-id="5160d-103">Didacticiel : Créer une fabrique de données à l’aide de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="5160d-103">Tutorial: Create a data factory by using Visual Studio</span></span>
> [!div class="op_single_selector" title="Tools/SDKs"]
> * [<span data-ttu-id="5160d-104">Vue d’ensemble et étapes préalables requises</span><span class="sxs-lookup"><span data-stu-id="5160d-104">Overview and prerequisites</span></span>](data-factory-build-your-first-pipeline.md)
> * [<span data-ttu-id="5160d-105">Portail Azure</span><span class="sxs-lookup"><span data-stu-id="5160d-105">Azure portal</span></span>](data-factory-build-your-first-pipeline-using-editor.md)
> * [<span data-ttu-id="5160d-106">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="5160d-106">Visual Studio</span></span>](data-factory-build-your-first-pipeline-using-vs.md)
> * [<span data-ttu-id="5160d-107">PowerShell</span><span class="sxs-lookup"><span data-stu-id="5160d-107">PowerShell</span></span>](data-factory-build-your-first-pipeline-using-powershell.md)
> * [<span data-ttu-id="5160d-108">Modèle Resource Manager</span><span class="sxs-lookup"><span data-stu-id="5160d-108">Resource Manager Template</span></span>](data-factory-build-your-first-pipeline-using-arm.md)
> * [<span data-ttu-id="5160d-109">API REST</span><span class="sxs-lookup"><span data-stu-id="5160d-109">REST API</span></span>](data-factory-build-your-first-pipeline-using-rest-api.md)

<span data-ttu-id="5160d-110">Ce didacticiel vous montre comment toocreate une fabrique de données Azure à l’aide de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5160d-110">This tutorial shows you how toocreate an Azure data factory by using Visual Studio.</span></span> <span data-ttu-id="5160d-111">Vous créez un projet Visual Studio à l’aide du modèle de projet de Data Factory hello définissez des entités de fabrique de données (services liés, des datasets et pipeline) au format JSON et ensuite publierez/déployez ces cloud de toohello d’entités.</span><span class="sxs-lookup"><span data-stu-id="5160d-111">You create a Visual Studio project using hello Data Factory project template, define Data Factory entities (linked services, datasets, and pipeline) in JSON format, and then publish/deploy these entities toohello cloud.</span></span> 

<span data-ttu-id="5160d-112">pipeline Hello dans ce didacticiel a une activité : **activité HDInsight Hive**.</span><span class="sxs-lookup"><span data-stu-id="5160d-112">hello pipeline in this tutorial has one activity: **HDInsight Hive activity**.</span></span> <span data-ttu-id="5160d-113">Cette activité s’exécute un script hive sur un cluster Azure HDInsight et les transformations d’entrée de données de sortie tooproduce.</span><span class="sxs-lookup"><span data-stu-id="5160d-113">This activity runs a hive script on an Azure HDInsight cluster that transforms input data tooproduce output data.</span></span> <span data-ttu-id="5160d-114">pipeline de Hello est planifiée toorun une fois qu’un mois entre hello spécifié d’heures de début et de fin.</span><span class="sxs-lookup"><span data-stu-id="5160d-114">hello pipeline is scheduled toorun once a month between hello specified start and end times.</span></span> 

> [!NOTE]
> <span data-ttu-id="5160d-115">Ce didacticiel n’explique pas comment copier des données à l’aide d’Azure Data Factory.</span><span class="sxs-lookup"><span data-stu-id="5160d-115">This tutorial does not show how copy data by using Azure Data Factory.</span></span> <span data-ttu-id="5160d-116">Pour obtenir un didacticiel sur la façon de toocopy les données à l’aide d’Azure Data Factory, consultez [didacticiel : copier des données à partir du stockage d’objets Blob tooSQL de base de données](data-factory-copy-data-from-azure-blob-storage-to-sql-database.md).</span><span class="sxs-lookup"><span data-stu-id="5160d-116">For a tutorial on how toocopy data using Azure Data Factory, see [Tutorial: Copy data from Blob Storage tooSQL Database](data-factory-copy-data-from-azure-blob-storage-to-sql-database.md).</span></span>
> 
> <span data-ttu-id="5160d-117">Un pipeline peut contenir plusieurs activités.</span><span class="sxs-lookup"><span data-stu-id="5160d-117">A pipeline can have more than one activity.</span></span> <span data-ttu-id="5160d-118">De plus, vous pouvez concaténer les deux activités (exécutée une activité après l’autre) en définissant le dataset de sortie hello d’une activité hello d’entrée dataset Hello autre activité.</span><span class="sxs-lookup"><span data-stu-id="5160d-118">And, you can chain two activities (run one activity after another) by setting hello output dataset of one activity as hello input dataset of hello other activity.</span></span> <span data-ttu-id="5160d-119">Pour plus d’informations, consultez [Planification et exécution dans Data Factory](data-factory-scheduling-and-execution.md#multiple-activities-in-a-pipeline).</span><span class="sxs-lookup"><span data-stu-id="5160d-119">For more information, see [scheduling and execution in Data Factory](data-factory-scheduling-and-execution.md#multiple-activities-in-a-pipeline).</span></span>


## <a name="walkthrough-create-and-publish-data-factory-entities"></a><span data-ttu-id="5160d-120">Procédure pas à pas : Création et publication d’entités Data Factory</span><span class="sxs-lookup"><span data-stu-id="5160d-120">Walkthrough: Create and publish Data Factory entities</span></span>
<span data-ttu-id="5160d-121">Voici les étapes hello que vous effectuez dans le cadre de cette procédure pas à pas :</span><span class="sxs-lookup"><span data-stu-id="5160d-121">Here are hello steps you perform as part of this walkthrough:</span></span>

1. <span data-ttu-id="5160d-122">Créez deux services liés : **AzureStorageLinkedService1** et **HDInsightOnDemandLinkedService1**.</span><span class="sxs-lookup"><span data-stu-id="5160d-122">Create two linked services: **AzureStorageLinkedService1** and **HDInsightOnDemandLinkedService1**.</span></span> 
   
    <span data-ttu-id="5160d-123">Dans ce didacticiel, les données d’entrée et de sortie pour l’activité de ruche hello sont dans hello même stockage d’objets Blob Azure.</span><span class="sxs-lookup"><span data-stu-id="5160d-123">In this tutorial, both input and output data for hello hive activity are in hello same Azure Blob Storage.</span></span> <span data-ttu-id="5160d-124">Vous utilisez une à la demande HDInsight cluster tooprocess des données d’entrée tooproduce sortie données existantes.</span><span class="sxs-lookup"><span data-stu-id="5160d-124">You use an on-demand HDInsight cluster tooprocess existing input data tooproduce output data.</span></span> <span data-ttu-id="5160d-125">cluster de HDInsight Hello à la demande est automatiquement créé pour vous par Azure Data Factory en cours d’exécution lorsque les données d’entrée hello sont prêt toobe traité.</span><span class="sxs-lookup"><span data-stu-id="5160d-125">hello on-demand HDInsight cluster is automatically created for you by Azure Data Factory at run time when hello input data is ready toobe processed.</span></span> <span data-ttu-id="5160d-126">Vous devez toolink vos données stockent et calcule la fabrique de données tooyour afin que le service de fabrique de données hello peut se connecter à toothem lors de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="5160d-126">You need toolink your data stores or computes tooyour data factory so that hello Data Factory service can connect toothem at runtime.</span></span> <span data-ttu-id="5160d-127">Par conséquent, vous liez votre fabrique de données toohello compte de stockage Azure à l’aide de hello AzureStorageLinkedService1 et liez un cluster de HDInsight à la demande à l’aide de hello HDInsightOnDemandLinkedService1.</span><span class="sxs-lookup"><span data-stu-id="5160d-127">Therefore, you link your Azure Storage Account toohello data factory by using hello AzureStorageLinkedService1, and link an on-demand HDInsight cluster by using hello HDInsightOnDemandLinkedService1.</span></span> <span data-ttu-id="5160d-128">Lors de la publication, vous spécifiez le nom hello toobe de fabrique de données hello créé ou une fabrique de données.</span><span class="sxs-lookup"><span data-stu-id="5160d-128">When publishing, you specify hello name for hello data factory toobe created or an existing data factory.</span></span>  
2. <span data-ttu-id="5160d-129">Créez deux jeux de données : **InputDataset** et **OutputDataset**, qui représentent les données d’entrée/sortie hello stockées Bonjour stockage d’objets blob Azure.</span><span class="sxs-lookup"><span data-stu-id="5160d-129">Create two datasets: **InputDataset** and **OutputDataset**, which represent hello input/output data that is stored in hello Azure blob storage.</span></span> 
   
    <span data-ttu-id="5160d-130">Ces définitions de jeu de données font référence toohello lié Azure Storage service est créé à l’étape précédente de hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-130">These dataset definitions refer toohello Azure Storage linked service you created in hello previous step.</span></span> <span data-ttu-id="5160d-131">Pourquoi InputDataset, vous spécifiez le conteneur d’objets blob hello (adfgetstarted) et hello dossier (inptutdata) qui contient un objet blob avec les données d’entrée hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-131">For hello InputDataset, you specify hello blob container (adfgetstarted) and hello folder (inptutdata) that contains a blob with hello input data.</span></span> <span data-ttu-id="5160d-132">Pourquoi OutputDataset, vous spécifiez le conteneur d’objets blob hello (adfgetstarted) et le dossier hello (partitioneddata) qui contient les données de sortie hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-132">For hello OutputDataset, you specify hello blob container (adfgetstarted) and hello folder (partitioneddata) that holds hello output data.</span></span> <span data-ttu-id="5160d-133">Vous spécifiez également d’autres propriétés telles que la structure, la disponibilité et la stratégie.</span><span class="sxs-lookup"><span data-stu-id="5160d-133">You also specify other properties such as structure, availability, and policy.</span></span>
3. <span data-ttu-id="5160d-134">Créez un pipeline nommé **MyFirstPipeline**.</span><span class="sxs-lookup"><span data-stu-id="5160d-134">Create a pipeline named **MyFirstPipeline**.</span></span> 
  
    <span data-ttu-id="5160d-135">Dans cette procédure pas à pas, le pipeline de hello n'a qu’une seule activité : **activité de la ruche HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="5160d-135">In this walkthrough, hello pipeline has only one activity: **HDInsight Hive Activity**.</span></span> <span data-ttu-id="5160d-136">Cette transformation de l’activité d’entrée de données de sortie de données tooproduce en exécutant un script hive sur un cluster de HDInsight à la demande.</span><span class="sxs-lookup"><span data-stu-id="5160d-136">This activity transform input data tooproduce output data by running a hive script on an on-demand HDInsight cluster.</span></span> <span data-ttu-id="5160d-137">toolearn en savoir plus sur l’activité hive, consultez [activité Hive](data-factory-hive-activity.md)</span><span class="sxs-lookup"><span data-stu-id="5160d-137">toolearn more about hive activity, see [Hive Activity](data-factory-hive-activity.md)</span></span> 
4. <span data-ttu-id="5160d-138">Créez une fabrique de données nommée **DataFactoryUsingVS**.</span><span class="sxs-lookup"><span data-stu-id="5160d-138">Create a data factory named **DataFactoryUsingVS**.</span></span> <span data-ttu-id="5160d-139">Déployer la fabrique de données hello et toutes les entités de fabrique de données (services liés, les tables et les pipeline hello).</span><span class="sxs-lookup"><span data-stu-id="5160d-139">Deploy hello data factory and all Data Factory entities (linked services, tables, and hello pipeline).</span></span>
5. <span data-ttu-id="5160d-140">Après la publication, vous utilisez panneaux portail Azure et pipeline de hello toomonitor analyse & application de gestion.</span><span class="sxs-lookup"><span data-stu-id="5160d-140">After you publish, you use Azure portal blades and Monitoring & Management App toomonitor hello pipeline.</span></span> 
  
### <a name="prerequisites"></a><span data-ttu-id="5160d-141">Composants requis</span><span class="sxs-lookup"><span data-stu-id="5160d-141">Prerequisites</span></span>
1. <span data-ttu-id="5160d-142">Lisez [vue d’ensemble du didacticiel](data-factory-build-your-first-pipeline.md) article et hello complète **condition préalable** étapes.</span><span class="sxs-lookup"><span data-stu-id="5160d-142">Read through [Tutorial Overview](data-factory-build-your-first-pipeline.md) article and complete hello **prerequisite** steps.</span></span> <span data-ttu-id="5160d-143">Vous pouvez également sélectionner hello **vue d’ensemble et conditions préalables** option dans la liste déroulante de hello à l’article de toohello hello tooswitch supérieur.</span><span class="sxs-lookup"><span data-stu-id="5160d-143">You can also select hello **Overview and prerequisites** option in hello drop-down list at hello top tooswitch toohello article.</span></span> <span data-ttu-id="5160d-144">Après avoir terminé la configuration requise de hello, passer toothis précédent article en sélectionnant **Visual Studio** option dans la liste déroulante de hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-144">After you complete hello prerequisites, switch back toothis article by selecting **Visual Studio** option in hello drop-down list.</span></span>
2. <span data-ttu-id="5160d-145">instances de fabrique de données toocreate, vous devez être membre du hello [collaborateur de fabrique de données](../active-directory/role-based-access-built-in-roles.md#data-factory-contributor) rôle au niveau de groupe de ressource d’abonnement hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-145">toocreate Data Factory instances, you must be a member of hello [Data Factory Contributor](../active-directory/role-based-access-built-in-roles.md#data-factory-contributor) role at hello subscription/resource group level.</span></span>  
3. <span data-ttu-id="5160d-146">Vous devez disposer de hello installé sur votre ordinateur :</span><span class="sxs-lookup"><span data-stu-id="5160d-146">You must have hello following installed on your computer:</span></span>
   * <span data-ttu-id="5160d-147">Visual Studio 2013 ou Visual Studio 2015</span><span class="sxs-lookup"><span data-stu-id="5160d-147">Visual Studio 2013 or Visual Studio 2015</span></span>
   * <span data-ttu-id="5160d-148">Téléchargez le Kit de développement logiciel (SDK) Azure pour Visual Studio 2013 ou Visual Studio 2015.</span><span class="sxs-lookup"><span data-stu-id="5160d-148">Download Azure SDK for Visual Studio 2013 or Visual Studio 2015.</span></span> <span data-ttu-id="5160d-149">Accédez trop[Page de téléchargement Azure](https://azure.microsoft.com/downloads/) et cliquez sur **VS 2013** ou **VS 2015** Bonjour **.NET** section.</span><span class="sxs-lookup"><span data-stu-id="5160d-149">Navigate too[Azure Download Page](https://azure.microsoft.com/downloads/) and click **VS 2013** or **VS 2015** in hello **.NET** section.</span></span>
   * <span data-ttu-id="5160d-150">Téléchargement du plug-in Azure Data Factory dernière hello pour Visual Studio : [VS 2013](https://visualstudiogallery.msdn.microsoft.com/754d998c-8f92-4aa7-835b-e89c8c954aa5) ou [VS 2015](https://visualstudiogallery.msdn.microsoft.com/371a4cf9-0093-40fa-b7dd-be3c74f49005).</span><span class="sxs-lookup"><span data-stu-id="5160d-150">Download hello latest Azure Data Factory plugin for Visual Studio: [VS 2013](https://visualstudiogallery.msdn.microsoft.com/754d998c-8f92-4aa7-835b-e89c8c954aa5) or [VS 2015](https://visualstudiogallery.msdn.microsoft.com/371a4cf9-0093-40fa-b7dd-be3c74f49005).</span></span> <span data-ttu-id="5160d-151">Vous pouvez également actualiser les plug-in hello en procédant comme hello comme suit : cliquez sur hello, **outils** -> **Extensions et mises à jour** -> **Online**  ->  **Galerie visual Studio** -> **Microsoft Azure Data Factory Tools pour Visual Studio** -> **mise à jour**.</span><span class="sxs-lookup"><span data-stu-id="5160d-151">You can also update hello plugin by doing hello following steps: On hello menu, click **Tools** -> **Extensions and Updates** -> **Online** -> **Visual Studio Gallery** -> **Microsoft Azure Data Factory Tools for Visual Studio** -> **Update**.</span></span>

<span data-ttu-id="5160d-152">Maintenant, nous allons utiliser Visual Studio toocreate une fabrique de données Azure.</span><span class="sxs-lookup"><span data-stu-id="5160d-152">Now, let's use Visual Studio toocreate an Azure data factory.</span></span>

### <a name="create-visual-studio-project"></a><span data-ttu-id="5160d-153">Création d’un projet Visual Studio</span><span class="sxs-lookup"><span data-stu-id="5160d-153">Create Visual Studio project</span></span>
1. <span data-ttu-id="5160d-154">Lancez **Visual Studio 2013** ou **Visual Studio 2015**.</span><span class="sxs-lookup"><span data-stu-id="5160d-154">Launch **Visual Studio 2013** or **Visual Studio 2015**.</span></span> <span data-ttu-id="5160d-155">Cliquez sur **fichier**, pointez trop**nouveau**, puis cliquez sur **projet**.</span><span class="sxs-lookup"><span data-stu-id="5160d-155">Click **File**, point too**New**, and click **Project**.</span></span> <span data-ttu-id="5160d-156">Vous devez voir hello **nouveau projet** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="5160d-156">You should see hello **New Project** dialog box.</span></span>  
2. <span data-ttu-id="5160d-157">Bonjour **nouveau projet** boîte de dialogue, sélectionnez hello **DataFactory** modèle, puis cliquez sur **projet de la fabrique de données vide**.</span><span class="sxs-lookup"><span data-stu-id="5160d-157">In hello **New Project** dialog, select hello **DataFactory** template, and click **Empty Data Factory Project**.</span></span>   

    ![Boîte de dialogue Nouveau projet](./media/data-factory-build-your-first-pipeline-using-vs/new-project-dialog.png)
3. <span data-ttu-id="5160d-159">Entrez un **nom** pour le projet de hello, **emplacement**et un nom pour hello **solution**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="5160d-159">Enter a **name** for hello project, **location**, and a name for hello **solution**, and click **OK**.</span></span>

    ![Explorateur de solutions](./media/data-factory-build-your-first-pipeline-using-vs/solution-explorer.png)

### <a name="create-linked-services"></a><span data-ttu-id="5160d-161">Créer des services liés</span><span class="sxs-lookup"><span data-stu-id="5160d-161">Create linked services</span></span>
<span data-ttu-id="5160d-162">Au cours de cette étape, vous allez créer deux services liés : **Stockage Azure** et **HDInsight à la demande**.</span><span class="sxs-lookup"><span data-stu-id="5160d-162">In this step, you create two linked services: **Azure Storage** and **HDInsight on-demand**.</span></span> 

<span data-ttu-id="5160d-163">Hello Azure Storage liés aux liaisons de service votre fabrique de données de stockage Azure compte toohello en fournissant des informations de connexion hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-163">hello Azure Storage linked service links your Azure Storage account toohello data factory by providing hello connection information.</span></span> <span data-ttu-id="5160d-164">Service de fabrique de données utilise la chaîne de connexion de hello à partir du paramètre de service hello lié tooconnect toohello stockage Azure lors de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="5160d-164">Data Factory service uses hello connection string from hello linked service setting tooconnect toohello Azure storage at runtime.</span></span> <span data-ttu-id="5160d-165">Ce système de stockage conserve d’entrée et les données de sortie pour le pipeline de hello et hello hive le fichier de script utilisé par l’activité de ruche hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-165">This storage holds input and output data for hello pipeline, and hello hive script file used by hello hive activity.</span></span> 

<span data-ttu-id="5160d-166">Service lié HDInsight à la demande hello cluster HDInsight est créé automatiquement lors de l’exécution lorsque les données d’entrée hello tooprocessed prêt.</span><span class="sxs-lookup"><span data-stu-id="5160d-166">With on-demand HDInsight linked service, hello HDInsight cluster is automatically created at runtime when hello input data is ready tooprocessed.</span></span> <span data-ttu-id="5160d-167">cluster de Hello est supprimée une fois ceci effectué inactifs et le traitement de la durée spécifiée hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-167">hello cluster is deleted after it is done processing and idle for hello specified amount of time.</span></span> 

> [!NOTE]
> <span data-ttu-id="5160d-168">Vous créez une fabrique de données en spécifiant son nom et les paramètres au moment de hello de votre solution de fabrique de données de publication.</span><span class="sxs-lookup"><span data-stu-id="5160d-168">You create a data factory by specifying its name and settings at hello time of publishing your Data Factory solution.</span></span>

#### <a name="create-azure-storage-linked-service"></a><span data-ttu-id="5160d-169">Créer le service lié Stockage Azure</span><span class="sxs-lookup"><span data-stu-id="5160d-169">Create Azure Storage linked service</span></span>
1. <span data-ttu-id="5160d-170">Avec le bouton droit **Services liés** hello l’Explorateur de solutions, pointez trop**ajouter**, puis cliquez sur **un nouvel élément**.</span><span class="sxs-lookup"><span data-stu-id="5160d-170">Right-click **Linked Services** in hello solution explorer, point too**Add**, and click **New Item**.</span></span>      
2. <span data-ttu-id="5160d-171">Bonjour **ajouter un nouvel élément** boîte de dialogue, sélectionnez **Service lié Azure Storage** à partir de la liste de hello, puis cliquez sur **ajouter**.</span><span class="sxs-lookup"><span data-stu-id="5160d-171">In hello **Add New Item** dialog box, select **Azure Storage Linked Service** from hello list, and click **Add**.</span></span>
    <span data-ttu-id="5160d-172">![Service lié Azure Storage](./media/data-factory-build-your-first-pipeline-using-vs/new-azure-storage-linked-service.png)</span><span class="sxs-lookup"><span data-stu-id="5160d-172">![Azure Storage Linked Service](./media/data-factory-build-your-first-pipeline-using-vs/new-azure-storage-linked-service.png)</span></span>
3. <span data-ttu-id="5160d-173">Remplacez `<accountname>` et `<accountkey>` avec nom hello de votre compte de stockage Azure et sa clé.</span><span class="sxs-lookup"><span data-stu-id="5160d-173">Replace `<accountname>` and `<accountkey>` with hello name of your Azure storage account and its key.</span></span> <span data-ttu-id="5160d-174">toolearn comment accéder à votre espace de stockage tooget de clé, consultez hello plus d’informations sur comment tooview, copier et régénérer stockage touches d’accès [gérer votre compte de stockage](../storage/common/storage-create-storage-account.md#manage-your-storage-account).</span><span class="sxs-lookup"><span data-stu-id="5160d-174">toolearn how tooget your storage access key, see hello information about how tooview, copy, and regenerate storage access keys in [Manage your storage account](../storage/common/storage-create-storage-account.md#manage-your-storage-account).</span></span>
    <span data-ttu-id="5160d-175">![Service lié Azure Storage](./media/data-factory-build-your-first-pipeline-using-vs/azure-storage-linked-service.png)</span><span class="sxs-lookup"><span data-stu-id="5160d-175">![Azure Storage Linked Service](./media/data-factory-build-your-first-pipeline-using-vs/azure-storage-linked-service.png)</span></span>
4. <span data-ttu-id="5160d-176">Enregistrer hello **AzureStorageLinkedService1.json** fichier.</span><span class="sxs-lookup"><span data-stu-id="5160d-176">Save hello **AzureStorageLinkedService1.json** file.</span></span>

#### <a name="create-azure-hdinsight-linked-service"></a><span data-ttu-id="5160d-177">Créer le service lié Azure HDInsight</span><span class="sxs-lookup"><span data-stu-id="5160d-177">Create Azure HDInsight linked service</span></span>
1. <span data-ttu-id="5160d-178">Bonjour **l’Explorateur de solutions**, avec le bouton droit **Services liés**, pointez trop**ajouter**, puis cliquez sur **un nouvel élément**.</span><span class="sxs-lookup"><span data-stu-id="5160d-178">In hello **Solution Explorer**, right-click **Linked Services**, point too**Add**, and click **New Item**.</span></span>
2. <span data-ttu-id="5160d-179">Sélectionnez **Service lié à la demande HDInsight** puis cliquez sur **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="5160d-179">Select **HDInsight On Demand Linked Service**, and click **Add**.</span></span>
3. <span data-ttu-id="5160d-180">Remplacez hello **JSON** avec hello suivant JSON :</span><span class="sxs-lookup"><span data-stu-id="5160d-180">Replace hello **JSON** with hello following JSON:</span></span>

     ```json
    {
        "name": "HDInsightOnDemandLinkedService",
        "properties": {
        "type": "HDInsightOnDemand",
            "typeProperties": {
                "version": "3.5",
                "clusterSize": 1,
                "timeToLive": "00:05:00",
                "osType": "Linux",
                "linkedServiceName": "AzureStorageLinkedService1"
            }
        }
    }
    ```

    <span data-ttu-id="5160d-181">Hello tableau suivant fournit des descriptions pour les propriétés JSON hello utilisées dans l’extrait de code hello :</span><span class="sxs-lookup"><span data-stu-id="5160d-181">hello following table provides descriptions for hello JSON properties used in hello snippet:</span></span>

    <span data-ttu-id="5160d-182">Propriété</span><span class="sxs-lookup"><span data-stu-id="5160d-182">Property</span></span> | <span data-ttu-id="5160d-183">Description</span><span class="sxs-lookup"><span data-stu-id="5160d-183">Description</span></span>
    -------- | ----------- 
    <span data-ttu-id="5160d-184">ClusterSize</span><span class="sxs-lookup"><span data-stu-id="5160d-184">ClusterSize</span></span> | <span data-ttu-id="5160d-185">Spécifie la taille de hello Hello cluster HDInsight Hadoop.</span><span class="sxs-lookup"><span data-stu-id="5160d-185">Specifies hello size of hello HDInsight Hadoop cluster.</span></span>
    <span data-ttu-id="5160d-186">TimeToLive</span><span class="sxs-lookup"><span data-stu-id="5160d-186">TimeToLive</span></span> | <span data-ttu-id="5160d-187">Spécifie la durée d’inactivité de ce hello pour le cluster HDInsight de hello, avant d’être supprimé.</span><span class="sxs-lookup"><span data-stu-id="5160d-187">Specifies that hello idle time for hello HDInsight cluster, before it is deleted.</span></span>
    <span data-ttu-id="5160d-188">linkedServiceName</span><span class="sxs-lookup"><span data-stu-id="5160d-188">linkedServiceName</span></span> | <span data-ttu-id="5160d-189">Spécifie le compte de stockage hello toostore utilisé hello journaux générés par le cluster HDInsight Hadoop.</span><span class="sxs-lookup"><span data-stu-id="5160d-189">Specifies hello storage account that is used toostore hello logs that are generated by HDInsight Hadoop cluster.</span></span> 

    > [!IMPORTANT]
    > <span data-ttu-id="5160d-190">Hello HDInsight cluster crée un **conteneur par défaut** dans le stockage blob hello spécifié dans hello JSON (linkedServiceName).</span><span class="sxs-lookup"><span data-stu-id="5160d-190">hello HDInsight cluster creates a **default container** in hello blob storage you specified in hello JSON (linkedServiceName).</span></span> <span data-ttu-id="5160d-191">HDInsight ne supprime pas ce conteneur lorsque le cluster de hello est supprimé.</span><span class="sxs-lookup"><span data-stu-id="5160d-191">HDInsight does not delete this container when hello cluster is deleted.</span></span> <span data-ttu-id="5160d-192">Ce comportement est normal.</span><span class="sxs-lookup"><span data-stu-id="5160d-192">This behavior is by design.</span></span> <span data-ttu-id="5160d-193">Avec le service lié HDInsight à la demande, un cluster HDInsight est créé dès qu’une tranche est traitée, à moins qu’il n’existe un cluster actif (timeToLive).</span><span class="sxs-lookup"><span data-stu-id="5160d-193">With on-demand HDInsight linked service, a HDInsight cluster is created every time a slice is processed unless there is an existing live cluster (timeToLive).</span></span> <span data-ttu-id="5160d-194">Hello cluster est automatiquement supprimé lorsque le traitement de hello est effectué.</span><span class="sxs-lookup"><span data-stu-id="5160d-194">hello cluster is automatically deleted when hello processing is done.</span></span>
    > 
    > <span data-ttu-id="5160d-195">Comme un nombre croissant de tranches sont traitées, vous voyez un grand nombre de conteneurs dans votre stockage d’objets blob Azure.</span><span class="sxs-lookup"><span data-stu-id="5160d-195">As more slices are processed, you see many containers in your Azure blob storage.</span></span> <span data-ttu-id="5160d-196">Si vous ne devez pas les pour la résolution des problèmes de travaux de hello, vous souhaiterez peut-être toodelete les coûts de stockage tooreduce hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-196">If you do not need them for troubleshooting of hello jobs, you may want toodelete them tooreduce hello storage cost.</span></span> <span data-ttu-id="5160d-197">les noms de ces conteneurs Hello suivent un modèle : `adf<yourdatafactoryname>-<linkedservicename>-datetimestamp`.</span><span class="sxs-lookup"><span data-stu-id="5160d-197">hello names of these containers follow a pattern: `adf<yourdatafactoryname>-<linkedservicename>-datetimestamp`.</span></span> <span data-ttu-id="5160d-198">Utiliser des outils tels que [Explorateur de stockage Microsoft](http://storageexplorer.com/) stockage d’objets blob des conteneurs de toodelete dans votre Azure.</span><span class="sxs-lookup"><span data-stu-id="5160d-198">Use tools such as [Microsoft Storage Explorer](http://storageexplorer.com/) toodelete containers in your Azure blob storage.</span></span>

    <span data-ttu-id="5160d-199">Pour plus d’informations sur les propriétés JSON, consultez [Service lié à la demande Azure HDInsight](data-factory-compute-linked-services.md#azure-hdinsight-on-demand-linked-service).</span><span class="sxs-lookup"><span data-stu-id="5160d-199">For more information about JSON properties, see [Compute linked services](data-factory-compute-linked-services.md#azure-hdinsight-on-demand-linked-service) article.</span></span> 
4. <span data-ttu-id="5160d-200">Enregistrer hello **HDInsightOnDemandLinkedService1.json** fichier.</span><span class="sxs-lookup"><span data-stu-id="5160d-200">Save hello **HDInsightOnDemandLinkedService1.json** file.</span></span>

### <a name="create-datasets"></a><span data-ttu-id="5160d-201">Créez les jeux de données</span><span class="sxs-lookup"><span data-stu-id="5160d-201">Create datasets</span></span>
<span data-ttu-id="5160d-202">Dans cette étape, vous créez des groupes de données toorepresent hello d’entrée et sortie des données pour le traitement de la ruche.</span><span class="sxs-lookup"><span data-stu-id="5160d-202">In this step, you create datasets toorepresent hello input and output data for Hive processing.</span></span> <span data-ttu-id="5160d-203">Ces jeux de données font référence toohello **AzureStorageLinkedService1** que vous avez créé précédemment dans ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="5160d-203">These datasets refer toohello **AzureStorageLinkedService1** you have created earlier in this tutorial.</span></span> <span data-ttu-id="5160d-204">Hello tooan de points de service lié compte de stockage Azure et de jeux de données spécifiez conteneur, dossier, le nom de fichier dans le stockage hello qui contient l’entrée et les données de sortie.</span><span class="sxs-lookup"><span data-stu-id="5160d-204">hello linked service points tooan Azure Storage account and datasets specify container, folder, file name in hello storage that holds input and output data.</span></span>   

#### <a name="create-input-dataset"></a><span data-ttu-id="5160d-205">Créer le jeu de données d’entrée</span><span class="sxs-lookup"><span data-stu-id="5160d-205">Create input dataset</span></span>
1. <span data-ttu-id="5160d-206">Bonjour **l’Explorateur de solutions**, avec le bouton droit **Tables**, pointez trop**ajouter**, puis cliquez sur **un nouvel élément**.</span><span class="sxs-lookup"><span data-stu-id="5160d-206">In hello **Solution Explorer**, right-click **Tables**, point too**Add**, and click **New Item**.</span></span>
2. <span data-ttu-id="5160d-207">Sélectionnez **objets Blob Azure** à partir de la liste de hello, renommez hello du fichier de hello trop**InputDataSet.json**, puis cliquez sur **ajouter**.</span><span class="sxs-lookup"><span data-stu-id="5160d-207">Select **Azure Blob** from hello list, change hello name of hello file too**InputDataSet.json**, and click **Add**.</span></span>
3. <span data-ttu-id="5160d-208">Remplacez hello **JSON** dans l’éditeur de hello avec hello suivant extrait de code JSON :</span><span class="sxs-lookup"><span data-stu-id="5160d-208">Replace hello **JSON** in hello editor with hello following JSON snippet:</span></span>

    ```json
    {
        "name": "AzureBlobInput",
        "properties": {
            "type": "AzureBlob",
            "linkedServiceName": "AzureStorageLinkedService1",
            "typeProperties": {
                "fileName": "input.log",
                "folderPath": "adfgetstarted/inputdata",
                "format": {
                    "type": "TextFormat",
                    "columnDelimiter": ","
                }
            },
            "availability": {
                "frequency": "Month",
                "interval": 1
            },
            "external": true,
            "policy": {}
        }
    }
    ```
    <span data-ttu-id="5160d-209">Cet extrait de code JSON définit un jeu de données appelée **AzureBlobInput** qui représente les données d’entrée pour l’activité de ruche hello dans le pipeline de hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-209">This JSON snippet defines a dataset called **AzureBlobInput** that represents input data for hello hive activity in hello pipeline.</span></span> <span data-ttu-id="5160d-210">Vous spécifiez que les données d’entrée hello se trouve dans le conteneur d’objets blob hello appelé `adfgetstarted` et dossier hello appelé `inputdata`.</span><span class="sxs-lookup"><span data-stu-id="5160d-210">You specify that hello input data is located in hello blob container called `adfgetstarted` and hello folder called `inputdata`.</span></span>

    <span data-ttu-id="5160d-211">Hello tableau suivant fournit des descriptions pour les propriétés JSON hello utilisées dans l’extrait de code hello :</span><span class="sxs-lookup"><span data-stu-id="5160d-211">hello following table provides descriptions for hello JSON properties used in hello snippet:</span></span>

    <span data-ttu-id="5160d-212">Propriété</span><span class="sxs-lookup"><span data-stu-id="5160d-212">Property</span></span> | <span data-ttu-id="5160d-213">Description</span><span class="sxs-lookup"><span data-stu-id="5160d-213">Description</span></span> |
    -------- | ----------- |
    <span data-ttu-id="5160d-214">type</span><span class="sxs-lookup"><span data-stu-id="5160d-214">type</span></span> |<span data-ttu-id="5160d-215">propriété de type Hello est définie trop**AzureBlob** , car les données résident dans le stockage d’objets Blob Azure.</span><span class="sxs-lookup"><span data-stu-id="5160d-215">hello type property is set too**AzureBlob** because data resides in Azure Blob Storage.</span></span>
    <span data-ttu-id="5160d-216">linkedServiceName</span><span class="sxs-lookup"><span data-stu-id="5160d-216">linkedServiceName</span></span> | <span data-ttu-id="5160d-217">Fait référence toohello AzureStorageLinkedService1 que vous avez créé précédemment.</span><span class="sxs-lookup"><span data-stu-id="5160d-217">Refers toohello AzureStorageLinkedService1 you created earlier.</span></span>
    <span data-ttu-id="5160d-218">fileName</span><span class="sxs-lookup"><span data-stu-id="5160d-218">fileName</span></span> |<span data-ttu-id="5160d-219">Cette propriété est facultative.</span><span class="sxs-lookup"><span data-stu-id="5160d-219">This property is optional.</span></span> <span data-ttu-id="5160d-220">Si vous omettez cette propriété, tous les fichiers hello hello folderPath sont récupérées.</span><span class="sxs-lookup"><span data-stu-id="5160d-220">If you omit this property, all hello files from hello folderPath are picked.</span></span> <span data-ttu-id="5160d-221">Dans ce cas, uniquement les input.log hello est traitée.</span><span class="sxs-lookup"><span data-stu-id="5160d-221">In this case, only hello input.log is processed.</span></span>
    <span data-ttu-id="5160d-222">type</span><span class="sxs-lookup"><span data-stu-id="5160d-222">type</span></span> | <span data-ttu-id="5160d-223">les fichiers journaux Hello étant au format texte, nous utilisons TextFormat.</span><span class="sxs-lookup"><span data-stu-id="5160d-223">hello log files are in text format, so we use TextFormat.</span></span> |
    <span data-ttu-id="5160d-224">columnDelimiter</span><span class="sxs-lookup"><span data-stu-id="5160d-224">columnDelimiter</span></span> | <span data-ttu-id="5160d-225">colonnes dans les fichiers journaux de hello sont délimitées par virgule hello (`,`)</span><span class="sxs-lookup"><span data-stu-id="5160d-225">columns in hello log files are delimited by hello comma character (`,`)</span></span>
    <span data-ttu-id="5160d-226">frequency/interval</span><span class="sxs-lookup"><span data-stu-id="5160d-226">frequency/interval</span></span> | <span data-ttu-id="5160d-227">fréquence égale tooMonth et l’intervalle est 1, ce qui signifie que les tranches d’entrée hello sont disponibles chaque mois.</span><span class="sxs-lookup"><span data-stu-id="5160d-227">frequency set tooMonth and interval is 1, which means that hello input slices are available monthly.</span></span>
    <span data-ttu-id="5160d-228">external</span><span class="sxs-lookup"><span data-stu-id="5160d-228">external</span></span> | <span data-ttu-id="5160d-229">Cette propriété a la valeur tootrue si les données d’entrée pour l’activité de hello de salutation ne sont pas générées par le pipeline de hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-229">This property is set tootrue if hello input data for hello activity is not generated by hello pipeline.</span></span> <span data-ttu-id="5160d-230">Cette propriété est uniquement spécifiée sur les jeux de données d’entrée.</span><span class="sxs-lookup"><span data-stu-id="5160d-230">This property is only specified on input datasets.</span></span> <span data-ttu-id="5160d-231">Pour hello dataset d’entrée de la première activité hello, toujours définir tootrue.</span><span class="sxs-lookup"><span data-stu-id="5160d-231">For hello input dataset of hello first activity, always set it tootrue.</span></span>
4. <span data-ttu-id="5160d-232">Enregistrer hello **InputDataset.json** fichier.</span><span class="sxs-lookup"><span data-stu-id="5160d-232">Save hello **InputDataset.json** file.</span></span>

#### <a name="create-output-dataset"></a><span data-ttu-id="5160d-233">Créer un jeu de données de sortie</span><span class="sxs-lookup"><span data-stu-id="5160d-233">Create output dataset</span></span>
<span data-ttu-id="5160d-234">Maintenant, vous créez hello sortie dataset toorepresent sortie les données stockées dans hello le stockage Blob Azure.</span><span class="sxs-lookup"><span data-stu-id="5160d-234">Now, you create hello output dataset toorepresent output data stored in hello Azure Blob storage.</span></span>

1. <span data-ttu-id="5160d-235">Bonjour **l’Explorateur de solutions**, avec le bouton droit **tables**, pointez trop**ajouter**, puis cliquez sur **un nouvel élément**.</span><span class="sxs-lookup"><span data-stu-id="5160d-235">In hello **Solution Explorer**, right-click **tables**, point too**Add**, and click **New Item**.</span></span>
2. <span data-ttu-id="5160d-236">Sélectionnez **objets Blob Azure** à partir de la liste de hello, renommez hello du fichier de hello trop**OutputDataset.json**, puis cliquez sur **ajouter**.</span><span class="sxs-lookup"><span data-stu-id="5160d-236">Select **Azure Blob** from hello list, change hello name of hello file too**OutputDataset.json**, and click **Add**.</span></span>
3. <span data-ttu-id="5160d-237">Remplacez hello **JSON** dans l’éditeur de hello avec hello suivant JSON :</span><span class="sxs-lookup"><span data-stu-id="5160d-237">Replace hello **JSON** in hello editor with hello following JSON:</span></span>
    
    ```json
    {
        "name": "AzureBlobOutput",
        "properties": {
            "type": "AzureBlob",
            "linkedServiceName": "AzureStorageLinkedService1",
            "typeProperties": {
                "folderPath": "adfgetstarted/partitioneddata",
                "format": {
                    "type": "TextFormat",
                    "columnDelimiter": ","
                }
            },
            "availability": {
                "frequency": "Month",
                "interval": 1
            }
        }
    }
    ```
    <span data-ttu-id="5160d-238">extrait de code Hello JSON définit un jeu de données appelée **AzureBlobOutput** qui représente les données produites par hello ruche activité hello pipeline de sortie.</span><span class="sxs-lookup"><span data-stu-id="5160d-238">hello JSON snippet defines a dataset called **AzureBlobOutput** that represents output data produced by hello hive activity in hello pipeline.</span></span> <span data-ttu-id="5160d-239">Vous spécifiez que la sortie hello données sont générées par l’activité de ruche hello est placé dans le conteneur d’objets blob hello appelé `adfgetstarted` et dossier hello appelé `partitioneddata`.</span><span class="sxs-lookup"><span data-stu-id="5160d-239">You specify that hello output data is produced by hello hive activity is placed in hello blob container called `adfgetstarted` and hello folder called `partitioneddata`.</span></span> 
    
    <span data-ttu-id="5160d-240">Hello **disponibilité** section spécifie ce jeu de données de sortie hello est généré sur une base mensuelle.</span><span class="sxs-lookup"><span data-stu-id="5160d-240">hello **availability** section specifies that hello output dataset is produced on a monthly basis.</span></span> <span data-ttu-id="5160d-241">planification de hello lecteurs Hello sortie dataset du pipeline de hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-241">hello output dataset drives hello schedule of hello pipeline.</span></span> <span data-ttu-id="5160d-242">pipeline de Hello s’exécute chaque mois entre les heures de début et de fin.</span><span class="sxs-lookup"><span data-stu-id="5160d-242">hello pipeline runs monthly between its start and end times.</span></span> 

    <span data-ttu-id="5160d-243">Consultez **créer le jeu de données d’entrée hello** section pour obtenir une description de ces propriétés.</span><span class="sxs-lookup"><span data-stu-id="5160d-243">See **Create hello input dataset** section for descriptions of these properties.</span></span> <span data-ttu-id="5160d-244">Vous ne définissez pas la propriété d’externe de hello sur un jeu de données de sortie comme jeu de données hello est généré par le pipeline de hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-244">You do not set hello external property on an output dataset as hello dataset is produced by hello pipeline.</span></span>
4. <span data-ttu-id="5160d-245">Enregistrer hello **OutputDataset.json** fichier.</span><span class="sxs-lookup"><span data-stu-id="5160d-245">Save hello **OutputDataset.json** file.</span></span>

### <a name="create-pipeline"></a><span data-ttu-id="5160d-246">Création d’un pipeline</span><span class="sxs-lookup"><span data-stu-id="5160d-246">Create pipeline</span></span>
<span data-ttu-id="5160d-247">Vous avez créé jusqu'à présent service lié Azure Storage de hello et jeux de données d’entrée et de sortie.</span><span class="sxs-lookup"><span data-stu-id="5160d-247">You have created hello Azure Storage linked service, and input and output datasets so far.</span></span> <span data-ttu-id="5160d-248">Vous allez maintenant créer un pipeline avec une activité **HDInsightHive**.</span><span class="sxs-lookup"><span data-stu-id="5160d-248">Now, you create a pipeline with a **HDInsightHive** activity.</span></span> <span data-ttu-id="5160d-249">Hello **d’entrée** pour la ruche de hello activité est définie trop**AzureBlobInput** et **sortie** est défini trop**AzureBlobOutput**.</span><span class="sxs-lookup"><span data-stu-id="5160d-249">hello **input** for hello hive activity is set too**AzureBlobInput** and **output** is set too**AzureBlobOutput**.</span></span> <span data-ttu-id="5160d-250">Un secteur d’un jeu de données d’entrée est disponible mensuellement (fréquence : mois, intervalle : 1), hello sortie tranche est générée chaque mois trop.</span><span class="sxs-lookup"><span data-stu-id="5160d-250">A slice of an input dataset is available monthly (frequency: Month, interval: 1), and hello output slice is produced monthly too.</span></span> 

1. <span data-ttu-id="5160d-251">Bonjour **l’Explorateur de solutions**, avec le bouton droit **Pipelines**, pointez trop**ajouter**, puis cliquez sur **un nouvel élément.**</span><span class="sxs-lookup"><span data-stu-id="5160d-251">In hello **Solution Explorer**, right-click **Pipelines**, point too**Add**, and click **New Item.**</span></span>
2. <span data-ttu-id="5160d-252">Sélectionnez **Pipeline de Transformation Hive** à partir de la liste de hello, puis cliquez sur **ajouter**.</span><span class="sxs-lookup"><span data-stu-id="5160d-252">Select **Hive Transformation Pipeline** from hello list, and click **Add**.</span></span>
3. <span data-ttu-id="5160d-253">Remplacez hello **JSON** avec hello suivant extrait de code :</span><span class="sxs-lookup"><span data-stu-id="5160d-253">Replace hello **JSON** with hello following snippet:</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="5160d-254">Remplacez `<storageaccountname>` par nom de hello de votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="5160d-254">Replace `<storageaccountname>` with hello name of your storage account.</span></span>

    ```json
    {
        "name": "MyFirstPipeline",
        "properties": {
            "description": "My first Azure Data Factory pipeline",
            "activities": [
                {
                    "type": "HDInsightHive",
                    "typeProperties": {
                        "scriptPath": "adfgetstarted/script/partitionweblogs.hql",
                        "scriptLinkedService": "AzureStorageLinkedService1",
                        "defines": {
                            "inputtable": "wasb://adfgetstarted@<storageaccountname>.blob.core.windows.net/inputdata",
                            "partitionedtable": "wasb://adfgetstarted@<storageaccountname>.blob.core.windows.net/partitioneddata"
                        }
                    },
                    "inputs": [
                        {
                            "name": "AzureBlobInput"
                        }
                    ],
                    "outputs": [
                        {
                            "name": "AzureBlobOutput"
                        }
                    ],
                    "policy": {
                        "concurrency": 1,
                        "retry": 3
                    },
                    "scheduler": {
                        "frequency": "Month",
                        "interval": 1
                    },
                    "name": "RunSampleHiveActivity",
                    "linkedServiceName": "HDInsightOnDemandLinkedService"
                }
            ],
            "start": "2016-04-01T00:00:00Z",
            "end": "2016-04-02T00:00:00Z",
            "isPaused": false
        }
    }
    ```

    > [!IMPORTANT]
    > <span data-ttu-id="5160d-255">Remplacez `<storageaccountname>` par nom de hello de votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="5160d-255">Replace `<storageaccountname>` with hello name of your storage account.</span></span>

    <span data-ttu-id="5160d-256">extrait de code Hello JSON définit un pipeline qui se compose d’une seule activité (activité Hive).</span><span class="sxs-lookup"><span data-stu-id="5160d-256">hello JSON snippet defines a pipeline that consists of a single activity (Hive Activity).</span></span> <span data-ttu-id="5160d-257">Cette activité exécute un ruche script tooprocess d’entrée de données sur un données de sortie à la demande HDInsight cluster tooproduce.</span><span class="sxs-lookup"><span data-stu-id="5160d-257">This activity runs a Hive script tooprocess input data on an on-demand HDInsight cluster tooproduce output data.</span></span> <span data-ttu-id="5160d-258">Dans la section d’activités hello hello JSON du pipeline, vous ne voyez qu’une seule activité dans le tableau de hello avec le type de trop**HDInsightHive**.</span><span class="sxs-lookup"><span data-stu-id="5160d-258">In hello activities section of hello pipeline JSON, you see only one activity in hello array with type set too**HDInsightHive**.</span></span> 

    <span data-ttu-id="5160d-259">Dans les propriétés de type hello qui sont des activités de ruche tooHDInsight spécifique, vous spécifiez le service lié Azure Storage a le fichier de script hive hello, fichier de script toohello hello chemin d’accès et fichier de script de toohello de paramètres.</span><span class="sxs-lookup"><span data-stu-id="5160d-259">In hello type properties that are specific tooHDInsight Hive activity, you specify what Azure Storage linked service has hello hive script file, hello path toohello script file, and parameters toohello script file.</span></span> 

    <span data-ttu-id="5160d-260">fichier de script Hive Hello, **partitionweblogs.hql**, est stocké dans le compte de stockage Azure hello (spécifié par hello scriptLinkedService) et hello `script` dossier dans le conteneur de hello `adfgetstarted`.</span><span class="sxs-lookup"><span data-stu-id="5160d-260">hello Hive script file, **partitionweblogs.hql**, is stored in hello Azure storage account (specified by hello scriptLinkedService), and in hello `script` folder in hello container `adfgetstarted`.</span></span>

    <span data-ttu-id="5160d-261">Hello `defines` section est de paramètres d’exécution utilisés toospecify hello script hive de toohello passés en tant que valeurs de configuration Hive (par exemple `${hiveconf:inputtable}`, `${hiveconf:partitionedtable})`.</span><span class="sxs-lookup"><span data-stu-id="5160d-261">hello `defines` section is used toospecify hello runtime settings that are passed toohello hive script as Hive configuration values (e.g `${hiveconf:inputtable}`, `${hiveconf:partitionedtable})`.</span></span>

    <span data-ttu-id="5160d-262">Hello **Démarrer** et **fin** propriétés de pipeline de hello spécifie la période active de hello du pipeline de hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-262">hello **start** and **end** properties of hello pipeline specifies hello active period of hello pipeline.</span></span> <span data-ttu-id="5160d-263">Vous avez configuré hello toobe de dataset généré tous les mois, par conséquent, une seule fois la tranche est produite par le pipeline de hello (étant donné que les mois hello sont identique sur les dates de début et de fin).</span><span class="sxs-lookup"><span data-stu-id="5160d-263">You configured hello dataset toobe produced monthly, therefore, only once slice is produced by hello pipeline (because hello month is same in start and end dates).</span></span>

    <span data-ttu-id="5160d-264">Dans l’activité hello JSON, vous spécifiez ce script Hive hello s’exécute sur le calcul hello spécifié par hello **linkedServiceName** – **HDInsightOnDemandLinkedService**.</span><span class="sxs-lookup"><span data-stu-id="5160d-264">In hello activity JSON, you specify that hello Hive script runs on hello compute specified by hello **linkedServiceName** – **HDInsightOnDemandLinkedService**.</span></span>
4. <span data-ttu-id="5160d-265">Enregistrer hello **HiveActivity1.json** fichier.</span><span class="sxs-lookup"><span data-stu-id="5160d-265">Save hello **HiveActivity1.json** file.</span></span>

### <a name="add-partitionweblogshql-and-inputlog-as-a-dependency"></a><span data-ttu-id="5160d-266">Ajouter partitionweblogs.hql et input.log comme dépendance</span><span class="sxs-lookup"><span data-stu-id="5160d-266">Add partitionweblogs.hql and input.log as a dependency</span></span>
1. <span data-ttu-id="5160d-267">Avec le bouton droit **dépendances** Bonjour **l’Explorateur de solutions** fenêtre, pointez trop**ajouter**, puis cliquez sur **élément existant**.</span><span class="sxs-lookup"><span data-stu-id="5160d-267">Right-click **Dependencies** in hello **Solution Explorer** window, point too**Add**, and click **Existing Item**.</span></span>  
2. <span data-ttu-id="5160d-268">Accédez toohello **C:\ADFGettingStarted** et sélectionnez **partitionweblogs.hql**, **input.log** fichiers, puis cliquez sur **ajouter**.</span><span class="sxs-lookup"><span data-stu-id="5160d-268">Navigate toohello **C:\ADFGettingStarted** and select **partitionweblogs.hql**, **input.log** files, and click **Add**.</span></span> <span data-ttu-id="5160d-269">Vous avez créé ces deux fichiers dans le cadre de la configuration requise à partir de hello [vue d’ensemble du didacticiel](data-factory-build-your-first-pipeline.md).</span><span class="sxs-lookup"><span data-stu-id="5160d-269">You created these two files as part of prerequisites from hello [Tutorial Overview](data-factory-build-your-first-pipeline.md).</span></span>

<span data-ttu-id="5160d-270">Lorsque vous publiez la solution de hello dans l’étape suivante de hello, hello **partitionweblogs.hql** fichier est téléchargé toohello **script** dossier Bonjour `adfgetstarted` conteneur d’objets blob.</span><span class="sxs-lookup"><span data-stu-id="5160d-270">When you publish hello solution in hello next step, hello **partitionweblogs.hql** file is uploaded toohello **script** folder in hello `adfgetstarted` blob container.</span></span>   

### <a name="publishdeploy-data-factory-entities"></a><span data-ttu-id="5160d-271">Publier/déployer des entités Data Factory</span><span class="sxs-lookup"><span data-stu-id="5160d-271">Publish/deploy Data Factory entities</span></span>
<span data-ttu-id="5160d-272">Dans cette étape, vous publiez des entités de fabrique de données hello (services liés, des datasets et pipeline) dans votre projet de toohello service Azure Data Factory.</span><span class="sxs-lookup"><span data-stu-id="5160d-272">In this step, you publish hello Data Factory entities (linked services, datasets, and pipeline) in your project toohello Azure Data Factory service.</span></span> <span data-ttu-id="5160d-273">Dans le processus de hello de publication, vous spécifiez nom hello pour votre fabrique de données.</span><span class="sxs-lookup"><span data-stu-id="5160d-273">In hello process of publishing, you specify hello name for your data factory.</span></span> 

1. <span data-ttu-id="5160d-274">Cliquez sur le projet dans l’Explorateur de solutions de hello, puis cliquez sur **publier**.</span><span class="sxs-lookup"><span data-stu-id="5160d-274">Right-click project in hello Solution Explorer, and click **Publish**.</span></span>
2. <span data-ttu-id="5160d-275">Si vous voyez **connecter tooyour compte Microsoft** boîte de dialogue, entrez vos informations d’identification de compte hello qui dispose d’abonnement Azure, puis cliquez sur **connectez-vous**.</span><span class="sxs-lookup"><span data-stu-id="5160d-275">If you see **Sign in tooyour Microsoft account** dialog box, enter your credentials for hello account that has Azure subscription, and click **sign in**.</span></span>
3. <span data-ttu-id="5160d-276">Vous devez voir hello suivant la boîte de dialogue :</span><span class="sxs-lookup"><span data-stu-id="5160d-276">You should see hello following dialog box:</span></span>

   ![Boîte de dialogue Publier](./media/data-factory-build-your-first-pipeline-using-vs/publish.png)
4. <span data-ttu-id="5160d-278">Bonjour **fabrique de données de configuration** page, procédez comme hello comme suit :</span><span class="sxs-lookup"><span data-stu-id="5160d-278">In hello **Configure data factory** page, do hello following steps:</span></span>

    ![Publier - Nouveau paramètres de fabrique de données](media/data-factory-build-your-first-pipeline-using-vs/publish-new-data-factory.png)

   1. <span data-ttu-id="5160d-280">Sélectionnez l’option **Créer une fabrique de données** .</span><span class="sxs-lookup"><span data-stu-id="5160d-280">select **Create New Data Factory** option.</span></span>
   2. <span data-ttu-id="5160d-281">Entrez une valeur unique **nom** de fabrique de données hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-281">Enter a unique **name** for hello data factory.</span></span> <span data-ttu-id="5160d-282">Par exemple : **DataFactoryUsingVS09152016**.</span><span class="sxs-lookup"><span data-stu-id="5160d-282">For example: **DataFactoryUsingVS09152016**.</span></span> <span data-ttu-id="5160d-283">nom de Hello doit être globalement unique.</span><span class="sxs-lookup"><span data-stu-id="5160d-283">hello name must be globally unique.</span></span>
   3. <span data-ttu-id="5160d-284">Sélectionnez l’abonnement pour hello hello **abonnement** champ.</span><span class="sxs-lookup"><span data-stu-id="5160d-284">Select hello right subscription for hello **Subscription** field.</span></span> 
        > [!IMPORTANT]
        > <span data-ttu-id="5160d-285">Si vous ne voyez pas d’un abonnement, assurez-vous que vous connecté en utilisant un compte qui est administrateur ou coadministrateur de l’abonnement de hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-285">If you do not see any subscription, ensure that you logged in using an account that is an admin or co-admin of hello subscription.</span></span>
   4. <span data-ttu-id="5160d-286">Sélectionnez hello **groupe de ressources** pour toobe de fabrique de données hello créé.</span><span class="sxs-lookup"><span data-stu-id="5160d-286">Select hello **resource group** for hello data factory toobe created.</span></span>
   5. <span data-ttu-id="5160d-287">Sélectionnez hello **région** de fabrique de données hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-287">Select hello **region** for hello data factory.</span></span>
   6. <span data-ttu-id="5160d-288">Cliquez sur **suivant** tooswitch toohello **publier des éléments** page.</span><span class="sxs-lookup"><span data-stu-id="5160d-288">Click **Next** tooswitch toohello **Publish Items** page.</span></span> <span data-ttu-id="5160d-289">(Appuyez sur **onglet** toomove hors Bonjour nom champ tooif Bonjour **suivant** bouton est désactivé.)</span><span class="sxs-lookup"><span data-stu-id="5160d-289">(Press **TAB** toomove out of hello Name field tooif hello **Next** button is disabled.)</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="5160d-290">Si vous recevez une erreur de hello **nom de fabrique de données « DataFactoryUsingVS » n’est pas disponible** lors de la publication, modifiez le nom de hello (par exemple, yournameDataFactoryUsingVS).</span><span class="sxs-lookup"><span data-stu-id="5160d-290">If you receive hello error **Data factory name “DataFactoryUsingVS” is not available** when publishing, change hello name (for example, yournameDataFactoryUsingVS).</span></span> <span data-ttu-id="5160d-291">Consultez la rubrique [Data Factory - Règles d'affectation des noms](data-factory-naming-rules.md) pour savoir comment nommer les artefacts Data Factory.</span><span class="sxs-lookup"><span data-stu-id="5160d-291">See [Data Factory - Naming Rules](data-factory-naming-rules.md) topic for naming rules for Data Factory artifacts.</span></span>   
1. <span data-ttu-id="5160d-292">Bonjour **publier des éléments** , vérifiez que tous les hello fabriques de données entités sont sélectionnées, puis cliquez sur **suivant** tooswitch toohello **Résumé** page.</span><span class="sxs-lookup"><span data-stu-id="5160d-292">In hello **Publish Items** page, ensure that all hello Data Factories entities are selected, and click **Next** tooswitch toohello **Summary** page.</span></span>

    ![Page Publier des éléments](media/data-factory-build-your-first-pipeline-using-vs/publish-items-page.png)     
2. <span data-ttu-id="5160d-294">Passez en revue la synthèse de hello et cliquez sur **suivant** toostart Bonjour déploiement processus et vue Bonjour **état du déploiement**.</span><span class="sxs-lookup"><span data-stu-id="5160d-294">Review hello summary and click **Next** toostart hello deployment process and view hello **Deployment Status**.</span></span>

    ![Page de résumé](media/data-factory-build-your-first-pipeline-using-vs/summary-page.png)
3. <span data-ttu-id="5160d-296">Bonjour **état du déploiement** page, vous devez voir État hello hello du processus de déploiement.</span><span class="sxs-lookup"><span data-stu-id="5160d-296">In hello **Deployment Status** page, you should see hello status of hello deployment process.</span></span> <span data-ttu-id="5160d-297">Après le déploiement de hello, cliquez sur Terminer.</span><span class="sxs-lookup"><span data-stu-id="5160d-297">Click Finish after hello deployment is done.</span></span>

<span data-ttu-id="5160d-298">Toonote des points importants suivants :</span><span class="sxs-lookup"><span data-stu-id="5160d-298">Important points toonote:</span></span>

- <span data-ttu-id="5160d-299">Si vous recevez une erreur de hello : **cet abonnement n’est pas un espace de noms inscrit toouse Microsoft.DataFactory**, effectuez l’une des manières suivantes les hello et essayez de publier à nouveau :</span><span class="sxs-lookup"><span data-stu-id="5160d-299">If you receive hello error: **This subscription is not registered toouse namespace Microsoft.DataFactory**, do one of hello following and try publishing again:</span></span>
    - <span data-ttu-id="5160d-300">Dans Azure PowerShell, exécutez hello suivant le fournisseur de commandes tooregister hello Data Factory.</span><span class="sxs-lookup"><span data-stu-id="5160d-300">In Azure PowerShell, run hello following command tooregister hello Data Factory provider.</span></span>
        ```PowerShell   
        Register-AzureRmResourceProvider -ProviderNamespace Microsoft.DataFactory
        ```
        <span data-ttu-id="5160d-301">Vous pouvez exécuter hello suivant commande tooconfirm ce fournisseur est inscrit de fabrique de données hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-301">You can run hello following command tooconfirm that hello Data Factory provider is registered.</span></span>

        ```PowerShell
        Get-AzureRmResourceProvider
        ```
    - <span data-ttu-id="5160d-302">Connexion à l’aide de hello abonnement Azure dans toohello [portail Azure](https://portal.azure.com) et accédez Panneau de Data Factory tooa (ou) créer une fabrique de données Bonjour portail Azure.</span><span class="sxs-lookup"><span data-stu-id="5160d-302">Login using hello Azure subscription in toohello [Azure portal](https://portal.azure.com) and navigate tooa Data Factory blade (or) create a data factory in hello Azure portal.</span></span> <span data-ttu-id="5160d-303">Cette action enregistre automatiquement le fournisseur hello pour vous.</span><span class="sxs-lookup"><span data-stu-id="5160d-303">This action automatically registers hello provider for you.</span></span>
- <span data-ttu-id="5160d-304">nom Hello hello fabrique de données peut être enregistré comme un nom DNS dans hello futures et donc devenir visible publiquement.</span><span class="sxs-lookup"><span data-stu-id="5160d-304">hello name of hello data factory may be registered as a DNS name in hello future and hence become publically visible.</span></span>
- <span data-ttu-id="5160d-305">instances de fabrique de données toocreate, vous devez toobe un administrateur ou coadministrateur de hello abonnement Azure</span><span class="sxs-lookup"><span data-stu-id="5160d-305">toocreate Data Factory instances, you need toobe an admin or co-admin of hello Azure subscription</span></span>

### <a name="monitor-pipeline"></a><span data-ttu-id="5160d-306">Surveillance d’un pipeline</span><span class="sxs-lookup"><span data-stu-id="5160d-306">Monitor pipeline</span></span>
<span data-ttu-id="5160d-307">Dans cette étape, vous surveillez pipeline hello à l’aide de la vue de diagramme de la fabrique de données hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-307">In this step, you monitor hello pipeline using Diagram View of hello data factory.</span></span> 

#### <a name="monitor-pipeline-using-diagram-view"></a><span data-ttu-id="5160d-308">Surveillance d’un pipeline à l’aide de la Vue de diagramme</span><span class="sxs-lookup"><span data-stu-id="5160d-308">Monitor pipeline using Diagram View</span></span>
1. <span data-ttu-id="5160d-309">Connectez-vous à toohello [portail Azure](https://portal.azure.com/), hello comme suit :</span><span class="sxs-lookup"><span data-stu-id="5160d-309">Log in toohello [Azure portal](https://portal.azure.com/), do hello following steps:</span></span>
   1. <span data-ttu-id="5160d-310">Cliquez sur **Plus de services**, puis sur **Fabriques de données**.</span><span class="sxs-lookup"><span data-stu-id="5160d-310">Click **More services** and click **Data factories**.</span></span>
       
        ![Parcourir les fabriques de données](./media/data-factory-build-your-first-pipeline-using-vs/browse-datafactories.png)
   2. <span data-ttu-id="5160d-312">Nom hello Sélectionnez votre fabrique de données (par exemple : **DataFactoryUsingVS09152016**) à partir de la liste de hello des fabriques de données.</span><span class="sxs-lookup"><span data-stu-id="5160d-312">Select hello name of your data factory (for example: **DataFactoryUsingVS09152016**) from hello list of data factories.</span></span>
   
       ![Sélectionner votre fabrique de données](./media/data-factory-build-your-first-pipeline-using-vs/select-first-data-factory.png)
2. <span data-ttu-id="5160d-314">Dans la page d’accueil hello pour votre fabrique de données, cliquez sur **diagramme**.</span><span class="sxs-lookup"><span data-stu-id="5160d-314">In hello home page for your data factory, click **Diagram**.</span></span>

    ![Vignette schématique](./media/data-factory-build-your-first-pipeline-using-vs/diagram-tile.png)
3. <span data-ttu-id="5160d-316">Dans la vue de diagramme de hello, vous consultez une vue d’ensemble des pipelines de hello et jeux de données utilisés dans ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="5160d-316">In hello Diagram View, you see an overview of hello pipelines, and datasets used in this tutorial.</span></span>

    ![Vue du diagramme](./media/data-factory-build-your-first-pipeline-using-vs/diagram-view-2.png)
4. <span data-ttu-id="5160d-318">tooview diagramme de toutes les activités dans le pipeline de hello, pipeline avec le bouton droit dans hello et cliquez sur Ouvrir Pipeline.</span><span class="sxs-lookup"><span data-stu-id="5160d-318">tooview all activities in hello pipeline, right-click pipeline in hello diagram and click Open Pipeline.</span></span>

    ![Menu Ouvrir un pipeline](./media/data-factory-build-your-first-pipeline-using-vs/open-pipeline-menu.png)
5. <span data-ttu-id="5160d-320">Vérifiez que vous voyez hello HDInsightHive activité hello pipeline.</span><span class="sxs-lookup"><span data-stu-id="5160d-320">Confirm that you see hello HDInsightHive activity in hello pipeline.</span></span>

    ![Vue Ouvrir un pipeline](./media/data-factory-build-your-first-pipeline-using-vs/open-pipeline-view.png)

    <span data-ttu-id="5160d-322">toonavigate sauvegarder toohello de vue précédente, cliquez sur **Data factory** dans le menu de navigation hello haut hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-322">toonavigate back toohello previous view, click **Data factory** in hello breadcrumb menu at hello top.</span></span>
6. <span data-ttu-id="5160d-323">Bonjour **vue de diagramme**, double-cliquez sur le jeu de données hello **AzureBlobInput**.</span><span class="sxs-lookup"><span data-stu-id="5160d-323">In hello **Diagram View**, double-click hello dataset **AzureBlobInput**.</span></span> <span data-ttu-id="5160d-324">Confirmer que la tranche hello est **prêt** état.</span><span class="sxs-lookup"><span data-stu-id="5160d-324">Confirm that hello slice is in **Ready** state.</span></span> <span data-ttu-id="5160d-325">Il peut prendre quelques minutes pour hello tranche tooshow dans l’état Ready.</span><span class="sxs-lookup"><span data-stu-id="5160d-325">It may take a couple of minutes for hello slice tooshow up in Ready state.</span></span> <span data-ttu-id="5160d-326">Si elle ne se produit pas une fois que vous patientez un moment, consultez si vous avez des fichiers d’entrée hello (input.log) placé dans le conteneur de droite hello (`adfgetstarted`) et le dossier (`inputdata`).</span><span class="sxs-lookup"><span data-stu-id="5160d-326">If it does not happen after you wait for sometime, see if you have hello input file (input.log) placed in hello right container (`adfgetstarted`) and folder (`inputdata`).</span></span> <span data-ttu-id="5160d-327">Et vous assurer que hello **externe** propriété hello de jeu de données d’entrée est définie trop**true**.</span><span class="sxs-lookup"><span data-stu-id="5160d-327">And, make sure that hello **external** property on hello input dataset is set too**true**.</span></span> 

   ![Segment d’entrée dans l’état Prêt](./media/data-factory-build-your-first-pipeline-using-vs/input-slice-ready.png)
7. <span data-ttu-id="5160d-329">Cliquez sur **X** tooclose **AzureBlobInput** panneau.</span><span class="sxs-lookup"><span data-stu-id="5160d-329">Click **X** tooclose **AzureBlobInput** blade.</span></span>
8. <span data-ttu-id="5160d-330">Bonjour **vue de diagramme**, double-cliquez sur le jeu de données hello **AzureBlobOutput**.</span><span class="sxs-lookup"><span data-stu-id="5160d-330">In hello **Diagram View**, double-click hello dataset **AzureBlobOutput**.</span></span> <span data-ttu-id="5160d-331">Vous voyez ce secteur hello qui est en cours de traitement.</span><span class="sxs-lookup"><span data-stu-id="5160d-331">You see that hello slice that is currently being processed.</span></span>

   ![Jeu de données](./media/data-factory-build-your-first-pipeline-using-vs/dataset-blade.png)
9. <span data-ttu-id="5160d-333">Lorsque le traitement est terminé, vous consultez la section hello dans **prêt** état.</span><span class="sxs-lookup"><span data-stu-id="5160d-333">When processing is done, you see hello slice in **Ready** state.</span></span>

   > [!IMPORTANT]
   > <span data-ttu-id="5160d-334">La création d’un cluster HDInsight à la demande prend généralement un certain temps (environ 20 minutes).</span><span class="sxs-lookup"><span data-stu-id="5160d-334">Creation of an on-demand HDInsight cluster usually takes sometime (approximately 20 minutes).</span></span> <span data-ttu-id="5160d-335">Par conséquent, s’attendent hello pipeline tootake **environ 30 minutes** tooprocess hello tranche.</span><span class="sxs-lookup"><span data-stu-id="5160d-335">Therefore, expect hello pipeline tootake **approximately 30 minutes** tooprocess hello slice.</span></span>  
   
    ![Jeu de données](./media/data-factory-build-your-first-pipeline-using-vs/dataset-slice-ready.png)    
10. <span data-ttu-id="5160d-337">Lorsque la tranche de hello est à **prêt** d’état, vérifiez hello `partitioneddata` dossier Bonjour `adfgetstarted` conteneur dans votre stockage d’objets blob pour hello les données de sortie.</span><span class="sxs-lookup"><span data-stu-id="5160d-337">When hello slice is in **Ready** state, check hello `partitioneddata` folder in hello `adfgetstarted` container in your blob storage for hello output data.</span></span>  

    ![données de sortie](./media/data-factory-build-your-first-pipeline-using-vs/three-ouptut-files.png)
11. <span data-ttu-id="5160d-339">Cliquez sur Détails de toosee hello tranche sur celui-ci dans un **tranche de données** panneau.</span><span class="sxs-lookup"><span data-stu-id="5160d-339">Click hello slice toosee details about it in a **Data slice** blade.</span></span>

    ![Détails de la tranche](./media/data-factory-build-your-first-pipeline-using-vs/data-slice-details.png)  
12. <span data-ttu-id="5160d-341">Cliquez sur une activité à exécuter dans hello **liste s’exécute l’activité** toosee des détails sur une activité exécuter (activité Hive dans notre scénario) dans un **détails de la série activité** fenêtre.</span><span class="sxs-lookup"><span data-stu-id="5160d-341">Click an activity run in hello **Activity runs list** toosee details about an activity run (Hive activity in our scenario) in an **Activity run details** window.</span></span> 
  
    ![Détails de l'exécution d'activité](./media/data-factory-build-your-first-pipeline-using-vs/activity-window-blade.png)    

    <span data-ttu-id="5160d-343">À partir de fichiers de journal hello, vous pouvez voir la requête Hive hello qui a été exécutée et les informations d’état.</span><span class="sxs-lookup"><span data-stu-id="5160d-343">From hello log files, you can see hello Hive query that was executed and status information.</span></span> <span data-ttu-id="5160d-344">Ces journaux sont utiles pour résoudre les problèmes.</span><span class="sxs-lookup"><span data-stu-id="5160d-344">These logs are useful for troubleshooting any issues.</span></span>  

<span data-ttu-id="5160d-345">Consultez [analyser des jeux de données et le pipeline](data-factory-monitor-manage-pipelines.md) pour obtenir des instructions sur la façon dont pipeline de hello toouse hello toomonitor portail Azure et les jeux de données vous avez créé dans ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="5160d-345">See [Monitor datasets and pipeline](data-factory-monitor-manage-pipelines.md) for instructions on how toouse hello Azure portal toomonitor hello pipeline and datasets you have created in this tutorial.</span></span>

#### <a name="monitor-pipeline-using-monitor--manage-app"></a><span data-ttu-id="5160d-346">Surveiller le pipeline à l’aide de l’application de surveillance et de gestion</span><span class="sxs-lookup"><span data-stu-id="5160d-346">Monitor pipeline using Monitor & Manage App</span></span>
<span data-ttu-id="5160d-347">Vous pouvez également utiliser le moniteur et gérer les applications toomonitor vos pipelines.</span><span class="sxs-lookup"><span data-stu-id="5160d-347">You can also use Monitor & Manage application toomonitor your pipelines.</span></span> <span data-ttu-id="5160d-348">Pour en savoir plus sur l’utilisation de cette application, consultez l’article [Surveiller et gérer les pipelines Azure Data Factory à l’aide de l’application de surveillance et gestion](data-factory-monitor-manage-app.md).</span><span class="sxs-lookup"><span data-stu-id="5160d-348">For detailed information about using this application, see [Monitor and manage Azure Data Factory pipelines using Monitoring and Management App](data-factory-monitor-manage-app.md).</span></span>

1. <span data-ttu-id="5160d-349">Cliquez sur la vignette Surveiller et gérer.</span><span class="sxs-lookup"><span data-stu-id="5160d-349">Click Monitor & Manage tile.</span></span>

    ![Vignette Surveiller et gérer](./media/data-factory-build-your-first-pipeline-using-vs/monitor-and-manage-tile.png)
2. <span data-ttu-id="5160d-351">L’application de surveillance et de gestion devrait s’afficher.</span><span class="sxs-lookup"><span data-stu-id="5160d-351">You should see Monitor & Manage application.</span></span> <span data-ttu-id="5160d-352">Hello de modification **l’heure de début** et **heure de fin** toomatch début (04-01-2016 12:00 AM) et l’heure de fin (04-02-2016 12:00 AM) de votre pipeline, puis cliquez sur **appliquer**.</span><span class="sxs-lookup"><span data-stu-id="5160d-352">Change hello **Start time** and **End time** toomatch start (04-01-2016 12:00 AM) and end times (04-02-2016 12:00 AM) of your pipeline, and click **Apply**.</span></span>

    ![Application de surveillance et gestion](./media/data-factory-build-your-first-pipeline-using-vs/monitor-and-manage-app.png)
3. <span data-ttu-id="5160d-354">toosee plus d’informations sur une fenêtre d’activité, sélectionnez-la dans hello **liste activité Windows** toosee des informations à son.</span><span class="sxs-lookup"><span data-stu-id="5160d-354">toosee details about an activity window, select it in hello **Activity Windows list** toosee details about it.</span></span>
    <span data-ttu-id="5160d-355">![Détails de la fenêtre d’activité](./media/data-factory-build-your-first-pipeline-using-vs/activity-window-details.png)</span><span class="sxs-lookup"><span data-stu-id="5160d-355">![Activity window details](./media/data-factory-build-your-first-pipeline-using-vs/activity-window-details.png)</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5160d-356">fichier d’entrée de Hello est supprimé lors de la tranche de hello est traitée avec succès.</span><span class="sxs-lookup"><span data-stu-id="5160d-356">hello input file gets deleted when hello slice is processed successfully.</span></span> <span data-ttu-id="5160d-357">Par conséquent, si vous souhaitez tranche de hello toorerun ou que vous hello didacticiel à nouveau, télécharger hello fichier d’entrée (input.log) toohello `inputdata` dossier Hello `adfgetstarted` conteneur.</span><span class="sxs-lookup"><span data-stu-id="5160d-357">Therefore, if you want toorerun hello slice or do hello tutorial again, upload hello input file (input.log) toohello `inputdata` folder of hello `adfgetstarted` container.</span></span>

### <a name="additional-notes"></a><span data-ttu-id="5160d-358">Remarques supplémentaires</span><span class="sxs-lookup"><span data-stu-id="5160d-358">Additional notes</span></span>
- <span data-ttu-id="5160d-359">Une fabrique de données peut avoir un ou plusieurs pipelines.</span><span class="sxs-lookup"><span data-stu-id="5160d-359">A data factory can have one or more pipelines.</span></span> <span data-ttu-id="5160d-360">Un pipeline peut contenir une ou plusieurs activités.</span><span class="sxs-lookup"><span data-stu-id="5160d-360">A pipeline can have one or more activities in it.</span></span> <span data-ttu-id="5160d-361">Par exemple, un activité de copie toocopy des données d’un magasin de données de destination tooa source et un toorun d’activité HDInsight Hive un tootransform de script Hive les données d’entrée.</span><span class="sxs-lookup"><span data-stu-id="5160d-361">For example, a Copy Activity toocopy data from a source tooa destination data store and a HDInsight Hive activity toorun a Hive script tootransform input data.</span></span> <span data-ttu-id="5160d-362">Consultez [prise en charge des magasins de données](data-factory-data-movement-activities.md#supported-data-stores-and-formats) pour tous les hello sources et récepteurs pris en charge par l’activité de copie de hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-362">See [supported data stores](data-factory-data-movement-activities.md#supported-data-stores-and-formats) for all hello sources and sinks supported by hello Copy Activity.</span></span> <span data-ttu-id="5160d-363">Consultez [services liés de calcul](data-factory-compute-linked-services.md) pour la liste des services de calcul pris en charge par la fabrique de données hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-363">See [compute linked services](data-factory-compute-linked-services.md) for hello list of compute services supported by Data Factory.</span></span>
- <span data-ttu-id="5160d-364">Services liés lier des magasins de données ou la fabrique de données Azure tooan de services de calcul.</span><span class="sxs-lookup"><span data-stu-id="5160d-364">Linked services link data stores or compute services tooan Azure data factory.</span></span> <span data-ttu-id="5160d-365">Consultez [prise en charge des magasins de données](data-factory-data-movement-activities.md#supported-data-stores-and-formats) pour tous les hello sources et récepteurs pris en charge par l’activité de copie de hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-365">See [supported data stores](data-factory-data-movement-activities.md#supported-data-stores-and-formats) for all hello sources and sinks supported by hello Copy Activity.</span></span> <span data-ttu-id="5160d-366">Consultez [services liés de calcul](data-factory-compute-linked-services.md) pour la liste des services de calcul pris en charge par la fabrique de données hello et [des activités de transformation](data-factory-data-transformation-activities.md) qui peut s’exécuter sur ces derniers.</span><span class="sxs-lookup"><span data-stu-id="5160d-366">See [compute linked services](data-factory-compute-linked-services.md) for hello list of compute services supported by Data Factory and [transformation activities](data-factory-data-transformation-activities.md) that can run on them.</span></span>
- <span data-ttu-id="5160d-367">Consultez [déplacer des données à partir de / tooAzure d’objets Blob](data-factory-azure-blob-connector.md#azure-storage-linked-service) pour plus d’informations sur les propriétés JSON utilisées Bonjour Azure Storage lié définition de service.</span><span class="sxs-lookup"><span data-stu-id="5160d-367">See [Move data from/tooAzure Blob](data-factory-azure-blob-connector.md#azure-storage-linked-service) for details about JSON properties used in hello Azure Storage linked service definition.</span></span>
- <span data-ttu-id="5160d-368">Vous pouvez utiliser votre propre cluster HDInsight au lieu d’utiliser un cluster HDInsight à la demande.</span><span class="sxs-lookup"><span data-stu-id="5160d-368">You could use your own HDInsight cluster instead of using an on-demand HDInsight cluster.</span></span> <span data-ttu-id="5160d-369">Pour plus d’informations, consultez [Services de calcul liés](data-factory-compute-linked-services.md) .</span><span class="sxs-lookup"><span data-stu-id="5160d-369">See [Compute Linked Services](data-factory-compute-linked-services.md) for details.</span></span>
-  <span data-ttu-id="5160d-370">Hello Data Factory crée un **basés sur Linux** cluster HDInsight pour vous par hello précédant JSON.</span><span class="sxs-lookup"><span data-stu-id="5160d-370">hello Data Factory creates a **Linux-based** HDInsight cluster for you with hello preceding JSON.</span></span> <span data-ttu-id="5160d-371">Pour plus d’informations, voir [Service lié à la demande Azure HDInsight](data-factory-compute-linked-services.md#azure-hdinsight-on-demand-linked-service) .</span><span class="sxs-lookup"><span data-stu-id="5160d-371">See [On-demand HDInsight Linked Service](data-factory-compute-linked-services.md#azure-hdinsight-on-demand-linked-service) for details.</span></span>
- <span data-ttu-id="5160d-372">Hello HDInsight cluster crée un **conteneur par défaut** dans le stockage blob hello spécifié dans hello JSON (linkedServiceName).</span><span class="sxs-lookup"><span data-stu-id="5160d-372">hello HDInsight cluster creates a **default container** in hello blob storage you specified in hello JSON (linkedServiceName).</span></span> <span data-ttu-id="5160d-373">HDInsight ne supprime pas ce conteneur lorsque le cluster de hello est supprimé.</span><span class="sxs-lookup"><span data-stu-id="5160d-373">HDInsight does not delete this container when hello cluster is deleted.</span></span> <span data-ttu-id="5160d-374">Ce comportement est normal.</span><span class="sxs-lookup"><span data-stu-id="5160d-374">This behavior is by design.</span></span> <span data-ttu-id="5160d-375">Avec le service lié HDInsight à la demande, un cluster HDInsight est créé dès qu’une tranche est traitée, à moins qu’il n’existe un cluster actif (timeToLive).</span><span class="sxs-lookup"><span data-stu-id="5160d-375">With on-demand HDInsight linked service, a HDInsight cluster is created every time a slice is processed unless there is an existing live cluster (timeToLive).</span></span> <span data-ttu-id="5160d-376">Hello cluster est automatiquement supprimé lorsque le traitement de hello est effectué.</span><span class="sxs-lookup"><span data-stu-id="5160d-376">hello cluster is automatically deleted when hello processing is done.</span></span>
    
    <span data-ttu-id="5160d-377">Comme un nombre croissant de tranches sont traitées, vous voyez un grand nombre de conteneurs dans votre stockage d’objets blob Azure.</span><span class="sxs-lookup"><span data-stu-id="5160d-377">As more slices are processed, you see many containers in your Azure blob storage.</span></span> <span data-ttu-id="5160d-378">Si vous ne devez pas les pour la résolution des problèmes de travaux de hello, vous souhaiterez peut-être toodelete les coûts de stockage tooreduce hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-378">If you do not need them for troubleshooting of hello jobs, you may want toodelete them tooreduce hello storage cost.</span></span> <span data-ttu-id="5160d-379">les noms de ces conteneurs Hello suivent un modèle : `adf**yourdatafactoryname**-**linkedservicename**-datetimestamp`.</span><span class="sxs-lookup"><span data-stu-id="5160d-379">hello names of these containers follow a pattern: `adf**yourdatafactoryname**-**linkedservicename**-datetimestamp`.</span></span> <span data-ttu-id="5160d-380">Utiliser des outils tels que [Explorateur de stockage Microsoft](http://storageexplorer.com/) stockage d’objets blob des conteneurs de toodelete dans votre Azure.</span><span class="sxs-lookup"><span data-stu-id="5160d-380">Use tools such as [Microsoft Storage Explorer](http://storageexplorer.com/) toodelete containers in your Azure blob storage.</span></span>
- <span data-ttu-id="5160d-381">Actuellement, le dataset de sortie est les lecteurs hello planification, vous devez donc créer un dataset de sortie même si l’activité hello ne produit pas de sortie.</span><span class="sxs-lookup"><span data-stu-id="5160d-381">Currently, output dataset is what drives hello schedule, so you must create an output dataset even if hello activity does not produce any output.</span></span> <span data-ttu-id="5160d-382">Si l’activité hello n’accepte aucune entrée, vous pouvez ignorer le jeu de données d’entrée création hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-382">If hello activity doesn't take any input, you can skip creating hello input dataset.</span></span> 
- <span data-ttu-id="5160d-383">Ce didacticiel n’explique pas comment copier des données à l’aide d’Azure Data Factory.</span><span class="sxs-lookup"><span data-stu-id="5160d-383">This tutorial does not show how copy data by using Azure Data Factory.</span></span> <span data-ttu-id="5160d-384">Pour obtenir un didacticiel sur la façon de toocopy les données à l’aide d’Azure Data Factory, consultez [didacticiel : copier des données à partir du stockage d’objets Blob tooSQL de base de données](data-factory-copy-data-from-azure-blob-storage-to-sql-database.md).</span><span class="sxs-lookup"><span data-stu-id="5160d-384">For a tutorial on how toocopy data using Azure Data Factory, see [Tutorial: Copy data from Blob Storage tooSQL Database](data-factory-copy-data-from-azure-blob-storage-to-sql-database.md).</span></span>


## <a name="use-server-explorer-tooview-data-factories"></a><span data-ttu-id="5160d-385">Utiliser des fabriques de données de l’Explorateur de serveurs tooview</span><span class="sxs-lookup"><span data-stu-id="5160d-385">Use Server Explorer tooview data factories</span></span>
1. <span data-ttu-id="5160d-386">Dans **Visual Studio**, cliquez sur **vue** hello menu et cliquez sur **l’Explorateur de serveurs**.</span><span class="sxs-lookup"><span data-stu-id="5160d-386">In **Visual Studio**, click **View** on hello menu, and click **Server Explorer**.</span></span>
2. <span data-ttu-id="5160d-387">Dans la fenêtre de l’Explorateur de serveurs hello, développez **Azure** et développez **Data Factory**.</span><span class="sxs-lookup"><span data-stu-id="5160d-387">In hello Server Explorer window, expand **Azure** and expand **Data Factory**.</span></span> <span data-ttu-id="5160d-388">Si vous voyez **connecter tooVisual Studio**, entrez hello **compte** associé à votre abonnement Azure et d’un clic **continuer**.</span><span class="sxs-lookup"><span data-stu-id="5160d-388">If you see **Sign in tooVisual Studio**, enter hello **account** associated with your Azure subscription and click **Continue**.</span></span> <span data-ttu-id="5160d-389">Saisissez le **mot de passe**, puis cliquez sur **Se connecter**.</span><span class="sxs-lookup"><span data-stu-id="5160d-389">Enter **password**, and click **Sign in**.</span></span> <span data-ttu-id="5160d-390">Visual Studio essaie de tooget d’informations sur toutes les fabriques de données Azure dans votre abonnement.</span><span class="sxs-lookup"><span data-stu-id="5160d-390">Visual Studio tries tooget information about all Azure data factories in your subscription.</span></span> <span data-ttu-id="5160d-391">Vous voyez l’état hello de cette opération Bonjour **liste des tâches données fabrique** fenêtre.</span><span class="sxs-lookup"><span data-stu-id="5160d-391">You see hello status of this operation in hello **Data Factory Task List** window.</span></span>

    ![Explorateur de serveurs](./media/data-factory-build-your-first-pipeline-using-vs/server-explorer.png)
3. <span data-ttu-id="5160d-393">Vous pouvez cliquez sur une fabrique de données, puis sélectionnez **tooNew d’exporter la fabrique de données projet** toocreate un projet Visual Studio basé sur une fabrique de données.</span><span class="sxs-lookup"><span data-stu-id="5160d-393">You can right-click a data factory, and select **Export Data Factory tooNew Project** toocreate a Visual Studio project based on an existing data factory.</span></span>

    ![Exporter la fabrique de données](./media/data-factory-build-your-first-pipeline-using-vs/export-data-factory-menu.png)

## <a name="update-data-factory-tools-for-visual-studio"></a><span data-ttu-id="5160d-395">Mettre à jour des outils Data Factory pour Visual Studio</span><span class="sxs-lookup"><span data-stu-id="5160d-395">Update Data Factory tools for Visual Studio</span></span>
<span data-ttu-id="5160d-396">outils d’Azure Data Factory tooupdate pour Visual Studio, procédez comme hello comme suit :</span><span class="sxs-lookup"><span data-stu-id="5160d-396">tooupdate Azure Data Factory tools for Visual Studio, do hello following steps:</span></span>

1. <span data-ttu-id="5160d-397">Cliquez sur **outils** sur hello menu et sélectionnez **Extensions et mises à jour**.</span><span class="sxs-lookup"><span data-stu-id="5160d-397">Click **Tools** on hello menu and select **Extensions and Updates**.</span></span>
2. <span data-ttu-id="5160d-398">Sélectionnez **mises à jour** dans hello du volet gauche, puis sélectionnez **galerie Visual Studio**.</span><span class="sxs-lookup"><span data-stu-id="5160d-398">Select **Updates** in hello left pane and then select **Visual Studio Gallery**.</span></span>
3. <span data-ttu-id="5160d-399">Sélectionnez **Outils Azure Data Factory pour Visual Studio**, puis cliquez sur **Mettre à jour**.</span><span class="sxs-lookup"><span data-stu-id="5160d-399">Select **Azure Data Factory tools for Visual Studio** and click **Update**.</span></span> <span data-ttu-id="5160d-400">Si vous ne voyez pas cette entrée, vous avez déjà la version la plus récente des outils de hello hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-400">If you do not see this entry, you already have hello latest version of hello tools.</span></span>

## <a name="use-configuration-files"></a><span data-ttu-id="5160d-401">Utiliser des fichiers de configuration</span><span class="sxs-lookup"><span data-stu-id="5160d-401">Use configuration files</span></span>
<span data-ttu-id="5160d-402">Vous pouvez utiliser des fichiers de configuration dans les propriétés de tooconfigure Visual Studio pour les services/tables/pipelines liés différemment pour chaque environnement.</span><span class="sxs-lookup"><span data-stu-id="5160d-402">You can use configuration files in Visual Studio tooconfigure properties for linked services/tables/pipelines differently for each environment.</span></span>

<span data-ttu-id="5160d-403">Envisagez de hello définition JSON pour un service lié Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="5160d-403">Consider hello following JSON definition for an Azure Storage linked service.</span></span> <span data-ttu-id="5160d-404">toospecify **connectionString** avec des valeurs différentes pour accountname et accountkey selon hello environnement (développement/Test/Production) toowhich vous déployez des entités de fabrique de données.</span><span class="sxs-lookup"><span data-stu-id="5160d-404">toospecify **connectionString** with different values for accountname and accountkey based on hello environment (Dev/Test/Production) toowhich you are deploying Data Factory entities.</span></span> <span data-ttu-id="5160d-405">Vous pouvez parvenir à ce comportement en utilisant un fichier de configuration distinct pour chaque environnement.</span><span class="sxs-lookup"><span data-stu-id="5160d-405">You can achieve this behavior by using separate configuration file for each environment.</span></span>

```json
{
    "name": "StorageLinkedService",
    "properties": {
        "type": "AzureStorage",
        "description": "",
        "typeProperties": {
            "connectionString": "DefaultEndpointsProtocol=https;AccountName=<accountname>;AccountKey=<accountkey>"
        }
    }
}
```

### <a name="add-a-configuration-file"></a><span data-ttu-id="5160d-406">Ajouter un fichier de configuration</span><span class="sxs-lookup"><span data-stu-id="5160d-406">Add a configuration file</span></span>
<span data-ttu-id="5160d-407">Ajoutez un fichier de configuration pour chaque environnement en effectuant hello comme suit :</span><span class="sxs-lookup"><span data-stu-id="5160d-407">Add a configuration file for each environment by performing hello following steps:</span></span>   

1. <span data-ttu-id="5160d-408">Cliquez sur le projet de Data Factory hello dans votre solution Visual Studio, pointez trop**ajouter**, puis cliquez sur **un nouvel élément**.</span><span class="sxs-lookup"><span data-stu-id="5160d-408">Right-click hello Data Factory project in your Visual Studio solution, point too**Add**, and click **New item**.</span></span>
2. <span data-ttu-id="5160d-409">Sélectionnez **Config** à partir de la liste hello de modèles installés sur hello gauche, sélectionnez **fichier de Configuration**, entrez un **nom** pour la configuration de hello fichier, puis cliquez sur **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="5160d-409">Select **Config** from hello list of installed templates on hello left, select **Configuration File**, enter a **name** for hello configuration file, and click **Add**.</span></span>

    ![Ajouter un fichier de configuration](./media/data-factory-build-your-first-pipeline-using-vs/add-config-file.png)
3. <span data-ttu-id="5160d-411">Ajouter des paramètres de configuration et leurs valeurs Bonjour suivant le format :</span><span class="sxs-lookup"><span data-stu-id="5160d-411">Add configuration parameters and their values in hello following format:</span></span>

    ```json
    {
        "$schema": "http://datafactories.schema.management.azure.com/vsschemas/V1/Microsoft.DataFactory.Config.json",
        "AzureStorageLinkedService1": [
            {
                "name": "$.properties.typeProperties.connectionString",
                "value": "DefaultEndpointsProtocol=https;AccountName=<accountname>;AccountKey=<accountkey>"
            }
        ],
        "AzureSqlLinkedService1": [
            {
                "name": "$.properties.typeProperties.connectionString",
                "value":  "Server=tcp:spsqlserver.database.windows.net,1433;Database=spsqldb;User ID=spelluru;Password=Sowmya123;Trusted_Connection=False;Encrypt=True;Connection Timeout=30"
            }
        ]
    }
    ```

    <span data-ttu-id="5160d-412">Cet exemple configure la propriété connectionString d’un service lié Azure Storage et d’un service lié SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="5160d-412">This example configures connectionString property of an Azure Storage linked service and an Azure SQL linked service.</span></span> <span data-ttu-id="5160d-413">Notez que la syntaxe de hello pour spécifier un nom est [JsonPath](http://goessner.net/articles/JsonPath/).</span><span class="sxs-lookup"><span data-stu-id="5160d-413">Notice that hello syntax for specifying name is [JsonPath](http://goessner.net/articles/JsonPath/).</span></span>   

    <span data-ttu-id="5160d-414">Si JSON possède une propriété qui a un tableau de valeurs comme indiqué dans hello suivant de code :</span><span class="sxs-lookup"><span data-stu-id="5160d-414">If JSON has a property that has an array of values as shown in hello following code:</span></span>  

    ```json
    "structure": [
          {
              "name": "FirstName",
            "type": "String"
          },
          {
            "name": "LastName",
            "type": "String"
        }
    ],
    ```

    <span data-ttu-id="5160d-415">Configurez les propriétés comme indiqué dans hello suivant du fichier de configuration (Utilisez zéro) :</span><span class="sxs-lookup"><span data-stu-id="5160d-415">Configure properties as shown in hello following configuration file (use zero-based indexing):</span></span>

    ```json
    {
        "name": "$.properties.structure[0].name",
        "value": "FirstName"
    }
    {
        "name": "$.properties.structure[0].type",
        "value": "String"
    }
    {
        "name": "$.properties.structure[1].name",
        "value": "LastName"
    }
    {
        "name": "$.properties.structure[1].type",
        "value": "String"
    }
    ```

### <a name="property-names-with-spaces"></a><span data-ttu-id="5160d-416">Noms de propriétés avec des espaces</span><span class="sxs-lookup"><span data-stu-id="5160d-416">Property names with spaces</span></span>
<span data-ttu-id="5160d-417">Si un nom de propriété comporte des espaces, utilisez des crochets comme indiqué dans hello (nom du serveur de base de données) de l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="5160d-417">If a property name has spaces in it, use square brackets as shown in hello following example (Database server name):</span></span>

```json
 {
     "name": "$.properties.activities[1].typeProperties.webServiceParameters.['Database server name']",
     "value": "MyAsqlServer.database.windows.net"
 }
```

### <a name="deploy-solution-using-a-configuration"></a><span data-ttu-id="5160d-418">Déployer une solution à l’aide d’une configuration</span><span class="sxs-lookup"><span data-stu-id="5160d-418">Deploy solution using a configuration</span></span>
<span data-ttu-id="5160d-419">Lorsque vous publiez des entités d’Azure Data Factory dans Visual Studio, vous pouvez spécifier la configuration hello que vous souhaitez toouse pour cette opération de publication.</span><span class="sxs-lookup"><span data-stu-id="5160d-419">When you are publishing Azure Data Factory entities in VS, you can specify hello configuration that you want toouse for that publishing operation.</span></span>

<span data-ttu-id="5160d-420">entités toopublish dans un projet Azure Data Factory à l’aide du fichier de configuration :</span><span class="sxs-lookup"><span data-stu-id="5160d-420">toopublish entities in an Azure Data Factory project using configuration file:</span></span>   

1. <span data-ttu-id="5160d-421">Cliquez sur le projet de la fabrique de données, sur **publier** toosee hello **publier des éléments** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="5160d-421">Right-click Data Factory project and click **Publish** toosee hello **Publish Items** dialog box.</span></span>
2. <span data-ttu-id="5160d-422">Sélectionnez une fabrique de données existante ou de spécifier des valeurs pour la création d’une fabrique de données sur hello **fabrique de données de configuration** page, puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="5160d-422">Select an existing data factory or specify values for creating a data factory on hello **Configure data factory** page, and click **Next**.</span></span>   
3. <span data-ttu-id="5160d-423">Sur hello **publier des éléments** page : une liste déroulante avec les configurations disponibles pour hello **sélectionner une configuration de déploiement** champ.</span><span class="sxs-lookup"><span data-stu-id="5160d-423">On hello **Publish Items** page: you see a drop-down list with available configurations for hello **Select Deployment Config** field.</span></span>

    ![Sélectionner un fichier de config](./media/data-factory-build-your-first-pipeline-using-vs/select-config-file.png)
4. <span data-ttu-id="5160d-425">Sélectionnez hello **fichier de configuration** que vous souhaitez toouse et cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="5160d-425">Select hello **configuration file** that you would like toouse and click **Next**.</span></span>
5. <span data-ttu-id="5160d-426">Vérifiez que vous voyez le nom hello du fichier JSON Bonjour **Résumé** page, puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="5160d-426">Confirm that you see hello name of JSON file in hello **Summary** page and click **Next**.</span></span>
6. <span data-ttu-id="5160d-427">Cliquez sur **Terminer** une fois l’opération de déploiement hello est terminée.</span><span class="sxs-lookup"><span data-stu-id="5160d-427">Click **Finish** after hello deployment operation is finished.</span></span>

<span data-ttu-id="5160d-428">Lorsque vous déployez, hello valeurs hello fichier de configuration sont tooset utilisé les valeurs des propriétés dans les fichiers au format JSON hello avant que les entités hello soient déployé tooAzure service Data Factory.</span><span class="sxs-lookup"><span data-stu-id="5160d-428">When you deploy, hello values from hello configuration file are used tooset values for properties in hello JSON files before hello entities are deployed tooAzure Data Factory service.</span></span>   

## <a name="use-azure-key-vault"></a><span data-ttu-id="5160d-429">Utiliser Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="5160d-429">Use Azure Key Vault</span></span>
<span data-ttu-id="5160d-430">Il n’est pas recommandé et souvent sur des données sensibles de sécurité stratégie toocommit comme référentiel de code de connexion chaînes toohello.</span><span class="sxs-lookup"><span data-stu-id="5160d-430">It is not advisable and often against security policy toocommit sensitive data such as connection strings toohello code repository.</span></span> <span data-ttu-id="5160d-431">Consultez [ADF Secure publier](https://github.com/Azure/Azure-DataFactory/tree/master/Samples/ADFSecurePublish) sample sur toolearn GitHub sur le stockage des informations sensibles dans Azure Key Vault et son utilisation lors de la publication des entités de fabrique de données.</span><span class="sxs-lookup"><span data-stu-id="5160d-431">See [ADF Secure Publish](https://github.com/Azure/Azure-DataFactory/tree/master/Samples/ADFSecurePublish) sample on GitHub toolearn about storing sensitive information in Azure Key Vault and using it while publishing Data Factory entities.</span></span> <span data-ttu-id="5160d-432">Hello Secure publier l’extension pour Visual Studio permet hello toobe de clés secrètes stockée dans le coffre de clés et uniquement les références toothem sont spécifiés dans les services liés / configurations de déploiement.</span><span class="sxs-lookup"><span data-stu-id="5160d-432">hello Secure Publish extension for Visual Studio allows hello secrets toobe stored in Key Vault and only references toothem are specified in linked services/ deployment configurations.</span></span> <span data-ttu-id="5160d-433">Ces références sont résolues lors de la publication tooAzure des entités de fabrique de données.</span><span class="sxs-lookup"><span data-stu-id="5160d-433">These references are resolved when you publish Data Factory entities tooAzure.</span></span> <span data-ttu-id="5160d-434">Ces fichiers peuvent ensuite être référentiel toosource validée sans exposer les clés secrètes.</span><span class="sxs-lookup"><span data-stu-id="5160d-434">These files can then be committed toosource repository without exposing any secrets.</span></span>

## <a name="summary"></a><span data-ttu-id="5160d-435">Résumé</span><span class="sxs-lookup"><span data-stu-id="5160d-435">Summary</span></span>
<span data-ttu-id="5160d-436">Dans ce didacticiel, vous avez créé un Azure data factory tooprocess de données en exécutant le script Hive sur un cluster de hadoop HDInsight.</span><span class="sxs-lookup"><span data-stu-id="5160d-436">In this tutorial, you created an Azure data factory tooprocess data by running Hive script on a HDInsight hadoop cluster.</span></span> <span data-ttu-id="5160d-437">Vous avez utilisé hello éditeur Data Factory dans Bonjour Azure toodo portail Bonjour comme suit :</span><span class="sxs-lookup"><span data-stu-id="5160d-437">You used hello Data Factory Editor in hello Azure portal toodo hello following steps:</span></span>  

1. <span data-ttu-id="5160d-438">Création d’une **fabrique de données**Azure.</span><span class="sxs-lookup"><span data-stu-id="5160d-438">Created an Azure **data factory**.</span></span>
2. <span data-ttu-id="5160d-439">Création de deux **services liés**:</span><span class="sxs-lookup"><span data-stu-id="5160d-439">Created two **linked services**:</span></span>
   1. <span data-ttu-id="5160d-440">**Le stockage Azure** lié service toolink votre stockage d’objets blob Azure qui contient la fabrique de données toohello les fichiers d’entrée/sortie.</span><span class="sxs-lookup"><span data-stu-id="5160d-440">**Azure Storage** linked service toolink your Azure blob storage that holds input/output files toohello data factory.</span></span>
   2. <span data-ttu-id="5160d-441">**Azure HDInsight** à la demande liée service toolink une fabrique de données à la demande HDInsight Hadoop cluster toohello.</span><span class="sxs-lookup"><span data-stu-id="5160d-441">**Azure HDInsight** on-demand linked service toolink an on-demand HDInsight Hadoop cluster toohello data factory.</span></span> <span data-ttu-id="5160d-442">Azure Data Factory crée un HDInsight Hadoop données d’entrée de cluster juste-à-temps tooprocess et générer les données de sortie.</span><span class="sxs-lookup"><span data-stu-id="5160d-442">Azure Data Factory creates a HDInsight Hadoop cluster just-in-time tooprocess input data and produce output data.</span></span>
3. <span data-ttu-id="5160d-443">Créé deux **jeux de données**, qui décrivent les données d’entrée et de sortie pour l’activité HDInsight Hive dans le pipeline de hello.</span><span class="sxs-lookup"><span data-stu-id="5160d-443">Created two **datasets**, which describe input and output data for HDInsight Hive activity in hello pipeline.</span></span>
4. <span data-ttu-id="5160d-444">Création d’un **pipeline** avec une activité **Hive HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="5160d-444">Created a **pipeline** with a **HDInsight Hive** activity.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="5160d-445">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="5160d-445">Next Steps</span></span>
<span data-ttu-id="5160d-446">Dans cet article, vous avez créé un pipeline avec une activité de transformation (Activité HDInsight) qui exécute un script Hive sur un cluster HDInsight à la demande.</span><span class="sxs-lookup"><span data-stu-id="5160d-446">In this article, you have created a pipeline with a transformation activity (HDInsight Activity) that runs a Hive script on an on-demand HDInsight cluster.</span></span> <span data-ttu-id="5160d-447">toosee toouse un activité de copie toocopy des données d’une tooAzure d’objets Blob Azure SQL, voir [didacticiel : copier des données à partir d’un tooAzure d’objets blob Azure SQL](data-factory-copy-data-from-azure-blob-storage-to-sql-database.md).</span><span class="sxs-lookup"><span data-stu-id="5160d-447">toosee how toouse a Copy Activity toocopy data from an Azure Blob tooAzure SQL, see [Tutorial: Copy data from an Azure blob tooAzure SQL](data-factory-copy-data-from-azure-blob-storage-to-sql-database.md).</span></span>

<span data-ttu-id="5160d-448">Vous pouvez chaîner les deux activités (exécutée une activité après l’autre) en définissant le dataset de sortie hello d’une activité hello d’entrée dataset Hello autre activité.</span><span class="sxs-lookup"><span data-stu-id="5160d-448">You can chain two activities (run one activity after another) by setting hello output dataset of one activity as hello input dataset of hello other activity.</span></span> <span data-ttu-id="5160d-449">Pour plus d’informations, voir [Planification et exécution dans Data Factory](data-factory-scheduling-and-execution.md).</span><span class="sxs-lookup"><span data-stu-id="5160d-449">See [Scheduling and execution in Data Factory](data-factory-scheduling-and-execution.md) for detailed information.</span></span> 


## <a name="see-also"></a><span data-ttu-id="5160d-450">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="5160d-450">See Also</span></span>
| <span data-ttu-id="5160d-451">Rubrique</span><span class="sxs-lookup"><span data-stu-id="5160d-451">Topic</span></span> | <span data-ttu-id="5160d-452">Description</span><span class="sxs-lookup"><span data-stu-id="5160d-452">Description</span></span> |
|:--- |:--- |
| [<span data-ttu-id="5160d-453">Pipelines</span><span class="sxs-lookup"><span data-stu-id="5160d-453">Pipelines</span></span>](data-factory-create-pipelines.md) |<span data-ttu-id="5160d-454">Cet article vous aidera à comprendre les pipelines et les activités dans Azure Data Factory et comment toouse les tooconstruct flux de travail pilotés par les données pour votre entreprise ou votre scénario.</span><span class="sxs-lookup"><span data-stu-id="5160d-454">This article helps you understand pipelines and activities in Azure Data Factory and how toouse them tooconstruct data-driven workflows for your scenario or business.</span></span> |
| [<span data-ttu-id="5160d-455">Groupes de données</span><span class="sxs-lookup"><span data-stu-id="5160d-455">Datasets</span></span>](data-factory-create-datasets.md) |<span data-ttu-id="5160d-456">Cet article vous aide à comprendre les jeux de données dans Azure Data Factory.</span><span class="sxs-lookup"><span data-stu-id="5160d-456">This article helps you understand datasets in Azure Data Factory.</span></span> |
| [<span data-ttu-id="5160d-457">Activités de transformation des données</span><span class="sxs-lookup"><span data-stu-id="5160d-457">Data Transformation Activities</span></span>](data-factory-data-transformation-activities.md) |<span data-ttu-id="5160d-458">Cet article fournit une liste des activités de transformation de données (par exemple, la transformation Hive HDInsight que vous avez utilisée dans ce didacticiel) prises en charge par Azure Data Factory.</span><span class="sxs-lookup"><span data-stu-id="5160d-458">This article provides a list of data transformation activities (such as HDInsight Hive transformation you used in this tutorial) supported by Azure Data Factory.</span></span> |
| [<span data-ttu-id="5160d-459">Planification et exécution</span><span class="sxs-lookup"><span data-stu-id="5160d-459">Scheduling and execution</span></span>](data-factory-scheduling-and-execution.md) |<span data-ttu-id="5160d-460">Cet article explique les aspects de planification et l’exécution de hello du modèle d’application Azure Data Factory.</span><span class="sxs-lookup"><span data-stu-id="5160d-460">This article explains hello scheduling and execution aspects of Azure Data Factory application model.</span></span> |
| [<span data-ttu-id="5160d-461">Surveiller et gérer les pipelines Azure Data Factory à l’aide de la nouvelle application de surveillance et gestion.</span><span class="sxs-lookup"><span data-stu-id="5160d-461">Monitor and manage pipelines using Monitoring App</span></span>](data-factory-monitor-manage-app.md) |<span data-ttu-id="5160d-462">Cet article décrit comment toomonitor, gérer et déboguer des pipelines à l’aide de hello analyse & application de gestion.</span><span class="sxs-lookup"><span data-stu-id="5160d-462">This article describes how toomonitor, manage, and debug pipelines using hello Monitoring & Management App.</span></span> |
