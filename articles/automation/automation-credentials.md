---
title: ressources aaaCredential dans Azure Automation | Documents Microsoft
description: "Ressources d’informations d’identification dans Azure Automation contiennent des informations d’identification de sécurité qui peuvent être tooresources tooauthenticate utilisé accessibles par hello runbook ou la configuration DSC. Cet article décrit comment toocreate actifs des informations d’identification et les utiliser dans un runbook ou la configuration DSC."
services: automation
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 3209bf73-c208-425e-82b6-df49860546dd
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/14/2017
ms.author: bwren
ms.openlocfilehash: 46f23a8f79d5863265af9cf84f6003e30f8e7d39
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="credential-assets-in-azure-automation"></a><span data-ttu-id="d537e-104">Ressources d’informations d’identification dans Azure Automation</span><span class="sxs-lookup"><span data-stu-id="d537e-104">Credential assets in Azure Automation</span></span>
<span data-ttu-id="d537e-105">Une ressource d’informations d’identification Automation conserve un objet [PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential) qui contient les informations d’identification de sécurité comme un nom d’utilisateur et un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="d537e-105">An Automation credential asset holds a [PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential)  object which contains security credentials such as a username and password.</span></span> <span data-ttu-id="d537e-106">Configurations DSC et de procédures opérationnelles peuvent utiliser les applets de commande qui acceptent un objet PSCredential pour l’authentification, ou ils peuvent extraire le nom d’utilisateur hello et le mot Hello application de toosome tooprovide PSCredential objet ou service qui requiert l’authentification.</span><span class="sxs-lookup"><span data-stu-id="d537e-106">Runbooks and DSC configurations may use cmdlets that accept a PSCredential object for authentication, or they may extract hello username and password of hello PSCredential object tooprovide toosome application or service requiring authentication.</span></span> <span data-ttu-id="d537e-107">propriétés de Hello pour les informations d’identification sont stockées de manière sécurisée dans Azure Automation et sont accessibles dans les runbook hello ou la configuration DSC avec hello [Get-AutomationPSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) activité.</span><span class="sxs-lookup"><span data-stu-id="d537e-107">hello properties for a credential are stored securely in Azure Automation and can be accessed in hello runbook or DSC configuration with hello [Get-AutomationPSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) activity.</span></span>

> [!NOTE]
> <span data-ttu-id="d537e-108">Les ressources sécurisées dans Azure Automation incluent les informations d'identification, les certificats, les connexions et les variables chiffrées.</span><span class="sxs-lookup"><span data-stu-id="d537e-108">Secure assets in Azure Automation include credentials, certificates, connections, and encrypted variables.</span></span> <span data-ttu-id="d537e-109">Ces ressources sont chiffrées et stockées Bonjour Azure Automation à l’aide d’une clé unique qui est générée pour chaque compte automation.</span><span class="sxs-lookup"><span data-stu-id="d537e-109">These assets are encrypted and stored in hello Azure Automation using a unique key that is generated for each automation account.</span></span> <span data-ttu-id="d537e-110">Cette clé est chiffrée par un certificat principal et stockée dans Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="d537e-110">This key is encrypted by a master certificate and stored in Azure Automation.</span></span> <span data-ttu-id="d537e-111">Avant de stocker une ressource sécurisée, clé hello pour le compte d’automatisation hello est déchiffré à l’aide du certificat master de hello, puis utilisé asset de hello tooencrypt.</span><span class="sxs-lookup"><span data-stu-id="d537e-111">Before storing a secure asset, hello key for hello automation account is decrypted using hello master certificate and then used tooencrypt hello asset.</span></span>  

## <a name="windows-powershell-cmdlets"></a><span data-ttu-id="d537e-112">Applets de commande Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="d537e-112">Windows PowerShell cmdlets</span></span>
<span data-ttu-id="d537e-113">applets de commande Hello Bonjour tableau suivant sont utilisée toocreate et gérer des ressources d’informations d’identification automation avec Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="d537e-113">hello cmdlets in hello following table are used toocreate and manage automation credential assets with Windows PowerShell.</span></span>  <span data-ttu-id="d537e-114">Elles font partie de hello [module Azure PowerShell](/powershell/azure/overview) qui est disponible pour une utilisation dans les runbooks Automation et les configurations DSC.</span><span class="sxs-lookup"><span data-stu-id="d537e-114">They ship as part of hello [Azure PowerShell module](/powershell/azure/overview) which is available for use in Automation runbooks and DSC configurations.</span></span>

| <span data-ttu-id="d537e-115">Applets de commande</span><span class="sxs-lookup"><span data-stu-id="d537e-115">Cmdlets</span></span> | <span data-ttu-id="d537e-116">Description</span><span class="sxs-lookup"><span data-stu-id="d537e-116">Description</span></span> |
|:--- |:--- |
| [<span data-ttu-id="d537e-117">Get-AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="d537e-117">Get-AzureAutomationCredential</span></span>](/powershell/module/azure/get-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="d537e-118">Récupère des informations sur une ressource d’informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="d537e-118">Retrieves information about a credential asset.</span></span> <span data-ttu-id="d537e-119">Vous pouvez uniquement récupérer des informations d’identification hello lui-même à partir de **Get-AutomationPSCredential** activité.</span><span class="sxs-lookup"><span data-stu-id="d537e-119">You can only retrieve hello credential itself from **Get-AutomationPSCredential** activity.</span></span> |
| [<span data-ttu-id="d537e-120">New-AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="d537e-120">New-AzureAutomationCredential</span></span>](/powershell/module/azure/new-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="d537e-121">Crée de nouvelles informations d’identification Automation.</span><span class="sxs-lookup"><span data-stu-id="d537e-121">Creates a new Automation credential.</span></span> |
| [<span data-ttu-id="d537e-122">Remove- AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="d537e-122">Remove- AzureAutomationCredential</span></span>](/powershell/module/azure/new-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="d537e-123">Supprime des informations d’identification Automation.</span><span class="sxs-lookup"><span data-stu-id="d537e-123">Removes an Automation credential.</span></span> |
| [<span data-ttu-id="d537e-124">Set- AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="d537e-124">Set- AzureAutomationCredential</span></span>](/powershell/module/azure/new-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="d537e-125">Jeux de hello des propriétés pour les informations d’identification Automation existantes.</span><span class="sxs-lookup"><span data-stu-id="d537e-125">Sets hello properties for an existing Automation credential.</span></span> |

## <a name="runbook-activities"></a><span data-ttu-id="d537e-126">Activités de Runbook</span><span class="sxs-lookup"><span data-stu-id="d537e-126">Runbook activities</span></span>
<span data-ttu-id="d537e-127">activités Hello Bonjour tableau suivant sont des informations d’identification de tooaccess utilisés dans un runbook et les configurations DSC.</span><span class="sxs-lookup"><span data-stu-id="d537e-127">hello activities in hello following table are used tooaccess credentials in a runbook and DSC configurations.</span></span>

| <span data-ttu-id="d537e-128">Activités</span><span class="sxs-lookup"><span data-stu-id="d537e-128">Activities</span></span> | <span data-ttu-id="d537e-129">Description</span><span class="sxs-lookup"><span data-stu-id="d537e-129">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="d537e-130">Get-AutomationPSCredential</span><span class="sxs-lookup"><span data-stu-id="d537e-130">Get-AutomationPSCredential</span></span> |<span data-ttu-id="d537e-131">Obtient un toouse d’informations d’identification dans un runbook ou la configuration DSC.</span><span class="sxs-lookup"><span data-stu-id="d537e-131">Gets a credential toouse in a runbook or DSC configuration.</span></span> <span data-ttu-id="d537e-132">Renvoie un objet [System.Management.Automation.PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential) .</span><span class="sxs-lookup"><span data-stu-id="d537e-132">Returns a [System.Management.Automation.PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential) object.</span></span> |

> [!NOTE]
> <span data-ttu-id="d537e-133">Vous devez éviter d’utiliser des variables dans hello – paramètre Name de Get-AutomationPSCredential car cela peut compliquer la découverte des dépendances entre les runbooks et les configurations DSC et ressources des informations d’identification au moment du design.</span><span class="sxs-lookup"><span data-stu-id="d537e-133">You should avoid using variables in hello –Name parameter of Get-AutomationPSCredential since this can complicate discovering dependencies between runbooks or DSC configurations, and credential assets at design time.</span></span>
> 
> 

## <a name="creating-a-new-credential-asset"></a><span data-ttu-id="d537e-134">Création d’une ressource d’informations d’identification</span><span class="sxs-lookup"><span data-stu-id="d537e-134">Creating a new credential asset</span></span>

### <a name="toocreate-a-new-credential-asset-with-hello-azure-portal"></a><span data-ttu-id="d537e-135">toocreate un élément multimédia d’informations d’identification avec hello portail Azure</span><span class="sxs-lookup"><span data-stu-id="d537e-135">toocreate a new credential asset with hello Azure portal</span></span>
1. <span data-ttu-id="d537e-136">À partir de votre compte automation, cliquez sur hello **actifs** partie tooopen hello **actifs** panneau.</span><span class="sxs-lookup"><span data-stu-id="d537e-136">From your automation account, click hello **Assets** part tooopen hello **Assets** blade.</span></span>
2. <span data-ttu-id="d537e-137">Cliquez sur hello **informations d’identification** partie tooopen hello **informations d’identification** panneau.</span><span class="sxs-lookup"><span data-stu-id="d537e-137">Click hello **Credentials** part tooopen hello **Credentials** blade.</span></span>
3. <span data-ttu-id="d537e-138">Cliquez sur **ajouter les informations d’identification** haut hello du Panneau de hello.</span><span class="sxs-lookup"><span data-stu-id="d537e-138">Click **Add a credential** at hello top of hello blade.</span></span>
4. <span data-ttu-id="d537e-139">Complétez le formulaire de hello et cliquez sur **créer** toosave hello de nouvelles informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="d537e-139">Complete hello form and click **Create** toosave hello new credential.</span></span>

### <a name="toocreate-a-new-credential-asset-with-windows-powershell"></a><span data-ttu-id="d537e-140">toocreate un élément multimédia d’informations d’identification avec Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="d537e-140">toocreate a new credential asset with Windows PowerShell</span></span>
<span data-ttu-id="d537e-141">Hello exemples de commandes suivants montrent comment toocreate une automation de nouvelles informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="d537e-141">hello following sample commands show how toocreate a new automation credential.</span></span> <span data-ttu-id="d537e-142">Un objet PSCredential est d’abord créé avec un mot de passe et nom de hello et ensuite utilisé actif d’informations d’identification toocreate hello.</span><span class="sxs-lookup"><span data-stu-id="d537e-142">A PSCredential object is first created with hello name and password and then used toocreate hello credential asset.</span></span> <span data-ttu-id="d537e-143">Vous pouvez également utiliser hello **Get-Credential** toobe de l’applet de commande invité tootype dans un nom et un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="d537e-143">Alternatively, you could use hello **Get-Credential** cmdlet toobe prompted tootype in a name and password.</span></span>

    $user = "MyDomain\MyUser"
    $pw = ConvertTo-SecureString "PassWord!" -AsPlainText -Force
    $cred = New-Object –TypeName System.Management.Automation.PSCredential –ArgumentList $user, $pw
    New-AzureAutomationCredential -AutomationAccountName "MyAutomationAccount" -Name "MyCredential" -Value $cred

### <a name="toocreate-a-new-credential-asset-with-hello-azure-classic-portal"></a><span data-ttu-id="d537e-144">toocreate un élément multimédia d’informations d’identification avec hello portail Azure classic</span><span class="sxs-lookup"><span data-stu-id="d537e-144">toocreate a new credential asset with hello Azure classic portal</span></span>
1. <span data-ttu-id="d537e-145">À partir de votre compte automation, cliquez sur **actifs** haut hello de fenêtre hello.</span><span class="sxs-lookup"><span data-stu-id="d537e-145">From your automation account, click **Assets** at hello top of hello window.</span></span>
2. <span data-ttu-id="d537e-146">Au bas de hello de fenêtre hello, cliquez sur **ajouter un paramètre**.</span><span class="sxs-lookup"><span data-stu-id="d537e-146">At hello bottom of hello window, click **Add Setting**.</span></span>
3. <span data-ttu-id="d537e-147">Cliquez sur **Ajouter les informations d’identification**.</span><span class="sxs-lookup"><span data-stu-id="d537e-147">Click **Add Credential**.</span></span>
4. <span data-ttu-id="d537e-148">Bonjour **Type d’informations d’identification** liste déroulante, sélectionnez **informations d’identification PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="d537e-148">In hello **Credential Type** dropdown, select **PowerShell Credential**.</span></span>
5. <span data-ttu-id="d537e-149">Assistant de hello et cliquez sur hello case à cocher toosave hello nouvelles informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="d537e-149">Complete hello wizard and click hello checkbox toosave hello new credential.</span></span>

## <a name="using-a-powershell-credential"></a><span data-ttu-id="d537e-150">Utilisation des informations d’identification PowerShell</span><span class="sxs-lookup"><span data-stu-id="d537e-150">Using a PowerShell credential</span></span>
<span data-ttu-id="d537e-151">Vous récupérez une ressource d’informations d’identification dans un runbook ou la configuration DSC hello **Get-AutomationPSCredential** activité.</span><span class="sxs-lookup"><span data-stu-id="d537e-151">You retrieve a credential asset in a runbook or DSC configuration with hello **Get-AutomationPSCredential** activity.</span></span> <span data-ttu-id="d537e-152">Cette propriété renvoie un [objet PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) que vous pouvez utiliser avec une activité ou une applet de commande nécessitant un paramètre PSCredential.</span><span class="sxs-lookup"><span data-stu-id="d537e-152">This returns a [PSCredential object](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) that you can use with an activity or cmdlet that requires a PSCredential parameter.</span></span> <span data-ttu-id="d537e-153">Vous pouvez également récupérer des propriétés hello de hello d’informations d’identification objet toouse individuellement.</span><span class="sxs-lookup"><span data-stu-id="d537e-153">You can also retrieve hello properties of hello credential object toouse individually.</span></span> <span data-ttu-id="d537e-154">objet Hello possède une propriété de nom d’utilisateur hello et le mot de passe sécurisé hello, ou vous pouvez utiliser hello **GetNetworkCredential** méthode tooreturn un [NetworkCredential](http://msdn.microsoft.com/library/system.net.networkcredential.aspx) objet qui fournira un non sécurisé version du mot de passe hello.</span><span class="sxs-lookup"><span data-stu-id="d537e-154">hello object has a property for hello username and hello secure password, or you can use hello **GetNetworkCredential** method tooreturn a [NetworkCredential](http://msdn.microsoft.com/library/system.net.networkcredential.aspx) object that will provide an unsecured version of hello password.</span></span>

### <a name="textual-runbook-sample"></a><span data-ttu-id="d537e-155">Exemple de Runbook textuel</span><span class="sxs-lookup"><span data-stu-id="d537e-155">Textual runbook sample</span></span>
<span data-ttu-id="d537e-156">Hello exemples de commandes suivants montrent comment toouse un PowerShell des informations d’identification dans un runbook.</span><span class="sxs-lookup"><span data-stu-id="d537e-156">hello following sample commands show how toouse a PowerShell credential in a runbook.</span></span> <span data-ttu-id="d537e-157">Dans cet exemple, informations d’identification hello sont récupérée et son nom d’utilisateur et un mot de passe assigné toovariables.</span><span class="sxs-lookup"><span data-stu-id="d537e-157">In this example, hello credential is retrieved and its username and password assigned toovariables.</span></span>

    $myCredential = Get-AutomationPSCredential -Name 'MyCredential'
    $userName = $myCredential.UserName
    $securePassword = $myCredential.Password
    $password = $myCredential.GetNetworkCredential().Password


### <a name="graphical-runbook-sample"></a><span data-ttu-id="d537e-158">Exemple de Runbook graphique</span><span class="sxs-lookup"><span data-stu-id="d537e-158">Graphical runbook sample</span></span>
<span data-ttu-id="d537e-159">Vous ajoutez un **Get-AutomationPSCredential** activité tooa des runbook graphique en cliquant sur les informations d’identification hello dans le volet Bibliothèque de hello de l’éditeur graphique de hello et en sélectionnant **ajouter toocanvas**.</span><span class="sxs-lookup"><span data-stu-id="d537e-159">You add a **Get-AutomationPSCredential** activity tooa graphical runbook by right-clicking on hello credential in hello Library pane of hello graphical editor and selecting **Add toocanvas**.</span></span>

![Ajouter des informations d’identification toocanvas](media/automation-credentials/credential-add-canvas.png)

<span data-ttu-id="d537e-161">Hello image suivante montre un exemple d’utilisation des informations d’identification dans un runbook graphique.</span><span class="sxs-lookup"><span data-stu-id="d537e-161">hello following image shows an example of using a credential in a graphical runbook.</span></span>  <span data-ttu-id="d537e-162">Dans ce cas, il est en cours tooprovide utilisé l’authentification pour un runbook des ressources tooAzure comme décrit dans [Runbooks de s’authentifier avec un compte d’utilisateur Active Directory de Azure](automation-create-aduser-account.md).</span><span class="sxs-lookup"><span data-stu-id="d537e-162">In this case, it is being used tooprovide authentication for a runbook tooAzure resources as described in [Authenticate Runbooks with Azure AD User account](automation-create-aduser-account.md).</span></span>  <span data-ttu-id="d537e-163">la première activité Hello récupère les informations d’identification hello qui a accès toohello abonnement Azure.</span><span class="sxs-lookup"><span data-stu-id="d537e-163">hello first activity retrieves hello credential that has access toohello Azure subscription.</span></span>  <span data-ttu-id="d537e-164">Hello **Add-AzureAccount** activité utilise ensuite cette authentification de tooprovide d’informations d’identification pour toutes les activités qui viennent après lui.</span><span class="sxs-lookup"><span data-stu-id="d537e-164">hello **Add-AzureAccount** activity then uses this credential tooprovide authentication for any activities that come after it.</span></span>  <span data-ttu-id="d537e-165">C’est un [lien pipeline](automation-graphical-authoring-intro.md#links-and-workflow) , étant donné que **Get-AutomationPSCredential** attend un objet unique.</span><span class="sxs-lookup"><span data-stu-id="d537e-165">A [pipeline link](automation-graphical-authoring-intro.md#links-and-workflow) is here since **Get-AutomationPSCredential** is expecting a single object.</span></span>  

![Ajouter des informations d’identification toocanvas](media/automation-credentials/get-credential.png)

## <a name="using-a-powershell-credential-in-dsc"></a><span data-ttu-id="d537e-167">Utilisation des informations d’identification PowerShell dans une configuration DSC</span><span class="sxs-lookup"><span data-stu-id="d537e-167">Using a PowerShell credential in DSC</span></span>
<span data-ttu-id="d537e-168">Bien que les configurations DSC dans Azure Automation puissent se rapporter à des ressources d’informations d’identification utilisant **Get-AutomationPSCredential**, les ressources d’information d’identification peuvent également transmises via des paramètres, si vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="d537e-168">While DSC configurations in Azure Automation can reference credential assets using **Get-AutomationPSCredential**, credential assets can also be passed in via parameters, if desired.</span></span> <span data-ttu-id="d537e-169">Pour plus d’informations, consultez [Compilation de configurations dans Azure Automation DSC](automation-dsc-compile.md#credential-assets).</span><span class="sxs-lookup"><span data-stu-id="d537e-169">For more information, see [Compiling configurations in Azure Automation DSC](automation-dsc-compile.md#credential-assets).</span></span>

## <a name="next-steps"></a><span data-ttu-id="d537e-170">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="d537e-170">Next Steps</span></span>
* <span data-ttu-id="d537e-171">toolearn en savoir plus sur les liens dans le graphique de création, consultez [liens dans le graphique de création](automation-graphical-authoring-intro.md#links-and-workflow)</span><span class="sxs-lookup"><span data-stu-id="d537e-171">toolearn more about links in graphical authoring, see [Links in graphical authoring](automation-graphical-authoring-intro.md#links-and-workflow)</span></span>
* <span data-ttu-id="d537e-172">toounderstand hello différentes méthodes d’authentification avec l’Automation, consultez [de sécurité Azure Automation](automation-security-overview.md)</span><span class="sxs-lookup"><span data-stu-id="d537e-172">toounderstand hello different authentication methods with Automation, see [Azure Automation Security](automation-security-overview.md)</span></span>
* <span data-ttu-id="d537e-173">tooget main runbooks graphiques, consultez [mon premier runbook graphique](automation-first-runbook-graphical.md)</span><span class="sxs-lookup"><span data-stu-id="d537e-173">tooget started with Graphical runbooks, see [My first graphical runbook](automation-first-runbook-graphical.md)</span></span>
* <span data-ttu-id="d537e-174">tooget a démarré avec des runbooks de flux de travail PowerShell, consultez [mon premier runbook de flux de travail PowerShell](automation-first-runbook-textual.md)</span><span class="sxs-lookup"><span data-stu-id="d537e-174">tooget started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span> 

