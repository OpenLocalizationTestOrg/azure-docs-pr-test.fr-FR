---
title: "Gestion des données Azure Automation | Microsoft Docs"
description: "Cet article contient plusieurs rubriques concernant la gestion d’un environnement Azure Automation.  Il inclut actuellement Conservation des données, Sauvegarde Azure Automation et Récupération d'urgence dans Azure Automation."
services: automation
documentationcenter: 
author: mgoedtel
manager: stevenka
editor: tysonn
ms.assetid: 2896f129-82e3-43ce-b9ee-a3860be0423a
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 06/02/201
ms.author: magoedte;bwren;sngun
ms.openlocfilehash: 92893edc4e02de148f6585e83c6861fd751401bb
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="managing-azure-automation-data"></a><span data-ttu-id="39120-104">Gestion des données Azure Automation</span><span class="sxs-lookup"><span data-stu-id="39120-104">Managing Azure Automation data</span></span>
<span data-ttu-id="39120-105">Cet article contient plusieurs rubriques concernant la gestion d’un environnement Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="39120-105">This article contains multiple topics for managing an Azure Automation environment.</span></span>

## <a name="data-retention"></a><span data-ttu-id="39120-106">Conservation des données</span><span class="sxs-lookup"><span data-stu-id="39120-106">Data retention</span></span>
<span data-ttu-id="39120-107">Lorsque vous supprimez une ressource dans Azure Automation, elle est conservée pendant 90 jours à des fins d’audit avant d’être supprimée définitivement.</span><span class="sxs-lookup"><span data-stu-id="39120-107">When you delete a resource in Azure Automation, it is retained for 90 days for auditing purposes before being removed permanently.</span></span>  <span data-ttu-id="39120-108">Vous ne pouvez ni voir ni utiliser la ressource pendant cette période.</span><span class="sxs-lookup"><span data-stu-id="39120-108">You can’t see or use the resource during this time.</span></span>  <span data-ttu-id="39120-109">Cette stratégie vaut aussi pour les ressources qui appartiennent à un compte Automation supprimé.</span><span class="sxs-lookup"><span data-stu-id="39120-109">This policy also applies to resources that belong to an automation account that is deleted.</span></span>

<span data-ttu-id="39120-110">Azure Automation supprime automatiquement et définitivement les tâches de plus de 90 jours.</span><span class="sxs-lookup"><span data-stu-id="39120-110">Azure Automation automatically deletes and permanently removes jobs older than 90 days.</span></span>

<span data-ttu-id="39120-111">Le tableau suivant récapitule la stratégie de rétention pour les différentes ressources.</span><span class="sxs-lookup"><span data-stu-id="39120-111">The following table summarizes the retention policy for different resources.</span></span>

| <span data-ttu-id="39120-112">Données</span><span class="sxs-lookup"><span data-stu-id="39120-112">Data</span></span> | <span data-ttu-id="39120-113">Stratégie</span><span class="sxs-lookup"><span data-stu-id="39120-113">Policy</span></span> |
|:--- |:--- |
| <span data-ttu-id="39120-114">Comptes</span><span class="sxs-lookup"><span data-stu-id="39120-114">Accounts</span></span> |<span data-ttu-id="39120-115">Supprimés définitivement 90 jours après leur suppression par un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="39120-115">Permanently removed 90 days after the account is deleted by a user.</span></span> |
| <span data-ttu-id="39120-116">Éléments multimédias</span><span class="sxs-lookup"><span data-stu-id="39120-116">Assets</span></span> |<span data-ttu-id="39120-117">Supprimés définitivement 90 jours après suppression des éléments multimédias par un utilisateur ou 90 jours après la suppression par un utilisateur du compte qui contient l’élément multimédia.</span><span class="sxs-lookup"><span data-stu-id="39120-117">Permanently removed 90 days after the asset is deleted by a user, or 90 days after the account that holds the asset is deleted by a user.</span></span> |
| <span data-ttu-id="39120-118">Modules</span><span class="sxs-lookup"><span data-stu-id="39120-118">Modules</span></span> |<span data-ttu-id="39120-119">Supprimés définitivement 90 jours après suppression du module par un utilisateur ou 90 jours après la suppression par un utilisateur du compte qui contient le module.</span><span class="sxs-lookup"><span data-stu-id="39120-119">Permanently removed 90 days after the module is deleted by a user, or 90 days after the account that holds the module is deleted by a user.</span></span> |
| <span data-ttu-id="39120-120">Runbooks</span><span class="sxs-lookup"><span data-stu-id="39120-120">Runbooks</span></span> |<span data-ttu-id="39120-121">Supprimés définitivement 90 jours après suppression de la ressource par un utilisateur ou 90 jours après la suppression par un utilisateur du compte qui contient la ressource.</span><span class="sxs-lookup"><span data-stu-id="39120-121">Permanently removed 90 days after the resource is deleted by a user, or 90 days after the account that holds the resource is deleted by a user.</span></span> |
| <span data-ttu-id="39120-122">Travaux</span><span class="sxs-lookup"><span data-stu-id="39120-122">Jobs</span></span> |<span data-ttu-id="39120-123">Effacés et supprimés définitivement 90 jours après la dernière modification.</span><span class="sxs-lookup"><span data-stu-id="39120-123">Deleted and permanently removed 90 days after last being modified.</span></span> <span data-ttu-id="39120-124">Cela peut avoir lieu après la fin du travail, son arrêt ou sa suspension.</span><span class="sxs-lookup"><span data-stu-id="39120-124">This could be after the job completes, is stopped, or is suspended.</span></span> |
| <span data-ttu-id="39120-125">Configurations de nœud/fichiers MOF</span><span class="sxs-lookup"><span data-stu-id="39120-125">Node Configurations/MOF Files</span></span> |<span data-ttu-id="39120-126">L’ancienne configuration de nœud est supprimée définitivement 90 jours après la génération d'une nouvelle configuration de nœud.</span><span class="sxs-lookup"><span data-stu-id="39120-126">Old node configuration is permanently removed 90 days after a new node configuration is generated.</span></span> |
| <span data-ttu-id="39120-127">Nœuds DSC</span><span class="sxs-lookup"><span data-stu-id="39120-127">DSC Nodes</span></span> |<span data-ttu-id="39120-128">Supprimés définitivement 90 jours après l’annulation de l’enregistrement du nœud dans le compte Automation à l'aide du portail Azure ou de l’applet de commande Windows PowerShell [Unregister-AzureRMAutomationDscNode](https://msdn.microsoft.com/library/mt603500.aspx) .</span><span class="sxs-lookup"><span data-stu-id="39120-128">Permanently removed 90 days after the node is unregistered from Automation Account using Azure portal or the [Unregister-AzureRMAutomationDscNode](https://msdn.microsoft.com/library/mt603500.aspx) cmdlet in Windows PowerShell.</span></span> <span data-ttu-id="39120-129">Les nœuds sont également supprimés définitivement 90 jours après la suppression du compte comprenant le nœud par un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="39120-129">Nodes are also permanently removed 90 days after the account that holds the node is deleted by a user.</span></span> |
| <span data-ttu-id="39120-130">Rapports sur le nœud</span><span class="sxs-lookup"><span data-stu-id="39120-130">Node Reports</span></span> |<span data-ttu-id="39120-131">Supprimés définitivement 90 jours après la création d'un nouveau rapport pour le nœud en question.</span><span class="sxs-lookup"><span data-stu-id="39120-131">Permanently removed 90 days after a new report is generated for that node</span></span> |

<span data-ttu-id="39120-132">La stratégie de rétention s’applique à tous les utilisateurs et ne peut actuellement pas être personnalisée.</span><span class="sxs-lookup"><span data-stu-id="39120-132">The retention policy applies to all users and currently cannot be customized.</span></span>

<span data-ttu-id="39120-133">Toutefois, si vous souhaitez conserver les données pendant une période plus longue, vous pouvez transférer les journaux de travail de runbook vers Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="39120-133">However, if you need to retain data for a longer period of time, you can forward runbook job logs to Log Analytics.</span></span>  <span data-ttu-id="39120-134">Pour plus d’informations, consultez [Transférer l’état d’un travail et des flux de travail d’Automation vers Log Analytics (OMS)](automation-manage-send-joblogs-log-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="39120-134">For further information, review [forward Azure Automation job data to OMS Log Analytics](automation-manage-send-joblogs-log-analytics.md).</span></span>   

## <a name="backing-up-azure-automation"></a><span data-ttu-id="39120-135">Sauvegarde d’Azure Automation</span><span class="sxs-lookup"><span data-stu-id="39120-135">Backing up Azure Automation</span></span>
<span data-ttu-id="39120-136">Lorsque vous supprimez un compte Automation dans Microsoft Azure, tous les objets du compte sont supprimés, notamment les Runbooks, les modules, les configurations, les paramètres, les tâches et les éléments multimédia.</span><span class="sxs-lookup"><span data-stu-id="39120-136">When you delete an automation account in Microsoft Azure, all objects in the account are deleted including runbooks, modules, configurations, settings, jobs, and assets.</span></span> <span data-ttu-id="39120-137">Il est impossible de récupérer les objets une fois que le compte a été supprimé.</span><span class="sxs-lookup"><span data-stu-id="39120-137">The objects cannot be recovered after the account is deleted.</span></span>  <span data-ttu-id="39120-138">Vous pouvez utiliser les informations suivantes pour sauvegarder le contenu de votre compte Automation avant de le supprimer.</span><span class="sxs-lookup"><span data-stu-id="39120-138">You can use the following information to backup the contents of your automation account before deleting it.</span></span> 

### <a name="runbooks"></a><span data-ttu-id="39120-139">Runbooks</span><span class="sxs-lookup"><span data-stu-id="39120-139">Runbooks</span></span>
<span data-ttu-id="39120-140">Vous pouvez exporter vos Runbooks vers vos fichiers de script en utilisant soit le portail de gestion Azure, soit l’applet de commande [Get-AzureAutomationRunbookDefinition](https://msdn.microsoft.com/library/dn690269.aspx) dans Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="39120-140">You can export your runbooks to script files using either the Azure Management Portal or the [Get-AzureAutomationRunbookDefinition](https://msdn.microsoft.com/library/dn690269.aspx) cmdlet in Windows PowerShell.</span></span>  <span data-ttu-id="39120-141">Ces fichiers de script peuvent être importés dans un autre compte Automation, comme indiqué dans l’article [Création ou importation d'un Runbook](https://msdn.microsoft.com/library/dn643637.aspx).</span><span class="sxs-lookup"><span data-stu-id="39120-141">These script files can be imported into another automation account as discussed in [Creating or Importing a Runbook](https://msdn.microsoft.com/library/dn643637.aspx).</span></span>

### <a name="integration-modules"></a><span data-ttu-id="39120-142">Modules d'intégration</span><span class="sxs-lookup"><span data-stu-id="39120-142">Integration modules</span></span>
<span data-ttu-id="39120-143">Vous ne pouvez pas exporter les modules d'intégration depuis Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="39120-143">You cannot export integration modules from Azure Automation.</span></span>  <span data-ttu-id="39120-144">Vous devez vous assurer qu'ils sont disponibles à l'extérieur du compte Automation.</span><span class="sxs-lookup"><span data-stu-id="39120-144">You must ensure that they are available outside of the automation account.</span></span>

### <a name="assets"></a><span data-ttu-id="39120-145">Éléments multimédias</span><span class="sxs-lookup"><span data-stu-id="39120-145">Assets</span></span>
<span data-ttu-id="39120-146">Vous ne pouvez pas exporter d’ [éléments](https://msdn.microsoft.com/library/dn939988.aspx) depuis Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="39120-146">You cannot export [assets](https://msdn.microsoft.com/library/dn939988.aspx) from Azure Automation.</span></span>  <span data-ttu-id="39120-147">À l'aide du portail de gestion Azure, vous devez noter les détails des variables, des informations d'identification, des certificats, des connexions et des planifications.</span><span class="sxs-lookup"><span data-stu-id="39120-147">Using the Azure Management Portal, you must note the details of variables, credentials, certificates, connections, and schedules.</span></span>  <span data-ttu-id="39120-148">Vous devez ensuite créer manuellement les ressources qui seront utilisées par les Runbooks que vous importerez dans une autre Automation.</span><span class="sxs-lookup"><span data-stu-id="39120-148">You must then manually create any assets that are used by runbooks that you import into another automation.</span></span>

<span data-ttu-id="39120-149">Vous pouvez utiliser les [applets de commande Azure](https://msdn.microsoft.com/library/dn690262.aspx) pour récupérer les détails des éléments non chiffrés et les enregistrer pour vous y reporter ultérieurement ou créer des éléments équivalents dans un autre compte Automation.</span><span class="sxs-lookup"><span data-stu-id="39120-149">You can use [Azure cmdlets](https://msdn.microsoft.com/library/dn690262.aspx) to retrieve details of unencrypted assets and either save them for future reference or create equivalent assets in another automation account.</span></span>

<span data-ttu-id="39120-150">Il est impossible de récupérer la valeur des variables chiffrées ou du champ du mot de passe des informations d'identification en utilisant les applets de commande.</span><span class="sxs-lookup"><span data-stu-id="39120-150">You cannot retrieve the value for encrypted variables or the password field of credentials using cmdlets.</span></span>  <span data-ttu-id="39120-151">Si vous ne connaissez pas ces valeurs, vous pouvez les récupérer à partir d’un Runbook en utilisant les activités [Get-AutomationVariable](https://msdn.microsoft.com/library/dn940012.aspx) et [Get-AutomationPSCredential](https://msdn.microsoft.com/library/dn940015.aspx).</span><span class="sxs-lookup"><span data-stu-id="39120-151">If you don't know these values, then you can retrieve them from a runbook using the [Get-AutomationVariable](https://msdn.microsoft.com/library/dn940012.aspx) and [Get-AutomationPSCredential](https://msdn.microsoft.com/library/dn940015.aspx) activities.</span></span>

<span data-ttu-id="39120-152">Vous ne pouvez pas exporter de certificats depuis Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="39120-152">You cannot export certificates from Azure Automation.</span></span>  <span data-ttu-id="39120-153">Vous devez vous assurer que tous les certificats sont disponibles en dehors d'Azure.</span><span class="sxs-lookup"><span data-stu-id="39120-153">You must ensure that any certificates are available outside of Azure.</span></span>

### <a name="dsc-configurations"></a><span data-ttu-id="39120-154">Configurations DSC</span><span class="sxs-lookup"><span data-stu-id="39120-154">DSC configurations</span></span>
<span data-ttu-id="39120-155">Vous pouvez exporter vos configurations vers vos fichiers de script en utilisant soit le portail de gestion Azure, soit l'applet de commande [Export-AzureRmAutomationDscConfiguration](https://msdn.microsoft.com/library/mt603485.aspx) dans Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="39120-155">You can export your configurations to script files using either the Azure Management Portal or the [Export-AzureRmAutomationDscConfiguration](https://msdn.microsoft.com/library/mt603485.aspx) cmdlet in Windows PowerShell.</span></span> <span data-ttu-id="39120-156">Ces configurations peuvent être importées et utilisées dans un autre compte Automation.</span><span class="sxs-lookup"><span data-stu-id="39120-156">These configurations can be imported and used in another automation account.</span></span>

## <a name="geo-replication-in-azure-automation"></a><span data-ttu-id="39120-157">Géo-réplication dans Azure Automation</span><span class="sxs-lookup"><span data-stu-id="39120-157">Geo-replication in Azure Automation</span></span>
<span data-ttu-id="39120-158">La géo-réplication, fonction standard dans les comptes Azure Automation, sauvegarde les données de compte dans une région géographique différente à des fins de redondance.</span><span class="sxs-lookup"><span data-stu-id="39120-158">Geo-replication, standard in Azure Automation accounts, backs up account data to a different geographical region for redundancy.</span></span> <span data-ttu-id="39120-159">Vous pouvez choisir une région primaire quand vous configurez votre compte ; une région secondaire lui est ensuite automatiquement affectée.</span><span class="sxs-lookup"><span data-stu-id="39120-159">You can choose a primary region when setting up your account, and then a secondary region is assigned to it automatically.</span></span> <span data-ttu-id="39120-160">Les données secondaires, copiées à partir de la région primaire, sont mises à jour en permanence en cas de perte de données.</span><span class="sxs-lookup"><span data-stu-id="39120-160">The secondary data, copied from the primary region, is continuously updated in case of data loss.</span></span>  

<span data-ttu-id="39120-161">Le tableau suivant montre les paires de régions primaires et secondaires disponibles.</span><span class="sxs-lookup"><span data-stu-id="39120-161">The following table shows the available primary and secondary region pairings.</span></span>

| <span data-ttu-id="39120-162">Primaire</span><span class="sxs-lookup"><span data-stu-id="39120-162">Primary</span></span> | <span data-ttu-id="39120-163">Secondaire</span><span class="sxs-lookup"><span data-stu-id="39120-163">Secondary</span></span> |
| --- | --- |
| <span data-ttu-id="39120-164">Sud du centre des États-Unis</span><span class="sxs-lookup"><span data-stu-id="39120-164">South Central US</span></span> |<span data-ttu-id="39120-165">Nord du centre des États-Unis</span><span class="sxs-lookup"><span data-stu-id="39120-165">North Central US</span></span> |
| <span data-ttu-id="39120-166">Est des États-Unis 2</span><span class="sxs-lookup"><span data-stu-id="39120-166">US East 2</span></span> |<span data-ttu-id="39120-167">Centre des États-Unis</span><span class="sxs-lookup"><span data-stu-id="39120-167">Central US</span></span> |
| <span data-ttu-id="39120-168">Europe de l'Ouest</span><span class="sxs-lookup"><span data-stu-id="39120-168">West Europe</span></span> |<span data-ttu-id="39120-169">Europe du Nord</span><span class="sxs-lookup"><span data-stu-id="39120-169">North Europe</span></span> |
| <span data-ttu-id="39120-170">Asie du Sud-Est</span><span class="sxs-lookup"><span data-stu-id="39120-170">South East Asia</span></span> |<span data-ttu-id="39120-171">Asie de l'Est</span><span class="sxs-lookup"><span data-stu-id="39120-171">East Asia</span></span> |
| <span data-ttu-id="39120-172">Est du Japon</span><span class="sxs-lookup"><span data-stu-id="39120-172">Japan East</span></span> |<span data-ttu-id="39120-173">Ouest du Japon</span><span class="sxs-lookup"><span data-stu-id="39120-173">Japan West</span></span> |

<span data-ttu-id="39120-174">Dans l’éventualité peu probable que les données d’une région primaire soient perdues, Microsoft tente de les récupérer.</span><span class="sxs-lookup"><span data-stu-id="39120-174">In the unlikely event that a primary region data is lost, Microsoft attempts to recover it.</span></span> <span data-ttu-id="39120-175">Si les données primaires sont irrécupérables, un basculement géographique est effectué et les clients concernés en sont informés via leur abonnement.</span><span class="sxs-lookup"><span data-stu-id="39120-175">If the primary data cannot be recovered, then geo-failover is performed and the affected customers will be notified about this through their subscription.</span></span>

