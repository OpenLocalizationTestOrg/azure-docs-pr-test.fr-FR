---
title: "aaaAzure intégration du contrôle Source Automation avec GitHub Enterprise | Documents Microsoft"
description: "Décrit les détails hello d’intégration tooconfigure GitHub Enterprise pour le contrôle de code source de runbooks Automation."
services: automation
documentationCenter: 
authors: mgoedtel
manager: jwhit
editor: 
ms.assetid: e01d817c-7d38-421c-adf5-647a4b526eb4
ms.service: automation
ms.workload: infrastructure-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/26/2017
ms.author: magoedte
ms.openlocfilehash: 915d36ccabb72fdee1dba663049a0b331249cd73
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-automation-scenario---automation-source-control-integration-with-github-enterprise"></a><span data-ttu-id="a2ff4-103">Scénario Azure Automation - Intégration du contrôle de code source Automation avec GitHub Enterprise</span><span class="sxs-lookup"><span data-stu-id="a2ff4-103">Azure Automation scenario - Automation source control integration with GitHub Enterprise</span></span>

<span data-ttu-id="a2ff4-104">Automation prend actuellement en charge l’intégration du contrôle de code source, qui vous permet de runbooks tooassociate dans votre référentiel de contrôle de code source Automation compte tooa GitHub.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-104">Automation currently supports source control integration, which allows you tooassociate runbooks in your Automation account tooa GitHub source control repository.</span></span>  <span data-ttu-id="a2ff4-105">Toutefois, les clients qui ont déployé [GitHub Enterprise](https://enterprise.github.com/home) toosupport pratiques de leur DevOps, également toouse il toomanage hello du cycle de vie des procédures opérationnelles qui sont développées tooautomate des processus d’entreprise et de gestion des services opérations.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-105">However, customers who have deployed [GitHub Enterprise](https://enterprise.github.com/home) toosupport their DevOps practices, also want toouse it toomanage hello lifecycle of runbooks that are developed tooautomate business processes and service management operations.</span></span>  

<span data-ttu-id="a2ff4-106">Dans ce scénario, vous disposez d’un ordinateur de Windows dans votre centre de données configurée comme un Runbook Worker hybride avec les modules du Gestionnaire de ressources Azure hello et des outils Git.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-106">In this scenario, you have a Windows computer in your data center configured as a Hybrid Runbook Worker with hello Azure Resource Manager modules and Git tools installed.</span></span>  <span data-ttu-id="a2ff4-107">ordinateur de travail hybride Hello a un clone de référentiel Git hello.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-107">hello Hybrid worker machine has a clone of hello local Git repository.</span></span>  <span data-ttu-id="a2ff4-108">Lorsque hello runbook est exécuté sur un worker hybride hello, hello Git Active synchronisé et le contenu du fichier runbook hello est importé dans hello compte Automation.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-108">When hello runbook is run on hello hybrid worker, hello Git directory is synchronized and hello runbook file contents are imported into hello Automation account.</span></span>

<span data-ttu-id="a2ff4-109">Cet article décrit comment tooset cette configuration dans votre environnement Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-109">This article describes how tooset up this configuration in your Azure Automation environment.</span></span> <span data-ttu-id="a2ff4-110">Nous allons commencer par la configuration de l’Automation avec les informations d’identification de sécurité hello, procédures opérationnelles requis toosupport ce scénario et déploiement d’un Runbook Worker hybride dans vos données center toorun hello runbooks et accéder à votre toosynchronize de référentiel GitHub Enterprise procédures opérationnelles avec votre compte Automation.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-110">We start by configuring Automation with hello security credentials, runbooks required toosupport this scenario, and deployment of a Hybrid Runbook Worker in your data center toorun hello runbooks and access your GitHub Enterprise repository toosynchronize runbooks with your Automation account.</span></span>  


## <a name="getting-hello-scenario"></a><span data-ttu-id="a2ff4-111">Scénario de hello mise en route</span><span class="sxs-lookup"><span data-stu-id="a2ff4-111">Getting hello scenario</span></span>

<span data-ttu-id="a2ff4-112">Ce scénario se compose de deux procédures opérationnelles PowerShell que vous pouvez importer directement à partir de hello [galerie de runbooks](automation-runbook-gallery.md) dans hello portail Azure ou les télécharger à partir de hello [PowerShell Gallery](https://www.powershellgallery.com).</span><span class="sxs-lookup"><span data-stu-id="a2ff4-112">This scenario consists of two PowerShell runbooks that you can import directly from hello [Runbook Gallery](automation-runbook-gallery.md) in hello Azure portal or download from hello [PowerShell Gallery](https://www.powershellgallery.com).</span></span>

### <a name="runbooks"></a><span data-ttu-id="a2ff4-113">Runbooks</span><span class="sxs-lookup"><span data-stu-id="a2ff4-113">Runbooks</span></span>

<span data-ttu-id="a2ff4-114">Runbook</span><span class="sxs-lookup"><span data-stu-id="a2ff4-114">Runbook</span></span> | <span data-ttu-id="a2ff4-115">Description</span><span class="sxs-lookup"><span data-stu-id="a2ff4-115">Description</span></span>| 
--------|------------|
<span data-ttu-id="a2ff4-116">Export-RunAsCertificateToHybridWorker</span><span class="sxs-lookup"><span data-stu-id="a2ff4-116">Export-RunAsCertificateToHybridWorker</span></span> | <span data-ttu-id="a2ff4-117">Runbook exporte un certificat d’identification à partir d’un processus de travail hybride de tooa compte Automation afin que les procédures opérationnelles sur le travail de hello peut s’authentifier avec Azure dans l’ordre tooimport runbooks dans hello compte Automation.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-117">Runbook exports a RunAs certificate from an Automation account tooa hybrid worker so that runbooks on hello worker can authenticate with Azure in order tooimport runbooks into hello Automation account.</span></span>| 
<span data-ttu-id="a2ff4-118">Sync-LocalGitFolderToAutomationAccount</span><span class="sxs-lookup"><span data-stu-id="a2ff4-118">Sync-LocalGitFolderToAutomationAccount</span></span> | <span data-ttu-id="a2ff4-119">Les synchronisations Runbook hello dossier Git local sur l’ordinateur de hybride hello, puis importer les fichiers de runbook de hello (*.ps1) dans le compte d’automatisation hello.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-119">Runbook syncs hello local Git folder on hello hybrid machine and then import hello runbook files (*.ps1) into hello Automation account.</span></span>|

### <a name="credentials"></a><span data-ttu-id="a2ff4-120">Informations d'identification</span><span class="sxs-lookup"><span data-stu-id="a2ff4-120">Credentials</span></span>

<span data-ttu-id="a2ff4-121">Informations d'identification</span><span class="sxs-lookup"><span data-stu-id="a2ff4-121">Credential</span></span> | <span data-ttu-id="a2ff4-122">Description</span><span class="sxs-lookup"><span data-stu-id="a2ff4-122">Description</span></span>|
-----------|------------|
<span data-ttu-id="a2ff4-123">GitHRWCredential</span><span class="sxs-lookup"><span data-stu-id="a2ff4-123">GitHRWCredential</span></span> | <span data-ttu-id="a2ff4-124">Ressource d’informations d’identification vous créez le nom d’utilisateur de toocontain hello et un mot de passe pour un utilisateur avec worker hybride de toohello autorisations.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-124">Credential asset you create toocontain hello username and password for a user with permissions toohello hybrid worker.</span></span>|

## <a name="installing-and-configuring-this-scenario"></a><span data-ttu-id="a2ff4-125">Installation et configuration de ce scénario</span><span class="sxs-lookup"><span data-stu-id="a2ff4-125">Installing and configuring this scenario</span></span>

### <a name="prerequisites"></a><span data-ttu-id="a2ff4-126">Composants requis</span><span class="sxs-lookup"><span data-stu-id="a2ff4-126">Prerequisites</span></span>

1. <span data-ttu-id="a2ff4-127">Hello LocalGitFolderToAutomationAccount de synchronisation runbook s’authentifie à l’aide de hello [Azure exécuter en tant que compte](automation-sec-configure-azure-runas-account.md).</span><span class="sxs-lookup"><span data-stu-id="a2ff4-127">hello Sync-LocalGitFolderToAutomationAccount runbook authenticates using hello [Azure Run As account](automation-sec-configure-azure-runas-account.md).</span></span> 

2. <span data-ttu-id="a2ff4-128">Un espace de travail de Microsoft Operations Management Suite (OMS) avec hello solution Azure Automation activée et configurée est également requis.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-128">A Microsoft Operations Management Suite (OMS) workspace with hello Azure Automation solution enabled and configured is also required.</span></span>  <span data-ttu-id="a2ff4-129">Si vous n’avez pas celui qui est associé à hello Automation compte utilisé tooinstall et configurer ce scénario, il est créé et configuré pour vous lorsque vous exécutez hello **New-OnPremiseHybridWorker.ps1** script à partir de hybride de hello travail de runbook.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-129">If you do not have one that is associated with hello Automation account used tooinstall and configure this scenario, it is created and configured for you when you execute hello **New-OnPremiseHybridWorker.ps1** script from hello hybrid runbook worker.</span></span>        

    > [!NOTE]
    > <span data-ttu-id="a2ff4-130">Actuellement hello régions suivantes prennent uniquement en charge l’intégration Automation avec OMS - **sud-est de l’Australie**, **est des États-Unis 2**, **Asie du Sud-est**, et **ouest Europe**.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-130">Currently hello following regions only support Automation integration with OMS - **Australia Southeast**, **East US 2**, **Southeast Asia**, and **West Europe**.</span></span> 

3. <span data-ttu-id="a2ff4-131">Un ordinateur pouvant servir d’un travail de Runbook hybride dédié qui hébergera les logiciels de GitHub hello et mettre à jour les fichiers de runbook hello également (*runbook*.ps1) dans un répertoire source sur toosynchronize de système de fichiers hello entre GitHub et votre Compte Automation.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-131">A computer that can serve as a dedicated Hybrid Runbook Worker that will also host hello GitHub software and maintain hello runbook files (*runbook*.ps1) in a source directory on hello file system toosynchronize between GitHub and your Automation account.</span></span>

### <a name="import-and-publish-hello-runbooks"></a><span data-ttu-id="a2ff4-132">Importer et publier des runbooks de hello</span><span class="sxs-lookup"><span data-stu-id="a2ff4-132">Import and publish hello runbooks</span></span>

<span data-ttu-id="a2ff4-133">tooimport hello *Export-RunAsCertificateToHybridWorker* et *LocalGitFolderToAutomationAccount de synchronisation* runbooks à partir de hello galerie de runbooks à partir de votre compte Automation Bonjour portail Azure, Suivez les procédures de hello dans [Runbook d’importation à partir de la galerie de runbooks de hello](automation-runbook-gallery.md#to-import-a-runbook-from-the-runbook-gallery-with-the-azure-portal).</span><span class="sxs-lookup"><span data-stu-id="a2ff4-133">tooimport hello *Export-RunAsCertificateToHybridWorker* and *Sync-LocalGitFolderToAutomationAccount* runbooks from hello Runbook Gallery from your Automation account in hello Azure portal, follow hello procedures in [Import Runbook from hello Runbook Gallery](automation-runbook-gallery.md#to-import-a-runbook-from-the-runbook-gallery-with-the-azure-portal).</span></span> <span data-ttu-id="a2ff4-134">La publication de runbooks de hello après que qu’ils ont été correctement importés dans votre compte Automation.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-134">Publish hello runbooks after they have been successfully imported into your Automation account.</span></span>

### <a name="deploy-and-configure-hybrid-runbook-worker"></a><span data-ttu-id="a2ff4-135">Déployer et configurer un Runbook Worker hybride</span><span class="sxs-lookup"><span data-stu-id="a2ff4-135">Deploy and Configure Hybrid Runbook Worker</span></span>

<span data-ttu-id="a2ff4-136">Si vous ne disposez pas d’un travail de Runbook hybride déjà déployés dans votre centre de données, vous devez passer en revue les exigences de hello et suivez les étapes d’installation hello automatisée à l’aide de la procédure hello dans [Azure Automation Workers hybrides - automatiser l’installation Configuration et](automation-hybrid-runbook-worker.md#automated-deployment).</span><span class="sxs-lookup"><span data-stu-id="a2ff4-136">If you do not have a Hybrid Runbook Worker already deployed in your data center, you should review hello requirements and follow hello automated installation steps using hello procedure in [Azure Automation Hybrid Runbook Workers - Automate Install and Configuration](automation-hybrid-runbook-worker.md#automated-deployment).</span></span>  <span data-ttu-id="a2ff4-137">Vous avez correctement installé worker hybride de hello sur un ordinateur, vous effectuerez hello suivant les étapes toocomplete son toosupport configuration ce scénario.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-137">Once you have successfully installed hello hybrid worker on a computer, perform hello following steps toocomplete its configuration toosupport this scenario.</span></span>

1. <span data-ttu-id="a2ff4-138">Inscrivez-vous toohello hébergement hello Runbook Worker hybride rôle d’ordinateur avec un compte disposant des droits d’administrateur local et créer un fichier de runbook Active toohold hello Git.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-138">Sign on toohello computer hosting hello Hybrid Runbook Worker role with an account that has local administrative rights and create a directory toohold hello Git runbook files.</span></span>  <span data-ttu-id="a2ff4-139">Clone hello interne Git toohello répertoire du référentiel.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-139">Clone  hello internal Git repository toohello directory.</span></span>
2. <span data-ttu-id="a2ff4-140">Si vous n’avez pas déjà un compte d’identification créé ou toocreate un dédié à cette fin, à partir de hello portail Azure accédez tooAutomation comptes, sélectionnez votre compte Automation et créer un [actif d’informations d’identification](automation-credentials.md) qui contient le nom d’utilisateur hello et un mot de passe pour un utilisateur avec le travail d’autorisations toohello hybride.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-140">If you do not already have a RunAs account created or you want toocreate a new one dedicated for this purpose, from hello Azure portal navigate tooAutomation accounts, select your Automation account and create a [credential asset](automation-credentials.md) that contains hello username and password for a user with permissions toohello hybrid worker.</span></span>  
3. <span data-ttu-id="a2ff4-141">À partir de votre compte Automation, [modifier hello runbook](automation-edit-textual-runbook.md)**Export-RunAsCertificateToHybridWorker** et modifier la valeur hello pour la variable de hello *$Password* avec un nom fort mot de passe.  </span><span class="sxs-lookup"><span data-stu-id="a2ff4-141">From your Automation account, [edit hello runbook](automation-edit-textual-runbook.md)  **Export-RunAsCertificateToHybridWorker** and modify hello value for hello variable *$Password* with a strong password.</span></span>  <span data-ttu-id="a2ff4-142">Après avoir modifié la valeur de hello, cliquez sur **publier** brouillon toohave hello de hello runbook publié.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-142">After you modify hello value, click **Publish** toohave hello draft version of hello runbook published.</span></span> 
5. <span data-ttu-id="a2ff4-143">Démarrer hello runbook **Export-RunAsCertificateToHybridWorker**et Bonjour **démarrer le Runbook** panneau, sous l’option de hello **des paramètres d’exécution** sélectionnez l’option hello **Worker hybride** et dans le groupe worker hello liste déroulante, sélectionnez hello hybride vous avez créé précédemment pour ce scénario.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-143">Start hello runbook **Export-RunAsCertificateToHybridWorker**, and in hello **Start Runbook** blade, under hello option **Run settings** select hello option **Hybrid Worker** and in hello drop-down list select hello Hybrid worker group you created earlier for this scenario.</span></span>  

    <span data-ttu-id="a2ff4-144">Cette opération exporte un worker hybride de toohello certificat afin que les procédures opérationnelles sur le travail de hello peut s’authentifier avec Azure à l’aide de hello exécuter en tant que connexion dans l’ordre toomanage des ressources Azure (en particulier pour ce scénario - importation runbooks toohello compte Automation).</span><span class="sxs-lookup"><span data-stu-id="a2ff4-144">This exports a certificate toohello hybrid worker so that runbooks on hello worker can authenticate with Azure using hello Run As connection in order toomanage Azure resources (in particular for this scenario - import runbooks toohello Automation account).</span></span>

4. <span data-ttu-id="a2ff4-145">À partir de votre compte Automation, sélectionnez hello le groupe worker hybride créé précédemment et [spécifier un compte d’identification](automation-hrw-run-runbooks.md#runas-account) pour le groupe de travail hybride hello et d’élément multimédia d’informations d’identification choisi hello uniquement ou déjà avoir créé.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-145">From your Automation account, select hello Hybrid worker group created earlier and [specify a RunAs account](automation-hrw-run-runbooks.md#runas-account) for hello Hybrid worker group, and chose hello credential asset you just or already have created.</span></span>  <span data-ttu-id="a2ff4-146">Cela garantit que ce runbook de synchronisation hello peut exécuter des commandes de Git.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-146">This assures that hello Sync runbook can run Git commands.</span></span> 
5. <span data-ttu-id="a2ff4-147">Démarrer hello runbook **LocalGitFolderToAutomationAccount de synchronisation**, fournir suivant de hello requise des valeurs de paramètre d’entrée et Bonjour **démarrer le Runbook** panneau, sous l’option de hello **exécuter paramètres** l’option hello **Worker hybride** et dans le groupe worker hello liste déroulante, sélectionnez hello hybride vous avez créé précédemment pour ce scénario :</span><span class="sxs-lookup"><span data-stu-id="a2ff4-147">Start hello runbook **Sync-LocalGitFolderToAutomationAccount**, provide hello following required input parameter values and in hello **Start Runbook** blade, under hello option **Run settings** select hello option **Hybrid Worker** and in hello drop-down list select hello Hybrid worker group you created earlier for this scenario:</span></span>
    * <span data-ttu-id="a2ff4-148">*Le groupe de ressources* hello - nom de votre groupe de ressources associé à votre compte Automation</span><span class="sxs-lookup"><span data-stu-id="a2ff4-148">*ResourceGroup* - hello name of your resource group associated with your Automation account</span></span>
    * <span data-ttu-id="a2ff4-149">*AutomationAccountName* hello - nom de votre compte Automation</span><span class="sxs-lookup"><span data-stu-id="a2ff4-149">*AutomationAccountName* - hello name of your Automation account</span></span>
    * <span data-ttu-id="a2ff4-150">*GitPath* - hello dossier local ou de fichiers sur hello où Git est paramétré à toopull dernières modifications dans un Runbook Worker hybride</span><span class="sxs-lookup"><span data-stu-id="a2ff4-150">*GitPath* - hello local folder or file on hello Hybrid Runbook Worker where Git is set up toopull latest changes into</span></span>

    <span data-ttu-id="a2ff4-151">Cela synchroniser hello Git dossier local sur ordinateur de travail hybride hello et puis importer les fichiers .ps1 hello hello source directory toohello compte Automation.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-151">This will sync hello local Git folder on hello hybrid worker computer and then import hello .ps1 files from hello source directory toohello Automation account.</span></span>

    ![Démarrer le runbook Sync-LocalGitFolderToAutomationAccount](media/automation-scenario-source-control-integration-with-github-ent/start-runbook-synclocalgitfoldertoautoacct.png)<br>

7. <span data-ttu-id="a2ff4-153">Afficher les détails de résumé de travail pour les runbook hello en le sélectionnant dans hello **Runbooks** panneau dans votre compte Automation, puis sélectionnez hello **travaux** vignette.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-153">View job summary details for hello runbook by selecting it from hello **Runbooks** blade in your Automation account, and then select hello **Jobs** tile.</span></span>  <span data-ttu-id="a2ff4-154">Vérifiez qu’il a réussi en sélectionnant hello **tous les journaux** vignette et flux de journal détaillé hello révision.</span><span class="sxs-lookup"><span data-stu-id="a2ff4-154">Confirm it completed successfully by selecting hello **All logs** tile and reviewing hello detailed log stream.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="a2ff4-155">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="a2ff4-155">Next steps</span></span>

-  <span data-ttu-id="a2ff4-156">tooknow en savoir plus sur les types de runbook, leurs avantages et les limitations, consultez [types de runbook Azure Automation](automation-runbook-types.md)</span><span class="sxs-lookup"><span data-stu-id="a2ff4-156">tooknow more about runbook types, their advantages and limitations, see [Azure Automation runbook types](automation-runbook-types.md)</span></span>
-  <span data-ttu-id="a2ff4-157">Pour plus d’informations sur la fonctionnalité de prise en charge de script PowerShell, consultez [Prise en charge de script PowerShell natif dans Azure Automation](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span><span class="sxs-lookup"><span data-stu-id="a2ff4-157">For more information on PowerShell script support feature, see [Native PowerShell script support in Azure Automation](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span></span>
