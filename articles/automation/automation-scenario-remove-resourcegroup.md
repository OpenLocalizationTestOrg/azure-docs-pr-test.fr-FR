---
title: "la suppression d’aaaAutomate des groupes de ressources | Documents Microsoft"
description: "Version de flux de travail PowerShell d’un scénario Azure Automation, y compris des procédures opérationnelles tooremove ressources tous les groupes dans votre abonnement."
services: automation
documentationcenter: 
author: MGoedtel
manager: jwhit
editor: 
ms.assetid: b848e345-fd5d-4b9d-bc57-3fe41d2ddb5c
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 09/26/2016
ms.author: magoedte
ms.openlocfilehash: d7ff8064842385d57b0eebdf7b263150c958255f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-automation-scenario---automate-removal-of-resource-groups"></a><span data-ttu-id="417ce-103">Scénario Azure Automation - Automatiser la suppression de groupes de ressources</span><span class="sxs-lookup"><span data-stu-id="417ce-103">Azure Automation scenario - automate removal of resource groups</span></span>
<span data-ttu-id="417ce-104">De nombreux clients créent plusieurs groupes de ressources.</span><span class="sxs-lookup"><span data-stu-id="417ce-104">Many customers create more than one resource group.</span></span> <span data-ttu-id="417ce-105">Certains peuvent être utilisés pour la gestion des applications de production, et d’autres comme environnement de développement, de test et intermédiaires.</span><span class="sxs-lookup"><span data-stu-id="417ce-105">Some might be used for managing production applications, and others might be used as development, testing, and staging environments.</span></span> <span data-ttu-id="417ce-106">Automatisation du déploiement de ces ressources hello est une chose, mais qui est en mesure de toodecommission un groupe de ressources d’un clic de bouton de hello est une autre.</span><span class="sxs-lookup"><span data-stu-id="417ce-106">Automating hello deployment of these resources is one thing, but being able toodecommission a resource group with a click of hello button is another.</span></span> <span data-ttu-id="417ce-107">Vous pouvez simplifier cette tâche de gestion courante à l’aide d’Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="417ce-107">You can streamline this common management task by using Azure Automation.</span></span> <span data-ttu-id="417ce-108">Cela est utile si vous travaillez avec un abonnement Azure qui a une limite de dépense via une offre spéciale telles que MSDN ou hello programme de Microsoft Partner Network Cloud Essentials.</span><span class="sxs-lookup"><span data-stu-id="417ce-108">This is helpful if you are working with an Azure subscription that has a spending limit through a member offer like MSDN or hello Microsoft Partner Network Cloud Essentials program.</span></span>

<span data-ttu-id="417ce-109">Ce scénario est basé sur un runbook PowerShell et est conçue tooremove un ou plusieurs groupes de ressources que vous spécifiez à partir de votre abonnement.</span><span class="sxs-lookup"><span data-stu-id="417ce-109">This scenario is based on a PowerShell runbook and is designed tooremove one or more resource groups that you specify from your subscription.</span></span> <span data-ttu-id="417ce-110">paramètre par défaut Hello hello runbook est tootest avant de continuer.</span><span class="sxs-lookup"><span data-stu-id="417ce-110">hello default setting of hello runbook is tootest before proceeding.</span></span> <span data-ttu-id="417ce-111">Cela garantit que vous ne supprimez accidentellement groupe de ressources hello avant que vous êtes prêt toocomplete cette procédure.</span><span class="sxs-lookup"><span data-stu-id="417ce-111">This ensures that you don't accidentally delete hello resource group before you're ready toocomplete this procedure.</span></span>   

## <a name="getting-hello-scenario"></a><span data-ttu-id="417ce-112">Scénario de hello mise en route</span><span class="sxs-lookup"><span data-stu-id="417ce-112">Getting hello scenario</span></span>
<span data-ttu-id="417ce-113">Ce scénario se compose d’un runbook PowerShell que vous pouvez télécharger à partir de hello [PowerShell Gallery](https://www.powershellgallery.com/packages/Remove-ResourceGroup/1.0/DisplayScript).</span><span class="sxs-lookup"><span data-stu-id="417ce-113">This scenario consists of a PowerShell runbook that you can download from hello [PowerShell Gallery](https://www.powershellgallery.com/packages/Remove-ResourceGroup/1.0/DisplayScript).</span></span> <span data-ttu-id="417ce-114">Vous pouvez également importer directement à partir de hello [galerie de runbooks](automation-runbook-gallery.md) Bonjour portail Azure.</span><span class="sxs-lookup"><span data-stu-id="417ce-114">You can also import it directly from hello [Runbook Gallery](automation-runbook-gallery.md) in hello Azure portal.</span></span><br><br>

| <span data-ttu-id="417ce-115">Runbook</span><span class="sxs-lookup"><span data-stu-id="417ce-115">Runbook</span></span> | <span data-ttu-id="417ce-116">Description</span><span class="sxs-lookup"><span data-stu-id="417ce-116">Description</span></span> |
| --- | --- |
| <span data-ttu-id="417ce-117">Remove-ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="417ce-117">Remove-ResourceGroup</span></span> |<span data-ttu-id="417ce-118">Supprime un ou plusieurs groupes de ressources Azure et les ressources associées à partir de l’abonnement de hello.</span><span class="sxs-lookup"><span data-stu-id="417ce-118">Removes one or more Azure resource groups and associated resources from hello subscription.</span></span> |

<br>
<span data-ttu-id="417ce-119">Hello des paramètres d’entrée suivants est défini pour ce runbook :</span><span class="sxs-lookup"><span data-stu-id="417ce-119">hello following input parameters are defined for this runbook:</span></span>

| <span data-ttu-id="417ce-120">Paramètre</span><span class="sxs-lookup"><span data-stu-id="417ce-120">Parameter</span></span> | <span data-ttu-id="417ce-121">Description</span><span class="sxs-lookup"><span data-stu-id="417ce-121">Description</span></span> |
| --- | --- |
| <span data-ttu-id="417ce-122">NameFilter (obligatoire)</span><span class="sxs-lookup"><span data-stu-id="417ce-122">NameFilter (Required)</span></span> |<span data-ttu-id="417ce-123">Spécifie un nom filtre toolimit hello ressource les groupes que vous prévoyez de suppression.</span><span class="sxs-lookup"><span data-stu-id="417ce-123">Specifies a name filter toolimit hello resource groups that you intend on deleting.</span></span> <span data-ttu-id="417ce-124">Vous pouvez transmettre plusieurs valeurs à l’aide d’une liste séparée par des virgules.</span><span class="sxs-lookup"><span data-stu-id="417ce-124">You can pass multiple values using a comma-separated list.</span></span><br><span data-ttu-id="417ce-125">filtre de Hello ne respecte pas la casse et correspond à n’importe quel groupe de ressources qui contient la chaîne de hello.</span><span class="sxs-lookup"><span data-stu-id="417ce-125">hello filter is not case-sensitive and will match any resource group that contains hello string.</span></span> |
| <span data-ttu-id="417ce-126">PreviewMode (facultatif)</span><span class="sxs-lookup"><span data-stu-id="417ce-126">PreviewMode (Optional)</span></span> |<span data-ttu-id="417ce-127">Exécute hello runbook toosee les groupes de ressources seront supprimées, mais n’effectue aucune action.</span><span class="sxs-lookup"><span data-stu-id="417ce-127">Executes hello runbook toosee which resource groups would be deleted, but takes no action.</span></span><br><span data-ttu-id="417ce-128">valeur par défaut Hello est **true** toohelp éviter la suppression accidentelle de l’un ou plusieurs groupes de ressources passé toohello runbook.</span><span class="sxs-lookup"><span data-stu-id="417ce-128">hello default is **true** toohelp avoid accidental deletion of one or more resource groups passed toohello runbook.</span></span> |

## <a name="install-and-configure-this-scenario"></a><span data-ttu-id="417ce-129">Installer et configurer ce scénario</span><span class="sxs-lookup"><span data-stu-id="417ce-129">Install and configure this scenario</span></span>
### <a name="prerequisites"></a><span data-ttu-id="417ce-130">Composants requis</span><span class="sxs-lookup"><span data-stu-id="417ce-130">Prerequisites</span></span>
<span data-ttu-id="417ce-131">Ce runbook s’authentifie à l’aide de hello [Azure exécuter en tant que compte](automation-sec-configure-azure-runas-account.md).</span><span class="sxs-lookup"><span data-stu-id="417ce-131">This runbook authenticates using hello [Azure Run As account](automation-sec-configure-azure-runas-account.md).</span></span>    

### <a name="install-and-publish-hello-runbooks"></a><span data-ttu-id="417ce-132">Installer et publier des runbooks de hello</span><span class="sxs-lookup"><span data-stu-id="417ce-132">Install and publish hello runbooks</span></span>
<span data-ttu-id="417ce-133">Après avoir téléchargé hello runbook, vous pouvez l’importer à l’aide de procédure hello dans [l’importation des procédures runbook](automation-creating-importing-runbook.md#importing-a-runbook-from-a-file-into-azure-automation).</span><span class="sxs-lookup"><span data-stu-id="417ce-133">After you download hello runbook, you can import it by using hello procedure in [Importing runbook procedures](automation-creating-importing-runbook.md#importing-a-runbook-from-a-file-into-azure-automation).</span></span> <span data-ttu-id="417ce-134">Publier hello runbook une fois qu’il a été importé avec succès dans votre compte Automation.</span><span class="sxs-lookup"><span data-stu-id="417ce-134">Publish hello runbook after it has been successfully imported into your Automation account.</span></span>

## <a name="using-hello-runbook"></a><span data-ttu-id="417ce-135">À l’aide de runbook de hello</span><span class="sxs-lookup"><span data-stu-id="417ce-135">Using hello runbook</span></span>
<span data-ttu-id="417ce-136">Hello étapes suivantes vous guidera exécution hello de ce runbook et que vous familiariser avec son fonctionnement.</span><span class="sxs-lookup"><span data-stu-id="417ce-136">hello following steps will walk you through hello execution of this runbook and help you become familiar with how it works.</span></span> <span data-ttu-id="417ce-137">Vous seulement Testez hello runbook dans cet exemple, pas réellement supprimer le groupe de ressources hello.</span><span class="sxs-lookup"><span data-stu-id="417ce-137">You will only be testing hello runbook in this example, not actually deleting hello resource group.</span></span>  

1. <span data-ttu-id="417ce-138">À partir de hello portail Azure, ouvrez votre compte Automation, puis cliquez sur **Runbooks**.</span><span class="sxs-lookup"><span data-stu-id="417ce-138">From hello Azure portal, open your Automation account and click **Runbooks**.</span></span>
2. <span data-ttu-id="417ce-139">Sélectionnez hello **Remove-ResourceGroup** runbook et cliquez sur **Démarrer**.</span><span class="sxs-lookup"><span data-stu-id="417ce-139">Select hello **Remove-ResourceGroup** runbook and click **Start**.</span></span>
3. <span data-ttu-id="417ce-140">Lorsque vous démarrez hello runbook, hello **démarrer le Runbook** panneau s’ouvre et vous pouvez configurer des paramètres de hello.</span><span class="sxs-lookup"><span data-stu-id="417ce-140">When you start hello runbook, hello **Start Runbook** blade opens and you can configure hello parameters.</span></span> <span data-ttu-id="417ce-141">Entrez les noms de hello des groupes de ressources dans votre abonnement que vous pouvez utiliser pour le test et n’entraîne pas de risque si accidentellement supprimé.</span><span class="sxs-lookup"><span data-stu-id="417ce-141">Enter hello names of resource groups in your subscription that you can use for testing and will cause no harm if accidentally deleted.</span></span><br> <span data-ttu-id="417ce-142">![Paramètres de Remove-ResouceGroup](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-input-parameters.png)</span><span class="sxs-lookup"><span data-stu-id="417ce-142">![Remove-ResouceGroup parameters](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-input-parameters.png)</span></span>

   > [!NOTE]
   > <span data-ttu-id="417ce-143">Assurez-vous que **Previewmode** est défini trop**true** tooavoid suppression hello sélectionnée des groupes de ressources.</span><span class="sxs-lookup"><span data-stu-id="417ce-143">Make sure **Previewmode** is set too**true** tooavoid deleting hello selected resource groups.</span></span>  <span data-ttu-id="417ce-144">**Remarque** que ce runbook ne supprime pas le groupe de ressources hello qui contient le compte d’automatisation hello ce runbook est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="417ce-144">**Note** that this runbook will not remove hello resource group that contains hello Automation account that is running this runbook.</span></span>  
   >
   >
4. <span data-ttu-id="417ce-145">Après avoir configuré toutes les valeurs de paramètre hello, cliquez sur **OK**, et hello runbook mises en attente pour l’exécution.</span><span class="sxs-lookup"><span data-stu-id="417ce-145">After you have configured all hello parameter values, click **OK**, and hello runbook will be queued for execution.</span></span>  

<span data-ttu-id="417ce-146">Détails de hello tooview Hello **Remove-ResourceGroup** tâche du runbook Bonjour portail Azure, sélectionnez **travaux** dans les runbook hello.</span><span class="sxs-lookup"><span data-stu-id="417ce-146">tooview hello details of hello **Remove-ResourceGroup** runbook job in hello Azure portal, select **Jobs** in hello runbook.</span></span> <span data-ttu-id="417ce-147">paramètres d’entrée de Hello tâche récapitulative affiche hello et sortie de hello stream en outre toogeneral plus d’informations sur la tâche de hello et toutes les exceptions qui se sont produites.</span><span class="sxs-lookup"><span data-stu-id="417ce-147">hello job summary displays hello input parameters and hello output stream in addition toogeneral information about hello job and any exceptions that occurred.</span></span><br> <span data-ttu-id="417ce-148">![État de la tâche du runbook Remove-ResourceGroup](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-runbook-job-status.png).</span><span class="sxs-lookup"><span data-stu-id="417ce-148">![Remove-ResourceGroup runbook job status](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-runbook-job-status.png).</span></span>

<span data-ttu-id="417ce-149">Hello **récapitulatif** inclut les messages à partir de flux de sortie, d’avertissement et erreur hello.</span><span class="sxs-lookup"><span data-stu-id="417ce-149">hello **Job Summary** includes messages from hello output, warning, and error streams.</span></span> <span data-ttu-id="417ce-150">Sélectionnez **sortie** tooview le détail des résultats à partir de l’exécution du runbook hello.</span><span class="sxs-lookup"><span data-stu-id="417ce-150">Select **Output** tooview detailed results from hello runbook execution.</span></span><br> <span data-ttu-id="417ce-151">![Résultats de la sortie du runbook Remove-ResourceGroup](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-runbook-job-output.png)</span><span class="sxs-lookup"><span data-stu-id="417ce-151">![Remove-ResourceGroup runbook output results](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-runbook-job-output.png)</span></span>

## <a name="next-steps"></a><span data-ttu-id="417ce-152">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="417ce-152">Next steps</span></span>
* <span data-ttu-id="417ce-153">tooget aider à créer votre propre runbook, consultez [création ou importation d’un runbook dans Azure Automation](automation-creating-importing-runbook.md).</span><span class="sxs-lookup"><span data-stu-id="417ce-153">tooget started creating your own runbook, see [Creating or importing a runbook in Azure Automation](automation-creating-importing-runbook.md).</span></span>
* <span data-ttu-id="417ce-154">tooget démarré avec les runbooks PowerShell Workflow, consultez [mon runbook PowerShell Workflow premier](automation-first-runbook-textual.md).</span><span class="sxs-lookup"><span data-stu-id="417ce-154">tooget started with PowerShell Workflow runbooks, see [My first PowerShell Workflow runbook](automation-first-runbook-textual.md).</span></span>
