---
title: "runbook graphique de première aaaMy dans Azure Automation | Documents Microsoft"
description: "Didacticiel qui vous guide tout au long de la création de hello, test et la publication d’un runbook graphique simple."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: 
keywords: "runbook, modèle de runbook, automatisation des runbooks, runbook azure"
ms.assetid: dcb88f19-ed2b-4372-9724-6625cd287c8a
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 05/17/2017
ms.author: magoedte;bwren
ms.openlocfilehash: 964cf8bae75ca597959bfc39b2b07c22bbc9acb5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="my-first-graphical-runbook"></a><span data-ttu-id="45abc-104">Mon premier Runbook graphique</span><span class="sxs-lookup"><span data-stu-id="45abc-104">My first graphical runbook</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="45abc-105">Graphique</span><span class="sxs-lookup"><span data-stu-id="45abc-105">Graphical</span></span>](automation-first-runbook-graphical.md)
> * [<span data-ttu-id="45abc-106">PowerShell</span><span class="sxs-lookup"><span data-stu-id="45abc-106">PowerShell</span></span>](automation-first-runbook-textual-powershell.md)
> * [<span data-ttu-id="45abc-107">Workflow PowerShell</span><span class="sxs-lookup"><span data-stu-id="45abc-107">PowerShell Workflow</span></span>](automation-first-runbook-textual.md)
> 
> 

<span data-ttu-id="45abc-108">Ce didacticiel vous guide dans la création de hello d’un [runbook graphique](automation-runbook-types.md#graphical-runbooks) dans Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="45abc-108">This tutorial walks you through hello creation of a [graphical runbook](automation-runbook-types.md#graphical-runbooks) in Azure Automation.</span></span>  <span data-ttu-id="45abc-109">Nous allons commencer avec un simple runbook qui teste et publie pendant que nous expliquons comment tootrack hello état du travail de runbook hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-109">We start with a simple runbook that tests and publishes while we explain how tootrack hello status of hello runbook job.</span></span>  <span data-ttu-id="45abc-110">Puis nous modifions hello runbook tooactually gérer des ressources Azure, dans ce cas de démarrer une machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="45abc-110">Then we modify hello runbook tooactually manage Azure resources, in this case starting an Azure virtual machine.</span></span>  <span data-ttu-id="45abc-111">Ensuite, nous allons terminer didacticiel de hello en rendant hello runbook plus fiable en ajoutant des paramètres du runbook et des liaisons conditionnelles.</span><span class="sxs-lookup"><span data-stu-id="45abc-111">Then we complete hello tutorial by making hello runbook more robust by adding runbook parameters and conditional links.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="45abc-112">Composants requis</span><span class="sxs-lookup"><span data-stu-id="45abc-112">Prerequisites</span></span>
<span data-ttu-id="45abc-113">toocomplete ce didacticiel, vous devez hello suivant.</span><span class="sxs-lookup"><span data-stu-id="45abc-113">toocomplete this tutorial, you will need hello following.</span></span>

* <span data-ttu-id="45abc-114">Abonnement Azure.</span><span class="sxs-lookup"><span data-stu-id="45abc-114">Azure subscription.</span></span>  <span data-ttu-id="45abc-115">Si vous n’avez pas encore d’abonnement, vous pouvez [activer vos avantages abonnés MSDN](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) ou <a href="/pricing/free-account/" target="_blank">[créer un compte gratuit](https://azure.microsoft.com/free/).</span><span class="sxs-lookup"><span data-stu-id="45abc-115">If you don't have one yet, you can [activate your MSDN subscriber benefits](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) or <a href="/pricing/free-account/" target="_blank">[sign up for a free account](https://azure.microsoft.com/free/).</span></span>
* <span data-ttu-id="45abc-116">[Compte d’automatisation Azure](automation-sec-configure-azure-runas-account.md) toohold hello runbook et authentifier les ressources tooAzure.</span><span class="sxs-lookup"><span data-stu-id="45abc-116">[Azure Automation account](automation-sec-configure-azure-runas-account.md) toohold hello runbook and authenticate tooAzure resources.</span></span>  <span data-ttu-id="45abc-117">Ce compte doit avoir l’autorisation toostart et arrêter l’ordinateur virtuel de hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-117">This account must have permission toostart and stop hello virtual machine.</span></span>
* <span data-ttu-id="45abc-118">Une machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="45abc-118">An Azure virtual machine.</span></span>  <span data-ttu-id="45abc-119">Nous arrêterons et démarrerons cet ordinateur afin qu'il ne soit pas en production.</span><span class="sxs-lookup"><span data-stu-id="45abc-119">We will stop and start this machine so it should not be production.</span></span>

## <a name="step-1---create-runbook"></a><span data-ttu-id="45abc-120">Étape 1 - Création d’un Runbook</span><span class="sxs-lookup"><span data-stu-id="45abc-120">Step 1 - Create runbook</span></span>
<span data-ttu-id="45abc-121">Nous commençons par créer un simple runbook qui génère du texte hello *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="45abc-121">We start by creating a simple runbook that outputs hello text *Hello World*.</span></span>

1. <span data-ttu-id="45abc-122">Bonjour portail Azure, ouvrez votre compte Automation.</span><span class="sxs-lookup"><span data-stu-id="45abc-122">In hello Azure portal, open your Automation account.</span></span>  
   <span data-ttu-id="45abc-123">page compte d’automatisation Hello vous donne un aperçu rapide des ressources de hello dans ce compte.</span><span class="sxs-lookup"><span data-stu-id="45abc-123">hello Automation account page gives you a quick view of hello resources in this account.</span></span>  <span data-ttu-id="45abc-124">Vous devriez déjà posséder certains éléments multimédias.</span><span class="sxs-lookup"><span data-stu-id="45abc-124">You should already have some Assets.</span></span>  <span data-ttu-id="45abc-125">La plupart d'entre eux est des modules hello sont inclus automatiquement dans un compte Automation.</span><span class="sxs-lookup"><span data-stu-id="45abc-125">Most of those are hello modules that are automatically included in a new Automation account.</span></span>  <span data-ttu-id="45abc-126">Vous devez également avoir la ressource d’informations d’identification hello qui est mentionné dans hello [conditions préalables](#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="45abc-126">You should also have hello Credential asset that's mentioned in hello [prerequisites](#prerequisites).</span></span>
2. <span data-ttu-id="45abc-127">Cliquez sur hello **Runbooks** vignette tooopen hello liste des runbooks.</span><span class="sxs-lookup"><span data-stu-id="45abc-127">Click hello **Runbooks** tile tooopen hello list of runbooks.</span></span><br> <span data-ttu-id="45abc-128">![Contrôle des Runbooks](media/automation-first-runbook-graphical/runbooks-resources-tile.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-128">![Runbooks control](media/automation-first-runbook-graphical/runbooks-resources-tile.png)</span></span>
3. <span data-ttu-id="45abc-129">Créer un runbook en cliquant sur hello **ajouter un runbook** bouton, puis **créer un runbook**.</span><span class="sxs-lookup"><span data-stu-id="45abc-129">Create a new runbook by clicking on hello **Add a runbook** button and then **Create a new runbook**.</span></span>
4. <span data-ttu-id="45abc-130">Nommez hello hello runbook *MyFirstRunbook graphique*.</span><span class="sxs-lookup"><span data-stu-id="45abc-130">Give hello runbook hello name *MyFirstRunbook-Graphical*.</span></span>
5. <span data-ttu-id="45abc-131">Dans ce cas, nous allons toocreate un [runbook graphique](automation-graphical-authoring-intro.md) ainsi sélectionnez **Graphical** pour **le type de Runbook**.</span><span class="sxs-lookup"><span data-stu-id="45abc-131">In this case, we're going toocreate a [graphical runbook](automation-graphical-authoring-intro.md) so select **Graphical** for **Runbook type**.</span></span><br> <span data-ttu-id="45abc-132">![Nouveau Runbook](media/automation-first-runbook-graphical/create-new-runbook.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-132">![New runbook](media/automation-first-runbook-graphical/create-new-runbook.png)</span></span><br>
6. <span data-ttu-id="45abc-133">Cliquez sur **créer** toocreate hello runbook et l’éditeur graphique de hello ouvert.</span><span class="sxs-lookup"><span data-stu-id="45abc-133">Click **Create** toocreate hello runbook and open hello graphical editor.</span></span>

## <a name="step-2---add-activities-toohello-runbook"></a><span data-ttu-id="45abc-134">Étape 2 : ajouter des activités toohello runbook</span><span class="sxs-lookup"><span data-stu-id="45abc-134">Step 2 - Add activities toohello runbook</span></span>
<span data-ttu-id="45abc-135">Hello contrôle bibliothèque hello les côté gauche de l’éditeur de hello vous permet de tooselect activités tooadd tooyour runbook.</span><span class="sxs-lookup"><span data-stu-id="45abc-135">hello Library control on hello left side of hello editor allows you tooselect activities tooadd tooyour runbook.</span></span>  <span data-ttu-id="45abc-136">Nous allons tooadd un **Write-Output** applet de commande toooutput texte hello runbook.</span><span class="sxs-lookup"><span data-stu-id="45abc-136">We're going tooadd a **Write-Output** cmdlet toooutput text from hello runbook.</span></span>

1. <span data-ttu-id="45abc-137">Bonjour contrôle de la bibliothèque, cliquez sur dans la zone de texte Rechercher hello et type **Write-Output**.</span><span class="sxs-lookup"><span data-stu-id="45abc-137">In hello Library control, click in hello search textbox and type **Write-Output**.</span></span>  <span data-ttu-id="45abc-138">résultats de la recherche Hello seront affichera ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="45abc-138">hello search results will be displayed below.</span></span> <br> <span data-ttu-id="45abc-139">![Microsoft.PowerShell.Utility](media/automation-first-runbook-graphical/search-powershell-cmdlet-writeoutput.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-139">![Microsoft.PowerShell.Utility](media/automation-first-runbook-graphical/search-powershell-cmdlet-writeoutput.png)</span></span>
2. <span data-ttu-id="45abc-140">Faites défiler bas toohello de liste de hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-140">Scroll down toohello bottom of hello list.</span></span>  <span data-ttu-id="45abc-141">Vous pouvez soit avec le bouton **Write-Output** et sélectionnez **ajouter toocanvas** ou cliquez sur hello ellipse toohello applet de commande suivante, puis sélectionnez **ajouter toocanvas**.</span><span class="sxs-lookup"><span data-stu-id="45abc-141">You can either right-click **Write-Output** and select **Add toocanvas** or click hello ellipse next toohello cmdlet and then select **Add toocanvas**.</span></span>
3. <span data-ttu-id="45abc-142">Cliquez sur hello **Write-Output** activité sur la zone de dessin hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-142">Click hello **Write-Output** activity on hello canvas.</span></span>  <span data-ttu-id="45abc-143">Cette opération ouvre le panneau de contrôle hello Configuration, ce qui vous permet d’activité de hello tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="45abc-143">This opens hello Configuration control blade, which allows you tooconfigure hello activity.</span></span>
4. <span data-ttu-id="45abc-144">Hello **étiquette** par défaut est le nom de toohello d’applet de commande hello, mais nous pouvons modifier toosomething plus convivial.</span><span class="sxs-lookup"><span data-stu-id="45abc-144">hello **Label** defaults toohello name of hello cmdlet, but we can change it toosomething more friendly.</span></span> <span data-ttu-id="45abc-145">Modifier trop*écrire Hello World toooutput*.</span><span class="sxs-lookup"><span data-stu-id="45abc-145">Change it too*Write Hello World toooutput*.</span></span>
5. <span data-ttu-id="45abc-146">Cliquez sur **paramètres** tooprovide des valeurs pour les paramètres de l’applet de commande hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-146">Click **Parameters** tooprovide values for hello cmdlet's parameters.</span></span>  
   <span data-ttu-id="45abc-147">Certaines applets de commande ont plusieurs jeux de paramètres, et vous devez tooselect l’un toouse vous.</span><span class="sxs-lookup"><span data-stu-id="45abc-147">Some cmdlets have multiple parameter sets, and you need tooselect which you one toouse.</span></span> <span data-ttu-id="45abc-148">Dans ce cas, **Write-Output** n'a qu’un seul jeu de paramètres, vous n’avez pas besoin de tooselect une.</span><span class="sxs-lookup"><span data-stu-id="45abc-148">In this case, **Write-Output** has only one parameter set, so you don't need tooselect one.</span></span> <br> <span data-ttu-id="45abc-149">![Propriétés Write-Output](media/automation-first-runbook-graphical/write-output-properties-b.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-149">![Write-Output properties](media/automation-first-runbook-graphical/write-output-properties-b.png)</span></span>
6. <span data-ttu-id="45abc-150">Sélectionnez hello **InputObject** paramètre.</span><span class="sxs-lookup"><span data-stu-id="45abc-150">Select hello **InputObject** parameter.</span></span>  <span data-ttu-id="45abc-151">Il s’agit paramètre hello où nous spécifions hello texte toosend toohello le flux de sortie.</span><span class="sxs-lookup"><span data-stu-id="45abc-151">This is hello parameter where we specify hello text toosend toohello output stream.</span></span>
7. <span data-ttu-id="45abc-152">Bonjour **source de données** liste déroulante, sélectionnez **expression PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="45abc-152">In hello **Data source** dropdown, select **PowerShell expression**.</span></span>  <span data-ttu-id="45abc-153">Hello **source de données** déroulante propose différentes sources que vous utilisez toopopulate une valeur de paramètre.</span><span class="sxs-lookup"><span data-stu-id="45abc-153">hello **Data source** dropdown provides different sources that you use toopopulate a parameter value.</span></span>  
   <span data-ttu-id="45abc-154">Vous pouvez utiliser la sortie de ces sources, par exemple une autre activité, un élément multimédia Automation ou une expression PowerShell.</span><span class="sxs-lookup"><span data-stu-id="45abc-154">You can use output from such sources such as another activity, an Automation asset, or a PowerShell expression.</span></span>  <span data-ttu-id="45abc-155">Dans ce cas, nous voulons simplement nous texte hello de toooutput *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="45abc-155">In this case, we just want toooutput hello text *Hello World*.</span></span> <span data-ttu-id="45abc-156">Nous pouvons utiliser une expression PowerShell et spécifiez une chaîne.</span><span class="sxs-lookup"><span data-stu-id="45abc-156">We can use a PowerShell expression and specify a string.</span></span>
8. <span data-ttu-id="45abc-157">Bonjour **Expression** , tapez *« Hello World »* puis cliquez sur **OK** deux fois le canevas de toohello tooreturn.</span><span class="sxs-lookup"><span data-stu-id="45abc-157">In hello **Expression** box, type *"Hello World"* and then click **OK** twice tooreturn toohello canvas.</span></span><br> <span data-ttu-id="45abc-158">![PowerShell Expression](media/automation-first-runbook-graphical/expression-hello-world.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-158">![PowerShell Expression](media/automation-first-runbook-graphical/expression-hello-world.png)</span></span>
9. <span data-ttu-id="45abc-159">Enregistrer les runbook hello en cliquant sur **enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="45abc-159">Save hello runbook by clicking **Save**.</span></span><br> <span data-ttu-id="45abc-160">![Enregistrer un Runbook](media/automation-first-runbook-graphical/runbook-toolbar-save-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-160">![Save runbook](media/automation-first-runbook-graphical/runbook-toolbar-save-revised20165.png)</span></span>

## <a name="step-3---test-hello-runbook"></a><span data-ttu-id="45abc-161">Étape 3 : Test hello runbook</span><span class="sxs-lookup"><span data-stu-id="45abc-161">Step 3 - Test hello runbook</span></span>
<span data-ttu-id="45abc-162">Avant que nous publions hello runbook toomake il disponible en production, nous souhaitons tootest il toomake assurer qu’il fonctionne correctement.</span><span class="sxs-lookup"><span data-stu-id="45abc-162">Before we publish hello runbook toomake it available in production, we want tootest it toomake sure that it works properly.</span></span>  <span data-ttu-id="45abc-163">Lorsque vous testez un Runbook, vous exécutez sa version **Brouillon** et affichez sa sortie de manière interactive.</span><span class="sxs-lookup"><span data-stu-id="45abc-163">When you test a runbook, you run its **Draft** version and view its output interactively.</span></span>

1. <span data-ttu-id="45abc-164">Cliquez sur **volet Test** Panneau de Test tooopen hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-164">Click **Test pane** tooopen hello Test blade.</span></span><br> <span data-ttu-id="45abc-165">![Volet de test](media/automation-first-runbook-graphical/runbook-toolbar-test-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-165">![Test pane](media/automation-first-runbook-graphical/runbook-toolbar-test-revised20165.png)</span></span>
2. <span data-ttu-id="45abc-166">Cliquez sur **Démarrer** test de hello toostart.</span><span class="sxs-lookup"><span data-stu-id="45abc-166">Click **Start** toostart hello test.</span></span>  <span data-ttu-id="45abc-167">Ce doit être l’option de hello uniquement activé.</span><span class="sxs-lookup"><span data-stu-id="45abc-167">This should be hello only enabled option.</span></span>
3. <span data-ttu-id="45abc-168">A [tâche du runbook](automation-runbook-execution.md) est créé et son état affiché dans le volet de hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-168">A [runbook job](automation-runbook-execution.md) is created and its status displayed in hello pane.</span></span>  
   <span data-ttu-id="45abc-169">état de la tâche Hello démarre en tant que *en file d’attente* indiquant qu’il est en attente d’un runbook worker dans hello toobecome de cloud disponible.</span><span class="sxs-lookup"><span data-stu-id="45abc-169">hello job status starts as *Queued* indicating that it is waiting for a runbook worker in hello cloud toobecome available.</span></span>  <span data-ttu-id="45abc-170">Il déplace ensuite trop*départ* lorsqu’un processus de travail tâche de hello, les revendications, puis *en cours d’exécution* au démarrage de runbook de hello réellement en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="45abc-170">It then moves too*Starting* when a worker claims hello job, and then *Running* when hello runbook actually starts running.</span></span>  
4. <span data-ttu-id="45abc-171">Fin de la tâche du runbook hello, sa sortie s’affiche.</span><span class="sxs-lookup"><span data-stu-id="45abc-171">When hello runbook job completes, its output is displayed.</span></span> <span data-ttu-id="45abc-172">Dans notre cas, nous devrions voir *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="45abc-172">In our case, we should see *Hello World*.</span></span><br> <span data-ttu-id="45abc-173">![Hello World](media/automation-first-runbook-graphical/runbook-test-results.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-173">![Hello World](media/automation-first-runbook-graphical/runbook-test-results.png)</span></span>
5. <span data-ttu-id="45abc-174">Fermez le canevas toohello tooreturn hello Test lame.</span><span class="sxs-lookup"><span data-stu-id="45abc-174">Close hello Test blade tooreturn toohello canvas.</span></span>

## <a name="step-4---publish-and-start-hello-runbook"></a><span data-ttu-id="45abc-175">Étape 4 : publier et démarrer hello runbook</span><span class="sxs-lookup"><span data-stu-id="45abc-175">Step 4 - Publish and start hello runbook</span></span>
<span data-ttu-id="45abc-176">Hello runbook que vous avez créée est toujours en mode brouillon.</span><span class="sxs-lookup"><span data-stu-id="45abc-176">hello runbook that we created is still in Draft mode.</span></span> <span data-ttu-id="45abc-177">Nous devons toopublish avant de l’exécuter en production.</span><span class="sxs-lookup"><span data-stu-id="45abc-177">We need toopublish it before we can run it in production.</span></span>  <span data-ttu-id="45abc-178">Lorsque vous publiez un runbook, vous remplacez la version publiée existante de hello avec brouillon hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-178">When you publish a runbook, you overwrite hello existing Published version with hello Draft version.</span></span>  <span data-ttu-id="45abc-179">Dans notre cas, nous n’avez pas une version publiée encore, car nous avons créé hello runbook.</span><span class="sxs-lookup"><span data-stu-id="45abc-179">In our case, we don't have a Published version yet because we just created hello runbook.</span></span>

1. <span data-ttu-id="45abc-180">Cliquez sur **publier** toopublish hello runbook, puis **Oui** lorsque vous y êtes invité.</span><span class="sxs-lookup"><span data-stu-id="45abc-180">Click **Publish** toopublish hello runbook and then **Yes** when prompted.</span></span><br> <span data-ttu-id="45abc-181">![Publier](media/automation-first-runbook-graphical/runbook-toolbar-publish-revised20166.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-181">![Publish](media/automation-first-runbook-graphical/runbook-toolbar-publish-revised20166.png)</span></span>
2. <span data-ttu-id="45abc-182">Si vous faites défiler les runbook de hello tooview gauche Bonjour **Runbooks** panneau, il affiche un **état de création** de **publié**.</span><span class="sxs-lookup"><span data-stu-id="45abc-182">If you scroll left tooview hello runbook in hello **Runbooks** blade, it shows an **Authoring Status** of **Published**.</span></span>
3. <span data-ttu-id="45abc-183">Panneau de hello défilement arrière toohello tooview droite pour **MyFirstRunbook**.</span><span class="sxs-lookup"><span data-stu-id="45abc-183">Scroll back toohello right tooview hello blade for **MyFirstRunbook**.</span></span>  
   <span data-ttu-id="45abc-184">Hello options haut hello nous permettent de toostart hello runbook, planifier son toostart à un moment donné dans hello futures ou créer un [webhook](automation-webhooks.md) afin de pouvoir être démarrée par un appel HTTP.</span><span class="sxs-lookup"><span data-stu-id="45abc-184">hello options across hello top allow us toostart hello runbook, schedule it toostart at some time in hello future, or create a [webhook](automation-webhooks.md) so it can be started through an HTTP call.</span></span>
4. <span data-ttu-id="45abc-185">Nous voulons simplement nous toostart hello runbook cliquez alors sur **Démarrer** , puis **Oui** lorsque vous y êtes invité.</span><span class="sxs-lookup"><span data-stu-id="45abc-185">We just want toostart hello runbook so click **Start** and then **Yes** when prompted.</span></span><br> <span data-ttu-id="45abc-186">![Démarrer un Runbook](media/automation-first-runbook-graphical/runbook-controls-start-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-186">![Start runbook](media/automation-first-runbook-graphical/runbook-controls-start-revised20165.png)</span></span>
5. <span data-ttu-id="45abc-187">Un panneau de travail est ouvert pour la tâche du runbook hello que nous avons créés.</span><span class="sxs-lookup"><span data-stu-id="45abc-187">A job blade is opened for hello runbook job that we created.</span></span>  <span data-ttu-id="45abc-188">Nous pouvons fermer ce panneau, mais dans ce cas nous laisser ouverte afin de nous pouvons observer la progression du travail hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-188">We can close this blade, but in this case we leave it open so we can watch hello job's progress.</span></span>
6. <span data-ttu-id="45abc-189">état de la tâche Hello est indiqué dans **récapitulatif** et correspondances hello états que nous avons vu lorsque nous avons testé hello runbook.</span><span class="sxs-lookup"><span data-stu-id="45abc-189">hello job status is shown in **Job Summary** and matches hello statuses that we saw when we tested hello runbook.</span></span><br> <span data-ttu-id="45abc-190">![Résumé des tâches](media/automation-first-runbook-graphical/runbook-job-summary.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-190">![Job Summary](media/automation-first-runbook-graphical/runbook-job-summary.png)</span></span>
7. <span data-ttu-id="45abc-191">Une fois hello runbook état indique *terminé*, cliquez sur **sortie**.</span><span class="sxs-lookup"><span data-stu-id="45abc-191">Once hello runbook status shows *Completed*, click **Output**.</span></span> <span data-ttu-id="45abc-192">Hello **sortie** panneau est ouvert, et nous pouvons voir notre *Hello World* dans le volet de hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-192">hello **Output** blade is opened, and we can see our *Hello World* in hello pane.</span></span><br> <span data-ttu-id="45abc-193">![Résumé des tâches](media/automation-first-runbook-graphical/runbook-job-output.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-193">![Job Summary](media/automation-first-runbook-graphical/runbook-job-output.png)</span></span>  
8. <span data-ttu-id="45abc-194">Panneau de sortie de fermeture hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-194">Close hello Output blade.</span></span>
9. <span data-ttu-id="45abc-195">Cliquez sur **tous les journaux** Panneau de flux tooopen hello pour la tâche du runbook hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-195">Click **All Logs** tooopen hello Streams blade for hello runbook job.</span></span>  <span data-ttu-id="45abc-196">Nous devons uniquement voir *Hello World* dans la sortie de hello flux, mais cela peut afficher les autres flux pour un travail de runbook telles que des commentaires et d’erreur si hello runbook écrit toothem.</span><span class="sxs-lookup"><span data-stu-id="45abc-196">We should only see *Hello World* in hello output stream, but this can show other streams for a runbook job such as Verbose and Error if hello runbook writes toothem.</span></span><br> <span data-ttu-id="45abc-197">![Résumé des tâches](media/automation-first-runbook-graphical/runbook-job-AllLogs.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-197">![Job Summary](media/automation-first-runbook-graphical/runbook-job-AllLogs.png)</span></span>
10. <span data-ttu-id="45abc-198">Fermez la lame de tous les journaux hello et panneau de hello travail panneau tooreturn toohello MyFirstRunbook.</span><span class="sxs-lookup"><span data-stu-id="45abc-198">Close hello All Logs blade and hello Job blade tooreturn toohello MyFirstRunbook blade.</span></span>
11. <span data-ttu-id="45abc-199">Cliquez sur **travaux** Panneau de travaux tooopen hello pour ce runbook.</span><span class="sxs-lookup"><span data-stu-id="45abc-199">Click **Jobs** tooopen hello Jobs blade for this runbook.</span></span>  <span data-ttu-id="45abc-200">Celle-ci répertorie toutes les tâches de hello créées par ce runbook.</span><span class="sxs-lookup"><span data-stu-id="45abc-200">This lists all hello jobs created by this runbook.</span></span> <span data-ttu-id="45abc-201">Nous devons uniquement voir une tâche répertoriée dans la mesure où nous avons uniquement les travaux hello qu’une seule fois.</span><span class="sxs-lookup"><span data-stu-id="45abc-201">We should only see one job listed since we only ran hello job once.</span></span><br> <span data-ttu-id="45abc-202">![Tâches](media/automation-first-runbook-graphical/runbook-control-jobs.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-202">![Jobs](media/automation-first-runbook-graphical/runbook-control-jobs.png)</span></span>
12. <span data-ttu-id="45abc-203">Vous pouvez cliquer sur ce travail tooopen hello même volet de travail que nous avons vu lorsque nous avons commencé hello runbook.</span><span class="sxs-lookup"><span data-stu-id="45abc-203">You can click this job tooopen hello same Job pane that we viewed when we started hello runbook.</span></span>  <span data-ttu-id="45abc-204">Ainsi, vous toogo à temps et consulter les détails de hello d’un travail qui a été créé pour un runbook donné.</span><span class="sxs-lookup"><span data-stu-id="45abc-204">This allows you toogo back in time and view hello details of any job that was created for a particular runbook.</span></span>

## <a name="step-5---create-variable-assets"></a><span data-ttu-id="45abc-205">Étape 5 - Créer des ressources de variables</span><span class="sxs-lookup"><span data-stu-id="45abc-205">Step 5 - Create variable assets</span></span>
<span data-ttu-id="45abc-206">Nous avons testé et publié notre Runbook, mais jusqu'à présent, il ne fait rien d'utile.</span><span class="sxs-lookup"><span data-stu-id="45abc-206">We've tested and published our runbook, but so far it doesn't do anything useful.</span></span> <span data-ttu-id="45abc-207">Nous souhaitons toohave gérer les ressources Azure.</span><span class="sxs-lookup"><span data-stu-id="45abc-207">We want toohave it manage Azure resources.</span></span>  <span data-ttu-id="45abc-208">Avant de configurer la hello runbook tooauthenticate, nous nous créer un ID d’abonnement toohold variable hello et à le référencer une fois que nous configurons tooauthenticate d’activité hello à l’étape 6 ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="45abc-208">Before we configure hello runbook tooauthenticate, we  create a variable toohold hello subscription ID and reference it after we set up hello activity tooauthenticate in step 6 below.</span></span>  <span data-ttu-id="45abc-209">Y compris un contexte d’abonnement toohello référence vous permet de travail tooeasily entre plusieurs abonnements.</span><span class="sxs-lookup"><span data-stu-id="45abc-209">Including a reference toohello subscription context allows you tooeasily work between multiple subscriptions.</span></span>  <span data-ttu-id="45abc-210">Avant de continuer, copiez votre ID d’abonnement à partir de hello option abonnements de volet de Navigation hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-210">Before proceeding, copy your subscription ID from hello Subscriptions option off hello Navigation pane.</span></span>  

1. <span data-ttu-id="45abc-211">Dans le panneau de comptes Automation hello, cliquez sur hello **actifs** vignette et hello **actifs** panneau est ouvert.</span><span class="sxs-lookup"><span data-stu-id="45abc-211">In hello Automation Accounts blade, click hello **Assets** tile and hello **Assets** blade is opened.</span></span>
2. <span data-ttu-id="45abc-212">Dans le panneau des ressources hello, cliquez sur hello **Variables** vignette.</span><span class="sxs-lookup"><span data-stu-id="45abc-212">In hello Assets blade, click hello **Variables** tile.</span></span>
3. <span data-ttu-id="45abc-213">Dans le panneau Variables de hello, cliquez sur **ajouter une variable**.</span><span class="sxs-lookup"><span data-stu-id="45abc-213">On hello Variables blade, click **Add a variable**.</span></span><br><span data-ttu-id="45abc-214">![Variable Automation](media/automation-first-runbook-graphical/create-new-subscriptionid-variable.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-214">![Automation Variable](media/automation-first-runbook-graphical/create-new-subscriptionid-variable.png)</span></span>
4. <span data-ttu-id="45abc-215">Dans Panneau de variable hello nouvelle, Bonjour **nom** , entrez **AzureSubscriptionId** et Bonjour **valeur** Entrez votre ID d’abonnement.</span><span class="sxs-lookup"><span data-stu-id="45abc-215">In hello New variable blade, in hello **Name** box, enter **AzureSubscriptionId** and in hello **Value** box enter your Subscription ID.</span></span>  <span data-ttu-id="45abc-216">Conserver *chaîne* pour hello **Type** et valeur par défaut de hello **chiffrement**.</span><span class="sxs-lookup"><span data-stu-id="45abc-216">Keep *string* for hello **Type** and hello default value for **Encryption**.</span></span>  
5. <span data-ttu-id="45abc-217">Cliquez sur **créer** variable de hello toocreate.</span><span class="sxs-lookup"><span data-stu-id="45abc-217">Click **Create** toocreate hello variable.</span></span>  

## <a name="step-6---add-authentication-toomanage-azure-resources"></a><span data-ttu-id="45abc-218">Étape 6 : ajouter l’authentification toomanage ressources Azure</span><span class="sxs-lookup"><span data-stu-id="45abc-218">Step 6 - Add authentication toomanage Azure resources</span></span>
<span data-ttu-id="45abc-219">Maintenant que nous disposons d’une variable toohold notre ID d’abonnement, nous pouvons configurer notre tooauthenticate runbook avec hello exécuter en tant qu’informations d’identification qui sont visées tooin hello [conditions préalables](#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="45abc-219">Now that we have a variable toohold our subscription ID, we can configure our runbook tooauthenticate with hello Run As credentials that are referred tooin hello [prerequisites](#prerequisites).</span></span>  <span data-ttu-id="45abc-220">Il suffit d’ajouter hello Azure exécuter en tant que connexion **Asset** et **Add-AzureRMAccount** applet de commande toohello canevas.</span><span class="sxs-lookup"><span data-stu-id="45abc-220">We do that by adding hello Azure Run As connection **Asset** and **Add-AzureRMAccount** cmdlet toohello canvas.</span></span>  

1. <span data-ttu-id="45abc-221">Éditeur graphique de hello ouvrir en cliquant sur **modifier** sur le panneau de MyFirstRunbook hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-221">Open hello graphical editor by clicking **Edit** on hello MyFirstRunbook blade.</span></span><br> <span data-ttu-id="45abc-222">![Modifier un Runbook](media/automation-first-runbook-graphical/runbook-controls-edit-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-222">![Edit runbook](media/automation-first-runbook-graphical/runbook-controls-edit-revised20165.png)</span></span>
2. <span data-ttu-id="45abc-223">Nous ne devons hello **écrire Hello World toooutput** , par conséquent, faites un clic droit et sélectionnez **supprimer**.</span><span class="sxs-lookup"><span data-stu-id="45abc-223">We don't need hello **Write Hello World toooutput** anymore, so right-click it and select **Delete**.</span></span>
3. <span data-ttu-id="45abc-224">Bonjour contrôle de la bibliothèque, développez **connexions** et ajoutez **AzureRunAsConnection** toohello de zone de dessin en sélectionnant **ajouter toocanvas**.</span><span class="sxs-lookup"><span data-stu-id="45abc-224">In hello Library control, expand **Connections** and add **AzureRunAsConnection** toohello canvas by selecting **Add toocanvas**.</span></span>
4. <span data-ttu-id="45abc-225">Dans la zone de dessin hello, sélectionnez **AzureRunAsConnection** et, dans le volet de contrôle de Configuration hello, tapez **obtenir exécuter en tant que connexion** Bonjour **étiquette** zone de texte.</span><span class="sxs-lookup"><span data-stu-id="45abc-225">On hello canvas, select **AzureRunAsConnection** and in hello Configuration control pane, type **Get Run As Connection** in hello **Label** textbox.</span></span>  <span data-ttu-id="45abc-226">Il s’agit hello connexion</span><span class="sxs-lookup"><span data-stu-id="45abc-226">This is hello connection</span></span>
5. <span data-ttu-id="45abc-227">Dans le contrôle de la bibliothèque de hello, tapez **Add-AzureRmAccount** dans la zone de texte Rechercher hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-227">In hello Library control, type **Add-AzureRmAccount** in hello search textbox.</span></span>
6. <span data-ttu-id="45abc-228">Ajouter **Add-AzureRmAccount** toohello la zone de dessin.</span><span class="sxs-lookup"><span data-stu-id="45abc-228">Add **Add-AzureRmAccount** toohello canvas.</span></span><br> <span data-ttu-id="45abc-229">![Add-AzureRMAccount](media/automation-first-runbook-graphical/search-powershell-cmdlet-addazurermaccount.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-229">![Add-AzureRMAccount](media/automation-first-runbook-graphical/search-powershell-cmdlet-addazurermaccount.png)</span></span>
7. <span data-ttu-id="45abc-230">Placez le curseur sur **obtenir exécuter en tant que connexion** jusqu'à ce qu’un cercle apparaît sous forme de hello hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-230">Hover over **Get Run As Connection** until a circle appears on hello bottom of hello shape.</span></span> <span data-ttu-id="45abc-231">Cliquez sur le cercle de hello et faites glisser la flèche de hello trop**Add-AzureRmAccount**.</span><span class="sxs-lookup"><span data-stu-id="45abc-231">Click hello circle and drag hello arrow too**Add-AzureRmAccount**.</span></span>  <span data-ttu-id="45abc-232">flèche Hello que vous avez créé est un *lien*.</span><span class="sxs-lookup"><span data-stu-id="45abc-232">hello arrow that you created is a *link*.</span></span>  <span data-ttu-id="45abc-233">Hello runbook démarre avec **obtenir exécuter en tant que connexion** , puis exécutez **Add-AzureRmAccount**.</span><span class="sxs-lookup"><span data-stu-id="45abc-233">hello runbook starts with **Get Run As Connection** and then run **Add-AzureRmAccount**.</span></span><br> <span data-ttu-id="45abc-234">![Créer un lien entre des activités](media/automation-first-runbook-graphical/runbook-link-auth-activities.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-234">![Create link between activities](media/automation-first-runbook-graphical/runbook-link-auth-activities.png)</span></span>
8. <span data-ttu-id="45abc-235">Dans la zone de dessin hello, sélectionnez **Add-AzureRmAccount** et Bonjour Configuration contrôler le type de volet **connexion tooAzure** Bonjour **étiquette** zone de texte.</span><span class="sxs-lookup"><span data-stu-id="45abc-235">On hello canvas, select **Add-AzureRmAccount** and in hello Configuration control pane type **Login tooAzure** in hello **Label** textbox.</span></span>
9. <span data-ttu-id="45abc-236">Cliquez sur **paramètres** et panneau de Configuration de paramètre d’activité hello s’affiche.</span><span class="sxs-lookup"><span data-stu-id="45abc-236">Click **Parameters** and hello Activity Parameter Configuration blade appears.</span></span>
10. <span data-ttu-id="45abc-237">**AzureRmAccount ajouter** a plusieurs jeux de paramètres, donc nous tooselect un avant que nous pouvons fournir des valeurs de paramètre.</span><span class="sxs-lookup"><span data-stu-id="45abc-237">**Add-AzureRmAccount** has multiple parameter sets, so we need tooselect one before we can provide parameter values.</span></span>  <span data-ttu-id="45abc-238">Cliquez sur **paramètre la valeur** , puis sélectionnez hello **ServicePrincipalCertificatewithSubscriptionId** jeu de paramètres.</span><span class="sxs-lookup"><span data-stu-id="45abc-238">Click **Parameter Set** and then select hello **ServicePrincipalCertificatewithSubscriptionId** parameter set.</span></span>
11. <span data-ttu-id="45abc-239">Une fois que vous sélectionnez le jeu de paramètres hello, paramètres de hello s’affichent dans le panneau de Configuration de paramètre d’activité hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-239">Once you select hello parameter set, hello parameters are displayed in hello Activity Parameter Configuration blade.</span></span>  <span data-ttu-id="45abc-240">Cliquez sur **APPLICATIONID**.</span><span class="sxs-lookup"><span data-stu-id="45abc-240">Click **APPLICATIONID**.</span></span><br> <span data-ttu-id="45abc-241">![Ajouter des paramètres de compte Azure RM](media/automation-first-runbook-graphical/add-azurermaccount-params.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-241">![Add Azure RM account parameters](media/automation-first-runbook-graphical/add-azurermaccount-params.png)</span></span>
12. <span data-ttu-id="45abc-242">Dans le panneau de la valeur du paramètre hello, sélectionnez **sortie d’activité** pour hello **source de données** et sélectionnez **obtenir exécuter en tant que connexion** à partir de la liste hello, Bonjour **champ chemin d’accès** type de zone de texte **ApplicationId**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="45abc-242">In hello Parameter Value blade, select **Activity output** for hello **Data source** and select **Get Run As Connection** from hello list, in hello **Field path** textbox type **ApplicationId**, and then click **OK**.</span></span>  <span data-ttu-id="45abc-243">Nous spécifions nom hello de propriété de hello pour le chemin d’accès du champ hello, car l’activité hello génère un objet avec plusieurs propriétés.</span><span class="sxs-lookup"><span data-stu-id="45abc-243">We are specifying hello name of hello property for hello Field path because hello activity outputs an object with multiple properties.</span></span>
13. <span data-ttu-id="45abc-244">Cliquez sur **CERTIFICATETHUMBPRINT**et dans le panneau de la valeur du paramètre hello, sélectionnez **sortie d’activité** pour hello **source de données**.</span><span class="sxs-lookup"><span data-stu-id="45abc-244">Click **CERTIFICATETHUMBPRINT**, and in hello Parameter Value blade, select **Activity output** for hello **Data source**.</span></span>  <span data-ttu-id="45abc-245">Sélectionnez **obtenir exécuter en tant que connexion** à partir de la liste hello, Bonjour **chemin d’accès du champ** type de zone de texte **CertificateThumbprint**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="45abc-245">Select **Get Run As Connection** from hello list, in hello **Field path** textbox type **CertificateThumbprint**, and then click **OK**.</span></span>
14. <span data-ttu-id="45abc-246">Cliquez sur **SERVICEPRINCIPAL**et dans le panneau de la valeur du paramètre hello, sélectionnez **ConstantValue** pour hello **source de données**, cliquez sur hello option **True**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="45abc-246">Click **SERVICEPRINCIPAL**, and in hello Parameter Value blade, select **ConstantValue** for hello **Data source**, click hello option **True**, and then click **OK**.</span></span>
15. <span data-ttu-id="45abc-247">Cliquez sur **TENANTID**et dans le panneau de la valeur du paramètre hello, sélectionnez **sortie d’activité** pour hello **source de données**.</span><span class="sxs-lookup"><span data-stu-id="45abc-247">Click **TENANTID**, and in hello Parameter Value blade, select **Activity output** for hello **Data source**.</span></span>  <span data-ttu-id="45abc-248">Sélectionnez **obtenir exécuter en tant que connexion** à partir de la liste hello, Bonjour **chemin d’accès du champ** type de zone de texte **TenantId**, puis cliquez sur **OK** à deux reprises.</span><span class="sxs-lookup"><span data-stu-id="45abc-248">Select **Get Run As Connection** from hello list, in hello **Field path** textbox type **TenantId**, and then click **OK** twice.</span></span>  
16. <span data-ttu-id="45abc-249">Dans le contrôle de la bibliothèque de hello, tapez **Set-AzureRmContext** dans la zone de texte Rechercher hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-249">In hello Library control, type **Set-AzureRmContext** in hello search textbox.</span></span>
17. <span data-ttu-id="45abc-250">Ajouter **Set-AzureRmContext** toohello la zone de dessin.</span><span class="sxs-lookup"><span data-stu-id="45abc-250">Add **Set-AzureRmContext** toohello canvas.</span></span>
18. <span data-ttu-id="45abc-251">Dans la zone de dessin hello, sélectionnez **Set-AzureRmContext** et Bonjour Configuration contrôler le type de volet **Id d’abonnement spécifier** Bonjour **étiquette** zone de texte.</span><span class="sxs-lookup"><span data-stu-id="45abc-251">On hello canvas, select **Set-AzureRmContext** and in hello Configuration control pane type **Specify Subscription Id** in hello **Label** textbox.</span></span>
19. <span data-ttu-id="45abc-252">Cliquez sur **paramètres** et panneau de Configuration de paramètre d’activité hello s’affiche.</span><span class="sxs-lookup"><span data-stu-id="45abc-252">Click **Parameters** and hello Activity Parameter Configuration blade appears.</span></span>
20. <span data-ttu-id="45abc-253">**Set-AzureRmContext** a plusieurs jeux de paramètres, donc nous tooselect un avant que nous pouvons fournir des valeurs de paramètre.</span><span class="sxs-lookup"><span data-stu-id="45abc-253">**Set-AzureRmContext** has multiple parameter sets, so we need tooselect one before we can provide parameter values.</span></span>  <span data-ttu-id="45abc-254">Cliquez sur **paramètre la valeur** , puis sélectionnez hello **SubscriptionId** jeu de paramètres.</span><span class="sxs-lookup"><span data-stu-id="45abc-254">Click **Parameter Set** and then select hello **SubscriptionId** parameter set.</span></span>  
21. <span data-ttu-id="45abc-255">Une fois que vous sélectionnez le jeu de paramètres hello, paramètres de hello s’affichent dans le panneau de Configuration de paramètre d’activité hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-255">Once you select hello parameter set, hello parameters are displayed in hello Activity Parameter Configuration blade.</span></span>  <span data-ttu-id="45abc-256">Cliquez sur **SubscriptionID**</span><span class="sxs-lookup"><span data-stu-id="45abc-256">Click **SubscriptionID**</span></span>
22. <span data-ttu-id="45abc-257">Dans le panneau de la valeur du paramètre hello, sélectionnez **ressource de Variable** pour hello **source de données** et sélectionnez **AzureSubscriptionId** à partir de la liste de hello, puis cliquez sur **OK**  à deux reprises.</span><span class="sxs-lookup"><span data-stu-id="45abc-257">In hello Parameter Value blade, select **Variable Asset** for hello **Data source** and select **AzureSubscriptionId** from hello list and then click **OK** twice.</span></span>   
23. <span data-ttu-id="45abc-258">Placez le curseur sur **connexion tooAzure** jusqu'à ce qu’un cercle apparaît sous forme de hello hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-258">Hover over **Login tooAzure** until a circle appears on hello bottom of hello shape.</span></span> <span data-ttu-id="45abc-259">Cliquez sur le cercle de hello et faites glisser la flèche de hello trop**Id d’abonnement spécifier**.</span><span class="sxs-lookup"><span data-stu-id="45abc-259">Click hello circle and drag hello arrow too**Specify Subscription Id**.</span></span>

<span data-ttu-id="45abc-260">Votre runbook doit ressembler à hello suivant à ce stade :</span><span class="sxs-lookup"><span data-stu-id="45abc-260">Your runbook should look like hello following at this point:</span></span> <br>![Configuration de l’authentification de runbook](media/automation-first-runbook-graphical/runbook-auth-config.png)

## <a name="step-7---add-activity-toostart-a-virtual-machine"></a><span data-ttu-id="45abc-262">Étape 7 : ajouter l’activité toostart une machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="45abc-262">Step 7 - Add activity toostart a virtual machine</span></span>
<span data-ttu-id="45abc-263">Ici, nous ajoutons un **Start-AzureRmVM** toostart d’activité une machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="45abc-263">Here we add a **Start-AzureRmVM** activity toostart a virtual machine.</span></span>  <span data-ttu-id="45abc-264">Vous pouvez choisir n’importe quel ordinateur virtuel dans votre abonnement Azure et pour maintenant vous codez nom dans l’applet de commande hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-264">You can pick any virtual machine in your Azure subscription, and for now you hardcode that name into hello cmdlet.</span></span>

1. <span data-ttu-id="45abc-265">Dans le contrôle de la bibliothèque de hello, tapez **Start-Azure Resource Manager** dans la zone de texte Rechercher hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-265">In hello Library control, type **Start-AzureRm** in hello search textbox.</span></span>
2. <span data-ttu-id="45abc-266">Ajouter **Start-AzureRmVM** toohello canevas puis cliquez et faites-le glisser en dessous **Id d’abonnement spécifier**.</span><span class="sxs-lookup"><span data-stu-id="45abc-266">Add **Start-AzureRmVM** toohello canvas and then click and drag it underneath **Specify Subscription Id**.</span></span>
3. <span data-ttu-id="45abc-267">Placez le curseur sur **Id d’abonnement spécifier** jusqu'à ce qu’un cercle apparaît sous forme de hello hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-267">Hover over **Specify Subscription Id** until a circle appears on hello bottom of hello shape.</span></span>  <span data-ttu-id="45abc-268">Cliquez sur le cercle de hello et faites glisser la flèche de hello trop**Start-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="45abc-268">Click hello circle and drag hello arrow too**Start-AzureRmVM**.</span></span>
4. <span data-ttu-id="45abc-269">Sélectionnez **Start-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="45abc-269">Select **Start-AzureRmVM**.</span></span>  <span data-ttu-id="45abc-270">Cliquez sur **paramètres** , puis **paramètre la valeur** tooview hello définit pour **Start-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="45abc-270">Click **Parameters** and then **Parameter Set** tooview hello sets for **Start-AzureRmVM**.</span></span>  <span data-ttu-id="45abc-271">Sélectionnez hello **ResourceGroupNameParameterSetName** jeu de paramètres.</span><span class="sxs-lookup"><span data-stu-id="45abc-271">Select hello **ResourceGroupNameParameterSetName** parameter set.</span></span> <span data-ttu-id="45abc-272">Notez que des points d’exclamation apparaissent en regard des paramètres **ResourceGroupName** et **Name**.</span><span class="sxs-lookup"><span data-stu-id="45abc-272">Note that **ResourceGroupName** and **Name** have exclamation points next them.</span></span>  <span data-ttu-id="45abc-273">Ils indiquent que ces paramètres sont obligatoires.</span><span class="sxs-lookup"><span data-stu-id="45abc-273">This indicates that they are required parameters.</span></span>  <span data-ttu-id="45abc-274">Notez également que les deux attendent des valeurs de chaîne.</span><span class="sxs-lookup"><span data-stu-id="45abc-274">Also note both expect string values.</span></span>
5. <span data-ttu-id="45abc-275">Sélectionnez **Name**.</span><span class="sxs-lookup"><span data-stu-id="45abc-275">Select **Name**.</span></span>  <span data-ttu-id="45abc-276">Sélectionnez **expression PowerShell** pour hello **source de données** et tapez Bonjour nom d’ordinateur virtuel de hello entouré de guillemets doubles qui nous commençons avec ce runbook.</span><span class="sxs-lookup"><span data-stu-id="45abc-276">Select **PowerShell expression** for hello **Data source** and type in hello name of hello virtual machine surrounded with double quotes that we start with this runbook.</span></span>  <span data-ttu-id="45abc-277">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="45abc-277">Click **OK**.</span></span><br><span data-ttu-id="45abc-278">![Valeur du paramètre Name Start-AzureRmVM](media/automation-first-runbook-graphical/runbook-startvm-nameparameter.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-278">![Start-AzureRmVM Name Parameter Value](media/automation-first-runbook-graphical/runbook-startvm-nameparameter.png)</span></span>
6. <span data-ttu-id="45abc-279">Sélectionnez **ResourceGroupName**.</span><span class="sxs-lookup"><span data-stu-id="45abc-279">Select **ResourceGroupName**.</span></span> <span data-ttu-id="45abc-280">Utilisez **expression PowerShell** pour hello **source de données** et tapez Bonjour nom du groupe de ressources hello entouré de guillemets doubles.</span><span class="sxs-lookup"><span data-stu-id="45abc-280">Use **PowerShell expression** for hello **Data source** and type in hello name of hello resource group surrounded with double quotes.</span></span>  <span data-ttu-id="45abc-281">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="45abc-281">Click **OK**.</span></span><br> <span data-ttu-id="45abc-282">![Paramètres Start-AzureRmVM](media/automation-first-runbook-graphical/startazurermvm-params.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-282">![Start-AzureRmVM Parameters](media/automation-first-runbook-graphical/startazurermvm-params.png)</span></span>
7. <span data-ttu-id="45abc-283">Cliquez sur volet de Test afin que nous puissions tester hello runbook.</span><span class="sxs-lookup"><span data-stu-id="45abc-283">Click Test pane so that we can test hello runbook.</span></span>
8. <span data-ttu-id="45abc-284">Cliquez sur **Démarrer** test de hello toostart.</span><span class="sxs-lookup"><span data-stu-id="45abc-284">Click **Start** toostart hello test.</span></span>  <span data-ttu-id="45abc-285">Une fois terminée, vérifiez que l’ordinateur virtuel hello a été démarré.</span><span class="sxs-lookup"><span data-stu-id="45abc-285">Once it completes, check that hello virtual machine was started.</span></span>

<span data-ttu-id="45abc-286">Votre runbook doit ressembler à hello suivant à ce stade :</span><span class="sxs-lookup"><span data-stu-id="45abc-286">Your runbook should look like hello following at this point:</span></span> <br>![Configuration de l’authentification de runbook](media/automation-first-runbook-graphical/runbook-startvm.png)

## <a name="step-8---add-additional-input-parameters-toohello-runbook"></a><span data-ttu-id="45abc-288">Étape 8 - ajouter des paramètres d’entrée supplémentaires toohello runbook</span><span class="sxs-lookup"><span data-stu-id="45abc-288">Step 8 - Add additional input parameters toohello runbook</span></span>
<span data-ttu-id="45abc-289">Notre runbook démarre actuellement hello virtual machine dans le groupe de ressources hello que nous avons spécifié dans hello **AzureRmVM de début** applet de commande.</span><span class="sxs-lookup"><span data-stu-id="45abc-289">Our runbook currently starts hello virtual machine in hello resource group that we specified in hello **Start-AzureRmVM** cmdlet.</span></span>  <span data-ttu-id="45abc-290">Notre runbook peut être plus utile si nous pouvons spécifier à la fois au démarrage hello runbook.</span><span class="sxs-lookup"><span data-stu-id="45abc-290">Our runbook would be more useful if we could specify both when hello runbook is started.</span></span>  <span data-ttu-id="45abc-291">Nous ajoutons maintenant des paramètres d’entrée toohello runbook tooprovide cette fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="45abc-291">We now add input parameters toohello runbook tooprovide that functionality.</span></span>

1. <span data-ttu-id="45abc-292">Éditeur graphique de hello ouvrir en cliquant sur **modifier** sur hello **MyFirstRunbook** volet.</span><span class="sxs-lookup"><span data-stu-id="45abc-292">Open hello graphical editor by clicking **Edit** on hello **MyFirstRunbook** pane.</span></span>
2. <span data-ttu-id="45abc-293">Cliquez sur **d’entrée et de sortie** , puis **Ajout de l’entrée** volet de paramètre d’entrée du Runbook tooopen hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-293">Click **Input and output** and then **Add input** tooopen hello Runbook Input Parameter pane.</span></span><br> <span data-ttu-id="45abc-294">![Entrée et sortie de Runbook](media/automation-first-runbook-graphical/runbook-toolbar-InputandOutput-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-294">![Runbook Input and Output](media/automation-first-runbook-graphical/runbook-toolbar-InputandOutput-revised20165.png)</span></span>
3. <span data-ttu-id="45abc-295">Spécifiez *VMName* pour hello **nom**.</span><span class="sxs-lookup"><span data-stu-id="45abc-295">Specify *VMName* for hello **Name**.</span></span>  <span data-ttu-id="45abc-296">Conserver *chaîne* pour hello **Type**, mais modifier **obligatoire** trop*Oui*.</span><span class="sxs-lookup"><span data-stu-id="45abc-296">Keep *string* for hello **Type**, but change **Mandatory** too*Yes*.</span></span>  <span data-ttu-id="45abc-297">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="45abc-297">Click **OK**.</span></span>
4. <span data-ttu-id="45abc-298">Créez un paramètre d’entrée obligatoire ensuite appelé *ResourceGroupName* puis cliquez sur **OK** tooclose hello **d’entrée et sortie** volet.</span><span class="sxs-lookup"><span data-stu-id="45abc-298">Create a second mandatory input parameter called *ResourceGroupName* and then click **OK** tooclose hello **Input and Output** pane.</span></span><br> <span data-ttu-id="45abc-299">![Paramètres d'entrée de Runbook](media/automation-first-runbook-graphical/start-azurermvm-params-outputs.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-299">![Runbook Input Parameters](media/automation-first-runbook-graphical/start-azurermvm-params-outputs.png)</span></span>
5. <span data-ttu-id="45abc-300">Sélectionnez hello **Start-AzureRmVM** activité, puis cliquez sur **paramètres**.</span><span class="sxs-lookup"><span data-stu-id="45abc-300">Select hello **Start-AzureRmVM** activity and then click **Parameters**.</span></span>
6. <span data-ttu-id="45abc-301">Hello de modification **source de données** pour **nom** trop**Runbook entrée** , puis sélectionnez **VMName**.</span><span class="sxs-lookup"><span data-stu-id="45abc-301">Change hello **Data source** for **Name** too**Runbook input** and then select **VMName**.</span></span><br>
7. <span data-ttu-id="45abc-302">Hello de modification **source de données** pour **ResourceGroupName** trop**Runbook entrée** , puis sélectionnez **ResourceGroupName**.</span><span class="sxs-lookup"><span data-stu-id="45abc-302">Change hello **Data source** for **ResourceGroupName** too**Runbook input** and then select **ResourceGroupName**.</span></span><br> <span data-ttu-id="45abc-303">![Paramètres Start-AzureVM](media/automation-first-runbook-graphical/start-azurermvm-params-runbookinput.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-303">![Start-AzureVM Parameters](media/automation-first-runbook-graphical/start-azurermvm-params-runbookinput.png)</span></span>
8. <span data-ttu-id="45abc-304">Enregistrer les runbook hello et ouvrir le volet de Test hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-304">Save hello runbook and open hello Test pane.</span></span>  <span data-ttu-id="45abc-305">Notez que vous pouvez maintenant fournir des valeurs pour hello deux variables d’entrée que vous utilisez dans le test de hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-305">Note that you can now provide values for hello two input variables that you use in hello test.</span></span>
9. <span data-ttu-id="45abc-306">Volet de Test hello fermer.</span><span class="sxs-lookup"><span data-stu-id="45abc-306">Close hello Test pane.</span></span>
10. <span data-ttu-id="45abc-307">Cliquez sur **publier** toopublish hello nouvelle version du runbook de hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-307">Click **Publish** toopublish hello new version of hello runbook.</span></span>
11. <span data-ttu-id="45abc-308">Arrêter la machine virtuelle hello que vous avez démarrées à l’étape précédente de hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-308">Stop hello virtual machine that you started in hello previous step.</span></span>
12. <span data-ttu-id="45abc-309">Cliquez sur **Démarrer** toostart hello runbook.</span><span class="sxs-lookup"><span data-stu-id="45abc-309">Click **Start** toostart hello runbook.</span></span>  <span data-ttu-id="45abc-310">Type Bonjour **VMName** et **ResourceGroupName** pour la machine virtuelle de hello que vous allez toostart.</span><span class="sxs-lookup"><span data-stu-id="45abc-310">Type in hello **VMName** and **ResourceGroupName** for hello virtual machine that you're going toostart.</span></span><br> <span data-ttu-id="45abc-311">![Start Runbook](media/automation-first-runbook-graphical/runbook-start-inputparams.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-311">![Start Runbook](media/automation-first-runbook-graphical/runbook-start-inputparams.png)</span></span>
13. <span data-ttu-id="45abc-312">Lorsque hello runbook est terminée, vérifiez que l’ordinateur virtuel hello a été démarré.</span><span class="sxs-lookup"><span data-stu-id="45abc-312">When hello runbook completes, check that hello virtual machine was started.</span></span>

## <a name="step-9---create-a-conditional-link"></a><span data-ttu-id="45abc-313">Étape 9 - Création d’un lien conditionnel</span><span class="sxs-lookup"><span data-stu-id="45abc-313">Step 9 - Create a conditional link</span></span>
<span data-ttu-id="45abc-314">Nous avons à présent modifier hello runbook afin qu’il tente uniquement toostart hello virtual machine s’il n’est pas déjà démarré.</span><span class="sxs-lookup"><span data-stu-id="45abc-314">We now modify hello runbook so that it only attempts toostart hello virtual machine if it is not already started.</span></span>  <span data-ttu-id="45abc-315">Pour cela, vous devez ajouter un **Get-AzureRmVM** runbook toohello applet de commande qui obtient l’état de niveau de l’instance de la machine virtuelle de hello hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-315">You do this by adding a **Get-AzureRmVM** cmdlet toohello runbook that gets hello instance level status of hello virtual machine.</span></span> <span data-ttu-id="45abc-316">Puis vous ajoutez un module de code PowerShell Workflow appelé **obtenir le statut** avec PowerShell un extrait de code de toodetermine hello ordinateur virtuel est en cours d’exécution ou arrêté.</span><span class="sxs-lookup"><span data-stu-id="45abc-316">Then you add a PowerShell Workflow code module called **Get Status** with a snippet of PowerShell code toodetermine if hello virtual machine state is running or stopped.</span></span>  <span data-ttu-id="45abc-317">Un lien conditionnel de hello **obtenir le statut** module s’exécute uniquement **Start-AzureRmVM** si l’état d’exécution actuel hello est arrêté.</span><span class="sxs-lookup"><span data-stu-id="45abc-317">A conditional link from hello **Get Status** module only runs **Start-AzureRmVM** if hello current running state is stopped.</span></span>  <span data-ttu-id="45abc-318">Enfin, nous avons un tooinform message si hello machine virtuelle a été démarrée correctement ou non à l’aide hello applet de commande PowerShell Write-Output de sortie.</span><span class="sxs-lookup"><span data-stu-id="45abc-318">Finally, we output a message tooinform you if hello VM was successfully started or not using hello PowerShell Write-Output cmdlet.</span></span>

1. <span data-ttu-id="45abc-319">Ouvrez **MyFirstRunbook** dans l’éditeur graphique de hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-319">Open **MyFirstRunbook** in hello graphical editor.</span></span>
2. <span data-ttu-id="45abc-320">Supprimer le lien entre hello **spécifiez Id d’abonnement** et **Start-AzureRmVM** en cliquant dessus et en appuyant sur hello *supprimer* clé.</span><span class="sxs-lookup"><span data-stu-id="45abc-320">Remove hello link between **Specify Subscription Id** and **Start-AzureRmVM** by clicking on it and then pressing hello *Delete* key.</span></span>
3. <span data-ttu-id="45abc-321">Dans le contrôle de la bibliothèque de hello, tapez **Get-AzureRm** dans la zone de texte Rechercher hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-321">In hello Library control, type **Get-AzureRm** in hello search textbox.</span></span>
4. <span data-ttu-id="45abc-322">Ajouter **Get-AzureRmVM** toohello la zone de dessin.</span><span class="sxs-lookup"><span data-stu-id="45abc-322">Add **Get-AzureRmVM** toohello canvas.</span></span>
5. <span data-ttu-id="45abc-323">Sélectionnez **Get-AzureRmVM** , puis **paramètre la valeur** tooview hello définit pour **Get-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="45abc-323">Select **Get-AzureRmVM** and then **Parameter Set** tooview hello sets for **Get-AzureRmVM**.</span></span>  <span data-ttu-id="45abc-324">Sélectionnez hello **GetVirtualMachineInResourceGroupNameParamSet** jeu de paramètres.</span><span class="sxs-lookup"><span data-stu-id="45abc-324">Select hello **GetVirtualMachineInResourceGroupNameParamSet** parameter set.</span></span>  <span data-ttu-id="45abc-325">Notez que des points d’exclamation apparaissent en regard des paramètres **ResourceGroupName** et **Name**.</span><span class="sxs-lookup"><span data-stu-id="45abc-325">Note that **ResourceGroupName** and **Name** have exclamation points next them.</span></span>  <span data-ttu-id="45abc-326">Ils indiquent que ces paramètres sont obligatoires.</span><span class="sxs-lookup"><span data-stu-id="45abc-326">This indicates that they are required parameters.</span></span>  <span data-ttu-id="45abc-327">Notez également que les deux attendent des valeurs de chaîne.</span><span class="sxs-lookup"><span data-stu-id="45abc-327">Also note both expect string values.</span></span>
6. <span data-ttu-id="45abc-328">Pour le paramètre **Name** sous **Source de données**, sélectionnez **Entrée du Runbook** puis **VMName**.</span><span class="sxs-lookup"><span data-stu-id="45abc-328">Under **Data source** for **Name**, select **Runbook input** and then select **VMName**.</span></span>  <span data-ttu-id="45abc-329">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="45abc-329">Click **OK**.</span></span>
7. <span data-ttu-id="45abc-330">Pour le paramètre **ResourceGroupName** sous **Source de données**, sélectionnez **Entrée de Runbook**, puis **ResourceGroupName**.</span><span class="sxs-lookup"><span data-stu-id="45abc-330">Under **Data source** for **ResourceGroupName**, select **Runbook input** and then select **ResourceGroupName**.</span></span>  <span data-ttu-id="45abc-331">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="45abc-331">Click **OK**.</span></span>
8. <span data-ttu-id="45abc-332">Pour le paramètre **Status** sous **Source de données**, sélectionnez **Valeur constante**, puis cliquez sur **True**.</span><span class="sxs-lookup"><span data-stu-id="45abc-332">Under **Data source** for **Status**, select **Constant value** and then click  **True**.</span></span>  <span data-ttu-id="45abc-333">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="45abc-333">Click **OK**.</span></span>  
9. <span data-ttu-id="45abc-334">Créer un lien à partir de **Id d’abonnement spécifier** trop**Get-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="45abc-334">Create a link from **Specify Subscription Id** too**Get-AzureRmVM**.</span></span>
10. <span data-ttu-id="45abc-335">Dans le contrôle de la bibliothèque hello, développez **contrôle de Runbook** et ajoutez **Code** toohello la zone de dessin.</span><span class="sxs-lookup"><span data-stu-id="45abc-335">In hello library control, expand **Runbook Control** and add **Code** toohello canvas.</span></span>  
11. <span data-ttu-id="45abc-336">Créer un lien à partir de **Get-AzureRmVM** trop**Code**.</span><span class="sxs-lookup"><span data-stu-id="45abc-336">Create a link from **Get-AzureRmVM** too**Code**.</span></span>  
12. <span data-ttu-id="45abc-337">Cliquez sur **Code** et dans le volet de Configuration hello, étiquette également modifier**obtenir le statut de**.</span><span class="sxs-lookup"><span data-stu-id="45abc-337">Click **Code** and in hello Configuration pane, change label too**Get Status**.</span></span>
13. <span data-ttu-id="45abc-338">Sélectionnez **Code** paramètre et hello **éditeur de Code** panneau s’affiche.</span><span class="sxs-lookup"><span data-stu-id="45abc-338">Select **Code** parameter, and hello **Code Editor** blade appears.</span></span>  
14. <span data-ttu-id="45abc-339">Dans l’éditeur de code hello, collez hello suivant extrait de code :</span><span class="sxs-lookup"><span data-stu-id="45abc-339">In hello code editor, paste hello following snippet of code:</span></span>
    
     ```
     $StatusesJson = $ActivityOutput['Get-AzureRmVM'].StatusesText
     $Statuses = ConvertFrom-Json $StatusesJson
     $StatusOut =""
     foreach ($Status in $Statuses){
     if($Status.Code -eq "Powerstate/running"){$StatusOut = "running"}
     elseif ($Status.Code -eq "Powerstate/deallocated") {$StatusOut = "stopped"}
     }
     $StatusOut
     ```
15. <span data-ttu-id="45abc-340">Créer un lien à partir de **obtenir le statut** trop**Start-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="45abc-340">Create a link from **Get Status** too**Start-AzureRmVM**.</span></span><br> <span data-ttu-id="45abc-341">![Runbook avec module de code](media/automation-first-runbook-graphical/runbook-startvm-get-status.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-341">![Runbook with Code Module](media/automation-first-runbook-graphical/runbook-startvm-get-status.png)</span></span>  
16. <span data-ttu-id="45abc-342">Sélectionnez le lien de hello et dans le volet de Configuration hello, modifiez **appliquer la condition** trop**Oui**.</span><span class="sxs-lookup"><span data-stu-id="45abc-342">Select hello link and in hello Configuration pane, change **Apply condition** too**Yes**.</span></span>   <span data-ttu-id="45abc-343">Lien de hello note active ligne tooa en pointillé indiquant qu’activité de cible de hello s’exécute uniquement si la condition de hello résout tootrue.</span><span class="sxs-lookup"><span data-stu-id="45abc-343">Note hello link turns tooa dashed line indicating that hello target activity only runs if hello condition resolves tootrue.</span></span>  
17. <span data-ttu-id="45abc-344">Pourquoi **expression de Condition**, type *$ActivityOutput [« obtenir le statut'] - eq « Stopped »*.</span><span class="sxs-lookup"><span data-stu-id="45abc-344">For hello **Condition expression**, type *$ActivityOutput['Get Status'] -eq "Stopped"*.</span></span>  <span data-ttu-id="45abc-345">**Start-AzureRmVM** exécute désormais uniquement si l’ordinateur virtuel de hello est arrêté.</span><span class="sxs-lookup"><span data-stu-id="45abc-345">**Start-AzureRmVM** now only runs if hello virtual machine is stopped.</span></span>
18. <span data-ttu-id="45abc-346">Bonjour contrôle de la bibliothèque, développez **applets de commande** , puis **Microsoft.PowerShell.Utility**.</span><span class="sxs-lookup"><span data-stu-id="45abc-346">In hello Library control, expand **Cmdlets** and then **Microsoft.PowerShell.Utility**.</span></span>
19. <span data-ttu-id="45abc-347">Ajouter **Write-Output** canevas toohello à deux reprises.</span><span class="sxs-lookup"><span data-stu-id="45abc-347">Add **Write-Output** toohello canvas twice.</span></span><br> <span data-ttu-id="45abc-348">![Runbook avec Write-Output](media/automation-first-runbook-graphical/runbook-startazurermvm-complete.png)</span><span class="sxs-lookup"><span data-stu-id="45abc-348">![Runbook with Write-Output](media/automation-first-runbook-graphical/runbook-startazurermvm-complete.png)</span></span>
20. <span data-ttu-id="45abc-349">Sur hello première **Write-Output** contrôler, cliquez sur **paramètres** et modifiez hello **étiquette** valeur trop*notifier le démarrage de machine virtuelle*.</span><span class="sxs-lookup"><span data-stu-id="45abc-349">On hello first **Write-Output** control, click **Parameters** and change hello **Label** value too*Notify VM Started*.</span></span>
21. <span data-ttu-id="45abc-350">Pour **InputObject**, modifiez **source de données** trop**expression PowerShell** et tapez Bonjour expression *« $VMName a démarré ».* .</span><span class="sxs-lookup"><span data-stu-id="45abc-350">For **InputObject**, change **Data source** too**PowerShell expression** and type in hello expression *"$VMName successfully started."*.</span></span>
22. <span data-ttu-id="45abc-351">Sur hello deuxième **Write-Output** contrôler, cliquez sur **paramètres** et modifiez hello **étiquette** valeur trop*notifier VM Démarrer a échoué*</span><span class="sxs-lookup"><span data-stu-id="45abc-351">On hello second **Write-Output** control, click **Parameters** and change hello **Label** value too*Notify VM Start Failed*</span></span>
23. <span data-ttu-id="45abc-352">Pour **InputObject**, modifiez **source de données** trop**expression PowerShell** et tapez Bonjour expression *« $VMName ne peut pas démarrer ».* .</span><span class="sxs-lookup"><span data-stu-id="45abc-352">For **InputObject**, change **Data source** too**PowerShell expression** and type in hello expression *"$VMName could not start."*.</span></span>
24. <span data-ttu-id="45abc-353">Créer un lien à partir de **Start-AzureRmVM** trop**notifier le démarrage de machine virtuelle** et **notifier VM démarrer échec**.</span><span class="sxs-lookup"><span data-stu-id="45abc-353">Create a link from **Start-AzureRmVM** too**Notify VM Started** and **Notify VM Start Failed**.</span></span>
25. <span data-ttu-id="45abc-354">Sélectionnez le lien de hello trop**notifier le démarrage de machine virtuelle** et modifiez **appliquer la condition** trop**True**.</span><span class="sxs-lookup"><span data-stu-id="45abc-354">Select hello link too**Notify VM Started** and change **Apply condition** too**True**.</span></span>
26. <span data-ttu-id="45abc-355">Pourquoi **expression de Condition**, type *$ActivityOutput [« Start-AzureRmVM']. IsSuccessStatusCode - eq $true*.</span><span class="sxs-lookup"><span data-stu-id="45abc-355">For hello **Condition expression**, type *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -eq $true*.</span></span>  <span data-ttu-id="45abc-356">Cette Write-Output contrôler s’exécute désormais uniquement si l’ordinateur virtuel de hello a démarré correctement.</span><span class="sxs-lookup"><span data-stu-id="45abc-356">This Write-Output control now only runs if hello virtual machine is successfully started.</span></span>
27. <span data-ttu-id="45abc-357">Sélectionnez le lien de hello trop**notifier VM démarrer échec** et modifiez **appliquer la condition** trop**True**.</span><span class="sxs-lookup"><span data-stu-id="45abc-357">Select hello link too**Notify VM Start Failed** and change **Apply condition** too**True**.</span></span>
28. <span data-ttu-id="45abc-358">Pourquoi **expression de Condition**, type *$ActivityOutput [« Start-AzureRmVM']. IsSuccessStatusCode - ne $true*.</span><span class="sxs-lookup"><span data-stu-id="45abc-358">For hello **Condition expression**, type *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -ne $true*.</span></span>  <span data-ttu-id="45abc-359">Cette Write-Output contrôler maintenant ne fonctionne que si l’ordinateur virtuel de hello n’est pas démarré avec succès.</span><span class="sxs-lookup"><span data-stu-id="45abc-359">This Write-Output control now only runs if hello virtual machine is not successfully started.</span></span>
29. <span data-ttu-id="45abc-360">Enregistrer les runbook hello et ouvrir le volet de Test hello.</span><span class="sxs-lookup"><span data-stu-id="45abc-360">Save hello runbook and open hello Test pane.</span></span>
30. <span data-ttu-id="45abc-361">Démarrer hello runbook avec l’ordinateur virtuel de hello s’est arrêté, et il doit commencer.</span><span class="sxs-lookup"><span data-stu-id="45abc-361">Start hello runbook with hello virtual machine stopped, and it should start.</span></span>

## <a name="next-steps"></a><span data-ttu-id="45abc-362">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="45abc-362">Next steps</span></span>
* <span data-ttu-id="45abc-363">toolearn plus sur la création de graphiques, consultez [création graphique dans Azure Automation](automation-graphical-authoring-intro.md)</span><span class="sxs-lookup"><span data-stu-id="45abc-363">toolearn more about Graphical Authoring, see [Graphical authoring in Azure Automation](automation-graphical-authoring-intro.md)</span></span>
* <span data-ttu-id="45abc-364">tooget main runbook PowerShell, consultez [mon premier runbook de PowerShell](automation-first-runbook-textual-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="45abc-364">tooget started with PowerShell runbooks, see [My first PowerShell runbook](automation-first-runbook-textual-powershell.md)</span></span>
* <span data-ttu-id="45abc-365">tooget a démarré avec des runbooks de flux de travail PowerShell, consultez [mon premier runbook de flux de travail PowerShell](automation-first-runbook-textual.md)</span><span class="sxs-lookup"><span data-stu-id="45abc-365">tooget started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span>

