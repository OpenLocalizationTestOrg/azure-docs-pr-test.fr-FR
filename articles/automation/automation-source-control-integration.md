---
title: "Intégration du contrôle de code source dans Azure Automation | Microsoft Docs"
description: "Cet article décrit l’intégration du contrôle de code source avec GitHub dans Azure Automation."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: tysonn
ms.assetid: 224d7375-9887-44dd-b137-06ffe396a4b4
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 11/21/2016
ms.author: magoedte;sngun
ms.openlocfilehash: 763bf5805e3a3cb95ad63c7a354dd3d4cd531b2b
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="source-control-integration-in-azure-automation"></a><span data-ttu-id="607a8-103">Intégration du contrôle de code source dans Azure Automation</span><span class="sxs-lookup"><span data-stu-id="607a8-103">Source control integration in Azure Automation</span></span>
<span data-ttu-id="607a8-104">L’intégration du contrôle de code source vous permet d’associer des runbooks dans votre compte Automation à un référentiel de contrôle de code source GitHub.</span><span class="sxs-lookup"><span data-stu-id="607a8-104">Source control integration allows you to associate runbooks in your Automation account to a GitHub source control repository.</span></span> <span data-ttu-id="607a8-105">Le contrôle du code source vous permet de collaborer avec votre équipe en toute simplicité, de suivre les modifications et de restaurer des versions antérieures de vos runbooks.</span><span class="sxs-lookup"><span data-stu-id="607a8-105">Source control allows you to easily collaborate with your team, track changes, and roll back to earlier versions of your runbooks.</span></span> <span data-ttu-id="607a8-106">Par exemple, le contrôle de code source vous permet de synchroniser différentes branches avec vos comptes de développement, de test ou de production Automation, et contribue à promouvoir le code qui a été testé dans votre environnement de développement vers votre compte Automation de production.</span><span class="sxs-lookup"><span data-stu-id="607a8-106">For example, source control allows you to sync different branches in source control to your development, test or production Automation accounts, making it easy to promote code that has been tested in your development environment to your production Automation account.</span></span>

<span data-ttu-id="607a8-107">Le contrôle du code source vous permet de transmettre le code à partir d’Azure Automation vers le contrôle de code source ou d’extraire vos runbooks à partir du contrôle de code source vers Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="607a8-107">Source control allows you to push code from Azure Automation to source control or pull your runbooks from source control to Azure Automation.</span></span> <span data-ttu-id="607a8-108">Cet article décrit comment configurer le contrôle de code source dans votre environnement Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="607a8-108">This article describes how to set up source control in your Azure Automation environment.</span></span> <span data-ttu-id="607a8-109">Nous allons commencer par configurer Azure Automation pour accéder à votre référentiel GitHub et effectuer les différentes opérations pouvant être réalisées à l’aide de l’intégration du contrôle du code source.</span><span class="sxs-lookup"><span data-stu-id="607a8-109">We will start by configuring Azure Automation to access your GitHub repository and walk through different operations that can be done using source control integration.</span></span> 

> [!NOTE]
> <span data-ttu-id="607a8-110">Le contrôle de code source prend en charge l’extraction et la transmission de [Runbooks de workflow PowerShell](automation-runbook-types.md#powershell-workflow-runbooks), ainsi que de [Runbooks PowerShell](automation-runbook-types.md#powershell-runbooks).</span><span class="sxs-lookup"><span data-stu-id="607a8-110">Source control supports pulling and pushing [PowerShell Workflow runbooks](automation-runbook-types.md#powershell-workflow-runbooks) as well as [PowerShell runbooks](automation-runbook-types.md#powershell-runbooks).</span></span> <span data-ttu-id="607a8-111">Les [Runbooks graphiques](automation-runbook-types.md#graphical-runbooks) ne sont pas encore pris en charge.</span><span class="sxs-lookup"><span data-stu-id="607a8-111">[Graphical runbooks](automation-runbook-types.md#graphical-runbooks) are not yet supported.</span></span><br><br>
> 
> 

<span data-ttu-id="607a8-112">Deux étapes simples sont requises pour configurer le contrôle de code source pour votre compte Automation. Une seule étape suffit si vous possédez déjà un compte GitHub.</span><span class="sxs-lookup"><span data-stu-id="607a8-112">There are two simple steps required to configure source control for your Automation account, and only one if you already have a GitHub account.</span></span> <span data-ttu-id="607a8-113">Les voici :</span><span class="sxs-lookup"><span data-stu-id="607a8-113">They are:</span></span>

## <a name="step-1--create-a-github-repository"></a><span data-ttu-id="607a8-114">Étape 1 : Création d’un référentiel GitHub</span><span class="sxs-lookup"><span data-stu-id="607a8-114">Step 1 – Create a GitHub repository</span></span>
<span data-ttu-id="607a8-115">Si vous possédez déjà un compte GitHub et un référentiel que vous souhaitez lier à Azure Automation, connectez-vous à votre compte existant et commencez à partir de l’étape 2 ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="607a8-115">If you already have a GitHub account and a repository that you want to link to Azure Automation, then login to your existing account and start from step 2 below.</span></span> <span data-ttu-id="607a8-116">Sinon, accédez à [GitHub](https://github.com/), inscrivez-vous pour obtenir un compte et [créez un référentiel](https://help.github.com/articles/create-a-repo/).</span><span class="sxs-lookup"><span data-stu-id="607a8-116">Otherwise, navigate to [GitHub](https://github.com/), sign up for a new account and [create a new repository](https://help.github.com/articles/create-a-repo/).</span></span>

## <a name="step-2--set-up-source-control-in-azure-automation"></a><span data-ttu-id="607a8-117">Étape 2 : Configuration du contrôle de code source dans Azure Automation</span><span class="sxs-lookup"><span data-stu-id="607a8-117">Step 2 – Set up source control in Azure Automation</span></span>
1. <span data-ttu-id="607a8-118">Dans le panneau Compte Automation du portail Azure, cliquez sur **Définir le contrôle de code source.**</span><span class="sxs-lookup"><span data-stu-id="607a8-118">From the Automation Account blade in the Azure portal, click **Set Up Source Control.**</span></span> 
   
    ![Définition du contrôle de code source](media/automation-source-control-integration/automation_01_SetUpSourceControl.png)
2. <span data-ttu-id="607a8-120">Le panneau **Contrôle de code source** s’ouvre. Vous pouvez configurer les détails de votre compte GitHub.</span><span class="sxs-lookup"><span data-stu-id="607a8-120">The **Source Control** blade opens, where you can configure your GitHub account details.</span></span> <span data-ttu-id="607a8-121">Vous trouverez ci-dessous la liste des paramètres à configurer :</span><span class="sxs-lookup"><span data-stu-id="607a8-121">Below is the list of parameters to configure:</span></span>  
   
   | <span data-ttu-id="607a8-122">**Paramètre**</span><span class="sxs-lookup"><span data-stu-id="607a8-122">**Parameter**</span></span> | <span data-ttu-id="607a8-123">**Description**</span><span class="sxs-lookup"><span data-stu-id="607a8-123">**Description**</span></span> |
   |:--- |:--- |
   | <span data-ttu-id="607a8-124">Choisir une source</span><span class="sxs-lookup"><span data-stu-id="607a8-124">Choose Source</span></span> |<span data-ttu-id="607a8-125">Sélectionnez la source.</span><span class="sxs-lookup"><span data-stu-id="607a8-125">Select the source.</span></span> <span data-ttu-id="607a8-126">Actuellement, seul **GitHub** est pris en charge.</span><span class="sxs-lookup"><span data-stu-id="607a8-126">Currently, only **GitHub** is supported.</span></span> |
   | <span data-ttu-id="607a8-127">Autorisation</span><span class="sxs-lookup"><span data-stu-id="607a8-127">Authorization</span></span> |<span data-ttu-id="607a8-128">Cliquez sur le bouton **Autoriser** pour accorder à Azure Automation l'accès à votre référentiel GitHub.</span><span class="sxs-lookup"><span data-stu-id="607a8-128">Click the **Authorize** button to grant Azure Automation access to your GitHub repository.</span></span> <span data-ttu-id="607a8-129">Si vous êtes déjà connecté à votre compte GitHub dans une autre fenêtre, les informations d’identification de ce compte sont utilisées.</span><span class="sxs-lookup"><span data-stu-id="607a8-129">If you are already logged in to your GitHub account in a different window, then the credentials of that account are used.</span></span> <span data-ttu-id="607a8-130">Une fois que l'autorisation est accordée, le panneau affiche votre nom d'utilisateur GitHub sous **Propriété d'autorisation**.</span><span class="sxs-lookup"><span data-stu-id="607a8-130">Once authorization is successful, the blade will show your GitHub username under **Authorization Property**.</span></span> |
   | <span data-ttu-id="607a8-131">Choisir un référentiel</span><span class="sxs-lookup"><span data-stu-id="607a8-131">Choose repository</span></span> |<span data-ttu-id="607a8-132">Sélectionnez un référentiel GitHub à partir de la liste des référentiels disponibles.</span><span class="sxs-lookup"><span data-stu-id="607a8-132">Select a GitHub repository from the list of available repositories.</span></span> |
   | <span data-ttu-id="607a8-133">Choisir une branche</span><span class="sxs-lookup"><span data-stu-id="607a8-133">Choose branch</span></span> |<span data-ttu-id="607a8-134">Sélectionnez la branche à partir de la liste des branches disponibles.</span><span class="sxs-lookup"><span data-stu-id="607a8-134">Select a branch from the list of available branches.</span></span> <span data-ttu-id="607a8-135">Seule la branche **master** s'affiche si vous n'avez pas créé de branches.</span><span class="sxs-lookup"><span data-stu-id="607a8-135">Only the **master** branch is shown if you haven’t created any branches.</span></span> |
   | <span data-ttu-id="607a8-136">Chemin d’accès au dossier de runbooks</span><span class="sxs-lookup"><span data-stu-id="607a8-136">Runbook folder path</span></span> |<span data-ttu-id="607a8-137">Le chemin d’accès au dossier de runbooks spécifie le chemin d’accès dans le référentiel GitHub à partir duquel vous souhaitez transmettre ou extraire votre code.</span><span class="sxs-lookup"><span data-stu-id="607a8-137">The runbook folder path specifies the path in the GitHub repository from which you want to push or pull your code.</span></span> <span data-ttu-id="607a8-138">Il doit être saisi au format **/nomdossier/nomsous-dossier**.</span><span class="sxs-lookup"><span data-stu-id="607a8-138">It must be entered in the format **/foldername/subfoldername**.</span></span> <span data-ttu-id="607a8-139">Seuls les runbooks du chemin d’accès au dossier de runbooks seront synchronisés avec votre compte Automation.</span><span class="sxs-lookup"><span data-stu-id="607a8-139">Only runbooks in the runbook folder path will be synced to your Automation account.</span></span> <span data-ttu-id="607a8-140">Les runbooks des sous-dossiers du chemin d’accès au dossier de runbooks ne seront **PAS** synchronisés.</span><span class="sxs-lookup"><span data-stu-id="607a8-140">Runbooks in the subfolders of the runbook folder path will **NOT** be synced.</span></span> <span data-ttu-id="607a8-141">Utilisez **/** pour synchroniser tous les runbooks dans le référentiel.</span><span class="sxs-lookup"><span data-stu-id="607a8-141">Use **/** to sync all the runbooks under the repository.</span></span> |
3. <span data-ttu-id="607a8-142">Par exemple, si vous disposez d’un référentiel nommé **PowerShellScripts** qui contient un dossier nommé **RootFolder**, lequel contient un dossier nommé **SubFolder**.</span><span class="sxs-lookup"><span data-stu-id="607a8-142">For example, if you have a repository named **PowerShellScripts** that contains a folder named **RootFolder**, which contains a folder named **SubFolder**.</span></span> <span data-ttu-id="607a8-143">Vous pouvez utiliser les chaînes suivantes pour synchroniser chaque niveau de dossier :</span><span class="sxs-lookup"><span data-stu-id="607a8-143">You can use the following strings to sync each folder level:</span></span>
   
   1. <span data-ttu-id="607a8-144">Pour synchroniser des runbooks à partir du **référentiel**, le chemin d'accès au dossier de runbooks est */*</span><span class="sxs-lookup"><span data-stu-id="607a8-144">To sync runbooks from **repository**, runbook folder path is */*</span></span>
   2. <span data-ttu-id="607a8-145">Pour synchroniser des runbooks à partir du **RootFolder**, le chemin d'accès au dossier de runbooks est */RootFolder*</span><span class="sxs-lookup"><span data-stu-id="607a8-145">To sync runbooks from **RootFolder**, runbook folder path is */RootFolder*</span></span>
   3. <span data-ttu-id="607a8-146">Pour synchroniser les runbooks à partir de **SubFolder**, le chemin d'accès au dossier de runbooks est */RootFolder/SubFolder*.</span><span class="sxs-lookup"><span data-stu-id="607a8-146">To sync runbooks from **SubFolder**, runbook folder path is */RootFolder/SubFolder*.</span></span>
4. <span data-ttu-id="607a8-147">Une fois les paramètres configurés, ils sont affichés sur le **panneau Définition du contrôle de code source.**</span><span class="sxs-lookup"><span data-stu-id="607a8-147">After you configure the parameters, they are displayed on the **Set Up Source Control blade.**</span></span>  
   
    ![Panneau Configurer](media/automation-source-control-integration/automation_02_SourceControlConfigure.png)
5. <span data-ttu-id="607a8-149">Une fois que vous avez cliqué sur OK, l’intégration du contrôle de code source est configurée pour votre compte Automation et doit être mise à jour avec vos informations GitHub.</span><span class="sxs-lookup"><span data-stu-id="607a8-149">Once you click OK, source control integration is now configured for your Automation account and should be updated with your GitHub information.</span></span> <span data-ttu-id="607a8-150">Vous pouvez maintenant cliquer sur cette partie pour afficher tout l’historique de la tâche de synchronisation de contrôle de code source.</span><span class="sxs-lookup"><span data-stu-id="607a8-150">You can now click on this part to view all of your source control sync job history.</span></span>  
   
    ![Valeurs du référentiel](media/automation-source-control-integration/automation_03_RepoValues.png)
6. <span data-ttu-id="607a8-152">Après avoir configuré le contrôle de code source, les ressources Automation suivantes seront créées dans votre compte Automation :</span><span class="sxs-lookup"><span data-stu-id="607a8-152">After you set up source control, the following Automation resources will be created in your Automation account:</span></span>  
   <span data-ttu-id="607a8-153">Deux [composants variables](automation-variables.md) sont créés.</span><span class="sxs-lookup"><span data-stu-id="607a8-153">Two [variable assets](automation-variables.md) are created.</span></span>  
   
   * <span data-ttu-id="607a8-154">La variable **Microsoft.Azure.Automation.SourceControl.Connection** contient les valeurs de la chaîne de connexion, comme illustré ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="607a8-154">The variable **Microsoft.Azure.Automation.SourceControl.Connection** contains the values of the connection string, as shown below.</span></span>  
     
     | <span data-ttu-id="607a8-155">**Paramètre**</span><span class="sxs-lookup"><span data-stu-id="607a8-155">**Parameter**</span></span> | <span data-ttu-id="607a8-156">**Valeur**</span><span class="sxs-lookup"><span data-stu-id="607a8-156">**Value**</span></span> |
     |:--- |:--- |
     | <span data-ttu-id="607a8-157">Nom</span><span class="sxs-lookup"><span data-stu-id="607a8-157">Name</span></span> |<span data-ttu-id="607a8-158">Microsoft.Azure.Automation.SourceControl.Connection</span><span class="sxs-lookup"><span data-stu-id="607a8-158">Microsoft.Azure.Automation.SourceControl.Connection</span></span> |
     | <span data-ttu-id="607a8-159">Type</span><span class="sxs-lookup"><span data-stu-id="607a8-159">Type</span></span> |<span data-ttu-id="607a8-160">String</span><span class="sxs-lookup"><span data-stu-id="607a8-160">String</span></span> |
     | <span data-ttu-id="607a8-161">Valeur</span><span class="sxs-lookup"><span data-stu-id="607a8-161">Value</span></span> |<span data-ttu-id="607a8-162">{"Branch" :\<*Nom de votre branche*>,"RunbookFolderPath" :\<*Chemin d’accès au dossier de Runbooks*>,"ProviderType" :\<*possède une valeur 1 pour GitHub*>,"Repository" :\<*Nom de votre référentiel*>,"Username" :\<*Votre nom d’utilisateur GitHub*>}</span><span class="sxs-lookup"><span data-stu-id="607a8-162">{"Branch":\<*Your branch name*>,"RunbookFolderPath":\<*Runbook folder path*>,"ProviderType":\<*has a value 1 for GitHub*>,"Repository":\<*Name of your repository*>,"Username":\<*Your GitHub user name*>}</span></span> |

    * <span data-ttu-id="607a8-163">La variable **Microsoft.Azure.Automation.SourceControl.OauthToken**contient la valeur chiffrée sécurisée de votre OAuthToken.</span><span class="sxs-lookup"><span data-stu-id="607a8-163">The variable **Microsoft.Azure.Automation.SourceControl.OAuthToken**, contains the secure encrypted value of your OAuthToken.</span></span>  

    |<span data-ttu-id="607a8-164">**Paramètre**</span><span class="sxs-lookup"><span data-stu-id="607a8-164">**Parameter**</span></span>            |<span data-ttu-id="607a8-165">**Valeur**</span><span class="sxs-lookup"><span data-stu-id="607a8-165">**Value**</span></span> |
    |:---|:---|
    | <span data-ttu-id="607a8-166">Nom</span><span class="sxs-lookup"><span data-stu-id="607a8-166">Name</span></span>  | <span data-ttu-id="607a8-167">Microsoft.Azure.Automation.SourceControl.OauthToken</span><span class="sxs-lookup"><span data-stu-id="607a8-167">Microsoft.Azure.Automation.SourceControl.OAuthToken</span></span> |
    | <span data-ttu-id="607a8-168">Type</span><span class="sxs-lookup"><span data-stu-id="607a8-168">Type</span></span> | <span data-ttu-id="607a8-169">Inconnue (chiffrée)</span><span class="sxs-lookup"><span data-stu-id="607a8-169">Unknown(Encrypted)</span></span> |
    | <span data-ttu-id="607a8-170">Valeur</span><span class="sxs-lookup"><span data-stu-id="607a8-170">Value</span></span> | <span data-ttu-id="607a8-171"><*OAuthToken chiffré*></span><span class="sxs-lookup"><span data-stu-id="607a8-171"><*Encrypted OAuthToken*></span></span> |  

    ![Variables](media/automation-source-control-integration/automation_04_Variables.png)  

    * <span data-ttu-id="607a8-173">**contrôle de code source Automation** est ajouté en tant qu'application autorisée à votre compte GitHub.</span><span class="sxs-lookup"><span data-stu-id="607a8-173">**Automation Source Control** is added as an authorized application to your GitHub account.</span></span> <span data-ttu-id="607a8-174">Pour afficher l’application : à partir de votre page d’accueil GitHub, accédez à **Profil** > **Paramètres** > **Applications**.</span><span class="sxs-lookup"><span data-stu-id="607a8-174">To view the application: From your GitHub home page, navigate to your **profile** > **Settings** > **Applications**.</span></span> <span data-ttu-id="607a8-175">Cette application permet à Azure Automation de synchroniser votre référentiel GitHub sur un compte Automation.</span><span class="sxs-lookup"><span data-stu-id="607a8-175">This application allows Azure Automation to sync your GitHub repository to an Automation account.</span></span>  

    ![Application Git](media/automation-source-control-integration/automation_05_GitApplication.png)


## <a name="using-source-control-in-automation"></a><span data-ttu-id="607a8-177">Utilisation du contrôle de code source dans Automation</span><span class="sxs-lookup"><span data-stu-id="607a8-177">Using Source Control in Automation</span></span>
### <a name="check-in-a-runbook-from-azure-automation-to-source-control"></a><span data-ttu-id="607a8-178">Archiver un runbook à partir d’Azure Automation vers le contrôle de code source</span><span class="sxs-lookup"><span data-stu-id="607a8-178">Check-in a runbook from Azure Automation to source control</span></span>
<span data-ttu-id="607a8-179">L’archivage de runbooks vous permet de transmettre les modifications apportées à un runbook dans Azure Automation dans votre référentiel de contrôle de code source.</span><span class="sxs-lookup"><span data-stu-id="607a8-179">Runbook check-in allows you to push the changes you have made to a runbook in Azure Automation into your source control repository.</span></span> <span data-ttu-id="607a8-180">Voici les étapes permettant d’archiver un runbook :</span><span class="sxs-lookup"><span data-stu-id="607a8-180">Below are the steps to check-in a runbook:</span></span>

1. <span data-ttu-id="607a8-181">À partir de votre compte Automation, [créez un Runbook textuel](automation-first-runbook-textual.md) ou [modifiez un Runbook textuel existant](automation-edit-textual-runbook.md).</span><span class="sxs-lookup"><span data-stu-id="607a8-181">From your Automation Account, [create a new textual runbook](automation-first-runbook-textual.md), or [edit an existing, textual runbook](automation-edit-textual-runbook.md).</span></span> <span data-ttu-id="607a8-182">Ce runbook peut être un flux de travail PowerShell ou un runbook de script PowerShell.</span><span class="sxs-lookup"><span data-stu-id="607a8-182">This runbook can be either a PowerShell Workflow or a PowerShell script runbook.</span></span>  
2. <span data-ttu-id="607a8-183">Après avoir modifié votre Runbook, enregistrez-le et cliquez sur **Archiver** dans le panneau **Modifier**.</span><span class="sxs-lookup"><span data-stu-id="607a8-183">After you edit your runbook, save it and click **check-in** from the **Edit** blade.</span></span>  
   
    ![Bouton d’archivage](media/automation-source-control-integration/automation_06_CheckinButton.png)

     > [!NOTE] 
     > <span data-ttu-id="607a8-185">L’archivage à partir d’Azure Automation remplacera le code qui existe actuellement dans votre contrôle de code source.</span><span class="sxs-lookup"><span data-stu-id="607a8-185">Check-in from Azure Automation will overwrite the code that currently exists in your source control.</span></span> <span data-ttu-id="607a8-186">L'instruction de ligne de commande équivalent à Git pour l'archivage est **git add + git commit + git push**</span><span class="sxs-lookup"><span data-stu-id="607a8-186">The Git equivalent command line instruction to check-in is **git add + git commit + git push**</span></span>  

1. <span data-ttu-id="607a8-187">Lorsque vous cliquez sur **Archiver**, un message de confirmation s’affiche. Cliquez sur Oui pour continuer.</span><span class="sxs-lookup"><span data-stu-id="607a8-187">When you click **check-in**, you will be prompted with a confirmation message, click yes to continue.</span></span>  
   
    ![Message d’archivage](media/automation-source-control-integration/automation_07_CheckinMessage.png)
2. <span data-ttu-id="607a8-189">L'archivage démarre le runbook de contrôle du code source : **Sync-MicrosoftAzureAutomationAccountToGitHubV1**.</span><span class="sxs-lookup"><span data-stu-id="607a8-189">Check-in starts the source control runbook: **Sync-MicrosoftAzureAutomationAccountToGitHubV1**.</span></span> <span data-ttu-id="607a8-190">Ce runbook se connecte à GitHub et transmet les modifications d’Azure Automation à votre référentiel.</span><span class="sxs-lookup"><span data-stu-id="607a8-190">This runbook connects to GitHub and pushes changes from Azure Automation to your repository.</span></span> <span data-ttu-id="607a8-191">Pour afficher l'historique de la tâche d’archivage, revenez à l'onglet **Intégration du contrôle de code source** , puis cliquez pour ouvrir le panneau Synchronisation du référentiel.</span><span class="sxs-lookup"><span data-stu-id="607a8-191">To view the check-in job history, go back to the **Source Control Integration** tab and click to open the Repository Synchronization blade.</span></span> <span data-ttu-id="607a8-192">Ce panneau affiche toutes vos tâches de contrôle de code source.</span><span class="sxs-lookup"><span data-stu-id="607a8-192">This blade shows all of your source control jobs.</span></span>  <span data-ttu-id="607a8-193">Sélectionnez la tâche à afficher et cliquez dessus pour afficher les détails.</span><span class="sxs-lookup"><span data-stu-id="607a8-193">Select the job you want to view and click to view the details.</span></span>  
   
    ![Runbook d’archivage](media/automation-source-control-integration/automation_08_CheckinRunbook.png)
   
   > [!NOTE]
   > <span data-ttu-id="607a8-195">Les runbooks de contrôle de code source sont des runbooks Automation spéciaux que vous ne pouvez pas afficher ni modifier.</span><span class="sxs-lookup"><span data-stu-id="607a8-195">Source control runbooks are special Automation runbooks that you cannot view or edit.</span></span> <span data-ttu-id="607a8-196">Ils n’apparaîtront pas dans votre liste de runbooks, mais les tâches de synchronisation apparaîtront dans votre liste de tâches.</span><span class="sxs-lookup"><span data-stu-id="607a8-196">While they will not show up on your runbook list, you will see sync jobs showing up on your jobs list.</span></span>
   > 
   > 
3. <span data-ttu-id="607a8-197">Le nom du runbook modifié est envoyé comme paramètre d’entrée au runbook d’archivage.</span><span class="sxs-lookup"><span data-stu-id="607a8-197">The name of the modified runbook is sent as an input parameter to the check-in runbook.</span></span> <span data-ttu-id="607a8-198">Vous pouvez [afficher les détails du travail](automation-runbook-execution.md#viewing-job-status-from-the-azure-portal) en développant le Runbook dans le panneau **Synchronisation du référentiel**.</span><span class="sxs-lookup"><span data-stu-id="607a8-198">You can [view the job details](automation-runbook-execution.md#viewing-job-status-from-the-azure-portal) by expanding runbook in **Repository Synchronization** blade.</span></span>  
   
    ![Entrée d’archivage](media/automation-source-control-integration/automation_09_CheckinInput.png)
4. <span data-ttu-id="607a8-200">Actualisez votre référentiel GitHub une fois la tâche terminée pour afficher les modifications.</span><span class="sxs-lookup"><span data-stu-id="607a8-200">Refresh your GitHub repository once the job completes to view the changes.</span></span>  <span data-ttu-id="607a8-201">Il doit y avoir une validation de votre référentiel avec un message de validation : **mise à jour *le nom du Runbook* dans Azure Automation.**</span><span class="sxs-lookup"><span data-stu-id="607a8-201">There should be a commit in your repository with a commit message: **Updated *Runbook Name* in Azure Automation.**</span></span>  

### <a name="sync-runbooks-from-source-control-to-azure-automation"></a><span data-ttu-id="607a8-202">Synchroniser des runbooks à partir du contrôle de code source vers Azure Automation</span><span class="sxs-lookup"><span data-stu-id="607a8-202">Sync runbooks from source control to Azure Automation</span></span>
<span data-ttu-id="607a8-203">Le bouton de synchronisation dans le panneau Synchronisation du référentiel vous permet d’extraire tous les runbooks dans le chemin d’accès au dossier de runbooks de votre référentiel vers votre compte Automation.</span><span class="sxs-lookup"><span data-stu-id="607a8-203">The sync button on the Repository Synchronization blade allows you to pull all the runbooks in the runbook folder path of your repository to your Automation account.</span></span> <span data-ttu-id="607a8-204">Le même référentiel peut être synchronisé vers plusieurs comptes Automation.</span><span class="sxs-lookup"><span data-stu-id="607a8-204">The same repository can be synced to more than one Automation account.</span></span> <span data-ttu-id="607a8-205">Voici les étapes permettant de synchroniser un runbook :</span><span class="sxs-lookup"><span data-stu-id="607a8-205">Below are the steps to sync a runbook:</span></span>

1. <span data-ttu-id="607a8-206">À partir du compte Automation dans lequel vous avez configuré le contrôle de code source, ouvrez le **panneau Intégration du contrôle de code source/Synchronisation du référentiel** et cliquez sur **Synchroniser**. Un message de confirmation s’affiche. Cliquez sur **Oui** pour continuer.</span><span class="sxs-lookup"><span data-stu-id="607a8-206">From the Automation account where you set up source control, open the **Source Control Integration/Repository Synchronization blade** and click **Sync** then you will be prompted with a confirmation message, click **Yes** to continue.</span></span>  
   
    ![Bouton de synchronisation](media/automation-source-control-integration/automation_10_SyncButtonwithMessage.png)
2. <span data-ttu-id="607a8-208">La synchronisation démarre le runbook : **Sync-MicrosoftAzureAutomationAccountFromGitHubV1**.</span><span class="sxs-lookup"><span data-stu-id="607a8-208">Sync starts the runbook: **Sync-MicrosoftAzureAutomationAccountFromGitHubV1**.</span></span> <span data-ttu-id="607a8-209">Ce runbook se connecte à GitHub et extrait les modifications de votre référentiel vers Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="607a8-209">This runbook connects to GitHub and pulls the changes from your repository to Azure Automation.</span></span> <span data-ttu-id="607a8-210">Vous devez voir une nouvelle tâche dans le panneau **Synchronisation du référentiel** pour cette action.</span><span class="sxs-lookup"><span data-stu-id="607a8-210">You should see a new job on the **Repository Synchronization** blade for this action.</span></span> <span data-ttu-id="607a8-211">Pour afficher plus d'informations sur la tâche de synchronisation, cliquez pour ouvrir le panneau des détails de la tâche.</span><span class="sxs-lookup"><span data-stu-id="607a8-211">To view details about the sync job, click to open the job details blade.</span></span>  
   
    ![Runbook de synchronisation](media/automation-source-control-integration/automation_11_SyncRunbook.png)

    > [!NOTE] 
    > <span data-ttu-id="607a8-213">Une synchronisation à partir du contrôle de code source remplace les brouillons de runbooks qui existent actuellement dans votre compte Automation pour **TOUS** les runbooks actuellement dans le contrôle de code source.</span><span class="sxs-lookup"><span data-stu-id="607a8-213">A sync from source control overwrites the draft version of the runbooks that currently exist in your Automation account for **ALL** runbooks that are currently in source control.</span></span> <span data-ttu-id="607a8-214">L'instruction de ligne de commande équivalent á  Git pour la synchronisation est **git pull**</span><span class="sxs-lookup"><span data-stu-id="607a8-214">The Git equivalent command line instruction to sync is **git pull**</span></span>


## <a name="troubleshooting-source-control-problems"></a><span data-ttu-id="607a8-215">Résolution des problèmes de contrôle de code source</span><span class="sxs-lookup"><span data-stu-id="607a8-215">Troubleshooting source control problems</span></span>
<span data-ttu-id="607a8-216">S’il existe des erreurs avec la tâche d’archivage ou de synchronisation, l’état de la tâche doit être suspendu et vous pouvez afficher plus de détails sur l’erreur dans le panneau de la tâche.</span><span class="sxs-lookup"><span data-stu-id="607a8-216">If there are any errors with a check-in or sync job, the job status should be suspended and you can view more details about the error in the job blade.</span></span>  <span data-ttu-id="607a8-217">La section **Tous les journaux** vous montrera tous les flux PowerShell associés à cette tâche.</span><span class="sxs-lookup"><span data-stu-id="607a8-217">The **All Logs** part will show you all the PowerShell streams associated with that job.</span></span> <span data-ttu-id="607a8-218">Elle vous fournira les détails nécessaires pour vous aider à résoudre les problèmes d’archivage ou de synchronisation.</span><span class="sxs-lookup"><span data-stu-id="607a8-218">This will provide you with the details needed to help you fix any problems with your check-in or sync.</span></span> <span data-ttu-id="607a8-219">Elle vous indiquera également la séquence d’actions successives lors de la synchronisation ou de l’archivage d’un runbook.</span><span class="sxs-lookup"><span data-stu-id="607a8-219">It will also show you the sequence of actions that occurred while syncing or checking-in a runbook.</span></span>  

![Image AllLogs](media/automation-source-control-integration/automation_13_AllLogs.png)

## <a name="disconnecting-source-control"></a><span data-ttu-id="607a8-221">Déconnexion du contrôle de code source</span><span class="sxs-lookup"><span data-stu-id="607a8-221">Disconnecting source control</span></span>
<span data-ttu-id="607a8-222">Pour vous déconnecter de votre compte GitHub, ouvrez le panneau Synchronisation du référentiel et cliquez sur **Déconnecter**.</span><span class="sxs-lookup"><span data-stu-id="607a8-222">To disconnect from your GitHub account, open the Repository Synchronization blade and click **Disconnect**.</span></span> <span data-ttu-id="607a8-223">Une fois que vous déconnectez le contrôle de code source, les runbooks précédemment synchronisés figurent toujours dans votre compte Automation, mais le panneau Synchronisation du référentiel n'est pas activé.</span><span class="sxs-lookup"><span data-stu-id="607a8-223">Once you disconnect source control, runbooks that were synced earlier will still remain in your Automation account but the Repository Synchronization blade will not be enabled.</span></span>  

  ![Bouton de déconnexion](media/automation-source-control-integration/automation_12_Disconnect.png)

## <a name="next-steps"></a><span data-ttu-id="607a8-225">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="607a8-225">Next steps</span></span>
<span data-ttu-id="607a8-226">Pour obtenir plus d’informations sur le contrôle de code source, consultez les ressources suivantes :</span><span class="sxs-lookup"><span data-stu-id="607a8-226">For more information about source control integration, see the following resources:</span></span>  

* [<span data-ttu-id="607a8-227">Azure Automation : Intégration du contrôle de code source dans Azure Automation</span><span class="sxs-lookup"><span data-stu-id="607a8-227">Azure Automation: Source Control Integration in Azure Automation</span></span>](https://azure.microsoft.com/blog/azure-automation-source-control-13/)  
* [<span data-ttu-id="607a8-228">Voter pour votre système de contrôle de code source préféré</span><span class="sxs-lookup"><span data-stu-id="607a8-228">Vote for your favorite source control system</span></span>](https://www.surveymonkey.com/r/?sm=2dVjdcrCPFdT0dFFI8nUdQ%3d%3d)  
* [<span data-ttu-id="607a8-229">Azure Automation : Intégration du contrôle de code source de Runbook à l’aide de Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="607a8-229">Azure Automation: Integrating Runbook Source Control using Visual Studio Team Services</span></span>](https://azure.microsoft.com/blog/azure-automation-integrating-runbook-source-control-using-visual-studio-online/)  

