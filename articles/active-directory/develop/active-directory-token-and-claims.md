---
title: "En savoir plus sur les différents types de jeton et de revendication pris en charge par Azure AD | Microsoft Docs"
description: "Un guide pour la compréhension et l'évaluation des revendications dans les jetons SAML 2.0 et les jetons web JSON (JWT) émis par Azure Active Directory (AAD)"
documentationcenter: na
author: dstrockis
services: active-directory
manager: mbaldwin
editor: 
ms.assetid: 166aa18e-1746-4c5e-b382-68338af921e2
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 02/08/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: c211c59b00d445a62ebe3ae9334101c983e05c57
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/03/2017
---
# <a name="azure-ad-token-reference"></a><span data-ttu-id="4f68e-103">Référence de jeton Azure AD</span><span class="sxs-lookup"><span data-stu-id="4f68e-103">Azure AD token reference</span></span>
<span data-ttu-id="4f68e-104">Azure Active Directory (Azure AD) émet plusieurs types de jetons de sécurité lors du traitement de chaque flux d’authentification.</span><span class="sxs-lookup"><span data-stu-id="4f68e-104">Azure Active Directory (Azure AD) emits several types of security tokens in the processing of each authentication flow.</span></span> <span data-ttu-id="4f68e-105">Ce document décrit le format, les caractéristiques en matière de sécurité et le contenu de chaque type de jeton.</span><span class="sxs-lookup"><span data-stu-id="4f68e-105">This document describes the format, security characteristics, and contents of each type of token.</span></span>

## <a name="types-of-tokens"></a><span data-ttu-id="4f68e-106">Types de jetons</span><span class="sxs-lookup"><span data-stu-id="4f68e-106">Types of tokens</span></span>
<span data-ttu-id="4f68e-107">Azure AD prend en charge le [protocole d’autorisation OAuth 2.0](active-directory-protocols-oauth-code.md), qui utilise aussi bien les jetons access_token que refresh_token.</span><span class="sxs-lookup"><span data-stu-id="4f68e-107">Azure AD supports the [OAuth 2.0 authorization protocol](active-directory-protocols-oauth-code.md), which makes use of both access_tokens and refresh_tokens.</span></span>  <span data-ttu-id="4f68e-108">Il prend également en charge l’authentification et la connexion via [OpenID Connect](active-directory-protocols-openid-connect-code.md), ce qui introduit un troisième type de jeton : le jeton d’ID (id_token).</span><span class="sxs-lookup"><span data-stu-id="4f68e-108">It also supports authentication and sign-in via [OpenID Connect](active-directory-protocols-openid-connect-code.md), which introduces a third type of token, the id_token.</span></span>  <span data-ttu-id="4f68e-109">Chacun de ces jetons est représenté en tant que « jeton porteur ».</span><span class="sxs-lookup"><span data-stu-id="4f68e-109">Each of these tokens is represented as a "bearer token".</span></span>

<span data-ttu-id="4f68e-110">Un jeton porteur est un jeton de sécurité léger qui octroie l’accès à une ressource protégée au « porteur ».</span><span class="sxs-lookup"><span data-stu-id="4f68e-110">A bearer token is a lightweight security token that grants the “bearer” access to a protected resource.</span></span> <span data-ttu-id="4f68e-111">En ce sens, le « porteur » désigne toute partie qui peut présenter le jeton.</span><span class="sxs-lookup"><span data-stu-id="4f68e-111">In this sense, the “bearer” is any party that can present the token.</span></span> <span data-ttu-id="4f68e-112">Bien que l’authentification avec Azure AD soit nécessaire afin de recevoir un jeton du porteur, certaines mesures sont nécessaires pour sécuriser le jeton afin d’empêcher l’interception par un tiers indésirable.</span><span class="sxs-lookup"><span data-stu-id="4f68e-112">Though authentication with Azure AD is required in order to receive a bearer token, steps must be taken to secure the token, to prevent interception by an unintended party.</span></span> <span data-ttu-id="4f68e-113">Les jetons du porteur n’intégrant pas de mécanisme de protection contre l’utilisation par des tiers non autorisés, ils doivent être acheminés par un canal sécurisé, par exemple à l’aide du protocole TLS (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="4f68e-113">Because bearer tokens do not have a built-in mechanism to prevent unauthorized parties from using them, they must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="4f68e-114">Si un jeton du porteur est transmis en clair, un tiers malveillant peut utiliser une attaque d’intercepteur afin de s’approprier le jeton et de l’utiliser pour accéder sans autorisation à une ressource protégée.</span><span class="sxs-lookup"><span data-stu-id="4f68e-114">If a bearer token is transmitted in the clear, a man-in the middle attack can be used to acquire the token and gain unauthorized access to a protected resource.</span></span> <span data-ttu-id="4f68e-115">Les mêmes principes de sécurité s’appliquent au stockage ou à la mise en cache des jetons porteurs pour une utilisation ultérieure.</span><span class="sxs-lookup"><span data-stu-id="4f68e-115">The same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="4f68e-116">Veillez systématiquement à ce que votre application transmette et stocke les jetons porteurs de manière sécurisée.</span><span class="sxs-lookup"><span data-stu-id="4f68e-116">Always ensure that your app transmits and stores bearer tokens in a secure manner.</span></span> <span data-ttu-id="4f68e-117">Pour en savoir plus sur les aspects de sécurité des jetons porteurs, consultez [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="4f68e-117">For more security considerations on bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="4f68e-118">La plupart des jetons émis par Azure AD sont implémentés en tant que jetons Web JSON (JWT).</span><span class="sxs-lookup"><span data-stu-id="4f68e-118">Many of the tokens issued by Azure AD are implemented as JSON Web Tokens, or JWTs.</span></span>  <span data-ttu-id="4f68e-119">Un jeton JWT constitue un moyen compact et sécurisé pour les URL de transférer des informations entre deux parties.</span><span class="sxs-lookup"><span data-stu-id="4f68e-119">A JWT is a compact, URL-safe means of transferring information between two parties.</span></span>  <span data-ttu-id="4f68e-120">Les informations contenues dans les jetons JWT sont appelées « revendications », c’est-à-dire des assertions d’informations sur le porteur et le sujet du jeton.</span><span class="sxs-lookup"><span data-stu-id="4f68e-120">The information contained in JWTs are known as "claims", or assertions of information about the bearer and subject of the token.</span></span>  <span data-ttu-id="4f68e-121">Les revendications dans les jetons JWT sont des objets JSON codés et sérialisés pour la transmission.</span><span class="sxs-lookup"><span data-stu-id="4f68e-121">The claims in JWTs are JSON objects encoded and serialized for transmission.</span></span>  <span data-ttu-id="4f68e-122">Étant donné que les jetons JWT émis par Azure AD sont signés, mais pas chiffrés, vous pouvez facilement inspecter le contenu d’un jeton JWT à des fins de débogage.</span><span class="sxs-lookup"><span data-stu-id="4f68e-122">Since the JWTs issued by Azure AD are signed, but not encrypted, you can easily inspect the contents of a JWT for debugging purposes.</span></span>  <span data-ttu-id="4f68e-123">Il existe plusieurs outils disponibles pour y parvenir, tels que [jwt.calebb.net](http://jwt.calebb.net).</span><span class="sxs-lookup"><span data-stu-id="4f68e-123">There are several tools available for doing so, such as [jwt.calebb.net](http://jwt.calebb.net).</span></span> <span data-ttu-id="4f68e-124">Pour plus d’informations sur les jetons JWT, consultez la [spécification JWT](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span><span class="sxs-lookup"><span data-stu-id="4f68e-124">For more information on JWTs, you can refer to the [JWT specification](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

## <a name="idtokens"></a><span data-ttu-id="4f68e-125">Jetons id_token</span><span class="sxs-lookup"><span data-stu-id="4f68e-125">Id_tokens</span></span>
<span data-ttu-id="4f68e-126">Les jetons id_token constituent une forme de jeton de sécurité de connexion. Votre application les reçoit quand elle procède à l’authentification à l’aide [d’OpenID Connect](active-directory-protocols-openid-connect-code.md).</span><span class="sxs-lookup"><span data-stu-id="4f68e-126">Id_tokens are a form of sign-in security token that your app receives when performing authentication using [OpenID Connect](active-directory-protocols-openid-connect-code.md).</span></span>  <span data-ttu-id="4f68e-127">Ils sont représentés en tant que [jetons JWT](#types-of-tokens) et contiennent des revendications que vous pouvez utiliser pour connecter l’utilisateur à votre application.</span><span class="sxs-lookup"><span data-stu-id="4f68e-127">They are represented as [JWTs](#types-of-tokens), and contain claims that you can use for signing the user into your app.</span></span>  <span data-ttu-id="4f68e-128">Vous pouvez utiliser les revendications dans un jeton id_token comme bon vous semble. En général, elles permettent d’afficher des informations de compte ou de prendre des décisions de contrôle d’accès dans une application.</span><span class="sxs-lookup"><span data-stu-id="4f68e-128">You can use the claims in an id_token as you see fit - commonly they are used for displaying account information or making access control decisions in an app.</span></span>

<span data-ttu-id="4f68e-129">Les jetons id_token sont signés, mais ils ne sont pas chiffrés pour l’instant.</span><span class="sxs-lookup"><span data-stu-id="4f68e-129">Id_tokens are signed, but not encrypted at this time.</span></span>  <span data-ttu-id="4f68e-130">Quand votre application reçoit un jeton id_token, elle doit [valider la signature](#validating-tokens) pour prouver l’authenticité du jeton et valider certaines revendications du jeton pour prouver sa validité.</span><span class="sxs-lookup"><span data-stu-id="4f68e-130">When your app receives an id_token, it must [validate the signature](#validating-tokens) to prove the token's authenticity and validate a few claims in the token to prove its validity.</span></span>  <span data-ttu-id="4f68e-131">Les revendications validées par une application varient selon les spécifications du scénario, mais il existe certaines [validations de revendication communes](#validating-tokens) auxquelles votre application doit procéder dans chaque scénario.</span><span class="sxs-lookup"><span data-stu-id="4f68e-131">The claims validated by an app vary depending on scenario requirements, but there are some [common claim validations](#validating-tokens) that your app must perform in every scenario.</span></span>

<span data-ttu-id="4f68e-132">Consultez la section suivante pour plus d’informations sur les revendications id_tokens et découvrir un exemple d’id_token.</span><span class="sxs-lookup"><span data-stu-id="4f68e-132">See the following section for information on id_tokens claims, as well as a sample id_token.</span></span>  <span data-ttu-id="4f68e-133">Notez que les revendications dans les jetons id_token ne sont pas retournées dans un ordre particulier.</span><span class="sxs-lookup"><span data-stu-id="4f68e-133">Note that the claims in id_tokens are not returned in any particular order.</span></span>  <span data-ttu-id="4f68e-134">Par ailleurs, de nouvelles revendications peuvent être introduites dans des jetons id_token à n’importe quel moment. L’introduction de nouvelles déclarations ne doit pas altérer votre application.</span><span class="sxs-lookup"><span data-stu-id="4f68e-134">In addition, new claims can be introduced into id_tokens at any point in time - your app should not break as new claims are introduced.</span></span>  <span data-ttu-id="4f68e-135">La liste suivante répertorie les revendications qui sont correctement interprétées par votre application au moment de la rédaction de cet article.</span><span class="sxs-lookup"><span data-stu-id="4f68e-135">The following list includes the claims that your app can reliably interpret at the time of this writing.</span></span>  <span data-ttu-id="4f68e-136">En cas de besoin, vous trouverez des informations supplémentaires dans la [spécification OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="4f68e-136">If necessary, even more detail can be found in the [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

#### <a name="sample-idtoken"></a><span data-ttu-id="4f68e-137">Exemple de jeton id_token</span><span class="sxs-lookup"><span data-stu-id="4f68e-137">Sample id_token</span></span>
```
eyJ0eXAiOiJKV1QiLCJhbGciOiJub25lIn0.eyJhdWQiOiIyZDRkMTFhMi1mODE0LTQ2YTctODkwYS0yNzRhNzJhNzMwOWUiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC83ZmU4MTQ0Ny1kYTU3LTQzODUtYmVjYi02ZGU1N2YyMTQ3N2UvIiwiaWF0IjoxMzg4NDQwODYzLCJuYmYiOjEzODg0NDA4NjMsImV4cCI6MTM4ODQ0NDc2MywidmVyIjoiMS4wIiwidGlkIjoiN2ZlODE0NDctZGE1Ny00Mzg1LWJlY2ItNmRlNTdmMjE0NzdlIiwib2lkIjoiNjgzODlhZTItNjJmYS00YjE4LTkxZmUtNTNkZDEwOWQ3NGY1IiwidXBuIjoiZnJhbmttQGNvbnRvc28uY29tIiwidW5pcXVlX25hbWUiOiJmcmFua21AY29udG9zby5jb20iLCJzdWIiOiJKV3ZZZENXUGhobHBTMVpzZjd5WVV4U2hVd3RVbTV5elBtd18talgzZkhZIiwiZmFtaWx5X25hbWUiOiJNaWxsZXIiLCJnaXZlbl9uYW1lIjoiRnJhbmsifQ.
```

> [!TIP]
> <span data-ttu-id="4f68e-138">Pour vous entraîner, essayez d’inspecter les revendications dans l’exemple de jeton d’ID en le collant dans [calebb.net](http://jwt.calebb.net).</span><span class="sxs-lookup"><span data-stu-id="4f68e-138">For practice, try inspecting the claims in the sample id_token by pasting it into [calebb.net](http://jwt.calebb.net).</span></span>
> 
> 

#### <a name="claims-in-idtokens"></a><span data-ttu-id="4f68e-139">Revendications dans les jetons id_token</span><span class="sxs-lookup"><span data-stu-id="4f68e-139">Claims in id_tokens</span></span>
> [!div class="mx-codeBreakAll"]
| <span data-ttu-id="4f68e-140">Revendication JWT</span><span class="sxs-lookup"><span data-stu-id="4f68e-140">JWT Claim</span></span> | <span data-ttu-id="4f68e-141">Name</span><span class="sxs-lookup"><span data-stu-id="4f68e-141">Name</span></span> | <span data-ttu-id="4f68e-142">Description</span><span class="sxs-lookup"><span data-stu-id="4f68e-142">Description</span></span> |
| --- | --- | --- |
| `appid` |<span data-ttu-id="4f68e-143">ID de l'application</span><span class="sxs-lookup"><span data-stu-id="4f68e-143">Application ID</span></span> |<span data-ttu-id="4f68e-144">Identifie l’application qui utilise le jeton pour accéder à une ressource.</span><span class="sxs-lookup"><span data-stu-id="4f68e-144">Identifies the application that is using the token to access a resource.</span></span> <span data-ttu-id="4f68e-145">L'application peut agir pour elle-même ou pour le compte d'un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="4f68e-145">The application can act as itself or on behalf of a user.</span></span> <span data-ttu-id="4f68e-146">L'ID d'application représente généralement un objet d’application, mais elle peut également représenter un objet du principal du service dans Azure AD.</span><span class="sxs-lookup"><span data-stu-id="4f68e-146">The application ID typically represents an application object, but it can also represent a service principal object in Azure AD.</span></span> <br><br> <span data-ttu-id="4f68e-147">**Exemple de valeur JWT** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-147">**Example JWT Value**:</span></span> <br> `"appid":"15CB020F-3984-482A-864D-1D92265E8268"` |
| `aud` |<span data-ttu-id="4f68e-148">Public ciblé</span><span class="sxs-lookup"><span data-stu-id="4f68e-148">Audience</span></span> |<span data-ttu-id="4f68e-149">Destinataire du jeton.</span><span class="sxs-lookup"><span data-stu-id="4f68e-149">The intended recipient of the token.</span></span> <span data-ttu-id="4f68e-150">L'application qui reçoit le jeton doit vérifier que la valeur de l'audience est correcte et rejeter les jetons destinés à une autre audience.</span><span class="sxs-lookup"><span data-stu-id="4f68e-150">The application that receives the token must verify that the audience value is correct and reject any tokens intended for a different audience.</span></span> <br><br> <span data-ttu-id="4f68e-151">**Exemple de valeur SAML** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-151">**Example SAML Value**:</span></span> <br> `<AudienceRestriction>`<br>`<Audience>`<br>`https://contoso.com`<br>`</Audience>`<br>`</AudienceRestriction>` <br><br> <span data-ttu-id="4f68e-152">**Exemple de valeur JWT** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-152">**Example JWT Value**:</span></span> <br> `"aud":"https://contoso.com"` |
| `appidacr` |<span data-ttu-id="4f68e-153">Référence de classe du contexte d’authentification de l’application</span><span class="sxs-lookup"><span data-stu-id="4f68e-153">Application Authentication Context Class Reference</span></span> |<span data-ttu-id="4f68e-154">Indique comment le client a été authentifié.</span><span class="sxs-lookup"><span data-stu-id="4f68e-154">Indicates how the client was authenticated.</span></span> <span data-ttu-id="4f68e-155">Pour un client public, la valeur est 0.</span><span class="sxs-lookup"><span data-stu-id="4f68e-155">For a public client, the value is 0.</span></span> <span data-ttu-id="4f68e-156">Si l'ID client et la clé secrète client sont utilisés, la valeur est 1.</span><span class="sxs-lookup"><span data-stu-id="4f68e-156">If client ID and client secret are used, the value is 1.</span></span> <br><br> <span data-ttu-id="4f68e-157">**Exemple de valeur JWT** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-157">**Example JWT Value**:</span></span> <br> `"appidacr": "0"` |
| `acr` |<span data-ttu-id="4f68e-158">Référence de classe du contexte d'authentification</span><span class="sxs-lookup"><span data-stu-id="4f68e-158">Authentication Context Class Reference</span></span> |<span data-ttu-id="4f68e-159">Indique comment le sujet a été authentifié, et non pas le client comme dans la revendication de référence de classe du contexte de l’authentification de l’application.</span><span class="sxs-lookup"><span data-stu-id="4f68e-159">Indicates how the subject was authenticated, as opposed to the client in the Application Authentication Context Class Reference claim.</span></span> <span data-ttu-id="4f68e-160">La valeur « 0 » indique que l'authentification de l'utilisateur final ne répondait pas aux exigences de la norme ISO/IEC 29115.</span><span class="sxs-lookup"><span data-stu-id="4f68e-160">A value of "0" indicates the end-user authentication did not meet the requirements of ISO/IEC 29115.</span></span> <br><br> <span data-ttu-id="4f68e-161">**Exemple de valeur JWT** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-161">**Example JWT Value**:</span></span> <br> `"acr": "0"` |
| <span data-ttu-id="4f68e-162">Moment d’authentification</span><span class="sxs-lookup"><span data-stu-id="4f68e-162">Authentication Instant</span></span> |<span data-ttu-id="4f68e-163">Enregistre la date et l’heure de l’authentification.</span><span class="sxs-lookup"><span data-stu-id="4f68e-163">Records the date and time when authentication occurred.</span></span> <br><br> <span data-ttu-id="4f68e-164">**Exemple de valeur SAML** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-164">**Example SAML Value**:</span></span> <br> `<AuthnStatement AuthnInstant="2011-12-29T05:35:22.000Z">` | |
| `amr` |<span data-ttu-id="4f68e-165">Méthode d'authentification</span><span class="sxs-lookup"><span data-stu-id="4f68e-165">Authentication Method</span></span> |<span data-ttu-id="4f68e-166">Identifie comment le sujet du jeton a été authentifié.</span><span class="sxs-lookup"><span data-stu-id="4f68e-166">Identifies how the subject of the token was authenticated.</span></span> <br><br> <span data-ttu-id="4f68e-167">**Exemple de valeur SAML** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-167">**Example SAML Value**:</span></span> <br> `<AuthnContextClassRef>`<br>`http://schemas.microsoft.com/ws/2008/06/identity/claims/authenticationmethod/password`<br>`</AuthnContextClassRef>` <br><br> <span data-ttu-id="4f68e-168">**Exemple de valeur JWT** : `“amr”: ["pwd"]`</span><span class="sxs-lookup"><span data-stu-id="4f68e-168">**Example JWT Value**: `“amr”: ["pwd"]`</span></span> |
| `given_name` |<span data-ttu-id="4f68e-169">Prénom</span><span class="sxs-lookup"><span data-stu-id="4f68e-169">First Name</span></span> |<span data-ttu-id="4f68e-170">Fournit le prénom de l’utilisateur tel que défini dans l’objet utilisateur Azure AD.</span><span class="sxs-lookup"><span data-stu-id="4f68e-170">Provides the first or "given" name of the user, as set on the Azure AD user object.</span></span> <br><br> <span data-ttu-id="4f68e-171">**Exemple de valeur SAML** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-171">**Example SAML Value**:</span></span> <br> `<Attribute Name=”http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname”>`<br>`<AttributeValue>Frank<AttributeValue>` <br><br> <span data-ttu-id="4f68e-172">**Exemple de valeur JWT** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-172">**Example JWT Value**:</span></span> <br> `"given_name": "Frank"` |
| `groups` |<span data-ttu-id="4f68e-173">Groupes</span><span class="sxs-lookup"><span data-stu-id="4f68e-173">Groups</span></span> |<span data-ttu-id="4f68e-174">Fournit les ID d’objet qui représentent les appartenances aux groupes du sujet.</span><span class="sxs-lookup"><span data-stu-id="4f68e-174">Provides object IDs that represent the subject's group memberships.</span></span> <span data-ttu-id="4f68e-175">Ces valeurs sont uniques (voir l'ID objet) et peuvent être utilisées en toute sécurité pour la gestion des accès, telle que l'autorisation d'accéder à une ressource.</span><span class="sxs-lookup"><span data-stu-id="4f68e-175">These values are unique (see Object ID) and can be safely used for managing access, such as enforcing authorization to access a resource.</span></span> <span data-ttu-id="4f68e-176">Les groupes inclus dans la revendication des groupes sont configurés pour chaque application, via la propriété « groupMembershipClaims » du manifeste d'application.</span><span class="sxs-lookup"><span data-stu-id="4f68e-176">The groups included in the groups claim are configured on a per-application basis, through the "groupMembershipClaims" property of the application manifest.</span></span> <span data-ttu-id="4f68e-177">Une valeur Null exclut tous les groupes, une valeur « SecurityGroup » inclut uniquement les appartenances aux groupes de sécurité Active Directory et une valeur « All » inclut les groupes de sécurité et les listes de Distribution Office 365.</span><span class="sxs-lookup"><span data-stu-id="4f68e-177">A value of null will exclude all groups, a value of "SecurityGroup" will include only Active Directory Security Group memberships, and a value of "All" will include both Security Groups and Office 365 Distribution Lists.</span></span> <br><br> <span data-ttu-id="4f68e-178">**Exemple de valeur SAML** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-178">**Example SAML Value**:</span></span> <br> `<Attribute Name="http://schemas.microsoft.com/ws/2008/06/identity/claims/groups">`<br>`<AttributeValue>07dd8a60-bf6d-4e17-8844-230b77145381</AttributeValue>` <br><br> <span data-ttu-id="4f68e-179">**Exemple de valeur JWT** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-179">**Example JWT Value**:</span></span> <br> `“groups”: ["0e129f5b-6b0a-4944-982d-f776045632af", … ]` |
| `idp` |<span data-ttu-id="4f68e-180">Fournisseur d’identité</span><span class="sxs-lookup"><span data-stu-id="4f68e-180">Identity Provider</span></span> |<span data-ttu-id="4f68e-181">Enregistre le fournisseur d’identité qui a authentifié le sujet du jeton.</span><span class="sxs-lookup"><span data-stu-id="4f68e-181">Records the identity provider that authenticated the subject of the token.</span></span> <span data-ttu-id="4f68e-182">Cette valeur est identique à la valeur de la revendication de l’émetteur sauf si le compte d'utilisateur est dans un autre client que l'émetteur.</span><span class="sxs-lookup"><span data-stu-id="4f68e-182">This value is identical to the value of the Issuer claim unless the user account is in a different tenant than the issuer.</span></span> <br><br> <span data-ttu-id="4f68e-183">**Exemple de valeur SAML** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-183">**Example SAML Value**:</span></span> <br> `<Attribute Name=” http://schemas.microsoft.com/identity/claims/identityprovider”>`<br>`<AttributeValue>https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/<AttributeValue>` <br><br> <span data-ttu-id="4f68e-184">**Exemple de valeur JWT** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-184">**Example JWT Value**:</span></span> <br> `"idp":”https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/”` |
| `iat` |<span data-ttu-id="4f68e-185">IssuedAt</span><span class="sxs-lookup"><span data-stu-id="4f68e-185">IssuedAt</span></span> |<span data-ttu-id="4f68e-186">Enregistre l’heure à laquelle le jeton a été émis.</span><span class="sxs-lookup"><span data-stu-id="4f68e-186">Stores the time at which the token was issued.</span></span> <span data-ttu-id="4f68e-187">Il est souvent utilisé pour mesurer l’actualisation du jeton.</span><span class="sxs-lookup"><span data-stu-id="4f68e-187">It is often used to measure token freshness.</span></span> <br><br> <span data-ttu-id="4f68e-188">**Exemple de valeur SAML** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-188">**Example SAML Value**:</span></span> <br> `<Assertion ID="_d5ec7a9b-8d8f-4b44-8c94-9812612142be" IssueInstant="2014-01-06T20:20:23.085Z" Version="2.0" xmlns="urn:oasis:names:tc:SAML:2.0:assertion">` <br><br> <span data-ttu-id="4f68e-189">**Exemple de valeur JWT** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-189">**Example JWT Value**:</span></span> <br> `"iat": 1390234181` |
| `iss` |<span data-ttu-id="4f68e-190">Émetteur</span><span class="sxs-lookup"><span data-stu-id="4f68e-190">Issuer</span></span> |<span data-ttu-id="4f68e-191">Identifie le service d’émission de jeton de sécurité (STS) qui construit et retourne le jeton.</span><span class="sxs-lookup"><span data-stu-id="4f68e-191">Identifies the security token service (STS) that constructs and returns the token.</span></span> <span data-ttu-id="4f68e-192">Dans les jetons retournés par Azure AD, l'émetteur est sts.windows.net.</span><span class="sxs-lookup"><span data-stu-id="4f68e-192">In the tokens that Azure AD returns, the issuer is sts.windows.net.</span></span> <span data-ttu-id="4f68e-193">Le GUID dans la valeur de revendication de l'émetteur est l'ID client de Azure AD Directory.</span><span class="sxs-lookup"><span data-stu-id="4f68e-193">The GUID in the Issuer claim value is the tenant ID of the Azure AD directory.</span></span> <span data-ttu-id="4f68e-194">L'ID client est un identificateur non modifiable et fiable du répertoire.</span><span class="sxs-lookup"><span data-stu-id="4f68e-194">The tenant ID is an immutable and reliable identifier of the directory.</span></span> <br><br> <span data-ttu-id="4f68e-195">**Exemple de valeur SAML** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-195">**Example SAML Value**:</span></span> <br> `<Issuer>https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/</Issuer>` <br><br> <span data-ttu-id="4f68e-196">**Exemple de valeur JWT** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-196">**Example JWT Value**:</span></span> <br>  `"iss":”https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/”` |
| `family_name` |<span data-ttu-id="4f68e-197">Nom</span><span class="sxs-lookup"><span data-stu-id="4f68e-197">Last Name</span></span> |<span data-ttu-id="4f68e-198">Fournit le nom de famille de lutilisateur tel que défini dans l’objet utilisateur Azure AD.</span><span class="sxs-lookup"><span data-stu-id="4f68e-198">Provides the last name, surname, or family name of the user as defined in the Azure AD user object.</span></span> <br><br> <span data-ttu-id="4f68e-199">**Exemple de valeur SAML** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-199">**Example SAML Value**:</span></span> <br> `<Attribute Name=” http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname”>`<br>`<AttributeValue>Miller<AttributeValue>` <br><br> <span data-ttu-id="4f68e-200">**Exemple de valeur JWT** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-200">**Example JWT Value**:</span></span> <br> `"family_name": "Miller"` |
| `unique_name` |<span data-ttu-id="4f68e-201">Nom</span><span class="sxs-lookup"><span data-stu-id="4f68e-201">Name</span></span> |<span data-ttu-id="4f68e-202">Fournit une valeur contrôlable de visu qui identifie le sujet du jeton.</span><span class="sxs-lookup"><span data-stu-id="4f68e-202">Provides a human readable value that identifies the subject of the token.</span></span> <span data-ttu-id="4f68e-203">Il n’est pas certain que cette valeur soit unique au sein d'un client. Elle est conçue pour être utilisée uniquement à des fins d'affichage.</span><span class="sxs-lookup"><span data-stu-id="4f68e-203">This value is not guaranteed to be unique within a tenant and is designed to be used only for display purposes.</span></span> <br><br> <span data-ttu-id="4f68e-204">**Exemple de valeur SAML** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-204">**Example SAML Value**:</span></span> <br> `<Attribute Name=”http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name”>`<br>`<AttributeValue>frankm@contoso.com<AttributeValue>` <br><br> <span data-ttu-id="4f68e-205">**Exemple de valeur JWT** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-205">**Example JWT Value**:</span></span> <br> `"unique_name": "frankm@contoso.com"` |
| `oid` |<span data-ttu-id="4f68e-206">ID objet</span><span class="sxs-lookup"><span data-stu-id="4f68e-206">Object ID</span></span> |<span data-ttu-id="4f68e-207">Contient un identificateur unique d’un objet dans Azure AD.</span><span class="sxs-lookup"><span data-stu-id="4f68e-207">Contains a unique identifier of an object in Azure AD.</span></span> <span data-ttu-id="4f68e-208">Cette valeur est immuable et ne peut pas être réattribuée ou réutilisée.</span><span class="sxs-lookup"><span data-stu-id="4f68e-208">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="4f68e-209">Utilisez l'ID objet pour identifier un objet dans les requêtes à Azure AD.</span><span class="sxs-lookup"><span data-stu-id="4f68e-209">Use the object ID to identify an object in queries to Azure AD.</span></span> <br><br> <span data-ttu-id="4f68e-210">**Exemple de valeur SAML** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-210">**Example SAML Value**:</span></span> <br> `<Attribute Name="http://schemas.microsoft.com/identity/claims/objectidentifier">`<br>`<AttributeValue>528b2ac2-aa9c-45e1-88d4-959b53bc7dd0<AttributeValue>` <br><br> <span data-ttu-id="4f68e-211">**Exemple de valeur JWT** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-211">**Example JWT Value**:</span></span> <br> `"oid":"528b2ac2-aa9c-45e1-88d4-959b53bc7dd0"` |
| `roles` |<span data-ttu-id="4f68e-212">contrôleur</span><span class="sxs-lookup"><span data-stu-id="4f68e-212">Roles</span></span> |<span data-ttu-id="4f68e-213">Représente tous les rôles d’application qui ont été accordés au sujet directement et indirectement via l’appartenance au groupe, et peut être utilisée pour appliquer un contrôle d’accès basé sur les rôles.</span><span class="sxs-lookup"><span data-stu-id="4f68e-213">Represents all application roles that the subject has been granted both directly and indirectly through group membership and can be used to enforce role-based access control.</span></span> <span data-ttu-id="4f68e-214">Les rôles d’application sont définis pour chaque application, via la propriété `appRoles` du manifeste d’application.</span><span class="sxs-lookup"><span data-stu-id="4f68e-214">Application roles are defined on a per-application basis, through the `appRoles` property of the application manifest.</span></span> <span data-ttu-id="4f68e-215">La propriété `value` de chaque rôle d’application est la valeur qui s’affiche dans la revendication des rôles.</span><span class="sxs-lookup"><span data-stu-id="4f68e-215">The `value` property of each application role is the value that appears in the roles claim.</span></span> <br><br> <span data-ttu-id="4f68e-216">**Exemple de valeur SAML** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-216">**Example SAML Value**:</span></span> <br> `<Attribute Name="http://schemas.microsoft.com/ws/2008/06/identity/claims/role">`<br>`<AttributeValue>Admin</AttributeValue>` <br><br> <span data-ttu-id="4f68e-217">**Exemple de valeur JWT** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-217">**Example JWT Value**:</span></span> <br> `“roles”: ["Admin", … ]` |
| `scp` |<span data-ttu-id="4f68e-218">Étendue</span><span class="sxs-lookup"><span data-stu-id="4f68e-218">Scope</span></span> |<span data-ttu-id="4f68e-219">Indique les autorisations d’emprunt d’identité accordées à l’application cliente.</span><span class="sxs-lookup"><span data-stu-id="4f68e-219">Indicates the impersonation permissions granted to the client application.</span></span> <span data-ttu-id="4f68e-220">L’autorisation par défaut est `user_impersonation`.</span><span class="sxs-lookup"><span data-stu-id="4f68e-220">The default permission is `user_impersonation`.</span></span> <span data-ttu-id="4f68e-221">Le propriétaire de la ressource sécurisée peut enregistrer des valeurs supplémentaires dans Azure AD.</span><span class="sxs-lookup"><span data-stu-id="4f68e-221">The owner of the secured resource can register additional values in Azure AD.</span></span> <br><br> <span data-ttu-id="4f68e-222">**Exemple de valeur JWT** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-222">**Example JWT Value**:</span></span> <br> `"scp": "user_impersonation"` |
| `sub` |<span data-ttu-id="4f68e-223">Objet</span><span class="sxs-lookup"><span data-stu-id="4f68e-223">Subject</span></span> |<span data-ttu-id="4f68e-224">Identifie l’objet principal sur lequel portent les assertions d’informations du jeton, comme l’utilisateur d’une application.</span><span class="sxs-lookup"><span data-stu-id="4f68e-224">Identifies the principal about which the token asserts information, such as the user of an application.</span></span> <span data-ttu-id="4f68e-225">Cette valeur n’est pas modifiable et ne peut pas être réassignée ou réutilisée. Vous pouvez donc l’utiliser pour effectuer des vérifications d’autorisation en toute sécurité.</span><span class="sxs-lookup"><span data-stu-id="4f68e-225">This value is immutable and cannot be reassigned or reused, so it can be used to perform authorization checks safely.</span></span> <span data-ttu-id="4f68e-226">Étant donné que le sujet est toujours présent dans les jetons émis par Azure AD, vous êtes invité à utiliser cette valeur dans un but général de système d'autorisation.</span><span class="sxs-lookup"><span data-stu-id="4f68e-226">Because the subject is always present in the tokens the Azure AD issues, we recommended using this value in a general purpose authorization system.</span></span> <br> <span data-ttu-id="4f68e-227">`SubjectConfirmation` n’est pas une revendication.</span><span class="sxs-lookup"><span data-stu-id="4f68e-227">`SubjectConfirmation` is not a claim.</span></span> <span data-ttu-id="4f68e-228">Il décrit comment le sujet du jeton est vérifié.</span><span class="sxs-lookup"><span data-stu-id="4f68e-228">It describes how the subject of the token is verified.</span></span> <span data-ttu-id="4f68e-229">`Bearer` indique que le sujet est confirmé par la possession du jeton.</span><span class="sxs-lookup"><span data-stu-id="4f68e-229">`Bearer` indicates that the subject is confirmed by their possession of the token.</span></span> <br><br> <span data-ttu-id="4f68e-230">**Exemple de valeur SAML** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-230">**Example SAML Value**:</span></span> <br> `<Subject>`<br>`<NameID>S40rgb3XjhFTv6EQTETkEzcgVmToHKRkZUIsJlmLdVc</NameID>`<br>`<SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer" />`<br>`</Subject>` <br><br> <span data-ttu-id="4f68e-231">**Exemple de valeur JWT** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-231">**Example JWT Value**:</span></span> <br> `"sub":"92d0312b-26b9-4887-a338-7b00fb3c5eab"` |
| `tid` |<span data-ttu-id="4f68e-232">ID client</span><span class="sxs-lookup"><span data-stu-id="4f68e-232">Tenant ID</span></span> |<span data-ttu-id="4f68e-233">Identificateur non modifiable et non réutilisable qui identifie le client du répertoire qui a émis le jeton.</span><span class="sxs-lookup"><span data-stu-id="4f68e-233">An immutable, non-reusable identifier that identifies the directory tenant that issued the token.</span></span> <span data-ttu-id="4f68e-234">Vous pouvez utiliser cette valeur pour accéder à des ressources de répertoire spécifiques au client dans une application mutualisée.</span><span class="sxs-lookup"><span data-stu-id="4f68e-234">You can use this value to access tenant-specific directory resources in a multi-tenant application.</span></span> <span data-ttu-id="4f68e-235">Par exemple, vous pouvez utiliser cette valeur pour identifier le client dans un appel à l'API Graph.</span><span class="sxs-lookup"><span data-stu-id="4f68e-235">For example, you can use this value to identify the tenant in a call to the Graph API.</span></span> <br><br> <span data-ttu-id="4f68e-236">**Exemple de valeur SAML** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-236">**Example SAML Value**:</span></span> <br> `<Attribute Name=”http://schemas.microsoft.com/identity/claims/tenantid”>`<br>`<AttributeValue>cbb1a5ac-f33b-45fa-9bf5-f37db0fed422<AttributeValue>` <br><br> <span data-ttu-id="4f68e-237">**Exemple de valeur JWT** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-237">**Example JWT Value**:</span></span> <br> `"tid":"cbb1a5ac-f33b-45fa-9bf5-f37db0fed422"` |
| <span data-ttu-id="4f68e-238">`nbf`, `exp`</span><span class="sxs-lookup"><span data-stu-id="4f68e-238">`nbf`, `exp`</span></span> |<span data-ttu-id="4f68e-239">Durée de vie du jeton</span><span class="sxs-lookup"><span data-stu-id="4f68e-239">Token Lifetime</span></span> |<span data-ttu-id="4f68e-240">Définit l’intervalle de temps pendant lequel un jeton est valide.</span><span class="sxs-lookup"><span data-stu-id="4f68e-240">Defines the time interval within which a token is valid.</span></span> <span data-ttu-id="4f68e-241">Le service qui valide le jeton doit vérifier que la date actuelle est comprise dans sa durée de vie, sans quoi le jeton doit être rejeté.</span><span class="sxs-lookup"><span data-stu-id="4f68e-241">The service that validates the token should verify that the current date is within the token lifetime, else it should reject the token.</span></span> <span data-ttu-id="4f68e-242">Le service peut accorder une marge de jusqu’à cinq minutes au-delà de la plage de durée de vie du jeton pour prendre en compte tout écart de temps (« décalage horaire ») entre Azure AD et le service.</span><span class="sxs-lookup"><span data-stu-id="4f68e-242">The service might allow for up to five minutes beyond the token lifetime range to account for any differences in clock time ("time skew") between Azure AD and the service.</span></span> <br><br> <span data-ttu-id="4f68e-243">**Exemple de valeur SAML** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-243">**Example SAML Value**:</span></span> <br> `<Conditions`<br>`NotBefore="2013-03-18T21:32:51.261Z"`<br>`NotOnOrAfter="2013-03-18T22:32:51.261Z"`<br>`>` <br><br> <span data-ttu-id="4f68e-244">**Exemple de valeur JWT** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-244">**Example JWT Value**:</span></span> <br> `"nbf":1363289634, "exp":1363293234` |
| `upn` |<span data-ttu-id="4f68e-245">Nom d’utilisateur principal</span><span class="sxs-lookup"><span data-stu-id="4f68e-245">User Principal Name</span></span> |<span data-ttu-id="4f68e-246">Enregistre le nom d’utilisateur de l’utilisateur principal.</span><span class="sxs-lookup"><span data-stu-id="4f68e-246">Stores the user name of the user principal.</span></span><br><br> <span data-ttu-id="4f68e-247">**Exemple de valeur JWT** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-247">**Example JWT Value**:</span></span> <br> `"upn": frankm@contoso.com` |
| `ver` |<span data-ttu-id="4f68e-248">Version</span><span class="sxs-lookup"><span data-stu-id="4f68e-248">Version</span></span> |<span data-ttu-id="4f68e-249">Enregistre le numéro de version du jeton.</span><span class="sxs-lookup"><span data-stu-id="4f68e-249">Stores the version number of the token.</span></span> <br><br> <span data-ttu-id="4f68e-250">**Exemple de valeur JWT** :</span><span class="sxs-lookup"><span data-stu-id="4f68e-250">**Example JWT Value**:</span></span> <br> `"ver": "1.0"` |

## <a name="access-tokens"></a><span data-ttu-id="4f68e-251">Jetons d’accès</span><span class="sxs-lookup"><span data-stu-id="4f68e-251">Access tokens</span></span>
<span data-ttu-id="4f68e-252">Si l’authentification réussit, Azure AD renvoie un jeton d’accès, qui peut être utilisé pour accéder aux ressources protégées.</span><span class="sxs-lookup"><span data-stu-id="4f68e-252">Upon successful authentication, Azure AD returns an access token, which can be used to access protected resources.</span></span> <span data-ttu-id="4f68e-253">Le jeton d’accès est un jeton JSON Web Token (JWT) encodé en base 64 et son contenu peut être inspecté en l’exécutant via un décodeur.</span><span class="sxs-lookup"><span data-stu-id="4f68e-253">The access token is a base 64 encoded JSON Web Token (JWT) and its contents can be inspected by running it through a decoder.</span></span>

<span data-ttu-id="4f68e-254">Si votre application *utilise* uniquement des jetons d’accès pour accéder aux API, vous pouvez (et devez) traiter les jetons d’accès de façon complètement opaque : ce sont simplement des chaînes que votre application peut transmettre à des ressources dans des requêtes HTTP.</span><span class="sxs-lookup"><span data-stu-id="4f68e-254">If your app only *uses* access tokens to get access to APIs, you can (and should) treat access tokens as completely opaque - they are just strings which your app can pass to resources in HTTP requests.</span></span>

<span data-ttu-id="4f68e-255">Quand vous demandez un jeton d’accès, Azure AD retourne également des métadonnées sur le jeton d’accès que votre application peut consommer.</span><span class="sxs-lookup"><span data-stu-id="4f68e-255">When you request an access token, Azure AD also returns some metadata about the access token for your app's consumption.</span></span>  <span data-ttu-id="4f68e-256">Ces informations incluent le délai d’expiration du jeton d’accès et les étendues dans lesquelles il est valide.</span><span class="sxs-lookup"><span data-stu-id="4f68e-256">This information includes the expiry time of the access token and the scopes for which it is valid.</span></span>  <span data-ttu-id="4f68e-257">Votre application peut ainsi effectuer une mise en cache intelligente des jetons d’accès sans avoir à les analyser.</span><span class="sxs-lookup"><span data-stu-id="4f68e-257">This allows your app to perform intelligent caching of access tokens without having to parse open the access token itself.</span></span>

<span data-ttu-id="4f68e-258">Si votre application est une API protégée par Azure AD qui attend des jetons d’accès dans les requêtes HTTP, vous devez effectuer une validation et une inspection des jetons que vous recevez.</span><span class="sxs-lookup"><span data-stu-id="4f68e-258">If your app is an API protected with Azure AD that expects access tokens in HTTP requests, then you should perform validation and inspection of the tokens you receive.</span></span> <span data-ttu-id="4f68e-259">Votre application doit effectuer la validation du jeton d’accès avant de l’utiliser pour accéder aux ressources.</span><span class="sxs-lookup"><span data-stu-id="4f68e-259">Your app should perform validation of the access token before using it to access resources.</span></span> <span data-ttu-id="4f68e-260">Pour plus d’informations sur la validation, consultez [Validation des jetons](#validating-tokens).</span><span class="sxs-lookup"><span data-stu-id="4f68e-260">For more information on validation, please see [Validating Tokens](#validating-tokens).</span></span>  
<span data-ttu-id="4f68e-261">Pour plus d’informations sur la procédure à suivre avec .NET, consultez [Protéger une API Web à l’aide des jetons du porteur d’Azure AD](active-directory-devquickstarts-webapi-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="4f68e-261">For details on how to do this with .NET, see [Protect a Web API using Bearer tokens from Azure AD](active-directory-devquickstarts-webapi-dotnet.md).</span></span>

## <a name="refresh-tokens"></a><span data-ttu-id="4f68e-262">Jetons d’actualisation</span><span class="sxs-lookup"><span data-stu-id="4f68e-262">Refresh tokens</span></span>

<span data-ttu-id="4f68e-263">Les jetons d’actualisation sont des jetons de sécurité que votre application peut utiliser pour acquérir de nouveaux jetons d’accès dans un flux OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="4f68e-263">Refresh tokens are security tokens, which your app can use to acquire new access tokens in an OAuth 2.0 flow.</span></span>  <span data-ttu-id="4f68e-264">Ils permettent à votre application d’obtenir un accès à long terme à des ressources au nom d’un utilisateur, et ce sans nécessiter l’intervention de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="4f68e-264">It allows your app to achieve long-term access to resources on behalf of a user without requiring interaction by the user.</span></span>

<span data-ttu-id="4f68e-265">Les jetons d’actualisation prennent en charge plusieurs ressources.</span><span class="sxs-lookup"><span data-stu-id="4f68e-265">Refresh tokens are multi-resource.</span></span>  <span data-ttu-id="4f68e-266">Cela signifie qu’un jeton d’actualisation reçu au cours d’une demande de jeton pour une ressource peut être échangé contre des jetons d’accès à une ressource complètement différente.</span><span class="sxs-lookup"><span data-stu-id="4f68e-266">That is to say that a refresh token received during a token request for one resource can be redeemed for access tokens to a completely different resource.</span></span> <span data-ttu-id="4f68e-267">Pour ce faire, définissez le paramètre `resource` sur la ressource cible dans la requête.</span><span class="sxs-lookup"><span data-stu-id="4f68e-267">To do this, set the `resource` parameter in the request to the targeted resource.</span></span>

<span data-ttu-id="4f68e-268">Les jetons d’actualisation sont entièrement opaques pour votre application.</span><span class="sxs-lookup"><span data-stu-id="4f68e-268">Refresh tokens are completely opaque to your app.</span></span> <span data-ttu-id="4f68e-269">Les jetons d’actualisation sont de longue durée. Toutefois, quand vous écrivez votre application, faites en sorte qu’elle n’attende pas un jeton d’actualisation d’une durée particulière.</span><span class="sxs-lookup"><span data-stu-id="4f68e-269">They are long-lived, but your app should not be written to expect that a refresh token will last for any period of time.</span></span>  <span data-ttu-id="4f68e-270">Les jetons d’actualisation peuvent être rendus non valides à tout moment, et ce pour diverses raisons.</span><span class="sxs-lookup"><span data-stu-id="4f68e-270">Refresh tokens can be invalidated at any moment in time for a variety of reasons.</span></span>  <span data-ttu-id="4f68e-271">Pour savoir si un jeton d’actualisation est valide, votre application doit tenter de l’échanger en faisant une demande de jeton auprès du point de terminaison de jeton d’Azure AD. C’est la seule façon de faire.</span><span class="sxs-lookup"><span data-stu-id="4f68e-271">The only way for your app to know if a refresh token is valid is to attempt to redeem it by making a token request to Azure AD token endpoint.</span></span>

<span data-ttu-id="4f68e-272">Quand vous échangez un jeton d’actualisation contre un nouveau jeton d’accès, vous recevez un nouveau jeton d’actualisation dans la réponse du jeton.</span><span class="sxs-lookup"><span data-stu-id="4f68e-272">When you redeem a refresh token for a new access token, you will receive a new refresh token in the token response.</span></span>  <span data-ttu-id="4f68e-273">Vous devez enregistrer le jeton d’actualisation nouvellement émis, ce qui a pour effet de remplacer celui que vous avez utilisé dans la demande.</span><span class="sxs-lookup"><span data-stu-id="4f68e-273">You should save the newly issued refresh token, replacing the one you used in the request.</span></span>  <span data-ttu-id="4f68e-274">Vous avez ainsi la garantie que vos jetons d’actualisation resteront valides le plus longtemps possible.</span><span class="sxs-lookup"><span data-stu-id="4f68e-274">This will guarantee that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="validating-tokens"></a><span data-ttu-id="4f68e-275">Validation des jetons</span><span class="sxs-lookup"><span data-stu-id="4f68e-275">Validating tokens</span></span>

<span data-ttu-id="4f68e-276">Pour valider un jeton id_token ou access_token, votre application doit valider à la fois la signature du jeton et les revendications.</span><span class="sxs-lookup"><span data-stu-id="4f68e-276">In order to validate an id_token or an access_token, your app should validate both the token's signature and the claims.</span></span> <span data-ttu-id="4f68e-277">Afin de valider les jetons d’accès, votre application doit également valider l’émetteur, l’audience et les jetons de signature.</span><span class="sxs-lookup"><span data-stu-id="4f68e-277">In order to validate access tokens, your app should also validate the issuer, the audience and the signing tokens.</span></span> <span data-ttu-id="4f68e-278">Ces éléments doivent être validés d’après les valeurs du document de découverte OpenID.</span><span class="sxs-lookup"><span data-stu-id="4f68e-278">These need to be validated against the values in the OpenID discovery document.</span></span> <span data-ttu-id="4f68e-279">Par exemple, la version indépendante de l’abonné du document se trouve à l’adresse [https://login.microsoftonline.com/common/.well-known/openid-configuration](https://login.microsoftonline.com/common/.well-known/openid-configuration).</span><span class="sxs-lookup"><span data-stu-id="4f68e-279">For example, the tenant independent version of the document is located at [https://login.microsoftonline.com/common/.well-known/openid-configuration](https://login.microsoftonline.com/common/.well-known/openid-configuration).</span></span> <span data-ttu-id="4f68e-280">Le middleware Azure AD intègre des fonctionnalités de validation des jetons d’accès, et vous pouvez parcourir nos [exemples](https://docs.microsoft.com/en-us/azure/active-directory/active-directory-code-samples) pour en trouver un dans la langue de votre choix.</span><span class="sxs-lookup"><span data-stu-id="4f68e-280">Azure AD middleware has built-in capabilities for validating access tokens, and you can browse through our [samples](https://docs.microsoft.com/en-us/azure/active-directory/active-directory-code-samples) to find one in the language of your choice.</span></span> <span data-ttu-id="4f68e-281">Pour plus d’informations sur la validation explicite d’un jeton JWT, consultez l’[exemple de validation manuelle JWT](https://github.com/Azure-Samples/active-directory-dotnet-webapi-manual-jwt-validation).</span><span class="sxs-lookup"><span data-stu-id="4f68e-281">For more information on how to explicitly validate a JWT token, please see the [manual JWT validation sample](https://github.com/Azure-Samples/active-directory-dotnet-webapi-manual-jwt-validation).</span></span>  

<span data-ttu-id="4f68e-282">Nous fournissons des bibliothèques et des exemples de code qui montrent comment gérer facilement la validation des jetons. Les informations ci-dessous sont fournies simplement pour ceux qui souhaitent comprendre le processus sous-jacent.</span><span class="sxs-lookup"><span data-stu-id="4f68e-282">We provide libraries and code samples that show how to easily handle token validation - the below information is simply provided for those who wish to understand the underlying process.</span></span>  <span data-ttu-id="4f68e-283">Il existe également de nombreuses bibliothèques open source tierces qui permettent de valider les jetons JWT. Quels que soient la plateforme et le langage que vous utilisez, vous avez la quasi-certitude de trouver au moins une option.</span><span class="sxs-lookup"><span data-stu-id="4f68e-283">There are also several third party open source libraries available for JWT validation - there is at least one option for almost every platform and language out there.</span></span> <span data-ttu-id="4f68e-284">Pour plus d’informations sur les exemples de code et les bibliothèques d’authentification Azure AD, reportez-vous à la section [Bibliothèques d’authentification Azure AD](active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="4f68e-284">For more information about Azure AD authentication libraries and code samples, please see [Azure AD authentication libraries](active-directory-authentication-libraries.md).</span></span>

#### <a name="validating-the-signature"></a><span data-ttu-id="4f68e-285">Validation de la signature</span><span class="sxs-lookup"><span data-stu-id="4f68e-285">Validating the signature</span></span>

<span data-ttu-id="4f68e-286">Un jeton JWT contient trois segments séparés par le caractère `.` .</span><span class="sxs-lookup"><span data-stu-id="4f68e-286">A JWT contains three segments, which are separated by the `.` character.</span></span>  <span data-ttu-id="4f68e-287">Le premier segment est appelé **l’en-tête**, le second le **corps** et le troisième la **signature**.</span><span class="sxs-lookup"><span data-stu-id="4f68e-287">The first segment is known as the **header**, the second as the **body**, and the third as the **signature**.</span></span>  <span data-ttu-id="4f68e-288">Le segment de signature peut être utilisé pour valider l’authenticité du jeton afin qu’il soit approuvé par votre application.</span><span class="sxs-lookup"><span data-stu-id="4f68e-288">The signature segment can be used to validate the authenticity of the token so that it can be trusted by your app.</span></span>

<span data-ttu-id="4f68e-289">Les jetons émis par Azure AD sont signés à l’aide d’algorithmes de chiffrement asymétrique standard, tels que RSA 256.</span><span class="sxs-lookup"><span data-stu-id="4f68e-289">Tokens issued by Azure AD are signed using industry standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="4f68e-290">L’en-tête du JWT contient des informations sur la clé et la méthode de chiffrement utilisées pour signer le jeton :</span><span class="sxs-lookup"><span data-stu-id="4f68e-290">The header of the JWT contains information about the key and encryption method used to sign the token:</span></span>

```
{
  "typ": "JWT",
  "alg": "RS256",
  "x5t": "kriMPdmBvx68skT8-mPAB3BseeA"
}
```

<span data-ttu-id="4f68e-291">La revendication `alg` indique l’algorithme utilisé pour signer le jeton, tandis que la revendication `x5t` indique la clé publique utilisée pour signer le jeton.</span><span class="sxs-lookup"><span data-stu-id="4f68e-291">The `alg` claim indicates the algorithm that was used to sign the token, while the `x5t` claim indicates the particular public key that was used to sign the token.</span></span>

<span data-ttu-id="4f68e-292">À tout moment, Azure AD peut signer un jeton id_token à l'aide de l'un des ensembles de paires de clés publique-privée.</span><span class="sxs-lookup"><span data-stu-id="4f68e-292">At any given point in time, Azure AD may sign an id_token using any one of a certain set of public-private key pairs.</span></span> <span data-ttu-id="4f68e-293">Étant donné qu'Azure AD alterne le jeu de clés possible de façon périodique, votre application doit être écrite de manière à gérer automatiquement ces changements de clés.</span><span class="sxs-lookup"><span data-stu-id="4f68e-293">Azure AD rotates the possible set of keys on a periodic basis, so your app should be written to handle those key changes automatically.</span></span>  <span data-ttu-id="4f68e-294">Pour vérifier les mises à jour apportées aux clés publiques utilisées par Azure AD, spécifiez une fréquence raisonnable d’environ 24 heures.</span><span class="sxs-lookup"><span data-stu-id="4f68e-294">A reasonable frequency to check for updates to the public keys used by Azure AD is every 24 hours.</span></span>

<span data-ttu-id="4f68e-295">Pour acquérir les données de la clé de signature nécessaires pour valider la signature, utilisez le document de métadonnées OpenID Connect à l’emplacement suivant :</span><span class="sxs-lookup"><span data-stu-id="4f68e-295">You can acquire the signing key data necessary to validate the signature by using the OpenID Connect metadata document located at:</span></span>

```
https://login.microsoftonline.com/common/.well-known/openid-configuration
```

> [!TIP]
> <span data-ttu-id="4f68e-296">Testez cette URL dans un navigateur !</span><span class="sxs-lookup"><span data-stu-id="4f68e-296">Try this URL in a browser!</span></span>
> 
> 

<span data-ttu-id="4f68e-297">Ce document de métadonnées est un objet JSON qui contient diverses informations utiles, comme l’emplacement des différents points de terminaison nécessaires pour effectuer l’authentification OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="4f68e-297">This metadata document is a JSON object containing several useful pieces of information, such as the location of the various endpoints required for performing OpenID Connect authentication.</span></span>  

<span data-ttu-id="4f68e-298">Il comprend également un `jwks_uri`qui indique l’emplacement de l’ensemble des clés publiques utilisées pour signer les jetons.</span><span class="sxs-lookup"><span data-stu-id="4f68e-298">It also includes a `jwks_uri`, which gives the location of the set of public keys used to sign tokens.</span></span>  <span data-ttu-id="4f68e-299">Le document JSON situé sous `jwks_uri` contient toutes les informations sur les clés publiques utilisées à cet instant donné.</span><span class="sxs-lookup"><span data-stu-id="4f68e-299">The JSON document located at the `jwks_uri` contains all of the public key information in use at that particular moment in time.</span></span>  <span data-ttu-id="4f68e-300">Votre application peut utiliser la revendication `kid` dans l’en-tête JWT pour sélectionner la clé publique utilisée dans ce document pour signer un jeton donné.</span><span class="sxs-lookup"><span data-stu-id="4f68e-300">Your app can use the `kid` claim in the JWT header to select which public key in this document has been used to sign a particular token.</span></span>  <span data-ttu-id="4f68e-301">Elle peut ensuite procéder à la validation des signatures à l’aide de la clé publique correcte et de l’algorithme indiqué.</span><span class="sxs-lookup"><span data-stu-id="4f68e-301">It can then perform signature validation using the correct public key and the indicated algorithm.</span></span>

<span data-ttu-id="4f68e-302">La validation des signatures dépasse le cadre de ce document. Si vous avez besoin d’aide, de nombreuses bibliothèques open source sont disponibles.</span><span class="sxs-lookup"><span data-stu-id="4f68e-302">Performing signature validation is outside the scope of this document - there are many open source libraries available for helping you do so if necessary.</span></span>

#### <a name="validating-the-claims"></a><span data-ttu-id="4f68e-303">Validation des revendications</span><span class="sxs-lookup"><span data-stu-id="4f68e-303">Validating the claims</span></span>

<span data-ttu-id="4f68e-304">Lorsque votre application reçoit un jeton (que ce soit un id_token, à la connexion de l’utilisateur, ou un jeton d’accès comme un jeton du porteur dans la requête HTTP), elle doit également effectuer quelques vérifications sur le jeton par rapport aux revendications.</span><span class="sxs-lookup"><span data-stu-id="4f68e-304">When your app receives a token (either an id_token upon user sign-in, or an access token as a bearer token in the HTTP request) it should also perform a few checks against the claims in the token.</span></span>  <span data-ttu-id="4f68e-305">Ces vérifications portent notamment sur les revendications suivantes :</span><span class="sxs-lookup"><span data-stu-id="4f68e-305">These include but are not limited to:</span></span>

* <span data-ttu-id="4f68e-306">Revendication **Audience** : il s’agit de vérifier que le jeton était bien destiné à votre application.</span><span class="sxs-lookup"><span data-stu-id="4f68e-306">The **Audience** claim - to verify that the token was intended to be given to your app.</span></span>
* <span data-ttu-id="4f68e-307">Revendications **Pas avant** et **Heure d’expiration** : il s’agit de vérifier que le jeton n’est pas arrivé à expiration.</span><span class="sxs-lookup"><span data-stu-id="4f68e-307">The **Not Before** and **Expiration Time** claims - to verify that the token has not expired.</span></span>
* <span data-ttu-id="4f68e-308">Revendication **Émetteur** : il s'agit de vérifier que le jeton a été effectivement émis à votre application par Azure AD.</span><span class="sxs-lookup"><span data-stu-id="4f68e-308">The **Issuer** claim - to verify that the token was indeed issued to your app by Azure AD.</span></span>
* <span data-ttu-id="4f68e-309">**Valeur à usage unique (Nonce)** : il s’agit d’atténuer les attaques par relecture de jetons.</span><span class="sxs-lookup"><span data-stu-id="4f68e-309">The **Nonce** -  to mitigate a token replay attack.</span></span>
* <span data-ttu-id="4f68e-310">et bien plus...</span><span class="sxs-lookup"><span data-stu-id="4f68e-310">and more...</span></span>

<span data-ttu-id="4f68e-311">Pour obtenir la liste complète des revendications que votre application doit valider pour les jetons id_token, reportez-vous à la [Spécification OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span><span class="sxs-lookup"><span data-stu-id="4f68e-311">For a full list of claim validations your app should perform for ID Tokens, refer to the [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span></span> <span data-ttu-id="4f68e-312">Les valeurs attendues pour ces revendications sont détaillées dans la [section Jeton id_token](#id-tokens) ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="4f68e-312">Details of the expected values for these claims are included in the preceding [id_token section](#id-tokens) section.</span></span>

## <a name="sample-tokens"></a><span data-ttu-id="4f68e-313">Exemples de jeton</span><span class="sxs-lookup"><span data-stu-id="4f68e-313">Sample Tokens</span></span>

<span data-ttu-id="4f68e-314">Cette section affiche des exemples de jetons SAML et JWT retournés par Azure AD.</span><span class="sxs-lookup"><span data-stu-id="4f68e-314">This section displays samples of SAML and JWT tokens that Azure AD returns.</span></span> <span data-ttu-id="4f68e-315">Ces exemples vous permettent de voir les revendications en contexte.</span><span class="sxs-lookup"><span data-stu-id="4f68e-315">These samples let you see the claims in context.</span></span>

### <a name="saml-token"></a><span data-ttu-id="4f68e-316">Jeton SAML</span><span class="sxs-lookup"><span data-stu-id="4f68e-316">SAML Token</span></span>

<span data-ttu-id="4f68e-317">Il s'agit d'un exemple de jeton SAML classique.</span><span class="sxs-lookup"><span data-stu-id="4f68e-317">This is a sample of a typical SAML token.</span></span>

    <?xml version="1.0" encoding="UTF-8"?>
    <t:RequestSecurityTokenResponse xmlns:t="http://schemas.xmlsoap.org/ws/2005/02/trust">
      <t:Lifetime>
        <wsu:Created xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">2014-12-24T05:15:47.060Z</wsu:Created>
        <wsu:Expires xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">2014-12-24T06:15:47.060Z</wsu:Expires>
      </t:Lifetime>
      <wsp:AppliesTo xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy">
        <EndpointReference xmlns="http://www.w3.org/2005/08/addressing">
          <Address>https://contoso.onmicrosoft.com/MyWebApp</Address>
        </EndpointReference>
      </wsp:AppliesTo>
      <t:RequestedSecurityToken>
        <Assertion xmlns="urn:oasis:names:tc:SAML:2.0:assertion" ID="_3ef08993-846b-41de-99df-b7f3ff77671b" IssueInstant="2014-12-24T05:20:47.060Z" Version="2.0">
          <Issuer>https://sts.windows.net/b9411234-09af-49c2-b0c3-653adc1f376e/</Issuer>
          <ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
            <ds:SignedInfo>
              <ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#" />
              <ds:SignatureMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256" />
              <ds:Reference URI="#_3ef08993-846b-41de-99df-b7f3ff77671b">
                <ds:Transforms>
                  <ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature" />
                  <ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#" />
                </ds:Transforms>
                <ds:DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256" />
                <ds:DigestValue>cV1J580U1pD24hEyGuAxrbtgROVyghCqI32UkER/nDY=</ds:DigestValue>
              </ds:Reference>
            </ds:SignedInfo>
            <ds:SignatureValue>j+zPf6mti8Rq4Kyw2NU2nnu0pbJU1z5bR/zDaKaO7FCTdmjUzAvIVfF8pspVR6CbzcYM3HOAmLhuWmBkAAk6qQUBmKsw+XlmF/pB/ivJFdgZSLrtlBs1P/WBV3t04x6fRW4FcIDzh8KhctzJZfS5wGCfYw95er7WJxJi0nU41d7j5HRDidBoXgP755jQu2ZER7wOYZr6ff+ha+/Aj3UMw+8ZtC+WCJC3yyENHDAnp2RfgdElJal68enn668fk8pBDjKDGzbNBO6qBgFPaBT65YvE/tkEmrUxdWkmUKv3y7JWzUYNMD9oUlut93UTyTAIGOs5fvP9ZfK2vNeMVJW7Xg==</ds:SignatureValue>
            <KeyInfo xmlns="http://www.w3.org/2000/09/xmldsig#">
              <X509Data>
                <X509Certificate>MIIDPjCCAabcAwIBAgIQsRiM0jheFZhKk49YD0SK1TAJBgUrDgMCHQUAMC0xKzApBgNVBAMTImFjY291bnRzLmFjY2Vzc2NvbnRyb2wud2luZG93cy5uZXQwHhcNMTQwMTAxMDcwMDAwWhcNMTYwMTAxMDcwMDAwWjAtMSswKQYDVQQDEyJhY2NvdW50cy5hY2Nlc3Njb250cm9sLndpbmRvd3MubmV0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAkSCWg6q9iYxvJE2NIhSyOiKvqoWCO2GFipgH0sTSAs5FalHQosk9ZNTztX0ywS/AHsBeQPqYygfYVJL6/EgzVuwRk5txr9e3n1uml94fLyq/AXbwo9yAduf4dCHTP8CWR1dnDR+Qnz/4PYlWVEuuHHONOw/blbfdMjhY+C/BYM2E3pRxbohBb3x//CfueV7ddz2LYiH3wjz0QS/7kjPiNCsXcNyKQEOTkbHFi3mu0u13SQwNddhcynd/GTgWN8A+6SN1r4hzpjFKFLbZnBt77ACSiYx+IHK4Mp+NaVEi5wQtSsjQtI++XsokxRDqYLwus1I1SihgbV/STTg5enufuwIDAQABo2IwYDBeBgNVHQEEVzBVgBDLebM6bK3BjWGqIBrBNFeNoS8wLTErMCkGA1UEAxMiYWNjb3VudHMuYWNjZXNzY29udHJvbC53aW5kb3dzLm5ldIIQsRiM0jheFZhKk49YD0SK1TAJBgUrDgMCHQUAA4IBAQCJ4JApryF77EKC4zF5bUaBLQHQ1PNtA1uMDbdNVGKCmSp8M65b8h0NwlIjGGGy/unK8P6jWFdm5IlZ0YPTOgzcRZguXDPj7ajyvlVEQ2K2ICvTYiRQqrOhEhZMSSZsTKXFVwNfW6ADDkN3bvVOVbtpty+nBY5UqnI7xbcoHLZ4wYD251uj5+lo13YLnsVrmQ16NCBYq2nQFNPuNJw6t3XUbwBHXpF46aLT1/eGf/7Xx6iy8yPJX4DyrpFTutDz882RWofGEO5t4Cw+zZg70dJ/hH/ODYRMorfXEW+8uKmXMKmX2wyxMKvfiPbTy5LmAU8Jvjs2tLg4rOBcXWLAIarZ</X509Certificate>
              </X509Data>
            </KeyInfo>
          </ds:Signature>
          <Subject>
            <NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:persistent">m_H3naDei2LNxUmEcWd0BZlNi_jVET1pMLR6iQSuYmo</NameID>
            <SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer" />
          </Subject>
          <Conditions NotBefore="2014-12-24T05:15:47.060Z" NotOnOrAfter="2014-12-24T06:15:47.060Z">
            <AudienceRestriction>
              <Audience>https://contoso.onmicrosoft.com/MyWebApp</Audience>
            </AudienceRestriction>
          </Conditions>
          <AttributeStatement>
            <Attribute Name="http://schemas.microsoft.com/identity/claims/objectidentifier">
              <AttributeValue>a1addde8-e4f9-4571-ad93-3059e3750d23</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.microsoft.com/identity/claims/tenantid">
              <AttributeValue>b9411234-09af-49c2-b0c3-653adc1f376e</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name">
              <AttributeValue>sample.admin@contoso.onmicrosoft.com</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname">
              <AttributeValue>Admin</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname">
              <AttributeValue>Sample</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.microsoft.com/ws/2008/06/identity/claims/groups">
              <AttributeValue>5581e43f-6096-41d4-8ffa-04e560bab39d</AttributeValue>
              <AttributeValue>07dd8a89-bf6d-4e81-8844-230b77145381</AttributeValue>
              <AttributeValue>0e129f4g-6b0a-4944-982d-f776000632af</AttributeValue>
              <AttributeValue>3ee07328-52ef-4739-a89b-109708c22fb5</AttributeValue>
              <AttributeValue>329k14b3-1851-4b94-947f-9a4dacb595f4</AttributeValue>
              <AttributeValue>6e32c650-9b0a-4491-b429-6c60d2ca9a42</AttributeValue>
              <AttributeValue>f3a169a7-9a58-4e8f-9d47-b70029v07424</AttributeValue>
              <AttributeValue>8e2c86b2-b1ad-476d-9574-544d155aa6ff</AttributeValue>
              <AttributeValue>1bf80264-ff24-4866-b22c-6212e5b9a847</AttributeValue>
              <AttributeValue>4075f9c3-072d-4c32-b542-03e6bc678f3e</AttributeValue>
              <AttributeValue>76f80527-f2cd-46f4-8c52-8jvd8bc749b1</AttributeValue>
              <AttributeValue>0ba31460-44d0-42b5-b90c-47b3fcc48e35</AttributeValue>
              <AttributeValue>edd41703-8652-4948-94a7-2d917bba7667</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.microsoft.com/identity/claims/identityprovider">
              <AttributeValue>https://sts.windows.net/b9411234-09af-49c2-b0c3-653adc1f376e/</AttributeValue>
            </Attribute>
          </AttributeStatement>
          <AuthnStatement AuthnInstant="2014-12-23T18:51:11.000Z">
            <AuthnContext>
              <AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</AuthnContextClassRef>
            </AuthnContext>
          </AuthnStatement>
        </Assertion>
      </t:RequestedSecurityToken>
      <t:RequestedAttachedReference>
        <SecurityTokenReference xmlns="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:d3p1="http://docs.oasis-open.org/wss/oasis-wss-wssecurity-secext-1.1.xsd" d3p1:TokenType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0">
          <KeyIdentifier ValueType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLID">_3ef08993-846b-41de-99df-b7f3ff77671b</KeyIdentifier>
        </SecurityTokenReference>
      </t:RequestedAttachedReference>
      <t:RequestedUnattachedReference>
        <SecurityTokenReference xmlns="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:d3p1="http://docs.oasis-open.org/wss/oasis-wss-wssecurity-secext-1.1.xsd" d3p1:TokenType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0">
          <KeyIdentifier ValueType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLID">_3ef08993-846b-41de-99df-b7f3ff77671b</KeyIdentifier>
        </SecurityTokenReference>
      </t:RequestedUnattachedReference>
      <t:TokenType>http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0</t:TokenType>
      <t:RequestType>http://schemas.xmlsoap.org/ws/2005/02/trust/Issue</t:RequestType>
      <t:KeyType>http://schemas.xmlsoap.org/ws/2005/05/identity/NoProofKey</t:KeyType>
    </t:RequestSecurityTokenResponse>

### <a name="jwt-token---user-impersonation"></a><span data-ttu-id="4f68e-318">Jeton JWT - emprunt d'identité de l'utilisateur</span><span class="sxs-lookup"><span data-stu-id="4f68e-318">JWT Token - User Impersonation</span></span>
<span data-ttu-id="4f68e-319">Il s’agit d’un exemple de jeton web JSON (JWT) classique utilisé dans un flux d’octroi d’un code d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="4f68e-319">This is a sample of a typical JSON web token (JWT) used in an authorization code grant flow.</span></span>
<span data-ttu-id="4f68e-320">Outre les revendications, le jeton inclut un numéro de version dans **ver** et **appidacr** et la référence de classe du contexte de l'authentification qui indique comment le client a été authentifié.</span><span class="sxs-lookup"><span data-stu-id="4f68e-320">In addition to claims, the token includes a version number in **ver** and **appidacr**, the authentication context class reference, which indicates how the client was authenticated.</span></span> <span data-ttu-id="4f68e-321">Pour un client public, la valeur est 0.</span><span class="sxs-lookup"><span data-stu-id="4f68e-321">For a public client, the value is 0.</span></span> <span data-ttu-id="4f68e-322">Si un ID client ou une clé secrète client est utilisé, la valeur est 1.</span><span class="sxs-lookup"><span data-stu-id="4f68e-322">If a client ID or client secret was used, the value is 1.</span></span>

    {
     typ: "JWT",
     alg: "RS256",
     x5t: "kriMPdmBvx68skT8-mPAB3BseeA"
    }.
    {
     aud: "https://contoso.onmicrosoft.com/scratchservice",
     iss: "https://sts.windows.net/b9411234-09af-49c2-b0c3-653adc1f376e/",
     iat: 1416968588,
     nbf: 1416968588,
     exp: 1416972488,
     ver: "1.0",
     tid: "b9411234-09af-49c2-b0c3-653adc1f376e",
     amr: [
      "pwd"
     ],
     roles: [
      "Admin"
     ],
     oid: "6526e123-0ff9-4fec-ae64-a8d5a77cf287",
     upn: "sample.user@contoso.onmicrosoft.com",
     unique_name: "sample.user@contoso.onmicrosoft.com",
     sub: "yf8C5e_VRkR1egGxJSDt5_olDFay6L5ilBA81hZhQEI",
     family_name: "User",
     given_name: "Sample",
     groups: [
      "0e129f6b-6b0a-4944-982d-f776000632af",
      "323b13b3-1851-4b94-947f-9a4dacb595f4",
      "6e32c250-9b0a-4491-b429-6c60d2ca9a42",
      "f3a161a7-9a58-4e8f-9d47-b70022a07424",
      "8d4c81b2-b1ad-476d-9574-544d155aa6ff",
      "1bf80164-ff24-4866-b19c-6212e5b9a847",
      "76f80127-f2cd-46f4-8c52-8edd8bc749b1",
      "0ba27160-44d0-42b5-b90c-47b3fcc48e35"
     ],
     appid: "b075ddef-0efa-123b-997b-de1337c29185",
     appidacr: "1",
     scp: "user_impersonation",
     acr: "1"
    }.

## <a name="related-content"></a><span data-ttu-id="4f68e-323">Contenu connexe</span><span class="sxs-lookup"><span data-stu-id="4f68e-323">Related content</span></span>
* <span data-ttu-id="4f68e-324">Consultez les [opérations de stratégie](https://msdn.microsoft.com/library/azure/ad/graph/api/policy-operations) Azure AD Graph et [l’entité de stratégie](https://msdn.microsoft.com/library/azure/ad/graph/api/entity-and-complex-type-reference#policy-entity) pour en savoir plus sur la gestion des stratégies de durée de vie des jetons par le biais de l’API Azure AD Graph.</span><span class="sxs-lookup"><span data-stu-id="4f68e-324">See the Azure AD Graph [Policy operations](https://msdn.microsoft.com/library/azure/ad/graph/api/policy-operations) and the [Policy entity](https://msdn.microsoft.com/library/azure/ad/graph/api/entity-and-complex-type-reference#policy-entity), to learn more about managing token lifetime policy via the Azure AD Graph API.</span></span>
* <span data-ttu-id="4f68e-325">Pour plus d’informations et des exemples sur la gestion des stratégies par le biais des applets de commande PowerShell, consultez [Durées de vie de jeton configurables dans Azure AD](../active-directory-configurable-token-lifetimes.md) (en anglais).</span><span class="sxs-lookup"><span data-stu-id="4f68e-325">For more information and samples on managing policies via PowerShell cmdlets, including samples, see [Configurable token lifetimes in Azure AD](../active-directory-configurable-token-lifetimes.md).</span></span> 
