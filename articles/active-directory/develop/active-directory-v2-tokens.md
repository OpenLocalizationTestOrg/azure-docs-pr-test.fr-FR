---
title: "Informations de référence sur les jetons Azure Active Directory v2.0 | Microsoft Docs"
description: "Types de jeton et de revendication émis par le point de terminaison Azure AD v2.0"
services: active-directory
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: dc58c282-9684-4b38-b151-f3e079f034fd
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/07/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: a3611a239fe044cf1b953220a6e96b0e101f47a4
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="azure-active-directory-v20-tokens-reference"></a><span data-ttu-id="a6e47-103">Informations de référence sur les jetons Azure Active Directory v2.0</span><span class="sxs-lookup"><span data-stu-id="a6e47-103">Azure Active Directory v2.0 tokens reference</span></span>
<span data-ttu-id="a6e47-104">Le point de terminaison Azure Active Directory (Azure AD) v2.0 émet plusieurs types de jeton de sécurité dans chaque [flux d’authentification](active-directory-v2-flows.md).</span><span class="sxs-lookup"><span data-stu-id="a6e47-104">The Azure Active Directory (Azure AD) v2.0 endpoint emits several types of security tokens in each [authentication flow](active-directory-v2-flows.md).</span></span> <span data-ttu-id="a6e47-105">Ces informations de référence décrivent le format, les caractéristiques en matière de sécurité et le contenu de chaque type de jeton.</span><span class="sxs-lookup"><span data-stu-id="a6e47-105">This reference describes the format, security characteristics, and contents of each type of token.</span></span>

> [!NOTE]
> <span data-ttu-id="a6e47-106">Le point de terminaison v2.0 ne prend pas en charge l’intégralité des scénarios et fonctionnalités d’Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="a6e47-106">The v2.0 endpoint does not support all Azure Active Directory scenarios and features.</span></span> <span data-ttu-id="a6e47-107">Pour déterminer si vous devez utiliser le point de terminaison v2.0, consultez les [limitations de v2.0](active-directory-v2-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="a6e47-107">To determine whether you should use the v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span></span>
>
>

## <a name="types-of-tokens"></a><span data-ttu-id="a6e47-108">Types de jetons</span><span class="sxs-lookup"><span data-stu-id="a6e47-108">Types of tokens</span></span>
<span data-ttu-id="a6e47-109">Le point de terminaison v2.0 prend en charge le [protocole d’autorisation OAuth 2.0](active-directory-v2-protocols.md) qui utilise des jetons d’accès et des jetons d’actualisation.</span><span class="sxs-lookup"><span data-stu-id="a6e47-109">The v2.0 endpoint supports the [OAuth 2.0 authorization protocol](active-directory-v2-protocols.md), which uses access tokens and refresh tokens.</span></span> <span data-ttu-id="a6e47-110">Le point de terminaison v2.0 prend également en charge l’authentification et la connexion à l’aide [d’OpenID Connect](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="a6e47-110">The v2.0 endpoint also supports authentication and sign-in via [OpenID Connect](active-directory-v2-protocols.md).</span></span> <span data-ttu-id="a6e47-111">OpenID Connect introduit un troisième type de jeton, le jeton d’ID.</span><span class="sxs-lookup"><span data-stu-id="a6e47-111">OpenID Connect introduces a third type of token, the ID token.</span></span> <span data-ttu-id="a6e47-112">Chacun de ces jetons est représenté en tant que jeton du *porteur*.</span><span class="sxs-lookup"><span data-stu-id="a6e47-112">Each of these tokens is represented as a *bearer* token.</span></span>

<span data-ttu-id="a6e47-113">Un jeton du porteur est un jeton de sécurité léger qui octroie au porteur l’accès à une ressource protégée.</span><span class="sxs-lookup"><span data-stu-id="a6e47-113">A bearer token is a lightweight security token that grants the bearer access to a protected resource.</span></span> <span data-ttu-id="a6e47-114">En ce sens, le porteur désigne toute partie qui peut présenter le jeton.</span><span class="sxs-lookup"><span data-stu-id="a6e47-114">The bearer is any party that can present the token.</span></span> <span data-ttu-id="a6e47-115">Même si une partie doit s’authentifier auprès d’Azure AD pour recevoir le jeton du porteur, si les mécanismes nécessaires à la sécurité du jeton lors de la transmission et du stockage ne sont pas en place, il peut être intercepté et utilisé par une partie non autorisée.</span><span class="sxs-lookup"><span data-stu-id="a6e47-115">Although a party must authenticate with Azure AD to receive the bearer token, if steps are not taken to secure the token during transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="a6e47-116">Bien que certains jetons de sécurité intègrent un mécanisme de protection contre l’utilisation par des parties non autorisées, les jetons du porteur n’en sont pas dotés et</span><span class="sxs-lookup"><span data-stu-id="a6e47-116">Some security tokens have a built-in mechanism to prevent unauthorized parties from using them, but bearer tokens do not.</span></span> <span data-ttu-id="a6e47-117">doivent donc être acheminés sur un canal sécurisé, par exemple à l’aide du protocole TLS (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="a6e47-117">Bearer tokens must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="a6e47-118">Si un jeton du porteur est transmis sans ce type de sécurité, une partie malveillante peut utiliser une attaque de l’intercepteur « man in the middle » pour acquérir le jeton et l’utiliser pour accéder sans autorisation à une ressource protégée.</span><span class="sxs-lookup"><span data-stu-id="a6e47-118">If a bearer token is transmitted without this type of security, a malicious party could use a "man-in-the-middle attack" to acquire the token and use it for unauthorized access to a protected resource.</span></span> <span data-ttu-id="a6e47-119">Les mêmes principes de sécurité s’appliquent au stockage ou à la mise en cache des jetons porteurs pour une utilisation ultérieure.</span><span class="sxs-lookup"><span data-stu-id="a6e47-119">The same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="a6e47-120">Veillez systématiquement à ce que votre application transmette et stocke les jetons du porteur.</span><span class="sxs-lookup"><span data-stu-id="a6e47-120">Always ensure that your app securely transmits and stores bearer tokens.</span></span> <span data-ttu-id="a6e47-121">Pour en savoir plus sur les aspects de sécurité des jetons du porteur, consultez [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="a6e47-121">For more security considerations for bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="a6e47-122">De nombreux jetons émis par le point de terminaison v2.0 sont implémentés en tant que jetons JSON Web Token (JWT).</span><span class="sxs-lookup"><span data-stu-id="a6e47-122">Many of the tokens issued by the v2.0 endpoint are implemented as JSON Web Tokens (JWTs).</span></span> <span data-ttu-id="a6e47-123">Un jeton JWT constitue un moyen compact et sécurisé pour les URL de transférer des informations entre deux parties.</span><span class="sxs-lookup"><span data-stu-id="a6e47-123">A JWT is a compact, URL-safe way to transfer information between two parties.</span></span> <span data-ttu-id="a6e47-124">Les informations contenues dans un jeton JWT sont appelées une *revendication*.</span><span class="sxs-lookup"><span data-stu-id="a6e47-124">The information in a JWT is called a *claim*.</span></span> <span data-ttu-id="a6e47-125">Il s’agit d’une assertion d’informations concernant le porteur et le sujet du jeton.</span><span class="sxs-lookup"><span data-stu-id="a6e47-125">It's an assertion of information about the bearer and subject of the token.</span></span> <span data-ttu-id="a6e47-126">Les revendications contenues dans un jeton JWT sont des objets JSON (JavaScript Object Notation) encodés et sérialisés pour la transmission.</span><span class="sxs-lookup"><span data-stu-id="a6e47-126">The claims in a JWT are JavaScript Object Notation (JSON) objects that are encoded and serialized for transmission.</span></span> <span data-ttu-id="a6e47-127">Comme les jetons JWT émis par le point de terminaison v2.0 sont signés, mais pas chiffrés, vous pouvez facilement inspecter leur contenu à des fins de débogage.</span><span class="sxs-lookup"><span data-stu-id="a6e47-127">Because the JWTs issued by the v2.0 endpoint are signed but not encrypted, you can easily inspect the contents of a JWT for debugging purposes.</span></span> <span data-ttu-id="a6e47-128">Pour plus d’informations sur les jetons JWT, consultez les [spécifications des jetons JWT](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span><span class="sxs-lookup"><span data-stu-id="a6e47-128">For more information about JWTs, see the [JWT specification](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

### <a name="id-tokens"></a><span data-ttu-id="a6e47-129">Jetons d’ID</span><span class="sxs-lookup"><span data-stu-id="a6e47-129">ID tokens</span></span>
<span data-ttu-id="a6e47-130">Un jeton d’ID est une forme de jeton de sécurité de connexion que votre application reçoit quand elle procède à l’authentification à l’aide [d’OpenID Connect](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="a6e47-130">An ID token is a form of sign-in security token that your app receives when it performs authentication by using [OpenID Connect](active-directory-v2-protocols.md).</span></span> <span data-ttu-id="a6e47-131">Les jetons d’ID sont représentés en tant que [jetons JWT](#types-of-tokens) et contiennent des revendications que vous pouvez utiliser pour connecter l’utilisateur à votre application.</span><span class="sxs-lookup"><span data-stu-id="a6e47-131">ID tokens are represented as [JWTs](#types-of-tokens), and they contain claims that you can use to sign the user in to your app.</span></span> <span data-ttu-id="a6e47-132">Vous pouvez utiliser les revendications d’un jeton d’ID de différentes façons.</span><span class="sxs-lookup"><span data-stu-id="a6e47-132">You can use the claims in an ID token in various ways.</span></span> <span data-ttu-id="a6e47-133">En règle générale, les administrateurs utilisent les jetons d’ID pour afficher les informations de compte ou pour prendre des décisions de contrôle d’accès dans une application.</span><span class="sxs-lookup"><span data-stu-id="a6e47-133">Typically, admins use ID tokens to display account information or to make access control decisions in an app.</span></span> <span data-ttu-id="a6e47-134">Le point de terminaison v2.0 émet un seul type de jeton d’ID, dont le jeu de revendications est cohérent quel que soit le type d’utilisateur connecté.</span><span class="sxs-lookup"><span data-stu-id="a6e47-134">The v2.0 endpoint issues only one type of ID token, which has a consistent set of claims, regardless of the type of user that is signed in.</span></span> <span data-ttu-id="a6e47-135">Le format et le contenu des jetons d’ID sont identiques pour les utilisateurs titulaires d’un compte Microsoft personnel et d’un compte professionnel ou scolaire.</span><span class="sxs-lookup"><span data-stu-id="a6e47-135">The format and content of ID tokens are the same for personal Microsoft account users and for work or school accounts.</span></span>

<span data-ttu-id="a6e47-136">Pour le moment, les jetons d’ID sont signés, mais pas chiffrés.</span><span class="sxs-lookup"><span data-stu-id="a6e47-136">Currently, ID tokens are signed but not encrypted.</span></span> <span data-ttu-id="a6e47-137">Quand votre application reçoit un jeton d’ID, elle doit [valider la signature](#validating-tokens) pour prouver l’authenticité du jeton et valider certaines revendications du jeton pour prouver sa validité.</span><span class="sxs-lookup"><span data-stu-id="a6e47-137">When your app receives an ID token, it must [validate the signature](#validating-tokens) to prove the token's authenticity and validate a few claims in the token to prove its validity.</span></span> <span data-ttu-id="a6e47-138">Les revendications validées par une application varient selon les spécifications du scénario, mais il existe certaines [validations de revendication communes](#validating-tokens) auxquelles votre application doit procéder dans chaque scénario.</span><span class="sxs-lookup"><span data-stu-id="a6e47-138">The claims validated by an app vary depending on scenario requirements, but your app must perform some [common claim validations](#validating-tokens) in every scenario.</span></span>

<span data-ttu-id="a6e47-139">Outre un exemple de jeton d’ID, nous vous indiquons les détails complets sur les revendications des jetons d’ID.</span><span class="sxs-lookup"><span data-stu-id="a6e47-139">We give you the full details about claims in ID tokens in the following sections, in addition to a sample ID token.</span></span> <span data-ttu-id="a6e47-140">Les revendications contenues dans les jetons d’ID ne sont pas retournées dans un ordre spécifique.</span><span class="sxs-lookup"><span data-stu-id="a6e47-140">Note that claims in ID tokens are not returned in a specific order.</span></span> <span data-ttu-id="a6e47-141">En outre, de nouvelles revendications peuvent être introduites dans les jetons d’ID à tout moment.</span><span class="sxs-lookup"><span data-stu-id="a6e47-141">Also, new claims can be introduced into ID tokens at any time.</span></span> <span data-ttu-id="a6e47-142">Votre application ne doit pas s’arrêter lorsque de nouvelles revendications sont ajoutées.</span><span class="sxs-lookup"><span data-stu-id="a6e47-142">Your app should not break when new claims are introduced.</span></span> <span data-ttu-id="a6e47-143">La liste suivante répertorie les revendications qui sont correctement interprétées par votre application.</span><span class="sxs-lookup"><span data-stu-id="a6e47-143">The following list includes the claims that your app currently can reliably interpret.</span></span> <span data-ttu-id="a6e47-144">Vous trouverez des informations supplémentaires dans les [spécifications OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="a6e47-144">You can find more details in the [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

#### <a name="sample-id-token"></a><span data-ttu-id="a6e47-145">Exemple de jeton d’ID</span><span class="sxs-lookup"><span data-stu-id="a6e47-145">Sample ID token</span></span>
```
eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSJ9.eyJhdWQiOiI2NzMxZGU3Ni0xNGE2LTQ5YWUtOTdiYy02ZWJhNjkxNDM5MWUiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vYjk0MTk4MTgtMDlhZi00OWMyLWIwYzMtNjUzYWRjMWYzNzZlL3YyLjAiLCJpYXQiOjE0NTIyODUzMzEsIm5iZiI6MTQ1MjI4NTMzMSwiZXhwIjoxNDUyMjg5MjMxLCJuYW1lIjoiQmFiZSBSdXRoIiwibm9uY2UiOiIxMjM0NSIsIm9pZCI6ImExZGJkZGU4LWU0ZjktNDU3MS1hZDkzLTMwNTllMzc1MGQyMyIsInByZWZlcnJlZF91c2VybmFtZSI6InRoZWdyZWF0YmFtYmlub0BueXkub25taWNyb3NvZnQuY29tIiwic3ViIjoiTUY0Zi1nZ1dNRWppMTJLeW5KVU5RWnBoYVVUdkxjUXVnNWpkRjJubDAxUSIsInRpZCI6ImI5NDE5ODE4LTA5YWYtNDljMi1iMGMzLTY1M2FkYzFmMzc2ZSIsInZlciI6IjIuMCJ9.p_rYdrtJ1oCmgDBggNHB9O38KTnLCMGbMDODdirdmZbmJcTHiZDdtTc-hguu3krhbtOsoYM2HJeZM3Wsbp_YcfSKDY--X_NobMNsxbT7bqZHxDnA2jTMyrmt5v2EKUnEeVtSiJXyO3JWUq9R0dO-m4o9_8jGP6zHtR62zLaotTBYHmgeKpZgTFB9WtUq8DVdyMn_HSvQEfz-LWqckbcTwM_9RNKoGRVk38KChVJo4z5LkksYRarDo8QgQ7xEKmYmPvRr_I7gvM2bmlZQds2OeqWLB1NSNbFZqyFOCgYn3bAQ-nEQSKwBaA36jYGPOVG2r2Qv1uKcpSOxzxaQybzYpQ
```

> [!TIP]
> <span data-ttu-id="a6e47-146">Pour vous entraîner, inspectez les revendications de l’exemple de jeton d’ID, puis collez-le dans [calebb.net](http://calebb.net/).</span><span class="sxs-lookup"><span data-stu-id="a6e47-146">For practice, to inspect the claims in the sample ID token, paste the sample ID token into [calebb.net](http://calebb.net/).</span></span>
>
>

#### <a name="claims-in-id-tokens"></a><span data-ttu-id="a6e47-147">Revendications des jetons d’ID</span><span class="sxs-lookup"><span data-stu-id="a6e47-147">Claims in ID tokens</span></span>
| <span data-ttu-id="a6e47-148">Nom</span><span class="sxs-lookup"><span data-stu-id="a6e47-148">Name</span></span> | <span data-ttu-id="a6e47-149">Revendication</span><span class="sxs-lookup"><span data-stu-id="a6e47-149">Claim</span></span> | <span data-ttu-id="a6e47-150">Exemple de valeur</span><span class="sxs-lookup"><span data-stu-id="a6e47-150">Example value</span></span> | <span data-ttu-id="a6e47-151">Description</span><span class="sxs-lookup"><span data-stu-id="a6e47-151">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="a6e47-152">audience</span><span class="sxs-lookup"><span data-stu-id="a6e47-152">audience</span></span> |`aud` |`6731de76-14a6-49ae-97bc-6eba6914391e` |<span data-ttu-id="a6e47-153">Identifie le destinataire du jeton.</span><span class="sxs-lookup"><span data-stu-id="a6e47-153">Identifies the intended recipient of the token.</span></span> <span data-ttu-id="a6e47-154">Dans les jetons d’ID, l’audience est l’ID attribué à votre application dans le portail d’inscription des applications Microsoft.</span><span class="sxs-lookup"><span data-stu-id="a6e47-154">In ID tokens, the audience is your app's Application ID, assigned to your app in the Microsoft Application Registration Portal.</span></span> <span data-ttu-id="a6e47-155">Votre application doit valider cette valeur et rejeter le jeton si la valeur ne correspond pas.</span><span class="sxs-lookup"><span data-stu-id="a6e47-155">Your app should validate this value, and reject the token if the value does not match.</span></span> |
| <span data-ttu-id="a6e47-156">émetteur</span><span class="sxs-lookup"><span data-stu-id="a6e47-156">issuer</span></span> |`iss` |`https://login.microsoftonline.com/b9419818-09af-49c2-b0c3-653adc1f376e/v2.0 ` |<span data-ttu-id="a6e47-157">Identifie le service d’émission de jeton de sécurité (STS) qui construit et retourne le jeton, ainsi que le client Azure AD dans lequel l’utilisateur a été authentifié.</span><span class="sxs-lookup"><span data-stu-id="a6e47-157">Identifies the security token service (STS) that constructs and returns the token, and the Azure AD tenant in which the user was authenticated.</span></span> <span data-ttu-id="a6e47-158">Votre application doit valider la revendication de l’émetteur de manière à s’assurer que le jeton provient bien du point de terminaison v2.0.</span><span class="sxs-lookup"><span data-stu-id="a6e47-158">Your app should validate the issuer claim to ensure that the token came from the v2.0 endpoint.</span></span> <span data-ttu-id="a6e47-159">Il doit également utiliser la partie GUID de la revendication pour restreindre l’ensemble des clients qui peuvent se connecter à l’application.</span><span class="sxs-lookup"><span data-stu-id="a6e47-159">It also should use the GUID portion of the claim to restrict the set of tenants that can sign in to the app.</span></span> <span data-ttu-id="a6e47-160">La partie GUID qui indique que l’utilisateur est un utilisateur consommateur d’un compte Microsoft est `9188040d-6c67-4c5b-b112-36a304b66dad`.</span><span class="sxs-lookup"><span data-stu-id="a6e47-160">The GUID that indicates that the user is a consumer user from a Microsoft account is `9188040d-6c67-4c5b-b112-36a304b66dad`.</span></span> |
| <span data-ttu-id="a6e47-161">émis à</span><span class="sxs-lookup"><span data-stu-id="a6e47-161">issued at</span></span> |`iat` |`1452285331` |<span data-ttu-id="a6e47-162">Heure à laquelle le jeton a été émis, représentée en heure epoch.</span><span class="sxs-lookup"><span data-stu-id="a6e47-162">The time at which the token was issued, represented in epoch time.</span></span> |
| <span data-ttu-id="a6e47-163">heure d’expiration</span><span class="sxs-lookup"><span data-stu-id="a6e47-163">expiration time</span></span> |`exp` |`1452289231` |<span data-ttu-id="a6e47-164">Heure à laquelle le jeton n’est plus valide, représentée en heure epoch.</span><span class="sxs-lookup"><span data-stu-id="a6e47-164">The time at which the token becomes invalid, represented in epoch time.</span></span> <span data-ttu-id="a6e47-165">Votre application doit utiliser cette revendication pour vérifier la validité de la durée de vie du jeton.</span><span class="sxs-lookup"><span data-stu-id="a6e47-165">Your app should use this claim to verify the validity of the token lifetime.</span></span> |
| <span data-ttu-id="a6e47-166">pas avant</span><span class="sxs-lookup"><span data-stu-id="a6e47-166">not before</span></span> |`nbf` |`1452285331` |<span data-ttu-id="a6e47-167">Heure à laquelle le jeton est valide, représentée en heure epoch.</span><span class="sxs-lookup"><span data-stu-id="a6e47-167">The time at which the token becomes valid, represented in epoch time.</span></span> <span data-ttu-id="a6e47-168">Elle est généralement identique à l'heure d'émission.</span><span class="sxs-lookup"><span data-stu-id="a6e47-168">It is usually the same as the issuance time.</span></span> <span data-ttu-id="a6e47-169">Votre application doit utiliser cette revendication pour vérifier la validité de la durée de vie du jeton.</span><span class="sxs-lookup"><span data-stu-id="a6e47-169">Your app should use this claim to verify the validity of the token lifetime.</span></span> |
| <span data-ttu-id="a6e47-170">version</span><span class="sxs-lookup"><span data-stu-id="a6e47-170">version</span></span> |`ver` |`2.0` |<span data-ttu-id="a6e47-171">Version du jeton d’ID, telle que définie par Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a6e47-171">The version of the ID token, as defined by Azure AD.</span></span> <span data-ttu-id="a6e47-172">Pour le point de terminaison v2.0, la valeur est `2.0`.</span><span class="sxs-lookup"><span data-stu-id="a6e47-172">For the v2.0 endpoint, the value is `2.0`.</span></span> |
| <span data-ttu-id="a6e47-173">ID client</span><span class="sxs-lookup"><span data-stu-id="a6e47-173">tenant ID</span></span> |`tid` |`b9419818-09af-49c2-b0c3-653adc1f376e` |<span data-ttu-id="a6e47-174">GUID représentant le client Azure AD d’où provient l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="a6e47-174">A GUID that represents the Azure AD tenant that the user is from.</span></span> <span data-ttu-id="a6e47-175">Pour les comptes professionnels et scolaires, le GUID correspond à l’ID de client immuable de l’organisation à laquelle appartient l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="a6e47-175">For work and school accounts, the GUID is the immutable tenant ID of the organization that the user belongs to.</span></span> <span data-ttu-id="a6e47-176">Pour les comptes personnels, la valeur est `9188040d-6c67-4c5b-b112-36a304b66dad`.</span><span class="sxs-lookup"><span data-stu-id="a6e47-176">For personal accounts, the value is `9188040d-6c67-4c5b-b112-36a304b66dad`.</span></span> <span data-ttu-id="a6e47-177">L’étendue `profile` est requise afin de recevoir cette revendication.</span><span class="sxs-lookup"><span data-stu-id="a6e47-177">The `profile` scope is required in order to receive this claim.</span></span> |
| <span data-ttu-id="a6e47-178">hachage de code</span><span class="sxs-lookup"><span data-stu-id="a6e47-178">code hash</span></span> |`c_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="a6e47-179">Le hachage de code n’est inclus dans un jeton d’ID que si ce dernier est émis avec un code d’autorisation OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="a6e47-179">The code hash is included in ID tokens only when the ID token is issued with an OAuth 2.0 authorization code.</span></span> <span data-ttu-id="a6e47-180">Il peut servir à valider l’authenticité d’un code d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="a6e47-180">It can be used to validate the authenticity of an authorization code.</span></span> <span data-ttu-id="a6e47-181">Pour plus d’informations sur l’exécution de cette validation, consultez la [spécification OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html) .</span><span class="sxs-lookup"><span data-stu-id="a6e47-181">For details about performing this validation, see the [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> |
| <span data-ttu-id="a6e47-182">hachage de jeton d’accès</span><span class="sxs-lookup"><span data-stu-id="a6e47-182">access token hash</span></span> |`at_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="a6e47-183">Le hachage de jeton d’accès n’est inclus dans un jeton d’ID que si ce dernier est émis avec un jeton d’accès OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="a6e47-183">The access token hash is included in ID tokens only when the ID token is issued with an OAuth 2.0 access token.</span></span> <span data-ttu-id="a6e47-184">Il peut servir à valider l’authenticité d’un jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="a6e47-184">It can be used to validate the authenticity of an access token.</span></span> <span data-ttu-id="a6e47-185">Pour plus d’informations sur l’exécution de cette validation, consultez la [spécification OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html) .</span><span class="sxs-lookup"><span data-stu-id="a6e47-185">For details about performing this validation, see the [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> |
| <span data-ttu-id="a6e47-186">nonce</span><span class="sxs-lookup"><span data-stu-id="a6e47-186">nonce</span></span> |`nonce` |`12345` |<span data-ttu-id="a6e47-187">La valeur à usage unique est une stratégie d’atténuation des attaques par relecture de jetons.</span><span class="sxs-lookup"><span data-stu-id="a6e47-187">The nonce is a strategy for mitigating token replay attacks.</span></span> <span data-ttu-id="a6e47-188">Votre application peut spécifier une valeur à usage unique dans une demande d’autorisation à l’aide du paramètre de requête `nonce` .</span><span class="sxs-lookup"><span data-stu-id="a6e47-188">Your app can specify a nonce in an authorization request by using the `nonce` query parameter.</span></span> <span data-ttu-id="a6e47-189">La valeur que vous fournissez dans la requête est émise dans la revendication `nonce` du jeton d’ID, sans aucune modification.</span><span class="sxs-lookup"><span data-stu-id="a6e47-189">The value you provide in the request is emitted in the ID token's `nonce` claim, unmodified.</span></span> <span data-ttu-id="a6e47-190">Votre application peut comparer la valeur à celle spécifiée dans la requête et associer la session de l’application à un jeton d’ID particulier.</span><span class="sxs-lookup"><span data-stu-id="a6e47-190">Your app can verify the value against the value it specified on the request, which associates the app's session with a specific ID token.</span></span> <span data-ttu-id="a6e47-191">Votre application doit effectuer cette validation au cours du processus de validation du jeton d’ID.</span><span class="sxs-lookup"><span data-stu-id="a6e47-191">Your app should perform this validation during the ID token validation process.</span></span> |
| <span data-ttu-id="a6e47-192">name</span><span class="sxs-lookup"><span data-stu-id="a6e47-192">name</span></span> |`name` |`Babe Ruth` |<span data-ttu-id="a6e47-193">La revendication de nom fournit une valeur explicite qui identifie le sujet du jeton.</span><span class="sxs-lookup"><span data-stu-id="a6e47-193">The name claim provides a human-readable value that identifies the subject of the token.</span></span> <span data-ttu-id="a6e47-194">Il n’est pas certain que cette valeur soit unique. Elle est mutable et conçue pour être utilisée uniquement à des fins d’affichage.</span><span class="sxs-lookup"><span data-stu-id="a6e47-194">The value is not guaranteed to be unique, it is mutable, and it's designed to be used only for display purposes.</span></span> <span data-ttu-id="a6e47-195">L’étendue `profile` est requise afin de recevoir cette revendication.</span><span class="sxs-lookup"><span data-stu-id="a6e47-195">The `profile` scope is required in order to receive this claim.</span></span> |
| <span data-ttu-id="a6e47-196">email</span><span class="sxs-lookup"><span data-stu-id="a6e47-196">email</span></span> |`email` |`thegreatbambino@nyy.onmicrosoft.com` |<span data-ttu-id="a6e47-197">Adresse de messagerie principale associée au compte d’utilisateur, le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="a6e47-197">The primary email address associated with the user account, if one exists.</span></span> <span data-ttu-id="a6e47-198">Sa valeur est mutable et peut changer au fil du temps.</span><span class="sxs-lookup"><span data-stu-id="a6e47-198">Its value is mutable and might change over time.</span></span> <span data-ttu-id="a6e47-199">L’étendue `email` est requise afin de recevoir cette revendication.</span><span class="sxs-lookup"><span data-stu-id="a6e47-199">The `email` scope is required in order to receive this claim.</span></span> |
| <span data-ttu-id="a6e47-200">nom d’utilisateur par défaut</span><span class="sxs-lookup"><span data-stu-id="a6e47-200">preferred username</span></span> |`preferred_username` |`thegreatbambino@nyy.onmicrosoft.com` |<span data-ttu-id="a6e47-201">Nom d’utilisateur principal qui représente l’utilisateur dans le point de terminaison v2.0.</span><span class="sxs-lookup"><span data-stu-id="a6e47-201">The primary username that represents the user in the v2.0 endpoint.</span></span> <span data-ttu-id="a6e47-202">Il peut s’agir d’une adresse e-mail, d’un numéro de téléphone ou d’un nom d’utilisateur générique sans format spécifié.</span><span class="sxs-lookup"><span data-stu-id="a6e47-202">It could be an email address, phone number, or a generic username without a specified format.</span></span> <span data-ttu-id="a6e47-203">Sa valeur est mutable et peut changer au fil du temps.</span><span class="sxs-lookup"><span data-stu-id="a6e47-203">Its value is mutable and might change over time.</span></span> <span data-ttu-id="a6e47-204">L’étendue `profile` est requise afin de recevoir cette revendication.</span><span class="sxs-lookup"><span data-stu-id="a6e47-204">The `profile` scope is required in order to receive this claim.</span></span> |
| <span data-ttu-id="a6e47-205">subject</span><span class="sxs-lookup"><span data-stu-id="a6e47-205">subject</span></span> |`sub` |`MF4f-ggWMEji12KynJUNQZphaUTvLcQug5jdF2nl01Q` | <span data-ttu-id="a6e47-206">Principal sur lequel portent les assertions d’informations du jeton, comme l’utilisateur d’une application.</span><span class="sxs-lookup"><span data-stu-id="a6e47-206">The principal about which the token asserts information, such as the user of an app.</span></span> <span data-ttu-id="a6e47-207">Cette valeur est immuable et ne peut pas être réattribuée ou réutilisée.</span><span class="sxs-lookup"><span data-stu-id="a6e47-207">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="a6e47-208">Vous pouvez l’utiliser pour effectuer des vérifications d’autorisation en toute sécurité, comme lorsque le jeton est utilisé pour accéder à une ressource et qu’il peut servir de clé dans les tables de base de données.</span><span class="sxs-lookup"><span data-stu-id="a6e47-208">It can be used to perform authorization checks safely, such as when the token is used to access a resource, and can be used as a key in database tables.</span></span> <span data-ttu-id="a6e47-209">Étant donné que le sujet est toujours présent dans les jetons émis par Azure AD, nous vous recommandons d’utiliser cette valeur dans un système d’autorisation général.</span><span class="sxs-lookup"><span data-stu-id="a6e47-209">Because the subject is always present in the tokens that Azure AD issues, we recommend using this value in a general-purpose authorization system.</span></span> <span data-ttu-id="a6e47-210">Toutefois, l’objet est un identificateur par paire ; il est unique à un ID d’application donné.</span><span class="sxs-lookup"><span data-stu-id="a6e47-210">The subject is, however, a pairwise identifier - it is unique to a particular application ID.</span></span>  <span data-ttu-id="a6e47-211">Par conséquent, si un utilisateur se connecte à deux applications différentes à l’aide de deux ID clients différents, ces applications reçoivent deux valeurs différentes pour la revendication de l’objet.</span><span class="sxs-lookup"><span data-stu-id="a6e47-211">Therefore, if a single user signs into two different apps using two different client IDs, those apps will receive two different values for the subject claim.</span></span>  <span data-ttu-id="a6e47-212">Ceci peut être souhaitable ou non en fonction de vos besoins d’architecture et de confidentialité.</span><span class="sxs-lookup"><span data-stu-id="a6e47-212">This may or may not be desired depending on your architecture and privacy requirements.</span></span> |
| <span data-ttu-id="a6e47-213">ID d’objet</span><span class="sxs-lookup"><span data-stu-id="a6e47-213">object ID</span></span> |`oid` |`a1dbdde8-e4f9-4571-ad93-3059e3750d23` | <span data-ttu-id="a6e47-214">Identificateur immuable pour un objet dans le système d’identité Microsoft, dans cet exemple, un compte d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="a6e47-214">The immutable identifier for an object in the Microsoft identity system, in this case, a user account.</span></span>  <span data-ttu-id="a6e47-215">Il peut également être utilisé pour effectuer des vérifications d’autorisation en toute sécurité et en tant que clé dans les tables de base de données.</span><span class="sxs-lookup"><span data-stu-id="a6e47-215">It can also be used to perform authorization checks safely and as a key in database tables.</span></span> <span data-ttu-id="a6e47-216">Cet ID identifie de manière unique l’utilisateur entre les applications ; deux applications différentes se connectant au même utilisateur auront la même valeur dans la revendication `oid`.</span><span class="sxs-lookup"><span data-stu-id="a6e47-216">This ID uniquely identifies the user across applications - two different applications signing in the same user will receive the same value in the `oid` claim.</span></span>  <span data-ttu-id="a6e47-217">Cela signifie qu’il peut être utilisé lors de la formulation de requêtes auprès de services Microsoft en ligne, tels que Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="a6e47-217">This means that it can be used when making queries to Microsoft online services, such as the Microsoft Graph.</span></span>  <span data-ttu-id="a6e47-218">Microsoft Graph renverra cet ID en tant que propriété `id` pour un compte d’utilisateur donné.</span><span class="sxs-lookup"><span data-stu-id="a6e47-218">The Microsoft Graph will return this ID as the `id` property for a given user account.</span></span>  <span data-ttu-id="a6e47-219">`oid` permettant à plusieurs applications de faire correspondre des utilisateurs, l’étendue `profile` est requise afin de recevoir cette revendication.</span><span class="sxs-lookup"><span data-stu-id="a6e47-219">Because the `oid` allows multiple apps to correlate users, the `profile` scope is required in order to receive this claim.</span></span> <span data-ttu-id="a6e47-220">Notez que si un utilisateur existe dans plusieurs locataires, l’utilisateur contient un ID d’objet différent dans chaque locataire. Ils sont considérés comme des comptes différents, même si l’utilisateur se connecte à chaque compte avec les mêmes informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="a6e47-220">Note that if a single user exists in multiple tenants, the user will contain a different object ID in each tenant - they are considered different accounts, even though the user logs into each account with the same credentials.</span></span> |

### <a name="access-tokens"></a><span data-ttu-id="a6e47-221">Jetons d’accès</span><span class="sxs-lookup"><span data-stu-id="a6e47-221">Access tokens</span></span>
<span data-ttu-id="a6e47-222">Actuellement, les jetons d’accès émis par le point de terminaison v2.0 peuvent être utilisés uniquement par les services Microsoft.</span><span class="sxs-lookup"><span data-stu-id="a6e47-222">Currently, access tokens issued by the v2.0 endpoint can be consumed only by Microsoft Services.</span></span> <span data-ttu-id="a6e47-223">Vos applications n’ont pas besoin de valider ou d’inspecter les jetons d’accès dans les scénarios actuellement pris en charge.</span><span class="sxs-lookup"><span data-stu-id="a6e47-223">Your apps shouldn't need to perform any validation or inspection of access tokens for any of the currently supported scenarios.</span></span> <span data-ttu-id="a6e47-224">Vous pouvez traiter les jetons d’accès complètement opaques.</span><span class="sxs-lookup"><span data-stu-id="a6e47-224">You can treat access tokens as completely opaque.</span></span> <span data-ttu-id="a6e47-225">Ce sont seulement des chaînes que votre application peut transmettre à Microsoft dans des requêtes HTTP.</span><span class="sxs-lookup"><span data-stu-id="a6e47-225">They are just strings that your app can pass to Microsoft in HTTP requests.</span></span>

<span data-ttu-id="a6e47-226">Dans un avenir proche, le point de terminaison v2.0 permettra à votre application de recevoir des jetons d’accès à partir d’autres clients.</span><span class="sxs-lookup"><span data-stu-id="a6e47-226">In the near future, the v2.0 endpoint will introduce the ability for your app to receive access tokens from other clients.</span></span> <span data-ttu-id="a6e47-227">Nous mettrons alors à jour les informations de cette rubrique de référence pour refléter les données dont vous avez besoin pour que votre application valide les jetons d’accès et effectue d’autres tâches similaires.</span><span class="sxs-lookup"><span data-stu-id="a6e47-227">At that time, the information in this reference topic will be updated with the information that you need for your app to perform access token validation and other similar tasks.</span></span>

<span data-ttu-id="a6e47-228">Quand vous demandez un jeton d’accès auprès du point de terminaison v2.0, ce dernier retourne également des métadonnées sur le jeton d’accès que votre application peut utiliser.</span><span class="sxs-lookup"><span data-stu-id="a6e47-228">When you request an access token from the v2.0 endpoint, the v2.0 endpoint also returns metadata about the access token for your app to use.</span></span> <span data-ttu-id="a6e47-229">Ces informations incluent le délai d’expiration du jeton d’accès et les étendues dans lesquelles il est valide.</span><span class="sxs-lookup"><span data-stu-id="a6e47-229">This information includes the expiry time of the access token and the scopes for which it is valid.</span></span> <span data-ttu-id="a6e47-230">Votre application utilise ces métadonnées pour effectuer une mise en cache intelligente des jetons d’accès sans avoir à les analyser.</span><span class="sxs-lookup"><span data-stu-id="a6e47-230">Your app uses this metadata to perform intelligent caching of access tokens without having to parse open the access token itself.</span></span>

### <a name="refresh-tokens"></a><span data-ttu-id="a6e47-231">Jetons d’actualisation</span><span class="sxs-lookup"><span data-stu-id="a6e47-231">Refresh tokens</span></span>
<span data-ttu-id="a6e47-232">Les jetons d’actualisation sont des jetons de sécurité que votre application peut utiliser pour obtenir de nouveaux jetons d’accès dans un flux OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="a6e47-232">Refresh tokens are security tokens that your app can use to get new access tokens in an OAuth 2.0 flow.</span></span> <span data-ttu-id="a6e47-233">Votre application peut utiliser des jetons d’actualisation pour obtenir un accès à long terme à des ressources au nom d’un utilisateur, et ce sans nécessiter l’intervention de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="a6e47-233">Your app can use refresh tokens to achieve long-term access to resources on behalf of a user without requiring interaction with the user.</span></span>

<span data-ttu-id="a6e47-234">Les jetons d’actualisation prennent en charge plusieurs ressources.</span><span class="sxs-lookup"><span data-stu-id="a6e47-234">Refresh tokens are multi-resource.</span></span> <span data-ttu-id="a6e47-235">Un jeton d’actualisation reçu au cours d’une demande de jeton pour une ressource peut être échangé contre des jetons d’accès à une ressource complètement différente.</span><span class="sxs-lookup"><span data-stu-id="a6e47-235">A refresh token received during a token request for one resource can be redeemed for access tokens to a completely different resource.</span></span>

<span data-ttu-id="a6e47-236">Pour recevoir une actualisation dans une réponse de jeton, votre application doit demander et se voir accorder l’étendue `offline_acesss`.</span><span class="sxs-lookup"><span data-stu-id="a6e47-236">To receive a refresh in a token response, your app must request and be granted the `offline_acesss` scope.</span></span> <span data-ttu-id="a6e47-237">Pour en savoir plus sur l’étendue `offline_access`, consultez [l’article sur le consentement et les étendues](active-directory-v2-scopes.md).</span><span class="sxs-lookup"><span data-stu-id="a6e47-237">To learn more about the `offline_access` scope, see the [consent and scopes](active-directory-v2-scopes.md) article.</span></span>

<span data-ttu-id="a6e47-238">Les jetons d’actualisation sont, et seront toujours, entièrement opaques pour votre application.</span><span class="sxs-lookup"><span data-stu-id="a6e47-238">Refresh tokens are, and always will be, completely opaque to your app.</span></span> <span data-ttu-id="a6e47-239">Émis par le point de terminaison Azure AD v2.0, ils ne peuvent être inspectés et interprétés que par le point de terminaison v2.0.</span><span class="sxs-lookup"><span data-stu-id="a6e47-239">They are issued by the Azure AD v2.0 endpoint and can only be inspected and interpreted by the v2.0 endpoint.</span></span> <span data-ttu-id="a6e47-240">Les jetons d’actualisation sont de longue durée. Toutefois, quand vous écrivez votre application, faites en sorte qu’elle n’attende pas un jeton d’actualisation d’une durée particulière.</span><span class="sxs-lookup"><span data-stu-id="a6e47-240">They are long-lived, but your app should not be written to expect that a refresh token will last for any period of time.</span></span> <span data-ttu-id="a6e47-241">Les jetons d’actualisation peuvent être rendus non valides à tout moment pour diverses raisons.</span><span class="sxs-lookup"><span data-stu-id="a6e47-241">Refresh tokens can be invalidated at any moment for various reasons.</span></span> <span data-ttu-id="a6e47-242">Pour savoir si un jeton d’actualisation est valide, votre application doit tenter de l’échanger en faisant une demande de jeton auprès du point de terminaison v2.0. C'est la seule façon de faire.</span><span class="sxs-lookup"><span data-stu-id="a6e47-242">The only way for your app to know if a refresh token is valid is to attempt to redeem it by making a token request to the v2.0 endpoint.</span></span>

<span data-ttu-id="a6e47-243">Quand vous échangez un jeton d’actualisation contre un nouveau jeton d’accès (et si l’étendue `offline_access` a été accordée à votre application), vous recevez un nouveau jeton d’actualisation dans la réponse du jeton.</span><span class="sxs-lookup"><span data-stu-id="a6e47-243">When you redeem a refresh token for a new access token (and if your app had been granted the `offline_access` scope), you receive a new refresh token in the token response.</span></span> <span data-ttu-id="a6e47-244">Enregistrez le jeton d’actualisation nouvellement émis pour remplacer celui que vous avez utilisé dans la demande.</span><span class="sxs-lookup"><span data-stu-id="a6e47-244">Save the newly issued refresh token, to replace the one you used in the request.</span></span> <span data-ttu-id="a6e47-245">Vous avez ainsi la garantie que vos jetons d’actualisation resteront valides le plus longtemps possible.</span><span class="sxs-lookup"><span data-stu-id="a6e47-245">This guarantees that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="validating-tokens"></a><span data-ttu-id="a6e47-246">Validation des jetons</span><span class="sxs-lookup"><span data-stu-id="a6e47-246">Validating tokens</span></span>
<span data-ttu-id="a6e47-247">Pour le moment, la seule opération de validation que vos applications doivent effectuer est la validation des jetons d’ID.</span><span class="sxs-lookup"><span data-stu-id="a6e47-247">Currently, the only token validation your apps should need to perform is validating ID tokens.</span></span> <span data-ttu-id="a6e47-248">Pour valider un jeton d’ID, votre application doit valider à la fois la signature du jeton d’ID et les revendications qu’il contient.</span><span class="sxs-lookup"><span data-stu-id="a6e47-248">To validate an ID token, your app should validate both the ID token's signature and the claims in the ID token.</span></span>

<!-- TODO: Link -->
<span data-ttu-id="a6e47-249">Microsoft fournit des bibliothèques et des exemples de code qui vous montrent comment gérer facilement la validation des jetons.</span><span class="sxs-lookup"><span data-stu-id="a6e47-249">Microsoft provides libraries and code samples that show you how to easily handle token validation.</span></span> <span data-ttu-id="a6e47-250">Dans les sections suivantes, nous décrivons le processus sous-jacent.</span><span class="sxs-lookup"><span data-stu-id="a6e47-250">In the next sections, we describe the underlying process.</span></span> <span data-ttu-id="a6e47-251">Plusieurs bibliothèques open source tierces sont également disponibles pour la validation de jetons JWT.</span><span class="sxs-lookup"><span data-stu-id="a6e47-251">Several third-party open-source libraries also are available for JWT validation.</span></span> <span data-ttu-id="a6e47-252">Il existe au moins une bibliothèque pour la plupart des plateformes et langues.</span><span class="sxs-lookup"><span data-stu-id="a6e47-252">There's at least one library option for almost every platform and language.</span></span>

### <a name="validate-the-signature"></a><span data-ttu-id="a6e47-253">valider la signature</span><span class="sxs-lookup"><span data-stu-id="a6e47-253">Validate the signature</span></span>
<span data-ttu-id="a6e47-254">Un jeton JWT contient trois segments séparés par le caractère `.` .</span><span class="sxs-lookup"><span data-stu-id="a6e47-254">A JWT contains three segments, which are separated by the `.` character.</span></span> <span data-ttu-id="a6e47-255">Le premier segment est appelé *l’en-tête*, le deuxième le *corps*, et le troisième la *signature*.</span><span class="sxs-lookup"><span data-stu-id="a6e47-255">The first segment is known as the *header*, the second segment is the *body*, and the third segment is the *signature*.</span></span> <span data-ttu-id="a6e47-256">Le segment de signature peut être utilisé pour valider l’authenticité du jeton d’ID afin qu’il soit approuvé par votre application.</span><span class="sxs-lookup"><span data-stu-id="a6e47-256">The signature segment can be used to validate the authenticity of the ID token so that it can be trusted by your app.</span></span>

<span data-ttu-id="a6e47-257">Les jetons d’ID sont signés à l’aide d’algorithmes de chiffrement asymétrique standard, tels que RSA 256.</span><span class="sxs-lookup"><span data-stu-id="a6e47-257">ID tokens are signed by using industry-standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="a6e47-258">L’en-tête du jeton d’ID contient des informations sur la clé et la méthode de chiffrement utilisées pour signer le jeton.</span><span class="sxs-lookup"><span data-stu-id="a6e47-258">The header of the ID token has information about the key and encryption method used to sign the token.</span></span> <span data-ttu-id="a6e47-259">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="a6e47-259">For example:</span></span>

```
{
  "typ": "JWT",
  "alg": "RS256",
  "kid": "MnC_VZcATfM5pOYiJHMba9goEKY"
}
```

<span data-ttu-id="a6e47-260">La revendication `alg` indique l’algorithme utilisé pour signer le jeton.</span><span class="sxs-lookup"><span data-stu-id="a6e47-260">The `alg` claim indicates the algorithm that was used to sign the token.</span></span> <span data-ttu-id="a6e47-261">La revendication `kid` indique la clé publique utilisée pour signer le jeton.</span><span class="sxs-lookup"><span data-stu-id="a6e47-261">The `kid` claim indicates the public key that was used to sign the token.</span></span>

<span data-ttu-id="a6e47-262">À tout moment, le point de terminaison v2.0 peut signer un jeton d’ID à l’aide d’un ensemble spécifique de paires de clés publique-privée.</span><span class="sxs-lookup"><span data-stu-id="a6e47-262">At any time, the v2.0 endpoint might sign an ID token by using any one of a specific set of public-private key pairs.</span></span> <span data-ttu-id="a6e47-263">Étant donné que le point de terminaison v2.0 alterne régulièrement le jeu de clés possible, votre application doit être écrite de manière à gérer automatiquement ces changements de clés.</span><span class="sxs-lookup"><span data-stu-id="a6e47-263">The v2.0 endpoint periodically rotates the possible set of keys, so your app should be written to handle those key changes automatically.</span></span> <span data-ttu-id="a6e47-264">Pour vérifier les mises à jour apportées aux clés publiques utilisées par le point de terminaison v2.0, spécifiez une fréquence raisonnable : toutes les 24 heures.</span><span class="sxs-lookup"><span data-stu-id="a6e47-264">A reasonable frequency to check for updates to the public keys used by the v2.0 endpoint is every 24 hours.</span></span>

<span data-ttu-id="a6e47-265">Pour acquérir les données de la clé de signature nécessaires pour valider la signature, utilisez le document de métadonnées OpenID Connect à l’emplacement suivant :</span><span class="sxs-lookup"><span data-stu-id="a6e47-265">You can acquire the signing key data that you need to validate the signature by using the OpenID Connect metadata document located at:</span></span>

```
https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration
```

> [!TIP]
> <span data-ttu-id="a6e47-266">Testez l’URL dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="a6e47-266">Try the URL in a browser!</span></span>
>
>

<span data-ttu-id="a6e47-267">Ce document de métadonnées est un objet JSON qui contient diverses informations utiles, comme l’emplacement des différents points de terminaison nécessaires pour effectuer l’authentification OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="a6e47-267">This metadata document is a JSON object that has several useful pieces of information, such as the location of the various endpoints required for OpenID Connect authentication.</span></span>  <span data-ttu-id="a6e47-268">Le document comprend également un *jwks_uri*, qui indique l’emplacement du jeu des clés publiques utilisées pour signer les jetons.</span><span class="sxs-lookup"><span data-stu-id="a6e47-268">The document also includes a *jwks_uri*, which gives the location of the set of public keys used to sign tokens.</span></span> <span data-ttu-id="a6e47-269">Le document JSON situé dans le jwks_uri contient toutes les informations de clés publiques qui sont actuellement utilisées.</span><span class="sxs-lookup"><span data-stu-id="a6e47-269">The JSON document located at the jwks_uri has all the public key information that is currently in use.</span></span> <span data-ttu-id="a6e47-270">Votre application peut utiliser la revendication `kid` de l’en-tête du jeton JWT pour sélectionner la clé publique utilisée dans ce document pour signer un jeton.</span><span class="sxs-lookup"><span data-stu-id="a6e47-270">Your app can use the `kid` claim in the JWT header to select which public key in this document has been used to sign a token.</span></span> <span data-ttu-id="a6e47-271">Elle procède ensuite à la validation des signatures à l’aide de la clé publique correcte et de l’algorithme indiqué.</span><span class="sxs-lookup"><span data-stu-id="a6e47-271">It then performs signature validation by using the correct public key and the indicated algorithm.</span></span>

<span data-ttu-id="a6e47-272">La procédure de validation des signatures n’est pas indiquée dans ce document.</span><span class="sxs-lookup"><span data-stu-id="a6e47-272">Performing signature validation is outside the scope of this document.</span></span> <span data-ttu-id="a6e47-273">De nombreuses bibliothèques open source sont disponibles pour vous aider à ce sujet.</span><span class="sxs-lookup"><span data-stu-id="a6e47-273">Many open-source libraries are available to help you with this.</span></span>

### <a name="validate-the-claims"></a><span data-ttu-id="a6e47-274">Valider les revendications</span><span class="sxs-lookup"><span data-stu-id="a6e47-274">Validate the claims</span></span>
<span data-ttu-id="a6e47-275">Quand votre application reçoit un jeton d’ID lors de la connexion de l’utilisateur, elle doit également procéder à quelques vérifications sur les revendications du jeton d’ID.</span><span class="sxs-lookup"><span data-stu-id="a6e47-275">When your app receives an ID token upon user sign-in, it should also perform a few checks against the claims in the ID token.</span></span> <span data-ttu-id="a6e47-276">Ces vérifications portent notamment sur les revendications suivantes :</span><span class="sxs-lookup"><span data-stu-id="a6e47-276">These include but are not limited to:</span></span>

* <span data-ttu-id="a6e47-277">Revendication **audience** : il s’agit de vérifier que le jeton d’ID était bien destiné à votre application.</span><span class="sxs-lookup"><span data-stu-id="a6e47-277">**audience** claim, to verify that the ID token was intended to be given to your app</span></span>
* <span data-ttu-id="a6e47-278">Revendications **pas avant** et **heure d’expiration** : il s’agit de vérifier que le jeton d’ID n’est pas arrivé à expiration.</span><span class="sxs-lookup"><span data-stu-id="a6e47-278">**not before** and **expiration time** claims, to verify that the ID token has not expired</span></span>
* <span data-ttu-id="a6e47-279">Revendication **émetteur** : il s’agit de vérifier que le jeton a été émis vers votre application par le point de terminaison v2.0.</span><span class="sxs-lookup"><span data-stu-id="a6e47-279">**issuer** claim, to verify that the token was issued to your app by the v2.0 endpoint</span></span>
* <span data-ttu-id="a6e47-280">**valeur à usage unique** : il s’agit d’atténuer les attaques par relecture de jetons.</span><span class="sxs-lookup"><span data-stu-id="a6e47-280">**nonce**, as a token replay attack mitigation</span></span>

<span data-ttu-id="a6e47-281">Pour obtenir la liste complète des revendications que votre application doit valider, reportez-vous à la [spécification OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span><span class="sxs-lookup"><span data-stu-id="a6e47-281">For a full list of claim validations that your app should perform, see the [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span></span>

<span data-ttu-id="a6e47-282">Les valeurs attendues pour ces revendications sont détaillées dans la section [Jetons d’ID](# ID tokens).</span><span class="sxs-lookup"><span data-stu-id="a6e47-282">Details of the expected values for these claims are included in the [ID tokens](# ID tokens) section.</span></span>

## <a name="token-lifetimes"></a><span data-ttu-id="a6e47-283">Durées de vie des jetons</span><span class="sxs-lookup"><span data-stu-id="a6e47-283">Token lifetimes</span></span>
<span data-ttu-id="a6e47-284">Nous indiquons les durées de vie des jetons ci-après uniquement à des fins d’information.</span><span class="sxs-lookup"><span data-stu-id="a6e47-284">We provide the following token lifetimes for your information only.</span></span> <span data-ttu-id="a6e47-285">Ces informations peuvent vous aider à développer et déboguer des applications.</span><span class="sxs-lookup"><span data-stu-id="a6e47-285">The information might help you as you develop and debug apps.</span></span> <span data-ttu-id="a6e47-286">Quand vous écrivez vos applications, faites en sorte qu’elles n’attendent pas des durées de vie constantes,</span><span class="sxs-lookup"><span data-stu-id="a6e47-286">Your apps should not be written to expect any of these lifetimes to remain constant.</span></span> <span data-ttu-id="a6e47-287">car les durées de vie des jetons peuvent changer à tout moment.</span><span class="sxs-lookup"><span data-stu-id="a6e47-287">Token lifetimes can and will change at any time.</span></span>

| <span data-ttu-id="a6e47-288">par jeton</span><span class="sxs-lookup"><span data-stu-id="a6e47-288">Token</span></span> | <span data-ttu-id="a6e47-289">Durée de vie</span><span class="sxs-lookup"><span data-stu-id="a6e47-289">Lifetime</span></span> | <span data-ttu-id="a6e47-290">Description</span><span class="sxs-lookup"><span data-stu-id="a6e47-290">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="a6e47-291">Jetons d’ID (comptes professionnels ou scolaires)</span><span class="sxs-lookup"><span data-stu-id="a6e47-291">ID tokens (work or school accounts)</span></span> |<span data-ttu-id="a6e47-292">1 heure</span><span class="sxs-lookup"><span data-stu-id="a6e47-292">1 hour</span></span> |<span data-ttu-id="a6e47-293">Les jetons d’ID sont généralement valides pendant 1 heure.</span><span class="sxs-lookup"><span data-stu-id="a6e47-293">ID tokens typically are valid for 1 hour.</span></span> <span data-ttu-id="a6e47-294">Votre application web peut utiliser cette même durée de vie pour conserver sa propre session avec l’utilisateur (recommandé). Vous pouvez également choisir une durée de vie de session différente.</span><span class="sxs-lookup"><span data-stu-id="a6e47-294">Your web app can use this same lifetime to maintain its own session with the user (recommended), or you can choose a completely different session lifetime.</span></span> <span data-ttu-id="a6e47-295">Si votre application doit obtenir un nouveau jeton d’ID, elle doit procéder à une nouvelle demande de connexion auprès du point de terminaison d’autorisation v2.0.</span><span class="sxs-lookup"><span data-stu-id="a6e47-295">If your app needs to get a new ID token, it needs to make a new sign-in request to the v2.0 authorize endpoint.</span></span> <span data-ttu-id="a6e47-296">Si l’utilisateur dispose d’une session de navigateur valide avec le point de terminaison v2.0, il se peut qu’il ne soit pas tenu d’entrer de nouveau ses informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="a6e47-296">If the user has a valid browser session with the v2.0 endpoint, the user might not be required to enter their credentials again.</span></span> |
| <span data-ttu-id="a6e47-297">Jetons d’ID (comptes personnels)</span><span class="sxs-lookup"><span data-stu-id="a6e47-297">ID tokens (personal accounts)</span></span> |<span data-ttu-id="a6e47-298">24 heures</span><span class="sxs-lookup"><span data-stu-id="a6e47-298">24 hours</span></span> |<span data-ttu-id="a6e47-299">Les jetons d’ID pour les comptes personnels sont généralement valides 24 heures.</span><span class="sxs-lookup"><span data-stu-id="a6e47-299">ID tokens for personal accounts typically are valid for 24 hours.</span></span> <span data-ttu-id="a6e47-300">Votre application web peut utiliser cette même durée de vie pour conserver sa propre session avec l’utilisateur (recommandé). Vous pouvez également choisir une durée de vie de session différente.</span><span class="sxs-lookup"><span data-stu-id="a6e47-300">Your web app can use this same lifetime to maintain its own session with the user (recommended), or you can choose a completely different session lifetime.</span></span> <span data-ttu-id="a6e47-301">Si votre application doit obtenir un nouveau jeton d’ID, elle doit procéder à une nouvelle demande de connexion auprès du point de terminaison d’autorisation v2.0.</span><span class="sxs-lookup"><span data-stu-id="a6e47-301">If your app needs to get a new ID token, it needs to make a new sign-in request to the v2.0 authorize endpoint.</span></span> <span data-ttu-id="a6e47-302">Si l’utilisateur dispose d’une session de navigateur valide avec le point de terminaison v2.0, il se peut qu’il ne soit pas tenu d’entrer de nouveau ses informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="a6e47-302">If the user has a valid browser session with the v2.0 endpoint, the user might not be required to enter their credentials again.</span></span> |
| <span data-ttu-id="a6e47-303">Jetons d’accès (comptes professionnels ou scolaires)</span><span class="sxs-lookup"><span data-stu-id="a6e47-303">Access tokens (work or school accounts)</span></span> |<span data-ttu-id="a6e47-304">1 heure</span><span class="sxs-lookup"><span data-stu-id="a6e47-304">1 hour</span></span> |<span data-ttu-id="a6e47-305">Indiqués dans les réponses de jeton dans le cadre des métadonnées du jeton.</span><span class="sxs-lookup"><span data-stu-id="a6e47-305">Indicated in token responses as part of the token metadata.</span></span> |
| <span data-ttu-id="a6e47-306">Jetons d’accès (comptes personnels)</span><span class="sxs-lookup"><span data-stu-id="a6e47-306">Access tokens (personal accounts)</span></span> |<span data-ttu-id="a6e47-307">1 heure</span><span class="sxs-lookup"><span data-stu-id="a6e47-307">1 hour</span></span> |<span data-ttu-id="a6e47-308">Indiqués dans les réponses de jeton dans le cadre des métadonnées du jeton.</span><span class="sxs-lookup"><span data-stu-id="a6e47-308">Indicated in token responses as part of the token metadata.</span></span> <span data-ttu-id="a6e47-309">Les jetons d’accès émis au nom de comptes personnels peuvent être configurés pour une durée de vie différente, mais ils sont généralement valides pendant une heure.</span><span class="sxs-lookup"><span data-stu-id="a6e47-309">Access tokens that are issued on behalf of personal accounts can be configured for a different lifetime, but 1 hour is typical.</span></span> |
| <span data-ttu-id="a6e47-310">Jetons d’actualisation (comptes professionnels ou scolaires)</span><span class="sxs-lookup"><span data-stu-id="a6e47-310">Refresh tokens (work or school account)</span></span> |<span data-ttu-id="a6e47-311">Jusqu’à 14 jours</span><span class="sxs-lookup"><span data-stu-id="a6e47-311">Up to 14 days</span></span> |<span data-ttu-id="a6e47-312">Un jeton d’actualisation est valide pendant 14 jours au maximum.</span><span class="sxs-lookup"><span data-stu-id="a6e47-312">A single refresh token is valid for a maximum of 14 days.</span></span> <span data-ttu-id="a6e47-313">Toutefois, le jeton d’actualisation peut devenir non valide à tout moment pour différentes raisons. Votre application doit donc continuer d’utiliser un jeton d’actualisation jusqu’à ce qu’il échoue ou jusqu’à ce que votre application le remplace par un nouveau.</span><span class="sxs-lookup"><span data-stu-id="a6e47-313">However, the refresh token might become invalid at any time for various reasons, so your app should continue to try to use a refresh token until it fails, or until your app replaces it with a new refresh token.</span></span> <span data-ttu-id="a6e47-314">Un jeton d’actualisation devient également non valide si l’utilisateur a entré ses informations d’identification il y a plus de 90 jours.</span><span class="sxs-lookup"><span data-stu-id="a6e47-314">A refresh token also becomes invalid if it has been 90 days since the user has entered their credentials.</span></span> |
| <span data-ttu-id="a6e47-315">Jetons d’actualisation (comptes personnels)</span><span class="sxs-lookup"><span data-stu-id="a6e47-315">Refresh tokens (personal accounts)</span></span> |<span data-ttu-id="a6e47-316">Jusqu’à 1 an</span><span class="sxs-lookup"><span data-stu-id="a6e47-316">Up to 1 year</span></span> |<span data-ttu-id="a6e47-317">Un jeton d’actualisation est valide pendant 1 an au maximum.</span><span class="sxs-lookup"><span data-stu-id="a6e47-317">A single refresh token is valid for a maximum of 1 year.</span></span> <span data-ttu-id="a6e47-318">Toutefois, le jeton d’actualisation peut devenir non valide à tout moment pour différentes raisons. Votre application doit donc continuer d’utiliser un jeton d’actualisation jusqu’à ce qu’il échoue.</span><span class="sxs-lookup"><span data-stu-id="a6e47-318">However, the refresh token might become invalid at any time for various reasons, so your app should continue to try to use a refresh token until it fails.</span></span> |
| <span data-ttu-id="a6e47-319">Codes d’autorisation (comptes professionnels ou scolaires)</span><span class="sxs-lookup"><span data-stu-id="a6e47-319">Authorization codes (work or school accounts)</span></span> |<span data-ttu-id="a6e47-320">10 minutes</span><span class="sxs-lookup"><span data-stu-id="a6e47-320">10 minutes</span></span> |<span data-ttu-id="a6e47-321">Les codes d’autorisation, qui sont volontairement de courte durée, doivent être échangés immédiatement contre des jetons d’accès et des jetons d’actualisation quand les jetons sont reçus.</span><span class="sxs-lookup"><span data-stu-id="a6e47-321">Authorization codes are purposely short-lived, and should be immediately redeemed for access tokens and refresh tokens when the tokens are received.</span></span> |
| <span data-ttu-id="a6e47-322">Codes d’autorisation (comptes personnels)</span><span class="sxs-lookup"><span data-stu-id="a6e47-322">Authorization codes (personal accounts)</span></span> |<span data-ttu-id="a6e47-323">5 minutes</span><span class="sxs-lookup"><span data-stu-id="a6e47-323">5 minutes</span></span> |<span data-ttu-id="a6e47-324">Les codes d’autorisation, qui sont volontairement de courte durée, doivent être échangés immédiatement contre des jetons d’accès et des jetons d’actualisation quand les jetons sont reçus.</span><span class="sxs-lookup"><span data-stu-id="a6e47-324">Authorization codes are purposely short-lived, and should be immediately redeemed for access tokens and refresh tokens when the tokens are received.</span></span> <span data-ttu-id="a6e47-325">Les codes d’autorisation émis au nom de comptes personnels sont à usage unique.</span><span class="sxs-lookup"><span data-stu-id="a6e47-325">Authorization codes that are issued on behalf of personal accounts are for one-time use.</span></span> |
