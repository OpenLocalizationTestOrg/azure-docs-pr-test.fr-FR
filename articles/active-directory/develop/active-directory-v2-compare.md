---
title: "En quoi le point de terminaison Azure AD v2.0 est-il différent ? | Microsoft Docs"
description: "Une comparaison entre la version Azure AD d’origine et les points de terminaison v2.0."
services: active-directory
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: 5060da46-b091-4e25-9fa8-af4ae4359b6c
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/01/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: 81de65b0e825dec64383f52b02c5ee56c9434807
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="whats-different-about-the-v20-endpoint"></a><span data-ttu-id="25fda-104">Quelles sont les particularités du point de terminaison v2.0 ?</span><span class="sxs-lookup"><span data-stu-id="25fda-104">What's different about the v2.0 endpoint?</span></span>
<span data-ttu-id="25fda-105">Si vous connaissez bien le service Azure Active Directory ou si vous avez déjà intégré des applications à Azure AD dans le passé, il peut exister des différences dans le point de terminaison v2.0 auxquelles vous ne vous attendiez pas.</span><span class="sxs-lookup"><span data-stu-id="25fda-105">If you're familiar with Azure Active Directory or have integrated apps with Azure AD in the past, there may be some differences in the v2.0 endpoint that you would not expect.</span></span>  <span data-ttu-id="25fda-106">Pour votre bonne compréhension, ce document énumère ces différences.</span><span class="sxs-lookup"><span data-stu-id="25fda-106">This document calls out those differences for your understanding.</span></span>

> [!NOTE]
> <span data-ttu-id="25fda-107">Les scénarios et les fonctionnalités Azure Active Directory ne sont pas tous pris en charge par le point de terminaison v2.0.</span><span class="sxs-lookup"><span data-stu-id="25fda-107">Not all Azure Active Directory scenarios & features are supported by the v2.0 endpoint.</span></span>  <span data-ttu-id="25fda-108">Pour déterminer si vous devez utiliser le point de terminaison v2.0, consultez les [limites de v2.0](active-directory-v2-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="25fda-108">To determine if you should use the v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span></span>
>

## <a name="microsoft-accounts-and-azure-ad-accounts"></a><span data-ttu-id="25fda-109">Comptes Microsoft et comptes Azure AD</span><span class="sxs-lookup"><span data-stu-id="25fda-109">Microsoft accounts and Azure AD accounts</span></span>
<span data-ttu-id="25fda-110">Le point de terminaison v2.0 permet aux développeurs d’écrire des applications qui prennent en charge la connexion à partir de comptes Microsoft et de comptes Azure AD, à l’aide d’un seul point de terminaison d’authentification.</span><span class="sxs-lookup"><span data-stu-id="25fda-110">The v2.0 endpoint allow developers to write apps that accept sign-in from both Microsoft Accounts and Azure AD accounts, using a single auth endpoint.</span></span>  <span data-ttu-id="25fda-111">Vous pouvez donc écrire votre application en ignorant complètement le type de compte avec lequel l’utilisateur se connecte.</span><span class="sxs-lookup"><span data-stu-id="25fda-111">This gives you the ability to write your app completely account-agnostic; it can be ignorant of the type of account that the user signs in with.</span></span>  <span data-ttu-id="25fda-112">Bien entendu, vous *pouvez* faire en sorte que votre application reconnaisse le type de compte utilisé dans une session particulière, mais vous n’y êtes pas tenu.</span><span class="sxs-lookup"><span data-stu-id="25fda-112">Of course, you *can* make your app aware of the type of account being used in a particular session, but you don't have to.</span></span>

<span data-ttu-id="25fda-113">Par exemple, si votre application appelle [Microsoft Graph](https://graph.microsoft.io), certaines fonctionnalités et données supplémentaires seront disponibles pour les utilisateurs de l’entreprise, telles que leurs sites SharePoint ou les données Directory.</span><span class="sxs-lookup"><span data-stu-id="25fda-113">For instance, if your app calls the [Microsoft Graph](https://graph.microsoft.io), some additional functionality and data will be available to enterprise users, such as their SharePoint sites or Directory data.</span></span>  <span data-ttu-id="25fda-114">Néanmoins, pour de nombreuses actions, telles que la [lecture du courrier d’un utilisateur](https://graph.microsoft.io/docs/api-reference/v1.0/resources/message), le code peut être exactement le même pour les comptes Microsoft et Azure AD.</span><span class="sxs-lookup"><span data-stu-id="25fda-114">But for many actions, such as [Reading a user's mail](https://graph.microsoft.io/docs/api-reference/v1.0/resources/message), the code can be written exactly the same for both Microsoft Accounts and Azure AD accounts.</span></span>  

<span data-ttu-id="25fda-115">L’intégration de votre application aux comptes Microsoft et Azure AD est désormais un simple processus.</span><span class="sxs-lookup"><span data-stu-id="25fda-115">Integrating your app with Microsoft Accounts and Azure AD accounts is now one simple process.</span></span>  <span data-ttu-id="25fda-116">Vous pouvez utiliser un seul et même ensemble de points de terminaison, une seule et même bibliothèque et une seule et même inscription d’application pour accéder aux mondes des consommateurs et de l’entreprise.</span><span class="sxs-lookup"><span data-stu-id="25fda-116">You can use a single set of endpoints, a single library, and a single app registration to gain access to both the consumer and enterprise worlds.</span></span>  <span data-ttu-id="25fda-117">Pour en savoir plus sur le point de terminaison v2.0, consultez [la vue d’ensemble](active-directory-appmodel-v2-overview.md).</span><span class="sxs-lookup"><span data-stu-id="25fda-117">To learn more about the v2.0 endpoint, check out [the overview](active-directory-appmodel-v2-overview.md).</span></span>

## <a name="new-app-registration-portal"></a><span data-ttu-id="25fda-118">Nouveau portail d’inscription des applications</span><span class="sxs-lookup"><span data-stu-id="25fda-118">New app registration portal</span></span>
<span data-ttu-id="25fda-119">Pour inscrire une application qui fonctionne avec le point de terminaison v2.0, vous devez utiliser un nouveau portail d’inscription des applications : [apps.dev.microsoft.com](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList).</span><span class="sxs-lookup"><span data-stu-id="25fda-119">To register an app that works with the v2.0 endpoint, you must use a new app registration portal: [apps.dev.microsoft.com](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList).</span></span>  <span data-ttu-id="25fda-120">Il s’agit du portail où vous pouvez obtenir un ID d’application, personnaliser l’apparence de la page de connexion de votre application, et bien plus encore.</span><span class="sxs-lookup"><span data-stu-id="25fda-120">This is the portal where you can obtain an application ID, customize the appearance of your app's sign-in page, and more.</span></span>  <span data-ttu-id="25fda-121">Pour accéder au portail, vous devez avoir un compte Microsoft alimenté : compte personnel ou professionnel/scolaire.</span><span class="sxs-lookup"><span data-stu-id="25fda-121">All you need to access the portal is a Microsoft powered account - either personal or work/school account.</span></span>

## <a name="one-app-id-for-all-platforms"></a><span data-ttu-id="25fda-122">Un ID d’application pour toutes les plateformes</span><span class="sxs-lookup"><span data-stu-id="25fda-122">One app ID for all platforms</span></span>
<span data-ttu-id="25fda-123">Si vous avez utilisé Azure Active Directory, vous avez probablement inscrit plusieurs applications différentes pour un seul et même projet.</span><span class="sxs-lookup"><span data-stu-id="25fda-123">If you've used Azure Active Directory, you've probably registered several different apps for a single project.</span></span>  <span data-ttu-id="25fda-124">Par exemple, si vous avez créé un site web et une application iOS, vous avez dû les inscrire séparément, en utilisant deux ID d’application différents.</span><span class="sxs-lookup"><span data-stu-id="25fda-124">For example, if you built both a website and an iOS app, you had to register them separately, using two different Application Ids.</span></span> <span data-ttu-id="25fda-125">Le portail d’inscription des applications Azure AD vous a obligé à faire cette distinction pendant l’inscription :</span><span class="sxs-lookup"><span data-stu-id="25fda-125">The Azure AD app registration portal forced you to make this distinction during registration:</span></span>

![Ancienne interface utilisateur de l’inscription des applications](../../media/active-directory-v2-flows/old_app_registration.PNG)

<span data-ttu-id="25fda-127">De même, si vous aviez un site web et une API web principale, vous avez pu les inscrire chacun en tant qu’application distincte dans Azure AD.</span><span class="sxs-lookup"><span data-stu-id="25fda-127">Similarly, if you had a website and a backend web api, you might have registered each as a separate app in Azure AD.</span></span>  <span data-ttu-id="25fda-128">Si vous aviez une application iOS et une application Android, vous pouvez également avoir inscrit deux applications différentes.</span><span class="sxs-lookup"><span data-stu-id="25fda-128">Or if you had an iOS app and an Android app, you also might have registered two different apps.</span></span>  <span data-ttu-id="25fda-129">L’inscription des différents composants d’une application a entraîné des comportements inattendus pour les développeurs et leurs clients :</span><span class="sxs-lookup"><span data-stu-id="25fda-129">Registering each component of an application led to some unexpected behaviors for developers and their customers:</span></span>

* <span data-ttu-id="25fda-130">Chaque composant apparaissait comme une application distincte dans le locataire Azure Active Directory de chaque client.</span><span class="sxs-lookup"><span data-stu-id="25fda-130">Each component appeared as a separate app in the Azure Active Directory tenant of each customer.</span></span>
* <span data-ttu-id="25fda-131">Lorsqu’un administrateur client souhaitait appliquer des stratégies pour gérer l’accès à une application ou supprimer une application, il devait le faire pour chaque composant de l’application.</span><span class="sxs-lookup"><span data-stu-id="25fda-131">When a tenant administrator attempted to apply policy to, manage access to, or delete an app, they would have to do so for each component of the app.</span></span>
* <span data-ttu-id="25fda-132">Lorsque les clients donnaient leur consentement pour une application, chaque composant apparaissait dans l’écran de consentement comme une application distincte.</span><span class="sxs-lookup"><span data-stu-id="25fda-132">When customers consented to an application, each component would appear in the consent screen as a distinct application.</span></span>

<span data-ttu-id="25fda-133">Avec le point de terminaison v2.0, vous pouvez maintenant inscrire tous les composants de votre projet comme une seule et même application, et utiliser un ID d’application unique pour l’ensemble du projet.</span><span class="sxs-lookup"><span data-stu-id="25fda-133">With the v2.0 endpoint, you can now register all components of your project as a single app registration, and use a single Application Id for your entire project.</span></span>  <span data-ttu-id="25fda-134">Vous pouvez ajouter plusieurs « plateformes » pour chaque projet, et fournir les données appropriées pour chaque plateforme ajoutée.</span><span class="sxs-lookup"><span data-stu-id="25fda-134">You can add several "platforms" to a each project, and provide the appropriate data for each platform you add.</span></span>  <span data-ttu-id="25fda-135">Bien entendu, vous pouvez créer autant d’applications que vous le souhaitez selon vos besoins, mais pour la plupart des cas, un seul ID d’application est nécessaire.</span><span class="sxs-lookup"><span data-stu-id="25fda-135">Of course, you can create as many apps as you like depending on your requirements, but for the majority of cases only one Application Id should be necessary.</span></span>

<span data-ttu-id="25fda-136">Notre objectif est de simplifier encore davantage la gestion des applications et l’expérience de développement, et de créer une vue plus consolidée d’un seul et même projet sur lequel vous travaillez peut-être.</span><span class="sxs-lookup"><span data-stu-id="25fda-136">Our aim is that this will lead to a more simplified app management and development experience, and create a more consolidated view of a single project that you might be working on.</span></span>

## <a name="scopes-not-resources"></a><span data-ttu-id="25fda-137">Des étendues, pas des ressources</span><span class="sxs-lookup"><span data-stu-id="25fda-137">Scopes, not resources</span></span>
<span data-ttu-id="25fda-138">Dans Azure Active Directory, une application peut se comporter comme une **ressource**, ou un destinataire de jetons.</span><span class="sxs-lookup"><span data-stu-id="25fda-138">In Azure Active Directory, an app can behave as a **resource**, or a recipient of tokens.</span></span>  <span data-ttu-id="25fda-139">Une ressource peut définir plusieurs **étendues** ou **oAuth2Permissions** qu’elle comprend, permettant ainsi aux applications clientes de demander des jetons pour cette ressource pour un ensemble d’étendues donné.</span><span class="sxs-lookup"><span data-stu-id="25fda-139">A resource can define a number of **scopes** or **oAuth2Permissions** that it understands, allowing client apps to request tokens to that resource for a certain set of scopes.</span></span>  <span data-ttu-id="25fda-140">Prenez comme exemple de ressource l’API Graph d’Azure AD :</span><span class="sxs-lookup"><span data-stu-id="25fda-140">Consider the Azure AD Graph API as an example of a resource:</span></span>

* <span data-ttu-id="25fda-141">Identificateur de ressource, ou `AppID URI` : `https://graph.windows.net/`</span><span class="sxs-lookup"><span data-stu-id="25fda-141">Resource Identifier, or `AppID URI`: `https://graph.windows.net/`</span></span>
* <span data-ttu-id="25fda-142">Étendues, ou `OAuth2Permissions` : `Directory.Read`, `Directory.Write`, etc.</span><span class="sxs-lookup"><span data-stu-id="25fda-142">Scopes, or `OAuth2Permissions`: `Directory.Read`, `Directory.Write`, etc.</span></span>  

<span data-ttu-id="25fda-143">Tout ceci vaut pour le point de terminaison v2.0.</span><span class="sxs-lookup"><span data-stu-id="25fda-143">All of this holds true for the the v2.0 endpoint.</span></span>  <span data-ttu-id="25fda-144">Une application peut toujours se comporter comme une ressource, définir des étendues et être identifiée par un URI.</span><span class="sxs-lookup"><span data-stu-id="25fda-144">An app can still behave as resource, define scopes, and be identified by a URI.</span></span>  <span data-ttu-id="25fda-145">Les applications clientes peuvent toujours demander l’accès à ces étendues.</span><span class="sxs-lookup"><span data-stu-id="25fda-145">Client apps can still request access to those scopes.</span></span>  <span data-ttu-id="25fda-146">Toutefois, la façon dont un client demande ces autorisations a changé.</span><span class="sxs-lookup"><span data-stu-id="25fda-146">However, the way in which a client requests those permissions has changed.</span></span>  <span data-ttu-id="25fda-147">Dans le passé, une demande d’autorisation OAuth 2.0 à Azure AD pouvait ressembler à ceci :</span><span class="sxs-lookup"><span data-stu-id="25fda-147">In the past, an OAuth 2.0 authorize request to Azure AD might have looked like:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&resource=https%3A%2F%2Fgraph.windows.net%2F
...
```

<span data-ttu-id="25fda-148">où le paramètre de **ressource** indiquait la ressource pour laquelle l’application cliente demandait une autorisation.</span><span class="sxs-lookup"><span data-stu-id="25fda-148">where the **resource** parameter indicated which resource the client app is requesting authorization for.</span></span>  <span data-ttu-id="25fda-149">Azure AD calculait les autorisations requises par l’application en fonction de la configuration statique définie dans le portail Azure, puis émettait les jetons en conséquence.</span><span class="sxs-lookup"><span data-stu-id="25fda-149">Azure AD computed the permissions required by the app based on static configuration in the Azure Portal, and issued tokens accordingly.</span></span>  <span data-ttu-id="25fda-150">Désormais, la même demande d’autorisation OAuth 2.0 ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="25fda-150">Now, the same OAuth 2.0 authorize request looks like:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/v2.0/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&scope=https%3A%2F%2Fgraph.windows.net%2Fdirectory.read%20https%3A%2F%2Fgraph.windows.net%2Fdirectory.write
...
```

<span data-ttu-id="25fda-151">où le paramètre d’ **étendue** indique la ressource et les autorisations pour lesquelles l’application demande une autorisation.</span><span class="sxs-lookup"><span data-stu-id="25fda-151">where the **scope** parameter indicates which resource and permissions the app is requesting authorization for.</span></span> <span data-ttu-id="25fda-152">La ressource souhaitée est toujours très présente dans la demande ; elle est simplement incluse dans chacune des valeurs du paramètre d’étendue.</span><span class="sxs-lookup"><span data-stu-id="25fda-152">The desired resource is still very present in the request - it is simply encompassed in each of the values of the scope parameter.</span></span>  <span data-ttu-id="25fda-153">L’utilisation du paramètre d’étendue de cette manière permet au point de terminaison v2.0 d’être plus conforme à la spécification OAuth 2.0, et elle est en harmonie plus étroite avec les pratiques courantes du secteur.</span><span class="sxs-lookup"><span data-stu-id="25fda-153">Using the scope parameter in this manner allows the v2.0 endpoint to be more compliant with the OAuth 2.0 specification, and aligns more closely with common industry practices.</span></span>  <span data-ttu-id="25fda-154">Elle permet également aux applications d’effectuer un [consentement incrémentiel](#incremental-and-dynamic-consent), qui est décrit dans la section suivante.</span><span class="sxs-lookup"><span data-stu-id="25fda-154">It also enables apps to perform [incremental consent](#incremental-and-dynamic-consent), which is described in the next section.</span></span>

## <a name="incremental-and-dynamic-consent"></a><span data-ttu-id="25fda-155">Consentement incrémentiel et dynamique</span><span class="sxs-lookup"><span data-stu-id="25fda-155">Incremental and dynamic consent</span></span>
<span data-ttu-id="25fda-156">Les applications inscrites dans Azure AD devaient auparavant spécifier leurs autorisations OAuth 2.0 requises dans le portail Azure au moment de leur création :</span><span class="sxs-lookup"><span data-stu-id="25fda-156">Apps registered in Azure AD previously needed to specify their required OAuth 2.0 permissions in the Azure Portal, at app creation time:</span></span>

![Interface utilisateur de l’inscription des autorisations](../../media/active-directory-v2-flows/app_reg_permissions.PNG)

<span data-ttu-id="25fda-158">Les autorisations requises par une application étaient configurées **statiquement**.</span><span class="sxs-lookup"><span data-stu-id="25fda-158">The permissions an app required were configured **statically**.</span></span>  <span data-ttu-id="25fda-159">Si cela permettait à la configuration de l’application d’exister dans le portail Azure et de maintenir la simplicité du code, cela présentait quelques problèmes pour les développeurs :</span><span class="sxs-lookup"><span data-stu-id="25fda-159">While this allowed configuration of the app to exist in the Azure Portal and kept the code nice and simple, it presents a few issues for developers:</span></span>

* <span data-ttu-id="25fda-160">L’application devait connaître toutes les autorisations dont elle aurait besoin lors de sa création.</span><span class="sxs-lookup"><span data-stu-id="25fda-160">An app had to know all of the permissions it would ever need at app creation time.</span></span>  <span data-ttu-id="25fda-161">L’ajout d’autorisations au fil du temps était un processus difficile.</span><span class="sxs-lookup"><span data-stu-id="25fda-161">Adding permissions over time was a difficult process.</span></span>
* <span data-ttu-id="25fda-162">Une application devait connaître au préalable l’ensemble des ressources auxquelles elle aurait accès.</span><span class="sxs-lookup"><span data-stu-id="25fda-162">An app had to know all of the resources it would ever access ahead of time.</span></span>  <span data-ttu-id="25fda-163">Il était difficile de créer des applications pouvant accéder à un nombre arbitraire de ressources.</span><span class="sxs-lookup"><span data-stu-id="25fda-163">It was difficult to create apps that could access an arbitrary number of resources.</span></span>
* <span data-ttu-id="25fda-164">Une application devait demander toutes les autorisations dont elle aurait besoin dès la première connexion de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="25fda-164">An app had to request all the permissions it would ever need upon the user's first sign-in.</span></span>  <span data-ttu-id="25fda-165">Dans certains cas, cela engendrait une très longue liste d’autorisations, qui dissuadait les utilisateurs finaux d’approuver l’accès de l’application à la connexion initiale.</span><span class="sxs-lookup"><span data-stu-id="25fda-165">In some cases this led to a very long list of permissions, which discouraged end-users from approving the app's access on initial sign-in.</span></span>

<span data-ttu-id="25fda-166">Avec le point de terminaison v2.0, vous pouvez spécifier les autorisations dont votre application a besoin **dynamiquement**, lors de l’exécution, pendant l’utilisation régulière de votre application.</span><span class="sxs-lookup"><span data-stu-id="25fda-166">With the v2.0 endpoint, you can specify the permissions your app needs **dynamically**, at runtime, during regular usage of your app.</span></span>  <span data-ttu-id="25fda-167">Pour ce faire, vous pouvez spécifier les étendues nécessaires à votre application, à un moment donné, en les incluant dans le paramètre `scope` d’une demande d’autorisation :</span><span class="sxs-lookup"><span data-stu-id="25fda-167">To do so, you can specify the scopes your app needs at any given point in time by including them in the `scope` parameter of an authorization request:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/v2.0/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&scope=https%3A%2F%2Fgraph.windows.net%2Fdirectory.read%20https%3A%2F%2Fgraph.windows.net%2Fdirectory.write
...
```

<span data-ttu-id="25fda-168">Le paramètre ci-dessus demande l’autorisation pour l’application de lire les données d’annuaire d’un utilisateur d’Azure AD et d’écrire des données dans son annuaire.</span><span class="sxs-lookup"><span data-stu-id="25fda-168">The above requests permission for the app to read an Azure AD user's directory data, as well as write data to their directory.</span></span>  <span data-ttu-id="25fda-169">Si l’utilisateur a accepté ces autorisations dans le passé pour cette application particulière, il doit simplement entrer ses informations d’identification et se connecter à l’application.</span><span class="sxs-lookup"><span data-stu-id="25fda-169">If the user has consented to those permissions in the past for this particular app, they will simply enter their credentials and be signed into the app.</span></span>  <span data-ttu-id="25fda-170">Si l’utilisateur n’a accepté aucune de ces autorisations, le point de terminaison v2.0 lui demande de corriger ce manquement.</span><span class="sxs-lookup"><span data-stu-id="25fda-170">If the user has not consented to any of these permissions, the v2.0 endpoint will ask the user for consent to those permissions.</span></span>  <span data-ttu-id="25fda-171">Pour en savoir plus, consultez les [autorisations, consentements et étendues](active-directory-v2-scopes.md).</span><span class="sxs-lookup"><span data-stu-id="25fda-171">To learn more, you can read up on [permissions, consent, and scopes](active-directory-v2-scopes.md).</span></span>

<span data-ttu-id="25fda-172">Autoriser une application à demander des autorisations dynamiquement via le paramètre `scope` vous permet de contrôler totalement l’expérience de vos utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="25fda-172">Allowing an app to request permissions dynamically via the `scope` parameter gives you full control over your user's experience.</span></span>  <span data-ttu-id="25fda-173">Si vous le souhaitez, vous pouvez choisir d’anticiper votre expérience de consentement et demander toutes les autorisations dans une demande d’autorisation initiale.</span><span class="sxs-lookup"><span data-stu-id="25fda-173">If you wish, you can choose to frontload your consent experience and ask for all permissions in one initial authorization request.</span></span>  <span data-ttu-id="25fda-174">Si votre application nécessite un grand nombre d’autorisations, vous pouvez choisir de rassembler celles de l’utilisateur de façon incrémentielle lorsqu’il essaie d’utiliser certaines fonctionnalités de votre application au fil du temps.</span><span class="sxs-lookup"><span data-stu-id="25fda-174">Or if your app requires a large number of permissions, you can choose to gather those permissions from the user incrementally, as they attempt to use certain features of your app over time.</span></span>

## <a name="well-known-scopes"></a><span data-ttu-id="25fda-175">Étendues connues</span><span class="sxs-lookup"><span data-stu-id="25fda-175">Well-known scopes</span></span>
#### <a name="offline-access"></a><span data-ttu-id="25fda-176">Accès hors connexion</span><span class="sxs-lookup"><span data-stu-id="25fda-176">Offline access</span></span>
<span data-ttu-id="25fda-177">Les applications qui utilisent le point de terminaison v2.0 peuvent nécessiter l’utilisation d’une nouvelle autorisation bien connue pour les applications : l’étendue `offline_access`.</span><span class="sxs-lookup"><span data-stu-id="25fda-177">Apps using the v2.0 endpoint may require the use of a new well-known permission for apps - the `offline_access` scope.</span></span>  <span data-ttu-id="25fda-178">Toutes les applications doivent demander cette autorisation si elles doivent accéder aux ressources au nom d’un utilisateur pendant une période prolongée, même si l’utilisateur n’utilise peut-être pas activement l’application donnée.</span><span class="sxs-lookup"><span data-stu-id="25fda-178">All apps will need to request this permission if they need to access resources on the behalf of a user for a prolonged period of time, even when the user may not be actively using the app.</span></span>  <span data-ttu-id="25fda-179">L’étendue `offline_access` apparaît à l’utilisateur dans la boîte de dialogue de consentement « Accéder aux données hors connexion », que l’utilisateur doit accepter.</span><span class="sxs-lookup"><span data-stu-id="25fda-179">The `offline_access` scope will appear to the user in consent dialogs as "Access your data offline", which the user must agree to.</span></span>  <span data-ttu-id="25fda-180">Demander l’autorisation `offline_access` permet à votre application web de recevoir les jetons d’actualisation OAuth 2.0 du point de terminaison v2.0.</span><span class="sxs-lookup"><span data-stu-id="25fda-180">Requesting the `offline_access` permission will enable your web app to receive OAuth 2.0 refresh_tokens from the v2.0 endpoint.</span></span>  <span data-ttu-id="25fda-181">Les jetons d’actualisation sont de longue durée, et peuvent être échangés contre les nouveaux jetons d’accès OAuth 2.0 pour des périodes d’accès prolongées.</span><span class="sxs-lookup"><span data-stu-id="25fda-181">Refresh_tokens are long-lived, and can be exchanged for new OAuth 2.0 access_tokens for extended periods of access.</span></span>  

<span data-ttu-id="25fda-182">Si votre application ne sollicite pas l’étendue `offline_access`, elle ne reçoit pas les jetons d’actualisation.</span><span class="sxs-lookup"><span data-stu-id="25fda-182">If your app does not request the `offline_access` scope, it will not receive refresh_tokens.</span></span>  <span data-ttu-id="25fda-183">Ainsi, lorsque vous échangez un code d’autorisation dans un flux de code d’autorisation OAuth 2.0, vous recevez uniquement un jeton d’accès du point de terminaison `/token`.</span><span class="sxs-lookup"><span data-stu-id="25fda-183">This means that when you redeem an authorization_code in the OAuth 2.0 authorization code flow, you will only receive back an access_token from the `/token` endpoint.</span></span>  <span data-ttu-id="25fda-184">Ce jeton d’accès demeure valide pendant une courte période (généralement une heure), avant d’arriver à expiration.</span><span class="sxs-lookup"><span data-stu-id="25fda-184">That access_token will remain valid for a short period of time (typically one hour), but will eventually expire.</span></span>  <span data-ttu-id="25fda-185">À ce stade, votre application doit rediriger l’utilisateur vers le point de terminaison `/authorize` afin de récupérer un nouveau code d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="25fda-185">At that point in time, your app will need to redirect the user back to the `/authorize` endpoint to retrieve a new authorization_code.</span></span>  <span data-ttu-id="25fda-186">Pendant ce réacheminement, il peut être demandé à l’utilisateur d’entrer à nouveau ses informations d’identification ou d’accepter une nouvelle fois les autorisations, en fonction du type d’application.</span><span class="sxs-lookup"><span data-stu-id="25fda-186">During this redirect, the user may or may not need to enter their credentials again or re-consent to permissions, depending on the the type of app.</span></span>

<span data-ttu-id="25fda-187">Pour en savoir plus sur OAuth 2.0, les jetons d’actualisation et les jetons d’accès, consultez [Informations de référence sur les protocoles du point de terminaison v2.0](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="25fda-187">To learn more about OAuth 2.0, refresh_tokens, and access_tokens, check out the [v2.0 protocol reference](active-directory-v2-protocols.md).</span></span>

#### <a name="openid-profile-and-email"></a><span data-ttu-id="25fda-188">OpenID, profile et email</span><span class="sxs-lookup"><span data-stu-id="25fda-188">OpenID, profile and email</span></span>
<span data-ttu-id="25fda-189">Historiquement, le flux de connexion OpenID Connect le plus simple avec Azure Active Directory fournit une somme d’informations sur l’utilisateur dans le paramètre id_token résultant.</span><span class="sxs-lookup"><span data-stu-id="25fda-189">Historically, the most basic OpenID Connect sign-in flow with Azure Active Directory would provide a wealth of information about the user in the resulting id_token.</span></span>  <span data-ttu-id="25fda-190">Les revendications contenues dans un paramètre id_token peuvent inclure différentes informations utilisateur : son nom, son nom d’utilisateur par défaut, son adresse de messagerie, son ID objet, etc.</span><span class="sxs-lookup"><span data-stu-id="25fda-190">The claims in an id_token can include the user's name, preferred username, email address, object ID, and more.</span></span>

<span data-ttu-id="25fda-191">À présent, nous allons limiter les informations auxquelles l’étendue `openid` permet à votre application d’accéder.</span><span class="sxs-lookup"><span data-stu-id="25fda-191">We are now restricting the information that the `openid` scope affords your app access to.</span></span>  <span data-ttu-id="25fda-192">L’étendue « openid » permettra uniquement à votre application de connecter l’utilisateur et de recevoir un identificateur propre à l’application pour l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="25fda-192">The ‘openid’ scope will only allow your app to sign the user in, and receive an app-specific identifier for the user.</span></span>  <span data-ttu-id="25fda-193">Si vous souhaitez obtenir des informations d’identification personnelle (PII) sur l’utilisateur dans votre application, votre application devra lui demander des autorisations supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="25fda-193">If you want to obtain personally identifiable information (PII) about the user in your app, your app will need to request additional permissions from the user.</span></span>  <span data-ttu-id="25fda-194">Nous introduisons deux nouvelles étendues, les étendues `email` et `profile`, qui vous permettent d’effectuer cette opération.</span><span class="sxs-lookup"><span data-stu-id="25fda-194">We are introducing two new scopes – the `email` and `profile` scopes – which allow you to do so.</span></span>

<span data-ttu-id="25fda-195">L’étendue `email` est très directe : elle permet à votre application d’accéder à l’adresse de messagerie principale de l’utilisateur via la revendication `email` contenue dans le paramètre id_token.</span><span class="sxs-lookup"><span data-stu-id="25fda-195">The `email` scope is very straightforward – it allows your app access to the user’s primary email address via the `email` claim in the id_token.</span></span>  <span data-ttu-id="25fda-196">L’étendue `profile` permet à votre application d’accéder à toutes les autres informations de base sur l’utilisateur (nom, nom d’utilisateur par défaut, ID objet, etc.).</span><span class="sxs-lookup"><span data-stu-id="25fda-196">The `profile` scope affords your app access to all other basic information about the user – their name, preferred username, object ID, and so on.</span></span>

<span data-ttu-id="25fda-197">Vous pouvez ainsi coder votre application en en divulguant le moins possible : vous pouvez vous contenter de demander à l’utilisateur les informations nécessaires à l’exécution de votre application.</span><span class="sxs-lookup"><span data-stu-id="25fda-197">This allows you to code your app in a minimal-disclosure fashion – you can only ask the user for the set of information that your app requires to do its job.</span></span>  <span data-ttu-id="25fda-198">Pour plus d’informations sur ces étendues, consultez [les informations de référence sur les étendues v2.0](active-directory-v2-scopes.md).</span><span class="sxs-lookup"><span data-stu-id="25fda-198">For more information on these scopes, refer to [the v2.0 scope reference](active-directory-v2-scopes.md).</span></span>

## <a name="token-claims"></a><span data-ttu-id="25fda-199">Demandes de jetons</span><span class="sxs-lookup"><span data-stu-id="25fda-199">Token Claims</span></span>
<span data-ttu-id="25fda-200">Les demandes des jetons émis par le point de terminaison v2.0 ne sont pas identiques à celles des jetons émis par les points de terminaison du service Azure AD mis à la disposition générale. Les applications migrant vers le nouveau service ne doivent pas supposer qu’une demande particulière existe dans les jetons d’ID ou les jetons d’accès.</span><span class="sxs-lookup"><span data-stu-id="25fda-200">The claims in tokens issued by the v2.0 endpoint will not be identical to tokens issued by the generally available Azure AD endpoints - apps migrating to the new service should not assume a particular claim will exist in id_tokens or access_tokens.</span></span> <span data-ttu-id="25fda-201">Pour en savoir plus sur les demandes spécifiques émises dans les jetons v2.0, consultez [Informations de référence sur les jetons v2.0](active-directory-v2-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="25fda-201">To learn about the specific claims emitted in v2.0 tokens, see the [v2.0 token reference](active-directory-v2-tokens.md).</span></span>

## <a name="limitations"></a><span data-ttu-id="25fda-202">Limites</span><span class="sxs-lookup"><span data-stu-id="25fda-202">Limitations</span></span>
<span data-ttu-id="25fda-203">Il existe quelques restrictions à connaître lors de l’utilisation du point v2.0.</span><span class="sxs-lookup"><span data-stu-id="25fda-203">There are a few restrictions to be aware of when using the v2.0 point.</span></span>  <span data-ttu-id="25fda-204">Consultez le [document relatif aux limites v2.0](active-directory-v2-limitations.md) pour voir si ces restrictions s’appliquent à votre scénario particulier.</span><span class="sxs-lookup"><span data-stu-id="25fda-204">Please refer to the [v2.0 limitations doc](active-directory-v2-limitations.md) to see if any of these restrictions apply to your particular scenario.</span></span>
