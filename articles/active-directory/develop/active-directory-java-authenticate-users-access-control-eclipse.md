---
title: Comment utiliser Access Control (Java) | Microsoft Docs
description: "Apprenez à développer et à utiliser le contrôle d'accès avec Java dans Azure."
services: active-directory
documentationcenter: java
author: rmcmurray
manager: erikre
editor: 
ms.assetid: 247dfd59-0221-4193-97ec-4f3ebe01d3c7
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: Java
ms.topic: article
ms.date: 04/25/2017
ms.author: robmcm
ms.custom: aaddev
ms.openlocfilehash: 698403d181e1fee09bb4692290c92203ded97ba4
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="how-to-authenticate-web-users-with-azure-access-control-service-using-eclipse"></a><span data-ttu-id="98d9f-103">Authentification des utilisateurs web auprès d'Azure Access Control Service à l'aide d'Eclipse</span><span class="sxs-lookup"><span data-stu-id="98d9f-103">How to Authenticate Web Users with Azure Access Control Service Using Eclipse</span></span>
<span data-ttu-id="98d9f-104">Ce guide vous indique comment utiliser Azure Access Control Service (ou ACS) au sein du Kit de ressources Azure pour Eclipse.</span><span class="sxs-lookup"><span data-stu-id="98d9f-104">This guide will show you how to use the Azure Access Control Service (ACS) within the Azure Toolkit for Eclipse.</span></span> <span data-ttu-id="98d9f-105">Pour plus d'informations sur ACS, consultez la section [Étapes suivantes](#next_steps) .</span><span class="sxs-lookup"><span data-stu-id="98d9f-105">For more information on ACS, see the [Next steps](#next_steps) section.</span></span>

> [!NOTE]
> <span data-ttu-id="98d9f-106">Le filtre ACS Azure est une version préliminaire de la technologie destinée à la communauté.</span><span class="sxs-lookup"><span data-stu-id="98d9f-106">The Azure Access Services Control Filter is a community technology preview.</span></span> <span data-ttu-id="98d9f-107">En tant que logiciel préliminaire, il n'est pas officiellement pris en charge par Microsoft.</span><span class="sxs-lookup"><span data-stu-id="98d9f-107">As pre-release software, it is not formally supported by Microsoft.</span></span>
> 
> 

## <a name="what-is-acs"></a><span data-ttu-id="98d9f-108">Qu'est-ce qu'ACS ?</span><span class="sxs-lookup"><span data-stu-id="98d9f-108">What is ACS?</span></span>
<span data-ttu-id="98d9f-109">La plupart des développeurs ne sont pas des experts en matière d'identité et ne souhaitent généralement pas passer du temps à développer des mécanismes d'authentification et d'autorisation pour leurs applications et services.</span><span class="sxs-lookup"><span data-stu-id="98d9f-109">Most developers are not identity experts and generally do not want to spend time developing authentication and authorization mechanisms for their applications and services.</span></span> <span data-ttu-id="98d9f-110">ACS est un service Azure qui vous permet d'authentifier rapidement les utilisateurs lorsqu'ils accèdent à vos applications et services Web sans ajouter de logique d'authentification complexe à votre code.</span><span class="sxs-lookup"><span data-stu-id="98d9f-110">ACS is an Azure service that provides an easy way of authenticating users who need to access your web applications and services without having to factor complex authentication logic into your code.</span></span>

<span data-ttu-id="98d9f-111">Les fonctionnalités suivantes sont disponibles dans ACS :</span><span class="sxs-lookup"><span data-stu-id="98d9f-111">The following features are available in ACS:</span></span>

* <span data-ttu-id="98d9f-112">Intégration avec Windows Identity Foundation (WIF).</span><span class="sxs-lookup"><span data-stu-id="98d9f-112">Integration with Windows Identity Foundation (WIF).</span></span>
* <span data-ttu-id="98d9f-113">Prise en charge des fournisseurs d'identité Web reconnus, notamment Windows Live ID, Google, Yahoo! et Facebook.</span><span class="sxs-lookup"><span data-stu-id="98d9f-113">Support for popular web identity providers (IPs) including Windows Live ID, Google, Yahoo!, and Facebook.</span></span>
* <span data-ttu-id="98d9f-114">Prise en charge d'Active Directory Federation Services (AD FS) 2.0.</span><span class="sxs-lookup"><span data-stu-id="98d9f-114">Support for Active Directory Federation Services (AD FS) 2.0.</span></span>
* <span data-ttu-id="98d9f-115">Service de gestion OData (Open Data Protocol) qui fournit un accès par programme aux paramètres ACS.</span><span class="sxs-lookup"><span data-stu-id="98d9f-115">An Open Data Protocol (OData)-based management service that provides programmatic access to ACS settings.</span></span>
* <span data-ttu-id="98d9f-116">Portail de gestion qui autorise l'accès administratif aux paramètres ACS.</span><span class="sxs-lookup"><span data-stu-id="98d9f-116">A Management Portal that allows administrative access to the ACS settings.</span></span>

<span data-ttu-id="98d9f-117">Pour plus d'informations sur ACS, consultez la page [Access Control Service 2.0][Access Control Service 2.0].</span><span class="sxs-lookup"><span data-stu-id="98d9f-117">For more information about ACS, see [Access Control Service 2.0][Access Control Service 2.0].</span></span>

## <a name="concepts"></a><span data-ttu-id="98d9f-118">Concepts</span><span class="sxs-lookup"><span data-stu-id="98d9f-118">Concepts</span></span>
<span data-ttu-id="98d9f-119">Azure ACS repose sur les principes de l'identité basée sur des demandes, une approche cohérente permettant de créer des mécanismes d'authentification pour les applications exécutées localement ou dans le cloud.</span><span class="sxs-lookup"><span data-stu-id="98d9f-119">Azure ACS is built on the principals of claims-based identity - a consistent approach to creating authentication mechanisms for applications running on-premises or in the cloud.</span></span> <span data-ttu-id="98d9f-120">Cette approche permet aux applications et aux services d'obtenir les informations d'identité dont ils ont besoin pour les utilisateurs internes ou externes à leur organisation et sur Internet.</span><span class="sxs-lookup"><span data-stu-id="98d9f-120">Claims-based identity provides a common way for applications and services to acquire the identity information they need about users inside their organization, in other organizations, and on the Internet.</span></span>

<span data-ttu-id="98d9f-121">Pour réaliser les tâches présentées dans ce guide, vous devez comprendre les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="98d9f-121">To complete the tasks in this guide, you should understand the following concepts:</span></span>

<span data-ttu-id="98d9f-122">**Client** : dans le contexte de ce guide, il s'agit d'un navigateur qui tente d'accéder à votre application Web.</span><span class="sxs-lookup"><span data-stu-id="98d9f-122">**Client** - In the context of this how-to guide, this is a browser that is attempting to gain access to your web application.</span></span>

<span data-ttu-id="98d9f-123">**Application par partie de confiance** : une application par partie de confiance est un site web ou un service qui externalise l’authentification vers une autorité externe.</span><span class="sxs-lookup"><span data-stu-id="98d9f-123">**Relying party (RP) application** - An RP application is a website or service that outsources authentication to one external authority.</span></span> <span data-ttu-id="98d9f-124">Dans le jargon technique, nous disons que la partie de confiance fait confiance à cette autorité.</span><span class="sxs-lookup"><span data-stu-id="98d9f-124">In identity jargon, we say that the RP trusts that authority.</span></span> <span data-ttu-id="98d9f-125">Ce guide décrit la configuration de votre application de manière à ce qu'elle approuve ACS.</span><span class="sxs-lookup"><span data-stu-id="98d9f-125">This guide explains how to configure your application to trust ACS.</span></span>

<span data-ttu-id="98d9f-126">**Jeton** : un jeton est un ensemble de données de sécurité généralement émis après identification d'un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="98d9f-126">**Token** - A token is a collection of security data that is usually issued upon successful authentication of a user.</span></span> <span data-ttu-id="98d9f-127">Il contient un jeu de *demandes*qui sont des attributs de l'utilisateur authentifié.</span><span class="sxs-lookup"><span data-stu-id="98d9f-127">It contains a set of *claims*, attributes of the authenticated user.</span></span> <span data-ttu-id="98d9f-128">Une demande peut représenter le nom d'un utilisateur, son âge, l'identifiant pour un rôle qui lui est attribué, etc.</span><span class="sxs-lookup"><span data-stu-id="98d9f-128">A claim can represent a user's name, an identifier for a role a user belongs to, a user's age, and so on.</span></span> <span data-ttu-id="98d9f-129">Un jeton bénéficie le plus souvent d'une signature numérique, ce qui permet de remonter jusqu'à son émetteur et de le protéger contre toute tentative de modification.</span><span class="sxs-lookup"><span data-stu-id="98d9f-129">A token is usually digitally signed, which means it can always be sourced back to its issuer, and its content cannot be tampered with.</span></span> <span data-ttu-id="98d9f-130">Un utilisateur obtient l'accès à une application par partie de confiance en présentant un jeton valide émis par une autorité approuvée par celle-ci.</span><span class="sxs-lookup"><span data-stu-id="98d9f-130">A user gains access to a RP application by presenting a valid token issued by an authority that the RP application trusts.</span></span>

<span data-ttu-id="98d9f-131">**Fournisseur d'identité** : un fournisseur d'identité est une autorité qui authentifie des identités d'utilisateur et émet des jetons de sécurité.</span><span class="sxs-lookup"><span data-stu-id="98d9f-131">**Identity Provider (IP)** - An IP is an authority that authenticates user identities and issues security tokens.</span></span> <span data-ttu-id="98d9f-132">L'activité d'émission des jetons est implémentée via un service spécial nommé « service d'émission de jeton de sécurité » (STS, Security Token Service).</span><span class="sxs-lookup"><span data-stu-id="98d9f-132">The actual work of issuing tokens is implemented though a special service called Security Token Service (STS).</span></span> <span data-ttu-id="98d9f-133">Les fournisseurs d'identité les plus connus sont Windows Live ID, Facebook, les référentiels d'utilisateurs professionnels (tels qu'Active Directory), etc.</span><span class="sxs-lookup"><span data-stu-id="98d9f-133">Typical examples of IPs include Windows Live ID, Facebook, business user repositories (like Active Directory), and so on.</span></span>
<span data-ttu-id="98d9f-134">Lorsqu'ACS est configuré de manière à approuver un fournisseur d'identité, le système accepte et valide les jetons émis par ce fournisseur.</span><span class="sxs-lookup"><span data-stu-id="98d9f-134">When ACS is configured to trust an IP, the system will accept and validate tokens issued by that IP.</span></span> <span data-ttu-id="98d9f-135">ACS peut approuver plusieurs fournisseurs d'identité simultanément. Donc lorsque votre application approuve ACS, vous pouvez fournir aux utilisateurs la possibilité d'être authentifiés par un fournisseur d'identité qu'ACS approuve en votre nom.</span><span class="sxs-lookup"><span data-stu-id="98d9f-135">ACS can trust multiple IPs at once, which means that when your application trusts ACS, you can instantly offer your application to all the authenticated users from all the IPs that ACS trusts on your behalf.</span></span>

<span data-ttu-id="98d9f-136">**Fournisseur de fédération** : les fournisseurs d'identité connaissent directement les utilisateurs et les authentifient grâce à leurs informations d'identification. Ils émettent des demandes en fonction des informations utilisateur connues.</span><span class="sxs-lookup"><span data-stu-id="98d9f-136">**Federation Provider (FP)** - IPs have direct knowledge of users, and authenticate them using their credentials and issue claims about what they know about them.</span></span> <span data-ttu-id="98d9f-137">Un fournisseur de fédération est un autre type d’autorité : au lieu d'authentifier directement les utilisateurs, il agit comme intermédiaire entre l'application par partie de confiance et un ou plusieurs fournisseurs d'identité.</span><span class="sxs-lookup"><span data-stu-id="98d9f-137">A Federation Provider (FP) is a different kind of authority: rather than authenticating users directly, it acts as an intermediary and brokers authentication between one RP and one or more IPs.</span></span> <span data-ttu-id="98d9f-138">Les fournisseurs d'identité comme les fournisseurs de fédération émettent des jetons de sécurité, ils utilisent donc tous les deux le service STS.</span><span class="sxs-lookup"><span data-stu-id="98d9f-138">Both IPs and FPs issue security tokens, hence they both use Security Token Services (STS).</span></span> <span data-ttu-id="98d9f-139">ACS est un fournisseur de fédération.</span><span class="sxs-lookup"><span data-stu-id="98d9f-139">ACS is one FP.</span></span>

<span data-ttu-id="98d9f-140">**Moteur de règles ACS** : il s'agit de la logique utilisée pour transformer les jetons entrants, provenant de fournisseurs d'identité approuvés, en jetons destinés à être utilisés par la partie de confiance. Cette logique est codée sous forme de règles de transformation de demandes simples.</span><span class="sxs-lookup"><span data-stu-id="98d9f-140">**ACS Rule Engine** - The logic used to transform incoming tokens from trusted IPs to tokens meant to be consumed by the RP is codified in form of simple claims transformation rules.</span></span> <span data-ttu-id="98d9f-141">ACS comprend un moteur de règles qui est chargé d'appliquer la logique de transformation que vous avez indiquée pour votre partie de confiance.</span><span class="sxs-lookup"><span data-stu-id="98d9f-141">ACS features a rule engine that takes care of applying whatever transformation logic you specified for your RP.</span></span>

<span data-ttu-id="98d9f-142">**Espace de noms ACS** : l'espace de noms constitue la partition la plus élevée d'ACS que vous utilisez pour organiser vos paramètres.</span><span class="sxs-lookup"><span data-stu-id="98d9f-142">**ACS Namespace** - A namespace is a top level partition of ACS that you use for organizing your settings.</span></span> <span data-ttu-id="98d9f-143">Un espace de noms contient une liste de fournisseurs d'identité auxquels vous faites confiance, les applications par partie de confiance que vous souhaitez servir, les règles que le moteur de règles doit appliquer aux jetons entrants, etc.</span><span class="sxs-lookup"><span data-stu-id="98d9f-143">A namespace holds a list of IPs you trust, the RP applications you want to serve, the rules that you expect the rule engine to process incoming tokens with, and so on.</span></span> <span data-ttu-id="98d9f-144">Il expose plusieurs points de terminaison qui seront utilisés par le développeur et l'application afin qu'ACS assure les fonctions demandées.</span><span class="sxs-lookup"><span data-stu-id="98d9f-144">A namespace exposes various endpoints that will be used by the application and the developer to get ACS to perform its function.</span></span>

<span data-ttu-id="98d9f-145">La figure suivante présente le fonctionnement de l'authentification ACS avec une application Web :</span><span class="sxs-lookup"><span data-stu-id="98d9f-145">The following figure shows how ACS authentication works with a web application:</span></span>

![Diagramme de flux ACS][acs_flow]

1. <span data-ttu-id="98d9f-147">Le client (dans le cas présent, un navigateur) demande une page à partir de la partie de confiance.</span><span class="sxs-lookup"><span data-stu-id="98d9f-147">The client (in this case a browser) requests a page from the RP.</span></span>
2. <span data-ttu-id="98d9f-148">Puisque la demande n'a pas encore été authentifiée, la partie de confiance redirige l'utilisateur vers l'autorité approuvée, c'est-à-dire ACS.</span><span class="sxs-lookup"><span data-stu-id="98d9f-148">Since the request is not yet authenticated, the RP redirects the user to the authority that it trusts, which is ACS.</span></span> <span data-ttu-id="98d9f-149">ACS propose à l'utilisateur de choisir parmi les fournisseurs d'identité spécifiés pour cette partie de confiance.</span><span class="sxs-lookup"><span data-stu-id="98d9f-149">The ACS presents the user with the choice of IPs that were specified for this RP.</span></span> <span data-ttu-id="98d9f-150">L'utilisateur sélectionne le fournisseur d'identité approprié.</span><span class="sxs-lookup"><span data-stu-id="98d9f-150">The user selects the appropriate IP.</span></span>
3. <span data-ttu-id="98d9f-151">Le client accède à la page d'authentification du fournisseur d'identité et invite l'utilisateur à se connecter.</span><span class="sxs-lookup"><span data-stu-id="98d9f-151">The client browses to the IP's authentication page, and prompts the user to log on.</span></span>
4. <span data-ttu-id="98d9f-152">Une fois le client authentifié (par exemple, lorsque les informations d'identification de l'identité ont été entrées), le fournisseur d'identité émet un jeton de sécurité.</span><span class="sxs-lookup"><span data-stu-id="98d9f-152">After the client is authenticated (for example, the identity credentials are entered), the IP issues a security token.</span></span>
5. <span data-ttu-id="98d9f-153">À la suite de cela, il redirige le client vers ACS et le client envoie le jeton de sécurité (émis par le fournisseur d'identité) à ACS.</span><span class="sxs-lookup"><span data-stu-id="98d9f-153">After issuing a security token, the IP redirects the client to ACS and the client sends the security token issued by the IP to ACS.</span></span>
6. <span data-ttu-id="98d9f-154">ACS valide le jeton de sécurité émis par le fournisseur d'identité, inclut la demande d'identité de ce jeton dans le moteur de règles ACS, calcule la demande d'identité de sortie et émet un nouveau jeton de sécurité contenant ces demandes de sortie.</span><span class="sxs-lookup"><span data-stu-id="98d9f-154">ACS validates the security token issued by the IP, inputs the identity claims in this token into the ACS rules engine, calculates the output identity claims, and issues a new security token that contains these output claims.</span></span>
7. <span data-ttu-id="98d9f-155">ACS redirige le client vers la partie de confiance.</span><span class="sxs-lookup"><span data-stu-id="98d9f-155">ACS redirects the client to the RP.</span></span> <span data-ttu-id="98d9f-156">Le client envoie le nouveau jeton de sécurité émis par ACS à la partie de confiance.</span><span class="sxs-lookup"><span data-stu-id="98d9f-156">The client sends the new security token issued by ACS to the RP.</span></span> <span data-ttu-id="98d9f-157">La partie de confiance valide la signature du jeton de sécurité émis par ACS, valide les demandes du jeton et renvoie la page demandée à l'origine.</span><span class="sxs-lookup"><span data-stu-id="98d9f-157">The RP validates the signature on the security token issued by ACS, validates the claims in this token, and returns the page that was originally requested.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="98d9f-158">Composants requis</span><span class="sxs-lookup"><span data-stu-id="98d9f-158">Prerequisites</span></span>
<span data-ttu-id="98d9f-159">Pour réaliser les tâches présentées dans ce guide, vous avez besoin des éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="98d9f-159">To complete the tasks in this guide, you will need the following:</span></span>

* <span data-ttu-id="98d9f-160">Kit de développement logiciel (SDK) Java version 1.6 ou ultérieure</span><span class="sxs-lookup"><span data-stu-id="98d9f-160">A Java Developer Kit (JDK), v 1.6 or later.</span></span>
* <span data-ttu-id="98d9f-161">IDE (environnement de développement intégré) Eclipse pour développeurs Java EE, Indigo ou ultérieur,</span><span class="sxs-lookup"><span data-stu-id="98d9f-161">Eclipse IDE for Java EE Developers, Indigo or later.</span></span> <span data-ttu-id="98d9f-162">Vous pouvez le télécharger à l’adresse suivante : <http://www.eclipse.org/downloads/>.</span><span class="sxs-lookup"><span data-stu-id="98d9f-162">This can be downloaded from <http://www.eclipse.org/downloads/>.</span></span> 
* <span data-ttu-id="98d9f-163">Une distribution d'un serveur Web ou d'un serveur d'applications basé sur Java, tel que Apache Tomcat, GlassFish, JBoss Application Server ou Jetty.</span><span class="sxs-lookup"><span data-stu-id="98d9f-163">A distribution of a Java-based web server or application server, such as Apache Tomcat, GlassFish, JBoss Application Server, or Jetty.</span></span>
* <span data-ttu-id="98d9f-164">Un abonnement Azure, qui peut être obtenu à l’adresse <http://www.microsoft.com/windowsazure/offers/>.</span><span class="sxs-lookup"><span data-stu-id="98d9f-164">an Azure subscription, which can be acquired from <http://www.microsoft.com/windowsazure/offers/>.</span></span>
* <span data-ttu-id="98d9f-165">Kit de ressources Azure pour Eclipse, version d’avril 2014 ou ultérieure.</span><span class="sxs-lookup"><span data-stu-id="98d9f-165">The Azure Toolkit for Eclipse, April 2014 release or later.</span></span> <span data-ttu-id="98d9f-166">Pour plus d’informations, consultez [Installation du kit de ressources Azure pour Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690946.aspx).</span><span class="sxs-lookup"><span data-stu-id="98d9f-166">For more information, see [Installing the Azure Toolkit for Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690946.aspx).</span></span>
* <span data-ttu-id="98d9f-167">Un certificat X509 à utiliser avec votre application.</span><span class="sxs-lookup"><span data-stu-id="98d9f-167">An X.509 certificate to use with your application.</span></span> <span data-ttu-id="98d9f-168">Vous avez besoin du certificat public (.cer) et de celui au format Personal Information Exchange (.PFX)</span><span class="sxs-lookup"><span data-stu-id="98d9f-168">You will need this certificate in both public certificate (.cer) and Personal Information Exchange (.PFX) format.</span></span> <span data-ttu-id="98d9f-169">(les instructions de création de ce certificat sont indiquées plus loin dans ce didacticiel).</span><span class="sxs-lookup"><span data-stu-id="98d9f-169">(Options for creating this certificate will be described later in this tutorial).</span></span>
* <span data-ttu-id="98d9f-170">Vous devez connaître l'émulateur de calcul Azure ainsi que les techniques de déploiement présentées dans la page [Création d'une application Hello World pour Azure dans Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx).</span><span class="sxs-lookup"><span data-stu-id="98d9f-170">Familiarity with the Azure compute emulator and deployment techniques discussed at [Creating a Hello World Application for Azure in Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx).</span></span>

## <a name="create-an-acs-namespace"></a><span data-ttu-id="98d9f-171">Création d'un espace de noms ACS</span><span class="sxs-lookup"><span data-stu-id="98d9f-171">Create an ACS Namespace</span></span>
<span data-ttu-id="98d9f-172">Pour commencer à utiliser ACS dans Azure, vous devez créer un espace de noms ACS.</span><span class="sxs-lookup"><span data-stu-id="98d9f-172">To begin using Access Control Service (ACS) in Azure, you must create an ACS namespace.</span></span> <span data-ttu-id="98d9f-173">L'espace de noms fournit une étendue unique pour l'adressage des ressources ACS au sein de votre application.</span><span class="sxs-lookup"><span data-stu-id="98d9f-173">The namespace provides a unique scope for addressing ACS resources from within your application.</span></span>

1. <span data-ttu-id="98d9f-174">Connectez-vous au [portail de gestion Azure][Azure Management Portal].</span><span class="sxs-lookup"><span data-stu-id="98d9f-174">Log into the [Azure Management Portal][Azure Management Portal].</span></span>
2. <span data-ttu-id="98d9f-175">Cliquez sur **Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-175">Click **Active Directory**.</span></span> 
3. <span data-ttu-id="98d9f-176">Pour créer un espace de noms ACS, cliquez sur **New**, sur **App Services**, sur **Access Control**, puis sur **Quick Create**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-176">To create a new Access Control namespace, click **New**, click **App Services**, click **Access Control**, and then click **Quick Create**.</span></span> 
4. <span data-ttu-id="98d9f-177">Entrez le nom de l'espace de noms.</span><span class="sxs-lookup"><span data-stu-id="98d9f-177">Enter a name for the namespace.</span></span> <span data-ttu-id="98d9f-178">Azure vérifie que le nom est unique.</span><span class="sxs-lookup"><span data-stu-id="98d9f-178">Azure verifies that the name is unique.</span></span>
5. <span data-ttu-id="98d9f-179">Sélectionnez la région dans laquelle l'espace de noms sera utilisé.</span><span class="sxs-lookup"><span data-stu-id="98d9f-179">Select the region in which the namespace is used.</span></span> <span data-ttu-id="98d9f-180">Pour obtenir des performances optimales, sélectionnez la zone géographique dans laquelle vous déployez l'application.</span><span class="sxs-lookup"><span data-stu-id="98d9f-180">For the best performance, use the region in which you are deploying your application.</span></span>
6. <span data-ttu-id="98d9f-181">Si vous avez plusieurs abonnements, sélectionnez celui que vous souhaitez utiliser pour l’espace de noms ACS.</span><span class="sxs-lookup"><span data-stu-id="98d9f-181">If you have more than one subscription, select the subscription that you want to use for the ACS namespace.</span></span>
7. <span data-ttu-id="98d9f-182">Cliquez sur **Create**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-182">Click **Create**.</span></span>

<span data-ttu-id="98d9f-183">Azure crée et active l'espace de noms.</span><span class="sxs-lookup"><span data-stu-id="98d9f-183">Azure creates and activates the namespace.</span></span> <span data-ttu-id="98d9f-184">Patientez jusqu’à ce que l’état du nouvel espace de noms soit **Active** avant de continuer.</span><span class="sxs-lookup"><span data-stu-id="98d9f-184">Wait until the status of the new namespace is **Active** before continuing.</span></span> 

## <a name="add-identity-providers"></a><span data-ttu-id="98d9f-185">Ajout de fournisseurs d'identité</span><span class="sxs-lookup"><span data-stu-id="98d9f-185">Add identity providers</span></span>
<span data-ttu-id="98d9f-186">Cette tâche vous permet d'ajouter des fournisseurs d'identité à utiliser avec votre application par partie de confiance pour réaliser les tâches d'authentification.</span><span class="sxs-lookup"><span data-stu-id="98d9f-186">In this task, you add IPs to use with your RP application for authentication.</span></span> <span data-ttu-id="98d9f-187">Pour l'exemple, cette tâche vous indique comment ajouter Windows Live comme fournisseur d'identité, mais il est possible d'utiliser tous les fournisseurs répertoriés dans le portail de gestion ACS.</span><span class="sxs-lookup"><span data-stu-id="98d9f-187">For demonstration purposes, this task shows how to add Windows Live as an IP, but you could use any of the IPs listed in the ACS Management Portal.</span></span>

1. <span data-ttu-id="98d9f-188">Dans le [portail de gestion Azure][Azure Management Portal], cliquez sur **Active Directory**, sélectionnez un espace de noms de contrôle d'accès, puis cliquez sur **Gérer**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-188">In the [Azure Management Portal][Azure Management Portal], click **Active Directory**, select an Access Control namespace, and then click **Manage**.</span></span> <span data-ttu-id="98d9f-189">Le portail de gestion ACS s'ouvre.</span><span class="sxs-lookup"><span data-stu-id="98d9f-189">The ACS Management Portal opens.</span></span>
2. <span data-ttu-id="98d9f-190">Dans le volet de navigation gauche du portail de gestion ACS, cliquez sur **Identity providers**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-190">In the left navigation pane of the ACS Management Portal, click **Identity providers**.</span></span>
3. <span data-ttu-id="98d9f-191">Windows Live ID est activé par défaut. Il n'est pas possible de le supprimer.</span><span class="sxs-lookup"><span data-stu-id="98d9f-191">Windows Live ID is enabled by default, and cannot be deleted.</span></span> <span data-ttu-id="98d9f-192">Dans le cadre de ce didacticiel, seul Windows Live ID est utilisé.</span><span class="sxs-lookup"><span data-stu-id="98d9f-192">For purposes of this tutorial, only Windows Live ID is used.</span></span> <span data-ttu-id="98d9f-193">C'est toutefois sur cet écran qu'il est possible d'ajouter d'autres fournisseurs d'identité, en cliquant sur le bouton **Add**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-193">This screen, however, is where you could add other IPs, by clicking the **Add** button.</span></span>

<span data-ttu-id="98d9f-194">Windows Live ID est maintenant activé comme fournisseur d'identité pour votre espace de noms ACS.</span><span class="sxs-lookup"><span data-stu-id="98d9f-194">Windows Live ID is now enabled as an IP for your ACS namespace.</span></span> <span data-ttu-id="98d9f-195">Ensuite, spécifiez votre application Web Java (qui sera créée ultérieurement) comme partie de confiance.</span><span class="sxs-lookup"><span data-stu-id="98d9f-195">Next, you specify your Java web application (to be created later) as an RP.</span></span>

## <a name="add-a-relying-party-application"></a><span data-ttu-id="98d9f-196">Ajout d'une application par partie de confiance</span><span class="sxs-lookup"><span data-stu-id="98d9f-196">Add a relying party application</span></span>
<span data-ttu-id="98d9f-197">Cette tâche vise à configurer ACS afin que votre application Web Java soit reconnue comme application par partie de confiance valide.</span><span class="sxs-lookup"><span data-stu-id="98d9f-197">In this task, you configure ACS to recognize your Java web application as a valid RP application.</span></span>

1. <span data-ttu-id="98d9f-198">Dans le portail de gestion ACS, cliquez sur **Relying party applications**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-198">On the ACS Management Portal, click **Relying party applications**.</span></span>
2. <span data-ttu-id="98d9f-199">Sur la page **Relying Party Applications**, cliquez sur **Add**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-199">On the **Relying Party Applications** page, click **Add**.</span></span>
3. <span data-ttu-id="98d9f-200">Effectuez les actions suivantes sur la page **Add Relying Party Application** :</span><span class="sxs-lookup"><span data-stu-id="98d9f-200">On the **Add Relying Party Application** page, do the following:</span></span>
   
   1. <span data-ttu-id="98d9f-201">Dans **Name**, entrez le nom de la partie de confiance.</span><span class="sxs-lookup"><span data-stu-id="98d9f-201">In **Name**, type the name of the RP.</span></span> <span data-ttu-id="98d9f-202">Pour suivre l'exemple de ce didacticiel, entrez **Azure Web App**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-202">For purposes of this tutorial, type **Azure Web App**.</span></span>
   2. <span data-ttu-id="98d9f-203">Dans **Mode**, sélectionnez **Enter settings manually**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-203">In **Mode**, select **Enter settings manually**.</span></span>
   3. <span data-ttu-id="98d9f-204">Sous **Realm**, entrez l'URI auquel s'applique le jeton de sécurité émis par ACS.</span><span class="sxs-lookup"><span data-stu-id="98d9f-204">In **Realm**, type the URI to which the security token issued by ACS applies.</span></span> <span data-ttu-id="98d9f-205">Pour suivre notre exemple, entrez **http://localhost:8080/**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-205">For this task, type **http://localhost:8080/**.</span></span>
      <span data-ttu-id="98d9f-206">![Domaine de partie de confiance à utiliser dans l'émulateur de calcul][relying_party_realm_emulator]</span><span class="sxs-lookup"><span data-stu-id="98d9f-206">![Relying party realm for use in compute emulator][relying_party_realm_emulator]</span></span>
   4. <span data-ttu-id="98d9f-207">Sous **Return URL** , entrez l'adresse URL vers laquelle ACS renvoie le jeton de sécurité.</span><span class="sxs-lookup"><span data-stu-id="98d9f-207">In **Return URL,** type the URL to which ACS returns the security token.</span></span> <span data-ttu-id="98d9f-208">Dans le cas présent, entrez **http://localhost:8080/MyACSHelloWorld/index.jsp**
      ![URL de retour vers partie de confiance pour utilisation dans l'émulateur de calcul][relying_party_return_url_emulator]</span><span class="sxs-lookup"><span data-stu-id="98d9f-208">For this task, type **http://localhost:8080/MyACSHelloWorld/index.jsp**
![Relying party return URL for use in compute emulator][relying_party_return_url_emulator]</span></span>
   5. <span data-ttu-id="98d9f-209">Acceptez les valeurs par défaut dans les autres champs.</span><span class="sxs-lookup"><span data-stu-id="98d9f-209">Accept the default values in the rest of the fields.</span></span>
4. <span data-ttu-id="98d9f-210">Cliquez sur **Save**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-210">Click **Save**.</span></span>

<span data-ttu-id="98d9f-211">Votre application Web Java est maintenant correctement configurée pour fonctionner avec l'émulateur de calcul Azure (à l'adresse http://localhost:8080/). Elle est considérée comme une partie de confiance dans votre espace de noms ACS.</span><span class="sxs-lookup"><span data-stu-id="98d9f-211">You have now successfully configured your Java web application when it is run in the Azure compute emulator (at http://localhost:8080/) to be an RP in your ACS namespace.</span></span> <span data-ttu-id="98d9f-212">Il vous faut ensuite créer les règles utilisées par ACS pour traiter les demandes pour la partie de confiance.</span><span class="sxs-lookup"><span data-stu-id="98d9f-212">Next, create the rules that ACS uses to process claims for the RP.</span></span>

## <a name="create-rules"></a><span data-ttu-id="98d9f-213">Création de règles</span><span class="sxs-lookup"><span data-stu-id="98d9f-213">Create rules</span></span>
<span data-ttu-id="98d9f-214">Au cours de cette tâche, vous allez définir les règles qui définissent comment les demandes sont transmises de vos fournisseurs d'identité à votre partie de confiance.</span><span class="sxs-lookup"><span data-stu-id="98d9f-214">In this task, you define the rules that drive how claims are passed from IPs to your RP.</span></span> <span data-ttu-id="98d9f-215">Dans l'exemple suivi pour ce didacticiel, nous allons simplement configurer une règle pour indiquer à ACS de copier les types et valeurs de demandes entrantes directement dans le jeton de sortie, sans effectuer de filtrage ni apporter de modifications.</span><span class="sxs-lookup"><span data-stu-id="98d9f-215">For the purpose of this guide, we will simply configure ACS to copy the input claim types and values directly in the output token, without filtering or modifying them.</span></span>

1. <span data-ttu-id="98d9f-216">Sur la page principale du portail de gestion ACS, cliquez sur **Rule groups**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-216">On the ACS Management Portal main page, click **Rule groups**.</span></span>
2. <span data-ttu-id="98d9f-217">Sur la page **Rule Groups**, cliquez sur **Default Rule Group for Azure Web App**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-217">On the **Rule Groups** page, click **Default Rule Group for Azure Web App**.</span></span>
3. <span data-ttu-id="98d9f-218">Sur la page **Edit Rule Group**, cliquez sur **Generate**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-218">On the **Edit Rule Group** page, click **Generate**.</span></span>
4. <span data-ttu-id="98d9f-219">Sur la page**Generate Rules: Default Rule Group for Azure Web App**, assurez-vous que Windows Live ID est coché, puis cliquez sur **Generate**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-219">On the **Generate Rules: Default Rule Group for Azure Web App** page, ensure Windows Live ID is checked and then click **Generate**.</span></span>    
5. <span data-ttu-id="98d9f-220">Sur la page **Edit Rule Group**, cliquez sur **Save**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-220">On the **Edit Rule Group** page, click **Save**.</span></span>

## <a name="upload-a-certificate-to-your-acs-namespace"></a><span data-ttu-id="98d9f-221">Téléchargement d'un certificat vers votre espace de noms ACS</span><span class="sxs-lookup"><span data-stu-id="98d9f-221">Upload a certificate to your ACS namespace</span></span>
<span data-ttu-id="98d9f-222">Au cours de cette tâche, vous allez télécharger un certificat .PFX qui sera utilisé pour signer les demandes de jetons créées par l'espace de noms ACS.</span><span class="sxs-lookup"><span data-stu-id="98d9f-222">In this task, you upload a .PFX certificate that will be used to sign token requests created by your ACS namespace.</span></span>

1. <span data-ttu-id="98d9f-223">Sur la page principale du portail de gestion ACS, cliquez sur **Certificates and keys**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-223">On the ACS Management Portal main page, click **Certificates and keys**.</span></span>
2. <span data-ttu-id="98d9f-224">Sur la page **Certificates and Keys**, cliquez sur **Add** au-dessus de **Token Signing**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-224">On the **Certificates and Keys** page, click **Add** above **Token Signing**.</span></span>
3. <span data-ttu-id="98d9f-225">Sur la page **Add Token-Signing Certificate or Key** :</span><span class="sxs-lookup"><span data-stu-id="98d9f-225">On the **Add Token-Signing Certificate or Key** page:</span></span>
   1. <span data-ttu-id="98d9f-226">Dans la section **Used for**, cliquez sur **Relying Party Application**, puis sélectionnez **Azure Web App** (que vous avez précédemment défini comme nom de votre application de partie de confiance).</span><span class="sxs-lookup"><span data-stu-id="98d9f-226">In the **Used for** section, click **Relying Party Application** and select **Azure Web App** (which you previously set as the name of your relying party application).</span></span>
   2. <span data-ttu-id="98d9f-227">Dans la section **Type**, sélectionnez **X.509 Certificate**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-227">In the **Type** section, select **X.509 Certificate**.</span></span>
   3. <span data-ttu-id="98d9f-228">Dans la section **Certificate** , cliquez sur le bouton Parcourir, puis accédez au fichier de certificat X.509 que vous souhaitez utiliser.</span><span class="sxs-lookup"><span data-stu-id="98d9f-228">In the **Certificate** section, click the browse button and navigate to the X.509 certificate file that you want to use.</span></span> <span data-ttu-id="98d9f-229">Il s'agit d'un fichier .PFX.</span><span class="sxs-lookup"><span data-stu-id="98d9f-229">This will be a .PFX file.</span></span> <span data-ttu-id="98d9f-230">Sélectionnez le fichier, cliquez sur **Open**, puis saisissez le mot de passe du certificat dans la zone **Password**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-230">Select the file, click **Open**,  and then enter the certificate password in the **Password** text box.</span></span> <span data-ttu-id="98d9f-231">Dans le cadre d'un test, vous pouvez utiliser un certificat auto-signé.</span><span class="sxs-lookup"><span data-stu-id="98d9f-231">Note that for testing purposes, you may use a self-signed-certificate.</span></span> <span data-ttu-id="98d9f-232">Pour créer un certificat auto-signé, dans la boîte de dialogue **ACS Filter Library** (qui sera décrite ultérieurement), appuyez sur le bouton **Nouveau** ou servez-vous de l’utilitaire **encutil.exe** présent sur le [site web du projet][project website] de kit de démarrage Azure pour Java.</span><span class="sxs-lookup"><span data-stu-id="98d9f-232">To create a self-signed certificate, use the **New** button in the **ACS Filter Library** dialog (described later), or use the **encutil.exe** utility from the [project website][project website] of the Azure Starter Kit for Java.</span></span>
   4. <span data-ttu-id="98d9f-233">Vérifiez que **Make Primary** est sélectionné.</span><span class="sxs-lookup"><span data-stu-id="98d9f-233">Ensure that **Make Primary** is checked.</span></span> <span data-ttu-id="98d9f-234">Votre page **Ajouter un certificat ou une clé de signature de jetons** doit être similaire à celle-ci.</span><span class="sxs-lookup"><span data-stu-id="98d9f-234">Your **Add Token-Signing Certificate or Key** page should look similar to the following.</span></span>
       <span data-ttu-id="98d9f-235">![Ajouter un certificat de signature de jeton][add_token_signing_cert]</span><span class="sxs-lookup"><span data-stu-id="98d9f-235">![Add token-signing certificate][add_token_signing_cert]</span></span>
   5. <span data-ttu-id="98d9f-236">Cliquez sur **Save** pour enregistrer vos paramètres et fermer la page **Add Token-Signing Certificate or Key**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-236">Click **Save** to save your settings and close the **Add Token-Signing Certificate or Key** page.</span></span>

<span data-ttu-id="98d9f-237">Vérifiez ensuite les informations contenues dans la page d'intégration de l'application, puis copiez l'URI. Il vous permettra de configurer votre application Web Java afin qu'elle utilise ACS.</span><span class="sxs-lookup"><span data-stu-id="98d9f-237">Next, review the information in the Application Integration page and copy the URI that you will need to configure your Java web application to use ACS.</span></span>

## <a name="review-the-application-integration-page"></a><span data-ttu-id="98d9f-238">Vérification de la page d'intégration d'application</span><span class="sxs-lookup"><span data-stu-id="98d9f-238">Review the Application Integration page</span></span>
<span data-ttu-id="98d9f-239">Vous pouvez trouver toutes les informations et les codes nécessaires à la configuration de votre application Web Java (application par partie de confiance) afin qu'elle fonctionne avec ACS sur la page d'intégration d'application du portail de gestion ACS.</span><span class="sxs-lookup"><span data-stu-id="98d9f-239">You can find all the information and the code necessary to configure your Java web application (the RP application) to work with ACS on the Application Integration page of the ACS Management Portal.</span></span> <span data-ttu-id="98d9f-240">Ces informations sont nécessaires pour la configuration de votre application Web Java et l'authentification fédérée.</span><span class="sxs-lookup"><span data-stu-id="98d9f-240">You will need this information when configuring your Java web application for federated authentication.</span></span>

1. <span data-ttu-id="98d9f-241">Dans le portail de gestion ACS, cliquez sur **Application integration**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-241">On the ACS Management Portal, click **Application integration**.</span></span>  
2. <span data-ttu-id="98d9f-242">Sur la page **Application Integration**, cliquez sur **Login Pages**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-242">In the **Application Integration** page, click **Login Pages**.</span></span>
3. <span data-ttu-id="98d9f-243">Sur la page **Login Page Integration**, cliquez sur **Azure Web App**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-243">In the **Login Page Integration** page, click **Azure Web App**.</span></span>

<span data-ttu-id="98d9f-244">Dans la page **Login Page Integration : Azure Web App**, l'URL répertoriée dans **Option 1 : lien vers une page de connexion hébergée par ACS** sera utilisée dans votre application web Java.</span><span class="sxs-lookup"><span data-stu-id="98d9f-244">In the **Login Page Integration: Azure Web App** page, the URL listed in **Option 1: Link to an ACS-hosted login page** will be used in your Java web application.</span></span> <span data-ttu-id="98d9f-245">Cette valeur doit être indiquée lors de l'ajout de la bibliothèque de filtres ACS Azure à votre application Java.</span><span class="sxs-lookup"><span data-stu-id="98d9f-245">You will need this value when you add the Azure Access Control Services Filter library to your Java application.</span></span>

## <a name="create-a-java-web-application"></a><span data-ttu-id="98d9f-246">Création d'une application web Java</span><span class="sxs-lookup"><span data-stu-id="98d9f-246">Create a Java web application</span></span>
1. <span data-ttu-id="98d9f-247">Dans le menu d'Eclipse, cliquez sur **File**, sur **New**, puis sur **Dynamic Web Project**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-247">Within Eclipse, at the menu click **File**, click **New**, and then click **Dynamic Web Project**.</span></span> <span data-ttu-id="98d9f-248">(Si vous ne voyez pas **Dynamic Web Project** (Projet Web dynamique) répertorié en tant que projet disponible après avoir cliqué sur **File** (Fichier), **New** (Nouveau), procédez comme suit : cliquez sur **File** (Fichier), cliquez sur **New** (Nouveau), sur **Project** (Projet), développez **Web**, puis cliquez sur **Dynamic Web Project** (Projet Web dynamique), puis sur **Next** (Suivant).) Pour l'exemple de ce didacticiel, nommez votre projet **MyACSHelloWorld**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-248">(If you don't see **Dynamic Web Project** listed as an available project after clicking **File**, **New**, then do the following: click **File**, click **New**, click **Project**, expand **Web**, click **Dynamic Web Project**, and click **Next**.) For purposes of this tutorial, name the project **MyACSHelloWorld**.</span></span> <span data-ttu-id="98d9f-249">Assurez-vous de bien utiliser ce nom, les étapes suivantes du didacticiel partent du principe que votre fichier WAR se nomme MyACSHelloWorld.</span><span class="sxs-lookup"><span data-stu-id="98d9f-249">(Ensure you use this name, subsequent steps in this tutorial expect your WAR file to be named MyACSHelloWorld).</span></span> <span data-ttu-id="98d9f-250">Votre écran se présente comme suit :</span><span class="sxs-lookup"><span data-stu-id="98d9f-250">Your screen will appear similar to the following:</span></span>
   
    ![Créer un projet Hello World pour l'exemple ACS][create_acs_hello_world]
   
    <span data-ttu-id="98d9f-252">Cliquez sur **Terminer**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-252">Click **Finish**.</span></span>
2. <span data-ttu-id="98d9f-253">Dans la vue de l'Explorateur de projets Eclipse, développez **MyACSHelloWorld**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-253">Within Eclipse's Project Explorer view, expand **MyACSHelloWorld**.</span></span> <span data-ttu-id="98d9f-254">Cliquez avec le bouton droit sur **WebContent**, cliquez sur **New (Nouveau)**, puis sur **JSP File (Fichier JSP)**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-254">Right-click **WebContent**, click **New**, and then click **JSP File**.</span></span>
3. <span data-ttu-id="98d9f-255">Dans la boîte de dialogue **New JSP File** (Nouveau fichier JSP), nommez le fichier **index.jsp**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-255">In the **New JSP File** dialog, name the file **index.jsp**.</span></span> <span data-ttu-id="98d9f-256">Conservez MyACSHelloWorld/WebContent comme dossier parent, comme illustré ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="98d9f-256">Keep the parent folder as MyACSHelloWorld/WebContent, as shown in the following:</span></span>
   
    ![Ajouter un fichier JSP pour l'exemple ACS][add_jsp_file_acs]
   
    <span data-ttu-id="98d9f-258">Cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-258">Click **Next**.</span></span>
4. <span data-ttu-id="98d9f-259">Dans la boîte de dialogue **Select JSP Template**, sélectionnez **New JSP File (html)**, puis cliquez sur **Terminer**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-259">In the **Select JSP Template** dialog, select **New JSP File (html)** and click **Finish**.</span></span>
5. <span data-ttu-id="98d9f-260">Quand le fichier index.jsp s’ouvre dans Eclipse, ajoutez du texte pour que **Hello ACS World!** s’affiche</span><span class="sxs-lookup"><span data-stu-id="98d9f-260">When the index.jsp file opens in Eclipse, add in text to display **Hello ACS World!**</span></span> <span data-ttu-id="98d9f-261">dans l’élément `<body>` existant.</span><span class="sxs-lookup"><span data-stu-id="98d9f-261">within the existing `<body>` element.</span></span> <span data-ttu-id="98d9f-262">Le contenu `<body>` mis à jour doit se présenter de la façon suivante :</span><span class="sxs-lookup"><span data-stu-id="98d9f-262">Your updated `<body>` content should appear as the following:</span></span>
   
        <body>
          <b><% out.println("Hello ACS World!"); %></b>
        </body>
   
    <span data-ttu-id="98d9f-263">Enregistrez index.jsp.</span><span class="sxs-lookup"><span data-stu-id="98d9f-263">Save index.jsp.</span></span>

## <a name="add-the-acs-filter-library-to-your-application"></a><span data-ttu-id="98d9f-264">Ajout de la bibliothèque de filtres ACS à votre application</span><span class="sxs-lookup"><span data-stu-id="98d9f-264">Add the ACS Filter library to your application</span></span>
1. <span data-ttu-id="98d9f-265">Dans l'Explorateur de projets Eclipse, cliquez avec le bouton droit sur **MyACSHelloWorld**, cliquez sur **Build Path**, puis sur **Configure Build Path**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-265">In Eclipse's Project Explorer, right-click **MyACSHelloWorld**, click **Build Path**, and then click **Configure Build Path**.</span></span>
2. <span data-ttu-id="98d9f-266">Dans la boîte de dialogue **Java Build Path**, cliquez sur l'onglet **Libraries**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-266">In the **Java Build Path** dialog, click the **Libraries** tab.</span></span>
3. <span data-ttu-id="98d9f-267">Cliquez sur **Add Library**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-267">Click **Add Library**.</span></span>
4. <span data-ttu-id="98d9f-268">Cliquez sur **Azure Access Control Services Filter (by MS Open Tech)**, puis sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-268">Click **Azure Access Control Services Filter (by MS Open Tech)** and then click **Next**.</span></span> <span data-ttu-id="98d9f-269">La boîte de dialogue **Azure Access Control Services Filter** s'affiche.</span><span class="sxs-lookup"><span data-stu-id="98d9f-269">The **Azure Access Control Services Filter** dialog is displayed.</span></span>  <span data-ttu-id="98d9f-270">(Un chemin différent peut être indiqué pour le champ **Location**, en fonction de l'emplacement d'installation d'Eclipse. Le numéro de version peut également être différent en fonction des mises à jour logicielles.)</span><span class="sxs-lookup"><span data-stu-id="98d9f-270">(The **Location** field may have a different path, depending on where you installed Eclipse, and the version number could be different, depending on software updates.)</span></span>
   
    ![Ajouter la bibliothèque de filtres ACS][add_acs_filter_lib]
5. <span data-ttu-id="98d9f-272">En utilisant un navigateur ouvert sur la page **Login Page Integration** du Portail de gestion, copiez l'URL indiquée dans le champ **Option 1 : lien vers une page de connexion hébergée par ACS** et collez-la dans le champ **ACS Authentication Endpoint** de la boîte de dialogue Eclipse.</span><span class="sxs-lookup"><span data-stu-id="98d9f-272">Using a browser opened to the **Login Page Integration** page of the Management Portal, copy the URL listed in the **Option 1: Link to an ACS-hosted login page** field and paste it into the **ACS Authentication Endpoint** field of the Eclipse dialog.</span></span>
6. <span data-ttu-id="98d9f-273">En utilisant un navigateur ouvert sur la page **Edit Relying Party Application** du portail de gestion, copiez l'URL indiquée dans le champ **Realm**, puis collez-la dans le champ **Relying Party Realm** de la boîte de dialogue Eclipse.</span><span class="sxs-lookup"><span data-stu-id="98d9f-273">Using a browser opened to the **Edit Relying Party Application** page of the Management Portal, copy the URL listed in the **Realm** field and paste it into the **Relying Party Realm** field of the Eclipse dialog.</span></span>
7. <span data-ttu-id="98d9f-274">Dans la section **Security** de la boîte de dialogue Eclipse, si vous souhaitez utiliser un certificat existant, cliquez sur **Browse**, accédez au certificat souhaité, sélectionnez-le, puis cliquez sur **Open**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-274">Within the **Security** section of the Eclipse dialog, if you want to use an existing certificate, click **Browse**, navigate to the certificate you want to use, select it, and click **Open**.</span></span> <span data-ttu-id="98d9f-275">Si vous préférez créer un certificat, cliquez sur **New** pour afficher la boîte de dialogue **New Certificate**, puis indiquez le mot de passe, le nom du fichier.cer et celui du fichier .pfx pour le nouveau certificat.</span><span class="sxs-lookup"><span data-stu-id="98d9f-275">Or, if you want to create a new certificate, click **New** to display the **New Certificate** dialog, then specify the password, name of the .cer file, and name of the .pfx file for the new certificate.</span></span>
8. <span data-ttu-id="98d9f-276">Activez la case à cocher **Embed the certificate in the WAR file**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-276">Check **Embed the certificate in the WAR file**.</span></span> <span data-ttu-id="98d9f-277">Intégrer le certificat de cette façon permet de l'inclure dans votre déploiement sans avoir besoin de l'ajouter manuellement comme composant.</span><span class="sxs-lookup"><span data-stu-id="98d9f-277">Embedding the certificate in this manner includes it in your deployment without requiring you to manually add it as a component.</span></span> <span data-ttu-id="98d9f-278">Si vous devez stocker votre certificat en externe depuis votre fichier WAR, vous pouvez ajouter le certificat en tant que rôle et désactiver la case à cocher **Embed the certificate in the WAR file**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-278">(If instead you must store your certificate externally from your WAR file, you could add the certificate as a role component and uncheck **Embed the certificate in the WAR file**.)</span></span>
9. <span data-ttu-id="98d9f-279">[Facultatif] Laissez la case à cocher **Require HTTPS connections** activée.</span><span class="sxs-lookup"><span data-stu-id="98d9f-279">[Optional] Keep **Require HTTPS connections** checked.</span></span> <span data-ttu-id="98d9f-280">Si vous activez cette option, vous devrez accéder à votre application via le protocole HTTPS.</span><span class="sxs-lookup"><span data-stu-id="98d9f-280">If you set this option, you'll need to access your application using the HTTPS protocol.</span></span> <span data-ttu-id="98d9f-281">Si vous ne souhaitez pas utiliser de connexions HTTPS, désélectionnez cette option.</span><span class="sxs-lookup"><span data-stu-id="98d9f-281">If you don't want to require HTTPS connections, uncheck this option.</span></span>
10. <span data-ttu-id="98d9f-282">Pour un déploiement vers l'émulateur de calcul, vos paramètres **Azure ACS Filter** doivent être similaires à l'exemple ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="98d9f-282">For a deployment to the compute emulator, your **Azure ACS Filter** settings will look similar to the following.</span></span>
    
    ![Paramètres de filtre ACS Azure pour un déploiement sur l'émulateur de calcul][add_acs_filter_lib_emulator]
11. <span data-ttu-id="98d9f-284">Cliquez sur **Terminer**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-284">Click **Finish**.</span></span>
12. <span data-ttu-id="98d9f-285">Cliquez sur **Yes** dans la boîte de dialogue indiquant qu'un fichier web.xml va être créé.</span><span class="sxs-lookup"><span data-stu-id="98d9f-285">Click **Yes** when presented with with a dialog box stating that a web.xml file will be created.</span></span>
13. <span data-ttu-id="98d9f-286">Cliquez sur **OK** pour fermer la boîte de dialogue **Java Build Path**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-286">Click **OK** to close the **Java Build Path** dialog.</span></span>

## <a name="deploy-to-the-compute-emulator"></a><span data-ttu-id="98d9f-287">Déploiement de l'émulateur de calcul</span><span class="sxs-lookup"><span data-stu-id="98d9f-287">Deploy to the compute emulator</span></span>
1. <span data-ttu-id="98d9f-288">Dans l'Explorateur de projets Eclipse, cliquez avec le bouton droit sur **MyACSHelloWorld**, cliquez sur **Azure**, puis sur **Package for Azure**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-288">In Eclipse's Project Explorer, right-click **MyACSHelloWorld**, click **Azure**, and then click **Package for Azure**.</span></span>
2. <span data-ttu-id="98d9f-289">Dans **Project name**, entrez **MyAzureACSProject**, puis cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-289">For **Project name**, type **MyAzureACSProject** and click **Next**.</span></span>
3. <span data-ttu-id="98d9f-290">Sélectionnez un JDK et un serveur d'applications.</span><span class="sxs-lookup"><span data-stu-id="98d9f-290">Select a JDK and application server.</span></span> <span data-ttu-id="98d9f-291">Ces étapes sont détaillées dans le didacticiel [Création d'une application Hello World pour Azure dans Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) .</span><span class="sxs-lookup"><span data-stu-id="98d9f-291">(These steps are covered in detail in the [Creating a Hello World Application for Azure in Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) tutorial).</span></span>
4. <span data-ttu-id="98d9f-292">Cliquez sur **Terminer**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-292">Click **Finish**.</span></span>
5. <span data-ttu-id="98d9f-293">Cliquez sur le bouton **Run in Azure Emulator** .</span><span class="sxs-lookup"><span data-stu-id="98d9f-293">Click the **Run in Azure Emulator** button.</span></span>
6. <span data-ttu-id="98d9f-294">Lorsque votre application Web Java est lancée dans l'émulateur de calcul, fermez toutes les instances de votre navigateur (afin qu'aucune session de navigateur ne puisse perturber votre test de connexion à ACS).</span><span class="sxs-lookup"><span data-stu-id="98d9f-294">After your Java web application starts in the compute emulator, close all instances of your browser (so that any current browser sessions do not interfere with your ACS login test).</span></span>
7. <span data-ttu-id="98d9f-295">Exécutez votre application en ouvrant <http://localhost:8080/MyACSHelloWorld/> dans votre navigateur (ou <https://localhost:8080/MyACSHelloWorld/> si vous avez activé la case à cocher **Require HTTPS connections**).</span><span class="sxs-lookup"><span data-stu-id="98d9f-295">Run your application by opening <http://localhost:8080/MyACSHelloWorld/> in your browser (or <https://localhost:8080/MyACSHelloWorld/> if you checked **Require HTTPS connections**).</span></span> <span data-ttu-id="98d9f-296">Un identifiant Windows Live ID vous est normalement demandé, puis vous êtes transféré vers l'URL de renvoi spécifiée dans votre application par partie de confiance.</span><span class="sxs-lookup"><span data-stu-id="98d9f-296">You should be prompted for a Windows Live ID login, then you should be taken to the return URL specified for your relying party application.</span></span>
8. <span data-ttu-id="98d9f-297">Lorsque vous avez terminé d'afficher votre application, cliquez sur le bouton **Reset Azure Emulator** .</span><span class="sxs-lookup"><span data-stu-id="98d9f-297">When you have finished viewing your application, click the **Reset Azure Emulator** button.</span></span>

## <a name="deploy-to-azure"></a><span data-ttu-id="98d9f-298">Déployer dans Azure</span><span class="sxs-lookup"><span data-stu-id="98d9f-298">Deploy to Azure</span></span>
<span data-ttu-id="98d9f-299">Pour effectuer un déploiement sur Azure, vous devez changer le domaine de partie de confiance et l'URL de renvoi de votre espace de noms.</span><span class="sxs-lookup"><span data-stu-id="98d9f-299">To deploy to Azure, you'll need to change the relying party realm and return URL for your ACS namespace.</span></span>

1. <span data-ttu-id="98d9f-300">Dans le portail de gestion Azure, sur la page **Edit Relying Party Application**, modifiez **Realm** et entrez l'URL de votre site déployé.</span><span class="sxs-lookup"><span data-stu-id="98d9f-300">Within the Azure Management Portal, in the **Edit Relying Party Application** page, modify **Realm** to be the URL of your deployed site.</span></span> <span data-ttu-id="98d9f-301">Remplacez **example** par le nom DNS spécifié lors du déploiement.</span><span class="sxs-lookup"><span data-stu-id="98d9f-301">Replace **example** with the DNS name you specified for your deployment.</span></span>
   
    ![Domaine de partie de confiance à utiliser en production][relying_party_realm_production]
2. <span data-ttu-id="98d9f-303">Modifiez la valeur **Return URL** et entrez l'URL de votre application.</span><span class="sxs-lookup"><span data-stu-id="98d9f-303">Modify **Return URL** to be the URL of your application.</span></span> <span data-ttu-id="98d9f-304">Remplacez **example** par le nom DNS spécifié lors du déploiement.</span><span class="sxs-lookup"><span data-stu-id="98d9f-304">Replace **example** with the DNS name you specified for your deployment.</span></span>
   
    ![URL de renvoi de partie de confiance à utiliser en production][relying_party_return_url_production]
3. <span data-ttu-id="98d9f-306">Cliquez sur **Save** pour enregistrer les modifications apportées au domaine de partie de confiance et à l'URL de renvoi.</span><span class="sxs-lookup"><span data-stu-id="98d9f-306">Click **Save** to save your updated replying party realm and return URL changes.</span></span>
4. <span data-ttu-id="98d9f-307">Laissez la page **Login Page Integration** ouverte dans votre navigateur, car vous allez avoir besoin de copier certaines données qui s'y trouvent.</span><span class="sxs-lookup"><span data-stu-id="98d9f-307">Keep the **Login Page Integration** page open in your browser, you'll need to copy from it shortly.</span></span>
5. <span data-ttu-id="98d9f-308">Dans l'Explorateur de projets Eclipse, cliquez avec le bouton droit sur **MyACSHelloWorld**, cliquez sur **Build Path**, puis sur **Configure Build Path**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-308">In Eclipse's Project Explorer, right-click **MyACSHelloWorld**, click **Build Path**, and then click **Configure Build Path**.</span></span>
6. <span data-ttu-id="98d9f-309">Cliquez sur l'onglet **Libraries**, sur **Azure Access Control Services Filter**, puis sur **Edit**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-309">Click the **Libraries** tab, click **Azure Access Control Services Filter**, and then click **Edit**.</span></span>
7. <span data-ttu-id="98d9f-310">En utilisant un navigateur ouvert sur la page **Login Page Integration** du Portail de gestion, copiez l'URL indiquée dans le champ **Option 1 : lien vers une page de connexion hébergée par ACS** et collez-la dans le champ **ACS Authentication Endpoint** de la boîte de dialogue Eclipse.</span><span class="sxs-lookup"><span data-stu-id="98d9f-310">Using a browser opened to the **Login Page Integration** page of the Management Portal, copy the URL listed in the **Option 1: Link to an ACS-hosted login page** field and paste it into the **ACS Authentication Endpoint** field of the Eclipse dialog.</span></span>
8. <span data-ttu-id="98d9f-311">En utilisant un navigateur ouvert sur la page **Edit Relying Party Application** du portail de gestion, copiez l'URL indiquée dans le champ **Realm**, puis collez-la dans le champ **Relying Party Realm** de la boîte de dialogue Eclipse.</span><span class="sxs-lookup"><span data-stu-id="98d9f-311">Using a browser opened to the **Edit Relying Party Application** page of the Management Portal, copy the URL listed in the **Realm** field and paste it into the **Relying Party Realm** field of the Eclipse dialog.</span></span>
9. <span data-ttu-id="98d9f-312">Dans la section **Security** de la boîte de dialogue Eclipse, si vous souhaitez utiliser un certificat existant, cliquez sur **Browse**, accédez au certificat souhaité, sélectionnez-le, puis cliquez sur **Open**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-312">Within the **Security** section of the Eclipse dialog, if you want to use an existing certificate, click **Browse**, navigate to the certificate you want to use, select it, and click **Open**.</span></span> <span data-ttu-id="98d9f-313">Si vous préférez créer un certificat, cliquez sur **New** pour afficher la boîte de dialogue **New Certificate**, puis indiquez le mot de passe, le nom du fichier.cer et celui du fichier .pfx pour le nouveau certificat.</span><span class="sxs-lookup"><span data-stu-id="98d9f-313">Or, if you want to create a new certificate, click **New** to display the **New Certificate** dialog, then specify the password, name of the .cer file, and name of the .pfx file for the new certificate.</span></span>
10. <span data-ttu-id="98d9f-314">Laissez l'option **Embed the certificate in the WAR file** activée si vous souhaitez intégrer le certificat dans le fichier WAR.</span><span class="sxs-lookup"><span data-stu-id="98d9f-314">Keep **Embed the certificate in the WAR file** checked, assuming you want to embed the certificate in the WAR file.</span></span>
11. <span data-ttu-id="98d9f-315">[Facultatif] Laissez la case à cocher **Require HTTPS connections** activée.</span><span class="sxs-lookup"><span data-stu-id="98d9f-315">[Optional] Keep **Require HTTPS connections** checked.</span></span> <span data-ttu-id="98d9f-316">Si vous activez cette option, vous devrez accéder à votre application via le protocole HTTPS.</span><span class="sxs-lookup"><span data-stu-id="98d9f-316">If you set this option, you'll need to access your application using the HTTPS protocol.</span></span> <span data-ttu-id="98d9f-317">Si vous ne souhaitez pas utiliser de connexions HTTPS, désélectionnez cette option.</span><span class="sxs-lookup"><span data-stu-id="98d9f-317">If you don't want to require HTTPS connections, uncheck this option.</span></span>
12. <span data-ttu-id="98d9f-318">Pour un déploiement vers Azure, vos paramètres de filtre ACS Azure doivent être similaires à l'exemple ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="98d9f-318">For a deployment to Azure, your Azure ACS Filter settings will look similar to the following.</span></span>
    
    ![Paramètres de filtre ACS Azure pour un déploiement de production][add_acs_filter_lib_production]
13. <span data-ttu-id="98d9f-320">Cliquez sur **Terminer** pour fermer la boîte de dialogue **Edit Library**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-320">Click **Finish** to close the **Edit Library** dialog.</span></span>
14. <span data-ttu-id="98d9f-321">Cliquez sur **OK** pour fermer la boîte de dialogue **Properties for MyACSHelloWorld**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-321">Click **OK** to close the **Properties for MyACSHelloWorld** dialog.</span></span>
15. <span data-ttu-id="98d9f-322">Dans Eclipse, cliquez sur le bouton **Publish to Azure Cloud** .</span><span class="sxs-lookup"><span data-stu-id="98d9f-322">In Eclipse, click the **Publish to Azure Cloud** button.</span></span> <span data-ttu-id="98d9f-323">Répondez aux invites, comme expliqué dans la section **Méthode simple et rapide pour déployer votre application sur Azure** de la rubrique [Créer un service cloud « Hello World » pour Azure dans Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) .</span><span class="sxs-lookup"><span data-stu-id="98d9f-323">Respond to the prompts, similar as done in the **To deploy your application to Azure** section of the [Creating a Hello World Application for Azure in Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) topic.</span></span> 

<span data-ttu-id="98d9f-324">Une fois le déploiement de votre application Web terminé, fermez les sessions de navigateur en cours, exécutez votre application Web. Votre identifiant Windows Live ID doit vous être demandé. Vous êtes ensuite transféré vers l'URL de renvoi de votre application par partie de confiance.</span><span class="sxs-lookup"><span data-stu-id="98d9f-324">After your web application has been deployed, close any open browser sessions, run your web application, and you should be prompted to sign in with Windows Live ID credentials, followed by being sent to the return URL of your relying party application.</span></span>

<span data-ttu-id="98d9f-325">Lorsque vous avez terminé d’utiliser votre application ACS Hello World, n’oubliez pas de supprimer le déploiement (procédure décrite dans la rubrique [Créer un service cloud « Hello World » pour Azure dans Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) ).</span><span class="sxs-lookup"><span data-stu-id="98d9f-325">When you are done using your ACS Hello World application, remember to delete the deployment (you can learn how to delete a deployment in the [Creating a Hello World Application for Azure in Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) topic).</span></span>

## <span data-ttu-id="98d9f-326"><a name="next_steps"></a>Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="98d9f-326"><a name="next_steps"></a>Next steps</span></span>
<span data-ttu-id="98d9f-327">Pour étudier les données SAML (Security Assertion Markup Language) renvoyées par ACS vers votre application, consultez la rubrique [Affichage des données SAML renvoyées par ACS][How to view SAML returned by the Azure Access Control Service].</span><span class="sxs-lookup"><span data-stu-id="98d9f-327">For an examination of the Security Assertion Markup Language (SAML) returned by ACS to your application, see [How to view SAML returned by the Azure Access Control Service][How to view SAML returned by the Azure Access Control Service].</span></span> <span data-ttu-id="98d9f-328">Pour en savoir plus sur les fonctionnalités ACS et découvrir des scénarios plus complexes, consultez la page [Access Control Service 2.0][Access Control Service 2.0].</span><span class="sxs-lookup"><span data-stu-id="98d9f-328">To further explore ACS's functionality and to experiment with more sophisticated scenarios, see [Access Control Service 2.0][Access Control Service 2.0].</span></span>

<span data-ttu-id="98d9f-329">Cet exemple utilisait l'option **Embed the certificate in the WAR file**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-329">Also, this example used the **Embed the certificate in the WAR file** option.</span></span> <span data-ttu-id="98d9f-330">qui simplifie le déploiement du certificat.</span><span class="sxs-lookup"><span data-stu-id="98d9f-330">This option makes it simple to deploy the certificate.</span></span> <span data-ttu-id="98d9f-331">Si vous préférez maintenir le certificat de signature séparé du fichier WAR, vous pouvez utiliser la technique suivante :</span><span class="sxs-lookup"><span data-stu-id="98d9f-331">If instead you want to keep your signing certificate separate from your WAR file, you can use the following technique:</span></span>

1. <span data-ttu-id="98d9f-332">Dans la section **Security** de la boîte de dialogue **Azure Access Control Services Filter**, entrez **${env.JAVA_HOME}/mycert.cer**, puis désactivez l'option **Embed the certificate in the WAR file**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-332">Within the **Security** section of the **Azure Access Control Services Filter** dialog, type **${env.JAVA_HOME}/mycert.cer** and uncheck **Embed the certificate in the WAR file**.</span></span> <span data-ttu-id="98d9f-333">Modifiez mycert.cer si le nom de fichier du certificat est différent. Cliquez sur **Terminer** pour fermer la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="98d9f-333">(Adjust mycert.cer if your certificate file name is different.) Click **Finish** to close the dialog.</span></span>
2. <span data-ttu-id="98d9f-334">Copiez le certificat en tant que composant dans votre déploiement : dans l'Explorateur de projets Eclipse, développez **MyAzureACSProject**, cliquez avec le bouton droit sur **WorkerRole1**, cliquez sur **Properties**, développez **Azure Role** et cliquez sur **Components**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-334">Copy the certificate as a component in your deployment: In Eclipse's Project Explorer, expand **MyAzureACSProject**, right-click **WorkerRole1**, click **Properties**, expand **Azure Role**, and click **Components**.</span></span>
3. <span data-ttu-id="98d9f-335">Cliquez sur **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-335">Click **Add**.</span></span>
4. <span data-ttu-id="98d9f-336">Dans la boîte de dialogue **Add Component** :</span><span class="sxs-lookup"><span data-stu-id="98d9f-336">Within the **Add Component** dialog:</span></span>
   
   1. <span data-ttu-id="98d9f-337">Dans la section **Import** :</span><span class="sxs-lookup"><span data-stu-id="98d9f-337">In the **Import** section:</span></span>
      1. <span data-ttu-id="98d9f-338">Utilisez le bouton **File** pour accéder au certificat que vous souhaitez utiliser.</span><span class="sxs-lookup"><span data-stu-id="98d9f-338">Use the **File** button to navigate to the certificate you want to use.</span></span> 
      2. <span data-ttu-id="98d9f-339">Sous **Method**, sélectionnez **copy**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-339">For **Method**, select **copy**.</span></span>
   2. <span data-ttu-id="98d9f-340">Dans la section **As Name**, cliquez sur la zone de texte et acceptez le nom par défaut.</span><span class="sxs-lookup"><span data-stu-id="98d9f-340">For **As Name**, click on the text box and accept the default name.</span></span>
   3. <span data-ttu-id="98d9f-341">Dans la section **Deploy** :</span><span class="sxs-lookup"><span data-stu-id="98d9f-341">In the **Deploy** section:</span></span>
      1. <span data-ttu-id="98d9f-342">Sous **Method**, sélectionnez **copy**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-342">For **Method**, select **copy**.</span></span>
      2. <span data-ttu-id="98d9f-343">Dans la zone **To directory**, entrez **%JAVA_HOME%**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-343">For **To directory**, type **%JAVA_HOME%**.</span></span>
   4. <span data-ttu-id="98d9f-344">La boîte de dialogue **Add Component** doit être similaire à la suivante :</span><span class="sxs-lookup"><span data-stu-id="98d9f-344">Your **Add Component** dialog should look similar to the following.</span></span>
      
       ![Ajouter un composant de certificat][add_cert_component]
   5. <span data-ttu-id="98d9f-346">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="98d9f-346">Click **OK**.</span></span>

<span data-ttu-id="98d9f-347">Votre certificat doit maintenant être inclus dans votre déploiement.</span><span class="sxs-lookup"><span data-stu-id="98d9f-347">At this point, your certificate would be included in your deployment.</span></span> <span data-ttu-id="98d9f-348">Que le certificat soit intégré au fichier WAR ou ajouté en tant que composant au déploiement, vous devez télécharger le certificat dans votre espace de noms en suivant les instructions de la section [Téléchargement d’un certificat vers votre espace de noms ACS][Upload a certificate to your ACS namespace].</span><span class="sxs-lookup"><span data-stu-id="98d9f-348">Note that regardless of whether you embed the certificate in the WAR file or add it as a component to your deployment, you need to upload the certificate to your namespace as described in the [Upload a certificate to your ACS namespace][Upload a certificate to your ACS namespace] section.</span></span>

[What is ACS?]: #what-is
[Concepts]: #concepts
[Prerequisites]: #pre
[Create a Java web application]: #create-java-app
[Create an ACS Namespace]: #create-namespace
[Add Identity Providers]: #add-IP
[Add a Relying Party Application]: #add-RP
[Create Rules]: #create-rules
[Upload a certificate to your ACS namespace]: #upload-certificate
[Review the Application Integration Page]: #review-app-int
[Configure Trust between ACS and Your ASP.NET Web Application]: #config-trust
[Add the ACS Filter library to your application]: #add_acs_filter_library
[Deploy to the compute emulator]: #deploy_compute_emulator
[Deploy to Azure]: #deploy_azure
[Next steps]: #next_steps
[project website]: http://wastarterkit4java.codeplex.com/releases/view/61026
[How to view SAML returned by the Azure Access Control Service]: active-directory-java-view-saml-returned-by-access-control.md
[Access Control Service 2.0]: http://go.microsoft.com/fwlink/?LinkID=212360
[Windows Identity Foundation]: http://www.microsoft.com/download/en/details.aspx?id=17331
[Windows Identity Foundation SDK]: http://www.microsoft.com/download/en/details.aspx?id=4451
[Azure Management Portal]: https://manage.windowsazure.com
[acs_flow]: ./media/active-directory-java-authenticate-users-access-control-eclipse/ACSFlow.png

<!-- Eclipse-specific -->
[add_acs_filter_lib]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddACSFilterLibrary.png
[add_acs_filter_lib_emulator]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddACSFilterLibraryEmulator.png
[add_acs_filter_lib_production]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddACSFilterLibraryProduction.png

[relying_party_realm_emulator]: ./media/active-directory-java-authenticate-users-access-control-eclipse/RelyingPartyRealmEmulator.png
[relying_party_return_url_emulator]: ./media/active-directory-java-authenticate-users-access-control-eclipse/RelyingPartyReturnURLEmulator.png
[relying_party_realm_production]: ./media/active-directory-java-authenticate-users-access-control-eclipse/RelyingPartyRealmProduction.png
[relying_party_return_url_production]: ./media/active-directory-java-authenticate-users-access-control-eclipse/RelyingPartyReturnURLProduction.png
[add_cert_component]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddCertificateComponent.png
[add_jsp_file_acs]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddJSPFileACS.png
[create_acs_hello_world]: ./media/active-directory-java-authenticate-users-access-control-eclipse/CreateACSHelloWorld.png
[add_token_signing_cert]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddTokenSigningCertificate.png

