---
title: "Connecteur SQL générique | Microsoft Docs"
description: "Cet article explique comment configurer le connecteur SQL générique de Microsoft."
services: active-directory
documentationcenter: 
author: AndKjell
manager: femila
editor: 
ms.assetid: fd8ccef3-6605-47ba-9219-e0c74ffc0ec9
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/12/2017
ms.author: billmath
ms.openlocfilehash: a84096ba53a308855beedd76d9dec827c025cd57
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/03/2017
---
# <a name="generic-sql-connector-technical-reference"></a><span data-ttu-id="92088-103">Référence technique du connecteur SQL générique</span><span class="sxs-lookup"><span data-stu-id="92088-103">Generic SQL Connector technical reference</span></span>
<span data-ttu-id="92088-104">Cet article décrit le connecteur SQL générique.</span><span class="sxs-lookup"><span data-stu-id="92088-104">This article describes the Generic SQL Connector.</span></span> <span data-ttu-id="92088-105">Cet article s’applique aux produits suivants :</span><span class="sxs-lookup"><span data-stu-id="92088-105">The article applies to the following products:</span></span>

* <span data-ttu-id="92088-106">Microsoft Identity Manager 2016 (MIM2016)</span><span class="sxs-lookup"><span data-stu-id="92088-106">Microsoft Identity Manager 2016 (MIM2016)</span></span>
* <span data-ttu-id="92088-107">Forefront Identity Manager 2010 R2 (FIM2010R2)</span><span class="sxs-lookup"><span data-stu-id="92088-107">Forefront Identity Manager 2010 R2 (FIM2010R2)</span></span>
  * <span data-ttu-id="92088-108">Nécessité d’utiliser le correctif logiciel 4.1.3671.0 ou une version ultérieure [KB3092178](https://support.microsoft.com/kb/3092178).</span><span class="sxs-lookup"><span data-stu-id="92088-108">Must use hotfix 4.1.3671.0 or later [KB3092178](https://support.microsoft.com/kb/3092178).</span></span>

<span data-ttu-id="92088-109">Pour MIM2016 et FIM2010R2, le connecteur est disponible en téléchargement dans le [Centre de téléchargement Microsoft](http://go.microsoft.com/fwlink/?LinkId=717495).</span><span class="sxs-lookup"><span data-stu-id="92088-109">For MIM2016 and FIM2010R2, the Connector is available as a download from the [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=717495).</span></span>

<span data-ttu-id="92088-110">Pour voir ce connecteur en action, consultez l’article [Generic SQL Connector step-by-step](active-directory-aadconnectsync-connector-genericsql-step-by-step.md) .</span><span class="sxs-lookup"><span data-stu-id="92088-110">To see this Connector in action, see the [Generic SQL Connector step-by-step](active-directory-aadconnectsync-connector-genericsql-step-by-step.md) article.</span></span>

## <a name="overview-of-the-generic-sql-connector"></a><span data-ttu-id="92088-111">Vue d’ensemble du connecteur SQL générique</span><span class="sxs-lookup"><span data-stu-id="92088-111">Overview of the Generic SQL Connector</span></span>
<span data-ttu-id="92088-112">Le connecteur SQL générique vous permet d’intégrer le service de synchronisation avec un système de base de données qui offre la connectivité ODBC.</span><span class="sxs-lookup"><span data-stu-id="92088-112">The Generic SQL Connector enables you to integrate the synchronization service with a database system that offers ODBC connectivity.</span></span>  

<span data-ttu-id="92088-113">Globalement, la version actuelle du connecteur prend en charge les fonctionnalités suivantes :</span><span class="sxs-lookup"><span data-stu-id="92088-113">From a high-level perspective, the following features are supported by the current release of the connector:</span></span>

| <span data-ttu-id="92088-114">Fonctionnalité</span><span class="sxs-lookup"><span data-stu-id="92088-114">Feature</span></span> | <span data-ttu-id="92088-115">Support</span><span class="sxs-lookup"><span data-stu-id="92088-115">Support</span></span> |
| --- | --- |
| <span data-ttu-id="92088-116">Source de données connectée</span><span class="sxs-lookup"><span data-stu-id="92088-116">Connected data source</span></span> |<span data-ttu-id="92088-117">Le connecteur prend en charge tous les pilotes ODBC 64 bits.</span><span class="sxs-lookup"><span data-stu-id="92088-117">The Connector is supported with all 64-bit ODBC drivers.</span></span> <span data-ttu-id="92088-118">Il a été testé avec les éléments suivants : </span><span class="sxs-lookup"><span data-stu-id="92088-118">It has been tested with the following:</span></span> <li><span data-ttu-id="92088-119">Microsoft SQL Server & SQL Azure</span><span class="sxs-lookup"><span data-stu-id="92088-119">Microsoft SQL Server & SQL Azure</span></span></li><li><span data-ttu-id="92088-120">IBM DB2 10.x</span><span class="sxs-lookup"><span data-stu-id="92088-120">IBM DB2 10.x</span></span></li><li><span data-ttu-id="92088-121">IBM DB2 9.x</span><span class="sxs-lookup"><span data-stu-id="92088-121">IBM DB2 9.x</span></span></li><li><span data-ttu-id="92088-122">Oracle 10 & 11g</span><span class="sxs-lookup"><span data-stu-id="92088-122">Oracle 10 & 11g</span></span></li><li><span data-ttu-id="92088-123">MySQL 5.x</span><span class="sxs-lookup"><span data-stu-id="92088-123">MySQL 5.x</span></span></li> |
| <span data-ttu-id="92088-124">Scénarios</span><span class="sxs-lookup"><span data-stu-id="92088-124">Scenarios</span></span> |<li><span data-ttu-id="92088-125">Gestion du cycle de vie des objets</span><span class="sxs-lookup"><span data-stu-id="92088-125">Object Lifecycle Management</span></span></li><li><span data-ttu-id="92088-126">Gestion des mots de passe</span><span class="sxs-lookup"><span data-stu-id="92088-126">Password Management</span></span></li> |
| <span data-ttu-id="92088-127">Opérations</span><span class="sxs-lookup"><span data-stu-id="92088-127">Operations</span></span> |<li><span data-ttu-id="92088-128">Importation complète et importation différentielle, importation, exportation</span><span class="sxs-lookup"><span data-stu-id="92088-128">Full Import and Delta Import, Export</span></span></li><li><span data-ttu-id="92088-129">Pour l’exportation : ajouter, supprimer, mettre à jour et remplacer</span><span class="sxs-lookup"><span data-stu-id="92088-129">For Export: Add, Delete, Update, and Replace</span></span></li><li><span data-ttu-id="92088-130">Définition du mot de passe, modification du mot de passe</span><span class="sxs-lookup"><span data-stu-id="92088-130">Set Password, Change Password</span></span></li> |
| <span data-ttu-id="92088-131">Schéma</span><span class="sxs-lookup"><span data-stu-id="92088-131">Schema</span></span> |<li><span data-ttu-id="92088-132">Découverte dynamique des objets et des attributs</span><span class="sxs-lookup"><span data-stu-id="92088-132">Dynamic discovery of objects and attributes</span></span></li> |

### <a name="prerequisites"></a><span data-ttu-id="92088-133">Composants requis</span><span class="sxs-lookup"><span data-stu-id="92088-133">Prerequisites</span></span>
<span data-ttu-id="92088-134">Avant d’utiliser le connecteur, vérifiez que vous disposez des éléments suivants sur le serveur de synchronisation :</span><span class="sxs-lookup"><span data-stu-id="92088-134">Before you use the Connector, make sure you have the following on the synchronization server:</span></span>

* <span data-ttu-id="92088-135">Microsoft .NET 4.5.2 Framework ou version ultérieure</span><span class="sxs-lookup"><span data-stu-id="92088-135">Microsoft .NET 4.5.2 Framework or later</span></span>
* <span data-ttu-id="92088-136">Pilotes clients ODBC 64 bits</span><span class="sxs-lookup"><span data-stu-id="92088-136">64-bit ODBC client drivers</span></span>

### <a name="permissions-in-connected-data-source"></a><span data-ttu-id="92088-137">Autorisations dans la source de données connectée</span><span class="sxs-lookup"><span data-stu-id="92088-137">Permissions in connected data source</span></span>
<span data-ttu-id="92088-138">Pour créer ou exécuter les tâches prises en charge dans le connecteur SQL générique, vous devez disposer de :</span><span class="sxs-lookup"><span data-stu-id="92088-138">To create or perform any of the supported tasks in Generic SQL connector, you must have:</span></span>

* <span data-ttu-id="92088-139">db_datareader</span><span class="sxs-lookup"><span data-stu-id="92088-139">db_datareader</span></span>
* <span data-ttu-id="92088-140">db_datawriter</span><span class="sxs-lookup"><span data-stu-id="92088-140">db_datawriter</span></span>

### <a name="ports-and-protocols"></a><span data-ttu-id="92088-141">Ports et protocoles</span><span class="sxs-lookup"><span data-stu-id="92088-141">Ports and protocols</span></span>
<span data-ttu-id="92088-142">Concernant les ports requis pour que le pilote ODBC fonctionne, veuillez consulter la documentation accompagnant la base de données.</span><span class="sxs-lookup"><span data-stu-id="92088-142">For the ports required for the ODBC driver to work, consult the database vendor's documentation.</span></span>

## <a name="create-a-new-connector"></a><span data-ttu-id="92088-143">Créer un connecteur</span><span class="sxs-lookup"><span data-stu-id="92088-143">Create a new Connector</span></span>
<span data-ttu-id="92088-144">Pour créer un connecteur générique SQL, dans **service de synchronisation**, sélectionnez **Agent de gestion** et **Créer**.</span><span class="sxs-lookup"><span data-stu-id="92088-144">To Create a Generic SQL connector, in **Synchronization Service** select **Management Agent** and **Create**.</span></span> <span data-ttu-id="92088-145">Sélectionnez le connecteur **Generic SQL (Microsoft)** .</span><span class="sxs-lookup"><span data-stu-id="92088-145">Select the **Generic SQL (Microsoft)** Connector.</span></span>

![CreateConnector](./media/active-directory-aadconnectsync-connector-genericsql/createconnector.png)

### <a name="connectivity"></a><span data-ttu-id="92088-147">Connectivité</span><span class="sxs-lookup"><span data-stu-id="92088-147">Connectivity</span></span>
<span data-ttu-id="92088-148">Le connecteur utilise un fichier DSN ODBC pour la connectivité.</span><span class="sxs-lookup"><span data-stu-id="92088-148">The Connector uses an ODBC DSN file for connectivity.</span></span> <span data-ttu-id="92088-149">Créez le fichier DSN en utilisant l’option **Sources de données ODBC** qui se trouve dans le menu Démarrer, sous **Outils d’administration**.</span><span class="sxs-lookup"><span data-stu-id="92088-149">Create the DSN file using **ODBC Data Sources** found in the start menu under **Administrative Tools**.</span></span> <span data-ttu-id="92088-150">Dans l’outil d’administration, créez un **Fichier DSN** pouvant être transmis au connecteur.</span><span class="sxs-lookup"><span data-stu-id="92088-150">In the administrative tool, create a **File DSN** so it can be provided to the Connector.</span></span>

![CreateConnector](./media/active-directory-aadconnectsync-connector-genericsql/connectivity.png)

<span data-ttu-id="92088-152">L’écran Connectivité est le premier qui s’affiche lorsque vous créez un nouveau connecteur SQL générique.</span><span class="sxs-lookup"><span data-stu-id="92088-152">The Connectivity screen is the first when you create a new Generic SQL Connector.</span></span> <span data-ttu-id="92088-153">Dans un premier temps, fournissez les informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="92088-153">You first need to provide the following information:</span></span>

* <span data-ttu-id="92088-154">Chemin d’accès de fichier DSN</span><span class="sxs-lookup"><span data-stu-id="92088-154">DSN file path</span></span>
* <span data-ttu-id="92088-155">Authentification</span><span class="sxs-lookup"><span data-stu-id="92088-155">Authentication</span></span>
  * <span data-ttu-id="92088-156">User Name</span><span class="sxs-lookup"><span data-stu-id="92088-156">User Name</span></span>
  * <span data-ttu-id="92088-157">Mot de passe</span><span class="sxs-lookup"><span data-stu-id="92088-157">Password</span></span>

<span data-ttu-id="92088-158">La base de données doit prendre en charge une de ces méthodes d’authentification :</span><span class="sxs-lookup"><span data-stu-id="92088-158">The database should support one of these authentication methods:</span></span>

* <span data-ttu-id="92088-159">**Authentification Windows**: la base de données d’authentification utilise les informations d’identification Windows pour contrôler l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="92088-159">**Windows authentication**: The authenticating database uses the Windows credentials to verify the user.</span></span> <span data-ttu-id="92088-160">Le nom d’utilisateur/mot de passe spécifié est utilisé pour l’authentification auprès de la base de données.</span><span class="sxs-lookup"><span data-stu-id="92088-160">The user name/password specified is used to authenticate with the database.</span></span> <span data-ttu-id="92088-161">Ce compte a besoin des autorisations pour la base de données.</span><span class="sxs-lookup"><span data-stu-id="92088-161">This account needs permissions to the database.</span></span>
* <span data-ttu-id="92088-162">**Authentification SQL**: la base de données d’authentification utilise les nom/mot de passe d’utilisateur définis dans l’écran Connectivité en vue de se connecter à la base de données.</span><span class="sxs-lookup"><span data-stu-id="92088-162">**SQL authentication**: The authenticating database uses the user name/password defined one the Connectivity screen to connect to the database.</span></span> <span data-ttu-id="92088-163">Si vous stockez le nom d’utilisateur/mot de passe dans le fichier DSN, les informations d’identification fournies sur l’écran Connectivité sont prioritaires.</span><span class="sxs-lookup"><span data-stu-id="92088-163">If you store the user name/pasword in the DSN file, the credentials provided on the Connectivity screen have precedence.</span></span>
* <span data-ttu-id="92088-164">**Authentification de la base de données SQL Azure**: pour plus d’informations, voir [Connexion à la base de données SQL avec l’authentification Azure Active Directory](../../sql-database/sql-database-aad-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="92088-164">**Azure SQL Database authentication**: For more information, see [Connect to SQL Database By Using Azure Active Directory Authentication](../../sql-database/sql-database-aad-authentication.md).</span></span>

<span data-ttu-id="92088-165">**Le nom unique est le point d’ancrage**: si vous sélectionnez cette option, le nom unique est également utilisé comme attribut d’ancrage.</span><span class="sxs-lookup"><span data-stu-id="92088-165">**DN is Anchor**: If you select this option, the DN is also used as the anchor attribute.</span></span> <span data-ttu-id="92088-166">Il peut être utilisé pour une implémentation simple mais présente également les limitations suivantes :</span><span class="sxs-lookup"><span data-stu-id="92088-166">It can be used for a simple implementation but also has the following limitation:</span></span>

* <span data-ttu-id="92088-167">Le connecteur ne prend en charge qu’un seul type d’objet.</span><span class="sxs-lookup"><span data-stu-id="92088-167">Connector supports only one object type.</span></span> <span data-ttu-id="92088-168">Les attributs de référence peuvent faire référence à un seul type d’objet.</span><span class="sxs-lookup"><span data-stu-id="92088-168">Therefore any reference attributes can only reference the same object type.</span></span>

<span data-ttu-id="92088-169">**Type d’exportation : remplacement d’objet**: lors de l’exportation, lorsque seuls certains attributs ont été modifiés, l’ensemble de l’objet avec tous les attributs est exporté et remplace l’objet existant.</span><span class="sxs-lookup"><span data-stu-id="92088-169">**Export Type: Object Replace**: During export, when only some attributes have changed, the entire object with all attributes is exported and replaces the existing object.</span></span>

### <a name="schema-1-detect-object-types"></a><span data-ttu-id="92088-170">Schéma 1 (Détecter les types d’objets)</span><span class="sxs-lookup"><span data-stu-id="92088-170">Schema 1 (Detect object types)</span></span>
<span data-ttu-id="92088-171">Sur cette page, vous allez configurer la manière dont le connecteur va rechercher les différents types d’objets dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="92088-171">On this page, you are going to configure how the Connector is going to find the different object types in the database.</span></span>

<span data-ttu-id="92088-172">Chaque type d’objet est présenté sous la forme d’une partition et configuré de manière plus approfondie sur **Configurer des partitions et des hiérarchies**.</span><span class="sxs-lookup"><span data-stu-id="92088-172">Every object type is presented as a partition and configured further on **Configure Partitions and Hierarchies**.</span></span>

![schema1a](./media/active-directory-aadconnectsync-connector-genericsql/schema1a.png)

<span data-ttu-id="92088-174">**Méthode de détection du type d’objet**: le connecteur prend en charge ces méthodes de détection de type objet.</span><span class="sxs-lookup"><span data-stu-id="92088-174">**Object Type detection method**: The Connector supports these object type detection methods.</span></span>

* <span data-ttu-id="92088-175">**Valeur fixe**: fournit la liste des types d’objets avec une liste séparée par des virgules.</span><span class="sxs-lookup"><span data-stu-id="92088-175">**Fixed Value**: You provide the list of object types with a comma-separated list.</span></span> <span data-ttu-id="92088-176">Par exemple : `User,Group,Department`.</span><span class="sxs-lookup"><span data-stu-id="92088-176">For example: `User,Group,Department`.</span></span>  
  <span data-ttu-id="92088-177">![schema1b](./media/active-directory-aadconnectsync-connector-genericsql/schema1b.png)</span><span class="sxs-lookup"><span data-stu-id="92088-177">![schema1b](./media/active-directory-aadconnectsync-connector-genericsql/schema1b.png)</span></span>
* <span data-ttu-id="92088-178">**Table/Vue/Procédure stockée**: fournissez le nom de table/vue/procédure stockée, puis le nom de colonne qui fournit la liste des types d’objets.</span><span class="sxs-lookup"><span data-stu-id="92088-178">**Table/View/Stored Procedure**: Provide the name of the table/view/stored procedure and then the column name that provides the list of object types.</span></span> <span data-ttu-id="92088-179">Si vous utilisez une procédure stockée, fournissez également des paramètres pour celle-ci au format **[nom]:[Direction]:[Valeur]**.</span><span class="sxs-lookup"><span data-stu-id="92088-179">If you use a stored procedure, then also provide parameters for it in the format **[Name]:[Direction]:[Value]**.</span></span> <span data-ttu-id="92088-180">Placez chacun des paramètres sur une ligne distincte (utilisez Ctrl + Entrée pour créer une ligne).</span><span class="sxs-lookup"><span data-stu-id="92088-180">Provide each parameter on a separate line (use Ctrl+Enter to get a new line).</span></span>  
  <span data-ttu-id="92088-181">![schema1c](./media/active-directory-aadconnectsync-connector-genericsql/schema1c.png)</span><span class="sxs-lookup"><span data-stu-id="92088-181">![schema1c](./media/active-directory-aadconnectsync-connector-genericsql/schema1c.png)</span></span>
* <span data-ttu-id="92088-182">**Requête SQL** : cette option permet de fournir une requête SQL qui renvoie une seule colonne avec les types d’objets, par exemple, `SELECT [Column Name] FROM TABLENAME`.</span><span class="sxs-lookup"><span data-stu-id="92088-182">**SQL Query**: This option allows you to provide a SQL query that returns a single column with object types, for example `SELECT [Column Name] FROM TABLENAME`.</span></span> <span data-ttu-id="92088-183">La colonne retournée doit être de type chaîne (varchar).</span><span class="sxs-lookup"><span data-stu-id="92088-183">The returned column must be of type string (varchar).</span></span>

### <a name="schema-2-detect-attribute-types"></a><span data-ttu-id="92088-184">Schéma 2 (Détecter les types d’attribut)</span><span class="sxs-lookup"><span data-stu-id="92088-184">Schema 2 (Detect attribute types)</span></span>
<span data-ttu-id="92088-185">Sur cette page, vous allez configurer la façon dont les noms et les types d’attribut vont être détectés.</span><span class="sxs-lookup"><span data-stu-id="92088-185">On this page, you are going to configure how the attribute names and types are going to be detected.</span></span> <span data-ttu-id="92088-186">Les options de configuration sont répertoriées pour chaque type d’objet détecté dans la page précédente.</span><span class="sxs-lookup"><span data-stu-id="92088-186">The configuration options are listed for every object type detected on the previous page.</span></span>

![schema2a](./media/active-directory-aadconnectsync-connector-genericsql/schema2a.png)

<span data-ttu-id="92088-188">**Méthode de détection de type d’attribut**: le connecteur prend en charge ces méthodes de détection de type attribut avec chaque type d’objet détecté dans l’écran schéma 1.</span><span class="sxs-lookup"><span data-stu-id="92088-188">**Attribute Type detection method**: The Connector supports these attribute type detection methods with every detected object type in Schema 1 screen.</span></span>

* <span data-ttu-id="92088-189">**Table/Vue/Procédure stockée**: indiquez le nom de table/vue/procédure stockée qui doit être utilisé pour trouver les noms d’attribut.</span><span class="sxs-lookup"><span data-stu-id="92088-189">**Table/View/Stored Procedure**: Provide the name of the table/view/stored procedure that should be used to find the attribute names.</span></span> <span data-ttu-id="92088-190">Si vous utilisez une procédure stockée, fournissez également des paramètres pour celle-ci au format **[nom]:[Direction]:[Valeur]**.</span><span class="sxs-lookup"><span data-stu-id="92088-190">If you use a stored procedure, then also provide parameters for it in the format **[Name]:[Direction]:[Value]**.</span></span> <span data-ttu-id="92088-191">Placez chacun des paramètres sur une ligne distincte (utilisez Ctrl + Entrée pour créer une ligne).</span><span class="sxs-lookup"><span data-stu-id="92088-191">Provide each parameter on a separate line (use Ctrl+Enter to get a new line).</span></span> <span data-ttu-id="92088-192">Pour détecter les noms d’attribut dans un attribut à valeurs multiples, fournissez une liste séparée par des virgules des tables ou des vues.</span><span class="sxs-lookup"><span data-stu-id="92088-192">To detect the attribute names in a multi-valued attribute, provide a comma-separated list of Tables or Views.</span></span> <span data-ttu-id="92088-193">Les scénarios à valeurs multiples ne sont pas pris en charge si les tables parent et enfant ont les mêmes noms de colonnes.</span><span class="sxs-lookup"><span data-stu-id="92088-193">Multivalued scenarios are not supported when parent and child table have same column names.</span></span>
* <span data-ttu-id="92088-194">**Requête SQL** : cette option permet de fournir une requête SQL qui renvoie une seule colonne avec les noms d’attributs, par exemple, `SELECT [Column Name] FROM TABLENAME`.</span><span class="sxs-lookup"><span data-stu-id="92088-194">**SQL query**: This option allows you to provide a SQL query that returns a single column with attribute names, for example `SELECT [Column Name] FROM TABLENAME`.</span></span> <span data-ttu-id="92088-195">La colonne retournée doit être de type chaîne (varchar).</span><span class="sxs-lookup"><span data-stu-id="92088-195">The returned column must be of type string (varchar).</span></span>

### <a name="schema-3-define-anchor-and-dn"></a><span data-ttu-id="92088-196">Schéma 3 (Définir le point d’ancrage et le nom unique)</span><span class="sxs-lookup"><span data-stu-id="92088-196">Schema 3 (Define anchor and DN)</span></span>
<span data-ttu-id="92088-197">Cette page vous permet de configurer le point d’ancrage et l’attribut de nom unique pour chaque type d’objet détecté.</span><span class="sxs-lookup"><span data-stu-id="92088-197">This page allows you to configure anchor and DN attribute for each detected object type.</span></span> <span data-ttu-id="92088-198">Vous pouvez sélectionner plusieurs attributs pour faire un point d’ancrage unique.</span><span class="sxs-lookup"><span data-stu-id="92088-198">You can select multiple attributes to make the anchor unique.</span></span>

![schema3a](./media/active-directory-aadconnectsync-connector-genericsql/schema3a.png)

* <span data-ttu-id="92088-200">Les attributs à valeurs multiples et booléens ne sont pas répertoriés.</span><span class="sxs-lookup"><span data-stu-id="92088-200">Multi-valued and Boolean attributes are not listed.</span></span>
* <span data-ttu-id="92088-201">Le même attribut ne peut pas utiliser de nom de domaine et d’ancrage, à moins que l’option **Le nom unique est le point d’ancrage** soit sélectionnée dans la page de Connexion.</span><span class="sxs-lookup"><span data-stu-id="92088-201">Same attribute cannot use for DN and anchor, unless **DN is Anchor** is selected on the Connectivity page.</span></span>
* <span data-ttu-id="92088-202">Si l’option **Le nom unique est le point d’ancrage** est sélectionnée dans la page Connectivité, cette page a besoin uniquement de l’attribut de nom de domaine.</span><span class="sxs-lookup"><span data-stu-id="92088-202">If **DN is Anchor** is selected on the Connectivity page, this page requires only the DN attribute.</span></span> <span data-ttu-id="92088-203">Cet attribut peut également être utilisé en tant qu’attribut d’ancrage.</span><span class="sxs-lookup"><span data-stu-id="92088-203">This attribute would also be used as the anchor attribute.</span></span>

  ![schema3b](./media/active-directory-aadconnectsync-connector-genericsql/schema3b.png)

### <a name="schema-4-define-attribute-type-reference-and-direction"></a><span data-ttu-id="92088-205">Schéma 4 (définir le type d’attribut, la référence et la direction)</span><span class="sxs-lookup"><span data-stu-id="92088-205">Schema 4 (Define attribute type, reference, and direction)</span></span>
<span data-ttu-id="92088-206">Cette page permet de configurer le type d’attribut, par exemple un entier, une valeur binaire ou une valeur booléenne, ainsi que la direction pour chaque attribut.</span><span class="sxs-lookup"><span data-stu-id="92088-206">This page allows you to configure the attribute type, such as integer, binary, or Boolean, and direction for each attribute.</span></span> <span data-ttu-id="92088-207">Tous les attributs de la page **schéma 2** sont répertoriés, et notamment des attributs à valeurs multiples.</span><span class="sxs-lookup"><span data-stu-id="92088-207">All attributes from page **schema 2** are listed including multi-valued attributes.</span></span>

![schema4a](./media/active-directory-aadconnectsync-connector-genericsql/schema4a.png)

* <span data-ttu-id="92088-209">**Type de données**: utilisé pour mapper le type d’attribut sur ceux connus par le moteur de synchronisation.</span><span class="sxs-lookup"><span data-stu-id="92088-209">**DataType**: Used to map the attribute type to those types known by the sync engine.</span></span> <span data-ttu-id="92088-210">La valeur par défaut consiste à utiliser le type détecté dans le schéma SQL, mais DateTime et Reference ne sont pas facilement détectables.</span><span class="sxs-lookup"><span data-stu-id="92088-210">The default is to use the same type as detected in the SQL schema, but DateTime and Reference are not easily detectable.</span></span> <span data-ttu-id="92088-211">Pour ces derniers, vous devez spécifier **DateTime** ou **Reference**.</span><span class="sxs-lookup"><span data-stu-id="92088-211">For those, you need to specify **DateTime** or **Reference**.</span></span>
* <span data-ttu-id="92088-212">**Direction**: vous pouvez définir la direction d’attribut sur Import, Export ou ImportExport.</span><span class="sxs-lookup"><span data-stu-id="92088-212">**Direction**: You can set the attribute direction to Import, Export, or ImportExport.</span></span> <span data-ttu-id="92088-213">ImportExport est la valeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="92088-213">ImportExport is default.</span></span>

![schema4b](./media/active-directory-aadconnectsync-connector-genericsql/schema4b.png)

<span data-ttu-id="92088-215">Remarques :</span><span class="sxs-lookup"><span data-stu-id="92088-215">Notes:</span></span>

* <span data-ttu-id="92088-216">Si un type d’attribut n’est pas détectable par le connecteur, il utilise le type de données chaîne.</span><span class="sxs-lookup"><span data-stu-id="92088-216">If an attribute type is not detectable by the Connector, it uses the String data type.</span></span>
* <span data-ttu-id="92088-217">**Tables imbriquées** peuvent être considérées comme des tables de base de données à une colonne.</span><span class="sxs-lookup"><span data-stu-id="92088-217">**Nested tables** can be considered one-column database tables.</span></span> <span data-ttu-id="92088-218">Oracle stocke les lignes d’une table imbriquée sans aucun ordre particulier.</span><span class="sxs-lookup"><span data-stu-id="92088-218">Oracle stores the rows of a nested table in no particular order.</span></span> <span data-ttu-id="92088-219">Toutefois, lorsque vous récupérez la table imbriquée dans une variable PL/SQL, les lignes sont associées à des indices consécutifs en commençant à 1.</span><span class="sxs-lookup"><span data-stu-id="92088-219">However, when you retrieve the nested table into a PL/SQL variable, the rows are given consecutive subscripts starting at 1.</span></span> <span data-ttu-id="92088-220">Cela vous donne un accès de type tableau à des lignes individuelles.</span><span class="sxs-lookup"><span data-stu-id="92088-220">That gives you array-like access to individual rows.</span></span>
* <span data-ttu-id="92088-221">**VARRYS** ne sont pas pris en charge dans le connecteur.</span><span class="sxs-lookup"><span data-stu-id="92088-221">**VARRYS** are not supported in the connector.</span></span>

### <a name="schema-5-define-partition-for-reference-attributes"></a><span data-ttu-id="92088-222">Schéma 5 (Définir la partition pour les attributs de référence)</span><span class="sxs-lookup"><span data-stu-id="92088-222">Schema 5 (Define partition for reference attributes)</span></span>
<span data-ttu-id="92088-223">Sur cette page, pour tous les attributs de référence, vous configurez la partition (le type d’objet) à laquelle un attribut fait référence.</span><span class="sxs-lookup"><span data-stu-id="92088-223">On this page, you configure for all reference attributes which partition (object type) an attribute is referring to.</span></span>

![schema5](./media/active-directory-aadconnectsync-connector-genericsql/schema5.png)

<span data-ttu-id="92088-225">Si vous utilisez **Le nom unique est le point d’ancrage**, vous devez utiliser le même type d’objet que celui à partir duquel la référence est établie.</span><span class="sxs-lookup"><span data-stu-id="92088-225">If you use **DN is anchor**, then you must use the same object type as the one you are referring from.</span></span> <span data-ttu-id="92088-226">Vous ne pouvez pas référencer un autre type d’objet.</span><span class="sxs-lookup"><span data-stu-id="92088-226">You cannot reference another object type.</span></span>

>[!NOTE]
<span data-ttu-id="92088-227">À compter de la mise à jour de mars 2017, il existe désormais une option pour « * ». Lorsque cette option est sélectionnée, tous les types de membres possibles seront importés.</span><span class="sxs-lookup"><span data-stu-id="92088-227">Starting in the March 2017 update there is now an option for "*" When this option is chosen then all possible member types will be imported.</span></span>

![globalparameters3](./media/active-directory-aadconnectsync-connector-genericsql/any-option.png)

>[!IMPORTANT]
 <span data-ttu-id="92088-229">À compter de mai 2017 l’alias « * » **toute option** a été modifié pour prendre en charge l’importation et l’exportation des flux.</span><span class="sxs-lookup"><span data-stu-id="92088-229">As of May 2017 the “*” aka **any option** has been changed to support import and export flow.</span></span> <span data-ttu-id="92088-230">Si vous souhaitez utiliser cette option, votre table ou vue à valeurs multiples doit avoir un attribut qui contient le type d’objet.</span><span class="sxs-lookup"><span data-stu-id="92088-230">If you want to use this option your multi-valued table/view should have an attribute that contains the object type.</span></span>

![](./media/active-directory-aadconnectsync-connector-genericsql/any-02.png)

 </br> <span data-ttu-id="92088-231">Si « * » est sélectionné, le nom de la colonne avec le type d’objet doit également être spécifié.</span><span class="sxs-lookup"><span data-stu-id="92088-231">If "*" is selected then the name of the column with the object type must also be specified.</span></span></br> ![](./media/active-directory-aadconnectsync-connector-genericsql/any-03.png)

<span data-ttu-id="92088-232">Après l’importation, vous obtiendrez un résultat similaire à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="92088-232">After import you will see something similar to the image below:</span></span>

  ![globalparameters3](./media/active-directory-aadconnectsync-connector-genericsql/after-import.png)



### <a name="global-parameters"></a><span data-ttu-id="92088-234">Paramètres globaux</span><span class="sxs-lookup"><span data-stu-id="92088-234">Global Parameters</span></span>
<span data-ttu-id="92088-235">La page Paramètres globaux sert à configurer l’importation différentielle, le format Date/heure et la méthode de mot de passe.</span><span class="sxs-lookup"><span data-stu-id="92088-235">The Global Parameters page is used to configure Delta Import, Date/Time format, and Password method.</span></span>

![globalparameters1](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters1.png)



<span data-ttu-id="92088-237">Le connecteur SQL générique prend en charge les méthodes suivantes pour l’importation différentielle :</span><span class="sxs-lookup"><span data-stu-id="92088-237">The Generic SQL Connector supports the following methods for Delta Import:</span></span>

* <span data-ttu-id="92088-238">**Déclencheur**: consultez [Génération de vues différentielles à l’aide de déclencheurs](https://technet.microsoft.com/library/cc708665.aspx).</span><span class="sxs-lookup"><span data-stu-id="92088-238">**Trigger**: See [Generating Delta Views Using Triggers](https://technet.microsoft.com/library/cc708665.aspx).</span></span>
* <span data-ttu-id="92088-239">**Filigrane**: il s’agit d’une approche numérique qui peut être utilisée avec n’importe quelle base de données.</span><span class="sxs-lookup"><span data-stu-id="92088-239">**Watermark**: A generic approach that can be used with any database.</span></span> <span data-ttu-id="92088-240">La requête en filigrane est prérenseignée en fonction du fournisseur de base de données.</span><span class="sxs-lookup"><span data-stu-id="92088-240">The watermark query is pre-populated based on the database vendor.</span></span> <span data-ttu-id="92088-241">Une colonne de filigrane doit être présente sur chaque tableau/vue affichée.</span><span class="sxs-lookup"><span data-stu-id="92088-241">A watermark column must be present on every table/view used.</span></span> <span data-ttu-id="92088-242">Cette colonne doit assurer les insertions et les mises à jour des tables, de même que les tables dépendantes (à valeurs multiples ou enfants).</span><span class="sxs-lookup"><span data-stu-id="92088-242">This column must track inserts and updates to the tables as and its dependent (multi-valued or child) tables.</span></span> <span data-ttu-id="92088-243">Les horloges entre le service de synchronisation et le serveur de base de données doivent être synchronisées.</span><span class="sxs-lookup"><span data-stu-id="92088-243">The clocks between Synchronization Service and the database server must be synchronized.</span></span> <span data-ttu-id="92088-244">Dans le cas contraire, certaines entrées de l’importation différentielle peuvent être omises.</span><span class="sxs-lookup"><span data-stu-id="92088-244">If not, some entries in the delta import might be omitted.</span></span>  
  <span data-ttu-id="92088-245">Limite :</span><span class="sxs-lookup"><span data-stu-id="92088-245">Limitation:</span></span>
  * <span data-ttu-id="92088-246">La stratégie de filigrane ne prend pas en charge les objets supprimés.</span><span class="sxs-lookup"><span data-stu-id="92088-246">Watermark strategy does not support deleted objects.</span></span>
* <span data-ttu-id="92088-247">**Instantané**: (fonctionne uniquement avec Microsoft SQL Server) [Génération de vues différentielles à l’aide d’instantanés](https://technet.microsoft.com/library/cc720640.aspx)</span><span class="sxs-lookup"><span data-stu-id="92088-247">**Snapshot**: (Works only with Microsoft SQL Server) [Generating Delta Views Using Snapshots](https://technet.microsoft.com/library/cc720640.aspx)</span></span>
* <span data-ttu-id="92088-248">**Suivi des modifications**: (fonctionne uniquement avec Microsoft SQL Server) [About Suivi des modifications](https://msdn.microsoft.com/library/bb933875.aspx)</span><span class="sxs-lookup"><span data-stu-id="92088-248">**Change Tracking**: (Works only with Microsoft SQL Server) [About Change Tracking](https://msdn.microsoft.com/library/bb933875.aspx)</span></span>  
  <span data-ttu-id="92088-249">Limites :</span><span class="sxs-lookup"><span data-stu-id="92088-249">Limitations:</span></span>
  * <span data-ttu-id="92088-250">Le point d’ancrage et l’attribut de nom unique doivent faire partie de la clé primaire de l’objet sélectionné dans la table.</span><span class="sxs-lookup"><span data-stu-id="92088-250">Anchor & DN attribute must be part of primary key for the selected object in the table.</span></span>
  * <span data-ttu-id="92088-251">La requête SQL n’est pas prise en charge pendant l’importation et l’exportation avec suivi des modifications.</span><span class="sxs-lookup"><span data-stu-id="92088-251">SQL query is unsupported during Import and Export with Change Tracking.</span></span>

<span data-ttu-id="92088-252">**Paramètres supplémentaires**: spécifiez le fuseau horaire du serveur de base de données qui indique où se situe le serveur de base de données.</span><span class="sxs-lookup"><span data-stu-id="92088-252">**Additional Parameters**: Specify the Database Server Time Zone indicating where your Database server is located.</span></span> <span data-ttu-id="92088-253">Cette valeur est utilisée pour prendre en charge les différents formats d’attributs de date et heure.</span><span class="sxs-lookup"><span data-stu-id="92088-253">This value is used to support the various formats of date & time attributes.</span></span>

<span data-ttu-id="92088-254">Le connecteur stocke toujours les valeurs de date et date/heure au format UTC.</span><span class="sxs-lookup"><span data-stu-id="92088-254">The Connector always stores date and date-time in UTC format.</span></span> <span data-ttu-id="92088-255">Pour être en mesure d’établir une conversion correcte de la date et de l’heure, le fuseau horaire du serveur de base de données et le format utilisé doivent être spécifiés.</span><span class="sxs-lookup"><span data-stu-id="92088-255">To be able to correctly convert the date and times, the time zone of the database server and the format used must be specified.</span></span> <span data-ttu-id="92088-256">Le format doit être exprimé au format .Net.</span><span class="sxs-lookup"><span data-stu-id="92088-256">The format should be expressed in .Net format.</span></span>

<span data-ttu-id="92088-257">Pendant l’exportation, chaque attribut data/heure doit être fourni au connecteur au format horaire UTC.</span><span class="sxs-lookup"><span data-stu-id="92088-257">During export every date time attribute must be provided to the Connector in UTC time format.</span></span>

![globalparameters2](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters2.png)

<span data-ttu-id="92088-259">**Configuration de mot de passe**: le connecteur fournit des fonctionnalités de synchronisation de mot de passe et prend en charge la définition et la modification du mot de passe.</span><span class="sxs-lookup"><span data-stu-id="92088-259">**Password Configuration**: The connector provides password synchronization capabilities and supports set and change password.</span></span>

<span data-ttu-id="92088-260">Le connecteur propose deux méthodes pour prendre en charge la synchronisation de mot de passe :</span><span class="sxs-lookup"><span data-stu-id="92088-260">The Connector provides two methods to support password synchronization:</span></span>

* <span data-ttu-id="92088-261">**Procédure stockée** : cette méthode requiert deux procédures stockées pour prendre en charge la définition et la modification d’un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="92088-261">**Stored Procedure**: This method requires two stored procedures to support Set & Change password.</span></span> <span data-ttu-id="92088-262">Saisissez tous les paramètres pour ajouter et modifier le fonctionnement des mots de passe dans **Set Password SP** (SP de définition de mot de passe) et **Change Password SP** (SP de modification de mot de passe), conformément à l’exemple ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="92088-262">Type all parameters for add and change the password operation in **Set Password SP** and **Change Password SP** Parameters respectively as per below example.</span></span>
  <span data-ttu-id="92088-263">![globalparameters3](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters3.png)</span><span class="sxs-lookup"><span data-stu-id="92088-263">![globalparameters3](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters3.png)</span></span>
* <span data-ttu-id="92088-264">**Extension de mot de passe**: cette méthode nécessite des DLL d’extension de mot de passe (vous devez fournir le nom de la DLL d’extension qui implémente l’interface [IMAExtensible2Password](https://msdn.microsoft.com/library/microsoft.metadirectoryservices.imaextensible2password.aspx) ).</span><span class="sxs-lookup"><span data-stu-id="92088-264">**Password Extension**: This method requires Password extension DLL (you need to provide the Extension DLL Name that is implementing the [IMAExtensible2Password](https://msdn.microsoft.com/library/microsoft.metadirectoryservices.imaextensible2password.aspx) interface).</span></span> <span data-ttu-id="92088-265">L’assemblage d’extension de mot de passe doit être placé dans le dossier d’extension, de sorte que le connecteur puisse charger la DLL lors de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="92088-265">Password extension assembly must be placed in extension folder so that the connector can load the DLL at runtime.</span></span>
  <span data-ttu-id="92088-266">![globalparameters4](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters4.png)</span><span class="sxs-lookup"><span data-stu-id="92088-266">![globalparameters4](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters4.png)</span></span>

<span data-ttu-id="92088-267">Vous devez également activer la gestion de mot de passe sur la page **Configurer une Extension** .</span><span class="sxs-lookup"><span data-stu-id="92088-267">You also have to enable the Password Management on the **Configure Extension** page.</span></span>
<span data-ttu-id="92088-268">![globalparameters5](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters5.png)</span><span class="sxs-lookup"><span data-stu-id="92088-268">![globalparameters5](./media/active-directory-aadconnectsync-connector-genericsql/globalparameters5.png)</span></span>

### <a name="configure-partitions-and-hierarchies"></a><span data-ttu-id="92088-269">Configurer des partitions et des hiérarchies</span><span class="sxs-lookup"><span data-stu-id="92088-269">Configure Partitions and Hierarchies</span></span>
<span data-ttu-id="92088-270">Dans la page Partitions et hiérarchies, sélectionnez tous les types d’objets.</span><span class="sxs-lookup"><span data-stu-id="92088-270">On the partitions and hierarchies page, select all object types.</span></span> <span data-ttu-id="92088-271">Chaque type d’objet est sa propre partition.</span><span class="sxs-lookup"><span data-stu-id="92088-271">Each object type is its own partition.</span></span>

![partitions1](./media/active-directory-aadconnectsync-connector-genericsql/partitions1.png)

<span data-ttu-id="92088-273">Vous pouvez également remplacer les valeurs définies sur la page **Connectivité** ou **Paramètres globaux**.</span><span class="sxs-lookup"><span data-stu-id="92088-273">You can also override the values defined on the **Connectivity** or **Global Parameters** page.</span></span>

![partitions2](./media/active-directory-aadconnectsync-connector-genericsql/partitions2.png)

### <a name="configure-anchors"></a><span data-ttu-id="92088-275">Configuration de points d’ancrage</span><span class="sxs-lookup"><span data-stu-id="92088-275">Configure Anchors</span></span>
<span data-ttu-id="92088-276">Cette page est en lecture seule, car le point d’ancrage a déjà été défini.</span><span class="sxs-lookup"><span data-stu-id="92088-276">This page is read-only since the anchor has already been defined.</span></span> <span data-ttu-id="92088-277">L’attribut d’ancrage sélectionné est toujours ajouté avec le type d’objet pour s’assurer qu’il reste unique d’un type d’objet à l’autre.</span><span class="sxs-lookup"><span data-stu-id="92088-277">The selected anchor attribute is always appended with the object type to ensure it remains unique across object types.</span></span>

![Points d’ancrage](./media/active-directory-aadconnectsync-connector-genericsql/anchors.png)

## <a name="configure-run-step-parameter"></a><span data-ttu-id="92088-279">Configurer le paramètre d’exécution d’étape</span><span class="sxs-lookup"><span data-stu-id="92088-279">Configure Run Step Parameter</span></span>
<span data-ttu-id="92088-280">Ces étapes sont configurées sur les profils exécutés sur le connecteur.</span><span class="sxs-lookup"><span data-stu-id="92088-280">These steps are configured on the run profiles on the Connector.</span></span> <span data-ttu-id="92088-281">Ces configurations font un réel travail d’importation et d’exportation de données.</span><span class="sxs-lookup"><span data-stu-id="92088-281">These configurations do the actual work of importing and exporting data.</span></span>

### <a name="full-and-delta-import"></a><span data-ttu-id="92088-282">Importation complète et différentielle</span><span class="sxs-lookup"><span data-stu-id="92088-282">Full and Delta Import</span></span>
<span data-ttu-id="92088-283">Le connecteur SQL générique prend en charge les importations complètes et différentielles par le biais des méthodes qui suivent :</span><span class="sxs-lookup"><span data-stu-id="92088-283">Generic SQL Connector support Full and Delta Import using these methods:</span></span>

* <span data-ttu-id="92088-284">Table</span><span class="sxs-lookup"><span data-stu-id="92088-284">Table</span></span>
* <span data-ttu-id="92088-285">Affichage</span><span class="sxs-lookup"><span data-stu-id="92088-285">View</span></span>
* <span data-ttu-id="92088-286">Procédure stockée</span><span class="sxs-lookup"><span data-stu-id="92088-286">Stored Procedure</span></span>
* <span data-ttu-id="92088-287">Requête SQL</span><span class="sxs-lookup"><span data-stu-id="92088-287">SQL Query</span></span>

![runstep1](./media/active-directory-aadconnectsync-connector-genericsql/runstep1.png)

<span data-ttu-id="92088-289">**Table/Vue**</span><span class="sxs-lookup"><span data-stu-id="92088-289">**Table/View**</span></span>  
<span data-ttu-id="92088-290">Pour importer les attributs à valeurs multiples d’un objet, vous devez fournir le nom de table/vue séparé par des virgules dans la **Nom des tables/vues à valeurs multiples** et les conditions de rattachement respectives dans la **condition de jointure** avec la table parente.</span><span class="sxs-lookup"><span data-stu-id="92088-290">To import multi-valued attributes for an object, you have to provide the comma-separated table/view name in **Name of Multi-Valued table/views** and respective join conditions in the **Join condition** with the parent table.</span></span>

<span data-ttu-id="92088-291">Exemple : vous voulez importer l’objet Employé et tous ses attributs à plusieurs valeurs.</span><span class="sxs-lookup"><span data-stu-id="92088-291">Example: You want to import the Employee object and all its multi-valued attributes.</span></span> <span data-ttu-id="92088-292">Il existe deux tables nommées respectivement Employé (table principale) et Service (valeur multiple).</span><span class="sxs-lookup"><span data-stu-id="92088-292">There are two tables, named Employee (main table) and Department (multi-valued).</span></span>
<span data-ttu-id="92088-293">Effectuez les actions suivantes :</span><span class="sxs-lookup"><span data-stu-id="92088-293">Do the following:</span></span>

* <span data-ttu-id="92088-294">Saisissez **Employé** dans **Table/Vue/Nom unique**.</span><span class="sxs-lookup"><span data-stu-id="92088-294">Type **Employee** in **Table/View/SP**.</span></span>
* <span data-ttu-id="92088-295">Saisissez le service dans **Nom de table/vue à valeurs multiples**.</span><span class="sxs-lookup"><span data-stu-id="92088-295">Type Department in **Name of Multi-Valued table/views**.</span></span>
* <span data-ttu-id="92088-296">Saisissez la condition de jointure entre Employé et Service dans **Condition de jointure**, par exemple, `Employee.DEPTID=Department.DepartmentID`.</span><span class="sxs-lookup"><span data-stu-id="92088-296">Type the join condition between Employee & Department in **Join Condition**, for example `Employee.DEPTID=Department.DepartmentID`.</span></span>
  <span data-ttu-id="92088-297">![runstep2](./media/active-directory-aadconnectsync-connector-genericsql/runstep2.png)</span><span class="sxs-lookup"><span data-stu-id="92088-297">![runstep2](./media/active-directory-aadconnectsync-connector-genericsql/runstep2.png)</span></span>

<span data-ttu-id="92088-298">**Procédures stockées**</span><span class="sxs-lookup"><span data-stu-id="92088-298">**Stored procedures**</span></span>  
<span data-ttu-id="92088-299">![runstep3](./media/active-directory-aadconnectsync-connector-genericsql/runstep3.png)</span><span class="sxs-lookup"><span data-stu-id="92088-299">![runstep3](./media/active-directory-aadconnectsync-connector-genericsql/runstep3.png)</span></span>

* <span data-ttu-id="92088-300">Si vous avez beaucoup de données, il est conseillé de mettre en œuvre la pagination avec vos procédures stockées.</span><span class="sxs-lookup"><span data-stu-id="92088-300">If you have much data, it is recommended to implement pagination with your Stored Procedures.</span></span>
* <span data-ttu-id="92088-301">Pour que votre procédure stockée prenne en charge la pagination, vous devez fournir un index de début et un index de fin.</span><span class="sxs-lookup"><span data-stu-id="92088-301">For your Stored Procedure to support pagination, you need to provide Start Index and End Index.</span></span> <span data-ttu-id="92088-302">Voir : [Pagination efficace dans de grandes quantités de données](https://msdn.microsoft.com/library/bb445504.aspx).</span><span class="sxs-lookup"><span data-stu-id="92088-302">See: [Efficiently Paging Through Large Amounts of Data](https://msdn.microsoft.com/library/bb445504.aspx).</span></span>
* <span data-ttu-id="92088-303">@StartIndex et @EndIndex sont remplacés au moment de l’exécution par la valeur de taille configurée sur la page **Étape de configuration**.</span><span class="sxs-lookup"><span data-stu-id="92088-303">@StartIndex and @EndIndex are replaced at execution time with respective page size value configured on **Configure Step** page.</span></span> <span data-ttu-id="92088-304">Par exemple, si le connecteur récupère la première page et que la taille de page est définie sur 500, @StartIndex serait 1 et @EndIndex 500.</span><span class="sxs-lookup"><span data-stu-id="92088-304">For example, when the connector retrieves first page and the page size is set 500, in such situation @StartIndex would be 1 and @EndIndex 500.</span></span> <span data-ttu-id="92088-305">Ces valeurs augmentent lorsque le connecteur récupère les pages suivantes, ce qui a pour effet de modifier les valeurs @StartIndex et @EndIndex.</span><span class="sxs-lookup"><span data-stu-id="92088-305">These values increase when connector retrieves subsequent pages and change the @StartIndex & @EndIndex value.</span></span>
* <span data-ttu-id="92088-306">Pour exécuter la procédure stockée paramétrable, fournissez les paramètres au format `[Name]:[Direction]:[Value]` .</span><span class="sxs-lookup"><span data-stu-id="92088-306">To execute parameterized Stored Procedure, provide the parameters in `[Name]:[Direction]:[Value]` format.</span></span> <span data-ttu-id="92088-307">Saisissez chaque paramètre sur une ligne différente (Utilisez Ctrl + Entrée pour passer à la ligne).</span><span class="sxs-lookup"><span data-stu-id="92088-307">Enter each parameter on a separate line (Use Ctrl + Enter to get a new line).</span></span>
* <span data-ttu-id="92088-308">Le connecteur SQL générique prend également en charge l’opération d’importation à partir des serveurs liés dans Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="92088-308">Generic SQL connector also supports Import operation from Linked Servers in Microsoft SQL Server.</span></span> <span data-ttu-id="92088-309">Si les informations doivent être extraites d’une table sur un serveur lié, la table doit être fournie au format : `[ServerName].[Database].[Schema].[TableName]`</span><span class="sxs-lookup"><span data-stu-id="92088-309">If information should be retrieved from a Table in Linked server, then Table should be provided in the format: `[ServerName].[Database].[Schema].[TableName]`</span></span>
* <span data-ttu-id="92088-310">Le connecteur SQL générique prend en charge uniquement les objets dont la structure est similaire (les alias et le type de données) entre les informations d’étapes d’exécution et la détection de schéma.</span><span class="sxs-lookup"><span data-stu-id="92088-310">Generic SQL Connector supports only those objects that have similar structure (both alias name and data type) between run steps information and schema detection.</span></span> <span data-ttu-id="92088-311">Si l’objet sélectionné dans le schéma et les informations fournies à l’étape d’exécution sont différents, le connecteur SQL est incapable de prendre en charge ce type de scénario.</span><span class="sxs-lookup"><span data-stu-id="92088-311">If the selected object from schema and provided information at run step is different, then SQL Connector is unable to support this type of scenarios.</span></span>

<span data-ttu-id="92088-312">**Requête SQL**</span><span class="sxs-lookup"><span data-stu-id="92088-312">**SQL Query**</span></span>  
<span data-ttu-id="92088-313">![runstep4](./media/active-directory-aadconnectsync-connector-genericsql/runstep4.png)</span><span class="sxs-lookup"><span data-stu-id="92088-313">![runstep4](./media/active-directory-aadconnectsync-connector-genericsql/runstep4.png)</span></span>

![runstep5](./media/active-directory-aadconnectsync-connector-genericsql/runstep5.png)

* <span data-ttu-id="92088-315">Les requêtes à jeux de résultats multiples ne sont pas prises en charge.</span><span class="sxs-lookup"><span data-stu-id="92088-315">Multiple result sets queries not supported.</span></span>
* <span data-ttu-id="92088-316">La requête SQL prend en charge la pagination et fournit un Index de début et un index de fin en tant que variable pour prendre en charge la pagination.</span><span class="sxs-lookup"><span data-stu-id="92088-316">SQL query supports the pagination and provide start Index and End Index as a variable to support pagination.</span></span>

### <a name="delta-import"></a><span data-ttu-id="92088-317">Importation d’écart</span><span class="sxs-lookup"><span data-stu-id="92088-317">Delta Import</span></span>
![runstep6](./media/active-directory-aadconnectsync-connector-genericsql/runstep6.png)

<span data-ttu-id="92088-319">L’importation d’écart requiert une configuration plus importante que l’importation intégrale.</span><span class="sxs-lookup"><span data-stu-id="92088-319">Delta Import configuration requires some more configuration compared with Full Import.</span></span>

* <span data-ttu-id="92088-320">Si vous choisissez l’approche de déclencheur ou de capture instantanée pour assurer le suivi des modifications différentielles, fournissez la table d’historique ou la base de données d’instantané dans la zone **History Table or Snapshot database name** (Table d’historique ou Nom de base de données par instantané).</span><span class="sxs-lookup"><span data-stu-id="92088-320">If you choose the Trigger or Snapshot approach to track delta changes, then provide History Table or Snapshot database in **History Table or Snapshot database name** box.</span></span>
* <span data-ttu-id="92088-321">Vous devez également fournir une condition de jointure entre la table d’historique et la table parente, par exemple `Employee.ID=History.EmployeeID`</span><span class="sxs-lookup"><span data-stu-id="92088-321">You also need to provide join condition between History table and Parent table, for example `Employee.ID=History.EmployeeID`</span></span>
* <span data-ttu-id="92088-322">Pour suivre la transaction sur la table parente à partir de la table d’historique, vous devez fournir le nom de la colonne qui contient les informations sur l’opération (Ajout/Mise à jour/Suppression).</span><span class="sxs-lookup"><span data-stu-id="92088-322">To track the transaction on the parent table from the history table, you must provide the column name that contains the operation information (Add/Update/Delete).</span></span>
* <span data-ttu-id="92088-323">Si vous choisissez le filigrane pour suivre les modifications différentielles, fournissez le nom de la colonne qui contient les informations d’opération dans **Water Mark Column Name**(Nom de colonne Filigrane).</span><span class="sxs-lookup"><span data-stu-id="92088-323">If you choose Watermark to track delta changes, then provide the column name that contains the operation information in **Water Mark Column Name**.</span></span>
* <span data-ttu-id="92088-324">La colonne **Modifier l’attribut de type** est requise pour le type de modification.</span><span class="sxs-lookup"><span data-stu-id="92088-324">The **change Type attribute** column is required for the change type.</span></span> <span data-ttu-id="92088-325">Cette colonne mappe une modification qui se produit dans la table principale ou une table à valeurs multiples sur un type de changement dans la vue delta.</span><span class="sxs-lookup"><span data-stu-id="92088-325">This column maps a change that occurs in the primary table or multi-value table to a change type in the delta view.</span></span> <span data-ttu-id="92088-326">Cette colonne peut contenir le type de modification Modify_Attribute pour une modification au niveau de l’attribut ou un type d’ajout, de modification, de suppression pour un type de modification au niveau de l’objet.</span><span class="sxs-lookup"><span data-stu-id="92088-326">This column can contain the Modify_Attribute change type for attribute-level change or an Add, Modify, or Delete change type for an object-level change type.</span></span> <span data-ttu-id="92088-327">S’il s’agit d’autre chose que les valeurs par défaut Ajouter, Modifier ou Supprimer, vous pouvez définir ces valeurs à l’aide de cette option.</span><span class="sxs-lookup"><span data-stu-id="92088-327">If it is something other than the default value Add, Modify, or Delete, then you can define those values using this option.</span></span>

### <a name="export"></a><span data-ttu-id="92088-328">Exportation</span><span class="sxs-lookup"><span data-stu-id="92088-328">Export</span></span>
![runstep7](./media/active-directory-aadconnectsync-connector-genericsql/runstep7.png)

<span data-ttu-id="92088-330">Le connecteur SQL générique prend en charge l’exportation en utilisant quatre méthodes prises en charge telles que :</span><span class="sxs-lookup"><span data-stu-id="92088-330">Generic SQL Connector support Export using four supported methods such as:</span></span>

* <span data-ttu-id="92088-331">Table</span><span class="sxs-lookup"><span data-stu-id="92088-331">Table</span></span>
* <span data-ttu-id="92088-332">Affichage</span><span class="sxs-lookup"><span data-stu-id="92088-332">View</span></span>
* <span data-ttu-id="92088-333">Procédure stockée</span><span class="sxs-lookup"><span data-stu-id="92088-333">Stored Procedure</span></span>
* <span data-ttu-id="92088-334">Requête SQL</span><span class="sxs-lookup"><span data-stu-id="92088-334">SQL Query</span></span>

<span data-ttu-id="92088-335">**Table/Vue**</span><span class="sxs-lookup"><span data-stu-id="92088-335">**Table/View**</span></span>  
<span data-ttu-id="92088-336">Si vous choisissez l’option Table/Vue, le connecteur génère les requêtes respectives pour procéder à l’exportation.</span><span class="sxs-lookup"><span data-stu-id="92088-336">If you choose the Table/View option, then the connector generates the respective queries to do the Export.</span></span>

<span data-ttu-id="92088-337">**Procédures stockées**</span><span class="sxs-lookup"><span data-stu-id="92088-337">**Stored procedures**</span></span>  
<span data-ttu-id="92088-338">![runstep8](./media/active-directory-aadconnectsync-connector-genericsql/runstep8.png)</span><span class="sxs-lookup"><span data-stu-id="92088-338">![runstep8](./media/active-directory-aadconnectsync-connector-genericsql/runstep8.png)</span></span>

<span data-ttu-id="92088-339">Si vous choisissez l’option Procédure stockée, l’exportation nécessite 3 procédures stockées différentes pour effectuer des opérations d’insertion/de mise à jour/de suppression.</span><span class="sxs-lookup"><span data-stu-id="92088-339">If you choose the Stored Procedure option, Export requires three different Stored procedures to perform Insert/Update/Delete operations.</span></span>

* <span data-ttu-id="92088-340">**Ajouter un nom SP**: cette procédure stockée s’exécute si un objet arrive au connecteur pour une insertion dans la table concernée.</span><span class="sxs-lookup"><span data-stu-id="92088-340">**Add SP Name**: This SP runs if any object comes to connector for insertion in the respective table.</span></span>
* <span data-ttu-id="92088-341">**Mettre à jour un nom SP**: cette procédure stockée s’exécute si un objet arrive au connecteur pour une mise à jour dans la table concernée.</span><span class="sxs-lookup"><span data-stu-id="92088-341">**Update SP Name**: This SP runs if any object comes to connector for update in the respective table.</span></span>
* <span data-ttu-id="92088-342">**Supprimer un nom SP**: cette procédure stockée s’exécute si un objet arrive au connecteur pour une suppression de la table concernée.</span><span class="sxs-lookup"><span data-stu-id="92088-342">**Delete SP Name**: This SP runs if any object comes to connector for deletion in the respective table.</span></span>
* <span data-ttu-id="92088-343">Attribut sélectionné à partir du schéma utilisé comme valeur de paramètre à la procédure stockée.</span><span class="sxs-lookup"><span data-stu-id="92088-343">Attribute selected from the schema used as a parameter value to the stored procedure.</span></span> <span data-ttu-id="92088-344">Par exemple, `EmployeeName: INPUT: @EmployeeName` (EmployeeName est sélectionné dans le schéma de connecteur et un connecteur remplace la valeur correspondante lors de l’exportation)</span><span class="sxs-lookup"><span data-stu-id="92088-344">For example, `EmployeeName: INPUT: @EmployeeName` (EmployeeName is selected in the connector schema and the connector replaces the respective value while doing export)</span></span>
* <span data-ttu-id="92088-345">Pour exécuter la procédure stockée paramétrée, fournissez les paramètres au format `[Name]:[Direction]:[Value]` .</span><span class="sxs-lookup"><span data-stu-id="92088-345">To run parameterized stored procedure, provide parameters in `[Name]:[Direction]:[Value]` format.</span></span> <span data-ttu-id="92088-346">Saisissez chaque paramètre sur une ligne différente (Utilisez Ctrl + Entrée pour passer à la ligne).</span><span class="sxs-lookup"><span data-stu-id="92088-346">Enter each parameter on a separate line (Use Ctrl + Enter to get a new line).</span></span>

<span data-ttu-id="92088-347">**SQL query**</span><span class="sxs-lookup"><span data-stu-id="92088-347">**SQL query**</span></span>  
<span data-ttu-id="92088-348">![runstep9](./media/active-directory-aadconnectsync-connector-genericsql/runstep9.png)</span><span class="sxs-lookup"><span data-stu-id="92088-348">![runstep9](./media/active-directory-aadconnectsync-connector-genericsql/runstep9.png)</span></span>

<span data-ttu-id="92088-349">Si vous choisissez l’option Requête SQL, l’exportation nécessite 3 procédures stockées différentes pour effectuer les opérations d’insertion/de mise à jour/de suppression.</span><span class="sxs-lookup"><span data-stu-id="92088-349">If you choose the SQL query option, Export requires three different queries to perform Insert/Update/Delete operations.</span></span>

* <span data-ttu-id="92088-350">**Requête d’insertion**: cette requête s’exécute si un objet arrive au connecteur pour une insertion dans la table concernée.</span><span class="sxs-lookup"><span data-stu-id="92088-350">**Insert Query**: This query runs if any object comes to connector for insertion in the respective table.</span></span>
* <span data-ttu-id="92088-351">**Requête de mise à jour**: cette requête s’exécute si un objet arrive au connecteur pour une mise à jour dans la table concernée.</span><span class="sxs-lookup"><span data-stu-id="92088-351">**Update Query**: This query runs if any object comes to connector for update in the respective table.</span></span>
* <span data-ttu-id="92088-352">**Requête de suppression**: cette requête s’exécute si un objet arrive au connecteur pour une suppression de la table concernée.</span><span class="sxs-lookup"><span data-stu-id="92088-352">**Delete Query**: This query runs if any object comes to connector for deletion in the respective table.</span></span>
* <span data-ttu-id="92088-353">Attribut sélectionné à partir du schéma utilisé comme valeur de paramètre à la requête, par exemple `Insert into Employee (ID, Name) Values (@ID, @EmployeeName)`</span><span class="sxs-lookup"><span data-stu-id="92088-353">Attribute selected from the schema used as a parameter value to the query, for example `Insert into Employee (ID, Name) Values (@ID, @EmployeeName)`</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="92088-354">Résolution de problèmes</span><span class="sxs-lookup"><span data-stu-id="92088-354">Troubleshooting</span></span>
* <span data-ttu-id="92088-355">Pour plus d’informations sur la façon d’activer la journalisation pour résoudre les problèmes du connecteur, consultez [Comment activer le suivi ETW pour les connecteurs](http://go.microsoft.com/fwlink/?LinkId=335731).</span><span class="sxs-lookup"><span data-stu-id="92088-355">For information on how to enable logging to troubleshoot the connector, see the [How to Enable ETW Tracing for Connectors](http://go.microsoft.com/fwlink/?LinkId=335731).</span></span>
