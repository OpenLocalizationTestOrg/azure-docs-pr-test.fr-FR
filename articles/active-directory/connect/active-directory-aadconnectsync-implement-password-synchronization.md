---
title: synchronisation de mot de passe aaaImplement avec synchronisation Azure AD Connect | Documents Microsoft
description: Fournit des informations sur comment fonctionne de la synchronisation de mot de passe et tooset des.
services: active-directory
documentationcenter: 
author: MarkusVi
manager: femila
editor: 
ms.assetid: 05f16c3e-9d23-45dc-afca-3d0fa9dbf501
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/17/2017
ms.author: billmath
ms.openlocfilehash: a0401640f2a4d914419ee4446f923bb3a972389d
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="implement-password-synchronization-with-azure-ad-connect-sync"></a><span data-ttu-id="fc61c-103">Implémenter la synchronisation de mot de passe avec la synchronisation Azure AD Connect</span><span class="sxs-lookup"><span data-stu-id="fc61c-103">Implement password synchronization with Azure AD Connect sync</span></span>
<span data-ttu-id="fc61c-104">Cet article fournit des informations que vous avez besoin toosynchronize vos mots de passe utilisateur depuis une local Active instance tooa basée sur le cloud Azure Active Directory (Azure AD) instance de l’annuaire.</span><span class="sxs-lookup"><span data-stu-id="fc61c-104">This article provides information that you need toosynchronize your user passwords from an on-premises Active Directory instance tooa cloud-based Azure Active Directory (Azure AD) instance.</span></span>

## <a name="what-is-password-synchronization"></a><span data-ttu-id="fc61c-105">Qu'est-ce que la synchronisation de mot de passe ?</span><span class="sxs-lookup"><span data-stu-id="fc61c-105">What is password synchronization</span></span>
<span data-ttu-id="fc61c-106">Hello la probabilité que vous êtes bloqué à partir de la réalisation de votre travail en raison d’un mot de passe oublié de tooa concerne toohello nombre de mots de passe différents, vous devez tooremember.</span><span class="sxs-lookup"><span data-stu-id="fc61c-106">hello probability that you're blocked from getting your work done due tooa forgotten password is related toohello number of different passwords you need tooremember.</span></span> <span data-ttu-id="fc61c-107">Bonjour plusieurs mots de passe vous devez tooremember, hello supérieur hello probabilité tooforget une.</span><span class="sxs-lookup"><span data-stu-id="fc61c-107">hello more passwords you need tooremember, hello higher hello probability tooforget one.</span></span> <span data-ttu-id="fc61c-108">Questions et des appels sur les réinitialisations de mot de passe et d’autres à la demande de problèmes liés au mot de passe hello la plupart des ressources de support technique.</span><span class="sxs-lookup"><span data-stu-id="fc61c-108">Questions and calls about password resets and other password-related issues demand hello most helpdesk resources.</span></span>

<span data-ttu-id="fc61c-109">Synchronisation de mot de passe est qu'une fonctionnalité utilisée toosynchronize mots de passe utilisateur d’une instance de tooa basée sur le cloud Azure AD instance locale Active Directory.</span><span class="sxs-lookup"><span data-stu-id="fc61c-109">Password synchronization is a feature used toosynchronize user passwords from an on-premises Active Directory instance tooa cloud-based Azure AD instance.</span></span>
<span data-ttu-id="fc61c-110">Utiliser cette fonctionnalité toosign dans les services de tooAzure AD comme Office 365, Microsoft Intune, CRM Online et les Services de domaine d’Active Directory Azure (Azure AD DS).</span><span class="sxs-lookup"><span data-stu-id="fc61c-110">Use this feature toosign in tooAzure AD services like Office 365, Microsoft Intune, CRM Online, and Azure Active Directory Domain Services (Azure AD DS).</span></span> <span data-ttu-id="fc61c-111">Vous vous connectez toohello service à l’aide de hello même mot de passe toosign dans tooyour local instance Active Directory.</span><span class="sxs-lookup"><span data-stu-id="fc61c-111">You sign in toohello service by using hello same password you use toosign in tooyour on-premises Active Directory instance.</span></span>

![Qu’est-ce qu’Azure AD Connect ?](./media/active-directory-aadconnectsync-implement-password-synchronization/arch1.png)

<span data-ttu-id="fc61c-113">En réduisant le nombre de hello des mots de passe, vos utilisateurs doivent toojust toomaintain une.</span><span class="sxs-lookup"><span data-stu-id="fc61c-113">By reducing hello number of passwords, your users need toomaintain toojust one.</span></span> <span data-ttu-id="fc61c-114">La synchronisation de mot de passe vous aide à :</span><span class="sxs-lookup"><span data-stu-id="fc61c-114">Password synchronization helps you to:</span></span>

* <span data-ttu-id="fc61c-115">Améliorer la productivité de hello de vos utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="fc61c-115">Improve hello productivity of your users.</span></span>
* <span data-ttu-id="fc61c-116">Réduire vos coûts de support technique.</span><span class="sxs-lookup"><span data-stu-id="fc61c-116">Reduce your helpdesk costs.</span></span>  

<span data-ttu-id="fc61c-117">En outre, si vous décidez de toouse [fédération avec Active Directory Federation Services (ADFS)](https://channel9.msdn.com/Series/Azure-Active-Directory-Videos-Demos/Configuring-AD-FS-for-user-sign-in-with-Azure-AD-Connect), vous pouvez éventuellement définir la synchronisation de mot de passe de sauvegarde en cas d’échec de votre infrastructure AD FS.</span><span class="sxs-lookup"><span data-stu-id="fc61c-117">Also, if you decide toouse [Federation with Active Directory Federation Services (AD FS)](https://channel9.msdn.com/Series/Azure-Active-Directory-Videos-Demos/Configuring-AD-FS-for-user-sign-in-with-Azure-AD-Connect), you can optionally set up password synchronization as a backup in case your AD FS infrastructure fails.</span></span>

<span data-ttu-id="fc61c-118">Synchronisation de mot de passe est une fonctionnalité de synchronisation directory extension toohello implémentée par la synchronisation Azure AD Connect. synchronisation de mot de passe toouse dans votre environnement, vous devez :</span><span class="sxs-lookup"><span data-stu-id="fc61c-118">Password synchronization is an extension toohello directory synchronization feature implemented by Azure AD Connect sync. toouse password synchronization in your environment, you need to:</span></span>

* <span data-ttu-id="fc61c-119">Installer Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="fc61c-119">Install Azure AD Connect.</span></span>  
* <span data-ttu-id="fc61c-120">Configurez la synchronisation d’annuaire entre votre instance Active Directory locale et votre instance Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="fc61c-120">Configure directory synchronization between your on-premises Active Directory instance and your Azure Active Directory instance.</span></span>
* <span data-ttu-id="fc61c-121">Activer la synchronisation de mot de passe.</span><span class="sxs-lookup"><span data-stu-id="fc61c-121">Enable password synchronization.</span></span>

<span data-ttu-id="fc61c-122">Pour plus d’informations, consultez [Intégration de vos identités locales avec Azure Active Directory](active-directory-aadconnect.md).</span><span class="sxs-lookup"><span data-stu-id="fc61c-122">For more details, see [Integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md).</span></span>

> [!NOTE]
> <span data-ttu-id="fc61c-123">Pour plus d'informations sur les services de domaine Azure Active Directory configurés pour la synchronisation de mot de passe et FIPS, consultez « Synchronisation du mot de passe et FIPS » plus loin dans cet article.</span><span class="sxs-lookup"><span data-stu-id="fc61c-123">For more details about Azure Active Directory Domain Services configured for FIPS and password synchronization, see "Password synchronization and FIPS" later in this article.</span></span>
>
>

## <a name="how-password-synchronization-works"></a><span data-ttu-id="fc61c-124">Fonctionnement de la synchronisation de mot de passe</span><span class="sxs-lookup"><span data-stu-id="fc61c-124">How password synchronization works</span></span>
<span data-ttu-id="fc61c-125">Hello service de domaine Active Directory stocke les mots de passe sous forme de hello d’une représentation sous forme de valeur de hachage de mot de passe de l’utilisateur réel hello.</span><span class="sxs-lookup"><span data-stu-id="fc61c-125">hello Active Directory domain service stores passwords in hello form of a hash value representation of hello actual user password.</span></span> <span data-ttu-id="fc61c-126">Une valeur de hachage est le résultat d’une fonction mathématique unidirectionnelle (hello *algorithme de hachage*).</span><span class="sxs-lookup"><span data-stu-id="fc61c-126">A hash value is a result of a one-way mathematical function (hello *hashing algorithm*).</span></span> <span data-ttu-id="fc61c-127">Il n’existe aucun résultat de hello méthode toorevert d’une version de texte brut toohello fonction à sens unique d’un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="fc61c-127">There is no method toorevert hello result of a one-way function toohello plain text version of a password.</span></span> <span data-ttu-id="fc61c-128">Vous ne pouvez pas utiliser un toosign de hachage de mot de passe dans le réseau local de tooyour.</span><span class="sxs-lookup"><span data-stu-id="fc61c-128">You cannot use a password hash toosign in tooyour on-premises network.</span></span>

<span data-ttu-id="fc61c-129">votre mot de passe, la synchronisation Azure AD Connect extrait le hachage de mot de passe à partir de toosynchronize hello instance d’Active Directory local.</span><span class="sxs-lookup"><span data-stu-id="fc61c-129">toosynchronize your password, Azure AD Connect sync extracts your password hash from hello on-premises Active Directory instance.</span></span> <span data-ttu-id="fc61c-130">Traitement de sécurité supplémentaire est appliqué toohello hachage de mot de passe avant qu’il soit synchronisé le service d’authentification Azure Active Directory toohello.</span><span class="sxs-lookup"><span data-stu-id="fc61c-130">Extra security processing is applied toohello password hash before it is synchronized toohello Azure Active Directory authentication service.</span></span> <span data-ttu-id="fc61c-131">Les mots de passe sont synchronisés pour chaque utilisateur et par ordre chronologique.</span><span class="sxs-lookup"><span data-stu-id="fc61c-131">Passwords are synchronized on a per-user basis and in chronological order.</span></span>

<span data-ttu-id="fc61c-132">flux de données réelles Hello du processus de synchronisation de mot de passe hello est similaire synchronisation toohello des données utilisateur telles que le nom d’affichage ou les adresses de messagerie.</span><span class="sxs-lookup"><span data-stu-id="fc61c-132">hello actual data flow of hello password synchronization process is similar toohello synchronization of user data such as DisplayName or Email Addresses.</span></span> <span data-ttu-id="fc61c-133">Toutefois, les mots de passe sont synchronisés plus fréquemment que la fenêtre de synchronisation d’annuaires standard hello pour d’autres attributs.</span><span class="sxs-lookup"><span data-stu-id="fc61c-133">However, passwords are synchronized more frequently than hello standard directory synchronization window for other attributes.</span></span> <span data-ttu-id="fc61c-134">processus de synchronisation de mot de passe Hello s’exécute toutes les 2 minutes.</span><span class="sxs-lookup"><span data-stu-id="fc61c-134">hello password synchronization process runs every 2 minutes.</span></span> <span data-ttu-id="fc61c-135">Vous ne pouvez pas modifier la fréquence hello de ce processus.</span><span class="sxs-lookup"><span data-stu-id="fc61c-135">You cannot modify hello frequency of this process.</span></span> <span data-ttu-id="fc61c-136">Lorsque vous synchronisez un mot de passe, elle remplace le mot de passe de cloud computing existant hello.</span><span class="sxs-lookup"><span data-stu-id="fc61c-136">When you synchronize a password, it overwrites hello existing cloud password.</span></span>

<span data-ttu-id="fc61c-137">Hello première fois que vous activez la fonctionnalité de synchronisation de mot de passe hello, il effectue une synchronisation initiale des mots de passe hello de tous les utilisateurs dans l’étendue.</span><span class="sxs-lookup"><span data-stu-id="fc61c-137">hello first time you enable hello password synchronization feature, it performs an initial synchronization of hello passwords of all in-scope users.</span></span> <span data-ttu-id="fc61c-138">Vous ne peut pas définir explicitement un sous-ensemble des mots de passe utilisateur que vous souhaitez toosynchronize.</span><span class="sxs-lookup"><span data-stu-id="fc61c-138">You cannot explicitly define a subset of user passwords that you want toosynchronize.</span></span>

<span data-ttu-id="fc61c-139">Lorsque vous modifiez un mot de passe local, hello mise à jour de mot de passe est synchronisé, plus souvent en quelques minutes.</span><span class="sxs-lookup"><span data-stu-id="fc61c-139">When you change an on-premises password, hello updated password is synchronized, most often in a matter of minutes.</span></span>
<span data-ttu-id="fc61c-140">fonctionnalité de synchronisation de mot de passe Hello tente automatiquement de tentatives de synchronisation a échoué.</span><span class="sxs-lookup"><span data-stu-id="fc61c-140">hello password synchronization feature automatically retries failed synchronization attempts.</span></span> <span data-ttu-id="fc61c-141">Si une erreur produit pendant une tentative toosynchronize un mot de passe, une erreur est consignée dans l’Observateur d’événements.</span><span class="sxs-lookup"><span data-stu-id="fc61c-141">If an error occurs during an attempt toosynchronize a password, an error is logged in your event viewer.</span></span>

<span data-ttu-id="fc61c-142">synchronisation Hello de mot de passe n’a aucun impact sur l’utilisateur hello qui est actuellement connecté.</span><span class="sxs-lookup"><span data-stu-id="fc61c-142">hello synchronization of a password has no impact on hello user  who is currently signed in.</span></span>
<span data-ttu-id="fc61c-143">Votre session de service cloud en cours n’est pas immédiatement affectée par une modification de mot de passe synchronisé qui se produit quand vous êtes connecté dans le service cloud tooa.</span><span class="sxs-lookup"><span data-stu-id="fc61c-143">Your current cloud service session is not immediately affected by a synchronized password change that occurs while you are signed in tooa cloud service.</span></span> <span data-ttu-id="fc61c-144">Toutefois, lorsque le service cloud hello requiert tooauthenticate à nouveau, vous devez tooprovide votre nouveau mot de passe.</span><span class="sxs-lookup"><span data-stu-id="fc61c-144">However, when hello cloud service requires you tooauthenticate again, you need tooprovide your new password.</span></span>

<span data-ttu-id="fc61c-145">Un utilisateur doit entrer leurs informations d’identification d’entreprise un tooAzure tooauthenticate de deuxième temps AD, quelle que soit la qu’elles sont signées tootheir réseau d’entreprise.</span><span class="sxs-lookup"><span data-stu-id="fc61c-145">A user must enter their corporate credentials a second time tooauthenticate tooAzure AD, regardless of whether they're signed in tootheir corporate network.</span></span> <span data-ttu-id="fc61c-146">Ces modèle peut être réduite, toutefois, si l’utilisateur de hello sélectionne les hello maintenir la connexion dans la case à cocher (KMSI) au niveau de la connexion.</span><span class="sxs-lookup"><span data-stu-id="fc61c-146">These pattern can be minimized, however, if hello user selects hello Keep me signed in (KMSI) check box at sign in.</span></span> <span data-ttu-id="fc61c-147">Cette sélection définit un cookie de session qui ignore l’authentification pendant une courte période.</span><span class="sxs-lookup"><span data-stu-id="fc61c-147">This selection sets a session cookie that bypasses authentication for a short period.</span></span> <span data-ttu-id="fc61c-148">Comportement KMSI peut être activé ou désactivé par l’administrateur d’Azure AD hello.</span><span class="sxs-lookup"><span data-stu-id="fc61c-148">KMSI behavior can be enabled or disabled by hello Azure AD administrator.</span></span>

> [!NOTE]
> <span data-ttu-id="fc61c-149">Synchronisation de mot de passe est uniquement pris en charge pour l’utilisateur de type hello objet dans Active Directory.</span><span class="sxs-lookup"><span data-stu-id="fc61c-149">Password sync is only supported for hello object type user in Active Directory.</span></span> <span data-ttu-id="fc61c-150">Il n’est pas pris en charge pour le type d’objet iNetOrgPerson hello.</span><span class="sxs-lookup"><span data-stu-id="fc61c-150">It is not supported for hello iNetOrgPerson object type.</span></span>

### <a name="detailed-description-of-how-password-synchronization-works"></a><span data-ttu-id="fc61c-151">Description détaillée du fonctionnement de la synchronisation des mots de passe</span><span class="sxs-lookup"><span data-stu-id="fc61c-151">Detailed description of how password synchronization works</span></span>
<span data-ttu-id="fc61c-152">suivant de Hello décrit en détail comment fonctionne la synchronisation de mot de passe entre Active Directory et Azure AD.</span><span class="sxs-lookup"><span data-stu-id="fc61c-152">hello following describes in-depth how password synchronization works between Active Directory and Azure AD.</span></span>

![Flux de travail détaillé des mots de passe](./media/active-directory-aadconnectsync-implement-password-synchronization/arch3.png)


1. <span data-ttu-id="fc61c-154">Toutes les deux minutes, agent de synchronisation de mot de passe de hello sur le serveur de connexion hello AD demande des hachages de mot de passe stocké (l’attribut unicodePwd hello) à partir d’un contrôleur de domaine via hello standard [MS-DRSR](https://msdn.microsoft.com/library/cc228086.aspx) protocole de réplication utilisé toosynchronize données entre les contrôleurs de domaine.</span><span class="sxs-lookup"><span data-stu-id="fc61c-154">Every two minutes, hello password synchronization agent on hello AD Connect server requests stored password hashes (hello unicodePwd attribute) from a DC via hello standard [MS-DRSR](https://msdn.microsoft.com/library/cc228086.aspx) replication protocol used toosynchronize data between DCs.</span></span> <span data-ttu-id="fc61c-155">compte de service de Hello doit disposer de répliquer les modifications d’annuaire et les hachages de mot de passe répliquer Active toutes les modifications AD autorisations (par défaut sur l’installation) tooobtain hello.</span><span class="sxs-lookup"><span data-stu-id="fc61c-155">hello service account must have Replicate Directory Changes and Replicate Directory Changes All AD permissions (granted by default on installation) tooobtain hello password hashes.</span></span>
2. <span data-ttu-id="fc61c-156">Avant d’envoyer, hello DC chiffre le hachage de mot de passe hello MD4 à l’aide d’une clé qui est un [MD5](http://www.rfc-editor.org/rfc/rfc1321.txt) hachage de clé de session RPC hello et d’un salt.</span><span class="sxs-lookup"><span data-stu-id="fc61c-156">Before sending, hello DC encrypts hello MD4 password hash by using a key that is a [MD5](http://www.rfc-editor.org/rfc/rfc1321.txt) hash of hello RPC session key and a salt.</span></span> <span data-ttu-id="fc61c-157">Il envoie ensuite l’agent de synchronisation de mot de passe hello résultat toohello via RPC.</span><span class="sxs-lookup"><span data-stu-id="fc61c-157">It then sends hello result toohello password synchronization agent over RPC.</span></span> <span data-ttu-id="fc61c-158">Hello contrôleur de domaine passe également l’agent de synchronisation hello salt toohello en utilisant le protocole de réplication hello contrôleur de domaine, pour que l’agent de hello soient enveloppe de hello toodecrypt en mesure de.</span><span class="sxs-lookup"><span data-stu-id="fc61c-158">hello DC also passes hello salt toohello synchronization agent by using hello DC replication protocol, so hello agent will be able toodecrypt hello envelope.</span></span>
3.  <span data-ttu-id="fc61c-159">Agent de synchronisation de mot de passe hello après l’enveloppe chiffrée de hello, il utilise [MD5CryptoServiceProvider](https://msdn.microsoft.com/library/System.Security.Cryptography.MD5CryptoServiceProvider.aspx) et hello salt toogenerate toodecrypt clé hello reçu tooits arrière d’origine MD4 format de données.</span><span class="sxs-lookup"><span data-stu-id="fc61c-159">After hello password synchronization agent has hello encrypted envelope, it uses [MD5CryptoServiceProvider](https://msdn.microsoft.com/library/System.Security.Cryptography.MD5CryptoServiceProvider.aspx) and hello salt toogenerate a key toodecrypt hello received data back tooits original MD4 format.</span></span> <span data-ttu-id="fc61c-160">À aucun moment l’agent de synchronisation du mot de passe hello a accès toohello mot de passe.</span><span class="sxs-lookup"><span data-stu-id="fc61c-160">At no point does hello password synchronization agent have access toohello clear text password.</span></span> <span data-ttu-id="fc61c-161">Hello utilisation de l’agent de synchronisation de mot de passe de MD5 est strictement pour la compatibilité de protocole de réplication avec hello contrôleur de domaine, et il est utilisé uniquement en local entre hello contrôleur de domaine et l’agent de synchronisation de mot de passe hello.</span><span class="sxs-lookup"><span data-stu-id="fc61c-161">hello password synchronization agent’s use of MD5 is strictly for replication protocol compatibility with hello DC, and it is only used on premises between hello DC and hello password synchronization agent.</span></span>
4.  <span data-ttu-id="fc61c-162">agent de synchronisation de mot de passe Hello développe les octets de too64 de hachage de mot de passe binaire de 16 octets hello par la première conversion hello hachage tooa 32 octets chaîne hexadécimale, ensuite convertir cette chaîne dans le fichier binaire avec l’encodage UTF-16.</span><span class="sxs-lookup"><span data-stu-id="fc61c-162">hello password synchronization agent expands hello 16-byte binary password hash too64 bytes by first converting hello hash tooa 32-byte hexadecimal string, then converting this string back into binary with UTF-16 encoding.</span></span>
5.  <span data-ttu-id="fc61c-163">agent de synchronisation de mot de passe Hello ajoute un salt, composé d’un salt de 10 octets, toofurther binaire de 64 octets toohello protéger hachage d’origine de hello.</span><span class="sxs-lookup"><span data-stu-id="fc61c-163">hello password synchronization agent adds a salt, consisting of a 10-byte length salt, toohello 64-byte binary toofurther protect hello original hash.</span></span>
6.  <span data-ttu-id="fc61c-164">agent de synchronisation de mot de passe Hello puis combine le hachage de hello MD4 plus salt et les entrées qu’il en hello [PBKDF2](https://www.ietf.org/rfc/rfc2898.txt) (fonction).</span><span class="sxs-lookup"><span data-stu-id="fc61c-164">hello password synchronization agent then combines hello MD4 hash plus salt, and inputs it into hello [PBKDF2](https://www.ietf.org/rfc/rfc2898.txt) function.</span></span> <span data-ttu-id="fc61c-165">1000 itérations Hello [HMAC-SHA256](https://msdn.microsoft.com/library/system.security.cryptography.hmacsha256.aspx) algorithme de hachage à clé est utilisée.</span><span class="sxs-lookup"><span data-stu-id="fc61c-165">1000 iterations of hello [HMAC-SHA256](https://msdn.microsoft.com/library/system.security.cryptography.hmacsha256.aspx) keyed hashing algorithm is used.</span></span> 
7.  <span data-ttu-id="fc61c-166">agent de synchronisation de mot de passe Hello prend la valeur de hachage de 32 octets obtenue hello, concatène deux sel de salutation hello nombre de tooit d’itérations SHA256 (pour une utilisation par Azure AD), puis transmet la chaîne hello à partir d’Azure AD Connect tooAzure AD via le protocole SSL.</span><span class="sxs-lookup"><span data-stu-id="fc61c-166">hello password synchronization agent takes hello resulting 32-byte hash, concatenates both hello salt and hello number of SHA256 iterations tooit (for use by Azure AD), then transmits hello string from Azure AD Connect tooAzure AD over SSL.</span></span></br> 
8.  <span data-ttu-id="fc61c-167">Lorsqu’un utilisateur tente de toosign dans tooAzure AD et passe à leur mot de passe, le mot de passe hello sont exécutée via hello MD4 même + salt + PBKDF2 + HMAC-SHA256 processus.</span><span class="sxs-lookup"><span data-stu-id="fc61c-167">When a user attempts toosign in tooAzure AD and enters their password, hello password is run through hello same MD4+salt+PBKDF2+HMAC-SHA256 process.</span></span> <span data-ttu-id="fc61c-168">Si le hachage obtenu de hello correspond au hachage hello stocké dans Azure AD, hello a entré un mot de passe correct hello et est authentifié.</span><span class="sxs-lookup"><span data-stu-id="fc61c-168">If hello resulting hash matches hello hash stored in Azure AD, hello user has entered hello correct password and is authenticated.</span></span> 

>[!Note] 
><span data-ttu-id="fc61c-169">hachage MD4 d’origine de Hello n’est pas transmis tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="fc61c-169">hello original MD4 hash is not transmitted tooAzure AD.</span></span> <span data-ttu-id="fc61c-170">Au lieu de cela, hello hachage SHA256 de hachage MD4 d’origine de hello est transmis.</span><span class="sxs-lookup"><span data-stu-id="fc61c-170">Instead, hello SHA256 hash of hello original MD4 hash is transmitted.</span></span> <span data-ttu-id="fc61c-171">Par conséquent, si hachage hello stocké dans Azure AD est obtenu, il ne peut pas être utilisé dans une attaque pass-the-hash de local.</span><span class="sxs-lookup"><span data-stu-id="fc61c-171">As a result, if hello hash stored in Azure AD is obtained, it cannot be used in an on-premises pass-the-hash attack.</span></span>

### <a name="how-password-synchronization-works-with-azure-active-directory-domain-services"></a><span data-ttu-id="fc61c-172">Fonctionnement de la synchronisation de mot de passe avec Azure Active Directory Domain Services</span><span class="sxs-lookup"><span data-stu-id="fc61c-172">How password synchronization works with Azure Active Directory Domain Services</span></span>
<span data-ttu-id="fc61c-173">Vous pouvez également utiliser toosynchronize de fonctionnalité de synchronisation de mot de passe hello vos mots de passe local trop[Azure des Services de domaine Active Directory](../../active-directory-domain-services/active-directory-ds-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fc61c-173">You can also use hello password synchronization feature toosynchronize your on-premises passwords too[Azure Active Directory Domain Services](../../active-directory-domain-services/active-directory-ds-overview.md).</span></span> <span data-ttu-id="fc61c-174">Dans ce scénario, instance d’Azure Active Directory Domain Services hello authentifie les utilisateurs dans le cloud de hello avec toutes les méthodes de hello disponibles dans votre instance d’Active Directory local.</span><span class="sxs-lookup"><span data-stu-id="fc61c-174">In this scenario, hello Azure Active Directory Domain Services instance authenticates your users in hello cloud with all hello methods available in your on-premises Active Directory instance.</span></span> <span data-ttu-id="fc61c-175">expérience de Hello de ce scénario est similaire toousing hello outil de Migration Active Directory (ADMT) dans un environnement sur site.</span><span class="sxs-lookup"><span data-stu-id="fc61c-175">hello experience of this scenario is similar toousing hello Active Directory Migration Tool (ADMT) in an on-premises environment.</span></span>

### <a name="security-considerations"></a><span data-ttu-id="fc61c-176">Considérations relatives à la sécurité</span><span class="sxs-lookup"><span data-stu-id="fc61c-176">Security considerations</span></span>
<span data-ttu-id="fc61c-177">Lors de la synchronisation des mots de passe, version de votre mot de passe en texte brut hello n’est pas fonctionnalité de synchronisation de mot de passe toohello exposé, tooAzure AD ou l’un des services de hello associé.</span><span class="sxs-lookup"><span data-stu-id="fc61c-177">When synchronizing passwords, hello plain-text version of your password is not exposed toohello password synchronization feature, tooAzure AD, or any of hello associated services.</span></span>

<span data-ttu-id="fc61c-178">Authentification de l’utilisateur a lieu auprès d’Azure AD, plutôt que par rapport à l’instance Active Directory de l’organisation hello.</span><span class="sxs-lookup"><span data-stu-id="fc61c-178">User authentication takes place against Azure AD rather than against hello organization's own Active Directory instance.</span></span> <span data-ttu-id="fc61c-179">Si votre organisation a des problèmes sur les données de mot de passe dans un format en laissant hello local, considérez les faits hello que les données de mot de passe SHA256 stockées dans Azure AD--hello un hachage de hachage MD4 d’origine hello--est beaucoup plus sûre que ce qui est stocké dans Active Directory.</span><span class="sxs-lookup"><span data-stu-id="fc61c-179">If your organization has concerns about password data in any form leaving hello premises, consider hello fact that hello SHA256 password data stored in Azure AD--a hash of hello original MD4 hash--is significantly more secure than what is stored in Active Directory.</span></span> <span data-ttu-id="fc61c-180">En outre, étant donné que ce hachage SHA256 ne peut pas être déchiffré, il ne peut pas remettre en environnement Active Directory de l’organisation toohello et présenté sous la forme d’un mot de passe d’utilisateur valide dans une attaque pass-the-hash.</span><span class="sxs-lookup"><span data-stu-id="fc61c-180">Further, because this SHA256 hash cannot be decrypted, it cannot be brought back toohello organization's Active Directory environment and presented as a valid user password in a pass-the-hash attack.</span></span>





### <a name="password-policy-considerations"></a><span data-ttu-id="fc61c-181">Remarques sur les stratégies de mot de passe</span><span class="sxs-lookup"><span data-stu-id="fc61c-181">Password policy considerations</span></span>
<span data-ttu-id="fc61c-182">Deux types de stratégies de mot de passe sont affectés par l’activation de la synchronisation de mot de passe :</span><span class="sxs-lookup"><span data-stu-id="fc61c-182">There are two types of password policies that are affected by enabling password synchronization:</span></span>

* <span data-ttu-id="fc61c-183">Stratégie de complexité de mot de passe</span><span class="sxs-lookup"><span data-stu-id="fc61c-183">Password complexity policy</span></span>
* <span data-ttu-id="fc61c-184">Stratégie d’expiration de mot de passe</span><span class="sxs-lookup"><span data-stu-id="fc61c-184">Password expiration policy</span></span>

#### <a name="password-complexity-policy"></a><span data-ttu-id="fc61c-185">Stratégie de complexité de mot de passe</span><span class="sxs-lookup"><span data-stu-id="fc61c-185">Password complexity policy</span></span>  
<span data-ttu-id="fc61c-186">Lorsque la synchronisation de mot de passe est activée, les stratégies de complexité de mot de passe hello dans votre instance d’Active Directory local remplacent la stratégie dans le cloud hello pour les utilisateurs synchronisés.</span><span class="sxs-lookup"><span data-stu-id="fc61c-186">When password synchronization is enabled, hello password complexity policies in your on-premises Active Directory instance override complexity policies in hello cloud for synchronized users.</span></span> <span data-ttu-id="fc61c-187">Vous pouvez utiliser tous les mots de passe valides hello à partir de votre ordinateur local Active Directory instance tooaccess services Azure AD.</span><span class="sxs-lookup"><span data-stu-id="fc61c-187">You can use all of hello valid passwords from your on-premises Active Directory instance tooaccess Azure AD services.</span></span>

> [!NOTE]
> <span data-ttu-id="fc61c-188">Les mots de passe pour les utilisateurs qui sont créés directement dans le cloud de hello existe toujours des stratégies de toopassword objet tel que défini dans le cloud de hello.</span><span class="sxs-lookup"><span data-stu-id="fc61c-188">Passwords for users that are created directly in hello cloud are still subject toopassword policies as defined in hello cloud.</span></span>

#### <a name="password-expiration-policy"></a><span data-ttu-id="fc61c-189">Stratégie d’expiration de mot de passe</span><span class="sxs-lookup"><span data-stu-id="fc61c-189">Password expiration policy</span></span>  
<span data-ttu-id="fc61c-190">Si un utilisateur est dans la portée de hello de synchronisation de mot de passe, le mot de passe de compte hello cloud est défini trop*n’expirent jamais*.</span><span class="sxs-lookup"><span data-stu-id="fc61c-190">If a user is in hello scope of password synchronization, hello cloud account password is set too*Never Expire*.</span></span>

<span data-ttu-id="fc61c-191">Vous pouvez continuer toosign dans les services de cloud computing tooyour à l’aide d’un mot de passe synchronisé a expiré dans votre environnement local.</span><span class="sxs-lookup"><span data-stu-id="fc61c-191">You can continue toosign in tooyour cloud services by using a synchronized password that is expired in your on-premises environment.</span></span> <span data-ttu-id="fc61c-192">La mise à jour de votre mot de passe cloud hello la prochaine fois que vous modifiez le mot de passe hello dans l’environnement local de hello.</span><span class="sxs-lookup"><span data-stu-id="fc61c-192">Your cloud password is updated hello next time you change hello password in hello on-premises environment.</span></span>

#### <a name="account-expiration"></a><span data-ttu-id="fc61c-193">Expiration du compte</span><span class="sxs-lookup"><span data-stu-id="fc61c-193">Account expiration</span></span>
<span data-ttu-id="fc61c-194">Si votre organisation utilise un attribut d’accountExpires hello dans le cadre de la gestion des comptes utilisateur, sachez que cet attribut n’est pas synchronisé tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="fc61c-194">If your organization uses hello accountExpires attribute as part of user account management, be aware that this attribute is not synchronized tooAzure AD.</span></span> <span data-ttu-id="fc61c-195">Par conséquent, un compte Active Directory expiré dans un environnement configuré pour la synchronisation de mots de passe sera toujours actif dans Azure AD.</span><span class="sxs-lookup"><span data-stu-id="fc61c-195">As a result, an expired Active Directory account in an environment configured for password synchronization will still be active in Azure AD.</span></span> <span data-ttu-id="fc61c-196">Il est recommandé que si le compte de hello a expiré, une action de workflow doit déclencher un script PowerShell qui désactive le compte Azure AD de l’utilisateur hello.</span><span class="sxs-lookup"><span data-stu-id="fc61c-196">We recommend that if hello account is expired, a workflow action should trigger a PowerShell script that disables hello user's Azure AD account.</span></span> <span data-ttu-id="fc61c-197">Inversement, lorsque le compte de hello est activée, instance d’Azure AD hello doit être activé.</span><span class="sxs-lookup"><span data-stu-id="fc61c-197">Conversely, when hello account is turned on, hello Azure AD instance should be turned on.</span></span>

### <a name="overwrite-synchronized-passwords"></a><span data-ttu-id="fc61c-198">Remplacement des mots de passe synchronisés</span><span class="sxs-lookup"><span data-stu-id="fc61c-198">Overwrite synchronized passwords</span></span>
<span data-ttu-id="fc61c-199">Un administrateur peut réinitialiser manuellement votre mot de passe à l’aide de Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="fc61c-199">An administrator can manually reset your password by using Windows PowerShell.</span></span>

<span data-ttu-id="fc61c-200">Dans ce cas, votre mot de passe synchronisé substitue à nouveau mot de passe hello et toutes les stratégies de mot de passe définis dans le cloud de hello sont appliqués toohello le nouveau mot de passe.</span><span class="sxs-lookup"><span data-stu-id="fc61c-200">In this case, hello new password overrides your synchronized password, and all password policies defined in hello cloud are applied toohello new password.</span></span>

<span data-ttu-id="fc61c-201">Si vous modifiez à nouveau votre mot de passe local, hello le nouveau mot de passe est synchronisé toohello cloud, et il remplace le mot de passe hello mis à jour manuellement.</span><span class="sxs-lookup"><span data-stu-id="fc61c-201">If you change your on-premises password again, hello new password is synchronized toohello cloud, and it overrides hello manually updated password.</span></span>

<span data-ttu-id="fc61c-202">synchronisation Hello de mot de passe n’a aucun impact sur hello Azure utilisateur qui est connecté.</span><span class="sxs-lookup"><span data-stu-id="fc61c-202">hello synchronization of a password has no impact on hello Azure user who is signed in.</span></span> <span data-ttu-id="fc61c-203">Votre session de service cloud en cours n’est pas immédiatement affectée par une modification de mot de passe synchronisé qui se produit pendant que vous êtes connecté dans le service cloud tooa.</span><span class="sxs-lookup"><span data-stu-id="fc61c-203">Your current cloud service session is not immediately affected by a synchronized password change that occurs while you're signed in tooa cloud service.</span></span> <span data-ttu-id="fc61c-204">KMSI étend la durée hello de cette différence.</span><span class="sxs-lookup"><span data-stu-id="fc61c-204">KMSI extends hello duration of this difference.</span></span> <span data-ttu-id="fc61c-205">Hello cloud service exige que vous tooauthenticate à nouveau, vous devez tooprovide votre nouveau mot de passe.</span><span class="sxs-lookup"><span data-stu-id="fc61c-205">When hello cloud service requires you tooauthenticate again, you need tooprovide your new password.</span></span>

### <a name="additional-advantages"></a><span data-ttu-id="fc61c-206">Autres avantages</span><span class="sxs-lookup"><span data-stu-id="fc61c-206">Additional advantages</span></span>

- <span data-ttu-id="fc61c-207">En règle générale, la synchronisation de mot de passe est tooimplement plus simple à un service de fédération.</span><span class="sxs-lookup"><span data-stu-id="fc61c-207">Generally, password synchronization is simpler tooimplement than a federation service.</span></span> <span data-ttu-id="fc61c-208">Il ne nécessite pas tous les serveurs supplémentaires et élimine la dépendance sur un tooauthenticate utilisateurs du service de fédération hautement disponible.</span><span class="sxs-lookup"><span data-stu-id="fc61c-208">It doesn't require any additional servers, and eliminates dependence on a highly available federation service tooauthenticate users.</span></span> 
- <span data-ttu-id="fc61c-209">Synchronisation de mot de passe peut également être activée dans toofederation d’addition.</span><span class="sxs-lookup"><span data-stu-id="fc61c-209">Password synchronization can also be enabled in addition toofederation.</span></span> <span data-ttu-id="fc61c-210">Vous pouvez l’utiliser comme solution de secours si votre service de fédération connaît une défaillance.</span><span class="sxs-lookup"><span data-stu-id="fc61c-210">It may be used as a fallback if your federation service experiences an outage.</span></span>












## <a name="enable-password-synchronization"></a><span data-ttu-id="fc61c-211">Activer la synchronisation de mot de passe</span><span class="sxs-lookup"><span data-stu-id="fc61c-211">Enable password synchronization</span></span>
<span data-ttu-id="fc61c-212">Lorsque vous installez Azure AD Connect à l’aide de hello **paramètres Express** , synchronisation de mot de passe est automatiquement activée.</span><span class="sxs-lookup"><span data-stu-id="fc61c-212">When you install Azure AD Connect by using hello **Express Settings** option, password synchronization is automatically enabled.</span></span> <span data-ttu-id="fc61c-213">Pour plus d’informations, voir [Prise en main d’Azure AD Connect avec la configuration rapide](active-directory-aadconnect-get-started-express.md).</span><span class="sxs-lookup"><span data-stu-id="fc61c-213">For more details, see [Getting started with Azure AD Connect using express settings](active-directory-aadconnect-get-started-express.md).</span></span>

<span data-ttu-id="fc61c-214">Si vous utilisez des paramètres personnalisés lorsque vous installez Azure AD Connect, la synchronisation de mot de passe est disponible sur hello utilisateur-page de connexion.</span><span class="sxs-lookup"><span data-stu-id="fc61c-214">If you use custom settings when you install Azure AD Connect, password synchronization is available on hello user sign-in page.</span></span> <span data-ttu-id="fc61c-215">Pour plus d’informations, voir [Installation personnalisée d’Azure AD Connect](active-directory-aadconnect-get-started-custom.md).</span><span class="sxs-lookup"><span data-stu-id="fc61c-215">For more details, see [Custom installation of Azure AD Connect](active-directory-aadconnect-get-started-custom.md).</span></span>

![Activation de la synchronisation de mot de passe](./media/active-directory-aadconnectsync-implement-password-synchronization/usersignin.png)

### <a name="password-synchronization-and-fips"></a><span data-ttu-id="fc61c-217">Synchronisation du mot de passe et FIPS</span><span class="sxs-lookup"><span data-stu-id="fc61c-217">Password synchronization and FIPS</span></span>
<span data-ttu-id="fc61c-218">Si votre serveur a été verrouillé en fonction de tooFederal traitement Standard FIPS (Information), MD5 est désactivée.</span><span class="sxs-lookup"><span data-stu-id="fc61c-218">If your server has been locked down according tooFederal Information Processing Standard (FIPS), then MD5 is disabled.</span></span>

<span data-ttu-id="fc61c-219">**tooenable MD5 pour la synchronisation de mot de passe, effectuez hello comme suit :**</span><span class="sxs-lookup"><span data-stu-id="fc61c-219">**tooenable MD5 for password synchronization, perform hello following steps:**</span></span>

1. <span data-ttu-id="fc61c-220">Accédez too%programfiles%\Azure AD Sync\Bin.</span><span class="sxs-lookup"><span data-stu-id="fc61c-220">Go too%programfiles%\Azure AD Sync\Bin.</span></span>
2. <span data-ttu-id="fc61c-221">Ouvrez miiserver.exe.config.</span><span class="sxs-lookup"><span data-stu-id="fc61c-221">Open miiserver.exe.config.</span></span>
3. <span data-ttu-id="fc61c-222">Atteindre le nœud de configuration/runtime toohello à fin hello du fichier de hello.</span><span class="sxs-lookup"><span data-stu-id="fc61c-222">Go toohello configuration/runtime node at hello end of hello file.</span></span>
4. <span data-ttu-id="fc61c-223">Ajoutez hello suivant du nœud :`<enforceFIPSPolicy enabled="false"/>`</span><span class="sxs-lookup"><span data-stu-id="fc61c-223">Add hello following node: `<enforceFIPSPolicy enabled="false"/>`</span></span>
5. <span data-ttu-id="fc61c-224">Enregistrez vos modifications.</span><span class="sxs-lookup"><span data-stu-id="fc61c-224">Save your changes.</span></span>

<span data-ttu-id="fc61c-225">Pour référence, cet extrait de code indique ce que vous devez obtenir :</span><span class="sxs-lookup"><span data-stu-id="fc61c-225">For reference, this snippet is what it should look like:</span></span>

```
    <configuration>
        <runtime>
            <enforceFIPSPolicy enabled="false"/>
        </runtime>
    </configuration>
```

<span data-ttu-id="fc61c-226">Pour plus d'informations sur la sécurité et FIPS, consultez [Synchronisation, cryptage et conformité à la norme FIPS du mot de passe AAD](https://blogs.technet.microsoft.com/enterprisemobility/2014/06/28/aad-password-sync-encryption-and-fips-compliance/).</span><span class="sxs-lookup"><span data-stu-id="fc61c-226">For information about security and FIPS, see [AAD Password Sync, encryption and FIPS compliance](https://blogs.technet.microsoft.com/enterprisemobility/2014/06/28/aad-password-sync-encryption-and-fips-compliance/).</span></span>

## <a name="troubleshoot-password-synchronization"></a><span data-ttu-id="fc61c-227">Résoudre les problèmes de synchronisation de mot de passe</span><span class="sxs-lookup"><span data-stu-id="fc61c-227">Troubleshoot password synchronization</span></span>
<span data-ttu-id="fc61c-228">Si vous avez des problèmes avec la synchronisation de mot de passe, consultez [Résolution des problèmes de synchronisation du mot de passe](active-directory-aadconnectsync-troubleshoot-password-synchronization.md).</span><span class="sxs-lookup"><span data-stu-id="fc61c-228">If you have problems with password synchronization, see [Troubleshoot password synchronization](active-directory-aadconnectsync-troubleshoot-password-synchronization.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="fc61c-229">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="fc61c-229">Next steps</span></span>
* [<span data-ttu-id="fc61c-230">Azure AD Connect Sync : Personnalisation des options de synchronisation</span><span class="sxs-lookup"><span data-stu-id="fc61c-230">Azure AD Connect sync: Customizing synchronization options</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="fc61c-231">Intégration de vos identités locales avec Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="fc61c-231">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)
