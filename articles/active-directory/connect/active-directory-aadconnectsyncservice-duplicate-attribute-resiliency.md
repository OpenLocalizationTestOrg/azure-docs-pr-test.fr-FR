---
title: "Synchronisation des identités et résilience d’attribut en double | Microsoft Docs"
description: "Nouveau comportement de gestion des objets présentant des conflits UPN ou ProxyAddress pendant la synchronisation d’annuaires à l’aide d’Azure AD Connect."
services: active-directory
documentationcenter: 
author: MarkusVi
manager: femila
editor: 
ms.assetid: 537a92b7-7a84-4c89-88b0-9bce0eacd931
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/12/2017
ms.author: markvi
ms.openlocfilehash: 7a8700e70f64851a0c5e5e8c6b31ec7a6884a96c
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/03/2017
---
# <a name="identity-synchronization-and-duplicate-attribute-resiliency"></a><span data-ttu-id="c1444-103">Synchronisation des identités et résilience d’attribut en double</span><span class="sxs-lookup"><span data-stu-id="c1444-103">Identity synchronization and duplicate attribute resiliency</span></span>
<span data-ttu-id="c1444-104">La résilience d’attribut en double est une fonctionnalité d’Azure Active Directory qui élimine les problèmes liés aux conflits entre **UserPrincipalName** et **ProxyAddress** lors de l’exécution de l’un des outils de synchronisation de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="c1444-104">Duplicate Attribute Resiliency is a feature in Azure Active Directory that will eliminate friction caused by **UserPrincipalName** and **ProxyAddress** conflicts when running one of Microsoft’s synchronization tools.</span></span>

<span data-ttu-id="c1444-105">Ces deux attributs doivent généralement être uniques pour tous les objets **Utilisateur**, **Groupe**, ou **Contact** dans un client Azure Active Directory donné.</span><span class="sxs-lookup"><span data-stu-id="c1444-105">These two attributes are generally required to be unique across all **User**, **Group**, or **Contact** objects in a given Azure Active Directory tenant.</span></span>

> [!NOTE]
> <span data-ttu-id="c1444-106">Seuls les Utilisateurs peuvent avoir des noms UPN.</span><span class="sxs-lookup"><span data-stu-id="c1444-106">Only Users can have UPNs.</span></span>
> 
> 

<span data-ttu-id="c1444-107">Cette fonctionnalité active un nouveau comportement qui se trouve dans la partie cloud du pipeline de synchronisation. Par conséquent, cette fonctionnalité convient à tout type de client et pour tout produit de synchronisation Microsoft, y compris Azure AD Connect, DirSync et MIM + Connector.</span><span class="sxs-lookup"><span data-stu-id="c1444-107">The new behavior that this feature enables is in the cloud portion of the sync pipeline, therefore it is client agnostic and relevant for any Microsoft synchronization product including Azure AD Connect, DirSync and MIM + Connector.</span></span> <span data-ttu-id="c1444-108">Le terme générique « client de synchronisation » désigne ces produits dans le présent document.</span><span class="sxs-lookup"><span data-stu-id="c1444-108">The generic term “sync client” is used in this document to represent any one of these products.</span></span>

## <a name="current-behavior"></a><span data-ttu-id="c1444-109">Comportement actuel</span><span class="sxs-lookup"><span data-stu-id="c1444-109">Current behavior</span></span>
<span data-ttu-id="c1444-110">En cas de tentative d’approvisionnement d’un nouvel objet avec une valeur UPN ou ProxyAddress qui enfreint cette contrainte d’unicité, Azure Active Directory bloque la création de l’objet.</span><span class="sxs-lookup"><span data-stu-id="c1444-110">If there is an attempt to provision a new object with a UPN or ProxyAddress value that violates this uniqueness constraint, Azure Active Directory blocks that object from being created.</span></span> <span data-ttu-id="c1444-111">De même, si un objet est mis à jour avec une valeur UPN ou ProxyAddress qui n’est pas unique, la mise à jour échoue.</span><span class="sxs-lookup"><span data-stu-id="c1444-111">Similarly, if an object is updated with a non-unique UPN or ProxyAddress, the update fails.</span></span> <span data-ttu-id="c1444-112">Le client de synchronisation refait la tentative d’approvisionnement ou la mise à jour à chaque cycle d’exportation ; il échoue à chaque fois jusqu’à la résolution du conflit.</span><span class="sxs-lookup"><span data-stu-id="c1444-112">The provisioning attempt or update is retried by the sync client upon each export cycle, and continues to fail until the conflict is resolved.</span></span> <span data-ttu-id="c1444-113">Chaque tentative infructueuse génère un e-mail contenant un rapport d’erreur, et une erreur est consignée par le client de synchronisation.</span><span class="sxs-lookup"><span data-stu-id="c1444-113">An error report email is generated upon each attempt and an error is logged by the sync client.</span></span>

## <a name="behavior-with-duplicate-attribute-resiliency"></a><span data-ttu-id="c1444-114">Comportement avec une résilience d’attribut en double</span><span class="sxs-lookup"><span data-stu-id="c1444-114">Behavior with Duplicate Attribute Resiliency</span></span>
<span data-ttu-id="c1444-115">Au lieu de rejeter l’approvisionnement ou la mise à jour d’un objet comportant un attribut en double, Azure Active Directory met en « quarantaine » l’attribut en double qui enfreint la contrainte d’unicité.</span><span class="sxs-lookup"><span data-stu-id="c1444-115">Instead of completely failing to provision or update an object with a duplicate attribute, Azure Active Directory “quarantines” the duplicate attribute which would violate the uniqueness constraint.</span></span> <span data-ttu-id="c1444-116">Si cet attribut est requis pour l’approvisionnement, comme pour UserPrincipalName, le service affecte une valeur d’espace réservé.</span><span class="sxs-lookup"><span data-stu-id="c1444-116">If this attribute is required for provisioning, like UserPrincipalName, the service assigns a placeholder value.</span></span> <span data-ttu-id="c1444-117">Le format de ces valeurs temporaires est</span><span class="sxs-lookup"><span data-stu-id="c1444-117">The format of these temporary values is</span></span>  
<span data-ttu-id="c1444-118">« ***<OriginalPrefix>+<4chiffres>@<InitialTenantDomain>.onmicrosoft.com*** ».</span><span class="sxs-lookup"><span data-stu-id="c1444-118">“***<OriginalPrefix>+<4DigitNumber>@<InitialTenantDomain>.onmicrosoft.com***”.</span></span>  
<span data-ttu-id="c1444-119">Si l’attribut n’est pas obligatoire, comme **ProxyAddress**, Azure Active Directory met simplement en quarantaine l’attribut à l’origine du conflit et poursuit la création ou la mise à jour de l’objet.</span><span class="sxs-lookup"><span data-stu-id="c1444-119">If the attribute is not required, like a  **ProxyAddress**, Azure Active Directory simply quarantines the conflict attribute and proceeds with the object creation or update.</span></span>

<span data-ttu-id="c1444-120">Lorsque l’attribut est mis en quarantaine, des informations sur le conflit sont envoyées dans le même e-mail de rapport d’erreur utilisé avec l’ancien comportement.</span><span class="sxs-lookup"><span data-stu-id="c1444-120">Upon quarantining the attribute, information about the conflict is sent in the same error report email used in the old behavior.</span></span> <span data-ttu-id="c1444-121">Toutefois, ces informations n’apparaissent qu’une fois dans le rapport d’erreurs (lors de la mise en quarantaine) ; elles ne sont pas consignées dans les e-mails suivants.</span><span class="sxs-lookup"><span data-stu-id="c1444-121">However, this info only appears in the error report one time, when the quarantine happens, it does not continue to be logged in future emails.</span></span> <span data-ttu-id="c1444-122">En outre, étant donné que l’exportation de cet objet a réussi, le client de synchronisation ne consigne pas d’erreur et ne retente pas la création/la mise à jour lors des cycles de synchronisation suivants.</span><span class="sxs-lookup"><span data-stu-id="c1444-122">Also, since the export for this object has succeeded, the sync client does not log an error and does not retry the create / update operation upon subsequent sync cycles.</span></span>

<span data-ttu-id="c1444-123">Pour prendre en charge ce comportement, un nouvel attribut a été ajouté aux classes d’objets Utilisateur, Groupe et Contact : </span><span class="sxs-lookup"><span data-stu-id="c1444-123">To support this behavior a new attribute has been added to the User, Group, and Contact object classes:</span></span>  
<span data-ttu-id="c1444-124">**DirSyncProvisioningErrors**</span><span class="sxs-lookup"><span data-stu-id="c1444-124">**DirSyncProvisioningErrors**</span></span>

<span data-ttu-id="c1444-125">Il s’agit d’un attribut à valeurs multiples utilisé pour stocker les attributs en conflit qui enfreindraient la contrainte d’unicité s’ils étaient ajoutés normalement.</span><span class="sxs-lookup"><span data-stu-id="c1444-125">This is a multi-valued attribute that is used to store the conflicting attributes that would violate the uniqueness constraint should they be added normally.</span></span> <span data-ttu-id="c1444-126">Une tâche du minuteur d’arrière-plan a été activée dans Azure Active Directory. Celle-ci s’exécute toutes les heures pour rechercher des conflits d’attributs en double ayant été résolus, puis supprime automatiquement les attributs en question de la quarantaine.</span><span class="sxs-lookup"><span data-stu-id="c1444-126">A background timer task has been enabled in Azure Active Directory that  runs every hour to look for duplicate attribute conflicts that have been resolved, and automatically removes the attributes in question from quarantine.</span></span>

### <a name="enabling-duplicate-attribute-resiliency"></a><span data-ttu-id="c1444-127">Activer la résilience d’attribut en double</span><span class="sxs-lookup"><span data-stu-id="c1444-127">Enabling Duplicate Attribute Resiliency</span></span>
<span data-ttu-id="c1444-128">La résilience d’attribut en double sera le nouveau comportement par défaut sur tous les locataires Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c1444-128">Duplicate Attribute Resiliency will be the new default behavior across all Azure Active Directory tenants.</span></span> <span data-ttu-id="c1444-129">Elle sera activée par défaut pour tous les clients qui ont activé la synchronisation pour la première fois le 22 août 2016 ou plus tard.</span><span class="sxs-lookup"><span data-stu-id="c1444-129">It will be on by default for all tenants that enabled synchronization for the first time on August 22nd, 2016 or later.</span></span> <span data-ttu-id="c1444-130">Les clients qui ont activé la synchronisation avant cette date verront cette fonctionnalité activée par lots.</span><span class="sxs-lookup"><span data-stu-id="c1444-130">Tenants that enabled sync prior to this date will have the feature enabled in batches.</span></span> <span data-ttu-id="c1444-131">Ce déploiement a commencé en septembre 2016, et une notification par courrier électronique sera envoyée au contact de notification technique de chaque client la date d’activation de la fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="c1444-131">This rollout will begin in September 2016, and an email notification will be sent to each tenant's technical notification contact with the specific date when the feature will be enabled.</span></span>

> [!NOTE]
> <span data-ttu-id="c1444-132">Une fois que la résilience des attributs en double a été activée, elle ne peut pas être désactivée.</span><span class="sxs-lookup"><span data-stu-id="c1444-132">Once Duplicate Attribute Resiliency has been turned on it cannot be disabled.</span></span>

<span data-ttu-id="c1444-133">Vous pouvez vérifier si cette fonctionnalité est activée sur votre client en téléchargeant la dernière version du module Azure Active Directory PowerShell, puis en exécutant ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="c1444-133">To check if the feature is enabled for your tenant, you can do so by downloading the latest version of the Azure Active Directory PowerShell module and running:</span></span>

`Get-MsolDirSyncFeatures -Feature DuplicateUPNResiliency`

`Get-MsolDirSyncFeatures -Feature DuplicateProxyAddressResiliency`

> [!NOTE]
> <span data-ttu-id="c1444-134">Vous pouvez n’est plus utiliser l’applet de commande Set-MsolDirSyncFeature pour activer de manière proactive la fonctionnalité de résilience des attributs en double avant qu’elle ne soit activée pour votre locataire.</span><span class="sxs-lookup"><span data-stu-id="c1444-134">You can no longer use Set-MsolDirSyncFeature cmdlet to proactively enable the Duplicate Attribute Resiliency feature before it is turned on for your tenant.</span></span> <span data-ttu-id="c1444-135">Pour pouvoir tester la fonctionnalité, vous devez créer un nouveau locataire Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c1444-135">To be able to test the feature, you will need to create a new Azure Active Directory tenant.</span></span>

## <a name="identifying-objects-with-dirsyncprovisioningerrors"></a><span data-ttu-id="c1444-136">Identification des objets avec DirSyncProvisioningErrors</span><span class="sxs-lookup"><span data-stu-id="c1444-136">Identifying Objects with DirSyncProvisioningErrors</span></span>
<span data-ttu-id="c1444-137">Il existe actuellement deux méthodes pour identifier les objets qui comportent ces erreurs en raison de conflits de propriété dupliquée : Azure Active Directory PowerShell et le portail d’administration Office 365.</span><span class="sxs-lookup"><span data-stu-id="c1444-137">There are currently two methods to identify objects that have these errors due to duplicate property conflicts, Azure Active Directory PowerShell and the Office 365 Admin Portal.</span></span> <span data-ttu-id="c1444-138">Il est prévu d’augmenter la capacité de génération de rapports dans le portail.</span><span class="sxs-lookup"><span data-stu-id="c1444-138">There are plans to extend to additional portal based reporting in the future.</span></span>

### <a name="azure-active-directory-powershell"></a><span data-ttu-id="c1444-139">Azure Active Directory PowerShell</span><span class="sxs-lookup"><span data-stu-id="c1444-139">Azure Active Directory PowerShell</span></span>
<span data-ttu-id="c1444-140">Pour les applets de commande PowerShell dans cette rubrique, les conditions suivantes sont vérifiées :</span><span class="sxs-lookup"><span data-stu-id="c1444-140">For the PowerShell cmdlets in this topic, the following is true:</span></span>

* <span data-ttu-id="c1444-141">Toutes les applets de commande suivantes sont sensibles à la casse.</span><span class="sxs-lookup"><span data-stu-id="c1444-141">All of the following cmdlets are case sensitive.</span></span>
* <span data-ttu-id="c1444-142">L’indicateur **–ErrorCategory PropertyConflict** doit toujours être inclus.</span><span class="sxs-lookup"><span data-stu-id="c1444-142">The **–ErrorCategory PropertyConflict** must always be included.</span></span> <span data-ttu-id="c1444-143">Il n’existe actuellement pas d’autres types de **ErrorCategory**, mais cela pourrait changer.</span><span class="sxs-lookup"><span data-stu-id="c1444-143">There are currently no other types of **ErrorCategory**, but this may be extended in the future.</span></span>

<span data-ttu-id="c1444-144">Commencez par exécuter **Connect-MsolService** et entrer les informations d’identification d’un administrateur client.</span><span class="sxs-lookup"><span data-stu-id="c1444-144">First, get started by running **Connect-MsolService** and entering credentials for a tenant administrator.</span></span>

<span data-ttu-id="c1444-145">Utilisez ensuite les applets de commande et les opérateurs suivants pour afficher les erreurs de différentes manières :</span><span class="sxs-lookup"><span data-stu-id="c1444-145">Then, use the following cmdlets and operators to view errors in different ways:</span></span>

1. [<span data-ttu-id="c1444-146">Afficher tout</span><span class="sxs-lookup"><span data-stu-id="c1444-146">See All</span></span>](#see-all)
2. [<span data-ttu-id="c1444-147">Par type de propriété</span><span class="sxs-lookup"><span data-stu-id="c1444-147">By Property Type</span></span>](#by-property-type)
3. [<span data-ttu-id="c1444-148">Par valeur en conflit</span><span class="sxs-lookup"><span data-stu-id="c1444-148">By Conflicting Value</span></span>](#by-conflicting-value)
4. [<span data-ttu-id="c1444-149">À l’aide d’une recherche de chaîne</span><span class="sxs-lookup"><span data-stu-id="c1444-149">Using a String Search</span></span>](#using-a-string-search)
5. [<span data-ttu-id="c1444-150">Triées</span><span class="sxs-lookup"><span data-stu-id="c1444-150">Sorted</span></span>](#sorted)
6. [<span data-ttu-id="c1444-151">Par quantité limitée ou l’ensemble des erreurs</span><span class="sxs-lookup"><span data-stu-id="c1444-151">In a Limited Quantity or All</span></span>](#in-a-limited-quantity-or-all)

#### <a name="see-all"></a><span data-ttu-id="c1444-152">Afficher tout</span><span class="sxs-lookup"><span data-stu-id="c1444-152">See all</span></span>
<span data-ttu-id="c1444-153">Une fois connecté, exécutez ce qui suit pour voir une liste générale d’erreurs d’approvisionnement d’attribut du client :</span><span class="sxs-lookup"><span data-stu-id="c1444-153">Once connected, to see a general list of attribute provisioning errors in the tenant run:</span></span>

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict`

<span data-ttu-id="c1444-154">Le résultat ressemble à ce qui suit : </span><span class="sxs-lookup"><span data-stu-id="c1444-154">This produces a result like the following:</span></span>  
 <span data-ttu-id="c1444-155">![Get-MsolDirSyncProvisioningError](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/1.png "Get-MsolDirSyncProvisioningError")</span><span class="sxs-lookup"><span data-stu-id="c1444-155">![Get-MsolDirSyncProvisioningError](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/1.png "Get-MsolDirSyncProvisioningError")</span></span>  

#### <a name="by-property-type"></a><span data-ttu-id="c1444-156">Par type de propriété</span><span class="sxs-lookup"><span data-stu-id="c1444-156">By property type</span></span>
<span data-ttu-id="c1444-157">Pour voir les erreurs par type de propriété, ajoutez l’indicateur **-PropertyName** à l’argument **UserPrincipalName** ou **ProxyAddresses** :</span><span class="sxs-lookup"><span data-stu-id="c1444-157">To see errors by property type, add the **-PropertyName** flag with the **UserPrincipalName** or **ProxyAddresses** argument:</span></span>

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict -PropertyName UserPrincipalName`

<span data-ttu-id="c1444-158">Ou</span><span class="sxs-lookup"><span data-stu-id="c1444-158">Or</span></span>

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict -PropertyName ProxyAddresses`

#### <a name="by-conflicting-value"></a><span data-ttu-id="c1444-159">Par valeur en conflit</span><span class="sxs-lookup"><span data-stu-id="c1444-159">By conflicting value</span></span>
<span data-ttu-id="c1444-160">Pour afficher les erreurs concernant une propriété spécifique, ajoutez l’indicateur **-PropertyValue** (**-PropertyName** doit également être utilisé avec cet indicateur) :</span><span class="sxs-lookup"><span data-stu-id="c1444-160">To see errors relating to a specific property add the **-PropertyValue** flag (**-PropertyName** must be used as well when adding this flag):</span></span>

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict -PropertyValue User@domain.com -PropertyName UserPrincipalName`

#### <a name="using-a-string-search"></a><span data-ttu-id="c1444-161">À l’aide d’une recherche de chaîne</span><span class="sxs-lookup"><span data-stu-id="c1444-161">Using a string search</span></span>
<span data-ttu-id="c1444-162">Pour effectuer une recherche de chaîne élargie, utilisez l’indicateur **-SearchString** .</span><span class="sxs-lookup"><span data-stu-id="c1444-162">To do a broad string search use the **-SearchString** flag.</span></span> <span data-ttu-id="c1444-163">Il peut s’utiliser indépendamment des autres indicateurs ci-dessus, à l’exception de **-ErrorCategory PropertyConflict**, qui est toujours requis :</span><span class="sxs-lookup"><span data-stu-id="c1444-163">This can be used independently from all of the above flags, with the exception of **-ErrorCategory PropertyConflict**, which is always required:</span></span>

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict -SearchString User`

#### <a name="in-a-limited-quantity-or-all"></a><span data-ttu-id="c1444-164">Par quantité limitée ou l’ensemble des erreurs</span><span class="sxs-lookup"><span data-stu-id="c1444-164">In a limited quantity or all</span></span>
1. <span data-ttu-id="c1444-165">**MaxResults <Int>** peut être utilisé pour limiter la requête à un nombre spécifique de valeurs.</span><span class="sxs-lookup"><span data-stu-id="c1444-165">**MaxResults <Int>** can be used to limit the query to a specific number of values.</span></span>
2. <span data-ttu-id="c1444-166">**All** permet de vérifier que tous les résultats sont récupérés, notamment si le nombre d’erreurs est élevé.</span><span class="sxs-lookup"><span data-stu-id="c1444-166">**All** can be used to ensure all results are retrieved in the case that a large number of errors exists.</span></span>

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict -MaxResults 5`

## <a name="office-365-admin-portal"></a><span data-ttu-id="c1444-167">Portail d’administration Office 365</span><span class="sxs-lookup"><span data-stu-id="c1444-167">Office 365 admin portal</span></span>
<span data-ttu-id="c1444-168">Vous pouvez afficher les erreurs de synchronisation d’annuaires dans le Centre d’administration Office 365.</span><span class="sxs-lookup"><span data-stu-id="c1444-168">You can view directory synchronization errors in the Office 365 admin center.</span></span> <span data-ttu-id="c1444-169">Le rapport sur le portail Office 365 n’affiche que les objets **Utilisateur** qui présentent ces erreurs.</span><span class="sxs-lookup"><span data-stu-id="c1444-169">The report in the Office 365 portal only displays **User** objects that have these errors.</span></span> <span data-ttu-id="c1444-170">Il n’indique pas d’informations sur les conflits entre **Groupes** et **Contacts**.</span><span class="sxs-lookup"><span data-stu-id="c1444-170">It does not show info about conflicts between **Groups** and **Contacts**.</span></span>

<span data-ttu-id="c1444-171">![Utilisateurs actifs](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/1234.png "Utilisateurs actifs")</span><span class="sxs-lookup"><span data-stu-id="c1444-171">![Active Users](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/1234.png "Active Users")</span></span>

<span data-ttu-id="c1444-172">Pour obtenir des instructions sur l’affichage des erreurs de synchronisation d’annuaires dans le Centre d’administration Office 365, consultez [Identifier les erreurs de synchronisation d’annuaires dans Office 365](https://support.office.com/en-us/article/Identify-directory-synchronization-errors-in-Office-365-b4fc07a5-97ea-4ca6-9692-108acab74067).</span><span class="sxs-lookup"><span data-stu-id="c1444-172">For instructions on how to view directory synchronization errors in the Office 365 admin center, see [Identify directory synchronization errors in Office 365](https://support.office.com/en-us/article/Identify-directory-synchronization-errors-in-Office-365-b4fc07a5-97ea-4ca6-9692-108acab74067).</span></span>

### <a name="identity-synchronization-error-report"></a><span data-ttu-id="c1444-173">Rapport d’erreur de synchronisation d’identité</span><span class="sxs-lookup"><span data-stu-id="c1444-173">Identity synchronization error report</span></span>
<span data-ttu-id="c1444-174">Lorsqu’un objet présentant un conflit d’attribut en double est traité avec ce nouveau comportement, une notification afférente est incluse dans l’e-mail standard contenant le rapport d’erreur de synchronisation d’identité. Ce dernier est envoyé au contact du client en charge des notifications techniques.</span><span class="sxs-lookup"><span data-stu-id="c1444-174">When an object with a duplicate attribute conflict is handled with this new behavior a notification is included in the standard Identity Synchronization Error Report email that is sent to the Technical Notification contact for the tenant.</span></span> <span data-ttu-id="c1444-175">Toutefois, ce comportement présente un changement majeur.</span><span class="sxs-lookup"><span data-stu-id="c1444-175">However, there is an important change in this behavior.</span></span> <span data-ttu-id="c1444-176">Auparavant, les informations de conflit d’attribut en double apparaissaient dans chaque rapport d’erreurs généré jusqu’à la résolution du conflit.</span><span class="sxs-lookup"><span data-stu-id="c1444-176">In the past, information about a duplicate attribute conflict would be included in every subsequent error report until the conflict was resolved.</span></span> <span data-ttu-id="c1444-177">Avec ce nouveau comportement, la notification d’erreur pour un conflit donné n’apparaît qu’une fois : au moment où l’attribut en conflit est mis en quarantaine.</span><span class="sxs-lookup"><span data-stu-id="c1444-177">With this new behavior, the error notification for a given conflict does only appear once- at the time the conflicting attribute is quarantined.</span></span>

<span data-ttu-id="c1444-178">Voici un exemple de notification par e-mail d’un conflit ProxyAddress : </span><span class="sxs-lookup"><span data-stu-id="c1444-178">Here is an example of what the email notification looks like for a ProxyAddress conflict:</span></span>  
    <span data-ttu-id="c1444-179">![Utilisateurs actifs](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/6.png "Utilisateurs actifs")</span><span class="sxs-lookup"><span data-stu-id="c1444-179">![Active Users](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/6.png "Active Users")</span></span>  

## <a name="resolving-conflicts"></a><span data-ttu-id="c1444-180">Résolution des conflits</span><span class="sxs-lookup"><span data-stu-id="c1444-180">Resolving conflicts</span></span>
<span data-ttu-id="c1444-181">Les stratégies et tactiques de résolution des problèmes pour ces erreurs ne doivent pas différer de la façon dont les erreurs d’attribut en double ont été traitées par le passé.</span><span class="sxs-lookup"><span data-stu-id="c1444-181">Troubleshooting strategy and resolution tactics for these errors should not differ from the way duplicate attribute errors were handled in the past.</span></span> <span data-ttu-id="c1444-182">La seule différence est que la tâche du minuteur effectue un balayage du client côté serveur afin d’ajouter automatiquement l’attribut en question à l’objet concerné lorsque le conflit est résolu.</span><span class="sxs-lookup"><span data-stu-id="c1444-182">The only difference is that the timer task sweeps through the tenant on the service-side to automatically add the attribute in question to the proper object once the conflict is resolved.</span></span>

<span data-ttu-id="c1444-183">L’article suivant présente différentes stratégies de dépannage et de résolution : [Les attributs en double ou non valides empêchent la synchronisation d’annuaires dans Office 365](https://support.microsoft.com/kb/2647098).</span><span class="sxs-lookup"><span data-stu-id="c1444-183">The following article outlines various troubleshooting and resolution strategies: [Duplicate or invalid attributes prevent directory synchronization in Office 365](https://support.microsoft.com/kb/2647098).</span></span>

## <a name="known-issues"></a><span data-ttu-id="c1444-184">Problèmes connus</span><span class="sxs-lookup"><span data-stu-id="c1444-184">Known issues</span></span>
<span data-ttu-id="c1444-185">Aucun de ces problèmes connus n’entraîne une dégradation du service ou une perte des données.</span><span class="sxs-lookup"><span data-stu-id="c1444-185">None of these known issues causes data loss or service degradation.</span></span> <span data-ttu-id="c1444-186">Plusieurs d’entre eux relèvent de l’esthétisme ; d’autres génèrent des erreurs d’attribut en double («*pré-résilience*»), au lieu de mettre en quarantaine l’attribut à l’origine du conflit ; un dernier requiert un travail de correction manuelle supplémentaire pour certaines erreurs.</span><span class="sxs-lookup"><span data-stu-id="c1444-186">Several of them are aesthetic, others cause standard “*pre-resiliency*” duplicate attribute errors to be thrown instead of quarantining the conflict attribute, and another causes certain errors to require extra manual fix-up.</span></span>

<span data-ttu-id="c1444-187">**Comportement de base :**</span><span class="sxs-lookup"><span data-stu-id="c1444-187">**Core behavior:**</span></span>

1. <span data-ttu-id="c1444-188">Les objets ayant une configuration d’attribut spécifique continuent à recevoir des erreurs d’exportation ; les attributs dupliqués ne sont pas mis en quarantaine.</span><span class="sxs-lookup"><span data-stu-id="c1444-188">Objects with specific attribute configurations continue to receive export errors as opposed to the duplicate attribute(s) being quarantined.</span></span>  
   <span data-ttu-id="c1444-189">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="c1444-189">For example:</span></span>
   
    <span data-ttu-id="c1444-190">a.</span><span class="sxs-lookup"><span data-stu-id="c1444-190">a.</span></span> <span data-ttu-id="c1444-191">Le nouvel utilisateur est créé dans AD avec les attributs UPN **Joe@contoso.com** et ProxyAddress **smtp:Joe@contoso.com**</span><span class="sxs-lookup"><span data-stu-id="c1444-191">New user is created in AD with a UPN of **Joe@contoso.com** and ProxyAddress **smtp:Joe@contoso.com**</span></span>
   
    <span data-ttu-id="c1444-192">b.</span><span class="sxs-lookup"><span data-stu-id="c1444-192">b.</span></span> <span data-ttu-id="c1444-193">Les propriétés de cet objet sont en conflit avec un Groupe existant, où ProxyAddress est **SMTP:Joe@contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="c1444-193">The properties of this object conflict with an existing Group, where ProxyAddress is **SMTP:Joe@contoso.com**.</span></span>
   
    <span data-ttu-id="c1444-194">c.</span><span class="sxs-lookup"><span data-stu-id="c1444-194">c.</span></span> <span data-ttu-id="c1444-195">Lors de l’exportation, une erreur de **conflit ProxyAddress** est générée au lieu de la mise en quarantaine des attributs à l’origine du conflit.</span><span class="sxs-lookup"><span data-stu-id="c1444-195">Upon export, a **ProxyAddress conflict** error is thrown instead of having the conflict attributes quarantined.</span></span> <span data-ttu-id="c1444-196">L’opération est retentée à chaque cycle de synchronisation, comme cela était le cas avant l’activation de la fonction de résilience.</span><span class="sxs-lookup"><span data-stu-id="c1444-196">The operation is retried upon each subsequent sync cycle, as it would have been before the resiliency feature was enabled.</span></span>
2. <span data-ttu-id="c1444-197">Si deux Groupes sont créés en local avec la même adresse SMTP, l’approvisionnement de l’un d’entre eux échoue à la première tentative, ce qui génère une erreur standard d’attribut **ProxyAddress** en double.</span><span class="sxs-lookup"><span data-stu-id="c1444-197">If two Groups are created on-premises with the same SMTP address, one fails to provision on the first attempt with a standard duplicate **ProxyAddress** error.</span></span> <span data-ttu-id="c1444-198">Toutefois, la valeur en double est bien mise en quarantaine lors du prochain cycle de synchronisation.</span><span class="sxs-lookup"><span data-stu-id="c1444-198">However, the duplicate value is properly quarantined upon the next sync cycle.</span></span>

<span data-ttu-id="c1444-199">**Rapport du portail Office**:</span><span class="sxs-lookup"><span data-stu-id="c1444-199">**Office Portal Report**:</span></span>

1. <span data-ttu-id="c1444-200">Le message d’erreur détaillé pour deux objets dans un ensemble de conflit UPN est le même.</span><span class="sxs-lookup"><span data-stu-id="c1444-200">The detailed error message for two objects in a UPN conflict set is the same.</span></span> <span data-ttu-id="c1444-201">Cela indique que l’UPN des deux objets a changé/été mis en quarantaine, alors que seules les données de l’un d’entre eux ont changé.</span><span class="sxs-lookup"><span data-stu-id="c1444-201">This indicates that they have both had their UPN changed / quarantined, when in fact only a one of them had any data changed.</span></span>
2. <span data-ttu-id="c1444-202">Le message d’erreur détaillé d’un conflit UPN affiche une propriété displayName incorrecte pour un utilisateur dont l’UPN a changé/été mis en quarantaine.</span><span class="sxs-lookup"><span data-stu-id="c1444-202">The detailed error message for a UPN conflict shows the wrong displayName for a user who has had their UPN changed/quarantined.</span></span> <span data-ttu-id="c1444-203">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="c1444-203">For example:</span></span>
   
    <span data-ttu-id="c1444-204">a.</span><span class="sxs-lookup"><span data-stu-id="c1444-204">a.</span></span> <span data-ttu-id="c1444-205">**L’utilisateur A** est synchronisé en premier avec **UPN = User@contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="c1444-205">**User A** syncs up first with **UPN = User@contoso.com**.</span></span>
   
    <span data-ttu-id="c1444-206">b.</span><span class="sxs-lookup"><span data-stu-id="c1444-206">b.</span></span> <span data-ttu-id="c1444-207">**L’utilisateur B** fait ensuite l’objet d’une tentative de synchronisation avec **UPN = User@contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="c1444-207">**User B** is attempted to be synced up next with **UPN = User@contoso.com**.</span></span>
   
    <span data-ttu-id="c1444-208">c.</span><span class="sxs-lookup"><span data-stu-id="c1444-208">c.</span></span> <span data-ttu-id="c1444-209">L’UPN de **lutilisateur B** est remplacé par **User1234@contoso.onmicrosoft.com** et **User@contoso.com** est ajouté dans **DirSyncProvisioningErrors**.</span><span class="sxs-lookup"><span data-stu-id="c1444-209">**User B’s** UPN is changed to **User1234@contoso.onmicrosoft.com** and **User@contoso.com** is added to **DirSyncProvisioningErrors**.</span></span>
   
    <span data-ttu-id="c1444-210">d.</span><span class="sxs-lookup"><span data-stu-id="c1444-210">d.</span></span> <span data-ttu-id="c1444-211">Le message d’erreur de **l’utilisateur B** doit indiquer que **l’utilisateur A** a déjà **User@contoso.com** comme UPN, mais il affiche le paramètre displayName de **l’utilisateur B**.</span><span class="sxs-lookup"><span data-stu-id="c1444-211">The error message for **User B** should indicate that **User A** already has **User@contoso.com** as a UPN, but it shows **User B’s** own displayName.</span></span>

<span data-ttu-id="c1444-212">**Rapport d’erreur de synchronisation d’identité** :</span><span class="sxs-lookup"><span data-stu-id="c1444-212">**Identity synchronization error report**:</span></span>

<span data-ttu-id="c1444-213">Le lien pour la *procédure à suivre pour résoudre ce problème* est incorrect :</span><span class="sxs-lookup"><span data-stu-id="c1444-213">The link for *steps on how to resolve this issue* is incorrect:</span></span>  
    <span data-ttu-id="c1444-214">![Utilisateurs actifs](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/6.png "Utilisateurs actifs")</span><span class="sxs-lookup"><span data-stu-id="c1444-214">![Active Users](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/6.png "Active Users")</span></span>  

<span data-ttu-id="c1444-215">Il doit pointer vers [https://aka.ms/duplicateattributeresiliency](https://aka.ms/duplicateattributeresiliency).</span><span class="sxs-lookup"><span data-stu-id="c1444-215">It should point to [https://aka.ms/duplicateattributeresiliency](https://aka.ms/duplicateattributeresiliency).</span></span>

## <a name="see-also"></a><span data-ttu-id="c1444-216">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="c1444-216">See also</span></span>
* [<span data-ttu-id="c1444-217">Synchronisation d’Azure AD Connect</span><span class="sxs-lookup"><span data-stu-id="c1444-217">Azure AD Connect sync</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="c1444-218">Intégration des identités locales dans Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="c1444-218">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)
* [<span data-ttu-id="c1444-219">Identifier les erreurs de synchronisation d’annuaires dans Office 365</span><span class="sxs-lookup"><span data-stu-id="c1444-219">Identify directory synchronization errors in Office 365</span></span>](https://support.office.com/en-us/article/Identify-directory-synchronization-errors-in-Office-365-b4fc07a5-97ea-4ca6-9692-108acab74067)

