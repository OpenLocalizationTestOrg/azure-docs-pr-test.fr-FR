---
title: "Azure AD Connect sync : prévention des suppressions accidentelles | Microsoft Docs"
description: "Cette rubrique décrit hello empêcher la fonctionnalité de suppressions accidentelles (ce qui empêche les suppressions accidentelles) dans Azure AD Connect."
services: active-directory
documentationcenter: 
author: AndKjell
manager: femila
editor: 
ms.assetid: 6b852cb4-2850-40a1-8280-8724081601f7
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 07/12/2017
ms.author: billmath
ms.openlocfilehash: 159597f8354806fcaea1430e0ff84956338592a4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-connect-sync-prevent-accidental-deletes"></a><span data-ttu-id="da5a1-103">Azure AD Connect Sync : Prévention des suppressions accidentelles</span><span class="sxs-lookup"><span data-stu-id="da5a1-103">Azure AD Connect sync: Prevent accidental deletes</span></span>
<span data-ttu-id="da5a1-104">Cette rubrique décrit hello empêcher la fonctionnalité de suppressions accidentelles (ce qui empêche les suppressions accidentelles) dans Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="da5a1-104">This topic describes hello prevent accidental deletes (preventing accidental deletions) feature in Azure AD Connect.</span></span>

<span data-ttu-id="da5a1-105">Lors de l’installation d’Azure AD Connect, empêche accidentelle suppressions est activée par défaut et configuré toonot autoriser une exportation avec plus de 500 suppressions.</span><span class="sxs-lookup"><span data-stu-id="da5a1-105">When installing Azure AD Connect, prevent accidental deletes is enabled by default and configured toonot allow an export with more than 500 deletes.</span></span> <span data-ttu-id="da5a1-106">Cette fonctionnalité est conçue tooprotect vous à partir de la configuration accidentelle et changé tooyour locale active qui est susceptible d’affecter plusieurs utilisateurs et autres objets.</span><span class="sxs-lookup"><span data-stu-id="da5a1-106">This feature is designed tooprotect you from accidental configuration changes and changes tooyour on-premises directory that would affect many users and other objects.</span></span>

## <a name="what-is-prevent-accidental-deletes"></a><span data-ttu-id="da5a1-107">Présentation de la prévention des suppressions accidentelles</span><span class="sxs-lookup"><span data-stu-id="da5a1-107">What is prevent accidental deletes</span></span>
<span data-ttu-id="da5a1-108">Voici quelques scénarios courants de nombreuses suppressions :</span><span class="sxs-lookup"><span data-stu-id="da5a1-108">Common scenarios when you see many deletes include:</span></span>

* <span data-ttu-id="da5a1-109">Change également[filtrage](active-directory-aadconnectsync-configure-filtering.md) où l’intégralité d’un [unité d’organisation](active-directory-aadconnectsync-configure-filtering.md#organizational-unitbased-filtering) ou [domaine](active-directory-aadconnectsync-configure-filtering.md#domain-based-filtering) n’est pas cochée.</span><span class="sxs-lookup"><span data-stu-id="da5a1-109">Changes too[filtering](active-directory-aadconnectsync-configure-filtering.md) where an entire [OU](active-directory-aadconnectsync-configure-filtering.md#organizational-unitbased-filtering) or [domain](active-directory-aadconnectsync-configure-filtering.md#domain-based-filtering) is unselected.</span></span>
* <span data-ttu-id="da5a1-110">Tous les objets d’une unité d'organisation sont supprimés.</span><span class="sxs-lookup"><span data-stu-id="da5a1-110">All objects in an OU are deleted.</span></span>
* <span data-ttu-id="da5a1-111">Une unité d’organisation est renommée tous les objets qu’elle contient sont considérées comme toobe hors de portée pour la synchronisation.</span><span class="sxs-lookup"><span data-stu-id="da5a1-111">An OU is renamed so all objects in it are considered toobe out of scope for synchronization.</span></span>

<span data-ttu-id="da5a1-112">valeur par défaut Hello 500 objets peut être modifiée avec PowerShell à l’aide de `Enable-ADSyncExportDeletionThreshold`.</span><span class="sxs-lookup"><span data-stu-id="da5a1-112">hello default value of 500 objects can be changed with PowerShell using `Enable-ADSyncExportDeletionThreshold`.</span></span> <span data-ttu-id="da5a1-113">Vous devez configurer cette taille de hello toofit la valeur de votre organisation.</span><span class="sxs-lookup"><span data-stu-id="da5a1-113">You should configure this value toofit hello size of your organization.</span></span> <span data-ttu-id="da5a1-114">Étant donné que le Planificateur de synchronisation hello s’exécute toutes les 30 minutes, valeur de hello est nombre hello de suppressions vu dans les 30 minutes.</span><span class="sxs-lookup"><span data-stu-id="da5a1-114">Since hello sync scheduler runs every 30 minutes, hello value is hello number of deletes seen within 30 minutes.</span></span>

<span data-ttu-id="da5a1-115">S’il y a trop de suppressions intermédiaires toobe exportées tooAzure AD, puis hello d’exportation s’arrête et que vous recevez un message électronique comme suit :</span><span class="sxs-lookup"><span data-stu-id="da5a1-115">If there are too many deletes staged toobe exported tooAzure AD, then hello export stops and you receive an email like this:</span></span>

![E-mail de prévention des suppressions accidentelles](./media/active-directory-aadconnectsync-feature-prevent-accidental-deletes/email.png)

> <span data-ttu-id="da5a1-117">*Bonjour (contact technique). À (heure) hello service de synchronisation d’identité a détecté que nombre hello de suppressions dépassé hello suppression configuré (nom d’organisation). En tout, (nombre) objets ont été envoyés pour suppression au cours de ce cycle de synchronisation des identités. Il atteint ou dépassé le seuil hello configuré la suppression d’objets de (nombre). Nous devons vous confirmation de tooprovide ces suppressions doivent être traité avant que nous sera effectuée. Consultez hello empêche les suppressions accidentelles pour plus d’informations sur l’erreur hello répertoriée dans ce message électronique.*</span><span class="sxs-lookup"><span data-stu-id="da5a1-117">*Hello (technical contact). At (time) hello Identity synchronization service detected that hello number of deletions exceeded hello configured deletion threshold for (organization name). A total of (number) objects were sent for deletion in this Identity synchronization run. This met or exceeded hello configured deletion threshold value of (number) objects. We need you tooprovide confirmation that these deletions should be processed before we will proceed. Please see hello preventing accidental deletions for more information about hello error listed in this email message.*</span></span>
>
> 

<span data-ttu-id="da5a1-118">Vous pouvez également afficher le statut de hello `stopped-deletion-threshold-exceeded` lorsque vous consultez Bonjour **Synchronization Service Manager** l’interface utilisateur pour le profil d’exportation hello.</span><span class="sxs-lookup"><span data-stu-id="da5a1-118">You can also see hello status `stopped-deletion-threshold-exceeded` when you look in hello **Synchronization Service Manager** UI for hello Export profile.</span></span>
<span data-ttu-id="da5a1-119">![Interface utilisateur Sync Service Manager de prévention des suppressions accidentelles](./media/active-directory-aadconnectsync-feature-prevent-accidental-deletes/syncservicemanager.png)</span><span class="sxs-lookup"><span data-stu-id="da5a1-119">![Prevent Accidental deletes Sync Service Manager UI](./media/active-directory-aadconnectsync-feature-prevent-accidental-deletes/syncservicemanager.png)</span></span>

<span data-ttu-id="da5a1-120">Si l'événement n'était pas prévu, examinez la situation et corrigez-la si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="da5a1-120">If this was unexpected, then investigate and take corrective actions.</span></span> <span data-ttu-id="da5a1-121">toosee sur toobe supprimé, les objets hello suivant :</span><span class="sxs-lookup"><span data-stu-id="da5a1-121">toosee which objects are about toobe deleted, do hello following:</span></span>

1. <span data-ttu-id="da5a1-122">Démarrer **Service de synchronisation** à partir du Menu Démarrer de hello.</span><span class="sxs-lookup"><span data-stu-id="da5a1-122">Start **Synchronization Service** from hello Start Menu.</span></span>
2. <span data-ttu-id="da5a1-123">Accédez trop**connecteurs**.</span><span class="sxs-lookup"><span data-stu-id="da5a1-123">Go too**Connectors**.</span></span>
3. <span data-ttu-id="da5a1-124">Sélectionnez hello connecteur avec type **Azure Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="da5a1-124">Select hello Connector with type **Azure Active Directory**.</span></span>
4. <span data-ttu-id="da5a1-125">Sous **Actions** toohello à droite, sélectionnez **espace de connecteur de recherche**.</span><span class="sxs-lookup"><span data-stu-id="da5a1-125">Under **Actions** toohello right, select **Search Connector Space**.</span></span>
5. <span data-ttu-id="da5a1-126">Bonjour publicitaires sous **étendue**, sélectionnez **déconnecté depuis** et choisissez une heure Bonjour passées.</span><span class="sxs-lookup"><span data-stu-id="da5a1-126">In hello pop-up under **Scope**, select **Disconnected Since** and pick a time in hello past.</span></span> <span data-ttu-id="da5a1-127">Cliquez sur **Rechercher**.</span><span class="sxs-lookup"><span data-stu-id="da5a1-127">Click **Search**.</span></span> <span data-ttu-id="da5a1-128">Cette page fournit une vue de tous les objets sur toobe supprimé.</span><span class="sxs-lookup"><span data-stu-id="da5a1-128">This page provides a view of all objects about toobe deleted.</span></span> <span data-ttu-id="da5a1-129">En cliquant sur chaque élément, vous pouvez obtenir des informations supplémentaires sur l’objet de hello.</span><span class="sxs-lookup"><span data-stu-id="da5a1-129">By clicking each item, you can get additional information about hello object.</span></span> <span data-ttu-id="da5a1-130">Vous pouvez également cliquer sur **colonne paramètre** tooadd supplémentaire attributs toobe visible dans la grille de hello.</span><span class="sxs-lookup"><span data-stu-id="da5a1-130">You can also click **Column Setting** tooadd additional attributes toobe visible in hello grid.</span></span>

![Espace de connecteur de recherche](./media/active-directory-aadconnectsync-feature-prevent-accidental-deletes/searchcs.png)

<span data-ttu-id="da5a1-132">Si toutes les suppressions de hello sont souhaitées, puis hello suivant :</span><span class="sxs-lookup"><span data-stu-id="da5a1-132">If all hello deletes are desired, then do hello following:</span></span>

1. <span data-ttu-id="da5a1-133">tooretrieve hello suppression seuil actuel, exécutez l’applet de commande PowerShell hello `Get-ADSyncExportDeletionThreshold`.</span><span class="sxs-lookup"><span data-stu-id="da5a1-133">tooretrieve hello current deletion threshold, run hello PowerShell cmdlet `Get-ADSyncExportDeletionThreshold`.</span></span> <span data-ttu-id="da5a1-134">Indiquez un compte et un mot de passe d’administrateur général Azure AD.</span><span class="sxs-lookup"><span data-stu-id="da5a1-134">Provide an Azure AD Global Administrator account and password.</span></span> <span data-ttu-id="da5a1-135">Hello par défaut est 500.</span><span class="sxs-lookup"><span data-stu-id="da5a1-135">hello default value is 500.</span></span>
2. <span data-ttu-id="da5a1-136">tootemporarily désactiver cette protection et laisser les suppressions parcourez, exécutez l’applet de commande PowerShell hello : `Disable-ADSyncExportDeletionThreshold`.</span><span class="sxs-lookup"><span data-stu-id="da5a1-136">tootemporarily disable this protection and let those deletes go through, run hello PowerShell cmdlet: `Disable-ADSyncExportDeletionThreshold`.</span></span> <span data-ttu-id="da5a1-137">Indiquez un compte et un mot de passe d’administrateur général Azure AD.</span><span class="sxs-lookup"><span data-stu-id="da5a1-137">Provide an Azure AD Global Administrator account and password.</span></span>
   <span data-ttu-id="da5a1-138">![Informations d'identification](./media/active-directory-aadconnectsync-feature-prevent-accidental-deletes/credentials.png)</span><span class="sxs-lookup"><span data-stu-id="da5a1-138">![Credentials](./media/active-directory-aadconnectsync-feature-prevent-accidental-deletes/credentials.png)</span></span>
3. <span data-ttu-id="da5a1-139">Action de hello hello le connecteur Active Directory étant toujours sélectionnée, sélectionnez **exécuter** et sélectionnez **exporter**.</span><span class="sxs-lookup"><span data-stu-id="da5a1-139">With hello Azure Active Directory Connector still selected, select hello action **Run** and select **Export**.</span></span>
4. <span data-ttu-id="da5a1-140">toore-activer la protection hello, exécutez l’applet de commande PowerShell hello : `Enable-ADSyncExportDeletionThreshold -DeletionThreshold 500`.</span><span class="sxs-lookup"><span data-stu-id="da5a1-140">toore-enable hello protection, run hello PowerShell cmdlet: `Enable-ADSyncExportDeletionThreshold -DeletionThreshold 500`.</span></span> <span data-ttu-id="da5a1-141">Remplacez 500 par valeur hello que vous remarqué lors de la récupération du seuil de suppression actuelle hello.</span><span class="sxs-lookup"><span data-stu-id="da5a1-141">Replace 500 with hello value you noticed when retrieving hello current deletion threshold.</span></span> <span data-ttu-id="da5a1-142">Indiquez un compte et un mot de passe d’administrateur général Azure AD.</span><span class="sxs-lookup"><span data-stu-id="da5a1-142">Provide an Azure AD Global Administrator account and password.</span></span>

## <a name="next-steps"></a><span data-ttu-id="da5a1-143">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="da5a1-143">Next steps</span></span>
<span data-ttu-id="da5a1-144">**Rubriques de présentation**</span><span class="sxs-lookup"><span data-stu-id="da5a1-144">**Overview topics**</span></span>

* [<span data-ttu-id="da5a1-145">Azure AD Connect Sync - Présentation et personnalisation des options de synchronisation</span><span class="sxs-lookup"><span data-stu-id="da5a1-145">Azure AD Connect sync: Understand and customize synchronization</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="da5a1-146">Intégration de vos identités locales avec Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="da5a1-146">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)
