---
title: "Azure AD Connect : Présentation de l’approvisionnement déclaratif | Microsoft Docs"
description: "Explique hello configuration configuration modèle déclaratif dans Azure AD Connect."
services: active-directory
documentationcenter: 
author: andkjell
manager: femila
editor: 
ms.assetid: cfbb870d-be7d-47b3-ba01-9e78121f0067
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: billmath
ms.openlocfilehash: f11e078f0aafacf94d69f0726ae41629a8470336
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-connect-sync-understanding-declarative-provisioning"></a><span data-ttu-id="16538-103">Azure AD Connect Sync : présentation de l’approvisionnement déclaratif</span><span class="sxs-lookup"><span data-stu-id="16538-103">Azure AD Connect sync: Understanding Declarative Provisioning</span></span>
<span data-ttu-id="16538-104">Cette rubrique explique le modèle de configuration hello dans Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="16538-104">This topic explains hello configuration model in Azure AD Connect.</span></span> <span data-ttu-id="16538-105">modèle de Hello est appelée approvisionnement déclaratif et il vous permet de toomake une modification de configuration avec la facilité.</span><span class="sxs-lookup"><span data-stu-id="16538-105">hello model is called Declarative Provisioning and it allows you toomake a configuration change with ease.</span></span> <span data-ttu-id="16538-106">De nombreux éléments décrits dans cette rubrique sont des éléments avancés, non indispensables pour la plupart des scénarios clients.</span><span class="sxs-lookup"><span data-stu-id="16538-106">Many things described in this topic are advanced and not required for most customer scenarios.</span></span>

## <a name="overview"></a><span data-ttu-id="16538-107">Vue d'ensemble</span><span class="sxs-lookup"><span data-stu-id="16538-107">Overview</span></span>
<span data-ttu-id="16538-108">Approvisionnement déclaratif est le traitement des objets provenant d’un répertoire source connecté et détermine comment les attributs et les objets hello doivent être transformées à partir d’une source tooa cible.</span><span class="sxs-lookup"><span data-stu-id="16538-108">Declarative provisioning is processing objects coming in from a source connected directory and determines how hello object and attributes should be transformed from a source tooa target.</span></span> <span data-ttu-id="16538-109">Traitement d’un objet dans un pipeline de synchronisation et le pipeline de hello est hello même pour les règles de trafic entrants et sortants.</span><span class="sxs-lookup"><span data-stu-id="16538-109">An object is processed in a sync pipeline and hello pipeline is hello same for inbound and outbound rules.</span></span> <span data-ttu-id="16538-110">Règle de trafic entrant à partir un métaverse de toohello d’espace connecteur et règle de trafic sortant à partir de l’espace de connecteur tooa hello métaverse.</span><span class="sxs-lookup"><span data-stu-id="16538-110">An inbound rule is from a connector space toohello metaverse and an outbound rule is from hello metaverse tooa connector space.</span></span>

![Pipeline de synchronisation](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/sync1.png)  

<span data-ttu-id="16538-112">pipeline de Hello a plusieurs modules.</span><span class="sxs-lookup"><span data-stu-id="16538-112">hello pipeline has several different modules.</span></span> <span data-ttu-id="16538-113">Chacun d’eux est responsable d’un concept de synchronisation des objets.</span><span class="sxs-lookup"><span data-stu-id="16538-113">Each one is responsible for one concept in object synchronization.</span></span>

![Pipeline de synchronisation](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/pipeline.png)  

* <span data-ttu-id="16538-115">Source, l’objet de source de hello</span><span class="sxs-lookup"><span data-stu-id="16538-115">Source, hello source object</span></span>
* <span data-ttu-id="16538-116">[Scope](#scope), recherche toutes les règles de synchronisation dans la portée</span><span class="sxs-lookup"><span data-stu-id="16538-116">[Scope](#scope), Finds all sync rules that are in scope</span></span>
* <span data-ttu-id="16538-117">[Join](#join), détermine la relation entre l’espace de connecteur et le métaverse</span><span class="sxs-lookup"><span data-stu-id="16538-117">[Join](#join), Determines relationship between connector space and metaverse</span></span>
* <span data-ttu-id="16538-118">[Transform](#transform), calcule comment les attributs doivent être transformés et flux</span><span class="sxs-lookup"><span data-stu-id="16538-118">[Transform](#transform), Calculates how attributes should be transformed and flow</span></span>
* <span data-ttu-id="16538-119">[Precedence](#precedence), résout les contributions d’attribut conflictuelles</span><span class="sxs-lookup"><span data-stu-id="16538-119">[Precedence](#precedence), Resolves conflicting attribute contributions</span></span>
* <span data-ttu-id="16538-120">Cible, l’objet cible de hello</span><span class="sxs-lookup"><span data-stu-id="16538-120">Target, hello target object</span></span>

## <a name="scope"></a><span data-ttu-id="16538-121">Scope</span><span class="sxs-lookup"><span data-stu-id="16538-121">Scope</span></span>
<span data-ttu-id="16538-122">module de portée Hello est l’évaluation d’un objet et détermine les règles hello dans la portée et doivent être inclus dans le traitement de hello.</span><span class="sxs-lookup"><span data-stu-id="16538-122">hello scope module is evaluating an object and determines hello rules that are in scope and should be included in hello processing.</span></span> <span data-ttu-id="16538-123">En fonction des valeurs d’attributs hello sur l’objet de hello, règles de synchronisation différents sont toobe évaluée dans l’étendue.</span><span class="sxs-lookup"><span data-stu-id="16538-123">Depending on hello attributes values on hello object, different sync rules are evaluated toobe in scope.</span></span> <span data-ttu-id="16538-124">Par exemple, un utilisateur désactivé sans boîte aux lettres Exchange possède des règles différentes d’un utilisateur activé avec une boîte aux lettres.</span><span class="sxs-lookup"><span data-stu-id="16538-124">For example, a disabled user with no Exchange mailbox does have different rules than an enabled user with a mailbox.</span></span>  
![Scope](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/scope1.png)  

<span data-ttu-id="16538-126">étendue de Hello est définie en tant que groupes et des clauses.</span><span class="sxs-lookup"><span data-stu-id="16538-126">hello scope is defined as groups and clauses.</span></span> <span data-ttu-id="16538-127">les clauses Hello sont à l’intérieur d’un groupe.</span><span class="sxs-lookup"><span data-stu-id="16538-127">hello clauses are inside a group.</span></span> <span data-ttu-id="16538-128">Un opérateur logique AND est utilisé entre toutes les clauses d’un groupe.</span><span class="sxs-lookup"><span data-stu-id="16538-128">A logical AND is used between all clauses in a group.</span></span> <span data-ttu-id="16538-129">Par exemple, (department = IT AND country = Denmark).</span><span class="sxs-lookup"><span data-stu-id="16538-129">For example, (department =IT AND country = Denmark).</span></span> <span data-ttu-id="16538-130">Un opérateur logique OR est utilisé entre les groupes.</span><span class="sxs-lookup"><span data-stu-id="16538-130">A logical OR is used between groups.</span></span>

![Scope](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/scope2.png)  
<span data-ttu-id="16538-132">étendue Hello dans cette image doit être lu en tant que (department = IT et pays = Danemark) ou (pays = Suède).</span><span class="sxs-lookup"><span data-stu-id="16538-132">hello scope in this picture should be read as (department = IT AND country = Denmark) OR (country=Sweden).</span></span> <span data-ttu-id="16538-133">Si le groupe 1 ou 2 de groupe est évaluée tootrue, règle de hello est dans la portée.</span><span class="sxs-lookup"><span data-stu-id="16538-133">If either group 1 or group 2 is evaluated tootrue, then hello rule is in scope.</span></span>

<span data-ttu-id="16538-134">module de portée Hello prend en charge hello opérations suivantes.</span><span class="sxs-lookup"><span data-stu-id="16538-134">hello scope module supports hello following operations.</span></span>

| <span data-ttu-id="16538-135">Opération</span><span class="sxs-lookup"><span data-stu-id="16538-135">Operation</span></span> | <span data-ttu-id="16538-136">Description</span><span class="sxs-lookup"><span data-stu-id="16538-136">Description</span></span> |
| --- | --- |
| <span data-ttu-id="16538-137">EQUAL, NOTEQUAL</span><span class="sxs-lookup"><span data-stu-id="16538-137">EQUAL, NOTEQUAL</span></span> |<span data-ttu-id="16538-138">Une comparaison de chaînes qui évalue si la valeur est égale toohello attribut de hello.</span><span class="sxs-lookup"><span data-stu-id="16538-138">A string compare that evaluates if value is equal toohello value in hello attribute.</span></span> <span data-ttu-id="16538-139">Pour les attributs à valeurs multiples, consultez ISIN et ISNOTIN.</span><span class="sxs-lookup"><span data-stu-id="16538-139">For multi-valued attributes, see ISIN and ISNOTIN.</span></span> |
| <span data-ttu-id="16538-140">LESSTHAN, LESSTHAN_OR_EQUAL</span><span class="sxs-lookup"><span data-stu-id="16538-140">LESSTHAN, LESSTHAN_OR_EQUAL</span></span> |<span data-ttu-id="16538-141">Une comparaison de chaînes qui évalue si la valeur est par valeur hello dans l’attribut de hello.</span><span class="sxs-lookup"><span data-stu-id="16538-141">A string compare that evaluates if value is less than of hello value in hello attribute.</span></span> |
| <span data-ttu-id="16538-142">CONTAINS, NOTCONTAINS</span><span class="sxs-lookup"><span data-stu-id="16538-142">CONTAINS, NOTCONTAINS</span></span> |<span data-ttu-id="16538-143">Une comparaison de chaînes qui évalue si la valeur se trouve quelque part dans la valeur dans l’attribut de hello.</span><span class="sxs-lookup"><span data-stu-id="16538-143">A string compare that evaluates if value can be found somewhere inside value in hello attribute.</span></span> |
| <span data-ttu-id="16538-144">STARTSWITH, NOTSTARTSWITH</span><span class="sxs-lookup"><span data-stu-id="16538-144">STARTSWITH, NOTSTARTSWITH</span></span> |<span data-ttu-id="16538-145">Une comparaison de chaînes qui évalue si la valeur est exprimée en début de hello de valeur hello dans l’attribut de hello.</span><span class="sxs-lookup"><span data-stu-id="16538-145">A string compare that evaluates if value is in hello beginning of hello value in hello attribute.</span></span> |
| <span data-ttu-id="16538-146">ENDSWITH, NOTENDSWITH</span><span class="sxs-lookup"><span data-stu-id="16538-146">ENDSWITH, NOTENDSWITH</span></span> |<span data-ttu-id="16538-147">Une comparaison de chaînes qui évalue si la valeur est hello valeur de fin de hello dans l’attribut de hello.</span><span class="sxs-lookup"><span data-stu-id="16538-147">A string compare that evaluates if value is in hello end of hello value in hello attribute.</span></span> |
| <span data-ttu-id="16538-148">GREATERTHAN, GREATERTHAN_OR_EQUAL</span><span class="sxs-lookup"><span data-stu-id="16538-148">GREATERTHAN, GREATERTHAN_OR_EQUAL</span></span> |<span data-ttu-id="16538-149">Une comparaison de chaînes qui évalue si la valeur est supérieure à la valeur hello dans l’attribut de hello.</span><span class="sxs-lookup"><span data-stu-id="16538-149">A string compare that evaluates if value is greater than of hello value in hello attribute.</span></span> |
| <span data-ttu-id="16538-150">ISNULL, ISNOTNULL</span><span class="sxs-lookup"><span data-stu-id="16538-150">ISNULL, ISNOTNULL</span></span> |<span data-ttu-id="16538-151">Évalue si hello attribut est absent de l’objet de hello.</span><span class="sxs-lookup"><span data-stu-id="16538-151">Evaluates if hello attribute is absent from hello object.</span></span> <span data-ttu-id="16538-152">Si l’attribut de hello n’est pas présent et par conséquent null, la règle de hello est dans la portée.</span><span class="sxs-lookup"><span data-stu-id="16538-152">If hello attribute is not present and therefore null, then hello rule is in scope.</span></span> |
| <span data-ttu-id="16538-153">ISIN, ISNOTIN</span><span class="sxs-lookup"><span data-stu-id="16538-153">ISIN, ISNOTIN</span></span> |<span data-ttu-id="16538-154">Évalue si la valeur de hello est présente dans l’attribut de hello défini.</span><span class="sxs-lookup"><span data-stu-id="16538-154">Evaluates if hello value is present in hello defined attribute.</span></span> <span data-ttu-id="16538-155">Cette opération est à valeurs multiples modification égal et de NOTEQUAL hello.</span><span class="sxs-lookup"><span data-stu-id="16538-155">This operation is hello multi-valued variation of EQUAL and NOTEQUAL.</span></span> <span data-ttu-id="16538-156">attribut de Hello est supposée toobe un attribut à valeurs multiples et si la valeur de hello se trouve dans une des valeurs d’attribut hello, puis la règle de hello est dans la portée.</span><span class="sxs-lookup"><span data-stu-id="16538-156">hello attribute is supposed toobe a multi-valued attribute and if hello value can be found in any of hello attribute values, then hello rule is in scope.</span></span> |
| <span data-ttu-id="16538-157">ISBITSET, ISNOTBITSET</span><span class="sxs-lookup"><span data-stu-id="16538-157">ISBITSET, ISNOTBITSET</span></span> |<span data-ttu-id="16538-158">Évalue si un bit particulier est défini.</span><span class="sxs-lookup"><span data-stu-id="16538-158">Evaluates if a particular bit is set.</span></span> <span data-ttu-id="16538-159">Par exemple, peut être utilisé tooevaluate bits hello dans userAccountControl toosee si un utilisateur est activé ou désactivé.</span><span class="sxs-lookup"><span data-stu-id="16538-159">For example, can be used tooevaluate hello bits in userAccountControl toosee if a user is enabled or disabled.</span></span> |
| <span data-ttu-id="16538-160">ISMEMBEROF, ISNOTMEMBEROF</span><span class="sxs-lookup"><span data-stu-id="16538-160">ISMEMBEROF, ISNOTMEMBEROF</span></span> |<span data-ttu-id="16538-161">valeur de Hello doit contenir un groupe de tooa nom unique dans l’espace de connecteur hello.</span><span class="sxs-lookup"><span data-stu-id="16538-161">hello value should contain a DN tooa group in hello connector space.</span></span> <span data-ttu-id="16538-162">Si l’objet de hello est membre du groupe hello spécifié, la règle de hello est dans la portée.</span><span class="sxs-lookup"><span data-stu-id="16538-162">If hello object is a member of hello group specified, hello rule is in scope.</span></span> |

## <a name="join"></a><span data-ttu-id="16538-163">Join</span><span class="sxs-lookup"><span data-stu-id="16538-163">Join</span></span>
<span data-ttu-id="16538-164">module de jointure Hello dans le pipeline de synchronisation hello est responsable de la recherche de relation hello entre hello dans la source de hello et un objet dans la cible de hello.</span><span class="sxs-lookup"><span data-stu-id="16538-164">hello join module in hello sync pipeline is responsible for finding hello relationship between hello object in hello source and an object in hello target.</span></span> <span data-ttu-id="16538-165">Sur la règle de trafic entrant, cette relation serait un objet dans un espace de connecteur recherche un objet de relation de tooan hello métaverse.</span><span class="sxs-lookup"><span data-stu-id="16538-165">On an inbound rule, this relationship would be an object in a connector space finding a relationship tooan object in hello metaverse.</span></span>  
![Jointure entre cs et mv](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/join1.png)  
<span data-ttu-id="16538-167">Hello vise toosee s’il existe déjà un objet de métaverse hello, créé par un autre connecteur, elle doit être associée.</span><span class="sxs-lookup"><span data-stu-id="16538-167">hello goal is toosee if there is an object already in hello metaverse, created by another Connector, it should be associated with.</span></span> <span data-ttu-id="16538-168">Par exemple, dans une ressource de compte d’utilisateur à partir de la forêt de comptes hello hello doit être joint avec utilisateur hello à partir de la forêt de ressources hello.</span><span class="sxs-lookup"><span data-stu-id="16538-168">For example, in an account-resource forest hello user from hello account forest should be joined with hello user from hello resource forest.</span></span>

<span data-ttu-id="16538-169">Les jointures sont utilisés principalement sur les règles de trafic entrant toojoin connecteur espace objets ensemble toohello même objet de métaverse.</span><span class="sxs-lookup"><span data-stu-id="16538-169">Joins are used mostly on inbound rules toojoin connector space objects together toohello same metaverse object.</span></span>

<span data-ttu-id="16538-170">Hello jointures sont définies en tant qu’un ou plusieurs groupes.</span><span class="sxs-lookup"><span data-stu-id="16538-170">hello joins are defined as one or more groups.</span></span> <span data-ttu-id="16538-171">À l’intérieur d’un groupe, il existe des clauses.</span><span class="sxs-lookup"><span data-stu-id="16538-171">Inside a group, you have clauses.</span></span> <span data-ttu-id="16538-172">Un opérateur logique AND est utilisé entre toutes les clauses d’un groupe.</span><span class="sxs-lookup"><span data-stu-id="16538-172">A logical AND is used between all clauses in a group.</span></span> <span data-ttu-id="16538-173">Un opérateur logique OR est utilisé entre les groupes.</span><span class="sxs-lookup"><span data-stu-id="16538-173">A logical OR is used between groups.</span></span> <span data-ttu-id="16538-174">groupes de Hello sont traités dans l’ordre de toobottom supérieur.</span><span class="sxs-lookup"><span data-stu-id="16538-174">hello groups are processed in order from top toobottom.</span></span> <span data-ttu-id="16538-175">Lorsqu’un groupe a trouvé exactement une correspondance avec un objet dans la cible de hello, aucune autre règle de jointure n’est évaluées.</span><span class="sxs-lookup"><span data-stu-id="16538-175">When one group has found exactly one match with an object in hello target, then no other join rules are evaluated.</span></span> <span data-ttu-id="16538-176">Si zéro ou plus d’un objet est trouvé, le traitement continue toohello au prochain groupe de règles.</span><span class="sxs-lookup"><span data-stu-id="16538-176">If zero or more than one object is found, processing continues toohello next group of rules.</span></span> <span data-ttu-id="16538-177">Pour cette raison, les règles de hello doivent être créés dans l’ordre de hello de plus explicite première et la plus probable à fin de hello.</span><span class="sxs-lookup"><span data-stu-id="16538-177">For this reason, hello rules should be created in hello order of most explicit first and more fuzzy at hello end.</span></span>  
![Définition de jointure](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/join2.png)  
<span data-ttu-id="16538-179">jointures Hello dans cette image sont traités de toobottom supérieur.</span><span class="sxs-lookup"><span data-stu-id="16538-179">hello joins in this picture are processed from top toobottom.</span></span> <span data-ttu-id="16538-180">Pipeline de synchronisation hello première voit s’il existe une correspondance sur employeeID.</span><span class="sxs-lookup"><span data-stu-id="16538-180">First hello sync pipeline sees if there is a match on employeeID.</span></span> <span data-ttu-id="16538-181">Si ce n’est pas le cas, seconde hello voit si nom hello du compte peut être utilisé toojoin hello objets ensemble.</span><span class="sxs-lookup"><span data-stu-id="16538-181">If not, hello second rule sees if hello account name can be used toojoin hello objects together.</span></span> <span data-ttu-id="16538-182">Si tel n’est pas soit une correspondance, règle de troisième et dernière hello est une correspondance approximative plus à l’aide du nom d’utilisateur de hello.</span><span class="sxs-lookup"><span data-stu-id="16538-182">If that is not a match either, hello third and final rule is a more fuzzy match by using hello name of user.</span></span>

<span data-ttu-id="16538-183">Si toutes les règles de jointure ont été évaluées, et il n’est pas exactement une correspondance, hello **Type de lien** sur hello **Description** page est utilisée.</span><span class="sxs-lookup"><span data-stu-id="16538-183">If all join rules have been evaluated and there is not exactly one match, hello **Link Type** on hello **Description** page is used.</span></span> <span data-ttu-id="16538-184">Si cette option est définie trop**configurer**, un nouvel objet dans la cible de hello est alors créé.</span><span class="sxs-lookup"><span data-stu-id="16538-184">If this option is set too**Provision**, then a new object in hello target is created.</span></span>  
<span data-ttu-id="16538-185">![Approvisionnement ou jointure](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/join3.png)</span><span class="sxs-lookup"><span data-stu-id="16538-185">![Provision or join](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/join3.png)</span></span>  

<span data-ttu-id="16538-186">Un objet doit avoir une seule règle de synchronisation avec des règles de jointure dans la portée.</span><span class="sxs-lookup"><span data-stu-id="16538-186">An object should only have one single sync rule with join rules in scope.</span></span> <span data-ttu-id="16538-187">S’il existe plusieurs règles de synchronisation dans lesquelles la jointure est définie, une erreur se produit.</span><span class="sxs-lookup"><span data-stu-id="16538-187">If there are multiple sync rules where join is defined, an error occurs.</span></span> <span data-ttu-id="16538-188">Priorité n’est pas utilisé tooresolve jointure conflits.</span><span class="sxs-lookup"><span data-stu-id="16538-188">Precedence is not used tooresolve join conflicts.</span></span> <span data-ttu-id="16538-189">Un objet doit avoir une règle de jointure dans la portée de tooflow attributs avec hello même sens entrant et sortant.</span><span class="sxs-lookup"><span data-stu-id="16538-189">An object must have a join rule in scope for attributes tooflow with hello same inbound/outbound direction.</span></span> <span data-ttu-id="16538-190">Si vous avez besoin de tooflow toohello entrant et sortant des attributs même objet, vous devez avoir entrante et une règle de synchronisation sortants avec une jointure.</span><span class="sxs-lookup"><span data-stu-id="16538-190">If you need tooflow attributes both inbound and outbound toohello same object, you must have both an inbound and an outbound sync rule with join.</span></span>

<span data-ttu-id="16538-191">Jointure sortant a un comportement spécial quand il tente de tooprovision un espace de connecteur objet tooa cible.</span><span class="sxs-lookup"><span data-stu-id="16538-191">Outbound join has a special behavior when it tries tooprovision an object tooa target connector space.</span></span> <span data-ttu-id="16538-192">l’attribut Hello DN est toofirst utilisé, essayez une jointure de l’ordre inverse.</span><span class="sxs-lookup"><span data-stu-id="16538-192">hello DN attribute is used toofirst try a reverse-join.</span></span> <span data-ttu-id="16538-193">S’il existe déjà un objet dans l’espace de connecteur hello cible avec hello même DN, hello objets sont joints.</span><span class="sxs-lookup"><span data-stu-id="16538-193">If there is already an object in hello target connector space with hello same DN, hello objects are joined.</span></span>

<span data-ttu-id="16538-194">module de jointure Hello est évaluée uniquement une fois que lorsqu’une nouvelle règle de synchronisation est dans l’étendue.</span><span class="sxs-lookup"><span data-stu-id="16538-194">hello join module is only evaluated once when a new sync rule comes into scope.</span></span> <span data-ttu-id="16538-195">Lorsqu’un objet est joint, il n’est pas disjonction même si les critères de jointure hello n’est plus remplie.</span><span class="sxs-lookup"><span data-stu-id="16538-195">When an object has joined, it is not disjoining even if hello join criteria is no longer satisfied.</span></span> <span data-ttu-id="16538-196">Si vous voulez toodisjoin un objet, la règle de synchronisation hello qui joint les objets hello doit se trouver hors de portée.</span><span class="sxs-lookup"><span data-stu-id="16538-196">If you want toodisjoin an object, hello sync rule that joined hello objects must go out of scope.</span></span>

### <a name="metaverse-delete"></a><span data-ttu-id="16538-197">Suppression du métaverse</span><span class="sxs-lookup"><span data-stu-id="16538-197">Metaverse delete</span></span>
<span data-ttu-id="16538-198">Un objet de métaverse reste tant qu’il existe une règle de synchronisation dans la portée avec **Type de lien** défini trop**configurer** ou **StickyJoin**.</span><span class="sxs-lookup"><span data-stu-id="16538-198">A metaverse object remains as long as there is one sync rule in scope with **Link Type** set too**Provision** or **StickyJoin**.</span></span> <span data-ttu-id="16538-199">Un StickyJoin est utilisé lorsqu’un connecteur n’est pas autorisé tooprovision un nouvel objet de métaverse de toohello, mais quand elle a joint, il doit être supprimé dans la source de hello avant la suppression d’objet de métaverse hello.</span><span class="sxs-lookup"><span data-stu-id="16538-199">A StickyJoin is used when a Connector is not allowed tooprovision a new object toohello metaverse, but when it has joined, it must be deleted in hello source before hello metaverse object is deleted.</span></span>

<span data-ttu-id="16538-200">Lorsqu’un objet de métaverse est supprimé, tous les objets associés à une règle de synchronisation de trafic sortant marquée **Provision** sont marqués pour suppression.</span><span class="sxs-lookup"><span data-stu-id="16538-200">When a metaverse object is deleted, all objects associated with an outbound sync rule marked for **provision** are marked for a delete.</span></span>

## <a name="transformations"></a><span data-ttu-id="16538-201">Transformations</span><span class="sxs-lookup"><span data-stu-id="16538-201">Transformations</span></span>
<span data-ttu-id="16538-202">les transformations de Hello sont utilisée toodefine comment attributs doit être le flux à partir de hello source toohello cible.</span><span class="sxs-lookup"><span data-stu-id="16538-202">hello transformations are used toodefine how attributes should flow from hello source toohello target.</span></span> <span data-ttu-id="16538-203">Hello flux peuvent avoir l’une des manières suivantes les hello **flux types**: Direct, une constante ou Expression.</span><span class="sxs-lookup"><span data-stu-id="16538-203">hello flows can have one of hello following **flow types**: Direct, Constant, or Expression.</span></span> <span data-ttu-id="16538-204">Un flux direct envoie la valeur de l’attribut telle quelle, sans transformation supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="16538-204">A direct flow, flows an attribute value as-is with no additional transformations.</span></span> <span data-ttu-id="16538-205">Un Bonjour de jeux de valeur de constante de valeur spécifiée.</span><span class="sxs-lookup"><span data-stu-id="16538-205">A constant value sets hello specified value.</span></span> <span data-ttu-id="16538-206">Une expression utilise hello déclarative approvisionnement expression language tooexpress comment la transformation de hello doit être.</span><span class="sxs-lookup"><span data-stu-id="16538-206">An expression uses hello declarative provisioning expression language tooexpress how hello transformation should be.</span></span> <span data-ttu-id="16538-207">Hello détails pour le langage d’expression hello se trouvent dans hello [présentation de langage d’expression approvisionnement déclaratif](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md) rubrique.</span><span class="sxs-lookup"><span data-stu-id="16538-207">hello details for hello expression language can be found in hello [understanding declarative provisioning expression language](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md) topic.</span></span>

![Approvisionnement ou jointure](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/transformations1.png)  

<span data-ttu-id="16538-209">Hello **appliquer une seule fois** case à cocher définit ce hello attribut doit être défini uniquement lors de l’objet de hello est initialement créé.</span><span class="sxs-lookup"><span data-stu-id="16538-209">hello **Apply once** checkbox defines that hello attribute should only be set when hello object is initially created.</span></span> <span data-ttu-id="16538-210">Par exemple, cette configuration peut être utilisé tooset un mot de passe initial d’un nouvel objet utilisateur.</span><span class="sxs-lookup"><span data-stu-id="16538-210">For example, this configuration can be used tooset an initial password for a new user object.</span></span>

### <a name="merging-attribute-values"></a><span data-ttu-id="16538-211">Fusion de valeurs d’attribut</span><span class="sxs-lookup"><span data-stu-id="16538-211">Merging attribute values</span></span>
<span data-ttu-id="16538-212">Flux d’attributs hello est un toodetermine paramètre si des attributs à valeurs multiples doivent être fusionnées à partir de plusieurs liens différents.</span><span class="sxs-lookup"><span data-stu-id="16538-212">In hello attribute flows there is a setting toodetermine if multi-valued attributes should be merged from several different Connectors.</span></span> <span data-ttu-id="16538-213">la valeur par défaut Hello est **mise à jour**, ce qui indique que la règle de synchronisation hello avec la priorité la plus élevée doit win.</span><span class="sxs-lookup"><span data-stu-id="16538-213">hello default value is **Update**, which indicates that hello sync rule with highest precedence should win.</span></span>

![Types de fusion](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/mergetype.png)  

<span data-ttu-id="16538-215">Il existe également une option **Fusionner** et **MergeCaseInsensitive** (Fusion non sensible à la casse).</span><span class="sxs-lookup"><span data-stu-id="16538-215">There is also **Merge** and **MergeCaseInsensitive**.</span></span> <span data-ttu-id="16538-216">Ces options vous permettent de toomerge des valeurs à partir de sources différentes.</span><span class="sxs-lookup"><span data-stu-id="16538-216">These options allow you toomerge values from different sources.</span></span> <span data-ttu-id="16538-217">Par exemple, il peut être attribut de membre ou proxyAddresses de hello provenant de plusieurs forêts différentes toomerge utilisé.</span><span class="sxs-lookup"><span data-stu-id="16538-217">For example, it can be used toomerge hello member or proxyAddresses attribute from several different forests.</span></span> <span data-ttu-id="16538-218">Lorsque vous utilisez cette option, tous les synchroniser les règles dans la portée pour un objet doit utiliser hello même type de fusion.</span><span class="sxs-lookup"><span data-stu-id="16538-218">When you use this option, all sync rules in scope for an object must use hello same merge type.</span></span> <span data-ttu-id="16538-219">Vous ne pouvez pas définir **Mettre à jour** à partir d’un connecteur et **Fusionner** à partir d’un autre connecteur.</span><span class="sxs-lookup"><span data-stu-id="16538-219">You cannot define **Update** from one Connector and **Merge** from another.</span></span> <span data-ttu-id="16538-220">Si vous essayez, vous recevrez une erreur.</span><span class="sxs-lookup"><span data-stu-id="16538-220">If you try, you receive an error.</span></span>

<span data-ttu-id="16538-221">Hello la différence entre **fusion** et **MergeCaseInsensitive** est comment tooprocess dupliquer les valeurs d’attribut.</span><span class="sxs-lookup"><span data-stu-id="16538-221">hello difference between **Merge** and **MergeCaseInsensitive** is how tooprocess duplicate attribute values.</span></span> <span data-ttu-id="16538-222">moteur de synchronisation Hello permet de s’assurer que des valeurs en double ne sont pas insérées dans l’attribut cible de hello.</span><span class="sxs-lookup"><span data-stu-id="16538-222">hello sync engine makes sure duplicate values are not inserted into hello target attribute.</span></span> <span data-ttu-id="16538-223">Avec **MergeCaseInsensitive**, doublons au cas où ne vont ne pas toobe présent avec uniquement une différence.</span><span class="sxs-lookup"><span data-stu-id="16538-223">With **MergeCaseInsensitive**, duplicate values with only a difference in case are not going toobe present.</span></span> <span data-ttu-id="16538-224">Par exemple, vous devez voir pas à la fois «SMTP:bob@contoso.com« et »smtp:bob@contoso.com» dans l’attribut cible de hello.</span><span class="sxs-lookup"><span data-stu-id="16538-224">For example, you should not see both "SMTP:bob@contoso.com" and "smtp:bob@contoso.com" in hello target attribute.</span></span> <span data-ttu-id="16538-225">**Fusion** examine uniquement les valeurs exactes de hello et plusieurs valeurs a uniquement une différence dans les cas peuvent être présents.</span><span class="sxs-lookup"><span data-stu-id="16538-225">**Merge** is only looking at hello exact values and multiple values where there only is a difference in case might be present.</span></span>

<span data-ttu-id="16538-226">Hello option **remplacer** est hello identique **mise à jour**, mais il n’est pas utilisé.</span><span class="sxs-lookup"><span data-stu-id="16538-226">hello option **Replace** is hello same as **Update**, but it is not used.</span></span>

### <a name="control-hello-attribute-flow-process"></a><span data-ttu-id="16538-227">Processus de flux de contrôle hello attribut</span><span class="sxs-lookup"><span data-stu-id="16538-227">Control hello attribute flow process</span></span>
<span data-ttu-id="16538-228">Lorsque plusieurs règles de synchronisation entrante sont configurés toocontribute toohello même attribut de métaverse, priorité est le gagnant hello toodetermine utilisé.</span><span class="sxs-lookup"><span data-stu-id="16538-228">When multiple inbound sync rules are configured toocontribute toohello same metaverse attribute, then precedence is used toodetermine hello winner.</span></span> <span data-ttu-id="16538-229">la règle de synchronisation Hello avec la priorité la plus élevée (valeur numérique la plus basse) va valeur hello de toocontribute.</span><span class="sxs-lookup"><span data-stu-id="16538-229">hello sync rule with highest precedence (lowest numeric value) is going toocontribute hello value.</span></span> <span data-ttu-id="16538-230">Hello que même se produisent pour les règles de trafic sortant.</span><span class="sxs-lookup"><span data-stu-id="16538-230">hello same happens for outbound rules.</span></span> <span data-ttu-id="16538-231">la règle de synchronisation avec la priorité la plus élevée Hello wins et contribuer hello valeur toohello connectée active.</span><span class="sxs-lookup"><span data-stu-id="16538-231">hello sync rule with highest precedence wins and contribute hello value toohello connected directory.</span></span>

<span data-ttu-id="16538-232">Dans certains cas, plutôt que contribuer à une valeur, la règle de synchronisation hello doit déterminer comment les autres règles doivent se comporter.</span><span class="sxs-lookup"><span data-stu-id="16538-232">In some cases, rather than contribute a value, hello sync rule should determine how other rules should behave.</span></span> <span data-ttu-id="16538-233">Certains littéraux particuliers sont utilisés dans ce cas.</span><span class="sxs-lookup"><span data-stu-id="16538-233">There are some special literals used for this case.</span></span>

<span data-ttu-id="16538-234">Pour les règles de synchronisation entrantes, hello littéral **NULL** peut être utilisé tooindicate que les flux hello ne dispose d’aucune toocontribute de valeur.</span><span class="sxs-lookup"><span data-stu-id="16538-234">For inbound Synchronization Rules, hello literal **NULL** can be used tooindicate that hello flow has no value toocontribute.</span></span> <span data-ttu-id="16538-235">Une autre règle avec une priorité inférieure peut transmettre sa valeur.</span><span class="sxs-lookup"><span data-stu-id="16538-235">Another rule with lower precedence can contribute a value.</span></span> <span data-ttu-id="16538-236">Si aucune règle n’a contribué à une valeur, attribut de métaverse hello est supprimé.</span><span class="sxs-lookup"><span data-stu-id="16538-236">If no rule contributed a value, then hello metaverse attribute is removed.</span></span> <span data-ttu-id="16538-237">Pour une règle sortante, si **NULL** est la valeur finale de hello après le traitement de toutes les règles de synchronisation, puis de la valeur de hello est supprimée dans l’annuaire connecté de hello.</span><span class="sxs-lookup"><span data-stu-id="16538-237">For an outbound rule, if **NULL** is hello final value after all sync rules have been processed, then hello value is removed in hello connected directory.</span></span>

<span data-ttu-id="16538-238">Hello littéral **AuthoritativeNull** ressemble trop**NULL** , mais avec une différence hello qu’aucune règle de priorité inférieur ne peut contribuer à une valeur.</span><span class="sxs-lookup"><span data-stu-id="16538-238">hello literal **AuthoritativeNull** is similar too**NULL** but with hello difference that no lower precedence rules can contribute a value.</span></span>

<span data-ttu-id="16538-239">Un flux d’attributs peut également utiliser le littéral **IgnoreThisFlow**.</span><span class="sxs-lookup"><span data-stu-id="16538-239">An attribute flow can also use **IgnoreThisFlow**.</span></span> <span data-ttu-id="16538-240">Il s’agit de tooNULL similaires dans les sens hello qu’il indique rien toocontribute.</span><span class="sxs-lookup"><span data-stu-id="16538-240">It is similar tooNULL in hello sense that it indicates there is nothing toocontribute.</span></span> <span data-ttu-id="16538-241">différence de Hello est qu’elle ne supprime pas une valeur déjà existante dans la cible de hello.</span><span class="sxs-lookup"><span data-stu-id="16538-241">hello difference is that it does not remove an already existing value in hello target.</span></span> <span data-ttu-id="16538-242">C’est comme flux d’attribut hello n’a jamais été il.</span><span class="sxs-lookup"><span data-stu-id="16538-242">It is like hello attribute flow has never been there.</span></span>

<span data-ttu-id="16538-243">Voici un exemple :</span><span class="sxs-lookup"><span data-stu-id="16538-243">Here is an example:</span></span>

<span data-ttu-id="16538-244">Dans *hors tooAD - utilisateur Exchange hybride* hello suit flux se trouve :</span><span class="sxs-lookup"><span data-stu-id="16538-244">In *Out tooAD - User Exchange hybrid* hello following flow can be found:</span></span>  
`IIF([cloudSOAExchMailbox] = True,[cloudMSExchSafeSendersHash],IgnoreThisFlow)`  
<span data-ttu-id="16538-245">Cette expression doit être lu en tant que : si la boîte aux lettres utilisateur de hello se trouve dans Azure AD, puis flux attribut hello tooAD d’Azure AD.</span><span class="sxs-lookup"><span data-stu-id="16538-245">This expression should be read as: if hello user mailbox is located in Azure AD, then flow hello attribute from Azure AD tooAD.</span></span> <span data-ttu-id="16538-246">Dans le cas contraire, ne sont pas acheminées tout retour tooActive active.</span><span class="sxs-lookup"><span data-stu-id="16538-246">If not, do not flow anything back tooActive Directory.</span></span> <span data-ttu-id="16538-247">Dans ce cas, il serait conserver la valeur hello dans AD.</span><span class="sxs-lookup"><span data-stu-id="16538-247">In this case, it would keep hello existing value in AD.</span></span>

### <a name="importedvalue"></a><span data-ttu-id="16538-248">ImportedValue</span><span class="sxs-lookup"><span data-stu-id="16538-248">ImportedValue</span></span>
<span data-ttu-id="16538-249">fonction de Hello ImportedValue est différente de celle de toutes les autres fonctions, car le nom de l’attribut hello doit être placé entre guillemets, plutôt que des crochets :</span><span class="sxs-lookup"><span data-stu-id="16538-249">hello function ImportedValue is different than all other functions since hello attribute name must be enclosed in quotes rather than square brackets:</span></span>  
<span data-ttu-id="16538-250">`ImportedValue("proxyAddresses")`.</span><span class="sxs-lookup"><span data-stu-id="16538-250">`ImportedValue("proxyAddresses")`.</span></span>

<span data-ttu-id="16538-251">Généralement pendant la synchronisation un attribut utilise la valeur attendue de hello, même si elle n’a pas encore été exportée ou si une erreur a été reçue lors de l’exportation (« haut de la tour de hello »).</span><span class="sxs-lookup"><span data-stu-id="16538-251">Usually during synchronization an attribute uses hello expected value, even if it hasn’t been exported yet or an error was received during export (“top of hello tower”).</span></span> <span data-ttu-id="16538-252">Une synchronisation entrante part du principe qu’un attribut qui n’a pas encore atteint un annuaire connecté finira par l’atteindre.</span><span class="sxs-lookup"><span data-stu-id="16538-252">An inbound synchronization assumes that an attribute that hasn’t yet reached a connected directory eventually reaches it.</span></span> <span data-ttu-id="16538-253">Dans certains cas, il est important de tooonly synchroniser une valeur qui a été confirmée par annuaire connecté de hello (« hologramme et tour d’importation de delta »).</span><span class="sxs-lookup"><span data-stu-id="16538-253">In some cases, it is important tooonly synchronize a value that has been confirmed by hello connected directory (“hologram and delta import tower”).</span></span>

<span data-ttu-id="16538-254">Vous trouverez un exemple de cette fonction dans hello out-of-box règle de synchronisation *dans depuis AD-utilisateur courant à partir d’Exchange*.</span><span class="sxs-lookup"><span data-stu-id="16538-254">An example of this function can be found in hello out-of-box Synchronization Rule *In from AD – User Common from Exchange*.</span></span> <span data-ttu-id="16538-255">Dans Exchange hybride, valeur hello ajoutée par Exchange online doit uniquement être synchronisée lorsqu’il a été confirmé que la valeur de hello a été exportée correctement :</span><span class="sxs-lookup"><span data-stu-id="16538-255">In Hybrid Exchange, hello value added by Exchange online should only be synchronized when it has been confirmed that hello value was exported successfully:</span></span>  
`proxyAddresses` <- `RemoveDuplicates(Trim(ImportedValue("proxyAddresses")))`

## <a name="precedence"></a><span data-ttu-id="16538-256">Precedence</span><span class="sxs-lookup"><span data-stu-id="16538-256">Precedence</span></span>
<span data-ttu-id="16538-257">Lorsque vous essayez de plusieurs règles de synchronisation toocontribute hello même cible de toohello de valeur d’attribut, valeur de priorité hello est le gagnant hello toodetermine utilisé.</span><span class="sxs-lookup"><span data-stu-id="16538-257">When several sync rules try toocontribute hello same attribute value toohello target, hello precedence value is used toodetermine hello winner.</span></span> <span data-ttu-id="16538-258">règle Hello avec la priorité la plus élevée, plus petite valeur numérique, attribut de hello toocontribute un conflit est en cours.</span><span class="sxs-lookup"><span data-stu-id="16538-258">hello rule with highest precedence, lowest numeric value, is going toocontribute hello attribute in a conflict.</span></span>

![Types de fusion](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/precedence1.png)  

<span data-ttu-id="16538-260">Ce classement peut être utilisé toodefine plus précise des flux pour un petit sous-ensemble des objets d’attribut.</span><span class="sxs-lookup"><span data-stu-id="16538-260">This ordering can be used toodefine more precise attribute flows for a small subset of objects.</span></span> <span data-ttu-id="16538-261">Par exemple, hello hors-de--règles prédéfinies vous assurer que des attributs à partir d’un compte activé (**User AccountEnabled**) ont une priorité d’autres comptes.</span><span class="sxs-lookup"><span data-stu-id="16538-261">For example, hello out-of-box-rules make sure that attributes from an enabled account (**User AccountEnabled**) have precedence from other accounts.</span></span>

<span data-ttu-id="16538-262">La précédence peut être définie entre les connecteurs.</span><span class="sxs-lookup"><span data-stu-id="16538-262">Precedence can be defined between Connectors.</span></span> <span data-ttu-id="16538-263">Qui permet tout d’abord des connecteurs avec meilleures valeurs toocontribute de données.</span><span class="sxs-lookup"><span data-stu-id="16538-263">That allows Connectors with better data toocontribute values first.</span></span>

### <a name="multiple-objects-from-hello-same-connector-space"></a><span data-ttu-id="16538-264">Plusieurs objets à partir de hello même espace de connecteur</span><span class="sxs-lookup"><span data-stu-id="16538-264">Multiple objects from hello same connector space</span></span>
<span data-ttu-id="16538-265">Si vous disposez de plusieurs objets Bonjour même connecteur espace toohello joint à un objet de métaverse même, priorité doit être ajustée.</span><span class="sxs-lookup"><span data-stu-id="16538-265">If you have several objects in hello same connector space joined toohello same metaverse object, precedence must be adjusted.</span></span> <span data-ttu-id="16538-266">Si plusieurs objets sont dans la portée de hello même règle de synchronisation, puis le moteur de synchronisation hello n’est pas en mesure de toodetermine priorité.</span><span class="sxs-lookup"><span data-stu-id="16538-266">If several objects are in scope of hello same sync rule, then hello sync engine is not able toodetermine precedence.</span></span> <span data-ttu-id="16538-267">Il est ambigu quel objet de source doit contribuer hello valeur toohello métaverse.</span><span class="sxs-lookup"><span data-stu-id="16538-267">It is ambiguous which source object should contribute hello value toohello metaverse.</span></span> <span data-ttu-id="16538-268">Cette configuration est signalée comme ambiguë même si les attributs de hello dans la source de hello ont hello même valeur.</span><span class="sxs-lookup"><span data-stu-id="16538-268">This configuration is reported as ambiguous even if hello attributes in hello source have hello same value.</span></span>  
![Plusieurs objets joint toohello même objet mv](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/multiple1.png)  

<span data-ttu-id="16538-270">Pour ce scénario, vous devez toochange hello champ d’application de règles de synchronisation hello pour que les objets de source de hello aient des règles de synchronisation différent dans la portée.</span><span class="sxs-lookup"><span data-stu-id="16538-270">For this scenario, you need toochange hello scope of hello sync rules so hello source objects have different sync rules in scope.</span></span> <span data-ttu-id="16538-271">Cela vous permet de toodefine une priorité différente.</span><span class="sxs-lookup"><span data-stu-id="16538-271">That allows you toodefine different precedence.</span></span>  
![Plusieurs objets joint toohello même objet mv](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/multiple2.png)  

## <a name="next-steps"></a><span data-ttu-id="16538-273">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="16538-273">Next steps</span></span>
* <span data-ttu-id="16538-274">En savoir plus sur le langage d’expression hello [compréhension des Expressions de l’approvisionnement déclaratif](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md).</span><span class="sxs-lookup"><span data-stu-id="16538-274">Read more about hello expression language in [Understanding Declarative Provisioning Expressions](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md).</span></span>
* <span data-ttu-id="16538-275">Voir comment déclarative utilisé out-of-box dans la configuration se [présentation de la configuration par défaut hello](active-directory-aadconnectsync-understanding-default-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="16538-275">See how declarative provisioning is used out-of-box in [Understanding hello default configuration](active-directory-aadconnectsync-understanding-default-configuration.md).</span></span>
* <span data-ttu-id="16538-276">Consultez la section Comment toomake une pratique modifier à l’aide de l’approvisionnement déclaratif dans [comment toomake un toohello de modification de configuration par défaut](active-directory-aadconnectsync-change-the-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="16538-276">See how toomake a practical change using declarative provisioning in [How toomake a change toohello default configuration](active-directory-aadconnectsync-change-the-configuration.md).</span></span>
* <span data-ttu-id="16538-277">Continuer tooread fonctionnement des utilisateurs et des contacts dans [présentation des utilisateurs et Contacts](active-directory-aadconnectsync-understanding-users-and-contacts.md).</span><span class="sxs-lookup"><span data-stu-id="16538-277">Continue tooread how users and contacts work together in [Understanding Users and Contacts](active-directory-aadconnectsync-understanding-users-and-contacts.md).</span></span>

<span data-ttu-id="16538-278">**Rubriques de présentation**</span><span class="sxs-lookup"><span data-stu-id="16538-278">**Overview topics**</span></span>

* [<span data-ttu-id="16538-279">Azure AD Connect Sync - Présentation et personnalisation des options de synchronisation</span><span class="sxs-lookup"><span data-stu-id="16538-279">Azure AD Connect sync: Understand and customize synchronization</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="16538-280">Intégration de vos identités locales avec Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="16538-280">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)

<span data-ttu-id="16538-281">**Rubriques de référence**</span><span class="sxs-lookup"><span data-stu-id="16538-281">**Reference topics**</span></span>

* [<span data-ttu-id="16538-282">Azure AD Connect Sync : Référence aux fonctions</span><span class="sxs-lookup"><span data-stu-id="16538-282">Azure AD Connect sync: Functions Reference</span></span>](active-directory-aadconnectsync-functions-reference.md)
