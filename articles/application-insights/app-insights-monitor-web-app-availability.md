---
title: "disponibilité d’aaaMonitor et la réactivité d’un site web | Documents Microsoft"
description: "Configurez des tests web dans Application Insights. Recevez des alertes si un site web devient indisponible ou répond lentement."
services: application-insights
documentationcenter: 
author: SoubhagyaDash
manager: carmonm
ms.assetid: 46dc13b4-eb2e-4142-a21c-94a156f760ee
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: get-started-article
ms.date: 05/25/2017
ms.author: bwren
ms.openlocfilehash: 4c5425c948770cc57a648ca50e217c75ac75fbd7
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="monitor-availability-and-responsiveness-of-any-web-site"></a><span data-ttu-id="c744a-104">Analyse de la disponibilité et de la réactivité d'un site Web</span><span class="sxs-lookup"><span data-stu-id="c744a-104">Monitor availability and responsiveness of any web site</span></span>
<span data-ttu-id="c744a-105">Une fois que vous avez déployé votre application web ou un serveur de site web tooany, vous pouvez définir des tests toomonitor sa disponibilité et la réactivité.</span><span class="sxs-lookup"><span data-stu-id="c744a-105">After you've deployed your web app or web site tooany server, you can set up tests toomonitor its availability and responsiveness.</span></span> <span data-ttu-id="c744a-106">[Azure Application Insights](app-insights-overview.md) envoie des requêtes web tooyour application à intervalles réguliers à partir des points autour de Bonjour.</span><span class="sxs-lookup"><span data-stu-id="c744a-106">[Azure Application Insights](app-insights-overview.md) sends web requests tooyour application at regular intervals from points around hello world.</span></span> <span data-ttu-id="c744a-107">et vous alerte si votre application réagit lentement ou pas du tout.</span><span class="sxs-lookup"><span data-stu-id="c744a-107">It alerts you if your application doesn't respond, or responds slowly.</span></span>

<span data-ttu-id="c744a-108">Vous pouvez définir des tests de disponibilité pour n’importe quel HTTP ou point de terminaison HTTPS est accessible à partir de hello internet public.</span><span class="sxs-lookup"><span data-stu-id="c744a-108">You can set up availability tests for any HTTP or HTTPS endpoint that is accessible from hello public internet.</span></span> <span data-ttu-id="c744a-109">Vous n’avez tooadd tout site web de toohello que vous testez.</span><span class="sxs-lookup"><span data-stu-id="c744a-109">You don't have tooadd anything toohello web site you're testing.</span></span> <span data-ttu-id="c744a-110">Il n’a même pas toobe votre site : vous pouvez tester un service de l’API REST sur lequel vous en avez besoin.</span><span class="sxs-lookup"><span data-stu-id="c744a-110">It doesn't even have toobe your site: you could test a REST API service on which you depend.</span></span>

<span data-ttu-id="c744a-111">Il existe deux types de tests de disponibilité :</span><span class="sxs-lookup"><span data-stu-id="c744a-111">There are two types of availability tests:</span></span>

* <span data-ttu-id="c744a-112">[Test ping d’URL](#create): un simple test que vous pouvez créer dans hello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="c744a-112">[URL ping test](#create): a simple test that you can create in hello Azure portal.</span></span>
* <span data-ttu-id="c744a-113">[Test web de multi-step](#multi-step-web-tests): que vous créez dans Visual Studio Enterprise et téléchargement toohello portal.</span><span class="sxs-lookup"><span data-stu-id="c744a-113">[Multi-step web test](#multi-step-web-tests): which you create in Visual Studio Enterprise and upload toohello portal.</span></span>

<span data-ttu-id="c744a-114">Vous pouvez créer des tests de disponibilité too25 par la ressource d’application.</span><span class="sxs-lookup"><span data-stu-id="c744a-114">You can create up too25 availability tests per application resource.</span></span>

## <span data-ttu-id="c744a-115"><a name="create"></a>1. Ouvrir une ressource pour vos rapports de test de disponibilité</span><span class="sxs-lookup"><span data-stu-id="c744a-115"><a name="create"></a>1. Open a resource for your availability test reports</span></span>

<span data-ttu-id="c744a-116">**Si vous avez déjà configuré Application Insights** pour votre application web, ouvrez sa ressource Application Insights Bonjour [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="c744a-116">**If you have already configured Application Insights** for your web app, open its Application Insights resource in hello [Azure portal](https://portal.azure.com).</span></span>

<span data-ttu-id="c744a-117">**Ou, si vous souhaitez toosee vos rapports dans une nouvelle ressource,** inscrire trop[Microsoft Azure](http://azure.com), accédez toohello [portail Azure](https://portal.azure.com)et créez une ressource Application Insights.</span><span class="sxs-lookup"><span data-stu-id="c744a-117">**Or, if you want toosee your reports in a new resource,** sign up too[Microsoft Azure](http://azure.com), go toohello [Azure portal](https://portal.azure.com), and create an Application Insights resource.</span></span>

![New > Application Insights](./media/app-insights-monitor-web-app-availability/11-new-app.png)

<span data-ttu-id="c744a-119">Cliquez sur **toutes les ressources** Panneau de vue d’ensemble tooopen hello pour la ressource hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-119">Click **All resources** tooopen hello Overview blade for hello new resource.</span></span>

## <span data-ttu-id="c744a-120"><a name="setup"></a>2. Créer un test Ping d’URL</span><span class="sxs-lookup"><span data-stu-id="c744a-120"><a name="setup"></a>2. Create a URL ping test</span></span>
<span data-ttu-id="c744a-121">Ouvrez le panneau de disponibilité hello et ajouter un test.</span><span class="sxs-lookup"><span data-stu-id="c744a-121">Open hello Availability blade and add a test.</span></span>

![Remplissage hello au moins l’URL de votre site Web](./media/app-insights-monitor-web-app-availability/13-availability.png)

* <span data-ttu-id="c744a-123">**URL de Hello** peut être n’importe quelle page web souhaité tootest, mais il doit être visible à partir de hello internet public.</span><span class="sxs-lookup"><span data-stu-id="c744a-123">**hello URL** can be any web page you want tootest, but it must be visible from hello public internet.</span></span> <span data-ttu-id="c744a-124">URL de Hello peut inclure une chaîne de requête.</span><span class="sxs-lookup"><span data-stu-id="c744a-124">hello URL can include a query string.</span></span> <span data-ttu-id="c744a-125">Vous pouvez donc, par exemple, tester un peu votre base de données.</span><span class="sxs-lookup"><span data-stu-id="c744a-125">So, for example, you can exercise your database a little.</span></span> <span data-ttu-id="c744a-126">Si les URL hello résout tooa redirection, nous le suivre des redirections de too10.</span><span class="sxs-lookup"><span data-stu-id="c744a-126">If hello URL resolves tooa redirect, we follow it up too10 redirects.</span></span>
* <span data-ttu-id="c744a-127">**Analyser les requêtes dépendantes**: Si cette option est activée, les demandes de test de hello images, les scripts, les fichiers de style et les autres fichiers qui font partie de la page web de hello sous test.</span><span class="sxs-lookup"><span data-stu-id="c744a-127">**Parse dependent requests**: If this option is checked, hello test requests images, scripts, style files, and other files that are part of hello web page under test.</span></span> <span data-ttu-id="c744a-128">Hello enregistrées temps de réponse comprend hello durée tooget ces fichiers.</span><span class="sxs-lookup"><span data-stu-id="c744a-128">hello recorded response time includes hello time taken tooget these files.</span></span> <span data-ttu-id="c744a-129">test de Hello échoue si toutes ces ressources ne peut pas être téléchargés avec succès au sein de délai d’attente hello pour l’ensemble de l’essai hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-129">hello test fails if all these resources cannot be successfully downloaded within hello timeout for hello whole test.</span></span> 

    <span data-ttu-id="c744a-130">Si l’option de hello n’est pas activée, les tests hello demande seulement fichier hello à l’URL de hello spécifiée.</span><span class="sxs-lookup"><span data-stu-id="c744a-130">If hello option is not checked, hello test only requests hello file at hello URL you specified.</span></span>
* <span data-ttu-id="c744a-131">**Activer de nouvelles tentatives**: Si cette option est activée, en cas d’échec du test de hello, elle est relancée après un court intervalle.</span><span class="sxs-lookup"><span data-stu-id="c744a-131">**Enable retries**:  If this option is checked, when hello test fails, it is retried after a short interval.</span></span> <span data-ttu-id="c744a-132">L’échec est signalé uniquement après trois tentatives infructueuses.</span><span class="sxs-lookup"><span data-stu-id="c744a-132">A failure is reported only if three successive attempts fail.</span></span> <span data-ttu-id="c744a-133">Les tests suivants sont ensuite exécutées à la fréquence de test habituel hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-133">Subsequent tests are then performed at hello usual test frequency.</span></span> <span data-ttu-id="c744a-134">Nouvelle tentative est temporairement suspendue tant que réussite suivant de hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-134">Retry is temporarily suspended until hello next success.</span></span> <span data-ttu-id="c744a-135">Cette règle est appliquée indépendamment à chaque emplacement de test.</span><span class="sxs-lookup"><span data-stu-id="c744a-135">This rule is applied independently at each test location.</span></span> <span data-ttu-id="c744a-136">Nous recommandons cette option.</span><span class="sxs-lookup"><span data-stu-id="c744a-136">We recommend this option.</span></span> <span data-ttu-id="c744a-137">En moyenne, environ 80 % des échecs disparaissent lors de la nouvelle tentative.</span><span class="sxs-lookup"><span data-stu-id="c744a-137">On average, about 80% of failures disappear on retry.</span></span>
* <span data-ttu-id="c744a-138">**Fréquence de test**: définit la fréquence à laquelle hello test est exécuté à partir de chaque emplacement de test.</span><span class="sxs-lookup"><span data-stu-id="c744a-138">**Test frequency**: Sets how often hello test is run from each test location.</span></span> <span data-ttu-id="c744a-139">Avec une fréquence de 5 minutes et 5 emplacements de test, votre site sera testé en moyenne une fois par minute.</span><span class="sxs-lookup"><span data-stu-id="c744a-139">With a frequency of five minutes and five test locations, your site is tested on average every minute.</span></span>
* <span data-ttu-id="c744a-140">**Emplacements de test** sont hello place où nos serveurs d’envoient des URL tooyour de demandes web.</span><span class="sxs-lookup"><span data-stu-id="c744a-140">**Test locations** are hello places from where our servers send web requests tooyour URL.</span></span> <span data-ttu-id="c744a-141">Choisissez-en plusieurs de façon à distinguer les problèmes de votre site web des problèmes de réseau.</span><span class="sxs-lookup"><span data-stu-id="c744a-141">Choose more than one so that you can distinguish problems in your website from network issues.</span></span> <span data-ttu-id="c744a-142">Vous pouvez sélectionner les emplacements de too16.</span><span class="sxs-lookup"><span data-stu-id="c744a-142">You can select up too16 locations.</span></span>
* <span data-ttu-id="c744a-143">**Critères de réussite**:</span><span class="sxs-lookup"><span data-stu-id="c744a-143">**Success criteria**:</span></span>

    <span data-ttu-id="c744a-144">**Délai d’expiration de test**: diminuer cette toobe valeur averti des réponses lentes.</span><span class="sxs-lookup"><span data-stu-id="c744a-144">**Test timeout**: Decrease this value toobe alerted about slow responses.</span></span> <span data-ttu-id="c744a-145">test de Hello est comptée comme un échec si les réponses hello à partir de votre site n’ont pas été reçus pendant cette période.</span><span class="sxs-lookup"><span data-stu-id="c744a-145">hello test is counted as a failure if hello responses from your site have not been received within this period.</span></span> <span data-ttu-id="c744a-146">Si vous avez sélectionné **analyser les requêtes dépendantes**, puis toutes les hello images, fichiers de style, scripts et autres ressources dépendantes doivent avoir été reçus pendant cette période.</span><span class="sxs-lookup"><span data-stu-id="c744a-146">If you selected **Parse dependent requests**, then all hello images, style files, scripts, and other dependent resources must have been received within this period.</span></span>

    <span data-ttu-id="c744a-147">**Réponse HTTP**: hello a retourné le code d’état qui est considéré comme un succès.</span><span class="sxs-lookup"><span data-stu-id="c744a-147">**HTTP response**: hello returned status code that is counted as a success.</span></span> <span data-ttu-id="c744a-148">200 est le code hello qui indique qu’une page web normale a été retournée.</span><span class="sxs-lookup"><span data-stu-id="c744a-148">200 is hello code that indicates that a normal web page has been returned.</span></span>

    <span data-ttu-id="c744a-149">**Correspondance de contenu**: une chaîne telle que « Bienvenue !</span><span class="sxs-lookup"><span data-stu-id="c744a-149">**Content match**: a string, like "Welcome!"</span></span> <span data-ttu-id="c744a-150">Nous vérifions qu’une correspondance exacte respectant la casse est présente dans chaque réponse.</span><span class="sxs-lookup"><span data-stu-id="c744a-150">We test that an exact case-sensitive match occurs in every response.</span></span> <span data-ttu-id="c744a-151">Il doit s'agir d'une chaîne standard sans caractère générique.</span><span class="sxs-lookup"><span data-stu-id="c744a-151">It must be a plain string, without wildcards.</span></span> <span data-ttu-id="c744a-152">N’oubliez pas les modifications du contenu page avoir tooupdate que s’il.</span><span class="sxs-lookup"><span data-stu-id="c744a-152">Don't forget that if your page content changes you might have tooupdate it.</span></span>
* <span data-ttu-id="c744a-153">**Alertes** sont, par défaut, envoyés tooyou cas de défaillance dans trois emplacements plus de cinq minutes.</span><span class="sxs-lookup"><span data-stu-id="c744a-153">**Alerts** are, by default, sent tooyou if there are failures in three locations over five minutes.</span></span> <span data-ttu-id="c744a-154">Une défaillance dans un emplacement est toobe probablement un problème de réseau et pas un problème avec votre site.</span><span class="sxs-lookup"><span data-stu-id="c744a-154">A failure in one location is likely toobe a network problem, and not a problem with your site.</span></span> <span data-ttu-id="c744a-155">Mais vous pouvez modifier toobe du seuil hello plus ou moins sensibles et vous pouvez également modification qui hello des messages électroniques doit être envoyée.</span><span class="sxs-lookup"><span data-stu-id="c744a-155">But you can change hello threshold toobe more or less sensitive, and you can also change who hello emails should be sent to.</span></span>

    <span data-ttu-id="c744a-156">Vous pouvez configurer un [webhook](../monitoring-and-diagnostics/insights-webhooks-alerts.md) qui est appelé lorsqu’une alerte est déclenchée.</span><span class="sxs-lookup"><span data-stu-id="c744a-156">You can set up a [webhook](../monitoring-and-diagnostics/insights-webhooks-alerts.md) that is called when an alert is raised.</span></span> <span data-ttu-id="c744a-157">(Mais notez qu’à l’heure actuelle, les paramètres de requête ne sont pas transmis en tant que propriétés.)</span><span class="sxs-lookup"><span data-stu-id="c744a-157">(But note that, at present, query parameters are not passed through as Properties.)</span></span>

### <a name="test-more-urls"></a><span data-ttu-id="c744a-158">Test d'autres URL</span><span class="sxs-lookup"><span data-stu-id="c744a-158">Test more URLs</span></span>
<span data-ttu-id="c744a-159">Ajoutez d’autres tests.</span><span class="sxs-lookup"><span data-stu-id="c744a-159">Add more tests.</span></span> <span data-ttu-id="c744a-160">Par exemple, dans Ajout tootesting votre page d’accueil, vous pouvez vous assurer que votre base de données est en cours d’exécution en testant URL hello pour une recherche.</span><span class="sxs-lookup"><span data-stu-id="c744a-160">For example, In addition tootesting your home page, you can make sure your database is running by testing hello URL for a search.</span></span>


## <span data-ttu-id="c744a-161"><a name="monitor"></a>3. Consulter les résultats des tests de disponibilité</span><span class="sxs-lookup"><span data-stu-id="c744a-161"><a name="monitor"></a>3. See your availability test results</span></span>

<span data-ttu-id="c744a-162">Après quelques minutes, cliquez sur **Actualiser** toosee les résultats de test.</span><span class="sxs-lookup"><span data-stu-id="c744a-162">After a few minutes, click **Refresh** toosee test results.</span></span> 

![Synthèse des résultats sur le panneau d’édition familiale hello](./media/app-insights-monitor-web-app-availability/14-availSummary-3.png)

<span data-ttu-id="c744a-164">Hello scatterplot montre des résultats des tests qui ont des détails de l’étape de test de diagnostic dans les exemples de hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-164">hello scatterplot shows samples of hello test results that have diagnostic test-step detail in them.</span></span> <span data-ttu-id="c744a-165">moteur de test Hello stocke le détail de diagnostic pour les tests qui présentent des erreurs.</span><span class="sxs-lookup"><span data-stu-id="c744a-165">hello test engine stores diagnostic detail for tests that have failures.</span></span> <span data-ttu-id="c744a-166">Pour les tests réussis, informations de diagnostic sont stockées pour un sous-ensemble d’exécutions de hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-166">For successful tests, diagnostic details are stored for a subset of hello executions.</span></span> <span data-ttu-id="c744a-167">Placez le curseur sur n’importe quelle hello vert/rouge points toosee hello test timestamp, durée du test, l’emplacement et nom du test.</span><span class="sxs-lookup"><span data-stu-id="c744a-167">Hover over any of hello green/red dots toosee hello test timestamp, test duration, location, and test name.</span></span> <span data-ttu-id="c744a-168">Cliquez sur n’importe quel point dans hello ventilation tracer toosee hello les détails du résultat de test hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-168">Click through any dot in hello scatter plot toosee hello details of hello test result.</span></span>  

<span data-ttu-id="c744a-169">Sélectionnez un test particulier, l’emplacement, ou réduire le temps de hello toosee période résultats supplémentaires autour hello période d’intérêt.</span><span class="sxs-lookup"><span data-stu-id="c744a-169">Select a particular test, location, or reduce hello time period toosee more results around hello time period of interest.</span></span> <span data-ttu-id="c744a-170">Utilisez les résultats de toosee de l’Explorateur de recherche à partir de toutes les exécutions, ou des rapports personnalisés Analytique requêtes toorun sur ces données.</span><span class="sxs-lookup"><span data-stu-id="c744a-170">Use Search Explorer toosee results from all executions, or use Analytics queries toorun custom reports on this data.</span></span>

<span data-ttu-id="c744a-171">Dans les résultats bruts toohello de plus, il existe deux métriques de disponibilité dans Metrics Explorer :</span><span class="sxs-lookup"><span data-stu-id="c744a-171">In addition toohello raw results, there are two Availability metrics in Metrics Explorer:</span></span> 

1. <span data-ttu-id="c744a-172">Disponibilité : Pourcentage de tests hello qui ont réussi, sur toutes les exécutions de tests.</span><span class="sxs-lookup"><span data-stu-id="c744a-172">Availability: Percentage of hello tests that were successful, across all test executions.</span></span> 
2. <span data-ttu-id="c744a-173">Durée du test : durée moyenne du test sur toutes les exécutions de test.</span><span class="sxs-lookup"><span data-stu-id="c744a-173">Test Duration: Average test duration across all test executions.</span></span>

<span data-ttu-id="c744a-174">Vous pouvez appliquer des filtres sur le nom du test hello, les tendances de tooanalyze emplacement d’un test particulier et/ou d’emplacement.</span><span class="sxs-lookup"><span data-stu-id="c744a-174">You can apply filters on hello test name, location tooanalyze trends of a particular test and/or location.</span></span>

## <span data-ttu-id="c744a-175"><a name="edit"></a>Examiner et modifier des tests</span><span class="sxs-lookup"><span data-stu-id="c744a-175"><a name="edit"></a> Inspect and edit tests</span></span>

<span data-ttu-id="c744a-176">À partir de la page de résumé hello, sélectionnez un test spécifique.</span><span class="sxs-lookup"><span data-stu-id="c744a-176">From hello summary page, select a specific test.</span></span> <span data-ttu-id="c744a-177">Ici, vous pouvez voir ses résultats spécifiques et le modifier ou le désactiver temporairement.</span><span class="sxs-lookup"><span data-stu-id="c744a-177">There, you can see its specific results, and edit or temporarily disable it.</span></span>

![Edit or disable a web test](./media/app-insights-monitor-web-app-availability/19-availEdit-3.png)

<span data-ttu-id="c744a-179">Vous pourriez toodisable les tests de disponibilité ou de l’alerte hello règles associées lorsque vous effectuez la maintenance de votre service.</span><span class="sxs-lookup"><span data-stu-id="c744a-179">You might want toodisable availability tests or hello alert rules associated with them while you are performing maintenance on your service.</span></span> 

## <span data-ttu-id="c744a-180"><a name="failures"></a>Si vous constatez des erreurs</span><span class="sxs-lookup"><span data-stu-id="c744a-180"><a name="failures"></a>If you see failures</span></span>
<span data-ttu-id="c744a-181">Cliquez sur un point rouge.</span><span class="sxs-lookup"><span data-stu-id="c744a-181">Click a red dot.</span></span>

![Click a red dot](./media/app-insights-monitor-web-app-availability/open-instance-3.png)


<span data-ttu-id="c744a-183">À partir d’un résultat de test de disponibilité, vous pouvez :</span><span class="sxs-lookup"><span data-stu-id="c744a-183">From an availability test result, you can:</span></span>

* <span data-ttu-id="c744a-184">Vérifiez que hello réponse de votre serveur.</span><span class="sxs-lookup"><span data-stu-id="c744a-184">Inspect hello response received from your server.</span></span>
* <span data-ttu-id="c744a-185">Ouvrez la télémétrie hello envoyée par votre application serveur lors du traitement d’instance des demandes ayant échoué hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-185">Open hello telemetry sent by your server app while processing hello failed request instance.</span></span>
* <span data-ttu-id="c744a-186">Se connecter à un problème ou d’élément de travail de problème de hello tootrack Git ou VSTS.</span><span class="sxs-lookup"><span data-stu-id="c744a-186">Log an issue or work item in Git or VSTS tootrack hello problem.</span></span> <span data-ttu-id="c744a-187">bogue de Hello contiendra un événement toothis de liaison.</span><span class="sxs-lookup"><span data-stu-id="c744a-187">hello bug will contain a link toothis event.</span></span>
* <span data-ttu-id="c744a-188">Ouvrez le résultat du test web hello dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c744a-188">Open hello web test result in Visual Studio.</span></span>


<span data-ttu-id="c744a-189">*Le résultat semble correct, mais une erreur est signalée ?*</span><span class="sxs-lookup"><span data-stu-id="c744a-189">*Looks OK but reported as a failure?*</span></span> <span data-ttu-id="c744a-190">Vérifiez toutes les images de hello, scripts, feuilles de style et tous les autres fichiers chargés par page de hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-190">Check all hello images, scripts, style sheets, and any other files loaded by hello page.</span></span> <span data-ttu-id="c744a-191">Si un d'entre eux échoue, les tests hello sont signalée comme ayant échoué, même si la page html principal de hello charge OK.</span><span class="sxs-lookup"><span data-stu-id="c744a-191">If any of them fails, hello test is reported as failed, even if hello main html page loads OK.</span></span>

<span data-ttu-id="c744a-192">*Aucun élément connexe ?*</span><span class="sxs-lookup"><span data-stu-id="c744a-192">*No related items?*</span></span> <span data-ttu-id="c744a-193">Si Application Insights est défini pour votre application côté serveur, cela peut être en raison d’un [échantillonnage](app-insights-sampling.md) en cours.</span><span class="sxs-lookup"><span data-stu-id="c744a-193">If you have Application Insights set up for your server-side application, that may be because [sampling](app-insights-sampling.md) is in operation.</span></span> 

## <a name="multi-step-web-tests"></a><span data-ttu-id="c744a-194">Tests web à plusieurs étapes</span><span class="sxs-lookup"><span data-stu-id="c744a-194">Multi-step web tests</span></span>
<span data-ttu-id="c744a-195">Vous pouvez analyser un scénario qui implique une séquence d'URL.</span><span class="sxs-lookup"><span data-stu-id="c744a-195">You can monitor a scenario that involves a sequence of URLs.</span></span> <span data-ttu-id="c744a-196">Par exemple, si vous analysez un site Web de ventes, vous pouvez tester que l’ajout d’éléments toohello panier d’achat fonctionne correctement.</span><span class="sxs-lookup"><span data-stu-id="c744a-196">For example, if you are monitoring a sales website, you can test that adding items toohello shopping cart works correctly.</span></span>

> [!NOTE] 
> <span data-ttu-id="c744a-197">Les tests web à plusieurs étapes ont un coût.</span><span class="sxs-lookup"><span data-stu-id="c744a-197">There is a charge for multi-step web tests.</span></span> <span data-ttu-id="c744a-198">[Mécanisme de tarification](http://azure.microsoft.com/pricing/details/application-insights/).</span><span class="sxs-lookup"><span data-stu-id="c744a-198">[Pricing scheme](http://azure.microsoft.com/pricing/details/application-insights/).</span></span>
> 

<span data-ttu-id="c744a-199">toocreate un test de plusieurs étape, vous enregistrez le scénario de hello à l’aide de Visual Studio Enterprise et téléchargez hello enregistrement tooApplication Insights.</span><span class="sxs-lookup"><span data-stu-id="c744a-199">toocreate a multi-step test, you record hello scenario by using Visual Studio Enterprise, and then upload hello recording tooApplication Insights.</span></span> <span data-ttu-id="c744a-200">Application Insights relit le scénario de hello à intervalles et vérifie les réponses hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-200">Application Insights replays hello scenario at intervals and verifies hello responses.</span></span>

> [!NOTE]
> <span data-ttu-id="c744a-201">Vous ne pouvez pas utiliser de fonctions codées ni de boucles dans vos tests.</span><span class="sxs-lookup"><span data-stu-id="c744a-201">You can't use coded functions or loops in your tests.</span></span> <span data-ttu-id="c744a-202">test de Hello doit être entièrement contenue dans le script de .webtest hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-202">hello test must be contained completely in hello .webtest script.</span></span> <span data-ttu-id="c744a-203">Toutefois, vous pouvez utiliser des plug-ins standard.</span><span class="sxs-lookup"><span data-stu-id="c744a-203">However, you can use standard plugins.</span></span>
>

#### <a name="1-record-a-scenario"></a><span data-ttu-id="c744a-204">1. Enregistrement d’un scénario</span><span class="sxs-lookup"><span data-stu-id="c744a-204">1. Record a scenario</span></span>
<span data-ttu-id="c744a-205">Utilisez Visual Studio Enterprise toorecord une session web.</span><span class="sxs-lookup"><span data-stu-id="c744a-205">Use Visual Studio Enterprise toorecord a web session.</span></span>

1. <span data-ttu-id="c744a-206">Créez un projet de test de performance web.</span><span class="sxs-lookup"><span data-stu-id="c744a-206">Create a Web performance test project.</span></span>

    ![Dans Visual Studio Enterprise edition, créez un projet de modèle de performances de site Web et de Test de charge hello.](./media/app-insights-monitor-web-app-availability/appinsights-71webtest-multi-vs-create.png)

 * <span data-ttu-id="c744a-208">*Ne pas voir hello de performances de site Web et le modèle de Test de charge ?*</span><span class="sxs-lookup"><span data-stu-id="c744a-208">*Don't see hello Web Performance and Load Test template?*</span></span> <span data-ttu-id="c744a-209">- Fermez Visual Studio Enterprise.</span><span class="sxs-lookup"><span data-stu-id="c744a-209">- Close Visual Studio Enterprise.</span></span> <span data-ttu-id="c744a-210">Ouvrez **le programme d’installation de Visual Studio** toomodify votre installation de Visual Studio Enterprise.</span><span class="sxs-lookup"><span data-stu-id="c744a-210">Open **Visual Studio Installer** toomodify your Visual Studio Enterprise installation.</span></span> <span data-ttu-id="c744a-211">Sous **Composants individuels**, sélectionnez **Web Performance and load testing tools** (Outils de test de performance Web et de charge).</span><span class="sxs-lookup"><span data-stu-id="c744a-211">Under **Individual Components**, select **Web Performance and load testing tools**.</span></span>

2. <span data-ttu-id="c744a-212">Ouvrez le fichier de .webtest hello et commencer l’enregistrement.</span><span class="sxs-lookup"><span data-stu-id="c744a-212">Open hello .webtest file and start recording.</span></span>

    ![Ouvrir le fichier de .webtest hello et cliquez sur Enregistrer.](./media/app-insights-monitor-web-app-availability/appinsights-71webtest-multi-vs-start.png)
3. <span data-ttu-id="c744a-214">Hello des actions de l’utilisateur vous souhaitez toosimulate dans votre test : ouvrir votre site Web, ajoutez un panier toohello de produit et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="c744a-214">Do hello user actions you want toosimulate in your test: open your website, add a product toohello cart, and so on.</span></span> <span data-ttu-id="c744a-215">Ensuite, arrêtez le test.</span><span class="sxs-lookup"><span data-stu-id="c744a-215">Then stop your test.</span></span>

    ![exécutions de l’enregistreur de test de web de Hello dans Internet Explorer.](./media/app-insights-monitor-web-app-availability/appinsights-71webtest-multi-vs-record.png)

    <span data-ttu-id="c744a-217">Ne créez pas de scénario long.</span><span class="sxs-lookup"><span data-stu-id="c744a-217">Don't make a long scenario.</span></span> <span data-ttu-id="c744a-218">La limite est de 100 étapes et 2 minutes.</span><span class="sxs-lookup"><span data-stu-id="c744a-218">There's a limit of 100 steps and 2 minutes.</span></span>
4. <span data-ttu-id="c744a-219">Modifiez hello du test :</span><span class="sxs-lookup"><span data-stu-id="c744a-219">Edit hello test to:</span></span>

   * <span data-ttu-id="c744a-220">Ajoutez des validations toocheck hello reçu texte et réponse codes.</span><span class="sxs-lookup"><span data-stu-id="c744a-220">Add validations toocheck hello received text and response codes.</span></span>
   * <span data-ttu-id="c744a-221">supprimer les interactions superflues.</span><span class="sxs-lookup"><span data-stu-id="c744a-221">Remove any superfluous interactions.</span></span> <span data-ttu-id="c744a-222">Vous pouvez également supprimer les demandes dépendantes pour les images ou tooad ou le suivi des sites.</span><span class="sxs-lookup"><span data-stu-id="c744a-222">You could also remove dependent requests for pictures or tooad or tracking sites.</span></span>

     <span data-ttu-id="c744a-223">Souvenez-vous que vous ne pouvez modifier un script de test hello - vous ne pouvez pas ajouter du code personnalisé ou appeler d’autres tests web.</span><span class="sxs-lookup"><span data-stu-id="c744a-223">Remember that you can only edit hello test script - you can't add custom code or call other web tests.</span></span> <span data-ttu-id="c744a-224">Ne pas insérer des boucles dans un test de hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-224">Don't insert loops in hello test.</span></span> <span data-ttu-id="c744a-225">Vous pouvez utiliser des plug-ins de test web standard.</span><span class="sxs-lookup"><span data-stu-id="c744a-225">You can use standard web test plug-ins.</span></span>
5. <span data-ttu-id="c744a-226">Exécuter les tests hello dans toomake Visual Studio qu’elle fonctionne.</span><span class="sxs-lookup"><span data-stu-id="c744a-226">Run hello test in Visual Studio toomake sure it works.</span></span>

    <span data-ttu-id="c744a-227">Hello outil web test runner s’ouvre un navigateur web et se répète hello actions enregistrées.</span><span class="sxs-lookup"><span data-stu-id="c744a-227">hello web test runner opens a web browser and repeats hello actions you recorded.</span></span> <span data-ttu-id="c744a-228">Assurez-vous qu’il fonctionne comme prévu.</span><span class="sxs-lookup"><span data-stu-id="c744a-228">Make sure it works as you expect.</span></span>

    ![Dans Visual Studio, ouvrez le fichier de .webtest hello et cliquez sur Exécuter.](./media/app-insights-monitor-web-app-availability/appinsights-71webtest-multi-vs-run.png)

#### <a name="2-upload-hello-web-test-tooapplication-insights"></a><span data-ttu-id="c744a-230">2. Télécharger hello web test tooApplication Insights</span><span class="sxs-lookup"><span data-stu-id="c744a-230">2. Upload hello web test tooApplication Insights</span></span>
1. <span data-ttu-id="c744a-231">Dans le portail Application Insights hello, créez un test web.</span><span class="sxs-lookup"><span data-stu-id="c744a-231">In hello Application Insights portal, create a web test.</span></span>

    ![Dans Panneau de tests web hello, cliquez sur Ajouter.](./media/app-insights-monitor-web-app-availability/16-another-test.png)
2. <span data-ttu-id="c744a-233">Sélectionnez le test de plusieurs étape et téléchargez le fichier .webtest de hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-233">Select multi-step test, and upload hello .webtest file.</span></span>

    ![Sélectionnez test web multi-étapes.](./media/app-insights-monitor-web-app-availability/appinsights-71webtestUpload.png)

    <span data-ttu-id="c744a-235">Emplacements de test hello ensemble, la fréquence et paramètres d’alerte Bonjour même façon que pour ping teste.</span><span class="sxs-lookup"><span data-stu-id="c744a-235">Set hello test locations, frequency, and alert parameters in hello same way as for ping tests.</span></span>

#### <a name="3-see-hello-results"></a><span data-ttu-id="c744a-236">3. Consultez les résultats de hello</span><span class="sxs-lookup"><span data-stu-id="c744a-236">3. See hello results</span></span>

<span data-ttu-id="c744a-237">Afficher votre test de résultats et les erreurs dans hello les mêmes tests de façon que par url unique.</span><span class="sxs-lookup"><span data-stu-id="c744a-237">View your test results and any failures in hello same way as single-url tests.</span></span>

<span data-ttu-id="c744a-238">En outre, vous pouvez télécharger tooview de résultats de test hello dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c744a-238">In addition, you can download hello test results tooview them in Visual Studio.</span></span>

#### <a name="too-many-failures"></a><span data-ttu-id="c744a-239">Trop d’échecs ?</span><span class="sxs-lookup"><span data-stu-id="c744a-239">Too many failures?</span></span>

* <span data-ttu-id="c744a-240">Une raison courante de l’échec est que le test hello dure trop longtemps.</span><span class="sxs-lookup"><span data-stu-id="c744a-240">A common reason for failure is that hello test runs too long.</span></span> <span data-ttu-id="c744a-241">Le test ne doit pas durer plus de deux minutes.</span><span class="sxs-lookup"><span data-stu-id="c744a-241">It mustn't run longer than two minutes.</span></span>

* <span data-ttu-id="c744a-242">N’oubliez pas que toutes les ressources hello d’une page doivent charger correctement pour hello test toosucceed, y compris les scripts, des feuilles de style, des images et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="c744a-242">Don't forget that all hello resources of a page must load correctly for hello test toosucceed, including scripts, style sheets, images, and so forth.</span></span>

* <span data-ttu-id="c744a-243">Hello test web doit être entièrement contenu dans le script de .webtest hello : vous ne pouvez pas utiliser fonctions codées dans le test de hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-243">hello web test must be entirely contained in hello .webtest script: you can't use coded functions in hello test.</span></span>

### <a name="plugging-time-and-random-numbers-into-your-multi-step-test"></a><span data-ttu-id="c744a-244">Ajout de plug-ins de temps et de nombres aléatoires à votre test à plusieurs étapes</span><span class="sxs-lookup"><span data-stu-id="c744a-244">Plugging time and random numbers into your multi-step test</span></span>
<span data-ttu-id="c744a-245">Supposons que vous testiez un outil qui obtient des données temporelles, telles que des actions à partir d’un flux externe.</span><span class="sxs-lookup"><span data-stu-id="c744a-245">Suppose you're testing a tool that gets time-dependent data such as stocks from an external feed.</span></span> <span data-ttu-id="c744a-246">Lorsque vous enregistrez votre test web, vous avez toouse des heures spécifiques, mais les définir comme paramètres de hello de test, StartTime et EndTime.</span><span class="sxs-lookup"><span data-stu-id="c744a-246">When you record your web test, you have toouse specific times, but you set them as parameters of hello test, StartTime and EndTime.</span></span>

![Un test web avec des paramètres.](./media/app-insights-monitor-web-app-availability/appinsights-72webtest-parameters.png)

<span data-ttu-id="c744a-248">Lorsque vous exécutez hello test, vous aimeriez EndTime toobe hello présentent toujours une heure, et StartTime doit être de 15 minutes plus tôt.</span><span class="sxs-lookup"><span data-stu-id="c744a-248">When you run hello test, you'd like EndTime always toobe hello present time, and StartTime should be 15 minutes ago.</span></span>

<span data-ttu-id="c744a-249">Plug-ins de Test Web permettent hello toodo paramétrer fois.</span><span class="sxs-lookup"><span data-stu-id="c744a-249">Web Test Plug-ins provide hello way toodo parameterize times.</span></span>

1. <span data-ttu-id="c744a-250">Ajoutez un plug-in de test web pour chaque valeur de paramètre variable souhaitée.</span><span class="sxs-lookup"><span data-stu-id="c744a-250">Add a web test plug-in for each variable parameter value you want.</span></span> <span data-ttu-id="c744a-251">Dans la barre d’outils de test hello web, choisissez **ajouter un plug-in de Test Web**.</span><span class="sxs-lookup"><span data-stu-id="c744a-251">In hello web test toolbar, choose **Add Web Test Plugin**.</span></span>

    ![Choisissez Ajouter un plug-in de test web et sélectionnez un type.](./media/app-insights-monitor-web-app-availability/appinsights-72webtest-plugins.png)

    <span data-ttu-id="c744a-253">Dans cet exemple, nous utilisons deux instances de hello Date heure un plug-in.</span><span class="sxs-lookup"><span data-stu-id="c744a-253">In this example, we use two instances of hello Date Time Plug-in.</span></span> <span data-ttu-id="c744a-254">Une instance est pour « il y a 15 minutes » et l’autre pour « maintenant ».</span><span class="sxs-lookup"><span data-stu-id="c744a-254">One instance is for "15 minutes ago" and another for "now."</span></span>
2. <span data-ttu-id="c744a-255">Ouvrez les propriétés de hello de chaque plug-in.</span><span class="sxs-lookup"><span data-stu-id="c744a-255">Open hello properties of each plug-in.</span></span> <span data-ttu-id="c744a-256">Donnez-lui un nom et la définir toouse hello heure actuelle.</span><span class="sxs-lookup"><span data-stu-id="c744a-256">Give it a name and set it toouse hello current time.</span></span> <span data-ttu-id="c744a-257">Pour l'un d'eux, définissez Ajouter des minutes = -15.</span><span class="sxs-lookup"><span data-stu-id="c744a-257">For one of them, set Add Minutes = -15.</span></span>

    ![Définissez le nom, utilisez l’heure actuelle et ajouter des minutes.](./media/app-insights-monitor-web-app-availability/appinsights-72webtest-plugin-parameters.png)
3. <span data-ttu-id="c744a-259">Dans les paramètres de test web hello, utilisez {{nom du plug-in}} tooreference un nom de plug-in.</span><span class="sxs-lookup"><span data-stu-id="c744a-259">In hello web test parameters, use {{plug-in name}} tooreference a plug-in name.</span></span>

    ![Dans le paramètre de test hello, utilisez {{nom du plug-in}}.](./media/app-insights-monitor-web-app-availability/appinsights-72webtest-plugin-name.png)

<span data-ttu-id="c744a-261">À présent, téléchargez votre portail toohello de test.</span><span class="sxs-lookup"><span data-stu-id="c744a-261">Now, upload your test toohello portal.</span></span> <span data-ttu-id="c744a-262">Il utilise les valeurs dynamiques hello sur chaque exécution du test de hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-262">It uses hello dynamic values on every run of hello test.</span></span>

## <a name="dealing-with-sign-in"></a><span data-ttu-id="c744a-263">Gestion de la connexion</span><span class="sxs-lookup"><span data-stu-id="c744a-263">Dealing with sign-in</span></span>
<span data-ttu-id="c744a-264">Si vos utilisateurs se connectent tooyour application, vous disposez de différentes options pour la simulation de connexion afin que vous puissiez tester pages derrière hello connectez-vous.</span><span class="sxs-lookup"><span data-stu-id="c744a-264">If your users sign in tooyour app, you have various options for simulating sign-in so that you can test pages behind hello sign-in.</span></span> <span data-ttu-id="c744a-265">approche Hello que vous utilisez dépend du type hello de sécurité fournie par l’application hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-265">hello approach you use depends on hello type of security provided by hello app.</span></span>

<span data-ttu-id="c744a-266">Dans tous les cas, vous devez créer un compte dans votre application uniquement pour but de hello du test.</span><span class="sxs-lookup"><span data-stu-id="c744a-266">In all cases, you should create an account in your application just for hello purpose of testing.</span></span> <span data-ttu-id="c744a-267">Si possible, limitez les autorisations de hello de ce compte de test afin qu’il n’existe aucune possibilité d’affecter des utilisateurs réels des tests web hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-267">If possible, restrict hello permissions of this test account so that there's no possibility of hello web tests affecting real users.</span></span>

### <a name="simple-username-and-password"></a><span data-ttu-id="c744a-268">Nom d’utilisateur et mot de passe simples</span><span class="sxs-lookup"><span data-stu-id="c744a-268">Simple username and password</span></span>
<span data-ttu-id="c744a-269">Enregistrez un test web Bonjour normalement.</span><span class="sxs-lookup"><span data-stu-id="c744a-269">Record a web test in hello usual way.</span></span> <span data-ttu-id="c744a-270">Supprimez d’abord les cookies</span><span class="sxs-lookup"><span data-stu-id="c744a-270">Delete cookies first.</span></span>

### <a name="saml-authentication"></a><span data-ttu-id="c744a-271">Authentication SAML</span><span class="sxs-lookup"><span data-stu-id="c744a-271">SAML authentication</span></span>
<span data-ttu-id="c744a-272">Utilisez le plug-in SAML hello n’est disponible pour les tests web.</span><span class="sxs-lookup"><span data-stu-id="c744a-272">Use hello SAML plugin that is available for web tests.</span></span>

### <a name="client-secret"></a><span data-ttu-id="c744a-273">Clé secrète client</span><span class="sxs-lookup"><span data-stu-id="c744a-273">Client secret</span></span>
<span data-ttu-id="c744a-274">Si votre application présente un mode de connexion impliquant une clé secrète client, utilisez ce mode.</span><span class="sxs-lookup"><span data-stu-id="c744a-274">If your app has a sign-in route that involves a client secret, use that route.</span></span> <span data-ttu-id="c744a-275">Azure Active Directory (AAD) est un exemple de service fournissant une connexion avec clé secrète client.</span><span class="sxs-lookup"><span data-stu-id="c744a-275">Azure Active Directory (AAD) is an example of a service that provides a client secret sign-in.</span></span> <span data-ttu-id="c744a-276">Dans AAD, question secrète du client hello est hello clé de l’application.</span><span class="sxs-lookup"><span data-stu-id="c744a-276">In AAD, hello client secret is hello App Key.</span></span>

<span data-ttu-id="c744a-277">Voici un exemple de test web d’une application web Azure à l’aide d’une clé d’application :</span><span class="sxs-lookup"><span data-stu-id="c744a-277">Here's a sample web test of an Azure web app using an app key:</span></span>

![Exemple de clé secrète client](./media/app-insights-monitor-web-app-availability/110.png)

1. <span data-ttu-id="c744a-279">Récupérez le jeton d’ADD à l’aide de la clé secrète client (clé d’application).</span><span class="sxs-lookup"><span data-stu-id="c744a-279">Get token from AAD using client secret (AppKey).</span></span>
2. <span data-ttu-id="c744a-280">Extrayez le jeton porteur de la réponse.</span><span class="sxs-lookup"><span data-stu-id="c744a-280">Extract bearer token from response.</span></span>
3. <span data-ttu-id="c744a-281">Appeler des API à l’aide du jeton de support dans l’en-tête d’autorisation hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-281">Call API using bearer token in hello authorization header.</span></span>

<span data-ttu-id="c744a-282">Assurez-vous que test de hello web est un cas client réel, autrement dit, elle possède sa propre application dans AAD - et utiliser ses clientId + l’appkey.</span><span class="sxs-lookup"><span data-stu-id="c744a-282">Make sure that hello web test is an actual client - that is, it has its own app in AAD - and use its clientId + appkey.</span></span> <span data-ttu-id="c744a-283">Votre service de test a également sa propre application dans AAD : hello appID URI de cette application est répercutée dans hello de tests web dans le champ « ressource » de hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-283">Your service under test also has its own app in AAD: hello appID URI of this app is reflected in hello web test in hello “resource” field.</span></span>

### <a name="open-authentication"></a><span data-ttu-id="c744a-284">Authentification ouverte</span><span class="sxs-lookup"><span data-stu-id="c744a-284">Open Authentication</span></span>
<span data-ttu-id="c744a-285">Comme exemple d’authentification ouverte, citons la connexion avec votre compte Microsoft ou Google.</span><span class="sxs-lookup"><span data-stu-id="c744a-285">An example of open authentication is signing in with your Microsoft or Google account.</span></span> <span data-ttu-id="c744a-286">Nombre d’applications qu’utilisez OAuth fournit hello alternative secrète du client, votre première stratégie doit donc être tooinvestigate cette possibilité.</span><span class="sxs-lookup"><span data-stu-id="c744a-286">Many apps that use OAuth provide hello client secret alternative, so your first tactic should be tooinvestigate that possibility.</span></span>

<span data-ttu-id="c744a-287">Si votre test doit se connecter à l’aide d’OAuth, l’approche générale de hello est :</span><span class="sxs-lookup"><span data-stu-id="c744a-287">If your test must sign in using OAuth, hello general approach is:</span></span>

* <span data-ttu-id="c744a-288">Utilisez un outil comme Fiddler tooexamine hello le trafic entre votre navigateur web, site d’authentification hello et votre application.</span><span class="sxs-lookup"><span data-stu-id="c744a-288">Use a tool such as Fiddler tooexamine hello traffic between your web browser, hello authentication site, and your app.</span></span>
* <span data-ttu-id="c744a-289">Effectuer deux ou plusieurs connexions à l’aide de différents ordinateurs ou les navigateurs, ou à des intervalles de temps (tooexpire de jetons tooallow).</span><span class="sxs-lookup"><span data-stu-id="c744a-289">Perform two or more sign-ins using different machines or browsers, or at long intervals (tooallow tokens tooexpire).</span></span>
* <span data-ttu-id="c744a-290">En comparant les différentes sessions, identifier le jeton hello retransmis hello l’authentification de site, qui est ensuite transmis de serveur d’applications tooyour après la connexion.</span><span class="sxs-lookup"><span data-stu-id="c744a-290">By comparing different sessions, identify hello token passed back from hello authenticating site, that is then passed tooyour app server after sign-in.</span></span>
* <span data-ttu-id="c744a-291">Enregistrez un test web à l’aide de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c744a-291">Record a web test using Visual Studio.</span></span>
* <span data-ttu-id="c744a-292">Paramétrer les jetons de hello, paramètre hello lorsque le jeton de hello est retourné à partir de l’authentificateur de hello et son utilisation dans le site de toohello requête hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-292">Parameterize hello tokens, setting hello parameter when hello token is returned from hello authenticator, and using it in hello query toohello site.</span></span>
  <span data-ttu-id="c744a-293">(Visual Studio tente de test de hello tooparameterize, mais ne paramétrez pas correctement les jetons hello).</span><span class="sxs-lookup"><span data-stu-id="c744a-293">(Visual Studio attempts tooparameterize hello test, but does not correctly parameterize hello tokens.)</span></span>


## <a name="performance-tests"></a><span data-ttu-id="c744a-294">Tests de performance</span><span class="sxs-lookup"><span data-stu-id="c744a-294">Performance tests</span></span>
<span data-ttu-id="c744a-295">Vous pouvez effectuer un test de charge sur votre site web.</span><span class="sxs-lookup"><span data-stu-id="c744a-295">You can run a load test on your website.</span></span> <span data-ttu-id="c744a-296">Comme test de disponibilité hello, vous pouvez envoyer des demandes simples ou demandes de plusieurs étapes à partir de notre points monde hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-296">Like hello availability test, you can send either simple requests or multi-step requests from our points around hello world.</span></span> <span data-ttu-id="c744a-297">Contrairement à un test de disponibilité, de nombreuses demandes sont envoyées, afin de simuler la présence de plusieurs utilisateurs simultanés.</span><span class="sxs-lookup"><span data-stu-id="c744a-297">Unlike an availability test, many requests are sent, simulating multiple simultaneous users.</span></span>

<span data-ttu-id="c744a-298">À partir du Panneau de vue d’ensemble de hello, ouvrez **paramètres**, **des Tests de performances**.</span><span class="sxs-lookup"><span data-stu-id="c744a-298">From hello Overview blade, open **Settings**, **Performance Tests**.</span></span> <span data-ttu-id="c744a-299">Lorsque vous créez un test, vous êtes invité tooconnect tooor créer un compte Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="c744a-299">When you create a test, you are invited tooconnect tooor create a Visual Studio Team Services account.</span></span>

<span data-ttu-id="c744a-300">Lorsque le test de hello est terminée, les temps de réponse et le taux de réussite sont affichés.</span><span class="sxs-lookup"><span data-stu-id="c744a-300">When hello test is complete, you are shown response times and success rates.</span></span>


![Test de performance](./media/app-insights-monitor-web-app-availability/perf-test.png)

> [!TIP]
> <span data-ttu-id="c744a-302">effets de hello tooobserve de test de performances, utilisez [flux Live](app-insights-live-stream.md) et [Profiler](app-insights-profiler.md).</span><span class="sxs-lookup"><span data-stu-id="c744a-302">tooobserve hello effects of a performance test, use [Live Stream](app-insights-live-stream.md) and [Profiler](app-insights-profiler.md).</span></span>
>

## <a name="automation"></a><span data-ttu-id="c744a-303">Automatisation</span><span class="sxs-lookup"><span data-stu-id="c744a-303">Automation</span></span>
* <span data-ttu-id="c744a-304">[Utilisez tooset de scripts PowerShell d’un test de disponibilité](app-insights-powershell.md#add-an-availability-test) automatiquement.</span><span class="sxs-lookup"><span data-stu-id="c744a-304">[Use PowerShell scripts tooset up an availability test](app-insights-powershell.md#add-an-availability-test) automatically.</span></span>
* <span data-ttu-id="c744a-305">Configurez un [webhook](../monitoring-and-diagnostics/insights-webhooks-alerts.md) qui est appelé lorsqu’une alerte est déclenchée.</span><span class="sxs-lookup"><span data-stu-id="c744a-305">Set up a [webhook](../monitoring-and-diagnostics/insights-webhooks-alerts.md) that is called when an alert is raised.</span></span>

## <span data-ttu-id="c744a-306"><a name="qna"></a>Des questions ?</span><span class="sxs-lookup"><span data-stu-id="c744a-306"><a name="qna"></a>Questions?</span></span> <span data-ttu-id="c744a-307">Des problèmes ?</span><span class="sxs-lookup"><span data-stu-id="c744a-307">Problems?</span></span>
* <span data-ttu-id="c744a-308">*Puis-je appeler du code à partir de mon test web ?*</span><span class="sxs-lookup"><span data-stu-id="c744a-308">*Can I call code from my web test?*</span></span>

    <span data-ttu-id="c744a-309">Non.</span><span class="sxs-lookup"><span data-stu-id="c744a-309">No.</span></span> <span data-ttu-id="c744a-310">les étapes de Hello du test de hello doivent être dans le fichier de .webtest hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-310">hello steps of hello test must be in hello .webtest file.</span></span> <span data-ttu-id="c744a-311">Et vous ne pouvez pas appeler d’autres tests web ou utiliser des boucles.</span><span class="sxs-lookup"><span data-stu-id="c744a-311">And you can't call other web tests or use loops.</span></span> <span data-ttu-id="c744a-312">En revanche, il existe un certain nombre de plug-ins qui peuvent s’avérer utiles.</span><span class="sxs-lookup"><span data-stu-id="c744a-312">But there are several plug-ins that you might find helpful.</span></span>
* <span data-ttu-id="c744a-313">*Le protocole HTTPS est-il pris en charge ?*</span><span class="sxs-lookup"><span data-stu-id="c744a-313">*Is HTTPS supported?*</span></span>

    <span data-ttu-id="c744a-314">Nous prenons en charge TLS 1.1 et TLS 1.2.</span><span class="sxs-lookup"><span data-stu-id="c744a-314">We support TLS 1.1 and TLS 1.2.</span></span>
* <span data-ttu-id="c744a-315">*Quelle est la différence entre les « tests Web » et les « tests de disponibilité » ?*</span><span class="sxs-lookup"><span data-stu-id="c744a-315">*Is there a difference between "web tests" and "availability tests"?*</span></span>

    <span data-ttu-id="c744a-316">Hello deux termes peut-être être référencée indifféremment.</span><span class="sxs-lookup"><span data-stu-id="c744a-316">hello two terms may be referenced interchangeably.</span></span> <span data-ttu-id="c744a-317">Tests de disponibilité est un terme plus générique ping d’URL unique hello teste également toohello des tests web de plusieurs étapes.</span><span class="sxs-lookup"><span data-stu-id="c744a-317">Availability tests is a more generic term that includes hello single URL ping tests in addition toohello multi-step web tests.</span></span>
* <span data-ttu-id="c744a-318">*Je souhaite que les tests de disponibilité toouse sur notre serveur interne qui s’exécute derrière un pare-feu.*</span><span class="sxs-lookup"><span data-stu-id="c744a-318">*I'd like toouse availability tests on our internal server that runs behind a firewall.*</span></span>

    <span data-ttu-id="c744a-319">Il existe deux solutions possibles :</span><span class="sxs-lookup"><span data-stu-id="c744a-319">There are two possible solutions:</span></span>
    
    * <span data-ttu-id="c744a-320">Configurer votre pare-feu toopermit les demandes entrantes à partir de hello [de notre site web, les adresses IP des agents de test](app-insights-ip-addresses.md).</span><span class="sxs-lookup"><span data-stu-id="c744a-320">Configure your firewall toopermit incoming requests from hello [IP addresses of our web test agents](app-insights-ip-addresses.md).</span></span>
    * <span data-ttu-id="c744a-321">Écrire votre propre code tooperiodically le test de votre serveur interne.</span><span class="sxs-lookup"><span data-stu-id="c744a-321">Write your own code tooperiodically test your internal server.</span></span> <span data-ttu-id="c744a-322">Exécuter du code hello dans un processus en arrière-plan sur un serveur de test derrière votre pare-feu.</span><span class="sxs-lookup"><span data-stu-id="c744a-322">Run hello code as a background process on a test server behind your firewall.</span></span> <span data-ttu-id="c744a-323">Le processus de test peut envoyer ses résultats tooApplication Insights à l’aide de [TrackAvailability()](https://docs.microsoft.com/dotnet/api/microsoft.applicationinsights.telemetryclient.trackavailability) API dans le package SDK de noyaux hello.</span><span class="sxs-lookup"><span data-stu-id="c744a-323">Your test process can send its results tooApplication Insights by using [TrackAvailability()](https://docs.microsoft.com/dotnet/api/microsoft.applicationinsights.telemetryclient.trackavailability) API in hello core SDK package.</span></span> <span data-ttu-id="c744a-324">Cela nécessite votre test server toohave sortant accès toohello Application Insights ingestion point de terminaison, mais qui constitue un risque de sécurité beaucoup plus petit qu’alternative hello d’autoriser les demandes entrantes.</span><span class="sxs-lookup"><span data-stu-id="c744a-324">This requires your test server toohave outgoing access toohello Application Insights ingestion endpoint, but that is a much smaller security risk than hello alternative of permitting incoming requests.</span></span> <span data-ttu-id="c744a-325">résultats de Hello n’apparaissent pas dans les panneaux de tests web hello disponibilité, mais il apparaît sous la forme des résultats de disponibilité dans Analytique, la recherche et mesure de l’Explorateur.</span><span class="sxs-lookup"><span data-stu-id="c744a-325">hello results will not appear in hello availability web tests blades, but appears as availability results in Analytics, Search, and Metric Explorer.</span></span>
* <span data-ttu-id="c744a-326">*Le chargement d’un test web multi-étapes échoue*</span><span class="sxs-lookup"><span data-stu-id="c744a-326">*Uploading a multi-step web test fails*</span></span>

    <span data-ttu-id="c744a-327">La limite de taille est de 300 Ko.</span><span class="sxs-lookup"><span data-stu-id="c744a-327">There's a size limit of 300 K.</span></span>

    <span data-ttu-id="c744a-328">Les boucles ne sont pas prises en charge.</span><span class="sxs-lookup"><span data-stu-id="c744a-328">Loops aren't supported.</span></span>

    <span data-ttu-id="c744a-329">Les tests web tooother références ne sont pas pris en charge.</span><span class="sxs-lookup"><span data-stu-id="c744a-329">References tooother web tests aren't supported.</span></span>

    <span data-ttu-id="c744a-330">Les sources de données ne sont pas prises en charge.</span><span class="sxs-lookup"><span data-stu-id="c744a-330">Data sources aren't supported.</span></span>
* <span data-ttu-id="c744a-331">*Mon test à plusieurs étapes ne se termine pas.*</span><span class="sxs-lookup"><span data-stu-id="c744a-331">*My multi-step test doesn't complete*</span></span>

    <span data-ttu-id="c744a-332">Chaque test possède une limite de 100 demandes.</span><span class="sxs-lookup"><span data-stu-id="c744a-332">There's a limit of 100 requests per test.</span></span>

    <span data-ttu-id="c744a-333">test de Hello est arrêtée si elle s’exécute plu de deux minutes.</span><span class="sxs-lookup"><span data-stu-id="c744a-333">hello test is stopped if it runs longer than two minutes.</span></span>
* <span data-ttu-id="c744a-334">*Comment puis-je exécuter un test avec des certificats clients ?*</span><span class="sxs-lookup"><span data-stu-id="c744a-334">*How can I run a test with client certificates?*</span></span>

    <span data-ttu-id="c744a-335">Désolé, ce n’est pas pris en charge.</span><span class="sxs-lookup"><span data-stu-id="c744a-335">We don't support that, sorry.</span></span>


## <span data-ttu-id="c744a-336"><a name="next"></a>Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="c744a-336"><a name="next"></a>Next steps</span></span>
<span data-ttu-id="c744a-337">[Recherche des journaux de diagnostic][diagnostic]</span><span class="sxs-lookup"><span data-stu-id="c744a-337">[Search diagnostic logs][diagnostic]</span></span>

<span data-ttu-id="c744a-338">[Résolution des problèmes][qna]</span><span class="sxs-lookup"><span data-stu-id="c744a-338">[Troubleshooting][qna]</span></span>

[<span data-ttu-id="c744a-339">Adresses IP d’agents de test web</span><span class="sxs-lookup"><span data-stu-id="c744a-339">IP addresses of web test agents</span></span>](app-insights-ip-addresses.md)

<!--Link references-->

[azure-availability]: ../insights-create-web-tests.md
[diagnostic]: app-insights-diagnostic-search.md
[qna]: app-insights-troubleshoot-faq.md
[start]: app-insights-overview.md
