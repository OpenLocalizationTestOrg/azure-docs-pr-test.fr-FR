---
title: "Configuration d’alertes dans Azure Application Insights | Microsoft Docs"
description: "Tenez-vous informé des temps de réponse lents, des exceptions et des autres changements de performances ou d’utilisation de votre application web."
services: application-insights
documentationcenter: 
author: CFreemanwa
manager: carmonm
ms.assetid: f8ebde72-f819-4ba5-afa2-31dbd49509a5
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: article
ms.date: 03/14/2017
ms.author: bwren
ms.openlocfilehash: c8386ffc5d68260eeb75edf7efb77db1163dcef8
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/18/2017
---
# <a name="set-alerts-in-application-insights"></a><span data-ttu-id="f347d-103">Configuration d’alertes dans Application Insights</span><span class="sxs-lookup"><span data-stu-id="f347d-103">Set Alerts in Application Insights</span></span>
<span data-ttu-id="f347d-104">[Azure Application Insights][start] peut vous signaler les modifications des métriques de performances ou d’utilisation de votre application web.</span><span class="sxs-lookup"><span data-stu-id="f347d-104">[Azure Application Insights][start] can alert you to changes in performance or usage metrics in your web app.</span></span> 

<span data-ttu-id="f347d-105">Application Insights analyse votre application en direct sur un [large éventail de plateformes][platforms] pour vous aider à diagnostiquer les problèmes de performances et comprendre les schémas d’utilisation.</span><span class="sxs-lookup"><span data-stu-id="f347d-105">Application Insights monitors your live app on a [wide variety of platforms][platforms] to help you diagnose performance issues and understand usage patterns.</span></span>

<span data-ttu-id="f347d-106">Il existe trois types d’alertes :</span><span class="sxs-lookup"><span data-stu-id="f347d-106">There are three kinds of alerts:</span></span>

* <span data-ttu-id="f347d-107">Les **alertes de métrique** indiquent quand une métrique dépasse une valeur seuil pendant une certaine période, comme les temps de réponse, le nombre d’exceptions, l’utilisation du processeur ou les affichages de page.</span><span class="sxs-lookup"><span data-stu-id="f347d-107">**Metric alerts** tell you when a metric crosses a threshold value for some period - such as response times, exception counts, CPU usage, or page views.</span></span> 
* <span data-ttu-id="f347d-108">Les [**tests web**][availability] indiquent quand votre site est indisponible sur Internet ou répond lentement.</span><span class="sxs-lookup"><span data-stu-id="f347d-108">[**Web tests**][availability] tell you when your site is unavailable on the internet, or responding slowly.</span></span> <span data-ttu-id="f347d-109">[En savoir plus][availability].</span><span class="sxs-lookup"><span data-stu-id="f347d-109">[Learn more][availability].</span></span>
* <span data-ttu-id="f347d-110">Les [**diagnostics proactifs**](app-insights-proactive-diagnostics.md) sont configurés automatiquement pour vous informer des modèles de performances exceptionnelles.</span><span class="sxs-lookup"><span data-stu-id="f347d-110">[**Proactive diagnostics**](app-insights-proactive-diagnostics.md) are configured automatically to notify you about unusual performance patterns.</span></span>

<span data-ttu-id="f347d-111">Dans cet article, nous allons nous concentrer sur les alertes métriques.</span><span class="sxs-lookup"><span data-stu-id="f347d-111">We focus on metric alerts in this article.</span></span>

## <a name="set-a-metric-alert"></a><span data-ttu-id="f347d-112">Définir une alerte métrique</span><span class="sxs-lookup"><span data-stu-id="f347d-112">Set a Metric alert</span></span>
<span data-ttu-id="f347d-113">Ouvrez le panneau des règles d’alerte, puis utilisez le bouton Ajouter.</span><span class="sxs-lookup"><span data-stu-id="f347d-113">Open the Alert rules blade, and then use the add button.</span></span> 

![Dans le panneau Règles d’alerte, cliquez sur Ajouter une alerte.](./media/app-insights-alerts/01-set-metric.png)

* <span data-ttu-id="f347d-116">Définissez la ressource avant les autres propriétés.</span><span class="sxs-lookup"><span data-stu-id="f347d-116">Set the resource before the other properties.</span></span> <span data-ttu-id="f347d-117">**Choisissez la ressource « (composants) »** si vous souhaitez définir des alertes sur les mesures de performances ou d'utilisation.</span><span class="sxs-lookup"><span data-stu-id="f347d-117">**Choose the "(components)" resource** if you want to set alerts on performance or usage metrics.</span></span>
* <span data-ttu-id="f347d-118">Le nom que vous donnez à l’alerte doit être unique dans le groupe de ressources (pas uniquement dans votre application).</span><span class="sxs-lookup"><span data-stu-id="f347d-118">The name that you give to the alert must be unique within the resource group (not just your application).</span></span>
* <span data-ttu-id="f347d-119">Veillez à noter les unités dans lesquelles vous êtes invité à entrer la valeur seuil.</span><span class="sxs-lookup"><span data-stu-id="f347d-119">Be careful to note the units in which you're asked to enter the threshold value.</span></span>
* <span data-ttu-id="f347d-120">Si vous cochez la case « Envoyer des e-mails aux propriétaires… », les alertes sont envoyées par e-mail à toutes les personnes ayant accès à ce groupe de ressources.</span><span class="sxs-lookup"><span data-stu-id="f347d-120">If you check the box "Email owners...", alerts are sent by email to everyone who has access to this resource group.</span></span> <span data-ttu-id="f347d-121">Pour étendre cet ensemble de personnes, ajoutez-le au [groupe de ressources ou à l’abonnement](app-insights-resources-roles-access-control.md) (pas à la ressource).</span><span class="sxs-lookup"><span data-stu-id="f347d-121">To expand this set of people, add them to the [resource group or subscription](app-insights-resources-roles-access-control.md) (not the resource).</span></span>
* <span data-ttu-id="f347d-122">Si vous spécifiez « E-mails supplémentaires », les alertes sont envoyées à ces personnes ou groupes (que vous ayez ou non coché la case « Envoyer des e-mails aux propriétaires… »).</span><span class="sxs-lookup"><span data-stu-id="f347d-122">If you specify "Additional emails", alerts are sent to those individuals or groups (whether or not you checked the "email owners..." box).</span></span> 
* <span data-ttu-id="f347d-123">Définissez une [adresse de webhook](../monitoring-and-diagnostics/insights-webhooks-alerts.md) si vous avez configuré une application web qui répondra aux alertes.</span><span class="sxs-lookup"><span data-stu-id="f347d-123">Set a [webhook address](../monitoring-and-diagnostics/insights-webhooks-alerts.md) if you have set up a web app that responds to alerts.</span></span> <span data-ttu-id="f347d-124">Elle est appelée lorsque l’alerte est Activée ou Résolue.</span><span class="sxs-lookup"><span data-stu-id="f347d-124">It is called both when the alert is Activated and when it is Resolved.</span></span> <span data-ttu-id="f347d-125">(Mais notez qu’à l’heure actuelle, les paramètres de requête ne sont pas transmis en tant que propriétés webhook.)</span><span class="sxs-lookup"><span data-stu-id="f347d-125">(But note that at present, query parameters are not passed through as webhook properties.)</span></span>
* <span data-ttu-id="f347d-126">Vous pouvez désactiver ou activer l'alerte avec les boutons en haut du panneau.</span><span class="sxs-lookup"><span data-stu-id="f347d-126">You can Disable or Enable the alert: see the buttons at the top of the blade.</span></span>

<span data-ttu-id="f347d-127">*Je ne vois pas apparaître le bouton Ajouter une alerte.*</span><span class="sxs-lookup"><span data-stu-id="f347d-127">*I don't see the Add Alert button.*</span></span> 

* <span data-ttu-id="f347d-128">Utilisez-vous un compte professionnel ?</span><span class="sxs-lookup"><span data-stu-id="f347d-128">Are you using an organizational account?</span></span> <span data-ttu-id="f347d-129">Vous pouvez définir des alertes si vous avez un accès propriétaire ou collaborateur à cette ressource d’application.</span><span class="sxs-lookup"><span data-stu-id="f347d-129">You can set alerts if you have owner or contributor access to this application resource.</span></span> <span data-ttu-id="f347d-130">Consultez le panneau Access Control.</span><span class="sxs-lookup"><span data-stu-id="f347d-130">Take a look at the Access Control blade.</span></span> <span data-ttu-id="f347d-131">[En savoir plus sur le contrôle d’accès][roles].</span><span class="sxs-lookup"><span data-stu-id="f347d-131">[Learn about access control][roles].</span></span>

> [!NOTE]
> <span data-ttu-id="f347d-132">Dans le panneau Alertes, vous pouvez constater qu’une alerte est déjà configurée : [Diagnostics proactifs](app-insights-proactive-failure-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="f347d-132">In the alerts blade, you see that there's already an alert set up: [Proactive Diagnostics](app-insights-proactive-failure-diagnostics.md).</span></span> <span data-ttu-id="f347d-133">Cette alerte automatique surveille une métrique spécifique : le taux d’échec des demandes.</span><span class="sxs-lookup"><span data-stu-id="f347d-133">The automatic alert monitors one particular metric, request failure rate.</span></span> <span data-ttu-id="f347d-134">Sauf si vous décidez de désactiver l’alerte proactive, vous n’avez pas besoin de définir votre propre alerte pour les taux d’échec des demandes.</span><span class="sxs-lookup"><span data-stu-id="f347d-134">Unless you decide to disable the proactive alert, you don't need to set your own alert on request failure rate.</span></span> 
> 
> 

## <a name="see-your-alerts"></a><span data-ttu-id="f347d-135">Consultez vos alertes</span><span class="sxs-lookup"><span data-stu-id="f347d-135">See your alerts</span></span>
<span data-ttu-id="f347d-136">Vous recevez un e-mail lorsqu’une alerte bascule entre les états inactive et active.</span><span class="sxs-lookup"><span data-stu-id="f347d-136">You get an email when an alert changes state between inactive and active.</span></span> 

<span data-ttu-id="f347d-137">L’état actuel de chaque alerte est indiqué dans le panneau Règles d’alerte.</span><span class="sxs-lookup"><span data-stu-id="f347d-137">The current state of each alert is shown in the Alert rules blade.</span></span>

<span data-ttu-id="f347d-138">Il existe un résumé de l’activité récente dans la liste déroulante des alertes :</span><span class="sxs-lookup"><span data-stu-id="f347d-138">There's a summary of recent activity in the alerts drop-down:</span></span>

![Liste déroulante Alertes](./media/app-insights-alerts/010-alert-drop.png)

<span data-ttu-id="f347d-140">L’historique des modifications d’état figure dans le journal d’activité :</span><span class="sxs-lookup"><span data-stu-id="f347d-140">The history of state changes is in the Activity Log:</span></span>

![Dans le panneau Vue d’ensemble, cliquez sur Paramètres, puis sur Journaux d'audit.](./media/app-insights-alerts/09-alerts.png)

## <a name="how-alerts-work"></a><span data-ttu-id="f347d-142">Fonctionnement des alertes</span><span class="sxs-lookup"><span data-stu-id="f347d-142">How alerts work</span></span>
* <span data-ttu-id="f347d-143">Une alerte a trois états : « Jamais activée », « Activée » et « Résolue ».</span><span class="sxs-lookup"><span data-stu-id="f347d-143">An alert has three states: "Never activated", "Activated", and "Resolved."</span></span> <span data-ttu-id="f347d-144">L’état Activé signifie que la condition spécifiée était vraie lors de la dernière évaluation.</span><span class="sxs-lookup"><span data-stu-id="f347d-144">Activated means the condition you specified was true, when it was last evaluated.</span></span>
* <span data-ttu-id="f347d-145">Une notification est générée lorsqu'une alerte change d'état.</span><span class="sxs-lookup"><span data-stu-id="f347d-145">A notification is generated when an alert changes state.</span></span> <span data-ttu-id="f347d-146">(Si la condition d'alerte était déjà vraie lorsque vous avez créé l'alerte, il est possible que vous ne receviez pas de notification tant que la condition n’est pas fausse.)</span><span class="sxs-lookup"><span data-stu-id="f347d-146">(If the alert condition was already true when you created the alert, you might not get a notification until the condition goes false.)</span></span>
* <span data-ttu-id="f347d-147">Chaque notification génère un message électronique si vous avez coché la case E-mails ou fourni des adresses de messagerie électronique.</span><span class="sxs-lookup"><span data-stu-id="f347d-147">Each notification generates an email if you checked the emails box, or provided email addresses.</span></span> <span data-ttu-id="f347d-148">Vous pouvez également consulter la liste déroulante Notifications.</span><span class="sxs-lookup"><span data-stu-id="f347d-148">You can also look at the Notifications drop-down list.</span></span>
* <span data-ttu-id="f347d-149">Une alerte est évaluée chaque fois qu’une mesure arrive, mais pas autrement.</span><span class="sxs-lookup"><span data-stu-id="f347d-149">An alert is evaluated each time a metric arrives, but not otherwise.</span></span>
* <span data-ttu-id="f347d-150">L’évaluation agrège la mesure de la période précédente, puis la compare à la valeur de seuil pour déterminer le nouvel état.</span><span class="sxs-lookup"><span data-stu-id="f347d-150">The evaluation aggregates the metric over the preceding period, and then compares it to the threshold to determine the new state.</span></span>
* <span data-ttu-id="f347d-151">La période que vous choisissez spécifie la durée pendant laquelle les mesures sont agrégées.</span><span class="sxs-lookup"><span data-stu-id="f347d-151">The period that you choose specifies the interval over which metrics are aggregated.</span></span> <span data-ttu-id="f347d-152">Cela n’affecte pas la fréquence à laquelle l’alerte est évaluée, mais cela dépend de la fréquence d’arrivée des mesures.</span><span class="sxs-lookup"><span data-stu-id="f347d-152">It doesn't affect how often the alert is evaluated: that depends on the frequency of arrival of metrics.</span></span>
* <span data-ttu-id="f347d-153">Si aucune donnée n’arrive pour une mesure particulière pendant un certain temps, l’écart a des effets différents sur l’évaluation de l’alerte et sur les graphiques dans Metrics Explorer.</span><span class="sxs-lookup"><span data-stu-id="f347d-153">If no data arrives for a particular metric for some time, the gap has different effects on alert evaluation and on the charts in metric explorer.</span></span> <span data-ttu-id="f347d-154">Dans Metrics Explorer, si aucune donnée n’apparaît plus longtemps que l’intervalle d’échantillonnage du graphique, le graphique affiche la valeur 0.</span><span class="sxs-lookup"><span data-stu-id="f347d-154">In metric explorer, if no data is seen for longer than the chart's sampling interval, the chart shows a value of 0.</span></span> <span data-ttu-id="f347d-155">Cependant, une alerte basée sur la même métrique n’est pas réévaluée et l’état de l’alerte reste inchangé.</span><span class="sxs-lookup"><span data-stu-id="f347d-155">But an alert based on the same metric is not be reevaluated, and the alert's state remains unchanged.</span></span> 
  
    <span data-ttu-id="f347d-156">Lorsque les données arrivent par la suite, le graphique revient à une valeur différente de zéro.</span><span class="sxs-lookup"><span data-stu-id="f347d-156">When data eventually arrives, the chart jumps back to a non-zero value.</span></span> <span data-ttu-id="f347d-157">L’alerte est évaluée en fonction des données disponibles pour la période spécifiée.</span><span class="sxs-lookup"><span data-stu-id="f347d-157">The alert evaluates based on the data available for the period you specified.</span></span> <span data-ttu-id="f347d-158">Si le nouveau point de données est le seul disponible dans la période, l’agrégat repose uniquement sur ce point.</span><span class="sxs-lookup"><span data-stu-id="f347d-158">If the new data point is the only one available in the period, the aggregate is based just on that data point.</span></span>
* <span data-ttu-id="f347d-159">Une alerte peut osciller fréquemment entre les états alerte et intègre même si vous définissez une longue période.</span><span class="sxs-lookup"><span data-stu-id="f347d-159">An alert can flicker frequently between alert and healthy states, even if you set a long period.</span></span> <span data-ttu-id="f347d-160">Cela peut se produire si la valeur de la mesure est placée autour du seuil.</span><span class="sxs-lookup"><span data-stu-id="f347d-160">This can happen if the metric value hovers around the threshold.</span></span> <span data-ttu-id="f347d-161">Le seuil est cohérent : la transition vers l’état alerte se produit à la même valeur que la transition vers l’état intègre.</span><span class="sxs-lookup"><span data-stu-id="f347d-161">There is no hysteresis in the threshold: the transition to alert happens at the same value as the transition to healthy.</span></span>

## <a name="what-are-good-alerts-to-set"></a><span data-ttu-id="f347d-162">Quelles sont les alertes à définir ?</span><span class="sxs-lookup"><span data-stu-id="f347d-162">What are good alerts to set?</span></span>
<span data-ttu-id="f347d-163">Cela dépend de votre application.</span><span class="sxs-lookup"><span data-stu-id="f347d-163">It depends on your application.</span></span> <span data-ttu-id="f347d-164">Pour commencer, il est préférable de ne pas définir un trop grand nombre de métriques.</span><span class="sxs-lookup"><span data-stu-id="f347d-164">To start with, it's best not to set too many metrics.</span></span> <span data-ttu-id="f347d-165">Prenez le temps d’examiner vos graphiques de métriques pendant l’exécution de votre application, pour mieux comprendre comment elle se comporte normalement.</span><span class="sxs-lookup"><span data-stu-id="f347d-165">Spend some time looking at your metric charts while your app is running, to get a feel for how it behaves normally.</span></span> <span data-ttu-id="f347d-166">Cet exercice vous aide à trouver des moyens d’améliorer ses performances.</span><span class="sxs-lookup"><span data-stu-id="f347d-166">This practice helps you find ways to improve its performance.</span></span> <span data-ttu-id="f347d-167">Définissez ensuite des alertes qui vous indiquent lorsque les métriques quittent la zone normale.</span><span class="sxs-lookup"><span data-stu-id="f347d-167">Then set up alerts to tell you when the metrics go outside the normal zone.</span></span> 

<span data-ttu-id="f347d-168">Les alertes les plus appréciées sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="f347d-168">Popular alerts include:</span></span>

* <span data-ttu-id="f347d-169">Les [mesures de navigateur][client], surtout les **temps de chargement des pages** de navigateur, sont efficaces pour les applications web.</span><span class="sxs-lookup"><span data-stu-id="f347d-169">[Browser metrics][client], especially Browser **page load times**, are good for web applications.</span></span> <span data-ttu-id="f347d-170">Si votre page contient de nombreux scripts, vous devez rechercher d’éventuelles **exceptions du navigateur**.</span><span class="sxs-lookup"><span data-stu-id="f347d-170">If your page has many scripts, you should look for **browser exceptions**.</span></span> <span data-ttu-id="f347d-171">Pour obtenir ces métriques et alertes, vous devez configurer la [surveillance de page web][client].</span><span class="sxs-lookup"><span data-stu-id="f347d-171">In order to get these metrics and alerts, you have to set up [web page monitoring][client].</span></span>
* <span data-ttu-id="f347d-172">Le **temps de réponse de serveur** pour le côté serveur des applications web.</span><span class="sxs-lookup"><span data-stu-id="f347d-172">**Server response time** for the server side of web applications.</span></span> <span data-ttu-id="f347d-173">Outre la définition des alertes, gardez un œil sur cette métrique pour voir si elle varie de façon importante avec un taux de demandes élevé. Une telle variation peut indiquer que votre application manque de ressources.</span><span class="sxs-lookup"><span data-stu-id="f347d-173">As well as setting up alerts, keep an eye on this metric to see if it varies disproportionately with high request rates: variation might indicate that your app is running out of resources.</span></span> 
* <span data-ttu-id="f347d-174">**Exceptions du serveur** - pour les afficher, vous devrez peut-être effectuer une [installation supplémentaire](app-insights-asp-net-exceptions.md).</span><span class="sxs-lookup"><span data-stu-id="f347d-174">**Server exceptions** - to see them, you have to do some [additional setup](app-insights-asp-net-exceptions.md).</span></span>

<span data-ttu-id="f347d-175">N’oubliez pas que les [diagnostics de taux d’échec proactifs](app-insights-proactive-failure-diagnostics.md) analysent automatiquement le taux selon lequel votre application répond aux demandes avec des codes d’échec.</span><span class="sxs-lookup"><span data-stu-id="f347d-175">Don't forget that [proactive failure rate diagnostics](app-insights-proactive-failure-diagnostics.md) automatically monitor the rate at which your app responds to requests with failure codes.</span></span> 

## <a name="automation"></a><span data-ttu-id="f347d-176">Automatisation</span><span class="sxs-lookup"><span data-stu-id="f347d-176">Automation</span></span>
* [<span data-ttu-id="f347d-177">Utiliser PowerShell pour automatiser la configuration d’alertes</span><span class="sxs-lookup"><span data-stu-id="f347d-177">Use PowerShell to automate setting up alerts</span></span>](app-insights-powershell-alerts.md)
* [<span data-ttu-id="f347d-178">Utiliser les webhooks pour automatiser la réponse aux alertes</span><span class="sxs-lookup"><span data-stu-id="f347d-178">Use webhooks to automate responding to alerts</span></span>](../monitoring-and-diagnostics/insights-webhooks-alerts.md)

## <a name="video"></a><span data-ttu-id="f347d-179">Vidéo</span><span class="sxs-lookup"><span data-stu-id="f347d-179">Video</span></span>

> [!VIDEO https://channel9.msdn.com/events/Connect/2016/112/player]

## <a name="see-also"></a><span data-ttu-id="f347d-180">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="f347d-180">See also</span></span>
* [<span data-ttu-id="f347d-181">Tests web de disponibilité</span><span class="sxs-lookup"><span data-stu-id="f347d-181">Availability web tests</span></span>](app-insights-monitor-web-app-availability.md)
* [<span data-ttu-id="f347d-182">Automatiser la configuration d’alertes</span><span class="sxs-lookup"><span data-stu-id="f347d-182">Automate setting up alerts</span></span>](app-insights-powershell-alerts.md)
* [<span data-ttu-id="f347d-183">Diagnostics proactifs</span><span class="sxs-lookup"><span data-stu-id="f347d-183">Proactive diagnostics</span></span>](app-insights-proactive-diagnostics.md) 

<!--Link references-->

[availability]: app-insights-monitor-web-app-availability.md
[client]: app-insights-javascript.md
[platforms]: app-insights-platforms.md
[roles]: app-insights-resources-roles-access-control.md
[start]: app-insights-overview.md

