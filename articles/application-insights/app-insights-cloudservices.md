---
title: aaaApplication Insights pour les Services de cloud computing Azure | Documents Microsoft
description: "Surveillance efficace de vos rôles Web et de travail avec Application Insights"
services: application-insights
documentationcenter: 
keywords: WAD2AI, Azure Diagnostics
author: CFreemanwa
manager: carmonm
editor: alancameronwills
ms.assetid: 5c7a5b34-329e-42b7-9330-9dcbb9ff1f88
ms.service: application-insights
ms.devlang: na
ms.tgt_pltfrm: ibiza
ms.topic: get-started-article
ms.workload: tbd
ms.date: 05/05/2017
ms.author: bwren
ms.openlocfilehash: 6956ce423eea1e2cf387bd98250bae32d9501ed0
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="application-insights-for-azure-cloud-services"></a><span data-ttu-id="4b849-104">Application Insights pour Services cloud Azure</span><span class="sxs-lookup"><span data-stu-id="4b849-104">Application Insights for Azure Cloud Services</span></span>
<span data-ttu-id="4b849-105">[Les applications de service cloud Microsoft Azure](https://azure.microsoft.com/services/cloud-services/) peuvent être surveillées par [Application Insights][start] pour la disponibilité, les performances, les défaillances et l’utilisation en combinant les données des kits de développement logiciel (SDK) d’Application Insights avec les données [Azure Diagnostics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) de vos services cloud.</span><span class="sxs-lookup"><span data-stu-id="4b849-105">[Microsoft Azure Cloud service apps](https://azure.microsoft.com/services/cloud-services/) can be monitored by [Application Insights][start] for availability, performance, failures, and usage by combining data from Application Insights' SDKs with [Azure Diagnotics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) data from your Cloud Services.</span></span> <span data-ttu-id="4b849-106">Avec commentaires hello que vous obtenez sur les performances de hello et l’efficacité de votre application Bonjour générique, vous pouvez rendre des décisions avisées sur la direction hello de conception de hello dans chaque cycle de vie de développement.</span><span class="sxs-lookup"><span data-stu-id="4b849-106">With hello feedback you get about hello performance and effectiveness of your app in hello wild, you can make informed choices about hello direction of hello design in each development lifecycle.</span></span>

![Exemple](./media/app-insights-cloudservices/sample.png)

## <a name="before-you-start"></a><span data-ttu-id="4b849-108">Avant de commencer</span><span class="sxs-lookup"><span data-stu-id="4b849-108">Before you start</span></span>
<span data-ttu-id="4b849-109">Vous devez disposer des éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="4b849-109">You'll need:</span></span>

* <span data-ttu-id="4b849-110">Un abonnement à [Microsoft Azure](http://azure.com).</span><span class="sxs-lookup"><span data-stu-id="4b849-110">A subscription with [Microsoft Azure](http://azure.com).</span></span> <span data-ttu-id="4b849-111">Connectez-vous avec un compte Microsoft, que vous pouvez avoir pour Windows, XBox Live ou d’autres services cloud de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="4b849-111">Sign in with a Microsoft account, which you might have for Windows, XBox Live, or other Microsoft cloud services.</span></span> 
* <span data-ttu-id="4b849-112">Microsoft Azure Tools 2.9 ou version ultérieure</span><span class="sxs-lookup"><span data-stu-id="4b849-112">Microsoft Azure tools 2.9 or later</span></span>
* <span data-ttu-id="4b849-113">Developer Analytics Tools 7.10 ou version ultérieure</span><span class="sxs-lookup"><span data-stu-id="4b849-113">Developer Analytics Tools 7.10 or later</span></span>

## <a name="quick-start"></a><span data-ttu-id="4b849-114">Démarrage rapide</span><span class="sxs-lookup"><span data-stu-id="4b849-114">Quick start</span></span>
<span data-ttu-id="4b849-115">Bonjour toomonitor rapidement et facilement que votre service cloud avec Application Insights est toochoose option lorsque vous publiez votre tooAzure de service.</span><span class="sxs-lookup"><span data-stu-id="4b849-115">hello quickest and easiest way toomonitor your cloud service with Application Insights is toochoose that option when you publish your service tooAzure.</span></span>

![Exemple](./media/app-insights-cloudservices/azure-cloud-application-insights.png)

<span data-ttu-id="4b849-117">Instruments de cette option votre application en cours d’exécution, ce qui vous donne toutes les données de télémétrie hello vous devez toomonitor demandes, les exceptions et les dépendances dans votre rôle web, ainsi que les performances des compteurs à partir de vos rôles de travail.</span><span class="sxs-lookup"><span data-stu-id="4b849-117">This option instruments your app at run time, giving you all hello telemetry you need toomonitor requests, exceptions, and dependencies in your web role, as well as performance counters from your worker roles.</span></span> <span data-ttu-id="4b849-118">Toutes les traces de diagnostic générés par votre application sont également envoyés tooApplication Insights.</span><span class="sxs-lookup"><span data-stu-id="4b849-118">Any diagnostic traces generated by your app are also sent tooApplication Insights.</span></span>

<span data-ttu-id="4b849-119">Si tout ceci vous suffit, vous avez terminé !</span><span class="sxs-lookup"><span data-stu-id="4b849-119">If that's all you need, you're done!</span></span> <span data-ttu-id="4b849-120">Les étapes suivantes consistent à [afficher les métriques de votre application](app-insights-metrics-explorer.md), à [interroger vos données avec Analytics](app-insights-analytics.md) et éventuellement à configurer un [tableau de bord](app-insights-dashboards.md).</span><span class="sxs-lookup"><span data-stu-id="4b849-120">Next steps are [viewing metrics from your app](app-insights-metrics-explorer.md), [querying your data with Analytics](app-insights-analytics.md), and maybe setting up a [dashboard](app-insights-dashboards.md).</span></span> <span data-ttu-id="4b849-121">Vous pourriez tooset des [les tests de disponibilité](app-insights-monitor-web-app-availability.md) et [ajouter des pages de codes tooyour web](app-insights-javascript.md) toomonitor les performances dans le navigateur de hello.</span><span class="sxs-lookup"><span data-stu-id="4b849-121">You might want tooset up [availability tests](app-insights-monitor-web-app-availability.md) and [add code tooyour web pages](app-insights-javascript.md) toomonitor performance in hello browser.</span></span>

<span data-ttu-id="4b849-122">Mais vous pouvez aussi obtenir plus d’options :</span><span class="sxs-lookup"><span data-stu-id="4b849-122">But you can also get more options:</span></span>

* <span data-ttu-id="4b849-123">Envoyer des données à partir de différents composants et configurations de build tooseparate ressources.</span><span class="sxs-lookup"><span data-stu-id="4b849-123">Send data from different components and build configurations tooseparate resources.</span></span>
* <span data-ttu-id="4b849-124">Ajouter une télémétrie personnalisée à partir de votre application.</span><span class="sxs-lookup"><span data-stu-id="4b849-124">Add custom telemetry from your app.</span></span>

<span data-ttu-id="4b849-125">Si ces options sont d’intérêt tooyou, lisez la suite.</span><span class="sxs-lookup"><span data-stu-id="4b849-125">If those options are of interest tooyou, read on.</span></span>

## <a name="sample-application-instrumented-with-application-insights"></a><span data-ttu-id="4b849-126">Exemple d’application instrumentée avec Application Insights</span><span class="sxs-lookup"><span data-stu-id="4b849-126">Sample Application instrumented with Application Insights</span></span>
<span data-ttu-id="4b849-127">Examinons cela [exemple d’application](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) dans lequel Application Insights est ajouté le service cloud tooa avec deux rôles de travail hébergés dans Azure.</span><span class="sxs-lookup"><span data-stu-id="4b849-127">Take a look at this [sample application](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) in which Application Insights is added tooa cloud service with two worker roles hosted in Azure.</span></span> 

<span data-ttu-id="4b849-128">Ce qui suit vous indique comment tooadapt votre propre service de cloud de projet Bonjour identique.</span><span class="sxs-lookup"><span data-stu-id="4b849-128">What follows tells you how tooadapt your own cloud service project in hello same way.</span></span>

## <a name="plan-resources-and-resource-groups"></a><span data-ttu-id="4b849-129">Planifier des ressources et des groupes de ressources</span><span class="sxs-lookup"><span data-stu-id="4b849-129">Plan resources and resource groups</span></span>
<span data-ttu-id="4b849-130">télémétrie Hello à partir de votre application est stockée, analysée et affichée dans une ressource Azure de type Application Insights.</span><span class="sxs-lookup"><span data-stu-id="4b849-130">hello telemetry from your app is stored, analyzed and displayed in an Azure resource of type Application Insights.</span></span> 

<span data-ttu-id="4b849-131">Chaque ressource appartient le groupe de ressources tooa.</span><span class="sxs-lookup"><span data-stu-id="4b849-131">Each resource belongs tooa resource group.</span></span> <span data-ttu-id="4b849-132">Groupes de ressources sont utilisées pour gérer les coûts, pour accorder l’accès à des membres tooteam, et toodeploy mises à jour dans une seule transaction coordonnée.</span><span class="sxs-lookup"><span data-stu-id="4b849-132">Resource groups are used for managing costs, for granting access tooteam members, and toodeploy updates in a single coordinated transaction.</span></span> <span data-ttu-id="4b849-133">Par exemple, vous pouvez [écrire un script toodeploy](../azure-resource-manager/resource-group-template-deploy.md) un Service Cloud Azure et son Application Insights analyse des ressources en une seule opération.</span><span class="sxs-lookup"><span data-stu-id="4b849-133">For example, you could [write a script toodeploy](../azure-resource-manager/resource-group-template-deploy.md) an Azure Cloud Service and its Application Insights monitoring resources all in one operation.</span></span>

### <a name="resources-for-components"></a><span data-ttu-id="4b849-134">Ressources pour les composants</span><span class="sxs-lookup"><span data-stu-id="4b849-134">Resources for components</span></span>
<span data-ttu-id="4b849-135">Hello recommandé de schéma est toocreate une ressource distincte pour chaque composant de votre application : autrement dit, chaque rôle web et le rôle de travail.</span><span class="sxs-lookup"><span data-stu-id="4b849-135">hello recommended scheme is toocreate a separate resource for each component of your application - that is, each web role and worker role.</span></span> <span data-ttu-id="4b849-136">Vous pouvez analyser chaque composant séparément, mais vous pouvez créer un [tableau de bord](app-insights-dashboards.md) qui réunit les graphiques clés hello à partir de tous les composants de hello, afin que vous pouvez comparer et analyser les ensemble.</span><span class="sxs-lookup"><span data-stu-id="4b849-136">You can analyze each component separately, but can create a [dashboard](app-insights-dashboards.md) that brings together hello key charts from all hello components, so that you can compare and monitor them together.</span></span> 

<span data-ttu-id="4b849-137">Un autre système est la télémétrie de hello toosend à partir de plusieurs rôles toohello même ressource, mais [ajouter un élément de données de télémétrie de dimension propriété tooeach](app-insights-api-filtering-sampling.md#add-properties-itelemetryinitializer) qui identifie son rôle de la source.</span><span class="sxs-lookup"><span data-stu-id="4b849-137">An alternative scheme is toosend hello telemetry from more than one role toohello same resource, but [add a dimension property tooeach telemetry item](app-insights-api-filtering-sampling.md#add-properties-itelemetryinitializer) that identifies its source role.</span></span> <span data-ttu-id="4b849-138">Dans ce schéma, métriques graphiques tels que les exceptions affichent normalement une agrégation des nombres hello de hello différents rôles, mais vous pouvez segmenter le graphique de hello par identificateur de rôle hello à la demande.</span><span class="sxs-lookup"><span data-stu-id="4b849-138">In this scheme, metric charts such as exceptions normally show an aggregation of hello counts from hello different roles, but you can segment hello chart by hello role identifier when required.</span></span> <span data-ttu-id="4b849-139">Les recherches peuvent également être filtrés par hello même dimension.</span><span class="sxs-lookup"><span data-stu-id="4b849-139">Searches can also be filtered by hello same dimension.</span></span> <span data-ttu-id="4b849-140">Cette solution rend un peu plus facile tooview tout à hello en même temps, mais peut également entraîner toosome confusion entre les rôles de hello.</span><span class="sxs-lookup"><span data-stu-id="4b849-140">This alternative makes it a bit easier tooview everything at hello same time, but could also lead toosome confusion between hello roles.</span></span>

<span data-ttu-id="4b849-141">Données de télémétrie de navigateur sont généralement incluse dans hello mêmes ressources que son rôle web côté serveur.</span><span class="sxs-lookup"><span data-stu-id="4b849-141">Browser telemetry is usually included in hello same resource as its server-side web role.</span></span>

<span data-ttu-id="4b849-142">Placez les ressources d’Application Insights hello pour les différents composants de hello dans un groupe de ressources.</span><span class="sxs-lookup"><span data-stu-id="4b849-142">Put hello Application Insights resources for hello different components in one resource group.</span></span> <span data-ttu-id="4b849-143">Il est ainsi facile toomanage ensemble.</span><span class="sxs-lookup"><span data-stu-id="4b849-143">This makes it easy toomanage them together.</span></span> 

### <a name="separating-development-test-and-production"></a><span data-ttu-id="4b849-144">Séparation du développement, des tests et de la production</span><span class="sxs-lookup"><span data-stu-id="4b849-144">Separating development, test, and production</span></span>
<span data-ttu-id="4b849-145">Si vous développez des événements personnalisés pour votre fonctionnalité suivante lors de la version précédente de hello est dynamique, vous souhaitez le ressource de Application Insights distinct de toosend hello développement télémétrie tooa.</span><span class="sxs-lookup"><span data-stu-id="4b849-145">If you are developing custom events for your next feature while hello previous version is live, you want toosend hello development telemetry tooa separate Application Insights resource.</span></span> <span data-ttu-id="4b849-146">Sinon, il est difficile toofind votre test de télémétrie parmi tous les hello le trafic à partir du site en ligne hello.</span><span class="sxs-lookup"><span data-stu-id="4b849-146">Otherwise it will be hard toofind your test telemetry among all hello traffic from hello live site.</span></span>

<span data-ttu-id="4b849-147">tooavoid cette situation, créer des ressources distinctes pour chaque configuration de build ou un « tampon » (développement, test, production,...) de votre système.</span><span class="sxs-lookup"><span data-stu-id="4b849-147">tooavoid this situation, create separate resources for each build configuration or 'stamp' (development, test, production, ...) of your system.</span></span> <span data-ttu-id="4b849-148">Placez les ressources hello pour chaque configuration de build dans un groupe de ressources distinct.</span><span class="sxs-lookup"><span data-stu-id="4b849-148">Put hello resources for each build configuration in a separate resource group.</span></span> 

<span data-ttu-id="4b849-149">toosend hello télémétrie toohello ressources appropriées, vous pouvez configurer hello Application Insights SDK afin qu’il récupère une clé d’instrumentation différents en fonction de la configuration de build hello.</span><span class="sxs-lookup"><span data-stu-id="4b849-149">toosend hello telemetry toohello appropriate resources, you can set up hello Application Insights SDK so that it picks up a different instrumentation key depending on hello build configuration.</span></span> 

## <a name="create-an-application-insights-resource-for-each-role"></a><span data-ttu-id="4b849-150">Création d’une ressource Application Insights pour chaque rôle</span><span class="sxs-lookup"><span data-stu-id="4b849-150">Create an Application Insights resource for each role</span></span>
<span data-ttu-id="4b849-151">Si vous avez décidé de toocreate une ressource distincte pour chaque rôle - et éventuellement une séparée définie pour chaque configuration de build -, il est plus simple toocreate les portail Application Insights de hello.</span><span class="sxs-lookup"><span data-stu-id="4b849-151">If you've decided toocreate a separate resource for each role - and perhaps a separate set for each build configuration - then it's easiest toocreate them all in hello Application Insights portal.</span></span> <span data-ttu-id="4b849-152">(Si vous créez un lot des ressources, vous pouvez [automatiser les processus hello](app-insights-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="4b849-152">(If you create resources a lot, you can [automate hello process](app-insights-powershell.md).</span></span>

1. <span data-ttu-id="4b849-153">Bonjour [portail Azure][portal], créez une ressource Application Insights.</span><span class="sxs-lookup"><span data-stu-id="4b849-153">In hello [Azure portal][portal], create a new Application Insights resource.</span></span> <span data-ttu-id="4b849-154">Choisissez ASP.NET comme type d’application.</span><span class="sxs-lookup"><span data-stu-id="4b849-154">For application type, choose ASP.NET app.</span></span> 

    ![Cliquez sur Nouveau > Application Insights](./media/app-insights-cloudservices/01-new.png)
2. <span data-ttu-id="4b849-156">Notez que chaque ressource est identifiée par une clé d’instrumentation.</span><span class="sxs-lookup"><span data-stu-id="4b849-156">Note that each resource is identified by an Instrumentation Key.</span></span> <span data-ttu-id="4b849-157">Vous devrez peut-être cela ultérieurement si vous souhaitez toomanually configurez ou vérifiez la configuration de hello Hello SDK.</span><span class="sxs-lookup"><span data-stu-id="4b849-157">You might need this later if you want toomanually configure or verify hello configuration of hello SDK.</span></span>

    ![Cliquez sur Propriétés, sélectionnez la clé de hello et appuyez sur ctrl + C](./media/app-insights-cloudservices/02-props.png) 

## <a name="set-up-azure-diagnostics-for-each-role"></a><span data-ttu-id="4b849-159">Configurer Diagnostics Azure pour chaque rôle</span><span class="sxs-lookup"><span data-stu-id="4b849-159">Set up Azure Diagnostics for each role</span></span>
<span data-ttu-id="4b849-160">Définissez cette option toomonitor votre application avec Application Insights.</span><span class="sxs-lookup"><span data-stu-id="4b849-160">Set this option toomonitor your app with Application Insights.</span></span> <span data-ttu-id="4b849-161">Pour les rôles web, vous bénéficierez d’alertes, de diagnostics et d’une surveillance des performances, ainsi que de l’analyse de l’utilisation.</span><span class="sxs-lookup"><span data-stu-id="4b849-161">For web roles, this provides performance monitoring, alerts, and diagnostics, as well as usage analysis.</span></span> <span data-ttu-id="4b849-162">Pour d’autres rôles, vous pouvez rechercher et contrôler les diagnostics Azure telles que le redémarrage, les compteurs de performance et les appels tooSystem.Diagnostics.Trace.</span><span class="sxs-lookup"><span data-stu-id="4b849-162">For other roles, you can search and monitor Azure diagnostics such as restart, performance counters, and calls tooSystem.Diagnostics.Trace.</span></span> 

1. <span data-ttu-id="4b849-163">Dans l’Explorateur de solutions Visual Studio, sous &lt;YourCloudService&gt;, rôles, ouvrez les propriétés de hello de chaque rôle.</span><span class="sxs-lookup"><span data-stu-id="4b849-163">In Visual Studio Solution Explorer, under &lt;YourCloudService&gt;, Roles, open hello properties of each role.</span></span>
2. <span data-ttu-id="4b849-164">Dans **Configuration**, définissez **envoyer des données de diagnostics tooApplication Insights** et sélectionnez hello ressources Application Insights approprié que vous avez créé précédemment.</span><span class="sxs-lookup"><span data-stu-id="4b849-164">In **Configuration**, set **Send diagnostics data tooApplication Insights** and select hello appropriate Application Insights resource that you created earlier.</span></span>

<span data-ttu-id="4b849-165">Si vous avez décidé de toouse une ressource Application Insights distincte pour chaque configuration de build, sélectionnez d’abord la configuration de hello.</span><span class="sxs-lookup"><span data-stu-id="4b849-165">If you have decided toouse a separate Application Insights resource for each build configuration, select hello configuration first.</span></span>

![Dans Propriétés de hello de chaque rôle Azure, configurer Application Insights](./media/app-insights-cloudservices/configure-azure-diagnostics.png)

<span data-ttu-id="4b849-167">Cela a pour effet hello d’insertion de vos clés d’instrumentation Application Insights dans les fichiers hello nommés `ServiceConfiguration.*.cscfg`.</span><span class="sxs-lookup"><span data-stu-id="4b849-167">This has hello effect of inserting your Application Insights instrumentation keys into hello files named `ServiceConfiguration.*.cscfg`.</span></span> <span data-ttu-id="4b849-168">([Exemple de code](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/AzureEmailService/ServiceConfiguration.Cloud.cscfg)).</span><span class="sxs-lookup"><span data-stu-id="4b849-168">([Sample code](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/AzureEmailService/ServiceConfiguration.Cloud.cscfg)).</span></span>

<span data-ttu-id="4b849-169">Si vous souhaitez que le niveau de hello toovary des informations de diagnostic envoyées tooApplication Insights, vous pouvez le faire [en modifiant hello `.cscfg` directement les fichiers](app-insights-azure-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="4b849-169">If you want toovary hello level of diagnostic information sent tooApplication Insights, you can do so [by editing hello `.cscfg` files directly](app-insights-azure-diagnostics.md).</span></span>

## <span data-ttu-id="4b849-170"><a name="sdk"></a>Installer hello SDK dans chaque projet.</span><span class="sxs-lookup"><span data-stu-id="4b849-170"><a name="sdk"></a>Install hello SDK in each project</span></span>
<span data-ttu-id="4b849-171">Cette option ajoute hello capacité tooadd personnalisé télémétrie tooany rôle d’entreprise, pour une analyse plus approfondie de la façon dont votre application est utilisée et qu’il exécute.</span><span class="sxs-lookup"><span data-stu-id="4b849-171">This option adds hello ability tooadd custom business telemetry tooany role, for a closer analysis of how your application is used and performs.</span></span>

<span data-ttu-id="4b849-172">Dans Visual Studio, configurez hello Application Insights SDK pour chaque projet d’application cloud.</span><span class="sxs-lookup"><span data-stu-id="4b849-172">In Visual Studio, configure hello Application Insights SDK for each cloud app project.</span></span>

1. <span data-ttu-id="4b849-173">**Rôles Web**: droit hello projet, puis choisissez **configurer Application Insights** ou **Ajouter > données de télémétrie Application Insights**.</span><span class="sxs-lookup"><span data-stu-id="4b849-173">**Web roles**: Right-click hello project and choose **Configure Application Insights** or **Add > Application Insights telemetry**.</span></span>

2. <span data-ttu-id="4b849-174">**Rôles de travail** :</span><span class="sxs-lookup"><span data-stu-id="4b849-174">**Worker roles**:</span></span> 
 * <span data-ttu-id="4b849-175">Droit hello projet, puis sélectionnez **gérer les Packages Nuget**.</span><span class="sxs-lookup"><span data-stu-id="4b849-175">Right-click hello project and select **Manage Nuget Packages**.</span></span>
 * <span data-ttu-id="4b849-176">Ajoutez [Application Insights pour les serveurs Windows](https://www.nuget.org/packages/Microsoft.ApplicationInsights.WindowsServer/).</span><span class="sxs-lookup"><span data-stu-id="4b849-176">Add [Application Insights for Windows Servers](https://www.nuget.org/packages/Microsoft.ApplicationInsights.WindowsServer/).</span></span>

    ![Recherchez « Application Insights »](./media/app-insights-cloudservices/04-ai-nuget.png)

3. <span data-ttu-id="4b849-178">Configurer hello SDK toosend données toohello ressource Application Insights.</span><span class="sxs-lookup"><span data-stu-id="4b849-178">Configure hello SDK toosend data toohello Application Insights resource.</span></span>

    <span data-ttu-id="4b849-179">Dans une fonction de démarrage appropriée, définir la clé d’instrumentation hello à partir du paramètre de configuration hello dans le fichier .cscfg de hello :</span><span class="sxs-lookup"><span data-stu-id="4b849-179">In a suitable startup function, set hello instrumentation key from hello configuration setting in hello .cscfg file:</span></span>
 
    ```C#
   
     TelemetryConfiguration.Active.InstrumentationKey = RoleEnvironment.GetConfigurationSettingValue("APPINSIGHTS_INSTRUMENTATIONKEY");
    ```
   
    <span data-ttu-id="4b849-180">Faites cela pour chaque rôle de votre application.</span><span class="sxs-lookup"><span data-stu-id="4b849-180">Do this for each role in your application.</span></span> <span data-ttu-id="4b849-181">Consultez les exemples hello :</span><span class="sxs-lookup"><span data-stu-id="4b849-181">See hello examples:</span></span>
   
   * [<span data-ttu-id="4b849-182">Rôle Web</span><span class="sxs-lookup"><span data-stu-id="4b849-182">Web role</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Global.asax.cs#L27)
   * [<span data-ttu-id="4b849-183">Rôle de travail</span><span class="sxs-lookup"><span data-stu-id="4b849-183">Worker role</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L232)
   * [<span data-ttu-id="4b849-184">Pour les pages Web</span><span class="sxs-lookup"><span data-stu-id="4b849-184">For web pages</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Views/Shared/_Layout.cshtml#L13) 
4. <span data-ttu-id="4b849-185">Ensemble hello ApplicationInsights.config fichier toobe copié toujours répertoire de sortie toohello.</span><span class="sxs-lookup"><span data-stu-id="4b849-185">Set hello ApplicationInsights.config file toobe copied always toohello output directory.</span></span> 
   
    <span data-ttu-id="4b849-186">(Dans le fichier .config de hello, vous verrez message demandant vous tooplace hello clé d’instrumentation il.</span><span class="sxs-lookup"><span data-stu-id="4b849-186">(In hello .config file, you'll see messages asking you tooplace hello instrumentation key there.</span></span> <span data-ttu-id="4b849-187">Toutefois, pour les applications cloud, il est mieux tooset à partir du fichier .cscfg de hello.</span><span class="sxs-lookup"><span data-stu-id="4b849-187">However, for cloud applications it's better tooset it from hello .cscfg file.</span></span> <span data-ttu-id="4b849-188">Cela garantit que hello rôle est correctement identifié dans le portail de hello.)</span><span class="sxs-lookup"><span data-stu-id="4b849-188">This ensures that hello role is correctly identified in hello portal.)</span></span>

#### <a name="run-and-publish-hello-app"></a><span data-ttu-id="4b849-189">Exécuter et publier l’application hello</span><span class="sxs-lookup"><span data-stu-id="4b849-189">Run and publish hello app</span></span>
<span data-ttu-id="4b849-190">Exécutez votre application et connectez-vous à Azure.</span><span class="sxs-lookup"><span data-stu-id="4b849-190">Run your app, and sign into Azure.</span></span> <span data-ttu-id="4b849-191">Ressources d’Application Insights hello ouverts que vous avez créé, et vous verrez des points de données individuels apparaissant dans [recherche](app-insights-diagnostic-search.md), et les données agrégées dans [métrique Explorer](app-insights-metrics-explorer.md).</span><span class="sxs-lookup"><span data-stu-id="4b849-191">Open hello Application Insights resources you created, and you'll see individual data points appearing in [Search](app-insights-diagnostic-search.md), and aggregated data in [Metric Explorer](app-insights-metrics-explorer.md).</span></span> 

<span data-ttu-id="4b849-192">Ajouter plus de télémétrie : voir les sections de hello ci-dessous - et puis publier votre application tooget dynamique diagnostic et utilisation des commentaires.</span><span class="sxs-lookup"><span data-stu-id="4b849-192">Add more telemetry - see hello sections below - and then publish your app tooget live diagnostic and usage feedback.</span></span> 

#### <a name="no-data"></a><span data-ttu-id="4b849-193">Pas de données ?</span><span class="sxs-lookup"><span data-stu-id="4b849-193">No data?</span></span>
* <span data-ttu-id="4b849-194">Ouvrez hello [recherche] [ diagnostic] vignette, toosee des événements individuels.</span><span class="sxs-lookup"><span data-stu-id="4b849-194">Open hello [Search][diagnostic] tile, toosee individual events.</span></span>
* <span data-ttu-id="4b849-195">Utilisez l’application hello, ouvrir des pages différentes, afin qu’il génère des données de télémétrie.</span><span class="sxs-lookup"><span data-stu-id="4b849-195">Use hello application, opening different pages so that it generates some telemetry.</span></span>
* <span data-ttu-id="4b849-196">Attendez quelques secondes, puis cliquez sur Actualiser.</span><span class="sxs-lookup"><span data-stu-id="4b849-196">Wait a few seconds and click Refresh.</span></span>
* <span data-ttu-id="4b849-197">Consultez la rubrique [Résolution des problèmes][qna].</span><span class="sxs-lookup"><span data-stu-id="4b849-197">See [Troubleshooting][qna].</span></span>

## <a name="view-azure-diagnostic-events"></a><span data-ttu-id="4b849-198">Affichage des événements Azure Diagnostics</span><span class="sxs-lookup"><span data-stu-id="4b849-198">View Azure Diagnostic events</span></span>
<span data-ttu-id="4b849-199">Où toofind hello [Azure Diagnostics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) informations dans Application Insights :</span><span class="sxs-lookup"><span data-stu-id="4b849-199">Where toofind hello [Azure Diagnostics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) information in Application Insights:</span></span>

* <span data-ttu-id="4b849-200">Les compteurs de performances s’affichent comme mesures personnalisées.</span><span class="sxs-lookup"><span data-stu-id="4b849-200">Performance counters are displayed as custom metrics.</span></span> 
* <span data-ttu-id="4b849-201">Les journaux des événements Windows s’affichent comme traces et événements personnalisés.</span><span class="sxs-lookup"><span data-stu-id="4b849-201">Windows event logs are shown as traces and custom events.</span></span>
* <span data-ttu-id="4b849-202">Les journaux des applications, les journaux ETW et tous les journaux d’infrastructure des diagnostics s’affichent comme traces.</span><span class="sxs-lookup"><span data-stu-id="4b849-202">Application logs, ETW logs, and any diagnostics infrastructure logs appear as traces.</span></span>

<span data-ttu-id="4b849-203">les compteurs de performances toosee et décomptes d’événements, ouvrez [Metrics Explorer](app-insights-metrics-explorer.md) et ajouter un nouveau graphique :</span><span class="sxs-lookup"><span data-stu-id="4b849-203">toosee performance counters and counts of events, open [Metrics Explorer](app-insights-metrics-explorer.md) and add a new chart:</span></span>

![Données de diagnostics Azure](./media/app-insights-cloudservices/23-wad.png)

<span data-ttu-id="4b849-205">Utilisez [recherche](app-insights-diagnostic-search.md) ou [les requête Analytique](app-insights-analytics-tour.md) toosearch entre hello différents journaux envoyés par les Diagnostics Azure de suivi.</span><span class="sxs-lookup"><span data-stu-id="4b849-205">Use [Search](app-insights-diagnostic-search.md) or an [Analytics query](app-insights-analytics-tour.md) toosearch across hello various trace logs sent by Azure Diagnostics.</span></span> <span data-ttu-id="4b849-206">Par exemple, supposons que vous disposez d’une exception non gérée qui a provoqué un rôle toocrash et le recyclage.</span><span class="sxs-lookup"><span data-stu-id="4b849-206">For example, suppose you have an unhandled exception which caused a Role toocrash and recycle.</span></span> <span data-ttu-id="4b849-207">Ces informations sont inscrive dans hello Application canal de journal des événements Windows.</span><span class="sxs-lookup"><span data-stu-id="4b849-207">That information would show up in hello Application channel of Windows Event Log.</span></span> <span data-ttu-id="4b849-208">Vous pouvez utiliser recherche toolook à hello erreur du journal des événements Windows et obtenir une trace de la pile complète hello pour exception de hello.</span><span class="sxs-lookup"><span data-stu-id="4b849-208">You can use Search toolook at hello Windows Event Log error and get hello full stack trace for hello exception.</span></span> <span data-ttu-id="4b849-209">Qui vous aideront à trouver hello cause première du problème de hello.</span><span class="sxs-lookup"><span data-stu-id="4b849-209">That will help you find hello root cause of hello issue.</span></span>

![Recherche de diagnostics Azure](./media/app-insights-cloudservices/25-wad.png)

## <a name="more-telemetry"></a><span data-ttu-id="4b849-211">Données de télémétrie supplémentaires</span><span class="sxs-lookup"><span data-stu-id="4b849-211">More telemetry</span></span>
<span data-ttu-id="4b849-212">Hello sections ci-dessous montrent comment tooget de télémétrie supplémentaires à partir de différents aspects de votre application.</span><span class="sxs-lookup"><span data-stu-id="4b849-212">hello sections below show how tooget additional telemetry from different aspects of your application.</span></span>

## <a name="track-requests-from-worker-roles"></a><span data-ttu-id="4b849-213">Suivi des demandes des rôles de travail</span><span class="sxs-lookup"><span data-stu-id="4b849-213">Track Requests from Worker roles</span></span>
<span data-ttu-id="4b849-214">Dans les rôles web, module de demandes hello collecte automatiquement des données sur les requêtes HTTP.</span><span class="sxs-lookup"><span data-stu-id="4b849-214">In web roles, hello requests module automatically collects data about HTTP requests.</span></span> <span data-ttu-id="4b849-215">Consultez hello [exemple MVCWebRole](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/MvcWebRole) pour obtenir des exemples de comment vous pouvez substituer le comportement de regroupement par défaut hello.</span><span class="sxs-lookup"><span data-stu-id="4b849-215">See hello [sample MVCWebRole](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/MvcWebRole) for examples of how you can override hello default collection behavior.</span></span> 

<span data-ttu-id="4b849-216">Vous pouvez capturer des performances hello des rôles de tooworker d’appels en effectuant le suivi dans hello même façon que les requêtes HTTP.</span><span class="sxs-lookup"><span data-stu-id="4b849-216">You can capture hello performance of calls tooworker roles by tracking them in hello same way as HTTP requests.</span></span> <span data-ttu-id="4b849-217">Dans Application Insights, type de données de télémétrie hello demande mesure une unité de travail côté serveur nommé qui soit chronométré indépendamment vous réussissent ou échouent.</span><span class="sxs-lookup"><span data-stu-id="4b849-217">In Application Insights, hello Request telemetry type measures a unit of named server-side work that can be timed and can independently succeed or fail.</span></span> <span data-ttu-id="4b849-218">Alors que les requêtes HTTP sont automatiquement capturés par hello SDK, vous pouvez insérer vos propres rôles de tooworker code tootrack demandes.</span><span class="sxs-lookup"><span data-stu-id="4b849-218">While HTTP requests are captured automatically by hello SDK, you can insert your own code tootrack requests tooworker roles.</span></span>

<span data-ttu-id="4b849-219">Consultez hello deux exemples de travail rôles tooreport instrumenté demandes : [WorkerRoleA](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleA) et [WorkerRoleB](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleB)</span><span class="sxs-lookup"><span data-stu-id="4b849-219">See hello two sample worker roles instrumented tooreport requests: [WorkerRoleA](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleA) and [WorkerRoleB](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleB)</span></span>

## <a name="exceptions"></a><span data-ttu-id="4b849-220">Exceptions</span><span class="sxs-lookup"><span data-stu-id="4b849-220">Exceptions</span></span>
<span data-ttu-id="4b849-221">Consultez la rubrique [Analyse des exceptions dans Application Insights](app-insights-asp-net-exceptions.md) pour découvrir comment collecter des exceptions non gérées depuis différents types d'applications Web.</span><span class="sxs-lookup"><span data-stu-id="4b849-221">See [Monitoring Exceptions in Application Insights](app-insights-asp-net-exceptions.md) for information on how you can collect unhandled exceptions from different web application types.</span></span>

<span data-ttu-id="4b849-222">rôle de web d’exemple Hello a MVC5 et API Web 2 contrôleurs.</span><span class="sxs-lookup"><span data-stu-id="4b849-222">hello sample web role has MVC5 and Web API 2 controllers.</span></span> <span data-ttu-id="4b849-223">Hello des exceptions non gérées à partir de hello deux sont capturées par hello suivant gestionnaires :</span><span class="sxs-lookup"><span data-stu-id="4b849-223">hello unhandled exceptions from hello two are captured with hello following handlers:</span></span>

* <span data-ttu-id="4b849-224">[AiHandleErrorAttribute](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiHandleErrorAttribute.cs) configuré [ici](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/FilterConfig.cs#L12) pour les contrôleurs MVC5</span><span class="sxs-lookup"><span data-stu-id="4b849-224">[AiHandleErrorAttribute](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiHandleErrorAttribute.cs) set up [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/FilterConfig.cs#L12) for MVC5 controllers</span></span>
* <span data-ttu-id="4b849-225">[AiWebApiExceptionLogger](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiWebApiExceptionLogger.cs) configuré [ici](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/WebApiConfig.cs#L25) pour les contrôleurs de l’API Web 2</span><span class="sxs-lookup"><span data-stu-id="4b849-225">[AiWebApiExceptionLogger](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiWebApiExceptionLogger.cs) set up [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/WebApiConfig.cs#L25) for Web API 2 controllers</span></span>

<span data-ttu-id="4b849-226">Pour les rôles de travail, voici deux façons tootrack exceptions :</span><span class="sxs-lookup"><span data-stu-id="4b849-226">For worker roles, there are two ways tootrack exceptions:</span></span>

* <span data-ttu-id="4b849-227">TrackException(ex)</span><span class="sxs-lookup"><span data-stu-id="4b849-227">TrackException(ex)</span></span>
* <span data-ttu-id="4b849-228">Si vous avez ajouté le package NuGet écouteur hello Application Insights trace, vous pouvez utiliser **System.Diagnostics.Trace** toolog exceptions.</span><span class="sxs-lookup"><span data-stu-id="4b849-228">If you have added hello Application Insights trace listener NuGet package, you can use **System.Diagnostics.Trace** toolog exceptions.</span></span> [<span data-ttu-id="4b849-229">Exemple de code.</span><span class="sxs-lookup"><span data-stu-id="4b849-229">Code example.</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L107)

## <a name="performance-counters"></a><span data-ttu-id="4b849-230">Compteurs de performance</span><span class="sxs-lookup"><span data-stu-id="4b849-230">Performance Counters</span></span>
<span data-ttu-id="4b849-231">Hello suivant les compteurs est recueillis par défaut :</span><span class="sxs-lookup"><span data-stu-id="4b849-231">hello following counters are collected by default:</span></span>

    * <span data-ttu-id="4b849-232">\Processus(??APP_WIN32_PROC??)\% Temps processeur</span><span class="sxs-lookup"><span data-stu-id="4b849-232">\Process(??APP_WIN32_PROC??)\% Processor Time</span></span>
    * <span data-ttu-id="4b849-233">\Memory\Octets disponibles</span><span class="sxs-lookup"><span data-stu-id="4b849-233">\Memory\Available Bytes</span></span>
    * <span data-ttu-id="4b849-234">\.Exceptions .NET CLR(??APP_CLR_PROC??)\# Nombre d'exceptions levées/s</span><span class="sxs-lookup"><span data-stu-id="4b849-234">\.NET CLR Exceptions(??APP_CLR_PROC??)\# of Exceps Thrown / sec</span></span>
    * <span data-ttu-id="4b849-235">\Processus(??APP_WIN32_PROC??)\Octets privés</span><span class="sxs-lookup"><span data-stu-id="4b849-235">\Process(??APP_WIN32_PROC??)\Private Bytes</span></span>
    * <span data-ttu-id="4b849-236">\Processus(??APP_WIN32_PROC??)\Nombre d’octets de données E/S par s</span><span class="sxs-lookup"><span data-stu-id="4b849-236">\Process(??APP_WIN32_PROC??)\IO Data Bytes/sec</span></span>
    * <span data-ttu-id="4b849-237">\Processus(_Total)\% Temps processeur</span><span class="sxs-lookup"><span data-stu-id="4b849-237">\Processor(_Total)\% Processor Time</span></span>

<span data-ttu-id="4b849-238">Pour les rôles web, ces compteurs sont également collectés :</span><span class="sxs-lookup"><span data-stu-id="4b849-238">For web roles, these counters are also collected:</span></span>

    * <span data-ttu-id="4b849-239">\Applications ASP.NET(??APP_W3SVC_PROC??)\Demandes/s</span><span class="sxs-lookup"><span data-stu-id="4b849-239">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests/Sec</span></span>
    * <span data-ttu-id="4b849-240">\Applications ASP.NET (??APP_W3SVC_PROC??)\Durée d’exécution de la demande</span><span class="sxs-lookup"><span data-stu-id="4b849-240">\ASP.NET Applications(??APP_W3SVC_PROC??)\Request Execution Time</span></span>
    * <span data-ttu-id="4b849-241">\Applications ASP.NET (??APP_W3SVC_PROC??)\Demandes dans la file d’attente d’application</span><span class="sxs-lookup"><span data-stu-id="4b849-241">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests In Application Queue</span></span>

<span data-ttu-id="4b849-242">Vous pouvez spécifier des compteurs personnalisés ou d’autres compteurs de performances Windows en modifiant ApplicationInsights.config [comme dans cet exemple](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/ApplicationInsights.config#L14).</span><span class="sxs-lookup"><span data-stu-id="4b849-242">You can specify additional custom or other windows performance counters by editing ApplicationInsights.config [as in this example](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/ApplicationInsights.config#L14).</span></span>

  ![Compteurs de performances](./media/app-insights-cloudservices/OLfMo2f.png)

## <a name="correlated-telemetry-for-worker-roles"></a><span data-ttu-id="4b849-244">Télémétrie liée aux rôles de travail</span><span class="sxs-lookup"><span data-stu-id="4b849-244">Correlated Telemetry for Worker Roles</span></span>
<span data-ttu-id="4b849-245">Il est une expérience enrichie de diagnostic, lorsque vous voyez les DEL tooa a échoué ou la demande d’une latence élevée.</span><span class="sxs-lookup"><span data-stu-id="4b849-245">It is a rich diagnostic experience, when you can see what led tooa failed or high latency request.</span></span> <span data-ttu-id="4b849-246">Avec les rôles web, hello entre que SDK configure automatiquement la corrélation une télémétrie associée.</span><span class="sxs-lookup"><span data-stu-id="4b849-246">With web roles, hello SDK automatically sets up correlation between related telemetry.</span></span> <span data-ttu-id="4b849-247">Pour les rôles de travail, vous pouvez utiliser un tooset d’initialiseur de télémétrie personnalisée un attribut de contexte Operation.Id commun pour toutes les tooachieve de télémétrie hello ce cela.</span><span class="sxs-lookup"><span data-stu-id="4b849-247">For worker roles, you can use a custom telemetry initializer tooset a common Operation.Id context attribute for all hello telemetry tooachieve this.</span></span> <span data-ttu-id="4b849-248">Cela vous permet de toosee si hello était dû latence/échec en raison de la dépendance de tooa ou de votre code en un clin de œil !</span><span class="sxs-lookup"><span data-stu-id="4b849-248">This allows you toosee whether hello latency/failure issue was caused due tooa dependency or your code, at a glance!</span></span> 

<span data-ttu-id="4b849-249">Voici comment procéder :</span><span class="sxs-lookup"><span data-stu-id="4b849-249">Here's how:</span></span>

* <span data-ttu-id="4b849-250">Définir l’Id de corrélation hello dans un CallContext comme [ici](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L36).</span><span class="sxs-lookup"><span data-stu-id="4b849-250">Set hello correlation Id into a CallContext as shown [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L36).</span></span> <span data-ttu-id="4b849-251">Dans ce cas, nous utilisons hello ID de la demande en tant qu’id de corrélation hello</span><span class="sxs-lookup"><span data-stu-id="4b849-251">In this case, we are using hello Request ID as hello correlation id</span></span>
* <span data-ttu-id="4b849-252">Ajouter une implémentation personnalisée de TelemetryInitializer, tooset hello Operation.Id toohello correlationId ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="4b849-252">Add a custom TelemetryInitializer implementation, tooset hello Operation.Id toohello correlationId set above.</span></span> <span data-ttu-id="4b849-253">Voici un exemple : [ItemCorrelationTelemetryInitializer](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/Telemetry/ItemCorrelationTelemetryInitializer.cs#L13)</span><span class="sxs-lookup"><span data-stu-id="4b849-253">There's an example here: [ItemCorrelationTelemetryInitializer](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/Telemetry/ItemCorrelationTelemetryInitializer.cs#L13)</span></span>
* <span data-ttu-id="4b849-254">Ajouter un initialiseur de télémétrie personnalisée hello.</span><span class="sxs-lookup"><span data-stu-id="4b849-254">Add hello custom telemetry initializer.</span></span> <span data-ttu-id="4b849-255">Vous pouvez le faire dans le fichier ApplicationInsights.config de hello, ou dans le code comme indiqué [ici](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L233)</span><span class="sxs-lookup"><span data-stu-id="4b849-255">You could do that in hello ApplicationInsights.config file, or in code as shown [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L233)</span></span>

<span data-ttu-id="4b849-256">Et voilà !</span><span class="sxs-lookup"><span data-stu-id="4b849-256">That's it!</span></span> <span data-ttu-id="4b849-257">utilisation du portail Hello est déjà associée toohelp que vous voyez toutes les données de télémétrie en un coup de œil :</span><span class="sxs-lookup"><span data-stu-id="4b849-257">hello portal experience is already wired up toohelp you see all associated telemetry at a glance:</span></span>

![Télémétrie corrélée](./media/app-insights-cloudservices/bHxuUhd.png)

## <a name="client-telemetry"></a><span data-ttu-id="4b849-259">Télémétrie client</span><span class="sxs-lookup"><span data-stu-id="4b849-259">Client telemetry</span></span>
<span data-ttu-id="4b849-260">[Ajouter hello des pages web SDK JavaScript tooyour] [ client] tooget basée sur navigateur télémétrie telles que les chiffres de consultation de page, les temps de chargement de page, les exceptions de script et toolet vous écrivez une télémétrie personnalisée dans vos scripts de la page.</span><span class="sxs-lookup"><span data-stu-id="4b849-260">[Add hello JavaScript SDK tooyour web pages][client] tooget browser-based telemetry such as page view counts, page load times, script exceptions, and toolet you write custom telemetry in your page scripts.</span></span>

## <a name="availability-tests"></a><span data-ttu-id="4b849-261">Tests de disponibilité</span><span class="sxs-lookup"><span data-stu-id="4b849-261">Availability tests</span></span>
<span data-ttu-id="4b849-262">[Configurer des tests web] [ availability] toomake que votre application reste en direct et réactives.</span><span class="sxs-lookup"><span data-stu-id="4b849-262">[Set up web tests][availability] toomake sure your application stays live and responsive.</span></span>

## <a name="display-everything-together"></a><span data-ttu-id="4b849-263">Afficher tous les éléments ensemble</span><span class="sxs-lookup"><span data-stu-id="4b849-263">Display everything together</span></span>
<span data-ttu-id="4b849-264">tooget une vue d’ensemble de votre système, vous pouvez intégrer des graphiques d’analyse ensemble sur l’une clés de hello [tableau de bord](app-insights-dashboards.md).</span><span class="sxs-lookup"><span data-stu-id="4b849-264">tooget an overall picture of your system, you can bring hello key monitoring charts together on one [dashboard](app-insights-dashboards.md).</span></span> <span data-ttu-id="4b849-265">Par exemple, vous pourriez épingler les demande hello et décompte des échecs de chaque rôle.</span><span class="sxs-lookup"><span data-stu-id="4b849-265">For example, you could pin hello request and failure counts of each role.</span></span> 

<span data-ttu-id="4b849-266">Si votre système utilise d’autres services Azure tels que Stream Analytics, incluez également leurs graphiques de surveillance.</span><span class="sxs-lookup"><span data-stu-id="4b849-266">If your system uses other Azure services such as Stream Analytics, include their monitoring charts as well.</span></span> 

<span data-ttu-id="4b849-267">Si vous avez une application mobile client, insérer certains événements personnalisés toosend de code sur les opérations de clé utilisateur et créer un [HockeyApp pont](app-insights-hockeyapp-bridge-app.md).</span><span class="sxs-lookup"><span data-stu-id="4b849-267">If you have a client mobile app, insert some code toosend custom events on key user operations, and create a [HockeyApp bridge](app-insights-hockeyapp-bridge-app.md).</span></span> <span data-ttu-id="4b849-268">Créer des requêtes dans [Analytique](app-insights-analytics.md) toodisplay hello du nombre d’événements et les épingler un tableau de bord toohello.</span><span class="sxs-lookup"><span data-stu-id="4b849-268">Create queries in [Analytics](app-insights-analytics.md) toodisplay hello event counts, and pin them toohello dashboard.</span></span>

## <a name="example"></a><span data-ttu-id="4b849-269">Exemple</span><span class="sxs-lookup"><span data-stu-id="4b849-269">Example</span></span>
<span data-ttu-id="4b849-270">[exemple de Hello](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) surveille un service qui a un rôle web et deux rôles de travail.</span><span class="sxs-lookup"><span data-stu-id="4b849-270">[hello example](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) monitors a service that has a web role and two worker roles.</span></span>

## <a name="exception-method-not-found-on-running-in-azure-cloud-services"></a><span data-ttu-id="4b849-271">Exception « méthode introuvable » lors de l’exécution dans Services cloud Azure</span><span class="sxs-lookup"><span data-stu-id="4b849-271">Exception "method not found" on running in Azure Cloud Services</span></span>
<span data-ttu-id="4b849-272">Avez-vous effectué une génération pour .NET 4.6 ?</span><span class="sxs-lookup"><span data-stu-id="4b849-272">Did you build for .NET 4.6?</span></span> <span data-ttu-id="4b849-273">4.6 n’est pas automatiquement pris en charge dans les rôles Azure Cloud Services.</span><span class="sxs-lookup"><span data-stu-id="4b849-273">4.6 is not automatically supported in Azure Cloud Services roles.</span></span> <span data-ttu-id="4b849-274">[Installez la version 4.6 sur chaque rôle](../cloud-services/cloud-services-dotnet-install-dotnet.md) avant d’exécuter votre application.</span><span class="sxs-lookup"><span data-stu-id="4b849-274">[Install 4.6 on each role](../cloud-services/cloud-services-dotnet-install-dotnet.md) before running your app.</span></span>

## <a name="video"></a><span data-ttu-id="4b849-275">Vidéo</span><span class="sxs-lookup"><span data-stu-id="4b849-275">Video</span></span>

> [!VIDEO https://channel9.msdn.com/events/Connect/2016/100/player]

## <a name="next-steps"></a><span data-ttu-id="4b849-276">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="4b849-276">Next steps</span></span>
* [<span data-ttu-id="4b849-277">Configurer l’envoi de Diagnostics Azure tooApplication Insights</span><span class="sxs-lookup"><span data-stu-id="4b849-277">Configure sending Azure Diagnostics tooApplication Insights</span></span>](app-insights-azure-diagnostics.md)
* [<span data-ttu-id="4b849-278">Automatiser la création des ressources Application Insights</span><span class="sxs-lookup"><span data-stu-id="4b849-278">Automate creation of Application Insights resources</span></span>](app-insights-powershell.md)
* [<span data-ttu-id="4b849-279">Automatiser les diagnostics Azure</span><span class="sxs-lookup"><span data-stu-id="4b849-279">Automate Azure diagnostics</span></span>](app-insights-powershell-azure-diagnostics.md)
* [<span data-ttu-id="4b849-280">Azure Functions</span><span class="sxs-lookup"><span data-stu-id="4b849-280">Azure Functions</span></span>](https://github.com/christopheranderson/azure-functions-app-insights-sample)

[api]: app-insights-api-custom-events-metrics.md
[availability]: app-insights-monitor-web-app-availability.md
[azure]: app-insights-azure.md
[client]: app-insights-javascript.md
[diagnostic]: app-insights-diagnostic-search.md
[netlogs]: app-insights-asp-net-trace-logs.md
[portal]: http://portal.azure.com/
[qna]: app-insights-troubleshoot-faq.md
[redfield]: app-insights-monitor-performance-live-website-now.md
[start]: app-insights-overview.md 
