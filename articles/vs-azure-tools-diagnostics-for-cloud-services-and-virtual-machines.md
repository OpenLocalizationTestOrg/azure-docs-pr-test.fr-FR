---
title: Configuration de Diagnostics pour les services cloud et les machines virtuelles Azure | Microsoft Docs
description: "Décrit comment configurer les informations de diagnostic pour le débogage des services cloud Azure et des machines virtuelles dans Visual Studio."
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: e70cd7b4-6298-43aa-adea-6fd618414c26
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 11/11/2016
ms.author: kraigb
ms.openlocfilehash: 2516c0eb8ce470577731db9b844d5b9038465477
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/29/2017
---
# <a name="configuring-diagnostics-for-azure-cloud-services-and-virtual-machines"></a><span data-ttu-id="46938-103">Configuration de Diagnostics pour les services cloud et les machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="46938-103">Configuring Diagnostics for Azure Cloud Services and Virtual Machines</span></span>
<span data-ttu-id="46938-104">Lorsque vous devez dépanner un service cloud ou une machine virtuelle Azure, vous pouvez configurer les diagnostics Azure plus facilement à l’aide de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="46938-104">When you need to troubleshoot an Azure cloud service or Azure virtual machine, you can configure Azure diagnostics more easily by using Visual Studio.</span></span> <span data-ttu-id="46938-105">Le service diagnostics Azure capture les données système et les données de journalisation sur les machines virtuelles et instances de machine virtuelle qui exécutent votre service cloud, puis les transfère vers un compte de stockage de votre choix.</span><span class="sxs-lookup"><span data-stu-id="46938-105">Azure diagnostics captures system data and logging data on the virtual machines and virtual machine instances that run your cloud service and transfers that data into a storage account of your choice.</span></span> <span data-ttu-id="46938-106">Pour plus d’informations sur la journalisation des diagnostics dans Azure, consultez [Activer la journalisation des diagnostics pour les applications web dans Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md).</span><span class="sxs-lookup"><span data-stu-id="46938-106">See [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) for more information about diagnostics logging in Azure.</span></span>

<span data-ttu-id="46938-107">Cette rubrique explique comment activer et configurer le service diagnostics Azure dans Visual Studio, avant et après le déploiement, ainsi que sur des machines virtuelles Azure.</span><span class="sxs-lookup"><span data-stu-id="46938-107">This topic shows you how to enable and configure Azure diagnostics in Visual Studio, both before and after deployment, as well as in Azure virtual machines.</span></span> <span data-ttu-id="46938-108">Elle explique également comment sélectionner les types d’informations de diagnostic à collecter et comment les afficher après leur collecte.</span><span class="sxs-lookup"><span data-stu-id="46938-108">It also shows you how to select the types of diagnostics information to collect and how to view the information after it's collected.</span></span>

<span data-ttu-id="46938-109">Vous pouvez configurer les diagnostics Azure comme suit :</span><span class="sxs-lookup"><span data-stu-id="46938-109">You can configure Azure Diagnostics in the following ways:</span></span>

* <span data-ttu-id="46938-110">Vous pouvez modifier les paramètres de configuration des diagnostics via la boîte de dialogue **Configuration des diagnostics** dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="46938-110">You can change diagnostics configuration settings through the **Diagnostics Configuration** dialog box in Visual Studio.</span></span> <span data-ttu-id="46938-111">Les paramètres sont enregistrés dans un fichier nommé diagnostics.wadcfgx (diagnostics.wadcfg dans le Kit de développement logiciel (SDK) Azure 2.4 ou les versions antérieures).</span><span class="sxs-lookup"><span data-stu-id="46938-111">The settings are saved in a file called diagnostics.wadcfgx (diagnostics.wadcfg in Azure SDK 2.4 or earlier).</span></span> <span data-ttu-id="46938-112">Sinon, vous pouvez modifier directement le fichier de configuration.</span><span class="sxs-lookup"><span data-stu-id="46938-112">Alternatively, you can directly modify the configuration file.</span></span> <span data-ttu-id="46938-113">Si vous mettez le fichier à jour manuellement, les changements de configuration prennent effet lors du déploiement suivant du service cloud sur Azure, ou lors de son exécution dans l’émulateur.</span><span class="sxs-lookup"><span data-stu-id="46938-113">If you manually update the file, the configuration changes will take effect the next time you deploy the cloud service to Azure or run the service in the emulator.</span></span>
* <span data-ttu-id="46938-114">Pour modifier les paramètres des diagnostics pour un service cloud ou une machine virtuelle en cours d’exécution, utilisez **Cloud Explorer** ou l’**Explorateur de serveurs** dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="46938-114">Use **Cloud Explorer** or **Server Explorer** in Visual Studio to change the diagnostics settings for a running cloud service or virtual machine.</span></span>

## <a name="azure-26-diagnostics-changes"></a><span data-ttu-id="46938-115">Modifications apportées aux diagnostics Azure 2.6</span><span class="sxs-lookup"><span data-stu-id="46938-115">Azure 2.6 diagnostics changes</span></span>
<span data-ttu-id="46938-116">Pour les projets du Kit de développement logiciel (SDK) Azure 2.6 dans Visual Studio, les modifications suivantes ont été apportées.</span><span class="sxs-lookup"><span data-stu-id="46938-116">For Azure SDK 2.6 projects in Visual Studio, the following changes were made.</span></span> <span data-ttu-id="46938-117">Ces modifications s’appliquent également aux versions ultérieures du Kit de développement logiciel (SDK) Azure.</span><span class="sxs-lookup"><span data-stu-id="46938-117">(These changes also apply to later versions of Azure SDK.)</span></span>

* <span data-ttu-id="46938-118">L’émulateur local prend désormais en charge les diagnostics.</span><span class="sxs-lookup"><span data-stu-id="46938-118">The local emulator now supports diagnostics.</span></span> <span data-ttu-id="46938-119">Cela signifie que vous pouvez collecter les données de diagnostic et vérifier que votre application crée les traces appropriées lorsque vous développez et testez dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="46938-119">This means you can collect diagnostics data and ensure your application is creating the right traces while you're developing and testing in Visual Studio.</span></span> <span data-ttu-id="46938-120">La chaîne de connexion `UseDevelopmentStorage=true` permet la collecte des données de diagnostic lorsque vous exécutez votre projet de service cloud dans Visual Studio à l’aide de l’émulateur de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="46938-120">The connection string `UseDevelopmentStorage=true` enables diagnostics data collection while you're running your cloud service project in Visual Studio by using the Azure storage emulator.</span></span> <span data-ttu-id="46938-121">Toutes les données de diagnostic sont collectées dans le compte de stockage (stockage de développement).</span><span class="sxs-lookup"><span data-stu-id="46938-121">All diagnostics data is collected in the (Development Storage) storage account.</span></span>
* <span data-ttu-id="46938-122">La chaîne de connexion de compte de stockage des diagnostics (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) est à nouveau stockée dans le fichier de configuration de service (.cscfg).</span><span class="sxs-lookup"><span data-stu-id="46938-122">The diagnostics storage account connection string (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) is stored once again in the service configuration (.cscfg) file.</span></span> <span data-ttu-id="46938-123">Dans le Kit de développement logiciel (SDK) Azure 2.5, le compte de stockage des diagnostics a été spécifié dans le fichier diagnostics.wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="46938-123">In Azure SDK 2.5 the diagnostics storage account was specified in the diagnostics.wadcfgx file.</span></span>

<span data-ttu-id="46938-124">Il existe des différences notables entre la façon dont la chaîne de connexion fonctionnait dans le Kit de développement logiciel (SDK) Azure 2.4 et les versions antérieures, et celle dont elle fonctionne dans le Kit de développement logiciel (SDK) Azure 2.6 et les versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="46938-124">There are some notable differences between how the connection string worked in Azure SDK 2.4 and earlier and how it works in Azure SDK 2.6 and later.</span></span>

* <span data-ttu-id="46938-125">Dans le Kit de développement logiciel (SDK) Azure 2.4 et les versions antérieures, la chaîne de connexion était utilisée comme un runtime par le plug-in des diagnostics pour obtenir les informations du compte de stockage relatives au transfert de journaux de diagnostic.</span><span class="sxs-lookup"><span data-stu-id="46938-125">In Azure SDK 2.4 and earlier, the connection string was used as a runtime by the diagnostics plugin to get the storage account information for transferring diagnostics logs.</span></span>
* <span data-ttu-id="46938-126">Dans le Kit de développement logiciel (SDK) Azure 2.6 et les versions ultérieures, la chaîne de connexion des diagnostics est utilisée par Visual Studio pour configurer l’extension de diagnostics avec les informations de compte de stockage appropriées lors de la publication.</span><span class="sxs-lookup"><span data-stu-id="46938-126">In Azure SDK 2.6 and later, the diagnostics connection string is used by Visual Studio to configure the diagnostics extension with the appropriate storage account information during publishing.</span></span> <span data-ttu-id="46938-127">La chaîne de connexion permet de définir des comptes de stockage différents pour différentes configurations de service que Visual Studio utilise lors de la publication.</span><span class="sxs-lookup"><span data-stu-id="46938-127">The connection string lets you define different storage accounts for different service configurations that Visual Studio will use when publishing.</span></span> <span data-ttu-id="46938-128">Toutefois, étant donné que le plug-in des diagnostics n’est plus disponible (après le Kit de développement logiciel (SDK) Azure 2.5), le fichier .cscfg par lui-même ne peut pas activer l’extension des diagnostics.</span><span class="sxs-lookup"><span data-stu-id="46938-128">However, because the diagnostics plugin is no longer available (after Azure SDK 2.5), the .cscfg file by itself can't enable the Diagnostics Extension.</span></span> <span data-ttu-id="46938-129">Vous devez activer l’extension séparément par le biais d’outils tels que Visual Studio ou PowerShell.</span><span class="sxs-lookup"><span data-stu-id="46938-129">You have to enable the extension separately through tools such as Visual Studio or PowerShell.</span></span>
* <span data-ttu-id="46938-130">Pour simplifier le processus de configuration de l’extension des diagnostics avec PowerShell, la sortie du package à partir de Visual Studio contient également les fichiers XML de configuration publique pour l’extension des diagnostics pour chaque rôle.</span><span class="sxs-lookup"><span data-stu-id="46938-130">To simplify the process of configuring the diagnostics extension with PowerShell, the package output from Visual Studio also contains the public configuration XML for the diagnostics extension for each role.</span></span> <span data-ttu-id="46938-131">Visual Studio utilise la chaîne de connexion des diagnostics pour renseigner les informations de compte de stockage présentes dans la configuration publique.</span><span class="sxs-lookup"><span data-stu-id="46938-131">Visual Studio uses the diagnostics connection string to populate the storage account information present in the public configuration.</span></span> <span data-ttu-id="46938-132">Les fichiers de configuration publique sont créés dans le dossier Extensions et suivent le modèle PaaSDiagnostics.&lt;RoleName>.PubConfig.xml.</span><span class="sxs-lookup"><span data-stu-id="46938-132">The public config files are created in the Extensions folder and follow the pattern PaaSDiagnostics.&lt;RoleName>.PubConfig.xml.</span></span> <span data-ttu-id="46938-133">Tout déploiement basé sur PowerShell peut utiliser ce modèle pour mapper chaque configuration à un rôle.</span><span class="sxs-lookup"><span data-stu-id="46938-133">Any PowerShell based deployments can use this pattern to map each configuration to a Role.</span></span>
* <span data-ttu-id="46938-134">La chaîne de connexion dans le fichier .cscfg est également utilisée par le [portail Azure](http://go.microsoft.com/fwlink/p/?LinkID=525040) pour accéder aux données de diagnostic afin de pouvoir les intégrer sous l’onglet **Analyse** . La chaîne de connexion est nécessaire pour configurer le service afin qu’il affiche les données d’analyse détaillées dans le portail.</span><span class="sxs-lookup"><span data-stu-id="46938-134">The connection string in the .cscfg file is also used by the [Azure portal](http://go.microsoft.com/fwlink/p/?LinkID=525040) to access the diagnostics data so it can appear in the **Monitoring** tab. The connection string is needed to configure the service to show verbose monitoring data in the portal.</span></span>

## <a name="migrating-projects-to-azure-sdk-26-and-later"></a><span data-ttu-id="46938-135">Migration de projets vers le Kit de développement logiciel (SDK) Azure 2.6 et les versions ultérieures</span><span class="sxs-lookup"><span data-stu-id="46938-135">Migrating projects to Azure SDK 2.6 and later</span></span>
<span data-ttu-id="46938-136">Lors d’une migration du Kit de développement logiciel (SDK) Azure 2.5 vers le Kit de développement logiciel (SDK) Azure 2.6 ou les versions ultérieures, si vous avez un compte de stockage des diagnostics spécifié dans le fichier .wadcfgx, il y reste.</span><span class="sxs-lookup"><span data-stu-id="46938-136">When migrating from Azure SDK 2.5 to Azure SDK 2.6 or later, if you had a diagnostics storage account specified in the .wadcfgx file, then it will stay there.</span></span> <span data-ttu-id="46938-137">Pour tirer parti de la souplesse que représente l’utilisation de différents comptes de stockage pour différentes configurations de stockage, vous devez ajouter manuellement la chaîne de connexion à votre projet.</span><span class="sxs-lookup"><span data-stu-id="46938-137">To take advantage of the flexibility of using different storage accounts for different storage configurations, you'll have to manually add the connection string to your project.</span></span> <span data-ttu-id="46938-138">Si vous migrez un projet à partir d'Azure SDK 2.4 ou d’une version antérieure vers Azure SDK 2.6, les chaînes de connexion de diagnostic sont conservées.</span><span class="sxs-lookup"><span data-stu-id="46938-138">If you're migrating a project from Azure SDK 2.4 or earlier to Azure SDK 2.6, then the diagnostics connection strings are preserved.</span></span> <span data-ttu-id="46938-139">Toutefois, notez les modifications apportées à la manière dont les chaînes de connexion sont traitées dans le Kit de développement logiciel (SDK) Azure 2.6, comme spécifié dans la section précédente.</span><span class="sxs-lookup"><span data-stu-id="46938-139">However, please note the changes in how connection strings are treated in Azure SDK 2.6 as specified in the previous section.</span></span>

### <a name="how-visual-studio-determines-the-diagnostics-storage-account"></a><span data-ttu-id="46938-140">Détermination du compte de stockage des diagnostics par Visual Studio</span><span class="sxs-lookup"><span data-stu-id="46938-140">How Visual Studio determines the diagnostics storage account</span></span>
* <span data-ttu-id="46938-141">Si une chaîne de connexion des diagnostics est spécifiée dans le fichier .cscfg, Visual Studio l’utilise pour configurer l’extension des diagnostics lors de la publication et lors de la génération des fichiers xml de configuration publique durant l’empaquetage.</span><span class="sxs-lookup"><span data-stu-id="46938-141">If a diagnostics connection string is specified in the .cscfg file, Visual Studio uses it to configure the diagnostics extension when publishing, and when generating the public configuration xml files during packaging.</span></span>
* <span data-ttu-id="46938-142">Si aucune chaîne de connexion des diagnostics n’est spécifiée dans le fichier .cscfg, Visual Studio utilise à nouveau le compte de stockage spécifié dans le fichier .wadcfgx pour configurer l’extension des diagnostics lors de la publication et de la génération des fichiers xml de configuration publique durant l’empaquetage.</span><span class="sxs-lookup"><span data-stu-id="46938-142">If no diagnostics connection string is specified in the .cscfg file, then Visual Studio falls back to using the storage account specified in the .wadcfgx file to configure the diagnostics extension when publishing, and generating the public configuration xml files when packaging.</span></span>
* <span data-ttu-id="46938-143">La chaîne de connexion des diagnostics dans le fichier .cscfg est prioritaire sur le compte de stockage dans le fichier .wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="46938-143">The diagnostics connection string in the .cscfg file takes precedence over the storage account in the .wadcfgx file.</span></span> <span data-ttu-id="46938-144">Si une chaîne de connexion des diagnostics est spécifiée dans le fichier .cscfg, Visual Studio l’utilise et ignore le compte de stockage dans .wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="46938-144">If a diagnostics connection string is specified in the .cscfg file, then Visual Studio uses that and ignores the storage account in .wadcfgx.</span></span>

### <a name="what-does-the-update-development-storage-connection-strings-checkbox-do"></a><span data-ttu-id="46938-145">Quel est le rôle de la case à cocher « Mettre à jour les chaînes de connexion du stockage de développement…»</span><span class="sxs-lookup"><span data-stu-id="46938-145">What does the "Update development storage connection strings…"</span></span> <span data-ttu-id="46938-146"> ?</span><span class="sxs-lookup"><span data-stu-id="46938-146">checkbox do?</span></span>
<span data-ttu-id="46938-147">La case à cocher **Mettre à jour les chaînes de connexion de stockage de développement pour les diagnostics et la mise en cache avec les informations d’identification du compte de stockage Microsoft Azure lors de la publication vers Microsoft Azure** offre un moyen pratique pour mettre à jour toute chaîne de connexion de compte de stockage de développement avec le compte de stockage Azure spécifié lors de la publication.</span><span class="sxs-lookup"><span data-stu-id="46938-147">The checkbox for **Update development storage connection strings for Diagnostics and Caching with Microsoft Azure storage account credentials when publishing to Microsoft Azure** gives you a convenient way to update any development storage account connection strings with the Azure storage account specified during publishing.</span></span>

<span data-ttu-id="46938-148">Par exemple, supposons que vous activiez cette case à cocher et que la chaîne de connexion des diagnostics spécifie `UseDevelopmentStorage=true`.</span><span class="sxs-lookup"><span data-stu-id="46938-148">For example, suppose you select this checkbox and the diagnostics connection string specifies `UseDevelopmentStorage=true`.</span></span> <span data-ttu-id="46938-149">Lorsque vous publiez le projet sur Azure, Visual Studio met automatiquement à jour la chaîne de connexion des diagnostics avec le compte de stockage que vous avez spécifié dans l’Assistant Publication.</span><span class="sxs-lookup"><span data-stu-id="46938-149">When you publish the project to Azure, Visual Studio will automatically update the diagnostics connection string with the storage account you specified in the Publish wizard.</span></span> <span data-ttu-id="46938-150">Toutefois, si un compte de stockage réel a été spécifié comme chaîne de connexion des diagnostics, ce compte est utilisé à la place.</span><span class="sxs-lookup"><span data-stu-id="46938-150">However, if a real storage account was specified as the diagnostics connection string, then that account is used instead.</span></span>

## <a name="diagnostics-functionality-differences-between-azure-sdk-24-and-earlier-and-azure-sdk-25-and-later"></a><span data-ttu-id="46938-151">Différences entre les fonctionnalités de diagnostics du Kit de développement logiciel (SDK) Azure 2.4 et les versions antérieures et du Kit de développement logiciel (SDK) Azure 2.5 et les versions ultérieures</span><span class="sxs-lookup"><span data-stu-id="46938-151">Diagnostics functionality differences between Azure SDK 2.4 and earlier and Azure SDK 2.5 and later</span></span>
<span data-ttu-id="46938-152">Si vous mettez à niveau votre projet du Kit de développement logiciel (SDK) Azure 2.4 vers le Kit de développement logiciel (SDK) Azure 2.5 ou les versions ultérieures, vous devez garder à l’esprit les différences existant entre les fonctionnalités de diagnostics suivantes.</span><span class="sxs-lookup"><span data-stu-id="46938-152">If you're upgrading your project from Azure SDK 2.4 to Azure SDK 2.5 or later, you should bear in mind the following diagnostics functionality differences.</span></span>

* <span data-ttu-id="46938-153">**Les API de configuration sont déconseillées** : la configuration par programmation des diagnostics est disponible dans le Kit de développement logiciel (SDK) Azure 2.4 ou les versions antérieures, mais déconseillée dans le Kit de développement logiciel (SDK) Azure 2.5 et les versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="46938-153">**Configuration APIs are deprecated** – Programmatic configuration of diagnostics is available in Azure SDK 2.4 or earlier versions, but is deprecated in Azure SDK 2.5 and later.</span></span> <span data-ttu-id="46938-154">Si votre configuration des diagnostics est actuellement définie dans un code, vous devez reconfigurer ces paramètres à partir de rien dans le projet migré, afin que les diagnostics continuent à fonctionner.</span><span class="sxs-lookup"><span data-stu-id="46938-154">If your diagnostics configuration is currently defined in code, you'll need to reconfigure those settings from scratch in the migrated project in order for diagnostics to keep working.</span></span> <span data-ttu-id="46938-155">Le nom du fichier de configuration des diagnostics est diagnostics.wadcfg dans le Kit de développement logiciel (SDK) Azure 2.4 et diagnostics.wadcfgx dans le Kit de développement logiciel (SDK) Azure 2.5 et les versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="46938-155">The diagnostics configuration file for Azure SDK 2.4 is diagnostics.wadcfg, and diagnostics.wadcfgx for Azure SDK 2.5 and later.</span></span>
* <span data-ttu-id="46938-156">**Les diagnostics pour les applications du service cloud peuvent uniquement être configurés au niveau du rôle, pas au niveau de l’instance.**</span><span class="sxs-lookup"><span data-stu-id="46938-156">**Diagnostics for cloud service applications can only be configured at the role level, not at the instance level.**</span></span>
* <span data-ttu-id="46938-157">**Chaque fois que vous déployez votre application, la configuration des diagnostics est mise à jour** : cela peut occasionner des problèmes de parité si vous modifiez votre configuration des diagnostics à partir de l’Explorateur de serveurs, puis redéployez votre application.</span><span class="sxs-lookup"><span data-stu-id="46938-157">**Every time you deploy your app, the diagnostics configuration is updated** – This can cause parity issues if you change your diagnostics configuration from Server Explorer and then redeploy your app.</span></span>
* <span data-ttu-id="46938-158">**Dans le Kit de développement logiciel (SDK) Azure 2.5 et les versions ultérieures, les vidages sur incident sont configurés dans le fichier de configuration des diagnostics, pas dans le code** : si vous avez des vidages sur incident configurés dans le code, vous devez transférer la configuration manuellement du code vers le fichier de configuration, car les vidages sur incident ne sont pas transférés durant la migration vers le Kit de développement logiciel (SDK) Azure 2.6.</span><span class="sxs-lookup"><span data-stu-id="46938-158">**In Azure SDK 2.5 and later, crash dumps are configured in the diagnostics configuration file, not in code** – If you have crash dumps configured in code, you'll have to manually transfer the configuration from code to the configuration file, because the crash dumps aren't transferred during the migration to Azure SDK 2.6.</span></span>

## <a name="enable-diagnostics-in-cloud-service-projects-before-deploying-them"></a><span data-ttu-id="46938-159">Activation des diagnostics dans les projets de service cloud avant leur déploiement</span><span class="sxs-lookup"><span data-stu-id="46938-159">Enable diagnostics in cloud service projects before deploying them</span></span>
<span data-ttu-id="46938-160">Dans Visual Studio, vous pouvez choisir de recueillir des données de diagnostic pour des rôles exécutés dans Azure, lorsque vous exécutez le service dans l’émulateur avant le déploiement du service.</span><span class="sxs-lookup"><span data-stu-id="46938-160">In Visual Studio, you can choose to collect diagnostics data for roles that run in Azure, when you run the service in the emulator before deploying it.</span></span> <span data-ttu-id="46938-161">Toutes les modifications apportées aux paramètres de diagnostic dans Visual Studio sont enregistrées dans le fichier de configuration diagnostics.wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="46938-161">All changes to diagnostics settings in Visual Studio are saved in the diagnostics.wadcfgx configuration file.</span></span> <span data-ttu-id="46938-162">Ces paramètres de configuration spécifient le compte de stockage où les données de diagnostic sont enregistrées lorsque vous déployez votre service cloud.</span><span class="sxs-lookup"><span data-stu-id="46938-162">These configuration settings specify the storage account where diagnostics data is saved when you deploy your cloud service.</span></span>

[!INCLUDE [cloud-services-wad-warning](../includes/cloud-services-wad-warning.md)]

### <a name="to-enable-diagnostics-in-visual-studio-before-deployment"></a><span data-ttu-id="46938-163">Activation des diagnostics dans Visual Studio avant le déploiement</span><span class="sxs-lookup"><span data-stu-id="46938-163">To enable diagnostics in Visual Studio before deployment</span></span>
1. <span data-ttu-id="46938-164">Dans le menu contextuel du rôle qui vous intéresse, choisissez **Propriétés**, puis l’onglet **Configuration** dans la fenêtre **Propriétés** du rôle.</span><span class="sxs-lookup"><span data-stu-id="46938-164">On the shortcut menu for the role that interests you, choose **Properties**, and then choose the **Configuration** tab in the role’s **Properties** window.</span></span>
2. <span data-ttu-id="46938-165">Dans la section **Diagnostics**, vérifiez que la case à cocher **Activer les diagnostics** est activée.</span><span class="sxs-lookup"><span data-stu-id="46938-165">In the **Diagnostics** section, make sure that the **Enable Diagnostics** check box is selected.</span></span>
   
    ![Accès à l’option Activer les diagnostics](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796660.png)
3. <span data-ttu-id="46938-167">Cliquez sur le bouton de sélection (...) pour spécifier le compte de stockage dans lequel vous souhaitez stocker les données de diagnostic.</span><span class="sxs-lookup"><span data-stu-id="46938-167">Choose the ellipsis (…) button to specify the storage account where you want the diagnostics data to be stored.</span></span> <span data-ttu-id="46938-168">Les données de diagnostic seront stockées à cet emplacement.</span><span class="sxs-lookup"><span data-stu-id="46938-168">The storage account you choose will be the location where diagnostics data is stored.</span></span>
   
    ![Spécifier le compte de stockage à utiliser](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796661.png)
4. <span data-ttu-id="46938-170">Dans la boîte de dialogue **Créer une chaîne de connexion de stockage** , spécifiez si vous souhaitez vous connecter à l’aide de l’émulateur de stockage Azure, d’un abonnement Azure, ou d’informations d’identification entrées manuellement.</span><span class="sxs-lookup"><span data-stu-id="46938-170">In the **Create Storage Connection String** dialog box, specify whether you want to connect using the Azure Storage Emulator, an Azure subscription, or manually entered credentials.</span></span>
   
    ![Boîte de dialogue Compte de stockage](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796662.png)
   
   * <span data-ttu-id="46938-172">Si vous choisissez l’option Émulateur de stockage Microsoft Azure, la chaîne de connexion est définie sur UseDevelopmentStorage=true.</span><span class="sxs-lookup"><span data-stu-id="46938-172">If you choose the Microsoft Azure Storage Emulator option, the connection string is set to UseDevelopmentStorage=true.</span></span>
   * <span data-ttu-id="46938-173">Si vous choisissez l’option Votre abonnement, vous pouvez choisir l’abonnement Azure que vous souhaitez utiliser et le nom du compte.</span><span class="sxs-lookup"><span data-stu-id="46938-173">If you choose the Your subscription option, you can choose the Azure subscription you want to use and the account name.</span></span> <span data-ttu-id="46938-174">Vous pouvez choisir le bouton Gérer les comptes pour gérer vos abonnements Azure.</span><span class="sxs-lookup"><span data-stu-id="46938-174">You can choose the Manage Accounts button to manage your Azure subscriptions.</span></span>
   * <span data-ttu-id="46938-175">Si vous choisissez l’option Informations d’identification entrées manuellement, vous êtes invité à entrer le nom et la clé du compte Azure que vous souhaitez utiliser.</span><span class="sxs-lookup"><span data-stu-id="46938-175">If you choose the Manually entered credentials option, you're prompted to enter the name and key of the Azure account you want to use.</span></span>
5. <span data-ttu-id="46938-176">Choisissez le bouton **Configurer** pour afficher la boîte de dialogue **Configuration de diagnostic**.</span><span class="sxs-lookup"><span data-stu-id="46938-176">Choose the **Configure** button to view the **Diagnostics configuration** dialog box.</span></span> <span data-ttu-id="46938-177">Chaque onglet (à l’exception de **Général** et **Répertoires de journaux**) correspond à une source de données de diagnostic que vous pouvez collecter.</span><span class="sxs-lookup"><span data-stu-id="46938-177">Each tab (except for **General** and **Log Directories**) represents a diagnostic data source that you can collect.</span></span> <span data-ttu-id="46938-178">L’onglet par défaut, **Général**, offre les options de collecte de données de diagnostic suivantes : **Erreurs uniquement**, **Toutes les informations** et **Plan personnalisé**.</span><span class="sxs-lookup"><span data-stu-id="46938-178">The default tab, **General**, offers you the following diagnostics data collection options: **Errors only**, **All information**, and **Custom plan**.</span></span> <span data-ttu-id="46938-179">L’option par défaut, **Erreurs uniquement**, nécessite le plus petit volume de stockage, car elle ne transfère pas les messages d’avertissement ou de suivi.</span><span class="sxs-lookup"><span data-stu-id="46938-179">The default option, **Errors only**, takes the least amount of storage because it doesn’t transfer warnings or tracing messages.</span></span> <span data-ttu-id="46938-180">L’option Toutes les informations transfère le plus grand nombre d’informations. Elle est donc la plus coûteuse en termes de stockage.</span><span class="sxs-lookup"><span data-stu-id="46938-180">The All information option transfers the most information and is, therefore, the most expensive option in terms of storage.</span></span>
   
    ![Activer les diagnostics Azure et la configuration](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758144.png)
6. <span data-ttu-id="46938-182">Pour cet exemple, sélectionnez l’option **Plan personnalisé** afin de pouvoir personnaliser les données collectées.</span><span class="sxs-lookup"><span data-stu-id="46938-182">For this example, select the **Custom plan** option so you can customize the data collected.</span></span>
7. <span data-ttu-id="46938-183">Le champ **Quota de disque en Mo** spécifie l’espace à allouer aux données de diagnostic dans le compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="46938-183">The **Disk Quota in MB** box specifies how much space you want to allocate in your storage account for diagnostics data.</span></span> <span data-ttu-id="46938-184">Vous pouvez modifier la valeur par défaut si vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="46938-184">You can change the default value if you want.</span></span>
8. <span data-ttu-id="46938-185">Sous chaque onglet des données de diagnostic à collecter, activez la case à cocher **Activer le transfert de <log type>**.</span><span class="sxs-lookup"><span data-stu-id="46938-185">On each tab of diagnostics data you want to collect, select its **Enable Transfer of <log type>** check box.</span></span> <span data-ttu-id="46938-186">Par exemple, si vous voulez collecter les journaux d’application, sélectionnez la case à cocher **Activer le transfert des journaux des applications** sous l’onglet **Journaux d’application**. Spécifiez également toutes autres informations requises pour chaque type de données de diagnostic.</span><span class="sxs-lookup"><span data-stu-id="46938-186">For example, if you want to collect application logs, select the **Enable transfer of Application Logs** check box on the **Application Logs** tab. Also, specify any other information required by each diagnostics data type.</span></span> <span data-ttu-id="46938-187">Pour plus d’informations sur la configuration de chaque onglet, consultez la section **Configuration des sources de données de diagnostic** , plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="46938-187">See the section **Configure diagnostics data sources** later in this topic for configuration information on each tab.</span></span>
9. <span data-ttu-id="46938-188">Après avoir activé la collecte de toutes les données de diagnostic souhaitées, cliquez sur le bouton **OK** .</span><span class="sxs-lookup"><span data-stu-id="46938-188">After you’ve enabled collection of all the diagnostics data you want, choose the **OK** button.</span></span>
10. <span data-ttu-id="46938-189">Exécutez votre projet de service cloud Azure dans Visual Studio comme d’habitude.</span><span class="sxs-lookup"><span data-stu-id="46938-189">Run your Azure cloud service project in Visual Studio as usual.</span></span> <span data-ttu-id="46938-190">À mesure que vous utilisez votre application, les informations de journalisation que vous avez sélectionnées sont enregistrées dans le compte de stockage Azure que vous avez spécifié.</span><span class="sxs-lookup"><span data-stu-id="46938-190">As you use your application, the log information that you enabled is saved to the Azure storage account you specified.</span></span>

## <a name="enable-diagnostics-in-azure-virtual-machines"></a><span data-ttu-id="46938-191">Activation des diagnostics dans des machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="46938-191">Enable diagnostics in Azure virtual machines</span></span>
<span data-ttu-id="46938-192">Dans Visual Studio, vous pouvez choisir de recueillir des données de diagnostic pour des machines virtuelles Azure.</span><span class="sxs-lookup"><span data-stu-id="46938-192">In Visual Studio, you can choose to collect diagnostics data for Azure virtual machines.</span></span>

### <a name="to-enable-diagnostics-in-azure-virtual-machines"></a><span data-ttu-id="46938-193">Pour activer les diagnostics dans des machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="46938-193">To enable diagnostics in Azure virtual machines</span></span>
1. <span data-ttu-id="46938-194">Dans l’ **Explorateur de serveurs**, sélectionnez le nœud Azure, puis connectez-vous à votre abonnement Azure si ce n’est déjà fait.</span><span class="sxs-lookup"><span data-stu-id="46938-194">In **Server Explorer**, choose the Azure node and then connect to your Azure subscription, if you're not already connected.</span></span>
2. <span data-ttu-id="46938-195">Développez le nœud **Machines virtuelles** .</span><span class="sxs-lookup"><span data-stu-id="46938-195">Expand the **Virtual Machines** node.</span></span> <span data-ttu-id="46938-196">Vous pouvez sélectionner ou créer une machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="46938-196">You can create a new virtual machine, or select one that's already there.</span></span>
3. <span data-ttu-id="46938-197">Dans le menu contextuel de la machine virtuelle qui vous intéresse, sélectionnez **Configurer**.</span><span class="sxs-lookup"><span data-stu-id="46938-197">On the shortcut menu for the virtual machine that interests you, choose **Configure**.</span></span> <span data-ttu-id="46938-198">Cela a pour effet d’afficher la boîte de dialogue de configuration de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="46938-198">This shows the virtual machine configuration dialog box.</span></span>
   
    ![Configuration d’une machine virtuelle Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796663.png)
4. <span data-ttu-id="46938-200">Ajoutez l’extension Microsoft Monitoring Agent Diagnostics si elle n’est pas déjà installée.</span><span class="sxs-lookup"><span data-stu-id="46938-200">If it's not already installed, add the Microsoft Monitoring Agent Diagnostics extension.</span></span> <span data-ttu-id="46938-201">Cette extension vous permet de collecter les données de diagnostic pour la machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="46938-201">This extension lets you gather diagnostics data for the Azure virtual machine.</span></span> <span data-ttu-id="46938-202">Dans la liste Extensions installées, cliquez sur le menu déroulant Sélectionner une extension disponible, puis sur Microsoft Monitoring Agent Diagnostics.</span><span class="sxs-lookup"><span data-stu-id="46938-202">In the Installed Extensions list, choose the Select an available extension drop-down menu and then choose Microsoft Monitoring Agent Diagnostics.</span></span>
   
    ![Installation d’une extension de machine virtuelle Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766024.png)
   
   > [!NOTE]
   > <span data-ttu-id="46938-204">D’autres extensions des diagnostics sont disponibles pour vos machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="46938-204">Other diagnostics extensions are available for your virtual machines.</span></span> <span data-ttu-id="46938-205">Pour plus d’informations, consultez Fonctionnalités et extensions de machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="46938-205">For more information, see Azure VM Extensions and Features.</span></span>
   > 
   > 
5. <span data-ttu-id="46938-206">Pour ajouter l’extension et afficher sa boîte de dialogue **Configuration des diagnostics**, cliquez sur le bouton **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="46938-206">Choose the **Add** button to add the extension and view its **Diagnostics configuration** dialog box.</span></span>
6. <span data-ttu-id="46938-207">Cliquez sur le bouton **Configurer** pour spécifier un compte de stockage, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="46938-207">Choose the **Configure** button to specify a storage account and then choose the **OK** button.</span></span>
   
    <span data-ttu-id="46938-208">Chaque onglet (à l’exception de **Général** et **Répertoires de journaux**) correspond à une source de données de diagnostic que vous pouvez collecter.</span><span class="sxs-lookup"><span data-stu-id="46938-208">Each tab (except for **General** and **Log Directories**) represents a diagnostic data source that you can collect.</span></span>
   
    ![Activer les diagnostics Azure et la configuration](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758144.png)
   
    <span data-ttu-id="46938-210">L’onglet par défaut, **Général**, offre les options de collecte de données de diagnostic suivantes : **Erreurs uniquement**, **Toutes les informations** et **Plan personnalisé**.</span><span class="sxs-lookup"><span data-stu-id="46938-210">The default tab, **General**, offers you the following diagnostics data collection options: **Errors only**, **All information**, and **Custom plan**.</span></span> <span data-ttu-id="46938-211">L’option par défaut, **Erreurs uniquement**, nécessite le plus petit volume de stockage, car elle ne transfère pas les messages d’avertissement ou de suivi.</span><span class="sxs-lookup"><span data-stu-id="46938-211">The default option, **Errors only**, takes the least amount of storage because it doesn’t transfer warnings or tracing messages.</span></span> <span data-ttu-id="46938-212">L’option **Toutes les informations** transfère le plus grand nombre d’informations. Elle est donc la plus coûteuse en termes de stockage.</span><span class="sxs-lookup"><span data-stu-id="46938-212">The **All information** option transfers the most information and is, therefore, the most expensive option in terms of storage.</span></span>
7. <span data-ttu-id="46938-213">Pour cet exemple, sélectionnez l’option **Plan personnalisé** afin de pouvoir personnaliser les données collectées.</span><span class="sxs-lookup"><span data-stu-id="46938-213">For this example, select the **Custom plan** option so you can customize the data collected.</span></span>
8. <span data-ttu-id="46938-214">Le champ **Quota de disque en Mo** spécifie l’espace à allouer aux données de diagnostic dans le compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="46938-214">The **Disk Quota in MB** box specifies how much space you want to allocate in your storage account for diagnostics data.</span></span> <span data-ttu-id="46938-215">Vous pouvez modifier la valeur par défaut si vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="46938-215">You can change the default value if you want.</span></span>
9. <span data-ttu-id="46938-216">Sous chaque onglet des données de diagnostic à collecter, activez la case à cocher **Activer le transfert de <log type>**.</span><span class="sxs-lookup"><span data-stu-id="46938-216">On each tab of diagnostics data you want to collect, select its **Enable Transfer of <log type>** check box.</span></span>
   
    <span data-ttu-id="46938-217">Par exemple, si vous voulez collecter les journaux d’application, sélectionnez la case à cocher **Activer le transfert des journaux des applications** sous l’onglet **Journaux d’application**. Spécifiez également toutes autres informations requises pour chaque type de données de diagnostic.</span><span class="sxs-lookup"><span data-stu-id="46938-217">For example, if you want to collect application logs, select the **Enable transfer of Application Logs** check box on the **Application Logs** tab. Also, specify any other information required by each diagnostics data type.</span></span> <span data-ttu-id="46938-218">Pour plus d’informations sur la configuration de chaque onglet, consultez la section **Configuration des sources de données de diagnostic** , plus loin dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="46938-218">See the section **Configure diagnostics data sources** later in this topic for configuration information on each tab.</span></span>
10. <span data-ttu-id="46938-219">Après avoir activé la collecte de toutes les données de diagnostic souhaitées, cliquez sur le bouton **OK** .</span><span class="sxs-lookup"><span data-stu-id="46938-219">After you’ve enabled collection of all the diagnostics data you want, choose the **OK** button.</span></span>
11. <span data-ttu-id="46938-220">Enregistrez le projet mis à jour.</span><span class="sxs-lookup"><span data-stu-id="46938-220">Save the updated project.</span></span>
    
     <span data-ttu-id="46938-221">Un message s’affiche dans la fenêtre **Journal des activités Microsoft Azure** , indiquant que la machine virtuelle a été mise à jour.</span><span class="sxs-lookup"><span data-stu-id="46938-221">You'll see a message in the **Microsoft Azure Activity Log** window that the virtual machine has been updated.</span></span>

## <a name="configure-diagnostics-data-sources"></a><span data-ttu-id="46938-222">Configuration des sources de données de diagnostic</span><span class="sxs-lookup"><span data-stu-id="46938-222">Configure diagnostics data sources</span></span>
<span data-ttu-id="46938-223">Après avoir activé la collecte des données de diagnostic, vous pouvez sélectionner précisément les sources de données et les informations à collecter.</span><span class="sxs-lookup"><span data-stu-id="46938-223">After you enable diagnostics data collection, you can choose exactly what data sources you want to collect and what information is collected.</span></span> <span data-ttu-id="46938-224">La section suivante répertorie les onglets de la boîte de dialogue **Configuration des diagnostics** et indique la signification de chaque option de configuration.</span><span class="sxs-lookup"><span data-stu-id="46938-224">The following is a list of tabs in the **Diagnostics configuration** dialog box and what each configuration option means.</span></span>

### <a name="application-logs"></a><span data-ttu-id="46938-225">Journaux d’application</span><span class="sxs-lookup"><span data-stu-id="46938-225">Application logs</span></span>
<span data-ttu-id="46938-226">**Un journal d’application** contient des informations de diagnostic produites par une application web.</span><span class="sxs-lookup"><span data-stu-id="46938-226">**Application logs** contain diagnostics information produced by a web application.</span></span> <span data-ttu-id="46938-227">Si vous voulez capturer les journaux d’application, sélectionnez la case à cocher **Activer le transfert des journaux d’application** .</span><span class="sxs-lookup"><span data-stu-id="46938-227">If you want to capture application logs, select the **Enable transfer of Application Logs** check box.</span></span> <span data-ttu-id="46938-228">Vous pouvez augmenter ou réduire le nombre de minutes pendant lesquelles les journaux d’application sont transférés vers votre compte de stockage en modifiant la valeur du champ **Période de transfert (min)** .</span><span class="sxs-lookup"><span data-stu-id="46938-228">You can increase or decrease the number of minutes when the application logs are transferred to your storage account by changing the **Transfer Period (min)** value.</span></span> <span data-ttu-id="46938-229">Vous pouvez également modifier la quantité d’informations consignées dans le journal en définissant le niveau de journalisation.</span><span class="sxs-lookup"><span data-stu-id="46938-229">You can also change the amount of information captured in the log by setting the Log level value.</span></span> <span data-ttu-id="46938-230">Par exemple, vous pouvez sélectionner **Détaillé** pour collecter un maximum d’informations, ou **Critique** pour ne recueillir que les erreurs critiques.</span><span class="sxs-lookup"><span data-stu-id="46938-230">For example, you can choose **Verbose** to get more information or choose **Critical** to capture only critical errors.</span></span> <span data-ttu-id="46938-231">Si vous disposez d’un fournisseur de diagnostics spécifique qui génère des journaux d’application, vous pouvez capturer ceux-ci en définissant la valeur du champ **GUID du fournisseur** .</span><span class="sxs-lookup"><span data-stu-id="46938-231">If you have a specific diagnostics provider that emits application logs, you can capture them by adding the provider’s GUID to the **Provider GUID** box.</span></span>

  ![Journaux d’application](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758145.png)

  <span data-ttu-id="46938-233">Pour plus d’informations sur les journaux d’application, consultez [Activer la journalisation des diagnostics pour les applications web dans Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) .</span><span class="sxs-lookup"><span data-stu-id="46938-233">See [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) for more information about application logs.</span></span>

### <a name="windows-event-logs"></a><span data-ttu-id="46938-234">Journaux d’événements Windows</span><span class="sxs-lookup"><span data-stu-id="46938-234">Windows event logs</span></span>
<span data-ttu-id="46938-235">Si vous voulez capturer les journaux des événements Windows, sélectionnez la case à cocher **Activer le transfert des journaux des événements Windows** .</span><span class="sxs-lookup"><span data-stu-id="46938-235">If you want to capture Windows event logs, select the **Enable transfer of Windows Event Logs** check box.</span></span> <span data-ttu-id="46938-236">Vous pouvez augmenter ou réduire le nombre de minutes pendant lesquelles les journaux d’événements sont transférés vers votre compte de stockage en modifiant la valeur du champ **Période de transfert (min)** .</span><span class="sxs-lookup"><span data-stu-id="46938-236">You can increase or decrease the number of minutes when the event logs are transferred to your storage account by changing the **Transfer Period (min)** value.</span></span> <span data-ttu-id="46938-237">Activez les cases à cocher correspondant aux types d’événements que vous voulez suivre.</span><span class="sxs-lookup"><span data-stu-id="46938-237">Select the check boxes for the types of events that you want to track.</span></span>

  ![Journaux d’événements](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796664.png)

<span data-ttu-id="46938-239">Si vous utilisez le Kit de développement logiciel (SDK) Azure 2.6 ou des versions ultérieures et souhaitez spécifier une source de données personnalisée, entrez-la dans la zone de texte **<Data source name>**, puis sélectionnez le bouton **Ajouter** en regard de celle-ci.</span><span class="sxs-lookup"><span data-stu-id="46938-239">If you're using Azure SDK 2.6 or later and want to specify a custom data source, enter it in the **<Data source name>** text box and then choose the **Add** button next to it.</span></span> <span data-ttu-id="46938-240">La source de données est ajoutée au fichier diagnostics.cfcfg.</span><span class="sxs-lookup"><span data-stu-id="46938-240">The data source is added to the diagnostics.cfcfg file.</span></span>

<span data-ttu-id="46938-241">Si vous utilisez le Kit de développement logiciel (SDK) Azure 2.5 et souhaitez spécifier une source de données personnalisée, vous pouvez l’ajouter dans la section `WindowsEventLog` du fichier diagnostics.wadcfgx, comme dans l’exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="46938-241">If you're using Azure SDK 2.5 and want to specify a custom data source, you can add it to the `WindowsEventLog` section of the diagnostics.wadcfgx file, such as in the following example.</span></span>

```
<WindowsEventLog scheduledTransferPeriod="PT1M">
   <DataSource name="Application!*" />
   <DataSource name="CustomDataSource!*" />
</WindowsEventLog>
```
### <a name="performance-counters"></a><span data-ttu-id="46938-242">Compteurs de performances</span><span class="sxs-lookup"><span data-stu-id="46938-242">Performance counters</span></span>
<span data-ttu-id="46938-243">Les informations d’un compteur de performances peuvent vous aider à localiser des goulets d’étranglement système et à affiner les performances des applications et du système.</span><span class="sxs-lookup"><span data-stu-id="46938-243">Performance counter information can help you locate system bottlenecks and fine-tune system and application performance.</span></span> <span data-ttu-id="46938-244">Pour plus d’informations, consultez [Créer et utiliser des compteurs de performances dans une application Azure](https://msdn.microsoft.com/library/azure/hh411542.aspx) .</span><span class="sxs-lookup"><span data-stu-id="46938-244">See [Create and Use Performance Counters in an Azure Application](https://msdn.microsoft.com/library/azure/hh411542.aspx) for more information.</span></span> <span data-ttu-id="46938-245">Si vous voulez capturer les compteurs de performances, sélectionnez la case à cocher **Activer le transfert des compteurs de performances** .</span><span class="sxs-lookup"><span data-stu-id="46938-245">If you want to capture performance counters, select the **Enable transfer of Performance Counters** check box.</span></span> <span data-ttu-id="46938-246">Vous pouvez augmenter ou réduire le nombre de minutes pendant lesquelles les journaux d’événements sont transférés vers votre compte de stockage en modifiant la valeur du champ **Période de transfert (min)** .</span><span class="sxs-lookup"><span data-stu-id="46938-246">You can increase or decrease the number of minutes when the event logs are transferred to your storage account by changing the **Transfer Period (min)** value.</span></span> <span data-ttu-id="46938-247">Activez les cases à cocher correspondant aux compteurs de performances que vous voulez suivre.</span><span class="sxs-lookup"><span data-stu-id="46938-247">Select the check boxes for the performance counters that you want to track.</span></span>

  ![Compteurs de performances](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758147.png)

<span data-ttu-id="46938-249">Pour suivre un compteur de performances non répertorié, entrez-le en utilisant la syntaxe suggérée, puis cliquez sur le bouton **Ajouter** .</span><span class="sxs-lookup"><span data-stu-id="46938-249">To track a performance counter that isn’t listed, enter it by using the suggested syntax and then choose the **Add** button.</span></span> <span data-ttu-id="46938-250">Le système d’exploitation de la machine virtuelle détermine les compteurs de performances que vous pouvez suivre. Pour plus d’informations sur la syntaxe, consultez [Spécifier le chemin d’un compteur](https://msdn.microsoft.com/library/windows/desktop/aa373193.aspx).</span><span class="sxs-lookup"><span data-stu-id="46938-250">The operating system on the virtual machine determines which performance counters you can track. For more information about syntax, see [Specifying a Counter Path](https://msdn.microsoft.com/library/windows/desktop/aa373193.aspx).</span></span>

### <a name="infrastructure-logs"></a><span data-ttu-id="46938-251">Journaux d’infrastructure</span><span class="sxs-lookup"><span data-stu-id="46938-251">Infrastructure logs</span></span>
<span data-ttu-id="46938-252">Si vous voulez capturer des journaux d’infrastructure contenant des informations sur l’infrastructure de diagnostic Azure, ainsi que sur les modules RemoteAccess et RemoteForwarder, sélectionnez la case à cocher **Activer le transfert des journaux d’infrastructure** .</span><span class="sxs-lookup"><span data-stu-id="46938-252">If you want to capture infrastructure logs, which contain information about the Azure diagnostic infrastructure, the RemoteAccess module, and the RemoteForwarder module, select the **Enable transfer of Infrastructure Logs** check box.</span></span> <span data-ttu-id="46938-253">Vous pouvez augmenter ou réduire le nombre de minutes pendant lesquelles les journaux sont transférés vers votre compte de stockage en modifiant la valeur du champ Période de transfert (min).</span><span class="sxs-lookup"><span data-stu-id="46938-253">You can increase or decrease the number of minutes when the logs are transferred to your storage account by changing the Transfer Period (min) value.</span></span>

  ![Journaux d’infrastructure de diagnostics](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758148.png)

  <span data-ttu-id="46938-255">Pour plus d’informations, consultez [Recueillir des données de journaux à l’aide des diagnostics Azure](https://msdn.microsoft.com/library/azure/gg433048.aspx) .</span><span class="sxs-lookup"><span data-stu-id="46938-255">See [Collect Logging Data by Using Azure Diagnostics](https://msdn.microsoft.com/library/azure/gg433048.aspx) for more information.</span></span>

### <a name="log-directories"></a><span data-ttu-id="46938-256">Répertoires de journaux</span><span class="sxs-lookup"><span data-stu-id="46938-256">Log directories</span></span>
<span data-ttu-id="46938-257">Si vous voulez capturer des répertoires de journaux contenant des données collectées à partir de répertoires de journaux relatifs à des demandes IIS, à des demandes ayant échoué ou à des dossiers que vous choisissez, sélectionnez la case à cocher **Activer le transfert des répertoires de journaux** .</span><span class="sxs-lookup"><span data-stu-id="46938-257">If you want to capture log directories, which contain data collected from log directories for Internet Information Services (IIS) requests, failed requests, or folders that you choose, select the **Enable transfer of Log Directories** check box.</span></span> <span data-ttu-id="46938-258">Vous pouvez augmenter ou réduire le nombre de minutes pendant lesquelles les journaux sont transférés vers votre compte de stockage en modifiant la valeur du champ **Période de transfert (min)** .</span><span class="sxs-lookup"><span data-stu-id="46938-258">You can increase or decrease the number of minutes when the logs are transferred to your storage account by changing the **Transfer Period (min)** value.</span></span>

<span data-ttu-id="46938-259">Vous pouvez cocher les cases correspondant aux journaux à collecter, par exemple, **Journaux IIS** et **Journaux des demandes ayant échoué**.</span><span class="sxs-lookup"><span data-stu-id="46938-259">You can select the boxes of the logs you want to collect, such as **IIS Logs** and **Failed Request** Logs.</span></span> <span data-ttu-id="46938-260">Des noms de conteneurs de stockage par défaut sont fournis, que vous pouvez modifier.</span><span class="sxs-lookup"><span data-stu-id="46938-260">Default storage container names are provided, but you can change the names if you want.</span></span>

<span data-ttu-id="46938-261">Vous pouvez également capturer des journaux de tout dossier.</span><span class="sxs-lookup"><span data-stu-id="46938-261">Also, you can capture logs from any folder.</span></span> <span data-ttu-id="46938-262">Spécifiez simplement le chemin d’accès dans la section **Journal du répertoire absolu**, puis cliquez sur le bouton **Ajouter le répertoire**.</span><span class="sxs-lookup"><span data-stu-id="46938-262">Just specify the path in the **Log from Absolute Directory** section and then choose the **Add Directory** button.</span></span> <span data-ttu-id="46938-263">Les journaux seront transférés vers les conteneurs spécifiés.</span><span class="sxs-lookup"><span data-stu-id="46938-263">The logs will be captured to the specified containers.</span></span>

  ![Répertoires de journaux](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796665.png)

### <a name="etw-logs"></a><span data-ttu-id="46938-265">Journaux de suivi des événements ETW</span><span class="sxs-lookup"><span data-stu-id="46938-265">ETW logs</span></span>
<span data-ttu-id="46938-266">Si vous utilisez la fonction [Suivi d’événements pour Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803\(v=vs.85\).aspx) (ETW) et souhaitez capturer les journaux ETW, sélectionnez la case à cocher **Activer le transfert des journaux ETW**.</span><span class="sxs-lookup"><span data-stu-id="46938-266">If you use [Event Tracing for Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803\(v=vs.85\).aspx) (ETW) and want to capture ETW logs, select the **Enable transfer of ETW Logs** check box.</span></span> <span data-ttu-id="46938-267">Vous pouvez augmenter ou réduire le nombre de minutes pendant lesquelles les journaux sont transférés vers votre compte de stockage en modifiant la valeur du champ **Période de transfert (min)** .</span><span class="sxs-lookup"><span data-stu-id="46938-267">You can increase or decrease the number of minutes when the logs are transferred to your storage account by changing the **Transfer Period (min)** value.</span></span>

<span data-ttu-id="46938-268">Les événements sont capturés à partir de sources d’événements et de fichiers manifestes d’événements que vous spécifiez.</span><span class="sxs-lookup"><span data-stu-id="46938-268">The events are captured from event sources and event manifests that you specify.</span></span> <span data-ttu-id="46938-269">Pour spécifier une source d’événements, entrez un nom dans la section **Sources d’événements**, puis cliquez sur le bouton **Ajouter une source d’événements**.</span><span class="sxs-lookup"><span data-stu-id="46938-269">To specify an event source, enter a name in the **Event Sources** section and then choose the **Add Event Source** button.</span></span> <span data-ttu-id="46938-270">De même, vous pouvez spécifier un manifeste d’événements dans la section **Manifestes d’événements**, puis cliquer sur le bouton **Ajouter un manifeste d’événements**.</span><span class="sxs-lookup"><span data-stu-id="46938-270">Similarly, you can specify an event manifest in the **Event Manifests** section and then choose the **Add Event Manifest** button.</span></span>

  ![Journaux de suivi des événements ETW](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766025.png)

  <span data-ttu-id="46938-272">Dans ASP.NET, l’infrastructure ETW est prise en charge via des classes dans l’espace de noms [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110).</span><span class="sxs-lookup"><span data-stu-id="46938-272">The ETW framework is supported in ASP.NET through classes in the [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) namespace.</span></span> <span data-ttu-id="46938-273">L’espace de noms Microsoft.WindowsAzure.Diagnostics, qui hérite des classes [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110), permet d’utiliser [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) comme infrastructure de journalisation dans l’environnement Azure.</span><span class="sxs-lookup"><span data-stu-id="46938-273">The Microsoft.WindowsAzure.Diagnostics namespace, which inherits from and extends standard [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) classes, enables the use of [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) as a logging framework in the Azure environment.</span></span> <span data-ttu-id="46938-274">Pour plus d’informations, consultez [Contrôler la journalisation et le suivi dans Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) et [Activation de Diagnostics dans les services cloud et les machines virtuelles Azure](cloud-services/cloud-services-dotnet-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="46938-274">For more information, see [Take Control of Logging and Tracing in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) and [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](cloud-services/cloud-services-dotnet-diagnostics.md).</span></span>

### <a name="crash-dumps"></a><span data-ttu-id="46938-275">Vidages sur incident</span><span class="sxs-lookup"><span data-stu-id="46938-275">Crash dumps</span></span>
<span data-ttu-id="46938-276">Si vous voulez capturer des informations sur le moment où se produit un incident d’instance de rôle, sélectionnez la case à cocher **Activer le transfert de vidages sur incident**.</span><span class="sxs-lookup"><span data-stu-id="46938-276">If you want to capture information about when a role instance crashes, select the **Enable transfer of Crash Dumps** check box.</span></span> <span data-ttu-id="46938-277">(ASP.NET gérant la plupart des exceptions, cela n’est généralement utile que pour les rôles de travail.) Vous pouvez augmenter ou réduire le pourcentage d’espace de stockage dédié aux vidages sur incident en modifiant la valeur **Quota de répertoire (%)**.</span><span class="sxs-lookup"><span data-stu-id="46938-277">(Because ASP.NET handles most exceptions, this is generally useful only for worker roles.) You can increase or decrease the percentage of storage space devoted to the crash dumps by changing the **Directory Quota (%)** value.</span></span> <span data-ttu-id="46938-278">Vous pouvez modifier le conteneur de stockage dans lequel les vidages sur incident sont stockés et choisir de capturer un vidage **Complet** ou **Mini**.</span><span class="sxs-lookup"><span data-stu-id="46938-278">You can change the storage container where the crash dumps are stored, and you can select whether you want to capture a **Full** or **Mini** dump.</span></span>

<span data-ttu-id="46938-279">Les processus actuellement suivis sont répertoriés.</span><span class="sxs-lookup"><span data-stu-id="46938-279">The processes currently being tracked are listed.</span></span> <span data-ttu-id="46938-280">Activez les cases à cocher correspondant aux processus que vous voulez capturer.</span><span class="sxs-lookup"><span data-stu-id="46938-280">Select the check boxes for the processes that you want to capture.</span></span> <span data-ttu-id="46938-281">Pour ajouter un processus à la liste, entrez le nom du processus, puis cliquez sur le bouton **Ajouter le processus** .</span><span class="sxs-lookup"><span data-stu-id="46938-281">To add another process to the list, enter the process name and then choose the **Add Process** button.</span></span>

  ![Vidages sur incident](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766026.png)

  <span data-ttu-id="46938-283">Pour plus d’informations, consultez [Contrôler la journalisation et le suivi dans Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) et [Diagnostics Microsoft Azure, partie 4 : composants de journalisation personnalisés et modifications des diagnostics 1.3 Azure](http://justazure.com/microsoft-azure-diagnostics-part-4-custom-logging-components-azure-diagnostics-1-3-changes/).</span><span class="sxs-lookup"><span data-stu-id="46938-283">See [Take Control of Logging and Tracing in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) and [Microsoft Azure Diagnostics Part 4: Custom Logging Components and Azure Diagnostics 1.3 Changes](http://justazure.com/microsoft-azure-diagnostics-part-4-custom-logging-components-azure-diagnostics-1-3-changes/) for more information.</span></span>

## <a name="view-the-diagnostics-data"></a><span data-ttu-id="46938-284">Affichage des données de diagnostic</span><span class="sxs-lookup"><span data-stu-id="46938-284">View the diagnostics data</span></span>
<span data-ttu-id="46938-285">Après avoir collecté les données de diagnostic pour un service cloud ou une machine virtuelle, vous pouvez les afficher.</span><span class="sxs-lookup"><span data-stu-id="46938-285">After you’ve collected the diagnostics data for a cloud service or a virtual machine, you can view it.</span></span>

### <a name="to-view-cloud-service-diagnostics-data"></a><span data-ttu-id="46938-286">Pour afficher les données de diagnostic d’un service cloud</span><span class="sxs-lookup"><span data-stu-id="46938-286">To view cloud service diagnostics data</span></span>
1. <span data-ttu-id="46938-287">Déployez votre service cloud comme d’habitude, puis exécutez-le.</span><span class="sxs-lookup"><span data-stu-id="46938-287">Deploy your cloud service as usual and then run it.</span></span>
2. <span data-ttu-id="46938-288">Vous pouvez visualiser les données de diagnostic dans un rapport généré par Visual Studio ou dans des tables de votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="46938-288">You can view the diagnostics data in either a report that Visual Studio generates or tables in your storage account.</span></span> <span data-ttu-id="46938-289">Pour afficher les données d’un rapport, ouvrez **Cloud Explorer** ou l’**Explorateur de serveurs**, ouvrez le menu contextuel du nœud pour le rôle qui vous intéresse, puis cliquez sur **Afficher les données de diagnostic**.</span><span class="sxs-lookup"><span data-stu-id="46938-289">To view the data in a report, open **Cloud Explorer** or **Server Explorer**, open the shortcut menu of the node for the role that interests you, and then choose **View Diagnostic Data**.</span></span>
   
    ![Afficher les données de diagnostic](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC748912.png)
   
    <span data-ttu-id="46938-291">Un rapport contenant les données disponibles s’affiche.</span><span class="sxs-lookup"><span data-stu-id="46938-291">A report that shows the available data appears.</span></span>
   
    ![Rapport de diagnostics Microsoft Azure dans Visual Studio](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796666.png)
   
    <span data-ttu-id="46938-293">Si les données les plus récentes n’apparaissent pas, vous devez peut-être attendre la fin de la période de transfert.</span><span class="sxs-lookup"><span data-stu-id="46938-293">If the most recent data doesn't appear, you might have to wait for the transfer period to elapse.</span></span>
   
    <span data-ttu-id="46938-294">Sélectionnez le lien **Actualiser** pour mettre immédiatement à jour les données, ou choisissez un intervalle dans la liste déroulante **Actualisation automatique** pour que les données soient mises à jour automatiquement.</span><span class="sxs-lookup"><span data-stu-id="46938-294">Choose the **Refresh** link to immediately update the data, or choose an interval in the **Auto-Refresh** dropdown list box to have the data updated automatically.</span></span> <span data-ttu-id="46938-295">Pour exporter les données d’erreur, cliquez sur le bouton **Exporter au format CSV** pour créer un fichier de valeurs séparées par des virgules que vous pouvez ouvrir dans une feuille de calcul.</span><span class="sxs-lookup"><span data-stu-id="46938-295">To export the error data, choose the **Export to CSV** button to create a comma-separated value file you can open in a spreadsheet.</span></span>
   
    <span data-ttu-id="46938-296">Dans **Cloud Explorer** ou l’**Explorateur de serveurs**, ouvrez le compte de stockage associé au déploiement.</span><span class="sxs-lookup"><span data-stu-id="46938-296">In **Cloud Explorer** or **Server Explorer**, open the storage account that's associated with the deployment.</span></span>
3. <span data-ttu-id="46938-297">Ouvrez les tables de diagnostics dans la visionneuse de tables, puis étudiez les données que vous avez collectées.</span><span class="sxs-lookup"><span data-stu-id="46938-297">Open the diagnostics tables in the table viewer, and then review the data that you collected.</span></span> <span data-ttu-id="46938-298">Pour les journaux IIS et les journaux personnalisés, vous pouvez ouvrir un conteneur d’objets blob.</span><span class="sxs-lookup"><span data-stu-id="46938-298">For IIS logs and custom logs, you can open a blob container.</span></span> <span data-ttu-id="46938-299">Trouvez la table ou le conteneur d’objets blob qui contient les données qui vous intéressent en étudiant la table qui suit.</span><span class="sxs-lookup"><span data-stu-id="46938-299">By reviewing the following table, you can find the table or blob container that contains the data that interests you.</span></span> <span data-ttu-id="46938-300">Outre les données pour ce fichier journal, les entrées de la table contiennent EventTickCount, DeploymentId, Role et RoleInstance pour vous aider à identifier la machine virtuelle et le rôle qui ont généré les données et à quel moment.</span><span class="sxs-lookup"><span data-stu-id="46938-300">In addition to the data for that log file, the table entries contain EventTickCount, DeploymentId, Role, and RoleInstance to help you identify what virtual machine and role generated the data and when.</span></span> 
   
   | <span data-ttu-id="46938-301">Données de diagnostic</span><span class="sxs-lookup"><span data-stu-id="46938-301">Diagnostic data</span></span> | <span data-ttu-id="46938-302">Description</span><span class="sxs-lookup"><span data-stu-id="46938-302">Description</span></span> | <span data-ttu-id="46938-303">Lieu</span><span class="sxs-lookup"><span data-stu-id="46938-303">Location</span></span> |
   | --- | --- | --- |
   | <span data-ttu-id="46938-304">Journaux d’application</span><span class="sxs-lookup"><span data-stu-id="46938-304">Application Logs</span></span> |<span data-ttu-id="46938-305">Les journaux générés par votre code au moyen de méthodes d’appel de la classe System.Diagnostics.Trace.</span><span class="sxs-lookup"><span data-stu-id="46938-305">Logs that your code generates by calling methods of the System.Diagnostics.Trace class.</span></span> |<span data-ttu-id="46938-306">WADLogsTable</span><span class="sxs-lookup"><span data-stu-id="46938-306">WADLogsTable</span></span> |
   | <span data-ttu-id="46938-307">Journaux d’événements</span><span class="sxs-lookup"><span data-stu-id="46938-307">Event Logs</span></span> |<span data-ttu-id="46938-308">Ces données proviennent des journaux d’événements Windows sur les machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="46938-308">This data is from the Windows event logs on the virtual machines.</span></span> <span data-ttu-id="46938-309">Windows stocke les informations dans ces journaux mais les applications et les services les utilisent également pour signaler des erreurs ou enregistrer des informations.</span><span class="sxs-lookup"><span data-stu-id="46938-309">Windows stores information in these logs, but applications and services also use them to report errors or log information.</span></span> |<span data-ttu-id="46938-310">WADWindowsEventLogsTable</span><span class="sxs-lookup"><span data-stu-id="46938-310">WADWindowsEventLogsTable</span></span> |
   | <span data-ttu-id="46938-311">Compteurs de performances</span><span class="sxs-lookup"><span data-stu-id="46938-311">Performance Counters</span></span> |<span data-ttu-id="46938-312">Vous pouvez collecter des données sur n’importe quel compteur de performance disponible sur la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="46938-312">You can collect data on any performance counter that’s available on the virtual machine.</span></span> <span data-ttu-id="46938-313">Le système d’exploitation propose des compteurs de performances qui comprennent de nombreuses statistiques, comme l’utilisation de la mémoire et le temps processeur.</span><span class="sxs-lookup"><span data-stu-id="46938-313">The operating system provides performance counters, which include many statistics such as memory usage and processor time.</span></span> |<span data-ttu-id="46938-314">WADPerformanceCountersTable</span><span class="sxs-lookup"><span data-stu-id="46938-314">WADPerformanceCountersTable</span></span> |
   | <span data-ttu-id="46938-315">Journaux d’infrastructure</span><span class="sxs-lookup"><span data-stu-id="46938-315">Infrastructure Logs</span></span> |<span data-ttu-id="46938-316">Ces journaux sont générés à partir de l’infrastructure de diagnostics elle-même.</span><span class="sxs-lookup"><span data-stu-id="46938-316">These logs are generated from the diagnostics infrastructure itself.</span></span> |<span data-ttu-id="46938-317">WADDiagnosticInfrastructureLogsTable</span><span class="sxs-lookup"><span data-stu-id="46938-317">WADDiagnosticInfrastructureLogsTable</span></span> |
   | <span data-ttu-id="46938-318">Journaux IIS</span><span class="sxs-lookup"><span data-stu-id="46938-318">IIS Logs</span></span> |<span data-ttu-id="46938-319">Ces journaux enregistrent les requêtes web.</span><span class="sxs-lookup"><span data-stu-id="46938-319">These logs record web requests.</span></span> <span data-ttu-id="46938-320">Si votre service cloud obtient une quantité importante de trafic, ces journaux peuvent être assez longs. Il est donc conseillé de collecter et de stocker ces données uniquement en cas de besoin.</span><span class="sxs-lookup"><span data-stu-id="46938-320">If your cloud service gets a significant amount of traffic, these logs can be quite lengthy, so you should collect and store this data only when you need it.</span></span> |<span data-ttu-id="46938-321">Vous trouverez des journaux de requêtes ayant échoué dans le conteneur d’objets blob sous wad-iis-failedreqlogs, sous un chemin pour ce déploiement, ce rôle et cette instance.</span><span class="sxs-lookup"><span data-stu-id="46938-321">You can find failed-request logs in the blob container under wad-iis-failedreqlogs under a path for that deployment, role, and instance.</span></span> <span data-ttu-id="46938-322">Vous trouverez les journaux complets sous wad-iis-logfiles.</span><span class="sxs-lookup"><span data-stu-id="46938-322">You can find complete logs under wad-iis-logfiles.</span></span> <span data-ttu-id="46938-323">Les entrées pour chaque fichier se font dans la table WADDirectories.</span><span class="sxs-lookup"><span data-stu-id="46938-323">Entries for each file are made in the WADDirectories table.</span></span> |
   | <span data-ttu-id="46938-324">Vidages sur incident</span><span class="sxs-lookup"><span data-stu-id="46938-324">Crash dumps</span></span> |<span data-ttu-id="46938-325">Ces informations fournissent des images binaires du processus de votre service cloud (généralement, un rôle de travail).</span><span class="sxs-lookup"><span data-stu-id="46938-325">This information provides binary images of your cloud service’s process (typically a worker role).</span></span> |<span data-ttu-id="46938-326">Conteneur d’objets blob wad-crush-dumps</span><span class="sxs-lookup"><span data-stu-id="46938-326">wad-crush-dumps blob container</span></span> |
   | <span data-ttu-id="46938-327">Fichiers journaux personnalisés</span><span class="sxs-lookup"><span data-stu-id="46938-327">Custom log files</span></span> |<span data-ttu-id="46938-328">Journaux de données que vous avez prédéfinis.</span><span class="sxs-lookup"><span data-stu-id="46938-328">Logs of data that you predefined.</span></span> |<span data-ttu-id="46938-329">Spécifiez dans le code l’emplacement des fichiers journaux personnalisés dans votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="46938-329">You can specify in code the location of custom log files in your storage account.</span></span> <span data-ttu-id="46938-330">Par exemple, vous pouvez spécifier un conteneur d’objets blob personnalisé.</span><span class="sxs-lookup"><span data-stu-id="46938-330">For example, you can specify a custom blob container.</span></span> |
4. <span data-ttu-id="46938-331">Si des données d’un type quelconque sont tronquées, vous pouvez tenter d’augmenter la mémoire tampon pour ce type de données ou de raccourcir l’intervalle entre les transferts de données de la machine virtuelle à votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="46938-331">If data of any type is truncated, you can try increasing the buffer for that data type or shortening the interval between transfers of data from the virtual machine to your storage account.</span></span>
5. <span data-ttu-id="46938-332">(Facultatif) Purgez de temps en temps les données du compte de stockage afin de réduire les coûts de stockage généraux.</span><span class="sxs-lookup"><span data-stu-id="46938-332">(optional) Purge data from the storage account occasionally to reduce overall storage costs.</span></span>
6. <span data-ttu-id="46938-333">Lorsque vous effectuez un déploiement complet, le fichier diagnostics.cscfg (.wadcfgx pour le Kit de développement logiciel (SDK) Azure 2.5) est mis à jour dans Azure et votre service cloud sélectionne toutes les modifications apportées à votre configuration de diagnostics.</span><span class="sxs-lookup"><span data-stu-id="46938-333">When you do a full deployment, the diagnostics.cscfg file (.wadcfgx for Azure SDK 2.5) is updated in Azure, and your cloud service picks up any changes to your diagnostics configuration.</span></span> <span data-ttu-id="46938-334">Si, à la place, vous mettez à jour un déploiement existant, le fichier .cscfg n’est pas mis à jour dans Azure.</span><span class="sxs-lookup"><span data-stu-id="46938-334">If you, instead, update an existing deployment, the .cscfg file isn’t updated in Azure.</span></span> <span data-ttu-id="46938-335">Vous pouvez tout de même modifier les paramètres de diagnostics en suivant les étapes décrites dans la section qui suit.</span><span class="sxs-lookup"><span data-stu-id="46938-335">You can still change diagnostics settings, though, by following the steps in the next section.</span></span> <span data-ttu-id="46938-336">Pour plus d’informations sur l’exécution d’un déploiement complet et la mise à jour d’un déploiement existant, consultez [Assistant Publication d’application Azure](vs-azure-tools-publish-azure-application-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="46938-336">For more information about performing a full deployment and updating an existing deployment, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span>

### <a name="to-view-virtual-machine-diagnostics-data"></a><span data-ttu-id="46938-337">Pour afficher les données de diagnostic d’une machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="46938-337">To view virtual machine diagnostics data</span></span>
1. <span data-ttu-id="46938-338">Dans le menu contextuel de la machine virtuelle, sélectionnez **Afficher les données de diagnostic**.</span><span class="sxs-lookup"><span data-stu-id="46938-338">On the shortcut menu for the virtual machine, choose **View Diagnostics Data**.</span></span>
   
    ![Afficher les données de diagnostic dans la machine virtuelle Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766027.png)
   
    <span data-ttu-id="46938-340">Cela a pour effet d’ouvrir la fenêtre **Résumé des diagnostics** .</span><span class="sxs-lookup"><span data-stu-id="46938-340">This opens the **Diagnostics summary** window.</span></span>
   
    ![Résumé des diagnostics de la machine virtuelle Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796667.png)  
   
    <span data-ttu-id="46938-342">Si les données les plus récentes n’apparaissent pas, vous devez peut-être attendre la fin de la période de transfert.</span><span class="sxs-lookup"><span data-stu-id="46938-342">If the most recent data doesn't appear, you might have to wait for the transfer period to elapse.</span></span>
   
    <span data-ttu-id="46938-343">Sélectionnez le lien **Actualiser** pour mettre immédiatement à jour les données, ou choisissez un intervalle dans la liste déroulante **Actualisation automatique** pour que les données soient mises à jour automatiquement.</span><span class="sxs-lookup"><span data-stu-id="46938-343">Choose the **Refresh** link to immediately update the data, or choose an interval in the **Auto-Refresh** dropdown list box to have the data updated automatically.</span></span> <span data-ttu-id="46938-344">Pour exporter les données d’erreur, cliquez sur le bouton **Exporter au format CSV** pour créer un fichier de valeurs séparées par des virgules que vous pouvez ouvrir dans une feuille de calcul.</span><span class="sxs-lookup"><span data-stu-id="46938-344">To export the error data, choose the **Export to CSV** button to create a comma-separated value file you can open in a spreadsheet.</span></span>

## <a name="configure-cloud-service-diagnostics-after-deployment"></a><span data-ttu-id="46938-345">Configuration des diagnostics de service cloud après déploiement</span><span class="sxs-lookup"><span data-stu-id="46938-345">Configure cloud service diagnostics after deployment</span></span>
<span data-ttu-id="46938-346">Si vous recherchez des informations sur un problème dans un service cloud en cours d’exécution, vous pouvez collecter des données que vous n’aviez pas spécifiées avant le déploiement initial du rôle.</span><span class="sxs-lookup"><span data-stu-id="46938-346">If you're investigating a problem with a cloud service that already running, you might want to collect data that you didn't specify before you originally deployed the role.</span></span> <span data-ttu-id="46938-347">Dans ce cas, vous pouvez commencer à collecter ces données au moyen des paramètres de l’Explorateur de serveurs.</span><span class="sxs-lookup"><span data-stu-id="46938-347">In this case, you can start to collect that data by using the settings in Server Explorer.</span></span> <span data-ttu-id="46938-348">Configurez des diagnostics pour une seule instance ou pour toutes les instances d’un rôle, selon que vous ouvrez la boîte de dialogue Configuration des diagnostics depuis le menu contextuel de l’instance ou du rôle.</span><span class="sxs-lookup"><span data-stu-id="46938-348">You can configure diagnostics for either a single instance or all the instances in a role, depending on whether you open the Diagnostics Configuration dialog box from the shortcut menu for the instance or the role.</span></span> <span data-ttu-id="46938-349">Si vous configurez le nœud de rôle, les changements s’appliquent à toutes les instances.</span><span class="sxs-lookup"><span data-stu-id="46938-349">If you configure the role node, any changes apply to all instances.</span></span> <span data-ttu-id="46938-350">Si vous configurez le nœud d’instance, les changements s’appliquent uniquement à cette instance.</span><span class="sxs-lookup"><span data-stu-id="46938-350">If you configure the instance node, any changes apply to that instance only.</span></span>

### <a name="to-configure-diagnostics-for-a-running-cloud-service"></a><span data-ttu-id="46938-351">Pour configurer les diagnostics pour un service cloud en cours d’exécution</span><span class="sxs-lookup"><span data-stu-id="46938-351">To configure diagnostics for a running cloud service</span></span>
1. <span data-ttu-id="46938-352">Dans l’Explorateur de serveurs, développez le nœud **Cloud Services** , puis développez les nœuds permettant de situer le rôle ou l’instance, ou les deux, que vous recherchez.</span><span class="sxs-lookup"><span data-stu-id="46938-352">In Server Explorer, expand the **Cloud Services** node, and then expand nodes to locate the role or instance that you want to investigate or both.</span></span>
   
    ![Configuration des diagnostics](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC748913.png)
2. <span data-ttu-id="46938-354">Dans le menu contextuel d’un nœud d’instance ou d’un nœud de rôle, choisissez **Mettre à jour les paramètres de diagnostics**, puis choisissez les paramètres de diagnostics que vous souhaitez collecter.</span><span class="sxs-lookup"><span data-stu-id="46938-354">On the shortcut menu for an instance node or a role node, choose **Update Diagnostics Settings**, and then choose the diagnostic settings that you want to collect.</span></span>
   
    <span data-ttu-id="46938-355">Pour plus d’informations sur les paramètres de configuration, consultez **Configuration des sources de données de diagnostic** dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="46938-355">For information about the configuration settings, see **Configure diagnostics data sources** in this topic.</span></span> <span data-ttu-id="46938-356">Pour plus d’informations sur la façon d’afficher les données de diagnostic, consultez **Affichage des données de diagnostic** dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="46938-356">For information about how to view the diagnostics data, see **View the diagnostics data** in this topic.</span></span>
   
    <span data-ttu-id="46938-357">Si vous modifiez la collecte de données dans l’ **Explorateur de serveurs**, ces modifications continuent à s’appliquer jusqu’au redéploiement complet de votre service cloud.</span><span class="sxs-lookup"><span data-stu-id="46938-357">If you change data collection in **Server Explorer**, these changes remain in effect until you fully redeploy your cloud service.</span></span> <span data-ttu-id="46938-358">Si vous utilisez les paramètres de publication par défaut, les changements ne sont pas remplacés car le paramètre par défaut indique de mettre à jour le déploiement existant, au lieu d’effectuer un redéploiement complet.</span><span class="sxs-lookup"><span data-stu-id="46938-358">If you use the default publish settings, the changes are not overwritten, since the default publish setting is to update the existing deployment, rather than do a full redeployment.</span></span> <span data-ttu-id="46938-359">Pour vous assurer que les paramètres sont effacés au moment du déploiement, accédez à l’onglet **Paramètres avancés** dans l’Assistant Publication, puis désactivez la case à cocher **Mise à jour du déploiement**.</span><span class="sxs-lookup"><span data-stu-id="46938-359">To make sure the settings clear at deployment time, go to the **Advanced Settings** tab in the Publish wizard and clear the **Deployment update** checkbox.</span></span> <span data-ttu-id="46938-360">Lorsque vous redéployez après avoir désactivé cette case à cocher, les paramètres reviennent à ceux du fichier .wadcfgx (ou .wadcfg) tels que définis dans l’éditeur Propriétés pour le rôle.</span><span class="sxs-lookup"><span data-stu-id="46938-360">When you redeploy with that checkbox cleared, the settings revert to those in the .wadcfgx (or .wadcfg) file as set through the Properties editor for the role.</span></span> <span data-ttu-id="46938-361">Si vous mettez à jour votre déploiement, Azure conserve les anciens paramètres.</span><span class="sxs-lookup"><span data-stu-id="46938-361">If you update your deployment, Azure keeps the old settings.</span></span>

## <a name="troubleshoot-azure-cloud-service-issues"></a><span data-ttu-id="46938-362">Dépannage de problèmes de service cloud Azure</span><span class="sxs-lookup"><span data-stu-id="46938-362">Troubleshoot Azure cloud service issues</span></span>
<span data-ttu-id="46938-363">Si vous rencontrez des problèmes avec vos projets de service cloud, par exemple, un rôle qui reste bloqué à l’état « occupé », qui exécute un cycle en boucle ou qui lève une erreur interne du serveur, il existe des outils et techniques permettant de diagnostiquer et de corriger ces problèmes.</span><span class="sxs-lookup"><span data-stu-id="46938-363">If you experience problems with your cloud service projects, such as a role that gets stuck in a "busy" status, repeatedly recycles, or throws an internal server error, there are tools and techniques you can use to diagnose and fix these problems.</span></span> <span data-ttu-id="46938-364">Pour des exemples spécifiques de problèmes et solutions courants, ainsi qu’une vue d’ensemble des concepts et outils utilisés pour diagnostiquer et corriger de telles erreurs, consultez [Données de diagnostic de calcul PaaS Azure](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span><span class="sxs-lookup"><span data-stu-id="46938-364">For specific examples of common problems and solutions, as well as an overview of the concepts and tools used to diagnose and fix such errors, see [Azure PaaS Compute Diagnostics Data](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span></span>

## <a name="q--a"></a><span data-ttu-id="46938-365">Questions et réponses</span><span class="sxs-lookup"><span data-stu-id="46938-365">Q & A</span></span>
<span data-ttu-id="46938-366">**Qu’est-ce que la taille de la mémoire tampon et quelle doit-elle être ?**</span><span class="sxs-lookup"><span data-stu-id="46938-366">**What is the buffer size, and how large should it be?**</span></span>

<span data-ttu-id="46938-367">Sur chaque instance de machine virtuelle, des quotas limitent le nombre de données de diagnostic qu’il est possible de stocker sur le système de fichiers local.</span><span class="sxs-lookup"><span data-stu-id="46938-367">On each virtual machine instance, quotas limit how much diagnostic data can be stored on the local file system.</span></span> <span data-ttu-id="46938-368">De plus, vous pouvez spécifier une taille de mémoire tampon pour chaque type de données de diagnostic disponible.</span><span class="sxs-lookup"><span data-stu-id="46938-368">In addition, you specify a buffer size for each type of diagnostic data that's available.</span></span> <span data-ttu-id="46938-369">Cette taille de mémoire tampon joue le rôle de quota individuel pour ce type de données.</span><span class="sxs-lookup"><span data-stu-id="46938-369">This buffer size acts like an individual quota for that type of data.</span></span> <span data-ttu-id="46938-370">En consultant le bas de la boîte de dialogue, déterminez le quota général et la quantité de mémoire restante.</span><span class="sxs-lookup"><span data-stu-id="46938-370">By checking the bottom of the dialog box, you can determine the overall quota and the amount of memory that remains.</span></span> <span data-ttu-id="46938-371">En spécifiant des mémoires tampons plus grandes ou des types de données plus nombreux, vous vous approchez du quota général.</span><span class="sxs-lookup"><span data-stu-id="46938-371">If you specify larger buffers or more types of data, you'll approach the overall quota.</span></span> <span data-ttu-id="46938-372">Vous pouvez modifier le quota global en modifiant le fichier de configuration diagnostics.wadcfg/.wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="46938-372">You can change the overall quota by modifying the diagnostics.wadcfg/.wadcfgx configuration file.</span></span> <span data-ttu-id="46938-373">Les données de diagnostic sont stockées sur le même système de fichiers que les données de votre application. Par conséquent, si votre application utilise beaucoup d’espace disque, évitez d’augmenter le quota de diagnostic général.</span><span class="sxs-lookup"><span data-stu-id="46938-373">The diagnostics data is stored on the same filesystem as your application’s data, so if your application uses a lot of disk space, you shouldn’t increase the overall diagnostics quota.</span></span>

<span data-ttu-id="46938-374">**Qu’est-ce que la période de transfert et quelle doit être sa durée ?**</span><span class="sxs-lookup"><span data-stu-id="46938-374">**What is the transfer period, and how long should it be?**</span></span>

<span data-ttu-id="46938-375">La période de transfert est le temps écoulé entre les captures de données.</span><span class="sxs-lookup"><span data-stu-id="46938-375">The transfer period is the amount of time that elapses between data captures.</span></span> <span data-ttu-id="46938-376">Après chaque période de transfert, les données sont déplacées du système de fichiers local d’une machine virtuelle aux tables de votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="46938-376">After each transfer period, data is moved from the local filesystem on a virtual machine to tables in your storage account.</span></span> <span data-ttu-id="46938-377">Si la quantité de données collectées dépasse le quota avant la fin d’une période de transfert, les données plus anciennes sont écartées.</span><span class="sxs-lookup"><span data-stu-id="46938-377">If the amount of data that's collected exceeds the quota before the end of a transfer period, older data is discarded.</span></span> <span data-ttu-id="46938-378">Vous pouvez réduire la période de transfert si vous perdez des données parce que vos données dépassent la taille de la mémoire tampon ou le quota général.</span><span class="sxs-lookup"><span data-stu-id="46938-378">You might want to decrease the transfer period if you're losing data because your data exceeds the buffer size or the overall quota.</span></span>

<span data-ttu-id="46938-379">**Dans quel fuseau horaire se trouvent les horodatages ?**</span><span class="sxs-lookup"><span data-stu-id="46938-379">**What time zone are the time stamps in?**</span></span>

<span data-ttu-id="46938-380">Les horodatages sont dans le fuseau horaire local du centre de données qui héberge votre service cloud.</span><span class="sxs-lookup"><span data-stu-id="46938-380">The time stamps are in the local time zone of the data center that hosts your cloud service.</span></span> <span data-ttu-id="46938-381">Les trois colonnes d’horodateur suivantes dans les tables de journal sont utilisées.</span><span class="sxs-lookup"><span data-stu-id="46938-381">The following three timestamp columns in the log tables are used.</span></span>

* <span data-ttu-id="46938-382">**PreciseTimeStamp** est l’horodatage ETW de l’événement.</span><span class="sxs-lookup"><span data-stu-id="46938-382">**PreciseTimeStamp** is the ETW timestamp of the event.</span></span> <span data-ttu-id="46938-383">Autrement dit, l’heure de l’événement est enregistrée à partir du client.</span><span class="sxs-lookup"><span data-stu-id="46938-383">That is, the time the event is logged from the client.</span></span>
* <span data-ttu-id="46938-384">**TIMESTAMP** est la valeur PreciseTimeStamp arrondie à la limite de fréquence de chargement.</span><span class="sxs-lookup"><span data-stu-id="46938-384">**TIMESTAMP** is PreciseTimeStamp rounded down to the upload frequency boundary.</span></span> <span data-ttu-id="46938-385">Par conséquent, si votre fréquence de téléchargement est de 5 minutes et si l’heure de l’événement est 00:17:12, TIMESTAMP est 00:15:00.</span><span class="sxs-lookup"><span data-stu-id="46938-385">So, if your upload frequency is 5 minutes and the event time 00:17:12, TIMESTAMP will be 00:15:00.</span></span>
* <span data-ttu-id="46938-386">**Timestamp** est l’horodateur de création de l’entité dans la table Azure.</span><span class="sxs-lookup"><span data-stu-id="46938-386">**Timestamp** is the timestamp at which the entity was created in the Azure table.</span></span>

<span data-ttu-id="46938-387">**Comment gérer les coûts pendant la collecte d’informations de diagnostics ?**</span><span class="sxs-lookup"><span data-stu-id="46938-387">**How do I manage costs when collecting diagnostic information?**</span></span>

<span data-ttu-id="46938-388">Les paramètres par défaut (**Niveau de journal** sur **Erreur** et **Période de transfert** sur **1 minute**) sont conçus pour minimiser les coûts.</span><span class="sxs-lookup"><span data-stu-id="46938-388">The default settings (**Log level** set to **Error** and **Transfer period** set to **1 minute**) are designed to minimize cost.</span></span> <span data-ttu-id="46938-389">Vos coûts de calcul augmentent lorsque vous collectez plus de données de diagnostic ou diminuez la période de transfert.</span><span class="sxs-lookup"><span data-stu-id="46938-389">Your compute costs will increase if you collect more diagnostic data or decrease the transfer period.</span></span> <span data-ttu-id="46938-390">Ne collectez pas plus de données que nécessaire et n’oubliez pas de désactiver la collecte de données quand vous n’en avez plus besoin.</span><span class="sxs-lookup"><span data-stu-id="46938-390">Don’t collect more data than you need, and don’t forget to disable data collection when you no longer need it.</span></span> <span data-ttu-id="46938-391">Vous pouvez toujours la réactiver, même en cours d’exécution, comme indiqué dans la section précédente.</span><span class="sxs-lookup"><span data-stu-id="46938-391">You can always enable it again, even at runtime, as shown in the previous section.</span></span>

<span data-ttu-id="46938-392">**Comment recueillir des journaux de demandes IIS ayant échoué ?**</span><span class="sxs-lookup"><span data-stu-id="46938-392">**How do I collect failed-request logs from IIS?**</span></span>

<span data-ttu-id="46938-393">Par défaut, IIS ne collecte pas les journaux de demandes ayant échoué.</span><span class="sxs-lookup"><span data-stu-id="46938-393">By default, IIS doesn’t collect failed-request logs.</span></span> <span data-ttu-id="46938-394">Vous pouvez configurer IIS pour les collecter en modifiant le fichier web.config pour votre rôle web.</span><span class="sxs-lookup"><span data-stu-id="46938-394">You can configure IIS to collect them if you edit the web.config file for your web role.</span></span>

<span data-ttu-id="46938-395">**Je n’obtiens pas les informations des méthodes RoleEntryPoint comme OnStart. Que se passe-t-il ?**</span><span class="sxs-lookup"><span data-stu-id="46938-395">**I’m not getting trace information from RoleEntryPoint methods like OnStart. What’s wrong?**</span></span>

<span data-ttu-id="46938-396">Les méthodes de RoleEntryPoint sont appelées dans le contexte de WAIISHost.exe, non d’IIS.</span><span class="sxs-lookup"><span data-stu-id="46938-396">The methods of RoleEntryPoint are called in the context of WAIISHost.exe, not IIS.</span></span> <span data-ttu-id="46938-397">Par conséquent, les informations de configuration dans web.config qui autorisent le traçage ne s’appliquent pas.</span><span class="sxs-lookup"><span data-stu-id="46938-397">Therefore, the configuration information in web.config that normally enables tracing doesn’t apply.</span></span> <span data-ttu-id="46938-398">Pour résoudre ce problème, ajoutez un fichier .config à votre projet de rôle web et nommez le fichier de manière à ce qu’il corresponde à l’assembly de sortie qui contient le code RoleEntryPoint.</span><span class="sxs-lookup"><span data-stu-id="46938-398">To resolve this issue, add a .config file to your web role project, and name the file to match the output assembly that contains the RoleEntryPoint code.</span></span> <span data-ttu-id="46938-399">Dans le projet de rôle web par défaut, le nom du fichier .config serait WAIISHost.exe.config. Ajoutez ensuite les lignes suivantes à ce fichier :</span><span class="sxs-lookup"><span data-stu-id="46938-399">In the default web role project, the name of the .config file would be WAIISHost.exe.config. Then add the following lines to this file:</span></span>

```
<system.diagnostics>
  <trace>
      <listeners>
          <add name “AzureDiagnostics” type=”Microsoft.WindowsAzure.Diagnostics.DiagnosticMonitorTraceListener”>
              <filter type=”” />
          </add>
      </listeners>
  </trace>
</system.diagnostics>
```

<span data-ttu-id="46938-400">Maintenant, dans la fenêtre **Propriétés**, définissez la propriété **Copier dans le répertoire de sortie** sur **Toujours copier**.</span><span class="sxs-lookup"><span data-stu-id="46938-400">Now, in the **Properties** window, set the **Copy to Output Directory** property to **Copy always**.</span></span>

## <a name="next-steps"></a><span data-ttu-id="46938-401">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="46938-401">Next steps</span></span>
<span data-ttu-id="46938-402">Pour en savoir plus sur la journalisation des diagnostics dans Azure, consultez [Activation de Diagnostics dans les services cloud et les machines virtuelles Azure](cloud-services/cloud-services-dotnet-diagnostics.md) et [Activer la journalisation des diagnostics pour les applications web dans Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md).</span><span class="sxs-lookup"><span data-stu-id="46938-402">To learn more about diagnostics logging in Azure, see [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](cloud-services/cloud-services-dotnet-diagnostics.md) and [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md).</span></span>

