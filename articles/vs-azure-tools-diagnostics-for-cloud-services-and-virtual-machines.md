---
title: aaaConfiguring Diagnostics pour Azure Cloud Services et Machines virtuelles | Documents Microsoft
description: "Décrit comment tooconfigure les informations de diagnostic pour déboguer Azure cloud services et les machines virtuelles (VM) dans Visual Studio."
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: e70cd7b4-6298-43aa-adea-6fd618414c26
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 11/11/2016
ms.author: kraigb
ms.openlocfilehash: 74cdf49413d6d89a84195070dd9d817da2463373
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="configuring-diagnostics-for-azure-cloud-services-and-virtual-machines"></a><span data-ttu-id="7d9e4-103">Configuration de Diagnostics pour les services cloud et les machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="7d9e4-103">Configuring Diagnostics for Azure Cloud Services and Virtual Machines</span></span>
<span data-ttu-id="7d9e4-104">Lorsque vous avez besoin de tootroubleshoot un service cloud Azure ou une machine virtuelle Azure, vous pouvez configurer les diagnostics Azure plus facilement à l’aide de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-104">When you need tootroubleshoot an Azure cloud service or Azure virtual machine, you can configure Azure diagnostics more easily by using Visual Studio.</span></span> <span data-ttu-id="7d9e4-105">Azure diagnostics capture les données système et les données de journalisation sur les ordinateurs virtuels de hello et instances de machine virtuelle qui exécutent votre service cloud et transfère les données dans un compte de stockage de votre choix.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-105">Azure diagnostics captures system data and logging data on hello virtual machines and virtual machine instances that run your cloud service and transfers that data into a storage account of your choice.</span></span> <span data-ttu-id="7d9e4-106">Pour plus d’informations sur la journalisation des diagnostics dans Azure, consultez [Activer la journalisation des diagnostics pour les applications web dans Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md).</span><span class="sxs-lookup"><span data-stu-id="7d9e4-106">See [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) for more information about diagnostics logging in Azure.</span></span>

<span data-ttu-id="7d9e4-107">Cette rubrique vous montre comment tooenable et configurer les diagnostics Azure dans Visual Studio, à la fois avant et après le déploiement, ainsi que dans les machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-107">This topic shows you how tooenable and configure Azure diagnostics in Visual Studio, both before and after deployment, as well as in Azure virtual machines.</span></span> <span data-ttu-id="7d9e4-108">Il montre également comment les types hello tooselect de toocollect des informations de diagnostics et comment tooview hello après lui sont recueillies.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-108">It also shows you how tooselect hello types of diagnostics information toocollect and how tooview hello information after it's collected.</span></span>

<span data-ttu-id="7d9e4-109">Vous pouvez configurer les Diagnostics Azure Bonjour suivant façons :</span><span class="sxs-lookup"><span data-stu-id="7d9e4-109">You can configure Azure Diagnostics in hello following ways:</span></span>

* <span data-ttu-id="7d9e4-110">Vous pouvez modifier les paramètres de configuration de diagnostics par hello **Configuration des Diagnostics** boîte de dialogue dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-110">You can change diagnostics configuration settings through hello **Diagnostics Configuration** dialog box in Visual Studio.</span></span> <span data-ttu-id="7d9e4-111">paramètres de Hello sont enregistrés dans un fichier nommé diagnostics.wadcfgx (diagnostics.wadcfg dans Azure SDK 2.4 ou version antérieure).</span><span class="sxs-lookup"><span data-stu-id="7d9e4-111">hello settings are saved in a file called diagnostics.wadcfgx (diagnostics.wadcfg in Azure SDK 2.4 or earlier).</span></span> <span data-ttu-id="7d9e4-112">Ou bien, vous pouvez modifier directement les fichiers de configuration hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-112">Alternatively, you can directly modify hello configuration file.</span></span> <span data-ttu-id="7d9e4-113">Si vous remplacez manuellement le fichier de hello, les modifications de configuration hello prendra hello d’effet prochaine fois que vous déployez tooAzure de service cloud hello ou un service d’exécution hello dans l’émulateur de hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-113">If you manually update hello file, hello configuration changes will take effect hello next time you deploy hello cloud service tooAzure or run hello service in hello emulator.</span></span>
* <span data-ttu-id="7d9e4-114">Utilisez **Cloud Explorer** ou **l’Explorateur de serveurs** dans les paramètres de diagnostic de Visual Studio toochange hello pour un ordinateur virtuel ou le service de cloud en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-114">Use **Cloud Explorer** or **Server Explorer** in Visual Studio toochange hello diagnostics settings for a running cloud service or virtual machine.</span></span>

## <a name="azure-26-diagnostics-changes"></a><span data-ttu-id="7d9e4-115">Modifications apportées aux diagnostics Azure 2.6</span><span class="sxs-lookup"><span data-stu-id="7d9e4-115">Azure 2.6 diagnostics changes</span></span>
<span data-ttu-id="7d9e4-116">Pour les projets Azure SDK 2.6 dans Visual Studio, hello modifications suivantes ont été apportée.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-116">For Azure SDK 2.6 projects in Visual Studio, hello following changes were made.</span></span> <span data-ttu-id="7d9e4-117">(Ces modifications s’appliquent également toolater les versions de Windows Azure SDK.)</span><span class="sxs-lookup"><span data-stu-id="7d9e4-117">(These changes also apply toolater versions of Azure SDK.)</span></span>

* <span data-ttu-id="7d9e4-118">émulateur local de Hello prend désormais en charge les diagnostics.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-118">hello local emulator now supports diagnostics.</span></span> <span data-ttu-id="7d9e4-119">Cela signifie que vous pouvez collecter des données de diagnostic et vérifiez que votre application crée hello traces appropriées lorsque vous développez et testez dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-119">This means you can collect diagnostics data and ensure your application is creating hello right traces while you're developing and testing in Visual Studio.</span></span> <span data-ttu-id="7d9e4-120">chaîne de connexion de Hello `UseDevelopmentStorage=true` permet la collecte de données de diagnostic lorsque vous exécutez votre projet de service cloud dans Visual Studio à l’aide d’émulateur de stockage Azure hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-120">hello connection string `UseDevelopmentStorage=true` enables diagnostics data collection while you're running your cloud service project in Visual Studio by using hello Azure storage emulator.</span></span> <span data-ttu-id="7d9e4-121">Toutes les données de diagnostic sont collectées dans le compte de stockage hello (stockage de développement).</span><span class="sxs-lookup"><span data-stu-id="7d9e4-121">All diagnostics data is collected in hello (Development Storage) storage account.</span></span>
* <span data-ttu-id="7d9e4-122">chaîne de connexion de compte des stockage Hello diagnostics (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) est stocké à nouveau dans le fichier de configuration (.cscfg) de service hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-122">hello diagnostics storage account connection string (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) is stored once again in hello service configuration (.cscfg) file.</span></span> <span data-ttu-id="7d9e4-123">Compte de stockage de diagnostics hello Azure SDK 2.5 a été spécifié dans le fichier diagnostics.wadcfgx de hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-123">In Azure SDK 2.5 hello diagnostics storage account was specified in hello diagnostics.wadcfgx file.</span></span>

<span data-ttu-id="7d9e4-124">Il existe des différences notables entre la chaîne de connexion hello travaillé dans Azure SDK 2.4 et versions antérieures, et comment il fonctionne dans Azure SDK 2.6 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-124">There are some notable differences between how hello connection string worked in Azure SDK 2.4 and earlier and how it works in Azure SDK 2.6 and later.</span></span>

* <span data-ttu-id="7d9e4-125">Dans Azure SDK 2.4 et versions antérieures, chaîne de connexion hello a été utilisé comme un runtime par hello plug-in tooget hello stockage compte des informations de diagnostic pour le transfert des journaux de diagnostic.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-125">In Azure SDK 2.4 and earlier, hello connection string was used as a runtime by hello diagnostics plugin tooget hello storage account information for transferring diagnostics logs.</span></span>
* <span data-ttu-id="7d9e4-126">Dans Azure SDK 2.6 et versions ultérieures, la chaîne de connexion de diagnostics de hello est utilisée par l’extension de Visual Studio tooconfigure hello diagnostics avec les informations de compte de stockage approprié hello lors de la publication.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-126">In Azure SDK 2.6 and later, hello diagnostics connection string is used by Visual Studio tooconfigure hello diagnostics extension with hello appropriate storage account information during publishing.</span></span> <span data-ttu-id="7d9e4-127">chaîne de connexion Hello permet de définir les comptes de stockage différentes pour différentes configurations de service que Visual Studio utilisera lors de la publication.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-127">hello connection string lets you define different storage accounts for different service configurations that Visual Studio will use when publishing.</span></span> <span data-ttu-id="7d9e4-128">Toutefois, étant donné que le plug-in des diagnostics hello n’est plus disponible (après Azure SDK 2.5), fichier .cscfg de hello par lui-même ne peut pas activer hello Extension des Diagnostics.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-128">However, because hello diagnostics plugin is no longer available (after Azure SDK 2.5), hello .cscfg file by itself can't enable hello Diagnostics Extension.</span></span> <span data-ttu-id="7d9e4-129">Vous disposez d’extension de hello tooenable séparément par le biais d’outils tels que Visual Studio ou PowerShell.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-129">You have tooenable hello extension separately through tools such as Visual Studio or PowerShell.</span></span>
* <span data-ttu-id="7d9e4-130">processus de hello toosimplify de configuration de l’extension de diagnostics hello avec PowerShell, sortie hello du package à partir de Visual Studio contient également hello publique XML de configuration pour l’extension diagnostics hello pour chaque rôle.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-130">toosimplify hello process of configuring hello diagnostics extension with PowerShell, hello package output from Visual Studio also contains hello public configuration XML for hello diagnostics extension for each role.</span></span> <span data-ttu-id="7d9e4-131">Visual Studio utilise hello diagnostics connexion chaîne toopopulate hello compte de stockage informations présente dans la configuration publique de hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-131">Visual Studio uses hello diagnostics connection string toopopulate hello storage account information present in hello public configuration.</span></span> <span data-ttu-id="7d9e4-132">les fichiers de configuration publics Hello sont créés dans le dossier d’Extensions hello et suivent hello modèle PaaSDiagnostics. &lt;RoleName >. PubConfig.xml.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-132">hello public config files are created in hello Extensions folder and follow hello pattern PaaSDiagnostics.&lt;RoleName>.PubConfig.xml.</span></span> <span data-ttu-id="7d9e4-133">Tout déploiement basé sur PowerShell peut utiliser toomap de ce modèle chaque tooa configuration rôle.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-133">Any PowerShell based deployments can use this pattern toomap each configuration tooa Role.</span></span>
* <span data-ttu-id="7d9e4-134">chaîne de connexion Hello dans le fichier .cscfg de hello est également utilisé par hello [portail Azure](http://go.microsoft.com/fwlink/p/?LinkID=525040) tooaccess hello les données de diagnostic afin de pouvoir Bonjour **analyse** chaîne de connexion onglet hello est nécessaire. tooconfigure hello service tooshow données dans le portail de hello de surveillance détaillée.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-134">hello connection string in hello .cscfg file is also used by hello [Azure portal](http://go.microsoft.com/fwlink/p/?LinkID=525040) tooaccess hello diagnostics data so it can appear in hello **Monitoring** tab. hello connection string is needed tooconfigure hello service tooshow verbose monitoring data in hello portal.</span></span>

## <a name="migrating-projects-tooazure-sdk-26-and-later"></a><span data-ttu-id="7d9e4-135">Migration des projets tooAzure SDK 2.6 et versions ultérieur</span><span class="sxs-lookup"><span data-stu-id="7d9e4-135">Migrating projects tooAzure SDK 2.6 and later</span></span>
<span data-ttu-id="7d9e4-136">Lors de la migration à partir d’Azure SDK 2.5 tooAzure SDK 2.6 ou version ultérieure, si vous avez un compte de stockage de diagnostics spécifié dans le fichier .wadcfgx de hello, puis il y restera.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-136">When migrating from Azure SDK 2.5 tooAzure SDK 2.6 or later, if you had a diagnostics storage account specified in hello .wadcfgx file, then it will stay there.</span></span> <span data-ttu-id="7d9e4-137">avantage tootake de flexibilité hello d’utilisation de stockage différents comptes pour diverses configurations de stockage, vous avez toomanually ajouter un projet de tooyour de chaîne de connexion hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-137">tootake advantage of hello flexibility of using different storage accounts for different storage configurations, you'll have toomanually add hello connection string tooyour project.</span></span> <span data-ttu-id="7d9e4-138">Si vous migrez un projet à partir d’Azure SDK 2.4 ou antérieure tooAzure 2.6 du Kit de développement logiciel, puis hello diagnostics des chaînes de connexion sont conservés.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-138">If you're migrating a project from Azure SDK 2.4 or earlier tooAzure SDK 2.6, then hello diagnostics connection strings are preserved.</span></span> <span data-ttu-id="7d9e4-139">Toutefois, notez les modifications hello dans la façon dont les chaînes de connexion sont traitées dans Azure SDK 2.6 comme spécifié dans la section précédente de hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-139">However, please note hello changes in how connection strings are treated in Azure SDK 2.6 as specified in hello previous section.</span></span>

### <a name="how-visual-studio-determines-hello-diagnostics-storage-account"></a><span data-ttu-id="7d9e4-140">Comment Visual Studio détermine le compte de stockage de diagnostics hello</span><span class="sxs-lookup"><span data-stu-id="7d9e4-140">How Visual Studio determines hello diagnostics storage account</span></span>
* <span data-ttu-id="7d9e4-141">Si une chaîne de connexion de diagnostic est spécifiée dans le fichier .cscfg de hello, Visual Studio utilise extension de diagnostics tooconfigure hello lors de la publication et lors de la génération des fichiers xml de configuration publique hello lors de l’empaquetage.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-141">If a diagnostics connection string is specified in hello .cscfg file, Visual Studio uses it tooconfigure hello diagnostics extension when publishing, and when generating hello public configuration xml files during packaging.</span></span>
* <span data-ttu-id="7d9e4-142">Si aucune chaîne de connexion de diagnostic n’est spécifié dans le fichier .cscfg de hello, puis Visual Studio revient compte de stockage toousing hello spécifié dans hello .wadcfgx tooconfigure hello diagnostics extension de fichier lors de la publication et la génération hello public fichiers de xml de configuration lors de la compression.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-142">If no diagnostics connection string is specified in hello .cscfg file, then Visual Studio falls back toousing hello storage account specified in hello .wadcfgx file tooconfigure hello diagnostics extension when publishing, and generating hello public configuration xml files when packaging.</span></span>
* <span data-ttu-id="7d9e4-143">chaîne de connexion des diagnostics Hello dans le fichier .cscfg de hello est prioritaire sur le compte de stockage hello dans le fichier .wadcfgx de hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-143">hello diagnostics connection string in hello .cscfg file takes precedence over hello storage account in hello .wadcfgx file.</span></span> <span data-ttu-id="7d9e4-144">Si une chaîne de connexion de diagnostic est spécifiée dans le fichier .cscfg de hello, puis Visual Studio qui utilise et ignore le compte de stockage hello dans .wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-144">If a diagnostics connection string is specified in hello .cscfg file, then Visual Studio uses that and ignores hello storage account in .wadcfgx.</span></span>

### <a name="what-does-hello-update-development-storage-connection-strings-checkbox-do"></a><span data-ttu-id="7d9e4-145">Ce qui hello « Mettre à jour les chaînes de connexion de stockage de développement... »</span><span class="sxs-lookup"><span data-stu-id="7d9e4-145">What does hello "Update development storage connection strings…"</span></span> <span data-ttu-id="7d9e4-146"> ?</span><span class="sxs-lookup"><span data-stu-id="7d9e4-146">checkbox do?</span></span>
<span data-ttu-id="7d9e4-147">Hello case à cocher pour **mettre à jour les chaînes de connexion de stockage de développement pour les Diagnostics et la mise en cache avec les informations d’identification de compte de stockage Microsoft Azure lors de la publication tooMicrosoft Azure** vous offre un moyen pratique de tooupdate tout chaînes de connexion de compte de stockage de développement avec le compte de stockage Azure hello spécifié lors de la publication.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-147">hello checkbox for **Update development storage connection strings for Diagnostics and Caching with Microsoft Azure storage account credentials when publishing tooMicrosoft Azure** gives you a convenient way tooupdate any development storage account connection strings with hello Azure storage account specified during publishing.</span></span>

<span data-ttu-id="7d9e4-148">Par exemple, supposons que vous sélectionnez cette case à cocher et la chaîne de connexion de diagnostic hello spécifie `UseDevelopmentStorage=true`.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-148">For example, suppose you select this checkbox and hello diagnostics connection string specifies `UseDevelopmentStorage=true`.</span></span> <span data-ttu-id="7d9e4-149">Lorsque vous publiez hello projet tooAzure, Visual Studio met automatiquement à jour chaîne de connexion des diagnostics hello avec compte de stockage hello que vous avez spécifié dans l’Assistant de publication hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-149">When you publish hello project tooAzure, Visual Studio will automatically update hello diagnostics connection string with hello storage account you specified in hello Publish wizard.</span></span> <span data-ttu-id="7d9e4-150">Toutefois, si un compte de stockage réel a été spécifié comme chaîne de connexion des diagnostics hello, ce compte est utilisé à la place.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-150">However, if a real storage account was specified as hello diagnostics connection string, then that account is used instead.</span></span>

## <a name="diagnostics-functionality-differences-between-azure-sdk-24-and-earlier-and-azure-sdk-25-and-later"></a><span data-ttu-id="7d9e4-151">Différences entre les fonctionnalités de diagnostics du Kit de développement logiciel (SDK) Azure 2.4 et les versions antérieures et du Kit de développement logiciel (SDK) Azure 2.5 et les versions ultérieures</span><span class="sxs-lookup"><span data-stu-id="7d9e4-151">Diagnostics functionality differences between Azure SDK 2.4 and earlier and Azure SDK 2.5 and later</span></span>
<span data-ttu-id="7d9e4-152">Si vous mettez à niveau votre projet à partir d’Azure SDK 2.4 tooAzure SDK 2.5 ou version ultérieure, vous devez garder à hello esprit suivant des différences de fonctionnalités de diagnostics.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-152">If you're upgrading your project from Azure SDK 2.4 tooAzure SDK 2.5 or later, you should bear in mind hello following diagnostics functionality differences.</span></span>

* <span data-ttu-id="7d9e4-153">**Les API de configuration sont déconseillées** : la configuration par programmation des diagnostics est disponible dans le Kit de développement logiciel (SDK) Azure 2.4 ou les versions antérieures, mais déconseillée dans le Kit de développement logiciel (SDK) Azure 2.5 et les versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-153">**Configuration APIs are deprecated** – Programmatic configuration of diagnostics is available in Azure SDK 2.4 or earlier versions, but is deprecated in Azure SDK 2.5 and later.</span></span> <span data-ttu-id="7d9e4-154">Si votre configuration des diagnostics est actuellement définie dans le code, vous devez tooreconfigure ces paramètres à partir de zéro dans le projet migré de hello dans l’ordre pour l’utilisation de diagnostics tookeep.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-154">If your diagnostics configuration is currently defined in code, you'll need tooreconfigure those settings from scratch in hello migrated project in order for diagnostics tookeep working.</span></span> <span data-ttu-id="7d9e4-155">fichier de configuration des diagnostics Hello pour Azure SDK 2.4 est diagnostics.wadcfg et diagnostics.wadcfgx pour Azure SDK 2.5 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-155">hello diagnostics configuration file for Azure SDK 2.4 is diagnostics.wadcfg, and diagnostics.wadcfgx for Azure SDK 2.5 and later.</span></span>
* <span data-ttu-id="7d9e4-156">**Diagnostics pour les applications de service cloud peuvent être configurées uniquement au niveau du rôle hello, pas au niveau de l’instance hello.**</span><span class="sxs-lookup"><span data-stu-id="7d9e4-156">**Diagnostics for cloud service applications can only be configured at hello role level, not at hello instance level.**</span></span>
* <span data-ttu-id="7d9e4-157">**Chaque fois que vous déployez votre application, la configuration des diagnostics hello est mise à jour** : cela peut entraîner des problèmes de parité si vous modifiez votre configuration des diagnostics à partir de l’Explorateur de serveurs et redéployez votre application.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-157">**Every time you deploy your app, hello diagnostics configuration is updated** – This can cause parity issues if you change your diagnostics configuration from Server Explorer and then redeploy your app.</span></span>
* <span data-ttu-id="7d9e4-158">**Dans Azure SDK 2.5 et versions ultérieures, les vidages sur incident sont configurés dans le fichier de configuration de diagnostics hello, pas dans le code** – si vous avez des vidages sur incident configurés dans le code, vous aurez une configuration du transfert de hello toomanually toohello configuration fichier de code, Étant donné que les vidages sur incident de hello ne sont pas transférées au cours de la migration de hello tooAzure 2.6 du Kit de développement logiciel.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-158">**In Azure SDK 2.5 and later, crash dumps are configured in hello diagnostics configuration file, not in code** – If you have crash dumps configured in code, you'll have toomanually transfer hello configuration from code toohello configuration file, because hello crash dumps aren't transferred during hello migration tooAzure SDK 2.6.</span></span>

## <a name="enable-diagnostics-in-cloud-service-projects-before-deploying-them"></a><span data-ttu-id="7d9e4-159">Activation des diagnostics dans les projets de service cloud avant leur déploiement</span><span class="sxs-lookup"><span data-stu-id="7d9e4-159">Enable diagnostics in cloud service projects before deploying them</span></span>
<span data-ttu-id="7d9e4-160">Dans Visual Studio, vous pouvez choisir toocollect les données de diagnostic pour les rôles qui s’exécutent dans Azure, lorsque vous exécutez le service de hello dans l’émulateur de hello avant de le déployer.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-160">In Visual Studio, you can choose toocollect diagnostics data for roles that run in Azure, when you run hello service in hello emulator before deploying it.</span></span> <span data-ttu-id="7d9e4-161">Tous les paramètres de toodiagnostics de modifications dans Visual Studio sont enregistrés dans le fichier de configuration diagnostics.wadcfgx hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-161">All changes toodiagnostics settings in Visual Studio are saved in hello diagnostics.wadcfgx configuration file.</span></span> <span data-ttu-id="7d9e4-162">Ces paramètres de configuration spécifient le compte de stockage hello dans lequel les données de diagnostic sont enregistrées lorsque vous déployez votre service cloud.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-162">These configuration settings specify hello storage account where diagnostics data is saved when you deploy your cloud service.</span></span>

[!INCLUDE [cloud-services-wad-warning](../includes/cloud-services-wad-warning.md)]

### <a name="tooenable-diagnostics-in-visual-studio-before-deployment"></a><span data-ttu-id="7d9e4-163">tooenable des diagnostics dans Visual Studio avant le déploiement</span><span class="sxs-lookup"><span data-stu-id="7d9e4-163">tooenable diagnostics in Visual Studio before deployment</span></span>
1. <span data-ttu-id="7d9e4-164">Dans le menu contextuel hello rôle hello qui vous intéresse, choisissez **propriétés**, puis choisissez hello **Configuration** onglet du rôle hello **propriétés** fenêtre.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-164">On hello shortcut menu for hello role that interests you, choose **Properties**, and then choose hello **Configuration** tab in hello role’s **Properties** window.</span></span>
2. <span data-ttu-id="7d9e4-165">Bonjour **Diagnostics** section, assurez-vous que hello **activer les Diagnostics** case à cocher est activée.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-165">In hello **Diagnostics** section, make sure that hello **Enable Diagnostics** check box is selected.</span></span>
   
    ![Option de hello activer les Diagnostics de l’accès à](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796660.png)
3. <span data-ttu-id="7d9e4-167">Choisissez hello points de suspension (...) bouton toospecify hello compte de stockage où vous souhaitez toobe de données de diagnostic hello stockée.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-167">Choose hello ellipsis (…) button toospecify hello storage account where you want hello diagnostics data toobe stored.</span></span> <span data-ttu-id="7d9e4-168">compte de stockage Hello que vous choisissez sera l’emplacement hello où sont stockées les données de diagnostic.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-168">hello storage account you choose will be hello location where diagnostics data is stored.</span></span>
   
    ![Spécifiez toouse de compte de stockage hello](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796661.png)
4. <span data-ttu-id="7d9e4-170">Bonjour **créer une chaîne de connexion stockage** boîte de dialogue, spécifiez si vous souhaitez tooconnect à l’aide de hello émulateur de stockage Azure, un abonnement Azure, ou manuellement les informations d’identification entrées.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-170">In hello **Create Storage Connection String** dialog box, specify whether you want tooconnect using hello Azure Storage Emulator, an Azure subscription, or manually entered credentials.</span></span>
   
    ![Boîte de dialogue Compte de stockage](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796662.png)
   
   * <span data-ttu-id="7d9e4-172">Si vous choisissez d’option de l’émulateur de stockage Microsoft Azure hello, chaîne de connexion hello a la valeur tooUseDevelopmentStorage = true.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-172">If you choose hello Microsoft Azure Storage Emulator option, hello connection string is set tooUseDevelopmentStorage=true.</span></span>
   * <span data-ttu-id="7d9e4-173">Si vous choisissez hello votre option d’abonnement, vous pouvez choisir hello abonnement Azure que vous souhaitez toouse et hello nom de compte.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-173">If you choose hello Your subscription option, you can choose hello Azure subscription you want toouse and hello account name.</span></span> <span data-ttu-id="7d9e4-174">Vous pouvez choisir de que gérer les comptes hello bouton toomanage vos abonnements Azure.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-174">You can choose hello Manage Accounts button toomanage your Azure subscriptions.</span></span>
   * <span data-ttu-id="7d9e4-175">Si vous choisissez option des informations d’identification hello entrée manuellement, vous êtes nom de hello de tooenter demandée et la clé de hello Azure compte toouse.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-175">If you choose hello Manually entered credentials option, you're prompted tooenter hello name and key of hello Azure account you want toouse.</span></span>
5. <span data-ttu-id="7d9e4-176">Choisissez hello **configurer** hello tooview de bouton **configuration des Diagnostics** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-176">Choose hello **Configure** button tooview hello **Diagnostics configuration** dialog box.</span></span> <span data-ttu-id="7d9e4-177">Chaque onglet (à l’exception de **Général** et **Répertoires de journaux**) correspond à une source de données de diagnostic que vous pouvez collecter.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-177">Each tab (except for **General** and **Log Directories**) represents a diagnostic data source that you can collect.</span></span> <span data-ttu-id="7d9e4-178">onglet par défaut de Hello, **général**, offre vous hello suivant les options de collecte de données de diagnostic : **uniquement les erreurs**, **toutes les informations**, et **plan personnalisé** .</span><span class="sxs-lookup"><span data-stu-id="7d9e4-178">hello default tab, **General**, offers you hello following diagnostics data collection options: **Errors only**, **All information**, and **Custom plan**.</span></span> <span data-ttu-id="7d9e4-179">Hello option par défaut, **erreurs uniquement**, prend hello moins de stockage, car elle ne transfère pas les avertissements ou messages de traçage.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-179">hello default option, **Errors only**, takes hello least amount of storage because it doesn’t transfer warnings or tracing messages.</span></span> <span data-ttu-id="7d9e4-180">Hello tous les transferts en option informations hello la plupart des informations et est, hello par conséquent, l’option la plus coûteuse en termes de stockage.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-180">hello All information option transfers hello most information and is, therefore, hello most expensive option in terms of storage.</span></span>
   
    ![Activer les diagnostics Azure et la configuration](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758144.png)
6. <span data-ttu-id="7d9e4-182">Dans cet exemple, sélectionnez hello **plan personnalisé** option afin que vous pouvez personnaliser les données de salutation collectées.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-182">For this example, select hello **Custom plan** option so you can customize hello data collected.</span></span>
7. <span data-ttu-id="7d9e4-183">Hello **Quota de disque en Mo** zone spécifie la quantité d’espace souhaitée tooallocate dans votre stockage de compte pour les données de diagnostic.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-183">hello **Disk Quota in MB** box specifies how much space you want tooallocate in your storage account for diagnostics data.</span></span> <span data-ttu-id="7d9e4-184">Vous pouvez modifier la valeur par défaut de hello si vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-184">You can change hello default value if you want.</span></span>
8. <span data-ttu-id="7d9e4-185">Sous chaque onglet des données de diagnostic vous souhaitez toocollect, sélectionnez son **activer le transfert de <log type>**  case à cocher.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-185">On each tab of diagnostics data you want toocollect, select its **Enable Transfer of <log type>** check box.</span></span> <span data-ttu-id="7d9e4-186">Par exemple, si vous souhaitez que les journaux d’application toocollect, sélectionnez hello **activer le transfert des journaux d’Application** case à cocher sur hello **journaux des applications** onglet. Spécifiez également toutes autres informations requises pour chaque type de données de diagnostic.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-186">For example, if you want toocollect application logs, select hello **Enable transfer of Application Logs** check box on hello **Application Logs** tab. Also, specify any other information required by each diagnostics data type.</span></span> <span data-ttu-id="7d9e4-187">Consultez la section de hello **configurer des sources de données de diagnostics** plus loin dans cette rubrique pour plus d’informations de configuration sur chaque onglet.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-187">See hello section **Configure diagnostics data sources** later in this topic for configuration information on each tab.</span></span>
9. <span data-ttu-id="7d9e4-188">Après avoir activé la collection de toutes les données de diagnostic hello souhaité, choisissez hello **OK** bouton.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-188">After you’ve enabled collection of all hello diagnostics data you want, choose hello **OK** button.</span></span>
10. <span data-ttu-id="7d9e4-189">Exécutez votre projet de service cloud Azure dans Visual Studio comme d’habitude.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-189">Run your Azure cloud service project in Visual Studio as usual.</span></span> <span data-ttu-id="7d9e4-190">Lorsque vous utilisez votre application, les informations de journal hello que vous avez activé sont enregistrées toohello compte de stockage Azure spécifié.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-190">As you use your application, hello log information that you enabled is saved toohello Azure storage account you specified.</span></span>

## <a name="enable-diagnostics-in-azure-virtual-machines"></a><span data-ttu-id="7d9e4-191">Activation des diagnostics dans des machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="7d9e4-191">Enable diagnostics in Azure virtual machines</span></span>
<span data-ttu-id="7d9e4-192">Dans Visual Studio, vous pouvez choisir toocollect les données de diagnostic pour les machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-192">In Visual Studio, you can choose toocollect diagnostics data for Azure virtual machines.</span></span>

### <a name="tooenable-diagnostics-in-azure-virtual-machines"></a><span data-ttu-id="7d9e4-193">diagnostics de tooenable dans des machines virtuelles</span><span class="sxs-lookup"><span data-stu-id="7d9e4-193">tooenable diagnostics in Azure virtual machines</span></span>
1. <span data-ttu-id="7d9e4-194">Dans **l’Explorateur de serveurs**, choisissez hello nœud Azure et connectez-vous tooyour abonnement Azure, si vous n’êtes pas déjà connecté.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-194">In **Server Explorer**, choose hello Azure node and then connect tooyour Azure subscription, if you're not already connected.</span></span>
2. <span data-ttu-id="7d9e4-195">Développez hello **virtuels** nœud.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-195">Expand hello **Virtual Machines** node.</span></span> <span data-ttu-id="7d9e4-196">Vous pouvez sélectionner ou créer une machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-196">You can create a new virtual machine, or select one that's already there.</span></span>
3. <span data-ttu-id="7d9e4-197">Dans le menu contextuel de hello pour l’ordinateur virtuel hello qui vous intéresse, choisissez **configurer**.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-197">On hello shortcut menu for hello virtual machine that interests you, choose **Configure**.</span></span> <span data-ttu-id="7d9e4-198">Cela affiche la boîte de dialogue de configuration de machine virtuelle hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-198">This shows hello virtual machine configuration dialog box.</span></span>
   
    ![Configuration d’une machine virtuelle Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796663.png)
4. <span data-ttu-id="7d9e4-200">S’il n’est pas déjà installé, ajouter l’extension de Diagnostics de Microsoft Monitoring Agent hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-200">If it's not already installed, add hello Microsoft Monitoring Agent Diagnostics extension.</span></span> <span data-ttu-id="7d9e4-201">Cette extension vous permet de collecter des données de diagnostic pour hello machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-201">This extension lets you gather diagnostics data for hello Azure virtual machine.</span></span> <span data-ttu-id="7d9e4-202">Dans la liste des Extensions installées hello, choisissez le menu de sélectionner une extension disponible liste déroulante hello, puis Diagnostics de Microsoft Monitoring Agent.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-202">In hello Installed Extensions list, choose hello Select an available extension drop-down menu and then choose Microsoft Monitoring Agent Diagnostics.</span></span>
   
    ![Installation d’une extension de machine virtuelle Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766024.png)
   
   > [!NOTE]
   > <span data-ttu-id="7d9e4-204">D’autres extensions des diagnostics sont disponibles pour vos machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-204">Other diagnostics extensions are available for your virtual machines.</span></span> <span data-ttu-id="7d9e4-205">Pour plus d’informations, consultez Fonctionnalités et extensions de machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-205">For more information, see Azure VM Extensions and Features.</span></span>
   > 
   > 
5. <span data-ttu-id="7d9e4-206">Choisissez hello **ajouter** bouton extension de hello tooadd et afficher ses **configuration des Diagnostics** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-206">Choose hello **Add** button tooadd hello extension and view its **Diagnostics configuration** dialog box.</span></span>
6. <span data-ttu-id="7d9e4-207">Choisissez hello **configurer** bouton toospecify un compte de stockage, puis choisissez hello **OK** bouton.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-207">Choose hello **Configure** button toospecify a storage account and then choose hello **OK** button.</span></span>
   
    <span data-ttu-id="7d9e4-208">Chaque onglet (à l’exception de **Général** et **Répertoires de journaux**) correspond à une source de données de diagnostic que vous pouvez collecter.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-208">Each tab (except for **General** and **Log Directories**) represents a diagnostic data source that you can collect.</span></span>
   
    ![Activer les diagnostics Azure et la configuration](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758144.png)
   
    <span data-ttu-id="7d9e4-210">onglet par défaut de Hello, **général**, offre vous hello suivant les options de collecte de données de diagnostic : **uniquement les erreurs**, **toutes les informations**, et **plan personnalisé** .</span><span class="sxs-lookup"><span data-stu-id="7d9e4-210">hello default tab, **General**, offers you hello following diagnostics data collection options: **Errors only**, **All information**, and **Custom plan**.</span></span> <span data-ttu-id="7d9e4-211">Hello option par défaut, **erreurs uniquement**, prend hello moins de stockage, car elle ne transfère pas les avertissements ou messages de traçage.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-211">hello default option, **Errors only**, takes hello least amount of storage because it doesn’t transfer warnings or tracing messages.</span></span> <span data-ttu-id="7d9e4-212">Hello **toutes les informations** option transferts hello la plupart des informations et est, par conséquent, hello plus coûteuse en termes de stockage.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-212">hello **All information** option transfers hello most information and is, therefore, hello most expensive option in terms of storage.</span></span>
7. <span data-ttu-id="7d9e4-213">Dans cet exemple, sélectionnez hello **plan personnalisé** option afin que vous pouvez personnaliser les données de salutation collectées.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-213">For this example, select hello **Custom plan** option so you can customize hello data collected.</span></span>
8. <span data-ttu-id="7d9e4-214">Hello **Quota de disque en Mo** zone spécifie la quantité d’espace souhaitée tooallocate dans votre stockage de compte pour les données de diagnostic.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-214">hello **Disk Quota in MB** box specifies how much space you want tooallocate in your storage account for diagnostics data.</span></span> <span data-ttu-id="7d9e4-215">Vous pouvez modifier la valeur par défaut de hello si vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-215">You can change hello default value if you want.</span></span>
9. <span data-ttu-id="7d9e4-216">Sous chaque onglet des données de diagnostic vous souhaitez toocollect, sélectionnez son **activer le transfert de <log type>**  case à cocher.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-216">On each tab of diagnostics data you want toocollect, select its **Enable Transfer of <log type>** check box.</span></span>
   
    <span data-ttu-id="7d9e4-217">Par exemple, si vous souhaitez que les journaux d’application toocollect, sélectionnez hello **activer le transfert des journaux d’Application** case à cocher sur hello **journaux des applications** onglet. Spécifiez également toutes autres informations requises pour chaque type de données de diagnostic.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-217">For example, if you want toocollect application logs, select hello **Enable transfer of Application Logs** check box on hello **Application Logs** tab. Also, specify any other information required by each diagnostics data type.</span></span> <span data-ttu-id="7d9e4-218">Consultez la section de hello **configurer des sources de données de diagnostics** plus loin dans cette rubrique pour plus d’informations de configuration sur chaque onglet.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-218">See hello section **Configure diagnostics data sources** later in this topic for configuration information on each tab.</span></span>
10. <span data-ttu-id="7d9e4-219">Après avoir activé la collection de toutes les données de diagnostic hello souhaité, choisissez hello **OK** bouton.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-219">After you’ve enabled collection of all hello diagnostics data you want, choose hello **OK** button.</span></span>
11. <span data-ttu-id="7d9e4-220">Enregistrer le projet de hello mis à jour.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-220">Save hello updated project.</span></span>
    
     <span data-ttu-id="7d9e4-221">Vous verrez un message Bonjour **journal des activités Microsoft Azure** fenêtre hello d’ordinateur virtuel a été mis à jour.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-221">You'll see a message in hello **Microsoft Azure Activity Log** window that hello virtual machine has been updated.</span></span>

## <a name="configure-diagnostics-data-sources"></a><span data-ttu-id="7d9e4-222">Configuration des sources de données de diagnostic</span><span class="sxs-lookup"><span data-stu-id="7d9e4-222">Configure diagnostics data sources</span></span>
<span data-ttu-id="7d9e4-223">Après avoir activé la collecte de données de diagnostic, vous pouvez choisir exactement quelles sources de données toocollect et les informations collectées.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-223">After you enable diagnostics data collection, you can choose exactly what data sources you want toocollect and what information is collected.</span></span> <span data-ttu-id="7d9e4-224">Hello Voici une liste des onglets de hello **configuration des Diagnostics** boîte de dialogue et les chaque option de configuration.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-224">hello following is a list of tabs in hello **Diagnostics configuration** dialog box and what each configuration option means.</span></span>

### <a name="application-logs"></a><span data-ttu-id="7d9e4-225">Journaux d’application</span><span class="sxs-lookup"><span data-stu-id="7d9e4-225">Application logs</span></span>
<span data-ttu-id="7d9e4-226">**Un journal d’application** contient des informations de diagnostic produites par une application web.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-226">**Application logs** contain diagnostics information produced by a web application.</span></span> <span data-ttu-id="7d9e4-227">Si vous souhaitez que les journaux d’application toocapture, sélectionnez hello **activer le transfert des journaux des applications** case à cocher.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-227">If you want toocapture application logs, select hello **Enable transfer of Application Logs** check box.</span></span> <span data-ttu-id="7d9e4-228">Vous pouvez augmenter ou diminuer le nombre de hello de minutes pendant lesquelles les journaux d’application hello sont transférés tooyour compte de stockage en modifiant hello **période de transfert (min)** valeur.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-228">You can increase or decrease hello number of minutes when hello application logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span> <span data-ttu-id="7d9e4-229">Vous pouvez également modifier la quantité de hello d’informations consignées dans le journal de hello en définissant la valeur de niveau de journal hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-229">You can also change hello amount of information captured in hello log by setting hello Log level value.</span></span> <span data-ttu-id="7d9e4-230">Par exemple, vous pouvez choisir **Verbose** tooget plus d’informations ou choisir **critique** toocapture les erreurs critiques uniquement.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-230">For example, you can choose **Verbose** tooget more information or choose **Critical** toocapture only critical errors.</span></span> <span data-ttu-id="7d9e4-231">Si vous avez un fournisseur de diagnostics spécifiques qui émet des journaux des applications, vous pouvez capturer ceux-ci en ajoutant toohello GUID du fournisseur hello **fournisseur GUID** boîte.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-231">If you have a specific diagnostics provider that emits application logs, you can capture them by adding hello provider’s GUID toohello **Provider GUID** box.</span></span>

  ![Journaux d’application](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758145.png)

  <span data-ttu-id="7d9e4-233">Pour plus d’informations sur les journaux d’application, consultez [Activer la journalisation des diagnostics pour les applications web dans Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) .</span><span class="sxs-lookup"><span data-stu-id="7d9e4-233">See [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) for more information about application logs.</span></span>

### <a name="windows-event-logs"></a><span data-ttu-id="7d9e4-234">Journaux des événements Windows</span><span class="sxs-lookup"><span data-stu-id="7d9e4-234">Windows event logs</span></span>
<span data-ttu-id="7d9e4-235">Si vous souhaitez que les journaux des événements Windows toocapture, sélectionnez hello **activer le transfert des journaux des événements Windows** case à cocher.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-235">If you want toocapture Windows event logs, select hello **Enable transfer of Windows Event Logs** check box.</span></span> <span data-ttu-id="7d9e4-236">Vous pouvez augmenter ou diminuer le nombre de hello de minutes pendant lesquelles les journaux des événements hello sont transférés tooyour compte de stockage en modifiant hello **période de transfert (min)** valeur.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-236">You can increase or decrease hello number of minutes when hello event logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span> <span data-ttu-id="7d9e4-237">Activez les cases à cocher hello pour les types d’événements que vous souhaitez tootrack hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-237">Select hello check boxes for hello types of events that you want tootrack.</span></span>

  ![Journaux d’événements](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796664.png)

<span data-ttu-id="7d9e4-239">Si vous utilisez Azure SDK 2.6 ou version ultérieur et que vous souhaitez toospecify une source de données personnalisée, entrez-la Bonjour  **<Data source name>**  texte zone, puis choisissez hello **ajouter** tooit suivant du bouton.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-239">If you're using Azure SDK 2.6 or later and want toospecify a custom data source, enter it in hello **<Data source name>** text box and then choose hello **Add** button next tooit.</span></span> <span data-ttu-id="7d9e4-240">source de données Hello est ajouté le fichier diagnostics.cfcfg de toohello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-240">hello data source is added toohello diagnostics.cfcfg file.</span></span>

<span data-ttu-id="7d9e4-241">Si vous utilisez Azure SDK 2.5 et que vous souhaitez toospecify une source de données personnalisé, vous pouvez l’ajouter toohello `WindowsEventLog` fichier section de hello diagnostics.wadcfgx, comme dans hello l’exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-241">If you're using Azure SDK 2.5 and want toospecify a custom data source, you can add it toohello `WindowsEventLog` section of hello diagnostics.wadcfgx file, such as in hello following example.</span></span>

```
<WindowsEventLog scheduledTransferPeriod="PT1M">
   <DataSource name="Application!*" />
   <DataSource name="CustomDataSource!*" />
</WindowsEventLog>
```
### <a name="performance-counters"></a><span data-ttu-id="7d9e4-242">Compteurs de performances</span><span class="sxs-lookup"><span data-stu-id="7d9e4-242">Performance counters</span></span>
<span data-ttu-id="7d9e4-243">Les informations d’un compteur de performances peuvent vous aider à localiser des goulets d’étranglement système et à affiner les performances des applications et du système.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-243">Performance counter information can help you locate system bottlenecks and fine-tune system and application performance.</span></span> <span data-ttu-id="7d9e4-244">Pour plus d’informations, consultez [Créer et utiliser des compteurs de performances dans une application Azure](https://msdn.microsoft.com/library/azure/hh411542.aspx) .</span><span class="sxs-lookup"><span data-stu-id="7d9e4-244">See [Create and Use Performance Counters in an Azure Application](https://msdn.microsoft.com/library/azure/hh411542.aspx) for more information.</span></span> <span data-ttu-id="7d9e4-245">Si vous souhaitez que les compteurs de performance toocapture, sélectionnez hello **activer le transfert des compteurs de Performance** case à cocher.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-245">If you want toocapture performance counters, select hello **Enable transfer of Performance Counters** check box.</span></span> <span data-ttu-id="7d9e4-246">Vous pouvez augmenter ou diminuer le nombre de hello de minutes pendant lesquelles les journaux des événements hello sont transférés tooyour compte de stockage en modifiant hello **période de transfert (min)** valeur.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-246">You can increase or decrease hello number of minutes when hello event logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span> <span data-ttu-id="7d9e4-247">Activez les cases à cocher hello pour hello des compteurs de performance que vous souhaitez tootrack.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-247">Select hello check boxes for hello performance counters that you want tootrack.</span></span>

  ![Compteurs de performance](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758147.png)

<span data-ttu-id="7d9e4-249">tootrack un compteur de performance n’est pas répertorié, entrez-le en utilisant hello syntaxe suggérée, puis choisissez hello **ajouter** bouton.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-249">tootrack a performance counter that isn’t listed, enter it by using hello suggested syntax and then choose hello **Add** button.</span></span> <span data-ttu-id="7d9e4-250">système d’exploitation de Hello sur l’ordinateur virtuel de hello détermine les compteurs de performance que vous pouvez effectuer le suivi. Pour plus d’informations sur la syntaxe, consultez [Spécifier le chemin d’un compteur](https://msdn.microsoft.com/library/windows/desktop/aa373193.aspx).</span><span class="sxs-lookup"><span data-stu-id="7d9e4-250">hello operating system on hello virtual machine determines which performance counters you can track. For more information about syntax, see [Specifying a Counter Path](https://msdn.microsoft.com/library/windows/desktop/aa373193.aspx).</span></span>

### <a name="infrastructure-logs"></a><span data-ttu-id="7d9e4-251">Journaux d’infrastructure</span><span class="sxs-lookup"><span data-stu-id="7d9e4-251">Infrastructure logs</span></span>
<span data-ttu-id="7d9e4-252">Si vous souhaitez que les journaux d’infrastructure toocapture qui contiennent plus d’informations sur le module RemoteForwarder de hello hello infrastructure de diagnostics Azure et module RemoteAccess de hello, sélectionnez hello **activer le transfert des journaux d’Infrastructure**case à cocher.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-252">If you want toocapture infrastructure logs, which contain information about hello Azure diagnostic infrastructure, hello RemoteAccess module, and hello RemoteForwarder module, select hello **Enable transfer of Infrastructure Logs** check box.</span></span> <span data-ttu-id="7d9e4-253">Vous pouvez augmenter ou diminuer le nombre hello de minutes lors du transfert des journaux de hello tooyour compte de stockage en modifiant la valeur de période de transfert (min) hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-253">You can increase or decrease hello number of minutes when hello logs are transferred tooyour storage account by changing hello Transfer Period (min) value.</span></span>

  ![Journaux d’infrastructure de diagnostics](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758148.png)

  <span data-ttu-id="7d9e4-255">Pour plus d’informations, consultez [Recueillir des données de journaux à l’aide des diagnostics Azure](https://msdn.microsoft.com/library/azure/gg433048.aspx) .</span><span class="sxs-lookup"><span data-stu-id="7d9e4-255">See [Collect Logging Data by Using Azure Diagnostics](https://msdn.microsoft.com/library/azure/gg433048.aspx) for more information.</span></span>

### <a name="log-directories"></a><span data-ttu-id="7d9e4-256">Répertoires de journaux</span><span class="sxs-lookup"><span data-stu-id="7d9e4-256">Log directories</span></span>
<span data-ttu-id="7d9e4-257">Si vous souhaitez que les répertoires de journaux toocapture, qui contiennent les données collectées à partir de répertoires de journaux pour les demandes Internet Information Services (IIS), les demandes ayant échoué, ou des dossiers que vous choisissez, sélectionnez hello **activer le transfert des répertoires de journaux**case à cocher.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-257">If you want toocapture log directories, which contain data collected from log directories for Internet Information Services (IIS) requests, failed requests, or folders that you choose, select hello **Enable transfer of Log Directories** check box.</span></span> <span data-ttu-id="7d9e4-258">Vous pouvez augmenter ou diminuer le nombre hello de minutes lors du transfert des journaux de hello tooyour compte de stockage en modifiant hello **période de transfert (min)** valeur.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-258">You can increase or decrease hello number of minutes when hello logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span>

<span data-ttu-id="7d9e4-259">Vous pouvez activer les cases hello de hello journaux toocollect, telles que **journaux IIS** et **Échec de la demande** journaux.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-259">You can select hello boxes of hello logs you want toocollect, such as **IIS Logs** and **Failed Request** Logs.</span></span> <span data-ttu-id="7d9e4-260">Les noms de conteneur de stockage par défaut sont fournis, mais vous pouvez modifier les noms de hello si vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-260">Default storage container names are provided, but you can change hello names if you want.</span></span>

<span data-ttu-id="7d9e4-261">Vous pouvez également capturer des journaux de tout dossier.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-261">Also, you can capture logs from any folder.</span></span> <span data-ttu-id="7d9e4-262">Spécifiez simplement le chemin d’accès hello Bonjour **journal du répertoire absolu** section, puis choisissez hello **ajouter un répertoire** bouton.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-262">Just specify hello path in hello **Log from Absolute Directory** section and then choose hello **Add Directory** button.</span></span> <span data-ttu-id="7d9e4-263">Hello journaux seront transférés toohello spécifié des conteneurs.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-263">hello logs will be captured toohello specified containers.</span></span>

  ![Répertoires de journaux](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796665.png)

### <a name="etw-logs"></a><span data-ttu-id="7d9e4-265">Journaux de suivi des événements ETW</span><span class="sxs-lookup"><span data-stu-id="7d9e4-265">ETW logs</span></span>
<span data-ttu-id="7d9e4-266">Si vous utilisez [Event Tracing for Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803\(v=vs.85\).aspx) (ETW) et souhaitez que les journaux ETW toocapture, sélectionnez hello **activer le transfert des journaux ETW** case à cocher.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-266">If you use [Event Tracing for Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803\(v=vs.85\).aspx) (ETW) and want toocapture ETW logs, select hello **Enable transfer of ETW Logs** check box.</span></span> <span data-ttu-id="7d9e4-267">Vous pouvez augmenter ou diminuer le nombre hello de minutes lors du transfert des journaux de hello tooyour compte de stockage en modifiant hello **période de transfert (min)** valeur.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-267">You can increase or decrease hello number of minutes when hello logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span>

<span data-ttu-id="7d9e4-268">événements de Hello sont capturés à partir de sources d’événements et des manifestes d’événements que vous spécifiez.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-268">hello events are captured from event sources and event manifests that you specify.</span></span> <span data-ttu-id="7d9e4-269">toospecify une source d’événement, entrez un nom dans hello **Sources d’événements** section, puis choisissez hello **Source d’événement ajouter** bouton.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-269">toospecify an event source, enter a name in hello **Event Sources** section and then choose hello **Add Event Source** button.</span></span> <span data-ttu-id="7d9e4-270">De même, vous pouvez spécifier un manifeste d’événements Bonjour **manifestes d’événements** section, puis choisissez hello **ajouter le manifeste d’événements** bouton.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-270">Similarly, you can specify an event manifest in hello **Event Manifests** section and then choose hello **Add Event Manifest** button.</span></span>

  ![Journaux de suivi des événements ETW](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766025.png)

  <span data-ttu-id="7d9e4-272">Hello ETW framework est pris en charge dans ASP.NET via des classes dans hello [System.Diagnostics.aspx] (espace de noms https://msdn.microsoft.com/library/system.diagnostics (110).</span><span class="sxs-lookup"><span data-stu-id="7d9e4-272">hello ETW framework is supported in ASP.NET through classes in hello [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) namespace.</span></span> <span data-ttu-id="7d9e4-273">Hello Microsoft.WindowsAzure.Diagnostics espace de noms, qui hérite et étend la norme [System.Diagnostics.aspx] (classes https://msdn.microsoft.com/library/system.diagnostics (110), utilisation de hello permet de () [System.Diagnostics.aspx] https://msdn.Microsoft.com/library/System.Diagnostics (110) comme infrastructure de journalisation Bonjour environnement Azure.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-273">hello Microsoft.WindowsAzure.Diagnostics namespace, which inherits from and extends standard [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) classes, enables hello use of [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) as a logging framework in hello Azure environment.</span></span> <span data-ttu-id="7d9e4-274">Pour plus d’informations, consultez [Contrôler la journalisation et le suivi dans Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) et [Activation de Diagnostics dans les services cloud et les machines virtuelles Azure](cloud-services/cloud-services-dotnet-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="7d9e4-274">For more information, see [Take Control of Logging and Tracing in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) and [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](cloud-services/cloud-services-dotnet-diagnostics.md).</span></span>

### <a name="crash-dumps"></a><span data-ttu-id="7d9e4-275">Vidages sur incident</span><span class="sxs-lookup"><span data-stu-id="7d9e4-275">Crash dumps</span></span>
<span data-ttu-id="7d9e4-276">Si vous souhaitez toocapture informations quand une instance de rôle tombe en panne, sélectionnez hello **activer le transfert des vidages sur incident** case à cocher.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-276">If you want toocapture information about when a role instance crashes, select hello **Enable transfer of Crash Dumps** check box.</span></span> <span data-ttu-id="7d9e4-277">(ASP.NET gérant la plupart des exceptions, cela n’est généralement utile que pour les rôles de travail.) Vous pouvez augmenter ou diminuer le pourcentage de hello de stockage espace consacré vidages sur incident de toohello en modifiant hello **le Quota de répertoire (%)** valeur.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-277">(Because ASP.NET handles most exceptions, this is generally useful only for worker roles.) You can increase or decrease hello percentage of storage space devoted toohello crash dumps by changing hello **Directory Quota (%)** value.</span></span> <span data-ttu-id="7d9e4-278">Vous pouvez modifier le conteneur de stockage hello où les vidages sur incident de hello sont stockées et vous pouvez sélectionner si vous souhaitez toocapture un **complète** ou **Mini** dump.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-278">You can change hello storage container where hello crash dumps are stored, and you can select whether you want toocapture a **Full** or **Mini** dump.</span></span>

<span data-ttu-id="7d9e4-279">processus Hello actuellement suivis sont répertoriés.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-279">hello processes currently being tracked are listed.</span></span> <span data-ttu-id="7d9e4-280">Activez les cases à cocher hello pour les processus hello que vous souhaitez toocapture.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-280">Select hello check boxes for hello processes that you want toocapture.</span></span> <span data-ttu-id="7d9e4-281">tooadd une autre liste de toohello de processus, entrez le nom du processus hello et puis choisissez hello **Ajouter processus** bouton.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-281">tooadd another process toohello list, enter hello process name and then choose hello **Add Process** button.</span></span>

  ![Vidages sur incident](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766026.png)

  <span data-ttu-id="7d9e4-283">Pour plus d’informations, consultez [Contrôler la journalisation et le suivi dans Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) et [Diagnostics Microsoft Azure, partie 4 : composants de journalisation personnalisés et modifications des diagnostics 1.3 Azure](http://justazure.com/microsoft-azure-diagnostics-part-4-custom-logging-components-azure-diagnostics-1-3-changes/).</span><span class="sxs-lookup"><span data-stu-id="7d9e4-283">See [Take Control of Logging and Tracing in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) and [Microsoft Azure Diagnostics Part 4: Custom Logging Components and Azure Diagnostics 1.3 Changes](http://justazure.com/microsoft-azure-diagnostics-part-4-custom-logging-components-azure-diagnostics-1-3-changes/) for more information.</span></span>

## <a name="view-hello-diagnostics-data"></a><span data-ttu-id="7d9e4-284">Afficher les données de diagnostics hello</span><span class="sxs-lookup"><span data-stu-id="7d9e4-284">View hello diagnostics data</span></span>
<span data-ttu-id="7d9e4-285">Une fois que vous avez collecté les données de diagnostic hello pour un service cloud ou une machine virtuelle, vous pouvez l’afficher.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-285">After you’ve collected hello diagnostics data for a cloud service or a virtual machine, you can view it.</span></span>

### <a name="tooview-cloud-service-diagnostics-data"></a><span data-ttu-id="7d9e4-286">données de diagnostic tooview cloud service</span><span class="sxs-lookup"><span data-stu-id="7d9e4-286">tooview cloud service diagnostics data</span></span>
1. <span data-ttu-id="7d9e4-287">Déployez votre service cloud comme d’habitude, puis exécutez-le.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-287">Deploy your cloud service as usual and then run it.</span></span>
2. <span data-ttu-id="7d9e4-288">Vous pouvez afficher les données de diagnostic hello dans un rapport généré par Visual Studio ou des tables dans votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-288">You can view hello diagnostics data in either a report that Visual Studio generates or tables in your storage account.</span></span> <span data-ttu-id="7d9e4-289">les données de salutation tooview dans un rapport, ouvrez **Cloud Explorer** ou **l’Explorateur de serveurs**, ouvrez le menu contextuel de hello du nœud hello pour rôle hello qui vous intéresse, puis choisissez **afficher les données de Diagnostic** .</span><span class="sxs-lookup"><span data-stu-id="7d9e4-289">tooview hello data in a report, open **Cloud Explorer** or **Server Explorer**, open hello shortcut menu of hello node for hello role that interests you, and then choose **View Diagnostic Data**.</span></span>
   
    ![Afficher les données de diagnostic](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC748912.png)
   
    <span data-ttu-id="7d9e4-291">Un rapport qui affiche les données disponibles hello s’affiche.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-291">A report that shows hello available data appears.</span></span>
   
    ![Rapport de diagnostics Microsoft Azure dans Visual Studio](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796666.png)
   
    <span data-ttu-id="7d9e4-293">Si les données les plus récentes hello n’apparaissent pas, vous pouvez avoir toowait pour tooelapse période de transfert hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-293">If hello most recent data doesn't appear, you might have toowait for hello transfer period tooelapse.</span></span>
   
    <span data-ttu-id="7d9e4-294">Choisissez hello **Actualiser** lier des données de hello tooimmediately mise à jour, ou choisissez un intervalle Bonjour **actualisation automatique** déroulante liste toohave hello données mis à jour automatiquement.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-294">Choose hello **Refresh** link tooimmediately update hello data, or choose an interval in hello **Auto-Refresh** dropdown list box toohave hello data updated automatically.</span></span> <span data-ttu-id="7d9e4-295">données d’erreur tooexport hello, choisissez hello **exporter tooCSV** bouton toocreate un fichier de valeurs séparées par des virgules que vous pouvez ouvrir dans une feuille de calcul.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-295">tooexport hello error data, choose hello **Export tooCSV** button toocreate a comma-separated value file you can open in a spreadsheet.</span></span>
   
    <span data-ttu-id="7d9e4-296">Dans **Cloud Explorer** ou **l’Explorateur de serveurs**, ouvrez le compte de stockage hello a associé à un déploiement de hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-296">In **Cloud Explorer** or **Server Explorer**, open hello storage account that's associated with hello deployment.</span></span>
3. <span data-ttu-id="7d9e4-297">Ouvrir des tables de diagnostics hello dans la visionneuse de table hello et examinez les données de salutation que vous avez collectées.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-297">Open hello diagnostics tables in hello table viewer, and then review hello data that you collected.</span></span> <span data-ttu-id="7d9e4-298">Pour les journaux IIS et les journaux personnalisés, vous pouvez ouvrir un conteneur d’objets blob.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-298">For IIS logs and custom logs, you can open a blob container.</span></span> <span data-ttu-id="7d9e4-299">En consultant hello tableau suivant, vous pouvez trouver le conteneur hello table ou un objet blob qui contient les données hello qui vous intéressent.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-299">By reviewing hello following table, you can find hello table or blob container that contains hello data that interests you.</span></span> <span data-ttu-id="7d9e4-300">En outre toohello des données pour ce fichier journal, les entrées de table hello contiennent EventTickCount, DeploymentId, rôle, toohelp RoleInstance vous identifiez la machine virtuelle et rôle de la génération des données de hello et à quel moment.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-300">In addition toohello data for that log file, hello table entries contain EventTickCount, DeploymentId, Role, and RoleInstance toohelp you identify what virtual machine and role generated hello data and when.</span></span> 
   
   | <span data-ttu-id="7d9e4-301">Données de diagnostic</span><span class="sxs-lookup"><span data-stu-id="7d9e4-301">Diagnostic data</span></span> | <span data-ttu-id="7d9e4-302">Description</span><span class="sxs-lookup"><span data-stu-id="7d9e4-302">Description</span></span> | <span data-ttu-id="7d9e4-303">Lieu</span><span class="sxs-lookup"><span data-stu-id="7d9e4-303">Location</span></span> |
   | --- | --- | --- |
   | <span data-ttu-id="7d9e4-304">Journaux d’application</span><span class="sxs-lookup"><span data-stu-id="7d9e4-304">Application Logs</span></span> |<span data-ttu-id="7d9e4-305">Journaux générés par l’appelant des méthodes de hello classe System.Diagnostics.Trace votre code.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-305">Logs that your code generates by calling methods of hello System.Diagnostics.Trace class.</span></span> |<span data-ttu-id="7d9e4-306">WADLogsTable</span><span class="sxs-lookup"><span data-stu-id="7d9e4-306">WADLogsTable</span></span> |
   | <span data-ttu-id="7d9e4-307">Journaux d’événements</span><span class="sxs-lookup"><span data-stu-id="7d9e4-307">Event Logs</span></span> |<span data-ttu-id="7d9e4-308">Ces données sont à partir des journaux des événements Windows hello sur des machines virtuelles de hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-308">This data is from hello Windows event logs on hello virtual machines.</span></span> <span data-ttu-id="7d9e4-309">Windows stocke les informations dans ces journaux, mais les applications et services également les erreurs de tooreport ou enregistrement des informations.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-309">Windows stores information in these logs, but applications and services also use them tooreport errors or log information.</span></span> |<span data-ttu-id="7d9e4-310">WADWindowsEventLogsTable</span><span class="sxs-lookup"><span data-stu-id="7d9e4-310">WADWindowsEventLogsTable</span></span> |
   | <span data-ttu-id="7d9e4-311">Compteurs de performance</span><span class="sxs-lookup"><span data-stu-id="7d9e4-311">Performance Counters</span></span> |<span data-ttu-id="7d9e4-312">Vous pouvez collecter des données sur n’importe quel compteur de performance qui est disponible sur l’ordinateur virtuel de hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-312">You can collect data on any performance counter that’s available on hello virtual machine.</span></span> <span data-ttu-id="7d9e4-313">système d’exploitation de Hello fournit des compteurs de performances qui comprennent de nombreuses statistiques telles que le délai de processeur et de l’utilisation de mémoire.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-313">hello operating system provides performance counters, which include many statistics such as memory usage and processor time.</span></span> |<span data-ttu-id="7d9e4-314">WADPerformanceCountersTable</span><span class="sxs-lookup"><span data-stu-id="7d9e4-314">WADPerformanceCountersTable</span></span> |
   | <span data-ttu-id="7d9e4-315">Journaux d’infrastructure</span><span class="sxs-lookup"><span data-stu-id="7d9e4-315">Infrastructure Logs</span></span> |<span data-ttu-id="7d9e4-316">Ces journaux sont générés à partir de l’infrastructure de diagnostics hello elle-même.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-316">These logs are generated from hello diagnostics infrastructure itself.</span></span> |<span data-ttu-id="7d9e4-317">WADDiagnosticInfrastructureLogsTable</span><span class="sxs-lookup"><span data-stu-id="7d9e4-317">WADDiagnosticInfrastructureLogsTable</span></span> |
   | <span data-ttu-id="7d9e4-318">Journaux IIS</span><span class="sxs-lookup"><span data-stu-id="7d9e4-318">IIS Logs</span></span> |<span data-ttu-id="7d9e4-319">Ces journaux enregistrent les requêtes web.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-319">These logs record web requests.</span></span> <span data-ttu-id="7d9e4-320">Si votre service cloud obtient une quantité importante de trafic, ces journaux peuvent être assez longs. Il est donc conseillé de collecter et de stocker ces données uniquement en cas de besoin.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-320">If your cloud service gets a significant amount of traffic, these logs can be quite lengthy, so you should collect and store this data only when you need it.</span></span> |<span data-ttu-id="7d9e4-321">Vous pouvez trouver l’échec des journaux de requêtes dans le conteneur d’objets blob hello sous wad-iis-failedreqlogs, sous un chemin d’accès pour ce déploiement, le rôle et l’instance.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-321">You can find failed-request logs in hello blob container under wad-iis-failedreqlogs under a path for that deployment, role, and instance.</span></span> <span data-ttu-id="7d9e4-322">Vous trouverez les journaux complets sous wad-iis-logfiles.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-322">You can find complete logs under wad-iis-logfiles.</span></span> <span data-ttu-id="7d9e4-323">Entrées pour chaque fichier sont effectuées dans la table de WADDirectories hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-323">Entries for each file are made in hello WADDirectories table.</span></span> |
   | <span data-ttu-id="7d9e4-324">Vidages sur incident</span><span class="sxs-lookup"><span data-stu-id="7d9e4-324">Crash dumps</span></span> |<span data-ttu-id="7d9e4-325">Ces informations fournissent des images binaires du processus de votre service cloud (généralement, un rôle de travail).</span><span class="sxs-lookup"><span data-stu-id="7d9e4-325">This information provides binary images of your cloud service’s process (typically a worker role).</span></span> |<span data-ttu-id="7d9e4-326">Conteneur d’objets blob wad-crush-dumps</span><span class="sxs-lookup"><span data-stu-id="7d9e4-326">wad-crush-dumps blob container</span></span> |
   | <span data-ttu-id="7d9e4-327">Fichiers journaux personnalisés</span><span class="sxs-lookup"><span data-stu-id="7d9e4-327">Custom log files</span></span> |<span data-ttu-id="7d9e4-328">Journaux de données que vous avez prédéfinis.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-328">Logs of data that you predefined.</span></span> |<span data-ttu-id="7d9e4-329">Vous pouvez spécifier dans l’emplacement des fichiers journaux personnalisés hello du code dans votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-329">You can specify in code hello location of custom log files in your storage account.</span></span> <span data-ttu-id="7d9e4-330">Par exemple, vous pouvez spécifier un conteneur d’objets blob personnalisé.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-330">For example, you can specify a custom blob container.</span></span> |
4. <span data-ttu-id="7d9e4-331">Si les données de n’importe quel type sont tronquées, vous pouvez essayer croissante tampon hello pour ce type de données ou la réduction intervalle hello entre les transferts de données à partir du compte de stockage tooyour hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-331">If data of any type is truncated, you can try increasing hello buffer for that data type or shortening hello interval between transfers of data from hello virtual machine tooyour storage account.</span></span>
5. <span data-ttu-id="7d9e4-332">(facultatif) Purger les données à partir du stockage de hello compte tooreduce parfois les coûts de stockage globaux.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-332">(optional) Purge data from hello storage account occasionally tooreduce overall storage costs.</span></span>
6. <span data-ttu-id="7d9e4-333">Lorsque vous effectuez un déploiement complet, fichier de diagnostics.cscfg hello (.wadcfgx pour Azure SDK 2.5) est mis à jour dans Azure et votre service cloud récupère toute configuration de diagnostics de tooyour de modifications.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-333">When you do a full deployment, hello diagnostics.cscfg file (.wadcfgx for Azure SDK 2.5) is updated in Azure, and your cloud service picks up any changes tooyour diagnostics configuration.</span></span> <span data-ttu-id="7d9e4-334">Si vous, au lieu de cela, mettez à jour un déploiement existant, fichier .cscfg de hello n’est pas mis à jour dans Azure.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-334">If you, instead, update an existing deployment, hello .cscfg file isn’t updated in Azure.</span></span> <span data-ttu-id="7d9e4-335">Vous pouvez toujours modifier les paramètres de diagnostic, cependant, en suivant les étapes de hello dans la section suivante de hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-335">You can still change diagnostics settings, though, by following hello steps in hello next section.</span></span> <span data-ttu-id="7d9e4-336">Pour plus d’informations sur l’exécution d’un déploiement complet et la mise à jour d’un déploiement existant, consultez [Assistant Publication d’application Azure](vs-azure-tools-publish-azure-application-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="7d9e4-336">For more information about performing a full deployment and updating an existing deployment, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span>

### <a name="tooview-virtual-machine-diagnostics-data"></a><span data-ttu-id="7d9e4-337">données de diagnostic de machine virtuelle tooview</span><span class="sxs-lookup"><span data-stu-id="7d9e4-337">tooview virtual machine diagnostics data</span></span>
1. <span data-ttu-id="7d9e4-338">Dans le menu contextuel de hello pour la machine virtuelle de hello, choisissez **afficher les données de Diagnostics**.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-338">On hello shortcut menu for hello virtual machine, choose **View Diagnostics Data**.</span></span>
   
    ![Afficher les données de diagnostic dans la machine virtuelle Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766027.png)
   
    <span data-ttu-id="7d9e4-340">Cette opération ouvre hello **résumé des Diagnostics** fenêtre.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-340">This opens hello **Diagnostics summary** window.</span></span>
   
    ![Résumé des diagnostics de la machine virtuelle Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796667.png)  
   
    <span data-ttu-id="7d9e4-342">Si les données les plus récentes hello n’apparaissent pas, vous pouvez avoir toowait pour tooelapse période de transfert hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-342">If hello most recent data doesn't appear, you might have toowait for hello transfer period tooelapse.</span></span>
   
    <span data-ttu-id="7d9e4-343">Choisissez hello **Actualiser** lier des données de hello tooimmediately mise à jour, ou choisissez un intervalle Bonjour **actualisation automatique** déroulante liste toohave hello données mis à jour automatiquement.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-343">Choose hello **Refresh** link tooimmediately update hello data, or choose an interval in hello **Auto-Refresh** dropdown list box toohave hello data updated automatically.</span></span> <span data-ttu-id="7d9e4-344">données d’erreur tooexport hello, choisissez hello **exporter tooCSV** bouton toocreate un fichier de valeurs séparées par des virgules que vous pouvez ouvrir dans une feuille de calcul.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-344">tooexport hello error data, choose hello **Export tooCSV** button toocreate a comma-separated value file you can open in a spreadsheet.</span></span>

## <a name="configure-cloud-service-diagnostics-after-deployment"></a><span data-ttu-id="7d9e4-345">Configuration des diagnostics de service cloud après déploiement</span><span class="sxs-lookup"><span data-stu-id="7d9e4-345">Configure cloud service diagnostics after deployment</span></span>
<span data-ttu-id="7d9e4-346">Si vous recherchez un problème avec un service cloud en cours d’exécution, vous pourriez toocollect les données que vous n’avez pas spécifié avant le rôle hello déployé à l’origine de vous.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-346">If you're investigating a problem with a cloud service that already running, you might want toocollect data that you didn't specify before you originally deployed hello role.</span></span> <span data-ttu-id="7d9e4-347">Dans ce cas, vous pouvez démarrer toocollect que les données à l’aide des paramètres de hello dans l’Explorateur de serveurs.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-347">In this case, you can start toocollect that data by using hello settings in Server Explorer.</span></span> <span data-ttu-id="7d9e4-348">Vous pouvez configurer les diagnostics pour une instance unique ou de toutes les instances de hello dans un rôle, selon que vous ouvrez la boîte de dialogue de Configuration des Diagnostics hello à partir du menu contextuel de hello pour l’instance de hello ou un rôle de hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-348">You can configure diagnostics for either a single instance or all hello instances in a role, depending on whether you open hello Diagnostics Configuration dialog box from hello shortcut menu for hello instance or hello role.</span></span> <span data-ttu-id="7d9e4-349">Si vous configurez le nœud de rôle hello, toutes les modifications s’appliquent à des instances de tooall.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-349">If you configure hello role node, any changes apply tooall instances.</span></span> <span data-ttu-id="7d9e4-350">Si vous configurez le nœud d’instance hello, toutes les modifications appliquées instance toothat uniquement.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-350">If you configure hello instance node, any changes apply toothat instance only.</span></span>

### <a name="tooconfigure-diagnostics-for-a-running-cloud-service"></a><span data-ttu-id="7d9e4-351">tooconfigure des diagnostics pour un service cloud en cours d’exécution</span><span class="sxs-lookup"><span data-stu-id="7d9e4-351">tooconfigure diagnostics for a running cloud service</span></span>
1. <span data-ttu-id="7d9e4-352">Dans l’Explorateur de serveurs, développez hello **Services de cloud computing** nœud, puis développez le rôle de nœuds toolocate hello ou d’instance que vous souhaitez tooinvestigate ou les deux.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-352">In Server Explorer, expand hello **Cloud Services** node, and then expand nodes toolocate hello role or instance that you want tooinvestigate or both.</span></span>
   
    ![Configuration des diagnostics](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC748913.png)
2. <span data-ttu-id="7d9e4-354">Dans le menu contextuel de hello pour un nœud d’instance ou un nœud de rôle, choisissez **mise à jour les paramètres de diagnostic**, puis, choisissez les paramètres de diagnostic que vous souhaitez toocollect hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-354">On hello shortcut menu for an instance node or a role node, choose **Update Diagnostics Settings**, and then choose hello diagnostic settings that you want toocollect.</span></span>
   
    <span data-ttu-id="7d9e4-355">Pour plus d’informations sur les paramètres de configuration hello, consultez **configurer des sources de données de diagnostics** dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-355">For information about hello configuration settings, see **Configure diagnostics data sources** in this topic.</span></span> <span data-ttu-id="7d9e4-356">Pour plus d’informations sur la façon dont tooview hello les données de diagnostic, consultez **permet d’afficher les données de diagnostic hello** dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-356">For information about how tooview hello diagnostics data, see **View hello diagnostics data** in this topic.</span></span>
   
    <span data-ttu-id="7d9e4-357">Si vous modifiez la collecte de données dans l’ **Explorateur de serveurs**, ces modifications continuent à s’appliquer jusqu’au redéploiement complet de votre service cloud.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-357">If you change data collection in **Server Explorer**, these changes remain in effect until you fully redeploy your cloud service.</span></span> <span data-ttu-id="7d9e4-358">Si vous utilisez des paramètres de publication par défaut de hello, modifications de hello ne sont pas remplacées, car de publication par défaut de hello paramètre déploiement existant de hello tooupdate, plutôt que de faire un redéploiement complet.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-358">If you use hello default publish settings, hello changes are not overwritten, since hello default publish setting is tooupdate hello existing deployment, rather than do a full redeployment.</span></span> <span data-ttu-id="7d9e4-359">paramètres de hello que toomake sont effacés au moment du déploiement, accédez toohello **paramètres avancés** onglet dans l’Assistant de publication hello et désactivez hello **mise à jour du déploiement** case à cocher.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-359">toomake sure hello settings clear at deployment time, go toohello **Advanced Settings** tab in hello Publish wizard and clear hello **Deployment update** checkbox.</span></span> <span data-ttu-id="7d9e4-360">Lorsque vous redéployez cette case à cocher, les paramètres de hello reviennent toothose dans le fichier .wadcfgx (ou .wadcfg) de hello en tant qu’ensemble via l’éditeur de propriétés hello pour le rôle de hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-360">When you redeploy with that checkbox cleared, hello settings revert toothose in hello .wadcfgx (or .wadcfg) file as set through hello Properties editor for hello role.</span></span> <span data-ttu-id="7d9e4-361">Si vous mettez à jour votre déploiement, Azure conserve les anciens paramètres de hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-361">If you update your deployment, Azure keeps hello old settings.</span></span>

## <a name="troubleshoot-azure-cloud-service-issues"></a><span data-ttu-id="7d9e4-362">Dépannage de problèmes de service cloud Azure</span><span class="sxs-lookup"><span data-stu-id="7d9e4-362">Troubleshoot Azure cloud service issues</span></span>
<span data-ttu-id="7d9e4-363">Si vous rencontrez des problèmes avec vos projets de service cloud, par exemple un rôle qui reste bloqué dans un état « occupé », à plusieurs reprises est recyclé, ou lève une erreur interne au serveur, il existe des outils et techniques que vous pouvez utiliser toodiagnose et résoudre ces problèmes.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-363">If you experience problems with your cloud service projects, such as a role that gets stuck in a "busy" status, repeatedly recycles, or throws an internal server error, there are tools and techniques you can use toodiagnose and fix these problems.</span></span> <span data-ttu-id="7d9e4-364">Pour des exemples spécifiques de problèmes courants et solutions, ainsi qu’une vue d’ensemble des concepts de hello et outils utilisés toodiagnose et corriger ces erreurs, consultez [données de diagnostic de calcul PaaS Azure](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span><span class="sxs-lookup"><span data-stu-id="7d9e4-364">For specific examples of common problems and solutions, as well as an overview of hello concepts and tools used toodiagnose and fix such errors, see [Azure PaaS Compute Diagnostics Data](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span></span>

## <a name="q--a"></a><span data-ttu-id="7d9e4-365">Questions et réponses</span><span class="sxs-lookup"><span data-stu-id="7d9e4-365">Q & A</span></span>
<span data-ttu-id="7d9e4-366">**Quelle est la taille de mémoire tampon hello et comment doit-elle être ?**</span><span class="sxs-lookup"><span data-stu-id="7d9e4-366">**What is hello buffer size, and how large should it be?**</span></span>

<span data-ttu-id="7d9e4-367">Sur chaque instance de la machine virtuelle, les quotas de limitent la quantité des données de diagnostic peuvent être stockées sur le système de fichiers local hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-367">On each virtual machine instance, quotas limit how much diagnostic data can be stored on hello local file system.</span></span> <span data-ttu-id="7d9e4-368">De plus, vous pouvez spécifier une taille de mémoire tampon pour chaque type de données de diagnostic disponible.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-368">In addition, you specify a buffer size for each type of diagnostic data that's available.</span></span> <span data-ttu-id="7d9e4-369">Cette taille de mémoire tampon joue le rôle de quota individuel pour ce type de données.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-369">This buffer size acts like an individual quota for that type of data.</span></span> <span data-ttu-id="7d9e4-370">En bas de hello de boîte de dialogue hello sur la vérification, vous pouvez déterminer hello quota global et quantité hello de mémoire restante.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-370">By checking hello bottom of hello dialog box, you can determine hello overall quota and hello amount of memory that remains.</span></span> <span data-ttu-id="7d9e4-371">Si vous spécifiez des mémoires tampons plus volumineuses ou autres types de données, vous approchez hello quota global.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-371">If you specify larger buffers or more types of data, you'll approach hello overall quota.</span></span> <span data-ttu-id="7d9e4-372">Vous pouvez modifier hello quota global en modifiant le fichier de configuration diagnostics.wadcfg/.wadcfgx hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-372">You can change hello overall quota by modifying hello diagnostics.wadcfg/.wadcfgx configuration file.</span></span> <span data-ttu-id="7d9e4-373">diagnostics Hello données sont stockées sur hello même système de fichiers en tant que données de votre application, donc si votre application utilise beaucoup d’espace disque, vous ne devez pas augmenter hello quota global de diagnostics.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-373">hello diagnostics data is stored on hello same filesystem as your application’s data, so if your application uses a lot of disk space, you shouldn’t increase hello overall diagnostics quota.</span></span>

<span data-ttu-id="7d9e4-374">**Quelle est la période de transfert hello et la durée pendant laquelle il convient ?**</span><span class="sxs-lookup"><span data-stu-id="7d9e4-374">**What is hello transfer period, and how long should it be?**</span></span>

<span data-ttu-id="7d9e4-375">période de transfert Hello est hello temps qui s’écoule entre les données de capture.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-375">hello transfer period is hello amount of time that elapses between data captures.</span></span> <span data-ttu-id="7d9e4-376">Après chaque période de transfert, les données sont déplacées à partir du système de fichiers local hello sur une machine virtuelle tootables dans votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-376">After each transfer period, data is moved from hello local filesystem on a virtual machine tootables in your storage account.</span></span> <span data-ttu-id="7d9e4-377">Si montant hello des données collectées dépasse le quota de hello avant la fin de hello d’une période de transfert, les données antérieures sont ignorées.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-377">If hello amount of data that's collected exceeds hello quota before hello end of a transfer period, older data is discarded.</span></span> <span data-ttu-id="7d9e4-378">Vous pouvez choisir la période de transfert hello toodecrease si vous perdez des données, car vos données dépassent la taille de mémoire tampon hello ou hello quota global.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-378">You might want toodecrease hello transfer period if you're losing data because your data exceeds hello buffer size or hello overall quota.</span></span>

<span data-ttu-id="7d9e4-379">**Quel fuseau horaire sont des horodatages dans hello ?**</span><span class="sxs-lookup"><span data-stu-id="7d9e4-379">**What time zone are hello time stamps in?**</span></span>

<span data-ttu-id="7d9e4-380">les horodatages Hello se trouvent dans le fuseau horaire local de hello hello du centre de données qui héberge votre service cloud.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-380">hello time stamps are in hello local time zone of hello data center that hosts your cloud service.</span></span> <span data-ttu-id="7d9e4-381">Hello trois colonnes d’horodateur suivantes dans les tables de journal hello sont utilisées.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-381">hello following three timestamp columns in hello log tables are used.</span></span>

* <span data-ttu-id="7d9e4-382">**PreciseTimeStamp** est l’horodatage ETW de hello d’événement de hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-382">**PreciseTimeStamp** is hello ETW timestamp of hello event.</span></span> <span data-ttu-id="7d9e4-383">Autrement dit, événement hello hello est enregistré à partir du client de hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-383">That is, hello time hello event is logged from hello client.</span></span>
* <span data-ttu-id="7d9e4-384">**HORODATAGE** est la valeur PreciseTimeStamp arrondie toohello limite de fréquence de téléchargement.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-384">**TIMESTAMP** is PreciseTimeStamp rounded down toohello upload frequency boundary.</span></span> <span data-ttu-id="7d9e4-385">Par conséquent, si votre fréquence de téléchargement est de 5 minutes et les événements hello heure 00:17:12, TIMESTAMP sera 00:15:00.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-385">So, if your upload frequency is 5 minutes and hello event time 00:17:12, TIMESTAMP will be 00:15:00.</span></span>
* <span data-ttu-id="7d9e4-386">**Horodatage** est timestamp hello à quels hello entité a été créée dans hello table Azure.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-386">**Timestamp** is hello timestamp at which hello entity was created in hello Azure table.</span></span>

<span data-ttu-id="7d9e4-387">**Comment gérer les coûts pendant la collecte d’informations de diagnostics ?**</span><span class="sxs-lookup"><span data-stu-id="7d9e4-387">**How do I manage costs when collecting diagnostic information?**</span></span>

<span data-ttu-id="7d9e4-388">Hello des paramètres par défaut (**niveau de journal** défini trop**erreur** et **période de transfert** défini trop**1 minute**) sont conçu toominimize de coût.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-388">hello default settings (**Log level** set too**Error** and **Transfer period** set too**1 minute**) are designed toominimize cost.</span></span> <span data-ttu-id="7d9e4-389">Vos coûts de calcul augmente si collecter plus de données de diagnostic ou de réduire la période de transfert hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-389">Your compute costs will increase if you collect more diagnostic data or decrease hello transfer period.</span></span> <span data-ttu-id="7d9e4-390">Ne collectez pas plus de données que vous avez besoin et n’oubliez pas toodisable la collecte de données lorsque vous n’avez plus besoin.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-390">Don’t collect more data than you need, and don’t forget toodisable data collection when you no longer need it.</span></span> <span data-ttu-id="7d9e4-391">Vous pouvez toujours réactiver, même pendant l’exécution, comme indiqué dans la section précédente de hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-391">You can always enable it again, even at runtime, as shown in hello previous section.</span></span>

<span data-ttu-id="7d9e4-392">**Comment recueillir des journaux de demandes IIS ayant échoué ?**</span><span class="sxs-lookup"><span data-stu-id="7d9e4-392">**How do I collect failed-request logs from IIS?**</span></span>

<span data-ttu-id="7d9e4-393">Par défaut, IIS ne collecte pas les journaux de demandes ayant échoué.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-393">By default, IIS doesn’t collect failed-request logs.</span></span> <span data-ttu-id="7d9e4-394">Vous pouvez configurer toocollect IIS les si vous modifiez hello le fichier web.config pour votre rôle web.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-394">You can configure IIS toocollect them if you edit hello web.config file for your web role.</span></span>

<span data-ttu-id="7d9e4-395">**Je n’obtiens pas les informations des méthodes RoleEntryPoint comme OnStart. Que se passe-t-il ?**</span><span class="sxs-lookup"><span data-stu-id="7d9e4-395">**I’m not getting trace information from RoleEntryPoint methods like OnStart. What’s wrong?**</span></span>

<span data-ttu-id="7d9e4-396">méthodes de Hello de RoleEntryPoint sont appelées dans le contexte de hello de WAIISHost.exe, non d’IIS.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-396">hello methods of RoleEntryPoint are called in hello context of WAIISHost.exe, not IIS.</span></span> <span data-ttu-id="7d9e4-397">Hello, par conséquent, les informations de configuration dans le fichier web.config qui normalement ne s’applique pas Active le traçage.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-397">Therefore, hello configuration information in web.config that normally enables tracing doesn’t apply.</span></span> <span data-ttu-id="7d9e4-398">tooresolve ce problème, ajoutez un projet de rôle web tooyour .config fichier et nommez hello fichier toomatch hello assembly de sortie qui contient le code de RoleEntryPoint hello.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-398">tooresolve this issue, add a .config file tooyour web role project, and name hello file toomatch hello output assembly that contains hello RoleEntryPoint code.</span></span> <span data-ttu-id="7d9e4-399">Dans le projet de rôle web par défaut hello nom hello du fichier de hello .config serait WAIISHost.exe.config. Ajoutez ensuite hello lignes toothis fichier suivant :</span><span class="sxs-lookup"><span data-stu-id="7d9e4-399">In hello default web role project, hello name of hello .config file would be WAIISHost.exe.config. Then add hello following lines toothis file:</span></span>

```
<system.diagnostics>
  <trace>
      <listeners>
          <add name “AzureDiagnostics” type=”Microsoft.WindowsAzure.Diagnostics.DiagnosticMonitorTraceListener”>
              <filter type=”” />
          </add>
      </listeners>
  </trace>
</system.diagnostics>
```

<span data-ttu-id="7d9e4-400">Maintenant, dans hello **propriétés** fenêtre, jeu hello **copier tooOutput active** propriété trop**toujours copier**.</span><span class="sxs-lookup"><span data-stu-id="7d9e4-400">Now, in hello **Properties** window, set hello **Copy tooOutput Directory** property too**Copy always**.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7d9e4-401">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="7d9e4-401">Next steps</span></span>
<span data-ttu-id="7d9e4-402">toolearn savoir plus sur les diagnostics de journalisation dans Azure, consultez [activation des Diagnostics dans Azure Cloud Services et Machines virtuelles](cloud-services/cloud-services-dotnet-diagnostics.md) et [activer la journalisation des diagnostics pour les applications web dans Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md).</span><span class="sxs-lookup"><span data-stu-id="7d9e4-402">toolearn more about diagnostics logging in Azure, see [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](cloud-services/cloud-services-dotnet-diagnostics.md) and [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md).</span></span>

