---
title: les clusters avec Data Lake Store aaaUse hello toocreate portail Azure Azure HDInsight | Documents Microsoft
description: Utiliser hello toocreate portail Azure et utiliser des clusters HDInsight avec Azure Data Lake Store
services: data-lake-store,hdinsight
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
ms.assetid: a8c45a83-a8e3-4227-8b02-1bc1e1de6767
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 08/14/2017
ms.author: nitinme
ms.openlocfilehash: f23113d444a3c5a01894dba29f75f3621b2d16bd
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="create-hdinsight-clusters-with-data-lake-store-by-using-hello-azure-portal"></a><span data-ttu-id="56fb6-103">Créer des clusters HDInsight avec Data Lake Store à l’aide de hello portail Azure</span><span class="sxs-lookup"><span data-stu-id="56fb6-103">Create HDInsight clusters with Data Lake Store by using hello Azure portal</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="56fb6-104">Utilisez hello portail Azure</span><span class="sxs-lookup"><span data-stu-id="56fb6-104">Use hello Azure portal</span></span>](data-lake-store-hdinsight-hadoop-use-portal.md)
> * [<span data-ttu-id="56fb6-105">Utiliser PowerShell (pour le stockage par défaut)</span><span class="sxs-lookup"><span data-stu-id="56fb6-105">Use PowerShell (for default storage)</span></span>](data-lake-store-hdinsight-hadoop-use-powershell-for-default-storage.md)
> * [<span data-ttu-id="56fb6-106">Utiliser PowerShell (pour le stockage supplémentaire)</span><span class="sxs-lookup"><span data-stu-id="56fb6-106">Use PowerShell (for additional storage)</span></span>](data-lake-store-hdinsight-hadoop-use-powershell.md)
> * [<span data-ttu-id="56fb6-107">Utiliser Resource Manager</span><span class="sxs-lookup"><span data-stu-id="56fb6-107">Use Resource Manager</span></span>](data-lake-store-hdinsight-hadoop-use-resource-manager-template.md)
>
>

<span data-ttu-id="56fb6-108">Découvrez comment toouse hello toocreate portail Azure un cluster HDInsight avec un compte Azure Data Lake Store en tant que stockage par défaut de hello ou un stockage supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="56fb6-108">Learn how toouse hello Azure portal toocreate a HDInsight cluster with an Azure Data Lake Store account as hello default storage or an additional storage.</span></span> <span data-ttu-id="56fb6-109">Bien que le stockage supplémentaire est facultatif pour un cluster HDInsight, il est recommandé de toostore vos données d’entreprise dans les comptes de stockage supplémentaires hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-109">Even though additional storage is optional for a HDInsight cluster, it is recommended toostore your business data in hello additional storage accounts.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="56fb6-110">Composants requis</span><span class="sxs-lookup"><span data-stu-id="56fb6-110">Prerequisites</span></span>
<span data-ttu-id="56fb6-111">Avant de commencer ce didacticiel, assurez-vous que vous avez répondu hello suivant les exigences :</span><span class="sxs-lookup"><span data-stu-id="56fb6-111">Before you begin this tutorial, ensure that you've met hello following requirements:</span></span>

* <span data-ttu-id="56fb6-112">**Un abonnement Azure**.</span><span class="sxs-lookup"><span data-stu-id="56fb6-112">**An Azure subscription**.</span></span> <span data-ttu-id="56fb6-113">Accédez trop[version d’évaluation gratuite de Azure d’obtenir](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="56fb6-113">Go too[Get Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="56fb6-114">**Un compte Azure Data Lake Store**.</span><span class="sxs-lookup"><span data-stu-id="56fb6-114">**An Azure Data Lake Store account**.</span></span> <span data-ttu-id="56fb6-115">Suivez les instructions hello [prise en main Azure Data Lake Store à l’aide de hello Azure portal](data-lake-store-get-started-portal.md).</span><span class="sxs-lookup"><span data-stu-id="56fb6-115">Follow hello instructions from [Get started with Azure Data Lake Store by using hello Azure portal](data-lake-store-get-started-portal.md).</span></span> <span data-ttu-id="56fb6-116">Vous devez également créer un dossier racine sur le compte de hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-116">You must also create a root folder on hello account.</span></span>  <span data-ttu-id="56fb6-117">Dans ce didacticiel, un dossier racine appelé __/clusters__ est utilisé.</span><span class="sxs-lookup"><span data-stu-id="56fb6-117">In this tutorial, a root folder called __/clusters__ is used.</span></span>
* <span data-ttu-id="56fb6-118">**Un principal de service Azure Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="56fb6-118">**An Azure Active Directory service principal**.</span></span> <span data-ttu-id="56fb6-119">Ce didacticiel fournit des instructions sur la façon de toocreate un principal de service dans Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="56fb6-119">This tutorial provides instructions on how toocreate a service principal in Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="56fb6-120">Toutefois, de le toocreate un principal de service, vous devez être un administrateur Azure AD.</span><span class="sxs-lookup"><span data-stu-id="56fb6-120">However, toocreate a service principal, you must be an Azure AD administrator.</span></span> <span data-ttu-id="56fb6-121">Si vous êtes un administrateur, vous pouvez ignorer cette condition préalable et poursuivre le didacticiel de hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-121">If you are an administrator, you can skip this prerequisite and proceed with hello tutorial.</span></span>

    >[!NOTE]
    ><span data-ttu-id="56fb6-122">Vous pouvez créer un principal de service uniquement si vous être administrateur Azure AD.</span><span class="sxs-lookup"><span data-stu-id="56fb6-122">You can create a service principal only if you are an Azure AD administrator.</span></span> <span data-ttu-id="56fb6-123">Votre administrateur Azure AD doit créer un principal de service. Vous pouvez ensuite créer un cluster HDInsight avec Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="56fb6-123">Your Azure AD administrator must create a service principal before you can create an HDInsight cluster with Data Lake Store.</span></span> <span data-ttu-id="56fb6-124">En outre, le principal du service hello doit être créée avec un certificat, comme décrit dans [créer un principal de service avec certificat](../azure-resource-manager/resource-group-authenticate-service-principal.md#create-service-principal-with-self-signed-certificate).</span><span class="sxs-lookup"><span data-stu-id="56fb6-124">Also, hello service principal must be created with a certificate, as described at [Create a service principal with certificate](../azure-resource-manager/resource-group-authenticate-service-principal.md#create-service-principal-with-self-signed-certificate).</span></span>
    >

## <a name="create-an-hdinsight-cluster"></a><span data-ttu-id="56fb6-125">Création d'un cluster HDInsight</span><span class="sxs-lookup"><span data-stu-id="56fb6-125">Create an HDInsight cluster</span></span>

<span data-ttu-id="56fb6-126">Dans cette section, vous créez un cluster HDInsight avec des comptes Data Lake Store en tant que valeur par défaut hello hello supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="56fb6-126">In this section, you create a HDInsight cluster with Data Lake Store accounts as hello default or hello additional storage.</span></span> <span data-ttu-id="56fb6-127">Cet article traite uniquement la partie hello de la configuration de comptes Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="56fb6-127">This article only focuses hello part of configuring Data Lake Store accounts.</span></span>  <span data-ttu-id="56fb6-128">Pour les informations de la création de cluster général hello et des procédures, consultez [Hadoop de créer des clusters dans HDInsight](../hdinsight/hdinsight-hadoop-provision-linux-clusters.md).</span><span class="sxs-lookup"><span data-stu-id="56fb6-128">For hello general cluster creation information and procedures, see [Create Hadoop clusters in HDInsight](../hdinsight/hdinsight-hadoop-provision-linux-clusters.md).</span></span>

### <a name="create-a-cluster-with-data-lake-store-as-default-storage"></a><span data-ttu-id="56fb6-129">Création d’un cluster avec Data Lake Store en tant que stockage par défaut</span><span class="sxs-lookup"><span data-stu-id="56fb6-129">Create a cluster with Data Lake Store as default storage</span></span>

<span data-ttu-id="56fb6-130">**toocreate un HDInsight cluster avec un Data Lake Store en tant que compte de stockage par défaut hello**</span><span class="sxs-lookup"><span data-stu-id="56fb6-130">**toocreate a HDInsight cluster with a Data Lake Store as hello default storage account**</span></span>

1. <span data-ttu-id="56fb6-131">Connectez-vous à toohello [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="56fb6-131">Sign in toohello [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="56fb6-132">Suivez [créer des clusters](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) pour des informations générales hello sur la création de clusters HDInsight.</span><span class="sxs-lookup"><span data-stu-id="56fb6-132">Follow [Create clusters](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) for hello general information on creating HDInsight clusters.</span></span>
3. <span data-ttu-id="56fb6-133">Sur hello **stockage** panneau, sous **type de stockage principal**, sélectionnez **Data Lake Store**, puis entrez hello informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="56fb6-133">On hello **Storage** blade, under **Primary storage type**, select **Data Lake Store**, and then enter hello following information:</span></span>

    <span data-ttu-id="56fb6-134">![Cluster tooHDInsight principal de service ajouter](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.adls.storage.png "ajouter service tooHDInsight principal de cluster")</span><span class="sxs-lookup"><span data-stu-id="56fb6-134">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.adls.storage.png "Add service principal tooHDInsight cluster")</span></span>

    - <span data-ttu-id="56fb6-135">**Sélectionner un compte Data Lake Store** : sélectionnez un compte Data Lake Store existant.</span><span class="sxs-lookup"><span data-stu-id="56fb6-135">**Select Data Lake Store account**: Select an existing Data Lake Store account.</span></span> <span data-ttu-id="56fb6-136">Un compte Data Lake Store existant est requis.</span><span class="sxs-lookup"><span data-stu-id="56fb6-136">An existing Data Lake Store account is required.</span></span>  <span data-ttu-id="56fb6-137">Consultez les [Conditions préalables](#prereuisites).</span><span class="sxs-lookup"><span data-stu-id="56fb6-137">See [Prerequisites](#prereuisites).</span></span>
    - <span data-ttu-id="56fb6-138">**Chemin d’accès racine**: entrez un chemin d’accès où les fichiers spécifiques à un cluster hello sont toobe stockée.</span><span class="sxs-lookup"><span data-stu-id="56fb6-138">**Root path**: Enter a path where hello cluster-specific files are toobe stored.</span></span> <span data-ttu-id="56fb6-139">Sur la capture d’écran de hello, il est __/clusters/myhdiadlcluster/__, dans quel hello __/clusters__ dossier doit exister, et crée hello Portal *myhdicluster* dossier.</span><span class="sxs-lookup"><span data-stu-id="56fb6-139">On hello screenshot, it is __/clusters/myhdiadlcluster/__, in which hello __/clusters__ folder must exist, and hello Portal creates *myhdicluster* folder.</span></span>  <span data-ttu-id="56fb6-140">Hello *myhdicluster* est le nom du cluster hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-140">hello *myhdicluster* is hello cluster name.</span></span>
    - <span data-ttu-id="56fb6-141">**Accès de Data Lake Store**: configurer l’accès entre le compte Data Lake Store de hello et du cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="56fb6-141">**Data Lake Store access**: Configure access between hello Data Lake Store account and HDInsight cluster.</span></span> <span data-ttu-id="56fb6-142">Pour obtenir des instructions, consultez [Configurer l’accès aux données Data Lake Store](#configure-data-lake-store-access).</span><span class="sxs-lookup"><span data-stu-id="56fb6-142">For instructions, see [Configure Data Lake Store access](#configure-data-lake-store-access).</span></span>
    - <span data-ttu-id="56fb6-143">**Comptes de stockage supplémentaires**: comptes d’ajouter des comptes de stockage Azure en tant que stockage supplémentaire pour le cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-143">**Additional storage accounts**: Add Azure Storage Accounts as additional storage accounts for hello cluster.</span></span> <span data-ttu-id="56fb6-144">Magasins de LAC de données supplémentaires tooadd est effectué en attribuant des autorisations de cluster hello sur les données de plusieurs comptes Data Lake Store lors de la configuration d’un compte Data Lake Store en tant que type de stockage principal hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-144">tooadd additional Data Lake Stores is done by giving hello cluster permissions on data in more Data Lake Store accounts while configuring a Data Lake Store account as hello primary storage type.</span></span> <span data-ttu-id="56fb6-145">Consultez [Configurer l’accès à Data Lake Store](#configure-data-lake-store-access).</span><span class="sxs-lookup"><span data-stu-id="56fb6-145">See [Configure Data Lake Store access](#configure-data-lake-store-access).</span></span>

4. <span data-ttu-id="56fb6-146">Sur hello **l’accès Data Lake Store**, cliquez sur **sélectionnez**, puis continuez la création du cluster, comme décrit dans [Hadoop de créer des clusters dans HDInsight](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md).</span><span class="sxs-lookup"><span data-stu-id="56fb6-146">On hello **Data Lake Store access**, click **Select**, and then continue with cluster creation as described in [Create Hadoop clusters in HDInsight](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md).</span></span>


### <a name="create-a-cluster-with-data-lake-store-as-additional-storage"></a><span data-ttu-id="56fb6-147">Création d’un cluster avec Data Lake Store en tant que stockage supplémentaire</span><span class="sxs-lookup"><span data-stu-id="56fb6-147">Create a cluster with Data Lake Store as additional storage</span></span>

<span data-ttu-id="56fb6-148">Hello instructions suivantes créer un cluster HDInsight avec un compte de stockage Azure en tant que stockage par défaut de hello et d’un compte Data Lake Store en tant qu’un stockage supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="56fb6-148">hello following instructions create a HDInsight cluster with an Azure Storage account as hello default storage, and a Data Lake Store account as an additional storage.</span></span>
<span data-ttu-id="56fb6-149">**toocreate un HDInsight cluster avec un Data Lake Store en tant que compte de stockage par défaut hello**</span><span class="sxs-lookup"><span data-stu-id="56fb6-149">**toocreate a HDInsight cluster with a Data Lake Store as hello default storage account**</span></span>

1. <span data-ttu-id="56fb6-150">Connectez-vous à toohello [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="56fb6-150">Sign in toohello [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="56fb6-151">Suivez [créer des clusters](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) pour des informations générales hello sur la création de clusters HDInsight.</span><span class="sxs-lookup"><span data-stu-id="56fb6-151">Follow [Create clusters](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) for hello general information on creating HDInsight clusters.</span></span>
3. <span data-ttu-id="56fb6-152">Sur hello **stockage** panneau, sous **type de stockage principal**, sélectionnez **Azure Storage**, puis entrez hello informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="56fb6-152">On hello **Storage** blade, under **Primary storage type**, select **Azure Storage**, and then enter hello following information:</span></span>

    <span data-ttu-id="56fb6-153">![Cluster tooHDInsight principal de service ajouter](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.png "ajouter service tooHDInsight principal de cluster")</span><span class="sxs-lookup"><span data-stu-id="56fb6-153">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.png "Add service principal tooHDInsight cluster")</span></span>

    - <span data-ttu-id="56fb6-154">**Méthode de sélection**: utilisez une des options suivantes de hello :</span><span class="sxs-lookup"><span data-stu-id="56fb6-154">**Selection method**: use one of hello following options:</span></span>

        * <span data-ttu-id="56fb6-155">toospecify un compte de stockage qui fait partie de votre abonnement Azure, sélectionnez **Mes abonnements**, puis sélectionnez le compte de stockage hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-155">toospecify a storage account that is part of your Azure subscription, select **My subscriptions**, and then select hello storage account.</span></span>
        * <span data-ttu-id="56fb6-156">toospecify un compte de stockage qui se trouve en dehors de votre abonnement Azure, sélectionnez **clé d’accès**, puis fournissez les informations de hello pour hello en dehors du compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="56fb6-156">toospecify a storage account that is outside your Azure subscription, select **Access key**, and then provide hello information for hello outside storage account.</span></span>

    - <span data-ttu-id="56fb6-157">**Conteneur par défaut**: utiliser hello valeur par défaut ou spécifier votre propre nom.</span><span class="sxs-lookup"><span data-stu-id="56fb6-157">**Default container**: use either hello default value or specify your own name.</span></span>

    - <span data-ttu-id="56fb6-158">Les comptes de stockage supplémentaires : ajouter plusieurs comptes de stockage Azure en tant qu’espace de stockage supplémentaire hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-158">Additional Storage accounts: add more Azure Storage accounts as hello additional storage.</span></span>
    - <span data-ttu-id="56fb6-159">Accès de Data Lake Store : configurer l’accès entre le compte Data Lake Store de hello et du cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="56fb6-159">Data Lake Store access: configure access between hello Data Lake Store account and HDInsight cluster.</span></span> <span data-ttu-id="56fb6-160">Pour obtenir des instructions, consultez [Configurer l’accès aux données Data Lake Store](#configure-data-lake-store-access).</span><span class="sxs-lookup"><span data-stu-id="56fb6-160">For instructions see [Configure Data Lake Store access](#configure-data-lake-store-access).</span></span>

## <a name="configure-data-lake-store-access"></a><span data-ttu-id="56fb6-161">Configurer l’accès aux données Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="56fb6-161">Configure Data Lake Store access</span></span> 

<span data-ttu-id="56fb6-162">Dans cette section, vous configurez l’accès à Data Lake Store à partir des clusters HDInsight au moyen d’un principal du service Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="56fb6-162">In this section, you configure Data Lake Store access from HDInsight clusters using an Azure Active Directory service principal.</span></span> 

### <a name="specify-a-service-principal"></a><span data-ttu-id="56fb6-163">Spécifier un principal du service</span><span class="sxs-lookup"><span data-stu-id="56fb6-163">Specify a service principal</span></span>

<span data-ttu-id="56fb6-164">À partir de hello portail Azure, vous pouvez utiliser un principal de service existant ou créez-en un.</span><span class="sxs-lookup"><span data-stu-id="56fb6-164">From hello Azure portal, you can either use an existing service principal or create a new one.</span></span>

<span data-ttu-id="56fb6-165">**toocreate un principal de service à partir de hello portail Azure**</span><span class="sxs-lookup"><span data-stu-id="56fb6-165">**toocreate a service principal from hello Azure portal**</span></span>

1. <span data-ttu-id="56fb6-166">Cliquez sur **l’accès Data Lake Store** à partir du Panneau de magasin hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-166">Click **Data Lake Store access** from hello Store blade.</span></span>
2. <span data-ttu-id="56fb6-167">Sur hello **l’accès Data Lake Store** panneau, cliquez sur **nouvel**.</span><span class="sxs-lookup"><span data-stu-id="56fb6-167">On hello **Data Lake Store access** blade, click **Create new**.</span></span>
3. <span data-ttu-id="56fb6-168">Cliquez sur **Principal du Service**, puis suivez les instructions de hello toocreate un principal de service.</span><span class="sxs-lookup"><span data-stu-id="56fb6-168">Click **Service Principal**, and then follow hello instructions toocreate a service principal.</span></span>
4. <span data-ttu-id="56fb6-169">Télécharger le certificat de hello si vous décidez de toouse à nouveau dans hello futures.</span><span class="sxs-lookup"><span data-stu-id="56fb6-169">Download hello certificate if you decide toouse it again in hello future.</span></span> <span data-ttu-id="56fb6-170">Téléchargement du certificat de hello est utile que si vous souhaitez toouse hello même service principal lorsque vous créez des clusters HDInsight supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="56fb6-170">Downloading hello certificate is useful if you want toouse hello same service principal when you create additional HDInsight clusters.</span></span>

    <span data-ttu-id="56fb6-171">![Cluster tooHDInsight principal de service ajouter](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.2.png "ajouter service tooHDInsight principal de cluster")</span><span class="sxs-lookup"><span data-stu-id="56fb6-171">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.2.png "Add service principal tooHDInsight cluster")</span></span>

4. <span data-ttu-id="56fb6-172">Cliquez sur **accès** accès au dossier de tooconfigure hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-172">Click **Access** tooconfigure hello folder access.</span></span>  <span data-ttu-id="56fb6-173">Reportez-vous à [Configurer les autorisations des fichiers](#configure-file-permissions).</span><span class="sxs-lookup"><span data-stu-id="56fb6-173">See [Configure file permissions](#configure-file-permissions).</span></span>


<span data-ttu-id="56fb6-174">**toouse un service existant principal à partir de hello portail Azure**</span><span class="sxs-lookup"><span data-stu-id="56fb6-174">**toouse an existing service principal from hello Azure portal**</span></span>

1. <span data-ttu-id="56fb6-175">Cliquez sur **Accès à Data Lake Store**.</span><span class="sxs-lookup"><span data-stu-id="56fb6-175">Click **Data Lake Store access**.</span></span>
1. <span data-ttu-id="56fb6-176">Sur hello **l’accès Data Lake Store** panneau, cliquez sur **existant**.</span><span class="sxs-lookup"><span data-stu-id="56fb6-176">On hello **Data Lake Store access** blade, click **Use existing**.</span></span>
2. <span data-ttu-id="56fb6-177">Cliquez sur **Principal du service**, puis sélectionnez un principal du service.</span><span class="sxs-lookup"><span data-stu-id="56fb6-177">Click **Service Principal**, and then select a service principal.</span></span> 
3. <span data-ttu-id="56fb6-178">Télécharger hello certificat (fichier .pfx) qui est associé à votre principal de service sélectionné, puis entrez le mot de passe du certificat hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-178">Upload hello certificate (.pfx file) that's associated with your selected service principal, and then enter hello certificate password.</span></span>

    <span data-ttu-id="56fb6-179">![Cluster tooHDInsight principal de service ajouter](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.5.png "ajouter service tooHDInsight principal de cluster")</span><span class="sxs-lookup"><span data-stu-id="56fb6-179">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.5.png "Add service principal tooHDInsight cluster")</span></span>

4. <span data-ttu-id="56fb6-180">Cliquez sur **accès** accès au dossier de tooconfigure hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-180">Click **Access** tooconfigure hello folder access.</span></span>  <span data-ttu-id="56fb6-181">Reportez-vous à [Configurer les autorisations des fichiers](#configure-file-permissions).</span><span class="sxs-lookup"><span data-stu-id="56fb6-181">See [Configure file permissions](#configure-file-permissions).</span></span>


### <span data-ttu-id="56fb6-182"><a name="configure-file-permissions"></a>Configurer les autorisations des fichiers</span><span class="sxs-lookup"><span data-stu-id="56fb6-182"><a name="configure-file-permissions"></a>Configure file permissions</span></span>

<span data-ttu-id="56fb6-183">Hello configure sont différentes selon que le compte de hello est utilisée en tant que stockage par défaut de hello ou un compte de stockage supplémentaire :</span><span class="sxs-lookup"><span data-stu-id="56fb6-183">hello configures are different depending on whether hello account is used as hello default storage or an additional storage account:</span></span>

- <span data-ttu-id="56fb6-184">Utilisation en tant que stockage par défaut</span><span class="sxs-lookup"><span data-stu-id="56fb6-184">Used as default storage</span></span>

    - <span data-ttu-id="56fb6-185">autorisation au niveau racine de hello Hello compte Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="56fb6-185">permission at hello root level of hello Data Lake Store account</span></span>
    - <span data-ttu-id="56fb6-186">autorisation au niveau racine de hello Hello stockage du cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="56fb6-186">permission at hello root level of hello HDInsight cluster storage.</span></span> <span data-ttu-id="56fb6-187">Par exemple, hello __/clusters__ dossier utilisé précédemment dans le didacticiel de hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-187">For example, hello __/clusters__ folder used earlier in hello tutorial.</span></span>
- <span data-ttu-id="56fb6-188">Utilisation en tant que stockage supplémentaire</span><span class="sxs-lookup"><span data-stu-id="56fb6-188">Use as an additional storage</span></span>

    - <span data-ttu-id="56fb6-189">Autorisation dossiers hello où vous avez besoin d’accès au fichier.</span><span class="sxs-lookup"><span data-stu-id="56fb6-189">Permission at hello folders where you need file access.</span></span>

<span data-ttu-id="56fb6-190">**autorisation tooassign à hello au niveau racine de compte Data Lake Store**</span><span class="sxs-lookup"><span data-stu-id="56fb6-190">**tooassign permission at hello Data Lake Store account root level**</span></span>

1. <span data-ttu-id="56fb6-191">Sur hello **l’accès Data Lake Store** panneau, cliquez sur **accès**.</span><span class="sxs-lookup"><span data-stu-id="56fb6-191">On hello **Data Lake Store access** blade, click **Access**.</span></span> <span data-ttu-id="56fb6-192">Hello **sélectionner les autorisations de fichier** panneau est ouvert.</span><span class="sxs-lookup"><span data-stu-id="56fb6-192">hello **Select file permissions** blade is opened.</span></span> <span data-ttu-id="56fb6-193">Il répertorie tous les comptes Data Lake Store hello votre abonnement.</span><span class="sxs-lookup"><span data-stu-id="56fb6-193">It lists all hello Data Lake Store accounts in your subscription.</span></span>
2. <span data-ttu-id="56fb6-194">Placez le curseur (ne cliquez pas sur) souris hello sur nom hello Hello compte Data Lake Store toomake hello case visible, puis sélectionnez hello case à cocher.</span><span class="sxs-lookup"><span data-stu-id="56fb6-194">Hover (do not click) hello mouse over hello name of hello Data Lake Store account toomake hello check box visible, then select hello check box.</span></span>

    <span data-ttu-id="56fb6-195">![Cluster tooHDInsight principal de service ajouter](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3.png "ajouter service tooHDInsight principal de cluster")</span><span class="sxs-lookup"><span data-stu-id="56fb6-195">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3.png "Add service principal tooHDInsight cluster")</span></span>

  <span data-ttu-id="56fb6-196">Par défaut, __READ__, __WRITE__ ET __EXECUTE__ sont tous sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="56fb6-196">By default, __READ__, __WRITE__, AND __EXECUTE__ are all selected.</span></span>

3. <span data-ttu-id="56fb6-197">Cliquez sur **sélectionnez** bas hello de page de hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-197">Click **Select** on hello bottom of hello page.</span></span>
4. <span data-ttu-id="56fb6-198">Cliquez sur **exécuter** tooassign autorisation.</span><span class="sxs-lookup"><span data-stu-id="56fb6-198">Click **Run** tooassign permission.</span></span>
5. <span data-ttu-id="56fb6-199">Cliquez sur **Done**.</span><span class="sxs-lookup"><span data-stu-id="56fb6-199">Click **Done**.</span></span>

<span data-ttu-id="56fb6-200">**autorisation tooassign à hello au niveau racine de cluster HDInsight**</span><span class="sxs-lookup"><span data-stu-id="56fb6-200">**tooassign permission at hello HDInsight cluster root level**</span></span>

1. <span data-ttu-id="56fb6-201">Sur hello **l’accès Data Lake Store** panneau, cliquez sur **accès**.</span><span class="sxs-lookup"><span data-stu-id="56fb6-201">On hello **Data Lake Store access** blade, click **Access**.</span></span> <span data-ttu-id="56fb6-202">Hello **sélectionner les autorisations de fichier** panneau est ouvert.</span><span class="sxs-lookup"><span data-stu-id="56fb6-202">hello **Select file permissions** blade is opened.</span></span> <span data-ttu-id="56fb6-203">Il répertorie tous les comptes Data Lake Store hello votre abonnement.</span><span class="sxs-lookup"><span data-stu-id="56fb6-203">It lists all hello Data Lake Store accounts in your subscription.</span></span>
1. <span data-ttu-id="56fb6-204">À partir de hello **sélectionner les autorisations de fichier** panneau, cliquez sur hello Data Lake Store nom tooshow son contenu.</span><span class="sxs-lookup"><span data-stu-id="56fb6-204">From hello **Select file permissions** blade, click hello Data Lake Store name tooshow its content.</span></span>
2. <span data-ttu-id="56fb6-205">Sélectionnez la racine de stockage du cluster HDInsight hello en sélectionnant la case à cocher hello sur gauche hello du dossier de hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-205">Select hello HDInsight cluster storage root by selecting hello checkbox on hello left of hello folder.</span></span> <span data-ttu-id="56fb6-206">En fonction de capture d’écran de toohello précédemment, est de racine de stockage du cluster hello __/clusters__ dossier que vous avez spécifié lors de la sélection hello Data Lake Store en tant que stockage de la valeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="56fb6-206">According toohello screenshot earlier, hello cluster storage root is __/clusters__ folder that you specified while selecting hello Data Lake Store as default storage.</span></span>
3. <span data-ttu-id="56fb6-207">Définir les autorisations de hello sur le dossier de hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-207">Set hello permissions on hello folder.</span></span>  <span data-ttu-id="56fb6-208">Par défaut, les autorisations en lecture, écriture et exécution sont toutes sélectionnées.</span><span class="sxs-lookup"><span data-stu-id="56fb6-208">By default, read, write, and execute are all selected.</span></span>
4. <span data-ttu-id="56fb6-209">Cliquez sur **sélectionnez** bas hello de page de hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-209">Click **Select** on hello bottom of hello page.</span></span>
5. <span data-ttu-id="56fb6-210">Cliquez sur **Exécuter**.</span><span class="sxs-lookup"><span data-stu-id="56fb6-210">Click **Run**.</span></span>
6. <span data-ttu-id="56fb6-211">Cliquez sur **Done**.</span><span class="sxs-lookup"><span data-stu-id="56fb6-211">Click **Done**.</span></span>

<span data-ttu-id="56fb6-212">Si vous utilisez Data Lake Store en tant que stockage supplémentaire, vous devez attribuer autorisation uniquement pour les dossiers de hello que vous souhaitez tooaccess à partir du cluster HDInsight de hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-212">If you are using Data Lake Store as additional storage, you must assign permission only for hello folders that you want tooaccess from hello HDInsight cluster.</span></span> <span data-ttu-id="56fb6-213">Par exemple, dans la capture d’écran de hello ci-dessous, vous procurez aux accès uniquement trop**hdiaddonstorage** dossier dans un compte Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="56fb6-213">For example, in hello screenshot below, you provide access only too**hdiaddonstorage** folder in a Data Lake Store account.</span></span>

<span data-ttu-id="56fb6-214">![Affecter le service de cluster principal autorisations toohello HDInsight](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3-1.png "le cluster HDInsight toohello affecter service principal d’autorisations")</span><span class="sxs-lookup"><span data-stu-id="56fb6-214">![Assign service principal permissions toohello HDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3-1.png "Assign service principal permissions toohello HDInsight cluster")</span></span>


## <a name="verify-cluster-set-up"></a><span data-ttu-id="56fb6-215">Vérification de la configuration de cluster</span><span class="sxs-lookup"><span data-stu-id="56fb6-215">Verify cluster set up</span></span>

<span data-ttu-id="56fb6-216">Après l’installation de cluster hello, dans Panneau de cluster hello, vérifiez vos résultats en effectuant l’une ou les deux hello comme suit :</span><span class="sxs-lookup"><span data-stu-id="56fb6-216">After hello cluster setup is complete, on hello cluster blade, verify your results by doing either or both of hello following steps:</span></span>

* <span data-ttu-id="56fb6-217">tooverify hello stockage associé pour le cluster de hello est compte Data Lake Store hello que vous avez spécifié, puis cliquez sur **comptes de stockage** dans le volet gauche de hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-217">tooverify that hello associated storage for hello cluster is hello Data Lake Store account that you specified, click **Storage accounts** in hello left pane.</span></span>

    <span data-ttu-id="56fb6-218">![Cluster tooHDInsight principal de service ajouter](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6-1.png "ajouter service tooHDInsight principal de cluster")</span><span class="sxs-lookup"><span data-stu-id="56fb6-218">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6-1.png "Add service principal tooHDInsight cluster")</span></span>

* <span data-ttu-id="56fb6-219">tooverify qui hello principal du service est correctement associé au cluster HDInsight de hello, cliquez sur **l’accès Data Lake Store** dans le volet gauche de hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-219">tooverify that hello service principal is correctly associated with hello HDInsight cluster, click **Data Lake Store access** in hello left pane.</span></span>

    <span data-ttu-id="56fb6-220">![Cluster tooHDInsight principal de service ajouter](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6.png "ajouter service tooHDInsight principal de cluster")</span><span class="sxs-lookup"><span data-stu-id="56fb6-220">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6.png "Add service principal tooHDInsight cluster")</span></span>


## <a name="examples"></a><span data-ttu-id="56fb6-221">Exemples</span><span class="sxs-lookup"><span data-stu-id="56fb6-221">Examples</span></span>

<span data-ttu-id="56fb6-222">Après que vous avez configuré cluster hello avec Data Lake Store en tant que votre stockage, consultez les exemples de toothese de comment toouse HDInsight cluster données hello tooanalyze qui sont stockées dans Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="56fb6-222">After you have set up hello cluster with Data Lake Store as your storage, refer toothese examples of how toouse HDInsight cluster tooanalyze hello data that's stored in Data Lake Store.</span></span>

### <a name="run-a-hive-query-against-data-in-a-data-lake-store-as-primary-storage"></a><span data-ttu-id="56fb6-223">Exécuter une requête Hive sur des données stockées dans Data Lake Store (comme stockage principal)</span><span class="sxs-lookup"><span data-stu-id="56fb6-223">Run a Hive query against data in a Data Lake Store (as primary storage)</span></span>

<span data-ttu-id="56fb6-224">toorun une requête Hive, utiliser l’interface de vues hello Hive dans le portail de Ambari hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-224">toorun a Hive query, use hello Hive views interface in hello Ambari portal.</span></span> <span data-ttu-id="56fb6-225">Pour savoir comment toouse Ambari ruche vues, consultez [hello d’utiliser la ruche de vue avec Hadoop dans HDInsight](../hdinsight/hdinsight-hadoop-use-hive-ambari-view.md).</span><span class="sxs-lookup"><span data-stu-id="56fb6-225">For instructions on how toouse Ambari Hive views, see [Use hello Hive View with Hadoop in HDInsight](../hdinsight/hdinsight-hadoop-use-hive-ambari-view.md).</span></span>

<span data-ttu-id="56fb6-226">Lorsque vous travaillez avec des données dans un magasin Data Lake Store, il existe quelques chaînes toochange.</span><span class="sxs-lookup"><span data-stu-id="56fb6-226">When you work with data in a Data Lake Store, there are a few strings toochange.</span></span>

<span data-ttu-id="56fb6-227">Si vous utilisez, par exemple, hello cluster que vous avez créé avec Data Lake Store comme stockage principal, les données de toohello hello chemin d’accès sont : *adl : / / < data_lake_store_account_name > /azuredatalakestore.net/path/to/file*.</span><span class="sxs-lookup"><span data-stu-id="56fb6-227">If you use, for example, hello cluster that you created with Data Lake Store as primary storage, hello path toohello data is: *adl://<data_lake_store_account_name>/azuredatalakestore.net/path/to/file*.</span></span> <span data-ttu-id="56fb6-228">Un toocreate de requête Hive une table à partir d’exemples de données qui sont stockés dans hello compte Data Lake Store ressemble à hello après l’instruction :</span><span class="sxs-lookup"><span data-stu-id="56fb6-228">A Hive query toocreate a table from sample data that's stored in hello Data Lake Store account looks like hello following statement:</span></span>

    CREATE EXTERNAL TABLE websitelog (str string) LOCATION 'adl://hdiadlsstorage.azuredatalakestore.net/clusters/myhdiadlcluster/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/'

<span data-ttu-id="56fb6-229">Descriptions :</span><span class="sxs-lookup"><span data-stu-id="56fb6-229">Descriptions:</span></span>
* <span data-ttu-id="56fb6-230">`adl://hdiadlstorage.azuredatalakestore.net/`est la racine hello hello compte Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="56fb6-230">`adl://hdiadlstorage.azuredatalakestore.net/` is hello root of hello Data Lake Store account.</span></span>
* <span data-ttu-id="56fb6-231">`/clusters/myhdiadlcluster`est la racine hello des données de cluster hello que vous avez spécifié lors de la création du cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-231">`/clusters/myhdiadlcluster` is hello root of hello cluster data that you specified while creating hello cluster.</span></span>
* <span data-ttu-id="56fb6-232">`/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/`est l’emplacement hello du fichier d’exemple hello que vous avez utilisé dans la requête de hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-232">`/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/` is hello location of hello sample file that you used in hello query.</span></span>

### <a name="run-a-hive-query-against-data-in-a-data-lake-store-as-additional-storage"></a><span data-ttu-id="56fb6-233">Exécuter une requête Hive sur des données dans Data Lake Store (comme stockage supplémentaire)</span><span class="sxs-lookup"><span data-stu-id="56fb6-233">Run a Hive query against data in a Data Lake Store (as additional storage)</span></span>

<span data-ttu-id="56fb6-234">Si le cluster hello que vous avez créé utilise le stockage d’objets Blob en tant que stockage par défaut, les données d’exemple hello ne sont pas contenues dans hello compte Azure Data Lake Store qui est utilisé comme espace de stockage supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="56fb6-234">If hello cluster that you created uses Blob storage as default storage, hello sample data is not contained in hello Azure Data Lake Store account that's used as additional storage.</span></span> <span data-ttu-id="56fb6-235">Dans ce cas, tout d’abord transférer les données de salutation de toohello de stockage d’objets Blob Data Lake Store, puis exécutez des requêtes de hello comme indiqué dans le précédent exemple de hello.</span><span class="sxs-lookup"><span data-stu-id="56fb6-235">In such a case, first transfer hello data from Blob storage toohello Data Lake Store, and then run hello queries as shown in hello preceding example.</span></span>

<span data-ttu-id="56fb6-236">Pour plus d’informations sur la façon dont toocopy depuis le stockage Blob tooa Data Lake du magasin de données, consultez hello suivant des articles :</span><span class="sxs-lookup"><span data-stu-id="56fb6-236">For information on how toocopy data from Blob storage tooa Data Lake Store, see hello following articles:</span></span>

* [<span data-ttu-id="56fb6-237">Utiliser des données de toocopy Distcp entre les objets BLOB de stockage Azure et Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="56fb6-237">Use Distcp toocopy data between Azure Storage blobs and Data Lake Store</span></span>](data-lake-store-copy-data-wasb-distcp.md)
* [<span data-ttu-id="56fb6-238">Utiliser des données de toocopy AdlCopy depuis le stockage Azure BLOB tooData Lake Store</span><span class="sxs-lookup"><span data-stu-id="56fb6-238">Use AdlCopy toocopy data from Azure Storage blobs tooData Lake Store</span></span>](data-lake-store-copy-data-azure-storage-blob.md)

### <a name="use-data-lake-store-with-a-spark-cluster"></a><span data-ttu-id="56fb6-239">Utiliser Data Lake Store avec un cluster Spark</span><span class="sxs-lookup"><span data-stu-id="56fb6-239">Use Data Lake Store with a Spark cluster</span></span>
<span data-ttu-id="56fb6-240">Vous pouvez utiliser les travaux du Spark toorun un cluster Spark sur les données stockées dans un Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="56fb6-240">You can use a Spark cluster toorun Spark jobs on data that is stored in a Data Lake Store.</span></span> <span data-ttu-id="56fb6-241">Pour plus d’informations, consultez [données de tooanalyze du cluster utilisez HDInsight Spark dans Data Lake Store](../hdinsight/hdinsight-apache-spark-use-with-data-lake-store.md).</span><span class="sxs-lookup"><span data-stu-id="56fb6-241">For more information, see [Use HDInsight Spark cluster tooanalyze data in Data Lake Store](../hdinsight/hdinsight-apache-spark-use-with-data-lake-store.md).</span></span>


### <a name="use-data-lake-store-in-a-storm-topology"></a><span data-ttu-id="56fb6-242">Utiliser Data Lake Store dans une topologie Storm</span><span class="sxs-lookup"><span data-stu-id="56fb6-242">Use Data Lake Store in a Storm topology</span></span>
<span data-ttu-id="56fb6-243">Vous pouvez utiliser les données de toowrite hello Data Lake Store à partir d’une topologie Storm.</span><span class="sxs-lookup"><span data-stu-id="56fb6-243">You can use hello Data Lake Store toowrite data from a Storm topology.</span></span> <span data-ttu-id="56fb6-244">Pour obtenir des instructions sur la façon de tooachieve ce scénario, consultez [utilisez Azure Data Lake Store avec Apache Storm hdinsight](../hdinsight/hdinsight-storm-write-data-lake-store.md).</span><span class="sxs-lookup"><span data-stu-id="56fb6-244">For instructions on how tooachieve this scenario, see [Use Azure Data Lake Store with Apache Storm with HDInsight](../hdinsight/hdinsight-storm-write-data-lake-store.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="56fb6-245">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="56fb6-245">See also</span></span>
* [<span data-ttu-id="56fb6-246">PowerShell : Créer un toouse du cluster HDInsight Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="56fb6-246">PowerShell: Create an HDInsight cluster toouse Data Lake Store</span></span>](data-lake-store-hdinsight-hadoop-use-powershell.md)

[makecert]: https://msdn.microsoft.com/library/windows/desktop/ff548309(v=vs.85).aspx
[pvk2pfx]: https://msdn.microsoft.com/library/windows/desktop/ff550672(v=vs.85).aspx
