---
title: "Authentification de service à service : Data Lake Store à l’aide d’Azure Active Directory | Microsoft Docs"
description: "Découvrez comment l’authentification de service tooachieve avec Data Lake Store à l’aide d’Azure Active Directory"
services: data-lake-store
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
ms.assetid: 820b7c5d-4863-4225-9bd1-df4d8f515537
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 04/21/2017
ms.author: nitinme
ms.openlocfilehash: 2e56237a75f020067b3248a1e1cfaf3c8df1371c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="service-to-service-authentication-with-data-lake-store-using-azure-active-directory"></a><span data-ttu-id="3acb4-103">Authentification de service à service auprès de Data Lake Store à l’aide d’Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="3acb4-103">Service-to-service authentication with Data Lake Store using Azure Active Directory</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="3acb4-104">Authentification de service à service</span><span class="sxs-lookup"><span data-stu-id="3acb4-104">Service-to-service authentication</span></span>](data-lake-store-authenticate-using-active-directory.md)
> * [<span data-ttu-id="3acb4-105">Authentification de l’utilisateur final</span><span class="sxs-lookup"><span data-stu-id="3acb4-105">End-user authentication</span></span>](data-lake-store-end-user-authenticate-using-active-directory.md)
> 
> 

<span data-ttu-id="3acb4-106">Azure Data Lake Store utilise Azure Active Directory pour l’authentification.</span><span class="sxs-lookup"><span data-stu-id="3acb4-106">Azure Data Lake Store uses Azure Active Directory for authentication.</span></span> <span data-ttu-id="3acb4-107">Avant la création d’une application qui fonctionne avec Azure Data Lake Store ou Analytique de LAC de données Azure, vous devez d’abord déterminer comment vous voulez tooauthenticate votre application avec Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="3acb4-107">Before authoring an application that works with Azure Data Lake Store or Azure Data Lake Analytics, you must first decide how you would like tooauthenticate your application with Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="3acb4-108">Hello deux options disponibles sont :</span><span class="sxs-lookup"><span data-stu-id="3acb4-108">hello two main options available are:</span></span>

* <span data-ttu-id="3acb4-109">Authentification de l’utilisateur final</span><span class="sxs-lookup"><span data-stu-id="3acb4-109">End-user authentication</span></span> 
* <span data-ttu-id="3acb4-110">Authentification de service à service (cet article)</span><span class="sxs-lookup"><span data-stu-id="3acb4-110">Service-to-service authentication (this article)</span></span> 

<span data-ttu-id="3acb4-111">Ces deux options entraîner dans votre application qui est fournie avec un jeton OAuth 2.0, qui obtient tooeach attaché demande faite tooAzure Data Lake Store ou Analytique de LAC de données Azure.</span><span class="sxs-lookup"><span data-stu-id="3acb4-111">Both these options result in your application being provided with an OAuth 2.0 token, which gets attached tooeach request made tooAzure Data Lake Store or Azure Data Lake Analytics.</span></span>

<span data-ttu-id="3acb4-112">Cet article traite de la création d’une **application web Azure AD pour l’authentification de service à service**.</span><span class="sxs-lookup"><span data-stu-id="3acb4-112">This article talks about how create an **Azure AD web application for service-to-service authentication**.</span></span> <span data-ttu-id="3acb4-113">Pour obtenir des instructions sur la configuration de l’application Azure AD pour l’authentification de l’utilisateur final, consultez [Authentification d’utilisateur final auprès de Data Lake Store à l’aide d’Azure Active Directory](data-lake-store-end-user-authenticate-using-active-directory.md).</span><span class="sxs-lookup"><span data-stu-id="3acb4-113">For instructions on Azure AD application configuration for end-user authentication see [End-user authentication with Data Lake Store using Azure Active Directory](data-lake-store-end-user-authenticate-using-active-directory.md).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="3acb4-114">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="3acb4-114">Prerequisites</span></span>
* <span data-ttu-id="3acb4-115">Un abonnement Azure.</span><span class="sxs-lookup"><span data-stu-id="3acb4-115">An Azure subscription.</span></span> <span data-ttu-id="3acb4-116">Consultez la rubrique [Obtenir une version d'évaluation gratuite d'Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="3acb4-116">See [Get Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>

## <a name="step-1-create-an-active-directory-web-application"></a><span data-ttu-id="3acb4-117">Étape 1 : Créer une application web Active Directory</span><span class="sxs-lookup"><span data-stu-id="3acb4-117">Step 1: Create an Active Directory web application</span></span>

<span data-ttu-id="3acb4-118">Créez et configurez une application web Azure AD pour l’authentification de service à service auprès d’Azure Data Lake Store à l’aide d’Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="3acb4-118">Create and configure an Azure AD web application for service-to-service authentication with Azure Data Lake Store using Azure Active Directory.</span></span> <span data-ttu-id="3acb4-119">Pour obtenir des instructions, consultez la page [Créer une application Azure AD](../azure-resource-manager/resource-group-create-service-principal-portal.md).</span><span class="sxs-lookup"><span data-stu-id="3acb4-119">For instructions, see [Create an Azure AD application](../azure-resource-manager/resource-group-create-service-principal-portal.md).</span></span>

<span data-ttu-id="3acb4-120">Tout en suivant les instructions de hello en hello au-dessus de lien, veillez à sélectionner **application Web / API** pour le type d’application, comme indiqué dans la capture d’écran hello ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="3acb4-120">While following hello instructions at hello above link, make sure you select **Web App / API** for application type, as shown in hello screenshot below.</span></span>

<span data-ttu-id="3acb4-121">![Créer une application web](./media/data-lake-store-authenticate-using-active-directory/azure-active-directory-create-web-app.png "Créer une application web")</span><span class="sxs-lookup"><span data-stu-id="3acb4-121">![Create web app](./media/data-lake-store-authenticate-using-active-directory/azure-active-directory-create-web-app.png "Create web app")</span></span>

## <a name="step-2-get-application-id-authentication-key-and-tenant-id"></a><span data-ttu-id="3acb4-122">Étape 2 : obtenir un ID d’application, une clé d’authentification et un ID de locataire</span><span class="sxs-lookup"><span data-stu-id="3acb4-122">Step 2: Get application id, authentication key, and tenant id</span></span>
<span data-ttu-id="3acb4-123">Lors de la connexion par programme, vous devez les id hello pour votre application.</span><span class="sxs-lookup"><span data-stu-id="3acb4-123">When programmatically logging in, you need hello id for your application.</span></span> <span data-ttu-id="3acb4-124">Si l’application hello s’exécute sous ses propres informations d’identification, vous devez également une clé d’authentification.</span><span class="sxs-lookup"><span data-stu-id="3acb4-124">If hello application runs under its own credentials, you will also need an authentication key.</span></span>

* <span data-ttu-id="3acb4-125">Pour obtenir des instructions sur la façon dont tooretrieve ID de l’application hello et l’authentification de clé (également appelée hello question secrète du client) pour votre application, consultez [clé ID et l’authentification d’application Get](../azure-resource-manager/resource-group-create-service-principal-portal.md#get-application-id-and-authentication-key).</span><span class="sxs-lookup"><span data-stu-id="3acb4-125">For instructions on how tooretrieve hello application ID and authentication key (also called hello client secret) for your application, see [Get application ID and authentication key](../azure-resource-manager/resource-group-create-service-principal-portal.md#get-application-id-and-authentication-key).</span></span>

* <span data-ttu-id="3acb4-126">Pour savoir comment tooretrieve hello ID client, consultez [obtenir l’ID](../azure-resource-manager/resource-group-create-service-principal-portal.md#get-tenant-id).</span><span class="sxs-lookup"><span data-stu-id="3acb4-126">For instructions on how tooretrieve hello tenant ID, see [Get tenant ID](../azure-resource-manager/resource-group-create-service-principal-portal.md#get-tenant-id).</span></span>

## <a name="step-3-assign-hello-azure-ad-application-toohello-azure-data-lake-store-account-file-or-folder-only-for-service-to-service-authentication"></a><span data-ttu-id="3acb4-127">Étape 3 : Assigner hello Azure application toohello Azure Data Lake Store compte fichier ou dossier (uniquement pour l’authentification de service)</span><span class="sxs-lookup"><span data-stu-id="3acb4-127">Step 3: Assign hello Azure AD application toohello Azure Data Lake Store account file or folder (only for service-to-service authentication)</span></span>
1. <span data-ttu-id="3acb4-128">Ouverture de session toohello nouvelle [portail Azure](https://portal.azure.com) et ouvrir un compte d’Azure Data Lake Store hello que vous souhaitez tooassociate avec hello application Azure Active Directory que vous avez créé précédemment.</span><span class="sxs-lookup"><span data-stu-id="3acb4-128">Sign on toohello new [Azure portal](https://portal.azure.com) and open hello Azure Data Lake Store account that you want tooassociate with hello Azure Active Directory application you created earlier.</span></span>
2. <span data-ttu-id="3acb4-129">Dans le panneau de votre compte Data Lake Store, cliquez sur **Explorateur de données**.</span><span class="sxs-lookup"><span data-stu-id="3acb4-129">In your Data Lake Store account blade, click **Data Explorer**.</span></span>
   
    <span data-ttu-id="3acb4-130">![Créer des répertoires dans un compte Data Lake Store](./media/data-lake-store-authenticate-using-active-directory/adl.start.data.explorer.png "Créer des répertoires dans un compte Data Lake Store")</span><span class="sxs-lookup"><span data-stu-id="3acb4-130">![Create directories in Data Lake Store account](./media/data-lake-store-authenticate-using-active-directory/adl.start.data.explorer.png "Create directories in Data Lake account")</span></span>
3. <span data-ttu-id="3acb4-131">Bonjour **Explorateur de données** panneau, cliquez sur le fichier de hello ou un dossier pour lequel vous souhaitez tooprovide accès toohello AD Azure application, puis cliquez sur **accès**.</span><span class="sxs-lookup"><span data-stu-id="3acb4-131">In hello **Data Explorer** blade, click hello file or folder for which you want tooprovide access toohello Azure AD application, and then click **Access**.</span></span> <span data-ttu-id="3acb4-132">fichier de tooa tooconfigure access, vous devez cliquer sur **accès** de hello **l’aperçu du fichier** panneau.</span><span class="sxs-lookup"><span data-stu-id="3acb4-132">tooconfigure access tooa file, you must click **Access** from hello **File Preview** blade.</span></span>
   
    <span data-ttu-id="3acb4-133">![Définir des ACL sur le système de fichiers Data Lake](./media/data-lake-store-authenticate-using-active-directory/adl.acl.1.png "Définir des ACL sur le système de fichiers Data Lake")</span><span class="sxs-lookup"><span data-stu-id="3acb4-133">![Set ACLs on Data Lake file system](./media/data-lake-store-authenticate-using-active-directory/adl.acl.1.png "Set ACLs on Data Lake file system")</span></span>
4. <span data-ttu-id="3acb4-134">Hello **accès** panneau répertorie les accès standard hello et accès personnalisé déjà affecté toohello racine.</span><span class="sxs-lookup"><span data-stu-id="3acb4-134">hello **Access** blade lists hello standard access and custom access already assigned toohello root.</span></span> <span data-ttu-id="3acb4-135">Cliquez sur hello **ajouter** icône tooadd personnalisée au niveau du ACL.</span><span class="sxs-lookup"><span data-stu-id="3acb4-135">Click hello **Add** icon tooadd custom-level ACLs.</span></span>
   
    <span data-ttu-id="3acb4-136">![Lister les accès standard et personnalisés](./media/data-lake-store-authenticate-using-active-directory/adl.acl.2.png "Lister les accès standard et personnalisés")</span><span class="sxs-lookup"><span data-stu-id="3acb4-136">![List standard and custom access](./media/data-lake-store-authenticate-using-active-directory/adl.acl.2.png "List standard and custom access")</span></span>
5. <span data-ttu-id="3acb4-137">Cliquez sur hello **ajouter** hello de tooopen icône **ajouter un accès personnalisé à** panneau.</span><span class="sxs-lookup"><span data-stu-id="3acb4-137">Click hello **Add** icon tooopen hello **Add Custom Access** blade.</span></span> <span data-ttu-id="3acb4-138">Dans ce panneau, cliquez sur **sélectionner utilisateur ou groupe**, puis dans **sélectionner utilisateur ou groupe** panneau, recherchez l’application Azure Active Directory de hello vous avez créé précédemment.</span><span class="sxs-lookup"><span data-stu-id="3acb4-138">In this blade, click **Select User or Group**, and then in **Select User or Group** blade, look for hello Azure Active Directory application you created earlier.</span></span> <span data-ttu-id="3acb4-139">Si vous avez un grand nombre de toosearch de groupes à partir de, utilisez la zone de texte de hello à toofilter supérieur de hello sur le nom du groupe hello.</span><span class="sxs-lookup"><span data-stu-id="3acb4-139">If you have a lot of groups toosearch from, use hello text box at hello top toofilter on hello group name.</span></span> <span data-ttu-id="3acb4-140">Cliquez sur le groupe hello tooadd et puis cliquez sur **sélectionnez**.</span><span class="sxs-lookup"><span data-stu-id="3acb4-140">Click hello group you want tooadd and then click **Select**.</span></span>
   
    <span data-ttu-id="3acb4-141">![Ajouter un groupe](./media/data-lake-store-authenticate-using-active-directory/adl.acl.3.png "Ajouter un groupe")</span><span class="sxs-lookup"><span data-stu-id="3acb4-141">![Add a group](./media/data-lake-store-authenticate-using-active-directory/adl.acl.3.png "Add a group")</span></span>
6. <span data-ttu-id="3acb4-142">Cliquez sur **autorisations Select**, sélectionnez les autorisations hello et si vous souhaitez définir des autorisations hello tooassign comme une ACL par défaut, accès ACL, ou les deux.</span><span class="sxs-lookup"><span data-stu-id="3acb4-142">Click **Select Permissions**, select hello permissions and whether you want tooassign hello permissions as a default ACL, access ACL, or both.</span></span> <span data-ttu-id="3acb4-143">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="3acb4-143">Click **OK**.</span></span>
   
    <span data-ttu-id="3acb4-144">![Affecter des autorisations toogroup](./media/data-lake-store-authenticate-using-active-directory/adl.acl.4.png "affecter des autorisations toogroup")</span><span class="sxs-lookup"><span data-stu-id="3acb4-144">![Assign permissions toogroup](./media/data-lake-store-authenticate-using-active-directory/adl.acl.4.png "Assign permissions toogroup")</span></span>
   
    <span data-ttu-id="3acb4-145">Pour plus d’informations sur les autorisations dans Data Lake Store et sur les ACL par défaut ou d’accès, consultez [Contrôle d’accès dans Azure Data Lake Store](data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="3acb4-145">For more information about permissions in Data Lake Store, and Default/Access ACLs, see [Access Control in Data Lake Store](data-lake-store-access-control.md).</span></span>
7. <span data-ttu-id="3acb4-146">Bonjour **ajouter un accès personnalisé à** panneau, cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="3acb4-146">In hello **Add Custom Access** blade, click **OK**.</span></span> <span data-ttu-id="3acb4-147">Hello récemment ajouté de groupe, avec des autorisations hello associée, est maintenant listée dans hello **accès** panneau.</span><span class="sxs-lookup"><span data-stu-id="3acb4-147">hello newly added group, with hello associated permissions, will now be listed in hello **Access** blade.</span></span>
   
    <span data-ttu-id="3acb4-148">![Affecter des autorisations toogroup](./media/data-lake-store-authenticate-using-active-directory/adl.acl.5.png "affecter des autorisations toogroup")</span><span class="sxs-lookup"><span data-stu-id="3acb4-148">![Assign permissions toogroup](./media/data-lake-store-authenticate-using-active-directory/adl.acl.5.png "Assign permissions toogroup")</span></span>

## <a name="step-4-get-hello-oauth-20-token-endpoint-only-for-java-based-applications"></a><span data-ttu-id="3acb4-149">Étape 4 : Obtenir le point de terminaison token hello OAuth 2.0 (uniquement pour les applications Java)</span><span class="sxs-lookup"><span data-stu-id="3acb4-149">Step 4: Get hello OAuth 2.0 token endpoint (only for Java-based applications)</span></span>

1. <span data-ttu-id="3acb4-150">Ouverture de session toohello nouvelle [portail Azure](https://portal.azure.com) et cliquez sur Active Directory à partir du volet de gauche hello.</span><span class="sxs-lookup"><span data-stu-id="3acb4-150">Sign on toohello new [Azure portal](https://portal.azure.com) and click Active Directory from hello left pane.</span></span>

2. <span data-ttu-id="3acb4-151">Dans le volet gauche de hello, cliquez sur **inscriptions d’application**.</span><span class="sxs-lookup"><span data-stu-id="3acb4-151">From hello left pane, click **App registrations**.</span></span>

3. <span data-ttu-id="3acb4-152">À partir du haut de hello du panneau des enregistrements de l’application hello, cliquez sur **points de terminaison**.</span><span class="sxs-lookup"><span data-stu-id="3acb4-152">From hello top of hello App registrations blade, click **Endpoints**.</span></span>

    <span data-ttu-id="3acb4-153">![Point de terminaison de jeton OAuth](./media/data-lake-store-authenticate-using-active-directory/oauth-token-endpoint.png "Point de terminaison de jeton OAuth")</span><span class="sxs-lookup"><span data-stu-id="3acb4-153">![OAuth token endpoint](./media/data-lake-store-authenticate-using-active-directory/oauth-token-endpoint.png "OAuth token endpoint")</span></span>

4. <span data-ttu-id="3acb4-154">À partir de la liste hello de points de terminaison, copiez le point de terminaison token hello OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="3acb4-154">From hello list of endpoints, copy hello OAuth 2.0 token endpoint.</span></span>

    <span data-ttu-id="3acb4-155">![Point de terminaison de jeton OAuth](./media/data-lake-store-authenticate-using-active-directory/oauth-token-endpoint-1.png "Point de terminaison de jeton OAuth")</span><span class="sxs-lookup"><span data-stu-id="3acb4-155">![OAuth token endpoint](./media/data-lake-store-authenticate-using-active-directory/oauth-token-endpoint-1.png "OAuth token endpoint")</span></span>   

## <a name="next-steps"></a><span data-ttu-id="3acb4-156">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="3acb4-156">Next steps</span></span>
<span data-ttu-id="3acb4-157">Dans cet article vous créé une application web de Azure AD et collecté les informations de hello dans vos applications clientes, vous devez créer à l’aide du Kit de développement .NET, Java SDK, etc.. Vous pouvez maintenant toohello suivant des articles de parler de la façon dont toouse hello AD Azure web application toofirst s’authentifient avec Data Lake Store et autres opérations sur le magasin de hello.</span><span class="sxs-lookup"><span data-stu-id="3acb4-157">In this article you created an Azure AD web application and gathered hello information you need in your client applications that you author using .NET SDK, Java SDK, etc. You can now proceed toohello following articles that talk about how toouse hello Azure AD web application toofirst authenticate with Data Lake Store and then perform other operations on hello store.</span></span>

* [<span data-ttu-id="3acb4-158">Prise en main d'Azure Data Lake Store avec le Kit de développement logiciel (SDK) .NET</span><span class="sxs-lookup"><span data-stu-id="3acb4-158">Get started with Azure Data Lake Store using .NET SDK</span></span>](data-lake-store-get-started-net-sdk.md)
* [<span data-ttu-id="3acb4-159">Prise en main d’Azure Data Lake Store à l’aide du Kit de développement logiciel (SDK) Java</span><span class="sxs-lookup"><span data-stu-id="3acb4-159">Get started with Azure Data Lake Store using Java SDK</span></span>](data-lake-store-get-started-java-sdk.md)

<span data-ttu-id="3acb4-160">Cet article vous a présenté via tooget nécessaires des étapes de base de hello un utilisateur principal haut et en cours d’exécution pour votre application.</span><span class="sxs-lookup"><span data-stu-id="3acb4-160">This article walked you through hello basic steps needed tooget a user principal up and running for your application.</span></span> <span data-ttu-id="3acb4-161">Vous pouvez examiner hello informations supplémentaires de tooget articles suivantes :</span><span class="sxs-lookup"><span data-stu-id="3acb4-161">You can look at hello following articles tooget further information:</span></span>
* [<span data-ttu-id="3acb4-162">Utiliser PowerShell toocreate service principal</span><span class="sxs-lookup"><span data-stu-id="3acb4-162">Use PowerShell toocreate service principal</span></span>](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-authenticate-service-principal)
* [<span data-ttu-id="3acb4-163">Utiliser l’authentification de certificat pour l’authentification du principal du service</span><span class="sxs-lookup"><span data-stu-id="3acb4-163">Use certificate authentication for service principal authentication</span></span>](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-authenticate-service-principal#create-service-principal-with-certificate)
* [<span data-ttu-id="3acb4-164">Autres tooAzure tooauthenticate de méthodes AD</span><span class="sxs-lookup"><span data-stu-id="3acb4-164">Other methods tooauthenticate tooAzure AD</span></span>](https://docs.microsoft.com/en-us/azure/active-directory/active-directory-authentication-scenarios)


