---
title: "aaaPlanning hello la capacité de cluster Service Fabric | Documents Microsoft"
description: "Considérations en matière de planification de la capacité du cluster Service Fabric. Types de nœuds, durabilité et niveaux de fiabilité"
services: service-fabric
documentationcenter: .net
author: ChackDan
manager: timlt
editor: 
ms.assetid: 4c584f4a-cb1f-400c-b61f-1f797f11c982
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/24/2017
ms.author: chackdan
ms.openlocfilehash: 83272ce7fefe698eef755cf66493c2874cc3b120
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="service-fabric-cluster-capacity-planning-considerations"></a><span data-ttu-id="68631-104">Considérations en matière de planification de la capacité du cluster Service Fabric</span><span class="sxs-lookup"><span data-stu-id="68631-104">Service Fabric cluster capacity planning considerations</span></span>
<span data-ttu-id="68631-105">Pour un déploiement de production, la planification de la capacité est une étape importante.</span><span class="sxs-lookup"><span data-stu-id="68631-105">For any production deployment, capacity planning is an important step.</span></span> <span data-ttu-id="68631-106">Voici certains éléments hello que vous avez tooconsider dans le cadre de ce processus.</span><span class="sxs-lookup"><span data-stu-id="68631-106">Here are some of hello items that you have tooconsider as a part of that process.</span></span>

* <span data-ttu-id="68631-107">vos besoins de cluster toostart out avec les types nombre Hello du nœud</span><span class="sxs-lookup"><span data-stu-id="68631-107">hello number of node types your cluster needs toostart out with</span></span>
* <span data-ttu-id="68631-108">propriétés Hello de chaque type de nœud (taille, principal, et internet en vis-à-vis, le nombre de machines virtuelles, etc.).</span><span class="sxs-lookup"><span data-stu-id="68631-108">hello properties of each of node type (size, primary, internet facing, number of VMs, etc.)</span></span>
* <span data-ttu-id="68631-109">caractéristiques de fiabilité et de durabilité Hello du cluster de hello</span><span class="sxs-lookup"><span data-stu-id="68631-109">hello reliability and durability characteristics of hello cluster</span></span>

<span data-ttu-id="68631-110">Nous allons présenter brièvement chacun de ces éléments.</span><span class="sxs-lookup"><span data-stu-id="68631-110">Let us briefly review each of these items.</span></span>

## <a name="hello-number-of-node-types-your-cluster-needs-toostart-out-with"></a><span data-ttu-id="68631-111">vos besoins de cluster toostart out avec les types nombre Hello du nœud</span><span class="sxs-lookup"><span data-stu-id="68631-111">hello number of node types your cluster needs toostart out with</span></span>
<span data-ttu-id="68631-112">Tout d’abord, vous devez toofigure est en train de toobe utilisé pour le cluster hello que vous créez et quels types d’applications que vous prévoyez toodeploy dans ce cluster.</span><span class="sxs-lookup"><span data-stu-id="68631-112">First, you need toofigure out what hello cluster you are creating is going toobe used for and what kinds of applications you are planning toodeploy into this cluster.</span></span> <span data-ttu-id="68631-113">Si vous n’êtes pas effacer dans le but hello du cluster de hello, vous ne sont probablement pas encore prêt du processus de planification de capacité tooenter hello.</span><span class="sxs-lookup"><span data-stu-id="68631-113">If you are not clear on hello purpose of hello cluster, you are most likely not yet ready tooenter hello capacity planning process.</span></span>

<span data-ttu-id="68631-114">Établir le nombre de hello de votre cluster doit toostart out avec des types de nœuds.</span><span class="sxs-lookup"><span data-stu-id="68631-114">Establish hello number of node types your cluster needs toostart out with.</span></span>  <span data-ttu-id="68631-115">Chaque type de nœud est mappé tooa ensemble d’échelle de Machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="68631-115">Each node type is mapped tooa Virtual Machine Scale Set.</span></span> <span data-ttu-id="68631-116">Chaque type de nœud peut ensuite faire l’objet d’une montée ou descente en puissance de manière indépendante, avoir différents jeux de ports ouverts et présenter différentes métriques de capacité.</span><span class="sxs-lookup"><span data-stu-id="68631-116">Each node type can then be scaled up or down independently, have different sets of ports open, and can have different capacity metrics.</span></span> <span data-ttu-id="68631-117">Par conséquent, décision hello du nombre de hello des types de nœuds revient essentiellement de toohello suivant considérations :</span><span class="sxs-lookup"><span data-stu-id="68631-117">So hello decision of hello number of node types essentially comes down toohello following considerations:</span></span>

* <span data-ttu-id="68631-118">Votre application a-t-elle plusieurs services, et certains d'entre eux doivent toobe public ou connecté à internet ?</span><span class="sxs-lookup"><span data-stu-id="68631-118">Does your application have multiple services, and do any of them need toobe public or internet facing?</span></span> <span data-ttu-id="68631-119">Les applications contiennent un service frontal passerelle qui reçoit l’entrée d’un client et un ou plusieurs services principaux qui communiquent avec les services frontaux hello.</span><span class="sxs-lookup"><span data-stu-id="68631-119">Typical applications contain a front-end gateway service that receives input from a client, and one or more back-end services that communicate with hello front-end services.</span></span> <span data-ttu-id="68631-120">Par conséquent, dans ce cas, vous avez besoin d’au moins deux types de nœuds.</span><span class="sxs-lookup"><span data-stu-id="68631-120">So in this case, you end up having at least two node types.</span></span>
* <span data-ttu-id="68631-121">Vos services (qui composent votre application) ont-ils des besoins d’infrastructure différents tels qu’une RAM plus volumineuse ou des cycles processeur plus élevés ?</span><span class="sxs-lookup"><span data-stu-id="68631-121">Do your services (that make up your application) have different infrastructure needs such as greater RAM or higher CPU cycles?</span></span> <span data-ttu-id="68631-122">Par exemple, supposons que cette application hello que vous souhaitez toodeploy contient un service frontal et un service principal.</span><span class="sxs-lookup"><span data-stu-id="68631-122">For example, let us assume that hello application that you want toodeploy contains a front-end service and a back-end service.</span></span> <span data-ttu-id="68631-123">Hello service frontal peut s’exécuter sur des machines virtuelles plus petits (les tailles de machine virtuelle comme D2) pour lesquels les ports à ouvrir toohello internet.</span><span class="sxs-lookup"><span data-stu-id="68631-123">hello front-end service can run on smaller VMs (VM sizes like D2) that have ports open toohello internet.</span></span>  <span data-ttu-id="68631-124">service principal de Hello, toutefois, est toorun de calcul intensif et des besoins sur des machines virtuelles plus volumineux (avec des tailles de machine virtuelle comme D4, D6, D15) qui ne sont pas internet face.</span><span class="sxs-lookup"><span data-stu-id="68631-124">hello back-end service, however, is computation intensive and needs toorun on larger VMs (with VM sizes like D4, D6, D15) that are not internet facing.</span></span>
  
  <span data-ttu-id="68631-125">Dans cet exemple, bien que vous pouvez décider tooput tous hello services sur le type d’un nœud, il est recommandé que vous les placez dans un cluster avec deux types de nœuds.</span><span class="sxs-lookup"><span data-stu-id="68631-125">In this example, although you can decide tooput all hello services on one node type, we recommended that you place them in a cluster with two node types.</span></span>  <span data-ttu-id="68631-126">Ainsi, pour chaque nœud type toohave distinctes les propriétés telles que la connectivité internet ou de la taille de machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="68631-126">This allows for each node type toohave distinct properties such as internet connectivity or VM size.</span></span> <span data-ttu-id="68631-127">nombre de Hello de machines virtuelles peut être monté en indépendamment, ainsi.</span><span class="sxs-lookup"><span data-stu-id="68631-127">hello number of VMs can be scaled independently, as well.</span></span>  
* <span data-ttu-id="68631-128">Étant donné que vous ne pouvez pas prédire hello futur, accédez avec les informations que vous connaissez et décidez nombre hello des types de nœuds vos applications ont besoin toostart avec.</span><span class="sxs-lookup"><span data-stu-id="68631-128">Since you cannot predict hello future, go with facts you know of and decide on hello number of node types that your applications need toostart with.</span></span> <span data-ttu-id="68631-129">Vous pourrez toujours ajouter ou supprimer des types de nœuds ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="68631-129">You can always add or remove node types later.</span></span> <span data-ttu-id="68631-130">Un cluster Service Fabric doit comprendre au moins un type de nœud.</span><span class="sxs-lookup"><span data-stu-id="68631-130">A Service Fabric cluster must have at least one node type.</span></span>

## <a name="hello-properties-of-each-node-type"></a><span data-ttu-id="68631-131">propriétés de Hello de chaque type de nœud</span><span class="sxs-lookup"><span data-stu-id="68631-131">hello properties of each node type</span></span>
<span data-ttu-id="68631-132">Hello **type de nœud** peut être considéré comme équivalent tooroles dans les Services de cloud computing.</span><span class="sxs-lookup"><span data-stu-id="68631-132">hello **node type** can be seen as equivalent tooroles in Cloud Services.</span></span> <span data-ttu-id="68631-133">Les types de nœud définissent les tailles de machine virtuelle hello, hello nombre de machines virtuelles et leurs propriétés.</span><span class="sxs-lookup"><span data-stu-id="68631-133">Node types define hello VM sizes, hello number of VMs, and their properties.</span></span> <span data-ttu-id="68631-134">Chaque type de nœud qui est défini dans un cluster Service Fabric est configuré en tant que groupe de machines virtuelles identiques distinct.</span><span class="sxs-lookup"><span data-stu-id="68631-134">Every node type that is defined in a Service Fabric cluster is set up as a separate virtual machine scale set.</span></span> <span data-ttu-id="68631-135">Ensemble d’échelle de machine virtuelle est une ressource de calcul Azure, vous pouvez utiliser toodeploy et gérer une collection d’ordinateurs virtuels en tant qu’ensemble.</span><span class="sxs-lookup"><span data-stu-id="68631-135">Virtual machine scale set is an Azure compute resource you can use toodeploy and manage a collection of virtual machines as a set.</span></span> <span data-ttu-id="68631-136">Chaque type de nœud est défini comme un groupe de machines virtuelles identiques distinct et peut faire l’objet d’une montée ou descente en puissance de manière indépendante, avoir différents jeux de ports ouverts et présenter différentes métriques de capacité.</span><span class="sxs-lookup"><span data-stu-id="68631-136">Being defined as distinct virtual machine scale set, each node type can then be scaled up or down independently, have different sets of ports open, and can have different capacity metrics.</span></span>

<span data-ttu-id="68631-137">Lecture [ce document](service-fabric-cluster-nodetypes.md) pour plus d’informations sur la relation hello de Nodetypes toovirtual machines identiques, comment tooRDP dans une des instances de hello, ouverture de nouveaux ports etc..</span><span class="sxs-lookup"><span data-stu-id="68631-137">Read [this document](service-fabric-cluster-nodetypes.md) for more details on hello relationship of Nodetypes toovirtual machine scale set, how tooRDP into one of hello instances, open new ports etc.</span></span>

<span data-ttu-id="68631-138">Votre cluster peut avoir plus d’un type de nœud, mais type de nœud principal hello (hello un premier que vous définissez sur le portail hello) doit avoir au moins cinq ordinateurs virtuels de clusters utilisés pour les charges de production (ou au moins trois machines virtuelles pour les clusters de test).</span><span class="sxs-lookup"><span data-stu-id="68631-138">Your cluster can have more than one node type, but hello primary node type (hello first one that you define on hello portal) must have at least five VMs for clusters used for production workloads (or at least three VMs for test clusters).</span></span> <span data-ttu-id="68631-139">Si vous créez à l’aide d’un modèle de gestionnaire de ressources de cluster de hello, puis recherchez **est Primary** attribut sous la définition de type de nœud hello.</span><span class="sxs-lookup"><span data-stu-id="68631-139">If you are creating hello cluster using a Resource Manager template, then look for **is Primary** attribute under hello node type definition.</span></span> <span data-ttu-id="68631-140">type de nœud principal Hello est type de nœud hello où sont placés les services de système de Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="68631-140">hello primary node type is hello node type where Service Fabric system services are placed.</span></span>  

### <a name="primary-node-type"></a><span data-ttu-id="68631-141">Type de nœud principal</span><span class="sxs-lookup"><span data-stu-id="68631-141">Primary node type</span></span>
<span data-ttu-id="68631-142">Pour un cluster avec plusieurs types de nœuds, vous devez toochoose un d’eux toobe principal.</span><span class="sxs-lookup"><span data-stu-id="68631-142">For a cluster with multiple node types, you need toochoose one of them toobe primary.</span></span> <span data-ttu-id="68631-143">Voici les caractéristiques hello d’un type de nœud principal :</span><span class="sxs-lookup"><span data-stu-id="68631-143">Here are hello characteristics of a primary node type:</span></span>

* <span data-ttu-id="68631-144">Hello **taille minimale des machines virtuelles** type de nœud principal hello est déterminé par hello **le niveau de durabilité** vous choisissez.</span><span class="sxs-lookup"><span data-stu-id="68631-144">hello **minimum size of VMs** for hello primary node type is determined by hello **durability tier** you choose.</span></span> <span data-ttu-id="68631-145">valeur par défaut de Hello pour le niveau de durabilité hello est Bronze.</span><span class="sxs-lookup"><span data-stu-id="68631-145">hello default for hello durability tier is Bronze.</span></span> <span data-ttu-id="68631-146">Faites défiler la liste pour plus d’informations sur le niveau de durabilité hello est hello peut prendre les valeurs.</span><span class="sxs-lookup"><span data-stu-id="68631-146">Scroll down for details on what hello durability tier is and hello values it can take.</span></span>  
* <span data-ttu-id="68631-147">Hello **nombre minimal d’ordinateurs virtuels** type de nœud principal hello est déterminé par hello **niveau de fiabilité** vous choisissez.</span><span class="sxs-lookup"><span data-stu-id="68631-147">hello **minimum number of VMs** for hello primary node type is determined by hello **reliability tier** you choose.</span></span> <span data-ttu-id="68631-148">valeur par défaut de Hello pour le niveau de fiabilité hello est argent.</span><span class="sxs-lookup"><span data-stu-id="68631-148">hello default for hello reliability tier is Silver.</span></span> <span data-ttu-id="68631-149">Faites défiler la liste pour plus d’informations sur le niveau de fiabilité hello est hello peut prendre les valeurs.</span><span class="sxs-lookup"><span data-stu-id="68631-149">Scroll down for details on what hello reliability tier is and hello values it can take.</span></span> 


* <span data-ttu-id="68631-150">les services de système de Service Fabric Hello (par exemple, le service de gestionnaire du Cluster de hello ou le service de banque d’Image) sont placés sur le type de nœud principal hello et c’est le cas hello la fiabilité et de durabilité du cluster de hello est déterminée par hello fiabilité couche valeur et la durabilité de niveau valeur que vous sélectionnez pour le type de nœud principal hello.</span><span class="sxs-lookup"><span data-stu-id="68631-150">hello Service Fabric system services (for example, hello Cluster Manager service or Image Store service) are placed on hello primary node type and so hello reliability and durability of hello cluster is determined by hello reliability tier value and durability tier value you select for hello primary node type.</span></span>

![<span data-ttu-id="68631-151">Capture d’écran d’un cluster qui a deux types de nœuds</span><span class="sxs-lookup"><span data-stu-id="68631-151">Screen shot of a cluster that has two Node Types</span></span> ][SystemServices]

### <a name="non-primary-node-type"></a><span data-ttu-id="68631-152">Type de nœud non principal</span><span class="sxs-lookup"><span data-stu-id="68631-152">Non-primary node type</span></span>
<span data-ttu-id="68631-153">Pour un cluster avec plusieurs types de nœud, il existe un type de nœud principal et rest hello d'entre eux sont non primaire.</span><span class="sxs-lookup"><span data-stu-id="68631-153">For a cluster with multiple node types, there is one primary node type and hello rest of them are non-primary.</span></span> <span data-ttu-id="68631-154">Voici les caractéristiques hello d’un type de nœud principal :</span><span class="sxs-lookup"><span data-stu-id="68631-154">Here are hello characteristics of a non-primary node type:</span></span>

* <span data-ttu-id="68631-155">Hello de taille minimale des machines virtuelles pour ce type de nœud est déterminée par le niveau de durabilité hello que vous choisissez.</span><span class="sxs-lookup"><span data-stu-id="68631-155">hello minimum size of VMs for this node type is determined by hello durability tier you choose.</span></span> <span data-ttu-id="68631-156">valeur par défaut de Hello pour le niveau de durabilité hello est Bronze.</span><span class="sxs-lookup"><span data-stu-id="68631-156">hello default for hello durability tier is Bronze.</span></span> <span data-ttu-id="68631-157">Faites défiler la liste pour plus d’informations sur le niveau de durabilité hello est hello peut prendre les valeurs.</span><span class="sxs-lookup"><span data-stu-id="68631-157">Scroll down for details on what hello durability tier is and hello values it can take.</span></span>  
* <span data-ttu-id="68631-158">nombre de Hello minimal d’ordinateurs virtuels pour ce type de nœud peut être un.</span><span class="sxs-lookup"><span data-stu-id="68631-158">hello minimum number of VMs for this node type can be one.</span></span> <span data-ttu-id="68631-159">Toutefois, vous devez choisir ce numéro en fonction du nombre de hello de réplicas de hello/services d’application que vous aimeriez toorun dans ce type de nœud.</span><span class="sxs-lookup"><span data-stu-id="68631-159">However you should choose this number based on hello number of replicas of hello application/services that you would like toorun in this node type.</span></span> <span data-ttu-id="68631-160">nombre de Hello d’ordinateurs virtuels dans un type de nœud peut être augmenté après le déploiement de cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="68631-160">hello number of VMs in a node type can be increased after you have deployed hello cluster.</span></span>

## <a name="hello-durability-characteristics-of-hello-cluster"></a><span data-ttu-id="68631-161">caractéristiques de durabilité Hello du cluster de hello</span><span class="sxs-lookup"><span data-stu-id="68631-161">hello durability characteristics of hello cluster</span></span>
<span data-ttu-id="68631-162">le niveau de durabilité Hello est utilisé tooindicate toohello système hello des privilèges dont vos machines virtuelles avec l’infrastructure Azure sous-jacente de hello.</span><span class="sxs-lookup"><span data-stu-id="68631-162">hello durability tier is used tooindicate toohello system hello privileges that your VMs have with hello underlying Azure infrastructure.</span></span> <span data-ttu-id="68631-163">Dans le type de nœud principal hello, ce privilège permet à Service Fabric toopause toute demande de niveau infrastructure de machine virtuelle (par exemple, un redémarrage de l’ordinateur virtuel, créer une nouvelle image de machine virtuelle ou migration d’ordinateurs virtuels) qui a un impact sur les exigences de quorum hello pour les services de système de hello et vos services avec état.</span><span class="sxs-lookup"><span data-stu-id="68631-163">In hello primary node type, this privilege allows Service Fabric toopause any VM level infrastructure request (such as a VM reboot, VM reimage, or VM migration) that impact hello quorum requirements for hello system services and your stateful services.</span></span> <span data-ttu-id="68631-164">Dans les types de nœud principal hello, ce privilège permet à Service Fabric toopause toutes les demandes de niveau infrastructure de machine virtuelle telles que le redémarrage de l’ordinateur virtuel, créer une nouvelle image de machine virtuelle, etc., migration d’ordinateurs virtuels ayant un impact sur la configuration requise du quorum hello pour vos services avec état en cours d’exécution qu’il contient.</span><span class="sxs-lookup"><span data-stu-id="68631-164">In hello non-primary node types, this privilege allows Service Fabric toopause any VM level infrastructure requests like VM reboot, VM reimage, VM migration etc., that impact hello quorum requirements for your stateful services running in it.</span></span>

<span data-ttu-id="68631-165">Ce privilège est exprimé en hello valeurs suivantes :</span><span class="sxs-lookup"><span data-stu-id="68631-165">This privilege is expressed in hello following values:</span></span>

* <span data-ttu-id="68631-166">Gold - infrastructure hello travaux peuvent être suspendues pour une durée de deux heures par UD.</span><span class="sxs-lookup"><span data-stu-id="68631-166">Gold - hello infrastructure Jobs can be paused for a duration of two hours per UD.</span></span> <span data-ttu-id="68631-167">La durabilité Gold ne peut être activée que sur les références de machine virtuelle à nœud complet comme D15_V2, G5, etc.</span><span class="sxs-lookup"><span data-stu-id="68631-167">Gold durability can be enabled only on full node VM skus like D15_V2, G5 etc.</span></span>
* <span data-ttu-id="68631-168">Silver - hello travaux de l’infrastructure peut être suspendu pour une durée de 10 minutes par UD et est disponible sur tous les ordinateurs virtuels standards de cœur et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="68631-168">Silver - hello infrastructure Jobs can be paused for a duration of 10 minutes per UD and is available on all standard VMs of single core and above.</span></span>
* <span data-ttu-id="68631-169">Bronze : Aucun privilège.</span><span class="sxs-lookup"><span data-stu-id="68631-169">Bronze - No privileges.</span></span> <span data-ttu-id="68631-170">Il s’agit par défaut de hello.</span><span class="sxs-lookup"><span data-stu-id="68631-170">This is hello default.</span></span> <span data-ttu-id="68631-171">Réservez ce niveau de durabilité aux types de nœud qui peuvent exécuter _seulement_ des charges de travail sans état.</span><span class="sxs-lookup"><span data-stu-id="68631-171">Only use this durability level for Node Types that run _only_ stateless workloads.</span></span> 

> [!WARNING]
> <span data-ttu-id="68631-172">Les types de nœud s’exécutant avec un niveau de durabilité Bronze n’obtiennent _aucun privilège_.</span><span class="sxs-lookup"><span data-stu-id="68631-172">NodeTypes running with Bronze durability obtain _no privileges_.</span></span> <span data-ttu-id="68631-173">Cela signifie que les travaux d’infrastructure qui affectent vos charges de travail sans état ne seront ni arrêtés ni différés.</span><span class="sxs-lookup"><span data-stu-id="68631-173">This means that infrastructure jobs that impact your stateless workloads will not be stopped or delayed.</span></span> <span data-ttu-id="68631-174">Il est possible que ces travaux continuent d’affecter vos charges de travail, entraînant ainsi des temps d’arrêt ou d’autres problèmes.</span><span class="sxs-lookup"><span data-stu-id="68631-174">It is possible that such jobs can still impact your workloads, causing downtime or other issues.</span></span> <span data-ttu-id="68631-175">Pour tout type de charge de travail de production, il est recommandé d’opter pour une exécution avec au moins le niveau Silver.</span><span class="sxs-lookup"><span data-stu-id="68631-175">For any sort of production workload, running with at least Silver is recommended.</span></span> 
> 

<span data-ttu-id="68631-176">Vous obtenez le niveau de durabilité toochoose pour chacun de vos types de nœud. Vous pouvez choisir un type de nœud toohave un niveau de durabilité or ou silver hello autres ont du Bronze Bonjour même cluster. **Vous devez maintenir un nombre minimum de 5 nœuds pour n’importe quel type de nœud qui a une durabilité d’argent ou or**.</span><span class="sxs-lookup"><span data-stu-id="68631-176">You get toochoose durability level for each of your node-types.You can choose one node-type toohave a durability level of Gold or silver and hello other have Bronze in hello same cluster.**You must maintain a minimum count of 5 nodes for any node-type that has a durability of Gold or silver**.</span></span> 

<span data-ttu-id="68631-177">**Avantages de l’utilisation des niveaux de durabilité Silver ou Gold**</span><span class="sxs-lookup"><span data-stu-id="68631-177">**Advantages of using Silver or Gold durability levels**</span></span>
 
1. <span data-ttu-id="68631-178">Réduit le nombre hello des étapes requises dans une opération de mise à l’échelle (autrement dit, la désactivation du nœud et Remove-ServiceFabricNodeState est appelée automatiquement)</span><span class="sxs-lookup"><span data-stu-id="68631-178">Reduces hello number of required steps in a scale-in operation (that is, node deactivation and Remove-ServiceFabricNodeState is called automatically)</span></span>
2. <span data-ttu-id="68631-179">Réduit les risques de hello de perte de données d’échéance tooa initiée par l’utilisateur sur place VM SKU opération de modification du ou des opérations d’infrastructure Azure.</span><span class="sxs-lookup"><span data-stu-id="68631-179">Reduces hello risk of data loss due tooa customer-initiated in-place VM SKU change operation or Azure infrastructure operations.</span></span>
     
<span data-ttu-id="68631-180">**Inconvénients de l’utilisation des niveaux de durabilité Silver ou Gold**</span><span class="sxs-lookup"><span data-stu-id="68631-180">**Disadvantages of using Silver or Gold durability levels**</span></span>
 
1. <span data-ttu-id="68631-181">Tooyour déploiements ensemble d’échelle de Machine virtuelle et autres ressources Azure associées) peuvent être retardées, peuvent dépasser le délai ou peuvent être bloqués entièrement par des problèmes dans votre cluster ou au niveau d’infrastructure hello.</span><span class="sxs-lookup"><span data-stu-id="68631-181">Deployments tooyour Virtual Machine Scale Set and other related Azure resources) can be delayed, can time out, or can be blocked entirely by problems in your cluster or at hello infrastructure level.</span></span> 
2. <span data-ttu-id="68631-182">Augmente hello nombre de [événements de cycle de vie de réplica](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle ) (par exemple, les échanges primaires) en raison de désactivations de nœud tooautomated lors des opérations d’infrastructure Azure.</span><span class="sxs-lookup"><span data-stu-id="68631-182">Increases hello number of [replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle ) (for example, primary swaps) due tooautomated node deactivations during Azure infrastructure operations.</span></span>

### <a name="recommendations-on-when-toouse-silver-or-gold-durability-levels"></a><span data-ttu-id="68631-183">Recommandations sur les niveaux de la durabilité ou toouse</span><span class="sxs-lookup"><span data-stu-id="68631-183">Recommendations on when toouse Silver or Gold durability levels</span></span>

<span data-ttu-id="68631-184">Durabilité utiliser ou pour tous les types de nœuds que stateful hôte services vous attendent dans tooscale (réduire le nombre d’instances de machine virtuelle) fréquemment, et vous aimeriez que les opérations de déploiement être retardée en faveur de simplification de ces opérations de mise à l’échelle.</span><span class="sxs-lookup"><span data-stu-id="68631-184">Use Silver or Gold durability for all node types that host stateful services you expect tooscale-in (reduce VM instance count) frequently, and you would prefer that deployment operations be delayed in favor of simplifying these scale-in operations.</span></span> <span data-ttu-id="68631-185">scénarios de montée en puissance parallèle Hello (l’ajout d’instances de machines virtuelles) ne sont pas lus dans le choix du niveau de durabilité hello, dans l’échelle uniquement.</span><span class="sxs-lookup"><span data-stu-id="68631-185">hello scale-out scenarios (adding VMs instances) do not play into your choice of hello durability tier, only scale-in does.</span></span>

### <a name="operational-recommendations-for-hello-node-type-that-you-have-set-toosilver-or-gold-durability-level"></a><span data-ttu-id="68631-186">Recommandations opérationnelles pour le nœud de hello type que vous avez défini la durabilité toosilver ou OR au niveau.</span><span class="sxs-lookup"><span data-stu-id="68631-186">Operational Recommendations for hello node type that you have set toosilver or gold durability level.</span></span>

1. <span data-ttu-id="68631-187">Garder votre cluster et les applications à tout moment et vous assurer que les applications répondent tooall [événements de cycle de vie de réplica de Service](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (par exemple, le réplica dans la build est bloqué) en temps voulu.</span><span class="sxs-lookup"><span data-stu-id="68631-187">Keep your cluster and applications healthy at all times, and make sure that applications respond tooall [Service replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (like replica in build is stuck) in a timely fashion.</span></span>
2. <span data-ttu-id="68631-188">Adopter les plus sûres manières toomake une modification VM SKU (échelle haut/bas) : la modification hello SKU VM d’un ensemble d’échelle de Machine virtuelle est fondamentalement une opération risquée, de sorte que doivent être évitées si possible.</span><span class="sxs-lookup"><span data-stu-id="68631-188">Adopt safer ways toomake a VM SKU change (Scale up/down): Changing hello VM SKU of a Virtual Machine Scale Set is inherently an unsafe operation and so should be avoided if possible.</span></span> <span data-ttu-id="68631-189">Voici le processus de hello vous pouvez suivre tooavoid les problèmes courants.</span><span class="sxs-lookup"><span data-stu-id="68631-189">Here is hello process you can follow tooavoid common issues.</span></span>
    - <span data-ttu-id="68631-190">**Pour non primaire nodetypes :** il est recommandé de créer le nouvel ensemble d’échelle de Machine virtuelle, modifiez hello service placement contrainte tooinclude hello échelle de machines virtuelles ensemble/type de nœud et puis réduire hello ancien ensemble d’échelle de Machine virtuelle instance nombre too0, un seul nœud à la fois (il s’agit de toomake assurer que la suppression de nœuds de hello n’affecte pas la fiabilité hello du cluster de hello).</span><span class="sxs-lookup"><span data-stu-id="68631-190">**For non-primary nodetypes:** It is recommended that you create new Virtual Machine Scale Set, modify hello service placement constraint tooinclude hello new Virtual Machine Scale Set/node type and then reduce hello old Virtual Machine Scale Set instance count too0, one node at a time (this is toomake sure that removal of hello nodes do not impact hello reliability of hello cluster).</span></span>
    - <span data-ttu-id="68631-191">**Nodetype principal de hello pour :** notre recommandation est que vous ne modifiez pas VM SKU de type de nœud principal hello.</span><span class="sxs-lookup"><span data-stu-id="68631-191">**For hello primary nodetype:** Our recommendation is that you do not change VM SKU of hello primary node type.</span></span> <span data-ttu-id="68631-192">Si hello la raison de nouvelles références SKU hello est la capacité, nous vous recommandons d’ajouter plusieurs instances ou si possible, créez un nouveau cluster.</span><span class="sxs-lookup"><span data-stu-id="68631-192">If hello reason for hello new SKU is capacity, we recommend adding more instances or if possible, create a new cluster.</span></span> <span data-ttu-id="68631-193">Si vous ne disposez d’aucun choix, vérifiez les modifications toohello tooreflect de définition de modèle de jeu de Machine virtuelle mise à l’échelle hello nouvelle référence (SKU).</span><span class="sxs-lookup"><span data-stu-id="68631-193">If you have no choice, then make modifications toohello Virtual Machine Scale Set Model definition tooreflect hello new SKU.</span></span> <span data-ttu-id="68631-194">Si votre cluster n'a qu’un seul nodetype, puis assurez-vous que toutes vos applications avec état répondent tooall [événements de cycle de vie de réplica de Service](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (par exemple, le réplica dans la build est bloqué) dans un délai raisonnable et que le réplica de votre service reconstruire durée est inférieure à cinq minutes (pour le niveau de durabilité argent).</span><span class="sxs-lookup"><span data-stu-id="68631-194">If your cluster has only one nodetype, then make sure that all your stateful applications respond tooall [Service replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (like replica in build is stuck) in a timely fashion and that your service replica rebuild duration is less than five minutes (for Silver durability level).</span></span> 


> [!WARNING]
> <span data-ttu-id="68631-195">Modification hello taille de référence (SKU) de machine virtuelle pour les jeux de mise à l’échelle de machine virtuelle n’exécute ne pas la durabilité Silver au moins n’est pas recommandé.</span><span class="sxs-lookup"><span data-stu-id="68631-195">Changing hello VM SKU Size for VM Scale Sets not running at least Silver durability is not recommened.</span></span> <span data-ttu-id="68631-196">Modifier la taille de référence (SKU) des machines virtuelles est une opération d’infrastructure sur place destructrice de données.</span><span class="sxs-lookup"><span data-stu-id="68631-196">Changing VM SKU Size is a data-destructive in-place infrastructure operation.</span></span> <span data-ttu-id="68631-197">Au moins une certaine capacité toodelay ou l’analyse de cette modification, il est possible que l’opération de hello peut entraîner la perte des services avec état ou provoquer d’autres problèmes opérationnels inattendues, même pour les charges de travail sans état.</span><span class="sxs-lookup"><span data-stu-id="68631-197">Without at least some ability toodelay or monitor this change, it is possible that hello operation can cause dataloss for stateful services or cause other unforseen operational issues, even for stateless workloads.</span></span> 
> 
    
3. <span data-ttu-id="68631-198">Conservez au minimum cinq nœuds pour tout groupe de machines virtuelles identiques sur lequel MR est activé.</span><span class="sxs-lookup"><span data-stu-id="68631-198">Maintain a minimum count of five nodes for any Virtual Machine Scale Set that has MR enabled</span></span>
4. <span data-ttu-id="68631-199">Ne supprimez pas d’instances de machine virtuelle aléatoires. Opérez toujours une descente en puissance du groupe de machines virtuelles identiques.</span><span class="sxs-lookup"><span data-stu-id="68631-199">Do not delete random VM instances, always use Virtual Machine Scale Set scale down feature.</span></span> <span data-ttu-id="68631-200">la suppression d’instances de machine virtuelle aléatoires Hello a un risque potentiel de la création des déséquilibres dans l’instance de machine virtuelle hello réparties sur UD et FD.</span><span class="sxs-lookup"><span data-stu-id="68631-200">hello deletion of random VM instances has a potential of creating imbalances in hello VM instance spread across UD and FD.</span></span> <span data-ttu-id="68631-201">Ce déséquilibre peut nuire aux hello systèmes capacité tooproperly équilibrage de la charge entre les réplicas de Service/instances de service hello.</span><span class="sxs-lookup"><span data-stu-id="68631-201">This imbalance could adversely affect hello systems ability tooproperly load balance amongst hello service instances/Service replicas.</span></span>
6. <span data-ttu-id="68631-202">Si l’échelle automatique, puis définissez les règles hello telles que l’échelle dans (en supprimant des instances de machine virtuelle) sont effectuées qu’un seul nœud à la fois.</span><span class="sxs-lookup"><span data-stu-id="68631-202">If using Autoscale, then set hello rules such that scale in (removing of VM instances) are done only one node at a time.</span></span> <span data-ttu-id="68631-203">La descente en puissance de plusieurs instances en même temps présente des risques.</span><span class="sxs-lookup"><span data-stu-id="68631-203">Scaling down more than one instance at a time is not safe.</span></span>
7. <span data-ttu-id="68631-204">Si la mise à l’échelle vers le bas d’un type de nœud principal, que doit son échelle jamais plus à quel niveau de fiabilité hello autorise bas.</span><span class="sxs-lookup"><span data-stu-id="68631-204">If Scaling down a primary node type, you should never scale it down more than what hello reliability tier allows.</span></span>


## <a name="hello-reliability-characteristics-of-hello-cluster"></a><span data-ttu-id="68631-205">Hello fiabilité du cluster de hello</span><span class="sxs-lookup"><span data-stu-id="68631-205">hello reliability characteristics of hello cluster</span></span>
<span data-ttu-id="68631-206">Hello niveau de fiabilité sert nombre de hello tooset de réplicas des services de système de hello que vous souhaitez toorun dans ce cluster sur le type de nœud principal hello.</span><span class="sxs-lookup"><span data-stu-id="68631-206">hello reliability tier is used tooset hello number of replicas of hello system services that you want toorun in this cluster on hello primary node type.</span></span> <span data-ttu-id="68631-207">Hello plus grand nombre de hello de réplicas, hello plus fiable hello système services se trouvent dans votre cluster.</span><span class="sxs-lookup"><span data-stu-id="68631-207">hello more hello number of replicas, hello more reliable hello system services are in your cluster.</span></span>  

<span data-ttu-id="68631-208">niveau de fiabilité Hello peut prendre hello valeurs suivantes :</span><span class="sxs-lookup"><span data-stu-id="68631-208">hello reliability tier can take hello following values:</span></span>

* <span data-ttu-id="68631-209">Platinum - services de système de hello exécuter avec un réplica cible définie le nombre de 9</span><span class="sxs-lookup"><span data-stu-id="68631-209">Platinum - Run hello System services with a target replica set count of 9</span></span>
* <span data-ttu-id="68631-210">Gold - services de système de hello exécuter avec un nombre de jeu de réplicas cible de 7</span><span class="sxs-lookup"><span data-stu-id="68631-210">Gold - Run hello System services with a target replica set count of 7</span></span>
* <span data-ttu-id="68631-211">Silver - exécuter des services système hello avec un nombre de jeu de réplicas cible de 5</span><span class="sxs-lookup"><span data-stu-id="68631-211">Silver - Run hello System services with a target replica set count of 5</span></span> 
* <span data-ttu-id="68631-212">Bronze - services de système de hello exécuter avec un nombre de jeu de réplicas cible 3</span><span class="sxs-lookup"><span data-stu-id="68631-212">Bronze - Run hello System services with a target replica set count of 3</span></span>

> [!NOTE]
> <span data-ttu-id="68631-213">niveau de fiabilité Hello que vous choisissez détermine le nombre minimal de hello de votre type de nœud principal doit avoir des nœuds.</span><span class="sxs-lookup"><span data-stu-id="68631-213">hello reliability tier you choose determines hello minimum number of nodes your primary node type must have.</span></span> 
> 
> 


### <a name="recommendations-for-hello-reliability-tier"></a><span data-ttu-id="68631-214">Recommandations pour le niveau de fiabilité hello.</span><span class="sxs-lookup"><span data-stu-id="68631-214">Recommendations for hello reliability tier.</span></span>

 <span data-ttu-id="68631-215">Lorsque vous augmentez ou réduisez la taille de hello de votre cluster (somme de hello des instances de machine virtuelle dans tous les types de nœud), vous devez mettre à jour de fiabilité hello de votre cluster à partir d’une couche tooanother.</span><span class="sxs-lookup"><span data-stu-id="68631-215">When you increase or decrease hello size of your cluster (hello sum of VM instances in all node types), you must update hello reliability of your cluster from one tier tooanother.</span></span> <span data-ttu-id="68631-216">Cette opération déclenche hello cluster mises à niveau nécessaires toochange hello système services réplica ensemble count.</span><span class="sxs-lookup"><span data-stu-id="68631-216">Doing this triggers hello cluster upgrades needed toochange hello system services replica set count.</span></span> <span data-ttu-id="68631-217">Attendez la mise à niveau de hello en cours toocomplete avant d’effectuer toutes les autres modifications toohello cluster, telles que l’ajout de nœuds.</span><span class="sxs-lookup"><span data-stu-id="68631-217">Wait for hello upgrade in progress toocomplete before making any other changes toohello cluster, like adding nodes.</span></span>  <span data-ttu-id="68631-218">Vous pouvez surveiller la progression hello de mise à niveau hello Service Fabric Explorer ou en exécutant [Get-ServiceFabricClusterUpgrade](/powershell/module/servicefabric/get-servicefabricclusterupgrade?view=azureservicefabricps)</span><span class="sxs-lookup"><span data-stu-id="68631-218">You can monitor hello progress of hello upgrade on Service Fabric Explorer or by running [Get-ServiceFabricClusterUpgrade](/powershell/module/servicefabric/get-servicefabricclusterupgrade?view=azureservicefabricps)</span></span>

<span data-ttu-id="68631-219">Voici une recommandation hello sur le choix du niveau de fiabilité hello.</span><span class="sxs-lookup"><span data-stu-id="68631-219">Here is hello recommendation on choosing hello reliability tier.</span></span>

| <span data-ttu-id="68631-220">**Taille du cluster**</span><span class="sxs-lookup"><span data-stu-id="68631-220">**Cluster Size**</span></span> | <span data-ttu-id="68631-221">**Niveau de fiabilité**</span><span class="sxs-lookup"><span data-stu-id="68631-221">**Reliability Tier**</span></span> |
| --- | --- |
| <span data-ttu-id="68631-222">1</span><span class="sxs-lookup"><span data-stu-id="68631-222">1</span></span> |<span data-ttu-id="68631-223">Ne spécifiez pas hello du paramètre de niveau de fiabilité, de système de hello calcule</span><span class="sxs-lookup"><span data-stu-id="68631-223">Do not specify hello Reliability Tier parameter, hello system calculates it</span></span> |
| <span data-ttu-id="68631-224">3</span><span class="sxs-lookup"><span data-stu-id="68631-224">3</span></span> |<span data-ttu-id="68631-225">Bronze</span><span class="sxs-lookup"><span data-stu-id="68631-225">Bronze</span></span> |
| <span data-ttu-id="68631-226">5 ou 6</span><span class="sxs-lookup"><span data-stu-id="68631-226">5 or 6</span></span>|<span data-ttu-id="68631-227">Silver</span><span class="sxs-lookup"><span data-stu-id="68631-227">Silver</span></span> |
| <span data-ttu-id="68631-228">7 ou 8</span><span class="sxs-lookup"><span data-stu-id="68631-228">7 or 8</span></span> |<span data-ttu-id="68631-229">Gold</span><span class="sxs-lookup"><span data-stu-id="68631-229">Gold</span></span> |
| <span data-ttu-id="68631-230">9 et plus</span><span class="sxs-lookup"><span data-stu-id="68631-230">9 and up</span></span> |<span data-ttu-id="68631-231">Platinum</span><span class="sxs-lookup"><span data-stu-id="68631-231">Platinum</span></span> |




## <a name="primary-node-type---capacity-guidance"></a><span data-ttu-id="68631-232">Type de nœud principal - Recommandations en matière de capacité</span><span class="sxs-lookup"><span data-stu-id="68631-232">Primary node type - Capacity Guidance</span></span>

<span data-ttu-id="68631-233">Voici des conseils de hello pour la planification de capacité de type hello nœud principal</span><span class="sxs-lookup"><span data-stu-id="68631-233">Here is hello guidance for planning hello primary node type capacity</span></span>

1. <span data-ttu-id="68631-234">**Nombre d’ordinateurs virtuels instances toorun toute charge de travail de production dans Azure :** vous devez spécifier une taille de type de nœud principal minimale de 5.</span><span class="sxs-lookup"><span data-stu-id="68631-234">**Number of VM instances toorun any production workload in Azure:** You must specify a minimum Primary Node type size of 5.</span></span> 
2. <span data-ttu-id="68631-235">**Nombre d’ordinateurs virtuels instances les charges de travail de test toorun dans Azure** vous pouvez spécifier une taille de type de nœud principal minimale de 1 ou 3.</span><span class="sxs-lookup"><span data-stu-id="68631-235">**Number of VM instances toorun test workloads in Azure** You can specify a minimum primary node type size of 1 or 3.</span></span> <span data-ttu-id="68631-236">Hello d’un cluster de nœud, s’exécute avec une configuration spéciale et donc, échelle hors de ce cluster n’est pas prise en charge.</span><span class="sxs-lookup"><span data-stu-id="68631-236">hello one node cluster, runs with a special configuration and so, scale out of that cluster is not supported.</span></span> <span data-ttu-id="68631-237">Hello un cluster de nœuds, ne dispose d’aucune fiabilité et par conséquent, dans votre modèle de gestionnaire de ressources, des tooremove/non spécifier que la configuration (ne définissez ne pas de valeur de configuration hello n’est pas suffisant).</span><span class="sxs-lookup"><span data-stu-id="68631-237">hello one node cluster, has no reliability and so in your Resource Manager template, you have tooremove/not specify that configuration (not setting hello configuration value is not enough).</span></span> <span data-ttu-id="68631-238">Si vous configurez cluster d’un nœud hello configuré via le portail, puis configuration de hello est automatiquement prise en charge.</span><span class="sxs-lookup"><span data-stu-id="68631-238">If you set up hello one node cluster set up via portal, then hello configuration is automatically taken care of.</span></span> <span data-ttu-id="68631-239">Les clusters à 1 et 3 nœuds ne sont pas pris en charge pour l’exécution des charges de travail de production.</span><span class="sxs-lookup"><span data-stu-id="68631-239">1 and 3 node clusters are not supported for running production workloads.</span></span> 
3. <span data-ttu-id="68631-240">**VM SKU :** type de nœud principal est l’emplacement d’exécution de services de système de hello, donc hello SKU VM vous choisissez, doive tenir hello compte globale pointe charger vous prévoyez tooplace dans un cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="68631-240">**VM SKU:** Primary node type is where hello system services run, so hello VM SKU you choose for it, must take into account hello overall peak load you plan tooplace into hello cluster.</span></span> <span data-ttu-id="68631-241">Voici une tooillustrate analogie ce que je veux dire ici - pensez de type de nœud principal hello comme votre « poumons », il s’agit de ce que fournit le cerveau de tooyour oxygène et par conséquent, si les cerveau hello n’obtient pas d’assez d’oxygène, le corps de votre subit.</span><span class="sxs-lookup"><span data-stu-id="68631-241">Here is an analogy tooillustrate what I mean here - Think of hello primary node type as your "Lungs", it is what provides oxygen tooyour brain, and so if hello brain does not get enough oxygen, your body suffers.</span></span> 

<span data-ttu-id="68631-242">Étant donné que les besoins en capacité hello d’un cluster est déterminée par la charge de travail vous envisagez de toorun dans un cluster de hello, nous ne pouvons vous fournir des conseils qualitative pour votre charge de travail spécifique, toutefois ici est toohelp de conseils large hello commencer</span><span class="sxs-lookup"><span data-stu-id="68631-242">Since hello capacity needs of a cluster is determined by workload you plan toorun in hello cluster, we cannot provide you with qualitative guidance for your specific workload, however here is hello broad guidance toohelp you get started</span></span>

<span data-ttu-id="68631-243">Pour les charges de travail de production</span><span class="sxs-lookup"><span data-stu-id="68631-243">For production workloads</span></span> 


- <span data-ttu-id="68631-244">Hello recommandé VM SKU D3 Standard ou D3_V2 Standard ou l’équivalent avec un minimum de 14 Go de disque SSD local.</span><span class="sxs-lookup"><span data-stu-id="68631-244">hello recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span>
- <span data-ttu-id="68631-245">utilisation de Hello minimale prise en charge VM SKU est D1 Standard ou D1_V2 Standard ou l’équivalent avec un minimum de 14 Go de disque SSD local.</span><span class="sxs-lookup"><span data-stu-id="68631-245">hello minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span> 
- <span data-ttu-id="68631-246">Les références de machine virtuelle à cœur partiel telles que Standard A0 ne sont pas prises en charge pour les charges de travail de production.</span><span class="sxs-lookup"><span data-stu-id="68631-246">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="68631-247">La référence Standard A1 n’est pas prise en charge pour les charges de production pour des raisons de performances.</span><span class="sxs-lookup"><span data-stu-id="68631-247">Standard A1 SKU is not supported for production workloads for performance reasons.</span></span>


## <a name="non-primary-node-type---capacity-guidance-for-stateful-workloads"></a><span data-ttu-id="68631-248">Type de nœud non principal - Recommandations en matière de capacité pour les charges de travail avec état</span><span class="sxs-lookup"><span data-stu-id="68631-248">Non-Primary node type - Capacity Guidance for stateful workloads</span></span>

<span data-ttu-id="68631-249">Ces instructions sont fournies pour les charges de travail avec état à l’aide de l’infrastructure de Service [collections fiables ou reliable Actors](service-fabric-choose-framework.md) qui vous sont en cours d’exécution dans le type de nœud principal hello.</span><span class="sxs-lookup"><span data-stu-id="68631-249">This guidance is for stateful Workloads using Service fabric [reliable collections or reliable Actors](service-fabric-choose-framework.md) that you are running in hello non-primary node type.</span></span>


<span data-ttu-id="68631-250">**Nombre d’instances de machine virtuelle :** pour les charges de travail de production avec état, il est recommandé de les exécuter avec un nombre de réplicas minimal et cible de 5.</span><span class="sxs-lookup"><span data-stu-id="68631-250">**Number of VM instances:** For production workloads that are stateful, it is recommended that you run them with a minimum and target replica count of 5.</span></span> <span data-ttu-id="68631-251">Cela signifie qu’à l’état stationnaire, vous vous retrouvez avec un réplica (issu d’un jeu de réplicas) dans chaque domaine d’erreur et de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="68631-251">This means that in steady state you end up with a replica (from a replica set) in each fault domain and upgrade domain.</span></span> <span data-ttu-id="68631-252">concept de niveau de fiabilité ensemble Hello pour le type de nœud principal hello est un toospecify de façon à ce paramètre pour les services système.</span><span class="sxs-lookup"><span data-stu-id="68631-252">hello whole reliability tier concept for hello primary node type is a way toospecify this setting for system services.</span></span> <span data-ttu-id="68631-253">Par conséquent, hello même remarque s’applique également les services avec état tooyour.</span><span class="sxs-lookup"><span data-stu-id="68631-253">So hello same consideration applies tooyour stateful services as well.</span></span>

<span data-ttu-id="68631-254">Par conséquent, pour les charges de production, la taille minimale recommandée non - nœud primaire hello est 5, si vous exécutez les charges de travail avec état qu’elle contient.</span><span class="sxs-lookup"><span data-stu-id="68631-254">So for production workloads, hello minimum recommended non-Primary Node type size is 5, if you are running stateful workloads in it.</span></span>


<span data-ttu-id="68631-255">**VM SKU :** cela n’est hello nœud type où des services d’application sont en cours d’exécution, donc hello VM SKU vous choisissez, doivent prendre en charge de pointe hello compte vous prévoyez tooplace dans chaque nœud.</span><span class="sxs-lookup"><span data-stu-id="68631-255">**VM SKU:** This is hello node type where your application services are running, so hello VM SKU you choose for it, must take into account hello peak load you plan tooplace into each Node.</span></span> <span data-ttu-id="68631-256">Bonjour des besoins en capacité de hello nodetype, est déterminée par la charge de travail que vous envisagez de toorun dans un cluster de hello, donc nous ne pouvons pas vous fournir conseils qualitative pour votre charge de travail spécifique, toutefois ici est toohelp de conseils large hello commencer</span><span class="sxs-lookup"><span data-stu-id="68631-256">hello capacity needs of hello nodetype, is determined by workload you plan toorun in hello cluster, so we cannot provide you with qualitative guidance for your specific workload, however here is hello broad guidance toohelp you get started</span></span>

<span data-ttu-id="68631-257">Pour les charges de travail de production</span><span class="sxs-lookup"><span data-stu-id="68631-257">For production workloads</span></span> 

- <span data-ttu-id="68631-258">Hello recommandé VM SKU D3 Standard ou D3_V2 Standard ou l’équivalent avec un minimum de 14 Go de disque SSD local.</span><span class="sxs-lookup"><span data-stu-id="68631-258">hello recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span>
- <span data-ttu-id="68631-259">utilisation de Hello minimale prise en charge VM SKU est D1 Standard ou D1_V2 Standard ou l’équivalent avec un minimum de 14 Go de disque SSD local.</span><span class="sxs-lookup"><span data-stu-id="68631-259">hello minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span> 
- <span data-ttu-id="68631-260">Les références de machine virtuelle à cœur partiel telles que Standard A0 ne sont pas prises en charge pour les charges de travail de production.</span><span class="sxs-lookup"><span data-stu-id="68631-260">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="68631-261">La référence Standard A1 n’est pas non plus prise en charge pour les charges de production pour des raisons de performances.</span><span class="sxs-lookup"><span data-stu-id="68631-261">Standard A1 SKU is specifically not supported for production workloads for performance reasons.</span></span>


## <a name="non-primary-node-type---capacity-guidance-for-stateless-workloads"></a><span data-ttu-id="68631-262">Type de nœud non principal - Recommandations en matière de capacité pour les charges de travail sans état</span><span class="sxs-lookup"><span data-stu-id="68631-262">Non-Primary node type - Capacity Guidance for stateless workloads</span></span>

<span data-ttu-id="68631-263">Ce guide de charges de travail sans état qui vous sont en cours d’exécution sur hello non primaire nodetype.</span><span class="sxs-lookup"><span data-stu-id="68631-263">This guidance of stateless Workloads that you are running on hello non-primary nodetype.</span></span>

<span data-ttu-id="68631-264">**Nombre d’instances de machine virtuelle :** pour les charges de travail qui sont sans état, taille hello minimale prise en charge du type de nœud non principal est 2.</span><span class="sxs-lookup"><span data-stu-id="68631-264">**Number of VM instances:** For production workloads that are stateless, hello minimum supported non-Primary Node type size is 2.</span></span> <span data-ttu-id="68631-265">Cela vous permet de toorun vous deux instances sans état de votre application et en permettant à votre toosurvive service hello perte d’une instance de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="68631-265">This allows you toorun you two stateless instances of your application and allowing your service toosurvive hello loss of a VM instance.</span></span> 

> [!NOTE]
> <span data-ttu-id="68631-266">Si votre cluster est en cours d’exécution sur le service fabric version est inférieure à 5.6, en raison de défauts tooa Bonjour exécution (ce problème est résolu dans 5.6), mise à l’échelle vers le bas un accessible sans type de nœud principal à 5, entraîne l’activation non intègre, jusqu'à ce que vous appelez l’intégrité du cluster [ Remove-ServiceFabricNodeState cmd](https://docs.microsoft.com/powershell/servicefabric/vlatest/Remove-ServiceFabricNodeState) avec le nom de nœud approprié hello.</span><span class="sxs-lookup"><span data-stu-id="68631-266">If your cluster is running on a service fabric version less than 5.6, due tooa defect in hello runtime (this issue is fixed in 5.6), scaling down a non-primary node type tooless than 5, results in cluster health turning unhealthy, till you call [Remove-ServiceFabricNodeState cmd](https://docs.microsoft.com/powershell/servicefabric/vlatest/Remove-ServiceFabricNodeState) with hello appropriate node name.</span></span> <span data-ttu-id="68631-267">Pour plus d’informations, consultez [Augmenter ou diminuer la taille des instances d’un cluster Service Fabric](service-fabric-cluster-scale-up-down.md).</span><span class="sxs-lookup"><span data-stu-id="68631-267">Read [perform Service Fabric cluster in or out](service-fabric-cluster-scale-up-down.md) for more details</span></span>
> 
>

<span data-ttu-id="68631-268">**VM SKU :** cela n’est hello nœud type où des services d’application sont en cours d’exécution, donc hello VM SKU vous choisissez, doivent prendre en charge de pointe hello compte vous prévoyez tooplace dans chaque nœud.</span><span class="sxs-lookup"><span data-stu-id="68631-268">**VM SKU:** This is hello node type where your application services are running, so hello VM SKU you choose for it, must take into account hello peak load you plan tooplace into each Node.</span></span> <span data-ttu-id="68631-269">Bonjour des besoins en capacité de hello nodetype, est déterminée par la charge de travail que vous envisagez de toorun dans un cluster de hello, donc nous ne pouvons pas vous fournir conseils qualitative pour votre charge de travail spécifique, toutefois ici est toohelp de conseils large hello commencer</span><span class="sxs-lookup"><span data-stu-id="68631-269">hello capacity needs of hello nodetype, is determined by workload you plan toorun in hello cluster, So we cannot provide you with qualitative guidance for your specific workload, however here is hello broad guidance toohelp you get started</span></span>

<span data-ttu-id="68631-270">Pour les charges de travail de production</span><span class="sxs-lookup"><span data-stu-id="68631-270">For production workloads</span></span> 


- <span data-ttu-id="68631-271">Hello recommandé VM SKU D3 Standard ou D3_V2 Standard ou équivalent.</span><span class="sxs-lookup"><span data-stu-id="68631-271">hello recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent.</span></span> 
- <span data-ttu-id="68631-272">utilisation de Hello minimale prise en charge VM SKU est D1 Standard ou D1_V2 Standard ou équivalent.</span><span class="sxs-lookup"><span data-stu-id="68631-272">hello minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent.</span></span> 
- <span data-ttu-id="68631-273">Les références de machine virtuelle à cœur partiel telles que Standard A0 ne sont pas prises en charge pour les charges de travail de production.</span><span class="sxs-lookup"><span data-stu-id="68631-273">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="68631-274">La référence Standard A1 n’est pas prise en charge pour les charges de production pour des raisons de performances.</span><span class="sxs-lookup"><span data-stu-id="68631-274">Standard A1 SKU is not supported for production workloads for performance reasons.</span></span>

<!--Every topic should have next steps and links toohello next logical set of content tookeep hello customer engaged-->

## <a name="next-steps"></a><span data-ttu-id="68631-275">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="68631-275">Next steps</span></span>
<span data-ttu-id="68631-276">Une fois que vous terminez votre planification de la capacité et que vous configurez un cluster, consultez les informations suivantes hello :</span><span class="sxs-lookup"><span data-stu-id="68631-276">Once you finish your capacity planning and set up a cluster, read hello following:</span></span>

* [<span data-ttu-id="68631-277">Sécurité d’un cluster Service Fabric</span><span class="sxs-lookup"><span data-stu-id="68631-277">Service Fabric cluster security</span></span>](service-fabric-cluster-security.md)
* [<span data-ttu-id="68631-278">Présentation du modèle d’intégrité de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="68631-278">Service Fabric health model introduction</span></span>](service-fabric-health-introduction.md)
* [<span data-ttu-id="68631-279">Relation d’échelle de machines Nodetypes tooVirtual définie</span><span class="sxs-lookup"><span data-stu-id="68631-279">Relationship of Nodetypes tooVirtual machine scale set</span></span>](service-fabric-cluster-nodetypes.md)

<!--Image references-->
[SystemServices]: ./media/service-fabric-cluster-capacity/SystemServices.png
