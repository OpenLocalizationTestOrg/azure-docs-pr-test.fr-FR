---
title: "paramètres ReliableDictionaryActorStateProvider aaaChange microservices Azure | Documents Microsoft"
description: "Découvrez comment configurer les acteurs avec état Azure Service Fabric de type ReliableDictionaryActorStateProvider."
services: Service-Fabric
documentationcenter: .net
author: sumukhs
manager: timlt
editor: 
ms.assetid: 79b48ffa-2474-4f1c-a857-3471f9590ded
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 6/29/2017
ms.author: sumukhs
ms.openlocfilehash: 44c85a41c90a17669ba874401d7921c94e7be9ec
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="configuring-reliable-actors--reliabledictionaryactorstateprovider"></a><span data-ttu-id="36e34-103">Configuration de Reliable Actors - ReliableDictionaryActorStateProvider</span><span class="sxs-lookup"><span data-stu-id="36e34-103">Configuring Reliable Actors--ReliableDictionaryActorStateProvider</span></span>
<span data-ttu-id="36e34-104">Vous pouvez modifier la configuration par défaut de hello de ReliableDictionaryActorStateProvider en modifiant le fichier settings.xml de hello généré dans la racine du package Visual Studio hello dans le dossier de configuration hello pour l’acteur spécifiés de hello.</span><span class="sxs-lookup"><span data-stu-id="36e34-104">You can modify hello default configuration of ReliableDictionaryActorStateProvider by changing hello settings.xml file generated in hello Visual Studio package root under hello Config folder for hello specified actor.</span></span>

<span data-ttu-id="36e34-105">Bonjour Azure Service Fabric runtime recherche des noms de section prédéfinie dans le fichier settings.xml de hello et consomme les valeurs de configuration hello lors de la création de hello sous-jacent des composants d’exécution.</span><span class="sxs-lookup"><span data-stu-id="36e34-105">hello Azure Service Fabric runtime looks for predefined section names in hello settings.xml file and consumes hello configuration values while creating hello underlying runtime components.</span></span>

> [!NOTE]
> <span data-ttu-id="36e34-106">Faire **pas** supprimer ou modifier les noms de section hello Hello suivant des configurations dans le fichier settings.xml hello généré Bonjour solution Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="36e34-106">Do **not** delete or modify hello section names of hello following configurations in hello settings.xml file that is generated in hello Visual Studio solution.</span></span>
> 
> 

<span data-ttu-id="36e34-107">Il existe également des paramètres globaux qui affectent la configuration hello de ReliableDictionaryActorStateProvider.</span><span class="sxs-lookup"><span data-stu-id="36e34-107">There are also global settings that affect hello configuration of ReliableDictionaryActorStateProvider.</span></span>

## <a name="global-configuration"></a><span data-ttu-id="36e34-108">Configuration globale</span><span class="sxs-lookup"><span data-stu-id="36e34-108">Global Configuration</span></span>
<span data-ttu-id="36e34-109">configuration globale de Hello est spécifiée dans le manifeste du cluster pour le cluster hello sous hello KtlLogger section hello.</span><span class="sxs-lookup"><span data-stu-id="36e34-109">hello global configuration is specified in hello cluster manifest for hello cluster under hello KtlLogger section.</span></span> <span data-ttu-id="36e34-110">Il permet de configurer hello partagé limites du journal d’emplacement et taille plus hello mémoire globale utilisée par l’enregistreur d’événements hello.</span><span class="sxs-lookup"><span data-stu-id="36e34-110">It allows configuration of hello shared log location and size plus hello global memory limits used by hello logger.</span></span> <span data-ttu-id="36e34-111">Notez que les modifications dans le manifeste du cluster hello affectent tous les services qui utilisent ReliableDictionaryActorStateProvider et des services fiables avec état.</span><span class="sxs-lookup"><span data-stu-id="36e34-111">Note that changes in hello cluster manifest affect all services that use ReliableDictionaryActorStateProvider and reliable stateful services.</span></span>

<span data-ttu-id="36e34-112">manifeste du cluster Hello est un fichier XML qui contient les paramètres et les configurations qui s’appliquent tooall nœuds et les services de cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="36e34-112">hello cluster manifest is a single XML file that holds settings and configurations that apply tooall nodes and services in hello cluster.</span></span> <span data-ttu-id="36e34-113">fichier de Hello est généralement appelée ClusterManifest.xml.</span><span class="sxs-lookup"><span data-stu-id="36e34-113">hello file is typically called ClusterManifest.xml.</span></span> <span data-ttu-id="36e34-114">Vous pouvez voir le manifeste de cluster hello pour votre cluster à l’aide de la commande powershell de hello Get-ServiceFabricClusterManifest.</span><span class="sxs-lookup"><span data-stu-id="36e34-114">You can see hello cluster manifest for your cluster using hello Get-ServiceFabricClusterManifest powershell command.</span></span>

### <a name="configuration-names"></a><span data-ttu-id="36e34-115">Noms des configurations</span><span class="sxs-lookup"><span data-stu-id="36e34-115">Configuration names</span></span>
| <span data-ttu-id="36e34-116">Nom</span><span class="sxs-lookup"><span data-stu-id="36e34-116">Name</span></span> | <span data-ttu-id="36e34-117">Unité</span><span class="sxs-lookup"><span data-stu-id="36e34-117">Unit</span></span> | <span data-ttu-id="36e34-118">Valeur par défaut</span><span class="sxs-lookup"><span data-stu-id="36e34-118">Default value</span></span> | <span data-ttu-id="36e34-119">Remarques</span><span class="sxs-lookup"><span data-stu-id="36e34-119">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="36e34-120">WriteBufferMemoryPoolMinimumInKB</span><span class="sxs-lookup"><span data-stu-id="36e34-120">WriteBufferMemoryPoolMinimumInKB</span></span> |<span data-ttu-id="36e34-121">Ko</span><span class="sxs-lookup"><span data-stu-id="36e34-121">Kilobytes</span></span> |<span data-ttu-id="36e34-122">8388608</span><span class="sxs-lookup"><span data-stu-id="36e34-122">8388608</span></span> |<span data-ttu-id="36e34-123">Nombre minimal de tooallocate Ko en mode noyau pour l’enregistreur d’événements hello pool de mémoire tampon d’écriture.</span><span class="sxs-lookup"><span data-stu-id="36e34-123">Minimum number of KB tooallocate in kernel mode for hello logger write buffer memory pool.</span></span> <span data-ttu-id="36e34-124">Ce pool de mémoire est utilisé pour la mise en cache des informations d’état avant d’écrire toodisk.</span><span class="sxs-lookup"><span data-stu-id="36e34-124">This memory pool is used for caching state information before writing toodisk.</span></span> |
| <span data-ttu-id="36e34-125">WriteBufferMemoryPoolMaximumInKB</span><span class="sxs-lookup"><span data-stu-id="36e34-125">WriteBufferMemoryPoolMaximumInKB</span></span> |<span data-ttu-id="36e34-126">Ko</span><span class="sxs-lookup"><span data-stu-id="36e34-126">Kilobytes</span></span> |<span data-ttu-id="36e34-127">Aucune limite</span><span class="sxs-lookup"><span data-stu-id="36e34-127">No Limit</span></span> |<span data-ttu-id="36e34-128">Pool de mémoire tampon de taille maximale toowhich hello enregistreur d’événements écriture peut atteindre.</span><span class="sxs-lookup"><span data-stu-id="36e34-128">Maximum size toowhich hello logger write buffer memory pool can grow.</span></span> |
| <span data-ttu-id="36e34-129">SharedLogId</span><span class="sxs-lookup"><span data-stu-id="36e34-129">SharedLogId</span></span> |<span data-ttu-id="36e34-130">GUID</span><span class="sxs-lookup"><span data-stu-id="36e34-130">GUID</span></span> |<span data-ttu-id="36e34-131">""</span><span class="sxs-lookup"><span data-stu-id="36e34-131">""</span></span> |<span data-ttu-id="36e34-132">Spécifie un toouse GUID unique pour identifier le fichier journal partagé par défaut hello utilisé par tous les services fiables sur tous les nœuds de cluster de hello qui ne spécifient pas hello SharedLogId dans leur configuration de service spécifique.</span><span class="sxs-lookup"><span data-stu-id="36e34-132">Specifies a unique GUID toouse for identifying hello default shared log file used by all reliable services on all nodes in hello cluster that do not specify hello SharedLogId in their service specific configuration.</span></span> <span data-ttu-id="36e34-133">Si SharedLogId est spécifié, SharedLogPath doit l’être aussi.</span><span class="sxs-lookup"><span data-stu-id="36e34-133">If SharedLogId is specified, then SharedLogPath must also be specified.</span></span> |
| <span data-ttu-id="36e34-134">SharedLogPath</span><span class="sxs-lookup"><span data-stu-id="36e34-134">SharedLogPath</span></span> |<span data-ttu-id="36e34-135">Nom de chemin complet</span><span class="sxs-lookup"><span data-stu-id="36e34-135">Fully qualified path name</span></span> |<span data-ttu-id="36e34-136">""</span><span class="sxs-lookup"><span data-stu-id="36e34-136">""</span></span> |<span data-ttu-id="36e34-137">Spécifie le chemin d’accès qualifié complet hello où hello partagé de fichier journal utilisé par tous les services fiables sur tous les nœuds de cluster de hello qui ne spécifient pas hello SharedLogPath dans leur configuration de service spécifique.</span><span class="sxs-lookup"><span data-stu-id="36e34-137">Specifies hello fully qualified path where hello shared log file used by all reliable services on all nodes in hello cluster that do not specify hello SharedLogPath in their service specific configuration.</span></span> <span data-ttu-id="36e34-138">Toutefois, si SharedLogPath est spécifié, SharedLogId doit l'être aussi.</span><span class="sxs-lookup"><span data-stu-id="36e34-138">However, if SharedLogPath is specified, then SharedLogId must also be specified.</span></span> |
| <span data-ttu-id="36e34-139">SharedLogSizeInMB</span><span class="sxs-lookup"><span data-stu-id="36e34-139">SharedLogSizeInMB</span></span> |<span data-ttu-id="36e34-140">Mo</span><span class="sxs-lookup"><span data-stu-id="36e34-140">Megabytes</span></span> |<span data-ttu-id="36e34-141">8 192</span><span class="sxs-lookup"><span data-stu-id="36e34-141">8192</span></span> |<span data-ttu-id="36e34-142">Spécifie le nombre de hello Mo d’espace disque toostatically allouer pour les journaux partagés hello.</span><span class="sxs-lookup"><span data-stu-id="36e34-142">Specifies hello number of MB of disk space toostatically allocate for hello shared log.</span></span> <span data-ttu-id="36e34-143">valeur de Hello doit être supérieure ou 2048.</span><span class="sxs-lookup"><span data-stu-id="36e34-143">hello value must be 2048 or larger.</span></span> |

### <a name="sample-cluster-manifest-section"></a><span data-ttu-id="36e34-144">Exemple de section du manifeste de cluster</span><span class="sxs-lookup"><span data-stu-id="36e34-144">Sample cluster manifest section</span></span>
```xml
   <Section Name="KtlLogger">
     <Parameter Name="WriteBufferMemoryPoolMinimumInKB" Value="8192" />
     <Parameter Name="WriteBufferMemoryPoolMaximumInKB" Value="8192" />
     <Parameter Name="SharedLogId" Value="{7668BB54-FE9C-48ed-81AC-FF89E60ED2EF}"/>
     <Parameter Name="SharedLogPath" Value="f:\SharedLog.Log"/>
     <Parameter Name="SharedLogSizeInMB" Value="16383"/>
   </Section>
```

### <a name="remarks"></a><span data-ttu-id="36e34-145">Remarques</span><span class="sxs-lookup"><span data-stu-id="36e34-145">Remarks</span></span>
<span data-ttu-id="36e34-146">enregistreur d’événements Hello dispose d’un pool global de mémoire allouée à partir de la mémoire non paginée du noyau tooall disponibles des services fiables sur un nœud de mise en cache des données d’état avant d’être écrites toohello dédié journal est associé avec le réplica de service fiable hello.</span><span class="sxs-lookup"><span data-stu-id="36e34-146">hello logger has a global pool of memory allocated from non paged kernel memory that is available tooall reliable services on a node for caching state data before being written toohello dedicated log associated with hello reliable service replica.</span></span> <span data-ttu-id="36e34-147">taille du pool Hello est contrôlé par hello WriteBufferMemoryPoolMinimumInKB et WriteBufferMemoryPoolMaximumInKB paramètres.</span><span class="sxs-lookup"><span data-stu-id="36e34-147">hello pool size is controlled by hello WriteBufferMemoryPoolMinimumInKB and WriteBufferMemoryPoolMaximumInKB settings.</span></span> <span data-ttu-id="36e34-148">WriteBufferMemoryPoolMinimumInKB spécifie à la fois hello taille initiale de ce pool de mémoire et le pool de mémoire hello plus petit taille toowhich hello peut réduire.</span><span class="sxs-lookup"><span data-stu-id="36e34-148">WriteBufferMemoryPoolMinimumInKB specifies both hello initial size of this memory pool and hello lowest size toowhich hello memory pool may shrink.</span></span> <span data-ttu-id="36e34-149">WriteBufferMemoryPoolMaximumInKB est le pool de mémoire du hello toowhich de la taille la plus élevée hello peut croître.</span><span class="sxs-lookup"><span data-stu-id="36e34-149">WriteBufferMemoryPoolMaximumInKB is hello highest size toowhich hello memory pool may grow.</span></span> <span data-ttu-id="36e34-150">Chaque réplica de service fiable qui est ouvert peut augmenter la taille hello hello du pool de mémoire d’une quantité de système de déterminer des tooWriteBufferMemoryPoolMaximumInKB.</span><span class="sxs-lookup"><span data-stu-id="36e34-150">Each reliable service replica that is opened may increase hello size of hello memory pool by a system determined amount up tooWriteBufferMemoryPoolMaximumInKB.</span></span> <span data-ttu-id="36e34-151">S’il existe à la demande plus de mémoire à partir du pool de mémoire hello qu’il n’est disponible, les demandes de mémoire seront retardées jusqu'à ce que la mémoire est disponible.</span><span class="sxs-lookup"><span data-stu-id="36e34-151">If there is more demand for memory from hello memory pool than is available, requests for memory will be delayed until memory is available.</span></span> <span data-ttu-id="36e34-152">Par conséquent, si le pool de mémoires tampon hello écriture est trop petit pour une configuration particulière puis performances risquent d’en pâtir.</span><span class="sxs-lookup"><span data-stu-id="36e34-152">Therefore if hello write buffer memory pool is too small for a particular configuration then performance may suffer.</span></span>

<span data-ttu-id="36e34-153">Hello SharedLogId et SharedLogPath sont toujours utilisés toodefine ensemble hello GUID et l’emplacement par défaut de hello partagé journal pour tous les nœuds de cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="36e34-153">hello SharedLogId and SharedLogPath settings are always used together toodefine hello GUID and location for hello default shared log for all nodes in hello cluster.</span></span> <span data-ttu-id="36e34-154">journal partagé de Hello par défaut est utilisé pour tous les services fiables qui ne spécifient pas de paramètres de hello dans settings.xml hello pour un service spécifique de hello.</span><span class="sxs-lookup"><span data-stu-id="36e34-154">hello default shared log is used for all reliable services that do not specify hello settings in hello settings.xml for hello specific service.</span></span> <span data-ttu-id="36e34-155">Pour de meilleures performances, les fichiers de journal partagé doivent être placés sur des disques qui sont utilisés exclusivement pour la contention de tooreduce du fichier journal hello partagé.</span><span class="sxs-lookup"><span data-stu-id="36e34-155">For best performance, shared log files should be placed on disks that are used solely for hello shared log file tooreduce contention.</span></span>

<span data-ttu-id="36e34-156">SharedLogSizeInMB spécifie hello toopreallocate d’espace disque pour des journaux hello partagé par défaut sur tous les nœuds.</span><span class="sxs-lookup"><span data-stu-id="36e34-156">SharedLogSizeInMB specifies hello amount of disk space toopreallocate for hello default shared log on all nodes.</span></span>  <span data-ttu-id="36e34-157">SharedLogId et SharedLogPath n’avez pas besoin de toobe spécifiée pour toobe SharedLogSizeInMB spécifié.</span><span class="sxs-lookup"><span data-stu-id="36e34-157">SharedLogId and SharedLogPath do not need toobe specified in order for SharedLogSizeInMB toobe specified.</span></span>

## <a name="replicator-security-configuration"></a><span data-ttu-id="36e34-158">Configuration de la sécurité du réplicateur</span><span class="sxs-lookup"><span data-stu-id="36e34-158">Replicator security configuration</span></span>
<span data-ttu-id="36e34-159">Configurations de sécurité réplicateur sont un canal de communication utilisé toosecure hello est utilisé lors de la réplication.</span><span class="sxs-lookup"><span data-stu-id="36e34-159">Replicator security configurations are used toosecure hello communication channel that is used during replication.</span></span> <span data-ttu-id="36e34-160">Cela signifie que les services ne peut pas voir le trafic de réplication à l’autre, s’assurer que les données de salutation hautement disponible sont également sécurisées.</span><span class="sxs-lookup"><span data-stu-id="36e34-160">This means that services cannot see each other's replication traffic, ensuring hello data that is made highly available is also secure.</span></span>
<span data-ttu-id="36e34-161">Par défaut, une section de configuration de sécurité vide empêche de sécuriser la réplication.</span><span class="sxs-lookup"><span data-stu-id="36e34-161">By default, an empty security configuration section prevents replication security.</span></span>

### <a name="section-name"></a><span data-ttu-id="36e34-162">Nom de la section</span><span class="sxs-lookup"><span data-stu-id="36e34-162">Section name</span></span>
<span data-ttu-id="36e34-163">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span><span class="sxs-lookup"><span data-stu-id="36e34-163">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span></span>

## <a name="replicator-configuration"></a><span data-ttu-id="36e34-164">Configuration du réplicateur</span><span class="sxs-lookup"><span data-stu-id="36e34-164">Replicator configuration</span></span>
<span data-ttu-id="36e34-165">Les configurations de réplicateur sont réplicateur hello tooconfigure utilisé qui est responsable de l’état de fournisseur d’état d’acteur hello hautement fiable par la réplication et la persistance d’état hello localement.</span><span class="sxs-lookup"><span data-stu-id="36e34-165">Replicator configurations are used tooconfigure hello replicator that is responsible for making hello Actor State Provider state highly reliable by replicating and persisting hello state locally.</span></span>
<span data-ttu-id="36e34-166">configuration par défaut de Hello est générée par le modèle de Visual Studio hello et suffisante.</span><span class="sxs-lookup"><span data-stu-id="36e34-166">hello default configuration is generated by hello Visual Studio template and should suffice.</span></span> <span data-ttu-id="36e34-167">Cette section décrit les configurations supplémentaires qui sont le réplicateur de hello tootune disponibles.</span><span class="sxs-lookup"><span data-stu-id="36e34-167">This section talks about additional configurations that are available tootune hello replicator.</span></span>

### <a name="section-name"></a><span data-ttu-id="36e34-168">Nom de la section</span><span class="sxs-lookup"><span data-stu-id="36e34-168">Section name</span></span>
<span data-ttu-id="36e34-169">&lt;ActorName&gt;ServiceReplicatorConfig</span><span class="sxs-lookup"><span data-stu-id="36e34-169">&lt;ActorName&gt;ServiceReplicatorConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="36e34-170">Noms des configurations</span><span class="sxs-lookup"><span data-stu-id="36e34-170">Configuration names</span></span>
| <span data-ttu-id="36e34-171">Nom</span><span class="sxs-lookup"><span data-stu-id="36e34-171">Name</span></span> | <span data-ttu-id="36e34-172">Unité</span><span class="sxs-lookup"><span data-stu-id="36e34-172">Unit</span></span> | <span data-ttu-id="36e34-173">Valeur par défaut</span><span class="sxs-lookup"><span data-stu-id="36e34-173">Default value</span></span> | <span data-ttu-id="36e34-174">Remarques</span><span class="sxs-lookup"><span data-stu-id="36e34-174">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="36e34-175">BatchAcknowledgementInterval</span><span class="sxs-lookup"><span data-stu-id="36e34-175">BatchAcknowledgementInterval</span></span> |<span data-ttu-id="36e34-176">Secondes</span><span class="sxs-lookup"><span data-stu-id="36e34-176">Seconds</span></span> |<span data-ttu-id="36e34-177">0.015</span><span class="sxs-lookup"><span data-stu-id="36e34-177">0.015</span></span> |<span data-ttu-id="36e34-178">Période de temps pour le réplicateur hello au temps d’attente secondaire hello après la réception d’une opération avant le renvoi d’un toohello d’accusé de réception principal.</span><span class="sxs-lookup"><span data-stu-id="36e34-178">Time period for which hello replicator at hello secondary waits after receiving an operation before sending back an acknowledgement toohello primary.</span></span> <span data-ttu-id="36e34-179">Toutes les autres toobe d’accusés de réception envoyé pour les opérations de traitement dans cet intervalle sont envoyés sous la forme d’une réponse.</span><span class="sxs-lookup"><span data-stu-id="36e34-179">Any other acknowledgements toobe sent for operations processed within this interval are sent as one response.</span></span> |
| <span data-ttu-id="36e34-180">ReplicatorEndpoint</span><span class="sxs-lookup"><span data-stu-id="36e34-180">ReplicatorEndpoint</span></span> |<span data-ttu-id="36e34-181">N/A</span><span class="sxs-lookup"><span data-stu-id="36e34-181">N/A</span></span> |<span data-ttu-id="36e34-182">Aucune valeur par défaut (paramètre obligatoire)</span><span class="sxs-lookup"><span data-stu-id="36e34-182">No default--required parameter</span></span> |<span data-ttu-id="36e34-183">Adresse IP et port qui hello principal/secondaire réplicateur utilisera toocommunicate avec autres duplicateurs hello jeu de réplicas.</span><span class="sxs-lookup"><span data-stu-id="36e34-183">IP address and port that hello primary/secondary replicator will use toocommunicate with other replicators in hello replica set.</span></span> <span data-ttu-id="36e34-184">Cela doit faire référence à un point de terminaison TCP ressource de manifeste de service hello.</span><span class="sxs-lookup"><span data-stu-id="36e34-184">This should reference a TCP resource endpoint in hello service manifest.</span></span> <span data-ttu-id="36e34-185">Consultez trop[les ressources de manifeste de Service](service-fabric-service-manifest-resources.md) tooread plus d’informations sur la définition des ressources d’un point de terminaison dans le manifeste de service.</span><span class="sxs-lookup"><span data-stu-id="36e34-185">Refer too[Service manifest resources](service-fabric-service-manifest-resources.md) tooread more about defining endpoint resources in service manifest.</span></span> |
| <span data-ttu-id="36e34-186">MaxReplicationMessageSize</span><span class="sxs-lookup"><span data-stu-id="36e34-186">MaxReplicationMessageSize</span></span> |<span data-ttu-id="36e34-187">Octets</span><span class="sxs-lookup"><span data-stu-id="36e34-187">Bytes</span></span> |<span data-ttu-id="36e34-188">50 Mo</span><span class="sxs-lookup"><span data-stu-id="36e34-188">50 MB</span></span> |<span data-ttu-id="36e34-189">Taille maximale des données de réplication pouvant être transmises dans un même message.</span><span class="sxs-lookup"><span data-stu-id="36e34-189">Maximum size of replication data that can be transmitted in a single message.</span></span> |
| <span data-ttu-id="36e34-190">MaxPrimaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="36e34-190">MaxPrimaryReplicationQueueSize</span></span> |<span data-ttu-id="36e34-191">Nombre d'opérations</span><span class="sxs-lookup"><span data-stu-id="36e34-191">Number of operations</span></span> |<span data-ttu-id="36e34-192">8 192</span><span class="sxs-lookup"><span data-stu-id="36e34-192">8192</span></span> |<span data-ttu-id="36e34-193">Nombre maximal d’opérations dans la file d’attente principale de hello.</span><span class="sxs-lookup"><span data-stu-id="36e34-193">Maximum number of operations in hello primary queue.</span></span> <span data-ttu-id="36e34-194">Une opération est libérée après que Réplicateur principal de hello reçoit un accusé de réception auprès de tous les fabricants de hello secondaire.</span><span class="sxs-lookup"><span data-stu-id="36e34-194">An operation is freed up after hello primary replicator receives an acknowledgement from all hello secondary replicators.</span></span> <span data-ttu-id="36e34-195">Cette valeur doit être supérieure à 64 et être une puissance de 2.</span><span class="sxs-lookup"><span data-stu-id="36e34-195">This value must be greater than 64 and a power of 2.</span></span> |
| <span data-ttu-id="36e34-196">MaxSecondaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="36e34-196">MaxSecondaryReplicationQueueSize</span></span> |<span data-ttu-id="36e34-197">Nombre d'opérations</span><span class="sxs-lookup"><span data-stu-id="36e34-197">Number of operations</span></span> |<span data-ttu-id="36e34-198">16 384</span><span class="sxs-lookup"><span data-stu-id="36e34-198">16384</span></span> |<span data-ttu-id="36e34-199">Nombre maximal d’opérations dans la file d’attente secondaire de hello.</span><span class="sxs-lookup"><span data-stu-id="36e34-199">Maximum number of operations in hello secondary queue.</span></span> <span data-ttu-id="36e34-200">Une opération est libérée une fois son état devenu hautement disponible grâce à la persistance.</span><span class="sxs-lookup"><span data-stu-id="36e34-200">An operation is freed up after making its state highly available through persistence.</span></span> <span data-ttu-id="36e34-201">Cette valeur doit être supérieure à 64 et être une puissance de 2.</span><span class="sxs-lookup"><span data-stu-id="36e34-201">This value must be greater than 64 and a power of 2.</span></span> |
| <span data-ttu-id="36e34-202">CheckpointThresholdInMB</span><span class="sxs-lookup"><span data-stu-id="36e34-202">CheckpointThresholdInMB</span></span> |<span data-ttu-id="36e34-203">Mo</span><span class="sxs-lookup"><span data-stu-id="36e34-203">MB</span></span> |<span data-ttu-id="36e34-204">200</span><span class="sxs-lookup"><span data-stu-id="36e34-204">200</span></span> |<span data-ttu-id="36e34-205">Quantité d’espace de fichier journal après laquelle l’état hello est point de contrôle.</span><span class="sxs-lookup"><span data-stu-id="36e34-205">Amount of log file space after which hello state is checkpointed.</span></span> |
| <span data-ttu-id="36e34-206">MaxRecordSizeInKB</span><span class="sxs-lookup"><span data-stu-id="36e34-206">MaxRecordSizeInKB</span></span> |<span data-ttu-id="36e34-207">Ko</span><span class="sxs-lookup"><span data-stu-id="36e34-207">KB</span></span> |<span data-ttu-id="36e34-208">1 024</span><span class="sxs-lookup"><span data-stu-id="36e34-208">1024</span></span> |<span data-ttu-id="36e34-209">Plus grande taille d’enregistrement qui hello réplicateur peut-être écrire dans le journal de hello.</span><span class="sxs-lookup"><span data-stu-id="36e34-209">Largest record size that hello replicator may write in hello log.</span></span> <span data-ttu-id="36e34-210">Cette valeur doit être un multiple de 4 et supérieure à 16.</span><span class="sxs-lookup"><span data-stu-id="36e34-210">This value must be a multiple of 4 and greater than 16.</span></span> |
| <span data-ttu-id="36e34-211">OptimizeLogForLowerDiskUsage</span><span class="sxs-lookup"><span data-stu-id="36e34-211">OptimizeLogForLowerDiskUsage</span></span> |<span data-ttu-id="36e34-212">Boolean</span><span class="sxs-lookup"><span data-stu-id="36e34-212">Boolean</span></span> |<span data-ttu-id="36e34-213">true</span><span class="sxs-lookup"><span data-stu-id="36e34-213">true</span></span> |<span data-ttu-id="36e34-214">Lorsque la valeur est true, les journaux hello sont configuré afin que les fichiers journaux dédié du réplica hello sont créé à l’aide d’un fichier partiellement alloué NTFS.</span><span class="sxs-lookup"><span data-stu-id="36e34-214">When true, hello log is configured so that hello replica's dedicated log file is created by using an NTFS sparse file.</span></span> <span data-ttu-id="36e34-215">Cela réduit l’espace fichier de hello hello disque réel.</span><span class="sxs-lookup"><span data-stu-id="36e34-215">This lowers hello actual disk space usage for hello file.</span></span> <span data-ttu-id="36e34-216">Si la valeur est false, les fichier hello sont créé avec des allocations fixes, qui offrent de meilleures performances en écriture hello.</span><span class="sxs-lookup"><span data-stu-id="36e34-216">When false, hello file is created with fixed allocations, which provide hello best write performance.</span></span> |
| <span data-ttu-id="36e34-217">SharedLogId</span><span class="sxs-lookup"><span data-stu-id="36e34-217">SharedLogId</span></span> |<span data-ttu-id="36e34-218">GUID</span><span class="sxs-lookup"><span data-stu-id="36e34-218">guid</span></span> |<span data-ttu-id="36e34-219">""</span><span class="sxs-lookup"><span data-stu-id="36e34-219">""</span></span> |<span data-ttu-id="36e34-220">Spécifie un toouse guid unique pour identifier le fichier journal partagé hello utilisé avec ce réplica.</span><span class="sxs-lookup"><span data-stu-id="36e34-220">Specifies a unique guid toouse for identifying hello shared log file used with this replica.</span></span> <span data-ttu-id="36e34-221">En règle générale, les services ne doivent pas utiliser ce paramètre.</span><span class="sxs-lookup"><span data-stu-id="36e34-221">Typically, services should not use this setting.</span></span> <span data-ttu-id="36e34-222">Toutefois, si SharedLogId est spécifié, SharedLogPath doit l'être aussi.</span><span class="sxs-lookup"><span data-stu-id="36e34-222">However, if SharedLogId is specified, then SharedLogPath must also be specified.</span></span> |
| <span data-ttu-id="36e34-223">SharedLogPath</span><span class="sxs-lookup"><span data-stu-id="36e34-223">SharedLogPath</span></span> |<span data-ttu-id="36e34-224">Nom de chemin complet</span><span class="sxs-lookup"><span data-stu-id="36e34-224">Fully qualified path name</span></span> |<span data-ttu-id="36e34-225">""</span><span class="sxs-lookup"><span data-stu-id="36e34-225">""</span></span> |<span data-ttu-id="36e34-226">Spécifie le chemin d’accès qualifié complet hello où hello partagé fichier journal pour ce réplica sera créé.</span><span class="sxs-lookup"><span data-stu-id="36e34-226">Specifies hello fully qualified path where hello shared log file for this replica will be created.</span></span> <span data-ttu-id="36e34-227">En règle générale, les services ne doivent pas utiliser ce paramètre.</span><span class="sxs-lookup"><span data-stu-id="36e34-227">Typically, services should not use this setting.</span></span> <span data-ttu-id="36e34-228">Toutefois, si SharedLogPath est spécifié, SharedLogId doit l'être aussi.</span><span class="sxs-lookup"><span data-stu-id="36e34-228">However, if SharedLogPath is specified, then SharedLogId must also be specified.</span></span> |

## <a name="sample-configuration-file"></a><span data-ttu-id="36e34-229">Exemple de fichier de configuration</span><span class="sxs-lookup"><span data-stu-id="36e34-229">Sample configuration file</span></span>
```xml
<?xml version="1.0" encoding="utf-8"?>
<Settings xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://schemas.microsoft.com/2011/01/fabric">
   <Section Name="MyActorServiceReplicatorConfig">
      <Parameter Name="ReplicatorEndpoint" Value="MyActorServiceReplicatorEndpoint" />
      <Parameter Name="BatchAcknowledgementInterval" Value="0.05"/>
      <Parameter Name="CheckpointThresholdInMB" Value="180" />
   </Section>
   <Section Name="MyActorServiceReplicatorSecurityConfig">
      <Parameter Name="CredentialType" Value="X509" />
      <Parameter Name="FindType" Value="FindByThumbprint" />
      <Parameter Name="FindValue" Value="9d c9 06 b1 69 dc 4f af fd 16 97 ac 78 1e 80 67 90 74 9d 2f" />
      <Parameter Name="StoreLocation" Value="LocalMachine" />
      <Parameter Name="StoreName" Value="My" />
      <Parameter Name="ProtectionLevel" Value="EncryptAndSign" />
      <Parameter Name="AllowedCommonNames" Value="My-Test-SAN1-Alice,My-Test-SAN1-Bob" />
   </Section>
</Settings>
```

## <a name="remarks"></a><span data-ttu-id="36e34-230">Remarques</span><span class="sxs-lookup"><span data-stu-id="36e34-230">Remarks</span></span>
<span data-ttu-id="36e34-231">paramètre de BatchAcknowledgementInterval Hello contrôle la latence de réplication.</span><span class="sxs-lookup"><span data-stu-id="36e34-231">hello BatchAcknowledgementInterval parameter controls replication latency.</span></span> <span data-ttu-id="36e34-232">La valeur '0' entraîne hello latence minimale, au coût de hello de débit (comme les autres messages d’accusé de réception doivent être envoyées et traitées, contenant chacune des accusés de réception moins).</span><span class="sxs-lookup"><span data-stu-id="36e34-232">A value of '0' results in hello lowest possible latency, at hello cost of throughput (as more acknowledgement messages must be sent and processed, each containing fewer acknowledgements).</span></span>
<span data-ttu-id="36e34-233">Hello plus grande valeur hello pour BatchAcknowledgementInterval, hello hello plu globale débit de la réplication, au coût de hello de latence d’opération plus élevée.</span><span class="sxs-lookup"><span data-stu-id="36e34-233">hello larger hello value for BatchAcknowledgementInterval, hello higher hello overall replication throughput, at hello cost of higher operation latency.</span></span> <span data-ttu-id="36e34-234">Cela traduit directement toohello une latence de transaction est validée.</span><span class="sxs-lookup"><span data-stu-id="36e34-234">This directly translates toohello latency of transaction commits.</span></span>

<span data-ttu-id="36e34-235">Hello CheckpointThresholdInMB paramètre contrôles hello quantité d’espace disque hello replicator peut utiliser toostore les informations d’état dans fichier de journal dédié du réplica hello.</span><span class="sxs-lookup"><span data-stu-id="36e34-235">hello CheckpointThresholdInMB parameter controls hello amount of disk space that hello replicator can use toostore state information in hello replica's dedicated log file.</span></span> <span data-ttu-id="36e34-236">Augmentation de cette valeur plus élevée tooa que par défaut de hello peut entraîner des temps de reconfiguration plus rapides lorsqu’un nouveau réplica est ajouté toohello ensemble.</span><span class="sxs-lookup"><span data-stu-id="36e34-236">Increasing this tooa higher value than hello default could result in faster reconfiguration times when a new replica is added toohello set.</span></span> <span data-ttu-id="36e34-237">Il s’agit en raison d’un transfert toohello partielle de l’état a lieu en raison de la disponibilité de toohello des détails de l’historique des opérations dans le journal de hello.</span><span class="sxs-lookup"><span data-stu-id="36e34-237">This is due toohello partial state transfer that takes place due toohello availability of more history of operations in hello log.</span></span> <span data-ttu-id="36e34-238">Cela peut potentiellement accroître le temps de récupération hello d’un réplica après un incident.</span><span class="sxs-lookup"><span data-stu-id="36e34-238">This can potentially increase hello recovery time of a replica after a crash.</span></span>

<span data-ttu-id="36e34-239">Si vous définissez OptimizeForLowerDiskUsage tootrue, espace de fichier journal sera surconfiguré afin que les réplicas actifs peuvent stocker plus d’informations sur l’état de leurs fichiers journaux, tandis que les réplicas inactifs utilise moins d’espace disque.</span><span class="sxs-lookup"><span data-stu-id="36e34-239">If you set OptimizeForLowerDiskUsage tootrue, log file space will be over-provisioned so that active replicas can store more state information in their log files, while inactive replicas will use less disk space.</span></span> <span data-ttu-id="36e34-240">Cela rend possible toohost plusieurs réplicas sur un nœud.</span><span class="sxs-lookup"><span data-stu-id="36e34-240">This makes it possible toohost more replicas on a node.</span></span> <span data-ttu-id="36e34-241">Si vous définissez OptimizeForLowerDiskUsage toofalse, informations d’état hello sont écrit des fichiers journaux toohello plus rapidement.</span><span class="sxs-lookup"><span data-stu-id="36e34-241">If you set OptimizeForLowerDiskUsage toofalse, hello state information is written toohello log files more quickly.</span></span>

<span data-ttu-id="36e34-242">paramètre de MaxRecordSizeInKB Hello définit la taille maximale de hello d’un enregistrement qui peut être écrite par le réplicateur de hello dans le fichier journal de hello.</span><span class="sxs-lookup"><span data-stu-id="36e34-242">hello MaxRecordSizeInKB setting defines hello maximum size of a record that can be written by hello replicator into hello log file.</span></span> <span data-ttu-id="36e34-243">Dans la plupart des cas, la taille d’enregistrement de 1024 Ko hello par défaut est optimal.</span><span class="sxs-lookup"><span data-stu-id="36e34-243">In most cases, hello default 1024-KB record size is optimal.</span></span> <span data-ttu-id="36e34-244">Toutefois, si le service de hello pose plus grande partie toobe des éléments de données des informations d’état hello, cette valeur peut-être toobe augmenté.</span><span class="sxs-lookup"><span data-stu-id="36e34-244">However, if hello service is causing larger data items toobe part of hello state information, then this value might need toobe increased.</span></span> <span data-ttu-id="36e34-245">Il est peu d’intérêt dans la création de MaxRecordSizeInKB inférieure à 1024, comme enregistrements plus petits uniquement utilisent l’hello espace nécessaire pour l’enregistrement de plus petit hello.</span><span class="sxs-lookup"><span data-stu-id="36e34-245">There is little benefit in making MaxRecordSizeInKB smaller than 1024, as smaller records use only hello space needed for hello smaller record.</span></span> <span data-ttu-id="36e34-246">Nous espérons que cette valeur doit toobe modifiée uniquement dans de rares cas.</span><span class="sxs-lookup"><span data-stu-id="36e34-246">We expect that this value would need toobe changed only in rare cases.</span></span>

<span data-ttu-id="36e34-247">les paramètres SharedLogId et SharedLogPath Hello sont toujours toomake ensemble utilisé un service, utilisez un journal partagé distinct à partir des journaux hello partagé par défaut pour le nœud de hello.</span><span class="sxs-lookup"><span data-stu-id="36e34-247">hello SharedLogId and SharedLogPath settings are always used together toomake a service use a separate shared log from hello default shared log for hello node.</span></span> <span data-ttu-id="36e34-248">Pour plus d’efficacité, les services autant que possible doivent spécifier hello partagée journal.</span><span class="sxs-lookup"><span data-stu-id="36e34-248">For best efficiency, as many services as possible should specify hello same shared log.</span></span> <span data-ttu-id="36e34-249">Les fichiers de journal partagé doivent être placés sur des disques qui sont utilisés uniquement pour le fichier journal partagé hello, contention de mouvement de la tête tooreduce.</span><span class="sxs-lookup"><span data-stu-id="36e34-249">Shared log files should be placed on disks that are used solely for hello shared log file, tooreduce head movement contention.</span></span> <span data-ttu-id="36e34-250">Nous espérons que toobe modifiée uniquement dans de rares cas aurait besoin de ces valeurs.</span><span class="sxs-lookup"><span data-stu-id="36e34-250">We expect that these values would need toobe changed only in rare cases.</span></span>

