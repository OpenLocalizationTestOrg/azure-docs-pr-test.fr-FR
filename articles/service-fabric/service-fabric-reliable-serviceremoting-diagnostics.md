---
title: aaaAzure ServiceFabric diagnostics et surveillance | Documents Microsoft
description: "Cet article décrit les fonctionnalités de surveillance de performances hello dans hello ServiceRemoting fiable de l’infrastructure de Service runtime, tels que les compteurs de performance émis par celui-ci."
services: service-fabric
documentationcenter: .net
author: suchiagicha
manager: timlt
editor: suchiagicha
ms.assetid: 1c229923-670a-4634-ad59-468ff781ad18
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/29/2017
ms.author: suchiagicha
ms.openlocfilehash: 64db9a890bd59a1326e587d14b89c007b71a9059
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="diagnostics-and-performance-monitoring-for-reliable-service-remoting"></a><span data-ttu-id="7d742-103">Diagnostics et surveillance des performances pour Reliable Service Remoting</span><span class="sxs-lookup"><span data-stu-id="7d742-103">Diagnostics and performance monitoring for Reliable Service Remoting</span></span>
<span data-ttu-id="7d742-104">exécution de ServiceRemoting fiable Hello émet [les compteurs de performance](https://msdn.microsoft.com/library/system.diagnostics.performancecounter.aspx).</span><span class="sxs-lookup"><span data-stu-id="7d742-104">hello Reliable ServiceRemoting runtime emits  [performance counters](https://msdn.microsoft.com/library/system.diagnostics.performancecounter.aspx).</span></span> <span data-ttu-id="7d742-105">Ces fournissent des informations sur le fonctionne de hello ServiceRemoting et aider à l’analyse des performances et le dépannage.</span><span class="sxs-lookup"><span data-stu-id="7d742-105">These provide insights into how hello ServiceRemoting is operating and help with troubleshooting and performance monitoring.</span></span>


## <a name="performance-counters"></a><span data-ttu-id="7d742-106">Compteurs de performances</span><span class="sxs-lookup"><span data-stu-id="7d742-106">Performance counters</span></span>
<span data-ttu-id="7d742-107">Hello ServiceRemoting fiable runtime définit hello suivant des catégories de compteurs de performances :</span><span class="sxs-lookup"><span data-stu-id="7d742-107">hello Reliable ServiceRemoting runtime defines hello following performance counter categories:</span></span>

| <span data-ttu-id="7d742-108">Catégorie</span><span class="sxs-lookup"><span data-stu-id="7d742-108">Category</span></span> | <span data-ttu-id="7d742-109">Description</span><span class="sxs-lookup"><span data-stu-id="7d742-109">Description</span></span> |
| --- | --- |
| <span data-ttu-id="7d742-110">Service Fabric Service</span><span class="sxs-lookup"><span data-stu-id="7d742-110">Service Fabric Service</span></span> |<span data-ttu-id="7d742-111">Compteurs spécifique tooAzure de communication à distance du Service Service Fabric, par exemple, le temps moyen nécessaire tooprocess demander</span><span class="sxs-lookup"><span data-stu-id="7d742-111">Counters specific tooAzure Service Fabric Service Remoting , for example, average time taken tooprocess request</span></span> |
| <span data-ttu-id="7d742-112">Méthode de service Service Fabric</span><span class="sxs-lookup"><span data-stu-id="7d742-112">Service Fabric Service Method</span></span> |<span data-ttu-id="7d742-113">Toomethods spécifique de compteurs implémentée par le Service de communication à distance l’ensemble fibre optique, par exemple, la fréquence à laquelle une méthode de service est appelée</span><span class="sxs-lookup"><span data-stu-id="7d742-113">Counters specific toomethods implemented by Service Fabric Remoting Service, for example, how often a service method is invoked</span></span> |

<span data-ttu-id="7d742-114">Chaque hello précédant les catégories a un ou plusieurs compteurs.</span><span class="sxs-lookup"><span data-stu-id="7d742-114">Each of hello preceding categories has one or more counters.</span></span>

<span data-ttu-id="7d742-115">Hello [Analyseur de performances Windows](https://technet.microsoft.com/library/cc749249.aspx) application qui est disponible par défaut dans le système d’exploitation de Windows hello peut être utilisé toocollect et affichage de données compteur de performance.</span><span class="sxs-lookup"><span data-stu-id="7d742-115">hello [Windows Performance Monitor](https://technet.microsoft.com/library/cc749249.aspx) application that is available by default in hello Windows operating system can be used toocollect and view performance counter data.</span></span> <span data-ttu-id="7d742-116">[Diagnostics Azure](../cloud-services/cloud-services-dotnet-diagnostics.md) est une autre option pour la collecte de données de compteur de performances et de les télécharger tooAzure tables.</span><span class="sxs-lookup"><span data-stu-id="7d742-116">[Azure Diagnostics](../cloud-services/cloud-services-dotnet-diagnostics.md) is another option for collecting performance counter data and uploading it tooAzure tables.</span></span>

### <a name="performance-counter-instance-names"></a><span data-ttu-id="7d742-117">Noms d'instance de compteur de performances</span><span class="sxs-lookup"><span data-stu-id="7d742-117">Performance counter instance names</span></span>
<span data-ttu-id="7d742-118">Un cluster avec un grand nombre de services ou de partitions Service Remoting dispose d'un grand nombre d'instances de compteur de performances.</span><span class="sxs-lookup"><span data-stu-id="7d742-118">A cluster that has a large number of  ServiceRemoting services or partitions have a large number of  performance counter instances.</span></span> <span data-ttu-id="7d742-119">instance de compteur de performance Hello noms peuvent vous aider à identifier la partition spécifique de hello et la méthode de Service (le cas échéant) associée à cette instance de compteur de performances hello.</span><span class="sxs-lookup"><span data-stu-id="7d742-119">hello performance counter instance names can help in identifying hello specific partition and Service method (if applicable) that hello performance counter instance is associated with.</span></span>

#### <a name="service-fabric-service-category"></a><span data-ttu-id="7d742-120">Catégorie de service Fabric Service</span><span class="sxs-lookup"><span data-stu-id="7d742-120">Service Fabric Service category</span></span>
<span data-ttu-id="7d742-121">Pour la catégorie de hello `Service Fabric Service`, noms d’instance de compteur de hello sont Bonjour suivant le format :</span><span class="sxs-lookup"><span data-stu-id="7d742-121">For hello category `Service Fabric Service`, hello counter instance names are in hello following format:</span></span>

`ServiceFabricPartitionID_ServiceReplicaOrInstanceId_ServiceRuntimeInternalID`

<span data-ttu-id="7d742-122">*ServiceFabricPartitionID* est représentation de chaîne hello Hello ID de partition de Service Fabric qui hello l’instance de compteur de performance est associé.</span><span class="sxs-lookup"><span data-stu-id="7d742-122">*ServiceFabricPartitionID* is hello string representation of hello Service Fabric partition ID that hello performance counter instance is associated with.</span></span> <span data-ttu-id="7d742-123">ID de partition Hello est un GUID, et sa représentation sous forme de chaîne est générée via hello [ `Guid.ToString` ](https://msdn.microsoft.com/library/97af8hh4.aspx) méthode avec le spécificateur de format « D ».</span><span class="sxs-lookup"><span data-stu-id="7d742-123">hello partition ID is a GUID, and its string representation is generated through hello [`Guid.ToString`](https://msdn.microsoft.com/library/97af8hh4.aspx) method with format specifier "D".</span></span>

<span data-ttu-id="7d742-124">*ServiceReplicaOrInstanceId* est représentation de chaîne hello Hello ID de réplica/Instance Service Fabric hello l’instance de compteur de performance est associé.</span><span class="sxs-lookup"><span data-stu-id="7d742-124">*ServiceReplicaOrInstanceId* is hello string representation of hello Service Fabric Replica/Instance ID that hello performance counter instance is associated with.</span></span>

<span data-ttu-id="7d742-125">*ServiceRuntimeInternalID* est la représentation sous forme de chaîne hello d’un entier 64 bits qui est généré par le runtime du Service de l’ensemble fibre optique hello pour son usage interne.</span><span class="sxs-lookup"><span data-stu-id="7d742-125">*ServiceRuntimeInternalID* is hello string representation of a 64-bit integer that is generated by hello Fabric Service runtime for its internal use.</span></span> <span data-ttu-id="7d742-126">Il est inclus dans l’instance de compteur de performance hello nom tooensure son unicité et éviter les conflits avec les autres noms d’instance des compteurs de performance.</span><span class="sxs-lookup"><span data-stu-id="7d742-126">This is included in hello performance counter instance name tooensure its uniqueness and avoid conflict with other performance counter instance names.</span></span> <span data-ttu-id="7d742-127">Les utilisateurs ne doivent pas essayer toointerpret cette partie du nom instance de compteur de performance hello.</span><span class="sxs-lookup"><span data-stu-id="7d742-127">Users should not try toointerpret this portion of hello performance counter instance name.</span></span>

<span data-ttu-id="7d742-128">Hello Voici un exemple d’un nom d’instance de compteur pour un compteur qui appartient toohello `Service Fabric Service` catégorie :</span><span class="sxs-lookup"><span data-stu-id="7d742-128">hello following is an example of a counter instance name for a counter that belongs toohello `Service Fabric Service` category:</span></span>

`2740af29-78aa-44bc-a20b-7e60fb783264_635650083799324046_5008379932`

<span data-ttu-id="7d742-129">Bonjour précédent exemple, `2740af29-78aa-44bc-a20b-7e60fb783264` est la représentation sous forme de chaîne hello d’ID de partition de Service Fabric hello, `635650083799324046` est la représentation sous forme de chaîne de réplica/InstanceId et `5008379932` hello 64 bits ID généré pour interne du runtime de hello à utiliser.</span><span class="sxs-lookup"><span data-stu-id="7d742-129">In hello preceding example, `2740af29-78aa-44bc-a20b-7e60fb783264` is hello string representation of hello Service Fabric partition ID, `635650083799324046` is string representation of Replica/InstanceId and `5008379932` is hello 64-bit ID that is generated for hello runtime's internal use.</span></span>

#### <a name="service-fabric-service-method-category"></a><span data-ttu-id="7d742-130">Catégorie de méthode de service Service Fabric</span><span class="sxs-lookup"><span data-stu-id="7d742-130">Service Fabric Service Method category</span></span>
<span data-ttu-id="7d742-131">Pour la catégorie de hello `Service Fabric Service Method`, noms d’instance de compteur de hello sont Bonjour suivant le format :</span><span class="sxs-lookup"><span data-stu-id="7d742-131">For hello category `Service Fabric Service Method`, hello counter instance names are in hello following format:</span></span>

`MethodName_ServiceRuntimeMethodId_ServiceFabricPartitionID_ServiceReplicaOrInstanceId_ServiceRuntimeInternalID`

<span data-ttu-id="7d742-132">*MethodName* est le nom de hello de méthode de service hello hello l’instance de compteur de performance est associé.</span><span class="sxs-lookup"><span data-stu-id="7d742-132">*MethodName* is hello name of hello service method that hello performance counter instance is associated with.</span></span> <span data-ttu-id="7d742-133">format Hello hello du nom de méthode est déterminée selon une logique dans le runtime Service Fabric hello qui équilibre la lisibilité hello du nom hello avec des contraintes sur la longueur maximale de hello de noms des instances de compteur performance hello sur Windows.</span><span class="sxs-lookup"><span data-stu-id="7d742-133">hello format of hello method name is determined based on some logic in hello Fabric Service runtime that balances hello readability of hello name with constraints on hello maximum length of hello performance counter instance names on Windows.</span></span>

<span data-ttu-id="7d742-134">*ServiceRuntimeMethodId* est la représentation sous forme de chaîne hello d’un entier 32 bits qui est généré par le runtime du Service de l’ensemble fibre optique hello pour son usage interne.</span><span class="sxs-lookup"><span data-stu-id="7d742-134">*ServiceRuntimeMethodId* is hello string representation of a 32-bit integer that is generated by hello Fabric Service runtime for its internal use.</span></span> <span data-ttu-id="7d742-135">Il est inclus dans l’instance de compteur de performance hello nom tooensure son unicité et éviter les conflits avec les autres noms d’instance des compteurs de performance.</span><span class="sxs-lookup"><span data-stu-id="7d742-135">This is included in hello performance counter instance name tooensure its uniqueness and avoid conflict with other performance counter instance names.</span></span> <span data-ttu-id="7d742-136">Les utilisateurs ne doivent pas essayer toointerpret cette partie du nom instance de compteur de performance hello.</span><span class="sxs-lookup"><span data-stu-id="7d742-136">Users should not try toointerpret this portion of hello performance counter instance name.</span></span>

<span data-ttu-id="7d742-137">*ServiceFabricPartitionID* est représentation de chaîne hello Hello ID de partition de Service Fabric qui hello l’instance de compteur de performance est associé.</span><span class="sxs-lookup"><span data-stu-id="7d742-137">*ServiceFabricPartitionID* is hello string representation of hello Service Fabric partition ID that hello performance counter instance is associated with.</span></span> <span data-ttu-id="7d742-138">ID de partition Hello est un GUID, et sa représentation sous forme de chaîne est générée via hello [ `Guid.ToString` ](https://msdn.microsoft.com/library/97af8hh4.aspx) méthode avec le spécificateur de format « D ».</span><span class="sxs-lookup"><span data-stu-id="7d742-138">hello partition ID is a GUID, and its string representation is generated through hello [`Guid.ToString`](https://msdn.microsoft.com/library/97af8hh4.aspx) method with format specifier "D".</span></span>

<span data-ttu-id="7d742-139">*ServiceReplicaOrInstanceId* est représentation de chaîne hello Hello ID de réplica/Instance Service Fabric hello l’instance de compteur de performance est associé.</span><span class="sxs-lookup"><span data-stu-id="7d742-139">*ServiceReplicaOrInstanceId* is hello string representation of hello Service Fabric Replica/Instance ID that hello performance counter instance is associated with.</span></span>

<span data-ttu-id="7d742-140">*ServiceRuntimeInternalID* est la représentation sous forme de chaîne hello d’un entier 64 bits qui est généré par le runtime du Service de l’ensemble fibre optique hello pour son usage interne.</span><span class="sxs-lookup"><span data-stu-id="7d742-140">*ServiceRuntimeInternalID* is hello string representation of a 64-bit integer that is generated by hello Fabric Service runtime for its internal use.</span></span> <span data-ttu-id="7d742-141">Il est inclus dans l’instance de compteur de performance hello nom tooensure son unicité et éviter les conflits avec les autres noms d’instance des compteurs de performance.</span><span class="sxs-lookup"><span data-stu-id="7d742-141">This is included in hello performance counter instance name tooensure its uniqueness and avoid conflict with other performance counter instance names.</span></span> <span data-ttu-id="7d742-142">Les utilisateurs ne doivent pas essayer toointerpret cette partie du nom instance de compteur de performance hello.</span><span class="sxs-lookup"><span data-stu-id="7d742-142">Users should not try toointerpret this portion of hello performance counter instance name.</span></span>

<span data-ttu-id="7d742-143">Hello Voici un exemple d’un nom d’instance de compteur pour un compteur qui appartient toohello `Service Fabric Service Method` catégorie :</span><span class="sxs-lookup"><span data-stu-id="7d742-143">hello following is an example of a counter instance name for a counter that belongs toohello `Service Fabric Service Method` category:</span></span>

`ivoicemailboxservice.leavemessageasync_2_89383d32-e57e-4a9b-a6ad-57c6792aa521_635650083804480486_5008380`

<span data-ttu-id="7d742-144">Bonjour précédent exemple, `ivoicemailboxservice.leavemessageasync` est le nom de la méthode hello `2` est hello ID 32 bits généré pour interne du runtime de hello utiliser, `89383d32-e57e-4a9b-a6ad-57c6792aa521` est la représentation sous forme de chaîne hello d’ID de partition de Service Fabric hello,`635650083804480486` est hello chaîne représentation sous forme de hello ID de réplica/Instance Service Fabric et `5008380` est hello 64 bits ID est généré pour interne du runtime de hello utiliser.</span><span class="sxs-lookup"><span data-stu-id="7d742-144">In hello preceding example, `ivoicemailboxservice.leavemessageasync` is hello method name, `2` is hello 32-bit ID generated for hello runtime's internal use, `89383d32-e57e-4a9b-a6ad-57c6792aa521` is hello string representation of hello Service Fabric partition ID,`635650083804480486` is hello string representation of hello Service Fabric Replica/Instance ID and `5008380` is hello 64-bit ID generated for hello runtime's internal use.</span></span>

## <a name="list-of-performance-counters"></a><span data-ttu-id="7d742-145">Liste des compteurs de performances</span><span class="sxs-lookup"><span data-stu-id="7d742-145">List of Performance counters</span></span>
### <a name="service-method-performance-counters"></a><span data-ttu-id="7d742-146">Compteurs de performances de la méthode Service</span><span class="sxs-lookup"><span data-stu-id="7d742-146">Service method performance counters</span></span>

<span data-ttu-id="7d742-147">exécution du Service fiable Hello publie hello suivant des compteurs de performances connexes toohello d’exécution des méthodes de service.</span><span class="sxs-lookup"><span data-stu-id="7d742-147">hello Reliable Service runtime publishes hello following performance counters related toohello execution of service methods.</span></span>

| <span data-ttu-id="7d742-148">Nom de la catégorie</span><span class="sxs-lookup"><span data-stu-id="7d742-148">Category name</span></span> | <span data-ttu-id="7d742-149">Nom du compteur</span><span class="sxs-lookup"><span data-stu-id="7d742-149">Counter name</span></span> | <span data-ttu-id="7d742-150">Description</span><span class="sxs-lookup"><span data-stu-id="7d742-150">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7d742-151">Méthode de service Service Fabric</span><span class="sxs-lookup"><span data-stu-id="7d742-151">Service Fabric Service Method</span></span> |<span data-ttu-id="7d742-152">Appels/s</span><span class="sxs-lookup"><span data-stu-id="7d742-152">Invocations/Sec</span></span> |<span data-ttu-id="7d742-153">Nombre de fois que la méthode de service hello est appelé par seconde</span><span class="sxs-lookup"><span data-stu-id="7d742-153">Number of times that hello  service method is invoked per second</span></span> |
| <span data-ttu-id="7d742-154">Méthode de service Service Fabric</span><span class="sxs-lookup"><span data-stu-id="7d742-154">Service Fabric Service Method</span></span> |<span data-ttu-id="7d742-155">Moyenne en millisecondes par appel</span><span class="sxs-lookup"><span data-stu-id="7d742-155">Average milliseconds per invocation</span></span> |<span data-ttu-id="7d742-156">Durée de la méthode de service tooexecute hello en millisecondes</span><span class="sxs-lookup"><span data-stu-id="7d742-156">Time taken tooexecute hello service method in milliseconds</span></span> |
| <span data-ttu-id="7d742-157">Méthode de service Service Fabric</span><span class="sxs-lookup"><span data-stu-id="7d742-157">Service Fabric Service Method</span></span> |<span data-ttu-id="7d742-158">Exceptions levées/s</span><span class="sxs-lookup"><span data-stu-id="7d742-158">Exceptions thrown/Sec</span></span> |<span data-ttu-id="7d742-159">Nombre de fois que hello la méthode de service a levé une exception par seconde</span><span class="sxs-lookup"><span data-stu-id="7d742-159">Number of times that hello service method threw an exception per second</span></span> |

### <a name="service-request-processing-performance-counters"></a><span data-ttu-id="7d742-160">Compteurs de performances de traitement de la requête de service</span><span class="sxs-lookup"><span data-stu-id="7d742-160">Service request processing performance counters</span></span>
<span data-ttu-id="7d742-161">Lorsqu’un client appelle une méthode via un objet proxy de service, il renvoie un message de demande qui est envoyé sur le service d’accès distant toohello hello réseau.</span><span class="sxs-lookup"><span data-stu-id="7d742-161">When a client invokes a method via a service proxy object, it results in a request message being sent over hello network toohello remoting service.</span></span> <span data-ttu-id="7d742-162">service de Hello traite le message de demande hello et envoie une réponse au client toohello précédent.</span><span class="sxs-lookup"><span data-stu-id="7d742-162">hello service processes hello request message and sends a response back toohello client.</span></span> <span data-ttu-id="7d742-163">Hello ServiceRemoting fiable runtime publie hello après le traitement de la demande des compteurs connexes tooservice performances.</span><span class="sxs-lookup"><span data-stu-id="7d742-163">hello Reliable ServiceRemoting runtime publishes hello following performance counters related tooservice request processing.</span></span>

| <span data-ttu-id="7d742-164">Nom de la catégorie</span><span class="sxs-lookup"><span data-stu-id="7d742-164">Category name</span></span> | <span data-ttu-id="7d742-165">Nom du compteur</span><span class="sxs-lookup"><span data-stu-id="7d742-165">Counter name</span></span> | <span data-ttu-id="7d742-166">Description</span><span class="sxs-lookup"><span data-stu-id="7d742-166">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7d742-167">Service Fabric Service</span><span class="sxs-lookup"><span data-stu-id="7d742-167">Service Fabric Service</span></span> |<span data-ttu-id="7d742-168">Nombre de requêtes en attente</span><span class="sxs-lookup"><span data-stu-id="7d742-168"># of outstanding requests</span></span> |<span data-ttu-id="7d742-169">Nombre de demandes traitées dans le service hello</span><span class="sxs-lookup"><span data-stu-id="7d742-169">Number of requests being processed in hello service</span></span> |
| <span data-ttu-id="7d742-170">Service Fabric Service</span><span class="sxs-lookup"><span data-stu-id="7d742-170">Service Fabric Service</span></span> |<span data-ttu-id="7d742-171">Moyenne en millisecondes par requête</span><span class="sxs-lookup"><span data-stu-id="7d742-171">Average milliseconds per request</span></span> |<span data-ttu-id="7d742-172">Durée (en millisecondes) de hello service tooprocess une demande</span><span class="sxs-lookup"><span data-stu-id="7d742-172">Time taken (in milliseconds) by hello service tooprocess a request</span></span> |
| <span data-ttu-id="7d742-173">Service Fabric Service</span><span class="sxs-lookup"><span data-stu-id="7d742-173">Service Fabric Service</span></span> |<span data-ttu-id="7d742-174">Moyenne en millisecondes pour la désérialisation de la requête</span><span class="sxs-lookup"><span data-stu-id="7d742-174">Average milliseconds for request deserialization</span></span> |<span data-ttu-id="7d742-175">Message de demande de service temps toodeserialize prises (en millisecondes) lorsqu’elle est reçue au niveau de service de hello</span><span class="sxs-lookup"><span data-stu-id="7d742-175">Time taken (in milliseconds) toodeserialize service request message when it is received at hello service</span></span> |
| <span data-ttu-id="7d742-176">Service Fabric Service</span><span class="sxs-lookup"><span data-stu-id="7d742-176">Service Fabric Service</span></span> |<span data-ttu-id="7d742-177">Moyenne en millisecondes pour la sérialisation de la réponse</span><span class="sxs-lookup"><span data-stu-id="7d742-177">Average milliseconds for response serialization</span></span> |<span data-ttu-id="7d742-178">Message de réponse temps tooserialize prises (en millisecondes) hello service au service hello avant hello est envoyée toohello client</span><span class="sxs-lookup"><span data-stu-id="7d742-178">Time taken (in milliseconds) tooserialize hello service response message at hello service before hello response is sent toohello client</span></span> |

## <a name="next-steps"></a><span data-ttu-id="7d742-179">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="7d742-179">Next steps</span></span>
* [<span data-ttu-id="7d742-180">Exemple de code</span><span class="sxs-lookup"><span data-stu-id="7d742-180">Sample code</span></span>](https://github.com/Azure/servicefabric-samples)
* [<span data-ttu-id="7d742-181">Fournisseurs EventSource dans PerfView</span><span class="sxs-lookup"><span data-stu-id="7d742-181">EventSource providers in PerfView</span></span>](https://blogs.msdn.microsoft.com/vancem/2012/07/09/introduction-tutorial-logging-etw-events-in-c-system-diagnostics-tracing-eventsource/)
