---
title: aaaCommon des questions sur Microsoft Azure Service Fabric | Documents Microsoft
description: "Questions fréquentes sur Service Fabric et leurs réponses"
services: service-fabric
documentationcenter: .net
author: chackdan
manager: timlt
editor: 
ms.assetid: 5a179703-ff0c-4b8e-98cd-377253295d12
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/18/2017
ms.author: chackdan
ms.openlocfilehash: 4cbe92d2a03f7a1ea5d077807fdc982288220a7e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="commonly-asked-service-fabric-questions"></a><span data-ttu-id="859e4-103">Questions fréquentes sur Service Fabric</span><span class="sxs-lookup"><span data-stu-id="859e4-103">Commonly asked Service Fabric questions</span></span>

<span data-ttu-id="859e4-104">Les utilisateurs posent fréquemment des questions sur l’utilisation et les fonctionnalités de Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="859e4-104">There are many commonly asked questions about what Service Fabric can do and how it should be used.</span></span> <span data-ttu-id="859e4-105">Ce document regroupe un grand nombre de ces questions fréquentes et leurs réponses.</span><span class="sxs-lookup"><span data-stu-id="859e4-105">This document covers many of those common questions and their answers.</span></span>

## <a name="cluster-setup-and-management"></a><span data-ttu-id="859e4-106">Création et gestion de clusters</span><span class="sxs-lookup"><span data-stu-id="859e4-106">Cluster setup and management</span></span>

### <a name="can-i-create-a-cluster-that-spans-multiple-azure-regions-or-my-own-datacenters"></a><span data-ttu-id="859e4-107">Puis-je créer un cluster qui englobe plusieurs régions Azure ou mes propres centres de données ?</span><span class="sxs-lookup"><span data-stu-id="859e4-107">Can I create a cluster that spans multiple Azure regions or my own datacenters?</span></span>

<span data-ttu-id="859e4-108">Oui.</span><span class="sxs-lookup"><span data-stu-id="859e4-108">Yes.</span></span> 

<span data-ttu-id="859e4-109">le cœur de Hello technologie de clustering de l’infrastructure de Service peut être utilisé toocombine machines exécutant n’importe où dans Bonjour, afin qu’ils ont tooeach de connectivité de réseau autre.</span><span class="sxs-lookup"><span data-stu-id="859e4-109">hello core Service Fabric clustering technology can be used toocombine machines running anywhere in hello world, so long as they have network connectivity tooeach other.</span></span> <span data-ttu-id="859e4-110">Toutefois, la création et l’exécution d’un tel cluster peuvent être compliquées.</span><span class="sxs-lookup"><span data-stu-id="859e4-110">However, building and running such a cluster can be complicated.</span></span>

<span data-ttu-id="859e4-111">Si vous êtes intéressé par ce scénario, nous encourageons vous tooget en contact via hello [liste des problèmes Service Fabric Github](https://github.com/azure/service-fabric-issues) ou via votre représentant du support dans des instructions supplémentaires ordre tooobtain.</span><span class="sxs-lookup"><span data-stu-id="859e4-111">If you are interested in this scenario, we encourage you tooget in contact either through hello [Service Fabric Github Issues List](https://github.com/azure/service-fabric-issues) or through your support representative in order tooobtain additional guidance.</span></span> <span data-ttu-id="859e4-112">équipe du Service Fabric Hello collabore tooprovide des précisions, instructions et recommandations pour ce scénario.</span><span class="sxs-lookup"><span data-stu-id="859e4-112">hello Service Fabric team is working tooprovide additional clarity, guidance, and recommendations for this scenario.</span></span> 

<span data-ttu-id="859e4-113">Certains tooconsider choses :</span><span class="sxs-lookup"><span data-stu-id="859e4-113">Some things tooconsider:</span></span> 

1. <span data-ttu-id="859e4-114">Hello du cluster Service Fabric dans Azure est régionaux aujourd'hui, comme le sont à l’échelle de machine virtuelle hello définit ce cluster hello repose sur.</span><span class="sxs-lookup"><span data-stu-id="859e4-114">hello Service Fabric cluster resource in Azure is regional today, as are hello virtual machine scale sets that hello cluster is built on.</span></span> <span data-ttu-id="859e4-115">Cela signifie qu’en cas de hello d’une panne régionale vous risquez de perdre cluster de hello toomanage hello possibilité via hello Azure Resource Manager ou hello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="859e4-115">This means that in hello event of a regional failure you may lose hello ability toomanage hello cluster via hello Azure Resource Manager or hello Azure Portal.</span></span> <span data-ttu-id="859e4-116">Cela peut se produire même si le cluster de hello reste en cours d’exécution et vous serez en mesure de toointeract avec lui directement.</span><span class="sxs-lookup"><span data-stu-id="859e4-116">This can happen even though hello cluster remains running and you'd be able toointeract with it directly.</span></span> <span data-ttu-id="859e4-117">En outre, Azure aujourd'hui n’offre pas hello capacité toohave un seul réseau virtuel qui est utilisable dans différentes régions.</span><span class="sxs-lookup"><span data-stu-id="859e4-117">In addition, Azure today does not offer hello ability toohave a single virtual network that is usable across regions.</span></span> <span data-ttu-id="859e4-118">Cela signifie qu’un cluster de plusieurs région dans Azure nécessite [des adresses IP publiques pour chaque machine virtuelle Bonjour jeux de mise à l’échelle de machine virtuelle](../virtual-machine-scale-sets/virtual-machine-scale-sets-networking.md#public-ipv4-per-virtual-machine) ou [les passerelles VPN Azure](../vpn-gateway/vpn-gateway-about-vpngateways.md).</span><span class="sxs-lookup"><span data-stu-id="859e4-118">This means that a multi-region cluster in Azure requires either [Public IP Addresses for each VM in hello VM Scale Sets](../virtual-machine-scale-sets/virtual-machine-scale-sets-networking.md#public-ipv4-per-virtual-machine) or [Azure VPN Gateways](../vpn-gateway/vpn-gateway-about-vpngateways.md).</span></span> <span data-ttu-id="859e4-119">Toutes ces options de mise en réseau ont différents impacts sur les coûts, les performances et toosome degré design de l’application, une analyse minutieuse et planification est requis avant mettant un tel environnement.</span><span class="sxs-lookup"><span data-stu-id="859e4-119">These networking choices have different impacts on costs, performance, and toosome degree application design, so careful analysis and planning is required before standing up such an environment.</span></span>
2. <span data-ttu-id="859e4-120">Hello maintenance, la gestion et la surveillance de ces ordinateurs peuvent devenir complexes, en particulier lorsque fractionnés sur _types_ des environnements, tels qu’entre les fournisseurs de cloud différents ou entre des ressources locales et Azure .</span><span class="sxs-lookup"><span data-stu-id="859e4-120">hello maintenance, management, and monitoring of these machines can become complicated, especially when spanned across _types_ of environments, such as between different cloud providers or between on-premises resources and Azure.</span></span> <span data-ttu-id="859e4-121">Soyez prudent tooensure qui met à niveau, l’analyse, gestion, et diagnostics sont compris pour le cluster de hello et applications de hello avant d’exécuter les charges de production dans un tel environnement.</span><span class="sxs-lookup"><span data-stu-id="859e4-121">Care must be taken tooensure that upgrades, monitoring, management, and diagnostics are understood for both hello cluster and hello applications before running production workloads in such an environment.</span></span> <span data-ttu-id="859e4-122">Si vous avez l’habitude de résoudre ces problèmes dans Azure ou dans vos propres centres de données, il est probable que vous puissiez appliquer ces mêmes solutions lors de la création ou de l’exécution de votre cluster Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="859e4-122">If you already have lots of experience solving these problems in Azure or within your own datacenters, then it is likely that those same solutions can be applied when building out or running your Service Fabric cluster.</span></span> 

### <a name="do-service-fabric-nodes-automatically-receive-os-updates"></a><span data-ttu-id="859e4-123">Les nœuds Service Fabric reçoivent-ils automatiquement les mises à jour du système d’exploitation ?</span><span class="sxs-lookup"><span data-stu-id="859e4-123">Do Service Fabric nodes automatically receive OS updates?</span></span>

<span data-ttu-id="859e4-124">Pas aujourd'hui, mais il s’agit également d’une demande commune que Azure a l’intention toodeliver.</span><span class="sxs-lookup"><span data-stu-id="859e4-124">Not today, but this is also a common request that Azure intends toodeliver.</span></span>

<span data-ttu-id="859e4-125">Bonjour temporaire, nous avons [fourni une application](service-fabric-patch-orchestration-application.md) que les systèmes d’exploitation hello sous les nœuds de l’infrastructure de Service restent corrigé et des toodate.</span><span class="sxs-lookup"><span data-stu-id="859e4-125">In hello interim, we have [provided an application](service-fabric-patch-orchestration-application.md) that hello operating systems underneath your Service Fabric nodes stay patched and up toodate.</span></span>

<span data-ttu-id="859e4-126">défi de Hello avec les mises à jour du système d’exploitation est qu’elles nécessitent généralement un redémarrage de l’ordinateur hello, ce qui entraîne une perte de disponibilité temporaire.</span><span class="sxs-lookup"><span data-stu-id="859e4-126">hello challenge with OS updates is that they typically require a reboot of hello machine, which results in temporary availability loss.</span></span> <span data-ttu-id="859e4-127">Par lui-même, qui n’est pas un problème, étant donné que le Service Fabric redirige automatiquement le trafic pour les nœuds de tooother de services.</span><span class="sxs-lookup"><span data-stu-id="859e4-127">By itself, that is not a problem, since Service Fabric will automatically redirect traffic for those services tooother nodes.</span></span> <span data-ttu-id="859e4-128">Toutefois, si les mises à jour du système d’exploitation ne sont pas coordonnées sur le cluster de hello, il est risque de hello que plusieurs nœuds s’arrêtent en même temps.</span><span class="sxs-lookup"><span data-stu-id="859e4-128">However, if OS updates are not coordinated across hello cluster, there is hello potential that many nodes go down at once.</span></span> <span data-ttu-id="859e4-129">Ces redémarrages simultanés peuvent entraîner l’indisponibilité complète d’un service ou, au moins, d’une partition spécifique (pour un service avec état).</span><span class="sxs-lookup"><span data-stu-id="859e4-129">Such simultaneous reboots can cause complete availability loss for a service, or at least for a specific partition (for a stateful service).</span></span>

<span data-ttu-id="859e4-130">Bonjour future, nous prévoyons de stratégie de mise à jour toosupport un système d’exploitation qui est entièrement automatisée et la coordination entre les domaines de mise à jour, garantissant que la disponibilité est maintenue en dépit des redémarrages et d’autres défaillances inattendues.</span><span class="sxs-lookup"><span data-stu-id="859e4-130">In hello future, we plan toosupport an OS update policy that is fully automated and coordinated across update domains, ensuring that availability is maintained despite reboots and other unexpected failures.</span></span>

### <a name="can-i-use-large-virtual-machine-scale-sets-in-my-sf-cluster"></a><span data-ttu-id="859e4-131">Puis-je utiliser de grands groupes identiques de machines virtuelles dans mon cluster Service Fabric ?</span><span class="sxs-lookup"><span data-stu-id="859e4-131">Can I use Large Virtual Machine Scale Sets in my SF cluster?</span></span> 

<span data-ttu-id="859e4-132">**Réponse courte** : Non.</span><span class="sxs-lookup"><span data-stu-id="859e4-132">**Short answer** - No.</span></span> 

<span data-ttu-id="859e4-133">**Temps de réponse** - bien que les grands jeux de mise à l’échelle de Machine virtuelle hello vous permettent de tooscale une échelle de machines virtuelles définie jusqu'à 1000 les instances de machine virtuelle, il le fait à l’aide de hello de groupes de la sélection élective (pages).</span><span class="sxs-lookup"><span data-stu-id="859e4-133">**Long Answer** - Although hello Large Virtual Machine Scale Sets allow you tooscale a virtual machine scale set upto 1000 VM instances, it does so by hello use of Placement Groups (PGs).</span></span> <span data-ttu-id="859e4-134">Domaines d’erreur (groupes) et mise à niveau (domaines d’erreur) sont uniquement cohérents au sein de la sélection élective groupe Service fabric utilise décisions de sélection élective toomake groupes et domaines d’erreur de vos instances de Service/réplicas de service.</span><span class="sxs-lookup"><span data-stu-id="859e4-134">Fault domains (FDs) and upgrade domains (UDs) are only consistent within a placement group Service fabric uses FDs and UDs toomake placement decisions of your service replicas/Service instances.</span></span> <span data-ttu-id="859e4-135">Étant donné que les groupes hello et les domaines d’erreur sont comparables uniquement dans un groupe de la sélection élective SF ne peut pas l’utiliser.</span><span class="sxs-lookup"><span data-stu-id="859e4-135">Since hello FDs  and UDs are comparable only within a placement group SF cannot use it.</span></span> <span data-ttu-id="859e4-136">Par exemple, si VM1 dans PG1 présente une topologie de FD = 0 et VM9 dans PG2 présente une topologie de FD = 4, cela ne signifie pas que VM1 et VM2 se trouvent sur deux Racks matériels différents, par conséquent SF Impossible d’utiliser les valeurs hello FD dans cette décisions de sélection élective toomake cas.</span><span class="sxs-lookup"><span data-stu-id="859e4-136">For example, If VM1 in PG1 has a topology of FD=0 and VM9 in PG2 has a topology of FD=4 , it does not mean that VM1 and VM2 are on two different Hardware Racks, hence SF cannot use hello FD values in this case toomake placement decisions.</span></span>

<span data-ttu-id="859e4-137">Il n’y autres problèmes liés à des machines virtuelles volumineux identiques, telles que la prise en charge de l’équilibrage de charge de manque de hello de niveau 4.</span><span class="sxs-lookup"><span data-stu-id="859e4-137">There are other issues with Large virtual machine scale sets currently, like hello lack of level-4 Load balancing support.</span></span> <span data-ttu-id="859e4-138">Consultez toofor [plus d’informations sur la grande échelle jeux](../virtual-machine-scale-sets/virtual-machine-scale-sets-placement-groups.md)</span><span class="sxs-lookup"><span data-stu-id="859e4-138">Refer toofor [details on Large scale sets](../virtual-machine-scale-sets/virtual-machine-scale-sets-placement-groups.md)</span></span>



### <a name="what-is-hello-minimum-size-of-a-service-fabric-cluster-why-cant-it-be-smaller"></a><span data-ttu-id="859e4-139">Quelle est hello de taille minimale d’un cluster Service Fabric ?</span><span class="sxs-lookup"><span data-stu-id="859e4-139">What is hello minimum size of a Service Fabric cluster?</span></span> <span data-ttu-id="859e4-140">Pourquoi ne peut-il pas être plus petit ?</span><span class="sxs-lookup"><span data-stu-id="859e4-140">Why can't it be smaller?</span></span>

<span data-ttu-id="859e4-141">taille de prise en charge minimale Hello pour un cluster Service Fabric exécutant les charges de production est cinq nœuds.</span><span class="sxs-lookup"><span data-stu-id="859e4-141">hello minimum supported size for a Service Fabric cluster running production workloads is five nodes.</span></span> <span data-ttu-id="859e4-142">Pour les scénarios de développement/test, nous prenons en charge des clusters à trois nœuds.</span><span class="sxs-lookup"><span data-stu-id="859e4-142">For dev/test scenarios, we support three node clusters.</span></span>

<span data-ttu-id="859e4-143">Ces valeurs minimales existent, car le cluster Service Fabric de hello exécute un ensemble de services système avec état, y compris le service d’affectation de noms de hello et le Gestionnaire de basculement hello.</span><span class="sxs-lookup"><span data-stu-id="859e4-143">These minimums exist because hello Service Fabric cluster runs a set of stateful system services, including hello naming service and hello failover manager.</span></span> <span data-ttu-id="859e4-144">Ces services, qui assurent le suivi de services ont été déploiement toohello cluster et où ils sont actuellement hébergés, dépendent de la cohérence forte.</span><span class="sxs-lookup"><span data-stu-id="859e4-144">These services, which track what services have been deployed toohello cluster and where they're currently hosted, depend on strong consistency.</span></span> <span data-ttu-id="859e4-145">Sur la cohérence forte, à son tour, dépend de hello capacité tooacquire un *quorum* pour une mise à jour donnée état toohello de ces services, où un quorum représente une majorité stricte des réplicas hello (N/2 + 1) pour un service donné.</span><span class="sxs-lookup"><span data-stu-id="859e4-145">That strong consistency, in turn, depends on hello ability tooacquire a *quorum* for any given update toohello state of those services, where a quorum represents a strict majority of hello replicas (N/2 +1) for a given service.</span></span>

<span data-ttu-id="859e4-146">Dans ce cadre, examinons certaines configurations de cluster possibles :</span><span class="sxs-lookup"><span data-stu-id="859e4-146">With that background, let's examine some possible cluster configurations:</span></span>

<span data-ttu-id="859e4-147">**Un seul nœud**: cette option ne fournit pas de haute disponibilité, car la perte hello du nœud unique de hello pour une raison quelconque signifie une perte de hello de l’ensemble du cluster hello.</span><span class="sxs-lookup"><span data-stu-id="859e4-147">**One node**: this option does not provide high availability since hello loss of hello single node for any reason means hello loss of hello entire cluster.</span></span>

<span data-ttu-id="859e4-148">**Deux nœuds** : le quorum d’un service déployé sur deux nœuds (N = 2) est 2 (2/2 + 1 = 2).</span><span class="sxs-lookup"><span data-stu-id="859e4-148">**Two nodes**: a quorum for a service deployed across two nodes (N = 2) is 2 (2/2 + 1 = 2).</span></span> <span data-ttu-id="859e4-149">En cas de perte d’un seul réplica, il est impossible toocreate un quorum.</span><span class="sxs-lookup"><span data-stu-id="859e4-149">When a single replica is lost, it is impossible toocreate a quorum.</span></span> <span data-ttu-id="859e4-150">Comme la mise à niveau d’un serveur requiert la mise hors ligne d’un réplica, cette configuration n’a aucune utilité.</span><span class="sxs-lookup"><span data-stu-id="859e4-150">Since performing a service upgrade requires temporarily taking down a replica, this is not a useful configuration.</span></span>

<span data-ttu-id="859e4-151">**Trois nœuds**: trois nœuds (N = 3), hello exigence toocreate un quorum est toujours deux nœuds (3/2 + 1 = 2).</span><span class="sxs-lookup"><span data-stu-id="859e4-151">**Three nodes**: with three nodes (N=3), hello requirement toocreate a quorum is still two nodes (3/2 + 1 = 2).</span></span> <span data-ttu-id="859e4-152">Cela signifie que vous pouvez perdre un nœud et conserver le quorum.</span><span class="sxs-lookup"><span data-stu-id="859e4-152">This means that you can lose an individual node and still maintain quorum.</span></span>

<span data-ttu-id="859e4-153">configuration de cluster nœud trois Hello est pris en charge pour le développement et de test car vous pouvez en toute sécurité effectuer des mises à niveau et faire face aux défaillances de nœud individuel, tant qu’ils ne se produisent pas simultanément.</span><span class="sxs-lookup"><span data-stu-id="859e4-153">hello three node cluster configuration is supported for dev/test because you can safely perform upgrades and survive individual node failures, as long as they don't happen simultaneously.</span></span> <span data-ttu-id="859e4-154">Pour les charges de production, vous devez être résilient toosuch défaillance simultanée, cinq nœuds sont requis.</span><span class="sxs-lookup"><span data-stu-id="859e4-154">For production workloads, you must be resilient toosuch a simultaneous failure, so five nodes are required.</span></span>

### <a name="can-i-turn-off-my-cluster-at-nightweekends-toosave-costs"></a><span data-ttu-id="859e4-155">Puis-je désactiver mon cluster à des coûts toosave nuit/week-ends ?</span><span class="sxs-lookup"><span data-stu-id="859e4-155">Can I turn off my cluster at night/weekends toosave costs?</span></span>

<span data-ttu-id="859e4-156">En général, non.</span><span class="sxs-lookup"><span data-stu-id="859e4-156">In general, no.</span></span> <span data-ttu-id="859e4-157">Service Fabric stocke l’état sur les disques locaux, éphémères, ce qui signifie que que si hello virtual machine est déplacé tooa autre ordinateur hôte, les données de salutation ne déplacement pas avec lui.</span><span class="sxs-lookup"><span data-stu-id="859e4-157">Service Fabric stores state on local, ephemeral disks, meaning that if hello virtual machine is moved tooa different host, hello data does not move with it.</span></span> <span data-ttu-id="859e4-158">En fonctionnement normal, qui n’est pas un problème comme nouveau nœud de hello est soulevé toodate par d’autres nœuds.</span><span class="sxs-lookup"><span data-stu-id="859e4-158">In normal operation, that is not a problem as hello new node is brought up toodate by other nodes.</span></span> <span data-ttu-id="859e4-159">Toutefois, si vous arrêtez tous les nœuds et les redémarrez ultérieurement, il est possible significatifs que la plupart des nœuds de hello démarre sur les nouveaux ordinateurs hôtes et toorecover impossible du système hello.</span><span class="sxs-lookup"><span data-stu-id="859e4-159">However, if you stop all nodes and restart them later, there is a significant possibility that most of hello nodes start on new hosts and make hello system unable toorecover.</span></span>

<span data-ttu-id="859e4-160">Si vous souhaitez que les clusters toocreate pour tester votre application avant son déploiement, nous vous recommandons de créer dynamiquement ces clusters dans le cadre de votre [intégration continu/continu pipeline de déploiement](service-fabric-set-up-continuous-integration.md).</span><span class="sxs-lookup"><span data-stu-id="859e4-160">If you would like toocreate clusters for testing your application before it is deployed, we recommend that you dynamically create those clusters as part of your [continuous integration/continuous deployment pipeline](service-fabric-set-up-continuous-integration.md).</span></span>


### <a name="how-do-i-upgrade-my-operating-system-for-example-from-windows-server-2012-toowindows-server-2016"></a><span data-ttu-id="859e4-161">Comment mettre à niveau mon système d’exploitation (par exemple à partir de Windows Server 2012 tooWindows Server 2016) ?</span><span class="sxs-lookup"><span data-stu-id="859e4-161">How do I upgrade my Operating System (for example from Windows Server 2012 tooWindows Server 2016)?</span></span>

<span data-ttu-id="859e4-162">Pendant que nous recherchons une expérience améliorée, aujourd'hui, vous êtes responsable de la mise à niveau hello.</span><span class="sxs-lookup"><span data-stu-id="859e4-162">While we're working on an improved experience, today, you are responsible for hello upgrade.</span></span> <span data-ttu-id="859e4-163">Vous devez mettre à niveau image hello du système d’exploitation sur hello une machine virtuelle de cluster de machines virtuelles de hello à la fois.</span><span class="sxs-lookup"><span data-stu-id="859e4-163">You must upgrade hello OS image on hello virtual machines of hello cluster one VM at a time.</span></span> 

## <a name="container-support"></a><span data-ttu-id="859e4-164">Support pour les conteneurs</span><span class="sxs-lookup"><span data-stu-id="859e4-164">Container Support</span></span>

### <a name="why-are-my-containers-that-are-deployed-toosf-unable-tooresolve-dns-addresses"></a><span data-ttu-id="859e4-165">Pourquoi les mon conteneurs sont tooresolve Impossible de tooSF déployé DNS adresses ?</span><span class="sxs-lookup"><span data-stu-id="859e4-165">Why are my containers that are deployed tooSF unable tooresolve DNS addresses?</span></span>

<span data-ttu-id="859e4-166">Ce problème a été signalé sur les clusters version 5.6.204.9494</span><span class="sxs-lookup"><span data-stu-id="859e4-166">This issue has been reported on clusters that are on 5.6.204.9494 version</span></span> 

<span data-ttu-id="859e4-167">**Atténuation** : suivez [ce document](service-fabric-dnsservice.md) tooenable hello DNS du service service fabric dans votre cluster.</span><span class="sxs-lookup"><span data-stu-id="859e4-167">**Mitigation** :  Follow [this document](service-fabric-dnsservice.md) tooenable hello DNS service fabric service in your cluster.</span></span>

<span data-ttu-id="859e4-168">**Corriger** : version du cluster tooa mise à niveau pris en charge est supérieure à 5.6.204.9494, lorsqu’il est disponible.</span><span class="sxs-lookup"><span data-stu-id="859e4-168">**Fix** :  Upgrade tooa supported cluster version that is higher than 5.6.204.9494, when it is available.</span></span> <span data-ttu-id="859e4-169">Si votre cluster tooautomatic les mises à niveau, puis les cluster hello met automatiquement à niveau version toohello qui possède cet correction du problème.</span><span class="sxs-lookup"><span data-stu-id="859e4-169">If your cluster is set tooautomatic upgrades, then hello cluster will automatically upgrade toohello version that has this issue fixed.</span></span>

  
## <a name="application-design"></a><span data-ttu-id="859e4-170">Conception des applications</span><span class="sxs-lookup"><span data-stu-id="859e4-170">Application Design</span></span>

### <a name="whats-hello-best-way-tooquery-data-across-partitions-of-a-reliable-collection"></a><span data-ttu-id="859e4-171">Nouveautés hello meilleure façon tooquery que les données sur plusieurs partitions d’une Collection fiable</span><span class="sxs-lookup"><span data-stu-id="859e4-171">What's hello best way tooquery data across partitions of a Reliable Collection?</span></span>

<span data-ttu-id="859e4-172">Collections fiables sont généralement [partitionnée](service-fabric-concepts-partitioning.md) tooenable montée en puissance parallèle pour les performances et le débit supérieur.</span><span class="sxs-lookup"><span data-stu-id="859e4-172">Reliable collections are typically [partitioned](service-fabric-concepts-partitioning.md) tooenable scale out for greater performance and throughput.</span></span> <span data-ttu-id="859e4-173">Cela signifie qu’état hello pour un service donné peut-être être réparti sur 10 s ou 100 s des ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="859e4-173">That means that hello state for a given service may be spread across 10s or 100s of machines.</span></span> <span data-ttu-id="859e4-174">tooperform des opérations sur ce jeu de données complet, vous disposez de plusieurs options :</span><span class="sxs-lookup"><span data-stu-id="859e4-174">tooperform operations over that full data set, you have a few options:</span></span>

- <span data-ttu-id="859e4-175">Créer un service qui interroge toutes les partitions d’un autre toopull de service dans les données de salutation requis.</span><span class="sxs-lookup"><span data-stu-id="859e4-175">Create a service that queries all partitions of another service toopull in hello required data.</span></span>
- <span data-ttu-id="859e4-176">Créer un service capable de recevoir des données provenant de toutes les partitions d’un autre service.</span><span class="sxs-lookup"><span data-stu-id="859e4-176">Create a service that can receive data from all partitions of another service.</span></span>
- <span data-ttu-id="859e4-177">Transmettre des données à partir de chaque magasin externe de service tooan régulièrement.</span><span class="sxs-lookup"><span data-stu-id="859e4-177">Periodically push data from each service tooan external store.</span></span> <span data-ttu-id="859e4-178">Cette approche n’est appropriée si vous effectuez une des requêtes hello ne font pas partie de votre logique d’entreprise.</span><span class="sxs-lookup"><span data-stu-id="859e4-178">This approach is only appropriate if hello queries you're performing are not part of your core business logic.</span></span>


### <a name="whats-hello-best-way-tooquery-data-across-my-actors"></a><span data-ttu-id="859e4-179">Nouveautés hello meilleure façon tooquery que les données sur mon acteurs</span><span class="sxs-lookup"><span data-stu-id="859e4-179">What's hello best way tooquery data across my actors?</span></span>

<span data-ttu-id="859e4-180">Acteurs sont conçus toobe des unités indépendantes de l’état et calcul, donc il n’est pas recommandé tooperform grandes requêtes d’état d’acteur lors de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="859e4-180">Actors are designed toobe independent units of state and compute, so it is not recommended tooperform broad queries of actor state at runtime.</span></span> <span data-ttu-id="859e4-181">Si vous avez un besoin tooquery ensemble complet de hello d’état d’acteur, vous devez envisager soit :</span><span class="sxs-lookup"><span data-stu-id="859e4-181">If you have a need tooquery across hello full set of actor state, you should consider either:</span></span>

- <span data-ttu-id="859e4-182">Remplacement de vos services d’acteur avec des services fiables avec état, telles que nombre hello du réseau demande toogather toutes les données à partir du numéro de hello du toohello acteurs de partitions dans votre service.</span><span class="sxs-lookup"><span data-stu-id="859e4-182">Replacing your actor services with stateful reliable services, such that hello number of network requests toogather all data from hello number of actors toohello number of partitions in your service.</span></span>
- <span data-ttu-id="859e4-183">Conception de votre publication de tooperiodically acteurs leur tooan externe le magasin d’état pour les requêtes plus faciles.</span><span class="sxs-lookup"><span data-stu-id="859e4-183">Designing your actors tooperiodically push their state tooan external store for easier querying.</span></span> <span data-ttu-id="859e4-184">Comme ci-dessus, cette approche n’est viable que si vous effectuez une des requêtes hello ne sont pas requises pour votre comportement d’exécution.</span><span class="sxs-lookup"><span data-stu-id="859e4-184">As above, this approach is only viable if hello queries you're performing are not required for your runtime behavior.</span></span>

### <a name="how-much-data-can-i-store-in-a-reliable-collection"></a><span data-ttu-id="859e4-185">Quelle quantité de données puis-je stocker dans une collection fiable ?</span><span class="sxs-lookup"><span data-stu-id="859e4-185">How much data can I store in a Reliable Collection?</span></span>

<span data-ttu-id="859e4-186">Services fiables sont généralement partitionnées, hello quantité que vous pouvez stocker est uniquement limitée par nombre de hello d’ordinateurs que vous disposez dans le cluster de hello et hello quantité de mémoire disponible sur ces ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="859e4-186">Reliable services are typically partitioned, so hello amount you can store is only limited by hello number of machines you have in hello cluster, and hello amount of memory available on those machines.</span></span>

<span data-ttu-id="859e4-187">Par exemple, supposons que vous ayez une collection fiable dans un service de 100 partitions et 3 réplicas, la taille moyenne des objets stockés est de 1 Ko.</span><span class="sxs-lookup"><span data-stu-id="859e4-187">As an example, suppose that you have a reliable collection in a service with 100 partitions and 3 replicas, storing objects that average 1kb in size.</span></span> <span data-ttu-id="859e4-188">Maintenant, supposons que vous disposiez d’un cluster de 10 ordinateurs avec 16 Go de mémoire par ordinateur.</span><span class="sxs-lookup"><span data-stu-id="859e4-188">Now suppose that you have a 10 machine cluster with 16gb of memory per machine.</span></span> <span data-ttu-id="859e4-189">Pour plus de simplicité et toobe très classique, supposons que hello système d’exploitation et les services système, hello Service Fabric runtime et vos services exigent 6 Go, en laissant 10 Go disponibles par ordinateur ou 100 Go pour le cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="859e4-189">For simplicity and toobe very conservative, assume that hello operating system and system services, hello Service Fabric runtime, and your services consume 6gb of that, leaving 10gb available per machine, or 100gb for hello cluster.</span></span>

<span data-ttu-id="859e4-190">Sachant que chaque objet doit être stocké trois fois (une copie principale et deux réplicas), vous aurez suffisamment de mémoire pour environ 35 millions d’objets dans votre collection lorsqu’elle fonctionnera à pleine capacité.</span><span class="sxs-lookup"><span data-stu-id="859e4-190">Keeping in mind that each object must be stored three times (one primary and two replicas), you would have sufficient memory for approximately 35 million objects in your collection when operating at full capacity.</span></span> <span data-ttu-id="859e4-191">Toutefois, nous vous recommandons d’être résilient toohello la perte simultanée d’un domaine de défaillance et un domaine de mise à niveau, ce qui représente environ 1/3 de la capacité et réduit de manière tooroughly de nombre hello 23 millions.</span><span class="sxs-lookup"><span data-stu-id="859e4-191">However, we recommend being resilient toohello simultaneous loss of a failure domain and an upgrade domain, which represents about 1/3 of capacity, and would reduce hello number tooroughly 23 million.</span></span>

<span data-ttu-id="859e4-192">Notez que ce calcul suppose également :</span><span class="sxs-lookup"><span data-stu-id="859e4-192">Note that this calculation also assumes:</span></span>

- <span data-ttu-id="859e4-193">Cette distribution hello des données entre les partitions hello est à peu près uniforme ou que vous rencontrez des métriques de charge toohello Gestionnaire de ressources du Cluster.</span><span class="sxs-lookup"><span data-stu-id="859e4-193">That hello distribution of data across hello partitions is roughly uniform or that you're reporting load metrics toohello Cluster Resource Manager.</span></span> <span data-ttu-id="859e4-194">Par défaut, Service Fabric équilibre la charge en fonction du nombre de réplicas.</span><span class="sxs-lookup"><span data-stu-id="859e4-194">By default, Service Fabric will load balance based on replica count.</span></span> <span data-ttu-id="859e4-195">Dans notre exemple ci-dessus, qui place les réplicas principales 10 et 20 secondaire sur chaque nœud de cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="859e4-195">In our example above, that would put 10 primary replicas and 20 secondary replicas on each node in hello cluster.</span></span> <span data-ttu-id="859e4-196">Qui fonctionne bien pour la charge est répartie équitablement entre les partitions hello.</span><span class="sxs-lookup"><span data-stu-id="859e4-196">That works well for load that is evenly distributed across hello partitions.</span></span> <span data-ttu-id="859e4-197">Si la charge n’est pas encore, vous devez indiquez charge afin qu’hello Gestionnaire de ressources peut pack ensemble de réplicas plus petits et autoriser supérieure réplicas tooconsume davantage de mémoire sur un nœud individuel.</span><span class="sxs-lookup"><span data-stu-id="859e4-197">If load is not even, you must report load so that hello Resource Manager can pack smaller replicas together and allow larger replicas tooconsume more memory on an individual node.</span></span>

- <span data-ttu-id="859e4-198">Ce service fiable hello en question est le seul état stockage hello dans un cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="859e4-198">That hello reliable service in question is hello only one storing state in hello cluster.</span></span> <span data-ttu-id="859e4-199">Étant donné que vous pouvez déployer plusieurs clusters tooa de services, vous devez toobe penser ressources hello que chacune sera peut-être toorun et gérer son état.</span><span class="sxs-lookup"><span data-stu-id="859e4-199">Since you can deploy multiple services tooa cluster, you need toobe mindful of hello resources that each will need toorun and manage its state.</span></span>

- <span data-ttu-id="859e4-200">Ce cluster hello lui-même n’est pas agrandissement ou la réduction.</span><span class="sxs-lookup"><span data-stu-id="859e4-200">That hello cluster itself is not growing or shrinking.</span></span> <span data-ttu-id="859e4-201">Si vous ajoutez plusieurs ordinateurs, Service Fabric rééquilibrer les vos réplicas tooleverage hello une capacité supplémentaire tant que nombre hello d’ordinateurs dépasse le nombre hello de partitions dans votre service, car un réplica individuel ne peut pas s’étendre sur des ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="859e4-201">If you add more machines, Service Fabric will rebalance your replicas tooleverage hello additional capacity until hello number of machines surpasses hello number of partitions in your service, since an individual replica cannot span machines.</span></span> <span data-ttu-id="859e4-202">En revanche, si vous réduisez la taille de hello du cluster de hello en supprimant les ordinateurs, vos réplicas seront compressés plus étroitement et comportent moins de capacité globale.</span><span class="sxs-lookup"><span data-stu-id="859e4-202">By contrast, if you reduce hello size of hello cluster by removing machines, your replicas will be packed more tightly and have less overall capacity.</span></span>

### <a name="how-much-data-can-i-store-in-an-actor"></a><span data-ttu-id="859e4-203">Quelle quantité de données puis-je stocker dans un acteur ?</span><span class="sxs-lookup"><span data-stu-id="859e4-203">How much data can I store in an actor?</span></span>

<span data-ttu-id="859e4-204">Comme avec les services fiables, hello quantité de données que vous pouvez stocker dans un service d’acteur est uniquement limitée par hello sur le disque et de mémoire disponible sur les nœuds hello dans votre cluster.</span><span class="sxs-lookup"><span data-stu-id="859e4-204">As with reliable services, hello amount of data that you can store in an actor service is only limited by hello total disk space and memory available across hello nodes in your cluster.</span></span> <span data-ttu-id="859e4-205">Toutefois, les acteurs individuels sont plus efficaces lorsqu’ils sont utilisé tooencapsulate une petite quantité de logique métier associée et l’état.</span><span class="sxs-lookup"><span data-stu-id="859e4-205">However, individual actors are most effective when they are used tooencapsulate a small amount of state and associated business logic.</span></span> <span data-ttu-id="859e4-206">En règle générale, un acteur doit avoir l’état qui est mesuré en kilo-octets.</span><span class="sxs-lookup"><span data-stu-id="859e4-206">As a general rule, an individual actor should have state that is measured in kilobytes.</span></span>

## <a name="other-questions"></a><span data-ttu-id="859e4-207">Autres questions</span><span class="sxs-lookup"><span data-stu-id="859e4-207">Other questions</span></span>

### <a name="how-does-service-fabric-relate-toocontainers"></a><span data-ttu-id="859e4-208">Comment Service Fabric liée toocontainers ?</span><span class="sxs-lookup"><span data-stu-id="859e4-208">How does Service Fabric relate toocontainers?</span></span>

<span data-ttu-id="859e4-209">Les conteneurs offrent un moyen simple toopackage services et leurs dépendances tels qu’ils exécuter cohérente dans tous les environnements et peuvent fonctionner de manière isolée sur un seul ordinateur.</span><span class="sxs-lookup"><span data-stu-id="859e4-209">Containers offer a simple way toopackage services and their dependencies such that they run consistently in all environments and can operate in an isolated fashion on a single machine.</span></span> <span data-ttu-id="859e4-210">L’infrastructure de service offre un moyen toodeploy et gérer des services, y compris [services empaquetées dans un conteneur](service-fabric-containers-overview.md).</span><span class="sxs-lookup"><span data-stu-id="859e4-210">Service Fabric offers a way toodeploy and manage services, including [services that have been packaged in a container](service-fabric-containers-overview.md).</span></span>

### <a name="are-you-planning-tooopen-source-service-fabric"></a><span data-ttu-id="859e4-211">Envisagez-vous tooopen source Service Fabric ?</span><span class="sxs-lookup"><span data-stu-id="859e4-211">Are you planning tooopen source Service Fabric?</span></span>

<span data-ttu-id="859e4-212">Nous avez l’intention des services fiables tooopen source hello et infrastructures d’acteurs fiable sur GitHub et acceptera des projets de communautés contributions toothose.</span><span class="sxs-lookup"><span data-stu-id="859e4-212">We intend tooopen source hello reliable services and reliable actors frameworks on GitHub and will accept community contributions toothose projects.</span></span> <span data-ttu-id="859e4-213">Veuillez suivre hello [Service Fabric blog](https://blogs.msdn.microsoft.com/azureservicefabric/) pour plus d’informations, comme ils sont annoncés.</span><span class="sxs-lookup"><span data-stu-id="859e4-213">Please follow hello [Service Fabric blog](https://blogs.msdn.microsoft.com/azureservicefabric/) for more details as they're announced.</span></span>

<span data-ttu-id="859e4-214">Hello n’existe actuellement aucune exécution de plans tooopen source hello Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="859e4-214">hello are currently no plans tooopen source hello Service Fabric runtime.</span></span>

## <a name="next-steps"></a><span data-ttu-id="859e4-215">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="859e4-215">Next steps</span></span>

- [<span data-ttu-id="859e4-216">En savoir plus sur les principaux concepts et les meilleures pratiques de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="859e4-216">Learn about core Service Fabric concepts and best practices</span></span>](https://mva.microsoft.com/en-us/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=tbuZM46yC_5206218965)
