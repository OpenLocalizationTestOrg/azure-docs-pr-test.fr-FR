---
title: "Présentation des microservices sur Azure | Microsoft Docs"
description: "Pourquoi créer des applications cloud avec une approche de microservices est important pour le développement d’applications modernes et comment Azure Service Fabric fournit une plateforme pour y parvenir."
services: service-fabric
documentationcenter: .net
author: msfussell
manager: timlt
editor: 
ms.assetid: fae2be85-0ab4-4cd3-9d1f-e0d95fe1959b
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 07/02/2017
ms.author: msfussell
ms.openlocfilehash: 53c142217c67465d29fa413f4edb4f96fcb4c6cc
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/03/2017
---
# <a name="why-a-microservices-approach-to-building-applications"></a><span data-ttu-id="48102-103">Pourquoi une approche de microservices pour la conception d’applications ?</span><span class="sxs-lookup"><span data-stu-id="48102-103">Why a microservices approach to building applications?</span></span>
<span data-ttu-id="48102-104">Pour les développeurs de logiciels que nous sommes, il n’y a rien de nouveau dans notre conception de l’affacturage d’une application en composants.</span><span class="sxs-lookup"><span data-stu-id="48102-104">As software developers, there is nothing new in how we think about factoring an application into component parts.</span></span> <span data-ttu-id="48102-105">Il s’agit du paradigme central de l’orientation des objets, des abstractions de logiciel et de la modularité.</span><span class="sxs-lookup"><span data-stu-id="48102-105">It is the central paradigm of object orientation, software abstractions, and componentization.</span></span> <span data-ttu-id="48102-106">Aujourd’hui, cette factorisation tend à prendre la forme de classes et d’interfaces entre les couches de technologies et les bibliothèques partagées.</span><span class="sxs-lookup"><span data-stu-id="48102-106">Today, this factorization tends to take the form of classes and interfaces between shared libraries and technology layers.</span></span> <span data-ttu-id="48102-107">En règle générale, une approche hiérarchisée est adoptée avec un magasin principal, une logique métier de couche intermédiaire et une interface utilisateur frontale.</span><span class="sxs-lookup"><span data-stu-id="48102-107">Typically, a tiered approach is taken with a back-end store, middle-tier business logic, and a front-end user interface (UI).</span></span> <span data-ttu-id="48102-108">Ce qui *a changé* au cours des dernières années, c’est que nous, en tant que développeurs, créons des applications distribuées pour le cloud, qui sont pilotées par l’entreprise.</span><span class="sxs-lookup"><span data-stu-id="48102-108">What *has* changed over the last few years is that we, as developers, are building distributed applications that are for the cloud and driven by the business.</span></span>

<span data-ttu-id="48102-109">Les nouveaux besoins de l’entreprise sont les suivants :</span><span class="sxs-lookup"><span data-stu-id="48102-109">The changing business needs are:</span></span>

* <span data-ttu-id="48102-110">Service dont la création et le fonctionnement se font à l’échelle pour atteindre les clients situés dans de nouvelles régions géographiques (par exemple).</span><span class="sxs-lookup"><span data-stu-id="48102-110">A service that's built and operates at scale to reach customers in new geographical regions (for example).</span></span>
* <span data-ttu-id="48102-111">Distribution plus rapide des fonctionnalités pour être en mesure de répondre aux demandes des clients d’une manière agile.</span><span class="sxs-lookup"><span data-stu-id="48102-111">Faster delivery of features and capabilities to be able to respond to customer demands in an agile way.</span></span>
* <span data-ttu-id="48102-112">Meilleure utilisation des ressources pour réduire les coûts.</span><span class="sxs-lookup"><span data-stu-id="48102-112">Improved resource utilization to reduce costs.</span></span>

<span data-ttu-id="48102-113">Ces besoins de l’entreprise affectent *la manière* dont nous créons des applications.</span><span class="sxs-lookup"><span data-stu-id="48102-113">These business needs are affecting *how* we build applications.</span></span>

<span data-ttu-id="48102-114">Pour plus d’informations sur l’approche d’Azure à l’égard des microservices, consultez [Microservices: An application revolution powered by the cloud](https://azure.microsoft.com/blog/microservices-an-application-revolution-powered-by-the-cloud/) (Microservices : une approche révolutionnaire des applications reposant sur le cloud).</span><span class="sxs-lookup"><span data-stu-id="48102-114">For more information about the approach of Azure to microservices, read [Microservices: An application revolution powered by the cloud](https://azure.microsoft.com/blog/microservices-an-application-revolution-powered-by-the-cloud/).</span></span>

## <a name="monolithic-vs-microservice-design-approach"></a><span data-ttu-id="48102-115">Approches de conception monolithique et de microservices</span><span class="sxs-lookup"><span data-stu-id="48102-115">Monolithic vs. microservice design approach</span></span>
<span data-ttu-id="48102-116">Toutes les applications évoluent au fil du temps.</span><span class="sxs-lookup"><span data-stu-id="48102-116">All applications evolve over time.</span></span> <span data-ttu-id="48102-117">Les applications réussies évoluent en étant utiles aux utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="48102-117">Successful applications evolve by being useful to people.</span></span> <span data-ttu-id="48102-118">Les applications ratées n’évoluent pas et sont, en fin de compte, déconseillées.</span><span class="sxs-lookup"><span data-stu-id="48102-118">Unsuccessful applications do not evolve and eventually are deprecated.</span></span> <span data-ttu-id="48102-119">La question est alors : « Que savez-vous de vos besoins aujourd’hui et que seront-ils à l’avenir ? ».</span><span class="sxs-lookup"><span data-stu-id="48102-119">The question becomes: How much do you know about your requirements today, and what will they be in the future?</span></span> <span data-ttu-id="48102-120">Par exemple, supposons que vous créez une application de création de rapports pour un service.</span><span class="sxs-lookup"><span data-stu-id="48102-120">For example, let's say that you are building a reporting application for a department.</span></span> <span data-ttu-id="48102-121">Vous êtes certain que l’application reste dans l’étendue de votre entreprise et que les rapports ont une durée de vie limitée.</span><span class="sxs-lookup"><span data-stu-id="48102-121">You are sure that the application remains within the scope of your company and that the reports are short-lived.</span></span> <span data-ttu-id="48102-122">L’approche que vous choisirez est différente de celle adoptée pour la création d’un service de distribution de contenu vidéo à des dizaines de millions de clients par exemple.</span><span class="sxs-lookup"><span data-stu-id="48102-122">Your choice of approach is different from, say, building a service that delivers video content to tens of millions of customers.</span></span> 

<span data-ttu-id="48102-123">Parfois, la sortie d’un élément en tant que preuve de concept constitue un facteur déterminant lorsque l’on sait que l’application peut être repensée ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="48102-123">Sometimes, getting something out the door as proof of concept is the driving factor, while you know that the application can be redesigned later.</span></span> <span data-ttu-id="48102-124">Il n’est pas très pertinent de lancer une ingénierie complexe pour quelque chose qui ne sera jamais utilisé.</span><span class="sxs-lookup"><span data-stu-id="48102-124">There is little point in over-engineering something that never gets used.</span></span> <span data-ttu-id="48102-125">C’est un compromis habituel en ingénierie.</span><span class="sxs-lookup"><span data-stu-id="48102-125">It’s the usual engineering trade-off.</span></span> <span data-ttu-id="48102-126">Par ailleurs, lorsque des entreprises parlent de mettre en place le cloud, leurs attentes concernent la croissance et l’utilisation.</span><span class="sxs-lookup"><span data-stu-id="48102-126">On the other hand, when companies talk about building for the cloud, the expectation is growth and usage.</span></span> <span data-ttu-id="48102-127">Le problème, c’est que la croissance et l’évolutivité sont imprévisibles.</span><span class="sxs-lookup"><span data-stu-id="48102-127">The issue is that growth and scale are unpredictable.</span></span> <span data-ttu-id="48102-128">Nous souhaitons pouvoir créer des prototypes rapidement, mais, dans le même temps, savoir que nous sommes sur la voie du succès.</span><span class="sxs-lookup"><span data-stu-id="48102-128">We would like to be able to prototype quickly while also knowing that we are on a path to deal with future success.</span></span> <span data-ttu-id="48102-129">C’est l’approche d’une lean startup : créer, mesurer, apprendre et itérer.</span><span class="sxs-lookup"><span data-stu-id="48102-129">This is the lean startup approach: build, measure, learn, and iterate.</span></span>

<span data-ttu-id="48102-130">À l’ère client-serveur, nous avions tendance à nous concentrer sur la création d’applications hiérarchisées à l’aide de technologies spécifiques dans chaque niveau.</span><span class="sxs-lookup"><span data-stu-id="48102-130">During the client-server era, we tended to focus on building tiered applications by using specific technologies in each tier.</span></span> <span data-ttu-id="48102-131">Le qualificatif *monolithique* a vu le jour pour ces applications.</span><span class="sxs-lookup"><span data-stu-id="48102-131">The term *monolithic* application has emerged for these approaches.</span></span> <span data-ttu-id="48102-132">Les interfaces avaient tendance à se trouver entre les niveaux, et une conception plus étroitement couplée était utilisée entre les composants de chaque niveau.</span><span class="sxs-lookup"><span data-stu-id="48102-132">The interfaces tended to be between the tiers, and a more tightly coupled design was used between components within each tier.</span></span> <span data-ttu-id="48102-133">Les développeurs concevaient et factorisaient des classes compilées dans des bibliothèques et liaient celles-ci dans quelques fichiers exécutables et DLL.</span><span class="sxs-lookup"><span data-stu-id="48102-133">Developers designed and factored classes that were compiled into libraries and linked together into a few executables and DLLs.</span></span> 

<span data-ttu-id="48102-134">Une telle approche de conception monolithique présente des avantages.</span><span class="sxs-lookup"><span data-stu-id="48102-134">There are benefits to such a monolithic design approach.</span></span> <span data-ttu-id="48102-135">La conception est souvent plus simple, et les appels entre les composants sont plus rapides dans la mesure où ils sont souvent effectués via IPC (communication entre processus).</span><span class="sxs-lookup"><span data-stu-id="48102-135">It's often simpler to design, and it has faster calls between components, because these calls are often over interprocess communication (IPC).</span></span> <span data-ttu-id="48102-136">En outre, chacun teste un produit unique, ce qui est plus efficace en termes de ressources de personnel.</span><span class="sxs-lookup"><span data-stu-id="48102-136">Also, everyone tests a single product, which tends to be more people-resource efficient.</span></span> <span data-ttu-id="48102-137">L’inconvénient est la création d’un couplage étroit entre les couches hiérarchisées et l’impossibilité de mettre à l’échelle les composants individuels.</span><span class="sxs-lookup"><span data-stu-id="48102-137">The downside is that there's a tight coupling between tiered layers, and you cannot scale individual components.</span></span> <span data-ttu-id="48102-138">Si vous devez appliquer des correctifs ou des mises à niveau, vous devez attendre que les autres terminent leurs tests,</span><span class="sxs-lookup"><span data-stu-id="48102-138">If you need to perform fixes or upgrades, you have to wait for others to finish their testing.</span></span> <span data-ttu-id="48102-139">et il devient plus difficile de faire preuve d’agilité.</span><span class="sxs-lookup"><span data-stu-id="48102-139">It is more difficult to be agile.</span></span>

<span data-ttu-id="48102-140">Les microservices gèrent ces inconvénients et s’alignent plus étroitement sur les exigences métier précédentes, mais ils présentent eux aussi des avantages et des inconvénients.</span><span class="sxs-lookup"><span data-stu-id="48102-140">Microservices address these downsides and more closely align with the preceding business requirements, but they also have both benefits and liabilities.</span></span> <span data-ttu-id="48102-141">Avantages des microservices : en général, chacun encapsule des fonctionnalités métier plus simples, que vous pouvez mettre à l’échelle (monter en puissance ou descendre en puissance), tester, déployer et gérer indépendamment.</span><span class="sxs-lookup"><span data-stu-id="48102-141">The benefits of microservices are that each one typically encapsulates simpler business functionality, which you scale up or down, test, deploy, and manage independently.</span></span> <span data-ttu-id="48102-142">L’un des avantages importants d’une approche de microservices est que les équipes sont davantage orientées par les scénarios métier que par la technologie, ce qui est encouragé par l’approche hiérarchisée.</span><span class="sxs-lookup"><span data-stu-id="48102-142">One important benefit of a microservice approach is that teams are driven more by business scenarios than by technology, which the tiered approach encourages.</span></span> <span data-ttu-id="48102-143">Dans la pratique, de plus petites équipes développent un microservice en s’appuyant sur un scénario client et utilisent les technologies de leur choix.</span><span class="sxs-lookup"><span data-stu-id="48102-143">In practice, smaller teams develop a microservice based on a customer scenario and use any technologies they choose.</span></span> 

<span data-ttu-id="48102-144">En d’autres termes, l’organisation n’a pas besoin de standardiser la technologie pour maintenir les applications de microservices.</span><span class="sxs-lookup"><span data-stu-id="48102-144">In other words, the organization doesn’t need to standardize tech to maintain microservice applications.</span></span> <span data-ttu-id="48102-145">Les équipes individuelles qui possèdent des services peuvent effectuer les actions les plus pertinentes pour elles en fonction de leur expertise ou de ce qui est le plus approprié pour le problème à résoudre.</span><span class="sxs-lookup"><span data-stu-id="48102-145">Individual teams that own services can do what makes sense for them based on team expertise or what’s most appropriate to solve the problem.</span></span> <span data-ttu-id="48102-146">Dans la pratique, il est préférable de disposer d’un ensemble de technologies recommandées, par exemple d’un magasin NoSQL particulier ou d’une infrastructure d’application web.</span><span class="sxs-lookup"><span data-stu-id="48102-146">In practice, a set of recommended technologies, such as a particular NoSQL store or web application framework, is preferable.</span></span>

<span data-ttu-id="48102-147">L’inconvénient des microservices concerne la gestion du nombre accru d’entités distinctes et celle du contrôle des versions et des déploiements plus complexes.</span><span class="sxs-lookup"><span data-stu-id="48102-147">The downside of microservices comes in managing the increased number of separate entities and dealing with more complex deployments and versioning.</span></span> <span data-ttu-id="48102-148">Le trafic réseau entre les microservices augmente, ainsi que les latences réseau correspondantes.</span><span class="sxs-lookup"><span data-stu-id="48102-148">Network traffic between the microservices increases as well as the corresponding network latencies.</span></span> <span data-ttu-id="48102-149">Disposer d’un grand nombre de services granulaires et bavards est la recette idéale pour des performances cauchemardesques.</span><span class="sxs-lookup"><span data-stu-id="48102-149">Lots of chatty, granular services are a recipe for a performance nightmare.</span></span> <span data-ttu-id="48102-150">Sans les outils permettant d’afficher ces dépendances, il est difficile de « voir » le système dans son ensemble.</span><span class="sxs-lookup"><span data-stu-id="48102-150">Without tools to help view these dependencies, it is hard to “see” the whole system.</span></span> 

<span data-ttu-id="48102-151">Les normes permettent à l’approche de microservices de fonctionner, en définissant la façon de communiquer et en faisant preuve de tolérance à l’égard des seuls éléments dont vous avez besoin d’un service, au lieu d’adopter des contrats rigides.</span><span class="sxs-lookup"><span data-stu-id="48102-151">Standards make the microservice approach work by agreeing on how to communicate and being tolerant of only the things you need from a service, rather than rigid contracts.</span></span> <span data-ttu-id="48102-152">Il est important de définir ces contrats en amont dans la conception, car les services sont mis à jour indépendamment les uns des autres.</span><span class="sxs-lookup"><span data-stu-id="48102-152">It is important to define these contracts up front in the design, because services update independently of each other.</span></span> <span data-ttu-id="48102-153">Une autre description a été formulée pour la conception avec une approche de microservices : « la SOA affinée ».</span><span class="sxs-lookup"><span data-stu-id="48102-153">Another description coined for designing with a microservices approach is “fine-grained service-oriented architecture (SOA).”</span></span>

<span data-ttu-id="48102-154">***Dans sa forme la plus simple, l’approche de conception de microservices fait référence à une fédération découplée des services, avec des modifications indépendantes pour chacun, et des normes de communication définies.***</span><span class="sxs-lookup"><span data-stu-id="48102-154">***At its simplest, the microservices design approach is about a decoupled federation of services, with independent changes to each, and agreed-upon standards for communication.***</span></span>

<span data-ttu-id="48102-155">Tandis qu’un nombre croissant d’applications cloud sont produites, les gens découvrent que cette décomposition de l’application globale en services axés sur un scénario indépendant constitue une meilleure approche à long terme.</span><span class="sxs-lookup"><span data-stu-id="48102-155">As more cloud apps are produced, people discover that this decomposition of the overall app into independent, scenario-focused services is a better long-term approach.</span></span>

## <a name="comparison-between-application-development-approaches"></a><span data-ttu-id="48102-156">Comparaison entre les approches de développement des applications</span><span class="sxs-lookup"><span data-stu-id="48102-156">Comparison between application development approaches</span></span>
![Développement d’applications pour la plateforme Service Fabric][Image1]

1) <span data-ttu-id="48102-158">Une application monolithique contient des fonctionnalités propres à un domaine. Elle est normalement divisée en couches fonctionnelles telles que web, métier et données.</span><span class="sxs-lookup"><span data-stu-id="48102-158">A monolithic app contains domain-specific functionality and is normally divided by functional layers, such as web, business, and data.</span></span>

2) <span data-ttu-id="48102-159">Vous mettez à l’échelle une application monolithique en la clonant sur plusieurs serveurs/machines virtuelles/conteneurs.</span><span class="sxs-lookup"><span data-stu-id="48102-159">You scale a monolithic app by cloning it on multiple servers/virtual machines/containers.</span></span>

3) <span data-ttu-id="48102-160">Une application de microservices sépare les fonctionnalités en services plus petits distincts.</span><span class="sxs-lookup"><span data-stu-id="48102-160">A microservice application separates functionality into separate smaller services.</span></span>

4) <span data-ttu-id="48102-161">L’approche des microservices augmente la taille des instances en déployant chaque service indépendamment, ce qui crée des instances de ces services sur les serveurs/machines virtuelles/conteneurs.</span><span class="sxs-lookup"><span data-stu-id="48102-161">The microservices approach scales out by deploying each service independently, creating instances of these services across servers/virtual machines/containers.</span></span>

<span data-ttu-id="48102-162">Concevoir avec une approche de microservices n’est pas la panacée pour tous les projets, mais cette vision se rapproche davantage des objectifs métier décrits précédemment.</span><span class="sxs-lookup"><span data-stu-id="48102-162">Designing with a microservice approach is not a panacea for all projects, but it does align more closely with the business objectives described earlier.</span></span> <span data-ttu-id="48102-163">Commencer par une approche monolithique est acceptable si vous savez que vous n’aurez pas la possibilité de retravailler le code en une conception de microservices.</span><span class="sxs-lookup"><span data-stu-id="48102-163">Starting with a monolithic approach might be acceptable if you know that you will have the opportunity to rework the code later into a microservices design.</span></span> <span data-ttu-id="48102-164">Le scénario le plus courant est le suivant : vous débutez avec une application monolithique que vous fractionnez lentement en étapes, en commençant par les zones fonctionnelles qui doivent être plus évolutives ou agiles.</span><span class="sxs-lookup"><span data-stu-id="48102-164">More commonly, you begin with a monolithic application and slowly break it up in stages, starting with the functional areas that need to be more scalable or agile.</span></span>

<span data-ttu-id="48102-165">Pour résumer, l’approche de microservices consiste à composer votre application de plusieurs petits services.</span><span class="sxs-lookup"><span data-stu-id="48102-165">To summarize, the microservice approach is to compose your application of many small services.</span></span> <span data-ttu-id="48102-166">Les services sont exécutés dans des conteneurs déployés sur un cluster de machines.</span><span class="sxs-lookup"><span data-stu-id="48102-166">The services run in containers that are deployed across a cluster of machines.</span></span> <span data-ttu-id="48102-167">De plus petites équipes développent un service qui se concentre sur un scénario et testent, contrôlent les versions, déploient et mettent à l’échelle chaque service indépendamment, afin que l’intégralité de l’application puisse évoluer.</span><span class="sxs-lookup"><span data-stu-id="48102-167">Smaller teams develop a service that focuses on a scenario and independently test, version, deploy, and scale each service so that the entire application can evolve.</span></span>

## <a name="what-is-a-microservice"></a><span data-ttu-id="48102-168">Que sont les microservices ?</span><span class="sxs-lookup"><span data-stu-id="48102-168">What is a microservice?</span></span>
<span data-ttu-id="48102-169">Il existe plusieurs définitions du terme « microservice ».</span><span class="sxs-lookup"><span data-stu-id="48102-169">There are different definitions of microservices.</span></span> <span data-ttu-id="48102-170">Si vous recherchez sur Internet, vous trouverez de nombreuses ressources utiles qui vous donneront leurs propres points de vue et définitions.</span><span class="sxs-lookup"><span data-stu-id="48102-170">If you search the Internet, you'll find many useful resources that provide their own viewpoints and definitions.</span></span> <span data-ttu-id="48102-171">Néanmoins, la plupart des caractéristiques suivantes des microservices font l’objet d’un large consensus :</span><span class="sxs-lookup"><span data-stu-id="48102-171">However, most of the following characteristics of microservices are widely agreed upon:</span></span>

* <span data-ttu-id="48102-172">Ils encapsulent un scénario client ou d’entreprise.</span><span class="sxs-lookup"><span data-stu-id="48102-172">Encapsulate a customer or business scenario.</span></span> <span data-ttu-id="48102-173">Quel est le problème que vous cherchez à résoudre ?</span><span class="sxs-lookup"><span data-stu-id="48102-173">What is the problem you are solving?</span></span>
* <span data-ttu-id="48102-174">Ils sont développés par une petite équipe d’ingénierie.</span><span class="sxs-lookup"><span data-stu-id="48102-174">Developed by a small engineering team.</span></span>
* <span data-ttu-id="48102-175">Ils peuvent être écrits dans tout langage de programmation et utiliser toute infrastructure.</span><span class="sxs-lookup"><span data-stu-id="48102-175">Written in any programming language and use any framework.</span></span>
* <span data-ttu-id="48102-176">Ils se composent d’un code et éventuellement d’un état, gérés indépendamment en termes de contrôle des versions, de déploiement et de mise à l’échelle.</span><span class="sxs-lookup"><span data-stu-id="48102-176">Consist of code and (optionally) state, both of which are independently versioned, deployed, and scaled.</span></span>
* <span data-ttu-id="48102-177">Ils interagissent avec les autres microservices sur des interfaces et protocoles bien définis.</span><span class="sxs-lookup"><span data-stu-id="48102-177">Interact with other microservices over well-defined interfaces and protocols.</span></span>
* <span data-ttu-id="48102-178">Ils possèdent des noms uniques (URL) utilisés pour résoudre leur emplacement.</span><span class="sxs-lookup"><span data-stu-id="48102-178">Have unique names (URLs) used to resolve their location.</span></span>
* <span data-ttu-id="48102-179">Ils restent cohérents et disponibles en cas de défaillances.</span><span class="sxs-lookup"><span data-stu-id="48102-179">Remain consistent and available in the presence of failures.</span></span>

<span data-ttu-id="48102-180">Vous pouvez résumer ces caractéristiques par :</span><span class="sxs-lookup"><span data-stu-id="48102-180">You can summarize these characteristics into:</span></span>

<span data-ttu-id="48102-181">***Les applications de microservice sont composées de services d’envergure modeste, évolutifs, dont les versions sont gérées indépendamment et qui communiquent entre eux via des protocoles standard avec des interfaces bien définies.***</span><span class="sxs-lookup"><span data-stu-id="48102-181">***Microservice applications are composed of small, independently versioned, and scalable customer-focused services that communicate with each other over standard protocols with well-defined interfaces.***</span></span>

<span data-ttu-id="48102-182">Nous avons abordé les deux premiers points dans la section précédente, et nous allons maintenant développer et clarifier les autres points.</span><span class="sxs-lookup"><span data-stu-id="48102-182">We covered the first two points in the preceding section, and now we expand on and clarify the others.</span></span>

### <a name="written-in-any-programming-language-and-use-any-framework"></a><span data-ttu-id="48102-183">Ils peuvent être écrits dans tout langage de programmation et utiliser toute infrastructure</span><span class="sxs-lookup"><span data-stu-id="48102-183">Written in any programming language and use any framework</span></span>
<span data-ttu-id="48102-184">En tant que développeurs, nous devons être libres d’opter pour le langage ou l’infrastructure de notre choix selon nos compétences ou les besoins du service.</span><span class="sxs-lookup"><span data-stu-id="48102-184">As developers, we should be free to choose a language or framework that we want, depending on our skills or the needs of the service.</span></span> <span data-ttu-id="48102-185">Dans certains services, vous pouvez avant tout apprécier les avantages en termes de performances de C++.</span><span class="sxs-lookup"><span data-stu-id="48102-185">In some services, you might value the performance benefits of C++ above all else.</span></span> <span data-ttu-id="48102-186">Dans d’autres services, la facilité du développement géré en C# ou Java peut être plus importante.</span><span class="sxs-lookup"><span data-stu-id="48102-186">In other services, the ease of managed development in C# or Java might be most important.</span></span> <span data-ttu-id="48102-187">Dans certains cas, vous devrez peut-être utiliser la bibliothèque d’un partenaire, une technologie de stockage de données ou un moyen d’exposer le service aux clients.</span><span class="sxs-lookup"><span data-stu-id="48102-187">In some cases, you may need to use a specific partner library, data storage technology, or means of exposing the service to clients.</span></span>

<span data-ttu-id="48102-188">Après avoir choisi une technologie, vous arrivez à l’étape de gestion du cycle de vie ou des opérations et de la mise à l’échelle du service.</span><span class="sxs-lookup"><span data-stu-id="48102-188">After you have chosen a technology, you come to the operational or lifecycle management and scaling of the service.</span></span>

### <a name="allows-code-and-state-to-be-independently-versioned-deployed-and-scaled"></a><span data-ttu-id="48102-189">Le code et l’état peuvent être indépendamment gérés en termes de version, déployés et mis à l’échelle</span><span class="sxs-lookup"><span data-stu-id="48102-189">Allows code and state to be independently versioned, deployed, and scaled</span></span>
<span data-ttu-id="48102-190">Toutefois, si vous choisissez d’écrire vos microservices, le code, et éventuellement l’état, doivent être déployés, mis à jour et mis à l’échelle indépendamment.</span><span class="sxs-lookup"><span data-stu-id="48102-190">However you choose to write your microservices, the code and optionally the state should independently deploy, upgrade, and scale.</span></span> <span data-ttu-id="48102-191">C’est de fait un des problèmes les plus difficiles à résoudre, puisque cela dépend de votre choix de technologies.</span><span class="sxs-lookup"><span data-stu-id="48102-191">This is actually one of the harder problems to solve, because it comes down to your choice of technologies.</span></span> <span data-ttu-id="48102-192">Pour la mise à l’échelle, comprendre comment partitionner le code et l’état est difficile.</span><span class="sxs-lookup"><span data-stu-id="48102-192">For scaling, understanding how to partition (or shard) both the code and state is challenging.</span></span> <span data-ttu-id="48102-193">Lorsque le code et l’état utilisent des technologies distinctes (ce qui est courant à l’heure actuelle), les scripts de déploiement pour votre microservice doivent pouvoir faire face à la mise à l’échelle des deux.</span><span class="sxs-lookup"><span data-stu-id="48102-193">When the code and state use separate technologies, which is common today, the deployment scripts for your microservice need to be able to cope with scaling them both.</span></span> <span data-ttu-id="48102-194">Cela concerne également l’agilité et la flexibilité afin que vous puissiez mettre à niveau certains des microservices sans avoir à les mettre à niveau tous en même temps.</span><span class="sxs-lookup"><span data-stu-id="48102-194">This is also about agility and flexibility, so you can upgrade some of the microservices without having to upgrade all of them at once.</span></span>

<span data-ttu-id="48102-195">Revenons à la comparaison entre approche monolithique et approche de microservices pour un instant. Le schéma suivant illustre les différences dans l’approche de stockage de l’état.</span><span class="sxs-lookup"><span data-stu-id="48102-195">Returning to the monolithic versus microservice approach for a moment, the following diagram shows the differences in the approach to storing state.</span></span>

#### <a name="state-storage-between-application-styles"></a><span data-ttu-id="48102-196">Stockage de l’état entre les styles d’application</span><span class="sxs-lookup"><span data-stu-id="48102-196">State storage between application styles</span></span>
![Stockage de l’état de la plateforme Service Fabric][Image2]

<span data-ttu-id="48102-198">***L’approche monolithique, située sur la gauche, possède une base de données unique et des niveaux de technologies spécifiques.***</span><span class="sxs-lookup"><span data-stu-id="48102-198">***The monolithic approach on the left has a single database and tiers of specific technologies.***</span></span>

<span data-ttu-id="48102-199">***L’approche des microservices, située sur la droite, comprend un graphique de microservices interconnectés, où l’état est généralement limité au microservice et aux différentes technologies utilisés.***</span><span class="sxs-lookup"><span data-stu-id="48102-199">***The microservices approach on the right has a graph of interconnected microservices where state is typically scoped to the microservice and various technologies are used.***</span></span>

<span data-ttu-id="48102-200">Dans l’approche monolithique, l’application utilise généralement une base de données unique.</span><span class="sxs-lookup"><span data-stu-id="48102-200">In a monolithic approach, typically the application uses a single database.</span></span> <span data-ttu-id="48102-201">L’avantage est qu’il s’agit d’un seul emplacement, ce qui facilite le déploiement.</span><span class="sxs-lookup"><span data-stu-id="48102-201">The advantage is that it is a single location, which makes it easy to deploy.</span></span> <span data-ttu-id="48102-202">Chaque composant peut avoir une seule table pour stocker son état.</span><span class="sxs-lookup"><span data-stu-id="48102-202">Each component can have a single table to store its state.</span></span> <span data-ttu-id="48102-203">Les équipes doivent être rigoureuses en ce qui concerne la séparation de l’état, qui représente un véritable défi.</span><span class="sxs-lookup"><span data-stu-id="48102-203">Teams need to strictly separate state, which is a challenge.</span></span> <span data-ttu-id="48102-204">Inévitablement, il est tentant de se contenter d’ajouter une nouvelle colonne à une table cliente existante, de joindre les tables et de créer des dépendances au niveau de la couche de stockage.</span><span class="sxs-lookup"><span data-stu-id="48102-204">Inevitably there are temptations to add a new column to an existing customer table, do a join between tables, and create dependencies at the storage layer.</span></span> <span data-ttu-id="48102-205">Une fois cela effectué, vous ne pouvez pas mettre à l’échelle les composants individuels.</span><span class="sxs-lookup"><span data-stu-id="48102-205">After this happens, you can't scale individual components.</span></span> 

<span data-ttu-id="48102-206">Dans l’approche de microservices, chaque service gère et stocke son propre état.</span><span class="sxs-lookup"><span data-stu-id="48102-206">In the microservices approach, each service manages and stores its own state.</span></span> <span data-ttu-id="48102-207">Chaque service est responsable de la mise à l’échelle du code et de l’état pour répondre aux demandes du service.</span><span class="sxs-lookup"><span data-stu-id="48102-207">Each service is responsible for scaling both code and state together to meet the demands of the service.</span></span> <span data-ttu-id="48102-208">Un inconvénient à cette approche apparaît lorsqu’il est nécessaire de créer des vues ou des requêtes relatives aux données de vos applications, car vous devez exécuter des requêtes dans des magasins d’état disparates.</span><span class="sxs-lookup"><span data-stu-id="48102-208">A downside is that when there is a need to create views, or queries, of your application’s data, you need to query across disparate state stores.</span></span> <span data-ttu-id="48102-209">En règle générale, vous pouvez résoudre ce problème en disposant d’un microservice séparé qui génère une vue sur une collection de microservices.</span><span class="sxs-lookup"><span data-stu-id="48102-209">Typically, this is solved by having a separate microservice that builds a view across a collection of microservices.</span></span> <span data-ttu-id="48102-210">Si vous devez exécuter plusieurs requêtes ad hoc sur les données, chaque microservice doit envisager d’écrire ses données dans un service d’entreposage de données pour l’analyse hors connexion.</span><span class="sxs-lookup"><span data-stu-id="48102-210">If you need to perform multiple impromptu queries on the data, each microservice should consider writing its data to a data warehousing service for offline analytics.</span></span>

<span data-ttu-id="48102-211">Le contrôle des versions est spécifique à la version déployée d’un microservice pour que plusieurs versions différentes puissent être déployées et exécutées côte à côte.</span><span class="sxs-lookup"><span data-stu-id="48102-211">Versioning is specific to the deployed version of a microservice so that multiple, different versions deploy and run side by side.</span></span> <span data-ttu-id="48102-212">Le contrôle des versions traite les scénarios où une version plus récente d’un microservice échoue au cours de la mise à niveau et doit être restaurée vers une version antérieure.</span><span class="sxs-lookup"><span data-stu-id="48102-212">Versioning addresses the scenarios where a newer version of a microservice fails during upgrade and needs to roll back to an earlier version.</span></span> <span data-ttu-id="48102-213">L’autre scénario du contrôle de version se produit lorsque des tests de type A/B sont réalisés avec différents utilisateurs essayant différentes versions du service.</span><span class="sxs-lookup"><span data-stu-id="48102-213">The other scenario for versioning is performing A/B-style testing, where different users experience different versions of the service.</span></span> <span data-ttu-id="48102-214">Par exemple, il est courant de mettre à niveau un microservice pour un ensemble spécifique de clients afin qu’ils testent les nouvelles fonctionnalités avant de le déployer à plus grande échelle.</span><span class="sxs-lookup"><span data-stu-id="48102-214">For example, it is common to upgrade a microservice for a specific set of customers to test new functionality before rolling it out more widely.</span></span> <span data-ttu-id="48102-215">Après la gestion du cycle de vie des microservices, nous arrivons à présent à la communication entre eux.</span><span class="sxs-lookup"><span data-stu-id="48102-215">After lifecycle management of microservices, this now brings us to communication between them.</span></span>

### <a name="interacts-with-other-microservices-over-well-defined-interfaces-and-protocols"></a><span data-ttu-id="48102-216">Ils interagissent avec les autres microservices sur des interfaces et protocoles bien définis</span><span class="sxs-lookup"><span data-stu-id="48102-216">Interacts with other microservices over well-defined interfaces and protocols</span></span>
<span data-ttu-id="48102-217">Cette rubrique n’est pas la plus importante, car de nombreux ouvrages ont été publiés ces 10 dernières années sur l’architecture orientée service et les modèles de communication.</span><span class="sxs-lookup"><span data-stu-id="48102-217">This topic needs little attention here, because extensive literature about service-oriented architecture that has been published over the past 10 years describes communication patterns.</span></span> <span data-ttu-id="48102-218">En règle générale, la communication de service utilise une approche REST avec les protocoles HTTP et TCP, et les formats de sérialisation XML ou JSON.</span><span class="sxs-lookup"><span data-stu-id="48102-218">Generally, service communication uses a REST approach with HTTP and TCP protocols and XML or JSON as the serialization format.</span></span> <span data-ttu-id="48102-219">Du point de vue de l’interface, il s’agit d’adopter l’approche de conception web.</span><span class="sxs-lookup"><span data-stu-id="48102-219">From an interface perspective, it is about embracing the web design approach.</span></span> <span data-ttu-id="48102-220">Toutefois, rien ne vous empêche d’utiliser des protocoles binaires ou vos propres formats de données.</span><span class="sxs-lookup"><span data-stu-id="48102-220">But nothing stops you from using binary protocols or your own data formats.</span></span> <span data-ttu-id="48102-221">Préparez-vous à ce que les personnes rencontrent davantage de difficultés à utiliser vos microservices s’ils sont ouvertement disponibles.</span><span class="sxs-lookup"><span data-stu-id="48102-221">Be prepared for people to have a harder time using your microservices if these are openly available.</span></span>

### <a name="has-a-unique-name-url-used-to-resolve-its-location"></a><span data-ttu-id="48102-222">Ils possèdent un nom unique (URL) utilisé pour résoudre leur emplacement</span><span class="sxs-lookup"><span data-stu-id="48102-222">Has a unique name (URL) used to resolve its location</span></span>
<span data-ttu-id="48102-223">Vous n’avez pas oublié que nous répétons sans cesse que l’approche de microservices est similaire au web ?</span><span class="sxs-lookup"><span data-stu-id="48102-223">Remember how we keep saying that the microservice approach is like the web?</span></span> <span data-ttu-id="48102-224">À l’instar du web, votre microservice doit être adressable partout où il est exécuté.</span><span class="sxs-lookup"><span data-stu-id="48102-224">Like the web, your microservice needs to be addressable wherever it is running.</span></span> <span data-ttu-id="48102-225">Si vous pensez à des machines et à celles qui exécutent un microservice spécifique, les choses tournent mal rapidement.</span><span class="sxs-lookup"><span data-stu-id="48102-225">If you are thinking about machines and which one is running a particular microservice, things go bad quickly.</span></span> 

<span data-ttu-id="48102-226">De la même façon que le DNS résout une URL spécifique pour une machine spécifique, votre microservice doit avoir un nom unique pour que le système puisse découvrir son emplacement actuel.</span><span class="sxs-lookup"><span data-stu-id="48102-226">In the same way that DNS resolves a particular URL to a particular machine, your microservice needs to have a unique name so that its current location is discoverable.</span></span> <span data-ttu-id="48102-227">Les microservices ont besoin de noms adressables qui les rendent indépendants de l’infrastructure sur laquelle ils sont exécutés.</span><span class="sxs-lookup"><span data-stu-id="48102-227">Microservices need addressable names that make them independent from the infrastructure that they are running on.</span></span> <span data-ttu-id="48102-228">Bien sûr, cela implique l’existence d’une interaction entre le mode de déploiement de votre service et la méthode permettant de le découvrir, dans la mesure où un Registre de service doit être disponible.</span><span class="sxs-lookup"><span data-stu-id="48102-228">This implies that there is an interaction between how your service is deployed and how it is discovered, because there needs to be a service registry.</span></span> <span data-ttu-id="48102-229">De même, lorsqu’une machine tombe en panne, le Registre de service doit vous indiquer le nouvel emplacement d’exécution du service.</span><span class="sxs-lookup"><span data-stu-id="48102-229">Equally, when a machine fails, the registry service must tell you where the service is now running.</span></span> 

<span data-ttu-id="48102-230">Ceci nous amène à la rubrique suivante sur la résilience et la cohérence.</span><span class="sxs-lookup"><span data-stu-id="48102-230">This brings us to the next topic: resilience and consistency.</span></span>

### <a name="remains-consistent-and-available-in-the-presence-of-failures"></a><span data-ttu-id="48102-231">Ils restent cohérents et disponibles en cas de défaillances</span><span class="sxs-lookup"><span data-stu-id="48102-231">Remains consistent and available in the presence of failures</span></span>
<span data-ttu-id="48102-232">La gestion des défaillances inattendues est l’un des problèmes les plus difficiles à résoudre, en particulier dans un système distribué.</span><span class="sxs-lookup"><span data-stu-id="48102-232">Dealing with unexpected failures is one of the hardest problems to solve, especially in a distributed system.</span></span> <span data-ttu-id="48102-233">Une grande partie du code que nous écrivons en tant que développeurs consiste à gérer les exceptions, et c’est également le domaine dans lequel le plus de temps est consacré aux tests.</span><span class="sxs-lookup"><span data-stu-id="48102-233">Much of the code that we write as developers is handling exceptions, and this is also where the most time is spent in testing.</span></span> <span data-ttu-id="48102-234">Le problème est plus complexe que l’écriture de code pour gérer les défaillances.</span><span class="sxs-lookup"><span data-stu-id="48102-234">The problem is more involved than writing code to handle failures.</span></span> <span data-ttu-id="48102-235">Que se passe-t-il lorsque la machine sur laquelle s’exécute le microservice échoue ?</span><span class="sxs-lookup"><span data-stu-id="48102-235">What happens when the machine where the microservice is running fails?</span></span> <span data-ttu-id="48102-236">Non seulement, vous devez détecter cette défaillance du microservice (problème complexe en soi), mais des éléments sont également nécessaires au redémarrage de votre microservice.</span><span class="sxs-lookup"><span data-stu-id="48102-236">Not only do you need to detect this microservice failure (a hard problem on its own), but you also need something to restart your microservice.</span></span> 

<span data-ttu-id="48102-237">Un microservice doit résister aux défaillances et redémarrer souvent sur une autre machine pour des raisons de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="48102-237">A microservice needs to be resilient to failures and restart often on another machine for availability reasons.</span></span> <span data-ttu-id="48102-238">Cela se rapporte également à l’état qui a été enregistré pour le compte du microservice : à partir d’où peut-il récupérer cet état et est-il capable de redémarrer correctement ?</span><span class="sxs-lookup"><span data-stu-id="48102-238">This also comes down to the state that was saved on behalf of the microservice, where the microservice can recover this state from, and whether the microservice is able to restart successfully.</span></span> <span data-ttu-id="48102-239">En d’autres termes, une résilience dans le calcul est nécessaire (le processus redémarre), ainsi qu’une résilience dans l’état ou les données (aucune perte de données et maintien de la cohérence des données).</span><span class="sxs-lookup"><span data-stu-id="48102-239">In other words, there needs to be resilience in the compute (the process restarts) as well as resilience in the state or data (no data loss and the data remains consistent).</span></span>

<span data-ttu-id="48102-240">Les problèmes de résilience se compliquent au cours d’autres scénarios, par exemple lorsque des défaillances se produisent pendant une mise à niveau de l’application.</span><span class="sxs-lookup"><span data-stu-id="48102-240">The problems of resiliency are compounded during other scenarios, such as when failures happen during an application upgrade.</span></span> <span data-ttu-id="48102-241">En association avec le système de déploiement, le microservice ne doit pas seulement récupérer.</span><span class="sxs-lookup"><span data-stu-id="48102-241">The microservice, working with the deployment system, doesn't need to recover.</span></span> <span data-ttu-id="48102-242">Il doit également décider s’il peut continuer à avancer vers la version la plus récente, ou à la place restaurer une version précédente pour maintenir un état cohérent.</span><span class="sxs-lookup"><span data-stu-id="48102-242">It also needs to then decide whether it can continue to move forward to the newer version or instead roll back to a previous version to maintain a consistent state.</span></span> <span data-ttu-id="48102-243">Il faut prendre en compte les questions de savoir s’il y a suffisamment de machines disponibles pour continuer de progresser, et la manière de restaurer les versions précédentes du microservice.</span><span class="sxs-lookup"><span data-stu-id="48102-243">Questions such as whether enough machines are available to keep moving forward and how to recover previous versions of the microservice need to be considered.</span></span> <span data-ttu-id="48102-244">Pour prendre ces décisions, le microservice doit émettre des informations d’intégrité.</span><span class="sxs-lookup"><span data-stu-id="48102-244">This requires the microservice to emit health information to be able to make these decisions.</span></span>

### <a name="reports-health-and-diagnostics"></a><span data-ttu-id="48102-245">Rapports d’intégrité et diagnostics</span><span class="sxs-lookup"><span data-stu-id="48102-245">Reports health and diagnostics</span></span>
<span data-ttu-id="48102-246">Cela peut paraître évident, et c’est souvent négligé, mais un microservice doit générer des rapports sur son intégrité et ses diagnostics.</span><span class="sxs-lookup"><span data-stu-id="48102-246">It may seem obvious, and it is often overlooked, but a microservice must report its health and diagnostics.</span></span> <span data-ttu-id="48102-247">Dans le cas contraire, les connaissances d’un point de vue opérationnel sont limitées.</span><span class="sxs-lookup"><span data-stu-id="48102-247">Otherwise, there is little insight from an operations perspective.</span></span> <span data-ttu-id="48102-248">Corréler des événements de diagnostic sur un ensemble de services indépendants et gérer les variations d’horloges des machines afin de déterminer l’ordre des événements représente un défi.</span><span class="sxs-lookup"><span data-stu-id="48102-248">Correlating diagnostic events across a set of independent services and dealing with machine clock skews to make sense of the event order is challenging.</span></span> <span data-ttu-id="48102-249">De la même manière que vous interagissez avec un microservice selon des protocoles et formats de données convenus, un besoin de standardisation émerge quant à la manière de journaliser les événements d’intégrité et de diagnostic qui finissent dans un magasin d’événements que l’on peut interroger et afficher.</span><span class="sxs-lookup"><span data-stu-id="48102-249">In the same way that you interact with a microservice over agreed-upon protocols and data formats, there emerges a need for standardization in how to log health and diagnostic events that ultimately end up in an event store for querying and viewing.</span></span> <span data-ttu-id="48102-250">Dans une approche de microservices, il est essentiel que les différentes équipes soient d’accord sur un format de journalisation unique.</span><span class="sxs-lookup"><span data-stu-id="48102-250">In a microservices approach, it is key that different teams agree on a single logging format.</span></span> <span data-ttu-id="48102-251">Une approche cohérente doit être adoptée pour afficher les événements de diagnostic dans l’application comme un tout.</span><span class="sxs-lookup"><span data-stu-id="48102-251">There needs to be a consistent approach to viewing diagnostic events in the application as a whole.</span></span>

<span data-ttu-id="48102-252">L’intégrité diffère des diagnostics.</span><span class="sxs-lookup"><span data-stu-id="48102-252">Health is different from diagnostics.</span></span> <span data-ttu-id="48102-253">L’intégrité fait référence aux rapports du microservice sur son état actuel de sorte que des actions appropriées puissent être prises.</span><span class="sxs-lookup"><span data-stu-id="48102-253">Health is about the microservice reporting its current state to take appropriate actions.</span></span> <span data-ttu-id="48102-254">Un bon exemple de cela est l’utilisation de mécanismes de mise à niveau et de déploiement pour garantir la disponibilité.</span><span class="sxs-lookup"><span data-stu-id="48102-254">A good example is working with upgrade and deployment mechanisms to maintain availability.</span></span> <span data-ttu-id="48102-255">Même si un service est défectueux en raison d’un blocage de processus ou d’un redémarrage de machine, il peut demeurer opérationnel.</span><span class="sxs-lookup"><span data-stu-id="48102-255">Although a service may be currently unhealthy due to a process crash or machine reboot, the service might still be operational.</span></span> <span data-ttu-id="48102-256">La dernière chose dont vous avez besoin est d’empirer les choses en effectuant une mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="48102-256">The last thing you need is to make this worse by performing an upgrade.</span></span> <span data-ttu-id="48102-257">La meilleure solution est de commencer par mener une enquête ou de laisser le temps au microservice de récupérer.</span><span class="sxs-lookup"><span data-stu-id="48102-257">The best approach is to do an investigation first or allow time for the microservice to recover.</span></span> <span data-ttu-id="48102-258">Les événements d’intégrité d’un microservice nous aident à prendre des décisions avisées et nous aident effectivement à créer des services de réparation spontanée.</span><span class="sxs-lookup"><span data-stu-id="48102-258">Health events from a microservice help us make informed decisions and, in effect, help create self-healing services.</span></span>

## <a name="service-fabric-as-a-microservices-platform"></a><span data-ttu-id="48102-259">Service Fabric en tant que plateforme de microservices</span><span class="sxs-lookup"><span data-stu-id="48102-259">Service Fabric as a microservices platform</span></span>
<span data-ttu-id="48102-260">Azure Service Fabric est issu de la transition de Microsoft de la distribution de produits prêts à l’emploi, de style généralement monolithique, à la prestation de services.</span><span class="sxs-lookup"><span data-stu-id="48102-260">Azure Service Fabric emerged from a transition by Microsoft from delivering box products, which were typically monolithic in style, to delivering services.</span></span> <span data-ttu-id="48102-261">L’expérience de création et d’utilisation de services d’envergure tels qu’Azure SQL Database et Azure Cosmos DB a permis de façonner Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="48102-261">The experience of building and operating large services, such as Azure SQL Database and Azure Cosmos DB, shaped Service Fabric.</span></span> <span data-ttu-id="48102-262">La plateforme a évolué au fil du temps, à mesure de son adoption par de plus en plus de services.</span><span class="sxs-lookup"><span data-stu-id="48102-262">The platform evolved over time as more and more services adopted it.</span></span> <span data-ttu-id="48102-263">Plus important, Service Fabric devait s’exécuter non seulement dans Azure, mais également dans les déploiements Windows Server autonomes.</span><span class="sxs-lookup"><span data-stu-id="48102-263">Importantly, Service Fabric had to run not only in Azure but also in standalone Windows Server deployments.</span></span>

<span data-ttu-id="48102-264">***L’objectif de Service Fabric est de résoudre les problèmes complexes de création et d’exécution d’un service et d’utiliser les ressources d’infrastructure efficacement, afin que les équipes puissent résoudre les problèmes métier avec une approche de microservices.***</span><span class="sxs-lookup"><span data-stu-id="48102-264">***The aim of Service Fabric is to solve the hard problems of building and running a service and utilize infrastructure resources efficiently, so that teams can solve business problems using a microservices approach.***</span></span>

<span data-ttu-id="48102-265">Service Fabric fournit trois grands domaines pour vous aider à créer des applications avec une approche de microservices :</span><span class="sxs-lookup"><span data-stu-id="48102-265">Service Fabric provides three broad areas to help you build applications that use a microservices approach:</span></span>

* <span data-ttu-id="48102-266">Une plateforme qui fournit des services système pour déployer, mettre à niveau, détecter les services en panne, router les messages, ainsi que pour gérer l’état et surveiller l’intégrité.</span><span class="sxs-lookup"><span data-stu-id="48102-266">A platform that provides system services to deploy, upgrade, detect, and restart failed services, discover services, route messages, manage state, and monitor health.</span></span> <span data-ttu-id="48102-267">Ces services système activent en effet nombre des caractéristiques des microservices décrites précédemment.</span><span class="sxs-lookup"><span data-stu-id="48102-267">These system services in effect enable many of the characteristics of microservices previously described.</span></span>
* <span data-ttu-id="48102-268">Possibilité de déployer des applications exécutées dans des conteneurs ou en tant que processus.</span><span class="sxs-lookup"><span data-stu-id="48102-268">Ability to deploy applications either running in containers or as processes.</span></span> <span data-ttu-id="48102-269">Service Fabric est un conteneur et orchestrateur de processus.</span><span class="sxs-lookup"><span data-stu-id="48102-269">Service Fabric is a container and process orchestrator.</span></span>
* <span data-ttu-id="48102-270">Des API de programmation productives pour vous aider à concevoir des applications sous la forme de microservices : [ASP.NET Core, des acteurs et des services fiables](service-fabric-choose-framework.md).</span><span class="sxs-lookup"><span data-stu-id="48102-270">Productive programming APIs,  to help you build applications as microservices: [ASP.NET Core, Reliable Actors, and Reliable Services](service-fabric-choose-framework.md).</span></span> <span data-ttu-id="48102-271">Vous pouvez utiliser tout code de votre choix pour créer votre microservice,</span><span class="sxs-lookup"><span data-stu-id="48102-271">You can choose any code to build your microservice.</span></span> <span data-ttu-id="48102-272">mais ces API simplifient votre travail et s’intègrent à la plateforme de manière plus approfondie.</span><span class="sxs-lookup"><span data-stu-id="48102-272">But these APIs make the job more straightforward, and they integrate with the platform at a deeper level.</span></span> <span data-ttu-id="48102-273">Ainsi, par exemple, vous pouvez obtenir des informations d’intégrité et des diagnostics, ou vous pouvez tirer parti de la haute disponibilité intégrée.</span><span class="sxs-lookup"><span data-stu-id="48102-273">This way, for example, you can get health and diagnostics information, or you can take advantage of built-in high availability.</span></span>

<span data-ttu-id="48102-274">***Service Fabric est indifférent à la façon dont vous créez votre service. Vous pouvez utiliser la technologie de votre choix. Toutefois, il intègre des API de programmation qui facilitent la création de microservices.***</span><span class="sxs-lookup"><span data-stu-id="48102-274">***Service Fabric is agnostic on how you build your service, and you can use any technology. However, it does provide built-in programming APIs that make it easier to build microservices.***</span></span>

### <a name="migrating-existing-applications-to-service-fabric"></a><span data-ttu-id="48102-275">Migrer des applications existantes vers Service Fabric</span><span class="sxs-lookup"><span data-stu-id="48102-275">Migrating existing applications to Service Fabric</span></span>
<span data-ttu-id="48102-276">Une approche clé de Service Fabric consiste à réutiliser le code existant, ce qui peut ensuite être modernisé à l’aide de nouveaux microservices.</span><span class="sxs-lookup"><span data-stu-id="48102-276">A key approach to Service Fabric is to reuse existing code, which can then be modernized with new microservices.</span></span> <span data-ttu-id="48102-277">La modernisation d’une application comporte cinq étapes. Il est possible de commencer et d’arrêter à n’importe quelle étape.</span><span class="sxs-lookup"><span data-stu-id="48102-277">There are five stages to application modernization, and you can start and stop at any of the stages.</span></span> <span data-ttu-id="48102-278">Ces composants sont les suivants :</span><span class="sxs-lookup"><span data-stu-id="48102-278">These are;</span></span>

1) <span data-ttu-id="48102-279">Prenez une application monolithique classique</span><span class="sxs-lookup"><span data-stu-id="48102-279">Take a traditional monolithic application</span></span>
2) <span data-ttu-id="48102-280">Lift and Shift - Utilisation de conteneurs ou d’exécutables invités pour héberger le code existant dans Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="48102-280">Lift and Shift - Use containers or guest executables to host existing code in Service Fabric.</span></span>
3) <span data-ttu-id="48102-281">Modernisation - Ajout de nouveaux microservices en plus du code en conteneur existant.</span><span class="sxs-lookup"><span data-stu-id="48102-281">Modernization - New microservices added alongside existing containerized code.</span></span> 
4) <span data-ttu-id="48102-282">Innovation - Transformation d’applications monolithiques en microservices exclusivement basés sur les besoins.</span><span class="sxs-lookup"><span data-stu-id="48102-282">Innovate - Break the monolithic into microservices purely based on need.</span></span>
5) <span data-ttu-id="48102-283">Transformation en microservices - Transformation d’applications monolithiques existantes ou création de nouvelles applications greenfield.</span><span class="sxs-lookup"><span data-stu-id="48102-283">Transformed into microservices - the transformation of existing monolithic applications or building new greenfield applications.</span></span>

![Migration vers les microservices][Image3]

<span data-ttu-id="48102-285">Il est important d’insister à nouveau sur le fait que vous pouvez **commencer et arrêter chaque étape**, vous n’êtes pas tenu de passer à l’étape suivante.</span><span class="sxs-lookup"><span data-stu-id="48102-285">It is important to emphasis again, that you can **start and stop at any of these stages**, you are not compelled to moved to the next stage.</span></span> <span data-ttu-id="48102-286">Passons maintenant aux exemples de chacune de ces étapes.</span><span class="sxs-lookup"><span data-stu-id="48102-286">Let's now look at examples for each of these stages.</span></span>

<span data-ttu-id="48102-287">**Lift and Shift** : un grand nombre d’entreprises déplacent des applications monolithiques existantes vers des conteneurs pour deux raisons.</span><span class="sxs-lookup"><span data-stu-id="48102-287">**Lift and Shift** - large numbers of companies are lifting and shifting existing monolithic applications into containers to for two reasons;</span></span>

- <span data-ttu-id="48102-288">Une réduction des coûts liée à la consolidation et à la suppression de matériel existant ou d’applications en cours d’exécution à une densité plus élevée.</span><span class="sxs-lookup"><span data-stu-id="48102-288">Cost reduction either due to consolidation and removal  of existing hardware or running applications at higher density.</span></span> 
- <span data-ttu-id="48102-289">Un contrat de déploiement cohérent entre le développement et les opérations.</span><span class="sxs-lookup"><span data-stu-id="48102-289">Consistent deployment contract between development and operations.</span></span>

<span data-ttu-id="48102-290">Les réductions de coûts sont compréhensibles et au sein de Microsoft un grand nombre d’applications existantes sont placées simplement en conteneur pour économiser des millions de dollars.</span><span class="sxs-lookup"><span data-stu-id="48102-290">Cost reductions are understandable and within Microsoft large numbers of existing applications are being containerized simply to millions of dollars.</span></span> <span data-ttu-id="48102-291">Un déploiement cohérent est plus difficile à évaluer, mais tout aussi important.</span><span class="sxs-lookup"><span data-stu-id="48102-291">Consistent deployment is harder to evaluate, but equally as important.</span></span> <span data-ttu-id="48102-292">Il permet aux développeurs de toujours rester libres de choisir la technologie qui leur convient le mieux. Toutefois, les opérations acceptent uniquement un moyen simple pour déployer et gérer ces applications.</span><span class="sxs-lookup"><span data-stu-id="48102-292">It says that developers can still be free to choose the technology that suites them, however the operations will only accept a single way to deploy and manage these applications.</span></span> <span data-ttu-id="48102-293">Ainsi, les opérations n’ont pas à gérer la complexité liée à de nombreuses technologies différentes ou à obliger les développeurs à ne choisir que certaines d’entre elles.</span><span class="sxs-lookup"><span data-stu-id="48102-293">It alleviates the operations from having to deal with the complexity of many different technologies or forcing developers to only choose certain ones.</span></span> <span data-ttu-id="48102-294">En principe, chaque application est placée dans des images de déploiement autonomes.</span><span class="sxs-lookup"><span data-stu-id="48102-294">Essentially every application is containerized into self-contained deployment images.</span></span>

<span data-ttu-id="48102-295">De nombreuses organisations ne vont pas plus loin.</span><span class="sxs-lookup"><span data-stu-id="48102-295">Many organizations stop here.</span></span> <span data-ttu-id="48102-296">Elles bénéficient déjà des avantages liés aux conteneurs et Service Fabric offre l’expérience de gestion complète du déploiement, des mises à niveau, du contrôle de version, des restaurations, du contrôle d’intégrité, etc.</span><span class="sxs-lookup"><span data-stu-id="48102-296">They already have the benefits of containers and Service Fabric provides the complete management experience from deployment, upgrades, versioning, rollbacks, health monitoring etc.</span></span>

<span data-ttu-id="48102-297">**Modernisation** :est l’ajout de nouveaux services en plus du code en conteneur existant.</span><span class="sxs-lookup"><span data-stu-id="48102-297">**Modernization** - is the addition of new services alongside existing containerized code.</span></span> <span data-ttu-id="48102-298">Si vous souhaitez du code, il est conseillé de suivre quelques étapes liées aux microservices.</span><span class="sxs-lookup"><span data-stu-id="48102-298">If you are going to write new code, it is best to decide to take small steps down the microservices path.</span></span> <span data-ttu-id="48102-299">Cela peut consister dans l’ajout d’un nouveau point de terminaison d’API REST ou d’une nouvelle logique métier.</span><span class="sxs-lookup"><span data-stu-id="48102-299">This could be adding a new REST API endpoint, or new business logic.</span></span> <span data-ttu-id="48102-300">De cette manière, vous commencez à créer de nouveau microservices et vous vous exercez à leur développement et déploiement.</span><span class="sxs-lookup"><span data-stu-id="48102-300">This way, you start on the journey of building new microservices and practice developing and deploying them.</span></span>

<span data-ttu-id="48102-301">**Innovation** : vous souvenez-vous de ces besoins d’entreprise d’origine en constante évolution que nous avons évoqués au début de cet article et qui conditionnent l’approche relative aux microservices ?</span><span class="sxs-lookup"><span data-stu-id="48102-301">**Innovate** - remember those original changing business needs at the start of this article, that are driving the microservices approach?</span></span> <span data-ttu-id="48102-302">À ce stade, la décision est de savoir s’ils s’appliquent à mon application en cours et, si tel est le cas, si je dois plutôt opter pour la modernisation ou l’innovation.</span><span class="sxs-lookup"><span data-stu-id="48102-302">At this stage the decision is, are these happening to my current application and if so, I need to start splitting the monolith, or innovating.</span></span> <span data-ttu-id="48102-303">Le présent exemple consiste en une base de données devenant un goulot d’étranglement de traitement depuis son utilisation comme file d’attente de workflow.</span><span class="sxs-lookup"><span data-stu-id="48102-303">An example here is when a database becomes a processing bottleneck, since it is being used as a workflow queue.</span></span> <span data-ttu-id="48102-304">L’augmentation des demandes de workflow requiert une mise à l’échelle via une distribution du travail.</span><span class="sxs-lookup"><span data-stu-id="48102-304">As the number of workflow requests increasing the work needs to be distributed for scale.</span></span> <span data-ttu-id="48102-305">Ainsi, pour cette partie de l’application qui n’est pas mise à l’échelle, ou que vous devez mettre à jour plus fréquemment, il est conseillé de la fractionner en microservices et d’opter pour l’innovation.</span><span class="sxs-lookup"><span data-stu-id="48102-305">So for that particular piece of the application that is not scaling, or you need to update more frequently, split this out into a microservice and innovate.</span></span> 

<span data-ttu-id="48102-306">**Transformation en microservices** : il s’agit de l’étape lors de laquelle l’application est entièrement composée (ou décomposée) en microservices.</span><span class="sxs-lookup"><span data-stu-id="48102-306">**Transformed into microservices** - this is where your application is fully composed of (or decomposed into) microservices.</span></span> <span data-ttu-id="48102-307">Pour atteindre ce stade, vous avez suivi la procédure liée aux microservices.</span><span class="sxs-lookup"><span data-stu-id="48102-307">To reach here, you have made the microservices journey.</span></span> <span data-ttu-id="48102-308">Vous pouvez commencer ici. Toutefois, effectuer cette opération sans l’aide d’une plate-forme de microservices demande un investissement important.</span><span class="sxs-lookup"><span data-stu-id="48102-308">You can start here, but to do this without a microservices platform to help you is a significant investment.</span></span> 

### <a name="are-microservices-right-for-my-application"></a><span data-ttu-id="48102-309">Les microservices conviennent-ils à mon application ?</span><span class="sxs-lookup"><span data-stu-id="48102-309">Are microservices right for my application?</span></span>
<span data-ttu-id="48102-310">Peut-être.</span><span class="sxs-lookup"><span data-stu-id="48102-310">Maybe.</span></span> <span data-ttu-id="48102-311">Nous avons constaté qu’étant donné que de plus en plus d’équipes Microsoft ont commencé à créer en gardant le cloud à l’esprit pour des raisons métier, nombre d’entre elles ont pris conscience des avantages d’une approche de microservices.</span><span class="sxs-lookup"><span data-stu-id="48102-311">What we experienced was that as more and more teams in Microsoft began to build for the cloud for business reasons, many of them realized the benefits of taking a microservice-like approach.</span></span> <span data-ttu-id="48102-312">Bing, par exemple, développe des microservices dans le domaine de la recherche depuis des années.</span><span class="sxs-lookup"><span data-stu-id="48102-312">Bing, for example, has been developing microservices in search for years.</span></span> <span data-ttu-id="48102-313">Pour les autres équipes, l’approche des microservices était une nouveauté.</span><span class="sxs-lookup"><span data-stu-id="48102-313">For other teams, the microservices approach was new.</span></span> <span data-ttu-id="48102-314">Les équipes trouvaient qu’il existait des problèmes difficiles à résoudre en dehors de leurs principaux domaines d’expertise.</span><span class="sxs-lookup"><span data-stu-id="48102-314">Teams found that there were hard problems to solve outside of their core areas of strength.</span></span> <span data-ttu-id="48102-315">C’est pourquoi Service Fabric est très populaire en tant que technologie pour créer des services.</span><span class="sxs-lookup"><span data-stu-id="48102-315">This is why Service Fabric gained traction as the technology of choice for building services.</span></span>

<span data-ttu-id="48102-316">L’objectif de Service Fabric consiste à réduire la complexité de la création d’applications avec une approche de microservices afin de vous éviter des refontes coûteuses.</span><span class="sxs-lookup"><span data-stu-id="48102-316">The objective of Service Fabric is to reduce the complexities of building applications with a microservice approach, so that you do not have to go through as many costly redesigns.</span></span> <span data-ttu-id="48102-317">Commencez petit, mettez à l’échelle lorsque c’est nécessaire, déconseillez les services inutiles, ajoutez-en de nouveaux, évoluez avec l’utilisation des clients, voilà l’approche à adopter.</span><span class="sxs-lookup"><span data-stu-id="48102-317">Start small, scale when needed, deprecate services, add new ones, and evolve with customer usage is the approach.</span></span> <span data-ttu-id="48102-318">Nous savons également qu’il existe de nombreux autres problèmes à résoudre pour que les microservices soient plus abordables pour la plupart des développeurs.</span><span class="sxs-lookup"><span data-stu-id="48102-318">We also know that there are many other problems yet to be solved to make microservices more approachable for most developers.</span></span> <span data-ttu-id="48102-319">Les conteneurs et le modèle de programmation Actor sont des exemples de petites étapes dans cette direction, et nous sommes persuadés que plusieurs innovations vont apparaître pour simplifier ce processus.</span><span class="sxs-lookup"><span data-stu-id="48102-319">Containers and the actor programming model are examples of small steps in that direction, and we are sure that more innovations will emerge to make this easier.</span></span>
 
<!--Every topic should have next steps and links to the next logical set of content to keep the customer engaged-->

## <a name="next-steps"></a><span data-ttu-id="48102-320">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="48102-320">Next steps</span></span>
* [<span data-ttu-id="48102-321">Présentation de la terminologie Service Fabric</span><span class="sxs-lookup"><span data-stu-id="48102-321">Service Fabric terminology overview</span></span>](service-fabric-technical-overview.md)
* [<span data-ttu-id="48102-322">Microservices: An application revolution powered by the cloud (Microservices : une approche révolutionnaire des applications reposant sur le cloud)</span><span class="sxs-lookup"><span data-stu-id="48102-322">Microservices: An application revolution powered by the cloud</span></span>](https://azure.microsoft.com/en-us/blog/microservices-an-application-revolution-powered-by-the-cloud/)

[Image1]: media/service-fabric-overview-microservices/monolithic-vs-micro.png
[Image2]: media/service-fabric-overview-microservices/statemonolithic-vs-micro.png
[Image3]: media/service-fabric-overview-microservices/microservices-migration.png
