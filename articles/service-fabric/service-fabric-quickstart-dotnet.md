---
title: aaaCreate une application .NET Service Fabric dans Azure | Documents Microsoft
description: "Créer une application .NET pour Azure à l’aide d’exemples de démarrage rapide Service Fabric hello."
services: service-fabric
documentationcenter: .net
author: mikkelhegn
manager: msfussell
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotNet
ms.topic: get-started
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/09/2017
ms.author: mikhegn
ms.openlocfilehash: 20ef88dbf9fb0def31234ef05679a19009b9b529
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="create-a-net-service-fabric-application-in-azure"></a><span data-ttu-id="adefa-103">Créer une application Service Fabric dans Azure</span><span class="sxs-lookup"><span data-stu-id="adefa-103">Create a .NET Service Fabric application in Azure</span></span>
<span data-ttu-id="adefa-104">Azure Service Fabric est une plateforme de systèmes distribués pour le déploiement et la gestion de microservices et conteneurs extensibles et fiables.</span><span class="sxs-lookup"><span data-stu-id="adefa-104">Azure Service Fabric is a distributed systems platform for deploying and managing scalable and reliable microservices and containers.</span></span> 

<span data-ttu-id="adefa-105">Ce démarrage rapide montre comment toodeploy votre tooService d’application .NET premier ensemble fibre optique.</span><span class="sxs-lookup"><span data-stu-id="adefa-105">This quickstart shows how toodeploy your first .NET application tooService Fabric.</span></span> <span data-ttu-id="adefa-106">Lorsque vous avez terminé, vous disposez d’une application de vote avec un serveur web ASP.NET Core frontal qui enregistre les résultats de vote dans un service principal avec état dans le cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="adefa-106">When you're finished, you have a voting application with an ASP.NET Core web front-end that saves voting results in a stateful back-end service in hello cluster.</span></span>

![Capture d’écran de l’application](./media/service-fabric-quickstart-dotnet/application-screenshot.png)

<span data-ttu-id="adefa-108">Cette application vous permet d’apprendre à :</span><span class="sxs-lookup"><span data-stu-id="adefa-108">Using this application you learn how to:</span></span>
> [!div class="checklist"]
> * <span data-ttu-id="adefa-109">Créer une application à l’aide de .NET et Service Fabric</span><span class="sxs-lookup"><span data-stu-id="adefa-109">Create an application using .NET and Service Fabric</span></span>
> * <span data-ttu-id="adefa-110">Utiliser ASP.NET Core en tant que service frontal web</span><span class="sxs-lookup"><span data-stu-id="adefa-110">Use ASP.NET core as a web front-end</span></span>
> * <span data-ttu-id="adefa-111">Stocker des données d’application dans un service avec état</span><span class="sxs-lookup"><span data-stu-id="adefa-111">Store application data in a stateful service</span></span>
> * <span data-ttu-id="adefa-112">Déboguez votre application localement</span><span class="sxs-lookup"><span data-stu-id="adefa-112">Debug your application locally</span></span>
> * <span data-ttu-id="adefa-113">Déployer un cluster tooa hello application dans Azure</span><span class="sxs-lookup"><span data-stu-id="adefa-113">Deploy hello application tooa cluster in Azure</span></span>
> * <span data-ttu-id="adefa-114">Application hello de montée en puissance parallèle sur plusieurs nœuds</span><span class="sxs-lookup"><span data-stu-id="adefa-114">Scale-out hello application across multiple nodes</span></span>
> * <span data-ttu-id="adefa-115">Effectuer une mise à niveau propagée d’application</span><span class="sxs-lookup"><span data-stu-id="adefa-115">Perform a rolling application upgrade</span></span>

## <a name="prerequisites"></a><span data-ttu-id="adefa-116">Composants requis</span><span class="sxs-lookup"><span data-stu-id="adefa-116">Prerequisites</span></span>
<span data-ttu-id="adefa-117">toocomplete ce démarrage rapide :</span><span class="sxs-lookup"><span data-stu-id="adefa-117">toocomplete this quickstart:</span></span>
1. <span data-ttu-id="adefa-118">[Installer Visual Studio 2017](https://www.visualstudio.com/) avec hello **le développement Azure** et **développement web ASP.NET et** les charges de travail.</span><span class="sxs-lookup"><span data-stu-id="adefa-118">[Install Visual Studio 2017](https://www.visualstudio.com/) with hello **Azure development** and **ASP.NET and web development** workloads.</span></span>
2. [<span data-ttu-id="adefa-119">Installez Git</span><span class="sxs-lookup"><span data-stu-id="adefa-119">Install Git</span></span>](https://git-scm.com/)
3. [<span data-ttu-id="adefa-120">Installer hello Microsoft Azure Service Fabric SDK</span><span class="sxs-lookup"><span data-stu-id="adefa-120">Install hello Microsoft Azure Service Fabric SDK</span></span>](http://www.microsoft.com/web/handlers/webpi.ashx?command=getinstallerredirect&appid=MicrosoftAzure-ServiceFabric-CoreSDK)
4. <span data-ttu-id="adefa-121">Exécutez hello suivant le cluster de l’infrastructure de Service local de commande tooenable Visual Studio toodeploy toohello :</span><span class="sxs-lookup"><span data-stu-id="adefa-121">Run hello following command tooenable Visual Studio toodeploy toohello local Service Fabric cluster:</span></span>
    ```powershell
    Set-ExecutionPolicy -ExecutionPolicy Unrestricted -Force -Scope CurrentUser
    ```

## <a name="download-hello-sample"></a><span data-ttu-id="adefa-122">Télécharger l’exemple hello</span><span class="sxs-lookup"><span data-stu-id="adefa-122">Download hello sample</span></span>
<span data-ttu-id="adefa-123">Dans une fenêtre de commande, exécutez hello suivant commande tooclone hello exemple application référentiel tooyour ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="adefa-123">In a command window, run hello following command tooclone hello sample app repository tooyour local machine.</span></span>
```
git clone https://github.com/Azure-Samples/service-fabric-dotnet-quickstart
```

## <a name="run-hello-application-locally"></a><span data-ttu-id="adefa-124">Exécutez hello application localement</span><span class="sxs-lookup"><span data-stu-id="adefa-124">Run hello application locally</span></span>
<span data-ttu-id="adefa-125">Icône de Visual Studio hello Bonjour Menu Démarrer d’avec le bouton droit et choisissez **exécuter en tant qu’administrateur**.</span><span class="sxs-lookup"><span data-stu-id="adefa-125">Right-click hello Visual Studio icon in hello Start Menu and choose **Run as administrator**.</span></span> <span data-ttu-id="adefa-126">Dans l’ordre tooattach hello débogueur tooyour les services, vous devez toorun Visual Studio en tant qu’administrateur.</span><span class="sxs-lookup"><span data-stu-id="adefa-126">In order tooattach hello debugger tooyour services, you need toorun Visual Studio as administrator.</span></span>

<span data-ttu-id="adefa-127">Ouvrez hello **Voting.sln** solution Visual Studio à partir du référentiel hello vous avez cloné.</span><span class="sxs-lookup"><span data-stu-id="adefa-127">Open hello **Voting.sln** Visual Studio solution from hello repository you cloned.</span></span>

<span data-ttu-id="adefa-128">application de hello toodeploy, appuyez sur **F5**.</span><span class="sxs-lookup"><span data-stu-id="adefa-128">toodeploy hello application, press **F5**.</span></span>

> [!NOTE]
> <span data-ttu-id="adefa-129">Hello la première fois que vous exécutez et déployez l’application hello, Visual Studio crée un cluster local pour le débogage.</span><span class="sxs-lookup"><span data-stu-id="adefa-129">hello first time you run and deploy hello application, Visual Studio creates a local cluster for debugging.</span></span> <span data-ttu-id="adefa-130">Cette opération peut prendre un certain temps.</span><span class="sxs-lookup"><span data-stu-id="adefa-130">This operation may take some time.</span></span> <span data-ttu-id="adefa-131">état de la création de cluster Hello s’affiche dans la fenêtre de sortie de Visual Studio hello.</span><span class="sxs-lookup"><span data-stu-id="adefa-131">hello cluster creation status is displayed in hello Visual Studio output window.</span></span>

<span data-ttu-id="adefa-132">Lorsque le déploiement de hello est terminé, lancer un navigateur et ouvrir cette page : `http://localhost:8080` -hello frontal web d’application hello.</span><span class="sxs-lookup"><span data-stu-id="adefa-132">When hello deployment is complete, launch a browser and open this page: `http://localhost:8080` - hello web front-end of hello application.</span></span>

![Frontal de l’application](./media/service-fabric-quickstart-dotnet/application-screenshot-new.png)

<span data-ttu-id="adefa-134">Vous pouvez à présent ajouter un ensemble d’options de vote et commencer à enregistrer les votes.</span><span class="sxs-lookup"><span data-stu-id="adefa-134">You can now add a set of voting options, and start taking votes.</span></span> <span data-ttu-id="adefa-135">application Hello s’exécute et stocke toutes les données de votre cluster Service Fabric, sans avoir besoin de hello pour une base de données distincte.</span><span class="sxs-lookup"><span data-stu-id="adefa-135">hello application runs and stores all data in your Service Fabric cluster, without hello need for a separate database.</span></span>

## <a name="walk-through-hello-voting-sample-application"></a><span data-ttu-id="adefa-136">Parcourez hello vote exemple d’application</span><span class="sxs-lookup"><span data-stu-id="adefa-136">Walk through hello voting sample application</span></span>
<span data-ttu-id="adefa-137">Hello vote application se compose de deux services :</span><span class="sxs-lookup"><span data-stu-id="adefa-137">hello voting application consists of two services:</span></span>
- <span data-ttu-id="adefa-138">Web service frontal (VotingWeb) - An ASP.NET Core web service frontal, qui sert de page web de hello et expose web toocommunicate API avec le service principal de hello.</span><span class="sxs-lookup"><span data-stu-id="adefa-138">Web front-end service (VotingWeb)- An ASP.NET Core web front-end service, which serves hello web page and exposes web APIs toocommunicate with hello backend service.</span></span>
- <span data-ttu-id="adefa-139">Le service principal (VotingData)-service web An ASP.NET Core, qui expose un vote de hello API toostore entraîne un dictionnaire fiable rendues persistantes sur disque.</span><span class="sxs-lookup"><span data-stu-id="adefa-139">Back-end service (VotingData)- An ASP.NET Core web service, which exposes an API toostore hello vote results in a reliable dictionary persisted on disk.</span></span>

![Diagramme de l’application](./media/service-fabric-quickstart-dotnet/application-diagram.png)

<span data-ttu-id="adefa-141">Lorsque vous marquez Bonjour d’application hello suivant se produisent :</span><span class="sxs-lookup"><span data-stu-id="adefa-141">When you vote in hello application hello following events occur:</span></span>
1. <span data-ttu-id="adefa-142">Un code JavaScript envoie des API du web hello vote demande toohello dans le service frontal hello web comme une demande HTTP PUT.</span><span class="sxs-lookup"><span data-stu-id="adefa-142">A JavaScript sends hello vote request toohello web API in hello web front-end service as an HTTP PUT request.</span></span>

2. <span data-ttu-id="adefa-143">service de Hello web frontal utilise un toolocate proxy et transférer un service de serveur principal de toohello demande HTTP PUT.</span><span class="sxs-lookup"><span data-stu-id="adefa-143">hello web front-end service uses a proxy toolocate and forward an HTTP PUT request toohello back-end service.</span></span>

3. <span data-ttu-id="adefa-144">service principal de Hello accepte la demande entrante de hello et magasins hello mis à jour le résultat dans un dictionnaire fiable, qui obtient les nœuds toomultiple répliquées au sein du cluster de hello et rendues persistantes sur disque.</span><span class="sxs-lookup"><span data-stu-id="adefa-144">hello back-end service takes hello incoming request, and stores hello updated result in a reliable dictionary, which gets replicated toomultiple nodes within hello cluster and persisted on disk.</span></span> <span data-ttu-id="adefa-145">Données de l’application hello toutes les sont stockées dans le cluster de hello, donc aucune base de données n’est nécessaire.</span><span class="sxs-lookup"><span data-stu-id="adefa-145">All hello application's data is stored in hello cluster, so no database is needed.</span></span>

## <a name="debug-in-visual-studio"></a><span data-ttu-id="adefa-146">Déboguer dans Visual Studio</span><span class="sxs-lookup"><span data-stu-id="adefa-146">Debug in Visual Studio</span></span>
<span data-ttu-id="adefa-147">Lors du débogage d’application dans Visual Studio, vous utilisez un cluster de développement Service Fabric local.</span><span class="sxs-lookup"><span data-stu-id="adefa-147">When debugging application in Visual Studio, you are using a local Service Fabric development cluster.</span></span> <span data-ttu-id="adefa-148">Vous avez hello option tooadjust votre scénario de tooyour expérience de débogage.</span><span class="sxs-lookup"><span data-stu-id="adefa-148">You have hello option tooadjust your debugging experience tooyour scenario.</span></span> <span data-ttu-id="adefa-149">Dans cette application, nous stockons les données dans notre service principal à l’aide d’un dictionnaire fiable.</span><span class="sxs-lookup"><span data-stu-id="adefa-149">In this application, we store data in our back-end service, using a reliable dictionary.</span></span> <span data-ttu-id="adefa-150">Visual Studio supprime l’application hello par défaut lorsque vous arrêtez le débogueur de hello.</span><span class="sxs-lookup"><span data-stu-id="adefa-150">Visual Studio removes hello application per default when you stop hello debugger.</span></span> <span data-ttu-id="adefa-151">Suppression de l’application hello entraîne les données hello dans hello principal service tooalso être supprimé.</span><span class="sxs-lookup"><span data-stu-id="adefa-151">Removing hello application causes hello data in hello back-end service tooalso be removed.</span></span> <span data-ttu-id="adefa-152">les données de salutation toopersist entre les sessions de débogage, vous pouvez modifier hello **Mode de débogage d’Application** en tant que propriété sur hello **vote** projet dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="adefa-152">toopersist hello data between debugging sessions, you can change hello **Application Debug Mode** as a property on hello **Voting** project in Visual Studio.</span></span>

<span data-ttu-id="adefa-153">toolook à ce qui se passe dans le code hello, hello complète comme suit :</span><span class="sxs-lookup"><span data-stu-id="adefa-153">toolook at what happens in hello code, complete hello following steps:</span></span>
1. <span data-ttu-id="adefa-154">Ouvrez hello **VotesController.cs** de fichiers et de définir un point d’arrêt dans l’API web de hello **Put** méthode (ligne 47) - vous pouvez rechercher des fichiers hello Bonjour l’Explorateur de solutions dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="adefa-154">Open hello **VotesController.cs** file and set a breakpoint in hello web API's **Put** method (line 47) - You can search for hello file in hello Solution Explorer in Visual Studio.</span></span>

2. <span data-ttu-id="adefa-155">Ouvrez hello **VoteDataController.cs** de fichiers et de définir un point d’arrêt dans cette API web **Put** (méthode) (ligne 50).</span><span class="sxs-lookup"><span data-stu-id="adefa-155">Open hello **VoteDataController.cs** file and set a breakpoint in this web API's **Put** method (line 50).</span></span>

3. <span data-ttu-id="adefa-156">Revenir en arrière toohello navigateur et cliquez sur une option de vote ou ajouter une nouvelle option de vote.</span><span class="sxs-lookup"><span data-stu-id="adefa-156">Go back toohello browser and click a voting option or add a new voting option.</span></span> <span data-ttu-id="adefa-157">Vous avez atteint le premier point d’arrêt à la hello dans le contrôleur d’api de hello web frontal.</span><span class="sxs-lookup"><span data-stu-id="adefa-157">You hit hello first breakpoint in hello web front-end's api controller.</span></span>
    - <span data-ttu-id="adefa-158">Il s’agit où hello JavaScript dans le navigateur de hello envoie un contrôleur d’API web demande toohello dans le service frontal hello.</span><span class="sxs-lookup"><span data-stu-id="adefa-158">This is where hello JavaScript in hello browser sends a request toohello web API controller in hello front-end service.</span></span>
    
    ![Ajouter un service de vote frontend](./media/service-fabric-quickstart-dotnet/addvote-frontend.png)

    - <span data-ttu-id="adefa-160">Tout d’abord, nous construisons hello URL toohello ReverseProxy pour notre service principal **(1)**.</span><span class="sxs-lookup"><span data-stu-id="adefa-160">First we construct hello URL toohello ReverseProxy for our back-end service **(1)**.</span></span>
    - <span data-ttu-id="adefa-161">Puis nous envoyer hello la demande HTTP PUT toohello ReverseProxy **(2)**.</span><span class="sxs-lookup"><span data-stu-id="adefa-161">Then we send hello HTTP PUT Request toohello ReverseProxy **(2)**.</span></span>
    - <span data-ttu-id="adefa-162">Enfin hello nous retourner hello réponse à partir du client de toohello hello service principal **(3)**.</span><span class="sxs-lookup"><span data-stu-id="adefa-162">Finally hello we return hello response from hello back-end service toohello client **(3)**.</span></span>

4. <span data-ttu-id="adefa-163">Appuyez sur **F5** toocontinue</span><span class="sxs-lookup"><span data-stu-id="adefa-163">Press **F5** toocontinue</span></span>
    - <span data-ttu-id="adefa-164">Vous êtes maintenant au point d’arrêt hello dans le service principal hello.</span><span class="sxs-lookup"><span data-stu-id="adefa-164">You are now at hello break point in hello back-end service.</span></span>
    
    ![Ajouter un service de vote backend](./media/service-fabric-quickstart-dotnet/addvote-backend.png)

    - <span data-ttu-id="adefa-166">Dans la première ligne de hello dans la méthode hello **(1)** , nous utilisons hello `StateManager` tooget ou ajoutez un dictionnaire fiable appelé `counts`.</span><span class="sxs-lookup"><span data-stu-id="adefa-166">In hello first line in hello method **(1)** we are using hello `StateManager` tooget or add a reliable dictionary called `counts`.</span></span>
    - <span data-ttu-id="adefa-167">Toutes les interactions avec des valeurs d’un dictionnaire fiable requièrent une transaction. Cette instruction using **(2)** crée cette transaction.</span><span class="sxs-lookup"><span data-stu-id="adefa-167">All interactions with values in a reliable dictionary require a transaction, this using statement **(2)** creates that transaction.</span></span>
    - <span data-ttu-id="adefa-168">Transaction de hello, nous puis mettre à jour valeur clé hello des hello vote option hello et validations hello opération **(3)**.</span><span class="sxs-lookup"><span data-stu-id="adefa-168">In hello transaction, we then update hello value of hello relevant key for hello voting option and commits hello operation **(3)**.</span></span> <span data-ttu-id="adefa-169">Une fois la validation de hello méthode est retournée, hello données sont mise à jour dans le dictionnaire de hello et répliquées tooother des nœuds de cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="adefa-169">Once hello commit method returns, hello data is updated in hello dictionary and replicated tooother nodes in hello cluster.</span></span> <span data-ttu-id="adefa-170">les données de salutation sont maintenant stockées en toute sécurité dans un cluster de hello et service principal de hello peut échouer sur les nœuds tooother, que les données hello disponibles.</span><span class="sxs-lookup"><span data-stu-id="adefa-170">hello data is now safely stored in hello cluster, and hello back-end service can fail over tooother nodes, still having hello data available.</span></span>
5. <span data-ttu-id="adefa-171">Appuyez sur **F5** toocontinue</span><span class="sxs-lookup"><span data-stu-id="adefa-171">Press **F5** toocontinue</span></span>

<span data-ttu-id="adefa-172">hello toostop session, appuyez sur le débogage **MAJ + F5**.</span><span class="sxs-lookup"><span data-stu-id="adefa-172">toostop hello debugging session, press **Shift+F5**.</span></span>

## <a name="deploy-hello-application-tooazure"></a><span data-ttu-id="adefa-173">Déployer hello application tooAzure</span><span class="sxs-lookup"><span data-stu-id="adefa-173">Deploy hello application tooAzure</span></span>
<span data-ttu-id="adefa-174">cluster de tooa application toodeploy hello dans Azure, vous pouvez choisir toocreate votre propre cluster, ou utilisez un Cluster de tiers.</span><span class="sxs-lookup"><span data-stu-id="adefa-174">toodeploy hello application tooa cluster in Azure, you can either choose toocreate your own cluster, or use a Party Cluster.</span></span>

<span data-ttu-id="adefa-175">Clusters tiers sont des clusters Service Fabric gratuites et limitée dans le temps hébergé sur Azure et exécuté par l’équipe de Service Fabric hello où tout le monde peut déployer des applications et en savoir plus sur la plateforme de hello.</span><span class="sxs-lookup"><span data-stu-id="adefa-175">Party clusters are free, limited-time Service Fabric clusters hosted on Azure and run by hello Service Fabric team where anyone can deploy applications and learn about hello platform.</span></span> <span data-ttu-id="adefa-176">tooget accès tooa tiers Cluster, [suivez les instructions de hello](http://aka.ms/tryservicefabric).</span><span class="sxs-lookup"><span data-stu-id="adefa-176">tooget access tooa Party Cluster, [follow hello instructions](http://aka.ms/tryservicefabric).</span></span> 

<span data-ttu-id="adefa-177">Pour plus d’informations sur la création de votre propre cluster, voir [Créer votre premier cluster Service Fabric sur Azure](service-fabric-get-started-azure-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="adefa-177">For information about creating your own cluster, see [Create your first Service Fabric cluster on Azure](service-fabric-get-started-azure-cluster.md).</span></span>

> [!Note]
> <span data-ttu-id="adefa-178">service de Hello web frontal est toolisten configuré sur le port 8080 pour le trafic entrant.</span><span class="sxs-lookup"><span data-stu-id="adefa-178">hello web front-end service is configured toolisten on port 8080 for incoming traffic.</span></span> <span data-ttu-id="adefa-179">Assurez-vous que ce port est ouvert dans votre cluster.</span><span class="sxs-lookup"><span data-stu-id="adefa-179">Make sure that port is open in your cluster.</span></span> <span data-ttu-id="adefa-180">Si vous utilisez hello tiers Cluster, ce port est ouvert.</span><span class="sxs-lookup"><span data-stu-id="adefa-180">If you are using hello Party Cluster, this port is open.</span></span>
>

### <a name="deploy-hello-application-using-visual-studio"></a><span data-ttu-id="adefa-181">Déployer l’application hello à l’aide de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="adefa-181">Deploy hello application using Visual Studio</span></span>
<span data-ttu-id="adefa-182">Maintenant que l’application hello est prête, vous pouvez la déployer cluster tooa directement à partir de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="adefa-182">Now that hello application is ready, you can deploy it tooa cluster directly from Visual Studio.</span></span>

1. <span data-ttu-id="adefa-183">Avec le bouton droit **vote** dans hello l’Explorateur de solutions et choisissez **publier**.</span><span class="sxs-lookup"><span data-stu-id="adefa-183">Right-click **Voting** in hello Solution Explorer and choose **Publish**.</span></span> <span data-ttu-id="adefa-184">boîte de dialogue Publier Hello s’affiche.</span><span class="sxs-lookup"><span data-stu-id="adefa-184">hello Publish dialog appears.</span></span>

    ![Boîte de dialogue Publier](./media/service-fabric-quickstart-dotnet/publish-app.png)

2. <span data-ttu-id="adefa-186">Type Bonjour point de terminaison de connexion de cluster hello Bonjour **connexion de point de terminaison** champ et cliquez sur **publier**.</span><span class="sxs-lookup"><span data-stu-id="adefa-186">Type in hello Connection Endpoint of hello cluster in hello **Connection Endpoint** field and click **Publish**.</span></span> <span data-ttu-id="adefa-187">Lors de l’inscription pour hello tiers Cluster, hello connexion de point de terminaison est fourni dans le navigateur de hello.</span><span class="sxs-lookup"><span data-stu-id="adefa-187">When signing up for hello Party Cluster, hello Connection Endpoint is provided in hello browser.</span></span> <span data-ttu-id="adefa-188">- par exemple, `winh1x87d1d.westus.cloudapp.azure.com:19000`.</span><span class="sxs-lookup"><span data-stu-id="adefa-188">- for example, `winh1x87d1d.westus.cloudapp.azure.com:19000`.</span></span>

3. <span data-ttu-id="adefa-189">Ouvrez un navigateur et tapez dans l’adresse du cluster hello - par exemple, `http://winh1x87d1d.westus.cloudapp.azure.com`.</span><span class="sxs-lookup"><span data-stu-id="adefa-189">Open a browser and type in hello cluster address - for example, `http://winh1x87d1d.westus.cloudapp.azure.com`.</span></span> <span data-ttu-id="adefa-190">Vous devez maintenant voir application hello en cours d’exécution dans un cluster hello dans Azure.</span><span class="sxs-lookup"><span data-stu-id="adefa-190">You should now see hello application running in hello cluster in Azure.</span></span>

![Frontal de l’application](./media/service-fabric-quickstart-dotnet/application-screenshot-new-azure.png)

## <a name="scale-applications-and-services-in-a-cluster"></a><span data-ttu-id="adefa-192">Mettre à l’échelle les applications et services dans un cluster</span><span class="sxs-lookup"><span data-stu-id="adefa-192">Scale applications and services in a cluster</span></span>
<span data-ttu-id="adefa-193">Services de Fabric de service peuvent facilement être distribuées sur un tooaccommodate de cluster pour une modification dans la charge sur les services de hello hello.</span><span class="sxs-lookup"><span data-stu-id="adefa-193">Service Fabric services can easily be scaled across a cluster tooaccommodate for a change in hello load on hello services.</span></span> <span data-ttu-id="adefa-194">Mettre à l’échelle un service en modifiant le nombre de hello d’instances en cours d’exécution dans un cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="adefa-194">You scale a service by changing hello number of instances running in hello cluster.</span></span> <span data-ttu-id="adefa-195">Plusieurs méthodes sont disponibles pour mettre à l’échelle vos services. Vous pouvez utiliser des scripts ou des commandes de PowerShell ou de l’interface CLI de Service Fabric (sfctl).</span><span class="sxs-lookup"><span data-stu-id="adefa-195">You have multiple ways of scaling your services, you can use scripts or commands from PowerShell or Service Fabric CLI (sfctl).</span></span> <span data-ttu-id="adefa-196">Dans cet exemple, nous utilisons Service Fabric Explorer.</span><span class="sxs-lookup"><span data-stu-id="adefa-196">In this example, we are using Service Fabric Explorer.</span></span>

<span data-ttu-id="adefa-197">Service Fabric Explorer s’exécute dans tous les clusters Service Fabric et est accessible à partir d’un navigateur, en parcourant le port de gestion de clusters HTTP toohello (19080), par exemple, `http://winh1x87d1d.westus.cloudapp.azure.com:19080`.</span><span class="sxs-lookup"><span data-stu-id="adefa-197">Service Fabric Explorer runs in all Service Fabric clusters and can be accessed from a browser, by browsing toohello clusters HTTP management port (19080), for example, `http://winh1x87d1d.westus.cloudapp.azure.com:19080`.</span></span>

<span data-ttu-id="adefa-198">tooscale hello service frontal web, procédez comme hello comme suit :</span><span class="sxs-lookup"><span data-stu-id="adefa-198">tooscale hello web front-end service, do hello following steps:</span></span>

1. <span data-ttu-id="adefa-199">Ouvrez Service Fabric Explorer dans votre cluster. Par exemple, `http://winh1x87d1d.westus.cloudapp.azure.com:19080`.</span><span class="sxs-lookup"><span data-stu-id="adefa-199">Open Service Fabric Explorer in your cluster - for example,`http://winh1x87d1d.westus.cloudapp.azure.com:19080`.</span></span>
2. <span data-ttu-id="adefa-200">Cliquez sur toohello suivant de points de suspension (trois points) hello **fabric : / vote/VotingWeb** nœud hello treeview et choisissez **Service de mise à l’échelle**.</span><span class="sxs-lookup"><span data-stu-id="adefa-200">Click on hello ellipsis (three dots) next toohello **fabric:/Voting/VotingWeb** node in hello treeview and choose **Scale Service**.</span></span>

    ![Service Fabric Explorer](./media/service-fabric-quickstart-dotnet/service-fabric-explorer-scale.png)

    <span data-ttu-id="adefa-202">Vous pouvez maintenant choisir le nombre de hello tooscale d’instances de service de hello web frontal.</span><span class="sxs-lookup"><span data-stu-id="adefa-202">You can now choose tooscale hello number of instances of hello web front-end service.</span></span>

3. <span data-ttu-id="adefa-203">Modifier le nombre de hello trop**2** et cliquez sur **Service de mise à l’échelle**.</span><span class="sxs-lookup"><span data-stu-id="adefa-203">Change hello number too**2** and click **Scale Service**.</span></span>
4. <span data-ttu-id="adefa-204">Cliquez sur hello **fabric : / vote/VotingWeb** nœud hello arborescence et développez le nœud de partition hello (représenté par un GUID).</span><span class="sxs-lookup"><span data-stu-id="adefa-204">Click on hello **fabric:/Voting/VotingWeb** node in hello tree-view and expand hello partition node (represented by a GUID).</span></span>

    ![Mettre à l’échelle le service dans Service Fabric Explorer](./media/service-fabric-quickstart-dotnet/service-fabric-explorer-scaled-service.png)

    <span data-ttu-id="adefa-206">Vous pouvez maintenant voir que service de hello possède deux instances, et dans l’arborescence de hello, vous voyez les nœuds hello instances s’exécutent sur.</span><span class="sxs-lookup"><span data-stu-id="adefa-206">You can now see that hello service has two instances, and in hello tree view you see which nodes hello instances run on.</span></span>

<span data-ttu-id="adefa-207">Par cette tâche de gestion simple, nous avons doublé ressources hello disponibles pour la charge utilisateur tooprocess de notre service frontal.</span><span class="sxs-lookup"><span data-stu-id="adefa-207">By this simple management task, we doubled hello resources available for our front-end service tooprocess user load.</span></span> <span data-ttu-id="adefa-208">Il est important toounderstand que vous n’avez pas besoin de plusieurs instances d’un toohave service fonctionner de manière fiable.</span><span class="sxs-lookup"><span data-stu-id="adefa-208">It's important toounderstand that you do not need multiple instances of a service toohave it run reliably.</span></span> <span data-ttu-id="adefa-209">Si un service échoue, l’infrastructure de Service permet de s’assurer de qu'une nouvelle instance de service s’exécute dans un cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="adefa-209">If a service fails, Service Fabric makes sure a new service instance runs in hello cluster.</span></span>

## <a name="perform-a-rolling-application-upgrade"></a><span data-ttu-id="adefa-210">Effectuer une mise à niveau propagée d’application</span><span class="sxs-lookup"><span data-stu-id="adefa-210">Perform a rolling application upgrade</span></span>
<span data-ttu-id="adefa-211">Lorsque vous déployez la nouvelle application tooyour de mises à jour, Service Fabric déploie les mises à jour hello d’une façon sécurisée.</span><span class="sxs-lookup"><span data-stu-id="adefa-211">When deploying new updates tooyour application, Service Fabric rolls out hello update in a safe way.</span></span> <span data-ttu-id="adefa-212">Les mises à niveau propagées n’occasionnent aucun temps d'arrêt, et assurent une restauration automatique en cas d’erreur.</span><span class="sxs-lookup"><span data-stu-id="adefa-212">Rolling upgrades gives you no downtime while upgrading as well as automated rollback should errors occur.</span></span>

<span data-ttu-id="adefa-213">tooupgrade hello application, procédez comme hello suivant :</span><span class="sxs-lookup"><span data-stu-id="adefa-213">tooupgrade hello application, do hello following:</span></span>

1. <span data-ttu-id="adefa-214">Ouvrez hello **Index.cshtml** fichier dans Visual Studio - vous pouvez rechercher fichier hello Bonjour l’Explorateur de solutions dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="adefa-214">Open hello **Index.cshtml** file in Visual Studio - You can search for hello file in hello Solution Explorer in Visual Studio.</span></span>
2. <span data-ttu-id="adefa-215">Modifier le titre hello sur la page de hello en ajoutant du texte - par exemple.</span><span class="sxs-lookup"><span data-stu-id="adefa-215">Change hello heading on hello page by adding some text - for example.</span></span>
    ```html
        <div class="col-xs-8 col-xs-offset-2 text-center">
            <h2>Service Fabric Voting Sample v2</h2>
        </div>
    ```
3. <span data-ttu-id="adefa-216">Enregistrez le fichier de hello.</span><span class="sxs-lookup"><span data-stu-id="adefa-216">Save hello file.</span></span>
4. <span data-ttu-id="adefa-217">Avec le bouton droit **vote** dans hello l’Explorateur de solutions et choisissez **publier**.</span><span class="sxs-lookup"><span data-stu-id="adefa-217">Right-click **Voting** in hello Solution Explorer and choose **Publish**.</span></span> <span data-ttu-id="adefa-218">boîte de dialogue Publier Hello s’affiche.</span><span class="sxs-lookup"><span data-stu-id="adefa-218">hello Publish dialog appears.</span></span>
5. <span data-ttu-id="adefa-219">Cliquez sur hello **Version de manifeste** version de hello toochange bouton de hello service et application.</span><span class="sxs-lookup"><span data-stu-id="adefa-219">Click hello **Manifest Version** button toochange hello version of hello service and application.</span></span>
6. <span data-ttu-id="adefa-220">Modifier la version de hello hello **Code** élément sous **VotingWebPkg** trop « 2.0.0 », par exemple, cliquez sur **enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="adefa-220">Change hello version of hello **Code** element under **VotingWebPkg** too"2.0.0", for example, and click **Save**.</span></span>

    ![Boîte de dialogue Modifier la version](./media/service-fabric-quickstart-dotnet/change-version.png)
7. <span data-ttu-id="adefa-222">Bonjour **publier une Application de Service Fabric** boîte de dialogue, cocher hello hello mise à niveau Application case à cocher, puis cliquez sur **publier**.</span><span class="sxs-lookup"><span data-stu-id="adefa-222">In hello **Publish Service Fabric Application** dialog, check hello Upgrade hello Application checkbox, and click **Publish**.</span></span>

    ![Paramètre Mettre à niveau dans la boîte de dialogue Publier](./media/service-fabric-quickstart-dotnet/upgrade-app.png)
8. <span data-ttu-id="adefa-224">Ouvrez votre navigateur et accédez toohello adresse du cluster sur le port 19080 - par exemple, `http://winh1x87d1d.westus.cloudapp.azure.com:19080`.</span><span class="sxs-lookup"><span data-stu-id="adefa-224">Open your browser and browse toohello cluster address on port 19080 - for example, `http://winh1x87d1d.westus.cloudapp.azure.com:19080`.</span></span>
9. <span data-ttu-id="adefa-225">Cliquez sur hello **Applications** nœud dans l’arborescence de hello, puis **mises à niveau en cours d’exécution** dans le volet de droite hello.</span><span class="sxs-lookup"><span data-stu-id="adefa-225">Click on hello **Applications** node in hello tree view, and then **Upgrades in Progress** in hello right-hand pane.</span></span> <span data-ttu-id="adefa-226">Vous voyez la mise à niveau hello restaure dans les domaines de mise à niveau hello dans votre cluster, vous assurant que chaque domaine est sain avant de continuer toohello ensuite.</span><span class="sxs-lookup"><span data-stu-id="adefa-226">You see how hello upgrade rolls through hello upgrade domains in your cluster, making sure each domain is healthy before proceeding toohello next.</span></span>
    <span data-ttu-id="adefa-227">![Vue Mise à niveau dans mise à niveau de logiciel](./media/service-fabric-quickstart-dotnet/upgrading.png)</span><span class="sxs-lookup"><span data-stu-id="adefa-227">![Upgrade View in Service Fabric Explorer](./media/service-fabric-quickstart-dotnet/upgrading.png)</span></span>

    <span data-ttu-id="adefa-228">Service Fabric rend les mises à niveau sécurisé en attendant de deux minutes après la mise à niveau de service hello sur chaque nœud de cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="adefa-228">Service Fabric makes upgrades safe by waiting two minutes after upgrading hello service on each node in hello cluster.</span></span> <span data-ttu-id="adefa-229">Attendez hello mise à jour complète tootake environ huit minutes.</span><span class="sxs-lookup"><span data-stu-id="adefa-229">Expect hello entire update tootake approximately eight minutes.</span></span>

10. <span data-ttu-id="adefa-230">Lors de la mise à niveau hello est en cours d’exécution, vous pouvez toujours utiliser l’application hello.</span><span class="sxs-lookup"><span data-stu-id="adefa-230">While hello upgrade is running, you can still use hello application.</span></span> <span data-ttu-id="adefa-231">Étant donné que vous disposez de deux instances de service hello en cours d’exécution dans un cluster de hello, certaines de vos demandes peuvent obtenir une version mise à niveau de l’application hello, tandis que d’autres utilisateurs peuvent obtenir l’ancienne hello.</span><span class="sxs-lookup"><span data-stu-id="adefa-231">Because you have two instances of hello service running in hello cluster, some of your requests may get an upgraded version of hello application, while others may still get hello old version.</span></span>

## <a name="next-steps"></a><span data-ttu-id="adefa-232">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="adefa-232">Next steps</span></span>
<span data-ttu-id="adefa-233">Dans ce démarrage rapide, vous avez appris comment :</span><span class="sxs-lookup"><span data-stu-id="adefa-233">In this quickstart, you learned how to:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="adefa-234">Créer une application à l’aide de .NET et Service Fabric</span><span class="sxs-lookup"><span data-stu-id="adefa-234">Create an application using .NET and Service Fabric</span></span>
> * <span data-ttu-id="adefa-235">Utiliser ASP.NET Core en tant que service frontal web</span><span class="sxs-lookup"><span data-stu-id="adefa-235">Use ASP.NET core as a web front-end</span></span>
> * <span data-ttu-id="adefa-236">Stocker des données d’application dans un service avec état</span><span class="sxs-lookup"><span data-stu-id="adefa-236">Store application data in a stateful service</span></span>
> * <span data-ttu-id="adefa-237">Déboguez votre application localement</span><span class="sxs-lookup"><span data-stu-id="adefa-237">Debug your application locally</span></span>
> * <span data-ttu-id="adefa-238">Déployer un cluster tooa hello application dans Azure</span><span class="sxs-lookup"><span data-stu-id="adefa-238">Deploy hello application tooa cluster in Azure</span></span>
> * <span data-ttu-id="adefa-239">Application hello de montée en puissance parallèle sur plusieurs nœuds</span><span class="sxs-lookup"><span data-stu-id="adefa-239">Scale-out hello application across multiple nodes</span></span>
> * <span data-ttu-id="adefa-240">Effectuer une mise à niveau propagée d’application</span><span class="sxs-lookup"><span data-stu-id="adefa-240">Perform a rolling application upgrade</span></span>

<span data-ttu-id="adefa-241">toolearn en savoir plus sur le Service Fabric et .NET, examinons ce didacticiel :</span><span class="sxs-lookup"><span data-stu-id="adefa-241">toolearn more about Service Fabric and .NET, take a look at this tutorial:</span></span>
> [!div class="nextstepaction"]
> [<span data-ttu-id="adefa-242">Application .NET sur Service Fabric</span><span class="sxs-lookup"><span data-stu-id="adefa-242">.NET application on Service Fabric</span></span>](service-fabric-tutorial-create-dotnet-app.md)