---
title: "aaaSet d’intégration continue d’Azure microservices | Documents Microsoft"
description: "Obtenir une vue d’ensemble de la façon tooset d’intégration continue et de déploiement pour une application de Service Fabric à l’aide de Visual Studio Team Services (VSTS)."
services: service-fabric
documentationcenter: na
author: mthalman-msft
manager: timlt
editor: 
ms.assetid: 3e8c2290-9e7a-456a-9b2c-db44d1b3988d
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 12/06/2016
ms.author: mthalman;mikhegn
ms.openlocfilehash: 041e081f4a42f379394f2d21f07db4f6de045b24
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="set-up-service-fabric-continuous-integration-and-deployment-with-visual-studio-team-services"></a><span data-ttu-id="6538c-103">Configurer l’intégration et le déploiement continus de Service Fabric avec Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="6538c-103">Set up Service Fabric continuous integration and deployment with Visual Studio Team Services</span></span>
<span data-ttu-id="6538c-104">Cet article décrit tooset d’étapes hello d’intégration continue et de déploiement pour une application Azure Service Fabric à l’aide de Visual Studio Team Services (VSTS).</span><span class="sxs-lookup"><span data-stu-id="6538c-104">This article describes hello steps tooset up continuous integration and deployment for an Azure Service Fabric application by using Visual Studio Team Services (VSTS).</span></span>

<span data-ttu-id="6538c-105">Ce document reflète la procédure en cours hello et toochange attendue au fil du temps.</span><span class="sxs-lookup"><span data-stu-id="6538c-105">This document reflects hello current procedure and is expected toochange over time.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="6538c-106">Composants requis</span><span class="sxs-lookup"><span data-stu-id="6538c-106">Prerequisites</span></span>
<span data-ttu-id="6538c-107">tooget démarré, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="6538c-107">tooget started, follow these steps:</span></span>

1. <span data-ttu-id="6538c-108">Assurez-vous d’avoir accès tooa Team Services compte ou [créer un](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services) vous-même.</span><span class="sxs-lookup"><span data-stu-id="6538c-108">Ensure that you have access tooa Team Services account or [create one](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services) yourself.</span></span>
2. <span data-ttu-id="6538c-109">Vérifiez que vous disposez de projet d’équipe Team Services accès tooa ou [créer un](https://www.visualstudio.com/docs/setup-admin/create-team-project) vous-même.</span><span class="sxs-lookup"><span data-stu-id="6538c-109">Ensure that you have access tooa Team Services team project or [create one](https://www.visualstudio.com/docs/setup-admin/create-team-project) yourself.</span></span>
3. <span data-ttu-id="6538c-110">Assurez-vous d’avoir un toowhich de cluster Service Fabric, vous pouvez déployer votre application ou créez-en un à l’aide de hello [portail Azure](service-fabric-cluster-creation-via-portal.md), un [modèle Azure Resource Manager](service-fabric-cluster-creation-via-arm.md), ou [Visual Studio ](service-fabric-cluster-creation-via-visual-studio.md).</span><span class="sxs-lookup"><span data-stu-id="6538c-110">Ensure that you have a Service Fabric cluster toowhich you can deploy your application or create one using hello [Azure portal](service-fabric-cluster-creation-via-portal.md), an [Azure Resource Manager template](service-fabric-cluster-creation-via-arm.md), or [Visual Studio](service-fabric-cluster-creation-via-visual-studio.md).</span></span>
4. <span data-ttu-id="6538c-111">Vérifiez qu’un projet d’application Service Fabric (.sfproj) a été créé.</span><span class="sxs-lookup"><span data-stu-id="6538c-111">Ensure that you have already created a Service Fabric Application (.sfproj) project.</span></span> <span data-ttu-id="6538c-112">Vous devez disposer d’un projet qui a été créé ou mis à niveau avec le Service Fabric SDK 2.1 ou version ultérieure (fichier de .sfproj hello doit contenir une valeur de propriété ProjectVersion 1.1 ou version ultérieure).</span><span class="sxs-lookup"><span data-stu-id="6538c-112">You must have a project that was created or upgraded with Service Fabric SDK 2.1 or higher (hello .sfproj file should contain a ProjectVersion property value of 1.1 or higher).</span></span>

> [!NOTE]
> <span data-ttu-id="6538c-113">Les agents de build personnalisés ne sont plus nécessaires.</span><span class="sxs-lookup"><span data-stu-id="6538c-113">Custom build agents are no longer required.</span></span> <span data-ttu-id="6538c-114">Les agents hébergés par Team Services sont désormais installés au préalable avec le logiciel de gestion du cluster Service Fabric, ce qui permet le déploiement de vos applications depuis ces agents, directement.</span><span class="sxs-lookup"><span data-stu-id="6538c-114">Team Services hosted agents now come pre-installed with Service Fabric cluster management software, allowing for deployment of your applications directly from those agents.</span></span>
> 
> 

## <a name="configure-and-share-your-source-files"></a><span data-ttu-id="6538c-115">Configurer et partager vos fichiers source</span><span class="sxs-lookup"><span data-stu-id="6538c-115">Configure and share your source files</span></span>
<span data-ttu-id="6538c-116">Hello plus important est de toodo préparer un profil de publication pour une utilisation par les processus de déploiement hello qui s’exécute dans Team Services.</span><span class="sxs-lookup"><span data-stu-id="6538c-116">hello first thing you want toodo is prepare a publish profile for use by hello deployment process that executes within Team Services.</span></span>  <span data-ttu-id="6538c-117">profil de publication Hello doit être cluster hello tootarget configurés que vous avez précédemment préparé :</span><span class="sxs-lookup"><span data-stu-id="6538c-117">hello publish profile should be configured tootarget hello cluster that you've previously prepared:</span></span>

1. <span data-ttu-id="6538c-118">Choisissez un profil de publication au sein de votre projet d’Application que vous souhaitez toouse pour votre flux de travail d’intégration continue.</span><span class="sxs-lookup"><span data-stu-id="6538c-118">Choose a publish profile within your Application project that you want toouse for your continuous integration workflow.</span></span> <span data-ttu-id="6538c-119">Suivez hello [publier les instructions](service-fabric-publish-app-remote-cluster.md) sur la façon de toopublish un cluster à distance tooa d’application.</span><span class="sxs-lookup"><span data-stu-id="6538c-119">Follow hello [publish instructions](service-fabric-publish-app-remote-cluster.md) on how toopublish an application tooa remote cluster.</span></span> <span data-ttu-id="6538c-120">En fait inutile toopublish votre application via.</span><span class="sxs-lookup"><span data-stu-id="6538c-120">You don't actually need toopublish your application though.</span></span> <span data-ttu-id="6538c-121">Vous pouvez cliquer sur hello **enregistrer** lien hypertexte Bonjour la boîte de dialogue de publier une fois que vous avez configuré correctement les choses.</span><span class="sxs-lookup"><span data-stu-id="6538c-121">You can click hello **Save** hyperlink in hello publish dialog once you have configured things appropriately.</span></span>
2. <span data-ttu-id="6538c-122">Si vous souhaitez que votre toobe application mis à niveau pour chaque déploiement qui se produit dans les Services d’équipe, vous souhaitez tooconfigure hello mise à niveau tooenable de profil de publication.</span><span class="sxs-lookup"><span data-stu-id="6538c-122">If you want your application toobe upgraded for each deployment that occurs within Team Services, you want tooconfigure hello publish profile tooenable upgrade.</span></span> <span data-ttu-id="6538c-123">Bonjour même publier la boîte de dialogue utilisée à l’étape 1, vérifiez que hello **mise à niveau hello Application** case à cocher est activée.</span><span class="sxs-lookup"><span data-stu-id="6538c-123">In hello same publish dialog used in step 1, ensure that hello **Upgrade hello Application** checkbox is checked.</span></span>  <span data-ttu-id="6538c-124">Plus d’informations sur la [configuration de paramètres de mise à niveau supplémentaires](service-fabric-visualstudio-configure-upgrade.md).</span><span class="sxs-lookup"><span data-stu-id="6538c-124">Learn more about [configuring additional upgrade settings](service-fabric-visualstudio-configure-upgrade.md).</span></span> <span data-ttu-id="6538c-125">Cliquez sur hello **enregistrer** toohello de paramètres de lien hypertexte toosave hello le profil de publication.</span><span class="sxs-lookup"><span data-stu-id="6538c-125">Click hello **Save** hyperlink toosave hello settings toohello publish profile.</span></span>
3. <span data-ttu-id="6538c-126">Assurez-vous que vous avez enregistré vos modifications toohello publier profil et annulez hello boîte de dialogue Publier.</span><span class="sxs-lookup"><span data-stu-id="6538c-126">Ensure that you've saved your changes toohello publish profile and cancel hello publish dialog.</span></span>
4. <span data-ttu-id="6538c-127">Il est temps trop[partager des fichiers sources du projet de votre Application](https://www.visualstudio.com/docs/setup-admin/team-services/connect-to-visual-studio-team-services#vs) avec Team Services.</span><span class="sxs-lookup"><span data-stu-id="6538c-127">Now it's time too[share your Application project source files](https://www.visualstudio.com/docs/setup-admin/team-services/connect-to-visual-studio-team-services#vs) with Team Services.</span></span> <span data-ttu-id="6538c-128">Une fois que vos fichiers sources sont accessibles dans les Services d’équipe, vous pouvez maintenant déplacer sur l’étape suivante de toohello de génération de builds.</span><span class="sxs-lookup"><span data-stu-id="6538c-128">Once your source files are accessible in Team Services, you can now move on toohello next step of generating builds.</span></span> 

## <a name="create-a-build-definition"></a><span data-ttu-id="6538c-129">Créer une définition de build</span><span class="sxs-lookup"><span data-stu-id="6538c-129">Create a build definition</span></span>
<span data-ttu-id="6538c-130">Une définition de build Team Services décrit un flux de travail qui se compose d’un ensemble d’étapes de génération exécutées séquentiellement.</span><span class="sxs-lookup"><span data-stu-id="6538c-130">A Team Services build definition describes a workflow that is composed of a set of build steps that are executed sequentially.</span></span> <span data-ttu-id="6538c-131">objectif de Hello de définition de build hello que vous créez est tooproduce un package d’application Service Fabric et autres artefacts, qui peuvent être utilisés toodeploy hello application.</span><span class="sxs-lookup"><span data-stu-id="6538c-131">hello goal of hello build definition that you are creating is tooproduce a Service Fabric application package, and other artifacts, that can be used toodeploy hello application.</span></span> <span data-ttu-id="6538c-132">Plus d’informations sur les [définitions de build](https://www.visualstudio.com/docs/build/define/create)Team Services.</span><span class="sxs-lookup"><span data-stu-id="6538c-132">Learn more about Team Services [build definitions](https://www.visualstudio.com/docs/build/define/create).</span></span>

### <a name="create-a-definition-from-hello-build-template"></a><span data-ttu-id="6538c-133">Créer une définition de modèle de build hello</span><span class="sxs-lookup"><span data-stu-id="6538c-133">Create a definition from hello build template</span></span>
1. <span data-ttu-id="6538c-134">Ouvrez votre projet d’équipe dans Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="6538c-134">Open your team project in Visual Studio Team Services.</span></span>
2. <span data-ttu-id="6538c-135">Sélectionnez hello **générer** onglet.</span><span class="sxs-lookup"><span data-stu-id="6538c-135">Select hello **Build** tab.</span></span>
3. <span data-ttu-id="6538c-136">Vert de hello sélectionnez  **+**  signer toocreate une définition de build.</span><span class="sxs-lookup"><span data-stu-id="6538c-136">Select hello green **+** sign toocreate a new build definition.</span></span>
4. <span data-ttu-id="6538c-137">Dans la boîte de dialogue hello qui s’ouvre, sélectionnez **Application Azure Service Fabric** dans hello **générer** catégorie de modèle.</span><span class="sxs-lookup"><span data-stu-id="6538c-137">In hello dialog that opens, select **Azure Service Fabric Application** within hello **Build** template category.</span></span>
5. <span data-ttu-id="6538c-138">Sélectionnez **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="6538c-138">Select **Next**.</span></span>
6. <span data-ttu-id="6538c-139">Sélectionnez le référentiel de hello et une branche associé à votre application de Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="6538c-139">Select hello repository and branch associated with your Service Fabric application.</span></span>
7. <span data-ttu-id="6538c-140">Sélectionnez la file d’attente de l’agent hello toouse vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="6538c-140">Select hello agent queue you wish toouse.</span></span> <span data-ttu-id="6538c-141">Les agents hébergés sont pris en charge.</span><span class="sxs-lookup"><span data-stu-id="6538c-141">Hosted agents are supported.</span></span>
8. <span data-ttu-id="6538c-142">Sélectionnez **Créer**.</span><span class="sxs-lookup"><span data-stu-id="6538c-142">Select **Create**.</span></span>
9. <span data-ttu-id="6538c-143">Enregistrer la définition de build hello et fournir un nom.</span><span class="sxs-lookup"><span data-stu-id="6538c-143">Save hello build definition and provide a name.</span></span>
10. <span data-ttu-id="6538c-144">Bonjour paragraphe suivant est une description des étapes de génération hello généré par le modèle de hello :</span><span class="sxs-lookup"><span data-stu-id="6538c-144">hello following paragraph is a description of hello build steps generated by hello template:</span></span>

| <span data-ttu-id="6538c-145">Étape de génération</span><span class="sxs-lookup"><span data-stu-id="6538c-145">Build step</span></span> | <span data-ttu-id="6538c-146">Description</span><span class="sxs-lookup"><span data-stu-id="6538c-146">Description</span></span> |
| --- | --- |
| <span data-ttu-id="6538c-147">Restauration NuGet</span><span class="sxs-lookup"><span data-stu-id="6538c-147">NuGet restore</span></span> |<span data-ttu-id="6538c-148">Restaure les packages NuGet hello pour les solutions hello.</span><span class="sxs-lookup"><span data-stu-id="6538c-148">Restores hello NuGet packages for hello solution.</span></span> |
| <span data-ttu-id="6538c-149">Génération de la solution \*.sln</span><span class="sxs-lookup"><span data-stu-id="6538c-149">Build solution \*.sln</span></span> |<span data-ttu-id="6538c-150">Génère un ensemble de la solution hello.</span><span class="sxs-lookup"><span data-stu-id="6538c-150">Builds hello entire solution.</span></span> |
| <span data-ttu-id="6538c-151">Génération de la solution \*.sfproj</span><span class="sxs-lookup"><span data-stu-id="6538c-151">Build solution \*.sfproj</span></span> |<span data-ttu-id="6538c-152">Génère un package d’application de Service Fabric hello est utilisé toodeploy hello application.</span><span class="sxs-lookup"><span data-stu-id="6538c-152">Generates hello Service Fabric application package that is used toodeploy hello application.</span></span> <span data-ttu-id="6538c-153">emplacement de package d’application Hello est toobe spécifié dans le répertoire de l’artefact de la build hello.</span><span class="sxs-lookup"><span data-stu-id="6538c-153">hello application package location is specified toobe within hello build's artifact directory.</span></span> |
| <span data-ttu-id="6538c-154">Mise à jour des versions de l’application Service Fabric</span><span class="sxs-lookup"><span data-stu-id="6538c-154">Update Service Fabric App Versions</span></span> |<span data-ttu-id="6538c-155">Met à jour les valeurs de version hello contenues dans tooallow de fichiers manifeste du package d’application hello pour la prise en charge de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="6538c-155">Updates hello version values contained in hello application package's manifest files tooallow for upgrade support.</span></span> <span data-ttu-id="6538c-156">Consultez hello [page de documentation de tâche](https://go.microsoft.com/fwlink/?LinkId=820529) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="6538c-156">See hello [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820529) for more information.</span></span> |
| <span data-ttu-id="6538c-157">Copie des fichiers</span><span class="sxs-lookup"><span data-stu-id="6538c-157">Copy Files</span></span> |<span data-ttu-id="6538c-158">Hello de copies publier toobe d’artefacts de build toohello application paramètres fichiers utilisé pour le déploiement et un profil.</span><span class="sxs-lookup"><span data-stu-id="6538c-158">Copies hello publish profile and application parameters files toohello build's artifacts toobe consumed for deployment.</span></span> |
| <span data-ttu-id="6538c-159">Publication d’artefact</span><span class="sxs-lookup"><span data-stu-id="6538c-159">Publish Artifact</span></span> |<span data-ttu-id="6538c-160">Publie les artefacts de build hello.</span><span class="sxs-lookup"><span data-stu-id="6538c-160">Publishes hello build's artifacts.</span></span> <span data-ttu-id="6538c-161">Permet à une définition de mise en production les artefacts de build tooconsume hello.</span><span class="sxs-lookup"><span data-stu-id="6538c-161">Allows a release definition tooconsume hello build's artifacts.</span></span> |

### <a name="verify-hello-default-set-of-tasks"></a><span data-ttu-id="6538c-162">Vérifiez l’ensemble de tâches par défaut de hello</span><span class="sxs-lookup"><span data-stu-id="6538c-162">Verify hello default set of tasks</span></span>
1. <span data-ttu-id="6538c-163">Vérifiez que hello **Solution** champ d’entrée de hello **restauration NuGet** et **générer la solution** étapes de génération.</span><span class="sxs-lookup"><span data-stu-id="6538c-163">Verify hello **Solution** input field for hello **NuGet restore** and **Build solution** build steps.</span></span>  <span data-ttu-id="6538c-164">Par défaut, les étapes de build exécuter en cas de tous les fichiers de solution qui sont contenus dans le référentiel de hello associé.</span><span class="sxs-lookup"><span data-stu-id="6538c-164">By default, these build steps execute upon all solution files that are contained in hello associated repository.</span></span>  <span data-ttu-id="6538c-165">Si vous souhaitez uniquement toooperate de définition de build hello sur l’un de ces fichiers de solution, vous devez le fichier toothat chemin d’accès tooexplicitly mise à jour hello.</span><span class="sxs-lookup"><span data-stu-id="6538c-165">If you only want hello build definition toooperate on one of those solution files, you need tooexplicitly update hello path toothat file.</span></span>
2. <span data-ttu-id="6538c-166">Vérifiez que hello **Solution** champ d’entrée de hello **Package application** étape de génération.</span><span class="sxs-lookup"><span data-stu-id="6538c-166">Verify hello **Solution** input field for hello **Package application** build step.</span></span>  <span data-ttu-id="6538c-167">Par défaut, cette étape de génération ne suppose qu’un seul projet d’Application Service Fabric (.sfproj) existe dans le référentiel de hello.</span><span class="sxs-lookup"><span data-stu-id="6538c-167">By default, this build step assumes only one Service Fabric Application project (.sfproj) exists in hello repository.</span></span>  <span data-ttu-id="6538c-168">Si vous avez plusieurs de ces fichiers dans votre référentiel et que vous souhaitez tootarget uniquement un d’eux pour cette définition de build, vous devez le fichier toothat chemin d’accès tooexplicitly mise à jour hello.</span><span class="sxs-lookup"><span data-stu-id="6538c-168">If you have multiple such files in your repository and want tootarget only one of them for this build definition, you need tooexplicitly update hello path toothat file.</span></span>  <span data-ttu-id="6538c-169">Si vous souhaitez toopackage Application plusieurs projets dans votre référentiel, vous devez toocreate supplémentaires **Visual Studio Build** les étapes dans la définition de build hello que chaque cible d’un projet d’Application.</span><span class="sxs-lookup"><span data-stu-id="6538c-169">If you want toopackage multiple Application projects in your repository, you need toocreate additional **Visual Studio Build** steps in hello build definition that each target an Application project.</span></span>  <span data-ttu-id="6538c-170">Vous devez également tooupdate hello **Arguments MSBuild** champ pour chacune de ces étapes de build afin que l’emplacement du package hello est unique pour chacun d’eux.</span><span class="sxs-lookup"><span data-stu-id="6538c-170">You would then also need tooupdate hello **MSBuild Arguments** field for each of those build steps so that hello package location is unique for each of them.</span></span>
3. <span data-ttu-id="6538c-171">Vérifier le comportement du contrôle de version hello défini dans hello **Versions de mise à jour de Service Fabric application** étape de génération.</span><span class="sxs-lookup"><span data-stu-id="6538c-171">Verify hello versioning behavior defined in hello **Update Service Fabric App Versions** build step.</span></span>  <span data-ttu-id="6538c-172">Par défaut, cette étape de génération ajoute hello build tooall version valeurs numériques dans les fichiers manifeste du package d’application hello.</span><span class="sxs-lookup"><span data-stu-id="6538c-172">By default, this build step appends hello build number tooall version values in hello application package's manifest files.</span></span> <span data-ttu-id="6538c-173">Consultez hello [page de documentation de tâche](https://go.microsoft.com/fwlink/?LinkId=820529) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="6538c-173">See hello [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820529) for more information.</span></span> <span data-ttu-id="6538c-174">Cela est utile pour prendre en charge la mise à niveau de votre application, car chaque déploiement de mise à niveau requiert que les valeurs de version différente du déploiement précédent de hello.</span><span class="sxs-lookup"><span data-stu-id="6538c-174">This is useful for supporting upgrade of your application since each upgrade deployment requires different version values from hello previous deployment.</span></span> <span data-ttu-id="6538c-175">Si vous n’êtes pas intention mise à niveau des applications toouse dans votre flux de travail, vous pouvez envisager la désactivation de cette étape de génération.</span><span class="sxs-lookup"><span data-stu-id="6538c-175">If you're not intending toouse application upgrade in your workflow, you may consider disabling this build step.</span></span> <span data-ttu-id="6538c-176">Il doit être désactivée si votre intention est tooproduce une build qui peut être utilisé toooverwrite une application de Service Fabric existante.</span><span class="sxs-lookup"><span data-stu-id="6538c-176">It must be disabled if your intention is tooproduce a build that can be used toooverwrite an existing Service Fabric application.</span></span> <span data-ttu-id="6538c-177">déploiement de Hello échoue si la version hello d’application hello produite par hello build ne correspond pas à la version hello d’application hello dans un cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="6538c-177">hello deployment fails if hello version of hello application produced by hello build does not match hello version of hello application in hello cluster.</span></span>
4. <span data-ttu-id="6538c-178">Si votre solution contient un projet .NET Core, vous devez vous assurer que votre définition de build contient une étape de génération qui restaure les dépendances hello :</span><span class="sxs-lookup"><span data-stu-id="6538c-178">If your solution contains a .NET Core project, you must ensure that your build definition contains a build step that restores hello dependencies:</span></span>
   1. <span data-ttu-id="6538c-179">Sélectionnez **Ajouter une étape de build...**.</span><span class="sxs-lookup"><span data-stu-id="6538c-179">Select **Add build step...**.</span></span>
   2. <span data-ttu-id="6538c-180">Recherchez hello **de ligne de commande** de tâches dans l’onglet d’utilitaire hello et cliquez sur le bouton Ajouter.</span><span class="sxs-lookup"><span data-stu-id="6538c-180">Locate hello **Command-Line** task within hello Utility tab and click its Add button.</span></span>
   3. <span data-ttu-id="6538c-181">Pour les champs d’entrée de la tâche hello, utilisez hello valeurs suivantes :</span><span class="sxs-lookup"><span data-stu-id="6538c-181">For hello task's input fields, use hello following values:</span></span>
   4. <span data-ttu-id="6538c-182">Outil : dotnet</span><span class="sxs-lookup"><span data-stu-id="6538c-182">Tool: dotnet</span></span>
   5. <span data-ttu-id="6538c-183">Arguments : restore</span><span class="sxs-lookup"><span data-stu-id="6538c-183">Arguments: restore</span></span>
   6. <span data-ttu-id="6538c-184">Faites glisser les tâches hello afin qu’il soit immédiatement après hello **restauration NuGet** étape.</span><span class="sxs-lookup"><span data-stu-id="6538c-184">Drag hello task so that it is immediately after hello **NuGet restore** step.</span></span>
5. <span data-ttu-id="6538c-185">Enregistrer les modifications apportées à la définition de build toohello.</span><span class="sxs-lookup"><span data-stu-id="6538c-185">Save any changes you've made toohello build definition.</span></span>

### <a name="try-it"></a><span data-ttu-id="6538c-186">Essayer</span><span class="sxs-lookup"><span data-stu-id="6538c-186">Try it</span></span>
<span data-ttu-id="6538c-187">Sélectionnez **file d’attente de** toomanually de démarrer une génération.</span><span class="sxs-lookup"><span data-stu-id="6538c-187">Select **Queue Build** toomanually start a build.</span></span> <span data-ttu-id="6538c-188">Les builds sont également déclenchées sur notification Push ou archivage.</span><span class="sxs-lookup"><span data-stu-id="6538c-188">Builds also triggers upon push or check-in.</span></span> <span data-ttu-id="6538c-189">Une fois que vous avez vérifié que build de hello s’exécute correctement, vous pouvez maintenant passer toodefining une définition de mise en production qui déploie votre cluster tooa d’application.</span><span class="sxs-lookup"><span data-stu-id="6538c-189">Once you've verified that hello build is executing successfully, you can now move on toodefining a release definition that deploys your application tooa cluster.</span></span>

## <a name="create-a-release-definition"></a><span data-ttu-id="6538c-190">Création d’une définition de version</span><span class="sxs-lookup"><span data-stu-id="6538c-190">Create a release definition</span></span>
<span data-ttu-id="6538c-191">Une définition de version Team Services décrit un flux de travail qui se compose d’un ensemble d’étapes de génération exécutées séquentiellement.</span><span class="sxs-lookup"><span data-stu-id="6538c-191">A Team Services release definition describes a workflow that is composed of a set of tasks that are executed sequentially.</span></span> <span data-ttu-id="6538c-192">objectif Hello de définition de la version hello que vous créez est tootake un package d’application et déployez-la tooa cluster.</span><span class="sxs-lookup"><span data-stu-id="6538c-192">hello goal of hello release definition that you are creating is tootake an application package and deploy it tooa cluster.</span></span> <span data-ttu-id="6538c-193">Utilisés conjointement, hello définition de build et définition de la version peut exécuter des flux de travail entier hello de démarrer avec tooending de fichiers de code source avec une application en cours d’exécution dans votre cluster.</span><span class="sxs-lookup"><span data-stu-id="6538c-193">When used together, hello build definition and release definition can execute hello entire workflow from starting with source files tooending with a running application in your cluster.</span></span> <span data-ttu-id="6538c-194">Plus d’informations sur les [définitions de version](https://www.visualstudio.com/docs/release/author-release-definition/more-release-definition)Team Services.</span><span class="sxs-lookup"><span data-stu-id="6538c-194">Learn more about Team Services [release definitions](https://www.visualstudio.com/docs/release/author-release-definition/more-release-definition).</span></span>

### <a name="create-a-definition-from-hello-release-template"></a><span data-ttu-id="6538c-195">Créer une définition de modèle de version hello</span><span class="sxs-lookup"><span data-stu-id="6538c-195">Create a definition from hello release template</span></span>
1. <span data-ttu-id="6538c-196">Ouvrez votre projet dans Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="6538c-196">Open your project in Visual Studio Team Services.</span></span>
2. <span data-ttu-id="6538c-197">Sélectionnez hello **version** onglet.</span><span class="sxs-lookup"><span data-stu-id="6538c-197">Select hello **Release** tab.</span></span>
3. <span data-ttu-id="6538c-198">Sélectionnez hello vert  **+**  toocreate une nouvelle définition de mise en production puis sélectionnez **définition de la version créer** dans le menu de hello.</span><span class="sxs-lookup"><span data-stu-id="6538c-198">Select hello green **+** sign toocreate a new release definition and select **Create release definition** in hello menu.</span></span>
4. <span data-ttu-id="6538c-199">Dans la boîte de dialogue hello qui s’ouvre, sélectionnez **Azure Service Fabric déploiement** dans hello **déploiement** catégorie de modèle.</span><span class="sxs-lookup"><span data-stu-id="6538c-199">In hello dialog that opens, select **Azure Service Fabric Deployment** within hello **Deployment** template category.</span></span>
5. <span data-ttu-id="6538c-200">Sélectionnez **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="6538c-200">Select **Next**.</span></span>
6. <span data-ttu-id="6538c-201">Sélectionnez la définition de build de hello toouse souhaitée en tant que source de hello de cette définition de mise en production.</span><span class="sxs-lookup"><span data-stu-id="6538c-201">Select hello build definition you want toouse as hello source of this release definition.</span></span>  <span data-ttu-id="6538c-202">définition de build Hello version définition références hello artefacts qui ont été générés par hello sélectionné.</span><span class="sxs-lookup"><span data-stu-id="6538c-202">hello release definition references hello artifacts that were produced by hello selected build definition.</span></span>
7. <span data-ttu-id="6538c-203">Vérifiez hello **déploiement continu** case à cocher si vous le souhaitez toohave Team Services automatiquement créer une nouvelle version et déployer l’application de Service Fabric hello chaque fois qu’une build est terminée.</span><span class="sxs-lookup"><span data-stu-id="6538c-203">Check hello **Continuous deployment** check box if you wish toohave Team Services automatically create a new release and deploy hello Service Fabric application whenever a build completes.</span></span>
8. <span data-ttu-id="6538c-204">Sélectionnez la file d’attente de l’agent hello toouse vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="6538c-204">Select hello agent queue you wish toouse.</span></span> <span data-ttu-id="6538c-205">Les agents hébergés sont pris en charge.</span><span class="sxs-lookup"><span data-stu-id="6538c-205">Hosted agents are supported.</span></span>
9. <span data-ttu-id="6538c-206">Sélectionnez **Créer**.</span><span class="sxs-lookup"><span data-stu-id="6538c-206">Select **Create**.</span></span>
10. <span data-ttu-id="6538c-207">Modifier le nom de la définition hello en cliquant sur icône de crayon hello en hello haut hello.</span><span class="sxs-lookup"><span data-stu-id="6538c-207">Edit hello definition name by clicking hello pencil icon at hello top of hello page.</span></span>
11. <span data-ttu-id="6538c-208">Sélectionnez toowhich de cluster hello votre application doit être déployée à partir de hello **connexion Cluster** champ d’entrée de tâche hello.</span><span class="sxs-lookup"><span data-stu-id="6538c-208">Select hello cluster toowhich your application should be deployed from hello **Cluster Connection** input field of hello task.</span></span> <span data-ttu-id="6538c-209">connexion du cluster Hello fournit les informations nécessaires hello permet hello déploiement tâche tooconnect toohello cluster.</span><span class="sxs-lookup"><span data-stu-id="6538c-209">hello cluster connection provides hello necessary information that allows hello deployment task tooconnect toohello cluster.</span></span> <span data-ttu-id="6538c-210">Si vous n’avez pas encore d’une connexion de cluster pour votre cluster, sélectionnez hello **gérer** lien hypertexte suivant toohello champ tooadd une.</span><span class="sxs-lookup"><span data-stu-id="6538c-210">If you do not yet have a cluster connection for your cluster, select hello **Manage** hyperlink next toohello field tooadd one.</span></span> <span data-ttu-id="6538c-211">Dans la page hello qui s’ouvre, procédez hello comme suit :</span><span class="sxs-lookup"><span data-stu-id="6538c-211">On hello page that opens, perform hello following steps:</span></span>
    1. <span data-ttu-id="6538c-212">Sélectionnez **nouveau point de terminaison de Service** , puis sélectionnez **Azure Service Fabric** à partir du menu de hello.</span><span class="sxs-lookup"><span data-stu-id="6538c-212">Select **New Service Endpoint** and then select **Azure Service Fabric** from hello menu.</span></span>
    2. <span data-ttu-id="6538c-213">Sélectionnez le type hello d’authentification utilisé par le cluster hello ciblée par ce point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="6538c-213">Select hello type of authentication being used by hello cluster targeted by this endpoint.</span></span>
    3. <span data-ttu-id="6538c-214">Définir un nom pour votre connexion Bonjour **nom de la connexion** champ.</span><span class="sxs-lookup"><span data-stu-id="6538c-214">Define a name for your connection in hello **Connection Name** field.</span></span>  <span data-ttu-id="6538c-215">En règle générale, vous utiliseriez nom hello de votre cluster.</span><span class="sxs-lookup"><span data-stu-id="6538c-215">Typically, you would use hello name of your cluster.</span></span>
    4. <span data-ttu-id="6538c-216">Définir l’URL de point de terminaison de connexion de client hello Bonjour **point de terminaison de Cluster** champ.</span><span class="sxs-lookup"><span data-stu-id="6538c-216">Define hello client connection endpoint URL in hello **Cluster Endpoint** field.</span></span>  <span data-ttu-id="6538c-217">Exemple : tcp://contoso.westus.cloudapp.azure.com:19000.</span><span class="sxs-lookup"><span data-stu-id="6538c-217">Example: tcp://contoso.westus.cloudapp.azure.com:19000.</span></span>
    5. <span data-ttu-id="6538c-218">Informations d’identification d’Azure Active Directory, définir les informations de hello souhaité toouse tooconnect toohello cluster Bonjour **nom d’utilisateur** et **mot de passe** champs.</span><span class="sxs-lookup"><span data-stu-id="6538c-218">For Azure Active Directory credentials, define hello credentials you want toouse tooconnect toohello cluster in hello **Username** and **Password** fields.</span></span>
    6. <span data-ttu-id="6538c-219">Pour l’authentification de base de certificat, définissez hello Base64 encodage du fichier de certificat client hello hello **certificat Client** champ.</span><span class="sxs-lookup"><span data-stu-id="6538c-219">For Certificate Based authentication, define hello Base64 encoding of hello client certificate file in hello **Client Certificate** field.</span></span>  <span data-ttu-id="6538c-220">Consultez la fenêtre contextuelle de hello aide sur ce champ pour plus d’informations sur la façon de tooget cette valeur.</span><span class="sxs-lookup"><span data-stu-id="6538c-220">See hello help pop-up on that field for info on how tooget that value.</span></span>  <span data-ttu-id="6538c-221">Si votre certificat est protégé par mot de passe, définir le mot de passe hello Bonjour **mot de passe** champ.</span><span class="sxs-lookup"><span data-stu-id="6538c-221">If your certificate is password-protected, define hello password in hello **Password** field.</span></span>
    7. <span data-ttu-id="6538c-222">Confirmez vos modifications en cliquant sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="6538c-222">Confirm your changes by clicking **OK**.</span></span> <span data-ttu-id="6538c-223">Après avoir navigué arrière tooyour définition de version, cliquez sur icône d’actualisation hello sur hello **connexion Cluster** point de terminaison hello de toosee champ vous venez d’ajouter.</span><span class="sxs-lookup"><span data-stu-id="6538c-223">After navigating back tooyour release definition, click hello refresh icon on hello **Cluster Connection** field toosee hello endpoint you just added.</span></span>
12. <span data-ttu-id="6538c-224">Enregistrez la définition de la version hello.</span><span class="sxs-lookup"><span data-stu-id="6538c-224">Save hello release definition.</span></span>

> [!NOTE]
> <span data-ttu-id="6538c-225">Les comptes Microsoft (par exemple, @hotmail.com ou @outlook.com ne sont pas pris en charge pour l’authentification Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="6538c-225">Microsoft Accounts (for example, @hotmail.com or @outlook.com) are not supported with Azure Active Directory authentication.</span></span>
> 
> 

<span data-ttu-id="6538c-226">définition de Hello créé se compose d’une tâche de type **déploiement d’Application Service Fabric**.</span><span class="sxs-lookup"><span data-stu-id="6538c-226">hello definition that is created consists of one task of type **Service Fabric Application Deployment**.</span></span> <span data-ttu-id="6538c-227">Consultez hello [page de documentation de tâche](https://go.microsoft.com/fwlink/?LinkId=820528) pour plus d’informations sur cette tâche.</span><span class="sxs-lookup"><span data-stu-id="6538c-227">See hello [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820528) for more information about this task.</span></span>

### <a name="verify-hello-template-defaults"></a><span data-ttu-id="6538c-228">Vérifiez les valeurs par défaut du modèle hello</span><span class="sxs-lookup"><span data-stu-id="6538c-228">Verify hello template defaults</span></span>
1. <span data-ttu-id="6538c-229">Vérifiez que hello **profil de publication** champ d’entrée de hello **déployer une Application de Service Fabric** tâche.</span><span class="sxs-lookup"><span data-stu-id="6538c-229">Verify hello **Publish Profile** input field for hello **Deploy Service Fabric Application** task.</span></span> <span data-ttu-id="6538c-230">Par défaut, ce champ fait référence à un profil de publication nommé Cloud.xml contenus dans les artefacts de build hello.</span><span class="sxs-lookup"><span data-stu-id="6538c-230">By default, this field references a publish profile named Cloud.xml contained in hello build's artifacts.</span></span> <span data-ttu-id="6538c-231">Si vous voulez tooreference un profil de publication différent ou si la build de hello contient plusieurs packages d’application dans ses artefacts, vous devez le chemin d’accès de tooupdate hello en conséquence.</span><span class="sxs-lookup"><span data-stu-id="6538c-231">If you want tooreference a different publish profile or if hello build contains multiple application packages in its artifacts, you need tooupdate hello path appropriately.</span></span>
2. <span data-ttu-id="6538c-232">Vérifiez que hello **Package d’Application** champ d’entrée de hello **déployer une Application de Service Fabric** tâche.</span><span class="sxs-lookup"><span data-stu-id="6538c-232">Verify hello **Application Package** input field for hello **Deploy Service Fabric Application** task.</span></span> <span data-ttu-id="6538c-233">Par défaut, ce champ fait référence à hello par défaut application package chemin d’accès utilisé dans le modèle de définition de build hello.</span><span class="sxs-lookup"><span data-stu-id="6538c-233">By default, this field references hello default application package path used in hello build definition template.</span></span>  <span data-ttu-id="6538c-234">Si vous avez modifié le chemin d’accès du package application par défaut hello Bonjour la définition de build, vous devez le chemin d’accès de tooupdate hello correctement ici également.</span><span class="sxs-lookup"><span data-stu-id="6538c-234">If you've modified hello default application package path in hello build definition, you need tooupdate hello path appropriately here as well.</span></span>

### <a name="try-it"></a><span data-ttu-id="6538c-235">Essayer</span><span class="sxs-lookup"><span data-stu-id="6538c-235">Try it</span></span>
<span data-ttu-id="6538c-236">Sélectionnez **créer libérer** de hello **Release** toomanually de menu bouton Créer une mise en production.</span><span class="sxs-lookup"><span data-stu-id="6538c-236">Select **Create Release** from hello **Release** button menu toomanually create a release.</span></span> <span data-ttu-id="6538c-237">Dans la boîte de dialogue hello qui s’ouvre, sélectionnez build hello que vous souhaitez la version de hello toobase sur puis cliquez sur **créer**.</span><span class="sxs-lookup"><span data-stu-id="6538c-237">In hello dialog that opens, select hello build that you want toobase hello release on and then click **Create**.</span></span> <span data-ttu-id="6538c-238">Si vous avez activé le déploiement continu, les versions sont créées automatiquement lors de la définition de build hello associé termine une build.</span><span class="sxs-lookup"><span data-stu-id="6538c-238">If you enabled continuous deployment, releases will be created automatically when hello associated build definition completes a build.</span></span>

## <a name="next-steps"></a><span data-ttu-id="6538c-239">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="6538c-239">Next steps</span></span>
<span data-ttu-id="6538c-240">toolearn plus d’informations sur l’intégration continue avec des applications de Service Fabric, lire hello suivant des articles :</span><span class="sxs-lookup"><span data-stu-id="6538c-240">toolearn more about continuous integration with Service Fabric applications, read hello following articles:</span></span>

* [<span data-ttu-id="6538c-241">Page d’accueil de la documentation relative à Team Services</span><span class="sxs-lookup"><span data-stu-id="6538c-241">Team Services documentation home</span></span>](https://www.visualstudio.com/docs/overview)
* [<span data-ttu-id="6538c-242">Page relative à la gestion des builds dans Team Services</span><span class="sxs-lookup"><span data-stu-id="6538c-242">Build management in Team Services</span></span>](https://www.visualstudio.com/docs/build/overview)
* [<span data-ttu-id="6538c-243">Page relative à la gestion des versions dans Team Services</span><span class="sxs-lookup"><span data-stu-id="6538c-243">Release management in Team Services</span></span>](https://www.visualstudio.com/docs/release/overview)

