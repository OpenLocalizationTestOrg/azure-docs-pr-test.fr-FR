---
title: "Génération et intégration en continu pour votre application Linux Java Azure Service Fabric à l’aide de Jenkins | Microsoft Docs"
description: "Génération et intégration en continu pour votre application Linux Java à l’aide de Jenkins"
services: service-fabric
documentationcenter: java
author: sayantancs
manager: timlt
editor: 
ms.assetid: 02b51f11-5d78-4c54-bb68-8e128677783e
ms.service: service-fabric
ms.devlang: java
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/23/2017
ms.author: saysa
ms.openlocfilehash: d9372407540d903acca5b1639a2d9ceb0bf3c571
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/29/2017
---
# <a name="use-jenkins-to-build-and-deploy-your-linux-java-application"></a><span data-ttu-id="f2b88-103">Utiliser Jenkins pour générer et déployer votre application Linux Java</span><span class="sxs-lookup"><span data-stu-id="f2b88-103">Use Jenkins to build and deploy your Linux Java application</span></span>
<span data-ttu-id="f2b88-104">Jenkins est un outil populaire pour l’intégration et le déploiement en continu de vos applications.</span><span class="sxs-lookup"><span data-stu-id="f2b88-104">Jenkins is a popular tool for continuous integration and deployment of your apps.</span></span> <span data-ttu-id="f2b88-105">Voici comment générer et déployer votre application Azure Service Fabric à l’aide de Jenkins.</span><span class="sxs-lookup"><span data-stu-id="f2b88-105">Here's how to build and deploy your Azure Service Fabric application by using Jenkins.</span></span>

## <a name="general-prerequisites"></a><span data-ttu-id="f2b88-106">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="f2b88-106">General prerequisites</span></span>
- <span data-ttu-id="f2b88-107">Git doit être installé en local.</span><span class="sxs-lookup"><span data-stu-id="f2b88-107">Have Git installed locally.</span></span> <span data-ttu-id="f2b88-108">Vous pouvez installer la version appropriée de Git à partir de [la page de téléchargements de Git](https://git-scm.com/downloads), en fonction de votre système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="f2b88-108">You can install the appropriate Git version from [the Git downloads page](https://git-scm.com/downloads), based on your operating system.</span></span> <span data-ttu-id="f2b88-109">Si vous débutez avec Git, vous trouverez plus d’informations à ce sujet dans la [documentation Git](https://git-scm.com/docs).</span><span class="sxs-lookup"><span data-stu-id="f2b88-109">If you are new to Git, learn more about it from the [Git documentation](https://git-scm.com/docs).</span></span>
- <span data-ttu-id="f2b88-110">Le plug-in Jenkins de Service Fabric doit être à portée de main.</span><span class="sxs-lookup"><span data-stu-id="f2b88-110">Have the Service Fabric Jenkins plug-in handy.</span></span> <span data-ttu-id="f2b88-111">Vous pouvez le télécharger à partir des [téléchargements Service Fabric](https://servicefabricdownloads.blob.core.windows.net/jenkins/serviceFabric.hpi).</span><span class="sxs-lookup"><span data-stu-id="f2b88-111">You can download it from [Service Fabric downloads](https://servicefabricdownloads.blob.core.windows.net/jenkins/serviceFabric.hpi).</span></span>

## <a name="set-up-jenkins-inside-a-service-fabric-cluster"></a><span data-ttu-id="f2b88-112">Configurer Jenkins à l’intérieur d’un cluster Service Fabric</span><span class="sxs-lookup"><span data-stu-id="f2b88-112">Set up Jenkins inside a Service Fabric cluster</span></span>

<span data-ttu-id="f2b88-113">Vous pouvez configurer Jenkins à l’intérieur ou en dehors d’un cluster Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="f2b88-113">You can set up Jenkins either inside or outside a Service Fabric cluster.</span></span> <span data-ttu-id="f2b88-114">Les sections suivantes montrent comment le configurer dans un cluster lors de l’utilisation d’un compte de stockage Azure pour enregistrer l’état de l’instance de conteneur.</span><span class="sxs-lookup"><span data-stu-id="f2b88-114">The following sections show how to set it up inside a cluster while using an Azure storage account to save the state of the container instance.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="f2b88-115">Composants requis</span><span class="sxs-lookup"><span data-stu-id="f2b88-115">Prerequisites</span></span>
1. <span data-ttu-id="f2b88-116">Avoir un cluster Linux Service Fabric de prêt.</span><span class="sxs-lookup"><span data-stu-id="f2b88-116">Have a Service Fabric Linux cluster ready.</span></span> <span data-ttu-id="f2b88-117">Un cluster Service Fabric créé à partir du portail Azure avec Docker doit être installé.</span><span class="sxs-lookup"><span data-stu-id="f2b88-117">A Service Fabric cluster created from the Azure portal already has Docker installed.</span></span> <span data-ttu-id="f2b88-118">Si vous exécutez le cluster en local, vérifiez si Docker est installé à l’aide de la commande ``docker info``.</span><span class="sxs-lookup"><span data-stu-id="f2b88-118">If you are running the cluster locally, check if Docker is installed by using the command ``docker info``.</span></span> <span data-ttu-id="f2b88-119">S’il n’est pas installé, installez-le en utilisant les commandes suivantes :</span><span class="sxs-lookup"><span data-stu-id="f2b88-119">If it is not installed, install it accordingly by using the following commands:</span></span>

  ```sh
  sudo apt-get install wget
  wget -qO- https://get.docker.io/ | sh
  ```
2. <span data-ttu-id="f2b88-120">L’application de conteneur Service Fabric doit être déployée sur le cluster, en suivant la procédure ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="f2b88-120">Have the Service Fabric container application deployed on the cluster, by using the following steps:</span></span>

  ```sh
git clone https://github.com/Azure-Samples/service-fabric-java-getting-started.git
cd service-fabric-java-getting-started/Services/JenkinsDocker/
```

3. <span data-ttu-id="f2b88-121">Vous avez besoin des détails relatifs à l’option de connexion du partage de fichiers du stockage Azure, dans lequel vous souhaitez conserver l’état de l’instance du conteneur Jenkins.</span><span class="sxs-lookup"><span data-stu-id="f2b88-121">You need the connect option details of the Azure storage file-share, where you want to persist the state of the Jenkins container instance.</span></span> <span data-ttu-id="f2b88-122">Si vous utilisez le portail Microsoft Azure pour la même opération, veuillez suivre les étapes sous Création d’un compte de stockage Azure, par exemple ``sfjenkinsstorage1``.</span><span class="sxs-lookup"><span data-stu-id="f2b88-122">If you are using the Microsoft Azure portal for the same, please follow the steps - Create an Azure storage account, say ``sfjenkinsstorage1``.</span></span> <span data-ttu-id="f2b88-123">Créez un **partage de fichiers** sous ce compte de stockage, par exemple ``sfjenkins``.</span><span class="sxs-lookup"><span data-stu-id="f2b88-123">Create a **File Share** under that storage account, say ``sfjenkins``.</span></span> <span data-ttu-id="f2b88-124">Cliquez sur **Connecter** pour le partage de fichiers et notez les valeurs affichées sous **Connexion à partir de Linux**, par exemple :</span><span class="sxs-lookup"><span data-stu-id="f2b88-124">Click on **Connect** for the file-share and note the values it displays under **Connecting from Linux**, say this would look like as follows -</span></span>
```sh
sudo mount -t cifs //sfjenkinsstorage1.file.core.windows.net/sfjenkins [mount point] -o vers=3.0,username=sfjenkinsstorage1,password=<storage_key>,dir_mode=0777,file_mode=0777
```

4. <span data-ttu-id="f2b88-125">Mettez à jour les valeurs d’espace réservé dans le script ```setupentrypoint.sh``` avec les détails azure-storage correspondants.</span><span class="sxs-lookup"><span data-stu-id="f2b88-125">Update the placeholder values in the ```setupentrypoint.sh``` script with corresponding azure-storage details.</span></span>
```sh
vi JenkinsSF/JenkinsOnSF/Code/setupentrypoint.sh
```
<span data-ttu-id="f2b88-126">Remplacez ``[REMOTE_FILE_SHARE_LOCATION]`` par la valeur ``//sfjenkinsstorage1.file.core.windows.net/sfjenkins`` à partir de la sortie de la connexion au point 3 ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="f2b88-126">Replace ``[REMOTE_FILE_SHARE_LOCATION]`` with the value ``//sfjenkinsstorage1.file.core.windows.net/sfjenkins`` from the output of the connect in point 3 above.</span></span>
<span data-ttu-id="f2b88-127">Remplacez ``[FILE_SHARE_CONNECT_OPTIONS_STRING]`` par la valeur ``vers=3.0,username=sfjenkinsstorage1,password=GB2NPUCQY9LDGeG9Bci5dJV91T6SrA7OxrYBUsFHyueR62viMrC6NIzyQLCKNz0o7pepGfGY+vTa9gxzEtfZHw==,dir_mode=0777,file_mode=0777`` à partir du point 3 ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="f2b88-127">Replace ``[FILE_SHARE_CONNECT_OPTIONS_STRING]`` with the value ``vers=3.0,username=sfjenkinsstorage1,password=GB2NPUCQY9LDGeG9Bci5dJV91T6SrA7OxrYBUsFHyueR62viMrC6NIzyQLCKNz0o7pepGfGY+vTa9gxzEtfZHw==,dir_mode=0777,file_mode=0777`` from point 3 above.</span></span>

5. <span data-ttu-id="f2b88-128">Connectez-vous au cluster et installez l’application de conteneur.</span><span class="sxs-lookup"><span data-stu-id="f2b88-128">Connect to the cluster and install the container application.</span></span>
```azurecli
sfctl cluster select --endpoint http://PublicIPorFQDN:19080   # cluster connect command
bash Scripts/install.sh
```
<span data-ttu-id="f2b88-129">Cela permet d’installer un conteneur Jenkins sur le cluster et de l’analyser à l’aide de Service Fabric Explorer.</span><span class="sxs-lookup"><span data-stu-id="f2b88-129">This installs a Jenkins container on the cluster, and can be monitored by using the Service Fabric Explorer.</span></span>

### <a name="steps"></a><span data-ttu-id="f2b88-130">Étapes</span><span class="sxs-lookup"><span data-stu-id="f2b88-130">Steps</span></span>
1. <span data-ttu-id="f2b88-131">Dans votre navigateur, accédez à ``http://PublicIPorFQDN:8081``.</span><span class="sxs-lookup"><span data-stu-id="f2b88-131">From your browser, go to ``http://PublicIPorFQDN:8081``.</span></span> <span data-ttu-id="f2b88-132">Vous obtenez le chemin d’accès du mot de passe administrateur initial requis pour vous connecter.</span><span class="sxs-lookup"><span data-stu-id="f2b88-132">It provides the path of the initial admin password required to sign in.</span></span> <span data-ttu-id="f2b88-133">Vous pouvez continuer à utiliser Jenkins en tant qu’utilisateur administrateur.</span><span class="sxs-lookup"><span data-stu-id="f2b88-133">You can continue to use Jenkins as an admin user.</span></span> <span data-ttu-id="f2b88-134">Ou vous pouvez créer et modifier l’utilisateur, après vous être connecté avec le compte administrateur initial.</span><span class="sxs-lookup"><span data-stu-id="f2b88-134">Or you can create and change the user, after you sign in with the initial admin account.</span></span>

   > [!NOTE]
   > <span data-ttu-id="f2b88-135">Vérifiez que le port 8081 est spécifié en tant que port de point de terminaison de l’application lors de la création du cluster.</span><span class="sxs-lookup"><span data-stu-id="f2b88-135">Ensure that the 8081 port is specified as the application endpoint port while you are creating the cluster.</span></span>
   >

2. <span data-ttu-id="f2b88-136">Obtenez l’ID d’instance conteneur à l’aide de ``docker ps -a``.</span><span class="sxs-lookup"><span data-stu-id="f2b88-136">Get the container instance ID by using ``docker ps -a``.</span></span>
3. <span data-ttu-id="f2b88-137">Connectez-vous en SSH (Secure Shell) au conteneur et collez le chemin d’accès indiqué sur le portail Jenkins.</span><span class="sxs-lookup"><span data-stu-id="f2b88-137">Secure Shell (SSH) sign in to the container, and paste the path you were shown on the Jenkins portal.</span></span> <span data-ttu-id="f2b88-138">Par exemple, si dans le portail le chemin d’accès indiqué est `PATH_TO_INITIAL_ADMIN_PASSWORD`, vous pouvez exécuter ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="f2b88-138">For example, if in the portal it shows the path `PATH_TO_INITIAL_ADMIN_PASSWORD`, run the following:</span></span>

  ```sh
  docker exec -t -i [first-four-digits-of-container-ID] /bin/bash   # This takes you inside Docker shell
  cat PATH_TO_INITIAL_ADMIN_PASSWORD
  ```

4. <span data-ttu-id="f2b88-139">Configurez GitHub pour utiliser Jenkins, en suivant les étapes présentées dans [Generating a new SSH key and adding it to the SSH agent](https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/) (Génération d’une clé SSH et ajout de celle-ci à l’agent SSH).</span><span class="sxs-lookup"><span data-stu-id="f2b88-139">Set up GitHub to work with Jenkins, by using the steps mentioned in [Generating a new SSH key and adding it to the SSH agent](https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/).</span></span>
    * <span data-ttu-id="f2b88-140">Suivez les instructions fournies par GitHub pour générer la clé SSH, puis l’ajouter au compte GitHub qui héberge votre référentiel.</span><span class="sxs-lookup"><span data-stu-id="f2b88-140">Use the instructions provided by GitHub to generate the SSH key, and to add the SSH key to the GitHub account that is hosting your repository.</span></span>
    * <span data-ttu-id="f2b88-141">Exécutez les commandes mentionnées dans le lien ci-dessus dans le shell Jenkins Docker (et non sur l’hôte).</span><span class="sxs-lookup"><span data-stu-id="f2b88-141">Run the commands mentioned in the preceding link in the Jenkins Docker shell (and not on your host).</span></span>
    * <span data-ttu-id="f2b88-142">Pour vous connecter au shell Jenkins depuis votre hôte, utilisez la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="f2b88-142">To sign in to the Jenkins shell from your host, use the following command:</span></span>

  ```sh
  docker exec -t -i [first-four-digits-of-container-ID] /bin/bash
  ```

## <a name="set-up-jenkins-outside-a-service-fabric-cluster"></a><span data-ttu-id="f2b88-143">Configurer Jenkins en dehors d’un cluster Service Fabric</span><span class="sxs-lookup"><span data-stu-id="f2b88-143">Set up Jenkins outside a Service Fabric cluster</span></span>

<span data-ttu-id="f2b88-144">Vous pouvez configurer Jenkins à l’intérieur ou en dehors d’un cluster Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="f2b88-144">You can set up Jenkins either inside or outside of a Service Fabric cluster.</span></span> <span data-ttu-id="f2b88-145">Les sections suivantes expliquent comment le configurer en dehors d’un cluster.</span><span class="sxs-lookup"><span data-stu-id="f2b88-145">The following sections show how to set it up outside a cluster.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="f2b88-146">Composants requis</span><span class="sxs-lookup"><span data-stu-id="f2b88-146">Prerequisites</span></span>
<span data-ttu-id="f2b88-147">Docker doit être installé.</span><span class="sxs-lookup"><span data-stu-id="f2b88-147">You need to have Docker installed.</span></span> <span data-ttu-id="f2b88-148">Les commandes suivantes peuvent être utilisées pour installer Docker à partir du terminal :</span><span class="sxs-lookup"><span data-stu-id="f2b88-148">The following commands can be used to install Docker from the terminal:</span></span>

  ```sh
  sudo apt-get install wget
  wget -qO- https://get.docker.io/ | sh
  ```

<span data-ttu-id="f2b88-149">Désormais, lorsque vous exécutez ``docker info`` dans le terminal, vous devriez voir dans la sortie que le service Docker est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="f2b88-149">Now when you run ``docker info`` in the terminal, you should see in the output that the Docker service is running.</span></span>

### <a name="steps"></a><span data-ttu-id="f2b88-150">Étapes</span><span class="sxs-lookup"><span data-stu-id="f2b88-150">Steps</span></span>
  1. <span data-ttu-id="f2b88-151">Extrayez l’image du conteneur Jenkins de Service Fabric :``docker pull raunakpandya/jenkins:v1``</span><span class="sxs-lookup"><span data-stu-id="f2b88-151">Pull the Service Fabric Jenkins container image: ``docker pull raunakpandya/jenkins:v1``</span></span>
  2. <span data-ttu-id="f2b88-152">Exécutez l’image de conteneur :``docker run -itd -p 8080:8080 raunakpandya/jenkins:v1``</span><span class="sxs-lookup"><span data-stu-id="f2b88-152">Run the container image: ``docker run -itd -p 8080:8080 raunakpandya/jenkins:v1``</span></span>
  3. <span data-ttu-id="f2b88-153">Récupérez l’ID de l’instance d’image du conteneur.</span><span class="sxs-lookup"><span data-stu-id="f2b88-153">Get the ID of the container image instance.</span></span> <span data-ttu-id="f2b88-154">Vous pouvez répertorier tous les conteneurs Docker avec la commande ``docker ps –a``</span><span class="sxs-lookup"><span data-stu-id="f2b88-154">You can list all the Docker containers with the command ``docker ps –a``</span></span>
  4. <span data-ttu-id="f2b88-155">Connectez-vous au portail Jenkins en procédant comme suit :</span><span class="sxs-lookup"><span data-stu-id="f2b88-155">Sign in to the Jenkins portal by using the following steps:</span></span>

    * ```sh
    docker exec [first-four-digits-of-container-ID] cat /var/jenkins_home/secrets/initialAdminPassword
    ```
    <span data-ttu-id="f2b88-156">Si l’ID du conteneur est 2d24a73b5964, utilisez 2d24.</span><span class="sxs-lookup"><span data-stu-id="f2b88-156">If container ID is 2d24a73b5964, use 2d24.</span></span>
    * <span data-ttu-id="f2b88-157">Ce mot de passe est nécessaire pour vous connecter au tableau de bord Jenkins à partir du portail : ``http://<HOST-IP>:8080``</span><span class="sxs-lookup"><span data-stu-id="f2b88-157">This password is required for signing in to the Jenkins dashboard from portal, which is ``http://<HOST-IP>:8080``</span></span>
    * <span data-ttu-id="f2b88-158">Après votre première connexion, vous pouvez créer votre propre compte d’utilisateur pour l’utiliser à l’avenir ou vous pouvez continuer à vous servir du compte d’administrateur.</span><span class="sxs-lookup"><span data-stu-id="f2b88-158">After you sign in for the first time, you can create your own user account and use that for future purposes, or you can continue to use the administrator account.</span></span> <span data-ttu-id="f2b88-159">Après avoir créé un utilisateur, vous devez continuer ainsi.</span><span class="sxs-lookup"><span data-stu-id="f2b88-159">After you create a user, you need to continue with that.</span></span>
  5. <span data-ttu-id="f2b88-160">Configurez GitHub pour utiliser Jenkins, en suivant les étapes présentées dans [Generating a new SSH key and adding it to the SSH agent](https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/) (Génération d’une clé SSH et ajout de celle-ci à l’agent SSH).</span><span class="sxs-lookup"><span data-stu-id="f2b88-160">Set up GitHub to work with Jenkins, by using the steps mentioned in [Generating a new SSH key and adding it to the SSH agent](https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/).</span></span>
        * <span data-ttu-id="f2b88-161">Suivez les instructions fournies par GitHub pour générer la clé SSH, puis l’ajouter au compte GitHub qui héberge le référentiel.</span><span class="sxs-lookup"><span data-stu-id="f2b88-161">Use the instructions provided by GitHub to generate the SSH key, and to add the SSH key to the GitHub account that is hosting the repository.</span></span>
        * <span data-ttu-id="f2b88-162">Exécutez les commandes mentionnées dans le lien ci-dessus dans le shell Jenkins Docker (et non sur l’hôte).</span><span class="sxs-lookup"><span data-stu-id="f2b88-162">Run the commands mentioned in the preceding link in the Jenkins Docker shell (and not on your host).</span></span>
      * <span data-ttu-id="f2b88-163">Pour vous connecter au shell Jenkins depuis votre hôte, utilisez les commandes suivantes :</span><span class="sxs-lookup"><span data-stu-id="f2b88-163">To sign in to the Jenkins shell from your host, use the following commands:</span></span>

      ```sh
      docker exec -t -i [first-four-digits-of-container-ID] /bin/bash
      ```

<span data-ttu-id="f2b88-164">Vérifiez que le cluster ou la machine hébergeant l’image de conteneur Jenkins possède une adresse IP publique.</span><span class="sxs-lookup"><span data-stu-id="f2b88-164">Ensure that the cluster or machine where the Jenkins container image is hosted has a public-facing IP.</span></span> <span data-ttu-id="f2b88-165">Cela permet à l’instance Jenkins de recevoir des notifications de GitHub.</span><span class="sxs-lookup"><span data-stu-id="f2b88-165">This enables the Jenkins instance to receive notifications from GitHub.</span></span>

## <a name="install-the-service-fabric-jenkins-plug-in-from-the-portal"></a><span data-ttu-id="f2b88-166">Installer le plug-in Jenkins de Service Fabric depuis le portail</span><span class="sxs-lookup"><span data-stu-id="f2b88-166">Install the Service Fabric Jenkins plug-in from the portal</span></span>

1. <span data-ttu-id="f2b88-167">Accédez à ``http://PublicIPorFQDN:8081``</span><span class="sxs-lookup"><span data-stu-id="f2b88-167">Go to ``http://PublicIPorFQDN:8081``</span></span>
2. <span data-ttu-id="f2b88-168">Dans le tableau de bord Jenkins, sélectionnez **Manage Jenkins** > **Manage Plugins** > **Advanced** (Gérer Jenkins -> Gérer les plug-ins -> Avancé).</span><span class="sxs-lookup"><span data-stu-id="f2b88-168">From the Jenkins dashboard, select **Manage Jenkins** > **Manage Plugins** > **Advanced**.</span></span>
<span data-ttu-id="f2b88-169">Ici, vous pouvez charger un plug-in.</span><span class="sxs-lookup"><span data-stu-id="f2b88-169">Here, you can upload a plug-in.</span></span> <span data-ttu-id="f2b88-170">Sélectionnez **Choisir un fichier**, puis sélectionnez le fichier **serviceFabric.hpi**, que vous avez téléchargé sous les conditions préalables.</span><span class="sxs-lookup"><span data-stu-id="f2b88-170">Select **Choose file**, and then select the **serviceFabric.hpi** file, which you downloaded under prerequisites.</span></span> <span data-ttu-id="f2b88-171">Quand vous sélectionnez **Charger**, Jenkins installe automatiquement le plug-in.</span><span class="sxs-lookup"><span data-stu-id="f2b88-171">When you select **Upload**, Jenkins automatically installs the plug-in.</span></span> <span data-ttu-id="f2b88-172">Autorisez un redémarrage si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="f2b88-172">Allow a restart if requested.</span></span>

## <a name="create-and-configure-a-jenkins-job"></a><span data-ttu-id="f2b88-173">Créer et configurer un travail Jenkins</span><span class="sxs-lookup"><span data-stu-id="f2b88-173">Create and configure a Jenkins job</span></span>

1. <span data-ttu-id="f2b88-174">Créez un **élément** à partir du tableau de bord.</span><span class="sxs-lookup"><span data-stu-id="f2b88-174">Create a **new item** from dashboard.</span></span>
2. <span data-ttu-id="f2b88-175">Entrez un nom d’élément (par exemple, **MyJob**).</span><span class="sxs-lookup"><span data-stu-id="f2b88-175">Enter an item name (for example, **MyJob**).</span></span> <span data-ttu-id="f2b88-176">Sélectionnez **free-style project** (projet libre), puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="f2b88-176">Select **free-style project**, and click **OK**.</span></span>
3. <span data-ttu-id="f2b88-177">Accédez à la page du travail, puis cliquez sur **Configurer**.</span><span class="sxs-lookup"><span data-stu-id="f2b88-177">Go the job page, and click **Configure**.</span></span>

   <span data-ttu-id="f2b88-178">a.</span><span class="sxs-lookup"><span data-stu-id="f2b88-178">a.</span></span> <span data-ttu-id="f2b88-179">Dans la section générale, sous **GitHub project** (Projet GitHub), spécifiez l’URL de votre projet GitHub.</span><span class="sxs-lookup"><span data-stu-id="f2b88-179">In the general section, under **GitHub project**, specify your GitHub project URL.</span></span> <span data-ttu-id="f2b88-180">Cette URL héberge l’application Java Service Fabric que vous souhaitez intégrer au flux d’intégration continue et de déploiement continu Jenkins (CI/CD) (par exemple, ``https://github.com/sayantancs/SFJenkins``).</span><span class="sxs-lookup"><span data-stu-id="f2b88-180">This URL hosts the Service Fabric Java application that you want to integrate with the Jenkins continuous integration, continuous deployment (CI/CD) flow (for example, ``https://github.com/sayantancs/SFJenkins``).</span></span>

   <span data-ttu-id="f2b88-181">b.</span><span class="sxs-lookup"><span data-stu-id="f2b88-181">b.</span></span> <span data-ttu-id="f2b88-182">Sous la section **Gestion du code source**, sélectionnez **Git**.</span><span class="sxs-lookup"><span data-stu-id="f2b88-182">Under the **Source Code Management** section, select **Git**.</span></span> <span data-ttu-id="f2b88-183">Spécifiez l’URL du référentiel qui héberge l’application Java Service Fabric que vous souhaitez intégrer au flux Jenkins CI/CD (par exemple, ``https://github.com/sayantancs/SFJenkins.git``).</span><span class="sxs-lookup"><span data-stu-id="f2b88-183">Specify the repository URL that hosts the Service Fabric Java application that you want to integrate with the Jenkins CI/CD flow (for example, ``https://github.com/sayantancs/SFJenkins.git``).</span></span> <span data-ttu-id="f2b88-184">Vous pouvez également spécifier ici la branche à générer (par exemple, **/master**).</span><span class="sxs-lookup"><span data-stu-id="f2b88-184">Also, you can specify here which branch to build (for example, **/master**).</span></span>
4. <span data-ttu-id="f2b88-185">Configurez votre *GitHub* (qui héberge le référentiel) afin qu’il soit en mesure de communiquer avec Jenkins.</span><span class="sxs-lookup"><span data-stu-id="f2b88-185">Configure your *GitHub* (which is hosting the repository) so that it is able to talk to Jenkins.</span></span> <span data-ttu-id="f2b88-186">Procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="f2b88-186">Use the following steps:</span></span>

   <span data-ttu-id="f2b88-187">a.</span><span class="sxs-lookup"><span data-stu-id="f2b88-187">a.</span></span> <span data-ttu-id="f2b88-188">Accédez à la page de votre référentiel GitHub.</span><span class="sxs-lookup"><span data-stu-id="f2b88-188">Go to your GitHub repository page.</span></span> <span data-ttu-id="f2b88-189">Accédez à **Settings** > **Integrations and Services** (Paramètres -> Intégrations et services).</span><span class="sxs-lookup"><span data-stu-id="f2b88-189">Go to **Settings** > **Integrations and Services**.</span></span>

   <span data-ttu-id="f2b88-190">b.</span><span class="sxs-lookup"><span data-stu-id="f2b88-190">b.</span></span> <span data-ttu-id="f2b88-191">Sélectionnez **Add Service** (Ajouter un service), tapez **Jenkins** et sélectionnez le **plug-in Jenkins-Github**.</span><span class="sxs-lookup"><span data-stu-id="f2b88-191">Select **Add Service**, type **Jenkins**, and select the **Jenkins-GitHub plugin**.</span></span>

   <span data-ttu-id="f2b88-192">c.</span><span class="sxs-lookup"><span data-stu-id="f2b88-192">c.</span></span> <span data-ttu-id="f2b88-193">Entrez votre URL du webhook Jenkins (par défaut, il doit être ``http://<PublicIPorFQDN>:8081/github-webhook/``).</span><span class="sxs-lookup"><span data-stu-id="f2b88-193">Enter your Jenkins webhook URL (by default, it should be ``http://<PublicIPorFQDN>:8081/github-webhook/``).</span></span> <span data-ttu-id="f2b88-194">Cliquez sur **Add/Update service** (Ajouter/Mettre à jour le service).</span><span class="sxs-lookup"><span data-stu-id="f2b88-194">Click **add/update service**.</span></span>

   <span data-ttu-id="f2b88-195">d.</span><span class="sxs-lookup"><span data-stu-id="f2b88-195">d.</span></span> <span data-ttu-id="f2b88-196">Un événement de test est envoyé à votre instance Jenkins.</span><span class="sxs-lookup"><span data-stu-id="f2b88-196">A test event is sent to your Jenkins instance.</span></span> <span data-ttu-id="f2b88-197">Vous devez voir une coche verte à côté du webhook dans GitHub et votre projet sera généré.</span><span class="sxs-lookup"><span data-stu-id="f2b88-197">You should see a green check by the webhook in GitHub, and your project will build.</span></span>

   <span data-ttu-id="f2b88-198">e.</span><span class="sxs-lookup"><span data-stu-id="f2b88-198">e.</span></span> <span data-ttu-id="f2b88-199">Dans la section **Build Triggers** (Générer des déclencheurs), sélectionnez l’option de création souhaitée.</span><span class="sxs-lookup"><span data-stu-id="f2b88-199">Under the **Build Triggers** section, select which build option you want.</span></span> <span data-ttu-id="f2b88-200">Pour cet exemple, vous souhaitez déclencher une génération chaque fois qu’un envoi a lieu vers le référentiel.</span><span class="sxs-lookup"><span data-stu-id="f2b88-200">For this example, you want to trigger a build whenever some push to the repository happens.</span></span> <span data-ttu-id="f2b88-201">Vous sélectionnez donc **GitHub hook trigger for GITScm polling** (Déclencher un hook GitHub pour l’interrogation GITScm).</span><span class="sxs-lookup"><span data-stu-id="f2b88-201">So you select **GitHub hook trigger for GITScm polling**.</span></span> <span data-ttu-id="f2b88-202">(Cette option s’appelait auparavant **Build when a change is pushed to GitHub** (Générer lorsqu’une modification est envoyée à GitHub).)</span><span class="sxs-lookup"><span data-stu-id="f2b88-202">(Previously, this option was called **Build when a change is pushed to GitHub**.)</span></span>

   <span data-ttu-id="f2b88-203">f.</span><span class="sxs-lookup"><span data-stu-id="f2b88-203">f.</span></span> <span data-ttu-id="f2b88-204">Sous la **section Build** (Générer), dans la liste déroulante **Add build step** (Ajouter une étape de génération), sélectionnez l’option **Invoke Gradle Script** (Appeler le script Gradle).</span><span class="sxs-lookup"><span data-stu-id="f2b88-204">Under the **Build section**, from the drop-down **Add build step**, select the option **Invoke Gradle Script**.</span></span> <span data-ttu-id="f2b88-205">Dans le widget qui apparaît, spécifiez le chemin d’accès à **Root build script** (Script de génération racine) pour votre application.</span><span class="sxs-lookup"><span data-stu-id="f2b88-205">In the widget that comes, specify the path to **Root build script** for your application.</span></span> <span data-ttu-id="f2b88-206">Il récupère le Gradle de la génération à partir du chemin spécifié et fonctionne en conséquence.</span><span class="sxs-lookup"><span data-stu-id="f2b88-206">It picks up build.gradle from the path specified, and works accordingly.</span></span> <span data-ttu-id="f2b88-207">Si vous créez un projet nommé ``MyActor`` (à l’aide du plug-in Eclipse ou du générateur Yeoman), le script de compilation racine doit contenir ``${WORKSPACE}/MyActor``.</span><span class="sxs-lookup"><span data-stu-id="f2b88-207">If you create a project named ``MyActor`` (using the Eclipse plug-in or Yeoman generator), the root build script should contain ``${WORKSPACE}/MyActor``.</span></span> <span data-ttu-id="f2b88-208">Consultez la capture d’écran ci-dessous pour avoir une idée du rendu :</span><span class="sxs-lookup"><span data-stu-id="f2b88-208">See the following screenshot for an example of what this looks like:</span></span>

    ![Action de génération Jenkins de Service Fabric][build-step]

   <span data-ttu-id="f2b88-210">g.</span><span class="sxs-lookup"><span data-stu-id="f2b88-210">g.</span></span> <span data-ttu-id="f2b88-211">Dans la liste déroulante **Post-Build Actions** (Actions post-génération), sélectionnez **Deploy Service Fabric Project** (Déployer le projet Service Fabric).</span><span class="sxs-lookup"><span data-stu-id="f2b88-211">From the **Post-Build Actions** drop-down, select **Deploy Service Fabric Project**.</span></span> <span data-ttu-id="f2b88-212">Ici, vous devez fournir des détails sur le cluster où l’application Service Fabric compilée par Jenkins est déployée.</span><span class="sxs-lookup"><span data-stu-id="f2b88-212">Here you need to provide cluster details where the Jenkins compiled Service Fabric application would be deployed.</span></span> <span data-ttu-id="f2b88-213">Vous pouvez également donner des informations supplémentaires sur l’application utilisée pour déployer l’application.</span><span class="sxs-lookup"><span data-stu-id="f2b88-213">You can also provide additional application details used to deploy the application.</span></span> <span data-ttu-id="f2b88-214">Consultez la capture d’écran ci-dessous pour avoir une idée du rendu :</span><span class="sxs-lookup"><span data-stu-id="f2b88-214">See the following screenshot for an example of what this looks like:</span></span>

    ![Action de génération Jenkins de Service Fabric][post-build-step]

   > [!NOTE]
   > <span data-ttu-id="f2b88-216">Le cluster ici peut être identique à celui qui héberge l’application de conteneur Jenkins dans le cas où vous utilisez Service Fabric pour déployer l’image de conteneur Jenkins.</span><span class="sxs-lookup"><span data-stu-id="f2b88-216">The cluster here could be same as the one hosting the Jenkins container application, in case you are using Service Fabric to deploy the Jenkins container image.</span></span>
   >

## <a name="next-steps"></a><span data-ttu-id="f2b88-217">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="f2b88-217">Next steps</span></span>
<span data-ttu-id="f2b88-218">GitHub et Jenkins sont maintenant configurés.</span><span class="sxs-lookup"><span data-stu-id="f2b88-218">GitHub and Jenkins are now configured.</span></span> <span data-ttu-id="f2b88-219">Envisagez d’effectuer des exemples de modifications dans votre projet ``MyActor`` dans l’exemple de référentiel, https://github.com/sayantancs/SFJenkins.</span><span class="sxs-lookup"><span data-stu-id="f2b88-219">Consider making some sample change in your ``MyActor`` project in the repository example, https://github.com/sayantancs/SFJenkins.</span></span> <span data-ttu-id="f2b88-220">Envoyez vos modifications à la branche ``master`` distante (ou à n’importe quelle branche configurée pour être compatible).</span><span class="sxs-lookup"><span data-stu-id="f2b88-220">Push your changes to a remote ``master`` branch (or any branch that you have configured to work with).</span></span> <span data-ttu-id="f2b88-221">Cela déclenche le travail Jenkins, ``MyJob``, que vous avez configuré.</span><span class="sxs-lookup"><span data-stu-id="f2b88-221">This triggers the Jenkins job, ``MyJob``, that you configured.</span></span> <span data-ttu-id="f2b88-222">Il extrait les modifications de GitHub, les génère et déploie l’application sur le point de terminaison du cluster spécifié dans les actions après génération.</span><span class="sxs-lookup"><span data-stu-id="f2b88-222">It fetches the changes from GitHub, builds them, and deploys the application to the cluster endpoint you specified in post-build actions.</span></span>  

  <!-- Images -->
  [build-step]: ./media/service-fabric-cicd-your-linux-java-application-with-jenkins/build-step.png
  [post-build-step]: ./media/service-fabric-cicd-your-linux-java-application-with-jenkins/post-build-step.png
