---
title: aaaScale une infrastructure de Service de cluster ou de sortie | Documents Microsoft
description: "Faire évoluer un cluster Service Fabric ou d’annuler la demande de toomatch en définissant des règles à l’échelle automatique pour chaque nœud type/Virtual Machines identiques. Ajouter ou supprimer le cluster de nœuds tooa Service Fabric"
services: service-fabric
documentationcenter: .net
author: ChackDan
manager: timlt
editor: 
ms.assetid: aeb76f63-7303-4753-9c64-46146340b83d
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 06/22/2017
ms.author: chackdan
ms.openlocfilehash: 37cfeaf80edc016cf6de017d1c2dc6fbcb8acc2a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="scale-a-service-fabric-cluster-in-or-out-using-auto-scale-rules"></a><span data-ttu-id="73c45-104">Augmenter ou diminuer la taille des instances d’un cluster Service Fabric à l’aide de règles de mise à l’échelle automatique</span><span class="sxs-lookup"><span data-stu-id="73c45-104">Scale a Service Fabric cluster in or out using auto-scale rules</span></span>
<span data-ttu-id="73c45-105">Machines virtuelles identiques constituent une ressource de calcul Azure que vous pouvez utiliser toodeploy et gérer une collection d’ordinateurs virtuels en tant qu’ensemble.</span><span class="sxs-lookup"><span data-stu-id="73c45-105">Virtual machine scale sets are an Azure compute resource that you can use toodeploy and manage a collection of virtual machines as a set.</span></span> <span data-ttu-id="73c45-106">Chaque type de nœud qui est défini dans un cluster Service Fabric est configuré en tant que groupe de machines virtuelles identiques distinct.</span><span class="sxs-lookup"><span data-stu-id="73c45-106">Every node type that is defined in a Service Fabric cluster is set up as a separate Virtual Machine scale set.</span></span> <span data-ttu-id="73c45-107">Chaque type de nœud peut ensuite faire l’objet d’une augmentation ou d’une diminution de la taille des instances de manière indépendante, avoir différents jeux de ports ouverts et présenter différentes métriques de capacité.</span><span class="sxs-lookup"><span data-stu-id="73c45-107">Each node type can then be scaled in or out independently, have different sets of ports open, and can have different capacity metrics.</span></span> <span data-ttu-id="73c45-108">En savoir plus sur dans hello [Service Fabric nodetypes](service-fabric-cluster-nodetypes.md) document.</span><span class="sxs-lookup"><span data-stu-id="73c45-108">Read more about it in hello [Service Fabric nodetypes](service-fabric-cluster-nodetypes.md) document.</span></span> <span data-ttu-id="73c45-109">Étant donné que les types de nœud de Service Fabric hello dans votre cluster sont constitués de machines virtuelles identiques à hello principal, vous devez tooset des règles de l’échelle automatique pour chaque nœud type/Virtual Machines identiques.</span><span class="sxs-lookup"><span data-stu-id="73c45-109">Since hello Service Fabric node types in your cluster are made of Virtual Machine scale sets at hello backend, you need tooset up auto-scale rules for each node type/Virtual Machine scale set.</span></span>

> [!NOTE]
> <span data-ttu-id="73c45-110">Votre abonnement doit avoir suffisamment tooadd cœurs hello de nouveaux ordinateurs virtuels qui composent ce cluster.</span><span class="sxs-lookup"><span data-stu-id="73c45-110">Your subscription must have enough cores tooadd hello new VMs that make up this cluster.</span></span> <span data-ttu-id="73c45-111">Il n’existe aucune validation du modèle actuellement, donc vous obtenez une erreur de temps de déploiement, si une des limites de quota hello sont atteints.</span><span class="sxs-lookup"><span data-stu-id="73c45-111">There is no model validation currently, so you get a deployment time failure, if any of hello quota limits are hit.</span></span>
> 
> 

## <a name="choose-hello-node-typevirtual-machine-scale-set-tooscale"></a><span data-ttu-id="73c45-112">Choisissez le nœud type/virtuel échelle de machines hello tooscale</span><span class="sxs-lookup"><span data-stu-id="73c45-112">Choose hello node type/Virtual Machine scale set tooscale</span></span>
<span data-ttu-id="73c45-113">Actuellement, vous n’êtes pas toospecify en mesure de règles de l’échelle automatique hello pour les machines virtuelles identiques à l’aide du portail de hello, donc nous permettent d’utiliser des types de nœuds Azure PowerShell (1.0 +) toolist hello et puis ajoutez toothem de règles à l’échelle automatique.</span><span class="sxs-lookup"><span data-stu-id="73c45-113">Currently, you are not able toospecify hello auto-scale rules for Virtual Machine scale sets using hello portal, so let us use Azure PowerShell (1.0+) toolist hello node types and then add auto-scale rules toothem.</span></span>

<span data-ttu-id="73c45-114">liste de hello tooget de Machine virtuelle ensemble d’échelle qui composent votre cluster, exécutez hello suivant d’applets de commande :</span><span class="sxs-lookup"><span data-stu-id="73c45-114">tooget hello list of Virtual Machine scale set that make up your cluster, run hello following cmdlets:</span></span>

```powershell
Get-AzureRmResource -ResourceGroupName <RGname> -ResourceType Microsoft.Compute/VirtualMachineScaleSets

Get-AzureRmVmss -ResourceGroupName <RGname> -VMScaleSetName <Virtual Machine scale set name>
```

## <a name="set-auto-scale-rules-for-hello-node-typevirtual-machine-scale-set"></a><span data-ttu-id="73c45-115">Définir des règles à l’échelle automatique pour l’ensemble d’échelle hello nœud type/Virtual Machine</span><span class="sxs-lookup"><span data-stu-id="73c45-115">Set auto-scale rules for hello node type/Virtual Machine scale set</span></span>
<span data-ttu-id="73c45-116">Si votre cluster a plusieurs types de nœud, puis répétez ces étapes pour chaque nœud virtuel/types de montée en puissance de l’ordinateur définit que vous souhaitez tooscale (entrant ou sortant).</span><span class="sxs-lookup"><span data-stu-id="73c45-116">If your cluster has multiple node types, then repeat this for each node types/Virtual Machine scale sets that you want tooscale (in or out).</span></span> <span data-ttu-id="73c45-117">Tenir numéro hello de nœuds que vous devez disposer avant de configurer la mise à l’échelle automatique.</span><span class="sxs-lookup"><span data-stu-id="73c45-117">Take into account hello number of nodes that you must have before you set up auto-scaling.</span></span> <span data-ttu-id="73c45-118">nombre minimal de Hello de nœuds que vous devez posséder pour le type de nœud principal hello est piloté par le niveau de fiabilité hello que vous avez choisi.</span><span class="sxs-lookup"><span data-stu-id="73c45-118">hello minimum number of nodes that you must have for hello primary node type is driven by hello reliability level you have chosen.</span></span> <span data-ttu-id="73c45-119">En savoir plus sur les [niveaux de fiabilité](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="73c45-119">Read more about [reliability levels](service-fabric-cluster-capacity.md).</span></span>

> [!NOTE]
> <span data-ttu-id="73c45-120">Mise à l’échelle vers le bas accessible sans type de nœud principal hello que ce nombre minimal de hello rendre le cluster de hello instable ou mettez-le vers le bas.</span><span class="sxs-lookup"><span data-stu-id="73c45-120">Scaling down hello primary node type tooless than hello minimum number make hello cluster unstable or bring it down.</span></span> <span data-ttu-id="73c45-121">Cela peut entraîner une perte de données pour vos applications et services de système de hello.</span><span class="sxs-lookup"><span data-stu-id="73c45-121">This could result in data loss for your applications and for hello system services.</span></span>
> 
> 

<span data-ttu-id="73c45-122">Actuellement fonctionnalité à l’échelle automatique de hello n’est pas pilotée par les charges hello que vos applications peuvent signaler tooService l’ensemble fibre optique.</span><span class="sxs-lookup"><span data-stu-id="73c45-122">Currently hello auto-scale feature is not driven by hello loads that your applications may be reporting tooService Fabric.</span></span> <span data-ttu-id="73c45-123">Par conséquent, à ce hello temps vous obtenez à l’échelle automatique est purement piloté par les compteurs de performance hello qui sont émis par chacune des instances de jeu de mise à l’échelle de Machine virtuelle hello.</span><span class="sxs-lookup"><span data-stu-id="73c45-123">So at this time hello auto-scale you get is purely driven by hello performance counters that are emitted by each of hello Virtual Machine scale set instances.</span></span>  

<span data-ttu-id="73c45-124">Suivez ces instructions [tooset à l’échelle automatique pour chaque ensemble d’échelle de Machine virtuelle](../virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview.md).</span><span class="sxs-lookup"><span data-stu-id="73c45-124">Follow these instructions [tooset up auto-scale for each Virtual Machine scale set](../virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview.md).</span></span>

> [!NOTE]
> <span data-ttu-id="73c45-125">Dans une mise à l’échelle vers le bas du scénario, à moins que votre type de nœud possède un niveau de durabilité d’argent ou or vous devez toocall hello [applet de commande Remove-ServiceFabricNodeState](https://msdn.microsoft.com/library/azure/mt125993.aspx) avec le nom de nœud approprié hello.</span><span class="sxs-lookup"><span data-stu-id="73c45-125">In a scale down scenario, unless your node type has a durability level of Gold or Silver you need toocall hello [Remove-ServiceFabricNodeState cmdlet](https://msdn.microsoft.com/library/azure/mt125993.aspx) with hello appropriate node name.</span></span>
> 
> 

## <a name="manually-add-vms-tooa-node-typevirtual-machine-scale-set"></a><span data-ttu-id="73c45-126">Ajouter manuellement des machines virtuelles tooa nœud type/Virtual Machines identiques</span><span class="sxs-lookup"><span data-stu-id="73c45-126">Manually add VMs tooa node type/Virtual Machine scale set</span></span>
<span data-ttu-id="73c45-127">Suivez l’exemple hello/instructions hello [galerie de modèles de démarrage rapide](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) nombre de hello toochange d’ordinateurs virtuels dans chaque Nodetype.</span><span class="sxs-lookup"><span data-stu-id="73c45-127">Follow hello sample/instructions in hello [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello number of VMs in each Nodetype.</span></span> 

> [!NOTE]
> <span data-ttu-id="73c45-128">Ajout de machines virtuelles du temps, donc n’attendent ne pas hello ajouts toobe instantanée.</span><span class="sxs-lookup"><span data-stu-id="73c45-128">Adding of VMs takes time, so do not expect hello additions toobe instantaneous.</span></span> <span data-ttu-id="73c45-129">Par conséquent, planifier la capacité de tooadd bien dans le temps, tooallow plus de 10 minutes avant de hello capacité de machine virtuelle est disponible pour les réplicas de hello / tooget instances placé de service.</span><span class="sxs-lookup"><span data-stu-id="73c45-129">So plan tooadd capacity well in time, tooallow for over 10 minutes before hello VM capacity is available for hello replicas/ service instances tooget placed.</span></span>
> 
> 

## <a name="manually-remove-vms-from-hello-primary-node-typevirtual-machine-scale-set"></a><span data-ttu-id="73c45-130">Supprimer manuellement les ordinateurs virtuels à partir de l’ensemble d’échelle hello nœud principal type/Virtual Machine</span><span class="sxs-lookup"><span data-stu-id="73c45-130">Manually remove VMs from hello primary node type/Virtual Machine scale set</span></span>
> [!NOTE]
> <span data-ttu-id="73c45-131">services de système de l’infrastructure de service Hello exécutent dans le type de nœud principal hello dans votre cluster.</span><span class="sxs-lookup"><span data-stu-id="73c45-131">hello service fabric system services run in hello Primary node type in your cluster.</span></span> <span data-ttu-id="73c45-132">Par conséquent, ne doit jamais arrêter ou nombre hello d’instances qui des types de nœud à l’échelle inférieure à quel niveau de fiabilité hello justifie.</span><span class="sxs-lookup"><span data-stu-id="73c45-132">So should never shut down or scale down hello number of instances in that node types less than what hello reliability tier warrants.</span></span> <span data-ttu-id="73c45-133">Consultez trop[hello plus d’informations sur les niveaux de fiabilité ici](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="73c45-133">Refer too[hello details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span> 
> 
> 

<span data-ttu-id="73c45-134">Vous devez tooexecute suivant de hello étapes d’une instance de machine virtuelle à la fois.</span><span class="sxs-lookup"><span data-stu-id="73c45-134">You need tooexecute hello following steps one VM instance at a time.</span></span> <span data-ttu-id="73c45-135">Ainsi, les services système hello (et vos services avec état) toobe s’arrête sur l’instance de machine virtuelle hello à supprimer et les nouveaux réplicas créés sur d’autres nœuds.</span><span class="sxs-lookup"><span data-stu-id="73c45-135">This allows for hello system services (and your stateful services) toobe shut down gracefully on hello VM instance you are removing and new replicas created on other nodes.</span></span>

1. <span data-ttu-id="73c45-136">Exécutez [Disable-ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) avec intention nœud de hello toodisable « RemoveNode » que vous allez tooremove (instance la plus élevée dans ce type de nœud hello).</span><span class="sxs-lookup"><span data-stu-id="73c45-136">Run [Disable-ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) with intent ‘RemoveNode’ toodisable hello node you’re going tooremove (hello highest instance in that node type).</span></span>
2. <span data-ttu-id="73c45-137">Exécutez [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake que ce nœud hello est passée en effet toodisabled.</span><span class="sxs-lookup"><span data-stu-id="73c45-137">Run [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake sure that hello node has indeed transitioned toodisabled.</span></span> <span data-ttu-id="73c45-138">Si ce n’est pas le cas, attendez que le nœud de hello est désactivé.</span><span class="sxs-lookup"><span data-stu-id="73c45-138">If not, wait until hello node is disabled.</span></span> <span data-ttu-id="73c45-139">Vous ne pouvez pas accélérer cette étape.</span><span class="sxs-lookup"><span data-stu-id="73c45-139">You cannot hurry this step.</span></span>
3. <span data-ttu-id="73c45-140">Suivez l’exemple hello/instructions hello [galerie de modèles de démarrage rapide](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello plusieurs ordinateurs virtuels d’une unité à ce Nodetype.</span><span class="sxs-lookup"><span data-stu-id="73c45-140">Follow hello sample/instructions in hello [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello number of VMs by one in that Nodetype.</span></span> <span data-ttu-id="73c45-141">instance Hello supprimé est instance de machine virtuelle la plus élevée hello.</span><span class="sxs-lookup"><span data-stu-id="73c45-141">hello instance removed is hello highest VM instance.</span></span> 
4. <span data-ttu-id="73c45-142">Répétez les étapes 1 à 3, en fonction des besoins, mais jamais à l’échelle nombre hello d’instances dans les types de nœud principal de hello inférieur à quel niveau de fiabilité hello justifient ou non.</span><span class="sxs-lookup"><span data-stu-id="73c45-142">Repeat steps 1 through 3 as needed, but never scale down hello number of instances in hello primary node types less than what hello reliability tier warrants.</span></span> <span data-ttu-id="73c45-143">Consultez trop[hello plus d’informations sur les niveaux de fiabilité ici](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="73c45-143">Refer too[hello details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span> 

## <a name="manually-remove-vms-from-hello-non-primary-node-typevirtual-machine-scale-set"></a><span data-ttu-id="73c45-144">Supprimez manuellement les ordinateurs virtuels à partir d’un nœud principal hello type/Virtual Machines identiques</span><span class="sxs-lookup"><span data-stu-id="73c45-144">Manually remove VMs from hello non-primary node type/Virtual Machine scale set</span></span>
> [!NOTE]
> <span data-ttu-id="73c45-145">Pour un service avec état, vous avez besoin un certain nombre de nœuds toobe toujours toomaintain disponibilité et conserver l’état de votre service.</span><span class="sxs-lookup"><span data-stu-id="73c45-145">For a stateful service, you need a certain number of nodes toobe always up toomaintain availability and preserve state of your service.</span></span> <span data-ttu-id="73c45-146">Hello minimum, vous devez hello nombre de nœuds égale toohello cible réplica ensemble de service/partition hello.</span><span class="sxs-lookup"><span data-stu-id="73c45-146">At hello very minimum, you need hello number of nodes equal toohello target replica set count of hello partition/service.</span></span> 
> 
> 

<span data-ttu-id="73c45-147">Vous devez hello exécuter hello suivant d’une instance de machine virtuelle comme suit à la fois.</span><span class="sxs-lookup"><span data-stu-id="73c45-147">You need hello execute hello following steps one VM instance at a time.</span></span> <span data-ttu-id="73c45-148">Ainsi, toobe s’arrête sur hello instance de machine virtuelle à supprimer les services système hello (et vos services avec état) et nouveaux réplicas créé where else.</span><span class="sxs-lookup"><span data-stu-id="73c45-148">This allows for hello system services (and your stateful services) toobe shut down gracefully on hello VM instance you are removing and new replicas created else where.</span></span>

1. <span data-ttu-id="73c45-149">Exécutez [Disable-ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) avec intention nœud de hello toodisable « RemoveNode » que vous allez tooremove (instance la plus élevée dans ce type de nœud hello).</span><span class="sxs-lookup"><span data-stu-id="73c45-149">Run [Disable-ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) with intent ‘RemoveNode’ toodisable hello node you’re going tooremove (hello highest instance in that node type).</span></span>
2. <span data-ttu-id="73c45-150">Exécutez [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake que ce nœud hello est passée en effet toodisabled.</span><span class="sxs-lookup"><span data-stu-id="73c45-150">Run [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake sure that hello node has indeed transitioned toodisabled.</span></span> <span data-ttu-id="73c45-151">Si ce n’est pas le cas, attendez que le nœud de hello est désactivé.</span><span class="sxs-lookup"><span data-stu-id="73c45-151">If not wait till hello node is disabled.</span></span> <span data-ttu-id="73c45-152">Vous ne pouvez pas accélérer cette étape.</span><span class="sxs-lookup"><span data-stu-id="73c45-152">You cannot hurry this step.</span></span>
3. <span data-ttu-id="73c45-153">Suivez l’exemple hello/instructions hello [galerie de modèles de démarrage rapide](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello plusieurs ordinateurs virtuels d’une unité à ce Nodetype.</span><span class="sxs-lookup"><span data-stu-id="73c45-153">Follow hello sample/instructions in hello [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello number of VMs by one in that Nodetype.</span></span> <span data-ttu-id="73c45-154">Cela va supprimer instance de machine virtuelle la plus élevée hello.</span><span class="sxs-lookup"><span data-stu-id="73c45-154">This will now remove hello highest VM instance.</span></span> 
4. <span data-ttu-id="73c45-155">Répétez les étapes 1 à 3, en fonction des besoins, mais jamais à l’échelle nombre hello d’instances dans les types de nœud principal de hello inférieur à quel niveau de fiabilité hello justifient ou non.</span><span class="sxs-lookup"><span data-stu-id="73c45-155">Repeat steps 1 through 3 as needed, but never scale down hello number of instances in hello primary node types less than what hello reliability tier warrants.</span></span> <span data-ttu-id="73c45-156">Consultez trop[hello plus d’informations sur les niveaux de fiabilité ici](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="73c45-156">Refer too[hello details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span>

## <a name="behaviors-you-may-observe-in-service-fabric-explorer"></a><span data-ttu-id="73c45-157">Comportements que vous pouvez observer dans Service Fabric Explorer</span><span class="sxs-lookup"><span data-stu-id="73c45-157">Behaviors you may observe in Service Fabric Explorer</span></span>
<span data-ttu-id="73c45-158">Lors de la montée en puissance un Bonjour cluster Service Fabric Explorer reflétera nombre hello de nœuds (ensemble d’échelle de Machine virtuelle instances) qui font partie du cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="73c45-158">When you scale up a cluster hello Service Fabric Explorer will reflect hello number of nodes (Virtual Machine scale set instances) that are part of hello cluster.</span></span>  <span data-ttu-id="73c45-159">Toutefois, lorsque vous redimensionnez un cluster, vous verrez instance de nœud/VM hello supprimé affiché dans un état non intègre sauf si vous appelez [Remove-ServiceFabricNodeState cmd](https://msdn.microsoft.com/library/mt125993.aspx) avec le nom de nœud approprié hello.</span><span class="sxs-lookup"><span data-stu-id="73c45-159">However, when you scale a cluster down you will see hello removed node/VM instance displayed in an unhealthy state unless you call [Remove-ServiceFabricNodeState cmd](https://msdn.microsoft.com/library/mt125993.aspx) with hello appropriate node name.</span></span>   

<span data-ttu-id="73c45-160">Voici une explication hello pour ce comportement.</span><span class="sxs-lookup"><span data-stu-id="73c45-160">Here is hello explanation for this behavior.</span></span>

<span data-ttu-id="73c45-161">nœuds répertoriés dans le Service Fabric Explorer Hello sont une réflexion de quels services de système de Service Fabric hello (FM spécifiquement) connaît le nombre de hello du cluster de hello nœuds attendu/a.</span><span class="sxs-lookup"><span data-stu-id="73c45-161">hello nodes listed in Service Fabric Explorer are a reflection of what hello Service Fabric system services (FM specifically) knows about hello number of nodes hello cluster had/has.</span></span> <span data-ttu-id="73c45-162">Lorsque vous faites évoluer hello échelle de machines virtuelles vers le bas, hello machine virtuelle a été supprimé, mais le service système FM considère toujours que reviendra de ce nœud hello (qui a été mappé toohello machine virtuelle qui a été supprimé).</span><span class="sxs-lookup"><span data-stu-id="73c45-162">When you scale hello Virtual Machine scale set down, hello VM was deleted but FM system service still thinks that hello node (that was mapped toohello VM that was deleted) will come back.</span></span> <span data-ttu-id="73c45-163">Par conséquent, Service Fabric Explorer continue toodisplay ce nœud (même si l’état d’intégrité hello peut-être erreur ou inconnu).</span><span class="sxs-lookup"><span data-stu-id="73c45-163">So Service Fabric Explorer continues toodisplay that node (though hello health state may be error or unknown).</span></span>

<span data-ttu-id="73c45-164">Dans l’ordre les toomake sûr qu’un nœud est supprimé lorsqu’une machine virtuelle est supprimée, vous avez deux options :</span><span class="sxs-lookup"><span data-stu-id="73c45-164">In order toomake sure that a node is removed when a VM is removed, you have two options:</span></span>

1) <span data-ttu-id="73c45-165">Choisissez un niveau de durabilité d’argent ou OR (disponible prochainement) pour les types de nœud hello dans votre cluster, qui vous permet de hello d’intégration de l’infrastructure.</span><span class="sxs-lookup"><span data-stu-id="73c45-165">Choose a durability level of Gold or Silver (available soon) for hello node types in your cluster, which gives you hello infrastructure integration.</span></span> <span data-ttu-id="73c45-166">Qui puis supprimera automatiquement les nœuds hello de notre état services (FM) du système lorsque vous mettez à l’échelle vers le bas.</span><span class="sxs-lookup"><span data-stu-id="73c45-166">Which will then automatically remove hello nodes from our system services (FM) state when you scale down.</span></span>
<span data-ttu-id="73c45-167">Consultez trop[hello plus d’informations sur les niveaux de durabilité ici](service-fabric-cluster-capacity.md)</span><span class="sxs-lookup"><span data-stu-id="73c45-167">Refer too[hello details on durability levels here](service-fabric-cluster-capacity.md)</span></span>

2) <span data-ttu-id="73c45-168">Une fois que l’instance de machine virtuelle hello a été mis à l’échelle vers le bas, vous devez toocall hello [applet de commande Remove-ServiceFabricNodeState](https://msdn.microsoft.com/library/mt125993.aspx).</span><span class="sxs-lookup"><span data-stu-id="73c45-168">Once hello VM instance has been scaled down, you need toocall hello [Remove-ServiceFabricNodeState cmdlet](https://msdn.microsoft.com/library/mt125993.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="73c45-169">Les clusters service Fabric nécessitent un certain nombre de nœuds toobe à tout le temps hello dans ordre toomaintain disponibilité et conserver l’état - tooas référencé « gestion de quorum ».</span><span class="sxs-lookup"><span data-stu-id="73c45-169">Service Fabric clusters require a certain number of nodes toobe up at all hello time in order toomaintain availability and preserve state - referred tooas "maintaining quorum."</span></span> <span data-ttu-id="73c45-170">Par conséquent, il est généralement unsafe tooshut vers le bas de tous les ordinateurs hello dans un cluster de hello, sauf si vous avez effectué tout d’abord un [une sauvegarde complète de l’état](service-fabric-reliable-services-backup-restore.md).</span><span class="sxs-lookup"><span data-stu-id="73c45-170">So, it is typically unsafe tooshut down all hello machines in hello cluster unless you have first performed a [full backup of your state](service-fabric-reliable-services-backup-restore.md).</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="73c45-171">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="73c45-171">Next steps</span></span>
<span data-ttu-id="73c45-172">Hello en lecture suivant tooalso en savoir plus sur la planification de la capacité du cluster, la mise à niveau un cluster et un partitionnement des services :</span><span class="sxs-lookup"><span data-stu-id="73c45-172">Read hello following tooalso learn about planning cluster capacity, upgrading a cluster, and partitioning services:</span></span>

* [<span data-ttu-id="73c45-173">Planification de la capacité de votre cluster</span><span class="sxs-lookup"><span data-stu-id="73c45-173">Plan your cluster capacity</span></span>](service-fabric-cluster-capacity.md)
* [<span data-ttu-id="73c45-174">Mise à niveau des clusters</span><span class="sxs-lookup"><span data-stu-id="73c45-174">Cluster upgrades</span></span>](service-fabric-cluster-upgrade.md)
* [<span data-ttu-id="73c45-175">Partitionnement des services avec état pour une mise à l’échelle maximale</span><span class="sxs-lookup"><span data-stu-id="73c45-175">Partition stateful services for maximum scale</span></span>](service-fabric-concepts-partitioning.md)

<!--Image references-->
[BrowseServiceFabricClusterResource]: ./media/service-fabric-cluster-scale-up-down/BrowseServiceFabricClusterResource.png
[ClusterResources]: ./media/service-fabric-cluster-scale-up-down/ClusterResources.png
