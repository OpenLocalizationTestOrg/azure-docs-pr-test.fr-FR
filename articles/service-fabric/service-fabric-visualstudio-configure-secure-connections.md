---
title: "aaaConfigure sécuriser les connexions de cluster Azure Service Fabric | Documents Microsoft"
description: "Découvrez comment toouse Visual Studio tooconfigure sécuriser les connexions qui sont pris en charge par cluster de Azure Service Fabric hello."
services: service-fabric
documentationcenter: na
author: cawaMS
manager: paulyuk
editor: tglee
ms.assetid: 80501867-dd7a-4648-8bd6-d4f26b68402d
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 8/04/2017
ms.author: cawa
ms.openlocfilehash: ed3e5043264cf026f74e24ca09b40ccc70086cf2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="configure-secure-connections-tooa-service-fabric-cluster-from-visual-studio"></a><span data-ttu-id="cc61c-103">Configurer des connexions sécurisées tooa Service Fabric cluster à partir de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="cc61c-103">Configure secure connections tooa Service Fabric cluster from Visual Studio</span></span>
<span data-ttu-id="cc61c-104">Découvrez comment toouse Visual Studio toosecurely accéder à un cluster Azure Service Fabric avec les stratégies de contrôle d’accès configurées.</span><span class="sxs-lookup"><span data-stu-id="cc61c-104">Learn how toouse Visual Studio toosecurely access an Azure Service Fabric cluster with access control policies configured.</span></span>

## <a name="cluster-connection-types"></a><span data-ttu-id="cc61c-105">Types de connexion au cluster</span><span class="sxs-lookup"><span data-stu-id="cc61c-105">Cluster connection types</span></span>
<span data-ttu-id="cc61c-106">Deux types de connexions sont pris en charge par cluster de Azure Service Fabric hello : **non sécurisées** connexions et **x509 basée sur certificat** des connexions sécurisées.</span><span class="sxs-lookup"><span data-stu-id="cc61c-106">Two types of connections are supported by hello Azure Service Fabric cluster: **non-secure** connections and **x509 certificate-based** secure connections.</span></span> <span data-ttu-id="cc61c-107">(Pour les clusters Service Fabric hébergés localement, les authentifications **Windows** et **dSTS** sont également prises en charge.) Vous avez le type de connexion de cluster tooconfigure hello lors de la création de cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="cc61c-107">(For Service Fabric clusters hosted on-premises, **Windows** and **dSTS** authentications are also supported.) You have tooconfigure hello cluster connection type when hello cluster is being created.</span></span> <span data-ttu-id="cc61c-108">Lorsqu’il est créé, type de connexion hello ne peut pas être modifié.</span><span class="sxs-lookup"><span data-stu-id="cc61c-108">Once it's created, hello connection type can’t be changed.</span></span>

<span data-ttu-id="cc61c-109">outils de Visual Studio Service Fabric Hello prend en charge tous les types d’authentification pour la connexion de cluster tooa pour la publication.</span><span class="sxs-lookup"><span data-stu-id="cc61c-109">hello Visual Studio Service Fabric tools support all authentication types for connecting tooa cluster for publishing.</span></span> <span data-ttu-id="cc61c-110">Consultez [configuration d’un cluster Service Fabric à partir de hello portail Azure](service-fabric-cluster-creation-via-portal.md) pour obtenir des instructions sur la façon de tooset configuration d’un cluster Service Fabric sécurisé.</span><span class="sxs-lookup"><span data-stu-id="cc61c-110">See [Setting up a Service Fabric cluster from hello Azure portal](service-fabric-cluster-creation-via-portal.md) for instructions on how tooset up a secure Service Fabric cluster.</span></span>

## <a name="configure-cluster-connections-in-publish-profiles"></a><span data-ttu-id="cc61c-111">Configurer des connexions au cluster dans les profils de publication</span><span class="sxs-lookup"><span data-stu-id="cc61c-111">Configure cluster connections in publish profiles</span></span>
<span data-ttu-id="cc61c-112">Si vous publiez un projet de Service Fabric à partir de Visual Studio, utilisez hello **publier une Application de Service Fabric** toochoose de boîte de dialogue un cluster Azure Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="cc61c-112">If you publish a Service Fabric project from Visual Studio, use hello **Publish Service Fabric Application** dialog box toochoose an Azure Service Fabric cluster.</span></span> <span data-ttu-id="cc61c-113">Sous **Point de terminaison de connexion**, sélectionnez un cluster existant sous votre abonnement.</span><span class="sxs-lookup"><span data-stu-id="cc61c-113">Under **Connection endpoint**, select an existing cluster under your subscription.</span></span>

![Hello ** boîte de dialogue Publier Service Fabric Application ** est tooconfigure utilisé une connexion de Service Fabric.][publishdialog]

<span data-ttu-id="cc61c-115">Hello **publier une Application de Service Fabric** boîte de dialogue valide automatiquement la connexion de cluster hello.</span><span class="sxs-lookup"><span data-stu-id="cc61c-115">hello **Publish Service Fabric Application** dialog box automatically validates hello cluster connection.</span></span> <span data-ttu-id="cc61c-116">Si vous y êtes invité, connectez-vous tooyour compte Azure.</span><span class="sxs-lookup"><span data-stu-id="cc61c-116">If prompted, sign in tooyour Azure account.</span></span> <span data-ttu-id="cc61c-117">Si la validation réussit, cela signifie que votre système hello correct de certificats installés tooconnect toohello cluster en toute sécurité, ou de votre cluster est non sécurisé.</span><span class="sxs-lookup"><span data-stu-id="cc61c-117">If validation passes, it means that your system has hello correct certificates installed tooconnect toohello cluster securely, or your cluster is non-secure.</span></span> <span data-ttu-id="cc61c-118">Échecs de validation peuvent être dû à des problèmes réseau ou en l’absence de votre cluster de sécurisé de tooa tooconnect système est correctement configuré.</span><span class="sxs-lookup"><span data-stu-id="cc61c-118">Validation failures can be caused by network issues or by not having your system correctly configured tooconnect tooa secure cluster.</span></span>

![Hello ** publier Service Fabric Application ** boîte de dialogue valide existant, correctement configuré connexion du cluster Service Fabric.][selectsfcluster]

### <a name="tooconnect-tooa-secure-cluster"></a><span data-ttu-id="cc61c-120">cluster sécurisée de tooconnect tooa</span><span class="sxs-lookup"><span data-stu-id="cc61c-120">tooconnect tooa secure cluster</span></span>
1. <span data-ttu-id="cc61c-121">Assurez-vous que vous pouvez accéder à un des certificats de client hello hello approbations de cluster de destination.</span><span class="sxs-lookup"><span data-stu-id="cc61c-121">Make sure you can access one of hello client certificates that hello destination cluster trusts.</span></span> <span data-ttu-id="cc61c-122">certificat de Hello est habituellement partagé sous un fichier d’échange d’informations personnelles (.pfx).</span><span class="sxs-lookup"><span data-stu-id="cc61c-122">hello certificate is usually shared as a Personal Information Exchange (.pfx) file.</span></span> <span data-ttu-id="cc61c-123">Consultez [configuration d’un cluster Service Fabric à partir de hello portail Azure](service-fabric-cluster-creation-via-portal.md) permettant à accéder à tooconfigure hello server toogrant tooa client.</span><span class="sxs-lookup"><span data-stu-id="cc61c-123">See [Setting up a Service Fabric cluster from hello Azure portal](service-fabric-cluster-creation-via-portal.md) for how tooconfigure hello server toogrant access tooa client.</span></span>
2. <span data-ttu-id="cc61c-124">Installez le certificat de confiance hello.</span><span class="sxs-lookup"><span data-stu-id="cc61c-124">Install hello trusted certificate.</span></span> <span data-ttu-id="cc61c-125">toodo, double-cliquez sur le fichier .pfx de hello, ou utiliser des certificats de hello PowerShell script Import-PfxCertificate tooimport hello.</span><span class="sxs-lookup"><span data-stu-id="cc61c-125">toodo this, double-click hello .pfx file, or use hello PowerShell script Import-PfxCertificate tooimport hello certificates.</span></span> <span data-ttu-id="cc61c-126">Installer le certificat de hello trop**Cert : \LocalMachine\My**.</span><span class="sxs-lookup"><span data-stu-id="cc61c-126">Install hello certificate too**Cert:\LocalMachine\My**.</span></span> <span data-ttu-id="cc61c-127">Il est OK tooaccept tous les paramètres par défaut lors de l’importation du certificat de hello.</span><span class="sxs-lookup"><span data-stu-id="cc61c-127">It's OK tooaccept all default settings while importing hello certificate.</span></span>
3. <span data-ttu-id="cc61c-128">Choisissez hello **publier...**  menu contextuel de hello Hello de hello projet tooopen **publier l’Application Azure** boîte de dialogue et le cluster cible de hello puis sélectionnez.</span><span class="sxs-lookup"><span data-stu-id="cc61c-128">Choose hello **Publish...** command on hello shortcut menu of hello project tooopen hello **Publish Azure Application** dialog box and then select hello target cluster.</span></span> <span data-ttu-id="cc61c-129">outil de Hello résout les connexion hello automatiquement et enregistre les paramètres Bonjour publier une connexion sécurisée hello profil.</span><span class="sxs-lookup"><span data-stu-id="cc61c-129">hello tool automatically resolves hello connection and saves hello secure connection parameters in hello publish profile.</span></span>
4. <span data-ttu-id="cc61c-130">Facultatif : Vous pouvez modifier hello publier profil toospecify une connexion sécurisée de cluster.</span><span class="sxs-lookup"><span data-stu-id="cc61c-130">Optional: You can edit hello publish profile toospecify a secure cluster connection.</span></span>
   
   <span data-ttu-id="cc61c-131">Étant donné que vous modifiez manuellement les informations de certificat du fichier toospecify hello hello XML du profil de publication, être le nom du magasin de certificat que toonote hello, stocker l’emplacement et l’empreinte numérique du certificat.</span><span class="sxs-lookup"><span data-stu-id="cc61c-131">Since you're manually editing hello Publish Profile XML file toospecify hello certificate information, be sure toonote hello certificate store name, store location, and certificate thumbprint.</span></span> <span data-ttu-id="cc61c-132">Vous devez tooprovide ces valeurs pour la banque de certificats hello nom et emplacement du magasin.</span><span class="sxs-lookup"><span data-stu-id="cc61c-132">You'll need tooprovide these values for hello certificate's store name and store location.</span></span> <span data-ttu-id="cc61c-133">Consultez [Comment : récupérer hello empreinte d’un certificat](https://msdn.microsoft.com/library/ms734695\(v=vs.110\).aspx) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="cc61c-133">See [How to: Retrieve hello Thumbprint of a Certificate](https://msdn.microsoft.com/library/ms734695\(v=vs.110\).aspx) for more information.</span></span>
   
   <span data-ttu-id="cc61c-134">Vous pouvez utiliser hello *ClusterConnectionParameters* paramètres toospecify hello PowerShell paramètres toouse lors de la connexion de cluster du Service Fabric toohello.</span><span class="sxs-lookup"><span data-stu-id="cc61c-134">You can use hello *ClusterConnectionParameters* parameters toospecify hello PowerShell parameters toouse when connecting toohello Service Fabric cluster.</span></span> <span data-ttu-id="cc61c-135">Les paramètres valides sont ceux qui sont acceptées par l’applet de commande Connect-ServiceFabricCluster hello.</span><span class="sxs-lookup"><span data-stu-id="cc61c-135">Valid parameters are any that are accepted by hello Connect-ServiceFabricCluster cmdlet.</span></span> <span data-ttu-id="cc61c-136">Consultez la rubrique [Connect-ServiceFabricCluster](https://msdn.microsoft.com/library/mt125938.aspx) pour obtenir la liste des paramètres disponibles.</span><span class="sxs-lookup"><span data-stu-id="cc61c-136">See [Connect-ServiceFabricCluster](https://msdn.microsoft.com/library/mt125938.aspx) for a list of available parameters.</span></span>
   
   <span data-ttu-id="cc61c-137">Si vous publiez tooa de cluster distant, vous devez les paramètres appropriés de toospecify hello pour ce cluster spécifique.</span><span class="sxs-lookup"><span data-stu-id="cc61c-137">If you’re publishing tooa remote cluster, you need toospecify hello appropriate parameters for that specific cluster.</span></span> <span data-ttu-id="cc61c-138">Hello Voici un exemple de cluster de non sécurisé tooa connexion :</span><span class="sxs-lookup"><span data-stu-id="cc61c-138">hello following is an example of connecting tooa non-secure cluster:</span></span>
   
   `<ClusterConnectionParameters ConnectionEndpoint="mycluster.westus.cloudapp.azure.com:19000" />`
   
   <span data-ttu-id="cc61c-139">Voici un exemple de connexion tooan x509 basée sur certificat sécurisé cluster :</span><span class="sxs-lookup"><span data-stu-id="cc61c-139">Here’s an example for connecting tooan x509 certificate-based secure cluster:</span></span>
   
   ```xml
   <ClusterConnectionParameters
   ConnectionEndpoint="mycluster.westus.cloudapp.azure.com:19000"
   X509Credential="true"
   ServerCertThumbprint="0123456789012345678901234567890123456789"
   FindType="FindByThumbprint"
   FindValue="9876543210987654321098765432109876543210"
   StoreLocation="CurrentUser"
   StoreName="My" />
   ```
5. <span data-ttu-id="cc61c-140">Modifier tous les autres paramètres nécessaires, tels que les paramètres de mise à niveau et emplacement du fichier de paramètres d’Application, puis publier votre application à partir de hello **publier une Application de Service Fabric** boîte de dialogue dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="cc61c-140">Edit any other necessary settings, such as upgrade parameters and Application Parameter file location, and then publish your application from hello **Publish Service Fabric Application** dialog box in Visual Studio.</span></span>

## <a name="next-steps"></a><span data-ttu-id="cc61c-141">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="cc61c-141">Next steps</span></span>
<span data-ttu-id="cc61c-142">Pour plus d’informations sur l’accès aux clusters Service Fabric, consultez [Visualisation de votre cluster à l’aide de l’outil Service Fabric Explorer](service-fabric-visualizing-your-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="cc61c-142">For more information about accessing Service Fabric clusters, see [Visualizing your cluster by using Service Fabric Explorer](service-fabric-visualizing-your-cluster.md).</span></span>

<!--Image references-->
[publishdialog]:./media/service-fabric-visualstudio-configure-secure-connections/publishdialog.png
[selectsfcluster]:./media/service-fabric-visualstudio-configure-secure-connections/selectsfcluster.png
