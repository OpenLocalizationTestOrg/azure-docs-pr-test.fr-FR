---
title: aaaScalability de services de Fabric du Service | Documents Microsoft
description: "Décrit comment les services Service Fabric tooscale"
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: ed324f23-242f-47b7-af1a-e55c839e7d5d
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 5af06f8f71ad5dee32ba115b922842684867e654
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="scaling-in-service-fabric"></a><span data-ttu-id="8471e-103">Mise à l’échelle dans Service Fabric</span><span class="sxs-lookup"><span data-stu-id="8471e-103">Scaling in Service Fabric</span></span>
<span data-ttu-id="8471e-104">Azure Service Fabric rend toobuild facilement des applications évolutives grâce à la gestion des services de hello, partitions et réplicas sur les nœuds hello d’un cluster.</span><span class="sxs-lookup"><span data-stu-id="8471e-104">Azure Service Fabric makes it easy toobuild scalable applications by managing hello services, partitions, and replicas on hello nodes of a cluster.</span></span> <span data-ttu-id="8471e-105">Exécute de nombreuses charges de travail sur hello même l’utilisation du matériel active maximale de ressources, mais fournit également une flexibilité en termes de la façon dont vous choisissez tooscale vos charges de travail.</span><span class="sxs-lookup"><span data-stu-id="8471e-105">Running many workloads on hello same hardware enables maximum resource utilization, but also provides flexibility in terms of how you choose tooscale your workloads.</span></span> 

<span data-ttu-id="8471e-106">Dans Service Fabric, la mise à l’échelle s’effectue de plusieurs manières :</span><span class="sxs-lookup"><span data-stu-id="8471e-106">Scaling in Service Fabric is accomplished several different ways:</span></span>

1. <span data-ttu-id="8471e-107">En créant ou en supprimant des instances de services sans état</span><span class="sxs-lookup"><span data-stu-id="8471e-107">Scaling by creating or removing stateless service instances</span></span>
2. <span data-ttu-id="8471e-108">En créant ou en supprimant de nouveaux services nommés</span><span class="sxs-lookup"><span data-stu-id="8471e-108">Scaling by creating or removing new named services</span></span>
3. <span data-ttu-id="8471e-109">En créant ou en supprimant de nouvelles instances d’application nommées</span><span class="sxs-lookup"><span data-stu-id="8471e-109">Scaling by creating or removing new named application instances</span></span>
4. <span data-ttu-id="8471e-110">En utilisant des services partitionnés</span><span class="sxs-lookup"><span data-stu-id="8471e-110">Scaling by using partitioned services</span></span>
5. <span data-ttu-id="8471e-111">Mise à l’échelle en ajoutant et supprimant des nœuds de cluster de hello</span><span class="sxs-lookup"><span data-stu-id="8471e-111">Scaling by adding and removing nodes from hello cluster</span></span> 
6. <span data-ttu-id="8471e-112">En utilisant des métriques Cluster Resource Manager</span><span class="sxs-lookup"><span data-stu-id="8471e-112">Scaling by using Cluster Resource Manager metrics</span></span>

## <a name="scaling-by-creating-or-removing-stateless-service-instances"></a><span data-ttu-id="8471e-113">En créant ou en supprimant des instances de services sans état</span><span class="sxs-lookup"><span data-stu-id="8471e-113">Scaling by creating or removing stateless service instances</span></span>
<span data-ttu-id="8471e-114">Un des hello tooscale de façons la plus simple au sein de l’infrastructure de Service fonctionne avec les services sans état.</span><span class="sxs-lookup"><span data-stu-id="8471e-114">One of hello simplest ways tooscale within Service Fabric works with stateless services.</span></span> <span data-ttu-id="8471e-115">Lorsque vous créez un service sans état, vous obtenez une chance toodefine un `InstanceCount`.</span><span class="sxs-lookup"><span data-stu-id="8471e-115">When you create a stateless service, you get a chance toodefine an `InstanceCount`.</span></span> <span data-ttu-id="8471e-116">`InstanceCount`définit le nombre de copies en cours d’exécution de code de ce service est créé lorsque le démarrage du service hello.</span><span class="sxs-lookup"><span data-stu-id="8471e-116">`InstanceCount` defines how many running copies of that service's code are created when hello service starts up.</span></span> <span data-ttu-id="8471e-117">Supposons par exemple, qu’il n’y a 100 nœuds dans un cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="8471e-117">Let's say, for example, that there are 100 nodes in hello cluster.</span></span> <span data-ttu-id="8471e-118">Supposons également qu’un service soit créé avec un `InstanceCount` défini sur 10.</span><span class="sxs-lookup"><span data-stu-id="8471e-118">Let's also say that a service is created with an `InstanceCount` of 10.</span></span> <span data-ttu-id="8471e-119">Pendant l’exécution, ces 10 copies en cours d’exécution de code de hello pu tous être trop occupés (ou peut-être pas suffisamment occupés).</span><span class="sxs-lookup"><span data-stu-id="8471e-119">During runtime, those 10 running copies of hello code could all become too busy (or could be not busy enough).</span></span> <span data-ttu-id="8471e-120">Une façon tooscale cette charge de travail est le nombre de hello toochange d’instances.</span><span class="sxs-lookup"><span data-stu-id="8471e-120">One way tooscale that workload is toochange hello number of instances.</span></span> <span data-ttu-id="8471e-121">Par exemple, une partie du code de suivi ou de gestion peut modifier hello existant différentes instances too50 ou too5, selon si la charge de travail hello doit tooscale in ou out hello en fonction de chargement.</span><span class="sxs-lookup"><span data-stu-id="8471e-121">For example, some piece of monitoring or management code can change hello existing number of instances too50, or too5, depending on whether hello workload needs tooscale in or out based on hello load.</span></span> 

<span data-ttu-id="8471e-122">C# :</span><span class="sxs-lookup"><span data-stu-id="8471e-122">C#:</span></span>

```csharp
StatelessServiceUpdateDescription updateDescription = new StatelessServiceUpdateDescription(); 
updateDescription.InstanceCount = 50;
await fabricClient.ServiceManager.UpdateServiceAsync(new Uri("fabric:/app/service"), updateDescription);
```

<span data-ttu-id="8471e-123">PowerShell :</span><span class="sxs-lookup"><span data-stu-id="8471e-123">Powershell:</span></span>

```posh
Update-ServiceFabricService -Stateless -ServiceName $serviceName -InstanceCount 50
```
### <a name="using-dynamic-instance-count"></a><span data-ttu-id="8471e-124">Utilisation du nombre d’instances dynamiques</span><span class="sxs-lookup"><span data-stu-id="8471e-124">Using Dynamic Instance Count</span></span>
<span data-ttu-id="8471e-125">Spécifiquement pour les services sans état, l’infrastructure de Service offre un nombre d’instances de façon automatique toochange hello.</span><span class="sxs-lookup"><span data-stu-id="8471e-125">Specifically for stateless services, Service Fabric offers an automatic way toochange hello instance count.</span></span> <span data-ttu-id="8471e-126">Cela permet de tooscale de service hello dynamiquement avec le nombre de hello de nœuds qui sont disponibles.</span><span class="sxs-lookup"><span data-stu-id="8471e-126">This allows hello service tooscale dynamically with hello number of nodes that are available.</span></span> <span data-ttu-id="8471e-127">tooopt de façon Hello dans ce comportement est le nombre d’instances hello tooset = -1.</span><span class="sxs-lookup"><span data-stu-id="8471e-127">hello way tooopt into this behavior is tooset hello instance count = -1.</span></span> <span data-ttu-id="8471e-128">InstanceCount = -1 est une instruction de tooService Fabric indiquant que « Exécuter ce service sans état sur chaque nœud. »</span><span class="sxs-lookup"><span data-stu-id="8471e-128">InstanceCount = -1 is an instruction tooService Fabric that says "Run this stateless service on every node."</span></span> <span data-ttu-id="8471e-129">Si nombre hello de nœuds change, Service Fabric change automatiquement hello instance nombre toomatch, garantissant que le service de hello s’exécute sur tous les nœuds valides.</span><span class="sxs-lookup"><span data-stu-id="8471e-129">If hello number of nodes changes, Service Fabric automatically changes hello instance count toomatch, ensuring that hello service is running on all valid nodes.</span></span> 

<span data-ttu-id="8471e-130">C# :</span><span class="sxs-lookup"><span data-stu-id="8471e-130">C#:</span></span>

```csharp
StatelessServiceDescription serviceDescription = new StatelessServiceDescription();
//Set other service properties necessary for creation....
serviceDescription.InstanceCount = -1;
await fc.ServiceManager.CreateServiceAsync(serviceDescription);
```

<span data-ttu-id="8471e-131">PowerShell :</span><span class="sxs-lookup"><span data-stu-id="8471e-131">Powershell:</span></span>

```posh
New-ServiceFabricService -ApplicationName $applicationName -ServiceName $serviceName -ServiceTypeName $serviceTypeName -Stateless -PartitionSchemeSingleton -InstanceCount "-1"
```

## <a name="scaling-by-creating-or-removing-new-named-services"></a><span data-ttu-id="8471e-132">En créant ou en supprimant de nouveaux services nommés</span><span class="sxs-lookup"><span data-stu-id="8471e-132">Scaling by creating or removing new named services</span></span>
<span data-ttu-id="8471e-133">Une instance de service nommé est une instance spécifique d’un type de service (voir [cycle de vie d’application Service Fabric](service-fabric-application-lifecycle.md)) au sein d’une instance de l’application nommée dans un cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="8471e-133">A named service instance is a specific instance of a service type (see [Service Fabric application life cycle](service-fabric-application-lifecycle.md)) within some named application instance in hello cluster.</span></span> 

<span data-ttu-id="8471e-134">De nouvelles instances de services nommées peuvent être créées (ou supprimées) si les services sont trop ou trop peu occupés.</span><span class="sxs-lookup"><span data-stu-id="8471e-134">New named service instances can be created (or removed) as services become more or less busy.</span></span> <span data-ttu-id="8471e-135">Cela permet de toobe demandes réparties sur plusieurs instances de service, généralement ce qui charge sur toodecrease de services existant.</span><span class="sxs-lookup"><span data-stu-id="8471e-135">This allows requests toobe spread across more service instances, usually allowing load on existing services toodecrease.</span></span> <span data-ttu-id="8471e-136">Lorsque vous créez des services, hello Gestionnaire de ressources du Cluster Service Fabric place les services hello cluster hello en mode distribué.</span><span class="sxs-lookup"><span data-stu-id="8471e-136">When creating services, hello Service Fabric Cluster Resource Manager places hello services in hello cluster in a distributed fashion.</span></span> <span data-ttu-id="8471e-137">les décisions exacte Hello sont régies par hello [métriques](service-fabric-cluster-resource-manager-metrics.md) dans un cluster de hello et d’autres règles de sélection élective.</span><span class="sxs-lookup"><span data-stu-id="8471e-137">hello exact decisions are governed by hello [metrics](service-fabric-cluster-resource-manager-metrics.md) in hello cluster and other placement rules.</span></span> <span data-ttu-id="8471e-138">Les services peuvent être créés de différentes façons, mais hello plus courantes sont soit par le biais des actions administratives comme toute autre personne [ `New-ServiceFabricService` ](https://docs.microsoft.com/en-us/powershell/module/servicefabric/new-servicefabricservice?view=azureservicefabricps), ou par le code appelant [ `CreateServiceAsync` ](https://docs.microsoft.com/en-us/dotnet/api/system.fabric.fabricclient.servicemanagementclient.createserviceasync?view=azure-dotnet).</span><span class="sxs-lookup"><span data-stu-id="8471e-138">Services can be created several different ways, but hello most common are either through administrative actions like someone calling [`New-ServiceFabricService`](https://docs.microsoft.com/en-us/powershell/module/servicefabric/new-servicefabricservice?view=azureservicefabricps), or by code calling [`CreateServiceAsync`](https://docs.microsoft.com/en-us/dotnet/api/system.fabric.fabricclient.servicemanagementclient.createserviceasync?view=azure-dotnet).</span></span> <span data-ttu-id="8471e-139">`CreateServiceAsync`peut même être appelée à partir d’autres services qui s’exécutent dans un cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="8471e-139">`CreateServiceAsync` can even be called from within other services running in hello cluster.</span></span>

<span data-ttu-id="8471e-140">La création dynamique de services peut être utilisée dans toutes sortes de scénarios et constitue un modèle commun.</span><span class="sxs-lookup"><span data-stu-id="8471e-140">Creating services dynamically can be used in all sorts of scenarios, and is a common pattern.</span></span> <span data-ttu-id="8471e-141">Prenons par exemple un service avec état représentant un workflow particulier.</span><span class="sxs-lookup"><span data-stu-id="8471e-141">For example, consider a stateful service that represents a particular workflow.</span></span> <span data-ttu-id="8471e-142">Appels de travail sont appelés tooshow toothis service, et ce service est continu tooexecute hello étapes toothat flux de travail et d’enregistrement de cours.</span><span class="sxs-lookup"><span data-stu-id="8471e-142">Calls representing work are going tooshow up toothis service, and this service is going tooexecute hello steps toothat workflow and record progress.</span></span> 

<span data-ttu-id="8471e-143">Comment pouvez-vous rendre cette échelle de service particulier ? Hello service peut être plusieurs locataires dans une forme et accepte les appels et déclencher étapes de nombreuses instances différentes de hello même flux de travail à la fois.</span><span class="sxs-lookup"><span data-stu-id="8471e-143">How would you make this particular service scale? hello service could be multi-tenant in some form, and accept calls and kick off steps for many different instances of hello same workflow all at once.</span></span> <span data-ttu-id="8471e-144">Toutefois, qui peut rendre le hello code plus complexe, car il a tooworry sur nombreuses instances différentes de hello même flux de travail, en différentes étapes et de différents clients.</span><span class="sxs-lookup"><span data-stu-id="8471e-144">However, that can make hello code more complex, since now it has tooworry about many different instances of hello same workflow, all at different stages and from different customers.</span></span> <span data-ttu-id="8471e-145">En outre, la gestion de plusieurs flux de travail à hello ne résout pas simultanément hello problème de mise à l’échelle.</span><span class="sxs-lookup"><span data-stu-id="8471e-145">Also, handling multiple workflows at hello same time doesn't solve hello scale problem.</span></span> <span data-ttu-id="8471e-146">Il s’agit, car à un moment donné, ce service consommera trop toofit de ressources sur un ordinateur particulier.</span><span class="sxs-lookup"><span data-stu-id="8471e-146">This is because at some point this service will consume too many resources toofit on a particular machine.</span></span> <span data-ttu-id="8471e-147">De nombreux services ne pas été créés pour ce modèle dans le premier emplacement dans hello également des difficultés en raison de goulot d’étranglement inhérente de toosome ou de ralentissement dans leur code.</span><span class="sxs-lookup"><span data-stu-id="8471e-147">Many services not built for this pattern in hello first place also experience difficulty due toosome inherent bottleneck or slowdown in their code.</span></span> <span data-ttu-id="8471e-148">Ces types de problèmes empêcher le service de hello toowork pas également lorsque nombre hello de workflows simultanés qu’il effectue le suivi d’Obtient la plus grande.</span><span class="sxs-lookup"><span data-stu-id="8471e-148">These types of issues cause hello service not toowork as well when hello number of concurrent workflows it is tracking gets larger.</span></span>  

<span data-ttu-id="8471e-149">Une solution est toocreate une instance de ce service pour chaque autre instance de flux de travail hello souhaité tootrack.</span><span class="sxs-lookup"><span data-stu-id="8471e-149">A solution is toocreate an instance of this service for every different instance of hello workflow you want tootrack.</span></span> <span data-ttu-id="8471e-150">Ceci est un excellent modèle et fonctionne si le service hello est sans état ou avec état.</span><span class="sxs-lookup"><span data-stu-id="8471e-150">This is a great pattern and works whether hello service is stateless or stateful.</span></span> <span data-ttu-id="8471e-151">Pour ce modèle toowork, il est généralement un autre service qui agit comme un « Service de gestionnaire de charge de travail ».</span><span class="sxs-lookup"><span data-stu-id="8471e-151">For this pattern toowork, there's usually another service that acts as a "Workload Manager Service".</span></span> <span data-ttu-id="8471e-152">tâche Hello de ce service sont tooreceive demandes et tooroute ces services tooother de demandes.</span><span class="sxs-lookup"><span data-stu-id="8471e-152">hello job of this service is tooreceive requests and tooroute those requests tooother services.</span></span> <span data-ttu-id="8471e-153">Gestionnaire de Hello peut créer dynamiquement une instance du service de charge de travail hello lorsqu’il reçoit le message de type hello et ensuite passer sur les services toothose de demandes.</span><span class="sxs-lookup"><span data-stu-id="8471e-153">hello manager can dynamically create an instance of hello workload service when it receives hello message, and then pass on requests toothose services.</span></span> <span data-ttu-id="8471e-154">le service manager Hello peut également recevoir des rappels lorsqu’un service de workflow donné a terminé son travail.</span><span class="sxs-lookup"><span data-stu-id="8471e-154">hello manager service could also receive callbacks when a given workflow service completes its job.</span></span> <span data-ttu-id="8471e-155">Lorsque le Gestionnaire de hello reçoit ces rappels il pourrait supprimer cette instance du service de workflow hello ou laissez-le si d’autres appels sont attendus.</span><span class="sxs-lookup"><span data-stu-id="8471e-155">When hello manager receives these callbacks it could delete that instance of hello workflow service, or leave it if more calls are expected.</span></span> 

<span data-ttu-id="8471e-156">Versions avancées de ce type de gestionnaire peuvent même créer des pools de services hello qu’il gère.</span><span class="sxs-lookup"><span data-stu-id="8471e-156">Advanced versions of this type of manager can even create pools of hello services that it manages.</span></span> <span data-ttu-id="8471e-157">pool de Hello garantit que lorsqu’une nouvelle demande arrive qu’il n’a pas toowait pour hello service toospin.</span><span class="sxs-lookup"><span data-stu-id="8471e-157">hello pool helps ensure that when a new request comes in it doesn't have toowait for hello service toospin up.</span></span> <span data-ttu-id="8471e-158">Au lieu de cela, le gestionnaire hello peut simplement en choisir un service de flux de travail qui n’est pas actuellement occupé à partir du pool de hello ou acheminer de manière aléatoire.</span><span class="sxs-lookup"><span data-stu-id="8471e-158">Instead, hello manager can just pick a workflow service that is not currently busy from hello pool, or route randomly.</span></span> <span data-ttu-id="8471e-159">En conservant un pool de services disponibles accélère la gestion des nouvelles demandes, car il est moins probable que demande hello a toowait pour une nouvelle toobe de service lancé.</span><span class="sxs-lookup"><span data-stu-id="8471e-159">Keeping a pool of services available makes handling new requests faster, since it is less likely that hello request has toowait for a new service toobe spun up.</span></span> <span data-ttu-id="8471e-160">La création de services est rapide, mais elle n’est ni gratuite ni instantanée.</span><span class="sxs-lookup"><span data-stu-id="8471e-160">Creating new services is quick, but not free or instantaneous.</span></span> <span data-ttu-id="8471e-161">pool de Hello permet de réduire la durée hello demande de hello a toowait avant d’en cours de maintenance.</span><span class="sxs-lookup"><span data-stu-id="8471e-161">hello pool helps minimize hello amount of time hello request has toowait before being serviced.</span></span> <span data-ttu-id="8471e-162">Vous verrez souvent ce modèle de gestionnaire et le pool lorsque le temps de réponse intéressent hello.</span><span class="sxs-lookup"><span data-stu-id="8471e-162">You'll often see this manager and pool pattern when response times matter hello most.</span></span> <span data-ttu-id="8471e-163">Demande de hello files d’attente et de création de service hello en arrière-plan de hello et _puis_ en lui passant est également un modèle de gestionnaire populaires, création et suppression des services en fonction de certains suivi de quantité hello de travail que le service actuellement est en attente.</span><span class="sxs-lookup"><span data-stu-id="8471e-163">Queuing hello request and creating hello service in hello background and _then_ passing it on is also a popular manager pattern, as is creating and deleting services based on some tracking of hello amount of work that service currently has pending.</span></span> 

## <a name="scaling-by-creating-or-removing-new-named-application-instances"></a><span data-ttu-id="8471e-164">En créant ou en supprimant de nouvelles instances d’application nommées</span><span class="sxs-lookup"><span data-stu-id="8471e-164">Scaling by creating or removing new named application instances</span></span>
<span data-ttu-id="8471e-165">Création et suppression d’instances de l’ensemble de l’application sont un modèle toohello semblable de la création et la suppression des services.</span><span class="sxs-lookup"><span data-stu-id="8471e-165">Creating and deleting whole application instances is similar toohello pattern of creating and deleting services.</span></span> <span data-ttu-id="8471e-166">Pour ce modèle, il existe certains service manager qui est prise de décision hello en fonction des demandes de hello il voit et informations hello il reçoit de hello autres services à l’intérieur du cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="8471e-166">For this pattern, there's some manager service that is making hello decision based on hello requests that it is seeing and hello information it is receiving from hello other services inside hello cluster.</span></span> 

<span data-ttu-id="8471e-167">Dans quels cas faut-il créer une instance d’application nommée au lieu de créer des instances de services nommées dans une application existante ?</span><span class="sxs-lookup"><span data-stu-id="8471e-167">When should creating a new named application instance be used instead of creating a new named service instances in some already existing application?</span></span> <span data-ttu-id="8471e-168">Voici quelques cas :</span><span class="sxs-lookup"><span data-stu-id="8471e-168">There's a few cases:</span></span>

  * <span data-ttu-id="8471e-169">nouvelle instance d’application Hello est pour un client dont le code doit toorun sous une identité particulière ou les paramètres de sécurité.</span><span class="sxs-lookup"><span data-stu-id="8471e-169">hello new application instance is for a customer whose code needs toorun under some particular identity or security settings.</span></span>
    * <span data-ttu-id="8471e-170">Service Fabric permet de définir toorun de packages de code différents sous des identités particuliers.</span><span class="sxs-lookup"><span data-stu-id="8471e-170">Service Fabric allows defining different code packages toorun under particular identities.</span></span> <span data-ttu-id="8471e-171">Dans l’ordre toolaunch hello même package de code sous des identités différentes, les activations hello devez toooccur dans les instances de l’autre application.</span><span class="sxs-lookup"><span data-stu-id="8471e-171">In order toolaunch hello same code package under different identities, hello activations need toooccur in different application instances.</span></span> <span data-ttu-id="8471e-172">Prenons le cas où vous avez déployé des charges de travail d’un client existant.</span><span class="sxs-lookup"><span data-stu-id="8471e-172">Consider a case where you have an existing customer's workloads deployed.</span></span> <span data-ttu-id="8471e-173">Ceux-ci peuvent s’exécuter sous une identité particulière afin de pouvoir analyser et contrôler leurs tooother accéder aux ressources, telles que les bases de données ou d’autres systèmes.</span><span class="sxs-lookup"><span data-stu-id="8471e-173">These may be running under a particular identity so you can monitor and control their access tooother resources, such as remote databases or other systems.</span></span> <span data-ttu-id="8471e-174">Dans ce cas, lorsqu’un nouveau client s’inscrit, probablement non désirés tooactivate leur code Bonjour même contexte (espace de processus).</span><span class="sxs-lookup"><span data-stu-id="8471e-174">In this case, when a new customer signs up, you probably don't want tooactivate their code in hello same context (process space).</span></span> <span data-ttu-id="8471e-175">Pendant que vous le pouvez, cela rend plus difficile pour votre tooact de code de service dans le contexte de hello d’une identité particulière.</span><span class="sxs-lookup"><span data-stu-id="8471e-175">While you could, this makes it harder for your service code tooact within hello context of a particular identity.</span></span> <span data-ttu-id="8471e-176">Vous devez généralement disposer de plus de sécurité, d’isolation et de code de gestion d’identité.</span><span class="sxs-lookup"><span data-stu-id="8471e-176">You typically must have more security, isolation, and identity management code.</span></span> <span data-ttu-id="8471e-177">Au lieu d’utiliser différents nommé service instances dans hello la même instance d’application et par conséquent hello même espace de processus, vous pouvez utiliser différentes instances d’Application Service Fabric nommées.</span><span class="sxs-lookup"><span data-stu-id="8471e-177">Instead of using different named service instances within hello same application instance and hence hello same process space, you can use different named Service Fabric Application instances.</span></span> <span data-ttu-id="8471e-178">Il est ainsi plus faciles contextes d’identité toodefine.</span><span class="sxs-lookup"><span data-stu-id="8471e-178">This makes it easier toodefine different identity contexts.</span></span>
  * <span data-ttu-id="8471e-179">nouvelle instance d’application Hello sert également un moyen de configuration</span><span class="sxs-lookup"><span data-stu-id="8471e-179">hello new application instance also serves as a means of configuration</span></span>
    * <span data-ttu-id="8471e-180">Par défaut, tous hello nommé d’un type de service particulier dans une instance d’application, les instances de service seront exécute dans le même processus sur un nœud donné de hello.</span><span class="sxs-lookup"><span data-stu-id="8471e-180">By default, all of hello named service instances of a particular service type within an application instance will run in hello same process on a given node.</span></span> <span data-ttu-id="8471e-181">Cela signifie que, même si vous pouvez configurer chaque instance de service différemment, cela se révèlera complexe.</span><span class="sxs-lookup"><span data-stu-id="8471e-181">What this means is that while you can configure each service instance differently, doing so is complicated.</span></span> <span data-ttu-id="8471e-182">Services doivent avoir un jeton qu’ils utilisent toolook de leur configuration dans un package de configuration.</span><span class="sxs-lookup"><span data-stu-id="8471e-182">Services must have some token they use toolook up their config within a configuration package.</span></span> <span data-ttu-id="8471e-183">Cela est généralement simplement les nom du service hello.</span><span class="sxs-lookup"><span data-stu-id="8471e-183">Usually this is just hello service's name.</span></span> <span data-ttu-id="8471e-184">Cela fonctionne correctement, mais il associe les noms de toohello configuration hello hello individuels nommée d’instances de service dans cette instance de l’application.</span><span class="sxs-lookup"><span data-stu-id="8471e-184">This works fine, but it couples hello configuration toohello names of hello individual named service instances within that application instance.</span></span> <span data-ttu-id="8471e-185">Cela peut prêter à confusion et toomanage dur depuis la configuration est normalement un artefact au moment du design avec les valeurs spécifiques d’instance application.</span><span class="sxs-lookup"><span data-stu-id="8471e-185">This can be confusing and hard toomanage since configuration is normally a design time artifact with application instance specific values.</span></span> <span data-ttu-id="8471e-186">Création de services plus toujours signifie plus mises à niveau de l’application toochange hello les informations dans les packages de configuration hello ou toodeploy nouveaux afin que les nouveaux services de hello vous peuvent rechercher des informations spécifiques.</span><span class="sxs-lookup"><span data-stu-id="8471e-186">Creating more services always means more application upgrades toochange hello information within hello config packages or toodeploy new ones so that hello new services can look up their specific information.</span></span> <span data-ttu-id="8471e-187">Il est souvent plus facile toocreate une toute nouvelle instance d’application nommée.</span><span class="sxs-lookup"><span data-stu-id="8471e-187">It's often easier toocreate a whole new named application instance.</span></span> <span data-ttu-id="8471e-188">Puis vous pouvez utiliser tooset de paramètres d’application hello quelle que soit la configuration est nécessaire pour les services de hello.</span><span class="sxs-lookup"><span data-stu-id="8471e-188">Then you can use hello application parameters tooset whatever configuration is necessary for hello services.</span></span> <span data-ttu-id="8471e-189">Ainsi que tous les services de hello qui sont créés dans ce nommé instance d’application peut hériter des paramètres de configuration particulier.</span><span class="sxs-lookup"><span data-stu-id="8471e-189">This way all of hello services that are created within that named application instance can inherit particular configuration settings.</span></span> <span data-ttu-id="8471e-190">Par exemple, au lieu d’avoir un seul fichier de configuration avec les paramètres de hello et de personnalisations pour tous les clients, telles que les clés secrètes ou par les limites de ressources client, vous au lieu de cela aurait une instance d’application différent pour chaque client avec ces paramètres substitution.</span><span class="sxs-lookup"><span data-stu-id="8471e-190">For example, instead of having a single configuration file with hello settings and customizations for every customer, such as secrets or per customer resource limits, you'd instead have a different application instance for each customer with these settings overridden.</span></span> 
  * <span data-ttu-id="8471e-191">nouvelle application de Hello sert d’une limite de mise à niveau</span><span class="sxs-lookup"><span data-stu-id="8471e-191">hello new application serves as an upgrade boundary</span></span>
    * <span data-ttu-id="8471e-192">Dans Service Fabric, plusieurs instances d’application nommées servent de limites pour la mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="8471e-192">Within Service Fabric, different named application instances serve as boundaries for upgrade.</span></span> <span data-ttu-id="8471e-193">Une mise à niveau d’une instance de l’application nommée n’affectera pas de code hello une autre instance de l’application nommée est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="8471e-193">An upgrade of one named application instance will not impact hello code that another named application instance is running.</span></span> <span data-ttu-id="8471e-194">Hello différentes applications se retrouvent exécutant des versions différentes du même code de hello sur hello mêmes nœuds.</span><span class="sxs-lookup"><span data-stu-id="8471e-194">hello different applications will end up running different versions of hello same code on hello same nodes.</span></span> <span data-ttu-id="8471e-195">Cela peut être un facteur lorsque vous devez toomake une décision de mise à l’échelle, car vous pouvez choisir que si le nouveau code de hello doit suivre hello même met à niveau qu’un autre service ou non.</span><span class="sxs-lookup"><span data-stu-id="8471e-195">This can be a factor when you need toomake a scaling decision because you can choose whether hello new code should follow hello same upgrades as another service or not.</span></span> <span data-ttu-id="8471e-196">Par exemple, qu’un appel arrive au niveau de service manager hello qui est responsable de la mise à l’échelle de charges de travail d’un client spécifique en créant et en suppression des services de manière dynamique.</span><span class="sxs-lookup"><span data-stu-id="8471e-196">For example, say that a call arrives at hello manager service that is responsible for scaling a particular customer's workloads by creating and deleting services dynamically.</span></span> <span data-ttu-id="8471e-197">Dans ce cas toutefois, l’appel de hello est pour une charge de travail associé à un _nouveau_ client.</span><span class="sxs-lookup"><span data-stu-id="8471e-197">In this case however, hello call is for a workload associated with a _new_ customer.</span></span> <span data-ttu-id="8471e-198">La plupart des clients comme en étant isolées les unes des autres non seulement pour des raisons de sécurité et de configuration hello répertoriées précédemment, mais, car elle offre plus de souplesse en termes d’exécutant des versions spécifiques du logiciel de hello en choisissant quand ils mis à niveau.</span><span class="sxs-lookup"><span data-stu-id="8471e-198">Most customers like being isolated from each other not just for hello security and configuration reasons listed previously, but because it provides more flexibility in terms of running specific versions of hello software and choosing when they get upgraded.</span></span> <span data-ttu-id="8471e-199">Vous pouvez également créer une nouvelle instance de l’application et créer le service de hello il simplement toofurther partition hello montant de vos services qui impliquent l’une mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="8471e-199">You may also create a new application instance and create hello service there simply toofurther partition hello amount of your services that any one upgrade will touch.</span></span> <span data-ttu-id="8471e-200">La séparation des instances d’application permet une plus grande granularité lors des mises à niveau d’application, et permet également d’effectuer des test A/B et des déploiements Blue/Green.</span><span class="sxs-lookup"><span data-stu-id="8471e-200">Separate application instances provide greater granularity when doing application upgrades, and also enable A/B testing and Blue/Green deployments.</span></span> 
  * <span data-ttu-id="8471e-201">instance d’application existante Hello est plein</span><span class="sxs-lookup"><span data-stu-id="8471e-201">hello existing application instance is full</span></span>
    * <span data-ttu-id="8471e-202">Dans l’infrastructure de Service, [capacité de l’application](service-fabric-cluster-resource-manager-application-groups.md) est un concept que vous pouvez utiliser la quantité de hello toocontrol de ressources disponibles pour les instances d’application particulière.</span><span class="sxs-lookup"><span data-stu-id="8471e-202">In Service Fabric, [application capacity](service-fabric-cluster-resource-manager-application-groups.md) is a concept that you can use toocontrol hello amount of resources available for particular application instances.</span></span> <span data-ttu-id="8471e-203">Par exemple, vous pouvez décider qu’un service donné doit toohave une autre instance créée dans l’ordre tooscale.</span><span class="sxs-lookup"><span data-stu-id="8471e-203">For example, you may decide that a given service needs toohave another instance created in order tooscale.</span></span> <span data-ttu-id="8471e-204">Toutefois, cette instance d’application n’a plus de capacité pour une certaine métrique.</span><span class="sxs-lookup"><span data-stu-id="8471e-204">However, this application instance is out of capacity for a certain metric.</span></span> <span data-ttu-id="8471e-205">Si cette charge de travail ou un client spécifique doit toujours être accordé davantage de ressources, puis vous pouvez augmenter la capacité existante de hello pour cette application ou créer une application.</span><span class="sxs-lookup"><span data-stu-id="8471e-205">If this particular customer or workload should still be granted more resources, then you could either increase hello existing capacity for that application or create a new application.</span></span> 

## <a name="scaling-at-hello-partition-level"></a><span data-ttu-id="8471e-206">Mise à l’échelle au niveau de partition hello</span><span class="sxs-lookup"><span data-stu-id="8471e-206">Scaling at hello partition level</span></span>
<span data-ttu-id="8471e-207">Service Fabric prend en charge le partitionnement.</span><span class="sxs-lookup"><span data-stu-id="8471e-207">Service Fabric supports partitioning.</span></span> <span data-ttu-id="8471e-208">Le partitionnement divise un service en plusieurs sections logiques et physiques, indépendantes les unes des autres.</span><span class="sxs-lookup"><span data-stu-id="8471e-208">Partitioning splits a service into several logical and physical sections, each of which operates independently.</span></span> <span data-ttu-id="8471e-209">Cela est utile pour les services avec état, car aucun jeu de réplicas a toohandle tous les appels hello et ensemble de hello état manipuler en même temps.</span><span class="sxs-lookup"><span data-stu-id="8471e-209">This is useful with stateful services, since no one set of replicas has toohandle all hello calls and manipulate all of hello state at once.</span></span> <span data-ttu-id="8471e-210">Hello [vue d’ensemble de partitionnement](service-fabric-concepts-partitioning.md) fournit des informations sur les types hello de schémas de partitionnement qui sont pris en charge.</span><span class="sxs-lookup"><span data-stu-id="8471e-210">hello [partitioning overview](service-fabric-concepts-partitioning.md) provides information on hello types of partitioning schemes that are supported.</span></span> <span data-ttu-id="8471e-211">réplicas de Hello de chaque partition sont répartis entre les nœuds hello dans un cluster, la distribution de charge du service et de s’assurer qu’aucun service hello dans son ensemble ou n’importe quelle partition a un point de défaillance unique.</span><span class="sxs-lookup"><span data-stu-id="8471e-211">hello replicas of each partition are spread across hello nodes in a cluster, distributing that service's load and ensuring that neither hello service as a whole or any partition has a single point of failure.</span></span> 

<span data-ttu-id="8471e-212">Imaginez un service qui utilise un schéma de partitionnement par plage avec une clé basse de 0, une clé haute de 99 et 4 partitions.</span><span class="sxs-lookup"><span data-stu-id="8471e-212">Consider a service that uses a ranged partitioning scheme with a low key of 0, a high key of 99, and a partition count of 4.</span></span> <span data-ttu-id="8471e-213">Dans un cluster de trois nœuds, service de hello peut-être être présenté avec quatre réplicas qui partagent des ressources hello sur chaque nœud, comme illustré ici :</span><span class="sxs-lookup"><span data-stu-id="8471e-213">In a three-node cluster, hello service might be laid out with four replicas that share hello resources on each node as shown here:</span></span>

<span data-ttu-id="8471e-214"><center>
![Disposition de partition avec trois nœuds](./media/service-fabric-concepts-scalability/layout-three-nodes.png)
</center></span><span class="sxs-lookup"><span data-stu-id="8471e-214"><center>
![Partition layout with three nodes](./media/service-fabric-concepts-scalability/layout-three-nodes.png)
</center></span></span>

<span data-ttu-id="8471e-215">Si vous augmentez le nombre de hello de nœuds, l’infrastructure de Service parmi les réplicas existants hello déplacer il.</span><span class="sxs-lookup"><span data-stu-id="8471e-215">If you increase hello number of nodes, Service Fabric will move some of hello existing replicas there.</span></span> <span data-ttu-id="8471e-216">Par exemple, supposons que nombre hello de nœuds augmente toofour et les réplicas hello obtient redistribuées.</span><span class="sxs-lookup"><span data-stu-id="8471e-216">For example, let's say hello number of nodes increases toofour and hello replicas get redistributed.</span></span> <span data-ttu-id="8471e-217">Service de hello a maintenant trois réplicas sont en cours d’exécution sur chaque nœud, chacune appartenant toodifferent partitions.</span><span class="sxs-lookup"><span data-stu-id="8471e-217">Now hello service now has three replicas running on each node, each belonging toodifferent partitions.</span></span> <span data-ttu-id="8471e-218">Cela permet une meilleure utilisation des ressources, car le nouveau nœud de hello n’est pas à froid.</span><span class="sxs-lookup"><span data-stu-id="8471e-218">This allows better resource utilization since hello new node isn't cold.</span></span> <span data-ttu-id="8471e-219">En règle générale, améliore les performances car chaque service a plusieurs tooit de ressources disponibles.</span><span class="sxs-lookup"><span data-stu-id="8471e-219">Typically, it also improves performance as each service has more resources available tooit.</span></span>

<span data-ttu-id="8471e-220"><center>
![Disposition de partition avec quatre nœuds](./media/service-fabric-concepts-scalability/layout-four-nodes.png)
</center></span><span class="sxs-lookup"><span data-stu-id="8471e-220"><center>
![Partition layout with four nodes](./media/service-fabric-concepts-scalability/layout-four-nodes.png)
</center></span></span>

## <a name="scaling-by-using-hello-service-fabric-cluster-resource-manager-and-metrics"></a><span data-ttu-id="8471e-221">Mise à l’échelle à l’aide de hello Gestionnaire de ressources du Cluster Service Fabric et métriques</span><span class="sxs-lookup"><span data-stu-id="8471e-221">Scaling by using hello Service Fabric Cluster Resource Manager and metrics</span></span>
<span data-ttu-id="8471e-222">[Mesures](service-fabric-cluster-resource-manager-metrics.md) sont comment services express leur tooService de consommation des ressources Fabric.</span><span class="sxs-lookup"><span data-stu-id="8471e-222">[Metrics](service-fabric-cluster-resource-manager-metrics.md) are how services express their resource consumption tooService Fabric.</span></span> <span data-ttu-id="8471e-223">Utilisation des mesures donne hello Gestionnaire de ressources du Cluster une tooreorganize opportunité et optimiser la disposition hello du cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="8471e-223">Using metrics gives hello Cluster Resource Manager an opportunity tooreorganize and optimize hello layout of hello cluster.</span></span> <span data-ttu-id="8471e-224">Par exemple, il peut y avoir suffisamment de ressources de cluster de hello, mais ils ne peuvent pas être alloués toohello les services qui sont actuellement du travail.</span><span class="sxs-lookup"><span data-stu-id="8471e-224">For example, there may be plenty of resources in hello cluster, but they might not be allocated toohello services that are currently doing work.</span></span> <span data-ttu-id="8471e-225">À l’aide de mesures hello tooreorganize du Gestionnaire de ressources du Cluster permet de hello tooensure de cluster que les services ont accès toohello des ressources disponibles.</span><span class="sxs-lookup"><span data-stu-id="8471e-225">Using metrics allows hello Cluster Resource Manager tooreorganize hello cluster tooensure that services have access toohello available resources.</span></span> 


## <a name="scaling-by-adding-and-removing-nodes-from-hello-cluster"></a><span data-ttu-id="8471e-226">Mise à l’échelle en ajoutant et supprimant des nœuds de cluster de hello</span><span class="sxs-lookup"><span data-stu-id="8471e-226">Scaling by adding and removing nodes from hello cluster</span></span> 
<span data-ttu-id="8471e-227">Une autre option de mise à l’échelle avec Service Fabric est taille de hello toochange du cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="8471e-227">Another option for scaling with Service Fabric is toochange hello size of hello cluster.</span></span> <span data-ttu-id="8471e-228">Modification de la taille de hello du cluster de hello signifie l’ajout ou la suppression de nœuds pour un ou plusieurs des types de nœuds hello dans un cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="8471e-228">Changing hello size of hello cluster means adding or removing nodes for one or more of hello node types in hello cluster.</span></span> <span data-ttu-id="8471e-229">Par exemple, considérez un cas dans lequel tous les nœuds hello dans un cluster de hello sont à chaud.</span><span class="sxs-lookup"><span data-stu-id="8471e-229">For example, consider a case where all of hello nodes in hello cluster are hot.</span></span> <span data-ttu-id="8471e-230">Cela signifie que les ressources du cluster hello sont presque tous consommée.</span><span class="sxs-lookup"><span data-stu-id="8471e-230">This means that hello cluster's resources are almost all consumed.</span></span> <span data-ttu-id="8471e-231">Dans ce cas, cluster Ajout de plusieurs nœuds toohello est hello meilleure manière tooscale.</span><span class="sxs-lookup"><span data-stu-id="8471e-231">In this case, adding more nodes toohello cluster is hello best way tooscale.</span></span> <span data-ttu-id="8471e-232">Une fois que les nouveaux nœuds de hello joindre hello de cluster hello Gestionnaire de ressources du Cluster Service Fabric déplace toothem de services, ce qui entraîne une charge inférieure totale sur les nœuds existants hello.</span><span class="sxs-lookup"><span data-stu-id="8471e-232">Once hello new nodes join hello cluster hello Service Fabric Cluster Resource Manager moves services toothem, resulting in less total load on hello existing nodes.</span></span> <span data-ttu-id="8471e-233">Pour les services sans état avec « instance count = -1 », des instances de service supplémentaires sont créées automatiquement.</span><span class="sxs-lookup"><span data-stu-id="8471e-233">For stateless services with instance count = -1, more service instances are automatically created.</span></span> <span data-ttu-id="8471e-234">Ainsi, certains toomove d’appels de hello nœuds toohello nouvelle les nœuds existants.</span><span class="sxs-lookup"><span data-stu-id="8471e-234">This allows some calls toomove from hello existing nodes toohello new nodes.</span></span> 

<span data-ttu-id="8471e-235">Ajout et suppression de nœuds toohello cluster peut être effectuée via module PowerShell de gestionnaire de ressources Azure Service Fabric de hello.</span><span class="sxs-lookup"><span data-stu-id="8471e-235">Adding and removing nodes toohello cluster can be accomplished via hello Service Fabric Azure Resource Manager PowerShell module.</span></span>

```posh
Add-AzureRmServiceFabricNode -ResourceGroupName $resourceGroupName -Name $clusterResourceName -NodeType $nodeTypeName  -NumberOfNodesToAdd 5 
Remove-AzureRmServiceFabricNode -ResourceGroupName $resourceGroupName -Name $clusterResourceName -NodeType $nodeTypeName -NumberOfNodesToRemove 5
```

## <a name="putting-it-all-together"></a><span data-ttu-id="8471e-236">Exemple complet</span><span class="sxs-lookup"><span data-stu-id="8471e-236">Putting it all together</span></span>
<span data-ttu-id="8471e-237">Nous allons prendre toutes les idées hello que nous avez présentées ici et communiquer avec un exemple.</span><span class="sxs-lookup"><span data-stu-id="8471e-237">Let's take all hello ideas that we've discussed here and talk through an example.</span></span> <span data-ttu-id="8471e-238">Envisagez de hello après service : vous essayez de toobuild un service qui agit comme un carnet d’adresses, contenant les informations de contact et de toonames.</span><span class="sxs-lookup"><span data-stu-id="8471e-238">Consider hello following service: you are trying toobuild a service that acts as an address book, holding on toonames and contact information.</span></span> 

<span data-ttu-id="8471e-239">À droite au préalable, vous avez un certain nombre de questions des tooscale connexes : le nombre d’utilisateurs est toohave de cours vous ?</span><span class="sxs-lookup"><span data-stu-id="8471e-239">Right up front you have a bunch of questions related tooscale: How many users are you going toohave?</span></span> <span data-ttu-id="8471e-240">Combien de contacts chaque utilisateur va-t-il stocker ?</span><span class="sxs-lookup"><span data-stu-id="8471e-240">How many contacts will each user store?</span></span> <span data-ttu-id="8471e-241">Tentez toofigure toutes les lorsque vous sont permanent votre service pour hello première est difficile.</span><span class="sxs-lookup"><span data-stu-id="8471e-241">Trying toofigure this all out when you are standing up your service for hello first time is difficult.</span></span> <span data-ttu-id="8471e-242">Supposons que vous alliez toogo avec un seul service statique avec un nombre de partitions spécifiques.</span><span class="sxs-lookup"><span data-stu-id="8471e-242">Let's say you were going toogo with a single static service with a specific partition count.</span></span> <span data-ttu-id="8471e-243">conséquences Hello de prélèvement hello incorrect le nombre de partitions peut entraîner les problèmes de mise à l’échelle toohave plus tard.</span><span class="sxs-lookup"><span data-stu-id="8471e-243">hello consequences of picking hello wrong partition count could cause you toohave scale issues later.</span></span> <span data-ttu-id="8471e-244">De même, même si vous sélectionnez le nombre de droite hello qu'est peut-être pas toutes les informations de hello vous avez besoin.</span><span class="sxs-lookup"><span data-stu-id="8471e-244">Similarly, even if you pick hello right count you might not have all hello information you need.</span></span> <span data-ttu-id="8471e-245">Par exemple, vous sont également toodecide en taille hello du cluster hello, à la fois en termes de nombre hello de nœuds et leur taille.</span><span class="sxs-lookup"><span data-stu-id="8471e-245">For example, you also have toodecide hello size of hello cluster up front, both in terms of hello number of nodes and their sizes.</span></span> <span data-ttu-id="8471e-246">Toopredict dur généralement son nombre de ressources un service est en cours tooconsume pendant sa durée de vie.</span><span class="sxs-lookup"><span data-stu-id="8471e-246">It's usually hard toopredict how many resources a service is going tooconsume over its lifetime.</span></span> <span data-ttu-id="8471e-247">Il peut également être tooknow dur avance le modèle de trafic hello heure que le service de hello voit réellement.</span><span class="sxs-lookup"><span data-stu-id="8471e-247">It can also be hard tooknow ahead of time hello traffic pattern that hello service actually sees.</span></span> <span data-ttu-id="8471e-248">Par exemple, peut-être personnes et supprimer leurs contacts uniquement première chose que matin de hello, ou peut-être qu’il est distribué uniformément cours hello du jour de hello.</span><span class="sxs-lookup"><span data-stu-id="8471e-248">For example, maybe people add and remove their contacts only first thing in hello morning, or maybe it's distributed evenly over hello course of hello day.</span></span> <span data-ttu-id="8471e-249">En fonction de cela que vous devrez peut-être tooscale et dans dynamiquement.</span><span class="sxs-lookup"><span data-stu-id="8471e-249">Based on this you might need tooscale out and in dynamically.</span></span> <span data-ttu-id="8471e-250">Vous trouverez peut-être toopredict lorsque vous souhaitez tooneed tooscale et dans, mais dans les deux cas que vous allez probablement la consommation des ressources tooneed tooreact toochanging par votre service.</span><span class="sxs-lookup"><span data-stu-id="8471e-250">Maybe you can learn toopredict when you're going tooneed tooscale out and in, but either way you're probably going tooneed tooreact toochanging resource consumption by your service.</span></span> <span data-ttu-id="8471e-251">Cela peut impliquer la modification de taille hello du cluster hello dans l’ordre tooprovide davantage de ressources lors de la réorganisation d’utilisation des ressources existantes ne suffit pas.</span><span class="sxs-lookup"><span data-stu-id="8471e-251">This can involve changing hello size of hello cluster in order tooprovide more resources when reorganizing use of existing resources isn't enough.</span></span> 

<span data-ttu-id="8471e-252">Mais pourquoi même toopick un schéma de partition unique out pour tous les utilisateurs ?</span><span class="sxs-lookup"><span data-stu-id="8471e-252">But why even try toopick a single partition scheme out for all users?</span></span> <span data-ttu-id="8471e-253">Pourquoi vous limiter tooone service et un seul cluster statique ? situation réelle de Hello est généralement plus dynamique.</span><span class="sxs-lookup"><span data-stu-id="8471e-253">Why limit yourself tooone service and one static cluster? hello real situation is usually more dynamic.</span></span> 

<span data-ttu-id="8471e-254">Lors de la génération de l’échelle, envisagez de hello modèle dynamique.</span><span class="sxs-lookup"><span data-stu-id="8471e-254">When building for scale, consider hello following dynamic pattern.</span></span> <span data-ttu-id="8471e-255">Vous devrez peut-être tooadapt il tooyour situation :</span><span class="sxs-lookup"><span data-stu-id="8471e-255">You may need tooadapt it tooyour situation:</span></span>

1. <span data-ttu-id="8471e-256">Au lieu de tenter toopick un schéma de partitionnement pour tout le monde au préalable, générez un « service manager ».</span><span class="sxs-lookup"><span data-stu-id="8471e-256">Instead of trying toopick a partitioning scheme for everyone up front, build a "manager service".</span></span>
2. <span data-ttu-id="8471e-257">tâche Hello du service du gestionnaire hello est toolook au niveau des informations sur les clients quand ils se connectent à votre service.</span><span class="sxs-lookup"><span data-stu-id="8471e-257">hello job of hello manager service is toolook at customer information when they sign up for your service.</span></span> <span data-ttu-id="8471e-258">Ensuite, en fonction de ces informations, le service manager hello créer une instance de votre _réel_ service de stockage de contact _juste pour que le client_.</span><span class="sxs-lookup"><span data-stu-id="8471e-258">Then depending on that information hello manager service create an instance of your _actual_ contact-storage service _just for that customer_.</span></span> <span data-ttu-id="8471e-259">Si elles nécessitent une configuration particulière, l’isolation ou mises à niveau, vous pouvez également décider toospin d’une instance d’Application pour ce client.</span><span class="sxs-lookup"><span data-stu-id="8471e-259">If they require particular configuration, isolation, or upgrades, you can also decide toospin up an Application instance for this customer.</span></span> 

<span data-ttu-id="8471e-260">Ce modèle de création dynamique présente de nombreux avantages :</span><span class="sxs-lookup"><span data-stu-id="8471e-260">This dynamic creation pattern many benefits:</span></span>

  - <span data-ttu-id="8471e-261">Vous n’essayez pas de nombre de partition correct tooguess hello pour tous les utilisateurs au préalable ou créez un service unique qui est très évolutif à lui seul.</span><span class="sxs-lookup"><span data-stu-id="8471e-261">You're not trying tooguess hello correct partition count for all users up front or build a single service that is infinitely scalable all on its own.</span></span> 
  - <span data-ttu-id="8471e-262">Différents utilisateurs n’ont pas hello toohave même partition nombre, nombre de réplica, les contraintes de placement, métriques, les charges par défaut, les noms de service, les paramètres dns ou l’un des hello autres propriétés spécifiées au niveau de service de hello ou niveau de l’application.</span><span class="sxs-lookup"><span data-stu-id="8471e-262">Different users don't have toohave hello same partition count, replica count, placement constraints, metrics, default loads, service names, dns settings, or any of hello other properties specified at hello service or application level.</span></span> 
  - <span data-ttu-id="8471e-263">Vous bénéficiez d’une segmentation des données supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="8471e-263">You gain additional data segmentation.</span></span> <span data-ttu-id="8471e-264">Chaque client possède sa propre copie du service de hello</span><span class="sxs-lookup"><span data-stu-id="8471e-264">Each customer has their own copy of hello service</span></span>
    - <span data-ttu-id="8471e-265">Chaque service client peut être configuré différemment et avoir accès à plus ou moins de ressources, avec plus ou moins de partitions ou de réplicas, en fonction de l’échelle attendue.</span><span class="sxs-lookup"><span data-stu-id="8471e-265">Each customer service can be configured differently and granted more or fewer resources, with more or fewer partitions or replicas as necessary based on their expected scale.</span></span>
      - <span data-ttu-id="8471e-266">Par exemple, hello client a payé hello niveau « Gold » - qu’ils puissent accéder plus réplicas ou nombre de partitions supérieur, et éventuellement les ressources dédiées services tootheir via les capacités de métriques et d’application.</span><span class="sxs-lookup"><span data-stu-id="8471e-266">For example, say hello customer paid for hello "Gold" tier - they could get more replicas or greater partition count, and potentially resources dedicated tootheir services via metrics and application capacities.</span></span>
      - <span data-ttu-id="8471e-267">Ou prétendent fourni des informations indiquant le nombre hello de contacts qu’ils nécessaire a été « Petite » : ils obtiendriez uniquement certaines partitions, ou peut même être intégrées à un pool de service partagé avec d’autres clients.</span><span class="sxs-lookup"><span data-stu-id="8471e-267">Or say they provided information indicating hello number of contacts they needed was "Small" - they would get only a few partitions, or could even be put into a shared service pool with other customers.</span></span>
  - <span data-ttu-id="8471e-268">Vous n’exécutez pas un ensemble de réplicas ou les instances de service pendant que vous patientez pour tooshow clients des</span><span class="sxs-lookup"><span data-stu-id="8471e-268">You're not running a bunch of service instances or replicas while you're waiting for customers tooshow up</span></span>
  - <span data-ttu-id="8471e-269">Si un client quitte, puis en supprimant leurs informations de votre service est aussi simple que Gestionnaire de hello de supprimer ce service ou cette application qu’il a créées.</span><span class="sxs-lookup"><span data-stu-id="8471e-269">If a customer ever leaves, then removing their information from your service is as simple as having hello manager delete that service or application that it created.</span></span>

## <a name="next-steps"></a><span data-ttu-id="8471e-270">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="8471e-270">Next steps</span></span>
<span data-ttu-id="8471e-271">Pour plus d’informations sur les concepts de l’infrastructure de Service, consultez hello suivant des articles :</span><span class="sxs-lookup"><span data-stu-id="8471e-271">For more information on Service Fabric concepts, see hello following articles:</span></span>

* [<span data-ttu-id="8471e-272">Disponibilité des services Service Fabric</span><span class="sxs-lookup"><span data-stu-id="8471e-272">Availability of Service Fabric services</span></span>](service-fabric-availability-services.md)
* [<span data-ttu-id="8471e-273">Partitionnement des services Service Fabric</span><span class="sxs-lookup"><span data-stu-id="8471e-273">Partitioning Service Fabric services</span></span>](service-fabric-concepts-partitioning.md)
