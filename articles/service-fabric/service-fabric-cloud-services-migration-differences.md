---
title: "Différences entre les services cloud et Service Fabric | Microsoft Docs"
description: "Aperçu conceptuel pour apprendre à migrer des applications à partir des services cloud vers Service Fabric."
services: service-fabric
documentationcenter: .net
author: vturecek
manager: timlt
editor: 
ms.assetid: 0b87b1d3-88ad-4658-a465-9f05a3376dee
ms.service: service-fabric
ms.devlang: dotNet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/29/2017
ms.author: vturecek
ms.openlocfilehash: 26c0256f6fa299551d92e9bcd058ca359d8c85b3
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="learn-about-the-differences-between-cloud-services-and-service-fabric-before-migrating-applications"></a><span data-ttu-id="93d85-103">Découvrez les différences entre les services cloud et Service Fabric avant de migrer les applications.</span><span class="sxs-lookup"><span data-stu-id="93d85-103">Learn about the differences between Cloud Services and Service Fabric before migrating applications.</span></span>
<span data-ttu-id="93d85-104">Microsoft Azure Service Fabric est la plateforme d’applications cloud nouvelle génération pour les applications distribuées hautement évolutives et fiables.</span><span class="sxs-lookup"><span data-stu-id="93d85-104">Microsoft Azure Service Fabric is the next-generation cloud application platform for highly scalable, highly reliable distributed applications.</span></span> <span data-ttu-id="93d85-105">Elle introduit de nombreuses nouvelles fonctionnalités d’empaquetage, de déploiement, de mise à niveau et de gestion des applications cloud distribuées.</span><span class="sxs-lookup"><span data-stu-id="93d85-105">It introduces many new features for packaging, deploying, upgrading, and managing distributed cloud applications.</span></span> 

<span data-ttu-id="93d85-106">Ceci est un guide pour apprendre à migrer des applications à partir des services cloud vers Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="93d85-106">This is an introductory guide to migrating applications from Cloud Services to Service Fabric.</span></span> <span data-ttu-id="93d85-107">Il se concentre essentiellement sur les différences d’architecture et de conception entre les services cloud et Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="93d85-107">It focuses primarily on architectural and design differences between Cloud Services and Service Fabric.</span></span>

## <a name="applications-and-infrastructure"></a><span data-ttu-id="93d85-108">Applications et infrastructure</span><span class="sxs-lookup"><span data-stu-id="93d85-108">Applications and infrastructure</span></span>
<span data-ttu-id="93d85-109">L’une des principales différences entre les services cloud et Service Fabric est la relation entre les machines virtuelles, les charges de travail et les applications.</span><span class="sxs-lookup"><span data-stu-id="93d85-109">A fundamental difference between Cloud Services and Service Fabric is the relationship between VMs, workloads, and applications.</span></span> <span data-ttu-id="93d85-110">Une charge de travail correspond au code que vous écrivez pour effectuer une tâche spécifique ou fournir un service.</span><span class="sxs-lookup"><span data-stu-id="93d85-110">A workload here is defined as the code you write to perform a specific task or provide a service.</span></span>

* <span data-ttu-id="93d85-111">**Les services cloud visent à déployer des applications en tant que machines virtuelles.**</span><span class="sxs-lookup"><span data-stu-id="93d85-111">**Cloud Services is about deploying applications as VMs.**</span></span> <span data-ttu-id="93d85-112">Le code que vous écrivez est étroitement lié à une instance de machine virtuelle, par exemple un rôle web ou de travail.</span><span class="sxs-lookup"><span data-stu-id="93d85-112">The code you write is tightly coupled to a VM instance, such as a Web or Worker Role.</span></span> <span data-ttu-id="93d85-113">Déployer une charge de travail dans les services cloud revient à déployer une ou plusieurs instances de machines virtuelles qui exécutent la charge de travail.</span><span class="sxs-lookup"><span data-stu-id="93d85-113">To deploy a workload in Cloud Services is to deploy one or more VM instances that run the workload.</span></span> <span data-ttu-id="93d85-114">Il n’existe pas de séparation entre les applications et les machines virtuelles, et par conséquent, les applications ne sont pas associées à une définition formelle.</span><span class="sxs-lookup"><span data-stu-id="93d85-114">There is no separation of applications and VMs, and so there is no formal definition of an application.</span></span> <span data-ttu-id="93d85-115">Une application peut être considérée comme un ensemble d’instances de rôle web ou de travail au sein d’un déploiement de services cloud ou comme un déploiement complet de services cloud.</span><span class="sxs-lookup"><span data-stu-id="93d85-115">An application can be thought of as a set of Web or Worker Role instances within a Cloud Services deployment or as an entire Cloud Services deployment.</span></span> <span data-ttu-id="93d85-116">Dans cet exemple, une application est représentée comme un ensemble d’instances de rôle.</span><span class="sxs-lookup"><span data-stu-id="93d85-116">In this example, an application is shown as a set of role instances.</span></span>

![Topologie et applications de service cloud][1]

* <span data-ttu-id="93d85-118">**Service Fabric vise à déployer des applications sur des machines virtuelles existantes ou sur des ordinateurs exécutant Service Fabric sur Windows ou Linux.**</span><span class="sxs-lookup"><span data-stu-id="93d85-118">**Service Fabric is about deploying applications to existing VMs or machines running Service Fabric on Windows or Linux.**</span></span> <span data-ttu-id="93d85-119">Les services que vous écrivez sont complètement dissociés de l’infrastructure sous-jacente, qui est éliminée par la plateforme d’application de Service Fabric. De ce fait, une application peut être déployée dans plusieurs environnements.</span><span class="sxs-lookup"><span data-stu-id="93d85-119">The services you write are completely decoupled from the underlying infrastructure, which is abstracted away by the Service Fabric application platform, so an application can be deployed to multiple environments.</span></span> <span data-ttu-id="93d85-120">Une charge de travail dans Service Fabric est appelée un « service », et un ou plusieurs services peuvent être regroupés dans une application formellement définie qui s’exécute sur la plateforme d’application Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="93d85-120">A workload in Service Fabric is called a "service," and one or more services are grouped in a formally-defined application that runs on the Service Fabric application platform.</span></span> <span data-ttu-id="93d85-121">Plusieurs applications peuvent être déployées dans un seul cluster Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="93d85-121">Multiple applications can be deployed to a single Service Fabric cluster.</span></span>

![Topologie et applications Service Fabric][2]

<span data-ttu-id="93d85-123">Service Fabric correspond à une couche de plateforme d’application qui s’exécute sur Windows ou Linux, alors que les services cloud constituent un système de déploiement de machines virtuelles gérées par Azure avec des charges de travail jointes.</span><span class="sxs-lookup"><span data-stu-id="93d85-123">Service Fabric itself is an application platform layer that runs on Windows or Linux, whereas Cloud Services is a system for deploying Azure-managed VMs with workloads attached.</span></span>
<span data-ttu-id="93d85-124">Le modèle d’application Service Fabric présente plusieurs avantages :</span><span class="sxs-lookup"><span data-stu-id="93d85-124">The Service Fabric application model has a number of advantages:</span></span>

* <span data-ttu-id="93d85-125">Temps de déploiement rapide.</span><span class="sxs-lookup"><span data-stu-id="93d85-125">Fast deployment times.</span></span> <span data-ttu-id="93d85-126">La création d’instances de machine virtuelle peut prendre beaucoup de temps.</span><span class="sxs-lookup"><span data-stu-id="93d85-126">Creating VM instances can be time consuming.</span></span> <span data-ttu-id="93d85-127">Dans Service Fabric, les machines virtuelles sont déployées une seule fois pour former un cluster qui héberge la plateforme d’application Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="93d85-127">In Service Fabric, VMs are only deployed once to form a cluster that hosts the Service Fabric application platform.</span></span> <span data-ttu-id="93d85-128">À ce stade, les packages d’application peuvent être déployés vers le cluster très rapidement.</span><span class="sxs-lookup"><span data-stu-id="93d85-128">From that point on, application packages can be deployed to the cluster very quickly.</span></span>
* <span data-ttu-id="93d85-129">Hébergement de haute densité.</span><span class="sxs-lookup"><span data-stu-id="93d85-129">High-density hosting.</span></span> <span data-ttu-id="93d85-130">Dans les services cloud, une machine virtuelle de rôle de travail héberge une charge de travail.</span><span class="sxs-lookup"><span data-stu-id="93d85-130">In Cloud Services, a Worker Role VM hosts one workload.</span></span> <span data-ttu-id="93d85-131">Dans Service Fabric, les applications sont séparées des machines virtuelles qui les exécutent, ce qui signifie que vous pouvez déployer un grand nombre d’applications sur un petit nombre de machines virtuelles. Résultat : une diminution des coûts globaux pour des déploiements plus importants.</span><span class="sxs-lookup"><span data-stu-id="93d85-131">In Service Fabric, applications are separate from the VMs that run them, meaning you can deploy a large number of applications to a small number of VMs, which can lower overall cost for larger deployments.</span></span>
* <span data-ttu-id="93d85-132">La plateforme Service Fabric peut s’exécuter sur n’importe quel système incluant des ordinateurs Windows Server ou Linux, qu’il s’agisse d’Azure ou d’un système sur site.</span><span class="sxs-lookup"><span data-stu-id="93d85-132">The Service Fabric platform can run anywhere that has Windows Server or Linux machines, whether it's Azure or on-premises.</span></span> <span data-ttu-id="93d85-133">La plateforme fournit une couche d’abstraction au-dessus de l’infrastructure sous-jacente pour permettre d’exécuter votre application sur différents environnements.</span><span class="sxs-lookup"><span data-stu-id="93d85-133">The platform provides an abstraction layer over the underlying infrastructure so your application can run on different environments.</span></span> 
* <span data-ttu-id="93d85-134">Gestion des applications distribuées.</span><span class="sxs-lookup"><span data-stu-id="93d85-134">Distributed application management.</span></span> <span data-ttu-id="93d85-135">La plateforme Service Fabric ne se contente pas d’héberger les applications distribuées : elle permet également de gérer leur cycle de vie indépendamment de la machine virtuelle hôte ou du cycle de vie de la machine.</span><span class="sxs-lookup"><span data-stu-id="93d85-135">Service Fabric is a platform that not only hosts distributed applications, but also helps manage their lifecycle independently of the hosting VM or machine lifecycle.</span></span>

## <a name="application-architecture"></a><span data-ttu-id="93d85-136">Architecture de l'application</span><span class="sxs-lookup"><span data-stu-id="93d85-136">Application architecture</span></span>
<span data-ttu-id="93d85-137">L’architecture d’une application de service cloud inclut généralement de nombreuses dépendances de services externes, comme Service Bus, les tables et le stockage d’objets blob Azure, SQL, Redis etc., pour gérer l’état et les données d’une application et la communication entre les rôles web et de travail dans un déploiement de services cloud.</span><span class="sxs-lookup"><span data-stu-id="93d85-137">The architecture of a Cloud Services application usually includes numerous external service dependencies, such as Service Bus, Azure Table and Blob Storage, SQL, Redis, and others to manage the state and data of an application and communication between Web and Worker Roles in a Cloud Services deployment.</span></span> <span data-ttu-id="93d85-138">Voici un exemple d’application de services cloud complète :</span><span class="sxs-lookup"><span data-stu-id="93d85-138">An example of a complete Cloud Services application might look like this:</span></span>  

![Architecture des services cloud][9]

<span data-ttu-id="93d85-140">Les applications Service Fabric peuvent également opter pour l’utilisation des mêmes services externes dans l’ensemble d’une application.</span><span class="sxs-lookup"><span data-stu-id="93d85-140">Service Fabric applications can also choose to use the same external services in a complete application.</span></span> <span data-ttu-id="93d85-141">Cet exemple d’architecture de services cloud montre que la manière la plus simple d’effectuer une migration des services cloud vers Service Fabric est de remplacer uniquement le déploiement des services cloud par une application Service Fabric, tout en conservant l’architecture globale.</span><span class="sxs-lookup"><span data-stu-id="93d85-141">Using this example Cloud Services architecture, the simplest migration path from Cloud Services to Service Fabric is to replace only the Cloud Services deployment with a Service Fabric application, keeping the overall architecture the same.</span></span> <span data-ttu-id="93d85-142">Les rôles web et de travail peuvent être transférés vers les services sans état de Service Fabric avec peu de modifications du code.</span><span class="sxs-lookup"><span data-stu-id="93d85-142">The Web and Worker Roles can be ported to Service Fabric stateless services with minimal code changes.</span></span>

![Architecture Service Fabric après une migration simple][10]

<span data-ttu-id="93d85-144">À ce stade, le système doit continuer à fonctionner comme avant.</span><span class="sxs-lookup"><span data-stu-id="93d85-144">At this stage, the system should continue to work the same as before.</span></span> <span data-ttu-id="93d85-145">En tirant profit des fonctionnalités avec état de Service Fabric, les magasins d’état externe peuvent être internalisés sous forme de services avec état le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="93d85-145">Taking advantage of Service Fabric's stateful features, external state stores can be internalized as stateful services where applicable.</span></span> <span data-ttu-id="93d85-146">Cela est plus complexe qu’une simple migration de rôles web et de travail vers les services sans état Service Fabric, car il est nécessaire d’écrire les services personnalisés qui fournissent à votre application des fonctionnalités équivalentes à celles fournies auparavant par les services externes.</span><span class="sxs-lookup"><span data-stu-id="93d85-146">This is more involved than a simple migration of Web and Worker Roles to Service Fabric stateless services, as it requires writing custom services that provide equivalent functionality to your application as the external services did before.</span></span> <span data-ttu-id="93d85-147">Les avantages sont les suivants :</span><span class="sxs-lookup"><span data-stu-id="93d85-147">The benefits of doing so include:</span></span> 

* <span data-ttu-id="93d85-148">Suppression des dépendances externes</span><span class="sxs-lookup"><span data-stu-id="93d85-148">Removing external dependencies</span></span> 
* <span data-ttu-id="93d85-149">Unification des modèles de mise à niveau, de gestion et de déploiement</span><span class="sxs-lookup"><span data-stu-id="93d85-149">Unifying the deployment, management, and upgrade models.</span></span> 

<span data-ttu-id="93d85-150">Voici un exemple d’architecture résultant de l’internalisation de ces services :</span><span class="sxs-lookup"><span data-stu-id="93d85-150">An example resulting architecture of internalizing these services could look like this:</span></span>

![Architecture Service Fabric après une migration complète][11]

## <a name="communication-and-workflow"></a><span data-ttu-id="93d85-152">Communication et workflow</span><span class="sxs-lookup"><span data-stu-id="93d85-152">Communication and workflow</span></span>
<span data-ttu-id="93d85-153">La plupart des applications de service cloud sont constituées de plusieurs niveaux.</span><span class="sxs-lookup"><span data-stu-id="93d85-153">Most Cloud Service applications consist of more than one tier.</span></span> <span data-ttu-id="93d85-154">De même, une application Service Fabric se compose de plusieurs services (généralement de nombreux services).</span><span class="sxs-lookup"><span data-stu-id="93d85-154">Similarly, a Service Fabric application consists of more than one service (typically many services).</span></span> <span data-ttu-id="93d85-155">La communication directe et la communication via un stockage durable externe constituent deux modèles de communication courants.</span><span class="sxs-lookup"><span data-stu-id="93d85-155">Two common communication models are direct communication and via an external durable storage.</span></span>

### <a name="direct-communication"></a><span data-ttu-id="93d85-156">Communication directe</span><span class="sxs-lookup"><span data-stu-id="93d85-156">Direct communication</span></span>
<span data-ttu-id="93d85-157">Avec la communication directe, les niveaux peuvent communiquer directement par le biais du point de terminaison exposé par chacun d’entre eux.</span><span class="sxs-lookup"><span data-stu-id="93d85-157">With direct communication, tiers can communicate directly through endpoint exposed by each tier.</span></span> <span data-ttu-id="93d85-158">Dans les environnements sans état tels que les services cloud, cela signifie qu’une instance d’un rôle de machine virtuelle doit être sélectionnée, soit au hasard, soit par tourniquet (round-robin), afin d’équilibrer la charge, et que la connexion au point de terminaison doit se faire directement.</span><span class="sxs-lookup"><span data-stu-id="93d85-158">In stateless environments such as Cloud Services, this means selecting an instance of a VM role, either randomly or round-robin to balance load, and connecting to its endpoint directly.</span></span>

![Communication directe des services cloud][5]

 <span data-ttu-id="93d85-160">La communication directe est un modèle de communication courant dans Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="93d85-160">Direct communication is a common communication model in Service Fabric.</span></span> <span data-ttu-id="93d85-161">La principale différence entre Service Fabric et les services cloud est que dans les services cloud, vous vous connectez à une machine virtuelle, tandis que dans Service Fabric, vous vous connectez à un service.</span><span class="sxs-lookup"><span data-stu-id="93d85-161">The key difference between Service Fabric and Cloud Services is that in Cloud Services you connect to a VM, whereas in Service Fabric you connect to a service.</span></span> <span data-ttu-id="93d85-162">Cette distinction est importante pour plusieurs raisons :</span><span class="sxs-lookup"><span data-stu-id="93d85-162">This is an important distinction for a couple reasons:</span></span>

* <span data-ttu-id="93d85-163">Les services dans Service Fabric ne sont pas liés aux machines virtuelles qui les hébergent ; les services peuvent se déplacer au sein du cluster et en réalité, ils doivent même se déplacer pour différentes raisons : équilibrage des ressources, basculement, mises à niveau de l’application et de l’infrastructure, contraintes de positionnement ou de charge.</span><span class="sxs-lookup"><span data-stu-id="93d85-163">Services in Service Fabric are not bound to the VMs that host them; services may move around in the cluster, and in fact, are expected to move around for various reasons: Resource balancing, failover, application and infrastructure upgrades, and placement or load constraints.</span></span> <span data-ttu-id="93d85-164">Cela signifie que l’adresse d’une instance de service peut changer à tout moment.</span><span class="sxs-lookup"><span data-stu-id="93d85-164">This means a service instance's address can change at any time.</span></span> 
* <span data-ttu-id="93d85-165">Une machine virtuelle dans Service Fabric peut héberger plusieurs services, chacun avec des points de terminaison uniques.</span><span class="sxs-lookup"><span data-stu-id="93d85-165">A VM in Service Fabric can host multiple services, each with unique endpoints.</span></span>

<span data-ttu-id="93d85-166">Service Fabric fournit un mécanisme de découverte de service, appelé service d’affectation de noms, qui peut être utilisé pour résoudre les adresses de point de terminaison des services.</span><span class="sxs-lookup"><span data-stu-id="93d85-166">Service Fabric provides a service discovery mechanism, called the Naming Service, which can be used to resolve endpoint addresses of services.</span></span> 

![Communication directe Service Fabric][6]

### <a name="queues"></a><span data-ttu-id="93d85-168">Files d’attente</span><span class="sxs-lookup"><span data-stu-id="93d85-168">Queues</span></span>
<span data-ttu-id="93d85-169">Pour communiquer entre les niveaux dans des environnements sans état tels que les services cloud, il est courant d’utiliser une file d’attente de stockage externe pour enregistrer durablement les tâches de travail d’un niveau à l’autre.</span><span class="sxs-lookup"><span data-stu-id="93d85-169">A common communication mechanism between tiers in stateless environments such as Cloud Services is to use an external storage queue to durably store work tasks from one tier to another.</span></span> <span data-ttu-id="93d85-170">Il est fréquent qu’un niveau web envoie les travaux à un Service Bus ou à une file d’attente Azure où les instances de rôle de travail peuvent enlever les travaux de la file d’attente et les traiter.</span><span class="sxs-lookup"><span data-stu-id="93d85-170">A common scenario is a web tier that sends jobs to an Azure Queue or Service Bus where Worker Role instances can dequeue and process the jobs.</span></span>

![Communication par file d’attente des services cloud][7]

<span data-ttu-id="93d85-172">Le même modèle de communication peut être utilisé dans Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="93d85-172">The same communication model can be used in Service Fabric.</span></span> <span data-ttu-id="93d85-173">Cela peut être utile lors de la migration d’une application existante d’un service cloud vers Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="93d85-173">This can be useful when migrating an existing Cloud Services application to Service Fabric.</span></span> 

![Communication directe Service Fabric][8]

## <a name="next-steps"></a><span data-ttu-id="93d85-175">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="93d85-175">Next Steps</span></span>
<span data-ttu-id="93d85-176">Le moyen le plus simple de migrer des services cloud vers Service Fabric est de remplacer uniquement le déploiement des services cloud par une application Service Fabric, tout en conservant l’architecture globale de votre application presque inchangée.</span><span class="sxs-lookup"><span data-stu-id="93d85-176">The simplest migration path from Cloud Services to Service Fabric is to replace only the Cloud Services deployment with a Service Fabric application, keeping the overall architecture of your application roughly the same.</span></span> <span data-ttu-id="93d85-177">L’article suivant fournit un guide pour vous aider à convertir un rôle web ou de travail en service sans état Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="93d85-177">The following article provides a guide to help convert a Web or Worker Role to a Service Fabric stateless service.</span></span>

* [<span data-ttu-id="93d85-178">Migration simple : convertir un rôle web ou de travail en service sans état Service Fabric</span><span class="sxs-lookup"><span data-stu-id="93d85-178">Simple migration: convert a Web or Worker Role to a Service Fabric stateless service</span></span>](service-fabric-cloud-services-migration-worker-role-stateless-service.md)

<!--Image references-->
[1]: ./media/service-fabric-cloud-services-migration-differences/topology-cloud-services.png
[2]: ./media/service-fabric-cloud-services-migration-differences/topology-service-fabric.png
[5]: ./media/service-fabric-cloud-services-migration-differences/cloud-service-communication-direct.png
[6]: ./media/service-fabric-cloud-services-migration-differences/service-fabric-communication-direct.png
[7]: ./media/service-fabric-cloud-services-migration-differences/cloud-service-communication-queues.png
[8]: ./media/service-fabric-cloud-services-migration-differences/service-fabric-communication-queues.png
[9]: ./media/service-fabric-cloud-services-migration-differences/cloud-services-architecture.png
[10]: ./media/service-fabric-cloud-services-migration-differences/service-fabric-architecture-simple.png
[11]: ./media/service-fabric-cloud-services-migration-differences/service-fabric-architecture-full.png
