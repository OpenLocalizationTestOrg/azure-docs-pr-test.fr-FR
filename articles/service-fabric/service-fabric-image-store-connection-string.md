---
title: "aaaAzure chaîne de connexion de Service Fabric image store | Documents Microsoft"
description: "Comprendre la chaîne de connexion de magasin hello image"
services: service-fabric
documentationcenter: .net
author: alexwun
manager: timlt
editor: 
ms.assetid: 00f8059d-9d53-4cb8-b44a-b25149de3030
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/07/2017
ms.author: alexwun
ms.openlocfilehash: 83f5ad75b5df07726997da3173722028255b8cae
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="understand-hello-imagestoreconnectionstring-setting"></a><span data-ttu-id="41815-103">Comprendre le paramètre de ImageStoreConnectionString hello</span><span class="sxs-lookup"><span data-stu-id="41815-103">Understand hello ImageStoreConnectionString setting</span></span>

<span data-ttu-id="41815-104">Dans certains notre documentation, nous mentionner existence hello d’un paramètre « ImageStoreConnectionString » sans décrivant ce que cela signifie réellement.</span><span class="sxs-lookup"><span data-stu-id="41815-104">In some of our documentation, we briefly mention hello existence of an "ImageStoreConnectionString" parameter without describing what it really means.</span></span> <span data-ttu-id="41815-105">Et après avoir effectué un article comme [déployer et supprimer des applications à l’aide de PowerShell][10], il semble que tout ce que vous faire est de copier/coller hello valeur tel qu’il apparaît dans le manifeste du cluster hello de cible de hello cluster.</span><span class="sxs-lookup"><span data-stu-id="41815-105">And after going through an article like [Deploy and remove applications using PowerShell][10], it looks like all you do is copy/paste hello value as it appears in hello cluster manifest of hello target cluster.</span></span> <span data-ttu-id="41815-106">Paramètre de hello doivent donc être configurable par cluster, mais lorsque vous créez un cluster via hello [portail Azure][11], il n’existe aucune option de tooconfigure ce paramètre et ses toujours « fabric : images ».</span><span class="sxs-lookup"><span data-stu-id="41815-106">So hello setting must be configurable per cluster, but when you create a cluster through hello [Azure portal][11], there's no option tooconfigure this setting and it's always "fabric:ImageStore".</span></span> <span data-ttu-id="41815-107">À quoi sert hello de ce paramètre ?</span><span class="sxs-lookup"><span data-stu-id="41815-107">What's hello purpose of this setting then?</span></span>

![Manifeste de cluster][img_cm]

<span data-ttu-id="41815-109">Service Fabric commencé en tant que plateforme de consommation internes de Microsoft en de nombreuses équipes divers, pour certains aspects de celui-ci sont hautement personnalisables : hello « Image Store » est un aspect de ce type.</span><span class="sxs-lookup"><span data-stu-id="41815-109">Service Fabric started off as a platform for internal Microsoft consumption by many diverse teams, so some aspects of it are highly customizable - hello "Image Store" is one such aspect.</span></span> <span data-ttu-id="41815-110">Essentiellement, hello Image Store est un référentiel enfichable pour stocker les packages d’application.</span><span class="sxs-lookup"><span data-stu-id="41815-110">Essentially, hello Image Store is a pluggable repository for storing application packages.</span></span> <span data-ttu-id="41815-111">Lorsque votre application est un nœud tooa déployé dans un cluster de hello, ce nœud télécharge contenu hello de votre package d’application à partir de hello magasin d’images.</span><span class="sxs-lookup"><span data-stu-id="41815-111">When your application is deployed tooa node in hello cluster, that node downloads hello contents of your application package from hello Image Store.</span></span> <span data-ttu-id="41815-112">Hello ImageStoreConnectionString est un paramètre qui inclut toutes les informations nécessaires hello pour les clients et les nœuds toofind hello correct magasin d’images pour un cluster donné.</span><span class="sxs-lookup"><span data-stu-id="41815-112">hello ImageStoreConnectionString is a setting that includes all hello necessary information for both clients and nodes toofind hello correct Image Store for a given cluster.</span></span>

<span data-ttu-id="41815-113">Il existe actuellement trois genres possibles de fournisseurs de magasins d’images ; les chaînes de connexion correspondantes sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="41815-113">There are currently three possible kinds of Image Store providers and their corresponding connection strings are as follows:</span></span>

1. <span data-ttu-id="41815-114">Service de magasin d’images : « fabric:ImageStore »</span><span class="sxs-lookup"><span data-stu-id="41815-114">Image Store Service: "fabric:ImageStore"</span></span>

2. <span data-ttu-id="41815-115">Système de fichiers : « file:[chemin d’accès du système de fichiers] »</span><span class="sxs-lookup"><span data-stu-id="41815-115">File System: "file:[file system path]"</span></span>

3. <span data-ttu-id="41815-116">Stockage Azure : « xstore:DefaultEndpointsProtocol=https;AccountName=[...];AccountKey=[...];Container=[...] »</span><span class="sxs-lookup"><span data-stu-id="41815-116">Azure Storage: "xstore:DefaultEndpointsProtocol=https;AccountName=[...];AccountKey=[...];Container=[...]"</span></span>

<span data-ttu-id="41815-117">type de fournisseur Hello utilisé en production est hello Service Banque d’Image, qui est un service système persistants avec état que vous pouvez voir à partir de Service Fabric Explorer.</span><span class="sxs-lookup"><span data-stu-id="41815-117">hello provider type used in production is hello Image Store Service, which is a stateful persisted system service that you can see from Service Fabric Explorer.</span></span> 

![Service de magasin d’images][img_is]

<span data-ttu-id="41815-119">Hébergement hello magasin d’images dans un service système cluster hello lui-même élimine les dépendances externes pour le référentiel de packages hello et nous permet de mieux contrôler la localité hello de stockage.</span><span class="sxs-lookup"><span data-stu-id="41815-119">Hosting hello Image Store in a system service within hello cluster itself eliminates external dependencies for hello package repository and gives us more control over hello locality of storage.</span></span> <span data-ttu-id="41815-120">Futures améliorations autour hello magasin d’images sont tout d’abord, fournisseur de magasin d’images hello tootarget probable si ce n’est pas exclusivement.</span><span class="sxs-lookup"><span data-stu-id="41815-120">Future improvements around hello Image Store are likely tootarget hello Image Store provider first, if not exclusively.</span></span> <span data-ttu-id="41815-121">chaîne de connexion Hello pour le fournisseur de Service de magasin d’images hello ne contient aucune information unique, car le client de hello est déjà connecté toohello cible cluster.</span><span class="sxs-lookup"><span data-stu-id="41815-121">hello connection string for hello Image Store Service provider doesn't have any unique information since hello client is already connected toohello target cluster.</span></span> <span data-ttu-id="41815-122">client de Hello doit uniquement tooknow que les protocoles ciblant le service système hello doivent être utilisés.</span><span class="sxs-lookup"><span data-stu-id="41815-122">hello client only needs tooknow that protocols targeting hello system service should be used.</span></span>

<span data-ttu-id="41815-123">fournisseur de système de fichiers Hello est utilisée au lieu de hello Service Banque d’Image pour local une case clusters durant cluster de développement toobootstrap hello légèrement plus rapide.</span><span class="sxs-lookup"><span data-stu-id="41815-123">hello File System provider is used instead of hello Image Store Service for local one-box clusters during development toobootstrap hello cluster slightly faster.</span></span> <span data-ttu-id="41815-124">différence de Hello est généralement faible, mais il s’agit d’une optimisation utile pour la plupart des gens pendant le développement.</span><span class="sxs-lookup"><span data-stu-id="41815-124">hello difference is typically small, but it's a useful optimization for most folks during development.</span></span> <span data-ttu-id="41815-125">Son possible toodeploy une zone locale un cluster avec hello d’autres types de fournisseurs de stockage ainsi, mais il est généralement inutile toodo par conséquent, étant donné que le reste du flux de travail de développement/test hello hello même quel que soit le fournisseur.</span><span class="sxs-lookup"><span data-stu-id="41815-125">It's possible toodeploy a local one-box cluster with hello other storage provider types as well, but there's usually no reason toodo so since hello develop/test workflow remains hello same regardless of provider.</span></span> <span data-ttu-id="41815-126">Que cette utilisation, des fournisseurs de système de fichiers et de stockage Azure hello existent uniquement pour la prise en charge héritée.</span><span class="sxs-lookup"><span data-stu-id="41815-126">Other than this usage, hello File System and Azure Storage providers only exist for legacy support.</span></span>

<span data-ttu-id="41815-127">Par conséquent, tandis que hello ImageStoreConnectionString est configurable, vous en général simplement utilisez hello paramètre par défaut.</span><span class="sxs-lookup"><span data-stu-id="41815-127">So while hello ImageStoreConnectionString is configurable, you generally just use hello default setting.</span></span> <span data-ttu-id="41815-128">Lors de la publication tooAzure via [Visual Studio][12], hello est automatiquement affectée pour vous en conséquence.</span><span class="sxs-lookup"><span data-stu-id="41815-128">When publishing tooAzure through [Visual Studio][12], hello parameter is automatically set for you accordingly.</span></span> <span data-ttu-id="41815-129">Pour un déploiement par programmation les tooclusters hébergés dans Azure, chaîne de connexion hello est toujours « fabric : images ».</span><span class="sxs-lookup"><span data-stu-id="41815-129">For programmatic deployment tooclusters hosted in Azure, hello connection string is always "fabric:ImageStore".</span></span> <span data-ttu-id="41815-130">Bien que, en cas de doute, sa valeur peut toujours être vérifiée par la récupération du manifeste du cluster hello par [PowerShell](https://docs.microsoft.com/powershell/servicefabric/vlatest/get-servicefabricclustermanifest), [.NET](https://msdn.microsoft.com/library/azure/mt161375.aspx), ou [reste](https://docs.microsoft.com/rest/api/servicefabric/get-a-cluster-manifest).</span><span class="sxs-lookup"><span data-stu-id="41815-130">Though when in doubt, its value can always be verified by retrieving hello cluster manifest by [PowerShell](https://docs.microsoft.com/powershell/servicefabric/vlatest/get-servicefabricclustermanifest), [.NET](https://msdn.microsoft.com/library/azure/mt161375.aspx), or [REST](https://docs.microsoft.com/rest/api/servicefabric/get-a-cluster-manifest).</span></span> <span data-ttu-id="41815-131">De test à la fois localement et clusters de production doivent toujours être fournisseur de Service de magasin d’images hello toouse configuré ainsi.</span><span class="sxs-lookup"><span data-stu-id="41815-131">Both on-premises test and production clusters should always be configured toouse hello Image Store Service provider as well.</span></span>

### <a name="next-steps"></a><span data-ttu-id="41815-132">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="41815-132">Next steps</span></span>
<span data-ttu-id="41815-133">[Déployer et supprimer des applications avec PowerShell][10]</span><span class="sxs-lookup"><span data-stu-id="41815-133">[Deploy and remove applications using PowerShell][10]</span></span>

<!--Image references-->
[img_is]: ./media/service-fabric-image-store-connection-string/image_store_service.png
[img_cm]: ./media/service-fabric-image-store-connection-string/cluster_manifest.png

[10]: service-fabric-deploy-remove-applications.md
[11]: service-fabric-cluster-creation-via-portal.md
[12]: service-fabric-publish-app-remote-cluster.md
