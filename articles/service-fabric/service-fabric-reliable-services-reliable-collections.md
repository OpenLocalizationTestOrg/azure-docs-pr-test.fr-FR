---
title: "Introduction aux Collections fiables dans les services avec état d’Azure Service Fabric | Microsoft Docs"
description: "Les services avec état de Service Fabric fournissent des collections fiables qui vous permettent d’écrire des applications cloud hautement disponibles, évolutives et à faible latence."
services: service-fabric
documentationcenter: .net
author: mcoskun
manager: timlt
editor: masnider,rajak
ms.assetid: 62857523-604b-434e-bd1c-2141ea4b00d1
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: required
ms.date: 5/1/2017
ms.author: mcoskun
ms.openlocfilehash: d0247ba0242af05ca6dcd8049ff9116683538fa5
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="introduction-to-reliable-collections-in-azure-service-fabric-stateful-services"></a><span data-ttu-id="b9c2e-103">Introduction aux Collections fiables dans les services avec état d’Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="b9c2e-103">Introduction to Reliable Collections in Azure Service Fabric stateful services</span></span>
<span data-ttu-id="b9c2e-104">Les Collections fiables vous permettent d’écrire des applications cloud hautement disponibles, évolutives et à faible latence comme si vous écriviez des applications informatiques uniques.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-104">Reliable Collections enable you to write highly available, scalable, and low-latency cloud applications as though you were writing single computer applications.</span></span> <span data-ttu-id="b9c2e-105">Les classes dans l’espace de noms **Microsoft.ServiceFabric.Data.Collections** fournissent un ensemble de collections qui rendent automatiquement votre état hautement disponible.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-105">The classes in the **Microsoft.ServiceFabric.Data.Collections** namespace provide a set of collections that automatically make your state highly available.</span></span> <span data-ttu-id="b9c2e-106">Les développeurs doivent programmer uniquement les API de Collection fiable et laisser les Collections fiables gérer l’état répliqué et local.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-106">Developers need to program only to the Reliable Collection APIs and let Reliable Collections manage the replicated and local state.</span></span>

<span data-ttu-id="b9c2e-107">La principale différence entre les Collections fiables et d'autres technologies de haute disponibilité (comme Redis, le service Table Azure et le service File d'attente Azure) est que l'état est conservé localement dans l'instance de service tout en étant également rendu hautement disponible.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-107">The key difference between Reliable Collections and other high-availability technologies (such as Redis, Azure Table service, and Azure Queue service) is that the state is kept locally in the service instance while also being made highly available.</span></span> <span data-ttu-id="b9c2e-108">Cela signifie que :</span><span class="sxs-lookup"><span data-stu-id="b9c2e-108">This means that:</span></span>

* <span data-ttu-id="b9c2e-109">Toutes les lectures sont locales, ce qui entraîne des lectures à faible latence et à débit élevé.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-109">All reads are local, which results in low latency and high-throughput reads.</span></span>
* <span data-ttu-id="b9c2e-110">Toutes les écritures induisent un nombre minimal d’entrées et sorties réseau, ce qui entraîne des écritures à latence faible et à débit élevé.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-110">All writes incur the minimum number of network IOs, which results in low latency and high-throughput writes.</span></span>

![Image de l'évolution des collections.](media/service-fabric-reliable-services-reliable-collections/ReliableCollectionsEvolution.png)

<span data-ttu-id="b9c2e-112">Les Collections fiables peuvent être considérées comme l’évolution naturelle des classes **System.Collections** : un nouveau jeu de collections qui sont conçues pour les applications cloud et les applications pour plusieurs ordinateurs sans accroître la complexité pour les développeurs.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-112">Reliable Collections can be thought of as the natural evolution of the **System.Collections** classes: a new set of collections that are designed for the cloud and multi-computer applications without increasing complexity for the developer.</span></span> <span data-ttu-id="b9c2e-113">En tant que telles, les Collections fiables sont :</span><span class="sxs-lookup"><span data-stu-id="b9c2e-113">As such, Reliable Collections are:</span></span>

* <span data-ttu-id="b9c2e-114">Répliquées : les modifications d'état sont répliquées pour une haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-114">Replicated: State changes are replicated for high availability.</span></span>
* <span data-ttu-id="b9c2e-115">Persistantes : les données sont conservées sur le disque pour la durabilité contre les pannes à grande échelle (par exemple, une panne de courant dans un centre de données).</span><span class="sxs-lookup"><span data-stu-id="b9c2e-115">Persisted: Data is persisted to disk for durability against large-scale outages (for example, a datacenter power outage).</span></span>
* <span data-ttu-id="b9c2e-116">Asynchrones : les API sont asynchrones afin de s’assurer que les threads ne sont pas bloqués en cas d’entrées/sorties.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-116">Asynchronous: APIs are asynchronous to ensure that threads are not blocked when incurring IO.</span></span>
* <span data-ttu-id="b9c2e-117">Transactionnelles : les API utilisent l’abstraction de transactions pour vous permettre de gérer facilement plusieurs Collections fiables au sein d’un service.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-117">Transactional: APIs utilize the abstraction of transactions so you can manage multiple Reliable Collections within a service easily.</span></span>

<span data-ttu-id="b9c2e-118">Les Collections fiables fournissent des garanties de forte cohérence instantanée afin de faciliter le raisonnement sur l'état de l'application.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-118">Reliable Collections provide strong consistency guarantees out of the box to make reasoning about application state easier.</span></span>
<span data-ttu-id="b9c2e-119">La forte cohérence est obtenue en s’assurant que la transaction n’est validée comme terminée que lorsque l’intégralité de la transaction a été enregistrée dans un quorum majoritaire de réplicas, y compris le réplica principal.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-119">Strong consistency is achieved by ensuring transaction commits finish only after the entire transaction has been logged on a majority quorum of replicas, including the primary.</span></span>
<span data-ttu-id="b9c2e-120">Pour obtenir une cohérence plus faible, les applications peuvent accuser réception au client/demandeur avant la validation asynchrone.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-120">To achieve weaker consistency, applications can acknowledge back to the client/requester before the asynchronous commit returns.</span></span>

<span data-ttu-id="b9c2e-121">Les API de Collections fiables sont une évolution des API de collections simultanées (trouvées dans l’espace de noms **System.Collections.Concurrent** ) :</span><span class="sxs-lookup"><span data-stu-id="b9c2e-121">The Reliable Collections APIs are an evolution of concurrent collections APIs (found in the **System.Collections.Concurrent** namespace):</span></span>

* <span data-ttu-id="b9c2e-122">Asynchrones : renvoie une tâche, car contrairement aux collections simultanées, les opérations sont répliquées et conservées.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-122">Asynchronous: Returns a task since, unlike concurrent collections, the operations are replicated and persisted.</span></span>
* <span data-ttu-id="b9c2e-123">Aucun paramètre de sortie : utilise `ConditionalValue<T>` pour renvoyer un paramètre booléen et une valeur au lieu de paramètres.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-123">No out parameters: Uses `ConditionalValue<T>` to return a bool and a value instead of out parameters.</span></span> <span data-ttu-id="b9c2e-124">`ConditionalValue<T>` est similaire à `Nullable<T>`, mais ne nécessite ne pas que T soit une structure.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-124">`ConditionalValue<T>` is like `Nullable<T>` but does not require T to be a struct.</span></span>
* <span data-ttu-id="b9c2e-125">Transactions : utilise un objet de transaction pour permettre à l'utilisateur de regrouper des actions sur plusieurs Collections fiables dans une transaction.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-125">Transactions: Uses a transaction object to enable the user to group actions on multiple Reliable Collections in a transaction.</span></span>

<span data-ttu-id="b9c2e-126">Actuellement, **Microsoft.ServiceFabric.Data.Collections** contient trois collections :</span><span class="sxs-lookup"><span data-stu-id="b9c2e-126">Today, **Microsoft.ServiceFabric.Data.Collections** contains three collections:</span></span>

* <span data-ttu-id="b9c2e-127">[Dictionnaire fiable](https://msdn.microsoft.com/library/azure/dn971511.aspx): représente une collection répliquée, transactionnelle et asynchrone de paires clé/valeur.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-127">[Reliable Dictionary](https://msdn.microsoft.com/library/azure/dn971511.aspx): Represents a replicated, transactional, and asynchronous collection of key/value pairs.</span></span> <span data-ttu-id="b9c2e-128">Semblables à celles de **ConcurrentDictionary**, la clé et la valeur peuvent être de tout type.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-128">Similar to **ConcurrentDictionary**, both the key and the value can be of any type.</span></span>
* <span data-ttu-id="b9c2e-129">[File d’attente fiable](https://msdn.microsoft.com/library/azure/dn971527.aspx): représente une file d’attente FIFO stricte, répliquée, transactionnelle et asynchrone.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-129">[Reliable Queue](https://msdn.microsoft.com/library/azure/dn971527.aspx): Represents a replicated, transactional, and asynchronous strict first-in, first-out (FIFO) queue.</span></span> <span data-ttu-id="b9c2e-130">Semblable à celle de **ConcurrentQueue**, la valeur peut être de tout type.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-130">Similar to **ConcurrentQueue**, the value can be of any type.</span></span>
* <span data-ttu-id="b9c2e-131">[File d’attente simultanée fiable](service-fabric-reliable-services-reliable-concurrent-queue.md) : représente une file d’attente de classement de meilleur effort répliquée, transactionnelle et asynchrone, pour un débit élevé.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-131">[Reliable Concurrent Queue](service-fabric-reliable-services-reliable-concurrent-queue.md): Represents a replicated, transactional, and asynchronous best effort ordering queue for high throughput.</span></span> <span data-ttu-id="b9c2e-132">Semblable à celle de **ConcurrentQueue**, la valeur peut être de tout type.</span><span class="sxs-lookup"><span data-stu-id="b9c2e-132">Similar to the **ConcurrentQueue**, the value can be of any type.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b9c2e-133">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="b9c2e-133">Next steps</span></span>
* [<span data-ttu-id="b9c2e-134">Instructions et recommandations relatives aux collections fiables</span><span class="sxs-lookup"><span data-stu-id="b9c2e-134">Reliable Collection Guidelines & Recommendations</span></span>](service-fabric-reliable-services-reliable-collections-guidelines.md)
* [<span data-ttu-id="b9c2e-135">Utilisation des collections fiables</span><span class="sxs-lookup"><span data-stu-id="b9c2e-135">Working with Reliable Collections</span></span>](service-fabric-work-with-reliable-collections.md)
* [<span data-ttu-id="b9c2e-136">Transactions et verrous</span><span class="sxs-lookup"><span data-stu-id="b9c2e-136">Transactions and Locks</span></span>](service-fabric-reliable-services-reliable-collections-transactions-locks.md)
* [<span data-ttu-id="b9c2e-137">Gestionnaire d’état fiable et éléments internes de collections</span><span class="sxs-lookup"><span data-stu-id="b9c2e-137">Reliable State Manager and Collection Internals</span></span>](service-fabric-reliable-services-reliable-collections-internals.md)
* <span data-ttu-id="b9c2e-138">Gestion des données</span><span class="sxs-lookup"><span data-stu-id="b9c2e-138">Managing Data</span></span>
  * [<span data-ttu-id="b9c2e-139">Sauvegarde et restauration</span><span class="sxs-lookup"><span data-stu-id="b9c2e-139">Backup and Restore</span></span>](service-fabric-reliable-services-backup-restore.md)
  * [<span data-ttu-id="b9c2e-140">Notifications</span><span class="sxs-lookup"><span data-stu-id="b9c2e-140">Notifications</span></span>](service-fabric-reliable-services-notifications.md)
  * [<span data-ttu-id="b9c2e-141">Sérialisation de Collection fiable</span><span class="sxs-lookup"><span data-stu-id="b9c2e-141">Reliable Collection serialization</span></span>](service-fabric-reliable-services-reliable-collections-serialization.md)
  * [<span data-ttu-id="b9c2e-142">Sérialisation et mise à niveau</span><span class="sxs-lookup"><span data-stu-id="b9c2e-142">Serialization and Upgrade</span></span>](service-fabric-application-upgrade-data-serialization.md)
  * [<span data-ttu-id="b9c2e-143">Configuration du Gestionnaire d’état fiable</span><span class="sxs-lookup"><span data-stu-id="b9c2e-143">Reliable State Manager configuration</span></span>](service-fabric-reliable-services-configuration.md)
* <span data-ttu-id="b9c2e-144">Autres</span><span class="sxs-lookup"><span data-stu-id="b9c2e-144">Others</span></span>
  * [<span data-ttu-id="b9c2e-145">Démarrage rapide de Reliable Services</span><span class="sxs-lookup"><span data-stu-id="b9c2e-145">Reliable Services quick start</span></span>](service-fabric-reliable-services-quick-start.md)
  * [<span data-ttu-id="b9c2e-146">Référence du développeur pour les Collections fiables</span><span class="sxs-lookup"><span data-stu-id="b9c2e-146">Developer reference for Reliable Collections</span></span>](https://msdn.microsoft.com/library/azure/microsoft.servicefabric.data.collections.aspx)
