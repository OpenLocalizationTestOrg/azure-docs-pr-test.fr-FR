---
title: "aaaOverview du modèle de programmation de Service fiable de l’infrastructure de Service hello | Documents Microsoft"
description: "Apprenez-en plus sur le modèle de programmation Service fiable de Service Fabric et commencez à écrire vos propres services."
services: Service-Fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: vturecek; mani-ramaswamy
ms.assetid: 0c88a533-73f8-4ae1-a939-67d17456ac06
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 8/9/2017
ms.author: masnider;
ms.openlocfilehash: 41d1826df902b1f1845c4702bf2567e6b9ca1f1f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="reliable-services-overview"></a><span data-ttu-id="e149a-103">Présentation de Reliable Services</span><span class="sxs-lookup"><span data-stu-id="e149a-103">Reliable Services overview</span></span>
<span data-ttu-id="e149a-104">Azure Service Fabric simplifie l’écriture et la gestion de Reliable Services avec et sans état.</span><span class="sxs-lookup"><span data-stu-id="e149a-104">Azure Service Fabric simplifies writing and managing stateless and stateful Reliable Services.</span></span> <span data-ttu-id="e149a-105">Cette rubrique couvre :</span><span class="sxs-lookup"><span data-stu-id="e149a-105">This topic covers:</span></span>

* <span data-ttu-id="e149a-106">modèle de programmation des Services fiables Hello pour les services et sans état.</span><span class="sxs-lookup"><span data-stu-id="e149a-106">hello Reliable Services programming model for stateless and stateful services.</span></span>
* <span data-ttu-id="e149a-107">choix de Hello, vous avez toomake lors de l’écriture d’un Service fiable.</span><span class="sxs-lookup"><span data-stu-id="e149a-107">hello choices you have toomake when writing a Reliable Service.</span></span>
* <span data-ttu-id="e149a-108">Des scénarios et des exemples de situations dans lesquelles toouse des Services fiables et la manière dont elles sont écrites.</span><span class="sxs-lookup"><span data-stu-id="e149a-108">Some scenarios and examples of when toouse Reliable Services and how they are written.</span></span>

<span data-ttu-id="e149a-109">Services fiables est un des hello disponibles sur le Service Fabric des modèles de programmation.</span><span class="sxs-lookup"><span data-stu-id="e149a-109">Reliable Services is one of hello programming models available on Service Fabric.</span></span> <span data-ttu-id="e149a-110">Hello autres est hello Reliable Actor modèle de programmation, qui fournit un modèle de programmation intervenant virtuel sur le modèle de Services fiables hello.</span><span class="sxs-lookup"><span data-stu-id="e149a-110">hello other is hello Reliable Actor programming model, which provides a virtual Actor programming model on top of hello Reliable Services model.</span></span> <span data-ttu-id="e149a-111">Pour plus d’informations sur le modèle de programmation Reliable Actors hello, consultez [Introduction tooService infrastructure Reliable Actors](service-fabric-reliable-actors-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="e149a-111">For more information on hello Reliable Actors programming model, see [Introduction tooService Fabric Reliable Actors](service-fabric-reliable-actors-introduction.md).</span></span>

<span data-ttu-id="e149a-112">L’infrastructure de service gère la durée de vie de hello de services, à partir de la configuration et de déploiement via la mise à niveau et de suppression, via [gestion des applications de Service Fabric](service-fabric-deploy-remove-applications.md).</span><span class="sxs-lookup"><span data-stu-id="e149a-112">Service Fabric manages hello lifetime of services, from provisioning and deployment through upgrade and deletion, via [Service Fabric application management](service-fabric-deploy-remove-applications.md).</span></span>

## <a name="what-are-reliable-services"></a><span data-ttu-id="e149a-113">Définition de Reliable Services</span><span class="sxs-lookup"><span data-stu-id="e149a-113">What are Reliable Services?</span></span>
<span data-ttu-id="e149a-114">Services fiables vous donne un simple, puissant, de niveau supérieur de programmation toohelp modèle express à ce qui est important tooyour application.</span><span class="sxs-lookup"><span data-stu-id="e149a-114">Reliable Services gives you a simple, powerful, top-level programming model toohelp you express what is important tooyour application.</span></span> <span data-ttu-id="e149a-115">Avec les Services fiables de hello modèle de programmation, vous obtenez :</span><span class="sxs-lookup"><span data-stu-id="e149a-115">With hello Reliable Services programming model, you get:</span></span>

* <span data-ttu-id="e149a-116">Autres toohello accès hello Service Fabric API de programmation.</span><span class="sxs-lookup"><span data-stu-id="e149a-116">Access toohello rest of hello Service Fabric programming APIs.</span></span> <span data-ttu-id="e149a-117">Contrairement aux Services de Fabric Service modélisée en tant que [invité exécutables](service-fabric-deploy-existing-app.md), des Services fiables obtenir directement les autres hello toouse hello API de l’infrastructure de Service.</span><span class="sxs-lookup"><span data-stu-id="e149a-117">Unlike Service Fabric Services modeled as [Guest Executables](service-fabric-deploy-existing-app.md), Reliable Services get toouse hello rest of hello Service Fabric APIs directly.</span></span> <span data-ttu-id="e149a-118">Les services peuvent ainsi :</span><span class="sxs-lookup"><span data-stu-id="e149a-118">This allows services to:</span></span>
  * <span data-ttu-id="e149a-119">Interrogation du système hello</span><span class="sxs-lookup"><span data-stu-id="e149a-119">query hello system</span></span>
  * <span data-ttu-id="e149a-120">signalement d’intégrité sur les entités dans un cluster de hello</span><span class="sxs-lookup"><span data-stu-id="e149a-120">report health about entities in hello cluster</span></span>
  * <span data-ttu-id="e149a-121">recevoir des notifications sur les modifications de la configuration et du code</span><span class="sxs-lookup"><span data-stu-id="e149a-121">receive notifications about configuration and code changes</span></span>
  * <span data-ttu-id="e149a-122">rechercher et communiquer avec d’autres services</span><span class="sxs-lookup"><span data-stu-id="e149a-122">find and communicate with other services,</span></span>
  * <span data-ttu-id="e149a-123">(facultatif) utilisez hello [Collections fiable](service-fabric-reliable-services-reliable-collections.md)</span><span class="sxs-lookup"><span data-stu-id="e149a-123">(optionally) use hello [Reliable Collections](service-fabric-reliable-services-reliable-collections.md)</span></span>
  * <span data-ttu-id="e149a-124">... et en leur donnant accès réduire autres fonctionnalités, à partir d’un modèle de programmation de première classe dans plusieurs langages de programmation.</span><span class="sxs-lookup"><span data-stu-id="e149a-124">...and giving them access toomany other capabilities, all from a first class programming model in several programming languages.</span></span>
* <span data-ttu-id="e149a-125">Un modèle simple pour exécuter votre propre code qui ressemble aux modèles de programmation auxquels vous êtes habitué.</span><span class="sxs-lookup"><span data-stu-id="e149a-125">A simple model for running your own code that looks like programming models you are used to.</span></span> <span data-ttu-id="e149a-126">Votre code comporte un point d’entrée bien défini, et son cycle de vie est facile à gérer.</span><span class="sxs-lookup"><span data-stu-id="e149a-126">Your code has a well-defined entry point and easily managed lifecycle.</span></span>
* <span data-ttu-id="e149a-127">Un modèle de communication enfichable.</span><span class="sxs-lookup"><span data-stu-id="e149a-127">A pluggable communication model.</span></span> <span data-ttu-id="e149a-128">Utiliser le transport de votre choix, par exemple HTTP avec hello [API Web](service-fabric-reliable-services-communication-webapi.md), WebSockets, les protocoles TCP personnalisés ou tout autre élément.</span><span class="sxs-lookup"><span data-stu-id="e149a-128">Use hello transport of your choice, such as HTTP with [Web API](service-fabric-reliable-services-communication-webapi.md), WebSockets, custom TCP protocols, or anything else.</span></span> <span data-ttu-id="e149a-129">Le modèle Reliable Services fournit de remarquables options prêtes à l’emploi que vous pouvez utiliser. Vous pouvez également définir les vôtres.</span><span class="sxs-lookup"><span data-stu-id="e149a-129">Reliable Services provide some great out-of-the-box options you can use, or you can provide your own.</span></span>
* <span data-ttu-id="e149a-130">Pour les services avec état, modèle de programmation des Services fiables hello vous permet de tooconsistently et stocker en toute fiabilité votre état directement dans votre service à l’aide de [fiable Collections](service-fabric-reliable-services-reliable-collections.md).</span><span class="sxs-lookup"><span data-stu-id="e149a-130">For stateful services, hello Reliable Services programming model allows you tooconsistently and reliably store your state right inside your service by using [Reliable Collections](service-fabric-reliable-services-reliable-collections.md).</span></span> <span data-ttu-id="e149a-131">Collections fiables sont un ensemble de classes de collection hautement fiable et disponible qui sera familier tooanyone qui a utilisé des collections c# simple.</span><span class="sxs-lookup"><span data-stu-id="e149a-131">Reliable Collections are a simple set of highly available and reliable collection classes that will be familiar tooanyone who has used C# collections.</span></span> <span data-ttu-id="e149a-132">Traditionnellement, les services nécessitaient des systèmes externes pour la gestion d’état fiable.</span><span class="sxs-lookup"><span data-stu-id="e149a-132">Traditionally, services needed external systems for Reliable state management.</span></span> <span data-ttu-id="e149a-133">Grâce aux Collections fiable, vous pouvez stocker votre calcul tooyour suivant d’état avec hello même haute disponibilité et la fiabilité que vous avez arrivé tooexpect à partir de magasins externes hautement disponibles.</span><span class="sxs-lookup"><span data-stu-id="e149a-133">With Reliable Collections, you can store your state next tooyour compute with hello same high availability and reliability you've come tooexpect from highly available external stores.</span></span> <span data-ttu-id="e149a-134">Ce modèle améliore également la latence, car vous sont la colocalisation de calcul de hello et état, il doit toofunction.</span><span class="sxs-lookup"><span data-stu-id="e149a-134">This model also improves latency because you are co-locating hello compute and state it needs toofunction.</span></span>

<span data-ttu-id="e149a-135">Regardez cette vidéo Microsoft Virtual Academy pour une vue d’ensemble de Reliable Services : <center>
<a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=HhD9566yC_4106218965">
<img src="./media/service-fabric-reliable-services-introduction/ReliableServicesVid.png" WIDTH="360" HEIGHT="244" />
</a>
</center></span><span class="sxs-lookup"><span data-stu-id="e149a-135">Watch this Microsoft Virtual Academy video for an overview of Reliable services: <center>
<a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=HhD9566yC_4106218965">
<img src="./media/service-fabric-reliable-services-introduction/ReliableServicesVid.png" WIDTH="360" HEIGHT="244" />
</a>
</center></span></span>

## <a name="what-makes-reliable-services-different"></a><span data-ttu-id="e149a-136">En quoi le modèle Reliable Services est-il différent ?</span><span class="sxs-lookup"><span data-stu-id="e149a-136">What makes Reliable Services different?</span></span>
<span data-ttu-id="e149a-137">Les Services fiables dans Service Fabric sont différents des services que vous avez peut-être écrits auparavant.</span><span class="sxs-lookup"><span data-stu-id="e149a-137">Reliable Services in Service Fabric are different from services you may have written before.</span></span> <span data-ttu-id="e149a-138">Service Fabric fournit la fiabilité, la disponibilité, la cohérence et l'évolutivité.</span><span class="sxs-lookup"><span data-stu-id="e149a-138">Service Fabric provides reliability, availability, consistency, and scalability.</span></span>

* <span data-ttu-id="e149a-139">**Fiabilité** : votre service reste les même dans des environnements non fiables dans lequel vos ordinateurs échoueront ou atteint des problèmes de réseau, ou dans les cas où hello services eux-mêmes rencontrer des erreurs et les pannes ou faire échouer.</span><span class="sxs-lookup"><span data-stu-id="e149a-139">**Reliability** - Your service stays up even in unreliable environments where your machines fail or hit network issues, or in cases where hello services themselves encounter errors and crash or fail.</span></span> <span data-ttu-id="e149a-140">Pour les services avec état, l’état est conservée même en présence de hello de réseau ou d’autres échecs.</span><span class="sxs-lookup"><span data-stu-id="e149a-140">For stateful services, your state is preserved even in hello presence of network or other failures.</span></span>
* <span data-ttu-id="e149a-141">**Disponibilité** : votre service est accessible et réactif.</span><span class="sxs-lookup"><span data-stu-id="e149a-141">**Availability** - Your service is reachable and responsive.</span></span> <span data-ttu-id="e149a-142">Service Fabric gère le nombre souhaité de copies en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="e149a-142">Service Fabric maintains your desired number of running copies.</span></span>
* <span data-ttu-id="e149a-143">**Évolutivité** - Services sont dissociés de matériel spécifique, et ils peuvent augmenter ou réduire selon les besoins via l’ajout de hello ou la suppression de matériel ou d’autres ressources.</span><span class="sxs-lookup"><span data-stu-id="e149a-143">**Scalability** - Services are decoupled from specific hardware, and they can grow or shrink as necessary through hello addition or removal of hardware or other resources.</span></span> <span data-ttu-id="e149a-144">Les services sont tooensure facilement partitionnée (en particulier dans les cas avec état hello) service de hello capable d’évoluer et gérer les défaillances partielles.</span><span class="sxs-lookup"><span data-stu-id="e149a-144">Services are easily partitioned (especially in hello stateful case) tooensure that hello service can scale and handle partial failures.</span></span> <span data-ttu-id="e149a-145">Les services peuvent être créés et supprimés dynamiquement par le biais de code, l’activation de plusieurs instances toobe lancé selon les besoins, par exemple dans les demandes de toocustomer de réponse.</span><span class="sxs-lookup"><span data-stu-id="e149a-145">Services can be created and deleted dynamically via code, enabling more instances toobe spun up as necessary, say in response toocustomer requests.</span></span> <span data-ttu-id="e149a-146">Enfin, le Service Fabric encourage lightweight toobe de services.</span><span class="sxs-lookup"><span data-stu-id="e149a-146">Finally, Service Fabric encourages services toobe lightweight.</span></span> <span data-ttu-id="e149a-147">L’infrastructure de service permet à des milliers de services toobe configurés dans un seul processus plutôt que nécessitant ou consacrer des instances du système d’exploitation complètes ou processus tooa seule instance d’un service.</span><span class="sxs-lookup"><span data-stu-id="e149a-147">Service Fabric allows thousands of services toobe provisioned within a single process, rather than requiring or dedicating entire OS instances or processes tooa single instance of a service.</span></span>
* <span data-ttu-id="e149a-148">**Cohérence** -toutes les informations stockées dans ce service peuvent être garanties toobe cohérent.</span><span class="sxs-lookup"><span data-stu-id="e149a-148">**Consistency** - Any information stored in this service can be guaranteed toobe consistent.</span></span> <span data-ttu-id="e149a-149">Cela s’applique également à plusieurs collections fiables au sein d’un service.</span><span class="sxs-lookup"><span data-stu-id="e149a-149">This is true even across multiple reliable collections within a service.</span></span> <span data-ttu-id="e149a-150">Les modifications dans des collections au sein d’un service peuvent être effectuées de manière atomique au niveau transactionnel.</span><span class="sxs-lookup"><span data-stu-id="e149a-150">Changes across collections within a service can be made in a transactionally atomic manner.</span></span>

## <a name="service-lifecycle"></a><span data-ttu-id="e149a-151">Cycle de vie du service</span><span class="sxs-lookup"><span data-stu-id="e149a-151">Service lifecycle</span></span>
<span data-ttu-id="e149a-152">Que votre service soit avec état ou sans état, Reliable Services fournit un cycle de vie simple qui vous permet de rattacher rapidement votre code et de vous lancer.</span><span class="sxs-lookup"><span data-stu-id="e149a-152">Whether your service is stateful or stateless, Reliable Services provide a simple lifecycle that lets you quickly plug in your code and get started.</span></span>  <span data-ttu-id="e149a-153">Il existe une ou deux méthodes que vous devez tooimplement tooget votre service opérationnel et en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="e149a-153">There are just one or two methods that you need tooimplement tooget your service up and running.</span></span>

* <span data-ttu-id="e149a-154">**CreateServiceReplicaListeners/CreateServiceInstanceListeners** -cette méthode est où le service de hello définit les piles de communication hello qu’elles souhaitent toouse.</span><span class="sxs-lookup"><span data-stu-id="e149a-154">**CreateServiceReplicaListeners/CreateServiceInstanceListeners** - This method is where hello service defines hello communication stack(s) that it wants toouse.</span></span> <span data-ttu-id="e149a-155">Hello pile de communication, tel que [API Web](service-fabric-reliable-services-communication-webapi.md), est ce que définit hello de point de terminaison écoute ou de points de terminaison de Bienvenue (comment les clients atteindre le service de hello) de service.</span><span class="sxs-lookup"><span data-stu-id="e149a-155">hello communication stack, such as [Web API](service-fabric-reliable-services-communication-webapi.md), is what defines hello listening endpoint or endpoints for hello service (how clients reach hello service).</span></span> <span data-ttu-id="e149a-156">Il définit également la façon dont les messages hello qui s’affichent interagissent avec rest hello hello du code de service.</span><span class="sxs-lookup"><span data-stu-id="e149a-156">It also defines how hello messages that appear interact with hello rest of hello service code.</span></span>
* <span data-ttu-id="e149a-157">**RunAsync** -cette méthode est où votre service s’exécute sa logique d’entreprise, et où elle serait déclencher les tâches en arrière-plan qui doivent s’exécuter pour la durée de vie hello du service de hello.</span><span class="sxs-lookup"><span data-stu-id="e149a-157">**RunAsync** - This method is where your service runs its business logic, and where it would kick off any background tasks that should run for hello lifetime of hello service.</span></span> <span data-ttu-id="e149a-158">jeton d’annulation Hello fourni est un signal pour lorsque ce travail doit s’arrêter.</span><span class="sxs-lookup"><span data-stu-id="e149a-158">hello cancellation token that is provided is a signal for when that work should stop.</span></span> <span data-ttu-id="e149a-159">Par exemple, si le service de hello doit toopull des messages en dehors d’une file d’attente fiable et les traiter, voici où ce travail se produit.</span><span class="sxs-lookup"><span data-stu-id="e149a-159">For example, if hello service needs toopull messages out of a Reliable Queue and process them, this is where that work happens.</span></span>

<span data-ttu-id="e149a-160">Si vous êtes apprendre à utiliser des services fiables pour hello première fois, lisez la suite !</span><span class="sxs-lookup"><span data-stu-id="e149a-160">If you're learning about reliable services for hello first time, read on!</span></span> <span data-ttu-id="e149a-161">Si vous avez besoin d’une description détaillée de hello du cycle de vie des services fiables, vous pouvez head sur trop[cet article](service-fabric-reliable-services-lifecycle.md).</span><span class="sxs-lookup"><span data-stu-id="e149a-161">If you're looking for a detailed walkthrough of hello lifecycle of reliable services, you can head over too[this article](service-fabric-reliable-services-lifecycle.md).</span></span>

## <a name="example-services"></a><span data-ttu-id="e149a-162">Exemples de service</span><span class="sxs-lookup"><span data-stu-id="e149a-162">Example services</span></span>
<span data-ttu-id="e149a-163">En sachant ce modèle de programmation, jetons un œil rapide à deux services différents toosee comment ces éléments s’imbriquent.</span><span class="sxs-lookup"><span data-stu-id="e149a-163">Knowing this programming model, let's take a quick look at two different services toosee how these pieces fit together.</span></span>

### <a name="stateless-reliable-services"></a><span data-ttu-id="e149a-164">Services fiables sans état</span><span class="sxs-lookup"><span data-stu-id="e149a-164">Stateless Reliable Services</span></span>
<span data-ttu-id="e149a-165">Un service sans état est celui dans lequel aucun état conservées dans le service de hello d’appels.</span><span class="sxs-lookup"><span data-stu-id="e149a-165">A stateless service is one where there is no state maintained within hello service across calls.</span></span> <span data-ttu-id="e149a-166">Tout état présent est entièrement jetable et ne nécessite aucune synchronisation, réplication, persistance ou haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="e149a-166">Any state that is present is entirely disposable and doesn't require synchronization, replication, persistence, or high availability.</span></span>

<span data-ttu-id="e149a-167">Par exemple, considérez une calculatrice qui n’a aucune mémoire et reçoit tous les tooperform de termes et les opérations en une seule fois.</span><span class="sxs-lookup"><span data-stu-id="e149a-167">For example, consider a calculator that has no memory and receives all terms and operations tooperform at once.</span></span>

<span data-ttu-id="e149a-168">Dans ce cas, hello `RunAsync()` (c#) ou `runAsync()` (Java) de hello service peut être vide, car il n’existe aucun arrière-plan-traitement de la tâche que le service hello doit toodo.</span><span class="sxs-lookup"><span data-stu-id="e149a-168">In this case, hello `RunAsync()` (C#) or `runAsync()` (Java) of hello service can be empty, since there is no background task-processing that hello service needs toodo.</span></span> <span data-ttu-id="e149a-169">Lorsque le service de calculatrice hello est créée, elle retourne un `ICommunicationListener` (c#) ou `CommunicationListener` (Java) (par exemple [API Web](service-fabric-reliable-services-communication-webapi.md)) qui ouvre un point de terminaison écoute sur certains ports.</span><span class="sxs-lookup"><span data-stu-id="e149a-169">When hello calculator service is created, it returns an `ICommunicationListener` (C#) or `CommunicationListener` (Java) (for example [Web API](service-fabric-reliable-services-communication-webapi.md)) that opens up a listening endpoint on some port.</span></span> <span data-ttu-id="e149a-170">Ce point de terminaison écoute raccorde toohello différentes méthodes de calcul (exemple : « Add (n1, n2) ») qui définissent l’API publique de la calculatrice hello.</span><span class="sxs-lookup"><span data-stu-id="e149a-170">This listening endpoint hooks up toohello different calculation methods (example: "Add(n1, n2)") that define hello calculator's public API.</span></span>

<span data-ttu-id="e149a-171">Lorsqu’un appel est effectué à partir d’un client, méthode appropriée de hello est appelé, et service de calculatrice hello effectue des opérations de hello sur hello données fournie et retourne le résultat de hello.</span><span class="sxs-lookup"><span data-stu-id="e149a-171">When a call is made from a client, hello appropriate method is invoked, and hello calculator service performs hello operations on hello data provided and returns hello result.</span></span> <span data-ttu-id="e149a-172">Il ne stocke aucun état.</span><span class="sxs-lookup"><span data-stu-id="e149a-172">It doesn't store any state.</span></span>

<span data-ttu-id="e149a-173">Le fait de ne pas stocker d’état interne rend cet exemple de calculatrice simple,</span><span class="sxs-lookup"><span data-stu-id="e149a-173">Not storing any internal state makes this example calculator simple.</span></span> <span data-ttu-id="e149a-174">mais la plupart des services ne sont pas réellement sans état.</span><span class="sxs-lookup"><span data-stu-id="e149a-174">But most services aren't truly stateless.</span></span> <span data-ttu-id="e149a-175">Au lieu de cela, ils externaliser leur toosome état autre magasin.</span><span class="sxs-lookup"><span data-stu-id="e149a-175">Instead, they externalize their state toosome other store.</span></span> <span data-ttu-id="e149a-176">(Par exemple, toute application web qui s’appuie sur la conservation de l’état de session dans un magasin de stockage ou un cache n’est pas sans état.)</span><span class="sxs-lookup"><span data-stu-id="e149a-176">(For example, any web app that relies on keeping session state in a backing store or cache is not stateless.)</span></span>

<span data-ttu-id="e149a-177">Un exemple courant de services comment sans état sont utilisés dans le Service Fabric est un serveur frontal qu’expose hello API publique pour une application web.</span><span class="sxs-lookup"><span data-stu-id="e149a-177">A common example of how stateless services are used in Service Fabric is as a front-end that exposes hello public-facing API for a web application.</span></span> <span data-ttu-id="e149a-178">le service frontal Hello traite puis toostateful services toocomplete une demande de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="e149a-178">hello front-end service then talks toostateful services toocomplete a user request.</span></span> <span data-ttu-id="e149a-179">Dans ce cas, les appels à partir de clients sont dirigée tooa connu de port, par exemple, 80, où un service sans état hello est à l’écoute.</span><span class="sxs-lookup"><span data-stu-id="e149a-179">In this case, calls from clients are directed tooa known port, such as 80, where hello stateless service is listening.</span></span> <span data-ttu-id="e149a-180">Ce service sans état reçoit l’appel de hello et détermine si les appels de hello est d’un tiers de confiance et dont le service est destiné.</span><span class="sxs-lookup"><span data-stu-id="e149a-180">This stateless service receives hello call and determines whether hello call is from a trusted party and which service it's destined for.</span></span>  <span data-ttu-id="e149a-181">Ensuite, un service sans état hello transfère la partition correcte du toohello hello appel d’un service avec état hello et attend une réponse.</span><span class="sxs-lookup"><span data-stu-id="e149a-181">Then, hello stateless service forwards hello call toohello correct partition of hello stateful service and waits for a response.</span></span> <span data-ttu-id="e149a-182">Lorsqu’un service sans état hello reçoit une réponse, il répond toohello initiale du client.</span><span class="sxs-lookup"><span data-stu-id="e149a-182">When hello stateless service receives a response, it replies toohello original client.</span></span> <span data-ttu-id="e149a-183">Vous trouverez un exemple de ce type de service dans nos exemples [C#](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started) / [Java](https://github.com/Azure-Samples/service-fabric-java-getting-started/tree/master/Actors/VisualObjectActor/VisualObjectWebService).</span><span class="sxs-lookup"><span data-stu-id="e149a-183">An example of such a service is in our samples [C#](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started) / [Java](https://github.com/Azure-Samples/service-fabric-java-getting-started/tree/master/Actors/VisualObjectActor/VisualObjectWebService).</span></span> <span data-ttu-id="e149a-184">Cela n'est qu’un exemple de ce modèle dans les exemples de hello, d’autres sont également d’autres exemples.</span><span class="sxs-lookup"><span data-stu-id="e149a-184">This is only one example of this pattern in hello samples, there are others in other samples as well.</span></span>

### <a name="stateful-reliable-services"></a><span data-ttu-id="e149a-185">Services fiables avec état</span><span class="sxs-lookup"><span data-stu-id="e149a-185">Stateful Reliable Services</span></span>
<span data-ttu-id="e149a-186">Un service avec état est celle qui doit avoir une partie de l’état restent cohérentes et présent dans l’ordre pour hello service toofunction.</span><span class="sxs-lookup"><span data-stu-id="e149a-186">A stateful service is one that must have some portion of state kept consistent and present in order for hello service toofunction.</span></span> <span data-ttu-id="e149a-187">Prenons pour exemple un service qui calcule constamment une moyenne mobile d’une valeur en fonction des mises à jour qu’il reçoit.</span><span class="sxs-lookup"><span data-stu-id="e149a-187">Consider a service that constantly computes a rolling average of some value based on updates it receives.</span></span> <span data-ttu-id="e149a-188">toodo, il doit avoir hello le jeu actuel de demandes entrantes, il doit tooprocess et hello moyenne actuelle.</span><span class="sxs-lookup"><span data-stu-id="e149a-188">toodo this, it must have hello current set of incoming requests it needs tooprocess and hello current average.</span></span> <span data-ttu-id="e149a-189">Tout service qui récupère, traite et stocke des informations dans un magasin externe (comme un magasin de tables ou d’objets blob Azure) est un service avec état.</span><span class="sxs-lookup"><span data-stu-id="e149a-189">Any service that retrieves, processes, and stores information in an external store (such as an Azure blob or table store today) is stateful.</span></span> <span data-ttu-id="e149a-190">Simplement, il conserve son état dans le magasin d’état externe hello.</span><span class="sxs-lookup"><span data-stu-id="e149a-190">It just keeps its state in hello external state store.</span></span>

<span data-ttu-id="e149a-191">La plupart des services stocker aujourd'hui leur état en externe, car le magasin externe hello est ce que fournit la fiabilité, disponibilité, évolutivité et la cohérence pour cet état.</span><span class="sxs-lookup"><span data-stu-id="e149a-191">Most services today store their state externally, since hello external store is what provides reliability, availability, scalability, and consistency for that state.</span></span> <span data-ttu-id="e149a-192">Dans l’infrastructure de Service, les services ne sont pas requis toostore leur état en externe.</span><span class="sxs-lookup"><span data-stu-id="e149a-192">In Service Fabric, services aren't required toostore their state externally.</span></span> <span data-ttu-id="e149a-193">L’infrastructure de service prend en charge des conditions requises pour le code de service hello et état du service hello.</span><span class="sxs-lookup"><span data-stu-id="e149a-193">Service Fabric takes care of these requirements for both hello service code and hello service state.</span></span>

> [!NOTE]
> <span data-ttu-id="e149a-194">La prise en charge de Reliable Services avec état n’est pas encore disponible sur Linux (pour C# ou Java).</span><span class="sxs-lookup"><span data-stu-id="e149a-194">Support for Stateful Reliable Services is not available on Linux yet (for C# or Java).</span></span>
>

<span data-ttu-id="e149a-195">Supposons que nous voulons toowrite un service qui traite des images.</span><span class="sxs-lookup"><span data-stu-id="e149a-195">Let's say we want toowrite a service that processes images.</span></span> <span data-ttu-id="e149a-196">toodo cela, prend de service hello dans une série d’image et hello de tooperform conversions sur cette image.</span><span class="sxs-lookup"><span data-stu-id="e149a-196">toodo this, hello service takes in an image and hello series of conversions tooperform on that image.</span></span> <span data-ttu-id="e149a-197">Ce service renvoie un écouteur de communication (par exemple, une API Web) qui expose une API telle que `ConvertImage(Image i, IList<Conversion> conversions)`.</span><span class="sxs-lookup"><span data-stu-id="e149a-197">This service returns a communication listener (let's suppose it's a WebAPI) that exposes an API like `ConvertImage(Image i, IList<Conversion> conversions)`.</span></span> <span data-ttu-id="e149a-198">Lorsqu’il reçoit une demande, le service de hello stocke dans un `IReliableQueue`et retourne un client de toohello id afin qu’il peut suivre la demande de hello.</span><span class="sxs-lookup"><span data-stu-id="e149a-198">When it receives a request, hello service stores it in a `IReliableQueue`, and returns some id toohello client so it can track hello request.</span></span>

<span data-ttu-id="e149a-199">Dans ce service, `RunAsync()` pourrait être plus complexe.</span><span class="sxs-lookup"><span data-stu-id="e149a-199">In this service, `RunAsync()` could be more complex.</span></span> <span data-ttu-id="e149a-200">service de Hello comporte une boucle à l’intérieur de son `RunAsync()` qui extrait des demandes de `IReliableQueue` et effectue des conversions hello demandées.</span><span class="sxs-lookup"><span data-stu-id="e149a-200">hello service has a loop inside its `RunAsync()` that pulls requests out of `IReliableQueue` and performs hello conversions requested.</span></span> <span data-ttu-id="e149a-201">les résultats de Hello obtient stockés dans un `IReliableDictionary` afin que lorsque le client de hello est restauré, ils peuvent récupérer leurs images converties.</span><span class="sxs-lookup"><span data-stu-id="e149a-201">hello results get stored in an `IReliableDictionary` so that when hello client comes back they can get their converted images.</span></span> <span data-ttu-id="e149a-202">tooensure que même en cas de problème image de hello n’est perdue, ce Service fiable serait extrait file d’attente hello, effectuer des conversions de hello et stocker les résultats de hello dans une transaction unique.</span><span class="sxs-lookup"><span data-stu-id="e149a-202">tooensure that even if something fails hello image isn't lost, this Reliable Service would pull out of hello queue, perform hello conversions, and store hello result all in a single transaction.</span></span> <span data-ttu-id="e149a-203">Dans ce cas, message de type hello est supprimé de la file d’attente hello et résultats de hello sont stockés dans le dictionnaire de résultat hello uniquement lorsque les conversions hello sont terminées.</span><span class="sxs-lookup"><span data-stu-id="e149a-203">In this case, hello message is removed from hello queue and hello results are stored in hello result dictionary only when hello conversions are complete.</span></span> <span data-ttu-id="e149a-204">Vous pouvez également hello service pourrait extraire l’image hello en dehors de la file d’attente hello ; immédiatement stockez-le dans un magasin distant</span><span class="sxs-lookup"><span data-stu-id="e149a-204">Alternatively, hello service could pull hello image out of hello queue and immediately store it in a remote store.</span></span> <span data-ttu-id="e149a-205">Cela réduit hello quantité du service d’état hello a toomanage, mais augmente la complexité, car le service de hello a tookeep hello nécessaires toomanage hello distant magasin de métadonnées de.</span><span class="sxs-lookup"><span data-stu-id="e149a-205">This reduces hello amount of state hello service has toomanage, but increases complexity since hello service has tookeep hello necessary metadata toomanage hello remote store.</span></span> <span data-ttu-id="e149a-206">Deux approches, si quelque chose a échoué dans demande de milieu hello hello reste dans toobe d’attente de file d’attente hello traité.</span><span class="sxs-lookup"><span data-stu-id="e149a-206">With either approach, if something failed in hello middle hello request remains in hello queue waiting toobe processed.</span></span>

<span data-ttu-id="e149a-207">Une chose toonote, à propos de ce service est qu’il peut sembler un service .NET normal !</span><span class="sxs-lookup"><span data-stu-id="e149a-207">One thing toonote about this service is that it sounds like a normal .NET service!</span></span> <span data-ttu-id="e149a-208">Bonjour seule différence est que les structures de données de salutation utilisé (`IReliableQueue` et `IReliableDictionary`) sont fournies par l’infrastructure de Service et sont hautement fiable, disponible et cohérente.</span><span class="sxs-lookup"><span data-stu-id="e149a-208">hello only difference is that hello data structures being used (`IReliableQueue` and `IReliableDictionary`) are provided by Service Fabric, and are highly reliable, available, and consistent.</span></span>

## <a name="when-toouse-reliable-services-apis"></a><span data-ttu-id="e149a-209">Lorsque toouse API des Services fiables</span><span class="sxs-lookup"><span data-stu-id="e149a-209">When toouse Reliable Services APIs</span></span>
<span data-ttu-id="e149a-210">Si hello suivantes caractérisent les besoins de votre service d’application, vous devez envisager les API des Services fiables :</span><span class="sxs-lookup"><span data-stu-id="e149a-210">If any of hello following characterize your application service needs, then you should consider Reliable Services APIs:</span></span>

* <span data-ttu-id="e149a-211">Vous souhaitez que le code de votre service (et éventuellement d’état) toobe hautement fiable et disponible</span><span class="sxs-lookup"><span data-stu-id="e149a-211">You want your service's code (and optionally state) toobe highly available and reliable</span></span>
* <span data-ttu-id="e149a-212">Vous avez besoin de garanties transactionnelles entre plusieurs unités d’état (par exemple, commandes et éléments de ligne de commande).</span><span class="sxs-lookup"><span data-stu-id="e149a-212">You need transactional guarantees across multiple units of state (for example, orders and order line items).</span></span>
* <span data-ttu-id="e149a-213">L’état de votre application peut être naturellement modélisé sous forme de Files d’attente et de Dictionnaires fiables</span><span class="sxs-lookup"><span data-stu-id="e149a-213">Your application’s state can be naturally modeled as Reliable Dictionaries and Queues.</span></span>
* <span data-ttu-id="e149a-214">Votre code d’application ou l’état doit toobe hautement disponible avec une latence faible lectures et écritures.</span><span class="sxs-lookup"><span data-stu-id="e149a-214">Your applications code or state needs toobe highly available with low latency reads and writes.</span></span>
* <span data-ttu-id="e149a-215">Votre application a besoin d’accès concurrentiel de hello de toocontrol ou de la granularité d’opérations traitées sur un ou plusieurs regroupements fiable.</span><span class="sxs-lookup"><span data-stu-id="e149a-215">Your application needs toocontrol hello concurrency or granularity of transacted operations across one or more Reliable Collections.</span></span>
* <span data-ttu-id="e149a-216">Vous souhaitez les communications hello toomanage ou hello contrôle le schéma de votre service de partitionnement.</span><span class="sxs-lookup"><span data-stu-id="e149a-216">You want toomanage hello communications or control hello partitioning scheme for your service.</span></span>
* <span data-ttu-id="e149a-217">Votre code a besoin d’un environnement d’exécution libre de threads.</span><span class="sxs-lookup"><span data-stu-id="e149a-217">Your code needs a free-threaded runtime environment.</span></span>
* <span data-ttu-id="e149a-218">Votre application doit toodynamically créer ou de détruire des dictionnaires fiable ou les files d’attente ou les Services ensemble lors de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="e149a-218">Your application needs toodynamically create or destroy Reliable Dictionaries or Queues or whole Services at runtime.</span></span>
* <span data-ttu-id="e149a-219">Vous devez tooprogrammatically fournie par l’infrastructure de Service de sauvegarde et restauration fonctionnalités de contrôle pour l’état de votre service.</span><span class="sxs-lookup"><span data-stu-id="e149a-219">You need tooprogrammatically control Service Fabric-provided backup and restore features for your service’s state.</span></span>
* <span data-ttu-id="e149a-220">Votre application a besoin de l’historique des modifications toomaintain ses unités de l’état.</span><span class="sxs-lookup"><span data-stu-id="e149a-220">Your application needs toomaintain change history for its units of state.</span></span>
* <span data-ttu-id="e149a-221">Vous souhaitez toodevelop ou consommer des fournisseurs d’état personnalisé, développé tiers.</span><span class="sxs-lookup"><span data-stu-id="e149a-221">You want toodevelop or consume third-party-developed, custom state providers.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e149a-222">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="e149a-222">Next steps</span></span>
* [<span data-ttu-id="e149a-223">Démarrage rapide de Reliable Services</span><span class="sxs-lookup"><span data-stu-id="e149a-223">Reliable Services quick start</span></span>](service-fabric-reliable-services-quick-start.md)
* [<span data-ttu-id="e149a-224">Utilisation avancée de Reliable Services</span><span class="sxs-lookup"><span data-stu-id="e149a-224">Reliable Services advanced usage</span></span>](service-fabric-reliable-services-advanced-usage.md)
* [<span data-ttu-id="e149a-225">modèle de programmation Hello Reliable Actors</span><span class="sxs-lookup"><span data-stu-id="e149a-225">hello Reliable Actors programming model</span></span>](service-fabric-reliable-actors-introduction.md)
