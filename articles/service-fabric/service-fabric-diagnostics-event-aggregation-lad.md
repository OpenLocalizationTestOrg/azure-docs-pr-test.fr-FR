---
title: "aaaAzure l’agrégation d’événements Service Fabric avec Linux Azure Diagnostics | Documents Microsoft"
description: "Découvrez l’agrégation et la collecte d’événements à l’aide de Linux Azure Diagnostics (LAD) pour la surveillance et le diagnostic de clusters Azure Service Fabric."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 07/17/2017
ms.author: dekapur
ms.openlocfilehash: aefa869219a0dd219e01e6574816fe3ce47fe472
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="event-aggregation-and-collection-using-linux-azure-diagnostics"></a><span data-ttu-id="4e768-103">Agrégation et collection d’événements à l’aide de Linux Azure Diagnostics</span><span class="sxs-lookup"><span data-stu-id="4e768-103">Event aggregation and collection using Linux Azure Diagnostics</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="4e768-104">Windows</span><span class="sxs-lookup"><span data-stu-id="4e768-104">Windows</span></span>](service-fabric-diagnostics-event-aggregation-wad.md)
> * [<span data-ttu-id="4e768-105">Linux</span><span class="sxs-lookup"><span data-stu-id="4e768-105">Linux</span></span>](service-fabric-diagnostics-event-aggregation-lad.md)
>
>

<span data-ttu-id="4e768-106">Lorsque vous exécutez un cluster Azure Service Fabric, il s’agit d’une bonne idée toocollect hello les journaux à partir de tous les nœuds hello dans un emplacement central.</span><span class="sxs-lookup"><span data-stu-id="4e768-106">When you're running an Azure Service Fabric cluster, it's a good idea toocollect hello logs from all hello nodes in a central location.</span></span> <span data-ttu-id="4e768-107">Ayant hello journaux dans un emplacement central vous permet d’analyser et résoudre les problèmes de votre cluster, ou dans les applications hello et les services exécutés dans ce cluster.</span><span class="sxs-lookup"><span data-stu-id="4e768-107">Having hello logs in a central location helps you analyze and troubleshoot issues in your cluster, or issues in hello applications and services running in that cluster.</span></span>

<span data-ttu-id="4e768-108">Tooupload d’une façon et collecter des journaux est extension toouse hello Linux Azure Diagnostics (SCÉNARISTE), qui télécharge les journaux tooAzure stockage et est également hello option toosend journaux tooAzure Application Insights ou concentrateurs d’événements.</span><span class="sxs-lookup"><span data-stu-id="4e768-108">One way tooupload and collect logs is toouse hello Linux Azure Diagnostics (LAD) extension, which uploads logs tooAzure Storage, and also has hello option toosend logs tooAzure Application Insights or Event Hubs.</span></span> <span data-ttu-id="4e768-109">Vous pouvez également utiliser un processus externe tooread hello d’événements à partir du stockage et les placer dans un produit de plateforme d’analyse, tels que [Analytique des journaux OMS](../log-analytics/log-analytics-service-fabric.md) ou une autre solution d’analyse de journal.</span><span class="sxs-lookup"><span data-stu-id="4e768-109">You can also use an external process tooread hello events from storage and place them in an analysis platform product, such as [OMS Log Analytics](../log-analytics/log-analytics-service-fabric.md) or another log-parsing solution.</span></span>

## <a name="log-and-event-sources"></a><span data-ttu-id="4e768-110">Sources de journaux et d’événements</span><span class="sxs-lookup"><span data-stu-id="4e768-110">Log and event sources</span></span>

### <a name="service-fabric-platform-events"></a><span data-ttu-id="4e768-111">Événements de la plateforme Service Fabric</span><span class="sxs-lookup"><span data-stu-id="4e768-111">Service Fabric platform events</span></span>
<span data-ttu-id="4e768-112">Service Fabric émet quelques journaux prêts à l’emploi via [LTTng](http://lttng.org), notamment les événements opérationnels ou des événements du runtime.</span><span class="sxs-lookup"><span data-stu-id="4e768-112">Service Fabric emits a few out-of-the-box logs via [LTTng](http://lttng.org), including operational events or runtime events.</span></span> <span data-ttu-id="4e768-113">Ces journaux sont stockés dans l’emplacement hello hello modèle spécifie le Gestionnaire de ressources du cluster.</span><span class="sxs-lookup"><span data-stu-id="4e768-113">These logs are stored in hello location that hello cluster's Resource Manager template specifies.</span></span> <span data-ttu-id="4e768-114">tooget ou définir les détails de compte de stockage hello, recherchez la balise de hello **AzureTableWinFabETWQueryable** et recherchez **StoreConnectionString**.</span><span class="sxs-lookup"><span data-stu-id="4e768-114">tooget or set hello storage account details, search for hello tag **AzureTableWinFabETWQueryable** and look for **StoreConnectionString**.</span></span>

### <a name="application-events"></a><span data-ttu-id="4e768-115">Événements liés aux applications</span><span class="sxs-lookup"><span data-stu-id="4e768-115">Application events</span></span>
 <span data-ttu-id="4e768-116">Les événements émis à partir du code de vos applications et services tel que spécifié par vous-même lors de l’instrumentation de votre logiciel.</span><span class="sxs-lookup"><span data-stu-id="4e768-116">Events emitted from your applications' and services' code as specified by you when instrumenting your software.</span></span> <span data-ttu-id="4e768-117">Vous pouvez utiliser une solution de journalisation qui écrit des fichiers journaux textuels, par exemple LTTng.</span><span class="sxs-lookup"><span data-stu-id="4e768-117">You can use any logging solution that writes text-based log files--for example, LTTng.</span></span> <span data-ttu-id="4e768-118">Pour plus d’informations, consultez la documentation de LTTng hello le suivi de votre application.</span><span class="sxs-lookup"><span data-stu-id="4e768-118">For more information, see hello LTTng documentation on tracing your application.</span></span>

<span data-ttu-id="4e768-119">[Surveillance et diagnostic des services dans une configuration de développement d’ordinateur local](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md).</span><span class="sxs-lookup"><span data-stu-id="4e768-119">[Monitor and diagnose services in a local machine development setup](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md).</span></span>

## <a name="deploy-hello-diagnostics-extension"></a><span data-ttu-id="4e768-120">Déployer l’extension de Diagnostics hello</span><span class="sxs-lookup"><span data-stu-id="4e768-120">Deploy hello Diagnostics extension</span></span>
<span data-ttu-id="4e768-121">Hello première étape de collecte de journaux est l’extension de Diagnostics toodeploy hello sur chacune des machines virtuelles de hello dans le cluster Service Fabric de hello.</span><span class="sxs-lookup"><span data-stu-id="4e768-121">hello first step in collecting logs is toodeploy hello Diagnostics extension on each of hello VMs in hello Service Fabric cluster.</span></span> <span data-ttu-id="4e768-122">Hello, extension de diagnostic collecte des journaux sur chaque machine virtuelle et les charge compte de stockage toohello que vous spécifiez.</span><span class="sxs-lookup"><span data-stu-id="4e768-122">hello Diagnostics extension collects logs on each VM and uploads them toohello storage account that you specify.</span></span> <span data-ttu-id="4e768-123">étapes de Hello varient selon que vous utilisez hello portail Azure ou Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="4e768-123">hello steps vary based on whether you use hello Azure portal or Azure Resource Manager.</span></span>

<span data-ttu-id="4e768-124">toodeploy hello Diagnostics extension toohello machines virtuelles dans le cluster hello dans le cadre de la création du cluster, définissez **Diagnostics** trop**sur**.</span><span class="sxs-lookup"><span data-stu-id="4e768-124">toodeploy hello Diagnostics extension toohello VMs in hello cluster as part of cluster creation, set **Diagnostics** too**On**.</span></span> <span data-ttu-id="4e768-125">Après avoir créé le cluster de hello, vous ne pouvez pas modifier ce paramètre à l’aide du portail de hello.</span><span class="sxs-lookup"><span data-stu-id="4e768-125">After you create hello cluster, you can't change this setting by using hello portal.</span></span>

<span data-ttu-id="4e768-126">Ensuite, configurez les fichiers de hello toocollect Linux Azure Diagnostics (SCÉNARISTE) et les placer dans votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="4e768-126">Then, configure Linux Azure Diagnostics (LAD) toocollect hello files and place them into your storage account.</span></span> <span data-ttu-id="4e768-127">Ce processus est expliqué en tant que scénario 3 (« charger vos propres fichiers journaux ») dans l’article de hello [à l’aide de SCÉNARISTE toomonitor et diagnostiquer les machines virtuelles Linux](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="4e768-127">This process is explained as scenario 3 ("Upload your own log files") in hello article [Using LAD toomonitor and diagnose Linux VMs](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span> <span data-ttu-id="4e768-128">Après cette Obtient de processus que vous l’accès toohello effectue le suivi.</span><span class="sxs-lookup"><span data-stu-id="4e768-128">Following this process gets you access toohello traces.</span></span> <span data-ttu-id="4e768-129">Vous pouvez télécharger le visualiseur de tooa hello traces de votre choix.</span><span class="sxs-lookup"><span data-stu-id="4e768-129">You can upload hello traces tooa visualizer of your choice.</span></span>

<span data-ttu-id="4e768-130">Vous pouvez également déployer l’extension de Diagnostics hello à l’aide du Gestionnaire de ressources Azure.</span><span class="sxs-lookup"><span data-stu-id="4e768-130">You can also deploy hello Diagnostics extension by using Azure Resource Manager.</span></span> <span data-ttu-id="4e768-131">Hello processus est similaire pour Windows et Linux et est documenté pour les clusters Windows dans [comment toocollect se connecte avec Azure Diagnostics](service-fabric-diagnostics-how-to-setup-wad.md).</span><span class="sxs-lookup"><span data-stu-id="4e768-131">hello process is similar for Windows and Linux and is documented for Windows clusters in [How toocollect logs with Azure Diagnostics](service-fabric-diagnostics-how-to-setup-wad.md).</span></span>

<span data-ttu-id="4e768-132">Vous pouvez également utiliser Operations Management Suite, comme indiqué dans [Operations Management Suite Log Analytics with Linux (Analyse des journaux Operations Management Suite avec Linux)](https://blogs.technet.microsoft.com/hybridcloud/2016/01/28/operations-management-suite-log-analytics-with-linux/).</span><span class="sxs-lookup"><span data-stu-id="4e768-132">You can also use Operations Management Suite, as described in [Operations Management Suite Log Analytics with Linux](https://blogs.technet.microsoft.com/hybridcloud/2016/01/28/operations-management-suite-log-analytics-with-linux/).</span></span>

<span data-ttu-id="4e768-133">Après avoir terminé cette configuration, analyses de l’agent hello SCÉNARISTE hello des fichiers journaux spécifiés.</span><span class="sxs-lookup"><span data-stu-id="4e768-133">After you finish this configuration, hello LAD agent monitors hello specified log files.</span></span> <span data-ttu-id="4e768-134">Chaque fois qu’une nouvelle ligne est ajoutée toohello fichier, il crée une entrée de journal système qui est envoyé toohello de stockage que vous avez spécifié.</span><span class="sxs-lookup"><span data-stu-id="4e768-134">Whenever a new line is appended toohello file, it creates a syslog entry that is sent toohello storage that you specified.</span></span>

## <a name="next-steps"></a><span data-ttu-id="4e768-135">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="4e768-135">Next steps</span></span>

<span data-ttu-id="4e768-136">toounderstand plus en détail les événements que vous devez examiner lors de la résolution des problèmes, consultez [LTTng documentation](http://lttng.org/docs) et [à l’aide de SCÉNARISTE](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="4e768-136">toounderstand in more detail what events you should examine while troubleshooting issues, see [LTTng documentation](http://lttng.org/docs) and [Using LAD](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span>
