---
title: "aaaDeploy une application Azure Service Fabric avec d’intégration continue (Team Services) | Documents Microsoft"
description: "Découvrez comment tooset d’intégration continue et de déploiement pour une application de Service Fabric à l’aide de Visual Studio Team Services.  Déployer un cluster de Service Fabric tooa application dans Azure."
services: service-fabric
documentationcenter: .net
author: rwike77
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotNet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/09/2017
ms.author: ryanwi
ms.openlocfilehash: ba9a632b247b0f467e7b66fbe77b4ad54fb3d9ff
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="deploy-an-application-with-cicd-tooa-service-fabric-cluster"></a><span data-ttu-id="d5b89-104">Déployer une application avec le cluster de l’élément de configuration/CD tooa Service Fabric</span><span class="sxs-lookup"><span data-stu-id="d5b89-104">Deploy an application with CI/CD tooa Service Fabric cluster</span></span>
<span data-ttu-id="d5b89-105">Ce didacticiel est partie trois d’une série et décrit comment tooset d’intégration continue et de déploiement pour une application Azure Service Fabric à l’aide de Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="d5b89-105">This tutorial is part three of a series and describes how tooset up continuous integration and deployment for an Azure Service Fabric application using Visual Studio Team Services.</span></span>  <span data-ttu-id="d5b89-106">Une application de Service Fabric existante est nécessaire, l’application hello créé dans [générer une application .NET](service-fabric-tutorial-create-dotnet-app.md) est utilisé comme un exemple.</span><span class="sxs-lookup"><span data-stu-id="d5b89-106">An existing Service Fabric application is needed, hello application created in [Build a .NET application](service-fabric-tutorial-create-dotnet-app.md) is used as an example.</span></span>

<span data-ttu-id="d5b89-107">Dans la troisième partie de la série de hello, vous apprenez comment :</span><span class="sxs-lookup"><span data-stu-id="d5b89-107">In part three of hello series, you learn how to:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="d5b89-108">Ajouter le projet de tooyour de contrôle de code source</span><span class="sxs-lookup"><span data-stu-id="d5b89-108">Add source control tooyour project</span></span>
> * <span data-ttu-id="d5b89-109">Créer une définition de build dans Team Services</span><span class="sxs-lookup"><span data-stu-id="d5b89-109">Create a build definition in Team Services</span></span>
> * <span data-ttu-id="d5b89-110">Créer une définition de mise en production dans Team Services</span><span class="sxs-lookup"><span data-stu-id="d5b89-110">Create a release definition in Team Services</span></span>
> * <span data-ttu-id="d5b89-111">Déployer et mettre à niveau une application automatiquement</span><span class="sxs-lookup"><span data-stu-id="d5b89-111">Automatically deploy and upgrade an application</span></span>

<span data-ttu-id="d5b89-112">Cette série de didacticiels vous montre comment effectuer les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="d5b89-112">In this tutorial series you learn how to:</span></span>
> [!div class="checklist"]
> * [<span data-ttu-id="d5b89-113">Créer une application .NET Service Fabric</span><span class="sxs-lookup"><span data-stu-id="d5b89-113">Build a .NET Service Fabric application</span></span>](service-fabric-tutorial-create-dotnet-app.md)
> * [<span data-ttu-id="d5b89-114">Déployer le cluster de l’application hello tooa à distance</span><span class="sxs-lookup"><span data-stu-id="d5b89-114">Deploy hello application tooa remote cluster</span></span>](service-fabric-tutorial-deploy-app-to-party-cluster.md)
> * <span data-ttu-id="d5b89-115">Configurer l’intégration et le déploiement continus à l’aide de Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="d5b89-115">Configure CI/CD using Visual Studio Team Services</span></span>

## <a name="prerequisites"></a><span data-ttu-id="d5b89-116">Composants requis</span><span class="sxs-lookup"><span data-stu-id="d5b89-116">Prerequisites</span></span>
<span data-ttu-id="d5b89-117">Avant de commencer ce didacticiel :</span><span class="sxs-lookup"><span data-stu-id="d5b89-117">Before you begin this tutorial:</span></span>
- <span data-ttu-id="d5b89-118">Si vous n’avez pas d’abonnement Azure, créez un [compte gratuit](https://azure.microsoft.com/free/?WT.mc_id=A261C142F).</span><span class="sxs-lookup"><span data-stu-id="d5b89-118">If you don't have an Azure subscription, create a [free account](https://azure.microsoft.com/free/?WT.mc_id=A261C142F)</span></span>
- <span data-ttu-id="d5b89-119">[Installer Visual Studio 2017](https://www.visualstudio.com/) et installer hello **le développement Azure** et **développement web ASP.NET et** les charges de travail.</span><span class="sxs-lookup"><span data-stu-id="d5b89-119">[Install Visual Studio 2017](https://www.visualstudio.com/) and install hello **Azure development** and **ASP.NET and web development** workloads.</span></span>
- [<span data-ttu-id="d5b89-120">Installer hello SDK de l’infrastructure de Service</span><span class="sxs-lookup"><span data-stu-id="d5b89-120">Install hello Service Fabric SDK</span></span>](service-fabric-get-started.md)
- <span data-ttu-id="d5b89-121">Créez une application Service Fabric, par exemple en suivant [ce didacticiel](service-fabric-tutorial-create-dotnet-app.md).</span><span class="sxs-lookup"><span data-stu-id="d5b89-121">Create a Service Fabric application, for example by [following this tutorial](service-fabric-tutorial-create-dotnet-app.md).</span></span> 
- <span data-ttu-id="d5b89-122">Créez un cluster Service Fabric Windows sur Azure, par exemple en suivant [ce didacticiel](service-fabric-tutorial-create-cluster-azure-ps.md).</span><span class="sxs-lookup"><span data-stu-id="d5b89-122">Create a Windows Service Fabric cluster on Azure, for example by [following this tutorial](service-fabric-tutorial-create-cluster-azure-ps.md)</span></span>
- <span data-ttu-id="d5b89-123">Créez un compte [Team Services](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services).</span><span class="sxs-lookup"><span data-stu-id="d5b89-123">Create a [Team Services account](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services).</span></span>

## <a name="download-hello-voting-sample-application"></a><span data-ttu-id="d5b89-124">Télécharger l’application d’exemple hello vote</span><span class="sxs-lookup"><span data-stu-id="d5b89-124">Download hello Voting sample application</span></span>
<span data-ttu-id="d5b89-125">Si vous n’avez pas généré application d’exemple hello vote [première partie de cette série de didacticiels](service-fabric-tutorial-create-dotnet-app.md), vous pouvez le télécharger.</span><span class="sxs-lookup"><span data-stu-id="d5b89-125">If you did not build hello Voting sample application in [part one of this tutorial series](service-fabric-tutorial-create-dotnet-app.md), you can download it.</span></span> <span data-ttu-id="d5b89-126">Dans une fenêtre de commande, exécutez hello suivant commande tooclone hello exemple application référentiel tooyour ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="d5b89-126">In a command window, run hello following command tooclone hello sample app repository tooyour local machine.</span></span>

```
git clone https://github.com/Azure-Samples/service-fabric-dotnet-quickstart
```

## <a name="prepare-a-publish-profile"></a><span data-ttu-id="d5b89-127">Préparer un profil de publication</span><span class="sxs-lookup"><span data-stu-id="d5b89-127">Prepare a publish profile</span></span>
<span data-ttu-id="d5b89-128">Maintenant que vous avez [créé une application](service-fabric-tutorial-create-dotnet-app.md) et [déployé hello application tooAzure](service-fabric-tutorial-deploy-app-to-party-cluster.md), vous êtes prêt tooset d’intégration continue.</span><span class="sxs-lookup"><span data-stu-id="d5b89-128">Now that you've [created an application](service-fabric-tutorial-create-dotnet-app.md) and have [deployed hello application tooAzure](service-fabric-tutorial-deploy-app-to-party-cluster.md), you're ready tooset up continuous integration.</span></span>  <span data-ttu-id="d5b89-129">Tout d’abord, préparez un profil de publication au sein de votre application pour une utilisation par les processus de déploiement hello qui s’exécute dans Team Services.</span><span class="sxs-lookup"><span data-stu-id="d5b89-129">First, prepare a publish profile within your application for use by hello deployment process that executes within Team Services.</span></span>  <span data-ttu-id="d5b89-130">profil de publication Hello doit être cluster hello tootarget configurés que vous avez créé précédemment.</span><span class="sxs-lookup"><span data-stu-id="d5b89-130">hello publish profile should be configured tootarget hello cluster that you've previously created.</span></span>  <span data-ttu-id="d5b89-131">Démarrez Visual Studio et ouvrez un projet d’application Service Fabric existant.</span><span class="sxs-lookup"><span data-stu-id="d5b89-131">Start Visual Studio and open an existing Service Fabric application project.</span></span>  <span data-ttu-id="d5b89-132">Dans **l’Explorateur de solutions**, application hello d’avec le bouton droit et sélectionnez **publier...** .</span><span class="sxs-lookup"><span data-stu-id="d5b89-132">In **Solution Explorer**, right-click hello application and select **Publish...**.</span></span>

<span data-ttu-id="d5b89-133">Choisissez un profil cible au sein de votre toouse de projet d’application pour votre flux de travail d’intégration continue, par exemple le Cloud.</span><span class="sxs-lookup"><span data-stu-id="d5b89-133">Choose a target profile within your application project toouse for your continuous integration workflow, for example Cloud.</span></span>  <span data-ttu-id="d5b89-134">Spécifiez le point de terminaison de connexion hello cluster.</span><span class="sxs-lookup"><span data-stu-id="d5b89-134">Specify hello cluster connection endpoint.</span></span>  <span data-ttu-id="d5b89-135">Vérifiez hello **mise à niveau hello Application** case à cocher afin que les mises à niveau de votre application pour chaque déploiement dans les Services d’équipe.</span><span class="sxs-lookup"><span data-stu-id="d5b89-135">Check hello **Upgrade hello Application** checkbox so that your application upgrades for each deployment in Team Services.</span></span>  <span data-ttu-id="d5b89-136">Cliquez sur hello **enregistrer** toohello de lien hypertexte toosave hello paramètres du profil de publication, puis cliquez sur **Annuler** boîte de dialogue tooclose hello.</span><span class="sxs-lookup"><span data-stu-id="d5b89-136">Click hello **Save** hyperlink toosave hello settings toohello publish profile and then click **Cancel** tooclose hello dialog box.</span></span>  

![Profil d’envoi (push)][publish-app-profile]

## <a name="share-your-visual-studio-solution-tooa-new-team-services-git-repo"></a><span data-ttu-id="d5b89-138">Partager votre référentiel Git de Services d’équipe Visual Studio solution tooa nouveau</span><span class="sxs-lookup"><span data-stu-id="d5b89-138">Share your Visual Studio solution tooa new Team Services Git repo</span></span>
<span data-ttu-id="d5b89-139">Partager des fichiers source de votre application tooa projet d’équipe dans Team Services, vous pouvez générer les builds.</span><span class="sxs-lookup"><span data-stu-id="d5b89-139">Share your application source files tooa team project in Team Services so you can generate builds.</span></span>  

<span data-ttu-id="d5b89-140">Créer un nouveau dépôt Git local pour votre projet en sélectionnant **ajouter tooSource contrôle** -> **Git** sur la barre d’état hello dans hello coin inférieur droit de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="d5b89-140">Create a new local Git repo for your project by selecting **Add tooSource Control** -> **Git** on hello status bar in hello lower right-hand corner of Visual Studio.</span></span> 

<span data-ttu-id="d5b89-141">Bonjour **Push** afficher dans **Team Explorer**, sélectionnez hello **publier le référentiel Git** sous **Push tooVisual Studio Team Services**.</span><span class="sxs-lookup"><span data-stu-id="d5b89-141">In hello **Push** view in **Team Explorer**, select hello **Publish Git Repo** button under **Push tooVisual Studio Team Services**.</span></span>

![Envoi (push) du dépôt Git][push-git-repo]

<span data-ttu-id="d5b89-143">Vérifiez votre adresse de messagerie et sélectionnez votre compte dans hello **Team Services domaine** liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="d5b89-143">Verify your email and select your account in hello **Team Services Domain** drop-down.</span></span> <span data-ttu-id="d5b89-144">Entrez le nom de votre dépôt et sélectionnez **Publier le dépôt**.</span><span class="sxs-lookup"><span data-stu-id="d5b89-144">Enter your repository name and select **Publish repository**.</span></span>

![Envoi (push) du dépôt Git][publish-code]

<span data-ttu-id="d5b89-146">Référentiel de hello de publication de crée un nouveau projet d’équipe dans votre compte avec hello comme référentiel local de hello du même nom.</span><span class="sxs-lookup"><span data-stu-id="d5b89-146">Publishing hello repo creates a new team project in your account with hello same name as hello local repo.</span></span> <span data-ttu-id="d5b89-147">référentiel de hello toocreate dans un projet d’équipe existant, cliquez sur **avancé** suivant trop**référentiel** nom et sélectionnez un projet d’équipe.</span><span class="sxs-lookup"><span data-stu-id="d5b89-147">toocreate hello repo in an existing team project, click **Advanced** next too**Repository** name and select a team project.</span></span> <span data-ttu-id="d5b89-148">Vous pouvez afficher votre code sur le web de hello en sélectionnant **affichez-le sur le web de hello**.</span><span class="sxs-lookup"><span data-stu-id="d5b89-148">You can view your code on hello web by selecting **See it on hello web**.</span></span>

## <a name="configure-continuous-delivery-with-vsts"></a><span data-ttu-id="d5b89-149">Configurer la livraison continue avec VSTS</span><span class="sxs-lookup"><span data-stu-id="d5b89-149">Configure Continuous Delivery with VSTS</span></span>
<span data-ttu-id="d5b89-150">Une définition de build Team Services décrit un flux de travail qui se compose d’un ensemble d’étapes de génération exécutées séquentiellement.</span><span class="sxs-lookup"><span data-stu-id="d5b89-150">A Team Services build definition describes a workflow that is composed of a set of build steps that are executed sequentially.</span></span> <span data-ttu-id="d5b89-151">Créer une définition de build qui produit un package d’application Service Fabric et autres artefacts, le cluster Service Fabric de tooa toodeploy.</span><span class="sxs-lookup"><span data-stu-id="d5b89-151">Create a build definition that that produces a Service Fabric application package, and other artifacts, toodeploy tooa Service Fabric cluster.</span></span> <span data-ttu-id="d5b89-152">Vous trouverez plus d’informations sur les définitions de build Team Services [ici](https://www.visualstudio.com/docs/build/define/create).</span><span class="sxs-lookup"><span data-stu-id="d5b89-152">Learn more about [Team Services build definitions](https://www.visualstudio.com/docs/build/define/create).</span></span> 

<span data-ttu-id="d5b89-153">Une définition de mise en production Team Services décrit un flux de travail qui déploie un cluster de tooa package application.</span><span class="sxs-lookup"><span data-stu-id="d5b89-153">A Team Services release definition describes a workflow that deploys an application package tooa cluster.</span></span> <span data-ttu-id="d5b89-154">Utilisés conjointement, hello définition de build et définition de la version exécutez hello l’ensemble du workflow en commençant par tooending de fichiers de code source avec une application en cours d’exécution dans votre cluster.</span><span class="sxs-lookup"><span data-stu-id="d5b89-154">When used together, hello build definition and release definition execute hello entire workflow starting with source files tooending with a running application in your cluster.</span></span> <span data-ttu-id="d5b89-155">Plus d’informations sur les [définitions de version](https://www.visualstudio.com/docs/release/author-release-definition/more-release-definition)Team Services.</span><span class="sxs-lookup"><span data-stu-id="d5b89-155">Learn more about Team Services [release definitions](https://www.visualstudio.com/docs/release/author-release-definition/more-release-definition).</span></span>

### <a name="create-a-build-definition"></a><span data-ttu-id="d5b89-156">Créer une définition de build</span><span class="sxs-lookup"><span data-stu-id="d5b89-156">Create a build definition</span></span>
<span data-ttu-id="d5b89-157">Ouvrez un navigateur web et accédez de nouveau projet d’équipe tooyour à : https://myaccount.visualstudio.com/Voting/Voting%20Team/_git/Voting.</span><span class="sxs-lookup"><span data-stu-id="d5b89-157">Open a web browser and navigate tooyour new team project at: https://myaccount.visualstudio.com/Voting/Voting%20Team/_git/Voting .</span></span> 

<span data-ttu-id="d5b89-158">Sélectionnez hello **générer & version** sous l’onglet puis **génère**, puis **+ nouvelle définition**.</span><span class="sxs-lookup"><span data-stu-id="d5b89-158">Select hello **Build & Release** tab, then **Builds**, then **+ New definition**.</span></span>  <span data-ttu-id="d5b89-159">Dans **sélectionner un modèle**, sélectionnez hello **Application Azure Service Fabric** modèle et cliquez sur **appliquer**.</span><span class="sxs-lookup"><span data-stu-id="d5b89-159">In **Select a template**, select hello **Azure Service Fabric Application** template and click **Apply**.</span></span> 

![Choisir le modèle de build][select-build-template] 

<span data-ttu-id="d5b89-161">Hello vote application contient un projet .NET Core, ajoutez une tâche qui restaure les dépendances hello.</span><span class="sxs-lookup"><span data-stu-id="d5b89-161">hello voting application contains a .NET Core project, so add a task that restores hello dependencies.</span></span> <span data-ttu-id="d5b89-162">Bonjour **tâches** afficher, sélectionnez **+ ajouter une tâche** en bas à gauche hello.</span><span class="sxs-lookup"><span data-stu-id="d5b89-162">In hello **Tasks** view, select **+ Add Task** in hello bottom left.</span></span> <span data-ttu-id="d5b89-163">Effectuez une recherche sur la tâche de ligne de commande de « Ligne de commande » toofind hello, puis cliquez sur **ajouter**.</span><span class="sxs-lookup"><span data-stu-id="d5b89-163">Search on "Command Line" toofind hello command-line task, then click **Add**.</span></span> 

![Ajouter une tâche][add-task] 

<span data-ttu-id="d5b89-165">Dans la nouvelle tâche de hello, entrez « Exécuter dotnet.exe » dans **nom d’affichage**, « dotnet.exe » dans **outil**et « restore » dans **Arguments**.</span><span class="sxs-lookup"><span data-stu-id="d5b89-165">In hello new task, enter "Run dotnet.exe" in **Display name**, "dotnet.exe" in **Tool**, and "restore" in **Arguments**.</span></span> 

![Nouvelle tâche][new-task] 

<span data-ttu-id="d5b89-167">Bonjour **déclencheurs** afficher, cliquez sur hello **activer ce déclencheur** commutateur sous **intégration continue**.</span><span class="sxs-lookup"><span data-stu-id="d5b89-167">In hello **Triggers** view, click hello **Enable this trigger** switch under **Continuous Integration**.</span></span> 

<span data-ttu-id="d5b89-168">Sélectionnez **enregistrer et de file d’attente** et entrez « Hébergé VS2017 » hello **file d’attente de l’Agent**.</span><span class="sxs-lookup"><span data-stu-id="d5b89-168">Select **Save & queue** and enter "Hosted VS2017" as hello **Agent queue**.</span></span> <span data-ttu-id="d5b89-169">Sélectionnez **file d’attente** toomanually de démarrer une génération.</span><span class="sxs-lookup"><span data-stu-id="d5b89-169">Select **Queue** toomanually start a build.</span></span>  <span data-ttu-id="d5b89-170">Les builds sont également déclenchées sur notification Push ou archivage.</span><span class="sxs-lookup"><span data-stu-id="d5b89-170">Builds also triggers upon push or check-in.</span></span>

<span data-ttu-id="d5b89-171">toocheck votre progression de la génération, commutateur toohello **génère** onglet.  Une fois que vous avez vérifié que la génération de hello s’exécute avec succès, définir une définition de mise en production qui déploie votre cluster tooa d’application.</span><span class="sxs-lookup"><span data-stu-id="d5b89-171">toocheck your build progress, switch toohello **Builds** tab.  Once you verify that hello build executes successfully, define a release definition that deploys your application tooa cluster.</span></span> 

### <a name="create-a-release-definition"></a><span data-ttu-id="d5b89-172">Création d’une définition de version</span><span class="sxs-lookup"><span data-stu-id="d5b89-172">Create a release definition</span></span>  

<span data-ttu-id="d5b89-173">Sélectionnez hello **générer & version** sous l’onglet puis **versions**, puis **+ nouvelle définition**.</span><span class="sxs-lookup"><span data-stu-id="d5b89-173">Select hello **Build & Release** tab, then **Releases**, then **+ New definition**.</span></span>  <span data-ttu-id="d5b89-174">Dans **définition de la version créer**, sélectionnez hello **Azure Service Fabric déploiement** modèle à partir de la liste de hello et cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="d5b89-174">In **Create release definition**, select hello **Azure Service Fabric Deployment** template from hello list and click **Next**.</span></span>  <span data-ttu-id="d5b89-175">Sélectionnez hello **générer** source, vérifiez hello **déploiement continu** , puis cliquez sur **créer**.</span><span class="sxs-lookup"><span data-stu-id="d5b89-175">Select hello **Build** source, check hello **Continuous deployment** box, and click **Create**.</span></span> 

<span data-ttu-id="d5b89-176">Bonjour **environnements** afficher, cliquez sur **ajouter** toohello à droite de **connexion Cluster**.</span><span class="sxs-lookup"><span data-stu-id="d5b89-176">In hello **Environments** view, click **Add** toohello right of **Cluster Connection**.</span></span>  <span data-ttu-id="d5b89-177">Spécifiez un nom de connexion de « mysftestcluster », un point de terminaison de cluster de « tcp://mysftestcluster.westus.cloudapp.azure.com:19000 » et hello Azure Active Directory ou informations d’identification de certificat pour le cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="d5b89-177">Specify a connection name of "mysftestcluster", a cluster endpoint of "tcp://mysftestcluster.westus.cloudapp.azure.com:19000", and hello Azure Active Directory or certificate credentials for hello cluster.</span></span> <span data-ttu-id="d5b89-178">Informations d’identification d’Azure Active Directory, définir les informations de hello souhaité toouse tooconnect toohello cluster Bonjour **nom d’utilisateur** et **mot de passe** champs.</span><span class="sxs-lookup"><span data-stu-id="d5b89-178">For Azure Active Directory credentials, define hello credentials you want toouse tooconnect toohello cluster in hello **Username** and **Password** fields.</span></span> <span data-ttu-id="d5b89-179">Pour l’authentification basée sur certificat, définissez hello Base64 encodage du fichier de certificat client hello hello **certificat Client** champ.</span><span class="sxs-lookup"><span data-stu-id="d5b89-179">For certificate-based authentication, define hello Base64 encoding of hello client certificate file in hello **Client Certificate** field.</span></span>  <span data-ttu-id="d5b89-180">Consultez la fenêtre contextuelle de hello aide sur ce champ pour plus d’informations sur la façon de tooget cette valeur.</span><span class="sxs-lookup"><span data-stu-id="d5b89-180">See hello help pop-up on that field for info on how tooget that value.</span></span>  <span data-ttu-id="d5b89-181">Si votre certificat est protégé par mot de passe, définir le mot de passe hello Bonjour **mot de passe** champ.</span><span class="sxs-lookup"><span data-stu-id="d5b89-181">If your certificate is password-protected, define hello password in hello **Password** field.</span></span>  <span data-ttu-id="d5b89-182">Cliquez sur **enregistrer** définition de la version toosave hello.</span><span class="sxs-lookup"><span data-stu-id="d5b89-182">Click **Save** toosave hello release definition.</span></span>

![Ajouter une connexion au cluster][add-cluster-connection] 

<span data-ttu-id="d5b89-184">Cliquez sur **Exécuter sur l’agent**, puis sélectionnez **Hébergée VS2017** pour **File d’attente de déploiement**.</span><span class="sxs-lookup"><span data-stu-id="d5b89-184">Click **Run on agent**, then select **Hosted VS2017** for **Deployment queue**.</span></span> <span data-ttu-id="d5b89-185">Cliquez sur **enregistrer** définition de la version toosave hello.</span><span class="sxs-lookup"><span data-stu-id="d5b89-185">Click **Save** toosave hello release definition.</span></span>

![Exécuter sur l’agent][run-on-agent]

<span data-ttu-id="d5b89-187">Sélectionnez **+ version** -> **créer version** -> **créer** toomanually créer une mise en production.</span><span class="sxs-lookup"><span data-stu-id="d5b89-187">Select **+Release** -> **Create Release** -> **Create** toomanually create a release.</span></span>  <span data-ttu-id="d5b89-188">Vérifiez que hello déploiement a réussi et application hello est en cours d’exécution dans un cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="d5b89-188">Verify that hello deployment succeeded and hello application is running in hello cluster.</span></span>  <span data-ttu-id="d5b89-189">Ouvrez un navigateur web et accédez trop[http://mysftestcluster.westus.cloudapp.azure.com:19080/Explorer/](http://mysftestcluster.westus.cloudapp.azure.com:19080/Explorer/).</span><span class="sxs-lookup"><span data-stu-id="d5b89-189">Open a web browser and navigate too[http://mysftestcluster.westus.cloudapp.azure.com:19080/Explorer/](http://mysftestcluster.westus.cloudapp.azure.com:19080/Explorer/).</span></span>  <span data-ttu-id="d5b89-190">Notez la version de l’application hello, dans cet exemple, « 1.0.0.20170616.3 ».</span><span class="sxs-lookup"><span data-stu-id="d5b89-190">Note hello application version, in this example it is "1.0.0.20170616.3".</span></span> 

## <a name="commit-and-push-changes-trigger-a-release"></a><span data-ttu-id="d5b89-191">Valider et envoyer les modifications, déclencher une mise en production</span><span class="sxs-lookup"><span data-stu-id="d5b89-191">Commit and push changes, trigger a release</span></span>
<span data-ttu-id="d5b89-192">tooverify qui hello pipeline d’intégration continue fonctionne en vérifiant certaines modifications du code tooTeam Services.</span><span class="sxs-lookup"><span data-stu-id="d5b89-192">tooverify that hello continuous integration pipeline is functioning by checking in some code changes tooTeam Services.</span></span>    

<span data-ttu-id="d5b89-193">Lorsque vous écrivez votre code, vos modifications sont suivies automatiquement par Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="d5b89-193">As you write your code, your changes are automatically tracked by Visual Studio.</span></span> <span data-ttu-id="d5b89-194">Valider les modifications tooyour référentiel Git en sélectionnant hello en attente (icône de modifications</span><span class="sxs-lookup"><span data-stu-id="d5b89-194">Commit changes tooyour local Git repository by selecting hello pending changes icon (</span></span>![Pending][pending]<span data-ttu-id="d5b89-196">) à partir de la barre d’état hello dans bas hello à droite.</span><span class="sxs-lookup"><span data-stu-id="d5b89-196">) from hello status bar in hello bottom right.</span></span>

<span data-ttu-id="d5b89-197">Sur hello **modifications** afficher dans Team Explorer, ajoutez un message qui décrit votre mise à jour et valider vos modifications.</span><span class="sxs-lookup"><span data-stu-id="d5b89-197">On hello **Changes** view in Team Explorer, add a message describing your update and commit your changes.</span></span>

![Valider tout][changes]

<span data-ttu-id="d5b89-199">Icône de barre de statut de modifications non publiées hello Select (![Unpublished modifications][unpublished-changes]) ou de vue de synchronisation dans Team Explorer de bienvenue.</span><span class="sxs-lookup"><span data-stu-id="d5b89-199">Select hello unpublished changes status bar icon (![Unpublished changes][unpublished-changes]) or hello Sync view in Team Explorer.</span></span> <span data-ttu-id="d5b89-200">Sélectionnez **Push** tooupdate votre code dans Team Services/TFS.</span><span class="sxs-lookup"><span data-stu-id="d5b89-200">Select **Push** tooupdate your code in Team Services/TFS.</span></span>

![Envoi (push) des modifications][push]

<span data-ttu-id="d5b89-202">En exécutant un push hello modifications tooTeam Services automatiquement déclencheurs une build.</span><span class="sxs-lookup"><span data-stu-id="d5b89-202">Pushing hello changes tooTeam Services automatically triggers a build.</span></span>  <span data-ttu-id="d5b89-203">Lors de la définition de build hello terminée avec succès, une version est créée automatiquement et commence la mise à niveau d’application hello sur le cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="d5b89-203">When hello build definition successfully completes, a release is automatically created and starts upgrading hello application on hello cluster.</span></span>

<span data-ttu-id="d5b89-204">toocheck votre progression de la génération, commutateur toohello **génère** onglet **Team Explorer** dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="d5b89-204">toocheck your build progress, switch toohello **Builds** tab in **Team Explorer** in Visual Studio.</span></span>  <span data-ttu-id="d5b89-205">Une fois que vous avez vérifié que la génération de hello s’exécute avec succès, définir une définition de mise en production qui déploie votre cluster tooa d’application.</span><span class="sxs-lookup"><span data-stu-id="d5b89-205">Once you verify that hello build executes successfully, define a release definition that deploys your application tooa cluster.</span></span>

<span data-ttu-id="d5b89-206">Vérifiez que hello déploiement a réussi et application hello est en cours d’exécution dans un cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="d5b89-206">Verify that hello deployment succeeded and hello application is running in hello cluster.</span></span>  <span data-ttu-id="d5b89-207">Ouvrez un navigateur web et accédez trop[http://mysftestcluster.westus.cloudapp.azure.com:19080/Explorer/](http://mysftestcluster.westus.cloudapp.azure.com:19080/Explorer/).</span><span class="sxs-lookup"><span data-stu-id="d5b89-207">Open a web browser and navigate too[http://mysftestcluster.westus.cloudapp.azure.com:19080/Explorer/](http://mysftestcluster.westus.cloudapp.azure.com:19080/Explorer/).</span></span>  <span data-ttu-id="d5b89-208">Notez la version de l’application hello, dans cet exemple, « 1.0.0.20170815.3 ».</span><span class="sxs-lookup"><span data-stu-id="d5b89-208">Note hello application version, in this example it is "1.0.0.20170815.3".</span></span>

![Service Fabric Explorer][sfx1]

## <a name="update-hello-application"></a><span data-ttu-id="d5b89-210">Mettre à jour d’application hello</span><span class="sxs-lookup"><span data-stu-id="d5b89-210">Update hello application</span></span>
<span data-ttu-id="d5b89-211">Apporter des modifications de code dans l’application hello.</span><span class="sxs-lookup"><span data-stu-id="d5b89-211">Make code changes in hello application.</span></span>  <span data-ttu-id="d5b89-212">Enregistrer et valider les modifications de hello, suivant les étapes précédentes hello.</span><span class="sxs-lookup"><span data-stu-id="d5b89-212">Save and commit hello changes, following hello previous steps.</span></span>

<span data-ttu-id="d5b89-213">Une fois hello mise à niveau d’application hello commence, vous pouvez surveiller la progression de mise à niveau de hello dans Service Fabric Explorer :</span><span class="sxs-lookup"><span data-stu-id="d5b89-213">Once hello upgrade of hello application begins, you can watch hello upgrade progress in Service Fabric Explorer:</span></span>

![Service Fabric Explorer][sfx2]

<span data-ttu-id="d5b89-215">mise à niveau des applications Hello peut prendre plusieurs minutes.</span><span class="sxs-lookup"><span data-stu-id="d5b89-215">hello application upgrade may take several minutes.</span></span> <span data-ttu-id="d5b89-216">Lors de la mise à niveau hello est terminée, application hello exécute version suivante de hello.</span><span class="sxs-lookup"><span data-stu-id="d5b89-216">When hello upgrade is complete, hello application will be running hello next version.</span></span>  <span data-ttu-id="d5b89-217">Dans cet exemple, 1.0.0.20170815.4.</span><span class="sxs-lookup"><span data-stu-id="d5b89-217">In this example "1.0.0.20170815.4".</span></span>

![Service Fabric Explorer][sfx3]

## <a name="next-steps"></a><span data-ttu-id="d5b89-219">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="d5b89-219">Next steps</span></span>
<span data-ttu-id="d5b89-220">Dans ce didacticiel, vous avez appris à :</span><span class="sxs-lookup"><span data-stu-id="d5b89-220">In this tutorial, you learned how to:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="d5b89-221">Ajouter le projet de tooyour de contrôle de code source</span><span class="sxs-lookup"><span data-stu-id="d5b89-221">Add source control tooyour project</span></span>
> * <span data-ttu-id="d5b89-222">Créer une définition de build</span><span class="sxs-lookup"><span data-stu-id="d5b89-222">Create a build definition</span></span>
> * <span data-ttu-id="d5b89-223">Création d’une définition de version</span><span class="sxs-lookup"><span data-stu-id="d5b89-223">Create a release definition</span></span>
> * <span data-ttu-id="d5b89-224">Déployer et mettre à niveau une application automatiquement</span><span class="sxs-lookup"><span data-stu-id="d5b89-224">Automatically deploy and upgrade an application</span></span>

<span data-ttu-id="d5b89-225">Maintenant que vous avez déployé une application et configuré l’intégration continue, essayez suivante de hello :</span><span class="sxs-lookup"><span data-stu-id="d5b89-225">Now that you have deployed an application and configured continuous integration, try hello following:</span></span>
- [<span data-ttu-id="d5b89-226">Mettre à niveau une application</span><span class="sxs-lookup"><span data-stu-id="d5b89-226">Upgrade an app</span></span>](service-fabric-application-upgrade.md)
- [<span data-ttu-id="d5b89-227">Tester une application</span><span class="sxs-lookup"><span data-stu-id="d5b89-227">Test an app</span></span>](service-fabric-testability-overview.md) 
- [<span data-ttu-id="d5b89-228">Surveiller et diagnostiquer</span><span class="sxs-lookup"><span data-stu-id="d5b89-228">Monitor and diagnose</span></span>](service-fabric-diagnostics-overview.md)


<!-- Image References -->
[publish-app-profile]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/PublishAppProfile.png
[push-git-repo]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/PublishGitRepo.png
[publish-code]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/PublishCode.png
[select-build-template]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/SelectBuildTemplate.png
[add-task]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/AddTask.png
[new-task]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/NewTask.png
[set-continuous-integration]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/SetContinuousIntegration.png
[add-cluster-connection]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/AddClusterConnection.png
[sfx1]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/SFX1.png
[sfx2]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/SFX2.png
[sfx3]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/SFX3.png
[pending]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/Pending.png
[changes]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/Changes.png
[unpublished-changes]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/UnpublishedChanges.png
[push]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/Push.png
[continuous-delivery-with-VSTS]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/VSTS-Dialog.png
[new-service-endpoint]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/NewServiceEndpoint.png
[new-service-endpoint-dialog]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/NewServiceEndpointDialog.png
[run-on-agent]: ./media/service-fabric-tutorial-deploy-app-with-cicd-vsts/RunOnAgent.png