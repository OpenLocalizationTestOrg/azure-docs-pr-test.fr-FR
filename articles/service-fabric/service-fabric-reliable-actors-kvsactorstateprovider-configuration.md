---
title: "paramètres KVSActorStateProvider aaaChange microservices Azure | Documents Microsoft"
description: "Découvrez comment configurer les acteurs avec état Azure Service Fabric de type KVSActorStateProvider."
services: Service-Fabric
documentationcenter: .net
author: sumukhs
manager: timlt
editor: 
ms.assetid: dbed72f4-dda5-4287-bd56-da492710cd96
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 6/29/2017
ms.author: sumukhs
ms.openlocfilehash: e003512678556e68a8926b1b9c6c28d9ae3979d2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="configuring-reliable-actors--kvsactorstateprovider"></a><span data-ttu-id="29cac-103">Configuration de Reliable Actors - KVSActorStateProvider</span><span class="sxs-lookup"><span data-stu-id="29cac-103">Configuring Reliable Actors--KVSActorStateProvider</span></span>
<span data-ttu-id="29cac-104">Vous pouvez modifier la configuration par défaut de hello de KVSActorStateProvider en modifiant le fichier settings.xml hello qui est généré dans la racine du package Microsoft Visual Studio hello dans le dossier de configuration hello pour l’acteur spécifiés de hello.</span><span class="sxs-lookup"><span data-stu-id="29cac-104">You can modify hello default configuration of KVSActorStateProvider by changing hello settings.xml file that is generated in hello Microsoft Visual Studio package root under hello Config folder for hello specified actor.</span></span>

<span data-ttu-id="29cac-105">Bonjour Azure Service Fabric runtime recherche des noms de section prédéfinie dans le fichier settings.xml de hello et consomme les valeurs de configuration hello lors de la création de hello sous-jacent des composants d’exécution.</span><span class="sxs-lookup"><span data-stu-id="29cac-105">hello Azure Service Fabric runtime looks for predefined section names in hello settings.xml file and consumes hello configuration values while creating hello underlying runtime components.</span></span>

> [!NOTE]
> <span data-ttu-id="29cac-106">Faire **pas** supprimer ou modifier les noms de section hello Hello suivant des configurations dans le fichier settings.xml hello généré Bonjour solution Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="29cac-106">Do **not** delete or modify hello section names of hello following configurations in hello settings.xml file that is generated in hello Visual Studio solution.</span></span>
> 
> 

## <a name="replicator-security-configuration"></a><span data-ttu-id="29cac-107">Configuration de la sécurité du réplicateur</span><span class="sxs-lookup"><span data-stu-id="29cac-107">Replicator security configuration</span></span>
<span data-ttu-id="29cac-108">Configurations de sécurité réplicateur sont un canal de communication utilisé toosecure hello est utilisé lors de la réplication.</span><span class="sxs-lookup"><span data-stu-id="29cac-108">Replicator security configurations are used toosecure hello communication channel that is used during replication.</span></span> <span data-ttu-id="29cac-109">Cela signifie que les services ne peut pas voir l’autre trafic de réplication, garantissant que les données de salutation hautement disponible sont également sécurisées.</span><span class="sxs-lookup"><span data-stu-id="29cac-109">This means that services cannot see each other's replication traffic, ensuring that hello data that is made highly available is also secure.</span></span>
<span data-ttu-id="29cac-110">Par défaut, une section de configuration de sécurité vide empêche de sécuriser la réplication.</span><span class="sxs-lookup"><span data-stu-id="29cac-110">By default, an empty security configuration section prevents replication security.</span></span>

### <a name="section-name"></a><span data-ttu-id="29cac-111">Nom de la section</span><span class="sxs-lookup"><span data-stu-id="29cac-111">Section name</span></span>
<span data-ttu-id="29cac-112">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span><span class="sxs-lookup"><span data-stu-id="29cac-112">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span></span>

## <a name="replicator-configuration"></a><span data-ttu-id="29cac-113">Configuration du réplicateur</span><span class="sxs-lookup"><span data-stu-id="29cac-113">Replicator configuration</span></span>
<span data-ttu-id="29cac-114">Configurations de réplicateur configurer réplicateur hello qui est responsable de l’état de fournisseur d’état d’acteur hello hautement fiable.</span><span class="sxs-lookup"><span data-stu-id="29cac-114">Replicator configurations configure hello replicator that is responsible for making hello Actor State Provider state highly reliable.</span></span>
<span data-ttu-id="29cac-115">configuration par défaut de Hello est générée par le modèle de Visual Studio hello et suffisante.</span><span class="sxs-lookup"><span data-stu-id="29cac-115">hello default configuration is generated by hello Visual Studio template and should suffice.</span></span> <span data-ttu-id="29cac-116">Cette section décrit les configurations supplémentaires qui sont le réplicateur de hello tootune disponibles.</span><span class="sxs-lookup"><span data-stu-id="29cac-116">This section talks about additional configurations that are available tootune hello replicator.</span></span>

### <a name="section-name"></a><span data-ttu-id="29cac-117">Nom de la section</span><span class="sxs-lookup"><span data-stu-id="29cac-117">Section name</span></span>
<span data-ttu-id="29cac-118">&lt;ActorName&gt;ServiceReplicatorConfig</span><span class="sxs-lookup"><span data-stu-id="29cac-118">&lt;ActorName&gt;ServiceReplicatorConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="29cac-119">Noms des configurations</span><span class="sxs-lookup"><span data-stu-id="29cac-119">Configuration names</span></span>
| <span data-ttu-id="29cac-120">Nom</span><span class="sxs-lookup"><span data-stu-id="29cac-120">Name</span></span> | <span data-ttu-id="29cac-121">Unité</span><span class="sxs-lookup"><span data-stu-id="29cac-121">Unit</span></span> | <span data-ttu-id="29cac-122">Valeur par défaut</span><span class="sxs-lookup"><span data-stu-id="29cac-122">Default value</span></span> | <span data-ttu-id="29cac-123">Remarques</span><span class="sxs-lookup"><span data-stu-id="29cac-123">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="29cac-124">BatchAcknowledgementInterval</span><span class="sxs-lookup"><span data-stu-id="29cac-124">BatchAcknowledgementInterval</span></span> |<span data-ttu-id="29cac-125">Secondes</span><span class="sxs-lookup"><span data-stu-id="29cac-125">Seconds</span></span> |<span data-ttu-id="29cac-126">0.015</span><span class="sxs-lookup"><span data-stu-id="29cac-126">0.015</span></span> |<span data-ttu-id="29cac-127">Période de temps pour le réplicateur hello au temps d’attente secondaire hello après la réception d’une opération avant le renvoi d’un toohello d’accusé de réception principal.</span><span class="sxs-lookup"><span data-stu-id="29cac-127">Time period for which hello replicator at hello secondary waits after receiving an operation before sending back an acknowledgement toohello primary.</span></span> <span data-ttu-id="29cac-128">Toutes les autres toobe d’accusés de réception envoyé pour les opérations de traitement dans cet intervalle sont envoyés sous la forme d’une réponse.</span><span class="sxs-lookup"><span data-stu-id="29cac-128">Any other acknowledgements toobe sent for operations processed within this interval are sent as one response.</span></span> |
| <span data-ttu-id="29cac-129">ReplicatorEndpoint</span><span class="sxs-lookup"><span data-stu-id="29cac-129">ReplicatorEndpoint</span></span> |<span data-ttu-id="29cac-130">N/A</span><span class="sxs-lookup"><span data-stu-id="29cac-130">N/A</span></span> |<span data-ttu-id="29cac-131">Aucune valeur par défaut (paramètre obligatoire)</span><span class="sxs-lookup"><span data-stu-id="29cac-131">No default--required parameter</span></span> |<span data-ttu-id="29cac-132">Adresse IP et port qui hello principal/secondaire réplicateur utilisera toocommunicate avec autres duplicateurs hello jeu de réplicas.</span><span class="sxs-lookup"><span data-stu-id="29cac-132">IP address and port that hello primary/secondary replicator will use toocommunicate with other replicators in hello replica set.</span></span> <span data-ttu-id="29cac-133">Cela doit faire référence à un point de terminaison TCP ressource de manifeste de service hello.</span><span class="sxs-lookup"><span data-stu-id="29cac-133">This should reference a TCP resource endpoint in hello service manifest.</span></span> <span data-ttu-id="29cac-134">Consultez trop[les ressources de manifeste de Service](service-fabric-service-manifest-resources.md) tooread plus d’informations sur la définition des ressources d’un point de terminaison dans le manifeste de service hello.</span><span class="sxs-lookup"><span data-stu-id="29cac-134">Refer too[Service manifest resources](service-fabric-service-manifest-resources.md) tooread more about defining endpoint resources in hello service manifest.</span></span> |
| <span data-ttu-id="29cac-135">RetryInterval</span><span class="sxs-lookup"><span data-stu-id="29cac-135">RetryInterval</span></span> |<span data-ttu-id="29cac-136">Secondes</span><span class="sxs-lookup"><span data-stu-id="29cac-136">Seconds</span></span> |<span data-ttu-id="29cac-137">5</span><span class="sxs-lookup"><span data-stu-id="29cac-137">5</span></span> |<span data-ttu-id="29cac-138">Période après les hello réplicateur nouveau transmet un message si elle ne reçoit pas d’accusé de réception pour une opération.</span><span class="sxs-lookup"><span data-stu-id="29cac-138">Time period after which hello replicator re-transmits a message if it does not receive an acknowledgement for an operation.</span></span> |
| <span data-ttu-id="29cac-139">MaxReplicationMessageSize</span><span class="sxs-lookup"><span data-stu-id="29cac-139">MaxReplicationMessageSize</span></span> |<span data-ttu-id="29cac-140">Octets</span><span class="sxs-lookup"><span data-stu-id="29cac-140">Bytes</span></span> |<span data-ttu-id="29cac-141">50 Mo</span><span class="sxs-lookup"><span data-stu-id="29cac-141">50 MB</span></span> |<span data-ttu-id="29cac-142">Taille maximale des données de réplication pouvant être transmises dans un même message.</span><span class="sxs-lookup"><span data-stu-id="29cac-142">Maximum size of replication data that can be transmitted in a single message.</span></span> |
| <span data-ttu-id="29cac-143">MaxPrimaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="29cac-143">MaxPrimaryReplicationQueueSize</span></span> |<span data-ttu-id="29cac-144">Nombre d'opérations</span><span class="sxs-lookup"><span data-stu-id="29cac-144">Number of operations</span></span> |<span data-ttu-id="29cac-145">1 024</span><span class="sxs-lookup"><span data-stu-id="29cac-145">1024</span></span> |<span data-ttu-id="29cac-146">Nombre maximal d’opérations dans la file d’attente principale de hello.</span><span class="sxs-lookup"><span data-stu-id="29cac-146">Maximum number of operations in hello primary queue.</span></span> <span data-ttu-id="29cac-147">Une opération est libérée après que Réplicateur principal de hello reçoit un accusé de réception auprès de tous les fabricants de hello secondaire.</span><span class="sxs-lookup"><span data-stu-id="29cac-147">An operation is freed up after hello primary replicator receives an acknowledgement from all hello secondary replicators.</span></span> <span data-ttu-id="29cac-148">Cette valeur doit être supérieure à 64 et être une puissance de 2.</span><span class="sxs-lookup"><span data-stu-id="29cac-148">This value must be greater than 64 and a power of 2.</span></span> |
| <span data-ttu-id="29cac-149">MaxSecondaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="29cac-149">MaxSecondaryReplicationQueueSize</span></span> |<span data-ttu-id="29cac-150">Nombre d'opérations</span><span class="sxs-lookup"><span data-stu-id="29cac-150">Number of operations</span></span> |<span data-ttu-id="29cac-151">2 048</span><span class="sxs-lookup"><span data-stu-id="29cac-151">2048</span></span> |<span data-ttu-id="29cac-152">Nombre maximal d’opérations dans la file d’attente secondaire de hello.</span><span class="sxs-lookup"><span data-stu-id="29cac-152">Maximum number of operations in hello secondary queue.</span></span> <span data-ttu-id="29cac-153">Une opération est libérée une fois son état devenu hautement disponible grâce à la persistance.</span><span class="sxs-lookup"><span data-stu-id="29cac-153">An operation is freed up after making its state highly available through persistence.</span></span> <span data-ttu-id="29cac-154">Cette valeur doit être supérieure à 64 et être une puissance de 2.</span><span class="sxs-lookup"><span data-stu-id="29cac-154">This value must be greater than 64 and a power of 2.</span></span> |

## <a name="store-configuration"></a><span data-ttu-id="29cac-155">Configuration du magasin</span><span class="sxs-lookup"><span data-stu-id="29cac-155">Store configuration</span></span>
<span data-ttu-id="29cac-156">Magasin de configurations sont utilisées tooconfigure hello banque d’état hello toopersist utilisé qui est en cours de réplication.</span><span class="sxs-lookup"><span data-stu-id="29cac-156">Store configurations are used tooconfigure hello local store that is used toopersist hello state that is being replicated.</span></span>
<span data-ttu-id="29cac-157">configuration par défaut de Hello est générée par le modèle de Visual Studio hello et suffisante.</span><span class="sxs-lookup"><span data-stu-id="29cac-157">hello default configuration is generated by hello Visual Studio template and should suffice.</span></span> <span data-ttu-id="29cac-158">Cette section décrit les configurations supplémentaires qui sont le magasin local de hello tootune disponibles.</span><span class="sxs-lookup"><span data-stu-id="29cac-158">This section talks about additional configurations that are available tootune hello local store.</span></span>

### <a name="section-name"></a><span data-ttu-id="29cac-159">Nom de la section</span><span class="sxs-lookup"><span data-stu-id="29cac-159">Section name</span></span>
<span data-ttu-id="29cac-160">&lt;ActorName&gt;ServiceLocalStoreConfig</span><span class="sxs-lookup"><span data-stu-id="29cac-160">&lt;ActorName&gt;ServiceLocalStoreConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="29cac-161">Noms des configurations</span><span class="sxs-lookup"><span data-stu-id="29cac-161">Configuration names</span></span>
| <span data-ttu-id="29cac-162">Nom</span><span class="sxs-lookup"><span data-stu-id="29cac-162">Name</span></span> | <span data-ttu-id="29cac-163">Unité</span><span class="sxs-lookup"><span data-stu-id="29cac-163">Unit</span></span> | <span data-ttu-id="29cac-164">Valeur par défaut</span><span class="sxs-lookup"><span data-stu-id="29cac-164">Default value</span></span> | <span data-ttu-id="29cac-165">Remarques</span><span class="sxs-lookup"><span data-stu-id="29cac-165">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="29cac-166">MaxAsyncCommitDelayInMilliseconds</span><span class="sxs-lookup"><span data-stu-id="29cac-166">MaxAsyncCommitDelayInMilliseconds</span></span> |<span data-ttu-id="29cac-167">Millisecondes</span><span class="sxs-lookup"><span data-stu-id="29cac-167">Milliseconds</span></span> |<span data-ttu-id="29cac-168">200</span><span class="sxs-lookup"><span data-stu-id="29cac-168">200</span></span> |<span data-ttu-id="29cac-169">Définit un maximum de hello intervalle pour les validations du magasin local fiable de traitement par lot.</span><span class="sxs-lookup"><span data-stu-id="29cac-169">Sets hello maximum batching interval for durable local store commits.</span></span> |
| <span data-ttu-id="29cac-170">MaxVerPages</span><span class="sxs-lookup"><span data-stu-id="29cac-170">MaxVerPages</span></span> |<span data-ttu-id="29cac-171">Nombre de pages</span><span class="sxs-lookup"><span data-stu-id="29cac-171">Number of pages</span></span> |<span data-ttu-id="29cac-172">16 384</span><span class="sxs-lookup"><span data-stu-id="29cac-172">16384</span></span> |<span data-ttu-id="29cac-173">nombre maximal de Hello de pages de version Bonjour local stocker la base de données.</span><span class="sxs-lookup"><span data-stu-id="29cac-173">hello maximum number of version pages in hello local store database.</span></span> <span data-ttu-id="29cac-174">Il détermine le nombre maximal de hello de transactions en attente.</span><span class="sxs-lookup"><span data-stu-id="29cac-174">It determines hello maximum number of outstanding transactions.</span></span> |

## <a name="sample-configuration-file"></a><span data-ttu-id="29cac-175">Exemple de fichier de configuration</span><span class="sxs-lookup"><span data-stu-id="29cac-175">Sample configuration file</span></span>
```xml
<?xml version="1.0" encoding="utf-8"?>
<Settings xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://schemas.microsoft.com/2011/01/fabric">
   <Section Name="MyActorServiceReplicatorConfig">
      <Parameter Name="ReplicatorEndpoint" Value="MyActorServiceReplicatorEndpoint" />
      <Parameter Name="BatchAcknowledgementInterval" Value="0.05"/>
   </Section>
   <Section Name="MyActorServiceLocalStoreConfig">
      <Parameter Name="MaxVerPages" Value="8192" />
   </Section>
   <Section Name="MyActorServiceReplicatorSecurityConfig">
      <Parameter Name="CredentialType" Value="X509" />
      <Parameter Name="FindType" Value="FindByThumbprint" />
      <Parameter Name="FindValue" Value="9d c9 06 b1 69 dc 4f af fd 16 97 ac 78 1e 80 67 90 74 9d 2f" />
      <Parameter Name="StoreLocation" Value="LocalMachine" />
      <Parameter Name="StoreName" Value="My" />
      <Parameter Name="ProtectionLevel" Value="EncryptAndSign" />
      <Parameter Name="AllowedCommonNames" Value="My-Test-SAN1-Alice,My-Test-SAN1-Bob" />
   </Section>
</Settings>
```
## <a name="remarks"></a><span data-ttu-id="29cac-176">Remarques</span><span class="sxs-lookup"><span data-stu-id="29cac-176">Remarks</span></span>
<span data-ttu-id="29cac-177">paramètre de BatchAcknowledgementInterval Hello contrôle la latence de réplication.</span><span class="sxs-lookup"><span data-stu-id="29cac-177">hello BatchAcknowledgementInterval parameter controls replication latency.</span></span> <span data-ttu-id="29cac-178">La valeur '0' entraîne hello latence minimale, au coût de hello de débit (comme les autres messages d’accusé de réception doivent être envoyées et traitées, contenant chacune des accusés de réception moins).</span><span class="sxs-lookup"><span data-stu-id="29cac-178">A value of '0' results in hello lowest possible latency, at hello cost of throughput (as more acknowledgement messages must be sent and processed, each containing fewer acknowledgements).</span></span>
<span data-ttu-id="29cac-179">Hello plus grande valeur hello pour BatchAcknowledgementInterval, hello hello plu globale débit de la réplication, au coût de hello de latence d’opération plus élevée.</span><span class="sxs-lookup"><span data-stu-id="29cac-179">hello larger hello value for BatchAcknowledgementInterval, hello higher hello overall replication throughput, at hello cost of higher operation latency.</span></span> <span data-ttu-id="29cac-180">Cela traduit directement toohello une latence de transaction est validée.</span><span class="sxs-lookup"><span data-stu-id="29cac-180">This directly translates toohello latency of transaction commits.</span></span>

