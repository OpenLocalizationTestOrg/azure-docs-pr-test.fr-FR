---
title: "niveaux d’aaaConsistency dans la base de données Azure Cosmos | Documents Microsoft"
description: "Base de données Azure Cosmos a cinq cohérence niveaux toohelp solde éventuelle latence, la disponibilité et la cohérence des compromis."
keywords: "cohérence éventuelle, azure cosmos db, azure, Microsoft Azure"
services: cosmos-db
author: mimig1
manager: jhubbard
editor: cgronlun
documentationcenter: 
ms.assetid: 3fe51cfa-a889-4a4a-b320-16bf871fe74c
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/16/2017
ms.author: mimig
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: ac399c229d0856cd811bc81568536e519af3300f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="tunable-data-consistency-levels-in-azure-cosmos-db"></a><span data-ttu-id="698da-104">Niveaux de cohérence des données paramétrables dans Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="698da-104">Tunable data consistency levels in Azure Cosmos DB</span></span>
<span data-ttu-id="698da-105">Base de données Azure Cosmos est conçu de hello d’arrière-plan avec une distribution globale à l’esprit pour chaque modèle de données.</span><span class="sxs-lookup"><span data-stu-id="698da-105">Azure Cosmos DB is designed from hello ground up with global distribution in mind for every data model.</span></span> <span data-ttu-id="698da-106">Il est conçu toooffer prévisibles à faible latence garanties, un SLA de disponibilité de 99,99 %, et plusieurs bien définis ont assoupli des modèles de cohérence.</span><span class="sxs-lookup"><span data-stu-id="698da-106">It is designed toooffer predictable low latency guarantees, a 99.99% availability SLA, and multiple well-defined relaxed consistency models.</span></span> <span data-ttu-id="698da-107">Pour le moment, Azure Cosmos DB prend en charge cinq niveaux de cohérence : Fort, Obsolescence limitée, Session, Préfixe cohérent et Éventuel.</span><span class="sxs-lookup"><span data-stu-id="698da-107">Currently, Azure Cosmos DB provides five consistency levels: strong, bounded-staleness, session, consistent prefix, and eventual.</span></span> 

<span data-ttu-id="698da-108">Outre les modèles de cohérence **fort** et **éventuel** souvent offerts par les bases de données distribuées, Azure Cosmos DB propose trois modèles de cohérence supplémentaires soigneusement codifiés et mis en œuvre, et dont l’utilité a été validée dans des conditions d’utilisation réelles.</span><span class="sxs-lookup"><span data-stu-id="698da-108">Besides **strong** and **eventual consistency** models commonly offered by distributed databases, Azure Cosmos DB offers three more carefully codified and operationalized consistency models, and has validated their usefulness against real world use cases.</span></span> <span data-ttu-id="698da-109">Il s’agit hello **délimitée péremption**, **session**, et **préfixe cohérent** niveaux de cohérence.</span><span class="sxs-lookup"><span data-stu-id="698da-109">These are hello **bounded staleness**, **session**, and **consistent prefix** consistency levels.</span></span> <span data-ttu-id="698da-110">Ces niveaux de cinq cohérence activer collectivement toomake bien motivée compromis entre la cohérence, la disponibilité et la latence.</span><span class="sxs-lookup"><span data-stu-id="698da-110">Collectively these five consistency levels enable you toomake well-reasoned trade-offs between consistency, availability, and latency.</span></span> 

## <a name="distributed-databases-and-consistency"></a><span data-ttu-id="698da-111">Bases de données distribuées et cohérence</span><span class="sxs-lookup"><span data-stu-id="698da-111">Distributed databases and consistency</span></span>
<span data-ttu-id="698da-112">Les bases de données distribuées commerciales se répartissent en deux catégories : les bases de données qui n’offrent pas de choix de cohérence bien définis et démontrables et celles qui offrent deux possibilités de programmabilité extrêmes (cohérence éventuelle et forte).</span><span class="sxs-lookup"><span data-stu-id="698da-112">Commercial distributed databases fall into two categories: databases that do not offer well-defined, provable consistency choices at all, and databases which offer two extreme programmability choices (strong vs. eventual consistency).</span></span> 

<span data-ttu-id="698da-113">Hello les développeurs d’applications charges ancien avec minutia de protocoles de leur réplication et attend les compromis difficile de toomake entre la cohérence, la disponibilité, la latence et débit.</span><span class="sxs-lookup"><span data-stu-id="698da-113">hello former burdens application developers with minutia of their replication protocols and expects them toomake difficult tradeoffs between consistency, availability, latency, and throughput.</span></span> <span data-ttu-id="698da-114">Hello ce dernier met un toochoose pression un des deux extrêmes de hello.</span><span class="sxs-lookup"><span data-stu-id="698da-114">hello latter puts a pressure toochoose one of hello two extremes.</span></span> <span data-ttu-id="698da-115">En dépit d’abondance hello de recherche et de propositions pour les modèles de cohérence plus de 50, hello Communauté de base de données distribuée n’a pas été en mesure de toocommercialize des niveaux de cohérence au-delà de la cohérence forte et éventuelle.</span><span class="sxs-lookup"><span data-stu-id="698da-115">Despite hello abundance of research and proposals for more than 50 consistency models, hello distributed database community has not been able toocommercialize consistency levels beyond strong and eventual consistency.</span></span> <span data-ttu-id="698da-116">Permet de COSMOS DB toochoose développeurs entre cinq modèles de cohérence bien définis dans spectre de cohérence hello – fort, délimitée péremption, [session](http://dl.acm.org/citation.cfm?id=383631), préfixe cohérent et finale.</span><span class="sxs-lookup"><span data-stu-id="698da-116">Cosmos DB allows developers toochoose between five well-defined consistency models along hello consistency spectrum – strong, bounded staleness, [session](http://dl.acm.org/citation.cfm?id=383631), consistent prefix, and eventual.</span></span> 

![Base de données Cosmos Azure offre plusieurs bien définie toochoose de modèles de cohérence (souple) à partir de](./media/consistency-levels/five-consistency-levels.png)

<span data-ttu-id="698da-118">Hello tableau suivant illustre les garanties particulières hello que fournit chaque niveau de cohérence.</span><span class="sxs-lookup"><span data-stu-id="698da-118">hello following table illustrates hello specific guarantees each consistency level provides.</span></span>
 
<span data-ttu-id="698da-119">**Niveaux de cohérence et garanties**</span><span class="sxs-lookup"><span data-stu-id="698da-119">**Consistency Levels and guarantees**</span></span>

| <span data-ttu-id="698da-120">Niveau de cohérence</span><span class="sxs-lookup"><span data-stu-id="698da-120">Consistency Level</span></span> | <span data-ttu-id="698da-121">Garanties</span><span class="sxs-lookup"><span data-stu-id="698da-121">Guarantees</span></span> |
| --- | --- |
| <span data-ttu-id="698da-122">Remarque</span><span class="sxs-lookup"><span data-stu-id="698da-122">Strong</span></span> | <span data-ttu-id="698da-123">Linéarisabilité</span><span class="sxs-lookup"><span data-stu-id="698da-123">Linearizability</span></span> |
| <span data-ttu-id="698da-124">Obsolescence limitée</span><span class="sxs-lookup"><span data-stu-id="698da-124">Bounded Staleness</span></span> | <span data-ttu-id="698da-125">Préfixe cohérent.</span><span class="sxs-lookup"><span data-stu-id="698da-125">Consistent Prefix.</span></span> <span data-ttu-id="698da-126">Retard des lectures par rapport aux écritures par k préfixes ou un intervalle t</span><span class="sxs-lookup"><span data-stu-id="698da-126">Reads lag behind writes by k prefixes or t interval</span></span> |
| <span data-ttu-id="698da-127">session</span><span class="sxs-lookup"><span data-stu-id="698da-127">Session</span></span>   | <span data-ttu-id="698da-128">Préfixe cohérent.</span><span class="sxs-lookup"><span data-stu-id="698da-128">Consistent Prefix.</span></span> <span data-ttu-id="698da-129">Lectures unitones, écritures unitones, lecture de vos écritures, l’écriture suit les lectures</span><span class="sxs-lookup"><span data-stu-id="698da-129">Monotonic reads, monotonic writes, read-your-writes, write-follows-reads</span></span> |
| <span data-ttu-id="698da-130">Préfixe cohérent</span><span class="sxs-lookup"><span data-stu-id="698da-130">Consistent Prefix</span></span> | <span data-ttu-id="698da-131">Mises à jour retournées sont un préfixe de toutes les mises à jour hello, sans interruption</span><span class="sxs-lookup"><span data-stu-id="698da-131">Updates returned are some prefix of all hello updates, with no gaps</span></span> |
| <span data-ttu-id="698da-132">Eventual (Éventuel)</span><span class="sxs-lookup"><span data-stu-id="698da-132">Eventual</span></span>  | <span data-ttu-id="698da-133">Lectures en désordre</span><span class="sxs-lookup"><span data-stu-id="698da-133">Out of order reads</span></span> |

<span data-ttu-id="698da-134">Configurer le niveau de cohérence hello par défaut sur votre compte de base de données Cosmos (et remplacer ultérieurement cohérence hello sur une requête de lecture spécifique).</span><span class="sxs-lookup"><span data-stu-id="698da-134">You can configure hello default consistency level on your Cosmos DB account (and later override hello consistency on a specific read request).</span></span> <span data-ttu-id="698da-135">En interne, niveau de cohérence hello par défaut s’applique toodata dans les groupes de partition hello qui peuvent être réparties entre les régions.</span><span class="sxs-lookup"><span data-stu-id="698da-135">Internally, hello default consistency level applies toodata within hello partition sets which may span regions.</span></span> <span data-ttu-id="698da-136">Environ 73 % de nos clients utilisent la cohérence de session et 20 % y préfèrent l’obsolescence limitée.</span><span class="sxs-lookup"><span data-stu-id="698da-136">About 73% of our tenants use session consistency and 20% prefer bounded staleness.</span></span> <span data-ttu-id="698da-137">Nous observons qu’environ 3 % de nos clients expérimentent initialement différents niveaux de cohérence avant de choisir une cohérence spécifique pour leur application.</span><span class="sxs-lookup"><span data-stu-id="698da-137">We observe that approximately 3% of our customers experiment with various consistency levels initially before settling on a specific consistency choice for their application.</span></span> <span data-ttu-id="698da-138">Nous observons également que seuls 2 % de nos clients modifient les niveaux de cohérence sur demande.</span><span class="sxs-lookup"><span data-stu-id="698da-138">We also observe that only 2% of our tenants override consistency levels on a per request basis.</span></span> 

<span data-ttu-id="698da-139">Dans DB Cosmos, les lectures au niveaux de cohérence session, préfixe cohérent et cohérence éventuelle sont deux fois meilleur marché que les lectures aux niveaux de cohérence fort ou obsolescence limitée.</span><span class="sxs-lookup"><span data-stu-id="698da-139">In Cosmos DB, reads served at session, consistent prefix and eventual consistency are twice as cheap as reads with strong or bounded staleness consistency.</span></span> <span data-ttu-id="698da-140">Cosmos DB offre des SLA à 99,99 % exhaustifs de pointe, incluant des garanties de cohérence en plus de la disponibilité, du débit et de la latence.</span><span class="sxs-lookup"><span data-stu-id="698da-140">Cosmos DB has industry leading comprehensive 99.99% SLAs including consistency guarantees along with availability, throughput, and latency.</span></span> <span data-ttu-id="698da-141">Nous utilisons un [vérificateur de linearizability](http://dl.acm.org/citation.cfm?id=1806634), qui fonctionne en continu via la télémétrie de notre service et ouvertement signale toute tooyou de violations de la cohérence.</span><span class="sxs-lookup"><span data-stu-id="698da-141">We employ a [linearizability checker](http://dl.acm.org/citation.cfm?id=1806634), which continuously operates over our service telemetry and openly reports any consistency violations tooyou.</span></span> <span data-ttu-id="698da-142">Pour délimité péremption, nous analyse et rapports des violations a duré et les limites de t.</span><span class="sxs-lookup"><span data-stu-id="698da-142">For bounded staleness, we monitor and report any violations took and t bounds.</span></span> <span data-ttu-id="698da-143">Pour toutes les cinq niveaux de cohérence souple, nous avons également signaler hello [métrique de l’obsolescence limitée PROBABILISTE](http://dl.acm.org/citation.cfm?id=2212359) tooyou directement.</span><span class="sxs-lookup"><span data-stu-id="698da-143">For all five relaxed consistency levels, we also report hello [probabilistic bounded staleness metric](http://dl.acm.org/citation.cfm?id=2212359) directly tooyou.</span></span>  

## <a name="scope-of-consistency"></a><span data-ttu-id="698da-144">Portée de la cohérence</span><span class="sxs-lookup"><span data-stu-id="698da-144">Scope of consistency</span></span>
<span data-ttu-id="698da-145">granularité de Hello de cohérence a une demande d’utilisateur unique tooa étendue.</span><span class="sxs-lookup"><span data-stu-id="698da-145">hello granularity of consistency is scoped tooa single user request.</span></span> <span data-ttu-id="698da-146">Une demande d’écriture peut correspondent tooan insert, replace, la fusionner ou supprimer la transaction.</span><span class="sxs-lookup"><span data-stu-id="698da-146">A write request may correspond tooan insert, replace, upsert, or delete transaction.</span></span> <span data-ttu-id="698da-147">Comme les écritures, une transaction de lecture/la requête est également demande d’utilisateur unique tooa étendue.</span><span class="sxs-lookup"><span data-stu-id="698da-147">As with writes, a read/query transaction is also scoped tooa single user request.</span></span> <span data-ttu-id="698da-148">utilisateur de Hello peut-être toopaginate requis sur un grand jeu de résultats, le fractionnement des partitions multiples, mais chaque lecture transaction étendue tooa une seule page et pris en charge à partir d’une partition unique.</span><span class="sxs-lookup"><span data-stu-id="698da-148">hello user may be required toopaginate over a large result-set, spanning multiple partitions, but each read transaction is scoped tooa single page and served from within a single partition.</span></span>

## <a name="consistency-levels"></a><span data-ttu-id="698da-149">Niveaux de cohérence</span><span class="sxs-lookup"><span data-stu-id="698da-149">Consistency levels</span></span>
<span data-ttu-id="698da-150">Vous pouvez configurer un niveau de cohérence par défaut sur votre compte de base de données qui s’applique tooall collections (et les bases de données) sous votre compte de base de données Cosmos.</span><span class="sxs-lookup"><span data-stu-id="698da-150">You can configure a default consistency level on your database account that applies tooall collections (and databases) under your Cosmos DB account.</span></span> <span data-ttu-id="698da-151">Par défaut, toutes les lectures et les requêtes exécutées sur hello ressources définies par l’utilisateur utilisent le niveau de cohérence par défaut hello spécifié sur le compte de base de données hello.</span><span class="sxs-lookup"><span data-stu-id="698da-151">By default, all reads and queries issued against hello user-defined resources use hello default consistency level specified on hello database account.</span></span> <span data-ttu-id="698da-152">Vous pouvez assouplir le niveau de cohérence hello d’une requête de lecture/spécifique demande à l’aide de chacune des hello API prises en charge.</span><span class="sxs-lookup"><span data-stu-id="698da-152">You can relax hello consistency level of a specific read/query request using in each of hello supported APIs.</span></span> <span data-ttu-id="698da-153">Il existe cinq types de niveaux de cohérence pris en charge par le protocole de réplication de base de données Azure Cosmos hello offrant un compromis clair entre des garanties de cohérence spécifiques et les performances, comme décrit dans cette section.</span><span class="sxs-lookup"><span data-stu-id="698da-153">There are five types of consistency levels supported by hello Azure Cosmos DB replication protocol that provide a clear trade-off between specific consistency guarantees and performance, as described in this section.</span></span>

<span data-ttu-id="698da-154">**Remarque**:</span><span class="sxs-lookup"><span data-stu-id="698da-154">**Strong**:</span></span> 

* <span data-ttu-id="698da-155">Cohérence forte offre un [linearizability](https://aphyr.com/posts/313-strong-consistency-models) garantie avec hello lit la version la plus récente hello tooreturn garantie d’un élément.</span><span class="sxs-lookup"><span data-stu-id="698da-155">Strong consistency offers a [linearizability](https://aphyr.com/posts/313-strong-consistency-models) guarantee with hello reads guaranteed tooreturn hello most recent version of an item.</span></span> 
* <span data-ttu-id="698da-156">Cohérence forte garantit qu’une écriture est visible uniquement après sa validation durable par le quorum majoritaire de hello de réplicas.</span><span class="sxs-lookup"><span data-stu-id="698da-156">Strong consistency guarantees that a write is only visible after it is committed durably by hello majority quorum of replicas.</span></span> <span data-ttu-id="698da-157">Une écriture est validée soit synchrone durablement par hello principal et quorum hello de bases de données secondaires, ou elle est abandonnée.</span><span class="sxs-lookup"><span data-stu-id="698da-157">A write is either synchronously committed durably by both hello primary and hello quorum of secondaries, or it is aborted.</span></span> <span data-ttu-id="698da-158">Une lecture est toujours acceptée par une majorité hello lire le quorum, un client ne peut jamais voir une écriture partielle ou non validée et est toujours garanti tooread hello dernier accusé de réception écriture.</span><span class="sxs-lookup"><span data-stu-id="698da-158">A read is always acknowledged by hello majority read quorum, a client can never see an uncommitted or partial write and is always guaranteed tooread hello latest acknowledged write.</span></span> 
* <span data-ttu-id="698da-159">Comptes Cosmos DB Azure qui sont la cohérence forte toouse configuré ne peut pas associer plusieurs régions Azure avec leur compte de base de données Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="698da-159">Azure Cosmos DB accounts that are configured toouse strong consistency cannot associate more than one Azure region with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="698da-160">Hello le coût d’une opération de lecture (en termes de [unités de requête](request-units.md) consommée) à forte cohérence est supérieure à la session et éventuelle, mais même hello comme obsolescence limitée.</span><span class="sxs-lookup"><span data-stu-id="698da-160">hello cost of a read operation (in terms of [request units](request-units.md) consumed) with strong consistency is higher than session and eventual, but hello same as bounded staleness.</span></span>

<span data-ttu-id="698da-161">**Obsolescence limitée**:</span><span class="sxs-lookup"><span data-stu-id="698da-161">**Bounded staleness**:</span></span> 

* <span data-ttu-id="698da-162">Cohérence de l’obsolescence limitée garantit que les lectures hello risque de souffrir écritures au maximum *K* versions ou des préfixes d’un élément ou *t* intervalle de temps.</span><span class="sxs-lookup"><span data-stu-id="698da-162">Bounded staleness consistency guarantees that hello reads may lag behind writes by at most *K* versions or prefixes of an item or *t* time-interval.</span></span> 
* <span data-ttu-id="698da-163">Par conséquent, lorsque choix délimitée péremption, hello « péremption » peut être configurée de deux manières : nombre de versions *K* d’élément hello par lequel hello lectures rester derrière les écritures hello et intervalle de temps hello *t*</span><span class="sxs-lookup"><span data-stu-id="698da-163">Therefore, when choosing bounded staleness, hello "staleness" can be configured in two ways: number of versions *K* of hello item by which hello reads lag behind hello writes, and hello time interval *t*</span></span> 
* <span data-ttu-id="698da-164">Délimitée péremption offres total global de la commande à l’exception de hello « fenêtre péremption. »</span><span class="sxs-lookup"><span data-stu-id="698da-164">Bounded staleness offers total global order except within hello "staleness window."</span></span> <span data-ttu-id="698da-165">Hello monotone lire garanties existe dans une région à l’intérieur et à l’extérieur de hello « fenêtre péremption. »</span><span class="sxs-lookup"><span data-stu-id="698da-165">hello monotonic read guarantees exists within a region both inside and outside hello "staleness window."</span></span> 
* <span data-ttu-id="698da-166">La cohérence Obsolescence limitée fournit une meilleure garantie de cohérence que le niveau Session ou Éventuel.</span><span class="sxs-lookup"><span data-stu-id="698da-166">Bounded staleness provides a stronger consistency guarantee than session or eventual consistency.</span></span> <span data-ttu-id="698da-167">Pour les applications distribuées globalement, nous vous recommandons de qu'utiliser obsolescence limitée pour les scénarios où vous aimeriez toohave forte cohérence mais également la disponibilité de 99,99 % et une faible latence.</span><span class="sxs-lookup"><span data-stu-id="698da-167">For globally distributed applications, we recommend you use bounded staleness for scenarios where you would like toohave strong consistency but also want 99.99% availability and low latency.</span></span> 
* <span data-ttu-id="698da-168">Les comptes Azure Cosmos DB configurés avec une cohérence de type obsolescence limitée peuvent associer n’importe quel nombre de régions Azure avec leur compte.</span><span class="sxs-lookup"><span data-stu-id="698da-168">Azure Cosmos DB accounts that are configured with bounded staleness consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="698da-169">Hello le coût d’une opération de lecture (en termes de RUs consommée) avec obsolescence limitée est supérieure à la session et la cohérence éventuelle, mais même hello en tant que la cohérence forte.</span><span class="sxs-lookup"><span data-stu-id="698da-169">hello cost of a read operation (in terms of RUs consumed) with bounded staleness is higher than session and eventual consistency, but hello same as strong consistency.</span></span>

<span data-ttu-id="698da-170">**Session**:</span><span class="sxs-lookup"><span data-stu-id="698da-170">**Session**:</span></span> 

* <span data-ttu-id="698da-171">Contrairement aux modèles de la cohérence globale hello offertes par les niveaux de cohérence de péremption fort et limité, la cohérence de session est étendue tooa session du client.</span><span class="sxs-lookup"><span data-stu-id="698da-171">Unlike hello global consistency models offered by strong and bounded staleness consistency levels, session consistency is scoped tooa client session.</span></span> 
* <span data-ttu-id="698da-172">La cohérence Session est idéale pour tous les scénarios dans lesquels une session utilisateur ou d’appareil est impliquée, car elle garantit des lectures unitones, des écritures unitones et des garanties de lecture de vos propres écritures.</span><span class="sxs-lookup"><span data-stu-id="698da-172">Session consistency is ideal for all scenarios where a device or user session is involved since it guarantees monotonic reads, monotonic writes, and read your own writes (RYW) guarantees.</span></span> 
* <span data-ttu-id="698da-173">Fournit une cohérence prévisible pour une session et débit de lecture maximale tout en offrant des lectures et écritures de latence la plus faible hello.</span><span class="sxs-lookup"><span data-stu-id="698da-173">Session consistency provides predictable consistency for a session, and maximum read throughput while offering hello lowest latency writes and reads.</span></span> 
* <span data-ttu-id="698da-174">Les comptes Azure Cosmos DB configurés avec une cohérence de type session peuvent associer n’importe quel nombre de régions Azure avec leur compte.</span><span class="sxs-lookup"><span data-stu-id="698da-174">Azure Cosmos DB accounts that are configured with session consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="698da-175">Hello du coût d’une opération de lecture (en termes de RUs consommée) avec une session de niveau de cohérence est inférieur à péremption fort et limitée, mais la cohérence éventuelle de plus de</span><span class="sxs-lookup"><span data-stu-id="698da-175">hello cost of a read operation (in terms of RUs consumed) with session consistency level is less than strong and bounded staleness, but more than eventual consistency</span></span>

<span data-ttu-id="698da-176"><a id="consistent-prefix"></a>
**Préfixe cohérent** :</span><span class="sxs-lookup"><span data-stu-id="698da-176"><a id="consistent-prefix"></a>
**Consistent Prefix**:</span></span> 

* <span data-ttu-id="698da-177">Préfixe cohérente garantit qu’en l’absence d’autres écritures, les réplicas hello au sein du groupe de hello convergent.</span><span class="sxs-lookup"><span data-stu-id="698da-177">Consistent prefix guarantees that in absence of any further writes, hello replicas within hello group eventually converge.</span></span> 
* <span data-ttu-id="698da-178">Le niveau de cohérence préfixe cohérent garantit que les lectures ne voient jamais d’écritures dans le désordre.</span><span class="sxs-lookup"><span data-stu-id="698da-178">Consistent prefix guarantees that reads never see out of order writes.</span></span> <span data-ttu-id="698da-179">Si les écritures ont été effectuées dans l’ordre de hello `A, B, C`, puis un client voit soit `A`, `A,B`, ou `A,B,C`, mais jamais en désordre comme `A,C` ou `B,A,C`.</span><span class="sxs-lookup"><span data-stu-id="698da-179">If writes were performed in hello order `A, B, C`, then a client sees either `A`, `A,B`, or `A,B,C`, but never out of order like `A,C` or `B,A,C`.</span></span>
* <span data-ttu-id="698da-180">Les comptes Azure Cosmos DB configurés avec une cohérence de type préfixe cohérent peuvent associer n’importe quel nombre de régions Azure avec leur compte.</span><span class="sxs-lookup"><span data-stu-id="698da-180">Azure Cosmos DB accounts that are configured with consistent prefix consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 

<span data-ttu-id="698da-181">**Eventual (Éventuel)**:</span><span class="sxs-lookup"><span data-stu-id="698da-181">**Eventual**:</span></span> 

* <span data-ttu-id="698da-182">Cohérence éventuelle garantit qu’en l’absence d’autres écritures, les réplicas hello au sein du groupe de hello convergent.</span><span class="sxs-lookup"><span data-stu-id="698da-182">Eventual consistency guarantees that in absence of any further writes, hello replicas within hello group eventually converge.</span></span> 
* <span data-ttu-id="698da-183">Cohérence éventuelle est hello plus faible cohérence où un client peut obtenir les valeurs hello qui sont antérieurs au hello ceux qu’il avait auparavant.</span><span class="sxs-lookup"><span data-stu-id="698da-183">Eventual consistency is hello weakest form of consistency where a client may get hello values that are older than hello ones it had seen before.</span></span>
* <span data-ttu-id="698da-184">Cohérence éventuelle fournit une cohérence de lecture hello plus faible, mais offre hello latence la plus faible pour les lectures et écritures.</span><span class="sxs-lookup"><span data-stu-id="698da-184">Eventual consistency provides hello weakest read consistency but offers hello lowest latency for both reads and writes.</span></span>
* <span data-ttu-id="698da-185">Les comptes Azure Cosmos DB configurés avec une cohérence éventuelle peuvent associer n’importe quel nombre de régions Azure avec leur compte.</span><span class="sxs-lookup"><span data-stu-id="698da-185">Azure Cosmos DB accounts that are configured with eventual consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="698da-186">Hello le coût d’une opération de lecture (en termes de RUs consommée) au niveau de cohérence éventuelle de hello est hello plus petit de tous les niveaux de cohérence de base de données Azure Cosmos hello.</span><span class="sxs-lookup"><span data-stu-id="698da-186">hello cost of a read operation (in terms of RUs consumed) with hello eventual consistency level is hello lowest of all hello Azure Cosmos DB consistency levels.</span></span>

## <a name="configuring-hello-default-consistency-level"></a><span data-ttu-id="698da-187">Configuration du niveau de cohérence hello par défaut</span><span class="sxs-lookup"><span data-stu-id="698da-187">Configuring hello default consistency level</span></span>
1. <span data-ttu-id="698da-188">Bonjour [portail Azure](https://portal.azure.com/)hello Jumpbar, cliquez sur dans **base de données Azure Cosmos**.</span><span class="sxs-lookup"><span data-stu-id="698da-188">In hello [Azure portal](https://portal.azure.com/), in hello Jumpbar, click **Azure Cosmos DB**.</span></span>
2. <span data-ttu-id="698da-189">Bonjour **base de données Azure Cosmos** panneau, sélectionnez hello de base de données compte toomodify.</span><span class="sxs-lookup"><span data-stu-id="698da-189">In hello **Azure Cosmos DB** blade, select hello database account toomodify.</span></span>
3. <span data-ttu-id="698da-190">Dans le panneau de compte hello, cliquez sur **par défaut de la cohérence**.</span><span class="sxs-lookup"><span data-stu-id="698da-190">In hello account blade, click **Default consistency**.</span></span>
4. <span data-ttu-id="698da-191">Bonjour **cohérence par défaut** panneau, niveau de cohérence hello sélectionnez Nouveau, cliquez sur **enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="698da-191">In hello **Default Consistency** blade, select hello new consistency level and click **Save**.</span></span>
   
    ![Capture d’écran en mettant en surbrillance icône des paramètres hello et l’entrée de cohérence par défaut](./media/consistency-levels/database-consistency-level-1.png)

## <a name="consistency-levels-for-queries"></a><span data-ttu-id="698da-193">Niveaux de cohérence des requêtes</span><span class="sxs-lookup"><span data-stu-id="698da-193">Consistency levels for queries</span></span>
<span data-ttu-id="698da-194">Par défaut, pour les ressources définies par l’utilisateur, au niveau de cohérence hello pour les requêtes est hello même niveau de cohérence hello pour des lectures.</span><span class="sxs-lookup"><span data-stu-id="698da-194">By default, for user-defined resources, hello consistency level for queries is hello same as hello consistency level for reads.</span></span> <span data-ttu-id="698da-195">Par défaut, les index hello est mis à jour synchrone chaque insert, remplacer ou supprimer d’un conteneur de base de données Cosmos toohello élément.</span><span class="sxs-lookup"><span data-stu-id="698da-195">By default, hello index is updated synchronously on each insert, replace, or delete of an item toohello Cosmos DB container.</span></span> <span data-ttu-id="698da-196">Cela permet les requêtes hello toohonor hello même niveau de cohérence que celui du point de lectures.</span><span class="sxs-lookup"><span data-stu-id="698da-196">This enables hello queries toohonor hello same consistency level as that of point reads.</span></span> <span data-ttu-id="698da-197">Lors de la base de données Azure Cosmos est optimisé en écriture et prend en charge des volumes maintenus d’écritures, maintenance d’index synchrones et traiter les requêtes de cohérence, vous pouvez configurer certaine tooupdate collections leur index tardivement.</span><span class="sxs-lookup"><span data-stu-id="698da-197">While Azure Cosmos DB is write optimized and supports sustained volumes of writes, synchronous index maintenance and serving consistent queries, you can configure certain collections tooupdate their index lazily.</span></span> <span data-ttu-id="698da-198">Indexation différée davantage améliore les performances d’écriture hello et est idéale pour les scénarios d’ingestion en bloc lorsqu’une charge de travail est principalement lectures.</span><span class="sxs-lookup"><span data-stu-id="698da-198">Lazy indexing further boosts hello write performance and is ideal for bulk ingestion scenarios when a workload is primarily read-heavy.</span></span>  

| <span data-ttu-id="698da-199">Mode d'indexation</span><span class="sxs-lookup"><span data-stu-id="698da-199">Indexing Mode</span></span> | <span data-ttu-id="698da-200">Lectures</span><span class="sxs-lookup"><span data-stu-id="698da-200">Reads</span></span> | <span data-ttu-id="698da-201">Requêtes</span><span class="sxs-lookup"><span data-stu-id="698da-201">Queries</span></span> |
| --- | --- | --- |
| <span data-ttu-id="698da-202">Cohérence (par défaut)</span><span class="sxs-lookup"><span data-stu-id="698da-202">Consistent (default)</span></span> |<span data-ttu-id="698da-203">Choisir parmi Fort, Obsolescence limitée, Session, Préfixe cohérent et Éventuel</span><span class="sxs-lookup"><span data-stu-id="698da-203">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="698da-204">Choisir parmi Fort, Obsolescence limitée, Session et Éventuel</span><span class="sxs-lookup"><span data-stu-id="698da-204">Select from strong, bounded staleness, session, or eventual</span></span> |
| <span data-ttu-id="698da-205">Différé</span><span class="sxs-lookup"><span data-stu-id="698da-205">Lazy</span></span> |<span data-ttu-id="698da-206">Choisir parmi Fort, Obsolescence limitée, Session, Préfixe cohérent et Éventuel</span><span class="sxs-lookup"><span data-stu-id="698da-206">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="698da-207">Eventual (Éventuel)</span><span class="sxs-lookup"><span data-stu-id="698da-207">Eventual</span></span> |
| <span data-ttu-id="698da-208">Aucun</span><span class="sxs-lookup"><span data-stu-id="698da-208">None</span></span> |<span data-ttu-id="698da-209">Choisir parmi Fort, Obsolescence limitée, Session, Préfixe cohérent et Éventuel</span><span class="sxs-lookup"><span data-stu-id="698da-209">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="698da-210">Non applicable</span><span class="sxs-lookup"><span data-stu-id="698da-210">Not applicable</span></span> |

<span data-ttu-id="698da-211">Comme avec les demandes de lecture, vous pouvez réduire le niveau de cohérence hello d’une demande de requête spécifique dans chaque API.</span><span class="sxs-lookup"><span data-stu-id="698da-211">As with read requests, you can lower hello consistency level of a specific query request in each API.</span></span>

## <a name="next-steps"></a><span data-ttu-id="698da-212">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="698da-212">Next steps</span></span>
<span data-ttu-id="698da-213">Si vous souhaitez que toodo plus lors de la lecture sur les niveaux de cohérence et compromis, nous vous recommandons de hello suivant des ressources :</span><span class="sxs-lookup"><span data-stu-id="698da-213">If you'd like toodo more reading about consistency levels and tradeoffs, we recommend hello following resources:</span></span>

* <span data-ttu-id="698da-214">Doug Terry.</span><span class="sxs-lookup"><span data-stu-id="698da-214">Doug Terry.</span></span> <span data-ttu-id="698da-215">La cohérence des données répliquées expliquée par le baseball (vidéo).</span><span class="sxs-lookup"><span data-stu-id="698da-215">Replicated Data Consistency explained through baseball (video).</span></span>   
  [<span data-ttu-id="698da-216">https://www.youtube.com/watch?v=gluIh8zd26I</span><span class="sxs-lookup"><span data-stu-id="698da-216">https://www.youtube.com/watch?v=gluIh8zd26I</span></span>](https://www.youtube.com/watch?v=gluIh8zd26I)
* <span data-ttu-id="698da-217">Doug Terry.</span><span class="sxs-lookup"><span data-stu-id="698da-217">Doug Terry.</span></span> <span data-ttu-id="698da-218">La cohérence des données répliquées basée sur l’exemple du baseball.</span><span class="sxs-lookup"><span data-stu-id="698da-218">Replicated Data Consistency explained through baseball.</span></span>   
  [<span data-ttu-id="698da-219">http://research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf</span><span class="sxs-lookup"><span data-stu-id="698da-219">http://research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf</span></span>](http://research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf)
* <span data-ttu-id="698da-220">Doug Terry.</span><span class="sxs-lookup"><span data-stu-id="698da-220">Doug Terry.</span></span> <span data-ttu-id="698da-221">Le niveau Par session garantit des données répliquées peu cohérentes.</span><span class="sxs-lookup"><span data-stu-id="698da-221">Session Guarantees for Weakly Consistent Replicated Data.</span></span>   
  [<span data-ttu-id="698da-222">http://dl.acm.org/citation.cfm?id=383631</span><span class="sxs-lookup"><span data-stu-id="698da-222">http://dl.acm.org/citation.cfm?id=383631</span></span>](http://dl.acm.org/citation.cfm?id=383631)
* <span data-ttu-id="698da-223">Daniel Abadi.</span><span class="sxs-lookup"><span data-stu-id="698da-223">Daniel Abadi.</span></span> <span data-ttu-id="698da-224">La cohérence des compromis en termes de conception de systèmes de base de données distribué moderne : extrémité de fin n'est qu’une partie d’un récit hello ».</span><span class="sxs-lookup"><span data-stu-id="698da-224">Consistency Tradeoffs in Modern Distributed Database Systems Design: CAP is only part of hello story”.</span></span>   
  [<span data-ttu-id="698da-225">http://computer.org/csdl/mags/co/2012/02/mco2012020037-abs.html</span><span class="sxs-lookup"><span data-stu-id="698da-225">http://computer.org/csdl/mags/co/2012/02/mco2012020037-abs.html</span></span>](http://computer.org/csdl/mags/co/2012/02/mco2012020037-abs.html)
* <span data-ttu-id="698da-226">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein, Ion Stoica.</span><span class="sxs-lookup"><span data-stu-id="698da-226">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein, Ion Stoica.</span></span> <span data-ttu-id="698da-227">Probabilités en fonction de l'obsolescence (PBS) pour les quorums partiels pratiques</span><span class="sxs-lookup"><span data-stu-id="698da-227">Probabilistic Bounded Staleness (PBS) for Practical Partial Quorums.</span></span>   
  [<span data-ttu-id="698da-228">http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf</span><span class="sxs-lookup"><span data-stu-id="698da-228">http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf</span></span>](http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf)
* <span data-ttu-id="698da-229">Werner Vogels.</span><span class="sxs-lookup"><span data-stu-id="698da-229">Werner Vogels.</span></span> <span data-ttu-id="698da-230">Niveau de cohérence Éventuel repensé.</span><span class="sxs-lookup"><span data-stu-id="698da-230">Eventual Consistent - Revisited.</span></span>    
  [<span data-ttu-id="698da-231">http://allthingsdistributed.com/2008/12/eventually_consistent.html</span><span class="sxs-lookup"><span data-stu-id="698da-231">http://allthingsdistributed.com/2008/12/eventually_consistent.html</span></span>](http://allthingsdistributed.com/2008/12/eventually_consistent.html)
* <span data-ttu-id="698da-232">Moni Naor, Avishai laine, hello charge, la capacité et disponibilité de Quorum systèmes, Journal SIAM Computing, v.27 n.2, p.423-447, avril 1998.</span><span class="sxs-lookup"><span data-stu-id="698da-232">Moni Naor , Avishai Wool, hello Load, Capacity, and Availability of Quorum Systems, SIAM Journal on Computing, v.27 n.2, p.423-447, April 1998.</span></span>
  [<span data-ttu-id="698da-233">http://epubs.siam.org/doi/abs/10.1137/S0097539795281232</span><span class="sxs-lookup"><span data-stu-id="698da-233">http://epubs.siam.org/doi/abs/10.1137/S0097539795281232</span></span>](http://epubs.siam.org/doi/abs/10.1137/S0097539795281232)
* <span data-ttu-id="698da-234">Sebastian Burckhardt, Chris Dern, Macanal Musuvathi, Roy Tan, gamme : un linearizability complet et automatique vérificateur, procédure de conférence de ACM SIGPLAN 2010 hello sur la programmation de langage conception et implémentation, 05-10 juin 2010, Toronto, Ontario, Canada [doi > 10.1145/1806596.1806634] [http://dl.acm.org/citation.cfm?id=1806634](http://dl.acm.org/citation.cfm?id=1806634)</span><span class="sxs-lookup"><span data-stu-id="698da-234">Sebastian Burckhardt, Chris Dern, Macanal Musuvathi, Roy Tan, Line-up: a complete and automatic linearizability checker, Proceedings of hello 2010 ACM SIGPLAN conference on Programming language design and implementation, June 05-10, 2010, Toronto, Ontario, Canada  [doi>10.1145/1806596.1806634] [http://dl.acm.org/citation.cfm?id=1806634](http://dl.acm.org/citation.cfm?id=1806634)</span></span>
* <span data-ttu-id="698da-235">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein, Ion Stoica, Probabilistically délimitée péremption pour pratiques quorums partielles, une procédure de hello VLDB dotation, v.5 n.8, p.776-787, avril 2012 [http:// DL.ACM.org/citation.cfm?ID=2212359](http://dl.acm.org/citation.cfm?id=2212359)</span><span class="sxs-lookup"><span data-stu-id="698da-235">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein , Ion Stoica, Probabilistically bounded staleness for practical partial quorums, Proceedings of hello VLDB Endowment, v.5 n.8, p.776-787, April 2012 [http://dl.acm.org/citation.cfm?id=2212359](http://dl.acm.org/citation.cfm?id=2212359)</span></span>
