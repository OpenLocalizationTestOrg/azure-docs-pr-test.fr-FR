---
title: "Chiffrement de base de données au repos : Azure Cosmos DB | Microsoft Docs"
description: "Découvrez comment Azure Cosmos DB assure le chiffrement par défaut de toutes les données."
services: cosmos-db
author: voellm
manager: jhubbard
editor: mimig
documentationcenter: 
ms.assetid: 99725c52-d7ca-4bfa-888b-19b1569754d3
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/23/2017
ms.author: voellm
ms.openlocfilehash: d8967d4504a8ccabb444c7f3d5635e2d00f287c5
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="azure-cosmos-db-database-encryption-at-rest"></a><span data-ttu-id="6c76c-103">Chiffrement de base de données Azure Cosmos DB au repos</span><span class="sxs-lookup"><span data-stu-id="6c76c-103">Azure Cosmos DB database encryption at rest</span></span>

<span data-ttu-id="6c76c-104">Le chiffrement au repos est une expression qui se réfère en général au chiffrement des données situées sur des appareils de stockage non volatile, comme des disques SSD et des lecteurs de disques durs.</span><span class="sxs-lookup"><span data-stu-id="6c76c-104">Encryption at rest is a phrase that commonly refers to the encryption of data on nonvolatile storage devices, such as solid state drives (SSDs) and hard disk drives (HDDs).</span></span> <span data-ttu-id="6c76c-105">Cosmos DB stocke ses bases de données primaires sur des SSD.</span><span class="sxs-lookup"><span data-stu-id="6c76c-105">Cosmos DB stores its primary databases on SSDs.</span></span> <span data-ttu-id="6c76c-106">Ses pièces jointes multimédias et ses sauvegardes sont stockées dans le Stockage Blob Azure, qui est généralement sauvegardé sur des disques durs.</span><span class="sxs-lookup"><span data-stu-id="6c76c-106">Its media attachments and backups are stored in Azure Blob storage, which is generally backed up by HDDs.</span></span> <span data-ttu-id="6c76c-107">Avec l’apparition du chiffrement au repos pour Cosmos DB, toutes vos bases de données, pièces jointes multimédias et sauvegardes sont maintenant chiffrées.</span><span class="sxs-lookup"><span data-stu-id="6c76c-107">With the release of encryption at rest for Cosmos DB, all your databases, media attachments, and backups are encrypted.</span></span> <span data-ttu-id="6c76c-108">Vos données sont désormais chiffrées pendant le transit (sur le réseau) et au repos (stockage non volatile), ce qui vous donne un chiffrement de bout en bout.</span><span class="sxs-lookup"><span data-stu-id="6c76c-108">Your data is now encrypted in transit (over the network) and at rest (nonvolatile storage), giving you end-to-end encryption.</span></span>

<span data-ttu-id="6c76c-109">Cosmos DB, en tant que service PaaS, est très facile à utiliser.</span><span class="sxs-lookup"><span data-stu-id="6c76c-109">As a PaaS service, Cosmos DB is very easy to use.</span></span> <span data-ttu-id="6c76c-110">Comme toutes les données utilisateur stockées dans Cosmos DB sont chiffrées au repos et lors du transport, vous n’avez aucune action à effectuer.</span><span class="sxs-lookup"><span data-stu-id="6c76c-110">Because all user data stored in Cosmos DB is encrypted at rest and in transport, you don't have to take any action.</span></span> <span data-ttu-id="6c76c-111">En d’autres termes, le chiffrement au repos est « activé » par défaut.</span><span class="sxs-lookup"><span data-stu-id="6c76c-111">Another way to put this is that encryption at rest is "on" by default.</span></span> <span data-ttu-id="6c76c-112">Il n’existe aucun contrôle à activer ou à désactiver.</span><span class="sxs-lookup"><span data-stu-id="6c76c-112">There are no controls to turn it off or on.</span></span> <span data-ttu-id="6c76c-113">Nous fournissons cette fonctionnalité dans le cadre de nos efforts pour respecter notre [contrat SLA de disponibilité et de performances](https://azure.microsoft.com/support/legal/sla/cosmos-db).</span><span class="sxs-lookup"><span data-stu-id="6c76c-113">We provide this feature while we continue to meet our [availability and performance SLAs](https://azure.microsoft.com/support/legal/sla/cosmos-db).</span></span>

## <a name="implement-encryption-at-rest"></a><span data-ttu-id="6c76c-114">Implémenter le chiffrement au repos</span><span class="sxs-lookup"><span data-stu-id="6c76c-114">Implement encryption at rest</span></span>

<span data-ttu-id="6c76c-115">Le chiffrement au repos est implémenté à l’aide d’un certain nombre de technologies de sécurité, notamment des systèmes de stockage de clés sécurisés, des réseaux chiffrés et des API de chiffrement.</span><span class="sxs-lookup"><span data-stu-id="6c76c-115">Encryption at rest is implemented by using a number of security technologies, including secure key storage systems, encrypted networks, and cryptographic APIs.</span></span> <span data-ttu-id="6c76c-116">Les systèmes qui déchiffrent et traitent les données doivent communiquer avec les systèmes de gestion de clés.</span><span class="sxs-lookup"><span data-stu-id="6c76c-116">Systems that decrypt and process data have to communicate with systems that manage keys.</span></span> <span data-ttu-id="6c76c-117">Le schéma montre la façon dont le stockage des données chiffrées et la gestion des clés sont séparés.</span><span class="sxs-lookup"><span data-stu-id="6c76c-117">The diagram shows how storage of encrypted data and the management of keys is separated.</span></span> 

![Schéma montrant la conception](./media/database-encryption-at-rest/design-diagram.png)

<span data-ttu-id="6c76c-119">Le flux de base d’une demande d’un utilisateur est le suivant :</span><span class="sxs-lookup"><span data-stu-id="6c76c-119">The basic flow of a user request is as follows:</span></span>
- <span data-ttu-id="6c76c-120">Le compte de base de données de l’utilisateur est préparé et les clés de stockage sont récupérées via une demande au fournisseur de ressources du service de gestion.</span><span class="sxs-lookup"><span data-stu-id="6c76c-120">The user database account is made ready, and storage keys are retrieved via a request to the Management Service Resource Provider.</span></span>
- <span data-ttu-id="6c76c-121">Un utilisateur crée une connexion à Cosmos DB via le transport HTTPS/sécurisé.</span><span class="sxs-lookup"><span data-stu-id="6c76c-121">A user creates a connection to Cosmos DB via HTTPS/secure transport.</span></span> <span data-ttu-id="6c76c-122">(Les SDK permettent de s’abstraire des détails.)</span><span class="sxs-lookup"><span data-stu-id="6c76c-122">(The SDKs abstract the details.)</span></span>
- <span data-ttu-id="6c76c-123">L’utilisateur envoie un document JSON à stocker sur la connexion sécurisée créée précédemment.</span><span class="sxs-lookup"><span data-stu-id="6c76c-123">The user sends a JSON document to be stored over the previously created secure connection.</span></span>
- <span data-ttu-id="6c76c-124">Le document JSON est indexé, à moins que l’utilisateur ait désactivé l’indexation.</span><span class="sxs-lookup"><span data-stu-id="6c76c-124">The JSON document is indexed unless the user has turned off indexing.</span></span>
- <span data-ttu-id="6c76c-125">Le document JSON et les données d’index sont écrits dans le stockage sécurisé.</span><span class="sxs-lookup"><span data-stu-id="6c76c-125">Both the JSON document and index data are written to secure storage.</span></span>
- <span data-ttu-id="6c76c-126">Périodiquement, les données sont lues à partir du stockage sécurisé et sauvegardées dans le magasin d’objets blob chiffré d’Azure.</span><span class="sxs-lookup"><span data-stu-id="6c76c-126">Periodically, data is read from the secure storage and backed up to the Azure Encrypted Blob Store.</span></span>

## <a name="frequently-asked-questions"></a><span data-ttu-id="6c76c-127">Forum Aux Questions</span><span class="sxs-lookup"><span data-stu-id="6c76c-127">Frequently asked questions</span></span>

### <a name="q-how-much-more-does-azure-storage-cost-if-storage-service-encryption-is-enabled"></a><span data-ttu-id="6c76c-128">Q : Quel est le coût supplémentaire de Stockage Azure si le chiffrement du service de stockage est activé ?</span><span class="sxs-lookup"><span data-stu-id="6c76c-128">Q: How much more does Azure Storage cost if Storage Service Encryption is enabled?</span></span>
<span data-ttu-id="6c76c-129">R : Aucun coût supplémentaire n’est facturé.</span><span class="sxs-lookup"><span data-stu-id="6c76c-129">A: There is no additional cost.</span></span>

### <a name="q-who-manages-the-encryption-keys"></a><span data-ttu-id="6c76c-130">Q : Qui gère les clés de chiffrement ?</span><span class="sxs-lookup"><span data-stu-id="6c76c-130">Q: Who manages the encryption keys?</span></span>
<span data-ttu-id="6c76c-131">R : Les clés sont gérées par Microsoft.</span><span class="sxs-lookup"><span data-stu-id="6c76c-131">A: The keys are managed by Microsoft.</span></span>

### <a name="q-how-often-are-encryption-keys-rotated"></a><span data-ttu-id="6c76c-132">Q : À quelle fréquence les clés de chiffrement tournent-elles ?</span><span class="sxs-lookup"><span data-stu-id="6c76c-132">Q: How often are encryption keys rotated?</span></span>
<span data-ttu-id="6c76c-133">R : Microsoft a un ensemble de règles internes pour la rotation des clés de chiffrement, qui sont suivies par Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="6c76c-133">A: Microsoft has a set of internal guidelines for encryption key rotation, which Cosmos DB follows.</span></span> <span data-ttu-id="6c76c-134">Les règles spécifiques ne sont pas publiées.</span><span class="sxs-lookup"><span data-stu-id="6c76c-134">The specific guidelines are not published.</span></span> <span data-ttu-id="6c76c-135">Microsoft publie le [Security Development Lifecycle (SDL)](https://www.microsoft.com/sdl/default.aspx), qui est vu comme un sous-ensemble de règles internes et qui contient des bonnes pratiques utiles pour les développeurs.</span><span class="sxs-lookup"><span data-stu-id="6c76c-135">Microsoft does publish the [Security Development Lifecycle (SDL)](https://www.microsoft.com/sdl/default.aspx), which is seen as a subset of internal guidance and has useful best practices for developers.</span></span>

### <a name="q-can-i-use-my-own-encryption-keys"></a><span data-ttu-id="6c76c-136">Q : Puis-je utiliser mes propres clés de chiffrement ?</span><span class="sxs-lookup"><span data-stu-id="6c76c-136">Q: Can I use my own encryption keys?</span></span>
<span data-ttu-id="6c76c-137">R : Cosmos DB est un service PaaS et nous avons beaucoup travaillé pour le rendre facile à utiliser.</span><span class="sxs-lookup"><span data-stu-id="6c76c-137">A: Cosmos DB is a PaaS service, and we worked hard to keep the service easy to use.</span></span> <span data-ttu-id="6c76c-138">Nous avons constaté que cette question est souvent posée en rapport avec la conformité à des normes comme PCI-DSS.</span><span class="sxs-lookup"><span data-stu-id="6c76c-138">We've noticed this question is often asked as a proxy question for meeting a compliance requirement like PCI-DSS.</span></span> <span data-ttu-id="6c76c-139">Dans le cadre du développement de cette fonctionnalité, nous avons collaboré avec des auditeurs de conformité pour garantir que les clients utilisant Cosmos DB répondent à leurs exigences sans devoir gérer les clés eux-mêmes.</span><span class="sxs-lookup"><span data-stu-id="6c76c-139">As part of building this feature, we worked with compliance auditors to ensure that customers who use Cosmos DB meet their requirements without the need to manage keys themselves.</span></span>
<span data-ttu-id="6c76c-140">C’est pourquoi nous n’offrons actuellement pas aux utilisateurs la possibilité de s’occuper eux-mêmes de la gestion des clés.</span><span class="sxs-lookup"><span data-stu-id="6c76c-140">As a result, we currently do not offer users the option to burden themselves with key management.</span></span>

### <a name="q-what-regions-have-encryption-turned-on"></a><span data-ttu-id="6c76c-141">Q : Dans quelles régions le chiffrement est-il activé ?</span><span class="sxs-lookup"><span data-stu-id="6c76c-141">Q: What regions have encryption turned on?</span></span>
<span data-ttu-id="6c76c-142">R : Le chiffrement est activé dans toutes les régions Azure Cosmos DB pour l’ensemble des données utilisateur.</span><span class="sxs-lookup"><span data-stu-id="6c76c-142">A: All Azure Cosmos DB regions have encryption turned on for all user data.</span></span>

### <a name="q-does-encryption-affect-the-performance-latency-and-throughput-slas"></a><span data-ttu-id="6c76c-143">Q : Le chiffrement modifie-t-il les SLA en termes de débit et de latence des performances ?</span><span class="sxs-lookup"><span data-stu-id="6c76c-143">Q: Does encryption affect the performance latency and throughput SLAs?</span></span>
<span data-ttu-id="6c76c-144">R : L’activation du chiffrement au repos sur tous les comptes (existants et nouveaux) ne modifie en rien les SLA en termes de performance.</span><span class="sxs-lookup"><span data-stu-id="6c76c-144">A: There is no impact or changes to the performance SLAs now that encryption at rest is enabled for all existing and new accounts.</span></span> <span data-ttu-id="6c76c-145">Pour en savoir plus sur les dernières garanties, consultez la page [SLA pour Azure Cosmos DB](https://azure.microsoft.com/support/legal/sla/cosmos-db).</span><span class="sxs-lookup"><span data-stu-id="6c76c-145">You can read more on the [SLA for Cosmos DB](https://azure.microsoft.com/support/legal/sla/cosmos-db) page to see the latest guarantees.</span></span>

### <a name="q-does-the-local-emulator-support-encryption-at-rest"></a><span data-ttu-id="6c76c-146">Q : L’émulateur local prend-il en charge le chiffrement au repos ?</span><span class="sxs-lookup"><span data-stu-id="6c76c-146">Q: Does the local emulator support encryption at rest?</span></span>
<span data-ttu-id="6c76c-147">R : L’émulateur est un outil de développement/test autonome, qui n’exploite pas les services de gestion de clés que le service Cosmos DB géré utilise.</span><span class="sxs-lookup"><span data-stu-id="6c76c-147">A: The emulator is a standalone dev/test tool and does not use the key management services that the managed Cosmos DB service uses.</span></span> <span data-ttu-id="6c76c-148">Nous vous conseillons d’activer BitLocker sur les lecteurs où vous stockez des données de test d’émulateur sensibles.</span><span class="sxs-lookup"><span data-stu-id="6c76c-148">Our recommendation is to enable BitLocker on drives where you are storing sensitive emulator test data.</span></span> <span data-ttu-id="6c76c-149">[L’émulateur prend en charge la modification du répertoire de données par défaut](local-emulator.md) ainsi que l’utilisation d’un emplacement connu.</span><span class="sxs-lookup"><span data-stu-id="6c76c-149">The [emulator supports changing the default data directory](local-emulator.md) as well as using a well-known location.</span></span>

## <a name="next-steps"></a><span data-ttu-id="6c76c-150">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="6c76c-150">Next steps</span></span>

<span data-ttu-id="6c76c-151">Pour une vue d’ensemble de la sécurité de Cosmos DB et des dernières améliorations, consultez [Sécurité de la base de données Azure Cosmos DB](database-security.md).</span><span class="sxs-lookup"><span data-stu-id="6c76c-151">For an overview of Cosmos DB security and the latest improvements, see [Azure Cosmos DB database security](database-security.md).</span></span>
<span data-ttu-id="6c76c-152">Pour plus d’informations sur les certifications Microsoft, consultez le [Centre de confidentialité Azure](https://azure.microsoft.com/en-us/support/trust-center/).</span><span class="sxs-lookup"><span data-stu-id="6c76c-152">For more information about Microsoft certifications, see the [Azure Trust Center](https://azure.microsoft.com/en-us/support/trust-center/).</span></span>
