---
title: "aaaAzure Cosmos Automation de base de données - gestion avec Powershell | Documents Microsoft"
description: "Utilisez Azure Powershell pour gérer vos comptes Azure Cosmos DB."
services: cosmos-db
author: dmakwana
manager: jhubbard
editor: 
tags: azure-resource-manager
documentationcenter: 
ms.assetid: 
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/21/2017
ms.author: dimakwan
ms.openlocfilehash: 3239fb815918a0e47bff69fcd1ab6562519e429b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="create-an-azure-cosmos-db-account-using-powershell"></a><span data-ttu-id="3f0a9-103">Créer un compte Azure Cosmos DB à l’aide de PowerShell</span><span class="sxs-lookup"><span data-stu-id="3f0a9-103">Create an Azure Cosmos DB account using PowerShell</span></span>

<span data-ttu-id="3f0a9-104">Hello guide suivant décrit la commandes tooautomate gestion de vos comptes de base de données de base de données Azure Cosmos à l’aide d’Azure Powershell.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-104">hello following guide describes commands tooautomate management of your Azure Cosmos DB database accounts using Azure Powershell.</span></span> <span data-ttu-id="3f0a9-105">Il inclut également des clés de compte toomanage de commandes et les priorités de basculement dans [des comptes de base de données de plusieurs régions][scaling-globally].</span><span class="sxs-lookup"><span data-stu-id="3f0a9-105">It also includes commands toomanage account keys and failover priorities in [multi-region database accounts][scaling-globally].</span></span> <span data-ttu-id="3f0a9-106">Mise à jour de votre compte de base de données vous permet de stratégies de cohérence toomodify et ajouter/supprimer des régions.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-106">Updating your database account allows you toomodify consistency policies and add/remove regions.</span></span> <span data-ttu-id="3f0a9-107">Pour la gestion de votre compte de base de données Azure Cosmos inter-plateformes, vous pouvez utiliser soit [CLI d’Azure](cli-samples.md), hello [API REST de fournisseur de ressources][rp-rest-api], ou hello [Azure portail](create-documentdb-dotnet.md#create-account).</span><span class="sxs-lookup"><span data-stu-id="3f0a9-107">For cross-platform management of your Azure Cosmos DB account, you can use either [Azure CLI](cli-samples.md), hello [Resource Provider REST API][rp-rest-api], or hello [Azure portal](create-documentdb-dotnet.md#create-account).</span></span>

## <a name="getting-started"></a><span data-ttu-id="3f0a9-108">Mise en route</span><span class="sxs-lookup"><span data-stu-id="3f0a9-108">Getting Started</span></span>

<span data-ttu-id="3f0a9-109">Suivez les instructions de hello dans [comment tooinstall et configurer Azure PowerShell] [ powershell-install-configure] tooinstall et vous connecter tooyour Azure Resource Manager compte dans Powershell.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-109">Follow hello instructions in [How tooinstall and configure Azure PowerShell][powershell-install-configure] tooinstall and log in tooyour Azure Resource Manager account in Powershell.</span></span>

### <a name="notes"></a><span data-ttu-id="3f0a9-110">Remarques</span><span class="sxs-lookup"><span data-stu-id="3f0a9-110">Notes</span></span>

* <span data-ttu-id="3f0a9-111">Si vous souhaitez que hello tooexecute suivant les commandes sans demander confirmation de l’utilisateur, ajouter hello `-Force` indicateur toohello commande.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-111">If you would like tooexecute hello following commands without requiring user confirmation, append hello `-Force` flag toohello command.</span></span>
* <span data-ttu-id="3f0a9-112">Tous les hello suivant les commandes sont synchrones.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-112">All hello following commands are synchronous.</span></span>

## <span data-ttu-id="3f0a9-113"><a id="create-documentdb-account-powershell"></a> Créer un compte Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="3f0a9-113"><a id="create-documentdb-account-powershell"></a> Create an Azure Cosmos DB Account</span></span>

<span data-ttu-id="3f0a9-114">Cette commande vous permet de toocreate un compte de base de données de base de données Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-114">This command allows you toocreate an Azure Cosmos DB database account.</span></span> <span data-ttu-id="3f0a9-115">Configurez votre nouveau compte de base de données pour une seule ou [plusieurs régions][scaling-globally] avec une [stratégie de cohérence](consistency-levels.md) déterminée.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-115">Configure your new database account as either single-region or [multi-region][scaling-globally] with a certain [consistency policy](consistency-levels.md).</span></span>

    $locations = @(@{"locationName"="<write-region-location>"; "failoverPriority"=0}, @{"locationName"="<read-region-location>"; "failoverPriority"=1})
    $iprangefilter = "<ip-range-filter>"
    $consistencyPolicy = @{"defaultConsistencyLevel"="<default-consistency-level>"; "maxIntervalInSeconds"="<max-interval>"; "maxStalenessPrefix"="<max-staleness-prefix>"}
    $CosmosDBProperties = @{"databaseAccountOfferType"="Standard"; "locations"=$locations; "consistencyPolicy"=$consistencyPolicy; "ipRangeFilter"=$iprangefilter}
    New-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName <resource-group-name>  -Location "<resource-group-location>" -Name <database-account-name> -Properties $CosmosDBProperties
    
* <span data-ttu-id="3f0a9-116">`<write-region-location>`nom de l’emplacement de hello Hello écrire la région du compte de base de données hello.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-116">`<write-region-location>` hello location name of hello write region of hello database account.</span></span> <span data-ttu-id="3f0a9-117">Cet emplacement est requis toohave une valeur de priorité de basculement de 0.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-117">This location is required toohave a failover priority value of 0.</span></span> <span data-ttu-id="3f0a9-118">Il doit y avoir exactement une région d’écriture par compte de base de données.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-118">There must be exactly one write region per database account.</span></span>
* <span data-ttu-id="3f0a9-119">`<read-region-location>`nom de l’emplacement de hello Hello lire la région du compte de base de données hello.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-119">`<read-region-location>` hello location name of hello read region of hello database account.</span></span> <span data-ttu-id="3f0a9-120">Cet emplacement est requis toohave une valeur de priorité de basculement supérieure à 0.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-120">This location is required toohave a failover priority value of greater than 0.</span></span> <span data-ttu-id="3f0a9-121">Un compte de base de données peut présenter plusieurs régions de lecture.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-121">There can be more than one read regions per database account.</span></span>
* <span data-ttu-id="3f0a9-122">`<ip-range-filter>`Spécifie les ensemble de hello d’adresses IP ou des plages d’adresses IP dans toobe de forme CIDR inclus en tant que hello autorisée de la liste des adresses IP de client pour un compte de base de données spécifique.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-122">`<ip-range-filter>` Specifies hello set of IP addresses or IP address ranges in CIDR form toobe included as hello allowed list of client IPs for a given database account.</span></span> <span data-ttu-id="3f0a9-123">Les plages/adresses IP doivent être séparées par des virgules et ne doivent pas contenir d’espaces.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-123">IP addresses/ranges must be comma separated and must not contain any spaces.</span></span> <span data-ttu-id="3f0a9-124">Pour plus d’informations, consultez [Prise en charge du pare-feu dans Azure Cosmos DB](firewall-support.md).</span><span class="sxs-lookup"><span data-stu-id="3f0a9-124">For more information, see [Azure Cosmos DB Firewall Support](firewall-support.md)</span></span>
* <span data-ttu-id="3f0a9-125">`<default-consistency-level>`niveau de cohérence Hello par défaut de hello compte de base de données Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-125">`<default-consistency-level>` hello default consistency level of hello Azure Cosmos DB account.</span></span> <span data-ttu-id="3f0a9-126">Pour plus d’informations, consultez [Niveaux de cohérence dans Azure Cosmos DB](consistency-levels.md).</span><span class="sxs-lookup"><span data-stu-id="3f0a9-126">For more information, see [Consistency Levels in Azure Cosmos DB](consistency-levels.md).</span></span>
* <span data-ttu-id="3f0a9-127">`<max-interval>`Lorsqu’il est utilisé avec une cohérence Bounded Staleness, cette valeur représente la quantité de temps hello de péremption (en secondes) au terme.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-127">`<max-interval>` When used with Bounded Staleness consistency, this value represents hello time amount of staleness (in seconds) tolerated.</span></span> <span data-ttu-id="3f0a9-128">Les valeurs acceptables sont comprises entre 1 et 100.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-128">Accepted range for this value is 1 - 100.</span></span>
* <span data-ttu-id="3f0a9-129">`<max-staleness-prefix>`Lorsqu’il est utilisé avec une cohérence Bounded Staleness, cette valeur représente nombre hello de requêtes périmées tolérée.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-129">`<max-staleness-prefix>` When used with Bounded Staleness consistency, this value represents hello number of stale requests tolerated.</span></span> <span data-ttu-id="3f0a9-130">Les valeurs acceptables sont 1-2, 147, 483 et 647.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-130">Accepted range for this value is 1 – 2,147,483,647.</span></span>
* <span data-ttu-id="3f0a9-131">`<resource-group-name>`nom Hello Hello [groupe de ressources Azure] [ azure-resource-groups] compte de base de données de base de données Azure Cosmos nouvelle toowhich hello appartient.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-131">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="3f0a9-132">`<resource-group-location>`emplacement Hello Hello compte de base de données nouvelle base de données Azure Cosmos de groupe de ressources Azure toowhich hello appartient.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-132">`<resource-group-location>` hello location of hello Azure Resource Group toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="3f0a9-133">`<database-account-name>`nom de Hello de hello toobe du compte de base de données de base de données Azure Cosmos créé.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-133">`<database-account-name>` hello name of hello Azure Cosmos DB database account toobe created.</span></span> <span data-ttu-id="3f0a9-134">Il peut uniquement utiliser des minuscules, nombres hello '-' caractère et doit être comprise entre 3 et 50 caractères.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-134">It can only use lowercase letters, numbers, hello '-' character, and must be between 3 and 50 characters.</span></span>

<span data-ttu-id="3f0a9-135">Exemple :</span><span class="sxs-lookup"><span data-stu-id="3f0a9-135">Example:</span></span> 

    $locations = @(@{"locationName"="West US"; "failoverPriority"=0}, @{"locationName"="East US"; "failoverPriority"=1})
    $iprangefilter = ""
    $consistencyPolicy = @{"defaultConsistencyLevel"="BoundedStaleness"; "maxIntervalInSeconds"=5; "maxStalenessPrefix"=100}
    $CosmosDBProperties = @{"databaseAccountOfferType"="Standard"; "locations"=$locations; "consistencyPolicy"=$consistencyPolicy; "ipRangeFilter"=$iprangefilter}
    New-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Location "West US" -Name "docdb-test" -Properties $CosmosDBProperties

### <a name="notes"></a><span data-ttu-id="3f0a9-136">Remarques</span><span class="sxs-lookup"><span data-stu-id="3f0a9-136">Notes</span></span>
* <span data-ttu-id="3f0a9-137">Hello exemple précédent crée un compte de base de données avec deux zones.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-137">hello preceding example creates a database account with two regions.</span></span> <span data-ttu-id="3f0a9-138">Il est également possible de toocreate un compte de base de données avec une région (qui est désignée en tant que zone d’écriture hello et avoir une valeur de priorité de basculement de 0) ou plus de deux régions.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-138">It is also possible toocreate a database account with either one region (which is designated as hello write region and have a failover priority value of 0) or more than two regions.</span></span> <span data-ttu-id="3f0a9-139">Pour plus d’informations, consultez la section des [comptes de base de données multi-régions][scaling-globally].</span><span class="sxs-lookup"><span data-stu-id="3f0a9-139">For more information, see [multi-region database accounts][scaling-globally].</span></span>
* <span data-ttu-id="3f0a9-140">emplacements de Hello doivent être des régions dans lequel la base de données Azure Cosmos est généralement disponible.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-140">hello locations must be regions in which Azure Cosmos DB is generally available.</span></span> <span data-ttu-id="3f0a9-141">la liste actuelle des régions Hello est fournie sur hello [page des régions Azure](https://azure.microsoft.com/regions/#services).</span><span class="sxs-lookup"><span data-stu-id="3f0a9-141">hello current list of regions is provided on hello [Azure Regions page](https://azure.microsoft.com/regions/#services).</span></span>

## <span data-ttu-id="3f0a9-142"><a id="update-documentdb-account-powershell"></a> Mise à jour d’un compte de base de données DocumentDB</span><span class="sxs-lookup"><span data-stu-id="3f0a9-142"><a id="update-documentdb-account-powershell"></a> Update a DocumentDB Database Account</span></span>

<span data-ttu-id="3f0a9-143">Cette commande vous permet de tooupdate vos propriétés de compte de base de données de base de données Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-143">This command allows you tooupdate your Azure Cosmos DB database account properties.</span></span> <span data-ttu-id="3f0a9-144">Cela inclut la règle de cohérence hello et emplacements de hello quel compte de base de données hello existe dans.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-144">This includes hello consistency policy and hello locations which hello database account exists in.</span></span>

> [!NOTE]
> <span data-ttu-id="3f0a9-145">Cette commande vous permet de régions tooadd et de suppression, mais ne vous autorise pas toomodify les priorités de basculement.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-145">This command allows you tooadd and remove regions but does not allow you toomodify failover priorities.</span></span> <span data-ttu-id="3f0a9-146">toomodify les priorités de basculement, consultez [ci-dessous](#modify-failover-priority-powershell).</span><span class="sxs-lookup"><span data-stu-id="3f0a9-146">toomodify failover priorities, see [below](#modify-failover-priority-powershell).</span></span>

    $locations = @(@{"locationName"="<write-region-location>"; "failoverPriority"=0}, @{"locationName"="<read-region-location>"; "failoverPriority"=1})
    $iprangefilter = "<ip-range-filter>"
    $consistencyPolicy = @{"defaultConsistencyLevel"="<default-consistency-level>"; "maxIntervalInSeconds"="<max-interval>"; "maxStalenessPrefix"="<max-staleness-prefix>"}
    $CosmosDBProperties = @{"databaseAccountOfferType"="Standard"; "locations"=$locations; "consistencyPolicy"=$consistencyPolicy; "ipRangeFilter"=$iprangefilter}
    Set-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName <resource-group-name> -Name <database-account-name> -Properties $CosmosDBProperties
    
* <span data-ttu-id="3f0a9-147">`<write-region-location>`nom de l’emplacement de hello Hello écrire la région du compte de base de données hello.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-147">`<write-region-location>` hello location name of hello write region of hello database account.</span></span> <span data-ttu-id="3f0a9-148">Cet emplacement est requis toohave une valeur de priorité de basculement de 0.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-148">This location is required toohave a failover priority value of 0.</span></span> <span data-ttu-id="3f0a9-149">Il doit y avoir exactement une région d’écriture par compte de base de données.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-149">There must be exactly one write region per database account.</span></span>
* <span data-ttu-id="3f0a9-150">`<read-region-location>`nom de l’emplacement de hello Hello lire la région du compte de base de données hello.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-150">`<read-region-location>` hello location name of hello read region of hello database account.</span></span> <span data-ttu-id="3f0a9-151">Cet emplacement est requis toohave une valeur de priorité de basculement supérieure à 0.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-151">This location is required toohave a failover priority value of greater than 0.</span></span> <span data-ttu-id="3f0a9-152">Un compte de base de données peut présenter plusieurs régions de lecture.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-152">There can be more than one read regions per database account.</span></span>
* <span data-ttu-id="3f0a9-153">`<default-consistency-level>`niveau de cohérence Hello par défaut de hello compte de base de données Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-153">`<default-consistency-level>` hello default consistency level of hello Azure Cosmos DB account.</span></span> <span data-ttu-id="3f0a9-154">Pour plus d’informations, consultez [Niveaux de cohérence dans Azure Cosmos DB](consistency-levels.md).</span><span class="sxs-lookup"><span data-stu-id="3f0a9-154">For more information, see [Consistency Levels in Azure Cosmos DB](consistency-levels.md).</span></span>
* <span data-ttu-id="3f0a9-155">`<ip-range-filter>`Spécifie les ensemble de hello d’adresses IP ou des plages d’adresses IP dans toobe de forme CIDR inclus en tant que hello autorisée de la liste des adresses IP de client pour un compte de base de données spécifique.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-155">`<ip-range-filter>` Specifies hello set of IP addresses or IP address ranges in CIDR form toobe included as hello allowed list of client IPs for a given database account.</span></span> <span data-ttu-id="3f0a9-156">Les plages/adresses IP doivent être séparées par des virgules et ne doivent pas contenir d’espaces.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-156">IP addresses/ranges must be comma separated and must not contain any spaces.</span></span> <span data-ttu-id="3f0a9-157">Pour plus d’informations, consultez [Prise en charge du pare-feu dans Azure Cosmos DB](firewall-support.md).</span><span class="sxs-lookup"><span data-stu-id="3f0a9-157">For more information, see [Azure Cosmos DB Firewall Support](firewall-support.md)</span></span>
* <span data-ttu-id="3f0a9-158">`<max-interval>`Lorsqu’il est utilisé avec une cohérence Bounded Staleness, cette valeur représente la quantité de temps hello de péremption (en secondes) au terme.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-158">`<max-interval>` When used with Bounded Staleness consistency, this value represents hello time amount of staleness (in seconds) tolerated.</span></span> <span data-ttu-id="3f0a9-159">Les valeurs acceptables sont comprises entre 1 et 100.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-159">Accepted range for this value is 1 - 100.</span></span>
* <span data-ttu-id="3f0a9-160">`<max-staleness-prefix>`Lorsqu’il est utilisé avec une cohérence Bounded Staleness, cette valeur représente nombre hello de requêtes périmées tolérée.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-160">`<max-staleness-prefix>` When used with Bounded Staleness consistency, this value represents hello number of stale requests tolerated.</span></span> <span data-ttu-id="3f0a9-161">Les valeurs acceptables sont 1-2, 147, 483 et 647.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-161">Accepted range for this value is 1 – 2,147,483,647.</span></span>
* <span data-ttu-id="3f0a9-162">`<resource-group-name>`nom Hello Hello [groupe de ressources Azure] [ azure-resource-groups] compte de base de données de base de données Azure Cosmos nouvelle toowhich hello appartient.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-162">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="3f0a9-163">`<resource-group-location>`emplacement Hello Hello compte de base de données nouvelle base de données Azure Cosmos de groupe de ressources Azure toowhich hello appartient.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-163">`<resource-group-location>` hello location of hello Azure Resource Group toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="3f0a9-164">`<database-account-name>`nom de Hello de hello toobe du compte de base de données de base de données Azure Cosmos mis à jour.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-164">`<database-account-name>` hello name of hello Azure Cosmos DB database account toobe updated.</span></span>

<span data-ttu-id="3f0a9-165">Exemple :</span><span class="sxs-lookup"><span data-stu-id="3f0a9-165">Example:</span></span> 

    $locations = @(@{"locationName"="West US"; "failoverPriority"=0}, @{"locationName"="East US"; "failoverPriority"=1})
    $iprangefilter = ""
    $consistencyPolicy = @{"defaultConsistencyLevel"="BoundedStaleness"; "maxIntervalInSeconds"=5; "maxStalenessPrefix"=100}
    $CosmosDBProperties = @{"databaseAccountOfferType"="Standard"; "locations"=$locations; "consistencyPolicy"=$consistencyPolicy; "ipRangeFilter"=$iprangefilter}
    Set-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test" -Properties $CosmosDBProperties

## <span data-ttu-id="3f0a9-166"><a id="delete-documentdb-account-powershell"></a> Suppression d’un compte de base de données DocumentDB</span><span class="sxs-lookup"><span data-stu-id="3f0a9-166"><a id="delete-documentdb-account-powershell"></a> Delete a DocumentDB Database Account</span></span>

<span data-ttu-id="3f0a9-167">Cette commande vous permet de toodelete un compte de base de données de base de données Azure Cosmos existant.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-167">This command allows you toodelete an existing Azure Cosmos DB database account.</span></span>

    Remove-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "<resource-group-name>" -Name "<database-account-name>"
    
* <span data-ttu-id="3f0a9-168">`<resource-group-name>`nom Hello Hello [groupe de ressources Azure] [ azure-resource-groups] compte de base de données de base de données Azure Cosmos nouvelle toowhich hello appartient.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-168">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="3f0a9-169">`<database-account-name>`nom de Hello de hello toobe du compte de base de données de base de données Azure Cosmos supprimé.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-169">`<database-account-name>` hello name of hello Azure Cosmos DB database account toobe deleted.</span></span>

<span data-ttu-id="3f0a9-170">Exemple :</span><span class="sxs-lookup"><span data-stu-id="3f0a9-170">Example:</span></span>

    Remove-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test"

## <span data-ttu-id="3f0a9-171"><a id="get-documentdb-properties-powershell"></a> Obtention des propriétés d’un compte de base de données DocumentDB</span><span class="sxs-lookup"><span data-stu-id="3f0a9-171"><a id="get-documentdb-properties-powershell"></a> Get Properties of a DocumentDB Database Account</span></span>

<span data-ttu-id="3f0a9-172">Cette commande vous permet de propriétés de hello tooget d’un compte de base de données de base de données Azure Cosmos existant.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-172">This command allows you tooget hello properties of an existing Azure Cosmos DB database account.</span></span>

    Get-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "<resource-group-name>" -Name "<database-account-name>"

* <span data-ttu-id="3f0a9-173">`<resource-group-name>`nom Hello Hello [groupe de ressources Azure] [ azure-resource-groups] compte de base de données de base de données Azure Cosmos nouvelle toowhich hello appartient.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-173">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="3f0a9-174">`<database-account-name>`nom Hello Hello compte de base de données de base de données Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-174">`<database-account-name>` hello name of hello Azure Cosmos DB database account.</span></span>

<span data-ttu-id="3f0a9-175">Exemple :</span><span class="sxs-lookup"><span data-stu-id="3f0a9-175">Example:</span></span>

    Get-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test"

## <span data-ttu-id="3f0a9-176"><a id="update-tags-powershell"></a> Mettre à jour les balises d’un compte de base de données Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="3f0a9-176"><a id="update-tags-powershell"></a> Update Tags of an Azure Cosmos DB Database Account</span></span>

<span data-ttu-id="3f0a9-177">Hello exemple suivant décrit comment tooset [les balises de ressources Azure] [ azure-resource-tags] pour votre base de données Azure Cosmos compte base de données.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-177">hello following example describes how tooset [Azure resource tags][azure-resource-tags] for your Azure Cosmos DB database account.</span></span>

> [!NOTE]
> <span data-ttu-id="3f0a9-178">Cette commande peut être combinée avec hello créer ou mettre à jour des commandes en ajoutant hello `-Tags` indicateur avec le paramètre correspondant de hello.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-178">This command can be combined with hello create or update commands by appending hello `-Tags` flag with hello corresponding parameter.</span></span>

<span data-ttu-id="3f0a9-179">Exemple :</span><span class="sxs-lookup"><span data-stu-id="3f0a9-179">Example:</span></span>

    $tags = @{"dept" = "Finance”; environment = “Production”}
    Set-AzureRmResource -ResourceType “Microsoft.DocumentDB/databaseAccounts”  -ResourceGroupName "rg-test" -Name "docdb-test" -Tags $tags

## <span data-ttu-id="3f0a9-180"><a id="list-account-keys-powershell"></a> Liste des clés de comptes</span><span class="sxs-lookup"><span data-stu-id="3f0a9-180"><a id="list-account-keys-powershell"></a> List Account Keys</span></span>

<span data-ttu-id="3f0a9-181">Lorsque vous créez un compte de base de données Azure Cosmos, service de hello génère deux clés d’accès maître qui peuvent être utilisés pour l’authentification lors de l’accès hello compte de base de données Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-181">When you create an Azure Cosmos DB account, hello service generates two master access keys that can be used for authentication when hello Azure Cosmos DB account is accessed.</span></span> <span data-ttu-id="3f0a9-182">En fournissant deux clés d’accès, base de données Azure Cosmos vous permet de clés de hello tooregenerate avec aucune tooyour d’interruption du compte de base de données Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-182">By providing two access keys, Azure Cosmos DB enables you tooregenerate hello keys with no interruption tooyour Azure Cosmos DB account.</span></span> <span data-ttu-id="3f0a9-183">Des clés en lecture seule pour l’authentification des opérations en lecture seule sont également disponibles.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-183">Read-only keys for authenticating read-only operations are also available.</span></span> <span data-ttu-id="3f0a9-184">Il existe deux clés en lecture et écriture (primaire et secondaire) et deux clés en lecture seule (primaire et secondaire).</span><span class="sxs-lookup"><span data-stu-id="3f0a9-184">There are two read-write keys (primary and secondary) and two read-only keys (primary and secondary).</span></span>

    $keys = Invoke-AzureRmResourceAction -Action listKeys -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "<resource-group-name>" -Name "<database-account-name>"

* <span data-ttu-id="3f0a9-185">`<resource-group-name>`nom Hello Hello [groupe de ressources Azure] [ azure-resource-groups] compte de base de données de base de données Azure Cosmos nouvelle toowhich hello appartient.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-185">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="3f0a9-186">`<database-account-name>`nom Hello Hello compte de base de données de base de données Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-186">`<database-account-name>` hello name of hello Azure Cosmos DB database account.</span></span>

<span data-ttu-id="3f0a9-187">Exemple :</span><span class="sxs-lookup"><span data-stu-id="3f0a9-187">Example:</span></span>

    $keys = Invoke-AzureRmResourceAction -Action listKeys -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test"

## <span data-ttu-id="3f0a9-188"><a id="list-connection-strings-powershell"></a> Répertorier les chaînes de connexion</span><span class="sxs-lookup"><span data-stu-id="3f0a9-188"><a id="list-connection-strings-powershell"></a> List Connection Strings</span></span>

<span data-ttu-id="3f0a9-189">Pour les comptes de MongoDB, hello tooconnect de chaîne de connexion que votre compte de base de données MongoDB application toohello peut être récupérée à l’aide de hello commande suivante.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-189">For MongoDB accounts, hello connection string tooconnect your MongoDB app toohello database account can be retrieved using hello following command.</span></span>

    $keys = Invoke-AzureRmResourceAction -Action listConnectionStrings -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "<resource-group-name>" -Name "<database-account-name>"

* <span data-ttu-id="3f0a9-190">`<resource-group-name>`nom Hello Hello [groupe de ressources Azure] [ azure-resource-groups] compte de base de données de base de données Azure Cosmos nouvelle toowhich hello appartient.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-190">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="3f0a9-191">`<database-account-name>`nom Hello Hello compte de base de données de base de données Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-191">`<database-account-name>` hello name of hello Azure Cosmos DB database account.</span></span>

<span data-ttu-id="3f0a9-192">Exemple :</span><span class="sxs-lookup"><span data-stu-id="3f0a9-192">Example:</span></span>

    $keys = Invoke-AzureRmResourceAction -Action listConnectionStrings -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test"

## <span data-ttu-id="3f0a9-193"><a id="regenerate-account-key-powershell"></a> Régénération de la clé de compte</span><span class="sxs-lookup"><span data-stu-id="3f0a9-193"><a id="regenerate-account-key-powershell"></a> Regenerate Account Key</span></span>

<span data-ttu-id="3f0a9-194">Vous devez modifier le compte de base de données Azure Cosmos tooyour hello accès clés périodiquement toohelp renforcer vos connexions.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-194">You should change hello access keys tooyour Azure Cosmos DB account periodically toohelp keep your connections more secure.</span></span> <span data-ttu-id="3f0a9-195">Deux clés d’accès sont affectés tooenable connexions toomaintain vous toohello compte de base de données Azure Cosmos à l’aide d’une clé d’accès pendant la régénération de hello autre clé d’accès.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-195">Two access keys are assigned tooenable you toomaintain connections toohello Azure Cosmos DB account using one access key while you regenerate hello other access key.</span></span>

    Invoke-AzureRmResourceAction -Action regenerateKey -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "<resource-group-name>" -Name "<database-account-name>" -Parameters @{"keyKind"="<key-kind>"}

* <span data-ttu-id="3f0a9-196">`<resource-group-name>`nom Hello Hello [groupe de ressources Azure] [ azure-resource-groups] compte de base de données de base de données Azure Cosmos nouvelle toowhich hello appartient.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-196">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="3f0a9-197">`<database-account-name>`nom Hello Hello compte de base de données de base de données Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-197">`<database-account-name>` hello name of hello Azure Cosmos DB database account.</span></span>
* <span data-ttu-id="3f0a9-198">`<key-kind>`Un des types hello quatre de clés : [« Primaire » | » Secondaire « | » PrimaryReadonly « | » SecondaryReadonly »] que vous aimeriez tooregenerate.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-198">`<key-kind>` One of hello four types of keys: ["Primary"|"Secondary"|"PrimaryReadonly"|"SecondaryReadonly"] that you would like tooregenerate.</span></span>

<span data-ttu-id="3f0a9-199">Exemple :</span><span class="sxs-lookup"><span data-stu-id="3f0a9-199">Example:</span></span>

    Invoke-AzureRmResourceAction -Action regenerateKey -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test" -Parameters @{"keyKind"="Primary"}

## <span data-ttu-id="3f0a9-200"><a id="modify-failover-priority-powershell"></a> Modifier la priorité de basculement d’un compte de base de données Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="3f0a9-200"><a id="modify-failover-priority-powershell"></a> Modify Failover Priority of an Azure Cosmos DB Database Account</span></span>

<span data-ttu-id="3f0a9-201">Pour les comptes de la base de données de plusieurs régions, vous pouvez modifier la priorité de basculement hello Hello différentes régions hello du compte de base de données de base de données Azure Cosmos existe dans.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-201">For multi-region database accounts, you can change hello failover priority of hello various regions which hello Azure Cosmos DB database account exists in.</span></span> <span data-ttu-id="3f0a9-202">Pour plus d’informations sur le basculement dans votre compte de base de données Azure Cosmos DB, consultez la section [Azure Cosmos DB, un service de base de données mondialement distribué sur Azure][distribute-data-globally].</span><span class="sxs-lookup"><span data-stu-id="3f0a9-202">For more information on failover in your Azure Cosmos DB database account, see [Distribute data globally with Azure Cosmos DB][distribute-data-globally].</span></span>

    $failoverPolicies = @(@{"locationName"="<write-region-location>"; "failoverPriority"=0},@{"locationName"="<read-region-location>"; "failoverPriority"=1})
    Invoke-AzureRmResourceAction -Action failoverPriorityChange -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "<resource-group-name>" -Name "<database-account-name>" -Parameters @{"failoverPolicies"=$failoverPolicies}

* <span data-ttu-id="3f0a9-203">`<write-region-location>`nom de l’emplacement de hello Hello écrire la région du compte de base de données hello.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-203">`<write-region-location>` hello location name of hello write region of hello database account.</span></span> <span data-ttu-id="3f0a9-204">Cet emplacement est requis toohave une valeur de priorité de basculement de 0.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-204">This location is required toohave a failover priority value of 0.</span></span> <span data-ttu-id="3f0a9-205">Il doit y avoir exactement une région d’écriture par compte de base de données.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-205">There must be exactly one write region per database account.</span></span>
* <span data-ttu-id="3f0a9-206">`<read-region-location>`nom de l’emplacement de hello Hello lire la région du compte de base de données hello.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-206">`<read-region-location>` hello location name of hello read region of hello database account.</span></span> <span data-ttu-id="3f0a9-207">Cet emplacement est requis toohave une valeur de priorité de basculement supérieure à 0.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-207">This location is required toohave a failover priority value of greater than 0.</span></span> <span data-ttu-id="3f0a9-208">Un compte de base de données peut présenter plusieurs régions de lecture.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-208">There can be more than one read regions per database account.</span></span>
* <span data-ttu-id="3f0a9-209">`<resource-group-name>`nom Hello Hello [groupe de ressources Azure] [ azure-resource-groups] compte de base de données de base de données Azure Cosmos nouvelle toowhich hello appartient.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-209">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="3f0a9-210">`<database-account-name>`nom Hello Hello compte de base de données de base de données Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="3f0a9-210">`<database-account-name>` hello name of hello Azure Cosmos DB database account.</span></span>

<span data-ttu-id="3f0a9-211">Exemple :</span><span class="sxs-lookup"><span data-stu-id="3f0a9-211">Example:</span></span>

    $failoverPolicies = @(@{"locationName"="East US"; "failoverPriority"=0},@{"locationName"="West US"; "failoverPriority"=1})
    Invoke-AzureRmResourceAction -Action failoverPriorityChange -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test" -Parameters @{"failoverPolicies"=$failoverPolicies}

## <a name="next-steps"></a><span data-ttu-id="3f0a9-212">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="3f0a9-212">Next steps</span></span>

* <span data-ttu-id="3f0a9-213">tooconnect à l’aide de .NET, consultez [se connecter et requête avec .NET](create-documentdb-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="3f0a9-213">tooconnect using .NET, see [Connect and query with .NET](create-documentdb-dotnet.md).</span></span>
* <span data-ttu-id="3f0a9-214">tooconnect à l’aide de .NET Core, consultez [se connecter et requête avec le .NET Core](create-documentdb-dotnet-core.md).</span><span class="sxs-lookup"><span data-stu-id="3f0a9-214">tooconnect using .NET Core, see [Connect and query with .NET Core](create-documentdb-dotnet-core.md).</span></span>
* <span data-ttu-id="3f0a9-215">tooconnect à l’aide de Node.js, consultez [se connecter et requête avec Node.js et une application MongoDB](create-mongodb-nodejs.md).</span><span class="sxs-lookup"><span data-stu-id="3f0a9-215">tooconnect using Node.js, see [Connect and query with Node.js and a MongoDB app](create-mongodb-nodejs.md).</span></span>

<!--Reference style links - using these makes hello source content way more readable than using inline links-->
[powershell-install-configure]: https://docs.microsoft.com/azure/powershell-install-configure
[scaling-globally]: distribute-data-globally.md#EnableGlobalDistribution
[distribute-data-globally]: distribute-data-globally.md
[azure-resource-groups]: https://docs.microsoft.com/azure/azure-resource-manager/resource-group-overview#resource-groups
[azure-resource-tags]: https://docs.microsoft.com/azure/azure-resource-manager/resource-group-using-tags
[rp-rest-api]: https://docs.microsoft.com/rest/api/documentdbresourceprovider/
