---
title: "Sécurité Hadoop : clusters HDInsight joints à un domaine (Azure) | Microsoft Docs"
description: "Découvrir..."
services: hdinsight
documentationcenter: 
author: saurinsh
manager: jhubbard
editor: cgronlun
tags: azure-portal
ms.assetid: 7dc6847d-10d4-4b5c-9c83-cc513cf91965
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 10/31/2016
ms.author: saurinsh
ms.openlocfilehash: 303be1d303df8074283cb1d37c74923cca80ae59
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/29/2017
---
# <a name="an-introduction-to-hadoop-security-with-domain-joined-hdinsight-clusters-preview"></a><span data-ttu-id="084ba-103">Introduction aux fonctions de sécurité Hadoop sur la base de clusters HDInsight joints à un domaine (version préliminaire)</span><span class="sxs-lookup"><span data-stu-id="084ba-103">An introduction to Hadoop security with domain-joined HDInsight clusters (Preview)</span></span>

<span data-ttu-id="084ba-104">Jusqu’à présent, Azure HDInsight ne prenait en charge qu’un seul administrateur local d’utilisateurs. Cela fonctionnait à merveille pour les petites équipes d’application ou les services.</span><span class="sxs-lookup"><span data-stu-id="084ba-104">Azure HDInsight until today supported only a single user local admin. This worked great for smaller application teams or departments.</span></span> <span data-ttu-id="084ba-105">Avec le gain en popularité des charges de travail Hadoop dans le secteur de l’entreprise, les besoins en fonctionnalités de niveau entreprise comme l’authentification basée sur Active Directory, la prise en charge multi-utilisateur et le contrôle d’accès en fonction du rôle sont devenus plus en plus importants.</span><span class="sxs-lookup"><span data-stu-id="084ba-105">As Hadoop based workloads gained more popularity in the enterprise sector, the need for enterprise grade capabilities like active directory based authentication, multi-user support, and role based access control became increasingly important.</span></span> <span data-ttu-id="084ba-106">À l’aide de clusters HDInsight joints à un domaine, vous pouvez créer un cluster HDInsight joint à un domaine Active Directory et configurer une liste des employés de l’entreprise qui peuvent s’authentifier via Azure Active Directory pour se connecter au cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="084ba-106">Using Domain-joined HDInsight clusters, you can create an HDInsight cluster joined to an Active Directory domain, configure a list of employees from the enterprise who can authenticate through Azure Active Directory to log on to HDInsight cluster.</span></span> <span data-ttu-id="084ba-107">Toute personne en dehors de l’entreprise ne peut pas se connecter ni accéder au cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="084ba-107">Anyone outside the enterprise cannot log on or access the HDInsight cluster.</span></span> <span data-ttu-id="084ba-108">L’administrateur d’entreprise peut configurer le contrôle d’accès en fonction du rôle pour la sécurité Hive à l’aide [d’Apache Ranger](http://hortonworks.com/apache/ranger/), limitant ainsi l’accès aux données de manière appropriée.</span><span class="sxs-lookup"><span data-stu-id="084ba-108">The enterprise admin can configure role based access control for Hive security using [Apache Ranger](http://hortonworks.com/apache/ranger/), thus restricting access to data to only as much as needed.</span></span> <span data-ttu-id="084ba-109">Enfin, l’administrateur peut auditer l’accès aux données par les employés et les modifications apportées aux stratégies de contrôle d’accès, d’où un degré élevé de gouvernance des ressources de l’entreprise.</span><span class="sxs-lookup"><span data-stu-id="084ba-109">Finally, the admin can audit the data access by employees, and any changes done to access control policies, thus achieving a high degree of governance of their corporate resources.</span></span>

> [!NOTE]
> <span data-ttu-id="084ba-110">Les nouvelles fonctionnalités décrites dans cette version préliminaire sont disponibles uniquement sur les clusters HDInsight sous Linux pour les charges de travail Hive.</span><span class="sxs-lookup"><span data-stu-id="084ba-110">The new features described in this preview are available only on Linux-based HDInsight clusters for Hive workload.</span></span> <span data-ttu-id="084ba-111">Les autres charges de travail, comme HBase, Spark, Storm et Kafka, seront activées dans les versions futures.</span><span class="sxs-lookup"><span data-stu-id="084ba-111">The other workloads, such as HBase, Spark, Storm and Kafka, will be enabled in future releases.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="084ba-112">Oozie n’est pas activé sur HDInsight joint à un domaine.</span><span class="sxs-lookup"><span data-stu-id="084ba-112">Oozie is not enabled on domain-joined HDInsight.</span></span>

## <a name="benefits"></a><span data-ttu-id="084ba-113">Avantages</span><span class="sxs-lookup"><span data-stu-id="084ba-113">Benefits</span></span>
<span data-ttu-id="084ba-114">La sécurité d’entreprise est constituée de quatre piliers majeurs : sécurité du périmètre, authentification, autorisation et chiffrement.</span><span class="sxs-lookup"><span data-stu-id="084ba-114">Enterprise Security contains four big pillars – Perimeter Security, Authentication, Authorization, and Encryption.</span></span>

![Piliers des avantages des clusters HDInsight joints à un domaine](./media/hdinsight-domain-joined-introduction/hdinsight-domain-joined-four-pillars.png)<span data-ttu-id="084ba-116">.</span><span class="sxs-lookup"><span data-stu-id="084ba-116">.</span></span>

### <a name="perimeter-security"></a><span data-ttu-id="084ba-117">Sécurité du périmètre</span><span class="sxs-lookup"><span data-stu-id="084ba-117">Perimeter Security</span></span>
<span data-ttu-id="084ba-118">La sécurité du périmètre dans HDInsight est obtenue grâce aux réseaux virtuels et au service de passerelle.</span><span class="sxs-lookup"><span data-stu-id="084ba-118">Perimeter security in HDInsight is achieved using virtual networks and Gateway service.</span></span> <span data-ttu-id="084ba-119">Aujourd’hui, un administrateur d’entreprise peut créer un cluster HDInsight à l’intérieur d’un réseau virtuel et utiliser les groupes de sécurité réseau (règles de pare-feu entrantes ou sortantes) pour restreindre l’accès au réseau virtuel.</span><span class="sxs-lookup"><span data-stu-id="084ba-119">Today, an enterprise admin can create an HDInsight cluster inside a virtual network and use Network Security Groups (inbound or outbound firewall rules) to restrict access to the virtual network.</span></span> <span data-ttu-id="084ba-120">Seules les adresses IP définies dans les règles de pare-feu entrantes seront en mesure de communiquer avec le cluster HDInsight, fournissant ainsi la sécurité du périmètre.</span><span class="sxs-lookup"><span data-stu-id="084ba-120">Only the IP addresses defined in the inbound firewall rules will be able to communicate with the HDInsight cluster, thus providing perimeter security.</span></span> <span data-ttu-id="084ba-121">Le service de passerelle permet d’obtenir un autre niveau de sécurité du périmètre.</span><span class="sxs-lookup"><span data-stu-id="084ba-121">Another layer of perimeter security is achieved using Gateway service.</span></span> <span data-ttu-id="084ba-122">La passerelle est le service qui agit en tant que première ligne de défense pour toutes les requêtes entrantes vers le cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="084ba-122">The Gateway is the service which acts as first line of defense for any incoming request to the HDInsight cluster.</span></span> <span data-ttu-id="084ba-123">Elle accepte la requête, la valide et seulement ensuite autorise la requête à transiter sur les autres nœuds du cluster, offrant ainsi une sécurité du périmètre aux autres nœuds de nom et de données du cluster.</span><span class="sxs-lookup"><span data-stu-id="084ba-123">It accepts the request, validates it and only then allows the request to pass to the other nodes in cluster, thus providing perimeter security to other name and data nodes in the cluster.</span></span>

### <a name="authentication"></a><span data-ttu-id="084ba-124">Authentification</span><span class="sxs-lookup"><span data-stu-id="084ba-124">Authentication</span></span>
<span data-ttu-id="084ba-125">Avec cette version préliminaire publique, un administrateur d’entreprise peut configurer un cluster HDInsight joint à un domaine, dans un [réseau virtuel](https://azure.microsoft.com/services/virtual-network/).</span><span class="sxs-lookup"><span data-stu-id="084ba-125">With this public preview, an enterprise admin can provision a Domain-joined HDInsight cluster, in a [virtual network](https://azure.microsoft.com/services/virtual-network/).</span></span> <span data-ttu-id="084ba-126">Les nœuds du cluster HDInsight seront joints au domaine géré par l’entreprise.</span><span class="sxs-lookup"><span data-stu-id="084ba-126">The nodes of the HDInsight cluster will be joined to the domain managed by the enterprise.</span></span> <span data-ttu-id="084ba-127">Ceci s’effectue grâce aux [Services de domaine Azure Active Directory](../active-directory-domain-services/active-directory-ds-overview.md).</span><span class="sxs-lookup"><span data-stu-id="084ba-127">This is achieved through use of [Azure Active Directory Domain Services](../active-directory-domain-services/active-directory-ds-overview.md).</span></span> <span data-ttu-id="084ba-128">Tous les nœuds du cluster sont joints à un domaine que l’entreprise gère.</span><span class="sxs-lookup"><span data-stu-id="084ba-128">All the nodes in the cluster are joined to a domain that the enterprise manages.</span></span> <span data-ttu-id="084ba-129">Avec cette configuration, les employés de l’entreprise peuvent se connecter aux nœuds du cluster à l’aide de leurs informations d’identification de domaine.</span><span class="sxs-lookup"><span data-stu-id="084ba-129">With this setup, the enterprise employees can log on to the cluster nodes using their domain credentials.</span></span> <span data-ttu-id="084ba-130">Ils peuvent également utiliser leurs informations d’identification de domaine pour s’authentifier auprès d’autres points de terminaison approuvés comme Hue, les vues Ambari, ODBC, JDBC, PowerShell et les API REST pour interagir avec le cluster.</span><span class="sxs-lookup"><span data-stu-id="084ba-130">They can also use their domain credentials to authenticate with other approved endpoints like Hue, Ambari Views, ODBC, JDBC, PowerShell and REST APIs to interact with the cluster.</span></span> <span data-ttu-id="084ba-131">L’administrateur dispose d’un contrôle total sur la limitation du nombre d’utilisateurs qui interagissent avec le cluster via ces points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="084ba-131">The admin has full control over limiting the number of users interacting with the cluster via these endpoints.</span></span>

### <a name="authorization"></a><span data-ttu-id="084ba-132">Autorisation</span><span class="sxs-lookup"><span data-stu-id="084ba-132">Authorization</span></span>
<span data-ttu-id="084ba-133">L’une des meilleures pratiques appliquées par la plupart des entreprises est que chaque employé n’a pas accès à toutes les ressources de l’entreprise.</span><span class="sxs-lookup"><span data-stu-id="084ba-133">A best practice followed by most enterprises is that not every employee has access to all enterprise resources.</span></span> <span data-ttu-id="084ba-134">De même, avec cette version, l’administrateur peut définir des stratégies de contrôle d’accès en fonction du rôle pour les ressources du cluster.</span><span class="sxs-lookup"><span data-stu-id="084ba-134">Likewise, with this release, the admin can define role based access control policies for the cluster resources.</span></span> <span data-ttu-id="084ba-135">Par exemple, l’administrateur peut configurer [Apache Ranger](http://hortonworks.com/apache/ranger/) pour définir des stratégies de contrôle d’accès pour Hive.</span><span class="sxs-lookup"><span data-stu-id="084ba-135">For example, the admin can configure [Apache Ranger](http://hortonworks.com/apache/ranger/) to set access control policies for Hive.</span></span> <span data-ttu-id="084ba-136">Cette fonctionnalité garantit que les employés seront en mesure d’accéder uniquement aux données nécessaires à leur travail.</span><span class="sxs-lookup"><span data-stu-id="084ba-136">This functionality ensures that employees will be able to access only as much data as they need to be successful in their jobs.</span></span> <span data-ttu-id="084ba-137">L’accès SSH au cluster est également limité uniquement à l’administrateur.</span><span class="sxs-lookup"><span data-stu-id="084ba-137">SSH access to the cluster is also restricted only to the administrator.</span></span>

### <a name="auditing"></a><span data-ttu-id="084ba-138">Audit</span><span class="sxs-lookup"><span data-stu-id="084ba-138">Auditing</span></span>
<span data-ttu-id="084ba-139">En plus de la protection des ressources du cluster HDInsight des utilisateurs non autorisés et de la sécurisation des données, l’audit d’accès aux ressources du cluster et aux données est nécessaire pour effectuer le suivi des accès non autorisés ou non intentionnels aux ressources.</span><span class="sxs-lookup"><span data-stu-id="084ba-139">Along with protecting the HDInsight cluster resources from unauthorized users, and securing the data, auditing of all access to the cluster resources, and the data is necessary to track unauthorized or unintentional access of the resources.</span></span> <span data-ttu-id="084ba-140">Avec cette version préliminaire, l’administrateur peut afficher et signaler tout accès aux données et aux ressources du cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="084ba-140">With this preview, the admin can view and report all access to the HDInsight cluster resources and data.</span></span> <span data-ttu-id="084ba-141">L’administrateur peut également afficher et signaler toutes les modifications des stratégies de contrôle d’accès effectuées dans les points de terminaison pris en charge par Apache Ranger.</span><span class="sxs-lookup"><span data-stu-id="084ba-141">The admin can also view and report all changes to the access control policies done in Apache Ranger supported endpoints.</span></span> <span data-ttu-id="084ba-142">Un cluster HDInsight joint à un domaine utilise l’interface utilisateur familière d’Apache Ranger pour rechercher les journaux d’audit.</span><span class="sxs-lookup"><span data-stu-id="084ba-142">A Domain-joined HDInsight cluster uses the familiar Apache Ranger UI to search audit logs.</span></span> <span data-ttu-id="084ba-143">Sur le serveur principal, Ranger utilise [Apache Solr](http://hortonworks.com/apache/solr/) pour le stockage et la recherche des journaux.</span><span class="sxs-lookup"><span data-stu-id="084ba-143">On the backend, Ranger uses [Apache Solr](http://hortonworks.com/apache/solr/) for storing and searching the logs.</span></span>

### <a name="encryption"></a><span data-ttu-id="084ba-144">Chiffrement</span><span class="sxs-lookup"><span data-stu-id="084ba-144">Encryption</span></span>
<span data-ttu-id="084ba-145">La protection des données est importante pour respecter les exigences de conformité et de sécurité de l’organisation et, en plus de restreindre l’accès aux données contre les employés non autorisés, elle doit également être sécurisée par chiffrement.</span><span class="sxs-lookup"><span data-stu-id="084ba-145">Protecting data is important for meeting organizational security and compliance requirements, and along with restricting access to data from unauthorized employees, it should also be secured by encrypting it.</span></span> <span data-ttu-id="084ba-146">Les magasins de données pour les clusters HDInsight, le Stockage Blob Azure et Azure Data Lake Storage prennent en charge le [chiffrement des données](../storage/common/storage-service-encryption.md) transparent côté serveur au repos.</span><span class="sxs-lookup"><span data-stu-id="084ba-146">Both the data stores for HDInsight clusters, Azure Storage Blob, and Azure Data Lake Storage support transparent server-side [encryption of data](../storage/common/storage-service-encryption.md) at rest.</span></span> <span data-ttu-id="084ba-147">Les clusters HDInsight sécurisés fonctionnent en toute transparence avec cette fonctionnalité de chiffrement des données côté serveur au repos.</span><span class="sxs-lookup"><span data-stu-id="084ba-147">Secure HDInsight clusters will seamlessly work with this server side encryption of data at rest capability.</span></span>

## <a name="next-steps"></a><span data-ttu-id="084ba-148">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="084ba-148">Next steps</span></span>
* <span data-ttu-id="084ba-149">Pour configurer un cluster HDInsight joint à un domaine, consultez [Configuration de clusters HDInsight joints à un domaine](hdinsight-domain-joined-configure.md).</span><span class="sxs-lookup"><span data-stu-id="084ba-149">For configuring a Domain-joined HDInsight cluster, see [Configure Domain-joined HDInsight clusters](hdinsight-domain-joined-configure.md).</span></span>
* <span data-ttu-id="084ba-150">Pour gérer un cluster HDInsight joint à un domaine, consultez [Gestion de clusters HDInsight joints à un domaine](hdinsight-domain-joined-manage.md).</span><span class="sxs-lookup"><span data-stu-id="084ba-150">For managing a Domain-joined HDInsight clusters, see [Manage Domain-joined HDInsight clusters](hdinsight-domain-joined-manage.md).</span></span>
* <span data-ttu-id="084ba-151">Pour configurer des stratégies Hive et exécuter des requêtes Hive, consultez [Configuration de stratégies Hive pour les clusters HDInsight joints à un domaine](hdinsight-domain-joined-run-hive.md).</span><span class="sxs-lookup"><span data-stu-id="084ba-151">For configuring Hive policies and run Hive queries, see [Configure Hive policies for Domain-joined HDInsight clusters](hdinsight-domain-joined-run-hive.md).</span></span>
* <span data-ttu-id="084ba-152">Pour exécuter des requêtes Hive en utilisant SSH sur des clusters HDInsight joints au domaine, voir [Utiliser SSH avec HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined).</span><span class="sxs-lookup"><span data-stu-id="084ba-152">For running Hive queries using SSH on Domain-joined HDInsight clusters, see [Use SSH with HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined).</span></span>
