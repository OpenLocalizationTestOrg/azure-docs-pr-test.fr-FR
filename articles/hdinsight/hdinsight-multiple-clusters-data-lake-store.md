---
title: aaaUse HDInsight plusieurs clusters avec un compte Azure Data Lake Store - Azure | Documents Microsoft
description: "Découvrez comment toouse plus d’un HDInsight cluster avec un seul compte Data Lake Store"
keywords: "stockage hdinsight, hdfs, données structurées, données non structurées, data lake store"
services: hdinsight,storage
documentationcenter: 
tags: azure-portal
author: nitinme
manager: jhubbard
editor: cgronlun
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/02/2017
ms.author: nitinme
ms.openlocfilehash: 3a125b91fcc1e436270a1bd349f7a2d8f27e06fb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="use-multiple-hdinsight-clusters-with-an-azure-data-lake-store-account"></a><span data-ttu-id="54afb-104">Utiliser plusieurs clusters HDInsight avec un compte Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="54afb-104">Use multiple HDInsight clusters with an Azure Data Lake Store account</span></span>

<span data-ttu-id="54afb-105">À partir de HDInsight version 3.5, vous pouvez créer des clusters HDInsight avec des comptes Azure Data Lake Store comme système de fichiers par défaut hello.</span><span class="sxs-lookup"><span data-stu-id="54afb-105">Starting with HDInsight version 3.5, you can create HDInsight clusters with  Azure Data Lake Store accounts as hello default filesystem.</span></span>
<span data-ttu-id="54afb-106">Data Lake Store prend en charge le stockage illimité qui le rend idéal non seulement pour héberger de grandes quantités de données, mais également pour héberger plusieurs clusters HDInsight qui partagent un même compte Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="54afb-106">Data Lake Store supports unlimited storage that makes it ideal not only for hosting large amounts of data; but also for hosting multiple HDInsight clusters that share a single Data Lake Store Account.</span></span> <span data-ttu-id="54afb-107">Pour instructionson comment toocreate un HDInsight de cluster avec Data Lake Store en tant que stockage de hello, consultez [HDInsight de créer des clusters avec Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span><span class="sxs-lookup"><span data-stu-id="54afb-107">For instructionson how toocreate an HDInsight cluster with Data Lake Store as hello storage, see [Create HDInsight clusters with Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span></span>

<span data-ttu-id="54afb-108">Cet article fournit un administrateur du magasin de recommandations toohello lac de données pour la configuration d’un seul et partagées compte Data Lake stocker qui peut être utilisé sur plusieurs **active** clusters HDInsight.</span><span class="sxs-lookup"><span data-stu-id="54afb-108">This article provides recommendations toohello Data Lake store administrator for setting up a single and shared Data Lake Store Account that can be used across multiple **active** HDInsight clusters.</span></span> <span data-ttu-id="54afb-109">Ces recommandations s’appliquent toohosting Hadoop de sécurisé mais aussi non sécurisées plusieurs clusters sur un compte de magasin Data Lake partagé.</span><span class="sxs-lookup"><span data-stu-id="54afb-109">These recommendations apply toohosting multiple secure as well as non-secure Hadoop clusters on a shared Data Lake store account.</span></span>


## <a name="data-lake-store-file-and-folder-level-acls"></a><span data-ttu-id="54afb-110">ACL de niveau fichier et dossier Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="54afb-110">Data Lake Store file and folder level ACLs</span></span>

<span data-ttu-id="54afb-111">Hello reste de cet article suppose que vous avez une bonne connaissance du niveau de fichier et dossier ACL dans Azure Data Lake Store est décrit en détail à [contrôle d’accès dans Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="54afb-111">hello rest of this article assumes that you have a good knowledge of file and folder level ACLs in Azure Data Lake Store, which is described in detail at [Access control in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span></span>

## <a name="data-lake-store-setup-for-multiple-hdinsight-clusters"></a><span data-ttu-id="54afb-112">Configuration de Data Lake Store pour plusieurs clusters HDInsight</span><span class="sxs-lookup"><span data-stu-id="54afb-112">Data Lake Store setup for multiple HDInsight clusters</span></span>
<span data-ttu-id="54afb-113">Faites-nous prendre une hiérarchie de dossiers de deux niveaux de recommandations de hello tooexplain pour l’utilisation des clusters HDInsight de dépendants avec un compte Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="54afb-113">Let us take a two-level folder hierarchy tooexplain hello recommendations for using mutilple HDInsight clusters with a Data Lake Store account.</span></span> <span data-ttu-id="54afb-114">Envisagez d’avoir un compte Data Lake Store avec la structure de dossiers hello **/clusters/finance**.</span><span class="sxs-lookup"><span data-stu-id="54afb-114">Consider you have a Data Lake Store account with hello folder structure **/clusters/finance**.</span></span> <span data-ttu-id="54afb-115">Avec cette structure, tous les clusters hello requis par l’organisation de Finance hello peuvent utiliser /clusters/finance comme emplacement de stockage hello.</span><span class="sxs-lookup"><span data-stu-id="54afb-115">With this structure, all hello clusters required by hello Finance organization can use /clusters/finance as hello storage location.</span></span> <span data-ttu-id="54afb-116">Dans le futur, si une autre organisation, par exemple Marketing, souhaite que les clusters HDInsight toocreate à l’aide de hello même compte Data Lake Store, Impossible de créer des /clusters/marketing de hello.</span><span class="sxs-lookup"><span data-stu-id="54afb-116">In hello future, if another organization, say Marketing, wants toocreate HDInsight clusters using hello same Data Lake Store account, they could create /clusters/marketing.</span></span> <span data-ttu-id="54afb-117">Pour l’instant, nous allons simplement utiliser **/clusters/finance**.</span><span class="sxs-lookup"><span data-stu-id="54afb-117">For now, let's just use **/clusters/finance**.</span></span>

<span data-ttu-id="54afb-118">tooenable cette toobe de structure de dossier utilisé efficacement par les clusters HDInsight, administrateur de Data Lake Store hello doit attribuer les autorisations appropriées, comme décrit dans la table de hello.</span><span class="sxs-lookup"><span data-stu-id="54afb-118">tooenable this folder structure toobe effectively used by HDInsight clusters, hello Data Lake Store administrator must assign appropriate permissions, as described in hello table.</span></span> <span data-ttu-id="54afb-119">Hello indiqué dans la table de hello correspondent tooAccess-ACL et pas par défaut-ACL.</span><span class="sxs-lookup"><span data-stu-id="54afb-119">hello permissions shown in hello table correspond tooAccess-ACLs, and not Default-ACLs.</span></span> 


|<span data-ttu-id="54afb-120">Dossier</span><span class="sxs-lookup"><span data-stu-id="54afb-120">Folder</span></span>  |<span data-ttu-id="54afb-121">Autorisations</span><span class="sxs-lookup"><span data-stu-id="54afb-121">Permissions</span></span>  |<span data-ttu-id="54afb-122">utilisateur propriétaire</span><span class="sxs-lookup"><span data-stu-id="54afb-122">Owning user</span></span>  |<span data-ttu-id="54afb-123">groupe propriétaire</span><span class="sxs-lookup"><span data-stu-id="54afb-123">Owning group</span></span>  | <span data-ttu-id="54afb-124">Utilisateur nommé</span><span class="sxs-lookup"><span data-stu-id="54afb-124">Named user</span></span> | <span data-ttu-id="54afb-125">Autorisations de l’utilisateur nommé</span><span class="sxs-lookup"><span data-stu-id="54afb-125">Named user permissions</span></span> | <span data-ttu-id="54afb-126">Groupe nommé</span><span class="sxs-lookup"><span data-stu-id="54afb-126">Named group</span></span> | <span data-ttu-id="54afb-127">Autorisations du groupe nommé</span><span class="sxs-lookup"><span data-stu-id="54afb-127">Named group permissions</span></span> |
|---------|---------|---------|---------|---------|---------|---------|---------|
|/ | <span data-ttu-id="54afb-128">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="54afb-128">rwxr-x--x</span></span>  |<span data-ttu-id="54afb-129">admin</span><span class="sxs-lookup"><span data-stu-id="54afb-129">admin</span></span> |<span data-ttu-id="54afb-130">admin</span><span class="sxs-lookup"><span data-stu-id="54afb-130">admin</span></span>  |<span data-ttu-id="54afb-131">Principal du service</span><span class="sxs-lookup"><span data-stu-id="54afb-131">Service principal</span></span> |<span data-ttu-id="54afb-132">--x</span><span class="sxs-lookup"><span data-stu-id="54afb-132">--x</span></span>  |<span data-ttu-id="54afb-133">FINGRP</span><span class="sxs-lookup"><span data-stu-id="54afb-133">FINGRP</span></span>   |<span data-ttu-id="54afb-134">r-x</span><span class="sxs-lookup"><span data-stu-id="54afb-134">r-x</span></span>         |
|<span data-ttu-id="54afb-135">/clusters</span><span class="sxs-lookup"><span data-stu-id="54afb-135">/clusters</span></span> | <span data-ttu-id="54afb-136">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="54afb-136">rwxr-x--x</span></span> |<span data-ttu-id="54afb-137">admin</span><span class="sxs-lookup"><span data-stu-id="54afb-137">admin</span></span> |<span data-ttu-id="54afb-138">admin</span><span class="sxs-lookup"><span data-stu-id="54afb-138">admin</span></span> |<span data-ttu-id="54afb-139">Principal du service</span><span class="sxs-lookup"><span data-stu-id="54afb-139">Service principal</span></span> |<span data-ttu-id="54afb-140">--x</span><span class="sxs-lookup"><span data-stu-id="54afb-140">--x</span></span>  |<span data-ttu-id="54afb-141">FINGRP</span><span class="sxs-lookup"><span data-stu-id="54afb-141">FINGRP</span></span> |<span data-ttu-id="54afb-142">r-x</span><span class="sxs-lookup"><span data-stu-id="54afb-142">r-x</span></span>         |
|<span data-ttu-id="54afb-143">/clusters/finance</span><span class="sxs-lookup"><span data-stu-id="54afb-143">/clusters/finance</span></span> | <span data-ttu-id="54afb-144">rwxr-x--t</span><span class="sxs-lookup"><span data-stu-id="54afb-144">rwxr-x--t</span></span> |<span data-ttu-id="54afb-145">admin</span><span class="sxs-lookup"><span data-stu-id="54afb-145">admin</span></span> |<span data-ttu-id="54afb-146">FINGRP</span><span class="sxs-lookup"><span data-stu-id="54afb-146">FINGRP</span></span>  |<span data-ttu-id="54afb-147">Principal du service</span><span class="sxs-lookup"><span data-stu-id="54afb-147">Service principal</span></span> |<span data-ttu-id="54afb-148">rwx</span><span class="sxs-lookup"><span data-stu-id="54afb-148">rwx</span></span>  |-  |-     |

<span data-ttu-id="54afb-149">Dans la table de hello,</span><span class="sxs-lookup"><span data-stu-id="54afb-149">In hello table,</span></span>

- <span data-ttu-id="54afb-150">**administrateur** est le créateur de hello et administrateur de hello compte Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="54afb-150">**admin** is hello creator and administrator of hello Data Lake Store account.</span></span>
- <span data-ttu-id="54afb-151">**Principal du service** est hello Azure Active Directory (AAD) principal de service associé au compte de hello.</span><span class="sxs-lookup"><span data-stu-id="54afb-151">**Service principal** is hello Azure Active Directory (AAD) service principal associated with hello account.</span></span>
- <span data-ttu-id="54afb-152">**FINGRP** est un groupe d’utilisateurs créé dans AAD qui contient des utilisateurs hello financier.</span><span class="sxs-lookup"><span data-stu-id="54afb-152">**FINGRP** is a user group created in AAD that contains users from hello Finance organization.</span></span>

<span data-ttu-id="54afb-153">Pour plus d’informations sur comment toocreate une application AAD (qui crée également un Principal de Service), consultez [créer une application AAD](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span><span class="sxs-lookup"><span data-stu-id="54afb-153">For instructions on how toocreate an AAD application (that also creates a Service Principal), see [Create an AAD application](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span></span> <span data-ttu-id="54afb-154">Pour obtenir des instructions sur la façon dont toocreate un groupe d’utilisateurs dans AAD, consultez [la gestion des groupes dans Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span><span class="sxs-lookup"><span data-stu-id="54afb-154">For instructions on how toocreate a user group in AAD, see [Managing groups in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span></span>

<span data-ttu-id="54afb-155">Tooconsider de certains points clés.</span><span class="sxs-lookup"><span data-stu-id="54afb-155">Some key points tooconsider.</span></span>

- <span data-ttu-id="54afb-156">structure de dossiers de niveau Hello deux (**/clusters/finance/**) doit être créé et configuré avec les autorisations appropriées à hello Data Lake Store admin **avant** à l’aide du compte de stockage hello pour les clusters.</span><span class="sxs-lookup"><span data-stu-id="54afb-156">hello two level folder structure (**/clusters/finance/**) must be created and provisioned with appropriate permissions by hello Data Lake Store admin **before** using hello storage account for clusters.</span></span> <span data-ttu-id="54afb-157">Cette structure n’est pas créée automatiquement lors de la création des clusters.</span><span class="sxs-lookup"><span data-stu-id="54afb-157">This structure is not created automatically while creating clusters.</span></span>
- <span data-ttu-id="54afb-158">exemple Hello ci-dessus recommande le paramètre hello propriétaire de groupe de **/clusters/finance** en tant que **FINGRP** et autorisant **r-x** accéder à la hiérarchie de dossiers entière tooFINGRP toohello démarrage à partir de la racine de hello.</span><span class="sxs-lookup"><span data-stu-id="54afb-158">hello example above recommends setting hello owning group of **/clusters/finance** as **FINGRP** and permitting **r-x** access tooFINGRP toohello entire folder hierarchy starting from hello root.</span></span> <span data-ttu-id="54afb-159">Cela garantit que les membres de hello de FINGRP peuvent parcourir la structure de dossier hello en commençant à partir de la racine.</span><span class="sxs-lookup"><span data-stu-id="54afb-159">This ensures that hello members of FINGRP can navigate hello folder structure starting from root.</span></span>
- <span data-ttu-id="54afb-160">Dans les cas de hello lorsque des principaux de Service AAD différents peuvent créer des clusters sous **/clusters/finance**, hello rémanentes bits (lorsque la valeur sur hello **finance** dossier) permet de s’assurer que les dossiers créés par un Service Principal ne peut pas être supprimé par hello autres.</span><span class="sxs-lookup"><span data-stu-id="54afb-160">In hello case when different AAD Service Principals can create clusters under **/clusters/finance**, hello sticky-bit (when set on hello **finance** folder) ensures that folders created by one Service Principal cannot be deleted by hello other.</span></span>
- <span data-ttu-id="54afb-161">Une fois la structure de dossiers hello et les autorisations sont en place, les processus de création du cluster HDInsight crée une loaction de stockage de cluster spécifiques sous **/clusters/finance/**.</span><span class="sxs-lookup"><span data-stu-id="54afb-161">Once hello folder structure and permissions are in place, HDInsight cluster creation process creates a cluster-specific storage loaction under **/clusters/finance/**.</span></span> <span data-ttu-id="54afb-162">Par exemple, stockage hello pour un cluster avec hello nom fincluster01 peut être **/clusters/finance/fincluster01**.</span><span class="sxs-lookup"><span data-stu-id="54afb-162">For example, hello storage for a cluster with hello name fincluster01 could be **/clusters/finance/fincluster01**.</span></span> <span data-ttu-id="54afb-163">Hello propriétaire et les autorisations pour les dossiers de hello créés par le cluster HDInsight est indiqué dans la table hello ici.</span><span class="sxs-lookup"><span data-stu-id="54afb-163">hello ownership and permissions for hello folders created by HDInsight cluster is shown in hello table here.</span></span>

    |<span data-ttu-id="54afb-164">Dossier</span><span class="sxs-lookup"><span data-stu-id="54afb-164">Folder</span></span>  |<span data-ttu-id="54afb-165">Autorisations</span><span class="sxs-lookup"><span data-stu-id="54afb-165">Permissions</span></span>  |<span data-ttu-id="54afb-166">utilisateur propriétaire</span><span class="sxs-lookup"><span data-stu-id="54afb-166">Owning user</span></span>  |<span data-ttu-id="54afb-167">groupe propriétaire</span><span class="sxs-lookup"><span data-stu-id="54afb-167">Owning group</span></span>  | <span data-ttu-id="54afb-168">Utilisateur nommé</span><span class="sxs-lookup"><span data-stu-id="54afb-168">Named user</span></span> | <span data-ttu-id="54afb-169">Autorisations de l’utilisateur nommé</span><span class="sxs-lookup"><span data-stu-id="54afb-169">Named user permissions</span></span> | <span data-ttu-id="54afb-170">Groupe nommé</span><span class="sxs-lookup"><span data-stu-id="54afb-170">Named group</span></span> | <span data-ttu-id="54afb-171">Autorisations du groupe nommé</span><span class="sxs-lookup"><span data-stu-id="54afb-171">Named group permissions</span></span> |
    |---------|---------|---------|---------|---------|---------|---------|---------|
    |<span data-ttu-id="54afb-172">/clusters/finance/fincluster01</span><span class="sxs-lookup"><span data-stu-id="54afb-172">/clusters/finanace/ fincluster01</span></span> | <span data-ttu-id="54afb-173">rwxr-x---</span><span class="sxs-lookup"><span data-stu-id="54afb-173">rwxr-x---</span></span>  |<span data-ttu-id="54afb-174">Principal de service</span><span class="sxs-lookup"><span data-stu-id="54afb-174">Service Principal</span></span> |<span data-ttu-id="54afb-175">FINGRP</span><span class="sxs-lookup"><span data-stu-id="54afb-175">FINGRP</span></span>  |- |-  |-   |-  | 
   


## <a name="recommendations-for-job-input-and-output-data"></a><span data-ttu-id="54afb-176">Recommandations pour les données d’entrée et de sortie de tâche</span><span class="sxs-lookup"><span data-stu-id="54afb-176">Recommendations for job input and output data</span></span>

<span data-ttu-id="54afb-177">Nous recommandons d’entrée de travail tooa des données et hello sorties à partir d’un travail d’être stockés dans un dossier en dehors de **/clusters**.</span><span class="sxs-lookup"><span data-stu-id="54afb-177">We recommend that input data tooa job, and hello outputs from a job be stored in a folder outside **/clusters**.</span></span> <span data-ttu-id="54afb-178">Cela garantit que même si le dossier cluster hello est supprimé tooreclaim certains espace de stockage, les entrées du travail hello et les sorties sont toujours disponibles pour une utilisation ultérieure.</span><span class="sxs-lookup"><span data-stu-id="54afb-178">This ensures that even if hello cluster-specific folder is deleted tooreclaim some storage space,hello job inputs and outputs are still available for future use.</span></span> <span data-ttu-id="54afb-179">Dans ce cas, vérifiez que la fonction arborescence des dossiers pour le stockage des entrées et sorties hello travail hello permet un niveau approprié de l’accès pour hello Principal du Service.</span><span class="sxs-lookup"><span data-stu-id="54afb-179">In such a case, ensure that hello folder hierarchy for storing hello job inputs and outputs allows appropriate level of access for hello Service Principal.</span></span>

## <a name="limit-on-clusters-sharing-a-single-storage-account"></a><span data-ttu-id="54afb-180">Limite sur les clusters partageant un même compte de stockage</span><span class="sxs-lookup"><span data-stu-id="54afb-180">Limit on clusters sharing a single storage account</span></span>

<span data-ttu-id="54afb-181">Hello hello nombre limite de clusters qui peuvent partager un seul compte Data Lake Store dépend de la charge de travail hello en cours d’exécution sur ces clusters.</span><span class="sxs-lookup"><span data-stu-id="54afb-181">hello limit on hello number of clusters that can share a single Data Lake Store account depends on hello workload being run on those clusters.</span></span> <span data-ttu-id="54afb-182">Avoir trop de clusters ou des charges de travail très importantes sur les clusters hello qui partagent un compte de stockage peut entraîner des tooget d’entrées/sorties du compte de stockage hello limitée.</span><span class="sxs-lookup"><span data-stu-id="54afb-182">Having too many clusters or very heavy workloads on hello clusters that share a storage account might cause hello storage account ingress/egress tooget throttled.</span></span>

## <a name="support-for-default-acls"></a><span data-ttu-id="54afb-183">Prise en charge des ACL par défaut</span><span class="sxs-lookup"><span data-stu-id="54afb-183">Support for Default-ACLs</span></span>

<span data-ttu-id="54afb-184">Lorsque vous créez un Principal de Service avec un accès utilisateur nommé (comme indiqué dans le tableau hello ci-dessus), nous vous recommandons de **pas** Ajout hello-utilisateur nommé avec une ACL par défaut.</span><span class="sxs-lookup"><span data-stu-id="54afb-184">When creating a Service Principal with named-user access (as shown in hello table above), we recommend **not** adding hello named-user with a default-ACL.</span></span> <span data-ttu-id="54afb-185">Configuration des accès utilisateur nommé à l’aide des résultats de l’ACL de la valeur par défaut dans l’attribution de 770 autorisations hello pour l’utilisateur propriétaire, groupe propriétaire et d’autres.</span><span class="sxs-lookup"><span data-stu-id="54afb-185">Provisioning named-user access using default-ACLs results in hello assignment of 770 permissions for owning-user, owning-group, and others.</span></span> <span data-ttu-id="54afb-186">Bien que la valeur par défaut de 770 ne retire pas les autorisations de l’utilisateur propriétaire (7) ou du groupe propriétaire (7), elle retire les autorisations des autres (0).</span><span class="sxs-lookup"><span data-stu-id="54afb-186">While this default value of 770 does not take away permissions from owning-user (7) or owning-group (7), it takes away all permissions for others (0).</span></span> <span data-ttu-id="54afb-187">Cela entraîne un problème connu avec un particulier en cas d’utilisation qui est décrite en détail dans hello [problèmes connus et solutions de contournement](#known-issues-and-workarounds) section.</span><span class="sxs-lookup"><span data-stu-id="54afb-187">This results in a known issue with one particular use-case that is discussed in detail in hello [Known issues and workarounds](#known-issues-and-workarounds) section.</span></span>

## <a name="known-issues-and-workarounds"></a><span data-ttu-id="54afb-188">Problèmes connus et solutions de contournement</span><span class="sxs-lookup"><span data-stu-id="54afb-188">Known issues and workarounds</span></span>

<span data-ttu-id="54afb-189">Cette section répertorie les problèmes connus relatifs à l’aide de HDInsight avec Data Lake Store et leurs solutions de contournement de hello.</span><span class="sxs-lookup"><span data-stu-id="54afb-189">This section lists hello known issues for using HDInsight with Data Lake Store, and their workarounds.</span></span>

### <a name="publicly-visible-localized-yarn-resources"></a><span data-ttu-id="54afb-190">Ressources YARN localisées visibles publiquement</span><span class="sxs-lookup"><span data-stu-id="54afb-190">Publicly visible localized YARN resources</span></span>

<span data-ttu-id="54afb-191">Lorsqu’un compte Azure Data Lake store est créé, répertoire racine de hello est automatiquement configuré avec accès autorisation bits ensemble too770.</span><span class="sxs-lookup"><span data-stu-id="54afb-191">When a new Azure Data Lake store account is created, hello root directory is automatically provisioned with Access-ACL permission bits set too770.</span></span> <span data-ttu-id="54afb-192">dossier racine de Hello propriétaire utilisateur est ensemble toohello que hello compte (administrateur de Data Lake Store hello) a été créé et le groupe propriétaire de hello a la valeur toohello de groupe principal de l’utilisateur hello hello compte a été créé.</span><span class="sxs-lookup"><span data-stu-id="54afb-192">hello root folder’s owning user is set toohello user that created hello account (hello Data Lake Store admin) and hello owning group is set toohello primary group of hello user that created hello account.</span></span> <span data-ttu-id="54afb-193">Aucun accès n’est fourni pour les « autres ».</span><span class="sxs-lookup"><span data-stu-id="54afb-193">No access is provided for "others".</span></span>

<span data-ttu-id="54afb-194">Ces paramètres sont connus tooaffect un spécifique HDInsight-cas capturé dans [fils 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span><span class="sxs-lookup"><span data-stu-id="54afb-194">These settings are known tooaffect one specific HDInsight use-case captured in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span></span> <span data-ttu-id="54afb-195">Les soumissions de travail peut échouer avec un toothis similaire de message erreur :</span><span class="sxs-lookup"><span data-stu-id="54afb-195">Job submissions could fail with an error message similar toothis:</span></span>

    Resource XXXX is not publicly accessible and as such cannot be part of hello public cache.

<span data-ttu-id="54afb-196">Comme indiqué dans hello que fils JIRA lié précédemment, lors de la localisation des ressources publiques, hello localisateur valide que tous les hello ressources demandées sont en effet publics en recherchant dans leurs autorisations sur hello-système de fichiers distant.</span><span class="sxs-lookup"><span data-stu-id="54afb-196">As stated in hello YARN JIRA linked earlier, while localizing public resources, hello localizer validates that all hello requested resources are indeed public by checking their permissions on hello remote file-system.</span></span> <span data-ttu-id="54afb-197">Les éléments LocalResource qui ne correspondent pas à cette condition sont rejetés pour la localisation.</span><span class="sxs-lookup"><span data-stu-id="54afb-197">Any LocalResource that does not fit that condition is rejected for localization.</span></span> <span data-ttu-id="54afb-198">Bonjour de vérification des autorisations, inclut les fichiers toohello d’accès en lecture pour les « autres ».</span><span class="sxs-lookup"><span data-stu-id="54afb-198">hello check for permissions, includes read-access toohello file for "others".</span></span> <span data-ttu-id="54afb-199">Ce scénario ne fonctionne pas out of box lors de l’hébergement des clusters HDInsight sur Azure Data Lake, étant donné que Azure Data Lake refuse l’accès de tous les « autres » au niveau du dossier racine.</span><span class="sxs-lookup"><span data-stu-id="54afb-199">This scenario does not work out-of-the-box when hosting HDInsight clusters on Azure Data Lake, since Azure Data Lake denies all access too"others" at root folder level.</span></span>

#### <a name="workaround"></a><span data-ttu-id="54afb-200">Solution de contournement</span><span class="sxs-lookup"><span data-stu-id="54afb-200">Workaround</span></span>
<span data-ttu-id="54afb-201">Jeu en lecture-les autorisations d’exécution **d’autres** via la hiérarchie de hello, par exemple, sur  **/** , **/clusters** et   **/clusters/finance**  comme indiqué dans le tableau hello ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="54afb-201">Set read-execute permissions for **others** through hello hierarchy, for example,  at **/**, **/clusters** and **/clusters/finance** as shown in hello table above.</span></span>

## <a name="see-also"></a><span data-ttu-id="54afb-202">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="54afb-202">See also</span></span>

* [<span data-ttu-id="54afb-203">Créer un cluster HDInsight avec Data Lake Store comme stockage.</span><span class="sxs-lookup"><span data-stu-id="54afb-203">Create an HDInsight cluster with Data Lake Store as storage</span></span>](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)


