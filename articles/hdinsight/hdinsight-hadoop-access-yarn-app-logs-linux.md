---
title: "se connecte aaaAccess application des fils de Hadoop HDInsight basés sur Linux - Azure | Documents Microsoft"
description: "Découvrez comment application des fils tooaccess ouvre une session sur un cluster basé sur Linux HDInsight (Hadoop) à l’aide en ligne de commande de hello et un navigateur web."
services: hdinsight
documentationcenter: 
tags: azure-portal
author: Blackmist
manager: jhubbard
editor: cgronlun
ms.assetid: 3ec08d20-4f19-4a8e-ac86-639c04d2f12e
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/31/2017
ms.author: larryfr
ms.openlocfilehash: 0bab356e3b97114abbb05712c8e7b21a194f2508
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="access-yarn-application-logs-on-linux-based-hdinsight"></a><span data-ttu-id="464b6-103">Accéder aux journaux des applications YARN dans HDInsight sous Linux</span><span class="sxs-lookup"><span data-stu-id="464b6-103">Access YARN application logs on Linux-based HDInsight</span></span>

<span data-ttu-id="464b6-104">Découvrez comment tooaccess hello journaux pour les applications de fils (encore une autre ressource négociateur) sur un cluster Hadoop dans HDInsight de Azure.</span><span class="sxs-lookup"><span data-stu-id="464b6-104">Learn how tooaccess hello logs for YARN (Yet Another Resource Negotiator) applications on a Hadoop cluster in Azure HDInsight.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="464b6-105">étapes de Hello dans ce document nécessitent un cluster HDInsight qui utilise Linux.</span><span class="sxs-lookup"><span data-stu-id="464b6-105">hello steps in this document require an HDInsight cluster that uses Linux.</span></span> <span data-ttu-id="464b6-106">Linux est hello seul système d’exploitation utilisé sur HDInsight version 3.4 ou supérieure.</span><span class="sxs-lookup"><span data-stu-id="464b6-106">Linux is hello only operating system used on HDInsight version 3.4 or greater.</span></span> <span data-ttu-id="464b6-107">Pour plus d’informations, consultez [Contrôle de version des composants HDInsight](hdinsight-component-versioning.md#hdinsight-windows-retirement).</span><span class="sxs-lookup"><span data-stu-id="464b6-107">For more information, see [HDInsight component versioning](hdinsight-component-versioning.md#hdinsight-windows-retirement).</span></span>

## <span data-ttu-id="464b6-108"><a name="YARNTimelineServer"></a>YARN Timeline Server</span><span class="sxs-lookup"><span data-stu-id="464b6-108"><a name="YARNTimelineServer"></a>YARN Timeline Server</span></span>

<span data-ttu-id="464b6-109">Hello [fils chronologie Server](http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html) fournit des informations génériques sur les applications terminées et aux informations spécifiques à l’infrastructure via deux interfaces différentes.</span><span class="sxs-lookup"><span data-stu-id="464b6-109">hello [YARN Timeline Server](http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html) provides generic information on completed applications and framework-specific application information through two different interfaces.</span></span> <span data-ttu-id="464b6-110">Plus précisément :</span><span class="sxs-lookup"><span data-stu-id="464b6-110">Specifically:</span></span>

* <span data-ttu-id="464b6-111">Le stockage et la récupération d’informations génériques sur les applications sur les clusters HDInsight sont activés dans les versions 3.1.1.374 ou ultérieures.</span><span class="sxs-lookup"><span data-stu-id="464b6-111">Storage and retrieval of generic application information on HDInsight clusters has been enabled with version 3.1.1.374 or higher.</span></span>
* <span data-ttu-id="464b6-112">élément d’informations spécifiques à l’infrastructure application Hello Hello chronologie serveur n’est pas disponible actuellement sur les clusters HDInsight.</span><span class="sxs-lookup"><span data-stu-id="464b6-112">hello framework-specific application information component of hello Timeline Server is not currently available on HDInsight clusters.</span></span>

<span data-ttu-id="464b6-113">Informations générales sur les applications incluent hello suivant le type de données :</span><span class="sxs-lookup"><span data-stu-id="464b6-113">Generic information on applications includes hello following type of data:</span></span>

* <span data-ttu-id="464b6-114">ID d’application Hello, un identificateur unique d’une application</span><span class="sxs-lookup"><span data-stu-id="464b6-114">hello application ID, a unique identifier of an application</span></span>
* <span data-ttu-id="464b6-115">utilisateur Hello qui a démarré l’application hello</span><span class="sxs-lookup"><span data-stu-id="464b6-115">hello user who started hello application</span></span>
* <span data-ttu-id="464b6-116">Pour plus d’informations sur les tentatives effectuées application hello de toocomplete</span><span class="sxs-lookup"><span data-stu-id="464b6-116">Information on attempts made toocomplete hello application</span></span>
* <span data-ttu-id="464b6-117">conteneurs Hello utilisées par toute tentative d’application donnée</span><span class="sxs-lookup"><span data-stu-id="464b6-117">hello containers used by any given application attempt</span></span>

## <span data-ttu-id="464b6-118"><a name="YARNAppsAndLogs"></a>Applications et journaux YARN</span><span class="sxs-lookup"><span data-stu-id="464b6-118"><a name="YARNAppsAndLogs"></a>YARN applications and logs</span></span>

<span data-ttu-id="464b6-119">YARN (Yet Another Resource Negotiator) prend en charge plusieurs modèles de programmation (dont MapReduce) en séparant la gestion des ressources de la planification et de l’analyse des applications.</span><span class="sxs-lookup"><span data-stu-id="464b6-119">YARN supports multiple programming models (MapReduce being one of them) by decoupling resource management from application scheduling/monitoring.</span></span> <span data-ttu-id="464b6-120">YARN utilise les éléments suivant : *ResourceManager* (RM) global, *NodeManagers* (NM) par nœud worker et *ApplicationMasters* (AM) par application.</span><span class="sxs-lookup"><span data-stu-id="464b6-120">YARN uses a global *ResourceManager* (RM), per-worker-node *NodeManagers* (NMs), and per-application *ApplicationMasters* (AMs).</span></span> <span data-ttu-id="464b6-121">Hello par application AM négocie ressources (processeur, mémoire, disque, réseau) pour l’exécution de votre application avec le Gestionnaire de ressources hello.</span><span class="sxs-lookup"><span data-stu-id="464b6-121">hello per-application AM negotiates resources (CPU, memory, disk, network) for running your application with hello RM.</span></span> <span data-ttu-id="464b6-122">Hello RM fonctionne avec NMs toogrant ces ressources, qui sont accordées en tant que *conteneurs*.</span><span class="sxs-lookup"><span data-stu-id="464b6-122">hello RM works with NMs toogrant these resources, which are granted as *containers*.</span></span> <span data-ttu-id="464b6-123">Hello AM est responsable du suivi des progrès hello de hello conteneurs assignés tooit par le Gestionnaire de ressources hello.</span><span class="sxs-lookup"><span data-stu-id="464b6-123">hello AM is responsible for tracking hello progress of hello containers assigned tooit by hello RM.</span></span> <span data-ttu-id="464b6-124">Une application peut nécessiter de nombreux conteneurs selon la nature hello de l’application hello.</span><span class="sxs-lookup"><span data-stu-id="464b6-124">An application may require many containers depending on hello nature of hello application.</span></span>

<span data-ttu-id="464b6-125">Chaque application peut comporter plusieurs *tentatives d’application*.</span><span class="sxs-lookup"><span data-stu-id="464b6-125">Each application may consist of multiple *application attempts*.</span></span> <span data-ttu-id="464b6-126">Si une application échoue, vous pouvez la relancer. Il s’agit alors d’une nouvelle tentative.</span><span class="sxs-lookup"><span data-stu-id="464b6-126">If an application fails, it may be retried as a new attempt.</span></span> <span data-ttu-id="464b6-127">Chaque tentative est exécutée dans un conteneur.</span><span class="sxs-lookup"><span data-stu-id="464b6-127">Each attempt runs in a container.</span></span> <span data-ttu-id="464b6-128">Dans un sens, un conteneur fournit le contexte hello pour l’unité de base du travail effectué par une application fils.</span><span class="sxs-lookup"><span data-stu-id="464b6-128">In a sense, a container provides hello context for basic unit of work performed by a YARN application.</span></span> <span data-ttu-id="464b6-129">Tout le travail est effectué dans le contexte de hello d’un conteneur est effectué sur le nœud de travail unique hello sur quel hello conteneur a été alloué.</span><span class="sxs-lookup"><span data-stu-id="464b6-129">All work that is done within hello context of a container is performed on hello single worker node on which hello container was allocated.</span></span> <span data-ttu-id="464b6-130">Pour plus d’informations, consultez la rubrique [Concepts relatifs à YARN][YARN-concepts].</span><span class="sxs-lookup"><span data-stu-id="464b6-130">See [YARN Concepts][YARN-concepts] for further reference.</span></span>

<span data-ttu-id="464b6-131">Journaux de l’application (et journaux du conteneur hello associé) sont critiques dans le débogage des applications Hadoop problématiques.</span><span class="sxs-lookup"><span data-stu-id="464b6-131">Application logs (and hello associated container logs) are critical in debugging problematic Hadoop applications.</span></span> <span data-ttu-id="464b6-132">FILS fournit une infrastructure intéressante pour la collecte, l’agrégation et le stockage des journaux d’application hello [journal agrégation] [ log-aggregation] fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="464b6-132">YARN provides a nice framework for collecting, aggregating, and storing application logs with hello [Log Aggregation][log-aggregation] feature.</span></span> <span data-ttu-id="464b6-133">fonction d’agrégation de journal Hello rend l’accès aux journaux d’application plus déterministe.</span><span class="sxs-lookup"><span data-stu-id="464b6-133">hello Log Aggregation feature makes accessing application logs more deterministic.</span></span> <span data-ttu-id="464b6-134">Il regroupe les journaux de tous les conteneurs sur un nœud Worker et les stocke dans un fichier journal agrégé par nœud Worker.</span><span class="sxs-lookup"><span data-stu-id="464b6-134">It aggregates logs across all containers on a worker node and stores them as one aggregated log file per worker node.</span></span> <span data-ttu-id="464b6-135">journal de Hello est stocké sur le système de fichiers par défaut hello à l’issue de l’exécution d’une application.</span><span class="sxs-lookup"><span data-stu-id="464b6-135">hello log is stored on hello default file system after an application finishes.</span></span> <span data-ttu-id="464b6-136">Votre application peut utiliser des centaines, voire des milliers de conteneurs, mais les journaux pour s’exécuter sur un nœud de travail unique de tous les conteneurs sont toujours tooa agrégée fichier unique.</span><span class="sxs-lookup"><span data-stu-id="464b6-136">Your application may use hundreds or thousands of containers, but logs for all containers run on a single worker node are always aggregated tooa single file.</span></span> <span data-ttu-id="464b6-137">Cela se traduit par l’existence d’un seul fichier journal par nœud worker utilisé par votre application.</span><span class="sxs-lookup"><span data-stu-id="464b6-137">So there is only 1 log per worker node used by your application.</span></span> <span data-ttu-id="464b6-138">L’agrégation de journaux est activée par défaut sur les clusters HDInsight version 3.0 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="464b6-138">Log Aggregation is enabled by default on HDInsight clusters version 3.0 and above.</span></span> <span data-ttu-id="464b6-139">Journaux agrégées sont situés dans le stockage par défaut pour le cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="464b6-139">Aggregated logs are located in default storage for hello cluster.</span></span> <span data-ttu-id="464b6-140">Hello suivant le chemin d’accès est hello HDFS chemin d’accès toohello journaux :</span><span class="sxs-lookup"><span data-stu-id="464b6-140">hello following path is hello HDFS path toohello logs:</span></span>

    /app-logs/<user>/logs/<applicationId>

<span data-ttu-id="464b6-141">Dans le chemin d’accès de hello, `user` hello nom de hello utilisateur qui a démarré l’application hello.</span><span class="sxs-lookup"><span data-stu-id="464b6-141">In hello path, `user` is hello name of hello user who started hello application.</span></span> <span data-ttu-id="464b6-142">Hello `applicationId` est application de tooan hello identificateur unique affecté par le Gestionnaire de ressources hello fils.</span><span class="sxs-lookup"><span data-stu-id="464b6-142">hello `applicationId` is hello unique identifier assigned tooan application by hello YARN RM.</span></span>

<span data-ttu-id="464b6-143">Hello agrégées journaux ne sont pas directement accessible en lecture, qu’ils sont écrits un [TFile][T-file], [format binaire] [ binary-format] indexé par le conteneur.</span><span class="sxs-lookup"><span data-stu-id="464b6-143">hello aggregated logs are not directly readable, as they are written in a [TFile][T-file], [binary format][binary-format] indexed by container.</span></span> <span data-ttu-id="464b6-144">Utiliser hello que fils ResourceManager consigne ou CLI outils tooview ces journaux comme texte brut pour des applications ou des conteneurs d’intérêt.</span><span class="sxs-lookup"><span data-stu-id="464b6-144">Use hello YARN ResourceManager logs or CLI tools tooview these logs as plain text for applications or containers of interest.</span></span>

## <a name="yarn-cli-tools"></a><span data-ttu-id="464b6-145">Outils de l’interface de ligne de commande YARN</span><span class="sxs-lookup"><span data-stu-id="464b6-145">YARN CLI tools</span></span>

<span data-ttu-id="464b6-146">outils de toouse hello fils CLI, vous devez d’abord connecter cluster HDInsight de toohello à l’aide de SSH.</span><span class="sxs-lookup"><span data-stu-id="464b6-146">toouse hello YARN CLI tools, you must first connect toohello HDInsight cluster using SSH.</span></span> <span data-ttu-id="464b6-147">Pour en savoir plus, voir [Utilisation de SSH avec HDInsight (Hadoop) depuis Bash (l’interpréteur de commande) sur Windows 10, Linux, Unix ou OS X](hdinsight-hadoop-linux-use-ssh-unix.md).</span><span class="sxs-lookup"><span data-stu-id="464b6-147">For information, see [Use SSH with HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md).</span></span>

<span data-ttu-id="464b6-148">Vous pouvez afficher ces journaux sous forme de texte brut en exécutant un de hello suivant de commandes :</span><span class="sxs-lookup"><span data-stu-id="464b6-148">You can view these logs as plain text by running one of hello following commands:</span></span>

    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application>
    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application> -containerId <containerId> -nodeAddress <worker-node-address>

<span data-ttu-id="464b6-149">Spécifiez hello &lt;applicationId >, &lt;utilisateur qui-démarré-applications >, &lt;Id_conteneur >, et &lt;adresse du nœud de travail > informations lors de l’exécution de ces commandes.</span><span class="sxs-lookup"><span data-stu-id="464b6-149">Specify hello &lt;applicationId>, &lt;user-who-started-the-application>, &lt;containerId>, and &lt;worker-node-address> information when running these commands.</span></span>

## <a name="yarn-resourcemanager-ui"></a><span data-ttu-id="464b6-150">Interface utilisateur de ResourceManager YARN</span><span class="sxs-lookup"><span data-stu-id="464b6-150">YARN ResourceManager UI</span></span>

<span data-ttu-id="464b6-151">Hello fils ResourceManager UI s’exécute sur le nœud principal du cluster hello.</span><span class="sxs-lookup"><span data-stu-id="464b6-151">hello YARN ResourceManager UI runs on hello cluster headnode.</span></span> <span data-ttu-id="464b6-152">Il est accessible via l’interface utilisateur web de Ambari hello.</span><span class="sxs-lookup"><span data-stu-id="464b6-152">It is accessed through hello Ambari web UI.</span></span> <span data-ttu-id="464b6-153">Hello utilisation suivant les étapes tooview hello fils de journaux :</span><span class="sxs-lookup"><span data-stu-id="464b6-153">Use hello following steps tooview hello YARN logs:</span></span>

1. <span data-ttu-id="464b6-154">Dans votre navigateur web, accédez à toohttps://CLUSTERNAME.azurehdinsight.net.</span><span class="sxs-lookup"><span data-stu-id="464b6-154">In your web browser, navigate toohttps://CLUSTERNAME.azurehdinsight.net.</span></span> <span data-ttu-id="464b6-155">Remplacez CLUSTERNAME par nom hello de votre cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="464b6-155">Replace CLUSTERNAME with hello name of your HDInsight cluster.</span></span>
2. <span data-ttu-id="464b6-156">À partir de la liste de hello des services sur hello gauche, sélectionnez **fils**.</span><span class="sxs-lookup"><span data-stu-id="464b6-156">From hello list of services on hello left, select **YARN**.</span></span>

    ![Service YARN sélectionné](./media/hdinsight-hadoop-access-yarn-app-logs-linux/yarnservice.png)
3. <span data-ttu-id="464b6-158">À partir de hello **liens rapides** liste déroulante, sélectionnez un des nœuds principaux d’un cluster hello puis **ResourceManager journal**.</span><span class="sxs-lookup"><span data-stu-id="464b6-158">From hello **Quick Links** dropdown, select one of hello cluster head nodes and then select **ResourceManager Log**.</span></span>

    ![Liens rapides YARN](./media/hdinsight-hadoop-access-yarn-app-logs-linux/yarnquicklinks.png)

    <span data-ttu-id="464b6-160">Vous sont présentées avec une liste de liens tooYARN journaux.</span><span class="sxs-lookup"><span data-stu-id="464b6-160">You are presented with a list of links tooYARN logs.</span></span>

[YARN-timeline-server]:http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html
[log-aggregation]:http://hortonworks.com/blog/simplifying-user-logs-management-and-access-in-yarn/
[T-file]:https://issues.apache.org/jira/secure/attachment/12396286/TFile%20Specification%2020081217.pdf
[binary-format]:https://issues.apache.org/jira/browse/HADOOP-3315
[YARN-concepts]:http://hortonworks.com/blog/apache-hadoop-yarn-concepts-and-applications/
