---
title: applications de HDInsight aaaPublish - Azure | Documents Microsoft
description: "Découvrez comment toocreate et publier des applications de HDInsight."
services: hdinsight
documentationcenter: 
author: mumian
manager: jhubbard
editor: cgronlun
tags: azure-portal
ms.assetid: 14aef891-7a37-4cf1-8f7d-ca923565c783
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 05/25/2017
ms.author: jgao
ms.openlocfilehash: 7da0aa53828563e50ef372df901e1ba541fb40be
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="publish-hdinsight-applications-into-hello-azure-marketplace"></a><span data-ttu-id="baa54-103">Publier des applications HDInsight dans hello Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="baa54-103">Publish HDInsight applications into hello Azure Marketplace</span></span>
<span data-ttu-id="baa54-104">Une application HDInsight est une application que les utilisateurs peuvent installer sur un cluster HDInsight sous Linux.</span><span class="sxs-lookup"><span data-stu-id="baa54-104">An HDInsight application is an application that users can install on a Linux-based HDInsight cluster.</span></span> <span data-ttu-id="baa54-105">Ces applications peuvent être développées par Microsoft, par des éditeurs de logiciels indépendants (ISV) ou par vous-même.</span><span class="sxs-lookup"><span data-stu-id="baa54-105">These applications can be developed by Microsoft, independent software vendors (ISV) or by yourself.</span></span> <span data-ttu-id="baa54-106">Dans cet article, vous apprendrez comment toopublish une application HDInsight dans hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="baa54-106">In this article, you learn how toopublish an HDInsight application into hello Azure Marketplace.</span></span>  <span data-ttu-id="baa54-107">Pour obtenir des informations générales sur la publication dans hello Azure Marketplace, consultez [publier un toohello offre Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="baa54-107">For general information about publishing into hello Azure Marketplace, see [publish an offer toohello Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md).</span></span>

<span data-ttu-id="baa54-108">Les applications HDInsight utilisent hello *mettre votre propre licence (BYOL)* modèle, le fournisseur de l’application est responsable de la licence tooend-utilisateurs de l’application hello, alors que les utilisateurs finaux sont uniquement facturé par Azure pour les ressources de hello ils Créez, telles que le cluster HDInsight de hello et ses machines virtuelles/nœuds.</span><span class="sxs-lookup"><span data-stu-id="baa54-108">HDInsight applications use hello *Bring Your Own License (BYOL)* model, where application provider is responsible for licensing hello application tooend-users, and end-users are only charged by Azure for hello resources they create, such as hello HDInsight cluster and its VMs/nodes.</span></span> <span data-ttu-id="baa54-109">Actuellement, la facturation pour l’application hello elle-même n’est pas effectuée via Azure.</span><span class="sxs-lookup"><span data-stu-id="baa54-109">Currently, billing for hello application itself is not done through Azure.</span></span>

<span data-ttu-id="baa54-110">Autre article concernant les applications HDInsight :</span><span class="sxs-lookup"><span data-stu-id="baa54-110">Other HDInsight application-related article:</span></span>

* <span data-ttu-id="baa54-111">[Installer des applications de HDInsight](hdinsight-apps-install-applications.md): Découvrez comment tooinstall un tooyour d’application HDInsight clusters.</span><span class="sxs-lookup"><span data-stu-id="baa54-111">[Install HDInsight applications](hdinsight-apps-install-applications.md): Learn how tooinstall an HDInsight application tooyour clusters.</span></span>
* <span data-ttu-id="baa54-112">[Installer des applications personnalisées HDInsight](hdinsight-apps-install-custom-applications.md): Découvrez comment tooinstall et test des applications HDInsight personnalisées.</span><span class="sxs-lookup"><span data-stu-id="baa54-112">[Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md): Learn how tooinstall and test custom HDInsight applications.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="baa54-113">Composants requis</span><span class="sxs-lookup"><span data-stu-id="baa54-113">Prerequisites</span></span>
<span data-ttu-id="baa54-114">toosubmit votre marketplace toohello application personnalisée, vous devez avoir créé et testé votre application personnalisée.</span><span class="sxs-lookup"><span data-stu-id="baa54-114">toosubmit your custom application toohello marketplace, you must have created and tested your custom application.</span></span> <span data-ttu-id="baa54-115">Consultez hello suivant des articles :</span><span class="sxs-lookup"><span data-stu-id="baa54-115">See hello following articles:</span></span>

* <span data-ttu-id="baa54-116">[Installer des applications personnalisées HDInsight](hdinsight-apps-install-custom-applications.md): Découvrez comment tooinstall et test des applications HDInsight personnalisées.</span><span class="sxs-lookup"><span data-stu-id="baa54-116">[Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md): Learn how tooinstall and test custom HDInsight applications.</span></span>

<span data-ttu-id="baa54-117">Vous devez également avoir inscrit votre compte de développeur.</span><span class="sxs-lookup"><span data-stu-id="baa54-117">You must also have registered your developer account.</span></span> <span data-ttu-id="baa54-118">Consultez [publier un toohello offre Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md) et [créer un compte Microsoft Developer](../marketplace-publishing/marketplace-publishing-accounts-creation-registration.md).</span><span class="sxs-lookup"><span data-stu-id="baa54-118">See [publish an offer toohello Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md) and [Create a Microsoft Developer account](../marketplace-publishing/marketplace-publishing-accounts-creation-registration.md).</span></span>

## <a name="define-application"></a><span data-ttu-id="baa54-119">Définir l’application</span><span class="sxs-lookup"><span data-stu-id="baa54-119">Define application</span></span>
<span data-ttu-id="baa54-120">Il existe deux étapes impliquées pour la publication d’applications toohello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="baa54-120">There are two steps involved for publishing applications toohello Azure Marketplace.</span></span>  <span data-ttu-id="baa54-121">Vous définissez d’abord un **createUiDef.json** tooindicate fichier dont les clusters de votre application est compatible avec ; et que vous publiez modèle hello hello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="baa54-121">First you define a **createUiDef.json** file tooindicate which clusters your application is compatible with; and then you publish hello template from hello Azure portal.</span></span> <span data-ttu-id="baa54-122">Hello suivant la section est un exemple de fichier createUiDef.json.</span><span class="sxs-lookup"><span data-stu-id="baa54-122">hello following section is a sample createUiDef.json file.</span></span>

    {
        "handler": "Microsoft.HDInsight",
        "version": "0.0.1-preview",
        "clusterFilters": {
            "types": ["Hadoop", "HBase", "Storm", "Spark"],
            "tiers": ["Standard", "Premium"],
            "versions": ["3.4"]
        }
    }


| <span data-ttu-id="baa54-123">Champ</span><span class="sxs-lookup"><span data-stu-id="baa54-123">Field</span></span> | <span data-ttu-id="baa54-124">Description</span><span class="sxs-lookup"><span data-stu-id="baa54-124">Description</span></span> | <span data-ttu-id="baa54-125">Valeurs possibles</span><span class="sxs-lookup"><span data-stu-id="baa54-125">Possible values</span></span> |
| --- | --- | --- |
| <span data-ttu-id="baa54-126">types</span><span class="sxs-lookup"><span data-stu-id="baa54-126">types</span></span> |<span data-ttu-id="baa54-127">types de cluster de Hello application hello est compatible avec.</span><span class="sxs-lookup"><span data-stu-id="baa54-127">hello cluster types that hello application is compatible with.</span></span> |<span data-ttu-id="baa54-128">Hadoop, HBase, Storm, Spark (ou toute combinaison de ceux-ci)</span><span class="sxs-lookup"><span data-stu-id="baa54-128">Hadoop, HBase, Storm, Spark, (or any combination of these)</span></span> |
| <span data-ttu-id="baa54-129">tiers</span><span class="sxs-lookup"><span data-stu-id="baa54-129">tiers</span></span> |<span data-ttu-id="baa54-130">niveaux de cluster Hello application hello est compatible avec.</span><span class="sxs-lookup"><span data-stu-id="baa54-130">hello cluster tiers that hello application is compatible with.</span></span> |<span data-ttu-id="baa54-131">Standard, Premium, (ou les deux)</span><span class="sxs-lookup"><span data-stu-id="baa54-131">Standard, Premium, (or both)</span></span> |
| <span data-ttu-id="baa54-132">versions</span><span class="sxs-lookup"><span data-stu-id="baa54-132">versions</span></span> |<span data-ttu-id="baa54-133">les types du cluster HDInsight Hello hello application est compatible avec.</span><span class="sxs-lookup"><span data-stu-id="baa54-133">hello HDInsight cluster types that hello application is compatible with.</span></span> |<span data-ttu-id="baa54-134">3.4</span><span class="sxs-lookup"><span data-stu-id="baa54-134">3.4</span></span> |

## <a name="application-install-script"></a><span data-ttu-id="baa54-135">Script d’installation d’application</span><span class="sxs-lookup"><span data-stu-id="baa54-135">Application install script</span></span>
<span data-ttu-id="baa54-136">Chaque fois qu’une application est installée sur un cluster (un existant ou un autre), un nœud est créé et le script d’installation hello application est exécutée sur celui-ci.</span><span class="sxs-lookup"><span data-stu-id="baa54-136">Whenever an application is installed on a cluster (either an existing one or a new one), an edge node is created and hello application install script is run on it.</span></span>
  > [!IMPORTANT]
  > <span data-ttu-id="baa54-137">nom Hello des noms de script installation hello application doit être unique pour un cluster particulier avec hello suivant le format.</span><span class="sxs-lookup"><span data-stu-id="baa54-137">hello name of hello application install script names must be unique for a particular cluster with hello following format.</span></span>
  > 
  > <span data-ttu-id="baa54-138">name": "[concat('hue-install-v0','-' ,uniquestring(‘applicationName’)]"</span><span class="sxs-lookup"><span data-stu-id="baa54-138">name": "[concat('hue-install-v0','-' ,uniquestring(‘applicationName’)]"</span></span>
  > 
  > <span data-ttu-id="baa54-139">Notez qu’il y nom du script toohello trois parties :</span><span class="sxs-lookup"><span data-stu-id="baa54-139">Note there are three parts toohello script name:</span></span>
  > 
  > 1. <span data-ttu-id="baa54-140">Préfixe de nom de script, qui comprend le nom de l’application hello ou d’une application toohello appropriées de nom.</span><span class="sxs-lookup"><span data-stu-id="baa54-140">A script name prefix, which shall include either hello application name or a name relevant toohello application.</span></span>
  > 2. <span data-ttu-id="baa54-141">Un tiret, pour une meilleure lisibilité.</span><span class="sxs-lookup"><span data-stu-id="baa54-141">A "-" for readability.</span></span>
  > 3. <span data-ttu-id="baa54-142">Fonction de chaîne unique avec le nom de l’application hello comme paramètre de hello.</span><span class="sxs-lookup"><span data-stu-id="baa54-142">A unique string function with hello application name as hello parameter.</span></span>
  > 
  > <span data-ttu-id="baa54-143">Est un exemple hello ci-dessus finit devenant : teinte-install-v0-4wkahss55hlas Bonjour persistante la liste des actions de script.</span><span class="sxs-lookup"><span data-stu-id="baa54-143">An example is hello above ends up becoming: hue-install-v0-4wkahss55hlas in hello persisted script action list.</span></span> <span data-ttu-id="baa54-144">Pour obtenir un exemple de charge JSON, consultez [https://raw.githubusercontent.com/hdinsight/Iaas-Applications/master/Hue/azuredeploy.json](https://raw.githubusercontent.com/hdinsight/Iaas-Applications/master/Hue/azuredeploy.json).</span><span class="sxs-lookup"><span data-stu-id="baa54-144">For a sample JSON payload, see [https://raw.githubusercontent.com/hdinsight/Iaas-Applications/master/Hue/azuredeploy.json](https://raw.githubusercontent.com/hdinsight/Iaas-Applications/master/Hue/azuredeploy.json).</span></span>
  > 
<span data-ttu-id="baa54-145">script d’installation Hello doit avoir hello suivant caractéristiques :</span><span class="sxs-lookup"><span data-stu-id="baa54-145">hello installation script must have hello following characteristics:</span></span>
1. <span data-ttu-id="baa54-146">Assurez-vous que le script de hello est idempotente.</span><span class="sxs-lookup"><span data-stu-id="baa54-146">Ensure that hello script is idempotent.</span></span> <span data-ttu-id="baa54-147">Plusieurs appels toohello script doit produire hello même résultat.</span><span class="sxs-lookup"><span data-stu-id="baa54-147">Multiple calls toohello script should produce hello same result.</span></span>
2. <span data-ttu-id="baa54-148">script de Hello doit être gérée correctement.</span><span class="sxs-lookup"><span data-stu-id="baa54-148">hello script should be properly versioned.</span></span> <span data-ttu-id="baa54-149">Utiliser un autre emplacement pour le script de hello lors de la mise à niveau ou de tester des modifications afin que les clients qui essaient d’application de hello tooinstall ne sont pas affectées.</span><span class="sxs-lookup"><span data-stu-id="baa54-149">Use a different location for hello script when you are upgrading or testing out changes so that customers that are trying tooinstall hello application are not affected.</span></span> 
3. <span data-ttu-id="baa54-150">Ajouter des scripts de journalisation adéquates toohello à chaque point.</span><span class="sxs-lookup"><span data-stu-id="baa54-150">Add adequate logging toohello scripts at each point.</span></span> <span data-ttu-id="baa54-151">Hello généralement les journaux de script est hello seule façon toodebug installation des applications.</span><span class="sxs-lookup"><span data-stu-id="baa54-151">Usually hello script logs are hello only way toodebug application installation issues.</span></span>
4. <span data-ttu-id="baa54-152">Assurez-vous que les appels tooexternal services ou des ressources ont des tentatives adéquates afin que l’installation de hello n’est pas affectée par des problèmes réseau temporaires.</span><span class="sxs-lookup"><span data-stu-id="baa54-152">Ensure that calls tooexternal services or resources have adequate retries so that hello installation is not affected by transient network issues.</span></span>
5. <span data-ttu-id="baa54-153">Si votre script de démarrage des services sur les nœuds de hello, vérifiez que hello sont analysés et configurer les services toostart automatiquement en cas de redémarrage à un autre nœud.</span><span class="sxs-lookup"><span data-stu-id="baa54-153">If your script is starting services on hello nodes, ensure that hello services are monitored and configured toostart automatically in case of node reboots.</span></span>

## <a name="package-application"></a><span data-ttu-id="baa54-154">Empaqueter une application</span><span class="sxs-lookup"><span data-stu-id="baa54-154">Package application</span></span>
<span data-ttu-id="baa54-155">Créez un fichier zip qui contient tous les fichiers requis pour l’installation de vos applications HDInsight.</span><span class="sxs-lookup"><span data-stu-id="baa54-155">Create a zip file that contains all required files for installing your HDInsight applications.</span></span> <span data-ttu-id="baa54-156">Vous devez hello fichier zip dans [publier l’application](#publish-application).</span><span class="sxs-lookup"><span data-stu-id="baa54-156">You need hello zip file in [Publish application](#publish-application).</span></span>

* <span data-ttu-id="baa54-157">[createUiDefinition.json](#define-application).</span><span class="sxs-lookup"><span data-stu-id="baa54-157">[createUiDefinition.json](#define-application).</span></span>
* <span data-ttu-id="baa54-158">mainTemplate.json.</span><span class="sxs-lookup"><span data-stu-id="baa54-158">mainTemplate.json.</span></span> <span data-ttu-id="baa54-159">Voir un exemple dans l’article [Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md)(Installer des applications HDInsight personnalisées).</span><span class="sxs-lookup"><span data-stu-id="baa54-159">See a sample at [Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md).</span></span>
* <span data-ttu-id="baa54-160">Tous les scripts nécessaires.</span><span class="sxs-lookup"><span data-stu-id="baa54-160">All required scripts.</span></span>

> [!NOTE]
> <span data-ttu-id="baa54-161">Hello des fichiers d’application (y compris les fichiers d’application web le cas échéant) peut se trouver sur n’importe quel point de terminaison accessible publiquement.</span><span class="sxs-lookup"><span data-stu-id="baa54-161">hello application files (including web application files if there is any) can be located on any publicly accessible endpoint.</span></span>
> 

## <a name="publish-application"></a><span data-ttu-id="baa54-162">Publication de l’application</span><span class="sxs-lookup"><span data-stu-id="baa54-162">Publish application</span></span>
<span data-ttu-id="baa54-163">Suivez hello suivant les étapes toopublish une application HDInsight :</span><span class="sxs-lookup"><span data-stu-id="baa54-163">Follow hello following steps toopublish an HDInsight application:</span></span>

1. <span data-ttu-id="baa54-164">Ouverture de session toohello [portail de publication Azure](https://publish.windowsazure.com/).</span><span class="sxs-lookup"><span data-stu-id="baa54-164">Sign on toohello [Azure Publishing portal](https://publish.windowsazure.com/).</span></span>
2. <span data-ttu-id="baa54-165">Cliquez sur **des modèles de Solution** de toocreate de gauche hello un nouveau modèle de solution.</span><span class="sxs-lookup"><span data-stu-id="baa54-165">Click **Solution templates** from hello left toocreate a new solution template.</span></span>
3. <span data-ttu-id="baa54-166">Entrez un titre, puis cliquez sur **Créer un modèle de solution**.</span><span class="sxs-lookup"><span data-stu-id="baa54-166">Enter a title, and then click **Create a new solution template**.</span></span>
4. <span data-ttu-id="baa54-167">Cliquez sur **compte Centre de développement de créer et jointure hello programme Azure** tooregister votre entreprise si vous n’avez pas encore fait.</span><span class="sxs-lookup"><span data-stu-id="baa54-167">Click **Create Dev Center account and join hello Azure program** tooregister your company if you haven't done so.</span></span>  <span data-ttu-id="baa54-168">Consultez les pages [Créer un compte de développeur Microsoft](../marketplace-publishing/marketplace-publishing-accounts-creation-registration.md).</span><span class="sxs-lookup"><span data-stu-id="baa54-168">See [Create a Microsoft Developer account](../marketplace-publishing/marketplace-publishing-accounts-creation-registration.md).</span></span>
5. <span data-ttu-id="baa54-169">Cliquez sur **définir certains tooget Topologies démarré**.</span><span class="sxs-lookup"><span data-stu-id="baa54-169">Click **Define some Topologies tooget Started**.</span></span> <span data-ttu-id="baa54-170">Un modèle de solution est un tooall « parent » ses topologies.</span><span class="sxs-lookup"><span data-stu-id="baa54-170">A solution template is a "parent" tooall its topologies.</span></span> <span data-ttu-id="baa54-171">Vous pouvez définir plusieurs topologies dans une offre/un modèle de solution.</span><span class="sxs-lookup"><span data-stu-id="baa54-171">You can define multiple topologies in one offer/solution template.</span></span> <span data-ttu-id="baa54-172">Lorsqu’une offre est envoyée toostaging, il est envoyé avec toutes les topologies de son.</span><span class="sxs-lookup"><span data-stu-id="baa54-172">When an offer is pushed toostaging, it is pushed with all its topologies.</span></span> 
6. <span data-ttu-id="baa54-173">Entrez un nom de la topologie, puis cliquez sur le signe plus hello.</span><span class="sxs-lookup"><span data-stu-id="baa54-173">Enter a topology name, and then click hello plus sign.</span></span>
7. <span data-ttu-id="baa54-174">Entrez une nouvelle version, puis cliquez sur hello signe Plus.</span><span class="sxs-lookup"><span data-stu-id="baa54-174">Enter a new version, and then click hello Plus sign.</span></span>
8. <span data-ttu-id="baa54-175">Fichier zip de téléchargement hello préparé à [Package d’application](#package-application).</span><span class="sxs-lookup"><span data-stu-id="baa54-175">Upload hello zip file prepared in [Package application](#package-application).</span></span>  
9. <span data-ttu-id="baa54-176">Cliquez sur **Request Certification**(Demander la certification).</span><span class="sxs-lookup"><span data-stu-id="baa54-176">Click **Request Certification**.</span></span> <span data-ttu-id="baa54-177">équipe de certification Microsoft Hello sera passez en revue les fichiers hello et certifie la topologie de hello.</span><span class="sxs-lookup"><span data-stu-id="baa54-177">hello Microsoft certification team will review hello files and certify hello topology.</span></span>

## <a name="next-steps"></a><span data-ttu-id="baa54-178">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="baa54-178">Next steps</span></span>
* <span data-ttu-id="baa54-179">[Installer des applications de HDInsight](hdinsight-apps-install-applications.md): Découvrez comment tooinstall un tooyour d’application HDInsight clusters.</span><span class="sxs-lookup"><span data-stu-id="baa54-179">[Install HDInsight applications](hdinsight-apps-install-applications.md): Learn how tooinstall an HDInsight application tooyour clusters.</span></span>
* <span data-ttu-id="baa54-180">[Installer des applications personnalisées HDInsight](hdinsight-apps-install-custom-applications.md): Découvrez comment toodeploy un tooHDInsight d’application HDInsight non publiée.</span><span class="sxs-lookup"><span data-stu-id="baa54-180">[Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md): learn how toodeploy an unpublished HDInsight application tooHDInsight.</span></span>
* <span data-ttu-id="baa54-181">[Personnaliser des clusters HDInsight de basés sur Linux à l’aide de Script Action](hdinsight-hadoop-customize-cluster-linux.md): Découvrez comment des applications supplémentaires toouse Action de Script tooinstall.</span><span class="sxs-lookup"><span data-stu-id="baa54-181">[Customize Linux-based HDInsight clusters using Script Action](hdinsight-hadoop-customize-cluster-linux.md): learn how toouse Script Action tooinstall additional applications.</span></span>
* <span data-ttu-id="baa54-182">[Créer des clusters basés sur Linux de Hadoop dans HDInsight à l’aide de modèles Azure Resource Manager](hdinsight-hadoop-create-linux-clusters-arm-templates.md): Découvrez comment toocall le Gestionnaire de ressources modèles toocreate HDInsight clusters.</span><span class="sxs-lookup"><span data-stu-id="baa54-182">[Create Linux-based Hadoop clusters in HDInsight using Azure Resource Manager templates](hdinsight-hadoop-create-linux-clusters-arm-templates.md): learn how toocall Resource Manager templates toocreate HDInsight clusters.</span></span>
* <span data-ttu-id="baa54-183">[Utiliser noeuds vide dans HDInsight](hdinsight-apps-use-edge-node.md): Découvrez comment toouse vide bord du nœud pour l’accès à cluster HDInsight, test des applications de HDInsight et l’hébergement des applications de HDInsight.</span><span class="sxs-lookup"><span data-stu-id="baa54-183">[Use empty edge nodes in HDInsight](hdinsight-apps-use-edge-node.md): learn how toouse an empty edge node for accessing HDInsight cluster, testing HDInsight applications, and hosting HDInsight applications.</span></span>

