---
title: Utiliser SSH avec Hadoop - Azure HDInsight | Microsoft Docs
description: "Vous pouvez accéder à un cluster HDInsight à l’aide de SSH (Secure Shell). Ce document fournit des informations sur la connexion à HDInsight à l’aide des commandes SSH et SCP à partir de clients Windows, Linux, Unix ou macOS."
services: hdinsight
documentationcenter: 
author: Blackmist
manager: jhubbard
editor: cgronlun
tags: azure-portal
keywords: commandes hadoop dans linux,commandes hadoop linux,hadoop macos,ssh hadoop,cluster ssh hadoop
ms.assetid: a6a16405-a4a7-4151-9bbf-ab26972216c5
ms.service: hdinsight
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 08/03/2017
ms.author: larryfr
ms.custom: H1Hack27Feb2017,hdinsightactive,hdiseo17may2017
ms.openlocfilehash: df0feb51469333bac42c779d860192d46f24ac62
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/18/2017
---
# <a name="connect-to-hdinsight-hadoop-using-ssh"></a><span data-ttu-id="cf9ad-105">Se connecter à HDInsight (Hadoop) à l’aide de SSH</span><span class="sxs-lookup"><span data-stu-id="cf9ad-105">Connect to HDInsight (Hadoop) using SSH</span></span>

<span data-ttu-id="cf9ad-106">Découvrez comment utiliser [Secure Shell (SSH)](https://en.wikipedia.org/wiki/Secure_Shell) pour vous connecter en toute sécurité à Hadoop sur Azure HDInsight.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-106">Learn how to use [Secure Shell (SSH)](https://en.wikipedia.org/wiki/Secure_Shell) to securely connect to Hadoop on Azure HDInsight.</span></span> 

<span data-ttu-id="cf9ad-107">HDInsight peut utiliser Linux (Ubuntu) comme système d’exploitation pour les nœuds du cluster Hadoop.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-107">HDInsight can use Linux (Ubuntu) as the operating system for nodes within the Hadoop cluster.</span></span> <span data-ttu-id="cf9ad-108">Le tableau suivant contient les informations d’adresse et de port nécessaires lors de la connexion à HDInsight basé sur Linux à l’aide d’un client SSH :</span><span class="sxs-lookup"><span data-stu-id="cf9ad-108">The following table contains the address and port information needed when connecting to Linux-based HDInsight using an SSH client:</span></span>

| <span data-ttu-id="cf9ad-109">Adresse</span><span class="sxs-lookup"><span data-stu-id="cf9ad-109">Address</span></span> | <span data-ttu-id="cf9ad-110">Port</span><span class="sxs-lookup"><span data-stu-id="cf9ad-110">Port</span></span> | <span data-ttu-id="cf9ad-111">Se connecte au...</span><span class="sxs-lookup"><span data-stu-id="cf9ad-111">Connects to...</span></span> |
| ----- | ----- | ----- |
| `<clustername>-ed-ssh.azurehdinsight.net` | <span data-ttu-id="cf9ad-112">22</span><span class="sxs-lookup"><span data-stu-id="cf9ad-112">22</span></span> | <span data-ttu-id="cf9ad-113">Nœud de périmètre (R Server sur HDInsight)</span><span class="sxs-lookup"><span data-stu-id="cf9ad-113">Edge node (R Server on HDInsight)</span></span> |
| `<edgenodename>.<clustername>-ssh.azurehdinsight.net` | <span data-ttu-id="cf9ad-114">22</span><span class="sxs-lookup"><span data-stu-id="cf9ad-114">22</span></span> | <span data-ttu-id="cf9ad-115">Nœud de périmètre (n’importe quel autre type de cluster, si un nœud de périmètre existe)</span><span class="sxs-lookup"><span data-stu-id="cf9ad-115">Edge node (any other cluster type, if an edge node exists)</span></span> |
| `<clustername>-ssh.azurehdinsight.net` | <span data-ttu-id="cf9ad-116">22</span><span class="sxs-lookup"><span data-stu-id="cf9ad-116">22</span></span> | <span data-ttu-id="cf9ad-117">Nœud principal primaire</span><span class="sxs-lookup"><span data-stu-id="cf9ad-117">Primary headnode</span></span> |
| `<clustername>-ssh.azurehdinsight.net` | <span data-ttu-id="cf9ad-118">23</span><span class="sxs-lookup"><span data-stu-id="cf9ad-118">23</span></span> | <span data-ttu-id="cf9ad-119">Nœud principal secondaire</span><span class="sxs-lookup"><span data-stu-id="cf9ad-119">Secondary headnode</span></span> |

> [!NOTE]
> <span data-ttu-id="cf9ad-120">Remplacez `<edgenodename>` par le nom du nœud de périmètre.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-120">Replace `<edgenodename>` with the name of the edge node.</span></span>
>
> <span data-ttu-id="cf9ad-121">Remplacez `<clustername>` par le nom de votre cluster.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-121">Replace `<clustername>` with the name of your cluster.</span></span>
>
> <span data-ttu-id="cf9ad-122">Si votre cluster contient un nœud de périmètre, nous vous recommandons de __toujours vous connecter au nœud de périmètre__ à l’aide de SSH.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-122">If your cluster contains an edge node, we recommend that you __always connect to the edge node__ using SSH.</span></span> <span data-ttu-id="cf9ad-123">Les nœuds principaux hébergent des services qui sont essentiels au bon fonctionnement de Hadoop.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-123">The head nodes host services that are critical to the health of Hadoop.</span></span> <span data-ttu-id="cf9ad-124">Le nœud de périmètre exécute uniquement ce que vous placez dans celui-ci.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-124">The edge node runs only what you put on it.</span></span>
>
> <span data-ttu-id="cf9ad-125">Pour plus d’informations sur l’utilisation des nœuds de périmètre, consultez [Utiliser des nœuds de périmètre vides dans HDInsight](hdinsight-apps-use-edge-node.md#access-an-edge-node).</span><span class="sxs-lookup"><span data-stu-id="cf9ad-125">For more information on using edge nodes, see [Use edge nodes in HDInsight](hdinsight-apps-use-edge-node.md#access-an-edge-node).</span></span>

## <a name="ssh-clients"></a><span data-ttu-id="cf9ad-126">Clients SSH</span><span class="sxs-lookup"><span data-stu-id="cf9ad-126">SSH clients</span></span>

<span data-ttu-id="cf9ad-127">Les systèmes Linux, Unix et macOS fournissent les commandes `ssh` et `scp`.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-127">Linux, Unix, and macOS systems provide the `ssh` and `scp` commands.</span></span> <span data-ttu-id="cf9ad-128">Le client `ssh` est généralement utilisé pour créer une session de ligne de commande à distance avec un système basé sur Linux ou Unix.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-128">The `ssh` client is commonly used to create a remote command-line session with a Linux or Unix-based system.</span></span> <span data-ttu-id="cf9ad-129">Le client `scp` est utilisé pour copier des fichiers en toute sécurité entre votre client et le système distant.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-129">The `scp` client is used to securely copy files between your client and the remote system.</span></span>

<span data-ttu-id="cf9ad-130">Microsoft Windows ne fournit pas de clients SSH par défaut.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-130">Microsoft Windows does not provide any SSH clients by default.</span></span> <span data-ttu-id="cf9ad-131">Les clients `ssh` et `scp` sont disponibles pour Windows dans les packages suivants :</span><span class="sxs-lookup"><span data-stu-id="cf9ad-131">The `ssh` and `scp` clients are available for Windows through the following packages:</span></span>

* <span data-ttu-id="cf9ad-132">[Azure Cloud Shell](../cloud-shell/quickstart.md) : Cloud Shell fournit un environnement Bash dans votre navigateur, ainsi que les commandes `ssh`, `scp` et d’autres commandes Linux courantes.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-132">[Azure Cloud Shell](../cloud-shell/quickstart.md): The Cloud Shell provides a Bash environment in your browser, and provides the `ssh`, `scp`, and other common Linux commands.</span></span>

* <span data-ttu-id="cf9ad-133">[Bash sur Ubuntu sur Windows 10](https://msdn.microsoft.com/commandline/wsl/about) : les commandes `ssh` et `scp` sont disponibles via le Bash sur la ligne de commande Windows.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-133">[Bash on Ubuntu on Windows 10](https://msdn.microsoft.com/commandline/wsl/about): The `ssh` and `scp` commands are available through the Bash on Windows command line.</span></span>

* <span data-ttu-id="cf9ad-134">[Git (https://git-scm.com/)](https://git-scm.com/) : les commandes `ssh` et `scp` sont disponibles via la ligne de commande GitBash.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-134">[Git (https://git-scm.com/)](https://git-scm.com/): The `ssh` and `scp` commands are available through the GitBash command line.</span></span>

* <span data-ttu-id="cf9ad-135">[GitHub Desktop (https://desktop.github.com/)](https://desktop.github.com/) : les commandes `ssh` et `scp` sont disponibles via la ligne de commande GitHub Shell.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-135">[GitHub Desktop (https://desktop.github.com/)](https://desktop.github.com/) The `ssh` and `scp` commands are available through the GitHub Shell command line.</span></span> <span data-ttu-id="cf9ad-136">GitHub Desktop peut être configuré pour utiliser un interpréteur de commande, l’invite de commandes Windows ou la ligne de commande PowerShell en tant que ligne de commande pour Git Shell.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-136">GitHub Desktop can be configured to use Bash, the Windows Command Prompt, or PowerShell as the command line for the Git Shell.</span></span>

* <span data-ttu-id="cf9ad-137">[OpenSSH (https://github.com/PowerShell/Win32-OpenSSH/wiki/Install-Win32-OpenSSH)](https://github.com/PowerShell/Win32-OpenSSH/wiki/Install-Win32-OpenSSH) : l’équipe PowerShell effectue le portage d’OpenSSH vers Windows et fournit des versions de test.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-137">[OpenSSH (https://github.com/PowerShell/Win32-OpenSSH/wiki/Install-Win32-OpenSSH)](https://github.com/PowerShell/Win32-OpenSSH/wiki/Install-Win32-OpenSSH): The PowerShell team is porting OpenSSH to Windows, and provides test releases.</span></span>

    > [!WARNING]
    > <span data-ttu-id="cf9ad-138">Le package OpenSSH inclut le composant de serveur SSH, `sshd`.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-138">The OpenSSH package includes the SSH server component, `sshd`.</span></span> <span data-ttu-id="cf9ad-139">Ce composant démarre un serveur SSH sur votre système, permettant ainsi à d’autres personnes de s’y connecter.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-139">This component starts an SSH server on your system, allowing others to connect to it.</span></span> <span data-ttu-id="cf9ad-140">Ne configurez pas ce composant et n’ouvrez pas le port 22, sauf si vous souhaitez héberger un serveur SSH sur votre système.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-140">Do not configure this component or open port 22 unless you want to host an SSH server on your system.</span></span> <span data-ttu-id="cf9ad-141">Il n’est pas nécessaire de communiquer avec HDInsight.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-141">It is not required to communicate with HDInsight.</span></span>

<span data-ttu-id="cf9ad-142">Il existe également plusieurs clients SSH graphiques, tels que [PuTTY (http://www.chiark.greenend.org.uk/~sgtatham/putty/)](http://www.chiark.greenend.org.uk/~sgtatham/putty/) et [MobaXterm (http://mobaxterm.mobatek.net/)](http://mobaxterm.mobatek.net/).</span><span class="sxs-lookup"><span data-stu-id="cf9ad-142">There are also several graphical SSH clients, such as [PuTTY (http://www.chiark.greenend.org.uk/~sgtatham/putty/)](http://www.chiark.greenend.org.uk/~sgtatham/putty/) and [MobaXterm (http://mobaxterm.mobatek.net/)](http://mobaxterm.mobatek.net/).</span></span> <span data-ttu-id="cf9ad-143">Alors que ces clients peuvent être utilisés pour se connecter à HDInsight, le processus de connexion est différent de celui utilisant l’utilitaire `ssh`.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-143">While these clients can be used to connect to HDInsight, the process of connecting is different than using the `ssh` utility.</span></span> <span data-ttu-id="cf9ad-144">Pour plus d’informations, consultez la documentation du client graphique que vous utilisez.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-144">For more information, see the documentation of the graphical client you are using.</span></span>

## <span data-ttu-id="cf9ad-145"><a id="sshkey"></a>Authentification : clés SSH</span><span class="sxs-lookup"><span data-stu-id="cf9ad-145"><a id="sshkey"></a>Authentication: SSH Keys</span></span>

<span data-ttu-id="cf9ad-146">Les clés SSH utilisent le [chiffrement à clé publique](https://en.wikipedia.org/wiki/Public-key_cryptography) pour authentifier des sessions SSH.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-146">SSH keys use [Public-key cryptography](https://en.wikipedia.org/wiki/Public-key_cryptography) to authenticate SSH sessions.</span></span> <span data-ttu-id="cf9ad-147">Les clés SSH sont plus sûres que les mots de passe et fournissent un moyen simple pour sécuriser l’accès à votre cluster Hadoop.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-147">SSH keys are more secure than passwords, and provide an easy way to secure access to your Hadoop cluster.</span></span>

<span data-ttu-id="cf9ad-148">Si votre compte SSH est sécurisé à l’aide d’une clé, le client doit fournir la clé privée correspondante lorsque vous vous connectez :</span><span class="sxs-lookup"><span data-stu-id="cf9ad-148">If your SSH account is secured using a key, the client must provide the matching private key when you connect:</span></span>

* <span data-ttu-id="cf9ad-149">La plupart des clients peuvent être configurés pour utiliser une __clé par défaut__.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-149">Most clients can be configured to use a __default key__.</span></span> <span data-ttu-id="cf9ad-150">Par exemple, le client `ssh` recherche une clé privée à l’emplacement `~/.ssh/id_rsa` sur des environnements Linux et Unix.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-150">For example, the `ssh` client looks for a private key at `~/.ssh/id_rsa` on Linux and Unix environments.</span></span>

* <span data-ttu-id="cf9ad-151">Vous pouvez spécifier le __chemin d’accès à une clé privée__.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-151">You can specify the __path to a private key__.</span></span> <span data-ttu-id="cf9ad-152">Avec le client `ssh`, le paramètre `-i` est utilisé pour spécifier le chemin d’accès à la clé privée.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-152">With the `ssh` client, the `-i` parameter is used to specify the path to private key.</span></span> <span data-ttu-id="cf9ad-153">Par exemple, `ssh -i ~/.ssh/id_rsa sshuser@myedge.mycluster-ssh.azurehdinsight.net`.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-153">For example, `ssh -i ~/.ssh/id_rsa sshuser@myedge.mycluster-ssh.azurehdinsight.net`.</span></span>

* <span data-ttu-id="cf9ad-154">Si vous avez __plusieurs clés privées__ à utiliser avec différents serveurs, envisagez d’utiliser un utilitaire tel que [ssh-agent (https://en.wikipedia.org/wiki/Ssh-agent)](https://en.wikipedia.org/wiki/Ssh-agent).</span><span class="sxs-lookup"><span data-stu-id="cf9ad-154">If you have __multiple private keys__ for use with different servers, consider using a utility such as [ssh-agent (https://en.wikipedia.org/wiki/Ssh-agent)](https://en.wikipedia.org/wiki/Ssh-agent).</span></span> <span data-ttu-id="cf9ad-155">L’utilitaire `ssh-agent` peut être utilisé pour sélectionner automatiquement la clé à utiliser lors de l’établissement d’une session SSH.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-155">The `ssh-agent` utility can be used to automatically select the key to use when establishing an SSH session.</span></span>

> [!IMPORTANT]
>
> <span data-ttu-id="cf9ad-156">Si vous sécurisez votre clé privée avec une phrase secrète, vous devez entrer la phrase secrète lors de l’utilisation de la clé.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-156">If you secure your private key with a passphrase, you must enter the passphrase when using the key.</span></span> <span data-ttu-id="cf9ad-157">Les utilitaires tels que `ssh-agent` peuvent mettre en cache le mot de passe pour plus de commodité.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-157">Utilities such as `ssh-agent` can cache the password for your convenience.</span></span>

### <a name="create-an-ssh-key-pair"></a><span data-ttu-id="cf9ad-158">Création d’une paire de clés SSH</span><span class="sxs-lookup"><span data-stu-id="cf9ad-158">Create an SSH key pair</span></span>

<span data-ttu-id="cf9ad-159">Utilisez la commande `ssh-keygen` pour créer des fichiers de clés publiques et privées.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-159">Use the `ssh-keygen` command to create public and private key files.</span></span> <span data-ttu-id="cf9ad-160">La commande suivante génère une paire de clés RSA 2 048 bits qui peut être utilisée avec HDInsight :</span><span class="sxs-lookup"><span data-stu-id="cf9ad-160">The following command generates a 2048-bit RSA key pair that can be used with HDInsight:</span></span>

    ssh-keygen -t rsa -b 2048

<span data-ttu-id="cf9ad-161">Vous êtes invité à renseigner diverses informations pendant le processus de création de la clé.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-161">You are prompted for information during the key creation process.</span></span> <span data-ttu-id="cf9ad-162">Par exemple, l’emplacement dans lequel sont stockées les clés ou vos préférences en termes d’utilisation de phrase secrète.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-162">For example, where the keys are stored or whether to use a passphrase.</span></span> <span data-ttu-id="cf9ad-163">Une fois le processus terminé, deux fichiers sont créés ; une clé publique et une clé privée.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-163">After the process completes, two files are created; a public key and a private key.</span></span>

* <span data-ttu-id="cf9ad-164">La __clé publique__ est utilisée pour créer un cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-164">The __public key__ is used to create an HDInsight cluster.</span></span> <span data-ttu-id="cf9ad-165">La clé publique est dotée d’une extension de `.pub`.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-165">The public key has an extension of `.pub`.</span></span>

* <span data-ttu-id="cf9ad-166">La __clé privée__ est utilisée pour authentifier votre client au cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-166">The __private key__ is used to authenticate your client to the HDInsight cluster.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="cf9ad-167">Vous pouvez sécuriser vos clés à l’aide d’une phrase secrète.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-167">You can secure your keys using a passphrase.</span></span> <span data-ttu-id="cf9ad-168">Une phrase secrète est effectivement un mot de passe sur votre clé privée.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-168">A passphrase is effectively a password on your private key.</span></span> <span data-ttu-id="cf9ad-169">Même si quelqu’un obtient votre clé privée, il doit avoir la phrase secrète pour utiliser la clé.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-169">Even if someone obtains your private key, they must have the passphrase to use the key.</span></span>

### <a name="create-hdinsight-using-the-public-key"></a><span data-ttu-id="cf9ad-170">Créer un cluster HDInsight à l’aide de la clé publique</span><span class="sxs-lookup"><span data-stu-id="cf9ad-170">Create HDInsight using the public key</span></span>

| <span data-ttu-id="cf9ad-171">Méthode de création</span><span class="sxs-lookup"><span data-stu-id="cf9ad-171">Creation method</span></span> | <span data-ttu-id="cf9ad-172">Utilisation de la clé publique</span><span class="sxs-lookup"><span data-stu-id="cf9ad-172">How to use the public key</span></span> |
| ------- | ------- |
| <span data-ttu-id="cf9ad-173">**Portail Azure**</span><span class="sxs-lookup"><span data-stu-id="cf9ad-173">**Azure portal**</span></span> | <span data-ttu-id="cf9ad-174">Décochez l’option __Use same password as cluster login__ (Utiliser le même mot de passe que pour la connexion au cluster), puis sélectionnez __Clé publique__ comme type d’authentification SSH.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-174">Uncheck __Use same password as cluster login__, and then select __Public Key__ as the SSH authentication type.</span></span> <span data-ttu-id="cf9ad-175">Enfin, sélectionnez le fichier de clé publique ou collez le contenu texte du fichier dans le champ __SSH public key__ (Clé publique SSH).</span><span class="sxs-lookup"><span data-stu-id="cf9ad-175">Finally, select the public key file or paste the text contents of the file in the __SSH public key__ field.</span></span></br><span data-ttu-id="cf9ad-176">![Boîte de dialogue de clé publique SSH lors de la création du cluster HDInsight](./media/hdinsight-hadoop-linux-use-ssh-unix/create-hdinsight-ssh-public-key.png)</span><span class="sxs-lookup"><span data-stu-id="cf9ad-176">![SSH public key dialog in HDInsight cluster creation](./media/hdinsight-hadoop-linux-use-ssh-unix/create-hdinsight-ssh-public-key.png)</span></span> |
| <span data-ttu-id="cf9ad-177">**Azure PowerShell**</span><span class="sxs-lookup"><span data-stu-id="cf9ad-177">**Azure PowerShell**</span></span> | <span data-ttu-id="cf9ad-178">Utilisez le paramètre `-SshPublicKey` de l’applet de commande `New-AzureRmHdinsightCluster` et transmettez le contenu de la clé publique sous forme de chaîne.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-178">Use the `-SshPublicKey` parameter of the `New-AzureRmHdinsightCluster` cmdlet and pass the contents of the public key as a string.</span></span>|
| <span data-ttu-id="cf9ad-179">**Azure CLI 1.0**</span><span class="sxs-lookup"><span data-stu-id="cf9ad-179">**Azure CLI 1.0**</span></span> | <span data-ttu-id="cf9ad-180">Utilisez le paramètre `--sshPublicKey` de la commande `azure hdinsight cluster create` et transmettez le contenu de la clé publique sous forme de chaîne.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-180">Use the `--sshPublicKey` parameter of the `azure hdinsight cluster create` command and pass the contents of the public key as a string.</span></span> |
| <span data-ttu-id="cf9ad-181">**Modèle Resource Manager**</span><span class="sxs-lookup"><span data-stu-id="cf9ad-181">**Resource Manager Template**</span></span> | <span data-ttu-id="cf9ad-182">Pour obtenir un exemple d’utilisation des clés SSH avec un modèle, consultez [Deploy HDInsight on Linux (w/ Azure Storage, SSH key)](https://azure.microsoft.com/resources/templates/101-hdinsight-linux-ssh-publickey/) (Déployer HDInsight sur Linux (avec Stockage Azure, clé SSH).</span><span class="sxs-lookup"><span data-stu-id="cf9ad-182">For an example of using SSH keys with a template, see [Deploy HDInsight on Linux with SSH key](https://azure.microsoft.com/resources/templates/101-hdinsight-linux-ssh-publickey/).</span></span> <span data-ttu-id="cf9ad-183">L’élément `publicKeys` dans le fichier [azuredeploy.json](https://github.com/Azure/azure-quickstart-templates/blob/master/101-hdinsight-linux-ssh-publickey/azuredeploy.json) est utilisé pour transmettre les clés à Azure lors de la création du cluster.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-183">The `publicKeys` element in the [azuredeploy.json](https://github.com/Azure/azure-quickstart-templates/blob/master/101-hdinsight-linux-ssh-publickey/azuredeploy.json) file is used to pass the keys to Azure when creating the cluster.</span></span> |

## <span data-ttu-id="cf9ad-184"><a id="sshpassword"></a>Authentification : mot de passe</span><span class="sxs-lookup"><span data-stu-id="cf9ad-184"><a id="sshpassword"></a>Authentication: Password</span></span>

<span data-ttu-id="cf9ad-185">Les comptes SSH peuvent être sécurisés à l’aide d’un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-185">SSH accounts can be secured using a password.</span></span> <span data-ttu-id="cf9ad-186">Lorsque vous vous connectez à HDInsight à l’aide de SSH, vous êtes invité à entrer le mot de passe.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-186">When you connect to HDInsight using SSH, you are prompted to enter the password.</span></span>

> [!WARNING]
> <span data-ttu-id="cf9ad-187">Il est déconseillé d’utiliser l’authentification par mot de passe pour SSH.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-187">We do not recommend using password authentication for SSH.</span></span> <span data-ttu-id="cf9ad-188">Les mots de passe peuvent être devinés et sont vulnérables aux attaques en force brute.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-188">Passwords can be guessed and are vulnerable to brute force attacks.</span></span> <span data-ttu-id="cf9ad-189">Nous vous recommandons plutôt d’utiliser des [clés SSH pour l’authentification](#sshkey).</span><span class="sxs-lookup"><span data-stu-id="cf9ad-189">Instead, we recommend that you use [SSH keys for authentication](#sshkey).</span></span>

### <a name="create-hdinsight-using-a-password"></a><span data-ttu-id="cf9ad-190">Créer un cluster HDInsight à l’aide d’un mot de passe</span><span class="sxs-lookup"><span data-stu-id="cf9ad-190">Create HDInsight using a password</span></span>

| <span data-ttu-id="cf9ad-191">Méthode de création</span><span class="sxs-lookup"><span data-stu-id="cf9ad-191">Creation method</span></span> | <span data-ttu-id="cf9ad-192">Spécification du mot de passe</span><span class="sxs-lookup"><span data-stu-id="cf9ad-192">How to specify the password</span></span> |
| --------------- | ---------------- |
| <span data-ttu-id="cf9ad-193">**Portail Azure**</span><span class="sxs-lookup"><span data-stu-id="cf9ad-193">**Azure portal**</span></span> | <span data-ttu-id="cf9ad-194">Par défaut, le compte utilisateur SSH a le même mot de passe que le compte de connexion du cluster.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-194">By default, the SSH user account has the same password as the cluster login account.</span></span> <span data-ttu-id="cf9ad-195">Pour utiliser un autre mot de passe, décochez l’option __Use same password as cluster login__ (Utiliser le même mot de passe que pour la connexion au cluster), puis entrez le mot de passe dans le champ __SSH password__ (Mot de passe SSH).</span><span class="sxs-lookup"><span data-stu-id="cf9ad-195">To use a different password, uncheck __Use same password as cluster login__, and then enter the password in the __SSH password__ field.</span></span></br><span data-ttu-id="cf9ad-196">![Boîte de dialogue de mot de passe SSH lors de la création du cluster HDInsight](./media/hdinsight-hadoop-linux-use-ssh-unix/create-hdinsight-ssh-password.png)</span><span class="sxs-lookup"><span data-stu-id="cf9ad-196">![SSH password dialog in HDInsight cluster creation](./media/hdinsight-hadoop-linux-use-ssh-unix/create-hdinsight-ssh-password.png)</span></span>|
| <span data-ttu-id="cf9ad-197">**Azure PowerShell**</span><span class="sxs-lookup"><span data-stu-id="cf9ad-197">**Azure PowerShell**</span></span> | <span data-ttu-id="cf9ad-198">Utilisez le paramètre `--SshCredential` de l’applet de commande `New-AzureRmHdinsightCluster` et transmettez un objet `PSCredential` qui contient le nom de compte et mot de passe utilisateur SSH.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-198">Use the `--SshCredential` parameter of the `New-AzureRmHdinsightCluster` cmdlet and pass a `PSCredential` object that contains the SSH user account name and password.</span></span> |
| <span data-ttu-id="cf9ad-199">**Azure CLI 1.0**</span><span class="sxs-lookup"><span data-stu-id="cf9ad-199">**Azure CLI 1.0**</span></span> | <span data-ttu-id="cf9ad-200">Utilisez le paramètre `--sshPassword` de la commande `azure hdinsight cluster create` et fournissez la valeur de mot de passe.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-200">Use the `--sshPassword` parameter of the `azure hdinsight cluster create` command and provide the password value.</span></span> |
| <span data-ttu-id="cf9ad-201">**Modèle Resource Manager**</span><span class="sxs-lookup"><span data-stu-id="cf9ad-201">**Resource Manager Template**</span></span> | <span data-ttu-id="cf9ad-202">Pour obtenir un exemple d’utilisation d’un mot de passe avec un modèle, consultez [Deploy HDInsight cluster with Storage and SSH password](https://azure.microsoft.com/resources/templates/101-hdinsight-linux-ssh-password/) (Déployer un cluster HDInsight avec Stockage Azure et un mot de passe SSH).</span><span class="sxs-lookup"><span data-stu-id="cf9ad-202">For an example of using a password with a template, see [Deploy HDInsight on Linux with SSH password](https://azure.microsoft.com/resources/templates/101-hdinsight-linux-ssh-password/).</span></span> <span data-ttu-id="cf9ad-203">L’élément `linuxOperatingSystemProfile` dans le fichier [azuredeploy.json](https://github.com/Azure/azure-quickstart-templates/blob/master/101-hdinsight-linux-ssh-password/azuredeploy.json) est utilisé pour transmettre le nom de compte et mot de passe SSH à Azure lors de la création du cluster.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-203">The `linuxOperatingSystemProfile` element in the [azuredeploy.json](https://github.com/Azure/azure-quickstart-templates/blob/master/101-hdinsight-linux-ssh-password/azuredeploy.json) file is used to pass the SSH account name and password to Azure when creating the cluster.</span></span>|

### <a name="change-the-ssh-password"></a><span data-ttu-id="cf9ad-204">Modifier le mot de passe SSH</span><span class="sxs-lookup"><span data-stu-id="cf9ad-204">Change the SSH password</span></span>

<span data-ttu-id="cf9ad-205">Pour plus d’informations sur la modification du mot de passe du compte utilisateur SSH, consultez la section __Modifier les mots de passe__ du document [Gestion des clusters Hadoop dans HDInsight au moyen du portail Azure](hdinsight-administer-use-portal-linux.md#change-passwords).</span><span class="sxs-lookup"><span data-stu-id="cf9ad-205">For information on changing the SSH user account password, see the __Change passwords__ section of the [Manage HDInsight](hdinsight-administer-use-portal-linux.md#change-passwords) document.</span></span>

## <span data-ttu-id="cf9ad-206"><a id="domainjoined"></a>Authentification : HDInsight joint à un domaine</span><span class="sxs-lookup"><span data-stu-id="cf9ad-206"><a id="domainjoined"></a>Authentication: Domain-joined HDInsight</span></span>

<span data-ttu-id="cf9ad-207">Si vous utilisez un __cluster HDInsight joint à un domaine__, vous devez utiliser la commande `kinit` après vous être connecté via SSH.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-207">If you are using a __domain-joined HDInsight cluster__, you must use the `kinit` command after connecting with SSH.</span></span> <span data-ttu-id="cf9ad-208">Cette commande vous invite à renseigner un utilisateur de domaine et un mot de passe, et authentifie votre session auprès du domaine Active Directory Azure associé au cluster.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-208">This command prompts you for a domain user and password, and authenticates your session with the Azure Active Directory domain associated with the cluster.</span></span>

<span data-ttu-id="cf9ad-209">Pour plus d’informations, consultez la section [Configurer des clusters HDInsight joints à un domaine (version préliminaire)](hdinsight-domain-joined-configure.md).</span><span class="sxs-lookup"><span data-stu-id="cf9ad-209">For more information, see [Configure domain-joined HDInsight](hdinsight-domain-joined-configure.md).</span></span>

## <a name="connect-to-nodes"></a><span data-ttu-id="cf9ad-210">Se connecter à des nœuds</span><span class="sxs-lookup"><span data-stu-id="cf9ad-210">Connect to nodes</span></span>

<span data-ttu-id="cf9ad-211">Les nœuds principaux et le nœud de périmètre (le cas échéant) sont accessibles sur Internet sur les ports 22 et 23.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-211">The head nodes and edge node (if there is one) can be accessed over the internet on ports 22 and 23.</span></span>

* <span data-ttu-id="cf9ad-212">Lorsque vous vous connectez aux __nœuds principaux__, utilisez le port __22__ pour vous connecter au nœud principal primaire et le port __23__ pour vous connecter au nœud principal secondaire.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-212">When connecting to the __head nodes__, use port __22__ to connect to the primary head node and port __23__ to connect to the secondary head node.</span></span> <span data-ttu-id="cf9ad-213">Le nom de domaine complet à utiliser est `clustername-ssh.azurehdinsight.net`, où `clustername` est le nom de votre cluster.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-213">The fully qualified domain name to use is `clustername-ssh.azurehdinsight.net`, where `clustername` is the name of your cluster.</span></span>

    ```bash
    # Connect to primary head node
    # port not specified since 22 is the default
    ssh sshuser@clustername-ssh.azurehdinsight.net

    # Connect to secondary head node
    ssh -p 23 sshuser@clustername-ssh.azurehdinsight.net
    ```
    
* <span data-ttu-id="cf9ad-214">Lorsque vous vous connectez au __nœud de périmètre__, utilisez le port 22.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-214">When connectiung to the __edge node__, use port 22.</span></span> <span data-ttu-id="cf9ad-215">Le nom de domaine complet est `edgenodename.clustername-ssh.azurehdinsight.net`, où `edgenodename` est un nom que vous avez fourni lors de la création du nœud de périmètre.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-215">The fully qualified domain name is `edgenodename.clustername-ssh.azurehdinsight.net`, where `edgenodename` is a name you provided when creating the edge node.</span></span> <span data-ttu-id="cf9ad-216">`clustername` est le nom du cluster.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-216">`clustername` is the name of the cluster.</span></span>

    ```bash
    # Connect to edge node
    ssh sshuser@edgnodename.clustername-ssh.azurehdinsight.net
    ```

> [!IMPORTANT]
> <span data-ttu-id="cf9ad-217">Les exemples précédents reposent sur l’hypothèse que vous utilisez l’authentification par mot de passe, ou que l’authentification par certificat s’effectue automatiquement.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-217">The previous examples assume that you are using password authentication, or that certificate authentication is occuring automatically.</span></span> <span data-ttu-id="cf9ad-218">Si vous utilisez une paire de clés SSH pour l’authentification, et que le certificat n’est pas utilisé automatiquement, utilisez le paramètre `-i` pour spécifier la clé privée.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-218">If you use an SSH key-pair for authentication, and the certificate is not used automatically, use the `-i` parameter to specify the private key.</span></span> <span data-ttu-id="cf9ad-219">Par exemple, `ssh -i ~/.ssh/mykey sshuser@clustername-ssh.azurehdinsight.net`.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-219">For example, `ssh -i ~/.ssh/mykey sshuser@clustername-ssh.azurehdinsight.net`.</span></span>

<span data-ttu-id="cf9ad-220">Une fois que vous êtes connecté, l’invite change de façon à indiquer le nom d’utilisateur SSH et le nœud auquel vous êtes connecté.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-220">Once connected, the prompt changes to indicate the SSH user name and the node you are connected to.</span></span> <span data-ttu-id="cf9ad-221">Par exemple, lorsque vous êtes connecté au nœud principal primaire sous le nom `sshuser`, l’invite est `sshuser@hn0-clustername:~$`.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-221">For example, when connected to the primary head node as `sshuser`, the prompt is `sshuser@hn0-clustername:~$`.</span></span>

### <a name="connect-to-worker-and-zookeeper-nodes"></a><span data-ttu-id="cf9ad-222">Se connecter à des nœuds Zookeeper et Worker</span><span class="sxs-lookup"><span data-stu-id="cf9ad-222">Connect to worker and Zookeeper nodes</span></span>

<span data-ttu-id="cf9ad-223">Les nœuds Worker et Zookeeper ne sont pas directement accessibles depuis internet.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-223">The worker nodes and Zookeeper nodes are not directly accessible from the internet.</span></span> <span data-ttu-id="cf9ad-224">Ils sont accessibles à partir des nœuds principaux ou des nœuds de périmètre du cluster.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-224">They can be accessed from the cluster head nodes or edge nodes.</span></span> <span data-ttu-id="cf9ad-225">Pour vous connecter a d’autres nœuds, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="cf9ad-225">The following are the general steps to connect to other nodes:</span></span>

1. <span data-ttu-id="cf9ad-226">Utilisez SSH pour vous connecter au nœud principal ou de périphérie :</span><span class="sxs-lookup"><span data-stu-id="cf9ad-226">Use SSH to connect to a head or edge node:</span></span>

        ssh sshuser@myedge.mycluster-ssh.azurehdinsight.net

2. <span data-ttu-id="cf9ad-227">À partir de la connexion SSH vers le nœud principal ou de périphérie, utilisez la commande `ssh` pour vous connecter à un nœud de travail dans le cluster :</span><span class="sxs-lookup"><span data-stu-id="cf9ad-227">From the SSH connection to the head or edge node, use the `ssh` command to connect to a worker node in the cluster:</span></span>

        ssh sshuser@wn0-myhdi

    <span data-ttu-id="cf9ad-228">Pour récupérer la liste des noms de domaine des nœuds dans le cluster, consultez le document [Gérer des clusters HDInsight à l’aide de l’API REST d’Ambari](hdinsight-hadoop-manage-ambari-rest-api.md#example-get-the-fqdn-of-cluster-nodes).</span><span class="sxs-lookup"><span data-stu-id="cf9ad-228">To retrieve a list of the domain names of the nodes in the cluster, see the [Manage HDInsight by using the Ambari REST API](hdinsight-hadoop-manage-ambari-rest-api.md#example-get-the-fqdn-of-cluster-nodes) document.</span></span>

<span data-ttu-id="cf9ad-229">Si le compte SSH est sécurisé à l’aide d’un __mot de passe__, entrez le mot de passe lors de la connexion.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-229">If the SSH account is secured using a __password__, enter the password when connecting.</span></span>

<span data-ttu-id="cf9ad-230">Si le compte SSH est sécurisé à l’aide de __clés SSH__, assurez-vous que le transfert SSH est activé sur le client.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-230">If the SSH account is secured using __SSH keys__, make sure that SSH forwarding is enabled on the client.</span></span>

> [!NOTE]
> <span data-ttu-id="cf9ad-231">Une autre méthode permettant d’accéder directement à tous les nœuds du cluster consiste à installer HDInsight dans un réseau virtuel Azure.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-231">Another way to directly access all nodes in the cluster is to install HDInsight into an Azure Virtual Network.</span></span> <span data-ttu-id="cf9ad-232">Ensuite, vous pouvez joindre votre machine à distance au même réseau virtuel et accéder directement à tous les nœuds du cluster.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-232">Then, you can join your remote machine to the same virtual network and directly access all nodes in the cluster.</span></span>
>
> <span data-ttu-id="cf9ad-233">Pour plus d’informations, consultez [Extension des capacités de HDInsight à l’aide d’Azure Virtual Network](hdinsight-extend-hadoop-virtual-network.md).</span><span class="sxs-lookup"><span data-stu-id="cf9ad-233">For more information, see [Use a virtual network with HDInsight](hdinsight-extend-hadoop-virtual-network.md).</span></span>

### <a name="configure-ssh-agent-forwarding"></a><span data-ttu-id="cf9ad-234">Configurer le transfert de l’agent SSH</span><span class="sxs-lookup"><span data-stu-id="cf9ad-234">Configure SSH agent forwarding</span></span>

> [!IMPORTANT]
> <span data-ttu-id="cf9ad-235">Les étapes suivantes partent du principe que vous disposez d’un système basé sur Linux ou UNIX et que vous utilisez Bash sur Windows 10.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-235">The following steps assume a Linux or UNIX-based system, and work with Bash on Windows 10.</span></span> <span data-ttu-id="cf9ad-236">Si ces étapes ne fonctionnent pas pour votre système, vous devrez peut-être consulter la documentation de votre client SSH.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-236">If these steps do not work for your system, you may need to consult the documentation for your SSH client.</span></span>

1. <span data-ttu-id="cf9ad-237">Avec un éditeur de texte, ouvrez `~/.ssh/config`.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-237">Using a text editor, open `~/.ssh/config`.</span></span> <span data-ttu-id="cf9ad-238">Si ce fichier n’existe pas, créez-le en entrant `touch ~/.ssh/config` dans la ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-238">If this file doesn't exist, you can create it by entering `touch ~/.ssh/config` at a command line.</span></span>

2. <span data-ttu-id="cf9ad-239">Ajoutez le texte suivant au fichier `config`.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-239">Add the following text to the `config` file.</span></span>

        Host <edgenodename>.<clustername>-ssh.azurehdinsight.net
          ForwardAgent yes

    <span data-ttu-id="cf9ad-240">Remplacez les informations __Hôte__ avec l’adresse du nœud que vous connectez à l’aide de SSH.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-240">Replace the __Host__ information with the address of the node you connect to using SSH.</span></span> <span data-ttu-id="cf9ad-241">L’exemple précédent utilise le nœud de périmètre.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-241">The previous example uses the edge node.</span></span> <span data-ttu-id="cf9ad-242">Cette entrée permet de configurer le transfert de l’agent SSH pour le nœud spécifié.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-242">This entry configures SSH agent forwarding for the specified node.</span></span>

3. <span data-ttu-id="cf9ad-243">Testez le transfert de l’agent SSH à l’aide de la commande suivante à partir du terminal :</span><span class="sxs-lookup"><span data-stu-id="cf9ad-243">Test SSH agent forwarding by using the following command from the terminal:</span></span>

        echo "$SSH_AUTH_SOCK"

    <span data-ttu-id="cf9ad-244">Cette commande renvoie des informations semblables au texte suivant :</span><span class="sxs-lookup"><span data-stu-id="cf9ad-244">This command returns information similar to the following text:</span></span>

        /tmp/ssh-rfSUL1ldCldQ/agent.1792

    <span data-ttu-id="cf9ad-245">Si aucun élément n’est renvoyé, alors `ssh-agent` n’est pas en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-245">If nothing is returned, then `ssh-agent` is not running.</span></span> <span data-ttu-id="cf9ad-246">Pour plus d’informations, consultez les informations de scripts de démarrage de l’agent dans [Using ssh-agent with ssh (http://mah.everybody.org/docs/ssh)](http://mah.everybody.org/docs/ssh) (Utilisation de l’agent SSH avec SSH) ou consultez la documentation de votre client SSH.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-246">For more information, see the agent startup scripts information at [Using ssh-agent with ssh (http://mah.everybody.org/docs/ssh)](http://mah.everybody.org/docs/ssh) or consult your SSH client documentation.</span></span>

4. <span data-ttu-id="cf9ad-247">Après avoir vérifié que **ssh agent** est en cours d’exécution, utilisez la commande suivante pour ajouter votre clé privée SSH à l’agent :</span><span class="sxs-lookup"><span data-stu-id="cf9ad-247">Once you have verified that **ssh-agent** is running, use the following to add your SSH private key to the agent:</span></span>

        ssh-add ~/.ssh/id_rsa

    <span data-ttu-id="cf9ad-248">Si votre clé privée est stockée dans un fichier différent, remplacez `~/.ssh/id_rsa` par le chemin d’accès au fichier.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-248">If your private key is stored in a different file, replace `~/.ssh/id_rsa` with the path to the file.</span></span>

5. <span data-ttu-id="cf9ad-249">Connectez-vous aux nœuds principaux ou aux nœuds de périmètre du cluster à l’aide de SSH.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-249">Connect to the cluster edge node or head nodes using SSH.</span></span> <span data-ttu-id="cf9ad-250">Utilisez ensuite la commande SSH pour vous connecter à un nœud Worker ou Zookeeper.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-250">Then use the SSH command to connect to a worker or zookeeper node.</span></span> <span data-ttu-id="cf9ad-251">La connexion est établie à l’aide de la clé transmise.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-251">The connection is established using the forwarded key.</span></span>

## <a name="copy-files"></a><span data-ttu-id="cf9ad-252">Copie des fichiers</span><span class="sxs-lookup"><span data-stu-id="cf9ad-252">Copy files</span></span>

<span data-ttu-id="cf9ad-253">L’utilitaire `scp` vous permet de copier des fichiers à partir ou à destination de nœuds spécifiques dans le cluster.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-253">The `scp` utility can be used to copy files to and from individual nodes in the cluster.</span></span> <span data-ttu-id="cf9ad-254">Par exemple, la commande ci-après copie le fichier `test.txt` du système local vers le nœud principal primaire :</span><span class="sxs-lookup"><span data-stu-id="cf9ad-254">For example, the following command copies the `test.txt` directory from the local system to the primary head node:</span></span>

```bash
scp test.txt sshuser@clustername-ssh.azurehdinsight.net:
```

<span data-ttu-id="cf9ad-255">Étant donné qu’aucun chemin d’accès n’est spécifié après le caractère `:`, le fichier est placé dans le répertoire de base `sshuser`.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-255">Since no path is specified after the `:`, the file is placed in the `sshuser` home directory.</span></span>

<span data-ttu-id="cf9ad-256">L’exemple ci-après copie le fichier `test.txt` du répertoire de base `sshuser` du nœud principal primaire vers le système local :</span><span class="sxs-lookup"><span data-stu-id="cf9ad-256">The following example copies the `test.txt` file from the `sshuser` home directory on the primary head node to the local system:</span></span>

```bash
scp sshuser@clustername-ssh.azurehdinsight.net:test.txt .
```

> [!IMPORTANT]
> <span data-ttu-id="cf9ad-257">La commande `scp` peut uniquement accéder au système de fichiers de nœuds spécifiques au sein du cluster.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-257">`scp` can only access the file system of individual nodes within the cluster.</span></span> <span data-ttu-id="cf9ad-258">Elle ne permet pas d’accéder aux données du stockage compatible avec HDFS pour le cluster.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-258">It cannot be used to access data in the HDFS-compatible storage for the cluster.</span></span>
>
> <span data-ttu-id="cf9ad-259">Utilisez la commande `scp` lorsque vous avez besoin de charger une ressource en vue de son utilisation à partir d’une session SSH.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-259">Use `scp` when you need to upload a resource for use from an SSH session.</span></span> <span data-ttu-id="cf9ad-260">Par exemple, chargez un script Python, puis exécutez le script à partir d’une session SSH.</span><span class="sxs-lookup"><span data-stu-id="cf9ad-260">For example, upload a Python script and then run the script from an SSH session.</span></span>
>
> <span data-ttu-id="cf9ad-261">Pour plus d’informations sur le chargement direct de données dans le stockage compatible avec HDFS, consultez les documents suivants :</span><span class="sxs-lookup"><span data-stu-id="cf9ad-261">For information on directly loading data into the HDFS-compatible storage, see the following documents:</span></span>
>
> * <span data-ttu-id="cf9ad-262">[HDInsight avec Stockage Azure](hdinsight-hadoop-use-blob-storage.md)</span><span class="sxs-lookup"><span data-stu-id="cf9ad-262">[HDInsight using Azure Storage](hdinsight-hadoop-use-blob-storage.md).</span></span>
>
> * <span data-ttu-id="cf9ad-263">[HDInsight avec Azure Data Lake Store](hdinsight-hadoop-use-data-lake-store.md)</span><span class="sxs-lookup"><span data-stu-id="cf9ad-263">[HDInsight using Azure Data Lake Store](hdinsight-hadoop-use-data-lake-store.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="cf9ad-264">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="cf9ad-264">Next steps</span></span>

* [<span data-ttu-id="cf9ad-265">Utilisation de SSH Tunneling pour accéder à l’interface Web Ambari, JobHistory, NameNode, Oozie et d’autres interfaces Web</span><span class="sxs-lookup"><span data-stu-id="cf9ad-265">Use SSH tunneling with HDInsight</span></span>](hdinsight-linux-ambari-ssh-tunnel.md)
* [<span data-ttu-id="cf9ad-266">Extension des capacités de HDInsight à l’aide d’Azure Virtual Network</span><span class="sxs-lookup"><span data-stu-id="cf9ad-266">Use a virtual network with HDInsight</span></span>](hdinsight-extend-hadoop-virtual-network.md)
* [<span data-ttu-id="cf9ad-267">Utiliser des nœuds de périmètre vides dans HDInsight</span><span class="sxs-lookup"><span data-stu-id="cf9ad-267">Use edge nodes in HDInsight</span></span>](hdinsight-apps-use-edge-node.md#access-an-edge-node)