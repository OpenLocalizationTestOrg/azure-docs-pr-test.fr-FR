---
title: "Se connecter à Azure HDInsight avec Data Lake Tools pour Visual Studio | Microsoft Docs"
description: "Découvrez comment installer et utiliser Data Lake Tools pour Visual Studio pour vous connecter aux clusters Hadoop dans Azure HDInsight et exécuter des requêtes Hive."
keywords: "outils Hadoop,requête hive,Visual Studio,Hadoop Visual Studio"
services: HDInsight
documentationcenter: 
tags: azure-portal
author: mumian
manager: jhubbard
editor: cgronlun
ms.assetid: ce9c572a-1e98-46bf-9581-13a9767f1fa5
ms.service: hdinsight
ms.custom: hdinsightactive,hdiseo17may2017
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 08/23/2017
ms.author: jgao
ms.openlocfilehash: f7eff70ece5e8dc7e0c5983871d40bd1f6eafff2
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/29/2017
---
# <a name="connect-to-azure-hdinsight-and-run-hive-queries-using-data-lake-tools-for-visual-studio"></a><span data-ttu-id="68b23-104">Se connecter à Azure HDInsight et exécuter des requêtes Hive avec Data Lake Tools pour Visual Studio | Microsoft Docs</span><span class="sxs-lookup"><span data-stu-id="68b23-104">Connect to Azure HDInsight and run Hive queries using Data Lake Tools for Visual Studio</span></span>

<span data-ttu-id="68b23-105">Découvrez comment utiliser Data Lake Tools pour Visual Studio pour vous connecter aux clusters Hadoop dans [Azure HDInsight](hdinsight-hadoop-introduction.md) et envoyer des requêtes Hive.</span><span class="sxs-lookup"><span data-stu-id="68b23-105">Learn how to use Data Lake Tools for Visual Studio to connect to Hadoop clusters in [Azure HDInsight](hdinsight-hadoop-introduction.md) and submit Hive queries.</span></span> <span data-ttu-id="68b23-106">Pour plus d’informations sur l’utilisation de HDInsight, consultez les rubriques [Présentation de HDInsight](hdinsight-hadoop-introduction.md) et [Prise en main de HDInsight](hdinsight-hadoop-linux-tutorial-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="68b23-106">For more information about using HDInsight, see [Introduction to HDInsight](hdinsight-hadoop-introduction.md) and [Get started with HDInsight](hdinsight-hadoop-linux-tutorial-get-started.md).</span></span> <span data-ttu-id="68b23-107">Pour plus d’informations sur la connexion au cluster Storm, consultez [Développement de topologies C# pour Apache Storm sur HDInsight à l’aide de Visual Studio](hdinsight-storm-develop-csharp-visual-studio-topology.md).</span><span class="sxs-lookup"><span data-stu-id="68b23-107">For more information about connecting to a Storm cluster, see [Develop C# topologies for Apache Storm on HDInsight using Visual Studio](hdinsight-storm-develop-csharp-visual-studio-topology.md).</span></span>

<span data-ttu-id="68b23-108">Data Lake Tools pour Visual Studio peut être utilisé pour accéder à Data Lake Analytics et à HDInsight.</span><span class="sxs-lookup"><span data-stu-id="68b23-108">Data Lake Tools for Visual Studio can be used to access both Data Lake Analytics and HDInsight.</span></span>  <span data-ttu-id="68b23-109">Pour plus d’informations sur Data Lake Tools, consultez le [Didacticiel : Développer des scripts U-SQL avec les outils Data Lake pour Visual Studio](../data-lake-analytics/data-lake-analytics-data-lake-tools-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="68b23-109">For the information about Data Lake Tools, see [Tutorial: develop U-SQL scripts using Data Lake Tools for Visual Studio](../data-lake-analytics/data-lake-analytics-data-lake-tools-get-started.md).</span></span>

<span data-ttu-id="68b23-110">**Configuration requise**</span><span class="sxs-lookup"><span data-stu-id="68b23-110">**Prerequisites**</span></span>

<span data-ttu-id="68b23-111">Pour suivre ce didacticiel et utiliser Data Lake Tools dans Visual Studio, vous avez besoin des éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="68b23-111">To complete this tutorial and use the Data Lake Tools in Visual Studio, you'll need the following:</span></span>

* <span data-ttu-id="68b23-112">Un cluster Azure HDInsight : pour en créer un, consultez [Prise en main HDInsight sous Linux](hdinsight-hadoop-linux-tutorial-get-started.md)</span><span class="sxs-lookup"><span data-stu-id="68b23-112">An Azure HDInsight cluster: To create one, see [Get started using Linux-based HDInsight](hdinsight-hadoop-linux-tutorial-get-started.md)</span></span>
* <span data-ttu-id="68b23-113">une station de travail avec les logiciels suivants :</span><span class="sxs-lookup"><span data-stu-id="68b23-113">A workstation with the following software:</span></span>
  
  * <span data-ttu-id="68b23-114">Windows 10, Windows 8.1, Windows 8 ou Windows 7.</span><span class="sxs-lookup"><span data-stu-id="68b23-114">Windows 10, Windows 8.1, Windows 8, or Windows 7.</span></span>
  * <span data-ttu-id="68b23-115">Visual Studio 2013/2015/2017.</span><span class="sxs-lookup"><span data-stu-id="68b23-115">Visual Studio 2013/2015/2017.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="68b23-116">Actuellement, Data Lake Tools pour Visual Studio n’est fourni qu’avec la version anglaise.</span><span class="sxs-lookup"><span data-stu-id="68b23-116">Currently, the Data Lake Tools for Visual Studio only come with the English version.</span></span>
    > 
    > 

## <a name="install-data-lake-tools-for-visual-studio"></a><span data-ttu-id="68b23-117">Installation de Data Lake Tools pour Visual Studio</span><span class="sxs-lookup"><span data-stu-id="68b23-117">Install Data Lake Tools for Visual Studio</span></span>

<span data-ttu-id="68b23-118">Data Lake Tools est installé par défaut pour Visual Studio 2017.</span><span class="sxs-lookup"><span data-stu-id="68b23-118">Data Lake Tools is installed by default for Visual Studio 2017.</span></span> <span data-ttu-id="68b23-119">Pour les versions antérieures, vous pouvez l’installer via [Web Platform Installer](https://www.microsoft.com/web/downloads/).</span><span class="sxs-lookup"><span data-stu-id="68b23-119">For older versions, you can install it using the [Web Platform Installer](https://www.microsoft.com/web/downloads/).</span></span> <span data-ttu-id="68b23-120">Vous devez choisir celui qui correspond à votre version de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="68b23-120">You must choose the one that matches your version of Visual Studio.</span></span> <span data-ttu-id="68b23-121">Si vous n’avez pas installé Visual Studio, vous pouvez installer la dernière version de Visual Studio Community et le Kit de développement logiciel (SDK) Azure à l’aide de [Web Platform Installer](https://www.microsoft.com/web/downloads/) :</span><span class="sxs-lookup"><span data-stu-id="68b23-121">If you don't have Visual Studio installed, you can install the latest Visual Studio Community and Azure SDK using the [Web Platform Installer](https://www.microsoft.com/web/downloads/):</span></span>

<span data-ttu-id="68b23-122">![Web Platform installer de Data Lake Tools pour Visual Studio.](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.wpi.png "Utilisez Web Platform Installer pour installer Data Lake Tools pour Visual Studio")</span><span class="sxs-lookup"><span data-stu-id="68b23-122">![Data Lake Tools for Visual Studio Web Platform installer.](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.wpi.png "Use Web Platform Installer to install Data Lake Tools for Visual Studio")</span></span>

## <a name="connect-to-azure-subscriptions"></a><span data-ttu-id="68b23-123">Se connecter aux abonnements Azure</span><span class="sxs-lookup"><span data-stu-id="68b23-123">Connect to Azure subscriptions</span></span>
<span data-ttu-id="68b23-124">Avec Data Lake Tools pour Visual Studio, vous pouvez vous connecter à vos clusters HDInsight, effectuer des opérations de gestion de base et exécuter des requêtes Hive.</span><span class="sxs-lookup"><span data-stu-id="68b23-124">Data Lake Tools for Visual Studio allows you to connect to your HDInsight clusters, perform some basic management operations, and run Hive queries.</span></span>

> [!NOTE]
> <span data-ttu-id="68b23-125">Pour plus d’informations sur la connexion à un cluster Hadoop générique, consultez [Écriture et soumission de requêtes Hive à l’aide de Visual Studio](http://blogs.msdn.com/b/xiaoyong/archive/2015/05/04/how-to-write-and-submit-hive-queries-using-visual-studio.aspx).</span><span class="sxs-lookup"><span data-stu-id="68b23-125">For information on connecting to a generic Hadoop cluster, see [Write and submit Hive queries using Visual Studio](http://blogs.msdn.com/b/xiaoyong/archive/2015/05/04/how-to-write-and-submit-hive-queries-using-visual-studio.aspx).</span></span>
> 
> 

<span data-ttu-id="68b23-126">**Pour vous connecter à votre abonnement Azure**</span><span class="sxs-lookup"><span data-stu-id="68b23-126">**To connect to your Azure subscription**</span></span>

1. <span data-ttu-id="68b23-127">Ouvrez Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="68b23-127">Open Visual Studio.</span></span>
2. <span data-ttu-id="68b23-128">Dans le menu **Affichage**, cliquez sur **Explorateur de serveurs** pour ouvrir la fenêtre du même nom.</span><span class="sxs-lookup"><span data-stu-id="68b23-128">From the **View** menu, click **Server Explorer** to open the Server Explorer window.</span></span>
3. <span data-ttu-id="68b23-129">Développez **Azure**, puis **HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="68b23-129">Expand **Azure**, and then expand **HDInsight**.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="68b23-130">Notez que la fenêtre **Liste des tâches HDInsight** doit s’ouvrir.</span><span class="sxs-lookup"><span data-stu-id="68b23-130">Notice the **HDInsight Task List** window should be open.</span></span> <span data-ttu-id="68b23-131">Si vous ne la voyez pas, cliquez sur **Autres fenêtres** dans le menu **Affichage**, puis cliquez sur **Fenêtre de liste des tâches HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="68b23-131">If you don't see it, click **Other Windows** from the **View** menu, and then click **HDInsight Task List Window**.</span></span>  
   > 
   > 
4. <span data-ttu-id="68b23-132">Entrez les informations d’identification de votre abonnement Azure, puis cliquez sur **Se connecter**.</span><span class="sxs-lookup"><span data-stu-id="68b23-132">Enter your Azure subscription credentials, and then click **Sign In**.</span></span> <span data-ttu-id="68b23-133">Cette étape n’est obligatoire que si vous ne vous êtes jamais connecté à l’abonnement Azure à partir de Visual Studio sur ce poste de travail.</span><span class="sxs-lookup"><span data-stu-id="68b23-133">This is only required if you have never connected to the Azure subscription from Visual Studio on this workstation.</span></span>
5. <span data-ttu-id="68b23-134">Dans l’explorateur de serveurs, vous verrez une liste des clusters HDInsight existants.</span><span class="sxs-lookup"><span data-stu-id="68b23-134">In Server Explorer, you'll see a list of existing HDInsight clusters.</span></span> <span data-ttu-id="68b23-135">Si vous ne possédez aucun cluster, vous pouvez en créer un dans le portail Azure, avec Azure PowerShell ou à l’aide du Kit de développement logiciel (SDK) HDInsight.</span><span class="sxs-lookup"><span data-stu-id="68b23-135">If you don't have any clusters, you can create one by using the Azure portal, Azure PowerShell, or the HDInsight SDK.</span></span> <span data-ttu-id="68b23-136">Pour plus d’informations, consultez la rubrique [Création de clusters HDInsight](hdinsight-hadoop-provision-linux-clusters.md).</span><span class="sxs-lookup"><span data-stu-id="68b23-136">For more information, see [Create HDInsight clusters](hdinsight-hadoop-provision-linux-clusters.md).</span></span>
   
   <span data-ttu-id="68b23-137">![Liste de clusters de l’explorateur de serveurs de Data Lake Tools pour Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.server.explorer.png "Explorateur de serveurs de Data Lake Tools pour Visual Studio")</span><span class="sxs-lookup"><span data-stu-id="68b23-137">![Data Lake Tools for Visual Studio Server Explorer cluster list](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.server.explorer.png "Data Lake Tools for Visual Studio Server Explorer")</span></span>
6. <span data-ttu-id="68b23-138">Développez un cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="68b23-138">Expand an HDInsight cluster.</span></span> <span data-ttu-id="68b23-139">Vous devez voir les **bases de données Hive**, un compte de stockage par défaut, les comptes de stockage liés et le **journal Hadoop Service**.</span><span class="sxs-lookup"><span data-stu-id="68b23-139">You'll see **Hive Databases**, a default storage account, linked storage accounts, and **Hadoop Service log**.</span></span> <span data-ttu-id="68b23-140">Vous pouvez développer davantage les entités.</span><span class="sxs-lookup"><span data-stu-id="68b23-140">You can further expand the entities.</span></span>

<span data-ttu-id="68b23-141">Une fois connecté à votre abonnement Azure, vous serez en mesure d’effectuer les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="68b23-141">After you've connected to your Azure subscription, you'll be able to do the following:</span></span>

<span data-ttu-id="68b23-142">**Pour vous connecter au Portail de gestion à partir de Visual Studio**</span><span class="sxs-lookup"><span data-stu-id="68b23-142">**To connect to the Azure portal from Visual Studio**</span></span>

* <span data-ttu-id="68b23-143">Dans l’Explorateur de serveurs, développez **Azure** > **HDInsight**, cliquez avec le bouton droit sur un cluster HDInsight, puis cliquez sur **Gérer le cluster dans le portail Azure**.</span><span class="sxs-lookup"><span data-stu-id="68b23-143">From Server Explorer, expand **Azure** > **HDInsight**, right-click an HDInsight cluster, and then click **Manage Cluster in Azure portal**.</span></span>

<span data-ttu-id="68b23-144">**Pour poser des questions et envoyer des commentaires à partir de Visual Studio**</span><span class="sxs-lookup"><span data-stu-id="68b23-144">**To ask questions and provide feedback from Visual Studio**</span></span>

* <span data-ttu-id="68b23-145">Dans le menu **Outils**, cliquez sur **HDInsight**, puis sur **Forum MSDN** pour poser des questions ou sur **Envoyer des commentaires**.</span><span class="sxs-lookup"><span data-stu-id="68b23-145">From the **Tools** menu, click **HDInsight**, and then click **MSDN Forum** to ask questions, or click **Give Feedback**.</span></span>

## <a name="navigate-the-linked-resources"></a><span data-ttu-id="68b23-146">Accéder aux ressources liées</span><span class="sxs-lookup"><span data-stu-id="68b23-146">Navigate the linked resources</span></span>
<span data-ttu-id="68b23-147">Dans l’Explorateur de serveurs, vous pouvez voir le compte de stockage par défaut et les éventuels comptes de stockage liés.</span><span class="sxs-lookup"><span data-stu-id="68b23-147">From Server Explorer, you can see the default storage account and any linked storage accounts.</span></span> <span data-ttu-id="68b23-148">Développez le compte de stockage par défaut pour afficher les conteneurs dans le compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="68b23-148">If you expand the default storage account, you can see the containers on the storage account.</span></span> <span data-ttu-id="68b23-149">Le compte de stockage par défaut et le conteneur par défaut sont marqués.</span><span class="sxs-lookup"><span data-stu-id="68b23-149">The default storage account and the default container are marked.</span></span> <span data-ttu-id="68b23-150">Vous pouvez aussi cliquer avec le bouton droit sur n’importe quel conteneur pour afficher son contenu.</span><span class="sxs-lookup"><span data-stu-id="68b23-150">You can also right-click any of the containers to view the contents.</span></span>

<span data-ttu-id="68b23-151">![Ressources liées de la liste de clusters de l’explorateur de serveurs de Data Lake Tools pour Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.linked.resources.png "ressources liées de la liste")</span><span class="sxs-lookup"><span data-stu-id="68b23-151">![Data Lake Tools for Visual Studio server explorer list linked resources](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.linked.resources.png "list linked resources")</span></span>

<span data-ttu-id="68b23-152">Après l’ouverture d’un conteneur, vous pouvez utiliser les boutons suivants pour charger, supprimer et télécharger des objets blob :</span><span class="sxs-lookup"><span data-stu-id="68b23-152">After opening a container, you can use the following buttons to upload, delete, and download blobs:</span></span>

<span data-ttu-id="68b23-153">![Opérations blob de l’explorateur de serveurs de Data Lake Tools pour Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.blob.operations.png "charger, supprimer et télécharger des objets blob")</span><span class="sxs-lookup"><span data-stu-id="68b23-153">![Data Lake Tools for Visual Studio server explorer blob operations](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.blob.operations.png "upload, delete, and download blobs")</span></span>

## <a name="run-a-hive-query"></a><span data-ttu-id="68b23-154">Exécution d'une tâche Hive</span><span class="sxs-lookup"><span data-stu-id="68b23-154">Run a Hive query</span></span>
<span data-ttu-id="68b23-155">[Apache Hive](http://hive.apache.org) est une infrastructure d’entrepôt de données basée sur Hadoop qui permet de synthétiser, d’interroger et d’analyser des données.</span><span class="sxs-lookup"><span data-stu-id="68b23-155">[Apache Hive](http://hive.apache.org) is a data warehouse infrastructure built on Hadoop for providing data summarization, queries, and analysis.</span></span> <span data-ttu-id="68b23-156">Data Lake Tools pour Visual Studio prend en charge l’exécution de requêtes Hive à partir de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="68b23-156">Data Lake Tools for Visual Studio supports running Hive queries from Visual Studio.</span></span> <span data-ttu-id="68b23-157">Pour plus d’informations sur Hive, consultez l’article [Utilisation de Hive avec HDInsight](hdinsight-use-hive.md).</span><span class="sxs-lookup"><span data-stu-id="68b23-157">For more information about Hive, see [Use Hive with HDInsight](hdinsight-use-hive.md).</span></span>

<span data-ttu-id="68b23-158">Le test du script Hive sur un cluster HDInsight est chronophage.</span><span class="sxs-lookup"><span data-stu-id="68b23-158">It is time consuming to test Hive script against an HDInsight cluster.</span></span> <span data-ttu-id="68b23-159">Il peut durer plusieurs minutes.</span><span class="sxs-lookup"><span data-stu-id="68b23-159">It could take several minutes or more.</span></span> <span data-ttu-id="68b23-160">Data Lake Tools pour Visual Studio est capable de valider le script Hive localement, sans connexion à un cluster activé.</span><span class="sxs-lookup"><span data-stu-id="68b23-160">Data Lake Tools for Visual Studio is capable of validating Hive script locally without connecting to a live cluster.</span></span>

<span data-ttu-id="68b23-161">Data Lake Tools pour Visual Studio permet également aux utilisateurs de consulter le contenu de la tâche Hive en collectant et en exposant les journaux YARN de tâches Hive données.</span><span class="sxs-lookup"><span data-stu-id="68b23-161">Data Lake Tools for Visual Studio also enables users to see what’s inside the Hive job by collecting and surfacing the YARN logs of certain Hive jobs.</span></span>

### <a name="view-the-hivesampletable"></a><span data-ttu-id="68b23-162">Afficher la table Hive **hivesampletable**</span><span class="sxs-lookup"><span data-stu-id="68b23-162">View the **hivesampletable**</span></span>
<span data-ttu-id="68b23-163">Les clusters HDInsight sont fournis avec un exemple de table Hive qui porte le nom *hivesampletable*.</span><span class="sxs-lookup"><span data-stu-id="68b23-163">All HDInsight clusters come with a sample Hive table called *hivesampletable*.</span></span> <span data-ttu-id="68b23-164">Nous allons utiliser ce tableau pour vous montrer comment répertorier des tables Hive, afficher des schémas de table et répertorier les lignes de la table Hive.</span><span class="sxs-lookup"><span data-stu-id="68b23-164">We'll use this table to show you how to list Hive tables, view the table schemas, and list the rows in the Hive table.</span></span>

<span data-ttu-id="68b23-165">**Pour répertorier les tables Hive et afficher le schéma de la table Hive**</span><span class="sxs-lookup"><span data-stu-id="68b23-165">**To list Hive tables and view Hive table schema**</span></span>

1. <span data-ttu-id="68b23-166">À partir de **l’Explorateur de serveurs**, développez**Azure** > **HDInsight** > le cluster de votre choix > **Bases de données Hive** > **Par défaut** > **hivesampletable** pour afficher le schéma de table.</span><span class="sxs-lookup"><span data-stu-id="68b23-166">From **Server Explorer**, expand **Azure** > **HDInsight** > the cluster of your choice > **Hive Databases** > **Default** > **hivesampletable** to see the table schema.</span></span>
2. <span data-ttu-id="68b23-167">Cliquez avec le bouton droit sur **hivesampletable**, puis cliquez sur **Afficher les 100 premières lignes** pour répertorier les lignes.</span><span class="sxs-lookup"><span data-stu-id="68b23-167">Right-click **hivesampletable**, and then click **View Top 100 Rows** to list the rows.</span></span> <span data-ttu-id="68b23-168">Cela revient à exécuter la requête Hive suivante à l’aide du pilote ODBC Hive :</span><span class="sxs-lookup"><span data-stu-id="68b23-168">It is equivalent to running the following Hive query using Hive ODBC driver:</span></span>
   
     <span data-ttu-id="68b23-169">SELECT * FROM hivesampletable LIMIT 100</span><span class="sxs-lookup"><span data-stu-id="68b23-169">SELECT * FROM hivesampletable LIMIT 100</span></span>
   
   <span data-ttu-id="68b23-170">Vous pouvez personnaliser le nombre de lignes.</span><span class="sxs-lookup"><span data-stu-id="68b23-170">You can customize the row count.</span></span>
   
   <span data-ttu-id="68b23-171">![Data Lake Tools : requête de schéma Hive dans HDInsight Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.hive.schema.png "Résultats de la requête Hive")</span><span class="sxs-lookup"><span data-stu-id="68b23-171">![Data Lake Tools: HDInsight Hive Visual Studio schema query](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.hive.schema.png "Hive query results")</span></span>

### <a name="create-hive-tables"></a><span data-ttu-id="68b23-172">Créer des tables Hive</span><span class="sxs-lookup"><span data-stu-id="68b23-172">Create Hive tables</span></span>
<span data-ttu-id="68b23-173">Vous pouvez utiliser des requêtes Hive ou utiliser la GUI pour créer une table Hive.</span><span class="sxs-lookup"><span data-stu-id="68b23-173">You can use the GUI to create a Hive table or use Hive queries.</span></span> <span data-ttu-id="68b23-174">Pour plus d’informations relatives à l’utilisation de requêtes Hive, consultez [Exécution de requêtes Hive](#run.queries).</span><span class="sxs-lookup"><span data-stu-id="68b23-174">For information about using Hive queries, see [Run Hive queries](#run.queries).</span></span>

<span data-ttu-id="68b23-175">**Pour créer une table Hive**</span><span class="sxs-lookup"><span data-stu-id="68b23-175">**To create a Hive table**</span></span>

1. <span data-ttu-id="68b23-176">Dans **l’Explorateur de serveurs**, développez successivement **Azure** > **Clusters HDInsight** un cluster HDInsight > **Bases de données Hive**, puis cliquez avec le bouton droit sur **Par défaut** et cliquez sur **Créer une table**.</span><span class="sxs-lookup"><span data-stu-id="68b23-176">From **Server Explorer**, expand **Azure** > **HDInsight Clusters** an HDInsight cluster > **Hive Databases**, then right-click **default**, and click **Create Table**.</span></span>
2. <span data-ttu-id="68b23-177">Configurez la table.</span><span class="sxs-lookup"><span data-stu-id="68b23-177">Configure the table.</span></span>
3. <span data-ttu-id="68b23-178">Cliquez sur **Créer une table** pour envoyer la tâche de création d’une table Hive.</span><span class="sxs-lookup"><span data-stu-id="68b23-178">Click **Create Table** to submit the job to create the new Hive table.</span></span>
   
    <span data-ttu-id="68b23-179">![Data Lake Tools : création d’une table Hive dans HDInsight Visual Studio Tools](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.create.hive.table.png "Créer une table Hive")</span><span class="sxs-lookup"><span data-stu-id="68b23-179">![Data Lake Tools: HDInsight Visual Studio Tools create hive table](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.create.hive.table.png "Create Hive table")</span></span>

### <span data-ttu-id="68b23-180"><a name="run.queries"></a>Validation et exécution de requêtes Hive</span><span class="sxs-lookup"><span data-stu-id="68b23-180"><a name="run.queries"></a>Validate and run Hive queries</span></span>
<span data-ttu-id="68b23-181">Vous pouvez créer et exécuter des requêtes Hive de deux manières :</span><span class="sxs-lookup"><span data-stu-id="68b23-181">There are two ways to create and run Hive queries:</span></span>

* <span data-ttu-id="68b23-182">Création de requêtes ad hoc</span><span class="sxs-lookup"><span data-stu-id="68b23-182">Create ad-hoc queries</span></span>
* <span data-ttu-id="68b23-183">Création d’une application Hive</span><span class="sxs-lookup"><span data-stu-id="68b23-183">Create a Hive application</span></span>

<span data-ttu-id="68b23-184">**Pour créer, valider et exécuter des requêtes ad hoc**</span><span class="sxs-lookup"><span data-stu-id="68b23-184">**To create, validate, and run ad-hoc queries**</span></span>

1. <span data-ttu-id="68b23-185">Dans **l’Explorateur de serveurs**, développez **Azure**, puis **Clusters HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="68b23-185">From **Server Explorer**, expand **Azure**, and then expand **HDInsight Clusters**.</span></span>
2. <span data-ttu-id="68b23-186">Cliquez avec le bouton droit sur le cluster dans lequel vous souhaitez exécuter la requête, puis cliquez sur **Écrire une requête Hive**.</span><span class="sxs-lookup"><span data-stu-id="68b23-186">Right-click the cluster where you want to run the query, and then click **Write a Hive Query**.</span></span>
3. <span data-ttu-id="68b23-187">Entrez les requêtes Hive.</span><span class="sxs-lookup"><span data-stu-id="68b23-187">Enter the Hive queries.</span></span> <span data-ttu-id="68b23-188">Notez que l’éditeur Hive prend en charge IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="68b23-188">Notice the Hive editor supports IntelliSense.</span></span> <span data-ttu-id="68b23-189">Data Lake Tools pour Visual Studio prend en charge le chargement des métadonnées distantes pendant la modification d’un script Hive.</span><span class="sxs-lookup"><span data-stu-id="68b23-189">Data Lake Tools for Visual Studio supports loading the remote metadata when you are editing your Hive script.</span></span> <span data-ttu-id="68b23-190">Par exemple, lorsque vous tapez « SELECT * FROM », IntelliSense répertorie tous les noms de table suggérés.</span><span class="sxs-lookup"><span data-stu-id="68b23-190">For example, when you type "SELECT * FROM", the IntelliSense lists all the suggested table names.</span></span> <span data-ttu-id="68b23-191">Lorsqu’un nom de table est spécifié, les noms de colonne sont répertoriés par IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="68b23-191">When a table name is specified, the column names are listed by the IntelliSense.</span></span> <span data-ttu-id="68b23-192">Les outils prennent en charge quasiment toutes les instructions DML, sous-requêtes et fonctions définies par l’utilisateur intégrées de Hive.</span><span class="sxs-lookup"><span data-stu-id="68b23-192">The tools support almost all Hive DML statements, subqueries, and the built-in UDFs.</span></span>
   
    <span data-ttu-id="68b23-193">![Data Lake Tools : IntelliSense dans HDInsight Visual Studio Tools](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.intellisense.table.names.png "IntelliSense U-SQL")</span><span class="sxs-lookup"><span data-stu-id="68b23-193">![Data Lake Tools: HDInsight Visual Studio Tools IntelliSense](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.intellisense.table.names.png "U-SQL IntelliSense")</span></span>
   
    <span data-ttu-id="68b23-194">![Data Lake Tools : IntelliSense dans HDInsight Visual Studio Tools](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.intellisense.column.names.png "IntelliSense U-SQL")</span><span class="sxs-lookup"><span data-stu-id="68b23-194">![Data Lake Tools: HDInsight Visual Studio Tools IntelliSense](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.intellisense.column.names.png "U-SQL IntelliSense")</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="68b23-195">Seules les métadonnées des clusters sélectionnés dans la barre d'outils HDInsight sont proposées.</span><span class="sxs-lookup"><span data-stu-id="68b23-195">Only the metadata of the clusters that is selected in HDInsight Toolbar will be suggested.</span></span>
   > 
   > 
4. <span data-ttu-id="68b23-196">(Facultatif) : cliquez sur **Valider le script** pour vérifier l’absence d’erreurs de syntaxe dans le script.</span><span class="sxs-lookup"><span data-stu-id="68b23-196">(Optional): Click **Validate Script** to check the script syntax errors.</span></span>
   
    <span data-ttu-id="68b23-197">![Data Lake Tools : validation locale de Data Lake Tools pour Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.validate.hive.script.png "Valider le script")</span><span class="sxs-lookup"><span data-stu-id="68b23-197">![Data Lake Tools: Data Lake Tools for Visual Studio local validation](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.validate.hive.script.png "Validate script")</span></span>
5. <span data-ttu-id="68b23-198">Cliquez sur **Envoyer** ou sur **Envoyer (Avancé)**.</span><span class="sxs-lookup"><span data-stu-id="68b23-198">Click **Submit** or **Submit (Advanced)**.</span></span> <span data-ttu-id="68b23-199">Avec l’option d’envoi avancé, vous allez configurer les éléments **Nom de la tâche**, **Arguments**, **Configurations supplémentaires** et **Répertoire d’état** pour le script :</span><span class="sxs-lookup"><span data-stu-id="68b23-199">With the advanced submit option, you'll configure **Job Name**, **Arguments**, **Additional Configurations**, and **Status Directory** for the script:</span></span>
   
    <span data-ttu-id="68b23-200">![Requête HDInsight Hadoop Hive](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.submit.jobs.advanced.png "Soumettre des requêtes")</span><span class="sxs-lookup"><span data-stu-id="68b23-200">![HDInsight Hadoop hive query](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.submit.jobs.advanced.png "Submit queries")</span></span>
   
    <span data-ttu-id="68b23-201">Une fois la tâche soumise, la fenêtre **Résumé de tâche Hive** s’affiche.</span><span class="sxs-lookup"><span data-stu-id="68b23-201">After you submit the job, you see a **Hive Job Summary** window.</span></span>
   
    <span data-ttu-id="68b23-202">![Résumé d’une requête HDInsight Hadoop Hive](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.run.hive.job.summary.png "Résumé de la tâche Hive")</span><span class="sxs-lookup"><span data-stu-id="68b23-202">![Summary of an HDInsight Hadoop Hive query](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.run.hive.job.summary.png "Hive job summary")</span></span>
6. <span data-ttu-id="68b23-203">Utilisez le bouton **Actualiser** pour mettre à jour l’état jusqu’à ce qu’il passe à **Terminé**.</span><span class="sxs-lookup"><span data-stu-id="68b23-203">Use the **Refresh** button to update the status until the job status changes to **Completed**.</span></span>
7. <span data-ttu-id="68b23-204">Cliquez sur les liens situés dans la partie inférieure pour afficher les éléments suivants : la **requête de tâche**, la **sortie de la tâche**, le **journal de la tâche** ou le **Journal Yarn**.</span><span class="sxs-lookup"><span data-stu-id="68b23-204">Click the links at the bottom to see the following: **Job Query**, **Job Output**, **Job log**, or **Yarn log**.</span></span>

<span data-ttu-id="68b23-205">**Pour créer et exécuter une solution Hive**</span><span class="sxs-lookup"><span data-stu-id="68b23-205">**To create and run a Hive solution**</span></span>

1. <span data-ttu-id="68b23-206">Dans le menu **FICHIER**, cliquez sur **Nouveau**, puis sur **Projet**.</span><span class="sxs-lookup"><span data-stu-id="68b23-206">From the **FILE** menu, click **New**, and then click **Project**.</span></span>
2. <span data-ttu-id="68b23-207">Sélectionnez **HDInsight** dans le volet gauche, sélectionnez **Application Hive** dans le volet central, entrez les propriétés, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="68b23-207">Select **HDInsight** from the left pane, select **Hive Application** in the middle pane, enter the properties, and then click **OK**.</span></span>
   
    <span data-ttu-id="68b23-208">![Data Lake Tools : nouveau projet Hive dans HDInsight Visual Studio Tools](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.new.hive.project.png "Créer des applications Hive à partir de Visual Studio")</span><span class="sxs-lookup"><span data-stu-id="68b23-208">![Data Lake Tools: HDInsight Visual Studio Tools new hive project](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.new.hive.project.png "Create Hive applications from Visual Studio")</span></span>
3. <span data-ttu-id="68b23-209">Dans **l’Explorateur de solutions**, double-cliquez sur **Script.hql** pour l’ouvrir.</span><span class="sxs-lookup"><span data-stu-id="68b23-209">From **Solution Explorer**, double-click **Script.hql** to open it.</span></span>
4. <span data-ttu-id="68b23-210">Pour valider le script Hive, vous pouvez cliquer sur le bouton **Valider le script**, ou cliquer avec le bouton droit sur le script dans l’éditeur Hive, puis sur **Valider le script** dans le menu contextuel.</span><span class="sxs-lookup"><span data-stu-id="68b23-210">To validate the Hive script, you can click the **Validate Script** button, or right-click the script in the Hive editor, and then click **Validate Script** from the context menu.</span></span>

### <a name="view-hive-jobs"></a><span data-ttu-id="68b23-211">Afficher les tâches Hive</span><span class="sxs-lookup"><span data-stu-id="68b23-211">View Hive jobs</span></span>
<span data-ttu-id="68b23-212">Vous pouvez afficher les requêtes, la sortie, le journal et le journal Yarn des tâches Hive.</span><span class="sxs-lookup"><span data-stu-id="68b23-212">You can view job queries, job output, job logs, and Yarn logs for Hive jobs.</span></span> <span data-ttu-id="68b23-213">Pour plus d'informations, consultez la capture d’écran précédente.</span><span class="sxs-lookup"><span data-stu-id="68b23-213">For more information, see the previous screenshot.</span></span>

<span data-ttu-id="68b23-214">La version la plus récente des outils permet de consulter le contenu de vos tâches Hive en collectant et en exposant les journaux YARN.</span><span class="sxs-lookup"><span data-stu-id="68b23-214">The most recent release of the tools allows you to see what’s inside your Hive jobs by collecting and surfacing  YARN logs.</span></span> <span data-ttu-id="68b23-215">Le journal YARN peut vous aider à examiner les problèmes de performances.</span><span class="sxs-lookup"><span data-stu-id="68b23-215">A YARN log can help you investigating performance issues.</span></span> <span data-ttu-id="68b23-216">Pour plus d’informations sur la collection des journaux YARN par HDInsight, consultez [Accès par programme aux journaux des applications HDInsight](hdinsight-hadoop-access-yarn-app-logs.md).</span><span class="sxs-lookup"><span data-stu-id="68b23-216">For more information about how HDInsight collects YARN logs, see [Access HDInsight Application Logs Programmatically](hdinsight-hadoop-access-yarn-app-logs.md).</span></span>

<span data-ttu-id="68b23-217">**Pour afficher les tâches Hive**</span><span class="sxs-lookup"><span data-stu-id="68b23-217">**To view Hive jobs**</span></span>

1. <span data-ttu-id="68b23-218">Dans **l’Explorateur de serveurs**, développez **Azure**, puis **HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="68b23-218">From **Server Explorer**, expand **Azure**, and then expand **HDInsight**.</span></span>
2. <span data-ttu-id="68b23-219">Cliquez avec le bouton droit sur un cluster HDInsight, puis cliquez sur **Afficher les tâches**.</span><span class="sxs-lookup"><span data-stu-id="68b23-219">Right-click an HDInsight cluster, and then click **View Jobs**.</span></span> <span data-ttu-id="68b23-220">Vous verrez une liste des tâches Hive exécutées sur le cluster.</span><span class="sxs-lookup"><span data-stu-id="68b23-220">You'll see a list of the Hive jobs that ran on the cluster.</span></span>
3. <span data-ttu-id="68b23-221">Cliquez sur une tâche dans la liste des tâches pour la sélectionner, puis utilisez la fenêtre **Résumé des tâches Hive** pour ouvrir **Requête de tâche**, **Sortie de la tâche**, **Journal de la tâche** ou **Journal Yarn**.</span><span class="sxs-lookup"><span data-stu-id="68b23-221">Click a job in the job list to select it, and then use the **Hive Job Summary** window to open **Job Query**, **Job Output**, **Job Log**, or **Yarn log**.</span></span>
   
    <span data-ttu-id="68b23-222">![Data Lake Tools : affichage des tâches Hive dans HDInsight Visual Studio Tools](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.view.hive.jobs.png "Afficher les tâches Hive")</span><span class="sxs-lookup"><span data-stu-id="68b23-222">![Data Lake Tools: HDInsight Visual Studio Tools view Hive jobs](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.view.hive.jobs.png "View Hive jobs")</span></span>

### <a name="faster-path-hive-execution-via-hiveserver2"></a><span data-ttu-id="68b23-223">Plus grande rapidité d’exécution de Hive via HiveServer2</span><span class="sxs-lookup"><span data-stu-id="68b23-223">Faster path Hive execution via HiveServer2</span></span>
> [!NOTE]
> <span data-ttu-id="68b23-224">Cette fonctionnalité n’est disponible qu’avec le cluster HDInsight versions 3.2 et ultérieures.</span><span class="sxs-lookup"><span data-stu-id="68b23-224">This feature only works on HDInsight cluster version 3.2 and newer.</span></span>
> 
> 

<span data-ttu-id="68b23-225">L’application Data Lake Tools utilisée pour envoyer des tâches Hive par le biais de [WebHCat](https://cwiki.apache.org/confluence/display/Hive/WebHCat) (également appelé Templeton).</span><span class="sxs-lookup"><span data-stu-id="68b23-225">The Data Lake Tools used to submit Hive jobs via [WebHCat](https://cwiki.apache.org/confluence/display/Hive/WebHCat) (also known as Templeton).</span></span> <span data-ttu-id="68b23-226">Il fallait auparavant beaucoup de temps pour renvoyer les détails d’une tâche et les informations d’erreur.</span><span class="sxs-lookup"><span data-stu-id="68b23-226">It took a long time to return job details and error information.</span></span>
<span data-ttu-id="68b23-227">Pour résoudre ce problème de performances, Data Lake Tools exécute dorénavant les tâches Hive directement dans le cluster par le biais de HiveServer2, de manière à contourner RDP/SSH.</span><span class="sxs-lookup"><span data-stu-id="68b23-227">In order to solve this performance issue, the Data Lake Tools executes Hive jobs directly in the cluster through HiveServer2, so that it bypasses RDP/SSH.</span></span>
<span data-ttu-id="68b23-228">En plus de bénéficier de meilleures performances, les utilisateurs peuvent afficher Hive sur des graphiques Tez et consulter les détails de la tâche.</span><span class="sxs-lookup"><span data-stu-id="68b23-228">In addition to better performance, users can also view Hive on Tez graphs, and the Task details.</span></span>

<span data-ttu-id="68b23-229">Pour le cluster HDInsight version 3.2 ou ultérieure, vous pouvez voir un bouton **Exécuter par le biais de HiveServer2** :</span><span class="sxs-lookup"><span data-stu-id="68b23-229">For HDInsight cluster version 3.2 or later, you can see an **Execute via HiveServer2** button:</span></span>

<span data-ttu-id="68b23-230">![Exécution de Data Lake Tools pour Visual Studio via hiveserver2](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.execute.via.hiveserver2.png "Exécuter des requêtes Hive à l’aide de HiveServer2")</span><span class="sxs-lookup"><span data-stu-id="68b23-230">![Data Lake visual studio Tools execute via hiveserver2](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.execute.via.hiveserver2.png "Execute Hive queries using HiveServer2")</span></span>

<span data-ttu-id="68b23-231">Les journaux sont également diffusés en temps réel et les graphiques de tâches s’affichent si la requête Hive et exécutée dans Tez.</span><span class="sxs-lookup"><span data-stu-id="68b23-231">And you can see the logs streamed back in real-time and see the job graphs if the Hive query is executed in Tez.</span></span>

<span data-ttu-id="68b23-232">![Exécution du chemin d’accès rapide de Data Lake Tools pour Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.fast.path.hive.execution.png "Afficher les graphiques de tâches")</span><span class="sxs-lookup"><span data-stu-id="68b23-232">![Data Lake visual studio Tools fast path hive execution](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.fast.path.hive.execution.png "View job graphs")</span></span>

<span data-ttu-id="68b23-233">**Différence entre l’exécution de requêtes via HiveServer2 et l’envoi de requêtes via WebHCat**</span><span class="sxs-lookup"><span data-stu-id="68b23-233">**Difference between executing queries via HiveServer2 and Submitting Queries via WebHCat**</span></span>

<span data-ttu-id="68b23-234">Même si l’exécution de requêtes via HiveServer2 présente de nombreux avantages en termes de performances, elle s’accompagne également de certaines restrictions.</span><span class="sxs-lookup"><span data-stu-id="68b23-234">Even though executing queries via HiveServer2 has many performance benefits, it has several limitations.</span></span> <span data-ttu-id="68b23-235">Certaines de ces restrictions ne conviennent pas pour une utilisation en production.</span><span class="sxs-lookup"><span data-stu-id="68b23-235">Some of the limitations are not suitable for production usage.</span></span> <span data-ttu-id="68b23-236">Le tableau suivant répertorie les différences :</span><span class="sxs-lookup"><span data-stu-id="68b23-236">The following table shows the differences:</span></span>

|  | <span data-ttu-id="68b23-237">Exécution via HiveServer2</span><span class="sxs-lookup"><span data-stu-id="68b23-237">Executing via HiveServer2</span></span> | <span data-ttu-id="68b23-238">Envoi via WebHCat</span><span class="sxs-lookup"><span data-stu-id="68b23-238">Submitting via WebHCat</span></span> |
| --- | --- | --- |
| <span data-ttu-id="68b23-239">Exécuter des requêtes</span><span class="sxs-lookup"><span data-stu-id="68b23-239">Execute queries</span></span> |<span data-ttu-id="68b23-240">Élimine la surcharge de WebHCat (qui lance une tâche MapReduce nommée « TempletonControllerJob »).</span><span class="sxs-lookup"><span data-stu-id="68b23-240">Eliminates the overhead in WebHCat (which launches a MapReduce Job named “TempletonControllerJob”).</span></span> |<span data-ttu-id="68b23-241">Tant qu’une requête est exécutée via WebHCat, WebHCat lancera une tâche MapReduce qui introduira une latence supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="68b23-241">As long as a query is executed via WebHCat, WebHCat will launch a MapReduce job which introduces additional latency.</span></span> |
| <span data-ttu-id="68b23-242">Diffuser des journaux en continu</span><span class="sxs-lookup"><span data-stu-id="68b23-242">Stream logs back</span></span> |<span data-ttu-id="68b23-243">En temps quasi-réel.</span><span class="sxs-lookup"><span data-stu-id="68b23-243">In near real-time.</span></span> |<span data-ttu-id="68b23-244">Les journaux d’exécution de la tâche sont disponibles uniquement une fois la tâche terminée.</span><span class="sxs-lookup"><span data-stu-id="68b23-244">The job execution logs are available only when the job is finished.</span></span> |
| <span data-ttu-id="68b23-245">Afficher l’historique des tâches</span><span class="sxs-lookup"><span data-stu-id="68b23-245">View job history</span></span> |<span data-ttu-id="68b23-246">Si une requête est exécutée par le biais de HiveServer2, son historique des tâches (journal des tâches, résultat de la tâche) n’est pas conservé.</span><span class="sxs-lookup"><span data-stu-id="68b23-246">If a query is executed via HiveServer2, its job history (job log, job output) is not preserved.</span></span> <span data-ttu-id="68b23-247">L’application est consultable dans l’interface utilisateur YARN, mais avec des informations limitées.</span><span class="sxs-lookup"><span data-stu-id="68b23-247">The application can be viewed in YARN UI with limited information.</span></span> |<span data-ttu-id="68b23-248">Si une requête est exécutée via WebHCat, son historique des tâches (journal des tâches, résultat de la tâche) est conservé et peut être affiché à l’aide de Visual Studio, du Kit de développement logiciel HDInsight ou de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="68b23-248">If a query is executed via WebHCat, it’s job history (job log, job output) is preserved and can be viewed using Visual Studio/HDInsight SDK/PowerShell.</span></span> |
| <span data-ttu-id="68b23-249">Fermer la fenêtre</span><span class="sxs-lookup"><span data-stu-id="68b23-249">Close window</span></span> |<span data-ttu-id="68b23-250">L’exécution par le biais de HiveServer2 repose sur un mode « synchrone ». Vous devez laisser les fenêtres ouvertes. Si les fenêtres sont fermées, l’exécution de la requête sera annulée.</span><span class="sxs-lookup"><span data-stu-id="68b23-250">Executing via HiveServer2 is a “synchronous” way so you must keep the windows open; if the windows are closed then the query execution will be canceled.</span></span> |<span data-ttu-id="68b23-251">L’envoi via WebHCat repose sur un mode « asynchrone » ce qui vous permet de soumettre la requête via WebHCat et de fermer Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="68b23-251">Submitting via WebHCat is a “asynchronous” way so you can submit the query via WebHCat and close Visual Studio.</span></span> <span data-ttu-id="68b23-252">Vous pouvez y revenir et consulter les résultats à tout moment.</span><span class="sxs-lookup"><span data-stu-id="68b23-252">You can come back and see the results at any time.</span></span> |

### <a name="tez-hive-job-performance-graph"></a><span data-ttu-id="68b23-253">Graphique de performances des travaux Hive sur Tez</span><span class="sxs-lookup"><span data-stu-id="68b23-253">Tez Hive job performance graph</span></span>
<span data-ttu-id="68b23-254">Les Data Lake Tools prennent en charge l’affichage des graphiques de performances pour les tâches Hive exécutées par le moteur d’exécution Tez.</span><span class="sxs-lookup"><span data-stu-id="68b23-254">The Data Lake Tools support showing performance graphs for the Hive jobs ran by the Tez execution engine.</span></span> <span data-ttu-id="68b23-255">Pour plus d’informations sur l’activation de Tez, voir [Utilisation de Hive dans HDInsight](hdinsight-use-hive.md).</span><span class="sxs-lookup"><span data-stu-id="68b23-255">For information on enabling Tez, see [use Hive in HDInsight](hdinsight-use-hive.md).</span></span> <span data-ttu-id="68b23-256">Après avoir soumis une tâche Hive dans Visual Studio, ce dernier affiche le graphique lorsque cette tâche est terminée.</span><span class="sxs-lookup"><span data-stu-id="68b23-256">After you submit a Hive job in Visual Studio, Visual Studio shows you the graph when the job is completed.</span></span>  <span data-ttu-id="68b23-257">Il se peut que vous deviez cliquer sur le bouton **Actualiser** pour obtenir le dernier état de la tâche.</span><span class="sxs-lookup"><span data-stu-id="68b23-257">You might need to click the **Refresh** button to get the latest job status.</span></span>

> [!NOTE]
> <span data-ttu-id="68b23-258">Cette fonctionnalité est disponible uniquement pour le cluster HDInsight à partir de la version 3.2.4.593 et ne peut fonctionner que pour les tâches terminées (si vous avez envoyé votre tâche via WebHCat ; ce graphique s’affichera lorsque vous exécuterez votre requête via HiveServer2).</span><span class="sxs-lookup"><span data-stu-id="68b23-258">This feature is only available for HDInsight cluster version above 3.2.4.593, and can only work for completed jobs (if you submitted your job through WebHCat; this graph will show when you execute your query through HiveServer2).</span></span> <span data-ttu-id="68b23-259">Elle fonctionne pour les clusters basés sur Windows et Linux.</span><span class="sxs-lookup"><span data-stu-id="68b23-259">This works for both Windows and Linux-based clusters.</span></span>
> 
> 

<span data-ttu-id="68b23-260">![Graphique de performances Hadoop Hive Tez](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.hive.tez.performance.graph.png "Statut de tâche")</span><span class="sxs-lookup"><span data-stu-id="68b23-260">![hadoop hive tez performance graph](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.hive.tez.performance.graph.png "Job status")</span></span>

<span data-ttu-id="68b23-261">Pour vous aider à mieux comprendre votre requête Hive, l’affichage de l’opérateur Hive a été ajouté à cette version.</span><span class="sxs-lookup"><span data-stu-id="68b23-261">To help you understand your Hive query better, the tools add the Hive Operator view in this release.</span></span> <span data-ttu-id="68b23-262">Double-cliquez simplement sur les vertex du graphique de la tâche pour voir tous les opérateurs à l’intérieur du vertex.</span><span class="sxs-lookup"><span data-stu-id="68b23-262">You just need to double-click on the vertices of the job graph and you can see all the operators inside the vertex.</span></span> <span data-ttu-id="68b23-263">Vous pouvez également pointer sur un opérateur spécifique pour afficher plus d’informations sur un cet opérateur.</span><span class="sxs-lookup"><span data-stu-id="68b23-263">You can also hover on a particular operator to view more details of this operator.</span></span>

### <a name="task-execution-view-for-hive-on-tez-jobs"></a><span data-ttu-id="68b23-264">Vue Exécution de la tâche pour Hive sur les tâches Tez</span><span class="sxs-lookup"><span data-stu-id="68b23-264">Task execution view for Hive on Tez jobs</span></span>
<span data-ttu-id="68b23-265">Cette vue peut être utilisée pour obtenir des informations structurées et visualisées sur les tâches Hive et pour obtenir davantage de détails sur la tâche.</span><span class="sxs-lookup"><span data-stu-id="68b23-265">The Task execution view for Hive on Tez jobs can be used to get structured & visualized information for Hive jobs, and get more job details.</span></span> <span data-ttu-id="68b23-266">En cas de problèmes de performances, vous pouvez utiliser cette vue pour obtenir des détails supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="68b23-266">When there are performance issues, you can use the view to get further details.</span></span> <span data-ttu-id="68b23-267">Par exemple, vous pouvez voir comment fonctionne chaque tâche et obtenir des informations détaillées sur chaque tâche (lecture/écriture de données, heure de planification/début/fin, etc.) de manière à pouvoir adapter les configurations de tâches ou l’architecture système en fonction des informations visualisées.</span><span class="sxs-lookup"><span data-stu-id="68b23-267">For example, how each task operates and the detailed information about each task (data read/write, schedule/start/end time, etc.), so that you can tune job configurations or system architecture based on the visualized information.</span></span>

<span data-ttu-id="68b23-268">![Vue de l’exécution de la tâche Data Lake Tools pour Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.task.execution.view.png "Vue de l’exécution de la tâche")</span><span class="sxs-lookup"><span data-stu-id="68b23-268">![Data Lake Visual Studio Tools task execution view](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.task.execution.view.png "Task execution view")</span></span>

## <a name="run-pig-scripts"></a><span data-ttu-id="68b23-269">Exécuter des scripts Pig</span><span class="sxs-lookup"><span data-stu-id="68b23-269">Run Pig scripts</span></span>
<span data-ttu-id="68b23-270">Data Lake Tools pour Visual Studio prennent en charge la création et la soumission de scripts Pig aux clusters HDInsight.</span><span class="sxs-lookup"><span data-stu-id="68b23-270">Data Lake Tools for Visual Studio supports creating and submit Pig scripts to HDInsight clusters.</span></span> <span data-ttu-id="68b23-271">Les utilisateurs peuvent créer un projet Pig à partir d’un modèle, puis soumettre le script à des clusters HDInsight.</span><span class="sxs-lookup"><span data-stu-id="68b23-271">Users can create a Pig project from template, and then submit the script to HDInsight clusters.</span></span>

## <a name="feedbacks--known-issues"></a><span data-ttu-id="68b23-272">Commentaires et problèmes connus</span><span class="sxs-lookup"><span data-stu-id="68b23-272">Feedbacks & Known issues</span></span>
* <span data-ttu-id="68b23-273">Actuellement, les résultats HiveServer2 sont affichés en mode texte pur, ce qui n'est pas idéal.</span><span class="sxs-lookup"><span data-stu-id="68b23-273">Currently HiveServer2 results are displayed in pure text fashion which is not ideal.</span></span> <span data-ttu-id="68b23-274">Nous y travaillons actuellement.</span><span class="sxs-lookup"><span data-stu-id="68b23-274">We are working on fixing that.</span></span>
* <span data-ttu-id="68b23-275">Actuellement, si les résultats sont lancés avec des valeurs NULL, ils ne sont pas affichés.</span><span class="sxs-lookup"><span data-stu-id="68b23-275">If the results are started with NULL values, currently the results are not shown.</span></span> <span data-ttu-id="68b23-276">Nous avons résolu ce problème. Si vous êtes bloqué sur ce problème, n'hésitez pas à nous envoyer un e-mail ou à contacter l'équipe du support technique.</span><span class="sxs-lookup"><span data-stu-id="68b23-276">We have fixed this issue and if you are blocked on this issue, feel free to drop us an email or contact support team.</span></span>
* <span data-ttu-id="68b23-277">Le script HQL créé par Visual Studio est encodé selon le paramètre de région locale de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="68b23-277">The HQL script created by Visual Studio is encoded depending on user’s local region setting.</span></span> <span data-ttu-id="68b23-278">Il peut ne pas s’exécuter correctement si l’utilisateur charge le script dans le cluster sous forme binaire.</span><span class="sxs-lookup"><span data-stu-id="68b23-278">It may not execute correctly if user uploads the script to cluster as binary.</span></span>

## <a name="next-steps"></a><span data-ttu-id="68b23-279">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="68b23-279">Next steps</span></span>
<span data-ttu-id="68b23-280">Dans cet article, vous avez appris à établir une connexion à des clusters HDInsight à partir de Visual Studio à l’aide du package Data Lake (HDInsight) Tools et à exécuter des requêtes Hive.</span><span class="sxs-lookup"><span data-stu-id="68b23-280">In this article, you learned how to connect to HDInsight clusters from Visual Studio, using the Data Lake (HDInsight) Tools package, and how to run a Hive query.</span></span> <span data-ttu-id="68b23-281">Pour plus d'informations, consultez les pages suivantes :</span><span class="sxs-lookup"><span data-stu-id="68b23-281">For more information, see:</span></span>

* [<span data-ttu-id="68b23-282">Utilisation de Hadoop Hive dans HDInsight</span><span class="sxs-lookup"><span data-stu-id="68b23-282">Use Hadoop Hive in HDInsight</span></span>](hdinsight-use-hive.md)
* [<span data-ttu-id="68b23-283">Prise en main de Hadoop dans HDInsight</span><span class="sxs-lookup"><span data-stu-id="68b23-283">Get started using Hadoop in HDInsight</span></span>](hdinsight-hadoop-linux-tutorial-get-started.md)
* [<span data-ttu-id="68b23-284">Envoi de tâches Hadoop dans HDInsight</span><span class="sxs-lookup"><span data-stu-id="68b23-284">Submit Hadoop jobs in HDInsight</span></span>](hdinsight-submit-hadoop-jobs-programmatically.md)
* [<span data-ttu-id="68b23-285">Analyse des données Twitter avec Hadoop dans HDInsight</span><span class="sxs-lookup"><span data-stu-id="68b23-285">Analyze Twitter data with Hadoop in HDInsight</span></span>](hdinsight-analyze-twitter-data.md)

