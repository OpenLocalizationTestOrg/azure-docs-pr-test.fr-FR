---
title: options de contexte aaaCompute pour R Server sur HDInsight - Azure | Documents Microsoft
description: En savoir plus sur hello calcul autre contexte options disponibles toousers avec R Server sur HDInsight
services: HDInsight
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 0deb0b1c-4094-459b-94fc-ec9b774c1f8a
ms.service: HDInsight
ms.custom: hdinsightactive
ms.devlang: R
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-services
ms.date: 06/19/2017
ms.author: bradsev
ms.openlocfilehash: b3b0d0cc3caa390797dcff8c73d66cd3ad78bcaa
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="compute-context-options-for-r-server-on-hdinsight"></a><span data-ttu-id="8cf8a-103">Options de contexte de calcul pour R Server sur HDInsight (version préliminaire)</span><span class="sxs-lookup"><span data-stu-id="8cf8a-103">Compute context options for R Server on HDInsight</span></span>

<span data-ttu-id="8cf8a-104">Microsoft R Server sur Azure HDInsight contrôle l’exécution des appels par le paramètre de contexte de calcul hello.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-104">Microsoft R Server on Azure HDInsight controls how calls are executed by setting hello compute context.</span></span> <span data-ttu-id="8cf8a-105">Cet article présente hello les options disponible toospecify si et comment l’exécution est mis en parallèle sur les cœurs de nœud de périmètre hello ou cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-105">This article outlines hello options that are available toospecify whether and how execution is parallelized across cores of hello edge node or HDInsight cluster.</span></span>

<span data-ttu-id="8cf8a-106">nœud de périmètre Hello d’un cluster fournit un emplacement pratique tooconnect toohello cluster toorun vos scripts R.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-106">hello edge node of a cluster provides a convenient place tooconnect toohello cluster and toorun your R scripts.</span></span> <span data-ttu-id="8cf8a-107">Avec un nœud de périmètre, vous avez des fonctions d’option Hello en cours d’exécution parallélisée distributed hello de ScaleR entre les cœurs hello du serveur de nœud hello edge.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-107">With an edge node, you have hello option of running hello parallelized distributed functions of ScaleR across hello cores of hello edge node server.</span></span> <span data-ttu-id="8cf8a-108">Vous pouvez également exécuter les sur les nœuds hello du cluster de hello à l’aide de ScaleR Hadoop MapReduce ou Spark contextes de calcul.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-108">You can also run them across hello nodes of hello cluster by using ScaleR’s Hadoop Map Reduce or Spark compute contexts.</span></span>

## <a name="microsoft-r-server-on-azure-hdinsight"></a><span data-ttu-id="8cf8a-109">Microsoft R Server dans Azure HDInsight</span><span class="sxs-lookup"><span data-stu-id="8cf8a-109">Microsoft R Server on Azure HDInsight</span></span>
<span data-ttu-id="8cf8a-110">[Microsoft R Server sur Azure HDInsight](hdinsight-hadoop-r-server-overview.md) fournit les dernières fonctionnalités de hello pour analytique de basé sur R.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-110">[Microsoft R Server on Azure HDInsight](hdinsight-hadoop-r-server-overview.md) provides hello latest capabilities for R-based analytics.</span></span> <span data-ttu-id="8cf8a-111">Il peut utiliser des données stockées dans un conteneur HDFS dans votre [objets Blob Azure](../storage/common/storage-introduction.md "le stockage Blob Azure") compte de stockage, d’un magasin de LAC de données ou d’un système de fichiers Linux local hello.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-111">It can use data that is stored in an HDFS container in your [Azure Blob](../storage/common/storage-introduction.md "Azure Blob storage") storage account, a Data Lake store, or hello local Linux file system.</span></span> <span data-ttu-id="8cf8a-112">Étant donné que R Server repose sur R open source, hello R des applications que vous générez peuvent appliquer un des packages hello 8000 + R open source.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-112">Since R Server is built on open source R, hello R-based applications you build can apply any of hello 8000+ open source R packages.</span></span> <span data-ttu-id="8cf8a-113">Ils peuvent également utiliser des routines de hello dans [RevoScaleR](https://msdn.microsoft.com/microsoft-r/scaler/scaler), données analytique package de Microsoft qui est inclus avec R Server.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-113">They can also use hello routines in [RevoScaleR](https://msdn.microsoft.com/microsoft-r/scaler/scaler), Microsoft’s big data analytics package that is included with R Server.</span></span>  

## <a name="compute-contexts-for-an-edge-node"></a><span data-ttu-id="8cf8a-114">Contextes de calcul pour un nœud de périmètre</span><span class="sxs-lookup"><span data-stu-id="8cf8a-114">Compute contexts for an edge node</span></span>
<span data-ttu-id="8cf8a-115">En général, un script R qui est exécuté sur le nœud de périmètre hello dans R Server s’exécute au sein de l’interpréteur de hello R sur ce nœud.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-115">In general, an R script that's run in R Server on hello edge node runs within hello R interpreter on that node.</span></span> <span data-ttu-id="8cf8a-116">les exceptions de Hello sont les étapes qui appellent une fonction ScaleR.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-116">hello exceptions are those steps that call a ScaleR function.</span></span> <span data-ttu-id="8cf8a-117">les appels ScaleR Hello exécutent dans un environnement de calcul qui est déterminé par la façon dont vous définissez le contexte de calcul ScaleR hello.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-117">hello ScaleR calls run in a compute environment that is determined by how you set hello ScaleR compute context.</span></span>  <span data-ttu-id="8cf8a-118">Lorsque vous exécutez votre script R à partir d’un nœud, les valeurs possibles hello Hello de calcul sont de contexte :</span><span class="sxs-lookup"><span data-stu-id="8cf8a-118">When you run your R script from an edge node, hello possible values of hello compute context are:</span></span>

- <span data-ttu-id="8cf8a-119">local séquentiel (*« local »*)</span><span class="sxs-lookup"><span data-stu-id="8cf8a-119">local sequential (*‘local’*)</span></span>
- <span data-ttu-id="8cf8a-120">local parallèle (*« localpar »*)</span><span class="sxs-lookup"><span data-stu-id="8cf8a-120">local parallel (*‘localpar’*)</span></span>
- <span data-ttu-id="8cf8a-121">Map Reduce</span><span class="sxs-lookup"><span data-stu-id="8cf8a-121">Map Reduce</span></span>
- <span data-ttu-id="8cf8a-122">Spark</span><span class="sxs-lookup"><span data-stu-id="8cf8a-122">Spark</span></span>

<span data-ttu-id="8cf8a-123">Hello *'local'* et *'localpar'* options diffèrent uniquement par la procédure **rxExec** appels sont exécutés.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-123">hello *‘local’* and *‘localpar’* options differ only in how **rxExec** calls are executed.</span></span> <span data-ttu-id="8cf8a-124">Ils sont tous deux exécutent autres appels de fonction de réception de manière parallèle sur tous les cœurs sauf indication contraire, via l’utilisation de hello ScaleR **numCoresToUse** option, par exemple `rxOptions(numCoresToUse=6)`.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-124">They both execute other rx-function calls in a parallel manner across all available cores unless specified otherwise through use of hello ScaleR **numCoresToUse** option, for example `rxOptions(numCoresToUse=6)`.</span></span> <span data-ttu-id="8cf8a-125">Les options d’exécution parallèle offrent des performances optimales.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-125">Parallel execution options offer optimal performance.</span></span>

<span data-ttu-id="8cf8a-126">Hello tableau suivant résume les hello que différents tooset d’options de contexte l’exécution des appels de calcul :</span><span class="sxs-lookup"><span data-stu-id="8cf8a-126">hello following table summarizes hello various compute context options tooset how calls are executed:</span></span>

| <span data-ttu-id="8cf8a-127">Contexte de calcul</span><span class="sxs-lookup"><span data-stu-id="8cf8a-127">Compute context</span></span>  | <span data-ttu-id="8cf8a-128">Comment tooset</span><span class="sxs-lookup"><span data-stu-id="8cf8a-128">How tooset</span></span>                      | <span data-ttu-id="8cf8a-129">Contexte d’exécution</span><span class="sxs-lookup"><span data-stu-id="8cf8a-129">Execution context</span></span>                        |
| ---------------- | ------------------------------- | ---------------------------------------- |
| <span data-ttu-id="8cf8a-130">Local sequential</span><span class="sxs-lookup"><span data-stu-id="8cf8a-130">Local sequential</span></span> | <span data-ttu-id="8cf8a-131">rxSetComputeContext(‘local’)</span><span class="sxs-lookup"><span data-stu-id="8cf8a-131">rxSetComputeContext(‘local’)</span></span>    | <span data-ttu-id="8cf8a-132">Exécution de parallélisée inter-cœurs hello serveur nœud edge hello, à l’exception des appels rxExec, qui sont exécutées en série</span><span class="sxs-lookup"><span data-stu-id="8cf8a-132">Parallelized execution across hello cores of hello edge node server, except for rxExec calls, which are executed serially</span></span> |
| <span data-ttu-id="8cf8a-133">Local parallel</span><span class="sxs-lookup"><span data-stu-id="8cf8a-133">Local parallel</span></span>   | <span data-ttu-id="8cf8a-134">rxSetComputeContext(‘localpar’)</span><span class="sxs-lookup"><span data-stu-id="8cf8a-134">rxSetComputeContext(‘localpar’)</span></span> | <span data-ttu-id="8cf8a-135">Exécution de parallélisée inter-cœurs hello du serveur de nœud hello edge</span><span class="sxs-lookup"><span data-stu-id="8cf8a-135">Parallelized execution across hello cores of hello edge node server</span></span> |
| <span data-ttu-id="8cf8a-136">Spark</span><span class="sxs-lookup"><span data-stu-id="8cf8a-136">Spark</span></span>            | <span data-ttu-id="8cf8a-137">RxSpark()</span><span class="sxs-lookup"><span data-stu-id="8cf8a-137">RxSpark()</span></span>                       | <span data-ttu-id="8cf8a-138">Parallélisée exécution distribuée via Spark sur les nœuds de hello du cluster HDI de hello</span><span class="sxs-lookup"><span data-stu-id="8cf8a-138">Parallelized distributed execution via Spark across hello nodes of hello HDI cluster</span></span> |
| <span data-ttu-id="8cf8a-139">Map Reduce</span><span class="sxs-lookup"><span data-stu-id="8cf8a-139">Map Reduce</span></span>       | <span data-ttu-id="8cf8a-140">RxHadoopMR()</span><span class="sxs-lookup"><span data-stu-id="8cf8a-140">RxHadoopMR()</span></span>                    | <span data-ttu-id="8cf8a-141">Parallélisée exécution distribuée via MapReduce entre les nœuds hello du cluster HDI de hello</span><span class="sxs-lookup"><span data-stu-id="8cf8a-141">Parallelized distributed execution via Map Reduce across hello nodes of hello HDI cluster</span></span> |

## <a name="guidelines-for-deciding-on-a-compute-context"></a><span data-ttu-id="8cf8a-142">Conseils pour le choix d’un contexte de calcul</span><span class="sxs-lookup"><span data-stu-id="8cf8a-142">Guidelines for deciding on a compute context</span></span>

<span data-ttu-id="8cf8a-143">Hello trois options que vous choisissez qui fournissent l’exécution parallélisée dépend hello nature de votre travail de l’analytique, taille de hello et emplacement hello de vos données.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-143">Which of hello three options you choose that provide parallelized execution depends on hello nature of your analytics work, hello size, and hello location of your data.</span></span> <span data-ttu-id="8cf8a-144">Il n’existe aucune formule simple qui vous indique ce qui toouse de contexte de calcul.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-144">There is no simple formula that tells you which compute context toouse.</span></span> <span data-ttu-id="8cf8a-145">Il existe, toutefois, certains principes fondamentaux qui peuvent vous aider à faire hello bon choix, ou, au minimum, vous aider à réduire vos choix avant d’exécuter un test d’évaluation.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-145">There are, however, some guiding principles that can help you make hello right choice, or, at least, help you narrow down your choices before you run a benchmark.</span></span> <span data-ttu-id="8cf8a-146">Ces principes sont les suivants :</span><span class="sxs-lookup"><span data-stu-id="8cf8a-146">These guiding principles include:</span></span>

- <span data-ttu-id="8cf8a-147">système de fichiers Linux local Hello est plus rapide que HDFS.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-147">hello local Linux file system is faster than HDFS.</span></span>
- <span data-ttu-id="8cf8a-148">Analyses répétées sont plus rapides si les données de salutation sont locales, et s’il s’agit de XDF.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-148">Repeated analyses are faster if hello data is local, and if it's in XDF.</span></span>
- <span data-ttu-id="8cf8a-149">Il est préférable de toostream de petites quantités de données à partir d’une source de données de texte.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-149">It's preferable toostream small amounts of data from a text data source.</span></span> <span data-ttu-id="8cf8a-150">Si la quantité hello de données est plus grande, convertissez-la tooXDF avant l’analyse.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-150">If hello amount of data is larger, convert it tooXDF before analysis.</span></span>
- <span data-ttu-id="8cf8a-151">surcharge Hello de copie ou de diffusion en continu de nœud de périmètre hello données toohello pour l’analyse devient ingérable de très grandes quantités de données.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-151">hello overhead of copying or streaming hello data toohello edge node for analysis becomes unmanageable for very large amounts of data.</span></span>
- <span data-ttu-id="8cf8a-152">Spark est plus rapide que Map Reduce pour l’analyse dans Hadoop.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-152">Spark is faster than Map Reduce for analysis in Hadoop.</span></span>

<span data-ttu-id="8cf8a-153">Étant donné ces principes, hello sections suivantes offrent certaines règles générales pour la sélection d’un contexte de calcul.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-153">Given these principles, hello following sections offer some general rules of thumb for selecting a compute context.</span></span>

### <a name="local"></a><span data-ttu-id="8cf8a-154">Local</span><span class="sxs-lookup"><span data-stu-id="8cf8a-154">Local</span></span>
* <span data-ttu-id="8cf8a-155">Si la quantité de hello de tooanalyze de données est petite et ne nécessite pas d’analyses répétées, puis diffuser en continu directement dans hello analyse routines à l’aide *'local'* ou *'localpar'*.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-155">If hello amount of data tooanalyze is small and does not require repeated analysis, then stream it directly into hello analysis routine using *'local'* or *'localpar'*.</span></span>
* <span data-ttu-id="8cf8a-156">Si hello tooanalyze de données est petite ou moyenne et nécessite des analyses répétées, puis copier le système de fichiers local toohello, importez-le tooXDF et analyser via *'local'* ou *'localpar'*.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-156">If hello amount of data tooanalyze is small or medium-sized and requires repeated analysis, then copy it toohello local file system, import it tooXDF, and analyze it via *'local'* or *'localpar'*.</span></span>

### <a name="hadoop-spark"></a><span data-ttu-id="8cf8a-157">Hadoop Spark</span><span class="sxs-lookup"><span data-stu-id="8cf8a-157">Hadoop Spark</span></span>
* <span data-ttu-id="8cf8a-158">Si la quantité de hello de tooanalyze de données est importante, puis l’importer tooa Spark de trame de données à l’aide de **RxHiveData** ou **RxParquetData**, ou tooXDF dans HDFS (sauf si le stockage est un problème) et les analyser à l’aide de hello Spark contexte de calcul.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-158">If hello amount of data tooanalyze is large, then import it tooa Spark DataFrame using **RxHiveData** or **RxParquetData**, or tooXDF in HDFS (unless storage is an issue), and analyze it using hello Spark compute context.</span></span>

### <a name="hadoop-map-reduce"></a><span data-ttu-id="8cf8a-159">Hadoop Map Reduce</span><span class="sxs-lookup"><span data-stu-id="8cf8a-159">Hadoop Map Reduce</span></span>
* <span data-ttu-id="8cf8a-160">Utiliser le contexte de calcul MapReduce hello uniquement si vous rencontrez un problème insurmontable avec le contexte de calcul Spark hello, car il est généralement plus long.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-160">Use hello Map Reduce compute context only if you encounter an insurmountable problem with hello Spark compute context since it is generally slower.</span></span>  

## <a name="inline-help-on-rxsetcomputecontext"></a><span data-ttu-id="8cf8a-161">Aide en ligne sur rxSetComputeContext</span><span class="sxs-lookup"><span data-stu-id="8cf8a-161">Inline help on rxSetComputeContext</span></span>
<span data-ttu-id="8cf8a-162">Pour plus d’informations et des exemples de ScaleR contextes de calcul, consultez hello inline l’aide de R sur la méthode de rxSetComputeContext hello, par exemple :</span><span class="sxs-lookup"><span data-stu-id="8cf8a-162">For more information and examples of ScaleR compute contexts, see hello inline help in R on hello rxSetComputeContext method, for example:</span></span>

    > ?rxSetComputeContext

<span data-ttu-id="8cf8a-163">Vous pouvez également faire référence toohello «[ScaleR Distributed Computing Guide](https://msdn.microsoft.com/microsoft-r/scaler-distributed-computing)» qui est disponible à partir de hello [R Server MSDN](https://msdn.microsoft.com/library/mt674634.aspx "R Server sur MSDN") bibliothèque.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-163">You can also refer toohello “[ScaleR Distributed Computing Guide](https://msdn.microsoft.com/microsoft-r/scaler-distributed-computing)” that's available from hello [R Server MSDN](https://msdn.microsoft.com/library/mt674634.aspx "R Server on MSDN") library.</span></span>

## <a name="next-steps"></a><span data-ttu-id="8cf8a-164">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="8cf8a-164">Next steps</span></span>
<span data-ttu-id="8cf8a-165">Dans cet article, vous avez appris les options hello toospecify disponible si et comment l’exécution est mis en parallèle sur les cœurs de nœud de périmètre hello ou cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="8cf8a-165">In this article, you learned about hello options that are available toospecify whether and how execution is parallelized across cores of hello edge node or HDInsight cluster.</span></span> <span data-ttu-id="8cf8a-166">toolearn en savoir plus sur les clusters comment toouse R Server hdinsight, consultez hello rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="8cf8a-166">toolearn more about how toouse R Server with HDInsight clusters, see hello following topics:</span></span>

* [<span data-ttu-id="8cf8a-167">Vue d’ensemble : R Server sur HDInsight (version préliminaire)</span><span class="sxs-lookup"><span data-stu-id="8cf8a-167">Overview of R Server for Hadoop</span></span>](hdinsight-hadoop-r-server-overview.md)
* [<span data-ttu-id="8cf8a-168">Commencer à utiliser R Server sur HDInsight (version préliminaire)</span><span class="sxs-lookup"><span data-stu-id="8cf8a-168">Get started with R Server for Hadoop</span></span>](hdinsight-hadoop-r-server-get-started.md)
* [<span data-ttu-id="8cf8a-169">Ajouter RStudio Server tooHDInsight (si elle ne pas lors de la création du cluster)</span><span class="sxs-lookup"><span data-stu-id="8cf8a-169">Add RStudio Server tooHDInsight (if not added during cluster creation)</span></span>](hdinsight-hadoop-r-server-install-r-studio.md)
* [<span data-ttu-id="8cf8a-170">Options d’Azure Storage pour R Server sur HDInsight</span><span class="sxs-lookup"><span data-stu-id="8cf8a-170">Azure Storage options for R Server on HDInsight</span></span>](hdinsight-hadoop-r-server-storage.md)

