---
title: "résolution des problèmes d’aaaDetailed SSH pour une machine virtuelle Azure | Documents Microsoft"
description: "Plus SSH dépannage de problèmes de connexion tooan machine virtuelle Azure"
keywords: "refus de la connexion ssh,erreur ssh,ssh azure,échec de la connexion ssh"
services: virtual-machines-linux
documentationcenter: 
author: iainfoulds
manager: timlt
editor: 
tags: top-support-issue,azure-service-management,azure-resource-manager
ms.assetid: b8e8be5f-e8a6-489d-9922-9df8de32e839
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: support-article
ms.date: 07/06/2017
ms.author: iainfou
ms.openlocfilehash: 3f711e53a8251f8c06dbb589a258222566a4ae1e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="detailed-ssh-troubleshooting-steps-for-issues-connecting-tooa-linux-vm-in-azure"></a><span data-ttu-id="17fbb-104">SSH détaillée dépannage de problèmes de connexion tooa VM Linux dans Azure</span><span class="sxs-lookup"><span data-stu-id="17fbb-104">Detailed SSH troubleshooting steps for issues connecting tooa Linux VM in Azure</span></span>
<span data-ttu-id="17fbb-105">Il existe plusieurs raisons, que le client SSH hello peut ne pas être en mesure de tooreach le service SSH hello sur hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="17fbb-105">There are many possible reasons that hello SSH client might not be able tooreach hello SSH service on hello VM.</span></span> <span data-ttu-id="17fbb-106">Si vous avez suivi via hello plus [SSH générale des étapes de dépannage](troubleshoot-ssh-connection.md), vous devez toofurther résoudre les problème de connexion hello.</span><span class="sxs-lookup"><span data-stu-id="17fbb-106">If you have followed through hello more [general SSH troubleshooting steps](troubleshoot-ssh-connection.md), you need toofurther troubleshoot hello connection issue.</span></span> <span data-ttu-id="17fbb-107">Cet article vous guide à travers toodetermine d’étapes de dépannage détaillées où hello connexion SSH est défectueux et comment tooresolve il.</span><span class="sxs-lookup"><span data-stu-id="17fbb-107">This article guides you through detailed troubleshooting steps toodetermine where hello SSH connection is failing and how tooresolve it.</span></span>

## <a name="take-preliminary-steps"></a><span data-ttu-id="17fbb-108">Commencer par les étapes préliminaires</span><span class="sxs-lookup"><span data-stu-id="17fbb-108">Take preliminary steps</span></span>
<span data-ttu-id="17fbb-109">Hello diagramme ci-après illustre les composants hello impliqués.</span><span class="sxs-lookup"><span data-stu-id="17fbb-109">hello following diagram shows hello components that are involved.</span></span>

![Diagramme qui affiche les composants d’un service SSH](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot1.png)

<span data-ttu-id="17fbb-111">Hello suit vous aider à isoler la source de hello de défaillance de hello et déterminer les solutions.</span><span class="sxs-lookup"><span data-stu-id="17fbb-111">hello following steps help you isolate hello source of hello failure and figure out solutions or workarounds.</span></span>

1. <span data-ttu-id="17fbb-112">Vérifier l’état de hello Hello machine virtuelle dans le portail de hello.</span><span class="sxs-lookup"><span data-stu-id="17fbb-112">Check hello status of hello VM in hello portal.</span></span>
   <span data-ttu-id="17fbb-113">Bonjour [portail Azure](https://portal.azure.com), sélectionnez **virtuels** > *nom d’ordinateur virtuel*.</span><span class="sxs-lookup"><span data-stu-id="17fbb-113">In hello [Azure portal](https://portal.azure.com), select **Virtual machines** > *VM name*.</span></span>

   <span data-ttu-id="17fbb-114">Hello volet d’état pour hello machine virtuelle doit afficher **en cours d’exécution**.</span><span class="sxs-lookup"><span data-stu-id="17fbb-114">hello status pane for hello VM should show **Running**.</span></span> <span data-ttu-id="17fbb-115">Faites défiler tooshow des activités récentes pour le calcul, stockage et ressources réseau.</span><span class="sxs-lookup"><span data-stu-id="17fbb-115">Scroll down tooshow recent activity for compute, storage, and network resources.</span></span>

2. <span data-ttu-id="17fbb-116">Sélectionnez **paramètres** tooexamine points de terminaison, les adresses IP, les groupes de sécurité réseau et les autres paramètres.</span><span class="sxs-lookup"><span data-stu-id="17fbb-116">Select **Settings** tooexamine endpoints, IP addresses, network security groups, and other settings.</span></span>

   <span data-ttu-id="17fbb-117">Hello machine virtuelle doit avoir un point de terminaison défini pour le trafic SSH que vous pouvez consulter dans **points de terminaison** ou  **[groupe de sécurité réseau](../../virtual-network/virtual-networks-nsg.md)**.</span><span class="sxs-lookup"><span data-stu-id="17fbb-117">hello VM should have an endpoint defined for SSH traffic that you can view in **Endpoints** or **[Network security group](../../virtual-network/virtual-networks-nsg.md)**.</span></span> <span data-ttu-id="17fbb-118">Les points de terminaison pour les machines virtuelles créées à l’aide de Resource Manager sont stockés dans un groupe de sécurité réseau.</span><span class="sxs-lookup"><span data-stu-id="17fbb-118">Endpoints in VMs that were created by using Resource Manager are stored in a network security group.</span></span> <span data-ttu-id="17fbb-119">En outre, vérifiez que les règles hello ont été appliqués toohello groupe de sécurité réseau et que celles-ci ne soient référencées dans un sous-réseau de hello.</span><span class="sxs-lookup"><span data-stu-id="17fbb-119">Also, verify that hello rules have been applied toohello network security group and that they're referenced in hello subnet.</span></span>

<span data-ttu-id="17fbb-120">connectivité de réseau tooverify, vérifiez les points de terminaison hello configuré et voir si vous pouvez atteindre hello machine virtuelle via un autre protocole, tels que HTTP ou un autre service.</span><span class="sxs-lookup"><span data-stu-id="17fbb-120">tooverify network connectivity, check hello configured endpoints and see if you can reach hello VM through another protocol, such as HTTP or another service.</span></span>

<span data-ttu-id="17fbb-121">Après ces étapes, essayez à nouveau la connexion SSH hello.</span><span class="sxs-lookup"><span data-stu-id="17fbb-121">After these steps, try hello SSH connection again.</span></span>

## <a name="find-hello-source-of-hello-issue"></a><span data-ttu-id="17fbb-122">Rechercher la source de hello du problème de hello</span><span class="sxs-lookup"><span data-stu-id="17fbb-122">Find hello source of hello issue</span></span>
<span data-ttu-id="17fbb-123">client SSH Hello sur votre ordinateur risque d’échouer tooreach le service SSH hello sur hello Azure VM tooissues ou des erreurs de configuration Bonjour suivant de zones :</span><span class="sxs-lookup"><span data-stu-id="17fbb-123">hello SSH client on your computer might fail tooreach hello SSH service on hello Azure VM due tooissues or misconfigurations in hello following areas:</span></span>

* [<span data-ttu-id="17fbb-124">Ordinateur client SSH</span><span class="sxs-lookup"><span data-stu-id="17fbb-124">SSH client computer</span></span>](#source-1-ssh-client-computer)
* [<span data-ttu-id="17fbb-125">Appareil du périmètre de l’organisation</span><span class="sxs-lookup"><span data-stu-id="17fbb-125">Organization edge device</span></span>](#source-2-organization-edge-device)
* [<span data-ttu-id="17fbb-126">point de terminaison de service cloud et liste de contrôle d’accès (ACL) ;</span><span class="sxs-lookup"><span data-stu-id="17fbb-126">Cloud service endpoint and access control list (ACL)</span></span>](#source-3-cloud-service-endpoint-and-acl)
* [<span data-ttu-id="17fbb-127">Groupes de sécurité réseau</span><span class="sxs-lookup"><span data-stu-id="17fbb-127">Network security groups</span></span>](#source-4-network-security-groups)
* [<span data-ttu-id="17fbb-128">Machine virtuelle Linux Azure</span><span class="sxs-lookup"><span data-stu-id="17fbb-128">Linux-based Azure VM</span></span>](#source-5-linux-based-azure-virtual-machine)

## <a name="source-1-ssh-client-computer"></a><span data-ttu-id="17fbb-129">Source 1 : ordinateur client SSH</span><span class="sxs-lookup"><span data-stu-id="17fbb-129">Source 1: SSH client computer</span></span>
<span data-ttu-id="17fbb-130">tooeliminate votre ordinateur en tant que source de hello de défaillance de hello, vérifiez qu’il peut SSH connexions tooanother localement, ordinateur Linux.</span><span class="sxs-lookup"><span data-stu-id="17fbb-130">tooeliminate your computer as hello source of hello failure, verify that it can make SSH connections tooanother on-premises, Linux-based computer.</span></span>

![Diagramme qui indique les composants de l’ordinateur client SSH](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot2.png)

<span data-ttu-id="17fbb-132">Si la connexion de hello échoue, recherchez hello suivants sur votre ordinateur :</span><span class="sxs-lookup"><span data-stu-id="17fbb-132">If hello connection fails, check for hello following issues on your computer:</span></span>

* <span data-ttu-id="17fbb-133">un paramètre de pare-feu local qui bloque le trafic SSH entrant ou sortant (TCP 22) ;</span><span class="sxs-lookup"><span data-stu-id="17fbb-133">A local firewall setting that is blocking inbound or outbound SSH traffic (TCP 22)</span></span>
* <span data-ttu-id="17fbb-134">un logiciel de proxy client installé localement qui empêche les connexions SSH ;</span><span class="sxs-lookup"><span data-stu-id="17fbb-134">Locally installed client proxy software that is preventing SSH connections</span></span>
* <span data-ttu-id="17fbb-135">un logiciel de surveillance réseau installé localement qui empêche les connexions SSH ;</span><span class="sxs-lookup"><span data-stu-id="17fbb-135">Locally installed network monitoring software that is preventing SSH connections</span></span>
* <span data-ttu-id="17fbb-136">d’autres types de logiciels de sécurité qui surveillent le trafic ou autorisent/interdisent des types spécifiques de trafic.</span><span class="sxs-lookup"><span data-stu-id="17fbb-136">Other types of security software that either monitor traffic or allow/disallow specific types of traffic</span></span>

<span data-ttu-id="17fbb-137">Si une des conditions suivantes s’appliquent, temporairement désactiver le logiciel de hello et essayez une toofind ordinateur locales de tooan de connexion SSH out raison hello hello connexion soit bloquée sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="17fbb-137">If one of these conditions apply, temporarily disable hello software and try an SSH connection tooan on-premises computer toofind out hello reason hello connection is being blocked on your computer.</span></span> <span data-ttu-id="17fbb-138">Puis fonctionne avec vos connexions réseau administrateur toocorrect hello logiciel paramètres tooallow SSH.</span><span class="sxs-lookup"><span data-stu-id="17fbb-138">Then work with your network administrator toocorrect hello software settings tooallow SSH connections.</span></span>

<span data-ttu-id="17fbb-139">Si vous utilisez l’authentification par certificat, vérifiez que vous avez ces autorisations toohello .ssh dossier dans votre répertoire de base :</span><span class="sxs-lookup"><span data-stu-id="17fbb-139">If you are using certificate authentication, verify that you have these permissions toohello .ssh folder in your home directory:</span></span>

* <span data-ttu-id="17fbb-140">Chmod 700 ~/.ssh</span><span class="sxs-lookup"><span data-stu-id="17fbb-140">Chmod 700 ~/.ssh</span></span>
* <span data-ttu-id="17fbb-141">Chmod 644 ~/.ssh/\*.pub</span><span class="sxs-lookup"><span data-stu-id="17fbb-141">Chmod 644 ~/.ssh/\*.pub</span></span>
* <span data-ttu-id="17fbb-142">Chmod 600 ~/.ssh/id_rsa (ou tout autre fichier contenant vos clés privées)</span><span class="sxs-lookup"><span data-stu-id="17fbb-142">Chmod 600 ~/.ssh/id_rsa (or any other files that have your private keys stored in them)</span></span>
* <span data-ttu-id="17fbb-143">Chmod 644 ~/.ssh/known_hosts (contient des ordinateurs hôtes que vous avez connecté toovia SSH)</span><span class="sxs-lookup"><span data-stu-id="17fbb-143">Chmod 644 ~/.ssh/known_hosts (contains hosts that you’ve connected toovia SSH)</span></span>

## <a name="source-2-organization-edge-device"></a><span data-ttu-id="17fbb-144">Source 2 : appareil du périmètre de l’organisation</span><span class="sxs-lookup"><span data-stu-id="17fbb-144">Source 2: Organization edge device</span></span>
<span data-ttu-id="17fbb-145">tooeliminate votre appareil de périphérie d’entreprise en tant que source de hello de défaillance de hello, vérifiez qu’un ordinateur qui est connecté directement toohello Internet peut créer un tooyour des connexions SSH machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="17fbb-145">tooeliminate your organization edge device as hello source of hello failure, verify that a computer that's directly connected toohello Internet can make SSH connections tooyour Azure VM.</span></span> <span data-ttu-id="17fbb-146">Si vous accédez à hello machine virtuelle via un VPN de site à site ou une connexion Azure ExpressRoute, ignorez trop[Source 4 : groupes de sécurité réseau](#nsg).</span><span class="sxs-lookup"><span data-stu-id="17fbb-146">If you are accessing hello VM over a site-to-site VPN or an Azure ExpressRoute connection, skip too[Source 4: Network security groups](#nsg).</span></span>

![Diagramme qui met en évidence un appareil du périmètre de l’organisation](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot3.png)

<span data-ttu-id="17fbb-148">Si vous n’avez pas un ordinateur qui est directement connecté toohello Internet, créez une machine virtuelle Azure dans son propre service de cloud ou le groupe de ressources et l’utiliser.</span><span class="sxs-lookup"><span data-stu-id="17fbb-148">If you don't have a computer that is directly connected toohello Internet, create a new Azure VM in its own resource group or cloud service and use it.</span></span> <span data-ttu-id="17fbb-149">Pour plus d’informations, consultez [Créer une machine virtuelle exécutant Linux dans Azure](quick-create-cli.md).</span><span class="sxs-lookup"><span data-stu-id="17fbb-149">For more information, see [Create a virtual machine running Linux in Azure](quick-create-cli.md).</span></span> <span data-ttu-id="17fbb-150">Supprimer hello ressource groupe ou ordinateur virtuel et un service cloud lorsque vous avez terminé avec votre test.</span><span class="sxs-lookup"><span data-stu-id="17fbb-150">Delete hello resource group or VM and cloud service when you're done with your testing.</span></span>

<span data-ttu-id="17fbb-151">Si vous pouvez créer une connexion SSH avec un ordinateur qui est connecté directement toohello Internet, vérifiez votre appareil de périphérie d’entreprise pour :</span><span class="sxs-lookup"><span data-stu-id="17fbb-151">If you can create an SSH connection with a computer that's directly connected toohello Internet, check your organization edge device for:</span></span>

* <span data-ttu-id="17fbb-152">Un pare-feu qui bloque le trafic SSH avec hello Internet</span><span class="sxs-lookup"><span data-stu-id="17fbb-152">An internal firewall that's blocking SSH traffic with hello Internet</span></span>
* <span data-ttu-id="17fbb-153">un serveur proxy qui empêche les connexions SSH ;</span><span class="sxs-lookup"><span data-stu-id="17fbb-153">A proxy server that's preventing SSH connections</span></span>
* <span data-ttu-id="17fbb-154">un logiciel de détection d’intrusion ou de surveillance réseau s’exécutant sur les appareils de votre réseau de périmètre qui empêche les connexions SSH.</span><span class="sxs-lookup"><span data-stu-id="17fbb-154">Intrusion detection or network monitoring software running on devices in your edge network that's preventing SSH connections</span></span>

<span data-ttu-id="17fbb-155">Fonctionne avec vos paramètres de hello de toocorrect d’administrateur réseau de votre trafic SSH organisation bord appareils tooallow avec hello Internet.</span><span class="sxs-lookup"><span data-stu-id="17fbb-155">Work with your network administrator toocorrect hello settings of your organization edge devices tooallow SSH traffic with hello Internet.</span></span>

## <a name="source-3-cloud-service-endpoint-and-acl"></a><span data-ttu-id="17fbb-156">Source 3 : Point de terminaison de service cloud et liste de contrôle d’accès</span><span class="sxs-lookup"><span data-stu-id="17fbb-156">Source 3: Cloud service endpoint and ACL</span></span>
> [!NOTE]
> <span data-ttu-id="17fbb-157">Cette source s’applique uniquement aux tooVMs qui ont été créés à l’aide du modèle de déploiement classique hello.</span><span class="sxs-lookup"><span data-stu-id="17fbb-157">This source applies only tooVMs that were created by using hello classic deployment model.</span></span> <span data-ttu-id="17fbb-158">Pour les ordinateurs virtuels qui ont été créés à l’aide du Gestionnaire de ressources, ignorez trop[source 4 : groupes de sécurité réseau](#nsg).</span><span class="sxs-lookup"><span data-stu-id="17fbb-158">For VMs that were created by using Resource Manager, skip too[source 4: Network security groups](#nsg).</span></span>

<span data-ttu-id="17fbb-159">point de terminaison du service de cloud tooeliminate hello et la liste ACL en tant que source de hello de défaillance de hello, vérifiez qu’une autre machine virtuelle Azure dans hello même réseau virtuel peut rendre tooyour des connexions SSH machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="17fbb-159">tooeliminate hello cloud service endpoint and ACL as hello source of hello failure, verify that another Azure VM in hello same virtual network can make SSH connections tooyour VM.</span></span>

![Diagramme qui met en évidence un point de terminaison de service cloud et une liste de contrôle d’accès](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot4.png)

<span data-ttu-id="17fbb-161">Si vous n’avez pas une autre machine virtuelle Bonjour même réseau virtuel, vous pouvez facilement en créer un.</span><span class="sxs-lookup"><span data-stu-id="17fbb-161">If you don't have another VM in hello same virtual network, you can easily create one.</span></span> <span data-ttu-id="17fbb-162">Pour plus d’informations, consultez [créer un VM Linux sur Azure à l’aide de hello CLI](quick-create-cli.md).</span><span class="sxs-lookup"><span data-stu-id="17fbb-162">For more information, see [Create a Linux VM on Azure using hello CLI](quick-create-cli.md).</span></span> <span data-ttu-id="17fbb-163">Supprimer hello machine virtuelle supplémentaire lorsque vous avez terminé avec votre test.</span><span class="sxs-lookup"><span data-stu-id="17fbb-163">Delete hello extra VM when you are done with your testing.</span></span>

<span data-ttu-id="17fbb-164">Si vous pouvez créer une connexion SSH avec une machine virtuelle dans hello virtuel même réseau, vérifiez hello suivant de zones :</span><span class="sxs-lookup"><span data-stu-id="17fbb-164">If you can create an SSH connection with a VM in hello same virtual network, check hello following areas:</span></span>

* <span data-ttu-id="17fbb-165">**configuration de point de terminaison Hello pour le trafic de SSH sur la cible de hello machine virtuelle.**</span><span class="sxs-lookup"><span data-stu-id="17fbb-165">**hello endpoint configuration for SSH traffic on hello target VM.**</span></span> <span data-ttu-id="17fbb-166">le port TCP privé Hello du point de terminaison hello doit correspondre à quels hello SSH service sur hello machine virtuelle écoute le port TCP hello.</span><span class="sxs-lookup"><span data-stu-id="17fbb-166">hello private TCP port of hello endpoint should match hello TCP port on which hello SSH service on hello VM is listening.</span></span> <span data-ttu-id="17fbb-167">(le port par défaut de hello est 22).</span><span class="sxs-lookup"><span data-stu-id="17fbb-167">(hello default port is 22).</span></span> <span data-ttu-id="17fbb-168">Vérifiez le numéro de port TCP SSH hello Bonjour portail Azure en sélectionnant **virtuels** > *nom de machine virtuelle* > **paramètres**  >  **Points de terminaison**.</span><span class="sxs-lookup"><span data-stu-id="17fbb-168">Verify hello SSH TCP port number in hello Azure portal by selecting **Virtual machines** > *VM name* > **Settings** > **Endpoints**.</span></span>
* <span data-ttu-id="17fbb-169">**Hello ACL pour point de terminaison du trafic hello SSH sur la machine virtuelle cible hello.**</span><span class="sxs-lookup"><span data-stu-id="17fbb-169">**hello ACL for hello SSH traffic endpoint on hello target virtual machine.**</span></span> <span data-ttu-id="17fbb-170">Une liste ACL permet toospecify autorisés ou non le trafic entrant à partir de hello Internet, en fonction de son adresse IP de source.</span><span class="sxs-lookup"><span data-stu-id="17fbb-170">An ACL enables you toospecify allowed or denied incoming traffic from hello Internet, based on its source IP address.</span></span> <span data-ttu-id="17fbb-171">ACL mal configurée peut empêcher le point de terminaison toohello entrant SSH du trafic.</span><span class="sxs-lookup"><span data-stu-id="17fbb-171">Misconfigured ACLs can prevent incoming SSH traffic toohello endpoint.</span></span> <span data-ttu-id="17fbb-172">Vérifiez votre tooensure ACL que le trafic entrant à partir d’adresses IP publiques de hello de votre serveur proxy ou un autre serveur edge est autorisé.</span><span class="sxs-lookup"><span data-stu-id="17fbb-172">Check your ACLs tooensure that incoming traffic from hello public IP addresses of your proxy or other edge server is allowed.</span></span> <span data-ttu-id="17fbb-173">Pour plus d'informations, consultez [À propos des listes de contrôle d'accès (ACL) réseau](../../virtual-network/virtual-networks-acl.md).</span><span class="sxs-lookup"><span data-stu-id="17fbb-173">For more information, see [About network access control lists (ACLs)](../../virtual-network/virtual-networks-acl.md).</span></span>

<span data-ttu-id="17fbb-174">point de terminaison tooeliminate hello en tant que source du problème de hello, supprimer le point de terminaison actuel hello, créer un autre point de terminaison et spécifier le nom SSH hello (port TCP 22 pour le numéro de port public et privé hello).</span><span class="sxs-lookup"><span data-stu-id="17fbb-174">tooeliminate hello endpoint as a source of hello problem, remove hello current endpoint, create another endpoint, and specify hello SSH name (TCP port 22 for hello public and private port number).</span></span> <span data-ttu-id="17fbb-175">Pour plus d’informations, consultez [Configuration des points de terminaison sur une machine virtuelle dans Azure](../windows/classic/setup-endpoints.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="17fbb-175">For more information, see [Set up endpoints on a virtual machine in Azure](../windows/classic/setup-endpoints.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span></span>

<a id="nsg"></a>

## <a name="source-4-network-security-groups"></a><span data-ttu-id="17fbb-176">Source 4 : groupes de sécurité réseau</span><span class="sxs-lookup"><span data-stu-id="17fbb-176">Source 4: Network security groups</span></span>
<span data-ttu-id="17fbb-177">Les groupes de sécurité réseau permettent toohave un contrôle plus précis du trafic autorisé de trafic entrant et sortant.</span><span class="sxs-lookup"><span data-stu-id="17fbb-177">Network security groups enable you toohave more granular control of allowed inbound and outbound traffic.</span></span> <span data-ttu-id="17fbb-178">Vous pouvez créer des règles qui s’étendent aux sous-réseaux et aux services cloud d’un réseau virtuel Azure.</span><span class="sxs-lookup"><span data-stu-id="17fbb-178">You can create rules that span subnets and cloud services in an Azure virtual network.</span></span> <span data-ttu-id="17fbb-179">Vérifiez votre tooensure de règles de groupe de sécurité réseau qui tooand de trafic SSH à partir de hello Qu'internet est autorisée.</span><span class="sxs-lookup"><span data-stu-id="17fbb-179">Check your network security group rules tooensure that SSH traffic tooand from hello Internet is allowed.</span></span>
<span data-ttu-id="17fbb-180">Pour plus d'informations, consultez [À propos des groupes de sécurité réseau](../../virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="17fbb-180">For more information, see [About network security groups](../../virtual-network/virtual-networks-nsg.md).</span></span>

<span data-ttu-id="17fbb-181">Vous pouvez également utiliser IP vérifier toovalidate hello NSG la configuration.</span><span class="sxs-lookup"><span data-stu-id="17fbb-181">You can also use IP Verify toovalidate hello NSG configuration.</span></span> <span data-ttu-id="17fbb-182">Pour plus d’informations, consultez [Vue d’ensemble de la surveillance réseau Azure](https://docs.microsoft.com/en-us/azure/network-watcher/network-watcher-monitoring-overview).</span><span class="sxs-lookup"><span data-stu-id="17fbb-182">For more information, see [Azure network monitoring overview](https://docs.microsoft.com/en-us/azure/network-watcher/network-watcher-monitoring-overview).</span></span> 

## <a name="source-5-linux-based-azure-virtual-machine"></a><span data-ttu-id="17fbb-183">Source 5 : machine virtuelle Azure Linux</span><span class="sxs-lookup"><span data-stu-id="17fbb-183">Source 5: Linux-based Azure virtual machine</span></span>
<span data-ttu-id="17fbb-184">Hello dernière source d’identifier les problèmes éventuels est hello machine virtuelle Azure lui-même.</span><span class="sxs-lookup"><span data-stu-id="17fbb-184">hello last source of possible problems is hello Azure virtual machine itself.</span></span>

![Diagramme qui met en évidence une machine virtuelle Azure Linux](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot5.png)

<span data-ttu-id="17fbb-186">Si vous n’avez pas déjà fait, suivez les instructions de hello [tooreset un mot de passe ou de SSH pour les ordinateurs virtuels basés sur Linux](classic/reset-access.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="17fbb-186">If you haven't done so already, follow hello instructions [tooreset a password or SSH for Linux-based virtual machines](classic/reset-access.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span>

<span data-ttu-id="17fbb-187">Essayez une nouvelle fois de vous connecter à partir de votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="17fbb-187">Try connecting from your computer again.</span></span> <span data-ttu-id="17fbb-188">Si elle échoue toujours, hello Voici quelques-uns des problèmes possibles de hello :</span><span class="sxs-lookup"><span data-stu-id="17fbb-188">If it still fails, hello following are some of hello possible issues:</span></span>

* <span data-ttu-id="17fbb-189">Hello service SSH n’est pas exécuté sur la machine virtuelle cible hello.</span><span class="sxs-lookup"><span data-stu-id="17fbb-189">hello SSH service is not running on hello target virtual machine.</span></span>
* <span data-ttu-id="17fbb-190">Hello SSH service n’écoute pas sur le port TCP 22.</span><span class="sxs-lookup"><span data-stu-id="17fbb-190">hello SSH service is not listening on TCP port 22.</span></span> <span data-ttu-id="17fbb-191">tootest, installez un client telnet sur votre ordinateur local et exécutez « telnet *cloudServiceName*. cloudapp.net 22 ».</span><span class="sxs-lookup"><span data-stu-id="17fbb-191">tootest, install a telnet client on your local computer and run "telnet *cloudServiceName*.cloudapp.net 22".</span></span> <span data-ttu-id="17fbb-192">Cette étape détermine si hello virtuels permet de point de terminaison de communications entrantes et sortantes toohello SSH.</span><span class="sxs-lookup"><span data-stu-id="17fbb-192">This step determines if hello virtual machine allows inbound and outbound communication toohello SSH endpoint.</span></span>
* <span data-ttu-id="17fbb-193">le pare-feu local Hello sur la machine virtuelle cible hello possède des règles qui empêchent le trafic SSH entrant ou sortant.</span><span class="sxs-lookup"><span data-stu-id="17fbb-193">hello local firewall on hello target virtual machine has rules that are preventing inbound or outbound SSH traffic.</span></span>
* <span data-ttu-id="17fbb-194">Détection d’intrusion ou un logiciel qui s’exécute sur une machine virtuelle Azure de hello de surveillance empêche les connexions SSH.</span><span class="sxs-lookup"><span data-stu-id="17fbb-194">Intrusion detection or network monitoring software that's running on hello Azure virtual machine is preventing SSH connections.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="17fbb-195">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="17fbb-195">Additional resources</span></span>
<span data-ttu-id="17fbb-196">Pour plus d’informations sur la résolution des problèmes d’accès aux applications, consultez [application tooan de résoudre les accès en cours d’exécution sur une machine virtuelle Azure](troubleshoot-app-connection.md)</span><span class="sxs-lookup"><span data-stu-id="17fbb-196">For more information about troubleshooting application access, see [Troubleshoot access tooan application running on an Azure virtual machine](troubleshoot-app-connection.md)</span></span>
