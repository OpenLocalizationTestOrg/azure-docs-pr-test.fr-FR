---
title: aaaRun Cassandra avec Linux sur Azure | Documents Microsoft
description: "Comment toorun un Cassandra de cluster sur Linux dans des Machines virtuelles Azure à partir d’une application Node.js"
services: virtual-machines-linux
documentationcenter: nodejs
author: tomarcher
manager: routlaw
editor: 
tags: azure-service-management
ms.assetid: 30de1f29-e97d-492f-ae34-41ec83488de0
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: tarcher
ms.openlocfilehash: 381ca301bbe88d3740cf182f9c44fada5b9ba7cc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="running-cassandra-with-linux-on-azure-and-accessing-it-from-nodejs"></a><span data-ttu-id="72690-103">Exécution de Cassandra avec Linux sur Azure et accès au cluster depuis Node.js</span><span class="sxs-lookup"><span data-stu-id="72690-103">Running Cassandra with Linux on Azure and Accessing it from Node.js</span></span>
> [!IMPORTANT] 
> <span data-ttu-id="72690-104">Azure dispose de deux modèles de déploiement différents pour créer et utiliser des ressources : [le déploiement Resource Manager et le déploiement classique](../../../resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="72690-104">Azure has two different deployment models for creating and working with resources: [Resource Manager and Classic](../../../resource-manager-deployment-model.md).</span></span> <span data-ttu-id="72690-105">Cet article décrit à l’aide du modèle de déploiement classique hello.</span><span class="sxs-lookup"><span data-stu-id="72690-105">This article covers using hello Classic deployment model.</span></span> <span data-ttu-id="72690-106">Microsoft recommande que la plupart des nouveaux déploiements de modèle du Gestionnaire de ressources hello.</span><span class="sxs-lookup"><span data-stu-id="72690-106">Microsoft recommends that most new deployments use hello Resource Manager model.</span></span> <span data-ttu-id="72690-107">Consultez des modèles Resource Manager pour [Datastax Enterprise](https://azure.microsoft.com/documentation/templates/datastax) et [Cluster Spark et Cassandra sur CentOS](https://azure.microsoft.com/documentation/templates/spark-and-cassandra-on-centos/).</span><span class="sxs-lookup"><span data-stu-id="72690-107">See Resource Manager templates for [Datastax Enterprise](https://azure.microsoft.com/documentation/templates/datastax) and [Spark cluster and Cassandra on CentOS](https://azure.microsoft.com/documentation/templates/spark-and-cassandra-on-centos/).</span></span>

## <a name="overview"></a><span data-ttu-id="72690-108">Vue d'ensemble</span><span class="sxs-lookup"><span data-stu-id="72690-108">Overview</span></span>
<span data-ttu-id="72690-109">Microsoft Azure est une plateforme de cloud ouverte qui exécute des logiciels Microsoft et non-Microsoft tels que des systèmes d’exploitation, serveurs d’applications, intergiciels de messagerie, ainsi que des bases de données SQL et NoSQL à partir de modèles commerciaux et open source.</span><span class="sxs-lookup"><span data-stu-id="72690-109">Microsoft Azure is an open cloud platform that runs both Microsoft as well as non-Microsoft software which  includes operating systems, application servers, messaging middleware as well as SQL and NoSQL databases from both commercial and open source models.</span></span> <span data-ttu-id="72690-110">La création de services résilients sur des clouds publics, y compris Azure, nécessite une planification soignée et une architecture délibérée pour les serveurs d'applications et les niveaux de stockage.</span><span class="sxs-lookup"><span data-stu-id="72690-110">Building resilient services on public clouds including Azure requires careful planning and deliberate architecture for both applications servers as well storage layers.</span></span> <span data-ttu-id="72690-111">L'architecture de stockage distribuée de Cassandra aide naturellement à créer des systèmes hautement disponibles qui offrent une tolérance de panne en cas de défaillance de cluster.</span><span class="sxs-lookup"><span data-stu-id="72690-111">Cassandra’s distributed storage architecture naturally helps in building highly available systems that are fault tolerant for cluster failures.</span></span> <span data-ttu-id="72690-112">Cassandra est une base de données NoSQL à l'échelle du cloud maintenue par Apache Software Foundation à l'adresse cassandra.apache.org ; Cassandra est écrit en Java et s'exécute donc sur Windows, ainsi que sur les plateformes Linux.</span><span class="sxs-lookup"><span data-stu-id="72690-112">Cassandra is a cloud scale NoSQL database maintained by Apache Software Foundation at cassandra.apache.org; Cassandra is written in Java and hence runs on both on Windows as well as Linux platforms.</span></span>

<span data-ttu-id="72690-113">Hello de cet article concerne les déploiement de Cassandra tooshow sur Ubuntu sous la forme d’un cluster unique et plusieurs centre de données en exploitant des Machines virtuelles Microsoft Azure et des réseaux virtuels.</span><span class="sxs-lookup"><span data-stu-id="72690-113">hello focus of this article is tooshow Cassandra deployment on Ubuntu as a single and multi-data center cluster leveraging Microsoft Azure Virtual Machines and Virtual Networks.</span></span> <span data-ttu-id="72690-114">Hello déploiement de cluster pour les charges de production optimisée est hors de portée de cet article car elle nécessite la configuration du nœud de disques multiples, toosupport hello de modélisation des données et conception de la topologie en anneau approprié nécessaire à la réplication, la cohérence des données, débit et exigences de haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="72690-114">hello cluster deployment for production optimized workloads is out of scope of this article as it requires multi-disk node configuration, appropriate ring topology design and data modeling toosupport hello needed replication, data consistency, throughput and high availability requirements.</span></span>

<span data-ttu-id="72690-115">Cette prend l’article un tooshow approche fondamentaux les conséquences de la construction hello cluster de Cassandra comparées Docker, Chef ou Puppet, ce qui peut rendre hello déploiement de l’infrastructure beaucoup plus simple.</span><span class="sxs-lookup"><span data-stu-id="72690-115">This article takes a fundamental approach tooshow what is involved in building hello Cassandra cluster compared Docker, Chef or Puppet which can make hello infrastructure deployment a lot easier.</span></span>  

## <a name="hello-deployment-models"></a><span data-ttu-id="72690-116">Hello modèles de déploiement</span><span class="sxs-lookup"><span data-stu-id="72690-116">hello Deployment Models</span></span>
<span data-ttu-id="72690-117">Mise en réseau de Microsoft Azure permet de déployer des clusters privés isolés, la sécurité du réseau de granularité fine tooattain restreint l’accès de hello qui peut être hello.</span><span class="sxs-lookup"><span data-stu-id="72690-117">Microsoft Azure networking allows hello deployment of isolated private clusters, hello access of which can be restricted tooattain fine grained network security.</span></span>  <span data-ttu-id="72690-118">Étant donné que cet article est sur l’affichage de déploiement de Cassandra hello fondamentalement, nous nous concentrerons pas sur le niveau de cohérence hello et conception de stockage optimal hello pour le débit.</span><span class="sxs-lookup"><span data-stu-id="72690-118">Since this article is about showing hello Cassandra deployment at a fundamental level, we will not focus on hello consistency level and hello optimal storage design for throughput.</span></span> <span data-ttu-id="72690-119">Voici la liste hello de configuration réseau requise pour notre cluster hypothétique :</span><span class="sxs-lookup"><span data-stu-id="72690-119">Here is hello list of networking requirements for our hypothetical cluster:</span></span>

* <span data-ttu-id="72690-120">Les systèmes externes ne peuvent pas accéder à la base de données Cassandra depuis Azure ou en dehors d'Azure</span><span class="sxs-lookup"><span data-stu-id="72690-120">External systems can’t access Cassandra database from within or outside Azure</span></span>
* <span data-ttu-id="72690-121">Cluster de Cassandra a toobe derrière un équilibreur de charge pour le trafic thrift</span><span class="sxs-lookup"><span data-stu-id="72690-121">Cassandra cluster has toobe behind a load balancer for thrift traffic</span></span>
* <span data-ttu-id="72690-122">Déployez les nœuds Cassandra en deux groupes dans chaque centre de données pour améliorer la disponibilité du cluster</span><span class="sxs-lookup"><span data-stu-id="72690-122">Deploy Cassandra nodes in two groups in each data center for an enhanced cluster availability</span></span>
* <span data-ttu-id="72690-123">Verrouiller les cluster hello ainsi qu’uniquement de la batterie de serveurs d’application a base de données access toohello directement</span><span class="sxs-lookup"><span data-stu-id="72690-123">Lock down hello cluster so that only application server farm has access toohello database directly</span></span>
* <span data-ttu-id="72690-124">Aucun point de terminaison de réseau public autre que SSH</span><span class="sxs-lookup"><span data-stu-id="72690-124">No public networking endpoints other than SSH</span></span>
* <span data-ttu-id="72690-125">Chaque nœud Cassandra a besoin d'une adresse IP interne fixe</span><span class="sxs-lookup"><span data-stu-id="72690-125">Each Cassandra node needs a fixed internal IP address</span></span>

<span data-ttu-id="72690-126">Cassandra peut être déployé tooa une seule région Azure ou des régions toomultiple selon la nature hello distribuée de charge de travail hello.</span><span class="sxs-lookup"><span data-stu-id="72690-126">Cassandra can be deployed tooa single Azure region or toomultiple regions based on hello distributed nature of hello workload.</span></span> <span data-ttu-id="72690-127">Modèle de déploiement de plusieurs régions peut être optimisées tooserve les utilisateurs finaux proche tooa particulier geography via hello même infrastructure Cassandra.</span><span class="sxs-lookup"><span data-stu-id="72690-127">Multi-region deployment model can be leveraged tooserve end users closer tooa particular geography through hello same Cassandra infrastructure.</span></span> <span data-ttu-id="72690-128">Nœud intégré réplication prend en charge du Cassandra de la synchronisation de hello de multimaître écrit provenant de plusieurs centres de données et présente une vue cohérente de hello données tooapplications.</span><span class="sxs-lookup"><span data-stu-id="72690-128">Cassandra’s built-in node replication takes care of hello synchronization of multi-master writes originating from multiple data centers and presents a consistent view of hello data tooapplications.</span></span> <span data-ttu-id="72690-129">Déploiement de plusieurs régions peut également aider à atténuation des risques hello d’interruption de service Azure hello plus large.</span><span class="sxs-lookup"><span data-stu-id="72690-129">Multi-region deployment can also help with hello risk mitigation of hello broader Azure service outages.</span></span> <span data-ttu-id="72690-130">La topologie de réplication et de cohérence paramétrable de Cassandra permet de répondre à divers besoins des applications en matière d'objectif de point de récupération.</span><span class="sxs-lookup"><span data-stu-id="72690-130">Cassandra’s tunable consistency and replication topology will help in meeting diverse RPO needs of applications.</span></span>

### <a name="single-region-deployment"></a><span data-ttu-id="72690-131">Déploiement dans une seule région</span><span class="sxs-lookup"><span data-stu-id="72690-131">Single Region Deployment</span></span>
<span data-ttu-id="72690-132">Nous allons commencer par un déploiement de la même région et à partir des retours récolte hello dans la création d’un modèle de plusieurs région.</span><span class="sxs-lookup"><span data-stu-id="72690-132">We will start with a single region deployment and harvest hello learnings in creating a multi-region model.</span></span> <span data-ttu-id="72690-133">Réseau virtuel Windows Azure sera les sous-réseaux utilisés toocreate isolé afin que les exigences de sécurité réseau hello mentionnés ci-dessus peuvent être satisfaites.</span><span class="sxs-lookup"><span data-stu-id="72690-133">Azure virtual networking will be used toocreate isolated subnets so that hello network security requirements mentioned above can be met.</span></span>  <span data-ttu-id="72690-134">Hello est décrite dans la création du déploiement de région de hello utilise Ubuntu 14.04 LTS et Cassandra 2.08 ; Toutefois, les processus hello peuvent facilement être adoptée toohello autres variantes de Linux.</span><span class="sxs-lookup"><span data-stu-id="72690-134">hello process described in creating hello single region deployment uses Ubuntu 14.04 LTS and Cassandra 2.08; however, hello process can easily be adopted toohello other Linux variants.</span></span> <span data-ttu-id="72690-135">Hello Voici quelques-unes des caractéristiques du système de déploiement de région de hello hello.</span><span class="sxs-lookup"><span data-stu-id="72690-135">hello following are some of hello systemic characteristics of hello single region deployment.</span></span>  

<span data-ttu-id="72690-136">**Haute disponibilité :** hello Cassandra des nœuds dans la Figure 1 sont déployés de hello tootwo disponibilité définit afin que les nœuds de hello sont réparties entre plusieurs domaines d’erreur pour la haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="72690-136">**High Availability:** hello Cassandra nodes shown in hello Figure 1 are deployed tootwo availability sets so that hello nodes are spread between multiple fault domains for high availability.</span></span> <span data-ttu-id="72690-137">Machines virtuelles annotées avec chaque groupe à haute disponibilité est too2 mappé les domaines d’erreur.</span><span class="sxs-lookup"><span data-stu-id="72690-137">VMs annotated with each availability set is mapped too2 fault domains.</span></span>  <span data-ttu-id="72690-138">Microsoft Azure utilise hello concept de toomanage de domaine d’erreur non planifié vers le bas (par exemple, les pannes de matériel ou logiciel) temps concept hello du domaine de mise à niveau (par exemple, un hôte ou invité du système d’exploitation mise à jour corrective/mises à niveau, mises à niveau de l’application) permet de gérer planifiée temps d’arrêt.</span><span class="sxs-lookup"><span data-stu-id="72690-138">Microsoft Azure uses hello concept of fault domain toomanage unplanned down time (e.g. hardware or software failures) while hello concept of upgrade domain (e.g. host or guest OS patching/upgrades, application upgrades) is used for managing scheduled down time.</span></span> <span data-ttu-id="72690-139">Consultez [la récupération d’urgence et haute disponibilité pour les Applications Azure](http://msdn.microsoft.com/library/dn251004.aspx) pour rôle hello de domaines d’erreur et de mise à niveau à la réalisation d’une haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="72690-139">Please see [Disaster Recovery and High Availability for Azure Applications](http://msdn.microsoft.com/library/dn251004.aspx) for hello role of fault and upgrade domains in attaining high availability.</span></span>

![Déploiement dans une seule région](./media/cassandra-nodejs/cassandra-linux1.png)

<span data-ttu-id="72690-141">Figure 1 : Déploiement dans une seule région</span><span class="sxs-lookup"><span data-stu-id="72690-141">Figure 1: Single region deployment</span></span>

<span data-ttu-id="72690-142">Notez qu’au moment de hello de rédaction de cet article, Azure n’autorise pas mappage explicite de hello d’un groupe de machines virtuelles tooa domaine d’erreur spécifique ; Par conséquent, même avec le modèle de déploiement hello indiqué dans la Figure 1, il est statistiquement probable que tous les ordinateurs virtuels hello peut-être tootwo mappé les domaines d’erreur au lieu de quatre.</span><span class="sxs-lookup"><span data-stu-id="72690-142">Note that at hello time of this writing, Azure doesn’t allow hello explicit mapping of a group of VMs tooa specific fault domain; consequently, even with hello deployment model shown in Figure 1, it is statistically probable that all hello virtual machines may be mapped tootwo fault domains instead of four.</span></span>

<span data-ttu-id="72690-143">**L’équilibrage de la charge du trafic de Thrift :** bibliothèques du client à l’intérieur du serveur web de hello Thrift connectent toohello cluster via un équilibreur de charge interne.</span><span class="sxs-lookup"><span data-stu-id="72690-143">**Load Balancing Thrift Traffic:** Thrift client libraries inside hello web server connect toohello cluster through an internal load balancer.</span></span> <span data-ttu-id="72690-144">Cette procédure est hello de l’ajout du sous-réseau de hello charge interne équilibrage toohello « données » (voir Figure 1) dans le contexte de hello du service de cloud hello qui héberge hello Cassandra cluster.</span><span class="sxs-lookup"><span data-stu-id="72690-144">This requires hello process of adding hello internal load balancer toohello “data” subnet (refer Figure 1) in hello context of hello cloud service hosting hello Cassandra cluster.</span></span> <span data-ttu-id="72690-145">Une fois que l’équilibrage de charge interne hello est défini, chaque nœud nécessite toobe de point de terminaison à charge équilibrée hello ajoutés avec des annotations d’un jeu d’équilibrage de charge avec précédemment hello nom d’équilibrage de charge définis.</span><span class="sxs-lookup"><span data-stu-id="72690-145">Once hello internal load balancer is defined, each node requires hello load balanced endpoint toobe added with hello annotations of a load balanced set with previously defined load balancer name.</span></span> <span data-ttu-id="72690-146">Consultez [Équilibrage de la charge interne Azure ](../../../load-balancer/load-balancer-internal-overview.md)pour plus de détails.</span><span class="sxs-lookup"><span data-stu-id="72690-146">See [Azure Internal Load Balancing ](../../../load-balancer/load-balancer-internal-overview.md)for more details.</span></span>

<span data-ttu-id="72690-147">**Valeurs de départ de cluster :** il est important de tooselect hello la plupart des nœuds hautement disponible pour les valeurs initiales comme hello nouveaux nœuds communiqueront avec topologie de semences nœuds toodiscover hello du cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="72690-147">**Cluster Seeds:** It is important tooselect hello most highly available nodes for seeds as hello new nodes will communicate with seed nodes toodiscover hello topology of hello cluster.</span></span> <span data-ttu-id="72690-148">Un seul nœud à partir de chaque groupe à haute disponibilité est désigné comme valeur initiale nœuds tooavoid point de défaillance unique.</span><span class="sxs-lookup"><span data-stu-id="72690-148">One node from each availability set is designated as seed nodes tooavoid single point of failure.</span></span>

<span data-ttu-id="72690-149">**Facteur de réplication et le niveau de cohérence :** génération de haute disponibilité et les données durabilité de Cassandra se caractérise par hello facteur de réplication (RF - nombre de copies de chaque ligne stockée dans le cluster de hello) et le niveau de cohérence (nombre de réplicas toobe lus/écrits avant de retourner l’appelant de toohello résultat hello).</span><span class="sxs-lookup"><span data-stu-id="72690-149">**Replication Factor and Consistency Level:** Cassandra’s build-in high-availability and data durability is characterized by hello Replication Factor (RF - number of copies of each row stored on hello cluster) and Consistency Level (number of replicas toobe read/written before returning hello result toohello caller).</span></span> <span data-ttu-id="72690-150">Facteur de réplication est spécifié pendant hello création de l’espace de clés (similaire tooa base de données relationnelle), tandis que le niveau de cohérence hello est spécifié lors de l’exécution de requête CRUD hello.</span><span class="sxs-lookup"><span data-stu-id="72690-150">Replication factor is specified during hello KEYSPACE (similar tooa relational database) creation whereas hello consistency level is specified while issuing hello CRUD query.</span></span> <span data-ttu-id="72690-151">Consultez la documentation Cassandra sur [configuration pour la cohérence](http://www.datastax.com/documentation/cassandra/2.0/cassandra/dml/dml_config_consistency_c.html) pour les détails de la cohérence et la formule hello pour le calcul du quorum.</span><span class="sxs-lookup"><span data-stu-id="72690-151">See Cassandra documentation at [Configuring for Consistency](http://www.datastax.com/documentation/cassandra/2.0/cassandra/dml/dml_config_consistency_c.html) for consistency details and hello formula for quorum computation.</span></span>

<span data-ttu-id="72690-152">Cassandra prend en charge deux types de modèles de l’intégrité des données, la cohérence et la cohérence éventuelle ; Hello facteur de réplication et niveau de cohérence ensemble déterminent si les données de salutation sera cohérentes dès qu’une opération d’écriture est terminée ou qu’il sera finalement cohérente.</span><span class="sxs-lookup"><span data-stu-id="72690-152">Cassandra supports two types of data integrity models – Consistency and Eventual Consistency; hello Replication Factor and Consistency Level will together determine if hello data will be consistent as soon as a write operation is complete or it will be eventually consistent.</span></span> <span data-ttu-id="72690-153">Par exemple, en spécifiant QUORUM car hello que niveau de cohérence sera toujours garantit la cohérence de données lors de n’importe quel niveau de cohérence, en dessous du nombre de hello de toobe réplicas écrite sous la forme tooattain nécessaire QUORUM (par exemple, un) entraîne finalement cohérente des données.</span><span class="sxs-lookup"><span data-stu-id="72690-153">For example, specifying QUORUM as hello Consistency Level will always ensures data Consistency while any consistency level, below hello number of replicas toobe written as needed tooattain QUORUM (e.g. ONE) results in data being eventually consistent.</span></span>

<span data-ttu-id="72690-154">cluster à 8 nœuds Hello illustrée ci-dessus, avec un facteur de réplication de 3 et QUORUM (2 nœuds sont lues ou écrites par souci de cohérence) au niveau de cohérence de lecture/écriture, peuvent survivre hello théorique une perte d’à hello 1 nœud par la réplication de groupe avant le démarrage de l’application hello détection d’échec de hello.</span><span class="sxs-lookup"><span data-stu-id="72690-154">hello 8-node cluster shown above, with a replication factor of 3 and QUORUM (2 nodes are read or written for consistency) read/write consistency level, can survive hello theoretical loss of at hello most 1 node per replication group before hello application start noticing hello failure.</span></span> <span data-ttu-id="72690-155">Cela suppose que tous les espaces de clé hello ont bien équilibrés des demandes de lecture/écriture.</span><span class="sxs-lookup"><span data-stu-id="72690-155">This assumes that all hello key spaces have well balanced read/write requests.</span></span>  <span data-ttu-id="72690-156">Hello Voici les paramètres hello que nous allons utiliser pour le cluster de hello déployé :</span><span class="sxs-lookup"><span data-stu-id="72690-156">hello following are hello parameters we will use for hello deployed cluster:</span></span>

<span data-ttu-id="72690-157">Configuration de cluster Cassandra à une seule région :</span><span class="sxs-lookup"><span data-stu-id="72690-157">Single region Cassandra cluster configuration:</span></span>

| <span data-ttu-id="72690-158">Paramètre de cluster</span><span class="sxs-lookup"><span data-stu-id="72690-158">Cluster Parameter</span></span> | <span data-ttu-id="72690-159">Valeur</span><span class="sxs-lookup"><span data-stu-id="72690-159">Value</span></span> | <span data-ttu-id="72690-160">Remarques</span><span class="sxs-lookup"><span data-stu-id="72690-160">Remarks</span></span> |
| --- | --- | --- |
| <span data-ttu-id="72690-161">Nombre de nœuds (N)</span><span class="sxs-lookup"><span data-stu-id="72690-161">Number of Nodes (N)</span></span> |<span data-ttu-id="72690-162">8</span><span class="sxs-lookup"><span data-stu-id="72690-162">8</span></span> |<span data-ttu-id="72690-163">Nombre total de nœuds de cluster de hello</span><span class="sxs-lookup"><span data-stu-id="72690-163">Total number of nodes in hello cluster</span></span> |
| <span data-ttu-id="72690-164">Facteur de réplication (RF)</span><span class="sxs-lookup"><span data-stu-id="72690-164">Replication Factor (RF)</span></span> |<span data-ttu-id="72690-165">3</span><span class="sxs-lookup"><span data-stu-id="72690-165">3</span></span> |<span data-ttu-id="72690-166">Nombre de réplicas d'une ligne donnée</span><span class="sxs-lookup"><span data-stu-id="72690-166">Number of replicas of a given row</span></span> |
| <span data-ttu-id="72690-167">Niveau de cohérence (écriture)</span><span class="sxs-lookup"><span data-stu-id="72690-167">Consistency Level (Write)</span></span> |<span data-ttu-id="72690-168">QUORUM[(RF/2) +1) = 2] hello result Hello formule est arrondie vers le bas</span><span class="sxs-lookup"><span data-stu-id="72690-168">QUORUM[(RF/2) +1) = 2] hello result of hello formula is rounded down</span></span> |<span data-ttu-id="72690-169">Écrit la plupart des 2 réplicas à hello avant hello est envoyée toohello appelant ; réplica 3e est écrit de manière cohérente.</span><span class="sxs-lookup"><span data-stu-id="72690-169">Writes at hello most 2 replicas before hello response is sent toohello caller; 3rd replica is written in an eventually consistent manner.</span></span> |
| <span data-ttu-id="72690-170">Niveau de cohérence (lecture)</span><span class="sxs-lookup"><span data-stu-id="72690-170">Consistency Level (Read)</span></span> |<span data-ttu-id="72690-171">QUORUM [(RF/2) + 1 = 2] résultat hello de formule de hello est arrondi vers le bas</span><span class="sxs-lookup"><span data-stu-id="72690-171">QUORUM [(RF/2) +1= 2] hello result of hello formula is rounded down</span></span> |<span data-ttu-id="72690-172">Lit 2 réplicas avant l’envoi de l’appelant toohello de réponse.</span><span class="sxs-lookup"><span data-stu-id="72690-172">Reads 2 replicas before sending response toohello caller.</span></span> |
| <span data-ttu-id="72690-173">Stratégie de réplication</span><span class="sxs-lookup"><span data-stu-id="72690-173">Replication Strategy</span></span> |<span data-ttu-id="72690-174">NetworkTopologyStrategy voir [Réplication des données](http://www.datastax.com/documentation/cassandra/2.0/cassandra/architecture/architectureDataDistributeReplication_c.html) dans la documentation de Cassandra pour plus d’informations</span><span class="sxs-lookup"><span data-stu-id="72690-174">NetworkTopologyStrategy see [Data Replication](http://www.datastax.com/documentation/cassandra/2.0/cassandra/architecture/architectureDataDistributeReplication_c.html) in Cassandra documentation for more information</span></span> |<span data-ttu-id="72690-175">Comprend la topologie de déploiement hello et place les réplicas sur les nœuds afin que tous les réplicas hello ne se retrouver sur hello même rack</span><span class="sxs-lookup"><span data-stu-id="72690-175">Understands hello deployment topology and places replicas on nodes so that all hello replicas don’t end up on hello same rack</span></span> |
| <span data-ttu-id="72690-176">Snitch</span><span class="sxs-lookup"><span data-stu-id="72690-176">Snitch</span></span> |<span data-ttu-id="72690-177">GossipingPropertyFileSnitch voir [Snitches](http://www.datastax.com/documentation/cassandra/2.0/cassandra/architecture/architectureSnitchesAbout_c.html) dans la documentation de Cassandra pour plus d’informations</span><span class="sxs-lookup"><span data-stu-id="72690-177">GossipingPropertyFileSnitch see [Snitches](http://www.datastax.com/documentation/cassandra/2.0/cassandra/architecture/architectureSnitchesAbout_c.html) in Cassandra documentation for more information</span></span> |<span data-ttu-id="72690-178">NetworkTopologyStrategy utilise un concept de topologie de snitch toounderstand hello.</span><span class="sxs-lookup"><span data-stu-id="72690-178">NetworkTopologyStrategy uses a concept of snitch toounderstand hello topology.</span></span> <span data-ttu-id="72690-179">GossipingPropertyFileSnitch donne un meilleur contrôle lors du mappage de chaque centre de toodata de nœud et le rack.</span><span class="sxs-lookup"><span data-stu-id="72690-179">GossipingPropertyFileSnitch gives better control in mapping each node toodata center and rack.</span></span> <span data-ttu-id="72690-180">cluster de Hello utilise ensuite les discussions toopropagate ces informations.</span><span class="sxs-lookup"><span data-stu-id="72690-180">hello cluster then uses gossip toopropagate this information.</span></span> <span data-ttu-id="72690-181">Cela est beaucoup plus simple dans dynamique tooPropertyFileSnitch relatif de la configuration IP</span><span class="sxs-lookup"><span data-stu-id="72690-181">This is much simpler in dynamic IP setting relative tooPropertyFileSnitch</span></span> |

<span data-ttu-id="72690-182">**Considérations relatives à Microsoft Azure pour le cluster Cassandra :** les fonctionnalités de machines virtuelles Microsoft Azure utilisent le stockage d’objets blob Azure pour la persistance des disques ; le stockage Azure enregistre trois réplicas de chaque disque pour une durabilité élevée.</span><span class="sxs-lookup"><span data-stu-id="72690-182">**Azure Considerations for Cassandra Cluster:** Microsoft Azure Virtual Machines capability uses Azure Blob storage for disk persistence; Azure Storage saves 3 replicas of each disk for high durability.</span></span> <span data-ttu-id="72690-183">Cela signifie que chaque ligne de données insérées dans une table Cassandra est déjà stocké dans 3 réplicas et par conséquent, la cohérence des données est déjà pris en charge même si hello facteur de réplication (RF) est 1.</span><span class="sxs-lookup"><span data-stu-id="72690-183">That means each row of data inserted into a Cassandra table is already stored in 3 replicas and hence data consistency is already taken care of even if hello Replication Factor (RF) is 1.</span></span> <span data-ttu-id="72690-184">Hello principal problème avec le facteur de réplication en cours de 1 est qu’application hello connaissent des interruptions de service même si un seul nœud Cassandra échoue.</span><span class="sxs-lookup"><span data-stu-id="72690-184">hello main problem with Replication Factor being 1 is that hello application will experience downtime even if a single Cassandra node fails.</span></span> <span data-ttu-id="72690-185">Toutefois, si un nœud est arrêté pour les problèmes hello (matérielles, défaillances du système) reconnus par le contrôleur de structure Azure, il configure un nouveau nœud dans son emplacement à l’aide de hello même les disques de stockage.</span><span class="sxs-lookup"><span data-stu-id="72690-185">However, if a node is down for hello problems (e.g. hardware, system software failures) recognized by Azure Fabric Controller, it will provision a new node in its place using hello same storage drives.</span></span> <span data-ttu-id="72690-186">Configuration d’un nouveau nœud tooreplace hello ancien une peut prendre quelques minutes.</span><span class="sxs-lookup"><span data-stu-id="72690-186">Provisioning a new node tooreplace hello old one may take a few minutes.</span></span>  <span data-ttu-id="72690-187">De même pour les activités de maintenance planifiée tels que les modifications du système d’exploitation invité, Cassandra met à niveau et modification de l’application contrôleur de structure Azure effectue des mises à niveau des nœuds de hello de propagées dans le cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="72690-187">Similarly for planned maintenance activities like guest OS changes, Cassandra upgrades and application changes Azure Fabric Controller performs rolling upgrades of hello nodes in hello cluster.</span></span>  <span data-ttu-id="72690-188">Mise à niveau propagée également peut prendre quelques nœuds à la fois et par conséquent, cluster de hello peut rencontrer des interruption de courte durée pour plusieurs partitions.</span><span class="sxs-lookup"><span data-stu-id="72690-188">Rolling upgrades also may take down a few nodes at a time and hence hello cluster may experience brief downtime for a few partitions.</span></span> <span data-ttu-id="72690-189">Toutefois, les données de hello ne seront pas perdues en raison de la redondance de stockage Azure toohello intégrée.</span><span class="sxs-lookup"><span data-stu-id="72690-189">However, hello data will not be lost due toohello built-in Azure Storage redundancy.</span></span>  

<span data-ttu-id="72690-190">Pour les systèmes déployés tooAzure ne nécessitant pas de haute disponibilité (par exemple, 99,9 environ qui est équivalent too8.76 heures/année ; consultez [haute disponibilité](http://en.wikipedia.org/wiki/High_availability) pour plus d’informations) vous pouvez être en mesure de toorun avec RF = 1 et le niveau de cohérence = 1.</span><span class="sxs-lookup"><span data-stu-id="72690-190">For systems deployed tooAzure that doesn’t require high availability (e.g. around 99.9 which is equivalent too8.76 hrs/year; see [High Availability](http://en.wikipedia.org/wiki/High_availability) for details) you may be able toorun with RF=1 and Consistency Level=ONE.</span></span>  <span data-ttu-id="72690-191">Pour les applications aux exigences de haute disponibilité, RF = 3 et niveau de cohérence = QUORUM tolérée hello indisponibilité de l’un des nœuds hello des réplicas de hello.</span><span class="sxs-lookup"><span data-stu-id="72690-191">For applications with high availability requirements, RF=3 and Consistency Level=QUORUM will tolerate hello down time of one of hello nodes one of hello replicas.</span></span> <span data-ttu-id="72690-192">RF = 1 dans les déploiements traditionnels (par exemple, local) ne peut pas être utilisé en raison de la perte de données toohello dues à des problèmes tels que des défaillances de disque.</span><span class="sxs-lookup"><span data-stu-id="72690-192">RF=1 in traditional deployments (e.g. on-premises) can’t be used due toohello possible data loss resulting from problems like disk failures.</span></span>   

## <a name="multi-region-deployment"></a><span data-ttu-id="72690-193">Déploiement dans plusieurs régions</span><span class="sxs-lookup"><span data-stu-id="72690-193">Multi-region Deployment</span></span>
<span data-ttu-id="72690-194">Réplication center-bases de données et le modèle de cohérence décrites ci-dessus permettent de déploiement de plusieurs régions hello en dehors de la zone de hello sans hello du Cassandra besoin pour les outils externes.</span><span class="sxs-lookup"><span data-stu-id="72690-194">Cassandra’s data-center-aware replication and consistency model described above helps with hello multi-region deployment out of hello box without hello need for any external tooling.</span></span> <span data-ttu-id="72690-195">Cela est très différente de bases de données relationnelles traditionnels hello où le programme d’installation de hello pour la mise en miroir de base de données pour les écritures multimaîtres peut être complexe.</span><span class="sxs-lookup"><span data-stu-id="72690-195">This is quite different from hello traditional relational databases where hello setup for database mirroring for multi-master writes can be quite complex.</span></span> <span data-ttu-id="72690-196">Cassandra dans une région multi configurée peut aider les scénarios d’utilisation de hello notamment hello suivantes :</span><span class="sxs-lookup"><span data-stu-id="72690-196">Cassandra in a multi-region set up can help with hello usage scenarios including hello following:</span></span>

<span data-ttu-id="72690-197">**Déploiement basé sur la proximité :** applications mutualisées, avec le mappage clair d’utilisateurs du client-à-région, peut être bénéficié par temps de latence faible du cluster hello plusieurs régions.</span><span class="sxs-lookup"><span data-stu-id="72690-197">**Proximity based deployment:** Multi-tenant applications, with clear mapping of tenant users -to-region, can be benefited by hello multi-region cluster’s low latencies.</span></span> <span data-ttu-id="72690-198">Par exemple un apprentissage de gestion des systèmes pour l’établissement d’enseignement peuvent déployer un cluster de distribuée dans est des États-Unis et ouest des États-Unis régions tooserve hello respectifs campus pour transactionnelle, ainsi que d’analytique.</span><span class="sxs-lookup"><span data-stu-id="72690-198">For example a learning management systems for educational institutions can deploy a distributed cluster in East US and West US regions tooserve hello respective campuses for transactional as well as analytics.</span></span> <span data-ttu-id="72690-199">les données de salutation peuvent être cohérentes localement à hello temps lectures et écritures et peuvent être cohérentes entre les deux régions hello.</span><span class="sxs-lookup"><span data-stu-id="72690-199">hello data can be locally consistent at hello time reads and writes and can be eventually consistent across both hello regions.</span></span> <span data-ttu-id="72690-200">Il existe d’autres exemples, tels que la distribution multimédia ou le commerce électronique, et tout ce qui répond aux demandes des bases d’utilisateurs concentrées géographiquement constitue un bon cas d’utilisation pour ce modèle de déploiement.</span><span class="sxs-lookup"><span data-stu-id="72690-200">There are other examples like media distribution, e-commerce and anything and everything that serves geo concentrated user base is a good use case for this deployment model.</span></span>

<span data-ttu-id="72690-201">**Haute disponibilité :** la redondance est un facteur clé dans l’obtention de la haute disponibilité des logiciels et du matériel ; pour plus d’informations, consultez Création de systèmes de cloud fiables sur Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="72690-201">**High Availability:** Redundancy is a key factor in attaining high availability of software and hardware; see Building Reliable Cloud Systems on Microsoft Azure for details.</span></span> <span data-ttu-id="72690-202">Sur Microsoft Azure, hello seule méthode fiable d’assurer la redondance est en déployant un cluster de plusieurs région.</span><span class="sxs-lookup"><span data-stu-id="72690-202">On Microsoft Azure, hello only reliable way of achieving true redundancy is by deploying a multi-region cluster.</span></span> <span data-ttu-id="72690-203">Applications peuvent être déployées en mode actif / actif ou actif / passif, et si l’une des régions de hello est arrêté, Azure Traffic Manager peut rediriger la région active toohello de trafic.</span><span class="sxs-lookup"><span data-stu-id="72690-203">Applications can be deployed in an active-active or active-passive mode and if one of hello regions is down, Azure Traffic Manager can redirect traffic toohello active region.</span></span>  <span data-ttu-id="72690-204">Avec le déploiement de région de hello, si la disponibilité de hello est 99,9, un déploiement de deux régions peut atteindre un disponibilité de 99,9999 calculée par la formule de hello : (1-(1-0.999) * (1-0,999)) * 100) ; hello au-dessus de papier pour plus d’informations, consultez.</span><span class="sxs-lookup"><span data-stu-id="72690-204">With hello single region deployment, if hello availability is 99.9, a two-region deployment can attain an availability of 99.9999 computed by hello formula: (1-(1-0.999) * (1-0.999))*100); see hello above paper for details.</span></span>

<span data-ttu-id="72690-205">**Récupération d’urgence :** un cluster Cassandra à plusieurs régions, conçu correctement, peut résister aux pannes catastrophiques d’un centre de données.</span><span class="sxs-lookup"><span data-stu-id="72690-205">**Disaster Recovery:** Multi-region Cassandra cluster, if properly designed, can withstand catastrophic data center outages.</span></span> <span data-ttu-id="72690-206">Si une région est arrêté, les régions tooother hello application déployée peuvent démarrer desservant les utilisateurs finaux de hello.</span><span class="sxs-lookup"><span data-stu-id="72690-206">If one region is down, hello application deployed tooother regions can start serving hello end users.</span></span> <span data-ttu-id="72690-207">Comme les autres implémentations de continuité d’activité commerciale, application hello possède toobe à tolérance de perte de données résultant des données hello dans pipeline asynchrone de hello.</span><span class="sxs-lookup"><span data-stu-id="72690-207">Like any other business continuity implementations, hello application has toobe tolerant for some data loss resulting from hello data in hello asynchronous pipeline.</span></span> <span data-ttu-id="72690-208">Toutefois, Cassandra permet de récupération de hello plus intensifs à heure hello effectuée par le processus de récupération de base de données traditionnelle.</span><span class="sxs-lookup"><span data-stu-id="72690-208">However, Cassandra makes hello recovery much swifter than hello time taken by traditional database recovery processes.</span></span> <span data-ttu-id="72690-209">Figure 2 montre un modèle de déploiement de plusieurs régions classique hello avec huit nœuds dans chaque région.</span><span class="sxs-lookup"><span data-stu-id="72690-209">Figure 2 shows hello typical multi-region deployment model with eight nodes in each region.</span></span> <span data-ttu-id="72690-210">Les deux régions sont des images de mise en miroir de l’autre pour hello même de symétrie ; conceptions de monde réel dépendent du type de charge de travail hello (par exemple, transactionnelle ou d’analyse), RPO, RTO, la cohérence des données et des exigences de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="72690-210">Both regions are mirror images of each other for hello same of symmetry; real world designs depend on hello workload type (e.g. transactional or analytical), RPO, RTO, data consistency and availability requirements.</span></span>

![déploiement dans plusieurs régions](./media/cassandra-nodejs/cassandra-linux2.png)

<span data-ttu-id="72690-212">Figure 2 : Déploiement de Cassandra dans plusieurs régions</span><span class="sxs-lookup"><span data-stu-id="72690-212">Figure 2: Multi-region Cassandra deployment</span></span>

### <a name="network-integration"></a><span data-ttu-id="72690-213">Intégration réseau</span><span class="sxs-lookup"><span data-stu-id="72690-213">Network Integration</span></span>
<span data-ttu-id="72690-214">Jeux d’ordinateurs virtuels, réseaux tooprivate déployé sur les deux régions communique avec d’autres à l’aide d’un tunnel VPN.</span><span class="sxs-lookup"><span data-stu-id="72690-214">Sets of virtual machines deployed tooprivate networks located on two regions communicates with each other using a VPN tunnel.</span></span> <span data-ttu-id="72690-215">tunnel VPN de Hello connecte deux passerelles logiciel mis en service pendant le processus de déploiement de réseau hello.</span><span class="sxs-lookup"><span data-stu-id="72690-215">hello VPN tunnel connects two software gateways provisioned during hello network deployment process.</span></span> <span data-ttu-id="72690-216">Les deux régions ont une architecture réseau similaire en termes de sous-réseaux « web » et « données » ; Mise en réseau Azure permet de créer de hello des sous-réseaux si nécessaire et appliquer des ACL selon les besoins de sécurité réseau.</span><span class="sxs-lookup"><span data-stu-id="72690-216">Both regions have similar network architecture in terms of “web” and “data” subnets; Azure networking allows hello creation of as many subnets as needed and apply ACLs as needed by network security.</span></span> <span data-ttu-id="72690-217">Lors de la conception de topologie de cluster hello inter données center communication latence et hello impact économique de hello réseau trafic besoin toobe pris en compte.</span><span class="sxs-lookup"><span data-stu-id="72690-217">While designing hello cluster topology inter data center communication latency and hello economic impact of hello network traffic need toobe considered.</span></span>

### <a name="data-consistency-for-multi-data-center-deployment"></a><span data-ttu-id="72690-218">Cohérence des données pour le déploiement dans plusieurs centres de données</span><span class="sxs-lookup"><span data-stu-id="72690-218">Data Consistency for Multi-Data Center Deployment</span></span>
<span data-ttu-id="72690-219">Distribué toobe du besoin de déploiements prenant en charge de l’impact de topologie de cluster hello sur le débit et la haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="72690-219">Distributed deployments need toobe aware of hello cluster topology impact on throughput and high availability.</span></span> <span data-ttu-id="72690-220">Hello RF et niveau de cohérence toobe besoin sélectionné de telle sorte que hello quorum ne dépend de la disponibilité hello de tous les centres de données hello.</span><span class="sxs-lookup"><span data-stu-id="72690-220">hello RF and Consistency Level need toobe selected in such way that hello quorum doesn’t depend on hello availability of all hello data centers.</span></span>
<span data-ttu-id="72690-221">Pour un système qui a besoin de cohérence élevée, un LOCAL_QUORUM pour le niveau de cohérence (pour les écritures et lectures) permet de garantir que hello local lectures et écritures sont satisfaites à partir de hello local nœuds tandis que les données sont répliquées de manière asynchrone les centres de données distants toohello.</span><span class="sxs-lookup"><span data-stu-id="72690-221">For a system that needs high consistency, a LOCAL_QUORUM for consistency level (for reads and writes) will make sure that hello local reads and writes are satisfied from hello local nodes while data is replicated asynchronously toohello remote data centers.</span></span>  <span data-ttu-id="72690-222">Le tableau 2 récapitule la configuration hello détails pour le cluster de plusieurs régions hello décrites plus loin dans hello écrire des.</span><span class="sxs-lookup"><span data-stu-id="72690-222">Table 2 summarizes hello configuration details for hello multi-region cluster outlined later in hello write up.</span></span>

<span data-ttu-id="72690-223">**Configuration de cluster Cassandra à deux régions**</span><span class="sxs-lookup"><span data-stu-id="72690-223">**Two-region Cassandra cluster configuration**</span></span>

| <span data-ttu-id="72690-224">Paramètre de cluster</span><span class="sxs-lookup"><span data-stu-id="72690-224">Cluster Parameter</span></span> | <span data-ttu-id="72690-225">Valeur</span><span class="sxs-lookup"><span data-stu-id="72690-225">Value</span></span> | <span data-ttu-id="72690-226">Remarques</span><span class="sxs-lookup"><span data-stu-id="72690-226">Remarks</span></span> |
| --- | --- | --- |
| <span data-ttu-id="72690-227">Nombre de nœuds (N)</span><span class="sxs-lookup"><span data-stu-id="72690-227">Number of Nodes (N)</span></span> |<span data-ttu-id="72690-228">8 + 8</span><span class="sxs-lookup"><span data-stu-id="72690-228">8 + 8</span></span> |<span data-ttu-id="72690-229">Nombre total de nœuds de cluster de hello</span><span class="sxs-lookup"><span data-stu-id="72690-229">Total number of nodes in hello cluster</span></span> |
| <span data-ttu-id="72690-230">Facteur de réplication (RF)</span><span class="sxs-lookup"><span data-stu-id="72690-230">Replication Factor (RF)</span></span> |<span data-ttu-id="72690-231">3</span><span class="sxs-lookup"><span data-stu-id="72690-231">3</span></span> |<span data-ttu-id="72690-232">Nombre de réplicas d'une ligne donnée</span><span class="sxs-lookup"><span data-stu-id="72690-232">Number of replicas of a given row</span></span> |
| <span data-ttu-id="72690-233">Niveau de cohérence (écriture)</span><span class="sxs-lookup"><span data-stu-id="72690-233">Consistency Level (Write)</span></span> |<span data-ttu-id="72690-234">LOCAL_QUORUM [(sum(RF)/2) +1) = 4] résultat hello de formule de hello est arrondi vers le bas</span><span class="sxs-lookup"><span data-stu-id="72690-234">LOCAL_QUORUM [(sum(RF)/2) +1) = 4] hello result of hello formula is rounded down</span></span> |<span data-ttu-id="72690-235">2 nœuds seront écrits toohello premier centre de données de façon synchrone ; Hello 2 des nœuds supplémentaires nécessaires pour le quorum seront écrit en mode asynchrone toohello 2e centre de données.</span><span class="sxs-lookup"><span data-stu-id="72690-235">2 nodes will be written toohello first data center synchronously; hello additional 2 nodes needed for quorum will be written asynchronously toohello 2nd data center.</span></span> |
| <span data-ttu-id="72690-236">Niveau de cohérence (lecture)</span><span class="sxs-lookup"><span data-stu-id="72690-236">Consistency Level (Read)</span></span> |<span data-ttu-id="72690-237">LOCAL_QUORUM ((RF/2) + 1) = 2 résultat hello de formule de hello est arrondi vers le bas</span><span class="sxs-lookup"><span data-stu-id="72690-237">LOCAL_QUORUM ((RF/2) +1) = 2 hello result of hello formula is rounded down</span></span> |<span data-ttu-id="72690-238">Requêtes de lecture sont satisfaites à partir de la seule région ; 2 nœuds sont lues avant hello est envoyée arrière toohello client.</span><span class="sxs-lookup"><span data-stu-id="72690-238">Read requests are satisfied from only one region; 2 nodes are read before hello response is sent back toohello client.</span></span> |
| <span data-ttu-id="72690-239">Stratégie de réplication</span><span class="sxs-lookup"><span data-stu-id="72690-239">Replication Strategy</span></span> |<span data-ttu-id="72690-240">NetworkTopologyStrategy voir [Réplication des données](http://www.datastax.com/documentation/cassandra/2.0/cassandra/architecture/architectureDataDistributeReplication_c.html) dans la documentation de Cassandra pour plus d’informations</span><span class="sxs-lookup"><span data-stu-id="72690-240">NetworkTopologyStrategy see [Data Replication](http://www.datastax.com/documentation/cassandra/2.0/cassandra/architecture/architectureDataDistributeReplication_c.html) in Cassandra documentation for more information</span></span> |<span data-ttu-id="72690-241">Comprend la topologie de déploiement hello et place les réplicas sur les nœuds afin que tous les réplicas hello ne se retrouver sur hello même rack</span><span class="sxs-lookup"><span data-stu-id="72690-241">Understands hello deployment topology and places replicas on nodes so that all hello replicas don’t end up on hello same rack</span></span> |
| <span data-ttu-id="72690-242">Snitch</span><span class="sxs-lookup"><span data-stu-id="72690-242">Snitch</span></span> |<span data-ttu-id="72690-243">GossipingPropertyFileSnitch voir [Snitches](http://www.datastax.com/documentation/cassandra/2.0/cassandra/architecture/architectureSnitchesAbout_c.html) dans la documentation de Cassandra pour plus d’informations</span><span class="sxs-lookup"><span data-stu-id="72690-243">GossipingPropertyFileSnitch see [Snitches](http://www.datastax.com/documentation/cassandra/2.0/cassandra/architecture/architectureSnitchesAbout_c.html) in Cassandra documentation for more information</span></span> |<span data-ttu-id="72690-244">NetworkTopologyStrategy utilise un concept de topologie de snitch toounderstand hello.</span><span class="sxs-lookup"><span data-stu-id="72690-244">NetworkTopologyStrategy uses a concept of snitch toounderstand hello topology.</span></span> <span data-ttu-id="72690-245">GossipingPropertyFileSnitch donne un meilleur contrôle lors du mappage de chaque centre de toodata de nœud et le rack.</span><span class="sxs-lookup"><span data-stu-id="72690-245">GossipingPropertyFileSnitch gives better control in mapping each node toodata center and rack.</span></span> <span data-ttu-id="72690-246">cluster de Hello utilise ensuite les discussions toopropagate ces informations.</span><span class="sxs-lookup"><span data-stu-id="72690-246">hello cluster then uses gossip toopropagate this information.</span></span> <span data-ttu-id="72690-247">Cela est beaucoup plus simple dans dynamique tooPropertyFileSnitch relatif de la configuration IP</span><span class="sxs-lookup"><span data-stu-id="72690-247">This is much simpler in dynamic IP setting relative tooPropertyFileSnitch</span></span> |

## <a name="hello-software-configuration"></a><span data-ttu-id="72690-248">Hello CONFIGURATION logicielle</span><span class="sxs-lookup"><span data-stu-id="72690-248">hello SOFTWARE CONFIGURATION</span></span>
<span data-ttu-id="72690-249">Hello les versions logicielles suivantes est utilisée lors du déploiement de hello :</span><span class="sxs-lookup"><span data-stu-id="72690-249">hello following software versions are used during hello deployment:</span></span>

<table>
<tr><th><span data-ttu-id="72690-250">Logiciel</span><span class="sxs-lookup"><span data-stu-id="72690-250">Software</span></span></th><th><span data-ttu-id="72690-251">Source</span><span class="sxs-lookup"><span data-stu-id="72690-251">Source</span></span></th><th><span data-ttu-id="72690-252">Version</span><span class="sxs-lookup"><span data-stu-id="72690-252">Version</span></span></th></tr>
<tr><td><span data-ttu-id="72690-253">JRE</span><span class="sxs-lookup"><span data-stu-id="72690-253">JRE</span></span>    </td><td><span data-ttu-id="72690-254">[JRE 8](http://www.oracle.com/technetwork/java/javase/downloads/server-jre8-downloads-2133154.html) </span><span class="sxs-lookup"><span data-stu-id="72690-254">[JRE 8](http://www.oracle.com/technetwork/java/javase/downloads/server-jre8-downloads-2133154.html) </span></span></td><td><span data-ttu-id="72690-255">8U5</span><span class="sxs-lookup"><span data-stu-id="72690-255">8U5</span></span></td></tr>
<tr><td><span data-ttu-id="72690-256">JNA</span><span class="sxs-lookup"><span data-stu-id="72690-256">JNA</span></span>    </td><td><span data-ttu-id="72690-257">[JNA](https://github.com/twall/jna) </span><span class="sxs-lookup"><span data-stu-id="72690-257">[JNA](https://github.com/twall/jna) </span></span></td><td> <span data-ttu-id="72690-258">3.2.7</span><span class="sxs-lookup"><span data-stu-id="72690-258">3.2.7</span></span></td></tr>
<tr><td><span data-ttu-id="72690-259">Cassandra</span><span class="sxs-lookup"><span data-stu-id="72690-259">Cassandra</span></span></td><td>[<span data-ttu-id="72690-260">Apache Cassandra 2.0.8</span><span class="sxs-lookup"><span data-stu-id="72690-260">Apache Cassandra 2.0.8</span></span>](http://www.apache.org/dist/cassandra/2.0.8/apache-cassandra-2.0.8-bin.tar.gz)</td><td> <span data-ttu-id="72690-261">2.0.8</span><span class="sxs-lookup"><span data-stu-id="72690-261">2.0.8</span></span></td></tr>
<tr><td><span data-ttu-id="72690-262">Ubuntu</span><span class="sxs-lookup"><span data-stu-id="72690-262">Ubuntu</span></span>    </td><td><span data-ttu-id="72690-263">[Microsoft Azure](https://azure.microsoft.com/) </span><span class="sxs-lookup"><span data-stu-id="72690-263">[Microsoft Azure](https://azure.microsoft.com/) </span></span></td><td><span data-ttu-id="72690-264">14.04 LTS</span><span class="sxs-lookup"><span data-stu-id="72690-264">14.04 LTS</span></span></td></tr>
</table>

<span data-ttu-id="72690-265">Téléchargement de l’environnement JRE requérant acceptation manuelle de la licence d’Oracle, de déploiement de hello toosimplify tous hello bureau toohello de logiciels requis pour le téléchargement ultérieurement dans l’image de modèle d’Ubuntu hello que nous allons créer un cluster de toohello précurseur de téléchargement déploiement.</span><span class="sxs-lookup"><span data-stu-id="72690-265">Since downloading of JRE requires manual acceptance of Oracle license, toosimplify hello deployment, download all hello required software toohello desktop for later uploading into hello Ubuntu template image we will be creating as a precursor toohello cluster deployment.</span></span>

<span data-ttu-id="72690-266">Téléchargez hello au-dessus de logiciel dans un répertoire de téléchargement connue (par exemple, %TEMP%/downloads sur Windows ou ~/Downloads sur la plupart des distributions Linux ou Mac) sur l’ordinateur local de hello.</span><span class="sxs-lookup"><span data-stu-id="72690-266">Download hello above software into a well-known download directory (e.g. %TEMP%/downloads on Windows or ~/Downloads on most Linux distributions or Mac) on hello local computer.</span></span>

### <a name="create-ubuntu-vm"></a><span data-ttu-id="72690-267">CRÉATION D’UNE MACHINE VIRTUELLE UBUNTU</span><span class="sxs-lookup"><span data-stu-id="72690-267">CREATE UBUNTU VM</span></span>
<span data-ttu-id="72690-268">Dans cette étape du processus de hello, nous allons créer Ubuntu image avec hello les logiciels requis afin que hello image peut être réutilisée pour la configuration de plusieurs nœuds Cassandra.</span><span class="sxs-lookup"><span data-stu-id="72690-268">In this step of hello process we will create Ubuntu image with hello pre-requisite software so that hello image can be reused for provisioning several Cassandra nodes.</span></span>  

#### <a name="step-1-generate-ssh-key-pair"></a><span data-ttu-id="72690-269">ÉTAPE 1 : Génération de la paire de clés SSH</span><span class="sxs-lookup"><span data-stu-id="72690-269">STEP 1: Generate SSH key pair</span></span>
<span data-ttu-id="72690-270">Azure a besoin d’une clé publique PEM ou DER encodé à hello mise en service de temps de X509.</span><span class="sxs-lookup"><span data-stu-id="72690-270">Azure needs an X509 public key that is either PEM or DER encoded at hello provisioning time.</span></span> <span data-ttu-id="72690-271">Générer une paire de clés publique/privée à l’aide d’instructions hello situées à la tooUse SSH avec Linux sur Azure.</span><span class="sxs-lookup"><span data-stu-id="72690-271">Generate a public/private key pair using hello instructions located at How tooUse SSH with Linux on Azure.</span></span> <span data-ttu-id="72690-272">Si vous planifiez toouse putty.exe sous la forme d’un client SSH sur Windows ou Linux, vous avez tooconvert hello PEM encodé format de tooPPK clé privée RSA à l’aide de puttygen.exe ; Vous trouverez des instructions correspondantes Hello Bonjour au-dessus de page web.</span><span class="sxs-lookup"><span data-stu-id="72690-272">If you plan toouse putty.exe as an SSH client either on Windows or Linux, you have tooconvert hello PEM encoded RSA private key tooPPK format using puttygen.exe; hello instructions for this can be found in hello above web page.</span></span>

#### <a name="step-2-create-ubuntu-template-vm"></a><span data-ttu-id="72690-273">ÉTAPE 2 : Création du modèle de machine virtuelle Ubuntu</span><span class="sxs-lookup"><span data-stu-id="72690-273">STEP 2: Create Ubuntu template VM</span></span>
<span data-ttu-id="72690-274">modèle de hello toocreate machine virtuelle, connectez-vous à hello Azure hello portail et l’utilisation classique suivant séquence : cliquez sur Nouveau, COMPUTE, MACHINE virtuelle, de galerie, UBUNTU, Ubuntu Server 14.04 LTS, puis cliquez sur la flèche vers la droite hello.</span><span class="sxs-lookup"><span data-stu-id="72690-274">toocreate hello template VM, log into hello Azure classic portal and use hello following sequence: Click NEW, COMPUTE, VIRTUAL MACHINE, FROM GALLERY, UBUNTU, Ubuntu Server 14.04 LTS, and then click hello right arrow.</span></span> <span data-ttu-id="72690-275">Pour obtenir un didacticiel décrivant comment toocreate un VM Linux, consultez Créer une Machine virtuelle exécutant Linux.</span><span class="sxs-lookup"><span data-stu-id="72690-275">For a tutorial that describes how toocreate a Linux VM, see Create a Virtual Machine Running Linux.</span></span>

<span data-ttu-id="72690-276">Entrez hello après les informations sur l’écran hello « configuration d’ordinateur virtuel » #1 :</span><span class="sxs-lookup"><span data-stu-id="72690-276">Enter hello following information on hello “Virtual machine configuration” screen #1:</span></span>

<table>
<tr><th><span data-ttu-id="72690-277">Nom du champ</span><span class="sxs-lookup"><span data-stu-id="72690-277">FIELD NAME</span></span>              </td><td>       <span data-ttu-id="72690-278">Valeur du champ</span><span class="sxs-lookup"><span data-stu-id="72690-278">FIELD VALUE</span></span>               </td><td>         <span data-ttu-id="72690-279">Remarques</span><span class="sxs-lookup"><span data-stu-id="72690-279">REMARKS</span></span>                </td><tr>
<tr><td><span data-ttu-id="72690-280">Date de sortie de la version</span><span class="sxs-lookup"><span data-stu-id="72690-280">VERSION RELEASE DATE</span></span>    </td><td> <span data-ttu-id="72690-281">Sélectionnez une date dans la liste déroulante hello</span><span class="sxs-lookup"><span data-stu-id="72690-281">Select a date from hello drop down</span></span></td><td></td><tr>
<tr><td><span data-ttu-id="72690-282">Nom de machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="72690-282">VIRTUAL MACHINE NAME</span></span>    </td><td> <span data-ttu-id="72690-283">cass-template</span><span class="sxs-lookup"><span data-stu-id="72690-283">cass-template</span></span>                   </td><td> <span data-ttu-id="72690-284">Il s’agit hostname hello Hello machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="72690-284">This is hello hostname of hello VM</span></span> </td><tr>
<tr><td><span data-ttu-id="72690-285">Niveau</span><span class="sxs-lookup"><span data-stu-id="72690-285">TIER</span></span>                     </td><td> <span data-ttu-id="72690-286">STANDARD</span><span class="sxs-lookup"><span data-stu-id="72690-286">STANDARD</span></span>                           </td><td> <span data-ttu-id="72690-287">Laissez la valeur par défaut de hello</span><span class="sxs-lookup"><span data-stu-id="72690-287">Leave hello default</span></span>              </td><tr>
<tr><td><span data-ttu-id="72690-288">TAILLE appropriée</span><span class="sxs-lookup"><span data-stu-id="72690-288">SIZE</span></span>                     </td><td> <span data-ttu-id="72690-289">A1</span><span class="sxs-lookup"><span data-stu-id="72690-289">A1</span></span>                              </td><td><span data-ttu-id="72690-290">Sélectionnez hello que machine virtuelle basée sur hello e/s a besoin ; Pour cela, laissez par défaut de hello</span><span class="sxs-lookup"><span data-stu-id="72690-290">Select hello VM based on hello IO needs; for this purpose leave hello default</span></span> </td><tr>
<tr><td> <span data-ttu-id="72690-291">Nouveau nom d'utilisateur</span><span class="sxs-lookup"><span data-stu-id="72690-291">NEW USER NAME</span></span>             </td><td> <span data-ttu-id="72690-292">localadmin</span><span class="sxs-lookup"><span data-stu-id="72690-292">localadmin</span></span>                       </td><td> <span data-ttu-id="72690-293">Dans Ubuntu 12.xx et versions ultérieures, « admin » est un nom d'utilisateur réservé.</span><span class="sxs-lookup"><span data-stu-id="72690-293">"admin" is a reserved user name in Ubuntu 12.xx and after</span></span></td><tr>
<tr><td> <span data-ttu-id="72690-294">Authentification</span><span class="sxs-lookup"><span data-stu-id="72690-294">AUTHENTICATION</span></span>         </td><td> <span data-ttu-id="72690-295">Clic sur la case à cocher</span><span class="sxs-lookup"><span data-stu-id="72690-295">Click check box</span></span>                 </td><td><span data-ttu-id="72690-296">Activez cette option si vous souhaitez toosecure avec une clé SSH</span><span class="sxs-lookup"><span data-stu-id="72690-296">Check if you want toosecure with an SSH key</span></span> </td><tr>
<tr><td> <span data-ttu-id="72690-297">CERTIFICAT</span><span class="sxs-lookup"><span data-stu-id="72690-297">CERTIFICATE</span></span>             </td><td> <span data-ttu-id="72690-298">nom de fichier du certificat de clé publique hello</span><span class="sxs-lookup"><span data-stu-id="72690-298">file name of hello public key certificate</span></span> </td><td> <span data-ttu-id="72690-299">Utiliser hello de clé publique générée précédemment</span><span class="sxs-lookup"><span data-stu-id="72690-299">Use hello public key generated previously</span></span></td><tr>
<tr><td> <span data-ttu-id="72690-300">Nouveau mot de passe</span><span class="sxs-lookup"><span data-stu-id="72690-300">New Password</span></span>    </td><td> <span data-ttu-id="72690-301">Mot de passe fort</span><span class="sxs-lookup"><span data-stu-id="72690-301">strong password</span></span> </td><td> </td><tr>
<tr><td> <span data-ttu-id="72690-302">Confirmer le mot de passe</span><span class="sxs-lookup"><span data-stu-id="72690-302">Confirm Password</span></span>    </td><td> <span data-ttu-id="72690-303">Mot de passe fort</span><span class="sxs-lookup"><span data-stu-id="72690-303">strong password</span></span> </td><td></td><tr>
</table>

<span data-ttu-id="72690-304">Entrez hello après les informations sur l’écran hello « configuration d’ordinateur virtuel » #2 :</span><span class="sxs-lookup"><span data-stu-id="72690-304">Enter hello following information on hello “Virtual machine configuration” screen #2:</span></span>

<table>
<tr><th><span data-ttu-id="72690-305">Nom du champ</span><span class="sxs-lookup"><span data-stu-id="72690-305">FIELD NAME</span></span>             </th><th> <span data-ttu-id="72690-306">Valeur du champ</span><span class="sxs-lookup"><span data-stu-id="72690-306">FIELD VALUE</span></span>                       </th><th> <span data-ttu-id="72690-307">Remarques</span><span class="sxs-lookup"><span data-stu-id="72690-307">REMARKS</span></span>                                 </th></tr>
<tr><td> <span data-ttu-id="72690-308">SERVICE CLOUD</span><span class="sxs-lookup"><span data-stu-id="72690-308">CLOUD SERVICE</span></span>    </td><td> <span data-ttu-id="72690-309">Créer un nouveau service de cloud computing</span><span class="sxs-lookup"><span data-stu-id="72690-309">Create a new cloud service</span></span>    </td><td><span data-ttu-id="72690-310">Le service cloud est un conteneur qui calcule des ressources telles que des machines virtuelles</span><span class="sxs-lookup"><span data-stu-id="72690-310">Cloud service is a container compute resources like virtual machines</span></span></td></tr>
<tr><td> <span data-ttu-id="72690-311">Nom du cloud Service DNS</span><span class="sxs-lookup"><span data-stu-id="72690-311">CLOUD SERVICE DNS NAME</span></span>    </td><td><span data-ttu-id="72690-312">ubuntu-template.cloudapp.net</span><span class="sxs-lookup"><span data-stu-id="72690-312">ubuntu-template.cloudapp.net</span></span>    </td><td><span data-ttu-id="72690-313">Donnez un nom d'équilibrage de charge non spécifique à la machine.</span><span class="sxs-lookup"><span data-stu-id="72690-313">Give a machine agnostic load balancer name</span></span></td></tr>
<tr><td> <span data-ttu-id="72690-314">Région/Groupe d'affinités/Réseau virtuel</span><span class="sxs-lookup"><span data-stu-id="72690-314">REGION/AFFINITY GROUP/VIRTUAL NETWORK</span></span> </td><td>    <span data-ttu-id="72690-315">Ouest des États-Unis</span><span class="sxs-lookup"><span data-stu-id="72690-315">West US</span></span>    </td><td> <span data-ttu-id="72690-316">Sélectionnez une région à partir de laquelle vos applications web, accéder au cluster de Cassandra hello</span><span class="sxs-lookup"><span data-stu-id="72690-316">Select a region from which your web applications access hello Cassandra cluster</span></span></td></tr>
<tr><td><span data-ttu-id="72690-317">Compte de stockage</span><span class="sxs-lookup"><span data-stu-id="72690-317">STORAGE ACCOUNT</span></span> </td><td>    <span data-ttu-id="72690-318">Utiliser la valeur par défaut</span><span class="sxs-lookup"><span data-stu-id="72690-318">Use default</span></span>    </td><td><span data-ttu-id="72690-319">Utiliser le compte de stockage par défaut hello ou un compte de stockage créés au préalable dans une région particulière</span><span class="sxs-lookup"><span data-stu-id="72690-319">Use hello default storage account  or a pre-created storage account in a particular region</span></span></td></tr>
<tr><td><span data-ttu-id="72690-320">Groupe à haute disponibilité</span><span class="sxs-lookup"><span data-stu-id="72690-320">AVAILABILITY SET</span></span> </td><td>    <span data-ttu-id="72690-321">Aucun</span><span class="sxs-lookup"><span data-stu-id="72690-321">None</span></span> </td><td>    <span data-ttu-id="72690-322">Laissez cette valeur vide</span><span class="sxs-lookup"><span data-stu-id="72690-322">Leave it blank</span></span></td></tr>
<tr><td><span data-ttu-id="72690-323">Points de terminaison</span><span class="sxs-lookup"><span data-stu-id="72690-323">ENDPOINTS</span></span>    </td><td><span data-ttu-id="72690-324">Utiliser la valeur par défaut</span><span class="sxs-lookup"><span data-stu-id="72690-324">Use default</span></span> </td><td>    <span data-ttu-id="72690-325">La configuration SSH hello par défaut</span><span class="sxs-lookup"><span data-stu-id="72690-325">Use hello default SSH configuration</span></span> </td></tr>
</table>

<span data-ttu-id="72690-326">Cliquez sur la flèche droite, hello par défaut sur l’écran hello #3 et cliquez sur hello « vérification » bouton toocomplete hello VM processus d’approvisionnement.</span><span class="sxs-lookup"><span data-stu-id="72690-326">Click right arrow, leave hello defaults on hello screen #3 and click hello “check” button toocomplete hello VM provisioning process.</span></span> <span data-ttu-id="72690-327">Après quelques minutes, hello machine virtuelle avec le nom « ubuntu-modèle hello » doit être dans un état « en cours d’exécution ».</span><span class="sxs-lookup"><span data-stu-id="72690-327">After a few minutes, hello VM with hello name “ubuntu-template” should be in a “running” status.</span></span>

### <a name="install-hello-necessary-software"></a><span data-ttu-id="72690-328">INSTALLER les logiciels nécessaires de hello</span><span class="sxs-lookup"><span data-stu-id="72690-328">INSTALL hello NECESSARY SOFTWARE</span></span>
#### <a name="step-1-upload-tarballs"></a><span data-ttu-id="72690-329">ÉTAPE 1 : Téléchargement de tarballs</span><span class="sxs-lookup"><span data-stu-id="72690-329">STEP 1: Upload tarballs</span></span>
<span data-ttu-id="72690-330">À l’aide du protocole scp ou pscp, hello de copie précédemment téléchargé logiciel trop ~ / répertoire téléchargements à l’aide de hello suivant le format de commande :</span><span class="sxs-lookup"><span data-stu-id="72690-330">Using scp or pscp, copy hello previously downloaded software too~/downloads directory using hello following command format:</span></span>

##### <a name="pscp-server-jre-8u5-linux-x64targz-localadminhk-cas-templatecloudappnethomelocaladmindownloadsserver-jre-8u5-linux-x64targz"></a><span data-ttu-id="72690-331">pscp server-jre-8u5-linux-x64.tar.gz localadmin@hk-cas-template.cloudapp.net:/home/localadmin/downloads/server-jre-8u5-linux-x64.tar.gz</span><span class="sxs-lookup"><span data-stu-id="72690-331">pscp server-jre-8u5-linux-x64.tar.gz localadmin@hk-cas-template.cloudapp.net:/home/localadmin/downloads/server-jre-8u5-linux-x64.tar.gz</span></span>
<span data-ttu-id="72690-332">Répétez hello au-dessus de commande pour JRE ainsi que pour les bits de Cassandra hello.</span><span class="sxs-lookup"><span data-stu-id="72690-332">Repeat hello above command for JRE as well as for hello Cassandra bits.</span></span>

#### <a name="step-2-prepare-hello-directory-structure-and-extract-hello-archives"></a><span data-ttu-id="72690-333">ÉTAPE 2 : Préparation de la structure de répertoire hello et extraire les archives hello</span><span class="sxs-lookup"><span data-stu-id="72690-333">STEP 2: Prepare hello directory structure and extract hello archives</span></span>
<span data-ttu-id="72690-334">Se connecter à la machine virtuelle de hello et créer la structure de répertoire hello et extraire le logiciel en tant que super utilisateur à l’aide d’un script d’interpréteur de commandes hello ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="72690-334">Log into hello VM and create hello directory structure and extract software as a super user using hello bash script below:</span></span>

    #!/bin/bash
    CASS_INSTALL_DIR="/opt/cassandra"
    JRE_INSTALL_DIR="/opt/java"
    CASS_DATA_DIR="/var/lib/cassandra"
    CASS_LOG_DIR="/var/log/cassandra"
    DOWNLOADS_DIR="~/downloads"
    JRE_TARBALL="server-jre-8u5-linux-x64.tar.gz"
    CASS_TARBALL="apache-cassandra-2.0.8-bin.tar.gz"
    SVC_USER="localadmin"

    RESET_ERROR=1
    MKDIR_ERROR=2

    reset_installation ()
    {
       rm -rf $CASS_INSTALL_DIR 2> /dev/null
       rm -rf $JRE_INSTALL_DIR 2> /dev/null
       rm -rf $CASS_DATA_DIR 2> /dev/null
       rm -rf $CASS_LOG_DIR 2> /dev/null
    }
    make_dir ()
    {
       if [ -z "$1" ]
       then
          echo "make_dir: invalid directory name"
          exit $MKDIR_ERROR
       fi

       if [ -d "$1" ]
       then
          echo "make_dir: directory already exists"
          exit $MKDIR_ERROR
       fi

       mkdir $1 2>/dev/null
       if [ $? != 0 ]
       then
          echo "directory creation failed"
          exit $MKDIR_ERROR
       fi
    }

    unzip()
    {
       if [ $# == 2 ]
       then
          tar xzf $1 -C $2
       else
          echo "archive error"
       fi

    }

    if [ -n "$1" ]
    then
       SVC_USER=$1
    fi

    reset_installation
    make_dir $CASS_INSTALL_DIR
    make_dir $JRE_INSTALL_DIR
    make_dir $CASS_DATA_DIR
    make_dir $CASS_LOG_DIR

    #unzip JRE and Cassandra
    unzip $HOME/downloads/$JRE_TARBALL $JRE_INSTALL_DIR
    unzip $HOME/downloads/$CASS_TARBALL $CASS_INSTALL_DIR

    #Change hello ownership toohello service credentials

    chown -R $SVC_USER:$GROUP $CASS_DATA_DIR
    chown -R $SVC_USER:$GROUP $CASS_LOG_DIR
    echo "edit /etc/profile tooadd JRE toohello PATH"
    echo "installation is complete"


<span data-ttu-id="72690-335">Si vous collez ce script dans la fenêtre de vim, rendre chariot de hello tooremove que retour ('\r ») à l’aide de hello de commande suivante :</span><span class="sxs-lookup"><span data-stu-id="72690-335">If you paste this script into vim window, make sure tooremove hello carriage return (‘\r”) using hello following command:</span></span>

    tr -d '\r' <infile.sh >outfile.sh

#### <a name="step-3-edit-etcprofile"></a><span data-ttu-id="72690-336">Étape 3 : Modification de etc/profile</span><span class="sxs-lookup"><span data-stu-id="72690-336">Step 3: Edit etc/profile</span></span>
<span data-ttu-id="72690-337">Ajouter suivant hello à fin de hello :</span><span class="sxs-lookup"><span data-stu-id="72690-337">Append hello following at hello end:</span></span>

    JAVA_HOME=/opt/java/jdk1.8.0_05
    CASS_HOME= /opt/cassandra/apache-cassandra-2.0.8
    PATH=$PATH:$HOME/bin:$JAVA_HOME/bin:$CASS_HOME/bin
    export JAVA_HOME
    export CASS_HOME
    export PATH

#### <a name="step-4-install-jna-for-production-systems"></a><span data-ttu-id="72690-338">Étape 4 : Installation de JNA pour les systèmes de production</span><span class="sxs-lookup"><span data-stu-id="72690-338">Step 4: Install JNA for production systems</span></span>
<span data-ttu-id="72690-339">Séquence de commandes suivante de hello utilisation : suivant de hello commande installation jna-3.2.7.jar et jna-platform-3.2.7.jar too/usr/share.java répertoire sudo apt-get installera libjna java</span><span class="sxs-lookup"><span data-stu-id="72690-339">Use hello following command sequence: hello following command will install jna-3.2.7.jar and jna-platform-3.2.7.jar too/usr/share.java directory sudo apt-get install libjna-java</span></span>

<span data-ttu-id="72690-340">Créez des liens symboliques dans le répertoire $CASS_HOME/lib pour que le script de démarrage Cassandra puisse trouver ces fichiers JAR :</span><span class="sxs-lookup"><span data-stu-id="72690-340">Create symbolic links in $CASS_HOME/lib directory so that Cassandra startup script can find these jars:</span></span>

    ln -s /usr/share/java/jna-3.2.7.jar $CASS_HOME/lib/jna.jar

    ln -s /usr/share/java/jna-platform-3.2.7.jar $CASS_HOME/lib/jna-platform.jar

#### <a name="step-5-configure-cassandrayaml"></a><span data-ttu-id="72690-341">Étape 5 : Configuration de cassandra.yaml</span><span class="sxs-lookup"><span data-stu-id="72690-341">Step 5: Configure cassandra.yaml</span></span>
<span data-ttu-id="72690-342">Modifiez cassandra.yaml sur chaque configuration d’ordinateur virtuel tooreflect requise par tous les ordinateurs virtuels de hello [nous sera le modifier lors de la configuration réelle hello] :</span><span class="sxs-lookup"><span data-stu-id="72690-342">Edit cassandra.yaml on each VM tooreflect configuration needed by all hello virtual machines [we will tweak this during hello actual provisioning]:</span></span>

<table>
<tr><th><span data-ttu-id="72690-343">Nom du champ</span><span class="sxs-lookup"><span data-stu-id="72690-343">Field Name</span></span>   </th><th> <span data-ttu-id="72690-344">Valeur</span><span class="sxs-lookup"><span data-stu-id="72690-344">Value</span></span>  </th><th>    <span data-ttu-id="72690-345">Remarques</span><span class="sxs-lookup"><span data-stu-id="72690-345">Remarks</span></span> </th></tr>
<tr><td><span data-ttu-id="72690-346">nom_cluster</span><span class="sxs-lookup"><span data-stu-id="72690-346">cluster_name</span></span> </td><td>    <span data-ttu-id="72690-347">« CustomerService »</span><span class="sxs-lookup"><span data-stu-id="72690-347">“CustomerService”</span></span>    </td><td> <span data-ttu-id="72690-348">Utiliser le nom hello qui reflète votre déploiement</span><span class="sxs-lookup"><span data-stu-id="72690-348">Use hello name that reflects your deployment</span></span></td></tr>
<tr><td><span data-ttu-id="72690-349">listen_address</span><span class="sxs-lookup"><span data-stu-id="72690-349">listen_address</span></span>    </td><td><span data-ttu-id="72690-350">[laissez cette valeur vide]</span><span class="sxs-lookup"><span data-stu-id="72690-350">[leave it blank]</span></span>    </td><td> <span data-ttu-id="72690-351">Supprimez « localhost »</span><span class="sxs-lookup"><span data-stu-id="72690-351">Delete “localhost”</span></span> </td></tr>
<tr><td><span data-ttu-id="72690-352">rpc_addres</span><span class="sxs-lookup"><span data-stu-id="72690-352">rpc_addres</span></span>   </td><td><span data-ttu-id="72690-353">[laissez cette valeur vide]</span><span class="sxs-lookup"><span data-stu-id="72690-353">[leave it blank]</span></span>    </td><td> <span data-ttu-id="72690-354">Supprimez « localhost »</span><span class="sxs-lookup"><span data-stu-id="72690-354">Delete “localhost”</span></span> </td></tr>
<tr><td><span data-ttu-id="72690-355">valeurs initiales</span><span class="sxs-lookup"><span data-stu-id="72690-355">seeds</span></span>    </td><td><span data-ttu-id="72690-356">« 10.1.2.4, 10.1.2.6, 10.1.2.8 »</span><span class="sxs-lookup"><span data-stu-id="72690-356">"10.1.2.4, 10.1.2.6, 10.1.2.8"</span></span>    </td><td><span data-ttu-id="72690-357">Liste de toutes les adresses IP hello sont désignés comme valeurs initiales.</span><span class="sxs-lookup"><span data-stu-id="72690-357">List of  all hello IP addresses which are designated as seeds.</span></span></td></tr>
<tr><td><span data-ttu-id="72690-358">endpoint_snitch</span><span class="sxs-lookup"><span data-stu-id="72690-358">endpoint_snitch</span></span> </td><td> <span data-ttu-id="72690-359">org.apache.cassandra.locator.GossipingPropertyFileSnitch</span><span class="sxs-lookup"><span data-stu-id="72690-359">org.apache.cassandra.locator.GossipingPropertyFileSnitch</span></span> </td><td> <span data-ttu-id="72690-360">Il est utilisé par hello NetworkTopologyStrateg inférence hello centre de données et rack hello Hello machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="72690-360">This is used by hello NetworkTopologyStrateg for inferring hello data center and hello rack of hello VM</span></span></td></tr>
</table>

#### <a name="step-6-capture-hello-vm-image"></a><span data-ttu-id="72690-361">Étape 6 : Capturer l’image de machine virtuelle hello</span><span class="sxs-lookup"><span data-stu-id="72690-361">Step 6: Capture hello VM image</span></span>
<span data-ttu-id="72690-362">Connectez-vous à l’ordinateur virtuel de hello à l’aide du nom d’hôte hello (hk-autorités de certification-template.cloudapp.net) et la clé privée SSH hello créé précédemment.</span><span class="sxs-lookup"><span data-stu-id="72690-362">Log into hello virtual machine using hello hostname (hk-cas-template.cloudapp.net) and hello SSH private key previously created.</span></span> <span data-ttu-id="72690-363">Consultez Comment tooUse SSH avec Linux sur Azure pour plus d’informations sur comment toolog à l’aide de hello commande ssh ou putty.exe.</span><span class="sxs-lookup"><span data-stu-id="72690-363">See How tooUse SSH with Linux on Azure for details on how toolog in using hello command ssh or putty.exe.</span></span>

<span data-ttu-id="72690-364">Exécutez hello suivant la séquence d’image de hello toocapture actions :</span><span class="sxs-lookup"><span data-stu-id="72690-364">Execute hello following sequence of actions toocapture hello image:</span></span>

##### <a name="1-deprovision"></a><span data-ttu-id="72690-365">1. annulation du déploiement</span><span class="sxs-lookup"><span data-stu-id="72690-365">1. Deprovision</span></span>
<span data-ttu-id="72690-366">Utilisez la commande hello « sudo waagent – deprovision + utilisateur » tooremove d’informations sur l’ordinateur virtuel instance spécifiques.</span><span class="sxs-lookup"><span data-stu-id="72690-366">Use hello command “sudo waagent –deprovision+user” tooremove Virtual Machine instance specific information.</span></span> <span data-ttu-id="72690-367">Consultez pour [comment tooCapture une Machine virtuelle Linux](capture-image.md) tooUse en tant que modèle plus d’informations sur les processus de capture d’image hello.</span><span class="sxs-lookup"><span data-stu-id="72690-367">See for [How tooCapture a Linux Virtual Machine](capture-image.md) tooUse as a Template more details on hello image capture process.</span></span>

##### <a name="2-shutdown-hello-vm"></a><span data-ttu-id="72690-368">2 : hello d’arrêt machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="72690-368">2: Shutdown hello VM</span></span>
<span data-ttu-id="72690-369">Assurez-vous que l’ordinateur virtuel hello est mis en surbrillance, puis cliquez sur lien d’arrêt hello à partir de la barre de commandes bas hello.</span><span class="sxs-lookup"><span data-stu-id="72690-369">Make sure that hello virtual machine is highlighted and click hello SHUTDOWN link from hello bottom command bar.</span></span>

##### <a name="3-capture-hello-image"></a><span data-ttu-id="72690-370">3 : image de capture hello</span><span class="sxs-lookup"><span data-stu-id="72690-370">3: Capture hello image</span></span>
<span data-ttu-id="72690-371">Assurez-vous que l’ordinateur virtuel hello est mis en surbrillance, puis cliquez sur lien CAPTURE hello à partir de la barre de commandes bas hello.</span><span class="sxs-lookup"><span data-stu-id="72690-371">Make sure that hello virtual machine is highlighted and click hello CAPTURE link from hello bottom command bar.</span></span> <span data-ttu-id="72690-372">Dans l’écran suivant de hello, donnez un nom d’IMAGE (par exemple, hk-cas-2-08-ub-14-04-2014071), approprié à la DESCRIPTION de l’IMAGE, cliquez sur processus de CAPTURE hello « vérification » marque toofinish hello.</span><span class="sxs-lookup"><span data-stu-id="72690-372">In hello next screen, give an IMAGE NAME (e.g. hk-cas-2-08-ub-14-04-2014071), appropriate IMAGE DESCRIPTION, and click hello “check” mark toofinish hello CAPTURE process.</span></span>

<span data-ttu-id="72690-373">Cette opération prendra quelques secondes et l’image de hello doit être disponible dans la section Mes IMAGES de galerie d’images hello.</span><span class="sxs-lookup"><span data-stu-id="72690-373">This will take a few seconds and hello image should be available in MY IMAGES section of hello image gallery.</span></span> <span data-ttu-id="72690-374">machine virtuelle de la source Hello est automatiquement supprimé une fois l’image de hello est capturée.</span><span class="sxs-lookup"><span data-stu-id="72690-374">hello source VM will be automatically deleted after hello image is successfully captured.</span></span> 

## <a name="single-region-deployment-process"></a><span data-ttu-id="72690-375">Processus de déploiement dans une seule région</span><span class="sxs-lookup"><span data-stu-id="72690-375">Single Region Deployment Process</span></span>
<span data-ttu-id="72690-376">**Étape 1 : Créer le réseau virtuel de hello** connecter hello portail Azure et créez un réseau virtuel (classique) avec des attributs hello illustré hello tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="72690-376">**Step 1: Create hello Virtual Network** Log into hello Azure portal and create a virtual network (classic) with hello attributes shown in hello following table.</span></span> <span data-ttu-id="72690-377">Consultez [créer un réseau virtuel (classiques) à l’aide de hello portail Azure](../../../virtual-network/virtual-networks-create-vnet-classic-pportal.md) pour les étapes détaillées du processus de hello.</span><span class="sxs-lookup"><span data-stu-id="72690-377">See [Create a virtual network (classic) using hello Azure portal](../../../virtual-network/virtual-networks-create-vnet-classic-pportal.md) for detailed steps of hello process.</span></span>      

<table>
<tr><th><span data-ttu-id="72690-378">Nom d'attribut de machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="72690-378">VM Attribute Name</span></span></th><th><span data-ttu-id="72690-379">Valeur</span><span class="sxs-lookup"><span data-stu-id="72690-379">Value</span></span></th><th><span data-ttu-id="72690-380">Remarques</span><span class="sxs-lookup"><span data-stu-id="72690-380">Remarks</span></span></th></tr>
<tr><td><span data-ttu-id="72690-381">Name</span><span class="sxs-lookup"><span data-stu-id="72690-381">Name</span></span></td><td><span data-ttu-id="72690-382">vnet-cass-west-us</span><span class="sxs-lookup"><span data-stu-id="72690-382">vnet-cass-west-us</span></span></td><td></td></tr>
<tr><td><span data-ttu-id="72690-383">Région</span><span class="sxs-lookup"><span data-stu-id="72690-383">Region</span></span></td><td><span data-ttu-id="72690-384">Ouest des États-Unis</span><span class="sxs-lookup"><span data-stu-id="72690-384">West US</span></span></td><td></td></tr>
<tr><td><span data-ttu-id="72690-385">Serveurs DNS</span><span class="sxs-lookup"><span data-stu-id="72690-385">DNS Servers</span></span></td><td><span data-ttu-id="72690-386">Aucun</span><span class="sxs-lookup"><span data-stu-id="72690-386">None</span></span></td><td><span data-ttu-id="72690-387">Ignorez cet attribut, car nous n'utilisons pas de serveur DNS</span><span class="sxs-lookup"><span data-stu-id="72690-387">Ignore this as we are not using a DNS Server</span></span></td></tr>
<tr><td><span data-ttu-id="72690-388">Espace d'adressage</span><span class="sxs-lookup"><span data-stu-id="72690-388">Address Space</span></span></td><td><span data-ttu-id="72690-389">10.1.0.0/16</span><span class="sxs-lookup"><span data-stu-id="72690-389">10.1.0.0/16</span></span></td><td></td></tr>    
<tr><td><span data-ttu-id="72690-390">Adresse IP de départ</span><span class="sxs-lookup"><span data-stu-id="72690-390">Starting IP</span></span></td><td><span data-ttu-id="72690-391">10.1.0.0</span><span class="sxs-lookup"><span data-stu-id="72690-391">10.1.0.0</span></span></td><td></td></tr>    
<tr><td><span data-ttu-id="72690-392">CIDR</span><span class="sxs-lookup"><span data-stu-id="72690-392">CIDR</span></span> </td><td><span data-ttu-id="72690-393">/16 (65531)</span><span class="sxs-lookup"><span data-stu-id="72690-393">/16 (65531)</span></span></td><td></td></tr>
</table>

<span data-ttu-id="72690-394">Ajoutez hello suivant sous-réseaux :</span><span class="sxs-lookup"><span data-stu-id="72690-394">Add hello following subnets:</span></span>

<table>
<tr><th><span data-ttu-id="72690-395">Nom</span><span class="sxs-lookup"><span data-stu-id="72690-395">Name</span></span></th><th><span data-ttu-id="72690-396">Adresse IP de départ</span><span class="sxs-lookup"><span data-stu-id="72690-396">Starting IP</span></span></th><th><span data-ttu-id="72690-397">CIDR</span><span class="sxs-lookup"><span data-stu-id="72690-397">CIDR</span></span></th><th><span data-ttu-id="72690-398">Remarques</span><span class="sxs-lookup"><span data-stu-id="72690-398">Remarks</span></span></th></tr>
<tr><td><span data-ttu-id="72690-399">web</span><span class="sxs-lookup"><span data-stu-id="72690-399">web</span></span></td><td><span data-ttu-id="72690-400">10.1.1.0</span><span class="sxs-lookup"><span data-stu-id="72690-400">10.1.1.0</span></span></td><td><span data-ttu-id="72690-401">/24 (251)</span><span class="sxs-lookup"><span data-stu-id="72690-401">/24 (251)</span></span></td><td><span data-ttu-id="72690-402">Sous-réseau pour la batterie de serveurs web hello</span><span class="sxs-lookup"><span data-stu-id="72690-402">Subnet for hello web farm</span></span></td></tr>
<tr><td><span data-ttu-id="72690-403">données</span><span class="sxs-lookup"><span data-stu-id="72690-403">data</span></span></td><td><span data-ttu-id="72690-404">10.1.1.0</span><span class="sxs-lookup"><span data-stu-id="72690-404">10.1.2.0</span></span></td><td><span data-ttu-id="72690-405">/24 (251)</span><span class="sxs-lookup"><span data-stu-id="72690-405">/24 (251)</span></span></td><td><span data-ttu-id="72690-406">Sous-réseau pour les nœuds de base de données hello</span><span class="sxs-lookup"><span data-stu-id="72690-406">Subnet for hello database nodes</span></span></td></tr>
</table>

<span data-ttu-id="72690-407">Données et les sous-réseaux Web peuvent être protégés par le biais des groupes de sécurité réseau couverture hello qui est hors de portée pour cet article.</span><span class="sxs-lookup"><span data-stu-id="72690-407">Data and Web subnets can be protected through network security groups hello coverage of which is out of scope for this article.</span></span>  

<span data-ttu-id="72690-408">**Étape 2 : Configurer les Machines virtuelles** à l’aide d’image hello créé précédemment, nous créer hello suivant des machines virtuelles dans le cloud de hello serveur « hk-c-svc-ouest » et lier les sous-réseaux toohello comme indiqué ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="72690-408">**Step 2: Provision Virtual Machines** Using hello image created previously, we will create hello following virtual machines in hello cloud server “hk-c-svc-west” and bind them toohello respective subnets as shown below:</span></span>

<table>
<tr><th><span data-ttu-id="72690-409">Nom de la machine</span><span class="sxs-lookup"><span data-stu-id="72690-409">Machine Name</span></span>    </th><th><span data-ttu-id="72690-410">Sous-réseau</span><span class="sxs-lookup"><span data-stu-id="72690-410">Subnet</span></span>    </th><th><span data-ttu-id="72690-411">Adresse IP</span><span class="sxs-lookup"><span data-stu-id="72690-411">IP Address</span></span>    </th><th><span data-ttu-id="72690-412">Groupe à haute disponibilité</span><span class="sxs-lookup"><span data-stu-id="72690-412">Availability set</span></span></th><th><span data-ttu-id="72690-413">Contrôleur de domaine ou rack</span><span class="sxs-lookup"><span data-stu-id="72690-413">DC/Rack</span></span></th><th><span data-ttu-id="72690-414">Initial ?</span><span class="sxs-lookup"><span data-stu-id="72690-414">Seed?</span></span></th></tr>
<tr><td><span data-ttu-id="72690-415">hk-c1-west-us</span><span class="sxs-lookup"><span data-stu-id="72690-415">hk-c1-west-us</span></span>    </td><td><span data-ttu-id="72690-416">données</span><span class="sxs-lookup"><span data-stu-id="72690-416">data</span></span>    </td><td><span data-ttu-id="72690-417">10.1.2.4</span><span class="sxs-lookup"><span data-stu-id="72690-417">10.1.2.4</span></span>    </td><td><span data-ttu-id="72690-418">hk-c-aset-1</span><span class="sxs-lookup"><span data-stu-id="72690-418">hk-c-aset-1</span></span>    </td><td><span data-ttu-id="72690-419">dc =WESTUS rack =rack1</span><span class="sxs-lookup"><span data-stu-id="72690-419">dc =WESTUS rack =rack1</span></span> </td><td><span data-ttu-id="72690-420">Oui</span><span class="sxs-lookup"><span data-stu-id="72690-420">Yes</span></span></td></tr>
<tr><td><span data-ttu-id="72690-421">hk-c2-west-us</span><span class="sxs-lookup"><span data-stu-id="72690-421">hk-c2-west-us</span></span>    </td><td><span data-ttu-id="72690-422">données</span><span class="sxs-lookup"><span data-stu-id="72690-422">data</span></span>    </td><td><span data-ttu-id="72690-423">10.1.2.5</span><span class="sxs-lookup"><span data-stu-id="72690-423">10.1.2.5</span></span>    </td><td><span data-ttu-id="72690-424">hk-c-aset-1</span><span class="sxs-lookup"><span data-stu-id="72690-424">hk-c-aset-1</span></span>    </td><td><span data-ttu-id="72690-425">dc =WESTUS rack =rack1</span><span class="sxs-lookup"><span data-stu-id="72690-425">dc =WESTUS rack =rack1</span></span>    </td><td><span data-ttu-id="72690-426">Non</span><span class="sxs-lookup"><span data-stu-id="72690-426">No</span></span> </td></tr>
<tr><td><span data-ttu-id="72690-427">hk-c3-west-us</span><span class="sxs-lookup"><span data-stu-id="72690-427">hk-c3-west-us</span></span>    </td><td><span data-ttu-id="72690-428">données</span><span class="sxs-lookup"><span data-stu-id="72690-428">data</span></span>    </td><td><span data-ttu-id="72690-429">10.1.2.6</span><span class="sxs-lookup"><span data-stu-id="72690-429">10.1.2.6</span></span>    </td><td><span data-ttu-id="72690-430">hk-c-aset-1</span><span class="sxs-lookup"><span data-stu-id="72690-430">hk-c-aset-1</span></span>    </td><td><span data-ttu-id="72690-431">dc =WESTUS rack =rack2</span><span class="sxs-lookup"><span data-stu-id="72690-431">dc =WESTUS rack =rack2</span></span>    </td><td><span data-ttu-id="72690-432">Oui</span><span class="sxs-lookup"><span data-stu-id="72690-432">Yes</span></span></td></tr>
<tr><td><span data-ttu-id="72690-433">hk-c4-west-us</span><span class="sxs-lookup"><span data-stu-id="72690-433">hk-c4-west-us</span></span>    </td><td><span data-ttu-id="72690-434">données</span><span class="sxs-lookup"><span data-stu-id="72690-434">data</span></span>    </td><td><span data-ttu-id="72690-435">10.1.2.7</span><span class="sxs-lookup"><span data-stu-id="72690-435">10.1.2.7</span></span>    </td><td><span data-ttu-id="72690-436">hk-c-aset-1</span><span class="sxs-lookup"><span data-stu-id="72690-436">hk-c-aset-1</span></span>    </td><td><span data-ttu-id="72690-437">dc =WESTUS rack =rack2</span><span class="sxs-lookup"><span data-stu-id="72690-437">dc =WESTUS rack =rack2</span></span>    </td><td><span data-ttu-id="72690-438">Non</span><span class="sxs-lookup"><span data-stu-id="72690-438">No</span></span> </td></tr>
<tr><td><span data-ttu-id="72690-439">hk-c5-west-us</span><span class="sxs-lookup"><span data-stu-id="72690-439">hk-c5-west-us</span></span>    </td><td><span data-ttu-id="72690-440">données</span><span class="sxs-lookup"><span data-stu-id="72690-440">data</span></span>    </td><td><span data-ttu-id="72690-441">10.1.2.8</span><span class="sxs-lookup"><span data-stu-id="72690-441">10.1.2.8</span></span>    </td><td><span data-ttu-id="72690-442">hk-c-aset-2</span><span class="sxs-lookup"><span data-stu-id="72690-442">hk-c-aset-2</span></span>    </td><td><span data-ttu-id="72690-443">dc =WESTUS rack =rack3</span><span class="sxs-lookup"><span data-stu-id="72690-443">dc =WESTUS rack =rack3</span></span>    </td><td><span data-ttu-id="72690-444">Oui</span><span class="sxs-lookup"><span data-stu-id="72690-444">Yes</span></span></td></tr>
<tr><td><span data-ttu-id="72690-445">hk-c6-west-us</span><span class="sxs-lookup"><span data-stu-id="72690-445">hk-c6-west-us</span></span>    </td><td><span data-ttu-id="72690-446">données</span><span class="sxs-lookup"><span data-stu-id="72690-446">data</span></span>    </td><td><span data-ttu-id="72690-447">10.1.2.9</span><span class="sxs-lookup"><span data-stu-id="72690-447">10.1.2.9</span></span>    </td><td><span data-ttu-id="72690-448">hk-c-aset-2</span><span class="sxs-lookup"><span data-stu-id="72690-448">hk-c-aset-2</span></span>    </td><td><span data-ttu-id="72690-449">dc =WESTUS rack =rack3</span><span class="sxs-lookup"><span data-stu-id="72690-449">dc =WESTUS rack =rack3</span></span>    </td><td><span data-ttu-id="72690-450">Non</span><span class="sxs-lookup"><span data-stu-id="72690-450">No</span></span> </td></tr>
<tr><td><span data-ttu-id="72690-451">hk-c7-west-us</span><span class="sxs-lookup"><span data-stu-id="72690-451">hk-c7-west-us</span></span>    </td><td><span data-ttu-id="72690-452">données</span><span class="sxs-lookup"><span data-stu-id="72690-452">data</span></span>    </td><td><span data-ttu-id="72690-453">10.1.2.10</span><span class="sxs-lookup"><span data-stu-id="72690-453">10.1.2.10</span></span>    </td><td><span data-ttu-id="72690-454">hk-c-aset-2</span><span class="sxs-lookup"><span data-stu-id="72690-454">hk-c-aset-2</span></span>    </td><td><span data-ttu-id="72690-455">dc =WESTUS rack =rack4</span><span class="sxs-lookup"><span data-stu-id="72690-455">dc =WESTUS rack =rack4</span></span>    </td><td><span data-ttu-id="72690-456">Oui</span><span class="sxs-lookup"><span data-stu-id="72690-456">Yes</span></span></td></tr>
<tr><td><span data-ttu-id="72690-457">hk-c8-west-us</span><span class="sxs-lookup"><span data-stu-id="72690-457">hk-c8-west-us</span></span>    </td><td><span data-ttu-id="72690-458">données</span><span class="sxs-lookup"><span data-stu-id="72690-458">data</span></span>    </td><td><span data-ttu-id="72690-459">10.1.2.11</span><span class="sxs-lookup"><span data-stu-id="72690-459">10.1.2.11</span></span>    </td><td><span data-ttu-id="72690-460">hk-c-aset-2</span><span class="sxs-lookup"><span data-stu-id="72690-460">hk-c-aset-2</span></span>    </td><td><span data-ttu-id="72690-461">dc =WESTUS rack =rack4</span><span class="sxs-lookup"><span data-stu-id="72690-461">dc =WESTUS rack =rack4</span></span>    </td><td><span data-ttu-id="72690-462">Non</span><span class="sxs-lookup"><span data-stu-id="72690-462">No</span></span> </td></tr>
<tr><td><span data-ttu-id="72690-463">hk-w1-west-us</span><span class="sxs-lookup"><span data-stu-id="72690-463">hk-w1-west-us</span></span>    </td><td><span data-ttu-id="72690-464">web</span><span class="sxs-lookup"><span data-stu-id="72690-464">web</span></span>    </td><td><span data-ttu-id="72690-465">10.1.1.4</span><span class="sxs-lookup"><span data-stu-id="72690-465">10.1.1.4</span></span>    </td><td><span data-ttu-id="72690-466">hk-w-aset-1</span><span class="sxs-lookup"><span data-stu-id="72690-466">hk-w-aset-1</span></span>    </td><td>                       </td><td><span data-ttu-id="72690-467">N/A</span><span class="sxs-lookup"><span data-stu-id="72690-467">N/A</span></span></td></tr>
<tr><td><span data-ttu-id="72690-468">hk-w2-west-us</span><span class="sxs-lookup"><span data-stu-id="72690-468">hk-w2-west-us</span></span>    </td><td><span data-ttu-id="72690-469">web</span><span class="sxs-lookup"><span data-stu-id="72690-469">web</span></span>    </td><td><span data-ttu-id="72690-470">10.1.1.5</span><span class="sxs-lookup"><span data-stu-id="72690-470">10.1.1.5</span></span>    </td><td><span data-ttu-id="72690-471">hk-w-aset-1</span><span class="sxs-lookup"><span data-stu-id="72690-471">hk-w-aset-1</span></span>    </td><td>                       </td><td><span data-ttu-id="72690-472">N/A</span><span class="sxs-lookup"><span data-stu-id="72690-472">N/A</span></span></td></tr>
</table>

<span data-ttu-id="72690-473">La création de hello au-dessus de la liste des machines virtuelles requiert hello suivant processus :</span><span class="sxs-lookup"><span data-stu-id="72690-473">Creation of hello above list of VMs requires hello following process:</span></span>

1. <span data-ttu-id="72690-474">Création d'un service cloud vide dans une région particulière</span><span class="sxs-lookup"><span data-stu-id="72690-474">Create an empty cloud service in a particular region</span></span>
2. <span data-ttu-id="72690-475">Créer une machine virtuelle à partir de l’image capturée précédemment de hello et en l’attachant toohello de réseau virtuel créé précédemment. Répétez cette étape pour tous les ordinateurs virtuels de hello</span><span class="sxs-lookup"><span data-stu-id="72690-475">Create a VM from hello previously captured image and attach it toohello virtual network created previously; repeat this for all hello VMs</span></span>
3. <span data-ttu-id="72690-476">Ajouter un service cloud toohello d’équilibrage de charge interne et en l’attachant sous-réseau de toohello « données »</span><span class="sxs-lookup"><span data-stu-id="72690-476">Add an internal load balancer toohello cloud service and attach it toohello “data” subnet</span></span>
4. <span data-ttu-id="72690-477">Pour chaque machine virtuelle créée précédemment, ajoutez un point de terminaison à charge équilibrée pour le trafic via un équilibreur de charge interne à charge équilibrée ensemble connecté toohello créé précédemment thrift</span><span class="sxs-lookup"><span data-stu-id="72690-477">For each VM created previously, add a load balanced endpoint for thrift traffic through a load balanced set connected toohello previously created internal load balancer</span></span>

<span data-ttu-id="72690-478">Hello au-dessus de processus peut être exécutée à l’aide du portail Azure classic ; utiliser un ordinateur Windows (utilisez un ordinateur virtuel sur Azure si vous n’avez pas machine virtuelle Windows tooa accès), utilisez, hello suivant tooprovision de script PowerShell toutes les machines 8 virtuelles automatiquement.</span><span class="sxs-lookup"><span data-stu-id="72690-478">hello above process can be executed using Azure classic portal; use a Windows machine (use a VM on Azure if you don't have access tooa Windows machine), use hello following PowerShell script tooprovision all 8 VMs automatically.</span></span>

<span data-ttu-id="72690-479">**Liste 1 : script PowerShell pour l’approvisionnement des machines virtuelles**</span><span class="sxs-lookup"><span data-stu-id="72690-479">**List 1: PowerShell script for provisioning virtual machines**</span></span>

        #Tested with Azure Powershell - November 2014
        #This powershell script deployes a number of VMs from an existing image inside an Azure region
        #Import your Azure subscription into hello current Powershell session before proceeding
        #hello process: 1. create Azure Storage account, 2. create virtual network, 3.create hello VM template, 2. crate a list of VMs from hello template

        #fundamental variables - change these tooreflect your subscription
        $country="us"; $region="west"; $vnetName = "your_vnet_name";$storageAccount="your_storage_account"
        $numVMs=8;$prefix = "hk-cass";$ilbIP="your_ilb_ip"
        $subscriptionName = "Azure_subscription_name";
        $vmSize="ExtraSmall"; $imageName="your_linux_image_name"
        $ilbName="ThriftInternalLB"; $thriftEndPoint="ThriftEndPoint"

        #generated variables
        $serviceName = "$prefix-svc-$region-$country"; $azureRegion = "$region $country"

        $vmNames = @()
        for ($i=0; $i -lt $numVMs; $i++)
        {
           $vmNames+=("$prefix-vm"+($i+1) + "-$region-$country" );
        }

        #select an Azure subscription already imported into Powershell session
        Select-AzureSubscription -SubscriptionName $subscriptionName -Current
        Set-AzureSubscription -SubscriptionName $subscriptionName -CurrentStorageAccountName $storageAccount

        #create an empty cloud service
        New-AzureService -ServiceName $serviceName -Label "hkcass$region" -Location $azureRegion
        Write-Host "Created $serviceName"

        $VMList= @()   # stores hello list of azure vm configuration objects
        #create hello list of VMs
        foreach($vmName in $vmNames)
        {
           $VMList += New-AzureVMConfig -Name $vmName -InstanceSize ExtraSmall -ImageName $imageName |
           Add-AzureProvisioningConfig -Linux -LinuxUser "localadmin" -Password "Local123" |
           Set-AzureSubnet "data"
        }

        New-AzureVM -ServiceName $serviceName -VNetName $vnetName -VMs $VMList

        #Create internal load balancer
        Add-AzureInternalLoadBalancer -ServiceName $serviceName -InternalLoadBalancerName $ilbName -SubnetName "data" -StaticVNetIPAddress "$ilbIP"
        Write-Host "Created $ilbName"
        #Add add hello thrift endpoint toohello internal load balancer for all hello VMs
        foreach($vmName in $vmNames)
        {
            Get-AzureVM -ServiceName $serviceName -Name $vmName |
                Add-AzureEndpoint -Name $thriftEndPoint -LBSetName "ThriftLBSet" -Protocol tcp -LocalPort 9160 -PublicPort 9160 -ProbePort 9160 -ProbeProtocol tcp -ProbeIntervalInSeconds 10 -InternalLoadBalancerName $ilbName |
                Update-AzureVM

            Write-Host "created $vmName"     
        }

<span data-ttu-id="72690-480">**Étape 3 : Configuration de Cassandra sur chaque machine virtuelle**</span><span class="sxs-lookup"><span data-stu-id="72690-480">**Step 3: Configure Cassandra on each VM**</span></span>

<span data-ttu-id="72690-481">Se connecter à la machine virtuelle de hello et hello suivants :</span><span class="sxs-lookup"><span data-stu-id="72690-481">Log into hello VM and perform hello following:</span></span>

* <span data-ttu-id="72690-482">Modifiez $CASS_HOME/conf/cassandra-rackdc.properties toospecify hello centre et rack propriétés de données :</span><span class="sxs-lookup"><span data-stu-id="72690-482">Edit $CASS_HOME/conf/cassandra-rackdc.properties toospecify hello data center and rack properties:</span></span>
  
       dc =EASTUS, rack =rack1
* <span data-ttu-id="72690-483">Modifier des nœuds de valeur initiale cassandra.yaml tooconfigure comme indiqué ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="72690-483">Edit cassandra.yaml tooconfigure seed nodes as below:</span></span>
  
       Seeds: "10.1.2.4,10.1.2.6,10.1.2.8,10.1.2.10"

<span data-ttu-id="72690-484">**Étape 4 : Démarrer des machines virtuelles de hello et tester hello de cluster**</span><span class="sxs-lookup"><span data-stu-id="72690-484">**Step 4: Start hello VMs and test hello cluster**</span></span>

<span data-ttu-id="72690-485">Ouvrez une session sur un des nœuds hello (par exemple, hk-c1-ouest-us) et en exécution hello suivant l’état du cluster de hello hello de toosee la commande :</span><span class="sxs-lookup"><span data-stu-id="72690-485">Log into one of hello nodes (e.g. hk-c1-west-us) and run hello following command toosee hello status of hello cluster:</span></span>

       nodetool –h 10.1.2.4 –p 7199 status

<span data-ttu-id="72690-486">Vous devez voir hello affichage similaire toohello une ci-dessous pour un cluster à 8 nœuds :</span><span class="sxs-lookup"><span data-stu-id="72690-486">You should see hello display similar toohello one below for an 8-node cluster:</span></span>

<table>
<tr><th><span data-ttu-id="72690-487">État</span><span class="sxs-lookup"><span data-stu-id="72690-487">Status</span></span></th><th><span data-ttu-id="72690-488">Adresse</span><span class="sxs-lookup"><span data-stu-id="72690-488">Address</span></span>    </th><th><span data-ttu-id="72690-489">charger</span><span class="sxs-lookup"><span data-stu-id="72690-489">Load</span></span>    </th><th><span data-ttu-id="72690-490">Jetons</span><span class="sxs-lookup"><span data-stu-id="72690-490">Tokens</span></span>    </th><th><span data-ttu-id="72690-491">Appartenance</span><span class="sxs-lookup"><span data-stu-id="72690-491">Owns</span></span> </th><th><span data-ttu-id="72690-492">ID de l'hôte</span><span class="sxs-lookup"><span data-stu-id="72690-492">Host ID</span></span>    </th><th><span data-ttu-id="72690-493">Rack</span><span class="sxs-lookup"><span data-stu-id="72690-493">Rack</span></span></th></tr>
<tr><th><span data-ttu-id="72690-494">UN</span><span class="sxs-lookup"><span data-stu-id="72690-494">UN</span></span>    </td><td><span data-ttu-id="72690-495">10.1.2.4</span><span class="sxs-lookup"><span data-stu-id="72690-495">10.1.2.4</span></span>     </td><td><span data-ttu-id="72690-496">87,81 Ko</span><span class="sxs-lookup"><span data-stu-id="72690-496">87.81 KB</span></span>    </td><td><span data-ttu-id="72690-497">256</span><span class="sxs-lookup"><span data-stu-id="72690-497">256</span></span>    </td><td><span data-ttu-id="72690-498">38,0%</span><span class="sxs-lookup"><span data-stu-id="72690-498">38.0%</span></span>    </td><td><span data-ttu-id="72690-499">GUID (supprimé)</span><span class="sxs-lookup"><span data-stu-id="72690-499">Guid (removed)</span></span></td><td><span data-ttu-id="72690-500">rack1</span><span class="sxs-lookup"><span data-stu-id="72690-500">rack1</span></span></td></tr>
<tr><th><span data-ttu-id="72690-501">UN</span><span class="sxs-lookup"><span data-stu-id="72690-501">UN</span></span>    </td><td><span data-ttu-id="72690-502">10.1.2.5</span><span class="sxs-lookup"><span data-stu-id="72690-502">10.1.2.5</span></span>     </td><td><span data-ttu-id="72690-503">41,08 Ko</span><span class="sxs-lookup"><span data-stu-id="72690-503">41.08 KB</span></span>    </td><td><span data-ttu-id="72690-504">256</span><span class="sxs-lookup"><span data-stu-id="72690-504">256</span></span>    </td><td><span data-ttu-id="72690-505">68,9 %</span><span class="sxs-lookup"><span data-stu-id="72690-505">68.9%</span></span>    </td><td><span data-ttu-id="72690-506">GUID (supprimé)</span><span class="sxs-lookup"><span data-stu-id="72690-506">Guid (removed)</span></span></td><td><span data-ttu-id="72690-507">rack1</span><span class="sxs-lookup"><span data-stu-id="72690-507">rack1</span></span></td></tr>
<tr><th><span data-ttu-id="72690-508">UN</span><span class="sxs-lookup"><span data-stu-id="72690-508">UN</span></span>    </td><td><span data-ttu-id="72690-509">10.1.2.6</span><span class="sxs-lookup"><span data-stu-id="72690-509">10.1.2.6</span></span>     </td><td><span data-ttu-id="72690-510">55,29 Ko</span><span class="sxs-lookup"><span data-stu-id="72690-510">55.29 KB</span></span>    </td><td><span data-ttu-id="72690-511">256</span><span class="sxs-lookup"><span data-stu-id="72690-511">256</span></span>    </td><td><span data-ttu-id="72690-512">68,8 %</span><span class="sxs-lookup"><span data-stu-id="72690-512">68.8%</span></span>    </td><td><span data-ttu-id="72690-513">GUID (supprimé)</span><span class="sxs-lookup"><span data-stu-id="72690-513">Guid (removed)</span></span></td><td><span data-ttu-id="72690-514">rack2</span><span class="sxs-lookup"><span data-stu-id="72690-514">rack2</span></span></td></tr>
<tr><th><span data-ttu-id="72690-515">UN</span><span class="sxs-lookup"><span data-stu-id="72690-515">UN</span></span>    </td><td><span data-ttu-id="72690-516">10.1.2.7</span><span class="sxs-lookup"><span data-stu-id="72690-516">10.1.2.7</span></span>     </td><td><span data-ttu-id="72690-517">55,29 Ko</span><span class="sxs-lookup"><span data-stu-id="72690-517">55.29 KB</span></span>    </td><td><span data-ttu-id="72690-518">256</span><span class="sxs-lookup"><span data-stu-id="72690-518">256</span></span>    </td><td><span data-ttu-id="72690-519">68,8 %</span><span class="sxs-lookup"><span data-stu-id="72690-519">68.8%</span></span>    </td><td><span data-ttu-id="72690-520">GUID (supprimé)</span><span class="sxs-lookup"><span data-stu-id="72690-520">Guid (removed)</span></span></td><td><span data-ttu-id="72690-521">rack2</span><span class="sxs-lookup"><span data-stu-id="72690-521">rack2</span></span></td></tr>
<tr><th><span data-ttu-id="72690-522">UN</span><span class="sxs-lookup"><span data-stu-id="72690-522">UN</span></span>    </td><td><span data-ttu-id="72690-523">10.1.2.8</span><span class="sxs-lookup"><span data-stu-id="72690-523">10.1.2.8</span></span>     </td><td><span data-ttu-id="72690-524">55,29 Ko</span><span class="sxs-lookup"><span data-stu-id="72690-524">55.29 KB</span></span>    </td><td><span data-ttu-id="72690-525">256</span><span class="sxs-lookup"><span data-stu-id="72690-525">256</span></span>    </td><td><span data-ttu-id="72690-526">68,8 %</span><span class="sxs-lookup"><span data-stu-id="72690-526">68.8%</span></span>    </td><td><span data-ttu-id="72690-527">GUID (supprimé)</span><span class="sxs-lookup"><span data-stu-id="72690-527">Guid (removed)</span></span></td><td><span data-ttu-id="72690-528">rack3</span><span class="sxs-lookup"><span data-stu-id="72690-528">rack3</span></span></td></tr>
<tr><th><span data-ttu-id="72690-529">UN</span><span class="sxs-lookup"><span data-stu-id="72690-529">UN</span></span>    </td><td><span data-ttu-id="72690-530">10.1.2.9</span><span class="sxs-lookup"><span data-stu-id="72690-530">10.1.2.9</span></span>     </td><td><span data-ttu-id="72690-531">55,29 Ko</span><span class="sxs-lookup"><span data-stu-id="72690-531">55.29 KB</span></span>    </td><td><span data-ttu-id="72690-532">256</span><span class="sxs-lookup"><span data-stu-id="72690-532">256</span></span>    </td><td><span data-ttu-id="72690-533">68,8 %</span><span class="sxs-lookup"><span data-stu-id="72690-533">68.8%</span></span>    </td><td><span data-ttu-id="72690-534">GUID (supprimé)</span><span class="sxs-lookup"><span data-stu-id="72690-534">Guid (removed)</span></span></td><td><span data-ttu-id="72690-535">rack3</span><span class="sxs-lookup"><span data-stu-id="72690-535">rack3</span></span></td></tr>
<tr><th><span data-ttu-id="72690-536">UN</span><span class="sxs-lookup"><span data-stu-id="72690-536">UN</span></span>    </td><td><span data-ttu-id="72690-537">10.1.2.10</span><span class="sxs-lookup"><span data-stu-id="72690-537">10.1.2.10</span></span>     </td><td><span data-ttu-id="72690-538">55,29 Ko</span><span class="sxs-lookup"><span data-stu-id="72690-538">55.29 KB</span></span>    </td><td><span data-ttu-id="72690-539">256</span><span class="sxs-lookup"><span data-stu-id="72690-539">256</span></span>    </td><td><span data-ttu-id="72690-540">68,8 %</span><span class="sxs-lookup"><span data-stu-id="72690-540">68.8%</span></span>    </td><td><span data-ttu-id="72690-541">GUID (supprimé)</span><span class="sxs-lookup"><span data-stu-id="72690-541">Guid (removed)</span></span></td><td><span data-ttu-id="72690-542">rack4</span><span class="sxs-lookup"><span data-stu-id="72690-542">rack4</span></span></td></tr>
<tr><th><span data-ttu-id="72690-543">UN</span><span class="sxs-lookup"><span data-stu-id="72690-543">UN</span></span>    </td><td><span data-ttu-id="72690-544">10.1.2.11</span><span class="sxs-lookup"><span data-stu-id="72690-544">10.1.2.11</span></span>     </td><td><span data-ttu-id="72690-545">55,29 Ko</span><span class="sxs-lookup"><span data-stu-id="72690-545">55.29 KB</span></span>    </td><td><span data-ttu-id="72690-546">256</span><span class="sxs-lookup"><span data-stu-id="72690-546">256</span></span>    </td><td><span data-ttu-id="72690-547">68,8 %</span><span class="sxs-lookup"><span data-stu-id="72690-547">68.8%</span></span>    </td><td><span data-ttu-id="72690-548">GUID (supprimé)</span><span class="sxs-lookup"><span data-stu-id="72690-548">Guid (removed)</span></span></td><td><span data-ttu-id="72690-549">rack4</span><span class="sxs-lookup"><span data-stu-id="72690-549">rack4</span></span></td></tr>
</table>

## <a name="test-hello-single-region-cluster"></a><span data-ttu-id="72690-550">Hello de test Cluster région unique</span><span class="sxs-lookup"><span data-stu-id="72690-550">Test hello Single Region Cluster</span></span>
<span data-ttu-id="72690-551">Utilisez hello suivant du cluster de hello tootest comme suit :</span><span class="sxs-lookup"><span data-stu-id="72690-551">Use hello following steps tootest hello cluster:</span></span>

1. <span data-ttu-id="72690-552">À l’aide d’applet de commande Get-AzureInternalLoadbalancer hello Powershell commande, obtenir adresse hello d’équilibreur de charge interne hello (par exemple)  10.1.2.101).</span><span class="sxs-lookup"><span data-stu-id="72690-552">Using hello Powershell command Get-AzureInternalLoadbalancer commandlet, obtain hello IP address of hello internal load balancer (e.g.  10.1.2.101).</span></span> <span data-ttu-id="72690-553">syntaxe Hello de commande hello est indiqué ci-dessous : Get-AzureLoadbalancer – ServiceName « hk-c-svc-ouest-us » [affiche les détails de hello d’équilibrage de charge interne hello, ainsi que son adresse IP]</span><span class="sxs-lookup"><span data-stu-id="72690-553">hello syntax of hello command is shown below: Get-AzureLoadbalancer –ServiceName "hk-c-svc-west-us” [displays hello details of hello internal load balancer along with its IP address]</span></span>
2. <span data-ttu-id="72690-554">Connectez-vous à la batterie de serveurs web hello machine virtuelle (par exemple, hk-w1-ouest-us) à l’aide de Putty ou ssh</span><span class="sxs-lookup"><span data-stu-id="72690-554">Log into hello web farm VM (e.g. hk-w1-west-us) using Putty or ssh</span></span>
3. <span data-ttu-id="72690-555">Exécutez $CASS_HOME/bin/cqlsh 10.1.2.101 9160</span><span class="sxs-lookup"><span data-stu-id="72690-555">Execute $CASS_HOME/bin/cqlsh 10.1.2.101 9160</span></span>
4. <span data-ttu-id="72690-556">Hello suivant CQL commandes tooverify si hello cluster fonctionne, utilisez :</span><span class="sxs-lookup"><span data-stu-id="72690-556">Use hello following CQL commands tooverify if hello cluster is working:</span></span>
   
     <span data-ttu-id="72690-557">CREATE KEYSPACE customers_ks WITH REPLICATION = { ’class’ : ’SimpleStrategy’, ’replication_factor’ : 3 };   USE customers_ks;   CREATE TABLE Customers(customer_id int PRIMARY KEY, firstname text, lastname text);   INSERT INTO Customers(customer_id, firstname, lastname) VALUES(1, ’John’, ’Doe’);   INSERT INTO Customers(customer_id, firstname, lastname) VALUES (2, ’Jane’, ’Doe’);</span><span class="sxs-lookup"><span data-stu-id="72690-557">CREATE KEYSPACE customers_ks WITH REPLICATION = { 'class' : 'SimpleStrategy', 'replication_factor' : 3 };   USE customers_ks;   CREATE TABLE Customers(customer_id int PRIMARY KEY, firstname text, lastname text);   INSERT INTO Customers(customer_id, firstname, lastname) VALUES(1, 'John', 'Doe');   INSERT INTO Customers(customer_id, firstname, lastname) VALUES (2, 'Jane', 'Doe');</span></span>
   
     <span data-ttu-id="72690-558">SELECT * FROM Customers;</span><span class="sxs-lookup"><span data-stu-id="72690-558">SELECT * FROM Customers;</span></span>

<span data-ttu-id="72690-559">Vous devez voir un affichage comme hello une ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="72690-559">You should see a display like hello one below:</span></span>

<table>
  <tr><th> <span data-ttu-id="72690-560">customer_id</span><span class="sxs-lookup"><span data-stu-id="72690-560">customer_id</span></span> </th><th> <span data-ttu-id="72690-561">firstname</span><span class="sxs-lookup"><span data-stu-id="72690-561">firstname</span></span> </th><th> <span data-ttu-id="72690-562">Lastname</span><span class="sxs-lookup"><span data-stu-id="72690-562">lastname</span></span> </th></tr>
  <tr><td> <span data-ttu-id="72690-563">1</span><span class="sxs-lookup"><span data-stu-id="72690-563">1</span></span> </td><td> <span data-ttu-id="72690-564">John</span><span class="sxs-lookup"><span data-stu-id="72690-564">John</span></span> </td><td> <span data-ttu-id="72690-565">Doe</span><span class="sxs-lookup"><span data-stu-id="72690-565">Doe</span></span> </td></tr>
  <tr><td> <span data-ttu-id="72690-566">2</span><span class="sxs-lookup"><span data-stu-id="72690-566">2</span></span> </td><td> <span data-ttu-id="72690-567">Jane</span><span class="sxs-lookup"><span data-stu-id="72690-567">Jane</span></span> </td><td> <span data-ttu-id="72690-568">Doe</span><span class="sxs-lookup"><span data-stu-id="72690-568">Doe</span></span> </td></tr>
</table>

<span data-ttu-id="72690-569">Notez que cet espace de clés hello créé à l’étape 4 utilise SimpleStrategy avec un replication_factor de 3.</span><span class="sxs-lookup"><span data-stu-id="72690-569">Please note that hello keyspace created in step 4 uses SimpleStrategy with a  replication_factor of 3.</span></span> <span data-ttu-id="72690-570">SimpleStrategy est recommandé pour les déploiements de centre de données unique, tandis que NetworkTopologyStrategy est recommandé pour les déploiements de plusieurs centres de données.</span><span class="sxs-lookup"><span data-stu-id="72690-570">SimpleStrategy is recommended for single data center deployments whereas NetworkTopologyStrategy for multi-data center deployments.</span></span> <span data-ttu-id="72690-571">Un replication_factor égal à 3 procure une tolérance des échecs de nœuds.</span><span class="sxs-lookup"><span data-stu-id="72690-571">A replication_factor of 3 will give tolerance for node failures.</span></span>

## <span data-ttu-id="72690-572"><a id="tworegion"></a>Processus de déploiement de plusieurs régions</span><span class="sxs-lookup"><span data-stu-id="72690-572"><a id="tworegion"> </a>Multi-Region Deployment Process</span></span>
<span data-ttu-id="72690-573">Sera tirer parti du déploiement de région de hello s’est terminé et répétez hello même processus pour l’installation de la région deuxième hello.</span><span class="sxs-lookup"><span data-stu-id="72690-573">Will leverage hello single region deployment completed and repeat hello same process for installing hello second region.</span></span> <span data-ttu-id="72690-574">Hello principale différence entre hello unique et le déploiement de plusieurs régions est de configurer un tunnel VPN hello pour les communications entre région ; Nous démarre l’installation réseau de hello, configurer des machines virtuelles de hello et configurer Cassandra.</span><span class="sxs-lookup"><span data-stu-id="72690-574">hello key difference between hello single and multiple region deployment is hello VPN tunnel setup for inter-region communication; we will start with hello network installation, provision hello VMs and configure Cassandra.</span></span>

### <a name="step-1-create-hello-virtual-network-at-hello-2nd-region"></a><span data-ttu-id="72690-575">Étape 1 : Créer hello réseau virtuel à hello 2e région</span><span class="sxs-lookup"><span data-stu-id="72690-575">Step 1: Create hello Virtual Network at hello 2nd Region</span></span>
<span data-ttu-id="72690-576">Connectez-vous à hello portail Azure classic et créer un réseau virtuel à afficher des attributs hello dans la table de hello.</span><span class="sxs-lookup"><span data-stu-id="72690-576">Log into hello Azure classic portal and create a Virtual Network with hello attributes show in hello table.</span></span> <span data-ttu-id="72690-577">Consultez [configurer un réseau virtuel uniquement dans le portail Azure classic de hello](../../../virtual-network/virtual-networks-create-vnet-classic-pportal.md) pour les étapes détaillées du processus de hello.</span><span class="sxs-lookup"><span data-stu-id="72690-577">See [Configure a Cloud-Only Virtual Network in hello Azure classic portal](../../../virtual-network/virtual-networks-create-vnet-classic-pportal.md) for detailed steps of hello process.</span></span>      

<table>
<tr><th><span data-ttu-id="72690-578">Nom de l'attribut</span><span class="sxs-lookup"><span data-stu-id="72690-578">Attribute Name</span></span>    </th><th><span data-ttu-id="72690-579">Valeur</span><span class="sxs-lookup"><span data-stu-id="72690-579">Value</span></span>    </th><th><span data-ttu-id="72690-580">Remarques</span><span class="sxs-lookup"><span data-stu-id="72690-580">Remarks</span></span></th></tr>
<tr><td><span data-ttu-id="72690-581">Name</span><span class="sxs-lookup"><span data-stu-id="72690-581">Name</span></span>    </td><td><span data-ttu-id="72690-582">vnet-cass-east-us</span><span class="sxs-lookup"><span data-stu-id="72690-582">vnet-cass-east-us</span></span></td><td></td></tr>
<tr><td><span data-ttu-id="72690-583">Région</span><span class="sxs-lookup"><span data-stu-id="72690-583">Region</span></span>    </td><td><span data-ttu-id="72690-584">Est des États-Unis</span><span class="sxs-lookup"><span data-stu-id="72690-584">East US</span></span></td><td></td></tr>
<tr><td><span data-ttu-id="72690-585">Serveurs DNS</span><span class="sxs-lookup"><span data-stu-id="72690-585">DNS Servers</span></span>        </td><td></td><td><span data-ttu-id="72690-586">Ignorez cet attribut, car nous n'utilisons pas de serveur DNS</span><span class="sxs-lookup"><span data-stu-id="72690-586">Ignore this as we are not using a DNS Server</span></span></td></tr>
<tr><td><span data-ttu-id="72690-587">Configurer un réseau VPN de point à site</span><span class="sxs-lookup"><span data-stu-id="72690-587">Configure a point-to-site VPN</span></span></td><td></td><td>        <span data-ttu-id="72690-588">Ignorez cet attribut</span><span class="sxs-lookup"><span data-stu-id="72690-588">Ignore this</span></span></td></tr>
<tr><td><span data-ttu-id="72690-589">Configurer un réseau VPN de site à site</span><span class="sxs-lookup"><span data-stu-id="72690-589">Configure a site-to-site VPN</span></span></td><td></td><td>        <span data-ttu-id="72690-590">Ignorez cet attribut</span><span class="sxs-lookup"><span data-stu-id="72690-590">Ignore this</span></span></td></tr>
<tr><td><span data-ttu-id="72690-591">Espace d'adressage</span><span class="sxs-lookup"><span data-stu-id="72690-591">Address Space</span></span>    </td><td><span data-ttu-id="72690-592">10.2.0.0/16</span><span class="sxs-lookup"><span data-stu-id="72690-592">10.2.0.0/16</span></span></td><td></td></tr>
<tr><td><span data-ttu-id="72690-593">Adresse IP de départ</span><span class="sxs-lookup"><span data-stu-id="72690-593">Starting IP</span></span>    </td><td><span data-ttu-id="72690-594">10.2.0.0</span><span class="sxs-lookup"><span data-stu-id="72690-594">10.2.0.0</span></span>    </td><td></td></tr>
<tr><td><span data-ttu-id="72690-595">CIDR</span><span class="sxs-lookup"><span data-stu-id="72690-595">CIDR</span></span>    </td><td><span data-ttu-id="72690-596">/16 (65531)</span><span class="sxs-lookup"><span data-stu-id="72690-596">/16 (65531)</span></span></td><td></td></tr>
</table>

<span data-ttu-id="72690-597">Ajoutez hello suivant sous-réseaux :</span><span class="sxs-lookup"><span data-stu-id="72690-597">Add hello following subnets:</span></span>

<table>
<tr><th><span data-ttu-id="72690-598">Nom</span><span class="sxs-lookup"><span data-stu-id="72690-598">Name</span></span>    </th><th><span data-ttu-id="72690-599">Adresse IP de départ</span><span class="sxs-lookup"><span data-stu-id="72690-599">Starting IP</span></span>    </th><th><span data-ttu-id="72690-600">CIDR</span><span class="sxs-lookup"><span data-stu-id="72690-600">CIDR</span></span>    </th><th><span data-ttu-id="72690-601">Remarques</span><span class="sxs-lookup"><span data-stu-id="72690-601">Remarks</span></span></th></tr>
<tr><td><span data-ttu-id="72690-602">web</span><span class="sxs-lookup"><span data-stu-id="72690-602">web</span></span>    </td><td><span data-ttu-id="72690-603">10.2.1.0</span><span class="sxs-lookup"><span data-stu-id="72690-603">10.2.1.0</span></span>    </td><td><span data-ttu-id="72690-604">/24 (251)</span><span class="sxs-lookup"><span data-stu-id="72690-604">/24 (251)</span></span>    </td><td><span data-ttu-id="72690-605">Sous-réseau pour la batterie de serveurs web hello</span><span class="sxs-lookup"><span data-stu-id="72690-605">Subnet for hello web farm</span></span></td></tr>
<tr><td><span data-ttu-id="72690-606">données</span><span class="sxs-lookup"><span data-stu-id="72690-606">data</span></span>    </td><td><span data-ttu-id="72690-607">10.2.2.0</span><span class="sxs-lookup"><span data-stu-id="72690-607">10.2.2.0</span></span>    </td><td><span data-ttu-id="72690-608">/24 (251)</span><span class="sxs-lookup"><span data-stu-id="72690-608">/24 (251)</span></span>    </td><td><span data-ttu-id="72690-609">Sous-réseau pour les nœuds de base de données hello</span><span class="sxs-lookup"><span data-stu-id="72690-609">Subnet for hello database nodes</span></span></td></tr>
</table>


### <a name="step-2-create-local-networks"></a><span data-ttu-id="72690-610">Étape 2 : Création des réseaux locaux</span><span class="sxs-lookup"><span data-stu-id="72690-610">Step 2: Create Local Networks</span></span>
<span data-ttu-id="72690-611">Un réseau Local sur le réseau virtuel Azure est un espace d’adressage de proxy qui mappe tooa site distant, y compris un cloud privé ou une autre région Azure.</span><span class="sxs-lookup"><span data-stu-id="72690-611">A Local Network in Azure virtual networking is a proxy address space that maps tooa remote site including a private cloud or another Azure region.</span></span> <span data-ttu-id="72690-612">Cet espace d’adressage proxy est tooa dépendant de passerelle à distance pour le routage réseau toohello mise en réseau à droite des destinations.</span><span class="sxs-lookup"><span data-stu-id="72690-612">This proxy address space is bound tooa remote gateway for routing network toohello right networking destinations.</span></span> <span data-ttu-id="72690-613">Consultez [configurer un réseau virtuel de tooVNet connexion](../../../vpn-gateway/virtual-networks-configure-vnet-to-vnet-connection.md) pour obtenir des instructions sur l’établissement de connexions de réseau virtuel à réseau virtuel hello.</span><span class="sxs-lookup"><span data-stu-id="72690-613">See [Configure a VNet tooVNet Connection](../../../vpn-gateway/virtual-networks-configure-vnet-to-vnet-connection.md) for hello instructions on establishing VNET-to-VNET connection.</span></span>

<span data-ttu-id="72690-614">Créez deux réseaux locaux par hello les détails suivants :</span><span class="sxs-lookup"><span data-stu-id="72690-614">Create two local networks per hello following details:</span></span>

| <span data-ttu-id="72690-615">Nom de réseau</span><span class="sxs-lookup"><span data-stu-id="72690-615">Network Name</span></span> | <span data-ttu-id="72690-616">Adresse de la passerelle VPN</span><span class="sxs-lookup"><span data-stu-id="72690-616">VPN Gateway Address</span></span> | <span data-ttu-id="72690-617">Espace d'adressage</span><span class="sxs-lookup"><span data-stu-id="72690-617">Address Space</span></span> | <span data-ttu-id="72690-618">Remarques</span><span class="sxs-lookup"><span data-stu-id="72690-618">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="72690-619">hk-lnet-map-to-east-us</span><span class="sxs-lookup"><span data-stu-id="72690-619">hk-lnet-map-to-east-us</span></span> |<span data-ttu-id="72690-620">23.1.1.1</span><span class="sxs-lookup"><span data-stu-id="72690-620">23.1.1.1</span></span> |<span data-ttu-id="72690-621">10.2.0.0/16</span><span class="sxs-lookup"><span data-stu-id="72690-621">10.2.0.0/16</span></span> |<span data-ttu-id="72690-622">Lors de la création du réseau Local de hello donner à un espace réservé adresse de passerelle.</span><span class="sxs-lookup"><span data-stu-id="72690-622">While creating hello Local Network give a placeholder gateway address.</span></span> <span data-ttu-id="72690-623">adresse de passerelle réel Hello est complétée une fois la passerelle de hello est créée.</span><span class="sxs-lookup"><span data-stu-id="72690-623">hello real gateway address is filled once hello gateway is created.</span></span> <span data-ttu-id="72690-624">Assurez-vous qu’espace d’adressage hello correspond exactement au hello respectif réseau à distance ; Dans ce cas hello réseau virtuel créé dans hello la région est des États-Unis.</span><span class="sxs-lookup"><span data-stu-id="72690-624">Make sure hello address space exactly matches hello respective remote VNET; in this case hello VNET created in hello East US region.</span></span> |
| <span data-ttu-id="72690-625">hk-lnet-map-to-west-us</span><span class="sxs-lookup"><span data-stu-id="72690-625">hk-lnet-map-to-west-us</span></span> |<span data-ttu-id="72690-626">23.2.2.2</span><span class="sxs-lookup"><span data-stu-id="72690-626">23.2.2.2</span></span> |<span data-ttu-id="72690-627">10.1.0.0/16</span><span class="sxs-lookup"><span data-stu-id="72690-627">10.1.0.0/16</span></span> |<span data-ttu-id="72690-628">Lors de la création du réseau Local de hello donner à un espace réservé adresse de passerelle.</span><span class="sxs-lookup"><span data-stu-id="72690-628">While creating hello Local Network give a placeholder gateway address.</span></span> <span data-ttu-id="72690-629">adresse de passerelle réel Hello est complétée une fois la passerelle de hello est créée.</span><span class="sxs-lookup"><span data-stu-id="72690-629">hello real gateway address is filled once hello gateway is created.</span></span> <span data-ttu-id="72690-630">Assurez-vous qu’espace d’adressage hello correspond exactement au hello respectif réseau à distance ; Dans ce cas hello réseau virtuel créé dans hello la région ouest des États-Unis.</span><span class="sxs-lookup"><span data-stu-id="72690-630">Make sure hello address space exactly matches hello respective remote VNET; in this case hello VNET created in hello West US region.</span></span> |

### <a name="step-3-map-local-network-toohello-respective-vnets"></a><span data-ttu-id="72690-631">Étape 3 : Carte réseau « Local » toohello respectifs réseaux virtuels</span><span class="sxs-lookup"><span data-stu-id="72690-631">Step 3: Map “Local” network toohello respective VNETs</span></span>
<span data-ttu-id="72690-632">À partir de hello portail Azure classic, sélectionnez chaque réseau virtuel, cliquez sur « Configurer », vérifiez « Se connecter toohello réseau local », puis hello des réseaux locaux par hello les détails suivants :</span><span class="sxs-lookup"><span data-stu-id="72690-632">From hello Azure classic portal, select each vnet, click “Configure”, check “Connect toohello local network”, and select hello Local Networks per hello following details:</span></span>

| <span data-ttu-id="72690-633">Réseau virtuel</span><span class="sxs-lookup"><span data-stu-id="72690-633">Virtual Network</span></span> | <span data-ttu-id="72690-634">Réseau local</span><span class="sxs-lookup"><span data-stu-id="72690-634">Local Network</span></span> |
| --- | --- |
| <span data-ttu-id="72690-635">hk-vnet-west-us</span><span class="sxs-lookup"><span data-stu-id="72690-635">hk-vnet-west-us</span></span> |<span data-ttu-id="72690-636">hk-lnet-map-to-east-us</span><span class="sxs-lookup"><span data-stu-id="72690-636">hk-lnet-map-to-east-us</span></span> |
| <span data-ttu-id="72690-637">hk-vnet-east-us</span><span class="sxs-lookup"><span data-stu-id="72690-637">hk-vnet-east-us</span></span> |<span data-ttu-id="72690-638">hk-lnet-map-to-west-us</span><span class="sxs-lookup"><span data-stu-id="72690-638">hk-lnet-map-to-west-us</span></span> |

### <a name="step-4-create-gateways-on-vnet1-and-vnet2"></a><span data-ttu-id="72690-639">Étape 4 : Création des passerelles sur VNET1 et VNET2</span><span class="sxs-lookup"><span data-stu-id="72690-639">Step 4: Create Gateways on VNET1 and VNET2</span></span>
<span data-ttu-id="72690-640">À partir du tableau de bord hello de deux réseaux virtuels hello, cliquez sur Créer une passerelle qui déclenchera le processus de configuration de la passerelle du VPN hello.</span><span class="sxs-lookup"><span data-stu-id="72690-640">From hello dashboard of both hello virtual networks, click CREATE GATEWAY which will trigger hello VPN gateway provisioning process.</span></span> <span data-ttu-id="72690-641">Après que quelques minutes hello du tableau de bord de chaque réseau virtuel doit afficher une adresse de passerelle réel hello.</span><span class="sxs-lookup"><span data-stu-id="72690-641">After a few minutes hello dashboard of each virtual network should display hello actual gateway address.</span></span>

### <a name="step-5-update-local-networks-with-hello-respective-gateway-addresses"></a><span data-ttu-id="72690-642">Étape 5 : Mise à jour « Local » des réseaux avec des adresses hello respectifs « passerelle »</span><span class="sxs-lookup"><span data-stu-id="72690-642">Step 5: Update “Local” networks with hello respective “Gateway” addresses</span></span>
<span data-ttu-id="72690-643">Modifier les deux passerelles hello réseaux locaux tooreplace hello espace réservé passerelle IP adresse avec l’adresse IP réelle de hello Hello simplement mis en service.</span><span class="sxs-lookup"><span data-stu-id="72690-643">Edit both hello local networks tooreplace hello placeholder gateway IP address with hello real IP address of hello just provisioned gateways.</span></span> <span data-ttu-id="72690-644">Utilisez hello après mappage :</span><span class="sxs-lookup"><span data-stu-id="72690-644">Use hello following mapping:</span></span>

<table>
<tr><th><span data-ttu-id="72690-645">Réseau local</span><span class="sxs-lookup"><span data-stu-id="72690-645">Local Network</span></span>    </th><th><span data-ttu-id="72690-646">Passerelle de réseau virtuel</span><span class="sxs-lookup"><span data-stu-id="72690-646">Virtual Network Gateway</span></span></th></tr>
<tr><td><span data-ttu-id="72690-647">hk-lnet-map-to-east-us</span><span class="sxs-lookup"><span data-stu-id="72690-647">hk-lnet-map-to-east-us</span></span> </td><td><span data-ttu-id="72690-648">Passerelle de hk-vnet-west-us</span><span class="sxs-lookup"><span data-stu-id="72690-648">Gateway of hk-vnet-west-us</span></span></td></tr>
<tr><td><span data-ttu-id="72690-649">hk-lnet-map-to-west-us</span><span class="sxs-lookup"><span data-stu-id="72690-649">hk-lnet-map-to-west-us</span></span> </td><td><span data-ttu-id="72690-650">Passerelle de hk-vnet-east-us</span><span class="sxs-lookup"><span data-stu-id="72690-650">Gateway of hk-vnet-east-us</span></span></td></tr>
</table>

### <a name="step-6-update-hello-shared-key"></a><span data-ttu-id="72690-651">Étape 6 : Mettre à jour la clé partagée de hello</span><span class="sxs-lookup"><span data-stu-id="72690-651">Step 6: Update hello shared key</span></span>
<span data-ttu-id="72690-652">Hello utilisez Powershell script tooupdate hello IPSec clé de chaque passerelle VPN [clé de l’exploration utilisez hello pour les deux passerelles hello] suivante : Set-AzureVNetGatewayKey - VNetName hk-réseau virtuel-east-us - LocalNetworkSiteName hk-lnet-map-to-west-us - SharedKey D9E76BKK Set-AzureVNetGatewayKey - VNetName des hk-lnet-map-to-east-us des LocalNetworkSiteName - hk-réseau virtuel-ouest-us - SharedKey D9E76BKK</span><span class="sxs-lookup"><span data-stu-id="72690-652">Use hello following Powershell script tooupdate hello IPSec key of each VPN gateway [use hello sake key for both hello gateways]: Set-AzureVNetGatewayKey -VNetName hk-vnet-east-us -LocalNetworkSiteName hk-lnet-map-to-west-us -SharedKey D9E76BKK Set-AzureVNetGatewayKey -VNetName hk-vnet-west-us -LocalNetworkSiteName hk-lnet-map-to-east-us -SharedKey D9E76BKK</span></span>

### <a name="step-7-establish-hello-vnet-to-vnet-connection"></a><span data-ttu-id="72690-653">Étape 7 : Hello au réseau de connexion</span><span class="sxs-lookup"><span data-stu-id="72690-653">Step 7: Establish hello VNET-to-VNET connection</span></span>
<span data-ttu-id="72690-654">À partir de la hello portail Azure classic, utilisez le menu de « Tableau de bord » hello de deux connexions de passerelle à passerelle tooestablish hello réseaux virtuels.</span><span class="sxs-lookup"><span data-stu-id="72690-654">From hello Azure classic portal, use hello “DASHBOARD” menu of both hello virtual networks tooestablish gateway-to-gateway connection.</span></span> <span data-ttu-id="72690-655">Utilisez des éléments de menu « Se connecter » hello dans la barre d’outils du bas hello.</span><span class="sxs-lookup"><span data-stu-id="72690-655">Use hello “CONNECT” menu items in hello bottom toolbar.</span></span> <span data-ttu-id="72690-656">Après quelques minutes tableau de bord hello doit afficher les détails de connexion hello sous forme graphique.</span><span class="sxs-lookup"><span data-stu-id="72690-656">After a few minutes hello dashboard should display hello connection details graphically.</span></span>

### <a name="step-8-create-hello-virtual-machines-in-region-2"></a><span data-ttu-id="72690-657">Étape 8 : Créer des machines virtuelles de hello dans la région #2</span><span class="sxs-lookup"><span data-stu-id="72690-657">Step 8: Create hello virtual machines in region #2</span></span>
<span data-ttu-id="72690-658">Créez l’image d’Ubuntu hello comme décrit dans le déploiement de région #1 à hello suivante même étapes ou copiez hello image VHD fichier toohello compte de stockage Azure situé dans la région #2 et image de hello.</span><span class="sxs-lookup"><span data-stu-id="72690-658">Create hello Ubuntu image as described in region #1 deployment by following hello same steps or copy hello image VHD file toohello Azure storage account located in region #2 and create hello image.</span></span> <span data-ttu-id="72690-659">Utiliser cette image et créer hello suivant la liste des machines virtuelles dans un service cloud hk-c-svc-east-us :</span><span class="sxs-lookup"><span data-stu-id="72690-659">Use this image and create hello following list of virtual machines into a new cloud service hk-c-svc-east-us:</span></span>

| <span data-ttu-id="72690-660">Nom de la machine</span><span class="sxs-lookup"><span data-stu-id="72690-660">Machine Name</span></span> | <span data-ttu-id="72690-661">Sous-réseau</span><span class="sxs-lookup"><span data-stu-id="72690-661">Subnet</span></span> | <span data-ttu-id="72690-662">Adresse IP</span><span class="sxs-lookup"><span data-stu-id="72690-662">IP Address</span></span> | <span data-ttu-id="72690-663">Groupe à haute disponibilité</span><span class="sxs-lookup"><span data-stu-id="72690-663">Availability set</span></span> | <span data-ttu-id="72690-664">Contrôleur de domaine ou rack</span><span class="sxs-lookup"><span data-stu-id="72690-664">DC/Rack</span></span> | <span data-ttu-id="72690-665">Initial ?</span><span class="sxs-lookup"><span data-stu-id="72690-665">Seed?</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="72690-666">hk-c1-east-us</span><span class="sxs-lookup"><span data-stu-id="72690-666">hk-c1-east-us</span></span> |<span data-ttu-id="72690-667">données</span><span class="sxs-lookup"><span data-stu-id="72690-667">data</span></span> |<span data-ttu-id="72690-668">10.2.2.4</span><span class="sxs-lookup"><span data-stu-id="72690-668">10.2.2.4</span></span> |<span data-ttu-id="72690-669">hk-c-aset-1</span><span class="sxs-lookup"><span data-stu-id="72690-669">hk-c-aset-1</span></span> |<span data-ttu-id="72690-670">dc =EASTUS rack =rack1</span><span class="sxs-lookup"><span data-stu-id="72690-670">dc =EASTUS rack =rack1</span></span> |<span data-ttu-id="72690-671">Oui</span><span class="sxs-lookup"><span data-stu-id="72690-671">Yes</span></span> |
| <span data-ttu-id="72690-672">hk-c2-east-us</span><span class="sxs-lookup"><span data-stu-id="72690-672">hk-c2-east-us</span></span> |<span data-ttu-id="72690-673">données</span><span class="sxs-lookup"><span data-stu-id="72690-673">data</span></span> |<span data-ttu-id="72690-674">10.2.2.5</span><span class="sxs-lookup"><span data-stu-id="72690-674">10.2.2.5</span></span> |<span data-ttu-id="72690-675">hk-c-aset-1</span><span class="sxs-lookup"><span data-stu-id="72690-675">hk-c-aset-1</span></span> |<span data-ttu-id="72690-676">dc =EASTUS rack =rack1</span><span class="sxs-lookup"><span data-stu-id="72690-676">dc =EASTUS rack =rack1</span></span> |<span data-ttu-id="72690-677">Non</span><span class="sxs-lookup"><span data-stu-id="72690-677">No</span></span> |
| <span data-ttu-id="72690-678">hk-c3-east-us</span><span class="sxs-lookup"><span data-stu-id="72690-678">hk-c3-east-us</span></span> |<span data-ttu-id="72690-679">données</span><span class="sxs-lookup"><span data-stu-id="72690-679">data</span></span> |<span data-ttu-id="72690-680">10.2.2.6</span><span class="sxs-lookup"><span data-stu-id="72690-680">10.2.2.6</span></span> |<span data-ttu-id="72690-681">hk-c-aset-1</span><span class="sxs-lookup"><span data-stu-id="72690-681">hk-c-aset-1</span></span> |<span data-ttu-id="72690-682">dc =EASTUS rack =rack2</span><span class="sxs-lookup"><span data-stu-id="72690-682">dc =EASTUS rack =rack2</span></span> |<span data-ttu-id="72690-683">Oui</span><span class="sxs-lookup"><span data-stu-id="72690-683">Yes</span></span> |
| <span data-ttu-id="72690-684">hk-c5-east-us</span><span class="sxs-lookup"><span data-stu-id="72690-684">hk-c5-east-us</span></span> |<span data-ttu-id="72690-685">données</span><span class="sxs-lookup"><span data-stu-id="72690-685">data</span></span> |<span data-ttu-id="72690-686">10.2.2.8</span><span class="sxs-lookup"><span data-stu-id="72690-686">10.2.2.8</span></span> |<span data-ttu-id="72690-687">hk-c-aset-2</span><span class="sxs-lookup"><span data-stu-id="72690-687">hk-c-aset-2</span></span> |<span data-ttu-id="72690-688">dc =EASTUS rack =rack3</span><span class="sxs-lookup"><span data-stu-id="72690-688">dc =EASTUS rack =rack3</span></span> |<span data-ttu-id="72690-689">Oui</span><span class="sxs-lookup"><span data-stu-id="72690-689">Yes</span></span> |
| <span data-ttu-id="72690-690">hk-c6-east-us</span><span class="sxs-lookup"><span data-stu-id="72690-690">hk-c6-east-us</span></span> |<span data-ttu-id="72690-691">données</span><span class="sxs-lookup"><span data-stu-id="72690-691">data</span></span> |<span data-ttu-id="72690-692">10.2.2.9</span><span class="sxs-lookup"><span data-stu-id="72690-692">10.2.2.9</span></span> |<span data-ttu-id="72690-693">hk-c-aset-2</span><span class="sxs-lookup"><span data-stu-id="72690-693">hk-c-aset-2</span></span> |<span data-ttu-id="72690-694">dc =EASTUS rack =rack3</span><span class="sxs-lookup"><span data-stu-id="72690-694">dc =EASTUS rack =rack3</span></span> |<span data-ttu-id="72690-695">Non</span><span class="sxs-lookup"><span data-stu-id="72690-695">No</span></span> |
| <span data-ttu-id="72690-696">hk-c7-east-us</span><span class="sxs-lookup"><span data-stu-id="72690-696">hk-c7-east-us</span></span> |<span data-ttu-id="72690-697">données</span><span class="sxs-lookup"><span data-stu-id="72690-697">data</span></span> |<span data-ttu-id="72690-698">10.2.2.10</span><span class="sxs-lookup"><span data-stu-id="72690-698">10.2.2.10</span></span> |<span data-ttu-id="72690-699">hk-c-aset-2</span><span class="sxs-lookup"><span data-stu-id="72690-699">hk-c-aset-2</span></span> |<span data-ttu-id="72690-700">dc =EASTUS rack =rack4</span><span class="sxs-lookup"><span data-stu-id="72690-700">dc =EASTUS rack =rack4</span></span> |<span data-ttu-id="72690-701">Oui</span><span class="sxs-lookup"><span data-stu-id="72690-701">Yes</span></span> |
| <span data-ttu-id="72690-702">hk-c8-east-us</span><span class="sxs-lookup"><span data-stu-id="72690-702">hk-c8-east-us</span></span> |<span data-ttu-id="72690-703">données</span><span class="sxs-lookup"><span data-stu-id="72690-703">data</span></span> |<span data-ttu-id="72690-704">10.2.2.11</span><span class="sxs-lookup"><span data-stu-id="72690-704">10.2.2.11</span></span> |<span data-ttu-id="72690-705">hk-c-aset-2</span><span class="sxs-lookup"><span data-stu-id="72690-705">hk-c-aset-2</span></span> |<span data-ttu-id="72690-706">dc =EASTUS rack =rack4</span><span class="sxs-lookup"><span data-stu-id="72690-706">dc =EASTUS rack =rack4</span></span> |<span data-ttu-id="72690-707">Non</span><span class="sxs-lookup"><span data-stu-id="72690-707">No</span></span> |
| <span data-ttu-id="72690-708">hk-w1-east-us</span><span class="sxs-lookup"><span data-stu-id="72690-708">hk-w1-east-us</span></span> |<span data-ttu-id="72690-709">web</span><span class="sxs-lookup"><span data-stu-id="72690-709">web</span></span> |<span data-ttu-id="72690-710">10.2.1.4</span><span class="sxs-lookup"><span data-stu-id="72690-710">10.2.1.4</span></span> |<span data-ttu-id="72690-711">hk-w-aset-1</span><span class="sxs-lookup"><span data-stu-id="72690-711">hk-w-aset-1</span></span> |<span data-ttu-id="72690-712">N/A</span><span class="sxs-lookup"><span data-stu-id="72690-712">N/A</span></span> |<span data-ttu-id="72690-713">N/A</span><span class="sxs-lookup"><span data-stu-id="72690-713">N/A</span></span> |
| <span data-ttu-id="72690-714">hk-w2-east-us</span><span class="sxs-lookup"><span data-stu-id="72690-714">hk-w2-east-us</span></span> |<span data-ttu-id="72690-715">web</span><span class="sxs-lookup"><span data-stu-id="72690-715">web</span></span> |<span data-ttu-id="72690-716">10.2.1.5</span><span class="sxs-lookup"><span data-stu-id="72690-716">10.2.1.5</span></span> |<span data-ttu-id="72690-717">hk-w-aset-1</span><span class="sxs-lookup"><span data-stu-id="72690-717">hk-w-aset-1</span></span> |<span data-ttu-id="72690-718">N/A</span><span class="sxs-lookup"><span data-stu-id="72690-718">N/A</span></span> |<span data-ttu-id="72690-719">N/A</span><span class="sxs-lookup"><span data-stu-id="72690-719">N/A</span></span> |

<span data-ttu-id="72690-720">Suivez hello mêmes instructions en tant que région #1 mais utilisent l’espace d’adressage 10.2.xxx.xxx.</span><span class="sxs-lookup"><span data-stu-id="72690-720">Follow hello same instructions as region #1 but use 10.2.xxx.xxx address space.</span></span>

### <a name="step-9-configure-cassandra-on-each-vm"></a><span data-ttu-id="72690-721">Étape 9 : Configuration de Cassandra sur chaque machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="72690-721">Step 9: Configure Cassandra on each VM</span></span>
<span data-ttu-id="72690-722">Se connecter à la machine virtuelle de hello et hello suivants :</span><span class="sxs-lookup"><span data-stu-id="72690-722">Log into hello VM and perform hello following:</span></span>

1. <span data-ttu-id="72690-723">Modifier $CASS_HOME/conf/cassandra-rackdc.properties toospecify hello centre et rack propriétés des données au format de hello : dc = EASTUS rack = racks 1</span><span class="sxs-lookup"><span data-stu-id="72690-723">Edit $CASS_HOME/conf/cassandra-rackdc.properties toospecify hello data center and rack properties in hello format:  dc =EASTUS  rack =rack1</span></span>
2. <span data-ttu-id="72690-724">Modifier des nœuds de valeur initiale cassandra.yaml tooconfigure : semences : « 10.1.2.4,10.1.2.6,10.1.2.8,10.1.2.10,10.2.2.4,10.2.2.6,10.2.2.8,10.2.2.10 »</span><span class="sxs-lookup"><span data-stu-id="72690-724">Edit cassandra.yaml tooconfigure seed nodes:  Seeds: "10.1.2.4,10.1.2.6,10.1.2.8,10.1.2.10,10.2.2.4,10.2.2.6,10.2.2.8,10.2.2.10"</span></span>

### <a name="step-10-start-cassandra"></a><span data-ttu-id="72690-725">Étape 10 : Démarrage de Cassandra</span><span class="sxs-lookup"><span data-stu-id="72690-725">Step 10: Start Cassandra</span></span>
<span data-ttu-id="72690-726">Connectez-vous à chaque machine virtuelle et démarrer Cassandra en arrière-plan de hello en exécutant hello de commande suivante : $CASS_HOME/bin/cassandra</span><span class="sxs-lookup"><span data-stu-id="72690-726">Log into each VM and start Cassandra in hello background by running hello following command: $CASS_HOME/bin/cassandra</span></span>

## <a name="test-hello-multi-region-cluster"></a><span data-ttu-id="72690-727">Hello de test plusieurs régions Cluster</span><span class="sxs-lookup"><span data-stu-id="72690-727">Test hello Multi-Region Cluster</span></span>
<span data-ttu-id="72690-728">À ce stade Cassandra a été déployé too16 des nœuds avec 8 nœuds dans chaque région Azure.</span><span class="sxs-lookup"><span data-stu-id="72690-728">By now Cassandra has been deployed too16 nodes with 8 nodes in each Azure region.</span></span> <span data-ttu-id="72690-729">Ces nœuds sont Bonjour même cluster en vertu du nom de cluster commun hello et la configuration du nœud de valeur initiale hello.</span><span class="sxs-lookup"><span data-stu-id="72690-729">These nodes are in hello same cluster by virtue of hello common cluster name and hello seed node configuration.</span></span> <span data-ttu-id="72690-730">Utilisez hello suivant du cluster de processus tootest hello :</span><span class="sxs-lookup"><span data-stu-id="72690-730">Use hello following process tootest hello cluster:</span></span>

### <a name="step-1-get-hello-internal-load-balancer-ip-for-both-hello-regions-using-powershell"></a><span data-ttu-id="72690-731">Étape 1 : Obtenir une adresse IP équilibreur de charge interne de hello pour les deux régions hello à l’aide de PowerShell</span><span class="sxs-lookup"><span data-stu-id="72690-731">Step 1: Get hello internal load balancer IP for both hello regions using PowerShell</span></span>
* <span data-ttu-id="72690-732">Get-AzureInternalLoadbalancer -ServiceName « hk-c-svc-west-us »</span><span class="sxs-lookup"><span data-stu-id="72690-732">Get-AzureInternalLoadbalancer -ServiceName "hk-c-svc-west-us"</span></span>
* <span data-ttu-id="72690-733">Get-AzureInternalLoadbalancer -ServiceName « hk-c-svc-east-us »</span><span class="sxs-lookup"><span data-stu-id="72690-733">Get-AzureInternalLoadbalancer -ServiceName "hk-c-svc-east-us"</span></span>  
  
    <span data-ttu-id="72690-734">Notez les adresses IP de hello (par exemple, ouest - 10.1.2.101, east - 10.2.2.101) affiché.</span><span class="sxs-lookup"><span data-stu-id="72690-734">Note hello IP addresses (e.g. west - 10.1.2.101, east - 10.2.2.101) displayed.</span></span>

### <a name="step-2-execute-hello-following-in-hello-west-region-after-logging-into-hk-w1-west-us"></a><span data-ttu-id="72690-735">Étape 2 : Exécution suivante de hello dans la région Ouest hello après la connexion à hk-w1-ouest-us</span><span class="sxs-lookup"><span data-stu-id="72690-735">Step 2: Execute hello following in hello west region after logging into hk-w1-west-us</span></span>
1. <span data-ttu-id="72690-736">Exécutez $CASS_HOME/bin/cqlsh 10.1.2.101 9160</span><span class="sxs-lookup"><span data-stu-id="72690-736">Execute $CASS_HOME/bin/cqlsh 10.1.2.101 9160</span></span>
2. <span data-ttu-id="72690-737">Exécutez hello suivant les commandes du CQL :</span><span class="sxs-lookup"><span data-stu-id="72690-737">Execute hello following CQL commands:</span></span>
   
     <span data-ttu-id="72690-738">CREATE KEYSPACE customers_ks   WITH REPLICATION = { ’class’ : ’NetworkToplogyStrategy’, ’WESTUS’ : 3, ’EASTUS’ : 3};   USE customers_ks;   CREATE TABLE Customers(customer_id int PRIMARY KEY, firstname text, lastname text);   INSERT INTO Customers(customer_id, firstname, lastname) VALUES(1, ’John’, ’Doe’);   INSERT INTO Customers(customer_id, firstname, lastname) VALUES (2, ’Jane’, ’Doe’);   SELECT * FROM Customers;</span><span class="sxs-lookup"><span data-stu-id="72690-738">CREATE KEYSPACE customers_ks   WITH REPLICATION = { 'class' : 'NetworkToplogyStrategy', 'WESTUS' : 3, 'EASTUS' : 3};   USE customers_ks;   CREATE TABLE Customers(customer_id int PRIMARY KEY, firstname text, lastname text);   INSERT INTO Customers(customer_id, firstname, lastname) VALUES(1, 'John', 'Doe');   INSERT INTO Customers(customer_id, firstname, lastname) VALUES (2, 'Jane', 'Doe');   SELECT * FROM Customers;</span></span>

<span data-ttu-id="72690-739">Vous devez voir un affichage comme hello une ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="72690-739">You should see a display like hello one below:</span></span>

| <span data-ttu-id="72690-740">customer_id</span><span class="sxs-lookup"><span data-stu-id="72690-740">customer_id</span></span> | <span data-ttu-id="72690-741">firstname</span><span class="sxs-lookup"><span data-stu-id="72690-741">firstname</span></span> | <span data-ttu-id="72690-742">Lastname</span><span class="sxs-lookup"><span data-stu-id="72690-742">Lastname</span></span> |
| --- | --- | --- |
| <span data-ttu-id="72690-743">1</span><span class="sxs-lookup"><span data-stu-id="72690-743">1</span></span> |<span data-ttu-id="72690-744">John</span><span class="sxs-lookup"><span data-stu-id="72690-744">John</span></span> |<span data-ttu-id="72690-745">Doe</span><span class="sxs-lookup"><span data-stu-id="72690-745">Doe</span></span> |
| <span data-ttu-id="72690-746">2</span><span class="sxs-lookup"><span data-stu-id="72690-746">2</span></span> |<span data-ttu-id="72690-747">Jane</span><span class="sxs-lookup"><span data-stu-id="72690-747">Jane</span></span> |<span data-ttu-id="72690-748">Doe</span><span class="sxs-lookup"><span data-stu-id="72690-748">Doe</span></span> |

### <a name="step-3-execute-hello-following-in-hello-east-region-after-logging-into-hk-w1-east-us"></a><span data-ttu-id="72690-749">Étape 3 : Exécutez la commande suivante hello dans la région de hello est après la connexion à hk-w1-east-us :</span><span class="sxs-lookup"><span data-stu-id="72690-749">Step 3: Execute hello following in hello east region after logging into hk-w1-east-us:</span></span>
1. <span data-ttu-id="72690-750">Exécutez $CASS_HOME/bin/cqlsh 10.2.2.101 9160</span><span class="sxs-lookup"><span data-stu-id="72690-750">Execute $CASS_HOME/bin/cqlsh 10.2.2.101 9160</span></span>
2. <span data-ttu-id="72690-751">Exécutez hello suivant les commandes du CQL :</span><span class="sxs-lookup"><span data-stu-id="72690-751">Execute hello following CQL commands:</span></span>
   
     <span data-ttu-id="72690-752">USE customers_ks;   CREATE TABLE Customers(customer_id int PRIMARY KEY, firstname text, lastname text);   INSERT INTO Customers(customer_id, firstname, lastname) VALUES(1, ’John’, ’Doe’);   INSERT INTO Customers(customer_id, firstname, lastname) VALUES (2, ’Jane’, ’Doe’);   SELECT * FROM Customers;</span><span class="sxs-lookup"><span data-stu-id="72690-752">USE customers_ks;   CREATE TABLE Customers(customer_id int PRIMARY KEY, firstname text, lastname text);   INSERT INTO Customers(customer_id, firstname, lastname) VALUES(1, 'John', 'Doe');   INSERT INTO Customers(customer_id, firstname, lastname) VALUES (2, 'Jane', 'Doe');   SELECT * FROM Customers;</span></span>

<span data-ttu-id="72690-753">Vous devez voir hello même afficher comme vu pour la région Ouest hello :</span><span class="sxs-lookup"><span data-stu-id="72690-753">You should see hello same display as seen for hello West region:</span></span>

| <span data-ttu-id="72690-754">customer_id</span><span class="sxs-lookup"><span data-stu-id="72690-754">customer_id</span></span> | <span data-ttu-id="72690-755">firstname</span><span class="sxs-lookup"><span data-stu-id="72690-755">firstname</span></span> | <span data-ttu-id="72690-756">Lastname</span><span class="sxs-lookup"><span data-stu-id="72690-756">Lastname</span></span> |
| --- | --- | --- |
| <span data-ttu-id="72690-757">1</span><span class="sxs-lookup"><span data-stu-id="72690-757">1</span></span> |<span data-ttu-id="72690-758">John</span><span class="sxs-lookup"><span data-stu-id="72690-758">John</span></span> |<span data-ttu-id="72690-759">Doe</span><span class="sxs-lookup"><span data-stu-id="72690-759">Doe</span></span> |
| <span data-ttu-id="72690-760">2</span><span class="sxs-lookup"><span data-stu-id="72690-760">2</span></span> |<span data-ttu-id="72690-761">Jane</span><span class="sxs-lookup"><span data-stu-id="72690-761">Jane</span></span> |<span data-ttu-id="72690-762">Doe</span><span class="sxs-lookup"><span data-stu-id="72690-762">Doe</span></span> |

<span data-ttu-id="72690-763">Exécuter certaines insertions plus et que celles obtenir répliquée toowest-nous dans le cadre du cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="72690-763">Execute a few more inserts and see that those get replicated toowest-us part of hello cluster.</span></span>

## <a name="test-cassandra-cluster-from-nodejs"></a><span data-ttu-id="72690-764">Test de cluster Cassandra à partir de Node.js</span><span class="sxs-lookup"><span data-stu-id="72690-764">Test Cassandra Cluster from Node.js</span></span>
<span data-ttu-id="72690-765">À l’aide d’un des ordinateurs virtuels Linux de hello créé précédemment dans le niveau de « web » hello, nous exécutera une simples Node.js script tooread précédemment insérée les données de salutation</span><span class="sxs-lookup"><span data-stu-id="72690-765">Using one of hello Linux VMs crated in hello "web" tier previously, we will execute a simple Node.js script tooread hello previously inserted data</span></span>

<span data-ttu-id="72690-766">**Étape 1 : Installation de Node.js et du client Cassandra**</span><span class="sxs-lookup"><span data-stu-id="72690-766">**Step 1: Install Node.js and Cassandra Client**</span></span>

1. <span data-ttu-id="72690-767">Installez Node.js et npm</span><span class="sxs-lookup"><span data-stu-id="72690-767">Install Node.js and npm</span></span>
2. <span data-ttu-id="72690-768">Installez le package de nœud « cassandra-client » à l'aide de npm</span><span class="sxs-lookup"><span data-stu-id="72690-768">Install node package "cassandra-client" using npm</span></span>
3. <span data-ttu-id="72690-769">Exécutez hello script invite hello qui affiche la chaîne json hello hello récupérée données suivant :</span><span class="sxs-lookup"><span data-stu-id="72690-769">Execute hello following script at hello shell prompt which displays hello json string of hello retrieved data:</span></span>
   
        var pooledCon = require('cassandra-client').PooledConnection;
        var ksName = "custsupport_ks";
        var cfName = "customers_cf";
        var hostList = ['internal_loadbalancer_ip:9160'];
        var ksConOptions = { hosts: hostList,
                             keyspace: ksName, use_bigints: false };
   
        function createKeyspace(callback){
           var cql = 'CREATE KEYSPACE ' + ksName + ' WITH strategy_class=SimpleStrategy AND strategy_options:replication_factor=1';
           var sysConOptions = { hosts: hostList,  
                                 keyspace: 'system', use_bigints: false };
           var con = new pooledCon(sysConOptions);
           con.execute(cql,[],function(err) {
           if (err) {
             console.log("Failed toocreate Keyspace: " + ksName);
             console.log(err);
           }
           else {
             console.log("Created Keyspace: " + ksName);
             callback(ksConOptions, populateCustomerData);
           }
           });
           con.shutdown();
        }
   
        function createColumnFamily(ksConOptions, callback){
          var params = ['customers_cf','custid','varint','custname',
                        'text','custaddress','text'];
          var cql = 'CREATE COLUMNFAMILY ? (? ? PRIMARY KEY,? ?, ? ?)';
        var con =  new pooledCon(ksConOptions);
          con.execute(cql,params,function(err) {
              if (err) {
                 console.log("Failed toocreate column family: " + params[0]);
                 console.log(err);
              }
              else {
                 console.log("Created column family: " + params[0]);
                 callback();
              }
          });
          con.shutdown();
        }
   
        //populate Data
        function populateCustomerData() {
           var params = ['John','Infinity Dr, TX', 1];
           updateCustomer(ksConOptions,params);
   
           params = ['Tom','Fermat Ln, WA', 2];
           updateCustomer(ksConOptions,params);
        }
   
        //update will also insert hello record if none exists
        function updateCustomer(ksConOptions,params)
        {
          var cql = 'UPDATE customers_cf SET custname=?,custaddress=? where custid=?';
          var con = new pooledCon(ksConOptions);
          con.execute(cql,params,function(err) {
              if (err) console.log(err);
              else console.log("Inserted customer : " + params[0]);
          });
          con.shutdown();
        }
   
        //read hello two rows inserted above
        function readCustomer(ksConOptions)
        {
          var cql = 'SELECT * FROM customers_cf WHERE custid IN (1,2)';
          var con = new pooledCon(ksConOptions);
          con.execute(cql,[],function(err,rows) {
              if (err)
                 console.log(err);
              else
                 for (var i=0; i<rows.length; i++)
                    console.log(JSON.stringify(rows[i]));
            });
           con.shutdown();
        }
   
        //exectue hello code
        createKeyspace(createColumnFamily);
        readCustomer(ksConOptions)

## <a name="conclusion"></a><span data-ttu-id="72690-770">Conclusion</span><span class="sxs-lookup"><span data-stu-id="72690-770">Conclusion</span></span>
<span data-ttu-id="72690-771">Microsoft Azure est une plateforme flexible qui permet d’utiliser hello Microsoft ainsi que des logiciels open source comme illustré dans cet exercice.</span><span class="sxs-lookup"><span data-stu-id="72690-771">Microsoft Azure is a flexible platform that allows hello running of both Microsoft as well as open source software as demonstrated by this exercise.</span></span> <span data-ttu-id="72690-772">Les clusters Cassandra hautement disponibles peuvent être déployés sur un centre de données via hello répartissant hello des nœuds de cluster sur plusieurs domaines d’erreur.</span><span class="sxs-lookup"><span data-stu-id="72690-772">Highly available Cassandra clusters can be deployed on a single data center through hello spreading of hello cluster nodes across multiple fault domains.</span></span> <span data-ttu-id="72690-773">Les clusters Cassandra peuvent également être déployés dans plusieurs régions Azure géographiquement distantes afin de protéger les systèmes contre les sinistres.</span><span class="sxs-lookup"><span data-stu-id="72690-773">Cassandra clusters can also be deployed across multiple geographically distant Azure regions for disaster proof systems.</span></span> <span data-ttu-id="72690-774">Azure et vous permet d’ensemble Cassandra hello construction de hautement évolutive, hautement disponible et de services cloud récupérable d’urgence nécessitent par l’internet aujourd'hui l’échelle des services.</span><span class="sxs-lookup"><span data-stu-id="72690-774">Azure and Cassandra together enables hello construction of highly scalable, highly available and disaster recoverable cloud services needed by today's internet scale services.</span></span>  

## <a name="references"></a><span data-ttu-id="72690-775">Références</span><span class="sxs-lookup"><span data-stu-id="72690-775">References</span></span>
* [<span data-ttu-id="72690-776">http://cassandra.apache.org</span><span class="sxs-lookup"><span data-stu-id="72690-776">http://cassandra.apache.org</span></span>](http://cassandra.apache.org)
* [<span data-ttu-id="72690-777">http://www.datastax.com</span><span class="sxs-lookup"><span data-stu-id="72690-777">http://www.datastax.com</span></span>](http://www.datastax.com)
* [<span data-ttu-id="72690-778">http://www.nodejs.org</span><span class="sxs-lookup"><span data-stu-id="72690-778">http://www.nodejs.org</span></span>](http://www.nodejs.org)

