---
title: aaaOptimize votre VM Linux sur Azure | Documents Microsoft
description: "Découvrez certaines toomake de conseils d’optimisation que vous avez configuré votre VM Linux pour des performances optimales sur Azure"
keywords: machine virtuelle linux, linux machine virtuelle, machine virtuelle ubuntu
services: virtual-machines-linux
documentationcenter: 
author: rickstercdn
manager: timlt
editor: tysonn
tags: azure-resource-manager
ms.assetid: 8baa30c8-d40e-41ac-93d0-74e96fe18d4c
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 09/06/2016
ms.author: rclaus
ms.openlocfilehash: 89a9ac022928a2801a9a15e1c172340352745354
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="optimize-your-linux-vm-on-azure"></a><span data-ttu-id="854bc-104">Optimiser votre machine virtuelle Linux sur Azure</span><span class="sxs-lookup"><span data-stu-id="854bc-104">Optimize your Linux VM on Azure</span></span>
<span data-ttu-id="854bc-105">Création d’une machine virtuelle de Linux (VM) est toodo facile à partir de la ligne de commande hello ou à partir du portail de hello.</span><span class="sxs-lookup"><span data-stu-id="854bc-105">Creating a Linux virtual machine (VM) is easy toodo from hello command line or from hello portal.</span></span> <span data-ttu-id="854bc-106">Ce didacticiel vous montre comment tooensure vous l’avez configuré toooptimize ses performances sur la plateforme de Microsoft Azure hello.</span><span class="sxs-lookup"><span data-stu-id="854bc-106">This tutorial shows you how tooensure you have set it up toooptimize its performance on hello Microsoft Azure platform.</span></span> <span data-ttu-id="854bc-107">Dans cette rubrique, une machine virtuelle de serveur Ubuntu est utilisée, mais vous pouvez également créer des machines virtuelles Linux en utilisant vos [propres images en tant que modèles](create-upload-generic.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="854bc-107">This topic uses an Ubuntu Server VM, but you can also create Linux virtual machine using [your own images as templates](create-upload-generic.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="854bc-108">Composants requis</span><span class="sxs-lookup"><span data-stu-id="854bc-108">Prerequisites</span></span>
<span data-ttu-id="854bc-109">Cet article repose sur l’hypothèse que vous disposez déjà d’un abonnement Azure actif ([s’inscrire pour un essai gratuit](https://azure.microsoft.com/pricing/free-trial/)) et que vous avez déjà approvisionné une machine virtuelle dans votre abonnement Azure.</span><span class="sxs-lookup"><span data-stu-id="854bc-109">This topic assumes you already have a working Azure subscription ([free trial signup](https://azure.microsoft.com/pricing/free-trial/)) and have already provisioned a VM into your Azure subscription.</span></span> <span data-ttu-id="854bc-110">Assurez-vous que vous avez hello dernières [Azure CLI 2.0](/cli/azure/install-az-cli2) installé et connecté tooyour abonnement Azure avec [ouverture de session az](/cli/azure/#login) avant [créer une machine virtuelle](quick-create-cli.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="854bc-110">Make sure that you have hello latest [Azure CLI 2.0](/cli/azure/install-az-cli2) installed and logged in tooyour Azure subscription with [az login](/cli/azure/#login) before you [create a VM](quick-create-cli.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

## <a name="azure-os-disk"></a><span data-ttu-id="854bc-111">Disque de système d’exploitation Azure</span><span class="sxs-lookup"><span data-stu-id="854bc-111">Azure OS Disk</span></span>
<span data-ttu-id="854bc-112">Lorsque vous créez une machine virtuelle Linux dans Azure, deux disques lui sont associés.</span><span class="sxs-lookup"><span data-stu-id="854bc-112">Once you create a Linux VM in Azure, it has two disks associated with it.</span></span> <span data-ttu-id="854bc-113">**/dev/sda** est le disque de votre système d’exploitation, et **/dev/sdb** est votre disque temporaire.</span><span class="sxs-lookup"><span data-stu-id="854bc-113">**/dev/sda** is your OS disk, **/dev/sdb** is your temporary disk.</span></span>  <span data-ttu-id="854bc-114">N’utilisez pas de disque de système d’exploitation principal hello (**/dev/sda**) pour tout élément à l’exception de système d’exploitation de hello tel qu’il est optimisé pour les temps de démarrage rapide machine virtuelle et ne fournit pas de bonnes performances pour vos charges de travail.</span><span class="sxs-lookup"><span data-stu-id="854bc-114">Do not use hello main OS disk (**/dev/sda**) for anything except hello operating system as it is optimized for fast VM boot time and does not provide good performance for your workloads.</span></span> <span data-ttu-id="854bc-115">Vous souhaitez tooattach un ou plusieurs disques tooyour VM tooget persistant et optimisé le stockage pour vos données.</span><span class="sxs-lookup"><span data-stu-id="854bc-115">You want tooattach one or more disks tooyour VM tooget persistent and optimized storage for your data.</span></span> 

## <a name="adding-disks-for-size-and-performance-targets"></a><span data-ttu-id="854bc-116">Ajout de disques selon vos objectifs de taille et de performances</span><span class="sxs-lookup"><span data-stu-id="854bc-116">Adding Disks for Size and Performance targets</span></span>
<span data-ttu-id="854bc-117">En fonction de hello taille de machine virtuelle, vous pouvez attacher des too16 des disques supplémentaires sur une série, 32 disques sur une série D et 64 disques sur un ordinateur de la série G - chacun jusqu'à to too1 taille.</span><span class="sxs-lookup"><span data-stu-id="854bc-117">Based on hello VM size, you can attach up too16 additional disks on an A-Series, 32 disks on a D-Series and 64 disks on a G-Series machine - each up too1 TB in size.</span></span> <span data-ttu-id="854bc-118">Ajoutez des disques en fonction de vos besoins en matière d’espace et d’E/S par seconde.</span><span class="sxs-lookup"><span data-stu-id="854bc-118">You add extra disks as needed per your space and IOps requirements.</span></span> <span data-ttu-id="854bc-119">Chaque disque a une cible de performances de 500 IOps pour le stockage Standard et des e/s de too5000 par disque pour le stockage Premium.</span><span class="sxs-lookup"><span data-stu-id="854bc-119">Each disk has a performance target of 500 IOps for Standard Storage and up too5000 IOps per disk for Premium Storage.</span></span>  <span data-ttu-id="854bc-120">Pour plus d’informations sur les disques de Stockage Premium, consultez l’article [Stockage Premium : stockage à hauts niveaux de performances pour les machines virtuelles Azure](../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="854bc-120">For more information about Premium Storage disks, see [Premium Storage: High-Performance Storage for Azure VMs](../../storage/common/storage-premium-storage.md)</span></span>

<span data-ttu-id="854bc-121">tooachieve hello IOps plus élevé sur des disques de stockage Premium où leurs paramètres de cache a tooeither **ReadOnly** ou **aucun**, vous devez désactiver **barrières** tandis que le montage de système de fichiers hello dans Linux.</span><span class="sxs-lookup"><span data-stu-id="854bc-121">tooachieve hello highest IOps on Premium Storage disks where their cache settings have been set tooeither **ReadOnly** or **None**, you must disable **barriers** while mounting hello file system in Linux.</span></span> <span data-ttu-id="854bc-122">Vous n’avez pas besoin de barrières car hello écrit tooPremium stockage disques sauvegardées sont durables pour ces paramètres de cache.</span><span class="sxs-lookup"><span data-stu-id="854bc-122">You do not need barriers because hello writes tooPremium Storage backed disks are durable for these cache settings.</span></span>

* <span data-ttu-id="854bc-123">Si vous utilisez **reiserFS**, désactiver les obstacles à l’aide d’option de montage hello `barrier=none` (pour l’activation de barrières, utilisez `barrier=flush`)</span><span class="sxs-lookup"><span data-stu-id="854bc-123">If you use **reiserFS**, disable barriers using hello mount option `barrier=none` (For enabling barriers, use `barrier=flush`)</span></span>
* <span data-ttu-id="854bc-124">Si vous utilisez **ext3/ext4**, désactiver les obstacles à l’aide d’option de montage hello `barrier=0` (pour l’activation de barrières, utilisez `barrier=1`)</span><span class="sxs-lookup"><span data-stu-id="854bc-124">If you use **ext3/ext4**, disable barriers using hello mount option `barrier=0` (For enabling barriers, use `barrier=1`)</span></span>
* <span data-ttu-id="854bc-125">Si vous utilisez **XFS**, désactiver les obstacles à l’aide d’option de montage hello `nobarrier` (pour l’activation de barrières, utilisez option de hello `barrier`)</span><span class="sxs-lookup"><span data-stu-id="854bc-125">If you use **XFS**, disable barriers using hello mount option `nobarrier` (For enabling barriers, use hello option `barrier`)</span></span>

## <a name="unmanaged-storage-account-considerations"></a><span data-ttu-id="854bc-126">Considérations relatives aux comptes de stockage non gérés</span><span class="sxs-lookup"><span data-stu-id="854bc-126">Unmanaged storage account considerations</span></span>
<span data-ttu-id="854bc-127">Hello par défaut lorsque vous créez une machine virtuelle avec hello Azure CLI 2.0 sont toouse Azure géré disques.</span><span class="sxs-lookup"><span data-stu-id="854bc-127">hello default action when you create a VM with hello Azure CLI 2.0 is toouse Azure Managed Disks.</span></span>  <span data-ttu-id="854bc-128">Ces disques sont gérées par hello plateforme Azure et ne nécessitent pas de n’importe quel toostore préparation ou emplacement les.</span><span class="sxs-lookup"><span data-stu-id="854bc-128">These disks are handled by hello Azure platform and do not require any preparation or location toostore them.</span></span>  <span data-ttu-id="854bc-129">Les disques non gérés requièrent un compte de stockage et sont associés à certaines autres considérations en matière de performances.</span><span class="sxs-lookup"><span data-stu-id="854bc-129">Unmanaged disks require a storage account and have some additional performance considerations.</span></span>  <span data-ttu-id="854bc-130">Pour plus d’informations sur les disques gérés, consultez [Vue d’ensemble d’Azure Managed Disks](../windows/managed-disks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="854bc-130">For more information about managed disks, see [Azure Managed Disks overview](../windows/managed-disks-overview.md).</span></span>  <span data-ttu-id="854bc-131">Hello section suivante décrit les considérations de performances uniquement lorsque vous utilisez des disques non managés.</span><span class="sxs-lookup"><span data-stu-id="854bc-131">hello following section outlines performance considerations only when you use unmanaged disks.</span></span>  <span data-ttu-id="854bc-132">Là encore, hello par défaut et solution de stockage recommandée est de disques toouse géré.</span><span class="sxs-lookup"><span data-stu-id="854bc-132">Again, hello default and recommended storage solution is toouse managed disks.</span></span>

<span data-ttu-id="854bc-133">Si vous créez une machine virtuelle avec des disques non managés, assurez-vous que vous attachez des disques à partir de comptes de stockage résidant dans hello même région que votre tooensure VM proximité et de réduire la latence du réseau.</span><span class="sxs-lookup"><span data-stu-id="854bc-133">If you create a VM with unmanaged disks, make sure that you attach disks from storage accounts residing in hello same region as your VM tooensure close proximity and minimize network latency.</span></span>  <span data-ttu-id="854bc-134">Chaque compte de stockage Standard présente une limite de 20 000 E/S par seconde et une taille maximale de 500 To.</span><span class="sxs-lookup"><span data-stu-id="854bc-134">Each Standard storage account has a maximum of 20k IOps and a 500 TB size capacity.</span></span>  <span data-ttu-id="854bc-135">Cette limite fonctionne, y compris les disques hello du système d’exploitation et les disques de données que vous créez des disques tooapproximately 40 très sollicité.</span><span class="sxs-lookup"><span data-stu-id="854bc-135">This  limit works out tooapproximately 40 heavily used disks including both hello OS disk and any data disks you create.</span></span> <span data-ttu-id="854bc-136">Pour les comptes de stockage Premium, il n’existe aucun nombre maximal d’E/S par seconde, mais une limite de taille de 32 To.</span><span class="sxs-lookup"><span data-stu-id="854bc-136">For Premium Storage accounts, there is no Maximum IOps limit but there is a 32 TB size limit.</span></span> 

<span data-ttu-id="854bc-137">Lors de travailler au niveau élevé IOps des charges de travail et que vous avez choisi de stockage Standard pour vos disques, vous devrez peut-être les disques hello toosplit entre plusieurs toomake des comptes de stockage que vous n’avez pas atteint hello 20 000 IOps limite pour les comptes de stockage Standard.</span><span class="sxs-lookup"><span data-stu-id="854bc-137">When dealing with high IOps workloads and you have chosen Standard Storage for your disks, you might need toosplit hello disks across multiple storage accounts toomake sure you have not hit hello 20,000 IOps limit for Standard Storage accounts.</span></span> <span data-ttu-id="854bc-138">Votre machine virtuelle peut contenir une combinaison de disques de différents comptes de stockage et tooachieve de types de compte de stockage votre configuration optimale.</span><span class="sxs-lookup"><span data-stu-id="854bc-138">Your VM can contain a mix of disks from across different storage accounts and storage account types tooachieve your optimal configuration.</span></span>
 

## <a name="your-vm-temporary-drive"></a><span data-ttu-id="854bc-139">Votre lecteur temporaire de machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="854bc-139">Your VM Temporary drive</span></span>
<span data-ttu-id="854bc-140">Lorsque vous créez une machine virtuelle, Azure vous fournit par défaut un disque de système d’exploitation (**/dev/sda**) et un disque temporaire (**/dev/sdb**).</span><span class="sxs-lookup"><span data-stu-id="854bc-140">By default when you create a VM, Azure provides you with an OS disk (**/dev/sda**) and a temporary disk (**/dev/sdb**).</span></span>  <span data-ttu-id="854bc-141">Tous les disques que vous ajoutez apparaissent sous la forme **/dev/sdc**, **/dev/sdd**, **/dev/sde**, etc.</span><span class="sxs-lookup"><span data-stu-id="854bc-141">All additional disks you add show up as **/dev/sdc**, **/dev/sdd**, **/dev/sde** and so on.</span></span> <span data-ttu-id="854bc-142">Les données figurant sur votre disque temporaire (**/dev/sdb**) ne sont pas pérennes et risquent d’être perdues si des événements spécifiques, tels qu’un redimensionnement, un redéploiement ou une maintenance de machine virtuelle, imposent un redémarrage de votre machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="854bc-142">All data on your temporary disk (**/dev/sdb**) is not durable, and can be lost if specific events like VM Resizing, redeployment, or maintenance forces a restart of your VM.</span></span>  <span data-ttu-id="854bc-143">taille de Hello et le type de votre disque temporaire est connexes toohello taille de machine virtuelle choisie au moment du déploiement.</span><span class="sxs-lookup"><span data-stu-id="854bc-143">hello size and type of your temporary disk is related toohello VM size you chose at deployment time.</span></span> <span data-ttu-id="854bc-144">Tous les lecteur temporaire hello de machines virtuelles (série DS, G et DS_V2) taille hello premium sont soutenues par un disque SSD local pour augmenter les performances des e/s too48k.</span><span class="sxs-lookup"><span data-stu-id="854bc-144">All of hello premium size VMs (DS, G, and DS_V2 series) hello temporary drive are backed by a local SSD for additional performance of up too48k IOps.</span></span> 

## <a name="linux-swap-file"></a><span data-ttu-id="854bc-145">Fichier d’échange Linux</span><span class="sxs-lookup"><span data-stu-id="854bc-145">Linux Swap File</span></span>
<span data-ttu-id="854bc-146">Si votre machine virtuelle Azure est à partir d’une image Ubuntu ou CoreOS, vous pouvez utiliser CustomData toosend un toocloud cloud-config-init.</span><span class="sxs-lookup"><span data-stu-id="854bc-146">If your Azure VM is from an Ubuntu or CoreOS image, then you can use CustomData toosend a cloud-config toocloud-init.</span></span> <span data-ttu-id="854bc-147">Si vous [avez téléchargé une image Linux personnalisée](upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) qui utilise cloud-init, vous configurez également les partitions d’échange à l’aide de cloud-init.</span><span class="sxs-lookup"><span data-stu-id="854bc-147">If you [uploaded a custom Linux image](upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) that uses cloud-init, you also configure swap partitions using cloud-init.</span></span>

<span data-ttu-id="854bc-148">Sur Ubuntu Cloud Images, vous devez utiliser partition d’échange cloud-init tooconfigure hello.</span><span class="sxs-lookup"><span data-stu-id="854bc-148">On Ubuntu Cloud Images, you must use cloud-init tooconfigure hello swap partition.</span></span> <span data-ttu-id="854bc-149">Pour plus d’informations, consultez l’article [AzureSwapPartitions](https://wiki.ubuntu.com/AzureSwapPartitions).</span><span class="sxs-lookup"><span data-stu-id="854bc-149">For more information, see [AzureSwapPartitions](https://wiki.ubuntu.com/AzureSwapPartitions).</span></span>

<span data-ttu-id="854bc-150">Pour les images sans prise en charge de l’initialisation de nuage, des images de machine virtuelle déployées à partir d’Azure Marketplace de hello ont un Agent de Linux de machine virtuelle intégré à hello du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="854bc-150">For images without cloud-init support, VM images deployed from hello Azure Marketplace have a VM Linux Agent integrated with hello OS.</span></span> <span data-ttu-id="854bc-151">Cet agent permet de toointeract de machine virtuelle hello avec différents services Azure.</span><span class="sxs-lookup"><span data-stu-id="854bc-151">This agent allows hello VM toointeract with various Azure services.</span></span> <span data-ttu-id="854bc-152">En supposant que vous avez déployé une image standard à partir de hello Azure Marketplace, vous devez toodo hello suivant toocorrectly configurer vos paramètres de fichier d’échange Linux :</span><span class="sxs-lookup"><span data-stu-id="854bc-152">Assuming you have deployed a standard image from hello Azure Marketplace, you would need toodo hello following toocorrectly configure your Linux swap file settings:</span></span>

<span data-ttu-id="854bc-153">Rechercher et modifier les deux entrées de hello **/etc/waagent.conf** fichier.</span><span class="sxs-lookup"><span data-stu-id="854bc-153">Locate and modify two entries in hello **/etc/waagent.conf** file.</span></span> <span data-ttu-id="854bc-154">Ils contrôlent hello l’existence d’un fichier d’échange dédié et de taille de fichier d’échange hello.</span><span class="sxs-lookup"><span data-stu-id="854bc-154">They control hello existence of a dedicated swap file and size of hello swap file.</span></span> <span data-ttu-id="854bc-155">paramètres Hello vous cherchez toomodify sont `ResourceDisk.EnableSwap=N` et`ResourceDisk.SwapSizeMB=0`</span><span class="sxs-lookup"><span data-stu-id="854bc-155">hello parameters you are looking toomodify are `ResourceDisk.EnableSwap=N` and `ResourceDisk.SwapSizeMB=0`</span></span> 

<span data-ttu-id="854bc-156">Modifier hello toohello de paramètres suivant les paramètres :</span><span class="sxs-lookup"><span data-stu-id="854bc-156">Change hello parameters toohello following settings:</span></span>

* <span data-ttu-id="854bc-157">ResourceDisk.EnableSwap=Y</span><span class="sxs-lookup"><span data-stu-id="854bc-157">ResourceDisk.EnableSwap=Y</span></span>
* <span data-ttu-id="854bc-158">ResourceDisk.SwapSizeMB={size dans Mo toomeet vos besoins}</span><span class="sxs-lookup"><span data-stu-id="854bc-158">ResourceDisk.SwapSizeMB={size in MB toomeet your needs}</span></span> 

<span data-ttu-id="854bc-159">Une fois que vous avez modifié hello, vous devez toorestart hello waagent ou redémarrez votre tooreflect Linux VM ces modifications.</span><span class="sxs-lookup"><span data-stu-id="854bc-159">Once you have made hello change, you need toorestart hello waagent or restart your Linux VM tooreflect those changes.</span></span>  <span data-ttu-id="854bc-160">Vous connaissez les modifications hello ont été implémentées et un fichier d’échange a été créé lorsque vous utilisez hello `free` tooview d’espace libre de la commande.</span><span class="sxs-lookup"><span data-stu-id="854bc-160">You know hello changes have been implemented and a swap file has been created when you use hello `free` command tooview free space.</span></span> <span data-ttu-id="854bc-161">Hello exemple suivant comprend un fichier d’échange de 512 Mo créé suite à la modification hello **waagent.conf** fichier :</span><span class="sxs-lookup"><span data-stu-id="854bc-161">hello following example has a 512MB swap file created as a result of modifying hello **waagent.conf** file:</span></span>

```bash
azuseruser@myVM:~$ free
            total       used       free     shared    buffers     cached
Mem:       3525156     804168    2720988        408       8428     633192
-/+ buffers/cache:     162548    3362608
Swap:       524284          0     524284
```

## <a name="io-scheduling-algorithm-for-premium-storage"></a><span data-ttu-id="854bc-162">Algorithme de planification d’E/S pour le stockage Premium</span><span class="sxs-lookup"><span data-stu-id="854bc-162">I/O scheduling algorithm for Premium Storage</span></span>
<span data-ttu-id="854bc-163">Avec le noyau Linux hello 2.6.18 algorithme de planification hello par défaut d’e/s a été modifiée à partir de la date d’échéance tooCFQ (algorithme de file d’attente complètement juste).</span><span class="sxs-lookup"><span data-stu-id="854bc-163">With hello 2.6.18 Linux kernel, hello default I/O scheduling algorithm was changed from Deadline tooCFQ (Completely fair queuing algorithm).</span></span> <span data-ttu-id="854bc-164">Pour les modèles d’E/S à accès aléatoire, les différences de performances entre CFQ et Deadline sont minimes.</span><span class="sxs-lookup"><span data-stu-id="854bc-164">For random access I/O patterns, there is negligible difference in performance differences between CFQ and Deadline.</span></span>  <span data-ttu-id="854bc-165">Pour des disques SSD où le modèle d’e/s disque hello est essentiellement séquentielles, le retour toohello NOOP ou échéance d’un algorithme peut atteindre améliorer les performances d’e/s.</span><span class="sxs-lookup"><span data-stu-id="854bc-165">For SSD-based disks where hello disk I/O pattern is predominantly sequential, switching back toohello NOOP or Deadline algorithm can achieve better I/O performance.</span></span>

### <a name="view-hello-current-io-scheduler"></a><span data-ttu-id="854bc-166">Planificateur de vue hello actuel d’e/s</span><span class="sxs-lookup"><span data-stu-id="854bc-166">View hello current I/O scheduler</span></span>
<span data-ttu-id="854bc-167">Utilisez hello de commande suivante :</span><span class="sxs-lookup"><span data-stu-id="854bc-167">Use hello following command:</span></span>  

```bash
cat /sys/block/sda/queue/scheduler
```

<span data-ttu-id="854bc-168">Vous consultez suivant de sortie, ce qui indique le planificateur actuel de hello.</span><span class="sxs-lookup"><span data-stu-id="854bc-168">You see following output, which indicates hello current scheduler.</span></span>  

```bash
noop [deadline] cfq
```

### <a name="change-hello-current-device-devsda-of-io-scheduling-algorithm"></a><span data-ttu-id="854bc-169">Changer de périphérique en cours hello (/ dev/sda) des e/s de l’algorithme de planification</span><span class="sxs-lookup"><span data-stu-id="854bc-169">Change hello current device (/dev/sda) of I/O scheduling algorithm</span></span>
<span data-ttu-id="854bc-170">Utilisez hello suivant de commandes :</span><span class="sxs-lookup"><span data-stu-id="854bc-170">Use hello following commands:</span></span>  

```bash
azureuser@myVM:~$ sudo su -
root@myVM:~# echo "noop" >/sys/block/sda/queue/scheduler
root@myVM:~# sed -i 's/GRUB_CMDLINE_LINUX=""/GRUB_CMDLINE_LINUX_DEFAULT="quiet splash elevator=noop"/g' /etc/default/grub
root@myVM:~# update-grub
```

> [!NOTE]
> <span data-ttu-id="854bc-171">L’application de ce paramètre uniquement pour le disque **/dev/sda** n’a pas d’utilité.</span><span class="sxs-lookup"><span data-stu-id="854bc-171">Applying this setting for **/dev/sda** alone is not useful.</span></span> <span data-ttu-id="854bc-172">Définir sur tous les disques de données où les e/s séquentielles domine modèle d’e/s de hello.</span><span class="sxs-lookup"><span data-stu-id="854bc-172">Set on all data disks where sequential I/O dominates hello I/O pattern.</span></span>  

<span data-ttu-id="854bc-173">Vous devez voir hello suivant de sortie, ce qui indique que **grub.cfg** a été reconstruite avec succès et que le planificateur par défaut hello a été mis à jour tooNOOP.</span><span class="sxs-lookup"><span data-stu-id="854bc-173">You should see hello following output, indicating that **grub.cfg** has been rebuilt successfully and that hello default scheduler has been updated tooNOOP.</span></span>  

```bash
Generating grub configuration file ...
Found linux image: /boot/vmlinuz-3.13.0-34-generic
Found initrd image: /boot/initrd.img-3.13.0-34-generic
Found linux image: /boot/vmlinuz-3.13.0-32-generic
Found initrd image: /boot/initrd.img-3.13.0-32-generic
Found memtest86+ image: /memtest86+.elf
Found memtest86+ image: /memtest86+.bin
done
```

<span data-ttu-id="854bc-174">Pourquoi la famille de Redhat distribution, vous devez uniquement hello de commande suivante :</span><span class="sxs-lookup"><span data-stu-id="854bc-174">For hello Redhat distribution family, you only need hello following command:</span></span>   

```bash
echo 'echo noop >/sys/block/sda/queue/scheduler' >> /etc/rc.local
```

## <a name="using-software-raid-tooachieve-higher-iops"></a><span data-ttu-id="854bc-175">À l’aide de tooachieve logiciel RAID de niveau supérieur I / Ops</span><span class="sxs-lookup"><span data-stu-id="854bc-175">Using Software RAID tooachieve higher I/Ops</span></span>
<span data-ttu-id="854bc-176">Si vos charges de travail nécessitent plus d’IOps qu’un seul disque peut fournir, vous devez toouse une configuration RAID de logiciel de plusieurs disques.</span><span class="sxs-lookup"><span data-stu-id="854bc-176">If your workloads require more IOps than a single disk can provide, you need toouse a software RAID configuration of multiple disks.</span></span> <span data-ttu-id="854bc-177">Étant donné que Azure effectue déjà la résilience de disque au niveau de l’infrastructure locale hello, vous obtenir hello plus haut niveau de performances d’une configuration d’agrégation par bandes RAID-0.</span><span class="sxs-lookup"><span data-stu-id="854bc-177">Because Azure already performs disk resiliency at hello local fabric layer, you achieve hello highest level of performance from a RAID-0 striping configuration.</span></span>  <span data-ttu-id="854bc-178">Configurer et créer des disques Bonjour environnement Azure et définissez-les tooyour Linux VM avant de partitionnement, de mise en forme et de montage de lecteurs hello.</span><span class="sxs-lookup"><span data-stu-id="854bc-178">Provision and create disks in hello Azure environment and attach them tooyour Linux VM before partitioning, formatting and mounting hello drives.</span></span>  <span data-ttu-id="854bc-179">Vous trouverez plus d’informations sur la configuration d’un programme d’installation RAID logiciels sur votre VM Linux dans azure Bonjour  **[configuration de RAID logiciels sur Linux](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)**  document.</span><span class="sxs-lookup"><span data-stu-id="854bc-179">More details on configuring a software RAID setup on your Linux VM in azure can be found in hello **[Configuring Software RAID on Linux](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)** document.</span></span>

## <a name="next-steps"></a><span data-ttu-id="854bc-180">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="854bc-180">Next Steps</span></span>
<span data-ttu-id="854bc-181">N’oubliez pas, comme avec toutes les discussions d’optimisation, vous devez tooperform des tests avant et après chaque impact sur les modifications toomeasure hello hello modification a.</span><span class="sxs-lookup"><span data-stu-id="854bc-181">Remember, as with all optimization discussions, you need tooperform tests before and after each change toomeasure hello impact hello change has.</span></span>  <span data-ttu-id="854bc-182">L’optimisation est un processus graduel dont les résultats varient d’une machine à l’autre dans votre environnement.</span><span class="sxs-lookup"><span data-stu-id="854bc-182">Optimization is a step by step process that has different results across different machines in your environment.</span></span>  <span data-ttu-id="854bc-183">Ce qui fonctionne bien pour une configuration donnée n’offre pas nécessairement de bons résultats pour d’autres.</span><span class="sxs-lookup"><span data-stu-id="854bc-183">What works for one configuration may not work for others.</span></span>

<span data-ttu-id="854bc-184">Certaines ressources tooadditional de liens utiles :</span><span class="sxs-lookup"><span data-stu-id="854bc-184">Some useful links tooadditional resources:</span></span> 

* [<span data-ttu-id="854bc-185">Stockage Premium : stockage hautes performances pour les charges de travail des machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="854bc-185">Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads</span></span>](../../storage/common/storage-premium-storage.md)
* [<span data-ttu-id="854bc-186">Guide d’utilisateur de l’agent Linux Azure</span><span class="sxs-lookup"><span data-stu-id="854bc-186">Azure Linux Agent User Guide</span></span>](../windows/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="854bc-187">Optimisation des performances MySQL sur les machines virtuelles Linux Azure</span><span class="sxs-lookup"><span data-stu-id="854bc-187">Optimizing MySQL Performance on Azure Linux VMs</span></span>](classic/optimize-mysql.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json)
* [<span data-ttu-id="854bc-188">Configuration d’un RAID logiciel sur Linux</span><span class="sxs-lookup"><span data-stu-id="854bc-188">Configure Software RAID on Linux</span></span>](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

