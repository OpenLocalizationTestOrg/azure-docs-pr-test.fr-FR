---
title: "Utilisation de clés SSH avec Windows pour les machines virtuelles Linux | Microsoft Docs"
description: "Apprenez à créer et à utiliser des clés SSH sur un ordinateur Windows pour vous connecter à une machine virtuelle Linux dans Azure."
services: virtual-machines-linux
documentationcenter: 
author: dlepow
manager: timlt
editor: 
tags: azure-service-management,azure-resource-manager
ms.assetid: 2cacda3b-7949-4036-bd5d-837e8b09a9c8
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 03/08/2017
ms.author: danlep
ms.openlocfilehash: 66837a3a153cda041f5351c52c8ccb1f8ccfea50
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/03/2017
---
# <a name="how-to-use-ssh-keys-with-windows-on-azure"></a><span data-ttu-id="f52e0-103">Utilisation de clés SSH avec Windows sur Azure</span><span class="sxs-lookup"><span data-stu-id="f52e0-103">How to Use SSH keys with Windows on Azure</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="f52e0-104">Windows</span><span class="sxs-lookup"><span data-stu-id="f52e0-104">Windows</span></span>](ssh-from-windows.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
> * [<span data-ttu-id="f52e0-105">Linux/Mac</span><span class="sxs-lookup"><span data-stu-id="f52e0-105">Linux/Mac</span></span>](mac-create-ssh-keys.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
>
>

<span data-ttu-id="f52e0-106">Lorsque vous vous connectez à des machines virtuelles Linux dans Azure, vous devez utiliser un [chiffrement à clé publique](https://wikipedia.org/wiki/Public-key_cryptography) pour garantir une connexion plus sûre à votre machine virtuelle Linux.</span><span class="sxs-lookup"><span data-stu-id="f52e0-106">When you connect to Linux virtual machines (VMs) in Azure, you should use [public-key cryptography](https://wikipedia.org/wiki/Public-key_cryptography) to provide a more secure way to log in to your Linux VM.</span></span> <span data-ttu-id="f52e0-107">Ce processus implique un échange de clés publiques et privées à l’aide de la commande SSH (secure shell) pour vous authentifier vous-même plutôt qu’un nom d’utilisateur et un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="f52e0-107">This process involves a public and private key exchange using the secure shell (SSH) command to authenticate yourself rather than a username and password.</span></span> <span data-ttu-id="f52e0-108">Les mots de passe sont vulnérables aux attaques en force brute, en particulier sur les machines virtuelles connectées à Internet comme les serveurs web.</span><span class="sxs-lookup"><span data-stu-id="f52e0-108">Passwords are vulnerable to brute-force attacks, especially on Internet-facing VMs such as web servers.</span></span> <span data-ttu-id="f52e0-109">Cet article fournit une vue d’ensemble des clés SSH et explique comment générer les clés appropriées sur un ordinateur Windows.</span><span class="sxs-lookup"><span data-stu-id="f52e0-109">This article provides an overview of SSH keys and how to generate the appropriate keys on a Windows computer.</span></span>

## <a name="overview-of-ssh-and-keys"></a><span data-ttu-id="f52e0-110">Vue d’ensemble de SSH et des clés</span><span class="sxs-lookup"><span data-stu-id="f52e0-110">Overview of SSH and keys</span></span>
<span data-ttu-id="f52e0-111">Vous pouvez vous connecter en toute sécurité à votre machine virtuelle Linux à l’aide de clés publiques et privées :</span><span class="sxs-lookup"><span data-stu-id="f52e0-111">You can securely log in to your Linux VM by using public and private keys:</span></span>

* <span data-ttu-id="f52e0-112">La **clé publique** est placée sur votre machine virtuelle Linux, ou tout autre service que vous souhaitez utiliser avec le chiffrement à clé publique.</span><span class="sxs-lookup"><span data-stu-id="f52e0-112">The **public key** is placed on your Linux VM, or any other service that you wish to use with public-key cryptography.</span></span>
* <span data-ttu-id="f52e0-113">La **clé privée** est fournie à votre machine virtuelle Linux lorsque vous vous connectez afin de vérifier votre identité.</span><span class="sxs-lookup"><span data-stu-id="f52e0-113">The **private key** is what you present to your Linux VM when you log in, to verify your identity.</span></span> <span data-ttu-id="f52e0-114">Protégez cette clé privée.</span><span class="sxs-lookup"><span data-stu-id="f52e0-114">Protect this private key.</span></span> <span data-ttu-id="f52e0-115">Ne la partagez pas.</span><span class="sxs-lookup"><span data-stu-id="f52e0-115">Do not share it.</span></span>

<span data-ttu-id="f52e0-116">Ces clés publiques et privées peuvent être utilisées sur plusieurs machines virtuelles et services.</span><span class="sxs-lookup"><span data-stu-id="f52e0-116">These public and private keys can be used on multiple VMs and services.</span></span> <span data-ttu-id="f52e0-117">Vous n’avez pas besoin d’une paire de clés pour chaque machine virtuelle ou service auxquels vous souhaitez accéder.</span><span class="sxs-lookup"><span data-stu-id="f52e0-117">You do not need a pair of keys for each VM or service you wish to access.</span></span> <span data-ttu-id="f52e0-118">Pour une présentation plus détaillée, consultez [Chiffrement à clé publique](https://wikipedia.org/wiki/Public-key_cryptography).</span><span class="sxs-lookup"><span data-stu-id="f52e0-118">For a more detailed overview, see [public-key cryptography](https://wikipedia.org/wiki/Public-key_cryptography).</span></span>

<span data-ttu-id="f52e0-119">SSH est un protocole de connexion chiffré qui permet d'ouvrir des sessions en toute sécurité à travers des connexions non sécurisées.</span><span class="sxs-lookup"><span data-stu-id="f52e0-119">SSH is an encrypted connection protocol that allows secure logins over unsecured connections.</span></span> <span data-ttu-id="f52e0-120">Il s’agit du protocole de connexion par défaut pour les machines virtuelles Linux hébergées dans Azure.</span><span class="sxs-lookup"><span data-stu-id="f52e0-120">It is the default connection protocol for Linux VMs hosted in Azure.</span></span> <span data-ttu-id="f52e0-121">Bien que le protocole SSH lui-même offre une connexion chiffrée, l’utilisation de mots de passe avec des connexions SSH laisse néanmoins la machine virtuelle vulnérable aux attaques en force brute ou au piratage des mots de passe.</span><span class="sxs-lookup"><span data-stu-id="f52e0-121">Although SSH itself provides an encrypted connection, using passwords with SSH connections still leaves the VM vulnerable to brute-force attacks or guessing of passwords.</span></span> <span data-ttu-id="f52e0-122">Une méthode plus sûre et recommandée consiste à se connecter à une machine virtuelle à l’aide de SSH et à utiliser ces clés publiques et privées, également appelées clés SSH.</span><span class="sxs-lookup"><span data-stu-id="f52e0-122">A more secure and preferred method of connecting to a VM using SSH is by using these public and private keys, also known as SSH keys.</span></span>

<span data-ttu-id="f52e0-123">Si vous ne souhaitez pas utiliser de clés SSH, vous pouvez toujours vous connecter à vos machines virtuelles Linux à l’aide d’un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="f52e0-123">If you do not wish to use SSH keys, you can still log in to your Linux VMs using a password.</span></span> <span data-ttu-id="f52e0-124">Si votre machine virtuelle n’est pas exposée à Internet, l’utilisation de mots de passe peut être suffisante.</span><span class="sxs-lookup"><span data-stu-id="f52e0-124">If your VM is not exposed to the Internet, using passwords may be sufficient.</span></span> <span data-ttu-id="f52e0-125">Toutefois, vous devez toujours gérer vos mots de passe pour chaque machine virtuelle Linux et maintenir des stratégies de mot de passe efficaces, par exemple en spécifiant une longueur minimale de mot de passe et une mise à jour régulière.</span><span class="sxs-lookup"><span data-stu-id="f52e0-125">However, you still need to manage your passwords for each Linux VM and maintain healthy password policies and practices, such as minimum password length and regularly updating them.</span></span> <span data-ttu-id="f52e0-126">L’utilisation de clés SSH simplifie la gestion des informations d’identification individuelles sur plusieurs machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="f52e0-126">The use of SSH keys reduces the complexity of managing individual credentials across multiple VMs.</span></span>

## <a name="windows-packages-and-ssh-clients"></a><span data-ttu-id="f52e0-127">Packages Windows et clients SSH</span><span class="sxs-lookup"><span data-stu-id="f52e0-127">Windows packages and SSH clients</span></span>
<span data-ttu-id="f52e0-128">Vous vous connectez à des machines virtuelles Linux et gérez ces machines dans Azure à l’aide d’un **client SSH**.</span><span class="sxs-lookup"><span data-stu-id="f52e0-128">You connect to and manage Linux VMs in Azure using an **SSH client**.</span></span> <span data-ttu-id="f52e0-129">Aucun client SSH n’est généralement installé sur les ordinateurs Windows.</span><span class="sxs-lookup"><span data-stu-id="f52e0-129">Windows computers do not typically have an SSH client installed.</span></span> <span data-ttu-id="f52e0-130">La mise à jour anniversaire Windows 10 a ajouté Bash pour Windows et la dernière mise à jour Windows 10 Creators Update fournit des mises à jour supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="f52e0-130">The Windows 10 Anniversary Update added Bash for Windows, and the latest Windows 10 Creators Update provides additional updates.</span></span> <span data-ttu-id="f52e0-131">Windows Subsystem pour Linux vous permet d’exécuter à des utilitaires et d’y accéder, comme un client SSH de façon native dans un interpréteur de commandes Bash.</span><span class="sxs-lookup"><span data-stu-id="f52e0-131">This Windows Subsystem for Linux allows you to run and access utilities such as an SSH client natively within a Bash shell.</span></span> <span data-ttu-id="f52e0-132">Vous pouvez ensuite consulter un des documents Linux, tel que [Générer des paires de clés SSH pour Linux](mac-create-ssh-keys.md).</span><span class="sxs-lookup"><span data-stu-id="f52e0-132">You can then follow any of the Linux docs, such as [How to generate SSH key pairs for Linux](mac-create-ssh-keys.md).</span></span> <span data-ttu-id="f52e0-133">Bash pour Windows est toujours en cours de développement et est considéré comme une version bêta.</span><span class="sxs-lookup"><span data-stu-id="f52e0-133">Bash for Windows is still under development, and is considered a beta release.</span></span> <span data-ttu-id="f52e0-134">Pour plus d’informations sur Bash pour Windows, consultez la page [Bash sur Ubuntu sur Windows](https://msdn.microsoft.com/commandline/wsl/about).</span><span class="sxs-lookup"><span data-stu-id="f52e0-134">For more information about Bash for Windows, see [Bash on Ubuntu on Windows](https://msdn.microsoft.com/commandline/wsl/about).</span></span>

<span data-ttu-id="f52e0-135">Si vous souhaitez utiliser un autre outil que Bash pour Windows, voici une liste des packages de clients SSH Windows que vous pouvez installer :</span><span class="sxs-lookup"><span data-stu-id="f52e0-135">If you wish to use something other than Bash for Windows, common Windows SSH clients you can install are included in the following packages:</span></span>

* [<span data-ttu-id="f52e0-136">Git pour Windows</span><span class="sxs-lookup"><span data-stu-id="f52e0-136">Git For Windows</span></span>](https://git-for-windows.github.io/)
* [<span data-ttu-id="f52e0-137">puTTY</span><span class="sxs-lookup"><span data-stu-id="f52e0-137">puTTY</span></span>](http://www.chiark.greenend.org.uk/~sgtatham/putty/)
* [<span data-ttu-id="f52e0-138">MobaXterm</span><span class="sxs-lookup"><span data-stu-id="f52e0-138">MobaXterm</span></span>](http://mobaxterm.mobatek.net/)
* [<span data-ttu-id="f52e0-139">Cygwin</span><span class="sxs-lookup"><span data-stu-id="f52e0-139">Cygwin</span></span>](https://cygwin.com/)


## <a name="which-key-files-do-you-need-to-create"></a><span data-ttu-id="f52e0-140">Quels fichiers de clés devez-vous créer ?</span><span class="sxs-lookup"><span data-stu-id="f52e0-140">Which key files do you need to create?</span></span>
<span data-ttu-id="f52e0-141">Azure requiert des clés publiques et privées d’au moins 2048 bits au format **ssh-rsa**.</span><span class="sxs-lookup"><span data-stu-id="f52e0-141">Azure requires at least 2048-bit, **ssh-rsa** formatted public and private keys.</span></span> <span data-ttu-id="f52e0-142">Si vous gérez des ressources Azure à l’aide du modèle de déploiement classique, vous devez également générer une clé PEM (fichier `.pem`).</span><span class="sxs-lookup"><span data-stu-id="f52e0-142">If you are managing Azure resources using the Classic deployment model, you also need to generate a PEM (`.pem` file).</span></span>

<span data-ttu-id="f52e0-143">Voici les scénarios de déploiement et les types de fichiers que vous utilisez dans chacun d'eux </span><span class="sxs-lookup"><span data-stu-id="f52e0-143">Here are the deployment scenarios, and the types of files you use in each:</span></span>

1. <span data-ttu-id="f52e0-144">Les clés **ssh-rsa** sont requises pour tout déploiement à l’aide du [portail Azure](https://portal.azure.com) et pour les déploiements Resource Manager à l’aide de [l’interface de ligne de commande Azure](../../cli-install-nodejs.md).</span><span class="sxs-lookup"><span data-stu-id="f52e0-144">**ssh-rsa** keys are required for any deployment using the [Azure portal](https://portal.azure.com), and Resource Manager deployments using the [Azure CLI](../../cli-install-nodejs.md).</span></span>
   * <span data-ttu-id="f52e0-145">Il s’agit généralement des clés dont la plupart des utilisateurs ont besoin.</span><span class="sxs-lookup"><span data-stu-id="f52e0-145">These keys are usually all most people need.</span></span>
2. <span data-ttu-id="f52e0-146">Un fichier `.pem` est nécessaire pour créer des machines virtuelles à l'aide du déploiement classique.</span><span class="sxs-lookup"><span data-stu-id="f52e0-146">A `.pem` file is required to create VMs using the Classic deployment.</span></span> <span data-ttu-id="f52e0-147">Ces clés sont prises en charge dans les déploiements standard lorsque vous utilisez le [portail Azure](https://portal.azure.com) ou [l’interface de ligne de commande Azure](../../cli-install-nodejs.md).</span><span class="sxs-lookup"><span data-stu-id="f52e0-147">These keys are supported in Classic deployments when using the [Azure portal](https://portal.azure.com) or [Azure CLI](../../cli-install-nodejs.md).</span></span>
   * <span data-ttu-id="f52e0-148">Vous devez uniquement créer ces clés et certificats supplémentaires si vous gérez des ressources créées à l’aide du modèle de déploiement classique.</span><span class="sxs-lookup"><span data-stu-id="f52e0-148">You only need to create these additional keys and certificates if you are managing resources created using the Classic deployment model.</span></span>

## <a name="install-git-for-windows"></a><span data-ttu-id="f52e0-149">Installation de Git pour Windows</span><span class="sxs-lookup"><span data-stu-id="f52e0-149">Install Git for Windows</span></span>
<span data-ttu-id="f52e0-150">La section précédente répertoriait plusieurs packages incluant l’outil `openssl` pour Windows.</span><span class="sxs-lookup"><span data-stu-id="f52e0-150">The preceding section listed several packages that include the `openssl` tool for Windows.</span></span> <span data-ttu-id="f52e0-151">Cet outil est nécessaire pour créer des clés publiques et privées.</span><span class="sxs-lookup"><span data-stu-id="f52e0-151">This tool is needed to create public and private keys.</span></span> <span data-ttu-id="f52e0-152">Les exemples suivants expliquent comment installer et utiliser **Git pour Windows**, bien que vous pouvez choisir le package que vous préférez.</span><span class="sxs-lookup"><span data-stu-id="f52e0-152">The following examples detail how to install and use **Git for Windows**, though you can choose whichever package you prefer.</span></span> <span data-ttu-id="f52e0-153">**GIT pour Windows** vous donne accès à d’autres logiciels et utilitaires open source ([OSS](https://en.wikipedia.org/wiki/Open-source_software)) qui peuvent être utiles lorsque vous travaillez avec des machines virtuelles Linux.</span><span class="sxs-lookup"><span data-stu-id="f52e0-153">**Git for Windows** gives you access to some additional open-source software ([OSS](https://en.wikipedia.org/wiki/Open-source_software)) tools and utilities that may be useful as you work with Linux VMs.</span></span>

1. <span data-ttu-id="f52e0-154">Téléchargez et installez **Git pour Windows** à partir de l’emplacement suivant : [https://git-for-windows.github.io/](https://git-for-windows.github.io/).</span><span class="sxs-lookup"><span data-stu-id="f52e0-154">Download and install **Git for Windows** from the following location: [https://git-for-windows.github.io/](https://git-for-windows.github.io/).</span></span>
2. <span data-ttu-id="f52e0-155">Acceptez les options par défaut pendant le processus d’installation, sauf si vous avez besoin de les modifier.</span><span class="sxs-lookup"><span data-stu-id="f52e0-155">Accept the default options during the install process unless you specifically need to change them.</span></span>
3. <span data-ttu-id="f52e0-156">Exécutez **Git Bash** à partir du **menu Démarrer** > **Git** > **Git Bash**.</span><span class="sxs-lookup"><span data-stu-id="f52e0-156">Run **Git Bash** from the **Start Menu** > **Git** > **Git Bash**.</span></span> <span data-ttu-id="f52e0-157">La console ressemble à l’exemple qui suit :</span><span class="sxs-lookup"><span data-stu-id="f52e0-157">The console looks similar to the following example:</span></span>

    ![Interpréteur de commandes Git pour Windows Bash](./media/ssh-from-windows/git-bash-window.png)

## <a name="create-a-private-key"></a><span data-ttu-id="f52e0-159">Création d’une clé privée</span><span class="sxs-lookup"><span data-stu-id="f52e0-159">Create a private key</span></span>
1. <span data-ttu-id="f52e0-160">Dans votre fenêtre **Git Bash**, utilisez `openssl.exe` pour créer une clé privée.</span><span class="sxs-lookup"><span data-stu-id="f52e0-160">In your **Git Bash** window, use `openssl.exe` to create a private key.</span></span> <span data-ttu-id="f52e0-161">L’exemple suivant crée une clé nommée `myPrivateKey` et un certificat nommé `myCert.pem` :</span><span class="sxs-lookup"><span data-stu-id="f52e0-161">The following example creates a key named `myPrivateKey` and certificate named `myCert.pem`:</span></span>

    ```bash
    openssl.exe req -x509 -nodes -days 365 -newkey rsa:2048 \
        -keyout myPrivateKey.key -out myCert.pem
    ```

    <span data-ttu-id="f52e0-162">Le résultat ressemble à l’exemple qui suit :</span><span class="sxs-lookup"><span data-stu-id="f52e0-162">The output looks similar to the following example:</span></span>

    ```bash
    Generating a 2048 bit RSA private key
    .......................................+++
    .......................+++
    writing new private key to 'myPrivateKey.key'
    -----
    You are about to be asked to enter information that will be incorporated
    into your certificate request.
    What you are about to enter is what is called a Distinguished Name or a DN.
    There are quite a few fields but you can leave some blank
    For some fields there will be a default value,
    If you enter '.', the field will be left blank.
    -----
    Country Name (2 letter code) [AU]:
    ```

   <span data-ttu-id="f52e0-163">Si bash signale une erreur, essayez d’ouvrir une nouvelle fenêtre **Git Bash** avec des privilèges élevés.</span><span class="sxs-lookup"><span data-stu-id="f52e0-163">If bash reports an error, try opening a new **Git Bash** window with elevated privileges.</span></span> <span data-ttu-id="f52e0-164">Réexécutez ensuite la commande `openssl` .</span><span class="sxs-lookup"><span data-stu-id="f52e0-164">Then, rerun the `openssl` command.</span></span>

2. <span data-ttu-id="f52e0-165">Répondez aux invites pour le nom du pays, l’emplacement, le nom de l’organisation, etc.</span><span class="sxs-lookup"><span data-stu-id="f52e0-165">Answer the prompts for country name, location, organization name, etc.</span></span>
3. <span data-ttu-id="f52e0-166">Votre nouvelle clé privée et votre nouveau certificat sont créés dans votre répertoire de travail actuel.</span><span class="sxs-lookup"><span data-stu-id="f52e0-166">Your new private key and certificate are created in your current working directory.</span></span> <span data-ttu-id="f52e0-167">En tant que mesure de sécurité, vous devez définir les autorisations sur votre clé privée afin que vous seul puissiez y accéder :</span><span class="sxs-lookup"><span data-stu-id="f52e0-167">As a security measure, you should set the permissions on your private key so that only you can access it:</span></span>

    ```bash
    chmod 0600 myPrivateKey.key
    ```

4. <span data-ttu-id="f52e0-168">La [section suivante](#create-a-private-key-for-putty) détaille l’utilisation de PuTTYgen pour afficher et utiliser la clé publique et créer une clé privée spécifique pour l’utilisation de PuTTY avec SSH dans les machines virtuelles Linux.</span><span class="sxs-lookup"><span data-stu-id="f52e0-168">The [next section](#create-a-private-key-for-putty) details using PuTTYgen to both view and use the public key, and create a private key specific for using PuTTY to SSH to Linux VMs.</span></span> <span data-ttu-id="f52e0-169">La commande suivante génère un fichier de clé publique nommé `myPublicKey.key` que vous pouvez utiliser immédiatement :</span><span class="sxs-lookup"><span data-stu-id="f52e0-169">The following command generates a public key file named `myPublicKey.key` that you can use right away:</span></span>

    ```bash
    openssl.exe rsa -pubout -in myPrivateKey.key -out myPublicKey.key
    ```

5. <span data-ttu-id="f52e0-170">Si vous devez également gérer des ressources classiques, convertissez `myCert.pem` en `myCert.cer` (certificat codé DER X509).</span><span class="sxs-lookup"><span data-stu-id="f52e0-170">If you also need to manage Classic resources, convert the `myCert.pem` to `myCert.cer` (DER encoded X509 certificate).</span></span> <span data-ttu-id="f52e0-171">Effectuez cette étape facultative uniquement si vous avez besoin de gérer spécifiquement d’anciennes ressources classiques.</span><span class="sxs-lookup"><span data-stu-id="f52e0-171">Perform this optional step only if you need to specifically manage older Classic resources.</span></span>

    <span data-ttu-id="f52e0-172">Convertissez le certificat à l’aide de la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="f52e0-172">Convert the certificate using the following command:</span></span>

    ```bash
    openssl.exe  x509 -outform der -in myCert.pem -out myCert.cer
    ```

## <a name="create-a-private-key-for-putty"></a><span data-ttu-id="f52e0-173">Créer une clé privée pour PuTTY</span><span class="sxs-lookup"><span data-stu-id="f52e0-173">Create a private key for PuTTY</span></span>
<span data-ttu-id="f52e0-174">PuTTY est un client SSH courant pour Windows.</span><span class="sxs-lookup"><span data-stu-id="f52e0-174">PuTTY is a common SSH client for Windows.</span></span> <span data-ttu-id="f52e0-175">Vous pouvez utiliser le client SSH de votre choix.</span><span class="sxs-lookup"><span data-stu-id="f52e0-175">You are free to use any SSH client that you wish.</span></span> <span data-ttu-id="f52e0-176">Pour utiliser PuTTY, vous devez créer un autre type de clé : une clé privée PuTTY (PPK).</span><span class="sxs-lookup"><span data-stu-id="f52e0-176">To use PuTTY, you need to create an additional type of key - a PuTTY Private Key (PPK).</span></span> <span data-ttu-id="f52e0-177">Si vous ne souhaitez pas utiliser PuTTY, ignorez cette section.</span><span class="sxs-lookup"><span data-stu-id="f52e0-177">If you do not wish to use PuTTY, skip this section.</span></span>

<span data-ttu-id="f52e0-178">L’exemple suivant crée cette clé privée supplémentaire spécifiquement pour une utilisation avec PuTTY :</span><span class="sxs-lookup"><span data-stu-id="f52e0-178">The following example creates this additional private key specifically for PuTTY to use:</span></span>

1. <span data-ttu-id="f52e0-179">Utilisez **Git Bash** pour convertir votre clé privée en une clé privée RSA interprétable par PuTTYgen.</span><span class="sxs-lookup"><span data-stu-id="f52e0-179">Use **Git Bash** to convert your private key into an RSA private key that PuTTYgen can understand.</span></span> <span data-ttu-id="f52e0-180">L’exemple suivant crée une clé nommée `myPrivateKey_rsa` à partir de la clé existante nommée `myPrivateKey` :</span><span class="sxs-lookup"><span data-stu-id="f52e0-180">The following example creates a key named `myPrivateKey_rsa` from the existing key named `myPrivateKey`:</span></span>

    ```bash
    openssl rsa -in ./myPrivateKey.key -out myPrivateKey_rsa
    ```

    <span data-ttu-id="f52e0-181">En tant que mesure de sécurité, vous devez définir les autorisations sur votre clé privée afin que vous seul puissiez y accéder :</span><span class="sxs-lookup"><span data-stu-id="f52e0-181">As a security measure, you should set the permissions on your private key so that only you can access it:</span></span>

    ```bash
    chmod 0600 myPrivateKey_rsa
    ```
2. <span data-ttu-id="f52e0-182">Téléchargez et exécutez PuTTYgen à partir de l’emplacement suivant : [http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html](http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html)</span><span class="sxs-lookup"><span data-stu-id="f52e0-182">Download and run PuTTYgen from the following location: [http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html](http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html)</span></span>
3. <span data-ttu-id="f52e0-183">Cliquez sur le menu : **Fichier** > **Charger une clé privée**</span><span class="sxs-lookup"><span data-stu-id="f52e0-183">Click the menu: **File** > **Load Private Key**</span></span>
4. <span data-ttu-id="f52e0-184">Localisez votre clé privée (`myPrivateKey_rsa` dans l’exemple précédent).</span><span class="sxs-lookup"><span data-stu-id="f52e0-184">Locate your private key (`myPrivateKey_rsa` in the previous example).</span></span> <span data-ttu-id="f52e0-185">Le répertoire par défaut lorsque vous démarrez **Git Bash** est `C:\Users\%username%`.</span><span class="sxs-lookup"><span data-stu-id="f52e0-185">The default directory when you start **Git Bash** is `C:\Users\%username%`.</span></span> <span data-ttu-id="f52e0-186">Modifiez le filtre de fichiers pour afficher **Tous les fichiers (\*.\*)** :</span><span class="sxs-lookup"><span data-stu-id="f52e0-186">Change the file filter to show **All Files (\*.\*)**:</span></span>

    ![Charger la clé privée existante dans PuTTYgen](./media/ssh-from-windows/load-private-key.png)
5. <span data-ttu-id="f52e0-188">Cliquez sur **Ouvrir**.</span><span class="sxs-lookup"><span data-stu-id="f52e0-188">Click **Open**.</span></span> <span data-ttu-id="f52e0-189">Un message indique que la clé a été correctement importée :</span><span class="sxs-lookup"><span data-stu-id="f52e0-189">A prompt indicates that the key has been successfully imported:</span></span>

    ![Clé correctement importée dans PuTTYgen](./media/ssh-from-windows/successfully-imported-key.png)
6. <span data-ttu-id="f52e0-191">Cliquez sur **OK** pour fermer l’invite.</span><span class="sxs-lookup"><span data-stu-id="f52e0-191">Click **OK** to close the prompt.</span></span>
7. <span data-ttu-id="f52e0-192">La clé publique apparaît en haut de la fenêtre **PuTTYgen**.</span><span class="sxs-lookup"><span data-stu-id="f52e0-192">The public key is displayed at the top of the **PuTTYgen** window.</span></span> <span data-ttu-id="f52e0-193">Vous copiez et collez cette clé publique dans le portail Azure ou modèle Azure Resource Manager lorsque vous créez une machine virtuelle Linux.</span><span class="sxs-lookup"><span data-stu-id="f52e0-193">You copy and paste this public key into the Azure portal or Azure Resource Manager template when you create a Linux VM.</span></span> <span data-ttu-id="f52e0-194">Vous pouvez également cliquer sur **Enregistrer la clé publique** pour enregistrer une copie sur votre ordinateur :</span><span class="sxs-lookup"><span data-stu-id="f52e0-194">You can also click **Save public key** to save a copy to your computer:</span></span>

    ![Enregistrer le fichier de clé publique PuTTY](./media/ssh-from-windows/save-public-key.png)

    <span data-ttu-id="f52e0-196">L’exemple suivant montre comment copier et coller cette clé publique dans le portail Azure lorsque vous créez une machine virtuelle Linux.</span><span class="sxs-lookup"><span data-stu-id="f52e0-196">The following example shows how you would copy and paste this public key into the Azure portal when you create a Linux VM.</span></span> <span data-ttu-id="f52e0-197">Généralement, la clé publique est ensuit stockée dans `~/.ssh/authorized_keys` sur votre nouvelle machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="f52e0-197">The public key is typically then stored in `~/.ssh/authorized_keys` on your new VM.</span></span>

    ![Utiliser la clé publique lorsque vous créez une machine virtuelle dans le portail Azure](./media/ssh-from-windows/use-public-key-azure-portal.png)
8. <span data-ttu-id="f52e0-199">Dans **PuTTYgen**, cliquez sur **Enregistrer la clé privée** :</span><span class="sxs-lookup"><span data-stu-id="f52e0-199">Back in **PuTTYgen**, Click **Save private Key**:</span></span>

    ![Enregistrer le fichier de clé privée PuTTY](./media/ssh-from-windows/save-ppk-file.png)

   > [!WARNING]
   > <span data-ttu-id="f52e0-201">Une invite vous demande si vous souhaitez continuer sans entrer un mot de passe pour votre clé.</span><span class="sxs-lookup"><span data-stu-id="f52e0-201">A prompt asks if you wish to continue without entering a passphrase for your key.</span></span> <span data-ttu-id="f52e0-202">Une phrase secrète s’apparente à un mot de passe associé à votre clé privée.</span><span class="sxs-lookup"><span data-stu-id="f52e0-202">A passphrase is like a password attached to your private key.</span></span> <span data-ttu-id="f52e0-203">Même si quelqu'un récupère votre clé privée, il ne pourra pas s’authentifier en utilisant uniquement la clé.</span><span class="sxs-lookup"><span data-stu-id="f52e0-203">Even if someone were to obtain your private key, they still would not be able to authenticate using just the key.</span></span> <span data-ttu-id="f52e0-204">Il a également besoin de la phrase secrète.</span><span class="sxs-lookup"><span data-stu-id="f52e0-204">They would also need the passphrase.</span></span> <span data-ttu-id="f52e0-205">Sans cette phrase secrète, toute personne qui récupère votre clé privée peut se connecter à une machine virtuelle ou un service utilisant cette clé.</span><span class="sxs-lookup"><span data-stu-id="f52e0-205">Without a passphrase, if someone obtains your private key, they can log in to any VM or service that uses that key.</span></span> <span data-ttu-id="f52e0-206">Nous vous recommandons de créer une phrase secrète.</span><span class="sxs-lookup"><span data-stu-id="f52e0-206">We recommend you create a passphrase.</span></span> <span data-ttu-id="f52e0-207">Toutefois, si vous oubliez cette phrase secrète, il sera impossible de la récupérer.</span><span class="sxs-lookup"><span data-stu-id="f52e0-207">However, if you forget the passphrase, there is no way to recover it.</span></span>
   >
   >

    <span data-ttu-id="f52e0-208">Si vous souhaitez saisir une phrase secrète, cliquez sur **Non**, entrez une phrase secrète dans la fenêtre principale de PuTTYgen, puis cliquez à nouveau sur **Enregistrer une clé privée**.</span><span class="sxs-lookup"><span data-stu-id="f52e0-208">If you wish to enter a passphrase, click **No**, enter a passphrase in the main PuTTYgen window, and then click **Save private key** again.</span></span> <span data-ttu-id="f52e0-209">Sinon, cliquez sur **Oui** pour continuer sans fournir la phrase secrète facultative.</span><span class="sxs-lookup"><span data-stu-id="f52e0-209">Otherwise, click **Yes** to continue without providing the optional passphrase.</span></span>
9. <span data-ttu-id="f52e0-210">Entrez un nom et un emplacement pour enregistrer votre fichier PPK.</span><span class="sxs-lookup"><span data-stu-id="f52e0-210">Enter a name and location to save your PPK file.</span></span>

## <a name="use-putty-to-ssh-to-a-linux-machine"></a><span data-ttu-id="f52e0-211">Utiliser Putty pour se connecter via SSH à une machine Linux</span><span class="sxs-lookup"><span data-stu-id="f52e0-211">Use Putty to SSH to a Linux Machine</span></span>
<span data-ttu-id="f52e0-212">Là encore, PuTTY est un client SSH courant pour Windows.</span><span class="sxs-lookup"><span data-stu-id="f52e0-212">Again, PuTTY is a common SSH client for Windows.</span></span> <span data-ttu-id="f52e0-213">Vous pouvez utiliser le client SSH de votre choix.</span><span class="sxs-lookup"><span data-stu-id="f52e0-213">You are free to use any SSH client that you wish.</span></span> <span data-ttu-id="f52e0-214">Les étapes suivantes expliquent comment utiliser votre clé privée pour vous authentifier auprès de votre machine virtuelle Azure à l’aide de SSH.</span><span class="sxs-lookup"><span data-stu-id="f52e0-214">The following steps detail how to use your private key to authenticate with your Azure VM using SSH.</span></span> <span data-ttu-id="f52e0-215">Les étapes sont similaires à celles d’autres clients de clés SSH puisque vous devez toujours charger votre clé privée pour authentifier la connexion SSH.</span><span class="sxs-lookup"><span data-stu-id="f52e0-215">The steps are similar in other SSH key clients in terms of needing to load your private key to authenticate the SSH connection.</span></span>

1. <span data-ttu-id="f52e0-216">Téléchargez et exécutez putty à partir de l’emplacement suivant : [http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html](http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html)</span><span class="sxs-lookup"><span data-stu-id="f52e0-216">Download and run putty from the following location: [http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html](http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html)</span></span>
2. <span data-ttu-id="f52e0-217">Renseignez le nom d’hôte ou l’adresse IP de votre machine virtuelle à partir du portail Azure :</span><span class="sxs-lookup"><span data-stu-id="f52e0-217">Fill in the host name or IP address of your VM from the Azure portal:</span></span>

    ![Ouvrir une nouvelle connexion PuTTY](./media/ssh-from-windows/putty-new-connection.png)
3. <span data-ttu-id="f52e0-219">Avant de sélectionner **Ouvrir**, cliquez sur l’onglet **Connexion** > **SSH** > **Auth**.</span><span class="sxs-lookup"><span data-stu-id="f52e0-219">Before selecting **Open**, click **Connection** > **SSH** > **Auth** tab.</span></span> <span data-ttu-id="f52e0-220">Recherchez et sélectionnez votre clé privée :</span><span class="sxs-lookup"><span data-stu-id="f52e0-220">Browse to and select your private key:</span></span>

    ![Sélectionner votre clé privée PuTTY à des fins d’authentification](./media/ssh-from-windows/putty-auth-dialog.png)
4. <span data-ttu-id="f52e0-222">Cliquez sur **Ouvrir** pour vous connecter à la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="f52e0-222">Click **Open** to connect to your virtual machine</span></span>

## <a name="next-steps"></a><span data-ttu-id="f52e0-223">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="f52e0-223">Next steps</span></span>
<span data-ttu-id="f52e0-224">Vous pouvez également générer les clés publiques et privées [en utilisant OS X et Linux](mac-create-ssh-keys.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="f52e0-224">You can also generate the public and private keys [using OS X and Linux](mac-create-ssh-keys.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

<span data-ttu-id="f52e0-225">Pour plus d’informations sur Bash pour Windows et les avantages de disposer d’outils OSS sur votre ordinateur Windows, consultez la page [Bash sur Ubuntu sur Windows](https://msdn.microsoft.com/commandline/wsl/about).</span><span class="sxs-lookup"><span data-stu-id="f52e0-225">For more information about Bash for Windows and the benefits of having OSS tools readily available on your Windows computer, see [Bash on Ubuntu on Windows](https://msdn.microsoft.com/commandline/wsl/about).</span></span>

<span data-ttu-id="f52e0-226">Si vous avez des difficultés à utiliser SSH pour vous connecter à vos machines virtuelles Linux, consultez [Résoudre les connexions SSH à une machine virtuelle Azure Linux](troubleshoot-ssh-connection.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="f52e0-226">If you have trouble using SSH to connect to your Linux VMs, see [Troubleshoot SSH connections to an Azure Linux VM](troubleshoot-ssh-connection.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>
