---
title: aaaAbout disques et les disques durs virtuels pour les machines virtuelles Windows de Microsoft Azure | Documents Microsoft
description: "Découvrez les principes de base hello des disques et des machines virtuelles disques durs virtuels pour Windows Azure."
services: storage
documentationcenter: 
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: 0142c64d-5e8c-4d62-aa6f-06d6261f485a
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/15/2017
ms.author: robinsh
ms.openlocfilehash: 1b0d6bf05237bb3d1497b2c60f79a0159b730108
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="about-disks-and-vhds-for-azure-windows-vms"></a><span data-ttu-id="2d347-103">À propos des disques et des VHD pour les machines virtuelles Azure Windows</span><span class="sxs-lookup"><span data-stu-id="2d347-103">About disks and VHDs for Azure Windows VMs</span></span>
<span data-ttu-id="2d347-104">Comme tout autre ordinateur, machines virtuelles dans Azure utilisent des disques comme un toostore place un système d’exploitation, des applications et des données.</span><span class="sxs-lookup"><span data-stu-id="2d347-104">Just like any other computer, virtual machines in Azure use disks as a place toostore an operating system, applications, and data.</span></span> <span data-ttu-id="2d347-105">Toutes les machines virtuelles Azure possèdent au moins deux disques : un disque de système d’exploitation Windows et un disque temporaire.</span><span class="sxs-lookup"><span data-stu-id="2d347-105">All Azure virtual machines have at least two disks – a Windows operating system disk and a temporary disk.</span></span> <span data-ttu-id="2d347-106">disque de système d’exploitation Hello est créé à partir d’une image et disque de système d’exploitation hello et image de hello sont des disques durs virtuels (VHD) stockées dans un compte de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="2d347-106">hello operating system disk is created from an image, and both hello operating system disk and hello image are virtual hard disks (VHDs) stored in an Azure storage account.</span></span> <span data-ttu-id="2d347-107">Les machines virtuelles peuvent également disposer d’un ou plusieurs disques de données, également stockés sur les VHD.</span><span class="sxs-lookup"><span data-stu-id="2d347-107">Virtual machines also can have one or more data disks, that are also stored as VHDs.</span></span> 

<span data-ttu-id="2d347-108">Dans cet article, nous parlons de différentes utilisations de hello pour les disques de hello et puis discuter hello différents types de disques, vous pouvez créer et utiliser.</span><span class="sxs-lookup"><span data-stu-id="2d347-108">In this article, we will talk about hello different uses for hello disks, and then discuss hello different types of disks you can create and use.</span></span> <span data-ttu-id="2d347-109">Cet article est également disponible pour les [machines virtuelles Linux](about-disks-and-vhds.md).</span><span class="sxs-lookup"><span data-stu-id="2d347-109">This article is also available for [Linux virtual machines](about-disks-and-vhds.md).</span></span>

[!INCLUDE [learn-about-deployment-models](../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="disks-used-by-vms"></a><span data-ttu-id="2d347-110">Disques utilisés par les machines virtuelles</span><span class="sxs-lookup"><span data-stu-id="2d347-110">Disks used by VMs</span></span>

<span data-ttu-id="2d347-111">Jetons un œil sur l’utilisation des disques de hello par hello machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="2d347-111">Let's take a look at how hello disks are used by hello VMs.</span></span>

### <a name="operating-system-disk"></a><span data-ttu-id="2d347-112">Disque de système d’exploitation</span><span class="sxs-lookup"><span data-stu-id="2d347-112">Operating system disk</span></span>
<span data-ttu-id="2d347-113">Chaque machine virtuelle dispose d’un disque de système d’exploitation attaché.</span><span class="sxs-lookup"><span data-stu-id="2d347-113">Every virtual machine has one attached operating system disk.</span></span> <span data-ttu-id="2d347-114">Il a enregistré en tant que lecteur SATA et étiqueté en tant que lecteur C: de hello par défaut.</span><span class="sxs-lookup"><span data-stu-id="2d347-114">It's registered as a SATA drive and labeled as hello C: drive by default.</span></span> <span data-ttu-id="2d347-115">Ce disque a une capacité maximale de 2048 gigaoctets (Go).</span><span class="sxs-lookup"><span data-stu-id="2d347-115">This disk has a maximum capacity of 2048 gigabytes (GB).</span></span> 

### <a name="temporary-disk"></a><span data-ttu-id="2d347-116">Disque temporaire</span><span class="sxs-lookup"><span data-stu-id="2d347-116">Temporary disk</span></span>
<span data-ttu-id="2d347-117">Chaque machine virtuelle contient un disque temporaire.</span><span class="sxs-lookup"><span data-stu-id="2d347-117">Each VM contains a temporary disk.</span></span> <span data-ttu-id="2d347-118">disque temporaire de Hello fournit le stockage à court terme pour les applications et les processus et données du magasin prévue tooonly tels que des fichiers d’échange.</span><span class="sxs-lookup"><span data-stu-id="2d347-118">hello temporary disk provides short-term storage for applications and processes and is intended tooonly store data such as page or swap files.</span></span> <span data-ttu-id="2d347-119">Données sur le disque temporaire de hello peuvent être perdues pendant un [événement de maintenance](manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#understand-vm-reboots---maintenance-vs-downtime) ou lorsque vous [redéployer une machine virtuelle](redeploy-to-new-node.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="2d347-119">Data on hello temporary disk may be lost during a [maintenance event](manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#understand-vm-reboots---maintenance-vs-downtime) or when you [redeploy a VM](redeploy-to-new-node.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="2d347-120">Lors du redémarrage de hello machine virtuelle standard données hello sur lecteur temporaire de hello doivent rendre persistant.</span><span class="sxs-lookup"><span data-stu-id="2d347-120">During a standard reboot of hello VM, hello data on hello temporary drive should persist.</span></span>

<span data-ttu-id="2d347-121">disque temporaire de Hello porte hello lecteur D: par défaut et il est utilisé pour stocker le fichier pagefile.sys.</span><span class="sxs-lookup"><span data-stu-id="2d347-121">hello temporary disk is labeled as hello D: drive by default and it used for storing pagefile.sys.</span></span> <span data-ttu-id="2d347-122">tooremap cette lettre de lecteur différente tooa de disque, consultez [modifier la lettre de lecteur hello du disque temporaire de Windows hello](change-drive-letter.md).</span><span class="sxs-lookup"><span data-stu-id="2d347-122">tooremap this disk tooa different drive letter, see [Change hello drive letter of hello Windows temporary disk](change-drive-letter.md).</span></span> <span data-ttu-id="2d347-123">taille de Hello du disque temporaire de hello varie selon la taille hello de machine virtuelle de hello.</span><span class="sxs-lookup"><span data-stu-id="2d347-123">hello size of hello temporary disk varies, based on hello size of hello virtual machine.</span></span> <span data-ttu-id="2d347-124">Pour plus d’informations, voir [Tailles des machines virtuelles Windows](sizes.md).</span><span class="sxs-lookup"><span data-stu-id="2d347-124">For more information, see [Sizes for Windows virtual machines](sizes.md).</span></span>

<span data-ttu-id="2d347-125">Pour plus d’informations sur la façon dont Azure utilise le disque temporaire de hello, consultez [présentation lecteur temporaire de hello sur des Machines virtuelles Microsoft Azure](https://blogs.msdn.microsoft.com/mast/2013/12/06/understanding-the-temporary-drive-on-windows-azure-virtual-machines/)</span><span class="sxs-lookup"><span data-stu-id="2d347-125">For more information on how Azure uses hello temporary disk, see [Understanding hello temporary drive on Microsoft Azure Virtual Machines](https://blogs.msdn.microsoft.com/mast/2013/12/06/understanding-the-temporary-drive-on-windows-azure-virtual-machines/)</span></span>


### <a name="data-disk"></a><span data-ttu-id="2d347-126">Disque de données</span><span class="sxs-lookup"><span data-stu-id="2d347-126">Data disk</span></span>
<span data-ttu-id="2d347-127">Un disque de données est un disque dur virtuel est les données d’application toostore tooa attaché machine virtuelle ou d’autres données que vous devez tookeep.</span><span class="sxs-lookup"><span data-stu-id="2d347-127">A data disk is a VHD that's attached tooa virtual machine toostore application data, or other data you need tookeep.</span></span> <span data-ttu-id="2d347-128">Les disques de données sont enregistrés en tant que disques SCSI et sont nommés avec la lettre de votre choix.</span><span class="sxs-lookup"><span data-stu-id="2d347-128">Data disks are registered as SCSI drives and are labeled with a letter that you choose.</span></span> <span data-ttu-id="2d347-129">Chaque disque de données offre une capacité maximale de 4095 Go.</span><span class="sxs-lookup"><span data-stu-id="2d347-129">Each data disk has a maximum capacity of 4095 GB.</span></span> <span data-ttu-id="2d347-130">taille de machine virtuelle de hello Hello détermine le nombre de disques données vous pouvez associer un type tooit et hello de stockage, vous pouvez utiliser des disques toohost hello.</span><span class="sxs-lookup"><span data-stu-id="2d347-130">hello size of hello virtual machine determines how many data disks you can attach tooit and hello type of storage you can use toohost hello disks.</span></span>

> [!NOTE]
> <span data-ttu-id="2d347-131">Pour plus d’informations sur les capacités des machines virtuelles, consultez [Tailles des machines virtuelles Windows](sizes.md).</span><span class="sxs-lookup"><span data-stu-id="2d347-131">For more information about virtual machines capacities, see [Sizes for Windows virtual machines](sizes.md).</span></span>
> 

<span data-ttu-id="2d347-132">Lorsque vous créez une machine virtuelle à partir d’une image, Azure crée un disque de système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="2d347-132">Azure creates an operating system disk when you create a virtual machine from an image.</span></span> <span data-ttu-id="2d347-133">Si vous utilisez une image qui inclut des disques de données, Azure crée également hello disques de données lorsqu’il crée la machine virtuelle de hello.</span><span class="sxs-lookup"><span data-stu-id="2d347-133">If you use an image that includes data disks, Azure also creates hello data disks when it creates hello virtual machine.</span></span> <span data-ttu-id="2d347-134">Sinon, vous ajoutez des disques de données après avoir créé l’ordinateur virtuel de hello.</span><span class="sxs-lookup"><span data-stu-id="2d347-134">Otherwise, you add data disks after you create hello virtual machine.</span></span>

<span data-ttu-id="2d347-135">Vous pouvez ajouter par machine virtuelle de données disques tooa à tout moment, **attachement** hello toohello de disque virtuels.</span><span class="sxs-lookup"><span data-stu-id="2d347-135">You can add data disks tooa virtual machine at any time, by **attaching** hello disk toohello virtual machine.</span></span> <span data-ttu-id="2d347-136">Vous pouvez utiliser un disque dur virtuel que vous avez téléchargé ou copié le compte de stockage tooyour ou une qu’Azure crée pour vous.</span><span class="sxs-lookup"><span data-stu-id="2d347-136">You can use a VHD that you've uploaded or copied tooyour storage account, or one that Azure creates for you.</span></span> <span data-ttu-id="2d347-137">Attachement d’un disque de données associe fichier de disque dur virtuel hello hello machine virtuelle en plaçant un « bail » sur le disque dur virtuel de hello afin qu’il ne peut pas être supprimé du stockage s’il est toujours attaché.</span><span class="sxs-lookup"><span data-stu-id="2d347-137">Attaching a data disk associates hello VHD file with hello VM by placing a 'lease' on hello VHD so it can't be deleted from storage while it's still attached.</span></span>


[!INCLUDE [storage-about-vhds-and-disks-windows-and-linux](../../../includes/storage-about-vhds-and-disks-windows-and-linux.md)]

## <a name="one-last-recommendation-use-trim-with-unmanaged-standard-disks"></a><span data-ttu-id="2d347-138">Une dernière recommandation : utilisez TRIM avec des disques standard non gérés</span><span class="sxs-lookup"><span data-stu-id="2d347-138">One last recommendation: Use TRIM with unmanaged standard disks</span></span> 

<span data-ttu-id="2d347-139">Si vous utilisez les disques standard non gérés (disque dur), vous devez activer TRIM.</span><span class="sxs-lookup"><span data-stu-id="2d347-139">If you use unmanaged standard disks (HDD), you should enable TRIM.</span></span> <span data-ttu-id="2d347-140">La fonction TRIM ignore les blocs inutilisés sur le disque de hello afin de vous êtes facturé uniquement pour le stockage que vous utilisez réellement.</span><span class="sxs-lookup"><span data-stu-id="2d347-140">TRIM discards unused blocks on hello disk so you are only billed for storage that you are actually using.</span></span> <span data-ttu-id="2d347-141">Vous pouvez ainsi faire des économies si vous créez des fichiers volumineux, puis les supprimez.</span><span class="sxs-lookup"><span data-stu-id="2d347-141">This can save on costs if you create large files and then delete them.</span></span> 

<span data-ttu-id="2d347-142">Vous pouvez exécuter ce paramètre de découpage hello commande toocheck.</span><span class="sxs-lookup"><span data-stu-id="2d347-142">You can run this command toocheck hello TRIM setting.</span></span> <span data-ttu-id="2d347-143">Ouvrez une invite de commandes sur votre machine virtuelle Windows et saisissez :</span><span class="sxs-lookup"><span data-stu-id="2d347-143">Open a command prompt on your Windows VM and type:</span></span>


```
fsutil behavior query DisableDeleteNotify
```

<span data-ttu-id="2d347-144">Si la commande hello retourne 0, la fonction TRIM est activée correctement.</span><span class="sxs-lookup"><span data-stu-id="2d347-144">If hello command returns 0, TRIM is enabled correctly.</span></span> <span data-ttu-id="2d347-145">Si elle retourne 1, exécutez hello suivant commande tooenable d’ajustement :</span><span class="sxs-lookup"><span data-stu-id="2d347-145">If it returns 1, run hello following command tooenable TRIM:</span></span>

```
fsutil behavior set DisableDeleteNotify 0
```

> [!NOTE]
> <span data-ttu-id="2d347-146">Remarque : Prise en charge Trim démarre avec Windows Server 2012 / Windows 8 et versions ultérieures, consultez Voir [nouvelle API permet aux applications media de toostorage indicateurs « TRIM et annuler le mappage de » toosend](https://msdn.microsoft.com/windows/compatibility/new-api-allows-apps-to-send-trim-and-unmap-hints).</span><span class="sxs-lookup"><span data-stu-id="2d347-146">Note: Trim support starts with Windows Server 2012 / Windows 8 and above, see see [New API allows apps toosend "TRIM and Unmap" hints toostorage media](https://msdn.microsoft.com/windows/compatibility/new-api-allows-apps-to-send-trim-and-unmap-hints).</span></span>
> 

<!-- Might want toomatch next-steps from overview of managed disks -->
## <a name="next-steps"></a><span data-ttu-id="2d347-147">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="2d347-147">Next steps</span></span>
* <span data-ttu-id="2d347-148">[Attacher un disque](attach-disk-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) tooadd de stockage supplémentaire pour votre machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="2d347-148">[Attach a disk](attach-disk-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) tooadd additional storage for your VM.</span></span>
* <span data-ttu-id="2d347-149">[Modifier la lettre de lecteur hello du disque temporaire de Windows hello](change-drive-letter.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json) pour votre application peut utiliser le lecteur D: de hello pour les données.</span><span class="sxs-lookup"><span data-stu-id="2d347-149">[Change hello drive letter of hello Windows temporary disk](change-drive-letter.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json) so your application can use hello D: drive for data.</span></span>

