---
title: aaaProvision une Machine virtuelle de SQL Server | Documents Microsoft
description: "Créer et connecter l’ordinateur de virtuel tooa SQL Server dans Azure à l’aide du portail de hello. Ce didacticiel utilise le mode de gestionnaire de ressources hello."
services: virtual-machines-windows
documentationcenter: na
author: rothja
manager: jhubbard
tags: azure-resource-manager
ms.assetid: 1aff691f-a40a-4de2-b6a0-def1384e086e
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: infrastructure-services
ms.date: 08/14/2017
ms.author: jroth
ms.openlocfilehash: acb52b180103d83715b51b46e2519211c8f0e362
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="provision-a-sql-server-virtual-machine-in-hello-azure-portal"></a><span data-ttu-id="c88ee-104">Configurer un ordinateur virtuel de SQL Server dans hello portail Azure</span><span class="sxs-lookup"><span data-stu-id="c88ee-104">Provision a SQL Server virtual machine in hello Azure portal</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="c88ee-105">Portail</span><span class="sxs-lookup"><span data-stu-id="c88ee-105">Portal</span></span>](virtual-machines-windows-portal-sql-server-provision.md)
> * [<span data-ttu-id="c88ee-106">PowerShell</span><span class="sxs-lookup"><span data-stu-id="c88ee-106">PowerShell</span></span>](virtual-machines-windows-ps-sql-create.md)
> 
> 

<span data-ttu-id="c88ee-107">Ce didacticiel de bout en bout vous montre comment toouse hello tooprovision portail Azure, une machine virtuelle exécutant SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c88ee-107">This end-to-end tutorial shows you how toouse hello Azure portal tooprovision a virtual machine running SQL Server.</span></span>

<span data-ttu-id="c88ee-108">Galerie de machine virtuelle Azure (VM) Hello inclut plusieurs images qui contiennent Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c88ee-108">hello Azure virtual machine (VM) gallery includes several images that contain Microsoft SQL Server.</span></span> <span data-ttu-id="c88ee-109">En quelques clics, vous pouvez sélectionner une des hello que SQL VM images à partir de la galerie de hello et configurer dans votre environnement Azure.</span><span class="sxs-lookup"><span data-stu-id="c88ee-109">With a few clicks, you can select one of hello SQL VM images from hello gallery and provision it in your Azure environment.</span></span>

<span data-ttu-id="c88ee-110">Ce didacticiel présente les procédures suivantes :</span><span class="sxs-lookup"><span data-stu-id="c88ee-110">In this tutorial, you will:</span></span>

* [<span data-ttu-id="c88ee-111">Sélectionnez une image de SQL VM à partir de la galerie de hello</span><span class="sxs-lookup"><span data-stu-id="c88ee-111">Select a SQL VM image from hello gallery</span></span>](#select-a-sql-vm-image-from-the-gallery)
* [<span data-ttu-id="c88ee-112">Configurez et créez hello machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="c88ee-112">Configure and create hello VM</span></span>](#configure-the-vm)
* [<span data-ttu-id="c88ee-113">Ouvrez hello machine virtuelle avec le Bureau à distance</span><span class="sxs-lookup"><span data-stu-id="c88ee-113">Open hello VM with Remote Desktop</span></span>](#open-the-vm-with-remote-desktop)
* [<span data-ttu-id="c88ee-114">Se connecter tooSQL serveur à distance</span><span class="sxs-lookup"><span data-stu-id="c88ee-114">Connect tooSQL Server remotely</span></span>](#connect-to-sql-server-remotely)

## <a name="select-a-sql-vm-image-from-hello-gallery"></a><span data-ttu-id="c88ee-115">Sélectionnez une image de SQL VM à partir de la galerie de hello</span><span class="sxs-lookup"><span data-stu-id="c88ee-115">Select a SQL VM image from hello gallery</span></span>

1. <span data-ttu-id="c88ee-116">Connectez-vous à toohello [portail Azure](https://portal.azure.com) à l’aide de votre compte.</span><span class="sxs-lookup"><span data-stu-id="c88ee-116">Log in toohello [Azure portal](https://portal.azure.com) using your account.</span></span>

   > [!NOTE]
   > <span data-ttu-id="c88ee-117">Si vous n'avez pas de compte Azure, visitez la page [Version d'évaluation gratuite d'Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="c88ee-117">If you do not have an Azure account, visit [Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>

2. <span data-ttu-id="c88ee-118">Dans hello portail Azure, cliquez sur **nouveau**.</span><span class="sxs-lookup"><span data-stu-id="c88ee-118">On hello Azure portal, click **New**.</span></span> <span data-ttu-id="c88ee-119">portail de Hello ouvre hello **nouveau** fenêtre.</span><span class="sxs-lookup"><span data-stu-id="c88ee-119">hello portal opens hello **New** window.</span></span>

3. <span data-ttu-id="c88ee-120">Bonjour **nouveau** fenêtre, cliquez sur **de calcul** puis cliquez sur **afficher tous les**.</span><span class="sxs-lookup"><span data-stu-id="c88ee-120">In hello **New** window, click **Compute** and then click **See all**.</span></span>

   ![Fenêtre Nouveau calcul](./media/virtual-machines-windows-portal-sql-server-provision/azure-new-compute-blade.png)

4. <span data-ttu-id="c88ee-122">Dans le champ de recherche de hello, tapez **SQL Server**, puis appuyez sur ENTRÉE.</span><span class="sxs-lookup"><span data-stu-id="c88ee-122">In hello search field, type **SQL Server**, and press ENTER.</span></span>

5. <span data-ttu-id="c88ee-123">Puis cliquez sur hello **filtre** icône, sélectionnez **Microsoft** pour le serveur de publication hello.</span><span class="sxs-lookup"><span data-stu-id="c88ee-123">Then click hello **Filter** icon and select **Microsoft** for hello publisher.</span></span> <span data-ttu-id="c88ee-124">Cliquez sur **fait** sur les résultats de hello hello filtre fenêtre toofilter tooMicrosoft publié des images de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c88ee-124">Click **Done** on hello filter window toofilter hello results tooMicrosoft published SQL Server images.</span></span>

   ![Fenêtre Machines virtuelles Azure](./media/virtual-machines-windows-portal-sql-server-provision/azure-compute-blade2.png)

5. <span data-ttu-id="c88ee-126">Passez en revue les images SQL Server disponibles hello.</span><span class="sxs-lookup"><span data-stu-id="c88ee-126">Review hello available SQL Server images.</span></span> <span data-ttu-id="c88ee-127">Chaque image identifie une version de SQL Server et un système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="c88ee-127">Each image identifies a SQL Server version and an operating system.</span></span>

6. <span data-ttu-id="c88ee-128">Image hello sélectionnez nommée **licence gratuite : développeur de SQL Server 2016 SP1 sur Windows Server 2016**.</span><span class="sxs-lookup"><span data-stu-id="c88ee-128">Select hello image named **Free License: SQL Server 2016 SP1 Developer on Windows Server 2016**.</span></span>

   > [!TIP]
   > <span data-ttu-id="c88ee-129">édition développeur de Hello est utilisée dans ce didacticiel, car il s’agit d’une version complète de SQL Server qui est disponible pour le développement à des fins de test.</span><span class="sxs-lookup"><span data-stu-id="c88ee-129">hello Developer edition is used in this tutorial because it is a full-featured edition of SQL Server that is free for development testing purposes.</span></span> <span data-ttu-id="c88ee-130">Vous payez uniquement pour les coûts hello de hello machine virtuelle en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="c88ee-130">You pay only for hello cost of running hello VM.</span></span> <span data-ttu-id="c88ee-131">Toutefois, vous êtes libre toochoose des toouse d’images hello dans ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="c88ee-131">However, you are free toochoose any of hello images toouse in this tutorial.</span></span>

   > [!TIP]
   > <span data-ttu-id="c88ee-132">Images SQL VM comprennent les coûts de licence hello pour SQL Server dans hello par minute tarification Hello machine virtuelle que vous créez (à l’exception des éditions développeur et Express de hello).</span><span class="sxs-lookup"><span data-stu-id="c88ee-132">SQL VM images include hello licensing costs for SQL Server into hello per-minute pricing of hello VM you create (except for hello Developer and Express editions).</span></span> <span data-ttu-id="c88ee-133">SQL Server Developer est gratuit pour le développement/les tests (hors production) et SQL Express est gratuit pour les charges légères (moins de 1 Go de mémoire, moins de 10 Go de stockage).</span><span class="sxs-lookup"><span data-stu-id="c88ee-133">SQL Server Developer is free for development/testing (not production) and SQL Express is free for lightweight workloads (less than 1GB memory, less than 10 GB storage).</span></span> <span data-ttu-id="c88ee-134">Il existe une autre option toobring-your-propriétaire-licence (BYOL) et paie uniquement pour hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="c88ee-134">There is another option toobring-your-own-license (BYOL) and pay only for hello VM.</span></span> <span data-ttu-id="c88ee-135">Ces noms d’images sont préfixés avec {BYOL}.</span><span class="sxs-lookup"><span data-stu-id="c88ee-135">Those image names are prefixed with {BYOL}.</span></span> 
   >
   > <span data-ttu-id="c88ee-136">Pour en savoir plus sur ces options, consultez l’article [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md) (Tarification des machines virtuelles SQL Server Azure).</span><span class="sxs-lookup"><span data-stu-id="c88ee-136">For more information on these options, see [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md).</span></span>

7. <span data-ttu-id="c88ee-137">Sous **Sélectionner un modèle de déploiement**, vérifiez que **Resource Manager** est sélectionné.</span><span class="sxs-lookup"><span data-stu-id="c88ee-137">Under **Select a deployment model**, verify that **Resource Manager** is selected.</span></span> <span data-ttu-id="c88ee-138">Le Gestionnaire de ressources est hello recommandé de modèle de déploiement pour les nouveaux ordinateurs virtuels.</span><span class="sxs-lookup"><span data-stu-id="c88ee-138">Resource Manager is hello recommended deployment model for new virtual machines.</span></span> 

8. <span data-ttu-id="c88ee-139">Cliquez sur **Créer**.</span><span class="sxs-lookup"><span data-stu-id="c88ee-139">Click **Create**.</span></span>

    ![Créer une machine virtuelle avec Resource Manager](./media/virtual-machines-windows-portal-sql-server-provision/azure-compute-sql-deployment-model.png)

## <a name="configure-hello-vm"></a><span data-ttu-id="c88ee-141">Configurer hello machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="c88ee-141">Configure hello VM</span></span>
<span data-ttu-id="c88ee-142">Il existe cinq fenêtres de configuration d’une machine virtuelle SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c88ee-142">There are five windows for configuring a SQL Server virtual machine.</span></span>

| <span data-ttu-id="c88ee-143">Étape</span><span class="sxs-lookup"><span data-stu-id="c88ee-143">Step</span></span> | <span data-ttu-id="c88ee-144">Description</span><span class="sxs-lookup"><span data-stu-id="c88ee-144">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c88ee-145">**Concepts de base**</span><span class="sxs-lookup"><span data-stu-id="c88ee-145">**Basics**</span></span> |[<span data-ttu-id="c88ee-146">Configurer les paramètres de base</span><span class="sxs-lookup"><span data-stu-id="c88ee-146">Configure basic settings</span></span>](#1-configure-basic-settings) |
| <span data-ttu-id="c88ee-147">**Taille**</span><span class="sxs-lookup"><span data-stu-id="c88ee-147">**Size**</span></span> |[<span data-ttu-id="c88ee-148">Choisir la taille de machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="c88ee-148">Choose virtual machine size</span></span>](#2-choose-virtual-machine-size) |
| <span data-ttu-id="c88ee-149">**Paramètres**</span><span class="sxs-lookup"><span data-stu-id="c88ee-149">**Settings**</span></span> |[<span data-ttu-id="c88ee-150">Configurer des fonctionnalités facultatives</span><span class="sxs-lookup"><span data-stu-id="c88ee-150">Configure optional features</span></span>](#3-configure-optional-features) |
| <span data-ttu-id="c88ee-151">**Paramètres de SQL Server**</span><span class="sxs-lookup"><span data-stu-id="c88ee-151">**SQL Server settings**</span></span> |[<span data-ttu-id="c88ee-152">Configurer les paramètres du serveur SQL</span><span class="sxs-lookup"><span data-stu-id="c88ee-152">Configure SQL server settings</span></span>](#4-configure-sql-server-settings) |
| <span data-ttu-id="c88ee-153">**Résumé**</span><span class="sxs-lookup"><span data-stu-id="c88ee-153">**Summary**</span></span> |[<span data-ttu-id="c88ee-154">Hello révision résumé</span><span class="sxs-lookup"><span data-stu-id="c88ee-154">Review hello summary</span></span>](#5-review-the-summary) |

## <a name="1-configure-basic-settings"></a><span data-ttu-id="c88ee-155">1. Configurer les paramètres de base</span><span class="sxs-lookup"><span data-stu-id="c88ee-155">1. Configure basic settings</span></span>

<span data-ttu-id="c88ee-156">Sur hello **notions de base** fenêtre, fournir hello informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="c88ee-156">On hello **Basics** window, provide hello following information:</span></span>

* <span data-ttu-id="c88ee-157">Entrez un **nom**de machine virtuelle unique.</span><span class="sxs-lookup"><span data-stu-id="c88ee-157">Enter a unique virtual machine **Name**.</span></span>

* <span data-ttu-id="c88ee-158">Pour optimiser les performances, sélectionnez **SSD** comme type de disque de machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="c88ee-158">Select **SSD** for VM disk type for optimal performance.</span></span>

* <span data-ttu-id="c88ee-159">Spécifiez un **nom d’utilisateur** pour le compte d’administrateur local hello sur hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="c88ee-159">Specify a **User name** for hello local administrator account on hello VM.</span></span> <span data-ttu-id="c88ee-160">Ce compte est également ajouté toohello SQL Server **sysadmin** rôle serveur fixe.</span><span class="sxs-lookup"><span data-stu-id="c88ee-160">This account is also added toohello SQL Server **sysadmin** fixed server role.</span></span>

* <span data-ttu-id="c88ee-161">Utilisez un **mot de passe**fort.</span><span class="sxs-lookup"><span data-stu-id="c88ee-161">Provide a strong **Password**.</span></span>

* <span data-ttu-id="c88ee-162">Si vous avez plusieurs abonnements, vérifiez que l’abonnement de hello est correcte pour hello nouvelle machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="c88ee-162">If you have multiple subscriptions, verify that hello subscription is correct for hello new VM.</span></span>

* <span data-ttu-id="c88ee-163">Bonjour **groupe de ressources** , tapez un nom pour un groupe de ressources.</span><span class="sxs-lookup"><span data-stu-id="c88ee-163">In hello **Resource group** box, type a name for a new resource group.</span></span> <span data-ttu-id="c88ee-164">Également cliquer toouse sur un groupe de ressources existant **existant**.</span><span class="sxs-lookup"><span data-stu-id="c88ee-164">Alternatively, toouse an existing resource group click **Use existing**.</span></span> <span data-ttu-id="c88ee-165">Un groupe de ressources est une collection de ressources liées dans Azure (machines virtuelles, comptes de stockage, réseaux virtuels, etc.).</span><span class="sxs-lookup"><span data-stu-id="c88ee-165">A resource group is a collection of related resources in Azure (virtual machines, storage accounts, virtual networks, etc.).</span></span>

  > [!NOTE]
  > <span data-ttu-id="c88ee-166">L’utilisation d’un nouveau groupe de ressources est utile si vous testez ou découvrez les déploiements SQL Server dans Azure.</span><span class="sxs-lookup"><span data-stu-id="c88ee-166">Using a new resource group is helpful if you are just testing or learning about SQL Server deployments in Azure.</span></span> <span data-ttu-id="c88ee-167">Une fois que vous avez terminé avec votre test, supprimez tooautomatically delete hello VM hello ressource groupe et toutes les ressources associées à ce groupe de ressources.</span><span class="sxs-lookup"><span data-stu-id="c88ee-167">After you finish with your test, delete hello resource group tooautomatically delete hello VM and all resources associated with that resource group.</span></span> <span data-ttu-id="c88ee-168">Pour plus d’informations sur les groupes de ressources, consultez [Vue d’ensemble d’Azure Resource Manager](../../../azure-resource-manager/resource-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c88ee-168">For more information about resource groups, see [Azure Resource Manager Overview](../../../azure-resource-manager/resource-group-overview.md).</span></span>

* <span data-ttu-id="c88ee-169">Sélectionnez un **emplacement** pour hello région Azure qui hébergera ce déploiement.</span><span class="sxs-lookup"><span data-stu-id="c88ee-169">Select a **Location** for hello Azure region that will host this deployment.</span></span>

* <span data-ttu-id="c88ee-170">Cliquez sur **OK** toosave les paramètres hello.</span><span class="sxs-lookup"><span data-stu-id="c88ee-170">Click **OK** toosave hello settings.</span></span>

    ![Fenêtre SQL Basics (Informations de base SQL)](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-basic.png)

## <a name="2-choose-virtual-machine-size"></a><span data-ttu-id="c88ee-172">2. Choisir la taille de machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="c88ee-172">2. Choose virtual machine size</span></span>

<span data-ttu-id="c88ee-173">Sur hello **taille** étape, choisissez une taille de machine virtuelle Bonjour **choisir une taille** fenêtre.</span><span class="sxs-lookup"><span data-stu-id="c88ee-173">On hello **Size** step, choose a virtual machine size in hello **Choose a size** window.</span></span> <span data-ttu-id="c88ee-174">fenêtre Hello affiche initialement les tailles recommandées en fonction de l’image hello sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="c88ee-174">hello window initially displays recommended machine sizes based on hello image you selected.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="c88ee-175">Hello estimation du coût mensuel affiché sur hello **choisir une taille** fenêtre n’inclut pas les coûts des licences de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c88ee-175">hello estimated monthly cost displayed on hello **Choose a size** window does not include SQL Server licensing costs.</span></span> <span data-ttu-id="c88ee-176">Il s’agit de coût hello Hello machine virtuelle autonome.</span><span class="sxs-lookup"><span data-stu-id="c88ee-176">This is hello cost of hello VM alone.</span></span> <span data-ttu-id="c88ee-177">Pour les éditions Express et Developer hello de SQL Server, il s’agit de coût estimé de hello total.</span><span class="sxs-lookup"><span data-stu-id="c88ee-177">For hello Express and Developer editions of SQL Server, this is hello total estimated cost.</span></span> <span data-ttu-id="c88ee-178">Pour les autres éditions, consultez hello [page de tarification des Machines virtuelles Windows](https://azure.microsoft.com/pricing/details/virtual-machines/windows/) et sélectionnez votre édition de la cible de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c88ee-178">For other editions, see hello [Windows Virtual Machines pricing page](https://azure.microsoft.com/pricing/details/virtual-machines/windows/) and select your target edition of SQL Server.</span></span> <span data-ttu-id="c88ee-179">Voir aussi hello [tarification des conseils pour les machines virtuelles Azure de SQL Server](virtual-machines-windows-sql-server-pricing-guidance.md).</span><span class="sxs-lookup"><span data-stu-id="c88ee-179">Also see hello [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md).</span></span>

![Options de taille de machine virtuelle SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-vm-choose-a-size.png)

<span data-ttu-id="c88ee-181">Pour les charges de production, consultez hello recommandé de tailles d’ordinateur et la configuration dans [performances meilleures pratiques pour SQL Server dans Azure Virtual Machines](virtual-machines-windows-sql-performance.md).</span><span class="sxs-lookup"><span data-stu-id="c88ee-181">For production workloads, see hello recommended machine sizes and configuration in [Performance best practices for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-performance.md).</span></span> <span data-ttu-id="c88ee-182">Si vous avez besoin d’une taille de l’ordinateur qui n’est pas répertoriée, cliquez sur hello **afficher toutes les** bouton.</span><span class="sxs-lookup"><span data-stu-id="c88ee-182">If you need a machine size that is not listed, click hello **View all** button.</span></span>

> [!NOTE]
> <span data-ttu-id="c88ee-183">Pour plus d’informations sur les tailles de machines virtuelles, voir [Tailles des machines virtuelles](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c88ee-183">For more information about virtual machine sizes see, [Sizes for virtual machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="c88ee-184">Choisissez la taille de votre machine, puis cliquez sur **Sélectionner**.</span><span class="sxs-lookup"><span data-stu-id="c88ee-184">Choose your machine size, and then click **Select**.</span></span>

## <a name="3-configure-optional-features"></a><span data-ttu-id="c88ee-185">3. Configurer des fonctionnalités facultatives</span><span class="sxs-lookup"><span data-stu-id="c88ee-185">3. Configure optional features</span></span>

<span data-ttu-id="c88ee-186">Sur hello **paramètres** fenêtre, configurer le stockage Azure, de mise en réseau et la surveillance pour la machine virtuelle de hello.</span><span class="sxs-lookup"><span data-stu-id="c88ee-186">On hello **Settings** window, configure Azure storage, networking, and monitoring for hello virtual machine.</span></span>

* <span data-ttu-id="c88ee-187">Dans la section **Stockage**, sélectionnez **Oui** sous **Utiliser Managed Disks**.</span><span class="sxs-lookup"><span data-stu-id="c88ee-187">Under **Storage**, select **Yes** under use **Managed Disks**.</span></span>

   > [!NOTE]
   > <span data-ttu-id="c88ee-188">Microsoft recommande Managed Disks pour SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c88ee-188">Microsoft recommends Managed Disks for SQL Server.</span></span> <span data-ttu-id="c88ee-189">Géré gère le stockage des disques coulisses hello.</span><span class="sxs-lookup"><span data-stu-id="c88ee-189">Managed Disks handles storage behind hello scenes.</span></span> <span data-ttu-id="c88ee-190">En outre, lorsque les ordinateurs virtuels avec des disques gérés sont hello même ensemble de disponibilité, Azure distribue hello ressources tooprovide approprié une redondance de stockage.</span><span class="sxs-lookup"><span data-stu-id="c88ee-190">In addition, when virtual machines with Managed Disks are in hello same availability set, Azure distributes hello storage resources tooprovide appropriate redundancy.</span></span> <span data-ttu-id="c88ee-191">Pour plus d’informations, voir la page [Azure Managed Disks overview](../../../storage/storage-managed-disks-overview.md) (Vue d’ensemble d’Azure Managed Disks).</span><span class="sxs-lookup"><span data-stu-id="c88ee-191">For additional information, see [Azure Managed Disks Overview](../../../storage/storage-managed-disks-overview.md).</span></span> <span data-ttu-id="c88ee-192">Pour plus de détails sur les disques gérés dans un groupe à haute disponibilité, consultez l’article [Utilisation de disques gérés pour les machines virtuelles dans le groupe à haute disponibilité](../manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="c88ee-192">For specifics about managed disks in an availability set, see [Use managed disks for VMs in availability set](../manage-availability.md).</span></span>

* <span data-ttu-id="c88ee-193">Sous **réseau**, vous pouvez accepter les valeurs hello rempli automatiquement.</span><span class="sxs-lookup"><span data-stu-id="c88ee-193">Under **Network**, you can accept hello automatically populated values.</span></span> <span data-ttu-id="c88ee-194">Vous pouvez également cliquer sur chaque fonctionnalité toomanually configurer hello **réseau virtuel**, **sous-réseau**, **adresse IP publique**, et **dugroupedesécuritéréseau**.</span><span class="sxs-lookup"><span data-stu-id="c88ee-194">You can also click on each feature toomanually configure hello **Virtual network**, **Subnet**, **Public IP address**, and **Network Security Group**.</span></span> <span data-ttu-id="c88ee-195">À des fins hello de ce didacticiel, conserver les valeurs par défaut hello.</span><span class="sxs-lookup"><span data-stu-id="c88ee-195">For hello purposes of this tutorial, keep hello default values.</span></span>

* <span data-ttu-id="c88ee-196">Azure active **analyse** par défaut avec hello même compte de stockage désigné pour hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="c88ee-196">Azure enables **Monitoring** by default with hello same storage account designated for hello VM.</span></span> <span data-ttu-id="c88ee-197">Vous pouvez modifier ces paramètres ici.</span><span class="sxs-lookup"><span data-stu-id="c88ee-197">You can change these settings here.</span></span>

* <span data-ttu-id="c88ee-198">Sous **à haute disponibilité**, vous pouvez laisser la valeur par défaut est hello **aucun** pour ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="c88ee-198">Under **Availability set**, you can leave hello default of **none** for this tutorial.</span></span> <span data-ttu-id="c88ee-199">Si vous envisagez de tooset des groupes de disponibilité AlwaysOn SQL, configurer hello disponibilité tooavoid recréation hello virtual machine.</span><span class="sxs-lookup"><span data-stu-id="c88ee-199">If you plan tooset up SQL AlwaysOn Availability Groups, configure hello availability tooavoid recreating hello virtual machine.</span></span>  <span data-ttu-id="c88ee-200">Pour plus d’informations, consultez [gérer hello disponibilité des Machines virtuelles](../manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c88ee-200">For more information, see [Manage hello Availability of Virtual Machines](../manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="c88ee-201">Une fois que vous avez terminé la configuration des paramètres, cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="c88ee-201">When you are done configuring these settings, click **OK**.</span></span>

## <a name="4-configure-sql-server-settings"></a><span data-ttu-id="c88ee-202">4. Configurer les paramètres du serveur SQL</span><span class="sxs-lookup"><span data-stu-id="c88ee-202">4. Configure SQL server settings</span></span>
<span data-ttu-id="c88ee-203">Sur hello **paramètres SQL Server** fenêtre, configurer des paramètres spécifiques et des optimisations pour SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c88ee-203">On hello **SQL Server settings** window, configure specific settings and optimizations for SQL Server.</span></span> <span data-ttu-id="c88ee-204">paramètres Hello que vous pouvez configurer pour SQL Server suivants hello.</span><span class="sxs-lookup"><span data-stu-id="c88ee-204">hello settings that you can configure for SQL Server include hello following.</span></span>

| <span data-ttu-id="c88ee-205">Paramètre</span><span class="sxs-lookup"><span data-stu-id="c88ee-205">Setting</span></span> |
| --- |
| [<span data-ttu-id="c88ee-206">Connectivité</span><span class="sxs-lookup"><span data-stu-id="c88ee-206">Connectivity</span></span>](#connectivity) |
| [<span data-ttu-id="c88ee-207">Authentification</span><span class="sxs-lookup"><span data-stu-id="c88ee-207">Authentication</span></span>](#authentication) |
| [<span data-ttu-id="c88ee-208">Configuration du stockage</span><span class="sxs-lookup"><span data-stu-id="c88ee-208">Storage configuration</span></span>](#storage-configuration) |
| [<span data-ttu-id="c88ee-209">Mise à jour corrective automatisée</span><span class="sxs-lookup"><span data-stu-id="c88ee-209">Automated Patching</span></span>](#automated-patching) |
| [<span data-ttu-id="c88ee-210">Sauvegarde automatisée</span><span class="sxs-lookup"><span data-stu-id="c88ee-210">Automated Backup</span></span>](#automated-backup) |
| [<span data-ttu-id="c88ee-211">Intégration du coffre de clés Azure</span><span class="sxs-lookup"><span data-stu-id="c88ee-211">Azure Key Vault Integration</span></span>](#azure-key-vault-integration) |
| [<span data-ttu-id="c88ee-212">R Services</span><span class="sxs-lookup"><span data-stu-id="c88ee-212">R Services</span></span>](#r-services) |

### <a name="connectivity"></a><span data-ttu-id="c88ee-213">Connectivité</span><span class="sxs-lookup"><span data-stu-id="c88ee-213">Connectivity</span></span>

<span data-ttu-id="c88ee-214">Sous **connectivité SQL**, spécifiez le type de hello d’accès souhaité toohello instance de SQL Server sur cet ordinateur virtuel.</span><span class="sxs-lookup"><span data-stu-id="c88ee-214">Under **SQL connectivity**, specify hello type of access you want toohello SQL Server instance on this VM.</span></span> <span data-ttu-id="c88ee-215">Pour des raisons de hello de ce didacticiel, sélectionnez **Public (internet)** tooallow connexions tooSQL Server à partir d’ordinateurs ou des services sur hello internet.</span><span class="sxs-lookup"><span data-stu-id="c88ee-215">For hello purposes of this tutorial, select **Public (internet)** tooallow connections tooSQL Server from machines or services on hello internet.</span></span> <span data-ttu-id="c88ee-216">Avec cette option est sélectionnée, Azure configure automatiquement le pare-feu hello et hello sécurité groupe tooallow le trafic sur le port 1433.</span><span class="sxs-lookup"><span data-stu-id="c88ee-216">With this option selected, Azure automatically configures hello firewall and hello network security group tooallow traffic on port 1433.</span></span>

![Options de connectivité SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-connectivity-alt.png)

> [!TIP]
> <span data-ttu-id="c88ee-218">Par défaut, SQL Server écoute un port bien connu, le port **1433**.</span><span class="sxs-lookup"><span data-stu-id="c88ee-218">By default, SQL Server listens on a well-known port, **1433**.</span></span> <span data-ttu-id="c88ee-219">Pour une sécurité accrue, modifiez le port hello dans hello toolisten de boîte de dialogue précédente sur un port non défini par défaut, tels que 1401.</span><span class="sxs-lookup"><span data-stu-id="c88ee-219">For increased security, change hello port in hello previous dialog toolisten on a non-default port, such as 1401.</span></span> <span data-ttu-id="c88ee-220">Si vous effectuez cette opération, vous devez vous connecter à l’aide de ce port à partir de tous les outils clients, tels que SSMS.</span><span class="sxs-lookup"><span data-stu-id="c88ee-220">If you do this, you must connect using that port from any client tools, such as SSMS.</span></span>

<span data-ttu-id="c88ee-221">tooconnect tooSQL Server via hello internet, vous devez également autoriser l’authentification SQL Server, qui est décrit dans la section suivante de hello.</span><span class="sxs-lookup"><span data-stu-id="c88ee-221">tooconnect tooSQL Server via hello internet, you also must enable SQL Server Authentication, which is described in hello next section.</span></span>

<span data-ttu-id="c88ee-222">Si vous préférez toonot activer les connexions toohello du moteur de base de données via internet de hello, choisissez une des options suivantes de hello :</span><span class="sxs-lookup"><span data-stu-id="c88ee-222">If you would prefer toonot enable connections toohello Database Engine via hello internet, choose one of hello following options:</span></span>

* <span data-ttu-id="c88ee-223">**Local (à l’intérieur de la machine virtuelle uniquement)** tooallow connexions tooSQL serveur uniquement à partir de hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="c88ee-223">**Local (inside VM only)** tooallow connections tooSQL Server only from within hello VM.</span></span>
* <span data-ttu-id="c88ee-224">**Privé (dans le réseau virtuel)** tooallow connexions tooSQL Server à partir d’ordinateurs ou des services Bonjour même réseau virtuel.</span><span class="sxs-lookup"><span data-stu-id="c88ee-224">**Private (within Virtual Network)** tooallow connections tooSQL Server from machines or services in hello same virtual network.</span></span>

<span data-ttu-id="c88ee-225">En règle générale, améliorer la sécurité en choisissant la connectivité de la plus restrictive hello qui permet à votre scénario.</span><span class="sxs-lookup"><span data-stu-id="c88ee-225">In general, improve security by choosing hello most restrictive connectivity that your scenario allows.</span></span> <span data-ttu-id="c88ee-226">Mais toutes les options de hello sont sécurisables via les règles du groupe de sécurité réseau et de l’authentification Windows/SQL.</span><span class="sxs-lookup"><span data-stu-id="c88ee-226">But all hello options are securable through Network Security Group rules and SQL/Windows Authentication.</span></span> <span data-ttu-id="c88ee-227">Vous pouvez modifier le groupe de sécurité réseau après hello que machine virtuelle est créée.</span><span class="sxs-lookup"><span data-stu-id="c88ee-227">You can edit Network Security Group after hello VM is created.</span></span> <span data-ttu-id="c88ee-228">Pour plus d’informations, consultez [Considérations relatives à la sécurité de SQL Server sur les machines virtuelles Azure](virtual-machines-windows-sql-security.md).</span><span class="sxs-lookup"><span data-stu-id="c88ee-228">For more information, see [Security Considerations for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-security.md).</span></span>

> [!NOTE]
> <span data-ttu-id="c88ee-229">image de machine virtuelle Hello pour SQL Server Express edition n’active pas automatiquement le protocole de hello TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="c88ee-229">hello virtual machine image for SQL Server Express edition does not automatically enable hello TCP/IP protocol.</span></span> <span data-ttu-id="c88ee-230">Cela est vrai même pour hello connectivité publics et privés options.</span><span class="sxs-lookup"><span data-stu-id="c88ee-230">This is true even for hello Public and  Private connectivity options.</span></span> <span data-ttu-id="c88ee-231">Pour l’édition Express, vous devez utiliser le Gestionnaire de Configuration SQL Server trop[activer manuellement le protocole de hello TCP/IP](#configure-sql-server-to-listen-on-the-tcp-protocol) après la création d’hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="c88ee-231">For Express edition, you must use SQL Server Configuration Manager too[manually enable hello TCP/IP protocol](#configure-sql-server-to-listen-on-the-tcp-protocol) after creating hello VM.</span></span>

### <a name="authentication"></a><span data-ttu-id="c88ee-232">Authentification</span><span class="sxs-lookup"><span data-stu-id="c88ee-232">Authentication</span></span>

<span data-ttu-id="c88ee-233">Si vous avez besoin de l’authentification SQL Server, cliquez sur **Activer** under **Authentification SQL**.</span><span class="sxs-lookup"><span data-stu-id="c88ee-233">If you require SQL Server Authentication, click **Enable** under **SQL authentication**.</span></span>

![l’authentification SQL Server](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-authentication.png)

> [!NOTE]
> <span data-ttu-id="c88ee-235">Si vous envisagez de tooaccess SQL Server sur hello internet (autrement dit, hello des options de connectivité Public), vous devez activer l’authentification SQL ici.</span><span class="sxs-lookup"><span data-stu-id="c88ee-235">If you plan tooaccess SQL Server over hello internet (i.e. hello Public connectivity option), you must enable SQL authentication here.</span></span> <span data-ttu-id="c88ee-236">Accès public toohello SQL Server nécessite l’utilisation de hello de l’authentification SQL.</span><span class="sxs-lookup"><span data-stu-id="c88ee-236">Public access toohello SQL Server requires hello use of SQL Authentication.</span></span>
> 
> 

<span data-ttu-id="c88ee-237">Si vous activez l’authentification SQL Server, spécifiez un **nom de connexion** et un **mot de passe**.</span><span class="sxs-lookup"><span data-stu-id="c88ee-237">If you enable SQL Server Authentication, specify a **Login name** and **Password**.</span></span> <span data-ttu-id="c88ee-238">Ce nom d’utilisateur est configuré en tant que compte de connexion de l’authentification SQL Server et membre de hello **sysadmin** rôle serveur fixe.</span><span class="sxs-lookup"><span data-stu-id="c88ee-238">This user name is configured as a SQL Server Authentication login and member of hello **sysadmin** fixed server role.</span></span> <span data-ttu-id="c88ee-239">Pour plus d’informations sur les modes d’authentification, consultez [Choisir un mode d’authentification](https://docs.microsoft.com/sql/relational-databases/security/choose-an-authentication-mode) .</span><span class="sxs-lookup"><span data-stu-id="c88ee-239">See [Choose an Authentication Mode](https://docs.microsoft.com/sql/relational-databases/security/choose-an-authentication-mode) for more information about Authentication Modes.</span></span>

<span data-ttu-id="c88ee-240">Si vous n’activez pas l’authentification SQL Server, vous pouvez utiliser compte d’administrateur local hello sur l’instance de SQL Server hello VM tooconnect toohello.</span><span class="sxs-lookup"><span data-stu-id="c88ee-240">If you do not enable SQL Server Authentication, then you can use hello local Administrator account on hello VM tooconnect toohello SQL Server instance.</span></span>

### <a name="storage-configuration"></a><span data-ttu-id="c88ee-241">Configuration du stockage</span><span class="sxs-lookup"><span data-stu-id="c88ee-241">Storage configuration</span></span>

<span data-ttu-id="c88ee-242">Cliquez sur **configuration du stockage** besoins en stockage toospecify hello.</span><span class="sxs-lookup"><span data-stu-id="c88ee-242">Click **Storage configuration** toospecify hello storage requirements.</span></span>

![Configuration du stockage SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-storage.png)

> [!NOTE]
> <span data-ttu-id="c88ee-244">Si vous avez configuré manuellement votre stockage standard toouse de machine virtuelle, cette option n’est pas disponible.</span><span class="sxs-lookup"><span data-stu-id="c88ee-244">If you manually configured your VM toouse standard storage, this option is not available.</span></span> <span data-ttu-id="c88ee-245">L’optimisation du stockage automatique est disponible uniquement pour Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="c88ee-245">Automatic storage optimization is available only for Premium Storage.</span></span>

> [!TIP]
> <span data-ttu-id="c88ee-246">nombre de Hello de s’arrête et des limites supérieures de hello de chaque curseur sont dépendantes de la taille hello de machine virtuelle que vous avez sélectionné.</span><span class="sxs-lookup"><span data-stu-id="c88ee-246">hello number of stops and hello upper limits of each slider is dependent on hello size of VM you selected.</span></span> <span data-ttu-id="c88ee-247">Une machine virtuelle le plus grande et plus puissante est en mesure de tooscale plus haut.</span><span class="sxs-lookup"><span data-stu-id="c88ee-247">A larger and more powerful VM is able tooscale up more.</span></span>

<span data-ttu-id="c88ee-248">Vous pouvez spécifier des exigences comme les opérations d’entrée/sortie par seconde (E/S par seconde), le débit en Mbit/s et la taille totale de stockage.</span><span class="sxs-lookup"><span data-stu-id="c88ee-248">You can specify requirements as input/output operations per second (IOPs), throughput in MB/s, and total storage size.</span></span> <span data-ttu-id="c88ee-249">Configurez ces valeurs à l’aide des échelles décalé hello.</span><span class="sxs-lookup"><span data-stu-id="c88ee-249">Configure these values by using hello sliding scales.</span></span> <span data-ttu-id="c88ee-250">Vous pouvez modifier ces paramètres de stockage en fonction de la charge de travail.</span><span class="sxs-lookup"><span data-stu-id="c88ee-250">You can change these storage settings based on workload.</span></span> <span data-ttu-id="c88ee-251">portail de Hello calcule automatiquement hello du nombre de disques tooattach et le configurer en fonction de ces exigences.</span><span class="sxs-lookup"><span data-stu-id="c88ee-251">hello portal automatically calculates hello number of disks tooattach and configure based on these requirements.</span></span>

<span data-ttu-id="c88ee-252">Sous **stockage optimisé pour**, sélectionnez une des options suivantes de hello :</span><span class="sxs-lookup"><span data-stu-id="c88ee-252">Under **Storage optimized for**, select one of hello following options:</span></span>

* <span data-ttu-id="c88ee-253">**Général** est le paramètre par défaut de hello et prend en charge la plupart des charges de travail.</span><span class="sxs-lookup"><span data-stu-id="c88ee-253">**General** is hello default setting and supports most workloads.</span></span>
* <span data-ttu-id="c88ee-254">**Transactionnelle** traitement optimise le stockage de hello pour les charges de travail OLTP classique de la base de données.</span><span class="sxs-lookup"><span data-stu-id="c88ee-254">**Transactional** processing optimizes hello storage for traditional database OLTP workloads.</span></span>
* <span data-ttu-id="c88ee-255">**Entreposage des données** optimise le stockage hello pour les charges de travail d’analyse et de création de rapports.</span><span class="sxs-lookup"><span data-stu-id="c88ee-255">**Data warehousing** optimizes hello storage for analytic and reporting workloads.</span></span>

### <a name="automated-patching"></a><span data-ttu-id="c88ee-256">Mise à jour corrective automatisée</span><span class="sxs-lookup"><span data-stu-id="c88ee-256">Automated patching</span></span>

<span data-ttu-id="c88ee-257">**Automated patching** est activée par défaut.</span><span class="sxs-lookup"><span data-stu-id="c88ee-257">**Automated patching** is enabled by default.</span></span> <span data-ttu-id="c88ee-258">Mise à jour corrective automatique permet de système d’exploitation Azure tooautomatically correctif SQL Server et hello.</span><span class="sxs-lookup"><span data-stu-id="c88ee-258">Automated patching allows Azure tooautomatically patch SQL Server and hello operating system.</span></span> <span data-ttu-id="c88ee-259">Spécifiez un jour de semaine de hello, heure et la durée d’une fenêtre de maintenance.</span><span class="sxs-lookup"><span data-stu-id="c88ee-259">Specify a day of hello week, time, and duration for a maintenance window.</span></span> <span data-ttu-id="c88ee-260">Azure effectue la mise à jour corrective dans cette fenêtre de maintenance.</span><span class="sxs-lookup"><span data-stu-id="c88ee-260">Azure performs patching in this maintenance window.</span></span> <span data-ttu-id="c88ee-261">planification de fenêtre de maintenance Hello utilise les paramètres régionaux de machine virtuelle de hello pour le moment.</span><span class="sxs-lookup"><span data-stu-id="c88ee-261">hello maintenance window schedule uses hello VM locale for time.</span></span> <span data-ttu-id="c88ee-262">Si vous ne souhaitez pas de système d’exploitation Azure tooautomatically correctif SQL Server et hello, cliquez sur **désactiver**.</span><span class="sxs-lookup"><span data-stu-id="c88ee-262">If you do not want Azure tooautomatically patch SQL Server and hello operating system, click **Disable**.</span></span>  

![Mise à jour corrective automatisée SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-patching.png)

<span data-ttu-id="c88ee-264">Pour plus d’informations, consultez [Mise à jour corrective automatisée pour SQL Server dans les machines virtuelles Azure](virtual-machines-windows-sql-automated-patching.md).</span><span class="sxs-lookup"><span data-stu-id="c88ee-264">For more information, see [Automated Patching for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-patching.md).</span></span>

### <a name="automated-backup"></a><span data-ttu-id="c88ee-265">Sauvegarde automatisée</span><span class="sxs-lookup"><span data-stu-id="c88ee-265">Automated backup</span></span>

<span data-ttu-id="c88ee-266">Activez les sauvegardes automatiques de base de données pour toutes les bases de données sous **Sauvegarde automatisée**.</span><span class="sxs-lookup"><span data-stu-id="c88ee-266">Enable automatic database backups for all databases under **Automated backup**.</span></span> <span data-ttu-id="c88ee-267">La sauvegarde automatisée est désactivée par défaut.</span><span class="sxs-lookup"><span data-stu-id="c88ee-267">Automated backup is disabled by default.</span></span>

<span data-ttu-id="c88ee-268">Lorsque vous activez la sauvegarde automatisée SQL, vous pouvez configurer suivant de hello :</span><span class="sxs-lookup"><span data-stu-id="c88ee-268">When you enable SQL automated backup, you can configure hello following:</span></span>

* <span data-ttu-id="c88ee-269">Période de rétention (jours) pour les sauvegardes</span><span class="sxs-lookup"><span data-stu-id="c88ee-269">Retention period (days) for backups</span></span>
* <span data-ttu-id="c88ee-270">Toouse de compte de stockage pour les sauvegardes</span><span class="sxs-lookup"><span data-stu-id="c88ee-270">Storage account toouse for backups</span></span>
* <span data-ttu-id="c88ee-271">Option de chiffrement et mot de passe pour les sauvegardes</span><span class="sxs-lookup"><span data-stu-id="c88ee-271">Encryption option and password for backups</span></span>
* <span data-ttu-id="c88ee-272">Sauvegarde des bases de données système</span><span class="sxs-lookup"><span data-stu-id="c88ee-272">Backup system databases</span></span>
* <span data-ttu-id="c88ee-273">Configuration de la planification de sauvegarde</span><span class="sxs-lookup"><span data-stu-id="c88ee-273">Configure backup schedule</span></span>

<span data-ttu-id="c88ee-274">utilitaire sauvegarde, cliquez sur tooencrypt hello **activer**.</span><span class="sxs-lookup"><span data-stu-id="c88ee-274">tooencrypt hello backup, click **Enable**.</span></span> <span data-ttu-id="c88ee-275">Puis spécifiez hello **mot de passe**.</span><span class="sxs-lookup"><span data-stu-id="c88ee-275">Then specify hello **Password**.</span></span> <span data-ttu-id="c88ee-276">Azure crée un certificat des sauvegardes tooencrypt hello et utilise hello spécifié tooprotect de mot de passe de ce certificat.</span><span class="sxs-lookup"><span data-stu-id="c88ee-276">Azure creates a certificate tooencrypt hello backups and uses hello specified password tooprotect that certificate.</span></span>

![Sauvegarde automatisée SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-autobackup2.png)

 <span data-ttu-id="c88ee-278">Pour plus d’informations, voir [Sauvegarde automatisée pour SQL Server dans les machines virtuelles Azure](virtual-machines-windows-sql-automated-backup.md).</span><span class="sxs-lookup"><span data-stu-id="c88ee-278">For more information, see [Automated Backup for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span></span>

### <a name="azure-key-vault-integration"></a><span data-ttu-id="c88ee-279">Intégration du coffre de clés Azure</span><span class="sxs-lookup"><span data-stu-id="c88ee-279">Azure Key Vault integration</span></span>

<span data-ttu-id="c88ee-280">les clés secrètes de sécurité toostore dans Azure pour le chiffrement, cliquez sur **intégration du coffre de clés Azure** et cliquez sur **activer**.</span><span class="sxs-lookup"><span data-stu-id="c88ee-280">toostore security secrets in Azure for encryption, click **Azure key vault integration** and click **Enable**.</span></span>

![Intégration du coffre de clés Azure SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-akv.png)

<span data-ttu-id="c88ee-282">Hello tableau suivant répertorie hello paramètres tooconfigure requis Azure Key Vault Integration.</span><span class="sxs-lookup"><span data-stu-id="c88ee-282">hello following table lists hello parameters required tooconfigure Azure Key Vault Integration.</span></span>

| <span data-ttu-id="c88ee-283">PARAMÈTRE</span><span class="sxs-lookup"><span data-stu-id="c88ee-283">PARAMETER</span></span> | <span data-ttu-id="c88ee-284">Description</span><span class="sxs-lookup"><span data-stu-id="c88ee-284">DESCRIPTION</span></span> | <span data-ttu-id="c88ee-285">EXEMPLE</span><span class="sxs-lookup"><span data-stu-id="c88ee-285">EXAMPLE</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c88ee-286">**URL du coffre de clés**</span><span class="sxs-lookup"><span data-stu-id="c88ee-286">**Key Vault URL**</span></span> |<span data-ttu-id="c88ee-287">emplacement Hello de coffre de clés hello.</span><span class="sxs-lookup"><span data-stu-id="c88ee-287">hello location of hello key vault.</span></span> |<span data-ttu-id="c88ee-288">https://contosokeyvault.vault.azure.net/</span><span class="sxs-lookup"><span data-stu-id="c88ee-288">https://contosokeyvault.vault.azure.net/</span></span> |
| <span data-ttu-id="c88ee-289">**Nom du principal**</span><span class="sxs-lookup"><span data-stu-id="c88ee-289">**Principal name**</span></span> |<span data-ttu-id="c88ee-290">Nom du principal du service Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="c88ee-290">Azure Active Directory service principal name.</span></span> <span data-ttu-id="c88ee-291">Ce nom est également référencé tooas hello ID Client.</span><span class="sxs-lookup"><span data-stu-id="c88ee-291">This name is also referred tooas hello Client ID.</span></span> |<span data-ttu-id="c88ee-292">fde2b411-33d5-4e11-af04eb07b669ccf2</span><span class="sxs-lookup"><span data-stu-id="c88ee-292">fde2b411-33d5-4e11-af04eb07b669ccf2</span></span> |
| <span data-ttu-id="c88ee-293">**Secret du principal**</span><span class="sxs-lookup"><span data-stu-id="c88ee-293">**Principal secret**</span></span> |<span data-ttu-id="c88ee-294">Secret du principal du service Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="c88ee-294">Azure Active Directory service principal secret.</span></span> <span data-ttu-id="c88ee-295">Ce secret est également référencé tooas hello question secrète du Client.</span><span class="sxs-lookup"><span data-stu-id="c88ee-295">This secret is also referred tooas hello Client Secret.</span></span> |<span data-ttu-id="c88ee-296">9VTJSQwzlFepD8XODnzy8n2V01Jd8dAjwm/azF1XDKM=</span><span class="sxs-lookup"><span data-stu-id="c88ee-296">9VTJSQwzlFepD8XODnzy8n2V01Jd8dAjwm/azF1XDKM=</span></span> |
| <span data-ttu-id="c88ee-297">**Nom des informations d’identification**</span><span class="sxs-lookup"><span data-stu-id="c88ee-297">**Credential name**</span></span> |<span data-ttu-id="c88ee-298">**Nom d’identification**: AKV Integration crée des informations d’identification dans SQL Server, ce qui permet de hello VM toohave accès toohello coffre de clés.</span><span class="sxs-lookup"><span data-stu-id="c88ee-298">**Credential name**: AKV Integration creates a credential within SQL Server, allowing hello VM toohave access toohello key vault.</span></span> <span data-ttu-id="c88ee-299">Choisissez un nom pour cette identification.</span><span class="sxs-lookup"><span data-stu-id="c88ee-299">Choose a name for this credential.</span></span> |<span data-ttu-id="c88ee-300">mycred1</span><span class="sxs-lookup"><span data-stu-id="c88ee-300">mycred1</span></span> |

<span data-ttu-id="c88ee-301">Pour plus d’informations, consultez [Configurer l’intégration d’Azure Key Vault pour SQL Server sur des machines virtuelles Azure](virtual-machines-windows-ps-sql-keyvault.md).</span><span class="sxs-lookup"><span data-stu-id="c88ee-301">For more information, see [Configure Azure Key Vault Integration for SQL Server on Azure VMs](virtual-machines-windows-ps-sql-keyvault.md).</span></span>

### <a name="r-services"></a><span data-ttu-id="c88ee-302">R Services</span><span class="sxs-lookup"><span data-stu-id="c88ee-302">R services</span></span>

<span data-ttu-id="c88ee-303">Vous avez hello option tooenable [SQL Server R Services](https://msdn.microsoft.com/library/mt604845.aspx).</span><span class="sxs-lookup"><span data-stu-id="c88ee-303">You have hello option tooenable [SQL Server R Services](https://msdn.microsoft.com/library/mt604845.aspx).</span></span> <span data-ttu-id="c88ee-304">Cela vous permet d’analytique toouse avancé avec SQL Server 2016.</span><span class="sxs-lookup"><span data-stu-id="c88ee-304">This enables you toouse advanced analytics with SQL Server 2016.</span></span> <span data-ttu-id="c88ee-305">Cliquez sur **activer** sur hello **paramètres SQL Server** fenêtre.</span><span class="sxs-lookup"><span data-stu-id="c88ee-305">Click **Enable** on hello **SQL Server Settings** window.</span></span>

> [!NOTE]
> <span data-ttu-id="c88ee-306">Pour SQL Server 2016 Developer Edition, cette option est correctement désactivée par le portail de hello.</span><span class="sxs-lookup"><span data-stu-id="c88ee-306">For SQL Server 2016 Developer Edition, this option is incorrectly disabled by hello portal.</span></span> <span data-ttu-id="c88ee-307">Pour l’Édition Développeur, vous devez activer R Services manuellement après avoir créé votre machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="c88ee-307">For Developer edition, you must enable R Services manually after creating your VM.</span></span>

![Activer SQL Server R Services](./media/virtual-machines-windows-portal-sql-server-provision/azure-vm-sql-server-r-services.png)

<span data-ttu-id="c88ee-309">Une fois la configuration des paramètres de SQL Server terminée, cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="c88ee-309">When you are finished configuring SQL Server settings, click **OK**.</span></span>

## <a name="5-review-hello-summary"></a><span data-ttu-id="c88ee-310">5. Hello révision résumé</span><span class="sxs-lookup"><span data-stu-id="c88ee-310">5. Review hello summary</span></span>

<span data-ttu-id="c88ee-311">Sur hello **Résumé** fenêtre, révision hello résumée et cliquez sur **achat** toocreate SQL Server, groupe de ressources et ressources spécifiés pour cet ordinateur virtuel.</span><span class="sxs-lookup"><span data-stu-id="c88ee-311">On hello **Summary** window, review hello summary and click **Purchase** toocreate SQL Server, resource group, and resources specified for this VM.</span></span>

<span data-ttu-id="c88ee-312">Vous pouvez surveiller le déploiement hello de hello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="c88ee-312">You can monitor hello deployment from hello Azure portal.</span></span> <span data-ttu-id="c88ee-313">Hello **Notifications** bouton haut hello écran hello affiche l’état de base du déploiement de hello.</span><span class="sxs-lookup"><span data-stu-id="c88ee-313">hello **Notifications** button at hello top of hello screen shows basic status of hello deployment.</span></span>

> [!NOTE]
> <span data-ttu-id="c88ee-314">tooprovide vous avec une idée sur le déploiement de délai d’attente, j’ai déployé une région est des États-Unis de toohello SQL VM avec les paramètres par défaut.</span><span class="sxs-lookup"><span data-stu-id="c88ee-314">tooprovide you with an idea on deployment times, I deployed a SQL VM toohello East US region with default settings.</span></span> <span data-ttu-id="c88ee-315">Ce déploiement de test a pris un total de 26 minutes toocomplete.</span><span class="sxs-lookup"><span data-stu-id="c88ee-315">This test deployment took a total of 26 minutes toocomplete.</span></span> <span data-ttu-id="c88ee-316">Mais cette durée peut varier en fonction de votre région et des paramètres sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="c88ee-316">But you might experience a faster or slower deployment time based on your region and selected settings.</span></span>

## <a name="open-hello-vm-with-remote-desktop"></a><span data-ttu-id="c88ee-317">Ouvrez hello machine virtuelle avec le Bureau à distance</span><span class="sxs-lookup"><span data-stu-id="c88ee-317">Open hello VM with Remote Desktop</span></span>

<span data-ttu-id="c88ee-318">Utilisez hello suivant les étapes tooconnect toohello SQL Server virtuels avec le Bureau à distance :</span><span class="sxs-lookup"><span data-stu-id="c88ee-318">Use hello following steps tooconnect toohello SQL Server virtual machine with Remote Desktop:</span></span>

> [!INCLUDE [Connect tooSQL Server VM with remote desktop](../../../../includes/virtual-machines-sql-server-remote-desktop-connect.md)]

<span data-ttu-id="c88ee-319">Après la connexion de la machine virtuelle de SQL Server toohello, vous pouvez lancer SQL Server Management Studio et se connecter avec l’authentification Windows à l’aide de vos informations d’identification d’administrateur local.</span><span class="sxs-lookup"><span data-stu-id="c88ee-319">After you connect toohello SQL Server virtual machine, you can launch SQL Server Management Studio and connect with Windows Authentication using your local administrator credentials.</span></span> <span data-ttu-id="c88ee-320">Si vous avez activé l’authentification SQL Server, vous pouvez également vous connecter avec l’authentification SQL à l’aide du compte de connexion SQL hello et le mot de passe configurés lors de la configuration.</span><span class="sxs-lookup"><span data-stu-id="c88ee-320">If you enabled SQL Server Authentication, you can also connect with SQL Authentication using hello SQL login and password you configured during provisioning.</span></span>

<span data-ttu-id="c88ee-321">Machine de toohello accès vous permet de toodirectly modification ordinateur et les paramètres de SQL Server en fonction de vos besoins.</span><span class="sxs-lookup"><span data-stu-id="c88ee-321">Access toohello machine enables you toodirectly change machine and SQL Server settings based on your requirements.</span></span> <span data-ttu-id="c88ee-322">Par exemple, vous pourriez configurer les paramètres de pare-feu hello ou modifier les paramètres de configuration de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c88ee-322">For example, you could configure hello firewall settings or change SQL Server configuration settings.</span></span>

## <a name="enable-tcpip-for-developer-and-express-editions"></a><span data-ttu-id="c88ee-323">Activer TCP/IP pour les éditions Developer et Express</span><span class="sxs-lookup"><span data-stu-id="c88ee-323">Enable TCP/IP for Developer and Express editions</span></span>

<span data-ttu-id="c88ee-324">Lors de la configuration d’un nouvel ordinateur virtuel SQL Server, Azure n’active pas automatiquement le protocole TCP/IP hello pour les éditions Express et SQL Server Developer.</span><span class="sxs-lookup"><span data-stu-id="c88ee-324">When provisioning a new SQL Server VM, Azure does not automatically enable hello TCP/IP protocol for SQL Server Developer and Express editions.</span></span> <span data-ttu-id="c88ee-325">les étapes de Hello ci-dessous expliquent comment toomanually activer TCP/IP afin de pouvoir vous connecter à distance par adresse IP.</span><span class="sxs-lookup"><span data-stu-id="c88ee-325">hello steps below explain how toomanually enable TCP/IP so that you can connect remotely by IP address.</span></span>

<span data-ttu-id="c88ee-326">Hello suivant l’utilisation d’étapes **Gestionnaire de Configuration SQL Server** protocole de hello TCP/IP tooenable pour les éditions Express et SQL Server Developer.</span><span class="sxs-lookup"><span data-stu-id="c88ee-326">hello following steps use **SQL Server Configuration Manager** tooenable hello TCP/IP protocol for SQL Server Developer and Express editions.</span></span>

> [!INCLUDE [Connect tooSQL Server VM with remote desktop](../../../../includes/virtual-machines-sql-server-connection-tcp-protocol.md)]

## <a name="connect-toosql-server-remotely"></a><span data-ttu-id="c88ee-327">Se connecter tooSQL serveur à distance</span><span class="sxs-lookup"><span data-stu-id="c88ee-327">Connect tooSQL Server remotely</span></span>

<span data-ttu-id="c88ee-328">Dans ce didacticiel, nous avons sélectionné **Public** accès pour la machine virtuelle de hello et **l’authentification SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="c88ee-328">In this tutorial, we selected **Public** access for hello virtual machine and **SQL Server Authentication**.</span></span> <span data-ttu-id="c88ee-329">Ces connexions de SQL Server tooallow de paramètres configurés automatiquement hello machine virtuelle à partir de n’importe quel client sur hello internet (en supposant qu’ils ont la connexion SQL correcte de hello).</span><span class="sxs-lookup"><span data-stu-id="c88ee-329">These settings automatically configured hello virtual machine tooallow SQL Server connections from any client over hello internet (assuming they have hello correct SQL login).</span></span>

> [!NOTE]
> <span data-ttu-id="c88ee-330">Si vous n’avez pas sélectionné Public lors de la configuration, vous pouvez modifier vos paramètres de connectivité SQL via le portail de hello après le déploiement.</span><span class="sxs-lookup"><span data-stu-id="c88ee-330">If you did not select Public during provisioning, then you can change your SQL connectivity settings through hello portal after provisioning.</span></span> <span data-ttu-id="c88ee-331">Pour plus d’informations, consultez la page [Modifier vos paramètres de connectivité SQL](virtual-machines-windows-sql-connect.md#change).</span><span class="sxs-lookup"><span data-stu-id="c88ee-331">For more information, see  [Change your SQL connectivity settings](virtual-machines-windows-sql-connect.md#change).</span></span>

<span data-ttu-id="c88ee-332">Hello les sections suivantes montrent comment instance de SQL Server tooconnect tooyour sur votre machine virtuelle à partir d’un autre ordinateur sur hello internet.</span><span class="sxs-lookup"><span data-stu-id="c88ee-332">hello following sections show how tooconnect tooyour SQL Server instance on your VM from a different computer over hello internet.</span></span>

> [!INCLUDE [Connect tooSQL Server in a VM Resource Manager](../../../../includes/virtual-machines-sql-server-connection-steps-resource-manager.md)]

## <a name="next-steps"></a><span data-ttu-id="c88ee-333">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="c88ee-333">Next Steps</span></span>

<span data-ttu-id="c88ee-334">D’autres informations sur l’utilisation de SQL Server dans Azure, consultez [SQL Server sur des Machines virtuelles Azure](virtual-machines-windows-sql-server-iaas-overview.md) et hello [Forum aux Questions](virtual-machines-windows-sql-server-iaas-faq.md).</span><span class="sxs-lookup"><span data-stu-id="c88ee-334">For other information about using SQL Server in Azure, see [SQL Server on Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) and hello [Frequently Asked Questions](virtual-machines-windows-sql-server-iaas-faq.md).</span></span>
