---
title: "Approvisionnement d’une machine virtuelle SQL Server | Microsoft Docs"
description: "Créez une machine virtuelle SQL Server dans Azure et connectez-vous à cette dernière à l’aide du portail. Ce didacticiel utilise le mode Resource Manager."
services: virtual-machines-windows
documentationcenter: na
author: rothja
manager: jhubbard
tags: azure-resource-manager
ms.assetid: 1aff691f-a40a-4de2-b6a0-def1384e086e
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: infrastructure-services
ms.date: 08/14/2017
ms.author: jroth
ms.openlocfilehash: c923f9aae4c7a1b8bd4f5760d0ec4f33923b9321
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/18/2017
---
# <a name="provision-a-sql-server-virtual-machine-in-the-azure-portal"></a><span data-ttu-id="11516-104">Approvisionner une machine virtuelle SQL Server dans le portail Azure</span><span class="sxs-lookup"><span data-stu-id="11516-104">Provision a SQL Server virtual machine in the Azure portal</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="11516-105">Portail</span><span class="sxs-lookup"><span data-stu-id="11516-105">Portal</span></span>](virtual-machines-windows-portal-sql-server-provision.md)
> * [<span data-ttu-id="11516-106">PowerShell</span><span class="sxs-lookup"><span data-stu-id="11516-106">PowerShell</span></span>](virtual-machines-windows-ps-sql-create.md)
> 
> 

<span data-ttu-id="11516-107">Ce didacticiel de bout en bout vous indique comment utiliser le portail Azure pour approvisionner une machine virtuelle exécutant SQL Server.</span><span class="sxs-lookup"><span data-stu-id="11516-107">This end-to-end tutorial shows you how to use the Azure portal to provision a virtual machine running SQL Server.</span></span>

<span data-ttu-id="11516-108">La galerie de machines virtuelles Azure inclut différentes images contenant Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="11516-108">The Azure virtual machine (VM) gallery includes several images that contain Microsoft SQL Server.</span></span> <span data-ttu-id="11516-109">Vous pouvez sélectionner l’une des images de machine virtuelle SQL à partir de la galerie et l’approvisionner en quelques clics dans votre environnement Azure.</span><span class="sxs-lookup"><span data-stu-id="11516-109">With a few clicks, you can select one of the SQL VM images from the gallery and provision it in your Azure environment.</span></span>

<span data-ttu-id="11516-110">Ce didacticiel présente les procédures suivantes :</span><span class="sxs-lookup"><span data-stu-id="11516-110">In this tutorial, you will:</span></span>

* [<span data-ttu-id="11516-111">Sélectionner une image de machine virtuelle à partir de la galerie</span><span class="sxs-lookup"><span data-stu-id="11516-111">Select a SQL VM image from the gallery</span></span>](#select-a-sql-vm-image-from-the-gallery)
* [<span data-ttu-id="11516-112">Configurer et créer la machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="11516-112">Configure and create the VM</span></span>](#configure-the-vm)
* [<span data-ttu-id="11516-113">Ouvrir la machine virtuelle à l’aide du Bureau à distance</span><span class="sxs-lookup"><span data-stu-id="11516-113">Open the VM with Remote Desktop</span></span>](#open-the-vm-with-remote-desktop)
* [<span data-ttu-id="11516-114">Se connecter à SQL Server à distance</span><span class="sxs-lookup"><span data-stu-id="11516-114">Connect to SQL Server remotely</span></span>](#connect-to-sql-server-remotely)

## <a name="select-a-sql-vm-image-from-the-gallery"></a><span data-ttu-id="11516-115">Sélectionner une image de machine virtuelle à partir de la galerie</span><span class="sxs-lookup"><span data-stu-id="11516-115">Select a SQL VM image from the gallery</span></span>

1. <span data-ttu-id="11516-116">Connectez-vous au [portail Azure](https://portal.azure.com) avec votre compte.</span><span class="sxs-lookup"><span data-stu-id="11516-116">Log in to the [Azure portal](https://portal.azure.com) using your account.</span></span>

   > [!NOTE]
   > <span data-ttu-id="11516-117">Si vous n'avez pas de compte Azure, visitez la page [Version d'évaluation gratuite d'Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="11516-117">If you do not have an Azure account, visit [Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>

2. <span data-ttu-id="11516-118">Dans le portail Azure, cliquez sur **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="11516-118">On the Azure portal, click **New**.</span></span> <span data-ttu-id="11516-119">Le portail ouvre la fenêtre **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="11516-119">The portal opens the **New** window.</span></span>

3. <span data-ttu-id="11516-120">Dans la fenêtre **Nouveau**, cliquez sur **Calcul** , puis sur **Afficher tout**.</span><span class="sxs-lookup"><span data-stu-id="11516-120">In the **New** window, click **Compute** and then click **See all**.</span></span>

   ![Fenêtre Nouveau calcul](./media/virtual-machines-windows-portal-sql-server-provision/azure-new-compute-blade.png)

4. <span data-ttu-id="11516-122">Dans le champ de recherche, tapez **SQL Server**, puis appuyez sur ENTRÉE.</span><span class="sxs-lookup"><span data-stu-id="11516-122">In the search field, type **SQL Server**, and press ENTER.</span></span>

5. <span data-ttu-id="11516-123">Cliquez sur l’icône **Filtre**, puis sélectionnez **Microsoft** en tant qu’éditeur.</span><span class="sxs-lookup"><span data-stu-id="11516-123">Then click the **Filter** icon and select **Microsoft** for the publisher.</span></span> <span data-ttu-id="11516-124">Dans la fenêtre du filtre, cliquez sur **Terminé** pour filtrer les résultats et ne visualiser que les images SQL Server publiées par Microsoft.</span><span class="sxs-lookup"><span data-stu-id="11516-124">Click **Done** on the filter window to filter the results to Microsoft published SQL Server images.</span></span>

   ![Fenêtre Machines virtuelles Azure](./media/virtual-machines-windows-portal-sql-server-provision/azure-compute-blade2.png)

5. <span data-ttu-id="11516-126">Passez en revue les images SQL Server disponibles.</span><span class="sxs-lookup"><span data-stu-id="11516-126">Review the available SQL Server images.</span></span> <span data-ttu-id="11516-127">Chaque image identifie une version de SQL Server et un système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="11516-127">Each image identifies a SQL Server version and an operating system.</span></span>

6. <span data-ttu-id="11516-128">Sélectionnez l’image nommée **Free License: SQL Server 2016 SP1 Developer on Windows Server 2016** (Licence gratuite : SQL Server 2016 SP1 Developer sur Windows Server 2016).</span><span class="sxs-lookup"><span data-stu-id="11516-128">Select the image named **Free License: SQL Server 2016 SP1 Developer on Windows Server 2016**.</span></span>

   > [!TIP]
   > <span data-ttu-id="11516-129">L’édition Developer est utilisée dans ce didacticiel, car il s’agit d’une version complète de SQL Server qui est gratuite à des fins de test de développement.</span><span class="sxs-lookup"><span data-stu-id="11516-129">The Developer edition is used in this tutorial because it is a full-featured edition of SQL Server that is free for development testing purposes.</span></span> <span data-ttu-id="11516-130">Vous payez uniquement pour le coût d’exécution de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="11516-130">You pay only for the cost of running the VM.</span></span> <span data-ttu-id="11516-131">Toutefois, vous êtes libre de choisir toutes les images qui doivent être utilisées dans ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="11516-131">However, you are free to choose any of the images to use in this tutorial.</span></span>

   > [!TIP]
   > <span data-ttu-id="11516-132">Les images de machines virtuelles SQL incluent les coûts de licence pour SQL Server dans la tarification par minute de la machine virtuelle que vous créez (sauf pour les éditions Développeur et Express).</span><span class="sxs-lookup"><span data-stu-id="11516-132">SQL VM images include the licensing costs for SQL Server into the per-minute pricing of the VM you create (except for the Developer and Express editions).</span></span> <span data-ttu-id="11516-133">SQL Server Developer est gratuit pour le développement/les tests (hors production) et SQL Express est gratuit pour les charges légères (moins de 1 Go de mémoire, moins de 10 Go de stockage).</span><span class="sxs-lookup"><span data-stu-id="11516-133">SQL Server Developer is free for development/testing (not production) and SQL Express is free for lightweight workloads (less than 1GB memory, less than 10 GB storage).</span></span> <span data-ttu-id="11516-134">Vous avez également la possibilité d’utiliser votre solution BYOL (apportez votre propre licence) et de payer seulement pour la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="11516-134">There is another option to bring-your-own-license (BYOL) and pay only for the VM.</span></span> <span data-ttu-id="11516-135">Ces noms d’images sont préfixés avec {BYOL}.</span><span class="sxs-lookup"><span data-stu-id="11516-135">Those image names are prefixed with {BYOL}.</span></span> 
   >
   > <span data-ttu-id="11516-136">Pour en savoir plus sur ces options, consultez l’article [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md) (Tarification des machines virtuelles SQL Server Azure).</span><span class="sxs-lookup"><span data-stu-id="11516-136">For more information on these options, see [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md).</span></span>

7. <span data-ttu-id="11516-137">Sous **Sélectionner un modèle de déploiement**, vérifiez que **Resource Manager** est sélectionné.</span><span class="sxs-lookup"><span data-stu-id="11516-137">Under **Select a deployment model**, verify that **Resource Manager** is selected.</span></span> <span data-ttu-id="11516-138">Resource Manager est le modèle de déploiement recommandé pour les nouvelles machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="11516-138">Resource Manager is the recommended deployment model for new virtual machines.</span></span> 

8. <span data-ttu-id="11516-139">Cliquez sur **Create**.</span><span class="sxs-lookup"><span data-stu-id="11516-139">Click **Create**.</span></span>

    ![Créer une machine virtuelle avec Resource Manager](./media/virtual-machines-windows-portal-sql-server-provision/azure-compute-sql-deployment-model.png)

## <a name="configure-the-vm"></a><span data-ttu-id="11516-141">Configurer la machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="11516-141">Configure the VM</span></span>
<span data-ttu-id="11516-142">Il existe cinq fenêtres de configuration d’une machine virtuelle SQL Server.</span><span class="sxs-lookup"><span data-stu-id="11516-142">There are five windows for configuring a SQL Server virtual machine.</span></span>

| <span data-ttu-id="11516-143">Étape</span><span class="sxs-lookup"><span data-stu-id="11516-143">Step</span></span> | <span data-ttu-id="11516-144">Description</span><span class="sxs-lookup"><span data-stu-id="11516-144">Description</span></span> |
| --- | --- |
| <span data-ttu-id="11516-145">**Concepts de base**</span><span class="sxs-lookup"><span data-stu-id="11516-145">**Basics**</span></span> |[<span data-ttu-id="11516-146">Configurer les paramètres de base</span><span class="sxs-lookup"><span data-stu-id="11516-146">Configure basic settings</span></span>](#1-configure-basic-settings) |
| <span data-ttu-id="11516-147">**Taille**</span><span class="sxs-lookup"><span data-stu-id="11516-147">**Size**</span></span> |[<span data-ttu-id="11516-148">Choisir la taille de machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="11516-148">Choose virtual machine size</span></span>](#2-choose-virtual-machine-size) |
| <span data-ttu-id="11516-149">**Paramètres**</span><span class="sxs-lookup"><span data-stu-id="11516-149">**Settings**</span></span> |[<span data-ttu-id="11516-150">Configurer des fonctionnalités facultatives</span><span class="sxs-lookup"><span data-stu-id="11516-150">Configure optional features</span></span>](#3-configure-optional-features) |
| <span data-ttu-id="11516-151">**Paramètres de SQL Server**</span><span class="sxs-lookup"><span data-stu-id="11516-151">**SQL Server settings**</span></span> |[<span data-ttu-id="11516-152">Configurer les paramètres du serveur SQL</span><span class="sxs-lookup"><span data-stu-id="11516-152">Configure SQL server settings</span></span>](#4-configure-sql-server-settings) |
| <span data-ttu-id="11516-153">**Résumé**</span><span class="sxs-lookup"><span data-stu-id="11516-153">**Summary**</span></span> |[<span data-ttu-id="11516-154">Passer en revue le résumé</span><span class="sxs-lookup"><span data-stu-id="11516-154">Review the summary</span></span>](#5-review-the-summary) |

## <a name="1-configure-basic-settings"></a><span data-ttu-id="11516-155">1. Configurer les paramètres de base</span><span class="sxs-lookup"><span data-stu-id="11516-155">1. Configure basic settings</span></span>

<span data-ttu-id="11516-156">Dans la fenêtre **Informations de base** , fournissez les informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="11516-156">On the **Basics** window, provide the following information:</span></span>

* <span data-ttu-id="11516-157">Entrez un **nom**de machine virtuelle unique.</span><span class="sxs-lookup"><span data-stu-id="11516-157">Enter a unique virtual machine **Name**.</span></span>

* <span data-ttu-id="11516-158">Pour optimiser les performances, sélectionnez **SSD** comme type de disque de machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="11516-158">Select **SSD** for VM disk type for optimal performance.</span></span>

* <span data-ttu-id="11516-159">Indiquez uniquement un **Nom d’utilisateur** pour le compte administrateur local de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="11516-159">Specify a **User name** for the local administrator account on the VM.</span></span> <span data-ttu-id="11516-160">Ce compte est également ajouté au serveur fixe **sysadmin** SQL Server.</span><span class="sxs-lookup"><span data-stu-id="11516-160">This account is also added to the SQL Server **sysadmin** fixed server role.</span></span>

* <span data-ttu-id="11516-161">Utilisez un **mot de passe**fort.</span><span class="sxs-lookup"><span data-stu-id="11516-161">Provide a strong **Password**.</span></span>

* <span data-ttu-id="11516-162">Si vous possédez plusieurs abonnements, vérifiez que l’abonnement est correct pour la nouvelle machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="11516-162">If you have multiple subscriptions, verify that the subscription is correct for the new VM.</span></span>

* <span data-ttu-id="11516-163">Dans la zone **Groupe de ressources** , saisissez un nom pour le groupe de ressources.</span><span class="sxs-lookup"><span data-stu-id="11516-163">In the **Resource group** box, type a name for a new resource group.</span></span> <span data-ttu-id="11516-164">Sinon, pour utiliser un groupe de ressources existant, cliquez sur **Utiliser existant**.</span><span class="sxs-lookup"><span data-stu-id="11516-164">Alternatively, to use an existing resource group click **Use existing**.</span></span> <span data-ttu-id="11516-165">Un groupe de ressources est une collection de ressources liées dans Azure (machines virtuelles, comptes de stockage, réseaux virtuels, etc.).</span><span class="sxs-lookup"><span data-stu-id="11516-165">A resource group is a collection of related resources in Azure (virtual machines, storage accounts, virtual networks, etc.).</span></span>

  > [!NOTE]
  > <span data-ttu-id="11516-166">L’utilisation d’un nouveau groupe de ressources est utile si vous testez ou découvrez les déploiements SQL Server dans Azure.</span><span class="sxs-lookup"><span data-stu-id="11516-166">Using a new resource group is helpful if you are just testing or learning about SQL Server deployments in Azure.</span></span> <span data-ttu-id="11516-167">Une fois que vous avez terminé votre test, supprimez le groupe de ressources pour supprimer automatiquement la machine virtuelle et toutes les ressources associées à ce groupe de ressources.</span><span class="sxs-lookup"><span data-stu-id="11516-167">After you finish with your test, delete the resource group to automatically delete the VM and all resources associated with that resource group.</span></span> <span data-ttu-id="11516-168">Pour plus d’informations sur les groupes de ressources, consultez [Vue d’ensemble d’Azure Resource Manager](../../../azure-resource-manager/resource-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="11516-168">For more information about resource groups, see [Azure Resource Manager Overview](../../../azure-resource-manager/resource-group-overview.md).</span></span>

* <span data-ttu-id="11516-169">Sélectionnez un **Emplacement** correspondant à la région Azure qui hébergera ce déploiement.</span><span class="sxs-lookup"><span data-stu-id="11516-169">Select a **Location** for the Azure region that will host this deployment.</span></span>

* <span data-ttu-id="11516-170">Cliquez sur **OK** pour enregistrer les paramètres.</span><span class="sxs-lookup"><span data-stu-id="11516-170">Click **OK** to save the settings.</span></span>

    ![Fenêtre SQL Basics (Informations de base SQL)](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-basic.png)

## <a name="2-choose-virtual-machine-size"></a><span data-ttu-id="11516-172">2. Choisir la taille de machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="11516-172">2. Choose virtual machine size</span></span>

<span data-ttu-id="11516-173">Lors de l’étape de **Dimensionnement**, choisissez une taille de machine virtuelle dans la fenêtre **Choisir une taille**.</span><span class="sxs-lookup"><span data-stu-id="11516-173">On the **Size** step, choose a virtual machine size in the **Choose a size** window.</span></span> <span data-ttu-id="11516-174">La fenêtre affiche d’abord les tailles de machine virtuelle recommandées en fonction de l’image que vous avez sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="11516-174">The window initially displays recommended machine sizes based on the image you selected.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="11516-175">Le coût mensuel estimé affiché sur la fenêtre **Choisir une taille** n’inclut pas les coûts de licence SQL Server.</span><span class="sxs-lookup"><span data-stu-id="11516-175">The estimated monthly cost displayed on the **Choose a size** window does not include SQL Server licensing costs.</span></span> <span data-ttu-id="11516-176">Il s’agit uniquement du coût de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="11516-176">This is the cost of the VM alone.</span></span> <span data-ttu-id="11516-177">Pour les éditions Express et Developer de SQL Server, il s’agit du coût total estimé.</span><span class="sxs-lookup"><span data-stu-id="11516-177">For the Express and Developer editions of SQL Server, this is the total estimated cost.</span></span> <span data-ttu-id="11516-178">Pour les autres éditions, consultez la [page de tarification des machines virtuelles Windows](https://azure.microsoft.com/pricing/details/virtual-machines/windows/) et sélectionnez votre édition de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="11516-178">For other editions, see the [Windows Virtual Machines pricing page](https://azure.microsoft.com/pricing/details/virtual-machines/windows/) and select your target edition of SQL Server.</span></span> <span data-ttu-id="11516-179">Consultez également l’article [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md) (Tarification des machines virtuelles SQL Server Azure).</span><span class="sxs-lookup"><span data-stu-id="11516-179">Also see the [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md).</span></span>

![Options de taille de machine virtuelle SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-vm-choose-a-size.png)

<span data-ttu-id="11516-181">Pour les charges de travail de production, consultez les tailles de machine et la configuration recommandées dans l’article [Meilleures pratiques relatives aux performances de SQL Server dans les machines virtuelles Azure](virtual-machines-windows-sql-performance.md).</span><span class="sxs-lookup"><span data-stu-id="11516-181">For production workloads, see the recommended machine sizes and configuration in [Performance best practices for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-performance.md).</span></span> <span data-ttu-id="11516-182">Si vous avez besoin d’une taille de machine non répertoriée, cliquez sur le bouton **Afficher tout**.</span><span class="sxs-lookup"><span data-stu-id="11516-182">If you need a machine size that is not listed, click the **View all** button.</span></span>

> [!NOTE]
> <span data-ttu-id="11516-183">Pour plus d’informations sur les tailles de machines virtuelles, voir [Tailles des machines virtuelles](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="11516-183">For more information about virtual machine sizes see, [Sizes for virtual machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="11516-184">Choisissez la taille de votre machine, puis cliquez sur **Sélectionner**.</span><span class="sxs-lookup"><span data-stu-id="11516-184">Choose your machine size, and then click **Select**.</span></span>

## <a name="3-configure-optional-features"></a><span data-ttu-id="11516-185">3. Configurer des fonctionnalités facultatives</span><span class="sxs-lookup"><span data-stu-id="11516-185">3. Configure optional features</span></span>

<span data-ttu-id="11516-186">Dans la fenêtre **Paramètres**, configurez le stockage Azure, la mise en réseau et la surveillance de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="11516-186">On the **Settings** window, configure Azure storage, networking, and monitoring for the virtual machine.</span></span>

* <span data-ttu-id="11516-187">Dans la section **Stockage**, sélectionnez **Oui** sous **Utiliser Managed Disks**.</span><span class="sxs-lookup"><span data-stu-id="11516-187">Under **Storage**, select **Yes** under use **Managed Disks**.</span></span>

   > [!NOTE]
   > <span data-ttu-id="11516-188">Microsoft recommande Managed Disks pour SQL Server.</span><span class="sxs-lookup"><span data-stu-id="11516-188">Microsoft recommends Managed Disks for SQL Server.</span></span> <span data-ttu-id="11516-189">Les disques managés gèrent le stockage en arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="11516-189">Managed Disks handles storage behind the scenes.</span></span> <span data-ttu-id="11516-190">En outre, lorsque les machines virtuelles avec Managed Disks sont dans le même groupe à haute disponibilité, Azure distribue les ressources de stockage pour fournir une redondance appropriée.</span><span class="sxs-lookup"><span data-stu-id="11516-190">In addition, when virtual machines with Managed Disks are in the same availability set, Azure distributes the storage resources to provide appropriate redundancy.</span></span> <span data-ttu-id="11516-191">Pour plus d’informations, voir la page [Azure Managed Disks overview](../../../storage/storage-managed-disks-overview.md) (Vue d’ensemble d’Azure Managed Disks).</span><span class="sxs-lookup"><span data-stu-id="11516-191">For additional information, see [Azure Managed Disks Overview](../../../storage/storage-managed-disks-overview.md).</span></span> <span data-ttu-id="11516-192">Pour plus de détails sur les disques gérés dans un groupe à haute disponibilité, consultez l’article [Utilisation de disques gérés pour les machines virtuelles dans le groupe à haute disponibilité](../manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="11516-192">For specifics about managed disks in an availability set, see [Use managed disks for VMs in availability set](../manage-availability.md).</span></span>

* <span data-ttu-id="11516-193">Sous **Réseau**, vous pouvez accepter les valeurs remplies automatiquement.</span><span class="sxs-lookup"><span data-stu-id="11516-193">Under **Network**, you can accept the automatically populated values.</span></span> <span data-ttu-id="11516-194">Vous pouvez également cliquer sur chaque fonctionnalité pour configurer manuellement le **Réseau virtuel**, **Sous-réseau**, **Adresse IP publique** et **Groupe de sécurité réseau**.</span><span class="sxs-lookup"><span data-stu-id="11516-194">You can also click on each feature to manually configure the **Virtual network**, **Subnet**, **Public IP address**, and **Network Security Group**.</span></span> <span data-ttu-id="11516-195">Dans le cadre de ce didacticiel, vous pouvez conserver les valeurs par défaut.</span><span class="sxs-lookup"><span data-stu-id="11516-195">For the purposes of this tutorial, keep the default values.</span></span>

* <span data-ttu-id="11516-196">Azure permet **l’analyse** par défaut avec le même compte de stockage désigné pour la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="11516-196">Azure enables **Monitoring** by default with the same storage account designated for the VM.</span></span> <span data-ttu-id="11516-197">Vous pouvez modifier ces paramètres ici.</span><span class="sxs-lookup"><span data-stu-id="11516-197">You can change these settings here.</span></span>

* <span data-ttu-id="11516-198">Sous **Groupe à haute disponibilité**, vous pouvez conserver la valeur par défaut **aucune** pour ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="11516-198">Under **Availability set**, you can leave the default of **none** for this tutorial.</span></span> <span data-ttu-id="11516-199">Si vous envisagez de configurer des groupes de disponibilité SQL AlwaysOn, configurez la disponibilité pour éviter de recréer la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="11516-199">If you plan to set up SQL AlwaysOn Availability Groups, configure the availability to avoid recreating the virtual machine.</span></span>  <span data-ttu-id="11516-200">Pour plus d’informations, voir [Gestion de la disponibilité des machines virtuelles](../manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="11516-200">For more information, see [Manage the Availability of Virtual Machines](../manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="11516-201">Une fois que vous avez terminé la configuration des paramètres, cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="11516-201">When you are done configuring these settings, click **OK**.</span></span>

## <a name="4-configure-sql-server-settings"></a><span data-ttu-id="11516-202">4. Configurer les paramètres du serveur SQL</span><span class="sxs-lookup"><span data-stu-id="11516-202">4. Configure SQL server settings</span></span>
<span data-ttu-id="11516-203">Dans la fenêtre **Paramètres SQL Server**, configurez des paramètres spécifiques et des optimisations pour SQL Server.</span><span class="sxs-lookup"><span data-stu-id="11516-203">On the **SQL Server settings** window, configure specific settings and optimizations for SQL Server.</span></span> <span data-ttu-id="11516-204">Les paramètres que vous pouvez configurer pour SQL Server sont les suivants :</span><span class="sxs-lookup"><span data-stu-id="11516-204">The settings that you can configure for SQL Server include the following.</span></span>

| <span data-ttu-id="11516-205">Paramètre</span><span class="sxs-lookup"><span data-stu-id="11516-205">Setting</span></span> |
| --- |
| [<span data-ttu-id="11516-206">Connectivité</span><span class="sxs-lookup"><span data-stu-id="11516-206">Connectivity</span></span>](#connectivity) |
| [<span data-ttu-id="11516-207">Authentification</span><span class="sxs-lookup"><span data-stu-id="11516-207">Authentication</span></span>](#authentication) |
| [<span data-ttu-id="11516-208">Configuration du stockage</span><span class="sxs-lookup"><span data-stu-id="11516-208">Storage configuration</span></span>](#storage-configuration) |
| [<span data-ttu-id="11516-209">Mise à jour corrective automatisée</span><span class="sxs-lookup"><span data-stu-id="11516-209">Automated Patching</span></span>](#automated-patching) |
| [<span data-ttu-id="11516-210">Sauvegarde automatisée</span><span class="sxs-lookup"><span data-stu-id="11516-210">Automated Backup</span></span>](#automated-backup) |
| [<span data-ttu-id="11516-211">Intégration du coffre de clés Azure</span><span class="sxs-lookup"><span data-stu-id="11516-211">Azure Key Vault Integration</span></span>](#azure-key-vault-integration) |
| [<span data-ttu-id="11516-212">R Services</span><span class="sxs-lookup"><span data-stu-id="11516-212">R Services</span></span>](#r-services) |

### <a name="connectivity"></a><span data-ttu-id="11516-213">Connectivité</span><span class="sxs-lookup"><span data-stu-id="11516-213">Connectivity</span></span>

<span data-ttu-id="11516-214">Sous **SQL connectivity**(Connectivité SQL), spécifiez le type d’accès à l’instance SQL Server souhaité sur cette machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="11516-214">Under **SQL connectivity**, specify the type of access you want to the SQL Server instance on this VM.</span></span> <span data-ttu-id="11516-215">Pour les besoins de ce didacticiel, sélectionnez **Public (Internet)** pour autoriser les connexions à SQL Server depuis des machines ou des services sur Internet.</span><span class="sxs-lookup"><span data-stu-id="11516-215">For the purposes of this tutorial, select **Public (internet)** to allow connections to SQL Server from machines or services on the internet.</span></span> <span data-ttu-id="11516-216">Une fois cette option sélectionnée, Azure configure automatiquement le pare-feu et le groupe de sécurité réseau pour autoriser le trafic sur le port 1433.</span><span class="sxs-lookup"><span data-stu-id="11516-216">With this option selected, Azure automatically configures the firewall and the network security group to allow traffic on port 1433.</span></span>

![Options de connectivité SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-connectivity-alt.png)

> [!TIP]
> <span data-ttu-id="11516-218">Par défaut, SQL Server écoute un port bien connu, le port **1433**.</span><span class="sxs-lookup"><span data-stu-id="11516-218">By default, SQL Server listens on a well-known port, **1433**.</span></span> <span data-ttu-id="11516-219">Pour accroître la sécurité, remplacez dans la boîte de dialogue précédente le port par défaut par un autre port, tel que 1401.</span><span class="sxs-lookup"><span data-stu-id="11516-219">For increased security, change the port in the previous dialog to listen on a non-default port, such as 1401.</span></span> <span data-ttu-id="11516-220">Si vous effectuez cette opération, vous devez vous connecter à l’aide de ce port à partir de tous les outils clients, tels que SSMS.</span><span class="sxs-lookup"><span data-stu-id="11516-220">If you do this, you must connect using that port from any client tools, such as SSMS.</span></span>

<span data-ttu-id="11516-221">Pour vous connecter à SQL Server via Internet, vous devez également activer l’authentification SQL Server décrite à la section suivante.</span><span class="sxs-lookup"><span data-stu-id="11516-221">To connect to SQL Server via the internet, you also must enable SQL Server Authentication, which is described in the next section.</span></span>

<span data-ttu-id="11516-222">Si vous préférez ne pas activer les connexions au moteur de base de données via Internet, choisissez l’une des options suivantes :</span><span class="sxs-lookup"><span data-stu-id="11516-222">If you would prefer to not enable connections to the Database Engine via the internet, choose one of the following options:</span></span>

* <span data-ttu-id="11516-223">**Local (sur la machine virtuelle uniquement)** pour autoriser les connexions à SQL Server uniquement depuis la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="11516-223">**Local (inside VM only)** to allow connections to SQL Server only from within the VM.</span></span>
* <span data-ttu-id="11516-224">**Privé (dans un réseau virtuel)** pour autoriser les connexions à SQL Server depuis des machines ou des services résidant dans le même réseau virtuel.</span><span class="sxs-lookup"><span data-stu-id="11516-224">**Private (within Virtual Network)** to allow connections to SQL Server from machines or services in the same virtual network.</span></span>

<span data-ttu-id="11516-225">En règle générale, améliorez la sécurité en choisissant la connectivité autorisée par votre scénario.</span><span class="sxs-lookup"><span data-stu-id="11516-225">In general, improve security by choosing the most restrictive connectivity that your scenario allows.</span></span> <span data-ttu-id="11516-226">Mais toutes les options sont sécurisables via les règles du groupe de sécurité réseau et l’authentification Windows/SQL.</span><span class="sxs-lookup"><span data-stu-id="11516-226">But all the options are securable through Network Security Group rules and SQL/Windows Authentication.</span></span> <span data-ttu-id="11516-227">Vous pouvez modifier le Groupe de sécurité réseau après avoir créé la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="11516-227">You can edit Network Security Group after the VM is created.</span></span> <span data-ttu-id="11516-228">Pour plus d’informations, consultez [Considérations relatives à la sécurité de SQL Server sur les machines virtuelles Azure](virtual-machines-windows-sql-security.md).</span><span class="sxs-lookup"><span data-stu-id="11516-228">For more information, see [Security Considerations for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-security.md).</span></span>

> [!NOTE]
> <span data-ttu-id="11516-229">L’image de machine virtuelle pour SQL Server Express Edition n’active pas automatiquement le protocole TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="11516-229">The virtual machine image for SQL Server Express edition does not automatically enable the TCP/IP protocol.</span></span> <span data-ttu-id="11516-230">Cela est vrai même pour les options de connectivité Public et Privé.</span><span class="sxs-lookup"><span data-stu-id="11516-230">This is true even for the Public and  Private connectivity options.</span></span> <span data-ttu-id="11516-231">Pour l’édition Express, vous devez utiliser le Gestionnaire de configuration de SQL Server pour [activer manuellement le protocole TCP/IP](#configure-sql-server-to-listen-on-the-tcp-protocol) après création de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="11516-231">For Express edition, you must use SQL Server Configuration Manager to [manually enable the TCP/IP protocol](#configure-sql-server-to-listen-on-the-tcp-protocol) after creating the VM.</span></span>

### <a name="authentication"></a><span data-ttu-id="11516-232">Authentification</span><span class="sxs-lookup"><span data-stu-id="11516-232">Authentication</span></span>

<span data-ttu-id="11516-233">Si vous avez besoin de l’authentification SQL Server, cliquez sur **Activer** under **Authentification SQL**.</span><span class="sxs-lookup"><span data-stu-id="11516-233">If you require SQL Server Authentication, click **Enable** under **SQL authentication**.</span></span>

![l’authentification SQL Server](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-authentication.png)

> [!NOTE]
> <span data-ttu-id="11516-235">Si vous envisagez d’accéder à SQL Server via Internet (par exemple, avec l’option Connectivité publique), vous devez activer l’authentification SQL ici.</span><span class="sxs-lookup"><span data-stu-id="11516-235">If you plan to access SQL Server over the internet (i.e. the Public connectivity option), you must enable SQL authentication here.</span></span> <span data-ttu-id="11516-236">L’accès public à SQL Server requiert l’utilisation de l’authentification SQL.</span><span class="sxs-lookup"><span data-stu-id="11516-236">Public access to the SQL Server requires the use of SQL Authentication.</span></span>
> 
> 

<span data-ttu-id="11516-237">Si vous activez l’authentification SQL Server, spécifiez un **nom de connexion** et un **mot de passe**.</span><span class="sxs-lookup"><span data-stu-id="11516-237">If you enable SQL Server Authentication, specify a **Login name** and **Password**.</span></span> <span data-ttu-id="11516-238">Ce nom d’utilisateur est configuré en tant qu’identifiant d’authentification SQL Server et membre du rôle serveur fixe **sysadmin** .</span><span class="sxs-lookup"><span data-stu-id="11516-238">This user name is configured as a SQL Server Authentication login and member of the **sysadmin** fixed server role.</span></span> <span data-ttu-id="11516-239">Pour plus d’informations sur les modes d’authentification, consultez [Choisir un mode d’authentification](https://docs.microsoft.com/sql/relational-databases/security/choose-an-authentication-mode) .</span><span class="sxs-lookup"><span data-stu-id="11516-239">See [Choose an Authentication Mode](https://docs.microsoft.com/sql/relational-databases/security/choose-an-authentication-mode) for more information about Authentication Modes.</span></span>

<span data-ttu-id="11516-240">Si vous n’activez pas l’authentification SQL Server, vous pouvez utiliser le compte d’administrateur local sur la machine virtuelle pour vous connecter à l’instance SQL Server.</span><span class="sxs-lookup"><span data-stu-id="11516-240">If you do not enable SQL Server Authentication, then you can use the local Administrator account on the VM to connect to the SQL Server instance.</span></span>

### <a name="storage-configuration"></a><span data-ttu-id="11516-241">Configuration du stockage</span><span class="sxs-lookup"><span data-stu-id="11516-241">Storage configuration</span></span>

<span data-ttu-id="11516-242">Cliquez sur **Configuration du stockage** afin de spécifier les exigences de stockage.</span><span class="sxs-lookup"><span data-stu-id="11516-242">Click **Storage configuration** to specify the storage requirements.</span></span>

![Configuration du stockage SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-storage.png)

> [!NOTE]
> <span data-ttu-id="11516-244">Si vous avez configuré votre machine virtuelle manuellement pour qu’elle utilise un stockage standard, cette option n’est pas disponible.</span><span class="sxs-lookup"><span data-stu-id="11516-244">If you manually configured your VM to use standard storage, this option is not available.</span></span> <span data-ttu-id="11516-245">L’optimisation du stockage automatique est disponible uniquement pour Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="11516-245">Automatic storage optimization is available only for Premium Storage.</span></span>

> [!TIP]
> <span data-ttu-id="11516-246">Le nombre d’arrêts et les limites maximales de chaque curseur dépendent de la taille de machine virtuelle que vous avez sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="11516-246">The number of stops and the upper limits of each slider is dependent on the size of VM you selected.</span></span> <span data-ttu-id="11516-247">Plus une machine virtuelle est volumineuse et puissante, plus sa capacité de montée en puissance est importante.</span><span class="sxs-lookup"><span data-stu-id="11516-247">A larger and more powerful VM is able to scale up more.</span></span>

<span data-ttu-id="11516-248">Vous pouvez spécifier des exigences comme les opérations d’entrée/sortie par seconde (E/S par seconde), le débit en Mbit/s et la taille totale de stockage.</span><span class="sxs-lookup"><span data-stu-id="11516-248">You can specify requirements as input/output operations per second (IOPs), throughput in MB/s, and total storage size.</span></span> <span data-ttu-id="11516-249">Configurez ces valeurs en utilisant les échelles mobiles.</span><span class="sxs-lookup"><span data-stu-id="11516-249">Configure these values by using the sliding scales.</span></span> <span data-ttu-id="11516-250">Vous pouvez modifier ces paramètres de stockage en fonction de la charge de travail.</span><span class="sxs-lookup"><span data-stu-id="11516-250">You can change these storage settings based on workload.</span></span> <span data-ttu-id="11516-251">Le portail calcule automatiquement le nombre de disques à attacher et configurer en fonction de ces exigences.</span><span class="sxs-lookup"><span data-stu-id="11516-251">The portal automatically calculates the number of disks to attach and configure based on these requirements.</span></span>

<span data-ttu-id="11516-252">Sous **Stockage optimisé pour**, sélectionnez l’une des options suivantes :</span><span class="sxs-lookup"><span data-stu-id="11516-252">Under **Storage optimized for**, select one of the following options:</span></span>

* <span data-ttu-id="11516-253">**Général** est le paramètre par défaut ; il prend en charge la plupart des charges de travail.</span><span class="sxs-lookup"><span data-stu-id="11516-253">**General** is the default setting and supports most workloads.</span></span>
* <span data-ttu-id="11516-254">**transactionnel** optimise le stockage pour les charges de travail OLTP de base de données traditionnelles.</span><span class="sxs-lookup"><span data-stu-id="11516-254">**Transactional** processing optimizes the storage for traditional database OLTP workloads.</span></span>
* <span data-ttu-id="11516-255">**Entreposage de données** optimise le stockage pour les charges de travail d’analyse et de création de rapports.</span><span class="sxs-lookup"><span data-stu-id="11516-255">**Data warehousing** optimizes the storage for analytic and reporting workloads.</span></span>

### <a name="automated-patching"></a><span data-ttu-id="11516-256">Mise à jour corrective automatisée</span><span class="sxs-lookup"><span data-stu-id="11516-256">Automated patching</span></span>

<span data-ttu-id="11516-257">**Automated patching** est activée par défaut.</span><span class="sxs-lookup"><span data-stu-id="11516-257">**Automated patching** is enabled by default.</span></span> <span data-ttu-id="11516-258">La mise à jour corrective automatisée permet à Azure de corriger automatiquement SQL Server et le système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="11516-258">Automated patching allows Azure to automatically patch SQL Server and the operating system.</span></span> <span data-ttu-id="11516-259">Spécifiez un jour de la semaine, une heure et une durée pour la fenêtre de maintenance.</span><span class="sxs-lookup"><span data-stu-id="11516-259">Specify a day of the week, time, and duration for a maintenance window.</span></span> <span data-ttu-id="11516-260">Azure effectue la mise à jour corrective dans cette fenêtre de maintenance.</span><span class="sxs-lookup"><span data-stu-id="11516-260">Azure performs patching in this maintenance window.</span></span> <span data-ttu-id="11516-261">La planification de la fenêtre de maintenance utilise les paramètres régionaux de la machine virtuelle pour l’heure.</span><span class="sxs-lookup"><span data-stu-id="11516-261">The maintenance window schedule uses the VM locale for time.</span></span> <span data-ttu-id="11516-262">Si vous ne souhaitez pas qu’Azure corrige automatiquement SQL Server et le système d’exploitation, cliquez sur **Désactiver**.</span><span class="sxs-lookup"><span data-stu-id="11516-262">If you do not want Azure to automatically patch SQL Server and the operating system, click **Disable**.</span></span>  

![Mise à jour corrective automatisée SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-patching.png)

<span data-ttu-id="11516-264">Pour plus d’informations, consultez [Mise à jour corrective automatisée pour SQL Server dans les machines virtuelles Azure](virtual-machines-windows-sql-automated-patching.md).</span><span class="sxs-lookup"><span data-stu-id="11516-264">For more information, see [Automated Patching for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-patching.md).</span></span>

### <a name="automated-backup"></a><span data-ttu-id="11516-265">Sauvegarde automatisée</span><span class="sxs-lookup"><span data-stu-id="11516-265">Automated backup</span></span>

<span data-ttu-id="11516-266">Activez les sauvegardes automatiques de base de données pour toutes les bases de données sous **Sauvegarde automatisée**.</span><span class="sxs-lookup"><span data-stu-id="11516-266">Enable automatic database backups for all databases under **Automated backup**.</span></span> <span data-ttu-id="11516-267">La sauvegarde automatisée est désactivée par défaut.</span><span class="sxs-lookup"><span data-stu-id="11516-267">Automated backup is disabled by default.</span></span>

<span data-ttu-id="11516-268">Lorsque vous activez la sauvegarde SQL automatisée, vous pouvez configurer les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="11516-268">When you enable SQL automated backup, you can configure the following:</span></span>

* <span data-ttu-id="11516-269">Période de rétention (jours) pour les sauvegardes</span><span class="sxs-lookup"><span data-stu-id="11516-269">Retention period (days) for backups</span></span>
* <span data-ttu-id="11516-270">Compte de stockage à utiliser pour les sauvegardes</span><span class="sxs-lookup"><span data-stu-id="11516-270">Storage account to use for backups</span></span>
* <span data-ttu-id="11516-271">Option de chiffrement et mot de passe pour les sauvegardes</span><span class="sxs-lookup"><span data-stu-id="11516-271">Encryption option and password for backups</span></span>
* <span data-ttu-id="11516-272">Sauvegarde des bases de données système</span><span class="sxs-lookup"><span data-stu-id="11516-272">Backup system databases</span></span>
* <span data-ttu-id="11516-273">Configuration de la planification de sauvegarde</span><span class="sxs-lookup"><span data-stu-id="11516-273">Configure backup schedule</span></span>

<span data-ttu-id="11516-274">Pour chiffrer la sauvegarde, cliquez sur **Activer**.</span><span class="sxs-lookup"><span data-stu-id="11516-274">To encrypt the backup, click **Enable**.</span></span> <span data-ttu-id="11516-275">Spécifiez ensuite le **mot de passe**.</span><span class="sxs-lookup"><span data-stu-id="11516-275">Then specify the **Password**.</span></span> <span data-ttu-id="11516-276">Azure crée un certificat pour chiffrer les sauvegardes et utilise le mot de passe pour protéger ce certificat.</span><span class="sxs-lookup"><span data-stu-id="11516-276">Azure creates a certificate to encrypt the backups and uses the specified password to protect that certificate.</span></span>

![Sauvegarde automatisée SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-autobackup2.png)

 <span data-ttu-id="11516-278">Pour plus d’informations, voir [Sauvegarde automatisée pour SQL Server dans les machines virtuelles Azure](virtual-machines-windows-sql-automated-backup.md).</span><span class="sxs-lookup"><span data-stu-id="11516-278">For more information, see [Automated Backup for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span></span>

### <a name="azure-key-vault-integration"></a><span data-ttu-id="11516-279">Intégration du coffre de clés Azure</span><span class="sxs-lookup"><span data-stu-id="11516-279">Azure Key Vault integration</span></span>

<span data-ttu-id="11516-280">Pour stocker des clés secrètes de sécurité dans Azure pour le chiffrement, cliquez sur **Azure Key Vault Integration**, puis sur **Activer**.</span><span class="sxs-lookup"><span data-stu-id="11516-280">To store security secrets in Azure for encryption, click **Azure key vault integration** and click **Enable**.</span></span>

![Intégration du coffre de clés Azure SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-akv.png)

<span data-ttu-id="11516-282">Le tableau suivant répertorie les paramètres requis pour configurer l’intégration du coffre de clés Azure.</span><span class="sxs-lookup"><span data-stu-id="11516-282">The following table lists the parameters required to configure Azure Key Vault Integration.</span></span>

| <span data-ttu-id="11516-283">PARAMÈTRE</span><span class="sxs-lookup"><span data-stu-id="11516-283">PARAMETER</span></span> | <span data-ttu-id="11516-284">Description</span><span class="sxs-lookup"><span data-stu-id="11516-284">DESCRIPTION</span></span> | <span data-ttu-id="11516-285">EXEMPLE</span><span class="sxs-lookup"><span data-stu-id="11516-285">EXAMPLE</span></span> |
| --- | --- | --- |
| <span data-ttu-id="11516-286">**URL du coffre de clés**</span><span class="sxs-lookup"><span data-stu-id="11516-286">**Key Vault URL**</span></span> |<span data-ttu-id="11516-287">L’emplacement du coffre de clés.</span><span class="sxs-lookup"><span data-stu-id="11516-287">The location of the key vault.</span></span> |<span data-ttu-id="11516-288">https://contosokeyvault.vault.azure.net/</span><span class="sxs-lookup"><span data-stu-id="11516-288">https://contosokeyvault.vault.azure.net/</span></span> |
| <span data-ttu-id="11516-289">**Nom du principal**</span><span class="sxs-lookup"><span data-stu-id="11516-289">**Principal name**</span></span> |<span data-ttu-id="11516-290">Nom du principal du service Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="11516-290">Azure Active Directory service principal name.</span></span> <span data-ttu-id="11516-291">Également appelé ID client.</span><span class="sxs-lookup"><span data-stu-id="11516-291">This name is also referred to as the Client ID.</span></span> |<span data-ttu-id="11516-292">fde2b411-33d5-4e11-af04eb07b669ccf2</span><span class="sxs-lookup"><span data-stu-id="11516-292">fde2b411-33d5-4e11-af04eb07b669ccf2</span></span> |
| <span data-ttu-id="11516-293">**Secret du principal**</span><span class="sxs-lookup"><span data-stu-id="11516-293">**Principal secret**</span></span> |<span data-ttu-id="11516-294">Secret du principal du service Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="11516-294">Azure Active Directory service principal secret.</span></span> <span data-ttu-id="11516-295">Également appelé Secret client.</span><span class="sxs-lookup"><span data-stu-id="11516-295">This secret is also referred to as the Client Secret.</span></span> |<span data-ttu-id="11516-296">9VTJSQwzlFepD8XODnzy8n2V01Jd8dAjwm/azF1XDKM=</span><span class="sxs-lookup"><span data-stu-id="11516-296">9VTJSQwzlFepD8XODnzy8n2V01Jd8dAjwm/azF1XDKM=</span></span> |
| <span data-ttu-id="11516-297">**Nom des informations d’identification**</span><span class="sxs-lookup"><span data-stu-id="11516-297">**Credential name**</span></span> |<span data-ttu-id="11516-298">**Nom d’identification**: le module d’intégration du coffre de clés Azure crée des informations d’identification dans SQL Server, permettant ainsi à la machine virtuelle d’accéder au coffre de clés.</span><span class="sxs-lookup"><span data-stu-id="11516-298">**Credential name**: AKV Integration creates a credential within SQL Server, allowing the VM to have access to the key vault.</span></span> <span data-ttu-id="11516-299">Choisissez un nom pour cette identification.</span><span class="sxs-lookup"><span data-stu-id="11516-299">Choose a name for this credential.</span></span> |<span data-ttu-id="11516-300">mycred1</span><span class="sxs-lookup"><span data-stu-id="11516-300">mycred1</span></span> |

<span data-ttu-id="11516-301">Pour plus d’informations, consultez [Configurer l’intégration d’Azure Key Vault pour SQL Server sur des machines virtuelles Azure](virtual-machines-windows-ps-sql-keyvault.md).</span><span class="sxs-lookup"><span data-stu-id="11516-301">For more information, see [Configure Azure Key Vault Integration for SQL Server on Azure VMs](virtual-machines-windows-ps-sql-keyvault.md).</span></span>

### <a name="r-services"></a><span data-ttu-id="11516-302">R Services</span><span class="sxs-lookup"><span data-stu-id="11516-302">R services</span></span>

<span data-ttu-id="11516-303">Vous avez la possibilité d’activer [SQL Server R Services](https://msdn.microsoft.com/library/mt604845.aspx).</span><span class="sxs-lookup"><span data-stu-id="11516-303">You have the option to enable [SQL Server R Services](https://msdn.microsoft.com/library/mt604845.aspx).</span></span> <span data-ttu-id="11516-304">Cela vous permet d’exécuter des analyses avancées avec SQL Server 2016.</span><span class="sxs-lookup"><span data-stu-id="11516-304">This enables you to use advanced analytics with SQL Server 2016.</span></span> <span data-ttu-id="11516-305">Cliquez sur **Activer** dans la fenêtre **Paramètres SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="11516-305">Click **Enable** on the **SQL Server Settings** window.</span></span>

> [!NOTE]
> <span data-ttu-id="11516-306">Dans le cas de SQL Server 2016 Édition Développeur, cette option est désactivée de manière incorrecte par le portail.</span><span class="sxs-lookup"><span data-stu-id="11516-306">For SQL Server 2016 Developer Edition, this option is incorrectly disabled by the portal.</span></span> <span data-ttu-id="11516-307">Pour l’Édition Développeur, vous devez activer R Services manuellement après avoir créé votre machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="11516-307">For Developer edition, you must enable R Services manually after creating your VM.</span></span>

![Activer SQL Server R Services](./media/virtual-machines-windows-portal-sql-server-provision/azure-vm-sql-server-r-services.png)

<span data-ttu-id="11516-309">Une fois la configuration des paramètres de SQL Server terminée, cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="11516-309">When you are finished configuring SQL Server settings, click **OK**.</span></span>

## <a name="5-review-the-summary"></a><span data-ttu-id="11516-310">5. Passer en revue le résumé</span><span class="sxs-lookup"><span data-stu-id="11516-310">5. Review the summary</span></span>

<span data-ttu-id="11516-311">Dans la fenêtre **Résumé**, examinez le résumé correspondant, puis cliquez sur **Acheter** pour créer l’instance SQL Server, le groupe de ressources et les ressources spécifiées pour cette machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="11516-311">On the **Summary** window, review the summary and click **Purchase** to create SQL Server, resource group, and resources specified for this VM.</span></span>

<span data-ttu-id="11516-312">Vous pouvez surveiller le déploiement à partir du portail Azure.</span><span class="sxs-lookup"><span data-stu-id="11516-312">You can monitor the deployment from the Azure portal.</span></span> <span data-ttu-id="11516-313">Le bouton **Notifications** en haut de l’écran affiche l’état de base du déploiement.</span><span class="sxs-lookup"><span data-stu-id="11516-313">The **Notifications** button at the top of the screen shows basic status of the deployment.</span></span>

> [!NOTE]
> <span data-ttu-id="11516-314">Afin de vous donner une idée des temps de déploiement, nous avons déployé une machine virtuelle SQL dans les États-Unis de l’Est avec les paramètres par défaut.</span><span class="sxs-lookup"><span data-stu-id="11516-314">To provide you with an idea on deployment times, I deployed a SQL VM to the East US region with default settings.</span></span> <span data-ttu-id="11516-315">Ce déploiement de test a duré 26 minutes au total.</span><span class="sxs-lookup"><span data-stu-id="11516-315">This test deployment took a total of 26 minutes to complete.</span></span> <span data-ttu-id="11516-316">Mais cette durée peut varier en fonction de votre région et des paramètres sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="11516-316">But you might experience a faster or slower deployment time based on your region and selected settings.</span></span>

## <a name="open-the-vm-with-remote-desktop"></a><span data-ttu-id="11516-317">Ouvrir la machine virtuelle à l’aide du Bureau à distance</span><span class="sxs-lookup"><span data-stu-id="11516-317">Open the VM with Remote Desktop</span></span>

<span data-ttu-id="11516-318">Pour vous connecter à la machine virtuelle SQL Server à l’aide du Bureau à distance, procédez comme suit.</span><span class="sxs-lookup"><span data-stu-id="11516-318">Use the following steps to connect to the SQL Server virtual machine with Remote Desktop:</span></span>

> [!INCLUDE [Connect to SQL Server VM with remote desktop](../../../../includes/virtual-machines-sql-server-remote-desktop-connect.md)]

<span data-ttu-id="11516-319">Une fois que vous vous connectez à la machine virtuelle SQL Server, vous pouvez lancer SQL Server Management Studio et vous connecter avec l’authentification Windows à l’aide de vos informations d’identification d’administrateur local.</span><span class="sxs-lookup"><span data-stu-id="11516-319">After you connect to the SQL Server virtual machine, you can launch SQL Server Management Studio and connect with Windows Authentication using your local administrator credentials.</span></span> <span data-ttu-id="11516-320">Si vous avez activé l’authentification SQL Server, vous pouvez également vous connecter avec l’authentification SQL à l’aide de la connexion SQL et du mot de passe configuré lors de l’approvisionnement.</span><span class="sxs-lookup"><span data-stu-id="11516-320">If you enabled SQL Server Authentication, you can also connect with SQL Authentication using the SQL login and password you configured during provisioning.</span></span>

<span data-ttu-id="11516-321">L’accès à la machine permet de modifier directement les paramètres SQL Server et ceux de la machine en fonction de vos besoins.</span><span class="sxs-lookup"><span data-stu-id="11516-321">Access to the machine enables you to directly change machine and SQL Server settings based on your requirements.</span></span> <span data-ttu-id="11516-322">Par exemple, vous pourriez configurer les paramètres du pare-feu ou modifier les paramètres de configuration SQL Server.</span><span class="sxs-lookup"><span data-stu-id="11516-322">For example, you could configure the firewall settings or change SQL Server configuration settings.</span></span>

## <a name="enable-tcpip-for-developer-and-express-editions"></a><span data-ttu-id="11516-323">Activer TCP/IP pour les éditions Developer et Express</span><span class="sxs-lookup"><span data-stu-id="11516-323">Enable TCP/IP for Developer and Express editions</span></span>

<span data-ttu-id="11516-324">Lors de la configuration d’une machine virtuelle SQL Server, Azure n’active pas automatiquement le protocole TCP/IP pour les éditions SQL Server Developer et Express.</span><span class="sxs-lookup"><span data-stu-id="11516-324">When provisioning a new SQL Server VM, Azure does not automatically enable the TCP/IP protocol for SQL Server Developer and Express editions.</span></span> <span data-ttu-id="11516-325">Les étapes ci-dessous expliquent comment activer manuellement TCP/IP pour vous connecter à distance via une adresse IP.</span><span class="sxs-lookup"><span data-stu-id="11516-325">The steps below explain how to manually enable TCP/IP so that you can connect remotely by IP address.</span></span>

<span data-ttu-id="11516-326">Les étapes suivantes utilisent le **Gestionnaire de Configuration SQL Server** pour activer le protocole TCP/IP pour les éditions SQL Server Developer et Express.</span><span class="sxs-lookup"><span data-stu-id="11516-326">The following steps use **SQL Server Configuration Manager** to enable the TCP/IP protocol for SQL Server Developer and Express editions.</span></span>

> [!INCLUDE [Connect to SQL Server VM with remote desktop](../../../../includes/virtual-machines-sql-server-connection-tcp-protocol.md)]

## <a name="connect-to-sql-server-remotely"></a><span data-ttu-id="11516-327">Se connecter à SQL Server à distance</span><span class="sxs-lookup"><span data-stu-id="11516-327">Connect to SQL Server remotely</span></span>

<span data-ttu-id="11516-328">Dans ce didacticiel, nous avons sélectionné l’accès **Public** pour la machine virtuelle et **l’authentification SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="11516-328">In this tutorial, we selected **Public** access for the virtual machine and **SQL Server Authentication**.</span></span> <span data-ttu-id="11516-329">Ces paramètres ont configuré automatiquement la machine virtuelle pour autoriser les connexions SQL Server à partir de n’importe quel client sur internet (en supposant qu’il dispose de la connexion SQL qui convient).</span><span class="sxs-lookup"><span data-stu-id="11516-329">These settings automatically configured the virtual machine to allow SQL Server connections from any client over the internet (assuming they have the correct SQL login).</span></span>

> [!NOTE]
> <span data-ttu-id="11516-330">Si vous n’avez pas sélectionné Public lors de l’approvisionnement, vous pouvez modifier vos paramètres de connectivité SQL via le portail après l’approvisionnement.</span><span class="sxs-lookup"><span data-stu-id="11516-330">If you did not select Public during provisioning, then you can change your SQL connectivity settings through the portal after provisioning.</span></span> <span data-ttu-id="11516-331">Pour plus d’informations, consultez la page [Modifier vos paramètres de connectivité SQL](virtual-machines-windows-sql-connect.md#change).</span><span class="sxs-lookup"><span data-stu-id="11516-331">For more information, see  [Change your SQL connectivity settings](virtual-machines-windows-sql-connect.md#change).</span></span>

<span data-ttu-id="11516-332">Les sections suivantes montrent comment se connecter à l’instance SQL Server sur votre machine virtuelle à partir d’une autre machine via Internet.</span><span class="sxs-lookup"><span data-stu-id="11516-332">The following sections show how to connect to your SQL Server instance on your VM from a different computer over the internet.</span></span>

> [!INCLUDE [Connect to SQL Server in a VM Resource Manager](../../../../includes/virtual-machines-sql-server-connection-steps-resource-manager.md)]

## <a name="next-steps"></a><span data-ttu-id="11516-333">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="11516-333">Next Steps</span></span>

<span data-ttu-id="11516-334">Pour en savoir plus sur l’utilisation de SQL Server dans Azure, consultez [Présentation de SQL Server sur les machines virtuelles](virtual-machines-windows-sql-server-iaas-overview.md) Azure et le [Forum Aux Questions](virtual-machines-windows-sql-server-iaas-faq.md) associé.</span><span class="sxs-lookup"><span data-stu-id="11516-334">For other information about using SQL Server in Azure, see [SQL Server on Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) and the [Frequently Asked Questions](virtual-machines-windows-sql-server-iaas-faq.md).</span></span>