---
title: "aaaMigrate un tooSQL de base de données SQL Server Server sur une machine virtuelle | Documents Microsoft"
description: "Découvrez comment toomigrate un utilisateur local de base de données tooSQL Server dans une machine virtuelle Azure."
services: virtual-machines-windows
documentationcenter: 
author: sabotta
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: 00fd08c6-98fa-4d62-a3b8-ca20aa5246b1
ms.service: virtual-machines-sql
ms.workload: iaas-sql-server
ms.tgt_pltfrm: vm-windows-sql-server
ms.devlang: na
ms.topic: article
ms.date: 07/17/2017
ms.author: carlasab
ms.openlocfilehash: 9c7aba30304ea40796412d2ddc885f6d4a58be2a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="migrate-a-sql-server-database-toosql-server-in-an-azure-vm"></a><span data-ttu-id="363ca-103">Migrer un tooSQL de base de données SQL Server serveur dans une machine virtuelle Azure</span><span class="sxs-lookup"><span data-stu-id="363ca-103">Migrate a SQL Server database tooSQL Server in an Azure VM</span></span>

<span data-ttu-id="363ca-104">Il existe un certain nombre de méthodes toomigrate un tooSQL de base de données utilisateur locale SQL Server serveur dans une machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="363ca-104">There are a number of methods toomigrate an on-premises SQL Server user database tooSQL Server in an Azure VM.</span></span> <span data-ttu-id="363ca-105">Cet article sera brièvement traitent des différentes méthodes et recommander hello meilleure méthode pour différents scénarios.</span><span class="sxs-lookup"><span data-stu-id="363ca-105">This article will briefly discuss various methods and recommend hello best method for various scenarios.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="what-are-hello-primary-migration-methods"></a><span data-ttu-id="363ca-106">Quelles sont les méthodes de migration principal hello ?</span><span class="sxs-lookup"><span data-stu-id="363ca-106">What are hello primary migration methods?</span></span>
<span data-ttu-id="363ca-107">méthodes de migration principal Hello sont :</span><span class="sxs-lookup"><span data-stu-id="363ca-107">hello primary migration methods are:</span></span>

* <span data-ttu-id="363ca-108">Effectuer la sauvegarde locale à l’aide de la compression et manuellement le fichier de sauvegarde de copie hello en hello machine virtuelle Azure</span><span class="sxs-lookup"><span data-stu-id="363ca-108">Perform on-premises backup using compression and manually copy hello backup file into hello Azure virtual machine</span></span>
* <span data-ttu-id="363ca-109">Effectuer une tooURL de sauvegarde et de restauration dans hello machine virtuelle Azure à partir de l’URL de hello</span><span class="sxs-lookup"><span data-stu-id="363ca-109">Perform a backup tooURL and restore into hello Azure virtual machine from hello URL</span></span>
* <span data-ttu-id="363ca-110">Et puis copiez hello journaux et des données fichiers tooAzure stockage d’objets blob attacher et détacher puis tooSQL serveur dans la machine virtuelle Azure à partir d’URL</span><span class="sxs-lookup"><span data-stu-id="363ca-110">Detach and then copy hello data and log files tooAzure blob storage and then attach tooSQL Server in Azure VM from URL</span></span>
* <span data-ttu-id="363ca-111">Convertir physique local VHD tooHyper-V de l’ordinateur, téléchargez le stockage d’objets Blob tooAzure et ensuite déployer la nouvelle machine virtuelle à l’aide de transfert disque dur virtuel</span><span class="sxs-lookup"><span data-stu-id="363ca-111">Convert on-premises physical machine tooHyper-V VHD, upload tooAzure Blob storage, and then deploy as new VM using uploaded VHD</span></span>
* <span data-ttu-id="363ca-112">Expédition du disque dur avec le Service d’importation/exportation Windows</span><span class="sxs-lookup"><span data-stu-id="363ca-112">Ship hard drive using Windows Import/Export Service</span></span>
* <span data-ttu-id="363ca-113">Si vous avez un déploiement AlwaysOn local, utilisez hello [Assistant Ajouter un réplica](../classic/sql-onprem-availability.md) toocreate un réplica dans Azure, puis pointer l’instance de base de données Azure toohello les utilisateurs de basculement</span><span class="sxs-lookup"><span data-stu-id="363ca-113">If you have an AlwaysOn deployment on-premises, use hello [Add Azure Replica Wizard](../classic/sql-onprem-availability.md) toocreate a replica in Azure and then failover, pointing users toohello Azure database instance</span></span>
* <span data-ttu-id="363ca-114">Utiliser SQL Server [la réplication transactionnelle](https://msdn.microsoft.com/library/ms151176.aspx) tooconfigure hello Azure SQL Server de l’instance en tant qu’abonné et désactivez la réplication, pointer l’instance de base de données Azure toohello utilisateurs</span><span class="sxs-lookup"><span data-stu-id="363ca-114">Use SQL Server [transactional replication](https://msdn.microsoft.com/library/ms151176.aspx) tooconfigure hello Azure SQL Server instance as a subscriber and then disable replication, pointing users toohello Azure database instance</span></span>

> [!TIP]
> <span data-ttu-id="363ca-115">Vous pouvez également utiliser ces mêmes bases de données toomove techniques entre les machines virtuelles SQL Server dans Azure.</span><span class="sxs-lookup"><span data-stu-id="363ca-115">You can also use these same techniques toomove databases between SQL Server VMs in Azure.</span></span> <span data-ttu-id="363ca-116">Par exemple, il n’existe aucun tooupgrade moyen pris en charge une machine virtuelle image de la galerie de SQL Server à partir d’une édition de la version tooanother.</span><span class="sxs-lookup"><span data-stu-id="363ca-116">For example, there is no supported way tooupgrade a SQL Server gallery-image VM from one version/edition tooanother.</span></span> <span data-ttu-id="363ca-117">Dans ce cas, vous devez créer une nouvelle machine virtuelle SQL Server avec la nouvelle version/édition de hello, puis utilisez une des techniques de migration hello dans cet article de toomove vos bases de données.</span><span class="sxs-lookup"><span data-stu-id="363ca-117">In this case, you should create a new SQL Server VM with hello new version/edition, and then use one of hello migration techniques in this article toomove your databases.</span></span> 

## <a name="choosing-your-migration-method"></a><span data-ttu-id="363ca-118">Choix de votre méthode de migration</span><span class="sxs-lookup"><span data-stu-id="363ca-118">Choosing your migration method</span></span>
<span data-ttu-id="363ca-119">Pour les performances du transfert de données optimal, migrer des fichiers de base de données de hello dans hello Azure VM à l’aide d’un fichier de sauvegarde compressé.</span><span class="sxs-lookup"><span data-stu-id="363ca-119">For optimum data transfer performance, migrate hello database files into hello Azure VM using a compressed backup file.</span></span>

<span data-ttu-id="363ca-120">toominimize temps d’arrêt pendant le processus de migration de base de données hello, utilisez l’option d’AlwaysOn hello ou hello la réplication transactionnelle.</span><span class="sxs-lookup"><span data-stu-id="363ca-120">toominimize downtime during hello database migration process, use either hello AlwaysOn option or hello transactional replication option.</span></span>

<span data-ttu-id="363ca-121">Si elle n’est pas hello toouse possible au-dessus de méthodes, migrer manuellement votre base de données.</span><span class="sxs-lookup"><span data-stu-id="363ca-121">If it is not possible toouse hello above methods, manually migrate your database.</span></span> <span data-ttu-id="363ca-122">À l’aide de cette méthode, vous démarrez généralement avec une sauvegarde de base de données suivie d’une copie de sauvegarde de base de données hello dans Azure, puis effectuez une restauration de base de données.</span><span class="sxs-lookup"><span data-stu-id="363ca-122">Using this method, you will generally start with a database backup followed by a copy of hello database backup into Azure and then perform a database restore.</span></span> <span data-ttu-id="363ca-123">Vous pouvez également copier les fichiers de base de données hello eux-mêmes dans Azure et définissez-les.</span><span class="sxs-lookup"><span data-stu-id="363ca-123">You can also copy hello database files themselves into Azure and then attach them.</span></span> <span data-ttu-id="363ca-124">Il existe plusieurs méthodes permettant d’effectuer manuellement le processus de migration d’une base de données vers une machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="363ca-124">There are several methods by which you can accomplish this manual process of migrating a database into an Azure VM.</span></span>

> [!NOTE]
> <span data-ttu-id="363ca-125">Lorsque vous mettez à niveau tooSQL Server 2014 ou SQL Server 2016 à partir de versions antérieures de SQL Server, vous devez envisager si les modifications sont nécessaires.</span><span class="sxs-lookup"><span data-stu-id="363ca-125">When you upgrade tooSQL Server 2014 or SQL Server 2016 from older versions of SQL Server, you should consider whether changes are needed.</span></span> <span data-ttu-id="363ca-126">Nous vous recommandons de toutes les dépendances sur les fonctionnalités non prises en charge par hello nouvelle version de SQL Server dans le cadre de votre projet de migration.</span><span class="sxs-lookup"><span data-stu-id="363ca-126">We recommend that you address all dependencies on features not supported by hello new version of SQL Server as part of your migration project.</span></span> <span data-ttu-id="363ca-127">Pour plus d’informations sur les éditions hello pris en charge et les scénarios, consultez [mise à niveau tooSQL Server](https://msdn.microsoft.com/library/bb677622.aspx).</span><span class="sxs-lookup"><span data-stu-id="363ca-127">For more information on hello supported editions and scenarios, see [Upgrade tooSQL Server](https://msdn.microsoft.com/library/bb677622.aspx).</span></span>

<span data-ttu-id="363ca-128">Hello tableau suivant répertorie chacune des méthodes de migration principal hello et explique quand utiliser chaque méthode hello convient le mieux.</span><span class="sxs-lookup"><span data-stu-id="363ca-128">hello following table lists each of hello primary migration methods and discusses when hello use of each method is most appropriate.</span></span>

| <span data-ttu-id="363ca-129">Méthode</span><span class="sxs-lookup"><span data-stu-id="363ca-129">Method</span></span> | <span data-ttu-id="363ca-130">Version de base de données source</span><span class="sxs-lookup"><span data-stu-id="363ca-130">Source database version</span></span> | <span data-ttu-id="363ca-131">Version de base de données de destination</span><span class="sxs-lookup"><span data-stu-id="363ca-131">Destination database version</span></span> | <span data-ttu-id="363ca-132">Contrainte de taille pour la sauvegarde de base de données source</span><span class="sxs-lookup"><span data-stu-id="363ca-132">Source database backup size constraint</span></span> | <span data-ttu-id="363ca-133">Remarques</span><span class="sxs-lookup"><span data-stu-id="363ca-133">Notes</span></span> |
| --- | --- | --- | --- | --- |
| [<span data-ttu-id="363ca-134">Effectuer la sauvegarde locale à l’aide de la compression et manuellement le fichier de sauvegarde de copie hello en hello machine virtuelle Azure</span><span class="sxs-lookup"><span data-stu-id="363ca-134">Perform on-premises backup using compression and manually copy hello backup file into hello Azure virtual machine</span></span>](#backup-and-restore) |<span data-ttu-id="363ca-135">SQL Server 2005 ou ultérieur</span><span class="sxs-lookup"><span data-stu-id="363ca-135">SQL Server 2005 or greater</span></span> |<span data-ttu-id="363ca-136">SQL Server 2005 ou ultérieur</span><span class="sxs-lookup"><span data-stu-id="363ca-136">SQL Server 2005 or greater</span></span> |[<span data-ttu-id="363ca-137">Limite de stockage de machine virtuelle Azure</span><span class="sxs-lookup"><span data-stu-id="363ca-137">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) | <span data-ttu-id="363ca-138">Il s’agit d’une technique très simple et éprouvée pour déplacer des bases de données d’une machine à l’autre.</span><span class="sxs-lookup"><span data-stu-id="363ca-138">This is a very simple and well-tested technique for moving databases across machines.</span></span> |
| [<span data-ttu-id="363ca-139">Effectuer une tooURL de sauvegarde et de restauration dans hello machine virtuelle Azure à partir de l’URL de hello</span><span class="sxs-lookup"><span data-stu-id="363ca-139">Perform a backup tooURL and restore into hello Azure virtual machine from hello URL</span></span>](#backup-to-url-and-restore) |<span data-ttu-id="363ca-140">SQL Server 2012 SP1 CU2 ou ultérieur</span><span class="sxs-lookup"><span data-stu-id="363ca-140">SQL Server 2012 SP1 CU2 or greater</span></span> |<span data-ttu-id="363ca-141">SQL Server 2012 SP1 CU2 ou ultérieur</span><span class="sxs-lookup"><span data-stu-id="363ca-141">SQL Server 2012 SP1 CU2 or greater</span></span> |<span data-ttu-id="363ca-142">< 12,8 To pour SQL Server 2016, sinon < 1 To</span><span class="sxs-lookup"><span data-stu-id="363ca-142">< 12.8 TB for SQL Server 2016, otherwise < 1 TB</span></span> | <span data-ttu-id="363ca-143">Cette méthode est simplement une autre façon toomove hello fichier de sauvegarde toohello machine virtuelle à l’aide du stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="363ca-143">This method is just another way toomove hello backup file toohello VM using Azure storage.</span></span> |
| [<span data-ttu-id="363ca-144">Et puis copiez hello journaux et des données fichiers tooAzure stockage d’objets blob attacher et détacher puis tooSQL Server dans la machine virtuelle Azure à partir d’URL</span><span class="sxs-lookup"><span data-stu-id="363ca-144">Detach and then copy hello data and log files tooAzure blob storage and then attach tooSQL Server in Azure virtual machine from URL</span></span>](#detach-and-attach-from-url) |<span data-ttu-id="363ca-145">SQL Server 2005 ou ultérieur</span><span class="sxs-lookup"><span data-stu-id="363ca-145">SQL Server 2005 or greater</span></span> |<span data-ttu-id="363ca-146">SQL Server 2014 ou ultérieur</span><span class="sxs-lookup"><span data-stu-id="363ca-146">SQL Server 2014 or greater</span></span> |[<span data-ttu-id="363ca-147">Limite de stockage de machine virtuelle Azure</span><span class="sxs-lookup"><span data-stu-id="363ca-147">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="363ca-148">Utilisez cette méthode lorsque vous planifiez trop[stocker ces fichiers à l’aide du service de stockage d’objets Blob Azure hello](https://msdn.microsoft.com/library/dn385720.aspx) et définissez-les tooSQL Server en cours d’exécution dans une machine virtuelle Azure, en particulier avec les bases de données très volumineuses.</span><span class="sxs-lookup"><span data-stu-id="363ca-148">Use this method when you plan too[store these files using hello Azure Blob storage service](https://msdn.microsoft.com/library/dn385720.aspx) and attach them tooSQL Server running in an Azure VM, particularly with very large databases</span></span> |
| [<span data-ttu-id="363ca-149">Convert local disques durs virtuels tooHyper-V de l’ordinateur, téléchargez le stockage d’objets Blob tooAzure et ensuite déployer un ordinateur virtuel à l’aide du disque dur virtuel chargé</span><span class="sxs-lookup"><span data-stu-id="363ca-149">Convert on-premises machine tooHyper-V VHDs, upload tooAzure Blob storage, and then deploy a new virtual machine using uploaded VHD</span></span>](#convert-to-vm-and-upload-to-url-and-deploy-as-new-vm) |<span data-ttu-id="363ca-150">SQL Server 2005 ou ultérieur</span><span class="sxs-lookup"><span data-stu-id="363ca-150">SQL Server 2005 or greater</span></span> |<span data-ttu-id="363ca-151">SQL Server 2005 ou ultérieur</span><span class="sxs-lookup"><span data-stu-id="363ca-151">SQL Server 2005 or greater</span></span> |[<span data-ttu-id="363ca-152">Limite de stockage de machine virtuelle Azure</span><span class="sxs-lookup"><span data-stu-id="363ca-152">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="363ca-153">Quand utiliser [mettre votre propre licence SQL Server](../../../sql-database/sql-database-paas-vs-sql-server-iaas.md), lors de la migration d’une base de données que vous allez exécuter sur une version antérieure de SQL Server, ou lors de la migration de système et les bases de données utilisateur ensemble dans le cadre de hello migration de base de données dépend d’autres bases de données utilisateur ou des bases de données système.</span><span class="sxs-lookup"><span data-stu-id="363ca-153">Use when [bringing your own SQL Server license](../../../sql-database/sql-database-paas-vs-sql-server-iaas.md), when migrating a database that you will run on an older version of SQL Server, or when migrating system and user databases together as part of hello migration of database dependent on other user databases and/or system databases.</span></span> |
| [<span data-ttu-id="363ca-154">Expédition du disque dur à l’aide du Service d’importation/exportation Windows</span><span class="sxs-lookup"><span data-stu-id="363ca-154">Ship hard drive using Windows Import/Export Service</span></span>](#ship-hard-drive) |<span data-ttu-id="363ca-155">SQL Server 2005 ou ultérieur</span><span class="sxs-lookup"><span data-stu-id="363ca-155">SQL Server 2005 or greater</span></span> |<span data-ttu-id="363ca-156">SQL Server 2005 ou ultérieur</span><span class="sxs-lookup"><span data-stu-id="363ca-156">SQL Server 2005 or greater</span></span> |[<span data-ttu-id="363ca-157">Limite de stockage de machine virtuelle Azure</span><span class="sxs-lookup"><span data-stu-id="363ca-157">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="363ca-158">Hello d’utilisation [Service d’importation/exportation Windows](../../../storage/common/storage-import-export-service.md) lorsque la méthode de copie manuelle est trop lente, comme avec les bases de données très volumineuses</span><span class="sxs-lookup"><span data-stu-id="363ca-158">Use hello [Windows Import/Export Service](../../../storage/common/storage-import-export-service.md) when manual copy method is too slow, such as with very large databases</span></span> |
| [<span data-ttu-id="363ca-159">Utilisez hello Assistant Ajouter un réplica</span><span class="sxs-lookup"><span data-stu-id="363ca-159">Use hello Add Azure Replica Wizard</span></span>](../classic/sql-onprem-availability.md) |<span data-ttu-id="363ca-160">SQL Server 2012 ou ultérieur</span><span class="sxs-lookup"><span data-stu-id="363ca-160">SQL Server 2012 or greater</span></span> |<span data-ttu-id="363ca-161">SQL Server 2012 ou ultérieur</span><span class="sxs-lookup"><span data-stu-id="363ca-161">SQL Server 2012 or greater</span></span> |[<span data-ttu-id="363ca-162">Limite de stockage de machine virtuelle Azure</span><span class="sxs-lookup"><span data-stu-id="363ca-162">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="363ca-163">Réduit le temps d’arrêt ; à utiliser lorsque vous disposez d’un déploiement local AlwaysOn.</span><span class="sxs-lookup"><span data-stu-id="363ca-163">Minimizes downtime, use when you have an AlwaysOn on-premises deployment</span></span> |
| [<span data-ttu-id="363ca-164">Utiliser la réplication transactionnelle de SQL Server</span><span class="sxs-lookup"><span data-stu-id="363ca-164">Use SQL Server transactional replication</span></span>](https://msdn.microsoft.com/library/ms151176.aspx) |<span data-ttu-id="363ca-165">SQL Server 2005 ou ultérieur</span><span class="sxs-lookup"><span data-stu-id="363ca-165">SQL Server 2005 or greater</span></span> |<span data-ttu-id="363ca-166">SQL Server 2005 ou ultérieur</span><span class="sxs-lookup"><span data-stu-id="363ca-166">SQL Server 2005 or greater</span></span> |[<span data-ttu-id="363ca-167">Limite de stockage de machine virtuelle Azure</span><span class="sxs-lookup"><span data-stu-id="363ca-167">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="363ca-168">À utiliser lorsque vous avez besoin de temps d’arrêt toominimize et que vous n’avez pas un déploiement local de AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="363ca-168">Use when you need toominimize downtime and do not have an AlwaysOn on-premises deployment</span></span> |

## <a name="backup-and-restore"></a><span data-ttu-id="363ca-169">Sauvegarde et restauration</span><span class="sxs-lookup"><span data-stu-id="363ca-169">Backup and restore</span></span>
<span data-ttu-id="363ca-170">Sauvegardez votre base de données avec la compression, copiez toohello de sauvegarde hello machine virtuelle et puis restaurer la base de données hello.</span><span class="sxs-lookup"><span data-stu-id="363ca-170">Back up your database with compression, copy hello backup toohello VM, and then restore hello database.</span></span> <span data-ttu-id="363ca-171">Si votre fichier de sauvegarde est supérieur à 1 To, vous devez la distribuer, car la taille maximale de hello d’un disque de machine virtuelle est de 1 To.</span><span class="sxs-lookup"><span data-stu-id="363ca-171">If your backup file is larger than 1 TB, you must stripe it because hello maximum size of a VM disk is 1 TB.</span></span> <span data-ttu-id="363ca-172">Utilisez hello suivant les étapes générales toomigrate une base de données utilisateur à l’aide de cette méthode manuelle :</span><span class="sxs-lookup"><span data-stu-id="363ca-172">Use hello following general steps toomigrate a user database using this manual method:</span></span>

1. <span data-ttu-id="363ca-173">Effectuer un emplacement local de tooan sauvegarde complète de la base de données.</span><span class="sxs-lookup"><span data-stu-id="363ca-173">Perform a full database backup tooan on-premises location.</span></span>
2. <span data-ttu-id="363ca-174">Créer ou télécharger une machine virtuelle avec la version de hello de SQL Server souhaité.</span><span class="sxs-lookup"><span data-stu-id="363ca-174">Create or upload a virtual machine with hello version of SQL Server desired.</span></span>
3. <span data-ttu-id="363ca-175">Configurez la connectivité en fonction de vos besoins.</span><span class="sxs-lookup"><span data-stu-id="363ca-175">Setup connectivity based on your requirements.</span></span> <span data-ttu-id="363ca-176">Consultez [connecter tooa Machine virtuelle de SQL Server sur Azure (Resource Manager)](virtual-machines-windows-sql-connect.md).</span><span class="sxs-lookup"><span data-stu-id="363ca-176">See [Connect tooa SQL Server Virtual Machine on Azure (Resource Manager)](virtual-machines-windows-sql-connect.md).</span></span>
4. <span data-ttu-id="363ca-177">Copiez vos fichiers de sauvegarde de tooyour machine virtuelle à l’aide de la commande à distance copie de bureau, l’Explorateur Windows ou hello à partir d’une invite de commandes.</span><span class="sxs-lookup"><span data-stu-id="363ca-177">Copy your backup file(s) tooyour VM using remote desktop, Windows Explorer or hello copy command from a command prompt.</span></span>

## <a name="backup-toourl-and-restore"></a><span data-ttu-id="363ca-178">TooURL de sauvegarde et restauration</span><span class="sxs-lookup"><span data-stu-id="363ca-178">Backup tooURL and restore</span></span>
<span data-ttu-id="363ca-179">Au lieu de la sauvegarde de fichier local de tooa, vous pouvez utiliser hello [tooURL sauvegarde](https://msdn.microsoft.com/library/dn435916.aspx) , puis restaurez à partir de l’URL toohello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="363ca-179">Instead of backing up tooa local file, you can use hello [backup tooURL](https://msdn.microsoft.com/library/dn435916.aspx) and then restore from URL toohello VM.</span></span> <span data-ttu-id="363ca-180">Avec SQL Server 2016, les jeux de sauvegarde distribuées sont pris en charge sont recommandés pour des performances et requis des limites de taille hello tooexceed par l’objet blob.</span><span class="sxs-lookup"><span data-stu-id="363ca-180">With SQL Server 2016, striped backup sets are supported, are recommended for performance, and required tooexceed hello size limits per blob.</span></span> <span data-ttu-id="363ca-181">Pour les bases de données très volumineuses, hello utilisation de hello [Service d’importation/exportation Windows](../../../storage/common/storage-import-export-service.md) est recommandé.</span><span class="sxs-lookup"><span data-stu-id="363ca-181">For very large databases, hello use of hello [Windows Import/Export Service](../../../storage/common/storage-import-export-service.md) is recommended.</span></span>

## <a name="detach-and-attach-from-url"></a><span data-ttu-id="363ca-182">Détacher et attacher à partir d’une URL</span><span class="sxs-lookup"><span data-stu-id="363ca-182">Detach and attach from URL</span></span>
<span data-ttu-id="363ca-183">Détachez votre base de données et les fichiers journaux et les transfèrent trop[le stockage Blob Azure](https://msdn.microsoft.com/library/dn385720.aspx).</span><span class="sxs-lookup"><span data-stu-id="363ca-183">Detach your database and log files and transfer them too[Azure Blob storage](https://msdn.microsoft.com/library/dn385720.aspx).</span></span> <span data-ttu-id="363ca-184">Ensuite, attachez de la base de données hello à partir de l’URL de hello sur votre machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="363ca-184">Then attach hello database from hello URL on your Azure VM.</span></span> <span data-ttu-id="363ca-185">Utilisez-le si vous souhaitez que tooreside de fichiers de base de données physique hello dans le stockage Blob.</span><span class="sxs-lookup"><span data-stu-id="363ca-185">Use this if you want hello physical database files tooreside in Blob storage.</span></span> <span data-ttu-id="363ca-186">Cela peut être utile pour les bases de données très volumineuses.</span><span class="sxs-lookup"><span data-stu-id="363ca-186">This might be useful for very large databases.</span></span> <span data-ttu-id="363ca-187">Utilisez hello suivant les étapes générales toomigrate une base de données utilisateur à l’aide de cette méthode manuelle :</span><span class="sxs-lookup"><span data-stu-id="363ca-187">Use hello following general steps toomigrate a user database using this manual method:</span></span>

1. <span data-ttu-id="363ca-188">Détachez les fichiers de base de données hello à partir de l’instance de base de données locale hello.</span><span class="sxs-lookup"><span data-stu-id="363ca-188">Detach hello database files from hello on-premises database instance.</span></span>
2. <span data-ttu-id="363ca-189">Copiez les fichiers de base de données détachée de hello dans le stockage d’objets blob Azure à l’aide de hello [utilitaire de ligne de commande AZCopy](../../../storage/common/storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="363ca-189">Copy hello detached database files into Azure blob storage using hello [AZCopy command-line utility](../../../storage/common/storage-use-azcopy.md).</span></span>
3. <span data-ttu-id="363ca-190">Permet de joindre des fichiers de base de données de hello d’instance de SQL Server toohello hello URL Azure Bonjour Azure VM.</span><span class="sxs-lookup"><span data-stu-id="363ca-190">Attach hello database files from hello Azure URL toohello SQL Server instance in hello Azure VM.</span></span>

## <a name="convert-toovm-and-upload-toourl-and-deploy-as-new-vm"></a><span data-ttu-id="363ca-191">Convertir tooVM et tooURL de télécharger et déployer en tant que nouvelle machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="363ca-191">Convert tooVM and upload tooURL and deploy as new VM</span></span>
<span data-ttu-id="363ca-192">Utilisez cette toomigrate méthode toutes les bases de données système et utilisateur dans une machine virtuelle tooAzure d’instance de SQL Server locale.</span><span class="sxs-lookup"><span data-stu-id="363ca-192">Use this method toomigrate all system and user databases in an on-premises SQL Server instance tooAzure virtual machine.</span></span> <span data-ttu-id="363ca-193">Utilisez hello suivant les étapes générales toomigrate une instance de SQL Server à l’aide de cette méthode manuelle :</span><span class="sxs-lookup"><span data-stu-id="363ca-193">Use hello following general steps toomigrate an entire SQL Server instance using this manual method:</span></span>

1. <span data-ttu-id="363ca-194">Conversion physique ou virtuelle machines des disques durs virtuels tooHyper-V à l’aide de [Microsoft Virtual Machine Converter](https://technet.microsoft.com/library/dn874008(v=ws.11).aspx).</span><span class="sxs-lookup"><span data-stu-id="363ca-194">Convert physical or virtual machines tooHyper-V VHDs by using [Microsoft Virtual Machine Converter](https://technet.microsoft.com/library/dn874008(v=ws.11).aspx).</span></span>
2. <span data-ttu-id="363ca-195">Télécharger les fichiers de disque dur virtuel tooAzure stockage à l’aide de hello [applet de commande Add-AzureVHD](https://msdn.microsoft.com/library/windowsazure/dn495173.aspx).</span><span class="sxs-lookup"><span data-stu-id="363ca-195">Upload VHD files tooAzure Storage by using hello [Add-AzureVHD cmdlet](https://msdn.microsoft.com/library/windowsazure/dn495173.aspx).</span></span>
3. <span data-ttu-id="363ca-196">Déployer une nouvelle machine virtuelle à l’aide de hello téléchargé le disque dur virtuel.</span><span class="sxs-lookup"><span data-stu-id="363ca-196">Deploy a new virtual machine by using hello uploaded VHD.</span></span>

> [!NOTE]
> <span data-ttu-id="363ca-197">toomigrate une application entière, envisagez d’utiliser [Azure Site Recovery](../../../site-recovery/site-recovery-overview.md)].</span><span class="sxs-lookup"><span data-stu-id="363ca-197">toomigrate an entire application, consider using [Azure Site Recovery](../../../site-recovery/site-recovery-overview.md)].</span></span>

## <a name="ship-hard-drive"></a><span data-ttu-id="363ca-198">Livraison de disque dur</span><span class="sxs-lookup"><span data-stu-id="363ca-198">Ship hard drive</span></span>
<span data-ttu-id="363ca-199">Hello d’utilisation [méthode de Service d’importation/exportation Windows](../../../storage/common/storage-import-export-service.md) tootransfer de grandes quantités de données de fichier tooAzure stockage d’objets Blob dans les situations où le téléchargement via le réseau de hello est prohibitif ou pas possible.</span><span class="sxs-lookup"><span data-stu-id="363ca-199">Use hello [Windows Import/Export Service method](../../../storage/common/storage-import-export-service.md) tootransfer large amounts of file data tooAzure Blob storage in situations where uploading over hello network is prohibitively expensive or not feasible.</span></span> <span data-ttu-id="363ca-200">Avec ce service, vous envoyez un ou plusieurs disques durs contenant ce centre de données Azure données tooan, où les données seront téléchargement compte de stockage tooyour.</span><span class="sxs-lookup"><span data-stu-id="363ca-200">With this service, you send one or more hard drives containing that data tooan Azure data center, where your data will be uploaded tooyour storage account.</span></span>

## <a name="next-steps"></a><span data-ttu-id="363ca-201">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="363ca-201">Next Steps</span></span>
<span data-ttu-id="363ca-202">Pour plus d’informations sur l’exécution de SQL Server sur des machines virtuelles Azure, voir [SQL Server sur les machines virtuelles Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="363ca-202">For more information about running SQL Server on Azure Virtual Machines, see [SQL Server on Azure Virtual Machines overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>

<span data-ttu-id="363ca-203">Pour obtenir des instructions sur la création d’une Machine virtuelle de Azure SQL Server à partir d’une image capturée, consultez [trucs et astuces sur « clonage » des machines virtuelles de SQL Azure à partir d’images capturées](https://blogs.msdn.microsoft.com/psssql/2016/07/06/tips-tricks-on-cloning-azure-sql-virtual-machines-from-captured-images/) sur le blog des ingénieurs du service SQL Server hello.</span><span class="sxs-lookup"><span data-stu-id="363ca-203">For instructions on creating an Azure SQL Server Virtual Machine from a captured image, see [Tips & Tricks on ‘cloning’ Azure SQL virtual machines from captured images](https://blogs.msdn.microsoft.com/psssql/2016/07/06/tips-tricks-on-cloning-azure-sql-virtual-machines-from-captured-images/) on hello CSS SQL Server Engineers blog.</span></span>

