---
title: configuration aaaStorage pour les machines virtuelles SQL Server | Documents Microsoft
description: "Cette rubrique décrit comment Azure configure le stockage pour les machines virtuelles SQL Server lors de la configuration (modèle de déploiement Resource Manager). Elle explique également comment vous pouvez configurer le stockage pour vos machines virtuelles SQL Server existantes."
services: virtual-machines-windows
documentationcenter: na
author: ninarn
manager: jhubbard
tags: azure-resource-manager
ms.assetid: 169fc765-3269-48fa-83f1-9fe3e4e40947
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 01/31/2017
ms.author: ninarn
ms.openlocfilehash: b50dbd698828780cfc044fa0966e8f4e2f3bb6c6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="storage-configuration-for-sql-server-vms"></a><span data-ttu-id="43b69-104">Configuration du stockage pour les machines virtuelles SQL Server</span><span class="sxs-lookup"><span data-stu-id="43b69-104">Storage configuration for SQL Server VMs</span></span>
<span data-ttu-id="43b69-105">Lorsque vous configurez une image de machine virtuelle SQL Server dans Azure, hello portail permet de tooautomate votre configuration de stockage.</span><span class="sxs-lookup"><span data-stu-id="43b69-105">When you configure a SQL Server virtual machine image in Azure, hello Portal helps tooautomate your storage configuration.</span></span> <span data-ttu-id="43b69-106">Cela inclut l’attachement de stockage toohello machine virtuelle, qui effectue cette tooSQL accessible du stockage serveur et de configuration toooptimize pour vos besoins spécifiques.</span><span class="sxs-lookup"><span data-stu-id="43b69-106">This includes attaching storage toohello VM, making that storage accessible tooSQL Server, and configuring it toooptimize for your specific performance requirements.</span></span>

<span data-ttu-id="43b69-107">Cette rubrique explique comment Azure configure le stockage pour vos machines virtuelles SQL Server à la fois lors de la configuration et pour les machines virtuelles existantes.</span><span class="sxs-lookup"><span data-stu-id="43b69-107">This topic explains how Azure configures storage for your SQL Server VMs both during provisioning and for existing VMs.</span></span> <span data-ttu-id="43b69-108">Cette configuration est basée sur hello [bonnes pratiques de performance](virtual-machines-windows-sql-performance.md) pour les machines virtuelles Azure exécutant SQL Server.</span><span class="sxs-lookup"><span data-stu-id="43b69-108">This configuration is based on hello [performance best practices](virtual-machines-windows-sql-performance.md) for Azure VMs running SQL Server.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-rm-include.md)]

## <a name="prerequisites"></a><span data-ttu-id="43b69-109">Composants requis</span><span class="sxs-lookup"><span data-stu-id="43b69-109">Prerequisites</span></span>
<span data-ttu-id="43b69-110">toouse hello automatisée des paramètres de configuration de stockage, votre machine virtuelle nécessite hello suivant caractéristiques :</span><span class="sxs-lookup"><span data-stu-id="43b69-110">toouse hello automated storage configuration settings, your virtual machine requires hello following characteristics:</span></span>

* <span data-ttu-id="43b69-111">Configurée avec une [image de galerie SQL Server](virtual-machines-windows-sql-server-iaas-overview.md#option-1-create-a-sql-vm-with-per-minute-licensing);</span><span class="sxs-lookup"><span data-stu-id="43b69-111">Provisioned with a [SQL Server gallery image](virtual-machines-windows-sql-server-iaas-overview.md#option-1-create-a-sql-vm-with-per-minute-licensing).</span></span>
* <span data-ttu-id="43b69-112">Utilise hello [modèle de déploiement de gestionnaire de ressources](../../../azure-resource-manager/resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="43b69-112">Uses hello [Resource Manager deployment model](../../../azure-resource-manager/resource-manager-deployment-model.md).</span></span>
* <span data-ttu-id="43b69-113">Utilise [Premium Storage](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="43b69-113">Uses [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span>

## <a name="new-vms"></a><span data-ttu-id="43b69-114">Nouvelles machines virtuelles</span><span class="sxs-lookup"><span data-stu-id="43b69-114">New VMs</span></span>
<span data-ttu-id="43b69-115">Hello sections suivantes décrivent comment stockage tooconfigure de nouveaux ordinateurs virtuels SQL Server.</span><span class="sxs-lookup"><span data-stu-id="43b69-115">hello following sections describe how tooconfigure storage for new SQL Server virtual machines.</span></span>

### <a name="azure-portal"></a><span data-ttu-id="43b69-116">Portail Azure</span><span class="sxs-lookup"><span data-stu-id="43b69-116">Azure Portal</span></span>
<span data-ttu-id="43b69-117">Lors de la configuration d’une machine virtuelle de Azure à l’aide d’une image de la galerie de SQL Server, vous pouvez choisir tooautomatically configurer le stockage de hello pour votre nouvelle machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="43b69-117">When provisioning an Azure VM using a SQL Server gallery image, you can choose tooautomatically configure hello storage for your new VM.</span></span> <span data-ttu-id="43b69-118">Vous spécifiez la taille de stockage de hello, des limites de performances et le type de charge de travail.</span><span class="sxs-lookup"><span data-stu-id="43b69-118">You specify hello storage size, performance limits, and workload type.</span></span> <span data-ttu-id="43b69-119">Hello capture d’écran suivante montre Panneau de configuration de stockage hello utilisé pendant SQL VM de configuration.</span><span class="sxs-lookup"><span data-stu-id="43b69-119">hello following screenshot shows hello Storage configuration blade used during SQL VM provisioning.</span></span>

![Configuration du stockage des machines virtuelles SQL Server lors de la configuration](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-provisioning.png)

<span data-ttu-id="43b69-121">En fonction de vos choix, Azure effectue hello suivant des tâches de configuration de stockage après la création d’hello machine virtuelle :</span><span class="sxs-lookup"><span data-stu-id="43b69-121">Based on your choices, Azure performs hello following storage configuration tasks after creating hello VM:</span></span>

* <span data-ttu-id="43b69-122">Crée et attache la machine virtuelle des toohello de disques premium storage data.</span><span class="sxs-lookup"><span data-stu-id="43b69-122">Creates and attaches premium storage data disks toohello virtual machine.</span></span>
* <span data-ttu-id="43b69-123">Configure hello données disques toobe accessible tooSQL Server.</span><span class="sxs-lookup"><span data-stu-id="43b69-123">Configures hello data disks toobe accessible tooSQL Server.</span></span>
* <span data-ttu-id="43b69-124">Configure les disques de données hello dans un stockage pool basée sur hello spécifié (IOPS et débit) taille et les performances requises.</span><span class="sxs-lookup"><span data-stu-id="43b69-124">Configures hello data disks into a storage pool based on hello specified size and performance (IOPS and throughput) requirements.</span></span>
* <span data-ttu-id="43b69-125">Associe le pool de stockage hello avec un nouveau lecteur sur l’ordinateur virtuel de hello.</span><span class="sxs-lookup"><span data-stu-id="43b69-125">Associates hello storage pool with a new drive on hello virtual machine.</span></span>
* <span data-ttu-id="43b69-126">Optimise ce nouveau lecteur en fonction du type de charge de travail que vous avez spécifié (entrepôt de données, traitement transactionnel ou général).</span><span class="sxs-lookup"><span data-stu-id="43b69-126">Optimizes this new drive based on your specified workload type (Data warehousing, Transactional processing, or General).</span></span>

<span data-ttu-id="43b69-127">Pour plus d’informations sur la façon dont Azure configure les paramètres de stockage, consultez hello [section de configuration de stockage](#storage-configuration).</span><span class="sxs-lookup"><span data-stu-id="43b69-127">For further details on how Azure configures storage settings, see hello [Storage configuration section](#storage-configuration).</span></span> <span data-ttu-id="43b69-128">Pour connaître la procédure complète de toocreate une machine virtuelle SQL Server dans hello portail Azure, voir [hello approvisionnement didacticiel](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="43b69-128">For a full walkthrough of how toocreate a SQL Server VM in hello Azure Portal, see [hello provisioning tutorial](virtual-machines-windows-portal-sql-server-provision.md).</span></span>

### <a name="resource-manage-templates"></a><span data-ttu-id="43b69-129">Modèles Resource Manager</span><span class="sxs-lookup"><span data-stu-id="43b69-129">Resource Manage templates</span></span>
<span data-ttu-id="43b69-130">Si vous utilisez hello suivant des modèles du Gestionnaire de ressources, les deux disques de données premium sont attachés par défaut, sans aucune configuration de pool de stockage.</span><span class="sxs-lookup"><span data-stu-id="43b69-130">If you use hello following Resource Manager templates, two premium data disks are attached by default, with no storage pool configuration.</span></span> <span data-ttu-id="43b69-131">Toutefois, vous pouvez personnaliser ces modèles toochange hello différents disques de données premium sont toohello joint l’ordinateur virtuel.</span><span class="sxs-lookup"><span data-stu-id="43b69-131">However, you can customize these templates toochange hello number of premium data disks that are attached toohello virtual machine.</span></span>

* [<span data-ttu-id="43b69-132">Créer des machines virtuelles avec sauvegarde automatisée</span><span class="sxs-lookup"><span data-stu-id="43b69-132">Create VM with Automated Backup</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-autobackup)
* [<span data-ttu-id="43b69-133">Créer des machines virtuelles avec mise à jour corrective automatisée</span><span class="sxs-lookup"><span data-stu-id="43b69-133">Create VM with Automated Patching</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-autopatching)
* [<span data-ttu-id="43b69-134">Créer des machines virtuelles avec AKV Integration</span><span class="sxs-lookup"><span data-stu-id="43b69-134">Create VM with AKV Integration</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-keyvault)

## <a name="existing-vms"></a><span data-ttu-id="43b69-135">Machines virtuelles existantes</span><span class="sxs-lookup"><span data-stu-id="43b69-135">Existing VMs</span></span>
<span data-ttu-id="43b69-136">Pour SQL Server des machines virtuelles existantes, vous pouvez modifier certains paramètres de stockage Bonjour portail Azure.</span><span class="sxs-lookup"><span data-stu-id="43b69-136">For existing SQL Server VMs, you can modify some storage settings in hello Azure portal.</span></span> <span data-ttu-id="43b69-137">Sélectionnez votre machine virtuelle, accédez toohello zone des paramètres, puis sélectionnez la Configuration de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="43b69-137">Select your VM, go toohello Settings area, and then select SQL Server Configuration.</span></span> <span data-ttu-id="43b69-138">Panneau de Configuration SQL Server Hello affiche hello Active l’utilisation du stockage de votre machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="43b69-138">hello SQL Server Configuration blade shows hello current storage usage of your VM.</span></span> <span data-ttu-id="43b69-139">Tous les lecteurs qui existent sur votre machine virtuelle apparaissent dans ce graphique.</span><span class="sxs-lookup"><span data-stu-id="43b69-139">All drives that exist on your VM are displayed in this chart.</span></span> <span data-ttu-id="43b69-140">Pour chaque lecteur, espace de stockage hello s’affiche dans les quatre sections :</span><span class="sxs-lookup"><span data-stu-id="43b69-140">For each drive, hello storage space displays in four sections:</span></span>

* <span data-ttu-id="43b69-141">Données SQL</span><span class="sxs-lookup"><span data-stu-id="43b69-141">SQL data</span></span>
* <span data-ttu-id="43b69-142">Journal SQL</span><span class="sxs-lookup"><span data-stu-id="43b69-142">SQL log</span></span>
* <span data-ttu-id="43b69-143">Autre (stockage non-SQL)</span><span class="sxs-lookup"><span data-stu-id="43b69-143">Other (non-SQL storage)</span></span>
* <span data-ttu-id="43b69-144">Disponible</span><span class="sxs-lookup"><span data-stu-id="43b69-144">Available</span></span>

![Configurer le stockage pour les machines virtuelles SQL Server existantes](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-existing.png)

<span data-ttu-id="43b69-146">tooconfigure hello stockage tooadd un nouveau lecteur ou étendre un disque existant, cliquez sur hello modifier au-dessus du graphique de hello.</span><span class="sxs-lookup"><span data-stu-id="43b69-146">tooconfigure hello storage tooadd a new drive or extend an existing drive, click hello Edit link above hello chart.</span></span>

<span data-ttu-id="43b69-147">options de configuration Hello que vous voyez varie selon que vous avez utilisé cette fonctionnalité avant.</span><span class="sxs-lookup"><span data-stu-id="43b69-147">hello configuration options that you see varies depending on whether you have used this feature before.</span></span> <span data-ttu-id="43b69-148">Lorsque vous utilisez pour hello la première fois, vous pouvez spécifier vos besoins de stockage pour un nouveau lecteur.</span><span class="sxs-lookup"><span data-stu-id="43b69-148">When using for hello first time, you can specify your storage requirements for a new drive.</span></span> <span data-ttu-id="43b69-149">Si vous avez utilisé précédemment cet toocreate fonctionnalité un lecteur, vous pouvez choisir tooextend du stockage.</span><span class="sxs-lookup"><span data-stu-id="43b69-149">If you previously used this feature toocreate a drive, you can choose tooextend that drive’s storage.</span></span>

### <a name="use-for-hello-first-time"></a><span data-ttu-id="43b69-150">Utilisation pour hello première fois</span><span class="sxs-lookup"><span data-stu-id="43b69-150">Use for hello first time</span></span>
<span data-ttu-id="43b69-151">Si elle est la première fois à l’aide de cette fonctionnalité, vous pouvez spécifier hello des limites de taille et les performances de stockage pour un nouveau lecteur.</span><span class="sxs-lookup"><span data-stu-id="43b69-151">If it is your first time using this feature, you can specify hello storage size and performance limits for a new drive.</span></span> <span data-ttu-id="43b69-152">Cette expérience est similaire toowhat que vous visualiserez au moment de l’approvisionnement.</span><span class="sxs-lookup"><span data-stu-id="43b69-152">This experience is similar toowhat you would see at provisioning time.</span></span> <span data-ttu-id="43b69-153">Hello principale différence est que vous n’êtes pas autorisé type de charge de travail toospecify hello.</span><span class="sxs-lookup"><span data-stu-id="43b69-153">hello main difference is that you are not permitted toospecify hello workload type.</span></span> <span data-ttu-id="43b69-154">Cette restriction empêche interrompre toute configuration de SQL Server existante sur l’ordinateur virtuel de hello.</span><span class="sxs-lookup"><span data-stu-id="43b69-154">This restriction prevents disrupting any existing SQL Server configurations on hello virtual machine.</span></span>

![Configurer les curseurs de stockage SQL Server](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-usage-sliders.png)

<span data-ttu-id="43b69-156">Azure crée un nouveau lecteur, en fonction de vos spécifications.</span><span class="sxs-lookup"><span data-stu-id="43b69-156">Azure creates a new drive based on your specifications.</span></span> <span data-ttu-id="43b69-157">Dans ce scénario, Azure effectue hello suivant de tâches de configuration de stockage :</span><span class="sxs-lookup"><span data-stu-id="43b69-157">In this scenario, Azure performs hello following storage configuration tasks:</span></span>

* <span data-ttu-id="43b69-158">Crée et attache la machine virtuelle des toohello de disques premium storage data.</span><span class="sxs-lookup"><span data-stu-id="43b69-158">Creates and attaches premium storage data disks toohello virtual machine.</span></span>
* <span data-ttu-id="43b69-159">Configure hello données disques toobe accessible tooSQL Server.</span><span class="sxs-lookup"><span data-stu-id="43b69-159">Configures hello data disks toobe accessible tooSQL Server.</span></span>
* <span data-ttu-id="43b69-160">Configure les disques de données hello dans un stockage pool basée sur hello spécifié (IOPS et débit) taille et les performances requises.</span><span class="sxs-lookup"><span data-stu-id="43b69-160">Configures hello data disks into a storage pool based on hello specified size and performance (IOPS and throughput) requirements.</span></span>
* <span data-ttu-id="43b69-161">Associe le pool de stockage hello avec un nouveau lecteur sur l’ordinateur virtuel de hello.</span><span class="sxs-lookup"><span data-stu-id="43b69-161">Associates hello storage pool with a new drive on hello virtual machine.</span></span>

<span data-ttu-id="43b69-162">Pour plus d’informations sur la façon dont Azure configure les paramètres de stockage, consultez hello [section de configuration de stockage](#storage-configuration).</span><span class="sxs-lookup"><span data-stu-id="43b69-162">For further details on how Azure configures storage settings, see hello [Storage configuration section](#storage-configuration).</span></span>

### <a name="add-a-new-drive"></a><span data-ttu-id="43b69-163">Ajout d’un nouveau lecteur</span><span class="sxs-lookup"><span data-stu-id="43b69-163">Add a new drive</span></span>
<span data-ttu-id="43b69-164">Si vous avez déjà configuré le stockage sur votre machine virtuelle SQL Server, l’extension du stockage donne accès à deux nouvelles options.</span><span class="sxs-lookup"><span data-stu-id="43b69-164">If you have already configured storage on your SQL Server VM, expanding storage brings up two new options.</span></span> <span data-ttu-id="43b69-165">Hello première option est tooadd un nouveau disque, ce qui peut augmenter le niveau de performance hello de votre machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="43b69-165">hello first option is tooadd a new drive, which can increase hello performance level of your VM.</span></span>

![Ajouter un nouveau tooa de lecteur SQL VM](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-add-new-drive.png)

<span data-ttu-id="43b69-167">Toutefois, après avoir ajouté le lecteur de hello, vous devez effectuer une augmentation des performances configuration manuel supplémentaire tooachieve hello.</span><span class="sxs-lookup"><span data-stu-id="43b69-167">However, after adding hello drive, you must perform some extra manual configuration tooachieve hello performance increase.</span></span>

### <a name="extend-hello-drive"></a><span data-ttu-id="43b69-168">Étendez le lecteur de hello</span><span class="sxs-lookup"><span data-stu-id="43b69-168">Extend hello drive</span></span>
<span data-ttu-id="43b69-169">Bonjour autre option pour le stockage de développement est lecteur existant de tooextend hello.</span><span class="sxs-lookup"><span data-stu-id="43b69-169">hello other option for expanding storage is tooextend hello existing drive.</span></span> <span data-ttu-id="43b69-170">Cette option augmente hello de stockage disponible pour votre disque, mais elle n’augmente pas les performances.</span><span class="sxs-lookup"><span data-stu-id="43b69-170">This option increases hello available storage for your drive, but it does not increase performance.</span></span> <span data-ttu-id="43b69-171">Avec les pools de stockage, vous ne pouvez pas modifier le nombre hello de colonnes après la création de pool de stockage hello.</span><span class="sxs-lookup"><span data-stu-id="43b69-171">With storage pools, you cannot alter hello number of columns after hello storage pool is created.</span></span> <span data-ttu-id="43b69-172">nombre Hello de colonnes détermine le nombre hello des écritures parallèles, qui peuvent être réparties sur les disques de données hello.</span><span class="sxs-lookup"><span data-stu-id="43b69-172">hello number of columns determines hello number of parallel writes, which can be striped across hello data disks.</span></span> <span data-ttu-id="43b69-173">Par conséquent, les disques de données ajoutés ne peuvent pas augmenter les performances.</span><span class="sxs-lookup"><span data-stu-id="43b69-173">Therefore, any added data disks cannot increase performance.</span></span> <span data-ttu-id="43b69-174">Ils peuvent uniquement fournir plus de stockage pour les données hello en cours d’écriture.</span><span class="sxs-lookup"><span data-stu-id="43b69-174">They can only provide more storage for hello data being written.</span></span> <span data-ttu-id="43b69-175">Cette limitation signifie également que, lorsque vous étendez le lecteur de hello, nombre hello de colonnes détermine le nombre minimal de hello de disques de données que vous pouvez ajouter.</span><span class="sxs-lookup"><span data-stu-id="43b69-175">This limitation also means that, when extending hello drive, hello number of columns determines hello minimum number of data disks that you can add.</span></span> <span data-ttu-id="43b69-176">Par conséquent, si vous créez un pool de stockage avec des disques de données de quatre, hello nombre de colonnes est également quatre.</span><span class="sxs-lookup"><span data-stu-id="43b69-176">So if you create a storage pool with four data disks, hello number of columns is also four.</span></span> <span data-ttu-id="43b69-177">Chaque fois que vous étendez le stockage hello, vous devez ajouter des disques de données au moins quatre.</span><span class="sxs-lookup"><span data-stu-id="43b69-177">Any time you extend hello storage, you must add at least four data disks.</span></span>

![Étendre un lecteur d’une machine virtuelle SQL](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-extend-a-drive.png)

## <a name="storage-configuration"></a><span data-ttu-id="43b69-179">Configuration du stockage</span><span class="sxs-lookup"><span data-stu-id="43b69-179">Storage configuration</span></span>
<span data-ttu-id="43b69-180">Cette section fournit une référence pour les modifications de configuration de stockage hello Azure effectue automatiquement pendant VM SQL de configuration ou de la configuration Bonjour portail Azure.</span><span class="sxs-lookup"><span data-stu-id="43b69-180">This section provides a reference for hello storage configuration changes that Azure automatically performs during SQL VM provisioning or configuration in hello Azure Portal.</span></span>

* <span data-ttu-id="43b69-181">Si vous avez sélectionné moins de deux téraoctets de stockage pour votre machine virtuelle, Azure ne crée pas de pool de stockage.</span><span class="sxs-lookup"><span data-stu-id="43b69-181">If you have selected fewer than two TBs of storage for your VM, Azure does not create a storage pool.</span></span>
* <span data-ttu-id="43b69-182">Si vous avez sélectionné au moins deux téraoctets de stockage pour votre machine virtuelle, Azure configure un pool de stockage.</span><span class="sxs-lookup"><span data-stu-id="43b69-182">If you have selected at least two TBs of storage for your VM, Azure configures a storage pool.</span></span> <span data-ttu-id="43b69-183">section suivante de Hello de cette rubrique fournit des détails de hello de configuration du pool de stockage hello.</span><span class="sxs-lookup"><span data-stu-id="43b69-183">hello next section of this topic provides hello details of hello storage pool configuration.</span></span>
* <span data-ttu-id="43b69-184">La configuration automatique du stockage utilise toujours des disques de données P30 [Premium Storage](../../../storage/common/storage-premium-storage.md) .</span><span class="sxs-lookup"><span data-stu-id="43b69-184">Automatic storage configuration always uses [premium storage](../../../storage/common/storage-premium-storage.md) P30 data disks.</span></span> <span data-ttu-id="43b69-185">Par conséquent, il existe un mappage 1:1 entre votre nombre sélectionné de téraoctets et hello de disques de données associé tooyour machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="43b69-185">Consequently, there is a 1:1 mapping between your selected number of Terabytes and hello number of data disks attached tooyour VM.</span></span>

<span data-ttu-id="43b69-186">Pour plus d’informations de tarification, consultez hello [tarification du stockage](https://azure.microsoft.com/pricing/details/storage) page hello **le stockage sur disque** onglet.</span><span class="sxs-lookup"><span data-stu-id="43b69-186">For pricing information, see hello [Storage pricing](https://azure.microsoft.com/pricing/details/storage) page on hello **Disk Storage** tab.</span></span>

### <a name="creation-of-hello-storage-pool"></a><span data-ttu-id="43b69-187">Création d’un pool de stockage hello</span><span class="sxs-lookup"><span data-stu-id="43b69-187">Creation of hello storage pool</span></span>
<span data-ttu-id="43b69-188">Azure utilise hello suivant de pool de stockage de paramètres toocreate hello de machines virtuelles SQL Server.</span><span class="sxs-lookup"><span data-stu-id="43b69-188">Azure uses hello following settings toocreate hello storage pool on SQL Server VMs.</span></span>

| <span data-ttu-id="43b69-189">Paramètre</span><span class="sxs-lookup"><span data-stu-id="43b69-189">Setting</span></span> | <span data-ttu-id="43b69-190">Valeur</span><span class="sxs-lookup"><span data-stu-id="43b69-190">Value</span></span> |
| --- | --- |
| <span data-ttu-id="43b69-191">Taille de l’entrelacement</span><span class="sxs-lookup"><span data-stu-id="43b69-191">Stripe size</span></span> |<span data-ttu-id="43b69-192">256 Ko (entrepôt de données) ; 64 Ko (transactionnel)</span><span class="sxs-lookup"><span data-stu-id="43b69-192">256 KB (Data warehousing); 64 KB (Transactional)</span></span> |
| <span data-ttu-id="43b69-193">Tailles du disque</span><span class="sxs-lookup"><span data-stu-id="43b69-193">Disk sizes</span></span> |<span data-ttu-id="43b69-194">1 To chacun</span><span class="sxs-lookup"><span data-stu-id="43b69-194">1 TB each</span></span> |
| <span data-ttu-id="43b69-195">Cache</span><span class="sxs-lookup"><span data-stu-id="43b69-195">Cache</span></span> |<span data-ttu-id="43b69-196">Lire</span><span class="sxs-lookup"><span data-stu-id="43b69-196">Read</span></span> |
| <span data-ttu-id="43b69-197">Taille d'allocation</span><span class="sxs-lookup"><span data-stu-id="43b69-197">Allocation size</span></span> |<span data-ttu-id="43b69-198">Taille d'unité d'allocation NTFS = 64 Ko</span><span class="sxs-lookup"><span data-stu-id="43b69-198">64 KB NTFS allocation unit size</span></span> |
| <span data-ttu-id="43b69-199">Initialisation instantanée des fichiers</span><span class="sxs-lookup"><span data-stu-id="43b69-199">Instant file initialization</span></span> |<span data-ttu-id="43b69-200">Activé</span><span class="sxs-lookup"><span data-stu-id="43b69-200">Enabled</span></span> |
| <span data-ttu-id="43b69-201">Verrouillage des pages en mémoire</span><span class="sxs-lookup"><span data-stu-id="43b69-201">Lock pages in memory</span></span> |<span data-ttu-id="43b69-202">Activé</span><span class="sxs-lookup"><span data-stu-id="43b69-202">Enabled</span></span> |
| <span data-ttu-id="43b69-203">Récupérer</span><span class="sxs-lookup"><span data-stu-id="43b69-203">Recovery</span></span> |<span data-ttu-id="43b69-204">Récupération simple (sans résilience)</span><span class="sxs-lookup"><span data-stu-id="43b69-204">Simple recovery (no resiliency)</span></span> |
| <span data-ttu-id="43b69-205">Nombre de colonnes</span><span class="sxs-lookup"><span data-stu-id="43b69-205">Number of columns</span></span> |<span data-ttu-id="43b69-206">Nombre de disques de données<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="43b69-206">Number of data disks<sup>1</sup></span></span> |
| <span data-ttu-id="43b69-207">Emplacement de TempDB</span><span class="sxs-lookup"><span data-stu-id="43b69-207">TempDB location</span></span> |<span data-ttu-id="43b69-208">Stocké sur les disques de données<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="43b69-208">Stored on data disks<sup>2</sup></span></span> |

<span data-ttu-id="43b69-209"><sup>1</sup> après la création de pool de stockage hello, vous ne pouvez pas modifier le nombre hello de colonnes dans le pool de stockage hello.</span><span class="sxs-lookup"><span data-stu-id="43b69-209"><sup>1</sup> After hello storage pool is created, you cannot alter hello number of columns in hello storage pool.</span></span>

<span data-ttu-id="43b69-210"><sup>2</sup> ce paramètre s’applique uniquement toohello premier lecteur vous créez à l’aide de la fonctionnalité de configuration de stockage hello.</span><span class="sxs-lookup"><span data-stu-id="43b69-210"><sup>2</sup> This setting only applies toohello first drive you create using hello storage configuration feature.</span></span>

## <a name="workload-optimization-settings"></a><span data-ttu-id="43b69-211">Paramètres d’optimisation de la charge de travail</span><span class="sxs-lookup"><span data-stu-id="43b69-211">Workload optimization settings</span></span>
<span data-ttu-id="43b69-212">Hello tableau suivant décrit hello trois charges de travail type options disponibles et leurs optimisations correspondantes :</span><span class="sxs-lookup"><span data-stu-id="43b69-212">hello following table describes hello three workload type options available and their corresponding optimizations:</span></span>

| <span data-ttu-id="43b69-213">Type de charge de travail</span><span class="sxs-lookup"><span data-stu-id="43b69-213">Workload type</span></span> | <span data-ttu-id="43b69-214">Description</span><span class="sxs-lookup"><span data-stu-id="43b69-214">Description</span></span> | <span data-ttu-id="43b69-215">Optimisations</span><span class="sxs-lookup"><span data-stu-id="43b69-215">Optimizations</span></span> |
| --- | --- | --- |
| <span data-ttu-id="43b69-216">**Généralités**</span><span class="sxs-lookup"><span data-stu-id="43b69-216">**General**</span></span> |<span data-ttu-id="43b69-217">Paramètre par défaut qui prend en charge la plupart des charges de travail</span><span class="sxs-lookup"><span data-stu-id="43b69-217">Default setting that supports most workloads</span></span> |<span data-ttu-id="43b69-218">Aucun</span><span class="sxs-lookup"><span data-stu-id="43b69-218">None</span></span> |
| <span data-ttu-id="43b69-219">**Traitement transactionnel**</span><span class="sxs-lookup"><span data-stu-id="43b69-219">**Transactional processing**</span></span> |<span data-ttu-id="43b69-220">Optimise le stockage hello pour les charges de travail OLTP classique de la base de données</span><span class="sxs-lookup"><span data-stu-id="43b69-220">Optimizes hello storage for traditional database OLTP workloads</span></span> |<span data-ttu-id="43b69-221">Indicateur de trace 1117</span><span class="sxs-lookup"><span data-stu-id="43b69-221">Trace Flag 1117</span></span><br/><span data-ttu-id="43b69-222">Indicateur de trace 1118</span><span class="sxs-lookup"><span data-stu-id="43b69-222">Trace Flag 1118</span></span> |
| <span data-ttu-id="43b69-223">**Entrepôt de données**</span><span class="sxs-lookup"><span data-stu-id="43b69-223">**Data warehousing**</span></span> |<span data-ttu-id="43b69-224">Optimise le stockage hello pour les charges de travail d’analyse et de création de rapports</span><span class="sxs-lookup"><span data-stu-id="43b69-224">Optimizes hello storage for analytic and reporting workloads</span></span> |<span data-ttu-id="43b69-225">Indicateur de trace 610</span><span class="sxs-lookup"><span data-stu-id="43b69-225">Trace Flag 610</span></span><br/><span data-ttu-id="43b69-226">Indicateur de trace 1117</span><span class="sxs-lookup"><span data-stu-id="43b69-226">Trace Flag 1117</span></span> |

> [!NOTE]
> <span data-ttu-id="43b69-227">Vous pouvez uniquement spécifier type de charge de travail hello lorsque vous configurez un ordinateur virtuel SQL en la sélectionnant dans l’étape de configuration de stockage hello.</span><span class="sxs-lookup"><span data-stu-id="43b69-227">You can only specify hello workload type when you provision a SQL virtual machine by selecting it in hello storage configuration step.</span></span>
>
>

## <a name="next-steps"></a><span data-ttu-id="43b69-228">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="43b69-228">Next steps</span></span>
<span data-ttu-id="43b69-229">Pour les autres rubriques connexes toorunning SQL Server dans des machines virtuelles Azure, consultez [SQL Server sur des Machines virtuelles Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="43b69-229">For other topics related toorunning SQL Server in Azure VMs, see [SQL Server on Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>
