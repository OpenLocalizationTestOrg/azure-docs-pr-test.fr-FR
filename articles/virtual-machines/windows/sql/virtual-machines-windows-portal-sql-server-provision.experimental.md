---
title: "Approvisionnement d’une machine virtuelle SQL Server | Microsoft Docs"
description: "Créez une machine virtuelle SQL Server et connectez-vous à cette dernière à l’aide du portail. Ce didacticiel utilise le mode Resource Manager."
services: virtual-machines-windows
documentationcenter: na
author: rothja
editor: 
manager: jhubbard
tags: azure-resource-manager
ms.assetid: 1aff691f-a40a-4de2-b6a0-def1384e086e
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: infrastructure-services
ms.date: 04/03/2017
ms.author: jroth
experimental_id: a641df96-f27d-40
ms.openlocfilehash: c51908058bb785cb33da21de76ba3c956b6b9f1f
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="provision-a-sql-server-virtual-machine-in-the-azure-portal"></a><span data-ttu-id="43826-104">Approvisionnement d’une machine virtuelle SQL Server dans le portail Azure</span><span class="sxs-lookup"><span data-stu-id="43826-104">Provision a SQL Server virtual machine in the Azure Portal</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="43826-105">Portail</span><span class="sxs-lookup"><span data-stu-id="43826-105">Portal</span></span>](virtual-machines-windows-portal-sql-server-provision.md)
> * [<span data-ttu-id="43826-106">PowerShell</span><span class="sxs-lookup"><span data-stu-id="43826-106">PowerShell</span></span>](virtual-machines-windows-ps-sql-create.md)
> 
> 

<span data-ttu-id="43826-107">Ce didacticiel de bout en bout vous montre comment utiliser le portail Azure pour configurer une machine virtuelle exécutant SQL Server.</span><span class="sxs-lookup"><span data-stu-id="43826-107">This end-to-end tutorial shows you how to use the Azure Portal to provision a virtual machine running SQL Server.</span></span>

<span data-ttu-id="43826-108">La galerie de machines virtuelles Azure inclut différentes images contenant Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="43826-108">The Azure virtual machine (VM) gallery includes several images that contain Microsoft SQL Server.</span></span> <span data-ttu-id="43826-109">Vous pouvez sélectionner l’une des images de machine virtuelle SQL à partir de la galerie et l’approvisionner en quelques clics dans votre environnement Azure.</span><span class="sxs-lookup"><span data-stu-id="43826-109">With a few clicks, you can select one of the SQL VM images from the gallery and provision it in your Azure environment.</span></span>

<span data-ttu-id="43826-110">Ce didacticiel présente les procédures suivantes :</span><span class="sxs-lookup"><span data-stu-id="43826-110">In this tutorial, you will:</span></span>

* [<span data-ttu-id="43826-111">Sélectionner une image de machine virtuelle à partir de la galerie</span><span class="sxs-lookup"><span data-stu-id="43826-111">Select a SQL VM image from the gallery</span></span>](#select-a-sql-vm-image-from-the-gallery)
* [<span data-ttu-id="43826-112">Configurer et créer la machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="43826-112">Configure and create the VM</span></span>](#configure-the-vm)
* [<span data-ttu-id="43826-113">Ouvrir la machine virtuelle à l’aide du Bureau à distance</span><span class="sxs-lookup"><span data-stu-id="43826-113">Open the VM with Remote Desktop</span></span>](#open-the-vm-with-remote-desktop)
* [<span data-ttu-id="43826-114">Se connecter à SQL Server à distance</span><span class="sxs-lookup"><span data-stu-id="43826-114">Connect to SQL Server remotely</span></span>](#connect-to-sql-server-remotely)

## <a name="select-a-sql-vm-image-from-the-gallery"></a><span data-ttu-id="43826-115">Sélectionner une image de machine virtuelle à partir de la galerie</span><span class="sxs-lookup"><span data-stu-id="43826-115">Select a SQL VM image from the gallery</span></span>
1. <span data-ttu-id="43826-116">Connectez-vous au [portail Azure](https://portal.azure.com) avec votre compte.</span><span class="sxs-lookup"><span data-stu-id="43826-116">Log in to the [Azure portal](https://portal.azure.com) using your account.</span></span>

   > [!NOTE]
   > <span data-ttu-id="43826-117">Si vous n'avez pas de compte Azure, visitez la page [Version d'évaluation gratuite d'Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="43826-117">If you do not have an Azure account, visit [Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>

2. <span data-ttu-id="43826-118">Dans le portail Azure, cliquez sur **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="43826-118">On the Azure portal, click **New**.</span></span> <span data-ttu-id="43826-119">Le portail ouvre le panneau **Nouveau** .</span><span class="sxs-lookup"><span data-stu-id="43826-119">The portal opens the **New** blade.</span></span> <span data-ttu-id="43826-120">Les ressources de machine virtuelle SQL Server sont dans le groupe **Calcul** du Marketplace.</span><span class="sxs-lookup"><span data-stu-id="43826-120">The SQL Server VM resources are in the **Compute** group of the Marketplace.</span></span>
3. <span data-ttu-id="43826-121">Dans le panneau **Nouveau**, cliquez sur **Calcul** , puis sur **Afficher tout**.</span><span class="sxs-lookup"><span data-stu-id="43826-121">In the **New** blade, click **Compute** and then click **See all**.</span></span>
4. <span data-ttu-id="43826-122">Dans la zone de texte **Filtre**, entrez SQL Server, puis appuyez sur la touche ENTRÉE.</span><span class="sxs-lookup"><span data-stu-id="43826-122">In the **Filter** text box type SQL Server, and press the ENTER key.</span></span>

   ![Panneau Machines virtuelles Azure](./media/virtual-machines-windows-portal-sql-server-provision/azure-compute-blade2.png)

5. <span data-ttu-id="43826-124">Passez en revue les images SQL Server disponibles.</span><span class="sxs-lookup"><span data-stu-id="43826-124">Review the available SQL Server images.</span></span> <span data-ttu-id="43826-125">Chaque image identifie une version de SQL Server et un système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="43826-125">Each image identifies a SQL Server version and an operating system.</span></span> 
6. <span data-ttu-id="43826-126">Sélectionnez l’image pour SQL Server 2016 SP1 Developer sur Windows Server 2016.</span><span class="sxs-lookup"><span data-stu-id="43826-126">Select the image for SQL Server 2016 SP1 Developer on Windows Server 2016.</span></span>

   > [!TIP]
   > <span data-ttu-id="43826-127">L’édition Developer est utilisée dans ce didacticiel, car il s’agit d’une version complète de SQL Server qui est gratuite à des fins de test de développement.</span><span class="sxs-lookup"><span data-stu-id="43826-127">The Developer edition is used in this tutorial because it is a full-featured edition of SQL Server that is free for development testing purposes.</span></span> <span data-ttu-id="43826-128">Vous payez uniquement pour le coût d’exécution de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="43826-128">You pay only for the cost of running the VM.</span></span>

   > [!NOTE]
   > <span data-ttu-id="43826-129">Les images de machines virtuelles SQL incluent les coûts de licence pour SQL Server dans la tarification par minute de la machine virtuelle que vous créez (sauf pour les éditions Développeur et Express).</span><span class="sxs-lookup"><span data-stu-id="43826-129">SQL VM images include the licensing costs for SQL Server into the per-minute pricing of the VM you create (except for the Developer and Express editions).</span></span> <span data-ttu-id="43826-130">SQL Server Developer est gratuit pour le développement/les tests (hors production), et SQL Express est gratuit pour les charges de travail légères (moins de 1 Go de mémoire, moins de 10 Go de stockage).</span><span class="sxs-lookup"><span data-stu-id="43826-130">SQL Server Developer is free for development/testing (not production) and SQL Express is free for lightweight workloads (less than 1 GB memory, less than 10-GB storage).</span></span>
   > <span data-ttu-id="43826-131">Vous avez également la possibilité d’utiliser votre solution BYOL (apportez votre propre licence) et de payer seulement pour la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="43826-131">There is another option to bring-your-own-license (BYOL) and pay only for the VM.</span></span> <span data-ttu-id="43826-132">Ces noms d’images sont préfixés avec {BYOL}.</span><span class="sxs-lookup"><span data-stu-id="43826-132">Those image names are prefixed with {BYOL}.</span></span> <span data-ttu-id="43826-133">Pour en savoir plus sur ces options, consultez l’article [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md) (Tarification des machines virtuelles SQL Server Azure).</span><span class="sxs-lookup"><span data-stu-id="43826-133">For more information on these options, see [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md).</span></span>

7. <span data-ttu-id="43826-134">Sous **Sélectionner un modèle de déploiement**, vérifiez que **Resource Manager** est sélectionné.</span><span class="sxs-lookup"><span data-stu-id="43826-134">Under **Select a deployment model**, verify that **Resource Manager** is selected.</span></span> <span data-ttu-id="43826-135">Resource Manager est le modèle de déploiement recommandé pour les nouvelles machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="43826-135">Resource Manager is the recommended deployment model for new virtual machines.</span></span> <span data-ttu-id="43826-136">Cliquez sur **Create**.</span><span class="sxs-lookup"><span data-stu-id="43826-136">Click **Create**.</span></span>

    ![Créer une machine virtuelle avec Resource Manager](./media/virtual-machines-windows-portal-sql-server-provision/azure-compute-sql-deployment-model.png)

## <a name="configure-the-vm"></a><span data-ttu-id="43826-138">Configurer la machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="43826-138">Configure the VM</span></span>
<span data-ttu-id="43826-139">Il existe cinq panneaux de configuration d’une machine virtuelle SQL Server.</span><span class="sxs-lookup"><span data-stu-id="43826-139">There are five blades for configuring a SQL Server virtual machine.</span></span>

| <span data-ttu-id="43826-140">Étape</span><span class="sxs-lookup"><span data-stu-id="43826-140">Step</span></span> | <span data-ttu-id="43826-141">Description</span><span class="sxs-lookup"><span data-stu-id="43826-141">Description</span></span> |
| --- | --- |
| <span data-ttu-id="43826-142">**Concepts de base**</span><span class="sxs-lookup"><span data-stu-id="43826-142">**Basics**</span></span> |[<span data-ttu-id="43826-143">Configurer les paramètres de base</span><span class="sxs-lookup"><span data-stu-id="43826-143">Configure basic settings</span></span>](#1-configure-basic-settings) |
| <span data-ttu-id="43826-144">**Taille**</span><span class="sxs-lookup"><span data-stu-id="43826-144">**Size**</span></span> |[<span data-ttu-id="43826-145">Choisir la taille de machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="43826-145">Choose virtual machine size</span></span>](#2-choose-virtual-machine-size) |
| <span data-ttu-id="43826-146">**Paramètres**</span><span class="sxs-lookup"><span data-stu-id="43826-146">**Settings**</span></span> |[<span data-ttu-id="43826-147">Configurer des fonctionnalités facultatives</span><span class="sxs-lookup"><span data-stu-id="43826-147">Configure optional features</span></span>](#3-configure-optional-features) |
| <span data-ttu-id="43826-148">**Paramètres de SQL Server**</span><span class="sxs-lookup"><span data-stu-id="43826-148">**SQL Server settings**</span></span> |[<span data-ttu-id="43826-149">Configurer les paramètres du serveur SQL</span><span class="sxs-lookup"><span data-stu-id="43826-149">Configure SQL server settings</span></span>](#4-configure-sql-server-settings) |
| <span data-ttu-id="43826-150">**Résumé**</span><span class="sxs-lookup"><span data-stu-id="43826-150">**Summary**</span></span> |[<span data-ttu-id="43826-151">Passer en revue le résumé</span><span class="sxs-lookup"><span data-stu-id="43826-151">Review the summary</span></span>](#5-review-the-summary) |

## <a name="1-configure-basic-settings"></a><span data-ttu-id="43826-152">1. Configurer les paramètres de base</span><span class="sxs-lookup"><span data-stu-id="43826-152">1. Configure basic settings</span></span>
<span data-ttu-id="43826-153">Dans le panneau **De base** , fournissez les informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="43826-153">On the **Basics** blade, provide the following information:</span></span>

* <span data-ttu-id="43826-154">Entrez un **nom**de machine virtuelle unique.</span><span class="sxs-lookup"><span data-stu-id="43826-154">Enter a unique virtual machine **Name**.</span></span>
* <span data-ttu-id="43826-155">Indiquez uniquement un **Nom d’utilisateur** pour le compte administrateur local de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="43826-155">Specify a **User name** for the local administrator account on the VM.</span></span> <span data-ttu-id="43826-156">Ce compte est également ajouté au serveur fixe **sysadmin** SQL Server.</span><span class="sxs-lookup"><span data-stu-id="43826-156">This account is also added to the SQL Server **sysadmin** fixed server role.</span></span>
* <span data-ttu-id="43826-157">Utilisez un **mot de passe**fort.</span><span class="sxs-lookup"><span data-stu-id="43826-157">Provide a strong **Password**.</span></span>
* <span data-ttu-id="43826-158">Si vous possédez plusieurs abonnements, vérifiez que l’abonnement est correct pour la nouvelle machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="43826-158">If you have multiple subscriptions, verify that the subscription is correct for the new VM.</span></span>
* <span data-ttu-id="43826-159">Dans la zone **Groupe de ressources** , saisissez un nom pour le groupe de ressources.</span><span class="sxs-lookup"><span data-stu-id="43826-159">In the **Resource group** box, type a name for a new resource group.</span></span> <span data-ttu-id="43826-160">Sinon, pour utiliser un groupe de ressources existant, cliquez sur **Utiliser existant**.</span><span class="sxs-lookup"><span data-stu-id="43826-160">Alternatively, to use an existing resource group click **Use existing**.</span></span> <span data-ttu-id="43826-161">Un groupe de ressources est une collection de ressources liées dans Azure (machines virtuelles, comptes de stockage, réseaux virtuels, etc.).</span><span class="sxs-lookup"><span data-stu-id="43826-161">A resource group is a collection of related resources in Azure (virtual machines, storage accounts, virtual networks, etc.).</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="43826-162">L’utilisation d’un nouveau groupe de ressources est utile si vous testez ou découvrez les déploiements SQL Server dans Azure.</span><span class="sxs-lookup"><span data-stu-id="43826-162">Using a new resource group is helpful if you are just testing or learning about SQL Server deployments in Azure.</span></span> <span data-ttu-id="43826-163">Une fois que vous avez terminé votre test, supprimez le groupe de ressources pour supprimer automatiquement la machine virtuelle et toutes les ressources associées à ce groupe de ressources.</span><span class="sxs-lookup"><span data-stu-id="43826-163">After you finish with your test, delete the resource group to automatically delete the VM and all resources associated with that resource group.</span></span> <span data-ttu-id="43826-164">Pour plus d’informations sur les groupes de ressources, consultez [Vue d’ensemble d’Azure Resource Manager](../../../azure-resource-manager/resource-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="43826-164">For more information about resource groups, see [Azure Resource Manager Overview](../../../azure-resource-manager/resource-group-overview.md).</span></span>
  > 
  > 
* <span data-ttu-id="43826-165">Sélectionnez un **emplacement** pour ce déploiement.</span><span class="sxs-lookup"><span data-stu-id="43826-165">Select a **Location** for this deployment.</span></span>
* <span data-ttu-id="43826-166">Cliquez sur **OK** pour enregistrer les paramètres.</span><span class="sxs-lookup"><span data-stu-id="43826-166">Click **OK** to save the settings.</span></span>
  
    ![Panneau SQL Basics (Informations de base SQL)](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-basic.png)

## <a name="2-choose-virtual-machine-size"></a><span data-ttu-id="43826-168">2. Choisir la taille de machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="43826-168">2. Choose virtual machine size</span></span>
<span data-ttu-id="43826-169">Lors de l’étape de **dimensionnement**, choisissez une taille de machine virtuelle dans le panneau **Choisir une taille**.</span><span class="sxs-lookup"><span data-stu-id="43826-169">On the **Size** step, choose a virtual machine size in the **Choose a size** blade.</span></span> <span data-ttu-id="43826-170">Le panneau affiche d’abord les tailles de machine virtuelle recommandées en fonction de l’image que vous avez sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="43826-170">The blade initially displays recommended machine sizes based on the image you selected.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="43826-171">Le coût mensuel estimé affiché sur le panneau **Choisir une taille** n’inclut pas les coûts de licence SQL Server.</span><span class="sxs-lookup"><span data-stu-id="43826-171">The estimated monthly cost displayed on the **Choose a size** blade does not include SQL Server licensing costs.</span></span> <span data-ttu-id="43826-172">Ce coût mensuel estimé est le coût de la machine virtuelle seule.</span><span class="sxs-lookup"><span data-stu-id="43826-172">This estimated monthly cost is the cost of the VM alone.</span></span> <span data-ttu-id="43826-173">Pour les éditions Express et Developer de SQL Server, il s’agit du coût total estimé.</span><span class="sxs-lookup"><span data-stu-id="43826-173">For the Express and Developer editions of SQL Server, this is the total estimated cost.</span></span> <span data-ttu-id="43826-174">Pour les autres éditions, consultez la [page de tarification des machines virtuelles Windows](https://azure.microsoft.com/pricing/details/virtual-machines/windows/) et sélectionnez votre édition de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="43826-174">For other editions, see the [Windows Virtual Machines pricing page](https://azure.microsoft.com/pricing/details/virtual-machines/windows/) and select your target edition of SQL Server.</span></span> <span data-ttu-id="43826-175">Consultez également l’article [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md) (Tarification des machines virtuelles SQL Server Azure).</span><span class="sxs-lookup"><span data-stu-id="43826-175">Also see the [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md).</span></span>

![Options de taille de machine virtuelle SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-vm-choose-a-size.png)

<span data-ttu-id="43826-177">Pour les charges de travail de production, nous vous recommandons de sélectionner une taille de machine virtuelle qui prend en charge [Premium Storage](../../../storage/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="43826-177">For production workloads, we recommend selecting a virtual machine size that supports [Premium Storage](../../../storage/storage-premium-storage.md).</span></span> <span data-ttu-id="43826-178">Si vous n’avez pas besoin d’un tel niveau de performances, utilisez le bouton **Afficher tout** pour afficher toutes les options de taille de machine.</span><span class="sxs-lookup"><span data-stu-id="43826-178">If you do not require that level of performance, use the **View all** button, which shows all machine size options.</span></span> <span data-ttu-id="43826-179">Par exemple, vous pouvez utiliser une plus petite taille de machine pour un environnement de test ou de développement.</span><span class="sxs-lookup"><span data-stu-id="43826-179">For example, you might use a smaller machine size for a development or test environment.</span></span>

> [!NOTE]
> <span data-ttu-id="43826-180">Pour plus d’informations sur les tailles des machines virtuelles, voir [Tailles des machines virtuelles](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="43826-180">For more information about virtual machine sizes, [Sizes for virtual machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="43826-181">Pour des considérations sur les tailles de machines virtuelles SQL Server, consultez la rubrique [Meilleures pratiques relatives aux performances de SQL Server dans Azure Virtual Machines](virtual-machines-windows-sql-performance.md).</span><span class="sxs-lookup"><span data-stu-id="43826-181">For considerations about SQL Server VM sizes, see [Performance best practices for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-performance.md).</span></span>

<span data-ttu-id="43826-182">Choisissez la taille de votre machine, puis cliquez sur **Sélectionner**.</span><span class="sxs-lookup"><span data-stu-id="43826-182">Choose your machine size, and then click **Select**.</span></span>

## <a name="3-configure-optional-features"></a><span data-ttu-id="43826-183">3. Configurer des fonctionnalités facultatives</span><span class="sxs-lookup"><span data-stu-id="43826-183">3. Configure optional features</span></span>
<span data-ttu-id="43826-184">Dans le panneau **Paramètres** , configurez le stockage Azure, la mise en réseau et la surveillance de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="43826-184">On the **Settings** blade, configure Azure storage, networking, and monitoring for the virtual machine.</span></span>

* <span data-ttu-id="43826-185">Sous **Storage**, spécifiez un **type de disque** Standard ou Premium (SSD).</span><span class="sxs-lookup"><span data-stu-id="43826-185">Under **Storage**, specify a **Disk type** of either Standard or Premium (SSD).</span></span> <span data-ttu-id="43826-186">L’option Premium Storage est recommandée pour les charges de travail de production.</span><span class="sxs-lookup"><span data-stu-id="43826-186">Premium storage is recommended for production workloads.</span></span>

> [!NOTE]
> <span data-ttu-id="43826-187">Si vous sélectionnez Premium (SSD) pour une taille de machine qui ne prend pas en charge Premium Storage, votre machine sera redimensionnée de manière automatique.</span><span class="sxs-lookup"><span data-stu-id="43826-187">If you select Premium (SSD) for a machine size that does not support Premium Storage, your machine size changes automatically.</span></span>  
> 
> 

* <span data-ttu-id="43826-188">Sous **Compte de stockage**, vous pouvez accepter le nom de compte de stockage automatiquement approvisionné.</span><span class="sxs-lookup"><span data-stu-id="43826-188">Under **Storage account**, you can accept the automatically provisioned storage account name.</span></span> <span data-ttu-id="43826-189">Vous pouvez également cliquer sur **Compte de stockage** pour choisir un compte existant et configurer le type de compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="43826-189">You can also click on **Storage account** to choose an existing account and configure the storage account type.</span></span> <span data-ttu-id="43826-190">Par défaut, Azure crée un compte de stockage avec un stockage localement redondant.</span><span class="sxs-lookup"><span data-stu-id="43826-190">By default, Azure creates a new storage account with locally redundant storage.</span></span> <span data-ttu-id="43826-191">Pour plus d’informations sur les options de stockage, consultez [Réplication Azure Storage](../../../storage/storage-redundancy.md).</span><span class="sxs-lookup"><span data-stu-id="43826-191">For more information about storage options, see [Azure Storage replication](../../../storage/storage-redundancy.md).</span></span>
* <span data-ttu-id="43826-192">Sous **Réseau**, vous pouvez accepter les valeurs remplies automatiquement.</span><span class="sxs-lookup"><span data-stu-id="43826-192">Under **Network**, you can accept the automatically populated values.</span></span> <span data-ttu-id="43826-193">Vous pouvez également cliquer sur chaque fonctionnalité pour configurer manuellement le **Réseau virtuel**, **Sous-réseau**, **Adresse IP publique** et **Groupe de sécurité réseau**.</span><span class="sxs-lookup"><span data-stu-id="43826-193">You can also click on each feature to manually configure the **Virtual network**, **Subnet**, **Public IP address**, and **Network Security Group**.</span></span> <span data-ttu-id="43826-194">Dans le cadre de ce didacticiel, vous pouvez conserver les valeurs par défaut.</span><span class="sxs-lookup"><span data-stu-id="43826-194">For the purposes of this tutorial, keep the default values.</span></span>
* <span data-ttu-id="43826-195">Azure permet **l’analyse** par défaut avec le même compte de stockage désigné pour la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="43826-195">Azure enables **Monitoring** by default with the same storage account designated for the VM.</span></span> <span data-ttu-id="43826-196">Vous pouvez modifier ces paramètres ici.</span><span class="sxs-lookup"><span data-stu-id="43826-196">You can change these settings here.</span></span>
* <span data-ttu-id="43826-197">Dans **Groupe à haute disponibilité**, spécifiez un groupe à haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="43826-197">Under **Availability set**, specify an availability set.</span></span> <span data-ttu-id="43826-198">Dans le cadre de ce didacticiel, vous pouvez sélectionner **aucun**.</span><span class="sxs-lookup"><span data-stu-id="43826-198">For the purposes of this tutorial, you can select **none**.</span></span> <span data-ttu-id="43826-199">Si vous envisagez de configurer des groupes de disponibilité SQL AlwaysOn, configurez la disponibilité pour éviter de recréer la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="43826-199">If you plan to set up SQL AlwaysOn Availability Groups, configure the availability to avoid recreating the virtual machine.</span></span>  <span data-ttu-id="43826-200">Pour plus d’informations, voir [Gestion de la disponibilité des machines virtuelles](../manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="43826-200">For more information, see [Manage the Availability of Virtual Machines](../manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="43826-201">Une fois que vous avez terminé la configuration des paramètres, cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="43826-201">When you are done configuring these settings, click **OK**.</span></span>

## <a name="4-configure-sql-server-settings"></a><span data-ttu-id="43826-202">4. Configurer les paramètres du serveur SQL</span><span class="sxs-lookup"><span data-stu-id="43826-202">4. Configure SQL server settings</span></span>
<span data-ttu-id="43826-203">Dans le panneau **Paramètres SQL Server** , configurez des paramètres spécifiques et des optimisations pour SQL Server.</span><span class="sxs-lookup"><span data-stu-id="43826-203">On the **SQL Server settings** blade, configure specific settings and optimizations for SQL Server.</span></span> <span data-ttu-id="43826-204">Les paramètres que vous pouvez configurer pour SQL Server sont les suivants :</span><span class="sxs-lookup"><span data-stu-id="43826-204">The settings that you can configure for SQL Server include the following settings.</span></span>

| <span data-ttu-id="43826-205">Paramètre</span><span class="sxs-lookup"><span data-stu-id="43826-205">Setting</span></span> |
| --- |
| [<span data-ttu-id="43826-206">Connectivité</span><span class="sxs-lookup"><span data-stu-id="43826-206">Connectivity</span></span>](#connectivity) |
| [<span data-ttu-id="43826-207">Authentification</span><span class="sxs-lookup"><span data-stu-id="43826-207">Authentication</span></span>](#authentication) |
| [<span data-ttu-id="43826-208">Configuration du stockage</span><span class="sxs-lookup"><span data-stu-id="43826-208">Storage configuration</span></span>](#storage-configuration) |
| [<span data-ttu-id="43826-209">Mise à jour corrective automatisée</span><span class="sxs-lookup"><span data-stu-id="43826-209">Automated Patching</span></span>](#automated-patching) |
| [<span data-ttu-id="43826-210">Sauvegarde automatisée</span><span class="sxs-lookup"><span data-stu-id="43826-210">Automated Backup</span></span>](#automated-backup) |
| [<span data-ttu-id="43826-211">Intégration du coffre de clés Azure</span><span class="sxs-lookup"><span data-stu-id="43826-211">Azure Key Vault Integration</span></span>](#azure-key-vault-integration) |
| [<span data-ttu-id="43826-212">R Services</span><span class="sxs-lookup"><span data-stu-id="43826-212">R Services</span></span>](#r-services) |

### <a name="connectivity"></a><span data-ttu-id="43826-213">Connectivité</span><span class="sxs-lookup"><span data-stu-id="43826-213">Connectivity</span></span>
<span data-ttu-id="43826-214">Sous **SQL connectivity**(Connectivité SQL), spécifiez le type d’accès à l’instance SQL Server souhaité sur cette machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="43826-214">Under **SQL connectivity**, specify the type of access you want to the SQL Server instance on this VM.</span></span> <span data-ttu-id="43826-215">Pour les besoins de ce didacticiel, sélectionnez **Public (Internet)** pour autoriser les connexions à SQL Server depuis des machines ou des services sur Internet.</span><span class="sxs-lookup"><span data-stu-id="43826-215">For the purposes of this tutorial, select **Public (internet)** to allow connections to SQL Server from machines or services on the internet.</span></span> <span data-ttu-id="43826-216">Une fois cette option sélectionnée, Azure configure automatiquement le pare-feu et le groupe de sécurité réseau pour autoriser le trafic sur le port 1433.</span><span class="sxs-lookup"><span data-stu-id="43826-216">With this option selected, Azure automatically configures the firewall and the network security group to allow traffic on port 1433.</span></span>  

![Options de connectivité SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-connectivity-alt.png)

<span data-ttu-id="43826-218">Pour vous connecter à SQL Server via Internet, vous devez également activer l’authentification SQL Server décrite à la section suivante.</span><span class="sxs-lookup"><span data-stu-id="43826-218">To connect to SQL Server via the internet, you also must enable SQL Server Authentication, which is described in the next section.</span></span>

> [!NOTE]
> <span data-ttu-id="43826-219">Il est possible d’ajouter plus de restrictions pour les communications réseau à votre machine virtuelle SQL Server.</span><span class="sxs-lookup"><span data-stu-id="43826-219">It is possible to add more restrictions for the network communications to your SQL Server VM.</span></span> <span data-ttu-id="43826-220">Pour ajouter des restrictions, modifiez le groupe de sécurité réseau une fois que la machine virtuelle a été créée.</span><span class="sxs-lookup"><span data-stu-id="43826-220">You can add more restrictions by editing the Network Security Group after the VM is created.</span></span> <span data-ttu-id="43826-221">Pour plus d’informations, voir [Présentation du groupe de sécurité réseau](../../../virtual-network/virtual-networks-nsg.md)</span><span class="sxs-lookup"><span data-stu-id="43826-221">For more information, see [What is a Network Security Group (NSG)?](../../../virtual-network/virtual-networks-nsg.md)</span></span>
> 
> 

<span data-ttu-id="43826-222">Si vous préférez ne pas activer les connexions au moteur de base de données via Internet, choisissez l’une des options suivantes :</span><span class="sxs-lookup"><span data-stu-id="43826-222">If you would prefer to not enable connections to the Database Engine via the internet, choose one of the following options:</span></span>

* <span data-ttu-id="43826-223">**Local (sur la machine virtuelle uniquement)** pour autoriser les connexions à SQL Server uniquement depuis la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="43826-223">**Local (inside VM only)** to allow connections to SQL Server only from within the VM.</span></span>
* <span data-ttu-id="43826-224">**Privé (dans un réseau virtuel)** pour autoriser les connexions à SQL Server depuis des machines ou des services résidant dans le même réseau virtuel.</span><span class="sxs-lookup"><span data-stu-id="43826-224">**Private (within Virtual Network)** to allow connections to SQL Server from machines or services in the same virtual network.</span></span>

> [!NOTE]
> <span data-ttu-id="43826-225">L’image de machine virtuelle pour SQL Server Express Edition n’active pas automatiquement le protocole TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="43826-225">The virtual machine image for SQL Server Express edition does not automatically enable the TCP/IP protocol.</span></span> <span data-ttu-id="43826-226">Cela est vrai même pour les options de connectivité Public et Privé.</span><span class="sxs-lookup"><span data-stu-id="43826-226">This is true even for the Public and  Private connectivity options.</span></span> <span data-ttu-id="43826-227">Pour l’édition Express, vous devez utiliser le Gestionnaire de configuration de SQL Server pour [activer manuellement le protocole TCP/IP](#configure-sql-server-to-listen-on-the-tcp-protocol) après création de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="43826-227">For Express edition, you must use SQL Server Configuration Manager to [manually enable the TCP/IP protocol](#configure-sql-server-to-listen-on-the-tcp-protocol) after creating the VM.</span></span>
> 
> 

<span data-ttu-id="43826-228">En règle générale, améliorez la sécurité en choisissant la connectivité autorisée par votre scénario.</span><span class="sxs-lookup"><span data-stu-id="43826-228">In general, improve security by choosing the most restrictive connectivity that your scenario allows.</span></span> <span data-ttu-id="43826-229">Mais toutes les options sont sécurisables via les règles du groupe de sécurité réseau et l’authentification Windows/SQL.</span><span class="sxs-lookup"><span data-stu-id="43826-229">But all the options are securable through Network Security Group rules and SQL/Windows Authentication.</span></span>

<span data-ttu-id="43826-230">**port** est 1433.</span><span class="sxs-lookup"><span data-stu-id="43826-230">**Port** defaults to 1433.</span></span> <span data-ttu-id="43826-231">Vous pouvez spécifier un numéro de port différent.</span><span class="sxs-lookup"><span data-stu-id="43826-231">You can specify a different port number.</span></span>
<span data-ttu-id="43826-232">Pour plus d’informations, consultez [Se connecter à une machine virtuelle SQL Server (Resource Manager) | Microsoft Azure](virtual-machines-windows-sql-connect.md).</span><span class="sxs-lookup"><span data-stu-id="43826-232">For more information, see [Connect to a SQL Server Virtual Machine (Resource Manager) | Microsoft Azure](virtual-machines-windows-sql-connect.md).</span></span>

### <a name="authentication"></a><span data-ttu-id="43826-233">Authentification</span><span class="sxs-lookup"><span data-stu-id="43826-233">Authentication</span></span>
<span data-ttu-id="43826-234">Si vous avez besoin de l’authentification SQL Server, cliquez sur **Activer** under **Authentification SQL**.</span><span class="sxs-lookup"><span data-stu-id="43826-234">If you require SQL Server Authentication, click **Enable** under **SQL authentication**.</span></span>

![l’authentification SQL Server](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-authentication.png)

> [!NOTE]
> <span data-ttu-id="43826-236">Si vous envisagez d’accéder à SQL Server via Internet (par exemple, avec l’option Connectivité publique), vous devez activer l’authentification SQL ici.</span><span class="sxs-lookup"><span data-stu-id="43826-236">If you plan to access SQL Server over the internet (that is, the Public connectivity option), you must enable SQL authentication here.</span></span> <span data-ttu-id="43826-237">L’accès public à SQL Server requiert l’utilisation de l’authentification SQL.</span><span class="sxs-lookup"><span data-stu-id="43826-237">Public access to the SQL Server requires the use of SQL Authentication.</span></span>
> 
> 

<span data-ttu-id="43826-238">Si vous activez l’authentification SQL Server, spécifiez un **nom de connexion** et un **mot de passe**.</span><span class="sxs-lookup"><span data-stu-id="43826-238">If you enable SQL Server Authentication, specify a **Login name** and **Password**.</span></span> <span data-ttu-id="43826-239">Ce nom d’utilisateur est configuré en tant qu’identifiant d’authentification SQL Server et membre du rôle serveur fixe **sysadmin** .</span><span class="sxs-lookup"><span data-stu-id="43826-239">This user name is configured as a SQL Server Authentication login and member of the **sysadmin** fixed server role.</span></span> <span data-ttu-id="43826-240">Pour plus d’informations sur les modes d’authentification, voir [Choisir un mode d’authentification](http://msdn.microsoft.com/library/ms144284.aspx).</span><span class="sxs-lookup"><span data-stu-id="43826-240">For more information about Authentication Modes, see [Choose an Authentication Mode](http://msdn.microsoft.com/library/ms144284.aspx).</span></span>

<span data-ttu-id="43826-241">Si vous n’activez pas l’authentification SQL Server, vous pouvez utiliser le compte d’administrateur local sur la machine virtuelle pour vous connecter à l’instance SQL Server.</span><span class="sxs-lookup"><span data-stu-id="43826-241">If you do not enable SQL Server Authentication, then you can use the local Administrator account on the VM to connect to the SQL Server instance.</span></span>

### <a name="storage-configuration"></a><span data-ttu-id="43826-242">Configuration du stockage</span><span class="sxs-lookup"><span data-stu-id="43826-242">Storage configuration</span></span>
<span data-ttu-id="43826-243">Cliquez sur **Configuration du stockage** afin de spécifier les exigences de stockage.</span><span class="sxs-lookup"><span data-stu-id="43826-243">Click **Storage configuration** to specify the storage requirements.</span></span>

![Configuration du stockage SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-storage.png)

> [!NOTE]
> <span data-ttu-id="43826-245">Si vous sélectionnez stockage Standard, cette option n’est pas disponible.</span><span class="sxs-lookup"><span data-stu-id="43826-245">If you select Standard storage, this option is not available.</span></span> <span data-ttu-id="43826-246">L’optimisation du stockage automatique est disponible uniquement pour Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="43826-246">Automatic storage optimization is available only for Premium Storage.</span></span>
> 
> 

<span data-ttu-id="43826-247">Vous pouvez spécifier des exigences comme les opérations d’entrée/sortie par seconde (E/S par seconde), le débit en Mbit/s et la taille totale de stockage.</span><span class="sxs-lookup"><span data-stu-id="43826-247">You can specify requirements as input/output operations per second (IOPs), throughput in MB/s, and total storage size.</span></span> <span data-ttu-id="43826-248">Configurez ces valeurs en utilisant les échelles mobiles.</span><span class="sxs-lookup"><span data-stu-id="43826-248">Configure these values by using the sliding scales.</span></span> <span data-ttu-id="43826-249">Le portail calcule automatiquement le nombre de disques en fonction de ces exigences.</span><span class="sxs-lookup"><span data-stu-id="43826-249">The portal automatically calculates the number of disks based on these requirements.</span></span>

<span data-ttu-id="43826-250">Par défaut, Azure optimise le stockage pour 5 000 E/S par seconde, 200 Mbit/s et 1 To d’espace de stockage.</span><span class="sxs-lookup"><span data-stu-id="43826-250">By default, Azure optimizes the storage for 5000 IOPs, 200 MBs, and 1 TB of storage space.</span></span> <span data-ttu-id="43826-251">Vous pouvez modifier ces paramètres de stockage en fonction de la charge de travail.</span><span class="sxs-lookup"><span data-stu-id="43826-251">You can change these storage settings based on workload.</span></span> <span data-ttu-id="43826-252">Sous **Stockage optimisé pour**, sélectionnez l’une des options suivantes :</span><span class="sxs-lookup"><span data-stu-id="43826-252">Under **Storage optimized for**, select one of the following options:</span></span>

* <span data-ttu-id="43826-253">**Général** est le paramètre par défaut ; il prend en charge la plupart des charges de travail.</span><span class="sxs-lookup"><span data-stu-id="43826-253">**General** is the default setting and supports most workloads.</span></span>
* <span data-ttu-id="43826-254">**transactionnel** optimise le stockage pour les charges de travail OLTP de base de données traditionnelles.</span><span class="sxs-lookup"><span data-stu-id="43826-254">**Transactional** processing optimizes the storage for traditional database OLTP workloads.</span></span>
* <span data-ttu-id="43826-255">**Entreposage de données** optimise le stockage pour les charges de travail d’analyse et de création de rapports.</span><span class="sxs-lookup"><span data-stu-id="43826-255">**Data warehousing** optimizes the storage for analytic and reporting workloads.</span></span>

> [!NOTE]
> <span data-ttu-id="43826-256">Les limites supérieures sur les curseurs varient selon la taille de la machine virtuelle sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="43826-256">The upper limits on the sliders vary depending on your selected virtual machine size.</span></span>
> 
> 

### <a name="automated-patching"></a><span data-ttu-id="43826-257">Mise à jour corrective automatisée</span><span class="sxs-lookup"><span data-stu-id="43826-257">Automated patching</span></span>
<span data-ttu-id="43826-258">**Automated patching** est activée par défaut.</span><span class="sxs-lookup"><span data-stu-id="43826-258">**Automated patching** is enabled by default.</span></span> <span data-ttu-id="43826-259">La mise à jour corrective automatisée permet à Azure de corriger automatiquement SQL Server et le système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="43826-259">Automated patching allows Azure to automatically patch SQL Server and the operating system.</span></span> <span data-ttu-id="43826-260">Spécifiez un jour de la semaine, une heure et une durée pour la fenêtre de maintenance.</span><span class="sxs-lookup"><span data-stu-id="43826-260">Specify a day of the week, time, and duration for a maintenance window.</span></span> <span data-ttu-id="43826-261">Azure effectue la mise à jour corrective dans cette fenêtre de maintenance.</span><span class="sxs-lookup"><span data-stu-id="43826-261">Azure performs patching in this maintenance window.</span></span> <span data-ttu-id="43826-262">La planification de la fenêtre de maintenance utilise les paramètres régionaux de la machine virtuelle pour l’heure.</span><span class="sxs-lookup"><span data-stu-id="43826-262">The maintenance window schedule uses the VM locale for time.</span></span> <span data-ttu-id="43826-263">Si vous ne souhaitez pas qu’Azure corrige automatiquement SQL Server et le système d’exploitation, cliquez sur **Désactiver**.</span><span class="sxs-lookup"><span data-stu-id="43826-263">If you do not want Azure to automatically patch SQL Server and the operating system, click **Disable**.</span></span>  

![Mise à jour corrective automatisée SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-patching.png)

<span data-ttu-id="43826-265">Pour plus d’informations, consultez [Mise à jour corrective automatisée pour SQL Server dans les machines virtuelles Azure](virtual-machines-windows-sql-automated-patching.md).</span><span class="sxs-lookup"><span data-stu-id="43826-265">For more information, see [Automated Patching for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-patching.md).</span></span>

### <a name="automated-backup"></a><span data-ttu-id="43826-266">Sauvegarde automatisée</span><span class="sxs-lookup"><span data-stu-id="43826-266">Automated backup</span></span>
<span data-ttu-id="43826-267">Activez les sauvegardes automatiques de base de données pour toutes les bases de données sous **Sauvegarde automatisée**.</span><span class="sxs-lookup"><span data-stu-id="43826-267">Enable automatic database backups for all databases under **Automated backup**.</span></span> <span data-ttu-id="43826-268">La sauvegarde automatisée est désactivée par défaut.</span><span class="sxs-lookup"><span data-stu-id="43826-268">Automated backup is disabled by default.</span></span>

<span data-ttu-id="43826-269">Lorsque vous activez la sauvegarde SQL automatisée, vous pouvez configurer les paramètres suivants :</span><span class="sxs-lookup"><span data-stu-id="43826-269">When you enable SQL automated backup, you can configure the following settings:</span></span>

* <span data-ttu-id="43826-270">Période de rétention (jours) pour les sauvegardes</span><span class="sxs-lookup"><span data-stu-id="43826-270">Retention period (days) for backups</span></span>
* <span data-ttu-id="43826-271">Compte de stockage à utiliser pour les sauvegardes</span><span class="sxs-lookup"><span data-stu-id="43826-271">Storage account to use for backups</span></span>
* <span data-ttu-id="43826-272">Option de chiffrement et mot de passe pour les sauvegardes</span><span class="sxs-lookup"><span data-stu-id="43826-272">Encryption option and password for backups</span></span>
* <span data-ttu-id="43826-273">Sauvegarde des bases de données système</span><span class="sxs-lookup"><span data-stu-id="43826-273">Backup system databases</span></span>
* <span data-ttu-id="43826-274">Configuration de la planification de sauvegarde</span><span class="sxs-lookup"><span data-stu-id="43826-274">Configure backup schedule</span></span>

<span data-ttu-id="43826-275">Pour chiffrer la sauvegarde, cliquez sur **Activer**.</span><span class="sxs-lookup"><span data-stu-id="43826-275">To encrypt the backup, click **Enable**.</span></span> <span data-ttu-id="43826-276">Spécifiez ensuite le **mot de passe**.</span><span class="sxs-lookup"><span data-stu-id="43826-276">Then specify the **Password**.</span></span> <span data-ttu-id="43826-277">Azure crée un certificat pour chiffrer les sauvegardes et utilise le mot de passe pour protéger ce certificat.</span><span class="sxs-lookup"><span data-stu-id="43826-277">Azure creates a certificate to encrypt the backups and uses the specified password to protect that certificate.</span></span>

![Sauvegarde automatisée SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-autobackup2.png)

 <span data-ttu-id="43826-279">Pour plus d’informations, voir [Sauvegarde automatisée pour SQL Server dans les machines virtuelles Azure](virtual-machines-windows-sql-automated-backup.md).</span><span class="sxs-lookup"><span data-stu-id="43826-279">For more information, see [Automated Backup for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span></span>

### <a name="azure-key-vault-integration"></a><span data-ttu-id="43826-280">Intégration du coffre de clés Azure</span><span class="sxs-lookup"><span data-stu-id="43826-280">Azure Key Vault integration</span></span>
<span data-ttu-id="43826-281">Pour stocker des clés secrètes de sécurité dans Azure pour le chiffrement, cliquez sur **Azure Key Vault Integration**, puis sur **Activer**.</span><span class="sxs-lookup"><span data-stu-id="43826-281">To store security secrets in Azure for encryption, click **Azure key vault integration** and click **Enable**.</span></span>

![Intégration du coffre de clés Azure SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-akv.png)

<span data-ttu-id="43826-283">Le tableau suivant répertorie les paramètres requis pour configurer l’intégration du coffre de clés Azure.</span><span class="sxs-lookup"><span data-stu-id="43826-283">The following table lists the parameters required to configure Azure Key Vault Integration.</span></span>

| <span data-ttu-id="43826-284">PARAMÈTRE</span><span class="sxs-lookup"><span data-stu-id="43826-284">PARAMETER</span></span> | <span data-ttu-id="43826-285">Description</span><span class="sxs-lookup"><span data-stu-id="43826-285">DESCRIPTION</span></span> | <span data-ttu-id="43826-286">EXEMPLE</span><span class="sxs-lookup"><span data-stu-id="43826-286">EXAMPLE</span></span> |
| --- | --- | --- |
| <span data-ttu-id="43826-287">**URL du coffre de clés**</span><span class="sxs-lookup"><span data-stu-id="43826-287">**Key Vault URL**</span></span> |<span data-ttu-id="43826-288">L’emplacement du coffre de clés.</span><span class="sxs-lookup"><span data-stu-id="43826-288">The location of the key vault.</span></span> |<span data-ttu-id="43826-289">https://contosokeyvault.vault.azure.net/</span><span class="sxs-lookup"><span data-stu-id="43826-289">https://contosokeyvault.vault.azure.net/</span></span> |
| <span data-ttu-id="43826-290">**Nom du principal**</span><span class="sxs-lookup"><span data-stu-id="43826-290">**Principal name**</span></span> |<span data-ttu-id="43826-291">Nom du principal du service Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="43826-291">Azure Active Directory service principal name.</span></span> <span data-ttu-id="43826-292">Également appelé ID client.</span><span class="sxs-lookup"><span data-stu-id="43826-292">This name is also referred to as the Client ID.</span></span> |<span data-ttu-id="43826-293">fde2b411-33d5-4e11-af04eb07b669ccf2</span><span class="sxs-lookup"><span data-stu-id="43826-293">fde2b411-33d5-4e11-af04eb07b669ccf2</span></span> |
| <span data-ttu-id="43826-294">**Secret du principal**</span><span class="sxs-lookup"><span data-stu-id="43826-294">**Principal secret**</span></span> |<span data-ttu-id="43826-295">Secret du principal du service Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="43826-295">Azure Active Directory service principal secret.</span></span> <span data-ttu-id="43826-296">Également appelé Secret client.</span><span class="sxs-lookup"><span data-stu-id="43826-296">This secret is also referred to as the Client Secret.</span></span> |<span data-ttu-id="43826-297">9VTJSQwzlFepD8XODnzy8n2V01Jd8dAjwm/azF1XDKM=</span><span class="sxs-lookup"><span data-stu-id="43826-297">9VTJSQwzlFepD8XODnzy8n2V01Jd8dAjwm/azF1XDKM=</span></span> |
| <span data-ttu-id="43826-298">**Nom des informations d’identification**</span><span class="sxs-lookup"><span data-stu-id="43826-298">**Credential name**</span></span> |<span data-ttu-id="43826-299">**Nom d’identification**: le module d’intégration du coffre de clés Azure crée des informations d’identification dans SQL Server, permettant ainsi à la machine virtuelle d’accéder au coffre de clés.</span><span class="sxs-lookup"><span data-stu-id="43826-299">**Credential name**: AKV Integration creates a credential within SQL Server, allowing the VM to have access to the key vault.</span></span> <span data-ttu-id="43826-300">Choisissez un nom pour cette identification.</span><span class="sxs-lookup"><span data-stu-id="43826-300">Choose a name for this credential.</span></span> |<span data-ttu-id="43826-301">mycred1</span><span class="sxs-lookup"><span data-stu-id="43826-301">mycred1</span></span> |

<span data-ttu-id="43826-302">Pour plus d’informations, consultez [Configurer l’intégration d’Azure Key Vault pour SQL Server sur des machines virtuelles Azure](virtual-machines-windows-ps-sql-keyvault.md).</span><span class="sxs-lookup"><span data-stu-id="43826-302">For more information, see [Configure Azure Key Vault Integration for SQL Server on Azure VMs](virtual-machines-windows-ps-sql-keyvault.md).</span></span>

<span data-ttu-id="43826-303">Une fois la configuration des paramètres de SQL Server terminée, cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="43826-303">When you are finished configuring SQL Server settings, click **OK**.</span></span>

### <a name="r-services"></a><span data-ttu-id="43826-304">R Services</span><span class="sxs-lookup"><span data-stu-id="43826-304">R services</span></span>
<span data-ttu-id="43826-305">Vous pouvez activer [SQL Server R Services](https://msdn.microsoft.com/library/mt604845.aspx).</span><span class="sxs-lookup"><span data-stu-id="43826-305">You can enable [SQL Server R Services](https://msdn.microsoft.com/library/mt604845.aspx).</span></span> <span data-ttu-id="43826-306">SQL Server R Services vous permet d’exécuter des analyses avancées avec SQL Server 2016.</span><span class="sxs-lookup"><span data-stu-id="43826-306">SQL Server R Services enables you to use advanced analytics with SQL Server 2016.</span></span> <span data-ttu-id="43826-307">Cliquez sur **Activer** on the **SQL Server Settings** .</span><span class="sxs-lookup"><span data-stu-id="43826-307">Click **Enable** on the **SQL Server Settings** blade.</span></span>

![Activer SQL Server R Services](./media/virtual-machines-windows-portal-sql-server-provision/azure-vm-sql-server-r-services.png)


## <a name="5-review-the-summary"></a><span data-ttu-id="43826-309">5. Passer en revue le résumé</span><span class="sxs-lookup"><span data-stu-id="43826-309">5. Review the summary</span></span>
<span data-ttu-id="43826-310">Passez en revue le résumé dans le panneau **Résumé** correspondant et cliquez sur **OK** pour créer l’instance SQL Server, le groupe de ressources et les ressources spécifiées pour cette machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="43826-310">On the **Summary** blade, review the summary and click **OK** to create SQL Server, resource group, and resources specified for this VM.</span></span>

<span data-ttu-id="43826-311">Vous pouvez surveiller le déploiement à partir du portail Azure.</span><span class="sxs-lookup"><span data-stu-id="43826-311">You can monitor the deployment from the azure portal.</span></span> <span data-ttu-id="43826-312">Le bouton **Notifications** en haut de l’écran affiche l’état de base du déploiement.</span><span class="sxs-lookup"><span data-stu-id="43826-312">The **Notifications** button at the top of the screen shows basic status of the deployment.</span></span>

> [!NOTE]
> <span data-ttu-id="43826-313">Afin de vous donner une idée des temps de déploiement, nous avons déployé une machine virtuelle SQL dans les États-Unis de l’Est avec les paramètres par défaut.</span><span class="sxs-lookup"><span data-stu-id="43826-313">To provide you with an idea on deployment times, I deployed a SQL VM to the East US region with default settings.</span></span> <span data-ttu-id="43826-314">Ce déploiement de test a duré 26 minutes au total.</span><span class="sxs-lookup"><span data-stu-id="43826-314">This test deployment took a total of 26 minutes to complete.</span></span> <span data-ttu-id="43826-315">Mais cette durée peut varier en fonction de votre région et des paramètres sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="43826-315">But you might experience a faster or slower deployment time based on your region and selected settings.</span></span>
> 
> 

## <a name="open-the-vm-with-remote-desktop"></a><span data-ttu-id="43826-316">Ouvrir la machine virtuelle à l’aide du Bureau à distance</span><span class="sxs-lookup"><span data-stu-id="43826-316">Open the VM with Remote Desktop</span></span>
<span data-ttu-id="43826-317">Procédez comme suit pour vous connecter à la machine virtuelle à l’aide du Bureau à distance.</span><span class="sxs-lookup"><span data-stu-id="43826-317">Use the following steps to connect to the virtual machine with Remote Desktop:</span></span>

1. <span data-ttu-id="43826-318">Une fois la machine virtuelle Azure créée, son icône apparaît dans le tableau de bord Azure.</span><span class="sxs-lookup"><span data-stu-id="43826-318">After the Azure VM is built, the icon for the VM appears on your Azure dashboard.</span></span> <span data-ttu-id="43826-319">Vous pouvez également la localiser en parcourant vos machines virtuelles existantes.</span><span class="sxs-lookup"><span data-stu-id="43826-319">You can also find it by browsing your existing virtual machines.</span></span> <span data-ttu-id="43826-320">Cliquez sur votre nouvelle machine virtuelle SQL.</span><span class="sxs-lookup"><span data-stu-id="43826-320">Click on your new SQL virtual machine.</span></span> <span data-ttu-id="43826-321">Un panneau **Machine virtuelle** affiche les détails de votre machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="43826-321">A **Virtual machine** blade displays your virtual machine details.</span></span>
2. <span data-ttu-id="43826-322">En haut du panneau **Machine virtuelle**, cliquez sur **Connecter**.</span><span class="sxs-lookup"><span data-stu-id="43826-322">At the top of the **Virtual machine** blade, click **Connect**.</span></span>
3. <span data-ttu-id="43826-323">Le navigateur télécharge un fichier RDP pour la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="43826-323">The browser downloads an RDP file for the VM.</span></span> <span data-ttu-id="43826-324">Ouvrez le fichier RDP.</span><span class="sxs-lookup"><span data-stu-id="43826-324">Open the RDP file.</span></span>
    <span data-ttu-id="43826-325">![Connexion à la machine virtuelle SQL à l’aide du Bureau à distance](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-vm-remote-desktop.png)</span><span class="sxs-lookup"><span data-stu-id="43826-325">![Remote Desktop to SQL VM](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-vm-remote-desktop.png)</span></span>
4. <span data-ttu-id="43826-326">La connexion Bureau à distance vous informe que le serveur de publication de cette connexion à distance n’est pas identifiable.</span><span class="sxs-lookup"><span data-stu-id="43826-326">The Remote Desktop Connection notifies you that the publisher of this remote connection cannot be identified.</span></span> <span data-ttu-id="43826-327">Cliquez sur **Connect** pour continuer.</span><span class="sxs-lookup"><span data-stu-id="43826-327">Click **Connect** to continue.</span></span>
5. <span data-ttu-id="43826-328">Dans la boîte de dialogue **Sécurité de Windows**, cliquez sur **Utiliser un autre compte**.</span><span class="sxs-lookup"><span data-stu-id="43826-328">In the **Windows Security** dialog, click **Use another account**.</span></span>
6. <span data-ttu-id="43826-329">Pour **Nom d’utilisateur**, saisissez le **\<nom d’utilisateur>** où <user name> est le nom d’utilisateur spécifié lors de la configuration de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="43826-329">For **User name** type **\<user name>**, where <user name> is the user name that you specified when you configured the VM.</span></span> <span data-ttu-id="43826-330">Vous devez ajouter une barre oblique inverse avant le nom.</span><span class="sxs-lookup"><span data-stu-id="43826-330">You have to add an initial backslash before the name.</span></span>
7. <span data-ttu-id="43826-331">Tapez le **mot de passe** que vous avez configuré précédemment pour cette machine virtuelle, puis cliquez sur **OK** pour vous connecter.</span><span class="sxs-lookup"><span data-stu-id="43826-331">Type the **Password** that you previously configured for this VM, and then click **OK** to connect.</span></span>
8. <span data-ttu-id="43826-332">Si une autre boîte de dialogue **Connexion Bureau à distance** vous demande si vous souhaitez vous connecter, cliquez sur **Oui**.</span><span class="sxs-lookup"><span data-stu-id="43826-332">If another **Remote Desktop Connection** dialog asks you whether to connect, click **Yes**.</span></span>

<span data-ttu-id="43826-333">Une fois que vous vous connectez à la machine virtuelle SQL Server, vous pouvez lancer SQL Server Management Studio et vous connecter avec l’authentification Windows à l’aide de vos informations d’identification d’administrateur local.</span><span class="sxs-lookup"><span data-stu-id="43826-333">After you connect to the SQL Server virtual machine, you can launch SQL Server Management Studio and connect with Windows Authentication using your local administrator credentials.</span></span> <span data-ttu-id="43826-334">Si vous avez activé l’authentification SQL Server, vous pouvez également vous connecter avec l’authentification SQL à l’aide de la connexion SQL et du mot de passe configuré lors de l’approvisionnement.</span><span class="sxs-lookup"><span data-stu-id="43826-334">If you enabled SQL Server Authentication, you can also connect with SQL Authentication using the SQL login and password you configured during provisioning.</span></span>

<span data-ttu-id="43826-335">L’accès à la machine permet de modifier directement les paramètres SQL Server et ceux de la machine en fonction de vos besoins.</span><span class="sxs-lookup"><span data-stu-id="43826-335">Access to the machine enables you to directly change machine and SQL Server settings based on your requirements.</span></span> <span data-ttu-id="43826-336">Par exemple, vous pourriez configurer les paramètres du pare-feu ou modifier les paramètres de configuration SQL Server.</span><span class="sxs-lookup"><span data-stu-id="43826-336">For example, you could configure the firewall settings or change SQL Server configuration settings.</span></span>

## <a name="connect-to-sql-server-remotely"></a><span data-ttu-id="43826-337">Se connecter à SQL Server à distance</span><span class="sxs-lookup"><span data-stu-id="43826-337">Connect to SQL Server remotely</span></span>
<span data-ttu-id="43826-338">Dans ce didacticiel, nous avons sélectionné l’accès **Public** pour la machine virtuelle et **l’authentification SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="43826-338">In this tutorial, we selected **Public** access for the virtual machine and **SQL Server Authentication**.</span></span> <span data-ttu-id="43826-339">Ces paramètres ont configuré automatiquement la machine virtuelle pour autoriser les connexions SQL Server à partir de n’importe quel client sur internet (en supposant qu’il dispose de la connexion SQL qui convient).</span><span class="sxs-lookup"><span data-stu-id="43826-339">These settings automatically configured the virtual machine to allow SQL Server connections from any client over the internet (assuming they have the correct SQL login).</span></span>

> [!NOTE]
> <span data-ttu-id="43826-340">Si vous n’avez pas sélectionné Public lors de l’approvisionnement, des étapes supplémentaires sont nécessaires pour accéder à votre instance SQL Server via Internet.</span><span class="sxs-lookup"><span data-stu-id="43826-340">If you did not select Public during provisioning, then extra steps are required to access your SQL Server instance over the internet.</span></span> <span data-ttu-id="43826-341">Pour plus d’informations, consultez [Se connecter à une machine virtuelle SQL Server](virtual-machines-windows-sql-connect.md).</span><span class="sxs-lookup"><span data-stu-id="43826-341">For more information, see  [Connect to a SQL Server Virtual Machine](virtual-machines-windows-sql-connect.md).</span></span>
> 
> 

<span data-ttu-id="43826-342">Les sections suivantes montrent comment se connecter à l’instance SQL Server sur votre machine virtuelle à partir d’une autre machine via Internet.</span><span class="sxs-lookup"><span data-stu-id="43826-342">The following sections show how to connect to your SQL Server instance on your VM from a different computer over the internet.</span></span>

> [!INCLUDE [Connect to SQL Server in a VM Resource Manager](../../../../includes/virtual-machines-sql-server-connection-steps-resource-manager.md)]
> 
> 

## <a name="next-steps"></a><span data-ttu-id="43826-343">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="43826-343">Next Steps</span></span>
<span data-ttu-id="43826-344">Pour en savoir plus sur l’utilisation de SQL Server dans Azure, consultez [Présentation de SQL Server sur les machines virtuelles](virtual-machines-windows-sql-server-iaas-overview.md) Azure et le [Forum Aux Questions](virtual-machines-windows-sql-server-iaas-faq.md) associé.</span><span class="sxs-lookup"><span data-stu-id="43826-344">For other information about using SQL Server in Azure, see [SQL Server on Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) and the [Frequently Asked Questions](virtual-machines-windows-sql-server-iaas-faq.md).</span></span>

<span data-ttu-id="43826-345">Pour une présentation vidéo de SQL Server sur les machines virtuelles Azure, regardez [Azure VM is the best platform for SQL Server 2016](https://channel9.msdn.com/Events/DataDriven/SQLServer2016/Azure-VM-is-the-best-platform-for-SQL-Server-2016)(Machines virtuelles Azure : Une excellente plateforme pour SQL Server 2016).</span><span class="sxs-lookup"><span data-stu-id="43826-345">For a video overview of SQL Server on Azure Virtual Machines, watch [Azure VM is the best platform for SQL Server 2016](https://channel9.msdn.com/Events/DataDriven/SQLServer2016/Azure-VM-is-the-best-platform-for-SQL-Server-2016).</span></span>

<span data-ttu-id="43826-346">[Découvrez le parcours d’apprentissage](https://azure.microsoft.com/documentation/learning-paths/sql-azure-vm/) pour SQL Server sur les machines virtuelles Azure.</span><span class="sxs-lookup"><span data-stu-id="43826-346">[Explore the Learning Path](https://azure.microsoft.com/documentation/learning-paths/sql-azure-vm/) for SQL Server on Azure virtual machines.</span></span>

