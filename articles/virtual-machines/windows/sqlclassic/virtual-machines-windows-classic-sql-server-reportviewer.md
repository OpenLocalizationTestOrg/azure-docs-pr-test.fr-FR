---
title: Utilisation de ReportViewer sur un site web | Microsoft Docs
description: "Cette rubrique explique comment développer un site web Microsoft Azure à l’aide du contrôle ReportViewer de Visual Studio qui affiche un rapport stocké sur une machine virtuelle Microsoft Azure."
services: virtual-machines-windows
documentationcenter: na
author: guyinacube
manager: erikre
editor: monicar
tags: azure-service-management
ms.assetid: 78b76318-d9bf-48ef-9d9e-d1b7d8cf3042
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 01/11/2017
ms.author: asaxton
ms.openlocfilehash: e54c3bc484b0b3b81cc495e54c17e8ef448abe91
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/03/2017
---
# <a name="use-reportviewer-in-a-web-site-hosted-in-azure"></a><span data-ttu-id="2f15b-103">Utilisation de ReportViewer sur un site web hébergé dans Azure</span><span class="sxs-lookup"><span data-stu-id="2f15b-103">Use ReportViewer in a Web Site Hosted in Azure</span></span>
> [!IMPORTANT] 
> <span data-ttu-id="2f15b-104">Azure dispose de deux modèles de déploiement différents pour créer et utiliser des ressources : [le déploiement Resource Manager et le déploiement classique](../../../azure-resource-manager/resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="2f15b-104">Azure has two different deployment models for creating and working with resources: [Resource Manager and Classic](../../../azure-resource-manager/resource-manager-deployment-model.md).</span></span> <span data-ttu-id="2f15b-105">Cet article traite du modèle de déploiement classique.</span><span class="sxs-lookup"><span data-stu-id="2f15b-105">This article covers using the Classic deployment model.</span></span> <span data-ttu-id="2f15b-106">Pour la plupart des nouveaux déploiements, Microsoft recommande d’utiliser le modèle Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="2f15b-106">Microsoft recommends that most new deployments use the Resource Manager model.</span></span>

<span data-ttu-id="2f15b-107">Vous pouvez créer un site web Microsoft Azure à l’aide du contrôle Visual Studio ReportViewer qui affiche un rapport stocké sur une machine virtuelle Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="2f15b-107">You can build a Microsoft Azure Web site with the Visual Studio ReportViewer control that displays a report stored on an Microsoft Azure Virtual Machine.</span></span> <span data-ttu-id="2f15b-108">Le contrôle ReportViewer se trouve dans une application web que vous créez à l’aide du modèle d’application web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="2f15b-108">The ReportViewer control is in a Web application that you build using the ASP.NET Web application template.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="2f15b-109">Les modèles d’application web MVC ASP.NET ne prennent pas en charge le contrôle ReportViewer.</span><span class="sxs-lookup"><span data-stu-id="2f15b-109">The ASP.NET MVC Web Application templates do not support the ReportViewer control.</span></span>

<span data-ttu-id="2f15b-110">Pour incorporer ReportViewer dans votre site web Microsoft Azure, vous devez effectuer les tâches suivantes.</span><span class="sxs-lookup"><span data-stu-id="2f15b-110">To incorporate ReportViewer into your Microsoft Azure Web site, you need to complete the following tasks.</span></span>

* <span data-ttu-id="2f15b-111">**Ajout** d’assemblys au package de déploiement</span><span class="sxs-lookup"><span data-stu-id="2f15b-111">**Add** Assemblies to the Deployment Package</span></span>
* <span data-ttu-id="2f15b-112">**Configuration** de l’authentification et de l’autorisation</span><span class="sxs-lookup"><span data-stu-id="2f15b-112">**Configure** Authentication and Authorization</span></span>
* <span data-ttu-id="2f15b-113">**Publication** de l’application web ASP.NET sur Azure</span><span class="sxs-lookup"><span data-stu-id="2f15b-113">**Publish** the ASP.NET Web application to Azure</span></span>

## <a name="prerequisites"></a><span data-ttu-id="2f15b-114">Configuration requise</span><span class="sxs-lookup"><span data-stu-id="2f15b-114">Prerequisites</span></span>
<span data-ttu-id="2f15b-115">Consultez la section « Instructions générales et meilleures pratiques » dans [Business Intelligence de SQL Server dans les machines virtuelles Azure](../classic/ps-sql-bi.md).</span><span class="sxs-lookup"><span data-stu-id="2f15b-115">Review the “General recommendation and best practices” section in [SQL Server Business Intelligence in Azure Virtual Machines](../classic/ps-sql-bi.md).</span></span>

> [!NOTE]
> <span data-ttu-id="2f15b-116">Les contrôles ReportViewer sont fournis avec Visual Studio Standard Edition ou une version supérieure.</span><span class="sxs-lookup"><span data-stu-id="2f15b-116">ReportViewer controls are shipped with Visual Studio, Standard Edition or above.</span></span> <span data-ttu-id="2f15b-117">Si vous utilisez Web Developer Express Edition, vous devez installer [MICROSOFT REPORT VIEWER 2012 RUNTIME](https://www.microsoft.com/download/details.aspx?id=35747) pour avoir accès aux fonctions d’exécution de ReportViewer.</span><span class="sxs-lookup"><span data-stu-id="2f15b-117">If you are using the Web Developer Express Edition, you must install the [MICROSOFT REPORT VIEWER 2012 RUNTIME](https://www.microsoft.com/download/details.aspx?id=35747) to use the ReportViewer runtime features.</span></span>
> 
> <span data-ttu-id="2f15b-118">ReportViewer configuré en mode de traitement local n’est pas pris en charge dans Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="2f15b-118">ReportViewer configured in local processing mode is not supported in Microsoft Azure.</span></span>

## <a name="adding-assemblies-to-the-deployment-package"></a><span data-ttu-id="2f15b-119">Ajout d’assemblys au package de déploiement</span><span class="sxs-lookup"><span data-stu-id="2f15b-119">Adding Assemblies to the Deployment Package</span></span>
<span data-ttu-id="2f15b-120">Lorsque vous hébergez votre application ASP.NET localement, les assemblys ReportViewer sont généralement installés directement dans le Global Assembly Cache (GAC) du serveur IIS lors de l’installation de Visual Studio, et sont accessibles directement par l’application.</span><span class="sxs-lookup"><span data-stu-id="2f15b-120">When you host your ASP.NET application on-premises, the ReportViewer assemblies are usually installed directly in the global assembly cache (GAC) of the IIS server during Visual Studio installation, and can be accessed directly by the application.</span></span> <span data-ttu-id="2f15b-121">Toutefois, lorsque vous hébergez votre application ASP.NET dans le cloud, Microsoft Azure n’autorise aucune installation dans le GAC, de sorte que vous devez vous assurer que les assemblys ReportViewer sont disponibles en local pour votre application.</span><span class="sxs-lookup"><span data-stu-id="2f15b-121">However, when you host your ASP.NET application in the cloud, Microsoft Azure does not allow anything to be installed into the GAC, so you must make sure the ReportViewer assemblies are available locally for your application.</span></span> <span data-ttu-id="2f15b-122">Pour cela, vous pouvez leur ajouter des références dans votre projet et les configurer pour une copie en local.</span><span class="sxs-lookup"><span data-stu-id="2f15b-122">You can do this by adding references to them in your project and configure them to be copied locally.</span></span>

<span data-ttu-id="2f15b-123">En mode de traitement à distance, le contrôle ReportViewer utilise les assemblys suivants :</span><span class="sxs-lookup"><span data-stu-id="2f15b-123">In remote processing mode, the ReportViewer control uses the following assemblies:</span></span>

* <span data-ttu-id="2f15b-124">**Microsoft.ReportViewer.WebForms.dll**: contient le code ReportViewer dont vous avez besoin pour l’utilisation de ReportViewer dans votre page.</span><span class="sxs-lookup"><span data-stu-id="2f15b-124">**Microsoft.ReportViewer.WebForms.dll**: Contains the ReportViewer code, which you need to use ReportViewer in your page.</span></span> <span data-ttu-id="2f15b-125">Une référence pour cet assembly est ajoutée à votre projet lors de la suppression d’un contrôle ReportViewer dans une page ASP.NET de votre projet.</span><span class="sxs-lookup"><span data-stu-id="2f15b-125">A reference for this assembly is added to your project when you drop a ReportViewer control onto an ASP.NET page in your project.</span></span>
* <span data-ttu-id="2f15b-126">**Microsoft.ReportViewer.Common.dll**: contient les classes utilisées par le contrôle ReportViewer au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="2f15b-126">**Microsoft.ReportViewer.Common.dll**: Contains classes used by the ReportViewer control at run time.</span></span> <span data-ttu-id="2f15b-127">Il n’est pas automatiquement ajouté à votre projet.</span><span class="sxs-lookup"><span data-stu-id="2f15b-127">It is not automatically added to your project.</span></span>

### <a name="to-add-a-reference-to-microsoftreportviewercommon"></a><span data-ttu-id="2f15b-128">Pour ajouter une référence à Microsoft.ReportViewer.Common</span><span class="sxs-lookup"><span data-stu-id="2f15b-128">To add a reference to Microsoft.ReportViewer.Common</span></span>
* <span data-ttu-id="2f15b-129">Cliquez avec le bouton droit sur le nœud **Références** de votre projet, sélectionnez **Ajouter une référence**, sélectionnez l’assembly dans l’onglet .NET, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="2f15b-129">Right-click your project’s **References** node and select **Add Reference**, select the assembly in the .NET tab, and click **OK**.</span></span>

### <a name="to-make-the-assemblies-locally-accessible-by-your-aspnet-application"></a><span data-ttu-id="2f15b-130">Pour rendre les assemblys accessibles en local par votre application ASP.NET</span><span class="sxs-lookup"><span data-stu-id="2f15b-130">To make the assemblies locally accessible by your ASP.NET application</span></span>
1. <span data-ttu-id="2f15b-131">Dans le dossier **Références** , cliquez sur l’assembly Microsoft.ReportViewer.Common de sorte que ses propriétés s’affichent dans le volet Propriétés.</span><span class="sxs-lookup"><span data-stu-id="2f15b-131">In the **References** folder, click the Microsoft.ReportViewer.Common assembly so that its properties appear in the Properties pane.</span></span>
2. <span data-ttu-id="2f15b-132">Dans le volet Propriétés, affectez à **Copy Local** la valeur True.</span><span class="sxs-lookup"><span data-stu-id="2f15b-132">In the Properties pane, set **Copy Local** to True.</span></span>
3. <span data-ttu-id="2f15b-133">Répétez les étapes 1 et 2 pour Microsoft.ReportViewer.WebForms.</span><span class="sxs-lookup"><span data-stu-id="2f15b-133">Repeat steps 1 and 2 for Microsoft.ReportViewer.WebForms.</span></span>

### <a name="to-get-reportviewer-language-pack"></a><span data-ttu-id="2f15b-134">Pour obtenir le module linguistique ReportViewer</span><span class="sxs-lookup"><span data-stu-id="2f15b-134">To get ReportViewer Language Pack</span></span>
1. <span data-ttu-id="2f15b-135">Installez le package redistribuable Microsoft Report Viewer 2012 Runtime approprié à partir du [Centre de téléchargement Microsoft](http://go.microsoft.com/fwlink/?LinkId=317386).</span><span class="sxs-lookup"><span data-stu-id="2f15b-135">Install the appropriate Microsoft Report Viewer 2012 Runtime redistributable package from [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=317386).</span></span>
2. <span data-ttu-id="2f15b-136">Sélectionnez la langue dans la liste déroulante afin que la page soit redirigée vers la page du Centre de téléchargement correspondante.</span><span class="sxs-lookup"><span data-stu-id="2f15b-136">Select the language from the dropdown list and the page gets redirected to the corresponding download center page.</span></span>
3. <span data-ttu-id="2f15b-137">Cliquez sur **Télécharger** pour commencer le téléchargement du fichier ReportViewerLP.exe.</span><span class="sxs-lookup"><span data-stu-id="2f15b-137">Click **Download** to start the download of ReportViewerLP.exe.</span></span>
4. <span data-ttu-id="2f15b-138">Après avoir téléchargé ReportViewerLP.exe, cliquez sur **Exécuter** pour une installation immédiate, ou cliquez sur **Enregistrer** pour enregistrer le fichier sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="2f15b-138">After you download ReportViewerLP.exe, click **Run** to install immediately, or click **Save** to save it to your computer.</span></span> <span data-ttu-id="2f15b-139">Si vous cliquez sur **Enregistrer**, n’oubliez pas le nom du dossier dans lequel vous enregistrez le fichier.</span><span class="sxs-lookup"><span data-stu-id="2f15b-139">If you click **Save**, remember the name of the folder where you save the file.</span></span>
5. <span data-ttu-id="2f15b-140">Recherchez le dossier d’enregistrement du fichier.</span><span class="sxs-lookup"><span data-stu-id="2f15b-140">Locate the folder where you saved the file.</span></span> <span data-ttu-id="2f15b-141">Cliquez avec le bouton droit sur ReportViewerLP.exe, cliquez sur **Exécuter en tant qu’administrateur**, puis sur **Oui**.</span><span class="sxs-lookup"><span data-stu-id="2f15b-141">Right-click ReportViewerLP.exe, click **Run as administrator**, and then click **Yes**.</span></span>
6. <span data-ttu-id="2f15b-142">Après avoir exécuté ReportViewerLP.exe, le dossier c:\windows\assembly contient les fichiers de ressources **Microsoft.ReportViewer.Webforms.Resources** et **Microsoft.ReportViewer.Common.Resources**.</span><span class="sxs-lookup"><span data-stu-id="2f15b-142">After running ReportViewerLP.exe, you will see the c:\windows\assembly has the resource files **Microsoft.ReportViewer.Webforms.Resources** and **Microsoft.ReportViewer.Common.Resources**.</span></span>

### <a name="to-configure-for-localized-reportviewer-control"></a><span data-ttu-id="2f15b-143">Pour configurer le contrôle ReportViewer localisé</span><span class="sxs-lookup"><span data-stu-id="2f15b-143">To configure for localized ReportViewer control</span></span>
1. <span data-ttu-id="2f15b-144">Téléchargez et installez le package redistribuable Microsoft Report Viewer 2012 Runtime en suivant les instructions ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="2f15b-144">Download and install the Microsoft Report Viewer 2012 Runtime redistributable package by following the above specified instructions.</span></span>
2. <span data-ttu-id="2f15b-145">Créez le dossier <language> dans le projet, puis copiez les fichiers d’assembly de ressources associés dans celui-ci.</span><span class="sxs-lookup"><span data-stu-id="2f15b-145">Create <language> folder in the project and copy the associated resource assembly files there.</span></span> <span data-ttu-id="2f15b-146">Les fichiers d’assembly de ressources à copier sont les suivants : **Microsoft.ReportViewer.Webforms.Resources.dll** et **Microsoft.ReportViewer.Common.Resources.dll**. Sélectionnez les fichiers d’assembly de ressources, puis, dans le volet Propriétés, affectez la valeur **Toujours copier** à **Copier dans le répertoire de sortie**.</span><span class="sxs-lookup"><span data-stu-id="2f15b-146">The resource assembly files to be copied are: **Microsoft.ReportViewer.Webforms.Resources.dll** and **Microsoft.ReportViewer.Common.Resources.dll**.Select the resource assembly files, and in the Properties pane, set **Copy to Output Directory** to “**Copy always**”.</span></span>
3. <span data-ttu-id="2f15b-147">Définissez la culture et la culture de l’interface utilisateur pour le projet web.</span><span class="sxs-lookup"><span data-stu-id="2f15b-147">Set the Culture & UICulture for the web project.</span></span> <span data-ttu-id="2f15b-148">Pour plus d’informations sur la définition de la culture et de la culture d’interface utilisateur pour une page web ASP.NET, voir [Définition de la culture et de la culture d’interface utilisateur pour la globalisation de page web ASP.NET](http://go.microsoft.com/fwlink/?LinkId=237461).</span><span class="sxs-lookup"><span data-stu-id="2f15b-148">For more information about how to set the Culture and UI Culture for an ASP.NET Web page, see [How to: Set the Culture and UI Culture for ASP.NET Web Page Globalization](http://go.microsoft.com/fwlink/?LinkId=237461).</span></span>

## <a name="configuring-authentication-and-authorization"></a><span data-ttu-id="2f15b-149">Configuration de l’authentification et de l’autorisation</span><span class="sxs-lookup"><span data-stu-id="2f15b-149">Configuring Authentication and Authorization</span></span>
<span data-ttu-id="2f15b-150">ReportViewer doit utiliser les informations d’identification appropriées pour s’authentifier auprès du serveur de rapports, et ces informations d’identification doivent être autorisées par le serveur de rapports pour accéder aux rapports souhaités.</span><span class="sxs-lookup"><span data-stu-id="2f15b-150">The ReportViewer needs to use proper credentials to authenticate with the report server, and the credentials must be authorized by the report server to access the reports you want.</span></span> <span data-ttu-id="2f15b-151">Pour plus d’informations sur l’authentification, lisez le livre blanc [Contrôle de visionneuse de rapports Reporting Services et serveurs de rapports basés sur une machine virtuelle Microsoft Azure](https://msdn.microsoft.com/library/azure/dn753698.aspx).</span><span class="sxs-lookup"><span data-stu-id="2f15b-151">For information on authentication, see the white paper [Reporting Services report viewer control and Microsoft Azure virtual machine based report servers](https://msdn.microsoft.com/library/azure/dn753698.aspx).</span></span>

## <a name="publish-the-aspnet-web-application-to-azure"></a><span data-ttu-id="2f15b-152">Publier l’application web ASP.NET sur Azure</span><span class="sxs-lookup"><span data-stu-id="2f15b-152">Publish the ASP.NET Web application to Azure</span></span>
<span data-ttu-id="2f15b-153">Pour obtenir des instructions sur la publication d’une application web ASP.NET sur Azure, consultez les articles [Procédure : Migration et publication d’une application web vers Azure depuis Visual Studio](../../../vs-azure-tools-migrate-publish-web-app-to-cloud-service.md) et [Prise en main de Web Apps et ASP.NET](../../../app-service-web/app-service-web-get-started-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="2f15b-153">For instructions on publishing an ASP.NET Web application to Azure, see [How to: Migrate and Publish a Web Application to Azure from Visual Studio](../../../vs-azure-tools-migrate-publish-web-app-to-cloud-service.md) and [Get started with Web Apps and ASP.NET](../../../app-service-web/app-service-web-get-started-dotnet.md).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="2f15b-154">Si la commande permettant d’ajouter un projet de déploiement Azure ou d’ajouter un projet de service cloud Azure n’apparaît pas dans le menu contextuel, vous devez remplacer la version cible de .NET Framework du projet par .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="2f15b-154">If the Add Azure Deployment Project or Add Azure Cloud Service Project command does not appear in the shortcut menu in Solution Explorer, you may need to change the Target framework for the project to .NET Framework 4.</span></span>
> 
> <span data-ttu-id="2f15b-155">Ces deux commandes offrent la même fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="2f15b-155">The two commands provide essentially the same functionality.</span></span> <span data-ttu-id="2f15b-156">L’une ou l’autre des commandes s’affiche dans le menu contextuel en fonction de la version du Kit de développement logiciel (SDK) Microsoft Azure installée.</span><span class="sxs-lookup"><span data-stu-id="2f15b-156">One or the other command will appear in the shortcut menu depending on which version of the Microsoft Azure SDK you have installed.</span></span>
> 
> 

## <a name="resources"></a><span data-ttu-id="2f15b-157">Ressources</span><span class="sxs-lookup"><span data-stu-id="2f15b-157">Resources</span></span>
[<span data-ttu-id="2f15b-158">Rapports Microsoft</span><span class="sxs-lookup"><span data-stu-id="2f15b-158">Microsoft Reports</span></span>](http://go.microsoft.com/fwlink/?LinkId=205399)

[<span data-ttu-id="2f15b-159">Business Intelligence de SQL Server dans les machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="2f15b-159">SQL Server Business Intelligence in Azure Virtual Machines</span></span>](../classic/ps-sql-bi.md)

[<span data-ttu-id="2f15b-160">Utiliser PowerShell pour créer une machine virtuelle Azure avec un serveur de rapports en mode natif</span><span class="sxs-lookup"><span data-stu-id="2f15b-160">Use PowerShell to Create an Azure VM With a Native Mode Report Server</span></span>](../classic/ps-sql-report.md)

