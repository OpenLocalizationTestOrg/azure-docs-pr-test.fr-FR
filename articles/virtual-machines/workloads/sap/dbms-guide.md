---
title: "déploiement de Machines virtuelles SGBD pour SAP NetWeaver d’aaaAzure | Documents Microsoft"
description: "Déploiement SGBD de machines virtuelles Azure pour SAP NetWeaver"
services: virtual-machines-linux,virtual-machines-windows
documentationcenter: 
author: MSSedusch
manager: timlt
editor: 
tags: azure-resource-manager
keywords: 
ms.assetid: 5654dac7-4204-4387-b312-3d8b2898eb3a
ms.service: virtual-machines-linux
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure-services
ms.date: 11/08/2016
ms.author: sedusch
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 501f6fbc2baa379b706e95d2bfba377ac129b382
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-virtual-machines-dbms-deployment-for-sap-netweaver"></a><span data-ttu-id="4ed9d-103">Déploiement SGBD de machines virtuelles Azure pour SAP NetWeaver</span><span class="sxs-lookup"><span data-stu-id="4ed9d-103">Azure Virtual Machines DBMS deployment for SAP NetWeaver</span></span>
[767598 ]:https://launchpad.support.sap.com/#/notes/767598
[773830]:https://launchpad.support.sap.com/#/notes/773830
[826037]:https://launchpad.support.sap.com/#/notes/826037
[965908]:https://launchpad.support.sap.com/#/notes/965908
[1031096]:https://launchpad.support.sap.com/#/notes/1031096
[1114181]:https://launchpad.support.sap.com/#/notes/1114181
[1139904]:https://launchpad.support.sap.com/#/notes/1139904
[1173395]:https://launchpad.support.sap.com/#/notes/1173395
[1245200]:https://launchpad.support.sap.com/#/notes/1245200
[1409604]:https://launchpad.support.sap.com/#/notes/1409604
[1558958]:https://launchpad.support.sap.com/#/notes/1558958
[1585981]:https://launchpad.support.sap.com/#/notes/1585981
[1588316]:https://launchpad.support.sap.com/#/notes/1588316
[1590719]:https://launchpad.support.sap.com/#/notes/1590719
[1597355]:https://launchpad.support.sap.com/#/notes/1597355
[1605680]:https://launchpad.support.sap.com/#/notes/1605680
[1619720]:https://launchpad.support.sap.com/#/notes/1619720
[1619726]:https://launchpad.support.sap.com/#/notes/1619726
[1619967]:https://launchpad.support.sap.com/#/notes/1619967
[1750510]:https://launchpad.support.sap.com/#/notes/1750510
[1752266]:https://launchpad.support.sap.com/#/notes/1752266
[1757924]:https://launchpad.support.sap.com/#/notes/1757924
[1757928]:https://launchpad.support.sap.com/#/notes/1757928
[1758182]:https://launchpad.support.sap.com/#/notes/1758182
[1758496]:https://launchpad.support.sap.com/#/notes/1758496
[1772688]:https://launchpad.support.sap.com/#/notes/1772688
[1814258]:https://launchpad.support.sap.com/#/notes/1814258
[1882376]:https://launchpad.support.sap.com/#/notes/1882376
[1909114]:https://launchpad.support.sap.com/#/notes/1909114
[1922555]:https://launchpad.support.sap.com/#/notes/1922555
[1928533]:https://launchpad.support.sap.com/#/notes/1928533
[1941500]:https://launchpad.support.sap.com/#/notes/1941500
[1956005]:https://launchpad.support.sap.com/#/notes/1956005
[1973241]:https://launchpad.support.sap.com/#/notes/1973241
[1984787]:https://launchpad.support.sap.com/#/notes/1984787
[1999351]:https://launchpad.support.sap.com/#/notes/1999351
[2002167]:https://launchpad.support.sap.com/#/notes/2002167
[2015553]:https://launchpad.support.sap.com/#/notes/2015553
[2039619]:https://launchpad.support.sap.com/#/notes/2039619
[2069760]:https://launchpad.support.sap.com/#/notes/2069760
[2121797]:https://launchpad.support.sap.com/#/notes/2121797
[2134316]:https://launchpad.support.sap.com/#/notes/2134316
[2171857]:https://launchpad.support.sap.com/#/notes/2171857
[2178632]:https://launchpad.support.sap.com/#/notes/2178632
[2191498]:https://launchpad.support.sap.com/#/notes/2191498
[2233094]:https://launchpad.support.sap.com/#/notes/2233094
[2243692]:https://launchpad.support.sap.com/#/notes/2243692

[azure-cli]:../../../cli-install-nodejs.md
[azure-portal]:https://portal.azure.com
[azure-ps]:/powershell/azureps-cmdlets-docs
[azure-quickstart-templates-github]:https://github.com/Azure/azure-quickstart-templates
[azure-script-ps]:https://go.microsoft.com/fwlink/p/?LinkID=395017
[azure-subscription-service-limits]:../../../azure-subscription-service-limits.md
[azure-subscription-service-limits-subscription]:../../../azure-subscription-service-limits.md#subscription-limits

[dbms-guide]:dbms-guide.md 
[dbms-guide-2.1]:dbms-guide.md#c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f 
[dbms-guide-2.2]:dbms-guide.md#c8e566f9-21b7-4457-9f7f-126036971a91 
[dbms-guide-2.3]:dbms-guide.md#10b041ef-c177-498a-93ed-44b3441ab152 
[dbms-guide-2]:dbms-guide.md#65fa79d6-a85f-47ee-890b-22e794f51a64 
[dbms-guide-3]:dbms-guide.md#871dfc27-e509-4222-9370-ab1de77021c3 
[dbms-guide-5.5.1]:dbms-guide.md#0fef0e79-d3fe-4ae2-85af-73666a6f7268 
[dbms-guide-5.5.2]:dbms-guide.md#f9071eff-9d72-4f47-9da4-1852d782087b 
[dbms-guide-5.6]:dbms-guide.md#1b353e38-21b3-4310-aeb6-a77e7c8e81c8 
[dbms-guide-5.8]:dbms-guide.md#9053f720-6f3b-4483-904d-15dc54141e30 
[dbms-guide-5]:dbms-guide.md#3264829e-075e-4d25-966e-a49dad878737 
[dbms-guide-8.4.1]:dbms-guide.md#b48cfe3b-48e9-4f5b-a783-1d29155bd573 
[dbms-guide-8.4.2]:dbms-guide.md#23c78d3b-ca5a-4e72-8a24-645d141a3f5d 
[dbms-guide-8.4.3]:dbms-guide.md#77cd2fbb-307e-4cbf-a65f-745553f72d2c 
[dbms-guide-8.4.4]:dbms-guide.md#f77c1436-9ad8-44fb-a331-8671342de818 
[dbms-guide-900-sap-cache-server-on-premises]:dbms-guide.md#642f746c-e4d4-489d-bf63-73e80177a0a8
[dbms-guide-managed-disks]:dbms-guide.md#f42c6cb5-d563-484d-9667-b07ae51bce29

[dbms-guide-figure-100]:media/virtual-machines-shared-sap-dbms-guide/100_storage_account_types.png
[dbms-guide-figure-200]:media/virtual-machines-shared-sap-dbms-guide/200-ha-set-for-dbms-ha.png
[dbms-guide-figure-300]:media/virtual-machines-shared-sap-dbms-guide/300-reference-config-iaas.png
[dbms-guide-figure-400]:media/virtual-machines-shared-sap-dbms-guide/400-sql-2012-backup-to-blob-storage.png
[dbms-guide-figure-500]:media/virtual-machines-shared-sap-dbms-guide/500-sql-2012-backup-to-blob-storage-different-containers.png
[dbms-guide-figure-600]:media/virtual-machines-shared-sap-dbms-guide/600-iaas-maxdb.png
[dbms-guide-figure-700]:media/virtual-machines-shared-sap-dbms-guide/700-livecach-prod.png
[dbms-guide-figure-800]:media/virtual-machines-shared-sap-dbms-guide/800-azure-vm-sap-content-server.png
[dbms-guide-figure-900]:media/virtual-machines-shared-sap-dbms-guide/900-sap-cache-server-on-premises.png

[deployment-guide]:deployment-guide.md 
[deployment-guide-2.2]:deployment-guide.md#42ee2bdb-1efc-4ec7-ab31-fe4c22769b94 
[deployment-guide-3.1.2]:deployment-guide.md#3688666f-281f-425b-a312-a77e7db2dfab 
[deployment-guide-3.2]:deployment-guide.md#db477013-9060-4602-9ad4-b0316f8bb281 
[deployment-guide-3.3]:deployment-guide.md#54a1fc6d-24fd-4feb-9c57-ac588a55dff2 
[deployment-guide-3.4]:deployment-guide.md#a9a60133-a763-4de8-8986-ac0fa33aa8c1 
[deployment-guide-3]:deployment-guide.md#b3253ee3-d63b-4d74-a49b-185e76c4088e 
[deployment-guide-4.1]:deployment-guide.md#604bcec2-8b6e-48d2-a944-61b0f5dee2f7 
[deployment-guide-4.2]:deployment-guide.md#7ccf6c3e-97ae-4a7a-9c75-e82c37beb18e 
[deployment-guide-4.3]:deployment-guide.md#31d9ecd6-b136-4c73-b61e-da4a29bbc9cc 
[deployment-guide-4.4.2]:deployment-guide.md#6889ff12-eaaf-4f3c-97e1-7c9edc7f7542 
[deployment-guide-4.4]:deployment-guide.md#c7cbb0dc-52a4-49db-8e03-83e7edc2927d 
[deployment-guide-4.5.1]:deployment-guide.md#987cf279-d713-4b4c-8143-6b11589bb9d4 
[deployment-guide-4.5.2]:deployment-guide.md#408f3779-f422-4413-82f8-c57a23b4fc2f 
[deployment-guide-4.5]:deployment-guide.md#d98edcd3-f2a1-49f7-b26a-07448ceb60ca 
[deployment-guide-5.1]:deployment-guide.md#bb61ce92-8c5c-461f-8c53-39f5e5ed91f2 
[deployment-guide-5.2]:deployment-guide.md#e2d592ff-b4ea-4a53-a91a-e5521edb6cd1
[deployment-guide-5.3]:deployment-guide.md#fe25a7da-4e4e-4388-8907-8abc2d33cfd8 

[deployment-guide-configure-monitoring-scenario-1]:deployment-guide.md#ec323ac3-1de9-4c3a-b770-4ff701def65b 
[deployment-guide-configure-proxy]:deployment-guide.md#baccae00-6f79-4307-ade4-40292ce4e02d 
[deployment-guide-figure-100]:media/virtual-machines-shared-sap-deployment-guide/100-deploy-vm-image.png
[deployment-guide-figure-1000]:media/virtual-machines-shared-sap-deployment-guide/1000-service-properties.png
[deployment-guide-figure-11]:deployment-guide.md#figure-11
[deployment-guide-figure-1100]:media/virtual-machines-shared-sap-deployment-guide/1100-azperflib.png
[deployment-guide-figure-1200]:media/virtual-machines-shared-sap-deployment-guide/1200-cmd-test-login.png
[deployment-guide-figure-1300]:media/virtual-machines-shared-sap-deployment-guide/1300-cmd-test-executed.png
[deployment-guide-figure-14]:deployment-guide.md#figure-14
[deployment-guide-figure-1400]:media/virtual-machines-shared-sap-deployment-guide/1400-azperflib-error-servicenotstarted.png
[deployment-guide-figure-300]:media/virtual-machines-shared-sap-deployment-guide/300-deploy-private-image.png
[deployment-guide-figure-400]:media/virtual-machines-shared-sap-deployment-guide/400-deploy-using-disk.png
[deployment-guide-figure-5]:deployment-guide.md#figure-5
[deployment-guide-figure-50]:media/virtual-machines-shared-sap-deployment-guide/50-forced-tunneling-suse.png
[deployment-guide-figure-500]:media/virtual-machines-shared-sap-deployment-guide/500-install-powershell.png
[deployment-guide-figure-6]:deployment-guide.md#figure-6
[deployment-guide-figure-600]:media/virtual-machines-shared-sap-deployment-guide/600-powershell-version.png
[deployment-guide-figure-7]:deployment-guide.md#figure-7
[deployment-guide-figure-700]:media/virtual-machines-shared-sap-deployment-guide/700-install-powershell-installed.png
[deployment-guide-figure-760]:media/virtual-machines-shared-sap-deployment-guide/760-azure-cli-version.png
[deployment-guide-figure-900]:media/virtual-machines-shared-sap-deployment-guide/900-cmd-update-executed.png
[deployment-guide-figure-azure-cli-installed]:deployment-guide.md#402488e5-f9bb-4b29-8063-1c5f52a892d0
[deployment-guide-figure-azure-cli-version]:deployment-guide.md#0ad010e6-f9b5-4c21-9c09-bb2e5efb3fda
[deployment-guide-install-vm-agent-windows]:deployment-guide.md#b2db5c9a-a076-42c6-9835-16945868e866
[deployment-guide-troubleshooting-chapter]:deployment-guide.md#564adb4f-5c95-4041-9616-6635e83a810b

[deploy-template-cli]:../../../resource-group-template-deploy-cli.md
[deploy-template-portal]:../../../resource-group-template-deploy-portal.md
[deploy-template-powershell]:../../../resource-group-template-deploy.md

[dr-guide-classic]:http://go.microsoft.com/fwlink/?LinkID=521971

[getting-started]:get-started.md
[getting-started-dbms]:get-started.md#1343ffe1-8021-4ce6-a08d-3a1553a4db82
[getting-started-deployment]:get-started.md#6aadadd2-76b5-46d8-8713-e8d63630e955
[getting-started-planning]:get-started.md#3da0389e-708b-4e82-b2a2-e92f132df89c

[getting-started-windows-classic]:../../virtual-machines-windows-classic-sap-get-started.md
[getting-started-windows-classic-dbms]:../../virtual-machines-windows-classic-sap-get-started.md#c5b77a14-f6b4-44e9-acab-4d28ff72a930
[getting-started-windows-classic-deployment]:../../virtual-machines-windows-classic-sap-get-started.md#f84ea6ce-bbb4-41f7-9965-34d31b0098ea
[getting-started-windows-classic-dr]:../../virtual-machines-windows-classic-sap-get-started.md#cff10b4a-01a5-4dc3-94b6-afb8e55757d3
[getting-started-windows-classic-ha-sios]:../../virtual-machines-windows-classic-sap-get-started.md#4bb7512c-0fa0-4227-9853-4004281b1037
[getting-started-windows-classic-planning]:../../virtual-machines-windows-classic-sap-get-started.md#f2a5e9d8-49e4-419e-9900-af783173481c

[ha-guide-classic]:http://go.microsoft.com/fwlink/?LinkId=613056

[install-extension-cli]:virtual-machines-linux-enable-aem.md

[Logo_Linux]:media/virtual-machines-shared-sap-shared/Linux.png
[Logo_Windows]:media/virtual-machines-shared-sap-shared/Windows.png

[msdn-set-azurermvmaemextension]:https://msdn.microsoft.com/library/azure/mt670598.aspx

[planning-guide]:planning-guide.md 
[planning-guide-1.2]:planning-guide.md#e55d1e22-c2c8-460b-9897-64622a34fdff 
[planning-guide-11]:planning-guide.md#7cf991a1-badd-40a9-944e-7baae842a058 
[planning-guide-11.4.1]:planning-guide.md#5d9d36f9-9058-435d-8367-5ad05f00de77 
[planning-guide-11.5]:planning-guide.md#4e165b58-74ca-474f-a7f4-5e695a93204f 
[planning-guide-2.1]:planning-guide.md#1625df66-4cc6-4d60-9202-de8a0b77f803 
[planning-guide-2.2]:planning-guide.md#f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10 
[planning-guide-3.1]:planning-guide.md#be80d1b9-a463-4845-bd35-f4cebdb5424a 
[planning-guide-3.2.1]:planning-guide.md#df49dc09-141b-4f34-a4a2-990913b30358 
[planning-guide-3.2.2]:planning-guide.md#fc1ac8b2-e54a-487c-8581-d3cc6625e560 
[planning-guide-3.2.3]:planning-guide.md#18810088-f9be-4c97-958a-27996255c665 
[planning-guide-3.2]:planning-guide.md#8d8ad4b8-6093-4b91-ac36-ea56d80dbf77 
[planning-guide-3.3.2]:planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92 
[planning-guide-5.1.1]:planning-guide.md#4d175f1b-7353-4137-9d2f-817683c26e53 
[planning-guide-5.1.2]:planning-guide.md#e18f7839-c0e2-4385-b1e6-4538453a285c 
[planning-guide-5.2.1]:planning-guide.md#1b287330-944b-495d-9ea7-94b83aff73ef 
[planning-guide-5.2.2]:planning-guide.md#57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3 
[planning-guide-5.2]:planning-guide.md#6ffb9f41-a292-40bf-9e70-8204448559e7 
[planning-guide-5.3.1]:planning-guide.md#6e835de8-40b1-4b71-9f18-d45b20959b79 
[planning-guide-5.3.2]:planning-guide.md#a43e40e6-1acc-4633-9816-8f095d5a7b6a 
[planning-guide-5.4.2]:planning-guide.md#9789b076-2011-4afa-b2fe-b07a8aba58a1 
[planning-guide-5.5.1]:planning-guide.md#4efec401-91e0-40c0-8e64-f2dceadff646 
[planning-guide-5.5.3]:planning-guide.md#17e0d543-7e8c-4160-a7da-dd7117a1ad9d 
[planning-guide-7.1]:planning-guide.md#3e9c3690-da67-421a-bc3f-12c520d99a30 
[planning-guide-7]:planning-guide.md#96a77628-a05e-475d-9df3-fb82217e8f14 
[planning-guide-9.1]:planning-guide.md#6f0a47f3-a289-4090-a053-2521618a28c3 
[planning-guide-azure-premium-storage]:planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92 

[planning-guide-figure-100]:media/virtual-machines-shared-sap-planning-guide/100-single-vm-in-azure.png
[planning-guide-figure-1300]:media/virtual-machines-shared-sap-planning-guide/1300-ref-config-iaas-for-sap.png
[planning-guide-figure-1400]:media/virtual-machines-shared-sap-planning-guide/1400-attach-detach-disks.png
[planning-guide-figure-1600]:media/virtual-machines-shared-sap-planning-guide/1600-firewall-port-rule.png
[planning-guide-figure-1700]:media/virtual-machines-shared-sap-planning-guide/1700-single-vm-demo.png
[planning-guide-figure-1900]:media/virtual-machines-shared-sap-planning-guide/1900-vm-set-vnet.png
[planning-guide-figure-200]:media/virtual-machines-shared-sap-planning-guide/200-multiple-vms-in-azure.png
[planning-guide-figure-2100]:media/virtual-machines-shared-sap-planning-guide/2100-s2s.png
[planning-guide-figure-2200]:media/virtual-machines-shared-sap-planning-guide/2200-network-printing.png
[planning-guide-figure-2300]:media/virtual-machines-shared-sap-planning-guide/2300-sapgui-stms.png
[planning-guide-figure-2400]:media/virtual-machines-shared-sap-planning-guide/2400-vm-extension-overview.png
[planning-guide-figure-2500]:media/virtual-machines-shared-sap-planning-guide/2500-vm-extension-details.png
[planning-guide-figure-2600]:media/virtual-machines-shared-sap-planning-guide/2600-sap-router-connection.png
[planning-guide-figure-2700]:media/virtual-machines-shared-sap-planning-guide/2700-exposed-sap-portal.png
[planning-guide-figure-2800]:media/virtual-machines-shared-sap-planning-guide/2800-endpoint-config.png
[planning-guide-figure-2900]:media/virtual-machines-shared-sap-planning-guide/2900-azure-ha-sap-ha.png
[planning-guide-figure-300]:media/virtual-machines-shared-sap-planning-guide/300-vpn-s2s.png
[planning-guide-figure-3000]:media/virtual-machines-shared-sap-planning-guide/3000-sap-ha-on-azure.png
[planning-guide-figure-3200]:media/virtual-machines-shared-sap-planning-guide/3200-sap-ha-with-sql.png
[planning-guide-figure-400]:media/virtual-machines-shared-sap-planning-guide/400-vm-services.png
[planning-guide-figure-600]:media/virtual-machines-shared-sap-planning-guide/600-s2s-details.png
[planning-guide-figure-700]:media/virtual-machines-shared-sap-planning-guide/700-decision-tree-deploy-to-azure.png
[planning-guide-figure-800]:media/virtual-machines-shared-sap-planning-guide/800-portal-vm-overview.png
[planning-guide-microsoft-azure-networking]:planning-guide.md#61678387-8868-435d-9f8c-450b2424f5bd 
[planning-guide-storage-microsoft-azure-storage-and-data-disks]:planning-guide.md#a72afa26-4bf4-4a25-8cf7-855d6032157f 

[powershell-install-configure]:https://docs.microsoft.com/powershell/azure/install-azurerm-ps
[resource-group-authoring-templates]:../../../resource-group-authoring-templates.md
[resource-group-overview]:../../../azure-resource-manager/resource-group-overview.md
[resource-groups-networking]:../../../virtual-network/resource-groups-networking.md
[sap-pam]:https://support.sap.com/pam 
[sap-templates-2-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-2-tier-os-disk]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-disk%2Fazuredeploy.json
[sap-templates-2-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-image%2Fazuredeploy.json
[sap-templates-3-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-3-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-user-image%2Fazuredeploy.json
[storage-azure-cli]:../../../storage/common/storage-azure-cli.md
[storage-azure-cli-copy-blobs]:../../../storage/common/storage-azure-cli.md#copy-blobs
[storage-introduction]:../../../storage/common/storage-introduction.md
[storage-powershell-guide-full-copy-vhd]:../../../storage/common/storage-powershell-guide-full.md#how-to-copy-blobs-from-one-storage-container-to-another
[storage-premium-storage-preview-portal]:../../../storage/common/storage-premium-storage.md
[storage-redundancy]:../../../storage/common/storage-redundancy.md
[storage-scalability-targets]:../../../storage/common/storage-scalability-targets.md
[storage-use-azcopy]:../../../storage/common/storage-use-azcopy.md
[template-201-vm-from-specialized-vhd]:https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-from-specialized-vhd
[templates-101-simple-windows-vm]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-simple-windows-vm
[templates-101-vm-from-user-image]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-from-user-image
[virtual-machines-linux-attach-disk-portal]:../../linux/attach-disk-portal.md
[virtual-machines-azure-resource-manager-architecture]:../../../resource-manager-deployment-model.md
[virtual-machines-azurerm-versus-azuresm]:../../../resource-manager-deployment-model.md
[virtual-machines-windows-classic-configure-oracle-data-guard]:../../virtual-machines-windows-classic-configure-oracle-data-guard.md
[virtual-machines-linux-cli-deploy-templates]:../../linux/cli-deploy-templates.md 
[virtual-machines-deploy-rmtemplates-powershell]:../../virtual-machines-windows-ps-manage.md 
[virtual-machines-linux-agent-user-guide]:../../linux/agent-user-guide.md
[virtual-machines-linux-agent-user-guide-command-line-options]:../../linux/agent-user-guide.md#command-line-options
[virtual-machines-linux-capture-image]:../../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager]:../../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager-capture]:../../linux/capture-image.md#step-2-capture-the-vm
[virtual-machines-linux-configure-raid]:../../linux/configure-raid.md
[virtual-machines-linux-configure-lvm]:../../linux/configure-lvm.md
[virtual-machines-linux-classic-create-upload-vhd-step-1]:../../virtual-machines-linux-classic-create-upload-vhd.md#step-1-prepare-the-image-to-be-uploaded
[virtual-machines-linux-create-upload-vhd-suse]:../../linux/suse-create-upload-vhd.md
[virtual-machines-linux-redhat-create-upload-vhd]:../../linux/redhat-create-upload-vhd.md
[virtual-machines-linux-how-to-attach-disk]:../../linux/add-disk.md
[virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]:../../linux/add-disk.md#connect-to-the-linux-vm-to-mount-the-new-disk
[virtual-machines-linux-tutorial]:../../linux/quick-create-cli.md
[virtual-machines-linux-update-agent]:../../linux/update-agent.md
[virtual-machines-manage-availability-linux]:../../linux/manage-availability.md
[virtual-machines-manage-availability-windows]:../../windows/manage-availability.md
[virtual-machines-ps-create-preconfigure-windows-resource-manager-vms]:virtual-machines-windows-create-powershell.md
[virtual-machines-sizes-linux]:../../linux/sizes.md
[virtual-machines-sizes-windows]:../../windows/sizes.md
[virtual-machines-windows-classic-ps-sql-alwayson-availability-groups]:./../../windows/sqlclassic/virtual-machines-windows-classic-ps-sql-alwayson-availability-groups.md
[virtual-machines-windows-classic-ps-sql-int-listener]:./../../windows/sqlclassic/virtual-machines-windows-classic-ps-sql-int-listener.md
[virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions]:./../../windows/sql/virtual-machines-windows-sql-high-availability-dr.md
[virtual-machines-sql-server-infrastructure-services]:./../../windows/sql/virtual-machines-windows-sql-server-iaas-overview.md
[virtual-machines-sql-server-performance-best-practices]:./../../windows/sql/virtual-machines-windows-sql-performance.md
[virtual-machines-upload-image-windows-resource-manager]:../../virtual-machines-windows-upload-image.md
[virtual-machines-windows-tutorial]:../../virtual-machines-windows-hero-tutorial.md
[virtual-machines-workload-template-sql-alwayson]:https://azure.microsoft.com/documentation/templates/sql-server-2014-alwayson-dsc/
[virtual-network-deploy-multinic-arm-cli]:../../../virtual-network/virtual-network-deploy-multinic-arm-cli.md
[virtual-network-deploy-multinic-arm-ps]:../../../virtual-network/virtual-network-deploy-multinic-arm-ps.md
[virtual-network-deploy-multinic-arm-template]:../../../virtual-network/virtual-network-deploy-multinic-arm-template.md
[virtual-networks-configure-vnet-to-vnet-connection]:../../../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md
[virtual-networks-create-vnet-arm-pportal]:../../../virtual-network/virtual-networks-create-vnet-arm-pportal.md
[virtual-networks-manage-dns-in-vnet]:../../../virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances.md
[virtual-networks-multiple-nics]:../../../virtual-network/virtual-networks-multiple-nics.md
[virtual-networks-nsg]:../../../virtual-network/virtual-networks-nsg.md
[virtual-networks-reserved-private-ip]:../../../virtual-network/virtual-networks-static-private-ip-arm-ps.md
[virtual-networks-static-private-ip-arm-pportal]:../../../virtual-network/virtual-networks-static-private-ip-arm-pportal.md
[virtual-networks-udr-overview]:../../../virtual-network/virtual-networks-udr-overview.md
[vpn-gateway-about-vpn-devices]:../../../vpn-gateway/vpn-gateway-about-vpn-devices.md
[vpn-gateway-create-site-to-site-rm-powershell]:../../../vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell.md
[vpn-gateway-cross-premises-options]:../../../vpn-gateway/vpn-gateway-plan-design.md
[vpn-gateway-site-to-site-create]:../../../vpn-gateway/vpn-gateway-site-to-site-create.md
[vpn-gateway-vpn-faq]:../../../vpn-gateway/vpn-gateway-vpn-faq.md
[xplat-cli]:../../../cli-install-nodejs.md
[xplat-cli-azure-resource-manager]:../../../xplat-cli-azure-resource-manager.md

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-rm-include.md)]

<span data-ttu-id="4ed9d-149">Ce guide fait partie de la documentation hello sur l’implémentation et de déploiement de logiciels SAP hello sur Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-149">This guide is part of hello documentation on implementing and deploying hello SAP software on Microsoft Azure.</span></span> <span data-ttu-id="4ed9d-150">Avant de lire ce guide, lisez hello [Guide de planification et implémentation][planning-guide].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-150">Before reading this guide, read hello [Planning and Implementation Guide][planning-guide].</span></span> <span data-ttu-id="4ed9d-151">Ce document décrit le déploiement hello de différents systèmes de gestion de base de données relationnelle (SGBDR) et les produits connexes en association avec SAP sur Microsoft Azure des Machines virtuelles (VM) à l’aide de hello Infrastructure Azure comme des fonctionnalités de Service (IaaS).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-151">This document covers hello deployment of various Relational Database Management Systems (RDBMS) and related products in combination with SAP on Microsoft Azure Virtual Machines (VMs) using hello Azure Infrastructure as a Service (IaaS) capabilities.</span></span>

<span data-ttu-id="4ed9d-152">Hello papier complète hello Documentation d’Installation SAP et les Notes SAP, qui représentent les ressources principales de hello pour les installations et les déploiements de logiciels SAP sur obtiennent des plateformes.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-152">hello paper complements hello SAP Installation Documentation and SAP Notes, which represent hello primary resources for installations and deployments of SAP software on given platforms.</span></span>

## <a name="general-considerations"></a><span data-ttu-id="4ed9d-153">Considérations d’ordre général</span><span class="sxs-lookup"><span data-stu-id="4ed9d-153">General considerations</span></span>
<span data-ttu-id="4ed9d-154">Ce chapitre aborde l’exécution des systèmes SGBD de type SAP sur les machines virtuelles Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-154">In this chapter, considerations of running SAP-related DBMS systems in Azure VMs are introduced.</span></span> <span data-ttu-id="4ed9d-155">Il y a peu de références toospecific SGBD utilisés dans ce chapitre.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-155">There are few references toospecific DBMS systems in this chapter.</span></span> <span data-ttu-id="4ed9d-156">À la place des systèmes SGBD hello spécifiques sont décrits dans ce document, après ce chapitre.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-156">Instead hello specific DBMS systems are handled within this paper, after this chapter.</span></span>

### <a name="definitions-upfront"></a><span data-ttu-id="4ed9d-157">Préambule : définitions</span><span class="sxs-lookup"><span data-stu-id="4ed9d-157">Definitions upfront</span></span>
<span data-ttu-id="4ed9d-158">Tout au long du document de hello, nous utilisons hello dispositions suivantes :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-158">Throughout hello document, we use hello following terms:</span></span>

* <span data-ttu-id="4ed9d-159">IaaS : Infrastructure as a Service.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-159">IaaS: Infrastructure as a Service.</span></span>
* <span data-ttu-id="4ed9d-160">PaaS : Platform as a Service.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-160">PaaS: Platform as a Service.</span></span>
* <span data-ttu-id="4ed9d-161">SaaS : Software as a Service.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-161">SaaS: Software as a Service.</span></span>
* <span data-ttu-id="4ed9d-162">Composant SAP : application SAP telle que ECC, BW, Solution Manager ou EP.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-162">SAP Component: an individual SAP application such as ECC, BW, Solution Manager, or EP.</span></span>  <span data-ttu-id="4ed9d-163">Les composants SAP peuvent être basés sur des technologies ABAP ou Java traditionnelles ou une application non basée sur NetWeaver telle que Business Objects.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-163">SAP components can be based on traditional ABAP or Java technologies or a non-NetWeaver based application such as Business Objects.</span></span>
* <span data-ttu-id="4ed9d-164">Environnement SAP : un ou plusieurs composants SAP regroupement logiquement tooperform une fonction d’entreprise telles que le développement, Choisissons, formation, récupération d’urgence ou de Production.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-164">SAP Environment: one or more SAP components logically grouped tooperform a business function such as Development, QAS, Training, DR, or Production.</span></span>
* <span data-ttu-id="4ed9d-165">Paysage SAP : Cela fait référence à toohello des ressources SAP ensemble dans un client paysage informatique.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-165">SAP Landscape: This refers toohello entire SAP assets in a customer’s IT landscape.</span></span> <span data-ttu-id="4ed9d-166">Hello paysage SAP comprend tous les environnements de production et de non-production.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-166">hello SAP landscape includes all production and non-production environments.</span></span>
* <span data-ttu-id="4ed9d-167">Système SAP : hello une combinaison de couche SGBD et de, par exemple, un système de développement ERP SAP, système de test SAP BW, système de production CRM SAP, etc. la couche application. Dans les déploiements Azure, il n’est pas pris en charge toodivide ces deux couches entre locaux et Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-167">SAP System: hello combination of DBMS layer and application layer of, for example, an SAP ERP development system, SAP BW test system, SAP CRM production system, etc. In Azure deployments, it is not supported toodivide these two layers between on-premises and Azure.</span></span> <span data-ttu-id="4ed9d-168">Cela signifie qu’un système SAP doit être déployé en local ou dans Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-168">This means an SAP system is either deployed on-premises or it is deployed in Azure.</span></span> <span data-ttu-id="4ed9d-169">Toutefois, vous pouvez déployer hello différents systèmes d’un paysage SAP dans Azure ou localement.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-169">However, you can deploy hello different systems of an SAP landscape in Azure or on-premises.</span></span> <span data-ttu-id="4ed9d-170">Par exemple, vous pourriez déployer des systèmes de développement et de test de CRM SAP dans Azure hello mais hello production CRM SAP/système sur site.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-170">For example, you could deploy hello SAP CRM development and test systems in Azure but hello SAP CRM production system on-premises.</span></span>
* <span data-ttu-id="4ed9d-171">Déploiement de cloud uniquement : un déploiement où hello abonnement Azure n’est pas connecté via un site à site ou ExpressRoute connexion toohello localement l’infrastructure du réseau.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-171">Cloud-Only deployment: A deployment where hello Azure subscription is not connected via a site-to-site or ExpressRoute connection toohello on-premises network infrastructure.</span></span> <span data-ttu-id="4ed9d-172">Dans la documentation Azure courante, ces types de déploiements sont également décrits comme des déploiements « cloud uniquement ».</span><span class="sxs-lookup"><span data-stu-id="4ed9d-172">In common Azure documentation these kinds of deployments are also described as ‘Cloud-Only’ deployments.</span></span> <span data-ttu-id="4ed9d-173">Ordinateurs virtuels déployés avec cette méthode sont accessibles via Internet de hello et points de terminaison Internet publics affectés toohello machines virtuelles Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-173">Virtual Machines deployed with this method are accessed through hello Internet and public Internet endpoints assigned toohello VMs in Azure.</span></span> <span data-ttu-id="4ed9d-174">Hello locale Active Directory (AD) et DNS n’est pas étendu tooAzure dans ces types de déploiement.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-174">hello on-premises Active Directory (AD) and DNS is not extended tooAzure in these types of deployments.</span></span> <span data-ttu-id="4ed9d-175">Par conséquent, les machines virtuelles de hello ne font pas partie de hello locale Active Directory.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-175">Hence hello VMs are not part of hello on-premises Active Directory.</span></span> <span data-ttu-id="4ed9d-176">Remarque : Dans ce document, les déploiements « cloud uniquement » sont définis comme des paysages SAP complets exécutés uniquement dans Azure, sans extension d’Active Directory ni passage d’une résolution de noms locale à une résolution dans le cloud public.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-176">Note: Cloud-Only deployments in this document are defined as complete SAP landscapes, which are running exclusively in Azure without extension of Active Directory or name resolution from on-premises into public cloud.</span></span> <span data-ttu-id="4ed9d-177">Les configurations uniquement dans le cloud ne sont pas pris en charge pour les systèmes SAP de production ou les configurations où SAP STMS ou autres ressources sur site doivent toobe utilisé entre les systèmes SAP hébergés sur Azure et aux ressources locales.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-177">Cloud-Only configurations are not supported for production SAP systems or configurations where SAP STMS or other on-premises resources need toobe used between SAP systems hosted on Azure and resources residing on-premises.</span></span>
* <span data-ttu-id="4ed9d-178">Intersite : Décrit un scénario dans lequel les machines virtuelles sont déployée tooan abonnement Azure qui utilise le site à site, plusieurs sites ou ExpressRoute la connectivité entre les centres de local hello et Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-178">Cross-Premises: Describes a scenario where VMs are deployed tooan Azure subscription that has site-to-site, multi-site, or ExpressRoute connectivity between hello on-premises datacenter(s) and Azure.</span></span> <span data-ttu-id="4ed9d-179">Dans la documentation Azure courante, ces types de déploiements sont également décrits comme des scénarios intersites.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-179">In common Azure documentation, these kinds of deployments are also described as Cross-Premises scenarios.</span></span> <span data-ttu-id="4ed9d-180">Hello connexion de hello fait tooextend domaines locaux, sur site Active Directory et DNS de local à Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-180">hello reason for hello connection is tooextend on-premises domains, on-premises Active Directory, and on-premises DNS into Azure.</span></span> <span data-ttu-id="4ed9d-181">Hello local paysage est étendue toohello ressources Azure de l’abonnement de hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-181">hello on-premises landscape is extended toohello Azure assets of hello subscription.</span></span> <span data-ttu-id="4ed9d-182">Avoir cette extension, hello machines virtuelles peut être la partie du domaine local de hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-182">Having this extension, hello VMs can be part of hello on-premises domain.</span></span> <span data-ttu-id="4ed9d-183">Les utilisateurs du domaine local de hello peuvent accéder aux serveurs de hello et exécuter des services sur ces machines virtuelles (comme les services SGBD).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-183">Domain users of hello on-premises domain can access hello servers and can run services on those VMs (like DBMS services).</span></span> <span data-ttu-id="4ed9d-184">La communication et la résolution de noms entre les machines virtuelles déployées en local et les machines virtuelles déployées dans Azure est possible.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-184">Communication and name resolution between VMs deployed on-premises and VMs deployed in Azure is possible.</span></span> <span data-ttu-id="4ed9d-185">Nous pensons que ce scénario le plus courant toobe hello pour le déploiement des ressources SAP sur Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-185">We expect this toobe hello most common scenario for deploying SAP assets on Azure.</span></span> <span data-ttu-id="4ed9d-186">Pour plus d’informations, consultez [cet article][vpn-gateway-cross-premises-options] et [cet article][vpn-gateway-site-to-site-create].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-186">For more information, see [this article][vpn-gateway-cross-premises-options] and [this article][vpn-gateway-site-to-site-create].</span></span>

> [!NOTE]
> <span data-ttu-id="4ed9d-187">Les déploiements intersites de systèmes SAP dans lesquels des machines virtuelles Azure exécutant des systèmes SAP font partie d’un domaine local sont pris en charge pour les systèmes SAP de production.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-187">Cross-Premises deployments of SAP systems where Azure Virtual Machines running SAP systems are members of an on-premises domain are supported for production SAP systems.</span></span> <span data-ttu-id="4ed9d-188">Les configurations entre différents locaux sont prises en charge pour le déploiement d’éléments ou de l’intégralité des paysages SAP dans Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-188">Cross-Premises configurations are supported for deploying parts or complete SAP landscapes into Azure.</span></span> <span data-ttu-id="4ed9d-189">Même en cours d’exécution paysage SAP complète de hello dans Azure requiert ayant ces machines virtuelles faisant partie d’un domaine local et des annonces.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-189">Even running hello complete SAP landscape in Azure requires having those VMs being part of on-premises domain and ADS.</span></span> <span data-ttu-id="4ed9d-190">Dans les versions précédentes de la documentation de hello, nous avons parlé des scénarios hybrides, où le terme hello « Hybride » associé à des faits hello qu’il existe une connectivité intersite entre locaux et Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-190">In former versions of hello documentation, we talked about Hybrid-IT scenarios, where hello term ‘Hybrid’ is rooted in hello fact that there is a cross-premises connectivity between on-premises and Azure.</span></span> <span data-ttu-id="4ed9d-191">Dans ce cas « Hybride » également signifie que les machines virtuelles de hello dans Azure font partie de hello locale Active Directory.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-191">In this case ‘Hybrid’ also means that hello VMs in Azure are part of hello on-premises Active Directory.</span></span>
> 
> 

<span data-ttu-id="4ed9d-192">Certaines documentations Microsoft décrivent les scénarios intersites de façon légèrement différente, en particulier pour les configurations haute disponibilité SGBD.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-192">Some Microsoft documentation describes Cross-Premises scenarios a bit differently, especially for DBMS HA configurations.</span></span> <span data-ttu-id="4ed9d-193">Dans les cas de hello des documents liés à la SAP de hello, scénario de hello intersite simplement résume toohaving un site à site ou privé (ExpressRoute) connectivité et toohello fait que le paysage SAP de hello est distribué entre locaux et Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-193">In hello case of hello SAP-related documents, hello Cross-Premises scenario just boils down toohaving a site-to-site or private (ExpressRoute) connectivity and toohello fact that hello SAP landscape is distributed between on-premises and Azure.</span></span>

### <a name="resources"></a><span data-ttu-id="4ed9d-194">Ressources</span><span class="sxs-lookup"><span data-stu-id="4ed9d-194">Resources</span></span>
<span data-ttu-id="4ed9d-195">Hello guides suivants sont disponibles pour la rubrique hello des déploiements SAP sur Azure :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-195">hello following guides are available for hello topic of SAP deployments on Azure:</span></span>

* <span data-ttu-id="4ed9d-196">[Planification et implémentation de machines virtuelles Azure pour SAP NetWeaver][planning-guide]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-196">[Azure Virtual Machines planning and implementation for SAP NetWeaver][planning-guide]</span></span>
* <span data-ttu-id="4ed9d-197">[Déploiement de machines virtuelles Azure pour SAP NetWeaver][deployment-guide]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-197">[Azure Virtual Machines deployment for SAP NetWeaver][deployment-guide]</span></span>
* <span data-ttu-id="4ed9d-198">[Déploiement SGBD de machines virtuelles Azure pour SAP NetWeaver (le présent document)][dbms-guide]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-198">[Azure Virtual Machines DBMS deployment for SAP NetWeaver (this document)][dbms-guide]</span></span>

<span data-ttu-id="4ed9d-199">Hello suit les Notes SAP est rubrique toohello connexes de SAP sur Azure :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-199">hello following SAP Notes are related toohello topic of SAP on Azure:</span></span>

| <span data-ttu-id="4ed9d-200">Numéro de la note</span><span class="sxs-lookup"><span data-stu-id="4ed9d-200">Note number</span></span> | <span data-ttu-id="4ed9d-201">Intitulé</span><span class="sxs-lookup"><span data-stu-id="4ed9d-201">Title</span></span> |
| --- | --- |
| <span data-ttu-id="4ed9d-202">[1928533]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-202">[1928533]</span></span> |<span data-ttu-id="4ed9d-203">Applications SAP sur Azure : produits et types de machines virtuelles pris en charge</span><span class="sxs-lookup"><span data-stu-id="4ed9d-203">SAP Applications on Azure: Supported Products and Azure VM types</span></span> |
| <span data-ttu-id="4ed9d-204">[2015553]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-204">[2015553]</span></span> |<span data-ttu-id="4ed9d-205">SAP sur Microsoft Azure : configuration requise</span><span class="sxs-lookup"><span data-stu-id="4ed9d-205">SAP on Microsoft Azure: Support Prerequisites</span></span> |
| <span data-ttu-id="4ed9d-206">[1999351]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-206">[1999351]</span></span> |<span data-ttu-id="4ed9d-207">Résolution des problèmes de surveillance Azure améliorée pour SAP</span><span class="sxs-lookup"><span data-stu-id="4ed9d-207">Troubleshooting Enhanced Azure Monitoring for SAP</span></span> |
| <span data-ttu-id="4ed9d-208">[2178632]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-208">[2178632]</span></span> |<span data-ttu-id="4ed9d-209">Métriques de surveillance clés pour SAP sur Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-209">Key Monitoring Metrics for SAP on Microsoft Azure</span></span> |
| <span data-ttu-id="4ed9d-210">[1409604]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-210">[1409604]</span></span> |<span data-ttu-id="4ed9d-211">Virtualisation sur Windows : surveillance améliorée</span><span class="sxs-lookup"><span data-stu-id="4ed9d-211">Virtualization on Windows: Enhanced Monitoring</span></span> |
| <span data-ttu-id="4ed9d-212">[2191498]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-212">[2191498]</span></span> |<span data-ttu-id="4ed9d-213">SAP sur Linux avec Azure : surveillance améliorée</span><span class="sxs-lookup"><span data-stu-id="4ed9d-213">SAP on Linux with Azure: Enhanced Monitoring</span></span> |
| <span data-ttu-id="4ed9d-214">[2039619]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-214">[2039619]</span></span> |<span data-ttu-id="4ed9d-215">Applications SAP sur Microsoft Azure à l’aide hello de base de données Oracle : prise en charge des produits et des Versions</span><span class="sxs-lookup"><span data-stu-id="4ed9d-215">SAP Applications on Microsoft Azure using hello Oracle Database: Supported Products and Versions</span></span> |
| <span data-ttu-id="4ed9d-216">[2233094]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-216">[2233094]</span></span> |<span data-ttu-id="4ed9d-217">DB6 : Exécution d’applications SAP sur Azure à l’aide d’IBM DB2 pour Linux, UNIX et Windows - Informations supplémentaires</span><span class="sxs-lookup"><span data-stu-id="4ed9d-217">DB6: SAP Applications on Azure Using IBM DB2 for Linux, UNIX, and Windows - Additional Information</span></span> |
| <span data-ttu-id="4ed9d-218">[2243692]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-218">[2243692]</span></span> |<span data-ttu-id="4ed9d-219">Linux sur Microsoft Azure Virtual Machines (IaaS) : problèmes de licence SAP</span><span class="sxs-lookup"><span data-stu-id="4ed9d-219">Linux on Microsoft Azure (IaaS) VM: SAP license issues</span></span> |
| <span data-ttu-id="4ed9d-220">[1984787]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-220">[1984787]</span></span> |<span data-ttu-id="4ed9d-221">SUSE LINUX Enterprise Server 12 : Notes d’installation</span><span class="sxs-lookup"><span data-stu-id="4ed9d-221">SUSE LINUX Enterprise Server 12: Installation notes</span></span> |
| <span data-ttu-id="4ed9d-222">[2002167]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-222">[2002167]</span></span> |<span data-ttu-id="4ed9d-223">Red Hat Enterprise Linux 7.x : Installation et mise à niveau</span><span class="sxs-lookup"><span data-stu-id="4ed9d-223">Red Hat Enterprise Linux 7.x: Installation and Upgrade</span></span> |
| <span data-ttu-id="4ed9d-224">[2069760]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-224">[2069760]</span></span> |<span data-ttu-id="4ed9d-225">Installation et mise à niveau SAP pour Oracle Linux 7.x</span><span class="sxs-lookup"><span data-stu-id="4ed9d-225">Oracle Linux 7.x SAP Installation and Upgrade</span></span> |
| <span data-ttu-id="4ed9d-226">[1597355]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-226">[1597355]</span></span> |<span data-ttu-id="4ed9d-227">Recommandations relatives à l’espace d’échange pour Linux</span><span class="sxs-lookup"><span data-stu-id="4ed9d-227">Swap-space recommendation for Linux</span></span> |
| <span data-ttu-id="4ed9d-228">[2171857]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-228">[2171857]</span></span> |<span data-ttu-id="4ed9d-229">Oracle Database 12C - Prise en charge du système de fichiers dans Linux</span><span class="sxs-lookup"><span data-stu-id="4ed9d-229">Oracle Database 12c - file system support on Linux</span></span> |
| <span data-ttu-id="4ed9d-230">[1114181]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-230">[1114181]</span></span> |<span data-ttu-id="4ed9d-231">Oracle Database 11g - Prise en charge du système de fichiers dans Linux</span><span class="sxs-lookup"><span data-stu-id="4ed9d-231">Oracle Database 11g - file system support on Linux</span></span> |


<span data-ttu-id="4ed9d-232">Également lire hello [SCN Wiki](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) qui contient toutes les Notes SAP pour Linux.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-232">Also read hello [SCN Wiki](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) that contains all SAP Notes for Linux.</span></span>

<span data-ttu-id="4ed9d-233">Vous devez posséder une connaissance de travail sur hello Architecture Microsoft Azure et comment les Machines virtuelles Microsoft Azure sont déployé et géré.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-233">You should have a working knowledge about hello Microsoft Azure Architecture and how Microsoft Azure Virtual Machines are deployed and operated.</span></span> <span data-ttu-id="4ed9d-234">Pour plus d’informations, consultez <https://azure.microsoft.com/documentation/></span><span class="sxs-lookup"><span data-stu-id="4ed9d-234">You can find more information at <https://azure.microsoft.com/documentation/></span></span>

> [!NOTE]
> <span data-ttu-id="4ed9d-235">Nous sommes **pas** traitant la plateforme Microsoft Azure comme un offres de Service (PaaS) de hello plateforme Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-235">We are **not** discussing Microsoft Azure Platform as a Service (PaaS) offerings of hello Microsoft Azure Platform.</span></span> <span data-ttu-id="4ed9d-236">Ce document est sur l’exécution d’un système de gestion de base de données (SGBD) dans Microsoft Azure Virtual Machines (IaaS) tout comme vous exécuteriez hello SGBD dans votre environnement local.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-236">This paper is about running a database management system (DBMS) in Microsoft Azure Virtual Machines (IaaS) just as you would run hello DBMS in your on-premises environment.</span></span> <span data-ttu-id="4ed9d-237">Les capacités et fonctionnalités de base de données de ces deux services sont très différentes et ne doivent pas être confondues.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-237">Database capabilities and functionalities between these two offers are very different and should not be mixed up with each other.</span></span> <span data-ttu-id="4ed9d-238">Voir aussi : <https://azure.microsoft.com/services/sql-database/></span><span class="sxs-lookup"><span data-stu-id="4ed9d-238">See also: <https://azure.microsoft.com/services/sql-database/></span></span>
> 
> 

<span data-ttu-id="4ed9d-239">Étant donné que nous traiterons IaaS, en général configuration et installation de Windows, Linux et SGBD hello sont essentiellement hello identique à n’importe quel ordinateur virtuel ou récupération complète vous devez installer localement.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-239">Since we are discussing IaaS, in general hello Windows, Linux, and DBMS installation and configuration are essentially hello same as any virtual machine or bare metal machine you would install on-premises.</span></span> <span data-ttu-id="4ed9d-240">Cependant, les décisions relatives à l’implémentation de la gestion de l’architecture et des systèmes diffèrent sur certains points.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-240">However, there are some architecture and system management implementation decisions, which are different when utilizing IaaS.</span></span> <span data-ttu-id="4ed9d-241">Hello ce document vise tooexplain hello architecturaux et système de gestion des différences spécifiques que vous devez être préparé pour lors de l’utilisation d’IaaS.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-241">hello purpose of this document is tooexplain hello specific architectural and system management differences that you must be prepared for when using IaaS.</span></span>

<span data-ttu-id="4ed9d-242">En général, hello des zones globales ce document décrit les différences sont :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-242">In general, hello overall areas of difference that this paper discusses are:</span></span>

* <span data-ttu-id="4ed9d-243">Planification hello approprié/disque de machine virtuelle mise en page de tooensure de systèmes SAP ont la disposition du fichier de données approprié hello et pouvez obtenir suffisamment d’IOPS pour votre charge de travail.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-243">Planning hello proper VM/disk layout of SAP systems tooensure you have hello proper data file layout and can achieve enough IOPS for your workload.</span></span>
* <span data-ttu-id="4ed9d-244">Considérations relatives à la mise en réseau lors de l’utilisation de l’IaaS.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-244">Networking considerations when using IaaS.</span></span>
* <span data-ttu-id="4ed9d-245">Toouse de fonctionnalités de base de données spécifique dans la disposition de base de données de commande toooptimize hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-245">Specific database features toouse in order toooptimize hello database layout.</span></span>
* <span data-ttu-id="4ed9d-246">Considérations relatives à la sauvegarde et à la restauration de l’IaaS.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-246">Backup and restore considerations in IaaS.</span></span>
* <span data-ttu-id="4ed9d-247">Utilisation de différents types d’images pour le déploiement.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-247">Utilizing different types of images for deployment.</span></span>
* <span data-ttu-id="4ed9d-248">Haute disponibilité dans Azure IaaS.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-248">High Availability in Azure IaaS.</span></span>

## <span data-ttu-id="4ed9d-249"><a name="65fa79d6-a85f-47ee-890b-22e794f51a64"></a>Structure d’un déploiement SGBDR</span><span class="sxs-lookup"><span data-stu-id="4ed9d-249"><a name="65fa79d6-a85f-47ee-890b-22e794f51a64"></a>Structure of an RDBMS Deployment</span></span>
<span data-ttu-id="4ed9d-250">Dans commande toofollow ce chapitre, il est nécessaire toounderstand qui est présenté dans [cela] [ deployment-guide-3] chapitre Hello [Guide de déploiement] [ deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-250">In order toofollow this chapter, it is necessary toounderstand what was presented in [this][deployment-guide-3] chapter of hello [Deployment Guide][deployment-guide].</span></span> <span data-ttu-id="4ed9d-251">Connaissance hello différents pour les séries de machines virtuelles et leurs différences et les différences entre Azure Standard et Premium Storage doivent être compris et connus avant de lire ce chapitre.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-251">Knowledge about hello different VM-Series and their differences and differences of Azure Standard and Premium Storage should be understood and known before reading this chapter.</span></span>

<span data-ttu-id="4ed9d-252">Jusqu'à mars 2015, les disques, contenant un système d’exploitation ont été limités too127 go.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-252">Until March 2015, disks, which contain an operating system were limited too127 GB in size.</span></span> <span data-ttu-id="4ed9d-253">Cette limitation a été levée en mars 2015 (pour plus d’informations, consultez <https://azure.microsoft.com/blog/2015/03/25/azure-vm-os-drive-limit-octupled/>).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-253">This limitation got lifted in March 2015 (for more information check <https://azure.microsoft.com/blog/2015/03/25/azure-vm-os-drive-limit-octupled/>).</span></span> <span data-ttu-id="4ed9d-254">À partir de là, sur des disques de système d’exploitation hello conteneur peut avoir hello la même taille que tout autre disque.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-254">From there on disks containing hello operating system can have hello same size as any other disk.</span></span> <span data-ttu-id="4ed9d-255">Toutefois, nous préférons toujours une structure de déploiement où hello système d’exploitation, SGBD et les binaires SAP finale sont distincts des fichiers de base de données hello de.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-255">Nevertheless, we still prefer a structure of deployment where hello operating system, DBMS, and eventual SAP binaries are separate from hello database files.</span></span> <span data-ttu-id="4ed9d-256">Par conséquent, nous prévoyons de systèmes SAP s’exécutant dans des Machines virtuelles Azure ont hello base virtuelle (ou disque) installé avec le système d’exploitation de hello, les exécutables du système de gestion de base de données et les exécutables SAP.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-256">Therefore, we expect SAP systems running in Azure Virtual Machines have hello base VM (or disk) installed with hello operating system, database management system executables, and SAP executables.</span></span> <span data-ttu-id="4ed9d-257">Hello données SGBD et les fichiers journaux sont stockés dans le stockage Azure (Standard ou Premium Storage) dans des disques distincts et attachés en tant qu’image de système d’exploitation Azure d’origine disques logiques toohello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-257">hello DBMS data and log files are stored in Azure Storage (Standard or Premium Storage) in separate disks and attached as logical disks toohello original Azure operating system image VM.</span></span> 

<span data-ttu-id="4ed9d-258">Dépendent de l’exploitant il Azure Standard ou Premium Storage (par exemple en utilisant hello série DS ou des machines virtuelles de série GS) sont les autres quotas dans Azure, qui sont expliqués [ici (Linux)] [ virtual-machines-sizes-linux] et [ici (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-258">Dependent on leveraging Azure Standard or Premium Storage (for example by using hello DS-series or GS-series VMs) there are other quotas in Azure, which are documented [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span> <span data-ttu-id="4ed9d-259">Lorsque vous planifiez votre disposition du disque, vous devez toofind hello meilleur compromis entre les quotas de hello pour hello éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-259">When planning your disk layout, you need toofind hello best balance of hello quotas for hello following items:</span></span>

* <span data-ttu-id="4ed9d-260">nombre de Hello des fichiers de données.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-260">hello number of data files.</span></span>
* <span data-ttu-id="4ed9d-261">nombre de Hello de disques qui contiennent les fichiers hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-261">hello number of disks that contain hello files.</span></span>
* <span data-ttu-id="4ed9d-262">quotas d’IOPS Hello d’un seul disque.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-262">hello IOPS quotas of a single disk.</span></span>
* <span data-ttu-id="4ed9d-263">débit de données Hello par disque.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-263">hello data throughput per disk.</span></span>
* <span data-ttu-id="4ed9d-264">nombre de Hello de disques de données supplémentaires possibles par taille de machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-264">hello number of additional data disks possible per VM size.</span></span>
* <span data-ttu-id="4ed9d-265">Hello globale du débit de stockage une machine virtuelle peut fournir.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-265">hello overall storage throughput a VM can provide.</span></span>

<span data-ttu-id="4ed9d-266">Azure applique un quota d’E/S par seconde pour chaque disque de données.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-266">Azure enforces an IOPS quota per data disk.</span></span> <span data-ttu-id="4ed9d-267">Ces quotas sont différents selon que les disques sont hébergés dans le stockage Azure Standard ou le Stockage Premium.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-267">These quotas are different for disks hosted on Azure Standard Storage and Premium Storage.</span></span> <span data-ttu-id="4ed9d-268">Les latences d’e/s sont également très différentes entre deux types de stockage hello avec le stockage Premium remise facteurs meilleurs temps de latence d’e/s.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-268">I/O latencies are also very different between hello two storage types with Premium Storage delivering factors better I/O latencies.</span></span> <span data-ttu-id="4ed9d-269">Chacun des types de machine virtuelle hello possède un nombre limité de disques de données que vous êtes en mesure de tooattach.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-269">Each of hello different VM types has a limited number of data disks that you are able tooattach.</span></span> <span data-ttu-id="4ed9d-270">Une autre restriction concerne le fait que seuls certains types de machines virtuelles peuvent tirer parti d’Azure Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-270">Another restriction is that only certain VM types can leverage Azure Premium Storage.</span></span> <span data-ttu-id="4ed9d-271">Cela signifie que la décision de hello pour un certain type de machine virtuelle ne peut pas uniquement déterminée par les hello du processeur et les besoins en mémoire, mais aussi par hello IOPS, exigences de débit de latence et de disque qui généralement à l’échelle avec un nombre hello de disques ou hello du type de disque de stockage Premium.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-271">This means hello decision for a certain VM type might not only be driven by hello CPU and memory requirements, but also by hello IOPS, latency and disk throughput requirements that usually are scaled with hello number of disks or hello type of Premium Storage disks.</span></span> <span data-ttu-id="4ed9d-272">En particulier avec un stockage Premium taille hello d’un disque peut également être dicté par hello IOPS et débit nécessitant toobe atteint par chaque disque.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-272">Especially with Premium Storage hello size of a disk also might be dictated by hello number of IOPS and throughput that needs toobe achieved by each disk.</span></span>

<span data-ttu-id="4ed9d-273">faits Hello hello globale taux d’IOPS, nombre de hello de disques montés, et hello taille de machine virtuelle sont liés entre eux, de hello peut entraîner une configuration Azure de toobe d’un système SAP différent de celui de son déploiement sur site.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-273">hello fact that hello overall IOPS rate, hello number of disks mounted, and hello size of hello VM are all tied together, might cause an Azure configuration of an SAP system toobe different than its on-premises deployment.</span></span> <span data-ttu-id="4ed9d-274">limites d’IOPS Hello par LUN sont généralement configurables dans des déploiements sur site.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-274">hello IOPS limits per LUN are usually configurable in on-premises deployments.</span></span> <span data-ttu-id="4ed9d-275">Alors qu’avec le stockage Azure ces limites sont fixes ou comme type de disque hello en fonction de stockage Premium.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-275">Whereas with Azure Storage those limits are fixed or as in Premium Storage dependent on hello disk type.</span></span> <span data-ttu-id="4ed9d-276">Par conséquent, avec des déploiements sur site, nous voyons les configurations de client de serveurs de base de données qui sont à l’aide de nombreux volumes pour les exécutables spéciaux tels que SAP et hello SGBD ou des volumes spéciaux pour les bases de données temporaires ou des espaces de table.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-276">So with on-premises deployments we see customer configurations of database servers that are using many different volumes for special executables like SAP and hello DBMS or special volumes for temporary databases or table spaces.</span></span> <span data-ttu-id="4ed9d-277">Lorsqu’un système local est déplacé tooAzure, elle peut entraîner des déchets tooa de la bande passante des IOPS potentielle gaspiller un disque pour les fichiers exécutables ou des bases de données, qui n’effectuent pas de tout ou pas un grand nombre d’IOPS.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-277">When such an on-premises system is moved tooAzure, it might lead tooa waste of potential IOPS bandwidth by wasting a disk for executables or databases, which do not perform any or not a lot of IOPS.</span></span> <span data-ttu-id="4ed9d-278">Par conséquent, dans des machines virtuelles Azure nous recommandons qu’exécutables SGBD et SAP de hello installée sur le disque du système d’exploitation de hello si possible.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-278">Therefore, in Azure VMs we recommend that hello DBMS and SAP executables be installed on hello OS disk if possible.</span></span>

<span data-ttu-id="4ed9d-279">Hello placement des fichiers de base de données hello et de fichiers journaux et de type hello de stockage Azure utilisé, doivent être définis par les e/s, la latence et les exigences de débit.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-279">hello placement of hello database files and log files and hello type of Azure Storage used, should be defined by IOPS, latency, and throughput requirements.</span></span> <span data-ttu-id="4ed9d-280">Dans l’ordre toohave suffisamment IOPS pour le journal des transactions hello, vous pouvez être forcé tooleverage plusieurs disques pour le journal des transactions hello de fichier ou utilisent un plus grand disque de stockage Premium.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-280">In order toohave enough IOPS for hello transaction log, you might be forced tooleverage multiple disks for hello transaction log file or use a larger Premium Storage disk.</span></span> <span data-ttu-id="4ed9d-281">Dans ce cas un créeriez un logiciel RAID (par exemple, Pool de stockage Windows pour Windows ou MDADM et Gestionnaire de volume logique (Gestionnaire de Volume logique) pour Linux) avec des disques hello, qui contient le journal des transactions hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-281">In such a case one would build a software RAID (for example Windows Storage Pool for Windows or MDADM and LVM (Logical Volume Manager) for Linux) with hello disks, which contain hello transaction log.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="4ed9d-283">Windows</span><span class="sxs-lookup"><span data-stu-id="4ed9d-283">Windows</span></span>
> 
> <span data-ttu-id="4ed9d-284">Lecteur D:\ dans une machine virtuelle Azure est un lecteur non persistant, qui est sauvegardé par certains disques locaux sur le nœud de calcul Azure hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-284">Drive D:\ in an Azure VM is a non-persisted drive, which is backed by some local disks on hello Azure compute node.</span></span> <span data-ttu-id="4ed9d-285">Comme il est non persistant, cela signifie que n’importe quel contenu toohello modifications hello lecteur D:\ est perdu lors du redémarrage de machine virtuelle de hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-285">Because it is non-persisted, this means that any changes made toohello content on hello D:\ drive is lost when hello VM is rebooted.</span></span> <span data-ttu-id="4ed9d-286">Par modifications, nous entendons les fichiers enregistrés, les répertoires créés, les applications installées, etc.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-286">By "any changes", we mean saved files, directories created, applications installed, etc.</span></span>
> 
> ![Linux][Logo_Linux] <span data-ttu-id="4ed9d-288">Linux</span><span class="sxs-lookup"><span data-stu-id="4ed9d-288">Linux</span></span>
> 
> <span data-ttu-id="4ed9d-289">Les machines virtuelles Azure Linux monter automatiquement un lecteur sur/mnt/Resource qui est un lecteur non persistant soutenu par les disques locaux sur le nœud de calcul Azure hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-289">Linux Azure VMs automatically mount a drive at /mnt/resource that is a non-persisted drive backed by local disks on hello Azure compute node.</span></span> <span data-ttu-id="4ed9d-290">Car il est non persistant, cela signifie que n’importe quel toocontent modifications apportées dans/mnt/Resource sont perdues lors du redémarrage de hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-290">Because it is non-persisted, this means that any changes made toocontent in /mnt/resource are lost when hello VM is rebooted.</span></span> <span data-ttu-id="4ed9d-291">Par modifications, nous entendons les fichiers enregistrés, les répertoires créés, les applications installées, etc.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-291">By any changes, we mean files saved, directories created, applications installed, etc.</span></span>
> 
> 

- - -
<span data-ttu-id="4ed9d-292">Dépend de hello séries de machines virtuelles Azure, disques locaux hello hello calcul nœud afficher performances différentes, qui peuvent être classés comme :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-292">Dependent on hello Azure VM-series, hello local disks on hello compute node show different performance, which can be categorized like:</span></span>

* <span data-ttu-id="4ed9d-293">A0-A7 : performances très limitées.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-293">A0-A7: Very limited performance.</span></span> <span data-ttu-id="4ed9d-294">Non utilisables pour autre chose que le fichier d’échange Windows.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-294">Not usable for anything beyond windows page file</span></span>
* <span data-ttu-id="4ed9d-295">A8-A11 : très bonnes caractéristiques de performances, avec quelque 10 000 E/S par seconde et un débit supérieur à 1 Go/s.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-295">A8-A11: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="4ed9d-296">Série D : très bonnes caractéristiques de performances, avec quelque 10 000 E/S par seconde et un débit supérieur à 1 Go/s.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-296">D-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="4ed9d-297">Série DS : très bonnes caractéristiques de performances, avec quelque 10 000 E/S par seconde et un débit supérieur à 1 Go/s.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-297">DS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="4ed9d-298">Série G : très bonnes caractéristiques de performances, avec quelque 10 000 E/S par seconde et un débit supérieur à 1 Go/s.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-298">G-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="4ed9d-299">Série GS : très bonnes caractéristiques de performances, avec quelque 10 000 E/S par seconde et un débit supérieur à 1 Go/s.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-299">GS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>

<span data-ttu-id="4ed9d-300">Les instructions ci-dessus appliquez des types de machine virtuelle toohello certifiées avec SAP.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-300">Statements above are applying toohello VM types that are certified with SAP.</span></span> <span data-ttu-id="4ed9d-301">Hello séries de machines virtuelles avec une excellente IOPS et le débit qualifier pour tirer parti de certaines fonctionnalités SGBD, telles que tempdb ou espace de table temporaire.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-301">hello VM-series with excellent IOPS and throughput qualify for leverage by some DBMS features, like tempdb or temporary table space.</span></span>

### <span data-ttu-id="4ed9d-302"><a name="c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f"></a>Mise en cache pour les machines virtuelles et les disques de données</span><span class="sxs-lookup"><span data-stu-id="4ed9d-302"><a name="c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f"></a>Caching for VMs and data disks</span></span>
<span data-ttu-id="4ed9d-303">Lorsque vous créez des disques de données via le portail de hello ou lorsque nous monter les disques téléchargé tooVMs, nous pouvons choisir si le trafic d’e/s de hello entre hello machine virtuelle et les disques situés dans le stockage Azure sont mis en cache.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-303">When we create data disks through hello portal or when we mount uploaded disks tooVMs, we can choose whether hello I/O traffic between hello VM and those disks located in Azure storage are cached.</span></span> <span data-ttu-id="4ed9d-304">Azure Standard et Premium Storage font appel à deux technologies différentes pour ce type de mise en cache.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-304">Azure Standard and Premium Storage use two different technologies for this type of cache.</span></span> <span data-ttu-id="4ed9d-305">Dans les deux cas, cache hello lui-même doit se trouver sur hello mêmes lecteurs utilisés par hello disque temporaire (D:\ sur Windows) ou/mnt/Resource sur Linux Hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-305">In both cases, hello cache itself would be disk backed on hello same drives used by hello temporary disk (D:\ on Windows or /mnt/resource on Linux) of hello VM.</span></span>

<span data-ttu-id="4ed9d-306">Pour le stockage Azure Standard les types hello cache possibles sont :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-306">For Azure Standard Storage hello possible cache types are:</span></span>

* <span data-ttu-id="4ed9d-307">Aucune mise en cache</span><span class="sxs-lookup"><span data-stu-id="4ed9d-307">No caching</span></span>
* <span data-ttu-id="4ed9d-308">Mise en cache en lecture</span><span class="sxs-lookup"><span data-stu-id="4ed9d-308">Read caching</span></span>
* <span data-ttu-id="4ed9d-309">Mise en cache en lecture et en écriture</span><span class="sxs-lookup"><span data-stu-id="4ed9d-309">Read and Write caching</span></span>

<span data-ttu-id="4ed9d-310">Commande tooget cohérentes et déterministes les performances, vous devez définir hello mise en cache sur le stockage Azure Standard pour tous les disques contenant **fichiers de données liées au SGBD, les fichiers journaux et too'NONE de l’espace de table'**.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-310">In order tooget consistent and deterministic performance, you should set hello caching on Azure Standard Storage for all disks containing **DBMS-related data files, log files, and table space too'NONE'**.</span></span> <span data-ttu-id="4ed9d-311">Hello mise en cache de hello machine virtuelle peut rester avec la valeur par défaut hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-311">hello caching of hello VM can remain with hello default.</span></span>

<span data-ttu-id="4ed9d-312">Pour le stockage Azure Premium hello options de mise en cache suivantes existe :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-312">For Azure Premium Storage hello following caching options exist:</span></span>

* <span data-ttu-id="4ed9d-313">Aucune mise en cache</span><span class="sxs-lookup"><span data-stu-id="4ed9d-313">No caching</span></span>
* <span data-ttu-id="4ed9d-314">Mise en cache en lecture</span><span class="sxs-lookup"><span data-stu-id="4ed9d-314">Read caching</span></span>

<span data-ttu-id="4ed9d-315">Il est recommandé pour le stockage Azure Premium tooleverage **cache de lecture pour les fichiers de données** de base de données SAP hello et choisissez **aucune mise en cache pour les disques hello de fichiers journaux**.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-315">Recommendation for Azure Premium Storage is tooleverage **Read caching for data files** of hello SAP database and chose **No caching for hello disks of log file(s)**.</span></span>

### <span data-ttu-id="4ed9d-316"><a name="c8e566f9-21b7-4457-9f7f-126036971a91"></a>RAID logiciel</span><span class="sxs-lookup"><span data-stu-id="4ed9d-316"><a name="c8e566f9-21b7-4457-9f7f-126036971a91"></a>Software RAID</span></span>
<span data-ttu-id="4ed9d-317">Comme déjà indiqué ci-dessus, vous devez toobalance hello d’IOPS nécessaires pour les fichiers de base de données hello nombre hello de disques que vous pouvez configurer et hello IOPS maximales qu’une machine virtuelle Azure fournit par disque ou le type de disque de stockage Premium.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-317">As already stated above, you need toobalance hello number of IOPS needed for hello database files across hello number of disks you can configure and hello maximum IOPS an Azure VM provides per disk or Premium Storage disk type.</span></span> <span data-ttu-id="4ed9d-318">Toodeal de façon plus simple avec hello que chargement d’e/s sur disques est toobuild un RAID logiciels sur des disques différents hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-318">Easiest way toodeal with hello IOPS load over disks is toobuild a software RAID over hello different disks.</span></span> <span data-ttu-id="4ed9d-319">Puis, placez un nombre de fichiers de données de hello SGBD SAP sur hello que LUN coupées les volumes RAID logiciels hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-319">Then place a number of data files of hello SAP DBMS on hello LUNS carved out of hello software RAID.</span></span> <span data-ttu-id="4ed9d-320">Dépend des exigences hello souhaité tooconsider hello d’utilisation du stockage Premium ainsi depuis deux Hello trois différents disques de stockage Premium fournissent des quota d’IOPS plus élevée que les disques en fonction de stockage Standard.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-320">Dependent on hello requirements you might want tooconsider hello usage of Premium Storage as well since two of hello three different Premium Storage disks provide higher IOPS quota than disks based on Standard Storage.</span></span> <span data-ttu-id="4ed9d-321">En outre hello significatif mieux la latence d’e/s fournis par le stockage Azure Premium.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-321">Besides hello significant better I/O latency provided by Azure Premium Storage.</span></span> 

<span data-ttu-id="4ed9d-322">Journal des transactions toohello systèmes SGBD hello va de même.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-322">Same applies toohello transaction log of hello different DBMS systems.</span></span> <span data-ttu-id="4ed9d-323">Avec la plupart d'entre eux ajouter simplement plus de fichiers Tlog ne permettent pas depuis SGBD hello écrire dans un des fichiers de hello à la fois uniquement.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-323">With many of them just adding more Tlog files does not help since hello DBMS systems write into one of hello files at a time only.</span></span> <span data-ttu-id="4ed9d-324">Si le taux d’IOPS plus élevés sont nécessaires à une norme unique basée sur le stockage disque peut fournir, vous pouvez distribuer sur plusieurs disques de stockage Standard, ou vous pouvez utiliser un type de disque de stockage Premium supérieure qui dépasse le taux d’IOPS plus élevés fournit également des facteurs une latence plus faible pour l’écriture de hello E/s dans le journal des transactions hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-324">If higher IOPS rates are needed than a single Standard Storage based disk can deliver, you can stripe over multiple Standard Storage disks or you can use a larger Premium Storage disk type that beyond higher IOPS rates also delivers factors lower latency for hello write I/Os into hello transaction log.</span></span>

<span data-ttu-id="4ed9d-325">Les situations rencontrées dans les déploiements Azure qui justifient l’utilisation d’un RAID logiciel sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-325">Situations experienced in Azure deployments, which would favor using a software RAID are:</span></span>

* <span data-ttu-id="4ed9d-326">Le journal des transactions et le journal de rétablissement nécessitent plus d’E/S par seconde que ce qu’un disque Azure unique peut offrir.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-326">Transaction Log/Redo Log require more IOPS than Azure provides for a single disk.</span></span> <span data-ttu-id="4ed9d-327">Comme indiqué ci-dessus, vous pouvez résoudre ce problème en créant un LUN sur plusieurs disques à l’aide d’un RAID logiciel.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-327">As mentioned above this can be solved by building a LUN over multiple disks using a software RAID.</span></span>
* <span data-ttu-id="4ed9d-328">E/s la charge de travail une distribution inégale sur hello différents fichiers de données de base de données SAP hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-328">Uneven I/O workload distribution over hello different data files of hello SAP database.</span></span> <span data-ttu-id="4ed9d-329">Dans ce cas un peut rencontrer un fichier de données atteint le quota de hello plutôt souvent.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-329">In such cases one can experience one data file hitting hello quota rather often.</span></span> <span data-ttu-id="4ed9d-330">Alors que les autres fichiers de données ne reçoivent pas même fermer toohello quota d’IOPS d’un seul disque.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-330">Whereas other data files are not even getting close toohello IOPS quota of a single disk.</span></span> <span data-ttu-id="4ed9d-331">Dans ce type hello cas solution la plus simple est toobuild un numéro d’unité logique sur plusieurs disques à l’aide d’un logiciel RAID.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-331">In such cases hello easiest solution is toobuild one LUN over multiple disks using a software RAID.</span></span> 
* <span data-ttu-id="4ed9d-332">Vous ne savez pas quel hello exacte d’e/s charge de travail par fichier de données est et uniquement à peu près savoir ce que hello globale charge de travail des IOPS hello SGBD est.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-332">You don’t know what hello exact I/O workload per data file is and only roughly know what hello overall IOPS workload against hello DBMS is.</span></span> <span data-ttu-id="4ed9d-333">Toodo plus simple est toobuild un numéro d’unité logique avec hello aide d’un logiciel RAID.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-333">Easiest toodo is toobuild one LUN with hello help of a software RAID.</span></span> <span data-ttu-id="4ed9d-334">somme de Hello des quotas de plusieurs disques derrière ce numéro d’unité logique doit satisfaire puis hello connu IOPS taux.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-334">hello sum of quotas of multiple disks behind this LUN should then fulfill hello known IOPS rate.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="4ed9d-336">Windows</span><span class="sxs-lookup"><span data-stu-id="4ed9d-336">Windows</span></span>
> 
> <span data-ttu-id="4ed9d-337">Il est conseillé d’utiliser des espaces de stockage Windows si vous exécutez Windows Server 2012 ou version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-337">We recommend using Windows Storage Spaces if you run on Windows Server 2012 or higher.</span></span> <span data-ttu-id="4ed9d-338">Cette méthode est plus efficace que l’agrégation de versions antérieures de Windows.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-338">It is more efficient than Windows Striping of earlier Windows versions.</span></span> <span data-ttu-id="4ed9d-339">Vous devrez peut-être toocreate hello Pools de stockage Windows et les espaces de stockage par les commandes PowerShell lors de l’utilisation de Windows Server 2012 en tant que système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-339">You might need toocreate hello Windows Storage Pools and Storage Spaces by PowerShell commands when using Windows Server 2012 as Operating System.</span></span> <span data-ttu-id="4ed9d-340">commandes de PowerShell Hello se trouve ici <https://technet.microsoft.com/library/jj851254.aspx></span><span class="sxs-lookup"><span data-stu-id="4ed9d-340">hello PowerShell commands can be found here <https://technet.microsoft.com/library/jj851254.aspx></span></span>
> 
> ![Linux][Logo_Linux] <span data-ttu-id="4ed9d-342">Linux</span><span class="sxs-lookup"><span data-stu-id="4ed9d-342">Linux</span></span>
> 
> <span data-ttu-id="4ed9d-343">MDADM et Gestionnaire de volume logique (Gestionnaire de volumes logiques) sont pris en charge toobuild un logiciel RAID sur Linux.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-343">Only MDADM and LVM (Logical Volume Manager) are supported toobuild a software RAID on Linux.</span></span> <span data-ttu-id="4ed9d-344">Pour plus d’informations, lisez hello suivant des articles :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-344">For more information, read hello following articles:</span></span>
> 
> * <span data-ttu-id="4ed9d-345">[Configuration d’un RAID logiciel sur Linux][virtual-machines-linux-configure-raid] (pour MDADM)</span><span class="sxs-lookup"><span data-stu-id="4ed9d-345">[Configure Software RAID on Linux][virtual-machines-linux-configure-raid] (for MDADM)</span></span>
> * <span data-ttu-id="4ed9d-346">[Configurer LVM sur une machine virtuelle Linux dans Azure][virtual-machines-linux-configure-lvm]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-346">[Configure LVM on a Linux VM in Azure][virtual-machines-linux-configure-lvm]</span></span>
> 
> 

- - -
<span data-ttu-id="4ed9d-347">Considérations pour tirer parti de série de la machine virtuelle, ce qui est en mesure de toowork avec le stockage Azure Premium généralement sont :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-347">Considerations for leveraging VM-series, which are able toowork with Azure Premium Storage usually are:</span></span>

* <span data-ttu-id="4ed9d-348">Demandes de latences d’e/s Fermez toowhat SAN/NAS périphériques livrer.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-348">Demands for I/O latencies that are close toowhat SAN/NAS devices deliver.</span></span>
* <span data-ttu-id="4ed9d-349">Exigence d’une latence d’E/S plusieurs fois inférieure à celle offerte par le stockage Azure Standard.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-349">Demand for factors better I/O latency than Azure Standard Storage can deliver.</span></span>
* <span data-ttu-id="4ed9d-350">Nombre d’E/S par seconde par machine virtuelle plus élevé que ce que permettent d’atteindre plusieurs disques Standard avec un certain type de machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-350">Higher IOPS per VM than what could be achieved with multiple Standard Storage disks against a certain VM type.</span></span>

<span data-ttu-id="4ed9d-351">Depuis hello Azure stockage sous-jacent réplique chaque nœud de stockage disque tooat moins de trois, simple RAID 0 agrégation par bandes peut être utilisée.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-351">Since hello underlying Azure Storage replicates each disk tooat least three storage nodes, simple RAID 0 striping can be used.</span></span> <span data-ttu-id="4ed9d-352">Il n’existe aucun tooimplement besoin RAID5 ou RAID1.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-352">There is no need tooimplement RAID5 or RAID1.</span></span>

### <span data-ttu-id="4ed9d-353"><a name="10b041ef-c177-498a-93ed-44b3441ab152"></a>Microsoft Azure Storage</span><span class="sxs-lookup"><span data-stu-id="4ed9d-353"><a name="10b041ef-c177-498a-93ed-44b3441ab152"></a>Microsoft Azure Storage</span></span>
<span data-ttu-id="4ed9d-354">Magasins de stockage Microsoft Azure hello machine virtuelle de base (avec le système d’exploitation) et les disques ou les nœuds de stockage distincts tooat au moins trois objets BLOB.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-354">Microsoft Azure Storage stores hello base VM (with OS) and disks or BLOBs tooat least three separate storage nodes.</span></span> <span data-ttu-id="4ed9d-355">Lors de la création d’un compte de stockage ou d’un disque managé, plusieurs options de protection sont proposées :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-355">When creating a storage account or managed disk, there is a choice of protection as shown here:</span></span>

![Géoréplication activée pour le compte Azure Storage][dbms-guide-figure-100]

<span data-ttu-id="4ed9d-357">Réplication locale Azure Storage (localement redondant) fournit les niveaux de protection contre la perte de données en raison de l’échec de tooinfrastructure que quelques clients peuvent se permettre de toodeploy.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-357">Azure Storage Local Replication (Locally Redundant) provides levels of protection against data loss due tooinfrastructure failure that few customers could afford toodeploy.</span></span> <span data-ttu-id="4ed9d-358">Comme indiqué ci-dessus quatre différentes options sont un cinquième étant une variante de l’un des hello tout d’abord trois.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-358">As shown above there are four different options with a fifth being a variation of one of hello first three.</span></span> <span data-ttu-id="4ed9d-359">En les examinant de plus près, nous pouvons distinguer :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-359">Looking closer at them we can distinguish:</span></span>

* <span data-ttu-id="4ed9d-360">**Stockage localement redondant Premium (LRS)**: Azure Premium Storage offre une prise en charge très performante et à faible latence des disques pour les machines virtuelles exécutant des charges de travail qui utilisent beaucoup d’E/S.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-360">**Premium Locally Redundant Storage (LRS)**: Azure Premium Storage delivers high-performance, low-latency disk support for virtual machines running I/O-intensive workloads.</span></span> <span data-ttu-id="4ed9d-361">Il existe trois réplicas des données hello dans hello même centre de données Azure d’une région Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-361">There are three replicas of hello data within hello same Azure datacenter of an Azure region.</span></span> <span data-ttu-id="4ed9d-362">Hello copies se trouvent dans différents domaines d’erreur et mettre à niveau (pour voir des concepts [cela] [ planning-guide-3.2] chapitre Bonjour [Guide de planification][planning-guide]).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-362">hello copies are in different Fault and Upgrade Domains (for concepts see [this][planning-guide-3.2] chapter in hello [Planning Guide][planning-guide]).</span></span> <span data-ttu-id="4ed9d-363">En cas d’un réplica de données hello hors service en raison de la défaillance de nœud de stockage tooa ou de défaillance du disque, un nouveau réplica est généré automatiquement.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-363">In case of a replica of hello data going out of service due tooa storage node failure or disk failure, a new replica is generated automatically.</span></span>
* <span data-ttu-id="4ed9d-364">**Stockage localement redondant (LRS)**: dans ce cas, il existe des trois réplicas des données hello dans hello même centre de données Azure d’une région Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-364">**Locally Redundant Storage (LRS)**: In this case, there are three replicas of hello data within hello same Azure datacenter of an Azure region.</span></span> <span data-ttu-id="4ed9d-365">Hello copies se trouvent dans différents domaines d’erreur et mettre à niveau (pour voir des concepts [cela] [ planning-guide-3.2] chapitre Bonjour [Guide de planification][planning-guide]).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-365">hello copies are in different Fault and Upgrade Domains (for concepts see [this][planning-guide-3.2] chapter in hello [Planning Guide][planning-guide]).</span></span> <span data-ttu-id="4ed9d-366">En cas d’un réplica de données hello hors service en raison de la défaillance de nœud de stockage tooa ou de défaillance du disque, un nouveau réplica est généré automatiquement.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-366">In case of a replica of hello data going out of service due tooa storage node failure or disk failure, a new replica is generated automatically.</span></span> 
* <span data-ttu-id="4ed9d-367">**Stockage redondant de géo-réplication (GRS)**: dans ce cas, il est a une réplication asynchrone qui flux supplémentaire trois réplicas des données hello dans une autre région Azure, qui est dans la plupart des cas de hello dans hello même région géographique (par exemple, Europe du Nord et l’ouest Europe).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-367">**Geo Redundant Storage (GRS)**: In this case, there is an asynchronous replication that feeds an additional three replicas of hello data in another Azure Region, which is in most of hello cases in hello same geographical region (like North Europe and West Europe).</span></span> <span data-ttu-id="4ed9d-368">Cela crée trois réplicas supplémentaires, donc six au total.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-368">This results in three additional replicas, so that there are six replicas in sum.</span></span> <span data-ttu-id="4ed9d-369">Une variante de ce est un complément où les données de hello dans hello répliquées région Azure peuvent être utilisées à des fins lecture (Read-Access géo-redondant).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-369">A variation of this is an addition where hello data in hello geo replicated Azure region can be used for read purposes (Read-Access Geo-Redundant).</span></span>
* <span data-ttu-id="4ed9d-370">**Zone de stockage redondants (ZRS)**: dans ce cas, les réplicas hello trois Hello données restent dans hello même région Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-370">**Zone Redundant Storage (ZRS)**: In this case, hello three replicas of hello data remain in hello same Azure Region.</span></span> <span data-ttu-id="4ed9d-371">Comme expliqué dans [cela] [ planning-guide-3.1] chapitre Hello [Guide de planification] [ planning-guide] une région Azure peut être un nombre de centres de données à proximité.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-371">As explained in [this][planning-guide-3.1] chapter of hello [Planning Guide][planning-guide] an Azure region can be a number of datacenters in close proximity.</span></span> <span data-ttu-id="4ed9d-372">Dans les cas de hello de LRS les réplicas hello seraient distribuées sur hello différents centres de données constituant une région Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-372">In hello case of LRS hello replicas would be distributed over hello different datacenters that make one Azure region.</span></span>

<span data-ttu-id="4ed9d-373">Des informations supplémentaires sont disponibles [ici][storage-redundancy].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-373">More information can be found [here][storage-redundancy].</span></span>

> [!NOTE]
> <span data-ttu-id="4ed9d-374">Pour les déploiements SGBD, hello stockage géo-redondant n'est pas recommandé d’utiliser des</span><span class="sxs-lookup"><span data-stu-id="4ed9d-374">For DBMS deployments, hello usage of Geo Redundant Storage is not recommended</span></span>
> 
> <span data-ttu-id="4ed9d-375">La géo-réplication Azure Storage est asynchrone.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-375">Azure Storage Geo-Replication is asynchronous.</span></span> <span data-ttu-id="4ed9d-376">Réplication des disques individuels monté tooa seule machine virtuelle ne sont pas synchronisées à l’étape de verrou.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-376">Replication of individual disks mounted tooa single VM are not synchronized in lock step.</span></span> <span data-ttu-id="4ed9d-377">Par conséquent, il n’est pas les fichiers de SGBD tooreplicate approprié qui sont distribuées sur des disques différents ou déployés sur un logiciel RAID basé sur plusieurs disques.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-377">Therefore, it is not suitable tooreplicate DBMS files that are distributed over different disks or deployed against a software RAID based on multiple disks.</span></span> <span data-ttu-id="4ed9d-378">Les logiciels SGBD requièrent que le stockage de disque persistant hello soit synchronisé précisément sur différents numéros d’unités logiques et les piles de disques sous-jacents /.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-378">DBMS software requires that hello persistent disk storage is precisely synchronized across different LUNs and underlying disks/spindles.</span></span> <span data-ttu-id="4ed9d-379">Les logiciels SGBD utilisent différents mécanismes toosequence activités d’écriture e/s et un SGBD signale que le stockage sur disque hello ciblé par la réplication de hello est endommagé si ces séquences varient même de quelques millisecondes.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-379">DBMS software uses various mechanisms toosequence IO write activities and a DBMS reports that hello disk storage targeted by hello replication is corrupted if these vary even by a few milliseconds.</span></span> <span data-ttu-id="4ed9d-380">Si vous avez vraiment une configuration de base de données avec une base de données répartie sur plusieurs disques géo-répliquées, ce type de réplication doit donc toobe effectuée avec des moyens de la base de données et les fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-380">Hence if one really wants a database configuration with a database stretched across multiple disks geo-replicated, such a replication needs toobe performed with database means and functionality.</span></span> <span data-ttu-id="4ed9d-381">Un fiez pas à la géo-réplication du stockage Azure tooperform ce travail.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-381">One should not rely on Azure Storage Geo-Replication tooperform this job.</span></span> 
> 
> <span data-ttu-id="4ed9d-382">problème de Hello est la plus simple tooexplain avec un exemple de système.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-382">hello problem is simplest tooexplain with an example system.</span></span> <span data-ttu-id="4ed9d-383">Supposons que vous disposez d’un système SAP chargé dans Azure, qui possède huit disques contenant les fichiers de données de hello SGBD plus un disque contenant le fichier journal des transactions hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-383">Let’s assume you have an SAP system uploaded into Azure, which has eight disks containing data files of hello DBMS plus one disk containing hello transaction log file.</span></span> <span data-ttu-id="4ed9d-384">Chacune de ces neuf disques de données sont écrites toothem dans une méthode cohérente selon toohello SGBD, si hello écriture des données en fichiers de journaux de transaction ou des données toohello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-384">Each one of these nine disks have data written toothem in a consistent method according toohello DBMS, whether hello data is being written toohello data or transaction log files.</span></span>
> 
> <span data-ttu-id="4ed9d-385">Dans l’ordre tooproperly géo-répliquer hello des données et mettre à jour une image de base de données cohérente, le contenu de hello de tous les disques de neuf auraient toobe géo-répliquées dans les opérations de hello ordre exact hello d’e/s ont été exécutées sur des disques différents hello neuf.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-385">In order tooproperly geo-replicate hello data and maintain a consistent database image, hello content of all nine disks would have toobe geo-replicated in hello exact order hello I/O operations were executed against hello nine different disks.</span></span> <span data-ttu-id="4ed9d-386">Toutefois, le stockage Azure géo-réplication n’autorise pas toodeclare les dépendances entre les disques.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-386">However, Azure Storage geo-replication does not allow toodeclare dependencies between disks.</span></span> <span data-ttu-id="4ed9d-387">Cela signifie que Microsoft Azure Storage géo-réplication ne connaît pas hello fait que contenu hello dans ces différents neuf disques connexe tooeach autres et que les modifications de données hello sont cohérentes uniquement lors de la réplication dans les opérations d’e/s hello commande hello s’est produit sur tous les disques de neuf hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-387">This means Microsoft Azure Storage geo-replication doesn’t know about hello fact that hello contents in these nine different disks are related tooeach other and that hello data changes are consistent only when replicating in hello order hello I/O operations happened across all hello nine disks.</span></span>
> 
> <span data-ttu-id="4ed9d-388">En plus des risques soit élevée que les images hello géo-répliquées dans un scénario de hello ne fournissent pas une image cohérente de la base de données, il existe également une baisse des performances qui s’affiche avec le stockage géo-redondant peut sérieusement nuire aux performances.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-388">Besides chances being high that hello geo-replicated images in hello scenario do not provide a consistent database image, there also is a performance penalty that shows up with geo redundant storage that can severely impact performance.</span></span> <span data-ttu-id="4ed9d-389">En résumé, n’utilisez pas ce type de redondance de stockage pour les charges de travail du type SGBD.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-389">In summary, do not use this type of storage redundancy for DBMS type workloads.</span></span>
> 
> 

#### <a name="mapping-vhds-into-azure-virtual-machine-service-storage-accounts"></a><span data-ttu-id="4ed9d-390">Mappage de disques durs virtuels à des comptes de stockage du service Azure Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="4ed9d-390">Mapping VHDs into Azure Virtual Machine Service Storage Accounts</span></span>
<span data-ttu-id="4ed9d-391">Ce chapitre s’applique uniquement à des comptes de stockage tooAzure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-391">This chapter only applies tooAzure Storage Accounts.</span></span> <span data-ttu-id="4ed9d-392">Si vous envisagez de disques gérés de toouse, limitations hello mentionnées dans ce chapitre ne s’appliquent pas.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-392">If you plan toouse Managed Disks, hello limitations mentioned in this chapter do not apply.</span></span> <span data-ttu-id="4ed9d-393">Pour plus d’informations sur les disques managés, lisez le chapitre [Disques managés][dbms-guide-managed-disks] de ce guide.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-393">For more information about Managed Disks, read chapter [Managed Disks][dbms-guide-managed-disks] of this guide.</span></span>

<span data-ttu-id="4ed9d-394">Un compte de stockage Azure est non seulement le fait d’un administrateur, mais également l’objet de limitations.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-394">An Azure Storage Account is not only an administrative construct, but also a subject of limitations.</span></span> <span data-ttu-id="4ed9d-395">Alors que les limitations de hello varient si nous parlons un compte de stockage Azure Standard ou un compte de stockage Azure Premium.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-395">Whereas hello limitations vary on whether we talk about an Azure Standard Storage Account or an Azure Premium Storage Account.</span></span> <span data-ttu-id="4ed9d-396">fonctionnalités Hello et limitations sont répertoriées [ici][storage-scalability-targets]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-396">hello exact capabilities and limitations are listed [here][storage-scalability-targets]</span></span>

<span data-ttu-id="4ed9d-397">Pour le stockage Azure Standard, il est important toonote hello IOPS par compte de stockage est limitée (de la ligne contenant « Taux de demandes Total » dans [article de hello][storage-scalability-targets]).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-397">So for Azure Standard Storage it is important toonote there is a limit on hello IOPS per storage account (Row containing ‘Total Request Rate’ in [hello article][storage-scalability-targets]).</span></span> <span data-ttu-id="4ed9d-398">De plus, il y a une limite initiale de 100 comptes de stockage par abonnement Azure (depuis juillet 2015).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-398">In addition, there is an initial limit of 100 Storage Accounts per Azure subscription (as of July 2015).</span></span> <span data-ttu-id="4ed9d-399">Par conséquent, il est recommandé de toobalance IOPS d’ordinateurs virtuels entre plusieurs comptes de stockage lorsque vous utilisez le stockage Azure Standard.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-399">Therefore, it is recommended toobalance IOPS of VMs between multiple storage accounts when using Azure Standard Storage.</span></span> <span data-ttu-id="4ed9d-400">alors que dans l’idéal, une machine virtuelle unique doit si possible utiliser un seul compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-400">Whereas a single VM ideally uses one storage account if possible.</span></span> <span data-ttu-id="4ed9d-401">Dans le cas de déploiements SGBD où chaque disque dur virtuel hébergé dans le stockage Azure Standard peut atteindre sa limite de quota, vous devez donc déployer seulement 30 à 40 disques durs virtuels par compte de stockage Azure faisant appel au stockage Azure Standard.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-401">So if we talk about DBMS deployments where each VHD that is hosted on Azure Standard Storage could reach its quota limit, you should only deploy 30-40 VHDs per Azure Storage Account that uses Azure Standard Storage.</span></span> <span data-ttu-id="4ed9d-402">Sur hello autre part, si vous tirer parti du stockage Azure Premium et que vous souhaitez toostore des volumes de base de données volumineuse, vous pouvez être précis en termes d’e/s.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-402">On hello other hand, if you leverage Azure Premium Storage and want toostore large database volumes, you might be fine in terms of IOPS.</span></span> <span data-ttu-id="4ed9d-403">Cependant, un compte de stockage Azure Premium Storage est beaucoup plus restrictif en matière de volume de données qu’un compte de stockage Azure Standard.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-403">But an Azure Premium Storage Account is way more restrictive in data volume than an Azure Standard Storage Account.</span></span> <span data-ttu-id="4ed9d-404">Par conséquent, vous pouvez uniquement déployer un nombre limité de disques durs virtuels au sein d’un compte de stockage Azure Premium avant d’atteindre la limite de volume de données hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-404">As a result, you can only deploy a limited number of VHDs within an Azure Premium Storage Account before hitting hello data volume limit.</span></span> <span data-ttu-id="4ed9d-405">À la fin de hello, considérez un compte de stockage Azure comme un « réseau SAN virtuel » qui est limité aux e/s et/ou de capacité.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-405">At hello end, think of an Azure Storage Account as a “Virtual SAN” that has limited capabilities in IOPS and/or capacity.</span></span> <span data-ttu-id="4ed9d-406">Par conséquent, tâche hello reste, comme dans les déploiements sur site, de mise en page de hello toodefine Hello disques durs virtuels de différents systèmes SAP hello sur hello différents « appareils SAN imaginaires » ou des comptes de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-406">As a result, hello task remains, as in on-premises deployments, toodefine hello layout of hello VHDs of hello different SAP systems over hello different ‘imaginary SAN devices’ or Azure Storage Accounts.</span></span>

<span data-ttu-id="4ed9d-407">Pour le stockage Azure Standard, il est déconseillé stockage toopresent tooa de comptes de stockage différent si possible une seule machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-407">For Azure Standard Storage, it is not recommended toopresent storage from different storage accounts tooa single VM if possible.</span></span>

<span data-ttu-id="4ed9d-408">Lorsque vous utilisez hello DS ou GS-série de machines virtuelles Azure, il est possible toomount les disques durs virtuels en dehors des comptes de stockage Azure Standard et les comptes de stockage Premium.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-408">When using hello DS or GS-series of Azure VMs, it is possible toomount VHDs out of Azure Standard Storage Accounts and Premium Storage Accounts.</span></span> <span data-ttu-id="4ed9d-409">Cas d’usage telles que l’écriture des sauvegardes dans le stockage Standard sauvegardé les disques durs virtuels et données SGBD et les fichiers journaux sur un stockage Premium sont fournis toomind où ce type de stockage hétérogènes pourrait être exploitée.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-409">Use cases like writing backups into Standard Storage backed VHDs and having DBMS data and log files on Premium Storage come toomind where such heterogeneous storage could be leveraged.</span></span> 

<span data-ttu-id="4ed9d-410">Basée sur les déploiements de client et test too40 environ 30 disques durs virtuels contenant les fichiers de données de base de données et les fichiers journaux peuvent être configurés sur un compte de stockage Standard de Azure unique avec des performances acceptables.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-410">Based on customer deployments and testing around 30 too40 VHDs containing database data files and log files can be provisioned on a single Azure Standard Storage Account with acceptable performance.</span></span> <span data-ttu-id="4ed9d-411">Comme mentionné précédemment, limitation hello d’un compte de stockage Azure Premium est probablement toobe hello capacité de données que peut contenir et pas les e/s.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-411">As mentioned earlier, hello limitation of an Azure Premium Storage Account is likely toobe hello data capacity it can hold and not IOPS.</span></span>

<span data-ttu-id="4ed9d-412">Comme avec SAN appareils en local, partage nécessite la surveillance dans l’ordre tooeventually détecter les goulots d’étranglement sur un compte de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-412">As with SAN devices on-premises, sharing requires some monitoring in order tooeventually detect bottlenecks on an Azure Storage Account.</span></span> <span data-ttu-id="4ed9d-413">Hello, Extension de surveillance Azure pour SAP et hello portail Azure sont des outils qui peuvent être utilisé toodetect occupé des comptes de stockage Azure qui peut être remise des performances d’e/s non optimaux.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-413">hello Azure Monitoring Extension for SAP and hello Azure portal are tools that can be used toodetect busy Azure Storage Accounts that may be delivering suboptimal IO performance.</span></span>  <span data-ttu-id="4ed9d-414">Si cette situation se produit, il est recommandé de tooanother des machines virtuelles occupé toomove compte de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-414">If this situation is detected, it is recommended toomove busy VMs tooanother Azure Storage Account.</span></span> <span data-ttu-id="4ed9d-415">Consultez toohello [Guide de déploiement] [ deployment-guide] pour plus d’informations sur comment tooactivate hello SAP héberger les capacités d’analyse.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-415">Refer toohello [Deployment Guide][deployment-guide] for details on how tooactivate hello SAP host monitoring capabilities.</span></span>

<span data-ttu-id="4ed9d-416">Un autre article synthétisant les bonnes pratiques relatives au stockage Azure standard et aux comptes de stockage Azure standard est disponible sur la page <https://blogs.msdn.com/b/mast/archive/2014/10/14/configuring-azure-virtual-machines-for-optimal-storage-performance.aspx>.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-416">Another article summarizing best practices around Azure Standard Storage and Azure Standard Storage Accounts can be found here <https://blogs.msdn.com/b/mast/archive/2014/10/14/configuring-azure-virtual-machines-for-optimal-storage-performance.aspx></span></span>

#### <span data-ttu-id="4ed9d-417"><a name="f42c6cb5-d563-484d-9667-b07ae51bce29"></a>Disques managés</span><span class="sxs-lookup"><span data-stu-id="4ed9d-417"><a name="f42c6cb5-d563-484d-9667-b07ae51bce29"></a>Managed Disks</span></span>
<span data-ttu-id="4ed9d-418">Les disques managés sont un nouveau type de ressources d’Azure Resource Manager. Ils peuvent être utilisés à la place des disques durs virtuels qui sont stockés dans les comptes de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-418">Managed Disks are a new resource type in Azure Resource Manager that can be used instead of VHDs that are stored in Azure Storage Accounts.</span></span> <span data-ttu-id="4ed9d-419">Alignent automatiquement des disques gérés par hello à haute disponibilité de la machine virtuelle de hello qu’ils sont attachés tooand donc augmenter la disponibilité de votre machine virtuelle et les services de hello qui s’exécutent sur l’ordinateur virtuel de hello hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-419">Managed Disks automatically align with hello Availability Set of hello virtual machine they are attached tooand therefore increase hello availability of your virtual machine and hello services that are running on hello virtual machine.</span></span> <span data-ttu-id="4ed9d-420">toolearn plus, en lecture hello [l’article de vue d’ensemble](https://docs.microsoft.com/azure/storage/storage-managed-disks-overview).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-420">toolearn more, read hello [overview article](https://docs.microsoft.com/azure/storage/storage-managed-disks-overview).</span></span>

<span data-ttu-id="4ed9d-421">SAP prend uniquement en charge les disques managés Premium.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-421">SAP currently only supports Premium Managed Disks.</span></span> <span data-ttu-id="4ed9d-422">Pour plus d’informations, lisez la note SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-422">Read SAP Note [1928533] for more details.</span></span>

#### <a name="moving-deployed-dbms-vms-from-azure-standard-storage-tooazure-premium-storage"></a><span data-ttu-id="4ed9d-423">Déplacement déployé des machines virtuelles SGBD à partir du stockage Standard Azure tooAzure stockage Premium</span><span class="sxs-lookup"><span data-stu-id="4ed9d-423">Moving deployed DBMS VMs from Azure Standard Storage tooAzure Premium Storage</span></span>
<span data-ttu-id="4ed9d-424">Nous rencontrons un certain scénarios où vous en tant que client toomove une machine virtuelle déployée depuis le stockage Azure Standard dans le stockage Azure Premium.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-424">We encounter quite some scenarios where you as customer want toomove a deployed VM from Azure Standard Storage into Azure Premium Storage.</span></span> <span data-ttu-id="4ed9d-425">Si vos disques sont stockés dans les comptes de stockage Azure, cela n’est pas possible sans déplacer physiquement les données de salutation.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-425">If your disks are stored in Azure Storage Accounts, this is not possible without physically moving hello data.</span></span> <span data-ttu-id="4ed9d-426">Il existe plusieurs objectifs de hello tooachieve façons :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-426">There are several ways tooachieve hello goal:</span></span>

* <span data-ttu-id="4ed9d-427">Vous pouvez simplement copier tous les disques durs virtuels, le disque dur virtuel de base, ainsi que les disques durs virtuels de données dans un nouveau compte de stockage Azure Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-427">You could simply copy all VHDs, base VHD as well as data VHDs into a new Azure Premium Storage Account.</span></span> <span data-ttu-id="4ed9d-428">Fréquence à laquelle vous avez choisi numéro hello de disques durs virtuels dans le stockage Azure Standard pas en raison des faits hello que vous avez besoin de volume de données hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-428">Often you chose hello number of VHDs in Azure Standard Storage not because of hello fact that you needed hello data volume.</span></span> <span data-ttu-id="4ed9d-429">Mais vous avez besoin d’autant de disques durs virtuels en raison de hello IOPS.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-429">But you needed that many VHDs because of hello IOPS.</span></span> <span data-ttu-id="4ed9d-430">Maintenant que vous déplacez tooAzure stockage Premium vous ait moyen moins tooachieve de disques durs virtuels hello même débit d’e/s.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-430">Now that you move tooAzure Premium Storage you could go with way fewer VHDs tooachieve hello same IOPS throughput.</span></span> <span data-ttu-id="4ed9d-431">Étant donné les faits hello que dans le stockage Azure Standard vous payez pour hello utilisé données et la taille du disque nominal de hello pas, nombre hello de disques durs virtuels vraiment peu en termes de coûts.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-431">Given hello fact that in Azure Standard Storage you pay for hello used data and not hello nominal disk size, hello number of VHDs did not really matter in terms of costs.</span></span> <span data-ttu-id="4ed9d-432">Toutefois, avec le stockage Azure Premium, vous payeriez pour la taille du disque nominal hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-432">However, with Azure Premium Storage, you would pay for hello nominal disk size.</span></span> <span data-ttu-id="4ed9d-433">Par conséquent, la plupart des clients de hello essayez de nombre de hello tookeep de disques durs virtuels de Azure dans un stockage Premium à hello numéro tooachieve nécessaires hello débit d’IOPS nécessaire.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-433">Therefore, most of hello customers try tookeep hello number of Azure VHDs in Premium Storage at hello number needed tooachieve hello IOPS throughput necessary.</span></span> <span data-ttu-id="4ed9d-434">Par conséquent, la plupart des clients de décider par rapport à la façon de hello d’un simple 1:1 copie.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-434">So, most customers decide against hello way of a simple 1:1 copy.</span></span>
* <span data-ttu-id="4ed9d-435">S’il n’est pas encore monté, vous montez un disque dur virtuel unique pouvant contenir une sauvegarde de base de données de votre base de données SAP.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-435">If not yet mounted, you mount a single VHD that can contain a database backup of your SAP database.</span></span> <span data-ttu-id="4ed9d-436">Après la sauvegarde de hello, démontage de tous les disques durs virtuels dont hello VHD contenant hello sauvegarde et hello de copie disque dur virtuel de base et hello du disque dur virtuel avec la sauvegarde de hello dans un compte de stockage Azure Premium.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-436">After hello backup, you unmount all VHDs including hello VHD containing hello backup and copy hello base VHD and hello VHD with hello backup into an Azure Premium Storage account.</span></span> <span data-ttu-id="4ed9d-437">Vous déployez ensuite hello que machine virtuelle basée sur hello base VHD et montage hello disque dur virtuel avec la sauvegarde de hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-437">You would then deploy hello VM based on hello base VHD and mount hello VHD with hello backup.</span></span> <span data-ttu-id="4ed9d-438">Maintenant vous créez vide Premium stockage des disques supplémentaires pour hello ordinateurs virtuels qui sont utilisés toorestore hello bases de données.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-438">Now you create additional empty Premium Storage Disks for hello VM that are used toorestore hello database into.</span></span> <span data-ttu-id="4ed9d-439">Cela suppose que hello SGBD vous permet de toochange chemins toohello données et fichiers journaux dans le cadre du processus de restauration hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-439">This assumes that hello DBMS allows you toochange paths toohello data and log files as part of hello restore process.</span></span>
* <span data-ttu-id="4ed9d-440">Une autre possibilité est une variante du processus précédent hello, dans lequel vous venez copiez de sauvegarde de hello disque dur virtuel dans le stockage Azure Premium et attachez sur une machine virtuelle qui vient d’être déployé et installé.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-440">Another possibility is a variation of hello former process, where you just copy hello backup VHD into Azure Premium Storage and attach it against a VM that you newly deployed and installed.</span></span>
* <span data-ttu-id="4ed9d-441">possibilité de quatrième Hello, vous devez choisir lorsque vous êtes dans le besoin de nombre de hello toochange des fichiers de données de votre base de données.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-441">hello fourth possibility you would choose when you are in need toochange hello number of data files of your database.</span></span> <span data-ttu-id="4ed9d-442">Dans ce cas, vous exécutez une copie de système homogène SAP à l’aide de la fonctionnalité d’exportation/importation.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-442">In such a case, you would perform an SAP homogenous system copy using export/import.</span></span> <span data-ttu-id="4ed9d-443">Placez les exporter des fichiers dans un disque dur virtuel est copié dans un compte de stockage Azure Premium et en l’attachant tooa machine virtuelle que vous utilisez le processus d’importation toorun hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-443">Put those export files into a VHD that is copied into an Azure Premium Storage Account and attach it tooa VM that you use toorun hello import processes.</span></span> <span data-ttu-id="4ed9d-444">Les clients utilisent cette possibilité principalement quand ils le souhaitent toodecrease hello quantité, pour les fichiers de données.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-444">Customers use this possibility mainly when they want toodecrease hello number of data files.</span></span>

<span data-ttu-id="4ed9d-445">Si vous utilisez des disques gérés, vous pouvez migrer tooPremium stockage par :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-445">If you use Managed Disks, you can migrate tooPremium Storage by:</span></span>

1. <span data-ttu-id="4ed9d-446">Désallouer une machine virtuelle hello</span><span class="sxs-lookup"><span data-stu-id="4ed9d-446">Deallocate hello virtual machine</span></span>
2. <span data-ttu-id="4ed9d-447">Si nécessaire, redimensionnez la taille de tooa hello machine virtuelle qui prend en charge le stockage Premium (par exemple DS ou GS)</span><span class="sxs-lookup"><span data-stu-id="4ed9d-447">If necessary, resize hello virtual machine tooa size that supports Premium Storage (for example DS or GS)</span></span>
3. <span data-ttu-id="4ed9d-448">Modifier tooPremium de type hello disques gérés compte (SSD)</span><span class="sxs-lookup"><span data-stu-id="4ed9d-448">Change hello Managed Disk account type tooPremium (SSD)</span></span>
4. <span data-ttu-id="4ed9d-449">Démarrez la machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="4ed9d-449">Start your virtual machine</span></span>

### <a name="deployment-of-vms-for-sap-in-azure"></a><span data-ttu-id="4ed9d-450">Déploiement de machines virtuelles pour SAP dans Azure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-450">Deployment of VMs for SAP in Azure</span></span>
<span data-ttu-id="4ed9d-451">Microsoft Azure offre plusieurs méthodes de machines virtuelles de toodeploy et de disques associés.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-451">Microsoft Azure offers multiple ways toodeploy VMs and associated disks.</span></span> <span data-ttu-id="4ed9d-452">Ainsi, il est différences de hello toounderstand important, car les préparations d’ordinateurs virtuels de hello peuvent différer dépend de la façon de hello du déploiement.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-452">Thereby it is important toounderstand hello differences since preparations of hello VMs might differ dependent on hello way of deployment.</span></span> <span data-ttu-id="4ed9d-453">En règle générale, nous examinerons les scénarios de hello décrits dans hello suivant chapitres.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-453">In general, we look into hello scenarios described in hello following chapters.</span></span>

#### <a name="deploying-a-vm-from-hello-azure-marketplace"></a><span data-ttu-id="4ed9d-454">Déploiement d’une machine virtuelle à partir de hello Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="4ed9d-454">Deploying a VM from hello Azure Marketplace</span></span>
<span data-ttu-id="4ed9d-455">Vous aimez tootake Microsoft ou tiers fournie image hello Azure Marketplace toodeploy à partir de votre machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-455">You like tootake a Microsoft or third party provided image from hello Azure Marketplace toodeploy your VM.</span></span> <span data-ttu-id="4ed9d-456">Une fois que vous avez déployé votre machine virtuelle dans Azure, vous suivez hello mêmes directives et outils tooinstall hello logiciels SAP dans votre machine virtuelle comme vous le feriez dans un environnement sur site.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-456">After you deployed your VM in Azure, you follow hello same guidelines and tools tooinstall hello SAP software inside your VM as you would do in an on-premises environment.</span></span> <span data-ttu-id="4ed9d-457">Pour installer le logiciel SAP hello à l’intérieur de hello machine virtuelle Azure, SAP et Microsoft vous recommandons de télécharger et stockent support d’installation SAP hello dans les disques ou toocreate une machine virtuelle Azure fonctionne comme un « serveur de fichiers », qui contient tous les hello support d’installation SAP nécessaires.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-457">For installing hello SAP software inside hello Azure VM, SAP and Microsoft recommend uploading and store hello SAP installation media in disks or toocreate an Azure VM working as a 'File server', which contains all hello necessary SAP installation media.</span></span>

#### <a name="deploying-a-vm-with-a-customer-specific-generalized-image"></a><span data-ttu-id="4ed9d-458">Déploiement d’une machine virtuelle avec une image généralisée propre au client</span><span class="sxs-lookup"><span data-stu-id="4ed9d-458">Deploying a VM with a customer-specific generalized image</span></span>
<span data-ttu-id="4ed9d-459">En raison de conditions de correctif toospecific relatives à votre version du système d’exploitation ou SGBD, les images hello fourni Bonjour Azure Marketplace ne répondent pas à vos besoins.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-459">Due toospecific patch requirements regarding your OS or DBMS version, hello provided images in hello Azure Marketplace might not fit your needs.</span></span> <span data-ttu-id="4ed9d-460">Par conséquent, vous devrez peut-être toocreate une machine virtuelle à l’aide de votre propre image de machine virtuelle du système d’exploitation/SGBD 'private', qui peut être déployé plusieurs fois par la suite.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-460">Therefore, you might need toocreate a VM using your own 'private' OS/DBMS VM image, which can be deployed several times afterwards.</span></span> <span data-ttu-id="4ed9d-461">tooprepare cette image « privée » pour la duplication, hello que système d’exploitation doit être généralisé sur hello local machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-461">tooprepare such a 'private' image for duplication, hello OS must be generalized on hello on-premises VM.</span></span> <span data-ttu-id="4ed9d-462">Consultez toohello [Guide de déploiement] [ deployment-guide] pour plus d’informations sur la façon de toogeneralize une machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-462">Refer toohello [Deployment Guide][deployment-guide] for details on how toogeneralize a VM.</span></span>

<span data-ttu-id="4ed9d-463">Si vous avez déjà installé le contenu SAP dans votre machine locale virtuelle (en particulier pour les systèmes de niveau 2), vous pouvez adapter les paramètres du système SAP hello après déploiement hello Hello machine virtuelle Azure via une instance de hello renommer procédure pris en charge par hello approvisionnement en logiciels SAP Manager (Note SAP [1619720]).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-463">If you have already installed SAP content in your on-premises VM (especially for 2-Tier systems), you can adapt hello SAP system settings after hello deployment of hello Azure VM through hello instance rename procedure supported by hello SAP Software Provisioning Manager (SAP Note [1619720]).</span></span> <span data-ttu-id="4ed9d-464">Dans le cas contraire, vous pouvez installer les logiciels SAP hello plus tard après le déploiement de hello Hello machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-464">Otherwise you can install hello SAP software later after hello deployment of hello Azure VM.</span></span>

<span data-ttu-id="4ed9d-465">À compter de contenu de base de données hello utilisé par hello application SAP, vous pouvez générer de hello contenu fraîchement une installation SAP ou vous pouvez importer votre contenu dans Azure à l’aide d’un disque dur virtuel avec une sauvegarde de base de données SGBD ou en exploitant les fonctionnalités de hello SGBD toodirectly sauvegarde dans Microsoft Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-465">As of hello database content used by hello SAP application, you can either generate hello content freshly by an SAP installation or you can import your content into Azure by using a VHD with a DBMS database backup or by leveraging capabilities of hello DBMS toodirectly backup into Microsoft Azure Storage.</span></span> <span data-ttu-id="4ed9d-466">Dans ce cas, vous pourriez également préparer les disques durs virtuels avec hello données SGBD et journal des fichiers locaux et puis importer ces en tant que disques dans Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-466">In this case, you could also prepare VHDs with hello DBMS data and log files on-premises and then import those as Disks into Azure.</span></span> <span data-ttu-id="4ed9d-467">Mais transfert hello des données SGBD, chargées local tooAzure fonctionne sur des disques VHD toobe préparé localement.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-467">But hello transfer of DBMS data, which is getting loaded from on-premises tooAzure would work over VHD disks that need toobe prepared on-premises.</span></span>

#### <a name="moving-a-vm-from-on-premises-tooazure-with-a-non-generalized-disk"></a><span data-ttu-id="4ed9d-468">Déplacement d’une machine virtuelle à partir de tooAzure local avec un disque non généralisé</span><span class="sxs-lookup"><span data-stu-id="4ed9d-468">Moving a VM from on-premises tooAzure with a non-generalized disk</span></span>
<span data-ttu-id="4ed9d-469">Vous envisagez de toomove un système SAP spécifique à partir de tooAzure local (courbes d’élévation et MAJ).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-469">You plan toomove a specific SAP system from on-premises tooAzure (lift and shift).</span></span> <span data-ttu-id="4ed9d-470">Cela est possible en téléchargeant le disque hello, qui contient hello du système d’exploitation, les fichiers binaires SAP hello et les éventuels binaires SGBD plus de disques de hello avec des données hello et fichiers journaux d’hello SGBD tooAzure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-470">This can be done by uploading hello disk, which contains hello OS, hello SAP binaries, and eventual DBMS binaries plus hello disks with hello data and log files of hello DBMS tooAzure.</span></span> <span data-ttu-id="4ed9d-471">Dans tooscenario opposé #2 ci-dessus, vous conservez hello hostname, SID SAP et les comptes d’utilisateur SAP Bonjour Azure VM qu’ils ont été configurés dans l’environnement local de hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-471">In opposite tooscenario #2 above, you keep hello hostname, SAP SID, and SAP user accounts in hello Azure VM as they were configured in hello on-premises environment.</span></span> <span data-ttu-id="4ed9d-472">Par conséquent, il n’est pas nécessaire de généraliser l’image de hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-472">Therefore, generalizing hello image is not necessary.</span></span> <span data-ttu-id="4ed9d-473">Cette condition s’applique principalement pour les scénarios de coexistence où une partie de hello paysage SAP est exécutée localement et les parties sur Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-473">This case mostly applies for Cross-Premises scenarios where a part of hello SAP landscape is run on-premises and parts on Azure.</span></span>

## <span data-ttu-id="4ed9d-474"><a name="871dfc27-e509-4222-9370-ab1de77021c3"></a>Haute disponibilité et récupération d’urgence avec les machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-474"><a name="871dfc27-e509-4222-9370-ab1de77021c3"></a>High Availability and Disaster Recovery with Azure VMs</span></span>
<span data-ttu-id="4ed9d-475">Azure offre hello suivant les fonctionnalités de haute disponibilité (HA) et de récupération d’urgence (DR), qui s’appliquent toodifferent les composants utilisés pour les déploiements SAP et SGBD</span><span class="sxs-lookup"><span data-stu-id="4ed9d-475">Azure offers hello following High Availability (HA) and Disaster Recovery (DR) functionalities, which apply toodifferent components we would use for SAP and DBMS deployments</span></span>

### <a name="vms-deployed-on-azure-nodes"></a><span data-ttu-id="4ed9d-476">Machines virtuelles déployées sur des nœuds Azure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-476">VMs deployed on Azure Nodes</span></span>
<span data-ttu-id="4ed9d-477">Hello plateforme Azure n’offre pas de fonctionnalités telles que la Migration dynamique pour les machines virtuelles déployées.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-477">hello Azure Platform does not offer features such as Live Migration for deployed VMs.</span></span> <span data-ttu-id="4ed9d-478">Cela signifie si une maintenance est nécessaire sur un cluster de serveur sur lequel un ordinateur virtuel est déployé, hello machine virtuelle doit tooget arrêté et redémarré.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-478">This means if there is maintenance necessary on a server cluster on which a VM is deployed, hello VM needs tooget stopped and restarted.</span></span> <span data-ttu-id="4ed9d-479">La maintenance dans Azure est effectuée à l’aide de domaines de mise à niveau au sein des clusters de serveurs.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-479">Maintenance in Azure is performed using so called Upgrade Domains within clusters of servers.</span></span> <span data-ttu-id="4ed9d-480">Seul un domaine de mise à niveau à la fois fait l’objet de la maintenance.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-480">Only one Upgrade Domain at a time is being maintained.</span></span> <span data-ttu-id="4ed9d-481">Pendant le redémarrage, d’interruption du service tandis que hello que machine virtuelle est arrêtée, maintenance est effectuée et redémarrage de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-481">During such a restart, there is an interruption of service while hello VM is shut down, maintenance is performed and VM restarted.</span></span> <span data-ttu-id="4ed9d-482">Toutefois, la plupart des fournisseurs de SGBD fournissent des fonctionnalités de haute disponibilité et récupération d’urgence qui redémarre rapidement les services de SGBD hello sur un autre nœud si le nœud principal de hello n’est pas disponible.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-482">Most DBMS vendors however provide High Availability and Disaster Recovery functionality that quickly restarts hello DBMS services on another node if hello primary node is unavailable.</span></span> <span data-ttu-id="4ed9d-483">Hello plateforme Azure offre des fonctionnalités toodistribute machines virtuelles, de stockage et d’autres services Azure entre les domaines de mise à niveau tooensure planifié des échecs d’infrastructure ou de maintenance affecterait uniquement un petit sous-ensemble de machines virtuelles ou services.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-483">hello Azure Platform offers functionality toodistribute VMs, Storage, and other Azure services across Upgrade Domains tooensure that planned maintenance or infrastructure failures would only impact a small subset of VMs or services.</span></span>  <span data-ttu-id="4ed9d-484">Avec une planification minutieuse, il est infrastructures de local tooon comparables de niveaux de disponibilité tooachieve possible.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-484">With careful planning, it is possible tooachieve availability levels comparable tooon-premises infrastructures.</span></span>

<span data-ttu-id="4ed9d-485">Groupes de disponibilité de Microsoft Azure sont un regroupement logique des machines virtuelles ou Services qui garantissent que les machines virtuelles et autres services sont distribuée toodifferent erreur et domaines de mise à niveau au sein d’un cluster de sorte qu’il uniquement un arrêt de nœuds à un point quelconque dans le temps (en lecture [cette (Linux)] [ virtual-machines-manage-availability-linux] ou [cet (Windows)] [ virtual-machines-manage-availability-windows] article pour plus d’informations).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-485">Microsoft Azure Availability Sets are a logical grouping of VMs or Services that ensures VMs and other services are distributed toodifferent Fault and Upgrade Domains within a cluster such that there would only be one node shutdown at any one point in time (read [this (Linux)][virtual-machines-manage-availability-linux] or [this (Windows)][virtual-machines-manage-availability-windows] article for more details).</span></span>

<span data-ttu-id="4ed9d-486">Il doit toobe configuré selon leur fonction lors du déploiement de machines virtuelles, comme illustré ci-après :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-486">It needs toobe configured by purpose when rolling out VMs as seen here:</span></span>

![Définition du groupe à haute disponibilité pour les configurations haute disponibilité SGBD][dbms-guide-figure-200]

<span data-ttu-id="4ed9d-488">Si nous voulons toocreate des configurations hautement disponibles de déploiements SGBD (indépendantes de hello individuels à haute disponibilité SGBD fonctionnalité utilisée), machines virtuelles de SGBD hello devra :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-488">If we want toocreate highly available configurations of DBMS deployments (independent of hello individual DBMS HA functionality used), hello DBMS VMs would need to:</span></span>

* <span data-ttu-id="4ed9d-489">Ajouter toohello de machines virtuelles hello même réseau virtuel Azure (<https://azure.microsoft.com/documentation/services/virtual-network/>)</span><span class="sxs-lookup"><span data-stu-id="4ed9d-489">Add hello VMs toohello same Azure Virtual Network (<https://azure.microsoft.com/documentation/services/virtual-network/>)</span></span>
* <span data-ttu-id="4ed9d-490">Hello machines virtuelles de configuration de haute disponibilité hello doit également être Bonjour même sous-réseau.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-490">hello VMs of hello HA configuration should also be in hello same subnet.</span></span> <span data-ttu-id="4ed9d-491">Résolution de noms entre des sous-réseaux différents hello n’est pas possible dans les déploiements de Cloud uniquement, uniquement le fonctionnement de résolution IP.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-491">Name resolution between hello different subnets is not possible in Cloud-Only deployments, only IP resolution works.</span></span> <span data-ttu-id="4ed9d-492">Si vous utilisez une connectivité de site à site ou ExpressRoute pour des déploiements entre différents locaux, un réseau comportant au moins un sous-réseau est déjà établi.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-492">Using site-to-site or ExpressRoute connectivity for Cross-Premises deployments, a network with at least one subnet is already established.</span></span> <span data-ttu-id="4ed9d-493">Résolution de noms est effectuée en fonction de toohello localement les stratégies Active Directory et votre infrastructure réseau.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-493">Name resolution is done according toohello on-premises AD policies and network infrastructure.</span></span> 

[comment]: <> (MSSedusch TODO Test if still true in ARM)

#### <a name="ip-addresses"></a><span data-ttu-id="4ed9d-495">Adresses IP</span><span class="sxs-lookup"><span data-stu-id="4ed9d-495">IP Addresses</span></span>
<span data-ttu-id="4ed9d-496">Il est vivement recommandé toosetup hello machines virtuelles pour les configurations à haute disponibilité de façon résistante.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-496">It is highly recommended toosetup hello VMs for HA configurations in a resilient way.</span></span> <span data-ttu-id="4ed9d-497">Partie de confiance sur IP adresses tooaddress hello HA partenaires au sein de la configuration de haute disponibilité hello n’est pas fiable dans Azure, sauf si des adresses IP statiques sont utilisées.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-497">Relying on IP addresses tooaddress hello HA partner(s) within hello HA configuration is not reliable in Azure unless static IP addresses are used.</span></span> <span data-ttu-id="4ed9d-498">Il existe deux concepts d’« arrêt » dans Azure :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-498">There are two "Shutdown" concepts in Azure:</span></span>

* <span data-ttu-id="4ed9d-499">Arrêt via le portail Azure ou Azure PowerShell, applet de commande Stop-AzureRmVM : dans ce cas, hello Machine virtuelle est arrêtée et désallouée.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-499">Shut down through Azure portal or Azure PowerShell cmdlet Stop-AzureRmVM: In this case, hello Virtual Machine gets shutdown and de-allocated.</span></span> <span data-ttu-id="4ed9d-500">Votre compte Azure est facturé n’est plus pour cet ordinateur virtuel afin de rendre hello ne serez facturé que pour le stockage hello utilisé.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-500">Your Azure account is no longer charged for this VM so hello only charges that incur are for hello storage used.</span></span> <span data-ttu-id="4ed9d-501">Toutefois, si les adresse IP privée hello d’interface de réseau hello ne sont pas statique, adresse IP de hello est libérée et cette interface de réseau hello Obtient l’ancienne adresse IP hello, attribué à nouveau après un redémarrage de hello VM n’est pas garanti.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-501">However, if hello private IP address of hello network interface was not static, hello IP address is released and it is not guaranteed that hello network interface gets hello old IP address assigned again after a restart of hello VM.</span></span> <span data-ttu-id="4ed9d-502">Exécution hello arrêt via hello portail Azure ou en appelant Stop-AzureRmVM automatiquement provoque la désallocation.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-502">Performing hello shut down through hello Azure portal or by calling Stop-AzureRmVM automatically causes de-allocation.</span></span> <span data-ttu-id="4ed9d-503">Si vous ne souhaitez pas toodeallocate hello machine, utilisez Stop-AzureRmVM - StayProvisioned</span><span class="sxs-lookup"><span data-stu-id="4ed9d-503">If you do not want toodeallocate hello machine use Stop-AzureRmVM -StayProvisioned</span></span> 
* <span data-ttu-id="4ed9d-504">Si vous arrêtez la machine virtuelle à partir d’un niveau de système d’exploitation de hello, hello VM obtient arrêté et n’est pas désallouée.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-504">If you shut down hello VM from an OS level, hello VM gets shut down and NOT de-allocated.</span></span> <span data-ttu-id="4ed9d-505">Toutefois, dans ce cas, votre compte Azure est facturé pour hello machine virtuelle, bien qu’il s’agit d’arrêt hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-505">However, in this case, your Azure account is still charged for hello VM, despite hello fact that it is shutdown.</span></span> <span data-ttu-id="4ed9d-506">Dans ce cas, l’attribution de hello IP adresse tooa hello arrêté reste des ordinateurs virtuels intacts.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-506">In such a case, hello assignment of hello IP address tooa stopped VM remains intact.</span></span> <span data-ttu-id="4ed9d-507">Arrêt hello machine virtuelle à partir de ne pas automatiquement force la désallocation.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-507">Shutting down hello VM from within does not automatically force de-allocation.</span></span>

<span data-ttu-id="4ed9d-508">Même pour les scénarios de coexistence, par défaut un arrêt et la désallocation signifie désaffectation d’adresses IP hello hello machine virtuelle, même si les stratégies locales dans les paramètres DHCP sont différentes.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-508">Even for Cross-Premises scenarios, by default a shutdown and de-allocation means de-assignment of hello IP addresses from hello VM, even if on-premises policies in DHCP settings are different.</span></span> 

* <span data-ttu-id="4ed9d-509">Hello exception si une affecte une statique IP adresse tooa comme interface décrit [ici][virtual-networks-reserved-private-ip].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-509">hello exception is if one assigns a static IP address tooa network interface as described [here][virtual-networks-reserved-private-ip].</span></span>
* <span data-ttu-id="4ed9d-510">Dans ce cas, adresse IP de hello reste fixe tant qu’interface de réseau hello n’est pas supprimé.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-510">In such a case hello IP address remains fixed as long as hello network interface is not deleted.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="4ed9d-511">Dans l’ordre tookeep hello ensemble déploiement simple et facile à gérer, hello clairement recommandation est toosetup hello partenariat dans une configuration à haute disponibilité SGBD ou récupération d’urgence dans Azure de façon qu’il existe une résolution de noms fonctionne entre hello impliqués des différentes machines virtuelles des machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-511">In order tookeep hello whole deployment simple and manageable, hello clear recommendation is toosetup hello VMs partnering in a DBMS HA or DR configuration within Azure in a way that there is a functioning name resolution between hello different VMs involved.</span></span>
> 
> 

## <a name="deployment-of-host-monitoring"></a><span data-ttu-id="4ed9d-512">Déploiement de la surveillance d’hôte</span><span class="sxs-lookup"><span data-stu-id="4ed9d-512">Deployment of Host Monitoring</span></span>
<span data-ttu-id="4ed9d-513">Pour une utilisation en production des Applications de SAP dans Azure Virtual Machines, SAP a besoin hello capacité tooget de surveillance d’hôte données à partir d’ordinateurs hôtes physiques hello hello des Machines virtuelles Azure en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-513">For productive usage of SAP Applications in Azure Virtual Machines, SAP requires hello ability tooget host monitoring data from hello physical hosts running hello Azure Virtual Machines.</span></span> <span data-ttu-id="4ed9d-514">Un niveau de correctif logiciel SAP HostAgent spécifique est nécessaire pour activer cette fonctionnalité dans SAPOSCOL et SAP HostAgent.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-514">A specific SAP Host Agent patch level is required that enables this capability in SAPOSCOL and SAP Host Agent.</span></span> <span data-ttu-id="4ed9d-515">niveau de correctif exact Hello est documenté dans la Note SAP [1409604].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-515">hello exact patch level is documented in SAP Note [1409604].</span></span>

<span data-ttu-id="4ed9d-516">Pour plus d’informations hello en matière de déploiement des composants qui fournissent des tooSAPOSCOL de données hôte et l’Agent hôte SAP et gestion du cycle de vie hello de ces composants, consultez toohello [Guide de déploiement][deployment-guide]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-516">For hello details regarding deployment of components that deliver host data tooSAPOSCOL and SAP Host Agent and hello lifecycle management of those components, refer toohello [Deployment Guide][deployment-guide]</span></span>

## <span data-ttu-id="4ed9d-517"><a name="3264829e-075e-4d25-966e-a49dad878737"></a>Spécificités tooMicrosoft SQL Server</span><span class="sxs-lookup"><span data-stu-id="4ed9d-517"><a name="3264829e-075e-4d25-966e-a49dad878737"></a>Specifics tooMicrosoft SQL Server</span></span>
### <a name="sql-server-iaas"></a><span data-ttu-id="4ed9d-518">IaaS SQL Server</span><span class="sxs-lookup"><span data-stu-id="4ed9d-518">SQL Server IaaS</span></span>
<span data-ttu-id="4ed9d-519">À partir de Microsoft Azure, vous pouvez facilement migrer vos applications SQL Server existantes basées sur Windows Server platform tooAzure Machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-519">Starting with Microsoft Azure, you can easily migrate your existing SQL Server applications built on Windows Server platform tooAzure Virtual Machines.</span></span> <span data-ttu-id="4ed9d-520">SQL Server dans une Machine virtuelle permet de vous tooreduce hello coût total de possession de déploiement, la gestion et maintenance des applications d’entreprise à l’échelle en effectuant une migration facilement ces tooMicrosoft applications Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-520">SQL Server in a Virtual Machine enables you tooreduce hello total cost of ownership of deployment, management, and maintenance of enterprise breadth applications by easily migrating these applications tooMicrosoft Azure.</span></span> <span data-ttu-id="4ed9d-521">Avec SQL Server dans une Machine virtuelle Azure, les administrateurs et développeurs peuvent utiliser hello mêmes outils de développement et d’administration qui sont disponibles sur site.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-521">With SQL Server in an Azure Virtual Machine, administrators and developers can still use hello same development and administration tools that are available on-premises.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="4ed9d-522">Pas dans le cadre de base de données SQL Azure Microsoft, qui est une plateforme en tant qu’une offre de Service de hello plateforme Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-522">We are not discussing Microsoft Azure SQL Database, which is a Platform as a Service offer of hello Microsoft Azure Platform.</span></span> <span data-ttu-id="4ed9d-523">discussion Hello dans ce document est sur l’exécution de produit de SQL Server hello tel qu’il est connu pour les déploiements sur site de Machines virtuelles dans Azure, en tirant parti hello Infrastructure comme une fonctionnalité de Service de Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-523">hello discussion in this paper is about running hello SQL Server product as it is known for on-premises deployments in Azure Virtual Machines, leveraging hello Infrastructure as a Service capability of Azure.</span></span> <span data-ttu-id="4ed9d-524">Les capacités et fonctionnalités de base de données de ces deux services sont différentes et ne doivent pas être confondues.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-524">Database capabilities and functionalities between these two offers are different and should not be mixed up with each other.</span></span> <span data-ttu-id="4ed9d-525">Voir aussi : <https://azure.microsoft.com/services/sql-database/></span><span class="sxs-lookup"><span data-stu-id="4ed9d-525">See also: <https://azure.microsoft.com/services/sql-database/></span></span>
> 
> 

<span data-ttu-id="4ed9d-526">Il est fortement recommandé de tooreview [cela] [ virtual-machines-sql-server-infrastructure-services] documentation avant de continuer.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-526">It is strongly recommended tooreview [this][virtual-machines-sql-server-infrastructure-services] documentation before continuing.</span></span>

<span data-ttu-id="4ed9d-527">Bonjour, des éléments de sections suivants des parties de documentation hello sous lien hello ci-dessus sont agrégées et mentionnés.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-527">In hello following sections pieces of parts of hello documentation under hello link above are aggregated and mentioned.</span></span> <span data-ttu-id="4ed9d-528">Les particularités concernant SAP sont également indiquées et certains concepts décrits plus en détail.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-528">Specifics around SAP are mentioned as well and some concepts are described in more detail.</span></span> <span data-ttu-id="4ed9d-529">Toutefois, il est vivement recommandé toowork via hello documentation avant de lire la documentation spécifique de SQL Server hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-529">However, it is highly recommended toowork through hello documentation above first before reading hello SQL Server specific documentation.</span></span>

<span data-ttu-id="4ed9d-530">Avant de continuer, il y a certaines informations spécifiques sur SQL Server dans IaaS que vous devez connaître :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-530">There is some SQL Server in IaaS specific information you should know before continuing:</span></span>

* <span data-ttu-id="4ed9d-531">**Contrat de niveau de service pour les machines virtuelles** : il existe un contrat de niveau de service pour les machines virtuelles exécutées dans Azure. Il est disponible ici : <https://azure.microsoft.com/support/legal/sla/></span><span class="sxs-lookup"><span data-stu-id="4ed9d-531">**Virtual Machine SLA**: There is an SLA for Virtual Machines running in Azure, which can be found here: <https://azure.microsoft.com/support/legal/sla/></span></span>  
* <span data-ttu-id="4ed9d-532">**Prise en charge des versions SQL**: pour les clients SAP, nous prenons en charge SQL Server 2008 R2 et versions ultérieures sur Microsoft Azure Virtual Machine.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-532">**SQL Version Support**: For SAP customers, we support SQL Server 2008 R2 and higher on Microsoft Azure Virtual Machine.</span></span> <span data-ttu-id="4ed9d-533">Les éditions antérieures ne sont pas prises en charge.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-533">Earlier editions are not supported.</span></span> <span data-ttu-id="4ed9d-534">Pour plus d’informations, voir cette [déclaration officielle](https://support.microsoft.com/kb/956893) générale.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-534">Review this general [Support Statement](https://support.microsoft.com/kb/956893) for more details.</span></span> <span data-ttu-id="4ed9d-535">Notez qu’en règle générale, SQL Server 2008 est également pris en charge par Microsoft.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-535">Note that in general SQL Server 2008 is supported by Microsoft as well.</span></span> <span data-ttu-id="4ed9d-536">Toutefois, en raison de la fonctionnalité toosignificant pour SAP, ce qui a été introduit avec SQL Server 2008 R2, SQL Server 2008 R2 est la version minimale requise de hello pour SAP.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-536">However due toosignificant functionality for SAP, which was introduced with SQL Server 2008 R2, SQL Server 2008 R2 is hello minimum release for SAP.</span></span> <span data-ttu-id="4ed9d-537">Gardez à l’esprit que SQL Server 2012 et 2014 est étendu une meilleure intégration hello IaaS scénario (sauvegarde directement sur Azure Storage).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-537">Keep in mind that SQL Server 2012 and 2014 got extended with deeper integration into hello IaaS scenario (like backing up directly against Azure Storage).</span></span> <span data-ttu-id="4ed9d-538">Par conséquent, nous limiter cette tooSQL papier Server 2012 et 2014 avec son niveau de correctif plus récent pour Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-538">Therefore, we restrict this paper tooSQL Server 2012 and 2014 with its latest patch level for Azure.</span></span>
* <span data-ttu-id="4ed9d-539">**Prise en charge des fonctionnalités SQL**: la plupart des fonctionnalités SQL Server sont prises en charge sur Microsoft Azure Virtual Machines, à quelques exceptions près.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-539">**SQL Feature Support**: Most SQL Server features are supported on Microsoft Azure Virtual Machines with some exceptions.</span></span> <span data-ttu-id="4ed9d-540">**Le clustering de basculement SQL Server à l’aide de disques partagés n’est pas pris en charge**.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-540">**SQL Server Failover Clustering using Shared Disks is not supported**.</span></span>  <span data-ttu-id="4ed9d-541">Les technologies distribuées telles que la mise en miroir de bases de données, les groupes de disponibilité AlwaysOn, la réplication, la copie des journaux de transaction et l’envoi de journaux et Service Broker sont prises en charge au sein d’une même région Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-541">Distributed technologies like Database Mirroring, AlwaysOn Availability Groups, Replication, Log Shipping and Service Broker are supported within a single Azure Region.</span></span> <span data-ttu-id="4ed9d-542">SQL Server AlwaysOn est également pris en charge entre différentes régions Azure comme indiqué ici : <https://blogs.technet.com/b/dataplatforminsider/archive/2014/06/19/sql-server-alwayson-availability-groups-supported-between-microsoft-azure-regions.aspx>.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-542">SQL Server AlwaysOn also is supported between different Azure Regions as documented here:  <https://blogs.technet.com/b/dataplatforminsider/archive/2014/06/19/sql-server-alwayson-availability-groups-supported-between-microsoft-azure-regions.aspx>.</span></span>  <span data-ttu-id="4ed9d-543">Hello de révision [instruction de prise en charge](https://support.microsoft.com/kb/956893) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-543">Review hello [Support Statement](https://support.microsoft.com/kb/956893) for more details.</span></span> <span data-ttu-id="4ed9d-544">Un exemple montrant comment toodeploy une configuration AlwaysOn est présentée dans [cela] [ virtual-machines-workload-template-sql-alwayson] l’article.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-544">An example on how toodeploy an AlwaysOn configuration is shown in [this][virtual-machines-workload-template-sql-alwayson] article.</span></span> <span data-ttu-id="4ed9d-545">En outre, découvrez hello meilleures pratiques documentées [ici][virtual-machines-sql-server-infrastructure-services]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-545">Also, check out hello Best Practices documented [here][virtual-machines-sql-server-infrastructure-services]</span></span> 
* <span data-ttu-id="4ed9d-546">**Performances SQL**: nous sommes persuadés que les ordinateurs virtuels hébergés fonctionnent très bien dans les offres de virtualisation de cloud public tooother comparaison, mais les résultats individuels de Microsoft Azure peut varier.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-546">**SQL Performance**: We are confident that Microsoft Azure hosted Virtual Machines perform very well in comparison tooother public cloud virtualization offerings, but individual results may vary.</span></span> <span data-ttu-id="4ed9d-547">Pour en savoir plus, consultez [cet article][virtual-machines-sql-server-performance-best-practices].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-547">Check out [this][virtual-machines-sql-server-performance-best-practices] article.</span></span>
* <span data-ttu-id="4ed9d-548">**L’utilisation d’Images à partir d’Azure Marketplace**: toodeploy de manière plus rapide hello une nouvelle machine virtuelle Microsoft Azure est toouse une image à partir de hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-548">**Using Images from Azure Marketplace**: hello fastest way toodeploy a new Microsoft Azure VM is toouse an image from hello Azure Marketplace.</span></span> <span data-ttu-id="4ed9d-549">Il existe des images Bonjour Azure Marketplace, qui contiennent SQL Server.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-549">There are images in hello Azure Marketplace, which contain SQL Server.</span></span> <span data-ttu-id="4ed9d-550">images Hello où SQL Server est déjà installé ne peut pas être utilisés immédiatement pour les applications SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-550">hello images where SQL Server already is installed can’t be immediately used for SAP NetWeaver applications.</span></span> <span data-ttu-id="4ed9d-551">raison de Hello est le classement de SQL Server par défaut hello est installé dans ces images et le classement de hello pas requis par les systèmes SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-551">hello reason is hello default SQL Server collation is installed within those images and not hello collation required by SAP NetWeaver systems.</span></span> <span data-ttu-id="4ed9d-552">Dans l’ordre toouse ces images, vérifiez hello les étapes décrites dans le chapitre [à l’aide d’une image de SQL Server hors hello Microsoft Azure Marketplace][dbms-guide-5.6].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-552">In order toouse such images, check hello steps documented in chapter [Using a SQL Server image out of hello Microsoft Azure Marketplace][dbms-guide-5.6].</span></span> 
* <span data-ttu-id="4ed9d-553">Pour en savoir plus, voir la rubrique [Tarification](https://azure.microsoft.com/pricing/) .</span><span class="sxs-lookup"><span data-stu-id="4ed9d-553">Check out [Pricing Details](https://azure.microsoft.com/pricing/) for more information.</span></span> <span data-ttu-id="4ed9d-554">Hello [Guide des licences SQL Server 2012](https://download.microsoft.com/download/7/3/C/73CAD4E0-D0B5-4BE5-AB49-D5B886A5AE00/SQL_Server_2012_Licensing_Reference_Guide.pdf) et [Guide des licences SQL Server 2014](https://download.microsoft.com/download/B/4/E/B4E604D9-9D38-4BBA-A927-56E4C872E41C/SQL_Server_2014_Licensing_Guide.pdf) constituent également une ressource importante.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-554">hello [SQL Server 2012 Licensing Guide](https://download.microsoft.com/download/7/3/C/73CAD4E0-D0B5-4BE5-AB49-D5B886A5AE00/SQL_Server_2012_Licensing_Reference_Guide.pdf) and [SQL Server 2014 Licensing Guide](https://download.microsoft.com/download/B/4/E/B4E604D9-9D38-4BBA-A927-56E4C872E41C/SQL_Server_2014_Licensing_Guide.pdf) are also an important resource.</span></span>

### <a name="sql-server-configuration-guidelines-for-sap-related-sql-server-installations-in-azure-vms"></a><span data-ttu-id="4ed9d-555">Recommandations relatives à la configuration de SQL Server pour les installations SAP sur des machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-555">SQL Server configuration guidelines for SAP-related SQL Server installations in Azure VMs</span></span>
#### <a name="recommendations-on-vmvhd-structure-for-sap-related-sql-server-deployments"></a><span data-ttu-id="4ed9d-556">Recommandations portant sur la structure des machines virtuelles/disques VHD pour les déploiements de SQL Server associés à SAP</span><span class="sxs-lookup"><span data-stu-id="4ed9d-556">Recommendations on VM/VHD structure for SAP-related SQL Server deployments</span></span>
<span data-ttu-id="4ed9d-557">En fonction de la description générale de hello, exécutables SQL Server doivent être situés ou installés dans le lecteur du système de disque de système d’exploitation de la machine virtuelle hello hello (le lecteur C:\).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-557">In accordance with hello general description, SQL Server executables should be located or installed into hello system drive of hello VM’s OS disk (drive C:\).</span></span>  <span data-ttu-id="4ed9d-558">En règle générale, la plupart des bases de données système de SQL Server hello n’est pas utilisée par la charge de travail SAP NetWeaver à un niveau élevé.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-558">Typically, most of hello SQL Server system databases are not utilized at a high level by SAP NetWeaver workload.</span></span> <span data-ttu-id="4ed9d-559">Par conséquent, les bases de données système hello de SQL Server (master, msdb et model) peuvent demeurer sur hello lecteur C:\.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-559">Hence hello system databases of SQL Server (master, msdb, and model) can remain on hello C:\ drive as well.</span></span> <span data-ttu-id="4ed9d-560">Une exception peut être tempdb, ce qui peut nécessiter plus grand volume de données ou de volume d’opérations d’e/s, qui ne peut pas tenir dans hello dans les cas de hello de certains SAP ERP et toutes les charges BW, ordinateur virtuel d’origine.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-560">An exception could be tempdb, which in hello case of some SAP ERP and all BW workloads, might require either higher data volume or I/O operations volume, which can’t fit into hello original VM.</span></span> <span data-ttu-id="4ed9d-561">Pour ces systèmes, hello suit doit être effectuée :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-561">For such systems, hello following steps should be performed:</span></span>

* <span data-ttu-id="4ed9d-562">Déplacer hello tempdb principaux données ou les fichiers toohello même lecteur logique que hello des fichiers de données primaire de la base de données SAP hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-562">Move hello primary tempdb data file(s) toohello same logical drive as hello primary data file(s) of hello SAP database.</span></span>
* <span data-ttu-id="4ed9d-563">Ajoutez tout tooeach de fichiers de données tempdb supplémentaire de hello lecteur logique contenant un fichier de données de base de données utilisateur hello SAP.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-563">Add any additional tempdb data files tooeach of hello other logical drives containing a data file of hello SAP user database.</span></span>
* <span data-ttu-id="4ed9d-564">Ajoutez hello tempdb logfile toohello lecteur logique, qui contient le fichier de journal hello utilisateur de base de données.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-564">Add hello tempdb logfile toohello logical drive, which contains hello user database’s log file.</span></span>
* <span data-ttu-id="4ed9d-565">**Exclusivement pour les types d’ordinateurs virtuels qui utilisent des disques SSD local** sur les journaux et de données tempdb du nœud de calcul hello fichiers peuvent être placés sur hello lecteur D:\.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-565">**Exclusively for VM types that use local SSDs** on hello compute node tempdb data and log files might be placed on hello D:\ drive.</span></span> <span data-ttu-id="4ed9d-566">Néanmoins, il peut être recommandé toouse plusieurs fichiers de données tempdb.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-566">Nevertheless, it might be recommended toouse multiple tempdb data files.</span></span> <span data-ttu-id="4ed9d-567">Être prenant en charge les volumes de lecteur D:\ sont différentes selon hello type d’ordinateurs virtuels.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-567">Be aware D:\ drive volumes are different based on hello VM type.</span></span>

<span data-ttu-id="4ed9d-568">Ces configurations activer tempdb tooconsume plus d’espace que le lecteur du système hello est en mesure de tooprovide.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-568">These configurations enable tempdb tooconsume more space than hello system drive is able tooprovide.</span></span> <span data-ttu-id="4ed9d-569">Dans la taille de commande toodetermine hello correcte de tempdb, consultez les tailles de tempdb hello sur des systèmes existants, qui s’exécutent sur site.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-569">In order toodetermine hello proper tempdb size, one can check hello tempdb sizes on existing systems, which run on-premises.</span></span> <span data-ttu-id="4ed9d-570">En outre, une telle configuration permettrait IOPS sur tempdb, qui ne peut pas être fourni avec le lecteur du système hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-570">In addition, such a configuration would enable IOPS numbers against tempdb, which cannot be provided with hello system drive.</span></span> <span data-ttu-id="4ed9d-571">Là encore, les systèmes qui sont exécutent localement peuvent être utilisés toomonitor d’e/s des charges de travail sur tempdb afin que vous pouvez dériver des numéros d’IOPS hello souhaitées toosee sur tempdb.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-571">Again, systems that are running on-premises can be used toomonitor I/O workload against tempdb so that you can derive hello IOPS numbers you expect toosee on your tempdb.</span></span>

<span data-ttu-id="4ed9d-572">Une configuration d’ordinateur virtuel, qui exécute SQL Server avec une base de données SAP et où les données tempdb et le fichier journal tempdb sont placés sur le lecteur D:\ de hello ressemble à :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-572">A VM configuration, which runs SQL Server with an SAP database and where tempdb data and tempdb logfile are placed on hello D:\ drive would look like:</span></span>

![Configuration de référence de la machine virtuelle IaaS Azure pour SAP][dbms-guide-figure-300]

<span data-ttu-id="4ed9d-574">N’oubliez pas que ce lecteur D:\ hello a dépendantes hello type d’ordinateurs virtuels de tailles différentes.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-574">Be aware that hello D:\ drive has different sizes dependent on hello VM type.</span></span> <span data-ttu-id="4ed9d-575">Dépend de la spécification de taille hello de tempdb vous peut-être toopair forcé de données tempdb et les fichiers journaux par hello SAP de base de données et fichiers journaux dans le cas où le lecteur D:\ est trop petite.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-575">Dependent on hello size requirement of tempdb you might be forced toopair tempdb data and log files with hello SAP database data and log files in cases where D:\ drive is too small.</span></span>

#### <a name="formatting-hello-disks"></a><span data-ttu-id="4ed9d-576">Formatage des disques de hello</span><span class="sxs-lookup"><span data-stu-id="4ed9d-576">Formatting hello disks</span></span>
<span data-ttu-id="4ed9d-577">Hello de SQL Server taille du bloc NTFS pour les disques contenant les journaux et données de SQL Server pour les fichiers doivent être 64 Ko.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-577">For SQL Server hello NTFS block size for disks containing SQL Server data and log files should be 64K.</span></span> <span data-ttu-id="4ed9d-578">Il n’existe aucun hello de tooformat lecteur D:\ nécessaire.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-578">There is no need tooformat hello D:\ drive.</span></span> <span data-ttu-id="4ed9d-579">En effet, ce lecteur est déjà mis en forme.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-579">This drive comes pre-formatted.</span></span>

<span data-ttu-id="4ed9d-580">Dans l’ordre toomake d’assurer que hello restauration ou la création de bases de données n’initialise pas les fichiers de données hello en supprimant le contenu des fichiers de hello hello, vous devez vous assurer que le service SQL Server hello hello utilisateur contexte s’exécute une autorisation donnée est.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-580">In order toomake sure that hello restore or creation of databases is not initializing hello data files by zeroing hello content of hello files, one should make sure that hello user context hello SQL Server service is running in has a certain permission.</span></span> <span data-ttu-id="4ed9d-581">Les utilisateurs dans le groupe d’administrateurs Windows hello ont généralement ces autorisations.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-581">Usually users in hello Windows Administrator group have these permissions.</span></span> <span data-ttu-id="4ed9d-582">Si hello service SQL Server est exécuté dans le contexte de l’utilisateur de l’utilisateur non administrateur Windows hello, vous devez tooassign que hello utilisateur droit d’utilisateur « Effectuer des tâches de maintenance d’un volume ».</span><span class="sxs-lookup"><span data-stu-id="4ed9d-582">If hello SQL Server service is run in hello user context of non-Windows Administrator user, you need tooassign that user hello User Right ‘Perform volume maintenance tasks’.</span></span>  <span data-ttu-id="4ed9d-583">Afficher les détails de hello dans cet Article de la Base de connaissances Microsoft : <https://support.microsoft.com/kb/2574695></span><span class="sxs-lookup"><span data-stu-id="4ed9d-583">See hello details in this Microsoft Knowledge Base Article: <https://support.microsoft.com/kb/2574695></span></span>

#### <a name="impact-of-database-compression"></a><span data-ttu-id="4ed9d-584">Impact de la compression de base de données</span><span class="sxs-lookup"><span data-stu-id="4ed9d-584">Impact of database compression</span></span>
<span data-ttu-id="4ed9d-585">Dans les configurations où la bande passante d’e/s peut devenir un facteur de limitation, toutes les mesures, ce qui réduit les e/s peuvent aider aux charges de travail toostretch hello exécutée dans un scénario IaaS comme Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-585">In configurations where I/O bandwidth can become a limiting factor, every measure, which reduces IOPS might help toostretch hello workload one can run in an IaaS scenario like Azure.</span></span> <span data-ttu-id="4ed9d-586">Par conséquent, si pas encore fait, appliquer la compression de PAGE de SQL Server est fortement recommandé par SAP et Microsoft avant de télécharger un tooAzure de base de données SAP existante.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-586">Therefore, if not yet done, applying SQL Server PAGE compression is strongly recommended by both SAP and Microsoft before uploading an existing SAP database tooAzure.</span></span>

<span data-ttu-id="4ed9d-587">Hello recommandation tooperform Compression de la base de données avant de le télécharger tooAzure reçoit deux raisons :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-587">hello recommendation tooperform Database Compression before uploading tooAzure is given out of two reasons:</span></span>

* <span data-ttu-id="4ed9d-588">Hello toobe données téléchargé est inférieure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-588">hello amount of data toobe uploaded is lower.</span></span>
* <span data-ttu-id="4ed9d-589">Durée Hello d’exécution de la compression hello est plus courte, en supposant que possible d’utiliser un matériel plus performant avec plus de processeurs ou de bande passante d’e/s ou moins d’e/s latence locale.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-589">hello duration of hello compression execution is shorter assuming that one can use stronger hardware with more CPUs or higher I/O bandwidth or less I/O latency on-premises.</span></span>
* <span data-ttu-id="4ed9d-590">De plus petite taille de base de données peut entraîner des coûts accessible sans pour l’allocation de disque</span><span class="sxs-lookup"><span data-stu-id="4ed9d-590">Smaller database sizes might lead tooless costs for disk allocation</span></span>

<span data-ttu-id="4ed9d-591">La compression de bases de données fonctionne aussi bien dans une machine virtuelle Azure qu’en local.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-591">Database compression works as well in an Azure Virtual Machines as it does on-premises.</span></span> <span data-ttu-id="4ed9d-592">Pour plus d’informations sur la façon de toocompress une base de données SQL Server SAP existante, cliquez ici : <https://blogs.msdn.com/b/saponsqlserver/archive/2010/10/08/compressing-an-sap-database-using-report-msscompress.aspx></span><span class="sxs-lookup"><span data-stu-id="4ed9d-592">For more details on how toocompress an existing SAP SQL Server database, check here: <https://blogs.msdn.com/b/saponsqlserver/archive/2010/10/08/compressing-an-sap-database-using-report-msscompress.aspx></span></span>

### <a name="sql-server-2014--storing-database-files-directly-on-azure-blob-storage"></a><span data-ttu-id="4ed9d-593">SQL Server 2014 : Stockage des fichiers de base de données directement dans le Stockage Blob Azure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-593">SQL Server 2014 – Storing Database Files directly on Azure Blob Storage</span></span>
<span data-ttu-id="4ed9d-594">SQL Server 2014 ouvre les fichiers de base de données hello possibilité toostore directement sur le magasin d’objets Blob Azure sans hello « wrapper » d’un disque dur virtuel autour d’elles.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-594">SQL Server 2014 opens hello possibility toostore database files directly on Azure Blob Store without hello ‘wrapper’ of a VHD around them.</span></span> <span data-ttu-id="4ed9d-595">Tout particulièrement avec le stockage Azure Standard ou les types de machine virtuelle plus petites Cela permet des scénarios où vous pouvez relever les limites hello d’IOPS qui est appliquée par un nombre limité de disques qui peuvent être des types de machine virtuelle plus petites toosome monté.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-595">Especially with using Standard Azure Storage or smaller VM types this enables scenarios where you can overcome hello limits of IOPS that would be enforced by a limited number of disks that can be mounted toosome smaller VM types.</span></span> <span data-ttu-id="4ed9d-596">Toutefois, ce genre de scénario fonctionne dans le cas des bases de données utilisateur, mais non pour les bases de données système SQL Server.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-596">This works for user databases however not for system databases of SQL Server.</span></span> <span data-ttu-id="4ed9d-597">Il peut également être appliqué aux fichiers journaux et données de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-597">It also works for data and log files of SQL Server.</span></span> <span data-ttu-id="4ed9d-598">Si vous souhaitez que toodeploy un serveur SQL de SAP de base de données ainsi à la place de 'habillage » dans les disques durs virtuels, gardez à l’hello suivants à l’esprit :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-598">If you’d like toodeploy an SAP SQL Server database this way instead of ‘wrapping’ it into VHDs, keep hello following in mind:</span></span>

* <span data-ttu-id="4ed9d-599">toobe de besoins de compte de stockage utilisé Hello dans hello même région Azure comme hello est hello utilisé toodeploy machine virtuelle SQL Server est en cours d’exécution dans.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-599">hello Storage Account used needs toobe in hello same Azure Region as hello one that is used toodeploy hello VM SQL Server is running in.</span></span>
* <span data-ttu-id="4ed9d-600">Répertoriés précédemment concernant la distribution hello de disques durs virtuels sur différents comptes de stockage Azure en considération pour cette méthode de déploiements également.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-600">Considerations listed earlier regarding hello distribution of VHDs over different Azure Storage Accounts apply for this method of deployments as well.</span></span> <span data-ttu-id="4ed9d-601">Signifie hello nombre d’opérations d’e/s par rapport aux limites hello Hello compte de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-601">Means hello I/O operations count against hello limits of hello Azure Storage Account.</span></span>

[comment]: <> (MSSedusch TODO Cette opération utilise la bande passante du réseau et non celle du stockage, n’est-ce pas ?)

<span data-ttu-id="4ed9d-603">Pour plus d’informations sur ce type de déploiement, consultez l’article suivant : <https://docs.microsoft.com/sql/relational-databases/databases/sql-server-data-files-in-microsoft-azure></span><span class="sxs-lookup"><span data-stu-id="4ed9d-603">Details about this type of deployment are listed here: <https://docs.microsoft.com/sql/relational-databases/databases/sql-server-data-files-in-microsoft-azure></span></span>

<span data-ttu-id="4ed9d-604">Dans les fichiers de données SQL Server ordre toostore directement sur le stockage Azure Premium, vous avez besoin d’un correctif toohave un minimum de SQL Server 2014, qui est décrit ici : <https://support.microsoft.com/kb/3063054>.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-604">In order toostore SQL Server data files directly on Azure Premium Storage, you need toohave a minimum SQL Server 2014 patch release, which is documented here: <https://support.microsoft.com/kb/3063054>.</span></span> <span data-ttu-id="4ed9d-605">Le stockage des fichiers de données SQL Server sur le stockage Azure Standard fonctionne avec la version de hello publié de SQL Server 2014.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-605">Storing SQL Server data files on Azure Standard Storage does work with hello released version of SQL Server 2014.</span></span> <span data-ttu-id="4ed9d-606">Toutefois, les correctifs même hello contient une autre série de correctifs qui rendent hello direct l’utilisation du stockage d’objets Blob Azure pour les fichiers de données SQL Server et les sauvegardes plus fiable.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-606">However, hello very same patches contain another series of fixes, which make hello direct usage of Azure Blob Storage for SQL Server data files and backups more reliable.</span></span> <span data-ttu-id="4ed9d-607">Pour cette raison, nous recommandons généralement l’utilisation de ces correctifs.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-607">Therefore we recommend using these patches in general.</span></span>

### <a name="sql-server-2014-buffer-pool-extension"></a><span data-ttu-id="4ed9d-608">Fonctionnalité d’extension du pool de mémoires tampons de SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="4ed9d-608">SQL Server 2014 Buffer Pool Extension</span></span>
<span data-ttu-id="4ed9d-609">SQL Server 2014 propose une nouvelle fonctionnalité appelée « extension du pool de mémoires tampons ».</span><span class="sxs-lookup"><span data-stu-id="4ed9d-609">SQL Server 2014 introduced a new feature, which is called Buffer Pool Extension.</span></span> <span data-ttu-id="4ed9d-610">Cette fonctionnalité étend le pool de mémoires tampons hello de SQL Server, qui est conservée en mémoire avec un cache de niveau second qui est sauvegardé par SSDs locales d’un serveur ou la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-610">This functionality extends hello buffer pool of SQL Server, which is kept in memory with a second level cache that is backed by local SSDs of a server or VM.</span></span> <span data-ttu-id="4ed9d-611">Cela permet de tookeep une plage de travail plus volumineuse de données « dans la mémoire ».</span><span class="sxs-lookup"><span data-stu-id="4ed9d-611">This enables tookeep a larger working set of data ‘in memory’.</span></span> <span data-ttu-id="4ed9d-612">Comparés tooaccessing accès hello de stockage Standard Azure dans l’extension de hello du pool de mémoires tampons hello, qui est stocké sur des disques SSD de local d’une machine virtuelle Azure est plus rapide des nombreux facteurs.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-612">Compared tooaccessing Azure Standard Storage hello access into hello extension of hello buffer pool, which is stored on local SSDs of an Azure VM is many factors faster.</span></span>  <span data-ttu-id="4ed9d-613">Par conséquent, en exploitant hello D:\ lecteur local de types de machine virtuelle hello qui ont une excellente IOPS et le débit peut être un hello tooreduce de façon très raisonnables IOPS charger sur Azure Storage et améliorer considérablement les temps de réponse des requêtes.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-613">Therefore, leveraging hello local D:\ drive of hello VM types that have excellent IOPS and throughput could be a very reasonable way tooreduce hello IOPS load against Azure Storage and improve response times of queries dramatically.</span></span> <span data-ttu-id="4ed9d-614">Cela se révèle d’autant plus vrai lorsque vous n’utilisez pas Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-614">This applies especially when not using Premium Storage.</span></span> <span data-ttu-id="4ed9d-615">En cas de stockage Premium et l’utilisation de hello Hello Premium, Azure Cache en lecture sur le nœud de calcul hello, comme cela est recommandé pour les fichiers de données, aucuns différences significatives ne sont attendus.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-615">In case of Premium Storage and hello usage of hello Premium Azure Read Cache on hello compute node, as recommended for data files, no significant differences are expected.</span></span> <span data-ttu-id="4ed9d-616">Raison est que les deux caches (Extension du Pool de mémoire tampon de SQL Server et Cache de lecture de stockage Premium) sont à l’aide de disques locaux de hello hello de nœuds de calcul.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-616">Reason is that both caches (SQL Server Buffer Pool Extension and Premium Storage Read Cache) are using hello local disks of hello compute nodes.</span></span>
<span data-ttu-id="4ed9d-617">Pour plus d’informations sur cette fonctionnalité, consultez la documentation : <https://docs.microsoft.com/sql/database-engine/configure-windows/buffer-pool-extension></span><span class="sxs-lookup"><span data-stu-id="4ed9d-617">For more details about this functionality, check this documentation: <https://docs.microsoft.com/sql/database-engine/configure-windows/buffer-pool-extension></span></span> 

### <a name="backuprecovery-considerations-for-sql-server"></a><span data-ttu-id="4ed9d-618">Considérations relatives à la sauvegarde/restauration pour SQL Server</span><span class="sxs-lookup"><span data-stu-id="4ed9d-618">Backup/Recovery considerations for SQL Server</span></span>
<span data-ttu-id="4ed9d-619">Lors du déploiement de SQL Server dans Azure, votre méthodologie de sauvegarde doit être passée en revue.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-619">When deploying SQL Server into Azure your backup methodology must be reviewed.</span></span> <span data-ttu-id="4ed9d-620">Même si le système de hello n’est pas un système de production, base de données SAP hello hébergée par SQL Server doit être sauvegardée régulièrement.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-620">Even if hello system is not a productive system, hello SAP database hosted by SQL Server must be backed up periodically.</span></span> <span data-ttu-id="4ed9d-621">Étant donné que le stockage Azure conserve trois images, une sauvegarde est dorénavant moins nécessaire dans le toocompensating en ce qui concerne une panne du stockage.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-621">Since Azure Storage keeps three images, a backup is now less important in respect toocompensating a storage crash.</span></span> <span data-ttu-id="4ed9d-622">raison priorité Hello maintien d’un plan de sauvegarde et de récupération correct est plus que vous pouvez compenser ce décalage erreurs manuelles/logiques en fournissant le point de restauration de temps.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-622">hello priority reason for maintaining a proper backup and recovery plan is more that you can compensate for logical/manual errors by providing point in time recovery capabilities.</span></span> <span data-ttu-id="4ed9d-623">Objectif de hello est tooeither utilisation sauvegardes toorestore hello base de données principale tooa certain de points de temps ou toouse sauvegardes hello dans Azure tooseed un autre système en copiant la base de données existante hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-623">So hello goal is tooeither use backups toorestore hello database back tooa certain point in time or toouse hello backups in Azure tooseed another system by copying hello existing database.</span></span> <span data-ttu-id="4ed9d-624">Par exemple, vous pouvez transférer une installation de système de couche 3 à 2 couches SAP configuration tooa Hello même système en restaurant une sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-624">For example, you could transfer from a 2-Tier SAP configuration tooa 3-Tier system setup of hello same system by restoring a backup.</span></span>

<span data-ttu-id="4ed9d-625">Il existe trois façons différentes toobackup SQL Server tooAzure stockage :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-625">There are three different ways toobackup SQL Server tooAzure Storage:</span></span>

1. <span data-ttu-id="4ed9d-626">SQL Server 2012 CU4 et l’URL de tooa de bases de données de sauvegarde en mode natif peuvent plus élevée.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-626">SQL Server 2012 CU4 and higher can natively backup databases tooa URL.</span></span> <span data-ttu-id="4ed9d-627">Cela est détaillée dans le blog de hello [nouvelles fonctionnalités de SQL Server 2014 – partie 5 – améliorations de la sauvegarde/restauration](https://blogs.msdn.com/b/saponsqlserver/archive/2014/02/15/new-functionality-in-sql-server-2014-part-5-backup-restore-enhancements.aspx).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-627">This is detailed in hello blog [New functionality in SQL Server 2014 – Part 5 – Backup/Restore Enhancements](https://blogs.msdn.com/b/saponsqlserver/archive/2014/02/15/new-functionality-in-sql-server-2014-part-5-backup-restore-enhancements.aspx).</span></span> <span data-ttu-id="4ed9d-628">Voir le chapitre [SQL Server 2012 SP1 CU4 et versions ultérieures][dbms-guide-5.5.1].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-628">See chapter [SQL Server 2012 SP1 CU4 and later][dbms-guide-5.5.1].</span></span>
2. <span data-ttu-id="4ed9d-629">TooSQL préalable de versions de SQL Server 2012 CU4 un tooa de toobackup de fonctionnalité de redirection disque dur virtuel et de flux d’écriture hello déplacer vers un emplacement de stockage Azure qui a été configuré.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-629">SQL Server releases prior tooSQL 2012 CU4 can use a redirection functionality toobackup tooa VHD and basically move hello write stream towards an Azure Storage location that has been configured.</span></span> <span data-ttu-id="4ed9d-630">Voir le chapitre [SQL Server 2012 SP1 CU3 et versions antérieures][dbms-guide-5.5.2].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-630">See chapter [SQL Server 2012 SP1 CU3 and earlier releases][dbms-guide-5.5.2].</span></span>
3. <span data-ttu-id="4ed9d-631">méthode finale Hello est tooperform une commande de sauvegarde toodisk SQL Server classique sur une unité de disque.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-631">hello final method is tooperform a conventional SQL Server backup toodisk command onto a disk device.</span></span> <span data-ttu-id="4ed9d-632">Ceci est le modèle de déploiement local toohello identiques et n’est pas décrite en détail dans ce document.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-632">This is identical toohello on-premises deployment pattern and is not discussed in detail in this document.</span></span>

#### <span data-ttu-id="4ed9d-633"><a name="0fef0e79-d3fe-4ae2-85af-73666a6f7268"></a>SQL Server 2012 SP1 CU4 et versions ultérieures</span><span class="sxs-lookup"><span data-stu-id="4ed9d-633"><a name="0fef0e79-d3fe-4ae2-85af-73666a6f7268"></a>SQL Server 2012 SP1 CU4 and later</span></span>
<span data-ttu-id="4ed9d-634">Cette fonctionnalité permet le stockage d’objets BLOB toodirectly tooAzure sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-634">This functionality allows you toodirectly backup tooAzure BLOB storage.</span></span> <span data-ttu-id="4ed9d-635">Sans cette méthode, vous devez sauvegarder les disques tooother, qui sont d’utiliser le disque et la capacité d’e/s.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-635">Without this method, you must backup tooother disks, which would consume disk and IOPS capacity.</span></span> <span data-ttu-id="4ed9d-636">Hello idée est essentiellement la :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-636">hello idea is basically this:</span></span>

 ![À l’aide de la sauvegarde de SQL Server 2012 tooMicrosoft objet BLOB de stockage Azure][dbms-guide-figure-400]

<span data-ttu-id="4ed9d-638">Hello avantage dans ce cas que de sauvegardes de SQL Server toostore toospend disques sur ne pas utiliser.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-638">hello advantage in this case is that one doesn’t need toospend disks toostore SQL Server backups on.</span></span> <span data-ttu-id="4ed9d-639">Vous avez moins de disques alloués et hello entière de bande passante d’e/s peut être utilisé pour les fichiers journaux et de données de disque.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-639">So you have fewer disks allocated and hello whole bandwidth of disk IOPS can be used for data and log files.</span></span> <span data-ttu-id="4ed9d-640">Notez que hello taille maximale d’une sauvegarde est de 1 To au maximum tooa limité comme décrit dans la section hello « Limitations » dans cet article : <https://docs.microsoft.com/sql/relational-databases/backup-restore/sql-server-backup-to-url#limitations>.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-640">Note that hello maximum size of a backup is limited tooa maximum of 1 TB as documented in hello section ‘Limitations’ in this article: <https://docs.microsoft.com/sql/relational-databases/backup-restore/sql-server-backup-to-url#limitations>.</span></span> <span data-ttu-id="4ed9d-641">Si la taille de la sauvegarde hello, malgré l’utilisation de la compression de sauvegarde de SQL Server dépasse 1 To de taille, hello fonctionnalités décrites dans le chapitre [SQL Server 2012 SP1 CU3 et aux versions antérieures] [ dbms-guide-5.5.2] dans ce document doit toobe utilisé.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-641">If hello backup size, despite using SQL Server Backup compression would exceed 1 TB in size, hello functionality described in chapter [SQL Server 2012 SP1 CU3 and earlier releases][dbms-guide-5.5.2] in this document needs toobe used.</span></span>

<span data-ttu-id="4ed9d-642">[Documentation connexe](https://docs.microsoft.com/sql/relational-databases/backup-restore/restoring-from-backups-stored-in-microsoft-azure) décrivant la restauration hello des bases de données à partir de sauvegardes sur le magasin d’objets Blob Azure ne recommandons pas toorestore directement à partir de magasin d’objets BLOB Azure si hello sauvegarde > 25 Go.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-642">[Related documentation](https://docs.microsoft.com/sql/relational-databases/backup-restore/restoring-from-backups-stored-in-microsoft-azure) describing hello restore of databases from backups against Azure Blob Store recommend not toorestore directly from Azure BLOB store if hello backup is >25GB.</span></span> <span data-ttu-id="4ed9d-643">Hello recommandation dans cet article est simplement basée sur les considérations relatives aux performances et pas en raison de restrictions de toofunctional.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-643">hello recommendation in this article is simply based on performance considerations and not due toofunctional restrictions.</span></span> <span data-ttu-id="4ed9d-644">Par conséquent, différentes conditions peuvent s’appliquer au cas par cas.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-644">Therefore, different conditions may apply on a case by case basis.</span></span>

<span data-ttu-id="4ed9d-645">Pour des informations sur la configuration et l’exploitation de ce type de sauvegarde, voir [ce](https://docs.microsoft.com/sql/relational-databases/tutorial-use-azure-blob-storage-service-with-sql-server-2016) didacticiel</span><span class="sxs-lookup"><span data-stu-id="4ed9d-645">Documentation on how this type of backup is set up and leveraged can be found in [this](https://docs.microsoft.com/sql/relational-databases/tutorial-use-azure-blob-storage-service-with-sql-server-2016) tutorial</span></span>

<span data-ttu-id="4ed9d-646">Un exemple de séquence hello d’étapes peut être lues [ici](https://docs.microsoft.com/sql/relational-databases/backup-restore/sql-server-backup-to-url).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-646">An example of hello sequence of steps can be read [here](https://docs.microsoft.com/sql/relational-databases/backup-restore/sql-server-backup-to-url).</span></span>

<span data-ttu-id="4ed9d-647">Automatisation des sauvegardes, il est plus élevé toomake importance assurer que les objets BLOB de hello pour chaque sauvegarde sont nommés différemment.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-647">Automating backups, it is of highest importance toomake sure that hello BLOBs for each backup are named differently.</span></span> <span data-ttu-id="4ed9d-648">Sinon, ils sont remplacés et chaîne de restauration hello est rompue.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-648">Otherwise they are overwritten and hello restore chain is broken.</span></span>

<span data-ttu-id="4ed9d-649">Pas toomix les choses entre hello trois différents types de sauvegardes, il est conseillé de toocreate différents conteneurs sous le compte de stockage hello utilisé pour les sauvegardes.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-649">In order not toomix up things between hello three different types of backups, it is advisable toocreate different containers underneath hello storage account used for backups.</span></span> <span data-ttu-id="4ed9d-650">les conteneurs Hello peut être uniquement par la machine virtuelle ou par type de sauvegarde et de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-650">hello containers could be by VM only or by VM and Backup type.</span></span> <span data-ttu-id="4ed9d-651">schéma de Hello pourrait ressembler à :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-651">hello schema could look like:</span></span>

 ![À l’aide de la sauvegarde SQL Server 2012 tooMicrosoft objet BLOB de stockage Azure – différents conteneurs sous des comptes de stockage séparés][dbms-guide-figure-500]

<span data-ttu-id="4ed9d-653">Dans l’exemple hello ci-dessus, hello sauvegardes ne seront pas exécutées dans hello où hello du compte de stockage même les ordinateurs virtuels sont déployés.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-653">In hello example above, hello backups would not be performed into hello same storage account where hello VMs are deployed.</span></span> <span data-ttu-id="4ed9d-654">Il y aura un nouveau compte de stockage, en particulier pour les sauvegardes de hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-654">There would be a new storage account specifically for hello backups.</span></span> <span data-ttu-id="4ed9d-655">Dans les comptes de stockage hello, il y aura différents conteneurs créés avec une matrice de type hello de sauvegarde et hello nom d’ordinateur virtuel.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-655">Within hello storage accounts, there would be different containers created with a matrix of hello type of backup and hello VM name.</span></span> <span data-ttu-id="4ed9d-656">Les sauvegardes tooadministrate hello plus faciles de hello rend un tel différentes machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-656">Such segmentation makes it easier tooadministrate hello backups of hello different VMs.</span></span>

<span data-ttu-id="4ed9d-657">BLOB Hello écrites directement les sauvegardes hello, n’ajoutez pas de nombre toohello hello de disques de données d’une machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-657">hello BLOBs one directly writes hello backups to, are not adding toohello count of hello data disks of a VM.</span></span> <span data-ttu-id="4ed9d-658">Par conséquent, un peut optimiser maximum hello de disques de données montée de hello spécifiques VM SKU pour les données de hello et fichier journal des transactions et toujours exécuter une sauvegarde sur un conteneur de stockage.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-658">Hence one could maximize hello maximum of data disks mounted of hello specific VM SKU for hello data and transaction log file and still execute a backup against a storage container.</span></span> 

#### <span data-ttu-id="4ed9d-659"><a name="f9071eff-9d72-4f47-9da4-1852d782087b"></a>SQL Server 2012 SP1 CU3 et versions antérieures</span><span class="sxs-lookup"><span data-stu-id="4ed9d-659"><a name="f9071eff-9d72-4f47-9da4-1852d782087b"></a>SQL Server 2012 SP1 CU3 and earlier releases</span></span>
<span data-ttu-id="4ed9d-660">Hello première étape, vous devez effectuer dans l’ordre tooachieve une sauvegarde directement sur Azure Storage serait msi toodownload hello, qui est lié trop[cela](https://www.microsoft.com/download/details.aspx?id=40740) trouve dans l’article.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-660">hello first step you must perform in order tooachieve a backup directly against Azure Storage would be toodownload hello msi, which is linked too[this](https://www.microsoft.com/download/details.aspx?id=40740) KBA article.</span></span>

<span data-ttu-id="4ed9d-661">Téléchargez le fichier d’installation de hello x64 et une documentation hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-661">Download hello x64 installation file and hello documentation.</span></span> <span data-ttu-id="4ed9d-662">fichier de Hello installe un programme appelé : « Microsoft SQL Server Backup tooMicrosoft Azure Tool ».</span><span class="sxs-lookup"><span data-stu-id="4ed9d-662">hello file installs a program called: ‘Microsoft SQL Server Backup tooMicrosoft Azure Tool’.</span></span> <span data-ttu-id="4ed9d-663">Lire la documentation produit de hello hello attentivement.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-663">Read hello documentation of hello product thoroughly.</span></span>  <span data-ttu-id="4ed9d-664">outil de Hello fonctionne hello de configuration suivant :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-664">hello tool basically works in hello following way:</span></span>

* <span data-ttu-id="4ed9d-665">À partir de hello côté SQL Server, un emplacement de disque pour la sauvegarde de SQL Server hello est défini (n’utilisez pas lecteur D:\ de hello pour cela).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-665">From hello SQL Server side, a disk location for hello SQL Server backup is defined (don’t use hello D:\ drive for this).</span></span>
* <span data-ttu-id="4ed9d-666">outil de Hello vous permet de règles toodefine, qui peuvent être utilisé toodirect différents types de conteneurs de stockage Azure toodifferent de sauvegardes.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-666">hello tool allows you toodefine rules, which can be used toodirect different types of backups toodifferent Azure Storage containers.</span></span>
* <span data-ttu-id="4ed9d-667">Une fois que les règles de hello sont en place, outil de hello redirige les flux d’écriture hello de tooone de sauvegarde hello de hello VHD/disque toohello emplacement de stockage Azure, qui a été précédemment défini.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-667">Once hello rules are in place, hello tool redirects hello write stream of hello backup tooone of hello VHDs/disks toohello Azure Storage location, which was defined earlier.</span></span>
* <span data-ttu-id="4ed9d-668">outil de Hello laisse un fichier stub petite de quelques Ko sur hello VHD/disque, ce qui a été défini pour hello SQL Server sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-668">hello tool leaves a small stub file of a few KB size on hello VHD/Disk, which was defined for hello SQL Server backup.</span></span> <span data-ttu-id="4ed9d-669">**Ce fichier doit rester sur l’emplacement de stockage hello, car elle est requise toorestore à nouveau depuis le stockage Azure.**</span><span class="sxs-lookup"><span data-stu-id="4ed9d-669">**This file should be left on hello storage location since it is required toorestore again from Azure Storage.**</span></span>
  * <span data-ttu-id="4ed9d-670">Si vous avez perdu un fichier stub hello (par exemple via la perte de supports de stockage hello contenant un fichier stub hello) et que vous avez choisi d’option hello de sauvegarde tooa compte de stockage Microsoft Azure, vous pouvez récupérer un fichier stub via Microsoft Azure Storage par hello télécharger à partir du conteneur de stockage hello dans lequel il a été placé.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-670">If you have lost hello stub file (for example through loss of hello storage media that contained hello stub file) and you have chosen hello option of backing up tooa Microsoft Azure Storage account, you may recover hello stub file through Microsoft Azure Storage by downloading it from hello storage container in which it was placed.</span></span> <span data-ttu-id="4ed9d-671">Vous devez ensuite placer un fichier stub hello dans un dossier sur l’ordinateur local de hello où hello outil est configuré toohello de toodetect et le téléchargement même conteneur avec hello même mot de passe de chiffrement si le chiffrement a été utilisé avec la règle d’origine de hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-671">You should then place hello stub file into a folder on hello local machine where hello Tool is configured toodetect and upload toohello same container with hello same encryption password if encryption was used with hello original rule.</span></span> 

<span data-ttu-id="4ed9d-672">Cela signifie que le schéma de hello comme décrit ci-dessus pour les versions plus récentes de SQL Server peut être mis en place également pour les versions de SQL Server, qui ne permettent pas d’adressage direct vers un emplacement de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-672">This means hello schema as described above for more recent releases of SQL Server can be put in place as well for SQL Server releases, which are not allowing direct address an Azure Storage location.</span></span>

<span data-ttu-id="4ed9d-673">Cette méthode ne doit pas être utilisée avec les versions plus récentes de SQL Server qui prennent en charge la sauvegarde en mode natif dans le Stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-673">This method should not be used with more recent SQL Server releases, which support backing up natively against Azure Storage.</span></span> <span data-ttu-id="4ed9d-674">Les exceptions sont les limitations de la sauvegarde en mode natif hello dans Azure où bloquent l’exécution de sauvegarde native dans Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-674">Exceptions are where limitations of hello native backup into Azure are blocking native backup execution into Azure.</span></span>

#### <a name="other-possibilities-toobackup-sql-server-databases"></a><span data-ttu-id="4ed9d-675">Autres possibilités toobackup bases de données SQL</span><span class="sxs-lookup"><span data-stu-id="4ed9d-675">Other possibilities toobackup SQL Server databases</span></span>
<span data-ttu-id="4ed9d-676">Autres bases de données toobackup possibilités est tooa de disques de données supplémentaires tooattach machine virtuelle que vous utilisez des sauvegardes de toostore sur.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-676">Other possibilities toobackup databases is tooattach additional data disks tooa VM that you use toostore backups on.</span></span> <span data-ttu-id="4ed9d-677">Dans ce cas, vous devez toomake assurer que les disques hello n’exécutent pas complètes.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-677">In such a case, you would need toomake sure that hello disks are not running full.</span></span> <span data-ttu-id="4ed9d-678">Si tel est le cas de hello, vous devez les disques toounmount hello et donc toospeak « archive » et remplacez-le par un nouveau disque vide.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-678">If that is hello case, you would need toounmount hello disks and so toospeak ‘archive’ it and replace it with a new empty disk.</span></span> <span data-ttu-id="4ed9d-679">Si vous passez ce chemin d’accès vers le bas, vous souhaitez tookeep ces disques durs virtuels dans des comptes de stockage Azure distinct à partir de hello ceux qui hello des disques durs virtuels avec des fichiers de base de données hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-679">If you go down that path, you want tookeep these VHDs in separate Azure Storage Accounts from hello ones that hello VHDs with hello database files.</span></span>

<span data-ttu-id="4ed9d-680">Une deuxième possibilité est toouse une machine virtuelle large qui peut avoir de disques attachés, par exemple un D14 avec 32VHDs.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-680">A second possibility is toouse a large VM that can have many disks attached, for example a D14 with 32VHDs.</span></span> <span data-ttu-id="4ed9d-681">Utilisez toobuild des espaces de stockage un environnement flexible dans lequel vous pouvez générer des partages qui servent ensuite en tant que cibles de sauvegarde pour différents serveurs de SGBD hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-681">Use Storage Spaces toobuild a flexible environment where you could build shares that are used then as backup targets for hello different DBMS servers.</span></span>

<span data-ttu-id="4ed9d-682">Certaines meilleures pratiques sont également décrites [ici](https://blogs.msdn.com/b/sqlcat/archive/2015/02/26/large-sql-server-database-backup-on-an-azure-vm-and-archiving.aspx) .</span><span class="sxs-lookup"><span data-stu-id="4ed9d-682">Some best practices got documented [here](https://blogs.msdn.com/b/sqlcat/archive/2015/02/26/large-sql-server-database-backup-on-an-azure-vm-and-archiving.aspx) as well.</span></span> 

#### <a name="performance-considerations-for-backupsrestores"></a><span data-ttu-id="4ed9d-683">Considérations sur les performances des sauvegardes/restaurations</span><span class="sxs-lookup"><span data-stu-id="4ed9d-683">Performance considerations for backups/restores</span></span>
<span data-ttu-id="4ed9d-684">Comme dans les déploiements de système nu, les performances de sauvegarde/restauration sont dépend du nombre de volumes peut être lues en parallèle et quelles débit hello de ces volumes peut être.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-684">As in bare-metal deployments, backup/restore performance is dependent on how many volumes can be read in parallel and what hello throughput of those volumes might be.</span></span> <span data-ttu-id="4ed9d-685">En outre, hello consommation d’UC utilisée par la compression de sauvegarde peut jouent un rôle significatif sur les machines virtuelles avec uniquement les threads de l’UC de tooeight.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-685">In addition, hello CPU consumption used by backup compression may play a significant role on VMs with just up tooeight CPU threads.</span></span> <span data-ttu-id="4ed9d-686">Par conséquent, on peut partir des hypothèses suivantes :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-686">Therefore, one can assume:</span></span>

* <span data-ttu-id="4ed9d-687">Hello moins hello nombre de disques utilisé des fichiers de données hello toostore, hello plus petites hello débit global de lecture.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-687">hello fewer hello number of disks used toostore hello data files, hello smaller hello overall throughput in reading.</span></span>
* <span data-ttu-id="4ed9d-688">Hello plus petit nombre de hello de threads d’UC Bonjour VM, hello plus grave impact hello de compression de la sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-688">hello smaller hello number of CPU threads in hello VM, hello more severe hello impact of backup compression.</span></span>
* <span data-ttu-id="4ed9d-689">Hello moins cibles (objets BLOB, disques durs virtuels ou des disques) toowrite hello de sauvegarde vers, hello débit de hello moindre.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-689">hello fewer targets (BLOBs, VHDs, or disks) toowrite hello backup to, hello lesser hello throughput.</span></span>
* <span data-ttu-id="4ed9d-690">Bonjour Bonjour plus petite taille de machine virtuelle, hello plus petits hello débit quota de stockage l’écriture et la lecture depuis le stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-690">hello smaller hello VM size, hello smaller hello storage throughput quota writing and reading from Azure Storage.</span></span> <span data-ttu-id="4ed9d-691">Indépendamment de si les sauvegardes hello sont stockées directement sur les objets Blob Azure, ou s’ils sont stockés dans les disques durs virtuels stockés à nouveau dans les objets BLOB Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-691">Independent of whether hello backups are directly stored on Azure Blob or whether they are stored in VHDs that again are stored in Azure Blobs.</span></span>

<span data-ttu-id="4ed9d-692">Lorsque vous utilisez un objet de stockage BLOB Microsoft Azure en tant que cible de sauvegarde hello dans les versions plus récentes, vous êtes limité toodesignating une seule URL cible pour chaque sauvegarde spécifique.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-692">When using a Microsoft Azure Storage BLOB as hello backup target in more recent releases, you are restricted toodesignating only one URL target for each specific backup.</span></span>

<span data-ttu-id="4ed9d-693">Mais lorsque vous utilisez hello « Microsoft SQL Server Backup tooMicrosoft Azure Tool » dans les versions antérieures, vous pouvez définir plusieurs cibles de fichier.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-693">But when using hello ‘Microsoft SQL Server Backup tooMicrosoft Azure Tool’ in older releases, you can define more than one file target.</span></span> <span data-ttu-id="4ed9d-694">Avec plusieurs cibles, faites évoluer les sauvegarde hello et hello débit de sauvegarde de hello est plus élevé.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-694">With more than one target, hello backup can scale and hello throughput of hello backup is higher.</span></span> <span data-ttu-id="4ed9d-695">Cela se traduirait ensuite dans plusieurs fichiers ainsi hello compte de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-695">This would result then in multiple files as well in hello Azure Storage account.</span></span> <span data-ttu-id="4ed9d-696">Dans nos tests, à l’aide de plusieurs destinations de fichiers permet d’obtenir un débit hello, lequel permet d’obtenir avec les extensions de sauvegarde hello implémentée dans à partir de SQL Server 2012 SP1 CU4.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-696">In our testing, using multiple file destinations one can definitely achieve hello throughput, which one could achieve with hello backup extensions implemented in from SQL Server 2012 SP1 CU4 on.</span></span> <span data-ttu-id="4ed9d-697">Vous également ne sont pas bloquées par la limite de 1 to hello comme sauvegarde en mode natif hello dans Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-697">You also are not blocked by hello 1TB limit as in hello native backup into Azure.</span></span>

<span data-ttu-id="4ed9d-698">Toutefois, gardez à l’esprit, débit de hello est également dépendant de l’emplacement hello Hello vous utilisez pour la sauvegarde de hello de compte de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-698">However, keep in mind, hello throughput also is dependent on hello location of hello Azure Storage Account you use for hello backup.</span></span> <span data-ttu-id="4ed9d-699">Une idée peut être le compte de stockage toolocate hello dans une région différente de celle hello dans que machines virtuelles s’exécutent.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-699">An idea might be toolocate hello storage account in a different region than hello VMs are running in.</span></span> <span data-ttu-id="4ed9d-700">Par exemple vous exécutez la configuration d’ordinateur virtuel hello en Europe occidentale, mais placer hello compte de stockage que vous utilisez tooback contre dans Europe du Nord.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-700">For example you would run hello VM configuration in West-Europe, but put hello Storage Account that you use tooback up against in North-Europe.</span></span> <span data-ttu-id="4ed9d-701">Qui a un impact sur le débit de sauvegarde hello et est toogenerate probablement pas un débit de 150 Mo/s, telle qu’elle apparaît toobe possible dans les cas où de stockage de cible de hello et machines virtuelles de hello sont en cours d’exécution dans hello de certainement même centre de données régional.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-701">That certainly has an impact on hello backup throughput and is not likely toogenerate a throughput of 150MB/sec as it seems toobe possible in cases where hello target storage and hello VMs are running in hello same regional datacenter.</span></span>

#### <a name="managing-backup-blobs"></a><span data-ttu-id="4ed9d-702">Gestion des objets blob de sauvegarde</span><span class="sxs-lookup"><span data-stu-id="4ed9d-702">Managing Backup BLOBs</span></span>
<span data-ttu-id="4ed9d-703">Est une sauvegarde de hello exigence toomanage sur votre propre.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-703">There is a requirement toomanage hello backups on your own.</span></span> <span data-ttu-id="4ed9d-704">Attente de hello étant que plusieurs objets BLOB est créés par l’exécution de sauvegardes fréquentes du journal, administration de ces objets BLOB peut facilement surcharger hello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-704">Since hello expectation is that many blobs are created by executing frequent transaction log backups, administration of those blobs easily can overburden hello Azure portal.</span></span> <span data-ttu-id="4ed9d-705">Par conséquent, il est tooleverage pourquoi un Explorateur de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-705">Therefore, it is recommendable tooleverage an Azure storage explorer.</span></span> <span data-ttu-id="4ed9d-706">Il existe plusieurs, ce qui peuvent aider à toomanage un compte de stockage Azure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-706">There are several good ones available, which can help toomanage an Azure storage account</span></span>

* <span data-ttu-id="4ed9d-707">Microsoft Visual Studio avec le Kit de développement logiciel (SDK) Azure installé (<https://azure.microsoft.com/downloads/>)</span><span class="sxs-lookup"><span data-stu-id="4ed9d-707">Microsoft Visual Studio with Azure SDK installed (<https://azure.microsoft.com/downloads/>)</span></span>
* <span data-ttu-id="4ed9d-708">Explorateur de stockage Microsoft Azure (<https://azure.microsoft.com/downloads/>)</span><span class="sxs-lookup"><span data-stu-id="4ed9d-708">Microsoft Azure Storage Explorer (<https://azure.microsoft.com/downloads/>)</span></span>
* <span data-ttu-id="4ed9d-709">Outils tiers</span><span class="sxs-lookup"><span data-stu-id="4ed9d-709">Third party tools</span></span>

<span data-ttu-id="4ed9d-710">Pour obtenir une description plus complète de la sauvegarde et de SAP sur Azure, consultez trop[hello Guide de sauvegarde SAP](sap-hana-backup-guide.md) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-710">For a more complete discussion of Backup and SAP on Azure, refer too[hello SAP Backup Guide](sap-hana-backup-guide.md) for more information.</span></span>

### <span data-ttu-id="4ed9d-711"><a name="1b353e38-21b3-4310-aeb6-a77e7c8e81c8"></a>À l’aide d’une image de SQL Server hors hello Microsoft Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="4ed9d-711"><a name="1b353e38-21b3-4310-aeb6-a77e7c8e81c8"></a>Using a SQL Server image out of hello Microsoft Azure Marketplace</span></span>
<span data-ttu-id="4ed9d-712">Microsoft propose des machines virtuelles Bonjour Azure Marketplace, qui contiennent déjà des versions de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-712">Microsoft offers VMs in hello Azure Marketplace, which already contain versions of SQL Server.</span></span> <span data-ttu-id="4ed9d-713">Pour les clients SAP qui ont besoin de licences pour SQL Server et Windows, cela peut être un besoin de hello opportunité toobasically garde de licences par les machines virtuelles avec SQL Server est déjà installé.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-713">For SAP customers who require licenses for SQL Server and Windows, this might be an opportunity toobasically cover hello need for licenses by spinning up VMs with SQL Server already installed.</span></span> <span data-ttu-id="4ed9d-714">Commande toouse ces images pour SAP, hello suivant considérations doivent être toobe apportée :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-714">In order toouse such images for SAP, hello following considerations need toobe made:</span></span>

* <span data-ttu-id="4ed9d-715">les versions d’évaluation non SQL Server Hello coûtent plus chers simplement un 'Windows uniquement' ordinateur virtuel déployé à partir d’Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-715">hello SQL Server non-Evaluation versions acquire higher costs than just a ‘Windows-only’ VM deployed from Azure Marketplace.</span></span> <span data-ttu-id="4ed9d-716">Consultez ces prix de toocompare articles : <https://azure.microsoft.com/pricing/details/virtual-machines/windows/> et <https://azure.microsoft.com/pricing/details/virtual-machines/sql-server-enterprise/>.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-716">See these articles toocompare prices: <https://azure.microsoft.com/pricing/details/virtual-machines/windows/> and <https://azure.microsoft.com/pricing/details/virtual-machines/sql-server-enterprise/>.</span></span> 
* <span data-ttu-id="4ed9d-717">Vous pouvez uniquement utiliser les versions de SQL Server qui sont prises en charge par SAP, telles que SQL Server 2012.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-717">You only can use SQL Server releases, which are supported by SAP, like SQL Server 2012.</span></span>
* <span data-ttu-id="4ed9d-718">classement Hello de l’instance de SQL Server hello, qui est installé sur des machines virtuelles proposées Bonjour Azure Marketplace hello n’est pas le classement hello SAP NetWeaver requiert hello SQL Server instance toorun.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-718">hello collation of hello SQL Server instance, which is installed in hello VMs offered in hello Azure Marketplace is not hello collation SAP NetWeaver requires hello SQL Server instance toorun.</span></span> <span data-ttu-id="4ed9d-719">Vous pouvez modifier le classement de hello mais avec directions hello Bonjour suivant la section.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-719">You can change hello collation though with hello directions in hello following section.</span></span>

#### <a name="changing-hello-sql-server-collation-of-a-microsoft-windowssql-server-vm"></a><span data-ttu-id="4ed9d-720">La modification hello classement SQL Server d’une machine virtuelle de Microsoft Windows/SQL Server</span><span class="sxs-lookup"><span data-stu-id="4ed9d-720">Changing hello SQL Server Collation of a Microsoft Windows/SQL Server VM</span></span>
<span data-ttu-id="4ed9d-721">Étant donné que les images de SQL Server hello Bonjour Azure Marketplace ne sont pas définies classement toouse hello, qui est requis par les applications SAP NetWeaver, il doit toobe modifié immédiatement après le déploiement de hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-721">Since hello SQL Server images in hello Azure Marketplace are not set up toouse hello collation, which is required by SAP NetWeaver applications, it needs toobe changed immediately after hello deployment.</span></span> <span data-ttu-id="4ed9d-722">Pour SQL Server 2012, cela est possible avec hello comme suit dès que hello machine virtuelle a été déployée et un administrateur est en mesure de toolog dans hello déployé machine virtuelle :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-722">For SQL Server 2012, this can be done with hello following steps as soon as hello VM has been deployed and an administrator is able toolog into hello deployed VM:</span></span>

* <span data-ttu-id="4ed9d-723">Ouvrez une fenêtre de commande Windows en tant qu’« administrateur ».</span><span class="sxs-lookup"><span data-stu-id="4ed9d-723">Open a Windows Command Window ‘as administrator’.</span></span>
* <span data-ttu-id="4ed9d-724">Modifier hello Active tooC:\Program Files\Microsoft SQL Server\110\Setup Bootstrap\SQLServer2012.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-724">Change hello directory tooC:\Program Files\Microsoft SQL Server\110\Setup Bootstrap\SQLServer2012.</span></span>
* <span data-ttu-id="4ed9d-725">Exécutez la commande hello : Setup.exe /QUIET/action = REBUILDDATABASE/InstanceName = MSSQLSERVER/sqlsysadminaccounts =`<local_admin_account_name`>/SQLCOLLATION = SQL_Latin1_General_Cp850_BIN2</span><span class="sxs-lookup"><span data-stu-id="4ed9d-725">Execute hello command: Setup.exe /QUIET /ACTION=REBUILDDATABASE /INSTANCENAME=MSSQLSERVER /SQLSYSADMINACCOUNTS=`<local_admin_account_name`> /SQLCOLLATION=SQL_Latin1_General_Cp850_BIN2</span></span>   
  * <span data-ttu-id="4ed9d-726">`<local_admin_account_name`> est le compte hello, qui a été défini comme compte d’administrateur hello lors du déploiement hello VM pour hello première exécution de la galerie de hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-726">`<local_admin_account_name`> is hello account, which was defined as hello administrator account when deploying hello VM for hello first time through hello gallery.</span></span>

<span data-ttu-id="4ed9d-727">processus de Hello doit uniquement prendre quelques minutes.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-727">hello process should only take a few minutes.</span></span> <span data-ttu-id="4ed9d-728">Dans toomake de commande que si l’étape de hello terminé avec le résultat correct de hello, procédez hello comme suit :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-728">In order toomake sure whether hello step ended up with hello correct result, perform hello following steps:</span></span>

* <span data-ttu-id="4ed9d-729">Ouvrez SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-729">Open SQL Server Management Studio.</span></span>
* <span data-ttu-id="4ed9d-730">Ouvrez une fenêtre Requête.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-730">Open a Query Window.</span></span>
* <span data-ttu-id="4ed9d-731">Exécutez hello commande sp_helpsort dans la base de données master de SQL Server de hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-731">Execute hello command sp_helpsort in hello SQL Server master database.</span></span>

<span data-ttu-id="4ed9d-732">résultat de Hello souhaité doit ressembler à :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-732">hello desired result should look like:</span></span>

    Latin1-General, binary code point comparison sort for Unicode Data, SQL Server Sort Order 40 on Code Page 850 for non-Unicode Data

<span data-ttu-id="4ed9d-733">Si ce n’est pas le résultat de hello, arrêter le déploiement SAP et examinez pourquoi commande de hello le programme d’installation n’a pas fonctionné comme prévu.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-733">If this is not hello result, STOP deploying SAP and investigate why hello setup command did not work as expected.</span></span> <span data-ttu-id="4ed9d-734">Déploiement d’applications SAP NetWeaver sur l’instance SQL Server avec des pages de codes SQL Server autre que celui mentionné ci-dessus hello est **pas** pris en charge.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-734">Deployment of SAP NetWeaver applications onto SQL Server instance with different SQL Server codepages than hello one mentioned above is **NOT** supported.</span></span>

### <a name="sql-server-high-availability-for-sap-in-azure"></a><span data-ttu-id="4ed9d-735">Solutions SQL Server haute disponibilité pour SAP dans Azure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-735">SQL Server High-Availability for SAP in Azure</span></span>
<span data-ttu-id="4ed9d-736">Comme mentionné plus haut dans ce document, ne pas toocreate partagé un stockage possibilité, qui est nécessaire pour l’utilisation de hello hello plus ancienne fonctionnalité de SQL Server haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-736">As mentioned earlier in this paper, there is no possibility toocreate shared storage, which is necessary for hello usage of hello oldest SQL Server high availability functionality.</span></span> <span data-ttu-id="4ed9d-737">Cette fonctionnalité installerait plusieurs instances de SQL Server dans un Windows Server Cluster de basculement (WSFC) à l’aide d’un disque partagé pour les bases de données utilisateur hello (et, finalement, tempdb).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-737">This functionality would install two or more SQL Server instances in a Windows Server Failover Cluster (WSFC) using a shared disk for hello user databases (and eventually tempdb).</span></span> <span data-ttu-id="4ed9d-738">Il s’agit de méthode hello beaucoup de temps standard de haute disponibilité, également pris en charge par SAP.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-738">This is hello long time standard high availability method, which also is supported by SAP.</span></span> <span data-ttu-id="4ed9d-739">Comme Azure ne prend pas en charge le stockage partagé, les configurations de haute disponibilité de SQL Server reposant sur un cluster de disque partagé sont impossibles.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-739">Because Azure doesn’t support shared storage, SQL Server high availability configurations with a shared disk cluster configuration cannot be realized.</span></span> <span data-ttu-id="4ed9d-740">Toutefois, d’autres méthodes de haute disponibilité sont toujours possibles et sont décrits dans les sections suivantes de hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-740">However, many other high availability methods are still possible and are described in hello following sections.</span></span>

#### <a name="sql-server-log-shipping"></a><span data-ttu-id="4ed9d-741">Copie des journaux de transaction SQL Server</span><span class="sxs-lookup"><span data-stu-id="4ed9d-741">SQL Server Log Shipping</span></span>
<span data-ttu-id="4ed9d-742">Une des méthodes de hello de haute disponibilité (HA) est l’envoi de journaux SQL Server.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-742">One of hello methods of high availability (HA) is SQL Server Log Shipping.</span></span> <span data-ttu-id="4ed9d-743">Si les machines virtuelles hello de configuration de haute disponibilité hello ont l’utilisation de la résolution de noms, il n’existe aucun problème et le programme d’installation de hello dans Azure ne diffère pas de configuration est effectuée localement.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-743">If hello VMs participating in hello HA configuration have working name resolution, there is no problem and hello setup in Azure does not differ from any setup that is done on-premises.</span></span> <span data-ttu-id="4ed9d-744">Il n’est pas recommandé toorely sur la résolution d’adresses IP.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-744">It is not recommended toorely on IP resolution only.</span></span> <span data-ttu-id="4ed9d-745">Avec toosetting ce qui concerne les principes de hello autour de l’envoi de journaux et les journaux, consultez la documentation :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-745">With regards toosetting up Log Shipping and hello principles around Log Shipping, check this documentation:</span></span>

<span data-ttu-id="4ed9d-746"><https://docs.microsoft.com/sql/database-engine/log-shipping/about-log-shipping-sql-server></span><span class="sxs-lookup"><span data-stu-id="4ed9d-746"><https://docs.microsoft.com/sql/database-engine/log-shipping/about-log-shipping-sql-server></span></span>

<span data-ttu-id="4ed9d-747">Dans l’ordre tooreally obtenir la haute disponibilité, doivent être toodeploy hello machines virtuelles, qui sont dans ce un toobe de configuration d’envoi de journaux au sein de hello même à haute disponibilité Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-747">In order tooreally achieve any high availability, one needs toodeploy hello VMs, which are within such a Log Shipping configuration toobe within hello same Azure Availability Set.</span></span>

#### <a name="database-mirroring"></a><span data-ttu-id="4ed9d-748">Mise en miroir de bases de données</span><span class="sxs-lookup"><span data-stu-id="4ed9d-748">Database Mirroring</span></span>
<span data-ttu-id="4ed9d-749">Mise en miroir de base de données pris en charge par SAP (voir la Note SAP [965908]) s’appuie sur la définition d’un partenaire de basculement dans la chaîne de connexion SAP de hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-749">Database Mirroring as supported by SAP (see SAP Note [965908]) relies on defining a failover partner in hello SAP connection string.</span></span> <span data-ttu-id="4ed9d-750">Pour les cas de hello entre différents locaux, nous partons du principe que hello deux machines virtuelles sont Bonjour même domaine et ce contexte de l’utilisateur hello hello deux instances sont en cours d’exécution sous un utilisateur du domaine de serveur SQL et dispose des privilèges dans les instances de SQL Server hello deux impliqués.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-750">For hello Cross-Premises cases, we assume that hello two VMs are in hello same domain and that hello user context hello two SQL Server instances are running under a domain user as well and have sufficient privileges in hello two SQL Server instances involved.</span></span> <span data-ttu-id="4ed9d-751">Par conséquent, le programme d’installation de hello de mise en miroir de base de données dans Azure ne diffère pas entre une programme d’installation/de configuration local.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-751">Therefore, hello setup of Database Mirroring in Azure does not differ between a typical on-premises setup/configuration.</span></span>

<span data-ttu-id="4ed9d-752">Comme des déploiements de Cloud uniquement, méthode la plus simple hello est toohave un autre domaine d’installation dans Azure toohave ces machines virtuelles SGBD (et les machines virtuelles SAP dédiées) dans un seul domaine.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-752">As of Cloud-Only deployments, hello easiest method is toohave another domain setup in Azure toohave those DBMS VMs (and ideally dedicated SAP VMs) within one domain.</span></span>

<span data-ttu-id="4ed9d-753">Si un domaine n’est pas possible, un peut également utiliser des certificats pour les points de terminaison de mise en miroir comme décrit ici de la base de données hello : <https://docs.microsoft.com/sql/database-engine/database-mirroring/use-certificates-for-a-database-mirroring-endpoint-transact-sql></span><span class="sxs-lookup"><span data-stu-id="4ed9d-753">If a domain is not possible, one can also use certificates for hello database mirroring endpoints as described here: <https://docs.microsoft.com/sql/database-engine/database-mirroring/use-certificates-for-a-database-mirroring-endpoint-transact-sql></span></span>

<span data-ttu-id="4ed9d-754">Un didacticiel tooset la mise en miroir de base de données dans Azure se trouve ici : <https://docs.microsoft.com/sql/database-engine/database-mirroring/database-mirroring-sql-server></span><span class="sxs-lookup"><span data-stu-id="4ed9d-754">A tutorial tooset up Database Mirroring in Azure can be found here: <https://docs.microsoft.com/sql/database-engine/database-mirroring/database-mirroring-sql-server></span></span> 

#### <a name="sql-server-always-on"></a><span data-ttu-id="4ed9d-755">SQL Server AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="4ed9d-755">SQL Server Always On</span></span>
<span data-ttu-id="4ed9d-756">Always On est pris en charge pour SAP local (voir la Note SAP [1772688]), il est pris en charge toobe utilisé en combinaison avec SAP dans Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-756">As Always On is supported for SAP on-premises (see SAP Note [1772688]), it is supported toobe used in combination with SAP in Azure.</span></span> <span data-ttu-id="4ed9d-757">faits Hello que vous n’êtes pas en mesure de toocreate partagé des disques dans Azure ne signifie pas qu’une ne peut pas créer une configuration de toujours sur Windows Server Cluster de basculement (WSFC) entre les différentes machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-757">hello fact that you are not able toocreate shared disks in Azure doesn’t mean that one can’t create an Always On Windows Server Failover Cluster (WSFC) configuration between different VMs.</span></span> <span data-ttu-id="4ed9d-758">Il uniquement signifie que vous n’avez pas hello possibilité toouse un disque partagé en tant qu’un quorum dans la configuration de cluster hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-758">It only means that you do not have hello possibility toouse a shared disk as a quorum in hello cluster configuration.</span></span> <span data-ttu-id="4ed9d-759">Par conséquent, vous pouvez créer une configuration toujours WSFC dans Azure et ne pas sélectionner de type hello quorum qui utilise un disque partagé.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-759">Hence you can build an Always On WSFC configuration in Azure and simply not select hello quorum type that utilizes shared disk.</span></span> <span data-ttu-id="4ed9d-760">Hello environnement Azure ces machines virtuelles sont déployées dans doit se résoudre hello des machines virtuelles par nom et hello machines virtuelles doit être Bonjour même domaine.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-760">hello Azure environment those VMs are deployed in should resolve hello VMs by name and hello VMs should be in hello same domain.</span></span> <span data-ttu-id="4ed9d-761">Cela se révèle vrai pour Azure uniquement, dans le cas de déploiement entre différents locaux.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-761">This is true for Azure only and Cross-Premises deployments.</span></span> <span data-ttu-id="4ed9d-762">Il existe certaines considérations spéciales déploiement hello écouteur de groupe de disponibilité de SQL Server (pas toobe confondue avec hello haute disponibilité Azure), car Azure ne permet pas à ce stade toosimply créer un objet AD/DNS comme il est possible en local.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-762">There are some special considerations around deploying hello SQL Server Availability Group Listener (not toobe confused with hello Azure Availability Set) since Azure at this point in time does not allow toosimply create an AD/DNS object as it is possible on-premises.</span></span> <span data-ttu-id="4ed9d-763">Par conséquent, les étapes d’installation différentes sont comportement spécifique de hello tooovercome nécessaire d’Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-763">Therefore, some different installation steps are necessary tooovercome hello specific behavior of Azure.</span></span>

<span data-ttu-id="4ed9d-764">Lors de l’utilisation de l’écouteur de groupe de disponibilité, tenez compte des considérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-764">Some considerations using an Availability Group Listener are:</span></span>

* <span data-ttu-id="4ed9d-765">À l’aide d’un écouteur de groupe de disponibilité n’est possible avec Windows Server 2012 ou version ultérieure comme système d’exploitation invité de hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-765">Using an Availability Group Listener is only possible with Windows Server 2012 or higher as guest OS of hello VM.</span></span> <span data-ttu-id="4ed9d-766">Pour Windows Server 2012, vous devez assurer que ce correctif est appliqué de toomake : <https://support.microsoft.com/kb/2854082></span><span class="sxs-lookup"><span data-stu-id="4ed9d-766">For Windows Server 2012 you need toomake sure that this patch is applied: <https://support.microsoft.com/kb/2854082></span></span> 
* <span data-ttu-id="4ed9d-767">Pour Windows Server 2008 R2 ce correctif n’existe pas et devez Always On toobe utilisé Bonjour même manière que la mise en miroir de base de données en spécifiant un partenaire de basculement dans la chaîne de connexion hello (via hello SAP default.pfl paramètre dbs/mss/server : consultez la Note SAP [965908]).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-767">For Windows Server 2008 R2 this patch does not exist and Always On would need toobe used in hello same manner as Database Mirroring by specifying a failover partner in hello connections string (done through hello SAP default.pfl parameter dbs/mss/server – see SAP Note [965908]).</span></span>
* <span data-ttu-id="4ed9d-768">Lorsque l’aide d’un écouteur de groupe de disponibilité, les machines virtuelles de base de données hello devez toobe connecté tooa dédié équilibrage de charge.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-768">When using an Availability Group Listener, hello Database VMs need toobe connected tooa dedicated Load Balancer.</span></span> <span data-ttu-id="4ed9d-769">Résolution dans les déploiements de Cloud uniquement de noms soit nécessiterait toutes les machines virtuelles d’un SAP système (serveurs d’applications, serveur SGBD et (A) SCS serveur) soient hello même réseau virtuel ou nécessiterait à partir d’une maintenance hello couche des applications SAP du fichier etc\host de hello dans commande tooget hello noms de machine virtuelle hello machines virtuelles SQL Server résolu.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-769">Name resolution in Cloud-Only deployments would either require all VMs of an SAP system (application servers, DBMS server, and (A)SCS server) are in hello same virtual network or would require from an SAP application layer hello maintenance of hello etc\host file in order tooget hello VM names of hello SQL Server VMs resolved.</span></span> <span data-ttu-id="4ed9d-770">Dans l’ordre les tooavoid que Azure est assigne de nouvelles adresses IP dans les cas où les deux machines virtuelles sont arrêtées, une doit affecter des adresses IP statiques toohello les interfaces réseau de ces ordinateurs virtuels dans hello toujours de configuration (définition d’une adresse IP statique est décrite dans [cela] [ virtual-networks-reserved-private-ip] article)</span><span class="sxs-lookup"><span data-stu-id="4ed9d-770">In order tooavoid that Azure is assigning new IP addresses in cases where both VMs incidentally are shutdown, one should assign static IP addresses toohello network interfaces of those VMs in hello Always On configuration (defining a static IP address is described in [this][virtual-networks-reserved-private-ip] article)</span></span>

[comment]: <> (Anciens blogs)
[comment]: <> (&lt;https://blogs.msdn.com/b/alwaysonpro/archive/2014/08/29/recommendations-and-best-practices-when-deploying-sql-server-alwayson-availability-groups-in-windows-azure-iaas.aspx&gt;, &lt;https://blogs.technet.com/b/rmilne/archive/2015/07/27/how-to-set-static-ip-on-azure-vm.aspx&gt;) 
* <span data-ttu-id="4ed9d-773">Il étapes spéciales sont nécessaires lorsque la création de la configuration de cluster WSFC hello où les cluster hello a besoin d’une adresse IP particulière assignée, car Azure avec la fonctionnalité actuelle affecterait le nom du cluster hello hello la même adresse IP en tant que cluster de hello hello nœud est créé sur.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-773">There are special steps required when building hello WSFC cluster configuration where hello cluster needs a special IP address assigned, because Azure with its current functionality would assign hello cluster name hello same IP address as hello node hello cluster is created on.</span></span> <span data-ttu-id="4ed9d-774">Cela signifie qu'une étape manuelle doit être effectuée tooassign un autre cluster de toohello d’adresse IP.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-774">This means a manual step must be performed tooassign a different IP address toohello cluster.</span></span>
* <span data-ttu-id="4ed9d-775">Hello écouteur du groupe de disponibilité va toobe créé dans Azure avec des points de terminaison TCP/IP qui sont affectés des machines virtuelles toohello en exécutant les réplicas principal et secondaire de hello hello du groupe de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-775">hello Availability Group Listener is going toobe created in Azure with TCP/IP endpoints, which are assigned toohello VMs running hello primary and secondary replicas of hello Availability group.</span></span>
* <span data-ttu-id="4ed9d-776">Il peut y avoir un toosecure besoin de ces points de terminaison avec des ACL.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-776">There might be a need toosecure these endpoints with ACLs.</span></span>

[comment]: <> (Ancien blog TODO)
[comment]: <> (les étapes détaillées de Hello et expliqués installation d’une configuration AlwaysOn sur Azure sont encore mieux lorsque vous parcourez par hello didacticiel disponible [here][virtual-machines-windows-classic-ps-sql-alwayson-availability-groups])
[comment]: <> (Préconfiguré configuration AlwaysOn via hello la galerie Azure < https://blogs.technet.com/b/dataplatforminsider/archive/2014/08/25/sql-server-alwayson-offering-in-microsoft-azure-portal-gallery.aspx>)
[comment]: <> (Creating an Availability Group Listener is best described in [this][virtual-machines-windows-classic-ps-sql-int-listener] tutorial)
[comment]: <> (Securing network endpoints with ACLs are explained best here:)
[comment]: <> (*    &lt;https://michaelwasham.com/windows-azure-powershell-reference-guide/network-access-control-list-capability-in-windows-azure-powershell/&gt;)
[comment]: <> (*    &lt;https://blogs.technet.com/b/heyscriptingguy/archive/2013/08/31/weekend-scripter-creating-acls-for-windows-azure-endpoints-part-1-of-2.aspx&gt; )
[comment]: <> (*    &lt;https://blogs.technet.com/b/heyscriptingguy/archive/2013/09/01/weekend-scripter-creating-acls-for-windows-azure-endpoints-part-2-of-2.aspx&gt;)  
[comment]: <> (*    &lt;https://blogs.technet.com/b/heyscriptingguy/archive/2013/09/18/creating-acls-for-windows-azure-endpoints.aspx&gt;) 

<span data-ttu-id="4ed9d-786">Il est possible de toodeploy un SQL Server groupe de disponibilité AlwaysOn sur différentes régions Azure ainsi.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-786">It is possible toodeploy a SQL Server Always On Availability Group over different Azure Regions as well.</span></span> <span data-ttu-id="4ed9d-787">Cette fonctionnalité tire parti de connectivité de réseau Azure de hello ([plus de détails][virtual-networks-configure-vnet-to-vnet-connection]).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-787">This functionality leverages hello Azure VNet-to-Vnet connectivity ([more details][virtual-networks-configure-vnet-to-vnet-connection]).</span></span>

[comment]: <> (Ancien blog TODO)
[comment]: <> (Hello le programme d’installation de groupes de disponibilité AlwaysOn de SQL Server dans un tel scénario est décrit ici : < https://blogs.technet.com/b/dataplatforminsider/archive/2014/06/19/sql-server-alwayson-availability-groups-supported-between-microsoft-azure-regions.aspx>.) 

#### <a name="summary-on-sql-server-high-availability-in-azure"></a><span data-ttu-id="4ed9d-790">Haute disponibilité SQL Server dans Azure - Résumé</span><span class="sxs-lookup"><span data-stu-id="4ed9d-790">Summary on SQL Server High Availability in Azure</span></span>
<span data-ttu-id="4ed9d-791">Hello sachant que le stockage Azure protège le contenu hello, il existe un moins tooinsist raison sur une image de secours.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-791">Given hello fact that Azure Storage is protecting hello content, there is one less reason tooinsist on a hot-standby image.</span></span> <span data-ttu-id="4ed9d-792">Cela signifie que votre scénario de haute disponibilité doit tooonly contre hello suivant cas :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-792">This means your High Availability scenario needs tooonly protect against hello following cases:</span></span>

* <span data-ttu-id="4ed9d-793">Indisponibilité de hello VM dans son ensemble en raison de toomaintenance sur le cluster de serveurs hello dans Azure ou d’autres raisons</span><span class="sxs-lookup"><span data-stu-id="4ed9d-793">Unavailability of hello VM as a whole due toomaintenance on hello server cluster in Azure or other reasons</span></span>
* <span data-ttu-id="4ed9d-794">Problèmes de logiciels dans l’instance de SQL Server hello</span><span class="sxs-lookup"><span data-stu-id="4ed9d-794">Software issues in hello SQL Server instance</span></span>
* <span data-ttu-id="4ed9d-795">protection contre les erreurs manuelles, lorsque les données sont supprimées et qu’une récupération jusqu’à une date et heure est requise.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-795">Protecting from manual error where data gets deleted and point-in-time recovery is needed</span></span>

<span data-ttu-id="4ed9d-796">Consulte les technologies correspondance un peut dire que les deux premiers cas de hello peuvent être couverts par la mise en miroir de base de données ou Always On, tandis que le troisième cas de hello peuvent uniquement être couverts par envoi de journaux.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-796">Looking at matching technologies one can argue that hello first two cases can be covered by Database Mirroring or Always On, whereas hello third case only can be covered by Log-Shipping.</span></span>

<span data-ttu-id="4ed9d-797">Vous devez toobalance hello configuration plus complexe de tooDatabase comparé toujours sur la mise en miroir, avec les avantages de hello d’Always On.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-797">You need toobalance hello more complex setup of Always On, compared tooDatabase Mirroring, with hello advantages of Always On.</span></span> <span data-ttu-id="4ed9d-798">Parmi ces avantages, on peut citer :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-798">Those advantages can be listed like:</span></span>

* <span data-ttu-id="4ed9d-799">des réplicas secondaires accessibles en lecture ;</span><span class="sxs-lookup"><span data-stu-id="4ed9d-799">Readable secondary replicas.</span></span>
* <span data-ttu-id="4ed9d-800">des sauvegardes à partir des réplicas secondaires ;</span><span class="sxs-lookup"><span data-stu-id="4ed9d-800">Backups from secondary replicas.</span></span>
* <span data-ttu-id="4ed9d-801">meilleure extensibilité ;</span><span class="sxs-lookup"><span data-stu-id="4ed9d-801">Better scalability.</span></span>
* <span data-ttu-id="4ed9d-802">possibilités de disposer de plusieurs réplicas secondaires.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-802">More than one secondary replicas.</span></span>

### <span data-ttu-id="4ed9d-803"><a name="9053f720-6f3b-4483-904d-15dc54141e30"></a>Résumé – SQL Server général pour SAP sur Azure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-803"><a name="9053f720-6f3b-4483-904d-15dc54141e30"></a>General SQL Server for SAP on Azure Summary</span></span>
<span data-ttu-id="4ed9d-804">Ce guide offre de nombreuses recommandations. Nous vous invitons à les parcourir plusieurs fois avant de planifier votre déploiement Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-804">There are many recommendations in this guide and we recommend you read it more than once before planning your Azure deployment.</span></span> <span data-ttu-id="4ed9d-805">En général, toutefois, être vraiment toofollow hello supérieur dix système SGBD dans Azure :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-805">In general, though, be sure toofollow hello top ten general DBMS on Azure specific points:</span></span>

[comment]: <> (Débit multiplié par 2,3 par rapport à quoi ? Than one VHD?)
1. <span data-ttu-id="4ed9d-807">Utilisez hello dernière version du système SGBD, comme SQL Server 2014, ce qui a des avantages de la plupart des hello dans Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-807">Use hello latest DBMS release, like SQL Server 2014, that has hello most advantages in Azure.</span></span> <span data-ttu-id="4ed9d-808">Pour SQL Server, il s’agit de SQL Server 2012 SP1 CU4, qui comprend la fonctionnalité de hello de sauvegarde se stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-808">For SQL Server, this is SQL Server 2012 SP1 CU4, which would include hello feature of backing up against Azure Storage.</span></span> <span data-ttu-id="4ed9d-809">Toutefois, conjointement avec SAP nous recommandons au moins SQL Server 2014 SP1 CU1 ou SQL Server 2012 SP2 et hello CU plus récente.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-809">However, in conjunction with SAP we would recommend at least SQL Server 2014 SP1 CU1 or SQL Server 2012 SP2 and hello latest CU.</span></span>
2. <span data-ttu-id="4ed9d-810">Planifiez avec soin votre paysage SAP dans la disposition du fichier de données Azure toobalance hello et restrictions Azure :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-810">Carefully plan your SAP system landscape in Azure toobalance hello data file layout and Azure restrictions:</span></span>
   * <span data-ttu-id="4ed9d-811">N’avez pas trop de disques, mais ont suffisamment tooensure que vous pouvez atteindre votre IOPS requises.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-811">Don’t have too many disks, but have enough tooensure you can reach your required IOPS.</span></span>
   * <span data-ttu-id="4ed9d-812">Si vous n’utilisez pas de disques managés, n’oubliez pas que les E/S par seconde sont limitées pour chaque compte Stockage Azure, et que les comptes de stockage sont limités au sein de chaque abonnement Azure ([plus d’informations ici][azure-subscription-service-limits]).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-812">If you don't use Managed Disks, remember that IOPS are also limited per Azure Storage Account and that Storage Accounts are limited within each Azure subscription ([more details][azure-subscription-service-limits]).</span></span> 
   * <span data-ttu-id="4ed9d-813">Bande uniquement sur des disques si vous avez besoin de tooachieve un débit plus élevé.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-813">Only stripe across disks if you need tooachieve a higher throughput.</span></span>
3. <span data-ttu-id="4ed9d-814">Ne jamais installer de logiciel ou de fichiers qui nécessitent la persistance sur hello lecteur D:\ non permanente et rien sur ce lecteur est perdu lors d’un redémarrage de Windows.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-814">Never install software or put any files that require persistence on hello D:\ drive as it is non-permanent and anything on this drive is lost at a Windows reboot.</span></span>
4. <span data-ttu-id="4ed9d-815">N’utilisez pas la mise en cache de disque Azure pour le stockage Azure standard.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-815">Don’t use disk caching for Azure Standard Storage.</span></span>
5. <span data-ttu-id="4ed9d-816">N’utilisez pas un compte de stockage Azure géorépliqué.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-816">Don’t use Azure geo-replicated Storage Accounts.</span></span>  <span data-ttu-id="4ed9d-817">Utilisez des systèmes localement redondants pour les charges de travail SGBD (système de gestion de base de données).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-817">Use Locally Redundant for DBMS workloads.</span></span>
6. <span data-ttu-id="4ed9d-818">Utiliser des données de base de données de votre fournisseur SGBD HA/DR solution tooreplicate.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-818">Use your DBMS vendor’s HA/DR solution tooreplicate database data.</span></span>
7. <span data-ttu-id="4ed9d-819">Utilisez toujours la fonction de résolution de noms ; ne vous fiez pas aux adresses IP.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-819">Always use Name Resolution, don’t rely on IP addresses.</span></span>
8. <span data-ttu-id="4ed9d-820">Utilisez la compression de base de données hello plus élevée possible.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-820">Use hello highest database compression possible.</span></span> <span data-ttu-id="4ed9d-821">Dans le cas de SQL Server, il s’agit de la compression de page.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-821">For SQL Server this is page compression.</span></span>
9. <span data-ttu-id="4ed9d-822">Veillez à l’aide d’images de SQL Server à partir de hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-822">Be careful using SQL Server images from hello Azure Marketplace.</span></span> <span data-ttu-id="4ed9d-823">Si vous utilisez hello SQL Server, vous devez modifier le classement d’instance hello avant d’installer un système SAP NetWeaver dessus.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-823">If you use hello SQL Server one, you must change hello instance collation before installing any SAP NetWeaver system on it.</span></span>
10. <span data-ttu-id="4ed9d-824">Installer et configurer hello surveillance d’hôte SAP pour Azure, comme décrit dans [Guide de déploiement][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-824">Install and configure hello SAP Host Monitoring for Azure as described in [Deployment Guide][deployment-guide].</span></span>

## <a name="specifics-toosap-ase-on-windows"></a><span data-ttu-id="4ed9d-825">Spécificités tooSAP ASE sur Windows</span><span class="sxs-lookup"><span data-stu-id="4ed9d-825">Specifics tooSAP ASE on Windows</span></span>
<span data-ttu-id="4ed9d-826">À partir de Microsoft Azure, vous pouvez facilement migrer votre tooAzure d’applications SAP ASE existant Machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-826">Starting with Microsoft Azure, you can easily migrate your existing SAP ASE applications tooAzure Virtual Machines.</span></span> <span data-ttu-id="4ed9d-827">SAP ASE dans une Machine virtuelle permet de vous tooreduce hello coût total de possession de déploiement, la gestion et maintenance des applications d’entreprise à l’échelle en effectuant une migration facilement ces tooMicrosoft applications Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-827">SAP ASE in a Virtual Machine enables you tooreduce hello total cost of ownership of deployment, management, and maintenance of enterprise breadth applications by easily migrating these applications tooMicrosoft Azure.</span></span> <span data-ttu-id="4ed9d-828">Avec SAP ASE dans une Machine virtuelle Azure, les administrateurs et développeurs peuvent utiliser hello mêmes outils de développement et d’administration qui sont disponibles sur site.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-828">With SAP ASE in an Azure Virtual Machine, administrators and developers can still use hello same development and administration tools that are available on-premises.</span></span>

<span data-ttu-id="4ed9d-829">Il existe un contrat SLA pour hello Machines virtuelles Azure, qui se trouve ici : <https://azure.microsoft.com/support/legal/sla/virtual-machines></span><span class="sxs-lookup"><span data-stu-id="4ed9d-829">There is an SLA for hello Azure Virtual Machines, which can be found here: <https://azure.microsoft.com/support/legal/sla/virtual-machines></span></span>

<span data-ttu-id="4ed9d-830">Nous sommes persuadés que les ordinateurs virtuels hébergés fonctionne très bien dans les offres de virtualisation de cloud public tooother comparaison, mais les résultats individuels de Microsoft Azure peut varier.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-830">We are confident that Microsoft Azure hosted Virtual Machines performs very well in comparison tooother public cloud virtualization offerings, but individual results may vary.</span></span> <span data-ttu-id="4ed9d-831">Numéros SAP de hello SAP différents certifié SKU de machine virtuelle est fournie dans une Note SAP distinct de dimensionnement de SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-831">SAP sizing SAPS numbers of hello different SAP certified VM SKUs is provided in a separate SAP Note [1928533].</span></span>

<span data-ttu-id="4ed9d-832">Instructions et recommandations de l’utilisation de toohello de tenir compte de stockage Azure, de déploiement de SAP machines virtuelles ou de surveillance SAP s’appliquent toodeployments de SAP ASE conjointement avec les applications SAP comme indiqué dans l’ensemble de hello quatre premiers chapitres de ce document.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-832">Statements and recommendations in regard toohello usage of Azure Storage, Deployment of SAP VMs or SAP Monitoring apply toodeployments of SAP ASE in conjunction with SAP applications as stated throughout hello first four chapters of this document.</span></span>

### <a name="sap-ase-version-support"></a><span data-ttu-id="4ed9d-833">Prise en charge des versions SAP ASE</span><span class="sxs-lookup"><span data-stu-id="4ed9d-833">SAP ASE Version Support</span></span>
<span data-ttu-id="4ed9d-834">Actuellement, SAP prend en charge SAP ASE version 16.0 pour une utilisation avec les produits SAP Business Suite.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-834">SAP currently supports SAP ASE version 16.0 for use with SAP Business Suite products.</span></span> <span data-ttu-id="4ed9d-835">Toutes les mises à jour pour le serveur de SAP ASE ou toobe de pilotes JDBC et ODBC utilisé avec SAP Business Suite de produits sont fournis uniquement via hello SAP Service Marketplace à : <https://support.sap.com/swdc>.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-835">All updates for SAP ASE server, or JDBC and ODBC drivers toobe used with SAP Business Suite products are provided solely through hello SAP Service Marketplace at: <https://support.sap.com/swdc>.</span></span>

<span data-ttu-id="4ed9d-836">Comme pour les installations locales, ne téléchargez pas les mises à jour pour le serveur de SAP ASE hello, ou hello JDBC et des pilotes ODBC directement à partir de sites Web de Sybase.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-836">As for installations on-premises, do not download updates for hello SAP ASE server, or for hello JDBC and ODBC drivers directly from Sybase websites.</span></span> <span data-ttu-id="4ed9d-837">Pour plus d’informations sur les correctifs, qui sont prises en charge pour une utilisation avec les produits SAP Business Suite en local et dans les Machines virtuelles Azure consultez hello suit les Notes SAP :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-837">For detailed information on patches, which are supported for use with SAP Business Suite products on-premises and in Azure Virtual Machines see hello following SAP Notes:</span></span>

* <span data-ttu-id="4ed9d-838">[1590719]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-838">[1590719]</span></span>
* <span data-ttu-id="4ed9d-839">[1973241]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-839">[1973241]</span></span>

<span data-ttu-id="4ed9d-840">Vous trouverez des informations générales sur l’exécution de SAP Business Suite sur SAP ASE Bonjour [SCN](https://www.sap.com/community/topic/ase.html)</span><span class="sxs-lookup"><span data-stu-id="4ed9d-840">General information on running SAP Business Suite on SAP ASE can be found in hello [SCN](https://www.sap.com/community/topic/ase.html)</span></span>

### <a name="sap-ase-configuration-guidelines-for-sap-related-sap-ase-installations-in-azure-vms"></a><span data-ttu-id="4ed9d-841">Instructions de configuration de SAP ASE pour les installations SAP ASE sur des machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-841">SAP ASE Configuration Guidelines for SAP-related SAP ASE Installations in Azure VMs</span></span>
#### <a name="structure-of-hello-sap-ase-deployment"></a><span data-ttu-id="4ed9d-842">Structure de hello SAP ASE déploiement</span><span class="sxs-lookup"><span data-stu-id="4ed9d-842">Structure of hello SAP ASE Deployment</span></span>
<span data-ttu-id="4ed9d-843">En fonction de la description générale de hello, SAP ASE exécutables doivent être situés ou installés dans le lecteur du système de disque de système d’exploitation de la machine virtuelle hello hello (le lecteur c:\).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-843">In accordance with hello general description, SAP ASE executables should be located or installed into hello system drive of hello VM’s OS disk (drive c:\).</span></span> <span data-ttu-id="4ed9d-844">En règle générale, la plupart des bases de données hello SAP ASE système et les outils n'est pas réellement exploitée forcée par charge de travail SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-844">Typically, most of hello SAP ASE system and tools databases are not really leveraged hard by SAP NetWeaver workload.</span></span> <span data-ttu-id="4ed9d-845">Par conséquent, hello système et bases de données outils (master, model, saptools, sybmgmtdb et sybsystemdb) peuvent rester sur le lecteur C:\ de hello également.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-845">Hence hello system and tools databases (master, model, saptools, sybmgmtdb, sybsystemdb) can remain on hello C:\ drive as well.</span></span> 

<span data-ttu-id="4ed9d-846">Une exception peut être la base de données temporaire hello contenant toutes les tables de travail et les tables temporaires créées par SAP ASE, qui, en cas de certains SAP ERP et toutes les charges BW, peuvent nécessiter plus grand volume de données ou de volume d’opérations d’e/s, qui ne peut pas tenir dans hello d’origine Disque de système d’exploitation de l’ordinateur virtuel (le lecteur c:\).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-846">An exception could be hello temporary database containing all work tables and temporary tables created by SAP ASE, which in case of some SAP ERP and all BW workloads might require either higher data volume or I/O operations volume, which can’t fit into hello original VM’s OS disk (drive c:\).</span></span>

<span data-ttu-id="4ed9d-847">Hello selon la version de SAPInst/toujours pas pris utilisée système de hello tooinstall, hello de base de données peut contenir :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-847">Depending on hello version of SAPInst/SWPM used tooinstall hello system, hello database might contain:</span></span>

* <span data-ttu-id="4ed9d-848">Une seule base de données tempdb SAP ASE, créée lors de l’installation de SAP ASE</span><span class="sxs-lookup"><span data-stu-id="4ed9d-848">A single SAP ASE tempdb, which is created when installing SAP ASE</span></span>
* <span data-ttu-id="4ed9d-849">Un tempdb SAP ASE créé par l’installation de SAP ASE et un saptempdb supplémentaire créés par hello routine d’installation SAP</span><span class="sxs-lookup"><span data-stu-id="4ed9d-849">An SAP ASE tempdb created by installing SAP ASE and an additional saptempdb created by hello SAP installation routine</span></span>
* <span data-ttu-id="4ed9d-850">Un tempdb SAP ASE créé par l’installation de SAP ASE et un tempdb supplémentaires qui a été créé manuellement (par exemple en suivant la Note SAP [1752266]) configuration requise de toomeet ERP/BW tempdb spécifique</span><span class="sxs-lookup"><span data-stu-id="4ed9d-850">An SAP ASE tempdb created by installing SAP ASE and an additional tempdb that has been created manually (for example following SAP Note [1752266]) toomeet ERP/BW specific tempdb requirements</span></span>

<span data-ttu-id="4ed9d-851">En cas de ERP spécifique ou toutes les charges BW, il est logique, dans le respect des tooperformance, tookeep périphériques de tempdb hello Hello en outre créés tempdb (par toujours pas pris ou manuellement) sur un lecteur autre que C:\.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-851">In case of specific ERP or all BW workloads, it makes sense, in regard tooperformance, tookeep hello tempdb devices of hello additionally created tempdb (by SWPM or manually) on a drive other than C:\.</span></span> <span data-ttu-id="4ed9d-852">Si aucun tempdb supplémentaires n’existe, il est recommandé de toocreate une (Note SAP [1752266]).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-852">If no additional tempdb exists, it is recommended toocreate one (SAP Note [1752266]).</span></span>

<span data-ttu-id="4ed9d-853">Pour ce type hello systèmes étapes suivantes doivent être exécutées pour hello en outre créés tempdb :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-853">For such systems hello following steps should be performed for hello additionally created tempdb:</span></span>

* <span data-ttu-id="4ed9d-854">Déplacer hello première tempdb périphérique toohello premier périphérique de la base de données SAP hello</span><span class="sxs-lookup"><span data-stu-id="4ed9d-854">Move hello first tempdb device toohello first device of hello SAP database</span></span>
* <span data-ttu-id="4ed9d-855">Ajouter tooeach de périphériques tempdb de hello VHD contenant une unité de base de données SAP hello</span><span class="sxs-lookup"><span data-stu-id="4ed9d-855">Add tempdb devices tooeach of hello VHDs containing a device of hello SAP database</span></span>

<span data-ttu-id="4ed9d-856">Cette tooeither de tempdb de configuration permet de consommer davantage d’espace que le lecteur du système hello est en mesure de tooprovide.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-856">This configuration enables tempdb tooeither consume more space than hello system drive is able tooprovide.</span></span> <span data-ttu-id="4ed9d-857">Consultez tailles de périphérique hello tempdb sur des systèmes existants, qui s’exécutent sur site en tant que référence.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-857">As a reference one can check hello tempdb device sizes on existing systems, which run on-premises.</span></span> <span data-ttu-id="4ed9d-858">Ou bien, une telle configuration permettrait IOPS sur tempdb, qui ne peut pas être fourni avec le lecteur du système hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-858">Or such a configuration would enable IOPS numbers against tempdb, which cannot be provided with hello system drive.</span></span> <span data-ttu-id="4ed9d-859">À nouveau les systèmes qui sont exécutent localement peuvent être utilisés toomonitor d’e/s des charges de travail sur tempdb.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-859">Again systems that are running on-premises can be used toomonitor I/O workload against tempdb.</span></span>

<span data-ttu-id="4ed9d-860">Ne placez jamais tous les périphériques SAP ASE sur hello lecteur D:\ de hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-860">Never put any SAP ASE devices onto hello D:\ drive of hello VM.</span></span> <span data-ttu-id="4ed9d-861">Cela s’applique également toohello tempdb, même si les objets hello conservées dans tempdb de hello sont temporaires.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-861">This also applies toohello tempdb, even if hello objects kept in hello tempdb are only temporary.</span></span>

#### <a name="impact-of-database-compression"></a><span data-ttu-id="4ed9d-862">Impact de la compression de base de données</span><span class="sxs-lookup"><span data-stu-id="4ed9d-862">Impact of Database Compression</span></span>
<span data-ttu-id="4ed9d-863">Dans les configurations où la bande passante d’e/s peut devenir un facteur de limitation, toutes les mesures, ce qui réduit les e/s peuvent aider aux charges de travail toostretch hello exécutée dans un scénario IaaS comme Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-863">In configurations where I/O bandwidth can become a limiting factor, every measure, which reduces IOPS might help toostretch hello workload one can run in an IaaS scenario like Azure.</span></span> <span data-ttu-id="4ed9d-864">Par conséquent, il est fortement recommandé toomake assurer que la compression de SAP ASE est utilisée avant de télécharger un tooAzure de base de données SAP existante.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-864">Therefore, it is strongly recommended toomake sure that SAP ASE compression is used before uploading an existing SAP database tooAzure.</span></span>

<span data-ttu-id="4ed9d-865">compression de tooperform Hello recommandation avant de le télécharger tooAzure si elle n’est pas implémentée est donnée hors pour plusieurs raisons :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-865">hello recommendation tooperform compression before uploading tooAzure if it is not already implemented is given out of several reasons:</span></span>

* <span data-ttu-id="4ed9d-866">Hello tooAzure toobe téléchargé de données est inférieure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-866">hello amount of data toobe uploaded tooAzure is lower</span></span>
* <span data-ttu-id="4ed9d-867">Durée Hello d’exécution de la compression hello est plus courte, en supposant que possible d’utiliser un matériel plus performant avec plus de processeurs ou de bande passante d’e/s ou moins d’e/s latence locale</span><span class="sxs-lookup"><span data-stu-id="4ed9d-867">hello duration of hello compression execution is shorter assuming that one can use stronger hardware with more CPUs or higher I/O bandwidth or less I/O latency on-premises</span></span>
* <span data-ttu-id="4ed9d-868">De plus petite taille de base de données peut entraîner des coûts accessible sans pour l’allocation de disque</span><span class="sxs-lookup"><span data-stu-id="4ed9d-868">Smaller database sizes might lead tooless costs for disk allocation</span></span>

<span data-ttu-id="4ed9d-869">La compression des données et des éléments LOB fonctionne au sein d’une machine virtuelle hébergée dans Azure Virtual Machines comme en local.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-869">Data- and LOB-Compression work in a VM hosted in Azure Virtual Machines as it does on-premises.</span></span> <span data-ttu-id="4ed9d-870">Pour plus d’informations sur la façon dont toocheck si la compression est déjà en cours d’utilisation dans une base de données SAP ASE existant, vérifiez la Note SAP [1750510].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-870">For more details on how toocheck if compression is already in use in an existing SAP ASE database, check SAP Note [1750510].</span></span>

#### <a name="using-dbacockpit-toomonitor-database-instances"></a><span data-ttu-id="4ed9d-871">À l’aide d’Instances de base de données DBACockpit toomonitor</span><span class="sxs-lookup"><span data-stu-id="4ed9d-871">Using DBACockpit toomonitor Database Instances</span></span>
<span data-ttu-id="4ed9d-872">Pour les systèmes SAP, qui sont à l’aide de SAP ASE en tant que plateforme de base de données, hello DBACockpit est accessible en tant que des fenêtres de navigateur intégré dans la transaction DBACockpit ou Webdynpro.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-872">For SAP systems, which are using SAP ASE as database platform, hello DBACockpit is accessible as embedded browser windows in transaction DBACockpit or as Webdynpro.</span></span> <span data-ttu-id="4ed9d-873">Toutefois hello toutes les fonctionnalités de surveillance et administration hello est disponible dans la mise en œuvre de Webdynpro hello Hello DBACockpit.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-873">However hello full functionality for monitoring and administering hello database is available in hello Webdynpro implementation of hello DBACockpit only.</span></span>

<span data-ttu-id="4ed9d-874">En tant que locale systèmes que plusieurs étapes sont requises tooenable toutes les fonctionnalités de SAP NetWeaver utilisée par l’implémentation de Webdynpro hello Hello DBACockpit.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-874">As with on-premises systems several steps are required tooenable all SAP NetWeaver functionality used by hello Webdynpro implementation of hello DBACockpit.</span></span> <span data-ttu-id="4ed9d-875">Suivez la Note SAP [1245200] tooenable hello d’utilisation de webdynpros et générer hello requis ceux.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-875">Follow SAP Note [1245200] tooenable hello usage of webdynpros and generate hello required ones.</span></span> <span data-ttu-id="4ed9d-876">Lorsque de la suivant les instructions de hello Bonjour au-dessus de notes, vous configurez également hello Gestionnaire des communications Internet (icm) avec hello ports toobe est utilisé pour les connexions http et https.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-876">When following hello instructions in hello above notes, you also configure hello Internet Communication Manager (icm) along with hello ports toobe used for http and https connections.</span></span> <span data-ttu-id="4ed9d-877">paramètre par défaut de Hello pour http ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-877">hello default setting for http looks like this:</span></span>

> <span data-ttu-id="4ed9d-878">icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600</span><span class="sxs-lookup"><span data-stu-id="4ed9d-878">icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600</span></span>
> 
> <span data-ttu-id="4ed9d-879">icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600</span><span class="sxs-lookup"><span data-stu-id="4ed9d-879">icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600</span></span>
> 
> 

<span data-ttu-id="4ed9d-880">et les liens hello générés dans la transaction DBACockpit toothis similaire :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-880">and hello links generated in transaction DBACockpit will look similar toothis:</span></span>

> <span data-ttu-id="4ed9d-881">https://`<fullyqualifiedhostname`>:44300/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="4ed9d-881">https://`<fullyqualifiedhostname`>:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> <span data-ttu-id="4ed9d-882">http://`<fullyqualifiedhostname`>:8000/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="4ed9d-882">http://`<fullyqualifiedhostname`>:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> 

<span data-ttu-id="4ed9d-883">Selon si et comment l’hébergement de Machine virtuelle Azure Bonjour Bonjour système SAP est connecté via le site à site, multisites ou ExpressRoute (déploiement entre différents locaux), vous devez toomake que ce ICM utilise un nom d’hôte complet qui peut être résolu sur hello ordinateur sur lequel vous essayez tooopen hello DBACockpit à partir de.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-883">Depending on if and how hello Azure Virtual Machine hosting hello SAP system is connected via site-to-site, multi-site or ExpressRoute (Cross-Premises deployment) you need toomake sure that ICM is using a fully qualified hostname that can be resolved on hello machine where you are trying tooopen hello DBACockpit from.</span></span> <span data-ttu-id="4ed9d-884">Consultez la Note SAP [773830] toounderstand comment ICM détermine hello du nom d’hôte en fonction des paramètres de profil et paramètre de jeu icm/host_name_full explicitement si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-884">See SAP Note [773830] toounderstand how ICM determines hello fully qualified host name depending on profile parameters and set parameter icm/host_name_full explicitly if required.</span></span>

<span data-ttu-id="4ed9d-885">Si vous avez déployé hello machine virtuelle dans un scénario de Cloud uniquement sans connectivité intersite entre Azure et locaux, vous devez toodefine une adresse IP publique et un domainlabel.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-885">If you deployed hello VM in a Cloud-Only scenario without cross-premises connectivity between on-premises and Azure, you need toodefine a public IP address and a domainlabel.</span></span> <span data-ttu-id="4ed9d-886">format Hello de hello nom DNS public du présente de machine virtuelle hello comme suit :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-886">hello format of hello public DNS name of hello VM looks like this:</span></span>

> <span data-ttu-id="4ed9d-887">`<custom domainlabel`&gt;.`<azure region`&gt;.cloudapp.azure.com</span><span class="sxs-lookup"><span data-stu-id="4ed9d-887">`<custom domainlabel`>.`<azure region`>.cloudapp.azure.com</span></span>
> 
> 

<span data-ttu-id="4ed9d-888">Plus de détails liés trouverez le nom DNS de toohello [ici][virtual-machines-azurerm-versus-azuresm].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-888">More details related toohello DNS name can be found [here][virtual-machines-azurerm-versus-azuresm].</span></span>

<span data-ttu-id="4ed9d-889">Paramètre hello SAP profil paramètre icm/host_name_full toohello nom DNS du lien de hello hello Azure VM peut ressembler à :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-889">Setting hello SAP profile parameter icm/host_name_full toohello DNS name of hello Azure VM hello link might look similar to:</span></span>

> <span data-ttu-id="4ed9d-890">https://mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="4ed9d-890">https://mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> <span data-ttu-id="4ed9d-891">http://mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="4ed9d-891">http://mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> 

<span data-ttu-id="4ed9d-892">Dans ce cas vous devez toomake Assurez-vous de :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-892">In this case you need toomake sure to:</span></span>

* <span data-ttu-id="4ed9d-893">Ajouter des règles de trafic entrant toohello groupe de sécurité réseau dans le portail Azure pour toocommunicate de ports utilisés hello TCP/IP avec ICM de hello</span><span class="sxs-lookup"><span data-stu-id="4ed9d-893">Add Inbound rules toohello Network Security Group in hello Azure portal for hello TCP/IP ports used toocommunicate with ICM</span></span>
* <span data-ttu-id="4ed9d-894">Ajouter la configuration du pare-feu Windows toohello règles de trafic entrant pour hello TCP/IP ports utilisés toocommunicate avec hello ICM</span><span class="sxs-lookup"><span data-stu-id="4ed9d-894">Add Inbound rules toohello Windows Firewall configuration for hello TCP/IP ports used toocommunicate with hello ICM</span></span>

<span data-ttu-id="4ed9d-895">Pour un moyen automatisé importé de toutes les corrections disponibles, il est recommandé de tooperiodically appliquer hello correction collection SAP Remarque tooyour applicable SAP version :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-895">For an automated imported of all corrections available, it is recommended tooperiodically apply hello correction collection SAP Note applicable tooyour SAP version:</span></span>

* <span data-ttu-id="4ed9d-896">[1558958]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-896">[1558958]</span></span>
* <span data-ttu-id="4ed9d-897">[1619967]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-897">[1619967]</span></span>
* <span data-ttu-id="4ed9d-898">[1882376]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-898">[1882376]</span></span>

<span data-ttu-id="4ed9d-899">Vous trouverez plus d’informations sur le Cockpit de DBA pour SAP ASE Bonjour suit les Notes SAP :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-899">Further information about DBA Cockpit for SAP ASE can be found in hello following SAP Notes:</span></span>

* <span data-ttu-id="4ed9d-900">[1605680]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-900">[1605680]</span></span>
* <span data-ttu-id="4ed9d-901">[1757924]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-901">[1757924]</span></span>
* <span data-ttu-id="4ed9d-902">[1757928]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-902">[1757928]</span></span>
* <span data-ttu-id="4ed9d-903">[1758182]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-903">[1758182]</span></span>
* <span data-ttu-id="4ed9d-904">[1758496]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-904">[1758496]</span></span>    
* <span data-ttu-id="4ed9d-905">[1814258]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-905">[1814258]</span></span>
* <span data-ttu-id="4ed9d-906">[1922555]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-906">[1922555]</span></span>
* <span data-ttu-id="4ed9d-907">[1956005]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-907">[1956005]</span></span>

#### <a name="backuprecovery-considerations-for-sap-ase"></a><span data-ttu-id="4ed9d-908">Considérations relatives à la sauvegarde/restauration pour SAP ASE</span><span class="sxs-lookup"><span data-stu-id="4ed9d-908">Backup/Recovery Considerations for SAP ASE</span></span>
<span data-ttu-id="4ed9d-909">Lors du déploiement de SAP ASE dans Azure, votre méthodologie de sauvegarde doit être passée en revue.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-909">When deploying SAP ASE into Azure your backup methodology must be reviewed.</span></span> <span data-ttu-id="4ed9d-910">Même si le système de hello n’est pas un système de production, base de données SAP hello hébergé par SAP ASE doit être sauvegardée régulièrement.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-910">Even if hello system is not a productive system, hello SAP database hosted by SAP ASE must be backed up periodically.</span></span> <span data-ttu-id="4ed9d-911">Étant donné que le stockage Azure conserve trois images, une sauvegarde est dorénavant moins nécessaire dans le toocompensating en ce qui concerne une panne du stockage.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-911">Since Azure Storage keeps three images, a backup is now less important in respect toocompensating a storage crash.</span></span> <span data-ttu-id="4ed9d-912">Bonjour la raison principale pour la gestion d’un plan de sauvegarde et de restauration correct est plus que vous pouvez compenser ce décalage erreurs manuelles/logiques en fournissant le point de restauration de temps.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-912">hello primary reason for maintaining a proper backup and restore plan is more that you can compensate for logical/manual errors by providing point in time recovery capabilities.</span></span> <span data-ttu-id="4ed9d-913">Objectif de hello est tooeither utilisation sauvegardes toorestore hello base de données principale tooa certain de points de temps ou toouse sauvegardes hello dans Azure tooseed un autre système en copiant la base de données existante hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-913">So hello goal is tooeither use backups toorestore hello database back tooa certain point in time or toouse hello backups in Azure tooseed another system by copying hello existing database.</span></span> <span data-ttu-id="4ed9d-914">Par exemple, vous pouvez transférer une installation de système de couche 3 à 2 couches SAP configuration tooa Hello même système en restaurant une sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-914">For example, you could transfer from a 2-Tier SAP configuration tooa 3-Tier system setup of hello same system by restoring a backup.</span></span>

<span data-ttu-id="4ed9d-915">Sauvegarde et restauration d’une base de données dans Azure fonctionne même hello façon comme il le fait sur site.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-915">Backing up and restoring a database in Azure works hello same way as it does on-premises.</span></span> <span data-ttu-id="4ed9d-916">Consultez les notes SAP suivantes :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-916">See SAP Notes:</span></span>

* <span data-ttu-id="4ed9d-917">[1588316]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-917">[1588316]</span></span>
* <span data-ttu-id="4ed9d-918">[1585981]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-918">[1585981]</span></span>

<span data-ttu-id="4ed9d-919">pour plus d’informations sur la création de configurations d’images mémoire et la planification des sauvegardes.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-919">for details on creating dump configurations and scheduling backups.</span></span> <span data-ttu-id="4ed9d-920">Selon vos besoins, vous pouvez configurer et de stratégie de base de données et journal exporte toodisk sur l’un des disques existants de hello ou ajouter un disque supplémentaire pour la sauvegarde de hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-920">Depending on your strategy and needs you can configure database and log dumps toodisk onto one of hello existing disks or add an additional disk for hello backup.</span></span> <span data-ttu-id="4ed9d-921">tooreduce hello que risque de perte de données en cas d’erreur, il est recommandé de toouse un disque où se trouve aucun périphérique de la base de données.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-921">tooreduce hello danger of data loss in case of an error, it is recommended toouse a disk where no database device is located.</span></span>

<span data-ttu-id="4ed9d-922">Outre les données et la compression des éléments LOB, SAP ASE propose la compression de sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-922">Besides data- and LOB compression SAP ASE also offers backup compression.</span></span> <span data-ttu-id="4ed9d-923">toooccupy espace avec hello database et log dumps il est recommandé de toouse de compression de la sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-923">toooccupy less space with hello database and log dumps it is recommended toouse backup compression.</span></span> <span data-ttu-id="4ed9d-924">Pour plus d’informations, consultez la note SAP [1588316].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-924">For more information, see SAP Note [1588316].</span></span> <span data-ttu-id="4ed9d-925">La compression de sauvegarde de hello est également essentiel tooreduce hello toobe données transférée si vous planifiez des sauvegardes toodownload ou disques durs virtuels contenant des vidages de sauvegarde à partir de hello tooon local Machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-925">Compressing hello backup is also crucial tooreduce hello amount of data toobe transferred if you plan toodownload backups or VHDs containing backup dumps from hello Azure Virtual Machine tooon-premises.</span></span>

<span data-ttu-id="4ed9d-926">N’utilisez pas le lecteur D:\ comme destination des images mémoire de bases de données ou de journaux.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-926">Do not use drive D:\ as database or log dump destination.</span></span>

#### <a name="performance-considerations-for-backupsrestores"></a><span data-ttu-id="4ed9d-927">Considérations sur les performances des sauvegardes/restaurations</span><span class="sxs-lookup"><span data-stu-id="4ed9d-927">Performance Considerations for Backups/Restores</span></span>
<span data-ttu-id="4ed9d-928">Comme dans les déploiements de système nu, les performances de sauvegarde/restauration sont dépend du nombre de volumes peut être lues en parallèle et quelles débit hello de ces volumes peut être.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-928">As in bare-metal deployments, backup/restore performance is dependent on how many volumes can be read in parallel and what hello throughput of those volumes might be.</span></span> <span data-ttu-id="4ed9d-929">En outre, hello consommation d’UC utilisée par la compression de sauvegarde peut jouent un rôle significatif sur les machines virtuelles avec uniquement les threads de l’UC de tooeight.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-929">In addition, hello CPU consumption used by backup compression may play a significant role on VMs with just up tooeight CPU threads.</span></span> <span data-ttu-id="4ed9d-930">Par conséquent, on peut partir des hypothèses suivantes :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-930">Therefore, one can assume:</span></span>

* <span data-ttu-id="4ed9d-931">Hello moins hello le nombre de disques utilisés toostore hello des périphériques de la base de données, hello hello plus petit globale débit de lecture</span><span class="sxs-lookup"><span data-stu-id="4ed9d-931">hello fewer hello number of disks used toostore hello database devices, hello smaller hello overall throughput in reading</span></span>
* <span data-ttu-id="4ed9d-932">Hello plus petit nombre de hello de threads d’UC Bonjour VM, hello plus grave impact hello de compression de la sauvegarde</span><span class="sxs-lookup"><span data-stu-id="4ed9d-932">hello smaller hello number of CPU threads in hello VM, hello more severe hello impact of backup compression</span></span>
* <span data-ttu-id="4ed9d-933">Bonjour de sauvegarde vers Hello moins toowrite de cibles (Stripe répertoires, les disques), hello moindre débit de hello</span><span class="sxs-lookup"><span data-stu-id="4ed9d-933">hello fewer targets (Stripe Directories, disks) toowrite hello backup to, hello lesser hello throughput</span></span>

<span data-ttu-id="4ed9d-934">nombre de hello tooincrease de cibles toowrite toothere sont deux options, qui peuvent être utilisé/combinée selon vos besoins :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-934">tooincrease hello number of targets toowrite toothere are two options, which can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="4ed9d-935">Répartition du volume de cible de sauvegarde hello sur plusieurs disques montés dans un ordre tooimprove hello e/s de débit sur ce volume agrégé par bandes</span><span class="sxs-lookup"><span data-stu-id="4ed9d-935">Striping hello backup target volume over multiple mounted disks in order tooimprove hello IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="4ed9d-936">Création d’une configuration du vidage sur le niveau de SAP ASE, qui utilise plusieurs cible répertoire toowrite hello de vidage à</span><span class="sxs-lookup"><span data-stu-id="4ed9d-936">Creating a dump configuration on SAP ASE level, which uses more than one target directory toowrite hello dump to</span></span>

<span data-ttu-id="4ed9d-937">L’agrégation d’un volume par bandes sur plusieurs disques montés a été évoquée précédemment dans ce guide.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-937">Striping a volume over multiple mounted disks has been discussed earlier in this guide.</span></span> <span data-ttu-id="4ed9d-938">Pour plus d’informations sur l’utilisation de plusieurs répertoires dans la configuration du vidage SAP ASE hello, consultez la documentation du toohello sur la procédure stockée sp_config_dump, qui est la configuration du vidage hello toocreate utilisés sur hello [Sybase Infocenter](http://infocenter.sybase.com/help/index.jsp).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-938">For more information on using multiple directories in hello SAP ASE dump configuration, refer toohello documentation on Stored Procedure sp_config_dump, which is used toocreate hello dump configuration on hello [Sybase Infocenter](http://infocenter.sybase.com/help/index.jsp).</span></span>

### <a name="disaster-recovery-with-azure-vms"></a><span data-ttu-id="4ed9d-939">Récupération d’urgence avec les machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-939">Disaster Recovery with Azure VMs</span></span>
#### <a name="data-replication-with-sap-sybase-replication-server"></a><span data-ttu-id="4ed9d-940">Réplication de données avec le serveur de réplication Sybase SAP</span><span class="sxs-lookup"><span data-stu-id="4ed9d-940">Data Replication with SAP Sybase Replication Server</span></span>
<span data-ttu-id="4ed9d-941">Avec hello SAP Sybase serveur de réplication SAP ASE regroupe solution de secours semi-automatique tootransfer de base de données transactions tooa éloigné asynchrone.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-941">With hello SAP Sybase Replication Server (SRS) SAP ASE provides a warm standby solution tootransfer database transactions tooa distant location asynchronously.</span></span> 

<span data-ttu-id="4ed9d-942">installation de Hello et du fonctionnement de SRS fonctionne également fonctionnellement dans une machine virtuelle hébergée dans Azure Virtual Machine Services, comme il le fait sur site.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-942">hello installation and operation of SRS works as well functionally in a VM hosted in Azure Virtual Machine Services as it does on-premises.</span></span>

<span data-ttu-id="4ed9d-943">La fonction ASE HADR (haute disponibilité et récupération d’urgence) via le serveur de réplication SAP est prévue avec une version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-943">ASE HADR via SAP Replication Server is planned with a future release.</span></span> <span data-ttu-id="4ed9d-944">Elle sera testée et publiée pour les plateformes Microsoft Azure dès qu’elle sera disponible.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-944">It will be tested with and released for Microsoft Azure platforms as soon as it is available.</span></span>

## <a name="specifics-toosap-ase-on-linux"></a><span data-ttu-id="4ed9d-945">Spécificités tooSAP ASE sur Linux</span><span class="sxs-lookup"><span data-stu-id="4ed9d-945">Specifics tooSAP ASE on Linux</span></span>
<span data-ttu-id="4ed9d-946">À partir de Microsoft Azure, vous pouvez facilement migrer votre tooAzure d’applications SAP ASE existant Machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-946">Starting with Microsoft Azure, you can easily migrate your existing SAP ASE applications tooAzure Virtual Machines.</span></span> <span data-ttu-id="4ed9d-947">SAP ASE dans une Machine virtuelle permet de vous tooreduce hello coût total de possession de déploiement, la gestion et maintenance des applications d’entreprise à l’échelle en effectuant une migration facilement ces tooMicrosoft applications Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-947">SAP ASE in a Virtual Machine enables you tooreduce hello total cost of ownership of deployment, management, and maintenance of enterprise breadth applications by easily migrating these applications tooMicrosoft Azure.</span></span> <span data-ttu-id="4ed9d-948">Avec SAP ASE dans une Machine virtuelle Azure, les administrateurs et développeurs peuvent utiliser hello mêmes outils de développement et d’administration qui sont disponibles sur site.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-948">With SAP ASE in an Azure Virtual Machine, administrators and developers can still use hello same development and administration tools that are available on-premises.</span></span>

<span data-ttu-id="4ed9d-949">Pour le déploiement de machines virtuelles de Azure tooknow important ses hello SLA officiel, ce qui se trouve ici : <https://azure.microsoft.com/support/legal/sla></span><span class="sxs-lookup"><span data-stu-id="4ed9d-949">For deploying Azure VMs it's important tooknow hello official SLAs, which can be found here: <https://azure.microsoft.com/support/legal/sla></span></span>

<span data-ttu-id="4ed9d-950">Les informations de dimensionnement SAP et la liste des références SKU de machines virtuelles certifiées SAP sont fournies dans la note SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-950">SAP sizing information and a list of SAP certified VM SKUs is provided in SAP Note [1928533].</span></span> <span data-ttu-id="4ed9d-951">Des documents supplémentaires sur le dimensionnement SAP pour les machines virtuelles Azure sont disponibles ici <http://blogs.msdn.com/b/saponsqlserver/archive/2015/06/19/how-to-size-sap-systems-running-on-azure-vms.aspx> et ici <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx></span><span class="sxs-lookup"><span data-stu-id="4ed9d-951">Additional SAP sizing documents for Azure Virtual machines can be found here <http://blogs.msdn.com/b/saponsqlserver/archive/2015/06/19/how-to-size-sap-systems-running-on-azure-vms.aspx> and here <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx></span></span>

<span data-ttu-id="4ed9d-952">Instructions et recommandations de l’utilisation de toohello de tenir compte de stockage Azure, de déploiement de SAP machines virtuelles ou de surveillance SAP s’appliquent toodeployments de SAP ASE conjointement avec les applications SAP comme indiqué dans l’ensemble de hello quatre premiers chapitres de ce document.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-952">Statements and recommendations in regard toohello usage of Azure Storage, Deployment of SAP VMs or SAP Monitoring apply toodeployments of SAP ASE in conjunction with SAP applications as stated throughout hello first four chapters of this document.</span></span>

<span data-ttu-id="4ed9d-953">Hello deux de Notes SAP suivantes incluent des informations générales sur ASE sur Linux et ASE Bonjour Cloud :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-953">hello following two SAP Notes include general information about ASE on Linux and ASE in hello Cloud:</span></span>

* <span data-ttu-id="4ed9d-954">[2134316]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-954">[2134316]</span></span>
* <span data-ttu-id="4ed9d-955">[1941500]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-955">[1941500]</span></span>

### <a name="sap-ase-version-support"></a><span data-ttu-id="4ed9d-956">Prise en charge des versions SAP ASE</span><span class="sxs-lookup"><span data-stu-id="4ed9d-956">SAP ASE Version Support</span></span>
<span data-ttu-id="4ed9d-957">Actuellement, SAP prend en charge SAP ASE version 16.0 pour une utilisation avec les produits SAP Business Suite.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-957">SAP currently supports SAP ASE version 16.0 for use with SAP Business Suite products.</span></span> <span data-ttu-id="4ed9d-958">Toutes les mises à jour pour le serveur de SAP ASE ou toobe de pilotes JDBC et ODBC utilisé avec SAP Business Suite de produits sont fournis uniquement via hello SAP Service Marketplace à : <https://support.sap.com/swdc>.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-958">All updates for SAP ASE server, or JDBC and ODBC drivers toobe used with SAP Business Suite products are provided solely through hello SAP Service Marketplace at: <https://support.sap.com/swdc>.</span></span>

<span data-ttu-id="4ed9d-959">Comme pour les installations locales, ne téléchargez pas les mises à jour pour le serveur de SAP ASE hello, ou hello JDBC et des pilotes ODBC directement à partir de sites Web de Sybase.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-959">As for installations on-premises, do not download updates for hello SAP ASE server, or for hello JDBC and ODBC drivers directly from Sybase websites.</span></span> <span data-ttu-id="4ed9d-960">Pour plus d’informations sur les correctifs, qui sont prises en charge pour une utilisation avec les produits SAP Business Suite en local et dans les Machines virtuelles Azure consultez hello suit les Notes SAP :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-960">For detailed information on patches, which are supported for use with SAP Business Suite products on-premises and in Azure Virtual Machines see hello following SAP Notes:</span></span>

* <span data-ttu-id="4ed9d-961">[1590719]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-961">[1590719]</span></span>
* <span data-ttu-id="4ed9d-962">[1973241]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-962">[1973241]</span></span>

<span data-ttu-id="4ed9d-963">Vous trouverez des informations générales sur l’exécution de SAP Business Suite sur SAP ASE Bonjour [SCN](https://www.sap.com/community/topic/ase.html)</span><span class="sxs-lookup"><span data-stu-id="4ed9d-963">General information on running SAP Business Suite on SAP ASE can be found in hello [SCN](https://www.sap.com/community/topic/ase.html)</span></span>

### <a name="sap-ase-configuration-guidelines-for-sap-related-sap-ase-installations-in-azure-vms"></a><span data-ttu-id="4ed9d-964">Instructions de configuration de SAP ASE pour les installations SAP ASE sur des machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-964">SAP ASE Configuration Guidelines for SAP-related SAP ASE Installations in Azure VMs</span></span>
#### <a name="structure-of-hello-sap-ase-deployment"></a><span data-ttu-id="4ed9d-965">Structure de hello SAP ASE déploiement</span><span class="sxs-lookup"><span data-stu-id="4ed9d-965">Structure of hello SAP ASE Deployment</span></span>
<span data-ttu-id="4ed9d-966">En fonction de la description générale de hello, SAP ASE exécutables doivent être situés ou installés dans le système de fichiers racine hello Hello VM (/sybase).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-966">In accordance with hello general description, SAP ASE executables should be located or installed into hello root file system of hello VM ( /sybase ).</span></span> <span data-ttu-id="4ed9d-967">En règle générale, la plupart des bases de données hello SAP ASE système et les outils n'est pas réellement exploitée forcée par charge de travail SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-967">Typically, most of hello SAP ASE system and tools databases are not really leveraged hard by SAP NetWeaver workload.</span></span> <span data-ttu-id="4ed9d-968">Par conséquent, hello système et bases de données outils (master, model, saptools, sybmgmtdb et sybsystemdb) peuvent rester sur le système de fichiers racine hello également.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-968">Hence hello system and tools databases (master, model, saptools, sybmgmtdb, sybsystemdb) can remain on hello root file system as well.</span></span> 

<span data-ttu-id="4ed9d-969">Une exception peut être la base de données temporaire hello contenant toutes les tables de travail et les tables temporaires créées par SAP ASE, qui, en cas de certains SAP ERP et toutes les charges BW, peuvent nécessiter plus grand volume de données ou d’opérations d’e/s, le volume qui ne rentrent pas dans hello d’origine Disque de système d’exploitation de l’ordinateur virtuel.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-969">An exception could be hello temporary database containing all work tables and temporary tables created by SAP ASE, which in case of some SAP ERP and all BW workloads might require either higher data volume or I/O operations, volume which can’t fit into hello original VM’s OS disk.</span></span>

<span data-ttu-id="4ed9d-970">Hello selon la version de SAPInst/toujours pas pris utilisée système de hello tooinstall, hello de base de données peut contenir :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-970">Depending on hello version of SAPInst/SWPM used tooinstall hello system, hello database might contain:</span></span>

* <span data-ttu-id="4ed9d-971">Une seule base de données tempdb SAP ASE, créée lors de l’installation de SAP ASE</span><span class="sxs-lookup"><span data-stu-id="4ed9d-971">A single SAP ASE tempdb, which is created when installing SAP ASE</span></span>
* <span data-ttu-id="4ed9d-972">Un tempdb SAP ASE créé par l’installation de SAP ASE et un saptempdb supplémentaire créés par hello routine d’installation SAP</span><span class="sxs-lookup"><span data-stu-id="4ed9d-972">An SAP ASE tempdb created by installing SAP ASE and an additional saptempdb created by hello SAP installation routine</span></span>
* <span data-ttu-id="4ed9d-973">Un tempdb SAP ASE créé par l’installation de SAP ASE et un tempdb supplémentaires qui a été créé manuellement (par exemple en suivant la Note SAP [1752266]) configuration requise de toomeet ERP/BW tempdb spécifique</span><span class="sxs-lookup"><span data-stu-id="4ed9d-973">An SAP ASE tempdb created by installing SAP ASE and an additional tempdb that has been created manually (for example following SAP Note [1752266]) toomeet ERP/BW specific tempdb requirements</span></span>

<span data-ttu-id="4ed9d-974">En cas de ERP spécifique ou toutes les charges BW, il est judicieux, dans le respect des tooperformance, périphériques de tempdb hello tookeep de tempdb hello en outre créé (par toujours pas pris ou manuellement) sur un système de fichiers distinct, qui peut être représenté par un disque de données Azure unique ou un volume RAID Linux fractionnement de plusieurs disques de données Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-974">In case of specific ERP or all BW workloads, it makes sense, in regard tooperformance, tookeep hello tempdb devices of hello additionally created tempdb (by SWPM or manually) on a separate file system, which can be represented by a single Azure data disk or a Linux RAID spanning multiple Azure data disks.</span></span> <span data-ttu-id="4ed9d-975">Si aucun tempdb supplémentaires n’existe, il est recommandé de toocreate une (Note SAP [1752266]).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-975">If no additional tempdb exists, it is recommended toocreate one (SAP Note [1752266]).</span></span>

<span data-ttu-id="4ed9d-976">Pour ce type hello systèmes étapes suivantes doivent être exécutées pour hello en outre créés tempdb :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-976">For such systems hello following steps should be performed for hello additionally created tempdb:</span></span>

* <span data-ttu-id="4ed9d-977">Déplacer hello première tempdb Active toohello premier système de fichiers de base de données SAP hello</span><span class="sxs-lookup"><span data-stu-id="4ed9d-977">Move hello first tempdb directory toohello first file system of hello SAP database</span></span>
* <span data-ttu-id="4ed9d-978">Ajouter tooeach de répertoires tempdb de disques hello contenant un système de fichiers de base de données SAP hello</span><span class="sxs-lookup"><span data-stu-id="4ed9d-978">Add tempdb directories tooeach of hello disks containing a filesystem of hello SAP database</span></span>

<span data-ttu-id="4ed9d-979">Cette tooeither de tempdb de configuration permet de consommer davantage d’espace que le lecteur du système hello est en mesure de tooprovide.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-979">This configuration enables tempdb tooeither consume more space than hello system drive is able tooprovide.</span></span> <span data-ttu-id="4ed9d-980">Consultez tailles de répertoire hello tempdb sur des systèmes existants, qui s’exécutent sur site en tant que référence.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-980">As a reference one can check hello tempdb directory sizes on existing systems, which run on-premises.</span></span> <span data-ttu-id="4ed9d-981">Ou bien, une telle configuration permettrait IOPS sur tempdb, qui ne peut pas être fourni avec le lecteur du système hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-981">Or such a configuration would enable IOPS numbers against tempdb, which cannot be provided with hello system drive.</span></span> <span data-ttu-id="4ed9d-982">À nouveau les systèmes qui sont exécutent localement peuvent être utilisés toomonitor d’e/s des charges de travail sur tempdb.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-982">Again systems that are running on-premises can be used toomonitor I/O workload against tempdb.</span></span>

<span data-ttu-id="4ed9d-983">Ne placez jamais les répertoires SAP ASE sur/mnt ou/mnt/Resource Hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-983">Never put any SAP ASE directories onto /mnt or /mnt/resource of hello VM.</span></span> <span data-ttu-id="4ed9d-984">Cela s’applique également toohello tempdb, même si les objets hello conservées dans tempdb de hello sont temporaires étant/mnt ou/mnt/Resource un espace de temporaire de machine virtuelle Azure par défaut, ce qui n’est pas persistant.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-984">This also applies toohello tempdb, even if hello objects kept in hello tempdb are only temporary because /mnt or /mnt/resource is a default Azure VM temp space, which is not persistent.</span></span> <span data-ttu-id="4ed9d-985">Vous trouverez plus de détails sur hello espace temporaire de machine virtuelle Azure dans [cet article][virtual-machines-linux-how-to-attach-disk]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-985">More details about hello Azure VM temp space can be found in [this article][virtual-machines-linux-how-to-attach-disk]</span></span>

#### <a name="impact-of-database-compression"></a><span data-ttu-id="4ed9d-986">Impact de la compression de base de données</span><span class="sxs-lookup"><span data-stu-id="4ed9d-986">Impact of Database Compression</span></span>
<span data-ttu-id="4ed9d-987">Dans les configurations où la bande passante d’e/s peut devenir un facteur de limitation, toutes les mesures, ce qui réduit les e/s peuvent aider aux charges de travail toostretch hello exécutée dans un scénario IaaS comme Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-987">In configurations where I/O bandwidth can become a limiting factor, every measure, which reduces IOPS might help toostretch hello workload one can run in an IaaS scenario like Azure.</span></span> <span data-ttu-id="4ed9d-988">Par conséquent, il est fortement recommandé toomake assurer que la compression de SAP ASE est utilisée avant de télécharger un tooAzure de base de données SAP existante.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-988">Therefore, it is strongly recommended toomake sure that SAP ASE compression is used before uploading an existing SAP database tooAzure.</span></span>

<span data-ttu-id="4ed9d-989">compression de tooperform Hello recommandation avant de le télécharger tooAzure si elle n’est pas implémentée est donnée hors pour plusieurs raisons :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-989">hello recommendation tooperform compression before uploading tooAzure if it is not already implemented is given out of several reasons:</span></span>

* <span data-ttu-id="4ed9d-990">Hello tooAzure toobe téléchargé de données est inférieure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-990">hello amount of data toobe uploaded tooAzure is lower</span></span>
* <span data-ttu-id="4ed9d-991">Durée Hello d’exécution de la compression hello est plus courte, en supposant que possible d’utiliser un matériel plus performant avec plus de processeurs ou de bande passante d’e/s ou moins d’e/s latence locale</span><span class="sxs-lookup"><span data-stu-id="4ed9d-991">hello duration of hello compression execution is shorter assuming that one can use stronger hardware with more CPUs or higher I/O bandwidth or less I/O latency on-premises</span></span>
* <span data-ttu-id="4ed9d-992">De plus petite taille de base de données peut entraîner des coûts accessible sans pour l’allocation de disque</span><span class="sxs-lookup"><span data-stu-id="4ed9d-992">Smaller database sizes might lead tooless costs for disk allocation</span></span>

<span data-ttu-id="4ed9d-993">La compression des données et des éléments LOB fonctionne au sein d’une machine virtuelle hébergée dans Azure Virtual Machines comme en local.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-993">Data- and LOB-Compression work in a VM hosted in Azure Virtual Machines as it does on-premises.</span></span> <span data-ttu-id="4ed9d-994">Pour plus d’informations sur la façon dont toocheck si la compression est déjà en cours d’utilisation dans une base de données SAP ASE existant, vérifiez la Note SAP [1750510].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-994">For more details on how toocheck if compression is already in use in an existing SAP ASE database, check SAP Note [1750510].</span></span> <span data-ttu-id="4ed9d-995">Pour plus d’informations sur la compression des bases de données, consultez la note SAP [2121797].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-995">For additional information regarding database compression, see SAP Note [2121797].</span></span>

#### <a name="using-dbacockpit-toomonitor-database-instances"></a><span data-ttu-id="4ed9d-996">À l’aide d’Instances de base de données DBACockpit toomonitor</span><span class="sxs-lookup"><span data-stu-id="4ed9d-996">Using DBACockpit toomonitor Database Instances</span></span>
<span data-ttu-id="4ed9d-997">Pour les systèmes SAP, qui sont à l’aide de SAP ASE en tant que plateforme de base de données, hello DBACockpit est accessible en tant que des fenêtres de navigateur intégré dans la transaction DBACockpit ou Webdynpro.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-997">For SAP systems, which are using SAP ASE as database platform, hello DBACockpit is accessible as embedded browser windows in transaction DBACockpit or as Webdynpro.</span></span> <span data-ttu-id="4ed9d-998">Toutefois hello toutes les fonctionnalités de surveillance et administration hello est disponible dans la mise en œuvre de Webdynpro hello Hello DBACockpit.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-998">However hello full functionality for monitoring and administering hello database is available in hello Webdynpro implementation of hello DBACockpit only.</span></span>

<span data-ttu-id="4ed9d-999">En tant que locale systèmes que plusieurs étapes sont requises tooenable toutes les fonctionnalités de SAP NetWeaver utilisée par l’implémentation de Webdynpro hello Hello DBACockpit.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-999">As with on-premises systems several steps are required tooenable all SAP NetWeaver functionality used by hello Webdynpro implementation of hello DBACockpit.</span></span> <span data-ttu-id="4ed9d-1000">Suivez la Note SAP [1245200] tooenable hello d’utilisation de webdynpros et générer hello requis ceux.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1000">Follow SAP Note [1245200] tooenable hello usage of webdynpros and generate hello required ones.</span></span> <span data-ttu-id="4ed9d-1001">Lorsque de la suivant les instructions de hello Bonjour au-dessus de notes, vous configurez également hello Gestionnaire des communications Internet (icm) avec hello ports toobe est utilisé pour les connexions http et https.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1001">When following hello instructions in hello above notes, you also configure hello Internet Communication Manager (icm) along with hello ports toobe used for http and https connections.</span></span> <span data-ttu-id="4ed9d-1002">paramètre par défaut de Hello pour http ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1002">hello default setting for http looks like this:</span></span>

> <span data-ttu-id="4ed9d-1003">icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1003">icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600</span></span>
> 
> <span data-ttu-id="4ed9d-1004">icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1004">icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600</span></span>
> 
> 

<span data-ttu-id="4ed9d-1005">et les liens hello générés dans la transaction DBACockpit toothis similaire :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1005">and hello links generated in transaction DBACockpit will look similar toothis:</span></span>

> <span data-ttu-id="4ed9d-1006">https://`<fullyqualifiedhostname`>:44300/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1006">https://`<fullyqualifiedhostname`>:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> <span data-ttu-id="4ed9d-1007">http://`<fullyqualifiedhostname`>:8000/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1007">http://`<fullyqualifiedhostname`>:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> 

<span data-ttu-id="4ed9d-1008">Selon si et comment l’hébergement de Machine virtuelle Azure Bonjour Bonjour système SAP est connecté via le site à site, multisites ou ExpressRoute (déploiement entre différents locaux), vous devez toomake que ce ICM utilise un nom d’hôte complet qui peut être résolu sur hello ordinateur sur lequel vous essayez tooopen hello DBACockpit à partir de.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1008">Depending on if and how hello Azure Virtual Machine hosting hello SAP system is connected via site-to-site, multi-site or ExpressRoute (Cross-Premises deployment) you need toomake sure that ICM is using a fully qualified hostname that can be resolved on hello machine where you are trying tooopen hello DBACockpit from.</span></span> <span data-ttu-id="4ed9d-1009">Consultez la Note SAP [773830] toounderstand comment ICM détermine hello du nom d’hôte en fonction des paramètres de profil et paramètre de jeu icm/host_name_full explicitement si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1009">See SAP Note [773830] toounderstand how ICM determines hello fully qualified host name depending on profile parameters and set parameter icm/host_name_full explicitly if required.</span></span>

<span data-ttu-id="4ed9d-1010">Si vous avez déployé hello machine virtuelle dans un scénario de Cloud uniquement sans connectivité intersite entre Azure et locaux, vous devez toodefine une adresse IP publique et un domainlabel.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1010">If you deployed hello VM in a Cloud-Only scenario without cross-premises connectivity between on-premises and Azure, you need toodefine a public IP address and a domainlabel.</span></span> <span data-ttu-id="4ed9d-1011">format Hello de hello nom DNS public du présente de machine virtuelle hello comme suit :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1011">hello format of hello public DNS name of hello VM looks like this:</span></span>

> <span data-ttu-id="4ed9d-1012">`<custom domainlabel`&gt;.`<azure region`&gt;.cloudapp.azure.com</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1012">`<custom domainlabel`>.`<azure region`>.cloudapp.azure.com</span></span>
> 
> 

<span data-ttu-id="4ed9d-1013">Plus de détails liés trouverez le nom DNS de toohello [ici][virtual-machines-azurerm-versus-azuresm].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1013">More details related toohello DNS name can be found [here][virtual-machines-azurerm-versus-azuresm].</span></span>

<span data-ttu-id="4ed9d-1014">Paramètre hello SAP profil paramètre icm/host_name_full toohello nom DNS du lien de hello hello Azure VM peut ressembler à :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1014">Setting hello SAP profile parameter icm/host_name_full toohello DNS name of hello Azure VM hello link might look similar to:</span></span>

> <span data-ttu-id="4ed9d-1015">https://mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1015">https://mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> <span data-ttu-id="4ed9d-1016">http://mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1016">http://mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> 

<span data-ttu-id="4ed9d-1017">Dans ce cas vous devez toomake Assurez-vous de :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1017">In this case you need toomake sure to:</span></span>

* <span data-ttu-id="4ed9d-1018">Ajouter des règles de trafic entrant toohello groupe de sécurité réseau dans le portail Azure pour toocommunicate de ports utilisés hello TCP/IP avec ICM de hello</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1018">Add Inbound rules toohello Network Security Group in hello Azure portal for hello TCP/IP ports used toocommunicate with ICM</span></span>
* <span data-ttu-id="4ed9d-1019">Ajouter la configuration du pare-feu Windows toohello règles de trafic entrant pour hello TCP/IP ports utilisés toocommunicate avec hello ICM</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1019">Add Inbound rules toohello Windows Firewall configuration for hello TCP/IP ports used toocommunicate with hello ICM</span></span>

<span data-ttu-id="4ed9d-1020">Pour un moyen automatisé importé de toutes les corrections disponibles, il est recommandé de tooperiodically appliquer hello correction collection SAP Remarque tooyour applicable SAP version :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1020">For an automated imported of all corrections available, it is recommended tooperiodically apply hello correction collection SAP Note applicable tooyour SAP version:</span></span>

* <span data-ttu-id="4ed9d-1021">[1558958]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1021">[1558958]</span></span>
* <span data-ttu-id="4ed9d-1022">[1619967]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1022">[1619967]</span></span>
* <span data-ttu-id="4ed9d-1023">[1882376]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1023">[1882376]</span></span>

<span data-ttu-id="4ed9d-1024">Vous trouverez plus d’informations sur le Cockpit de DBA pour SAP ASE Bonjour suit les Notes SAP :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1024">Further information about DBA Cockpit for SAP ASE can be found in hello following SAP Notes:</span></span>

* <span data-ttu-id="4ed9d-1025">[1605680]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1025">[1605680]</span></span>
* <span data-ttu-id="4ed9d-1026">[1757924]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1026">[1757924]</span></span>
* <span data-ttu-id="4ed9d-1027">[1757928]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1027">[1757928]</span></span>
* <span data-ttu-id="4ed9d-1028">[1758182]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1028">[1758182]</span></span>
* <span data-ttu-id="4ed9d-1029">[1758496]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1029">[1758496]</span></span>    
* <span data-ttu-id="4ed9d-1030">[1814258]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1030">[1814258]</span></span>
* <span data-ttu-id="4ed9d-1031">[1922555]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1031">[1922555]</span></span>
* <span data-ttu-id="4ed9d-1032">[1956005]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1032">[1956005]</span></span>

#### <a name="backuprecovery-considerations-for-sap-ase"></a><span data-ttu-id="4ed9d-1033">Considérations relatives à la sauvegarde/restauration pour SAP ASE</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1033">Backup/Recovery Considerations for SAP ASE</span></span>
<span data-ttu-id="4ed9d-1034">Lors du déploiement de SAP ASE dans Azure, votre méthodologie de sauvegarde doit être passée en revue.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1034">When deploying SAP ASE into Azure your backup methodology must be reviewed.</span></span> <span data-ttu-id="4ed9d-1035">Même si le système de hello n’est pas un système de production, base de données SAP hello hébergé par SAP ASE doit être sauvegardée régulièrement.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1035">Even if hello system is not a productive system, hello SAP database hosted by SAP ASE must be backed up periodically.</span></span> <span data-ttu-id="4ed9d-1036">Étant donné que le stockage Azure conserve trois images, une sauvegarde est dorénavant moins nécessaire dans le toocompensating en ce qui concerne une panne du stockage.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1036">Since Azure Storage keeps three images, a backup is now less important in respect toocompensating a storage crash.</span></span> <span data-ttu-id="4ed9d-1037">Bonjour la raison principale pour la gestion d’un plan de sauvegarde et de restauration correct est plus que vous pouvez compenser ce décalage erreurs manuelles/logiques en fournissant le point de restauration de temps.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1037">hello primary reason for maintaining a proper backup and restore plan is more that you can compensate for logical/manual errors by providing point in time recovery capabilities.</span></span> <span data-ttu-id="4ed9d-1038">Objectif de hello est tooeither utilisation sauvegardes toorestore hello base de données principale tooa certain de points de temps ou toouse sauvegardes hello dans Azure tooseed un autre système en copiant la base de données existante hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1038">So hello goal is tooeither use backups toorestore hello database back tooa certain point in time or toouse hello backups in Azure tooseed another system by copying hello existing database.</span></span> <span data-ttu-id="4ed9d-1039">Par exemple, vous pouvez transférer une installation de système de couche 3 à 2 couches SAP configuration tooa Hello même système en restaurant une sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1039">For example, you could transfer from a 2-Tier SAP configuration tooa 3-Tier system setup of hello same system by restoring a backup.</span></span>

<span data-ttu-id="4ed9d-1040">Sauvegarde et restauration d’une base de données dans Azure fonctionne même hello façon comme il le fait sur site.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1040">Backing up and restoring a database in Azure works hello same way as it does on-premises.</span></span> <span data-ttu-id="4ed9d-1041">Consultez les notes SAP suivantes :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1041">See SAP Notes:</span></span>

* <span data-ttu-id="4ed9d-1042">[1588316]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1042">[1588316]</span></span>
* <span data-ttu-id="4ed9d-1043">[1585981]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1043">[1585981]</span></span>

<span data-ttu-id="4ed9d-1044">pour plus d’informations sur la création de configurations d’images mémoire et la planification des sauvegardes.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1044">for details on creating dump configurations and scheduling backups.</span></span> <span data-ttu-id="4ed9d-1045">Selon vos besoins, vous pouvez configurer et de stratégie de base de données et journal exporte toodisk sur l’un des disques existants de hello ou ajouter un disque supplémentaire pour la sauvegarde de hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1045">Depending on your strategy and needs you can configure database and log dumps toodisk onto one of hello existing disks or add an additional disk for hello backup.</span></span> <span data-ttu-id="4ed9d-1046">risque de hello tooreduce de perte de données en cas d’erreur, il est recommandé de toouse un disque où se trouve aucun fichier ou répertoire de base de données.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1046">tooreduce hello danger of data loss in case of an error it is recommended toouse a disk where no database directory/file is located.</span></span>

<span data-ttu-id="4ed9d-1047">Outre les données et la compression des éléments LOB, SAP ASE propose la compression de sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1047">Besides data- and LOB compression SAP ASE also offers backup compression.</span></span> <span data-ttu-id="4ed9d-1048">toooccupy espace avec hello database et log dumps il est recommandé de toouse de compression de la sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1048">toooccupy less space with hello database and log dumps it is recommended toouse backup compression.</span></span> <span data-ttu-id="4ed9d-1049">Pour plus d’informations, consultez la note SAP [1588316].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1049">For more information, see SAP Note [1588316].</span></span> <span data-ttu-id="4ed9d-1050">La compression de sauvegarde de hello est également essentiel tooreduce hello toobe données transférée si vous planifiez des sauvegardes toodownload ou disques durs virtuels contenant des vidages de sauvegarde à partir de hello tooon local Machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1050">Compressing hello backup is also crucial tooreduce hello amount of data toobe transferred if you plan toodownload backups or VHDs containing backup dumps from hello Azure Virtual Machine tooon-premises.</span></span>

<span data-ttu-id="4ed9d-1051">N’utilisez pas d’espace temporaire/mnt de la machine virtuelle Azure hello ou/mnt/Resource comme destination de vidage de base de données ou journal.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1051">Do not use hello Azure VM temp space /mnt or /mnt/resource as database or log dump destination.</span></span>

#### <a name="performance-considerations-for-backupsrestores"></a><span data-ttu-id="4ed9d-1052">Considérations sur les performances des sauvegardes/restaurations</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1052">Performance Considerations for Backups/Restores</span></span>
<span data-ttu-id="4ed9d-1053">Comme dans les déploiements de système nu, les performances de sauvegarde/restauration sont dépend du nombre de volumes peut être lues en parallèle et quelles débit hello de ces volumes peut être.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1053">As in bare-metal deployments, backup/restore performance is dependent on how many volumes can be read in parallel and what hello throughput of those volumes might be.</span></span> <span data-ttu-id="4ed9d-1054">En outre, hello consommation d’UC utilisée par la compression de sauvegarde peut jouent un rôle significatif sur les machines virtuelles avec uniquement les threads de l’UC de tooeight.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1054">In addition, hello CPU consumption used by backup compression may play a significant role on VMs with just up tooeight CPU threads.</span></span> <span data-ttu-id="4ed9d-1055">Par conséquent, on peut partir des hypothèses suivantes :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1055">Therefore, one can assume:</span></span>

* <span data-ttu-id="4ed9d-1056">Hello moins hello le nombre de disques utilisés toostore hello des périphériques de la base de données, hello hello plus petit globale débit de lecture</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1056">hello fewer hello number of disks used toostore hello database devices, hello smaller hello overall throughput in reading</span></span>
* <span data-ttu-id="4ed9d-1057">Hello plus petit nombre de hello de threads d’UC Bonjour VM, hello plus grave impact hello de compression de la sauvegarde</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1057">hello smaller hello number of CPU threads in hello VM, hello more severe hello impact of backup compression</span></span>
* <span data-ttu-id="4ed9d-1058">Bonjour de sauvegarde vers Hello moins toowrite de cibles (Linux logiciel RAID, disques), hello moindre débit de hello</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1058">hello fewer targets (Linux software RAID, disks) toowrite hello backup to, hello lesser hello throughput</span></span>

<span data-ttu-id="4ed9d-1059">nombre de hello tooincrease de cibles toowrite toothere sont deux options, qui peuvent être utilisé/combinée selon vos besoins :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1059">tooincrease hello number of targets toowrite toothere are two options, which can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="4ed9d-1060">Répartition du volume de cible de sauvegarde hello sur plusieurs disques montés dans un ordre tooimprove hello e/s de débit sur ce volume agrégé par bandes</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1060">Striping hello backup target volume over multiple mounted disks in order tooimprove hello IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="4ed9d-1061">Création d’une configuration du vidage sur le niveau de SAP ASE, qui utilise plusieurs cible répertoire toowrite hello de vidage à</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1061">Creating a dump configuration on SAP ASE level, which uses more than one target directory toowrite hello dump to</span></span>

<span data-ttu-id="4ed9d-1062">L’agrégation d’un volume par bandes sur plusieurs disques montés a été évoquée précédemment dans ce guide.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1062">Striping a volume over multiple mounted disks has been discussed earlier in this guide.</span></span> <span data-ttu-id="4ed9d-1063">Pour plus d’informations sur l’utilisation de plusieurs répertoires dans la configuration du vidage SAP ASE hello, consultez la documentation du toohello sur la procédure stockée sp_config_dump, qui est la configuration du vidage hello toocreate utilisés sur hello [Sybase Infocenter](http://infocenter.sybase.com/help/index.jsp).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1063">For more information on using multiple directories in hello SAP ASE dump configuration, refer toohello documentation on Stored Procedure sp_config_dump, which is used toocreate hello dump configuration on hello [Sybase Infocenter](http://infocenter.sybase.com/help/index.jsp).</span></span>

### <a name="disaster-recovery-with-azure-vms"></a><span data-ttu-id="4ed9d-1064">Récupération d’urgence avec les machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1064">Disaster Recovery with Azure VMs</span></span>
#### <a name="data-replication-with-sap-sybase-replication-server"></a><span data-ttu-id="4ed9d-1065">Réplication de données avec le serveur de réplication Sybase SAP</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1065">Data Replication with SAP Sybase Replication Server</span></span>
<span data-ttu-id="4ed9d-1066">Avec hello SAP Sybase serveur de réplication SAP ASE regroupe solution de secours semi-automatique tootransfer de base de données transactions tooa éloigné asynchrone.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1066">With hello SAP Sybase Replication Server (SRS) SAP ASE provides a warm standby solution tootransfer database transactions tooa distant location asynchronously.</span></span> 

<span data-ttu-id="4ed9d-1067">installation de Hello et du fonctionnement de SRS fonctionne également fonctionnellement dans une machine virtuelle hébergée dans Azure Virtual Machine Services, comme il le fait sur site.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1067">hello installation and operation of SRS works as well functionally in a VM hosted in Azure Virtual Machine Services as it does on-premises.</span></span>

<span data-ttu-id="4ed9d-1068">La fonction ASE HADR (haute disponibilité et récupération d’urgence) via le serveur de réplication SAP n’est PAS prise en charge pour le moment.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1068">ASE HADR via SAP Replication Server is NOT supported at this point in time.</span></span> <span data-ttu-id="4ed9d-1069">Il peut être testé avec et publiée pour les plateformes Microsoft Azure Bonjour futures.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1069">It might be tested with and released for Microsoft Azure platforms in hello future.</span></span>

## <a name="specifics-toooracle-database-on-windows"></a><span data-ttu-id="4ed9d-1070">Caractéristiques tooOracle de base de données sur Windows</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1070">Specifics tooOracle Database on Windows</span></span>
<span data-ttu-id="4ed9d-1071">Logiciel Oracle est pris en charge par toorun Oracle sur Microsoft Windows Hyper-V et Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1071">Oracle software is supported by Oracle toorun on Microsoft Windows Hyper-V and Azure.</span></span> <span data-ttu-id="4ed9d-1072">Pour plus d’informations sur la prise en charge générale de hello Windows Hyper-V et Azure, consultez : <https://blogs.oracle.com/cloud/entry/oracle_and_microsoft_join_forces></span><span class="sxs-lookup"><span data-stu-id="4ed9d-1072">For details on hello general support of Windows Hyper-V and Azure, check: <https://blogs.oracle.com/cloud/entry/oracle_and_microsoft_join_forces></span></span> 

<span data-ttu-id="4ed9d-1073">Après la prise en charge générale hello, scénario spécifique hello dans les applications SAP en exploitant des bases de données Oracle est également pris en charge.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1073">Following hello general support, hello specific scenario of SAP applications leveraging Oracle Databases is supported as well.</span></span> <span data-ttu-id="4ed9d-1074">Détails sont nommés dans cette partie de document de hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1074">Details are named in this part of hello document.</span></span>

### <a name="oracle-version-support"></a><span data-ttu-id="4ed9d-1075">Prise en charge des versions Oracle</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1075">Oracle Version Support</span></span>
<span data-ttu-id="4ed9d-1076">Les versions Oracle et les versions de systèmes d’exploitation correspondantes prises en charge pour l’exécution de SAP sur Oracle dans des machines virtuelles Azure sont répertoriées dans la note SAP [2039619].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1076">Oracle versions and corresponding OS versions, which are supported for running SAP on Oracle on Azure Virtual Machines can be found in SAP Note [2039619].</span></span>

<span data-ttu-id="4ed9d-1077">Pour des informations générales sur l’exécution de SAP Business Suite sur Oracle, consultez : <https://www.sap.com/community/topic/oracle.html></span><span class="sxs-lookup"><span data-stu-id="4ed9d-1077">General information about running SAP Business Suite on Oracle can be found in 1DX: <https://www.sap.com/community/topic/oracle.html></span></span>

### <a name="oracle-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="4ed9d-1078">Instructions de configuration Oracle pour les installations SAP sur des machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1078">Oracle Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="4ed9d-1079">Configuration du stockage</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1079">Storage configuration</span></span>
<span data-ttu-id="4ed9d-1080">Une seule instance Oracle utilisant les disques au format NTFS est prise en charge.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1080">Only single instance Oracle using NTFS formatted disks is supported.</span></span> <span data-ttu-id="4ed9d-1081">Tous les fichiers de base de données doivent être stockés sur hello basée sur les disques durs virtuels ou des disques gérés de système de fichiers NTFS.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1081">All database files must be stored on hello NTFS file system based on VHDs or Managed Disks.</span></span> <span data-ttu-id="4ed9d-1082">Ces disques sont monté toohello machine virtuelle Azure et sont basées sur le stockage d’objets BLOB Azure Page (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) ou des disques gérés (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1082">These disks are mounted toohello Azure VM and are based on Azure Page BLOB Storage (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) or Managed Disks (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span></span> <span data-ttu-id="4ed9d-1083">Tous les types de lecteurs réseau ou de partages distants tels que les services de fichiers Azure :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1083">Any kind of network drives or remote shares like Azure file services:</span></span>

* <span data-ttu-id="4ed9d-1084"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span><span class="sxs-lookup"><span data-stu-id="4ed9d-1084"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span></span> 
* <span data-ttu-id="4ed9d-1085"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span><span class="sxs-lookup"><span data-stu-id="4ed9d-1085"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span></span>

<span data-ttu-id="4ed9d-1086">ne sont **PAS** pris en charge pour les fichiers de base de données Oracle !</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1086">are **NOT** supported for Oracle database files!</span></span>

<span data-ttu-id="4ed9d-1087">À l’aide de disques basés sur le stockage d’objets BLOB Azure Page ou de disques gérés, hello instructions effectuées dans ce document dans le chapitre [mise en cache pour les disques de machines virtuelles et les données] [ dbms-guide-2.1] et [Microsoft Azure Storage] [ dbms-guide-2.3] appliquer toodeployments avec hello de base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1087">Using disks based on Azure Page BLOB Storage or Managed Disks, hello statements made in this document in chapter [Caching for VMs and data disks][dbms-guide-2.1] and [Microsoft Azure Storage][dbms-guide-2.3] apply toodeployments with hello Oracle Database as well.</span></span>

<span data-ttu-id="4ed9d-1088">Comme expliqué plus haut dans la partie générale de hello du document de hello, les quotas sur le débit d’e/s des disques Azure existent.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1088">As explained earlier in hello general part of hello document, quotas on IOPS throughput for Azure disks exist.</span></span> <span data-ttu-id="4ed9d-1089">les quotas exacte Hello selon le type de machine virtuelle hello servent.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1089">hello exact quotas are depending on hello VM type used.</span></span> <span data-ttu-id="4ed9d-1090">La liste des types de machines virtuelles et de leurs quotas est disponible [ici (pour Linux)][virtual-machines-sizes-linux] et [ici (pour Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1090">A list of VM types with their quotas can be found [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="4ed9d-1091">tooidentify hello pris en charge les types de machine virtuelle Azure, tooSAP note de référence [1928533].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1091">tooidentify hello supported Azure VM types, refer tooSAP note [1928533].</span></span>

<span data-ttu-id="4ed9d-1092">Tant que hello actuel quota d’IOPS par disque répond aux exigences de hello, il est possible de toostore tous hello des fichiers de base de données sur un seul disque monté.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1092">As long as hello current IOPS quota per disk satisfies hello requirements, it is possible toostore all hello DB files on one single mounted disk.</span></span> 

<span data-ttu-id="4ed9d-1093">Si plus d’IOPS sont requis, il est fortement recommandé de toouse fenêtre les Pools de stockage (uniquement disponible dans Windows Server 2012 et versions ultérieures) ou Windows en distribuant pour Windows 2008 R2 toocreate une unité logique de grande taille sur plusieurs disques montés (voir également le chapitre [Logiciel RAID] [ dbms-guide-2.2] de ce document).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1093">If more IOPS are required, it is strongly recommended toouse Window Storage Pools (only available in Windows Server 2012 and higher) or Windows striping for Windows 2008 R2 toocreate one large logical device over multiple mounted disks (see also chapter [Software RAID][dbms-guide-2.2] of this document).</span></span> <span data-ttu-id="4ed9d-1094">Cette approche simplifie l’espace disque de hello administration toomanage généraux hello et évite les efforts hello toomanually distribuer les fichiers sur plusieurs disques montés.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1094">This approach simplifies hello administration overhead toomanage hello disk space and avoids hello effort toomanually distribute files across multiple mounted disks.</span></span>

#### <a name="backup--restore"></a><span data-ttu-id="4ed9d-1095">Sauvegarde / restauration</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1095">Backup / Restore</span></span>
<span data-ttu-id="4ed9d-1096">Pour la sauvegarde / restauration, hello SAP BR * Tools pour Oracle sont prises en charge dans hello même façon que sur standard les systèmes d’exploitation Windows Server et Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1096">For backup / restore functionality, hello SAP BR*Tools for Oracle are supported in hello same way as on standard Windows Server Operating Systems and Hyper-V.</span></span> <span data-ttu-id="4ed9d-1097">Oracle, Gestionnaire de récupération (RMAN) est également pris en charge pour toodisk de sauvegardes et de restauration à partir du disque.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1097">Oracle Recovery Manager (RMAN) is also supported for backups toodisk and restore from disk.</span></span>

#### <a name="high-availability"></a><span data-ttu-id="4ed9d-1098">Haute disponibilité</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1098">High Availability</span></span>
<span data-ttu-id="4ed9d-1099">Oracle Data Guard est pris en charge à des fins de haute disponibilité et de récupération d’urgence.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1099">Oracle Data Guard is supported for high availability and disaster recovery purposes.</span></span> <span data-ttu-id="4ed9d-1100">Pour plus d’informations, consultez [cette][virtual-machines-windows-classic-configure-oracle-data-guard] documentation.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1100">Details can be found in [this][virtual-machines-windows-classic-configure-oracle-data-guard] documentation.</span></span>

#### <a name="other"></a><span data-ttu-id="4ed9d-1101">Autres</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1101">Other</span></span>
<span data-ttu-id="4ed9d-1102">Toutes les autres rubriques générales telles que la surveillance de groupes à haute disponibilité Azure ou SAP s’appliquent comme décrit dans hello trois premiers chapitres de ce document pour les déploiements d’ordinateurs virtuels avec hello de base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1102">All other general topics like Azure Availability Sets or SAP monitoring apply as described in hello first three chapters of this document for deployments of VMs with hello Oracle Database as well.</span></span>

## <a name="specifics-toooracle-database-on-oracle-linux"></a><span data-ttu-id="4ed9d-1103">Spécificités tooOracle base de données Oracle Linux</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1103">Specifics tooOracle Database on Oracle Linux</span></span>
<span data-ttu-id="4ed9d-1104">Logiciel Oracle est pris en charge par toorun Oracle sur Microsoft Windows Hyper-V et Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1104">Oracle software is supported by Oracle toorun on Microsoft Windows Hyper-V and Azure.</span></span> <span data-ttu-id="4ed9d-1105">Pour plus d’informations sur la prise en charge générale de hello Windows Hyper-V et Azure, consultez : <https://blogs.oracle.com/cloud/entry/oracle_and_microsoft_join_forces></span><span class="sxs-lookup"><span data-stu-id="4ed9d-1105">For details on hello general support of Windows Hyper-V and Azure, check: <https://blogs.oracle.com/cloud/entry/oracle_and_microsoft_join_forces></span></span> 

<span data-ttu-id="4ed9d-1106">Après la prise en charge générale hello, scénario spécifique hello dans les applications SAP en exploitant des bases de données Oracle est également pris en charge.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1106">Following hello general support, hello specific scenario of SAP applications leveraging Oracle Databases is supported as well.</span></span> <span data-ttu-id="4ed9d-1107">Détails sont nommés dans cette partie de document de hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1107">Details are named in this part of hello document.</span></span>

### <a name="oracle-version-support"></a><span data-ttu-id="4ed9d-1108">Prise en charge des versions Oracle</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1108">Oracle Version Support</span></span>
<span data-ttu-id="4ed9d-1109">Les versions Oracle et les versions de systèmes d’exploitation correspondantes prises en charge pour l’exécution de SAP sur Oracle dans des machines virtuelles Azure sont répertoriées dans la note SAP [2039619].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1109">Oracle versions and corresponding OS versions, which are supported for running SAP on Oracle on Azure Virtual Machines can be found in SAP Note [2039619].</span></span>

<span data-ttu-id="4ed9d-1110">Pour des informations générales sur l’exécution de SAP Business Suite sur Oracle, consultez : <https://www.sap.com/community/topic/oracle.html></span><span class="sxs-lookup"><span data-stu-id="4ed9d-1110">General information about running SAP Business Suite on Oracle can be found in 1DX: <https://www.sap.com/community/topic/oracle.html></span></span>

### <a name="oracle-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="4ed9d-1111">Instructions de configuration Oracle pour les installations SAP sur des machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1111">Oracle Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="4ed9d-1112">Configuration du stockage</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1112">Storage configuration</span></span>
<span data-ttu-id="4ed9d-1113">Une seule instance Oracle utilisant les disques formatés ext3, ext4 et xfs est prise en charge.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1113">Only single instance Oracle using ext3, ext4, and xfs formatted disks is supported.</span></span> <span data-ttu-id="4ed9d-1114">Tous les fichiers de base de données doivent être stockés sur ces systèmes de fichiers basés sur les disques durs virtuels ou les disques managés.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1114">All database files must be stored on these file systems based on VHDs or Managed Disks.</span></span> <span data-ttu-id="4ed9d-1115">Ces disques sont monté toohello machine virtuelle Azure et sont basées sur le stockage d’objets BLOB Azure Page (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) ou des disques gérés (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1115">These disks are mounted toohello Azure VM and are based on Azure Page BLOB Storage (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) or Managed Disks (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span></span> <span data-ttu-id="4ed9d-1116">Tous les types de lecteurs réseau ou de partages distants tels que les services de fichiers Azure :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1116">Any kind of network drives or remote shares like Azure file services:</span></span>

* <span data-ttu-id="4ed9d-1117"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span><span class="sxs-lookup"><span data-stu-id="4ed9d-1117"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span></span> 
* <span data-ttu-id="4ed9d-1118"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span><span class="sxs-lookup"><span data-stu-id="4ed9d-1118"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span></span>

<span data-ttu-id="4ed9d-1119">ne sont **PAS** pris en charge pour les fichiers de base de données Oracle !</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1119">are **NOT** supported for Oracle database files!</span></span>

<span data-ttu-id="4ed9d-1120">À l’aide de disques basés sur le stockage d’objets BLOB Azure Page ou de disques gérés, hello instructions effectuées dans ce document dans le chapitre [mise en cache pour les disques de machines virtuelles et les données] [ dbms-guide-2.1] et [Microsoft Azure Storage] [ dbms-guide-2.3] appliquer toodeployments avec hello de base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1120">Using disks based on Azure Page BLOB Storage or Managed Disks, hello statements made in this document in chapter [Caching for VMs and data disks][dbms-guide-2.1] and [Microsoft Azure Storage][dbms-guide-2.3] apply toodeployments with hello Oracle Database as well.</span></span>

<span data-ttu-id="4ed9d-1121">Comme expliqué plus haut dans la partie générale de hello du document de hello, les quotas sur le débit d’e/s des disques Azure existent.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1121">As explained earlier in hello general part of hello document, quotas on IOPS throughput for Azure disks exist.</span></span> <span data-ttu-id="4ed9d-1122">les quotas exacte Hello selon le type de machine virtuelle hello servent.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1122">hello exact quotas are depending on hello VM type used.</span></span> <span data-ttu-id="4ed9d-1123">La liste des types de machines virtuelles et de leurs quotas est disponible [ici (pour Linux)][virtual-machines-sizes-linux] et [ici (pour Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1123">A list of VM types with their quotas can be found [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="4ed9d-1124">tooidentify hello pris en charge les types de machine virtuelle Azure, tooSAP note de référence [1928533]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1124">tooidentify hello supported Azure VM types, refer tooSAP note [1928533]</span></span>

<span data-ttu-id="4ed9d-1125">Tant que hello actuel quota d’IOPS par disque répond aux exigences de hello, il est possible de toostore tous hello des fichiers de base de données sur un seul disque monté.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1125">As long as hello current IOPS quota per disk satisfies hello requirements, it is possible toostore all hello DB files on one single mounted disk.</span></span> 

<span data-ttu-id="4ed9d-1126">Si plus d’IOPS sont requis, il est fortement recommandé toouse Gestionnaire de volume logique (Gestionnaire de Volume logique) ou MDADM toocreate une logique intense sur plusieurs disques montés.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1126">If more IOPS are required, it is strongly recommended toouse LVM (Logical Volume Manager) or MDADM toocreate one large logical volume over multiple mounted disks.</span></span> <span data-ttu-id="4ed9d-1127">Voir également le chapitre [RAID logiciel][dbms-guide-2.2] de ce document.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1127">See also chapter [Software RAID][dbms-guide-2.2] of this document.</span></span> <span data-ttu-id="4ed9d-1128">Cette approche simplifie l’espace disque de hello administration toomanage généraux hello et évite les efforts hello toomanually distribuer les fichiers sur plusieurs disques montés.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1128">This approach simplifies hello administration overhead toomanage hello disk space and avoids hello effort toomanually distribute files across multiple mounted disks.</span></span>

#### <a name="backup--restore"></a><span data-ttu-id="4ed9d-1129">Sauvegarde / restauration</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1129">Backup / Restore</span></span>
<span data-ttu-id="4ed9d-1130">Pour la sauvegarde / restauration, hello SAP BR * Tools pour Oracle sont prises en charge dans hello même façon que sur système nu et Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1130">For backup / restore functionality, hello SAP BR*Tools for Oracle are supported in hello same way as on bare metal and Hyper-V.</span></span> <span data-ttu-id="4ed9d-1131">Oracle, Gestionnaire de récupération (RMAN) est également pris en charge pour toodisk de sauvegardes et de restauration à partir du disque.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1131">Oracle Recovery Manager (RMAN) is also supported for backups toodisk and restore from disk.</span></span>

#### <a name="high-availability"></a><span data-ttu-id="4ed9d-1132">Haute disponibilité</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1132">High Availability</span></span>
<span data-ttu-id="4ed9d-1133">Oracle Data Guard est pris en charge à des fins de haute disponibilité et de récupération d’urgence.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1133">Oracle Data Guard is supported for high availability and disaster recovery purposes.</span></span> <span data-ttu-id="4ed9d-1134">Pour plus d’informations, consultez [cette][virtual-machines-windows-classic-configure-oracle-data-guard] documentation.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1134">Details can be found in [this][virtual-machines-windows-classic-configure-oracle-data-guard] documentation.</span></span>

#### <a name="other"></a><span data-ttu-id="4ed9d-1135">Autres</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1135">Other</span></span>
<span data-ttu-id="4ed9d-1136">Toutes les autres rubriques générales telles que la surveillance de groupes à haute disponibilité Azure ou SAP s’appliquent comme décrit dans hello trois premiers chapitres de ce document pour les déploiements d’ordinateurs virtuels avec hello de base de données Oracle.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1136">All other general topics like Azure Availability Sets or SAP monitoring apply as described in hello first three chapters of this document for deployments of VMs with hello Oracle Database as well.</span></span>

## <a name="specifics-for-hello-sap-maxdb-database-on-windows"></a><span data-ttu-id="4ed9d-1137">Caractéristiques de hello de base de données SAP MaxDB sur Windows</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1137">Specifics for hello SAP MaxDB Database on Windows</span></span>
### <a name="sap-maxdb-version-support"></a><span data-ttu-id="4ed9d-1138">Prise en charge des versions SAP MaxDB</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1138">SAP MaxDB Version Support</span></span>
<span data-ttu-id="4ed9d-1139">Actuellement, SAP prend en charge SAP MaxDB version 7.9 pour une utilisation avec les produits reposant sur SAP NetWeaver dans Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1139">SAP currently supports SAP MaxDB version 7.9 for use with SAP NetWeaver-based products in Azure.</span></span> <span data-ttu-id="4ed9d-1140">Toutes les mises à jour pour le serveur de SAP MaxDB ou toobe de pilotes JDBC et ODBC utilisé avec des produits basés sur SAP NetWeaver sont fournis uniquement par le biais de hello SAP Service Marketplace à <https://support.sap.com/swdc>.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1140">All updates for SAP MaxDB server, or JDBC and ODBC drivers toobe used with SAP NetWeaver-based products are provided solely through hello SAP Service Marketplace at <https://support.sap.com/swdc>.</span></span>
<span data-ttu-id="4ed9d-1141">Vous trouverez des informations générales sur l’exécution de SAP NetWeaver sur SAP MaxDB à l’adresse suivante : <https://www.sap.com/community/topic/maxdb.html>.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1141">General information on running SAP NetWeaver on SAP MaxDB can be found at <https://www.sap.com/community/topic/maxdb.html>.</span></span>

### <a name="supported-microsoft-windows-versions-and-azure-vm-types-for-sap-maxdb-dbms"></a><span data-ttu-id="4ed9d-1142">Versions de Microsoft Windows et types de machines virtuelles Azure pris en charge pour SGBD SAP MaxDB</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1142">Supported Microsoft Windows Versions and Azure VM types for SAP MaxDB DBMS</span></span>
<span data-ttu-id="4ed9d-1143">version de Microsoft Windows toofind hello pris en charge pour les SGBD MaxDB de SAP sur Azure, consultez :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1143">toofind hello supported Microsoft Windows version for SAP MaxDB DBMS on Azure, see:</span></span>

* <span data-ttu-id="4ed9d-1144">[Tableau de disponibilité des produits SAP][sap-pam]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1144">[SAP Product Availability Matrix (PAM)][sap-pam]</span></span>
* <span data-ttu-id="4ed9d-1145">Note SAP [1928533]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1145">SAP Note [1928533]</span></span>

<span data-ttu-id="4ed9d-1146">Il est vivement recommandé toouse version la plus récente hello hello système d’exploitation Microsoft Windows, qui est Microsoft Windows 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1146">It is highly recommended toouse hello newest version of hello operating system Microsoft Windows, which is Microsoft Windows 2012 R2.</span></span>

### <a name="available-sap-maxdb-documentation"></a><span data-ttu-id="4ed9d-1147">Documentation SAP MaxDB disponible</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1147">Available SAP MaxDB Documentation</span></span>
<span data-ttu-id="4ed9d-1148">Vous trouverez la liste hello mis à jour de la documentation de SAP MaxDB Bonjour suivant la Note SAP [767598 ]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1148">You can find hello updated list of SAP MaxDB documentation in hello following SAP Note [767598]</span></span>

### <a name="sap-maxdb-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="4ed9d-1149">Instructions de configuration SAP MaxDB pour les installations SAP sur des machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1149">SAP MaxDB Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <span data-ttu-id="4ed9d-1150"><a name="b48cfe3b-48e9-4f5b-a783-1d29155bd573"></a>Configuration du stockage</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1150"><a name="b48cfe3b-48e9-4f5b-a783-1d29155bd573"></a>Storage configuration</span></span>
<span data-ttu-id="4ed9d-1151">Meilleures pratiques de stockage Azure pour SAP MaxDB suivent les recommandations générales hello mentionnées dans le chapitre [Structure d’un déploiement SGBDR][dbms-guide-2].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1151">Azure storage best practices for SAP MaxDB follow hello general recommendations mentioned in chapter [Structure of an RDBMS Deployment][dbms-guide-2].</span></span>

> [!IMPORTANT]
> <span data-ttu-id="4ed9d-1152">Comme d’autres bases de données, SAP MaxDB possède des données et des fichiers journaux.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1152">Like other databases, SAP MaxDB also has data and log files.</span></span> <span data-ttu-id="4ed9d-1153">Toutefois, dans la terminologie de SAP MaxDB terme correct de hello est « volume » (pas « fichier »).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1153">However, in SAP MaxDB terminology hello correct term is “volume” (not “file”).</span></span> <span data-ttu-id="4ed9d-1154">Par exemple, il existe des volumes de données et des volumes de journaux SAP MaxDB.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1154">For example, there are SAP MaxDB data volumes and log volumes.</span></span> <span data-ttu-id="4ed9d-1155">Ne les confondez pas avec les volumes de disque du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1155">Do not confuse these with OS disk volumes.</span></span> 
> 
> 

<span data-ttu-id="4ed9d-1156">En bref, voici que vous avez à faire :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1156">In short you have to:</span></span>

* <span data-ttu-id="4ed9d-1157">Si vous utilisez des comptes de stockage Azure, définissez le compte de stockage Azure hello qui contient trop de hello SAP MaxDB journaux et des données des volumes (c'est-à-dire des fichiers)**Local stockage redondant (LRS)** comme indiqué dans le chapitre [Microsoft Azure Storage] [dbms-guide-2.3].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1157">If you use Azure Storage accounts, set hello Azure storage account that holds hello SAP MaxDB data and log volumes (i.e. files) too**Local Redundant Storage (LRS)** as specified in chapter [Microsoft Azure Storage][dbms-guide-2.3].</span></span>
* <span data-ttu-id="4ed9d-1158">Chemin d’accès des e/s hello distincts pour les volumes de données SAP MaxDB (c'est-à-dire des fichiers) à partir du chemin d’accès d’e/s de hello pour les volumes de journal (autrement dit, les fichiers).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1158">Separate hello IO path for SAP MaxDB data volumes (i.e. files) from hello IO path for log volumes (i.e. files).</span></span> <span data-ttu-id="4ed9d-1159">Cela signifie que que des volumes de données SAP MaxDB (c'est-à-dire des fichiers) ont toobe installé sur un lecteur logique SAP MaxDB des volumes de journal (autrement dit, les fichiers) ont toobe installé sur un autre lecteur logique.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1159">This means that SAP MaxDB data volumes (i.e. files) have toobe installed on one logical drive and SAP MaxDB log volumes (i.e. files) have toobe installed on another logical drive.</span></span>
* <span data-ttu-id="4ed9d-1160">Ensemble hello mise en cache type approprié pour chaque disque, selon que vous l’utilisez pour SAP MaxDB volumes de données ou de journal (c'est-à-dire des fichiers), et que vous utilisez Azure Standard ou le stockage Azure Premium, comme décrit dans le chapitre [mise en cache pour les disques de machines virtuelles et les données][dbms-guide-2.1].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1160">Set hello proper caching type for each disk, depending on whether you use it for SAP MaxDB data or log volumes (i.e. files), and whether you use Azure Standard or Azure Premium Storage, as described in chapter [Caching for VMs and data disks][dbms-guide-2.1].</span></span>
* <span data-ttu-id="4ed9d-1161">Tant que hello actuel quota d’IOPS par disque répond aux exigences de hello, il est possible de toostore tous les volumes de données hello sur un seul disque monté et également de stocker tous les volumes de journal de base de données sur un autre disque monté unique.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1161">As long as hello current IOPS quota per disk satisfies hello requirements, it is possible toostore all hello data volumes on a single mounted disk, and also store all database log volumes on another single mounted disk.</span></span>
* <span data-ttu-id="4ed9d-1162">Si plus d’IOPS et/ou espace est requis, il est fortement recommandé de Pools de stockage de fenêtre toouse Microsoft (uniquement disponible dans Microsoft Windows Server 2012 et versions ultérieures) ou Microsoft Windows pour Microsoft Windows 2008 R2 toocreate en distribuant un périphérique logique volumineux sur plusieurs disques montés.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1162">If more IOPS and/or space are required, it is strongly recommended toouse Microsoft Window Storage Pools (only available in Microsoft Windows Server 2012 and higher) or Microsoft Windows striping for Microsoft Windows 2008 R2 toocreate one large logical device over multiple mounted disks.</span></span> <span data-ttu-id="4ed9d-1163">Voir également le chapitre [RAID logiciel][dbms-guide-2.2] de ce document.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1163">See also chapter [Software RAID][dbms-guide-2.2] of this document.</span></span> <span data-ttu-id="4ed9d-1164">Cette approche simplifie l’espace disque de hello administration toomanage généraux hello et évite les efforts de hello de distribution manuellement des fichiers sur plusieurs disques montés.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1164">This approach simplifies hello administration overhead toomanage hello disk space and avoids hello effort of manually distributing files across multiple mounted disks.</span></span>
* <span data-ttu-id="4ed9d-1165">Pour les exigences d’e/s la plus élevées hello, vous pouvez utiliser le stockage Azure Premium, qui est disponible sur la série DS et les machines virtuelles de série GS.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1165">For hello highest IOPS requirements, you can use Azure Premium Storage, which is available on DS-series and GS-series VMs.</span></span>

![Configuration de référence de la machine virtuelle IaaS Azure pour SGBD SAP MaxDB][dbms-guide-figure-600]

#### <span data-ttu-id="4ed9d-1167"><a name="23c78d3b-ca5a-4e72-8a24-645d141a3f5d"></a>Sauvegarde et restauration</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1167"><a name="23c78d3b-ca5a-4e72-8a24-645d141a3f5d"></a>Backup and Restore</span></span>
<span data-ttu-id="4ed9d-1168">Lors du déploiement de SAP MaxDB dans Azure, vous devez passer en revue votre méthodologie de sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1168">When deploying SAP MaxDB into Azure, you must review your backup methodology.</span></span> <span data-ttu-id="4ed9d-1169">Même si le système de hello n’est pas un système de production, base de données SAP hello hébergé par SAP MaxDB doit être sauvegardée régulièrement.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1169">Even if hello system is not a productive system, hello SAP database hosted by SAP MaxDB must be backed up periodically.</span></span> <span data-ttu-id="4ed9d-1170">Étant donné qu’Azure Storage conserve trois images, une sauvegarde est désormais moins importante en termes de protection de votre système contre les défaillances de stockage, ou les défaillances opérationnelles ou administratives plus sérieuses.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1170">Since Azure Storage keeps three images, a backup is now less important in terms of protecting your system against storage failure and more important operational or administrative failures.</span></span> <span data-ttu-id="4ed9d-1171">Hello recherché pour maintenir une sauvegarde correcte et le plan de restauration est afin que vous pouvez compenser pour les erreurs de logiques ou manuelles en fournissant des fonctionnalités de récupération de point-à-temps.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1171">hello primary reason for maintaining a proper backup and restore plan is so that you can compensate for logical or manual errors by providing point-in-time recovery capabilities.</span></span> <span data-ttu-id="4ed9d-1172">Donc hello objectif consiste tooeither utilisation sauvegardes toorestore hello de base de données tooa certains de points de temps ou toouse sauvegardes hello dans Azure tooseed un autre système en copiant la base de données existante hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1172">So hello goal is tooeither use backups toorestore hello database tooa certain point in time or toouse hello backups in Azure tooseed another system by copying hello existing database.</span></span> <span data-ttu-id="4ed9d-1173">Par exemple, vous pouvez transférer une installation de système de couche 3 à 2 couches SAP configuration tooa Hello même système en restaurant une sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1173">For example, you could transfer from a 2-tier SAP configuration tooa 3-tier system setup of hello same system by restoring a backup.</span></span>

<span data-ttu-id="4ed9d-1174">Sauvegarde et restauration d’une base de données Azure works hello comme il le fait pour les systèmes locaux, vous pouvez donc utiliser standard SAP MaxDB outils, qui sont décrites dans un des documents de documentation de SAP MaxDB hello sauvegarde/restauration répertoriés dans la Note SAP [767598 ].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1174">Backing up and restoring a database in Azure works hello same way as it does for on-premises systems, so you can use standard SAP MaxDB backup/restore tools, which are described in one of hello SAP MaxDB documentation documents listed in SAP Note [767598].</span></span> 

#### <span data-ttu-id="4ed9d-1175"><a name="77cd2fbb-307e-4cbf-a65f-745553f72d2c"></a>Considérations sur les performances de sauvegarde et de restauration</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1175"><a name="77cd2fbb-307e-4cbf-a65f-745553f72d2c"></a>Performance Considerations for Backup and Restore</span></span>
<span data-ttu-id="4ed9d-1176">Comme dans les déploiements de système nu, les performances de sauvegarde et de restauration sont dépend du nombre de volumes peut être lues en parallèle et hello débit de ces volumes.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1176">As in bare-metal deployments, backup and restore performance is dependent on how many volumes can be read in parallel and hello throughput of those volumes.</span></span> <span data-ttu-id="4ed9d-1177">En outre, hello consommation d’UC utilisée par la compression de sauvegarde peut jouer un rôle significatif sur les machines virtuelles avec des threads de processeur tooeight.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1177">In addition, hello CPU consumption used by backup compression can play a significant role on VMs with up tooeight CPU threads.</span></span> <span data-ttu-id="4ed9d-1178">Par conséquent, on peut partir des hypothèses suivantes :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1178">Therefore, one can assume:</span></span>

* <span data-ttu-id="4ed9d-1179">Hello plus petit nombre de hello de périphériques de base de données de disques utilisés toostore hello, hello inférieur hello globale débit de lecture</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1179">hello fewer hello number of disks used toostore hello database devices, hello lower hello overall read throughput</span></span>
* <span data-ttu-id="4ed9d-1180">Hello plus petit nombre de hello de threads d’UC Bonjour VM, hello plus grave impact hello de compression de la sauvegarde</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1180">hello smaller hello number of CPU threads in hello VM, hello more severe hello impact of backup compression</span></span>
* <span data-ttu-id="4ed9d-1181">Hello moins sauvegarde hello toowrite de cibles (Stripe répertoires, les disques) à la réduction du débit hello hello</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1181">hello fewer targets (Stripe Directories, disks) toowrite hello backup to, hello lower hello throughput</span></span>

<span data-ttu-id="4ed9d-1182">nombre de hello tooincrease de cible toowrite à, il existe deux options que vous pouvez utiliser, éventuellement en combinaison, selon vos besoins :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1182">tooincrease hello number of targets toowrite to, there are two options that you can use, possibly in combination, depending on your needs:</span></span>

* <span data-ttu-id="4ed9d-1183">Dédier des volumes distincts pour la sauvegarde</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1183">Dedicating separate volumes for backup</span></span>
* <span data-ttu-id="4ed9d-1184">Répartition du volume de cible de sauvegarde hello sur plusieurs disques montés dans le débit d’IOPS ordre tooimprove hello sur ce volume de disque agrégé par bandes</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1184">Striping hello backup target volume over multiple mounted disks in order tooimprove hello IOPS throughput on that striped disk volume</span></span>
* <span data-ttu-id="4ed9d-1185">Disposer d’unités de disque logiques dédiées distinctes pour les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1185">Having separate dedicated logical disk devices for:</span></span>
  * <span data-ttu-id="4ed9d-1186">Volumes de sauvegarde SAP MaxDB (c’est-à-dire les fichiers)</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1186">SAP MaxDB backup volumes (i.e. files)</span></span>
  * <span data-ttu-id="4ed9d-1187">Volumes de données SAP MaxDB (c’est-à-dire les fichiers)</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1187">SAP MaxDB data volumes (i.e. files)</span></span>
  * <span data-ttu-id="4ed9d-1188">Volumes de journaux SAP MaxDB (c’est-à-dire les fichiers)</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1188">SAP MaxDB log volumes (i.e. files)</span></span>

<span data-ttu-id="4ed9d-1189">L’agrégation d’un volume par bandes sur plusieurs disques montés a été évoquée précédemment dans le chapitre [RAID logiciel][dbms-guide-2.2] de ce document.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1189">Striping a volume over multiple mounted disks has been discussed earlier in chapter [Software RAID][dbms-guide-2.2] of this document.</span></span> 

#### <span data-ttu-id="4ed9d-1190"><a name="f77c1436-9ad8-44fb-a331-8671342de818"></a>Autres</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1190"><a name="f77c1436-9ad8-44fb-a331-8671342de818"></a>Other</span></span>
<span data-ttu-id="4ed9d-1191">Toutes les autres rubriques générales telles que l’analyse des groupes à haute disponibilité Azure ou SAP s’appliquent également comme décrit dans hello trois premiers chapitres de ce document pour les déploiements d’ordinateurs virtuels avec la base de données SAP MaxDB hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1191">All other general topics such as Azure Availability Sets or SAP monitoring also apply as described in hello first three chapters of this document for deployments of VMs with hello SAP MaxDB database.</span></span>
<span data-ttu-id="4ed9d-1192">Autres paramètres spécifiques MaxDB SAP sont des machines virtuelles de tooAzure transparent et sont décrits dans des documents figurant dans la Note SAP [767598 ] et dans les notes SAP :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1192">Other SAP MaxDB-specific settings are transparent tooAzure VMs and are described in different documents listed in SAP Note [767598] and in these SAP notes:</span></span>

* <span data-ttu-id="4ed9d-1193">[826037]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1193">[826037]</span></span> 
* <span data-ttu-id="4ed9d-1194">[1139904]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1194">[1139904]</span></span>
* <span data-ttu-id="4ed9d-1195">[1173395]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1195">[1173395]</span></span>

## <a name="specifics-for-sap-livecache-on-windows"></a><span data-ttu-id="4ed9d-1196">Caractéristiques de SAP liveCache sur Windows</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1196">Specifics for SAP liveCache on Windows</span></span>
### <a name="sap-livecache-version-support"></a><span data-ttu-id="4ed9d-1197">Prise en charge des versions SAP liveCache</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1197">SAP liveCache Version Support</span></span>
<span data-ttu-id="4ed9d-1198">La version minimale de SAP liveCache prise en charge dans les machines virtuelles Azure est **SAP LC/LCAPPS 10.0 SP 25** incluant **liveCache 7.9.08.31** et **LCA-Build 25** pour **EhP 2 for SAP SCM 7.0** et les versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1198">Minimal version of SAP liveCache supported in Azure Virtual Machines is **SAP LC/LCAPPS 10.0 SP 25** including **liveCache 7.9.08.31** and **LCA-Build 25**, released for **EhP 2 for SAP SCM 7.0** and higher.</span></span>

### <a name="supported-microsoft-windows-versions-and-azure-vm-types-for-sap-livecache-dbms"></a><span data-ttu-id="4ed9d-1199">Versions de Microsoft Windows et types de machines virtuelles Azure pris en charge pour SGBD SAP liveCache</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1199">Supported Microsoft Windows Versions and Azure VM types for SAP liveCache DBMS</span></span>
<span data-ttu-id="4ed9d-1200">version de Microsoft Windows toofind hello pris en charge pour liveCache SAP sur Azure, consultez :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1200">toofind hello supported Microsoft Windows version for SAP liveCache on Azure, see:</span></span>

* <span data-ttu-id="4ed9d-1201">[Tableau de disponibilité des produits SAP][sap-pam]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1201">[SAP Product Availability Matrix (PAM)][sap-pam]</span></span>
* <span data-ttu-id="4ed9d-1202">Note SAP [1928533]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1202">SAP Note [1928533]</span></span>

<span data-ttu-id="4ed9d-1203">Il est vivement recommandé toouse version la plus récente hello hello système d’exploitation Microsoft Windows Server.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1203">It is highly recommended toouse hello newest version of hello operating system Microsoft Windows Server.</span></span> 

### <a name="sap-livecache-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="4ed9d-1204">Instructions de configuration SAP liveCache pour les installations SAP sur des machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1204">SAP liveCache Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="recommended-azure-vm-types"></a><span data-ttu-id="4ed9d-1205">Types de machines virtuelles Azure recommandés</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1205">Recommended Azure VM Types</span></span>
<span data-ttu-id="4ed9d-1206">Comme SAP liveCache est une application qui effectue des calculs volumineux, montant de hello et la vitesse de la RAM et de processeur a un impact important sur les performances de liveCache SAP.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1206">As SAP liveCache is an application that performs huge calculations, hello amount and speed of RAM and CPU has a major influence on SAP liveCache performance.</span></span> 

<span data-ttu-id="4ed9d-1207">Pour les types de machine virtuelle Azure hello pris en charge par SAP (Note SAP [1928533]), toutes les ressources du processeur virtuels alloué toohello machine virtuelle sont soutenus par des ressources de processeur physiques dédiés de hello hyperviseur.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1207">For hello Azure VM types supported by SAP (SAP Note [1928533]), all virtual CPU resources allocated toohello VM are backed by dedicated physical CPU resources of hello hypervisor.</span></span> <span data-ttu-id="4ed9d-1208">Aucun surprovisionnement (et par conséquent aucune concurrence pour les ressources UC) n’a lieu.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1208">No overprovisioning (and therefore no competition for CPU resources) takes place.</span></span>

<span data-ttu-id="4ed9d-1209">De même, pour tous les types d’instance de machine virtuelle Azure pris en charge par SAP, de mémoire virtuelle hello est 100 % mappé toohello mémoire physique – un surapprovisionnement (débordement de capacité), par exemple, n’est pas utilisée.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1209">Similarly, for all Azure VM instance types supported by SAP, hello VM memory is 100% mapped toohello physical memory – overprovisioning (over-commitment), for example, is not used.</span></span>

<span data-ttu-id="4ed9d-1210">À partir de cette perspective, il est recommandé toouse hello nouvelle série D ou la machine virtuelle Azure de la série DS (en association avec le stockage Azure Premium) type, car ils ont 60 % des processeurs plus rapides que hello série.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1210">From this perspective, it is highly recommended toouse hello new D- series or DS-series (in combination with Azure Premium Storage) Azure VM type, as they have 60% faster processors than hello A-series.</span></span> <span data-ttu-id="4ed9d-1211">Pour hello RAM et processeur charge la plus élevée, vous pouvez utiliser série G et les machines virtuelles de série GS (en association avec le stockage Azure Premium) avec processeur Intel® Xeon® plus récente de hello famille E5 v3, qui ont deux fois plus de mémoire hello et quatre fois hello solid state drive lecteur de stockage (disques SSD) Hello D / Série DS.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1211">For hello highest RAM and CPU load, you can use G-series and GS-series (in combination with Azure Premium Storage) VMs with hello latest Intel® Xeon® processor E5 v3 family, which have twice hello memory and four times hello solid state drive storage (SSDs) of hello D/DS-series.</span></span>

#### <a name="storage-configuration"></a><span data-ttu-id="4ed9d-1212">Configuration du stockage</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1212">Storage Configuration</span></span>
<span data-ttu-id="4ed9d-1213">Comme SAP liveCache est basé sur la technologie de SAP MaxDB, tous les hello stockage Azure recommandations mentionnées pour SAP MaxDB chapitre [configuration du stockage] [ dbms-guide-8.4.1] sont également valides pour SAP liveCache.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1213">As SAP liveCache is based on SAP MaxDB technology, all hello Azure storage best practice recommendations mentioned for SAP MaxDB in chapter [Storage configuration][dbms-guide-8.4.1] are also valid for SAP liveCache.</span></span> 

#### <a name="dedicated-azure-vm-for-livecache"></a><span data-ttu-id="4ed9d-1214">Machine virtuelle Azure dédiée pour liveCache</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1214">Dedicated Azure VM for liveCache</span></span>
<span data-ttu-id="4ed9d-1215">Comme SAP liveCache utilise intensivement la puissance de calcul, pour une utilisation en production il est vivement recommandé toodeploy sur une Machine virtuelle Azure dédié.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1215">As SAP liveCache intensively uses computational power, for productive usage it is highly recommended toodeploy on a dedicated Azure Virtual Machine.</span></span> 

![Machine virtuelle Azure dédiée à liveCache pour les cas d’utilisation productive][dbms-guide-figure-700]

#### <a name="backup-and-restore"></a><span data-ttu-id="4ed9d-1217">Sauvegarde et restauration</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1217">Backup and Restore</span></span>
<span data-ttu-id="4ed9d-1218">Sauvegarde et restauration, y compris les considérations relatives aux performances, sont déjà décrits dans les chapitres SAP MaxDB pertinents hello [sauvegarde et restauration] [ dbms-guide-8.4.2] et [considérations sur les performances de sauvegarde et de restauration][dbms-guide-8.4.3].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1218">Backup and restore, including performance considerations, are already described in hello relevant SAP MaxDB chapters [Backup and Restore][dbms-guide-8.4.2] and [Performance Considerations for Backup and Restore][dbms-guide-8.4.3].</span></span> 

#### <a name="other"></a><span data-ttu-id="4ed9d-1219">Autres</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1219">Other</span></span>
<span data-ttu-id="4ed9d-1220">Toutes les autres rubriques générales sont déjà décrits dans hello pertinentes SAP MaxDB [cela] [ dbms-guide-8.4.4] chapitre.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1220">All other general topics are already described in hello relevant SAP MaxDB [this][dbms-guide-8.4.4] chapter.</span></span> 

## <a name="specifics-for-hello-sap-content-server-on-windows"></a><span data-ttu-id="4ed9d-1221">Caractéristiques de hello serveur de contenu SAP sur Windows</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1221">Specifics for hello SAP Content Server on Windows</span></span>
<span data-ttu-id="4ed9d-1222">Hello serveur de contenu SAP est un contenu de toostore composant distinct, basé sur le serveur tels que des documents électroniques dans des formats différents.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1222">hello SAP Content Server is a separate, server-based component toostore content such as electronic documents in different formats.</span></span> <span data-ttu-id="4ed9d-1223">Hello du serveur de contenu SAP est fournie par le développement de la technologie et est inter-applications toobe utilisé pour toutes les applications SAP.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1223">hello SAP Content Server is provided by development of technology and is toobe used cross-application for any SAP applications.</span></span> <span data-ttu-id="4ed9d-1224">Il est installé sur un système distinct.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1224">It is installed on a separate system.</span></span> <span data-ttu-id="4ed9d-1225">Contenu par défaut est d’apprentissage matériel et la documentation à partir de l’entrepôt de base de connaissances ou de dessins provenant de hello mySAP PLM système de gestion de documents.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1225">Typical content is training material and documentation from Knowledge Warehouse or technical drawings originating from hello mySAP PLM Document Management System.</span></span> 

### <a name="sap-content-server-version-support"></a><span data-ttu-id="4ed9d-1226">Prise en charge des versions SAP Content Server</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1226">SAP Content Server Version Support</span></span>
<span data-ttu-id="4ed9d-1227">Actuellement, SAP prend en charge :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1227">SAP currently supports:</span></span>

* <span data-ttu-id="4ed9d-1228">**SAP Content Server** version **6.50 (et versions supérieures)**</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1228">**SAP Content Server** with version **6.50 (and higher)**</span></span>
* <span data-ttu-id="4ed9d-1229">**SAP MaxDB version 7.9**</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1229">**SAP MaxDB version 7.9**</span></span>
* <span data-ttu-id="4ed9d-1230">**Microsoft IIS (Internet Information Server) version 8.0 (et versions supérieures)**</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1230">**Microsoft IIS (Internet Information Server) version 8.0 (and higher)**</span></span>

<span data-ttu-id="4ed9d-1231">Il est vivement recommandé version la plus récente hello toouse SAP du serveur de contenu, c'est-à-dire au moment de l’écriture de ce document de hello **6.50 SP4**et la version la plus récente de hello **Microsoft IIS 8.5**.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1231">It is highly recommended toouse hello newest version of SAP Content Server, which at hello time of writing this document is **6.50 SP4**, and hello newest version of **Microsoft IIS 8.5**.</span></span> 

<span data-ttu-id="4ed9d-1232">Vérifiez hello plus récentes prises en charge les versions de serveur de contenu SAP et Microsoft IIS Bonjour [SAP produit disponibilité matrice (PAM)][sap-pam].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1232">Check hello latest supported versions of SAP Content Server and Microsoft IIS in hello [SAP Product Availability Matrix (PAM)][sap-pam].</span></span>

### <a name="supported-microsoft-windows-and-azure-vm-types-for-sap-content-server"></a><span data-ttu-id="4ed9d-1233">Versions de Microsoft Windows et types de machines virtuelles Azure pris en charge pour SAP Content Server</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1233">Supported Microsoft Windows and Azure VM types for SAP Content Server</span></span>
<span data-ttu-id="4ed9d-1234">toofind à la version de Windows prise en charge pour le serveur de contenu SAP sur Azure, consultez :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1234">toofind out supported Windows version for SAP Content Server on Azure, see:</span></span>

* <span data-ttu-id="4ed9d-1235">[Tableau de disponibilité des produits SAP][sap-pam]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1235">[SAP Product Availability Matrix (PAM)][sap-pam]</span></span>
* <span data-ttu-id="4ed9d-1236">Note SAP [1928533]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1236">SAP Note [1928533]</span></span>

<span data-ttu-id="4ed9d-1237">Il est vivement recommandé toouse hello dernière version de Microsoft Windows Server.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1237">It is highly recommended toouse hello newest version of Microsoft Windows Server.</span></span>

### <a name="sap-content-server-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="4ed9d-1238">Instructions de configuration SAP Content Server pour les installations SAP sur des machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1238">SAP Content Server Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="4ed9d-1239">Configuration du stockage</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1239">Storage Configuration</span></span>
<span data-ttu-id="4ed9d-1240">Si vous configurez des fichiers de serveur de contenu SAP toostore dans la base de données SAP MaxDB hello, le stockage Azure toutes les meilleures pratiques de recommandation mentionnée pour SAP MaxDB chapitre [Configuration du stockage] [ dbms-guide-8.4.1] sont également valide pour le scénario de serveur de contenu SAP hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1240">If you configure SAP Content Server toostore files in hello SAP MaxDB database, all Azure storage best practices recommendation mentioned for SAP MaxDB in chapter [Storage Configuration][dbms-guide-8.4.1] are also valid for hello SAP Content Server scenario.</span></span> 

<span data-ttu-id="4ed9d-1241">Si vous configurez des fichiers de serveur de contenu SAP toostore hello système de fichiers, il est recommandé de toouse un lecteur logique.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1241">If you configure SAP Content Server toostore files in hello file system, it is recommended toouse a dedicated logical drive.</span></span> <span data-ttu-id="4ed9d-1242">À l’aide des espaces de stockage Windows vous permet d’augmenter la taille de disque logique tooalso et débit d’e/s, comme décrites au chapitre [logiciel RAID][dbms-guide-2.2].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1242">Using Windows Storage Spaces enables you tooalso increase logical disk size and IOPS throughput, as described in chapter [Software RAID][dbms-guide-2.2].</span></span> 

#### <a name="sap-content-server-location"></a><span data-ttu-id="4ed9d-1243">Emplacement de SAP Content Server</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1243">SAP Content Server Location</span></span>
<span data-ttu-id="4ed9d-1244">Serveur de contenu SAP a toobe déployé Bonjour même région Azure et réseau virtuel de Azure où hello système SAP est déployé.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1244">SAP Content Server has toobe deployed in hello same Azure region and Azure VNET where hello SAP system is deployed.</span></span> <span data-ttu-id="4ed9d-1245">Vous êtes libre toodecide si vous souhaitez que les composants de serveur de contenu SAP toodeploy sur une machine virtuelle de Azure dédiée ou hello même machine virtuelle où hello système SAP est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1245">You are free toodecide whether you want toodeploy SAP Content Server components on a dedicated Azure VM or on hello same VM where hello SAP system is running.</span></span> 

![Machine virtuelle Azure dédiée pour SAP Content Server][dbms-guide-figure-800]

#### <a name="sap-cache-server-location"></a><span data-ttu-id="4ed9d-1247">Emplacement de SAP Cache Server</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1247">SAP Cache Server Location</span></span>
<span data-ttu-id="4ed9d-1248">Hello serveur de Cache SAP est un composant serveur supplémentaires tooprovide accès too(cached) documents localement.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1248">hello SAP Cache Server is an additional server-based component tooprovide access too(cached) documents locally.</span></span> <span data-ttu-id="4ed9d-1249">Hello serveur de Cache SAP met en cache des documents d’un serveur de contenu SAP hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1249">hello SAP Cache Server caches hello documents of an SAP Content Server.</span></span> <span data-ttu-id="4ed9d-1250">Il s’agit d’un trafic réseau toooptimize si les documents ont toobe de récupérer plusieurs fois à partir de différents emplacements.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1250">This is toooptimize network traffic if documents have toobe retrieved more than once from different locations.</span></span> <span data-ttu-id="4ed9d-1251">règle générale de Hello est que ce serveur de Cache SAP hello a toobe toohello physiquement fermer client qui accède au serveur de Cache de SAP de hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1251">hello general rule is that hello SAP Cache Server has toobe physically close toohello client that accesses hello SAP Cache Server.</span></span> 

<span data-ttu-id="4ed9d-1252">Ici, deux options s’offrent à vous :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1252">Here you have two options:</span></span>

1. <span data-ttu-id="4ed9d-1253">**Client est un système SAP d’arrière-plan** si un système SAP d’arrière-plan est configuré tooaccess du serveur de contenu SAP, ce système SAP est un client.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1253">**Client is a backend SAP system** If a backend SAP system is configured tooaccess SAP Content Server, that SAP system is a client.</span></span> <span data-ttu-id="4ed9d-1254">Comme le système SAP et le serveur de contenu SAP sont déployés dans hello même région Azure – Bonjour même centre de données Azure : ils sont physiquement proches tooeach autres.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1254">As both SAP system and SAP Content Server are deployed in hello same Azure region – in hello same Azure datacenter – they are physically close tooeach other.</span></span> <span data-ttu-id="4ed9d-1255">Par conséquent, il n’existe aucun toohave besoin un serveur de Cache dédié SAP.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1255">Therefore, there is no need toohave a dedicated SAP Cache Server.</span></span> <span data-ttu-id="4ed9d-1256">L’interface utilisateur SAP (interface GUI SAP ou un navigateur web) de clients accès hello système SAP directement et hello SAP documents récupère du système à partir de hello du serveur de contenu SAP.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1256">SAP UI clients (SAP GUI or web browser) access hello SAP system directly, and hello SAP system retrieves documents from hello SAP Content Server.</span></span>
2. <span data-ttu-id="4ed9d-1257">**Client est un navigateur local** hello du serveur de contenu SAP peut être configuré toobe accédé directement par le navigateur web de hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1257">**Client is an on-premises web browser** hello SAP Content Server can be configured toobe accessed directly by hello web browser.</span></span> <span data-ttu-id="4ed9d-1258">Dans ce cas, un navigateur web en cours d’exécution locale est un client de hello du serveur de contenu SAP.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1258">In this case, a web browser running on–premises is a client of hello SAP Content Server.</span></span> <span data-ttu-id="4ed9d-1259">Centre de données sur site et le centre de données Azure sont placées dans différents lieux géographiques (tooeach Fermer dans l’idéal, autres).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1259">On-premises datacenter and Azure datacenter are placed in different physical locations (ideally close tooeach other).</span></span> <span data-ttu-id="4ed9d-1260">Votre centre de données local est connecté tooAzure via Azure VPN de Site à Site ou ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1260">Your on-premises datacenter is connected tooAzure via Azure Site-to-Site VPN or ExpressRoute.</span></span> <span data-ttu-id="4ed9d-1261">Même si les deux options offrent tooAzure de connexion de réseau VPN sécurisée, connexion site à site réseau n’offre pas un SLA de la bande passante et la latence réseau entre le centre de données local hello et hello centre de données Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1261">Although both options offer secure VPN network connection tooAzure, site-to-site network connection does not offer a network bandwidth and latency SLA between hello on-premises datacenter and hello Azure datacenter.</span></span> <span data-ttu-id="4ed9d-1262">toospeed des toodocuments d’accès, vous pouvez effectuer hello suivantes :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1262">toospeed up access toodocuments, you can do one of hello following:</span></span>
   1. <span data-ttu-id="4ed9d-1263">Installer le serveur de Cache SAP locale, de fermer le navigateur web de local toohello (option [cela] [ dbms-guide-900-sap-cache-server-on-premises] Figure)</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1263">Install SAP Cache Server on-premises, close toohello on-premises web browser (option on [this][dbms-guide-900-sap-cache-server-on-premises] Figure)</span></span>
   2. <span data-ttu-id="4ed9d-1264">Configurer Azure ExpressRoute, qui offre une connexion réseau dédiée à haut débit et à faible latence entre le centre de données local et le centre de données Azure.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1264">Configure Azure ExpressRoute, which offers a high-speed and low-latency dedicated network connection between on-premises datacenter and Azure datacenter.</span></span>

<span data-ttu-id="4ed9d-1265">![Option tooinstall serveur de Cache SAP local][dbms-guide-figure-900]
<a name="642f746c-e4d4-489d-bf63-73e80177a0a8"></a></span><span class="sxs-lookup"><span data-stu-id="4ed9d-1265">![Option tooinstall SAP Cache Server on-premises][dbms-guide-figure-900]
<a name="642f746c-e4d4-489d-bf63-73e80177a0a8"></a></span></span>

#### <a name="backup--restore"></a><span data-ttu-id="4ed9d-1266">Sauvegarde / restauration</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1266">Backup / Restore</span></span>
<span data-ttu-id="4ed9d-1267">Si vous configurez des fichiers de toostore hello du serveur de contenu SAP dans la base de données SAP MaxDB hello, considérations de performances et de la procédure de sauvegarde/restauration hello sont déjà décrits dans le chapitre de SAP MaxDB [sauvegarde et restauration] [ dbms-guide-8.4.2] et chapitre [considérations sur les performances de sauvegarde et de restauration][dbms-guide-8.4.3].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1267">If you configure hello SAP Content Server toostore files in hello SAP MaxDB database, hello backup/restore procedure and performance considerations are already described in SAP MaxDB chapter [Backup and Restore][dbms-guide-8.4.2] and chapter [Performance Considerations for Backup and Restore][dbms-guide-8.4.3].</span></span> 

<span data-ttu-id="4ed9d-1268">Si vous configurez des fichiers de toostore hello du serveur de contenu SAP dans le système de fichiers hello, une option consiste à tooexecute sauvegarde/restauration manuelle de structure d’ensemble du fichier hello dans lequel se trouvent les documents hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1268">If you configure hello SAP Content Server toostore files in hello file system, one option is tooexecute manual backup/restore of hello whole file structure where hello documents are located.</span></span> <span data-ttu-id="4ed9d-1269">TooSAP similaire MaxDB sauvegarde/restauration, il est recommandé d’un volume de disque dédié toohave fins de sauvegarde.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1269">Similar tooSAP MaxDB backup/restore, it is recommended toohave a dedicated disk volume for backup purpose.</span></span> 

#### <a name="other"></a><span data-ttu-id="4ed9d-1270">Autres</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1270">Other</span></span>
<span data-ttu-id="4ed9d-1271">Autres paramètres spécifiques du serveur de contenu SAP sont des machines virtuelles de tooAzure transparent et sont décrites dans les divers documents et les Notes SAP :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1271">Other SAP Content Server specific settings are transparent tooAzure VMs and are described in various documents and SAP Notes:</span></span>

* <span data-ttu-id="4ed9d-1272"><https://service.sap.com/contentserver></span><span class="sxs-lookup"><span data-stu-id="4ed9d-1272"><https://service.sap.com/contentserver></span></span> 
* <span data-ttu-id="4ed9d-1273">Note de SAP [1619726]</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1273">SAP Note [1619726]</span></span>  

## <a name="specifics-tooibm-db2-for-luw-on-windows"></a><span data-ttu-id="4ed9d-1274">Spécificités tooIBM DB2 pour LUW sur Windows</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1274">Specifics tooIBM DB2 for LUW on Windows</span></span>
<span data-ttu-id="4ed9d-1275">Avec Microsoft Azure, vous pouvez facilement migrer votre application SAP existante en cours d’exécution sur IBM DB2 pour Linux, UNIX et Windows (LUW) tooAzure virtuels.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1275">With Microsoft Azure, you can easily migrate your existing SAP application running on IBM DB2 for Linux, UNIX, and Windows (LUW) tooAzure virtual machines.</span></span> <span data-ttu-id="4ed9d-1276">Avec SAP sur IBM DB2 pour LUW, les administrateurs et développeurs peuvent utiliser hello même outils développement et d’administration qui sont disponibles sur site.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1276">With SAP on IBM DB2 for LUW, administrators and developers can still use hello same development and administration tools, which are available on-premises.</span></span>
<span data-ttu-id="4ed9d-1277">Informations générales sur l’exécution de SAP Business Suite sur IBM DB2 pour LUW se trouvent dans hello SAP Communauté réseau (SCN) à <https://www.sap.com/community/topic/db2-for-linux-unix-and-windows.html>.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1277">General information about running SAP Business Suite on IBM DB2 for LUW can be found in hello SAP Community Network (SCN) at <https://www.sap.com/community/topic/db2-for-linux-unix-and-windows.html>.</span></span>

<span data-ttu-id="4ed9d-1278">Pour des informations et des mises à jour supplémentaires de SAP sur DB2 pour LUW sur Azure, voir la Note de SAP [2233094].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1278">For additional information and updates about SAP on DB2 for LUW on Azure, see SAP Note [2233094].</span></span> 

### <a name="ibm-db2-for-linux-unix-and-windows-version-support"></a><span data-ttu-id="4ed9d-1279">Prise en charge des versions IBM DB2 pour Linux, UNIX et Windows</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1279">IBM DB2 for Linux, UNIX, and Windows Version Support</span></span>
<span data-ttu-id="4ed9d-1280">SAP sur IBM DB2 pour LUW est pris en charge sur les services de machines virtuelles Microsoft Azure à compter de la version DB2 10.5.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1280">SAP on IBM DB2 for LUW on Microsoft Azure Virtual Machine Services is supported as of DB2 version 10.5.</span></span>

<span data-ttu-id="4ed9d-1281">Pour plus d’informations sur les produits SAP pris en charge et les types de machine virtuelle Azure, consultez tooSAP Remarque [1928533].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1281">For information about supported SAP products and Azure VM types, refer tooSAP Note [1928533].</span></span>

### <a name="ibm-db2-for-linux-unix-and-windows-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="4ed9d-1282">Instructions de configuration IBM DB2 pour Linux, UNIX et Windows pour les installations SAP sur des machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1282">IBM DB2 for Linux, UNIX, and Windows Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="4ed9d-1283">Configuration du stockage</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1283">Storage Configuration</span></span>
<span data-ttu-id="4ed9d-1284">Tous les fichiers de base de données doivent être stockées sur le système de fichiers NTFS hello basée sur les disques attachés directement.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1284">All database files must be stored on hello NTFS file system based on directly attached disks.</span></span> <span data-ttu-id="4ed9d-1285">Ces disques sont monté toohello machine virtuelle Azure et sont basées dans le stockage d’objets BLOB Azure Page (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) ou des disques gérés (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1285">These disks are mounted toohello Azure VM and are based in Azure Page BLOB Storage (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) or Managed Disks (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span></span> <span data-ttu-id="4ed9d-1286">Tout type de lecteurs réseau ou des partages distants comme hello suivant des services de fichiers Azure est **pas** pris en charge pour les fichiers de base de données :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1286">Any kind of network drives or remote shares like hello following Azure file services are **NOT** supported for database files:</span></span> 

* <span data-ttu-id="4ed9d-1287"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span><span class="sxs-lookup"><span data-stu-id="4ed9d-1287"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span></span>
* <span data-ttu-id="4ed9d-1288"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span><span class="sxs-lookup"><span data-stu-id="4ed9d-1288"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span></span>

<span data-ttu-id="4ed9d-1289">Si vous utilisez des disques basés sur le stockage d’objets BLOB Azure Page ou de disques gérés, hello instructions effectuées dans ce document dans le chapitre [Structure d’un déploiement SGBDR] [ dbms-guide-2] également appliquer toodeployments avec hello IBM DB2 pour LUW de base de données.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1289">If you are using disks based on Azure Page BLOB Storage or Managed Disks, hello statements made in this document in chapter [Structure of an RDBMS Deployment][dbms-guide-2] also apply toodeployments with hello IBM DB2 for LUW Database.</span></span> 

<span data-ttu-id="4ed9d-1290">Comme expliqué plus haut dans la partie générale de hello du document de hello, les quotas sur le débit d’e/s des disques existent.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1290">As explained earlier in hello general part of hello document, quotas on IOPS throughput for disks exist.</span></span> <span data-ttu-id="4ed9d-1291">les quotas exacte Hello dépendent de type de machine virtuelle hello utilisé.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1291">hello exact quotas depend on hello VM type used.</span></span> <span data-ttu-id="4ed9d-1292">La liste des types de machines virtuelles et de leurs quotas est disponible [ici (pour Linux)][virtual-machines-sizes-linux] et [ici (pour Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1292">A list of VM types with their quotas can be found [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="4ed9d-1293">Tant que hello actuel quota d’IOPS par disque est suffisant, qu'il est possible de toostore tous hello des fichiers de base de données sur un seul disque monté.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1293">As long as hello current IOPS quota per disk is sufficient, it is possible toostore all hello database files on one single mounted disk.</span></span> 

<span data-ttu-id="4ed9d-1294">Pour des performances considérations également faire référence toochapter sécurité et performances considérations pour base de données « répertoires de données » dans les guides d’installation SAP.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1294">For performance considerations also refer toochapter “Data Safety and Performance Considerations for Database Directories” in SAP installation guides.</span></span>

<span data-ttu-id="4ed9d-1295">Ou bien, vous pouvez utiliser des Pools de stockage Windows (uniquement disponible dans Windows Server 2012 et versions ultérieures) ou répartition de Windows pour Windows 2008 R2 en tant que décrit dans le chapitre [logiciel RAID] [ dbms-guide-2.2] de ce document toocreate une grande unité logique sur plusieurs disques.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1295">Alternatively, you can use Windows Storage Pools (only available in Windows Server 2012 and higher) or Windows striping for Windows 2008 R2 as described in chapter [Software RAID][dbms-guide-2.2] of this document toocreate one large logical device over multiple disks.</span></span>
<span data-ttu-id="4ed9d-1296">Pour les disques hello contenant les chemins d’accès de stockage hello DB2 pour vos répertoires de données et saptmp, vous devez spécifier une taille de secteur de disque physique de 512 Ko.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1296">For hello disks containing hello DB2 storage paths for your sapdata and saptmp directories, you must specify a physical disk sector size of 512 KB.</span></span> <span data-ttu-id="4ed9d-1297">Lors de l’utilisation de Pools de stockage Windows, vous devez créer hello pools de stockage manuellement via l’interface de ligne de commande à l’aide du paramètre hello »-LogicalSectorSizeDefault ».</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1297">When using Windows Storage Pools, you must create hello storage pools  manually via command line interface using hello parameter „-LogicalSectorSizeDefault“.</span></span> <span data-ttu-id="4ed9d-1298">Pour plus d’informations, consultez <https://technet.microsoft.com/itpro/powershell/windows/storage/new-storagepool>.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1298">For more information, see <https://technet.microsoft.com/itpro/powershell/windows/storage/new-storagepool>.</span></span>

#### <a name="backuprestore"></a><span data-ttu-id="4ed9d-1299">Sauvegarde/restauration</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1299">Backup/Restore</span></span>
<span data-ttu-id="4ed9d-1300">fonctionnalité de sauvegarde/restauration Hello pour IBM DB2 pour LUW est pris en charge dans hello même façon que sur standard les systèmes d’exploitation Windows Server et Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1300">hello backup/restore functionality for IBM DB2 for LUW is supported in hello same way as on standard Windows Server Operating Systems and Hyper-V.</span></span>

<span data-ttu-id="4ed9d-1301">Vous devez vous assurer que vous disposez d’une stratégie de sauvegarde de base de données valide en place.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1301">You must make sure that you have a valid database backup strategy in place.</span></span> 

<span data-ttu-id="4ed9d-1302">Comme dans les déploiements de système nu, les performances de sauvegarde/restauration dépendent de combien de volumes peut être lues en parallèle et quelles débit hello de ces volumes peut-être être.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1302">As in bare-metal deployments, backup/restore performance depends on how many volumes can be read in parallel and what hello throughput of those volumes might be.</span></span> <span data-ttu-id="4ed9d-1303">En outre, hello consommation d’UC utilisée par la compression de sauvegarde peut jouent un rôle significatif sur les machines virtuelles avec uniquement les threads de l’UC de tooeight.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1303">In addition, hello CPU consumption used by backup compression may play a significant role on VMs with just up tooeight CPU threads.</span></span> <span data-ttu-id="4ed9d-1304">Par conséquent, on peut partir des hypothèses suivantes :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1304">Therefore, one can assume:</span></span>

* <span data-ttu-id="4ed9d-1305">Hello moins hello le nombre de disques utilisés toostore hello des périphériques de la base de données, hello hello plus petit globale débit de lecture</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1305">hello fewer hello number of disks used toostore hello database devices, hello smaller hello overall throughput in reading</span></span>
* <span data-ttu-id="4ed9d-1306">Hello plus petit nombre de hello de threads d’UC Bonjour VM, hello plus grave impact hello de compression de la sauvegarde</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1306">hello smaller hello number of CPU threads in hello VM, hello more severe hello impact of backup compression</span></span>
* <span data-ttu-id="4ed9d-1307">Hello moins sauvegarde hello toowrite de cibles (Stripe répertoires, les disques) à la réduction du débit hello hello</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1307">hello fewer targets (Stripe Directories, disks) toowrite hello backup to, hello lower hello throughput</span></span>

<span data-ttu-id="4ed9d-1308">nombre de hello de tooincrease de toowrite cibles pour, les deux options peuvent être utilisé/combinée selon vos besoins :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1308">tooincrease hello number of targets toowrite to, two options can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="4ed9d-1309">Répartition du volume de cible de sauvegarde hello sur plusieurs disques dans le débit d’e/s ordre tooimprove hello sur ce volume agrégé par bandes</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1309">Striping hello backup target volume over multiple disks in order tooimprove hello IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="4ed9d-1310">À l’aide de plusieurs annuaires toowrite hello sauvegarde pour</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1310">Using more than one target directory toowrite hello backup to</span></span>

#### <a name="high-availability-and-disaster-recovery"></a><span data-ttu-id="4ed9d-1311">Haute disponibilité et récupération d’urgence</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1311">High Availability and Disaster Recovery</span></span>
<span data-ttu-id="4ed9d-1312">Microsoft Cluster Server (MSCS) n’est pas pris en charge.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1312">Microsoft Cluster Server (MSCS) is not supported.</span></span>

<span data-ttu-id="4ed9d-1313">La fonction HADR (haute disponibilité et récupération d’urgence) DB2 est prise en charge.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1313">DB2 high availability disaster recovery (HADR) is supported.</span></span> <span data-ttu-id="4ed9d-1314">Si hello ordinateurs virtuels de la configuration de haute disponibilité hello ont l’utilisation de la résolution de noms, le programme d’installation de hello dans Azure ne diffère pas de configuration est effectuée localement.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1314">If hello virtual machines of hello HA configuration have working name resolution, hello setup in Azure does not differ from any setup that is done on-premises.</span></span> <span data-ttu-id="4ed9d-1315">Il n’est pas recommandé toorely sur la résolution d’adresses IP.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1315">It is not recommended toorely on IP resolution only.</span></span>

<span data-ttu-id="4ed9d-1316">N’utilisez pas la géo-réplication hello comptes de stockage qui stockent des disques de base de données hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1316">Do not use Geo-Replication for hello storage accounts that store hello database disks.</span></span> <span data-ttu-id="4ed9d-1317">Pour plus d’informations, consultez toochapter [Microsoft Azure Storage] [ dbms-guide-2.3] et chapitre [haute disponibilité et récupération d’urgence avec des machines virtuelles Azure] [ dbms-guide-3].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1317">For more information, refer toochapter [Microsoft Azure Storage][dbms-guide-2.3] and chapter [High Availability and Disaster Recovery with Azure VMs][dbms-guide-3].</span></span>

#### <a name="other"></a><span data-ttu-id="4ed9d-1318">Autres</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1318">Other</span></span>
<span data-ttu-id="4ed9d-1319">Toutes les autres rubriques générales telles que la surveillance de groupes à haute disponibilité Azure ou SAP s’appliquent comme décrit dans hello trois premiers chapitres de ce document pour les déploiements d’ordinateurs virtuels avec IBM DB2 pour LUW également.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1319">All other general topics like Azure Availability Sets or SAP monitoring apply as described in hello first three chapters of this document for deployments of VMs with IBM DB2 for LUW as well.</span></span> 

<span data-ttu-id="4ed9d-1320">Consultez également toochapter [générale sur SQL Server pour SAP sur Azure Résumé][dbms-guide-5.8].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1320">Also refer toochapter [General SQL Server for SAP on Azure Summary][dbms-guide-5.8].</span></span>

## <a name="specifics-tooibm-db2-for-luw-on-linux"></a><span data-ttu-id="4ed9d-1321">Spécificités tooIBM DB2 pour LUW sur Linux</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1321">Specifics tooIBM DB2 for LUW on Linux</span></span>
<span data-ttu-id="4ed9d-1322">Avec Microsoft Azure, vous pouvez facilement migrer votre application SAP existante en cours d’exécution sur IBM DB2 pour Linux, UNIX et Windows (LUW) tooAzure virtuels.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1322">With Microsoft Azure, you can easily migrate your existing SAP application running on IBM DB2 for Linux, UNIX, and Windows (LUW) tooAzure virtual machines.</span></span> <span data-ttu-id="4ed9d-1323">Avec SAP sur IBM DB2 pour LUW, les administrateurs et développeurs peuvent utiliser hello même outils développement et d’administration qui sont disponibles sur site.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1323">With SAP on IBM DB2 for LUW, administrators and developers can still use hello same development and administration tools, which are available on-premises.</span></span> <span data-ttu-id="4ed9d-1324">Informations générales sur l’exécution de SAP Business Suite sur IBM DB2 pour LUW se trouvent dans hello SAP Communauté réseau (SCN) à <https://www.sap.com/community/topic/db2-for-linux-unix-and-windows.html>.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1324">General information about running SAP Business Suite on IBM DB2 for LUW can be found in hello SAP Community Network (SCN) at <https://www.sap.com/community/topic/db2-for-linux-unix-and-windows.html>.</span></span>

<span data-ttu-id="4ed9d-1325">Pour des informations et des mises à jour supplémentaires de SAP sur DB2 pour LUW sur Azure, voir la Note de SAP [2233094].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1325">For additional information and updates about SAP on DB2 for LUW on Azure, see SAP Note [2233094].</span></span>

### <a name="ibm-db2-for-linux-unix-and-windows-version-support"></a><span data-ttu-id="4ed9d-1326">Prise en charge des versions IBM DB2 pour Linux, UNIX et Windows</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1326">IBM DB2 for Linux, UNIX, and Windows Version Support</span></span>
<span data-ttu-id="4ed9d-1327">SAP sur IBM DB2 pour LUW est pris en charge sur les services de machines virtuelles Microsoft Azure à compter de la version DB2 10.5.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1327">SAP on IBM DB2 for LUW on Microsoft Azure Virtual Machine Services is supported as of DB2 version 10.5.</span></span>

<span data-ttu-id="4ed9d-1328">Pour plus d’informations sur les produits SAP pris en charge et les types de machine virtuelle Azure, consultez tooSAP Remarque [1928533].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1328">For information about supported SAP products and Azure VM types, refer tooSAP Note [1928533].</span></span>

### <a name="ibm-db2-for-linux-unix-and-windows-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="4ed9d-1329">Instructions de configuration IBM DB2 pour Linux, UNIX et Windows pour les installations SAP sur des machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1329">IBM DB2 for Linux, UNIX, and Windows Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="4ed9d-1330">Configuration du stockage</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1330">Storage Configuration</span></span>
<span data-ttu-id="4ed9d-1331">Tous les fichiers de base de données doivent être stockés sur un système de fichiers basé sur les disques directement attachés.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1331">All database files must be stored on a file system based on directly attached disks.</span></span> <span data-ttu-id="4ed9d-1332">Ces disques sont monté toohello machine virtuelle Azure et sont basées dans le stockage d’objets BLOB Azure Page (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) ou des disques gérés (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1332">These disks are mounted toohello Azure VM and are based in Azure Page BLOB Storage (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) or Managed Disks (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span></span> <span data-ttu-id="4ed9d-1333">Tout type de lecteurs réseau ou des partages distants comme hello suivant des services de fichiers Azure est **pas** pris en charge pour les fichiers de base de données :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1333">Any kind of network drives or remote shares like hello following Azure file services are **NOT** supported for database files:</span></span>

* <span data-ttu-id="4ed9d-1334"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span><span class="sxs-lookup"><span data-stu-id="4ed9d-1334"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span></span>
* <span data-ttu-id="4ed9d-1335"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span><span class="sxs-lookup"><span data-stu-id="4ed9d-1335"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span></span>

<span data-ttu-id="4ed9d-1336">Si vous utilisez des disques basés sur le stockage d’objets BLOB Azure Page, hello instructions effectuées dans ce document dans le chapitre [Structure d’un déploiement SGBDR] [ dbms-guide-2] s’appliquent également toodeployments avec hello IBM DB2 pour LUW de base de données.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1336">If you are using disks based on Azure Page BLOB Storage, hello statements made in this document in chapter [Structure of an RDBMS Deployment][dbms-guide-2] also apply toodeployments with hello IBM DB2 for LUW Database.</span></span>

<span data-ttu-id="4ed9d-1337">Comme expliqué plus haut dans la partie générale de hello du document de hello, les quotas sur le débit d’e/s des disques existent.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1337">As explained earlier in hello general part of hello document, quotas on IOPS throughput for disks exist.</span></span> <span data-ttu-id="4ed9d-1338">les quotas exacte Hello dépendent de type de machine virtuelle hello utilisé.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1338">hello exact quotas depend on hello VM type used.</span></span> <span data-ttu-id="4ed9d-1339">La liste des types de machines virtuelles et de leurs quotas est disponible [ici (pour Linux)][virtual-machines-sizes-linux] et [ici (pour Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1339">A list of VM types with their quotas can be found [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="4ed9d-1340">Tant que hello actuel quota d’IOPS par disque est suffisant, qu'il est possible de toostore tous hello des fichiers de base de données sur un seul disque.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1340">As long as hello current IOPS quota per disk is sufficient, it is possible toostore all hello database files on one single disk.</span></span>

<span data-ttu-id="4ed9d-1341">Pour des performances considérations également faire référence toochapter sécurité et performances considérations pour base de données « répertoires de données » dans les guides d’installation SAP.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1341">For performance considerations also refer toochapter “Data Safety and Performance Considerations for Database Directories” in SAP installation guides.</span></span>

<span data-ttu-id="4ed9d-1342">Vous pouvez également utiliser le Gestionnaire de volume logique (Gestionnaire de Volume logique) ou MDADM comme décrit dans le chapitre [logiciel RAID] [ dbms-guide-2.2] de ce document toocreate une grande unité logique sur plusieurs disques.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1342">Alternatively, you can use LVM (Logical Volume Manager) or MDADM as described in chapter [Software RAID][dbms-guide-2.2] of this document toocreate one large logical device over multiple disks.</span></span>
<span data-ttu-id="4ed9d-1343">Pour les disques hello contenant les chemins d’accès de stockage hello DB2 pour vos répertoires de données et saptmp, vous devez spécifier une taille de secteur de disque physique de 512 Ko.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1343">For hello disks containing hello DB2 storage paths for your sapdata and saptmp directories, you must specify a physical disk sector size of 512 KB.</span></span>

#### <a name="backuprestore"></a><span data-ttu-id="4ed9d-1344">Sauvegarde/restauration</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1344">Backup/Restore</span></span>
<span data-ttu-id="4ed9d-1345">fonctionnalité de sauvegarde/restauration Hello pour IBM DB2 pour LUW est pris en charge dans hello même façon que dans standard Linux installation locale.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1345">hello backup/restore functionality for IBM DB2 for LUW is supported in hello same way as on standard Linux installation on-premises.</span></span>

<span data-ttu-id="4ed9d-1346">Vous devez vous assurer que vous disposez d’une stratégie de sauvegarde de base de données valide en place.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1346">You must make sure that you have a valid database backup strategy in place.</span></span>

<span data-ttu-id="4ed9d-1347">Comme dans les déploiements de système nu, les performances de sauvegarde/restauration dépendent de combien de volumes peut être lues en parallèle et quelles débit hello de ces volumes peut-être être.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1347">As in bare-metal deployments, backup/restore performance depends on how many volumes can be read in parallel and what hello throughput of those volumes might be.</span></span> <span data-ttu-id="4ed9d-1348">En outre, hello consommation d’UC utilisée par la compression de sauvegarde peut jouent un rôle significatif sur les machines virtuelles avec uniquement les threads de l’UC de tooeight.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1348">In addition, hello CPU consumption used by backup compression may play a significant role on VMs with just up tooeight CPU threads.</span></span> <span data-ttu-id="4ed9d-1349">Par conséquent, on peut partir des hypothèses suivantes :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1349">Therefore, one can assume:</span></span>

* <span data-ttu-id="4ed9d-1350">Hello moins hello le nombre de disques utilisés toostore hello des périphériques de la base de données, hello hello plus petit globale débit de lecture</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1350">hello fewer hello number of disks used toostore hello database devices, hello smaller hello overall throughput in reading</span></span>
* <span data-ttu-id="4ed9d-1351">Hello plus petit nombre de hello de threads d’UC Bonjour VM, hello plus grave impact hello de compression de la sauvegarde</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1351">hello smaller hello number of CPU threads in hello VM, hello more severe hello impact of backup compression</span></span>
* <span data-ttu-id="4ed9d-1352">Hello moins sauvegarde hello toowrite de cibles (Stripe répertoires, les disques) à la réduction du débit hello hello</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1352">hello fewer targets (Stripe Directories, disks) toowrite hello backup to, hello lower hello throughput</span></span>

<span data-ttu-id="4ed9d-1353">nombre de hello de tooincrease de toowrite cibles pour, les deux options peuvent être utilisé/combinée selon vos besoins :</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1353">tooincrease hello number of targets toowrite to, two options can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="4ed9d-1354">Répartition du volume de cible de sauvegarde hello sur plusieurs disques dans le débit d’e/s ordre tooimprove hello sur ce volume agrégé par bandes</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1354">Striping hello backup target volume over multiple disks in order tooimprove hello IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="4ed9d-1355">À l’aide de plusieurs annuaires toowrite hello sauvegarde pour</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1355">Using more than one target directory toowrite hello backup to</span></span>

#### <a name="high-availability-and-disaster-recovery"></a><span data-ttu-id="4ed9d-1356">Haute disponibilité et récupération d’urgence</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1356">High Availability and Disaster Recovery</span></span>
<span data-ttu-id="4ed9d-1357">La fonction HADR (haute disponibilité et récupération d’urgence) DB2 est prise en charge.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1357">DB2 high availability disaster recovery (HADR) is supported.</span></span> <span data-ttu-id="4ed9d-1358">Si hello ordinateurs virtuels de la configuration de haute disponibilité hello ont l’utilisation de la résolution de noms, le programme d’installation de hello dans Azure ne diffère pas de configuration est effectuée localement.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1358">If hello virtual machines of hello HA configuration have working name resolution, hello setup in Azure does not differ from any setup that is done on-premises.</span></span> <span data-ttu-id="4ed9d-1359">Il n’est pas recommandé toorely sur la résolution d’adresses IP.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1359">It is not recommended toorely on IP resolution only.</span></span>

<span data-ttu-id="4ed9d-1360">N’utilisez pas la géo-réplication hello comptes de stockage qui stockent des disques de base de données hello.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1360">Do not use Geo-Replication for hello storage accounts that store hello database disks.</span></span> <span data-ttu-id="4ed9d-1361">Pour plus d’informations, consultez toochapter [Microsoft Azure Storage] [ dbms-guide-2.3] et chapitre [haute disponibilité et récupération d’urgence avec des machines virtuelles Azure] [ dbms-guide-3].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1361">For more information, refer toochapter [Microsoft Azure Storage][dbms-guide-2.3] and chapter [High Availability and Disaster Recovery with Azure VMs][dbms-guide-3].</span></span>

#### <a name="other"></a><span data-ttu-id="4ed9d-1362">Autres</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1362">Other</span></span>
<span data-ttu-id="4ed9d-1363">Toutes les autres rubriques générales telles que la surveillance de groupes à haute disponibilité Azure ou SAP s’appliquent comme décrit dans hello trois premiers chapitres de ce document pour les déploiements d’ordinateurs virtuels avec IBM DB2 pour LUW également.</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1363">All other general topics like Azure Availability Sets or SAP monitoring apply as described in hello first three chapters of this document for deployments of VMs with IBM DB2 for LUW as well.</span></span>

<span data-ttu-id="4ed9d-1364">Consultez également toochapter [générale sur SQL Server pour SAP sur Azure Résumé][dbms-guide-5.8].</span><span class="sxs-lookup"><span data-stu-id="4ed9d-1364">Also refer toochapter [General SQL Server for SAP on Azure Summary][dbms-guide-5.8].</span></span>

