---
title: "Machines virtuelles d’aaaAzure planification et implémentation de SAP NetWeaver | Documents Microsoft"
description: "Planification et implémentation de machines virtuelles Azure pour SAP NetWeaver"
services: virtual-machines-linux,virtual-machines-windows
documentationcenter: 
author: MSSedusch
manager: timlt
editor: 
tags: azure-resource-manager
keywords: 
ms.assetid: d7c59cc1-b2d0-4d90-9126-628f9c7a5538
ms.service: virtual-machines-linux
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure-services
ms.date: 11/08/2016
ms.author: sedusch
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 0d1e9fa13d847e4d8abb3c34fd352d1f4ece3717
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-virtual-machines-planning-and-implementation-for-sap-netweaver"></a><span data-ttu-id="0551f-103">Planification et implémentation de machines virtuelles Azure pour SAP NetWeaver</span><span class="sxs-lookup"><span data-stu-id="0551f-103">Azure Virtual Machines planning and implementation for SAP NetWeaver</span></span>
[767598]:https://launchpad.support.sap.com/#/notes/767598
[773830]:https://launchpad.support.sap.com/#/notes/773830
[826037]:https://launchpad.support.sap.com/#/notes/826037
[965908]:https://launchpad.support.sap.com/#/notes/965908
[1031096]:https://launchpad.support.sap.com/#/notes/1031096
[1139904]:https://launchpad.support.sap.com/#/notes/1139904
[1173395]:https://launchpad.support.sap.com/#/notes/1173395
[1245200]:https://launchpad.support.sap.com/#/notes/1245200
[1409604]:https://launchpad.support.sap.com/#/notes/1409604
[1558958]:https://launchpad.support.sap.com/#/notes/1558958
[1585981]:https://launchpad.support.sap.com/#/notes/1585981
[1588316]:https://launchpad.support.sap.com/#/notes/1588316
[1590719]:https://launchpad.support.sap.com/#/notes/1590719
[1597355]:https://launchpad.support.sap.com/#/notes/1597355
[1605680]:https://launchpad.support.sap.com/#/notes/1605680
[1619720]:https://launchpad.support.sap.com/#/notes/1619720
[1619726]:https://launchpad.support.sap.com/#/notes/1619726
[1619967]:https://launchpad.support.sap.com/#/notes/1619967
[1750510]:https://launchpad.support.sap.com/#/notes/1750510
[1752266]:https://launchpad.support.sap.com/#/notes/1752266
[1757924]:https://launchpad.support.sap.com/#/notes/1757924
[1757928]:https://launchpad.support.sap.com/#/notes/1757928
[1758182]:https://launchpad.support.sap.com/#/notes/1758182
[1758496]:https://launchpad.support.sap.com/#/notes/1758496
[1772688]:https://launchpad.support.sap.com/#/notes/1772688
[1814258]:https://launchpad.support.sap.com/#/notes/1814258
[1882376]:https://launchpad.support.sap.com/#/notes/1882376
[1909114]:https://launchpad.support.sap.com/#/notes/1909114
[1922555]:https://launchpad.support.sap.com/#/notes/1922555
[1928533]:https://launchpad.support.sap.com/#/notes/1928533
[1941500]:https://launchpad.support.sap.com/#/notes/1941500
[1956005]:https://launchpad.support.sap.com/#/notes/1956005
[1973241]:https://launchpad.support.sap.com/#/notes/1973241
[1984787]:https://launchpad.support.sap.com/#/notes/1984787
[1999351]:https://launchpad.support.sap.com/#/notes/1999351
[2002167]:https://launchpad.support.sap.com/#/notes/2002167
[2015553]:https://launchpad.support.sap.com/#/notes/2015553
[2039619]:https://launchpad.support.sap.com/#/notes/2039619
[2069760]:https://launchpad.support.sap.com/#/notes/2069760
[2121797]:https://launchpad.support.sap.com/#/notes/2121797
[2134316]:https://launchpad.support.sap.com/#/notes/2134316
[2178632]:https://launchpad.support.sap.com/#/notes/2178632
[2191498]:https://launchpad.support.sap.com/#/notes/2191498
[2233094]:https://launchpad.support.sap.com/#/notes/2233094
[2243692]:https://launchpad.support.sap.com/#/notes/2243692

[azure-cli]:../../../cli-install-nodejs.md
[azure-portal]:https://portal.azure.com
[azure-ps]:/powershell/azureps-cmdlets-docs
[azure-quickstart-templates-github]:https://github.com/Azure/azure-quickstart-templates
[azure-script-ps]:https://go.microsoft.com/fwlink/p/?LinkID=395017
[azure-subscription-service-limits]:../../../azure-subscription-service-limits.md
[azure-subscription-service-limits-subscription]:../../../azure-subscription-service-limits.md#subscription-limits

[dbms-guide]:dbms-guide.md
[dbms-guide-2.1]:dbms-guide.md#c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f
[dbms-guide-2.2]:dbms-guide.md#c8e566f9-21b7-4457-9f7f-126036971a91
[dbms-guide-2.3]:dbms-guide.md#10b041ef-c177-498a-93ed-44b3441ab152
[dbms-guide-2]:dbms-guide.md#65fa79d6-a85f-47ee-890b-22e794f51a64
[dbms-guide-3]:dbms-guide.md#871dfc27-e509-4222-9370-ab1de77021c3
[dbms-guide-5.5.1]:dbms-guide.md#0fef0e79-d3fe-4ae2-85af-73666a6f7268
[dbms-guide-5.5.2]:dbms-guide.md#f9071eff-9d72-4f47-9da4-1852d782087b
[dbms-guide-5.6]:dbms-guide.md#1b353e38-21b3-4310-aeb6-a77e7c8e81c8
[dbms-guide-5.8]:dbms-guide.md#9053f720-6f3b-4483-904d-15dc54141e30
[dbms-guide-5]:dbms-guide.md#3264829e-075e-4d25-966e-a49dad878737
[dbms-guide-8.4.1]:dbms-guide.md#b48cfe3b-48e9-4f5b-a783-1d29155bd573
[dbms-guide-8.4.2]:dbms-guide.md#23c78d3b-ca5a-4e72-8a24-645d141a3f5d
[dbms-guide-8.4.3]:dbms-guide.md#77cd2fbb-307e-4cbf-a65f-745553f72d2c
[dbms-guide-8.4.4]:dbms-guide.md#f77c1436-9ad8-44fb-a331-8671342de818
[dbms-guide-900-sap-cache-server-on-premises]:dbms-guide.md#642f746c-e4d4-489d-bf63-73e80177a0a8

[dbms-guide-figure-100]:media/virtual-machines-shared-sap-dbms-guide/100_storage_account_types.png
[dbms-guide-figure-200]:media/virtual-machines-shared-sap-dbms-guide/200-ha-set-for-dbms-ha.png
[dbms-guide-figure-300]:media/virtual-machines-shared-sap-dbms-guide/300-reference-config-iaas.png
[dbms-guide-figure-400]:media/virtual-machines-shared-sap-dbms-guide/400-sql-2012-backup-to-blob-storage.png
[dbms-guide-figure-500]:media/virtual-machines-shared-sap-dbms-guide/500-sql-2012-backup-to-blob-storage-different-containers.png
[dbms-guide-figure-600]:media/virtual-machines-shared-sap-dbms-guide/600-iaas-maxdb.png
[dbms-guide-figure-700]:media/virtual-machines-shared-sap-dbms-guide/700-livecach-prod.png
[dbms-guide-figure-800]:media/virtual-machines-shared-sap-dbms-guide/800-azure-vm-sap-content-server.png
[dbms-guide-figure-900]:media/virtual-machines-shared-sap-dbms-guide/900-sap-cache-server-on-premises.png

[deployment-guide]:deployment-guide.md
[deployment-guide-2.2]:deployment-guide.md#42ee2bdb-1efc-4ec7-ab31-fe4c22769b94
[deployment-guide-3.1.2]:deployment-guide.md#3688666f-281f-425b-a312-a77e7db2dfab
[deployment-guide-3.2]:deployment-guide.md#db477013-9060-4602-9ad4-b0316f8bb281
[deployment-guide-3.3]:deployment-guide.md#54a1fc6d-24fd-4feb-9c57-ac588a55dff2
[deployment-guide-3.4]:deployment-guide.md#a9a60133-a763-4de8-8986-ac0fa33aa8c1
[deployment-guide-3]:deployment-guide.md#b3253ee3-d63b-4d74-a49b-185e76c4088e
[deployment-guide-4.1]:deployment-guide.md#604bcec2-8b6e-48d2-a944-61b0f5dee2f7
[deployment-guide-4.2]:deployment-guide.md#7ccf6c3e-97ae-4a7a-9c75-e82c37beb18e
[deployment-guide-4.3]:deployment-guide.md#31d9ecd6-b136-4c73-b61e-da4a29bbc9cc
[deployment-guide-4.4.2]:deployment-guide.md#6889ff12-eaaf-4f3c-97e1-7c9edc7f7542
[deployment-guide-4.4]:deployment-guide.md#c7cbb0dc-52a4-49db-8e03-83e7edc2927d
[deployment-guide-4.5.1]:deployment-guide.md#987cf279-d713-4b4c-8143-6b11589bb9d4
[deployment-guide-4.5.2]:deployment-guide.md#408f3779-f422-4413-82f8-c57a23b4fc2f
[deployment-guide-4.5]:deployment-guide.md#d98edcd3-f2a1-49f7-b26a-07448ceb60ca
[deployment-guide-5.1]:deployment-guide.md#bb61ce92-8c5c-461f-8c53-39f5e5ed91f2
[deployment-guide-5.2]:deployment-guide.md#e2d592ff-b4ea-4a53-a91a-e5521edb6cd1
[deployment-guide-5.3]:deployment-guide.md#fe25a7da-4e4e-4388-8907-8abc2d33cfd8

[deployment-guide-configure-monitoring-scenario-1]:deployment-guide.md#ec323ac3-1de9-4c3a-b770-4ff701def65b
[deployment-guide-configure-proxy]:deployment-guide.md#baccae00-6f79-4307-ade4-40292ce4e02d
[deployment-guide-figure-100]:media/virtual-machines-shared-sap-deployment-guide/100-deploy-vm-image.png
[deployment-guide-figure-1000]:media/virtual-machines-shared-sap-deployment-guide/1000-service-properties.png
[deployment-guide-figure-11]:deployment-guide.md#figure-11
[deployment-guide-figure-1100]:media/virtual-machines-shared-sap-deployment-guide/1100-azperflib.png
[deployment-guide-figure-1200]:media/virtual-machines-shared-sap-deployment-guide/1200-cmd-test-login.png
[deployment-guide-figure-1300]:media/virtual-machines-shared-sap-deployment-guide/1300-cmd-test-executed.png
[deployment-guide-figure-14]:deployment-guide.md#figure-14
[deployment-guide-figure-1400]:media/virtual-machines-shared-sap-deployment-guide/1400-azperflib-error-servicenotstarted.png
[deployment-guide-figure-300]:media/virtual-machines-shared-sap-deployment-guide/300-deploy-private-image.png
[deployment-guide-figure-400]:media/virtual-machines-shared-sap-deployment-guide/400-deploy-using-disk.png
[deployment-guide-figure-5]:deployment-guide.md#figure-5
[deployment-guide-figure-50]:media/virtual-machines-shared-sap-deployment-guide/50-forced-tunneling-suse.png
[deployment-guide-figure-500]:media/virtual-machines-shared-sap-deployment-guide/500-install-powershell.png
[deployment-guide-figure-6]:deployment-guide.md#figure-6
[deployment-guide-figure-600]:media/virtual-machines-shared-sap-deployment-guide/600-powershell-version.png
[deployment-guide-figure-7]:deployment-guide.md#figure-7
[deployment-guide-figure-700]:media/virtual-machines-shared-sap-deployment-guide/700-install-powershell-installed.png
[deployment-guide-figure-760]:media/virtual-machines-shared-sap-deployment-guide/760-azure-cli-version.png
[deployment-guide-figure-900]:media/virtual-machines-shared-sap-deployment-guide/900-cmd-update-executed.png
[deployment-guide-figure-azure-cli-installed]:deployment-guide.md#402488e5-f9bb-4b29-8063-1c5f52a892d0
[deployment-guide-figure-azure-cli-version]:deployment-guide.md#0ad010e6-f9b5-4c21-9c09-bb2e5efb3fda
[deployment-guide-install-vm-agent-windows]:deployment-guide.md#b2db5c9a-a076-42c6-9835-16945868e866
[deployment-guide-troubleshooting-chapter]:deployment-guide.md#564adb4f-5c95-4041-9616-6635e83a810b

[deploy-template-cli]:../../../resource-group-template-deploy-cli.md
[deploy-template-portal]:../../../resource-group-template-deploy-portal.md
[deploy-template-powershell]:../../../resource-group-template-deploy.md

[dr-guide-classic]:http://go.microsoft.com/fwlink/?LinkID=521971

[getting-started]:get-started.md
[getting-started-dbms]:get-started.md#1343ffe1-8021-4ce6-a08d-3a1553a4db82
[getting-started-deployment]:get-started.md#6aadadd2-76b5-46d8-8713-e8d63630e955
[getting-started-planning]:get-started.md#3da0389e-708b-4e82-b2a2-e92f132df89c

[getting-started-windows-classic]:../../virtual-machines-windows-classic-sap-get-started.md
[getting-started-windows-classic-dbms]:../../virtual-machines-windows-classic-sap-get-started.md#c5b77a14-f6b4-44e9-acab-4d28ff72a930
[getting-started-windows-classic-deployment]:../../virtual-machines-windows-classic-sap-get-started.md#f84ea6ce-bbb4-41f7-9965-34d31b0098ea
[getting-started-windows-classic-dr]:../../virtual-machines-windows-classic-sap-get-started.md#cff10b4a-01a5-4dc3-94b6-afb8e55757d3
[getting-started-windows-classic-ha-sios]:../../virtual-machines-windows-classic-sap-get-started.md#4bb7512c-0fa0-4227-9853-4004281b1037
[getting-started-windows-classic-planning]:../../virtual-machines-windows-classic-sap-get-started.md#f2a5e9d8-49e4-419e-9900-af783173481c

[ha-guide-classic]:http://go.microsoft.com/fwlink/?LinkId=613056

[install-extension-cli]:virtual-machines-linux-enable-aem.md

[Logo_Linux]:media/virtual-machines-shared-sap-shared/Linux.png
[Logo_Windows]:media/virtual-machines-shared-sap-shared/Windows.png

[msdn-set-azurermvmaemextension]:https://msdn.microsoft.com/library/azure/mt670598.aspx

[planning-guide]:planning-guide.md  
[planning-guide-1.2]:planning-guide.md#e55d1e22-c2c8-460b-9897-64622a34fdff
[planning-guide-11]:planning-guide.md#7cf991a1-badd-40a9-944e-7baae842a058
[planning-guide-11.4.1]:planning-guide.md#5d9d36f9-9058-435d-8367-5ad05f00de77
[planning-guide-11.5]:planning-guide.md#4e165b58-74ca-474f-a7f4-5e695a93204f
[planning-guide-2.1]:planning-guide.md#1625df66-4cc6-4d60-9202-de8a0b77f803
[planning-guide-2.2]:planning-guide.md#f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10
[planning-guide-3.1]:planning-guide.md#be80d1b9-a463-4845-bd35-f4cebdb5424a
[planning-guide-3.2.1]:planning-guide.md#df49dc09-141b-4f34-a4a2-990913b30358
[planning-guide-3.2.2]:planning-guide.md#fc1ac8b2-e54a-487c-8581-d3cc6625e560
[planning-guide-3.2.3]:planning-guide.md#18810088-f9be-4c97-958a-27996255c665
[planning-guide-3.2]:planning-guide.md#8d8ad4b8-6093-4b91-ac36-ea56d80dbf77
[planning-guide-3.3.2]:planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92
[planning-guide-5.1.1]:planning-guide.md#4d175f1b-7353-4137-9d2f-817683c26e53
[planning-guide-5.1.2]:planning-guide.md#e18f7839-c0e2-4385-b1e6-4538453a285c
[planning-guide-5.2.1]:planning-guide.md#1b287330-944b-495d-9ea7-94b83aff73ef
[planning-guide-5.2.2]:planning-guide.md#57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3
[planning-guide-5.2]:planning-guide.md#6ffb9f41-a292-40bf-9e70-8204448559e7
[planning-guide-5.3.1]:planning-guide.md#6e835de8-40b1-4b71-9f18-d45b20959b79
[planning-guide-5.3.2]:planning-guide.md#a43e40e6-1acc-4633-9816-8f095d5a7b6a
[planning-guide-5.4.2]:planning-guide.md#9789b076-2011-4afa-b2fe-b07a8aba58a1
[planning-guide-5.5.1]:planning-guide.md#4efec401-91e0-40c0-8e64-f2dceadff646
[planning-guide-5.5.3]:planning-guide.md#17e0d543-7e8c-4160-a7da-dd7117a1ad9d
[planning-guide-7.1]:planning-guide.md#3e9c3690-da67-421a-bc3f-12c520d99a30
[planning-guide-7]:planning-guide.md#96a77628-a05e-475d-9df3-fb82217e8f14
[planning-guide-9.1]:planning-guide.md#6f0a47f3-a289-4090-a053-2521618a28c3
[planning-guide-azure-premium-storage]:planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92

[planning-guide-figure-100]:media/virtual-machines-shared-sap-planning-guide/100-single-vm-in-azure.png
[planning-guide-figure-1300]:media/virtual-machines-shared-sap-planning-guide/1300-ref-config-iaas-for-sap.png
[planning-guide-figure-1400]:media/virtual-machines-shared-sap-planning-guide/1400-attach-detach-disks.png
[planning-guide-figure-1600]:media/virtual-machines-shared-sap-planning-guide/1600-firewall-port-rule.png
[planning-guide-figure-1700]:media/virtual-machines-shared-sap-planning-guide/1700-single-vm-demo.png
[planning-guide-figure-1900]:media/virtual-machines-shared-sap-planning-guide/1900-vm-set-vnet.png
[planning-guide-figure-200]:media/virtual-machines-shared-sap-planning-guide/200-multiple-vms-in-azure.png
[planning-guide-figure-2100]:media/virtual-machines-shared-sap-planning-guide/2100-s2s.png
[planning-guide-figure-2200]:media/virtual-machines-shared-sap-planning-guide/2200-network-printing.png
[planning-guide-figure-2300]:media/virtual-machines-shared-sap-planning-guide/2300-sapgui-stms.png
[planning-guide-figure-2400]:media/virtual-machines-shared-sap-planning-guide/2400-vm-extension-overview.png
[planning-guide-figure-2500]:media/virtual-machines-shared-sap-planning-guide/planning-monitoring-overview-2502.png
[planning-guide-figure-2600]:media/virtual-machines-shared-sap-planning-guide/2600-sap-router-connection.png
[planning-guide-figure-2700]:media/virtual-machines-shared-sap-planning-guide/2700-exposed-sap-portal.png
[planning-guide-figure-2800]:media/virtual-machines-shared-sap-planning-guide/2800-endpoint-config.png
[planning-guide-figure-2900]:media/virtual-machines-shared-sap-planning-guide/2900-azure-ha-sap-ha.png
[planning-guide-figure-2901]:media/virtual-machines-shared-sap-planning-guide/2901-azure-ha-sap-ha-md.png
[planning-guide-figure-300]:media/virtual-machines-shared-sap-planning-guide/300-vpn-s2s.png
[planning-guide-figure-3000]:media/virtual-machines-shared-sap-planning-guide/3000-sap-ha-on-azure.png
[planning-guide-figure-3200]:media/virtual-machines-shared-sap-planning-guide/3200-sap-ha-with-sql.png
[planning-guide-figure-3201]:media/virtual-machines-shared-sap-planning-guide/3201-sap-ha-with-sql-md.png
[planning-guide-figure-400]:media/virtual-machines-shared-sap-planning-guide/400-vm-services.png
[planning-guide-figure-600]:media/virtual-machines-shared-sap-planning-guide/600-s2s-details.png
[planning-guide-figure-700]:media/virtual-machines-shared-sap-planning-guide/700-decision-tree-deploy-to-azure.png
[planning-guide-figure-800]:media/virtual-machines-shared-sap-planning-guide/800-portal-vm-overview.png
[planning-guide-microsoft-azure-networking]:planning-guide.md#61678387-8868-435d-9f8c-450b2424f5bd
[planning-guide-storage-microsoft-azure-storage-and-data-disks]:planning-guide.md#a72afa26-4bf4-4a25-8cf7-855d6032157f

[powershell-install-configure]:https://docs.microsoft.com/powershell/azure/install-azurerm-ps
[resource-group-authoring-templates]:../../../resource-group-authoring-templates.md
[resource-group-overview]:../../../azure-resource-manager/resource-group-overview.md
[resource-groups-networking]:../../../virtual-network/resource-groups-networking.md
[sap-pam]:https://support.sap.com/pam
[sap-templates-2-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-2-tier-os-disk]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-disk%2Fazuredeploy.json
[sap-templates-2-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-image%2Fazuredeploy.json
[sap-templates-3-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-3-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-user-image%2Fazuredeploy.json
[storage-azure-cli]:../../../storage/common/storage-azure-cli.md
[storage-azure-cli-copy-blobs]:../../../storage/common/storage-azure-cli.md#copy-blobs
[storage-introduction]:../../../storage/common/storage-introduction.md
[storage-powershell-guide-full-copy-vhd]:../../../storage/common/storage-powershell-guide-full.md#how-to-copy-blobs-from-one-storage-container-to-another
[storage-premium-storage-preview-portal]:../../../storage/common/storage-premium-storage.md
[storage-redundancy]:../../../storage/common/storage-redundancy.md
[storage-scalability-targets]:../../../storage/common/storage-scalability-targets.md
[storage-use-azcopy]:../../../storage/common/storage-use-azcopy.md
[template-201-vm-from-specialized-vhd]:https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-from-specialized-vhd
[templates-101-simple-windows-vm]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-simple-windows-vm
[templates-101-vm-from-user-image]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-from-user-image
[virtual-machines-linux-attach-disk-portal]:../../linux/attach-disk-portal.md
[virtual-machines-azure-resource-manager-architecture]:../../../resource-manager-deployment-model.md
[virtual-machines-azurerm-versus-azuresm]:virtual-machines-linux-compare-deployment-models.md
[virtual-machines-windows-classic-configure-oracle-data-guard]:../../virtual-machines-windows-classic-configure-oracle-data-guard.md
[virtual-machines-linux-cli-deploy-templates]:../../linux/cli-deploy-templates.md
[virtual-machines-deploy-rmtemplates-powershell]:../../virtual-machines-windows-ps-manage.md
[virtual-machines-linux-agent-user-guide]:../../linux/agent-user-guide.md
[virtual-machines-linux-agent-user-guide-command-line-options]:../../linux/agent-user-guide.md#command-line-options
[virtual-machines-linux-capture-image]:../../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager]:../../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager-capture]:../../linux/capture-image.md#step-2-capture-the-vm
[virtual-machines-windows-capture-image-resource-manager]:../../windows/capture-image.md
[virtual-machines-windows-capture-image]:../../virtual-machines-windows-generalize-vhd.md
[virtual-machines-windows-capture-image-prepare-the-vm-for-image-capture]:../../virtual-machines-windows-generalize-vhd.md
[virtual-machines-linux-configure-raid]:../../linux/configure-raid.md
[virtual-machines-linux-configure-lvm]:../../linux/configure-lvm.md
[virtual-machines-linux-classic-create-upload-vhd-step-1]:../../virtual-machines-linux-classic-create-upload-vhd.md#step-1-prepare-the-image-to-be-uploaded
[virtual-machines-linux-create-upload-vhd-suse]:../../linux/suse-create-upload-vhd.md
[virtual-machines-linux-create-upload-vhd-oracle]:../../linux/oracle-create-upload-vhd.md
[virtual-machines-linux-redhat-create-upload-vhd]:../../linux/redhat-create-upload-vhd.md
[virtual-machines-linux-how-to-attach-disk]:../../linux/add-disk.md
[virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]:../../linux/add-disk.md#connect-to-the-linux-vm-to-mount-the-new-disk
[virtual-machines-linux-tutorial]:../../linux/quick-create-cli.md
[virtual-machines-linux-update-agent]:../../linux/update-agent.md
[virtual-machines-manage-availability]:../../linux/manage-availability.md
[virtual-machines-ps-create-preconfigure-windows-resource-manager-vms]:virtual-machines-windows-create-powershell.md
[virtual-machines-sizes-linux]:../../linux/sizes.md
[virtual-machines-sizes-windows]:../../windows/sizes.md
[virtual-machines-windows-classic-ps-sql-alwayson-availability-groups]:./../../windows/sqlclassic/virtual-machines-windows-classic-ps-sql-alwayson-availability-groups.md
[virtual-machines-windows-classic-ps-sql-int-listener]:./../../windows/sqlclassic/virtual-machines-windows-classic-ps-sql-int-listener.md
[virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions]:./../../windows/sql/virtual-machines-windows-sql-high-availability-dr.md
[virtual-machines-sql-server-infrastructure-services]:./../../windows/sql/virtual-machines-windows-sql-server-iaas-overview.md
[virtual-machines-sql-server-performance-best-practices]:./../../windows/sql/virtual-machines-windows-sql-performance.md
[virtual-machines-upload-image-windows-resource-manager]:../../virtual-machines-windows-upload-image.md
[virtual-machines-windows-tutorial]:../../virtual-machines-windows-hero-tutorial.md
[virtual-machines-workload-template-sql-alwayson]:https://azure.microsoft.com/documentation/templates/sql-server-2014-alwayson-dsc/
[virtual-network-deploy-multinic-arm-cli]:../../../virtual-network/virtual-network-deploy-multinic-arm-cli.md
[virtual-network-deploy-multinic-arm-ps]:../../../virtual-network/virtual-network-deploy-multinic-arm-ps.md
[virtual-network-deploy-multinic-arm-template]:../../../virtual-network/virtual-network-deploy-multinic-arm-template.md
[virtual-networks-configure-vnet-to-vnet-connection]:../../../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md
[virtual-networks-create-vnet-arm-pportal]:../../../virtual-network/virtual-networks-create-vnet-arm-pportal.md
[virtual-networks-manage-dns-in-vnet]:../../../virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances.md
[virtual-networks-multiple-nics-windows]:../../windows/multiple-nics.md
[virtual-networks-multiple-nics-linux]:../../linux/multiple-nics.md
[virtual-networks-nsg]:../../../virtual-network/virtual-networks-nsg.md
[virtual-networks-reserved-private-ip]:../../../virtual-network/virtual-networks-static-private-ip-arm-ps.md
[virtual-networks-static-private-ip-arm-pportal]:../../../virtual-network/virtual-networks-static-private-ip-arm-pportal.md
[virtual-networks-udr-overview]:../../../virtual-network/virtual-networks-udr-overview.md
[vpn-gateway-about-vpn-devices]:../../../vpn-gateway/vpn-gateway-about-vpn-devices.md
[vpn-gateway-create-site-to-site-rm-powershell]:../../../vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell.md
[vpn-gateway-cross-premises-options]:../../../vpn-gateway/vpn-gateway-plan-design.md
[vpn-gateway-site-to-site-create]:../../../vpn-gateway/vpn-gateway-site-to-site-create.md
[vpn-gateway-vpn-faq]:../../../vpn-gateway/vpn-gateway-vpn-faq.md
[xplat-cli]:../../../cli-install-nodejs.md
[xplat-cli-azure-resource-manager]:../../../xplat-cli-azure-resource-manager.md
[capture-image-linux-step-2-create-vm-image]:../../linux/capture-image.md#step-2-create-vm-image

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-rm-include.md)]

<span data-ttu-id="0551f-117">Microsoft Azure permet aux ressources de calcul et de stockage de tooacquire entreprises dans le temps minimal sans par de longs cycles.</span><span class="sxs-lookup"><span data-stu-id="0551f-117">Microsoft Azure enables companies tooacquire compute and storage resources in minimal time without lengthy procurement cycles.</span></span> <span data-ttu-id="0551f-118">Machines virtuelles permettent aux entreprises toodeploy des applications classique, comme SAP NetWeaver en fonction des applications dans Azure et étendre leur fiabilité et disponibilité sans avoir davantage de ressources disponibles sur site.</span><span class="sxs-lookup"><span data-stu-id="0551f-118">Azure Virtual Machines allow companies toodeploy classical applications, like SAP NetWeaver based applications into Azure and extend their reliability and availability without having further resources available on-premises.</span></span> <span data-ttu-id="0551f-119">Azure Virtual Machine Services prend également en charge la connectivité entre différents locaux, le tooactively de sociétés permet d’intégrer des Machines virtuelles Azure dans leurs domaines locaux, leurs Clouds privés et leur paysage système SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-119">Azure Virtual Machine Services also supports cross-premises connectivity, which enables companies tooactively integrate Azure Virtual Machines into their on-premises domains, their Private Clouds and their SAP System Landscape.</span></span>
<span data-ttu-id="0551f-120">Ce livre blanc décrit les notions de base hello de la Machine virtuelle Microsoft Azure fournit une vue d’ensemble des considérations de planification et d’implémentation pour les installations SAP NetWeaver dans Azure et devez donc hello document tooread avant de commencer déploiement de SAP NetWeaver sur Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-120">This white paper describes hello fundamentals of Microsoft Azure Virtual Machine and provides a walk-through of planning and implementation considerations for SAP NetWeaver installations in Azure and as such should be hello document tooread before starting actual deployments of SAP NetWeaver on Azure.</span></span>
<span data-ttu-id="0551f-121">Hello papier complète hello Documentation d’Installation SAP et les Notes SAP, qui représentent les ressources principales de hello pour les installations et les déploiements de logiciels SAP sur obtiennent des plateformes.</span><span class="sxs-lookup"><span data-stu-id="0551f-121">hello paper complements hello SAP Installation Documentation and SAP Notes, which represent hello primary resources for installations and deployments of SAP software on given platforms.</span></span>

## <a name="summary"></a><span data-ttu-id="0551f-122">Résumé</span><span class="sxs-lookup"><span data-stu-id="0551f-122">Summary</span></span>
<span data-ttu-id="0551f-123">Le Cloud Computing est un terme largement utilisé, qui prend de plus en plus d’importance dans hello secteur informatique, des petites entreprises, les sociétés toolarge et multinationale.</span><span class="sxs-lookup"><span data-stu-id="0551f-123">Cloud Computing is a widely used term, which is gaining more and more importance within hello IT industry, from small companies up toolarge and multinational corporations.</span></span>

<span data-ttu-id="0551f-124">Microsoft Azure est la plateforme de Services de Cloud de Microsoft, qui offre un large éventail de nouvelles possibilités de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-124">Microsoft Azure is hello Cloud Services Platform from Microsoft, which offers a wide spectrum of new possibilities.</span></span> <span data-ttu-id="0551f-125">Maintenant les clients sont des applications d’approvisionner et configurer des toorapidly en mesure d’en tant que service de cloud de hello, afin qu’ils ne sont pas tootechnical limité ou restrictions budgétisation.</span><span class="sxs-lookup"><span data-stu-id="0551f-125">Now customers are able toorapidly provision and de-provision applications as a service in hello cloud, so they are not limited tootechnical or budgeting restrictions.</span></span> <span data-ttu-id="0551f-126">Au lieu de consacrer du temps et budget à l’infrastructure matérielle, les entreprises peuvent se concentrer sur application hello, des processus d’entreprise et ses avantages pour les clients et les utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="0551f-126">Instead of investing time and budget into hardware infrastructure, companies can focus on hello application, business processes, and its benefits for customers and users.</span></span>

<span data-ttu-id="0551f-127">Avec le service Machines virtuelles Microsoft Azure, Microsoft propose une infrastructure complète sous forme d’infrastructure en tant que service (IaaS).</span><span class="sxs-lookup"><span data-stu-id="0551f-127">With Microsoft Azure Virtual Machine Services, Microsoft offers a comprehensive Infrastructure as a Service (IaaS) platform.</span></span> <span data-ttu-id="0551f-128">Les applications basées sur SAP NetWeaver sont prises en charge sur Machines virtuelles Azure (IaaS).</span><span class="sxs-lookup"><span data-stu-id="0551f-128">SAP NetWeaver based applications are supported on Azure Virtual Machines (IaaS).</span></span> <span data-ttu-id="0551f-129">Ce livre blanc décrit comment tooplan implémentez SAP NetWeaver applications basées sur et dans Microsoft Azure comme plateforme hello de choix.</span><span class="sxs-lookup"><span data-stu-id="0551f-129">This whitepaper describes how tooplan and implement SAP NetWeaver based applications within Microsoft Azure as hello platform of choice.</span></span>

<span data-ttu-id="0551f-130">Hello elle-même se concentre sur deux aspects principaux :</span><span class="sxs-lookup"><span data-stu-id="0551f-130">hello paper itself focuses on two main aspects:</span></span>

* <span data-ttu-id="0551f-131">première partie de Hello décrit deux modèles de déploiement pris en charge pour les applications basées sur SAP NetWeaver sur Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-131">hello first part describes two supported deployment patterns for SAP NetWeaver based applications on Azure.</span></span> <span data-ttu-id="0551f-132">La gestion générale d’Azure avec les déploiements SAP est également abordée.</span><span class="sxs-lookup"><span data-stu-id="0551f-132">It also describes general handling of Azure with SAP deployments in mind.</span></span>
* <span data-ttu-id="0551f-133">Hello deuxième partie détails de l’implémentation hello deux scénarios décrits dans la première partie de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-133">hello second part details implementing hello two different scenarios described in hello first part.</span></span>

<span data-ttu-id="0551f-134">Pour obtenir des ressources supplémentaires, consultez le chapitre [Ressources][planning-guide-1.2] de ce document.</span><span class="sxs-lookup"><span data-stu-id="0551f-134">For additional resources see chapter [Resources][planning-guide-1.2] in this document.</span></span>

### <a name="definitions-upfront"></a><span data-ttu-id="0551f-135">Préambule : définitions</span><span class="sxs-lookup"><span data-stu-id="0551f-135">Definitions upfront</span></span>
<span data-ttu-id="0551f-136">Tout au long du document de hello, nous utilisons hello dispositions suivantes :</span><span class="sxs-lookup"><span data-stu-id="0551f-136">Throughout hello document, we use hello following terms:</span></span>

* <span data-ttu-id="0551f-137">IaaS : Infrastructure as a Service</span><span class="sxs-lookup"><span data-stu-id="0551f-137">IaaS: Infrastructure as a Service</span></span>
* <span data-ttu-id="0551f-138">PaaS : Platform as a Service</span><span class="sxs-lookup"><span data-stu-id="0551f-138">PaaS: Platform as a Service</span></span>
* <span data-ttu-id="0551f-139">SaaS : Software as a Service</span><span class="sxs-lookup"><span data-stu-id="0551f-139">SaaS: Software as a Service</span></span>
* <span data-ttu-id="0551f-140">ARM : Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="0551f-140">ARM: Azure Resource Manager</span></span>
* <span data-ttu-id="0551f-141">Composant SAP : application SAP individuelle telle que ECC, BW, Solution Manager ou EP.</span><span class="sxs-lookup"><span data-stu-id="0551f-141">SAP Component: an individual SAP application such as ECC, BW, Solution Manager, or EP.</span></span>  <span data-ttu-id="0551f-142">Les composants SAP peuvent être basés sur des technologies ABAP ou Java traditionnelles ou une application non basée sur NetWeaver telle que Business Objects.</span><span class="sxs-lookup"><span data-stu-id="0551f-142">SAP components can be based on traditional ABAP or Java technologies or a non-NetWeaver based application such as Business Objects.</span></span>
* <span data-ttu-id="0551f-143">Environnement SAP : un ou plusieurs composants SAP regroupement logiquement tooperform une fonction d’entreprise telles que le développement, Choisissons, formation, récupération d’urgence ou de Production.</span><span class="sxs-lookup"><span data-stu-id="0551f-143">SAP Environment: one or more SAP components logically grouped tooperform a business function such as Development, QAS, Training, DR, or Production.</span></span>
* <span data-ttu-id="0551f-144">Paysage SAP : Cela fait référence à toohello des ressources SAP ensemble dans un client paysage informatique.</span><span class="sxs-lookup"><span data-stu-id="0551f-144">SAP Landscape: This refers toohello entire SAP assets in a customer’s IT landscape.</span></span> <span data-ttu-id="0551f-145">Hello paysage SAP comprend tous les environnements de production et de non-production.</span><span class="sxs-lookup"><span data-stu-id="0551f-145">hello SAP landscape includes all production and non-production environments.</span></span>
* <span data-ttu-id="0551f-146">Système SAP : combinaison de hello de la couche SGBD et de la couche d’application de, par exemple, un système de développement ERP SAP, système de test SAP BW, système de production CRM SAP, etc...</span><span class="sxs-lookup"><span data-stu-id="0551f-146">SAP System: hello combination of DBMS layer and application layer of, for example, an SAP ERP development system, SAP BW test system, SAP CRM production system, etc..</span></span> <span data-ttu-id="0551f-147">Dans les déploiements Azure, il n’est pas pris en charge toodivide ces deux couches entre locaux et Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-147">In Azure deployments, it is not supported toodivide these two layers between on-premises and Azure.</span></span> <span data-ttu-id="0551f-148">Cela signifie qu’un système SAP doit être déployé en local ou dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-148">This means an SAP system is either deployed on-premises or it is deployed in Azure.</span></span> <span data-ttu-id="0551f-149">Toutefois, vous pouvez déployer hello différents systèmes d’un paysage SAP dans Azure ou localement.</span><span class="sxs-lookup"><span data-stu-id="0551f-149">However, you can deploy hello different systems of an SAP landscape into either Azure or on-premises.</span></span> <span data-ttu-id="0551f-150">Par exemple, vous pourriez déployer des systèmes de développement et de test de CRM SAP dans Azure hello mais hello production CRM SAP/système sur site.</span><span class="sxs-lookup"><span data-stu-id="0551f-150">For example, you could deploy hello SAP CRM development and test systems in Azure but hello SAP CRM production system on-premises.</span></span>
* <span data-ttu-id="0551f-151">Déploiement de cloud uniquement : un déploiement où hello abonnement Azure n’est pas connecté via un site à site ou ExpressRoute connexion toohello localement l’infrastructure du réseau.</span><span class="sxs-lookup"><span data-stu-id="0551f-151">Cloud-Only deployment: A deployment where hello Azure subscription is not connected via a site-to-site or ExpressRoute connection toohello on-premises network infrastructure.</span></span> <span data-ttu-id="0551f-152">Dans la documentation Azure courante, ces types de déploiements sont également décrits comme des déploiements « cloud uniquement ».</span><span class="sxs-lookup"><span data-stu-id="0551f-152">In common Azure documentation these kinds of deployments are also described as ‘Cloud-Only’ deployments.</span></span> <span data-ttu-id="0551f-153">Ordinateurs virtuels déployés avec cette méthode sont accessibles via hello internet et une adresse IP publique et/ou un DNS public nommez les machines virtuelles de toohello attribué dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-153">Virtual Machines deployed with this method are accessed through hello internet and a public IP address and/or a public DNS name assigned toohello VMs in Azure.</span></span> <span data-ttu-id="0551f-154">Pour Microsoft Windows hello locale Active Directory (AD) et DNS n’est pas étendu tooAzure dans ces types de déploiement.</span><span class="sxs-lookup"><span data-stu-id="0551f-154">For Microsoft Windows hello on-premises Active Directory (AD) and DNS is not extended tooAzure in these types of deployments.</span></span> <span data-ttu-id="0551f-155">Par conséquent, les machines virtuelles de hello ne font pas partie de hello locale Active Directory.</span><span class="sxs-lookup"><span data-stu-id="0551f-155">Hence hello VMs are not part of hello on-premises Active Directory.</span></span> <span data-ttu-id="0551f-156">Il en est de même pour les implémentations de Linux qui utilisent, par exemple, OpenLDAP + Kerberos.</span><span class="sxs-lookup"><span data-stu-id="0551f-156">Same is true for Linux implementations using, for example, OpenLDAP + Kerberos.</span></span>

> [!NOTE]
> <span data-ttu-id="0551f-157">Dans ce document, les déploiements cloud uniquement sont définis comme des paysages SAP complets, exécutés exclusivement dans Azure sans extension de l’annuaire Active Directory/OpenLDAP ou résolution de noms du site local au cloud public.</span><span class="sxs-lookup"><span data-stu-id="0551f-157">Cloud-Only deployment in this document is defined as complete SAP landscapes are running exclusively in Azure without extension of Active Directory / OpenLDAP  or name resolution from on-premises into public cloud.</span></span> <span data-ttu-id="0551f-158">Les configurations uniquement dans le cloud ne sont pas pris en charge pour les systèmes SAP de production ou les configurations où SAP STMS ou autres ressources sur site doivent toobe utilisé entre les systèmes SAP hébergés sur Azure et aux ressources locales.</span><span class="sxs-lookup"><span data-stu-id="0551f-158">Cloud-Only configurations are not supported for production SAP systems or configurations where SAP STMS or other on-premises resources need toobe used between SAP systems hosted on Azure and resources residing on-premises.</span></span>
>
>

* <span data-ttu-id="0551f-159">Intersite : Décrit un scénario dans lequel les machines virtuelles sont déployée tooan abonnement Azure qui utilise le site à site, plusieurs sites ou ExpressRoute la connectivité entre les centres de local hello et Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-159">Cross-premises: Describes a scenario where VMs are deployed tooan Azure subscription that has site-to-site, multi-site, or ExpressRoute connectivity between hello on-premises datacenter(s) and Azure.</span></span> <span data-ttu-id="0551f-160">Dans la documentation Azure courante, ces types de déploiements sont également décrits comme des scénarios intersites.</span><span class="sxs-lookup"><span data-stu-id="0551f-160">In common Azure documentation, these kinds of deployments are also described as cross-premises scenarios.</span></span> <span data-ttu-id="0551f-161">Hello connexion de hello fait tooextend domaines locaux Active Directory/OpenLDAP locale et DNS sur site dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-161">hello reason for hello connection is tooextend on-premises domains, on-premises Active Directory/OpenLDAP, and on-premises DNS into Azure.</span></span> <span data-ttu-id="0551f-162">Hello local paysage est étendue toohello ressources Azure de l’abonnement de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-162">hello on-premises landscape is extended toohello Azure assets of hello subscription.</span></span> <span data-ttu-id="0551f-163">Avoir cette extension, hello machines virtuelles peut être la partie du domaine local de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-163">Having this extension, hello VMs can be part of hello on-premises domain.</span></span> <span data-ttu-id="0551f-164">Les utilisateurs du domaine local de hello peuvent accéder aux serveurs de hello et exécuter des services sur ces machines virtuelles (comme les services SGBD).</span><span class="sxs-lookup"><span data-stu-id="0551f-164">Domain users of hello on-premises domain can access hello servers and can run services on those VMs (like DBMS services).</span></span> <span data-ttu-id="0551f-165">La communication et la résolution de noms entre les machines virtuelles déployées en local et les machines virtuelles déployées dans Azure sont possibles.</span><span class="sxs-lookup"><span data-stu-id="0551f-165">Communication and name resolution between VMs deployed on-premises and Azure deployed VMs is possible.</span></span> <span data-ttu-id="0551f-166">Il s’agit de scénario hello nous pensons que la plupart des toobe de ressources SAP déployé dans.</span><span class="sxs-lookup"><span data-stu-id="0551f-166">This is hello scenario we expect most SAP assets toobe deployed in.</span></span> <span data-ttu-id="0551f-167">Pour plus d’informations, consultez [cet][vpn-gateway-cross-premises-options] article et [celui-ci][vpn-gateway-site-to-site-create].</span><span class="sxs-lookup"><span data-stu-id="0551f-167">For more information, see [this][vpn-gateway-cross-premises-options] article and [this][vpn-gateway-site-to-site-create].</span></span>

> [!NOTE]
> <span data-ttu-id="0551f-168">Les déploiements intersites de systèmes SAP dans lesquels des machines virtuelles Azure exécutant des systèmes SAP font partie d’un domaine local sont pris en charge pour les systèmes SAP de production.</span><span class="sxs-lookup"><span data-stu-id="0551f-168">Cross-premises deployments of SAP systems where Azure Virtual Machines running SAP systems are members of an on-premises domain are supported for production SAP systems.</span></span> <span data-ttu-id="0551f-169">Les configurations intersites sont prises en charge pour le déploiement d’éléments ou de l’intégralité des paysages SAP dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-169">Cross-premises configurations are supported for deploying parts or complete SAP landscapes into Azure.</span></span> <span data-ttu-id="0551f-170">Même en cours d’exécution paysage SAP complète de hello dans Azure requiert ayant ces machines virtuelles faisant partie d’un domaine local et des annonces/OpenLDAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-170">Even running hello complete SAP landscape in Azure requires having those VMs being part of on-premises domain and ADS/OpenLDAP.</span></span> <span data-ttu-id="0551f-171">Dans les versions précédentes de la documentation de hello, nous avons parlé des scénarios hybrides, où le terme hello « Hybride » associé à des faits hello qu’il existe une connectivité intersite entre locaux et Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-171">In former versions of hello documentation, we talked about Hybrid-IT scenarios, where hello term ‘Hybrid’ is rooted in hello fact that there is a cross-premises connectivity between on-premises and Azure.</span></span> <span data-ttu-id="0551f-172">De plus, les faits hello que machines virtuelles dans Azure hello font partie de hello locale Active Directory / OpenLDAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-172">Plus, hello fact that hello VMs in Azure are part of hello on-premises Active Directory / OpenLDAP.</span></span>
>
>

<span data-ttu-id="0551f-173">Certaines documentations Microsoft décrivent les scénarios intersites de façon légèrement différente, en particulier pour les configurations haute disponibilité SGBD.</span><span class="sxs-lookup"><span data-stu-id="0551f-173">Some Microsoft documentation describes cross-premises scenarios a bit differently, especially for DBMS HA configurations.</span></span> <span data-ttu-id="0551f-174">Dans les cas de hello des documents liés à la SAP de hello, scénario intersite de hello simplement résume toohaving un site à site ou privé (ExpressRoute) connectivité et hello fait que le paysage SAP de hello est distribué entre locaux et Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-174">In hello case of hello SAP-related documents, hello cross-premises scenario just boils down toohaving a site-to-site or private (ExpressRoute) connectivity and hello fact that hello SAP landscape is distributed between on-premises and Azure.</span></span>  

### <span data-ttu-id="0551f-175"><a name="e55d1e22-c2c8-460b-9897-64622a34fdff"></a>Ressources</span><span class="sxs-lookup"><span data-stu-id="0551f-175"><a name="e55d1e22-c2c8-460b-9897-64622a34fdff"></a>Resources</span></span>
<span data-ttu-id="0551f-176">Hello guides supplémentaires suivants sont disponibles pour la rubrique hello des déploiements SAP sur Azure :</span><span class="sxs-lookup"><span data-stu-id="0551f-176">hello following additional guides are available for hello topic of SAP deployments on Azure:</span></span>

* <span data-ttu-id="0551f-177">[Planification et implémentation de machines virtuelles Azure pour SAP NetWeaver (ce document)][planning-guide]</span><span class="sxs-lookup"><span data-stu-id="0551f-177">[Azure Virtual Machines planning and implementation for SAP NetWeaver (this document)][planning-guide]</span></span>
* <span data-ttu-id="0551f-178">[Déploiement de machines virtuelles Azure pour SAP NetWeaver][deployment-guide]</span><span class="sxs-lookup"><span data-stu-id="0551f-178">[Azure Virtual Machines deployment for SAP NetWeaver][deployment-guide]</span></span>
* <span data-ttu-id="0551f-179">[Déploiement SGBD de machines virtuelles Azure pour SAP NetWeaver][dbms-guide]</span><span class="sxs-lookup"><span data-stu-id="0551f-179">[Azure Virtual Machines DBMS deployment for SAP NetWeaver][dbms-guide]</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0551f-180">Chaque fois que possible un toohello lien référence Guide d’Installation SAP est utilisé (référence InstGuide-01, consultez <http://service.sap.com/instguides>).</span><span class="sxs-lookup"><span data-stu-id="0551f-180">Wherever possible a link toohello referring SAP Installation Guide is used (Reference InstGuide-01, see <http://service.sap.com/instguides>).</span></span> <span data-ttu-id="0551f-181">Lorsqu’il s’agit de conditions préalables de toohello et les processus d’installation, Guides d’Installation hello SAP NetWeaver doit toujours être lecture attentive, car ce document couvre uniquement les tâches spécifiques pour les systèmes SAP NetWeaver installés dans une Machine virtuelle Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-181">When it comes toohello prerequisites and installation process, hello SAP NetWeaver Installation Guides should always be read carefully, as this document only covers specific tasks for SAP NetWeaver systems installed in a Microsoft Azure Virtual Machine.</span></span>
>
>

<span data-ttu-id="0551f-182">Hello suit les Notes SAP est rubrique toohello connexes de SAP sur Azure :</span><span class="sxs-lookup"><span data-stu-id="0551f-182">hello following SAP Notes are related toohello topic of SAP on Azure:</span></span>

| <span data-ttu-id="0551f-183">Numéro de la note</span><span class="sxs-lookup"><span data-stu-id="0551f-183">Note number</span></span> | <span data-ttu-id="0551f-184">Intitulé</span><span class="sxs-lookup"><span data-stu-id="0551f-184">Title</span></span> |
| --- | --- |
| <span data-ttu-id="0551f-185">[1928533]</span><span class="sxs-lookup"><span data-stu-id="0551f-185">[1928533]</span></span> |<span data-ttu-id="0551f-186">Applications SAP sur Azure : dimensionnement et produits pris en charge</span><span class="sxs-lookup"><span data-stu-id="0551f-186">SAP Applications on Azure: Supported Products and Sizing</span></span> |
| <span data-ttu-id="0551f-187">[2015553]</span><span class="sxs-lookup"><span data-stu-id="0551f-187">[2015553]</span></span> |<span data-ttu-id="0551f-188">SAP sur Microsoft Azure : configuration requise</span><span class="sxs-lookup"><span data-stu-id="0551f-188">SAP on Microsoft Azure: Support Prerequisites</span></span> |
| <span data-ttu-id="0551f-189">[1999351]</span><span class="sxs-lookup"><span data-stu-id="0551f-189">[1999351]</span></span> |<span data-ttu-id="0551f-190">Résolution des problèmes de surveillance Azure améliorée pour SAP</span><span class="sxs-lookup"><span data-stu-id="0551f-190">Troubleshooting Enhanced Azure Monitoring for SAP</span></span> |
| <span data-ttu-id="0551f-191">[2178632]</span><span class="sxs-lookup"><span data-stu-id="0551f-191">[2178632]</span></span> |<span data-ttu-id="0551f-192">Métriques de surveillance clés pour SAP sur Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-192">Key Monitoring Metrics for SAP on Microsoft Azure</span></span> |
| <span data-ttu-id="0551f-193">[1409604]</span><span class="sxs-lookup"><span data-stu-id="0551f-193">[1409604]</span></span> |<span data-ttu-id="0551f-194">Virtualisation sur Windows : surveillance améliorée</span><span class="sxs-lookup"><span data-stu-id="0551f-194">Virtualization on Windows: Enhanced Monitoring</span></span> |
| <span data-ttu-id="0551f-195">[2191498]</span><span class="sxs-lookup"><span data-stu-id="0551f-195">[2191498]</span></span> |<span data-ttu-id="0551f-196">SAP sur Linux avec Azure : surveillance améliorée</span><span class="sxs-lookup"><span data-stu-id="0551f-196">SAP on Linux with Azure: Enhanced Monitoring</span></span> |
| <span data-ttu-id="0551f-197">[2243692]</span><span class="sxs-lookup"><span data-stu-id="0551f-197">[2243692]</span></span> |<span data-ttu-id="0551f-198">Linux sur Microsoft Azure Virtual Machines (IaaS) : problèmes de licence SAP</span><span class="sxs-lookup"><span data-stu-id="0551f-198">Linux on Microsoft Azure (IaaS) VM: SAP license issues</span></span> |
| <span data-ttu-id="0551f-199">[1984787]</span><span class="sxs-lookup"><span data-stu-id="0551f-199">[1984787]</span></span> |<span data-ttu-id="0551f-200">SUSE LINUX Enterprise Server 12 : Notes d’installation</span><span class="sxs-lookup"><span data-stu-id="0551f-200">SUSE LINUX Enterprise Server 12: Installation notes</span></span> |
| <span data-ttu-id="0551f-201">[2002167]</span><span class="sxs-lookup"><span data-stu-id="0551f-201">[2002167]</span></span> |<span data-ttu-id="0551f-202">Red Hat Enterprise Linux 7.x : Installation et mise à niveau</span><span class="sxs-lookup"><span data-stu-id="0551f-202">Red Hat Enterprise Linux 7.x: Installation and Upgrade</span></span> |
| <span data-ttu-id="0551f-203">[2069760]</span><span class="sxs-lookup"><span data-stu-id="0551f-203">[2069760]</span></span> |<span data-ttu-id="0551f-204">Installation et mise à niveau SAP pour Oracle Linux 7.x</span><span class="sxs-lookup"><span data-stu-id="0551f-204">Oracle Linux 7.x SAP Installation and Upgrade</span></span> |
| <span data-ttu-id="0551f-205">[1597355]</span><span class="sxs-lookup"><span data-stu-id="0551f-205">[1597355]</span></span> |<span data-ttu-id="0551f-206">Recommandations relatives à l’espace d’échange pour Linux</span><span class="sxs-lookup"><span data-stu-id="0551f-206">Swap-space recommendation for Linux</span></span> |

<span data-ttu-id="0551f-207">Également lire hello [SCN Wiki](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) qui contient toutes les Notes SAP pour Linux.</span><span class="sxs-lookup"><span data-stu-id="0551f-207">Also read hello [SCN Wiki](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) that contains all SAP Notes for Linux.</span></span>

<span data-ttu-id="0551f-208">Les limitations générales par défaut et les limitations maximales des abonnements Azure sont exposées dans [cet article][azure-subscription-service-limits-subscription].</span><span class="sxs-lookup"><span data-stu-id="0551f-208">General default limitations and maximum limitations of Azure subscriptions can be found in [this article][azure-subscription-service-limits-subscription].</span></span>

## <a name="possible-scenarios"></a><span data-ttu-id="0551f-209">Scénarios possibles</span><span class="sxs-lookup"><span data-stu-id="0551f-209">Possible Scenarios</span></span>
<span data-ttu-id="0551f-210">SAP est souvent considéré comme une des applications plus critiques de hello au sein des entreprises.</span><span class="sxs-lookup"><span data-stu-id="0551f-210">SAP is often seen as one of hello most mission-critical applications within enterprises.</span></span> <span data-ttu-id="0551f-211">architecture de Hello et les opérations de ces applications sont généralement très complexes, et il est important de s’assurer que vous répondent aux exigences de disponibilité et les performances.</span><span class="sxs-lookup"><span data-stu-id="0551f-211">hello architecture and operations of these applications is mostly very complex and ensuring that you meet requirements on availability and performance is important.</span></span>

<span data-ttu-id="0551f-212">Les entreprises doivent donc toothink avec précaution sur les applications peuvent être exécutées dans un environnement de cloud public, indépendant du fournisseur de cloud hello choisi.</span><span class="sxs-lookup"><span data-stu-id="0551f-212">Thus enterprises have toothink carefully about which applications can be run in a public cloud environment, independent of hello chosen cloud provider.</span></span>

<span data-ttu-id="0551f-213">Les types de systèmes possibles pour le déploiement des applications basées sur SAP NetWeaver dans des environnements de cloud public sont répertoriés ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="0551f-213">Possible system types for deploying SAP NetWeaver based applications within public cloud environments are listed below:</span></span>

1. <span data-ttu-id="0551f-214">Systèmes de production de taille moyenne</span><span class="sxs-lookup"><span data-stu-id="0551f-214">Medium-sized production systems</span></span>
2. <span data-ttu-id="0551f-215">Systèmes de développement</span><span class="sxs-lookup"><span data-stu-id="0551f-215">Development systems</span></span>
3. <span data-ttu-id="0551f-216">Systèmes de test</span><span class="sxs-lookup"><span data-stu-id="0551f-216">Testing systems</span></span>
4. <span data-ttu-id="0551f-217">Systèmes de prototype</span><span class="sxs-lookup"><span data-stu-id="0551f-217">Prototype systems</span></span>
5. <span data-ttu-id="0551f-218">Systèmes de démonstration/formation</span><span class="sxs-lookup"><span data-stu-id="0551f-218">Learning / Demonstration systems</span></span>

<span data-ttu-id="0551f-219">Dans l’ordre toosuccessfully déployer des systèmes SAP dans Azure IaaS ou IaaS en général, il est important toounderstand hello différences entre les offres hello d’Infogérants traditionnels ou des hébergeurs et offres IaaS.</span><span class="sxs-lookup"><span data-stu-id="0551f-219">In order toosuccessfully deploy SAP systems into either Azure IaaS or IaaS in general, it is important toounderstand hello significant differences between hello offerings of traditional outsourcers or hosters and IaaS offerings.</span></span> <span data-ttu-id="0551f-220">Alors que l’hébergeur traditionnelles de hello ou infogérant adapte la charge de travail toohello infrastructure (réseau, stockage et type de serveur) un client souhaite toohost, il est à la place responsabilité toochoose hello charge de travail du client hello pour les déploiements IaaS.</span><span class="sxs-lookup"><span data-stu-id="0551f-220">Whereas hello traditional hoster or outsourcer adapts infrastructure (network, storage and server type) toohello workload a customer wants toohost, it is instead hello customer’s responsibility toochoose hello right workload for IaaS deployments.</span></span>

<span data-ttu-id="0551f-221">Dans un premier temps, les clients doivent hello tooverify éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="0551f-221">As a first step, customers need tooverify hello following items:</span></span>

* <span data-ttu-id="0551f-222">Hello SAP pris en charge les types de machine virtuelle de Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-222">hello SAP supported VM types of Azure</span></span>
* <span data-ttu-id="0551f-223">Hello SAP pris en charge les produits/versions sur Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-223">hello SAP supported products/releases on Azure</span></span>
* <span data-ttu-id="0551f-224">Hello pris en charge les versions de système d’exploitation et SGBD pour hello que des versions SAP dans Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-224">hello supported OS and DBMS releases for hello specific SAP releases in Azure</span></span>
* <span data-ttu-id="0551f-225">Le débit SAPS (SAP Application Performance Standard) fourni par différentes références Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-225">SAPS throughput provided by different Azure SKUs</span></span>

<span data-ttu-id="0551f-226">Hello réponses toothese questions peuvent être lus dans la Note SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="0551f-226">hello answers toothese questions can be read in SAP Note [1928533].</span></span>

<span data-ttu-id="0551f-227">Dans un deuxième temps, des limitations de la bande passante et de ressources Azure doivent la consommation des ressources tooactual toobe comparée de systèmes locaux.</span><span class="sxs-lookup"><span data-stu-id="0551f-227">As a second step, Azure resource and bandwidth limitations need toobe compared tooactual resource consumption of on-premises systems.</span></span> <span data-ttu-id="0551f-228">Par conséquent, toobe du besoin clients familiarisé avec des fonctionnalités différentes hello de hello types Azure pris en charge avec SAP dans la zone hello de :</span><span class="sxs-lookup"><span data-stu-id="0551f-228">Therefore, customers need toobe familiar with hello different capabilities of hello Azure types supported with SAP in hello area of:</span></span>

* <span data-ttu-id="0551f-229">Les ressources processeur et mémoire des différents types de machines virtuelles</span><span class="sxs-lookup"><span data-stu-id="0551f-229">CPU and memory resources of different VM types and</span></span>
* <span data-ttu-id="0551f-230">La bande passante et les E/S par seconde des différents types de machines virtuelles</span><span class="sxs-lookup"><span data-stu-id="0551f-230">IOPS bandwidth of different VM types and</span></span>
* <span data-ttu-id="0551f-231">Les fonctionnalités réseau des différents types de machines virtuelles</span><span class="sxs-lookup"><span data-stu-id="0551f-231">Network capabilities of different VM types.</span></span>

<span data-ttu-id="0551f-232">Vous trouverez la plupart de ces données [ici (Linux)][virtual-machines-sizes-linux] et [ici (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="0551f-232">Most of that data can be found [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="0551f-233">N’oubliez pas que hello limites indiquées dans le lien hello ci-dessus sont des limites supérieures.</span><span class="sxs-lookup"><span data-stu-id="0551f-233">Keep in mind that hello limits listed in hello link above are upper limits.</span></span> <span data-ttu-id="0551f-234">Cela ne signifie pas que les limites de hello pour les ressources de hello, par exemple e/s peut être fourni en toutes circonstances.</span><span class="sxs-lookup"><span data-stu-id="0551f-234">It does not mean that hello limits for any of hello resources, for example IOPS can be provided under all circumstances.</span></span> <span data-ttu-id="0551f-235">exceptions de Hello sont bien que les ressources de processeur et mémoire hello d’un type de machine virtuelle choisi.</span><span class="sxs-lookup"><span data-stu-id="0551f-235">hello exceptions though are hello CPU and memory resources of a chosen VM type.</span></span> <span data-ttu-id="0551f-236">Pour les types de machine virtuelle hello pris en charge par SAP, les ressources processeur et mémoire hello sont réservées et donc consommables à n’importe quel point dans le temps pour la consommation dans hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-236">For hello VM types supported by SAP, hello CPU and memory resources are reserved and as such available at any point in time for consumption within hello VM.</span></span>

<span data-ttu-id="0551f-237">plateforme de Microsoft Azure Hello, comme d’autres plateformes IaaS est une plateforme mutualisée.</span><span class="sxs-lookup"><span data-stu-id="0551f-237">hello Microsoft Azure platform like other IaaS platforms is a multi-tenant platform.</span></span> <span data-ttu-id="0551f-238">Cela signifie que le stockage, le réseau et toutes les autres ressources sont partagés entre des locataires.</span><span class="sxs-lookup"><span data-stu-id="0551f-238">This means that storage, network, and other resources are shared between tenants.</span></span> <span data-ttu-id="0551f-239">Logique de limitation et de quota intelligente est locataire utilisé tooprevent celui d’affecter les performances hello d’une autre locataire (syndrome du voisin) de manière drastique.</span><span class="sxs-lookup"><span data-stu-id="0551f-239">Intelligent throttling and quota logic is used tooprevent one tenant from impacting hello performance of another tenant (noisy neighbor) in a drastic way.</span></span> <span data-ttu-id="0551f-240">Bien que la logique dans Azure vise tookeep des écarts dans la bande passante expérimentés plateformes de petite taille, hautement partagées ont tendance toointroduce écarts dans la disponibilité des ressources et bande passante que de nombreux clients sont utilisé tooin leurs déploiements sur site.</span><span class="sxs-lookup"><span data-stu-id="0551f-240">Though logic in Azure tries tookeep variances in bandwidth experienced small, highly shared platforms tend toointroduce larger variances in resource/bandwidth availability than many customers are used tooin their on-premises deployments.</span></span> <span data-ttu-id="0551f-241">Par conséquent, vous pouvez rencontrer des différents niveaux de la bande passante sur le réseau ou le stockage d’e/s (volume de hello ainsi que la latence) à partir de toominute minute.</span><span class="sxs-lookup"><span data-stu-id="0551f-241">As a result, you might experience different levels of bandwidth regarding networking or storage I/O (hello volume as well as latency) from minute toominute.</span></span> <span data-ttu-id="0551f-242">probabilité Hello qu’un système SAP sur Azure écarts supérieurs à un système local doit toobe pris en compte.</span><span class="sxs-lookup"><span data-stu-id="0551f-242">hello probability that an SAP system on Azure could experience larger variances than in an on-premises system needs toobe taken into account.</span></span>

<span data-ttu-id="0551f-243">La dernière étape consiste à tooevaluate des exigences de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="0551f-243">A last step is tooevaluate availability requirements.</span></span> <span data-ttu-id="0551f-244">Il peut se produire, ce hello sous-jacent d’infrastructure Azure nécessite des hôtes hello toobe de machines virtuelles redémarré en cours d’exécution et tooget mis à jour.</span><span class="sxs-lookup"><span data-stu-id="0551f-244">It can happen, that hello underlying Azure infrastructure needs tooget updated and requires hello hosts running VMs toobe rebooted.</span></span> <span data-ttu-id="0551f-245">Dans ce cas, les machines virtuelles en cours d’exécution sur ces hôtes doivent également être arrêtées et redémarrées.</span><span class="sxs-lookup"><span data-stu-id="0551f-245">In these cases, VMs running on those hosts would be shut down and restarted as well.</span></span> <span data-ttu-id="0551f-246">minutage Hello de maintenance de ce type est effectuée pendant les heures non principal pour une région particulière, mais fenêtre potentielle de hello de quelques heures pendant lesquelles un redémarrage a lieu est relativement large.</span><span class="sxs-lookup"><span data-stu-id="0551f-246">hello timing of such maintenance is done during non-core business hours for a particular region but hello potential window of a few hours during which a restart will occur is relatively wide.</span></span> <span data-ttu-id="0551f-247">Il existe différentes technologies dans hello plateforme Azure qui peut être configuré toomitigate certaines ou toutes hello une incidence sur ces mises à jour.</span><span class="sxs-lookup"><span data-stu-id="0551f-247">There are various technologies within hello Azure platform that can be configured toomitigate some or all of hello impact of such updates.</span></span> <span data-ttu-id="0551f-248">Améliorations futures de hello plateforme Azure, SGBD, et l’application SAP sont conçu impact de hello toominimize de ces redémarrages.</span><span class="sxs-lookup"><span data-stu-id="0551f-248">Future enhancements of hello Azure platform, DBMS, and SAP application are designed toominimize hello impact of such restarts.</span></span>

<span data-ttu-id="0551f-249">Dans l’ordre toosuccessfully déployer un système SAP sur Azure, hello locaux systèmes SAP système d’exploitation, base de données, et les applications SAP doivent apparaître sur hello Azure SAP matrice de prise en charge, ajuste hello ressources hello infrastructure Azure peut fournir et qui peut fonctionner avec hello que disponibilité SLA Microsoft Azure offre.</span><span class="sxs-lookup"><span data-stu-id="0551f-249">In order toosuccessfully deploy an SAP system onto Azure, hello on-premises SAP system(s) Operating System, Database, and SAP applications must appear on hello SAP Azure support matrix, fit within hello resources hello Azure infrastructure can provide and which can work with hello Availability SLAs Microsoft Azure offers.</span></span> <span data-ttu-id="0551f-250">Une fois ces systèmes identifiés, vous devez toodecide sur l’un des hello deux scénarios de déploiement suivants.</span><span class="sxs-lookup"><span data-stu-id="0551f-250">As those systems are identified, you need toodecide on one of hello following two deployment scenarios.</span></span>

### <span data-ttu-id="0551f-251"><a name="1625df66-4cc6-4d60-9202-de8a0b77f803"></a>Uniquement dans le cloud - déploiements d’ordinateurs virtuels dans Azure sans dépendances sur hello local réseau client</span><span class="sxs-lookup"><span data-stu-id="0551f-251"><a name="1625df66-4cc6-4d60-9202-de8a0b77f803"></a>Cloud-Only - Virtual Machine deployments into Azure without dependencies on hello on-premises customer network</span></span>
![Machine virtuelle unique avec scénario de démonstration ou de formation SAP dans Azure][planning-guide-figure-100]

<span data-ttu-id="0551f-253">Ce scénario est caractéristique de formations ou de systèmes de démonstration, où tous les composants de hello de SAP et de logiciels non-SAP sont installés au sein d’une seule machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-253">This scenario is typical for trainings or demo systems, where all hello components of SAP and non-SAP software are installed within a single VM.</span></span> <span data-ttu-id="0551f-254">Les systèmes SAP de production ne sont pas pris en charge dans ce scénario de déploiement.</span><span class="sxs-lookup"><span data-stu-id="0551f-254">Production SAP systems are not supported in this deployment scenario.</span></span> <span data-ttu-id="0551f-255">En général, ce scénario répond aux hello suivant les exigences :</span><span class="sxs-lookup"><span data-stu-id="0551f-255">In general, this scenario meets hello following requirements:</span></span>

* <span data-ttu-id="0551f-256">machines virtuelles Hello elles-mêmes sont accessibles via un réseau public hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-256">hello VMs themselves are accessible over hello public network.</span></span> <span data-ttu-id="0551f-257">Connectivité réseau directe pour les applications hello en cours d’exécution dans toohello de machines virtuelles hello local réseau de l’entreprise hello propriétaire de contenu de démonstrations ou de formations hello ou client de hello n’est pas nécessaire.</span><span class="sxs-lookup"><span data-stu-id="0551f-257">Direct network connectivity for hello applications running within hello VMs toohello on-premises network of either hello company owning hello demos or trainings content or hello customer is not necessary.</span></span>
* <span data-ttu-id="0551f-258">En cas de plusieurs machines virtuelles de la représentant les formations hello ou scénario de démonstration, résolution de communications et le nom de réseau doit toowork entre les machines virtuelles de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-258">In case of multiple VMs representing hello trainings or demo scenario, network communications and name resolution needs toowork between hello VMs.</span></span> <span data-ttu-id="0551f-259">Mais les communications entre le groupe hello de machines virtuelles doivent toobe isolé afin que plusieurs ensembles d’ordinateurs virtuels peuvent être déployées côte à côte sans interférence.</span><span class="sxs-lookup"><span data-stu-id="0551f-259">But communications between hello set of VMs need toobe isolated so that several sets of VMs can be deployed side by side without interference.</span></span>  
* <span data-ttu-id="0551f-260">Connectivité Internet est nécessaire pour la connexion de tooremote hello utilisateur final dans toohello que machines virtuelles hébergées dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-260">Internet connectivity is required for hello end user tooremote login into toohello VMs hosted in Azure.</span></span> <span data-ttu-id="0551f-261">Selon le système d’exploitation invité de hello, les Services Terminal Server/RDS ou VNC/ssh est utilisé tooaccess hello VM tooeither répondre aux tâches de formation hello ou effectuer des démonstrations de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-261">Depending on hello guest OS, Terminal Services/RDS or VNC/ssh is used tooaccess hello VM tooeither fulfill hello training tasks or perform hello demos.</span></span> <span data-ttu-id="0551f-262">Si les ports de SAP comme 3200, 3300 et 3600 peut également être exposés instance d’application SAP hello est accessible à partir de n’importe quel bureau connecté Internet.</span><span class="sxs-lookup"><span data-stu-id="0551f-262">If SAP ports such as 3200, 3300 & 3600 can also be exposed hello SAP application instance can be accessed from any Internet connected desktop.</span></span>
* <span data-ttu-id="0551f-263">Hello ou les systèmes SAP (et constituent un scénario autonome dans Azure, ce qui nécessite la connectivité internet pour l’accès de l’utilisateur final uniquement et qui ne nécessite pas un tooother de connexion des machines virtuelles dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-263">hello SAP system(s) (and VM(s)) represent a standalone scenario in Azure, which only requires public internet connectivity for end-user access and does not require a connection tooother VMs in Azure.</span></span>
* <span data-ttu-id="0551f-264">Interface utilisateur graphique SAP et un navigateur sont installés et exécutés directement sur hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-264">SAPGUI and a browser are installed and run directly on hello VM.</span></span>
* <span data-ttu-id="0551f-265">Une réinitialisation rapide d’un état d’origine toohello des ordinateurs virtuels et le nouveau déploiement de cet état d’origine sont requises.</span><span class="sxs-lookup"><span data-stu-id="0551f-265">A fast reset of a VM toohello original state and new deployment of that original state again is required.</span></span>
* <span data-ttu-id="0551f-266">Dans le cas de hello de démonstration et les scénarios de formation, qui sont réalisé dans plusieurs machines virtuelles, un annuaire Active Directory OpenLDAP et/ou un service DNS est obligatoire pour chaque groupe de machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="0551f-266">In hello case of demo and training scenarios, which are realized in multiple VMs, an Active Directory / OpenLDAP and/or DNS service is required for each set of VMs.</span></span>

![Groupe de machines virtuelles représentant un scénario de formation ou de démonstration dans un service cloud Azure][planning-guide-figure-200]

<span data-ttu-id="0551f-268">Il est important de tookeep à l’esprit que hello des machines virtuelles dans chacun des hello définit toobe besoin déployée en parallèle, où les noms de machine virtuelle hello dans chaque jeu de hello sont même hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-268">It is important tookeep in mind that hello VM(s) in each of hello sets need toobe deployed in parallel, where hello VM names in each of hello set are hello same.</span></span>

### <span data-ttu-id="0551f-269"><a name="f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10"></a>Entre sites - déploiement d’une ou plusieurs machines virtuelles SAP dans Azure avec spécification hello intégration complète dans le réseau local de hello</span><span class="sxs-lookup"><span data-stu-id="0551f-269"><a name="f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10"></a>Cross-Premises - Deployment of single or multiple SAP VMs into Azure with hello requirement of being fully integrated into hello on-premises network</span></span>
![Réseau privé virtuel avec connectivité de site à site (intersite)][planning-guide-figure-300]

<span data-ttu-id="0551f-271">Ce scénario est un scénario intersite où de nombreux modèles de déploiement sont possibles.</span><span class="sxs-lookup"><span data-stu-id="0551f-271">This scenario is a cross-premises scenario with many possible deployment patterns.</span></span> <span data-ttu-id="0551f-272">Il peut être décrit comme simplement que l’exécution de certaines parties de hello SAP paysage local et d’autres parties de hello paysage SAP sur Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-272">It can be described as simply as running some parts of hello SAP landscape on-premises and other parts of hello SAP landscape on Azure.</span></span> <span data-ttu-id="0551f-273">Tous les aspects de faits de hello partie des composants SAP hello s’exécutent dans Azure doivent être transparentes pour les utilisateurs finaux.</span><span class="sxs-lookup"><span data-stu-id="0551f-273">All aspects of hello fact that part of hello SAP components are running on Azure should be transparent for end users.</span></span> <span data-ttu-id="0551f-274">Par conséquent, hello SAP Transport Correction système STMS (), la Communication RFC, impression, sécurité (comme SSO), etc. fonctionnent de façon transparente pour les systèmes SAP hello s’exécutant sur Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-274">Hence hello SAP Transport Correction System (STMS), RFC Communication, Printing, Security (like SSO), etc. work seamlessly for hello SAP systems running on Azure.</span></span> <span data-ttu-id="0551f-275">Mais le scénario de coexistence hello décrit également un scénario où les paysage SAP complète hello s’exécute dans Azure avec le domaine du client hello et DNS étendu dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-275">But hello cross-premises scenario also describes a scenario where hello complete SAP landscape runs in Azure with hello customer’s domain and DNS extended into Azure.</span></span>

> [!NOTE]
> <span data-ttu-id="0551f-276">Il s’agit de scénario de déploiement hello, qui est pris en charge pour l’exécution de systèmes SAP de production.</span><span class="sxs-lookup"><span data-stu-id="0551f-276">This is hello deployment scenario, which is supported for running productive SAP systems.</span></span>
>
>

<span data-ttu-id="0551f-277">Lecture [cet article] [ vpn-gateway-create-site-to-site-rm-powershell] pour plus d’informations sur la façon de tooconnect votre site réseau tooMicrosoft Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-277">Read [this article][vpn-gateway-create-site-to-site-rm-powershell] for more information on how tooconnect your on-premises network tooMicrosoft Azure</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0551f-278">Lorsque nous parlons de scénarios intersite entre les déploiements de clients locaux et Azure, nous recherchons la granularité hello de systèmes SAP entiers.</span><span class="sxs-lookup"><span data-stu-id="0551f-278">When we are talking about cross-premises scenarios between Azure and on-premises customer deployments, we are looking at hello granularity of whole SAP systems.</span></span> <span data-ttu-id="0551f-279">Les scénarios *non pris en charge* pour les situations intersites sont les suivants :</span><span class="sxs-lookup"><span data-stu-id="0551f-279">Scenarios which are *not supported* for cross-premises scenarios are:</span></span>
>
> * <span data-ttu-id="0551f-280">L’exécution de différentes couches des applications SAP avec diverses méthodes de déploiement.</span><span class="sxs-lookup"><span data-stu-id="0551f-280">Running different layers of SAP applications in different deployment methods.</span></span> <span data-ttu-id="0551f-281">Par exemple en cours d’exécution hello SGBD couche localement, mais couche d’application hello SAP dans des machines virtuelles déployées en tant que machines virtuelles Azure ou vice versa.</span><span class="sxs-lookup"><span data-stu-id="0551f-281">For example running hello DBMS layer on-premises, but hello SAP application layer in VMs deployed as Azure VMs or vice versa.</span></span>
> * <span data-ttu-id="0551f-282">Le fractionnement de certains composants d’une couche SAP dans Azure et d’autres en local.</span><span class="sxs-lookup"><span data-stu-id="0551f-282">Some components of an SAP layer in Azure and some on-premises.</span></span> <span data-ttu-id="0551f-283">Par exemple fractionnement des Instances de la couche d’application SAP hello entre les machines virtuelles Azure et locaux.</span><span class="sxs-lookup"><span data-stu-id="0551f-283">For example splitting Instances of hello SAP application layer between on-premises and Azure VMs.</span></span>
> * <span data-ttu-id="0551f-284">La répartition de machines virtuelles exécutant des instances d’un système dans plusieurs régions Azure n’est pas prise en charge.</span><span class="sxs-lookup"><span data-stu-id="0551f-284">Distribution of VMs running SAP instances of one system over multiple Azure Regions is not supported.</span></span>
>
> <span data-ttu-id="0551f-285">Hello ces restrictions fait exigence hello pour un réseau de haute performance très faible latence dans un système SAP, en particulier entre les instances de l’application hello et la couche de SGBD hello d’un système SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-285">hello reason for these restrictions is hello requirement for a very low latency high-performance network within one SAP system, especially between hello application instances and hello DBMS layer of an SAP system.</span></span>
>
>

### <a name="supported-os-and-database-releases"></a><span data-ttu-id="0551f-286">Versions de base de données et de système d’exploitation prises en charge</span><span class="sxs-lookup"><span data-stu-id="0551f-286">Supported OS and Database Releases</span></span>
* <span data-ttu-id="0551f-287">Les logiciels serveurs Microsoft pris en charge par les services de machine virtuelle Azure sont répertoriés dans l’article suivant : <http://support.microsoft.com/kb/2721672>.</span><span class="sxs-lookup"><span data-stu-id="0551f-287">Microsoft server software supported for Azure Virtual Machine Services is listed in this article: <http://support.microsoft.com/kb/2721672>.</span></span>
* <span data-ttu-id="0551f-288">Les versions de système d’exploitation et de base de données prises en charge sur les services de machine virtuelle Azure conjointement avec les logiciels SAP sont mentionnées dans la Note de SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="0551f-288">Supported operating system releases, database system releases supported on Azure Virtual Machine Services in conjunction with SAP software are documented in SAP Note [1928533].</span></span>
* <span data-ttu-id="0551f-289">Les applications et versions de SAP prises en charge sur les services de machine virtuelle Azure sont mentionnées dans la Note de SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="0551f-289">SAP applications and releases supported on Azure Virtual Machine Services are documented in SAP Note [1928533].</span></span>
* <span data-ttu-id="0551f-290">Seules les images 64 bits sont toorun pris en charge en tant que machines virtuelles invitées dans Azure pour les scénarios SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-290">Only 64Bit images are supported toorun as Guest VMs in Azure for SAP scenarios.</span></span> <span data-ttu-id="0551f-291">Cela signifie également que seules les bases de données et applications SAP 64 bits sont prises en charge.</span><span class="sxs-lookup"><span data-stu-id="0551f-291">This also means that only 64-bit SAP applications and databases are supported.</span></span>

## <a name="microsoft-azure-virtual-machine-services"></a><span data-ttu-id="0551f-292">Microsoft Azure Virtual Machine Services</span><span class="sxs-lookup"><span data-stu-id="0551f-292">Microsoft Azure Virtual Machine Services</span></span>
<span data-ttu-id="0551f-293">plateforme de Microsoft Azure Hello est un nuage internet à l’échelle de plateforme de services hébergés et exploitée dans Microsoft les données des centres de.</span><span class="sxs-lookup"><span data-stu-id="0551f-293">hello Microsoft Azure platform is an internet-scale cloud services platform hosted and operated in Microsoft data centers.</span></span> <span data-ttu-id="0551f-294">plateforme de Hello inclut hello Microsoft Azure Virtual Machine Services (Infrastructure en tant que Service, ou IaaS) et un ensemble de la plateforme en tant que des fonctionnalités de Service (PaaS).</span><span class="sxs-lookup"><span data-stu-id="0551f-294">hello platform includes hello Microsoft Azure Virtual Machine Services (Infrastructure as a Service, or IaaS) and a set of rich Platform as a Service (PaaS) capabilities.</span></span>

<span data-ttu-id="0551f-295">Hello plateforme Azure évite hello investir dans des technologies et des achats de l’infrastructure.</span><span class="sxs-lookup"><span data-stu-id="0551f-295">hello Azure platform reduces hello need for up-front technology and infrastructure purchases.</span></span> <span data-ttu-id="0551f-296">Elle simplifie la gestion et fonctionnement des applications en fournissant à la demande toohost de calcul et de stockage, l’échelle et gérer une application web et des applications connectées.</span><span class="sxs-lookup"><span data-stu-id="0551f-296">It simplifies maintaining and operating applications by providing on-demand compute and storage toohost, scale, and manage web application and connected applications.</span></span> <span data-ttu-id="0551f-297">Gestion de l’infrastructure est dynamique toomatch des besoins d’utilisation avec l’option hello d’un modèle de tarification de paiement à l’utilisation de mise à l’échelle et automatisée avec une plateforme qui est conçue pour la haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="0551f-297">Infrastructure management is automated with a platform that is designed for high availability and dynamic scaling toomatch usage needs with hello option of a pay-as-you-go pricing model.</span></span>

![Positionnement des services Microsoft Azure Virtual Machine][planning-guide-figure-400]

<span data-ttu-id="0551f-299">Avec les Services de Machine virtuelle Azure, Microsoft est ce qui vous toodeploy serveur personnalisé images tooAzure en tant qu’instances IaaS (voir Figure 4).</span><span class="sxs-lookup"><span data-stu-id="0551f-299">With Azure Virtual Machine Services, Microsoft is enabling you toodeploy custom server images tooAzure as IaaS instances (see Figure 4).</span></span> <span data-ttu-id="0551f-300">Hello Machines virtuelles dans Azure reposent sur des disques durs virtuels (VHD) Hyper-V et sont en mesure de toorun différents systèmes d’exploitation en tant que système d’exploitation invité.</span><span class="sxs-lookup"><span data-stu-id="0551f-300">hello Virtual Machines in Azure are based on Hyper-V virtual hard drives (VHD) and are able toorun different operating systems as Guest OS.</span></span>

<span data-ttu-id="0551f-301">À partir d’un point de vue opérationnel, hello Qu'azure Virtual Machine Services offre semblable expériences en tant que machines virtuelles déployées en local.</span><span class="sxs-lookup"><span data-stu-id="0551f-301">From an operational perspective, hello Azure Virtual Machine Service offers similar experiences as virtual machines deployed on premises.</span></span> <span data-ttu-id="0551f-302">Toutefois, il présente l’avantage significatif hello que vous n’avez pas besoin tooprocure, administrer et gérer leur infrastructure hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-302">However, it has hello significant advantage that you don’t need tooprocure, administer, and manage hello infrastructure.</span></span> <span data-ttu-id="0551f-303">Les développeurs et les administrateurs ont un contrôle total de l’image de système d’exploitation hello dans ces machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="0551f-303">Developers and Administrators have full control of hello operating system image within these virtual machines.</span></span> <span data-ttu-id="0551f-304">Les administrateurs peuvent se connecter à distance toothose virtuels tooperform maintenance et le dépannage des tâches, ainsi que les tâches de déploiement de logiciel.</span><span class="sxs-lookup"><span data-stu-id="0551f-304">Administrators can log on remotely in toothose virtual machines tooperform maintenance and troubleshooting tasks as well as software deployment tasks.</span></span> <span data-ttu-id="0551f-305">Dans compte toodeployment, seules restrictions de hello sont les tailles de hello et les capacités de machines virtuelles Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-305">In regard toodeployment, hello only restrictions are hello sizes and capabilities of Azure VMs.</span></span> <span data-ttu-id="0551f-306">Celles-ci peuvent ne pas être aussi granulaires dans la configuration que lorsque le déploiement est effectué en local.</span><span class="sxs-lookup"><span data-stu-id="0551f-306">These may not be as fine granular in configuration as this could be done on premises.</span></span> <span data-ttu-id="0551f-307">Vous avez le choix entre plusieurs types de machines virtuelles qui combinent les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="0551f-307">There is a choice of VM types that represent a combination of:</span></span>

* <span data-ttu-id="0551f-308">nombre de processeurs virtuels ;</span><span class="sxs-lookup"><span data-stu-id="0551f-308">Number of vCPUs,</span></span>
* <span data-ttu-id="0551f-309">mémoire ;</span><span class="sxs-lookup"><span data-stu-id="0551f-309">Memory,</span></span>
* <span data-ttu-id="0551f-310">nombre de disques durs virtuels pouvant être attachés ;</span><span class="sxs-lookup"><span data-stu-id="0551f-310">Number of VHDs that can be attached,</span></span>
* <span data-ttu-id="0551f-311">bande passante réseau et de stockage.</span><span class="sxs-lookup"><span data-stu-id="0551f-311">Network and Storage bandwidths.</span></span>

<span data-ttu-id="0551f-312">taille de Hello et les limitations de différentes tailles différentes machines virtuelles proposent peuvent être consultés dans une table dans [cet article (Linux)] [ virtual-machines-sizes-linux] et [cet article (Windows)] [ virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="0551f-312">hello size and limitations of various different virtual machines sizes offered can be seen in a table in [this article (Linux)][virtual-machines-sizes-linux] and [this article (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="0551f-313">Comme vous voyez, il existe diverses familles ou séries de machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="0551f-313">As you realize, there are different families or series of virtual machines.</span></span> <span data-ttu-id="0551f-314">Vous pouvez distinguer hello suivant des familles de machines virtuelles :</span><span class="sxs-lookup"><span data-stu-id="0551f-314">You can distinguish hello following families of VMs:</span></span>

* <span data-ttu-id="0551f-315">Types de machines virtuelles A0-A7 : elles ne sont pas toutes certifiées pour SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-315">A0-A7 VM types: Not all of those are certified for SAP.</span></span> <span data-ttu-id="0551f-316">Première série de machines virtuelles pour laquelle Azure IaaS a été introduit.</span><span class="sxs-lookup"><span data-stu-id="0551f-316">First VM series that Azure IaaS got introduced with.</span></span>
* <span data-ttu-id="0551f-317">Types de machines virtuelles A8-A11 : instances de calcul haute performance.</span><span class="sxs-lookup"><span data-stu-id="0551f-317">A8-A11 VM types: High Performance computing instances.</span></span> <span data-ttu-id="0551f-318">Exécution sur des hôtes de calcul différents et plus performants que les autres machines virtuelles de la série A.</span><span class="sxs-lookup"><span data-stu-id="0551f-318">Running on different better performing compute hosts than other A-series VMs.</span></span>
* <span data-ttu-id="0551f-319">Types de machines virtuelles de la série D/Dv2 : plus performantes que les A0-A7.</span><span class="sxs-lookup"><span data-stu-id="0551f-319">D/Dv2-Series VM types: Better performing than A0-A7.</span></span> <span data-ttu-id="0551f-320">Tous les types de machine virtuelle hello sont certifiés avec SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-320">Not all of hello VM types are certified with SAP.</span></span>
* <span data-ttu-id="0551f-321">Types de machine virtuelle de série DS/DSv2 : alimentaire/Dv2-série similaire, mais n’est en mesure de tooconnect tooAzure stockage Premium (consultez le chapitre [stockage Azure Premium] [ planning-guide-3.3.2] de ce document).</span><span class="sxs-lookup"><span data-stu-id="0551f-321">DS/DSv2-Series VM types: Similar tooD/Dv2-series, but are able tooconnect tooAzure Premium Storage (see chapter [Azure Premium Storage][planning-guide-3.3.2] of this document).</span></span> <span data-ttu-id="0551f-322">Une fois encore, tous les types de machines virtuelles ne sont pas certifiés pour SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-322">Again not all VM types are certified with SAP.</span></span>
* <span data-ttu-id="0551f-323">Types de machines virtuelles de la série G : types de machines virtuelles à mémoire élevée.</span><span class="sxs-lookup"><span data-stu-id="0551f-323">G-Series VM types: High memory VM types.</span></span>
* <span data-ttu-id="0551f-324">Types de machine virtuelle de série GS : comme série G mais notamment hello option toouse stockage Azure Premium (consultez le chapitre [stockage Azure Premium] [ planning-guide-3.3.2] de ce document).</span><span class="sxs-lookup"><span data-stu-id="0551f-324">GS-Series VM types: like G-Series but including hello option toouse Azure Premium Storage (see chapter [Azure Premium Storage][planning-guide-3.3.2] of this document).</span></span> <span data-ttu-id="0551f-325">Lorsque vous utilisez des machines virtuelles de série GS en tant que serveurs de base de données, il est obligatoire toouse stockage Premium pour les fichiers de journaux de transaction et de données base de données</span><span class="sxs-lookup"><span data-stu-id="0551f-325">When using GS-Series VMs as database servers, it's mandatory toouse Premium Storage for DB data and transaction log files</span></span>

<span data-ttu-id="0551f-326">Vous pouvez trouver des configurations de processeur et mémoire mêmes hello dans différentes séries de machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="0551f-326">You may find hello same CPU and memory configurations in different VM series.</span></span> <span data-ttu-id="0551f-327">Néanmoins, lorsque vous recherchez des performances hello de ces ordinateurs virtuels en dehors de la série de différentes hello, elles peuvent différer considérablement.</span><span class="sxs-lookup"><span data-stu-id="0551f-327">Nevertheless, when you look up hello throughput performance of these VMs out of hello different series they might differ significantly.</span></span> <span data-ttu-id="0551f-328">Bien qu’ils aient hello même configuration de l’UC et de la mémoire.</span><span class="sxs-lookup"><span data-stu-id="0551f-328">Despite having hello same CPU and memory configuration.</span></span> <span data-ttu-id="0551f-329">Du fait que hello sous-jacent hôte matériel de serveur introduction hello de différents types de machine virtuelle hello a les caractéristiques de débit différentes.</span><span class="sxs-lookup"><span data-stu-id="0551f-329">Reason is that hello underlying host server hardware at hello introduction of hello different VM types had different throughput characteristics.</span></span>  <span data-ttu-id="0551f-330">Généralement différence hello indiqué dans les performances de débit également est répercutée dans les prix hello Hello différentes machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="0551f-330">Usually hello difference shown in throughput performance also is reflected in hello price of hello different VMs.</span></span>

<span data-ttu-id="0551f-331">Pas toutes les séries de machines virtuelles différentes peuvent être proposées dans chacun d’eux de hello régions Azure (pour les régions Azure consultez le chapitre suivant).</span><span class="sxs-lookup"><span data-stu-id="0551f-331">Not all different VM series might be offered in each one of hello Azure Regions (for Azure Regions see next chapter).</span></span> <span data-ttu-id="0551f-332">Sachez également que toutes les machines virtuelles ou séries de machines virtuelles ne sont pas certifiées pour SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-332">Also be aware that not all VMs or VM-Series are certified for SAP.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0551f-333">Pour une utilisation hello les applications basées sur SAP NetWeaver, seul sous-ensemble hello des types de machine virtuelle et des configurations répertoriées dans la Note SAP [1928533] sont pris en charge.</span><span class="sxs-lookup"><span data-stu-id="0551f-333">For hello use of SAP NetWeaver based applications, only hello subset of VM types and configurations listed in SAP Note [1928533] are supported.</span></span>
>
>

### <span data-ttu-id="0551f-334"><a name="be80d1b9-a463-4845-bd35-f4cebdb5424a"></a>Régions Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-334"><a name="be80d1b9-a463-4845-bd35-f4cebdb5424a"></a>Azure Regions</span></span>
<span data-ttu-id="0551f-335">Microsoft permet toodeploy Machines virtuelles en soi-disant « régions Azure ».</span><span class="sxs-lookup"><span data-stu-id="0551f-335">Microsoft allows toodeploy Virtual Machines into so called ‘Azure Regions’.</span></span> <span data-ttu-id="0551f-336">Une région Azure peut correspondre à un ou plusieurs centres de données situés à proximité les uns des autres.</span><span class="sxs-lookup"><span data-stu-id="0551f-336">An Azure Region may be one or multiple data centers that are located in close proximity.</span></span> <span data-ttu-id="0551f-337">Pour la plupart des hello géopolitiques régions dans Bonjour Microsoft a au moins deux régions Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-337">For most of hello geopolitical regions in hello world Microsoft has at least two Azure Regions.</span></span> <span data-ttu-id="0551f-338">Par exemple, l’Europe contient les régions Azure « Europe du Nord » et « Europe de l’Ouest ».</span><span class="sxs-lookup"><span data-stu-id="0551f-338">For example, in Europe there is an Azure Region of ‘North Europe’ and one of ‘West Europe’.</span></span> <span data-ttu-id="0551f-339">Ces deux régions Azure dans une région géopolitique sont séparées par une distance suffisamment significative afin que des catastrophes naturelles ou techniques n’affectent pas les deux régions Azure Bonjour même région géopolitique.</span><span class="sxs-lookup"><span data-stu-id="0551f-339">Such two Azure Regions within a geopolitical region are separated by significant enough distance so that natural or technical disasters do not affect both Azure Regions in hello same geopolitical region.</span></span> <span data-ttu-id="0551f-340">Étant donné que Microsoft est en création de nouvelles régions Azure dans différentes régions géopolitiques globalement, nombre de hello de ces régions est en constante augmentation et depuis décembre 2015 atteint le nombre de hello de 20 régions Azure avec d’autres régions annoncées déjà.</span><span class="sxs-lookup"><span data-stu-id="0551f-340">Since Microsoft is steadily building out new Azure Regions in different geopolitical regions globally, hello number of these regions is steadily growing and as of Dec 2015 reached hello number of 20 Azure Regions with additional Regions announced already.</span></span> <span data-ttu-id="0551f-341">Comme un client peut déployer des systèmes SAP dans ces régions, y compris des régions Azure hello deux en Chine.</span><span class="sxs-lookup"><span data-stu-id="0551f-341">You as a customer can deploy SAP systems into all these regions, including hello two Azure Regions in China.</span></span> <span data-ttu-id="0551f-342">Pour connaître les dernières informations sur les régions Azure, consultez le site web suivant : <https://azure.microsoft.com/regions/></span><span class="sxs-lookup"><span data-stu-id="0551f-342">For current up-to-date information about Azure regions see this website: <https://azure.microsoft.com/regions/></span></span>

### <span data-ttu-id="0551f-343"><a name="8d8ad4b8-6093-4b91-ac36-ea56d80dbf77"></a>Hello Concept de Machine virtuelle Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-343"><a name="8d8ad4b8-6093-4b91-ac36-ea56d80dbf77"></a>hello Microsoft Azure Virtual Machine Concept</span></span>
<span data-ttu-id="0551f-344">Microsoft Azure offre une Infrastructure en tant qu’un toohost de solution de Service (IaaS) Machines virtuelles avec des fonctionnalités similaires en tant qu’une solution de virtualisation sur site.</span><span class="sxs-lookup"><span data-stu-id="0551f-344">Microsoft Azure offers an Infrastructure as a Service (IaaS) solution toohost Virtual Machines with similar functionalities as an on-premises virtualization solution.</span></span> <span data-ttu-id="0551f-345">Vous êtes en mesure de toocreate Machines virtuelles à partir de hello portail Azure, PowerShell ou CLI, qui proposent également des fonctionnalités de gestion et de déploiement.</span><span class="sxs-lookup"><span data-stu-id="0551f-345">You are able toocreate Virtual Machines from within hello Azure portal, PowerShell or CLI, which also offer deployment and management capabilities.</span></span>

<span data-ttu-id="0551f-346">Le Gestionnaire de ressources Azure vous permet de tooprovision vos applications à l’aide d’un modèle déclaratif.</span><span class="sxs-lookup"><span data-stu-id="0551f-346">Azure Resource Manager allows you tooprovision your applications using a declarative template.</span></span> <span data-ttu-id="0551f-347">Dans un modèle unique, vous pouvez déployer plusieurs services ainsi que leurs dépendances.</span><span class="sxs-lookup"><span data-stu-id="0551f-347">In a single template, you can deploy multiple services along with their dependencies.</span></span> <span data-ttu-id="0551f-348">Vous utilisez hello même modèle toorepeatedly déployer votre application au cours de chaque étape du cycle de vie d’application hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-348">You use hello same template toorepeatedly deploy your application during every stage of hello application life cycle.</span></span>

<span data-ttu-id="0551f-349">Vous trouverez plus d’informations sur les modèles Resource Manager ici :</span><span class="sxs-lookup"><span data-stu-id="0551f-349">More information about using Resource Manager templates can be found here:</span></span>

* <span data-ttu-id="0551f-350">[Déployer et gérer des ordinateurs virtuels à l’aide de modèles Azure Resource Manager et hello CLI d’Azure] [.. /.. / linux/create-ssh-secured-vm-from-template.md]</span><span class="sxs-lookup"><span data-stu-id="0551f-350">[Deploy and manage virtual machines by using Azure Resource Manager templates and hello Azure CLI][../../linux/create-ssh-secured-vm-from-template.md]</span></span>
* <span data-ttu-id="0551f-351">[Gestion des machines virtuelles à l’aide de modèles Azure Resource Manager et de PowerShell][virtual-machines-deploy-rmtemplates-powershell]</span><span class="sxs-lookup"><span data-stu-id="0551f-351">[Manage virtual machines using Azure Resource Manager and PowerShell][virtual-machines-deploy-rmtemplates-powershell]</span></span>
* <span data-ttu-id="0551f-352"><https://azure.microsoft.com/documentation/templates/></span><span class="sxs-lookup"><span data-stu-id="0551f-352"><https://azure.microsoft.com/documentation/templates/></span></span>

<span data-ttu-id="0551f-353">Une autre fonctionnalité intéressante est images de toocreate hello possibilité à partir d’ordinateurs virtuels, ce qui vous permet de tooprepare certain référentiels à partir de laquelle vous êtes tooquickly en mesure de déploiement les instances de machine virtuelle, qui répondent à vos besoins.</span><span class="sxs-lookup"><span data-stu-id="0551f-353">Another interesting feature is hello ability toocreate images from Virtual Machines, which allows you tooprepare certain repositories from which you are able tooquickly deploy Virtual machine instances, which meet your requirements.</span></span>

<span data-ttu-id="0551f-354">Pour plus d’informations sur la création d’images à partir de machines virtuelles, consultez [cet article (Linux)][virtual-machines-linux-capture-image-resource-manager] et [cet article (Windows)][virtual-machines-windows-capture-image-resource-manager].</span><span class="sxs-lookup"><span data-stu-id="0551f-354">More information about creating images from Virtual Machines can be found in [this article (Linux)][virtual-machines-linux-capture-image-resource-manager] and [this article (Windows)][virtual-machines-windows-capture-image-resource-manager].</span></span>

#### <span data-ttu-id="0551f-355"><a name="df49dc09-141b-4f34-a4a2-990913b30358"></a>Domaines d’erreur</span><span class="sxs-lookup"><span data-stu-id="0551f-355"><a name="df49dc09-141b-4f34-a4a2-990913b30358"></a>Fault Domains</span></span>
<span data-ttu-id="0551f-356">Domaines d’erreur représentent une unité physique de l’échec, toohello très proches d’infrastructure physique contenu dans des centres de données, et pendant une lame physique ou un rack peut être considéré comme un domaine d’erreur, il n’existe aucun mappage direct entre deux de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-356">Fault Domains represent a physical unit of failure, very closely related toohello physical infrastructure contained in data centers, and while a physical blade or rack can be considered a Fault Domain, there is no direct one-to-one mapping between hello two.</span></span>

<span data-ttu-id="0551f-357">Lorsque vous déployez plusieurs Machines virtuelles dans le cadre d’un système SAP dans Microsoft Azure Virtual Machine Services, vous pouvez influencer toodeploy de contrôleur de structure Azure hello votre application dans différents domaines d’erreur, répondant ainsi aux exigences de hello de hello Contrat SLA de Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-357">When you deploy multiple Virtual Machines as part of one SAP system in Microsoft Azure Virtual Machine Services, you can influence hello Azure Fabric Controller toodeploy your application into different Fault Domains, thereby meeting hello requirements of hello Microsoft Azure SLA.</span></span> <span data-ttu-id="0551f-358">Toutefois, hello distribution des domaines d’erreur sur une unité d’échelle Azure (collection de centaines de nœuds de calcul ou de nœuds de stockage et de mise en réseau) ou l’attribution de machines virtuelles tooa hello domaine d’erreur spécifique est un élément sur lequel vous n’avez pas contrôle direct.</span><span class="sxs-lookup"><span data-stu-id="0551f-358">However, hello distribution of Fault Domains over an Azure Scale Unit (collection of hundreds of Compute nodes or Storage nodes and networking) or hello assignment of VMs tooa specific Fault Domain is something over which you do not have direct control.</span></span> <span data-ttu-id="0551f-359">Dans l’ordre toodirect hello Azure fabric contrôleur toodeploy un ensemble de machines virtuelles sur différents domaines d’erreur, vous devez tooassign une toohello à haute disponibilité Azure VMs au moment du déploiement.</span><span class="sxs-lookup"><span data-stu-id="0551f-359">In order toodirect hello Azure fabric controller toodeploy a set of VMs over different Fault Domains, you need tooassign an Azure Availability Set toohello VMs at deployment time.</span></span> <span data-ttu-id="0551f-360">Pour plus d’informations sur les groupes à haute disponibilité Azure, voir le chapitre [Groupes à haute disponibilité Azure][planning-guide-3.2.3] dans ce document.</span><span class="sxs-lookup"><span data-stu-id="0551f-360">For more information on Azure Availability Sets, see chapter [Azure Availability Sets][planning-guide-3.2.3] in this document.</span></span>

#### <span data-ttu-id="0551f-361"><a name="fc1ac8b2-e54a-487c-8581-d3cc6625e560"></a>Domaines de mise à niveau</span><span class="sxs-lookup"><span data-stu-id="0551f-361"><a name="fc1ac8b2-e54a-487c-8581-d3cc6625e560"></a>Upgrade Domains</span></span>
<span data-ttu-id="0551f-362">Domaines de mise à niveau constituent une unité logique qui aident à toodetermine comment une machine virtuelle dans un système SAP, qui se compose d’instances SAP s’exécutant sur plusieurs machines virtuelles, est mis à jour.</span><span class="sxs-lookup"><span data-stu-id="0551f-362">Upgrade Domains represent a logical unit that help toodetermine how a VM within an SAP system, that consists of SAP instances running in multiple VMs, is updated.</span></span> <span data-ttu-id="0551f-363">Lorsqu’une mise à niveau se produit, Microsoft Azure exécute hello les processus de mise à jour de ces domaines de mise à niveau un par un.</span><span class="sxs-lookup"><span data-stu-id="0551f-363">When an upgrade occurs, Microsoft Azure goes through hello process of updating these Upgrade Domains one by one.</span></span> <span data-ttu-id="0551f-364">En répartissant les machines virtuelles dans différents domaines de mise à niveau au moment du déploiement, vous pouvez protéger, en partie, votre système SAP des interruptions potentielles.</span><span class="sxs-lookup"><span data-stu-id="0551f-364">By spreading VMs at deployment time over different Upgrade Domains, you can protect your SAP system partly from potential downtime.</span></span> <span data-ttu-id="0551f-365">Dans commande tooforce toodeploy Azure VMs hello d’un système SAP réparties sur différents domaines de mise à niveau, vous devez tooset un attribut spécifique au moment du déploiement de chaque machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-365">In order tooforce Azure toodeploy hello VMs of an SAP system spread over different Upgrade Domains, you need tooset a specific attribute at deployment time of each VM.</span></span> <span data-ttu-id="0551f-366">Domaines tooFault similaires, une unité d’échelle Azure est divisé en plusieurs domaines de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="0551f-366">Similar tooFault Domains, an Azure Scale Unit is divided into multiple Upgrade Domains.</span></span> <span data-ttu-id="0551f-367">Dans l’ordre toodirect hello Azure fabric contrôleur toodeploy un ensemble de machines virtuelles sur différents domaines de mise à niveau, vous devez tooassign une toohello à haute disponibilité Azure VMs au moment du déploiement.</span><span class="sxs-lookup"><span data-stu-id="0551f-367">In order toodirect hello Azure fabric controller toodeploy a set of VMs over different Upgrade Domains, you need tooassign an Azure Availability Set toohello VMs at deployment time.</span></span> <span data-ttu-id="0551f-368">Pour plus d’informations sur les groupes à haute disponibilité Azure, voir le chapitre[ Groupes à haute disponibilité Azure][planning-guide-3.2.3] ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="0551f-368">For more information on Azure Availability Sets, see chapter [Azure Availability Sets][planning-guide-3.2.3] below.</span></span>

#### <span data-ttu-id="0551f-369"><a name="18810088-f9be-4c97-958a-27996255c665"></a>Groupes à haute disponibilité Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-369"><a name="18810088-f9be-4c97-958a-27996255c665"></a>Azure Availability Sets</span></span>
<span data-ttu-id="0551f-370">Machines virtuelles au sein d’un à haute disponibilité Azure sont distribués par hello contrôleur de structure Azure sur différents domaines d’erreur et mettre à niveau.</span><span class="sxs-lookup"><span data-stu-id="0551f-370">Azure Virtual Machines within one Azure Availability Set are distributed by hello Azure Fabric Controller over different Fault and Upgrade Domains.</span></span> <span data-ttu-id="0551f-371">Hello distribution hello sur différents domaines d’erreur et mettre à niveau vise tooprevent que toutes les machines virtuelles d’un système SAP d’être arrêtés dans le cas de hello de maintenance de l’infrastructure ou d’un échec dans un domaine d’erreur.</span><span class="sxs-lookup"><span data-stu-id="0551f-371">hello purpose of hello distribution over different Fault and Upgrade Domains is tooprevent all VMs of an SAP system from being shut down in hello case of infrastructure maintenance or a failure within one Fault Domain.</span></span> <span data-ttu-id="0551f-372">Par défaut, les machines virtuelles ne font pas partie d’un groupe à haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="0551f-372">By default, VMs are not part of an Availability Set.</span></span> <span data-ttu-id="0551f-373">la participation de Hello d’une machine virtuelle dans un ensemble de disponibilité est définie au moment du déploiement ou ultérieurement par une reconfiguration et le redéploiement d’une machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-373">hello participation of a VM in an Availability Set is defined at deployment time or later on by a reconfiguration and re-deployment of a VM.</span></span>

<span data-ttu-id="0551f-374">concept de hello toounderstand de façon à haute disponibilité Azure et hello relation entre les groupes de disponibilité tooFault et les domaines de mise à niveau, lisez [cet article][virtual-machines-manage-availability]</span><span class="sxs-lookup"><span data-stu-id="0551f-374">toounderstand hello concept of Azure Availability Sets and hello way Availability Sets relate tooFault and Upgrade Domains, read [this article][virtual-machines-manage-availability]</span></span>

<span data-ttu-id="0551f-375">consultez des groupes à haute disponibilité toodefine pour ARM via un modèle json [hello des spécifications de l’api rest](https://github.com/Azure/azure-rest-api-specs/blob/master/arm-compute/2015-06-15/swagger/compute.json) et recherchez « availability ».</span><span class="sxs-lookup"><span data-stu-id="0551f-375">toodefine availability sets for ARM via a json template see [hello rest-api specs](https://github.com/Azure/azure-rest-api-specs/blob/master/arm-compute/2015-06-15/swagger/compute.json) and search for "availability".</span></span>

### <span data-ttu-id="0551f-376"><a name="a72afa26-4bf4-4a25-8cf7-855d6032157f"></a>Stockage : Microsoft Azure Storage et disques de données</span><span class="sxs-lookup"><span data-stu-id="0551f-376"><a name="a72afa26-4bf4-4a25-8cf7-855d6032157f"></a>Storage: Microsoft Azure Storage and Data Disks</span></span>
<span data-ttu-id="0551f-377">Les Microsoft Azure Virtual Machines utilisent différents types de stockage.</span><span class="sxs-lookup"><span data-stu-id="0551f-377">Microsoft Azure Virtual Machines utilize different storage types.</span></span> <span data-ttu-id="0551f-378">Quand vous implémentez SAP sur Azure Virtual Machine Services, il est important toounderstand les différences de hello entre ces deux principaux types de stockage :</span><span class="sxs-lookup"><span data-stu-id="0551f-378">When implementing SAP on Azure Virtual Machine Services, it is important toounderstand hello differences between these two main types of storage:</span></span>

* <span data-ttu-id="0551f-379">stockage volatil non persistant ;</span><span class="sxs-lookup"><span data-stu-id="0551f-379">Non-Persistent, volatile storage.</span></span>
* <span data-ttu-id="0551f-380">stockage persistant.</span><span class="sxs-lookup"><span data-stu-id="0551f-380">Persistent storage.</span></span>

<span data-ttu-id="0551f-381">stockage non permanent de Hello est directement attaché toohello Machines virtuelles en cours d’exécution et réside sur les nœuds de calcul hello proprement dits : stockage d’instance local hello (temporaire).</span><span class="sxs-lookup"><span data-stu-id="0551f-381">hello non-persistent storage is directly attached toohello running Virtual Machines and resides on hello compute nodes themselves – hello local instance storage (temporary storage).</span></span> <span data-ttu-id="0551f-382">taille de Hello dépend de la taille de hello Hello Machine virtuelle choisie au démarrage du déploiement de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-382">hello size depends on hello size of hello Virtual Machine chosen when hello deployment started.</span></span> <span data-ttu-id="0551f-383">Ce type de stockage est volatil et par conséquent hello disque initialisé au redémarrage d’une instance de Machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-383">This storage type is volatile and therefore hello disk is initialized when a Virtual Machine instance is restarted.</span></span> <span data-ttu-id="0551f-384">En règle générale, fichier d’échange hello hello système d’exploitation se trouve sur ce disque temporaire.</span><span class="sxs-lookup"><span data-stu-id="0551f-384">Typically, hello pagefile for hello operating system is located on this temporary disk.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="0551f-386">Windows</span><span class="sxs-lookup"><span data-stu-id="0551f-386">Windows</span></span>
>
> <span data-ttu-id="0551f-387">Sur les machines virtuelles Windows lecteur temp de hello est monté en tant que lecteur D:\ dans une machine virtuelle déployée.</span><span class="sxs-lookup"><span data-stu-id="0551f-387">On Windows VMs hello temp drive is mounted as drive D:\ in a deployed VM.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="0551f-389">Linux</span><span class="sxs-lookup"><span data-stu-id="0551f-389">Linux</span></span>
>
> <span data-ttu-id="0551f-390">Sur les machines virtuelles Linux, il est monté en tant que/mnt/resource ou /mnt.</span><span class="sxs-lookup"><span data-stu-id="0551f-390">On Linux VMs, it's mounted as /mnt/resource or /mnt.</span></span> <span data-ttu-id="0551f-391">Vous trouverez plus de détails ici :</span><span class="sxs-lookup"><span data-stu-id="0551f-391">See more details here:</span></span>
>
> * <span data-ttu-id="0551f-392">[Comment tooAttach un tooa de disque de données Machine virtuelle Linux][virtual-machines-linux-how-to-attach-disk]</span><span class="sxs-lookup"><span data-stu-id="0551f-392">[How tooAttach a Data Disk tooa Linux Virtual Machine][virtual-machines-linux-how-to-attach-disk]</span></span>
> * <span data-ttu-id="0551f-393"><https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux#temporary-disk></span><span class="sxs-lookup"><span data-stu-id="0551f-393"><https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux#temporary-disk></span></span>
>
>

- - -
<span data-ttu-id="0551f-394">lecteur Hello est volatile, car il est stocké sur le serveur hôte de hello proprement dit.</span><span class="sxs-lookup"><span data-stu-id="0551f-394">hello actual drive is volatile because it is getting stored on hello host server itself.</span></span> <span data-ttu-id="0551f-395">Si hello VM déplacé dans un redéploiement (par exemple échéance toomaintenance sur l’hôte de hello ou l’arrêt et redémarrage) le contenu du lecteur de hello hello est perdu.</span><span class="sxs-lookup"><span data-stu-id="0551f-395">If hello VM moved in a redeployment (for example due toomaintenance on hello host or shutdown and restart) hello content of hello drive is lost.</span></span> <span data-ttu-id="0551f-396">Par conséquent, il n’est pas une option toostore toutes les données importantes sur ce lecteur.</span><span class="sxs-lookup"><span data-stu-id="0551f-396">Therefore, it is not an option toostore any important data on this drive.</span></span> <span data-ttu-id="0551f-397">type de média utilisé pour ce type de stockage de Hello diffère entre différentes séries de machines virtuelles avec les caractéristiques de performances très différentes qui depuis juin 2015 ressemblent à :</span><span class="sxs-lookup"><span data-stu-id="0551f-397">hello type of media used for this type of storage differs between different VM series with very different performance characteristics which as of June 2015 look like:</span></span>

* <span data-ttu-id="0551f-398">A5-A7 : performances très limitées.</span><span class="sxs-lookup"><span data-stu-id="0551f-398">A5-A7: Very limited performance.</span></span> <span data-ttu-id="0551f-399">Déconseillées pour le stockage autre que celui de fichier d’échange.</span><span class="sxs-lookup"><span data-stu-id="0551f-399">Not recommended for anything beyond page file</span></span>
* <span data-ttu-id="0551f-400">A8-A11 : très bonnes caractéristiques de performances avec quelque 10 000 E/S par seconde et un débit supérieur à 1 Go/s.</span><span class="sxs-lookup"><span data-stu-id="0551f-400">A8-A11: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput.</span></span>
* <span data-ttu-id="0551f-401">Série D : très bonnes caractéristiques de performances, avec quelque 10 000 E/S par seconde et un débit supérieur à 1 Go/s.</span><span class="sxs-lookup"><span data-stu-id="0551f-401">D-Series: Very good performance characteristics with some then thousand IOPS and >1GB/sec throughput.</span></span>
* <span data-ttu-id="0551f-402">Série DS : très bonnes caractéristiques de performances, avec quelque 10 000 E/S par seconde et un débit supérieur à 1 Go/s.</span><span class="sxs-lookup"><span data-stu-id="0551f-402">DS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput.</span></span>
* <span data-ttu-id="0551f-403">Série G : très bonnes caractéristiques de performances, avec quelque 10 000 E/S par seconde et un débit supérieur à 1 Go/s.</span><span class="sxs-lookup"><span data-stu-id="0551f-403">G-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput.</span></span>
* <span data-ttu-id="0551f-404">Série GS : très bonnes caractéristiques de performances, avec quelque 10 000 E/S par seconde et un débit supérieur à 1 Go/s.</span><span class="sxs-lookup"><span data-stu-id="0551f-404">GS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput.</span></span>

<span data-ttu-id="0551f-405">Les instructions ci-dessus appliquez des types de machine virtuelle toohello certifiées avec SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-405">Statements above are applying toohello VM types that are certified with SAP.</span></span> <span data-ttu-id="0551f-406">Hello séries de machines virtuelles avec une excellente IOPS et le débit qualifier pour tirer parti de certaines fonctionnalités du SGBD.</span><span class="sxs-lookup"><span data-stu-id="0551f-406">hello VM-series with excellent IOPS and throughput qualify for leverage by some DBMS features.</span></span> <span data-ttu-id="0551f-407">Pour plus d’informations, consultez hello [Guide de déploiement de système SGBD][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="0551f-407">For more information, see hello [DBMS Deployment Guide][dbms-guide].</span></span>

<span data-ttu-id="0551f-408">Microsoft Azure Storage fournit persistante hello et stockage des niveaux de protection et de redondance généralement constatés sur un stockage SAN.</span><span class="sxs-lookup"><span data-stu-id="0551f-408">Microsoft Azure Storage provides persisted storage and hello typical levels of protection and redundancy seen on SAN storage.</span></span> <span data-ttu-id="0551f-409">Disques basés sur le stockage Azure sont un disque dur virtuel (VHD) situé dans les Services de stockage Azure hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-409">Disks based on Azure Storage are virtual hard disk (VHDs) located in hello Azure Storage Services.</span></span> <span data-ttu-id="0551f-410">Hello du système d’exploitation-disque local (C: de Windows\, Linux/dev/sda1) est stocké sur hello le stockage Azure et les Volumes/disques supplémentaires monté toohello VM obtenir y sont stockées, trop.</span><span class="sxs-lookup"><span data-stu-id="0551f-410">hello local OS-Disk (Windows C:\, Linux /dev/sda1) is stored on hello Azure Storage, and additional Volumes/Disks mounted toohello VM get stored there, too.</span></span>

<span data-ttu-id="0551f-411">Il est possible de tooupload un disque dur virtuel existant sur site ou créer des conteneurs vides depuis Azure et attacher ces machines virtuelles toodeployed.</span><span class="sxs-lookup"><span data-stu-id="0551f-411">It is possible tooupload an existing VHD from on-premises or create empty ones from within Azure and attach those toodeployed VMs.</span></span>

<span data-ttu-id="0551f-412">Après avoir créé ou téléchargement d’un disque dur virtuel dans le stockage Azure, il est possible toomount et attacher ces tooan existant de machines virtuelles et toocopy existants (démonté) de disque dur virtuel.</span><span class="sxs-lookup"><span data-stu-id="0551f-412">After creating or uploading a VHD into Azure Storage, it is possible toomount and attach those tooan existing Virtual Machine and toocopy existing (unmounted) VHD.</span></span>

<span data-ttu-id="0551f-413">Comme ces disques durs virtuels sont conservés, les données et les modifications dans ceux-ci sont protégées lors du redémarrage et de la nouvelle création d’une instance de machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-413">As those VHDs are persisted, data and changes within those are safe when rebooting and recreating a Virtual Machine instance.</span></span> <span data-ttu-id="0551f-414">Même si une instance est supprimée, ces disques durs virtuels demeurent sécurisés et peuvent être redéployés ou dans le cas des disques du système d’exploitation non peuvent être monté tooother VMs.</span><span class="sxs-lookup"><span data-stu-id="0551f-414">Even if an instance is deleted, these VHDs stay safe and can be redeployed or in case of non-OS disks can be mounted tooother VMs.</span></span>

<span data-ttu-id="0551f-415">Au sein de hello réseau des niveaux de stockage Azure redondance différents peut être configuré :</span><span class="sxs-lookup"><span data-stu-id="0551f-415">Within hello network of Azure Storage different redundancy levels can be configured:</span></span>

* <span data-ttu-id="0551f-416">Niveau minimal qui peut être sélectionné est 'redondance locale », qui est équivalent toothree-réplica des données hello dans hello même centre de données d’une région Azure (consultez le chapitre [régions Azure][planning-guide-3.1]).</span><span class="sxs-lookup"><span data-stu-id="0551f-416">Minimum level that can be selected is ‘local redundancy’, which is equivalent toothree-replica of hello data within hello same data center of an Azure Region (see chapter [Azure Regions][planning-guide-3.1]).</span></span>
* <span data-ttu-id="0551f-417">Stockage redondant de zone, les images de hello trois doubles sur différents centres de données au sein de hello même région Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-417">Zone redundant storage, which spreads hello three images over different data centers within hello same Azure Region.</span></span>
* <span data-ttu-id="0551f-418">Niveau de redondance de valeur par défaut est la redondance géographique, qui réplique de façon asynchrone le contenu hello dans un autre trois images de données hello dans une autre région Azure, qui est hébergé dans hello même région géopolitique.</span><span class="sxs-lookup"><span data-stu-id="0551f-418">Default redundancy level is geographic redundancy, which asynchronously replicates hello content into another three images of hello data into another Azure Region, which is hosted in hello same geopolitical region.</span></span>

<span data-ttu-id="0551f-419">Consultez également la table hello au-dessus de cet article concernant les options de redondance différents hello : <https://azure.microsoft.com/pricing/details/storage/></span><span class="sxs-lookup"><span data-stu-id="0551f-419">Also see hello table on top of this article regarding hello different redundancy options: <https://azure.microsoft.com/pricing/details/storage/></span></span>

<span data-ttu-id="0551f-420">Vous trouverez plus d’informations sur Stockage Azure ici :</span><span class="sxs-lookup"><span data-stu-id="0551f-420">More information about Azure Storage can be found here:</span></span>

* <span data-ttu-id="0551f-421"><https://azure.microsoft.com/documentation/services/storage/></span><span class="sxs-lookup"><span data-stu-id="0551f-421"><https://azure.microsoft.com/documentation/services/storage/></span></span>
* <span data-ttu-id="0551f-422"><https://azure.microsoft.com/services/site-recovery></span><span class="sxs-lookup"><span data-stu-id="0551f-422"><https://azure.microsoft.com/services/site-recovery></span></span>
* <span data-ttu-id="0551f-423"><https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs></span><span class="sxs-lookup"><span data-stu-id="0551f-423"><https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs></span></span>
* <span data-ttu-id="0551f-424"><https://blogs.msdn.com/b/azuresecurity/archive/2015/11/17/azure-disk-encryption-for-linux-and-windows-virtual-machines-public-preview.aspx></span><span class="sxs-lookup"><span data-stu-id="0551f-424"><https://blogs.msdn.com/b/azuresecurity/archive/2015/11/17/azure-disk-encryption-for-linux-and-windows-virtual-machines-public-preview.aspx></span></span>

#### <a name="azure-standard-storage"></a><span data-ttu-id="0551f-425">Stockage Azure Standard</span><span class="sxs-lookup"><span data-stu-id="0551f-425">Azure Standard Storage</span></span>
<span data-ttu-id="0551f-426">Le stockage Azure Standard lors de type hello de stockage IaaS Azure a été libéré.</span><span class="sxs-lookup"><span data-stu-id="0551f-426">Azure Standard storage was hello type of storage available when Azure IaaS was released.</span></span> <span data-ttu-id="0551f-427">Des quotas d’E/S par seconde étaient appliqués pour chaque disque.</span><span class="sxs-lookup"><span data-stu-id="0551f-427">There were IOPS quotas enforced per single disk.</span></span> <span data-ttu-id="0551f-428">En raison d’une latence n’était pas hello même classe, comme les périphériques SAN/NAS généralement déployés pour les systèmes haut de gamme SAP hébergée sur site.</span><span class="sxs-lookup"><span data-stu-id="0551f-428">Latency experienced was not in hello same class as SAN/NAS devices typically deployed for high-end SAP systems hosted on-premises.</span></span> <span data-ttu-id="0551f-429">Néanmoins, les hello le stockage Azure Standard a été identifié comme suffisant pour des centaines de nombreux systèmes SAP pendant ce temps déployés dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-429">Nevertheless, hello Azure Standard Storage proved sufficient for many hundreds SAP systems meanwhile deployed in Azure.</span></span>

<span data-ttu-id="0551f-430">Les disques qui sont stockés sur les comptes de stockage Azure Standard sont facturés en fonction de hello données réelles qui sont stockées, volume hello de transactions de stockage, les transferts de données sortantes et option de redondance choisi.</span><span class="sxs-lookup"><span data-stu-id="0551f-430">Disks that are stored on Azure Standard Storage Accounts are charged based on hello actual data that is stored, hello volume of storage transactions, outbound data transfers, and redundancy option chosen.</span></span> <span data-ttu-id="0551f-431">De disques peuvent être créés à la taille hello maximum à 1 To, mais tant que ces derniers rester vides est gratuit.</span><span class="sxs-lookup"><span data-stu-id="0551f-431">Many disks can be created at hello maximum 1TB in size, but as long as those remain empty there is no charge.</span></span> <span data-ttu-id="0551f-432">Si vous remplissez ensuite un VHD avec 100 Go, vous êtes facturé pour le stockage de 100 Go et non pour hello de taille nominale hello avec que disque dur virtuel a été créé.</span><span class="sxs-lookup"><span data-stu-id="0551f-432">If you then fill one VHD with 100GB each, you are charged for storing 100GB and not for hello nominal size hello VHD got created with.</span></span>

#### <span data-ttu-id="0551f-433"><a name="ff5ad0f9-f7f4-4022-9102-af07aef3bc92"></a>Azure Premium Storage</span><span class="sxs-lookup"><span data-stu-id="0551f-433"><a name="ff5ad0f9-f7f4-4022-9102-af07aef3bc92"></a>Azure Premium Storage</span></span>
<span data-ttu-id="0551f-434">En avril 2015, Microsoft a introduit Stockage Premium Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-434">In April 2015, Microsoft introduced Azure Premium Storage.</span></span> <span data-ttu-id="0551f-435">Stockage Premium a été introduit avec hello objectif tooprovide :</span><span class="sxs-lookup"><span data-stu-id="0551f-435">Premium Storage got introduced with hello goal tooprovide:</span></span>

* <span data-ttu-id="0551f-436">une meilleure latence d’E/S ;</span><span class="sxs-lookup"><span data-stu-id="0551f-436">Better I/O latency.</span></span>
* <span data-ttu-id="0551f-437">un meilleur débit ;</span><span class="sxs-lookup"><span data-stu-id="0551f-437">Better throughput.</span></span>
* <span data-ttu-id="0551f-438">une latence d’E/S plus stable.</span><span class="sxs-lookup"><span data-stu-id="0551f-438">Less variability in I/O latency.</span></span>

<span data-ttu-id="0551f-439">À cette fin, de nombreuses modifications ont été introduites de quels hello deux principaux sont :</span><span class="sxs-lookup"><span data-stu-id="0551f-439">For that purpose, many changes were introduced of which hello two most significant are:</span></span>

* <span data-ttu-id="0551f-440">Utilisation de disques SSD dans les nœuds de stockage Azure hello</span><span class="sxs-lookup"><span data-stu-id="0551f-440">Usage of SSD disks in hello Azure Storage nodes</span></span>
* <span data-ttu-id="0551f-441">Un cache de lecture qui est sauvegardé par hello SSD local d’un nœud de calcul Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-441">A new read cache that is backed by hello local SSD of an Azure compute node</span></span>

<span data-ttu-id="0551f-442">Dans le stockage tooStandard opposé où les fonctionnalités n’ont pas changé dépend de la taille de hello du disque hello (ou disque dur virtuel), stockage Premium actuellement a trois catégories d’autre disque, qui sont affichés dans cet article : <https://azure.microsoft.com/ prix/détails / / non managée-disques de stockage /></span><span class="sxs-lookup"><span data-stu-id="0551f-442">In opposite tooStandard storage where capabilities did not change dependent on hello size of hello disk (or VHD), Premium Storage currently has three different disk categories, which are shown in this article: <https://azure.microsoft.com/pricing/details/storage/unmanaged-disks/></span></span>

<span data-ttu-id="0551f-443">Vous voyez que le débit de disque/IOPS et le disque/disque sont dépendantes de la catégorie de taille hello de disques de hello</span><span class="sxs-lookup"><span data-stu-id="0551f-443">You see that IOPS/disk and disk throughput/disk are dependent on hello size category of hello disks</span></span>

<span data-ttu-id="0551f-444">Coût de base dans les cas de hello du stockage Premium n’est pas volume de données réelles hello stockée dans ces disques, mais la catégorie de taille hello d’un tel disque, indépendamment de la quantité de hello de données hello sont stockées dans le disque de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-444">Cost basis in hello case of Premium Storage is not hello actual data volume stored in such disks, but hello size category of such a disk, independent of hello amount of hello data that is stored within hello disk.</span></span>

<span data-ttu-id="0551f-445">Vous pouvez également créer des disques de stockage Premium qui ne sont pas directement mappage en catégories de taille hello indiqués.</span><span class="sxs-lookup"><span data-stu-id="0551f-445">You also can create disks on Premium Storage that are not directly mapping into hello size categories shown.</span></span> <span data-ttu-id="0551f-446">Cela peut être le cas de hello, particulièrement lors de la copie des disques de stockage Standard dans le stockage Premium.</span><span class="sxs-lookup"><span data-stu-id="0551f-446">This may be hello case, especially when copying disks from Standard Storage into Premium Storage.</span></span> <span data-ttu-id="0551f-447">Dans ce cas une mappage toohello plus grand stockage Premium disque option suivante est effectuée.</span><span class="sxs-lookup"><span data-stu-id="0551f-447">In such cases a mapping toohello next largest Premium Storage disk option is performed.</span></span>

<span data-ttu-id="0551f-448">N’oubliez pas que seulement certaines séries de machines virtuelles peuvent bénéficier de hello stockage Azure Premium.</span><span class="sxs-lookup"><span data-stu-id="0551f-448">Be aware that only certain VM series can benefit from hello Azure Premium Storage.</span></span> <span data-ttu-id="0551f-449">Depuis décembre 2015, il s’agit de hello et GS-série DS.</span><span class="sxs-lookup"><span data-stu-id="0551f-449">As of Dec 2015, these are hello DS- and GS-series.</span></span> <span data-ttu-id="0551f-450">Hello série DS est fondamentalement hello même série D avec l’exception hello que la série DS a hello capacité toomount stockage Premium en fonction des machines virtuelles en outre toodisks qui sont hébergés sur le stockage Azure Standard.</span><span class="sxs-lookup"><span data-stu-id="0551f-450">hello DS-series is basically hello same as D-series with hello exception that DS-series has hello ability toomount Premium Storage based VMs additionally toodisks that are hosted on Azure Standard Storage.</span></span> <span data-ttu-id="0551f-451">Même chose est valide pour la série G comparée tooGS-série.</span><span class="sxs-lookup"><span data-stu-id="0551f-451">Same thing is valid for G-series compared tooGS-series.</span></span>

<span data-ttu-id="0551f-452">Si vous retirez partie hello de machines virtuelles de hello série DS dans [cet article (Linux)] [ virtual-machines-sizes-linux] et [cet article (Windows)][virtual-machines-sizes-windows], vous vous rendez compte Il se trouvant données volume limitations tooPremium disques de stockage sur granularité hello Hello au niveau de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-452">If you are checking out hello part of hello DS-series VMs in [this article (Linux)][virtual-machines-sizes-linux] and [this article (Windows)][virtual-machines-sizes-windows], you realize that there are data volume limitations tooPremium Storage disks on hello granularity of hello VM level.</span></span> <span data-ttu-id="0551f-453">Différent de la série DS ou des machines virtuelles de série GS également ont différentes limitations exprimée en ce qui concerne les toohello des disques de données qui peut être monté.</span><span class="sxs-lookup"><span data-stu-id="0551f-453">Different DS-series or GS-series VMs also have different limitations in regards toohello number of data disks that can be mounted.</span></span> <span data-ttu-id="0551f-454">Ces limites sont documentées dans article hello également indiqué ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="0551f-454">These limits are documented in hello article mentioned above as well.</span></span> <span data-ttu-id="0551f-455">Mais il signifie que si vous, par exemple, monter 32 tooa de disques x P30 seule DS14 machine virtuelle vous ne pouvez pas obtenir 32 x débit maximal de hello d’un disque P30.</span><span class="sxs-lookup"><span data-stu-id="0551f-455">But in essence it means that if you, for example, mount 32 x P30 disks tooa single DS14 VM you can NOT get 32 x hello maximum throughput of a P30 disk.</span></span> <span data-ttu-id="0551f-456">Au lieu de cela hello débit maximal sur le niveau de la machine virtuelle comme décrit dans le débit des données limite l’article hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-456">Instead hello maximum throughput on VM level as documented in hello article limits data throughput.</span></span>

<span data-ttu-id="0551f-457">Pour plus d’informations sur le Stockage Premium, consultez la page : <http://azure.microsoft.com/blog/2015/04/16/azure-premium-storage-now-generally-available-2></span><span class="sxs-lookup"><span data-stu-id="0551f-457">More information on Premium Storage can be found here: <http://azure.microsoft.com/blog/2015/04/16/azure-premium-storage-now-generally-available-2></span></span>

#### <span data-ttu-id="0551f-458"><a name="c55b2c6e-3ca1-4476-be16-16c81927550f"></a>Disques managés</span><span class="sxs-lookup"><span data-stu-id="0551f-458"><a name="c55b2c6e-3ca1-4476-be16-16c81927550f"></a>Managed Disks</span></span>
<span data-ttu-id="0551f-459">Les disques managés sont un nouveau type de ressources d’Azure Resource Manager. Ils peuvent être utilisés à la place des disques durs virtuels qui sont stockés dans les comptes de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-459">Managed Disks are a new resource type in Azure Resource Manager that can be used instead of VHDs that are stored in Azure Storage Accounts.</span></span> <span data-ttu-id="0551f-460">Alignent automatiquement des disques gérés par hello à haute disponibilité de la machine virtuelle de hello qu’ils sont attachés tooand donc augmenter la disponibilité de votre machine virtuelle et les services de hello qui s’exécutent sur l’ordinateur virtuel de hello hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-460">Managed Disks automatically align with hello Availability Set of hello virtual machine they are attached tooand therefore increase hello availability of your virtual machine and hello services that are running on hello virtual machine.</span></span> <span data-ttu-id="0551f-461">Pour plus d’informations, consultez hello [l’article de vue d’ensemble](https://docs.microsoft.com/azure/storage/storage-managed-disks-overview).</span><span class="sxs-lookup"><span data-stu-id="0551f-461">For more information, read hello [overview article](https://docs.microsoft.com/azure/storage/storage-managed-disks-overview).</span></span>

<span data-ttu-id="0551f-462">Nous vous recommandons de tooyou, utilisez le disque géré, car ils simplifient le déploiement de hello et la gestion de vos machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="0551f-462">We recommend tooyou use Managed disk, because they simplify hello deployment and management of your virtual machines.</span></span>
<span data-ttu-id="0551f-463">SAP prend uniquement en charge les disques managés Premium.</span><span class="sxs-lookup"><span data-stu-id="0551f-463">SAP currently only supports Premium Managed Disks.</span></span> <span data-ttu-id="0551f-464">Pour plus d’informations, consultez la note SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="0551f-464">For more information, read SAP Note [1928533].</span></span>

#### <a name="azure-storage-accounts"></a><span data-ttu-id="0551f-465">Comptes Stockage Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-465">Azure Storage Accounts</span></span>
<span data-ttu-id="0551f-466">Durant le déploiement de services ou de machines virtuelles dans Azure, le déploiement de VHD et d’images de machine virtuelle peut être organisé dans des unités appelées comptes Stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-466">When deploying services or VMs in Azure, deployment of VHDs and VM Images can be organized in units called Azure Storage Accounts.</span></span> <span data-ttu-id="0551f-467">Lorsque vous planifiez un déploiement d’Azure, vous devez toocarefully tenir compte des restrictions de hello de Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-467">When planning an Azure deployment, you need toocarefully consider hello restrictions of Azure.</span></span> <span data-ttu-id="0551f-468">Hello un côté, il est un nombre limité de comptes de stockage par abonnement Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-468">On hello one side, there is a limited number of Storage Accounts per Azure subscription.</span></span> <span data-ttu-id="0551f-469">Bien que chaque compte de stockage Azure peut contenir un grand nombre de fichiers de disque dur virtuel, il existe une limite donnée sur hello total IOPS par compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="0551f-469">Although each Azure Storage Account can hold a large number of VHD files, there is a fixed limit on hello total IOPS per Storage Account.</span></span> <span data-ttu-id="0551f-470">Lorsque vous déployez des centaines de machines virtuelles SAP avec des systèmes SGBD création d’appels d’e/s importantes, il est recommandé de toodistribute machines virtuelles SGBD IOPS élevé entre plusieurs comptes de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-470">When deploying hundreds of SAP VMs with DBMS systems creating significant IO calls, it is recommended toodistribute high IOPS DBMS VMs between multiple Azure Storage Accounts.</span></span> <span data-ttu-id="0551f-471">Il convient pas tooexceed hello limite actuelle de comptes de stockage Azure par abonnement.</span><span class="sxs-lookup"><span data-stu-id="0551f-471">Care must be taken not tooexceed hello current limit of Azure Storage Accounts per subscription.</span></span> <span data-ttu-id="0551f-472">Étant donné que le stockage est une partie vitale du déploiement de base de données hello pour un système SAP, ce concept est abordé plus en détail dans hello déjà référencé [Guide de déploiement de système SGBD][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="0551f-472">Because storage is a vital part of hello database deployment for an SAP system, this concept is discussed in more detail in hello already referenced [DBMS Deployment Guide][dbms-guide].</span></span>

<span data-ttu-id="0551f-473">Pour plus d’informations sur les comptes de stockage Azure, consultez [cet article][storage-scalability-targets].</span><span class="sxs-lookup"><span data-stu-id="0551f-473">More information about Azure Storage Accounts can be found in [this article][storage-scalability-targets].</span></span> <span data-ttu-id="0551f-474">La lecture de cet article, sachez qu’il existe des différences de limitations de hello entre les comptes de stockage Azure Standard et les comptes de stockage Premium.</span><span class="sxs-lookup"><span data-stu-id="0551f-474">Reading this article, you realize that there are differences in hello limitations between Azure Standard Storage Accounts and Premium Storage Accounts.</span></span> <span data-ttu-id="0551f-475">Principales différences sont volume hello de données qui peuvent être stockées dans un tel compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="0551f-475">Major differences are hello volume of data that can be stored within such a Storage Account.</span></span> <span data-ttu-id="0551f-476">Dans le stockage Standard volume de hello est une magnitude supérieure à stockage Premium.</span><span class="sxs-lookup"><span data-stu-id="0551f-476">In Standard Storage hello volume is a magnitude larger than with Premium Storage.</span></span> <span data-ttu-id="0551f-477">Sur hello autre côté, hello compte de stockage Standard est strictement limitée IOPS (consultez la colonne « Taux de demandes Total »), tandis que le compte de stockage Azure Premium de hello n’a aucune limitation de ce type.</span><span class="sxs-lookup"><span data-stu-id="0551f-477">On hello other side, hello Standard Storage Account is severely limited in IOPS (see column ‘Total Request Rate’), whereas hello Azure Premium Storage Account has no such limitation.</span></span> <span data-ttu-id="0551f-478">Nous allons décrire les détails et les résultats de ces différences lorsque vous présentez des déploiements de systèmes SAP, notamment les serveurs de SGBD hello hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-478">We will discuss details and results of these differences when discussing hello deployments of SAP systems, especially hello DBMS servers.</span></span>

<span data-ttu-id="0551f-479">Dans un compte de stockage, vous avez hello possibilité toocreate des conteneurs différents à des fins de hello d’organisation et de classement différents disques durs virtuels.</span><span class="sxs-lookup"><span data-stu-id="0551f-479">Within a Storage Account, you have hello possibility toocreate different containers for hello purpose of organizing and categorizing different VHDs.</span></span> <span data-ttu-id="0551f-480">Ces conteneurs sont généralement utilisés pour, par exemple, séparer les VHD des diverses machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="0551f-480">These containers are usually used to, for example, separate VHDs of different VMs.</span></span> <span data-ttu-id="0551f-481">Peu importe le nombre de conteneurs que vous utilisez pour un seul compte Stockage Azure, les performances n’en seront pas affectées.</span><span class="sxs-lookup"><span data-stu-id="0551f-481">There are no performance implications in using just one container or multiple containers underneath a single Azure Storage Account.</span></span>

<span data-ttu-id="0551f-482">Dans Azure, un nom de disque dur virtuel suit hello suivant d’affectation de noms connexion nécessitant tooprovide un nom unique pour hello disque dur virtuel dans Azure :</span><span class="sxs-lookup"><span data-stu-id="0551f-482">Within Azure a VHD name follows hello following naming connection that needs tooprovide a unique name for hello VHD within Azure:</span></span>

    http(s)://<storage account name>.blob.core.windows.net/<container name>/<vhd name>

<span data-ttu-id="0551f-483">En tant que chaîne hello mentionnées ci-dessus toouniquely doit identifier hello disque dur virtuel qui est stocké sur le stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-483">As mentioned hello string above needs toouniquely identify hello VHD that is stored on Azure Storage.</span></span>

### <span data-ttu-id="0551f-484"><a name="61678387-8868-435d-9f8c-450b2424f5bd"></a>Mise en réseau Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-484"><a name="61678387-8868-435d-9f8c-450b2424f5bd"></a>Microsoft Azure Networking</span></span>
<span data-ttu-id="0551f-485">Microsoft Azure offre une infrastructure réseau, ce qui permet le mappage hello de tous les scénarios, que nous souhaitons toorealize avec les logiciels SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-485">Microsoft Azure provides a network infrastructure, which allows hello mapping of all scenarios, which we want toorealize with SAP software.</span></span> <span data-ttu-id="0551f-486">fonctionnalités de Hello sont :</span><span class="sxs-lookup"><span data-stu-id="0551f-486">hello capabilities are:</span></span>

* <span data-ttu-id="0551f-487">Accès à partir de hello extérieur, directement toohello machines virtuelles via les Services Windows Terminal Server ou de ssh/VNC</span><span class="sxs-lookup"><span data-stu-id="0551f-487">Access from hello outside, directly toohello VMs via Windows Terminal Services or ssh/VNC</span></span>
* <span data-ttu-id="0551f-488">Tooservices d’accès et des ports spécifiques utilisés par les applications dans des machines virtuelles de hello</span><span class="sxs-lookup"><span data-stu-id="0551f-488">Access tooservices and specific ports used by applications within hello VMs</span></span>
* <span data-ttu-id="0551f-489">communication interne et résolution de noms entre un groupe de machines virtuelles déployées en tant que machines virtuelles Azure ;</span><span class="sxs-lookup"><span data-stu-id="0551f-489">Internal Communication and Name Resolution between a group of VMs deployed as Azure VMs</span></span>
* <span data-ttu-id="0551f-490">La connectivité intersite entre d’un client réseau local et hello réseau Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-490">Cross-premises Connectivity between a customer’s on-premises network and hello Azure network</span></span>
* <span data-ttu-id="0551f-491">connectivité entre le centre de données ou la région Azure entre les sites Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-491">Cross Azure Region or data center connectivity between Azure sites</span></span>

<span data-ttu-id="0551f-492">Pour plus d’informations, consultez la page : <https://azure.microsoft.com/documentation/services/virtual-network/></span><span class="sxs-lookup"><span data-stu-id="0551f-492">More information can be found here: <https://azure.microsoft.com/documentation/services/virtual-network/></span></span>

<span data-ttu-id="0551f-493">Il existe plusieurs nom tooconfigure de différentes possibilités et résolution IP dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-493">There are many different possibilities tooconfigure name and IP resolution in Azure.</span></span> <span data-ttu-id="0551f-494">Dans ce document, les scénarios de Cloud uniquement s’appuient sur par défaut hello utilisant Azure DNS (en contraste toodefining un service DNS propre).</span><span class="sxs-lookup"><span data-stu-id="0551f-494">In this document, Cloud-Only scenarios rely on hello default of using Azure DNS (in contrast toodefining an own DNS service).</span></span> <span data-ttu-id="0551f-495">Il existe également un nouveau service DNS Azure, qui peut être utilisé au lieu de configurer votre propre serveur DNS.</span><span class="sxs-lookup"><span data-stu-id="0551f-495">There is also a new Azure DNS service, which can be used instead of setting up your own DNS server.</span></span> <span data-ttu-id="0551f-496">Pour plus d’informations, consultez [cet article][virtual-networks-manage-dns-in-vnet] et [cette page](https://azure.microsoft.com/services/dns/).</span><span class="sxs-lookup"><span data-stu-id="0551f-496">More information can be found in [this article][virtual-networks-manage-dns-in-vnet] and on [this page](https://azure.microsoft.com/services/dns/).</span></span>

<span data-ttu-id="0551f-497">Pour les scénarios de coexistence, partent les faits hello que hello local OpenLDAP/AD/DNS a été étendu via VPN ou connexion privée tooAzure.</span><span class="sxs-lookup"><span data-stu-id="0551f-497">For cross-premises scenarios, we are relying on hello fact that hello on-premises AD/OpenLDAP/DNS has been extended via VPN or private connection tooAzure.</span></span> <span data-ttu-id="0551f-498">Pour certains scénarios décrits ici, il peut être nécessaire toohave un réplica AD/OpenLDAP installé dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-498">For certain scenarios as documented here, it might be necessary toohave an AD/OpenLDAP replica installed in Azure.</span></span>

<span data-ttu-id="0551f-499">Étant donné que la mise en réseau et la résolution de noms est une partie vitale du déploiement de base de données hello pour un système SAP, ce concept est abordé plus en détail dans hello [Guide de déploiement de système SGBD][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="0551f-499">Because networking and name resolution is a vital part of hello database deployment for an SAP system, this concept is discussed in more detail in hello [DBMS Deployment Guide][dbms-guide].</span></span>

##### <a name="azure-virtual-networks"></a><span data-ttu-id="0551f-500">Réseaux virtuels Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-500">Azure Virtual Networks</span></span>
<span data-ttu-id="0551f-501">En créant un réseau virtuel Azure, vous pouvez définir la plage d’adresses hello d’adresses IP privées hello allouée par la fonctionnalité Azure DHCP.</span><span class="sxs-lookup"><span data-stu-id="0551f-501">By building up an Azure Virtual Network, you can define hello address range of hello private IP addresses allocated by Azure DHCP functionality.</span></span> <span data-ttu-id="0551f-502">Dans les scénarios de coexistence, plage d’adresses IP hello défini est toujours allouée à l’aide de DHCP par Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-502">In cross-premises scenarios, hello IP address range defined is still allocated using DHCP by Azure.</span></span> <span data-ttu-id="0551f-503">Toutefois, la résolution de noms de domaine est effectuée localement (en supposant que les machines virtuelles de hello sont une partie d’un domaine local) et par conséquent, peut résoudre les adresses au-delà de différents Services Cloud Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-503">However, Domain Name resolution is done on-premises (assuming that hello VMs are a part of an on-premises domain) and hence can resolve addresses beyond different Azure Cloud Services.</span></span>

<span data-ttu-id="0551f-504">Chaque Machine virtuelle dans Azure besoins toobe connecté tooa réseau virtuel.</span><span class="sxs-lookup"><span data-stu-id="0551f-504">Every Virtual Machine in Azure needs toobe connected tooa Virtual Network.</span></span>

<span data-ttu-id="0551f-505">Pour plus d’informations, consultez [cet article][resource-groups-networking] et [cette page](https://azure.microsoft.com/documentation/services/virtual-network/).</span><span class="sxs-lookup"><span data-stu-id="0551f-505">More details can be found in [this article][resource-groups-networking] and on [this page](https://azure.microsoft.com/documentation/services/virtual-network/).</span></span>

[comment]: <> (MShermannd, TODO n’a pas pu trouver un article qui comprend une rubrique de OpenLDAP hello + ARM ;)
[comment]: <> (MSSedusch &lt;https://channel9.msdn.com/Blogs/Open/Load-balancing-highly-available-Linux-services-on-Windows-Azure-OpenLDAP-and-MySQL&gt;)

> [!NOTE]
> <span data-ttu-id="0551f-508">Par défaut, une fois qu’un ordinateur virtuel est déployé, vous ne pouvez pas modifier configuration du réseau virtuel hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-508">By default, once a VM is deployed you cannot change hello Virtual Network configuration.</span></span> <span data-ttu-id="0551f-509">les paramètres TCP/IP Hello doivent rester serveur DHCP Azure de toohello.</span><span class="sxs-lookup"><span data-stu-id="0551f-509">hello TCP/IP settings must be left toohello Azure DHCP server.</span></span> <span data-ttu-id="0551f-510">Le comportement par défaut est l’attribution d’adresse IP dynamique.</span><span class="sxs-lookup"><span data-stu-id="0551f-510">Default behavior is Dynamic IP assignment.</span></span>
>
>

<span data-ttu-id="0551f-511">Hello adresse MAC de carte de réseau virtuel hello peut-être changer, par exemple après le redimensionnement et hello Windows ou récupère nouvelle carte réseau de hello et utilise automatiquement DHCP tooassign hello DNS les adresses IP et dans ce cas le système d’exploitation invité de Linux.</span><span class="sxs-lookup"><span data-stu-id="0551f-511">hello MAC address of hello virtual network card may change, for example after resize and hello Windows or Linux guest OS picks up hello new network card and automatically uses DHCP tooassign hello IP and DNS addresses in this case.</span></span>

##### <a name="static-ip-assignment"></a><span data-ttu-id="0551f-512">Attribution d’adresse IP statique</span><span class="sxs-lookup"><span data-stu-id="0551f-512">Static IP Assignment</span></span>
<span data-ttu-id="0551f-513">Il est possible de tooassign fixée ou tooVMs au sein d’un réseau virtuel Azure d’adresses IP réservées.</span><span class="sxs-lookup"><span data-stu-id="0551f-513">It is possible tooassign fixed or reserved IP addresses tooVMs within an Azure Virtual Network.</span></span> <span data-ttu-id="0551f-514">Machines virtuelles de hello en cours d’exécution dans un réseau virtuel Azure s’ouvre un tooleverage possibilité excellent cette fonctionnalité si nécessaire ou requis pour certains scénarios.</span><span class="sxs-lookup"><span data-stu-id="0551f-514">Running hello VMs in an Azure Virtual Network opens a great possibility tooleverage this functionality if needed or required for some scenarios.</span></span> <span data-ttu-id="0551f-515">attribution d’adresses IP Hello reste valable pour l’ensemble de l’existence de hello Hello machine virtuelle, indépendamment de si hello machine virtuelle est en cours d’exécution ou de l’arrêt.</span><span class="sxs-lookup"><span data-stu-id="0551f-515">hello IP assignment remains valid throughout hello existence of hello VM, independent of whether hello VM is running or shutdown.</span></span> <span data-ttu-id="0551f-516">Par conséquent, vous devez tootake hello nombre total de machines virtuelles (machines virtuelles en cours d’exécution et arrêtés) en compte lors de la définition hello plage d’adresses IP pour hello réseau virtuel.</span><span class="sxs-lookup"><span data-stu-id="0551f-516">As a result, you need tootake hello overall number of VMs (running and stopped VMS) into account when defining hello range of IP addresses for hello Virtual Network.</span></span> <span data-ttu-id="0551f-517">adresse IP de Hello reste associé jusqu'à la suppression hello machine virtuelle et son Interface réseau ou jusqu'à ce que l’adresse IP de hello est désallouée à nouveau.</span><span class="sxs-lookup"><span data-stu-id="0551f-517">hello IP address remains assigned either until hello VM and its Network Interface is deleted or until hello IP address gets de-assigned again.</span></span> <span data-ttu-id="0551f-518">Pour plus d’informations, consultez [cet article][virtual-networks-static-private-ip-arm-pportal].</span><span class="sxs-lookup"><span data-stu-id="0551f-518">For more information, read [this article][virtual-networks-static-private-ip-arm-pportal].</span></span>

##### <a name="multiple-nics-per-vm"></a><span data-ttu-id="0551f-519">Plusieurs cartes d’interface réseau par machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="0551f-519">Multiple NICs per VM</span></span>
<span data-ttu-id="0551f-520">Vous pouvez définir plusieurs cartes d’interface de réseau virtuel pour une machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-520">You can define multiple virtual network interface cards (vNIC) for an Azure Virtual Machine.</span></span> <span data-ttu-id="0551f-521">Hello capacité toohave plusieurs cartes réseau permet de démarrer tooset de séparation du trafic réseau où, par exemple, le trafic du client est routé via une carte réseau et le trafic du serveur principal est routé via une carte réseau virtuelle deuxième.</span><span class="sxs-lookup"><span data-stu-id="0551f-521">With hello ability toohave multiple vNICs you can start tooset up network traffic separation where, for example, client traffic is routed through one vNIC and backend traffic is routed through a second vNIC.</span></span> <span data-ttu-id="0551f-522">En fonction de type hello de l’ordinateur virtuel comporte des limites différentes ce qui concerne le nombre toohello de cartes réseau.</span><span class="sxs-lookup"><span data-stu-id="0551f-522">Dependent on hello type of VM there are different limitations in regards toohello number of vNICs.</span></span> <span data-ttu-id="0551f-523">Vous trouverez des informations précises et des renseignements sur les fonctions et les restrictions dans ces articles :</span><span class="sxs-lookup"><span data-stu-id="0551f-523">Exact details, functionality, and restrictions can be found in these articles:</span></span>

* <span data-ttu-id="0551f-524">[Créer une machine virtuelle Windows avec plusieurs cartes d’interface réseau (NIC)][virtual-networks-multiple-nics-windows]</span><span class="sxs-lookup"><span data-stu-id="0551f-524">[Create a Windows VM with multiple NICs][virtual-networks-multiple-nics-windows]</span></span>
* <span data-ttu-id="0551f-525">[Créer une machine virtuelle Linux avec plusieurs cartes réseau][virtual-networks-multiple-nics-linux]</span><span class="sxs-lookup"><span data-stu-id="0551f-525">[Create a Linux VM with multiple NICs][virtual-networks-multiple-nics-linux]</span></span>
* <span data-ttu-id="0551f-526">[Déployer des machines virtuelles avec plusieurs cartes réseau à l’aide d’un modèle][virtual-network-deploy-multinic-arm-template]</span><span class="sxs-lookup"><span data-stu-id="0551f-526">[Deploy multi NIC VMs using a template][virtual-network-deploy-multinic-arm-template]</span></span>
* <span data-ttu-id="0551f-527">[Déployer des machines virtuelles avec plusieurs cartes réseau à l’aide de PowerShell][virtual-network-deploy-multinic-arm-ps]</span><span class="sxs-lookup"><span data-stu-id="0551f-527">[Deploy multi NIC VMs using PowerShell][virtual-network-deploy-multinic-arm-ps]</span></span>
* <span data-ttu-id="0551f-528">[Déployer des machines virtuelles de cartes réseau multiples à l’aide de hello CLI d’Azure][virtual-network-deploy-multinic-arm-cli]</span><span class="sxs-lookup"><span data-stu-id="0551f-528">[Deploy multi NIC VMs using hello Azure CLI][virtual-network-deploy-multinic-arm-cli]</span></span>

#### <a name="site-to-site-connectivity"></a><span data-ttu-id="0551f-529">Connectivité de site à site</span><span class="sxs-lookup"><span data-stu-id="0551f-529">Site-to-Site Connectivity</span></span>
<span data-ttu-id="0551f-530">La connectivité intersite consiste à lier, via une connexion VPN transparente et permanente, les machines virtuelles Azure et les sites locaux.</span><span class="sxs-lookup"><span data-stu-id="0551f-530">Cross-premises is Azure VMs and On-Premises linked with a transparent and permanent VPN connection.</span></span> <span data-ttu-id="0551f-531">Il est attendu toobecome hello courants modèle de déploiement SAP dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-531">It is expected toobecome hello most common SAP deployment pattern in Azure.</span></span> <span data-ttu-id="0551f-532">hypothèse de Hello est que les procédures d’exploitation et les processus avec des instances SAP dans Azure doivent fonctionner en toute transparence.</span><span class="sxs-lookup"><span data-stu-id="0551f-532">hello assumption is that operational procedures and processes with SAP instances in Azure should work transparently.</span></span> <span data-ttu-id="0551f-533">Cela signifie que vous devez être en mesure de tooprint depuis ces systèmes, ainsi que hello tootransport de système de gestion de Transport SAP (TMS) change à partir d’un système de développement dans le système de test tooa Azure, qui est déployé sur site.</span><span class="sxs-lookup"><span data-stu-id="0551f-533">This means you should be able tooprint out of these systems as well as use hello SAP Transport Management System (TMS) tootransport changes from a development system in Azure tooa test system, which is deployed on-premises.</span></span> <span data-ttu-id="0551f-534">Pour plus d’informations sur la connectivité intersite, consultez [cet article][vpn-gateway-create-site-to-site-rm-powershell]</span><span class="sxs-lookup"><span data-stu-id="0551f-534">More documentation around site-to-site can be found in [this article][vpn-gateway-create-site-to-site-rm-powershell]</span></span>

##### <a name="vpn-tunnel-device"></a><span data-ttu-id="0551f-535">Tunnel VPN</span><span class="sxs-lookup"><span data-stu-id="0551f-535">VPN Tunnel Device</span></span>
<span data-ttu-id="0551f-536">Dans commande toocreate une connexion site à site (local données center tooAzure centre de données), vous devez tooeither obtenir et configurer un périphérique VPN ou utiliser le routage et accès distant Service (RRAS) qui a été introduit en tant que composant logiciel avec Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="0551f-536">In order toocreate a site-to-site connection (on-premises data center tooAzure data center), you need tooeither obtain and configure a VPN device, or use Routing and Remote Access Service (RRAS) which was introduced as a software component with Windows Server 2012.</span></span>

* <span data-ttu-id="0551f-537">[Créer un réseau virtuel avec une connexion VPN site à site à l’aide de PowerShell][vpn-gateway-create-site-to-site-rm-powershell]</span><span class="sxs-lookup"><span data-stu-id="0551f-537">[Create a virtual network with a site-to-site VPN connection using PowerShell][vpn-gateway-create-site-to-site-rm-powershell]</span></span>
* <span data-ttu-id="0551f-538">[À propos des périphériques VPN pour les connexions de la passerelle VPN de site à site][vpn-gateway-about-vpn-devices]</span><span class="sxs-lookup"><span data-stu-id="0551f-538">[About VPN devices for Site-to-Site VPN Gateway connections][vpn-gateway-about-vpn-devices]</span></span>
* <span data-ttu-id="0551f-539">[FAQ sur la passerelle VPN][vpn-gateway-vpn-faq]</span><span class="sxs-lookup"><span data-stu-id="0551f-539">[VPN Gateway FAQ][vpn-gateway-vpn-faq]</span></span>

![Connexion de site à site entre des systèmes locaux et dans Azure][planning-guide-figure-600]

<span data-ttu-id="0551f-541">Hello Figure ci-dessus montre deux abonnements Azure ont des sous-plages d’adresse IP réservée pour une utilisation dans des réseaux virtuels dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-541">hello Figure above shows two Azure subscriptions have IP address subranges reserved for usage in Virtual Networks in Azure.</span></span> <span data-ttu-id="0551f-542">connectivité Hello de hello local tooAzure de réseau est établie via VPN.</span><span class="sxs-lookup"><span data-stu-id="0551f-542">hello connectivity from hello on-premises network tooAzure is established via VPN.</span></span>

#### <a name="point-to-site-vpn"></a><span data-ttu-id="0551f-543">VPN de point à site</span><span class="sxs-lookup"><span data-stu-id="0551f-543">Point-to-Site VPN</span></span>
<span data-ttu-id="0551f-544">Point-to-site VPN requiert chaque tooconnect d’ordinateur client avec son propre réseau privé virtuel dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-544">Point-to-site VPN requires every client machine tooconnect with its own VPN into Azure.</span></span> <span data-ttu-id="0551f-545">Pour des scénarios SAP hello que nous étudions, la connectivité de point à site n’est pas pratique.</span><span class="sxs-lookup"><span data-stu-id="0551f-545">For hello SAP scenarios we are looking at, point-to-site connectivity is not practical.</span></span> <span data-ttu-id="0551f-546">Par conséquent, aucune référence supplémentaire à ne figurent la connectivité VPN de site à toopoint.</span><span class="sxs-lookup"><span data-stu-id="0551f-546">Therefore, no further references are given toopoint-to-site VPN connectivity.</span></span>

<span data-ttu-id="0551f-547">Des informations supplémentaires sont disponibles dans les documents suivants :</span><span class="sxs-lookup"><span data-stu-id="0551f-547">More information can be found here</span></span>
* [<span data-ttu-id="0551f-548">Configurer un tooa de connexion de Point-to-Site réseau virtuel à l’aide de hello portail Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-548">Configure a Point-to-Site connection tooa VNet using hello Azure portal</span></span>](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-howto-point-to-site-resource-manager-portal)
* [<span data-ttu-id="0551f-549">Configurer un tooa de connexion de Point-to-Site réseau virtuel à l’aide de PowerShell</span><span class="sxs-lookup"><span data-stu-id="0551f-549">Configure a Point-to-Site connection tooa VNet using PowerShell</span></span>](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-howto-point-to-site-rm-ps)

#### <a name="multi-site-vpn"></a><span data-ttu-id="0551f-550">VPN multisite</span><span class="sxs-lookup"><span data-stu-id="0551f-550">Multi-Site VPN</span></span>
<span data-ttu-id="0551f-551">Azure propose également de nos connectivité de VPN multisite toocreate hello possibilité pour un abonnement Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-551">Azure also nowadays offers hello possibility toocreate Multi-Site VPN connectivity for one Azure subscription.</span></span> <span data-ttu-id="0551f-552">Un seul abonnement était auparavant une connexion VPN de site à site tooone limité.</span><span class="sxs-lookup"><span data-stu-id="0551f-552">Previously a single subscription was limited tooone site-to-site VPN connection.</span></span> <span data-ttu-id="0551f-553">Cette limitation a disparu et vous pouvez désormais bénéficier de connexions VPN multisites par abonnement.</span><span class="sxs-lookup"><span data-stu-id="0551f-553">This limitation went away with Multi-Site VPN connections for a single subscription.</span></span> <span data-ttu-id="0551f-554">Il est ainsi possible de tooleverage plus d’une région Azure pour un abonnement spécifique par le biais des configurations intersite.</span><span class="sxs-lookup"><span data-stu-id="0551f-554">This makes it possible tooleverage more than one Azure Region for a specific subscription through cross-premises configurations.</span></span>

<span data-ttu-id="0551f-555">Pour plus d’informations, consultez [cet article][vpn-gateway-create-site-to-site-rm-powershell].</span><span class="sxs-lookup"><span data-stu-id="0551f-555">For more documentation, please see [this article][vpn-gateway-create-site-to-site-rm-powershell]</span></span>

[comment]: <> (MShermannd TODO found no ARM docu link)

#### <a name="vnet-toovnet-connection"></a><span data-ttu-id="0551f-557">Réseau virtuel tooVNet connexion</span><span class="sxs-lookup"><span data-stu-id="0551f-557">VNet tooVNet Connection</span></span>
<span data-ttu-id="0551f-558">À l’aide de VPN multisite, vous devez tooconfigure un réseau virtuel Azure distinct dans chacune des régions de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-558">Using Multi-Site VPN, you need tooconfigure a separate Azure Virtual Network in each of hello regions.</span></span> <span data-ttu-id="0551f-559">Toutefois très souvent, vous avez besoin de hello des composants logiciels hello dans des régions différentes hello doivent communiquer entre eux.</span><span class="sxs-lookup"><span data-stu-id="0551f-559">However very often you have hello requirement that hello software components in hello different regions should communicate with each other.</span></span> <span data-ttu-id="0551f-560">Dans l’idéal, cette communication ne doit pas être acheminée à partir d’une région Azure tooon local et en provenance toohello il autre région Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-560">Ideally this communication should not be routed from one Azure Region tooon-premises and from there toohello other Azure Region.</span></span> <span data-ttu-id="0551f-561">tooshortcut, Azure offre hello possibilité tooconfigure une connexion à partir d’un réseau virtuel Azure dans une région tooanother que réseau virtuel Azure hébergé dans une autre région.</span><span class="sxs-lookup"><span data-stu-id="0551f-561">tooshortcut, Azure offers hello possibility tooconfigure a connection from one Azure Virtual Network in one region tooanother Azure Virtual Network hosted in another region.</span></span> <span data-ttu-id="0551f-562">Cette fonctionnalité est appelée connexion de réseau virtuel à réseau virtuel.</span><span class="sxs-lookup"><span data-stu-id="0551f-562">This functionality is called VNet-to-VNet connection.</span></span> <span data-ttu-id="0551f-563">Pour plus d’informations sur cette fonctionnalité, consultez : <https://azure.microsoft.com/documentation/articles/vpn-gateway-vnet-vnet-rm-ps/>.</span><span class="sxs-lookup"><span data-stu-id="0551f-563">More details on this functionality can be found here: <https://azure.microsoft.com/documentation/articles/vpn-gateway-vnet-vnet-rm-ps/>.</span></span>

#### <a name="private-connection-tooazure--expressroute"></a><span data-ttu-id="0551f-564">TooAzure de connexion privée – ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="0551f-564">Private Connection tooAzure – ExpressRoute</span></span>
<span data-ttu-id="0551f-565">Microsoft Azure ExpressRoute permet la création de hello des connexions privées entre des centres de données Azure et l’infrastructure du client hello-locale ou dans un environnement de colocalisation.</span><span class="sxs-lookup"><span data-stu-id="0551f-565">Microsoft Azure ExpressRoute allows hello creation of private connections between Azure data centers and either hello customer's on-premises infrastructure or in a co-location environment.</span></span> <span data-ttu-id="0551f-566">ExpressRoute est proposé par divers fournisseurs VPN (commutation de paquets) MPLS ou d’autres fournisseurs de services réseau.</span><span class="sxs-lookup"><span data-stu-id="0551f-566">ExpressRoute is offered by various MPLS (packet switched) VPN providers or other Network Service Providers.</span></span> <span data-ttu-id="0551f-567">Les connexions ExpressRoute ne sont pas établies via hello Internet public.</span><span class="sxs-lookup"><span data-stu-id="0551f-567">ExpressRoute connections do not go over hello public Internet.</span></span> <span data-ttu-id="0551f-568">Et offrent une sécurité accrue, une fiabilité accrue via plusieurs circuits parallèles, des débits plus importants et des latences moindres rapport aux connexions classiques sur Internet de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-568">ExpressRoute connections offer higher security, more reliability through multiple parallel circuits, faster speeds, and lower latencies than typical connections over hello Internet.</span></span>

<span data-ttu-id="0551f-569">Vous trouverez plus d’informations sur Azure ExpressRoute et les offres ici : </span><span class="sxs-lookup"><span data-stu-id="0551f-569">Find more details on Azure ExpressRoute and offerings here:</span></span>

* <span data-ttu-id="0551f-570"><https://azure.microsoft.com/documentation/services/expressroute/></span><span class="sxs-lookup"><span data-stu-id="0551f-570"><https://azure.microsoft.com/documentation/services/expressroute/></span></span>
* <span data-ttu-id="0551f-571"><https://azure.microsoft.com/pricing/details/expressroute/></span><span class="sxs-lookup"><span data-stu-id="0551f-571"><https://azure.microsoft.com/pricing/details/expressroute/></span></span>
* <span data-ttu-id="0551f-572"><https://azure.microsoft.com/documentation/articles/expressroute-faqs/></span><span class="sxs-lookup"><span data-stu-id="0551f-572"><https://azure.microsoft.com/documentation/articles/expressroute-faqs/></span></span>

<span data-ttu-id="0551f-573">ExpressRoute permet d’utiliser plusieurs abonnements Azure via un seul circuit ExpressRoute, comme décrit ici</span><span class="sxs-lookup"><span data-stu-id="0551f-573">Express Route enables multiple Azure subscriptions through one ExpressRoute circuit as documented here</span></span>

* <span data-ttu-id="0551f-574"><https://azure.microsoft.com/documentation/articles/expressroute-howto-linkvnet-arm/></span><span class="sxs-lookup"><span data-stu-id="0551f-574"><https://azure.microsoft.com/documentation/articles/expressroute-howto-linkvnet-arm/></span></span>
* <span data-ttu-id="0551f-575"><https://azure.microsoft.com/documentation/articles/expressroute-howto-circuit-arm/></span><span class="sxs-lookup"><span data-stu-id="0551f-575"><https://azure.microsoft.com/documentation/articles/expressroute-howto-circuit-arm/></span></span>

#### <a name="forced-tunneling-in-case-of-cross-premises"></a><span data-ttu-id="0551f-576">Tunneling forcé en cas de scénario intersite</span><span class="sxs-lookup"><span data-stu-id="0551f-576">Forced tunneling in case of cross-premises</span></span>
<span data-ttu-id="0551f-577">Pour les ordinateurs virtuels de l’adhésion à des domaines sur site à site à site, point-to-site ou ExpressRoute, vous devez toomake assurer que les paramètres de proxy Internet hello sont déployés pour tous les utilisateurs de hello dans ces machines virtuelles ainsi.</span><span class="sxs-lookup"><span data-stu-id="0551f-577">For VMs joining on-premises domains through site-to-site, point-to-site or ExpressRoute, you need toomake sure that hello Internet proxy settings are getting deployed for all hello users in those VMs as well.</span></span> <span data-ttu-id="0551f-578">Par défaut, les logiciels exécutés dans ces machines virtuelles ou les utilisateurs à l’aide d’un Bonjour tooaccess de navigateur internet ne passe pas par le proxy d’entreprise hello, mais qu’il se connecte directement par le biais d’Azure toohello internet.</span><span class="sxs-lookup"><span data-stu-id="0551f-578">By default, software running in those VMs or users using a browser tooaccess hello internet would not go through hello company proxy, but would connect straight through Azure toohello internet.</span></span> <span data-ttu-id="0551f-579">Mais le paramètre de proxy même hello n’est pas un solution de 100 % toodirect hello du trafic via le proxy d’entreprise hello, car il incombe de logiciels et services toocheck pour le proxy de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-579">But even hello proxy setting is not a 100% solution toodirect hello traffic through hello company proxy since it is responsibility of software and services toocheck for hello proxy.</span></span> <span data-ttu-id="0551f-580">Si le logiciel en cours d’exécution dans la machine virtuelle de hello n'est pas cette opération ou qu’un administrateur manipule les paramètres de hello, toohello de trafic Internet peut être à nouveau détournée directement par le biais d’Azure toohello Internet.</span><span class="sxs-lookup"><span data-stu-id="0551f-580">If software running in hello VM is not doing that or an administrator manipulates hello settings, traffic toohello Internet can be detoured again directly through Azure toohello Internet.</span></span>

<span data-ttu-id="0551f-581">Dans commande tooavoid cela, vous pouvez configurer la Tunneling forcé avec une connectivité de site à site entre Azure et locaux.</span><span class="sxs-lookup"><span data-stu-id="0551f-581">In order tooavoid this, you can configure Forced Tunneling with site-to-site connectivity between on-premises and Azure.</span></span> <span data-ttu-id="0551f-582">Hello description détaillée de la fonctionnalité de Tunneling forcé hello est publiée ici <https://azure.microsoft.com/documentation/articles/vpn-gateway-forced-tunneling-rm/></span><span class="sxs-lookup"><span data-stu-id="0551f-582">hello detailed description of hello Forced Tunneling feature is published here <https://azure.microsoft.com/documentation/articles/vpn-gateway-forced-tunneling-rm/></span></span>

<span data-ttu-id="0551f-583">Tunneling forcé avec ExpressRoute est activé par des clients annonçant un itinéraire par défaut via hello BGP ExpressRoute sessions d’homologation.</span><span class="sxs-lookup"><span data-stu-id="0551f-583">Forced Tunneling with ExpressRoute is enabled by customers advertising a default route via hello ExpressRoute BGP peering sessions.</span></span>

#### <a name="summary-of-azure-networking"></a><span data-ttu-id="0551f-584">Résumé de la mise en réseau Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-584">Summary of Azure Networking</span></span>
<span data-ttu-id="0551f-585">Ce chapitre abordait plusieurs points importants sur la mise en réseau Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-585">This chapter contained many important points about Azure Networking.</span></span> <span data-ttu-id="0551f-586">Voici un résumé des points principaux de hello :</span><span class="sxs-lookup"><span data-stu-id="0551f-586">Here is a summary of hello main points:</span></span>

* <span data-ttu-id="0551f-587">Réseaux virtuels Azure permet de tooset réseau hello en fonction des besoins propres tooyour</span><span class="sxs-lookup"><span data-stu-id="0551f-587">Azure Virtual Networks allows tooset up hello network according tooyour own needs</span></span>
* <span data-ttu-id="0551f-588">Réseaux virtuels Azure peut être exploitée tooassign IP adresse plages tooVMs ou affecter tooVMs d’adresses IP fixes</span><span class="sxs-lookup"><span data-stu-id="0551f-588">Azure Virtual Networks can be leveraged tooassign IP address ranges tooVMs or assign fixed IP addresses tooVMs</span></span>
* <span data-ttu-id="0551f-589">tooset configuration d’un Site à Site ou d’une connexion de Point-To-Site vous devez tout d’abord les toocreate un réseau virtuel Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-589">tooset up a Site-To-Site or Point-To-Site connection you need toocreate an Azure Virtual Network first</span></span>
* <span data-ttu-id="0551f-590">Une fois qu’un ordinateur virtuel a été déployé, il n’est plus hello toochange possible de que réseau virtuel affecté toohello machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="0551f-590">Once a virtual machine has been deployed, it is no longer possible toochange hello Virtual Network assigned toohello VM</span></span>

### <a name="quotas-in-azure-virtual-machine-services"></a><span data-ttu-id="0551f-591">Quotas dans Azure Virtual Machine Services</span><span class="sxs-lookup"><span data-stu-id="0551f-591">Quotas in Azure Virtual Machine Services</span></span>
<span data-ttu-id="0551f-592">Nous avons besoin toobe effacer sur les faits hello que le stockage hello et l’infrastructure réseau est partagée entre les ordinateurs virtuels en cours d’exécution une variété de services Bonjour infrastructure Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-592">We need toobe clear about hello fact that hello storage and network infrastructure is shared between VMs running a variety of services in hello Azure infrastructure.</span></span> <span data-ttu-id="0551f-593">Et, comme dans des centres de données hello du client, un approvisionnement de certains des ressources d’infrastructure hello prend place tooa degré.</span><span class="sxs-lookup"><span data-stu-id="0551f-593">And just as in hello customer’s own data centers, over-provisioning of some of hello infrastructure resources does take place tooa degree.</span></span> <span data-ttu-id="0551f-594">Hello plateforme Microsoft Azure utilise le disque, du processeur, réseau et autres quotas toolimit hello la consommation des ressources toopreserve des performances cohérentes et déterministes.</span><span class="sxs-lookup"><span data-stu-id="0551f-594">hello Microsoft Azure Platform uses disk, CPU, network, and other quotas toolimit hello resource consumption and toopreserve consistent and deterministic performance.</span></span>  <span data-ttu-id="0551f-595">Hello différents types de machine virtuelle (A5, A6, etc.) ont des quotas différents pour le nombre de hello de disques, processeur, mémoire RAM et réseau.</span><span class="sxs-lookup"><span data-stu-id="0551f-595">hello different VM types (A5, A6, etc.) have different quotas for hello number of disks, CPU, RAM, and Network.</span></span>

> [!NOTE]
> <span data-ttu-id="0551f-596">Ressources processeur et mémoire de types de machine virtuelle hello pris en charge par SAP sont pré-allouées sur les nœuds d’hôte hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-596">CPU and memory resources of hello VM types supported by SAP are pre-allocated on hello host nodes.</span></span> <span data-ttu-id="0551f-597">Cela signifie qu’une fois hello ordinateur virtuel est déployé, ressources hello sur l’ordinateur hôte de hello sont disponibles comme défini par hello type d’ordinateurs virtuels.</span><span class="sxs-lookup"><span data-stu-id="0551f-597">This means that once hello VM is deployed, hello resources on hello host are available as defined by hello VM type.</span></span>
>
>

<span data-ttu-id="0551f-598">Lorsque la planification et le dimensionnement de SAP sur les solutions Azure hello quotas pour chaque taille de machine virtuelle doit être pris en compte.</span><span class="sxs-lookup"><span data-stu-id="0551f-598">When planning and sizing SAP on Azure solutions hello quotas for each virtual machine size must be considered.</span></span> <span data-ttu-id="0551f-599">Décrit des quotas de machine virtuelle Hello [ici (Linux)] [ virtual-machines-sizes-linux] et [ici (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="0551f-599">hello VM quotas are described [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="0551f-600">les quotas de Hello décrits représentent les valeurs maximales théoriques de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-600">hello quotas described represent hello theoretical maximum values.</span></span>  <span data-ttu-id="0551f-601">limite de Hello d’IOPS par disque peut être obtenu avec IOs petits (8 Ko), mais ne peut peut-être pas être atteint avec IOs volumineux (1 Mo).</span><span class="sxs-lookup"><span data-stu-id="0551f-601">hello limit of IOPS per disk may be achieved with small IOs (8kb) but possibly may not be achieved with large IOs (1Mb).</span></span>  <span data-ttu-id="0551f-602">limite d’IOPS Hello est appliquée à granularité hello de disque unique.</span><span class="sxs-lookup"><span data-stu-id="0551f-602">hello IOPS limit is enforced on hello granularity of single disk.</span></span>

<span data-ttu-id="0551f-603">Comme un toodecide d’arbre de décision approximative si un système SAP s’adapte à Azure Virtual Machine Services et ses fonctionnalités ou si un système existant doit toobe configuré différemment dans un système de hello commande toodeploy sur Azure, arbre de décision hello ci-dessous peut être utilisé :</span><span class="sxs-lookup"><span data-stu-id="0551f-603">As a rough decision tree toodecide whether an SAP system fits into Azure Virtual Machine Services and its capabilities or whether an existing system needs toobe configured differently in order toodeploy hello system on Azure, hello decision tree below can be used:</span></span>

![La décision d’arborescence toodecide capacité toodeploy SAP sur Azure][planning-guide-figure-700]

<span data-ttu-id="0551f-605">**Étape 1**: hello plus importantes informations toostart avec est hello saps pour un système SAP donné.</span><span class="sxs-lookup"><span data-stu-id="0551f-605">**Step 1**: hello most important information toostart with is hello SAPS requirement for a given SAP system.</span></span> <span data-ttu-id="0551f-606">Hello SAP exigences besoin toobe séparée dans hello SGBD partie et hello SAP application, même si hello système SAP est déjà déployé localement dans une configuration de couche 2.</span><span class="sxs-lookup"><span data-stu-id="0551f-606">hello SAPS requirements need toobe separated out into hello DBMS part and hello SAP application part, even if hello SAP system is already deployed on-premises in a 2-tier configuration.</span></span> <span data-ttu-id="0551f-607">Pour les systèmes existants, hello SAP liées toohello matériel utilisé souvent peut être déterminé ou estimé en fonction de tests d’évaluation SAP existants.</span><span class="sxs-lookup"><span data-stu-id="0551f-607">For existing systems, hello SAPS related toohello hardware in use often can be determined or estimated based on existing SAP benchmarks.</span></span> <span data-ttu-id="0551f-608">résultats de Hello se trouve ici : <http://global.sap.com/campaigns/benchmark/index.epx>.</span><span class="sxs-lookup"><span data-stu-id="0551f-608">hello results can be found here: <http://global.sap.com/campaigns/benchmark/index.epx>.</span></span>
<span data-ttu-id="0551f-609">Pour les systèmes SAP nouvellement déployés, vous devez avoir effectué un exercice de dimensionnement, qui doit déterminer la configuration requise hello du système de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-609">For newly deployed SAP systems, you should have gone through a sizing exercise, which should determine hello SAPS requirements of hello system.</span></span>
<span data-ttu-id="0551f-610">Consultez également ce blog et le document joint concernant le dimensionnement de SAP sur Azure : <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx></span><span class="sxs-lookup"><span data-stu-id="0551f-610">See also this blog and attached document for SAP sizing on Azure: <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx></span></span>

<span data-ttu-id="0551f-611">**Étape 2**: pour les systèmes existants, hello volume d’e/s et d’opérations d’e/s par seconde sur le serveur de SGBD hello doivent être mesurées.</span><span class="sxs-lookup"><span data-stu-id="0551f-611">**Step 2**: For existing systems, hello I/O volume and I/O operations per second on hello DBMS server should be measured.</span></span> <span data-ttu-id="0551f-612">Pour les systèmes qui vient d’être planifiés, hello dimensionnement exercice pour le nouveau système de hello également doit donner un aperçu des exigences d’e/s de hello sur hello côté SGBD.</span><span class="sxs-lookup"><span data-stu-id="0551f-612">For newly planned systems, hello sizing exercise for hello new system also should give rough ideas of hello I/O requirements on hello DBMS side.</span></span> <span data-ttu-id="0551f-613">En cas de doute, vous devez éventuellement tooconduct une preuve de Concept.</span><span class="sxs-lookup"><span data-stu-id="0551f-613">If unsure, you eventually need tooconduct a Proof of Concept.</span></span>

<span data-ttu-id="0551f-614">**Étape 3**: configuration requise des SAP comparaison hello pour hello serveur SGBD aux hello SAP hello différents types de machine virtuelle de Azure peut fournir.</span><span class="sxs-lookup"><span data-stu-id="0551f-614">**Step 3**: Compare hello SAPS requirement for hello DBMS server with hello SAPS hello different VM types of Azure can provide.</span></span> <span data-ttu-id="0551f-615">des informations sur SAP Hello de différents types de machine virtuelle Azure hello sont documentées dans la Note SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="0551f-615">hello information on SAPS of hello different Azure VM types is documented in SAP Note [1928533].</span></span> <span data-ttu-id="0551f-616">le focus de Hello hello DBMS VM doit être tout d’abord, car la couche de base de données hello est la couche de hello dans un système SAP NetWeaver qui n’évolue pas de majorité hello des déploiements.</span><span class="sxs-lookup"><span data-stu-id="0551f-616">hello focus should be on hello DBMS VM first since hello database layer is hello layer in an SAP NetWeaver system that does not scale out in hello majority of deployments.</span></span> <span data-ttu-id="0551f-617">En revanche, couche d’application hello SAP peut être monté en charge. Si aucun des hello SAP pris en charge les types de machine virtuelle Azure peuvent offrir une SAP de hello requis, la charge de travail hello du système SAP de hello planifié ne peut pas être exécuté sur Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-617">In contrast, hello SAP application layer can be scaled out. If none of hello SAP supported Azure VM types can deliver hello required SAPS, hello workload of hello planned SAP system can’t be run on Azure.</span></span> <span data-ttu-id="0551f-618">Vous devez soit toodeploy hello système local ou volume de charge de travail toochange hello pour système de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-618">You either need toodeploy hello system on-premises or you need toochange hello workload volume for hello system.</span></span>

<span data-ttu-id="0551f-619">**Étape 4** : comme indiqué [ici (Linux)][virtual-machines-sizes-linux] et [ici (Windows)][virtual-machines-sizes-windows], Azure applique un quota d’E/S par seconde par disque, que vous utilisiez un stockage Standard ou Premium.</span><span class="sxs-lookup"><span data-stu-id="0551f-619">**Step 4**: As documented [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows], Azure enforces an IOPS quota per disk independent whether you use Standard Storage or Premium Storage.</span></span> <span data-ttu-id="0551f-620">Dépend de hello type d’ordinateurs virtuels, nombre hello de disques de données, ce qui peut être monté varie.</span><span class="sxs-lookup"><span data-stu-id="0551f-620">Dependent on hello VM type, hello number of data disks, which can be mounted varies.</span></span> <span data-ttu-id="0551f-621">Par conséquent, vous pouvez calculer un nombre d’IOPS maximal qui peut être réalisé avec chacun des types de machine virtuelle hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-621">As a result, you can calculate a maximum IOPS number that can be achieved with each of hello different VM types.</span></span> <span data-ttu-id="0551f-622">Dépend de la structure des fichiers de base de données hello, vous pouvez distribuer des disques toobecome un volume dans le système d’exploitation invité de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-622">Dependent on hello database file layout, you can stripe disks toobecome one volume in hello guest OS.</span></span> <span data-ttu-id="0551f-623">Toutefois, si le volume hello de IOPS actuel d’un système SAP déployé dépasse les limites de hello calculé du type de machine virtuelle plus grande hello d’Azure et s’il n’existe aucun toocompensate risque plus de mémoire, la charge de travail hello Hello système SAP peut être sensiblement.</span><span class="sxs-lookup"><span data-stu-id="0551f-623">However, if hello current IOPS volume of a deployed SAP system exceeds hello calculated limits of hello largest VM type of Azure and if there is no chance toocompensate with more memory, hello workload of hello SAP system can be impacted severely.</span></span> <span data-ttu-id="0551f-624">Dans ce cas, vous pouvez appuyer sur un point où vous ne devez pas déployer système hello sur Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-624">In such cases, you can hit a point where you should not deploy hello system on Azure.</span></span>

<span data-ttu-id="0551f-625">**Étape 5**: en particulier dans les systèmes SAP, qui sont déployés localement dans les configurations à 2 couches, hello chances que système de hello peut-être toobe configuré sur Azure dans une configuration de niveau 3.</span><span class="sxs-lookup"><span data-stu-id="0551f-625">**Step 5**: Especially in SAP systems, which are deployed on-premises in 2-Tier configurations, hello chances are that hello system might need toobe configured on Azure in a 3-Tier configuration.</span></span> <span data-ttu-id="0551f-626">Dans cette étape, vous devez toocheck s’il existe un composant dans la couche d’application SAP hello, qui ne peut pas être monté en charge et qui est plus grande que hello du processeur et mémoire ressources hello autre offre les types de machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-626">In this step, you need toocheck whether there is a component in hello SAP application layer, which can’t be scaled out and which would not fit into hello CPU and memory resources hello different Azure VM types offer.</span></span> <span data-ttu-id="0551f-627">S’il existe un tel composant, système SAP hello et sa charge de travail ne peut pas être déployés dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-627">If there indeed is such a component, hello SAP system and its workload can’t be deployed into Azure.</span></span> <span data-ttu-id="0551f-628">Mais si vous pouvez faire évoluer composants d’application SAP hello dans plusieurs machines virtuelles Azure, le système de hello peut être déployé dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-628">But if you can scale out hello SAP application components into multiple Azure VMs, hello system can be deployed into Azure.</span></span>

<span data-ttu-id="0551f-629">**Étape 6**: si hello SGBD et les composants de la couche application SAP peuvent être exécutés dans des machines virtuelles Azure, configuration de hello doit toobe définie aux :</span><span class="sxs-lookup"><span data-stu-id="0551f-629">**Step 6**: If hello DBMS and SAP application layer components can be run in Azure VMs, hello configuration needs toobe defined with regard to:</span></span>

* <span data-ttu-id="0551f-630">Nombre de machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-630">Number of Azure VMs</span></span>
* <span data-ttu-id="0551f-631">Types de machine virtuelle pour les composants individuels hello</span><span class="sxs-lookup"><span data-stu-id="0551f-631">VM types for hello individual components</span></span>
* <span data-ttu-id="0551f-632">Nombre de disques durs virtuels de DBMS VM tooprovide suffisamment d’IOPS</span><span class="sxs-lookup"><span data-stu-id="0551f-632">Number of VHDs in DBMS VM tooprovide enough IOPS</span></span>

## <a name="managing-azure-assets"></a><span data-ttu-id="0551f-633">Gestion des ressources Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-633">Managing Azure Assets</span></span>
### <a name="azure-portal"></a><span data-ttu-id="0551f-634">Portail Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-634">Azure Portal</span></span>
<span data-ttu-id="0551f-635">Hello portail Azure est l’un des déploiements de machine virtuelle Azure de trois interfaces toomanage.</span><span class="sxs-lookup"><span data-stu-id="0551f-635">hello Azure portal is one of three interfaces toomanage Azure VM deployments.</span></span> <span data-ttu-id="0551f-636">tâches de gestion de base de Hello, comme le déploiement de machines virtuelles à partir d’images, peuvent être effectuées via hello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-636">hello basic management tasks, like deploying VMs from images, can be done through hello Azure portal.</span></span> <span data-ttu-id="0551f-637">En outre, hello la création de comptes de stockage, des réseaux virtuels et autres composants Azure sont également tâches hello portail Azure peut très bien gérer.</span><span class="sxs-lookup"><span data-stu-id="0551f-637">In addition, hello creation of Storage Accounts, Virtual Networks, and other Azure components are also tasks hello Azure portal can handle very well.</span></span> <span data-ttu-id="0551f-638">Toutefois, les fonctionnalités telles que le téléchargement de disques durs virtuels à partir de local tooAzure ou la copie d’un disque dur virtuel dans Azure sont des tâches, qui nécessitent des outils tiers ou administration via PowerShell ou CLI.</span><span class="sxs-lookup"><span data-stu-id="0551f-638">However, functionality like uploading VHDs from on-premises tooAzure or copying a VHD within Azure are tasks, which require either third-party tools or administration through PowerShell or CLI.</span></span>

![Portail Microsoft Azure - vue d’ensemble de la machine virtuelle][planning-guide-figure-800]

[comment]: <> (MSSedusch * &lt;https://azure.microsoft.com/documentation/articles/virtual-networks-create-vnet-arm-pportal/&gt;)
[comment]: <> (MSSedusch * &lt;https://azure.microsoft.com/documentation/articles/virtual-machines-windows-tutorial/&gt;)

<span data-ttu-id="0551f-642">Tâches d’administration et de configuration de Machine virtuelle hello sont possibles à partir de hello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-642">Administration and configuration tasks for hello Virtual Machine instance are possible from within hello Azure portal.</span></span>

<span data-ttu-id="0551f-643">Outre redémarrer et arrêter une Machine virtuelle vous pouvez également attacher, détacher et créer des disques de données pour l’instance de Machine virtuelle hello, instance de hello toocapture pour la préparation de l’image et configurer hello taille de l’instance de Machine virtuelle hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-643">Besides restarting and shutting down a Virtual Machine you can also attach, detach, and create data disks for hello Virtual Machine instance, toocapture hello instance for image preparation and configure hello size of hello Virtual Machine instance.</span></span>

<span data-ttu-id="0551f-644">Hello portail Azure fournit des fonctionnalités de base toodeploy et configurer les ordinateurs virtuels et nombreux autres services Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-644">hello Azure portal provides basic functionality toodeploy and configure VMs and many other Azure services.</span></span> <span data-ttu-id="0551f-645">Cependant pas toutes les fonctionnalités disponibles sont couverte par hello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-645">However not all available functionality is covered by hello Azure portal.</span></span> <span data-ttu-id="0551f-646">Bonjour portail Azure, il n’est pas possible tooperform des tâches telles que :</span><span class="sxs-lookup"><span data-stu-id="0551f-646">In hello Azure portal, it’s not possible tooperform tasks like:</span></span>

* <span data-ttu-id="0551f-647">Téléchargement de disques durs virtuels tooAzure</span><span class="sxs-lookup"><span data-stu-id="0551f-647">Uploading VHDs tooAzure</span></span>
* <span data-ttu-id="0551f-648">la copie de machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="0551f-648">Copying VMs</span></span>

[comment]: <> (MShermannd TODO what about automation service for SAP VMs ? )
[comment]: <> (MSSedusch deployment of multiple VMs os meanwhile possible)
[comment]: <> (MSSedusch également n’importe quel type d’automatisation concernant le déploiement n’est pas possible avec hello portail Azure. Des tâches telles que des scripts de déploiement de plusieurs machines virtuelles n’est pas possible via hello portail Azure.)

### <a name="management-via-microsoft-azure-powershell-cmdlets"></a><span data-ttu-id="0551f-652">Gestion par le biais des applets de commande Microsoft Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="0551f-652">Management via Microsoft Azure PowerShell cmdlets</span></span>
<span data-ttu-id="0551f-653">Windows PowerShell est une infrastructure puissante et extensible, largement adoptée par les clients qui déploient un nombre plus important de systèmes dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-653">Windows PowerShell is a powerful and extensible framework that has been widely adopted by customers deploying larger numbers of systems in Azure.</span></span> <span data-ttu-id="0551f-654">Après l’installation de hello d’applets de commande PowerShell sur le bureau, ordinateur portable ou station de gestion dédiée, hello applets de commande PowerShell peut être exécuté à distance.</span><span class="sxs-lookup"><span data-stu-id="0551f-654">After hello installation of PowerShell cmdlets on a desktop, laptop or dedicated management station, hello PowerShell cmdlets can be run remotely.</span></span>

<span data-ttu-id="0551f-655">Hello processus tooenable bureau/portable local pour l’utilisation de hello des applets de commande PowerShell de Azure et comment tooconfigure celles hello d’utilisation avec hello Azure ou les abonnements sont décrit dans [cet article][powershell-install-configure].</span><span class="sxs-lookup"><span data-stu-id="0551f-655">hello process tooenable a local desktop/laptop for hello usage of Azure PowerShell cmdlets and how tooconfigure those for hello usage with hello Azure subscription(s) is described in [this article][powershell-install-configure].</span></span>

<span data-ttu-id="0551f-656">Des procédures plus détaillées sur le tooinstall, mettre à jour et configurer les applets de commande PowerShell Azure hello figurent également dans [ce chapitre du Guide de déploiement de hello][deployment-guide-4.1].</span><span class="sxs-lookup"><span data-stu-id="0551f-656">More detailed steps on how tooinstall, update, and configure hello Azure PowerShell cmdlets can also be found in [this chapter of hello Deployment Guide][deployment-guide-4.1].</span></span>

<span data-ttu-id="0551f-657">Expérience utilisateur a jusqu'à présent été que PowerShell (PS) constitue certainement hello plus puissant outil toodeploy machines virtuelles et toocreate personnalisé étapes de déploiement hello de machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="0551f-657">Customer experience so far has been that PowerShell (PS) is certainly hello more powerful tool toodeploy VMs and toocreate custom steps in hello deployment of VMs.</span></span> <span data-ttu-id="0551f-658">Tous les clients hello exécutant des instances SAP dans Azure sont à l’aide des tâches de gestion de toosupplement applets de commande PS ils dans hello portail Azure ou sont même à l’aide d’applets de commande PS exclusivement toomanage leurs déploiements dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-658">All of hello customers running SAP instances in Azure are using PS cmdlets toosupplement management tasks they do in hello Azure portal or are even using PS cmdlets exclusively toomanage their deployments in Azure.</span></span> <span data-ttu-id="0551f-659">Étant donné que le partage d’applets de commande hello spécifiques à Azure hello même convention de dénomination en tant que hello plus de 2 000 applets de commande Windows, il est facile de tâche pour Windows administrateurs tooleverage ces applets de commande.</span><span class="sxs-lookup"><span data-stu-id="0551f-659">Since hello Azure-specific cmdlets share hello same naming convention as hello more than 2000 Windows-related cmdlets, it is an easy task for Windows administrators tooleverage those cmdlets.</span></span>

<span data-ttu-id="0551f-660">Consultez l’exemple présenté ici : <http://blogs.technet.com/b/keithmayer/archive/2015/07/07/18-steps-for-end-to-end-iaas-provisioning-in-the-cloud-with-azure-resource-manager-arm-powershell-and-desired-state-configuration-dsc.aspx></span><span class="sxs-lookup"><span data-stu-id="0551f-660">See example here: <http://blogs.technet.com/b/keithmayer/archive/2015/07/07/18-steps-for-end-to-end-iaas-provisioning-in-the-cloud-with-azure-resource-manager-arm-powershell-and-desired-state-configuration-dsc.aspx></span></span>

[comment]: <> (MShermannd TODO describe new CLI command when tested )
<span data-ttu-id="0551f-662">Déploiement de hello Extension de surveillance Azure pour SAP (voir le chapitre [Solution de surveillance Azure pour SAP] [ planning-guide-9.1] dans ce document) est uniquement possible via PowerShell ou CLI.</span><span class="sxs-lookup"><span data-stu-id="0551f-662">Deployment of hello Azure Monitoring Extension for SAP (see chapter [Azure Monitoring Solution for SAP][planning-guide-9.1] in this document) is only possible via PowerShell or CLI.</span></span> <span data-ttu-id="0551f-663">Par conséquent, il est obligatoire tooset et configurez PowerShell ou CLI lors du déploiement ou d’administration d’un système SAP NetWeaver dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-663">Therefore it is mandatory tooset up and configure PowerShell or CLI when deploying or administering an SAP NetWeaver system in Azure.</span></span>  

<span data-ttu-id="0551f-664">Comme Azure fournit davantage de fonctionnalités, nouvelles applets de commande PS allez toobe ajouté qui requiert une mise à jour des applets de commande hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-664">As Azure provides more functionality, new PS cmdlets are going toobe added that requires an update of hello cmdlets.</span></span> <span data-ttu-id="0551f-665">Il est donc hello toocheck de sens site de téléchargement Azure au moins une fois les mois hello <https://azure.microsoft.com/downloads/> pour une nouvelle version des applets de commande hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-665">Therefore it makes sense toocheck hello Azure Download site at least once hello month <https://azure.microsoft.com/downloads/> for a new version of hello cmdlets.</span></span> <span data-ttu-id="0551f-666">Hello nouvelle version est installée sur une version antérieure de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-666">hello new version is installed on top of hello older version.</span></span>

<span data-ttu-id="0551f-667">Pour une liste générale des commandes Azure PowerShell, consultez : <https://docs.microsoft.com/powershell/azure/overview>.</span><span class="sxs-lookup"><span data-stu-id="0551f-667">For a general list of Azure-related PowerShell commands check here: <https://docs.microsoft.com/powershell/azure/overview>.</span></span>

### <a name="management-via-microsoft-azure-cli-commands"></a><span data-ttu-id="0551f-668">Gestion à l’aide des commandes CLI Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-668">Management via Microsoft Azure CLI commands</span></span>
<span data-ttu-id="0551f-669">Pour les clients qui utilisent Linux et qui veulent toomanage Azure ressources Powershell ne peuvent pas être une option.</span><span class="sxs-lookup"><span data-stu-id="0551f-669">For customers who use Linux and want toomanage Azure resources Powershell might not be an option.</span></span> <span data-ttu-id="0551f-670">Microsoft propose la CLI Microsoft Azure en guise d’alternative.</span><span class="sxs-lookup"><span data-stu-id="0551f-670">Microsoft offers Azure CLI as an alternative.</span></span>
<span data-ttu-id="0551f-671">Hello CLI d’Azure fournit un ensemble d’open source d’inter-plateformes commandes sur l’utilisation de hello plateforme Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-671">hello Azure CLI provides a set of open source, cross-platform commands for working with hello Azure Platform.</span></span> <span data-ttu-id="0551f-672">Hello CLI d’Azure fournit la majeure partie de hello même fonctionnalité trouvée dans hello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-672">hello Azure CLI provides much of hello same functionality found in hello Azure portal.</span></span>

<span data-ttu-id="0551f-673">Pour plus d’informations sur l’installation, la configuration et le fonctionnement des commandes toouse CLI tooaccomplish tâches Azure, consultez</span><span class="sxs-lookup"><span data-stu-id="0551f-673">For information about installation, configuration and how toouse CLI commands tooaccomplish Azure tasks see</span></span>

* <span data-ttu-id="0551f-674">[Installer hello CLI d’Azure][xplat-cli]</span><span class="sxs-lookup"><span data-stu-id="0551f-674">[Install hello Azure CLI][xplat-cli]</span></span>
* <span data-ttu-id="0551f-675">[Déployer et gérer des ordinateurs virtuels à l’aide de modèles Azure Resource Manager et hello CLI d’Azure] [.. /.. / linux/create-ssh-secured-vm-from-template.md]</span><span class="sxs-lookup"><span data-stu-id="0551f-675">[Deploy and manage virtual machines by using Azure Resource Manager templates and hello Azure CLI][../../linux/create-ssh-secured-vm-from-template.md]</span></span>
* <span data-ttu-id="0551f-676">[Utilisez hello CLI d’Azure pour Mac, Linux et Windows avec Azure Resource Manager][xplat-cli-azure-resource-manager]</span><span class="sxs-lookup"><span data-stu-id="0551f-676">[Use hello Azure CLI for Mac, Linux, and Windows with Azure Resource Manager][xplat-cli-azure-resource-manager]</span></span>

<span data-ttu-id="0551f-677">Consultez également le chapitre [CLI d’Azure pour les machines virtuelles Linux] [ deployment-guide-4.5.2] Bonjour [Guide de déploiement] [ planning-guide] sur comment toouse CLI d’Azure toodeploy hello surveillance Azure Extension pour SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-677">Also read chapter [Azure CLI for Linux VMs][deployment-guide-4.5.2] in hello [Deployment Guide][planning-guide] on how toouse Azure CLI toodeploy hello Azure Monitoring Extension for SAP.</span></span>

## <a name="different-ways-toodeploy-vms-for-sap-in-azure"></a><span data-ttu-id="0551f-678">Toodeploy de façons différentes machines virtuelles pour SAP dans Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-678">Different ways toodeploy VMs for SAP in Azure</span></span>
<span data-ttu-id="0551f-679">Dans ce chapitre, vous apprendre les différentes façons de hello toodeploy une machine virtuelle dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-679">In this chapter, you learn hello different ways toodeploy a VM in Azure.</span></span> <span data-ttu-id="0551f-680">Des procédures de préparation supplémentaires, ainsi que la gestion des disques durs virtuels et des machines virtuelles dans Azure, sont présentées dans ce chapitre.</span><span class="sxs-lookup"><span data-stu-id="0551f-680">Additional preparation procedures, as well as handling of VHDs and VMs in Azure are covered in this chapter.</span></span>

### <a name="deployment-of-vms-for-sap"></a><span data-ttu-id="0551f-681">Déploiement de machines virtuelles pour SAP</span><span class="sxs-lookup"><span data-stu-id="0551f-681">Deployment of VMs for SAP</span></span>
<span data-ttu-id="0551f-682">Microsoft Azure offre plusieurs méthodes de machines virtuelles de toodeploy et de disques associés.</span><span class="sxs-lookup"><span data-stu-id="0551f-682">Microsoft Azure offers multiple ways toodeploy VMs and associated disks.</span></span> <span data-ttu-id="0551f-683">Il est donc les différences de hello toounderstand très important, car la préparation des machines virtuelles de hello peut-être différer selon la méthode hello de déploiement.</span><span class="sxs-lookup"><span data-stu-id="0551f-683">Thus it is very important toounderstand hello differences since preparations of hello VMs might differ depending on hello method of deployment.</span></span> <span data-ttu-id="0551f-684">En règle générale, nous examinons hello les scénarios suivants :</span><span class="sxs-lookup"><span data-stu-id="0551f-684">In general, we take a look at hello following scenarios:</span></span>

#### <span data-ttu-id="0551f-685"><a name="4d175f1b-7353-4137-9d2f-817683c26e53"></a>Déplacement d’une machine virtuelle à partir de tooAzure local avec un disque non généralisé</span><span class="sxs-lookup"><span data-stu-id="0551f-685"><a name="4d175f1b-7353-4137-9d2f-817683c26e53"></a>Moving a VM from on-premises tooAzure with a non-generalized disk</span></span>
<span data-ttu-id="0551f-686">Vous envisagez de toomove un système SAP spécifique à partir de local tooAzure.</span><span class="sxs-lookup"><span data-stu-id="0551f-686">You plan toomove a specific SAP system from on-premises tooAzure.</span></span> <span data-ttu-id="0551f-687">Cela peut être effectuée en téléchargeant hello disque dur virtuel, qui contient hello du système d’exploitation, hello binaires SAP et binaires SGBD plus hello des disques durs virtuels avec des fichiers de données et journaux hello de hello SGBD tooAzure.</span><span class="sxs-lookup"><span data-stu-id="0551f-687">This can be done by uploading hello VHD, which contains hello OS, hello SAP Binaries, and DBMS binaries plus hello VHDs with hello data and log files of hello DBMS tooAzure.</span></span> <span data-ttu-id="0551f-688">En revanche trop[scénario #2 ci-dessous][planning-guide-5.1.2], vous conservez le nom d’hôte hello, SID SAP, et les comptes d’utilisateur SAP Bonjour Azure VM qu’ils ont été configurés dans l’environnement local de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-688">In contrast too[scenario #2 below][planning-guide-5.1.2], you keep hello hostname, SAP SID, and SAP user accounts in hello Azure VM as they were configured in hello on-premises environment.</span></span> <span data-ttu-id="0551f-689">Par conséquent, il n’est pas nécessaire de généraliser l’image de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-689">Therefore, generalizing hello image is not necessary.</span></span> <span data-ttu-id="0551f-690">Reportez-vous aux chapitres [pour préparer le déplacement d’une machine virtuelle à partir de tooAzure local avec un disque non généralisé] [ planning-guide-5.2.1] de ce document pour les étapes de préparation locale et téléchargement de tooAzure de machines virtuelles ou disques durs virtuels non généralisé.</span><span class="sxs-lookup"><span data-stu-id="0551f-690">See chapters [Preparation for moving a VM from on-premises tooAzure with a non-generalized disk][planning-guide-5.2.1] of this document for on-premises preparation steps and upload of non-generalized VMs or VHDs tooAzure.</span></span> <span data-ttu-id="0551f-691">Chapitre de lecture [scénario 3 : déplacer un ordinateur virtuel à l’aide d’un disque dur virtuel Azure non généralisé avec SAP en local] [ deployment-guide-3.4] Bonjour [Guide de déploiement] [ deployment-guide] Pour obtenir des instructions détaillées de déploiement d’une image dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-691">Read chapter [Scenario 3: Moving a VM from on-premises using a non-generalized Azure VHD with SAP][deployment-guide-3.4] in hello [Deployment Guide][deployment-guide] for detailed steps of deploying such an image in Azure.</span></span>

#### <span data-ttu-id="0551f-692"><a name="e18f7839-c0e2-4385-b1e6-4538453a285c"></a>Déploiement d’une machine virtuelle avec une image spécifique du client</span><span class="sxs-lookup"><span data-stu-id="0551f-692"><a name="e18f7839-c0e2-4385-b1e6-4538453a285c"></a>Deploying a VM with a customer-specific image</span></span>
<span data-ttu-id="0551f-693">En raison des exigences spécifiques toospecific de votre version du système d’exploitation ou SGBD, les images hello fourni Bonjour Azure Marketplace ne répondent pas à vos besoins.</span><span class="sxs-lookup"><span data-stu-id="0551f-693">Due toospecific patch requirements of your OS or DBMS version, hello provided images in hello Azure Marketplace might not fit your needs.</span></span> <span data-ttu-id="0551f-694">Par conséquent, vous devrez peut-être toocreate une machine virtuelle à l’aide de votre propre image de machine virtuelle du système d’exploitation/SGBD 'private', qui peut être déployé plusieurs fois par la suite.</span><span class="sxs-lookup"><span data-stu-id="0551f-694">Therefore, you might need toocreate a VM using your own ‘private’ OS/DBMS VM image, which can be deployed several times afterwards.</span></span> <span data-ttu-id="0551f-695">tooprepare cette image « privée » pour la duplication, hello éléments suivants ont toobe pris en compte :</span><span class="sxs-lookup"><span data-stu-id="0551f-695">tooprepare such a ‘private’ image for duplication, hello following items have toobe considered:</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="0551f-697">Windows</span><span class="sxs-lookup"><span data-stu-id="0551f-697">Windows</span></span>
>
> <span data-ttu-id="0551f-698">Afficher plus de détails ici : <https://docs.microsoft.com/azure/virtual-machines/windows/upload-generalized-managed> les paramètres Windows hello (par exemple, le SID Windows et le nom d’hôte) doivent être abstraits/généralisés sur hello localement Machine virtuelle via la commande sysprep de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-698">See more details here: <https://docs.microsoft.com/azure/virtual-machines/windows/upload-generalized-managed> hello Windows settings (like Windows SID and hostname) must be abstracted/generalized on hello on-premises VM via hello sysprep command.</span></span>
>
>
> ![Linux][Logo_Linux] <span data-ttu-id="0551f-700">Linux</span><span class="sxs-lookup"><span data-stu-id="0551f-700">Linux</span></span>
>
> <span data-ttu-id="0551f-701">Suivez les étapes de hello décrites dans les articles suivants pour [SUSE][virtual-machines-linux-create-upload-vhd-suse], [Red Hat][virtual-machines-linux-redhat-create-upload-vhd], ou [Oracle Linux] [ virtual-machines-linux-create-upload-vhd-oracle], tooprepare un toobe de disque dur virtuel téléchargé tooAzure.</span><span class="sxs-lookup"><span data-stu-id="0551f-701">Follow hello steps described in these articles for [SUSE][virtual-machines-linux-create-upload-vhd-suse], [Red Hat][virtual-machines-linux-redhat-create-upload-vhd], or [Oracle Linux][virtual-machines-linux-create-upload-vhd-oracle], tooprepare a VHD toobe uploaded tooAzure.</span></span>
>
>

- - -
<span data-ttu-id="0551f-702">Si vous avez déjà installé le contenu SAP dans votre machine locale virtuelle (en particulier pour les systèmes de niveau 2), vous pouvez adapter les paramètres du système SAP hello après déploiement hello Hello machine virtuelle Azure via une instance de hello renommer procédure pris en charge par hello approvisionnement en logiciels SAP Manager (Note SAP [1619720]).</span><span class="sxs-lookup"><span data-stu-id="0551f-702">If you have already installed SAP content in your on-premises VM (especially for 2-Tier systems), you can adapt hello SAP system settings after hello deployment of hello Azure VM through hello instance rename procedure supported by hello SAP Software Provisioning Manager (SAP Note [1619720]).</span></span> <span data-ttu-id="0551f-703">Reportez-vous aux chapitres [préparation du déploiement d’une machine virtuelle avec une image spécifique au client pour SAP] [ planning-guide-5.2.2] et [télécharger un disque dur virtuel à partir de local tooAzure] [ planning-guide-5.3.2]de ce document pour les étapes de préparation locale et téléchargement d’un tooAzure de machine virtuelle généralisée.</span><span class="sxs-lookup"><span data-stu-id="0551f-703">See chapters [Preparation for deploying a VM with a customer-specific image for SAP][planning-guide-5.2.2] and [Uploading a VHD from on-premises tooAzure][planning-guide-5.3.2] of this document for on-premises preparation steps and upload of a generalized VM tooAzure.</span></span> <span data-ttu-id="0551f-704">Chapitre de lecture [scénario 2 : déploiement d’une machine virtuelle avec une image personnalisée pour SAP] [ deployment-guide-3.3] Bonjour [Guide de déploiement] [ deployment-guide] pour les étapes détaillées de déploiement une telle image dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-704">Read chapter [Scenario 2: Deploying a VM with a custom image for SAP][deployment-guide-3.3] in hello [Deployment Guide][deployment-guide] for detailed steps of deploying such an image in Azure.</span></span>

#### <a name="deploying-a-vm-out-of-hello-azure-marketplace"></a><span data-ttu-id="0551f-705">Déploiement d’une machine virtuelle hors hello Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="0551f-705">Deploying a VM out of hello Azure Marketplace</span></span>
<span data-ttu-id="0551f-706">Vous souhaitez toouse Microsoft ou tiers fourni image de machine virtuelle à partir de hello Azure Marketplace toodeploy votre machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-706">You would like toouse a Microsoft or third-party provided VM image from hello Azure Marketplace toodeploy your VM.</span></span> <span data-ttu-id="0551f-707">Une fois que vous avez déployé votre machine virtuelle dans Azure, vous suivez hello mêmes directives et outils tooinstall hello logiciels SAP et/ou le SGBD dans votre machine virtuelle comme vous le feriez dans un environnement sur site.</span><span class="sxs-lookup"><span data-stu-id="0551f-707">After you deployed your VM in Azure, you follow hello same guidelines and tools tooinstall hello SAP software and/or DBMS inside your VM as you would do in an on-premises environment.</span></span> <span data-ttu-id="0551f-708">Pour plus de description du déploiement, consultez le chapitre [scénario 1 : déploiement d’une machine virtuelle hors hello Azure Marketplace pour SAP] [ deployment-guide-3.2] Bonjour [Guide de déploiement] [ deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="0551f-708">For more detailed deployment description, please see chapter [Scenario 1: Deploying a VM out of hello Azure Marketplace for SAP][deployment-guide-3.2] in hello [Deployment Guide][deployment-guide].</span></span>

### <span data-ttu-id="0551f-709"><a name="6ffb9f41-a292-40bf-9e70-8204448559e7"></a>Préparation de machines virtuelles avec SAP pour Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-709"><a name="6ffb9f41-a292-40bf-9e70-8204448559e7"></a>Preparing VMs with SAP for Azure</span></span>
<span data-ttu-id="0551f-710">Avant de télécharger des machines virtuelles dans Azure, vous devez toomake que les machines virtuelles de hello et disques durs virtuels répondre à certaines exigences.</span><span class="sxs-lookup"><span data-stu-id="0551f-710">Before uploading VMs into Azure you need toomake sure hello VMs and VHDs fulfill certain requirements.</span></span> <span data-ttu-id="0551f-711">Il existe de petites différences selon la méthode de déploiement hello qui est utilisé.</span><span class="sxs-lookup"><span data-stu-id="0551f-711">There are small differences depending on hello deployment method that is used.</span></span>

#### <span data-ttu-id="0551f-712"><a name="1b287330-944b-495d-9ea7-94b83aff73ef"></a>Préparation du déplacement d’une machine virtuelle à partir de tooAzure local avec un disque non généralisé</span><span class="sxs-lookup"><span data-stu-id="0551f-712"><a name="1b287330-944b-495d-9ea7-94b83aff73ef"></a>Preparation for moving a VM from on-premises tooAzure with a non-generalized disk</span></span>
<span data-ttu-id="0551f-713">Une méthode courante de déploiement est toomove un ordinateur virtuel existant qui exécute un système SAP à partir de local tooAzure.</span><span class="sxs-lookup"><span data-stu-id="0551f-713">A common deployment method is toomove an existing VM which runs an SAP system from on-premises tooAzure.</span></span> <span data-ttu-id="0551f-714">Que machine virtuelle et hello système SAP dans la machine virtuelle doit exécuter uniquement dans Azure à l’aide de hello hello du même nom d’hôte et très probablement hello même SID SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-714">That VM and hello SAP system in hello VM just should run in Azure using hello same hostname and very likely hello same SAP SID.</span></span> <span data-ttu-id="0551f-715">Dans ce cas hello du système d’exploitation d’ordinateur virtuel invité ne doit pas être généralisée pour plusieurs déploiements.</span><span class="sxs-lookup"><span data-stu-id="0551f-715">In this case hello guest OS of VM should not be generalized for multiple deployments.</span></span> <span data-ttu-id="0551f-716">Si le réseau local de hello est étendu à Azure (consultez le chapitre [intersite - déploiement d’une ou plusieurs machines virtuelles SAP dans Azure avec spécification hello intégration complète dans le réseau local de hello] [ planning-guide-2.2] dans ce document), puis même hello même comptes de domaine peuvent être utilisés au sein de hello VM que ceux utilisés localement avant de.</span><span class="sxs-lookup"><span data-stu-id="0551f-716">If hello on-premises network got extended into Azure (see chapter [cross-premises - Deployment of single or multiple SAP VMs into Azure with hello requirement of being fully integrated into hello on-premises network][planning-guide-2.2] in this document), then even hello same domain accounts can be used within hello VM as those were used before on-premises.</span></span>

<span data-ttu-id="0551f-717">Les exigences à respecter pour la préparation de votre propre disque de machine virtuelle Azure sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="0551f-717">Requirements when preparing your own Azure VM Disk are:</span></span>

* <span data-ttu-id="0551f-718">À l’origine, système d’exploitation hello contenant hello disque dur virtuel peut avoir uniquement une taille maximale de 127 Go.</span><span class="sxs-lookup"><span data-stu-id="0551f-718">Originally hello VHD containing hello operating system could have a maximum size of 127GB only.</span></span> <span data-ttu-id="0551f-719">Cette limitation a été éliminée à fin hello de mars 2015.</span><span class="sxs-lookup"><span data-stu-id="0551f-719">This limitation got eliminated at hello end of March 2015.</span></span> <span data-ttu-id="0551f-720">Maintenant hello disque dur virtuel contenant le système d’exploitation de hello possible too1TB taille comme tout autre stockage de Azure hébergé le disque dur virtuel également.</span><span class="sxs-lookup"><span data-stu-id="0551f-720">Now hello VHD containing hello operating system can be up too1TB in size as any other Azure Storage hosted VHD as well.</span></span>
* <span data-ttu-id="0551f-721">Il doit toobe Bonjour format de disque dur virtuel fixe.</span><span class="sxs-lookup"><span data-stu-id="0551f-721">It needs toobe in hello fixed VHD format.</span></span> <span data-ttu-id="0551f-722">Les disques durs virtuels ou les disques durs virtuels au format VHDx ne sont pas encore pris en charge sur Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-722">Dynamic VHDs or VHDs in VHDx format are not yet supported on Azure.</span></span> <span data-ttu-id="0551f-723">Les disques durs virtuels dynamiques sera converti toostatic VHD lorsque vous téléchargez hello VHD avec les applets de commande PowerShell ou CLI</span><span class="sxs-lookup"><span data-stu-id="0551f-723">Dynamic VHDs will be converted toostatic VHDs when you upload hello VHD with PowerShell commandlets or CLI</span></span>
* <span data-ttu-id="0551f-724">Disques durs virtuels qui sont monté toohello VM et doivent être de nouveau montés dans toohello Azure VM besoin toobe dans un format de disque dur virtuel fixe.</span><span class="sxs-lookup"><span data-stu-id="0551f-724">VHDs which are mounted toohello VM and should be mounted again in Azure toohello VM need toobe in a fixed VHD format as well.</span></span> <span data-ttu-id="0551f-725">Pour connaître les limites de taille des disques de données, consultez [cet article (Linux)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux) et [cet article (Windows)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-windows).</span><span class="sxs-lookup"><span data-stu-id="0551f-725">Please read [this article (Linux)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux) and [this article (Windows)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-windows) for size limits of data disks.</span></span> <span data-ttu-id="0551f-726">Les disques durs virtuels dynamiques sera converti toostatic VHD lorsque vous téléchargez hello VHD avec les applets de commande PowerShell ou CLI</span><span class="sxs-lookup"><span data-stu-id="0551f-726">Dynamic VHDs will be converted toostatic VHDs when you upload hello VHD with PowerShell commandlets or CLI</span></span>
* <span data-ttu-id="0551f-727">Ajoutez un autre compte local doté de privilèges d’administrateur qui peut être utilisé par le support technique de Microsoft ou qui peut être affecté en tant que contexte pour les services et applications toorun dans jusqu'à hello que machine virtuelle est déployée et les utilisateurs plus appropriés peut être utilisé.</span><span class="sxs-lookup"><span data-stu-id="0551f-727">Add another local account with administrator privileges which can be used by Microsoft support or which can be assigned as context for services and applications toorun in until hello VM is deployed and more appropriate users can be used.</span></span>
* <span data-ttu-id="0551f-728">Pour les cas de hello d’à l’aide d’un scénario de déploiement de Cloud uniquement (consultez le chapitre [uniquement dans le Cloud - déploiements d’ordinateurs virtuels dans Azure sans dépendances sur hello local réseau client] [ planning-guide-2.1] de ce document) en association avec cette méthode de déploiement, le domaine de comptes peuvent ne pas fonctionnent une fois hello disque Azure déployé dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-728">For hello case of using a Cloud-Only deployment scenario (see chapter [Cloud-Only - Virtual Machine deployments into Azure without dependencies on hello on-premises customer network][planning-guide-2.1] of this document) in combination with this deployment method, domain accounts might not work once hello Azure Disk is deployed in Azure.</span></span> <span data-ttu-id="0551f-729">Cela est particulièrement vrai pour les comptes qui sont des services de toorun utilisés comme des applications SGBD ou SAP hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-729">This is especially true for accounts which are used toorun services like hello DBMS or SAP applications.</span></span> <span data-ttu-id="0551f-730">Par conséquent, vous devez tooreplace ces comptes de domaine avec des comptes locaux de machine virtuelle et supprimez des comptes de domaine local hello Bonjour machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-730">Therefore you need tooreplace such domain accounts with VM local accounts and delete hello on-premises domain accounts in hello VM.</span></span> <span data-ttu-id="0551f-731">Conservation des utilisateurs du domaine local dans l’image de machine virtuelle hello n’est pas un problème lorsque hello machine virtuelle est déployée dans hello scénario intersite comme décrit dans le chapitre [intersite - déploiement d’une ou plusieurs machines virtuelles SAP dans Azure avec spécification hello en cours entièrement intégré à un réseau local de hello] [ planning-guide-2.2] dans ce document.</span><span class="sxs-lookup"><span data-stu-id="0551f-731">Keeping on-premises domain users in hello VM image is not an issue when hello VM is deployed in hello cross-premises scenario as described in chapter [Cross-Premises - Deployment of single or multiple SAP VMs into Azure with hello requirement of being fully integrated into hello on-premises network][planning-guide-2.2] in this document.</span></span>
* <span data-ttu-id="0551f-732">Si les comptes de domaine ont été utilisés en tant que comptes de connexion SGBD ou les utilisateurs lors de l’exécution hello système locaux et les machines virtuelles sont censés toobe déployée dans des scénarios de Cloud uniquement, les utilisateurs de domaine de hello doivent toobe supprimé.</span><span class="sxs-lookup"><span data-stu-id="0551f-732">If domain accounts were used as DBMS logins or users when running hello system on-premises and those VMs are supposed toobe deployed in Cloud-Only scenarios, hello domain users need toobe deleted.</span></span> <span data-ttu-id="0551f-733">Vous devez toomake sûr qu’administrateur local de hello et un autre utilisateur local d’ordinateur virtuel est ajouté en tant qu’un utilisateur dans hello SGBD en tant qu’administrateurs.</span><span class="sxs-lookup"><span data-stu-id="0551f-733">You need toomake sure that hello local administrator plus another VM local user is added as a login/user into hello DBMS as administrators.</span></span>
* <span data-ttu-id="0551f-734">Ajoutez des comptes locaux, comme ceux peuvent être nécessaire pour le scénario de déploiement spécifique hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-734">Add other local accounts as those might be needed for hello specific deployment scenario.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="0551f-736">Windows</span><span class="sxs-lookup"><span data-stu-id="0551f-736">Windows</span></span>
>
> <span data-ttu-id="0551f-737">Dans ce scénario, aucune généralisation (sysprep) de hello machine virtuelle est tooupload requis et déployer hello sur Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-737">In this scenario no generalization (sysprep) of hello VM is required tooupload and deploy hello VM on Azure.</span></span>
> <span data-ttu-id="0551f-738">Vérifiez que le lecteur D:\ n’est pas utilisé.</span><span class="sxs-lookup"><span data-stu-id="0551f-738">Make sure that drive D:\ is not used.</span></span>
> <span data-ttu-id="0551f-739">Définissez le montage automatique de disque pour les disques attachés comme décrit dans le chapitre [Paramétrage du montage automatique pour les disques attachés][planning-guide-5.5.3] dans ce document.</span><span class="sxs-lookup"><span data-stu-id="0551f-739">Set disk automount for attached disks as described in chapter [Setting automount for attached disks][planning-guide-5.5.3] in this document.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="0551f-741">Linux</span><span class="sxs-lookup"><span data-stu-id="0551f-741">Linux</span></span>
>
> <span data-ttu-id="0551f-742">Dans ce scénario aucune généralisation (waagent-deprovision) hello VM est requis tooupload et déployer hello sur Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-742">In this scenario no generalization (waagent -deprovision) of hello VM is required tooupload and deploy hello VM on Azure.</span></span>
> <span data-ttu-id="0551f-743">Assurez-vous que/mnt/resource n’est pas utilisée et que TOUS les disques sont montés via uuid.</span><span class="sxs-lookup"><span data-stu-id="0551f-743">Make sure that /mnt/resource is not used and that ALL disks are mounted via uuid.</span></span> <span data-ttu-id="0551f-744">Pour le disque de hello du système d’exploitation, assurez-vous qu’entrée du chargeur de démarrage hello reflète également montage basée sur l’uuid de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-744">For hello OS disk, make sure that hello bootloader entry also reflects hello uuid-based mount.</span></span>
>
>

- - -
#### <span data-ttu-id="0551f-745"><a name="57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3"></a>Préparation du déploiement d’une machine virtuelle avec une image spécifique du client pour SAP</span><span class="sxs-lookup"><span data-stu-id="0551f-745"><a name="57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3"></a>Preparation for deploying a VM with a customer-specific image for SAP</span></span>
<span data-ttu-id="0551f-746">Les fichiers VHD contenant un système d’exploitation généralisé sont stockés dans des conteneurs dans les comptes de stockage Azure ou en tant qu’images de disque managé.</span><span class="sxs-lookup"><span data-stu-id="0551f-746">VHD files that contain a generalized OS are stored in containers on Azure Storage Accounts or as Managed Disk images.</span></span> <span data-ttu-id="0551f-747">Vous pouvez déployer une nouvelle machine virtuelle à partir d’une image en référençant l’image de disque dur virtuel ou des disques gérés hello en tant que source dans vos fichiers de modèle de déploiement comme décrit dans le chapitre [scénario 2 : déploiement d’une machine virtuelle avec une image personnalisée pour SAP] [ deployment-guide-3.3]Hello [Guide de déploiement][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="0551f-747">You can deploy a new VM from such an image by referencing hello VHD or Managed Disk image as a source in your deployment template files as described in chapter [Scenario 2: Deploying a VM with a custom image for SAP][deployment-guide-3.3] of hello [Deployment Guide][deployment-guide].</span></span>

<span data-ttu-id="0551f-748">Les exigences à respecter pour la préparation de votre propre image de machine virtuelle Azure sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="0551f-748">Requirements when preparing your own Azure VM Image are:</span></span>

* <span data-ttu-id="0551f-749">À l’origine, système d’exploitation hello contenant hello disque dur virtuel peut avoir uniquement une taille maximale de 127 Go.</span><span class="sxs-lookup"><span data-stu-id="0551f-749">Originally hello VHD containing hello operating system could have a maximum size of 127GB only.</span></span> <span data-ttu-id="0551f-750">Cette limitation a été éliminée à fin hello de mars 2015.</span><span class="sxs-lookup"><span data-stu-id="0551f-750">This limitation got eliminated at hello end of March 2015.</span></span> <span data-ttu-id="0551f-751">Maintenant hello disque dur virtuel contenant le système d’exploitation de hello possible too1TB taille comme tout autre stockage de Azure hébergé le disque dur virtuel également.</span><span class="sxs-lookup"><span data-stu-id="0551f-751">Now hello VHD containing hello operating system can be up too1TB in size as any other Azure Storage hosted VHD as well.</span></span>
* <span data-ttu-id="0551f-752">Il doit toobe Bonjour format de disque dur virtuel fixe.</span><span class="sxs-lookup"><span data-stu-id="0551f-752">It needs toobe in hello fixed VHD format.</span></span> <span data-ttu-id="0551f-753">Les disques durs virtuels ou les disques durs virtuels au format VHDx ne sont pas encore pris en charge sur Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-753">Dynamic VHDs or VHDs in VHDx format are not yet supported on Azure.</span></span> <span data-ttu-id="0551f-754">Les disques durs virtuels dynamiques sera converti toostatic VHD lorsque vous téléchargez hello VHD avec les applets de commande PowerShell ou CLI</span><span class="sxs-lookup"><span data-stu-id="0551f-754">Dynamic VHDs will be converted toostatic VHDs when you upload hello VHD with PowerShell commandlets or CLI</span></span>
* <span data-ttu-id="0551f-755">Disques durs virtuels qui sont monté toohello VM et doivent être de nouveau montés dans toohello Azure VM besoin toobe dans un format de disque dur virtuel fixe.</span><span class="sxs-lookup"><span data-stu-id="0551f-755">VHDs which are mounted toohello VM and should be mounted again in Azure toohello VM need toobe in a fixed VHD format as well.</span></span> <span data-ttu-id="0551f-756">Pour connaître les limites de taille des disques de données, consultez [cet article (Linux)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux) et [cet article (Windows)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-windows).</span><span class="sxs-lookup"><span data-stu-id="0551f-756">Please read [this article (Linux)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux) and [this article (Windows)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-windows) for size limits of data disks.</span></span> <span data-ttu-id="0551f-757">Les disques durs virtuels dynamiques sera converti toostatic VHD lorsque vous téléchargez hello VHD avec les applets de commande PowerShell ou CLI</span><span class="sxs-lookup"><span data-stu-id="0551f-757">Dynamic VHDs will be converted toostatic VHDs when you upload hello VHD with PowerShell commandlets or CLI</span></span>
* <span data-ttu-id="0551f-758">Étant donné que tous les hello inscrits en tant que les utilisateurs de hello VM n’existent pas dans un scénario de Cloud uniquement les utilisateurs de domaine (consultez le chapitre [uniquement dans le Cloud - déploiements d’ordinateurs virtuels dans Azure sans dépendances sur hello local réseau client] [ planning-guide-2.1] de ce document), les services à l’aide de ce domaine de comptes peuvent ne pas fonctionnent une fois hello Image est déployée dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-758">Since all hello Domain users registered as users in hello VM will not exist in a Cloud-Only scenario (see chapter [Cloud-Only - Virtual Machine deployments into Azure without dependencies on hello on-premises customer network][planning-guide-2.1] of this document), services using such domain accounts might not work once hello Image is deployed in Azure.</span></span> <span data-ttu-id="0551f-759">Cela est particulièrement vrai pour les comptes qui sont des services de toorun utilisés comme des applications SGBD ou SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-759">This is especially true for accounts which are used toorun services like DBMS or SAP applications.</span></span> <span data-ttu-id="0551f-760">Par conséquent, vous devez tooreplace ces comptes de domaine avec des comptes locaux de machine virtuelle et supprimez des comptes de domaine local hello Bonjour machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-760">Therefore you need tooreplace such domain accounts with VM local accounts and delete hello on-premises domain accounts in hello VM.</span></span> <span data-ttu-id="0551f-761">Conservation des utilisateurs du domaine local dans l’image de machine virtuelle hello peut ne pas être un problème lorsque hello machine virtuelle est déployée dans hello scénario intersite comme décrit dans le chapitre [intersite - déploiement d’une ou plusieurs machines virtuelles SAP dans Azure avec spécification hello intégration complète dans le réseau local de hello] [ planning-guide-2.2] dans ce document.</span><span class="sxs-lookup"><span data-stu-id="0551f-761">Keeping on-premises domain users in hello VM image might not be an issue when hello VM is deployed in hello cross-premises scenario as described in chapter [Cross-Premises - Deployment of single or multiple SAP VMs into Azure with hello requirement of being fully integrated into hello on-premises network][planning-guide-2.2] in this document.</span></span>
* <span data-ttu-id="0551f-762">Ajoutez un autre compte local doté de privilèges d’administrateur qui peut être utilisé par le support technique de Microsoft dans les enquêtes de problème ou qui peut être affecté en tant que contexte pour les services et applications toorun dans jusqu'à hello que machine virtuelle est déployée et les utilisateurs plus appropriés peut être utilisé.</span><span class="sxs-lookup"><span data-stu-id="0551f-762">Add another local account with administrator privileges which can be used by Microsoft support in problem investigations or which can be assigned as context for services and applications toorun in until hello VM is deployed and more appropriate users can be used.</span></span>
* <span data-ttu-id="0551f-763">Dans les déploiements de Cloud uniquement et où les comptes de domaine ont été utilisés en tant que comptes de connexion SGBD ou les utilisateurs lors de l’exécution hello système local, les utilisateurs du domaine hello doivent être supprimés.</span><span class="sxs-lookup"><span data-stu-id="0551f-763">In Cloud-Only deployments and where domain accounts were used as DBMS logins or users when running hello system on-premises, hello domain users should be deleted.</span></span> <span data-ttu-id="0551f-764">Vous devez toomake assurer que l’administrateur local de hello et un autre utilisateur local d’ordinateur virtuel est ajouté en tant qu’un utilisateur de hello SGBD en tant qu’administrateurs.</span><span class="sxs-lookup"><span data-stu-id="0551f-764">You need toomake sure that hello local administrator plus another VM local user is added as a login/user of hello DBMS as administrators.</span></span>
* <span data-ttu-id="0551f-765">Ajoutez des comptes locaux, comme ceux peuvent être nécessaire pour le scénario de déploiement spécifique hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-765">Add other local accounts as those might be needed for hello specific deployment scenario.</span></span>
* <span data-ttu-id="0551f-766">Si l’image de hello contient une installation de SAP NetWeaver et est susceptible de changement de nom d’un nom d’hôte hello le nom d’origine hello hello au moment même de hello déploiement d’Azure, il est recommandé toocopy hello dernières versions hello SAP Software Provisioning Manager DVD dans modèle de Hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-766">If hello image contains an installation of SAP NetWeaver and renaming of hello host name from hello original name at hello point of hello Azure deployment is likely, it is recommended toocopy hello latest versions of hello SAP Software Provisioning Manager DVD into hello template.</span></span> <span data-ttu-id="0551f-767">Cela vous permettra tooeasily utilisation hello SAP fournie renommer fonctionnalité tooadapt hello modifié nom d’hôte et/ou modification hello SID de hello système SAP dans hello déployé l’image de machine virtuelle dès qu’une nouvelle copie est démarrée.</span><span class="sxs-lookup"><span data-stu-id="0551f-767">This will enable you tooeasily use hello SAP provided rename functionality tooadapt hello changed hostname and/or change hello SID of hello SAP system within hello deployed VM image as soon as a new copy is started.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="0551f-769">Windows</span><span class="sxs-lookup"><span data-stu-id="0551f-769">Windows</span></span>
>
> <span data-ttu-id="0551f-770">Assurez-vous que le lecteur D:\ n’est pas un montage automatique de disque défini pour les disques attachés, comme décrit dans le chapitre [Paramétrage du montage automatique pour les disques attachés][planning-guide-5.5.3] dans ce document.</span><span class="sxs-lookup"><span data-stu-id="0551f-770">Make sure that drive D:\ is not used Set disk automount for attached disks as described in chapter [Setting automount for attached disks][planning-guide-5.5.3] in this document.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="0551f-772">Linux</span><span class="sxs-lookup"><span data-stu-id="0551f-772">Linux</span></span>
>
> <span data-ttu-id="0551f-773">Assurez-vous que/mnt/resource n’est pas utilisée et que TOUS les disques sont montés via uuid.</span><span class="sxs-lookup"><span data-stu-id="0551f-773">Make sure that /mnt/resource is not used and that ALL disks are mounted via uuid.</span></span> <span data-ttu-id="0551f-774">Pour le disque du système d’exploitation de hello, assurez-vous d’entrée du chargeur de démarrage hello reflète également le montage de base uuid hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-774">For hello OS disk, make sure hello bootloader entry also reflects hello uuid-based mount.</span></span>
>
>

- - -
* <span data-ttu-id="0551f-775">L’interface utilisateur graphique SAP peut être installée dans un tel modèle (à des fins administratives et de configuration).</span><span class="sxs-lookup"><span data-stu-id="0551f-775">SAP GUI (for administrative and setup purposes) can be pre-installed in such a template.</span></span>
* <span data-ttu-id="0551f-776">Autres logiciels hello toorun nécessaire des machines virtuelles avec succès dans les scénarios de coexistence peuvent être installés tant que ce logiciel peut fonctionner avec hello renommer Hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-776">Other software necessary toorun hello VMs successfully in cross-premises scenarios can be installed as long as this software can work with hello rename of hello VM.</span></span>

<span data-ttu-id="0551f-777">Si hello machine virtuelle est préparée suffisamment toobe générique et de comptes/utilisateurs non disponibles dans hello ciblé scénario de déploiement Azure, hello dernière étape de préparation généraliser une image de ce type est effectuée.</span><span class="sxs-lookup"><span data-stu-id="0551f-777">If hello VM is prepared sufficiently toobe generic and eventually independent of accounts/users not available in hello targeted Azure deployment scenario, hello last preparation step of generalizing such an image is conducted.</span></span>

##### <a name="generalizing-a-vm"></a><span data-ttu-id="0551f-778">Généralisation d’une machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="0551f-778">Generalizing a VM</span></span>
- - -
> ![Windows][Logo_Windows] <span data-ttu-id="0551f-780">Windows</span><span class="sxs-lookup"><span data-stu-id="0551f-780">Windows</span></span>
>
> <span data-ttu-id="0551f-781">dernière étape de Hello est toolog dans tooa machine virtuelle avec un compte d’administrateur.</span><span class="sxs-lookup"><span data-stu-id="0551f-781">hello last step is toolog in tooa VM with an Administrator account.</span></span> <span data-ttu-id="0551f-782">Ouvrez une fenêtre de commande Windows en tant qu’« administrateur ».</span><span class="sxs-lookup"><span data-stu-id="0551f-782">Open a Windows command window as ‘administrator’.</span></span> <span data-ttu-id="0551f-783">Too%windir%\windows\system32\sysprep et exécutez sysprep.exe.</span><span class="sxs-lookup"><span data-stu-id="0551f-783">Go too%windir%\windows\system32\sysprep and execute sysprep.exe.</span></span>
> <span data-ttu-id="0551f-784">Une petite fenêtre s’affiche.</span><span class="sxs-lookup"><span data-stu-id="0551f-784">A small window will appear.</span></span> <span data-ttu-id="0551f-785">C’est important toocheck hello 'Generalize' option (valeur par défaut hello n’est pas cochée) et modifiez sa valeur par défaut « Redémarrer » de too'Shutdown hello l’Option d’arrêt ».</span><span class="sxs-lookup"><span data-stu-id="0551f-785">It is important toocheck hello ‘Generalize’ option (hello default is un-checked) and change hello Shutdown Option from its default of ‘Reboot’ too‘Shutdown’.</span></span> <span data-ttu-id="0551f-786">Cette procédure suppose que le processus de sysprep hello est exécutée localement dans le système d’exploitation invité d’une machine virtuelle de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-786">This procedure assumes that hello sysprep process is executed on-premises in hello Guest OS of a VM.</span></span>
> <span data-ttu-id="0551f-787">Si vous souhaitez la procédure de hello tooperform avec une machine virtuelle en cours d’exécution dans Azure, suivez les étapes de hello décrites dans [cet article](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/capture-image-resource).</span><span class="sxs-lookup"><span data-stu-id="0551f-787">If you want tooperform hello procedure with a VM already running in Azure, follow hello steps described in [this article](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/capture-image-resource).</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="0551f-789">Linux</span><span class="sxs-lookup"><span data-stu-id="0551f-789">Linux</span></span>
>
> <span data-ttu-id="0551f-790">[Comment toocapture un toouse de la machine virtuelle Linux en tant que gestionnaire de ressources du modèle][capture-image-linux-step-2-create-vm-image]</span><span class="sxs-lookup"><span data-stu-id="0551f-790">[How toocapture a Linux virtual machine toouse as a Resource Manager template][capture-image-linux-step-2-create-vm-image]</span></span>
>
>

- - -
### <a name="transferring-vms-and-vhds-between-on-premises-tooazure"></a><span data-ttu-id="0551f-791">Transfert de machines virtuelles et disques durs virtuels entre local tooAzure</span><span class="sxs-lookup"><span data-stu-id="0551f-791">Transferring VMs and VHDs between on-premises tooAzure</span></span>
<span data-ttu-id="0551f-792">Étant donné que le téléchargement tooAzure images et des disques de machine virtuelle n’est pas possible via hello portail Azure, vous devez applets de commande Azure PowerShell toouse ou l’interface CLI.</span><span class="sxs-lookup"><span data-stu-id="0551f-792">Since uploading VM images and disks tooAzure is not possible via hello Azure portal, you need toouse Azure PowerShell cmdlets or CLI.</span></span> <span data-ttu-id="0551f-793">Une autre solution consiste à utiliser l’outil hello 'AzCopy' hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-793">Another possibility is hello use of hello tool ‘AzCopy’.</span></span> <span data-ttu-id="0551f-794">outil de Hello peut copier des disques durs virtuels entre Azure et locaux (dans les deux directions).</span><span class="sxs-lookup"><span data-stu-id="0551f-794">hello tool can copy VHDs between on-premises and Azure (in both directions).</span></span> <span data-ttu-id="0551f-795">Il peut également copier les disques durs virtuels entre différentes régions Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-795">It also can copy VHDs between Azure Regions.</span></span> <span data-ttu-id="0551f-796">Consultez [la documentation suivante][storage-use-azcopy] pour en savoir plus sur le téléchargement et l’utilisation d’AzCopy.</span><span class="sxs-lookup"><span data-stu-id="0551f-796">Please consult [this documentation][storage-use-azcopy] for download and usage of AzCopy.</span></span>

<span data-ttu-id="0551f-797">Une troisième alternative serait toouse divers outils orientés sur l’interface utilisateur graphique de tiers.</span><span class="sxs-lookup"><span data-stu-id="0551f-797">A third alternative would be toouse various third-party GUI-oriented tools.</span></span> <span data-ttu-id="0551f-798">Toutefois, assurez-vous que ces outils prennent en charge les objets blob de pages Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-798">However, please make sure that these tools are supporting Azure Page Blobs.</span></span> <span data-ttu-id="0551f-799">Dans notre cas, nous devons toouse objet Blob de pages Azure stockez (hello différences sont décrites ici : <https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>).</span><span class="sxs-lookup"><span data-stu-id="0551f-799">For our purposes we need toouse Azure Page Blob store (hello differences are described here: <https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>).</span></span> <span data-ttu-id="0551f-800">Outils hello fournies par Azure sont également très efficaces pour compresser les machines virtuelles de hello et disques durs virtuels toobe téléchargé.</span><span class="sxs-lookup"><span data-stu-id="0551f-800">Also hello tools provided by Azure are very efficient in compressing hello VMs and VHDs which need toobe uploaded.</span></span> <span data-ttu-id="0551f-801">Ceci est important, car cette efficacité dans la compression réduit le temps de téléchargement de hello (qui varie quand même selon toohello de lien de téléchargement hello internet à partir d’installation locale de hello et région de déploiement Azure hello ciblés).</span><span class="sxs-lookup"><span data-stu-id="0551f-801">This is important because this efficiency in compression reduces hello upload time (which varies anyway depending on hello upload link toohello internet from hello on-premises facility and hello Azure deployment region targeted).</span></span> <span data-ttu-id="0551f-802">Il s’agit juste de croire que le téléchargement d’une machine virtuelle ou un disque dur virtuel à partir de l’emplacement européen toohello données Azure basés aux États-Unis prendront plus de temps que le chargement des centres de hello mêmes centres de données Azure européens toohello machines virtuelles/disques durs virtuels.</span><span class="sxs-lookup"><span data-stu-id="0551f-802">It is a fair assumption that uploading a VM or VHD from European location toohello U.S.-based Azure data centers will take longer than uploading hello same VMs/VHDs toohello European Azure data centers.</span></span>

#### <span data-ttu-id="0551f-803"><a name="a43e40e6-1acc-4633-9816-8f095d5a7b6a"></a>Téléchargement d’un disque dur virtuel à partir de local tooAzure</span><span class="sxs-lookup"><span data-stu-id="0551f-803"><a name="a43e40e6-1acc-4633-9816-8f095d5a7b6a"></a>Uploading a VHD from on-premises tooAzure</span></span>
<span data-ttu-id="0551f-804">une machine virtuelle existante ou un disque dur virtuel à partir de hello localement cette machine virtuelle de réseau ou de disque dur virtuel a besoin d’exigences de hello toomeet comme indiqué dans le chapitre de tooupload [pour préparer le déplacement d’une machine virtuelle à partir de tooAzure local avec un disque non généralisé] [ planning-guide-5.2.1] de ce document.</span><span class="sxs-lookup"><span data-stu-id="0551f-804">tooupload an existing VM or VHD from hello on-premises network such a VM or VHD needs toomeet hello requirements as listed in chapter [Preparation for moving a VM from on-premises tooAzure with a non-generalized disk][planning-guide-5.2.1] of this document.</span></span>

<span data-ttu-id="0551f-805">Cette machine virtuelle n’a pas besoin toobe généralisé et peut être téléchargée en état de hello et forme qu’après que l’arrêt de hello local côté.</span><span class="sxs-lookup"><span data-stu-id="0551f-805">Such a VM does NOT need toobe generalized and can be uploaded in hello state and shape it has after shutdown on hello on-premises side.</span></span> <span data-ttu-id="0551f-806">Hello même a la valeur true pour les disques durs virtuels supplémentaires dépourvus de tout système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="0551f-806">hello same is true for additional VHDs which don’t contain any operating system.</span></span>

##### <a name="uploading-a-vhd-and-making-it-an-azure-disk"></a><span data-ttu-id="0551f-807">Chargement d’un disque dur virtuel en vue d’en faire un disque Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-807">Uploading a VHD and making it an Azure Disk</span></span>
<span data-ttu-id="0551f-808">Dans ce cas nous souhaitez tooupload un disque dur virtuel, avec ou sans un système d’exploitation et monter tooa machine virtuelle comme disque de données ou l’utiliser comme disque de système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="0551f-808">In this case we want tooupload a VHD, either with or without an OS in it, and mount it tooa VM as a data disk or use it as OS disk.</span></span> <span data-ttu-id="0551f-809">Ce processus comprend plusieurs étapes</span><span class="sxs-lookup"><span data-stu-id="0551f-809">This is a multi-step process</span></span>

<span data-ttu-id="0551f-810">**PowerShell**</span><span class="sxs-lookup"><span data-stu-id="0551f-810">**Powershell**</span></span>

* <span data-ttu-id="0551f-811">Connectez-vous à abonnement tooyour avec *AzureRmAccount de connexion*</span><span class="sxs-lookup"><span data-stu-id="0551f-811">Log in tooyour subscription with *Login-AzureRmAccount*</span></span>
* <span data-ttu-id="0551f-812">Définir l’abonnement hello de votre contexte avec *Set-AzureRmContext* et le paramètre SubscriptionId ou SubscriptionName - voir <https://docs.microsoft.com/powershell/module/azurerm.profile/set-azurermcontext></span><span class="sxs-lookup"><span data-stu-id="0551f-812">Set hello subscription of your context with *Set-AzureRmContext* and parameter SubscriptionId or SubscriptionName - see <https://docs.microsoft.com/powershell/module/azurerm.profile/set-azurermcontext></span></span>
* <span data-ttu-id="0551f-813">Télécharger hello VHD avec *Add-AzureRmVhd* tooan compte de stockage Azure - consultez <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvhd></span><span class="sxs-lookup"><span data-stu-id="0551f-813">Upload hello VHD with *Add-AzureRmVhd* tooan Azure Storage Account - see <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvhd></span></span>
* <span data-ttu-id="0551f-814">(Facultatif) Créer un disque géré à partir de hello VHD avec *New-AzureRmDisk* -consultez <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermdisk></span><span class="sxs-lookup"><span data-stu-id="0551f-814">(Optional) Create a Managed Disk from hello VHD with *New-AzureRmDisk*  - see <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermdisk></span></span>
* <span data-ttu-id="0551f-815">Définir le disque hello du système d’exploitation d’un toohello de configuration de machine virtuelle nouveau disque dur virtuel ou des disques gérés avec *Set-AzureRmVMOSDisk* -consultez <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmosdisk></span><span class="sxs-lookup"><span data-stu-id="0551f-815">Set hello OS disk of a new VM config toohello VHD or Managed Disk with *Set-AzureRmVMOSDisk* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmosdisk></span></span>
* <span data-ttu-id="0551f-816">Créer une machine virtuelle à partir de la configuration de machine virtuelle hello avec *New-AzureRmVM* -consultez <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvm></span><span class="sxs-lookup"><span data-stu-id="0551f-816">Create a new VM from hello VM config with *New-AzureRmVM* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvm></span></span>
* <span data-ttu-id="0551f-817">Ajouter un tooa de disque de données nouvelle machine virtuelle avec *Add-AzureRmVMDataDisk* -consultez <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvmdatadisk></span><span class="sxs-lookup"><span data-stu-id="0551f-817">Add a data disk tooa new VM with *Add-AzureRmVMDataDisk* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvmdatadisk></span></span>

<span data-ttu-id="0551f-818">**Azure CLI 2.0**</span><span class="sxs-lookup"><span data-stu-id="0551f-818">**Azure CLI 2.0**</span></span>

* <span data-ttu-id="0551f-819">Connectez-vous à abonnement tooyour avec *connexion de az*</span><span class="sxs-lookup"><span data-stu-id="0551f-819">Log in tooyour subscription with *az login*</span></span>
* <span data-ttu-id="0551f-820">Sélectionnez votre abonnement en entrant *az account set --subscription `<subscription name or id`>*</span><span class="sxs-lookup"><span data-stu-id="0551f-820">Select your subscription with *az account set --subscription `<subscription name or id`>*</span></span>
* <span data-ttu-id="0551f-821">Télécharger hello VHD avec *téléchargement d’objet blob az stockage* -consultez [Using hello CLI d’Azure avec le stockage Azure][storage-azure-cli]</span><span class="sxs-lookup"><span data-stu-id="0551f-821">Upload hello VHD with *az storage blob upload* - see [Using hello Azure CLI with Azure Storage][storage-azure-cli]</span></span>
* <span data-ttu-id="0551f-822">(Facultatif) Créer un disque géré à partir de hello VHD avec *az créer* -consultez https://docs.microsoft.com/cli/azure/disk#create</span><span class="sxs-lookup"><span data-stu-id="0551f-822">(Optional) Create a Managed Disk from hello VHD with *az disk create* - see https://docs.microsoft.com/cli/azure/disk#create</span></span>
* <span data-ttu-id="0551f-823">Créer une machine virtuelle en spécifiant hello téléchargé VHD ou des disques gérés en tant que disque de système d’exploitation avec *az vm créer* et paramètre *--attacher de disque de système d’exploitation*</span><span class="sxs-lookup"><span data-stu-id="0551f-823">Create a new VM specifying hello uploaded VHD or Managed Disk as OS disk with *az vm create* and parameter *--attach-os-disk*</span></span>
* <span data-ttu-id="0551f-824">Ajouter un tooa de disque de données nouvelle machine virtuelle avec *attacher de disque de machine virtuelle az* et paramètre *--new*</span><span class="sxs-lookup"><span data-stu-id="0551f-824">Add a data disk tooa new VM with *az vm disk attach* and parameter *--new*</span></span>

<span data-ttu-id="0551f-825">**Modèle**</span><span class="sxs-lookup"><span data-stu-id="0551f-825">**Template**</span></span>

* <span data-ttu-id="0551f-826">Télécharger hello disque dur virtuel avec Powershell ou CLI d’Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-826">Upload hello VHD with Powershell or Azure CLI</span></span>
* <span data-ttu-id="0551f-827">(Facultatif) Créer un disque géré à partir de hello disque dur virtuel avec Powershell, CLI d’Azure ou hello portail Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-827">(Optional) Create a Managed Disk from hello VHD with Powershell, Azure CLI or hello Azure portal</span></span>
* <span data-ttu-id="0551f-828">Déployer hello machine virtuelle avec un modèle JSON référençant hello disque dur virtuel, comme indiqué dans [cet exemple de modèle JSON](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/201-vm-specialized-vhd/azuredeploy.json) ou à l’aide de disques gérés comme indiqué dans [cet exemple de modèle JSON](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/sap-2-tier-user-disk-md/azuredeploy.json).</span><span class="sxs-lookup"><span data-stu-id="0551f-828">Deploy hello VM with a JSON template referencing hello VHD as shown in [this example JSON template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/201-vm-specialized-vhd/azuredeploy.json) or using Managed Disks as shown in [this example JSON template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/sap-2-tier-user-disk-md/azuredeploy.json).</span></span>

#### <a name="deployment-of-a-vm-image"></a><span data-ttu-id="0551f-829">Déploiement d’une image de machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="0551f-829">Deployment of a VM Image</span></span>
<span data-ttu-id="0551f-830">tooupload une machine virtuelle existante ou un disque dur virtuel à partir de hello sur site de réseau dans l’ordre toouse comme une image de machine virtuelle Azure cette machine virtuelle ou disque dur virtuel nécessitent toomeet hello répertoriées dans le chapitre [préparation du déploiement d’une machine virtuelle avec une image spécifique au client pour SAP] [ planning-guide-5.2.2] de ce document.</span><span class="sxs-lookup"><span data-stu-id="0551f-830">tooupload an existing VM or VHD from hello on-premises network in order toouse it as an Azure VM image such a VM or VHD need toomeet hello requirements listed in chapter [Preparation for deploying a VM with a customer-specific image for SAP][planning-guide-5.2.2] of this document.</span></span>

* <span data-ttu-id="0551f-831">Utilisez *sysprep* sur Windows ou *waagent-deprovision* sur Linux toogeneralize votre machine virtuelle - consultez [de référence technique de Sysprep](https://technet.microsoft.com/library/cc766049.aspx) pour Windows ou [comment toocapture un Toouse de machine virtuelle Linux en tant que gestionnaire de ressources du modèle] [ capture-image-linux-step-2-create-vm-image] pour Linux</span><span class="sxs-lookup"><span data-stu-id="0551f-831">Use *sysprep* on Windows or *waagent -deprovision* on Linux toogeneralize your VM - see [Sysprep Technical Reference](https://technet.microsoft.com/library/cc766049.aspx) for Windows or [How toocapture a Linux virtual machine toouse as a Resource Manager template][capture-image-linux-step-2-create-vm-image] for Linux</span></span>
* <span data-ttu-id="0551f-832">Connectez-vous à abonnement tooyour avec *AzureRmAccount de connexion*</span><span class="sxs-lookup"><span data-stu-id="0551f-832">Log in tooyour subscription with *Login-AzureRmAccount*</span></span>
* <span data-ttu-id="0551f-833">Définir l’abonnement hello de votre contexte avec *Set-AzureRmContext* et le paramètre SubscriptionId ou SubscriptionName - voir <https://docs.microsoft.com/powershell/module/azurerm.profile/set-azurermcontext></span><span class="sxs-lookup"><span data-stu-id="0551f-833">Set hello subscription of your context with *Set-AzureRmContext* and parameter SubscriptionId or SubscriptionName - see <https://docs.microsoft.com/powershell/module/azurerm.profile/set-azurermcontext></span></span>
* <span data-ttu-id="0551f-834">Télécharger hello VHD avec *Add-AzureRmVhd* tooan compte de stockage Azure - consultez <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvhd></span><span class="sxs-lookup"><span data-stu-id="0551f-834">Upload hello VHD with *Add-AzureRmVhd* tooan Azure Storage Account - see <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvhd></span></span>
* <span data-ttu-id="0551f-835">(Facultatif) Créer une Image de disque géré à partir de hello VHD avec *New-AzureRmImage* -consultez <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermimage></span><span class="sxs-lookup"><span data-stu-id="0551f-835">(Optional) Create a Managed Disk Image from hello VHD with *New-AzureRmImage*  - see <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermimage></span></span>
* <span data-ttu-id="0551f-836">Activer hello du disque du système d’exploitation d’un nouveau toothe de configuration de machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="0551f-836">Set hello OS disk of a new VM config toothe</span></span>
  * <span data-ttu-id="0551f-837">Le VHD avec *Set-AzureRmVMOSDisk -SourceImageUri -CreateOption fromImage*. Consultez <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmosdisk></span><span class="sxs-lookup"><span data-stu-id="0551f-837">VHD with *Set-AzureRmVMOSDisk -SourceImageUri -CreateOption fromImage* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmosdisk></span></span>
  * <span data-ttu-id="0551f-838">L’image de disque managé avec *Set-AzureRmVMSourceImage*. Consultez <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmsourceimage></span><span class="sxs-lookup"><span data-stu-id="0551f-838">Managed Disk Image *Set-AzureRmVMSourceImage* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmsourceimage></span></span>
* <span data-ttu-id="0551f-839">Créer une machine virtuelle à partir de la configuration de machine virtuelle hello avec *New-AzureRmVM* -consultez <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvm></span><span class="sxs-lookup"><span data-stu-id="0551f-839">Create a new VM from hello VM config with *New-AzureRmVM* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvm></span></span>

<span data-ttu-id="0551f-840">**Azure CLI 2.0**</span><span class="sxs-lookup"><span data-stu-id="0551f-840">**Azure CLI 2.0**</span></span>

* <span data-ttu-id="0551f-841">Utilisez *sysprep* sur Windows ou *waagent-deprovision* sur Linux toogeneralize votre machine virtuelle - consultez [de référence technique de Sysprep](https://technet.microsoft.com/library/cc766049.aspx) pour Windows ou [comment toocapture un Toouse de machine virtuelle Linux en tant que gestionnaire de ressources du modèle] [ capture-image-linux-step-2-create-vm-image] pour Linux</span><span class="sxs-lookup"><span data-stu-id="0551f-841">Use *sysprep* on Windows or *waagent -deprovision* on Linux toogeneralize your VM - see [Sysprep Technical Reference](https://technet.microsoft.com/library/cc766049.aspx) for Windows or [How toocapture a Linux virtual machine toouse as a Resource Manager template][capture-image-linux-step-2-create-vm-image] for Linux</span></span>
* <span data-ttu-id="0551f-842">Connectez-vous à abonnement tooyour avec *connexion de az*</span><span class="sxs-lookup"><span data-stu-id="0551f-842">Log in tooyour subscription with *az login*</span></span>
* <span data-ttu-id="0551f-843">Sélectionnez votre abonnement en entrant *az account set --subscription `<subscription name or id`>*</span><span class="sxs-lookup"><span data-stu-id="0551f-843">Select your subscription with *az account set --subscription `<subscription name or id`>*</span></span>
* <span data-ttu-id="0551f-844">Télécharger hello VHD avec *téléchargement d’objet blob az stockage* -consultez [Using hello CLI d’Azure avec le stockage Azure][storage-azure-cli]</span><span class="sxs-lookup"><span data-stu-id="0551f-844">Upload hello VHD with *az storage blob upload* - see [Using hello Azure CLI with Azure Storage][storage-azure-cli]</span></span>
* <span data-ttu-id="0551f-845">(Facultatif) Créer une Image de disque géré à partir de hello VHD avec *créer d’image de az* -consultez https://docs.microsoft.com/cli/azure/image#create</span><span class="sxs-lookup"><span data-stu-id="0551f-845">(Optional) Create a Managed Disk Image from hello VHD with *az image create* - see https://docs.microsoft.com/cli/azure/image#create</span></span>
* <span data-ttu-id="0551f-846">Créer une machine virtuelle en spécifiant hello téléchargé de disque dur virtuel ou Image de disque géré en tant que disque de système d’exploitation avec *az vm créer* et paramètre *--image*</span><span class="sxs-lookup"><span data-stu-id="0551f-846">Create a new VM specifying hello uploaded VHD or Managed Disk Image as OS disk with *az vm create* and parameter *--image*</span></span>

<span data-ttu-id="0551f-847">**Modèle**</span><span class="sxs-lookup"><span data-stu-id="0551f-847">**Template**</span></span>

* <span data-ttu-id="0551f-848">Utilisez *sysprep* sur Windows ou *waagent-deprovision* sur Linux toogeneralize votre machine virtuelle - consultez [de référence technique de Sysprep](https://technet.microsoft.com/library/cc766049.aspx) pour Windows ou [comment toocapture un Toouse de machine virtuelle Linux en tant que gestionnaire de ressources du modèle] [ capture-image-linux-step-2-create-vm-image] pour Linux</span><span class="sxs-lookup"><span data-stu-id="0551f-848">Use *sysprep* on Windows or *waagent -deprovision* on Linux toogeneralize your VM - see [Sysprep Technical Reference](https://technet.microsoft.com/library/cc766049.aspx) for Windows or [How toocapture a Linux virtual machine toouse as a Resource Manager template][capture-image-linux-step-2-create-vm-image] for Linux</span></span>
* <span data-ttu-id="0551f-849">Télécharger hello disque dur virtuel avec Powershell ou CLI d’Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-849">Upload hello VHD with Powershell or Azure CLI</span></span>
* <span data-ttu-id="0551f-850">(Facultatif) Créer une Image de disque géré à partir de hello disque dur virtuel avec Powershell, CLI d’Azure ou hello portail Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-850">(Optional) Create a Managed Disk Image from hello VHD with Powershell, Azure CLI or hello Azure portal</span></span>
* <span data-ttu-id="0551f-851">Déployer hello machine virtuelle avec un modèle JSON faisant référence à l’image hello disque dur virtuel, comme indiqué dans [cet exemple de modèle JSON](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/sap-2-tier-user-image/azuredeploy.json) ou à l’aide de hello l’Image de disque géré comme indiqué dans [cet exemple de modèle JSON](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-from-user-image/azuredeploy.json).</span><span class="sxs-lookup"><span data-stu-id="0551f-851">Deploy hello VM with a JSON template referencing hello image VHD as shown in [this example JSON template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/sap-2-tier-user-image/azuredeploy.json) or using hello Managed Disk Image as shown in [this example JSON template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-from-user-image/azuredeploy.json).</span></span>

#### <a name="downloading-vhds-or-managed-disks-tooon-premises"></a><span data-ttu-id="0551f-852">Téléchargement de disques durs virtuels ou des disques gérés tooon locaux</span><span class="sxs-lookup"><span data-stu-id="0551f-852">Downloading VHDs or Managed Disks tooon-premises</span></span>
<span data-ttu-id="0551f-853">L’Infrastructure Azure en tant que Service n’est pas un sens uniquement être en mesure de tooupload de disques durs virtuels et les systèmes SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-853">Azure Infrastructure as a Service is not a one-way street of only being able tooupload VHDs and SAP systems.</span></span> <span data-ttu-id="0551f-854">Vous pouvez déplacer SAP Bonjour local ainsi de nouveau systèmes à partir d’Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-854">You can move SAP systems from Azure back into hello on-premises world as well.</span></span>

<span data-ttu-id="0551f-855">Au moment de hello Hello téléchargement hello disques durs virtuels ou des disques gérés ne peut pas être active.</span><span class="sxs-lookup"><span data-stu-id="0551f-855">During hello time of hello download hello VHDs or Managed Disks can’t be active.</span></span> <span data-ttu-id="0551f-856">Même lors du téléchargement de disques qui sont montés tooVMs, hello toobe de besoins de machine virtuelle arrêtée et désallouée.</span><span class="sxs-lookup"><span data-stu-id="0551f-856">Even when downloading disks which are mounted tooVMs, hello VM needs toobe shut down and deallocated.</span></span> <span data-ttu-id="0551f-857">Si vous souhaitez uniquement toodownload hello base de données de contenu qui doit ensuite être utilisé tooset d’un nouveau système local et s’il est acceptable que pendant la durée hello Hello télécharger et hello le programme d’installation du système de nouveau hello hello système dans Azure peut encore être opérationnelle , vous pouvez éviter un long temps d’arrêt en effectuant une sauvegarde de base de données compressée dans un disque et simplement télécharger ce disque au lieu de télécharger également hello machine virtuelle de base du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="0551f-857">If you only want toodownload hello database content which then should be used tooset up a new system on-premises and if it is acceptable that during hello time of hello download and hello setup of hello new system that hello system in Azure can still be operational, you could avoid a long downtime by performing a compressed database backup into a disk and just download that disk instead of also downloading hello OS base VM.</span></span>

#### <a name="powershell"></a><span data-ttu-id="0551f-858">PowerShell</span><span class="sxs-lookup"><span data-stu-id="0551f-858">Powershell</span></span>

  * <span data-ttu-id="0551f-859">Téléchargement d’un disque managé</span><span class="sxs-lookup"><span data-stu-id="0551f-859">Downloading a Managed Disk</span></span>  
  <span data-ttu-id="0551f-860">Vous devez tout d’abord toohello d’accès tooget sous-jacent d’objet blob de hello géré disque.</span><span class="sxs-lookup"><span data-stu-id="0551f-860">You first need tooget access toohello underlying blob of hello Managed Disk.</span></span> <span data-ttu-id="0551f-861">Ensuite, vous pouvez copier les hello sous-jacent tooa nouveau compte de stockage blob et télécharger des objets blob de hello à partir de ce compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="0551f-861">Then you can copy hello underlying blob tooa new storage account and download hello blob from this storage account.</span></span>

  ```powershell
  $access = Grant-AzureRmDiskAccess -ResourceGroupName <resource group> -DiskName <disk name> -Access Read -DurationInSecond 3600
  $key = (Get-AzureRmStorageAccountKey -ResourceGroupName <resource group> -Name <storage account name>)[0].Value
  $destContext = (New-AzureStorageContext -StorageAccountName <storage account name -StorageAccountKey $key)
  Start-AzureStorageBlobCopy -AbsoluteUri $access.AccessSAS -DestContainer <container name> -DestBlob <blob name> -DestContext $destContext
  # Wait for blob copy toofinish
  Get-AzureStorageBlobCopyState -Container <container name> -Blob <blob name> -Context $destContext
  Save-AzureRmVhd -SourceUri <blob in new storage account> -LocalFilePath <local file path> -StorageKey $key
  # Wait for download toofinish
  Revoke-AzureRmDiskAccess -ResourceGroupName <resource group> -DiskName <disk name>
  ```

  * <span data-ttu-id="0551f-862">Téléchargement d’un VHD</span><span class="sxs-lookup"><span data-stu-id="0551f-862">Downloading a VHD</span></span>  
  <span data-ttu-id="0551f-863">Une fois que hello système SAP est arrêté et hello machine virtuelle est arrêté, vous pouvez utiliser hello PowerShell applet de commande Save-AzureRmVhd hello local disques de disque dur virtuel cible toodownload hello sauvegarder world local de toohello.</span><span class="sxs-lookup"><span data-stu-id="0551f-863">Once hello SAP system is stopped and hello VM is shut down, you can use hello PowerShell cmdlet Save-AzureRmVhd on hello on-premises target toodownload hello VHD disks back toohello on-premises world.</span></span> <span data-ttu-id="0551f-864">Dans toodo de commande, vous avez besoin des URL de hello Hello disque dur virtuel que vous pouvez trouver dans hello 'Stockage Section' Hello portail Azure (nécessaire toonavigate toohello compte de stockage et hello conteneur de stockage où hello disque dur virtuel a été créé) et vous devez tooknow où hello disque dur virtuel doit être copié dans.</span><span class="sxs-lookup"><span data-stu-id="0551f-864">In order toodo that, you need hello URL of hello VHD which you can find in hello ‘Storage Section’ of hello Azure portal (need toonavigate toohello Storage Account and hello storage container where hello VHD was created) and you need tooknow where hello VHD should be copied to.</span></span>

  <span data-ttu-id="0551f-865">Ensuite, vous pouvez exploiter commande hello, définissez simplement le paramètre hello SourceUri en tant qu’URL hello de toodownload de disque dur virtuel hello et hello LocalFilePath en tant qu’emplacement physique de hello Hello disque dur virtuel (y compris son nom).</span><span class="sxs-lookup"><span data-stu-id="0551f-865">Then you can leverage hello command by simply defining hello parameter SourceUri as hello URL of hello VHD toodownload and hello LocalFilePath as hello physical location of hello VHD (including its name).</span></span> <span data-ttu-id="0551f-866">commande Hello pourrait ressembler à :</span><span class="sxs-lookup"><span data-stu-id="0551f-866">hello command could look like:</span></span>

  ```powerhell
  Save-AzureRmVhd -ResourceGroupName <resource group name of storage account> -SourceUri http://<storage account name>.blob.core.windows.net/<container name>/sapidedata.vhd -LocalFilePath E:\Azure_downloads\sapidesdata.vhd
  ```

  <span data-ttu-id="0551f-867">Pour plus de détails d’applet de commande hello AzureRmVhd de sauvegarde, consultez la page <https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvhd>.</span><span class="sxs-lookup"><span data-stu-id="0551f-867">For more details of hello Save-AzureRmVhd cmdlet, please check here <https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvhd>.</span></span>

#### <a name="cli-20"></a><span data-ttu-id="0551f-868">CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="0551f-868">CLI 2.0</span></span>
  * <span data-ttu-id="0551f-869">Téléchargement d’un disque managé</span><span class="sxs-lookup"><span data-stu-id="0551f-869">Downloading a Managed Disk</span></span>  
  <span data-ttu-id="0551f-870">Vous devez tout d’abord toohello d’accès tooget sous-jacent d’objet blob de hello géré disque.</span><span class="sxs-lookup"><span data-stu-id="0551f-870">You first need tooget access toohello underlying blob of hello Managed Disk.</span></span> <span data-ttu-id="0551f-871">Ensuite, vous pouvez copier les hello sous-jacent tooa nouveau compte de stockage blob et télécharger des objets blob de hello à partir de ce compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="0551f-871">Then you can copy hello underlying blob tooa new storage account and download hello blob from this storage account.</span></span>
  ```
  az disk grant-access --ids "/subscriptions/<subscription id>/resourceGroups/<resource group>/providers/Microsoft.Compute/disks/<disk name>" --duration-in-seconds 3600
  az storage blob download --sas-token "<sas token>" --account-name <account name> --container-name <container name> --name <blob name> --file <local file>
  az disk revoke-access --ids "/subscriptions/<subscription id>/resourceGroups/<resource group>/providers/Microsoft.Compute/disks/<disk name>"
  ```

  * <span data-ttu-id="0551f-872">Téléchargement d’un VHD</span><span class="sxs-lookup"><span data-stu-id="0551f-872">Downloading a VHD</span></span>   
  <span data-ttu-id="0551f-873">Une fois hello système SAP est arrêté et hello machine virtuelle est arrêté, vous pouvez utiliser la commande CLI d’Azure de hello _téléchargement d’objet blob de stockage azure_ sur la cible de local hello hello de toodownload VHD disques world de locale précédent toohello.</span><span class="sxs-lookup"><span data-stu-id="0551f-873">Once hello SAP system is stopped and hello VM is shut down, you can use hello Azure CLI command _azure storage blob download_ on hello on-premises target toodownload hello VHD disks back toohello on-premises world.</span></span> <span data-ttu-id="0551f-874">Dans toodo de commande, vous avez besoin nom de hello et conteneur hello Hello disque dur virtuel que vous pouvez trouver dans hello 'Stockage Section' Hello portail Azure (nécessaire toonavigate toohello compte de stockage et hello conteneur de stockage où hello disque dur virtuel a été créé) et vous devez tooknow où Hello disque dur virtuel doit être copiée dans.</span><span class="sxs-lookup"><span data-stu-id="0551f-874">In order toodo that, you need hello name and hello container of hello VHD which you can find in hello ‘Storage Section’ of hello Azure portal (need toonavigate toohello Storage Account and hello storage container where hello VHD was created) and you need tooknow where hello VHD should be copied to.</span></span>

  <span data-ttu-id="0551f-875">Ensuite, vous pouvez exploiter commande hello en définissant simplement des objets blob de paramètres hello et conteneur de toodownload de disque dur virtuel hello et de destination de hello comme hello physique l’emplacement cible du disque dur virtuel (y compris son nom) de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-875">Then you can leverage hello command by simply defining hello parameters blob and container of hello VHD toodownload and hello destination as hello physical target location of hello VHD (including its name).</span></span> <span data-ttu-id="0551f-876">commande Hello pourrait ressembler à :</span><span class="sxs-lookup"><span data-stu-id="0551f-876">hello command could look like:</span></span>

  ```
  az storage blob download --name <name of hello VHD toodownload> --container-name <container of hello VHD toodownload> --account-name <storage account name of hello VHD toodownload> --account-key <storage account key> --file <destination of hello VHD toodownload>
  ```

### <a name="transferring-vms-and-disks-within-azure"></a><span data-ttu-id="0551f-877">Transfert de machines virtuelles et de disques au sein d’Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-877">Transferring VMs and disks within Azure</span></span>
#### <a name="copying-sap-systems-within-azure"></a><span data-ttu-id="0551f-878">Copie des systèmes SAP au sein d’Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-878">Copying SAP systems within Azure</span></span>
<span data-ttu-id="0551f-879">Un système SAP ou même un serveur SGBD dédié prenant en charge une couche application SAP sera probablement sont constitués de plusieurs disques qui contiennent soit hello du système d’exploitation avec des fichiers binaires de hello ou hello des données et de base de données SAP hello ou les fichiers journaux.</span><span class="sxs-lookup"><span data-stu-id="0551f-879">An SAP system or even a dedicated DBMS server supporting an SAP application layer will likely consist of several disks which contain either hello OS with hello binaries or hello data and log file(s) of hello SAP database.</span></span> <span data-ttu-id="0551f-880">Hello fonctionnalité Azure de copie de disques ni hello fonctionnalité Azure d’enregistrement du disque local de disques tooa a un mécanisme de synchronisation, ce qui serait instantané plusieurs disques de façon synchrone.</span><span class="sxs-lookup"><span data-stu-id="0551f-880">Neither hello Azure functionality of copying disks nor hello Azure functionality of saving disks tooa local disk has a synchronization mechanism, which would snapshot multiple disks synchronously.</span></span> <span data-ttu-id="0551f-881">Par conséquent, état hello Hello copiés ou enregistrés disques, même si ces derniers sont montés sur hello même machine virtuelle est différent.</span><span class="sxs-lookup"><span data-stu-id="0551f-881">Therefore, hello state of hello copied or saved disks even if those are mounted against hello same VM would be different.</span></span> <span data-ttu-id="0551f-882">Cela signifie que dans les cas concrets de hello de différentes données et des disques différents hello finirait, base de données hello final de hello serait incohérent.</span><span class="sxs-lookup"><span data-stu-id="0551f-882">This means that in hello concrete case of having different data and logfile(s) contained in hello different disks, hello database in hello end would be inconsistent.</span></span>

<span data-ttu-id="0551f-883">**Conclusion : Dans l’ordre toocopy ou enregistrer les disques qui font partie d’une configuration de système SAP, vous avez besoin de système SAP de hello toostop et que vous devez également tooshut vers le bas hello déployé machine virtuelle. Ensuite seulement, vous pouvez copier ou télécharger des disques tooeither hello créer une copie de hello système SAP dans Azure ou localement.**</span><span class="sxs-lookup"><span data-stu-id="0551f-883">**Conclusion: In order toocopy or save disks which are part of an SAP system configuration you need toostop hello SAP system and also need tooshut down hello deployed VM. Only then you can copy or download hello set of disks tooeither create a copy of hello SAP system in Azure or on-premises.**</span></span>

<span data-ttu-id="0551f-884">Disques de données peuvent être stockées en tant que fichiers de disque dur virtuel dans un compte de stockage Azure et peuvent être directement attaché tooa virtuels ou être utilisés en tant qu’image.</span><span class="sxs-lookup"><span data-stu-id="0551f-884">Data disks can be stored as VHD files in an Azure Storage Account and can be directly attached tooa virtual machine or be used as an image.</span></span> <span data-ttu-id="0551f-885">Dans ce cas, hello disque dur virtuel est copié tooanother emplacement avant d’être toohello joint une machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-885">In this case, hello VHD is copied tooanother location before being attached toohello virtual machine.</span></span> <span data-ttu-id="0551f-886">nom complet de Hello du fichier de disque dur virtuel hello dans Azure doit être unique dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-886">hello full name of hello VHD file in Azure must be unique within Azure.</span></span> <span data-ttu-id="0551f-887">Comme mentionné précédemment déjà, nom de hello est un type de nom en trois parties qui ressemble à :</span><span class="sxs-lookup"><span data-stu-id="0551f-887">As mentioned earlier already, hello name is kind of a three-part name that looks like:</span></span>

    http(s)://<storage account name>.blob.core.windows.net/<container name>/<vhd name>

<span data-ttu-id="0551f-888">Les disques de données peuvent également être des disques managés.</span><span class="sxs-lookup"><span data-stu-id="0551f-888">Data disks can also be Managed Disks.</span></span> <span data-ttu-id="0551f-889">Dans ce cas, hello géré disque est utilisé toocreate un nouveau géré disque avant d’être toohello joint une machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-889">In this case, hello Managed Disk is used toocreate a new Managed Disk before being attached toohello virtual machine.</span></span> <span data-ttu-id="0551f-890">nom de Hello Hello géré disque doit être unique au sein d’un groupe de ressources.</span><span class="sxs-lookup"><span data-stu-id="0551f-890">hello name of hello Managed Disk must be unique within a resource group.</span></span>

##### <a name="powershell"></a><span data-ttu-id="0551f-891">PowerShell</span><span class="sxs-lookup"><span data-stu-id="0551f-891">Powershell</span></span>
<span data-ttu-id="0551f-892">Vous pouvez utiliser les applets de commande de Azure PowerShell toocopy un disque dur virtuel comme indiqué dans [cet article][storage-powershell-guide-full-copy-vhd].</span><span class="sxs-lookup"><span data-stu-id="0551f-892">You can use Azure PowerShell cmdlets toocopy a VHD as shown in [this article][storage-powershell-guide-full-copy-vhd].</span></span> <span data-ttu-id="0551f-893">toocreate un nouveau disque managé, utilisez New-AzureRmDiskConfig et New-AzureRmDisk comme indiqué dans hello l’exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="0551f-893">toocreate a new Managed Disk, use New-AzureRmDiskConfig and New-AzureRmDisk as shown in hello following example.</span></span>

```powershell
$config = New-AzureRmDiskConfig -CreateOption Copy -SourceUri "/subscriptions/<subscription id>/resourceGroups/<resource group>/providers/Microsoft.Compute/disks/<disk name>" -Location <location>
New-AzureRmDisk -ResourceGroupName <resource group name> -DiskName <disk name> -Disk $config
```

##### <a name="cli-20"></a><span data-ttu-id="0551f-894">CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="0551f-894">CLI 2.0</span></span>
<span data-ttu-id="0551f-895">Vous pouvez utiliser Azure CLI toocopy un disque dur virtuel comme indiqué dans [cet article][storage-azure-cli-copy-blobs].</span><span class="sxs-lookup"><span data-stu-id="0551f-895">You can use Azure CLI toocopy a VHD as shown in [this article][storage-azure-cli-copy-blobs].</span></span> <span data-ttu-id="0551f-896">toocreate un nouveau disque managé, utilisez *az créer* comme indiqué dans hello l’exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="0551f-896">toocreate a new Managed Disk, use *az disk create* as shown in hello following example.</span></span>

```
az disk create --source "/subscriptions/<subscription id>/resourceGroups/<resource group>/providers/Microsoft.Compute/disks/<disk name>" --name <disk name> --resource-group <resource group name> --location <location>
```

##### <a name="azure-storage-tools"></a><span data-ttu-id="0551f-897">Outils Azure Storage</span><span class="sxs-lookup"><span data-stu-id="0551f-897">Azure Storage tools</span></span>
* <span data-ttu-id="0551f-898"><http://storageexplorer.com/></span><span class="sxs-lookup"><span data-stu-id="0551f-898"><http://storageexplorer.com/></span></span>

<span data-ttu-id="0551f-899">Des éditions professionnelles de l’Explorateur de stockage Azure se trouvent ici :</span><span class="sxs-lookup"><span data-stu-id="0551f-899">Professional editions of Azure Storage Explorers can be found here:</span></span>

* <span data-ttu-id="0551f-900"><http://www.cerebrata.com/></span><span class="sxs-lookup"><span data-stu-id="0551f-900"><http://www.cerebrata.com/></span></span>
* <span data-ttu-id="0551f-901"><http://clumsyleaf.com/products/cloudxplorer></span><span class="sxs-lookup"><span data-stu-id="0551f-901"><http://clumsyleaf.com/products/cloudxplorer></span></span>

<span data-ttu-id="0551f-902">copie de Hello d’un disque dur virtuel proprement dit au sein d’un compte de stockage est un processus qui ne prend que quelques secondes (tooSAN un matériel similaire création d’instantanés avec copie différée et copie sur écriture).</span><span class="sxs-lookup"><span data-stu-id="0551f-902">hello copy of a VHD itself within a storage account is a process which takes only a few seconds (similar tooSAN hardware creating snapshots with lazy copy and copy on write).</span></span> <span data-ttu-id="0551f-903">Une fois que vous avez une copie du fichier de disque dur virtuel hello attachez-le tooa virtual machine ou l’utilisation en tant qu’une image tooattach copie des ordinateurs de toovirtual de disque dur virtuel hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-903">After you have a copy of hello VHD file you can attach it tooa virtual machine or use it as an image tooattach copies of hello VHD toovirtual machines.</span></span>

##### <a name="powershell"></a><span data-ttu-id="0551f-904">PowerShell</span><span class="sxs-lookup"><span data-stu-id="0551f-904">Powershell</span></span>
```powershell
# attach a vhd tooa vm
$vm = Get-AzureRmVM -ResourceGroupName <resource group name> -Name <vm name>
$vm = Add-AzureRmVMDataDisk -VM $vm -Name newdatadisk -VhdUri <path toovhd> -Caching <caching option> -DiskSizeInGB $null -Lun <lun, for example 0> -CreateOption attach
$vm | Update-AzureRmVM

# attach a managed disk tooa vm
$vm = Get-AzureRmVM -ResourceGroupName <resource group name> -Name <vm name>
$vm = Add-AzureRmVMDataDisk -VM $vm -Name newdatadisk -ManagedDiskId <managed disk id> -Caching <caching option> -DiskSizeInGB $null -Lun <lun, for example 0> -CreateOption attach
$vm | Update-AzureRmVM

# attach a copy of hello vhd tooa vm
$vm = Get-AzureRmVM -ResourceGroupName <resource group name> -Name <vm name>
$vm = Add-AzureRmVMDataDisk -VM $vm -Name <disk name> -VhdUri <new path of vhd> -SourceImageUri <path tooimage vhd> -Caching <caching option> -DiskSizeInGB $null -Lun <lun, for example 0> -CreateOption fromImage
$vm | Update-AzureRmVM

# attach a copy of hello managed disk tooa vm
$vm = Get-AzureRmVM -ResourceGroupName <resource group name> -Name <vm name>
$diskConfig = New-AzureRmDiskConfig -Location $vm.Location -CreateOption Copy -SourceUri <source managed disk id>
$disk = New-AzureRmDisk -DiskName <disk name> -Disk $diskConfig -ResourceGroupName <resource group name>
$vm = Add-AzureRmVMDataDisk -VM $vm -Caching <caching option> -Lun <lun, for example 0> -CreateOption attach -ManagedDiskId $disk.Id
$vm | Update-AzureRmVM
```
##### <a name="cli-20"></a><span data-ttu-id="0551f-905">CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="0551f-905">CLI 2.0</span></span>
```

# attach a vhd tooa vm
az vm unmanaged-disk attach --resource-group <resource group name> --vm-name <vm name> --vhd-uri <path toovhd>

# attach a managed disk tooa vm
az vm disk attach --resource-group <resource group name> --vm-name <vm name> --disk <managed disk id>

# attach a copy of hello vhd tooa vm
# this scenario is currently not possible with Azure CLI. A workaround is toomanually copy hello vhd toohello destination.

# attach a copy of a managed disk tooa vm
az disk create --name <new disk name> --resource-group <resource group name> --location <location of target virtual machine> --source <source managed disk id>
az vm disk attach --disk <new disk name or managed disk id> --resource-group <resource group name> --vm-name <vm name> --caching <caching option> --lun <lun, for example 0>
```

#### <span data-ttu-id="0551f-906"><a name="9789b076-2011-4afa-b2fe-b07a8aba58a1"></a>Copie de disques entre comptes Azure Storage</span><span class="sxs-lookup"><span data-stu-id="0551f-906"><a name="9789b076-2011-4afa-b2fe-b07a8aba58a1"></a>Copying disks between Azure Storage Accounts</span></span>
<span data-ttu-id="0551f-907">Cette tâche ne peut pas être effectuée sur hello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-907">This task cannot be performed on hello Azure portal.</span></span> <span data-ttu-id="0551f-908">Vous pouvez utiliser les applets de commande Azure PowerShell, l’interface de ligne de commande Azure ou un navigateur de stockage tiers.</span><span class="sxs-lookup"><span data-stu-id="0551f-908">You can use Azure PowerShell cmdlets, Azure CLI or a third-party storage browser.</span></span> <span data-ttu-id="0551f-909">Hello applets de commande PowerShell ou des commandes CLI peuvent créer et gérer des objets BLOB, qui incluent des objets BLOB de hello capacité tooasynchronously copie entre les comptes de stockage et entre des régions dans hello abonnement Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-909">hello PowerShell cmdlets or CLI commands can create and manage blobs, which include hello ability tooasynchronously copy blobs across Storage Accounts and across regions within hello Azure subscription.</span></span>

##### <a name="powershell"></a><span data-ttu-id="0551f-910">PowerShell</span><span class="sxs-lookup"><span data-stu-id="0551f-910">Powershell</span></span>
<span data-ttu-id="0551f-911">Vous pouvez également copier des VHD entre des abonnements.</span><span class="sxs-lookup"><span data-stu-id="0551f-911">You can also copy VHDs between subscriptions.</span></span> <span data-ttu-id="0551f-912">Pour plus d’informations, consultez [cet article][storage-powershell-guide-full-copy-vhd].</span><span class="sxs-lookup"><span data-stu-id="0551f-912">For more information read [this article][storage-powershell-guide-full-copy-vhd].</span></span>

<span data-ttu-id="0551f-913">flux de base Hello Hello logique d’applet de commande PS ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="0551f-913">hello basic flow of hello PS cmdlet logic looks like this:</span></span>

* <span data-ttu-id="0551f-914">Créer un contexte de compte de stockage pour hello **source** compte de stockage avec *New-AzureStorageContext* -consultez <https://msdn.microsoft.com/library/dn806380.aspx></span><span class="sxs-lookup"><span data-stu-id="0551f-914">Create a storage account context for hello **source** storage account with *New-AzureStorageContext* - see <https://msdn.microsoft.com/library/dn806380.aspx></span></span>
* <span data-ttu-id="0551f-915">Créer un contexte de compte de stockage pour hello **cible** compte de stockage avec *New-AzureStorageContext* -consultez <https://msdn.microsoft.com/library/dn806380.aspx></span><span class="sxs-lookup"><span data-stu-id="0551f-915">Create a storage account context for hello **target** storage account with *New-AzureStorageContext* - see <https://msdn.microsoft.com/library/dn806380.aspx></span></span>
* <span data-ttu-id="0551f-916">Démarrer la copie hello avec</span><span class="sxs-lookup"><span data-stu-id="0551f-916">Start hello copy with</span></span>

```powershell
Start-AzureStorageBlobCopy -SrcBlob <source blob name> -SrcContainer <source container name> -SrcContext <variable containing context of source storage account> -DestBlob <target blob name> -DestContainer <target container name> -DestContext <variable containing context of target storage account>
```

* <span data-ttu-id="0551f-917">Vérifier l’état de hello de copie hello dans une boucle avec</span><span class="sxs-lookup"><span data-stu-id="0551f-917">Check hello status of hello copy in a loop with</span></span>

```powershell
Get-AzureStorageBlobCopyState -Blob <target blob name> -Container <target container name> -Context <variable containing context of target storage account>
```

* <span data-ttu-id="0551f-918">Attachez hello VHD tooa machine virtuelle comme décrit ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="0551f-918">Attach hello new VHD tooa virtual machine as described above.</span></span>

<span data-ttu-id="0551f-919">Pour découvrir des exemples, consultez [cet article][storage-powershell-guide-full-copy-vhd].</span><span class="sxs-lookup"><span data-stu-id="0551f-919">For examples see [this article][storage-powershell-guide-full-copy-vhd].</span></span>

##### <a name="cli-20"></a><span data-ttu-id="0551f-920">CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="0551f-920">CLI 2.0</span></span>
* <span data-ttu-id="0551f-921">Démarrer la copie hello avec</span><span class="sxs-lookup"><span data-stu-id="0551f-921">Start hello copy with</span></span>

```
az storage blob copy start --source-blob <source blob name> --source-container <source container name> --source-account-name <source storage account name> --source-account-key <source storage account key> --destination-container <target container name> --destination-blob <target blob name> --account-name <target storage account name> --account-key <target storage account name>
```

* <span data-ttu-id="0551f-922">Vérifier l’état de hello si hello copie dans une boucle avec</span><span class="sxs-lookup"><span data-stu-id="0551f-922">Check hello status if hello copy in a loop with</span></span>

```
az storage blob show --name <target blob name> --container <target container name> --account-name <target storage account name> --account-key <target storage account name>
```

* <span data-ttu-id="0551f-923">Attachez hello VHD tooa machine virtuelle comme décrit ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="0551f-923">Attach hello new VHD tooa virtual machine as described above.</span></span>

<span data-ttu-id="0551f-924">Pour découvrir des exemples, consultez [cet article][storage-azure-cli-copy-blobs].</span><span class="sxs-lookup"><span data-stu-id="0551f-924">For examples see [this article][storage-azure-cli-copy-blobs].</span></span>

### <a name="disk-handling"></a><span data-ttu-id="0551f-925">Gestion de disque</span><span class="sxs-lookup"><span data-stu-id="0551f-925">Disk Handling</span></span>
#### <span data-ttu-id="0551f-926"><a name="4efec401-91e0-40c0-8e64-f2dceadff646"></a>Structure de machine virtuelle/disque pour les déploiements SAP</span><span class="sxs-lookup"><span data-stu-id="0551f-926"><a name="4efec401-91e0-40c0-8e64-f2dceadff646"></a>VM/disk structure for SAP deployments</span></span>
<span data-ttu-id="0551f-927">Dans l’idéal, hello gestion de structure hello d’une machine virtuelle et les disques hello associé doivent être très simples.</span><span class="sxs-lookup"><span data-stu-id="0551f-927">Ideally hello handling of hello structure of a VM and hello associated disks should be very simple.</span></span> <span data-ttu-id="0551f-928">Dans les installations locales, les clients ont développé de nombreuses méthodes pour structurer une installation du serveur.</span><span class="sxs-lookup"><span data-stu-id="0551f-928">In on-premises installations, customers developed many ways of structuring a server installation.</span></span>

* <span data-ttu-id="0551f-929">Un disque de base contenant hello du système d’exploitation et tous les fichiers binaires de hello de hello SGBD ou SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-929">One base disk which contains hello OS and all hello binaries of hello DBMS and/or SAP.</span></span> <span data-ttu-id="0551f-930">Depuis mars 2015, ce disque peut être des too1TB taille au lieu de restrictions antérieures dont il limitée too127GB.</span><span class="sxs-lookup"><span data-stu-id="0551f-930">Since March 2015, this disk can be up too1TB in size instead of earlier restrictions that limited it too127GB.</span></span>
* <span data-ttu-id="0551f-931">Un ou plusieurs disques contenant hello SGBD fichier journal de base de données SAP hello et fichier_journal hello Hello zone de stockage temporaire SGBD (si hello SGBD prend en charge).</span><span class="sxs-lookup"><span data-stu-id="0551f-931">One or multiple disks which contains hello DBMS log file of hello SAP database and hello log file of hello DBMS temp storage area (if hello DBMS supports this).</span></span> <span data-ttu-id="0551f-932">Si les exigences d’e/s de journal de base de données hello sont élevées, vous devez toostripe plusieurs disques de volume d’IOPS ordre tooreach hello requis.</span><span class="sxs-lookup"><span data-stu-id="0551f-932">If hello database log IOPS requirements are high, you need toostripe multiple disks in order tooreach hello IOPS volume required.</span></span>
* <span data-ttu-id="0551f-933">Un nombre de disques contenant un ou deux fichiers de base de données de base de données SAP hello et les fichiers de données temporaires SGBD hello ainsi (si hello SGBD prend en charge).</span><span class="sxs-lookup"><span data-stu-id="0551f-933">A number of disks containing one or two database files of hello SAP database and hello DBMS temp data files as well (if hello DBMS supports this).</span></span>

![Configuration de référence de la machine virtuelle IaaS Azure pour SAP][planning-guide-figure-1300]

[comment]: <> (MShermannd  TODO describe Linux structure  )

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="0551f-937">Windows</span><span class="sxs-lookup"><span data-stu-id="0551f-937">Windows</span></span>
>
> <span data-ttu-id="0551f-938">Avec de nombreux clients, nous avons vu configurations où, par exemple, les binaires SAP et SGBD n’étaient pas installés sur le lecteur c:\ de hello où hello système d’exploitation a été installé.</span><span class="sxs-lookup"><span data-stu-id="0551f-938">With many customers we saw configurations where, for example, SAP and DBMS binaries were not installed on hello c:\ drive where hello OS was installed.</span></span> <span data-ttu-id="0551f-939">Différentes raisons pour cela, mais lorsque nous avons précédent toohello racine, il était généralement que hello lecteurs étaient petits et mises à niveau du système d’exploitation nécessaires espace supplémentaire de 10 à 15 ans.</span><span class="sxs-lookup"><span data-stu-id="0551f-939">There were various reasons for this, but when we went back toohello root, it usually was that hello drives were small and OS upgrades needed additional space 10-15 years ago.</span></span> <span data-ttu-id="0551f-940">Ces deux conditions s’appliquent bien moins souvent de nos jours.</span><span class="sxs-lookup"><span data-stu-id="0551f-940">Both conditions do not apply these days too often anymore.</span></span> <span data-ttu-id="0551f-941">Aujourd'hui, lecteur c:\ de hello peut être mappée sur des machines virtuelles ou des disques des volumes de grande taille.</span><span class="sxs-lookup"><span data-stu-id="0551f-941">Today hello c:\ drive can be mapped on large volume disks or VMs.</span></span> <span data-ttu-id="0551f-942">Dans les déploiements de tookeep de commande simples dans leur structure, il est recommandé de toofollow le modèle de déploiement suivantes pour les systèmes SAP NetWeaver dans Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-942">In order tookeep deployments simple in their structure, it is recommended toofollow the following deployment pattern for SAP NetWeaver systems in Azure</span></span>
>
> <span data-ttu-id="0551f-943">fichier d’échange de système d’exploitation de Windows Hello doit se trouver sur hello D: (disque non persistant)</span><span class="sxs-lookup"><span data-stu-id="0551f-943">hello Windows operating system pagefile should be on hello D: drive (non-persistent disk)</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="0551f-945">Linux</span><span class="sxs-lookup"><span data-stu-id="0551f-945">Linux</span></span>
>
> <span data-ttu-id="0551f-946">Placez le fichier d’échange hello Linux sous/mnt/mnt/resource sur Linux comme décrit dans [cet article][virtual-machines-linux-agent-user-guide].</span><span class="sxs-lookup"><span data-stu-id="0551f-946">Place hello Linux swapfile under /mnt /mnt/resource on Linux as described in [this article][virtual-machines-linux-agent-user-guide].</span></span> <span data-ttu-id="0551f-947">fichier d’échange Hello peut être configuré dans le fichier de configuration hello Hello /etc/waagent.conf de le Linux Agent.</span><span class="sxs-lookup"><span data-stu-id="0551f-947">hello swap file can be configured in hello configuration file of hello Linux Agent /etc/waagent.conf.</span></span> <span data-ttu-id="0551f-948">Ajoutez ou modifiez hello suivant les paramètres :</span><span class="sxs-lookup"><span data-stu-id="0551f-948">Add or change hello following settings:</span></span>
>
>

```
ResourceDisk.EnableSwap=y
ResourceDisk.SwapSizeMB=30720
```

<span data-ttu-id="0551f-949">modifications de hello tooactivate, vous devez toorestart hello Linux Agent avec</span><span class="sxs-lookup"><span data-stu-id="0551f-949">tooactivate hello changes, you need toorestart hello Linux Agent with</span></span>

```
sudo service waagent restart
```

<span data-ttu-id="0551f-950">Veuillez lire la Note SAP [1597355] pour plus d’informations sur hello recommandé de taille du fichier d’échange</span><span class="sxs-lookup"><span data-stu-id="0551f-950">Please read SAP Note [1597355] for more details on hello recommended swap file size</span></span>

- - -
<span data-ttu-id="0551f-951">nombre de Hello de disques utilisés pour les fichiers de données du SGBD hello et de type hello de ces disques sont hébergés sur le stockage Azure doit être déterminé en matière d’IOPS hello et latence hello requise.</span><span class="sxs-lookup"><span data-stu-id="0551f-951">hello number of disks used for hello DBMS data files and hello type of Azure Storage these disks are hosted on should be determined by hello IOPS requirements and hello latency required.</span></span> <span data-ttu-id="0551f-952">Les quotas exacts sont décrits dans [cet article (Linux)][virtual-machines-sizes-linux] et [cet article (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="0551f-952">Exact quotas are described in [this article (Linux)][virtual-machines-sizes-linux] and [this article (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="0551f-953">Expérience des déploiements SAP sur hello 2 dernières années nous appris certaines leçons qui peuvent se résumer ainsi :</span><span class="sxs-lookup"><span data-stu-id="0551f-953">Experience of SAP deployments over hello last 2 years taught us some lessons which can be summarized as:</span></span>

* <span data-ttu-id="0551f-954">Fichiers de données d’e/s du trafic toodifferent n’est pas toujours hello identiques étant donné que les systèmes clients existants peuvent avoir différemment des données de taille des fichiers représentant leurs bases de données SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-954">IOPS traffic toodifferent data files is not always hello same since existing customer systems might have differently sized data files representing their SAP database(s).</span></span> <span data-ttu-id="0551f-955">Par conséquent, il s’est avéré toobe mieux à l’aide d’une configuration RAID sur plusieurs disques tooplace hello des fichiers de données que numéros d’unités logiques diviser en dehors de celles.</span><span class="sxs-lookup"><span data-stu-id="0551f-955">As a result it turned out toobe better using a RAID configuration over multiple disks tooplace hello data files LUNs carved out of those.</span></span> <span data-ttu-id="0551f-956">A été le cas, en particulier avec le stockage Azure Standard dans laquelle un taux d’IOPS atteint le quota hello d’un seul disque sur le journal des transactions SGBD hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-956">There were situations, especially with Azure Standard Storage where an IOPS rate hit hello quota of a single disk against hello DBMS transaction log.</span></span> <span data-ttu-id="0551f-957">Dans de tels scénarios hello l’utilisation de stockage Premium est recommandée, ou vous pouvez également regrouper plusieurs stockage Standard RAID de disques avec un logiciel.</span><span class="sxs-lookup"><span data-stu-id="0551f-957">In such scenarios hello use of Premium Storage is recommended or alternatively aggregating multiple Standard Storage disks with a software RAID.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="0551f-959">Windows</span><span class="sxs-lookup"><span data-stu-id="0551f-959">Windows</span></span>
>
> * <span data-ttu-id="0551f-960">[Meilleures pratiques relatives aux performances de SQL Server dans les machines virtuelles Azure][virtual-machines-sql-server-performance-best-practices]</span><span class="sxs-lookup"><span data-stu-id="0551f-960">[Performance best practices for SQL Server in Azure Virtual Machines][virtual-machines-sql-server-performance-best-practices]</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="0551f-962">Linux</span><span class="sxs-lookup"><span data-stu-id="0551f-962">Linux</span></span>
>
> * <span data-ttu-id="0551f-963">[Configuration d’un RAID logiciel sur Linux][virtual-machines-linux-configure-raid]</span><span class="sxs-lookup"><span data-stu-id="0551f-963">[Configure Software RAID on Linux][virtual-machines-linux-configure-raid]</span></span>
> * <span data-ttu-id="0551f-964">[Configurer LVM sur une machine virtuelle Linux dans Azure][virtual-machines-linux-configure-lvm]</span><span class="sxs-lookup"><span data-stu-id="0551f-964">[Configure LVM on a Linux VM in Azure][virtual-machines-linux-configure-lvm]</span></span>
> * [<span data-ttu-id="0551f-965">Secrets d’Azure Storage et optimisations d’E/S dans Linux</span><span class="sxs-lookup"><span data-stu-id="0551f-965">Azure Storage secrets and Linux I/O optimizations</span></span>](http://blogs.msdn.com/b/igorpag/archive/2014/10/23/azure-storage-secrets-and-linux-i-o-optimizations.aspx)
>
>

- - -
* <span data-ttu-id="0551f-966">Premium Storage affiche des performances en hausse, en particulier pour les écritures du journal des transactions critiques.</span><span class="sxs-lookup"><span data-stu-id="0551f-966">Premium Storage is showing significant better performance, especially for critical transaction log writes.</span></span> <span data-ttu-id="0551f-967">Pour les scénarios SAP qui sont les performances en production toodeliver attendu, il est vivement recommandé de toouse série de machines virtuelles qui peut tirer parti de stockage Azure Premium.</span><span class="sxs-lookup"><span data-stu-id="0551f-967">For SAP scenarios that are expected toodeliver production like performance, it is highly recommended toouse VM-Series that can leverage Azure Premium Storage.</span></span>

<span data-ttu-id="0551f-968">N’oubliez pas ce disque hello contenant hello du système d’exploitation, et que nous vous recommandons, hello binaires de base de données SAP et hello (machine virtuelle de base), n’est plus limitée too127GB.</span><span class="sxs-lookup"><span data-stu-id="0551f-968">Keep in mind that hello disk which contains hello OS, and as we recommend, hello binaries of SAP and hello database (base VM) as well, is not anymore limited too127GB.</span></span> <span data-ttu-id="0551f-969">Il peut désormais avoir au plus too1TB taille.</span><span class="sxs-lookup"><span data-stu-id="0551f-969">It now can have up too1TB in size.</span></span> <span data-ttu-id="0551f-970">Cela doit être suffisamment tookeep espace que tous hello, y compris les fichiers nécessaires, par exemple, SAP des journaux de traitement par lots de travail.</span><span class="sxs-lookup"><span data-stu-id="0551f-970">This should be enough space tookeep all hello necessary file including, for example, SAP batch job logs.</span></span>

<span data-ttu-id="0551f-971">Pour obtenir des suggestions et plus de détails, en particulier pour les machines virtuelles SGBD, consultez hello [Guide de déploiement de système SGBD][dbms-guide]</span><span class="sxs-lookup"><span data-stu-id="0551f-971">For more suggestions and more details, specifically for DBMS VMs, please consult hello [DBMS Deployment Guide][dbms-guide]</span></span>

#### <a name="disk-handling"></a><span data-ttu-id="0551f-972">Gestion de disque</span><span class="sxs-lookup"><span data-stu-id="0551f-972">Disk Handling</span></span>
<span data-ttu-id="0551f-973">Dans la plupart des scénarios, vous devez toocreate des disques supplémentaires dans la base de données SAP ordre toodeploy hello en hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-973">In most scenarios you need toocreate additional disks in order toodeploy hello SAP database into hello VM.</span></span> <span data-ttu-id="0551f-974">Nous avons abordé les considérations hello sur le nombre de disques dans le chapitre [structure de machine virtuelle/disque pour les déploiements SAP] [ planning-guide-5.5.1] de ce document.</span><span class="sxs-lookup"><span data-stu-id="0551f-974">We talked about hello considerations on number of disks in chapter [VM/disk structure for SAP deployments][planning-guide-5.5.1] of this document.</span></span> <span data-ttu-id="0551f-975">Hello portail Azure permet de tooattach et détachement des disques une fois qu’une machine virtuelle de base est déployée.</span><span class="sxs-lookup"><span data-stu-id="0551f-975">hello Azure portal allows tooattach and detach disks once a base VM is deployed.</span></span> <span data-ttu-id="0551f-976">les disques Hello peuvent être Attacher/Détacher lorsque hello machine virtuelle est activé et en cours d’exécution ainsi que quand il est arrêté.</span><span class="sxs-lookup"><span data-stu-id="0551f-976">hello disks can be attached/detached when hello VM is up and running as well as when it is stopped.</span></span> <span data-ttu-id="0551f-977">Lors de l’attachement d’un disque, hello portail Azure offre tooattach un disque vide ou un disque existant à ce stade n’est pas attaché tooanother machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-977">When attaching a disk, hello Azure portal offers tooattach an empty disk or an existing disk which at this point in time is not attached tooanother VM.</span></span>

<span data-ttu-id="0551f-978">**Remarque**: disques ne peuvent être attaché tooone machine virtuelle à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="0551f-978">**Note**: Disks can only be attached tooone VM at any given time.</span></span>

![Attacher/Détacher des disques avec le stockage Azure standard][planning-guide-figure-1400]

<span data-ttu-id="0551f-980">Au cours du déploiement hello d’un nouvel ordinateur virtuel, vous pouvez décider si vous souhaitez que les disques gérés toouse ou placez vos disques sur les comptes de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-980">During hello deployment of a new virtual machine, you can decide whether you want toouse Managed Disks or place your disks on Azure Storage Accounts.</span></span> <span data-ttu-id="0551f-981">Si vous souhaitez toouse stockage Premium, nous recommandons d’utiliser des disques gérés.</span><span class="sxs-lookup"><span data-stu-id="0551f-981">If you want toouse Premium Storage, we recommend using Managed Disks.</span></span>

<span data-ttu-id="0551f-982">Ensuite, vous devez toodecide si vous voulez toocreate un disque vide ou si vous souhaitez que tooselect un disque existant qui a été téléchargé précédemment et qui doit être attaché toohello VM maintenant.</span><span class="sxs-lookup"><span data-stu-id="0551f-982">Next, you need toodecide whether you want toocreate a new and empty disk or whether you want tooselect an existing disk that was uploaded earlier and should be attached toohello VM now.</span></span>

<span data-ttu-id="0551f-983">**IMPORTANT**: vous **ne sont pas** souhaitez toouse mise en cache de l’hôte avec le stockage Azure Standard.</span><span class="sxs-lookup"><span data-stu-id="0551f-983">**IMPORTANT**: You **DO NOT** want toouse Host Caching with Azure Standard Storage.</span></span> <span data-ttu-id="0551f-984">Vous conservez les préférences de Cache de l’hôte de hello hello comme valeur par défaut NONE.</span><span class="sxs-lookup"><span data-stu-id="0551f-984">You should leave hello Host Cache preference at hello default of NONE.</span></span> <span data-ttu-id="0551f-985">Avec le stockage Azure Premium vous devez activer la mise en cache de lecture si caractéristique d’e/s de hello est en lecture principalement comme classique de trafic d’e/s sur les fichiers de données de base de données.</span><span class="sxs-lookup"><span data-stu-id="0551f-985">With Azure Premium Storage you should enable Read Caching if hello I/O characteristic is mostly read like typical I/O traffic against database data files.</span></span> <span data-ttu-id="0551f-986">En présence d’un fichier journal des transactions de base de données, la mise en cache n’est pas recommandée.</span><span class="sxs-lookup"><span data-stu-id="0551f-986">In case of database transaction log file no caching is recommended.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="0551f-988">Windows</span><span class="sxs-lookup"><span data-stu-id="0551f-988">Windows</span></span>
>
> <span data-ttu-id="0551f-989">[Disque tooattach données Bonjour portail Azure][virtual-machines-linux-attach-disk-portal]</span><span class="sxs-lookup"><span data-stu-id="0551f-989">[How tooattach a data disk in hello Azure portal][virtual-machines-linux-attach-disk-portal]</span></span>
>
> <span data-ttu-id="0551f-990">Si les disques sont attachés, vous devez toolog Bonjour tooopen de machine virtuelle toohello Gestionnaire de disque Windows.</span><span class="sxs-lookup"><span data-stu-id="0551f-990">If disks are attached, you need toolog in toohello VM tooopen hello Windows Disk Manager.</span></span> <span data-ttu-id="0551f-991">Si le montage automatique n’est pas activé comme indiqué dans le chapitre [activation du montage automatique pour les disques attachés][planning-guide-5.5.3], hello volume nouvellement attaché doit toobe effectuée en ligne et initialisé.</span><span class="sxs-lookup"><span data-stu-id="0551f-991">If automount is not enabled as recommended in chapter [Setting automount for attached disks][planning-guide-5.5.3], hello newly attached volume needs toobe taken online and initialized.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="0551f-993">Linux</span><span class="sxs-lookup"><span data-stu-id="0551f-993">Linux</span></span>
>
> <span data-ttu-id="0551f-994">Si les disques sont attachés, vous devez toolog dans toohello machine virtuelle et initialiser des disques de hello comme décrit dans [cet article][virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]</span><span class="sxs-lookup"><span data-stu-id="0551f-994">If disks are attached, you need toolog in toohello VM and initialize hello disks as described in [this article][virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]</span></span>
>
>

- - -
<span data-ttu-id="0551f-995">Si le nouveau disque de hello est un disque vide, vous devez tooformat hello disquette.</span><span class="sxs-lookup"><span data-stu-id="0551f-995">If hello new disk is an empty disk, you need tooformat hello disk as well.</span></span> <span data-ttu-id="0551f-996">Pour mettre en forme, en particulier pour les SGBD, données et fichiers journaux hello mêmes recommandations que pour les déploiements complets de hello que SGBD s’appliquent.</span><span class="sxs-lookup"><span data-stu-id="0551f-996">For formatting, especially for DBMS data and log files hello same recommendations as for bare-metal deployments of hello DBMS apply.</span></span>

<span data-ttu-id="0551f-997">Comme indiqué précédemment dans le chapitre [hello le Concept de Machine virtuelle Microsoft Azure][planning-guide-3.2], un compte de stockage Azure ne fournit pas une infinité de ressources en termes de volume d’e/s, e/s et les données du volume.</span><span class="sxs-lookup"><span data-stu-id="0551f-997">As already mentioned in chapter [hello Microsoft Azure Virtual Machine Concept][planning-guide-3.2], an Azure Storage account does not provide infinite resources in terms of I/O volume, IOPS and data volume.</span></span> <span data-ttu-id="0551f-998">Généralement, les machines virtuelles SGBD en sont les plus affectées.</span><span class="sxs-lookup"><span data-stu-id="0551f-998">Usually DBMS VMs are most affected by this.</span></span> <span data-ttu-id="0551f-999">Il peut être un compte de stockage distinct pour chaque ordinateur virtuel de toouse meilleures si vous avez peu élevé toodeploy de machines virtuelles de volume d’e/s dans toostay ordre limite hello Hello volume de compte de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-999">It might be best toouse a separate Storage Account for each VM if you have few high I/O volume VMs toodeploy in order toostay within hello limit of hello Azure Storage Account volume.</span></span> <span data-ttu-id="0551f-1000">Sinon, vous devez toosee comment vous pouvez équilibrer ces machines virtuelles entre les différents comptes de stockage sans atteindre la limite de hello de chaque compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="0551f-1000">Otherwise, you need toosee how you can balance these VMs between different Storage accounts without hitting hello limit of each single Storage Account.</span></span> <span data-ttu-id="0551f-1001">Plus de détails sont présentés dans hello [Guide de déploiement de système SGBD][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="0551f-1001">More details are discussed in hello [DBMS Deployment Guide][dbms-guide].</span></span> <span data-ttu-id="0551f-1002">Vous devez également garder ces limitations à l’esprit pour les machines virtuelles de serveur d’application SAP pures ou d’autres machines virtuelles pouvant potentiellement nécessiter des disques durs virtuels supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="0551f-1002">You should also keep these limitations in mind for pure SAP application server VMs or other VMs which eventually might require additional VHDs.</span></span> <span data-ttu-id="0551f-1003">Ces restrictions ne s’appliquent pas si vous utilisez des disques managés.</span><span class="sxs-lookup"><span data-stu-id="0551f-1003">These restrictions do not apply if you use Managed Disk.</span></span> <span data-ttu-id="0551f-1004">Si vous envisagez de toouse stockage Premium, nous recommandons d’utiliser des disques gérés.</span><span class="sxs-lookup"><span data-stu-id="0551f-1004">If you plan toouse Premium Storage, we recommend using Managed Disk.</span></span>

<span data-ttu-id="0551f-1005">Un autre aspect pertinent pour les comptes de stockage est si hello disques durs virtuels dans un compte de stockage sont géo-répliqués.</span><span class="sxs-lookup"><span data-stu-id="0551f-1005">Another topic which is relevant for Storage Accounts is whether hello VHDs in a Storage Account are getting Geo-replicated.</span></span> <span data-ttu-id="0551f-1006">Géo-réplication est activée ou désactivée sur hello au niveau du compte de stockage et non sur hello au niveau de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-1006">Geo-replication is enabled or disabled on hello Storage Account level and not on hello VM level.</span></span> <span data-ttu-id="0551f-1007">Si la géo-réplication est activée, les disques durs virtuels hello dans hello dans que compte de stockage sont répliqué dans un autre centre de données Azure hello même région.</span><span class="sxs-lookup"><span data-stu-id="0551f-1007">If geo-replication is enabled, hello VHDs within hello Storage Account would be replicated into another Azure data center within hello same region.</span></span> <span data-ttu-id="0551f-1008">Avant de décider cela, vous devez penser hello suivant restriction :</span><span class="sxs-lookup"><span data-stu-id="0551f-1008">Before deciding on this, you should think about hello following restriction:</span></span>

<span data-ttu-id="0551f-1009">Géo-réplication Azure fonctionne localement sur chaque disque dur virtuel sur un ordinateur virtuel et ne réplique pas IOs hello dans l’ordre chronologique sur plusieurs disques durs virtuels dans une machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-1009">Azure Geo-replication works locally on each VHD in a VM and does not replicate hello IOs in chronological order across multiple VHDs in a VM.</span></span> <span data-ttu-id="0551f-1010">Par conséquent, hello VHD que représente hello machine virtuelle de base, ainsi que n’importe quel toohello de disques durs virtuels attachés supplémentaire machine virtuelle sont répliquées indépendante des autres.</span><span class="sxs-lookup"><span data-stu-id="0551f-1010">Therefore, hello VHD that represents hello base VM as well as any additional VHDs attached toohello VM are replicated independent of each other.</span></span> <span data-ttu-id="0551f-1011">Ainsi, qu'il n’existe aucune synchronisation entre les changements de hello dans hello différents disques durs virtuels.</span><span class="sxs-lookup"><span data-stu-id="0551f-1011">This means there is no synchronization between hello changes in hello different VHDs.</span></span> <span data-ttu-id="0551f-1012">Hello fait que hello IOs répliquées indépendamment de commande hello dans lequel elles sont écrites signifiant que la géo-réplication n’est pas de valeur pour les serveurs de base de données qui ont leurs bases de données distribuées sur plusieurs disques durs virtuels.</span><span class="sxs-lookup"><span data-stu-id="0551f-1012">hello fact that hello IOs are replicated independently of hello order in which they are written means that geo-replication is not of value for database servers that have their databases distributed over multiple VHDs.</span></span> <span data-ttu-id="0551f-1013">En outre toohello SGBD, il également peut-être d’autres applications où les processus écrivent ou manipulent des données dans différents disques durs virtuels et son ordre de hello tookeep important de modifications.</span><span class="sxs-lookup"><span data-stu-id="0551f-1013">In addition toohello DBMS, there also might be other applications where processes write or manipulate data in different VHDs and where it is important tookeep hello order of changes.</span></span> <span data-ttu-id="0551f-1014">Si ce dernier est important, la géo-réplication dans Azure ne doit pas être activée.</span><span class="sxs-lookup"><span data-stu-id="0551f-1014">If that is a requirement, geo-replication in Azure should not be enabled.</span></span> <span data-ttu-id="0551f-1015">Si vous souhaitez ou avez besoin de la géo-réplication pour un ensemble de machines virtuelles, mais pas pour un autre ensemble, vous pouvez déjà catégoriser les machines virtuelles et leurs disques durs virtuels correspondants dans différents comptes de stockage dont la géo-réplication est activée ou désactivée.</span><span class="sxs-lookup"><span data-stu-id="0551f-1015">Dependent on whether you need or want geo-replication for a set of VMs, but not for another set, you can already categorize VMs and their related VHDs into different Storage Accounts that have geo-replication enabled or disabled.</span></span>

#### <span data-ttu-id="0551f-1016"><a name="17e0d543-7e8c-4160-a7da-dd7117a1ad9d"></a>Paramétrage du montage automatique pour les disques attachés</span><span class="sxs-lookup"><span data-stu-id="0551f-1016"><a name="17e0d543-7e8c-4160-a7da-dd7117a1ad9d"></a>Setting automount for attached disks</span></span>
- - -
> ![Windows][Logo_Windows] <span data-ttu-id="0551f-1018">Windows</span><span class="sxs-lookup"><span data-stu-id="0551f-1018">Windows</span></span>
>
> <span data-ttu-id="0551f-1019">Pour les ordinateurs virtuels qui sont créés à partir des Images ou des disques propres, il est nécessaire toocheck et définissez éventuellement de paramètre de montage hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1019">For VMs which are created from own Images or Disks, it is necessary toocheck and possibly set hello automount parameter.</span></span> <span data-ttu-id="0551f-1020">Ce paramètre autorise hello machine virtuelle après qu’un redémarrage ou un redéploiement dans Azure toomount hello attachés/montés lecteurs à nouveau automatiquement.</span><span class="sxs-lookup"><span data-stu-id="0551f-1020">Setting this parameter will allow hello VM after a restart or redeployment in Azure toomount hello attached/mounted drives again automatically.</span></span>
> <span data-ttu-id="0551f-1021">paramètre Hello est définie pour les images hello fournis par Microsoft Bonjour Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="0551f-1021">hello parameter is set for hello images provided by Microsoft in hello Azure Marketplace.</span></span>
>
> <span data-ttu-id="0551f-1022">Dans l’ordre tooset hello automount, veuillez consultez la documentation de hello de hello de ligne de commande exécutable diskpart.exe ici :</span><span class="sxs-lookup"><span data-stu-id="0551f-1022">In order tooset hello automount, please check hello documentation of hello command-line executable diskpart.exe here:</span></span>
>
> * [<span data-ttu-id="0551f-1023">Options de ligne de commande DiskPart</span><span class="sxs-lookup"><span data-stu-id="0551f-1023">DiskPart Command-Line Options</span></span>](https://technet.microsoft.com/library/bb490893.aspx)
> * [<span data-ttu-id="0551f-1024">Montage automatique</span><span class="sxs-lookup"><span data-stu-id="0551f-1024">Automount</span></span>](http://technet.microsoft.com/library/cc753703.aspx)
>
> <span data-ttu-id="0551f-1025">Hello Windows en tant qu’administrateur, vous devez ouvrir la fenêtre de ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="0551f-1025">hello Windows command-line window should be opened as administrator.</span></span>
>
> <span data-ttu-id="0551f-1026">Si les disques sont attachés, vous devez toolog Bonjour tooopen de machine virtuelle toohello Gestionnaire de disque Windows.</span><span class="sxs-lookup"><span data-stu-id="0551f-1026">If disks are attached, you need toolog in toohello VM tooopen hello Windows Disk Manager.</span></span> <span data-ttu-id="0551f-1027">Si le montage automatique n’est pas activé comme indiqué dans le chapitre [activation du montage automatique pour les disques attachés][planning-guide-5.5.3], hello nouvellement attachés volume > doit toobe effectuée en ligne et initialisé.</span><span class="sxs-lookup"><span data-stu-id="0551f-1027">If automount is not enabled as recommended in chapter [Setting automount for attached disks][planning-guide-5.5.3],  hello newly attached volume >needs toobe taken online and initialized.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="0551f-1029">Linux</span><span class="sxs-lookup"><span data-stu-id="0551f-1029">Linux</span></span>
>
> <span data-ttu-id="0551f-1030">Vous devez tooinitialize un disque vide qui vient d’être attaché, comme décrit dans [cet article][virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux].</span><span class="sxs-lookup"><span data-stu-id="0551f-1030">You need tooinitialize a newly attached empty disk as described in [this article][virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux].</span></span>
> <span data-ttu-id="0551f-1031">Vous devez également/etc/fstab tooadd nouveaux disques toohello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1031">You also need tooadd new disks toohello /etc/fstab.</span></span>
>
>

- - -
### <a name="final-deployment"></a><span data-ttu-id="0551f-1032">Déploiement final</span><span class="sxs-lookup"><span data-stu-id="0551f-1032">Final Deployment</span></span>
<span data-ttu-id="0551f-1033">Pour hello déploiement final et les étapes exactes, surtout avec ce qui concerne les déploiement de toohello de surveillance étendue SAP, consultez toohello [Guide de déploiement][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="0551f-1033">For hello final deployment and exact steps, especially with regards toohello deployment of SAP Extended Monitoring, please refer toohello [Deployment Guide][deployment-guide].</span></span>

## <a name="accessing-sap-systems-running-within-azure-vms"></a><span data-ttu-id="0551f-1034">Accès aux systèmes SAP s’exécutant dans des machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-1034">Accessing SAP systems running within Azure VMs</span></span>
<span data-ttu-id="0551f-1035">Pour les scénarios de Cloud uniquement, vous pouvez baliser des systèmes SAP tooconnect toothose parmi hello internet public à l’aide d’interface utilisateur graphique SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-1035">For Cloud-Only scenarios, you might want tooconnect toothose SAP systems across hello public internet using SAP GUI.</span></span> <span data-ttu-id="0551f-1036">Dans ce cas, hello suivant les procédures doivent toobe appliqué.</span><span class="sxs-lookup"><span data-stu-id="0551f-1036">For these cases, hello following procedures need toobe applied.</span></span>

<span data-ttu-id="0551f-1037">Plus loin dans le document hello que nous aborderons hello autre scénario principales, des systèmes de tooSAP connexion dans les déploiements entre différents locaux qui ont une connexion de site à site (tunnel VPN) ou de connexion Azure ExpressRoute entre les systèmes sur site de hello et Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1037">Later in hello document we will discuss hello other major scenario, connecting tooSAP systems in cross-premises deployments which have a site-to-site connection (VPN tunnel) or Azure ExpressRoute connection between hello on-premises systems and Azure systems.</span></span>

### <a name="remote-access-toosap-systems"></a><span data-ttu-id="0551f-1038">Systèmes tooSAP d’accès à distance</span><span class="sxs-lookup"><span data-stu-id="0551f-1038">Remote Access tooSAP systems</span></span>
<span data-ttu-id="0551f-1039">Avec Azure Resource Manager modèle comporte des aucune valeur par défaut les points de terminaison plus hello ancien classique.</span><span class="sxs-lookup"><span data-stu-id="0551f-1039">With Azure Resource Manager there are no default endpoints anymore like in hello former classic model.</span></span> <span data-ttu-id="0551f-1040">Tous les ports d’une machine virtuelle ARM Azure sont ouverts tant que :</span><span class="sxs-lookup"><span data-stu-id="0551f-1040">All ports of an Azure ARM VM are open as long as:</span></span>

1. <span data-ttu-id="0551f-1041">Aucun groupe de sécurité réseau n’est défini pour le sous-réseau de hello ou l’interface de réseau hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1041">No Network Security Group is defined for hello subnet or hello network interface.</span></span> <span data-ttu-id="0551f-1042">TooAzure du trafic réseau machines virtuelles peut être sécurisé via dite « groupes de sécurité réseau ».</span><span class="sxs-lookup"><span data-stu-id="0551f-1042">Network traffic tooAzure VMs can be secured via so-called "Network Security Groups".</span></span> <span data-ttu-id="0551f-1043">Pour plus d’informations, consultez [Présentation du groupe de sécurité réseau][virtual-networks-nsg]</span><span class="sxs-lookup"><span data-stu-id="0551f-1043">For more information see [What is a Network Security Group (NSG)?][virtual-networks-nsg]</span></span>
2. <span data-ttu-id="0551f-1044">Aucun équilibrage de charge Azure n’est défini pour l’interface de réseau hello</span><span class="sxs-lookup"><span data-stu-id="0551f-1044">No Azure Load Balancer is defined for hello network interface</span></span>   

<span data-ttu-id="0551f-1045">Consultez hello architecture différence classique et ARM, comme décrit dans [cet article][virtual-machines-azure-resource-manager-architecture].</span><span class="sxs-lookup"><span data-stu-id="0551f-1045">See hello architecture difference between classic model and ARM as described in [this article][virtual-machines-azure-resource-manager-architecture].</span></span>

#### <a name="configuration-of-hello-sap-system-and-sap-gui-connectivity-for-cloud-only-scenario"></a><span data-ttu-id="0551f-1046">Configuration de hello connectivité système SAP et l’interface utilisateur graphique SAP pour le scénario de Cloud uniquement</span><span class="sxs-lookup"><span data-stu-id="0551f-1046">Configuration of hello SAP System and SAP GUI connectivity for Cloud-Only scenario</span></span>
<span data-ttu-id="0551f-1047">Consultez cet article décrit la rubrique de toothis détails : <http://blogs.msdn.com/b/saponsqlserver/archive/2014/06/24/sap-gui-connection-closed-when-connecting-to-sap-system-in-azure.aspx></span><span class="sxs-lookup"><span data-stu-id="0551f-1047">Please see this article which describes details toothis topic: <http://blogs.msdn.com/b/saponsqlserver/archive/2014/06/24/sap-gui-connection-closed-when-connecting-to-sap-system-in-azure.aspx></span></span>

#### <a name="changing-firewall-settings-within-vm"></a><span data-ttu-id="0551f-1048">Modification des paramètres de pare-feu au sein de la machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="0551f-1048">Changing Firewall Settings within VM</span></span>
<span data-ttu-id="0551f-1049">Il est possible de pare-feu de hello tooconfigure nécessaires sur vos ordinateurs virtuels de tooallow trafic tooyour SAP système en entrée.</span><span class="sxs-lookup"><span data-stu-id="0551f-1049">It might be necessary tooconfigure hello firewall on your virtual machines tooallow inbound traffic tooyour SAP system.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="0551f-1051">Windows</span><span class="sxs-lookup"><span data-stu-id="0551f-1051">Windows</span></span>
>
> <span data-ttu-id="0551f-1052">Par défaut, hello au sein d’une machine virtuelle déployée Azure le pare-feu Windows est activé.</span><span class="sxs-lookup"><span data-stu-id="0551f-1052">By default, hello Windows Firewall within an Azure deployed VM is turned on.</span></span> <span data-ttu-id="0551f-1053">Vous devez maintenant tooallow hello SAP Port toobe est ouvert, hello interface GUI SAP ne sera plus en mesure de tooconnect.</span><span class="sxs-lookup"><span data-stu-id="0551f-1053">You now need tooallow hello SAP Port toobe opened, otherwise hello SAP GUI will not be able tooconnect.</span></span>
> <span data-ttu-id="0551f-1054">toodo cela :</span><span class="sxs-lookup"><span data-stu-id="0551f-1054">toodo this:</span></span>
>
> * <span data-ttu-id="0551f-1055">Ouvrez le panneau de configuration\système et sécurité\Pare-feu too'Advanced paramètres.</span><span class="sxs-lookup"><span data-stu-id="0551f-1055">Open Control Panel\System and Security\Windows Firewall too‘Advanced Settings’.</span></span>
> * <span data-ttu-id="0551f-1056">Cliquez avec le bouton droit sur Règles de trafic entrant, puis cliquez sur Nouvelle règle.</span><span class="sxs-lookup"><span data-stu-id="0551f-1056">Now right-click on Inbound Rules and chose ‘New Rule’.</span></span>
> * <span data-ttu-id="0551f-1057">Bonjour Assistant suivant choisi toocreate une nouvelle règle « Port ».</span><span class="sxs-lookup"><span data-stu-id="0551f-1057">In hello following Wizard chose toocreate a new ‘Port’ rule.</span></span>
> * <span data-ttu-id="0551f-1058">Dans l’étape suivante de hello d’Assistant de hello, laissez paramètre hello TCP et tapez dans le numéro de port hello tooopen.</span><span class="sxs-lookup"><span data-stu-id="0551f-1058">In hello next step of hello wizard, leave hello setting at TCP and type in hello port number you want tooopen.</span></span> <span data-ttu-id="0551f-1059">Étant donné que notre ID d’instance SAP est 00, nous avons choisi 3200.</span><span class="sxs-lookup"><span data-stu-id="0551f-1059">Since our SAP instance ID is 00, we took 3200.</span></span> <span data-ttu-id="0551f-1060">Si votre instance possède un numéro différent, le port de hello vous avez défini précédemment en fonction du nombre d’instances hello doit être ouvert.</span><span class="sxs-lookup"><span data-stu-id="0551f-1060">If your instance has a different instance number, hello port you defined earlier based on hello instance number should be opened.</span></span>
> * <span data-ttu-id="0551f-1061">Dans la partie suivante de hello d’Assistant de hello, vous avez besoin d’un élément de hello tooleave « Autoriser la connexion ».</span><span class="sxs-lookup"><span data-stu-id="0551f-1061">In hello next part of hello wizard, you need tooleave hello item ‘Allow Connection’ checked.</span></span>
> * <span data-ttu-id="0551f-1062">Dans l’étape suivante de hello d’Assistant de hello, vous devez toodefine si la règle de hello s’applique pour le réseau de domaine, privés et publics.</span><span class="sxs-lookup"><span data-stu-id="0551f-1062">In hello next step of hello wizard you need toodefine whether hello rule applies for Domain, Private and Public network.</span></span> <span data-ttu-id="0551f-1063">Ajustez ces paramètres si nécessaire tooyour a besoin.</span><span class="sxs-lookup"><span data-stu-id="0551f-1063">Please adjust it if necessary tooyour needs.</span></span> <span data-ttu-id="0551f-1064">Toutefois, avec interface GUI SAP, reliant hello à l’extérieur via un réseau public hello, vous devez toohave hello règle appliquée toohello réseau public.</span><span class="sxs-lookup"><span data-stu-id="0551f-1064">However, connecting with SAP GUI from hello outside through hello public network, you need toohave hello rule applied toohello public network.</span></span>
> * <span data-ttu-id="0551f-1065">Dans hello dernière étape de l’Assistant de hello, nommez la règle de hello et en appuyant sur « Terminer »</span><span class="sxs-lookup"><span data-stu-id="0551f-1065">In hello last step of hello wizard, name hello rule and save by pressing ‘Finish’</span></span>
>
> <span data-ttu-id="0551f-1066">règle de Hello immédiatement en vigueur.</span><span class="sxs-lookup"><span data-stu-id="0551f-1066">hello rule becomes effective immediately.</span></span>
>
> ![Définition des règles de port][planning-guide-figure-1600]
>
> ![Linux][Logo_Linux] <span data-ttu-id="0551f-1069">Linux</span><span class="sxs-lookup"><span data-stu-id="0551f-1069">Linux</span></span>
>
> <span data-ttu-id="0551f-1070">images de Linux Hello Bonjour Azure Marketplace n’activent pas le pare-feu hello iptables par défaut et le système SAP de hello connexion tooyour doit fonctionner.</span><span class="sxs-lookup"><span data-stu-id="0551f-1070">hello Linux images in hello Azure Marketplace do not enable hello iptables firewall by default and hello connection tooyour SAP system should work.</span></span> <span data-ttu-id="0551f-1071">Si vous avez activé iptables ou un autre pare-feu, veuillez consultez la documentation du toohello d’iptables ou hello utilisé pare-feu tooallow trafic entrant du trafic tcp port 32xx (où xx est le numéro du système de votre système SAP hello).</span><span class="sxs-lookup"><span data-stu-id="0551f-1071">If you enabled iptables or another firewall, please refer toohello documentation of iptables or hello used firewall tooallow inbound tcp traffic too port 32xx (where xx is hello system number of your SAP system).</span></span>
>
>

- - -
#### <a name="security-recommendations"></a><span data-ttu-id="0551f-1072">Recommandations de sécurité</span><span class="sxs-lookup"><span data-stu-id="0551f-1072">Security recommendations</span></span>
<span data-ttu-id="0551f-1073">Hello interface GUI SAP ne connecte pas immédiatement tooany hello d’instances de SAP (port 32xx) qui sont en cours d’exécution, mais se connecte d’abord via hello port ouvert toohello SAP message processus serveur (port 36xx).</span><span class="sxs-lookup"><span data-stu-id="0551f-1073">hello SAP GUI does not connect immediately tooany of hello SAP instances (port 32xx) which are running, but first connects via hello port opened toohello SAP message server process (port 36xx).</span></span> <span data-ttu-id="0551f-1074">Bonjour au-delà de ce même port hello a été utilisé par le serveur de messages hello pour les instances d’application toohello hello communication interne.</span><span class="sxs-lookup"><span data-stu-id="0551f-1074">In hello past hello very same port was used by hello message server for hello internal communication toohello application instances.</span></span> <span data-ttu-id="0551f-1075">tooprevent local serveurs d’applications de communiquer par inadvertance avec un serveur message Bonjour Azure interne des ports de communication peuvent être modifiés.</span><span class="sxs-lookup"><span data-stu-id="0551f-1075">tooprevent on-premises application servers from inadvertently communicating with a message server in Azure hello internal communication ports can be changed.</span></span> <span data-ttu-id="0551f-1076">Il est recommandé de communication interne de hello toochange entre le serveur de messages SAP hello et son application instances tooa autre numéro de port sur les systèmes qui ont été clonés à partir de systèmes sur site, par exemple un clone de développement pour le projet de test etc. Cela est possible avec le paramètre de profil par défaut hello :</span><span class="sxs-lookup"><span data-stu-id="0551f-1076">It is highly recommended toochange hello internal communication between hello SAP message server and its application instances tooa different port number on systems that have been cloned from on-premises systems, such as a clone of development for project testing etc. This can be done with hello default profile parameter:</span></span>

> <span data-ttu-id="0551f-1077">rdisp/msserv_internal</span><span class="sxs-lookup"><span data-stu-id="0551f-1077">rdisp/msserv_internal</span></span>
>
>

<span data-ttu-id="0551f-1078">comme décrit dans [paramètres de sécurité pour hello serveur de messages SAP](https://help.sap.com/saphelp_nwpi71/helpdata/en/47/c56a6938fb2d65e10000000a42189c/content.htm)</span><span class="sxs-lookup"><span data-stu-id="0551f-1078">as documented in [Security Settings for hello SAP Message Server ](https://help.sap.com/saphelp_nwpi71/helpdata/en/47/c56a6938fb2d65e10000000a42189c/content.htm)</span></span>

## <span data-ttu-id="0551f-1079"><a name="96a77628-a05e-475d-9df3-fb82217e8f14"></a>Concepts de déploiement cloud uniquement d’instances SAP</span><span class="sxs-lookup"><span data-stu-id="0551f-1079"><a name="96a77628-a05e-475d-9df3-fb82217e8f14"></a>Concepts of Cloud-Only deployment of SAP instances</span></span>
### <span data-ttu-id="0551f-1080"><a name="3e9c3690-da67-421a-bc3f-12c520d99a30"></a>Machine virtuelle unique avec scénario de démonstration/formation SAP NetWeaver</span><span class="sxs-lookup"><span data-stu-id="0551f-1080"><a name="3e9c3690-da67-421a-bc3f-12c520d99a30"></a>Single VM with SAP NetWeaver demo/training scenario</span></span>
![Qui exécutent des systèmes de démonstration SAP de la machine virtuelle uniques avec hello mêmes noms de machine virtuelle, isolé dans Azure Cloud Services][planning-guide-figure-1700]

<span data-ttu-id="0551f-1082">Dans ce scénario (consultez le chapitre [uniquement dans le Cloud] [ planning-guide-2.1] de ce document), nous implémentons un scénario de système de formation/démonstration classique où le scénario de formation/démonstration complète hello est contenu dans une seule machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-1082">In this scenario (see chapter [Cloud-Only][planning-guide-2.1] of this document) we are implementing a typical training/demo system scenario where hello complete training/demo scenario is contained in a single VM.</span></span> <span data-ttu-id="0551f-1083">Nous partons du principe que le déploiement de hello est effectuée via les modèles d’image de machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-1083">We assume that hello deployment is done through VM image templates.</span></span> <span data-ttu-id="0551f-1084">Nous supposons également que plusieurs de ces toobe de besoin de machines virtuelles de démonstration/formations déployé avec hello machines virtuelles ayant hello même nom.</span><span class="sxs-lookup"><span data-stu-id="0551f-1084">We also assume that multiple of these demo/trainings VMs need toobe deployed with hello VMs having hello same name.</span></span>

<span data-ttu-id="0551f-1085">hypothèse de Hello est que vous avez créé une Image de machine virtuelle comme décrit dans les sections du chapitre [préparation de machines virtuelles avec SAP pour Azure] [ planning-guide-5.2] dans ce document.</span><span class="sxs-lookup"><span data-stu-id="0551f-1085">hello assumption is that you created a VM Image as described in some sections of chapter [Preparing VMs with SAP for Azure][planning-guide-5.2] in this document.</span></span>

<span data-ttu-id="0551f-1086">séquence Hello du scénario de hello tooimplement événements ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="0551f-1086">hello sequence of events tooimplement hello scenario looks like this:</span></span>

##### <a name="powershell"></a><span data-ttu-id="0551f-1087">PowerShell</span><span class="sxs-lookup"><span data-stu-id="0551f-1087">Powershell</span></span>
* <span data-ttu-id="0551f-1088">Création d’un groupe de ressources pour chaque paysage de formation et de démonstration</span><span class="sxs-lookup"><span data-stu-id="0551f-1088">Create a new resource group for every training/demo landscape</span></span>

```powershell
$rgName = "SAPERPDemo1"
New-AzureRmResourceGroup -Name $rgName -Location "North Europe"
```
* <span data-ttu-id="0551f-1089">Créer un nouveau compte de stockage si vous ne souhaitez pas toouse des disques gérés</span><span class="sxs-lookup"><span data-stu-id="0551f-1089">Create a new storage account if you don't want toouse Managed Disks</span></span>

```powershell
$suffix = Get-Random -Minimum 100000 -Maximum 999999
$account = New-AzureRmStorageAccount -ResourceGroupName $rgName -Name "saperpdemo$suffix" -SkuName Standard_LRS -Kind "Storage" -Location "North Europe"
```

* <span data-ttu-id="0551f-1090">Créez un réseau virtuel pour chaque utilisation hello de formation/démonstration paysage tooenable Hello même nom d’hôte et les adresses IP.</span><span class="sxs-lookup"><span data-stu-id="0551f-1090">Create a new virtual network for every training/demo landscape tooenable hello usage of hello same hostname and IP addresses.</span></span> <span data-ttu-id="0551f-1091">réseau virtuel de Hello est protégé par un groupe de sécurité réseau qui autorise uniquement l’accès Bureau à distance de trafic tooport 3389 tooenable et le port 22 pour SSH.</span><span class="sxs-lookup"><span data-stu-id="0551f-1091">hello virtual network is protected by a Network Security Group that only allows traffic tooport 3389 tooenable Remote Desktop access and port 22 for SSH.</span></span>

```powershell
# Create a new Virtual Network
$rdpRule = New-AzureRmNetworkSecurityRuleConfig -Name SAPERPDemoNSGRDP -Protocol * -SourcePortRange * -DestinationPortRange 3389 -Access Allow -Direction Inbound -SourceAddressPrefix * -DestinationAddressPrefix * -Priority 100
$sshRule = New-AzureRmNetworkSecurityRuleConfig -Name SAPERPDemoNSGSSH -Protocol * -SourcePortRange * -DestinationPortRange 22 -Access Allow -Direction Inbound -SourceAddressPrefix * -DestinationAddressPrefix * -Priority 101
$nsg = New-AzureRmNetworkSecurityGroup -Name SAPERPDemoNSG -ResourceGroupName $rgName -Location  "North Europe" -SecurityRules $rdpRule,$sshRule

$subnetConfig = New-AzureRmVirtualNetworkSubnetConfig -Name Subnet1 -AddressPrefix  10.0.1.0/24 -NetworkSecurityGroup $nsg
$vnet = New-AzureRmVirtualNetwork -Name SAPERPDemoVNet -ResourceGroupName $rgName -Location "North Europe"  -AddressPrefix 10.0.1.0/24 -Subnet $subnetConfig
```

* <span data-ttu-id="0551f-1092">Créer une nouvelle adresse IP publique qui peut être l’ordinateur virtuel utilisé tooaccess hello hello internet</span><span class="sxs-lookup"><span data-stu-id="0551f-1092">Create a new public IP address that can be used tooaccess hello virtual machine from hello internet</span></span>

```powershell
# Create a public IP address with a DNS name
$pip = New-AzureRmPublicIpAddress -Name SAPERPDemoPIP -ResourceGroupName $rgName -Location "North Europe" -DomainNameLabel $rgName.ToLower() -AllocationMethod Dynamic
```

* <span data-ttu-id="0551f-1093">Créer une nouvelle interface réseau pour l’ordinateur virtuel de hello</span><span class="sxs-lookup"><span data-stu-id="0551f-1093">Create a new network interface for hello virtual machine</span></span>

```powershell
# Create a new Network Interface
$nic = New-AzureRmNetworkInterface -Name SAPERPDemoNIC -ResourceGroupName $rgName -Location "North Europe" -Subnet $vnet.Subnets[0] -PublicIpAddress $pip
```

* <span data-ttu-id="0551f-1094">Création d’une machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="0551f-1094">Create a virtual machine.</span></span> <span data-ttu-id="0551f-1095">Pour le scénario de Cloud uniquement hello chaque machine virtuelle aura hello même nom.</span><span class="sxs-lookup"><span data-stu-id="0551f-1095">For hello Cloud-Only scenario every VM will have hello same name.</span></span> <span data-ttu-id="0551f-1096">Hello SID SAP Hello SAP NetWeaver instances dans ces machines virtuelles seront identiques hello également.</span><span class="sxs-lookup"><span data-stu-id="0551f-1096">hello SAP SID of hello SAP NetWeaver instances in those VMs will be hello same as well.</span></span> <span data-ttu-id="0551f-1097">Au sein de hello le groupe de ressources Azure, nom hello Hello machine virtuelle doit toobe unique, mais dans différents groupes de ressources Azure vous pouvez exécuter des machines virtuelles avec hello même nom.</span><span class="sxs-lookup"><span data-stu-id="0551f-1097">Within hello Azure Resource Group, hello name of hello VM needs toobe unique, but in different Azure Resource Groups you can run VMs with hello same name.</span></span> <span data-ttu-id="0551f-1098">Hello compte « Administrateur » de valeur par défaut de Windows, ou « root » pour Linux n’est pas valide.</span><span class="sxs-lookup"><span data-stu-id="0551f-1098">hello default 'Administrator' account of Windows or 'root' for Linux are not valid.</span></span> <span data-ttu-id="0551f-1099">Par conséquent, un nouveau nom d’utilisateur administrateur doit toobe défini, ainsi qu’un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="0551f-1099">Therefore, a new administrator user name needs toobe defined together with a password.</span></span> <span data-ttu-id="0551f-1100">taille de Hello Hello machine virtuelle doit également toobe défini.</span><span class="sxs-lookup"><span data-stu-id="0551f-1100">hello size of hello VM also needs toobe defined.</span></span>

```powershell
#####
# Create a new virtual machine with an official image from hello Azure Marketplace
#####
$cred=Get-Credential -Message "Type hello name and password of hello local administrator account."
$vmconfig = New-AzureRmVMConfig -VMName SAPERPDemo -VMSize Standard_D11

# select image
$vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -PublisherName "MicrosoftWindowsServer" -Offer "WindowsServer" -Skus "2012-R2-Datacenter" -Version "latest"
$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Windows -ComputerName "SAPERPDemo" -Credential $cred -ProvisionVMAgent -EnableAutoUpdate
# $vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -PublisherName "SUSE" -Offer "SLES-SAP" -Skus "12-SP1" -Version "latest"
# $vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -PublisherName "RedHat" -Offer "RHEL" -Skus "7.2" -Version "latest"
# $vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -PublisherName "Oracle" -Offer "Oracle-Linux" -Skus "7.2" -Version "latest"
# $vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Linux -ComputerName "SAPERPDemo" -Credential $cred

$vmconfig = Add-AzureRmVMNetworkInterface -VM $vmconfig -Id $nic.Id

$vmconfig = Set-AzureRmVMBootDiagnostics -Disable -VM $vmconfig
$vm = New-AzureRmVM -ResourceGroupName $rgName -Location "North Europe" -VM $vmconfig
```

```powershell
#####
# Create a new virtual machine with a VHD that contains hello private image that you want toouse
#####
$cred=Get-Credential -Message "Type hello name and password of hello local administrator account."
$vmconfig = New-AzureRmVMConfig -VMName SAPERPDemo -VMSize Standard_D11

$vmconfig = Add-AzureRmVMNetworkInterface -VM $vmconfig -Id $nic.Id

$diskName="osfromimage"
$osDiskUri=$account.PrimaryEndpoints.Blob.ToString() + "vhds/" + $diskName  + ".vhd"

$vmconfig = Set-AzureRmVMOSDisk -VM $vmconfig -Name $diskName -VhdUri $osDiskUri -CreateOption fromImage -SourceImageUri <path tooVHD that contains hello OS image> -Windows
$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Windows -ComputerName "SAPERPDemo" -Credential $cred
#$vmconfig = Set-AzureRmVMOSDisk -VM $vmconfig -Name $diskName -VhdUri $osDiskUri -CreateOption fromImage -SourceImageUri <path tooVHD that contains hello OS image> -Linux
#$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Linux -ComputerName "SAPERPDemo" -Credential $cred

$vmconfig = Set-AzureRmVMBootDiagnostics -Disable -VM $vmconfig
$vm = New-AzureRmVM -ResourceGroupName $rgName -Location "North Europe" -VM $vmconfig
```

```powershell
#####
# Create a new virtual machine with a Managed Disk Image
#####
$cred=Get-Credential -Message "Type hello name and password of hello local administrator account."
$vmconfig = New-AzureRmVMConfig -VMName SAPERPDemo -VMSize Standard_D11

$vmconfig = Add-AzureRmVMNetworkInterface -VM $vmconfig -Id $nic.Id

$vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -Id <Id of Managed Disk Image>
$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Windows -ComputerName "SAPERPDemo" -Credential $cred
#$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Linux -ComputerName "SAPERPDemo" -Credential $cred

$vmconfig = Set-AzureRmVMBootDiagnostics -Disable -VM $vmconfig
$vm = New-AzureRmVM -ResourceGroupName $rgName -Location "North Europe" -VM $vmconfig
```

* <span data-ttu-id="0551f-1101">Si vous le souhaitez, ajoutez des disques supplémentaires et restaurez le contenu nécessaire.</span><span class="sxs-lookup"><span data-stu-id="0551f-1101">Optionally add additional disks and restore necessary content.</span></span> <span data-ttu-id="0551f-1102">N’oubliez pas que tous les noms d’objets blob (BLOB toohello de l’URL) doivent être uniques dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1102">Be aware that all blob names (URLs toohello blobs) must be unique within Azure.</span></span>

```powershell
# Optional: Attach additional VHD data disks
$vm = Get-AzureRmVM -ResourceGroupName $rgName -Name SAPERPDemo
$dataDiskUri = $account.PrimaryEndpoints.Blob.ToString() + "vhds/datadisk.vhd"
Add-AzureRmVMDataDisk -VM $vm -Name datadisk -VhdUri $dataDiskUri -DiskSizeInGB 1023 -CreateOption empty | Update-AzureRmVM

# Optional: Attach additional Managed Disks
$vm = Get-AzureRmVM -ResourceGroupName $rgName -Name SAPERPDemo
Add-AzureRmVMDataDisk -VM $vm -Name datadisk -DiskSizeInGB 1023 -CreateOption empty -Lun 0 | Update-AzureRmVM
```

##### <a name="cli"></a><span data-ttu-id="0551f-1103">Interface de ligne de commande</span><span class="sxs-lookup"><span data-stu-id="0551f-1103">CLI</span></span>
<span data-ttu-id="0551f-1104">Hello suivant l’exemple de code peut être utilisé sur Linux.</span><span class="sxs-lookup"><span data-stu-id="0551f-1104">hello following example code can be used on Linux.</span></span> <span data-ttu-id="0551f-1105">Pour Windows, soit utilisez PowerShell comme décrit ci-dessus ou adapter hello exemple toouse % rgName % au lieu de $rgName et définir la variable d’environnement hello à l’aide de la commande de Windows hello *définir*.</span><span class="sxs-lookup"><span data-stu-id="0551f-1105">For Windows, please either use PowerShell as described above or adapt hello example toouse %rgName% instead of $rgName and set hello environment variable using hello Windows command *set*.</span></span>

* <span data-ttu-id="0551f-1106">Création d’un groupe de ressources pour chaque paysage de formation et de démonstration</span><span class="sxs-lookup"><span data-stu-id="0551f-1106">Create a new resource group for every training/demo landscape</span></span>

```
rgName=SAPERPDemo1
rgNameLower=saperpdemo1
az group create --name $rgName --location "North Europe"
```

* <span data-ttu-id="0551f-1107">Création d’un nouveau compte de stockage</span><span class="sxs-lookup"><span data-stu-id="0551f-1107">Create a new storage account</span></span>

```
az storage account create --resource-group $rgName --location "North Europe" --kind Storage --sku Standard_LRS --name $rgNameLower
```

* <span data-ttu-id="0551f-1108">Créez un réseau virtuel pour chaque utilisation hello de formation/démonstration paysage tooenable Hello même nom d’hôte et les adresses IP.</span><span class="sxs-lookup"><span data-stu-id="0551f-1108">Create a new virtual network for every training/demo landscape tooenable hello usage of hello same hostname and IP addresses.</span></span> <span data-ttu-id="0551f-1109">réseau virtuel de Hello est protégé par un groupe de sécurité réseau qui autorise uniquement l’accès Bureau à distance de trafic tooport 3389 tooenable et le port 22 pour SSH.</span><span class="sxs-lookup"><span data-stu-id="0551f-1109">hello virtual network is protected by a Network Security Group that only allows traffic tooport 3389 tooenable Remote Desktop access and port 22 for SSH.</span></span>

```
az network nsg create --resource-group $rgName --location "North Europe" --name SAPERPDemoNSG
az network nsg rule create --resource-group $rgName --nsg-name SAPERPDemoNSG --name SAPERPDemoNSGRDP --protocol \* --source-address-prefix \* --source-port-range \* --destination-address-prefix \* --destination-port-range 3389 --access Allow --priority 100 --direction Inbound
az network nsg rule create --resource-group $rgName --nsg-name SAPERPDemoNSG --name SAPERPDemoNSGSSH --protocol \* --source-address-prefix \* --source-port-range \* --destination-address-prefix \* --destination-port-range 22 --access Allow --priority 101 --direction Inbound

az network vnet create --resource-group $rgName --name SAPERPDemoVNet --location "North Europe" --address-prefixes 10.0.1.0/24
az network vnet subnet create --resource-group $rgName --vnet-name SAPERPDemoVNet --name Subnet1 --address-prefix 10.0.1.0/24 --network-security-group SAPERPDemoNSG
```

* <span data-ttu-id="0551f-1110">Créer une nouvelle adresse IP publique qui peut être l’ordinateur virtuel utilisé tooaccess hello hello internet</span><span class="sxs-lookup"><span data-stu-id="0551f-1110">Create a new public IP address that can be used tooaccess hello virtual machine from hello internet</span></span>

```
az network public-ip create --resource-group $rgName --name SAPERPDemoPIP --location "North Europe" --dns-name $rgNameLower --allocation-method Dynamic
```

* <span data-ttu-id="0551f-1111">Créer une nouvelle interface réseau pour l’ordinateur virtuel de hello</span><span class="sxs-lookup"><span data-stu-id="0551f-1111">Create a new network interface for hello virtual machine</span></span>

```
az network nic create --resource-group $rgName --location "North Europe" --name SAPERPDemoNIC --public-ip-address SAPERPDemoPIP --subnet Subnet1 --vnet-name SAPERPDemoVNet
```

* <span data-ttu-id="0551f-1112">Création d’une machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="0551f-1112">Create a virtual machine.</span></span> <span data-ttu-id="0551f-1113">Pour le scénario de Cloud uniquement hello chaque machine virtuelle aura hello même nom.</span><span class="sxs-lookup"><span data-stu-id="0551f-1113">For hello Cloud-Only scenario every VM will have hello same name.</span></span> <span data-ttu-id="0551f-1114">Hello SID SAP Hello SAP NetWeaver instances dans ces machines virtuelles seront identiques hello également.</span><span class="sxs-lookup"><span data-stu-id="0551f-1114">hello SAP SID of hello SAP NetWeaver instances in those VMs will be hello same as well.</span></span> <span data-ttu-id="0551f-1115">Au sein de hello le groupe de ressources Azure, nom hello Hello machine virtuelle doit toobe unique, mais dans différents groupes de ressources Azure vous pouvez exécuter des machines virtuelles avec hello même nom.</span><span class="sxs-lookup"><span data-stu-id="0551f-1115">Within hello Azure Resource Group, hello name of hello VM needs toobe unique, but in different Azure Resource Groups you can run VMs with hello same name.</span></span> <span data-ttu-id="0551f-1116">Hello compte « Administrateur » de valeur par défaut de Windows, ou « root » pour Linux n’est pas valide.</span><span class="sxs-lookup"><span data-stu-id="0551f-1116">hello default 'Administrator' account of Windows or 'root' for Linux are not valid.</span></span> <span data-ttu-id="0551f-1117">Par conséquent, un nouveau nom d’utilisateur administrateur doit toobe défini, ainsi qu’un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="0551f-1117">Therefore, a new administrator user name needs toobe defined together with a password.</span></span> <span data-ttu-id="0551f-1118">taille de Hello Hello machine virtuelle doit également toobe défini.</span><span class="sxs-lookup"><span data-stu-id="0551f-1118">hello size of hello VM also needs toobe defined.</span></span>

```
#####
# Create virtual machines using storage accounts
#####
az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image MicrosoftWindowsServer:WindowsServer:2012-R2-Datacenter:latest --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image SUSE:SLES-SAP:12-SP1:latest --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --authentication-type password
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image RedHat:RHEL:7.2:latest --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --authentication-type password
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image "Oracle:Oracle-Linux:7.2:latest" --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --authentication-type password

#####
# Create virtual machines using Managed Disks
#####
az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image MicrosoftWindowsServer:WindowsServer:2012-R2-Datacenter:latest --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image SUSE:SLES-SAP:12-SP1:latest --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --authentication-type password
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image RedHat:RHEL:7.2:latest --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --authentication-type password
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image "Oracle:Oracle-Linux:7.2:latest" --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --authentication-type password
```

```
#####
# Create a new virtual machine with a VHD that contains hello private image that you want toouse
#####
az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --os-type Windows --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --image <path tooimage vhd>
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --os-type Linux --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --image <path tooimage vhd> --authentication-type password

#####
# Create a new virtual machine with a Managed Disk Image
#####
az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --image <managed disk image id>
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --image <managed disk image id> --authentication-type password
```

* <span data-ttu-id="0551f-1119">Si vous le souhaitez, ajoutez des disques supplémentaires et restaurez le contenu nécessaire.</span><span class="sxs-lookup"><span data-stu-id="0551f-1119">Optionally add additional disks and restore necessary content.</span></span> <span data-ttu-id="0551f-1120">N’oubliez pas que tous les noms d’objets blob (BLOB toohello de l’URL) doivent être uniques dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1120">Be aware that all blob names (URLs toohello blobs) must be unique within Azure.</span></span>

```
# Optional: Attach additional VHD data disks
az vm unmanaged-disk attach --resource-group $rgName --vm-name SAPERPDemo --size-gb 1023 --vhd-uri https://$rgNameLower.blob.core.windows.net/vhds/data.vhd  --new

# Optional: Attach additional Managed Disks
az vm disk attach --resource-group $rgName --vm-name SAPERPDemo --size-gb 1023 --disk datadisk --new
```

##### <a name="template"></a><span data-ttu-id="0551f-1121">Modèle</span><span class="sxs-lookup"><span data-stu-id="0551f-1121">Template</span></span>
<span data-ttu-id="0551f-1122">Vous pouvez utiliser les exemples de modèles hello sur le référentiel d’azure-démarrage rapide-modèles hello sur github.</span><span class="sxs-lookup"><span data-stu-id="0551f-1122">You can use hello sample templates on hello azure-quickstart-templates repository on github.</span></span>

* [<span data-ttu-id="0551f-1123">Machine virtuelle Linux simple</span><span class="sxs-lookup"><span data-stu-id="0551f-1123">Simple Linux VM</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-simple-linux)
* [<span data-ttu-id="0551f-1124">Machine virtuelle Windows simple</span><span class="sxs-lookup"><span data-stu-id="0551f-1124">Simple Windows VM</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-simple-windows)
* [<span data-ttu-id="0551f-1125">Machine virtuelle à partir d’une image</span><span class="sxs-lookup"><span data-stu-id="0551f-1125">VM from image</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-from-user-image)

### <a name="implement-a-set-of-vms-which-need-toocommunicate-within-azure"></a><span data-ttu-id="0551f-1126">Implémentation d’un ensemble de machines virtuelles qui doivent toocommunicate dans Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-1126">Implement a set of VMs which need toocommunicate within Azure</span></span>
<span data-ttu-id="0551f-1127">Ce scénario uniquement dans le Cloud est un scénario classique pour les besoins de formation et de démonstration où hello logiciel représentant hello scénario de démonstration/formation est réparti sur plusieurs machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="0551f-1127">This Cloud-Only scenario is a typical scenario for training and demo purposes where hello software representing hello demo/training scenario is spread over multiple VMs.</span></span> <span data-ttu-id="0551f-1128">Hello différents composants installés dans hello différentes machines virtuelles besoin toocommunicate entre eux.</span><span class="sxs-lookup"><span data-stu-id="0551f-1128">hello different components installed in hello different VMs need toocommunicate with each other.</span></span> <span data-ttu-id="0551f-1129">Dans ce scénario, aucune communication réseau locale ou scénario entre sites locaux n’est nécessaire.</span><span class="sxs-lookup"><span data-stu-id="0551f-1129">Again, in this scenario no on-premises network communication or cross-premises scenario is needed.</span></span>

<span data-ttu-id="0551f-1130">Ce scénario est une extension de l’installation de hello décrite au chapitre [machines virtuelles avec SAP NetWeaver scénario de démonstration/formation] [ planning-guide-7.1] de ce document.</span><span class="sxs-lookup"><span data-stu-id="0551f-1130">This scenario is an extension of hello installation described in chapter [Single VM with SAP NetWeaver demo/training scenario][planning-guide-7.1] of this document.</span></span> <span data-ttu-id="0551f-1131">Dans ce cas d’autres machines virtuelles figurera tooan groupe de ressources existant.</span><span class="sxs-lookup"><span data-stu-id="0551f-1131">In this case more virtual machines will be added tooan existing resource group.</span></span> <span data-ttu-id="0551f-1132">Bonjour paysage de formation suivant exemple hello se compose d’un virtuelle ASCS/SCS SAP, une machine virtuelle exécutant un SGBD et une instance de serveur d’applications SAP machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-1132">In hello following example hello training landscape consists of an SAP ASCS/SCS VM, a VM running a DBMS and an SAP Application Server instance VM.</span></span>

<span data-ttu-id="0551f-1133">Avant de créer ce scénario, vous devez toothink sur les paramètres de base déjà testés dans un scénario de hello avant.</span><span class="sxs-lookup"><span data-stu-id="0551f-1133">Before you build this scenario you need toothink about basic settings as already exercised in hello scenario before.</span></span>

#### <a name="resource-group-and-virtual-machine-naming"></a><span data-ttu-id="0551f-1134">Dénomination des groupes de ressources et des machines virtuelles</span><span class="sxs-lookup"><span data-stu-id="0551f-1134">Resource Group and Virtual Machine naming</span></span>
<span data-ttu-id="0551f-1135">Tous les noms de groupe de ressources doivent être uniques.</span><span class="sxs-lookup"><span data-stu-id="0551f-1135">All resource group names must be unique.</span></span> <span data-ttu-id="0551f-1136">Développez votre propre schéma de dénomination de vos ressources, tel que `<rg-name`>-suffixe.</span><span class="sxs-lookup"><span data-stu-id="0551f-1136">Develop your own naming scheme of your resources, such as `<rg-name`>-suffix.</span></span>

<span data-ttu-id="0551f-1137">nom d’ordinateur virtuel Hello a toobe unique au sein du groupe de ressources hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1137">hello virtual machine name has toobe unique within hello resource group.</span></span>

#### <a name="set-up-network-for-communication-between-hello-different-vms"></a><span data-ttu-id="0551f-1138">La configuration du réseau pour la communication entre les différentes machines virtuelles de hello</span><span class="sxs-lookup"><span data-stu-id="0551f-1138">Set up Network for communication between hello different VMs</span></span>
![Ensemble de machines virtuelles au sein d’un réseau virtuel Azure][planning-guide-figure-1900]

<span data-ttu-id="0551f-1140">tooprevent d’affectation de noms collisions avec les clones de hello même paysages de formations/démonstration, vous devez toocreate un réseau virtuel Azure pour chaque paysage.</span><span class="sxs-lookup"><span data-stu-id="0551f-1140">tooprevent naming collisions with clones of hello same training/demo landscapes, you need toocreate an Azure Virtual Network for every landscape.</span></span> <span data-ttu-id="0551f-1141">Résolution de noms DNS est assurée par Azure, ou vous pouvez configurer votre propre serveur DNS en dehors d’Azure (pas toobe expliquée ici).</span><span class="sxs-lookup"><span data-stu-id="0551f-1141">DNS name resolution will be provided by Azure or you can configure your own DNS server outside Azure (not toobe further discussed here).</span></span> <span data-ttu-id="0551f-1142">Dans ce scénario, nous ne configurons pas nos propres serveurs DNS.</span><span class="sxs-lookup"><span data-stu-id="0551f-1142">In this scenario we do not configure our own DNS.</span></span> <span data-ttu-id="0551f-1143">La communication via les noms d’hôte sera activée pour toutes les machines virtuelles du réseau virtuel Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1143">For all virtual machines inside one Azure Virtual Network, communication via hostnames will be enabled.</span></span>

<span data-ttu-id="0551f-1144">Hello raisons paysages de formations ou de démonstration tooseparate par les réseaux virtuels et non seulement les ressources de groupes peut être :</span><span class="sxs-lookup"><span data-stu-id="0551f-1144">hello reasons tooseparate training or demo landscapes by virtual networks and not only resource groups could be:</span></span>

* <span data-ttu-id="0551f-1145">Hello SAP paysage en tant qu’ensemble les besoins de son propre AD/OpenLDAP et une partie de toobe des besoins de serveur de domaine de chacun des paysages de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1145">hello SAP landscape as set up needs its own AD/OpenLDAP and a Domain Server needs toobe part of each of hello landscapes.</span></span>  
* <span data-ttu-id="0551f-1146">Bonjour paysage SAP comme configuration comprend les composants que toowork besoin des adresses IP fixes.</span><span class="sxs-lookup"><span data-stu-id="0551f-1146">hello SAP landscape as set up has components that need toowork with fixed IP addresses.</span></span>

<span data-ttu-id="0551f-1147">Plus de détails sur les réseaux virtuels Azure et comment toodefine les trouverez dans [cet article][virtual-networks-create-vnet-arm-pportal].</span><span class="sxs-lookup"><span data-stu-id="0551f-1147">More details about Azure Virtual Networks and how toodefine them can be found in [this article][virtual-networks-create-vnet-arm-pportal].</span></span>

## <a name="deploying-sap-vms-with-corporate-network-connectivity-cross-premises"></a><span data-ttu-id="0551f-1148">Déployer des machines virtuelles SAP avec une connectivité réseau d’entreprise (intersite)</span><span class="sxs-lookup"><span data-stu-id="0551f-1148">Deploying SAP VMs with Corporate Network Connectivity (Cross-Premises)</span></span>
<span data-ttu-id="0551f-1149">Vous un paysage SAP et que vous souhaitez que le déploiement de hello toodivide entre complète pour les serveurs haut de gamme SGBD, les environnements virtualisées locales pour les couches application et de couche 2 plus petit configuré Azure IaaS et les systèmes SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-1149">You run an SAP landscape and want toodivide hello deployment between bare-metal for high-end DBMS servers, on-premises virtualized environments for application layers and smaller 2-Tier configured SAP systems and Azure IaaS.</span></span> <span data-ttu-id="0551f-1150">principe Hello est que les systèmes SAP dans un paysage SAP toocommunicate entre eux et avec de nombreux autres composants logiciels déployés dans l’entreprise hello, indépendamment de leur forme de déploiement.</span><span class="sxs-lookup"><span data-stu-id="0551f-1150">hello base assumption is that SAP systems within one SAP landscape need toocommunicate with each other and with many other software components deployed in hello company, independent of their deployment form.</span></span> <span data-ttu-id="0551f-1151">Il ne doit avoir également aucune différence introduits par formulaire de déploiement hello pour se connecter avec l’interface utilisateur graphique SAP ou d’autres interfaces d’utilisateur final hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1151">There also should be no differences introduced by hello deployment form for hello end user connecting with SAP GUI or other interfaces.</span></span> <span data-ttu-id="0551f-1152">Ces conditions peuvent uniquement être remplies lorsque nous avons hello locaux Active Directory/OpenLDAP et les services DNS étendus toohello systèmes Azure via la connectivité de site-à-site/plusieurs sites ou des connexions privées comme Azure ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="0551f-1152">These conditions can only be met when we have hello on-premises Active Directory/OpenLDAP and DNS services extended toohello Azure systems through site-to-site/multi-site connectivity or private connections like Azure ExpressRoute.</span></span>

<span data-ttu-id="0551f-1153">Dans l’ordre tooget de plus en arrière-plan sur les détails d’implémentation hello de SAP sur Azure, nous vous conseillons de tooread chapitre [déploiement Concepts de cloud uniquement des instances SAP] [ planning-guide-7] de ce document qui explique certains des concepts de base hello construit d’Azure et comment il doivent être utilisés avec les applications SAP dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1153">In order tooget more background on hello implementation details of SAP on Azure, we encourage you tooread chapter [Concepts of Cloud-Only deployment of SAP instances][planning-guide-7] of this document which explains some of hello basics constructs of Azure and how these should be used with SAP applications in Azure.</span></span>

### <a name="scenario-of-an-sap-landscape"></a><span data-ttu-id="0551f-1154">Scénario d’un paysage SAP</span><span class="sxs-lookup"><span data-stu-id="0551f-1154">Scenario of an SAP landscape</span></span>
<span data-ttu-id="0551f-1155">Hello scénario intersite peut être à peu près décrite comme dans les graphiques hello ci-après :</span><span class="sxs-lookup"><span data-stu-id="0551f-1155">hello cross-premises scenario can be roughly described like in hello graphics below:</span></span>

![Connectivité de site à site entre des ressources locales et Azure][planning-guide-figure-2100]

<span data-ttu-id="0551f-1157">scénario Hello ci-dessus décrit un scénario où hello local AD/OpenLDAP et DNS sont étendu tooAzure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1157">hello scenario shown above describes a scenario where hello on-premises AD/OpenLDAP and DNS are extended tooAzure.</span></span> <span data-ttu-id="0551f-1158">Côté hello locale, une certaine plage d’adresses IP est réservée par abonnement Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1158">On hello on-premises side, a certain IP address range is reserved per Azure subscription.</span></span> <span data-ttu-id="0551f-1159">plage d’adresses IP Hello sera attribué tooan réseau virtuel Azure sur hello côté Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1159">hello IP address range will be assigned tooan Azure Virtual Network on hello Azure side.</span></span>

#### <a name="security-considerations"></a><span data-ttu-id="0551f-1160">Considérations relatives à la sécurité</span><span class="sxs-lookup"><span data-stu-id="0551f-1160">Security considerations</span></span>
<span data-ttu-id="0551f-1161">Hello configuration minimale requise est hello utilisation de protocoles de communication sécurisée comme SSL/TLS pour l’accès du navigateur ou les connexions VPN pour le système d’accès toohello Azure services.</span><span class="sxs-lookup"><span data-stu-id="0551f-1161">hello minimum requirement is hello use of secure communication protocols such as SSL/TLS for browser access or VPN-based connections for system access toohello Azure services.</span></span> <span data-ttu-id="0551f-1162">hypothèse de Hello est que sociétés gérer un réseau VPN hello entre Azure et de leur réseau d’entreprise très différemment.</span><span class="sxs-lookup"><span data-stu-id="0551f-1162">hello assumption is that companies handle hello VPN connection between their corporate network and Azure very differently.</span></span> <span data-ttu-id="0551f-1163">Certaines entreprises ouvriront indifféremment tous les ports hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1163">Some companies might blankly open all hello ports.</span></span> <span data-ttu-id="0551f-1164">Certains autres choisiront toobe très précise les ports dont ils ont besoin tooopen, etc..</span><span class="sxs-lookup"><span data-stu-id="0551f-1164">Some other companies might want toobe very precise in which ports they need tooopen, etc.</span></span>

<span data-ttu-id="0551f-1165">Dans la table hello ci-dessous SAP classiques, les ports de communication sont répertoriés.</span><span class="sxs-lookup"><span data-stu-id="0551f-1165">In hello table below typical SAP communication ports are listed.</span></span> <span data-ttu-id="0551f-1166">En fait, il est suffisant tooopen hello port de passerelle SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-1166">Basically it is sufficient tooopen hello SAP gateway port.</span></span>

| <span data-ttu-id="0551f-1167">Service</span><span class="sxs-lookup"><span data-stu-id="0551f-1167">Service</span></span> | <span data-ttu-id="0551f-1168">Nom du port</span><span class="sxs-lookup"><span data-stu-id="0551f-1168">Port Name</span></span> | <span data-ttu-id="0551f-1169">Exemple `<nn`> = 01</span><span class="sxs-lookup"><span data-stu-id="0551f-1169">Example `<nn`> = 01</span></span> | <span data-ttu-id="0551f-1170">Plage par défaut (min-max.)</span><span class="sxs-lookup"><span data-stu-id="0551f-1170">Default Range (min-max)</span></span> | <span data-ttu-id="0551f-1171">Commentaire</span><span class="sxs-lookup"><span data-stu-id="0551f-1171">Comment</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="0551f-1172">Répartiteur</span><span class="sxs-lookup"><span data-stu-id="0551f-1172">Dispatcher</span></span> |<span data-ttu-id="0551f-1173">sapdp`<nn>` voir *</span><span class="sxs-lookup"><span data-stu-id="0551f-1173">sapdp`<nn>` see *</span></span> |<span data-ttu-id="0551f-1174">3201</span><span class="sxs-lookup"><span data-stu-id="0551f-1174">3201</span></span> |<span data-ttu-id="0551f-1175">3200 – 3299</span><span class="sxs-lookup"><span data-stu-id="0551f-1175">3200 – 3299</span></span> |<span data-ttu-id="0551f-1176">Répartiteur SAP, utilisé par l’interface utilisateur graphique SAP pour Windows et Java</span><span class="sxs-lookup"><span data-stu-id="0551f-1176">SAP Dispatcher, used by SAP GUI for Windows and Java</span></span> |
| <span data-ttu-id="0551f-1177">Serveur de messagerie</span><span class="sxs-lookup"><span data-stu-id="0551f-1177">Message server</span></span> |<span data-ttu-id="0551f-1178">sapms`<sid`> voir **</span><span class="sxs-lookup"><span data-stu-id="0551f-1178">sapms`<sid`> see **</span></span> |<span data-ttu-id="0551f-1179">3600</span><span class="sxs-lookup"><span data-stu-id="0551f-1179">3600</span></span> |<span data-ttu-id="0551f-1180">sapms gratuit`<anySID`></span><span class="sxs-lookup"><span data-stu-id="0551f-1180">free sapms`<anySID`></span></span> |<span data-ttu-id="0551f-1181">sid = SAP-System-ID</span><span class="sxs-lookup"><span data-stu-id="0551f-1181">sid = SAP-System-ID</span></span> |
| <span data-ttu-id="0551f-1182">Passerelle</span><span class="sxs-lookup"><span data-stu-id="0551f-1182">Gateway</span></span> |<span data-ttu-id="0551f-1183">sapgw`<nn`> voir *</span><span class="sxs-lookup"><span data-stu-id="0551f-1183">sapgw`<nn`> see *</span></span> |<span data-ttu-id="0551f-1184">3301</span><span class="sxs-lookup"><span data-stu-id="0551f-1184">3301</span></span> |<span data-ttu-id="0551f-1185">gratuit</span><span class="sxs-lookup"><span data-stu-id="0551f-1185">free</span></span> |<span data-ttu-id="0551f-1186">Passerelle SAP, utilisée pour les communications CPIC et RFC</span><span class="sxs-lookup"><span data-stu-id="0551f-1186">SAP gateway, used for CPIC and RFC communication</span></span> |
| <span data-ttu-id="0551f-1187">Routeur SAP</span><span class="sxs-lookup"><span data-stu-id="0551f-1187">SAP router</span></span> |<span data-ttu-id="0551f-1188">sapdp99</span><span class="sxs-lookup"><span data-stu-id="0551f-1188">sapdp99</span></span> |<span data-ttu-id="0551f-1189">3299</span><span class="sxs-lookup"><span data-stu-id="0551f-1189">3299</span></span> |<span data-ttu-id="0551f-1190">gratuit</span><span class="sxs-lookup"><span data-stu-id="0551f-1190">free</span></span> |<span data-ttu-id="0551f-1191">Uniquement les noms de Service de l’élément de configuration (instance centrale) peuvent être réaffectées dans valeur arbitraire de tooan/etc/services après l’installation.</span><span class="sxs-lookup"><span data-stu-id="0551f-1191">Only CI (central instance) Service names can be reassigned in /etc/services tooan arbitrary value after installation.</span></span> |

<span data-ttu-id="0551f-1192">*) nn = Numéro d’instance SAP</span><span class="sxs-lookup"><span data-stu-id="0551f-1192">*) nn = SAP Instance Number</span></span>

<span data-ttu-id="0551f-1193">**) sid = SAP-System-ID</span><span class="sxs-lookup"><span data-stu-id="0551f-1193">**) sid = SAP-System-ID</span></span>

<span data-ttu-id="0551f-1194">Pour plus d’informations sur les ports nécessaires pour les différents produits ou services SAP, consultez <http://scn.sap.com/docs/DOC-17124>.</span><span class="sxs-lookup"><span data-stu-id="0551f-1194">More detailed information on ports required for different SAP products or services by SAP products can be found here <http://scn.sap.com/docs/DOC-17124>.</span></span>
<span data-ttu-id="0551f-1195">Avec ce document, vous devez être en mesure de tooopen dédié des ports dans le périphérique VPN de hello nécessaire pour les scénarios et les produits SAP spécifiques.</span><span class="sxs-lookup"><span data-stu-id="0551f-1195">With this document you should be able tooopen dedicated ports in hello VPN device necessary for specific SAP products and scenarios.</span></span>

<span data-ttu-id="0551f-1196">Autres mesures lorsque le déploiement de machines virtuelles dans un tel scénario peut être toocreate un [groupe de sécurité réseau] [ virtual-networks-nsg] toodefine les règles d’accès.</span><span class="sxs-lookup"><span data-stu-id="0551f-1196">Other security measures when deploying VMs in such a scenario could be toocreate a [Network Security Group][virtual-networks-nsg] toodefine access rules.</span></span>

### <a name="dealing-with-different-virtual-machine-series"></a><span data-ttu-id="0551f-1197">Traiter les différentes séries de machines virtuelles</span><span class="sxs-lookup"><span data-stu-id="0551f-1197">Dealing with different Virtual Machine Series</span></span>
<span data-ttu-id="0551f-1198">Cours hello 12 derniers mois Microsoft a ajouté des types de machine virtuelle plus nombreuses qui diffèrent dans le nombre de processeurs virtuels, mémoire ou plus important sur le matériel, il s’exécute sur.</span><span class="sxs-lookup"><span data-stu-id="0551f-1198">In hello course of last 12 months Microsoft added many more VM types that differ either in number of vCPUs, memory or more important on hardware it is running on.</span></span> <span data-ttu-id="0551f-1199">Toutes ces machines virtuelles ne sont pas prises en charge par SAP (voir les types de machines virtuelles pris en charge dans la Note de SAP [1928533]).</span><span class="sxs-lookup"><span data-stu-id="0551f-1199">Not all those VMs are supported with SAP (see supported VM types in SAP Note [1928533]).</span></span> <span data-ttu-id="0551f-1200">Certaines de ces machines virtuelles s’exécutent sur diverses générations de matériel hôte.</span><span class="sxs-lookup"><span data-stu-id="0551f-1200">Some of those VMs run on different host hardware generations.</span></span> <span data-ttu-id="0551f-1201">Ces générations de matériel hôte sont mise en route déployées dans la granularité de hello d’une unité d’échelle Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1201">These host hardware generations are getting deployed in hello granularity of an Azure Scale-Unit.</span></span> <span data-ttu-id="0551f-1202">Signifie pourrait être le cas où les différentes tailles de machine virtuelle hello que vous avez choisi ne peut pas être exécuté sur hello même unité d’échelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-1202">Means cases may arise where hello different VM sizes you chose can’t be run on hello same Scale-Unit.</span></span> <span data-ttu-id="0551f-1203">Un ensemble de disponibilité est limité hello toospan de capacité que des unités d’échelle en fonction de différents périphériques matériels.</span><span class="sxs-lookup"><span data-stu-id="0551f-1203">An Availability Set is limited in hello ability toospan Scale-Units based of different hardware.</span></span>  <span data-ttu-id="0551f-1204">Pour exemple, si vous souhaitez toorun hello SGBD sur des machines virtuelles de A5 à A11 et hello couche d’application SAP sur des machines virtuelles de série G, vous serez forcé toodeploy un système SAP ou différents systèmes SAP dans différents groupes à haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="0551f-1204">For example if you want toorun hello DBMS on A5-A11 VMs and hello SAP application layer on G-Series VMs, you would be forced toodeploy a single SAP system or different SAP systems within different Availability Sets.</span></span>

#### <a name="printing-on-a-local-network-printer-from-sap-instance-in-azure"></a><span data-ttu-id="0551f-1205">Imprimer sur une imprimante réseau local à partir d’une instance SAP dans Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-1205">Printing on a local network printer from SAP instance in Azure</span></span>
##### <a name="printing-over-tcpip-in-cross-premises-scenario"></a><span data-ttu-id="0551f-1206">Impression via TCP/IP dans un scénario intersite</span><span class="sxs-lookup"><span data-stu-id="0551f-1206">Printing over TCP/IP in Cross-Premises scenario</span></span>
<span data-ttu-id="0551f-1207">Configuration des imprimantes réseau locales TCP/IP basés dans une machine virtuelle Azure est global hello identique à celle de votre réseau d’entreprise, en supposant que vous n’avez pas un tunnel VPN de Site à Site ou une connexion ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="0551f-1207">Setting up your on-premises TCP/IP based network printers in an Azure VM is overall hello same as in your corporate network, assuming you do have a VPN Site-To-Site tunnel or ExpressRoute connection established.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="0551f-1209">Windows</span><span class="sxs-lookup"><span data-stu-id="0551f-1209">Windows</span></span>
>
> <span data-ttu-id="0551f-1210">toodo cela :</span><span class="sxs-lookup"><span data-stu-id="0551f-1210">toodo this:</span></span>
>
> * <span data-ttu-id="0551f-1211">Certaines imprimantes réseau sont fournis avec un Assistant de configuration, ce qui la rend facile tooset de l’imprimante dans une machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1211">Some network printers come with a configuration wizard which makes it easy tooset up your printer in an Azure VM.</span></span> <span data-ttu-id="0551f-1212">Si aucun logiciel de l’Assistant n’a été distribuée avec la façon de « manual » hello imprimante tooset d’imprimante de hello est toocreate un nouveau port d’imprimante TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="0551f-1212">If no wizard software has been distributed with the printer hello “manual” way tooset up hello printer is toocreate a new TCP/IP printer port.</span></span>
> * <span data-ttu-id="0551f-1213">Ouvrez Panneau de configuration -> Périphériques et imprimantes -> Ajouter une imprimante.</span><span class="sxs-lookup"><span data-stu-id="0551f-1213">Open Control Panel -> Devices and Printers -> Add a printer</span></span>
> * <span data-ttu-id="0551f-1214">Cliquez sur Ajouter une imprimante à l’aide d’une adresse TCP/IP ou d’un nom d’hôte</span><span class="sxs-lookup"><span data-stu-id="0551f-1214">Choose Add a printer using a TCP/IP address or hostname</span></span>
> * <span data-ttu-id="0551f-1215">Tapez Bonjour adresse IP de l’imprimante de hello</span><span class="sxs-lookup"><span data-stu-id="0551f-1215">Type in hello IP address of hello printer</span></span>
> * <span data-ttu-id="0551f-1216">Le port standard de l’imprimante est 9100</span><span class="sxs-lookup"><span data-stu-id="0551f-1216">Printer Port standard 9100</span></span>
> * <span data-ttu-id="0551f-1217">Si nécessaire installer manuellement le pilote d’imprimante approprié hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1217">If necessary install hello appropriate printer driver manually.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="0551f-1219">Linux</span><span class="sxs-lookup"><span data-stu-id="0551f-1219">Linux</span></span>
>
> * <span data-ttu-id="0551f-1220">comme pour Windows juste suivez la procédure standard de hello tooinstall une imprimante réseau</span><span class="sxs-lookup"><span data-stu-id="0551f-1220">like for Windows just follow hello standard procedure tooinstall a network printer</span></span>
> * <span data-ttu-id="0551f-1221">Suivez les guides Linux publiques hello pour [SUSE](https://www.suse.com/documentation/sles-12/book_sle_deployment/data/sec_y2_hw_print.html) ou [Red Hat et Oracle Linux](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/sec-Printer_Configuration.html) sur la façon de tooadd une imprimante.</span><span class="sxs-lookup"><span data-stu-id="0551f-1221">just follow hello public Linux guides for [SUSE](https://www.suse.com/documentation/sles-12/book_sle_deployment/data/sec_y2_hw_print.html) or [Red Hat and Oracle Linux](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/sec-Printer_Configuration.html) on how tooadd a printer.</span></span>
>
>

- - -
![Impression en réseau][planning-guide-figure-2200]

##### <a name="host-based-printer-over-smb-shared-printer-in-cross-premises-scenario"></a><span data-ttu-id="0551f-1223">Imprimante basée sur l’hôte via SMB (imprimante partagée) dans un scénario intersite</span><span class="sxs-lookup"><span data-stu-id="0551f-1223">Host-based printer over SMB (shared printer) in Cross-Premises scenario</span></span>
<span data-ttu-id="0551f-1224">Les imprimantes basées sur l’hôte ne sont pas compatibles réseau par défaut.</span><span class="sxs-lookup"><span data-stu-id="0551f-1224">Host-based printers are not network-compatible by design.</span></span> <span data-ttu-id="0551f-1225">Mais une imprimante basée sur l’hôte peut être partagée entre les ordinateurs d’un réseau tant que les imprimantes hello sont connecté tooa ordinateur sous tension.</span><span class="sxs-lookup"><span data-stu-id="0551f-1225">But a host-based printer can be shared among computers on a network as long as hello printer is connected tooa powered-on computer.</span></span> <span data-ttu-id="0551f-1226">Connectez votre réseau via une connexion de site à site ou ExpressRoute et partagez votre imprimante locale.</span><span class="sxs-lookup"><span data-stu-id="0551f-1226">Connect your corporate network either Site-To-Site or ExpressRoute and share your local printer.</span></span> <span data-ttu-id="0551f-1227">Hello protocole SMB utilise NetBIOS au lieu de DNS comme service de noms.</span><span class="sxs-lookup"><span data-stu-id="0551f-1227">hello SMB protocol uses NetBIOS instead of DNS as name service.</span></span> <span data-ttu-id="0551f-1228">nom d’hôte NetBIOS Hello peut être différent de nom d’hôte DNS hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1228">hello NetBIOS host name can be different from hello DNS host name.</span></span> <span data-ttu-id="0551f-1229">minuscules Hello est que le nom d’hôte NetBIOS hello et le nom d’hôte DNS hello sont identiques.</span><span class="sxs-lookup"><span data-stu-id="0551f-1229">hello standard case is that hello NetBIOS host name and hello DNS host name are identical.</span></span> <span data-ttu-id="0551f-1230">domaine DNS de Hello ne se justifie pas dans l’espace de noms NetBIOS hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1230">hello DNS domain does not make sense in hello NetBIOS name space.</span></span> <span data-ttu-id="0551f-1231">En conséquence, hello nom d’hôte DNS complet, constitué du nom d’hôte DNS hello et de domaine DNS ne doit pas être utilisé dans l’espace de noms NetBIOS hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1231">Accordingly, hello fully qualified DNS host name consisting of hello DNS host name and DNS domain must not be used in hello NetBIOS name space.</span></span>

<span data-ttu-id="0551f-1232">partage d’imprimante Hello est identifiée par un nom unique dans le réseau de hello :</span><span class="sxs-lookup"><span data-stu-id="0551f-1232">hello printer share is identified by a unique name in hello network:</span></span>

* <span data-ttu-id="0551f-1233">Nom d’hôte SMB hello (toujours obligatoire).</span><span class="sxs-lookup"><span data-stu-id="0551f-1233">Host name of hello SMB host (always needed).</span></span>
* <span data-ttu-id="0551f-1234">Nom de partage hello (toujours obligatoire).</span><span class="sxs-lookup"><span data-stu-id="0551f-1234">Name of hello share (always needed).</span></span>
* <span data-ttu-id="0551f-1235">Nom de domaine hello si le partage d’imprimante n’est pas hello même domaine que le système SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-1235">Name of hello domain if printer share is not in hello same domain as SAP system.</span></span>
* <span data-ttu-id="0551f-1236">En outre, un nom d’utilisateur et un mot de passe peut-être partage d’imprimante hello tooaccess requis.</span><span class="sxs-lookup"><span data-stu-id="0551f-1236">Additionally, a user name and a password may be required tooaccess hello printer share.</span></span>

<span data-ttu-id="0551f-1237">Activation</span><span class="sxs-lookup"><span data-stu-id="0551f-1237">How to:</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="0551f-1239">Windows</span><span class="sxs-lookup"><span data-stu-id="0551f-1239">Windows</span></span>
>
> <span data-ttu-id="0551f-1240">Partagez votre imprimante locale.</span><span class="sxs-lookup"><span data-stu-id="0551f-1240">Share your local printer.</span></span>
> <span data-ttu-id="0551f-1241">Bonjour Azure VM, ouvrez hello l’Explorateur Windows et type dans le nom de partage hello d’imprimante de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1241">In hello Azure VM, open hello Windows Explorer and type in hello share name of hello printer.</span></span>
> <span data-ttu-id="0551f-1242">Un Assistant installation d’imprimante vous guidera tout au long des processus d’installation hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1242">A printer installation wizard will guide you through hello installation process.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="0551f-1244">Linux</span><span class="sxs-lookup"><span data-stu-id="0551f-1244">Linux</span></span>
>
> <span data-ttu-id="0551f-1245">Voici quelques exemples de documents relatifs à la configuration des imprimantes réseau sous Linux ou comprenant un chapitre concernant l’impression sous Linux.</span><span class="sxs-lookup"><span data-stu-id="0551f-1245">Here are some examples of documentation about configuring network printers in Linux or including a chapter regarding printing in Linux.</span></span> <span data-ttu-id="0551f-1246">Il fonctionnera hello est identique dans une machine virtuelle de Linux Azure tant que machine virtuelle de hello fait partie d’un réseau VPN :</span><span class="sxs-lookup"><span data-stu-id="0551f-1246">It will work hello same way in an Azure Linux VM as long as hello VM is part of a VPN:</span></span>
>
> * <span data-ttu-id="0551f-1247">SLES <https://en.opensuse.org/SDB:Printing_via_SMB_(Samba)_Share_or_Windows_Share></span><span class="sxs-lookup"><span data-stu-id="0551f-1247">SLES <https://en.opensuse.org/SDB:Printing_via_SMB_(Samba)_Share_or_Windows_Share></span></span>
> * <span data-ttu-id="0551f-1248">RHEL ou Oracle Linux <https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System_Administrators_Guide/sec-Printer_Configuration.html#s1-printing-smb-printer></span><span class="sxs-lookup"><span data-stu-id="0551f-1248">RHEL or Oracle Linux <https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System_Administrators_Guide/sec-Printer_Configuration.html#s1-printing-smb-printer></span></span>
>
>

- - -
##### <a name="usb-printer-printer-forwarding"></a><span data-ttu-id="0551f-1249">Imprimante USB (réacheminement d’imprimante)</span><span class="sxs-lookup"><span data-stu-id="0551f-1249">USB Printer (printer forwarding)</span></span>
<span data-ttu-id="0551f-1250">Capacité hello Azure d’accès de hello hello Services Bureau à distance tooprovide utilisateurs tootheir périphérique d’impression local dans une session distante n’est pas disponible.</span><span class="sxs-lookup"><span data-stu-id="0551f-1250">In Azure hello ability of hello Remote Desktop Services tooprovide users hello access tootheir local printer devices in a remote session is not available.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="0551f-1252">Windows</span><span class="sxs-lookup"><span data-stu-id="0551f-1252">Windows</span></span>
>
> <span data-ttu-id="0551f-1253">Pour plus d’informations sur l’impression avec Windows, consultez : <http://technet.microsoft.com/library/jj590748.aspx>.</span><span class="sxs-lookup"><span data-stu-id="0551f-1253">More details on printing with Windows can be found here: <http://technet.microsoft.com/library/jj590748.aspx>.</span></span>
>
>

- - -
#### <a name="integration-of-sap-azure-systems-into-correction-and-transport-system-tms-in-cross-premises"></a><span data-ttu-id="0551f-1254">Intégration de systèmes Azure SAP au système de transport et correction SAP (TMS) en local</span><span class="sxs-lookup"><span data-stu-id="0551f-1254">Integration of SAP Azure Systems into Correction and Transport System (TMS) in Cross-Premises</span></span>
<span data-ttu-id="0551f-1255">Hello modification de SAP et le système de Transport (TMS) tooexport toobe configuré de besoins et importer la demande de transport entre les systèmes paysage de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1255">hello SAP Change and Transport System (TMS) needs toobe configured tooexport and import transport request across systems in hello landscape.</span></span> <span data-ttu-id="0551f-1256">Nous supposons que les instances de développement hello d’un système SAP (DEV) sont trouvent dans Azure tandis que l’assurance qualité hello (AQ) et les systèmes de production (PRD) sont locaux.</span><span class="sxs-lookup"><span data-stu-id="0551f-1256">We assume that hello development instances of an SAP system (DEV) are located in Azure whereas hello quality assurance (QA) and productive systems (PRD) are on-premises.</span></span> <span data-ttu-id="0551f-1257">En outre, nous supposons qu’il existe un répertoire de transport central.</span><span class="sxs-lookup"><span data-stu-id="0551f-1257">Furthermore, we assume that there is a central transport directory.</span></span>

##### <a name="configuring-hello-transport-domain"></a><span data-ttu-id="0551f-1258">Configuration hello domaine de Transport</span><span class="sxs-lookup"><span data-stu-id="0551f-1258">Configuring hello Transport Domain</span></span>
<span data-ttu-id="0551f-1259">Configurer votre domaine de Transport sur système hello vous avez désigné comme hello contrôleur de domaine de Transport, comme décrit dans [configuration hello contrôleur de domaine de Transport](http://help.sap.com/erp2005_ehp_04/helpdata/en/44/b4a0b47acc11d1899e0000e829fbbd/content.htm).</span><span class="sxs-lookup"><span data-stu-id="0551f-1259">Configure your Transport Domain on hello system you designated as hello Transport Domain Controller as described in [Configuring hello Transport Domain Controller](http://help.sap.com/erp2005_ehp_04/helpdata/en/44/b4a0b47acc11d1899e0000e829fbbd/content.htm).</span></span> <span data-ttu-id="0551f-1260">Un utilisateur système que TMSADM sera créé et une hello requis de la destination RFC sera générée.</span><span class="sxs-lookup"><span data-stu-id="0551f-1260">A system user TMSADM will be created and hello required RFC destination will be generated.</span></span> <span data-ttu-id="0551f-1261">Vous pouvez vérifier ces connexions RFC à l’aide de la transaction de hello SM59.</span><span class="sxs-lookup"><span data-stu-id="0551f-1261">You may check these RFC connections using hello transaction SM59.</span></span> <span data-ttu-id="0551f-1262">La résolution de nom d’hôte doit être activée dans votre domaine de transport.</span><span class="sxs-lookup"><span data-stu-id="0551f-1262">Hostname resolution must be enabled across your transport domain.</span></span>

<span data-ttu-id="0551f-1263">Activation</span><span class="sxs-lookup"><span data-stu-id="0551f-1263">How to:</span></span>

* <span data-ttu-id="0551f-1264">Dans notre scénario, nous avons décidé hello local système de Choisissons sera le contrôleur de domaine CTS hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1264">In our scenario we decided hello on-premises QAS system will be hello CTS domain controller.</span></span> <span data-ttu-id="0551f-1265">Appelez le STMS de transaction.</span><span class="sxs-lookup"><span data-stu-id="0551f-1265">Call transaction STMS.</span></span> <span data-ttu-id="0551f-1266">boîte de dialogue TMS Hello s’affiche.</span><span class="sxs-lookup"><span data-stu-id="0551f-1266">hello TMS dialog box appears.</span></span> <span data-ttu-id="0551f-1267">Une boîte de dialogue de configuration du domaine de transport s’affiche.</span><span class="sxs-lookup"><span data-stu-id="0551f-1267">A Configure Transport Domain dialog box is displayed.</span></span> <span data-ttu-id="0551f-1268">(cette boîte de dialogue apparaît uniquement si vous n’avez pas encore configuré de domaine de transport).</span><span class="sxs-lookup"><span data-stu-id="0551f-1268">(This dialog box only appears if you have not yet configured a transport domain.)</span></span>
* <span data-ttu-id="0551f-1269">Assurez-vous que cet utilisateur hello créé automatiquement TMSADM est autorisé (SM59 -> connexion ABAP -> TMSADM@E61.DOMAIN_E61 -> Détails -> Utilitaires (m) -> Test d’autorisation).</span><span class="sxs-lookup"><span data-stu-id="0551f-1269">Make sure that hello automatically created user TMSADM is authorized (SM59 -> ABAP Connection -> TMSADM@E61.DOMAIN_E61 -> Details -> Utilities(M) -> Authorization Test).</span></span> <span data-ttu-id="0551f-1270">écran initial de Hello de la transaction STMS doit indiquer que ce système SAP fonctionne désormais comme contrôleur hello du domaine de transport hello comme indiqué ici :</span><span class="sxs-lookup"><span data-stu-id="0551f-1270">hello initial screen of transaction STMS should show that this SAP System is now functioning as hello controller of hello transport domain as shown here:</span></span>

![Écran initial de la transaction STMS sur le contrôleur de domaine hello][planning-guide-figure-2300]

#### <a name="including-sap-systems-in-hello-transport-domain"></a><span data-ttu-id="0551f-1272">Inclusion de systèmes SAP dans le domaine de Transport de hello</span><span class="sxs-lookup"><span data-stu-id="0551f-1272">Including SAP Systems in hello Transport Domain</span></span>
<span data-ttu-id="0551f-1273">séquence Hello d’intégration d’un système SAP dans un domaine de transport se présente comme suit :</span><span class="sxs-lookup"><span data-stu-id="0551f-1273">hello sequence of including an SAP system in a transport domain looks as follows:</span></span>

* <span data-ttu-id="0551f-1274">Sur hello système de développement dans Azure, accédez toohello système de transport (Client 000) et appelez la transaction STMS.</span><span class="sxs-lookup"><span data-stu-id="0551f-1274">On hello DEV system in Azure, go toohello transport system (Client 000) and call transaction STMS.</span></span> <span data-ttu-id="0551f-1275">Choisissez un autre Configuration à partir de la boîte de dialogue hello et continuez à inclure le système dans le domaine.</span><span class="sxs-lookup"><span data-stu-id="0551f-1275">Choose Other Configuration from hello dialog box and continue with Include System in Domain.</span></span> <span data-ttu-id="0551f-1276">Spécifiez hello contrôleur de domaine comme hôte cible ([, y compris les systèmes SAP dans le domaine de Transport de hello](http://help.sap.com/erp2005_ehp_04/helpdata/en/44/b4a0c17acc11d1899e0000e829fbbd/content.htm?frameset=/en/44/b4a0b47acc11d1899e0000e829fbbd/frameset.htm)).</span><span class="sxs-lookup"><span data-stu-id="0551f-1276">Specify hello Domain Controller as target host ([Including SAP Systems in hello Transport Domain](http://help.sap.com/erp2005_ehp_04/helpdata/en/44/b4a0c17acc11d1899e0000e829fbbd/content.htm?frameset=/en/44/b4a0b47acc11d1899e0000e829fbbd/frameset.htm)).</span></span> <span data-ttu-id="0551f-1277">Hello système est maintenant toobe attente inclus dans le domaine de transport hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1277">hello system is now waiting toobe included in hello transport domain.</span></span>
* <span data-ttu-id="0551f-1278">Pour des raisons de sécurité, vous devez ensuite tooconfirm de contrôleur de domaine de retour toohello toogo votre demande.</span><span class="sxs-lookup"><span data-stu-id="0551f-1278">For security reasons, you then have toogo back toohello domain controller tooconfirm your request.</span></span> <span data-ttu-id="0551f-1279">Choisir vue d’ensemble du système et approuver de système de hello en attente.</span><span class="sxs-lookup"><span data-stu-id="0551f-1279">Choose System Overview and Approve of hello waiting system.</span></span> <span data-ttu-id="0551f-1280">Vérifiez ensuite la configuration invite et hello hello sera distribuée.</span><span class="sxs-lookup"><span data-stu-id="0551f-1280">Then confirm hello prompt and hello configuration will be distributed.</span></span>

<span data-ttu-id="0551f-1281">Ce système SAP contient désormais hello informations hello tous les autres systèmes SAP dans le domaine de transport hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1281">This SAP system now contains hello necessary information about all hello other SAP systems in hello transport domain.</span></span> <span data-ttu-id="0551f-1282">À hello même moment, adresse hello données du système SAP de la nouvelle hello sont envoyées, hello système SAP est entré dans le profil de transport hello du programme de contrôle de transport hello et tooall hello autres systèmes SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-1282">At hello same time, hello address data of hello new SAP system is sent tooall hello other SAP systems, and hello SAP system is entered in hello transport profile of hello transport control program.</span></span> <span data-ttu-id="0551f-1283">Vérifiez si les RFC et le répertoire de transport accès toohello du domaine de hello fonctionnent.</span><span class="sxs-lookup"><span data-stu-id="0551f-1283">Check whether RFCs and access toohello transport directory of hello domain work.</span></span>

<span data-ttu-id="0551f-1284">Poursuivre la configuration de hello de votre système de transport comme d’habitude comme décrit dans la documentation de hello [Change and Transport System](http://help.sap.com/saphelp_nw70ehp3/helpdata/en/48/c4300fca5d581ce10000000a42189c/content.htm?frameset=/en/44/b4a0b47acc11d1899e0000e829fbbd/frameset.htm).</span><span class="sxs-lookup"><span data-stu-id="0551f-1284">Continue with hello configuration of your transport system as usual as described in hello documentation [Change and Transport System](http://help.sap.com/saphelp_nw70ehp3/helpdata/en/48/c4300fca5d581ce10000000a42189c/content.htm?frameset=/en/44/b4a0b47acc11d1899e0000e829fbbd/frameset.htm).</span></span>

<span data-ttu-id="0551f-1285">Activation</span><span class="sxs-lookup"><span data-stu-id="0551f-1285">How to:</span></span>

* <span data-ttu-id="0551f-1286">Assurez-vous que votre STMS en local est configuré correctement.</span><span class="sxs-lookup"><span data-stu-id="0551f-1286">Make sure your STMS on premises is configured correctly.</span></span>
* <span data-ttu-id="0551f-1287">Assurez-vous que le nom d’hôte hello Hello contrôleur de domaine de Transport peut être résolu par votre machine virtuelle sur Azure et vice versa.</span><span class="sxs-lookup"><span data-stu-id="0551f-1287">Make sure hello hostname of hello Transport Domain Controller can be resolved by your virtual machine on Azure and vice visa.</span></span>
* <span data-ttu-id="0551f-1288">Appelez le STMS de transaction -> Other Configuration -> Include System in Domain (-> Autre configuration -> Inclure le système dans le domaine).</span><span class="sxs-lookup"><span data-stu-id="0551f-1288">Call transaction STMS -> Other Configuration -> Include System in Domain.</span></span>
* <span data-ttu-id="0551f-1289">Vérifiez la connexion hello Bonjour sur le système de site TMS.</span><span class="sxs-lookup"><span data-stu-id="0551f-1289">Confirm hello connection in hello on premises TMS system.</span></span>
* <span data-ttu-id="0551f-1290">Configurez les itinéraires de transport, les groupes et les couches comme d’habitude.</span><span class="sxs-lookup"><span data-stu-id="0551f-1290">Configure transport routes, groups and layers as usual.</span></span>

<span data-ttu-id="0551f-1291">Dans le site à site connecté intersite scénarios, la latence hello entre locaux et Azure peut néanmoins être substantielle.</span><span class="sxs-lookup"><span data-stu-id="0551f-1291">In site-to-site connected cross-premises scenarios, hello latency between on-premises and Azure still can be substantial.</span></span> <span data-ttu-id="0551f-1292">Si nous suive hello de transport d’objets via tooproduction de systèmes de développement et de test ou que vous pensez à appliquer des transports ou toohello différents systèmes de packages de prise en charge, vous gardez à l’esprit que, dépendant de l’emplacement hello de transport central de hello répertoire, certains des systèmes de hello rencontrent une latence élevée lors de la lecture ou l’écriture des données dans le répertoire de transport central hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1292">If we follow hello sequence of transporting objects through development and test systems tooproduction or think about applying transports or support packages toohello different systems, you realize that, dependent on hello location of hello central transport directory, some of hello systems will encounter high latency reading or writing data in hello central transport directory.</span></span> <span data-ttu-id="0551f-1293">Hello est les configurations de paysage tooSAP similaires où les différents systèmes de hello sont répartis sur différents centres de données éloignés les uns hello des centres de données.</span><span class="sxs-lookup"><span data-stu-id="0551f-1293">hello situation is similar tooSAP landscape configurations where hello different systems are spread through different data centers with substantial distance between hello data centers.</span></span>

<span data-ttu-id="0551f-1294">Dans commande toowork autour de cette latence et de disposer de systèmes de hello travail rapide dans la lecture ou écriture tooor à partir du répertoire de transport hello, vous pouvez configurer deux domaines de transport STMS (un pour local. et l’autre avec les systèmes de hello dans les domaines de transport hello Azure et de lien</span><span class="sxs-lookup"><span data-stu-id="0551f-1294">In order toowork around such latency and have hello systems work fast in reading or writing tooor from hello transport directory, you can set up two STMS transport domains (one for on-premises and one with hello systems in Azure and link hello transport domains.</span></span> <span data-ttu-id="0551f-1295">Consultez la documentation qui explique les principes de hello ce concept dans hello SAP TMS : <http://help.sap.com/saphelp_me60/helpdata/en/c4/6045377b52253de10000009b38f889/content.htm?frameset=/en/57/ 38dd924eb711d182bf0000e829fbfe/FRAMESET.htm>.</span><span class="sxs-lookup"><span data-stu-id="0551f-1295">Please check this documentation which explains hello principles behind this concept in hello SAP TMS: <http://help.sap.com/saphelp_me60/helpdata/en/c4/6045377b52253de10000009b38f889/content.htm?frameset=/en/57/38dd924eb711d182bf0000e829fbfe/frameset.htm>.</span></span>

<span data-ttu-id="0551f-1296">Activation</span><span class="sxs-lookup"><span data-stu-id="0551f-1296">How to:</span></span>

* <span data-ttu-id="0551f-1297">Configurer un domaine de transport sur chaque emplacement (local et Azure) à l’aide du STMS de transaction <http://help.sap.com/saphelp_nw70ehp3/helpdata/en/44/b4a0b47acc11d1899e0000e829fbbd/content.htm></span><span class="sxs-lookup"><span data-stu-id="0551f-1297">Set up a transport domain on each location (on-premises and Azure) using transaction STMS <http://help.sap.com/saphelp_nw70ehp3/helpdata/en/44/b4a0b47acc11d1899e0000e829fbbd/content.htm></span></span>
* <span data-ttu-id="0551f-1298">Liez les domaines de hello avec un lien de domaine et confirmer le lien hello entre deux domaines de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1298">Link hello domains with a domain link and confirm hello link between hello two domains.</span></span>
  <span data-ttu-id="0551f-1299"><http://help.sap.com/saphelp_nw73ehp1/helpdata/en/a3/139838280c4f18e10000009b38f8cf/content.htm></span><span class="sxs-lookup"><span data-stu-id="0551f-1299"><http://help.sap.com/saphelp_nw73ehp1/helpdata/en/a3/139838280c4f18e10000009b38f8cf/content.htm></span></span>
* <span data-ttu-id="0551f-1300">Distribuer hello configuration toohello lié système.</span><span class="sxs-lookup"><span data-stu-id="0551f-1300">Distribute hello configuration toohello linked system.</span></span>

#### <a name="rfc-traffic-between-sap-instances-located-in-azure-and-on-premises-cross-premises"></a><span data-ttu-id="0551f-1301">Trafic RFC entre des instances SAP situées dans Azure et en local (intersite)</span><span class="sxs-lookup"><span data-stu-id="0551f-1301">RFC traffic between SAP instances located in Azure and on-premises (Cross-Premises)</span></span>
<span data-ttu-id="0551f-1302">Trafic RFC entre les systèmes locaux et dans Azure doit toowork.</span><span class="sxs-lookup"><span data-stu-id="0551f-1302">RFC traffic between systems which are on-premises and in Azure needs toowork.</span></span> <span data-ttu-id="0551f-1303">tooset une connexion appeler transaction SM59 dans un système source où vous devez toodefine une connexion RFC vers le système cible de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1303">tooset up a connection call transaction SM59 in a source system where you need toodefine an RFC connection towards hello target system.</span></span> <span data-ttu-id="0551f-1304">configuration de Hello est similaire toohello standard le programme d’installation d’une connexion RFC.</span><span class="sxs-lookup"><span data-stu-id="0551f-1304">hello configuration is similar toohello standard setup of an RFC Connection.</span></span>

<span data-ttu-id="0551f-1305">Nous partons du principe que dans un scénario de coexistence hello, machines virtuelles de hello se trouvent dans les systèmes SAP exécution nécessitant toocommunicate entre eux hello même domaine.</span><span class="sxs-lookup"><span data-stu-id="0551f-1305">We assume that in hello cross-premises scenario, hello VMs which run SAP systems that need toocommunicate with each other are in hello same domain.</span></span> <span data-ttu-id="0551f-1306">Par conséquent hello le programme d’installation d’une connexion RFC entre les systèmes SAP ne diffère pas d’étapes de configuration hello et les entrées dans les scénarios sur site.</span><span class="sxs-lookup"><span data-stu-id="0551f-1306">Therefore hello setup of an RFC connection between SAP systems does not differ from hello setup steps and inputs in on-premises scenarios.</span></span>

#### <a name="accessing-local-fileshares-from-sap-instances-located-in-azure-or-vice-versa"></a><span data-ttu-id="0551f-1307">Accéder à des partages de fichiers locaux à partir d’instances SAP situées dans Azure ou inversement.</span><span class="sxs-lookup"><span data-stu-id="0551f-1307">Accessing ‘local’ fileshares from SAP instances located in Azure or vice versa</span></span>
<span data-ttu-id="0551f-1308">Les instances SAP situées dans Azure doivent tooaccess les partages de fichiers qui se trouvent dans les locaux d’entreprise hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1308">SAP instances located in Azure need tooaccess file shares which are within hello corporate premises.</span></span> <span data-ttu-id="0551f-1309">En outre, les instances SAP locales doivent tooaccess les partages de fichiers qui sont trouvent dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1309">In addition, on-premises SAP instances need tooaccess file shares which are located in Azure.</span></span> <span data-ttu-id="0551f-1310">partages de fichiers hello tooenable vous devez configurer les options de partage sur le système local de hello et les autorisations de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1310">tooenable hello file shares you must configure hello permissions and sharing options on hello local system.</span></span> <span data-ttu-id="0551f-1311">Assurez-vous que tooopen hello ports hello VPN ou une connexion ExpressRoute entre Azure et votre centre de données.</span><span class="sxs-lookup"><span data-stu-id="0551f-1311">Make sure tooopen hello ports on hello VPN or ExpressRoute connection between Azure and your datacenter.</span></span>

## <a name="supportability"></a><span data-ttu-id="0551f-1312">Prise en charge</span><span class="sxs-lookup"><span data-stu-id="0551f-1312">Supportability</span></span>
### <span data-ttu-id="0551f-1313"><a name="6f0a47f3-a289-4090-a053-2521618a28c3"></a>Solution de surveillance Azure pour SAP</span><span class="sxs-lookup"><span data-stu-id="0551f-1313"><a name="6f0a47f3-a289-4090-a053-2521618a28c3"></a>Azure Monitoring Solution for SAP</span></span>
<span data-ttu-id="0551f-1314">Outils de surveillance SAPOSCOL ou l’Agent hôte SAP récupèrent les données hôte de Service de Machine virtuelle Azure hello via une Extension de surveillance Azure pour SAP dans l’ordre tooenable hello analyse des systèmes SAP stratégiques sur Azure hello SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-1314">In order tooenable hello monitoring of mission critical SAP systems on Azure hello SAP monitoring tools SAPOSCOL or SAP Host Agent get data off hello Azure Virtual Machine Service host via an Azure Monitoring Extension for SAP.</span></span> <span data-ttu-id="0551f-1315">Depuis les applications très spécifiques tooSAP hello les exigences de SAP, Microsoft a décidé de pas toogenerically implémentent hello requis fonctionnalités dans Azure, mais laisser pour les clients toodeploy hello nécessaire analyse les configurations et les composants tootheir Machines virtuelles s’exécutant dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1315">Since hello demands by SAP were very specific tooSAP applications, Microsoft decided not toogenerically implement hello required functionality into Azure, but leave it for customers toodeploy hello necessary monitoring components and configurations tootheir Virtual Machines running in Azure.</span></span> <span data-ttu-id="0551f-1316">Toutefois, gestion du cycle de vie et de déploiement de hello analyse des composants est en grande partie automatisée par Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1316">However, deployment and lifecycle management of hello monitoring components will be mostly automated by Azure.</span></span>

#### <a name="solution-design"></a><span data-ttu-id="0551f-1317">Conception de la solution</span><span class="sxs-lookup"><span data-stu-id="0551f-1317">Solution design</span></span>
<span data-ttu-id="0551f-1318">solution de Hello développé tooenable que surveillance SAP repose sur l’architecture hello de l’Agent de machine virtuelle Azure et une structure d’Extension.</span><span class="sxs-lookup"><span data-stu-id="0551f-1318">hello solution developed tooenable SAP Monitoring is based on hello architecture of Azure VM Agent and Extension framework.</span></span> <span data-ttu-id="0551f-1319">idée Hello du framework de l’Agent de machine virtuelle Azure et l’Extension hello est installation tooallow d’applications logicielles disponibles dans la galerie d’Extension de machine virtuelle Azure hello dans une machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-1319">hello idea of hello Azure VM Agent and Extension framework is tooallow installation of software application(s) available in hello Azure VM Extension gallery within a VM.</span></span> <span data-ttu-id="0551f-1320">Hello principe idée de ce concept est tooallow (dans ce cas hello Extension de surveillance Azure pour SAP), hello du déploiement de fonctionnalités spéciales dans une configuration de machine virtuelle et hello de ces logiciels au moment du déploiement.</span><span class="sxs-lookup"><span data-stu-id="0551f-1320">hello principle idea behind this concept is tooallow (in cases like hello Azure Monitoring Extension for SAP), hello deployment of special functionality into a VM and hello configuration of such software at deployment time.</span></span>

<span data-ttu-id="0551f-1321">Hello 'Azure Agent de machine virtuelle » qui permet de gérer des Extensions de machine virtuelle Azure spécifique au sein de hello que machine virtuelle est injecté dans les machines virtuelles Windows par défaut sur la création d’ordinateurs virtuels dans hello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1321">hello 'Azure VM Agent' that enables handling of specific Azure VM Extensions within hello VM is injected into Windows VMs by default on VM creation in hello Azure portal.</span></span> <span data-ttu-id="0551f-1322">En cas de SUSE, Red Hat ou Oracle Linux, agent de machine virtuelle hello est déjà partie de l’image Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="0551f-1322">In case of SUSE, Red Hat or Oracle Linux, hello VM agent is already part of the Azure Marketplace image.</span></span> <span data-ttu-id="0551f-1323">Dans le cas où une serait télécharger un VM Linux à partir d’agent de machine virtuelle locale tooAzure hello a toobe installé manuellement.</span><span class="sxs-lookup"><span data-stu-id="0551f-1323">In case one would upload a Linux VM from on-premises tooAzure hello VM agent has toobe installed manually.</span></span>

<span data-ttu-id="0551f-1324">Hello des blocs de construction de la solution de surveillance hello dans Azure pour SAP ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="0551f-1324">hello basic building blocks of hello Monitoring solution in Azure for SAP looks like this:</span></span>

![Composants d’extension Microsoft Azure][planning-guide-figure-2400]

<span data-ttu-id="0551f-1326">Comme indiqué dans le diagramme de blocs hello ci-dessus, une partie de la solution de surveillance pour SAP de hello est hébergée dans hello Image de machine virtuelle Azure et de la galerie d’extensions Azure est un référentiel à réplication globale qui est géré par Azure Operations.</span><span class="sxs-lookup"><span data-stu-id="0551f-1326">As shown in hello block diagram above, one part of hello monitoring solution for SAP is hosted in hello Azure VM Image and Azure Extension Gallery which is a globally replicated repository that is managed by Azure Operations.</span></span> <span data-ttu-id="0551f-1327">Il incombe hello équipe hello commune SAP/MS travaillant sur hello implémentation Azure de SAP toowork avec les opérations Azure toopublish nouvelles versions de hello Extension de surveillance Azure pour SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-1327">It is hello responsibility of hello joint SAP/MS team working on hello Azure implementation of SAP toowork with Azure Operations toopublish new versions of hello Azure Monitoring Extension for SAP.</span></span>

<span data-ttu-id="0551f-1328">Lorsque vous déployez une machine virtuelle Windows, hello « Agent de machine virtuelle Azure » est automatiquement ajoutée dans hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-1328">When you deploy a new Windows VM, hello ‘Azure VM Agent’ is automatically added into hello VM.</span></span> <span data-ttu-id="0551f-1329">fonction Hello de cet agent est hello toocoordinate chargement configuration Hello Extensions Azure pour l’analyse des systèmes SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="0551f-1329">hello function of this agent is toocoordinate hello loading and configuration of hello Azure Extensions for monitoring of SAP NetWeaver Systems.</span></span> <span data-ttu-id="0551f-1330">Pour les machines virtuelles Linux hello Agent de machine virtuelle Azure est déjà partie d’une image de système d’exploitation de Azure Marketplace hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1330">For Linux VMs hello Azure VM Agent is already part of hello Azure Marketplace OS image.</span></span>

<span data-ttu-id="0551f-1331">Toutefois, il est une étape qui doit tout de même toobe exécutée par le client de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1331">However, there is a step that still needs toobe executed by hello customer.</span></span> <span data-ttu-id="0551f-1332">C’est l’activation du hello et configuration de la collecte des performances hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1332">This is hello enablement and configuration of hello performance collection.</span></span> <span data-ttu-id="0551f-1333">processus de Hello liées toohello 'configuration' est automatisée par un script PowerShell ou d’une commande CLI.</span><span class="sxs-lookup"><span data-stu-id="0551f-1333">hello process related toohello ‘configuration’ is automated by a PowerShell script or CLI command.</span></span> <span data-ttu-id="0551f-1334">Hello script PowerShell peut être téléchargé dans hello Microsoft Azure Script Center, comme décrit dans hello [Guide de déploiement][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="0551f-1334">hello PowerShell script can be downloaded in hello Microsoft Azure Script Center as described in hello [Deployment Guide][deployment-guide].</span></span>

<span data-ttu-id="0551f-1335">Hello Architecture globale de hello Azure solution de surveillance pour SAP ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="0551f-1335">hello overall Architecture of hello Azure monitoring solution for SAP looks like:</span></span>

![Solution de surveillance Azure pour SAP NetWeaver][planning-guide-figure-2500]

<span data-ttu-id="0551f-1337">**Pour hello exacte procédure-tooand pour une procédure détaillée de l’utilisation de ces applets de commande PowerShell ou d’une commande CLI pendant les déploiements, suivez les instructions hello Bonjour [Guide de déploiement][deployment-guide].**</span><span class="sxs-lookup"><span data-stu-id="0551f-1337">**For hello exact how-tooand for detailed steps of using these PowerShell cmdlets or CLI command during deployments, follow hello instructions given in hello [Deployment Guide][deployment-guide].**</span></span>

### <a name="integration-of-azure-located-sap-instance-into-saprouter"></a><span data-ttu-id="0551f-1338">Intégration d’instances SAP situées dans Azure dans SAProuter</span><span class="sxs-lookup"><span data-stu-id="0551f-1338">Integration of Azure located SAP instance into SAProuter</span></span>
<span data-ttu-id="0551f-1339">Instances SAP s’exécutant dans Azure doivent toobe accessible à partir de SAProuter également.</span><span class="sxs-lookup"><span data-stu-id="0551f-1339">SAP instances running in Azure need toobe accessible from SAProuter as well.</span></span>

![Connexion réseau du routeur SAP][planning-guide-figure-2600]

<span data-ttu-id="0551f-1341">Un programme SAProuter permet hello TCP/IP à des systèmes si aucune connexion IP directe.</span><span class="sxs-lookup"><span data-stu-id="0551f-1341">A SAProuter enables hello TCP/IP communication between participating systems if there is no direct IP connection.</span></span> <span data-ttu-id="0551f-1342">Cela présente des avantages de hello qu’aucune connexion de bout en bout entre les partenaires de communication hello est nécessaire au niveau du réseau.</span><span class="sxs-lookup"><span data-stu-id="0551f-1342">This provides hello advantage that no end-to-end connection between hello communication partners is necessary on network level.</span></span> <span data-ttu-id="0551f-1343">Hello SAProuter écoute sur le port 3299 par défaut.</span><span class="sxs-lookup"><span data-stu-id="0551f-1343">hello SAProuter is listening on port 3299 by default.</span></span>
<span data-ttu-id="0551f-1344">instances de tooconnect SAP via un programme SAProuter vous devez toogive hello chaîne SAProuter et le nom d’hôte avec n’importe quel tooconnect tentative.</span><span class="sxs-lookup"><span data-stu-id="0551f-1344">tooconnect SAP instances through a SAProuter you need toogive hello SAProuter string and host name with any attempt tooconnect.</span></span>

## <a name="sap-netweaver-as-java"></a><span data-ttu-id="0551f-1345">SAP NetWeaver AS Java</span><span class="sxs-lookup"><span data-stu-id="0551f-1345">SAP NetWeaver AS Java</span></span>
<span data-ttu-id="0551f-1346">Jusqu'à présent hello essentiellement sur les documents hello a été SAP NetWeaver en général ou hello les pile ABAP SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="0551f-1346">So far hello focus of hello document has been SAP NetWeaver in general or hello SAP NetWeaver ABAP stack.</span></span> <span data-ttu-id="0551f-1347">Dans cette petite section Considérations spécifiques sur la pile Java de SAP de hello sont répertoriés.</span><span class="sxs-lookup"><span data-stu-id="0551f-1347">In this small section, specific considerations for hello SAP Java stack are listed.</span></span> <span data-ttu-id="0551f-1348">Une des plus importante Java de SAP NetWeaver exclusivement les applications basées sur des hello est hello SAP Enterprise Portal.</span><span class="sxs-lookup"><span data-stu-id="0551f-1348">One of hello most important SAP NetWeaver Java exclusively based applications is hello SAP Enterprise Portal.</span></span> <span data-ttu-id="0551f-1349">Autres SAP NetWeaver en fonction des applications comme SAP PI et SAP Solution Manager hello ABAP SAP NetWeaver et les piles de Java.</span><span class="sxs-lookup"><span data-stu-id="0551f-1349">Other SAP NetWeaver based applications like SAP PI and SAP Solution Manager use both hello SAP NetWeaver ABAP and Java stacks.</span></span> <span data-ttu-id="0551f-1350">Par conséquent, il certainement est une nécessité tooconsider des aspects spécifiques connexes toohello Java de SAP NetWeaver pile également.</span><span class="sxs-lookup"><span data-stu-id="0551f-1350">Therefore, there certainly is a need tooconsider specific aspects related toohello SAP NetWeaver Java stack as well.</span></span>

### <a name="sap-enterprise-portal"></a><span data-ttu-id="0551f-1351">Portail d’entreprise SAP</span><span class="sxs-lookup"><span data-stu-id="0551f-1351">SAP Enterprise Portal</span></span>
<span data-ttu-id="0551f-1352">le programme d’installation de Hello d’un portail SAP dans une Machine virtuelle Azure ne diffère pas d’une installation locale sur si vous déployez dans les scénarios de coexistence.</span><span class="sxs-lookup"><span data-stu-id="0551f-1352">hello setup of an SAP Portal in an Azure Virtual Machine does not differ from an on premises installation if you are deploying in cross-premises scenarios.</span></span> <span data-ttu-id="0551f-1353">Depuis hello que DNS est effectué en local, les paramètres de port hello des instances individuelles de hello peuvent faire configurés localement.</span><span class="sxs-lookup"><span data-stu-id="0551f-1353">Since hello DNS is done by on-premises, hello port settings of hello individual instances can be done as configured on-premises.</span></span> <span data-ttu-id="0551f-1354">recommandations de Hello et restrictions décrites jusque-là dans ce document s’appliquent pour une application comme SAP Enterprise Portal ou la pile Java de SAP NetWeaver de hello en général.</span><span class="sxs-lookup"><span data-stu-id="0551f-1354">hello recommendations and restrictions described in this document so far apply for an application like SAP Enterprise Portal or hello SAP NetWeaver Java stack in general.</span></span>

![Portail SAP exposé][planning-guide-figure-2700]

<span data-ttu-id="0551f-1356">Un scénario de déploiement spécifique à certains clients est une exposition directe hello de hello SAP Enterprise Portal toohello Internet pendant que l’hôte d’ordinateur virtuel hello est connecté toohello réseau d’entreprise via un tunnel VPN ou ExpressRoute de site à site.</span><span class="sxs-lookup"><span data-stu-id="0551f-1356">A special deployment scenario by some customers is hello direct exposure of hello SAP Enterprise Portal toohello Internet while hello virtual machine host is connected toohello company network via site-to-site VPN tunnel or ExpressRoute.</span></span> <span data-ttu-id="0551f-1357">Pour ce scénario, vous avez toomake que des ports spécifiques sont ouverts et pas bloqué par un pare-feu réseau ou un groupe de sécurité.</span><span class="sxs-lookup"><span data-stu-id="0551f-1357">For such a scenario, you have toomake sure that specific ports are open and not blocked by firewall or network security group.</span></span> <span data-ttu-id="0551f-1358">Hello même approche doit toobe appliquée lorsque vous souhaitez tooconnect tooan Java de SAP instance sur site dans un scénario de Cloud uniquement.</span><span class="sxs-lookup"><span data-stu-id="0551f-1358">hello same mechanics would need toobe applied when you want tooconnect tooan SAP Java instance from on-premises in a Cloud-Only scenario.</span></span>

<span data-ttu-id="0551f-1359">URI de portail initial Hello est http (s) :`<Portalserver`> : 5XX00/irj où le port de hello est formé par 50000 signe plus (Numéro_système × 100).</span><span class="sxs-lookup"><span data-stu-id="0551f-1359">hello initial portal URI is http(s):`<Portalserver`>:5XX00/irj where hello port is formed by 50000 plus (Systemnumber × 100).</span></span> <span data-ttu-id="0551f-1360">Bonjour par défaut portail URI du système SAP 00 est `<dns name`>.`<azure region` >.Cloudapp.azure.com:PublicPort/irj.</span><span class="sxs-lookup"><span data-stu-id="0551f-1360">hello default portal URI of SAP system 00 is `<dns name`>.`<azure region`>.Cloudapp.azure.com:PublicPort/irj.</span></span> <span data-ttu-id="0551f-1361">Pour plus de détails, consultez <http://help.sap.com/saphelp_nw70ehp1/helpdata/de/a2/f9d7fed2adc340ab462ae159d19509/frameset.htm>.</span><span class="sxs-lookup"><span data-stu-id="0551f-1361">For more details, have a look at <http://help.sap.com/saphelp_nw70ehp1/helpdata/de/a2/f9d7fed2adc340ab462ae159d19509/frameset.htm>.</span></span>

![Configuration du point de terminaison][planning-guide-figure-2800]

<span data-ttu-id="0551f-1363">Si vous souhaitez toocustomize hello URL et/ou les ports de SAP Enterprise Portal, consultez la documentation :</span><span class="sxs-lookup"><span data-stu-id="0551f-1363">If you want toocustomize hello URL and/or ports of your SAP Enterprise Portal, please check this documentation:</span></span>

* [<span data-ttu-id="0551f-1364">Change Portal URL (Modifier l’URL du portail)</span><span class="sxs-lookup"><span data-stu-id="0551f-1364">Change Portal URL</span></span>](http://wiki.scn.sap.com/wiki/display/EP/Change+Portal+URL)
* [<span data-ttu-id="0551f-1365">Change Default port numbers, Portal port numbers (Modifier les numéros de port par défaut et les numéros de ports du portail)</span><span class="sxs-lookup"><span data-stu-id="0551f-1365">Change Default port numbers, Portal port numbers</span></span>](http://wiki.scn.sap.com/wiki/display/NWTech/Change+Default++port+numbers%2C+Portal+port+numbers)

## <a name="high-availability-ha-and-disaster-recovery-dr-for-sap-netweaver-running-on-azure-virtual-machines"></a><span data-ttu-id="0551f-1366">Haute disponibilité (HA) et récupération d’urgence (DR)pour SAP NetWeaver s’exécutant sur des machines virtuelles Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-1366">High Availability (HA) and Disaster Recovery (DR) for SAP NetWeaver running on Azure Virtual Machines</span></span>
### <a name="definition-of-terminologies"></a><span data-ttu-id="0551f-1367">Définition des termes</span><span class="sxs-lookup"><span data-stu-id="0551f-1367">Definition of terminologies</span></span>
<span data-ttu-id="0551f-1368">terme de Hello **haute disponibilité (HA)** est généralement connexe tooa un ensemble de technologies qui réduit les interruptions d’informatique en fournissant la continuité des services informatiques via redondants et à tolérance de panne ou composants protégés de basculement à l’intérieur de hello **même** centre de données.</span><span class="sxs-lookup"><span data-stu-id="0551f-1368">hello term **high availability (HA)** is generally related tooa set of technologies that minimizes IT disruptions by providing business continuity of IT services through redundant, fault-tolerant or failover protected components inside hello **same** data center.</span></span> <span data-ttu-id="0551f-1369">Dans notre cas, au sein d’une région Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1369">In our case, within one Azure Region.</span></span>

<span data-ttu-id="0551f-1370">La **récupération d’urgence (DR)** vise également à réduire l’interruption des services informatiques et leur récupération, mais entre **différents** centres de données, généralement éloignés de plusieurs centaines de kilomètres les uns des autres.</span><span class="sxs-lookup"><span data-stu-id="0551f-1370">**Disaster recovery (DR)** is also targeting minimizing IT services disruption, and their recovery but across **different** data centers, that are usually located hundreds of kilometers away.</span></span> <span data-ttu-id="0551f-1371">Dans notre cas généralement entre les différentes régions Azure dans hello même région géopolitique ou établie par vous, en tant que client.</span><span class="sxs-lookup"><span data-stu-id="0551f-1371">In our case usually between different Azure Regions within hello same geopolitical region or as established by you as a customer.</span></span>

### <a name="overview-of-high-availability"></a><span data-ttu-id="0551f-1372">Vue d’ensemble de la haute disponibilité</span><span class="sxs-lookup"><span data-stu-id="0551f-1372">Overview of High Availability</span></span>
<span data-ttu-id="0551f-1373">Nous pouvons séparer discussion hello sur SAP haute disponibilité dans Azure en deux parties :</span><span class="sxs-lookup"><span data-stu-id="0551f-1373">We can separate hello discussion about SAP high availability in Azure into two parts:</span></span>

* <span data-ttu-id="0551f-1374">La **haute disponibilité de l’infrastructure Azure**, par exemple, celle du calcul (machines virtuelles), du réseau, du stockage, etc., et ses avantages en termes d’augmentation de la disponibilité des applications SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-1374">**Azure infrastructure high availability**, for example HA of compute (VMs), network, storage etc. and its benefits for increasing SAP application availability.</span></span>
* <span data-ttu-id="0551f-1375">La **haute disponibilité des applications SAP**, par exemple, celle des composants logiciels SAP :</span><span class="sxs-lookup"><span data-stu-id="0551f-1375">**SAP application high availability**, for example HA of SAP software components:</span></span>
  * <span data-ttu-id="0551f-1376">Serveurs d’application SAP</span><span class="sxs-lookup"><span data-stu-id="0551f-1376">SAP application servers</span></span>
  * <span data-ttu-id="0551f-1377">Instance SAP ASCS/SCS</span><span class="sxs-lookup"><span data-stu-id="0551f-1377">SAP ASCS/SCS instance</span></span>
  * <span data-ttu-id="0551f-1378">Serveur de base de données</span><span class="sxs-lookup"><span data-stu-id="0551f-1378">DB server</span></span>

<span data-ttu-id="0551f-1379">et comment il peut être combiné avec la haute disponibilité de l’infrastructure Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1379">and how it can be combined with Azure infrastructure HA.</span></span>

<span data-ttu-id="0551f-1380">Haute disponibilité SAP dans Azure a certaines différences par rapport de tooSAP haute disponibilité dans un environnement physique ou virtuel de local.</span><span class="sxs-lookup"><span data-stu-id="0551f-1380">SAP High Availability in Azure has some differences compared tooSAP High Availability in an on-premises physical or virtual environment.</span></span> <span data-ttu-id="0551f-1381">Hello suivant document SAP suivant décrit les configurations de la haute disponibilité SAP standard dans des environnements virtualisés sur Windows : <http://scn.sap.com/docs/DOC-44415>.</span><span class="sxs-lookup"><span data-stu-id="0551f-1381">hello following paper from SAP describes standard SAP High Availability configurations in virtualized environments on Windows: <http://scn.sap.com/docs/DOC-44415>.</span></span> <span data-ttu-id="0551f-1382">Il n’existe aucune configuration haute disponibilité SAP intégrée pour Linux comparable à celle de Windows.</span><span class="sxs-lookup"><span data-stu-id="0551f-1382">There is no sapinst-integrated SAP-HA configuration for Linux like it exists for Windows.</span></span> <span data-ttu-id="0551f-1383">Des informations concernant la haute disponibilité SAP en local pour Linux sont disponibles ici : <http://scn.sap.com/docs/DOC-8541>.</span><span class="sxs-lookup"><span data-stu-id="0551f-1383">Regarding SAP HA on-premises for Linux find more information here: <http://scn.sap.com/docs/DOC-8541>.</span></span>

### <a name="azure-infrastructure-high-availability"></a><span data-ttu-id="0551f-1384">haute disponibilité de l’infrastructure Azure</span><span class="sxs-lookup"><span data-stu-id="0551f-1384">Azure Infrastructure High Availability</span></span>
<span data-ttu-id="0551f-1385">Il existe un contrat de niveau de service pour machine virtuelle unique de 99,9 %.</span><span class="sxs-lookup"><span data-stu-id="0551f-1385">There is currently a single-VM SLA of 99.9%.</span></span> <span data-ttu-id="0551f-1386">tooget une idée de la disponibilité de hello d’une seule machine virtuelle peut se présenter comme vous pouvez générer simplement produit hello de hello différents contrats SLA de Azure disponibles : <https://azure.microsoft.com/support/legal/sla/>.</span><span class="sxs-lookup"><span data-stu-id="0551f-1386">tooget an idea how hello availability of a single VM might look like you can simply build hello product of hello different available Azure SLAs: <https://azure.microsoft.com/support/legal/sla/>.</span></span>

<span data-ttu-id="0551f-1387">base Hello pour le calcul de hello est de 30 jours par mois ou 43 200 minutes.</span><span class="sxs-lookup"><span data-stu-id="0551f-1387">hello basis for hello calculation is 30 days per month, or 43200 minutes.</span></span> <span data-ttu-id="0551f-1388">Par conséquent, le temps mort de 0,05 % correspond too21.6 minutes.</span><span class="sxs-lookup"><span data-stu-id="0551f-1388">Therefore, 0.05% downtime corresponds too21.6 minutes.</span></span> <span data-ttu-id="0551f-1389">Comme d’habitude, disponibilité hello différents services de hello multiplie Bonjour de configuration suivant :</span><span class="sxs-lookup"><span data-stu-id="0551f-1389">As usual, hello availability of hello different services will multiply in hello following way:</span></span>

<span data-ttu-id="0551f-1390">(Service de disponibilité #1/100) * (Service de disponibilité #2/100) * (Service de disponibilité #3/100) *…</span><span class="sxs-lookup"><span data-stu-id="0551f-1390">(Availability Service #1/100) * (Availability Service #2/100) * (Availability Service #3/100) *…</span></span>

<span data-ttu-id="0551f-1391">comme ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="0551f-1391">Like:</span></span>

<span data-ttu-id="0551f-1392">(99,95/100) * (99,9/100) * (99,9/100) = 0,9975, soit une disponibilité globale de 99,75 %.</span><span class="sxs-lookup"><span data-stu-id="0551f-1392">(99.95/100) * (99.9/100) * (99.9/100) = 0.9975 or an overall availability of 99.75%.</span></span>

#### <a name="virtual-machine-vm-high-availability"></a><span data-ttu-id="0551f-1393">Haute disponibilité de la machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="0551f-1393">Virtual Machine (VM) High Availability</span></span>
<span data-ttu-id="0551f-1394">Il existe deux types d’événements de plateforme Azure qui peuvent affecter la disponibilité de hello de vos machines virtuelles : planifié la maintenance et la maintenance non planifiés.</span><span class="sxs-lookup"><span data-stu-id="0551f-1394">There are two types of Azure platform events that can affect hello availability of your virtual machines: planned maintenance and unplanned maintenance.</span></span>

* <span data-ttu-id="0551f-1395">Événements de maintenance planifiée sont mises à jour périodiques effectuées par toohello Microsoft sous-jacent tooimprove de la plateforme Azure fiabilité, les performances et sécurité de l’infrastructure de plateforme hello vos machines virtuelles s’exécutent sur.</span><span class="sxs-lookup"><span data-stu-id="0551f-1395">Planned maintenance events are periodic updates made by Microsoft toohello underlying Azure platform tooimprove overall reliability, performance, and security of hello platform infrastructure that your virtual machines run on.</span></span>
* <span data-ttu-id="0551f-1396">Maintenance non planifiés se produisent lorsque le matériel de hello ou infrastructure physique sous-jacent de votre machine virtuelle a généré une erreur d’une certaine façon.</span><span class="sxs-lookup"><span data-stu-id="0551f-1396">Unplanned maintenance events occur when hello hardware or physical infrastructure underlying your virtual machine has faulted in some way.</span></span> <span data-ttu-id="0551f-1397">Cela comprend les défaillances du réseau local, du disque local ou au niveau du rack.</span><span class="sxs-lookup"><span data-stu-id="0551f-1397">This may include local network failures, local disk failures, or other rack level failures.</span></span> <span data-ttu-id="0551f-1398">Lorsqu’un tel échec est détecté, hello plateforme Azure migrerez automatiquement votre machine virtuelle à partir du serveur physique défectueux hello qui héberge votre serveur physique ordinateur virtuel tooa sain.</span><span class="sxs-lookup"><span data-stu-id="0551f-1398">When such a failure is detected, hello Azure platform will automatically migrate your virtual machine from hello unhealthy physical server hosting your virtual machine tooa healthy physical server.</span></span> <span data-ttu-id="0551f-1399">Ces événements sont rares, mais peuvent aussi causer tooreboot de votre machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-1399">Such events are rare, but may also cause your virtual machine tooreboot.</span></span>

<span data-ttu-id="0551f-1400">Vous trouverez plus de détails dans cette documentation : <http://azure.microsoft.com/documentation/articles/virtual-machines-manage-availability></span><span class="sxs-lookup"><span data-stu-id="0551f-1400">More details can be found in this documentation: <http://azure.microsoft.com/documentation/articles/virtual-machines-manage-availability></span></span>

#### <a name="azure-storage-redundancy"></a><span data-ttu-id="0551f-1401">Redondance d’Azure Storage</span><span class="sxs-lookup"><span data-stu-id="0551f-1401">Azure Storage Redundancy</span></span>
<span data-ttu-id="0551f-1402">les données de salutation dans votre compte de stockage Microsoft Azure soient toujours tooensure répliqué durabilité et une haute disponibilité, réunion hello SLA du stockage Azure, même en face de hello de défaillances matérielles temporaires.</span><span class="sxs-lookup"><span data-stu-id="0551f-1402">hello data in your Microsoft Azure Storage Account is always replicated tooensure durability and high availability, meeting hello Azure Storage SLA even in hello face of transient hardware failures.</span></span>

<span data-ttu-id="0551f-1403">Étant donné que le stockage Azure reste trois images des données de hello par défaut, RAID5 ou RAID1 sur plusieurs disques Azure ne sont pas nécessaires.</span><span class="sxs-lookup"><span data-stu-id="0551f-1403">Since Azure Storage is keeping three images of hello data by default, RAID5 or RAID1 across multiple Azure disks are not necessary.</span></span>

<span data-ttu-id="0551f-1404">Vous trouverez plus de détails dans cet article : <http://azure.microsoft.com/documentation/articles/storage-redundancy/>.</span><span class="sxs-lookup"><span data-stu-id="0551f-1404">More details can be found in this article: <http://azure.microsoft.com/documentation/articles/storage-redundancy/></span></span>

#### <a name="utilizing-azure-infrastructure-vm-restart-tooachieve-higher-availability-of-sap-applications"></a><span data-ttu-id="0551f-1405">Utilisation de machine virtuelle d’Infrastructure Azure redémarre tooAchieve « Disponibilité élevée » des Applications SAP</span><span class="sxs-lookup"><span data-stu-id="0551f-1405">Utilizing Azure Infrastructure VM Restart tooAchieve “Higher Availability” of SAP Applications</span></span>
<span data-ttu-id="0551f-1406">Si vous décidez de toouse pas les fonctionnalités telles que le Clustering de basculement Windows Server (WSFC) ou STIMULATEUR sur Linux (actuellement prise en charge uniquement pour SLES 12 et versions ultérieures), le redémarrage de machine virtuelle Azure est utilisé tooprotect un système SAP sur les temps d’arrêt planifiés et de hello Azure infrastructure physique et l’ensemble de la plate-forme Azure sous-jacente.</span><span class="sxs-lookup"><span data-stu-id="0551f-1406">If you decide not toouse functionalities like Windows Server Failover Clustering (WSFC) or Pacemaker on Linux (currently only supported for SLES 12 and higher), Azure VM Restart is utilized tooprotect an SAP System against planned and unplanned downtime of hello Azure physical server infrastructure and overall underlying Azure platform.</span></span>

> [!NOTE]
> <span data-ttu-id="0551f-1407">Il est importante toomention que principalement redémarrer des ordinateurs virtuels Azure protège les machines virtuelles et les applications non.</span><span class="sxs-lookup"><span data-stu-id="0551f-1407">It is important toomention that Azure VM Restart primarily protects VMs and NOT applications.</span></span> <span data-ttu-id="0551f-1408">Le redémarrage de la machine virtuelle n’offre pas de haute disponibilité pour les applications SAP, mais un certain niveau de disponibilité de l’infrastructure et, par conséquent, indirectement une « plus haute disponibilité » des systèmes SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-1408">VM Restart does not offer high availability for SAP applications, but it does offer a certain level of infrastructure availability and therefore indirectly “higher availability” of SAP systems.</span></span> <span data-ttu-id="0551f-1409">Il n’existe également aucun contrat SLA pour hello durée toorestart une machine virtuelle après une panne de l’hôte planifié ou non.</span><span class="sxs-lookup"><span data-stu-id="0551f-1409">There is also no SLA for hello time it will take toorestart a VM after a planned or unplanned host outage.</span></span> <span data-ttu-id="0551f-1410">Par conséquent, cette méthode de haute disponibilité n’est pas adaptée aux composants essentiels d’un système SAP, tel qu’un (A)SCS ou un SGBD (système de gestion de base de données).</span><span class="sxs-lookup"><span data-stu-id="0551f-1410">Therefore, this method of ‘high availability’ is not suitable for critical components of an SAP system like (A)SCS or DBMS.</span></span>
>
>

<span data-ttu-id="0551f-1411">Le stockage est un autre élément important d’infrastructure pour la haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="0551f-1411">Another important infrastructure element for high availability is storage.</span></span> <span data-ttu-id="0551f-1412">Par exemple, le contrat de niveau de service Stockage Azure assure une disponibilité de 99,9 %.</span><span class="sxs-lookup"><span data-stu-id="0551f-1412">For example Azure Storage SLA is 99,9 % availability.</span></span> <span data-ttu-id="0551f-1413">Si une personne déploie toutes les machines virtuelles et ses disques sur un compte Azure Storage unique, l’indisponibilité potentielle d’Azure Storage entraînera celle de toutes les machines virtuelles placées dans ce compte Azure Storage et également celle de tous les composants SAP s’exécutant sur ces dernières.</span><span class="sxs-lookup"><span data-stu-id="0551f-1413">If one deploys all VMs with its disks into a single Azure Storage Account, potential Azure Storage unavailability will cause unavailability of all VMs that are placed in that Azure Storage Account, and also all SAP components running inside of those VMs.</span></span>  

<span data-ttu-id="0551f-1414">Au lieu de placer toutes les machines virtuelles dans un seul compte Azure Storage, vous pouvez également utiliser les comptes de stockage dédiés pour chaque machine virtuelle et ainsi augmenter la disponibilité globale des machines virtuelles et des applications SAP en utilisant plusieurs comptes Azure Storage indépendants.</span><span class="sxs-lookup"><span data-stu-id="0551f-1414">Instead of putting all VMs into one single Azure Storage Account, you can also use dedicated storage accounts for each VM, and in this way increase overall VM and SAP application availability by using multiple independent Azure Storage Accounts.</span></span>

<span data-ttu-id="0551f-1415">Les disques Azure gérés sont automatiquement placés dans hello domaine par défaut de l’ordinateur virtuel de hello à qu'ils sont attachés.</span><span class="sxs-lookup"><span data-stu-id="0551f-1415">Azure Managed Disks are automatically placed in hello Fault Domain of hello virtual machine they are attached to.</span></span> <span data-ttu-id="0551f-1416">Si vous placez les deux ordinateurs virtuels d’un groupe et utiliser des disques gérés, plateforme de hello s’occupe de la distribution des disques gérés hello dans différents domaines d’erreur ainsi.</span><span class="sxs-lookup"><span data-stu-id="0551f-1416">If you place two virtual machines in an availability set and use Managed Disks, hello platform will take care of distributing hello Managed Disks into different Fault Domains as well.</span></span> <span data-ttu-id="0551f-1417">Si vous envisagez de toouse stockage Premium, nous vous recommandons également à l’aide de gestion des disques.</span><span class="sxs-lookup"><span data-stu-id="0551f-1417">If you plan toouse Premium Storage, we highly recommend using Manage Disks as well.</span></span>

<span data-ttu-id="0551f-1418">Voici un exemple de ce à quoi pourrait ressembler une architecture de système SAP NetWeaver utilisant la haute disponibilité d’infrastructure Azure et des comptes de stockage :</span><span class="sxs-lookup"><span data-stu-id="0551f-1418">A sample architecture of an SAP NetWeaver system that uses Azure infrastructure HA and storage accounts could look like this:</span></span>

![Utilisation de l’infrastructure Azure HA tooachieve SAP « supérieur » des disponibilités des applications][planning-guide-figure-2900]

<span data-ttu-id="0551f-1420">Voici un exemple de ce à quoi pourrait ressembler une architecture de système SAP NetWeaver utilisant la haute disponibilité d’infrastructure Azure et des disques managés :</span><span class="sxs-lookup"><span data-stu-id="0551f-1420">A sample architecture of an SAP NetWeaver system that uses Azure infrastructure HA and Managed Disks could look like this:</span></span>

![Utilisation de l’infrastructure Azure HA tooachieve SAP « supérieur » des disponibilités des applications][planning-guide-figure-2901]

<span data-ttu-id="0551f-1422">Pour les composants SAP critiques, nous avons obtenu hello suivant jusqu'à présent :</span><span class="sxs-lookup"><span data-stu-id="0551f-1422">For critical SAP components we achieved hello following so far:</span></span>

* <span data-ttu-id="0551f-1423">La haute disponibilité des serveurs d’applications SAP</span><span class="sxs-lookup"><span data-stu-id="0551f-1423">High Availability of SAP Application Servers (AS)</span></span>

  <span data-ttu-id="0551f-1424">Les instances de serveur d’applications SAP sont des composants redondants.</span><span class="sxs-lookup"><span data-stu-id="0551f-1424">SAP application server instances are redundant components.</span></span> <span data-ttu-id="0551f-1425">Chaque instance de serveur d’applications SAP est déployée sur sa propre machine virtuelle s’exécutant dans un domaine de mise à niveau et d’erreur différent (voir les chapitres [Domaines d’erreur][planning-guide-3.2.1] et [Domaines de mise à niveau][planning-guide-3.2.2]).</span><span class="sxs-lookup"><span data-stu-id="0551f-1425">Each SAP AS instance is deployed on its own VM, that is running in a different Azure Fault and Upgrade Domain (see chapters [Fault Domains][planning-guide-3.2.1] and [Upgrade Domains][planning-guide-3.2.2]).</span></span> <span data-ttu-id="0551f-1426">Cela est assuré par l’utilisation des groupes à haute disponibilité Azure (voir le chapitre [Groupes à haute disponibilité Azure][planning-guide-3.2.3]).</span><span class="sxs-lookup"><span data-stu-id="0551f-1426">This is ensured by using Azure Availability Sets (see chapter [Azure Availability Sets][planning-guide-3.2.3]).</span></span> <span data-ttu-id="0551f-1427">L’indisponibilité planifiée ou non planifiée potentielle d’un domaine de mise à niveau ou d’erreur Azure entraîne l’indisponibilité d’un nombre limité de machines virtuelles avec leurs instances de serveurs d’applications SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-1427">Potential planned or unplanned unavailability of an Azure Fault or Upgrade Domain will cause unavailability of a restricted number of VMs with their SAP AS instances.</span></span>

  <span data-ttu-id="0551f-1428">Chaque instance de serveur d’applications SAP est placée dans son propre compte Azure Storage : l’indisponibilité potentielle d’un compte de stockage Azure provoquera l’indisponibilité d’une seule machine virtuelle et de son instance de serveur d’applications SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-1428">Each SAP AS instance is placed in its own Azure Storage account – potential unavailability of one Azure Storage Account will cause unavailability of only one VM with its SAP AS instance.</span></span> <span data-ttu-id="0551f-1429">Toutefois, sachez qu’un abonnement Azure est limité quand au nombre de comptes Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="0551f-1429">However, be aware that there is a limit of Azure Storage Accounts within one Azure subscription.</span></span> <span data-ttu-id="0551f-1430">tooensure le démarrage automatique de l’instance de (A) SCS après le redémarrage de la machine virtuelle de hello, assurez-vous que tooset hello Autostart (paramètre) dans l’instance de (A) SCS démarrer profil décrite au chapitre [à l’aide du démarrage automatique pour les instances SAP] [ planning-guide-11.5].</span><span class="sxs-lookup"><span data-stu-id="0551f-1430">tooensure automatic start of (A)SCS instance after hello VM reboot, make sure tooset hello Autostart parameter in (A)SCS instance start profile described in chapter [Using Autostart for SAP instances][planning-guide-11.5].</span></span>
  <span data-ttu-id="0551f-1431">Pour plus de détails, voir également le chapitre [Haute disponibilité pour les serveurs d’applications SAP][planning-guide-11.4.1].</span><span class="sxs-lookup"><span data-stu-id="0551f-1431">Please also read chapter [High Availability for SAP Application Servers][planning-guide-11.4.1] for more details.</span></span>

  <span data-ttu-id="0551f-1432">Même si vous utilisez des disques managés, ces disques sont également stockés dans un compte de stockage Azure et peuvent être indisponibles en cas d’une panne de stockage.</span><span class="sxs-lookup"><span data-stu-id="0551f-1432">Even if you use Managed Disks, those disks are also stored in an Azure Storage Account and can be unavailable in an event of a storage outage.</span></span>

* <span data-ttu-id="0551f-1433">*plus haute* disponibilité de l’instance (A)SCS SAP</span><span class="sxs-lookup"><span data-stu-id="0551f-1433">*Higher* Availability of SAP (A)SCS instance</span></span>

  <span data-ttu-id="0551f-1434">Ici, nous allons utiliser hello de tooprotect redémarrer des ordinateurs virtuels Azure VM avec l’instance (A) SCS SAP installée.</span><span class="sxs-lookup"><span data-stu-id="0551f-1434">Here we utilize Azure VM Restart tooprotect hello VM with installed SAP (A)SCS instance.</span></span> <span data-ttu-id="0551f-1435">Dans serveurs hello cas d’un arrêt planifié ou d’Azure, machines virtuelles seront redémarrés sur un autre serveur disponible.</span><span class="sxs-lookup"><span data-stu-id="0551f-1435">In hello case of planned or unplanned downtime of Azure severs, VMs will be restarted on another available server.</span></span> <span data-ttu-id="0551f-1436">Comme mentionné précédemment, principalement redémarrer des ordinateurs virtuels Azure protège les machines virtuelles et pas les applications, dans ce cas hello (A) instance SCS.</span><span class="sxs-lookup"><span data-stu-id="0551f-1436">As mentioned earlier, Azure VM Restart primarily protects VMs and NOT applications, in this case hello (A)SCS instance.</span></span> <span data-ttu-id="0551f-1437">Via hello machine virtuelle redémarre nous contacterons indirectement « disponibilité » de l’instance SAP (A) SCS.</span><span class="sxs-lookup"><span data-stu-id="0551f-1437">Through hello VM Restart we’ll reach indirectly “higher availability” of SAP (A)SCS instance.</span></span> <span data-ttu-id="0551f-1438">tooinsure le démarrage automatique de l’instance de (A) SCS après le redémarrage de la machine virtuelle de hello, assurez-vous que tooset Autostart (paramètre) dans l’instance de (A) SCS démarrer profil décrite au chapitre [à l’aide du démarrage automatique pour les instances SAP][planning-guide-11.5].</span><span class="sxs-lookup"><span data-stu-id="0551f-1438">tooinsure automatic start of (A)SCS instance after hello VM reboot, make sure tooset Autostart parameter in (A)SCS instance start profile described in chapter [Using Autostart for SAP instances][planning-guide-11.5].</span></span> <span data-ttu-id="0551f-1439">Cela signifie hello (A) SCS l’instance comme un Point de défaillance unique (se) en cours d’exécution dans une seule machine virtuelle sera facteur déterminant de hello pour la disponibilité de l’ensemble du paysage SAP hello hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1439">This means hello (A)SCS instance as a Single Point of Failure (SPOF) running in a single VM will be hello determinative factor for hello availability of hello whole SAP landscape.</span></span>

* <span data-ttu-id="0551f-1440">*plus haute* disponibilité du serveur du SGBD (système de gestion de base de données)</span><span class="sxs-lookup"><span data-stu-id="0551f-1440">*Higher* Availability of DBMS Server</span></span>

  <span data-ttu-id="0551f-1441">Ici, instance de (A) SCS SAP similaire toohello cas d’utilisation, nous allons utiliser la machine virtuelle de Azure redémarre tooprotect hello machine virtuelle avec le logiciel de SGBD et nous disponibilité « supérieur » du logiciel SGBD par machine virtuelle redémarre.</span><span class="sxs-lookup"><span data-stu-id="0551f-1441">Here, similar toohello SAP (A)SCS instance use case, we utilize Azure VM Restart tooprotect hello VM with installed DBMS software, and we achieve “higher availability” of DBMS software through VM Restart.</span></span>
  <span data-ttu-id="0551f-1442">SGBD en cours d’exécution dans une seule machine virtuelle est également un s’il est donc facteur déterminant de hello pour la disponibilité de l’ensemble du paysage SAP hello hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1442">DBMS running in a single VM is also a SPOF, and it is hello determinative factor for hello availability of hello whole SAP landscape.</span></span>

### <a name="sap-application-high-availability-on-azure-iaas"></a><span data-ttu-id="0551f-1443">Haute disponibilité de l’application SAP sur Azure IaaS</span><span class="sxs-lookup"><span data-stu-id="0551f-1443">SAP Application High Availability on Azure IaaS</span></span>
<span data-ttu-id="0551f-1444">tooachieve complète SAP haute disponibilité du système, nous devons tooprotect critique de tous les composants du système SAP, des serveurs d’applications SAP redondant exemple et composants uniques (par exemple unique Point de défaillance) comme instance de (A) SCS SAP et SGBD.</span><span class="sxs-lookup"><span data-stu-id="0551f-1444">tooachieve full SAP system high availability, we need tooprotect all critical SAP system components, for example redundant SAP application servers, and unique components (for example Single Point of Failure) like SAP (A)SCS instance and DBMS.</span></span>

#### <span data-ttu-id="0551f-1445"><a name="5d9d36f9-9058-435d-8367-5ad05f00de77"></a>Haute disponibilité pour les serveurs d’applications SAP</span><span class="sxs-lookup"><span data-stu-id="0551f-1445"><a name="5d9d36f9-9058-435d-8367-5ad05f00de77"></a>High Availability for SAP Application Servers</span></span>
<span data-ttu-id="0551f-1446">Pour les instances de serveurs/boîte de dialogue application hello SAP n’est pas nécessaire toothink sur une solution de haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="0551f-1446">For hello SAP application servers/dialog instances it’s not necessary toothink about a specific high availability solution.</span></span> <span data-ttu-id="0551f-1447">La haute disponibilité peut être obtenue simplement par la redondance afin d’obtenir une présence suffisante dans les différentes machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="0551f-1447">High availability is simply achieved by redundancy and thereby having enough of them in different virtual machines.</span></span> <span data-ttu-id="0551f-1448">Ils doivent tous être placés dans hello même tooavoid à haute disponibilité Azure qui hello des machines virtuelles peut-être être mises à jour hello même temps pendant le temps mort de maintenance planifiée.</span><span class="sxs-lookup"><span data-stu-id="0551f-1448">They should all be placed in hello same Azure Availability Set tooavoid that hello VMs might be updated at hello same time during planned maintenance downtime.</span></span> <span data-ttu-id="0551f-1449">fonctionnalités de base Hello qui repose sur l’autre mise à niveau et domaines d’erreur au sein d’une unité d’échelle Azure a été déjà introduite dans le chapitre [mise à niveau des domaines][planning-guide-3.2.2].</span><span class="sxs-lookup"><span data-stu-id="0551f-1449">hello basic functionality which builds on different Upgrade and Fault Domains within an Azure Scale Unit was already introduced in chapter [Upgrade Domains][planning-guide-3.2.2].</span></span> <span data-ttu-id="0551f-1450">Les groupes à haute disponibilité Azure ont été présentés dans le chapitre [Groupes à haute disponibilité Azure][planning-guide-3.2.3] dans ce document.</span><span class="sxs-lookup"><span data-stu-id="0551f-1450">Azure Availability Sets were presented in chapter [Azure Availability Sets][planning-guide-3.2.3] of this document.</span></span>

<span data-ttu-id="0551f-1451">Le nombre de domaines de mise à niveau et d’erreur pouvant être utilisé par un groupe à haute disponibilité Azure au sein d’une unité d’échelle Azure est limité.</span><span class="sxs-lookup"><span data-stu-id="0551f-1451">There is no infinite number of Fault and Upgrade Domains that can be used by an Azure Availability Set within an Azure Scale Unit.</span></span> <span data-ttu-id="0551f-1452">Cela signifie que si vous placez un nombre d’ordinateurs virtuels dans un groupe à haute disponibilité, tôt ou tard plusieurs machines virtuelles finit par Bonjour même erreur ou un domaine de mise à niveau.</span><span class="sxs-lookup"><span data-stu-id="0551f-1452">This means that putting a number of VMs into one Availability Set, sooner or later more than one VM ends up in hello same Fault or Upgrade Domain.</span></span>

<span data-ttu-id="0551f-1453">Déploiement de serveur d’applications SAP quelques instances de leurs ordinateurs virtuels dédiés et en supposant que nous avons obtenu cinq domaines de mise à niveau, hello illustration suivante aboutit au final de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1453">Deploying a few SAP application server instances in their dedicated VMs and assuming that we got five Upgrade Domains, hello following picture emerges at hello end.</span></span> <span data-ttu-id="0551f-1454">Hello réel nombre maximal de domaines d’erreur et de mise à jour au sein d’un ensemble de disponibilité peut être modifiée de hello ultérieure :</span><span class="sxs-lookup"><span data-stu-id="0551f-1454">hello actual max number of fault and update domains within an availability set might change in hello future:</span></span>

![Haute disponibilité des serveurs d’applications SAP dans Azure][planning-guide-figure-3000]

<span data-ttu-id="0551f-1456">Vous trouverez plus de détails dans cette documentation : <http://azure.microsoft.com/documentation/articles/virtual-machines-manage-availability></span><span class="sxs-lookup"><span data-stu-id="0551f-1456">More details can be found in this documentation: <http://azure.microsoft.com/documentation/articles/virtual-machines-manage-availability></span></span>

#### <a name="high-availability-for-hello-sap-ascs-instance-on-windows"></a><span data-ttu-id="0551f-1457">Haute disponibilité pour l’instance de (A) SCS SAP hello sur Windows</span><span class="sxs-lookup"><span data-stu-id="0551f-1457">High Availability for hello SAP (A)SCS instance on Windows</span></span>
<span data-ttu-id="0551f-1458">Cluster de basculement Windows Server (WSFC) est une instance de (A) SCS SAP solution fréquemment utilisées tooprotect hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1458">Windows Server Failover Cluster (WSFC) is a frequently used solution tooprotect hello SAP (A)SCS instance.</span></span> <span data-ttu-id="0551f-1459">Il est également intégré à sapinst sous forme d’une « installation à haute disponibilité ».</span><span class="sxs-lookup"><span data-stu-id="0551f-1459">It is also integrated into sapinst in form of an "HA installation".</span></span> <span data-ttu-id="0551f-1460">À ce stade hello infrastructure Azure n’est pas en mesure de tooprovide hello fonctionnalité tooset des hello du Cluster de basculement Windows Server hello nécessaire comme cela est effectué localement.</span><span class="sxs-lookup"><span data-stu-id="0551f-1460">At this point in time hello Azure infrastructure is not able tooprovide hello functionality tooset up hello required Windows Server Failover Cluster hello same way as it's done on-premises.</span></span>

<span data-ttu-id="0551f-1461">À compter de janvier 2016 plateforme de cloud computing Azure hello exécutant le système d’exploitation de Windows hello ne fournit pas de possibilité de hello de l’utilisation d’un volume partagé de cluster sur un disque partagé entre les deux ordinateurs virtuels de Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1461">As of January 2016 hello Azure cloud platform running hello Windows operating system does not provide hello possibility of using a cluster shared volume on a disk shared between two Azure VMs.</span></span>

<span data-ttu-id="0551f-1462">Cependant, une solution valide est l’utilisation de hello du logiciel 3 rd-party qui fournit un volume partagé par la réplication synchrone et transparent de disque qui peut être intégrée dans WSFC.</span><span class="sxs-lookup"><span data-stu-id="0551f-1462">A valid solution though is hello usage of 3rd-party software which provides a shared volume by synchronous and transparent disk replication which can be integrated into WSFC.</span></span> <span data-ttu-id="0551f-1463">Cette approche implique que seul nœud de cluster actif hello est en mesure de tooaccess un des disques de hello copie à un point dans le temps.</span><span class="sxs-lookup"><span data-stu-id="0551f-1463">This approach implies that only hello active cluster node is able tooaccess one of hello disk copies at a point in time.</span></span> <span data-ttu-id="0551f-1464">À compter de janvier 2016 cette HA configuration est instance de (A) SCS SAP hello tooprotect pris en charge sur Windows système d’exploitation invité sur les machines virtuelles Azure en combinaison avec 3 rd-party logiciel SIOS DataKeeper.</span><span class="sxs-lookup"><span data-stu-id="0551f-1464">As of January 2016 this HA configuration is supported tooprotect hello SAP (A)SCS instance on Windows guest OS on Azure VMs in combination with 3rd-party software SIOS DataKeeper.</span></span>

<span data-ttu-id="0551f-1465">Hello SIOS DataKeeper solution fournit un tooWindows de ressource de cluster de disque partagé des Clusters de basculement en ayant :</span><span class="sxs-lookup"><span data-stu-id="0551f-1465">hello SIOS DataKeeper solution provides a shared disk cluster resource tooWindows Failover Clusters by having:</span></span>

* <span data-ttu-id="0551f-1466">Un disque dur virtuel de Azure supplémentaires attaché tooeach de hello machines () qui se trouvent dans une configuration de Cluster Windows</span><span class="sxs-lookup"><span data-stu-id="0551f-1466">An additional Azure VHD attached tooeach of hello virtual machines (VMs) that are in a Windows Cluster configuration</span></span>
* <span data-ttu-id="0551f-1467">SIOS DataKeeper Cluster Edition s’exécutant sur les deux nœuds de machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="0551f-1467">SIOS DataKeeper Cluster Edition running on both VM nodes</span></span>
* <span data-ttu-id="0551f-1468">Avoir SIOS DataKeeper Cluster Edition est configuré de sorte qu’il reflète synchrone contenu hello Hello supplémentaires disque dur virtuel attaché volume à partir du volume de disque dur virtuel attaché tooadditional source machines virtuelles de cible de machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-1468">Having SIOS DataKeeper Cluster Edition configured in a way that it synchronously mirrors hello content of hello additional VHD attached volume from source VMs tooadditional VHD attached volume of target VM.</span></span>
* <span data-ttu-id="0551f-1469">SIOS DataKeeper est en faisant abstraction des volumes locaux hello source et cible et les présenter tooWindows Cluster de basculement en tant qu’un seul disque partagé.</span><span class="sxs-lookup"><span data-stu-id="0551f-1469">SIOS DataKeeper is abstracting hello source and target local volumes and presenting them tooWindows Failover Cluster as a single shared disk.</span></span>

<span data-ttu-id="0551f-1470">Vous trouverez tous les détails sur la façon de tooinstall un Cluster de basculement Windows avec SIOS DataKeeper et SAP Bonjour [Clustering d’Instance ASC SAP à l’aide de Cluster de basculement Windows Server sur Azure avec SIOS DataKeeper] [ ha-guide-classic]livre blanc.</span><span class="sxs-lookup"><span data-stu-id="0551f-1470">You can find all details on how tooinstall a Windows Failover Cluster with SIOS DataKeeper and SAP in hello [Clustering SAP ASCS Instance using Windows Server Failover Cluster on Azure with SIOS DataKeeper][ha-guide-classic] white paper.</span></span>

#### <a name="high-availability-for-hello-sap-ascs-instance-on-linux"></a><span data-ttu-id="0551f-1471">Haute disponibilité pour l’instance de (A) SCS SAP hello sur Linux</span><span class="sxs-lookup"><span data-stu-id="0551f-1471">High Availability for hello SAP (A)SCS instance on Linux</span></span>
<span data-ttu-id="0551f-1472">Depuis décembre 2015 n’a également aucun disque équivalent tooshared WSFC pour les machines virtuelles Linux sur Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1472">As of Dec 2015 there is also no equivalent tooshared disk WSFC for Linux VMs on Azure.</span></span> <span data-ttu-id="0551f-1473">Les autres solutions consistant à utiliser un logiciel tiers, tel que SISO pour Windows, ne sont pas encore validée pour l’exécution de SAP sous Linux sur Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1473">Alternative solutions using 3rd-party software like SIOS for Windows are not validated yet for running SAP on Linux on Azure.</span></span>

#### <a name="high-availability-for-hello-sap-database-instance"></a><span data-ttu-id="0551f-1474">Haute disponibilité pour l’instance de base de données SAP hello</span><span class="sxs-lookup"><span data-stu-id="0551f-1474">High Availability for hello SAP database instance</span></span>
<span data-ttu-id="0551f-1475">Hello SAP à haute disponibilité SGBD installation par défaut est basée sur deux machines virtuelles de SGBD où les fonctionnalités de haute disponibilité SGBD sont utilisée tooreplicate des données à partir de toohello instance SGBD active de hello deuxième machine virtuelle dans une instance SGBD passive.</span><span class="sxs-lookup"><span data-stu-id="0551f-1475">hello typical SAP DBMS HA setup is based on two DBMS VMs where DBMS high-availability functionality is used tooreplicate data from hello active DBMS instance toohello second VM into a passive DBMS instance.</span></span>

<span data-ttu-id="0551f-1476">Haute fonctionnalité de récupération d’urgence et disponibilité pour les SGBD en général ainsi que des SGBD sont décrits dans hello [Guide de déploiement de système SGBD][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="0551f-1476">High Availability and Disaster recovery functionality for DBMS in general as well as specific DBMS are described in hello [DBMS Deployment Guide][dbms-guide].</span></span>

#### <a name="end-to-end-high-availability-for-hello-complete-sap-system"></a><span data-ttu-id="0551f-1477">Haute disponibilité de bout en bout pour hello complète du système SAP</span><span class="sxs-lookup"><span data-stu-id="0551f-1477">End-to-End High Availability for hello Complete SAP System</span></span>
<span data-ttu-id="0551f-1478">Voici deux exemples d’architecture de haute disponibilité SAP NetWeaver complète dans Azure (un concernant Windows et un autre pour Linux).</span><span class="sxs-lookup"><span data-stu-id="0551f-1478">Here are two examples of a complete SAP NetWeaver HA architecture in Azure - one for Windows and one for Linux.</span></span>

<span data-ttu-id="0551f-1479">Non managées uniquement les disques : concepts hello comme expliqué ci-dessous peut-être toobe compromis un peu lorsque vous déployez de nombreux systèmes SAP et nombre hello d’ordinateurs virtuels déployés est limite hello maximal de comptes de stockage par abonnement.</span><span class="sxs-lookup"><span data-stu-id="0551f-1479">Unmanaged disks only: hello concepts as explained below may need toobe compromised a bit when you deploy many SAP systems and hello number of VMs deployed are exceeding hello maximum limit of Storage Accounts per subscription.</span></span> <span data-ttu-id="0551f-1480">Dans ce cas, disques durs virtuels de machines virtuelles doivent toobe combinée au sein d’un compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="0551f-1480">In such cases, VHDs of VMs need toobe combined within one Storage Account.</span></span> <span data-ttu-id="0551f-1481">En général, vous pourriez procéder ainsi en combinant les disques virtuels des machines virtuelles de la couche d’application SAP de différents systèmes SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-1481">Usually you would do so by combining VHDs of SAP application layer VMs of different SAP systems.</span></span>  <span data-ttu-id="0551f-1482">Nous avons également associé différents disques durs virtuels de plusieurs machines virtuelles de SGBD (système de gestion de base de données) de différents systèmes SAP dans un compte Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="0551f-1482">We also combined different VHDs of different DBMS VMs of different SAP systems in one Azure Storage Account.</span></span> <span data-ttu-id="0551f-1483">En gardant les limites d’IOPS hello de comptes de stockage Azure à l’esprit (<https://azure.microsoft.com/documentation/articles/storage-scalability-targets>)</span><span class="sxs-lookup"><span data-stu-id="0551f-1483">Thereby keeping hello IOPS limits of Azure Storage Accounts in mind (<https://azure.microsoft.com/documentation/articles/storage-scalability-targets>)</span></span>


##### <a name="windowslogowindows-ha-on-windows"></a>![Windows][Logo_Windows] <span data-ttu-id="0551f-1485">Haute disponibilité sous Windows</span><span class="sxs-lookup"><span data-stu-id="0551f-1485">HA on Windows</span></span>
![Architecture de haute disponibilité de l’application SAP NetWeaver avec SQL Server dans Azure IaaS][planning-guide-figure-3200]

<span data-ttu-id="0551f-1487">Hello suivant constructions Azure est utilisé pour le système SAP NetWeaver de hello, impact toominimize par des problèmes d’infrastructure et l’ordinateur hôte de la mise à jour corrective :</span><span class="sxs-lookup"><span data-stu-id="0551f-1487">hello following Azure constructs are used for hello SAP NetWeaver system, toominimize impact by infrastructure issues and host patching:</span></span>

* <span data-ttu-id="0551f-1488">système complet de Hello est déployé sur Azure (obligatoire, la couche SGBD, (A) SCS instance et toorun de nécessité de couche application complète dans hello même emplacement).</span><span class="sxs-lookup"><span data-stu-id="0551f-1488">hello complete system is deployed on Azure (required - DBMS layer, (A)SCS instance and complete application layer need toorun in hello same location).</span></span>
* <span data-ttu-id="0551f-1489">système complet de Hello s’exécute dans un abonnement Azure (obligatoire).</span><span class="sxs-lookup"><span data-stu-id="0551f-1489">hello complete system runs within one Azure subscription (required).</span></span>
* <span data-ttu-id="0551f-1490">système complet de Hello s’exécute au sein d’un réseau virtuel Azure (obligatoire).</span><span class="sxs-lookup"><span data-stu-id="0551f-1490">hello complete system runs within one Azure Virtual Network (required).</span></span>
* <span data-ttu-id="0551f-1491">séparation Hello Hello machines virtuelles d’un système SAP en trois ensembles de disponibilité est possible même avec toutes les machines virtuelles de hello appartenant toohello même réseau virtuel.</span><span class="sxs-lookup"><span data-stu-id="0551f-1491">hello separation of hello VMs of one SAP system into three Availability Sets is possible even with all hello VMs belonging toohello same Virtual Network.</span></span>
* <span data-ttu-id="0551f-1492">Toutes les machines virtuelles exécutant des instances de SGBD (système de gestion de base de données) d’un système SAP se trouvent dans un groupe à haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="0551f-1492">All VMs running DBMS instances of one SAP system are in one Availability Set.</span></span> <span data-ttu-id="0551f-1493">Nous partons du principe qu’il existe plusieurs machines virtuelles exécutant des instances de SGBD (système de gestion de base de données) par système depuis l’utilisation des fonctionnalités de haute disponibilité de SGBD natives, telles que SQL Server AlwaysOn ou Oracle Data Guard.</span><span class="sxs-lookup"><span data-stu-id="0551f-1493">We assume that there is more than one VM running DBMS instances per system since native DBMS high availability features are used, like SQL Server AlwaysOn or Oracle Data Guard.</span></span>
* <span data-ttu-id="0551f-1494">Toutes les machines virtuelles exécutant des instances de SGBD (système de gestion de base de données) utilisent leur propre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="0551f-1494">All VMs running DBMS instances use their own storage account.</span></span> <span data-ttu-id="0551f-1495">Les fichiers journaux et de données SGBD sont répliquées à partir d’un stockage compte tooanother compte de stockage à l’aide des fonctions de haute disponibilité SGBD qui synchronisent les données de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1495">DBMS data and log files are replicated from one storage account tooanother storage account using DBMS high availability functions that synchronize hello data.</span></span> <span data-ttu-id="0551f-1496">Indisponibilité d’un compte de stockage entraîne l’indisponibilité d’un nœud de cluster Windows SQL, mais pas hello SQL Server service entier.</span><span class="sxs-lookup"><span data-stu-id="0551f-1496">Unavailability of one storage account will cause unavailability of one SQL Windows cluster node, but not hello whole SQL Server service.</span></span>
* <span data-ttu-id="0551f-1497">Toutes les machines virtuelles exécutant l’instance (A)SCS d’un système SAP se trouvent dans un groupe à haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="0551f-1497">All VMs running (A)SCS instance of one SAP system are in one Availability Set.</span></span> <span data-ttu-id="0551f-1498">Un Cluster de basculement de Windows Server (WSFC) est configuré à l’intérieur de ces instance de machines virtuelles tooprotect hello (A) SCS.</span><span class="sxs-lookup"><span data-stu-id="0551f-1498">A Windows Server Failover Cluster (WSFC) is configured inside of those VMs tooprotect hello (A)SCS instance.</span></span>
* <span data-ttu-id="0551f-1499">Toutes les machines virtuelles exécutant des instances (A)SCS utilisent leur propre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="0551f-1499">All VMs running (A)SCS instances use their own storage account.</span></span> <span data-ttu-id="0551f-1500">(A) Fichiers d’instance SCS et dossier global de SAP sont répliquées à partir d’un stockage compte tooanother compte de stockage à l’aide de la réplication de SIOS DataKeeper.</span><span class="sxs-lookup"><span data-stu-id="0551f-1500">(A)SCS instance files and SAP global folder are replicated from one storage account tooanother storage account using SIOS DataKeeper replication.</span></span> <span data-ttu-id="0551f-1501">Indisponibilité d’un compte de stockage entraîne l’indisponibilité de l’un (A) SCS Windows nœud de cluster, mais pas hello ensemble (A) service SCS.</span><span class="sxs-lookup"><span data-stu-id="0551f-1501">Unavailability of one storage account will cause unavailability of one (A)SCS Windows cluster node, but not hello whole (A)SCS service.</span></span>
* <span data-ttu-id="0551f-1502">Tous les ordinateurs virtuels de hello représentant la couche de server application hello SAP sont dans un troisième groupe à haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="0551f-1502">ALL hello VMs representing hello SAP application server layer are in a third Availability Set.</span></span>
* <span data-ttu-id="0551f-1503">Tous les ordinateurs virtuels de hello exécutant des serveurs d’applications SAP utilisent leur propre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="0551f-1503">ALL hello VMs running SAP application servers use their own storage account.</span></span> <span data-ttu-id="0551f-1504">Indisponibilité d’un compte de stockage entraîne l’indisponibilité d’un serveur d’applications SAP, où les autres comme SAP continuer toorun.</span><span class="sxs-lookup"><span data-stu-id="0551f-1504">Unavailability of one storage account will cause unavailability of one SAP application server, where other SAP AS continue toorun.</span></span>

<span data-ttu-id="0551f-1505">suivant de Hello figure hello illustré que même paysage à l’aide de disques gérés.</span><span class="sxs-lookup"><span data-stu-id="0551f-1505">hello following figure illustrated hello same landscape using Managed Disks.</span></span>

![Architecture de haute disponibilité de l’application SAP NetWeaver avec SQL Server dans Azure IaaS][planning-guide-figure-3201]

##### <a name="linuxlogolinux-ha-on-linux"></a>![Linux][Logo_Linux] <span data-ttu-id="0551f-1508">Haute disponibilité sous Linux</span><span class="sxs-lookup"><span data-stu-id="0551f-1508">HA on Linux</span></span>
<span data-ttu-id="0551f-1509">Hello architecture de haute disponibilité SAP sur Linux sur Azure est fondamentalement hello même que pour Windows comme décrit ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="0551f-1509">hello architecture for SAP HA on Linux on Azure is basically hello same as for Windows as described above.</span></span> <span data-ttu-id="0551f-1510">Depuis janvier 2016, il n’existait encore aucune solution de haute disponibilité (A)SCS SAP prise en charge sous Linux sur Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1510">As of Jan 2016 there is no SAP (A)SCS HA solution supported yet on Linux on Azure</span></span>

<span data-ttu-id="0551f-1511">En conséquence de janvier 2016 ne proposent pas un système SAP-Linux-Azure hello du même groupe de disponibilité comme un système SAP-Windows-Azure car il manque à haute disponibilité pour l’instance de hello (A) SCS et hello de base de données SAP ASE à instance unique.</span><span class="sxs-lookup"><span data-stu-id="0551f-1511">As a consequence as of January 2016 an SAP-Linux-Azure system cannot achieve hello same availability as an SAP-Windows-Azure system because of missing HA for hello (A)SCS instance and hello single-instance SAP ASE database.</span></span>

### <span data-ttu-id="0551f-1512"><a name="4e165b58-74ca-474f-a7f4-5e695a93204f"></a>Utilisation du démarrage automatique pour les instances SAP</span><span class="sxs-lookup"><span data-stu-id="0551f-1512"><a name="4e165b58-74ca-474f-a7f4-5e695a93204f"></a>Using Autostart for SAP instances</span></span>
<span data-ttu-id="0551f-1513">SAP proposé des fonctionnalités hello des instances SAP toostart immédiatement après le démarrage hello Hello du système d’exploitation dans hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-1513">SAP offered hello functionality toostart SAP instances immediately after hello start of hello OS within hello VM.</span></span> <span data-ttu-id="0551f-1514">les étapes exactes Hello documentés dans l’Article de Base de connaissances SAP [1909114].</span><span class="sxs-lookup"><span data-stu-id="0551f-1514">hello exact steps were documented in SAP Knowledge Base Article [1909114].</span></span> <span data-ttu-id="0551f-1515">Toutefois, SAP ne recommande pas toouse hello paramètre, car le contrôle n’existe pas dans l’ordre de hello de redémarrages d’instance, en supposant que plusieurs machines virtuelles ont été affectées ou exécution de plusieurs instances par ordinateur virtuel.</span><span class="sxs-lookup"><span data-stu-id="0551f-1515">However, SAP is not recommending toouse hello setting anymore because there is no control in hello order of instance restarts, assuming more than one VM got affected or multiple instances ran per VM.</span></span> <span data-ttu-id="0551f-1516">Un scénario classique Azure d’une instance de serveur d’application SAP dans un cas de machine virtuelle et hello d’une seule machine virtuelle finalement redémarré la mise en route, hello Autostart n’est pas réellement critique et peut être activée en ajoutant ce paramètre :</span><span class="sxs-lookup"><span data-stu-id="0551f-1516">Assuming a typical Azure scenario of one SAP application server instance in a VM and hello case of a single VM eventually getting restarted, hello Autostart is not really critical and can be enabled by adding this parameter:</span></span>

    Autostart = 1

<span data-ttu-id="0551f-1517">Dans hello démarrer le profil de l’instance SAP ABAP ou Java de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1517">Into hello start profile of hello SAP ABAP and/or Java instance.</span></span>

> [!NOTE]
> <span data-ttu-id="0551f-1518">Autostart (paramètre) Hello peut avoir également des inconvénients.</span><span class="sxs-lookup"><span data-stu-id="0551f-1518">hello Autostart parameter can have some downfalls as well.</span></span> <span data-ttu-id="0551f-1519">Plus en détail, les déclencheurs de paramètre hello hello début d’une instance SAP ABAP ou Java lorsque hello associées service Windows/Linux de l’instance de hello est démarré.</span><span class="sxs-lookup"><span data-stu-id="0551f-1519">In more detail, hello parameter triggers hello start of an SAP ABAP or Java instance when hello related Windows/Linux service of hello instance is started.</span></span> <span data-ttu-id="0551f-1520">Qui est certainement des cas de hello au démarrage de système d’exploitation de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1520">That certainly is hello case when hello operating system boots up.</span></span> <span data-ttu-id="0551f-1521">Toutefois, les redémarrages des services SAP sont également courants pour la fonctionnalité de gestion du cycle de vie du logiciel SAP, telle que SUM ou d’autres mises à jour et mises à niveau.</span><span class="sxs-lookup"><span data-stu-id="0551f-1521">However, restarts of SAP services are also a common thing for SAP Software Lifecycle Management functionality like SUM or other updates or upgrades.</span></span> <span data-ttu-id="0551f-1522">Ces fonctionnalités n’attendez un toobe instance redémarrée automatiquement à tous.</span><span class="sxs-lookup"><span data-stu-id="0551f-1522">These functionalities are not expecting an instance toobe restarted automatically at all.</span></span> <span data-ttu-id="0551f-1523">Par conséquent, Autostart (paramètre) hello doit être désactivée avant d’exécuter ces tâches.</span><span class="sxs-lookup"><span data-stu-id="0551f-1523">Therefore, hello Autostart parameter should be disabled before running such tasks.</span></span> <span data-ttu-id="0551f-1524">également, Hello Autostart paramètre ne doit pas être utilisé pour les instances SAP qui sont en cluster, tels que ASCS/SCS / l’élément de configuration.</span><span class="sxs-lookup"><span data-stu-id="0551f-1524">hello Autostart parameter also should not be used for SAP instances that are clustered, like ASCS/SCS/CI.</span></span>
>
>

<span data-ttu-id="0551f-1525">Consultez les informations supplémentaires concernant le démarrage automatique des instances SAP ici :</span><span class="sxs-lookup"><span data-stu-id="0551f-1525">See additional information regarding autostart for SAP instances here:</span></span>

* [<span data-ttu-id="0551f-1526">Start/Stop SAP along with your Unix Server Start/Stop (Démarrage/Arrêt de SAP à l’aide de la fonctionnalité correspondante de votre serveur Unix)</span><span class="sxs-lookup"><span data-stu-id="0551f-1526">Start/Stop SAP along with your Unix Server Start/Stop</span></span>](http://scn.sap.com/community/unix/blog/2012/08/07/startstop-sap-along-with-your-unix-server-startstop)
* [<span data-ttu-id="0551f-1527">Starting and Stopping SAP NetWeaver Management Agents (Démarrage et arrêt des agents de gestion SAP NetWeaver)</span><span class="sxs-lookup"><span data-stu-id="0551f-1527">Starting and Stopping SAP NetWeaver Management Agents</span></span>](https://help.sap.com/saphelp_nwpi711/helpdata/en/49/9a15525b20423ee10000000a421938/content.htm)
* [<span data-ttu-id="0551f-1528">Comment tooenable automatiquement démarrer de base de données HANA</span><span class="sxs-lookup"><span data-stu-id="0551f-1528">How tooenable auto Start of HANA Database</span></span>](http://www.freehanatutorials.com/2012/10/how-to-enable-auto-start-of-hana.html)

### <a name="larger-3-tier-sap-systems"></a><span data-ttu-id="0551f-1529">Systèmes SAP à 3 couches plus vastes</span><span class="sxs-lookup"><span data-stu-id="0551f-1529">Larger 3-Tier SAP systems</span></span>
<span data-ttu-id="0551f-1530">Les aspects relatifs à la haute disponibilité des configurations SAP à 3 couches ont déjà été abordés dans les sections précédentes.</span><span class="sxs-lookup"><span data-stu-id="0551f-1530">High-Availability aspects of 3-Tier SAP configurations got discussed in earlier sections already.</span></span> <span data-ttu-id="0551f-1531">Mais qu’en est-il des systèmes où la configuration requise du serveur hello SGBD est trop grandes toohave situé dans Azure, mais la couche d’application hello SAP peut être déployé dans Azure ?</span><span class="sxs-lookup"><span data-stu-id="0551f-1531">But what about systems where hello DBMS server requirements are too large toohave it located in Azure, but hello SAP application layer could be deployed into Azure?</span></span>

#### <a name="location-of-3-tier-sap-configurations"></a><span data-ttu-id="0551f-1532">Emplacement des configurations SAP à 3 couches</span><span class="sxs-lookup"><span data-stu-id="0551f-1532">Location of 3-Tier SAP configurations</span></span>
<span data-ttu-id="0551f-1533">Il n’est pas pris en charge toosplit hello lui-même ou application hello couche application et SGBD entre locaux et Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1533">It is not supported toosplit hello application tier itself or hello application and DBMS tier between on-premises and Azure.</span></span> <span data-ttu-id="0551f-1534">Un système SAP est totalement déployé localement OU dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1534">An SAP system is either completely deployed on-premises OR in Azure.</span></span> <span data-ttu-id="0551f-1535">Il n’est pas également toohave pris en charge certains des serveurs d’applications hello exécutent localement et autres dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1535">It is also not supported toohave some of hello application servers run on-premises and some others in Azure.</span></span> <span data-ttu-id="0551f-1536">Qui est hello point de départ d’une discussion de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1536">That is hello starting point of hello discussion.</span></span> <span data-ttu-id="0551f-1537">Aussi, nous ne prennent pas en charge des composants de SGBD hello toohave d’un système SAP et hello de niveau serveur d’application SAP déployé dans des régions Azure différents.</span><span class="sxs-lookup"><span data-stu-id="0551f-1537">We also are not supporting toohave hello DBMS components of an SAP system and hello SAP application server layer deployed in two different Azure Regions.</span></span> <span data-ttu-id="0551f-1538">Par exemple, le SGBD (système de gestion de base de données) à l’Ouest des États-Unis et la couche d’application SAP au Centre des États-Unis.</span><span class="sxs-lookup"><span data-stu-id="0551f-1538">For example DBMS in West US and SAP application layer in Central US.</span></span> <span data-ttu-id="0551f-1539">Ne prend ne pas en charge des configurations de fait la sensibilité de latence hello Hello architecture de SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="0551f-1539">Reason for not supporting such configurations is hello latency sensitivity of hello SAP NetWeaver architecture.</span></span>

<span data-ttu-id="0551f-1540">Cependant, au fil de hello de données de l’année dernière partenaires center développement des emplacements tooAzure régions.</span><span class="sxs-lookup"><span data-stu-id="0551f-1540">However, over hello course of last year data center partners developed co-locations tooAzure Regions.</span></span> <span data-ttu-id="0551f-1541">Ces emplacements de collaboration sont souvent de proximité toohello Azure de données physiques centres d’une région Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1541">These co-locations often are in very close proximity toohello physical Azure data centers within an Azure Region.</span></span> <span data-ttu-id="0551f-1542">distance de courte Hello et connexion des ressources dans la colocalisation de hello via ExpressRoute dans Azure peuvent entraîner une latence est inférieure à 2 ms.</span><span class="sxs-lookup"><span data-stu-id="0551f-1542">hello short distance and connection of assets in hello co-location through ExpressRoute into Azure can result in a latency that is less than 2ms.</span></span> <span data-ttu-id="0551f-1543">Dans ce cas, toolocate hello couche SGBD (y compris le stockage SAN/NAS) dans un tel colocalisation et couche d’application hello SAP dans Azure est possible.</span><span class="sxs-lookup"><span data-stu-id="0551f-1543">In such cases, toolocate hello DBMS layer (including storage SAN/NAS) in such a co-location and hello SAP application layer in Azure is possible.</span></span> <span data-ttu-id="0551f-1544">Depuis décembre 2015, nous n’assistons à aucun déploiement de ce type.</span><span class="sxs-lookup"><span data-stu-id="0551f-1544">As of Dec 2015, we don’t have any deployments like that.</span></span> <span data-ttu-id="0551f-1545">Toutefois, divers clients effectuant des déploiements d’applications autres que SAP utilisent déjà de telles approches.</span><span class="sxs-lookup"><span data-stu-id="0551f-1545">But different customers with non-SAP application deployments are using such approaches already.</span></span>

### <a name="offline-backup-of-sap-systems"></a><span data-ttu-id="0551f-1546">Sauvegarde hors connexion de systèmes SAP</span><span class="sxs-lookup"><span data-stu-id="0551f-1546">Offline Backup of SAP systems</span></span>
<span data-ttu-id="0551f-1547">Dépend de hello configuration SAP choisie (2 ou 3 niveaux) d’il peut être un tooback besoin des.</span><span class="sxs-lookup"><span data-stu-id="0551f-1547">Dependent on hello SAP configuration chosen (2-Tier or 3-Tier) there could be a need tooback up.</span></span> <span data-ttu-id="0551f-1548">contenu Hello de machine virtuelle proprement dite de hello plus toohave une sauvegarde de base de données hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1548">hello content of hello VM itself plus toohave a backup of hello database.</span></span> <span data-ttu-id="0551f-1549">les sauvegardes de SGBD liées Hello sont attendu toobe terminé avec des méthodes de base de données.</span><span class="sxs-lookup"><span data-stu-id="0551f-1549">hello DBMS-related backups are expected toobe done with database methods.</span></span> <span data-ttu-id="0551f-1550">Vous trouverez une description détaillée de hello différentes bases de données, dans [SGBD Guide][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="0551f-1550">A detailed description for hello different databases, can be found in [DBMS Guide][dbms-guide].</span></span> <span data-ttu-id="0551f-1551">Sur hello autre part, hello données SAP peut être sauvegardé de manière hors connexion (y compris le contenu de base de données hello ainsi) comme décrit dans cette section ou en ligne comme décrit dans la section suivante de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1551">On hello other hand, hello SAP data can be backed up in an offline manner (including hello database content as well) as described in this section or online as described in hello next section.</span></span>

<span data-ttu-id="0551f-1552">sauvegarde hors connexion de Hello nécessiterait essentiellement un arrêt de hello machine virtuelle via hello portail Azure et une copie du disque de machine virtuelle base hello ainsi que tous les disques attachés toohello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-1552">hello offline backup would basically require a shutdown of hello VM through hello Azure portal and a copy of hello base VM disk plus all attached disks toohello VM.</span></span> <span data-ttu-id="0551f-1553">Cela préserve un point d’image dans le temps de hello machine virtuelle et de son disque associé.</span><span class="sxs-lookup"><span data-stu-id="0551f-1553">This would preserve a point in time image of hello VM and its associated disk.</span></span> <span data-ttu-id="0551f-1554">Il est recommandé de toocopy hello « sauvegardes » dans un autre compte de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1554">It is recommended toocopy hello ‘backups’ into a different Azure Storage Account.</span></span> <span data-ttu-id="0551f-1555">Par conséquent, hello procédure décrite dans le chapitre [copie de disques entre les comptes de stockage Azure] [ planning-guide-5.4.2] de ce document s’appliquent.</span><span class="sxs-lookup"><span data-stu-id="0551f-1555">Hence hello procedure described in chapter [Copying disks between Azure Storage Accounts][planning-guide-5.4.2] of this document would apply.</span></span>
<span data-ttu-id="0551f-1556">En plus de l’arrêt de hello à l’aide de hello Azure portal une peut également le faire via Powershell ou CLI comme décrit ici : <https://azure.microsoft.com/documentation/articles/virtual-machines-deploy-rmtemplates-powershell/></span><span class="sxs-lookup"><span data-stu-id="0551f-1556">Besides hello shutdown using hello Azure portal one can also do it via Powershell or CLI as described here: <https://azure.microsoft.com/documentation/articles/virtual-machines-deploy-rmtemplates-powershell/></span></span>

<span data-ttu-id="0551f-1557">Une restauration de cet état se compose de la suppression de hello machine virtuelle de base ainsi comme hello disques d’origine de hello de base virtuelle et des disques montés, copier hello disques enregistré toohello d’origine compte de stockage ou groupe de ressources de disques gérés, puis le redéployer les système hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1557">A restore of that state would consist of deleting hello base VM as well as hello original disks of hello base VM and mounted disks, copying back hello saved disks toohello original Storage Account or resource group for managed disks and then redeploying hello system.</span></span>
<span data-ttu-id="0551f-1558">Cet article montre comment tooscript ce processus dans Powershell : <http://www.westerndevs.com/azure-snapshots/></span><span class="sxs-lookup"><span data-stu-id="0551f-1558">This article shows an example how tooscript this process in Powershell: <http://www.westerndevs.com/azure-snapshots/></span></span>

<span data-ttu-id="0551f-1559">Assurez-vous que tooinstall une nouvelle licence SAP étant donné que la restauration d’une machine virtuelle comme décrit ci-dessus crée une clé matérielle.</span><span class="sxs-lookup"><span data-stu-id="0551f-1559">Please make sure tooinstall a new SAP license since restoring a VM backup as described above creates a new hardware key.</span></span>

### <a name="online-backup-of-an-sap-system"></a><span data-ttu-id="0551f-1560">Sauvegarde en ligne d’un système SAP</span><span class="sxs-lookup"><span data-stu-id="0551f-1560">Online backup of an SAP system</span></span>
<span data-ttu-id="0551f-1561">Sauvegarde de hello SGBD est effectuée avec des méthodes propres au SGBD, comme décrit dans hello [SGBD Guide][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="0551f-1561">Backup of hello DBMS is performed with DBMS-specific methods as described in hello [DBMS Guide][dbms-guide].</span></span>

<span data-ttu-id="0551f-1562">Autres ordinateurs virtuels au sein de hello système SAP peuvent être sauvegardées à l’aide de la fonctionnalité de sauvegarde des machines virtuelles Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1562">Other VMs within hello SAP system can be backed up using Azure Virtual Machine Backup functionality.</span></span> <span data-ttu-id="0551f-1563">Sauvegarde des machines virtuelles Azure introduite au début de 2015 et pendant ce temps est un tooback méthode standard d’un ordinateur de virtuel complète dans Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1563">Azure Virtual Machine Backup got introduced early in 2015 and meanwhile is a standard method tooback up a complete VM in Azure.</span></span> <span data-ttu-id="0551f-1564">Sauvegarde Azure stocke les sauvegardes de hello dans Azure et permet une restauration d’une machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="0551f-1564">Azure Backup stores hello backups in Azure and allows a restore of a VM again.</span></span>

> [!NOTE]
> <span data-ttu-id="0551f-1565">À compter de décembre 2015 à l’aide de la sauvegarde de la machine virtuelle ne conserve pas de hello unique ID de machine virtuelle qui est utilisé pour SAP Gestionnaire de licences.</span><span class="sxs-lookup"><span data-stu-id="0551f-1565">As of Dec 2015 using VM Backup does NOT keep hello unique VM ID which is used for SAP licensing.</span></span> <span data-ttu-id="0551f-1566">Cela signifie qu’une restauration à partir d’une sauvegarde de la machine virtuelle nécessite l’installation d’une nouvelle clé de licence SAP que hello restauré l’ordinateur virtuel est considéré comme toobe un nouvel ordinateur virtuel et non pas le remplacement de l’ancien a été enregistré.</span><span class="sxs-lookup"><span data-stu-id="0551f-1566">This means that a restore from a VM backup requires installation of a new SAP license key as hello restored VM is considered toobe a new VM and not a replacement of the former one which was saved.</span></span>
>
> ![Windows][Logo_Windows] <span data-ttu-id="0551f-1568">Windows</span><span class="sxs-lookup"><span data-stu-id="0551f-1568">Windows</span></span>
>
> <span data-ttu-id="0551f-1569">En théorie, les machines virtuelles que l’exécution des bases de données peuvent être sauvegardées de façon cohérente si hello système SGBD prend en charge hello Windows VSS (Volume Shadow Copy Service <https://msdn.microsoft.com/library/windows/desktop/bb968832 (v=vs.85).aspx >) comme, par exemple, SQL Server effectue.</span><span class="sxs-lookup"><span data-stu-id="0551f-1569">Theoretically, VMs that run databases can be backed up in a consistent manner as well if hello DBMS system supports hello Windows VSS (Volume Shadow Copy Service <https://msdn.microsoft.com/library/windows/desktop/bb968832(v=vs.85).aspx>) as, for example, SQL Server does.</span></span>
> <span data-ttu-id="0551f-1570">Toutefois, n’oubliez pas qu’une restauration dans le temps des bases de données peut ne pas être possible, selon les sauvegardes de machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1570">However, be aware that based on Azure VM backups point-in-time restores of databases are not possible.</span></span> <span data-ttu-id="0551f-1571">Par conséquent, il est recommandé tooperform des sauvegardes de bases de données avec des fonctionnalités SGBD au lieu de compter sur la sauvegarde de machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="0551f-1571">Therefore, the recommendation is tooperform backups of databases with DBMS functionality instead of relying on Azure VM Backup.</span></span>
>
> <span data-ttu-id="0551f-1572">tooget familiarisé avec la sauvegarde des machines virtuelles Azure Démarrez ici : <https://docs.microsoft.com/azure/backup/backup-azure-vms>.</span><span class="sxs-lookup"><span data-stu-id="0551f-1572">tooget familiar with Azure Virtual Machine Backup please start here: <https://docs.microsoft.com/azure/backup/backup-azure-vms>.</span></span>
>
> <span data-ttu-id="0551f-1573">Autres possibilités sont toouse une combinaison de Microsoft Data Protection Manager est installé dans une machine virtuelle Azure et Azure Backup pour la sauvegarde/restauration de bases de données.</span><span class="sxs-lookup"><span data-stu-id="0551f-1573">Other possibilities are toouse a combination of Microsoft Data Protection Manager installed in an Azure VM and Azure Backup to backup/restore databases.</span></span> <span data-ttu-id="0551f-1574">Pour plus d’informations, consultez : <https://docs.microsoft.com/azure/backup/backup-azure-dpm-introduction>.</span><span class="sxs-lookup"><span data-stu-id="0551f-1574">More information can be found here: <https://docs.microsoft.com/azure/backup/backup-azure-dpm-introduction>.</span></span>  
>
> ![Linux][Logo_Linux] <span data-ttu-id="0551f-1576">Linux</span><span class="sxs-lookup"><span data-stu-id="0551f-1576">Linux</span></span>
>
> <span data-ttu-id="0551f-1577">Il n’existe aucun équivalent tooWindows VSS dans Linux.</span><span class="sxs-lookup"><span data-stu-id="0551f-1577">There is no equivalent tooWindows VSS in Linux.</span></span> <span data-ttu-id="0551f-1578">Par conséquent, seules les sauvegardes cohérentes au niveau des fichiers sont possibles. Les sauvegardes cohérentes au niveau de l’application ne sont pas prises en charge.</span><span class="sxs-lookup"><span data-stu-id="0551f-1578">Therefore only file-consistent backups are possible but not application-consistent backups.</span></span> <span data-ttu-id="0551f-1579">Hello SGBD SAP sauvegarde doit être effectuée à l’aide des fonctionnalités SGBD.</span><span class="sxs-lookup"><span data-stu-id="0551f-1579">hello SAP DBMS backup should be done using DBMS functionality.</span></span> <span data-ttu-id="0551f-1580">Hello système de fichiers qui contient les données de hello liés à SAP peut être enregistrée, par exemple, à l’aide de tar comme décrit ici : <http://help.sap.com/saphelp_nw70ehp2/helpdata/en/d3/c0da3ccbb04d35b186041ba6ac301f/content.htm></span><span class="sxs-lookup"><span data-stu-id="0551f-1580">hello file system which includes hello SAP-related data can be saved, for example, using tar as described here: <http://help.sap.com/saphelp_nw70ehp2/helpdata/en/d3/c0da3ccbb04d35b186041ba6ac301f/content.htm></span></span>
>
>

### <a name="azure-as-dr-site-for-production-sap-landscapes"></a><span data-ttu-id="0551f-1581">Azure comme site de récupération d’urgence pour les paysages SAP de production</span><span class="sxs-lookup"><span data-stu-id="0551f-1581">Azure as DR site for production SAP landscapes</span></span>
<span data-ttu-id="0551f-1582">Depuis 2014 Mid, composants de toovarious extensions autour de Hyper-V, System Center et Azure ctiver hello de Azure en tant que site de récupération d’urgence pour les machines virtuelles en cours d’exécution local basé sur Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="0551f-1582">Since Mid 2014, extensions toovarious components around Hyper-V, System Center and Azure enable hello usage of Azure as DR site for VMs running on-premises based on Hyper-V.</span></span>

<span data-ttu-id="0551f-1583">Blog de détaillant comment toodeploy cette solution est documenté ici : <http://blogs.msdn.com/b/saponsqlserver/archive/2014/11/19/protecting-sap-solutions-with-azure-site-recovery.aspx>.</span><span class="sxs-lookup"><span data-stu-id="0551f-1583">A blog detailing how toodeploy this solution is documented here: <http://blogs.msdn.com/b/saponsqlserver/archive/2014/11/19/protecting-sap-solutions-with-azure-site-recovery.aspx>.</span></span>

## <a name="summary"></a><span data-ttu-id="0551f-1584">Résumé</span><span class="sxs-lookup"><span data-stu-id="0551f-1584">Summary</span></span>
<span data-ttu-id="0551f-1585">Hello des points clés de la haute disponibilité pour les systèmes SAP dans Azure sont :</span><span class="sxs-lookup"><span data-stu-id="0551f-1585">hello key points of High Availability for SAP systems in Azure are:</span></span>

* <span data-ttu-id="0551f-1586">À ce stade, hello point de défaillance unique de SAP ne peut pas être sécurisé exactement hello même façon qu’il peut être effectué dans des déploiements sur site.</span><span class="sxs-lookup"><span data-stu-id="0551f-1586">At this point in time, hello SAP single point of failure cannot be secured exactly hello same way as it can be done in on-premises deployments.</span></span> <span data-ttu-id="0551f-1587">Hello parce que les clusters de disque partagé ne peut pas encore générés dans Azure sans utiliser hello 3e logiciels tiers.</span><span class="sxs-lookup"><span data-stu-id="0551f-1587">hello reason is that Shared Disk clusters can’t yet be built in Azure without hello use of 3rd party software.</span></span>
* <span data-ttu-id="0551f-1588">Pour la couche de SGBD hello, vous avez besoin de fonctionnalités SGBD toouse qui ne reposent pas sur la technologie de cluster de disque partagé.</span><span class="sxs-lookup"><span data-stu-id="0551f-1588">For hello DBMS layer you need toouse DBMS functionality that does not rely on shared disk cluster technology.</span></span> <span data-ttu-id="0551f-1589">Détails sont documentés dans hello [SGBD Guide][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="0551f-1589">Details are documented in hello [DBMS Guide][dbms-guide].</span></span>
* <span data-ttu-id="0551f-1590">impact de hello toominimize des problèmes dans les domaines d’erreur Bonjour Azure maintenance d’infrastructure ou un hôte, vous devez utiliser des groupes à haute disponibilité Azure :</span><span class="sxs-lookup"><span data-stu-id="0551f-1590">toominimize hello impact of problems within Fault Domains in hello Azure infrastructure or host maintenance, you should use Azure Availability Sets:</span></span>
  * <span data-ttu-id="0551f-1591">Il est recommandé de toohave une haute disponibilité pour la couche d’application SAP hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1591">It is recommended toohave one Availability Set for hello SAP application layer.</span></span>
  * <span data-ttu-id="0551f-1592">Il est recommandé de toohave une disponibilité distinct définie pour la couche SGBD SAP de hello.</span><span class="sxs-lookup"><span data-stu-id="0551f-1592">It is recommended toohave a separate Availability Set for hello SAP DBMS layer.</span></span>
  * <span data-ttu-id="0551f-1593">Il n’est pas recommandé hello tooapply à haute disponibilité même pour les machines virtuelles de différents systèmes SAP.</span><span class="sxs-lookup"><span data-stu-id="0551f-1593">It is NOT recommended tooapply hello same Availability set for VMs of different SAP systems.</span></span>
  * <span data-ttu-id="0551f-1594">Il est recommandé des disques Premium gérés toouse.</span><span class="sxs-lookup"><span data-stu-id="0551f-1594">It is recommended toouse Premium Managed Disks.</span></span>
* <span data-ttu-id="0551f-1595">Pour des raisons de sauvegarde de la couche SGBD SAP de hello, vérifiez hello [SGBD Guide][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="0551f-1595">For Backup purposes of hello SAP DBMS layer, please check hello [DBMS Guide][dbms-guide].</span></span>
* <span data-ttu-id="0551f-1596">Sauvegarde des instances de la boîte de dialogue SAP judicieux peu puisqu’il s’agit d’instances de boîte de dialogue simple tooredeploy généralement plus rapides.</span><span class="sxs-lookup"><span data-stu-id="0551f-1596">Backing up SAP Dialog instances makes little sense since it is usually faster tooredeploy simple dialog instances.</span></span>
* <span data-ttu-id="0551f-1597">Sauvegarde hello machine virtuelle qui contient le répertoire global de hello Hello système SAP et avec lui tous les profils hello des instances différentes de hello, se justifie et doit être effectuée avec la sauvegarde Windows ou, par exemple, tar sur Linux.</span><span class="sxs-lookup"><span data-stu-id="0551f-1597">Backing up hello VM which contains hello global directory of hello SAP system and with it all hello profiles of hello different instances, does make sense and should be performed with Windows Backup or, for example, tar on Linux.</span></span> <span data-ttu-id="0551f-1598">Dans la mesure où il existe des différences entre Windows Server 2008 (R2) et Windows Server 2012 (R2), ce qui rend plus facile tooback à l’aide de hello mises à jour plus récentes de Windows Server, nous vous recommandons toorun Windows Server 2012 (R2) en tant que système de d’exploitation invité de Windows.</span><span class="sxs-lookup"><span data-stu-id="0551f-1598">Since there are differences between Windows Server 2008 (R2) and Windows Server 2012 (R2), which make it easier tooback up using hello more recent Windows Server releases, we recommend toorun Windows Server 2012 (R2) as Windows guest operating system.</span></span>
