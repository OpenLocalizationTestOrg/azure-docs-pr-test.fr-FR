---
title: "Créer des environnements de plusieurs machines virtuelles et des ressources PaaS avec les modèles Azure Resource Manager | Microsoft Docs"
description: "Découvrez comment créer des environnements de plusieurs machines virtuelles et des ressources PaaS dans Azure DevTest Labs à partir d’un modèle Azure Resource Manager"
services: devtest-lab,virtual-machines,visual-studio-online
documentationcenter: na
author: tomarcher
manager: douge
editor: 
ms.assetid: 
ms.service: devtest-lab
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/31/2017
ms.author: tarcher
ms.openlocfilehash: 4e1aae6c041e4572e7e2281203f969e7649e1480
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="create-multi-vm-environments-and-paas-resources-with-azure-resource-manager-templates"></a><span data-ttu-id="7fd40-103">Créer des environnements de plusieurs machines virtuelles et des ressources PaaS avec les modèles Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="7fd40-103">Create multi-VM environments and PaaS resources with Azure Resource Manager templates</span></span>

<span data-ttu-id="7fd40-104">Le [portail Azure ](http://go.microsoft.com/fwlink/p/?LinkID=525040) vous permet de [créer et d’ajouter facilement une machine virtuelle à un laboratoire](https://docs.microsoft.com/en-us/azure/devtest-lab/devtest-lab-add-vm).</span><span class="sxs-lookup"><span data-stu-id="7fd40-104">The [Azure portal](http://go.microsoft.com/fwlink/p/?LinkID=525040) enables you to easily [create and add a VM to a lab](https://docs.microsoft.com/en-us/azure/devtest-lab/devtest-lab-add-vm).</span></span> <span data-ttu-id="7fd40-105">Cela fonctionne bien pour la création d’une machine virtuelle à la fois.</span><span class="sxs-lookup"><span data-stu-id="7fd40-105">This works well for creating one VM at a time.</span></span> <span data-ttu-id="7fd40-106">Toutefois, si l’environnement contient plusieurs machines virtuelles, chaque machine virtuelle doit être créée individuellement.</span><span class="sxs-lookup"><span data-stu-id="7fd40-106">However, if the environment contains multiple VMs, each VM has to be individually created.</span></span> <span data-ttu-id="7fd40-107">Pour des scénarios comme une application web à plusieurs niveaux ou une batterie de serveurs SharePoint, un mécanisme est nécessaire pour permettre la création de plusieurs machines virtuelles en une seule étape.</span><span class="sxs-lookup"><span data-stu-id="7fd40-107">For scenarios such as a multi-tier Web app or a SharePoint farm, a mechanism is needed to allow for the creation of multiple VMs in a single step.</span></span> <span data-ttu-id="7fd40-108">Les modèles Azure Resource Manager, vous permettent désormais de définir l’infrastructure et la configuration de votre solution Azure et de déployer de manière répétée plusieurs machines virtuelles dans un état cohérent.</span><span class="sxs-lookup"><span data-stu-id="7fd40-108">By using Azure Resource Manager templates, you can now define the infrastructure and configuration of your Azure solution and repeatedly deploy multiple VMs in a consistent state.</span></span> <span data-ttu-id="7fd40-109">Cette fonctionnalité permet de bénéficier des avantages suivants :</span><span class="sxs-lookup"><span data-stu-id="7fd40-109">This feature provides the following benefits:</span></span>

- <span data-ttu-id="7fd40-110">Les modèles Azure Resource Manager sont chargés directement à partir de votre dépôt de contrôle de code source (GitHub ou Team Services Git).</span><span class="sxs-lookup"><span data-stu-id="7fd40-110">Azure Resource Manager templates are loaded directly from your source control repository (GitHub or Team Services Git).</span></span>
- <span data-ttu-id="7fd40-111">Suite à la configuration, vos utilisateurs peuvent créer un environnement en choisissant un modèle Azure Resource Manager à partir du portail Azure, ce qu’ils peuvent faire avec les autres types de [bases de machines virtuelles](./devtest-lab-comparing-vm-base-image-types.md).</span><span class="sxs-lookup"><span data-stu-id="7fd40-111">Once configured, your users can create an environment by picking an Azure Resource Manager template from the Azure portal as what they can do with other types of [VM bases](./devtest-lab-comparing-vm-base-image-types.md).</span></span>
- <span data-ttu-id="7fd40-112">Les ressources PaaS Azure peuvent être approvisionnées dans un environnement à partir d’un modèle Azure Resource Manager, en plus des machines virtuelles IaaS.</span><span class="sxs-lookup"><span data-stu-id="7fd40-112">Azure PaaS resources can be provisioned in an environment from an Azure Resource Manager template in addition to IaaS VMs.</span></span>
- <span data-ttu-id="7fd40-113">Le coût des environnements peut être suivi dans le laboratoire en plus des machines virtuelles créées par d’autres types de bases.</span><span class="sxs-lookup"><span data-stu-id="7fd40-113">The cost of environments can be tracked in the lab in addition to individual VMs created by other types of bases.</span></span>
- <span data-ttu-id="7fd40-114">Une fois créées, les ressources PaaS s’affichent dans le suivi des coûts. Notez que l’arrêt automatique des machines virtuelles ne s’applique pas aux ressources PaaS.</span><span class="sxs-lookup"><span data-stu-id="7fd40-114">PaaS resources are created and will appear in cost tracking; however, VM auto shutdown does not apply to PaaS resources.</span></span>
- <span data-ttu-id="7fd40-115">Les utilisateurs disposent du même contrôle de stratégie sur les machines virtuelles des environnements que sur celles d’un laboratoire.</span><span class="sxs-lookup"><span data-stu-id="7fd40-115">Users have the same VM policy control for environments as they have for single-lab VMs.</span></span>

<span data-ttu-id="7fd40-116">Découvrez les nombreux [avantages de l’utilisation des modèles Resource Manager](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-overview#the-benefits-of-using-resource-manager) pour déployer, mettre à jour et supprimer toutes vos ressources lab en une seule opération.</span><span class="sxs-lookup"><span data-stu-id="7fd40-116">Learn more about the many [benefits of using Resource Manager templates](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-overview#the-benefits-of-using-resource-manager) to deploy, update, or delete all of your lab resources in a single operation.</span></span>

> [!NOTE]
> <span data-ttu-id="7fd40-117">Si vous utilisez un modèle Resource Manager comme base pour créer des machines virtuelles de laboratoire, sachez qu’il existe des différences entre la création d’un groupe de machines virtuelles et celle de plusieurs machines virtuelles individuelles.</span><span class="sxs-lookup"><span data-stu-id="7fd40-117">When you use a Resource Manager template as a basis to create more lab VMs, there are some differences to keep in mind whether you are creating Multi-VMs or single-VMs.</span></span> <span data-ttu-id="7fd40-118">La rubrique « Utiliser un modèle Resource Manager de machine virtuelle » explique ces différences en détail.</span><span class="sxs-lookup"><span data-stu-id="7fd40-118">Use a virtual machine's Azure Resource Manager template explains these differences in greater detail.</span></span>
>
>

## <a name="configure-azure-resource-manager-template-repositories"></a><span data-ttu-id="7fd40-119">Configurer les dépôts du modèle Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="7fd40-119">Configure Azure Resource Manager template repositories</span></span>

<span data-ttu-id="7fd40-120">Dans le cadre des bonnes pratiques liées à l’Infrastructure as Code et à la Configuration as Code, des modèles d’environnement doivent être gérés dans le contrôle de code source.</span><span class="sxs-lookup"><span data-stu-id="7fd40-120">As one of the best practices with infrastructure-as-code and configuration-as-code, environment templates should be managed in source control.</span></span> <span data-ttu-id="7fd40-121">Azure DevTest Labs suit cette pratique et charge tous les modèles Azure Resource Manager directement à partir de vos dépôts GitHub ou VSTS Git.</span><span class="sxs-lookup"><span data-stu-id="7fd40-121">Azure DevTest Labs follows this practice and loads all Azure Resource Manager templates directly from your GitHub or VSTS Git repositories.</span></span> <span data-ttu-id="7fd40-122">Par conséquent, les modèles Resource Manager peuvent être utilisés tout le long du cycle de publication, de l’environnement de test jusqu’à l’environnement de production.</span><span class="sxs-lookup"><span data-stu-id="7fd40-122">As a result, Resource Manager templates can be used across the entire release cycle, from the test environment to the production environment.</span></span>

<span data-ttu-id="7fd40-123">Quelques règles sont à prendre en compte pour organiser vos modèles Azure Resource Manager dans un dépôt :</span><span class="sxs-lookup"><span data-stu-id="7fd40-123">There are a couple of rules to follow to organize your Azure Resource Manager templates in a repository:</span></span>

- <span data-ttu-id="7fd40-124">Le fichier de modèle principal doit être nommé `azuredeploy.json`.</span><span class="sxs-lookup"><span data-stu-id="7fd40-124">The master template file must be named `azuredeploy.json`.</span></span> 

    ![Fichiers de modèle Azure Resource Manager clés](./media/devtest-lab-create-environment-from-arm/master-template.png)

- <span data-ttu-id="7fd40-126">Si vous souhaitez utiliser des valeurs de paramètres définies dans un fichier de paramètres, le fichier de paramètres doit être nommé `azuredeploy.parameters.json`.</span><span class="sxs-lookup"><span data-stu-id="7fd40-126">If you want to use parameter values defined in a parameter file, the parameter file must be named `azuredeploy.parameters.json`.</span></span>
- <span data-ttu-id="7fd40-127">Vous pouvez utiliser les paramètres `_artifactsLocation` et `_artifactsLocationSasToken` pour créer la valeur de l’URI parametersLink et permettre à DevTest Labs de gérer automatiquement les modèles imbriqués.</span><span class="sxs-lookup"><span data-stu-id="7fd40-127">You can use the parameters `_artifactsLocation` and `_artifactsLocationSasToken` to construct the parametersLink URI value, allowing DevTest Labs to automatically manage nested templates.</span></span> <span data-ttu-id="7fd40-128">Pour plus d’informations, consultez [How Azure DevTest Labs makes nested Resource Manager template deployments easier for testing environments](https://blogs.msdn.microsoft.com/devtestlab/2017/05/23/how-azure-devtest-labs-makes-nested-arm-template-deployments-easier-for-testing-environments/).</span><span class="sxs-lookup"><span data-stu-id="7fd40-128">See [How Azure DevTest Labs makes nested Resource Manager template deployments easier for testing environments](https://blogs.msdn.microsoft.com/devtestlab/2017/05/23/how-azure-devtest-labs-makes-nested-arm-template-deployments-easier-for-testing-environments/) for more information.</span></span>
- <span data-ttu-id="7fd40-129">Les métadonnées peuvent être définies pour spécifier le nom d’affichage et la description du modèle.</span><span class="sxs-lookup"><span data-stu-id="7fd40-129">Metadata can be defined to specify the template display name and description.</span></span> <span data-ttu-id="7fd40-130">Ces métadonnées doivent être dans un fichier nommé `metadata.json`.</span><span class="sxs-lookup"><span data-stu-id="7fd40-130">This metadata must be in a file named `metadata.json`.</span></span> <span data-ttu-id="7fd40-131">Le fichier de métadonnées d’exemple suivant montre comment spécifier le nom d’affichage et la description :</span><span class="sxs-lookup"><span data-stu-id="7fd40-131">The following example metadata file illustrates how to specify the display name and description:</span></span> 

```json
{
 
"itemDisplayName": "<your template name>",
 
"description": "<description of the template>"
 
}
```

<span data-ttu-id="7fd40-132">Les étapes suivantes vous guident pour ajouter un dépôt dans votre laboratoire à l’aide du portail Azure.</span><span class="sxs-lookup"><span data-stu-id="7fd40-132">The following steps guide you through adding a repository to your lab using the Azure portal.</span></span> 

1. <span data-ttu-id="7fd40-133">Connectez-vous au [portail Azure](http://go.microsoft.com/fwlink/p/?LinkID=525040).</span><span class="sxs-lookup"><span data-stu-id="7fd40-133">Sign in to the [Azure portal](http://go.microsoft.com/fwlink/p/?LinkID=525040).</span></span>
1. <span data-ttu-id="7fd40-134">Sélectionnez **Autres services**, puis **DevTest Labs** dans la liste.</span><span class="sxs-lookup"><span data-stu-id="7fd40-134">Select **More Services**, and then select **DevTest Labs** from the list.</span></span>
1. <span data-ttu-id="7fd40-135">Sélectionnez le laboratoire souhaité dans la liste des laboratoires.</span><span class="sxs-lookup"><span data-stu-id="7fd40-135">From the list of labs, select the desired lab.</span></span>   
1. <span data-ttu-id="7fd40-136">Dans le panneau du laboratoire, sélectionnez **Configuration et stratégies**.</span><span class="sxs-lookup"><span data-stu-id="7fd40-136">On the lab's blade, select **Configuration and Policies**.</span></span>

    ![Configuration et stratégies](./media/devtest-lab-create-environment-from-arm/configuration-and-policies-menu.png)

1. <span data-ttu-id="7fd40-138">À partir de la liste de paramètres **Configuration et stratégies**, sélectionnez **Dépôts**.</span><span class="sxs-lookup"><span data-stu-id="7fd40-138">From the **Configuration and Policies** settings list, select **Repositories**.</span></span> <span data-ttu-id="7fd40-139">Le panneau **Dépôts** liste les dépôts qui ont été ajoutés au laboratoire.</span><span class="sxs-lookup"><span data-stu-id="7fd40-139">The **Repositories** blade lists the repositories that have been added to the lab.</span></span> <span data-ttu-id="7fd40-140">Un dépôt nommé `Public Repo` est généré automatiquement pour tous les laboratoires et se connecte au [dépôt GitHub de DevTest Labs](https://github.com/Azure/azure-devtestlab) qui contient plusieurs artefacts de machine virtuelle que vous pouvez utiliser.</span><span class="sxs-lookup"><span data-stu-id="7fd40-140">A repository named `Public Repo` is automatically generated for all labs, and connects to the [DevTest Labs GitHub repo](https://github.com/Azure/azure-devtestlab) that contains several VM artifacts for your use.</span></span>

    ![Dépôt public](./media/devtest-lab-create-environment-from-arm/public-repo.png)

1. <span data-ttu-id="7fd40-142">Sélectionnez **Ajouter +** pour ajouter votre dépôt de modèle Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="7fd40-142">Select **Add+** to add your Azure Resource Manager template repository.</span></span>
1. <span data-ttu-id="7fd40-143">Lorsque le second panneau **Dépôts** s’ouvre, entrez les informations nécessaires comme suit :</span><span class="sxs-lookup"><span data-stu-id="7fd40-143">When the second **Repositories** blade opens, enter the necessary information as follows:</span></span>
    - <span data-ttu-id="7fd40-144">**Nom** : entrez le nom du dépôt utilisé dans le laboratoire.</span><span class="sxs-lookup"><span data-stu-id="7fd40-144">**Name** - Enter the repository name that is used in the lab.</span></span>
    - <span data-ttu-id="7fd40-145">**URL de clonage Git** : entrez l’URL de clonage Git HTTPS provenant de GitHub ou Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="7fd40-145">**Git clone URL** - Enter the GIT HTTPS clone URL from GitHub or Visual Studio Team Services.</span></span>  
    - <span data-ttu-id="7fd40-146">**Branche** : entrez le nom de la branche pour accéder à vos définitions de modèle Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="7fd40-146">**Branch** - Enter the branch name to access your Azure Resource Manager template definitions.</span></span> 
    - <span data-ttu-id="7fd40-147">**Jeton d’accès personnel** : le jeton d’accès personnel est utilisé pour accéder en toute sécurité à votre dépôt.</span><span class="sxs-lookup"><span data-stu-id="7fd40-147">**Personal access token** - The personal access token is used to securely access your repository.</span></span> <span data-ttu-id="7fd40-148">Pour obtenir votre jeton à partir de Visual Studio Team Services, sélectionnez **&lt;YourName > > Mon profil > Sécurité > Public access token (Jeton d’accès public)**.</span><span class="sxs-lookup"><span data-stu-id="7fd40-148">To get your token from Visual Studio Team Services, select **&lt;YourName> > My profile > Security > Public access token**.</span></span> <span data-ttu-id="7fd40-149">Pour obtenir votre jeton à partir de GitHub, sélectionnez votre avatar, puis sélectionnez **Paramètres > Public access token (Jeton d’accès public)**.</span><span class="sxs-lookup"><span data-stu-id="7fd40-149">To get your token from GitHub, select your avatar followed by selecting **Settings > Public access token**.</span></span> 
    - <span data-ttu-id="7fd40-150">**Chemins d’accès du dossier**  : en utilisant l’un des deux champs d’entrée, entrez le chemin d’accès du dossier qui commence par une barre oblique - / - et est relatif à votre Url de clonage Git de vos définitions d’artefacts (premier champ d’entrée) ou de vos définitions de modèle Azure.</span><span class="sxs-lookup"><span data-stu-id="7fd40-150">**Folder paths** - Using one of the two input fields, enter the folder path that starts with a forward slash - / - and is relative to your Git clone URI to either your artifact definitions (first input field) or your Azure Resource Manager template definitions.</span></span>   
    
        ![Dépôt public](./media/devtest-lab-create-environment-from-arm/repo-values.png)

1. <span data-ttu-id="7fd40-152">Une fois tous les champs nécessaires renseignés et validés, cliquez sur **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="7fd40-152">Once all the required fields are entered and pass the validation, select **Save**.</span></span>

<span data-ttu-id="7fd40-153">La section suivante vous guidera dans la création d’environnements à partir d’un modèle Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="7fd40-153">The next section will walk you through creating environments from an Azure Resource Manager template.</span></span>

## <a name="create-an-environment-from-an-azure-resource-manager-template"></a><span data-ttu-id="7fd40-154">Créer un environnement à partir d’un modèle Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="7fd40-154">Create an environment from an Azure Resource Manager template</span></span>

<span data-ttu-id="7fd40-155">Une fois qu’un dépôt de modèles Azure Resource Manager a été configuré dans le laboratoire, vos utilisateurs de laboratoire peuvent créer un environnement à l’aide du portail Azure en procédant comme suit :</span><span class="sxs-lookup"><span data-stu-id="7fd40-155">Once an Azure Resource Manager template repository has been configured in the lab, your lab users can create an environment using Azure portal with the following steps:</span></span>

1. <span data-ttu-id="7fd40-156">Connectez-vous au [portail Azure](http://go.microsoft.com/fwlink/p/?LinkID=525040).</span><span class="sxs-lookup"><span data-stu-id="7fd40-156">Sign in to the [Azure portal](http://go.microsoft.com/fwlink/p/?LinkID=525040).</span></span>
1. <span data-ttu-id="7fd40-157">Sélectionnez **Autres services**, puis **DevTest Labs** dans la liste.</span><span class="sxs-lookup"><span data-stu-id="7fd40-157">Select **More Services**, and then select **DevTest Labs** from the list.</span></span>
1. <span data-ttu-id="7fd40-158">Sélectionnez le laboratoire souhaité dans la liste des laboratoires.</span><span class="sxs-lookup"><span data-stu-id="7fd40-158">From the list of labs, select the desired lab.</span></span>   
1. <span data-ttu-id="7fd40-159">Dans le panneau du laboratoire, sélectionnez **Ajouter +**.</span><span class="sxs-lookup"><span data-stu-id="7fd40-159">On the lab's blade, select **Add+**.</span></span>
1. <span data-ttu-id="7fd40-160">Le panneau **Choisir une base** affiche les images de base que vous pouvez utiliser avec les modèles Azure Resource Manager répertoriés en premier.</span><span class="sxs-lookup"><span data-stu-id="7fd40-160">The **Choose a base** blade displays the base images you can use with the Azure Resource Manager templates listed first.</span></span> <span data-ttu-id="7fd40-161">Sélectionnez le modèle Azure Resource Manager souhaité.</span><span class="sxs-lookup"><span data-stu-id="7fd40-161">Select the desired Azure Resource Manager template.</span></span>

    ![Choisir une base](./media/devtest-lab-create-environment-from-arm/choose-a-base.png)
  
1. <span data-ttu-id="7fd40-163">Dans le panneau **Ajouter**, entrez la valeur **Nom de l’environnement**.</span><span class="sxs-lookup"><span data-stu-id="7fd40-163">On the **Add** blade, enter the **Environment name** value.</span></span> <span data-ttu-id="7fd40-164">Le nom de l’environnement est ce qui est affiché aux utilisateurs dans le laboratoire.</span><span class="sxs-lookup"><span data-stu-id="7fd40-164">The environment name is what is displayed to your users in the lab.</span></span> <span data-ttu-id="7fd40-165">Les autres champs d’entrée sont définis dans le modèle Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="7fd40-165">The remaining input fields are defined in the Azure Resource Manager template.</span></span> <span data-ttu-id="7fd40-166">Si les valeurs par défaut sont définies dans le modèle ou si le fichier `azuredeploy.parameter.json` est présent, les valeurs par défaut sont affichées dans ces champs d’entrée.</span><span class="sxs-lookup"><span data-stu-id="7fd40-166">If default values are defined in the template or the `azuredeploy.parameter.json` file is present, default values are displayed in those input fields.</span></span> <span data-ttu-id="7fd40-167">Pour les paramètres de type *chaîne sécurisée*, vous pouvez utiliser les secrets stockés dans le [magasin personnel des secrets](https://azure.microsoft.com/en-us/updates/azure-devtest-labs-keep-your-secrets-safe-and-easy-to-use-with-the-new-personal-secret-store) du laboratoire.</span><span class="sxs-lookup"><span data-stu-id="7fd40-167">For parameters of type *secure string*, you can use the secrets stored in the lab’s [personal secret store](https://azure.microsoft.com/en-us/updates/azure-devtest-labs-keep-your-secrets-safe-and-easy-to-use-with-the-new-personal-secret-store).</span></span>

    ![Ajouter un panneau](./media/devtest-lab-create-environment-from-arm/add.png)

    > [!NOTE]
    > <span data-ttu-id="7fd40-169">Il existe plusieurs valeurs de paramètres, même quand elles sont spécifiées, qui sont affichées sous forme de valeurs vides.</span><span class="sxs-lookup"><span data-stu-id="7fd40-169">There are several parameter values that - even if specified - are displayed as empty values.</span></span> <span data-ttu-id="7fd40-170">Par conséquent, si les utilisateurs affectent ces valeurs aux paramètres dans un modèle Azure Resource Manager, DevTest Labs n’affiche pas les valeurs ; au lieu de cela des champs d’entrée vides sont affichés et les utilisateurs du laboratoire doivent les renseigner lors de la création de l’environnement.</span><span class="sxs-lookup"><span data-stu-id="7fd40-170">Therefore, if users assign those values to parameters in an Azure Resource Manager template, DevTest Labs does not display the values; instead showing blank input fields where the lab users need to enter a value when creating the environment.</span></span>
    > 
    > - <span data-ttu-id="7fd40-171">GEN-UNIQUE</span><span class="sxs-lookup"><span data-stu-id="7fd40-171">GEN-UNIQUE</span></span>
    > - <span data-ttu-id="7fd40-172">GEN-UNIQUE-[N]</span><span class="sxs-lookup"><span data-stu-id="7fd40-172">GEN-UNIQUE-[N]</span></span>
    > - <span data-ttu-id="7fd40-173">GEN-SSH-PUB-KEY</span><span class="sxs-lookup"><span data-stu-id="7fd40-173">GEN-SSH-PUB-KEY</span></span>
    > - <span data-ttu-id="7fd40-174">GEN-PASSWORD</span><span class="sxs-lookup"><span data-stu-id="7fd40-174">GEN-PASSWORD</span></span> 
 
1. <span data-ttu-id="7fd40-175">Sélectionnez **Ajouter** pour créer l’environnement.</span><span class="sxs-lookup"><span data-stu-id="7fd40-175">Select **Add** to create the environment.</span></span> <span data-ttu-id="7fd40-176">L’environnement lance immédiatement l’approvisionnement avec l’affichage de l’état dans la liste **Mes machines virtuelles**.</span><span class="sxs-lookup"><span data-stu-id="7fd40-176">The environment starts provisioning immediately with the status displaying in the **My virtual machines** list.</span></span> <span data-ttu-id="7fd40-177">Un groupe de ressources est automatiquement créé par le laboratoire pour approvisionner toutes les ressources définies dans le modèle Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="7fd40-177">A new resource group is automatically created by the lab to provision all the resources defined in the Azure Resource Manager template.</span></span>
1. <span data-ttu-id="7fd40-178">Une fois que l’environnement est créé, sélectionnez-le dans la liste **Mes machines virtuelles** pour ouvrir le panneau du groupe de ressources et parcourir les ressources approvisionnées dans l’environnement.</span><span class="sxs-lookup"><span data-stu-id="7fd40-178">Once the environment is created, select the environment in the **My virtual machines** list to open the resource group blade and browse all of the resources provisioned in the environment.</span></span>
    
    ![Liste Mes machines virtuelles](./media/devtest-lab-create-environment-from-arm/all-environment-resources.png)
   
   <span data-ttu-id="7fd40-180">Vous pouvez également développer l’environnement pour afficher uniquement la liste des machines virtuelles qui sont approvisionnées dans l’environnement.</span><span class="sxs-lookup"><span data-stu-id="7fd40-180">You can also expand the environment to view just the list of VMs that are provisioned in the environment.</span></span>
    
    ![Liste Mes machines virtuelles](./media/devtest-lab-create-environment-from-arm/my-vm-list.png)

1. <span data-ttu-id="7fd40-182">Cliquez sur l’un des environnements pour afficher les actions disponibles comme appliquer des artefacts, attacher des disques de données, modifier le temps d’arrêt automatique, etc.</span><span class="sxs-lookup"><span data-stu-id="7fd40-182">Click any of the environments to view the available actions - such as applying artifacts, attaching data disks, changing auto-shutdown time, and more.</span></span>

    ![Actions de l’environnement](./media/devtest-lab-create-environment-from-arm/environment-actions.png)

## <a name="next-steps"></a><span data-ttu-id="7fd40-184">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="7fd40-184">Next steps</span></span>
* <span data-ttu-id="7fd40-185">Après la création d’une machine virtuelle, vous pouvez vous connecter à celle-ci en sélectionnant **Connexion** dans le panneau de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="7fd40-185">Once a VM has been created, you can connect to the VM by selecting **Connect** on the VM's blade.</span></span>
* <span data-ttu-id="7fd40-186">Vous pouvez afficher et gérer les ressources d’un environnement en sélectionnant celui-ci dans la liste **Mes machines virtuelles** de votre laboratoire.</span><span class="sxs-lookup"><span data-stu-id="7fd40-186">View and manage resources in an environment by selecting the environment in the **My virtual machines** list in your lab.</span></span> 
* <span data-ttu-id="7fd40-187">Explorez les [modèles Azure Resource Manager de la galerie de modèles Azure QuickStart](https://github.com/Azure/azure-quickstart-templates)</span><span class="sxs-lookup"><span data-stu-id="7fd40-187">Explore the [Azure Resource Manager templates from Azure Quickstart template gallery](https://github.com/Azure/azure-quickstart-templates)</span></span>
