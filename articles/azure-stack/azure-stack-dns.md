---
title: aaaDNS dans la pile de Azure | Documents Microsoft
description: DNS dans Azure Stack
services: azure-stack
documentationcenter: 
author: ScottNapolitan
manager: byronr
editor: 
ms.assetid: 
ms.service: azure-stack
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 7/27/2017
ms.author: victorh
ms.openlocfilehash: 8620178833ac29e9653cce332b7c5d89bbdea0af
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="dns-in-azure-stack"></a><span data-ttu-id="f4300-103">DNS dans Azure Stack</span><span class="sxs-lookup"><span data-stu-id="f4300-103">DNS in Azure Stack</span></span>
<span data-ttu-id="f4300-104">Pile Azure inclut hello suivant les fonctionnalités DNS :</span><span class="sxs-lookup"><span data-stu-id="f4300-104">Azure Stack includes hello following DNS features:</span></span>
* <span data-ttu-id="f4300-105">Prise en charge de la résolution de nom d’hôte DNS</span><span class="sxs-lookup"><span data-stu-id="f4300-105">Support for DNS hostname resolution</span></span>
* <span data-ttu-id="f4300-106">Création et gestion des enregistrements et zones DNS à l’aide d’API</span><span class="sxs-lookup"><span data-stu-id="f4300-106">Create and manage DNS zones and records using API</span></span>

## <a name="support-for-dns-hostname-resolution"></a><span data-ttu-id="f4300-107">Prise en charge de la résolution de nom d’hôte DNS</span><span class="sxs-lookup"><span data-stu-id="f4300-107">Support for DNS hostname resolution</span></span>
<span data-ttu-id="f4300-108">Vous pouvez spécifier une étiquette de nom de domaine DNS pour une ressource IP publique, qui crée un mappage pour *domainnamelabel.location*. cloudapp.azurestack.external toohello adresse IP publique Bonjour Azure pile géré des serveurs DNS.</span><span class="sxs-lookup"><span data-stu-id="f4300-108">You can specify a DNS domain name label for a public IP resource, which creates a mapping for *domainnamelabel.location*.cloudapp.azurestack.external toohello public IP address in hello Azure Stack managed DNS servers.</span></span>  

<span data-ttu-id="f4300-109">Par exemple, si vous créez une ressource IP publique avec **contoso** en tant qu’étiquette de nom de domaine Bonjour emplacement de pile Azure locale, hello le nom de domaine complet (FQDN) **contoso.local.cloudapp.azurestack.external** résout l’adresse IP publique de toohello de ressource de hello.</span><span class="sxs-lookup"><span data-stu-id="f4300-109">For example, if you create a public IP resource with **contoso** as a domain name label in hello Local Azure Stack location, hello fully qualified domain name (FQDN) **contoso.local.cloudapp.azurestack.external** resolves toohello public IP address of hello resource.</span></span> <span data-ttu-id="f4300-110">Vous pouvez utiliser ce nom de domaine complet de toocreate un enregistrement CNAME qui pointe l’adresse IP publique de toohello dans la pile de Azure de domaine personnalisé.</span><span class="sxs-lookup"><span data-stu-id="f4300-110">You can use this FQDN toocreate a custom domain CNAME record that points toohello public IP address in Azure Stack.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f4300-111">Chaque étiquette de nom de domaine créée doit être unique dans son emplacement Azure Stack.</span><span class="sxs-lookup"><span data-stu-id="f4300-111">Each domain name label created must be unique within its Azure Stack location.</span></span>

<span data-ttu-id="f4300-112">Si vous créez des adresse IP publique hello à l’aide du portail de hello, il ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="f4300-112">If you create hello public IP address using hello portal, it looks like this:</span></span>

![Création d’une adresse IP publique](media/azure-stack-whats-new-dns/image01.png)

<span data-ttu-id="f4300-114">Cette configuration est utile si vous souhaitez tooassociate une adresse IP publique avec une ressource à charge équilibrée.</span><span class="sxs-lookup"><span data-stu-id="f4300-114">This configuration is useful if you want tooassociate a public IP address with a load-balanced resource.</span></span> <span data-ttu-id="f4300-115">Par exemple, vous pouvez avoir un équilibreur de charge traitant les demandes à partir d’une application web.</span><span class="sxs-lookup"><span data-stu-id="f4300-115">For example, you might have a load balancer processing requests from a web application.</span></span> <span data-ttu-id="f4300-116">Derrière la charge de hello équilibrage de charge est un site web situé sur un ou plusieurs ordinateurs virtuels.</span><span class="sxs-lookup"><span data-stu-id="f4300-116">Behind hello load balancer is a web site located  on one or more virtual machines.</span></span> <span data-ttu-id="f4300-117">Désormais, vous pouvez accéder hello le site web avec équilibrage de charge par un nom DNS, plutôt que par une adresse IP.</span><span class="sxs-lookup"><span data-stu-id="f4300-117">Now you can access hello load-balanced web site by a DNS name, rather than by an IP address.</span></span>

## <a name="create-and-manage-dns-zones-and-records-using-api"></a><span data-ttu-id="f4300-118">Créer et gérer des enregistrements et zones DNS à l’aide d’API</span><span class="sxs-lookup"><span data-stu-id="f4300-118">Create and manage DNS zones and records using API</span></span>
<span data-ttu-id="f4300-119">Vous pouvez créer et gérer des enregistrements et des zones DNS dans Azure Stack.</span><span class="sxs-lookup"><span data-stu-id="f4300-119">You can create and manage DNS zones and records in Azure Stack.</span></span>  

<span data-ttu-id="f4300-120">Azure Stack fournit un service DNS comme celui d’Azure, à l’aide d’API qui sont cohérentes avec les API DNS Azure.</span><span class="sxs-lookup"><span data-stu-id="f4300-120">Azure Stack provides a DNS service like Azure’s, using APIs that are consistent with Azure’s DNS APIs.</span></span>  <span data-ttu-id="f4300-121">En hébergeant vos domaines dans Azure pile DNS, vous pouvez gérer vos enregistrements DNS avec hello même informations d’identification, API, outils, la facturation et la prise en charge en tant que vos autres services Azure.</span><span class="sxs-lookup"><span data-stu-id="f4300-121">By hosting your domains in Azure Stack DNS, you can manage your DNS records with hello same credentials, APIs, tools, billing, and support as your other Azure services.</span></span> 

<span data-ttu-id="f4300-122">Pour des raisons évidentes, infrastructure de DNS de pile Azure hello est plus compact que d’Azure.</span><span class="sxs-lookup"><span data-stu-id="f4300-122">For obvious reasons, hello Azure Stack DNS infrastructure is more compact than Azure's.</span></span> <span data-ttu-id="f4300-123">Par conséquent, hello étendue, l’échelle et les performances dépendent de montée en puissance hello du déploiement d’Azure pile hello et environnement hello où il est déployé.</span><span class="sxs-lookup"><span data-stu-id="f4300-123">Thus, hello scope, scale, and performance depend on hello scale of hello Azure Stack deployment and hello environment where it is deployed.</span></span>  <span data-ttu-id="f4300-124">Par conséquent, des éléments tels que les performances, la disponibilité, la distribution globale et haute disponibilité (HA) peuvent varier de déploiement toodeployment.</span><span class="sxs-lookup"><span data-stu-id="f4300-124">So, things like performance, availability, global distribution, and High-Availability (HA) can vary from deployment toodeployment.</span></span>

## <a name="comparison-with-azure-dns"></a><span data-ttu-id="f4300-125">Comparaison avec le système DNS Azure</span><span class="sxs-lookup"><span data-stu-id="f4300-125">Comparison with Azure DNS</span></span>
<span data-ttu-id="f4300-126">DNS dans la pile de Azure est semblable tooDNS dans Azure, avec deux exceptions majeures :</span><span class="sxs-lookup"><span data-stu-id="f4300-126">DNS in Azure Stack is similar tooDNS in Azure, with two major exceptions:</span></span>
* <span data-ttu-id="f4300-127">**Il ne prend pas en charge les enregistrements AAAA**</span><span class="sxs-lookup"><span data-stu-id="f4300-127">**It does not support AAAA records**</span></span>

    <span data-ttu-id="f4300-128">Azure Stack ne prend pas en charge les enregistrements AAAA, car il ne prend pas en charge les adresses IPv6.</span><span class="sxs-lookup"><span data-stu-id="f4300-128">Azure Stack does NOT support AAAA records because Azure Stack does not support IPv6 addresses.</span></span>  <span data-ttu-id="f4300-129">Il s’agit d’une différence essentielle entre les systèmes DNS Azure et Azure Stack.</span><span class="sxs-lookup"><span data-stu-id="f4300-129">This is a key difference between DNS in Azure and Azure Stack.</span></span>
* <span data-ttu-id="f4300-130">**Il n’est pas multilocataire**</span><span class="sxs-lookup"><span data-stu-id="f4300-130">**It is not multi-tenant**</span></span>

    <span data-ttu-id="f4300-131">Contrairement à Azure, hello Service DNS dans la pile de Azure n’est pas multilocataire.</span><span class="sxs-lookup"><span data-stu-id="f4300-131">Unlike Azure, hello DNS Service in Azure Stack is not multi-tenant.</span></span> <span data-ttu-id="f4300-132">Afin que chaque client ne peut pas créer hello même zone DNS.</span><span class="sxs-lookup"><span data-stu-id="f4300-132">So each tenant cannot create hello same DNS zone.</span></span> <span data-ttu-id="f4300-133">Uniquement hello premier abonnement qui tente de zone de hello toocreate réussit, et les requêtes suivantes échouent.</span><span class="sxs-lookup"><span data-stu-id="f4300-133">Only hello first subscription that attempts toocreate hello zone succeeds, and subsequent requests fail.</span></span>  <span data-ttu-id="f4300-134">Il s’agit d’un problème connu et d’une différence essentielle entre le système DNS dans Azure et dans Azure Stack.</span><span class="sxs-lookup"><span data-stu-id="f4300-134">It is a known issue, and a key difference between Azure and Azure Stack DNS.</span></span> <span data-ttu-id="f4300-135">Ce problème sera résolu dans une version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="f4300-135">This issue will be resolved in a future release.</span></span>

<span data-ttu-id="f4300-136">En outre, il existe des différences mineures dans la façon dont le système DNS Azure Stack implémente les balises, les métadonnées, les ETags et les limites.</span><span class="sxs-lookup"><span data-stu-id="f4300-136">In addition, there are some minor differences in how Azure Stack DNS implements Tags, Metadata, Etags, and Limits.</span></span>

<span data-ttu-id="f4300-137">Bonjour informations suivantes s’applique spécifiquement tooAzure DNS de la pile et varient légèrement d’Azure DNS.</span><span class="sxs-lookup"><span data-stu-id="f4300-137">hello following information applies specifically tooAzure Stack DNS and varies slightly from Azure DNS.</span></span> <span data-ttu-id="f4300-138">toolearn en savoir plus sur Azure DNS, consultez [DNS zones et enregistrements](../dns/dns-zones-records.md) au site de documentation de Microsoft Azure hello.</span><span class="sxs-lookup"><span data-stu-id="f4300-138">toolearn more about Azure DNS, see [DNS zones and records](../dns/dns-zones-records.md) at hello Microsoft Azure documentation site.</span></span>

### <a name="tags-metadata-and-etags"></a><span data-ttu-id="f4300-139">Balises, métadonnées et ETags</span><span class="sxs-lookup"><span data-stu-id="f4300-139">Tags, metadata, and Etags</span></span>

<span data-ttu-id="f4300-140">**Balises**</span><span class="sxs-lookup"><span data-stu-id="f4300-140">**Tags**</span></span>

<span data-ttu-id="f4300-141">Le système DNS Azure Stack prend en charge l’utilisation de balises Azure Resource Manager sur des ressources de zone DNS.</span><span class="sxs-lookup"><span data-stu-id="f4300-141">Azure Stack DNS supports using Azure Resource Manager tags on DNS zone resources.</span></span> <span data-ttu-id="f4300-142">Il ne prend pas en charge les balises sur les jeux d’enregistrements DNS, bien que l’alternative « métadonnées » soit prise en charge sur les jeux d’enregistrements DNS comme expliqué ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="f4300-142">It does not support tags on DNS record sets, although as an alternative 'metadata' is supported on DNS record sets as explained next.</span></span>

<span data-ttu-id="f4300-143">**Métadonnées**</span><span class="sxs-lookup"><span data-stu-id="f4300-143">**Metadata**</span></span>

<span data-ttu-id="f4300-144">Comme une alternative toorecord définie des balises, Azure pile DNS prend en charge annoter les jeux d’enregistrements à l’aide de 'metadata'.</span><span class="sxs-lookup"><span data-stu-id="f4300-144">As an alternative toorecord set tags, Azure Stack DNS supports annotating record sets using 'metadata'.</span></span> <span data-ttu-id="f4300-145">Tootags similaire, métadonnées permet de vous tooassociate paires nom-valeur avec chaque jeu d’enregistrements.</span><span class="sxs-lookup"><span data-stu-id="f4300-145">Similar tootags, metadata enables you tooassociate name-value pairs with each record set.</span></span> <span data-ttu-id="f4300-146">Par exemple, cela peut être objectif de hello toorecord utile de chaque jeu d’enregistrements.</span><span class="sxs-lookup"><span data-stu-id="f4300-146">For example, this can be useful toorecord hello purpose of each record set.</span></span> <span data-ttu-id="f4300-147">Contrairement aux balises, les métadonnées ne peut pas être utilisé tooprovide une vue filtrée de votre facture Azure et ne peut pas être spécifiée dans une stratégie Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="f4300-147">Unlike tags, metadata cannot be used tooprovide a filtered view of your Azure bill and cannot be specified in an Azure Resource Manager policy.</span></span>

<span data-ttu-id="f4300-148">**ETags**</span><span class="sxs-lookup"><span data-stu-id="f4300-148">**Etags**</span></span>

<span data-ttu-id="f4300-149">Supposons que deux personnes ou les deux processus essaient toomodify DNS de l’enregistrement par hello même temps.</span><span class="sxs-lookup"><span data-stu-id="f4300-149">Suppose two people or two processes try toomodify a DNS record at hello same time.</span></span> <span data-ttu-id="f4300-150">Lequel gagne ?</span><span class="sxs-lookup"><span data-stu-id="f4300-150">Which one wins?</span></span> <span data-ttu-id="f4300-151">Et le gagnant hello sait que leur avez remplacée modifications créées par quelqu'un d’autre ?</span><span class="sxs-lookup"><span data-stu-id="f4300-151">And does hello winner know that they've overwritten changes created by someone else?</span></span>

<span data-ttu-id="f4300-152">DNS de pile Azure utilise Etags toohandle modifications simultanées toohello même ressource en toute sécurité.</span><span class="sxs-lookup"><span data-stu-id="f4300-152">Azure Stack DNS uses Etags toohandle concurrent changes toohello same resource safely.</span></span> <span data-ttu-id="f4300-153">Les ETags sont différents des « Balises » Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="f4300-153">Etags are separate from Azure Resource Manager 'Tags'.</span></span> <span data-ttu-id="f4300-154">Chaque ressource DNS (zone ou jeu d’enregistrements) est associée à un Etag.</span><span class="sxs-lookup"><span data-stu-id="f4300-154">Each DNS resource (zone or record set) has an Etag associated with it.</span></span> <span data-ttu-id="f4300-155">Chaque fois qu’une ressource est récupérée, son Etag l’est également.</span><span class="sxs-lookup"><span data-stu-id="f4300-155">Whenever a resource is retrieved, its Etag is also retrieved.</span></span> <span data-ttu-id="f4300-156">Lors de la mise à jour d’une ressource, vous pouvez choisir toopass précédent hello Etag qui Azure pile DNS permet de vérifier que hello Etag correspond à serveur hello.</span><span class="sxs-lookup"><span data-stu-id="f4300-156">When updating a resource, you can choose toopass back hello Etag so Azure Stack DNS can verify that hello Etag on hello server matches.</span></span> <span data-ttu-id="f4300-157">Car chaque ressource tooa de mise à jour entraîne hello Etag à chaque fois, une non-correspondance d’Etag indique une modification simultanée s’est produite.</span><span class="sxs-lookup"><span data-stu-id="f4300-157">Since each update tooa resource results in hello Etag being regenerated, an Etag mismatch indicates a concurrent change has occurred.</span></span> <span data-ttu-id="f4300-158">ETag peut également être utilisé lors de la création d’un nouveau tooensure de ressources que les ressources hello n’existent pas déjà.</span><span class="sxs-lookup"><span data-stu-id="f4300-158">Etags can also be used when creating a new resource tooensure that hello resource does not already exist.</span></span>

<span data-ttu-id="f4300-159">Par défaut, Azure pile DNS PowerShell utilise les Etags tooblock modifications simultanées toozones et jeux d’enregistrements.</span><span class="sxs-lookup"><span data-stu-id="f4300-159">By default, Azure Stack DNS PowerShell uses Etags tooblock concurrent changes toozones and record sets.</span></span> <span data-ttu-id="f4300-160">Hello facultatif *-remplacer* commutateur peut être utilisé toosuppress vérification Etag, auquel cas tout simultanées les modifications qui se sont produites sont remplacées.</span><span class="sxs-lookup"><span data-stu-id="f4300-160">hello optional *-Overwrite* switch can be used toosuppress Etag checks, in which case any concurrent changes that have occurred are overwritten.</span></span>

<span data-ttu-id="f4300-161">Au niveau de hello Hello API REST de Azure pile DNS, les Etags sont spécifiés à l’aide d’en-têtes HTTP.</span><span class="sxs-lookup"><span data-stu-id="f4300-161">At hello level of hello Azure Stack DNS REST API, Etags are specified using HTTP headers.</span></span> <span data-ttu-id="f4300-162">Leur comportement est donné dans hello tableau suivant :</span><span class="sxs-lookup"><span data-stu-id="f4300-162">Their behavior is given in hello following table:</span></span>

| <span data-ttu-id="f4300-163">En-tête</span><span class="sxs-lookup"><span data-stu-id="f4300-163">Header</span></span> | <span data-ttu-id="f4300-164">Comportement</span><span class="sxs-lookup"><span data-stu-id="f4300-164">Behavior</span></span>|
|--------|---------|
| <span data-ttu-id="f4300-165">Aucun</span><span class="sxs-lookup"><span data-stu-id="f4300-165">None</span></span>   | <span data-ttu-id="f4300-166">PUT réussit toujours (aucune vérification Etag)</span><span class="sxs-lookup"><span data-stu-id="f4300-166">PUT always succeeds (no Etag checks)</span></span>|
| <span data-ttu-id="f4300-167">If-match</span><span class="sxs-lookup"><span data-stu-id="f4300-167">If-match</span></span>| <span data-ttu-id="f4300-168">PUT ne réussit que si la ressource existe et que l’Etag correspond</span><span class="sxs-lookup"><span data-stu-id="f4300-168">PUT only succeeds if resource exists and Etag matches</span></span>|
| <span data-ttu-id="f4300-169">If-match *</span><span class="sxs-lookup"><span data-stu-id="f4300-169">If-match *</span></span>| <span data-ttu-id="f4300-170">PUT réussit seulement si la ressource existe</span><span class="sxs-lookup"><span data-stu-id="f4300-170">PUT only succeeds if resource exists</span></span>|
| <span data-ttu-id="f4300-171">If-none-match *</span><span class="sxs-lookup"><span data-stu-id="f4300-171">If-none-match *</span></span>| <span data-ttu-id="f4300-172">PUT réussit seulement si la ressource n’existe pas</span><span class="sxs-lookup"><span data-stu-id="f4300-172">PUT only succeeds if resource does not exist</span></span>|

### <a name="limits"></a><span data-ttu-id="f4300-173">limites</span><span class="sxs-lookup"><span data-stu-id="f4300-173">Limits</span></span>

<span data-ttu-id="f4300-174">Hello suivant les limites par défaut s’appliquent lorsque vous utilisez Azure pile DNS :</span><span class="sxs-lookup"><span data-stu-id="f4300-174">hello following default limits apply when using Azure Stack DNS:</span></span>

| <span data-ttu-id="f4300-175">Ressource</span><span class="sxs-lookup"><span data-stu-id="f4300-175">Resource</span></span>| <span data-ttu-id="f4300-176">Limite par défaut</span><span class="sxs-lookup"><span data-stu-id="f4300-176">Default limit</span></span>|
|---------|--------------|
| <span data-ttu-id="f4300-177">Zones par abonnement</span><span class="sxs-lookup"><span data-stu-id="f4300-177">Zones per subscription</span></span>| <span data-ttu-id="f4300-178">100</span><span class="sxs-lookup"><span data-stu-id="f4300-178">100</span></span>|
| <span data-ttu-id="f4300-179">Jeux d’enregistrements par zone</span><span class="sxs-lookup"><span data-stu-id="f4300-179">Record sets per zone</span></span>| <span data-ttu-id="f4300-180">5 000</span><span class="sxs-lookup"><span data-stu-id="f4300-180">5000</span></span>|
| <span data-ttu-id="f4300-181">Enregistrements par jeu d’enregistrements</span><span class="sxs-lookup"><span data-stu-id="f4300-181">Records per record set</span></span>| <span data-ttu-id="f4300-182">20</span><span class="sxs-lookup"><span data-stu-id="f4300-182">20</span></span>|

## <a name="next-steps"></a><span data-ttu-id="f4300-183">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="f4300-183">Next steps</span></span>
[<span data-ttu-id="f4300-184">Introduction aux noms de domaine internationaux (IDN) pour Azure Stack</span><span class="sxs-lookup"><span data-stu-id="f4300-184">Introducing iDNS for Azure Stack</span></span>](azure-stack-understanding-dns.md)
