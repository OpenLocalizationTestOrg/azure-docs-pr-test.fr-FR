---
title: "Sécurité des communications - Outil Microsoft de modélisation des menaces - Azure | Microsoft Docs"
description: "mesures de correction des menaces exposées dans l’outil de modélisation des menaces"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: b85003a94df3b97f5c64eb3b7e62071f07674c5e
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/29/2017
---
# <a name="security-frame-communication-security--mitigations"></a><span data-ttu-id="3bca8-103">Infrastructure de sécurité : sécurité des communications | Mesures de correction</span><span class="sxs-lookup"><span data-stu-id="3bca8-103">Security Frame: Communication Security | Mitigations</span></span> 
| <span data-ttu-id="3bca8-104">Produit/Service</span><span class="sxs-lookup"><span data-stu-id="3bca8-104">Product/Service</span></span> | <span data-ttu-id="3bca8-105">Article</span><span class="sxs-lookup"><span data-stu-id="3bca8-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="3bca8-106">**Hub d'événement d'Azure**</span><span class="sxs-lookup"><span data-stu-id="3bca8-106">**Azure Event Hub**</span></span> | <ul><li>[<span data-ttu-id="3bca8-107">Sécuriser les communications vers Event Hub à l’aide du protocole SSL/TLS</span><span class="sxs-lookup"><span data-stu-id="3bca8-107">Secure communication to Event Hub using SSL/TLS</span></span>](#comm-ssltls)</li></ul> |
| <span data-ttu-id="3bca8-108">**Dynamics CRM**</span><span class="sxs-lookup"><span data-stu-id="3bca8-108">**Dynamics CRM**</span></span> | <ul><li>[<span data-ttu-id="3bca8-109">Vérifier les privilèges de compte de service et vérifier que les services personnalisés ou les pages ASP.NET respectent la sécurité CRM</span><span class="sxs-lookup"><span data-stu-id="3bca8-109">Check service account privileges and check that the custom Services or ASP.NET Pages respect CRM's security</span></span>](#priv-aspnet)</li></ul> |
| <span data-ttu-id="3bca8-110">**Azure Data Factory**</span><span class="sxs-lookup"><span data-stu-id="3bca8-110">**Azure Data Factory**</span></span> | <ul><li>[<span data-ttu-id="3bca8-111">Utiliser la passerelle de gestion des données lors de la connexion du SQL Server local à Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="3bca8-111">Use Data management gateway while connecting On Prem SQL Server to Azure Data Factory</span></span>](#sqlserver-factory)</li></ul> |
| <span data-ttu-id="3bca8-112">**Serveur d’identité**</span><span class="sxs-lookup"><span data-stu-id="3bca8-112">**Identity Server**</span></span> | <ul><li>[<span data-ttu-id="3bca8-113">Garantir que l’intégralité du trafic vers IdentityServer est sur la connexion HTTPS</span><span class="sxs-lookup"><span data-stu-id="3bca8-113">Ensure that all traffic to Identity Server is over HTTPS connection</span></span>](#identity-https)</li></ul> |
| <span data-ttu-id="3bca8-114">**Application web**</span><span class="sxs-lookup"><span data-stu-id="3bca8-114">**Web Application**</span></span> | <ul><li>[<span data-ttu-id="3bca8-115">Vérifier les certificats X.509 utilisés pour authentifier les connexions SSL, TLS et DTLS</span><span class="sxs-lookup"><span data-stu-id="3bca8-115">Verify X.509 certificates used to authenticate SSL, TLS, and DTLS connections</span></span>](#x509-ssltls)</li><li>[<span data-ttu-id="3bca8-116">Configurer le certificat SSL pour le domaine personnalisé dans Azure App Service</span><span class="sxs-lookup"><span data-stu-id="3bca8-116">Configure SSL certificate for custom domain in Azure App Service</span></span>](#ssl-appservice)</li><li>[<span data-ttu-id="3bca8-117">Forcer l’intégralité du trafic vers Azure App Service sur la connexion HTTPS</span><span class="sxs-lookup"><span data-stu-id="3bca8-117">Force all traffic to Azure App Service over HTTPS connection</span></span>](#appservice-https)</li><li>[<span data-ttu-id="3bca8-118">Activer le protocole HTTP Strict Transport Security (HSTS)</span><span class="sxs-lookup"><span data-stu-id="3bca8-118">Enable HTTP Strict Transport Security (HSTS)</span></span>](#http-hsts)</li></ul> |
| <span data-ttu-id="3bca8-119">**Base de données**</span><span class="sxs-lookup"><span data-stu-id="3bca8-119">**Database**</span></span> | <ul><li>[<span data-ttu-id="3bca8-120">Assurer le chiffrement de la connexion SQL Server et la validation des certificats</span><span class="sxs-lookup"><span data-stu-id="3bca8-120">Ensure SQL server connection encryption and certificate validation</span></span>](#sqlserver-validation)</li><li>[<span data-ttu-id="3bca8-121">Forcer des communications chiffrées vers SQL Server</span><span class="sxs-lookup"><span data-stu-id="3bca8-121">Force Encrypted communication to SQL server</span></span>](#encrypted-sqlserver)</li></ul> |
| <span data-ttu-id="3bca8-122">**Azure Storage**</span><span class="sxs-lookup"><span data-stu-id="3bca8-122">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="3bca8-123">Vérifier que la communication vers le stockage Azure est sur HTTPS</span><span class="sxs-lookup"><span data-stu-id="3bca8-123">Ensure that communication to Azure Storage is over HTTPS</span></span>](#comm-storage)</li><li>[<span data-ttu-id="3bca8-124">Valider le hachage MD5 après le téléchargement de blobs si le protocole HTTPS ne peut pas être activé</span><span class="sxs-lookup"><span data-stu-id="3bca8-124">Validate MD5 hash after downloading blob if HTTPS cannot be enabled</span></span>](#md5-https)</li><li>[<span data-ttu-id="3bca8-125">Utiliser un client compatible SMB 3.0 pour garantir le chiffrement des données en transit vers les partages de fichiers Azure</span><span class="sxs-lookup"><span data-stu-id="3bca8-125">Use SMB 3.0 compatible client to ensure in-transit data encryption to Azure File Shares</span></span>](#smb-shares)</li></ul> |
| <span data-ttu-id="3bca8-126">**Client mobile**</span><span class="sxs-lookup"><span data-stu-id="3bca8-126">**Mobile Client**</span></span> | <ul><li>[<span data-ttu-id="3bca8-127">Implémenter l’épinglage de certificat</span><span class="sxs-lookup"><span data-stu-id="3bca8-127">Implement Certificate Pinning</span></span>](#cert-pinning)</li></ul> |
| <span data-ttu-id="3bca8-128">**WCF**</span><span class="sxs-lookup"><span data-stu-id="3bca8-128">**WCF**</span></span> | <ul><li>[<span data-ttu-id="3bca8-129">Activer le protocole HTTPS - Sécuriser le canal de transport</span><span class="sxs-lookup"><span data-stu-id="3bca8-129">Enable HTTPS - Secure Transport channel</span></span>](#https-transport)</li><li>[<span data-ttu-id="3bca8-130">WCF : Définir le niveau de protection de sécurité du message sur EncryptAndSign</span><span class="sxs-lookup"><span data-stu-id="3bca8-130">WCF: Set Message security Protection level to EncryptAndSign</span></span>](#message-protection)</li><li>[<span data-ttu-id="3bca8-131">WCF : Utiliser un compte avec des privilèges minimum pour exécuter votre service WCF</span><span class="sxs-lookup"><span data-stu-id="3bca8-131">WCF: Use a least-privileged account to run your WCF service</span></span>](#least-account-wcf)</li></ul> |
| <span data-ttu-id="3bca8-132">**API Web**</span><span class="sxs-lookup"><span data-stu-id="3bca8-132">**Web API**</span></span> | <ul><li>[<span data-ttu-id="3bca8-133">Forcer l’intégralité du trafic vers les API web sur la connexion HTTPS</span><span class="sxs-lookup"><span data-stu-id="3bca8-133">Force all traffic to Web APIs over HTTPS connection</span></span>](#webapi-https)</li></ul> |
| <span data-ttu-id="3bca8-134">**Cache Redis Azure**</span><span class="sxs-lookup"><span data-stu-id="3bca8-134">**Azure Redis Cache**</span></span> | <ul><li>[<span data-ttu-id="3bca8-135">Vérifier que la communication vers le Cache Redis Azure est sur SSL</span><span class="sxs-lookup"><span data-stu-id="3bca8-135">Ensure that communication to Azure Redis Cache is over SSL</span></span>](#redis-ssl)</li></ul> |
| <span data-ttu-id="3bca8-136">**Passerelle de champ IoT**</span><span class="sxs-lookup"><span data-stu-id="3bca8-136">**IoT Field Gateway**</span></span> | <ul><li>[<span data-ttu-id="3bca8-137">Sécuriser la communication entre l’appareil et la passerelle de champ</span><span class="sxs-lookup"><span data-stu-id="3bca8-137">Secure Device to Field Gateway communication</span></span>](#device-field)</li></ul> |
| <span data-ttu-id="3bca8-138">**Passerelle de cloud IoT**</span><span class="sxs-lookup"><span data-stu-id="3bca8-138">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="3bca8-139">Sécuriser la communication entre l’appareil et la passerelle de cloud à l’aide du protocole SSL/TLS</span><span class="sxs-lookup"><span data-stu-id="3bca8-139">Secure Device to Cloud Gateway communication using SSL/TLS</span></span>](#device-cloud)</li></ul> |

## <span data-ttu-id="3bca8-140"><a id="comm-ssltls"></a>Sécuriser les communications vers Event Hub à l’aide du protocole SSL/TLS</span><span class="sxs-lookup"><span data-stu-id="3bca8-140"><a id="comm-ssltls"></a>Secure communication to Event Hub using SSL/TLS</span></span>

| <span data-ttu-id="3bca8-141">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-141">Title</span></span>                   | <span data-ttu-id="3bca8-142">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-142">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-143">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-143">**Component**</span></span>               | <span data-ttu-id="3bca8-144">Azure Event Hub</span><span class="sxs-lookup"><span data-stu-id="3bca8-144">Azure Event Hub</span></span> | 
| <span data-ttu-id="3bca8-145">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-145">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-146">Créer</span><span class="sxs-lookup"><span data-stu-id="3bca8-146">Build</span></span> |  
| <span data-ttu-id="3bca8-147">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-147">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-148">Générique</span><span class="sxs-lookup"><span data-stu-id="3bca8-148">Generic</span></span> |
| <span data-ttu-id="3bca8-149">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-149">**Attributes**</span></span>              | <span data-ttu-id="3bca8-150">N/A</span><span class="sxs-lookup"><span data-stu-id="3bca8-150">N/A</span></span>  |
| <span data-ttu-id="3bca8-151">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-151">**References**</span></span>              | [<span data-ttu-id="3bca8-152">Présentation du modèle de sécurité et de l’authentification Event Hubs</span><span class="sxs-lookup"><span data-stu-id="3bca8-152">Event Hubs authentication and security model overview</span></span>](https://azure.microsoft.com/documentation/articles/event-hubs-authentication-and-security-model-overview/) |
| <span data-ttu-id="3bca8-153">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-153">**Steps**</span></span> | <span data-ttu-id="3bca8-154">Sécuriser les connexions AMQP ou HTTP vers Event Hub à l’aide du protocole SSL/TLS</span><span class="sxs-lookup"><span data-stu-id="3bca8-154">Secure AMQP or HTTP connections to Event Hub using SSL/TLS</span></span> |

## <span data-ttu-id="3bca8-155"><a id="priv-aspnet"></a>Vérifier les privilèges de compte de service et vérifier que les services personnalisés ou les pages ASP.NET respectent la sécurité CRM</span><span class="sxs-lookup"><span data-stu-id="3bca8-155"><a id="priv-aspnet"></a>Check service account privileges and check that the custom Services or ASP.NET Pages respect CRM's security</span></span>

| <span data-ttu-id="3bca8-156">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-156">Title</span></span>                   | <span data-ttu-id="3bca8-157">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-157">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-158">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-158">**Component**</span></span>               | <span data-ttu-id="3bca8-159">Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="3bca8-159">Dynamics CRM</span></span> | 
| <span data-ttu-id="3bca8-160">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-160">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-161">Créer</span><span class="sxs-lookup"><span data-stu-id="3bca8-161">Build</span></span> |  
| <span data-ttu-id="3bca8-162">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-162">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-163">Générique</span><span class="sxs-lookup"><span data-stu-id="3bca8-163">Generic</span></span> |
| <span data-ttu-id="3bca8-164">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-164">**Attributes**</span></span>              | <span data-ttu-id="3bca8-165">N/A</span><span class="sxs-lookup"><span data-stu-id="3bca8-165">N/A</span></span>  |
| <span data-ttu-id="3bca8-166">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-166">**References**</span></span>              | <span data-ttu-id="3bca8-167">N/A</span><span class="sxs-lookup"><span data-stu-id="3bca8-167">N/A</span></span>  |
| <span data-ttu-id="3bca8-168">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-168">**Steps**</span></span> | <span data-ttu-id="3bca8-169">Vérifiez les privilèges de compte de service et vérifiez que les services personnalisés ou les pages ASP.NET respectent la sécurité CRM.</span><span class="sxs-lookup"><span data-stu-id="3bca8-169">Check service account privileges and check that the custom Services or ASP.NET Pages respect CRM's security</span></span> |

## <span data-ttu-id="3bca8-170"><a id="sqlserver-factory"></a>Utiliser la passerelle de gestion des données lors de la connexion du SQL Server local à Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="3bca8-170"><a id="sqlserver-factory"></a>Use Data management gateway while connecting On Prem SQL Server to Azure Data Factory</span></span>

| <span data-ttu-id="3bca8-171">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-171">Title</span></span>                   | <span data-ttu-id="3bca8-172">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-172">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-173">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-173">**Component**</span></span>               | <span data-ttu-id="3bca8-174">Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="3bca8-174">Azure Data Factory</span></span> | 
| <span data-ttu-id="3bca8-175">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-175">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-176">Déploiement</span><span class="sxs-lookup"><span data-stu-id="3bca8-176">Deployment</span></span> |  
| <span data-ttu-id="3bca8-177">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-177">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-178">Générique</span><span class="sxs-lookup"><span data-stu-id="3bca8-178">Generic</span></span> |
| <span data-ttu-id="3bca8-179">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-179">**Attributes**</span></span>              | <span data-ttu-id="3bca8-180">Types de services liés - Azure et local</span><span class="sxs-lookup"><span data-stu-id="3bca8-180">Linked Service Types - Azure and On Prem</span></span> |
| <span data-ttu-id="3bca8-181">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-181">**References**</span></span>              |<span data-ttu-id="3bca8-182">[Déplacement de données entre des sources locales et le cloud à l’aide de la passerelle de gestion des données](https://azure.microsoft.com/documentation/articles/data-factory-move-data-between-onprem-and-cloud/#create-gateway), [Passerelle de gestion de données](https://azure.microsoft.com/documentation/articles/data-factory-data-management-gateway/)</span><span class="sxs-lookup"><span data-stu-id="3bca8-182">[ Moving data between On Prem and Azure Data Factory](https://azure.microsoft.com/documentation/articles/data-factory-move-data-between-onprem-and-cloud/#create-gateway), [Data management gateway](https://azure.microsoft.com/documentation/articles/data-factory-data-management-gateway/)</span></span> |
| <span data-ttu-id="3bca8-183">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-183">**Steps**</span></span> | <p><span data-ttu-id="3bca8-184">L’outil de passerelle de gestion des données est requis pour se connecter aux sources de données qui sont protégées derrière un pare-feu ou un réseau d’entreprise.</span><span class="sxs-lookup"><span data-stu-id="3bca8-184">The Data Management Gateway (DMG) tool is required to connect to data sources which are protected behind corpnet or a firewall.</span></span></p><ol><li><span data-ttu-id="3bca8-185">Le verrouillage de la machine isole l’outil de passerelle de gestion des données et empêche les programmes ne fonctionnant pas correctement d’endommager la machine hébergeant les sources de données ou d’espionner celle-ci.</span><span class="sxs-lookup"><span data-stu-id="3bca8-185">Locking down the machine isolates the DMG tool and prevents malfunctioning programs from damaging or snooping on the data source machine.</span></span> <span data-ttu-id="3bca8-186">(Par exemple,</span><span class="sxs-lookup"><span data-stu-id="3bca8-186">(E.g.</span></span> <span data-ttu-id="3bca8-187">les dernières mises à jour doivent être installées, activer le nombre minimal de ports requis, approvisionnement des comptes contrôlés, audit activé, chiffrement activé, etc.).</span><span class="sxs-lookup"><span data-stu-id="3bca8-187">latest updates must be installed, enable minimum required ports, controlled accounts provisioning, auditing enabled, disk encryption enabled etc.)</span></span></li><li><span data-ttu-id="3bca8-188">La clé de passerelle de données doit pivoter à intervalles réguliers ou chaque fois que le mot de passe du compte de service de passerelle de gestion des données est renouvelé.</span><span class="sxs-lookup"><span data-stu-id="3bca8-188">Data Gateway key must be rotated at frequent intervals or whenever the DMG service account password renews</span></span></li><li><span data-ttu-id="3bca8-189">Les transits de données via le service lié doivent être chiffrés.</span><span class="sxs-lookup"><span data-stu-id="3bca8-189">Data transits through Link Service must be encrypted</span></span></li></ol> |

## <span data-ttu-id="3bca8-190"><a id="identity-https"></a>Garantir que l’intégralité du trafic vers IdentityServer est sur la connexion HTTPS</span><span class="sxs-lookup"><span data-stu-id="3bca8-190"><a id="identity-https"></a>Ensure that all traffic to Identity Server is over HTTPS connection</span></span>

| <span data-ttu-id="3bca8-191">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-191">Title</span></span>                   | <span data-ttu-id="3bca8-192">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-192">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-193">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-193">**Component**</span></span>               | <span data-ttu-id="3bca8-194">IdentityServer</span><span class="sxs-lookup"><span data-stu-id="3bca8-194">Identity Server</span></span> | 
| <span data-ttu-id="3bca8-195">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-195">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-196">Déploiement</span><span class="sxs-lookup"><span data-stu-id="3bca8-196">Deployment</span></span> |  
| <span data-ttu-id="3bca8-197">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-197">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-198">Générique</span><span class="sxs-lookup"><span data-stu-id="3bca8-198">Generic</span></span> |
| <span data-ttu-id="3bca8-199">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-199">**Attributes**</span></span>              | <span data-ttu-id="3bca8-200">N/A</span><span class="sxs-lookup"><span data-stu-id="3bca8-200">N/A</span></span>  |
| <span data-ttu-id="3bca8-201">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-201">**References**</span></span>              | <span data-ttu-id="3bca8-202">[IdentityServer3 - Keys, Signatures and Cryptography](https://identityserver.github.io/Documentation/docsv2/configuration/crypto.html) (IdentityServer3 - Clés, signatures et chiffrement), [IdentityServer3 - Deployment](https://identityserver.github.io/Documentation/docsv2/advanced/deployment.html) (IdentityServer3 - Déploiement)</span><span class="sxs-lookup"><span data-stu-id="3bca8-202">[IdentityServer3 - Keys, Signatures and Cryptography](https://identityserver.github.io/Documentation/docsv2/configuration/crypto.html), [IdentityServer3 - Deployment](https://identityserver.github.io/Documentation/docsv2/advanced/deployment.html)</span></span> |
| <span data-ttu-id="3bca8-203">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-203">**Steps**</span></span> | <span data-ttu-id="3bca8-204">Par défaut, IdentityServer requiert que toutes les connexions entrantes proviennent du protocole HTTPS.</span><span class="sxs-lookup"><span data-stu-id="3bca8-204">By default, IdentityServer requires all incoming connections to come over HTTPS.</span></span> <span data-ttu-id="3bca8-205">Il est absolument indispensable que les communications avec IdentityServer s’effectuent sur les transports sécurisés uniquement.</span><span class="sxs-lookup"><span data-stu-id="3bca8-205">It is absolutely mandatory that communication with IdentityServer is done over secured transports only.</span></span> <span data-ttu-id="3bca8-206">Il existe certains scénarios de déploiement (p. ex. déchargement SSL) dans lesquels cette exigence peut être assouplie.</span><span class="sxs-lookup"><span data-stu-id="3bca8-206">There are certain deployment scenarios like SSL offloading where this requirement can be relaxed.</span></span> <span data-ttu-id="3bca8-207">Consultez la page sur le déploiement d’IdentityServer dans la section Références pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="3bca8-207">See the Identity Server deployment page in the references for more information.</span></span> |

## <span data-ttu-id="3bca8-208"><a id="x509-ssltls"></a>Vérifier les certificats X.509 utilisés pour authentifier les connexions SSL, TLS et DTLS</span><span class="sxs-lookup"><span data-stu-id="3bca8-208"><a id="x509-ssltls"></a>Verify X.509 certificates used to authenticate SSL, TLS, and DTLS connections</span></span>

| <span data-ttu-id="3bca8-209">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-209">Title</span></span>                   | <span data-ttu-id="3bca8-210">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-210">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-211">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-211">**Component**</span></span>               | <span data-ttu-id="3bca8-212">Application web</span><span class="sxs-lookup"><span data-stu-id="3bca8-212">Web Application</span></span> | 
| <span data-ttu-id="3bca8-213">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-213">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-214">Créer</span><span class="sxs-lookup"><span data-stu-id="3bca8-214">Build</span></span> |  
| <span data-ttu-id="3bca8-215">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-215">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-216">Générique</span><span class="sxs-lookup"><span data-stu-id="3bca8-216">Generic</span></span> |
| <span data-ttu-id="3bca8-217">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-217">**Attributes**</span></span>              | <span data-ttu-id="3bca8-218">N/A</span><span class="sxs-lookup"><span data-stu-id="3bca8-218">N/A</span></span>  |
| <span data-ttu-id="3bca8-219">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-219">**References**</span></span>              | <span data-ttu-id="3bca8-220">N/A</span><span class="sxs-lookup"><span data-stu-id="3bca8-220">N/A</span></span>  |
| <span data-ttu-id="3bca8-221">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-221">**Steps**</span></span> | <p><span data-ttu-id="3bca8-222">Les applications qui utilisent les protocoles SSL, TLS ou DTLS doivent intégralement vérifier les certificats X.509 des entités auxquelles elles se connectent.</span><span class="sxs-lookup"><span data-stu-id="3bca8-222">Applications that use SSL, TLS, or DTLS must fully verify the X.509 certificates of the entities they connect to.</span></span> <span data-ttu-id="3bca8-223">Cela inclut la vérification des certificats pour les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="3bca8-223">This includes verification of the certificates for:</span></span></p><ul><li><span data-ttu-id="3bca8-224">Nom de domaine</span><span class="sxs-lookup"><span data-stu-id="3bca8-224">Domain name</span></span></li><li><span data-ttu-id="3bca8-225">Dates de validité (dates de début et dates d’échéance).</span><span class="sxs-lookup"><span data-stu-id="3bca8-225">Validity dates (both beginning and expiration dates)</span></span></li><li><span data-ttu-id="3bca8-226">État de révocation.</span><span class="sxs-lookup"><span data-stu-id="3bca8-226">Revocation status</span></span></li><li><span data-ttu-id="3bca8-227">Utilisation (par exemple, authentification serveur pour les serveurs, authentification client pour les clients).</span><span class="sxs-lookup"><span data-stu-id="3bca8-227">Usage (for example, Server Authentication for servers, Client Authentication for clients)</span></span></li><li><span data-ttu-id="3bca8-228">Chaîne d’approbation.</span><span class="sxs-lookup"><span data-stu-id="3bca8-228">Trust chain.</span></span> <span data-ttu-id="3bca8-229">Les certificats doivent être rattachés à une autorité de certification racine approuvée par la plateforme ou explicitement configurés par l’administrateur.</span><span class="sxs-lookup"><span data-stu-id="3bca8-229">Certificates must chain to a root certification authority (CA) that is trusted by the platform or explicitly configured by the administrator</span></span></li><li><span data-ttu-id="3bca8-230">La longueur de clé de la clé publique du certificat doit être supérieure à 2 048 bits.</span><span class="sxs-lookup"><span data-stu-id="3bca8-230">Key length of certificate's public key must be >2048 bits</span></span></li><li><span data-ttu-id="3bca8-231">L’algorithme de hachage doit être SHA256 et supérieur.</span><span class="sxs-lookup"><span data-stu-id="3bca8-231">Hashing algorithm must be SHA256 and above</span></span> |

## <span data-ttu-id="3bca8-232"><a id="ssl-appservice"></a>Configurer le certificat SSL pour le domaine personnalisé dans Azure App Service</span><span class="sxs-lookup"><span data-stu-id="3bca8-232"><a id="ssl-appservice"></a>Configure SSL certificate for custom domain in Azure App Service</span></span>

| <span data-ttu-id="3bca8-233">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-233">Title</span></span>                   | <span data-ttu-id="3bca8-234">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-234">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-235">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-235">**Component**</span></span>               | <span data-ttu-id="3bca8-236">Application web</span><span class="sxs-lookup"><span data-stu-id="3bca8-236">Web Application</span></span> | 
| <span data-ttu-id="3bca8-237">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-237">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-238">Créer</span><span class="sxs-lookup"><span data-stu-id="3bca8-238">Build</span></span> |  
| <span data-ttu-id="3bca8-239">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-239">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-240">Générique</span><span class="sxs-lookup"><span data-stu-id="3bca8-240">Generic</span></span> |
| <span data-ttu-id="3bca8-241">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-241">**Attributes**</span></span>              | <span data-ttu-id="3bca8-242">EnvironmentType - Azure</span><span class="sxs-lookup"><span data-stu-id="3bca8-242">EnvironmentType - Azure</span></span> |
| <span data-ttu-id="3bca8-243">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-243">**References**</span></span>              | [<span data-ttu-id="3bca8-244">Activer le protocole HTTPS pour une application dans Azure App Service</span><span class="sxs-lookup"><span data-stu-id="3bca8-244">Enable HTTPS for an app in Azure App Service</span></span>](https://azure.microsoft.com/documentation/articles/web-sites-configure-ssl-certificate/) |
| <span data-ttu-id="3bca8-245">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-245">**Steps**</span></span> | <span data-ttu-id="3bca8-246">Par défaut, Azure active déjà le protocole HTTPS pour toutes les applications grâce à un certificat générique pour le domaine *.azurewebsites.net.</span><span class="sxs-lookup"><span data-stu-id="3bca8-246">By default, Azure already enables HTTPS for every app with a wildcard certificate for the *.azurewebsites.net domain.</span></span> <span data-ttu-id="3bca8-247">Comme tous les domaines génériques, il n’est cependant pas aussi sécurisé qu’un domaine personnalisé avec votre propre certificat. [Consultez cet article](https://casecurity.org/2014/02/26/pros-and-cons-of-single-domain-multi-domain-and-wildcard-certificates/).</span><span class="sxs-lookup"><span data-stu-id="3bca8-247">However, like all wildcard domains, it is not as secure as using a custom domain with own certificate [Refer](https://casecurity.org/2014/02/26/pros-and-cons-of-single-domain-multi-domain-and-wildcard-certificates/).</span></span> <span data-ttu-id="3bca8-248">Il est recommandé d’activer le protocole SSL pour le domaine personnalisé qui sera accessible via l’application déployée.</span><span class="sxs-lookup"><span data-stu-id="3bca8-248">It is recommended to enable SSL for the custom domain which the deployed app will be accessed through</span></span>|

## <span data-ttu-id="3bca8-249"><a id="appservice-https"></a>Forcer l’intégralité du trafic vers Azure App Service sur la connexion HTTPS</span><span class="sxs-lookup"><span data-stu-id="3bca8-249"><a id="appservice-https"></a>Force all traffic to Azure App Service over HTTPS connection</span></span>

| <span data-ttu-id="3bca8-250">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-250">Title</span></span>                   | <span data-ttu-id="3bca8-251">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-251">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-252">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-252">**Component**</span></span>               | <span data-ttu-id="3bca8-253">Application web</span><span class="sxs-lookup"><span data-stu-id="3bca8-253">Web Application</span></span> | 
| <span data-ttu-id="3bca8-254">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-254">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-255">Créer</span><span class="sxs-lookup"><span data-stu-id="3bca8-255">Build</span></span> |  
| <span data-ttu-id="3bca8-256">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-256">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-257">Générique</span><span class="sxs-lookup"><span data-stu-id="3bca8-257">Generic</span></span> |
| <span data-ttu-id="3bca8-258">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-258">**Attributes**</span></span>              | <span data-ttu-id="3bca8-259">EnvironmentType - Azure</span><span class="sxs-lookup"><span data-stu-id="3bca8-259">EnvironmentType - Azure</span></span> |
| <span data-ttu-id="3bca8-260">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-260">**References**</span></span>              | <span data-ttu-id="3bca8-261">[Exécution de SSL sur votre application] https://azure.microsoft.com/documentation/articles/web-sites-configure-ssl-certificate/#4-enforce-https-on-your-app)</span><span class="sxs-lookup"><span data-stu-id="3bca8-261">[Enforce HTTPS on Azure App Service]https://azure.microsoft.com/documentation/articles/web-sites-configure-ssl-certificate/#4-enforce-https-on-your-app)</span></span> |
| <span data-ttu-id="3bca8-262">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-262">**Steps**</span></span> | <p><span data-ttu-id="3bca8-263">Bien qu’Azure active déjà le protocole HTTPS pour les services d’application Azure grâce à un certificat générique pour le domaine *.azurewebsites.net, le domaine n’applique pas le protocole HTTPS.</span><span class="sxs-lookup"><span data-stu-id="3bca8-263">Though Azure already enables HTTPS for Azure app services with a wildcard certificate for the domain *.azurewebsites.net, it do not enforce HTTPS.</span></span> <span data-ttu-id="3bca8-264">Les visiteurs peuvent toujours accéder à l’application à l’aide du protocole HTTP, ce qui peut compromettre la sécurité de l’application. Par conséquent, le protocole HTTPS doit être appliqué de manière explicite.</span><span class="sxs-lookup"><span data-stu-id="3bca8-264">Visitors may still access the app using HTTP, which may compromise the app's security and hence HTTPS has to be enforced explicitly.</span></span> <span data-ttu-id="3bca8-265">Les applications ASP.NET MVC doivent utiliser le [filtre RequireHttps](http://msdn.microsoft.com/library/system.web.mvc.requirehttpsattribute.aspx) qui force une demande HTTP non sécurisée à être renvoyée sur HTTPS.</span><span class="sxs-lookup"><span data-stu-id="3bca8-265">ASP.NET MVC applications should use the [RequireHttps filter](http://msdn.microsoft.com/library/system.web.mvc.requirehttpsattribute.aspx) that forces an unsecured HTTP request to be re-sent over HTTPS.</span></span></p><p><span data-ttu-id="3bca8-266">Sinon, vous pouvez utiliser le module de réécriture d’URL, qui est inclus avec Azure App Service, pour appliquer le protocole HTTPS.</span><span class="sxs-lookup"><span data-stu-id="3bca8-266">Alternatively, the URL Rewrite module, which is included with Azure App Service can be used to enforce HTTPS.</span></span> <span data-ttu-id="3bca8-267">Le module de réécriture d’URL permet aux développeurs de définir des règles qui sont appliquées aux demandes entrantes avant qu’elles ne soient transmises à votre application.</span><span class="sxs-lookup"><span data-stu-id="3bca8-267">URL Rewrite module enables developers to define rules that are applied to incoming requests before the requests are handed to your application.</span></span> <span data-ttu-id="3bca8-268">Les règles de réécriture d’URL sont définies dans un fichier web.config stocké à la racine de l’application.</span><span class="sxs-lookup"><span data-stu-id="3bca8-268">URL Rewrite rules are defined in a web.config file stored in the root of the application</span></span></p>|

### <a name="example"></a><span data-ttu-id="3bca8-269">Exemple</span><span class="sxs-lookup"><span data-stu-id="3bca8-269">Example</span></span>
<span data-ttu-id="3bca8-270">L’exemple suivant contient une règle de réécriture d’URL basique qui force tout le trafic entrant à utiliser le protocole HTTPS.</span><span class="sxs-lookup"><span data-stu-id="3bca8-270">The following example contains a basic URL Rewrite rule that forces all incoming traffic to use HTTPS</span></span>
```XML
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
  <system.webServer>
    <rewrite>
      <rules>
        <rule name="Force HTTPS" enabled="true">
          <match url="(.*)" ignoreCase="false" />
          <conditions>
            <add input="{HTTPS}" pattern="off" />
          </conditions>
          <action type="Redirect" url="https://{HTTP_HOST}/{R:1}" appendQueryString="true" redirectType="Permanent" />
        </rule>
      </rules>
    </rewrite>
  </system.webServer>
</configuration>
```
<span data-ttu-id="3bca8-271">Cette règle fonctionne en renvoyant le code d’état HTTP 301 (redirection permanente) lorsque l’utilisateur demande une page utilisant le protocole HTTP.</span><span class="sxs-lookup"><span data-stu-id="3bca8-271">This rule works by returning an HTTP status code of 301 (permanent redirect) when the user requests a page using HTTP.</span></span> <span data-ttu-id="3bca8-272">Le code 301 redirige la demande vers la même URL que celle requise par le visiteur, mais remplace la partie HTTP de la demande par HTTPS.</span><span class="sxs-lookup"><span data-stu-id="3bca8-272">The 301 redirects the request to the same URL as the visitor requested, but replaces the HTTP portion of the request with HTTPS.</span></span> <span data-ttu-id="3bca8-273">Par exemple, HTTP://contoso.com serait redirigé vers HTTPS://contoso.com.</span><span class="sxs-lookup"><span data-stu-id="3bca8-273">For example, HTTP://contoso.com would be redirected to HTTPS://contoso.com.</span></span> 

## <span data-ttu-id="3bca8-274"><a id="http-hsts"></a>Activer le protocole HTTP Strict Transport Security (HSTS)</span><span class="sxs-lookup"><span data-stu-id="3bca8-274"><a id="http-hsts"></a>Enable HTTP Strict Transport Security (HSTS)</span></span>

| <span data-ttu-id="3bca8-275">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-275">Title</span></span>                   | <span data-ttu-id="3bca8-276">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-276">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-277">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-277">**Component**</span></span>               | <span data-ttu-id="3bca8-278">Application web</span><span class="sxs-lookup"><span data-stu-id="3bca8-278">Web Application</span></span> | 
| <span data-ttu-id="3bca8-279">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-279">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-280">Créer</span><span class="sxs-lookup"><span data-stu-id="3bca8-280">Build</span></span> |  
| <span data-ttu-id="3bca8-281">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-281">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-282">Générique</span><span class="sxs-lookup"><span data-stu-id="3bca8-282">Generic</span></span> |
| <span data-ttu-id="3bca8-283">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-283">**Attributes**</span></span>              | <span data-ttu-id="3bca8-284">N/A</span><span class="sxs-lookup"><span data-stu-id="3bca8-284">N/A</span></span>  |
| <span data-ttu-id="3bca8-285">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-285">**References**</span></span>              | <span data-ttu-id="3bca8-286">[OWASP HTTP Strict Transport Security Cheat Sheet](https://www.owasp.org/index.php/HTTP_Strict_Transport_Security_Cheat_Sheet) (Aide-mémoire sur HTTP Strict Transport Security par l’OWASP)</span><span class="sxs-lookup"><span data-stu-id="3bca8-286">[OWASP HTTP Strict Transport Security Cheat Sheet](https://www.owasp.org/index.php/HTTP_Strict_Transport_Security_Cheat_Sheet)</span></span> |
| <span data-ttu-id="3bca8-287">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-287">**Steps**</span></span> | <p><span data-ttu-id="3bca8-288">HTTP Strict Transport Security (HSTS) est une amélioration de sécurité à accepter qui est spécifiée par une application web via l’utilisation d’un en-tête de réponse spécial.</span><span class="sxs-lookup"><span data-stu-id="3bca8-288">HTTP Strict Transport Security (HSTS) is an opt-in security enhancement that is specified by a web application through the use of a special response header.</span></span> <span data-ttu-id="3bca8-289">Une fois qu’un navigateur pris en charge reçoit cet en-tête, ce navigateur empêchera toutes les communications d’être envoyés sur HTTP vers le domaine spécifié et enverra à la place toutes les communications sur HTTPS.</span><span class="sxs-lookup"><span data-stu-id="3bca8-289">Once a supported browser receives this header that browser will prevent any communications from being sent over HTTP to the specified domain and will instead send all communications over HTTPS.</span></span> <span data-ttu-id="3bca8-290">Il empêche également les invites HTTPS sur lesquelles cliquer sur les navigateurs.</span><span class="sxs-lookup"><span data-stu-id="3bca8-290">It also prevents HTTPS click through prompts on browsers.</span></span></p><p><span data-ttu-id="3bca8-291">Pour implémenter HSTS, l’en-tête de réponse suivant doit être configuré pour un site web de manière globale, dans le code ou dans la configuration. Strict-Transport-Security : max-age = 300 ; includeSubDomains HSTS répond aux menaces suivantes :</span><span class="sxs-lookup"><span data-stu-id="3bca8-291">To implement HSTS, the following response header has to be configured for a website globally, either in code or in config. Strict-Transport-Security: max-age=300; includeSubDomains HSTS addresses the following threats:</span></span></p><ul><li><span data-ttu-id="3bca8-292">L’utilisateur marque http://example.com avec un signet ou saisit manuellement cette adresse et fait face à un intercepteur : HSTS redirige automatiquement les demandes HTTP vers HTTPS pour le domaine cible.</span><span class="sxs-lookup"><span data-stu-id="3bca8-292">User bookmarks or manually types http://example.com and is subject to a man-in-the-middle attacker: HSTS automatically redirects HTTP requests to HTTPS for the target domain</span></span></li><li><span data-ttu-id="3bca8-293">L’application web qui est destinée à être purement HTTPS contient par inadvertance des liens HTTP ou traite du contenu sur HTTP : HSTS redirige automatiquement les demandes HTTP vers HTTPS pour le domaine cible.</span><span class="sxs-lookup"><span data-stu-id="3bca8-293">Web application that is intended to be purely HTTPS inadvertently contains HTTP links or serves content over HTTP: HSTS automatically redirects HTTP requests to HTTPS for the target domain</span></span></li><li><span data-ttu-id="3bca8-294">Un intercepteur tente d’intercepter le trafic d’un utilisateur victime à l’aide d’un certificat non valide et espère que l’utilisateur acceptera le certificat incorrect : HSTS n’autorise pas un utilisateur à remplacer le message de certificat par un certificat non valide.</span><span class="sxs-lookup"><span data-stu-id="3bca8-294">A man-in-the-middle attacker attempts to intercept traffic from a victim user using an invalid certificate and hopes the user will accept the bad certificate: HSTS does not allow a user to override the invalid certificate message</span></span></li></ul>|

## <span data-ttu-id="3bca8-295"><a id="sqlserver-validation"></a>Assurer le chiffrement de la connexion SQL Server et la validation des certificats</span><span class="sxs-lookup"><span data-stu-id="3bca8-295"><a id="sqlserver-validation"></a>Ensure SQL server connection encryption and certificate validation</span></span>

| <span data-ttu-id="3bca8-296">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-296">Title</span></span>                   | <span data-ttu-id="3bca8-297">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-297">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-298">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-298">**Component**</span></span>               | <span data-ttu-id="3bca8-299">Base de données</span><span class="sxs-lookup"><span data-stu-id="3bca8-299">Database</span></span> | 
| <span data-ttu-id="3bca8-300">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-300">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-301">Créer</span><span class="sxs-lookup"><span data-stu-id="3bca8-301">Build</span></span> |  
| <span data-ttu-id="3bca8-302">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-302">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-303">SQL Azure</span><span class="sxs-lookup"><span data-stu-id="3bca8-303">SQL Azure</span></span>  |
| <span data-ttu-id="3bca8-304">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-304">**Attributes**</span></span>              | <span data-ttu-id="3bca8-305">Version SQL - V12</span><span class="sxs-lookup"><span data-stu-id="3bca8-305">SQL Version - V12</span></span> |
| <span data-ttu-id="3bca8-306">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-306">**References**</span></span>              | <span data-ttu-id="3bca8-307">[Best Practices on Writing Secure Connection Strings for SQL Database](http://social.technet.microsoft.com/wiki/contents/articles/2951.windows-azure-sql-database-connection-security.aspx#best) (Bonnes pratiques sur l’écriture de chaînes de connexion sécurisées pour SQL Database)</span><span class="sxs-lookup"><span data-stu-id="3bca8-307">[Best Practices on Writing Secure Connection Strings for SQL Database](http://social.technet.microsoft.com/wiki/contents/articles/2951.windows-azure-sql-database-connection-security.aspx#best)</span></span> |
| <span data-ttu-id="3bca8-308">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-308">**Steps**</span></span> | <p><span data-ttu-id="3bca8-309">Toutes les communications entre SQL Database et une application cliente sont chiffrées en permanence à l’aide du protocole Secure Sockets Layer (SSL).</span><span class="sxs-lookup"><span data-stu-id="3bca8-309">All communications between SQL Database and a client application are encrypted using Secure Sockets Layer (SSL) at all times.</span></span> <span data-ttu-id="3bca8-310">SQL Database ne prend pas en charge les connexions non chiffrées.</span><span class="sxs-lookup"><span data-stu-id="3bca8-310">SQL Database doesn’t support unencrypted connections.</span></span> <span data-ttu-id="3bca8-311">Pour valider des certificats avec le code ou les outils de l’application, demandez explicitement une connexion chiffrée et ne faites pas confiance aux certificats de serveur.</span><span class="sxs-lookup"><span data-stu-id="3bca8-311">To validate certificates with application code or tools, explicitly request an encrypted connection and do not trust the server certificates.</span></span> <span data-ttu-id="3bca8-312">Si le code ou les outils de votre application ne demandent pas une connexion chiffrée, ils recevront pourtant des connexions chiffrées.</span><span class="sxs-lookup"><span data-stu-id="3bca8-312">If your application code or tools do not request an encrypted connection, they will still receive encrypted connections</span></span></p><p><span data-ttu-id="3bca8-313">Cependant, comme ils ne peuvent pas valider les certificats de serveur, ils restent vulnérables aux attaques de « l’homme du milieu ».</span><span class="sxs-lookup"><span data-stu-id="3bca8-313">However, they may not validate the server certificates and thus will be susceptible to "man in the middle" attacks.</span></span> <span data-ttu-id="3bca8-314">Pour valider des certificats avec le code d’application ADO.NET, définissez `Encrypt=True` et `TrustServerCertificate=False` dans la chaîne de connexion de base de données.</span><span class="sxs-lookup"><span data-stu-id="3bca8-314">To validate certificates with ADO.NET application code, set `Encrypt=True` and `TrustServerCertificate=False` in the database connection string.</span></span> <span data-ttu-id="3bca8-315">Pour valider des certificats via SQL Server Management Studio, ouvrez la boîte de dialogue « Se connecter au serveur ».</span><span class="sxs-lookup"><span data-stu-id="3bca8-315">To validate certificates via SQL Server Management Studio, open the Connect to Server dialog box.</span></span> <span data-ttu-id="3bca8-316">Cliquez sur « Chiffrer la connexion » dans l’onglet « Propriétés de connexion ».</span><span class="sxs-lookup"><span data-stu-id="3bca8-316">Click Encrypt connection on the Connection Properties tab</span></span></p>|

## <span data-ttu-id="3bca8-317"><a id="encrypted-sqlserver"></a>Forcer des communications chiffrées vers SQL Server</span><span class="sxs-lookup"><span data-stu-id="3bca8-317"><a id="encrypted-sqlserver"></a>Force Encrypted communication to SQL server</span></span>

| <span data-ttu-id="3bca8-318">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-318">Title</span></span>                   | <span data-ttu-id="3bca8-319">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-319">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-320">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-320">**Component**</span></span>               | <span data-ttu-id="3bca8-321">Base de données</span><span class="sxs-lookup"><span data-stu-id="3bca8-321">Database</span></span> | 
| <span data-ttu-id="3bca8-322">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-322">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-323">Créer</span><span class="sxs-lookup"><span data-stu-id="3bca8-323">Build</span></span> |  
| <span data-ttu-id="3bca8-324">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-324">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-325">Local</span><span class="sxs-lookup"><span data-stu-id="3bca8-325">OnPrem</span></span> |
| <span data-ttu-id="3bca8-326">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-326">**Attributes**</span></span>              | <span data-ttu-id="3bca8-327">Version SQL - MsSQL2016, Version SQL - MsSQL2012, Version SQL - MsSQL2014</span><span class="sxs-lookup"><span data-stu-id="3bca8-327">SQL Version - MsSQL2016, SQL Version - MsSQL2012, SQL Version - MsSQL2014</span></span> |
| <span data-ttu-id="3bca8-328">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-328">**References**</span></span>              | [<span data-ttu-id="3bca8-329">Activer les connexions chiffrées dans le moteur de base de données</span><span class="sxs-lookup"><span data-stu-id="3bca8-329">Enable Encrypted Connections to the Database Engine</span></span>](https://msdn.microsoft.com/library/ms191192)  |
| <span data-ttu-id="3bca8-330">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-330">**Steps**</span></span> | <span data-ttu-id="3bca8-331">L’activation du chiffrement SSL augmente la sécurité des données transmises sur les réseaux entre les instances de SQL Server et les applications.</span><span class="sxs-lookup"><span data-stu-id="3bca8-331">Enabling SSL encryption increases the security of data transmitted across networks between instances of SQL Server and applications.</span></span> |

## <span data-ttu-id="3bca8-332"><a id="comm-storage"></a>Vérifier que la communication vers le stockage Azure est sur HTTPS</span><span class="sxs-lookup"><span data-stu-id="3bca8-332"><a id="comm-storage"></a>Ensure that communication to Azure Storage is over HTTPS</span></span>

| <span data-ttu-id="3bca8-333">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-333">Title</span></span>                   | <span data-ttu-id="3bca8-334">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-334">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-335">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-335">**Component**</span></span>               | <span data-ttu-id="3bca8-336">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="3bca8-336">Azure Storage</span></span> | 
| <span data-ttu-id="3bca8-337">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-337">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-338">Déploiement</span><span class="sxs-lookup"><span data-stu-id="3bca8-338">Deployment</span></span> |  
| <span data-ttu-id="3bca8-339">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-339">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-340">Générique</span><span class="sxs-lookup"><span data-stu-id="3bca8-340">Generic</span></span> |
| <span data-ttu-id="3bca8-341">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-341">**Attributes**</span></span>              | <span data-ttu-id="3bca8-342">N/A</span><span class="sxs-lookup"><span data-stu-id="3bca8-342">N/A</span></span>  |
| <span data-ttu-id="3bca8-343">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-343">**References**</span></span>              | [<span data-ttu-id="3bca8-344">Chiffrement au niveau du transport – Utilisation de HTTPS</span><span class="sxs-lookup"><span data-stu-id="3bca8-344">Azure Storage Transport-Level Encryption – Using HTTPS</span></span>](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_encryption-in-transit) |
| <span data-ttu-id="3bca8-345">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-345">**Steps**</span></span> | <span data-ttu-id="3bca8-346">Pour garantir la sécurité des données du stockage Azure en transit, utilisez toujours le protocole HTTPS lors de l’appel des API REST ou de l’accès aux objets dans le stockage.</span><span class="sxs-lookup"><span data-stu-id="3bca8-346">To ensure the security of Azure Storage data in-transit, always use the HTTPS protocol when calling the REST APIs or accessing objects in storage.</span></span> <span data-ttu-id="3bca8-347">De plus, les signatures d’accès partagé, qui peuvent être utilisées pour déléguer l’accès aux objets de stockage Azure, incluent une option pour spécifier que seul le protocole HTTPS est autorisé avec les signatures d’accès partagé. Cette option garantit que le protocole approprié est utilisé par tous ceux qui envoient des liens avec des jetons SAP.</span><span class="sxs-lookup"><span data-stu-id="3bca8-347">Also, Shared Access Signatures, which can be used to delegate access to Azure Storage objects, include an option to specify that only the HTTPS protocol can be used when using Shared Access Signatures, ensuring that anybody sending out links with SAS tokens will use the proper protocol.</span></span>|

## <span data-ttu-id="3bca8-348"><a id="md5-https"></a>Valider le hachage MD5 après le téléchargement de blobs si le protocole HTTPS ne peut pas être activé</span><span class="sxs-lookup"><span data-stu-id="3bca8-348"><a id="md5-https"></a>Validate MD5 hash after downloading blob if HTTPS cannot be enabled</span></span>

| <span data-ttu-id="3bca8-349">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-349">Title</span></span>                   | <span data-ttu-id="3bca8-350">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-350">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-351">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-351">**Component**</span></span>               | <span data-ttu-id="3bca8-352">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="3bca8-352">Azure Storage</span></span> | 
| <span data-ttu-id="3bca8-353">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-353">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-354">Créer</span><span class="sxs-lookup"><span data-stu-id="3bca8-354">Build</span></span> |  
| <span data-ttu-id="3bca8-355">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-355">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-356">Générique</span><span class="sxs-lookup"><span data-stu-id="3bca8-356">Generic</span></span> |
| <span data-ttu-id="3bca8-357">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-357">**Attributes**</span></span>              | <span data-ttu-id="3bca8-358">StorageType - Blob</span><span class="sxs-lookup"><span data-stu-id="3bca8-358">StorageType - Blob</span></span> |
| <span data-ttu-id="3bca8-359">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-359">**References**</span></span>              | <span data-ttu-id="3bca8-360">[Windows Azure Blob MD5 Overview](https://blogs.msdn.microsoft.com/windowsazurestorage/2011/02/17/windows-azure-blob-md5-overview/) (Vue d’ensemble de la vérification MD5 du service Blob Windows Azure)</span><span class="sxs-lookup"><span data-stu-id="3bca8-360">[Windows Azure Blob MD5 Overview](https://blogs.msdn.microsoft.com/windowsazurestorage/2011/02/17/windows-azure-blob-md5-overview/)</span></span> |
| <span data-ttu-id="3bca8-361">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-361">**Steps**</span></span> | <p><span data-ttu-id="3bca8-362">Le service BLOB Windows Azure fournit des mécanismes permettant de garantir l’intégrité des données au niveau des couches de transport et d’application.</span><span class="sxs-lookup"><span data-stu-id="3bca8-362">Windows Azure Blob service provides mechanisms to ensure data integrity both at the application and transport layers.</span></span> <span data-ttu-id="3bca8-363">Si, pour une raison quelconque, vous devez utiliser le protocole HTTP au lieu de HTTPS et que vous travaillez avec des objets blobs de blocs, vous pouvez utiliser la vérification MD5 pour vérifier l’intégrité des blobs transférés.</span><span class="sxs-lookup"><span data-stu-id="3bca8-363">If for any reason you need to use HTTP instead of HTTPS and you are working with block blobs, you can use MD5 checking to help verify the integrity of the blobs being transferred</span></span></p><p><span data-ttu-id="3bca8-364">Ceci contribuera à la protection contre les erreurs au niveau du réseau/transport, mais pas nécessairement contre les attaques intermédiaires.</span><span class="sxs-lookup"><span data-stu-id="3bca8-364">This will help with protection from network/transport layer errors, but not necessarily with intermediary attacks.</span></span> <span data-ttu-id="3bca8-365">Si vous pouvez utiliser le protocole HTTPS, qui fournit une sécurité au niveau du transport, alors l’utilisation de la vérification MD5 est redondant et inutile.</span><span class="sxs-lookup"><span data-stu-id="3bca8-365">If you can use HTTPS, which provides transport level security, then using MD5 checking is redundant and unnecessary.</span></span></p>|

## <span data-ttu-id="3bca8-366"><a id="smb-shares"></a>Utiliser un client compatible SMB 3.0 pour garantir le chiffrement des données en transit vers les partages de fichiers Azure</span><span class="sxs-lookup"><span data-stu-id="3bca8-366"><a id="smb-shares"></a>Use SMB 3.0 compatible client to ensure in-transit data encryption to Azure File shares</span></span>

| <span data-ttu-id="3bca8-367">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-367">Title</span></span>                   | <span data-ttu-id="3bca8-368">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-368">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-369">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-369">**Component**</span></span>               | <span data-ttu-id="3bca8-370">Client mobile</span><span class="sxs-lookup"><span data-stu-id="3bca8-370">Mobile Client</span></span> | 
| <span data-ttu-id="3bca8-371">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-371">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-372">Créer</span><span class="sxs-lookup"><span data-stu-id="3bca8-372">Build</span></span> |  
| <span data-ttu-id="3bca8-373">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-373">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-374">Générique</span><span class="sxs-lookup"><span data-stu-id="3bca8-374">Generic</span></span> |
| <span data-ttu-id="3bca8-375">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-375">**Attributes**</span></span>              | <span data-ttu-id="3bca8-376">StorageType - Fichier</span><span class="sxs-lookup"><span data-stu-id="3bca8-376">StorageType - File</span></span> |
| <span data-ttu-id="3bca8-377">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-377">**References**</span></span>              | <span data-ttu-id="3bca8-378">[Azure File Storage, now generally available](https://azure.microsoft.com/blog/azure-file-storage-now-generally-available/#comment-2529238931) (Le stockage de fichiers Azure est désormais disponible de manière générale), [Prise en main du stockage de fichiers Azure sur Windows](https://azure.microsoft.com/documentation/articles/storage-dotnet-how-to-use-files/#_mount-the-file-share)</span><span class="sxs-lookup"><span data-stu-id="3bca8-378">[Azure File Storage](https://azure.microsoft.com/blog/azure-file-storage-now-generally-available/#comment-2529238931), [Azure File Storage SMB Support for Windows Clients](https://azure.microsoft.com/documentation/articles/storage-dotnet-how-to-use-files/#_mount-the-file-share)</span></span> |
| <span data-ttu-id="3bca8-379">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-379">**Steps**</span></span> | <span data-ttu-id="3bca8-380">Azure File Storage prend en charge le protocole HTTPS avec l’API REST, mais il est plus couramment utilisé comme partage de fichiers SMB attaché à une machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="3bca8-380">Azure File Storage supports HTTPS when using the REST API, but is more commonly used as an SMB file share attached to a VM.</span></span> <span data-ttu-id="3bca8-381">SMB 2.1 ne prend pas en charge le chiffrement. Les connexions sont donc autorisées uniquement dans la même région Azure.</span><span class="sxs-lookup"><span data-stu-id="3bca8-381">SMB 2.1 does not support encryption, so connections are only allowed within the same region in Azure.</span></span> <span data-ttu-id="3bca8-382">Toutefois, SMB 3.0 prend en charge le chiffrement et peut être utilisé avec Windows Server 2012 R2, Windows 8, Windows 8.1 et Windows 10, ce qui rend possibles les connexions d’accès entre régions et même les accès sur le bureau.</span><span class="sxs-lookup"><span data-stu-id="3bca8-382">However, SMB 3.0 supports encryption, and can be used with Windows Server 2012 R2, Windows 8, Windows 8.1, and Windows 10, allowing cross-region access and even access on the desktop.</span></span> |

## <span data-ttu-id="3bca8-383"><a id="cert-pinning"></a>Implémenter l’épinglage de certificat</span><span class="sxs-lookup"><span data-stu-id="3bca8-383"><a id="cert-pinning"></a>Implement Certificate Pinning</span></span>

| <span data-ttu-id="3bca8-384">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-384">Title</span></span>                   | <span data-ttu-id="3bca8-385">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-385">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-386">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-386">**Component**</span></span>               | <span data-ttu-id="3bca8-387">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="3bca8-387">Azure Storage</span></span> | 
| <span data-ttu-id="3bca8-388">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-388">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-389">Créer</span><span class="sxs-lookup"><span data-stu-id="3bca8-389">Build</span></span> |  
| <span data-ttu-id="3bca8-390">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-390">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-391">Générique, Windows Phone</span><span class="sxs-lookup"><span data-stu-id="3bca8-391">Generic, Windows Phone</span></span> |
| <span data-ttu-id="3bca8-392">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-392">**Attributes**</span></span>              | <span data-ttu-id="3bca8-393">N/A</span><span class="sxs-lookup"><span data-stu-id="3bca8-393">N/A</span></span>  |
| <span data-ttu-id="3bca8-394">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-394">**References**</span></span>              | <span data-ttu-id="3bca8-395">[Certificate and Public Key Pinning](https://www.owasp.org/index.php/Certificate_and_Public_Key_Pinning#.Net) (Épinglage de clé publique et de certificat)</span><span class="sxs-lookup"><span data-stu-id="3bca8-395">[Certificate and Public Key Pinning](https://www.owasp.org/index.php/Certificate_and_Public_Key_Pinning#.Net)</span></span> |
| <span data-ttu-id="3bca8-396">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-396">**Steps**</span></span> | <p><span data-ttu-id="3bca8-397">L’épinglage de certificat assure une protection contre les interceptions.</span><span class="sxs-lookup"><span data-stu-id="3bca8-397">Certificate pinning defends against Man-In-The-Middle (MITM) attacks.</span></span> <span data-ttu-id="3bca8-398">L’épinglage consiste à associer un hôte à sa clé publique ou à son certificat X509 attendu.</span><span class="sxs-lookup"><span data-stu-id="3bca8-398">Pinning is the process of associating a host with their expected X509 certificate or public key.</span></span> <span data-ttu-id="3bca8-399">Une fois qu’un certificat ou une clé publique est connu ou vu par un hôte, le certificat ou la clé publique est associé ou « épinglé » à l’hôte.</span><span class="sxs-lookup"><span data-stu-id="3bca8-399">Once a certificate or public key is known or seen for a host, the certificate or public key is associated or 'pinned' to the host.</span></span> </p><p><span data-ttu-id="3bca8-400">Par conséquent, lorsqu’un pirate tente une interception de SSL, lors de la liaison SSL, la clé du serveur du pirate sera différente de la clé du certificat épinglé et la demande sera rejetée, empêchant ainsi l’interception. L’épinglage de certificat peut être obtenu en implémentant le délégué `ServerCertificateValidationCallback` de ServicePointManager.</span><span class="sxs-lookup"><span data-stu-id="3bca8-400">Thus, when an adversary attempts to do SSL MITM attack, during SSL handshake the key from attacker's server will be different from the pinned certificate's key, and the request will be discarded, thus preventing MITM Certificate pinning can be achieved by implementing ServicePointManager's `ServerCertificateValidationCallback` delegate.</span></span></p>|

### <a name="example"></a><span data-ttu-id="3bca8-401">Exemple</span><span class="sxs-lookup"><span data-stu-id="3bca8-401">Example</span></span>
```C#
using System;
using System.Net;
using System.Net.Security;
using System.Security.Cryptography;

namespace CertificatePinningExample
{
    class CertificatePinningExample
    {
        /* Note: In this example, we're hardcoding a the certificate's public key and algorithm for 
           demonstration purposes. In a real-world application, this should be stored in a secure
           configuration area that can be updated as needed. */

        private static readonly string PINNED_ALGORITHM = "RSA";

        private static readonly string PINNED_PUBLIC_KEY = "3082010A0282010100B0E75B7CBE56D31658EF79B3A1" +
            "294D506A88DFCDD603F6EF15E7F5BCBDF32291EC50B2B82BA158E905FE6A83EE044A48258B07FAC3D6356AF09B2" +
            "3EDAB15D00507B70DB08DB9A20C7D1201417B3071A346D663A241061C151B6EC5B5B4ECCCDCDBEA24F051962809" +
            "FEC499BF2D093C06E3BDA7D0BB83CDC1C2C6660B8ECB2EA30A685ADE2DC83C88314010FFC7F4F0F895EDDBE5C02" +
            "ABF78E50B708E0A0EB984A9AA536BCE61A0C31DB95425C6FEE5A564B158EE7C4F0693C439AE010EF83CA8155750" +
            "09B17537C29F86071E5DD8CA50EBD8A409494F479B07574D83EDCE6F68A8F7D40447471D05BC3F5EAD7862FA748" +
            "EA3C92A60A128344B1CEF7A0B0D94E50203010001";


        public static void Main(string[] args)
        {
            HttpWebRequest request = (HttpWebRequest)WebRequest.Create("https://azure.microsoft.com");
            request.ServerCertificateValidationCallback = (sender, certificate, chain, sslPolicyErrors) =>
            {
                if (certificate == null || sslPolicyErrors != SslPolicyErrors.None)
                {
                    // Error getting certificate or the certificate failed basic validation
                    return false;
                }

                var targetKeyAlgorithm = new Oid(certificate.GetKeyAlgorithm()).FriendlyName;
                var targetPublicKey = certificate.GetPublicKeyString();
                
                if (targetKeyAlgorithm == PINNED_ALGORITHM &&
                    targetPublicKey == PINNED_PUBLIC_KEY)
                {
                    // Success, the certificate matches the pinned value.
                    return true;
                }
                // Reject, either the key or the algorithm does not match the expected value.
                return false;
            };

            try
            {
                var response = (HttpWebResponse)request.GetResponse();
                Console.WriteLine($"Success, HTTP status code: {response.StatusCode}");
            }
            catch(Exception ex)
            {
                Console.WriteLine($"Failure, {ex.Message}");
            }
            Console.WriteLine("Press any key to end.");
            Console.ReadKey();
        }
    }
}
```

## <span data-ttu-id="3bca8-402"><a id="https-transport"></a>Activer le protocole HTTPS - Sécuriser le canal de transport</span><span class="sxs-lookup"><span data-stu-id="3bca8-402"><a id="https-transport"></a>Enable HTTPS - Secure Transport channel</span></span>

| <span data-ttu-id="3bca8-403">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-403">Title</span></span>                   | <span data-ttu-id="3bca8-404">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-404">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-405">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-405">**Component**</span></span>               | <span data-ttu-id="3bca8-406">WCF</span><span class="sxs-lookup"><span data-stu-id="3bca8-406">WCF</span></span> | 
| <span data-ttu-id="3bca8-407">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-407">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-408">Créer</span><span class="sxs-lookup"><span data-stu-id="3bca8-408">Build</span></span> |  
| <span data-ttu-id="3bca8-409">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-409">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-410">NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="3bca8-410">NET Framework 3</span></span> |
| <span data-ttu-id="3bca8-411">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-411">**Attributes**</span></span>              | <span data-ttu-id="3bca8-412">N/A</span><span class="sxs-lookup"><span data-stu-id="3bca8-412">N/A</span></span>  |
| <span data-ttu-id="3bca8-413">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-413">**References**</span></span>              | <span data-ttu-id="3bca8-414">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="3bca8-414">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="3bca8-415">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-415">**Steps**</span></span> | <span data-ttu-id="3bca8-416">La configuration de l’application doit garantir l’utilisation du protocole HTTPS pour tous les accès à des informations sensibles.</span><span class="sxs-lookup"><span data-stu-id="3bca8-416">The application configuration should ensure that HTTPS is used for all access to sensitive information.</span></span><ul><li><span data-ttu-id="3bca8-417">**EXPLICATION :** si une application gère des informations sensibles et n’utilise pas le chiffrement au niveau du message, elle doit être uniquement autorisée à communiquer sur un canal de transport chiffré.</span><span class="sxs-lookup"><span data-stu-id="3bca8-417">**EXPLANATION:** If an application handles sensitive information and does not use message-level encryption, then it should only be allowed to communicate over an encrypted transport channel.</span></span></li><li><span data-ttu-id="3bca8-418">**RECOMMANDATIONS :** assurez-vous que le transport HTTP est désactivé et activez le transport HTTPS à la place.</span><span class="sxs-lookup"><span data-stu-id="3bca8-418">**RECOMMENDATIONS:** Ensure that HTTP transport is disabled and enable HTTPS transport instead.</span></span> <span data-ttu-id="3bca8-419">Par exemple, remplacez `<httpTransport/>` par la balise `<httpsTransport/>`.</span><span class="sxs-lookup"><span data-stu-id="3bca8-419">For example, replace the `<httpTransport/>` with `<httpsTransport/>` tag.</span></span> <span data-ttu-id="3bca8-420">Ne comptez pas sur une configuration réseau (pare-feu) pour garantir l’accès à l’application sur un canal sécurisé uniquement.</span><span class="sxs-lookup"><span data-stu-id="3bca8-420">Do not rely on a network configuration (firewall) to guarantee that the application can only be accessed over a secure channel.</span></span> <span data-ttu-id="3bca8-421">D’un point de vue théorique, l’application ne doit pas dépendre du réseau pour sa sécurité.</span><span class="sxs-lookup"><span data-stu-id="3bca8-421">From a philosophical point of view, the application should not depend on the network for its security.</span></span></li></ul><p><span data-ttu-id="3bca8-422">D’un point de vue pratique, les responsables de la sécurisation du réseau ne suivent pas en permanence les exigences de sécurité de l’application à mesure de leur évolution.</span><span class="sxs-lookup"><span data-stu-id="3bca8-422">From a practical point of view, the people responsible for securing the network do not always track the security requirements of the application as they evolve.</span></span></p>|

## <span data-ttu-id="3bca8-423"><a id="message-protection"></a>WCF : Définir le niveau de protection de sécurité du message sur EncryptAndSign</span><span class="sxs-lookup"><span data-stu-id="3bca8-423"><a id="message-protection"></a>WCF: Set Message security Protection level to EncryptAndSign</span></span>

| <span data-ttu-id="3bca8-424">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-424">Title</span></span>                   | <span data-ttu-id="3bca8-425">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-425">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-426">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-426">**Component**</span></span>               | <span data-ttu-id="3bca8-427">WCF</span><span class="sxs-lookup"><span data-stu-id="3bca8-427">WCF</span></span> | 
| <span data-ttu-id="3bca8-428">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-428">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-429">Créer</span><span class="sxs-lookup"><span data-stu-id="3bca8-429">Build</span></span> |  
| <span data-ttu-id="3bca8-430">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-430">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-431">.NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="3bca8-431">.NET Framework 3</span></span> |
| <span data-ttu-id="3bca8-432">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-432">**Attributes**</span></span>              | <span data-ttu-id="3bca8-433">N/A</span><span class="sxs-lookup"><span data-stu-id="3bca8-433">N/A</span></span>  |
| <span data-ttu-id="3bca8-434">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-434">**References**</span></span>              | [<span data-ttu-id="3bca8-435">MSDN</span><span class="sxs-lookup"><span data-stu-id="3bca8-435">MSDN</span></span>](https://msdn.microsoft.com/library/ff650862.aspx) |
| <span data-ttu-id="3bca8-436">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-436">**Steps**</span></span> | <ul><li><span data-ttu-id="3bca8-437">**EXPLICATION :** quand le niveau de protection est défini sur la valeur « aucun », la protection des messages est désactivée.</span><span class="sxs-lookup"><span data-stu-id="3bca8-437">**EXPLANATION:** When Protection level is set to "none" it will disable message protection.</span></span> <span data-ttu-id="3bca8-438">La confidentialité et l’intégrité sont obtenues grâce à un niveau approprié de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="3bca8-438">Confidentiality and integrity is achieved with appropriate level of setting.</span></span></li><li><span data-ttu-id="3bca8-439">**RECOMMANDATIONS :**</span><span class="sxs-lookup"><span data-stu-id="3bca8-439">**RECOMMENDATIONS:**</span></span><ul><li><span data-ttu-id="3bca8-440">Quand `Mode=None`, la protection des messages est désactivée.</span><span class="sxs-lookup"><span data-stu-id="3bca8-440">when `Mode=None` - Disables message protection</span></span></li><li><span data-ttu-id="3bca8-441">Quand `Mode=Sign`, les messages sont signés mais pas chiffrés. Cette valeur doit être utilisée lorsque l’intégrité du message est primordiale.</span><span class="sxs-lookup"><span data-stu-id="3bca8-441">when `Mode=Sign` - Signs but does not encrypt the message; should be used when data integrity is important</span></span></li><li><span data-ttu-id="3bca8-442">Quand `Mode=EncryptAndSign`, les messages sont signés et chiffrés.</span><span class="sxs-lookup"><span data-stu-id="3bca8-442">when `Mode=EncryptAndSign` - Signs and encrypts the message</span></span></li></ul></li></ul><p><span data-ttu-id="3bca8-443">Pensez à désactiver le chiffrement et signez uniquement votre message lorsque vous avez simplement besoin de valider l’intégrité des informations, sans vous soucier de la confidentialité.</span><span class="sxs-lookup"><span data-stu-id="3bca8-443">Consider turning off encryption and only signing your message when you just need to validate the integrity of the information without concerns of confidentiality.</span></span> <span data-ttu-id="3bca8-444">Cela peut être utile pour les opérations ou les contrats de service pour lesquels vous avez besoin de valider l’expéditeur d’origine, mais qu’aucune donnée sensible n’est transmise.</span><span class="sxs-lookup"><span data-stu-id="3bca8-444">This may be useful for operations or service contracts in which you need to validate the original sender but no sensitive data is transmitted.</span></span> <span data-ttu-id="3bca8-445">Lorsque vous réduisez le niveau de protection, veillez à ce que le message ne contienne pas d’informations d’identification personnelle.</span><span class="sxs-lookup"><span data-stu-id="3bca8-445">When reducing the protection level, be careful that the message does not contain any personally identifiable information (PII).</span></span></p>|

### <a name="example"></a><span data-ttu-id="3bca8-446">Exemple</span><span class="sxs-lookup"><span data-stu-id="3bca8-446">Example</span></span>
<span data-ttu-id="3bca8-447">La configuration du service et de l’opération permettant de signer uniquement le message est indiquée dans les exemples suivants.</span><span class="sxs-lookup"><span data-stu-id="3bca8-447">Configuring the service and the operation to only sign the message is shown in the following examples.</span></span> <span data-ttu-id="3bca8-448">Exemple de contrat de service de `ProtectionLevel.Sign` : vous trouverez ci-dessous un exemple d’utilisation de ProtectionLevel.Sign au niveau du contrat de service :</span><span class="sxs-lookup"><span data-stu-id="3bca8-448">Service Contract Example of `ProtectionLevel.Sign`: The following is an example of using ProtectionLevel.Sign at the Service Contract level:</span></span> 
```
[ServiceContract(Protection Level=ProtectionLevel.Sign] 
public interface IService 
  { 
  string GetData(int value); 
  } 
```

### <a name="example"></a><span data-ttu-id="3bca8-449">Exemple</span><span class="sxs-lookup"><span data-stu-id="3bca8-449">Example</span></span>
<span data-ttu-id="3bca8-450">Exemple de contrat d’opération de `ProtectionLevel.Sign` (pour un contrôle granulaire) : vous trouverez ci-dessous un exemple d’utilisation de `ProtectionLevel.Sign` au niveau du contrant d’opération :</span><span class="sxs-lookup"><span data-stu-id="3bca8-450">Operation Contract Example of `ProtectionLevel.Sign` (for Granular Control): The following is an example of using `ProtectionLevel.Sign` at the OperationContract level:</span></span>

```
[OperationContract(ProtectionLevel=ProtectionLevel.Sign] 
string GetData(int value);
``` 

## <span data-ttu-id="3bca8-451"><a id="least-account-wcf"></a>WCF : Utiliser un compte avec des privilèges minimum pour exécuter votre service WCF</span><span class="sxs-lookup"><span data-stu-id="3bca8-451"><a id="least-account-wcf"></a>WCF: Use a least-privileged account to run your WCF service</span></span>

| <span data-ttu-id="3bca8-452">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-452">Title</span></span>                   | <span data-ttu-id="3bca8-453">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-453">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-454">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-454">**Component**</span></span>               | <span data-ttu-id="3bca8-455">WCF</span><span class="sxs-lookup"><span data-stu-id="3bca8-455">WCF</span></span> | 
| <span data-ttu-id="3bca8-456">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-456">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-457">Créer</span><span class="sxs-lookup"><span data-stu-id="3bca8-457">Build</span></span> |  
| <span data-ttu-id="3bca8-458">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-458">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-459">.NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="3bca8-459">.NET Framework 3</span></span> |
| <span data-ttu-id="3bca8-460">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-460">**Attributes**</span></span>              | <span data-ttu-id="3bca8-461">N/A</span><span class="sxs-lookup"><span data-stu-id="3bca8-461">N/A</span></span>  |
| <span data-ttu-id="3bca8-462">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-462">**References**</span></span>              | [<span data-ttu-id="3bca8-463">MSDN</span><span class="sxs-lookup"><span data-stu-id="3bca8-463">MSDN</span></span>](https://msdn.microsoft.com/library/ff648826.aspx ) |
| <span data-ttu-id="3bca8-464">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-464">**Steps**</span></span> | <ul><li><span data-ttu-id="3bca8-465">**EXPLICATION :** n’exécutez pas de services WCF sous un compte administrateur ou avec des privilèges élevés.</span><span class="sxs-lookup"><span data-stu-id="3bca8-465">**EXPLANATION:** Do not run WCF services under admin or high privilege account.</span></span> <span data-ttu-id="3bca8-466">En cas de compromission des services, l’impact sera important.</span><span class="sxs-lookup"><span data-stu-id="3bca8-466">in case of services compromise it will result in high impact.</span></span></li><li><span data-ttu-id="3bca8-467">**RECOMMANDATIONS :** utilisez un compte avec des privilèges minimum pour héberger votre service WCF, car cela réduira la surface d’attaque de votre application, ainsi que les dommages potentiels si vous êtes attaqué.</span><span class="sxs-lookup"><span data-stu-id="3bca8-467">**RECOMMENDATIONS:** Use a least-privileged account to host your WCF service because it will reduce your application's attack surface and reduce the potential damage if you are attacked.</span></span> <span data-ttu-id="3bca8-468">Si le compte de service requiert des droits d’accès supplémentaires sur les ressources d’infrastructure tels que MSMQ, le journal des événements, les compteurs de performance et le système de fichiers, des autorisations appropriées doivent être accordées à ces ressources pour que le service WCF puisse s’exécuter correctement.</span><span class="sxs-lookup"><span data-stu-id="3bca8-468">If the service account requires additional access rights on infrastructure resources such as MSMQ, the event log, performance counters, and the file system, appropriate permissions should be given to these resources so that the WCF service can run successfully.</span></span></li></ul><p><span data-ttu-id="3bca8-469">Si votre service a besoin d’accéder à des ressources spécifiques pour le compte de l’appelant d’origine, utilisez l’emprunt d’identité et la délégation pour faire circuler l’identité de l’appelant pour une vérification d’autorisation en aval.</span><span class="sxs-lookup"><span data-stu-id="3bca8-469">If your service needs to access specific resources on behalf of the original caller, use impersonation and delegation to flow the caller's identity for a downstream authorization check.</span></span> <span data-ttu-id="3bca8-470">Dans un scénario de développement, utilisez le compte de service réseau local, qui est un compte spécial intégré disposant de privilèges réduits.</span><span class="sxs-lookup"><span data-stu-id="3bca8-470">In a development scenario, use the local network service account, which is a special built-in account that has reduced privileges.</span></span> <span data-ttu-id="3bca8-471">Dans un scénario de production, créez un compte de service de domaine personnalisé avec des privilèges minimum.</span><span class="sxs-lookup"><span data-stu-id="3bca8-471">In a production scenario, create a least-privileged custom domain service account.</span></span></p>|

## <span data-ttu-id="3bca8-472"><a id="webapi-https"></a>Forcer l’intégralité du trafic vers les API web sur la connexion HTTPS</span><span class="sxs-lookup"><span data-stu-id="3bca8-472"><a id="webapi-https"></a>Force all traffic to Web APIs over HTTPS connection</span></span>

| <span data-ttu-id="3bca8-473">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-473">Title</span></span>                   | <span data-ttu-id="3bca8-474">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-474">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-475">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-475">**Component**</span></span>               | <span data-ttu-id="3bca8-476">API Web</span><span class="sxs-lookup"><span data-stu-id="3bca8-476">Web API</span></span> | 
| <span data-ttu-id="3bca8-477">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-477">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-478">Créer</span><span class="sxs-lookup"><span data-stu-id="3bca8-478">Build</span></span> |  
| <span data-ttu-id="3bca8-479">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-479">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-480">MVC5, MVC6</span><span class="sxs-lookup"><span data-stu-id="3bca8-480">MVC5, MVC6</span></span> |
| <span data-ttu-id="3bca8-481">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-481">**Attributes**</span></span>              | <span data-ttu-id="3bca8-482">N/A</span><span class="sxs-lookup"><span data-stu-id="3bca8-482">N/A</span></span>  |
| <span data-ttu-id="3bca8-483">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-483">**References**</span></span>              | <span data-ttu-id="3bca8-484">[Enforcing SSL in a Web API Controller](http://www.asp.net/web-api/overview/security/working-with-ssl-in-web-api) (Application de SSL dans un contrôleur d’API Web)</span><span class="sxs-lookup"><span data-stu-id="3bca8-484">[Enforcing SSL in a Web API Controller](http://www.asp.net/web-api/overview/security/working-with-ssl-in-web-api)</span></span> |
| <span data-ttu-id="3bca8-485">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-485">**Steps**</span></span> | <span data-ttu-id="3bca8-486">Si une application a une liaison HTTP et une liaison HTTPS, les clients peuvent toujours utiliser HTTP pour accéder au site.</span><span class="sxs-lookup"><span data-stu-id="3bca8-486">If an application has both an HTTPS and an HTTP binding, clients can still use HTTP to access the site.</span></span> <span data-ttu-id="3bca8-487">Pour éviter cela, utilisez un filtre d’action afin de vous assurer que les demandes envoyées aux API protégées sont toujours sur HTTPS.</span><span class="sxs-lookup"><span data-stu-id="3bca8-487">To prevent this, use an action filter to ensure that requests to protected APIs are always over HTTPS.</span></span>|

### <a name="example"></a><span data-ttu-id="3bca8-488">Exemple</span><span class="sxs-lookup"><span data-stu-id="3bca8-488">Example</span></span> 
<span data-ttu-id="3bca8-489">Le code suivant montre un filtre d’authentification d’API web qui recherche SSL :</span><span class="sxs-lookup"><span data-stu-id="3bca8-489">The following code shows a Web API authentication filter that checks for SSL:</span></span> 
```C#
public class RequireHttpsAttribute : AuthorizationFilterAttribute
{
    public override void OnAuthorization(HttpActionContext actionContext)
    {
        if (actionContext.Request.RequestUri.Scheme != Uri.UriSchemeHttps)
        {
            actionContext.Response = new HttpResponseMessage(System.Net.HttpStatusCode.Forbidden)
            {
                ReasonPhrase = "HTTPS Required"
            };
        }
        else
        {
            base.OnAuthorization(actionContext);
        }
    }
}
```
<span data-ttu-id="3bca8-490">Ajoutez ce filtre à toutes les actions de l’API web nécessitant SSL :</span><span class="sxs-lookup"><span data-stu-id="3bca8-490">Add this filter to any Web API actions that require SSL:</span></span> 
```C#
public class ValuesController : ApiController
{
    [RequireHttps]
    public HttpResponseMessage Get() { ... }
}
```
 
## <span data-ttu-id="3bca8-491"><a id="redis-ssl"></a>Vérifier que la communication vers le Cache Redis Azure est sur SSL</span><span class="sxs-lookup"><span data-stu-id="3bca8-491"><a id="redis-ssl"></a>Ensure that communication to Azure Redis Cache is over SSL</span></span>

| <span data-ttu-id="3bca8-492">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-492">Title</span></span>                   | <span data-ttu-id="3bca8-493">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-493">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-494">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-494">**Component**</span></span>               | <span data-ttu-id="3bca8-495">Cache Redis Azure</span><span class="sxs-lookup"><span data-stu-id="3bca8-495">Azure Redis Cache</span></span> | 
| <span data-ttu-id="3bca8-496">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-496">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-497">Créer</span><span class="sxs-lookup"><span data-stu-id="3bca8-497">Build</span></span> |  
| <span data-ttu-id="3bca8-498">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-498">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-499">Générique</span><span class="sxs-lookup"><span data-stu-id="3bca8-499">Generic</span></span> |
| <span data-ttu-id="3bca8-500">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-500">**Attributes**</span></span>              | <span data-ttu-id="3bca8-501">N/A</span><span class="sxs-lookup"><span data-stu-id="3bca8-501">N/A</span></span>  |
| <span data-ttu-id="3bca8-502">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-502">**References**</span></span>              | [<span data-ttu-id="3bca8-503">Forum aux questions sur le Cache Redis Azure</span><span class="sxs-lookup"><span data-stu-id="3bca8-503">Azure Redis SSL support</span></span>](https://azure.microsoft.com/documentation/articles/cache-faq/#when-should-i-enable-the-non-ssl-port-for-connecting-to-redis) |
| <span data-ttu-id="3bca8-504">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-504">**Steps**</span></span> | <span data-ttu-id="3bca8-505">Le serveur Redis ne prend pas en charge SSL dès le départ, contrairement au Cache Redis Azure.</span><span class="sxs-lookup"><span data-stu-id="3bca8-505">Redis server does not support SSL out of the box, but Azure Redis Cache does.</span></span> <span data-ttu-id="3bca8-506">Si vous vous connectez à un Cache Redis Azure et que votre client est compatible SSL, par exemple StackExchange.Redis, vous devez utiliser SSL.</span><span class="sxs-lookup"><span data-stu-id="3bca8-506">If you are connecting to Azure Redis Cache and your client supports SSL, like StackExchange.Redis, then you should use SSL.</span></span> <span data-ttu-id="3bca8-507">Par défaut, le port non SSL est désactivé pour les nouvelles instances Cache Redis Azure.</span><span class="sxs-lookup"><span data-stu-id="3bca8-507">By default non-SSL port is disabled for new Azure Redis Cache instances.</span></span> <span data-ttu-id="3bca8-508">Assurez-vous que les valeurs par défaut sécurisées ne sont pas modifiées sauf s’il existe une dépendance sur la prise en charge SSL pour les clients Redis.</span><span class="sxs-lookup"><span data-stu-id="3bca8-508">Ensure that the secure defaults are not changed unless there is a dependency on SSL support for redis clients.</span></span> |

<span data-ttu-id="3bca8-509">Notez que Redis est conçu pour être accessible par les clients approuvés dans des environnements de confiance.</span><span class="sxs-lookup"><span data-stu-id="3bca8-509">Please note that Redis is designed to be accessed by trusted clients inside trusted environments.</span></span> <span data-ttu-id="3bca8-510">Cela signifie que généralement ce n’est pas une bonne idée d’exposer l’instance Redis directement sur Internet ou, en règle générale, dans un environnement où les clients non approuvés peuvent directement accéder au port TCP Redis ou socket UNIX.</span><span class="sxs-lookup"><span data-stu-id="3bca8-510">This means that usually it is not a good idea to expose the Redis instance directly to the internet or, in general, to an environment where untrusted clients can directly access the Redis TCP port or UNIX socket.</span></span> 

## <span data-ttu-id="3bca8-511"><a id="device-field"></a>Sécuriser la communication entre l’appareil et la passerelle de champ</span><span class="sxs-lookup"><span data-stu-id="3bca8-511"><a id="device-field"></a>Secure Device to Field Gateway communication</span></span>

| <span data-ttu-id="3bca8-512">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-512">Title</span></span>                   | <span data-ttu-id="3bca8-513">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-513">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-514">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-514">**Component**</span></span>               | <span data-ttu-id="3bca8-515">Passerelle de champ IoT</span><span class="sxs-lookup"><span data-stu-id="3bca8-515">IoT Field Gateway</span></span> | 
| <span data-ttu-id="3bca8-516">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-516">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-517">Créer</span><span class="sxs-lookup"><span data-stu-id="3bca8-517">Build</span></span> |  
| <span data-ttu-id="3bca8-518">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-518">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-519">Générique</span><span class="sxs-lookup"><span data-stu-id="3bca8-519">Generic</span></span> |
| <span data-ttu-id="3bca8-520">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-520">**Attributes**</span></span>              | <span data-ttu-id="3bca8-521">N/A</span><span class="sxs-lookup"><span data-stu-id="3bca8-521">N/A</span></span>  |
| <span data-ttu-id="3bca8-522">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-522">**References**</span></span>              | <span data-ttu-id="3bca8-523">N/A</span><span class="sxs-lookup"><span data-stu-id="3bca8-523">N/A</span></span>  |
| <span data-ttu-id="3bca8-524">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-524">**Steps**</span></span> | <span data-ttu-id="3bca8-525">Pour les appareils basés sur IP, le protocole de communication peut généralement être encapsulé dans un canal SSL/TLS pour protéger les données en transit.</span><span class="sxs-lookup"><span data-stu-id="3bca8-525">For IP based devices, the communication protocol could typically be encapsulated in a SSL/TLS channel to protect data in transit.</span></span> <span data-ttu-id="3bca8-526">Pour d’autres protocoles qui ne prennent pas en charge le protocole SSL/TLS, recherchez s’il existe des versions sécurisées du protocole qui assurent la sécurité au niveau du transport ou du message.</span><span class="sxs-lookup"><span data-stu-id="3bca8-526">For other protocols that do not support SSL/TLS investigate if there are secure versions of the protocol that provide security at transport or message layer.</span></span> |

## <span data-ttu-id="3bca8-527"><a id="device-cloud"></a>Sécuriser la communication entre l’appareil et la passerelle de cloud à l’aide du protocole SSL/TLS</span><span class="sxs-lookup"><span data-stu-id="3bca8-527"><a id="device-cloud"></a>Secure Device to Cloud Gateway communication using SSL/TLS</span></span>

| <span data-ttu-id="3bca8-528">Intitulé</span><span class="sxs-lookup"><span data-stu-id="3bca8-528">Title</span></span>                   | <span data-ttu-id="3bca8-529">Détails</span><span class="sxs-lookup"><span data-stu-id="3bca8-529">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3bca8-530">**Composant**</span><span class="sxs-lookup"><span data-stu-id="3bca8-530">**Component**</span></span>               | <span data-ttu-id="3bca8-531">Passerelle de cloud IoT</span><span class="sxs-lookup"><span data-stu-id="3bca8-531">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="3bca8-532">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="3bca8-532">**SDL Phase**</span></span>               | <span data-ttu-id="3bca8-533">Créer</span><span class="sxs-lookup"><span data-stu-id="3bca8-533">Build</span></span> |  
| <span data-ttu-id="3bca8-534">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="3bca8-534">**Applicable Technologies**</span></span> | <span data-ttu-id="3bca8-535">Générique</span><span class="sxs-lookup"><span data-stu-id="3bca8-535">Generic</span></span> |
| <span data-ttu-id="3bca8-536">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="3bca8-536">**Attributes**</span></span>              | <span data-ttu-id="3bca8-537">N/A</span><span class="sxs-lookup"><span data-stu-id="3bca8-537">N/A</span></span>  |
| <span data-ttu-id="3bca8-538">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="3bca8-538">**References**</span></span>              | [<span data-ttu-id="3bca8-539">Guide du développeur Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="3bca8-539">Choose your Communication Protocol</span></span>](https://azure.microsoft.com/documentation/articles/iot-hub-devguide/#messaging) |
| <span data-ttu-id="3bca8-540">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="3bca8-540">**Steps**</span></span> | <span data-ttu-id="3bca8-541">Sécuriser les protocoles HTTP/AMQP ou MQTT à l’aide du protocole SSL/TLS.</span><span class="sxs-lookup"><span data-stu-id="3bca8-541">Secure HTTP/AMQP or MQTT protocols using SSL/TLS.</span></span> |
