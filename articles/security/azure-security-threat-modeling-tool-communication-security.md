---
title: "aaaCommunication sécurité - outil de modélisation des menaces Microsoft - Azure | Documents Microsoft"
description: "mesures d’atténuation des menaces exposé Bonjour outil de modélisation des menaces"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: 667829c75123f4dbe0b383fdaf8cd899802f9b16
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="security-frame-communication-security--mitigations"></a><span data-ttu-id="7d0fe-103">Infrastructure de sécurité : sécurité des communications | Mesures de correction</span><span class="sxs-lookup"><span data-stu-id="7d0fe-103">Security Frame: Communication Security | Mitigations</span></span> 
| <span data-ttu-id="7d0fe-104">Produit/Service</span><span class="sxs-lookup"><span data-stu-id="7d0fe-104">Product/Service</span></span> | <span data-ttu-id="7d0fe-105">Article</span><span class="sxs-lookup"><span data-stu-id="7d0fe-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="7d0fe-106">**Azure Event Hub**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-106">**Azure Event Hub**</span></span> | <ul><li>[<span data-ttu-id="7d0fe-107">Une communication sécurisée tooEvent concentrateur à l’aide de SSL/TLS</span><span class="sxs-lookup"><span data-stu-id="7d0fe-107">Secure communication tooEvent Hub using SSL/TLS</span></span>](#comm-ssltls)</li></ul> |
| <span data-ttu-id="7d0fe-108">**Dynamics CRM**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-108">**Dynamics CRM**</span></span> | <ul><li>[<span data-ttu-id="7d0fe-109">Vérifiez le compte de service des privilèges et vérifiez que hello personnalisés des Services ou des Pages ASP.NET respectent la sécurité de CRM</span><span class="sxs-lookup"><span data-stu-id="7d0fe-109">Check service account privileges and check that hello custom Services or ASP.NET Pages respect CRM's security</span></span>](#priv-aspnet)</li></ul> |
| <span data-ttu-id="7d0fe-110">**Azure Data Factory**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-110">**Azure Data Factory**</span></span> | <ul><li>[<span data-ttu-id="7d0fe-111">Utiliser la passerelle de gestion des données lors de la connexion sur le serveur SQL local tooAzure Data Factory</span><span class="sxs-lookup"><span data-stu-id="7d0fe-111">Use Data management gateway while connecting On Prem SQL Server tooAzure Data Factory</span></span>](#sqlserver-factory)</li></ul> |
| <span data-ttu-id="7d0fe-112">**IdentityServer**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-112">**Identity Server**</span></span> | <ul><li>[<span data-ttu-id="7d0fe-113">Vérifiez que tout le trafic tooIdentity serveur via une connexion HTTPS</span><span class="sxs-lookup"><span data-stu-id="7d0fe-113">Ensure that all traffic tooIdentity Server is over HTTPS connection</span></span>](#identity-https)</li></ul> |
| <span data-ttu-id="7d0fe-114">**Application web**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-114">**Web Application**</span></span> | <ul><li>[<span data-ttu-id="7d0fe-115">Vérifiez que les certificats X.509 utilisé tooauthenticate des connexions SSL, TLS et DTLS</span><span class="sxs-lookup"><span data-stu-id="7d0fe-115">Verify X.509 certificates used tooauthenticate SSL, TLS, and DTLS connections</span></span>](#x509-ssltls)</li><li>[<span data-ttu-id="7d0fe-116">Configurer le certificat SSL pour le domaine personnalisé dans Azure App Service</span><span class="sxs-lookup"><span data-stu-id="7d0fe-116">Configure SSL certificate for custom domain in Azure App Service</span></span>](#ssl-appservice)</li><li>[<span data-ttu-id="7d0fe-117">Forcer tous les tooAzure de trafic du Service d’applications via une connexion HTTPS</span><span class="sxs-lookup"><span data-stu-id="7d0fe-117">Force all traffic tooAzure App Service over HTTPS connection</span></span>](#appservice-https)</li><li>[<span data-ttu-id="7d0fe-118">Activer le protocole HTTP Strict Transport Security (HSTS)</span><span class="sxs-lookup"><span data-stu-id="7d0fe-118">Enable HTTP Strict Transport Security (HSTS)</span></span>](#http-hsts)</li></ul> |
| <span data-ttu-id="7d0fe-119">**Base de données**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-119">**Database**</span></span> | <ul><li>[<span data-ttu-id="7d0fe-120">Assurer le chiffrement de la connexion SQL Server et la validation des certificats</span><span class="sxs-lookup"><span data-stu-id="7d0fe-120">Ensure SQL server connection encryption and certificate validation</span></span>](#sqlserver-validation)</li><li>[<span data-ttu-id="7d0fe-121">Forcer le chiffrement communication tooSQL serveur</span><span class="sxs-lookup"><span data-stu-id="7d0fe-121">Force Encrypted communication tooSQL server</span></span>](#encrypted-sqlserver)</li></ul> |
| <span data-ttu-id="7d0fe-122">**Azure Storage**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-122">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="7d0fe-123">Assurez-vous que tooAzure communication que stockage est effectuée via HTTPS</span><span class="sxs-lookup"><span data-stu-id="7d0fe-123">Ensure that communication tooAzure Storage is over HTTPS</span></span>](#comm-storage)</li><li>[<span data-ttu-id="7d0fe-124">Valider le hachage MD5 après le téléchargement de blobs si le protocole HTTPS ne peut pas être activé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-124">Validate MD5 hash after downloading blob if HTTPS cannot be enabled</span></span>](#md5-https)</li><li>[<span data-ttu-id="7d0fe-125">Utiliser SMB 3.0 client compatible tooensure en transit tooAzure de chiffrement de données des partages de fichiers</span><span class="sxs-lookup"><span data-stu-id="7d0fe-125">Use SMB 3.0 compatible client tooensure in-transit data encryption tooAzure File Shares</span></span>](#smb-shares)</li></ul> |
| <span data-ttu-id="7d0fe-126">**Client mobile**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-126">**Mobile Client**</span></span> | <ul><li>[<span data-ttu-id="7d0fe-127">Implémenter l’épinglage de certificat</span><span class="sxs-lookup"><span data-stu-id="7d0fe-127">Implement Certificate Pinning</span></span>](#cert-pinning)</li></ul> |
| <span data-ttu-id="7d0fe-128">**WCF**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-128">**WCF**</span></span> | <ul><li>[<span data-ttu-id="7d0fe-129">Activer le protocole HTTPS - Sécuriser le canal de transport</span><span class="sxs-lookup"><span data-stu-id="7d0fe-129">Enable HTTPS - Secure Transport channel</span></span>](#https-transport)</li><li>[<span data-ttu-id="7d0fe-130">WCF : TooEncryptAndSign au niveau du Protection sécurité ensemble Message</span><span class="sxs-lookup"><span data-stu-id="7d0fe-130">WCF: Set Message security Protection level tooEncryptAndSign</span></span>](#message-protection)</li><li>[<span data-ttu-id="7d0fe-131">WCF : Utiliser un compte le moins privilégié de toorun votre service WCF</span><span class="sxs-lookup"><span data-stu-id="7d0fe-131">WCF: Use a least-privileged account toorun your WCF service</span></span>](#least-account-wcf)</li></ul> |
| <span data-ttu-id="7d0fe-132">**API Web**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-132">**Web API**</span></span> | <ul><li>[<span data-ttu-id="7d0fe-133">Forcer tooWeb trafic toutes les API via une connexion HTTPS</span><span class="sxs-lookup"><span data-stu-id="7d0fe-133">Force all traffic tooWeb APIs over HTTPS connection</span></span>](#webapi-https)</li></ul> |
| <span data-ttu-id="7d0fe-134">**Cache Redis Azure**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-134">**Azure Redis Cache**</span></span> | <ul><li>[<span data-ttu-id="7d0fe-135">Assurez-vous que tooAzure communication que cache Redis est via le protocole SSL</span><span class="sxs-lookup"><span data-stu-id="7d0fe-135">Ensure that communication tooAzure Redis Cache is over SSL</span></span>](#redis-ssl)</li></ul> |
| <span data-ttu-id="7d0fe-136">**Passerelle de champ IoT**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-136">**IoT Field Gateway**</span></span> | <ul><li>[<span data-ttu-id="7d0fe-137">APPAREIL tooField passerelle communication sécurisée</span><span class="sxs-lookup"><span data-stu-id="7d0fe-137">Secure Device tooField Gateway communication</span></span>](#device-field)</li></ul> |
| <span data-ttu-id="7d0fe-138">**Passerelle de cloud IoT**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-138">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="7d0fe-139">Sécuriser l’appareil tooCloud communication de passerelle à l’aide de SSL/TLS</span><span class="sxs-lookup"><span data-stu-id="7d0fe-139">Secure Device tooCloud Gateway communication using SSL/TLS</span></span>](#device-cloud)</li></ul> |

## <span data-ttu-id="7d0fe-140"><a id="comm-ssltls"></a>Une communication sécurisée tooEvent concentrateur à l’aide de SSL/TLS</span><span class="sxs-lookup"><span data-stu-id="7d0fe-140"><a id="comm-ssltls"></a>Secure communication tooEvent Hub using SSL/TLS</span></span>

| <span data-ttu-id="7d0fe-141">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-141">Title</span></span>                   | <span data-ttu-id="7d0fe-142">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-142">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-143">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-143">**Component**</span></span>               | <span data-ttu-id="7d0fe-144">Azure Event Hub</span><span class="sxs-lookup"><span data-stu-id="7d0fe-144">Azure Event Hub</span></span> | 
| <span data-ttu-id="7d0fe-145">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-145">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-146">Créer</span><span class="sxs-lookup"><span data-stu-id="7d0fe-146">Build</span></span> |  
| <span data-ttu-id="7d0fe-147">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-147">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-148">Générique</span><span class="sxs-lookup"><span data-stu-id="7d0fe-148">Generic</span></span> |
| <span data-ttu-id="7d0fe-149">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-149">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-150">N/A</span><span class="sxs-lookup"><span data-stu-id="7d0fe-150">N/A</span></span>  |
| <span data-ttu-id="7d0fe-151">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-151">**References**</span></span>              | [<span data-ttu-id="7d0fe-152">Présentation du modèle de sécurité et de l’authentification Event Hubs</span><span class="sxs-lookup"><span data-stu-id="7d0fe-152">Event Hubs authentication and security model overview</span></span>](https://azure.microsoft.com/documentation/articles/event-hubs-authentication-and-security-model-overview/) |
| <span data-ttu-id="7d0fe-153">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-153">**Steps**</span></span> | <span data-ttu-id="7d0fe-154">Sécuriser les connexions du protocole AMQP ou HTTP tooEvent concentrateur à l’aide de SSL/TLS</span><span class="sxs-lookup"><span data-stu-id="7d0fe-154">Secure AMQP or HTTP connections tooEvent Hub using SSL/TLS</span></span> |

## <span data-ttu-id="7d0fe-155"><a id="priv-aspnet"></a>Vérifiez le compte de service des privilèges et vérifiez que hello personnalisés des Services ou des Pages ASP.NET respectent la sécurité de CRM</span><span class="sxs-lookup"><span data-stu-id="7d0fe-155"><a id="priv-aspnet"></a>Check service account privileges and check that hello custom Services or ASP.NET Pages respect CRM's security</span></span>

| <span data-ttu-id="7d0fe-156">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-156">Title</span></span>                   | <span data-ttu-id="7d0fe-157">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-157">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-158">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-158">**Component**</span></span>               | <span data-ttu-id="7d0fe-159">Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="7d0fe-159">Dynamics CRM</span></span> | 
| <span data-ttu-id="7d0fe-160">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-160">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-161">Créer</span><span class="sxs-lookup"><span data-stu-id="7d0fe-161">Build</span></span> |  
| <span data-ttu-id="7d0fe-162">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-162">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-163">Générique</span><span class="sxs-lookup"><span data-stu-id="7d0fe-163">Generic</span></span> |
| <span data-ttu-id="7d0fe-164">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-164">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-165">N/A</span><span class="sxs-lookup"><span data-stu-id="7d0fe-165">N/A</span></span>  |
| <span data-ttu-id="7d0fe-166">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-166">**References**</span></span>              | <span data-ttu-id="7d0fe-167">N/A</span><span class="sxs-lookup"><span data-stu-id="7d0fe-167">N/A</span></span>  |
| <span data-ttu-id="7d0fe-168">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-168">**Steps**</span></span> | <span data-ttu-id="7d0fe-169">Vérifiez le compte de service des privilèges et vérifiez que hello personnalisés des Services ou des Pages ASP.NET respectent la sécurité de CRM</span><span class="sxs-lookup"><span data-stu-id="7d0fe-169">Check service account privileges and check that hello custom Services or ASP.NET Pages respect CRM's security</span></span> |

## <span data-ttu-id="7d0fe-170"><a id="sqlserver-factory"></a>Utiliser la passerelle de gestion des données lors de la connexion sur le serveur SQL local tooAzure Data Factory</span><span class="sxs-lookup"><span data-stu-id="7d0fe-170"><a id="sqlserver-factory"></a>Use Data management gateway while connecting On Prem SQL Server tooAzure Data Factory</span></span>

| <span data-ttu-id="7d0fe-171">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-171">Title</span></span>                   | <span data-ttu-id="7d0fe-172">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-172">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-173">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-173">**Component**</span></span>               | <span data-ttu-id="7d0fe-174">Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="7d0fe-174">Azure Data Factory</span></span> | 
| <span data-ttu-id="7d0fe-175">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-175">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-176">Déploiement</span><span class="sxs-lookup"><span data-stu-id="7d0fe-176">Deployment</span></span> |  
| <span data-ttu-id="7d0fe-177">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-177">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-178">Générique</span><span class="sxs-lookup"><span data-stu-id="7d0fe-178">Generic</span></span> |
| <span data-ttu-id="7d0fe-179">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-179">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-180">Types de services liés - Azure et local</span><span class="sxs-lookup"><span data-stu-id="7d0fe-180">Linked Service Types - Azure and On Prem</span></span> |
| <span data-ttu-id="7d0fe-181">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-181">**References**</span></span>              |<span data-ttu-id="7d0fe-182">[Déplacement de données entre des sources locales et le cloud à l’aide de la passerelle de gestion des données](https://azure.microsoft.com/documentation/articles/data-factory-move-data-between-onprem-and-cloud/#create-gateway), [Passerelle de gestion de données](https://azure.microsoft.com/documentation/articles/data-factory-data-management-gateway/)</span><span class="sxs-lookup"><span data-stu-id="7d0fe-182">[ Moving data between On Prem and Azure Data Factory](https://azure.microsoft.com/documentation/articles/data-factory-move-data-between-onprem-and-cloud/#create-gateway), [Data management gateway](https://azure.microsoft.com/documentation/articles/data-factory-data-management-gateway/)</span></span> |
| <span data-ttu-id="7d0fe-183">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-183">**Steps**</span></span> | <p><span data-ttu-id="7d0fe-184">outil de passerelle de gestion des données (DMG) Hello est tooconnect requis toodata sources sont protégés derrière un pare-feu ou un réseau d’entreprise.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-184">hello Data Management Gateway (DMG) tool is required tooconnect toodata sources which are protected behind corpnet or a firewall.</span></span></p><ol><li><span data-ttu-id="7d0fe-185">Verrouillage de la machine de hello isole l’outil DMG hello et empêche les programmes ne fonctionnant pas correctement d’endommager ou de surveillance sur l’ordinateur de source de données hello.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-185">Locking down hello machine isolates hello DMG tool and prevents malfunctioning programs from damaging or snooping on hello data source machine.</span></span> <span data-ttu-id="7d0fe-186">(Par exemple,</span><span class="sxs-lookup"><span data-stu-id="7d0fe-186">(E.g.</span></span> <span data-ttu-id="7d0fe-187">les dernières mises à jour doivent être installées, activer le nombre minimal de ports requis, approvisionnement des comptes contrôlés, audit activé, chiffrement activé, etc.).</span><span class="sxs-lookup"><span data-stu-id="7d0fe-187">latest updates must be installed, enable minimum required ports, controlled accounts provisioning, auditing enabled, disk encryption enabled etc.)</span></span></li><li><span data-ttu-id="7d0fe-188">Clé de passerelle de données doit faire pivoter à intervalles fréquents ou chaque fois que le mot de passe du compte hello DMG service renouvelle</span><span class="sxs-lookup"><span data-stu-id="7d0fe-188">Data Gateway key must be rotated at frequent intervals or whenever hello DMG service account password renews</span></span></li><li><span data-ttu-id="7d0fe-189">Les transits de données via le service lié doivent être chiffrés.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-189">Data transits through Link Service must be encrypted</span></span></li></ol> |

## <span data-ttu-id="7d0fe-190"><a id="identity-https"></a>Vérifiez que tout le trafic tooIdentity serveur via une connexion HTTPS</span><span class="sxs-lookup"><span data-stu-id="7d0fe-190"><a id="identity-https"></a>Ensure that all traffic tooIdentity Server is over HTTPS connection</span></span>

| <span data-ttu-id="7d0fe-191">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-191">Title</span></span>                   | <span data-ttu-id="7d0fe-192">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-192">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-193">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-193">**Component**</span></span>               | <span data-ttu-id="7d0fe-194">IdentityServer</span><span class="sxs-lookup"><span data-stu-id="7d0fe-194">Identity Server</span></span> | 
| <span data-ttu-id="7d0fe-195">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-195">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-196">Déploiement</span><span class="sxs-lookup"><span data-stu-id="7d0fe-196">Deployment</span></span> |  
| <span data-ttu-id="7d0fe-197">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-197">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-198">Générique</span><span class="sxs-lookup"><span data-stu-id="7d0fe-198">Generic</span></span> |
| <span data-ttu-id="7d0fe-199">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-199">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-200">N/A</span><span class="sxs-lookup"><span data-stu-id="7d0fe-200">N/A</span></span>  |
| <span data-ttu-id="7d0fe-201">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-201">**References**</span></span>              | <span data-ttu-id="7d0fe-202">[IdentityServer3 - Keys, Signatures and Cryptography](https://identityserver.github.io/Documentation/docsv2/configuration/crypto.html) (IdentityServer3 - Clés, signatures et chiffrement), [IdentityServer3 - Deployment](https://identityserver.github.io/Documentation/docsv2/advanced/deployment.html) (IdentityServer3 - Déploiement)</span><span class="sxs-lookup"><span data-stu-id="7d0fe-202">[IdentityServer3 - Keys, Signatures and Cryptography](https://identityserver.github.io/Documentation/docsv2/configuration/crypto.html), [IdentityServer3 - Deployment](https://identityserver.github.io/Documentation/docsv2/advanced/deployment.html)</span></span> |
| <span data-ttu-id="7d0fe-203">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-203">**Steps**</span></span> | <span data-ttu-id="7d0fe-204">Par défaut, IdentityServer requiert tous les toocome les connexions entrantes via le protocole HTTPS.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-204">By default, IdentityServer requires all incoming connections toocome over HTTPS.</span></span> <span data-ttu-id="7d0fe-205">Il est absolument indispensable que les communications avec IdentityServer s’effectuent sur les transports sécurisés uniquement.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-205">It is absolutely mandatory that communication with IdentityServer is done over secured transports only.</span></span> <span data-ttu-id="7d0fe-206">Il existe certains scénarios de déploiement (p. ex. déchargement SSL) dans lesquels cette exigence peut être assouplie.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-206">There are certain deployment scenarios like SSL offloading where this requirement can be relaxed.</span></span> <span data-ttu-id="7d0fe-207">Consultez la page de déploiement de serveur d’identités hello dans les références de hello pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-207">See hello Identity Server deployment page in hello references for more information.</span></span> |

## <span data-ttu-id="7d0fe-208"><a id="x509-ssltls"></a>Vérifiez que les certificats X.509 utilisé tooauthenticate des connexions SSL, TLS et DTLS</span><span class="sxs-lookup"><span data-stu-id="7d0fe-208"><a id="x509-ssltls"></a>Verify X.509 certificates used tooauthenticate SSL, TLS, and DTLS connections</span></span>

| <span data-ttu-id="7d0fe-209">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-209">Title</span></span>                   | <span data-ttu-id="7d0fe-210">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-210">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-211">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-211">**Component**</span></span>               | <span data-ttu-id="7d0fe-212">Application web</span><span class="sxs-lookup"><span data-stu-id="7d0fe-212">Web Application</span></span> | 
| <span data-ttu-id="7d0fe-213">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-213">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-214">Créer</span><span class="sxs-lookup"><span data-stu-id="7d0fe-214">Build</span></span> |  
| <span data-ttu-id="7d0fe-215">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-215">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-216">Générique</span><span class="sxs-lookup"><span data-stu-id="7d0fe-216">Generic</span></span> |
| <span data-ttu-id="7d0fe-217">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-217">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-218">N/A</span><span class="sxs-lookup"><span data-stu-id="7d0fe-218">N/A</span></span>  |
| <span data-ttu-id="7d0fe-219">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-219">**References**</span></span>              | <span data-ttu-id="7d0fe-220">N/A</span><span class="sxs-lookup"><span data-stu-id="7d0fe-220">N/A</span></span>  |
| <span data-ttu-id="7d0fe-221">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-221">**Steps**</span></span> | <p><span data-ttu-id="7d0fe-222">Les applications qui utilisent le protocole SSL, TLS et DTLS doivent vérifier les certificats X.509 hello d’entités hello à qu'ils se connectent.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-222">Applications that use SSL, TLS, or DTLS must fully verify hello X.509 certificates of hello entities they connect to.</span></span> <span data-ttu-id="7d0fe-223">Cela inclut la vérification des certificats hello pour :</span><span class="sxs-lookup"><span data-stu-id="7d0fe-223">This includes verification of hello certificates for:</span></span></p><ul><li><span data-ttu-id="7d0fe-224">Nom de domaine</span><span class="sxs-lookup"><span data-stu-id="7d0fe-224">Domain name</span></span></li><li><span data-ttu-id="7d0fe-225">Dates de validité (dates de début et dates d’échéance).</span><span class="sxs-lookup"><span data-stu-id="7d0fe-225">Validity dates (both beginning and expiration dates)</span></span></li><li><span data-ttu-id="7d0fe-226">État de révocation.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-226">Revocation status</span></span></li><li><span data-ttu-id="7d0fe-227">Utilisation (par exemple, authentification serveur pour les serveurs, authentification client pour les clients).</span><span class="sxs-lookup"><span data-stu-id="7d0fe-227">Usage (for example, Server Authentication for servers, Client Authentication for clients)</span></span></li><li><span data-ttu-id="7d0fe-228">Chaîne d’approbation.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-228">Trust chain.</span></span> <span data-ttu-id="7d0fe-229">Certificats doivent être associés tooa autorité de certification (CA) qui est approuvée par la plateforme de hello ou configurée de manière explicite par l’administrateur de hello</span><span class="sxs-lookup"><span data-stu-id="7d0fe-229">Certificates must chain tooa root certification authority (CA) that is trusted by hello platform or explicitly configured by hello administrator</span></span></li><li><span data-ttu-id="7d0fe-230">La longueur de clé de la clé publique du certificat doit être supérieure à 2 048 bits.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-230">Key length of certificate's public key must be >2048 bits</span></span></li><li><span data-ttu-id="7d0fe-231">L’algorithme de hachage doit être SHA256 et supérieur.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-231">Hashing algorithm must be SHA256 and above</span></span> |

## <span data-ttu-id="7d0fe-232"><a id="ssl-appservice"></a>Configurer le certificat SSL pour le domaine personnalisé dans Azure App Service</span><span class="sxs-lookup"><span data-stu-id="7d0fe-232"><a id="ssl-appservice"></a>Configure SSL certificate for custom domain in Azure App Service</span></span>

| <span data-ttu-id="7d0fe-233">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-233">Title</span></span>                   | <span data-ttu-id="7d0fe-234">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-234">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-235">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-235">**Component**</span></span>               | <span data-ttu-id="7d0fe-236">Application web</span><span class="sxs-lookup"><span data-stu-id="7d0fe-236">Web Application</span></span> | 
| <span data-ttu-id="7d0fe-237">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-237">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-238">Créer</span><span class="sxs-lookup"><span data-stu-id="7d0fe-238">Build</span></span> |  
| <span data-ttu-id="7d0fe-239">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-239">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-240">Générique</span><span class="sxs-lookup"><span data-stu-id="7d0fe-240">Generic</span></span> |
| <span data-ttu-id="7d0fe-241">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-241">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-242">EnvironmentType - Azure</span><span class="sxs-lookup"><span data-stu-id="7d0fe-242">EnvironmentType - Azure</span></span> |
| <span data-ttu-id="7d0fe-243">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-243">**References**</span></span>              | [<span data-ttu-id="7d0fe-244">Activer le protocole HTTPS pour une application dans Azure App Service</span><span class="sxs-lookup"><span data-stu-id="7d0fe-244">Enable HTTPS for an app in Azure App Service</span></span>](https://azure.microsoft.com/documentation/articles/web-sites-configure-ssl-certificate/) |
| <span data-ttu-id="7d0fe-245">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-245">**Steps**</span></span> | <span data-ttu-id="7d0fe-246">Par défaut, Azure permet déjà de HTTPS pour chaque application avec un certificat générique pour hello *. domaine azurewebsites.net.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-246">By default, Azure already enables HTTPS for every app with a wildcard certificate for hello *.azurewebsites.net domain.</span></span> <span data-ttu-id="7d0fe-247">Comme tous les domaines génériques, il n’est cependant pas aussi sécurisé qu’un domaine personnalisé avec votre propre certificat. [Consultez cet article](https://casecurity.org/2014/02/26/pros-and-cons-of-single-domain-multi-domain-and-wildcard-certificates/).</span><span class="sxs-lookup"><span data-stu-id="7d0fe-247">However, like all wildcard domains, it is not as secure as using a custom domain with own certificate [Refer](https://casecurity.org/2014/02/26/pros-and-cons-of-single-domain-multi-domain-and-wildcard-certificates/).</span></span> <span data-ttu-id="7d0fe-248">Il est recommandé de tooenable SSL pour le domaine personnalisé de hello application hello déployé est accessible via</span><span class="sxs-lookup"><span data-stu-id="7d0fe-248">It is recommended tooenable SSL for hello custom domain which hello deployed app will be accessed through</span></span>|

## <span data-ttu-id="7d0fe-249"><a id="appservice-https"></a>Forcer tous les tooAzure de trafic du Service d’applications via une connexion HTTPS</span><span class="sxs-lookup"><span data-stu-id="7d0fe-249"><a id="appservice-https"></a>Force all traffic tooAzure App Service over HTTPS connection</span></span>

| <span data-ttu-id="7d0fe-250">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-250">Title</span></span>                   | <span data-ttu-id="7d0fe-251">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-251">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-252">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-252">**Component**</span></span>               | <span data-ttu-id="7d0fe-253">Application web</span><span class="sxs-lookup"><span data-stu-id="7d0fe-253">Web Application</span></span> | 
| <span data-ttu-id="7d0fe-254">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-254">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-255">Créer</span><span class="sxs-lookup"><span data-stu-id="7d0fe-255">Build</span></span> |  
| <span data-ttu-id="7d0fe-256">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-256">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-257">Générique</span><span class="sxs-lookup"><span data-stu-id="7d0fe-257">Generic</span></span> |
| <span data-ttu-id="7d0fe-258">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-258">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-259">EnvironmentType - Azure</span><span class="sxs-lookup"><span data-stu-id="7d0fe-259">EnvironmentType - Azure</span></span> |
| <span data-ttu-id="7d0fe-260">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-260">**References**</span></span>              | <span data-ttu-id="7d0fe-261">[Exécution de SSL sur votre application] https://azure.microsoft.com/documentation/articles/web-sites-configure-ssl-certificate/#4-enforce-https-on-your-app)</span><span class="sxs-lookup"><span data-stu-id="7d0fe-261">[Enforce HTTPS on Azure App Service]https://azure.microsoft.com/documentation/articles/web-sites-configure-ssl-certificate/#4-enforce-https-on-your-app)</span></span> |
| <span data-ttu-id="7d0fe-262">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-262">**Steps**</span></span> | <p><span data-ttu-id="7d0fe-263">Bien que Azure permet déjà de HTTPS pour les services d’application Azure avec un certificat générique pour le domaine de hello *. azurewebsites.net, il n’appliquent pas HTTPS.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-263">Though Azure already enables HTTPS for Azure app services with a wildcard certificate for hello domain *.azurewebsites.net, it do not enforce HTTPS.</span></span> <span data-ttu-id="7d0fe-264">Les visiteurs peuvent toujours accéder à application hello à l’aide de HTTP, ce qui peut compromettre la sécurité de l’application hello et par conséquent HTTPS a toobe appliquée de manière explicite.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-264">Visitors may still access hello app using HTTP, which may compromise hello app's security and hence HTTPS has toobe enforced explicitly.</span></span> <span data-ttu-id="7d0fe-265">Les applications ASP.NET MVC doivent utiliser hello [RequireHttps filtre](http://msdn.microsoft.com/library/system.web.mvc.requirehttpsattribute.aspx) qui force une toobe de demande HTTP non sécurisée via HTTPS.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-265">ASP.NET MVC applications should use hello [RequireHttps filter](http://msdn.microsoft.com/library/system.web.mvc.requirehttpsattribute.aspx) that forces an unsecured HTTP request toobe re-sent over HTTPS.</span></span></p><p><span data-ttu-id="7d0fe-266">Module de réécriture d’URL hello, qui est inclus avec le Service d’application Azure peut également être utilisé tooenforce HTTPS.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-266">Alternatively, hello URL Rewrite module, which is included with Azure App Service can be used tooenforce HTTPS.</span></span> <span data-ttu-id="7d0fe-267">Module de réécriture d’URL permet aux développeurs toodefine les règles appliquées tooincoming demandes avant que les demandes de hello sont remis tooyour application.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-267">URL Rewrite module enables developers toodefine rules that are applied tooincoming requests before hello requests are handed tooyour application.</span></span> <span data-ttu-id="7d0fe-268">Règles de réécriture d’URL sont définies dans un fichier web.config stocké dans l’application hello racine hello</span><span class="sxs-lookup"><span data-stu-id="7d0fe-268">URL Rewrite rules are defined in a web.config file stored in hello root of hello application</span></span></p>|

### <a name="example"></a><span data-ttu-id="7d0fe-269">Exemple</span><span class="sxs-lookup"><span data-stu-id="7d0fe-269">Example</span></span>
<span data-ttu-id="7d0fe-270">exemple Hello contient une règle de réécriture d’URL base qui force tout trafic entrant toouse le trafic HTTPS</span><span class="sxs-lookup"><span data-stu-id="7d0fe-270">hello following example contains a basic URL Rewrite rule that forces all incoming traffic toouse HTTPS</span></span>
```XML
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
  <system.webServer>
    <rewrite>
      <rules>
        <rule name="Force HTTPS" enabled="true">
          <match url="(.*)" ignoreCase="false" />
          <conditions>
            <add input="{HTTPS}" pattern="off" />
          </conditions>
          <action type="Redirect" url="https://{HTTP_HOST}/{R:1}" appendQueryString="true" redirectType="Permanent" />
        </rule>
      </rules>
    </rewrite>
  </system.webServer>
</configuration>
```
<span data-ttu-id="7d0fe-271">Cette règle s’applique en retournant un code d’état HTTP de 301 (redirection permanente) lorsque les utilisateur hello demande une page à l’aide de HTTP.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-271">This rule works by returning an HTTP status code of 301 (permanent redirect) when hello user requests a page using HTTP.</span></span> <span data-ttu-id="7d0fe-272">Hello effectue une redirection 301 hello demande toohello même URL en tant que visiteur de hello demandé, mais remplace hello HTTP partie de requête hello avec HTTPS.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-272">hello 301 redirects hello request toohello same URL as hello visitor requested, but replaces hello HTTP portion of hello request with HTTPS.</span></span> <span data-ttu-id="7d0fe-273">Par exemple, HTTP://contoso.com serait tooHTTPS://contoso.com redirigé.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-273">For example, HTTP://contoso.com would be redirected tooHTTPS://contoso.com.</span></span> 

## <span data-ttu-id="7d0fe-274"><a id="http-hsts"></a>Activer le protocole HTTP Strict Transport Security (HSTS)</span><span class="sxs-lookup"><span data-stu-id="7d0fe-274"><a id="http-hsts"></a>Enable HTTP Strict Transport Security (HSTS)</span></span>

| <span data-ttu-id="7d0fe-275">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-275">Title</span></span>                   | <span data-ttu-id="7d0fe-276">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-276">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-277">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-277">**Component**</span></span>               | <span data-ttu-id="7d0fe-278">Application web</span><span class="sxs-lookup"><span data-stu-id="7d0fe-278">Web Application</span></span> | 
| <span data-ttu-id="7d0fe-279">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-279">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-280">Créer</span><span class="sxs-lookup"><span data-stu-id="7d0fe-280">Build</span></span> |  
| <span data-ttu-id="7d0fe-281">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-281">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-282">Générique</span><span class="sxs-lookup"><span data-stu-id="7d0fe-282">Generic</span></span> |
| <span data-ttu-id="7d0fe-283">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-283">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-284">N/A</span><span class="sxs-lookup"><span data-stu-id="7d0fe-284">N/A</span></span>  |
| <span data-ttu-id="7d0fe-285">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-285">**References**</span></span>              | <span data-ttu-id="7d0fe-286">[OWASP HTTP Strict Transport Security Cheat Sheet](https://www.owasp.org/index.php/HTTP_Strict_Transport_Security_Cheat_Sheet) (Aide-mémoire sur HTTP Strict Transport Security par l’OWASP)</span><span class="sxs-lookup"><span data-stu-id="7d0fe-286">[OWASP HTTP Strict Transport Security Cheat Sheet](https://www.owasp.org/index.php/HTTP_Strict_Transport_Security_Cheat_Sheet)</span></span> |
| <span data-ttu-id="7d0fe-287">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-287">**Steps**</span></span> | <p><span data-ttu-id="7d0fe-288">Sécurité HTTP du Transport Strict (HSTS) est une amélioration de l’inclusion de sécurité qui est spécifiée par une application web via l’utilisation de hello d’un en-tête de réponse particulière.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-288">HTTP Strict Transport Security (HSTS) is an opt-in security enhancement that is specified by a web application through hello use of a special response header.</span></span> <span data-ttu-id="7d0fe-289">Une fois qu’un navigateur pris en charge reçoit cet en-tête ce navigateur empêche les communications provenant envoyées sur le domaine spécifié de toohello HTTP et l’envoie à la place toutes les communications via le protocole HTTPS.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-289">Once a supported browser receives this header that browser will prevent any communications from being sent over HTTP toohello specified domain and will instead send all communications over HTTPS.</span></span> <span data-ttu-id="7d0fe-290">Il empêche également les invites HTTPS sur lesquelles cliquer sur les navigateurs.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-290">It also prevents HTTPS click through prompts on browsers.</span></span></p><p><span data-ttu-id="7d0fe-291">tooimplement HSTS, hello suivant l’en-tête de réponse a toobe configuré globalement, pour un site Web dans le code ou dans la configuration. Strict-Transport-Security : max-age = 300 ; includeSubDomains HSTS adresses hello suivant des menaces :</span><span class="sxs-lookup"><span data-stu-id="7d0fe-291">tooimplement HSTS, hello following response header has toobe configured for a website globally, either in code or in config. Strict-Transport-Security: max-age=300; includeSubDomains HSTS addresses hello following threats:</span></span></p><ul><li><span data-ttu-id="7d0fe-292">Utilisateur insère les signets ou manuellement types http://example.com et qui est la personne malveillante de sujet tooa man-in-the-middle : HSTS redirige automatiquement tooHTTPS de requêtes HTTP pour le domaine cible de hello</span><span class="sxs-lookup"><span data-stu-id="7d0fe-292">User bookmarks or manually types http://example.com and is subject tooa man-in-the-middle attacker: HSTS automatically redirects HTTP requests tooHTTPS for hello target domain</span></span></li><li><span data-ttu-id="7d0fe-293">Application qui est prévu toobe purement HTTPS contient des liens HTTP par inadvertance ou fait Office de contenu sur HTTP Web : HSTS redirige automatiquement tooHTTPS de requêtes HTTP pour le domaine cible de hello</span><span class="sxs-lookup"><span data-stu-id="7d0fe-293">Web application that is intended toobe purely HTTPS inadvertently contains HTTP links or serves content over HTTP: HSTS automatically redirects HTTP requests tooHTTPS for hello target domain</span></span></li><li><span data-ttu-id="7d0fe-294">Un intrus de man-in-the-middle tente de trafic toointercept à partir d’un utilisateur cible à l’aide d’un certificat non valide et espère utilisateur de hello acceptera certificat incorrect de hello : HSTS n’autorise pas un message de certificat non valide de hello toooverride utilisateur</span><span class="sxs-lookup"><span data-stu-id="7d0fe-294">A man-in-the-middle attacker attempts toointercept traffic from a victim user using an invalid certificate and hopes hello user will accept hello bad certificate: HSTS does not allow a user toooverride hello invalid certificate message</span></span></li></ul>|

## <span data-ttu-id="7d0fe-295"><a id="sqlserver-validation"></a>Assurer le chiffrement de la connexion SQL Server et la validation des certificats</span><span class="sxs-lookup"><span data-stu-id="7d0fe-295"><a id="sqlserver-validation"></a>Ensure SQL server connection encryption and certificate validation</span></span>

| <span data-ttu-id="7d0fe-296">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-296">Title</span></span>                   | <span data-ttu-id="7d0fe-297">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-297">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-298">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-298">**Component**</span></span>               | <span data-ttu-id="7d0fe-299">Base de données</span><span class="sxs-lookup"><span data-stu-id="7d0fe-299">Database</span></span> | 
| <span data-ttu-id="7d0fe-300">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-300">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-301">Créer</span><span class="sxs-lookup"><span data-stu-id="7d0fe-301">Build</span></span> |  
| <span data-ttu-id="7d0fe-302">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-302">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-303">SQL Azure</span><span class="sxs-lookup"><span data-stu-id="7d0fe-303">SQL Azure</span></span>  |
| <span data-ttu-id="7d0fe-304">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-304">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-305">Version SQL - V12</span><span class="sxs-lookup"><span data-stu-id="7d0fe-305">SQL Version - V12</span></span> |
| <span data-ttu-id="7d0fe-306">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-306">**References**</span></span>              | <span data-ttu-id="7d0fe-307">[Best Practices on Writing Secure Connection Strings for SQL Database](http://social.technet.microsoft.com/wiki/contents/articles/2951.windows-azure-sql-database-connection-security.aspx#best) (Bonnes pratiques sur l’écriture de chaînes de connexion sécurisées pour SQL Database)</span><span class="sxs-lookup"><span data-stu-id="7d0fe-307">[Best Practices on Writing Secure Connection Strings for SQL Database](http://social.technet.microsoft.com/wiki/contents/articles/2951.windows-azure-sql-database-connection-security.aspx#best)</span></span> |
| <span data-ttu-id="7d0fe-308">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-308">**Steps**</span></span> | <p><span data-ttu-id="7d0fe-309">Toutes les communications entre SQL Database et une application cliente sont chiffrées en permanence à l’aide du protocole Secure Sockets Layer (SSL).</span><span class="sxs-lookup"><span data-stu-id="7d0fe-309">All communications between SQL Database and a client application are encrypted using Secure Sockets Layer (SSL) at all times.</span></span> <span data-ttu-id="7d0fe-310">SQL Database ne prend pas en charge les connexions non chiffrées.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-310">SQL Database doesn’t support unencrypted connections.</span></span> <span data-ttu-id="7d0fe-311">certificats toovalidate avec le code d’application ou les outils, demander une connexion chiffrée et ne faites pas confiance à des certificats de serveur hello explicitement.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-311">toovalidate certificates with application code or tools, explicitly request an encrypted connection and do not trust hello server certificates.</span></span> <span data-ttu-id="7d0fe-312">Si le code ou les outils de votre application ne demandent pas une connexion chiffrée, ils recevront pourtant des connexions chiffrées.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-312">If your application code or tools do not request an encrypted connection, they will still receive encrypted connections</span></span></p><p><span data-ttu-id="7d0fe-313">Cependant, ils peuvent ne pas valider les certificats de serveur hello et seront donc vulnérables trop au milieu de hello attaques « ».</span><span class="sxs-lookup"><span data-stu-id="7d0fe-313">However, they may not validate hello server certificates and thus will be susceptible too"man in hello middle" attacks.</span></span> <span data-ttu-id="7d0fe-314">certificats toovalidate avec le code d’application ADO.NET, `Encrypt=True` et `TrustServerCertificate=False` dans la chaîne de connexion de base de données hello.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-314">toovalidate certificates with ADO.NET application code, set `Encrypt=True` and `TrustServerCertificate=False` in hello database connection string.</span></span> <span data-ttu-id="7d0fe-315">certificats toovalidate via SQL Server Management Studio, ouvrez la boîte de dialogue de tooServer de se connecter hello.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-315">toovalidate certificates via SQL Server Management Studio, open hello Connect tooServer dialog box.</span></span> <span data-ttu-id="7d0fe-316">Cliquez sur l’onglet des propriétés de connexion hello chiffrer la connexion</span><span class="sxs-lookup"><span data-stu-id="7d0fe-316">Click Encrypt connection on hello Connection Properties tab</span></span></p>|

## <span data-ttu-id="7d0fe-317"><a id="encrypted-sqlserver"></a>Forcer le chiffrement communication tooSQL serveur</span><span class="sxs-lookup"><span data-stu-id="7d0fe-317"><a id="encrypted-sqlserver"></a>Force Encrypted communication tooSQL server</span></span>

| <span data-ttu-id="7d0fe-318">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-318">Title</span></span>                   | <span data-ttu-id="7d0fe-319">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-319">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-320">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-320">**Component**</span></span>               | <span data-ttu-id="7d0fe-321">Base de données</span><span class="sxs-lookup"><span data-stu-id="7d0fe-321">Database</span></span> | 
| <span data-ttu-id="7d0fe-322">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-322">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-323">Créer</span><span class="sxs-lookup"><span data-stu-id="7d0fe-323">Build</span></span> |  
| <span data-ttu-id="7d0fe-324">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-324">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-325">Local</span><span class="sxs-lookup"><span data-stu-id="7d0fe-325">OnPrem</span></span> |
| <span data-ttu-id="7d0fe-326">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-326">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-327">Version SQL - MsSQL2016, Version SQL - MsSQL2012, Version SQL - MsSQL2014</span><span class="sxs-lookup"><span data-stu-id="7d0fe-327">SQL Version - MsSQL2016, SQL Version - MsSQL2012, SQL Version - MsSQL2014</span></span> |
| <span data-ttu-id="7d0fe-328">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-328">**References**</span></span>              | [<span data-ttu-id="7d0fe-329">Activer les connexions chiffrées toohello du moteur de base de données</span><span class="sxs-lookup"><span data-stu-id="7d0fe-329">Enable Encrypted Connections toohello Database Engine</span></span>](https://msdn.microsoft.com/library/ms191192)  |
| <span data-ttu-id="7d0fe-330">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-330">**Steps**</span></span> | <span data-ttu-id="7d0fe-331">L’activation de SSL chiffrement accroît la sécurité de hello des données transmises sur des réseaux entre des instances de SQL Server et des applications.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-331">Enabling SSL encryption increases hello security of data transmitted across networks between instances of SQL Server and applications.</span></span> |

## <span data-ttu-id="7d0fe-332"><a id="comm-storage"></a>Assurez-vous que tooAzure communication que stockage est effectuée via HTTPS</span><span class="sxs-lookup"><span data-stu-id="7d0fe-332"><a id="comm-storage"></a>Ensure that communication tooAzure Storage is over HTTPS</span></span>

| <span data-ttu-id="7d0fe-333">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-333">Title</span></span>                   | <span data-ttu-id="7d0fe-334">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-334">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-335">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-335">**Component**</span></span>               | <span data-ttu-id="7d0fe-336">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="7d0fe-336">Azure Storage</span></span> | 
| <span data-ttu-id="7d0fe-337">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-337">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-338">Déploiement</span><span class="sxs-lookup"><span data-stu-id="7d0fe-338">Deployment</span></span> |  
| <span data-ttu-id="7d0fe-339">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-339">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-340">Générique</span><span class="sxs-lookup"><span data-stu-id="7d0fe-340">Generic</span></span> |
| <span data-ttu-id="7d0fe-341">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-341">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-342">N/A</span><span class="sxs-lookup"><span data-stu-id="7d0fe-342">N/A</span></span>  |
| <span data-ttu-id="7d0fe-343">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-343">**References**</span></span>              | [<span data-ttu-id="7d0fe-344">Chiffrement au niveau du transport – Utilisation de HTTPS</span><span class="sxs-lookup"><span data-stu-id="7d0fe-344">Azure Storage Transport-Level Encryption – Using HTTPS</span></span>](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_encryption-in-transit) |
| <span data-ttu-id="7d0fe-345">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-345">**Steps**</span></span> | <span data-ttu-id="7d0fe-346">sécurité de hello tooensure de stockage Azure données en transit, utilisez toujours le protocole HTTPS hello lors de l’appel d’API REST de hello ou l’accès à des objets dans le stockage.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-346">tooensure hello security of Azure Storage data in-transit, always use hello HTTPS protocol when calling hello REST APIs or accessing objects in storage.</span></span> <span data-ttu-id="7d0fe-347">En outre, les Signatures d’accès partagé, qui peut être utilisé toodelegate accéder aux objets de stockage tooAzure, incluent une option toospecify que hello uniquement le protocole HTTPS peut être utilisé lors de l’utilisation de Signatures d’accès partagé, garantissant que toute personne envoyant des liens avec des jetons SAS sera Utilisez le protocole approprié de hello.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-347">Also, Shared Access Signatures, which can be used toodelegate access tooAzure Storage objects, include an option toospecify that only hello HTTPS protocol can be used when using Shared Access Signatures, ensuring that anybody sending out links with SAS tokens will use hello proper protocol.</span></span>|

## <span data-ttu-id="7d0fe-348"><a id="md5-https"></a>Valider le hachage MD5 après le téléchargement de blobs si le protocole HTTPS ne peut pas être activé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-348"><a id="md5-https"></a>Validate MD5 hash after downloading blob if HTTPS cannot be enabled</span></span>

| <span data-ttu-id="7d0fe-349">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-349">Title</span></span>                   | <span data-ttu-id="7d0fe-350">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-350">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-351">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-351">**Component**</span></span>               | <span data-ttu-id="7d0fe-352">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="7d0fe-352">Azure Storage</span></span> | 
| <span data-ttu-id="7d0fe-353">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-353">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-354">Créer</span><span class="sxs-lookup"><span data-stu-id="7d0fe-354">Build</span></span> |  
| <span data-ttu-id="7d0fe-355">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-355">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-356">Générique</span><span class="sxs-lookup"><span data-stu-id="7d0fe-356">Generic</span></span> |
| <span data-ttu-id="7d0fe-357">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-357">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-358">StorageType - Blob</span><span class="sxs-lookup"><span data-stu-id="7d0fe-358">StorageType - Blob</span></span> |
| <span data-ttu-id="7d0fe-359">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-359">**References**</span></span>              | <span data-ttu-id="7d0fe-360">[Windows Azure Blob MD5 Overview](https://blogs.msdn.microsoft.com/windowsazurestorage/2011/02/17/windows-azure-blob-md5-overview/) (Vue d’ensemble de la vérification MD5 du service Blob Windows Azure)</span><span class="sxs-lookup"><span data-stu-id="7d0fe-360">[Windows Azure Blob MD5 Overview](https://blogs.msdn.microsoft.com/windowsazurestorage/2011/02/17/windows-azure-blob-md5-overview/)</span></span> |
| <span data-ttu-id="7d0fe-361">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-361">**Steps**</span></span> | <p><span data-ttu-id="7d0fe-362">Service d’objets Blob Windows Azure fournit des mécanismes tooensure l’intégrité des données à la fois à l’application hello et les couches de transport.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-362">Windows Azure Blob service provides mechanisms tooensure data integrity both at hello application and transport layers.</span></span> <span data-ttu-id="7d0fe-363">Si pour une raison quelconque, vous devez toouse HTTP au lieu de HTTPS et que vous travaillez avec des objets BLOB de blocs, vous pouvez utiliser la vérification de MD5 toohelp vérifier l’intégrité de hello d’objets BLOB de hello en cours de transfert</span><span class="sxs-lookup"><span data-stu-id="7d0fe-363">If for any reason you need toouse HTTP instead of HTTPS and you are working with block blobs, you can use MD5 checking toohelp verify hello integrity of hello blobs being transferred</span></span></p><p><span data-ttu-id="7d0fe-364">Ceci contribuera à la protection contre les erreurs au niveau du réseau/transport, mais pas nécessairement contre les attaques intermédiaires.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-364">This will help with protection from network/transport layer errors, but not necessarily with intermediary attacks.</span></span> <span data-ttu-id="7d0fe-365">Si vous pouvez utiliser le protocole HTTPS, qui fournit une sécurité au niveau du transport, alors l’utilisation de la vérification MD5 est redondant et inutile.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-365">If you can use HTTPS, which provides transport level security, then using MD5 checking is redundant and unnecessary.</span></span></p>|

## <span data-ttu-id="7d0fe-366"><a id="smb-shares"></a>Utilisez les partages de fichiers SMB 3.0 client compatible tooensure les données en transit chiffrement tooAzure</span><span class="sxs-lookup"><span data-stu-id="7d0fe-366"><a id="smb-shares"></a>Use SMB 3.0 compatible client tooensure in-transit data encryption tooAzure File shares</span></span>

| <span data-ttu-id="7d0fe-367">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-367">Title</span></span>                   | <span data-ttu-id="7d0fe-368">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-368">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-369">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-369">**Component**</span></span>               | <span data-ttu-id="7d0fe-370">Client mobile</span><span class="sxs-lookup"><span data-stu-id="7d0fe-370">Mobile Client</span></span> | 
| <span data-ttu-id="7d0fe-371">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-371">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-372">Créer</span><span class="sxs-lookup"><span data-stu-id="7d0fe-372">Build</span></span> |  
| <span data-ttu-id="7d0fe-373">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-373">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-374">Générique</span><span class="sxs-lookup"><span data-stu-id="7d0fe-374">Generic</span></span> |
| <span data-ttu-id="7d0fe-375">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-375">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-376">StorageType - Fichier</span><span class="sxs-lookup"><span data-stu-id="7d0fe-376">StorageType - File</span></span> |
| <span data-ttu-id="7d0fe-377">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-377">**References**</span></span>              | <span data-ttu-id="7d0fe-378">[Azure File Storage, now generally available](https://azure.microsoft.com/blog/azure-file-storage-now-generally-available/#comment-2529238931) (Le stockage de fichiers Azure est désormais disponible de manière générale), [Prise en main du stockage de fichiers Azure sur Windows](https://azure.microsoft.com/documentation/articles/storage-dotnet-how-to-use-files/#_mount-the-file-share)</span><span class="sxs-lookup"><span data-stu-id="7d0fe-378">[Azure File Storage](https://azure.microsoft.com/blog/azure-file-storage-now-generally-available/#comment-2529238931), [Azure File Storage SMB Support for Windows Clients](https://azure.microsoft.com/documentation/articles/storage-dotnet-how-to-use-files/#_mount-the-file-share)</span></span> |
| <span data-ttu-id="7d0fe-379">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-379">**Steps**</span></span> | <span data-ttu-id="7d0fe-380">Stockage de fichier Azure prend en charge HTTPS lors de l’utilisation des API REST de hello, mais il est plus couramment utilisé comme un partage de fichiers SMB attaché tooa machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-380">Azure File Storage supports HTTPS when using hello REST API, but is more commonly used as an SMB file share attached tooa VM.</span></span> <span data-ttu-id="7d0fe-381">SMB 2.1 ne prend pas en charge le chiffrement, les connexions sont uniquement autorisées au sein de hello même région dans Azure.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-381">SMB 2.1 does not support encryption, so connections are only allowed within hello same region in Azure.</span></span> <span data-ttu-id="7d0fe-382">Toutefois, SMB 3.0 prend en charge le chiffrement et peut être utilisé avec Windows Server 2012 R2, Windows 8, Windows 8.1 et Windows 10, ce qui permet d’entre régions accéder et même des accès sur le bureau de hello.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-382">However, SMB 3.0 supports encryption, and can be used with Windows Server 2012 R2, Windows 8, Windows 8.1, and Windows 10, allowing cross-region access and even access on hello desktop.</span></span> |

## <span data-ttu-id="7d0fe-383"><a id="cert-pinning"></a>Implémenter l’épinglage de certificat</span><span class="sxs-lookup"><span data-stu-id="7d0fe-383"><a id="cert-pinning"></a>Implement Certificate Pinning</span></span>

| <span data-ttu-id="7d0fe-384">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-384">Title</span></span>                   | <span data-ttu-id="7d0fe-385">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-385">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-386">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-386">**Component**</span></span>               | <span data-ttu-id="7d0fe-387">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="7d0fe-387">Azure Storage</span></span> | 
| <span data-ttu-id="7d0fe-388">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-388">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-389">Créer</span><span class="sxs-lookup"><span data-stu-id="7d0fe-389">Build</span></span> |  
| <span data-ttu-id="7d0fe-390">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-390">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-391">Générique, Windows Phone</span><span class="sxs-lookup"><span data-stu-id="7d0fe-391">Generic, Windows Phone</span></span> |
| <span data-ttu-id="7d0fe-392">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-392">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-393">N/A</span><span class="sxs-lookup"><span data-stu-id="7d0fe-393">N/A</span></span>  |
| <span data-ttu-id="7d0fe-394">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-394">**References**</span></span>              | <span data-ttu-id="7d0fe-395">[Certificate and Public Key Pinning](https://www.owasp.org/index.php/Certificate_and_Public_Key_Pinning#.Net) (Épinglage de clé publique et de certificat)</span><span class="sxs-lookup"><span data-stu-id="7d0fe-395">[Certificate and Public Key Pinning](https://www.owasp.org/index.php/Certificate_and_Public_Key_Pinning#.Net)</span></span> |
| <span data-ttu-id="7d0fe-396">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-396">**Steps**</span></span> | <p><span data-ttu-id="7d0fe-397">L’épinglage de certificat assure une protection contre les interceptions.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-397">Certificate pinning defends against Man-In-The-Middle (MITM) attacks.</span></span> <span data-ttu-id="7d0fe-398">L’épinglage est processus hello d’association d’un ordinateur hôte à leurs X509 attendu certificat ou clé publique.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-398">Pinning is hello process of associating a host with their expected X509 certificate or public key.</span></span> <span data-ttu-id="7d0fe-399">Une fois qu’un certificat ou la clé publique est altérée ou affichée pour un ordinateur hôte, certificat de hello ou clé publique est associé ou 'épinglé' toohello hôte.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-399">Once a certificate or public key is known or seen for a host, hello certificate or public key is associated or 'pinned' toohello host.</span></span> </p><p><span data-ttu-id="7d0fe-400">Par conséquent, lorsqu’un adversaire tente toodo attaque MITM de SSL de, au cours de la clé de hello la négociation SSL de serveur sera différente de hello épinglé clé du certificat et demande de hello est ignorée, empêchant le certificat de l’intercepteur épinglage peut être obtenue en implémentation de ServicePointManager `ServerCertificateValidationCallback` déléguer.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-400">Thus, when an adversary attempts toodo SSL MITM attack, during SSL handshake hello key from attacker's server will be different from hello pinned certificate's key, and hello request will be discarded, thus preventing MITM Certificate pinning can be achieved by implementing ServicePointManager's `ServerCertificateValidationCallback` delegate.</span></span></p>|

### <a name="example"></a><span data-ttu-id="7d0fe-401">Exemple</span><span class="sxs-lookup"><span data-stu-id="7d0fe-401">Example</span></span>
```C#
using System;
using System.Net;
using System.Net.Security;
using System.Security.Cryptography;

namespace CertificatePinningExample
{
    class CertificatePinningExample
    {
        /* Note: In this example, we're hardcoding a hello certificate's public key and algorithm for 
           demonstration purposes. In a real-world application, this should be stored in a secure
           configuration area that can be updated as needed. */

        private static readonly string PINNED_ALGORITHM = "RSA";

        private static readonly string PINNED_PUBLIC_KEY = "3082010A0282010100B0E75B7CBE56D31658EF79B3A1" +
            "294D506A88DFCDD603F6EF15E7F5BCBDF32291EC50B2B82BA158E905FE6A83EE044A48258B07FAC3D6356AF09B2" +
            "3EDAB15D00507B70DB08DB9A20C7D1201417B3071A346D663A241061C151B6EC5B5B4ECCCDCDBEA24F051962809" +
            "FEC499BF2D093C06E3BDA7D0BB83CDC1C2C6660B8ECB2EA30A685ADE2DC83C88314010FFC7F4F0F895EDDBE5C02" +
            "ABF78E50B708E0A0EB984A9AA536BCE61A0C31DB95425C6FEE5A564B158EE7C4F0693C439AE010EF83CA8155750" +
            "09B17537C29F86071E5DD8CA50EBD8A409494F479B07574D83EDCE6F68A8F7D40447471D05BC3F5EAD7862FA748" +
            "EA3C92A60A128344B1CEF7A0B0D94E50203010001";


        public static void Main(string[] args)
        {
            HttpWebRequest request = (HttpWebRequest)WebRequest.Create("https://azure.microsoft.com");
            request.ServerCertificateValidationCallback = (sender, certificate, chain, sslPolicyErrors) =>
            {
                if (certificate == null || sslPolicyErrors != SslPolicyErrors.None)
                {
                    // Error getting certificate or hello certificate failed basic validation
                    return false;
                }

                var targetKeyAlgorithm = new Oid(certificate.GetKeyAlgorithm()).FriendlyName;
                var targetPublicKey = certificate.GetPublicKeyString();
                
                if (targetKeyAlgorithm == PINNED_ALGORITHM &&
                    targetPublicKey == PINNED_PUBLIC_KEY)
                {
                    // Success, hello certificate matches hello pinned value.
                    return true;
                }
                // Reject, either hello key or hello algorithm does not match hello expected value.
                return false;
            };

            try
            {
                var response = (HttpWebResponse)request.GetResponse();
                Console.WriteLine($"Success, HTTP status code: {response.StatusCode}");
            }
            catch(Exception ex)
            {
                Console.WriteLine($"Failure, {ex.Message}");
            }
            Console.WriteLine("Press any key tooend.");
            Console.ReadKey();
        }
    }
}
```

## <span data-ttu-id="7d0fe-402"><a id="https-transport"></a>Activer le protocole HTTPS - Sécuriser le canal de transport</span><span class="sxs-lookup"><span data-stu-id="7d0fe-402"><a id="https-transport"></a>Enable HTTPS - Secure Transport channel</span></span>

| <span data-ttu-id="7d0fe-403">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-403">Title</span></span>                   | <span data-ttu-id="7d0fe-404">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-404">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-405">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-405">**Component**</span></span>               | <span data-ttu-id="7d0fe-406">WCF</span><span class="sxs-lookup"><span data-stu-id="7d0fe-406">WCF</span></span> | 
| <span data-ttu-id="7d0fe-407">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-407">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-408">Créer</span><span class="sxs-lookup"><span data-stu-id="7d0fe-408">Build</span></span> |  
| <span data-ttu-id="7d0fe-409">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-409">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-410">NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="7d0fe-410">NET Framework 3</span></span> |
| <span data-ttu-id="7d0fe-411">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-411">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-412">N/A</span><span class="sxs-lookup"><span data-stu-id="7d0fe-412">N/A</span></span>  |
| <span data-ttu-id="7d0fe-413">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-413">**References**</span></span>              | <span data-ttu-id="7d0fe-414">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="7d0fe-414">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="7d0fe-415">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-415">**Steps**</span></span> | <span data-ttu-id="7d0fe-416">configuration de l’application Hello doit garantir que HTTPS est utilisé pour toutes les informations de toosensitive d’accès.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-416">hello application configuration should ensure that HTTPS is used for all access toosensitive information.</span></span><ul><li><span data-ttu-id="7d0fe-417">**Explication :** si une application gère les informations sensibles et n’utilise pas le chiffrement au niveau du message, il doit uniquement pouvoir toocommunicate sur un canal de transport chiffrées.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-417">**EXPLANATION:** If an application handles sensitive information and does not use message-level encryption, then it should only be allowed toocommunicate over an encrypted transport channel.</span></span></li><li><span data-ttu-id="7d0fe-418">**RECOMMANDATIONS :** assurez-vous que le transport HTTP est désactivé et activez le transport HTTPS à la place.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-418">**RECOMMENDATIONS:** Ensure that HTTP transport is disabled and enable HTTPS transport instead.</span></span> <span data-ttu-id="7d0fe-419">Par exemple, remplacez hello `<httpTransport/>` avec `<httpsTransport/>` balise.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-419">For example, replace hello `<httpTransport/>` with `<httpsTransport/>` tag.</span></span> <span data-ttu-id="7d0fe-420">Ne comptez pas sur un tooguarantee (pare-feu) de configuration de réseau qu’application hello uniquement accessibles via un canal sécurisé.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-420">Do not rely on a network configuration (firewall) tooguarantee that hello application can only be accessed over a secure channel.</span></span> <span data-ttu-id="7d0fe-421">À partir d’un point de vue philosophique, application hello ne doit pas dépendre réseau hello pour sa sécurité.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-421">From a philosophical point of view, hello application should not depend on hello network for its security.</span></span></li></ul><p><span data-ttu-id="7d0fe-422">À partir d’un point de vue pratique, hello responsables de la sécurisation de hello réseau ne suivent pas les toujours les exigences de sécurité hello de l’application hello lorsqu’elles évoluent.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-422">From a practical point of view, hello people responsible for securing hello network do not always track hello security requirements of hello application as they evolve.</span></span></p>|

## <span data-ttu-id="7d0fe-423"><a id="message-protection"></a>WCF : TooEncryptAndSign au niveau du Protection sécurité ensemble Message</span><span class="sxs-lookup"><span data-stu-id="7d0fe-423"><a id="message-protection"></a>WCF: Set Message security Protection level tooEncryptAndSign</span></span>

| <span data-ttu-id="7d0fe-424">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-424">Title</span></span>                   | <span data-ttu-id="7d0fe-425">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-425">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-426">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-426">**Component**</span></span>               | <span data-ttu-id="7d0fe-427">WCF</span><span class="sxs-lookup"><span data-stu-id="7d0fe-427">WCF</span></span> | 
| <span data-ttu-id="7d0fe-428">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-428">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-429">Créer</span><span class="sxs-lookup"><span data-stu-id="7d0fe-429">Build</span></span> |  
| <span data-ttu-id="7d0fe-430">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-430">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-431">.NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="7d0fe-431">.NET Framework 3</span></span> |
| <span data-ttu-id="7d0fe-432">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-432">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-433">N/A</span><span class="sxs-lookup"><span data-stu-id="7d0fe-433">N/A</span></span>  |
| <span data-ttu-id="7d0fe-434">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-434">**References**</span></span>              | [<span data-ttu-id="7d0fe-435">MSDN</span><span class="sxs-lookup"><span data-stu-id="7d0fe-435">MSDN</span></span>](https://msdn.microsoft.com/library/ff650862.aspx) |
| <span data-ttu-id="7d0fe-436">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-436">**Steps**</span></span> | <ul><li><span data-ttu-id="7d0fe-437">**Explication :** lorsque le niveau de Protection a la valeur « none » sera désactivée protection des messages trop.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-437">**EXPLANATION:** When Protection level is set too"none" it will disable message protection.</span></span> <span data-ttu-id="7d0fe-438">La confidentialité et l’intégrité sont obtenues grâce à un niveau approprié de paramétrage.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-438">Confidentiality and integrity is achieved with appropriate level of setting.</span></span></li><li><span data-ttu-id="7d0fe-439">**RECOMMANDATIONS :**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-439">**RECOMMENDATIONS:**</span></span><ul><li><span data-ttu-id="7d0fe-440">Quand `Mode=None`, la protection des messages est désactivée.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-440">when `Mode=None` - Disables message protection</span></span></li><li><span data-ttu-id="7d0fe-441">Lorsque `Mode=Sign` -signes mais ne chiffre pas de message de type hello ; doit être utilisées lors de l’intégrité des données sont important</span><span class="sxs-lookup"><span data-stu-id="7d0fe-441">when `Mode=Sign` - Signs but does not encrypt hello message; should be used when data integrity is important</span></span></li><li><span data-ttu-id="7d0fe-442">Lorsque `Mode=EncryptAndSign` -signe et chiffre le message de type hello</span><span class="sxs-lookup"><span data-stu-id="7d0fe-442">when `Mode=EncryptAndSign` - Signs and encrypts hello message</span></span></li></ul></li></ul><p><span data-ttu-id="7d0fe-443">Envisagez de désactiver le chiffrement et la signature uniquement votre message lorsque vous devez simplement l’intégrité de hello toovalidate d’informations hello sans problèmes de confidentialité.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-443">Consider turning off encryption and only signing your message when you just need toovalidate hello integrity of hello information without concerns of confidentiality.</span></span> <span data-ttu-id="7d0fe-444">Cela peut être utile pour les opérations ou les contrats de service dans lequel vous avez besoin de l’expéditeur d’origine de toovalidate hello mais aucune donnée sensible n’est transmise.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-444">This may be useful for operations or service contracts in which you need toovalidate hello original sender but no sensitive data is transmitted.</span></span> <span data-ttu-id="7d0fe-445">Lors de la réduction de niveau de protection hello, veillez à que ce message de type hello ne contient pas toutes les informations d’identification personnelle (PII).</span><span class="sxs-lookup"><span data-stu-id="7d0fe-445">When reducing hello protection level, be careful that hello message does not contain any personally identifiable information (PII).</span></span></p>|

### <a name="example"></a><span data-ttu-id="7d0fe-446">Exemple</span><span class="sxs-lookup"><span data-stu-id="7d0fe-446">Example</span></span>
<span data-ttu-id="7d0fe-447">Configuration de service de hello et message de type hello signe tooonly opération hello est illustrée dans hello exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-447">Configuring hello service and hello operation tooonly sign hello message is shown in hello following examples.</span></span> <span data-ttu-id="7d0fe-448">Exemple de contrat de service de `ProtectionLevel.Sign`: hello Voici un exemple d’utilisation de ProtectionLevel.Sign au niveau du contrat de Service hello :</span><span class="sxs-lookup"><span data-stu-id="7d0fe-448">Service Contract Example of `ProtectionLevel.Sign`: hello following is an example of using ProtectionLevel.Sign at hello Service Contract level:</span></span> 
```
[ServiceContract(Protection Level=ProtectionLevel.Sign] 
public interface IService 
  { 
  string GetData(int value); 
  } 
```

### <a name="example"></a><span data-ttu-id="7d0fe-449">Exemple</span><span class="sxs-lookup"><span data-stu-id="7d0fe-449">Example</span></span>
<span data-ttu-id="7d0fe-450">Exemple de contrat d’opération de `ProtectionLevel.Sign` (pour un contrôle granulaire) : hello Voici un exemple d’utilisation `ProtectionLevel.Sign` à hello OperationContract niveau :</span><span class="sxs-lookup"><span data-stu-id="7d0fe-450">Operation Contract Example of `ProtectionLevel.Sign` (for Granular Control): hello following is an example of using `ProtectionLevel.Sign` at hello OperationContract level:</span></span>

```
[OperationContract(ProtectionLevel=ProtectionLevel.Sign] 
string GetData(int value);
``` 

## <span data-ttu-id="7d0fe-451"><a id="least-account-wcf"></a>WCF : Utiliser un compte le moins privilégié de toorun votre service WCF</span><span class="sxs-lookup"><span data-stu-id="7d0fe-451"><a id="least-account-wcf"></a>WCF: Use a least-privileged account toorun your WCF service</span></span>

| <span data-ttu-id="7d0fe-452">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-452">Title</span></span>                   | <span data-ttu-id="7d0fe-453">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-453">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-454">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-454">**Component**</span></span>               | <span data-ttu-id="7d0fe-455">WCF</span><span class="sxs-lookup"><span data-stu-id="7d0fe-455">WCF</span></span> | 
| <span data-ttu-id="7d0fe-456">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-456">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-457">Créer</span><span class="sxs-lookup"><span data-stu-id="7d0fe-457">Build</span></span> |  
| <span data-ttu-id="7d0fe-458">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-458">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-459">.NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="7d0fe-459">.NET Framework 3</span></span> |
| <span data-ttu-id="7d0fe-460">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-460">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-461">N/A</span><span class="sxs-lookup"><span data-stu-id="7d0fe-461">N/A</span></span>  |
| <span data-ttu-id="7d0fe-462">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-462">**References**</span></span>              | [<span data-ttu-id="7d0fe-463">MSDN</span><span class="sxs-lookup"><span data-stu-id="7d0fe-463">MSDN</span></span>](https://msdn.microsoft.com/library/ff648826.aspx ) |
| <span data-ttu-id="7d0fe-464">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-464">**Steps**</span></span> | <ul><li><span data-ttu-id="7d0fe-465">**EXPLICATION :** n’exécutez pas de services WCF sous un compte administrateur ou avec des privilèges élevés.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-465">**EXPLANATION:** Do not run WCF services under admin or high privilege account.</span></span> <span data-ttu-id="7d0fe-466">En cas de compromission des services, l’impact sera important.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-466">in case of services compromise it will result in high impact.</span></span></li><li><span data-ttu-id="7d0fe-467">**RECOMMANDATIONS :** utiliser un toohost compte le moins privilégié votre WCF du service, car elle réduit la surface d’attaque de votre application et réduire les dommages potentiels hello si vous sont d’une attaque.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-467">**RECOMMENDATIONS:** Use a least-privileged account toohost your WCF service because it will reduce your application's attack surface and reduce hello potential damage if you are attacked.</span></span> <span data-ttu-id="7d0fe-468">Si le compte de service hello requiert des droits d’accès supplémentaires sur les ressources d’infrastructure, tels que MSMQ, hello autorisations appropriées de journal des événements et compteurs de performances système de fichiers hello, il convient les ressources toothese afin que le service WCF de hello peut s’exécuter avec succès.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-468">If hello service account requires additional access rights on infrastructure resources such as MSMQ, hello event log, performance counters, and hello file system, appropriate permissions should be given toothese resources so that hello WCF service can run successfully.</span></span></li></ul><p><span data-ttu-id="7d0fe-469">Si votre service doit tooaccess des ressources spécifiques pour le compte de l’appelant initial hello, utilisez l’emprunt d’identité et l’identité de l’appelant de délégation tooflow hello pour une vérification d’autorisation en aval.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-469">If your service needs tooaccess specific resources on behalf of hello original caller, use impersonation and delegation tooflow hello caller's identity for a downstream authorization check.</span></span> <span data-ttu-id="7d0fe-470">Dans un scénario de développement, utilisez le compte de service de réseau local hello, qui est un compte spécial intégré qui dispose de privilèges réduits.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-470">In a development scenario, use hello local network service account, which is a special built-in account that has reduced privileges.</span></span> <span data-ttu-id="7d0fe-471">Dans un scénario de production, créez un compte de service de domaine personnalisé avec des privilèges minimum.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-471">In a production scenario, create a least-privileged custom domain service account.</span></span></p>|

## <span data-ttu-id="7d0fe-472"><a id="webapi-https"></a>Forcer tooWeb trafic toutes les API via une connexion HTTPS</span><span class="sxs-lookup"><span data-stu-id="7d0fe-472"><a id="webapi-https"></a>Force all traffic tooWeb APIs over HTTPS connection</span></span>

| <span data-ttu-id="7d0fe-473">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-473">Title</span></span>                   | <span data-ttu-id="7d0fe-474">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-474">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-475">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-475">**Component**</span></span>               | <span data-ttu-id="7d0fe-476">API Web</span><span class="sxs-lookup"><span data-stu-id="7d0fe-476">Web API</span></span> | 
| <span data-ttu-id="7d0fe-477">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-477">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-478">Créer</span><span class="sxs-lookup"><span data-stu-id="7d0fe-478">Build</span></span> |  
| <span data-ttu-id="7d0fe-479">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-479">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-480">MVC5, MVC6</span><span class="sxs-lookup"><span data-stu-id="7d0fe-480">MVC5, MVC6</span></span> |
| <span data-ttu-id="7d0fe-481">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-481">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-482">N/A</span><span class="sxs-lookup"><span data-stu-id="7d0fe-482">N/A</span></span>  |
| <span data-ttu-id="7d0fe-483">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-483">**References**</span></span>              | <span data-ttu-id="7d0fe-484">[Enforcing SSL in a Web API Controller](http://www.asp.net/web-api/overview/security/working-with-ssl-in-web-api) (Application de SSL dans un contrôleur d’API Web)</span><span class="sxs-lookup"><span data-stu-id="7d0fe-484">[Enforcing SSL in a Web API Controller](http://www.asp.net/web-api/overview/security/working-with-ssl-in-web-api)</span></span> |
| <span data-ttu-id="7d0fe-485">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-485">**Steps**</span></span> | <span data-ttu-id="7d0fe-486">Si une application possède à la fois une liaison HTTP et HTTPS, les clients peuvent toujours utiliser site hello de tooaccess HTTP.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-486">If an application has both an HTTPS and an HTTP binding, clients can still use HTTP tooaccess hello site.</span></span> <span data-ttu-id="7d0fe-487">tooprevent cela, utilisez un tooensure de filtre d’action qui demande tooprotected API sont toujours via HTTPS.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-487">tooprevent this, use an action filter tooensure that requests tooprotected APIs are always over HTTPS.</span></span>|

### <a name="example"></a><span data-ttu-id="7d0fe-488">Exemple</span><span class="sxs-lookup"><span data-stu-id="7d0fe-488">Example</span></span> 
<span data-ttu-id="7d0fe-489">Hello de code suivant montre un filtre API Web d’authentification qui vérifie si SSL :</span><span class="sxs-lookup"><span data-stu-id="7d0fe-489">hello following code shows a Web API authentication filter that checks for SSL:</span></span> 
```C#
public class RequireHttpsAttribute : AuthorizationFilterAttribute
{
    public override void OnAuthorization(HttpActionContext actionContext)
    {
        if (actionContext.Request.RequestUri.Scheme != Uri.UriSchemeHttps)
        {
            actionContext.Response = new HttpResponseMessage(System.Net.HttpStatusCode.Forbidden)
            {
                ReasonPhrase = "HTTPS Required"
            };
        }
        else
        {
            base.OnAuthorization(actionContext);
        }
    }
}
```
<span data-ttu-id="7d0fe-490">Ajouter ce filtre tooany des actions API Web nécessitant SSL :</span><span class="sxs-lookup"><span data-stu-id="7d0fe-490">Add this filter tooany Web API actions that require SSL:</span></span> 
```C#
public class ValuesController : ApiController
{
    [RequireHttps]
    public HttpResponseMessage Get() { ... }
}
```
 
## <span data-ttu-id="7d0fe-491"><a id="redis-ssl"></a>Assurez-vous que tooAzure communication que cache Redis est via le protocole SSL</span><span class="sxs-lookup"><span data-stu-id="7d0fe-491"><a id="redis-ssl"></a>Ensure that communication tooAzure Redis Cache is over SSL</span></span>

| <span data-ttu-id="7d0fe-492">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-492">Title</span></span>                   | <span data-ttu-id="7d0fe-493">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-493">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-494">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-494">**Component**</span></span>               | <span data-ttu-id="7d0fe-495">Cache Redis Azure</span><span class="sxs-lookup"><span data-stu-id="7d0fe-495">Azure Redis Cache</span></span> | 
| <span data-ttu-id="7d0fe-496">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-496">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-497">Créer</span><span class="sxs-lookup"><span data-stu-id="7d0fe-497">Build</span></span> |  
| <span data-ttu-id="7d0fe-498">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-498">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-499">Générique</span><span class="sxs-lookup"><span data-stu-id="7d0fe-499">Generic</span></span> |
| <span data-ttu-id="7d0fe-500">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-500">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-501">N/A</span><span class="sxs-lookup"><span data-stu-id="7d0fe-501">N/A</span></span>  |
| <span data-ttu-id="7d0fe-502">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-502">**References**</span></span>              | [<span data-ttu-id="7d0fe-503">Forum aux questions sur le Cache Redis Azure</span><span class="sxs-lookup"><span data-stu-id="7d0fe-503">Azure Redis SSL support</span></span>](https://azure.microsoft.com/documentation/articles/cache-faq/#when-should-i-enable-the-non-ssl-port-for-connecting-to-redis) |
| <span data-ttu-id="7d0fe-504">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-504">**Steps**</span></span> | <span data-ttu-id="7d0fe-505">Redis serveur ne prend pas en charge SSL en dehors de la zone de hello, contrairement à un Cache Redis Azure.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-505">Redis server does not support SSL out of hello box, but Azure Redis Cache does.</span></span> <span data-ttu-id="7d0fe-506">Si vous vous connectez tooAzure Cache Redis et que votre client prend en charge SSL, comme StackExchange.Redis, vous devez utiliser SSL.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-506">If you are connecting tooAzure Redis Cache and your client supports SSL, like StackExchange.Redis, then you should use SSL.</span></span> <span data-ttu-id="7d0fe-507">Par défaut, le port non SSL est désactivé pour les nouvelles instances Cache Redis Azure.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-507">By default non-SSL port is disabled for new Azure Redis Cache instances.</span></span> <span data-ttu-id="7d0fe-508">Assurez-vous que les paramètres par défaut sécurisés hello ne sont pas modifiés sauf s’il existe une dépendance sur la prise en charge SSL pour les clients redis.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-508">Ensure that hello secure defaults are not changed unless there is a dependency on SSL support for redis clients.</span></span> |

<span data-ttu-id="7d0fe-509">Notez que Redis est conçue toobe accessible par les clients approuvés dans les environnements approuvés.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-509">Please note that Redis is designed toobe accessed by trusted clients inside trusted environments.</span></span> <span data-ttu-id="7d0fe-510">Cela signifie que généralement il n’est pas une bonne idée tooexpose hello Redis instance directement toohello internet ou, en général, environnement tooan où les clients non approuvés peuvent accéder directement à hello le port TCP de Redis ou un socket d’UNIX.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-510">This means that usually it is not a good idea tooexpose hello Redis instance directly toohello internet or, in general, tooan environment where untrusted clients can directly access hello Redis TCP port or UNIX socket.</span></span> 

## <span data-ttu-id="7d0fe-511"><a id="device-field"></a>APPAREIL tooField passerelle communication sécurisée</span><span class="sxs-lookup"><span data-stu-id="7d0fe-511"><a id="device-field"></a>Secure Device tooField Gateway communication</span></span>

| <span data-ttu-id="7d0fe-512">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-512">Title</span></span>                   | <span data-ttu-id="7d0fe-513">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-513">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-514">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-514">**Component**</span></span>               | <span data-ttu-id="7d0fe-515">Passerelle de champ IoT</span><span class="sxs-lookup"><span data-stu-id="7d0fe-515">IoT Field Gateway</span></span> | 
| <span data-ttu-id="7d0fe-516">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-516">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-517">Créer</span><span class="sxs-lookup"><span data-stu-id="7d0fe-517">Build</span></span> |  
| <span data-ttu-id="7d0fe-518">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-518">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-519">Générique</span><span class="sxs-lookup"><span data-stu-id="7d0fe-519">Generic</span></span> |
| <span data-ttu-id="7d0fe-520">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-520">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-521">N/A</span><span class="sxs-lookup"><span data-stu-id="7d0fe-521">N/A</span></span>  |
| <span data-ttu-id="7d0fe-522">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-522">**References**</span></span>              | <span data-ttu-id="7d0fe-523">N/A</span><span class="sxs-lookup"><span data-stu-id="7d0fe-523">N/A</span></span>  |
| <span data-ttu-id="7d0fe-524">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-524">**Steps**</span></span> | <span data-ttu-id="7d0fe-525">Pour les appareils basé sur IP, le protocole de communication hello peut généralement être encapsulé dans un SSL/TLS canal tooprotect transfert de données.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-525">For IP based devices, hello communication protocol could typically be encapsulated in a SSL/TLS channel tooprotect data in transit.</span></span> <span data-ttu-id="7d0fe-526">Pour les autres protocoles qui ne prennent pas en charge SSL/TLS, vérifiez s’il existe des versions sécurisées de protocole de hello qui offrent une sécurité au niveau de la couche de transport ou du message.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-526">For other protocols that do not support SSL/TLS investigate if there are secure versions of hello protocol that provide security at transport or message layer.</span></span> |

## <span data-ttu-id="7d0fe-527"><a id="device-cloud"></a>Sécuriser l’appareil tooCloud communication de passerelle à l’aide de SSL/TLS</span><span class="sxs-lookup"><span data-stu-id="7d0fe-527"><a id="device-cloud"></a>Secure Device tooCloud Gateway communication using SSL/TLS</span></span>

| <span data-ttu-id="7d0fe-528">Intitulé</span><span class="sxs-lookup"><span data-stu-id="7d0fe-528">Title</span></span>                   | <span data-ttu-id="7d0fe-529">Détails</span><span class="sxs-lookup"><span data-stu-id="7d0fe-529">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="7d0fe-530">**Composant**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-530">**Component**</span></span>               | <span data-ttu-id="7d0fe-531">Passerelle de cloud IoT</span><span class="sxs-lookup"><span data-stu-id="7d0fe-531">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="7d0fe-532">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-532">**SDL Phase**</span></span>               | <span data-ttu-id="7d0fe-533">Créer</span><span class="sxs-lookup"><span data-stu-id="7d0fe-533">Build</span></span> |  
| <span data-ttu-id="7d0fe-534">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-534">**Applicable Technologies**</span></span> | <span data-ttu-id="7d0fe-535">Générique</span><span class="sxs-lookup"><span data-stu-id="7d0fe-535">Generic</span></span> |
| <span data-ttu-id="7d0fe-536">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-536">**Attributes**</span></span>              | <span data-ttu-id="7d0fe-537">N/A</span><span class="sxs-lookup"><span data-stu-id="7d0fe-537">N/A</span></span>  |
| <span data-ttu-id="7d0fe-538">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-538">**References**</span></span>              | [<span data-ttu-id="7d0fe-539">Guide du développeur Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="7d0fe-539">Choose your Communication Protocol</span></span>](https://azure.microsoft.com/documentation/articles/iot-hub-devguide/#messaging) |
| <span data-ttu-id="7d0fe-540">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="7d0fe-540">**Steps**</span></span> | <span data-ttu-id="7d0fe-541">Sécuriser les protocoles HTTP/AMQP ou MQTT à l’aide du protocole SSL/TLS.</span><span class="sxs-lookup"><span data-stu-id="7d0fe-541">Secure HTTP/AMQP or MQTT protocols using SSL/TLS.</span></span> |
