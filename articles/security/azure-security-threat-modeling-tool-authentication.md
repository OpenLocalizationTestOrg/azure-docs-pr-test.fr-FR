---
title: "aaaAuthentication - outil de modélisation des menaces Microsoft - Azure | Documents Microsoft"
description: "mesures d’atténuation des menaces exposé Bonjour outil de modélisation des menaces"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: 06c1b1aebab25e6fb5b666d24ecd9d86085d656c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="security-frame-authentication--mitigations"></a><span data-ttu-id="a5931-103">Infrastructure de sécurité : Authentification | Mesures de correction</span><span class="sxs-lookup"><span data-stu-id="a5931-103">Security Frame: Authentication | Mitigations</span></span> 
| <span data-ttu-id="a5931-104">Produit/Service</span><span class="sxs-lookup"><span data-stu-id="a5931-104">Product/Service</span></span> | <span data-ttu-id="a5931-105">Article</span><span class="sxs-lookup"><span data-stu-id="a5931-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="a5931-106">**Application web**</span><span class="sxs-lookup"><span data-stu-id="a5931-106">**Web Application**</span></span>    | <ul><li>[<span data-ttu-id="a5931-107">Envisagez d’utiliser un tooWeb tooauthenticate du mécanisme d’authentification standard Application</span><span class="sxs-lookup"><span data-stu-id="a5931-107">Consider using a standard authentication mechanism tooauthenticate tooWeb Application</span></span>](#standard-authn-web-app)</li><li>[<span data-ttu-id="a5931-108">Les applications doivent gérer les scénarios d’authentification ayant échoué en toute sécurité </span><span class="sxs-lookup"><span data-stu-id="a5931-108">Applications must handle failed authentication scenarios securely</span></span>](#handle-failed-authn)</li><li>[<span data-ttu-id="a5931-109">Activer l’authentification adaptative ou avancée</span><span class="sxs-lookup"><span data-stu-id="a5931-109">Enable step up or adaptive authentication</span></span>](#step-up-adaptive-authn)</li><li>[<span data-ttu-id="a5931-110">Garantir que les interfaces d’administration sont correctement verrouillées</span><span class="sxs-lookup"><span data-stu-id="a5931-110">Ensure that administrative interfaces are appropriately locked down</span></span>](#admin-interface-lockdown)</li><li>[<span data-ttu-id="a5931-111">Implémenter des fonctionnalités de mot de passe oublié en toute sécurité</span><span class="sxs-lookup"><span data-stu-id="a5931-111">Implement forgot password functionalities securely</span></span>](#forgot-pword-fxn)</li><li>[<span data-ttu-id="a5931-112">Garantir que la stratégie de compte et de mot de passe est implémentée</span><span class="sxs-lookup"><span data-stu-id="a5931-112">Ensure that password and account policy are implemented</span></span>](#pword-account-policy)</li><li>[<span data-ttu-id="a5931-113">Énumération de mettre en œuvre des contrôles tooprevent nom d’utilisateur</span><span class="sxs-lookup"><span data-stu-id="a5931-113">Implement controls tooprevent username enumeration</span></span>](#controls-username-enum)</li></ul> |
| <span data-ttu-id="a5931-114">**Base de données**</span><span class="sxs-lookup"><span data-stu-id="a5931-114">**Database**</span></span> | <ul><li>[<span data-ttu-id="a5931-115">Si possible, utilisez l’authentification Windows pour la connexion tooSQL Server</span><span class="sxs-lookup"><span data-stu-id="a5931-115">When possible, use Windows Authentication for connecting tooSQL Server</span></span>](#win-authn-sql)</li><li>[<span data-ttu-id="a5931-116">Lorsque cela est possible utiliser l’authentification Azure Active Directory pour tooSQL de connexion de base de données</span><span class="sxs-lookup"><span data-stu-id="a5931-116">When possible use Azure Active Directory Authentication for Connecting tooSQL Database</span></span>](#aad-authn-sql)</li><li>[<span data-ttu-id="a5931-117">Lorsque le mode d’authentification SQL est utilisé, garantir que la stratégie de compte et de mot de passe est appliquée sur SQL Server</span><span class="sxs-lookup"><span data-stu-id="a5931-117">When SQL authentication mode is used, ensure that account and password policy are enforced on SQL server</span></span>](#authn-account-pword)</li><li>[<span data-ttu-id="a5931-118">Ne pas utiliser l’authentification SQL dans des bases de données à relation contenant-contenu</span><span class="sxs-lookup"><span data-stu-id="a5931-118">Do not use SQL Authentication in contained databases</span></span>](#autn-contained-db)</li></ul> |
| <span data-ttu-id="a5931-119">**Azure Event Hub**</span><span class="sxs-lookup"><span data-stu-id="a5931-119">**Azure Event Hub**</span></span> | <ul><li>[<span data-ttu-id="a5931-120">Utiliser les informations d’authentification par appareil à l’aide des jetons SAP</span><span class="sxs-lookup"><span data-stu-id="a5931-120">Use per device authentication credentials using SaS tokens</span></span>](#authn-sas-tokens)</li></ul> |
| <span data-ttu-id="a5931-121">**Délimitation d’approbation Azure**</span><span class="sxs-lookup"><span data-stu-id="a5931-121">**Azure Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="a5931-122">Activer Azure Multi-Factor Authentication pour les administrateurs Azure</span><span class="sxs-lookup"><span data-stu-id="a5931-122">Enable Azure Multi-Factor Authentication for Azure Administrators</span></span>](#multi-factor-azure-admin)</li></ul> |
| <span data-ttu-id="a5931-123">**Délimitation d’approbation Service Fabric**</span><span class="sxs-lookup"><span data-stu-id="a5931-123">**Service Fabric Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="a5931-124">Restreindre l’accès anonyme tooService Cluster Fabric</span><span class="sxs-lookup"><span data-stu-id="a5931-124">Restrict anonymous access tooService Fabric Cluster</span></span>](#anon-access-cluster)</li><li>[<span data-ttu-id="a5931-125">Garantir que le certificat client à nœud Service Fabric est différent du certificat nœud à nœud</span><span class="sxs-lookup"><span data-stu-id="a5931-125">Ensure that Service Fabric client-to-node certificate is different from node-to-node certificate</span></span>](#fabric-cn-nn)</li><li>[<span data-ttu-id="a5931-126">Utilisez des clusters de l’ensemble fibre optique tooservice AAD tooauthenticate clients</span><span class="sxs-lookup"><span data-stu-id="a5931-126">Use AAD tooauthenticate clients tooservice fabric clusters</span></span>](#aad-client-fabric)</li><li>[<span data-ttu-id="a5931-127">Garantir que les certificats Service Fabric proviennent d’une autorité de certification approuvée</span><span class="sxs-lookup"><span data-stu-id="a5931-127">Ensure that service fabric certificates are obtained from an approved Certificate Authority (CA)</span></span>](#fabric-cert-ca)</li></ul> |
| <span data-ttu-id="a5931-128">**IdentityServer**</span><span class="sxs-lookup"><span data-stu-id="a5931-128">**Identity Server**</span></span> | <ul><li>[<span data-ttu-id="a5931-129">Utiliser des scénarios d’authentification standard pris en charge par IdentityServer</span><span class="sxs-lookup"><span data-stu-id="a5931-129">Use standard authentication scenarios supported by Identity Server</span></span>](#standard-authn-id)</li><li>[<span data-ttu-id="a5931-130">Remplacer hello par défaut Identity Server cache de jeton avec une solution évolutive</span><span class="sxs-lookup"><span data-stu-id="a5931-130">Override hello default Identity Server token cache with a scalable alternative</span></span>](#override-token)</li></ul> |
| <span data-ttu-id="a5931-131">**Délimitation d’approbation machine**</span><span class="sxs-lookup"><span data-stu-id="a5931-131">**Machine Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="a5931-132">Garantir que les fichiers binaires de l’application déployée sont signés numériquement</span><span class="sxs-lookup"><span data-stu-id="a5931-132">Ensure that deployed application's binaries are digitally signed</span></span>](#binaries-signed)</li></ul> |
| <span data-ttu-id="a5931-133">**WCF**</span><span class="sxs-lookup"><span data-stu-id="a5931-133">**WCF**</span></span> | <ul><li>[<span data-ttu-id="a5931-134">Activer l’authentification lors de la connexion tooMSMQ les files d’attente dans WCF</span><span class="sxs-lookup"><span data-stu-id="a5931-134">Enable authentication when connecting tooMSMQ queues in WCF</span></span>](#msmq-queues)</li><li>[<span data-ttu-id="a5931-135">WCF-ne définissez pas de Message clientCredentialType toonone</span><span class="sxs-lookup"><span data-stu-id="a5931-135">WCF-Do not set Message clientCredentialType toonone</span></span>](#message-none)</li><li>[<span data-ttu-id="a5931-136">WCF-ne définissez pas le Transport clientCredentialType toonone</span><span class="sxs-lookup"><span data-stu-id="a5931-136">WCF-Do not set Transport clientCredentialType toonone</span></span>](#transport-none)</li></ul> |
| <span data-ttu-id="a5931-137">**API Web**</span><span class="sxs-lookup"><span data-stu-id="a5931-137">**Web API**</span></span> | <ul><li>[<span data-ttu-id="a5931-138">Assurez-vous que les techniques d’authentification standard sont utilisée toosecure API Web</span><span class="sxs-lookup"><span data-stu-id="a5931-138">Ensure that standard authentication techniques are used toosecure Web APIs</span></span>](#authn-secure-api)</li></ul> |
| <span data-ttu-id="a5931-139">**Azure AD**</span><span class="sxs-lookup"><span data-stu-id="a5931-139">**Azure AD**</span></span> | <ul><li>[<span data-ttu-id="a5931-140">Utiliser des scénarios d’authentification standard pris en charge par Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="a5931-140">Use standard authentication scenarios supported by Azure Active Directory</span></span>](#authn-aad)</li><li>[<span data-ttu-id="a5931-141">Remplacer hello par défaut ADAL cache de jeton avec une solution évolutive</span><span class="sxs-lookup"><span data-stu-id="a5931-141">Override hello default ADAL token cache with a scalable alternative</span></span>](#adal-scalable)</li><li>[<span data-ttu-id="a5931-142">Assurez-vous que TokenReplayCache est la relecture de hello tooprevent utilisé des jetons d’authentification ADAL</span><span class="sxs-lookup"><span data-stu-id="a5931-142">Ensure that TokenReplayCache is used tooprevent hello replay of ADAL authentication tokens</span></span>](#tokenreplaycache-adal)</li><li>[<span data-ttu-id="a5931-143">Utiliser des bibliothèques ADAL toomanage jeton demande OAuth2 clients tooAAD (ou AD local)</span><span class="sxs-lookup"><span data-stu-id="a5931-143">Use ADAL libraries toomanage token requests from OAuth2 clients tooAAD (or on-premises AD)</span></span>](#adal-oauth2)</li></ul> |
| <span data-ttu-id="a5931-144">**Passerelle de champ IoT**</span><span class="sxs-lookup"><span data-stu-id="a5931-144">**IoT Field Gateway**</span></span> | <ul><li>[<span data-ttu-id="a5931-145">Authentifier les appareils toohello champ passerelle de connexion</span><span class="sxs-lookup"><span data-stu-id="a5931-145">Authenticate devices connecting toohello Field Gateway</span></span>](#authn-devices-field)</li></ul> |
| <span data-ttu-id="a5931-146">**Passerelle de cloud IoT**</span><span class="sxs-lookup"><span data-stu-id="a5931-146">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="a5931-147">Assurez-vous que les périphériques se connectant tooCloud passerelle sont authentifiés</span><span class="sxs-lookup"><span data-stu-id="a5931-147">Ensure that devices connecting tooCloud gateway are authenticated</span></span>](#authn-devices-cloud)</li><li>[<span data-ttu-id="a5931-148">Utiliser les informations d’authentification par appareil</span><span class="sxs-lookup"><span data-stu-id="a5931-148">Use per-device authentication credentials</span></span>](#authn-cred)</li></ul> |
| <span data-ttu-id="a5931-149">**Azure Storage**</span><span class="sxs-lookup"><span data-stu-id="a5931-149">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="a5931-150">Assurez-vous que seul hello requise conteneurs et objets BLOB obtiennent un accès en lecture anonyme</span><span class="sxs-lookup"><span data-stu-id="a5931-150">Ensure that only hello required containers and blobs are given anonymous read access</span></span>](#req-containers-anon)</li><li>[<span data-ttu-id="a5931-151">Accorder tooobjects un accès limité dans le stockage Azure à l’aide de disques SAS ou SAP</span><span class="sxs-lookup"><span data-stu-id="a5931-151">Grant limited access tooobjects in Azure storage using SAS or SAP</span></span>](#limited-access-sas)</li></ul> |

## <span data-ttu-id="a5931-152"><a id="standard-authn-web-app"></a>Envisagez d’utiliser un tooWeb tooauthenticate du mécanisme d’authentification standard Application</span><span class="sxs-lookup"><span data-stu-id="a5931-152"><a id="standard-authn-web-app"></a>Consider using a standard authentication mechanism tooauthenticate tooWeb Application</span></span>

| <span data-ttu-id="a5931-153">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-153">Title</span></span>                   | <span data-ttu-id="a5931-154">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-154">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-155">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-155">**Component**</span></span>               | <span data-ttu-id="a5931-156">Application web</span><span class="sxs-lookup"><span data-stu-id="a5931-156">Web Application</span></span> | 
| <span data-ttu-id="a5931-157">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-157">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-158">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-158">Build</span></span> |  
| <span data-ttu-id="a5931-159">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-159">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-160">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-160">Generic</span></span> |
| <span data-ttu-id="a5931-161">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-161">**Attributes**</span></span>              | <span data-ttu-id="a5931-162">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-162">N/A</span></span>  |
| <span data-ttu-id="a5931-163">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-163">**References**</span></span>              | <span data-ttu-id="a5931-164">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-164">N/A</span></span>  |
| <span data-ttu-id="a5931-165">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-165">Details</span></span> | <p><span data-ttu-id="a5931-166">L’authentification est le processus hello dans lequel une entité prouve son identité, généralement par le biais d’informations d’identification, telles qu’un nom d’utilisateur et un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="a5931-166">Authentication is hello process where an entity proves its identity, typically through credentials, such as a user name and password.</span></span> <span data-ttu-id="a5931-167">Il existe plusieurs protocoles d’authentification disponibles qui peuvent vous être utiles.</span><span class="sxs-lookup"><span data-stu-id="a5931-167">There are multiple authentication protocols available which may be considered.</span></span> <span data-ttu-id="a5931-168">Certains d’entre eux sont répertoriés ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="a5931-168">Some of them are listed below:</span></span></p><ul><li><span data-ttu-id="a5931-169">Certificats clients</span><span class="sxs-lookup"><span data-stu-id="a5931-169">Client certificates</span></span></li><li><span data-ttu-id="a5931-170">Basé sur Windows</span><span class="sxs-lookup"><span data-stu-id="a5931-170">Windows based</span></span></li><li><span data-ttu-id="a5931-171">Basé sur des formulaires</span><span class="sxs-lookup"><span data-stu-id="a5931-171">Forms based</span></span></li><li><span data-ttu-id="a5931-172">Fédération - ADFS</span><span class="sxs-lookup"><span data-stu-id="a5931-172">Federation - ADFS</span></span></li><li><span data-ttu-id="a5931-173">Fédération - Azure AD</span><span class="sxs-lookup"><span data-stu-id="a5931-173">Federation - Azure AD</span></span></li><li><span data-ttu-id="a5931-174">Fédération - IdentityServer</span><span class="sxs-lookup"><span data-stu-id="a5931-174">Federation - Identity Server</span></span></li></ul><p><span data-ttu-id="a5931-175">Envisagez d’utiliser un processus de l’authentification standard mécanisme tooidentify hello source</span><span class="sxs-lookup"><span data-stu-id="a5931-175">Consider using a standard authentication mechanism tooidentify hello source process</span></span></p>|

## <span data-ttu-id="a5931-176"><a id="handle-failed-authn"></a>Les applications doivent gérer les scénarios d’authentification ayant échoué en toute sécurité </span><span class="sxs-lookup"><span data-stu-id="a5931-176"><a id="handle-failed-authn"></a>Applications must handle failed authentication scenarios securely</span></span>

| <span data-ttu-id="a5931-177">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-177">Title</span></span>                   | <span data-ttu-id="a5931-178">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-178">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-179">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-179">**Component**</span></span>               | <span data-ttu-id="a5931-180">Application web</span><span class="sxs-lookup"><span data-stu-id="a5931-180">Web Application</span></span> | 
| <span data-ttu-id="a5931-181">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-181">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-182">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-182">Build</span></span> |  
| <span data-ttu-id="a5931-183">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-183">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-184">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-184">Generic</span></span> |
| <span data-ttu-id="a5931-185">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-185">**Attributes**</span></span>              | <span data-ttu-id="a5931-186">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-186">N/A</span></span>  |
| <span data-ttu-id="a5931-187">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-187">**References**</span></span>              | <span data-ttu-id="a5931-188">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-188">N/A</span></span>  |
| <span data-ttu-id="a5931-189">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-189">Details</span></span> | <p><span data-ttu-id="a5931-190">Les applications qui authentifient des utilisateurs explicitement doivent gérer les scénarios d’échec d’authentification securely.hello le mécanisme d’authentification doit :</span><span class="sxs-lookup"><span data-stu-id="a5931-190">Applications that explicitly authenticate users must handle failed authentication scenarios securely.hello authentication mechanism must:</span></span></p><ul><li><span data-ttu-id="a5931-191">Refuser l’accès des ressources de tooprivileged lorsque l’authentification échoue</span><span class="sxs-lookup"><span data-stu-id="a5931-191">Deny access tooprivileged resources when authentication fails</span></span></li><li><span data-ttu-id="a5931-192">Afficher un message d’erreur générique après l’échec d’authentification et le refus de l’accès.</span><span class="sxs-lookup"><span data-stu-id="a5931-192">Display a generic error message after failed authentication and access denied occurs</span></span></li></ul><p><span data-ttu-id="a5931-193">Test des éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="a5931-193">Test for:</span></span></p><ul><li><span data-ttu-id="a5931-194">Protection des ressources avec des privilèges après les échecs de connexion.</span><span class="sxs-lookup"><span data-stu-id="a5931-194">Protection of privileged resources after failed logins</span></span></li><li><span data-ttu-id="a5931-195">Un message d’erreur générique est affiché après les événements d’échec d’authentification et de refus de l’accès.</span><span class="sxs-lookup"><span data-stu-id="a5931-195">A generic error message is displayed on failed authentication and access denied event(s)</span></span></li><li><span data-ttu-id="a5931-196">Les comptes sont désactivés après un nombre excessif d’échecs.</span><span class="sxs-lookup"><span data-stu-id="a5931-196">Accounts are disabled after an excessive number of failed attempts</span></span></li><ul>|

## <span data-ttu-id="a5931-197"><a id="step-up-adaptive-authn"></a>Activer l’authentification adaptative ou avancée</span><span class="sxs-lookup"><span data-stu-id="a5931-197"><a id="step-up-adaptive-authn"></a>Enable step up or adaptive authentication</span></span>

| <span data-ttu-id="a5931-198">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-198">Title</span></span>                   | <span data-ttu-id="a5931-199">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-199">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-200">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-200">**Component**</span></span>               | <span data-ttu-id="a5931-201">Application web</span><span class="sxs-lookup"><span data-stu-id="a5931-201">Web Application</span></span> | 
| <span data-ttu-id="a5931-202">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-202">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-203">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-203">Build</span></span> |  
| <span data-ttu-id="a5931-204">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-204">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-205">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-205">Generic</span></span> |
| <span data-ttu-id="a5931-206">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-206">**Attributes**</span></span>              | <span data-ttu-id="a5931-207">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-207">N/A</span></span>  |
| <span data-ttu-id="a5931-208">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-208">**References**</span></span>              | <span data-ttu-id="a5931-209">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-209">N/A</span></span>  |
| <span data-ttu-id="a5931-210">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-210">Details</span></span> | <p><span data-ttu-id="a5931-211">Vérifiez l’application hello a une autorisation supplémentaire (telle qu’intensifier ou authentification adaptative, via l’authentification multifacteur par exemple envoyer OTP dans SMS, etc. de courrier électronique ou demande une nouvelle authentification) afin de l’utilisateur de hello est un défi avant l’octroi d’accès informations de toosensitive.</span><span class="sxs-lookup"><span data-stu-id="a5931-211">Verify hello application has additional authorization (such as step up or adaptive authentication, via multi-factor authentication such as sending OTP in SMS, email etc. or prompting for re-authentication) so hello user is challenged before being granted access toosensitive information.</span></span> <span data-ttu-id="a5931-212">Cette règle s’applique également visant à rendre compte tooan de modifications critiques ou action</span><span class="sxs-lookup"><span data-stu-id="a5931-212">This rule also applies for making critical changes tooan account or action</span></span></p><p><span data-ttu-id="a5931-213">Cela signifie également qu’adaptation hello d’authentification a toobe implémenté de telle manière qu’application hello applique correctement contextuelle d’autorisation Autoriser ainsi en toonot manipulations non autorisées par le biais de dans l’exemple, falsification du paramètre</span><span class="sxs-lookup"><span data-stu-id="a5931-213">This also means that hello adaptation of authentication has toobe implemented in such a manner that hello application correctly enforces context-sensitive authorization so as toonot allow unauthorized manipulation by means of in example, parameter tampering</span></span></p>|

## <span data-ttu-id="a5931-214"><a id="admin-interface-lockdown"></a>Garantir que les interfaces d’administration sont correctement verrouillées</span><span class="sxs-lookup"><span data-stu-id="a5931-214"><a id="admin-interface-lockdown"></a>Ensure that administrative interfaces are appropriately locked down</span></span>

| <span data-ttu-id="a5931-215">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-215">Title</span></span>                   | <span data-ttu-id="a5931-216">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-216">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-217">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-217">**Component**</span></span>               | <span data-ttu-id="a5931-218">Application web</span><span class="sxs-lookup"><span data-stu-id="a5931-218">Web Application</span></span> | 
| <span data-ttu-id="a5931-219">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-219">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-220">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-220">Build</span></span> |  
| <span data-ttu-id="a5931-221">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-221">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-222">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-222">Generic</span></span> |
| <span data-ttu-id="a5931-223">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-223">**Attributes**</span></span>              | <span data-ttu-id="a5931-224">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-224">N/A</span></span>  |
| <span data-ttu-id="a5931-225">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-225">**References**</span></span>              | <span data-ttu-id="a5931-226">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-226">N/A</span></span>  |
| <span data-ttu-id="a5931-227">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-227">Details</span></span> | <span data-ttu-id="a5931-228">Hello première solution est toogrant l’accès uniquement à partir d’une certaine source IP plage toohello interface d’administration.</span><span class="sxs-lookup"><span data-stu-id="a5931-228">hello first solution is toogrant access only from a certain source IP range toohello administrative interface.</span></span> <span data-ttu-id="a5931-229">Si cette solution ne sera possible qu’il est toujours recommandé tooenforce une authentification Step-Up ou adaptative pour la connexion dans l’interface d’administration de hello</span><span class="sxs-lookup"><span data-stu-id="a5931-229">If that solution would not be possible than it is always recommended tooenforce a step-up or adaptive authentication for logging in into hello administrative interface</span></span> |

## <span data-ttu-id="a5931-230"><a id="forgot-pword-fxn"></a>Implémenter des fonctionnalités de mot de passe oublié en toute sécurité</span><span class="sxs-lookup"><span data-stu-id="a5931-230"><a id="forgot-pword-fxn"></a>Implement forgot password functionalities securely</span></span>

| <span data-ttu-id="a5931-231">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-231">Title</span></span>                   | <span data-ttu-id="a5931-232">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-232">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-233">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-233">**Component**</span></span>               | <span data-ttu-id="a5931-234">Application web</span><span class="sxs-lookup"><span data-stu-id="a5931-234">Web Application</span></span> | 
| <span data-ttu-id="a5931-235">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-235">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-236">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-236">Build</span></span> |  
| <span data-ttu-id="a5931-237">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-237">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-238">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-238">Generic</span></span> |
| <span data-ttu-id="a5931-239">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-239">**Attributes**</span></span>              | <span data-ttu-id="a5931-240">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-240">N/A</span></span>  |
| <span data-ttu-id="a5931-241">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-241">**References**</span></span>              | <span data-ttu-id="a5931-242">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-242">N/A</span></span>  |
| <span data-ttu-id="a5931-243">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-243">Details</span></span> | <p><span data-ttu-id="a5931-244">Hello est première tooverify que vous avez oublié le mot de passe et d’autres chemins de récupération envoient un lien, y compris une durée limitée activation jeton au lieu de hello mot de passe.</span><span class="sxs-lookup"><span data-stu-id="a5931-244">hello first thing is tooverify that forgot password and other recovery paths send a link including a time-limited activation token rather than hello password itself.</span></span> <span data-ttu-id="a5931-245">L’authentification supplémentaire sur soft-jetons (par exemple, les applications mobiles SMS jeton, natives, etc.) peut être nécessaire ainsi avant de lien de hello est envoyé via.</span><span class="sxs-lookup"><span data-stu-id="a5931-245">Additional authentication based on soft-tokens (e.g. SMS token, native mobile applications, etc.) can be required as well before hello link is sent over.</span></span> <span data-ttu-id="a5931-246">En second lieu, vous ne devez pas verrouiller hello utilisateurs compte tout en hello d’obtention d’un nouveau mot de passe est en cours.</span><span class="sxs-lookup"><span data-stu-id="a5931-246">Second, you should not lock out hello users account whilst hello process of getting a new password is in progress.</span></span></p><p><span data-ttu-id="a5931-247">Cela peut entraîner des tooa par déni de service chaque fois qu’une personne malveillante décide toointentionally utilisateurs hello avec une attaque automatisée de verrouillage.</span><span class="sxs-lookup"><span data-stu-id="a5931-247">This could lead tooa Denial of service attack whenever an attacker decides toointentionally lock out hello users with an automated attack.</span></span> <span data-ttu-id="a5931-248">Troisièmement, chaque fois que la nouvelle demande de mot de passe hello a été défini en cours d’exécution, vous affichez de message de salutation doit être généralisé dans l’énumération de commande tooprevent nom d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="a5931-248">Third, whenever hello new password request was set in progress, hello message you display should be generalized in order tooprevent username enumeration.</span></span> <span data-ttu-id="a5931-249">Quatrième, toujours interdire l’utilisation de hello d’anciens mots de passe et implémenter une stratégie de mot de passe fort.</span><span class="sxs-lookup"><span data-stu-id="a5931-249">Fourth, always disallow hello use of old passwords and implement a strong password policy.</span></span></p> |

## <span data-ttu-id="a5931-250"><a id="pword-account-policy"></a>Garantir que la stratégie de compte et de mot de passe est implémentée</span><span class="sxs-lookup"><span data-stu-id="a5931-250"><a id="pword-account-policy"></a>Ensure that password and account policy are implemented</span></span>

| <span data-ttu-id="a5931-251">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-251">Title</span></span>                   | <span data-ttu-id="a5931-252">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-252">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-253">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-253">**Component**</span></span>               | <span data-ttu-id="a5931-254">Application web</span><span class="sxs-lookup"><span data-stu-id="a5931-254">Web Application</span></span> | 
| <span data-ttu-id="a5931-255">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-255">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-256">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-256">Build</span></span> |  
| <span data-ttu-id="a5931-257">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-257">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-258">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-258">Generic</span></span> |
| <span data-ttu-id="a5931-259">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-259">**Attributes**</span></span>              | <span data-ttu-id="a5931-260">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-260">N/A</span></span>  |
| <span data-ttu-id="a5931-261">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-261">**References**</span></span>              | <span data-ttu-id="a5931-262">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-262">N/A</span></span>  |
| <span data-ttu-id="a5931-263">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-263">Details</span></span> | <p><span data-ttu-id="a5931-264">Une stratégie de compte et de mot de passe conforme à la stratégie et aux bonnes pratiques de l’organisation doit être implémentée.</span><span class="sxs-lookup"><span data-stu-id="a5931-264">Password and account policy in compliance with organizational policy and best practices should be implemented.</span></span></p><p><span data-ttu-id="a5931-265">toodefend contre les attaques en force et dictionnaire en fonction d’estimation : stratégie de mot de passe fort doit être implémenté tooensure que les utilisateurs créent le mot de passe complexe (par exemple, longueur minimale de 12 caractères, caractères spéciaux et alphanumériques).</span><span class="sxs-lookup"><span data-stu-id="a5931-265">toodefend against brute-force and dictionary based guessing: Strong password policy must be implemented tooensure that users create complex password (e.g., 12 characters minimum length, alphanumeric and special characters).</span></span></p><p><span data-ttu-id="a5931-266">Stratégies de verrouillage de compte peuvent être implémentées dans hello suivant de manière :</span><span class="sxs-lookup"><span data-stu-id="a5931-266">Account lockout policies may be implemented in hello following manner:</span></span></p><ul><li><span data-ttu-id="a5931-267">**Verrouillage léger :** il peut s’agir d’une bonne option pour protéger vos utilisateurs des attaques en force brute.</span><span class="sxs-lookup"><span data-stu-id="a5931-267">**Soft lock-out:** This can be a good option for protecting your users against brute force attacks.</span></span> <span data-ttu-id="a5931-268">Par exemple, chaque fois que l’utilisateur de hello entre une application hello de trois fois de mot de passe incorrect pu verrouiller les compte hello une minute dans tooslow de commande du processus hello d’attaque en rendant moins rentables pour hello intrus tooproceed son mot de passe.</span><span class="sxs-lookup"><span data-stu-id="a5931-268">For example, whenever hello user enters a wrong password three times hello application could lock down hello account for a minute in order tooslow down hello process of brute forcing his password making it less profitable for hello attacker tooproceed.</span></span> <span data-ttu-id="a5931-269">Si vous étiez tooimplement dur contre-mesures de verrouillage pour cet exemple, vous devez obtenir un « Dos » par définitivement verrouillage des comptes.</span><span class="sxs-lookup"><span data-stu-id="a5931-269">If u were tooimplement hard lock-out countermeasures for this example you would achieve a "Dos" by permanently locking out accounts.</span></span> <span data-ttu-id="a5931-270">Vous pouvez également application peut générer un secret à usage unique (un mot de passe) et envoyez-la hors-bande (par courrier électronique, sms, etc.) toohello utilisateur.</span><span class="sxs-lookup"><span data-stu-id="a5931-270">Alternatively, application may generate an OTP (One Time Password) and send it out-of-band (through email, sms etc.) toohello user.</span></span> <span data-ttu-id="a5931-271">Une autre approche peut être tooimplement CAPTCHA après qu’un nombre de tentatives ayant échoué est atteint.</span><span class="sxs-lookup"><span data-stu-id="a5931-271">Another approach may be tooimplement CAPTCHA after a threshold number of failed attempts is reached.</span></span></li><li><span data-ttu-id="a5931-272">**Verrouillage de disque dur :** ce type de verrouillage doit être appliqué à chaque fois que vous détectez un utilisateur attaquer votre application et que vous lui compteur au moyen de verrouillage définitivement son compte jusqu'à ce qu’une équipe de réponse avait temps toodo leurs légales.</span><span class="sxs-lookup"><span data-stu-id="a5931-272">**Hard lock-out:** This type of lockout should be applied whenever you detect a user attacking your application and counter him by means of permanently locking out his account until a response team had time toodo their forensics.</span></span> <span data-ttu-id="a5931-273">Après ce processus, vous pouvez décider d’utilisateur hello toogive son compte ou prendre davantage de poursuites contre lui.</span><span class="sxs-lookup"><span data-stu-id="a5931-273">After this process you can decide toogive hello user back his account or take further legal actions against him.</span></span> <span data-ttu-id="a5931-274">Ce type d’approche empêche les intrus hello de pénétrer davantage de votre application et infrastructure.</span><span class="sxs-lookup"><span data-stu-id="a5931-274">This type of approach prevents hello attacker from further penetrating your application and infrastructure.</span></span></li></ul><p><span data-ttu-id="a5931-275">toodefend contre les attaques par défaut et les comptes prévisibles, vérifiez que toutes les clés et les mots de passe peut être remplacé et sont générés ou remplacés après l’heure de l’installation.</span><span class="sxs-lookup"><span data-stu-id="a5931-275">toodefend against attacks on default and predictable accounts, verify that all keys and passwords are replaceable, and are generated or replaced after installation time.</span></span></p><p><span data-ttu-id="a5931-276">Si l’application hello a tooauto-générer des mots de passe, assurez-vous que les mots de passe hello généré sont aléatoires et disposer de forte entropie.</span><span class="sxs-lookup"><span data-stu-id="a5931-276">If hello application has tooauto-generate passwords, ensure that hello generated passwords are random and have high entropy.</span></span></p>|

## <span data-ttu-id="a5931-277"><a id="controls-username-enum"></a>Énumération de mettre en œuvre des contrôles tooprevent nom d’utilisateur</span><span class="sxs-lookup"><span data-stu-id="a5931-277"><a id="controls-username-enum"></a>Implement controls tooprevent username enumeration</span></span>

| <span data-ttu-id="a5931-278">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-278">Title</span></span>                   | <span data-ttu-id="a5931-279">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-279">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-280">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-280">**Component**</span></span>               | <span data-ttu-id="a5931-281">Application web</span><span class="sxs-lookup"><span data-stu-id="a5931-281">Web Application</span></span> | 
| <span data-ttu-id="a5931-282">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-282">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-283">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-283">Build</span></span> |  
| <span data-ttu-id="a5931-284">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-284">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-285">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-285">Generic</span></span> |
| <span data-ttu-id="a5931-286">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-286">**Attributes**</span></span>              | <span data-ttu-id="a5931-287">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-287">N/A</span></span>  |
| <span data-ttu-id="a5931-288">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-288">**References**</span></span>              | <span data-ttu-id="a5931-289">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-289">N/A</span></span>  |
| <span data-ttu-id="a5931-290">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-290">**Steps**</span></span> | <span data-ttu-id="a5931-291">Tous les messages d’erreur doivent être généralisées dans l’énumération de commande tooprevent nom d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="a5931-291">All error messages should be generalized in order tooprevent username enumeration.</span></span> <span data-ttu-id="a5931-292">En outre, parfois vous ne pouvez pas éviter une fuite d’informations dans des fonctionnalités comme une page d’enregistrement.</span><span class="sxs-lookup"><span data-stu-id="a5931-292">Also sometimes you cannot avoid information leaking in functionalities such as a registration page.</span></span> <span data-ttu-id="a5931-293">Ici, vous devez toouse débit maximal de méthodes comme CAPTCHA tooprevent une attaque automatisée par une personne malveillante.</span><span class="sxs-lookup"><span data-stu-id="a5931-293">Here you need toouse rate-limiting methods like CAPTCHA tooprevent an automated attack by an attacker.</span></span> |

## <span data-ttu-id="a5931-294"><a id="win-authn-sql"></a>Si possible, utilisez l’authentification Windows pour la connexion tooSQL Server</span><span class="sxs-lookup"><span data-stu-id="a5931-294"><a id="win-authn-sql"></a>When possible, use Windows Authentication for connecting tooSQL Server</span></span>

| <span data-ttu-id="a5931-295">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-295">Title</span></span>                   | <span data-ttu-id="a5931-296">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-296">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-297">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-297">**Component**</span></span>               | <span data-ttu-id="a5931-298">Base de données</span><span class="sxs-lookup"><span data-stu-id="a5931-298">Database</span></span> | 
| <span data-ttu-id="a5931-299">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-299">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-300">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-300">Build</span></span> |  
| <span data-ttu-id="a5931-301">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-301">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-302">Local</span><span class="sxs-lookup"><span data-stu-id="a5931-302">OnPrem</span></span> |
| <span data-ttu-id="a5931-303">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-303">**Attributes**</span></span>              | <span data-ttu-id="a5931-304">Version SQL - Toutes</span><span class="sxs-lookup"><span data-stu-id="a5931-304">SQL Version - All</span></span> |
| <span data-ttu-id="a5931-305">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-305">**References**</span></span>              | [<span data-ttu-id="a5931-306">SQL Server - Choisir un mode d’authentification</span><span class="sxs-lookup"><span data-stu-id="a5931-306">SQL Server - Choose an Authentication Mode</span></span>](https://msdn.microsoft.com/library/ms144284.aspx) |
| <span data-ttu-id="a5931-307">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-307">**Steps**</span></span> | <span data-ttu-id="a5931-308">L’authentification Windows utilise le protocole de sécurité Kerberos, fournit une application de stratégie de mot de passe avec la validation de toocomplexity se soucier des mots de passe forts, prend en charge le verrouillage de compte et prend en charge d’expiration du mot de passe.</span><span class="sxs-lookup"><span data-stu-id="a5931-308">Windows Authentication uses Kerberos security protocol, provides password policy enforcement with regard toocomplexity validation for strong passwords, provides support for account lockout, and supports password expiration.</span></span>|

## <span data-ttu-id="a5931-309"><a id="aad-authn-sql"></a>Lorsque cela est possible utiliser l’authentification Azure Active Directory pour tooSQL de connexion de base de données</span><span class="sxs-lookup"><span data-stu-id="a5931-309"><a id="aad-authn-sql"></a>When possible use Azure Active Directory Authentication for Connecting tooSQL Database</span></span>

| <span data-ttu-id="a5931-310">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-310">Title</span></span>                   | <span data-ttu-id="a5931-311">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-311">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-312">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-312">**Component**</span></span>               | <span data-ttu-id="a5931-313">Base de données</span><span class="sxs-lookup"><span data-stu-id="a5931-313">Database</span></span> | 
| <span data-ttu-id="a5931-314">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-314">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-315">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-315">Build</span></span> |  
| <span data-ttu-id="a5931-316">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-316">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-317">SQL Azure</span><span class="sxs-lookup"><span data-stu-id="a5931-317">SQL Azure</span></span> |
| <span data-ttu-id="a5931-318">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-318">**Attributes**</span></span>              | <span data-ttu-id="a5931-319">Version SQL - V12</span><span class="sxs-lookup"><span data-stu-id="a5931-319">SQL Version - V12</span></span> |
| <span data-ttu-id="a5931-320">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-320">**References**</span></span>              | [<span data-ttu-id="a5931-321">TooSQL de connexion de base de données en utilisant authentification Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="a5931-321">Connecting tooSQL Database By Using Azure Active Directory Authentication</span></span>](https://azure.microsoft.com/documentation/articles/sql-database-aad-authentication/) |
| <span data-ttu-id="a5931-322">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-322">**Steps**</span></span> | <span data-ttu-id="a5931-323">**Version minimale :** V12 de base de données SQL Azure requis toouse de base de données SQL Azure tooallow l’authentification AAD contre hello Microsoft Directory</span><span class="sxs-lookup"><span data-stu-id="a5931-323">**Minimum version:** Azure SQL Database V12 required tooallow Azure SQL Database toouse AAD Authentication against hello Microsoft Directory</span></span> |

## <span data-ttu-id="a5931-324"><a id="authn-account-pword"></a>Lorsque le mode d’authentification SQL est utilisé, garantir que la stratégie de compte et de mot de passe est appliquée sur SQL Server</span><span class="sxs-lookup"><span data-stu-id="a5931-324"><a id="authn-account-pword"></a>When SQL authentication mode is used, ensure that account and password policy are enforced on SQL server</span></span>

| <span data-ttu-id="a5931-325">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-325">Title</span></span>                   | <span data-ttu-id="a5931-326">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-326">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-327">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-327">**Component**</span></span>               | <span data-ttu-id="a5931-328">Base de données</span><span class="sxs-lookup"><span data-stu-id="a5931-328">Database</span></span> | 
| <span data-ttu-id="a5931-329">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-329">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-330">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-330">Build</span></span> |  
| <span data-ttu-id="a5931-331">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-331">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-332">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-332">Generic</span></span> |
| <span data-ttu-id="a5931-333">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-333">**Attributes**</span></span>              | <span data-ttu-id="a5931-334">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-334">N/A</span></span>  |
| <span data-ttu-id="a5931-335">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-335">**References**</span></span>              | <span data-ttu-id="a5931-336">[Stratégie de mot de passe SQL Server](https://technet.microsoft.com/library/ms161959(v=sql.110).aspx)</span><span class="sxs-lookup"><span data-stu-id="a5931-336">[SQL Server password policy](https://technet.microsoft.com/library/ms161959(v=sql.110).aspx)</span></span> |
| <span data-ttu-id="a5931-337">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-337">**Steps**</span></span> | <span data-ttu-id="a5931-338">Lorsque vous utilisez l’authentification SQL Server, les connexions sont créées dans SQL Server et ne sont pas basées sur les comptes d’utilisateur Windows.</span><span class="sxs-lookup"><span data-stu-id="a5931-338">When using SQL Server Authentication, logins are created in SQL Server that are not based on Windows user accounts.</span></span> <span data-ttu-id="a5931-339">Hello nom d’utilisateur et mot de passe hello sont créées à l’aide de SQL Server et stockées dans SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a5931-339">Both hello user name and hello password are created by using SQL Server and stored in SQL Server.</span></span> <span data-ttu-id="a5931-340">SQL Server peut utiliser des mécanismes de stratégie de mot de passe Windows.</span><span class="sxs-lookup"><span data-stu-id="a5931-340">SQL Server can use Windows password policy mechanisms.</span></span> <span data-ttu-id="a5931-341">Il peut appliquer hello mêmes stratégies de complexité et d’expiration utilisés dans toopasswords Windows utilisés à l’intérieur de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a5931-341">It can apply hello same complexity and expiration policies used in Windows toopasswords used inside SQL Server.</span></span> |

## <span data-ttu-id="a5931-342"><a id="autn-contained-db"></a>Ne pas utiliser l’authentification SQL dans des bases de données à relation contenant-contenu</span><span class="sxs-lookup"><span data-stu-id="a5931-342"><a id="autn-contained-db"></a>Do not use SQL Authentication in contained databases</span></span>

| <span data-ttu-id="a5931-343">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-343">Title</span></span>                   | <span data-ttu-id="a5931-344">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-344">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-345">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-345">**Component**</span></span>               | <span data-ttu-id="a5931-346">Base de données</span><span class="sxs-lookup"><span data-stu-id="a5931-346">Database</span></span> | 
| <span data-ttu-id="a5931-347">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-347">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-348">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-348">Build</span></span> |  
| <span data-ttu-id="a5931-349">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-349">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-350">Local, SQL Azure</span><span class="sxs-lookup"><span data-stu-id="a5931-350">OnPrem, SQL Azure</span></span> |
| <span data-ttu-id="a5931-351">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-351">**Attributes**</span></span>              | <span data-ttu-id="a5931-352">Version SQL - MSSQL2012, Version SQL - V12</span><span class="sxs-lookup"><span data-stu-id="a5931-352">SQL Version - MSSQL2012, SQL Version - V12</span></span> |
| <span data-ttu-id="a5931-353">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-353">**References**</span></span>              | [<span data-ttu-id="a5931-354">Meilleures pratiques de sécurité recommandées avec les bases de données à relation contenant-contenu</span><span class="sxs-lookup"><span data-stu-id="a5931-354">Security Best Practices with Contained Databases</span></span>](http://msdn.microsoft.com/library/ff929055.aspx) |
| <span data-ttu-id="a5931-355">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-355">**Steps**</span></span> | <span data-ttu-id="a5931-356">absence de Hello d’une stratégie de mot de passe appliquée peut augmenter la probabilité hello d’informations d’identification faible établie dans une base de données.</span><span class="sxs-lookup"><span data-stu-id="a5931-356">hello absence of an enforced password policy may increase hello likelihood of a weak credential being established in a contained database.</span></span> <span data-ttu-id="a5931-357">Utilisez l’authentification Windows.</span><span class="sxs-lookup"><span data-stu-id="a5931-357">Leverage Windows Authentication.</span></span> |

## <span data-ttu-id="a5931-358"><a id="authn-sas-tokens"></a>Utiliser les informations d’authentification par appareil à l’aide des jetons SAP</span><span class="sxs-lookup"><span data-stu-id="a5931-358"><a id="authn-sas-tokens"></a>Use per device authentication credentials using SaS tokens</span></span>

| <span data-ttu-id="a5931-359">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-359">Title</span></span>                   | <span data-ttu-id="a5931-360">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-360">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-361">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-361">**Component**</span></span>               | <span data-ttu-id="a5931-362">Azure Event Hub</span><span class="sxs-lookup"><span data-stu-id="a5931-362">Azure Event Hub</span></span> | 
| <span data-ttu-id="a5931-363">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-363">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-364">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-364">Build</span></span> |  
| <span data-ttu-id="a5931-365">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-365">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-366">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-366">Generic</span></span> |
| <span data-ttu-id="a5931-367">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-367">**Attributes**</span></span>              | <span data-ttu-id="a5931-368">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-368">N/A</span></span>  |
| <span data-ttu-id="a5931-369">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-369">**References**</span></span>              | [<span data-ttu-id="a5931-370">Présentation du modèle de sécurité et de l’authentification Event Hubs</span><span class="sxs-lookup"><span data-stu-id="a5931-370">Event Hubs authentication and security model overview</span></span>](https://azure.microsoft.com/documentation/articles/event-hubs-authentication-and-security-model-overview/) |
| <span data-ttu-id="a5931-371">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-371">**Steps**</span></span> | <p><span data-ttu-id="a5931-372">modèle de sécurité de concentrateurs d’événements Hello est basé sur une combinaison de jetons de Signature d’accès partagé (SAP) et d’éditeurs d’événements.</span><span class="sxs-lookup"><span data-stu-id="a5931-372">hello Event Hubs security model is based on a combination of Shared Access Signature (SAS) tokens and event publishers.</span></span> <span data-ttu-id="a5931-373">nom du serveur de publication Hello représente hello DeviceID qui reçoit le jeton de hello.</span><span class="sxs-lookup"><span data-stu-id="a5931-373">hello publisher name represents hello DeviceID that receives hello token.</span></span> <span data-ttu-id="a5931-374">Cela permet d’associer des jetons hello générés avec les appareils hello respectifs.</span><span class="sxs-lookup"><span data-stu-id="a5931-374">This would help associate hello tokens generated with hello respective devices.</span></span></p><p><span data-ttu-id="a5931-375">Tous les messages sont marqués avec le donneur d’ordre côté service autorisant la détection de tentatives d’usurpation d’origine en charge utile.</span><span class="sxs-lookup"><span data-stu-id="a5931-375">All messages are tagged with originator on service side allowing detection of in-payload origin spoofing attempts.</span></span> <span data-ttu-id="a5931-376">Lors de l’authentification des appareils, générer une par appareil SaS tooa étendue jeton unique de l’éditeur.</span><span class="sxs-lookup"><span data-stu-id="a5931-376">When authenticating devices, generate a per device SaS token scoped tooa unique publisher.</span></span></p>|

## <span data-ttu-id="a5931-377"><a id="multi-factor-azure-admin"></a>Activer Azure Multi-Factor Authentication pour les administrateurs Azure</span><span class="sxs-lookup"><span data-stu-id="a5931-377"><a id="multi-factor-azure-admin"></a>Enable Azure Multi-Factor Authentication for Azure Administrators</span></span>

| <span data-ttu-id="a5931-378">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-378">Title</span></span>                   | <span data-ttu-id="a5931-379">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-379">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-380">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-380">**Component**</span></span>               | <span data-ttu-id="a5931-381">Délimitation d’approbation Azure</span><span class="sxs-lookup"><span data-stu-id="a5931-381">Azure Trust Boundary</span></span> | 
| <span data-ttu-id="a5931-382">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-382">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-383">Déploiement</span><span class="sxs-lookup"><span data-stu-id="a5931-383">Deployment</span></span> |  
| <span data-ttu-id="a5931-384">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-384">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-385">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-385">Generic</span></span> |
| <span data-ttu-id="a5931-386">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-386">**Attributes**</span></span>              | <span data-ttu-id="a5931-387">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-387">N/A</span></span>  |
| <span data-ttu-id="a5931-388">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-388">**References**</span></span>              | [<span data-ttu-id="a5931-389">Présentation d'Azure Multi-Factor Authentication</span><span class="sxs-lookup"><span data-stu-id="a5931-389">What is Azure Multi-Factor Authentication?</span></span>](https://azure.microsoft.com/documentation/articles/multi-factor-authentication/) |
| <span data-ttu-id="a5931-390">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-390">**Steps**</span></span> | <p><span data-ttu-id="a5931-391">L’authentification multifacteur (MFA) est une méthode d’authentification qui nécessite plus d’une méthode de vérification et ajoute une seconde couche critique de sécurité toouser connexions et transactions.</span><span class="sxs-lookup"><span data-stu-id="a5931-391">Multi-factor authentication (MFA) is a method of authentication that requires more than one verification method and adds a critical second layer of security toouser sign-ins and transactions.</span></span> <span data-ttu-id="a5931-392">Elle fonctionne avec deux ou plusieurs de hello les méthodes de vérification suivantes :</span><span class="sxs-lookup"><span data-stu-id="a5931-392">It works by requiring any two or more of hello following verification methods:</span></span></p><ul><li><span data-ttu-id="a5931-393">Un élément que vous connaissez (généralement un mot de passe)</span><span class="sxs-lookup"><span data-stu-id="a5931-393">Something you know (typically a password)</span></span></li><li><span data-ttu-id="a5931-394">Un élément que vous possédez (un appareil de confiance qui n'est pas facilement dupliqué, comme un téléphone)</span><span class="sxs-lookup"><span data-stu-id="a5931-394">Something you have (a trusted device that is not easily duplicated, like a phone)</span></span></li><li><span data-ttu-id="a5931-395">Un élément vous concernant particulièrement (biométrie)</span><span class="sxs-lookup"><span data-stu-id="a5931-395">Something you are (biometrics)</span></span></li><ul>|

## <span data-ttu-id="a5931-396"><a id="anon-access-cluster"></a>Restreindre l’accès anonyme tooService Cluster Fabric</span><span class="sxs-lookup"><span data-stu-id="a5931-396"><a id="anon-access-cluster"></a>Restrict anonymous access tooService Fabric Cluster</span></span>

| <span data-ttu-id="a5931-397">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-397">Title</span></span>                   | <span data-ttu-id="a5931-398">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-398">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-399">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-399">**Component**</span></span>               | <span data-ttu-id="a5931-400">Délimitation d’approbation Service Fabric</span><span class="sxs-lookup"><span data-stu-id="a5931-400">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="a5931-401">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-401">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-402">Déploiement</span><span class="sxs-lookup"><span data-stu-id="a5931-402">Deployment</span></span> |  
| <span data-ttu-id="a5931-403">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-403">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-404">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-404">Generic</span></span> |
| <span data-ttu-id="a5931-405">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-405">**Attributes**</span></span>              | <span data-ttu-id="a5931-406">Environnement - Azure</span><span class="sxs-lookup"><span data-stu-id="a5931-406">Environment - Azure</span></span>  |
| <span data-ttu-id="a5931-407">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-407">**References**</span></span>              | [<span data-ttu-id="a5931-408">Scénarios de sécurité d’un cluster Service Fabric</span><span class="sxs-lookup"><span data-stu-id="a5931-408">Service Fabric cluster security scenarios</span></span>](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security) |
| <span data-ttu-id="a5931-409">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-409">**Steps**</span></span> | <p><span data-ttu-id="a5931-410">Clusters doivent toujours être tooprevent sécurisé non autorisé les utilisateurs de se connecter tooyour cluster, surtout quand les charges de production en cours d’exécution sur ce dernier.</span><span class="sxs-lookup"><span data-stu-id="a5931-410">Clusters should always be secured tooprevent unauthorized users from connecting tooyour cluster, especially when it has production workloads running on it.</span></span></p><p><span data-ttu-id="a5931-411">Lors de la création d’un cluster service fabric, assurez-vous que le mode sécurité hello est défini trop « sécurisé » et configurer le certificat de serveur X.509 hello requis.</span><span class="sxs-lookup"><span data-stu-id="a5931-411">While creating a service fabric cluster, ensure that hello security mode is set too"secure" and configure hello required X.509 server certificate.</span></span> <span data-ttu-id="a5931-412">Création d’un cluster « sécurisé » autorise tout tooit de tooconnect utilisateur anonyme si elle expose toohello de points de terminaison de gestion Internet public.</span><span class="sxs-lookup"><span data-stu-id="a5931-412">Creating an "insecure" cluster will allow any anonymous user tooconnect tooit if it exposes management endpoints toohello public Internet.</span></span></p>|

## <span data-ttu-id="a5931-413"><a id="fabric-cn-nn"></a>Garantir que le certificat client à nœud Service Fabric est différent du certificat nœud à nœud</span><span class="sxs-lookup"><span data-stu-id="a5931-413"><a id="fabric-cn-nn"></a>Ensure that Service Fabric client-to-node certificate is different from node-to-node certificate</span></span>

| <span data-ttu-id="a5931-414">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-414">Title</span></span>                   | <span data-ttu-id="a5931-415">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-415">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-416">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-416">**Component**</span></span>               | <span data-ttu-id="a5931-417">Délimitation d’approbation Service Fabric</span><span class="sxs-lookup"><span data-stu-id="a5931-417">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="a5931-418">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-418">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-419">Déploiement</span><span class="sxs-lookup"><span data-stu-id="a5931-419">Deployment</span></span> |  
| <span data-ttu-id="a5931-420">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-420">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-421">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-421">Generic</span></span> |
| <span data-ttu-id="a5931-422">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-422">**Attributes**</span></span>              | <span data-ttu-id="a5931-423">Environnement - Azure, environnement - Autonome</span><span class="sxs-lookup"><span data-stu-id="a5931-423">Environment - Azure, Environment - Stand alone</span></span> |
| <span data-ttu-id="a5931-424">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-424">**References**</span></span>              | <span data-ttu-id="a5931-425">[Sécurité de certificat Client à un autre service Fabric](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security/#_client-to-node-certificate-security), [cluster sécurisée du tooa se connecter à l’aide du certificat client](https://azure.microsoft.com/documentation/articles/service-fabric-connect-to-secure-cluster/)</span><span class="sxs-lookup"><span data-stu-id="a5931-425">[Service Fabric Client-to-node certificate security](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security/#_client-to-node-certificate-security), [Connect tooa secure cluster using client certificate](https://azure.microsoft.com/documentation/articles/service-fabric-connect-to-secure-cluster/)</span></span> |
| <span data-ttu-id="a5931-426">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-426">**Steps**</span></span> | <p><span data-ttu-id="a5931-427">Sécurité du certificat du client à ce nœud est configurée lors de la création de cluster de hello via hello portail Azure, modèles du Gestionnaire de ressources ou un modèle JSON autonome en spécifiant un certificat de client d’administration et/ou d’un certificat client utilisateur.</span><span class="sxs-lookup"><span data-stu-id="a5931-427">Client-to-node certificate security is configured while creating hello cluster either through hello Azure portal, Resource Manager templates or a standalone JSON template by specifying an admin client certificate and/or a user client certificate.</span></span></p><p><span data-ttu-id="a5931-428">Hello administrateur client et l’utilisateur les certificats clients que vous spécifiez doivent être différentes de celle des certificats primaires et secondaires hello, que vous spécifiez pour la sécurité du nœud à l’autre.</span><span class="sxs-lookup"><span data-stu-id="a5931-428">hello admin client and user client certificates you specify should be different than hello primary and secondary certificates you specify for Node-to-node security.</span></span></p>|

## <span data-ttu-id="a5931-429"><a id="aad-client-fabric"></a>Utilisez des clusters de l’ensemble fibre optique tooservice AAD tooauthenticate clients</span><span class="sxs-lookup"><span data-stu-id="a5931-429"><a id="aad-client-fabric"></a>Use AAD tooauthenticate clients tooservice fabric clusters</span></span>

| <span data-ttu-id="a5931-430">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-430">Title</span></span>                   | <span data-ttu-id="a5931-431">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-431">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-432">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-432">**Component**</span></span>               | <span data-ttu-id="a5931-433">Délimitation d’approbation Service Fabric</span><span class="sxs-lookup"><span data-stu-id="a5931-433">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="a5931-434">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-434">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-435">Déploiement</span><span class="sxs-lookup"><span data-stu-id="a5931-435">Deployment</span></span> |  
| <span data-ttu-id="a5931-436">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-436">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-437">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-437">Generic</span></span> |
| <span data-ttu-id="a5931-438">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-438">**Attributes**</span></span>              | <span data-ttu-id="a5931-439">Environnement - Azure</span><span class="sxs-lookup"><span data-stu-id="a5931-439">Environment - Azure</span></span> |
| <span data-ttu-id="a5931-440">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-440">**References**</span></span>              | [<span data-ttu-id="a5931-441">Scénarios de sécurité d’un cluster - Recommandations en matière de sécurité</span><span class="sxs-lookup"><span data-stu-id="a5931-441">Cluster security scenarios - Security Recommendations</span></span>](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security/#security-recommendations) |
| <span data-ttu-id="a5931-442">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-442">**Steps**</span></span> | <span data-ttu-id="a5931-443">Les clusters en cours d’exécution sur Azure peuvent également sécuriser l’accès aux points de terminaison de gestion toohello à l’aide d’Azure Active Directory (AAD), indépendamment des certificats clients.</span><span class="sxs-lookup"><span data-stu-id="a5931-443">Clusters running on Azure can also secure access toohello management endpoints using Azure Active Directory (AAD), apart from client certificates.</span></span> <span data-ttu-id="a5931-444">Pour les clusters Azure, il est recommandé d’utiliser AAD sécurité tooauthenticate clients et les certificats pour la sécurité du nœud à l’autre.</span><span class="sxs-lookup"><span data-stu-id="a5931-444">For Azure clusters, it is recommended that you use AAD security tooauthenticate clients and certificates for node-to-node security.</span></span>|

## <span data-ttu-id="a5931-445"><a id="fabric-cert-ca"></a>Garantir que les certificats Service Fabric proviennent d’une autorité de certification approuvée</span><span class="sxs-lookup"><span data-stu-id="a5931-445"><a id="fabric-cert-ca"></a>Ensure that service fabric certificates are obtained from an approved Certificate Authority (CA)</span></span>

| <span data-ttu-id="a5931-446">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-446">Title</span></span>                   | <span data-ttu-id="a5931-447">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-447">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-448">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-448">**Component**</span></span>               | <span data-ttu-id="a5931-449">Délimitation d’approbation Service Fabric</span><span class="sxs-lookup"><span data-stu-id="a5931-449">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="a5931-450">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-450">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-451">Déploiement</span><span class="sxs-lookup"><span data-stu-id="a5931-451">Deployment</span></span> |  
| <span data-ttu-id="a5931-452">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-452">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-453">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-453">Generic</span></span> |
| <span data-ttu-id="a5931-454">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-454">**Attributes**</span></span>              | <span data-ttu-id="a5931-455">Environnement - Azure</span><span class="sxs-lookup"><span data-stu-id="a5931-455">Environment - Azure</span></span> |
| <span data-ttu-id="a5931-456">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-456">**References**</span></span>              | [<span data-ttu-id="a5931-457">Certificats X.509 et Service Fabric</span><span class="sxs-lookup"><span data-stu-id="a5931-457">X.509 certificates and Service Fabric</span></span>](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security/#x509-certificates-and-service-fabric) |
| <span data-ttu-id="a5931-458">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-458">**Steps**</span></span> | <p><span data-ttu-id="a5931-459">Service Fabric utilise des certificats de serveur X.509 pour l’authentification des clients et des nœuds.</span><span class="sxs-lookup"><span data-stu-id="a5931-459">Service Fabric uses X.509 server certificates for authenticating nodes and clients.</span></span></p><p><span data-ttu-id="a5931-460">Tooconsider de certains points importants lors de l’utilisation de certificats dans les infrastructures de service :</span><span class="sxs-lookup"><span data-stu-id="a5931-460">Some important things tooconsider while using certificates in service fabrics:</span></span></p><ul><li><span data-ttu-id="a5931-461">Les certificats utilisés dans les clusters qui exécutent des charges de travail de production doivent être créés en utilisant un service de certificats Windows Server correctement configuré ou obtenus auprès d’une autorité de certification approuvée.</span><span class="sxs-lookup"><span data-stu-id="a5931-461">Certificates used in clusters running production workloads should be created by using a correctly configured Windows Server certificate service or obtained from an approved Certificate Authority (CA).</span></span> <span data-ttu-id="a5931-462">Hello autorité de certification peut être une autorité de certification externe approuvée ou un correctement géré Infrastructure à clé publique (PKI) interne</span><span class="sxs-lookup"><span data-stu-id="a5931-462">hello CA can be an approved external CA or a properly managed internal Public Key Infrastructure (PKI)</span></span></li><li><span data-ttu-id="a5931-463">En production, n’utilisez jamais de certificats temporaires ou de test créés avec des outils comme MakeCert.exe.</span><span class="sxs-lookup"><span data-stu-id="a5931-463">Never use any temporary or test certificates in production that are created with tools such as MakeCert.exe</span></span></li><li><span data-ttu-id="a5931-464">Vous pouvez utiliser un certificat auto-signé, mais seulement pour les clusters de test et non en production.</span><span class="sxs-lookup"><span data-stu-id="a5931-464">You can use a self-signed certificate, but should only do so for test clusters and not in production</span></span></li></ul>|

## <span data-ttu-id="a5931-465"><a id="standard-authn-id"></a>Utiliser des scénarios d’authentification standard pris en charge par IdentityServer</span><span class="sxs-lookup"><span data-stu-id="a5931-465"><a id="standard-authn-id"></a>Use standard authentication scenarios supported by Identity Server</span></span>

| <span data-ttu-id="a5931-466">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-466">Title</span></span>                   | <span data-ttu-id="a5931-467">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-467">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-468">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-468">**Component**</span></span>               | <span data-ttu-id="a5931-469">IdentityServer</span><span class="sxs-lookup"><span data-stu-id="a5931-469">Identity Server</span></span> | 
| <span data-ttu-id="a5931-470">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-470">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-471">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-471">Build</span></span> |  
| <span data-ttu-id="a5931-472">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-472">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-473">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-473">Generic</span></span> |
| <span data-ttu-id="a5931-474">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-474">**Attributes**</span></span>              | <span data-ttu-id="a5931-475">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-475">N/A</span></span>  |
| <span data-ttu-id="a5931-476">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-476">**References**</span></span>              | [<span data-ttu-id="a5931-477">IdentityServer3 - hello vue d’ensemble</span><span class="sxs-lookup"><span data-stu-id="a5931-477">IdentityServer3 - hello Big Picture</span></span>](https://identityserver.github.io/Documentation/docsv2/overview/bigPicture.html) |
| <span data-ttu-id="a5931-478">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-478">**Steps**</span></span> | <p><span data-ttu-id="a5931-479">Voici des interactions standard pris en charge par le serveur d’identités hello :</span><span class="sxs-lookup"><span data-stu-id="a5931-479">Below are hello typical interactions supported by Identity Server:</span></span></p><ul><li><span data-ttu-id="a5931-480">Les navigateurs communiquent avec les applications web.</span><span class="sxs-lookup"><span data-stu-id="a5931-480">Browsers communicate with web applications</span></span></li><li><span data-ttu-id="a5931-481">Les applications web communiquent avec les API web (parfois pour elles-mêmes, parfois pour le compte d’un utilisateur).</span><span class="sxs-lookup"><span data-stu-id="a5931-481">Web applications communicate with web APIs (sometimes on their own, sometimes on behalf of a user)</span></span></li><li><span data-ttu-id="a5931-482">Les applications basées sur un navigateur communiquent avec les API web.</span><span class="sxs-lookup"><span data-stu-id="a5931-482">Browser-based applications communicate with web APIs</span></span></li><li><span data-ttu-id="a5931-483">Les applications natives communiquent avec les API web.</span><span class="sxs-lookup"><span data-stu-id="a5931-483">Native applications communicate with web APIs</span></span></li><li><span data-ttu-id="a5931-484">Les applications basées sur un serveur communiquent avec les API web.</span><span class="sxs-lookup"><span data-stu-id="a5931-484">Server-based applications communicate with web APIs</span></span></li><li><span data-ttu-id="a5931-485">Les API web communiquent avec les API web (parfois pour elles-mêmes, parfois pour le compte d’un utilisateur).</span><span class="sxs-lookup"><span data-stu-id="a5931-485">Web APIs communicate with web APIs (sometimes on their own, sometimes on behalf of a user)</span></span></li></ul>|

## <span data-ttu-id="a5931-486"><a id="override-token"></a>Remplacer hello par défaut Identity Server cache de jeton avec une solution évolutive</span><span class="sxs-lookup"><span data-stu-id="a5931-486"><a id="override-token"></a>Override hello default Identity Server token cache with a scalable alternative</span></span>

| <span data-ttu-id="a5931-487">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-487">Title</span></span>                   | <span data-ttu-id="a5931-488">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-488">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-489">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-489">**Component**</span></span>               | <span data-ttu-id="a5931-490">IdentityServer</span><span class="sxs-lookup"><span data-stu-id="a5931-490">Identity Server</span></span> | 
| <span data-ttu-id="a5931-491">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-491">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-492">Déploiement</span><span class="sxs-lookup"><span data-stu-id="a5931-492">Deployment</span></span> |  
| <span data-ttu-id="a5931-493">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-493">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-494">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-494">Generic</span></span> |
| <span data-ttu-id="a5931-495">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-495">**Attributes**</span></span>              | <span data-ttu-id="a5931-496">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-496">N/A</span></span>  |
| <span data-ttu-id="a5931-497">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-497">**References**</span></span>              | <span data-ttu-id="a5931-498">[Identity Server Deployment - Caching](https://identityserver.github.io/Documentation/docsv2/advanced/deployment.html) (Déploiement d’IdentityServer - Mise en cache)</span><span class="sxs-lookup"><span data-stu-id="a5931-498">[Identity Server Deployment - Caching](https://identityserver.github.io/Documentation/docsv2/advanced/deployment.html)</span></span> |
| <span data-ttu-id="a5931-499">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-499">**Steps**</span></span> | <p><span data-ttu-id="a5931-500">IdentityServer a un cache en mémoire intégré simple.</span><span class="sxs-lookup"><span data-stu-id="a5931-500">IdentityServer has a simple built-in in-memory cache.</span></span> <span data-ttu-id="a5931-501">Lorsque cela est approprié pour les applications natives à petite échelle, il n’est pas adaptée pour les applications de niveau et principaux mid pour hello suivant raisons :</span><span class="sxs-lookup"><span data-stu-id="a5931-501">While this is good for small scale native apps, it does not scale for mid tier and backend applications for hello following reasons:</span></span></p><ul><li><span data-ttu-id="a5931-502">Ces applications sont accessibles par plusieurs utilisateurs simultanément.</span><span class="sxs-lookup"><span data-stu-id="a5931-502">These applications are accessed by many users at once.</span></span> <span data-ttu-id="a5931-503">L’enregistrement de tous les jetons d’accès Bonjour même magasin crée des problèmes d’isolation et présente des problèmes lors du fonctionnement à l’échelle : de nombreux utilisateurs, chacun avec autant de jetons comme ressources de hello hello accède à des applications de leur part, peut signifier un nombre très élevé et très coûteux recherche opérations</span><span class="sxs-lookup"><span data-stu-id="a5931-503">Saving all access tokens in hello same store creates isolation issues and presents challenges when operating at scale: many users, each with as many tokens as hello resources hello app accesses on their behalf, can mean huge numbers and very expensive lookup operations</span></span></li><li><span data-ttu-id="a5931-504">Ces applications sont généralement déployées sur les topologies distribuées, où plusieurs nœuds doivent avoir accès toohello même cache</span><span class="sxs-lookup"><span data-stu-id="a5931-504">These applications are typically deployed on distributed topologies, where multiple nodes must have access toohello same cache</span></span></li><li><span data-ttu-id="a5931-505">Les jetons mis en cache doivent survivre aux désactivations et recyclages de processus.</span><span class="sxs-lookup"><span data-stu-id="a5931-505">Cached tokens must survive process recycles and deactivations</span></span></li><li><span data-ttu-id="a5931-506">Pour tous les hello au-dessus de raisons, lors de l’implémentation des applications web, il est recommandé de cache de jeton du serveur identité toooverride hello par défaut avec une solution évolutive telles que le cache Azure Redis</span><span class="sxs-lookup"><span data-stu-id="a5931-506">For all hello above reasons, while implementing web apps, it is recommended toooverride hello default Identity Server's token cache with a scalable alternative such as Azure Redis cache</span></span></li></ul>|

## <span data-ttu-id="a5931-507"><a id="binaries-signed"></a>Garantir que les fichiers binaires de l’application déployée sont signés numériquement</span><span class="sxs-lookup"><span data-stu-id="a5931-507"><a id="binaries-signed"></a>Ensure that deployed application's binaries are digitally signed</span></span>

| <span data-ttu-id="a5931-508">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-508">Title</span></span>                   | <span data-ttu-id="a5931-509">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-509">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-510">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-510">**Component**</span></span>               | <span data-ttu-id="a5931-511">Délimitation d’approbation machine</span><span class="sxs-lookup"><span data-stu-id="a5931-511">Machine Trust Boundary</span></span> | 
| <span data-ttu-id="a5931-512">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-512">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-513">Déploiement</span><span class="sxs-lookup"><span data-stu-id="a5931-513">Deployment</span></span> |  
| <span data-ttu-id="a5931-514">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-514">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-515">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-515">Generic</span></span> |
| <span data-ttu-id="a5931-516">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-516">**Attributes**</span></span>              | <span data-ttu-id="a5931-517">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-517">N/A</span></span>  |
| <span data-ttu-id="a5931-518">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-518">**References**</span></span>              | <span data-ttu-id="a5931-519">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-519">N/A</span></span>  |
| <span data-ttu-id="a5931-520">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-520">**Steps**</span></span> | <span data-ttu-id="a5931-521">Vérifiez que les fichiers binaires de l’application déployée sont signés numériquement afin que l’intégrité de hello des fichiers binaires de hello peut être vérifiée</span><span class="sxs-lookup"><span data-stu-id="a5931-521">Ensure that deployed application's binaries are digitally signed so that hello integrity of hello binaries can be verified</span></span>|

## <span data-ttu-id="a5931-522"><a id="msmq-queues"></a>Activer l’authentification lors de la connexion tooMSMQ les files d’attente dans WCF</span><span class="sxs-lookup"><span data-stu-id="a5931-522"><a id="msmq-queues"></a>Enable authentication when connecting tooMSMQ queues in WCF</span></span>

| <span data-ttu-id="a5931-523">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-523">Title</span></span>                   | <span data-ttu-id="a5931-524">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-524">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-525">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-525">**Component**</span></span>               | <span data-ttu-id="a5931-526">WCF</span><span class="sxs-lookup"><span data-stu-id="a5931-526">WCF</span></span> | 
| <span data-ttu-id="a5931-527">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-527">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-528">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-528">Build</span></span> |  
| <span data-ttu-id="a5931-529">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-529">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-530">Générique, NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="a5931-530">Generic, NET Framework 3</span></span> |
| <span data-ttu-id="a5931-531">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-531">**Attributes**</span></span>              | <span data-ttu-id="a5931-532">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-532">N/A</span></span> |
| <span data-ttu-id="a5931-533">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-533">**References**</span></span>              | [<span data-ttu-id="a5931-534">MSDN</span><span class="sxs-lookup"><span data-stu-id="a5931-534">MSDN</span></span>](https://msdn.microsoft.com/library/ff648500.aspx) |
| <span data-ttu-id="a5931-535">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-535">**Steps**</span></span> | <span data-ttu-id="a5931-536">Programme échoue tooenable authentification lors de la connexion tooMSMQ les files d’attente, une personne malveillante peut soumettre file d’attente de messages toohello pour le traitement de façon anonyme.</span><span class="sxs-lookup"><span data-stu-id="a5931-536">Program fails tooenable authentication when connecting tooMSMQ queues, an attacker can anonymously submit messages toohello queue for processing.</span></span> <span data-ttu-id="a5931-537">Si l’authentification n’est pas utilisé tooconnect tooan MSMQ file d’attente utilisée toodeliver un programme tooanother de message, un attaquant pourrait envoyer un message malveillant anonyme.</span><span class="sxs-lookup"><span data-stu-id="a5931-537">If authentication is not used tooconnect tooan MSMQ queue used toodeliver a message tooanother program, an attacker could submit an anonymous message that is malicious.</span></span>|

### <a name="example"></a><span data-ttu-id="a5931-538">Exemple</span><span class="sxs-lookup"><span data-stu-id="a5931-538">Example</span></span>
<span data-ttu-id="a5931-539">Hello `<netMsmqBinding/>` élément du fichier de configuration WCF hello ci-dessous fait en sorte que l’authentification de WCF toodisable lors de la connexion de file d’attente MSMQ tooan pour la remise du message.</span><span class="sxs-lookup"><span data-stu-id="a5931-539">hello `<netMsmqBinding/>` element of hello WCF configuration file below instructs WCF toodisable authentication when connecting tooan MSMQ queue for message delivery.</span></span>
```
<bindings>
    <netMsmqBinding>
        <binding>
            <security>
                <transport msmqAuthenticationMode=""None"" />
            </security>
        </binding>
    </netMsmqBinding>
</bindings>
```
<span data-ttu-id="a5931-540">Configurer l’authentification de domaine Windows ou le certificat du toorequire MSMQ en permanence pour les messages entrants ou sortants.</span><span class="sxs-lookup"><span data-stu-id="a5931-540">Configure MSMQ toorequire Windows Domain or Certificate authentication at all times for any incoming or outgoing messages.</span></span>

### <a name="example"></a><span data-ttu-id="a5931-541">Exemple</span><span class="sxs-lookup"><span data-stu-id="a5931-541">Example</span></span>
<span data-ttu-id="a5931-542">Hello `<netMsmqBinding/>` élément du fichier de configuration WCF hello ci-dessous indique à l’authentification du certificat tooenable WCF lors de la file d’attente MSMQ de tooan de connexion.</span><span class="sxs-lookup"><span data-stu-id="a5931-542">hello `<netMsmqBinding/>` element of hello WCF configuration file below instructs WCF tooenable certificate authentication when connecting tooan MSMQ queue.</span></span> <span data-ttu-id="a5931-543">client de Hello est authentifié à l’aide de certificats X.509.</span><span class="sxs-lookup"><span data-stu-id="a5931-543">hello client is authenticated using X.509 certificates.</span></span> <span data-ttu-id="a5931-544">certificat de client Hello doit être présent dans le magasin de certificats hello du serveur de hello.</span><span class="sxs-lookup"><span data-stu-id="a5931-544">hello client certificate must be present in hello certificate store of hello server.</span></span>
```
<bindings>
    <netMsmqBinding>
        <binding>
            <security>
                <transport msmqAuthenticationMode=""Certificate"" />
            </security>
        </binding>
    </netMsmqBinding>
</bindings>
```

## <span data-ttu-id="a5931-545"><a id="message-none"></a>WCF-ne définissez pas de Message clientCredentialType toonone</span><span class="sxs-lookup"><span data-stu-id="a5931-545"><a id="message-none"></a>WCF-Do not set Message clientCredentialType toonone</span></span>

| <span data-ttu-id="a5931-546">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-546">Title</span></span>                   | <span data-ttu-id="a5931-547">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-547">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-548">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-548">**Component**</span></span>               | <span data-ttu-id="a5931-549">WCF</span><span class="sxs-lookup"><span data-stu-id="a5931-549">WCF</span></span> | 
| <span data-ttu-id="a5931-550">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-550">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-551">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-551">Build</span></span> |  
| <span data-ttu-id="a5931-552">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-552">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-553">.NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="a5931-553">.NET Framework 3</span></span> |
| <span data-ttu-id="a5931-554">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-554">**Attributes**</span></span>              | <span data-ttu-id="a5931-555">Type d’informations d’identification client - Aucun</span><span class="sxs-lookup"><span data-stu-id="a5931-555">Client Credential Type - None</span></span> |
| <span data-ttu-id="a5931-556">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-556">**References**</span></span>              | <span data-ttu-id="a5931-557">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="a5931-557">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="a5931-558">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-558">**Steps**</span></span> | <span data-ttu-id="a5931-559">absence de Hello d’authentification signifie que tout le monde est en mesure de tooaccess ce service.</span><span class="sxs-lookup"><span data-stu-id="a5931-559">hello absence of authentication means everyone is able tooaccess this service.</span></span> <span data-ttu-id="a5931-560">Un service qui n’authentifie pas ses clients autorise l’accès aux utilisateurs de tooall.</span><span class="sxs-lookup"><span data-stu-id="a5931-560">A service that does not authenticate its clients allows access tooall users.</span></span> <span data-ttu-id="a5931-561">Configurer tooauthenticate d’application hello par rapport aux informations d’identification du client.</span><span class="sxs-lookup"><span data-stu-id="a5931-561">Configure hello application tooauthenticate against client credentials.</span></span> <span data-ttu-id="a5931-562">Cela est possible en définissant hello message clientCredentialType tooWindows ou certificat.</span><span class="sxs-lookup"><span data-stu-id="a5931-562">This can be done by setting hello message clientCredentialType tooWindows or Certificate.</span></span> |

### <a name="example"></a><span data-ttu-id="a5931-563">Exemple</span><span class="sxs-lookup"><span data-stu-id="a5931-563">Example</span></span>
```
<message clientCredentialType=""Certificate""/>
```

## <span data-ttu-id="a5931-564"><a id="transport-none"></a>WCF-ne définissez pas le Transport clientCredentialType toonone</span><span class="sxs-lookup"><span data-stu-id="a5931-564"><a id="transport-none"></a>WCF-Do not set Transport clientCredentialType toonone</span></span>

| <span data-ttu-id="a5931-565">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-565">Title</span></span>                   | <span data-ttu-id="a5931-566">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-566">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-567">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-567">**Component**</span></span>               | <span data-ttu-id="a5931-568">WCF</span><span class="sxs-lookup"><span data-stu-id="a5931-568">WCF</span></span> | 
| <span data-ttu-id="a5931-569">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-569">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-570">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-570">Build</span></span> |  
| <span data-ttu-id="a5931-571">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-571">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-572">Générique, .NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="a5931-572">Generic, .NET Framework 3</span></span> |
| <span data-ttu-id="a5931-573">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-573">**Attributes**</span></span>              | <span data-ttu-id="a5931-574">Type d’informations d’identification client - Aucun</span><span class="sxs-lookup"><span data-stu-id="a5931-574">Client Credential Type - None</span></span> |
| <span data-ttu-id="a5931-575">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-575">**References**</span></span>              | <span data-ttu-id="a5931-576">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="a5931-576">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="a5931-577">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-577">**Steps**</span></span> | <span data-ttu-id="a5931-578">absence de Hello d’authentification signifie que tout le monde est en mesure de tooaccess ce service.</span><span class="sxs-lookup"><span data-stu-id="a5931-578">hello absence of authentication means everyone is able tooaccess this service.</span></span> <span data-ttu-id="a5931-579">Un service qui n’authentifie pas ses clients permet à tous les utilisateurs tooaccess ses fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="a5931-579">A service that does not authenticate its clients allows all users tooaccess its functionality.</span></span> <span data-ttu-id="a5931-580">Configurer tooauthenticate d’application hello par rapport aux informations d’identification du client.</span><span class="sxs-lookup"><span data-stu-id="a5931-580">Configure hello application tooauthenticate against client credentials.</span></span> <span data-ttu-id="a5931-581">Cela est possible en définissant hello transport clientCredentialType tooWindows ou certificat.</span><span class="sxs-lookup"><span data-stu-id="a5931-581">This can be done by setting hello transport clientCredentialType tooWindows or Certificate.</span></span> |

### <a name="example"></a><span data-ttu-id="a5931-582">Exemple</span><span class="sxs-lookup"><span data-stu-id="a5931-582">Example</span></span>
```
<transport clientCredentialType=""Certificate""/>
```

## <span data-ttu-id="a5931-583"><a id="authn-secure-api"></a>Assurez-vous que les techniques d’authentification standard sont utilisée toosecure API Web</span><span class="sxs-lookup"><span data-stu-id="a5931-583"><a id="authn-secure-api"></a>Ensure that standard authentication techniques are used toosecure Web APIs</span></span>

| <span data-ttu-id="a5931-584">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-584">Title</span></span>                   | <span data-ttu-id="a5931-585">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-585">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-586">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-586">**Component**</span></span>               | <span data-ttu-id="a5931-587">API Web</span><span class="sxs-lookup"><span data-stu-id="a5931-587">Web API</span></span> | 
| <span data-ttu-id="a5931-588">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-588">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-589">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-589">Build</span></span> |  
| <span data-ttu-id="a5931-590">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-590">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-591">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-591">Generic</span></span> |
| <span data-ttu-id="a5931-592">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-592">**Attributes**</span></span>              | <span data-ttu-id="a5931-593">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-593">N/A</span></span>  |
| <span data-ttu-id="a5931-594">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-594">**References**</span></span>              | <span data-ttu-id="a5931-595">[Authentication and Authorization in ASP.NET Web API](http://www.asp.net/web-api/overview/security/authentication-and-authorization-in-aspnet-web-api) (Authentification et autorisation dans l’API web ASP.NET), [External Authentication Services with ASP.NET Web API (C#)](http://www.asp.net/web-api/overview/security/external-authentication-services) (Services d’authentification externe avec l’API web ASP.NET (C#))</span><span class="sxs-lookup"><span data-stu-id="a5931-595">[Authentication and Authorization in ASP.NET Web API](http://www.asp.net/web-api/overview/security/authentication-and-authorization-in-aspnet-web-api), [External Authentication Services with ASP.NET Web API (C#)](http://www.asp.net/web-api/overview/security/external-authentication-services)</span></span> |
| <span data-ttu-id="a5931-596">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-596">**Steps**</span></span> | <p><span data-ttu-id="a5931-597">L’authentification est le processus hello dans lequel une entité prouve son identité, généralement par le biais d’informations d’identification, telles qu’un nom d’utilisateur et un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="a5931-597">Authentication is hello process where an entity proves its identity, typically through credentials, such as a user name and password.</span></span> <span data-ttu-id="a5931-598">Il existe plusieurs protocoles d’authentification disponibles qui peuvent vous être utiles.</span><span class="sxs-lookup"><span data-stu-id="a5931-598">There are multiple authentication protocols available which may be considered.</span></span> <span data-ttu-id="a5931-599">Certains d’entre eux sont répertoriés ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="a5931-599">Some of them are listed below:</span></span></p><ul><li><span data-ttu-id="a5931-600">Certificats clients</span><span class="sxs-lookup"><span data-stu-id="a5931-600">Client certificates</span></span></li><li><span data-ttu-id="a5931-601">Basé sur Windows</span><span class="sxs-lookup"><span data-stu-id="a5931-601">Windows based</span></span></li><li><span data-ttu-id="a5931-602">Basé sur des formulaires</span><span class="sxs-lookup"><span data-stu-id="a5931-602">Forms based</span></span></li><li><span data-ttu-id="a5931-603">Fédération - ADFS</span><span class="sxs-lookup"><span data-stu-id="a5931-603">Federation - ADFS</span></span></li><li><span data-ttu-id="a5931-604">Fédération - Azure AD</span><span class="sxs-lookup"><span data-stu-id="a5931-604">Federation - Azure AD</span></span></li><li><span data-ttu-id="a5931-605">Fédération - IdentityServer</span><span class="sxs-lookup"><span data-stu-id="a5931-605">Federation - Identity Server</span></span></li></ul><p><span data-ttu-id="a5931-606">Dans la section des références hello fournissent des détails de bas niveau sur la façon dont chacun des schémas d’authentification hello peut être implémentée toosecure une API Web.</span><span class="sxs-lookup"><span data-stu-id="a5931-606">Links in hello references section provide low-level details on how each of hello authentication schemes can be implemented toosecure a Web API.</span></span></p>|

## <span data-ttu-id="a5931-607"><a id="authn-aad"></a>Utiliser des scénarios d’authentification standard pris en charge par Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="a5931-607"><a id="authn-aad"></a>Use standard authentication scenarios supported by Azure Active Directory</span></span>

| <span data-ttu-id="a5931-608">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-608">Title</span></span>                   | <span data-ttu-id="a5931-609">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-609">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-610">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-610">**Component**</span></span>               | <span data-ttu-id="a5931-611">Azure AD</span><span class="sxs-lookup"><span data-stu-id="a5931-611">Azure AD</span></span> | 
| <span data-ttu-id="a5931-612">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-612">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-613">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-613">Build</span></span> |  
| <span data-ttu-id="a5931-614">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-614">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-615">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-615">Generic</span></span> |
| <span data-ttu-id="a5931-616">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-616">**Attributes**</span></span>              | <span data-ttu-id="a5931-617">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-617">N/A</span></span>  |
| <span data-ttu-id="a5931-618">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-618">**References**</span></span>              | <span data-ttu-id="a5931-619">[Scénarios d’authentification pour Azure AD](https://azure.microsoft.com/documentation/articles/active-directory-authentication-scenarios/), [Exemples de code Azure Active Directory](https://azure.microsoft.com/documentation/articles/active-directory-code-samples/), [Guide du développeur Azure Active Directory](https://azure.microsoft.com/documentation/articles/active-directory-developers-guide/)</span><span class="sxs-lookup"><span data-stu-id="a5931-619">[Authentication Scenarios for Azure AD](https://azure.microsoft.com/documentation/articles/active-directory-authentication-scenarios/), [Azure Active Directory Code Samples](https://azure.microsoft.com/documentation/articles/active-directory-code-samples/), [Azure Active Directory developer's guide](https://azure.microsoft.com/documentation/articles/active-directory-developers-guide/)</span></span> |
| <span data-ttu-id="a5931-620">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-620">**Steps**</span></span> | <p><span data-ttu-id="a5931-621">Azure Active Directory (Azure AD) simplifie l’authentification pour les développeurs en fournissant l’identité en tant que service, avec la prise en charge des protocoles standard tels que OAuth 2.0 et OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="a5931-621">Azure Active Directory (Azure AD) simplifies authentication for developers by providing identity as a service, with support for industry-standard protocols such as OAuth 2.0 and OpenID Connect.</span></span> <span data-ttu-id="a5931-622">Voici hello cinq principaux scénarios d’application pris en charge par Azure AD :</span><span class="sxs-lookup"><span data-stu-id="a5931-622">Below are hello five primary application scenarios supported by Azure AD:</span></span></p><ul><li><span data-ttu-id="a5931-623">Web Browser tooWeb Application : un utilisateur doit toosign dans l’application web tooa sécurisée par Azure AD</span><span class="sxs-lookup"><span data-stu-id="a5931-623">Web Browser tooWeb Application: A user needs toosign in tooa web application that is secured by Azure AD</span></span></li><li><span data-ttu-id="a5931-624">Application à Page unique (SPA) : Un utilisateur doit toosign dans tooa application à page unique sécurisée par Azure AD</span><span class="sxs-lookup"><span data-stu-id="a5931-624">Single Page Application (SPA): A user needs toosign in tooa single page application that is secured by Azure AD</span></span></li><li><span data-ttu-id="a5931-625">Native tooWeb Application API : une application native qui s’exécute sur un téléphone, tablette ou un PC besoins tooauthenticate un tooget utilisateur ressources à partir d’une API web sécurisée par Azure AD</span><span class="sxs-lookup"><span data-stu-id="a5931-625">Native Application tooWeb API: A native application that runs on a phone, tablet, or PC needs tooauthenticate a user tooget resources from a web API that is secured by Azure AD</span></span></li><li><span data-ttu-id="a5931-626">Web Application tooWeb API : tooget des ressources à partir d’une API web sécurisée par Azure AD a besoin d’une application web</span><span class="sxs-lookup"><span data-stu-id="a5931-626">Web Application tooWeb API: A web application needs tooget resources from a web API secured by Azure AD</span></span></li><li><span data-ttu-id="a5931-627">Application démon ou serveur tooWeb API : tooget des ressources à partir d’une API web sécurisée par Azure AD a besoin d’une application démon ou une application serveur sans aucune interface utilisateur web</span><span class="sxs-lookup"><span data-stu-id="a5931-627">Daemon or Server Application tooWeb API: A daemon application or a server application with no web user interface needs tooget resources from a web API secured by Azure AD</span></span></li></ul><p><span data-ttu-id="a5931-628">Pour les détails d’implémentation de bas niveau, consultez toohello les liens dans la section des références hello</span><span class="sxs-lookup"><span data-stu-id="a5931-628">Please refer toohello links in hello references section for low-level implementation details</span></span></p>|

## <span data-ttu-id="a5931-629"><a id="adal-scalable"></a>Remplacer hello par défaut ADAL cache de jeton avec une solution évolutive</span><span class="sxs-lookup"><span data-stu-id="a5931-629"><a id="adal-scalable"></a>Override hello default ADAL token cache with a scalable alternative</span></span>

| <span data-ttu-id="a5931-630">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-630">Title</span></span>                   | <span data-ttu-id="a5931-631">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-631">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-632">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-632">**Component**</span></span>               | <span data-ttu-id="a5931-633">Azure AD</span><span class="sxs-lookup"><span data-stu-id="a5931-633">Azure AD</span></span> | 
| <span data-ttu-id="a5931-634">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-634">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-635">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-635">Build</span></span> |  
| <span data-ttu-id="a5931-636">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-636">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-637">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-637">Generic</span></span> |
| <span data-ttu-id="a5931-638">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-638">**Attributes**</span></span>              | <span data-ttu-id="a5931-639">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-639">N/A</span></span>  |
| <span data-ttu-id="a5931-640">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-640">**References**</span></span>              | <span data-ttu-id="a5931-641">[Modern Authentication with Azure Active Directory for Web Applications](https://blogs.msdn.microsoft.com/microsoft_press/2016/01/04/new-book-modern-authentication-with-azure-active-directory-for-web-applications/) (Authentification moderne avec Azure Active Directory pour les applications web), [Using Redis as ADAL token cache](https://blogs.msdn.microsoft.com/mrochon/2016/09/19/using-redis-as-adal-token-cache/) (Utilisation de Redis en tant que cache de jeton ADAL)</span><span class="sxs-lookup"><span data-stu-id="a5931-641">[Modern Authentication with Azure Active Directory for Web Applications](https://blogs.msdn.microsoft.com/microsoft_press/2016/01/04/new-book-modern-authentication-with-azure-active-directory-for-web-applications/), [Using Redis as ADAL token cache](https://blogs.msdn.microsoft.com/mrochon/2016/09/19/using-redis-as-adal-token-cache/)</span></span>  |
| <span data-ttu-id="a5931-642">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-642">**Steps**</span></span> | <p><span data-ttu-id="a5931-643">cache par défaut Hello qui utilise de la bibliothèque ADAL (Active Directory Authentication Library) est un cache en mémoire qui s’appuie sur un magasin statique, disponible au niveau du processus.</span><span class="sxs-lookup"><span data-stu-id="a5931-643">hello default cache that ADAL (Active Directory Authentication Library) uses is an in-memory cache that relies on a static store, available process-wide.</span></span> <span data-ttu-id="a5931-644">Bien que cela fonctionne pour les applications natives, il n’est pas adaptée pour les applications de niveau et principaux mid pour hello suivant raisons :</span><span class="sxs-lookup"><span data-stu-id="a5931-644">While this works for native applications, it does not scale for mid tier and backend applications for hello following reasons:</span></span></p><ul><li><span data-ttu-id="a5931-645">Ces applications sont accessibles par plusieurs utilisateurs simultanément.</span><span class="sxs-lookup"><span data-stu-id="a5931-645">These applications are accessed by many users at once.</span></span> <span data-ttu-id="a5931-646">L’enregistrement de tous les jetons d’accès Bonjour même magasin crée des problèmes d’isolation et présente des problèmes lors du fonctionnement à l’échelle : de nombreux utilisateurs, chacun avec autant de jetons comme ressources de hello hello accède à des applications de leur part, peut signifier un nombre très élevé et très coûteux recherche opérations</span><span class="sxs-lookup"><span data-stu-id="a5931-646">Saving all access tokens in hello same store creates isolation issues and presents challenges when operating at scale: many users, each with as many tokens as hello resources hello app accesses on their behalf, can mean huge numbers and very expensive lookup operations</span></span></li><li><span data-ttu-id="a5931-647">Ces applications sont généralement déployées sur les topologies distribuées, où plusieurs nœuds doivent avoir accès toohello même cache</span><span class="sxs-lookup"><span data-stu-id="a5931-647">These applications are typically deployed on distributed topologies, where multiple nodes must have access toohello same cache</span></span></li><li><span data-ttu-id="a5931-648">Les jetons mis en cache doivent survivre aux désactivations et recyclages de processus.</span><span class="sxs-lookup"><span data-stu-id="a5931-648">Cached tokens must survive process recycles and deactivations</span></span></li></ul><p><span data-ttu-id="a5931-649">Pour tous les hello au-dessus de raisons, lors de l’implémentation des applications web, il est recommandé de cache jeton ADAL par défaut toooverride hello avec une solution évolutive telles que le cache Azure Redis.</span><span class="sxs-lookup"><span data-stu-id="a5931-649">For all hello above reasons, while implementing web apps, it is recommended toooverride hello default ADAL token cache with a scalable alternative such as Azure Redis cache.</span></span></p>|

## <span data-ttu-id="a5931-650"><a id="tokenreplaycache-adal"></a>Assurez-vous que TokenReplayCache est la relecture de hello tooprevent utilisé des jetons d’authentification ADAL</span><span class="sxs-lookup"><span data-stu-id="a5931-650"><a id="tokenreplaycache-adal"></a>Ensure that TokenReplayCache is used tooprevent hello replay of ADAL authentication tokens</span></span>

| <span data-ttu-id="a5931-651">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-651">Title</span></span>                   | <span data-ttu-id="a5931-652">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-652">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-653">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-653">**Component**</span></span>               | <span data-ttu-id="a5931-654">Azure AD</span><span class="sxs-lookup"><span data-stu-id="a5931-654">Azure AD</span></span> | 
| <span data-ttu-id="a5931-655">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-655">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-656">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-656">Build</span></span> |  
| <span data-ttu-id="a5931-657">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-657">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-658">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-658">Generic</span></span> |
| <span data-ttu-id="a5931-659">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-659">**Attributes**</span></span>              | <span data-ttu-id="a5931-660">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-660">N/A</span></span>  |
| <span data-ttu-id="a5931-661">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-661">**References**</span></span>              | <span data-ttu-id="a5931-662">[Modern Authentication with Azure Active Directory for Web Applications](https://blogs.msdn.microsoft.com/microsoft_press/2016/01/04/new-book-modern-authentication-with-azure-active-directory-for-web-applications/) (Authentification moderne avec Azure Active Directory pour les applications web)</span><span class="sxs-lookup"><span data-stu-id="a5931-662">[Modern Authentication with Azure Active Directory for Web Applications](https://blogs.msdn.microsoft.com/microsoft_press/2016/01/04/new-book-modern-authentication-with-azure-active-directory-for-web-applications/)</span></span> |
| <span data-ttu-id="a5931-663">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-663">**Steps**</span></span> | <p><span data-ttu-id="a5931-664">propriété TokenReplayCache de Hello autorise les développeurs toodefine un cache de relecture de jetons, un magasin qui peut être utilisé pour l’enregistrement à des fins de hello permettant de vérifier que les jetons aucun jeton peut être utilisé plusieurs fois.</span><span class="sxs-lookup"><span data-stu-id="a5931-664">hello TokenReplayCache property allows developers toodefine a token replay cache, a store that can be used for saving tokens for hello purpose of verifying that no token can be used more than once.</span></span></p><p><span data-ttu-id="a5931-665">Il s’agit d’une mesure par rapport à une attaque courante, hello invoque appelé attaque de relecture de jetons : un attaquant intercepte le jeton hello envoyé à la connexion peut tenter de toosend il application toohello à nouveau (« relire ») pour l’établissement d’une nouvelle session.</span><span class="sxs-lookup"><span data-stu-id="a5931-665">This is a measure against a common attack, hello aptly called token replay attack: an attacker intercepting hello token sent at sign-in might try toosend it toohello app again (“replay” it) for establishing a new session.</span></span> <span data-ttu-id="a5931-666">Par exemple, dans OIDC-octroi d’un code flux, après une authentification réussie de l’utilisateur, une demande trop « / signin-oidc « point de terminaison de la partie de confiance hello est effectuée avec « id_token », « code » et « état » paramètres.</span><span class="sxs-lookup"><span data-stu-id="a5931-666">E.g., In OIDC code-grant flow, after successful user authentication, a request too"/signin-oidc" endpoint of hello relying party is made with "id_token", "code" and "state" parameters.</span></span></p><p><span data-ttu-id="a5931-667">Hello de confiance valide cette demande et établit une nouvelle session.</span><span class="sxs-lookup"><span data-stu-id="a5931-667">hello relying party validates this request and establishes a new session.</span></span> <span data-ttu-id="a5931-668">Si un adversaire capture cette demande et il relit, il peut établir une session réussie et un utilisateur de hello d’usurpation d’identité.</span><span class="sxs-lookup"><span data-stu-id="a5931-668">If an adversary captures this request and replays it, he/she can establish a successful session and spoof hello user.</span></span> <span data-ttu-id="a5931-669">présence de Hello de nonce hello dans OpenID Connect peut limiter mais pas complètement éliminer les circonstances hello dans lequel les attaques hello peuvent être mises en œuvre avec succès.</span><span class="sxs-lookup"><span data-stu-id="a5931-669">hello presence of hello nonce in OpenID Connect can limit but not fully eliminate hello circumstances in which hello attack can be successfully enacted.</span></span> <span data-ttu-id="a5931-670">tooprotect leurs applications, les développeurs peuvent fournir une implémentation de ITokenReplayCache et affecter une instance tooTokenReplayCache.</span><span class="sxs-lookup"><span data-stu-id="a5931-670">tooprotect their applications, developers can provide an implementation of ITokenReplayCache and assign an instance tooTokenReplayCache.</span></span></p>|

### <a name="example"></a><span data-ttu-id="a5931-671">Exemple</span><span class="sxs-lookup"><span data-stu-id="a5931-671">Example</span></span>
```C#
// ITokenReplayCache defined in ADAL
public interface ITokenReplayCache
{
bool TryAdd(string securityToken, DateTime expiresOn);
bool TryFind(string securityToken);
}
```

### <a name="example"></a><span data-ttu-id="a5931-672">Exemple</span><span class="sxs-lookup"><span data-stu-id="a5931-672">Example</span></span>
<span data-ttu-id="a5931-673">Voici un exemple d’implémentation de l’interface de ITokenReplayCache hello.</span><span class="sxs-lookup"><span data-stu-id="a5931-673">Here is a sample implementation of hello ITokenReplayCache interface.</span></span> <span data-ttu-id="a5931-674">(Veuillez personnaliser et mettre en œuvre votre infrastructure de mise en cache spécifique au projet)</span><span class="sxs-lookup"><span data-stu-id="a5931-674">(Please customize and implement your project-specific caching framework)</span></span>
```C#
public class TokenReplayCache : ITokenReplayCache
{
    private readonly ICacheProvider cache; // Your project-specific cache provider
    public TokenReplayCache(ICacheProvider cache)
    {
        this.cache = cache;
    }
    public bool TryAdd(string securityToken, DateTime expiresOn)
    {
        if (this.cache.Get<string>(securityToken) == null)
        {
            this.cache.Set(securityToken, securityToken);
            return true;
        }
        return false;
    }
    public bool TryFind(string securityToken)
    {
        return this.cache.Get<string>(securityToken) != null;
    }
}
```
<span data-ttu-id="a5931-675">Hello implémentée en cache a toobe référencé dans options OIDC via hello « TokenValidationParameters » propriété comme suit.</span><span class="sxs-lookup"><span data-stu-id="a5931-675">hello implemented cache has toobe referenced in OIDC options via hello "TokenValidationParameters" property as follows.</span></span>
```C#
OpenIdConnectOptions openIdConnectOptions = new OpenIdConnectOptions
{
    AutomaticAuthenticate = true,
    ... // other configuration properties follow..
    TokenValidationParameters = new TokenValidationParameters
    {
        TokenReplayCache = new TokenReplayCache(/*Inject your cache provider*/);
    }
}
```

<span data-ttu-id="a5931-676">Notez qu’efficacité de hello tootest de cette configuration, la connexion dans votre application protégée OIDC locale et capturer les demande hello trop`"/signin-oidc"` point de terminaison dans fiddler.</span><span class="sxs-lookup"><span data-stu-id="a5931-676">Please note that tootest hello effectiveness of this configuration, login into your local OIDC-protected application and capture hello request too`"/signin-oidc"` endpoint in fiddler.</span></span> <span data-ttu-id="a5931-677">Lors de la protection de hello n’est pas en place, la relecture de cette demande dans fiddler définit un nouveau cookie de session.</span><span class="sxs-lookup"><span data-stu-id="a5931-677">When hello protection is not in place, replaying this request in fiddler will set a new session cookie.</span></span> <span data-ttu-id="a5931-678">Lors de la demande de hello est relu après avoir ajouté hello TokenReplayCache protection, application hello lève une exception comme suit :`SecurityTokenReplayDetectedException: IDX10228: hello securityToken has previously been validated, securityToken: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSIsImtpZCI6Ik1uQ1......`</span><span class="sxs-lookup"><span data-stu-id="a5931-678">When hello request is replayed after hello TokenReplayCache protection is added, hello application will throw an exception as follows: `SecurityTokenReplayDetectedException: IDX10228: hello securityToken has previously been validated, securityToken: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSIsImtpZCI6Ik1uQ1......`</span></span>

## <span data-ttu-id="a5931-679"><a id="adal-oauth2"></a>Utiliser des bibliothèques ADAL toomanage jeton demande OAuth2 clients tooAAD (ou AD local)</span><span class="sxs-lookup"><span data-stu-id="a5931-679"><a id="adal-oauth2"></a>Use ADAL libraries toomanage token requests from OAuth2 clients tooAAD (or on-premises AD)</span></span>

| <span data-ttu-id="a5931-680">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-680">Title</span></span>                   | <span data-ttu-id="a5931-681">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-681">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-682">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-682">**Component**</span></span>               | <span data-ttu-id="a5931-683">Azure AD</span><span class="sxs-lookup"><span data-stu-id="a5931-683">Azure AD</span></span> | 
| <span data-ttu-id="a5931-684">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-684">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-685">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-685">Build</span></span> |  
| <span data-ttu-id="a5931-686">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-686">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-687">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-687">Generic</span></span> |
| <span data-ttu-id="a5931-688">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-688">**Attributes**</span></span>              | <span data-ttu-id="a5931-689">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-689">N/A</span></span>  |
| <span data-ttu-id="a5931-690">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-690">**References**</span></span>              | [<span data-ttu-id="a5931-691">ADAL</span><span class="sxs-lookup"><span data-stu-id="a5931-691">ADAL</span></span>](https://azure.microsoft.com/documentation/articles/active-directory-authentication-libraries/) |
| <span data-ttu-id="a5931-692">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-692">**Steps**</span></span> | <p><span data-ttu-id="a5931-693">Hello Azure AD authentication Library (ADAL) permet de client application développeurs tooeasily authentifier les utilisateurs toocloud ou Active Directory (AD) local et ainsi profiter des jetons d’accès pour sécuriser les appels d’API.</span><span class="sxs-lookup"><span data-stu-id="a5931-693">hello Azure AD authentication Library (ADAL) enables client application developers tooeasily authenticate users toocloud or on-premises Active Directory (AD), and then obtain access tokens for securing API calls.</span></span></p><p><span data-ttu-id="a5931-694">ADAL possède de nombreuses fonctionnalités qui facilitent l'authentification aux développeurs, notamment la prise en charge asynchrone, un cache de jeton configurable qui stocke les jetons d'accès et les jetons d'actualisation, l'actualisation automatique des jetons lorsqu'un jeton d'accès expire et qu’un jeton d'actualisation est disponible, et bien plus encore.</span><span class="sxs-lookup"><span data-stu-id="a5931-694">ADAL has many features that make authentication easier for developers, such as asynchronous support, a configurable token cache that stores access tokens and refresh tokens, automatic token refresh when an access token expires and a refresh token is available, and more.</span></span></p><p><span data-ttu-id="a5931-695">En gérant la plupart de complexité de hello, la bibliothèque ADAL peut aider le développeur de se concentrer sur la logique métier dans leur application et sécuriser facilement les ressources sans être un expert en sécurité.</span><span class="sxs-lookup"><span data-stu-id="a5931-695">By handling most of hello complexity, ADAL can help a developer focus on business logic in their application and easily secure resources without being an expert on security.</span></span> <span data-ttu-id="a5931-696">Des bibliothèques distinctes sont disponibles pour .NET, JavaScript (client et Node.js), iOS, Android et Java.</span><span class="sxs-lookup"><span data-stu-id="a5931-696">Separate libraries are available for .NET, JavaScript (client and Node.js), iOS, Android and Java.</span></span></p>|

## <span data-ttu-id="a5931-697"><a id="authn-devices-field"></a>Authentifier les appareils toohello champ passerelle de connexion</span><span class="sxs-lookup"><span data-stu-id="a5931-697"><a id="authn-devices-field"></a>Authenticate devices connecting toohello Field Gateway</span></span>

| <span data-ttu-id="a5931-698">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-698">Title</span></span>                   | <span data-ttu-id="a5931-699">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-699">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-700">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-700">**Component**</span></span>               | <span data-ttu-id="a5931-701">Passerelle de champ IoT</span><span class="sxs-lookup"><span data-stu-id="a5931-701">IoT Field Gateway</span></span> | 
| <span data-ttu-id="a5931-702">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-702">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-703">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-703">Build</span></span> |  
| <span data-ttu-id="a5931-704">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-704">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-705">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-705">Generic</span></span> |
| <span data-ttu-id="a5931-706">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-706">**Attributes**</span></span>              | <span data-ttu-id="a5931-707">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-707">N/A</span></span>  |
| <span data-ttu-id="a5931-708">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-708">**References**</span></span>              | <span data-ttu-id="a5931-709">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-709">N/A</span></span>  |
| <span data-ttu-id="a5931-710">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-710">**Steps**</span></span> | <span data-ttu-id="a5931-711">Assurez-vous que chaque appareil est authentifié par le champ passerelle de hello avant d’accepter des données et de faciliter les communications en amont avec hello passerelle de Cloud.</span><span class="sxs-lookup"><span data-stu-id="a5931-711">Ensure that each device is authenticated by hello Field Gateway before accepting data from them and before facilitating upstream communications with hello Cloud Gateway.</span></span> <span data-ttu-id="a5931-712">En outre, assurez-vous que les appareils se connectent avec des informations d’identification par appareil, afin que chaque appareil puisse être identifié de manière unique.</span><span class="sxs-lookup"><span data-stu-id="a5931-712">Also, ensure that devices connect with a per device credential so that individual devices can be uniquely identified.</span></span>|

## <span data-ttu-id="a5931-713"><a id="authn-devices-cloud"></a>Assurez-vous que les périphériques se connectant tooCloud passerelle sont authentifiés</span><span class="sxs-lookup"><span data-stu-id="a5931-713"><a id="authn-devices-cloud"></a>Ensure that devices connecting tooCloud gateway are authenticated</span></span>

| <span data-ttu-id="a5931-714">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-714">Title</span></span>                   | <span data-ttu-id="a5931-715">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-715">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-716">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-716">**Component**</span></span>               | <span data-ttu-id="a5931-717">Passerelle de cloud IoT</span><span class="sxs-lookup"><span data-stu-id="a5931-717">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="a5931-718">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-718">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-719">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-719">Build</span></span> |  
| <span data-ttu-id="a5931-720">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-720">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-721">Générique, C#, Node.JS</span><span class="sxs-lookup"><span data-stu-id="a5931-721">Generic, C#, Node.JS,</span></span>  |
| <span data-ttu-id="a5931-722">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-722">**Attributes**</span></span>              | <span data-ttu-id="a5931-723">N/A, choix de passerelle - Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="a5931-723">N/A, Gateway choice - Azure IoT Hub</span></span> |
| <span data-ttu-id="a5931-724">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-724">**References**</span></span>              | <span data-ttu-id="a5931-725">N/A, [Mise en route d’Azure IoT Hub (.NET)](https://azure.microsoft.com/documentation/articles/iot-hub-csharp-csharp-getstarted/), [Mise en route d’Azure IoT Hub (Node)](https://azure.microsoft.com/documentation/articles/iot-hub-node-node-getstarted), [Contrôler l’accès à IoT Hub](https://azure.microsoft.com/documentation/articles/iot-hub-sas-tokens/), [référentiel Git](https://github.com/Azure/azure-iot-sdks/tree/master/node)</span><span class="sxs-lookup"><span data-stu-id="a5931-725">N/A, [Azure IoT hub with .NET](https://azure.microsoft.com/documentation/articles/iot-hub-csharp-csharp-getstarted/), [Getting Started wih IoT hub and Node JS](https://azure.microsoft.com/documentation/articles/iot-hub-node-node-getstarted), [Securing IoT with SAS and certificates](https://azure.microsoft.com/documentation/articles/iot-hub-sas-tokens/), [Git repository](https://github.com/Azure/azure-iot-sdks/tree/master/node)</span></span> |
| <span data-ttu-id="a5931-726">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-726">**Steps**</span></span> | <ul><li><span data-ttu-id="a5931-727">**Générique :** appareil de hello authentifier à l’aide de la sécurité TLS (Transport Layer) ou IPSec.</span><span class="sxs-lookup"><span data-stu-id="a5931-727">**Generic:** Authenticate hello device using Transport Layer Security (TLS) or IPSec.</span></span> <span data-ttu-id="a5931-728">L’infrastructure doit prendre en charge l’utilisation d’une clé prépartagée (PSK) sur les périphériques qui ne peuvent pas gérer le chiffrement asymétrique complet.</span><span class="sxs-lookup"><span data-stu-id="a5931-728">Infrastructure should support using pre-shared key (PSK) on those devices that cannot handle full asymmetric cryptography.</span></span> <span data-ttu-id="a5931-729">Utilisez Azure AD, OAuth.</span><span class="sxs-lookup"><span data-stu-id="a5931-729">Leverage Azure AD, Oauth.</span></span></li><li><span data-ttu-id="a5931-730">**C# :** lors de la création d’une instance DeviceClient, par défaut, hello méthode Create crée une instance de DeviceClient qui utilise toocommunicate de protocole AMQP hello avec IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="a5931-730">**C#:** When creating a DeviceClient instance, by default, hello Create method creates a DeviceClient instance that uses hello AMQP protocol toocommunicate with IoT Hub.</span></span> <span data-ttu-id="a5931-731">toouse hello le protocole HTTPS, utilisez remplacement hello de méthode Create hello qui vous permet de protocole de hello toospecify.</span><span class="sxs-lookup"><span data-stu-id="a5931-731">toouse hello HTTPS protocol, use hello override of hello Create method that enables you toospecify hello protocol.</span></span> <span data-ttu-id="a5931-732">Si vous utilisez le protocole HTTPS hello, vous devez également ajouter hello `Microsoft.AspNet.WebApi.Client` hello de NuGet package tooyour projet tooinclude `System.Net.Http.Formatting` espace de noms.</span><span class="sxs-lookup"><span data-stu-id="a5931-732">If you use hello HTTPS protocol, you should also add hello `Microsoft.AspNet.WebApi.Client` NuGet package tooyour project tooinclude hello `System.Net.Http.Formatting` namespace.</span></span></li></ul>|

### <a name="example"></a><span data-ttu-id="a5931-733">Exemple</span><span class="sxs-lookup"><span data-stu-id="a5931-733">Example</span></span>
```C#
static DeviceClient deviceClient;

static string deviceKey = "{device key}";
static string iotHubUri = "{iot hub hostname}";

var messageString = "{message in string format}";
var message = new Message(Encoding.ASCII.GetBytes(messageString));

deviceClient = DeviceClient.Create(iotHubUri, new DeviceAuthenticationWithRegistrySymmetricKey("myFirstDevice", deviceKey));

await deviceClient.SendEventAsync(message);
```

### <a name="example"></a><span data-ttu-id="a5931-734">Exemple</span><span class="sxs-lookup"><span data-stu-id="a5931-734">Example</span></span>
<span data-ttu-id="a5931-735">**Node.JS : authentification**</span><span class="sxs-lookup"><span data-stu-id="a5931-735">**Node.JS: Authentication**</span></span>
#### <a name="symmetric-key"></a><span data-ttu-id="a5931-736">Clé symétrique</span><span class="sxs-lookup"><span data-stu-id="a5931-736">Symmetric key</span></span>
* <span data-ttu-id="a5931-737">Créez un IoT Hub sur Azure.</span><span class="sxs-lookup"><span data-stu-id="a5931-737">Create a IoT hub on azure</span></span>
* <span data-ttu-id="a5931-738">Créer une entrée dans le Registre des identités hello appareil</span><span class="sxs-lookup"><span data-stu-id="a5931-738">Create an entry in hello device identity registry</span></span>
    ```javascript
    var device = new iothub.Device(null);
    device.deviceId = <DeviceId >
    registry.create(device, function(err, deviceInfo, res) {})
    ```
* <span data-ttu-id="a5931-739">Créez un appareil simulé.</span><span class="sxs-lookup"><span data-stu-id="a5931-739">Create a simulated device</span></span>
    ```javascript
    var clientFromConnectionString = require('azure-iot-device-amqp').clientFromConnectionString;
    var Message = require('azure-iot-device').Message;
    var connectionString = 'HostName=<HostName>DeviceId=<DeviceId>SharedAccessKey=<SharedAccessKey>';
    var client = clientFromConnectionString(connectionString);
    ```
#### <a name="sas-token"></a><span data-ttu-id="a5931-740">Jeton SAP</span><span class="sxs-lookup"><span data-stu-id="a5931-740">SAS Token</span></span>
* <span data-ttu-id="a5931-741">Généré en interne lors de l’utilisation de la clé symétrique, mais nous pouvons le générer et l’utiliser explicitement également.</span><span class="sxs-lookup"><span data-stu-id="a5931-741">Gets internally generated when using symmetric key but we can generate and use it explicitly as well</span></span>
* <span data-ttu-id="a5931-742">Définissez un protocole : `var Http = require('azure-iot-device-http').Http;`.</span><span class="sxs-lookup"><span data-stu-id="a5931-742">Define a protocol : `var Http = require('azure-iot-device-http').Http;`</span></span>
* <span data-ttu-id="a5931-743">Créez un jeton SAP :</span><span class="sxs-lookup"><span data-stu-id="a5931-743">Create a sas token :</span></span>
    ```javascript
    resourceUri = encodeURIComponent(resourceUri.toLowerCase()).toLowerCase();
    var deviceName = "<deviceName >";
    var expires = (Date.now() / 1000) + expiresInMins * 60;
    var toSign = resourceUri + '\n' + expires;
    // using crypto
    var decodedPassword = new Buffer(signingKey, 'base64').toString('binary');
    const hmac = crypto.createHmac('sha256', decodedPassword);
    hmac.update(toSign);
    var base64signature = hmac.digest('base64');
    var base64UriEncoded = encodeURIComponent(base64signature);
    // construct authorization string
    var token = "SharedAccessSignature sr=" + resourceUri + "%2fdevices%2f"+deviceName+"&sig="
    + base64UriEncoded + "&se=" + expires;
    if (policyName) token += "&skn="+policyName;
    return token;
    ```
* <span data-ttu-id="a5931-744">Connectez-vous à l’aide du jeton SAP :</span><span class="sxs-lookup"><span data-stu-id="a5931-744">Connect using sas token:</span></span> 
    ```javascript
    Client.fromSharedAccessSignature(sas, Http); 
    ```
#### <a name="certificates"></a><span data-ttu-id="a5931-745">Certificats</span><span class="sxs-lookup"><span data-stu-id="a5931-745">Certificates</span></span>
* <span data-ttu-id="a5931-746">Générer un personnel X509 signé certificat à l’aide d’un outil tel que OpenSSL toogenerate une .cert .key fichiers toostore hello hello et certificat de clé et respectivement</span><span class="sxs-lookup"><span data-stu-id="a5931-746">Generate a self signed X509 certificate using any tool such as OpenSSL toogenerate a .cert and .key files toostore hello certificate and hello key respectively</span></span>
* <span data-ttu-id="a5931-747">Approvisionnez un appareil qui accepte une connexion sécurisée à l’aide de certificats.</span><span class="sxs-lookup"><span data-stu-id="a5931-747">Provision a device that accepts secured connection using certificates.</span></span>
    ```javascript
    var connectionString = '<connectionString>';
    var registry = iothub.Registry.fromConnectionString(connectionString);
    var deviceJSON = {deviceId:"<deviceId>",
    authentication: {
        x509Thumbprint: {
        primaryThumbprint: "<PrimaryThumbprint>",
        secondaryThumbprint: "<SecondaryThumbprint>"
        }
    }}
    var device = deviceJSON;
    registry.create(device, function (err) {});
    ```
* <span data-ttu-id="a5931-748">Connectez un appareil à l’aide d’un certificat.</span><span class="sxs-lookup"><span data-stu-id="a5931-748">Connect a device using a certificate</span></span>
    ```javascript
    var Protocol = require('azure-iot-device-http').Http;
    var Client = require('azure-iot-device').Client;
    var connectionString = 'HostName=<HostName>DeviceId=<DeviceId>x509=true';
    var client = Client.fromConnectionString(connectionString, Protocol);
    var options = {
        key: fs.readFileSync('./key.pem', 'utf8'),
        cert: fs.readFileSync('./server.crt', 'utf8')
    }; 
    // Calling setOptions with hello x509 certificate and key (and optionally, passphrase) will configure hello client //transport toouse x509 when connecting tooIoT Hub
    client.setOptions(options);
    //call fn tooexecute after hello connection is set up
    client.open(fn);
    ```

## <span data-ttu-id="a5931-749"><a id="authn-cred"></a>Utiliser les informations d’authentification par appareil</span><span class="sxs-lookup"><span data-stu-id="a5931-749"><a id="authn-cred"></a>Use per-device authentication credentials</span></span>

| <span data-ttu-id="a5931-750">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-750">Title</span></span>                   | <span data-ttu-id="a5931-751">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-751">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-752">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-752">**Component**</span></span>               | <span data-ttu-id="a5931-753">Passerelle de cloud IoT</span><span class="sxs-lookup"><span data-stu-id="a5931-753">IoT Cloud Gateway</span></span>  | 
| <span data-ttu-id="a5931-754">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-754">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-755">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-755">Build</span></span> |  
| <span data-ttu-id="a5931-756">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-756">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-757">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-757">Generic</span></span> |
| <span data-ttu-id="a5931-758">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-758">**Attributes**</span></span>              | <span data-ttu-id="a5931-759">Choix de passerelle - Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="a5931-759">Gateway choice - Azure IoT Hub</span></span> |
| <span data-ttu-id="a5931-760">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-760">**References**</span></span>              | [<span data-ttu-id="a5931-761">Contrôler l’accès à IoT Hub</span><span class="sxs-lookup"><span data-stu-id="a5931-761">Azure IoT Hub Security Tokens</span></span>](https://azure.microsoft.com/documentation/articles/iot-hub-sas-tokens/) |
| <span data-ttu-id="a5931-762">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-762">**Steps**</span></span> | <span data-ttu-id="a5931-763">Utilisez des informations d’authentification par appareil à l’aide des jetons SAP en fonction de la clé d’appareil ou du certificat de client plutôt que des stratégies d’accès partagé au niveau d’IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="a5931-763">Use per device authentication credentials using SaS tokens based on Device key or Client Certificate, instead of IoT Hub-level shared access policies.</span></span> <span data-ttu-id="a5931-764">Cela empêche la réutilisation de hello des jetons d’authentification d’une passerelle de périphérique ou un champ par un autre</span><span class="sxs-lookup"><span data-stu-id="a5931-764">This prevents hello reuse of authentication tokens of one device or field gateway by another</span></span> |

## <span data-ttu-id="a5931-765"><a id="req-containers-anon"></a>Assurez-vous que seul hello requise conteneurs et objets BLOB obtiennent un accès en lecture anonyme</span><span class="sxs-lookup"><span data-stu-id="a5931-765"><a id="req-containers-anon"></a>Ensure that only hello required containers and blobs are given anonymous read access</span></span>

| <span data-ttu-id="a5931-766">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-766">Title</span></span>                   | <span data-ttu-id="a5931-767">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-767">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-768">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-768">**Component**</span></span>               | <span data-ttu-id="a5931-769">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="a5931-769">Azure Storage</span></span> | 
| <span data-ttu-id="a5931-770">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-770">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-771">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-771">Build</span></span> |  
| <span data-ttu-id="a5931-772">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-772">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-773">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-773">Generic</span></span> |
| <span data-ttu-id="a5931-774">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-774">**Attributes**</span></span>              | <span data-ttu-id="a5931-775">StorageType - Blob</span><span class="sxs-lookup"><span data-stu-id="a5931-775">StorageType - Blob</span></span> |
| <span data-ttu-id="a5931-776">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-776">**References**</span></span>              | <span data-ttu-id="a5931-777">[Gérer l’accès en lecture anonyme toocontainers et les objets BLOB](https://azure.microsoft.com/documentation/articles/storage-manage-access-to-resources/), [Signatures d’accès partagé, partie 1 : modèle de présentation hello SAP](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-1/)</span><span class="sxs-lookup"><span data-stu-id="a5931-777">[Manage anonymous read access toocontainers and blobs](https://azure.microsoft.com/documentation/articles/storage-manage-access-to-resources/), [Shared Access Signatures, Part 1: Understanding hello SAS model](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-1/)</span></span> |
| <span data-ttu-id="a5931-778">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-778">**Steps**</span></span> | <p><span data-ttu-id="a5931-779">Par défaut, un conteneur et tous les objets BLOB qu’il contient sont accessibles uniquement par le propriétaire de hello hello du compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="a5931-779">By default, a container and any blobs within it may be accessed only by hello owner of hello storage account.</span></span> <span data-ttu-id="a5931-780">conteneur de tooa toogive les utilisateurs anonymes des autorisations en lecture et ses objets BLOB, une peut définir un accès public tooallow hello conteneur des autorisations.</span><span class="sxs-lookup"><span data-stu-id="a5931-780">toogive anonymous users read permissions tooa container and its blobs, one can set hello container permissions tooallow public access.</span></span> <span data-ttu-id="a5931-781">Utilisateurs anonymes peuvent lire des objets BLOB dans un conteneur accessible publiquement sans authentifier la demande de hello.</span><span class="sxs-lookup"><span data-stu-id="a5931-781">Anonymous users can read blobs within a publicly accessible container without authenticating hello request.</span></span></p><p><span data-ttu-id="a5931-782">Les conteneurs fournissent hello options pour la gestion des accès au conteneur suivantes :</span><span class="sxs-lookup"><span data-stu-id="a5931-782">Containers provide hello following options for managing container access:</span></span></p><ul><li><span data-ttu-id="a5931-783">Accès public en lecture : les données de conteneur et de blob peuvent être lues via une demande anonyme.</span><span class="sxs-lookup"><span data-stu-id="a5931-783">Full public read access: Container and blob data can be read via anonymous request.</span></span> <span data-ttu-id="a5931-784">Les clients peuvent énumérer des objets BLOB dans le conteneur hello via une demande anonyme, mais ne peut pas énumérer des conteneurs dans le compte de stockage hello.</span><span class="sxs-lookup"><span data-stu-id="a5931-784">Clients can enumerate blobs within hello container via anonymous request, but cannot enumerate containers within hello storage account.</span></span></li><li><span data-ttu-id="a5931-785">Accès public en lecture pour les blobs uniquement : les données de blobs à l’intérieur de ce conteneur peuvent être lues via une demande anonyme, mais les données du conteneur ne sont pas disponibles.</span><span class="sxs-lookup"><span data-stu-id="a5931-785">Public read access for blobs only: Blob data within this container can be read via anonymous request, but container data is not available.</span></span> <span data-ttu-id="a5931-786">Les clients ne peuvent pas énumérer les objets BLOB conteneur hello via une demande anonyme</span><span class="sxs-lookup"><span data-stu-id="a5931-786">Clients cannot enumerate blobs within hello container via anonymous request</span></span></li><li><span data-ttu-id="a5931-787">Accès en lecture sans public : données de conteneur et les objets blob peuvent être lues par le propriétaire du compte hello</span><span class="sxs-lookup"><span data-stu-id="a5931-787">No public read access: Container and blob data can be read by hello account owner only</span></span></li></ul><p><span data-ttu-id="a5931-788">L’accès anonyme est idéal dans les situations où certains blobs doivent toujours être disponibles pour l’accès en lecture anonyme.</span><span class="sxs-lookup"><span data-stu-id="a5931-788">Anonymous access is best for scenarios where certain blobs should always be available for anonymous read access.</span></span> <span data-ttu-id="a5931-789">Pour un contrôle plus précise, un peut créer une signature d’accès partagé, ce qui permet un accès toodelegate restreint à l’aide des autorisations différentes et sur un intervalle de temps spécifié.</span><span class="sxs-lookup"><span data-stu-id="a5931-789">For finer-grained control, one can create a shared access signature, which enables toodelegate restricted access using different permissions and over a specified time interval.</span></span> <span data-ttu-id="a5931-790">Garantissez que les conteneurs et les blobs, qui peuvent éventuellement contenir des données sensibles, ne bénéficient pas d’un accès anonyme accidentellement.</span><span class="sxs-lookup"><span data-stu-id="a5931-790">Ensure that containers and blobs, which may potentially contain sensitive data, are not given anonymous access accidentally</span></span></p>|

## <span data-ttu-id="a5931-791"><a id="limited-access-sas"></a>Accorder tooobjects un accès limité dans le stockage Azure à l’aide de disques SAS ou SAP</span><span class="sxs-lookup"><span data-stu-id="a5931-791"><a id="limited-access-sas"></a>Grant limited access tooobjects in Azure storage using SAS or SAP</span></span>

| <span data-ttu-id="a5931-792">Intitulé</span><span class="sxs-lookup"><span data-stu-id="a5931-792">Title</span></span>                   | <span data-ttu-id="a5931-793">Détails</span><span class="sxs-lookup"><span data-stu-id="a5931-793">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="a5931-794">**Composant**</span><span class="sxs-lookup"><span data-stu-id="a5931-794">**Component**</span></span>               | <span data-ttu-id="a5931-795">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="a5931-795">Azure Storage</span></span> | 
| <span data-ttu-id="a5931-796">**Phase SDL**</span><span class="sxs-lookup"><span data-stu-id="a5931-796">**SDL Phase**</span></span>               | <span data-ttu-id="a5931-797">Créer</span><span class="sxs-lookup"><span data-stu-id="a5931-797">Build</span></span> |  
| <span data-ttu-id="a5931-798">**Technologies applicables**</span><span class="sxs-lookup"><span data-stu-id="a5931-798">**Applicable Technologies**</span></span> | <span data-ttu-id="a5931-799">Générique</span><span class="sxs-lookup"><span data-stu-id="a5931-799">Generic</span></span> |
| <span data-ttu-id="a5931-800">**Attributs**</span><span class="sxs-lookup"><span data-stu-id="a5931-800">**Attributes**</span></span>              | <span data-ttu-id="a5931-801">N/A</span><span class="sxs-lookup"><span data-stu-id="a5931-801">N/A</span></span> |
| <span data-ttu-id="a5931-802">**Informations de référence**</span><span class="sxs-lookup"><span data-stu-id="a5931-802">**References**</span></span>              | <span data-ttu-id="a5931-803">[Signatures d’accès partagé, partie 1 : Modèle de SAP de hello présentation](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-1/), [Signatures d’accès partagé, partie 2 : créer et utiliser une SAP de stockage d’objets Blob](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-2/), [comment toodelegate aux tooobjects dans votre compte à l’aide Les stratégies d’accès stockée et les Signatures d’accès partagé](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_how-to-delegate-access-to-objects-in-your-account-using-shared-access-signatures-and-stored-access-policies)</span><span class="sxs-lookup"><span data-stu-id="a5931-803">[Shared Access Signatures, Part 1: Understanding hello SAS model](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-1/), [Shared Access Signatures, Part 2: Create and use a SAS with Blob storage](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-2/), [How toodelegate access tooobjects in your account using Shared Access Signatures and Stored Access Policies](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_how-to-delegate-access-to-objects-in-your-account-using-shared-access-signatures-and-stored-access-policies)</span></span> |
| <span data-ttu-id="a5931-804">**Étapes**</span><span class="sxs-lookup"><span data-stu-id="a5931-804">**Steps**</span></span> | <p><span data-ttu-id="a5931-805">À l’aide d’une signature d’accès partagé (SAS) est un tooobjects d’accès toogrant limitée efficace dans un compte tooother les clients de stockage, sans avoir de clé d’accès tooexpose compte.</span><span class="sxs-lookup"><span data-stu-id="a5931-805">Using a shared access signature (SAS) is a powerful way toogrant limited access tooobjects in a storage account tooother clients, without having tooexpose account access key.</span></span> <span data-ttu-id="a5931-806">Hello SAS est un URI qui englobe dans ses paramètres de requête toutes les informations de hello nécessaires pour l’authentification d’accès tooa des ressources de stockage.</span><span class="sxs-lookup"><span data-stu-id="a5931-806">hello SAS is a URI that encompasses in its query parameters all of hello information necessary for authenticated access tooa storage resource.</span></span> <span data-ttu-id="a5931-807">tooaccess des ressources de stockage avec hello SAS, hello client a uniquement besoin toopass dans le constructeur approprié de hello SAS toohello ou la méthode.</span><span class="sxs-lookup"><span data-stu-id="a5931-807">tooaccess storage resources with hello SAS, hello client only needs toopass in hello SAS toohello appropriate constructor or method.</span></span></p><p><span data-ttu-id="a5931-808">Vous pouvez utiliser une SAP lorsque vous souhaitez tooprovide accès tooresources dans votre client de tooa de compte de stockage ne peut pas être approuvée par la clé de compte hello.</span><span class="sxs-lookup"><span data-stu-id="a5931-808">You can use a SAS when you want tooprovide access tooresources in your storage account tooa client that can't be trusted with hello account key.</span></span> <span data-ttu-id="a5931-809">Vos clés de compte de stockage incluent à la fois une clé primaire et secondaire, les deux accorder un accès administratif tooyour compte et toutes les ressources qu’il hello.</span><span class="sxs-lookup"><span data-stu-id="a5931-809">Your storage account keys include both a primary and secondary key, both of which grant administrative access tooyour account and all of hello resources in it.</span></span> <span data-ttu-id="a5931-810">Exposition de vos clés de compte s’ouvre votre possibilité de toohello compte d’utilisation malveillante ou involontaire.</span><span class="sxs-lookup"><span data-stu-id="a5931-810">Exposing either of your account keys opens your account toohello possibility of malicious or negligent use.</span></span> <span data-ttu-id="a5931-811">Signatures d’accès partagé offrent une solution sécurisée qui permet aux autres clients tooread, écriture et suppression des données dans votre compte de stockage selon que vous avez accordé des autorisations toohello et sans avoir besoin de la clé de compte hello.</span><span class="sxs-lookup"><span data-stu-id="a5931-811">Shared access signatures provide a safe alternative that allows other clients tooread, write, and delete data in your storage account according toohello permissions you've granted, and without need for hello account key.</span></span></p><p><span data-ttu-id="a5931-812">Si vous avez un ensemble logique de paramètres qui sont chaque fois similaires, il est plus judicieux d’utiliser une stratégie d’accès stockée.</span><span class="sxs-lookup"><span data-stu-id="a5931-812">If you have a logical set of parameters that are similar each time, using a Stored Access Policy (SAP) is a better idea.</span></span> <span data-ttu-id="a5931-813">À l’aide d’un SAS dérivé d’une stratégie d’accès stockée vous donne en effet toorevoke de capacité hello que SAS immédiatement, il est hello recommandé de meilleure pratique tooalways utiliser des stratégies d’accès stockées lorsque cela est possible.</span><span class="sxs-lookup"><span data-stu-id="a5931-813">Because using a SAS derived from a Stored Access Policy gives you hello ability toorevoke that SAS immediately, it is hello recommended best practice tooalways use Stored Access Policies when possible.</span></span></p>|
