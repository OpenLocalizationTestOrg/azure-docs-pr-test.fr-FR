---
title: API de facturation Azure | Microsoft Docs
description: "En savoir plus sur les API Azure Billing Usage et RateCard, qui fournissent des vues d’ensemble des tendances et de la consommation des ressources Azure."
services: 
documentationcenter: 
author: BryanLa
manager: tonguyen
editor: 
tags: billing
ms.assetid: 3e817b43-0696-400c-a02e-47b7817f9b77
ms.service: billing
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: billing
ms.date: 04/18/2017
ms.author: mobandyo;bryanla
ms.openlocfilehash: 394ed29ed468fe80f47a6517c9521a81a5ddb7fd
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="use-azure-billing-apis-to-programmatically-get-insight-into-your-azure-usage"></a><span data-ttu-id="82fb0-103">Utilisez les API de facturation Azure pour obtenir par programme des informations sur votre utilisation d’Azure</span><span class="sxs-lookup"><span data-stu-id="82fb0-103">Use Azure Billing APIs to programmatically get insight into your Azure usage</span></span>
<span data-ttu-id="82fb0-104">Utilisez les API de facturation Azure pour extraire les données d’utilisation et de ressources dans vos outils d’analyse de données préférés.</span><span class="sxs-lookup"><span data-stu-id="82fb0-104">Use Azure Billing APIs to pull usage and resource data into your preferred data analysis tools.</span></span> <span data-ttu-id="82fb0-105">Les API d’utilisation des ressources Azure et RateCard peuvent vous aider à prévoir vos coûts avec précision et à les gérer.</span><span class="sxs-lookup"><span data-stu-id="82fb0-105">The Azure Resource Usage and RateCard APIs can help you accurately predict and manage your costs.</span></span> <span data-ttu-id="82fb0-106">Les API sont implémentées en tant que fournisseur de ressources et font partie intégrante de la famille d’API exposées par Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="82fb0-106">The APIs are implemented as a Resource Provider and part of the family of APIs exposed by the Azure Resource Manager.</span></span>  

## <a name="azure-invoice-download-api-preview"></a><span data-ttu-id="82fb0-107">API Azure Invoice Download (version préliminaire)</span><span class="sxs-lookup"><span data-stu-id="82fb0-107">Azure Invoice Download API (Preview)</span></span>
<span data-ttu-id="82fb0-108">Une fois l’[adhésion terminée](billing-manage-access.md#opt-in), téléchargez des factures à l’aide de la version préliminaire de l’[API Invoice](/rest/api/billing).</span><span class="sxs-lookup"><span data-stu-id="82fb0-108">Once the [opt-in has been complete](billing-manage-access.md#opt-in), download invoices using the preview version of [Invoice API](/rest/api/billing).</span></span> <span data-ttu-id="82fb0-109">Cette API offre les fonctionnalités suivantes :</span><span class="sxs-lookup"><span data-stu-id="82fb0-109">The features include:</span></span>

* <span data-ttu-id="82fb0-110">**Contrôle d’accès en fonction du rôle Azure** : configurez les stratégies d’accès dans le [portail Azure](https://portal.azure.com) ou par le biais des [applets de commande Azure PowerShell](/powershell/azure/overview) pour spécifier les utilisateurs ou les applications qui peuvent accéder aux données d’utilisation de l’abonnement.</span><span class="sxs-lookup"><span data-stu-id="82fb0-110">**Azure Role-based Access Control** - Configure access policies on the [Azure portal](https://portal.azure.com) or through [Azure PowerShell cmdlets](/powershell/azure/overview) to specify which users or applications can get access to the subscription’s usage data.</span></span> <span data-ttu-id="82fb0-111">Les appelants doivent utiliser les jetons Azure Active Directory standard pour l’authentification.</span><span class="sxs-lookup"><span data-stu-id="82fb0-111">Callers must use standard Azure Active Directory tokens for authentication.</span></span> <span data-ttu-id="82fb0-112">Ajoutez l’appelant au rôle Lecteur de facture, Lecteur, Propriétaire ou Collaborateur pour être en mesure d’accéder aux données d’utilisation relatives à un abonnement Azure spécifique.</span><span class="sxs-lookup"><span data-stu-id="82fb0-112">Add the caller to either the Billing Reader, Reader, Owner, or Contributor role to get access to the usage data for a specific Azure subscription.</span></span>
* <span data-ttu-id="82fb0-113">**Filtrage par date** : utilisez le paramètre `$filter` pour obtenir toutes les factures par ordre chronologique inverse à partir de la date de fin de la période de facturation.</span><span class="sxs-lookup"><span data-stu-id="82fb0-113">**Date Filtering** - Use the `$filter` parameter to get all the invoices in reverse chronological order by the invoice period end date.</span></span> 

> [!NOTE]
> <span data-ttu-id="82fb0-114">Cette fonctionnalité se trouve dans la première version de la version préliminaire et peut être sujette à des modifications à incompatibilité descendante.</span><span class="sxs-lookup"><span data-stu-id="82fb0-114">This feature is in first version of preview and may be subject to backward-incompatible changes.</span></span> <span data-ttu-id="82fb0-115">Elle n’est actuellement pas disponible pour certaines offres d’abonnement (EA, CSP, AIO non pris en charge) et Azure Allemagne.</span><span class="sxs-lookup"><span data-stu-id="82fb0-115">Currently, it's not available for certain subscription offers (EA, CSP, AIO not supported) and Azure Germany.</span></span>

## <a name="azure-resource-usage-api-preview"></a><span data-ttu-id="82fb0-116">API Azure Resource Usage (version préliminaire)</span><span class="sxs-lookup"><span data-stu-id="82fb0-116">Azure Resource Usage API (Preview)</span></span>
<span data-ttu-id="82fb0-117">Utiliser l’[API Azure Resource Usage](https://msdn.microsoft.com/library/azure/mt219003) pour obtenir une estimation de vos données de consommation Azure.</span><span class="sxs-lookup"><span data-stu-id="82fb0-117">Use the Azure [Resource Usage API](https://msdn.microsoft.com/library/azure/mt219003) to get your estimated Azure consumption data.</span></span> <span data-ttu-id="82fb0-118">L’API comprend :</span><span class="sxs-lookup"><span data-stu-id="82fb0-118">The API includes:</span></span>

* <span data-ttu-id="82fb0-119">**Contrôle d’accès en fonction du rôle Azure** : configurez les stratégies d’accès dans le [portail Azure](https://portal.azure.com) ou par le biais des [applets de commande Azure PowerShell](/powershell/azure/overview) pour spécifier les utilisateurs ou les applications qui peuvent accéder aux données d’utilisation de l’abonnement.</span><span class="sxs-lookup"><span data-stu-id="82fb0-119">**Azure Role-based Access Control** - Configure access policies on the [Azure portal](https://portal.azure.com) or through [Azure PowerShell cmdlets](/powershell/azure/overview) to specify which users or applications can get access to the subscription’s usage data.</span></span> <span data-ttu-id="82fb0-120">Les appelants doivent utiliser les jetons Azure Active Directory standard pour l’authentification.</span><span class="sxs-lookup"><span data-stu-id="82fb0-120">Callers must use standard Azure Active Directory tokens for authentication.</span></span> <span data-ttu-id="82fb0-121">Ajoutez l’appelant au rôle Lecteur de facture, Lecteur, Propriétaire ou Collaborateur pour être en mesure d’accéder aux données d’utilisation relatives à un abonnement Azure spécifique.</span><span class="sxs-lookup"><span data-stu-id="82fb0-121">Add the caller to either the Billing Reader, Reader, Owner, or Contributor role to get access to the usage data for a specific Azure subscription.</span></span>
* <span data-ttu-id="82fb0-122">**Agrégations horaires ou quotidiennes** : les appelants peuvent indiquer s’ils souhaitent visualiser leurs données d’utilisation Azure par intervalles de temps horaires ou quotidiens.</span><span class="sxs-lookup"><span data-stu-id="82fb0-122">**Hourly or Daily Aggregations** - Callers can specify whether they want their Azure usage data in hourly buckets or daily buckets.</span></span> <span data-ttu-id="82fb0-123">Par défaut, les données sont présentées par jour.</span><span class="sxs-lookup"><span data-stu-id="82fb0-123">The default is daily.</span></span>
* <span data-ttu-id="82fb0-124">**Métadonnées d’instance (balises de ressource incluses)** : obtenez des détails de niveau instance, comme l’URI de ressource complet (/subscriptions/{subscription-id}/..) et des informations de groupe de ressources et les balises de ressource.</span><span class="sxs-lookup"><span data-stu-id="82fb0-124">**Instance metadata (includes resource tags)** – Get instance-level detail like the fully qualified resource uri (/subscriptions/{subscription-id}/..), the resource group information, and resource tags.</span></span> <span data-ttu-id="82fb0-125">Les métadonnées vous aideront à allouer de façon déterministe et par programme l’utilisation par les balises, pour les cas d’utilisation comme la facturation interne.</span><span class="sxs-lookup"><span data-stu-id="82fb0-125">This metadata helps you deterministically and programmatically allocate usage by the tags, for use-cases like cross-charging.</span></span>
* <span data-ttu-id="82fb0-126">**Métadonnées sur les ressources** : des détails sur les ressources, comme le nom du compteur, la catégorie du compteur, la sous-catégorie du compteur, l’unité et la région offrent à l’appelant une meilleure compréhension des ressources consommées.</span><span class="sxs-lookup"><span data-stu-id="82fb0-126">**Resource metadata** - Resource details such as the meter name, meter category, meter sub category, unit, and region give the caller a better understanding of what was consumed.</span></span> <span data-ttu-id="82fb0-127">Nous nous efforçons également d’aligner la terminologie des métadonnées de ressource dans l’ensemble du portail Azure, des fichiers CSV sur l’utilisation d’Azure et sur la facturation Contrat Entreprise (EA), ainsi que dans toutes les autres expériences destinées au public, afin de vous permettre de mettre en corrélation les données des différentes expériences.</span><span class="sxs-lookup"><span data-stu-id="82fb0-127">We're also working to align resource metadata terminology across the Azure portal, Azure usage CSV, EA billing CSV, and other public-facing experiences, to let you correlate data across experiences.</span></span>
* <span data-ttu-id="82fb0-128">**Utilisation pour tous les types d’offre** : les données d’utilisation sont accessibles pour tous les types d’offre, tels que Paiement à l’utilisation, MSDN, Engagement monétaire, Crédit monétaire et Contrat Entreprise (EA).</span><span class="sxs-lookup"><span data-stu-id="82fb0-128">**Usage for all offer types** – Usage data is available for all offer types like Pay-as-you-go, MSDN, Monetary commitment, Monetary credit, and EA.</span></span>

## <a name="azure-resource-ratecard-api-preview"></a><span data-ttu-id="82fb0-129">API Azure Resource RateCard (version préliminaire)</span><span class="sxs-lookup"><span data-stu-id="82fb0-129">Azure Resource RateCard API (Preview)</span></span>
<span data-ttu-id="82fb0-130">Utilisez l’[API Azure Resource RateCard](https://msdn.microsoft.com/library/azure/mt219005) pour obtenir la liste des ressources Azure disponibles et une estimation des informations de prix pour chacune de ces ressources.</span><span class="sxs-lookup"><span data-stu-id="82fb0-130">Use the [Azure Resource RateCard API](https://msdn.microsoft.com/library/azure/mt219005) to get the list of available Azure resources and estimated pricing information for each.</span></span> <span data-ttu-id="82fb0-131">L’API comprend :</span><span class="sxs-lookup"><span data-stu-id="82fb0-131">The API includes:</span></span>

* <span data-ttu-id="82fb0-132">**Contrôle d’accès en fonction du rôle Azure** : configurez vos stratégies d’accès dans le [portail Azure](https://portal.azure.com) ou par le biais des [applets de commande Azure PowerShell](/powershell/azure/overview) pour spécifier les utilisateurs ou les applications qui peuvent accéder aux données d’utilisation de RateCard.</span><span class="sxs-lookup"><span data-stu-id="82fb0-132">**Azure Role-based Access Control** - Configure your access policies on the [Azure portal](https://portal.azure.com) or through [Azure PowerShell cmdlets](/powershell/azure/overview) to specify which users or applications can get access to the RateCard data.</span></span> <span data-ttu-id="82fb0-133">Les appelants doivent utiliser les jetons Azure Active Directory standard pour l’authentification.</span><span class="sxs-lookup"><span data-stu-id="82fb0-133">Callers must use standard Azure Active Directory tokens for authentication.</span></span> <span data-ttu-id="82fb0-134">Ajoutez l’appelant au rôle Lecteur, Propriétaire ou Collaborateur pour être en mesure d’accéder aux données d’utilisation relatives à un abonnement Azure particulier.</span><span class="sxs-lookup"><span data-stu-id="82fb0-134">Add the caller to either the Reader, Owner, or Contributor role to get access to the usage data for a particular Azure subscription.</span></span>
* <span data-ttu-id="82fb0-135">**Prise en charge des offres Paiement à l’utilisation, MSDN, Engagement monétaire et Crédit monétaire (offre EA non prise en charge)** : cette API fournit des informations de tarif au niveau des offres Azure.</span><span class="sxs-lookup"><span data-stu-id="82fb0-135">**Support for Pay-as-you-go, MSDN, Monetary commitment, and Monetary credit offers (EA not supported)** - This API provides Azure offer-level rate information.</span></span>  <span data-ttu-id="82fb0-136">L’appelant de cette API doit transmettre les informations d’offre pour obtenir les détails et les tarifs des ressources.</span><span class="sxs-lookup"><span data-stu-id="82fb0-136">The caller of this API must pass in the offer information to get resource details and rates.</span></span> <span data-ttu-id="82fb0-137">Nous sommes actuellement pas en mesure de fournir les tarifs EA, car les offres EA présentent des tarifs par inscription personnalisés.</span><span class="sxs-lookup"><span data-stu-id="82fb0-137">We're currently unable to provide EA rates because EA offers have customized rates per enrollment.</span></span> 

## <a name="scenarios"></a><span data-ttu-id="82fb0-138">Scénarios</span><span class="sxs-lookup"><span data-stu-id="82fb0-138">Scenarios</span></span>
<span data-ttu-id="82fb0-139">Voici quelques-uns des scénarios autorisés par l’utilisation combinée des API Usage et RateCard :</span><span class="sxs-lookup"><span data-stu-id="82fb0-139">Here are some of the scenarios that are made possible with the combination of the Usage and the RateCard APIs:</span></span>

* <span data-ttu-id="82fb0-140">**Dépenses Azure au cours du mois** : utilisez la combinaison des API d’utilisation et RateCard pour obtenir une meilleure idée de vos dépenses de cloud au cours du mois.</span><span class="sxs-lookup"><span data-stu-id="82fb0-140">**Azure spend during the month** - Use the combination of the Usage and RateCard APIs to get better insights into your cloud spend during the month.</span></span> <span data-ttu-id="82fb0-141">Vous pouvez analyser les compartiments horaires et quotidiens des estimations d’utilisation et de facturation.</span><span class="sxs-lookup"><span data-stu-id="82fb0-141">You can analyze the hourly and daily buckets of usage and charge estimates.</span></span>
* <span data-ttu-id="82fb0-142">**Configurer des alertes** : utilisez les API d’utilisation et RateCard pour obtenir une estimation de la consommation et de la facturation, et configurer des alertes en fonction des ressources ou des valeurs monétaires.</span><span class="sxs-lookup"><span data-stu-id="82fb0-142">**Set up alerts** – Use the Usage and the RateCard APIs to get estimated cloud consumption and charges, and set up resource-based or monetary-based alerts.</span></span>
* <span data-ttu-id="82fb0-143">**Prédiction de facture** : obtenez votre estimation de consommation et votre dépense cloud et appliquez des algorithmes d’apprentissage automatique pour prédire le montant de la facture à la fin du cycle de facturation.</span><span class="sxs-lookup"><span data-stu-id="82fb0-143">**Predict bill** – Get your estimated consumption and cloud spend, and apply machine learning algorithms to predict what the bill would be at the end of the billing cycle.</span></span>
* <span data-ttu-id="82fb0-144">**Analyse des coûts avant consommation** : utilisez l’API RateCard pour prédire le montant de votre facture pour votre utilisation prévue lorsque vous déplacez vos charges de travail dans Azure.</span><span class="sxs-lookup"><span data-stu-id="82fb0-144">**Pre-consumption cost analysis** – Use the RateCard API to predict how much your bill would be for your expected usage when you move your workloads to Azure.</span></span> <span data-ttu-id="82fb0-145">Si vous disposez de charges de travail existantes dans d’autres clouds publics ou privés, vous pouvez également mapper votre utilisation sur les tarifs Azure afin d’obtenir une meilleure estimation de vos dépenses Azure.</span><span class="sxs-lookup"><span data-stu-id="82fb0-145">If you have existing workloads in other clouds or private clouds, you can also map your usage with the Azure rates to get a better estimate of Azure spend.</span></span> <span data-ttu-id="82fb0-146">Cette estimation vous donne la possibilité d’ajouter un tableau croisé dynamique sur l’offre et de comparer les différents types d’offre au-delà du paiement à l’utilisation, notamment l’engagement monétaire et crédit monétaire.</span><span class="sxs-lookup"><span data-stu-id="82fb0-146">This estimate gives you the ability to pivot on offer, and compare and contrast between the different offer types beyond Pay-As-You-Go, like Monetary commitment and Monetary credit.</span></span> <span data-ttu-id="82fb0-147">L’API vous donne également la possibilité de voir les différences de coût par région et vous permet d’effectuer une analyse de scénarios des coûts pour vous aider à prendre des décisions en matière de déploiement.</span><span class="sxs-lookup"><span data-stu-id="82fb0-147">The API also gives you the ability to see cost differences by region and allows you to do a what-if cost analysis to help you make deployment decisions.</span></span>
* <span data-ttu-id="82fb0-148">**Analyse de scénarios** -</span><span class="sxs-lookup"><span data-stu-id="82fb0-148">**What-if analysis** -</span></span>
  
  * <span data-ttu-id="82fb0-149">Vous pouvez déterminer s’il est plus rentable d’exécuter les charges de travail dans une autre région ou dans une autre configuration de la ressource Azure.</span><span class="sxs-lookup"><span data-stu-id="82fb0-149">You can determine whether it is more cost-effective to run workloads in another region, or on another configuration of the Azure resource.</span></span> <span data-ttu-id="82fb0-150">Les coûts des ressources Azure peuvent varier en fonction de la région Azure que vous utilisez.</span><span class="sxs-lookup"><span data-stu-id="82fb0-150">Azure resource costs may differ based on the Azure region you're using.</span></span>
  * <span data-ttu-id="82fb0-151">Vous pouvez également déterminer si un autre type d’offre Azure propose un meilleur tarif pour une ressource Azure.</span><span class="sxs-lookup"><span data-stu-id="82fb0-151">You can also determine if another Azure offer type gives a better rate on an Azure resource.</span></span>
  
## <a name="partner-solutions"></a><span data-ttu-id="82fb0-152">Solutions de partenaires</span><span class="sxs-lookup"><span data-stu-id="82fb0-152">Partner solutions</span></span>
<span data-ttu-id="82fb0-153">L’article [Cloudyn assure des tâches de gestion financière informatique pour ses clients grâce aux API Microsoft Azure Usage et RateCard](billing-usage-rate-card-partner-solution-cloudyn.md) décrit l’expérience d’intégration offerte par [Cloudyn](https://www.cloudyn.com/microsoft-azure/), partenaire sur les API Azure Billing.</span><span class="sxs-lookup"><span data-stu-id="82fb0-153">[Microsoft Azure Usage and RateCard APIs Enable Cloudyn to Provide ITFM for Customers](billing-usage-rate-card-partner-solution-cloudyn.md) describes the integration experience offered by Azure Billing API partner [Cloudyn](https://www.cloudyn.com/microsoft-azure/).</span></span> <span data-ttu-id="82fb0-154">Cet article explique leurs expériences et inclut une vidéo qui montre comment vous pouvez utiliser Cloudyn et les API de facturation Azure pour obtenir des informations à partir des données d’utilisation Azure.</span><span class="sxs-lookup"><span data-stu-id="82fb0-154">This article talks about their experiences and includes a video that shows how you can use Cloudyn and the Azure Billing APIs to get insights from Azure consumption data.</span></span>

<span data-ttu-id="82fb0-155">La section [Intégration des API Microsoft Azure Billing par Cloud Cruiser](billing-usage-rate-card-partner-solution-cloudcruiser.md) décrit le fonctionnement de [Cloud Cruiser Express pour le pack Azure](http://www.cloudcruiser.com/partners/microsoft/) directement dans le portail Windows Azure Pack (WAP).</span><span class="sxs-lookup"><span data-stu-id="82fb0-155">[Cloud Cruiser and Microsoft Azure Billing API Integration](billing-usage-rate-card-partner-solution-cloudcruiser.md) describes how [Cloud Cruiser's Express for Azure Pack](http://www.cloudcruiser.com/partners/microsoft/) works directly from the Windows Azure Pack (WAP) portal.</span></span> <span data-ttu-id="82fb0-156">Vous pouvez en toute transparence gérer les aspects opérationnels et financiers du cloud Microsoft Azure privé ou d’un cloud public hébergé à partir d’une seule interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="82fb0-156">You can seamlessly manage both the operational and financial aspects of the Microsoft Azure private or hosted public cloud from a single user interface.</span></span>   

## <a name="next-steps"></a><span data-ttu-id="82fb0-157">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="82fb0-157">Next steps</span></span>
* <span data-ttu-id="82fb0-158">Consultez les exemples de code sur GitHub :</span><span class="sxs-lookup"><span data-stu-id="82fb0-158">Check out the code samples on GitHub:</span></span>
  * [<span data-ttu-id="82fb0-159">Exemple de code de l’API Invoice</span><span class="sxs-lookup"><span data-stu-id="82fb0-159">Invoice API code sample</span></span>](https://go.microsoft.com/fwlink/?linkid=845124)

  * [<span data-ttu-id="82fb0-160">Exemple de code de l’API Usage</span><span class="sxs-lookup"><span data-stu-id="82fb0-160">Usage API code sample</span></span>](https://github.com/Azure-Samples/billing-dotnet-usage-api)

  * [<span data-ttu-id="82fb0-161">Exemple de code de l’API RateCard</span><span class="sxs-lookup"><span data-stu-id="82fb0-161">RateCard API code sample</span></span>](https://github.com/Azure-Samples/billing-dotnet-ratecard-api)

* <span data-ttu-id="82fb0-162">Pour en savoir plus sur Azure Resource Manager, consultez [Vue d’ensemble d’Azure Resource Manager](../azure-resource-manager/resource-group-overview.md) .</span><span class="sxs-lookup"><span data-stu-id="82fb0-162">To learn more about the Azure Resource Manager, see [Azure Resource Manager Overview](../azure-resource-manager/resource-group-overview.md).</span></span> 

* <span data-ttu-id="82fb0-163">Pour plus d’informations sur la suite d’outils nécessaire pour acquérir une bonne compréhension de la dépense cloud, consultez l’article de Gartner [Guide de marché relatif aux outils de gestion financière informatique (ITFM)](http://www.gartner.com/technology/reprints.do?id=1-212F7AL&ct=140909&st=sb) (en anglais).</span><span class="sxs-lookup"><span data-stu-id="82fb0-163">For more information on the suite of tools necessary to help you get an understanding of cloud spend, see the Gartner article [Market Guide for IT Financial Management (ITFM) Tools](http://www.gartner.com/technology/reprints.do?id=1-212F7AL&ct=140909&st=sb).</span></span>

