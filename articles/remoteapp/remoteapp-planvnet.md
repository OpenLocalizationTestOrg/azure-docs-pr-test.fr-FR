---
title: "Planifier votre réseau virtuel pour une collection RemoteApp Azure | Microsoft Docs"
description: "Planifier votre réseau virtuel pour une collection Azure RemoteApp"
services: remoteapp
documentationcenter: 
author: mghosh1616
manager: mbaldwin
ms.assetid: ad9aff0e-f374-49c0-951d-4a7be1c36de0
ms.service: remoteapp
ms.workload: compute
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 11/23/2016
ms.author: mbaldwin
ms.openlocfilehash: 1eb8115b13fb18074b4c4726b69e3d9faf387c32
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="how-to-plan-your-virtual-network-for-azure-remoteapp"></a><span data-ttu-id="f756d-103">Comment planifier votre réseau virtuel pour Azure RemoteApp</span><span class="sxs-lookup"><span data-stu-id="f756d-103">How to plan your virtual network for Azure RemoteApp</span></span>
> [!IMPORTANT]
> <span data-ttu-id="f756d-104">Azure RemoteApp ne sera plus disponible à partir du 31 août 2017.</span><span class="sxs-lookup"><span data-stu-id="f756d-104">Azure RemoteApp is being discontinued on August 31, 2017.</span></span> <span data-ttu-id="f756d-105">Pour plus d’informations, lisez [l’annonce](https://go.microsoft.com/fwlink/?linkid=821148) .</span><span class="sxs-lookup"><span data-stu-id="f756d-105">Read the [announcement](https://go.microsoft.com/fwlink/?linkid=821148) for details.</span></span>
> 
> 

<span data-ttu-id="f756d-106">Ce document décrit comment configurer votre réseau virtuel Azure (réseau) et le sous-réseau pour Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="f756d-106">This document describes how to set up your Azure virtual network (VNET) and the subnet for Azure RemoteApp.</span></span> <span data-ttu-id="f756d-107">Si vous n’êtes pas familiarisé avec les réseaux virtuels Azure, c’est une fonctionnalité qui vous permet de virtualiser votre infrastructure réseau vers le nuage et pour créer des solutions hybrides avec Azure et vos ressources locales.</span><span class="sxs-lookup"><span data-stu-id="f756d-107">If you are unfamiliar with Azure virtual networks, this is a capability that helps you to virtualize your network infrastructure to the cloud and to create hybrid solutions with Azure and your on-premises resources.</span></span> <span data-ttu-id="f756d-108">Pour plus d'informations à ce sujet, cliquez [ici](../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f756d-108">You can read more about it [here](../virtual-network/virtual-networks-overview.md).</span></span>

<span data-ttu-id="f756d-109">Si vous souhaitez définir des stratégies de sécurité pour le trafic (entrant et sortant) du réseau virtuel dans lequel vous déployez Azure RemoteApp, nous vous recommandons vivement de créer un sous-réseau distinct pour Azure RemoteApp à partir du reste de vos déploiements dans le réseau virtuel Azure.</span><span class="sxs-lookup"><span data-stu-id="f756d-109">If you want to define security policies for traffic (both incoming and outgoing) in your virtual network where you are deploying Azure RemoteApp, we strongly recommend creating a separate subnet for Azure RemoteApp from the rest of your deployments in the Azure virtual network.</span></span> <span data-ttu-id="f756d-110">Pour plus d’informations sur la façon de définir des stratégies de sécurité sur votre sous-réseau de réseau virtuel Azure, consultez la section [Qu’est-ce qu’un groupe de sécurité réseau (NSG) ?](../virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="f756d-110">For more information on how to define security policies on your Azure virtual network subnet, please read [What is a Network Security Group (NSG)?](../virtual-network/virtual-networks-nsg.md).</span></span>

## <a name="types-of-azure-remoteapp-collections-with-azure-virtual-networks"></a><span data-ttu-id="f756d-111">Types de collections RemoteApp Azure avec les réseaux virtuels Azure</span><span class="sxs-lookup"><span data-stu-id="f756d-111">Types of Azure RemoteApp collections with Azure virtual networks</span></span>
<span data-ttu-id="f756d-112">Les graphiques suivants illustrent les deux options de collection différentes que vous pouvez choisir au moment d’utiliser un réseau virtuel.</span><span class="sxs-lookup"><span data-stu-id="f756d-112">The following graphics show the two different collection options when you want to use a virtual network.</span></span>

### <a name="azure-remoteapp-cloud-collection-with-vnet"></a><span data-ttu-id="f756d-113">Collection Cloud Azure RemoteApp avec réseau virtuel</span><span class="sxs-lookup"><span data-stu-id="f756d-113">Azure RemoteApp cloud collection with VNET</span></span>
 ![Azure RemoteApp - Collection Cloud avec réseau virtuel](./media/remoteapp-planvpn/ra-cloudvpn.png)

<span data-ttu-id="f756d-115">Cela représente une collection Azure RemoteApp dans laquelle toutes les ressources auxquelles les hôtes de session RemoteApp doivent accéder sont déployées dans Azure.</span><span class="sxs-lookup"><span data-stu-id="f756d-115">This represents an Azure RemoteApp collection where all the resources that the RemoteApp session hosts need to access are deployed in Azure.</span></span> <span data-ttu-id="f756d-116">Ils peuvent se trouver dans le même réseau virtuel que le réseau virtuel RemoteApp VNET ou dans un autre réseau virtuel dans Azure.</span><span class="sxs-lookup"><span data-stu-id="f756d-116">They can be in the same VNET as the RemoteApp VNET or a different VNET in Azure.</span></span>

### <a name="azure-remoteapp-hybrid-collection-with-vnet"></a><span data-ttu-id="f756d-117">Collection hybride RemoteApp avec réseau virtuel</span><span class="sxs-lookup"><span data-stu-id="f756d-117">Azure RemoteApp hybrid collection with VNET</span></span>
![Azure RemoteApp - Collection hybride avec réseau virtuel](./media/remoteapp-planvpn/ra-hybridvpn.png)

<span data-ttu-id="f756d-119">Cela représente une collection Azure RemoteApp dans laquelle certaines ressources auxquelles les hôtes de session RemoteApp doivent accéder sont déployées localement.</span><span class="sxs-lookup"><span data-stu-id="f756d-119">This represents an Azure RemoteApp collection where some of the resources that the RemoteApp session hosts need to access are deployed on-premises.</span></span> <span data-ttu-id="f756d-120">VNET RemoteApp est lié au réseau local à l’aide de technologies hybrides Azure comme VPN de site à site ou Express Route.</span><span class="sxs-lookup"><span data-stu-id="f756d-120">The RemoteApp VNET is linked to the on-premises network using Azure hybrid technologies like site-to-site VPN or Express Route.</span></span>

## <a name="how-the-system-works"></a><span data-ttu-id="f756d-121">Fonctionnement du système</span><span class="sxs-lookup"><span data-stu-id="f756d-121">How the system works</span></span>
<span data-ttu-id="f756d-122">En arrière-plan, Azure RemoteApp déploie des machines virtuelles Azure (avec votre image chargée) sur le sous-réseau de réseau virtuel que vous avez choisi lors de la configuration.</span><span class="sxs-lookup"><span data-stu-id="f756d-122">Under the covers Azure RemoteApp deploys Azure virtual machines (with your uploaded image) to the virtual network subnet that you chose during provisioning.</span></span> <span data-ttu-id="f756d-123">Si vous avez opté pour une collection hybride, nous essayons de résoudre le nom de domaine complet du contrôleur de domaine saisi lors de la configuration du flux de travail avec le serveur DNS fourni dans le réseau virtuel.</span><span class="sxs-lookup"><span data-stu-id="f756d-123">If you opted for a hybrid collection, we try to resolve the FQDN of the domain controller you entered in the provisioning workflow with the DNS server provided in the virtual network.</span></span>  
<span data-ttu-id="f756d-124">Si vous vous connectez à un réseau virtuel existant, veillez à exposer les ports nécessaires dans des groupes de sécurité réseau dans votre sous-réseau Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="f756d-124">If you are connecting to an existing virtual network, make sure to expose the necessary ports in your network security groups in your Azure RemoteApp subnet.</span></span> 

<span data-ttu-id="f756d-125">Nous vous recommandons d’utiliser un [sous-réseau suffisamment grand pour Azure RemoteApp](remoteapp-vnetsizing.md).</span><span class="sxs-lookup"><span data-stu-id="f756d-125">We recommend you use a [large enough  subnet for Azure RemoteApp](remoteapp-vnetsizing.md).</span></span> <span data-ttu-id="f756d-126">La prise en charge maximale par le réseau virtuel Azure est /8 (avec des définitions de sous-réseau CIDR).</span><span class="sxs-lookup"><span data-stu-id="f756d-126">The largest supported by Azure Virtual network is /8 (using CIDR subnet definitions).</span></span> <span data-ttu-id="f756d-127">Votre sous-réseau doit être suffisamment grand pour contenir toutes les machines virtuelles Azure RemoteApp pendant la mise à l’échelle lorsque plusieurs utilisateurs accèdent aux applications.</span><span class="sxs-lookup"><span data-stu-id="f756d-127">Your subnet should be large enough to accommodate all the Azure RemoteApp VMs during scale-up when more users are accessing the apps.</span></span> 

<span data-ttu-id="f756d-128">Voici les éléments à activer sur votre sous-réseau de réseau virtuel :</span><span class="sxs-lookup"><span data-stu-id="f756d-128">Following are the things you will need to enable on your virtual network subnet:</span></span> 

1. <span data-ttu-id="f756d-129">Le trafic sortant du sous-réseau est affecté à la plage de ports 10101-10175 pour communiquer avec un des services Azure RemoteApp internes.</span><span class="sxs-lookup"><span data-stu-id="f756d-129">Outbound traffic from the subnet should be allowed on port range 10101-10175 to communicate with one of the internal Azure RemoteApp services.</span></span>
2. <span data-ttu-id="f756d-130">Le trafic sortant de votre sous-réseau doit être autorisé à se connecter au stockage Azure sur le port 443</span><span class="sxs-lookup"><span data-stu-id="f756d-130">Outbound traffic should be allowed from your subnet to connect to Azure Storage on port 443</span></span>
3. <span data-ttu-id="f756d-131">Si Active Directory est hébergé dans Azure, assurez-vous que toutes les machines virtuelles dans le sous-réseau de réseau virtuel pour Azure RemoteApp est en mesure de se connecter à ce contrôleur de domaine.</span><span class="sxs-lookup"><span data-stu-id="f756d-131">If you have Active Directory hosted in Azure, make sure any VM within the virtual network subnet for Azure RemoteApp is able to connect to that domain controller.</span></span> <span data-ttu-id="f756d-132">Le serveur DNS du réseau virtuel doit être en mesure de résoudre le nom de domaine complet de ce contrôleur de domaine.</span><span class="sxs-lookup"><span data-stu-id="f756d-132">The DNS in the virtual network should be able to resolve the FQDN of this domain controller.</span></span>

## <a name="virtual-network-with-forced-tunneling"></a><span data-ttu-id="f756d-133">Réseau virtuel avec tunneling forcé</span><span class="sxs-lookup"><span data-stu-id="f756d-133">Virtual network with forced tunneling</span></span>
<span data-ttu-id="f756d-134">[Tunneling forcé](../vpn-gateway/vpn-gateway-about-forced-tunneling.md) est maintenant pris en charge dans toutes les nouvelles collections Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="f756d-134">[Forced tunneling](../vpn-gateway/vpn-gateway-about-forced-tunneling.md) is now supported for all new Azure RemoteApp collections.</span></span> <span data-ttu-id="f756d-135">Actuellement, nous ne gérons pas la migration d’une collection existante pour prendre en charge le tunneling forcé.</span><span class="sxs-lookup"><span data-stu-id="f756d-135">We currently do not support the migration of an existing collection to support forced tunneling.</span></span>  <span data-ttu-id="f756d-136">Vous devez supprimer toutes les collections existantes à l’aide du réseau virtuel que vous associez à Azure RemoteApp et en créer un nouveau pour activer le tunneling sur vos collections.</span><span class="sxs-lookup"><span data-stu-id="f756d-136">You will have to delete all your existing collections using the VNET that you are linking to Azure RemoteApp and create a new one to get forced tunneling enabled on your collections.</span></span> 

