---
title: "Comment rediriger les périphériques USB dans Azure RemoteApp ? | Microsoft Docs"
description: "Apprenez à utiliser la redirection de périphériques USB dans Azure RemoteApp."
services: remoteapp
documentationcenter: 
author: msmbaldwin
manager: mbaldwin
ms.assetid: 191d98af-2f5a-4307-9042-aae0e4049f9f
ms.service: remoteapp
ms.workload: compute
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/26/2017
ms.author: mbaldwin
ms.openlocfilehash: 3d7165d2c3dafe87b829e588b9e7f2c377552a35
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="how-do-you-redirect-usb-devices-in-azure-remoteapp"></a><span data-ttu-id="0cc05-104">Comment rediriger les périphériques USB dans Azure RemoteApp ?</span><span class="sxs-lookup"><span data-stu-id="0cc05-104">How do you redirect USB devices in Azure RemoteApp?</span></span>
> [!IMPORTANT]
> <span data-ttu-id="0cc05-105">Azure RemoteApp ne sera plus disponible à partir du 31 août 2017.</span><span class="sxs-lookup"><span data-stu-id="0cc05-105">Azure RemoteApp is being discontinued on August 31, 2017.</span></span> <span data-ttu-id="0cc05-106">Pour plus d’informations, lisez [l’annonce](https://go.microsoft.com/fwlink/?linkid=821148) .</span><span class="sxs-lookup"><span data-stu-id="0cc05-106">Read the [announcement](https://go.microsoft.com/fwlink/?linkid=821148) for details.</span></span>
> 
> 

<span data-ttu-id="0cc05-107">La redirection de périphérique permet aux utilisateurs d’utiliser les périphériques USB raccordés à leur ordinateur ou à une tablette avec les applications de Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="0cc05-107">Device redirection lets users use the USB devices attached to their computer or tablet with the apps in Azure RemoteApp.</span></span> <span data-ttu-id="0cc05-108">Par exemple, si vous avez partagé Skype via Azure RemoteApp, vos utilisateurs devront être en mesure d’utiliser les caméras de leurs périphériques mobiles.</span><span class="sxs-lookup"><span data-stu-id="0cc05-108">For example, if you shared Skype through Azure RemoteApp, your users need to be able to use their device cameras.</span></span>

<span data-ttu-id="0cc05-109">Avant de poursuivre, assurez-vous de lire les informations de redirection USB dans [Utilisation de la redirection dans Azure RemoteApp](remoteapp-redirection.md).</span><span class="sxs-lookup"><span data-stu-id="0cc05-109">Before you go further, make sure you read the USB redirection information in [Using redirection in Azure RemoteApp](remoteapp-redirection.md).</span></span> <span data-ttu-id="0cc05-110">Toutefois, la commande nusbdevicestoredirect:s:* recommandée ne fonctionne pas pour les webcams USB et peut ne pas fonctionner pour certaines imprimantes USB ou périphériques multifonctions USB.</span><span class="sxs-lookup"><span data-stu-id="0cc05-110">However the recommended  nusbdevicestoredirect:s:* won't work for USB web cameras and may not work for some USB printers or USB multifunctional devices.</span></span> <span data-ttu-id="0cc05-111">Pour des raisons de conception et de sécurité, l’administrateur RemoteApp doit activer la redirection soit par le biais d’un identificateur global unique, soit par un ID d’instance de périphérique avant que vos utilisateurs puissent utiliser ces périphériques.</span><span class="sxs-lookup"><span data-stu-id="0cc05-111">By design and for security reasons, the Azure RemoteApp administrator has to enable redirection either by device class GUID or by device instance ID before your users can use those devices.</span></span>

<span data-ttu-id="0cc05-112">Bien que cet article traite de la redirection de caméra web, vous pouvez utiliser une approche similaire pour rediriger les imprimantes USB et les autres périphériques multifonctions USB qui ne sont pas redirigés par la commande **nusbdevicestoredirect:s:***.</span><span class="sxs-lookup"><span data-stu-id="0cc05-112">Although this article talks about web camera redirection, you can use a similar approach to redirect USB printers and other USB multifunctional devices that are not redirected by the **nusbdevicestoredirect:s:*** command.</span></span>

## <a name="redirection-options-for-usb-devices"></a><span data-ttu-id="0cc05-113">Options de redirection pour périphériques USB</span><span class="sxs-lookup"><span data-stu-id="0cc05-113">Redirection options for USB devices</span></span>
<span data-ttu-id="0cc05-114">RemoteApp Azure utilise les mécanismes très similaires à ceux qui sont disponibles pour les Services Bureau à distance pour rediriger des périphériques USB.</span><span class="sxs-lookup"><span data-stu-id="0cc05-114">Azure RemoteApp uses very similar mechanisms for redirecting USB devices as the ones available for Remote Desktop Services.</span></span> <span data-ttu-id="0cc05-115">La technologie sous-jacente vous permet de choisir la méthode de redirection convenant à un périphérique donné et d’obtenir le meilleur du haut niveau et de la redirection des périphériques USB RemoteFX grâce à la redirection de la commande **usbdevicestoredirect:s :** .</span><span class="sxs-lookup"><span data-stu-id="0cc05-115">The underlying technology lets you choose the correct redirection method for a given device, to get the best of both high-level and RemoteFX USB device redirection using the **usbdevicestoredirect:s:** command.</span></span> <span data-ttu-id="0cc05-116">Cette commande comporte quatre éléments :</span><span class="sxs-lookup"><span data-stu-id="0cc05-116">There are four elements to this command:</span></span>

| <span data-ttu-id="0cc05-117">Ordre de traitement</span><span class="sxs-lookup"><span data-stu-id="0cc05-117">Processing order</span></span> | <span data-ttu-id="0cc05-118">Paramètre</span><span class="sxs-lookup"><span data-stu-id="0cc05-118">Parameter</span></span> | <span data-ttu-id="0cc05-119">Description</span><span class="sxs-lookup"><span data-stu-id="0cc05-119">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="0cc05-120">1</span><span class="sxs-lookup"><span data-stu-id="0cc05-120">1</span></span> |* |<span data-ttu-id="0cc05-121">Sélectionne tous les périphériques non sélectionnés par la redirection de haut niveau.</span><span class="sxs-lookup"><span data-stu-id="0cc05-121">Selects all devices that aren't picked up by high-level redirection.</span></span> <span data-ttu-id="0cc05-122">Remarque : Dès le départ, * ne fonctionne pas pour les webcams USB.</span><span class="sxs-lookup"><span data-stu-id="0cc05-122">Note: By design, * doesn't work for USB web cameras.</span></span> |
| <span data-ttu-id="0cc05-123">{Identificateur global unique}</span><span class="sxs-lookup"><span data-stu-id="0cc05-123">{Device class GUID}</span></span> |<span data-ttu-id="0cc05-124">Sélectionnez tous les périphériques qui correspondent à la classe d’installation de périphérique spécifié.</span><span class="sxs-lookup"><span data-stu-id="0cc05-124">Selects all devices that match the specified device setup class.</span></span> | |
| <span data-ttu-id="0cc05-125">USB\InstanceID</span><span class="sxs-lookup"><span data-stu-id="0cc05-125">USB\InstanceID</span></span> |<span data-ttu-id="0cc05-126">Sélectionne un périphérique USB spécifié pour l’ID d’instance donné.</span><span class="sxs-lookup"><span data-stu-id="0cc05-126">Selects a USB device specified for the given instance ID.</span></span> | |
| <span data-ttu-id="0cc05-127">2</span><span class="sxs-lookup"><span data-stu-id="0cc05-127">2</span></span> |<span data-ttu-id="0cc05-128">-USB\Instance ID</span><span class="sxs-lookup"><span data-stu-id="0cc05-128">-USB\Instance ID</span></span> |<span data-ttu-id="0cc05-129">Supprime les paramètres de redirection du périphérique spécifié.</span><span class="sxs-lookup"><span data-stu-id="0cc05-129">Removes the redirection settings for the specified device.</span></span> |

## <a name="redirecting-a-usb-device-by-using-the-device-class-guid"></a><span data-ttu-id="0cc05-130">Redirection d’un périphérique USB à l’aide du GUID de la classe de périphérique</span><span class="sxs-lookup"><span data-stu-id="0cc05-130">Redirecting a USB device by using the device class GUID</span></span>
<span data-ttu-id="0cc05-131">Il existe deux façons de trouver le GUID de la classe de périphérique qui peut être utilisé pour la redirection de périphérique.</span><span class="sxs-lookup"><span data-stu-id="0cc05-131">There are two ways to find the device class GUID that can be used for redirection.</span></span> 

<span data-ttu-id="0cc05-132">La première option consiste à utiliser les [classes de configuration de périphérique définies par le système à la disposition des fournisseurs](https://msdn.microsoft.com/library/windows/hardware/ff553426.aspx).</span><span class="sxs-lookup"><span data-stu-id="0cc05-132">The first option is to use the [System-Defined Device Setup Classes Available to Vendors](https://msdn.microsoft.com/library/windows/hardware/ff553426.aspx).</span></span> <span data-ttu-id="0cc05-133">Sélectionnez la classe qui correspond le mieux au périphérique connecté à l’ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="0cc05-133">Pick the class that most closely matches the device attached to the local computer.</span></span> <span data-ttu-id="0cc05-134">Pour les appareils photo numériques, il peut s’agir de la classe de périphérique d’acquisition d’image ou de la classe de périphérique de capture vidéo.</span><span class="sxs-lookup"><span data-stu-id="0cc05-134">For digital cameras this could be an Imaging Device class or Video Capture Device class.</span></span> <span data-ttu-id="0cc05-135">Vous devez faire des essais avec les classes de périphériques pour trouver le GUID de classe qui fonctionne avec le périphérique USB connecté localement (dans notre cas, la caméra web).</span><span class="sxs-lookup"><span data-stu-id="0cc05-135">You'll need to do some experimentation with the device classes to find the correct class GUID that works with the locally attached USB device (in our case the web camera).</span></span>

<span data-ttu-id="0cc05-136">Il existe un meilleur moyen, ou une seconde possibilité de trouver le GUID de classe de périphérique spécifique :</span><span class="sxs-lookup"><span data-stu-id="0cc05-136">A better way, or the second option, is to follow these steps to find the specific device class GUID:</span></span>

1. <span data-ttu-id="0cc05-137">Ouvrez le Gestionnaire de périphériques, localisez le périphérique qui va être redirigé, effectuez un clic droit dessus droit, puis ouvrez les propriétés.</span><span class="sxs-lookup"><span data-stu-id="0cc05-137">Open the Device Manager, locate the device that will be redirected and right-click it, and then open the properties.</span></span>
   <span data-ttu-id="0cc05-138">![Ouvrir le Gestionnaire de périphériques](./media/remoteapp-usbredir/ra-devicemanager.png)</span><span class="sxs-lookup"><span data-stu-id="0cc05-138">![Open the Device Manager](./media/remoteapp-usbredir/ra-devicemanager.png)</span></span>
2. <span data-ttu-id="0cc05-139">Sur l’onglet **Détails**, choisissez la propriété **GUID de classe**.</span><span class="sxs-lookup"><span data-stu-id="0cc05-139">On the **Details** tab, choose the property **Class Guid**.</span></span> <span data-ttu-id="0cc05-140">La valeur qui apparaît est le GUID de classe correspondant à ce type de périphérique.</span><span class="sxs-lookup"><span data-stu-id="0cc05-140">The value which appears is the Class GUID for that type of device.</span></span>
   <span data-ttu-id="0cc05-141">![Propriétés de caméra](./media/remoteapp-usbredir/ra-classguid.png)</span><span class="sxs-lookup"><span data-stu-id="0cc05-141">![Camera properties](./media/remoteapp-usbredir/ra-classguid.png)</span></span>
3. <span data-ttu-id="0cc05-142">La valeur GUID de classe permet de rediriger les périphériques qui lui correspondent.</span><span class="sxs-lookup"><span data-stu-id="0cc05-142">Use the Class Guid value to redirect devices that match it.</span></span>

<span data-ttu-id="0cc05-143">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="0cc05-143">For example:</span></span>

        Set-AzureRemoteAppCollection -CollectionName <collection name> -CustomRdpProperty "nusbdevicestoredirect:s:<Class Guid value>"

<span data-ttu-id="0cc05-144">Vous pouvez combiner plusieurs redirections de périphérique dans la même applet de commande.</span><span class="sxs-lookup"><span data-stu-id="0cc05-144">You can combine multiple device redirections in the same cmdlet.</span></span> <span data-ttu-id="0cc05-145">Par exemple, pour rediriger le stockage local et une webcam USB, l’applet de commande se présente comme suit :</span><span class="sxs-lookup"><span data-stu-id="0cc05-145">For example: to redirect local storage and a USB web camera, cmdlet looks like this:</span></span>

        Set-AzureRemoteAppCollection -CollectionName <collection name> -CustomRdpProperty "drivestoredirect:s:*`nusbdevicestoredirect:s:<Class Guid value>"

<span data-ttu-id="0cc05-146">Lorsque vous définissez la redirection de périphérique par GUID de classe, tous les périphériques correspondant à ce GUID de classe dans l’ensemble spécifié sont redirigés.</span><span class="sxs-lookup"><span data-stu-id="0cc05-146">When you set device redirection by class GUID all devices that match that class GUID in the specified collection are redirected.</span></span> <span data-ttu-id="0cc05-147">Par exemple, s’il existe sur le réseau plusieurs ordinateurs qui utilisent les mêmes webcams USB. Vous pouvez exécuter une applet de commande unique pour rediriger toutes les webcams.</span><span class="sxs-lookup"><span data-stu-id="0cc05-147">For example, if there are multiple computers on the local network that have the same USB web cameras, you can run a single cmdlet to redirect all of the web cameras.</span></span>

## <a name="redirecting-a-usb-device-by-using-the-device-instance-id"></a><span data-ttu-id="0cc05-148">Redirection d’un périphérique USB à l’aide de l’ID d’instance du périphérique</span><span class="sxs-lookup"><span data-stu-id="0cc05-148">Redirecting a USB device by using the device instance ID</span></span>
<span data-ttu-id="0cc05-149">Si vous souhaitez un contrôle précis et contrôler la redirection par appareil, vous pouvez utiliser le paramètre de redirection **USB\InstanceID**.</span><span class="sxs-lookup"><span data-stu-id="0cc05-149">If you want more fine-grained control and want to control redirection per device, you can use the **USB\InstanceID** redirection parameter.</span></span>

<span data-ttu-id="0cc05-150">La partie la plus difficile de cette méthode consiste à trouver l’ID d’instance de périphérique USB.</span><span class="sxs-lookup"><span data-stu-id="0cc05-150">The hardest part of this method is finding the USB device instance ID.</span></span> <span data-ttu-id="0cc05-151">Vous devez avoir accès à l’ordinateur et à ce périphérique USB particulier.</span><span class="sxs-lookup"><span data-stu-id="0cc05-151">You'll need access to the computer and the specific USB device.</span></span> <span data-ttu-id="0cc05-152">Exécutez ensuite les opérations qui suivent :</span><span class="sxs-lookup"><span data-stu-id="0cc05-152">Then follow these steps:</span></span>

1. <span data-ttu-id="0cc05-153">Activez la redirection de périphérique dans la Session Bureau à distance, comme décrit dans [Utilisation de mes périphériques et mes ressources dans une session Bureau à distance](http://windows.microsoft.com/en-us/windows7/How-can-I-use-my-devices-and-resources-in-a-Remote-Desktop-session)</span><span class="sxs-lookup"><span data-stu-id="0cc05-153">Enable the device redirection in Remote Desktop Session as described in [How can I use my devices and resources in a Remote Desktop session?](http://windows.microsoft.com/en-us/windows7/How-can-I-use-my-devices-and-resources-in-a-Remote-Desktop-session)</span></span>
2. <span data-ttu-id="0cc05-154">Ouvrez une connexion Bureau à distance, puis cliquez sur **Afficher les options**.</span><span class="sxs-lookup"><span data-stu-id="0cc05-154">Open a Remote Desktop Connection and click **Show Options**.</span></span>
3. <span data-ttu-id="0cc05-155">Cliquez sur **Enregistrer sous** pour enregistrer les paramètres de connexion actuels dans un fichier RDP.</span><span class="sxs-lookup"><span data-stu-id="0cc05-155">Click **Save as** to save the current connection settings to an RDP file.</span></span>  
    <span data-ttu-id="0cc05-156">![Enregistrer les paramètres dans un fichier RDP](./media/remoteapp-usbredir/ra-saveasrdp.png)</span><span class="sxs-lookup"><span data-stu-id="0cc05-156">![Save the settings as an RDP file](./media/remoteapp-usbredir/ra-saveasrdp.png)</span></span>
4. <span data-ttu-id="0cc05-157">Choisissez un nom de fichier et un emplacement, par exemple « MyConnection.rdp » et « Ce PC\Documents », puis enregistrez le fichier.</span><span class="sxs-lookup"><span data-stu-id="0cc05-157">Choose a file name and a location, for example MyConnection.rdp and This PC\Documents, and save the file.</span></span>
5. <span data-ttu-id="0cc05-158">Ouvrez le fichier MyConnection.rdp à l’aide d’un éditeur de texte et recherchez l’ID d’instance du périphérique que vous souhaitez rediriger.</span><span class="sxs-lookup"><span data-stu-id="0cc05-158">Open the MyConnection.rdp file using a text editor and find the instance ID of the device you want to redirect.</span></span>

<span data-ttu-id="0cc05-159">À présent, utilisez l’ID d’instance dans l’applet de commande suivante :</span><span class="sxs-lookup"><span data-stu-id="0cc05-159">Now, use the instance ID in the following cmdlet:</span></span>

    Set-AzureRemoteAppCollection -CollectionName <collection name> -CustomRdpProperty "nusbdevicestoredirect:s: USB\<Device InstanceID value>"



### <a name="help-us-help-you"></a><span data-ttu-id="0cc05-160">Vos commentaires nous aideront à mieux vous servir</span><span class="sxs-lookup"><span data-stu-id="0cc05-160">Help us help you</span></span>
<span data-ttu-id="0cc05-161">Saviez-vous qu’en plus de noter cet article et de rédiger des commentaires ci-dessous, vous pouviez modifier l’article lui-même ?</span><span class="sxs-lookup"><span data-stu-id="0cc05-161">Did you know that in addition to rating this article and making comments down below, you can make changes to the article itself?</span></span> <span data-ttu-id="0cc05-162">Il manque des informations ?</span><span class="sxs-lookup"><span data-stu-id="0cc05-162">Something missing?</span></span> <span data-ttu-id="0cc05-163">Des informations sont erronées ?</span><span class="sxs-lookup"><span data-stu-id="0cc05-163">Something wrong?</span></span> <span data-ttu-id="0cc05-164">Certains passages ne sont pas clairs ?</span><span class="sxs-lookup"><span data-stu-id="0cc05-164">Did I write something that's just confusing?</span></span> <span data-ttu-id="0cc05-165">Faites défiler l’écran vers le haut et cliquez sur **Modifier sur GitHub** pour apporter des modifications. Nous les passerons ensuite en revue, et une fois que nous les aurons confirmées, vos modifications et les améliorations seront visibles ici.</span><span class="sxs-lookup"><span data-stu-id="0cc05-165">Scroll up and click **Edit on GitHub** to make changes - those will come to us for review, and then, once we sign off on them, you'll see your changes and improvements right here.</span></span>

