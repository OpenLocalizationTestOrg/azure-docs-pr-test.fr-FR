---
title: Bonnes pratiques pour StorSimple Virtual Array | Microsoft Docs
description: "Décrit les bonnes pratiques de déploiement et de gestion de la baie virtuelle StorSimple Virtual Array."
services: storsimple
documentationcenter: NA
author: alkohli
manager: timlt
editor: 
ms.assetid: 57ac6eeb-c47c-442d-a5f4-b360d81a76a6
ms.service: storsimple
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/08/2017
ms.author: alkohli
ms.openlocfilehash: 264764c5e9c32574d97beb2cc3c1bb1cfb555568
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/29/2017
---
# <a name="storsimple-virtual-array-best-practices"></a><span data-ttu-id="3a4f1-103">Bonnes pratiques liées à StorSimple Virtual Array</span><span class="sxs-lookup"><span data-stu-id="3a4f1-103">StorSimple Virtual Array best practices</span></span>
## <a name="overview"></a><span data-ttu-id="3a4f1-104">Vue d'ensemble</span><span class="sxs-lookup"><span data-stu-id="3a4f1-104">Overview</span></span>
<span data-ttu-id="3a4f1-105">Microsoft Azure StorSimple Virtual Array est une solution de stockage intégrée qui gère les tâches de stockage entre un appareil virtuel local exécuté dans un hyperviseur et le stockage cloud Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-105">Microsoft Azure StorSimple Virtual Array is an integrated storage solution that manages storage tasks between an on-premises virtual device running in a hypervisor and Microsoft Azure cloud storage.</span></span> <span data-ttu-id="3a4f1-106">StorSimple Virtual Array représente une alternative efficace et économique à la baie de stockage physique de la gamme 8000.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-106">StorSimple Virtual Array is an efficient, cost-effective alternative to the 8000 series physical array.</span></span> <span data-ttu-id="3a4f1-107">La baie virtuelle peut s’exécuter sur votre infrastructure de l’hyperviseur, prend en charge les protocoles SMB et iSCSI, et est adaptée aux scénarios de bureaux distants.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-107">The virtual array can run on your existing hypervisor infrastructure, supports both the iSCSI and the SMB protocols, and is well-suited for remote office/branch office scenarios.</span></span> <span data-ttu-id="3a4f1-108">Pour plus d’informations sur les solutions StorSimple, consultez [Vue d’ensemble de Microsoft Azure StorSimple](https://www.microsoft.com/en-us/server-cloud/products/storsimple/overview.aspx).</span><span class="sxs-lookup"><span data-stu-id="3a4f1-108">For more information on the StorSimple solutions, go to [Microsoft Azure StorSimple Overview](https://www.microsoft.com/en-us/server-cloud/products/storsimple/overview.aspx).</span></span>

<span data-ttu-id="3a4f1-109">Cet article aborde les bonnes pratiques à implémenter au cours de l’installation initiale, du déploiement et de la gestion de la baie virtuelle StorSimple Virtual Array.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-109">This article covers the best practices implemented during the initial setup, deployment, and management of the StorSimple Virtual Array.</span></span> <span data-ttu-id="3a4f1-110">Ces bonnes pratiques fournissent des instructions validées pour l’installation et la gestion de votre baie virtuelle.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-110">These best practices provide validated guidelines for the setup and management of your virtual array.</span></span> <span data-ttu-id="3a4f1-111">Cet article est destiné aux administrateurs informatiques qui déploient et gèrent les baies virtuelles dans leurs centres de données.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-111">This article is targeted towards the IT administrators who deploy and manage the virtual arrays in their datacenters.</span></span>

<span data-ttu-id="3a4f1-112">Nous vous recommandons une révision périodique des bonnes pratiques afin de garantir que votre périphérique est toujours en conformité lorsque des modifications sont apportées au flux des opérations ou au flux d’installation.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-112">We recommend a periodic review of the best practices to help ensure your device is still in compliance when changes are made to the setup or operation flow.</span></span> <span data-ttu-id="3a4f1-113">Si vous rencontrez des problèmes lors de l’implémentation de ces bonnes pratiques sur votre baie virtuelle, [contactez le support Microsoft](storsimple-virtual-array-log-support-ticket.md) pour obtenir une assistance.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-113">Should you encounter any issues while implementing these best practices on your virtual array, [contact Microsoft Support](storsimple-virtual-array-log-support-ticket.md) for assistance.</span></span>

## <a name="configuration-best-practices"></a><span data-ttu-id="3a4f1-114">Bonnes pratiques de configuration</span><span class="sxs-lookup"><span data-stu-id="3a4f1-114">Configuration best practices</span></span>
<span data-ttu-id="3a4f1-115">Ces bonnes pratiques couvrent les instructions à suivre lors de la configuration initiale et du déploiement des baies virtuelles.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-115">These best practices cover the guidelines that need to be followed during the initial setup and deployment of the virtual arrays.</span></span> <span data-ttu-id="3a4f1-116">Elles incluent les bonnes pratiques relatives à l’approvisionnement de la machine virtuelle, aux paramètres de stratégie de groupe, au dimensionnement, au paramétrage de la mise en réseau, à la configuration des comptes de stockage et à la création de partages et de volumes pour la baie virtuelle.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-116">These best practices include those related to the provisioning of the virtual machine, group policy settings, sizing, setting up the networking, configuring storage accounts, and creating shares and volumes for the virtual array.</span></span> 

### <a name="provisioning"></a><span data-ttu-id="3a4f1-117">Approvisionnement</span><span class="sxs-lookup"><span data-stu-id="3a4f1-117">Provisioning</span></span>
<span data-ttu-id="3a4f1-118">StorSimple Virtual Array est une machine virtuelle mise en service sur l’hyperviseur (Hyper-V ou VMware) de votre serveur hôte.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-118">StorSimple Virtual Array is a virtual machine (VM) provisioned on the hypervisor (Hyper-V or VMware) of your host server.</span></span> <span data-ttu-id="3a4f1-119">Lors de l’approvisionnement de la machine virtuelle, assurez-vous que votre hôte est en mesure de dédier des ressources suffisantes.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-119">When provisioning the virtual machine, ensure that your host is able to dedicate sufficient resources.</span></span> <span data-ttu-id="3a4f1-120">Pour plus d’informations, consultez la page [ressources minimales requises](storsimple-virtual-array-deploy2-provision-hyperv.md#step-1-ensure-that-the-host-system-meets-minimum-virtual-array-requirements) pour mettre en service une baie.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-120">For more information, go to [minimum resource requirements](storsimple-virtual-array-deploy2-provision-hyperv.md#step-1-ensure-that-the-host-system-meets-minimum-virtual-array-requirements) to provision an array.</span></span>

<span data-ttu-id="3a4f1-121">Implémentez les bonnes pratiques suivantes lors de l’approvisionnement de la baie virtuelle :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-121">Implement the following best practices when provisioning the virtual array:</span></span>

|  | <span data-ttu-id="3a4f1-122">Hyper-V</span><span class="sxs-lookup"><span data-stu-id="3a4f1-122">Hyper-V</span></span> | <span data-ttu-id="3a4f1-123">VMware</span><span class="sxs-lookup"><span data-stu-id="3a4f1-123">VMware</span></span> |
| --- | --- | --- |
| <span data-ttu-id="3a4f1-124">**Type de machine virtuelle**</span><span class="sxs-lookup"><span data-stu-id="3a4f1-124">**Virtual machine type**</span></span> |<span data-ttu-id="3a4f1-125">**génération 2** à utiliser avec Windows Server 2012 ou version ultérieure et une image *.vhdx* .</span><span class="sxs-lookup"><span data-stu-id="3a4f1-125">**Generation 2** VM for use with Windows Server 2012 or later and a *.vhdx* image.</span></span> <br></br> <span data-ttu-id="3a4f1-126">**génération 1** à utiliser avec un serveur Windows Server 2008 ou version ultérieure et une image *.vhd* .</span><span class="sxs-lookup"><span data-stu-id="3a4f1-126">**Generation 1** VM for use with a Windows Server 2008 or later and a *.vhd* image.</span></span> |<span data-ttu-id="3a4f1-127">Utilisez la machine virtuelle version 8 - 11 lorsque vous utilisez une image *.vmdk* .</span><span class="sxs-lookup"><span data-stu-id="3a4f1-127">Use virtual machine version 8 - 11 when using *.vmdk* image.</span></span> |
| <span data-ttu-id="3a4f1-128">**Type de mémoire**</span><span class="sxs-lookup"><span data-stu-id="3a4f1-128">**Memory type**</span></span> |<span data-ttu-id="3a4f1-129">Configurez-la en tant que **mémoire statique**.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-129">Configure as **static memory**.</span></span> <br></br> <span data-ttu-id="3a4f1-130">N’utilisez pas l’option de **mémoire dynamique** .</span><span class="sxs-lookup"><span data-stu-id="3a4f1-130">Do not use the **dynamic memory** option.</span></span> | |
| <span data-ttu-id="3a4f1-131">**Type de disque de données**</span><span class="sxs-lookup"><span data-stu-id="3a4f1-131">**Data disk type**</span></span> |<span data-ttu-id="3a4f1-132">Sélectionnez **Taille dynamique**.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-132">Provision as **dynamically expanding**.</span></span><br></br> <span data-ttu-id="3a4f1-133">**Taille fixe** prend beaucoup de temps.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-133">**Fixed size** takes a long time.</span></span> <br></br> <span data-ttu-id="3a4f1-134">N’utilisez pas l’option de **différenciation** .</span><span class="sxs-lookup"><span data-stu-id="3a4f1-134">Do not use the **differencing** option.</span></span> |<span data-ttu-id="3a4f1-135">Utilisez l’option **Allocation dynamique** .</span><span class="sxs-lookup"><span data-stu-id="3a4f1-135">Use the **thin provision** option.</span></span> |
| <span data-ttu-id="3a4f1-136">**Modification du disque de données**</span><span class="sxs-lookup"><span data-stu-id="3a4f1-136">**Data disk modification**</span></span> |<span data-ttu-id="3a4f1-137">L’expansion et la réduction ne sont pas autorisées.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-137">Expansion or shrinking is not allowed.</span></span> <span data-ttu-id="3a4f1-138">Une tentative dans ce sens entraîne la perte de toutes les données locales sur l’appareil.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-138">An attempt to do so results in the loss of all the local data on device.</span></span> |<span data-ttu-id="3a4f1-139">L’expansion et la réduction ne sont pas autorisées.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-139">Expansion or shrinking is not allowed.</span></span> <span data-ttu-id="3a4f1-140">Une tentative dans ce sens entraîne la perte de toutes les données locales sur l’appareil.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-140">An attempt to do so results in the loss of all the local data on device.</span></span> |

### <a name="sizing"></a><span data-ttu-id="3a4f1-141">Dimensionnement</span><span class="sxs-lookup"><span data-stu-id="3a4f1-141">Sizing</span></span>
<span data-ttu-id="3a4f1-142">Lorsque vous dimensionnez votre baie virtuelle StorSimple Virtual Array, tenez compte des facteurs suivants :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-142">When sizing your StorSimple Virtual Array, consider the following factors:</span></span>

* <span data-ttu-id="3a4f1-143">Réservation locale pour des volumes ou des partages.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-143">Local reservation for volumes or shares.</span></span> <span data-ttu-id="3a4f1-144">Environ 12 % de l’espace est réservé au niveau local pour chaque volume hiérarchisé et chaque partage à plusieurs niveaux alloué.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-144">Approximately 12% of the space is reserved on the local tier for each provisioned tiered volume or share.</span></span> <span data-ttu-id="3a4f1-145">Environ 10 % de l’espace est également réservé pour un volume épinglé localement pour le système de fichiers.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-145">Roughly 10% of the space is also reserved for a locally pinned volume for file system.</span></span>
* <span data-ttu-id="3a4f1-146">Charge des instantanés.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-146">Snapshot overhead.</span></span> <span data-ttu-id="3a4f1-147">Environ 15 % de l’espace au niveau local est réservé pour les instantanés.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-147">Roughly 15% space on the local tier is reserved for snapshots.</span></span>
* <span data-ttu-id="3a4f1-148">Besoins liés aux restaurations.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-148">Need for restores.</span></span> <span data-ttu-id="3a4f1-149">Si la restauration s’effectue en tant que nouvelle opération, le dimensionnement doit prendre en compte l’espace nécessaire pour la restauration.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-149">If doing restore as a new operation, sizing should account for the space needed for restore.</span></span> <span data-ttu-id="3a4f1-150">La restauration s’effectue sur un partage ou un volume de même taille.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-150">Restore is done to a share or volume of the same size.</span></span>
* <span data-ttu-id="3a4f1-151">Une certaine mémoire tampon doit être allouée pour toute croissance inattendue.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-151">Some buffer should be allocated for any unexpected growth.</span></span>

<span data-ttu-id="3a4f1-152">En fonction des facteurs précédents, les exigences de dimensionnement peuvent être représentées par l’équation suivante :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-152">Based on the preceding factors, the sizing requirements can be represented by the following equation:</span></span>

`Total usable local disk size = (Total provisioned locally pinned volume/share size including space for file system) + (Max (local reservation for a volume/share) for all tiered volumes/share) + (Local reservation for all tiered volumes/shares)`

`Data disk size = Total usable local disk size + Snapshot overhead + buffer for unexpected growth or new share or volume`

<span data-ttu-id="3a4f1-153">Les exemples suivants illustrent la façon de dimensionner une baie virtuelle selon vos besoins.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-153">The following examples illustrate how you can size a virtual array based on your requirements.</span></span>

#### <a name="example-1"></a><span data-ttu-id="3a4f1-154">Exemple 1 :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-154">Example 1:</span></span>
<span data-ttu-id="3a4f1-155">Sur votre baie virtuelle, vous souhaitez être en mesure de</span><span class="sxs-lookup"><span data-stu-id="3a4f1-155">On your virtual array, you want to be able to</span></span>

* <span data-ttu-id="3a4f1-156">configurer un partage ou un volume hiérarchisé de 2 To ;</span><span class="sxs-lookup"><span data-stu-id="3a4f1-156">provision a 2 TB tiered volume or share.</span></span>
* <span data-ttu-id="3a4f1-157">configurer un partage ou un volume hiérarchisé de 1 To ;</span><span class="sxs-lookup"><span data-stu-id="3a4f1-157">provision a 1 TB tiered volume or share.</span></span>
* <span data-ttu-id="3a4f1-158">configurer un partage ou un volume épinglé localement de 300 Go.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-158">provision a 300 GB of locally pinned volume or share.</span></span>

<span data-ttu-id="3a4f1-159">Pour les partages ou volumes précédents, calculons l’espace nécessaire au niveau local.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-159">For the preceding volumes or shares, let us calculate the space requirements on the local tier.</span></span>

<span data-ttu-id="3a4f1-160">Tout d’abord, pour chaque partage/volume hiérarchisé, la réservation locale serait égale à 12 % de la taille du partage/volume.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-160">First, for each tiered volume/share, local reservation would be equal to 12% of the volume/share size.</span></span> <span data-ttu-id="3a4f1-161">Pour le volume/partage épinglé localement, la réservation locale représente 10 % de la taille du volume/partage épinglé localement (en plus de la taille approvisionnée).</span><span class="sxs-lookup"><span data-stu-id="3a4f1-161">For the locally pinned volume/share, local reservation is 10 % of the locally pinned volume/share size (in addition to the provisioned size).</span></span> <span data-ttu-id="3a4f1-162">Dans cet exemple, vous avez besoin</span><span class="sxs-lookup"><span data-stu-id="3a4f1-162">In this example, you need</span></span>

* <span data-ttu-id="3a4f1-163">d’une réservation locale de 240 Go (pour un partage/volume hiérarchisé de 2 To) ;</span><span class="sxs-lookup"><span data-stu-id="3a4f1-163">240 GB local reservation (for a 2 TB tiered volume/share)</span></span>
* <span data-ttu-id="3a4f1-164">d’une réservation locale de 120 Go (pour un partage/volume hiérarchisé de 1 To) ;</span><span class="sxs-lookup"><span data-stu-id="3a4f1-164">120 GB local reservation (for a 1 TB tiered volume/share)</span></span>
* <span data-ttu-id="3a4f1-165">de 330 Go pour le volume ou le partage épinglé localement (en ajoutant 10 % de réservation locale à la taille approvisionnée de 300 Go)</span><span class="sxs-lookup"><span data-stu-id="3a4f1-165">330 GB for locally pinned volume or share (adding 10 % of local reservation to the 300 GB provisioned size)</span></span>

<span data-ttu-id="3a4f1-166">L’espace total requis à ce stade au niveau local est de : 240 Go + 120 Go + 330 Go = 690 Go.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-166">The total space required on the local tier so far is: 240 GB + 120 GB + 330 GB = 690 GB.</span></span>

<span data-ttu-id="3a4f1-167">Deuxièmement, nous avons besoin d’au moins autant d’espace au niveau local que la réservation unique la plus grande.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-167">Second, we need at least as much space on the local tier as the largest single reservation.</span></span> <span data-ttu-id="3a4f1-168">Ce montant supplémentaire est utilisé au cas où il serait nécessaire d’effectuer une restauration à partir d’un instantané cloud.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-168">This extra amount is used in case you need to restore from a cloud snapshot.</span></span> <span data-ttu-id="3a4f1-169">Dans cet exemple, la plus grande réservation locale est de 330 Go (y compris la réservation pour le système de fichiers), donc vous devez l’ajouter aux 690 Go : 690 Go + 330 Go = 1 020 Go.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-169">In this example, the largest local reservation is 330 GB (including reservation for file system), so you would add that to the 690 GB: 690 GB + 330 GB = 1020 GB.</span></span>
<span data-ttu-id="3a4f1-170">Si nous avons effectué des restaurations supplémentaires ultérieures, nous pouvons toujours libérer l’espace utilisé pour l’opération de restauration précédente.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-170">If we performed subsequent additional restores, we can always free up the space from the previous restore operation.</span></span>

<span data-ttu-id="3a4f1-171">Troisièmement, nous avons besoin de 15 % de votre espace local total jusqu’ici pour stocker les instantanés locaux, si bien que 85 % de celui-ci est disponible.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-171">Third, we need 15 % of your total local space so far to store local snapshots, so that only 85% of it is available.</span></span> <span data-ttu-id="3a4f1-172">Dans cet exemple, cela représente environ 1 020 Go = 0,85&ast;To du disque de données configuré.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-172">In this example, that would be around 1020 GB = 0.85&ast;provisioned data disk TB.</span></span> <span data-ttu-id="3a4f1-173">Par conséquent, le disque de données configuré aurait une taille de (1 020&ast;(1/0,85)) = 1 200 Go = 1,20 To ~ 1,25 To (en arrondissant au quartile le plus proche)</span><span class="sxs-lookup"><span data-stu-id="3a4f1-173">So, the provisioned data disk would be (1020&ast;(1/0.85))= 1200 GB = 1.20 TB ~ 1.25 TB (rounding off to nearest quartile)</span></span>

<span data-ttu-id="3a4f1-174">En tenant compte de la croissance inattendue et de nouvelles restaurations, vous devez configurer un disque local d’environ 1,25 - 1,5 To.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-174">Factoring in unexpected growth and new restores, you should provision a local disk of around 1.25 - 1.5 TB.</span></span>

> [!NOTE]
> <span data-ttu-id="3a4f1-175">Nous vous recommandons également de configurer dynamiquement le disque local.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-175">We also recommend that the local disk is thinly provisioned.</span></span> <span data-ttu-id="3a4f1-176">Cette recommandation est due au fait que l’espace de restauration est nécessaire uniquement lorsque vous souhaitez restaurer des données datant de plus de cinq jours.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-176">This recommendation is because the restore space is only needed when you want to restore data that is older than five days.</span></span> <span data-ttu-id="3a4f1-177">La récupération au niveau de l’élément vous permet de restaurer les données des cinq derniers jours sans nécessiter d’espace supplémentaire pour la restauration.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-177">Item-level recovery allows you to restore data for the last five days without requiring the extra space for restore.</span></span>


#### <a name="example-2"></a><span data-ttu-id="3a4f1-178">Exemple 2 :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-178">Example 2:</span></span>
<span data-ttu-id="3a4f1-179">Sur votre baie virtuelle, vous souhaitez être en mesure de</span><span class="sxs-lookup"><span data-stu-id="3a4f1-179">On your virtual array, you want to be able to</span></span>

* <span data-ttu-id="3a4f1-180">configurer un volume hiérarchisé de 2 To ;</span><span class="sxs-lookup"><span data-stu-id="3a4f1-180">provision a 2 TB tiered volume</span></span>
* <span data-ttu-id="3a4f1-181">configurer un volume épinglé localement de 300 Go.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-181">provision a 300 GB locally pinned volume</span></span>

<span data-ttu-id="3a4f1-182">En tenant compte des 12 % de réservation de l’espace local pour les partages/volumes hiérarchisés et des 10 % pour les partages/volumes épinglés localement, nous avons besoin</span><span class="sxs-lookup"><span data-stu-id="3a4f1-182">Based on 12 % of local space reservation for tiered volumes/shares and 10 % for locally pinned volumes/shares, we need</span></span>

* <span data-ttu-id="3a4f1-183">d’une réservation locale de 240 Go (pour un partage/volume hiérarchisé de 2 To) ;</span><span class="sxs-lookup"><span data-stu-id="3a4f1-183">240 GB local reservation (for 2 TB tiered volume/share)</span></span>
* <span data-ttu-id="3a4f1-184">de 330 Go pour le volume ou le partage épinglé localement (en ajoutant 10 % de réservation locale à l’espace approvisionné de 300 Go)</span><span class="sxs-lookup"><span data-stu-id="3a4f1-184">330 GB for locally pinned volume or share (adding 10% of local reservation to the 300 GB provisioned space)</span></span>

<span data-ttu-id="3a4f1-185">L’espace total requis au niveau local est de : 240 Go + 330 Go = 570 Go.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-185">Total space required on the local tier is: 240 GB + 330 GB = 570 GB</span></span>

<span data-ttu-id="3a4f1-186">L’espace local minimal requis pour la restauration est de 330 Go.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-186">The minimum local space needed for restore is 330 GB.</span></span>

<span data-ttu-id="3a4f1-187">15 % de votre disque total sont utilisés pour stocker les instantanés, si bien que seuls 85 % sont disponibles.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-187">15 % of your total disk is used to store snapshots so that only 0.85 is available.</span></span> <span data-ttu-id="3a4f1-188">Ainsi, la taille du disque est de (900&ast;(1/0,85)) = 1,06 To ~ 1,25 To (en arrondissant au quartile le plus proche)</span><span class="sxs-lookup"><span data-stu-id="3a4f1-188">So, the disk size is (900&ast;(1/0.85)) = 1.06 TB ~ 1.25 TB (rounding off to nearest quartile)</span></span>

<span data-ttu-id="3a4f1-189">En tenant compte d’une éventuelle croissance inattendue, vous pouvez configurer un disque local de 1,25 - 1,5 To.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-189">Factoring in any unexpected growth, you can provision a 1.25 - 1.5 TB local disk.</span></span>

### <a name="group-policy"></a><span data-ttu-id="3a4f1-190">Stratégie de groupe</span><span class="sxs-lookup"><span data-stu-id="3a4f1-190">Group policy</span></span>
<span data-ttu-id="3a4f1-191">La stratégie de groupe est une infrastructure qui vous permet d’implémenter des configurations spécifiques pour les utilisateurs et les ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-191">Group Policy is an infrastructure that allows you to implement specific configurations for users and computers.</span></span> <span data-ttu-id="3a4f1-192">Les paramètres de stratégie de groupe sont contenus dans des objets de stratégie de groupe (GPO), qui sont liés aux conteneurs des services de domaine Active Directory (AD DS) suivants : sites, domaines ou unités d’organisation (UO).</span><span class="sxs-lookup"><span data-stu-id="3a4f1-192">Group Policy settings are contained in Group Policy objects (GPOs), which are linked to the following Active Directory Domain Services (AD DS) containers: sites, domains, or organizational units (OUs).</span></span> 

<span data-ttu-id="3a4f1-193">Si votre baie virtuelle est jointe à un domaine, des objets GPO peuvent lui être appliqués.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-193">If your virtual array is domain-joined, GPOs can be applied to it.</span></span> <span data-ttu-id="3a4f1-194">Ces objets de stratégie de groupe peuvent installer des applications, telles qu’un logiciel antivirus, susceptibles d’affecter négativement le fonctionnement de la baie virtuelle StorSimple Virtual Array.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-194">These GPOs can install applications such as an antivirus software that can adversely impact the operation of the StorSimple Virtual Array.</span></span>

<span data-ttu-id="3a4f1-195">Par conséquent, nous vous recommandons de :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-195">Therefore, we recommend that you:</span></span>

* <span data-ttu-id="3a4f1-196">vous assurer que votre baie virtuelle figure dans sa propre unité d’organisation (UO) pour Active Directory ;</span><span class="sxs-lookup"><span data-stu-id="3a4f1-196">Ensure that your virtual array is in its own organizational unit (OU) for Active Directory.</span></span>
* <span data-ttu-id="3a4f1-197">vous assurer qu’aucun objet de stratégie de groupe (GPO) n’est appliqué à votre baie virtuelle.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-197">Make sure that no group policy objects (GPOs) are applied to your virtual array.</span></span> <span data-ttu-id="3a4f1-198">Vous pouvez bloquer l’héritage pour vous assurer que la baie virtuelle (nœud enfant) n’hérite pas automatiquement des objets de stratégie de groupe du parent.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-198">You can block inheritance to ensure that the virtual array (child node) does not automatically inherit any GPOs from the parent.</span></span> <span data-ttu-id="3a4f1-199">Pour plus d'informations, consultez la page [Bloquer l’héritage](https://technet.microsoft.com/library/cc731076.aspx).</span><span class="sxs-lookup"><span data-stu-id="3a4f1-199">For more information, go to [block inheritance](https://technet.microsoft.com/library/cc731076.aspx).</span></span>

### <a name="networking"></a><span data-ttu-id="3a4f1-200">Mise en réseau</span><span class="sxs-lookup"><span data-stu-id="3a4f1-200">Networking</span></span>
<span data-ttu-id="3a4f1-201">La configuration réseau de votre baie virtuelle s’effectue via l’interface utilisateur web locale.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-201">The network configuration for your virtual array is done through the local web UI.</span></span> <span data-ttu-id="3a4f1-202">Une interface réseau virtuelle est activée via l’hyperviseur dans lequel la baie virtuelle est mise en service.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-202">A virtual network interface is enabled through the hypervisor in which the virtual array is provisioned.</span></span> <span data-ttu-id="3a4f1-203">Utilisez la page [Paramètres réseau](storsimple-virtual-array-deploy3-fs-setup.md) pour configurer l’adresse IP, le sous-réseau et la passerelle de l’interface réseau virtuelle.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-203">Use the [Network Settings](storsimple-virtual-array-deploy3-fs-setup.md) page to configure the virtual network interface IP address, subnet, and gateway.</span></span>  <span data-ttu-id="3a4f1-204">Vous pouvez également configurer les serveurs DNS principal et secondaire, les paramètres de temps et les paramètres proxy facultatifs de votre appareil.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-204">You can also configure the primary and secondary DNS server, time settings, and optional proxy settings for your device.</span></span> <span data-ttu-id="3a4f1-205">La plus grande partie de la configuration réseau correspond à une installation unique.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-205">Most of the network configuration is a one-time setup.</span></span> <span data-ttu-id="3a4f1-206">Examinez la [configuration requise de mise en réseau pour StorSimple](storsimple-ova-system-requirements.md#networking-requirements) avant de déployer la baie virtuelle.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-206">Review the [StorSimple networking requirements](storsimple-ova-system-requirements.md#networking-requirements) prior to deploying the virtual array.</span></span>

<span data-ttu-id="3a4f1-207">Lorsque vous déployez une baie virtuelle, nous vous recommandons d’appliquer les bonnes pratiques suivantes :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-207">When deploying your virtual array, we recommend that you follow these best practices:</span></span>

* <span data-ttu-id="3a4f1-208">Assurez-vous que le réseau dans lequel la baie virtuelle est déployée a toujours la capacité de dédier une bande passante Internet de 5 Mbits/s (ou plus).</span><span class="sxs-lookup"><span data-stu-id="3a4f1-208">Ensure that the network in which the virtual array is deployed always has the capacity to dedicate 5 Mbps Internet bandwidth (or more).</span></span>
  
  * <span data-ttu-id="3a4f1-209">La bande passante Internet requise varie selon les caractéristiques de votre charge de travail et le taux de modification des données.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-209">Internet bandwidth need varies depending on your workload characteristics and the rate of data change.</span></span>
  * <span data-ttu-id="3a4f1-210">La modification des données qui peut être gérée est directement proportionnelle à la bande passante Internet.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-210">The data change that can be handled is directly proportional to your Internet bandwidth.</span></span> <span data-ttu-id="3a4f1-211">Par exemple, lorsque vous effectuez une sauvegarde, une bande passante de 5 Mbits/s peut prendre en charge une modification des données d’environ 18 Go en 8 heures.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-211">As an example when taking a backup, a 5 Mbps bandwidth can accommodate a data change of around 18 GB in 8 hours.</span></span> <span data-ttu-id="3a4f1-212">Avec une bande passante quatre fois supérieure (20 Mbits/s), vous pouvez gérer une modification des données quatre fois supérieure (72 Go).</span><span class="sxs-lookup"><span data-stu-id="3a4f1-212">With four times more bandwidth (20 Mbps), you can handle four times more data change (72 GB).</span></span>
* <span data-ttu-id="3a4f1-213">Vérifiez que la connectivité Internet est disponible en permanence.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-213">Ensure connectivity to the Internet is always available.</span></span> <span data-ttu-id="3a4f1-214">Des connexions Internet sporadiques ou non fiables pour les appareils peuvent entraîner une perte d’accès aux données dans le cloud et peuvent aboutir à une configuration non prise en charge.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-214">Sporadic or unreliable Internet connections to the devices may result in a loss of access to data in the cloud and could result in an unsupported configuration.</span></span>
* <span data-ttu-id="3a4f1-215">Si vous envisagez de déployer votre appareil en tant que serveur iSCSI :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-215">If you plan to deploy your device as an iSCSI server:</span></span>
  
  * <span data-ttu-id="3a4f1-216">Nous vous recommandons de désactiver l’option **Obtenir automatiquement une adresse IP** (DHCP).</span><span class="sxs-lookup"><span data-stu-id="3a4f1-216">We recommend that you disable the **Get IP address automatically** option (DHCP).</span></span>
  * <span data-ttu-id="3a4f1-217">Configurez des adresses IP statiques.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-217">Configure static IP addresses.</span></span> <span data-ttu-id="3a4f1-218">Vous devez configurer un serveur DNS principal et un serveur DNS secondaire.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-218">You must configure a primary and a secondary DNS server.</span></span>
  * <span data-ttu-id="3a4f1-219">Si vous définissez plusieurs interfaces réseau sur votre baie virtuelle, seule la première interface réseau (par défaut, il s’agit d’ **Ethernet**) peut atteindre le cloud.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-219">If defining multiple network interfaces on your virtual array, only the first network interface (by default, this interface is **Ethernet**) can reach the cloud.</span></span> <span data-ttu-id="3a4f1-220">Pour contrôler le type de trafic, vous pouvez créer plusieurs interfaces réseau virtuelles sur votre baie virtuelle (configurée comme un serveur iSCSI) et les connecter aux différents sous-réseaux.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-220">To control the type of traffic, you can create multiple virtual network interfaces on your virtual array (configured as an iSCSI server) and connect those interfaces to different subnets.</span></span>
* <span data-ttu-id="3a4f1-221">Pour limiter uniquement la bande passante cloud (utilisée par la baie virtuelle), configurez la limitation sur le routeur ou le pare-feu.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-221">To throttle the cloud bandwidth only (used by the virtual array), configure throttling on the router or the firewall.</span></span> <span data-ttu-id="3a4f1-222">Si vous définissez la limitation dans votre hyperviseur, il limite tous les protocoles, y compris iSCSI et SMB, et non pas simplement la bande passante cloud.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-222">If you define throttling in your hypervisor, it will throttle all the protocols including iSCSI and SMB instead of just the cloud bandwidth.</span></span>
* <span data-ttu-id="3a4f1-223">Assurez-vous que la synchronisation date/heure des hyperviseurs est activée.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-223">Ensure that time synchronization for hypervisors is enabled.</span></span> <span data-ttu-id="3a4f1-224">Si vous utilisez Hyper-V, sélectionnez votre baie virtuelle dans le Gestionnaire Hyper-V, accédez à **Paramètres &gt; Services d’intégration** et assurez-vous que l’option **Synchronisation date/heure** est activée.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-224">If using Hyper-V, select your virtual array in the Hyper-V Manager, go to **Settings &gt; Integration Services**, and ensure that the **Time synchronization** is checked.</span></span>

### <a name="storage-accounts"></a><span data-ttu-id="3a4f1-225">Comptes de stockage</span><span class="sxs-lookup"><span data-stu-id="3a4f1-225">Storage accounts</span></span>
<span data-ttu-id="3a4f1-226">Une baie virtuelle StorSimple Virtual Array peut être associée à un compte de stockage unique.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-226">StorSimple Virtual Array can be associated with a single storage account.</span></span> <span data-ttu-id="3a4f1-227">Ce compte de stockage peut être un compte de stockage généré automatiquement, un compte figurant dans le même abonnement que le service, ou un compte de stockage associé à un autre abonnement.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-227">This storage account could be an automatically generated storage account, an account in the same subscription as the service, or a storage account related to another subscription.</span></span> <span data-ttu-id="3a4f1-228">Pour plus d'informations, découvrez comment [gérer des comptes de stockage pour votre baie virtuelle](storsimple-virtual-array-manage-storage-accounts.md).</span><span class="sxs-lookup"><span data-stu-id="3a4f1-228">For more information, see how to [manage storage accounts for your virtual array](storsimple-virtual-array-manage-storage-accounts.md).</span></span>

<span data-ttu-id="3a4f1-229">Utilisez les recommandations suivantes pour les comptes de stockage associés à votre baie virtuelle.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-229">Use the following recommendations for storage accounts associated with your virtual array.</span></span>

* <span data-ttu-id="3a4f1-230">Lorsque vous liez plusieurs baies virtuelles à un compte de stockage unique, tenez compte de la capacité maximale (64 To) d’une baie virtuelle et de la taille maximale (500 To) d’un compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-230">When linking multiple virtual arrays with a single storage account, factor in the maximum capacity (64 TB) for a virtual array and the maximum size (500 TB) for a storage account.</span></span> <span data-ttu-id="3a4f1-231">Cela limite le nombre de baies virtuelles pleinement dimensionnées pouvant être associées au compte de stockage à environ 7.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-231">This limits the number of full-sized virtual arrays that can be associated with that storage account to about 7.</span></span>
* <span data-ttu-id="3a4f1-232">Lors de la création d’un compte de stockage</span><span class="sxs-lookup"><span data-stu-id="3a4f1-232">When creating a new storage account</span></span>
  
  * <span data-ttu-id="3a4f1-233">Nous vous recommandons de le créer dans la région la plus proche du bureau distant où votre baie virtuelle StorSimple Virtual Array est déployée, pour réduire au maximum la latence.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-233">We recommend that you create it in the region closest to the remote office/branch office where your StorSimple Virtual Array is deployed to minimize latencies.</span></span>
  * <span data-ttu-id="3a4f1-234">N’oubliez pas que vous ne pouvez pas déplacer un compte de stockage d’une région à une autre.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-234">Bear in mind that you cannot move a storage account across different regions.</span></span> <span data-ttu-id="3a4f1-235">De plus, vous ne pouvez pas déplacer un service d’un abonnement à un autre.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-235">Also you cannot move a service across subscriptions.</span></span>
  * <span data-ttu-id="3a4f1-236">Utilisez un compte de stockage qui met en œuvre la redondance entre les centres de données.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-236">Use a storage account that implements redundancy between the datacenters.</span></span> <span data-ttu-id="3a4f1-237">Le stockage géoredondant (GRS), le stockage redondant dans une zone (ZRS) et le stockage localement redondant (LRS) sont tous pris en charge avec votre baie virtuelle.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-237">Geo-Redundant Storage (GRS), Zone Redundant Storage (ZRS), and Locally Redundant Storage (LRS) are all supported for use with your virtual array.</span></span> <span data-ttu-id="3a4f1-238">Pour plus d’informations sur les différents types de comptes de stockage, consultez la page [Réplication du stockage Azure](../storage/common/storage-redundancy.md).</span><span class="sxs-lookup"><span data-stu-id="3a4f1-238">For more information on the different types of storage accounts, go to [Azure storage replication](../storage/common/storage-redundancy.md).</span></span>

### <a name="shares-and-volumes"></a><span data-ttu-id="3a4f1-239">Partages et volumes</span><span class="sxs-lookup"><span data-stu-id="3a4f1-239">Shares and volumes</span></span>
<span data-ttu-id="3a4f1-240">Pour votre baie virtuelle StorSimple Virtual Array, vous pouvez mettre en service des partages lorsqu’elle est configurée comme un serveur de fichiers et des volumes lorsqu’elle est configurée comme un serveur iSCSI.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-240">For your StorSimple Virtual Array, you can provision shares when it is configured as a file server and volumes when configured as an iSCSI server.</span></span> <span data-ttu-id="3a4f1-241">Les bonnes pratiques permettant la création de partages et de volumes sont associées à la taille et au type configuré.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-241">The best practices for creating shares and volumes are related to the size and the type configured.</span></span>

#### <a name="volumeshare-size"></a><span data-ttu-id="3a4f1-242">Taille des volumes/partages</span><span class="sxs-lookup"><span data-stu-id="3a4f1-242">Volume/Share size</span></span>
<span data-ttu-id="3a4f1-243">Sur votre baie virtuelle, vous pouvez mettre en service des partages lorsqu’elle est configurée comme un serveur de fichiers et des volumes lorsqu’elle est configurée comme un serveur iSCSI.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-243">On your virtual array, you can provision shares when it is configured as a file server and volumes when configured as an iSCSI server.</span></span> <span data-ttu-id="3a4f1-244">Les bonnes pratiques permettant la création de partages et de volumes sont associées à la taille et au type configuré.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-244">The best practices for creating shares and volumes relate to the size and the type configured.</span></span> 

<span data-ttu-id="3a4f1-245">Gardez à l’esprit les bonnes pratiques suivantes lors de l’approvisionnement des partages ou des volumes sur votre appareil virtuel.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-245">Keep in mind the following best practices when provisioning shares or volumes on your virtual device.</span></span>

* <span data-ttu-id="3a4f1-246">La taille des fichiers par rapport à la taille configurée d’un partage hiérarchisé peut affecter les performances de hiérarchisation.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-246">The file sizes relative to the provisioned size of a tiered share can impact the tiering performance.</span></span> <span data-ttu-id="3a4f1-247">L'utilisation de fichiers volumineux peut entraîner une montée en charge lente. Lorsque vous utilisez des fichiers volumineux, vérifiez que la taille du plus grand fichier est inférieure à 3 % de la taille du partage.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-247">Working with large files could result in a slow tier out. When working with large files, we recommend that the largest file is smaller than 3% of the share size.</span></span>
* <span data-ttu-id="3a4f1-248">Au plus, 16 volumes/partages peuvent être créés sur la baie virtuelle.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-248">A maximum of 16 volumes/shares can be created on the virtual array.</span></span> <span data-ttu-id="3a4f1-249">Pour les limites de taille des volumes/partages attachés localement et à plusieurs niveaux, reportez-vous toujours aux [limites de StorSimple Virtual Array](storsimple-ova-limits.md).</span><span class="sxs-lookup"><span data-stu-id="3a4f1-249">For the size limits of the locally pinned and tiered volumes/shares, always refer to the [StorSimple Virtual Array limits](storsimple-ova-limits.md).</span></span>
* <span data-ttu-id="3a4f1-250">Lorsque vous créez un volume, tenez compte de la consommation des données attendue, ainsi que de la croissance future.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-250">When creating a volume, factor in the expected data consumption as well as future growth.</span></span> <span data-ttu-id="3a4f1-251">Il ne sera pas possible de développer le volume par la suite.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-251">The volume cannot be expanded later.</span></span>
* <span data-ttu-id="3a4f1-252">Une fois que le volume a été créé, vous ne pouvez pas réduire la taille du volume sur StorSimple.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-252">Once the volume has been created, you cannot shrink the size of the volume on StorSimple.</span></span>
* <span data-ttu-id="3a4f1-253">Lors de l’écriture sur un volume hiérarchisé sur StorSimple, lorsque les données du volume atteignent un certain seuil (par rapport à l’espace local réservé pour le volume), les E/S sont limitées.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-253">When writing to a tiered volume on StorSimple, when the volume data reaches a certain threshold (relative to the local space reserved for the volume), the IO is throttled.</span></span> <span data-ttu-id="3a4f1-254">Continuer à écrire sur ce volume ralentit considérablement les E/S.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-254">Continuing to write to this volume slows down the IO significantly.</span></span> <span data-ttu-id="3a4f1-255">Bien que vous puissiez écrire sur un volume hiérarchisé au-delà de sa capacité déployée (nous n’empêchons pas activement l’utilisateur d’écrire au-delà de la capacité déployée), une notification d’alerte apparaît lorsque vous effectuez une demande trop importante.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-255">Though you can write to a tiered volume beyond its provisioned capacity (we do not actively stop the user from writing beyond the provisioned capacity), you see an alert notification to the effect that you have oversubscribed.</span></span> <span data-ttu-id="3a4f1-256">Quand cette alerte apparaît, il est impératif de prendre des mesures correctives, en supprimant par exemple les données du volume (l’expansion des volumes n’est pas prise en charge actuellement).</span><span class="sxs-lookup"><span data-stu-id="3a4f1-256">Once you see the alert, it is imperative that you take remedial measures such as delete the volume data (volume expansion is currently not supported).</span></span>
* <span data-ttu-id="3a4f1-257">Pour les cas d’utilisation liés à la récupération d’urgence, comme le nombre de partages/volumes autorisés est de 16 et que le nombre maximal de partages/volumes pouvant être traités en parallèle est également de 16, le nombre de partages/volumes n’a pas d’incidence sur vos RPO et RTO.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-257">For disaster recovery use cases, as the number of allowable shares/volumes is 16 and the maximum number of shares/volumes that can be processed in parallel is also 16, the number of shares/volumes does not have a bearing on your RPO and RTOs.</span></span>

#### <a name="volumeshare-type"></a><span data-ttu-id="3a4f1-258">Type de volume/partage</span><span class="sxs-lookup"><span data-stu-id="3a4f1-258">Volume/Share type</span></span>
<span data-ttu-id="3a4f1-259">StorSimple prend en charge deux types de volume/partage en fonction de l’utilisation : épinglés localement et hiérarchisés.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-259">StorSimple supports two volume/share types based on the usage: locally pinned and tiered.</span></span> <span data-ttu-id="3a4f1-260">Les volumes/partages épinglés localement sont alloués statiquement tandis que les volumes/partages hiérarchisés sont alloués dynamiquement.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-260">Locally pinned volumes/shares are thickly provisioned whereas the tiered volumes/shares are thinly provisioned.</span></span> <span data-ttu-id="3a4f1-261">Une fois crée, il est impossible de convertir un volume/partage épinglé localement en un volume/partage hiérarchisé et *inversement*.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-261">You cannot convert a locally pinned volume/share to tiered or *vice versa* once created.</span></span>

<span data-ttu-id="3a4f1-262">Nous vous recommandons d’implémenter les bonnes pratiques suivantes lors de la configuration de volumes/partages StorSimple :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-262">We recommend that you implement the following best practices when configuring StorSimple volumes/shares:</span></span>

* <span data-ttu-id="3a4f1-263">Identifiez le type de volume en fonction des charges de travail que vous envisagez de déployer avant de créer un volume.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-263">Identify the volume type based on the workloads that you intend to deploy before you create a volume.</span></span> <span data-ttu-id="3a4f1-264">Utilisez des volumes épinglés localement pour les charges de travail qui requièrent des garanties locales de données (même pendant une panne du cloud) et qui nécessitent de faibles temps de latence du cloud.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-264">Use locally pinned volumes for workloads that require local guarantees of data (even during a cloud outage) and that require low cloud latencies.</span></span> <span data-ttu-id="3a4f1-265">Une fois que vous avez créé un volume sur votre baie virtuelle, vous ne pouvez pas modifier le type de volume en remplaçant le type épinglé localement par le type hiérarchisé, ou *inversement*.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-265">Once you create a volume on your virtual array, you cannot change the volume type from locally pinned to tiered or *vice-versa*.</span></span> <span data-ttu-id="3a4f1-266">Par exemple, créez des volumes épinglés localement lors du déploiement de charges de travail SQL ou de charges de travail hébergeant des machines virtuelles ; utilisez des volumes hiérarchisés pour des charges de travail de partage de fichiers.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-266">As an example, create locally pinned volumes when deploying SQL workloads or workloads hosting virtual machines (VMs); use tiered volumes for file share workloads.</span></span>
* <span data-ttu-id="3a4f1-267">Activez l’option pour les données d’archivage moins fréquemment utilisées lors du traitement de fichiers volumineux.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-267">Check the option for less frequently used archival data when dealing with large file sizes.</span></span> <span data-ttu-id="3a4f1-268">Une plus grande taille de segment de déduplication de 512 Ko est utilisée lorsque cette option est activée, afin d’accélérer le transfert des données vers le cloud.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-268">A larger deduplication chunk size of 512 K is used when this option is enabled to expedite the data transfer to the cloud.</span></span>

#### <a name="volume-format"></a><span data-ttu-id="3a4f1-269">Format des volumes</span><span class="sxs-lookup"><span data-stu-id="3a4f1-269">Volume format</span></span>
<span data-ttu-id="3a4f1-270">Après avoir créé des volumes StorSimple sur votre serveur iSCSI, vous devez initialiser, monter et formater ces volumes.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-270">After you create StorSimple volumes on your iSCSI server, you need to initialize, mount, and format the volumes.</span></span> <span data-ttu-id="3a4f1-271">Cette opération est effectuée sur l’hôte connecté à votre appareil StorSimple.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-271">This operation is performed on the host connected to your StorSimple device.</span></span> <span data-ttu-id="3a4f1-272">Les bonnes pratiques suivantes sont recommandées lors du montage et du formatage des volumes sur l’hôte StorSimple.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-272">Following best practices are recommended when mounting and formatting volumes on the StorSimple host.</span></span>

* <span data-ttu-id="3a4f1-273">Effectuez un formatage rapide sur tous les volumes StorSimple.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-273">Perform a quick format on all StorSimple volumes.</span></span>
* <span data-ttu-id="3a4f1-274">Lorsque vous formatez un volume StorSimple, utilisez une taille d’unité d’allocation de 64 Ko (la valeur par défaut est de 4 Ko).</span><span class="sxs-lookup"><span data-stu-id="3a4f1-274">When formatting a StorSimple volume, use an allocation unit size (AUS) of 64 KB (default is 4 KB).</span></span> <span data-ttu-id="3a4f1-275">La taille d’unité d’allocation de 64 Ko est basée sur les tests effectués en interne pour les charges de travail StorSimple courantes et d’autres charges de travail.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-275">The 64 KB AUS is based on testing done in-house for common StorSimple workloads and other workloads.</span></span>
* <span data-ttu-id="3a4f1-276">Lorsque vous utilisez la baie virtuelle StorSimple Virtual Array configurée comme un serveur iSCSI, n’utilisez pas de volumes fractionnés ni de disques dynamiques, car ceux-ci ne sont pas pris en charge par StorSimple.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-276">When using the StorSimple Virtual Array configured as an iSCSI server, do not use spanned volumes or dynamic disks as these volumes or disks are not supported by StorSimple.</span></span>

#### <a name="share-access"></a><span data-ttu-id="3a4f1-277">Accès aux partages</span><span class="sxs-lookup"><span data-stu-id="3a4f1-277">Share access</span></span>
<span data-ttu-id="3a4f1-278">Lorsque vous créez des partages sur le serveur de fichiers de votre baie virtuelle, suivez ces instructions :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-278">When creating shares on your virtual array file server, follow these guidelines:</span></span>

* <span data-ttu-id="3a4f1-279">Lorsque vous créez un partage, affectez un groupe d’utilisateurs en tant qu’administrateur de partage à la place d’un utilisateur individuel.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-279">When creating a share, assign a user group as a share administrator instead of a single user.</span></span>
* <span data-ttu-id="3a4f1-280">Vous pouvez gérer les autorisations NTFS après la création du partage en modifiant les partages via l’Explorateur Windows.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-280">You can manage the NTFS permissions after the share is created by editing the shares through Windows Explorer.</span></span>

#### <a name="volume-access"></a><span data-ttu-id="3a4f1-281">Accès aux volumes</span><span class="sxs-lookup"><span data-stu-id="3a4f1-281">Volume access</span></span>
<span data-ttu-id="3a4f1-282">Lorsque vous configurez les volumes iSCSI sur votre baie virtuelle StorSimple Virtual Array, il est important de contrôler l’accès chaque fois que nécessaire.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-282">When configuring the iSCSI volumes on your StorSimple Virtual Array, it is important to control access wherever necessary.</span></span> <span data-ttu-id="3a4f1-283">Afin de déterminer quels serveurs hôtes peuvent accéder aux volumes, créez et associez des enregistrements de contrôle d’accès (ACR) aux volumes StorSimple.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-283">To determine which host servers can access volumes, create, and associate access control records (ACRs) with StorSimple volumes.</span></span>

<span data-ttu-id="3a4f1-284">Utilisez les bonnes pratiques suivantes lors de la configuration d’ACR pour les volumes StorSimple :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-284">Use the following best practices when configuring ACRs for StorSimple volumes:</span></span>

* <span data-ttu-id="3a4f1-285">Associez toujours au moins un ACR à un volume.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-285">Always associate at least one ACR with a volume.</span></span>

* <span data-ttu-id="3a4f1-286">Lorsque vous attribuez plusieurs ACR à un volume, veillez à ce que ce volume ne soit pas exposé de façon à ce que plusieurs hôtes non-cluster puissent y accéder simultanément.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-286">When assigning more than one ACR to a volume, ensure that the volume is not exposed in a way where it can be concurrently accessed by more than one non-clustered host.</span></span> <span data-ttu-id="3a4f1-287">Si vous avez affecté plusieurs ACR à un volume, un message d’avertissement s’affiche pour vous inviter à vérifier votre configuration.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-287">If you have assigned multiple ACRs to a volume, a warning message pops up for you to review your configuration.</span></span>

### <a name="data-security-and-encryption"></a><span data-ttu-id="3a4f1-288">Chiffrement et sécurité des données</span><span class="sxs-lookup"><span data-stu-id="3a4f1-288">Data security and encryption</span></span>
<span data-ttu-id="3a4f1-289">Votre baie virtuelle StorSimple Virtual Array a des fonctionnalités de chiffrement et de sécurité des données qui garantissent la confidentialité et l’intégrité de vos données.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-289">Your StorSimple Virtual Array has data security and encryption features that ensure the confidentiality and integrity of your data.</span></span> <span data-ttu-id="3a4f1-290">Lorsque vous utilisez ces fonctionnalités, nous vous recommandons de suivre ces bonnes pratiques :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-290">When using these features, it is recommended that you follow these best practices:</span></span> 

* <span data-ttu-id="3a4f1-291">Définissez une clé de chiffrement de stockage cloud pour générer un chiffrement AES-256 avant l’envoi des données de votre baie virtuelle vers le cloud.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-291">Define a cloud storage encryption key to generate AES-256 encryption before the data is sent from your virtual array to the cloud.</span></span> <span data-ttu-id="3a4f1-292">Cette clé n’est pas requise si vos données sont chiffrées dès le départ.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-292">This key is not required if your data is encrypted to begin with.</span></span> <span data-ttu-id="3a4f1-293">La clé peut être générée et protégée à l’aide d’un système de gestion de clés tel qu’ [Azure Key Vault](../key-vault/key-vault-whatis.md).</span><span class="sxs-lookup"><span data-stu-id="3a4f1-293">The key can be generated and kept safe using a key management system such as [Azure key vault](../key-vault/key-vault-whatis.md).</span></span>
* <span data-ttu-id="3a4f1-294">Lorsque vous configurez le compte de stockage via le service StorSimple Manager, veillez à activer le mode SSL pour créer un canal sécurisé pour la communication réseau entre votre appareil StorSimple et le cloud.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-294">When configuring the storage account via the StorSimple Manager service, make sure that you enable the SSL mode to create a secure channel for network communication between your StorSimple device and the cloud.</span></span>
* <span data-ttu-id="3a4f1-295">Régénérez les clés de vos comptes de stockage (en accédant au service Stockage Azure) régulièrement pour prendre en compte toutes les modifications de l’accès en fonction de la liste modifiée des administrateurs.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-295">Regenerate the keys for your storage accounts (by accessing the Azure Storage service) periodically to account for any changes to access based on the changed list of administrators.</span></span>
* <span data-ttu-id="3a4f1-296">Les données figurant sur votre baie virtuelle sont compressées et dédupliquées avant leur envoi vers Azure.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-296">Data on your virtual array is compressed and deduplicated before it is sent to Azure.</span></span> <span data-ttu-id="3a4f1-297">Nous ne recommandons pas l’utilisation du service de rôle Déduplication des données sur votre hôte Windows Server.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-297">We don't recommend using the Data Deduplication role service on your Windows Server host.</span></span>

## <a name="operational-best-practices"></a><span data-ttu-id="3a4f1-298">Bonnes pratiques opérationnelles</span><span class="sxs-lookup"><span data-stu-id="3a4f1-298">Operational best practices</span></span>
<span data-ttu-id="3a4f1-299">Les bonnes pratiques opérationnelles sont des instructions à suivre lors de la gestion ou de l’exploitation quotidienne de la baie virtuelle.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-299">The operational best practices are guidelines that should be followed during the day-to-day management or operation of the virtual array.</span></span> <span data-ttu-id="3a4f1-300">Elles couvrent des tâches de gestion spécifiques telles que la réalisation de sauvegardes, la restauration à partir d’un jeu de sauvegarde, la réalisation d’un basculement, la désactivation et la suppression de la baie, l’analyse de l’intégrité et de l’utilisation du système, et l’exécution d’analyses antivirus sur votre baie virtuelle.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-300">These practices cover specific management tasks such as taking backups, restoring from a backup set, performing a failover, deactivating and deleting the array, monitoring system usage and health, and running virus scans on your virtual array.</span></span>

### <a name="backups"></a><span data-ttu-id="3a4f1-301">Sauvegardes</span><span class="sxs-lookup"><span data-stu-id="3a4f1-301">Backups</span></span>
<span data-ttu-id="3a4f1-302">Les données figurant sur votre baie virtuelle sont sauvegardées dans le cloud de deux manières, via une sauvegarde quotidienne par défaut automatisée de l’ensemble de l’appareil commençant à 22h30 et via une sauvegarde manuelle à la demande.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-302">The data on your virtual array is backed up to the cloud in two ways, a default automated daily backup of the entire device starting at 22:30 or via a manual on-demand backup.</span></span> <span data-ttu-id="3a4f1-303">Par défaut, l’appareil crée automatiquement des instantanés cloud quotidiens de toutes les données résidant sur ce dernier.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-303">By default, the device automatically creates daily cloud snapshots of all the data residing on it.</span></span> <span data-ttu-id="3a4f1-304">Pour plus d’informations, consultez la page [Sauvegarder votre StorSimple Virtual Array](storsimple-virtual-array-backup.md).</span><span class="sxs-lookup"><span data-stu-id="3a4f1-304">For more information, go to [back up your StorSimple Virtual Array](storsimple-virtual-array-backup.md).</span></span>

<span data-ttu-id="3a4f1-305">Il est impossible de modifier la fréquence et la rétention associées aux sauvegardes par défaut, mais vous pouvez configurer l’heure à laquelle les sauvegardes quotidiennes sont lancées chaque jour.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-305">The frequency and retention associated with the default backups cannot be changed but you can configure the time at which the daily backups are initiated every day.</span></span> <span data-ttu-id="3a4f1-306">Lorsque vous configurez l’heure de début des sauvegardes automatisées, nous vous recommandons de procéder comme suit :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-306">When configuring the start time for the automated backups, we recommend that:</span></span>

* <span data-ttu-id="3a4f1-307">Planifiez vos sauvegardes pendant les heures creuses.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-307">Schedule your backups for off-peak hours.</span></span> <span data-ttu-id="3a4f1-308">L’heure de début de la sauvegarde ne doit pas coïncider avec un grand nombre d’E/S d’hôte.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-308">Backup start time should not coincide with numerous host IO.</span></span>
* <span data-ttu-id="3a4f1-309">Lancez une sauvegarde manuelle à la demande lorsque vous envisagez d’effectuer un basculement de l’appareil ou avant la fenêtre de maintenance, pour protéger les données figurant sur votre baie virtuelle.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-309">Initiate a manual on-demand backup when planning to perform a device failover or prior to the maintenance window, to protect the data on your virtual array.</span></span>

### <a name="restore"></a><span data-ttu-id="3a4f1-310">Restauration</span><span class="sxs-lookup"><span data-stu-id="3a4f1-310">Restore</span></span>
<span data-ttu-id="3a4f1-311">Vous pouvez restaurer à partir d’un jeu de sauvegarde de deux manières : restaurez vers un autre volume ou partage, ou effectuez une récupération au niveau de l’élément (disponible uniquement sur une baie virtuelle configurée en tant que serveur de fichiers).</span><span class="sxs-lookup"><span data-stu-id="3a4f1-311">You can restore from a backup set in two ways: restore to another volume or share or perform an item-level recovery (available only on a virtual array configured as a file server).</span></span> <span data-ttu-id="3a4f1-312">La récupération au niveau de l’élément vous permet d'effectuer une récupération granulaire de fichiers et de dossiers à partir d'une sauvegarde cloud contenant tous les partages sur l'appareil StorSimple.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-312">Item-level recovery allows you to do a granular recovery of files and folders from a cloud backup of all the shares on the StorSimple device.</span></span> <span data-ttu-id="3a4f1-313">Pour plus d’informations, consultez la page [Restaurer à partir d’une sauvegarde](storsimple-virtual-array-clone.md).</span><span class="sxs-lookup"><span data-stu-id="3a4f1-313">For more information, go to [restore from a backup](storsimple-virtual-array-clone.md).</span></span>

<span data-ttu-id="3a4f1-314">Lorsque vous effectuez une restauration, gardez à l’esprit les instructions suivantes :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-314">When performing a restore, keep the following guidelines in mind:</span></span>

* <span data-ttu-id="3a4f1-315">Votre baie virtuelle StorSimple Virtual Array ne prend pas en charge la restauration sur place.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-315">Your StorSimple Virtual Array does not support in-place restore.</span></span> <span data-ttu-id="3a4f1-316">Celle-ci peut néanmoins être réalisée facilement via un processus en deux étapes : libérez de l’espace sur la baie virtuelle, puis restaurez vers un autre volume/partage.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-316">This can however be readily achieved by a two-step process: make space on the virtual array and then restore to another volume/share.</span></span>
* <span data-ttu-id="3a4f1-317">Lors de la restauration à partir d’un volume local, n’oubliez pas que la restauration est une opération longue.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-317">When restoring from a local volume, keep in mind the restore will be a long running operation.</span></span> <span data-ttu-id="3a4f1-318">Le volume peut être mis en ligne rapidement, mais l’alimentation des données continue en arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-318">Though the volume may quickly come online, the data continues to be hydrated in the background.</span></span>
* <span data-ttu-id="3a4f1-319">Le type de volume reste le même pendant le processus de restauration.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-319">The volume type remains the same during the restore process.</span></span> <span data-ttu-id="3a4f1-320">Un volume hiérarchisé est restauré vers un autre volume hiérarchisé, et un volume épinglé localement vers un autre volume épinglé localement.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-320">A tiered volume is restored to another tiered volume and a locally pinned volume to another locally pinned volume.</span></span>
* <span data-ttu-id="3a4f1-321">Lorsque vous tentez de restaurer un volume ou un partage à partir d’un jeu de sauvegarde, si le travail de restauration échoue, un volume ou partage cible peut toujours être créé dans le portail.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-321">When trying to restore a volume or a share from a backup set, if the restore job fails, a target volume or share may still be created in the portal.</span></span> <span data-ttu-id="3a4f1-322">Il est important de supprimer ce volume ou partage cible inutilisé dans le portail pour réduire les problèmes futurs découlant de cet élément.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-322">It is important that you delete this unused target volume or share in the portal to minimize any future issues arising from this element.</span></span>

### <a name="failover-and-disaster-recovery"></a><span data-ttu-id="3a4f1-323">Basculement et récupération d'urgence</span><span class="sxs-lookup"><span data-stu-id="3a4f1-323">Failover and disaster recovery</span></span>
<span data-ttu-id="3a4f1-324">Un basculement de l’appareil vous permet de migrer vos données à partir d’un appareil *source* dans le centre de données vers un autre appareil *cible* situé à un emplacement géographique identique ou différent.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-324">A device failover allows you to migrate your data from a *source* device in the datacenter to another *target* device located in the same or a different geographical location.</span></span> <span data-ttu-id="3a4f1-325">Le basculement de l'appareil s'applique à l'ensemble de l'appareil.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-325">The device failover is for the entire device.</span></span> <span data-ttu-id="3a4f1-326">Lors du basculement, les données de cloud pour l'appareil source deviennent la propriété de l'appareil cible.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-326">During failover, the cloud data for the source device changes ownership to that of the target device.</span></span>

<span data-ttu-id="3a4f1-327">Pour votre baie virtuelle StorSimple Virtual Array, vous pouvez basculer uniquement vers une autre baie virtuelle gérée par le même service StorSimple Manager.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-327">For your StorSimple Virtual Array, you can only fail over to another virtual array managed by the same StorSimple Manager service.</span></span> <span data-ttu-id="3a4f1-328">Un basculement vers un appareil de gamme 8000 ou vers une baie gérée par un autre service StorSimple Manager (que celui de l’appareil source) n’est pas autorisé.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-328">A failover to an 8000 series device or an array managed by a different StorSimple Manager service (than the one for the source device) is not allowed.</span></span> <span data-ttu-id="3a4f1-329">Pour en savoir plus sur les considérations relatives au basculement, consultez la page [Configuration requise pour le basculement d’appareil](storsimple-virtual-array-failover-dr.md).</span><span class="sxs-lookup"><span data-stu-id="3a4f1-329">To learn more about the failover considerations, go to [prerequisites for the device failover](storsimple-virtual-array-failover-dr.md).</span></span>

<span data-ttu-id="3a4f1-330">Lorsque vous effectuez un basculement pour votre baie virtuelle, gardez à l’esprit les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-330">When performing a fail over for your virtual array, keep the following in mind:</span></span>

* <span data-ttu-id="3a4f1-331">Pour un basculement planifié, une bonne pratique consiste à déconnecter tous les volumes/partages avant de lancer le basculement.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-331">For a planned failover, it is a recommended best practice to take all the volumes/shares offline prior to initiating the failover.</span></span> <span data-ttu-id="3a4f1-332">Suivez les instructions spécifiques au système d’exploitation pour déconnecter au préalable les volumes/partages sur l’hôte, puis déconnectez ces éléments sur votre appareil virtuel.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-332">Follow the operating system-specific instructions to take the volumes/shares offline on the host first and then take those offline on your virtual device.</span></span>
* <span data-ttu-id="3a4f1-333">Pour la récupération d'urgence du serveur de fichiers, nous vous recommandons de joindre l'appareil cible au même domaine que celui de la source, afin que les autorisations de partage soient résolues automatiquement.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-333">For a file server disaster recovery (DR), we recommend that you join the target device to the same domain as the source so that the share permissions are automatically resolved.</span></span> <span data-ttu-id="3a4f1-334">Cette version prend en charge uniquement le basculement vers un appareil cible dans le même domaine.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-334">Only the failover to a target device in the same domain is supported in this release.</span></span>
* <span data-ttu-id="3a4f1-335">Une fois la récupération d’urgence terminée, l’appareil source est supprimé automatiquement.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-335">Once the DR is successfully completed, the source device is automatically deleted.</span></span> <span data-ttu-id="3a4f1-336">Même si l'appareil n'est plus disponible, la machine virtuelle que vous avez configurée sur le système hôte continue de consommer des ressources.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-336">Though the device is no longer available, the virtual machine that you provisioned on the host system is still consuming resources.</span></span> <span data-ttu-id="3a4f1-337">Nous vous recommandons de supprimer cette machine virtuelle de votre système hôte pour empêcher l’apparition de frais.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-337">We recommend that you delete this virtual machine from your host system to prevent any charges from accruing.</span></span>
* <span data-ttu-id="3a4f1-338">Notez que même si le basculement échoue, **les données sont toujours sûres dans le cloud**.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-338">Do note that even if the failover is unsuccessful, **the data is always safe in the cloud**.</span></span> <span data-ttu-id="3a4f1-339">Considérez les trois scénarios suivants, dans lesquels le basculement n’a pas réussi :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-339">Consider the following three scenarios in which the failover did not complete successfully:</span></span>
  
  * <span data-ttu-id="3a4f1-340">Une erreur s’est produite dans les étapes initiales du basculement, par exemple lors de la réalisation des vérifications préalables de récupération d’urgence.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-340">A failure occurred in the initial stages of the failover such as when the DR pre-checks are being performed.</span></span> <span data-ttu-id="3a4f1-341">Dans ce cas, votre appareil cible est toujours utilisable.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-341">In this situation, your target device is still usable.</span></span> <span data-ttu-id="3a4f1-342">Vous pouvez réessayer le basculement sur le même appareil cible.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-342">You can retry the failover on the same target device.</span></span>
  * <span data-ttu-id="3a4f1-343">Une erreur s’est produite pendant le processus de basculement lui-même.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-343">A failure occurred during the actual failover process.</span></span> <span data-ttu-id="3a4f1-344">Dans ce cas, l’appareil cible est marqué comme inutilisable.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-344">In this case, the target device is marked unusable.</span></span> <span data-ttu-id="3a4f1-345">Vous devez mettre en service et configurer une autre baie virtuelle cible, et l’utiliser pour le basculement.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-345">You must provision and configure another target virtual array and use that for failover.</span></span>
  * <span data-ttu-id="3a4f1-346">Le basculement a été effectué, après quoi l’appareil source a été supprimé, mais l’appareil cible a des problèmes et vous ne pouvez pas accéder aux données.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-346">The failover was complete following which the source device was deleted but the target device has issues and you cannot access any data.</span></span> <span data-ttu-id="3a4f1-347">Les données sont toujours sûres dans le cloud et il est aisé de les récupérer en créant une autre baie virtuelle, puis en l’utilisant comme appareil cible pour la récupération d’urgence.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-347">The data is still safe in the cloud and can be easily retrieved by creating another virtual array and then using it as a target device for the DR.</span></span>

### <a name="deactivate"></a><span data-ttu-id="3a4f1-348">Désactivation</span><span class="sxs-lookup"><span data-stu-id="3a4f1-348">Deactivate</span></span>
<span data-ttu-id="3a4f1-349">Quand vous désactivez un StorSimple Virtual Array, vous interrompez la connexion entre l’appareil et le service StorSimple Manager correspondant.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-349">When you deactivate a StorSimple Virtual Array, you sever the connection between the device and the corresponding StorSimple Manager service.</span></span> <span data-ttu-id="3a4f1-350">La désactivation est une opération **définitive** et ne peut pas être annulée.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-350">Deactivation is a **permanent** operation and cannot be undone.</span></span> <span data-ttu-id="3a4f1-351">Un appareil désactivé ne peut pas être de nouveau enregistré auprès du service StorSimple Manager.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-351">A deactivated device cannot be registered with the StorSimple Manager service again.</span></span> <span data-ttu-id="3a4f1-352">Pour plus d’informations, consultez la page [Désactiver et supprimer votre baie virtuelle StorSimple Virtual Array](storsimple-virtual-array-deactivate-and-delete-device.md).</span><span class="sxs-lookup"><span data-stu-id="3a4f1-352">For more information, go to [deactivate and delete your StorSimple Virtual Array](storsimple-virtual-array-deactivate-and-delete-device.md).</span></span>

<span data-ttu-id="3a4f1-353">Tenez compte des bonnes pratiques suivantes lors de la désactivation de votre baie virtuelle :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-353">Keep the following best practices in mind when deactivating your virtual array:</span></span>

* <span data-ttu-id="3a4f1-354">Prenez un instantané cloud de toutes les données avant de désactiver un appareil virtuel.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-354">Take a cloud snapshot of all the data prior to deactivating a virtual device.</span></span> <span data-ttu-id="3a4f1-355">Lorsque vous désactivez une baie virtuelle, toutes les données locales de l’appareil sont perdues.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-355">When you deactivate a virtual array, all the local device data is lost.</span></span> <span data-ttu-id="3a4f1-356">La prise d’un instantané cloud vous permettra de récupérer les données à un stade ultérieur.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-356">Taking a cloud snapshot will allow you to recover data at a later stage.</span></span>
* <span data-ttu-id="3a4f1-357">Avant de désactiver une baie virtuelle StorSimple Virtual Array, veillez à arrêter ou supprimer les clients et les hôtes qui dépendent de cet appareil.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-357">Before you deactivate a StorSimple Virtual Array, make sure to stop or delete clients and hosts that depend on that device.</span></span>
* <span data-ttu-id="3a4f1-358">Supprimez un appareil désactivé si vous ne l’utilisez plus, afin qu’il n’engendre pas de frais.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-358">Delete a deactivated device if you are no longer using so that it doesn't accrue charges.</span></span>

### <a name="monitoring"></a><span data-ttu-id="3a4f1-359">Surveillance</span><span class="sxs-lookup"><span data-stu-id="3a4f1-359">Monitoring</span></span>
<span data-ttu-id="3a4f1-360">Pour vous assurer que votre baie virtuelle StorSimple Virtual Array est en permanence dans un état sain, vous devez surveiller la baie et vérifier que vous recevez des informations à partir du système, y compris les alertes.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-360">To ensure that your StorSimple Virtual Array is in a continuous healthy state, you need to monitor the array and ensure that you receive information from the system including alerts.</span></span> <span data-ttu-id="3a4f1-361">Pour surveiller l’intégrité globale de la baie virtuelle, mettez en œuvre les bonnes pratiques suivantes :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-361">To monitor the overall health of the virtual array, implement the following best practices:</span></span>

* <span data-ttu-id="3a4f1-362">Configurez la surveillance pour effectuer le suivi de l’utilisation du disque de données de votre baie virtuelle, ainsi que du disque du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-362">Configure monitoring to track the disk usage of your virtual array data disk as well as the OS disk.</span></span> <span data-ttu-id="3a4f1-363">Si vous exécutez Hyper-V, vous pouvez utiliser une combinaison de System Center Virtual Machine Manager (SCVMM) et de System Center Operations Manager (SCOM) pour surveiller vos hôtes de virtualisation.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-363">If running Hyper-V, you can use a combination of System Center Virtual Machine Manager (SCVMM) and System Center Operations Manager (SCOM) to monitor your virtualization hosts.</span></span>
* <span data-ttu-id="3a4f1-364">Configurez les notifications par courrier électronique sur votre baie virtuelle pour envoyer des alertes à certains niveaux d’utilisation.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-364">Configure email notifications on your virtual array to send alerts at certain usage levels.</span></span>                                                                                                                                                                                                

### <a name="index-search-and-virus-scan-applications"></a><span data-ttu-id="3a4f1-365">Applications d’analyse antivirus et de recherche d’index</span><span class="sxs-lookup"><span data-stu-id="3a4f1-365">Index search and virus scan applications</span></span>
<span data-ttu-id="3a4f1-366">Une baie virtuelle StorSimple Virtual Array peut faire passer automatiquement les données du niveau local au cloud Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-366">A StorSimple Virtual Array can automatically tier data from the local tier to the Microsoft Azure cloud.</span></span> <span data-ttu-id="3a4f1-367">Lorsqu’une application telle qu’une recherche d’index ou une analyse antivirus est utilisée pour analyser les données stockées sur StorSimple, vous devez faire en sorte que les données cloud ne soient pas accessibles ni ramenées au niveau local.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-367">When an application such as an index search or a virus scan is used to scan the data stored on StorSimple, you need to take care that the cloud data does not get accessed and pulled back to the local tier.</span></span>

<span data-ttu-id="3a4f1-368">Nous vous recommandons de mettre en œuvre les bonnes pratiques suivantes lors de la configuration de la recherche d’index ou de l’analyse antivirus sur votre baie virtuelle :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-368">We recommend that you implement the following best practices when configuring the index search or virus scan on your virtual array:</span></span>

* <span data-ttu-id="3a4f1-369">Désactivez toutes les opérations d’analyse complète configurées automatiquement.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-369">Disable any automatically configured full scan operations.</span></span>
* <span data-ttu-id="3a4f1-370">Pour les volumes hiérarchisés, configurez l’application de recherche d’index ou d’analyse antivirus pour qu’elle effectue une analyse incrémentielle.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-370">For tiered volumes, configure the index search or virus scan application to perform an incremental scan.</span></span> <span data-ttu-id="3a4f1-371">Cela permet d’analyser uniquement les nouvelles données résidant éventuellement au niveau local.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-371">This would scan only the new data likely residing on the local tier.</span></span> <span data-ttu-id="3a4f1-372">Les données qui sont transférées dans le cloud ne sont pas accessibles pendant une opération incrémentielle.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-372">The data that is tiered to the cloud is not accessed during an incremental operation.</span></span>
* <span data-ttu-id="3a4f1-373">Veillez à ce que les paramètres et les filtres de recherche corrects soient configurés de sorte que seuls les types prévus de fichiers soient analysés.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-373">Ensure the correct search filters and settings are configured so that only the intended types of files get scanned.</span></span> <span data-ttu-id="3a4f1-374">Par exemple, les fichiers image (JPEG, GIF et TIFF) et les dessins techniques ne doivent pas être analysés au cours de la reconstruction d’index complet ou incrémentiel.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-374">For example, image files (JPEG, GIF, and TIFF) and engineering drawings should not be scanned during the incremental or full index rebuild.</span></span>

<span data-ttu-id="3a4f1-375">Si vous utilisez le processus d’indexation de Windows, suivez ces instructions :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-375">If using Windows indexing process, follow these guidelines:</span></span>

* <span data-ttu-id="3a4f1-376">N’utilisez pas l’indexeur Windows pour les volumes hiérarchisés, car cela entraînera le rappel de grandes quantités de données (plusieurs To) à partir du cloud si l’index doit être reconstruit fréquemment.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-376">Do not use the Windows Indexer for tiered volumes as it recalls large amounts of data (TBs) from the cloud if the index needs to be rebuilt frequently.</span></span> <span data-ttu-id="3a4f1-377">La reconstruction de l’index entraîne la récupération de tous les types de fichiers pour l’indexation de leur contenu.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-377">Rebuilding the index would retrieve all file types to index their content.</span></span>
* <span data-ttu-id="3a4f1-378">Utilisez le processus d’indexation de Windows pour les volumes épinglés localement, car il n’accède qu’aux données figurant sur les couches locales pour créer l’index (il n’accède pas aux données cloud).</span><span class="sxs-lookup"><span data-stu-id="3a4f1-378">Use the Windows indexing process for locally pinned volumes as this would only access data on the local tiers to build the index (the cloud data will not be accessed).</span></span>

### <a name="byte-range-locking"></a><span data-ttu-id="3a4f1-379">Verrouillage de plage d’octets</span><span class="sxs-lookup"><span data-stu-id="3a4f1-379">Byte range locking</span></span>
<span data-ttu-id="3a4f1-380">Les applications peuvent verrouiller une plage d’octets donnée au sein des fichiers.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-380">Applications can lock a specified range of bytes within the files.</span></span> <span data-ttu-id="3a4f1-381">Si le verrouillage de plage d’octets est activé sur les applications qui écrivent sur votre appareil StorSimple, la hiérarchisation ne fonctionne pas sur votre baie virtuelle.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-381">If byte range locking is enabled on the applications that are writing to your StorSimple, then tiering does not work on your virtual array.</span></span> <span data-ttu-id="3a4f1-382">Pour que la hiérarchisation fonctionne, toutes les zones des fichiers auxquels vous accédez doivent être déverrouillées.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-382">For the tiering to work, all areas of the files accessed should be unlocked.</span></span> <span data-ttu-id="3a4f1-383">Le verrouillage de plage d’octets n’est pas pris en charge avec les volumes hiérarchisés sur votre baie virtuelle.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-383">Byte range locking is not supported with tiered volumes on your virtual array.</span></span>

<span data-ttu-id="3a4f1-384">Les mesures recommandées pour éviter le verrouillage de plage d’octets incluent :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-384">Recommended measures to alleviate byte range locking include:</span></span>

* <span data-ttu-id="3a4f1-385">Désactivez le verrouillage de plage d'octets dans la logique de votre application.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-385">Turn off byte range locking in your application logic.</span></span>
* <span data-ttu-id="3a4f1-386">Utilisez des volumes épinglés localement (à la place de volumes hiérarchisés) pour les données associées à cette application.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-386">Use locally pinned volumes (instead of tiered) for the data associated with this application.</span></span> <span data-ttu-id="3a4f1-387">Les volumes épinglés localement ne hiérarchisent pas les données dans le cloud.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-387">Locally pinned volumes do not tier into the cloud.</span></span>
* <span data-ttu-id="3a4f1-388">Lorsque vous utilisez des volumes épinglés localement avec le verrouillage de plage d’octets activé, un volume peut être mis en ligne avant la fin de la restauration.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-388">When using locally pinned volumes with byte range locking enabled, the volume can come online before the restore is complete.</span></span> <span data-ttu-id="3a4f1-389">Dans ce cas, vous devez attendre la fin de la restauration.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-389">In these instances, you must wait for the restore to be complete.</span></span>

## <a name="multiple-arrays"></a><span data-ttu-id="3a4f1-390">Baies multiples</span><span class="sxs-lookup"><span data-stu-id="3a4f1-390">Multiple arrays</span></span>
<span data-ttu-id="3a4f1-391">Il peut être nécessaire de déployer plusieurs baies virtuelles pour prendre en compte un ensemble de données de travail croissant, susceptible de déborder dans le cloud et d’affecter ainsi les performances de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-391">Multiple virtual arrays may need to be deployed to account for a growing working set of data that could spill onto the cloud thus affecting the performance of the device.</span></span> <span data-ttu-id="3a4f1-392">Dans ce cas, l’idéal est de dimensionner les appareils à mesure que l’ensemble de données de travail augmente.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-392">In these instances, it is best to scale devices as the working set grows.</span></span> <span data-ttu-id="3a4f1-393">Cette opération nécessite l’ajout d’un ou de plusieurs appareils dans le centre de données local.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-393">This requires one or more devices to be added in the on-premises data center.</span></span> <span data-ttu-id="3a4f1-394">Lors de l’ajout des appareils, vous pouvez procéder comme suit :</span><span class="sxs-lookup"><span data-stu-id="3a4f1-394">When adding the devices, you could:</span></span>

* <span data-ttu-id="3a4f1-395">Fractionnez le jeu de données actuel.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-395">Split the current set of data.</span></span>
* <span data-ttu-id="3a4f1-396">Déployez de nouvelles charges de travail sur un ou plusieurs nouveaux périphériques.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-396">Deploy new workloads to new device(s).</span></span>
* <span data-ttu-id="3a4f1-397">Si vous déployez plusieurs baies virtuelles, nous vous recommandons, du point de vue de l’équilibrage de charge, de distribuer une baie entre différents hôtes de l’hyperviseur.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-397">If deploying multiple virtual arrays, we recommend that from load-balancing perspective, distribute the array across different hypervisor hosts.</span></span>
* <span data-ttu-id="3a4f1-398">Plusieurs baies virtuelles (lorsqu’elles sont configurées en tant que serveur de fichiers ou serveur iSCSI) peuvent être déployées dans un espace de noms de système de fichiers distribué.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-398">Multiple virtual arrays (when configured as a file server or an iSCSI server) can be deployed in a Distributed File System Namespace.</span></span> <span data-ttu-id="3a4f1-399">Pour des instructions détaillées, consultez la page [Guide de déploiement d’une solution d’espace de noms de système de fichiers distribué avec stockage cloud hybride](https://www.microsoft.com/download/details.aspx?id=45507).</span><span class="sxs-lookup"><span data-stu-id="3a4f1-399">For detailed steps, go to [Distributed File System Namespace Solution with Hybrid Cloud Storage Deployment Guide](https://www.microsoft.com/download/details.aspx?id=45507).</span></span> <span data-ttu-id="3a4f1-400">La réplication du système de fichiers distribué n’est actuellement pas recommandée avec la baie virtuelle.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-400">Distributed File System Replication is currently not recommended for use with the virtual array.</span></span> 

## <a name="see-also"></a><span data-ttu-id="3a4f1-401">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="3a4f1-401">See also</span></span>
<span data-ttu-id="3a4f1-402">Découvrez la [gestion de votre baie virtuelle StorSimple Virtual Array](storsimple-virtual-array-manager-service-administration.md) par le biais du service StorSimple Manager.</span><span class="sxs-lookup"><span data-stu-id="3a4f1-402">Learn how to [administer your StorSimple Virtual Array](storsimple-virtual-array-manager-service-administration.md) via the StorSimple Manager service.</span></span>

