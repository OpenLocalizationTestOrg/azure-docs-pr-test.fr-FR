---
title: "Azure Active Directory B2C : informations de référence sur les jetons | Microsoft Docs"
description: "types Hello des jetons émis dans Azure Active Directory B2C"
services: active-directory-b2c
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: 6df79878-65cb-4dfc-98bb-2b328055bc2e
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 3/17/2017
ms.author: dastrock
ms.openlocfilehash: 776bc88cc0308875ac6e576f19ac9edf50319d08
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-b2c-token-reference"></a><span data-ttu-id="28e86-103">Azure AD B2C: références sur les jetons</span><span class="sxs-lookup"><span data-stu-id="28e86-103">Azure AD B2C: Token reference</span></span>
<span data-ttu-id="28e86-104">Azure Active Directory B2C (Azure AD B2C) émet plusieurs types de jetons de sécurité lors du traitement de chaque [flux d’authentification](active-directory-b2c-apps.md).</span><span class="sxs-lookup"><span data-stu-id="28e86-104">Azure Active Directory B2C (Azure AD B2C) emits several types of security tokens as it processes each [authentication flow](active-directory-b2c-apps.md).</span></span> <span data-ttu-id="28e86-105">Ce document décrit hello caractéristiques de sécurité et du contenu de chaque type de jeton.</span><span class="sxs-lookup"><span data-stu-id="28e86-105">This document describes hello format, security characteristics, and contents of each type of token.</span></span>

## <a name="types-of-tokens"></a><span data-ttu-id="28e86-106">Types de jetons</span><span class="sxs-lookup"><span data-stu-id="28e86-106">Types of tokens</span></span>
<span data-ttu-id="28e86-107">Prend en charge de Azure AD B2C hello [protocole d’autorisation OAuth 2.0](active-directory-b2c-reference-protocols.md), qui utilise les deux jetons d’accès et les jetons d’actualisation.</span><span class="sxs-lookup"><span data-stu-id="28e86-107">Azure AD B2C supports hello [OAuth 2.0 authorization protocol](active-directory-b2c-reference-protocols.md), which makes use of both access tokens and refresh tokens.</span></span> <span data-ttu-id="28e86-108">Il prend également en charge l’authentification et l’authentification à l’aide de [OpenID Connect](active-directory-b2c-reference-protocols.md), ce qui introduit un troisième type de jeton : le jeton d’ID hello.</span><span class="sxs-lookup"><span data-stu-id="28e86-108">It also supports authentication and sign-in via [OpenID Connect](active-directory-b2c-reference-protocols.md), which introduces a third type of token: hello ID token.</span></span> <span data-ttu-id="28e86-109">Chacun de ces jetons est représenté en tant que jeton du porteur.</span><span class="sxs-lookup"><span data-stu-id="28e86-109">Each of these tokens is represented as a bearer token.</span></span>

<span data-ttu-id="28e86-110">Un jeton de support est un jeton de sécurité léger qu’accorde hello tooa d’accès « support » une ressource protégée.</span><span class="sxs-lookup"><span data-stu-id="28e86-110">A bearer token is a lightweight security token that grants hello "bearer" access tooa protected resource.</span></span> <span data-ttu-id="28e86-111">support de Hello est n’importe quelle partie peut présenter le jeton de hello.</span><span class="sxs-lookup"><span data-stu-id="28e86-111">hello bearer is any party that can present hello token.</span></span> <span data-ttu-id="28e86-112">Une partie doit d’abord s’authentifier auprès d’Azure AD pour recevoir un jeton du porteur,</span><span class="sxs-lookup"><span data-stu-id="28e86-112">Azure AD must first authenticate a party before it can receive a bearer token.</span></span> <span data-ttu-id="28e86-113">Mais si hello nécessaire étapes ne sont pas prises jeton de hello toosecure de transmission et de stockage, il peut être intercepté et utilisé par une partie indésirable.</span><span class="sxs-lookup"><span data-stu-id="28e86-113">But if hello required steps are not taken toosecure hello token in transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="28e86-114">Bien que certains jetons de sécurité intègrent un mécanisme de protection contre l’utilisation par des parties non autorisées, les jetons du porteur n’en sont pas dotés et</span><span class="sxs-lookup"><span data-stu-id="28e86-114">Some security tokens have a built-in mechanism for preventing unauthorized parties from using them, but bearer tokens do not have this mechanism.</span></span> <span data-ttu-id="28e86-115">doivent donc être acheminés sur un canal sécurisé, par exemple à l’aide du protocole TLS (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="28e86-115">They must be transported in a secure channel, such as transport layer security (HTTPS).</span></span>

<span data-ttu-id="28e86-116">Si un jeton de support est transmis à l’extérieur d’un canal sécurisé, une personne malveillante peut utiliser un jeton de hello tooacquire attaque de man-in-the-middle et utiliser la ressource de tooa protégé accès toogain non autorisé.</span><span class="sxs-lookup"><span data-stu-id="28e86-116">If a bearer token is transmitted outside a secure channel, a malicious party can use a man-in-the-middle attack tooacquire hello token and use it toogain unauthorized access tooa protected resource.</span></span> <span data-ttu-id="28e86-117">Bonjour les mêmes principes de sécurité s’appliquent lorsque des jetons de support sont stockés ou mis en cache pour une utilisation ultérieure.</span><span class="sxs-lookup"><span data-stu-id="28e86-117">hello same security principles apply when bearer tokens are stored or cached for later use.</span></span> <span data-ttu-id="28e86-118">Veillez systématiquement à ce que votre application transmette et stocke les jetons porteurs de manière sécurisée.</span><span class="sxs-lookup"><span data-stu-id="28e86-118">Always ensure that your app transmits and stores bearer tokens in a secure manner.</span></span>

<span data-ttu-id="28e86-119">Pour en savoir plus sur les aspects de sécurité des jetons du porteur, consultez [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="28e86-119">For additional security considerations on bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="28e86-120">Nombre de jetons hello qui émet d’Azure AD B2C sont implémentées comme des jetons web JSON (Jwt).</span><span class="sxs-lookup"><span data-stu-id="28e86-120">Many of hello tokens that Azure AD B2C issues are implemented as JSON web tokens (JWTs).</span></span> <span data-ttu-id="28e86-121">Un jeton JWT constitue un moyen compact et sécurisé pour les URL de transférer des informations entre deux parties.</span><span class="sxs-lookup"><span data-stu-id="28e86-121">A JWT is a compact, URL-safe means of transferring information between two parties.</span></span> <span data-ttu-id="28e86-122">Les jetons JWT contiennent des informations appelées revendications.</span><span class="sxs-lookup"><span data-stu-id="28e86-122">JWTs contain information known as claims.</span></span> <span data-ttu-id="28e86-123">Il s’agit des assertions d’informations sur le support de hello et l’objet de hello de jeton de hello.</span><span class="sxs-lookup"><span data-stu-id="28e86-123">These are assertions of information about hello bearer and hello subject of hello token.</span></span> <span data-ttu-id="28e86-124">revendications Hello dans les jetons Web JSON sont des objets JSON qui sont codés et sérialisées pour la transmission.</span><span class="sxs-lookup"><span data-stu-id="28e86-124">hello claims in JWTs are JSON objects that are encoded and serialized for transmission.</span></span> <span data-ttu-id="28e86-125">Étant donné que hello jetons Web JSON émis par Azure AD B2C sont signés mais pas chiffré, vous pouvez facilement inspecter contenu hello d’un toodebug JWT il.</span><span class="sxs-lookup"><span data-stu-id="28e86-125">Because hello JWTs issued by Azure AD B2C are signed but not encrypted, you can easily inspect hello contents of a JWT toodebug it.</span></span> <span data-ttu-id="28e86-126">Pour ce faire, plusieurs outils sont à votre disposition, y compris [calebb.net](http://calebb.net).</span><span class="sxs-lookup"><span data-stu-id="28e86-126">Several tools are available that can do this, including [calebb.net](http://calebb.net).</span></span> <span data-ttu-id="28e86-127">Pour plus d’informations sur les jetons Web JSON, consultez trop[les spécifications de JWT](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span><span class="sxs-lookup"><span data-stu-id="28e86-127">For more information about JWTs, refer too[JWT specifications](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

### <a name="id-tokens"></a><span data-ttu-id="28e86-128">Jetons d’ID</span><span class="sxs-lookup"><span data-stu-id="28e86-128">ID tokens</span></span>
<span data-ttu-id="28e86-129">Un jeton d’ID est une forme de jeton de sécurité que votre application reçoit hello Azure AD B2C `authorize` et `token` points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="28e86-129">An ID token is a form of security token that your app receives from hello Azure AD B2C `authorize` and `token` endpoints.</span></span> <span data-ttu-id="28e86-130">Jetons d’ID sont représentés en tant que [jetons Web JSON](#types-of-tokens), et ils contiennent des revendications que vous pouvez utiliser tooidentify utilisateurs dans votre application.</span><span class="sxs-lookup"><span data-stu-id="28e86-130">ID tokens are represented as [JWTs](#types-of-tokens), and they contain claims that you can use tooidentify users in your app.</span></span> <span data-ttu-id="28e86-131">Lorsque les jetons d’ID sont acquis à partir de hello `authorize` point de terminaison, il s’agit souvent de toosign utilisé dans les applications tooweb les utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="28e86-131">When ID tokens are acquired from hello `authorize` endpoint, they are often used toosign in users tooweb applications.</span></span> <span data-ttu-id="28e86-132">Lorsque les jetons d’ID sont acquis à partir de hello `token` point de terminaison, elles peuvent être envoyées dans les demandes HTTP pendant la communication entre deux composants de hello même application ou un service.</span><span class="sxs-lookup"><span data-stu-id="28e86-132">When ID tokens are acquired from hello `token` endpoint, they can be sent in HTTP requests during communication between two components of hello same application or service.</span></span> <span data-ttu-id="28e86-133">Vous pouvez utiliser les revendications hello dans un jeton d’ID comme vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="28e86-133">You can use hello claims in an ID token as you see fit.</span></span> <span data-ttu-id="28e86-134">Ils sont couramment utilisés toodisplay compte informations ou toomake restrictions d’accès dans une application.</span><span class="sxs-lookup"><span data-stu-id="28e86-134">They are commonly used toodisplay account information or toomake access control decisions in an app.</span></span>  

<span data-ttu-id="28e86-135">Les jetons d’ID sont signés, mais ils ne sont actuellement pas chiffrés.</span><span class="sxs-lookup"><span data-stu-id="28e86-135">ID tokens are signed, but they are not currently encrypted.</span></span> <span data-ttu-id="28e86-136">Lorsque votre application ou les API reçoit un jeton d’ID, il doit [valider la signature de hello](#token-validation) tooprove hello jeton est authentique.</span><span class="sxs-lookup"><span data-stu-id="28e86-136">When your app or API receives an ID token, it must [validate hello signature](#token-validation) tooprove that hello token is authentic.</span></span> <span data-ttu-id="28e86-137">Votre application ou l’API doit également valider des revendications quelques dans tooprove de jeton hello qu’il est valide.</span><span class="sxs-lookup"><span data-stu-id="28e86-137">Your app or API must also validate a few claims in hello token tooprove that it is valid.</span></span> <span data-ttu-id="28e86-138">Selon les spécifications de scénario hello, revendications hello validées par une application peuvent varier, mais votre application doit effectuer certaines [les validations de revendication courantes](#token-validation) dans chaque scénario.</span><span class="sxs-lookup"><span data-stu-id="28e86-138">Depending on hello scenario requirements, hello claims validated by an app can vary, but your app must perform some [common claim validations](#token-validation) in every scenario.</span></span>

#### <a name="sample-id-token"></a><span data-ttu-id="28e86-139">Exemple de jeton d’ID</span><span class="sxs-lookup"><span data-stu-id="28e86-139">Sample ID token</span></span>
```
// Line breaks for display purposes only

eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IklkVG9rZW5TaWduaW5nS2V5Q29udGFpbmVyIn0.
eyJleHAiOjE0NDIzNjAwMzQsIm5iZiI6MTQ0MjM1NjQzNCwidmVyIjoiMS4wIiwiaXNzIjoiaHR0cHM6Ly9s
b2dpbi5taWNyb3NvZnRvbmxpbmUuY29tLzc3NTUyN2ZmLTlhMzctNDMwNy04YjNkLWNjMzExZjU4ZDkyNS92
Mi4wLyIsImFjciI6ImIyY18xX3NpZ25faW5fc3RvY2siLCJzdWIiOiJOb3Qgc3VwcG9ydGVkIGN1cnJlbnRs
eS4gVXNlIG9pZCBjbGFpbS4iLCJhdWQiOiI5MGMwZmU2My1iY2YyLTQ0ZDUtOGZiNy1iOGJiYzBiMjlkYzYi
LCJpYXQiOjE0NDIzNTY0MzQsImF1dGhfdGltZSI6MTQ0MjM1NjQzNCwiaWRwIjoiZmFjZWJvb2suY29tIn0.
h-uiKcrT882pSKUtWCpj-_3b3vPs3bOWsESAhPMrL-iIIacKc6_uZrWxaWvIYkLra5czBcGKWrYwrAC8ZvQe
DJWZ50WXQrZYODEW1OUwzaD_I1f1HE0c2uvaWdGXBpDEVdsD3ExKaFlKGjFR2V7F-fPThkVDdKmkUDQX3bVc
yyj2V2nlCQ9jd7aGnokTPfLfpOjuIrTsAdPcGpe5hfSEuwYDmqOJjGs9Jp1f-eSNEiCDQOaTBSvr479L5ptP
XWeQZyX2SypN05Rjr05bjZh3j70ZUimiocfJzjibeoDCaQTz907yAg91WYuFOrQxb-5BaUoR7K-O7vxr2M-_
CQhoFA

```

### <a name="access-tokens"></a><span data-ttu-id="28e86-140">Jetons d’accès</span><span class="sxs-lookup"><span data-stu-id="28e86-140">Access tokens</span></span>
<span data-ttu-id="28e86-141">Un jeton d’accès est également une forme de jeton de sécurité que votre application reçoit hello Azure AD B2C `authorize` et `token` points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="28e86-141">An access token is also a form of security token that your app receives from hello Azure AD B2C `authorize` and `token` endpoints.</span></span> <span data-ttu-id="28e86-142">Les jetons d’accès sont également représentés en tant que [jetons Web JSON](#types-of-tokens), et ils contiennent des revendications que vous pouvez utiliser hello tooidentify accordé les autorisations tooyour API.</span><span class="sxs-lookup"><span data-stu-id="28e86-142">Access tokens are also represented as [JWTs](#types-of-tokens), and they contain claims that you can use tooidentify hello granted permissions tooyour APIs.</span></span> <span data-ttu-id="28e86-143">Les jetons d’accès sont signés, mais ils ne sont actuellement pas chiffrés.</span><span class="sxs-lookup"><span data-stu-id="28e86-143">Access tokens are signed, but they are not currently encrypted.</span></span> <span data-ttu-id="28e86-144">Les jetons d’accès doivent être utilisé tooprovide accéder aux serveurs tooAPIs et de ressources.</span><span class="sxs-lookup"><span data-stu-id="28e86-144">Access tokens should be used tooprovide access tooAPIs and resource servers.</span></span> <span data-ttu-id="28e86-145">En savoir plus sur la façon trop[utiliser des jetons d’accès](active-directory-b2c-access-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="28e86-145">Learn more about how too[use access tokens](active-directory-b2c-access-tokens.md).</span></span> 

<span data-ttu-id="28e86-146">Lorsque votre API reçoit un jeton d’accès, il doit [valider la signature de hello](#token-validation) tooprove hello jeton est authentique.</span><span class="sxs-lookup"><span data-stu-id="28e86-146">When your API receives an access token, it must [validate hello signature](#token-validation) tooprove that hello token is authentic.</span></span> <span data-ttu-id="28e86-147">Votre API doit également valider certaines revendications dans tooprove de jeton hello qu’il est valide.</span><span class="sxs-lookup"><span data-stu-id="28e86-147">Your API must also validate a few claims in hello token tooprove that it is valid.</span></span> <span data-ttu-id="28e86-148">Selon les spécifications de scénario hello, revendications hello validées par une application peuvent varier, mais votre application doit effectuer certaines [les validations de revendication courantes](#token-validation) dans chaque scénario.</span><span class="sxs-lookup"><span data-stu-id="28e86-148">Depending on hello scenario requirements, hello claims validated by an app can vary, but your app must perform some [common claim validations](#token-validation) in every scenario.</span></span>

### <a name="claims-in-id-and-access-tokens"></a><span data-ttu-id="28e86-149">Revendications dans les jetons d’ID et d’accès</span><span class="sxs-lookup"><span data-stu-id="28e86-149">Claims in ID and access tokens</span></span>
<span data-ttu-id="28e86-150">Lorsque vous utilisez Azure AD B2C, vous avez un contrôle affiné sur le contenu de vos jetons hello.</span><span class="sxs-lookup"><span data-stu-id="28e86-150">When you use Azure AD B2C, you have fine-grained control over hello content of your tokens.</span></span> <span data-ttu-id="28e86-151">Vous pouvez configurer [stratégies](active-directory-b2c-reference-policies.md) toosend certain des jeux de données utilisateur dans les revendications dont votre application a besoin pour ses opérations.</span><span class="sxs-lookup"><span data-stu-id="28e86-151">You can configure [policies](active-directory-b2c-reference-policies.md) toosend certain sets of user data in claims that your app requires for its operations.</span></span> <span data-ttu-id="28e86-152">Ces revendications peuvent inclure des propriétés standard tels que l’utilisateur hello `displayName` et `emailAddress`.</span><span class="sxs-lookup"><span data-stu-id="28e86-152">These claims can include standard properties such as hello user's `displayName` and `emailAddress`.</span></span> <span data-ttu-id="28e86-153">Elles peuvent également inclure des [attributs d’utilisateur personnalisés](active-directory-b2c-reference-custom-attr.md) que vous pouvez définir dans votre répertoire B2C.</span><span class="sxs-lookup"><span data-stu-id="28e86-153">They can also include [custom user attributes](active-directory-b2c-reference-custom-attr.md) that you can define in your B2C directory.</span></span> <span data-ttu-id="28e86-154">Chaque jeton d’ID et d’accès que vous recevez contient un certain ensemble de revendications relatives à la sécurité.</span><span class="sxs-lookup"><span data-stu-id="28e86-154">Every ID and access token that you receive contains a certain set of security-related claims.</span></span> <span data-ttu-id="28e86-155">Les applications peuvent utiliser ces revendications toosecurely authentifier les utilisateurs et les demandes.</span><span class="sxs-lookup"><span data-stu-id="28e86-155">Your applications can use these claims toosecurely authenticate users and requests.</span></span>

<span data-ttu-id="28e86-156">Notez que les revendications de hello dans les jetons d’ID ne sont pas retournées dans un ordre particulier.</span><span class="sxs-lookup"><span data-stu-id="28e86-156">Note that hello claims in ID tokens are not returned in any particular order.</span></span> <span data-ttu-id="28e86-157">En outre, de nouvelles revendications peuvent être introduites dans les jetons d’ID à tout moment.</span><span class="sxs-lookup"><span data-stu-id="28e86-157">In addition, new claims can be introduced in ID tokens at any time.</span></span> <span data-ttu-id="28e86-158">Votre application ne doit pas s’arrêter lors de l’ajout de nouvelles revendications.</span><span class="sxs-lookup"><span data-stu-id="28e86-158">Your app should not break as new claims are introduced.</span></span> <span data-ttu-id="28e86-159">Voici hello revendications que vous prévoyez que les tooexist ID et l’accès des jetons émis par Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="28e86-159">Here are hello claims that you expect tooexist in ID and access tokens issued by Azure AD B2C.</span></span> <span data-ttu-id="28e86-160">Les éventuelles revendications supplémentaires sont déterminées par des stratégies.</span><span class="sxs-lookup"><span data-stu-id="28e86-160">Any additional claims are determined by policies.</span></span> <span data-ttu-id="28e86-161">Pratique, essayez en inspectant hello les revendications dans le jeton d’ID exemple hello en le collant dans [calebb.net](http://calebb.net).</span><span class="sxs-lookup"><span data-stu-id="28e86-161">For practice, try inspecting hello claims in hello sample ID token by pasting it into [calebb.net](http://calebb.net).</span></span> <span data-ttu-id="28e86-162">Vous trouverez plus de détails dans hello [OpenID Connect de spécification](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="28e86-162">Further details can be found in hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

| <span data-ttu-id="28e86-163">Nom</span><span class="sxs-lookup"><span data-stu-id="28e86-163">Name</span></span> | <span data-ttu-id="28e86-164">Revendication</span><span class="sxs-lookup"><span data-stu-id="28e86-164">Claim</span></span> | <span data-ttu-id="28e86-165">Exemple de valeur</span><span class="sxs-lookup"><span data-stu-id="28e86-165">Example value</span></span> | <span data-ttu-id="28e86-166">Description</span><span class="sxs-lookup"><span data-stu-id="28e86-166">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="28e86-167">Public ciblé</span><span class="sxs-lookup"><span data-stu-id="28e86-167">Audience</span></span> |`aud` |`90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6` |<span data-ttu-id="28e86-168">Une revendication d’audience identifie le destinataire prévu de hello du jeton de hello.</span><span class="sxs-lookup"><span data-stu-id="28e86-168">An audience claim identifies hello intended recipient of hello token.</span></span> <span data-ttu-id="28e86-169">Pour Azure AD B2C, hello s’ID d’application de votre application, en tant qu’application tooyour attribué dans le portail de l’enregistrement d’application hello.</span><span class="sxs-lookup"><span data-stu-id="28e86-169">For Azure AD B2C, hello audience is your app's application ID, as assigned tooyour app in hello app registration portal.</span></span> <span data-ttu-id="28e86-170">Votre application doit valider cette valeur et rejeter le jeton de hello s’il ne correspond pas.</span><span class="sxs-lookup"><span data-stu-id="28e86-170">Your app should validate this value and reject hello token if it does not match.</span></span> |
| <span data-ttu-id="28e86-171">Émetteur</span><span class="sxs-lookup"><span data-stu-id="28e86-171">Issuer</span></span> |`iss` |`https://login.microsoftonline.com/775527ff-9a37-4307-8b3d-cc311f58d925/v2.0/` |<span data-ttu-id="28e86-172">Cette revendication identifie hello service jeton de sécurité (STS) qui crée et retourne le jeton de hello.</span><span class="sxs-lookup"><span data-stu-id="28e86-172">This claim identifies hello security token service (STS) that constructs and returns hello token.</span></span> <span data-ttu-id="28e86-173">Il identifie également hello Windows Azure AD dans le hello utilisateur a été authentifié.</span><span class="sxs-lookup"><span data-stu-id="28e86-173">It also identifies hello Azure AD directory in which hello user was authenticated.</span></span> <span data-ttu-id="28e86-174">Votre application doit valider la revendication d’émetteur hello tooensure hello jeton provenant de point de terminaison v2.0 hello Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="28e86-174">Your app should validate hello issuer claim tooensure that hello token came from hello Azure Active Directory v2.0 endpoint.</span></span> |
| <span data-ttu-id="28e86-175">Émis à</span><span class="sxs-lookup"><span data-stu-id="28e86-175">Issued at</span></span> |`iat` |`1438535543` |<span data-ttu-id="28e86-176">Cette revendication est heure hello à quels hello jeton a été émis, représentée en heure de l’époque.</span><span class="sxs-lookup"><span data-stu-id="28e86-176">This claim is hello time at which hello token was issued, represented in epoch time.</span></span> |
| <span data-ttu-id="28e86-177">Heure d’expiration</span><span class="sxs-lookup"><span data-stu-id="28e86-177">Expiration time</span></span> |`exp` |`1438539443` |<span data-ttu-id="28e86-178">Bonjour revendication d’heure d’expiration est heure hello à quels hello jeton devient non valide, représenté dans le temps de l’époque.</span><span class="sxs-lookup"><span data-stu-id="28e86-178">hello expiration time claim is hello time at which hello token becomes invalid, represented in epoch time.</span></span> <span data-ttu-id="28e86-179">Votre application doit utiliser la revendication tooverify hello validité de cette durée de vie de jeton hello.</span><span class="sxs-lookup"><span data-stu-id="28e86-179">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="28e86-180">Pas avant</span><span class="sxs-lookup"><span data-stu-id="28e86-180">Not before</span></span> |`nbf` |`1438535543` |<span data-ttu-id="28e86-181">Cette revendication est heure hello à quels hello jeton devient valide, représenté dans le temps de l’époque.</span><span class="sxs-lookup"><span data-stu-id="28e86-181">This claim is hello time at which hello token becomes valid, represented in epoch time.</span></span> <span data-ttu-id="28e86-182">Cela est généralement hello même comme hello temps hello jeton a été émis.</span><span class="sxs-lookup"><span data-stu-id="28e86-182">This is usually hello same as hello time hello token was issued.</span></span> <span data-ttu-id="28e86-183">Votre application doit utiliser la revendication tooverify hello validité de cette durée de vie de jeton hello.</span><span class="sxs-lookup"><span data-stu-id="28e86-183">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="28e86-184">Version</span><span class="sxs-lookup"><span data-stu-id="28e86-184">Version</span></span> |`ver` |`1.0` |<span data-ttu-id="28e86-185">Il s’agit de version de hello du jeton d’ID hello, tel que défini par Azure AD.</span><span class="sxs-lookup"><span data-stu-id="28e86-185">This is hello version of hello ID token, as defined by Azure AD.</span></span> |
| <span data-ttu-id="28e86-186">Hachage de code</span><span class="sxs-lookup"><span data-stu-id="28e86-186">Code hash</span></span> |`c_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="28e86-187">Un hachage du code est inclus dans un jeton d’ID uniquement lorsque le jeton de hello est émis avec un code d’autorisation OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="28e86-187">A code hash is included in an ID token only when hello token is issued together with an OAuth 2.0 authorization code.</span></span> <span data-ttu-id="28e86-188">Un hachage du code peut être l’authenticité de hello toovalidate utilisé d’un code d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="28e86-188">A code hash can be used toovalidate hello authenticity of an authorization code.</span></span> <span data-ttu-id="28e86-189">Pour plus d’informations sur la façon de tooperform cette validation, consultez hello [OpenID Connect de spécification](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="28e86-189">For more details on how tooperform this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>  |
| <span data-ttu-id="28e86-190">Hachage de jeton d’accès</span><span class="sxs-lookup"><span data-stu-id="28e86-190">Access token hash</span></span> |`at_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="28e86-191">Un hachage de jeton d’accès est inclus dans un jeton d’ID uniquement lorsque le jeton de hello est émis avec un jeton d’accès OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="28e86-191">An access token hash is included in an ID token only when hello token is issued together with an OAuth 2.0 access token.</span></span> <span data-ttu-id="28e86-192">Un hachage de jeton d’accès peut être l’authenticité de hello toovalidate utilisé d’un jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="28e86-192">An access token hash can be used toovalidate hello authenticity of an access token.</span></span> <span data-ttu-id="28e86-193">Pour plus d’informations sur la façon de tooperform cette validation, consultez hello [OpenID Connect de spécification](http://openid.net/specs/openid-connect-core-1_0.html)</span><span class="sxs-lookup"><span data-stu-id="28e86-193">For more details on how tooperform this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html)</span></span>  |
| <span data-ttu-id="28e86-194">Valeur à usage unique</span><span class="sxs-lookup"><span data-stu-id="28e86-194">Nonce</span></span> |`nonce` |`12345` |<span data-ttu-id="28e86-195">Une valeur à usage unique est qu'une stratégie utilisée toomitigate les attaques de relecture de jetons.</span><span class="sxs-lookup"><span data-stu-id="28e86-195">A nonce is a strategy used toomitigate token replay attacks.</span></span> <span data-ttu-id="28e86-196">Votre application peut spécifier une valeur à usage unique dans une demande d’autorisation à l’aide de hello `nonce` paramètre de requête.</span><span class="sxs-lookup"><span data-stu-id="28e86-196">Your app can specify a nonce in an authorization request by using hello `nonce` query parameter.</span></span> <span data-ttu-id="28e86-197">valeur de Hello que vous fournissez dans la demande hello sera émis tels quels dans hello `nonce` d’un jeton d’ID de revendication.</span><span class="sxs-lookup"><span data-stu-id="28e86-197">hello value you provide in hello request will be emitted unmodified in hello `nonce` claim of an ID token only.</span></span> <span data-ttu-id="28e86-198">Ainsi, la valeur de hello tooverify application par rapport à la valeur hello qu'il spécifié dans la demande de hello, qui associe la session de l’application hello avec un jeton d’ID donné.</span><span class="sxs-lookup"><span data-stu-id="28e86-198">This allows your app tooverify hello value against hello value it specified on hello request, which associates hello app's session with a given ID token.</span></span> <span data-ttu-id="28e86-199">Votre application doit effectuer cette validation pendant le processus de validation du jeton d’ID hello.</span><span class="sxs-lookup"><span data-stu-id="28e86-199">Your app should perform this validation during hello ID token validation process.</span></span> |
| <span data-ttu-id="28e86-200">Objet</span><span class="sxs-lookup"><span data-stu-id="28e86-200">Subject</span></span> |`sub` |`884408e1-2918-4cz0-b12d-3aa027d7563b` |<span data-ttu-id="28e86-201">Il s’agit de principal de hello sur quel hello jeton déclare les informations, telles qu’utilisateur hello d’une application.</span><span class="sxs-lookup"><span data-stu-id="28e86-201">This is hello principal about which hello token asserts information, such as hello user of an app.</span></span> <span data-ttu-id="28e86-202">Cette valeur est immuable et ne peut pas être réattribuée ou réutilisée.</span><span class="sxs-lookup"><span data-stu-id="28e86-202">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="28e86-203">Il peut être utilisé tooperform des contrôles d’autorisation en toute sécurité, par exemple lorsque le jeton de hello est tooaccess utilisé une ressource.</span><span class="sxs-lookup"><span data-stu-id="28e86-203">It can be used tooperform authorization checks safely, such as when hello token is used tooaccess a resource.</span></span> <span data-ttu-id="28e86-204">Par défaut, hello sujet revendication est remplie avec l’ID d’objet hello d’utilisateur hello dans le répertoire de hello.</span><span class="sxs-lookup"><span data-stu-id="28e86-204">By default, hello subject claim is populated with hello object ID of hello user in hello directory.</span></span> <span data-ttu-id="28e86-205">toolearn, voir [Azure Active Directory B2C : configuration de l’authentification unique, de session et de jeton](active-directory-b2c-token-session-sso.md).</span><span class="sxs-lookup"><span data-stu-id="28e86-205">toolearn more, see [Azure Active Directory B2C: Token, session, and single sign-on configuration](active-directory-b2c-token-session-sso.md).</span></span> |
| <span data-ttu-id="28e86-206">Référence de classe du contexte d’authentification</span><span class="sxs-lookup"><span data-stu-id="28e86-206">Authentication context class reference</span></span> |`acr` |<span data-ttu-id="28e86-207">Non applicable</span><span class="sxs-lookup"><span data-stu-id="28e86-207">Not applicable</span></span> |<span data-ttu-id="28e86-208">Ne pas utilisé actuellement, sauf dans les cas de hello des stratégies plus anciennes.</span><span class="sxs-lookup"><span data-stu-id="28e86-208">Not used currently, except in hello case of older policies.</span></span> <span data-ttu-id="28e86-209">toolearn, voir [Azure Active Directory B2C : configuration de l’authentification unique, de session et de jeton](active-directory-b2c-token-session-sso.md).</span><span class="sxs-lookup"><span data-stu-id="28e86-209">toolearn more, see [Azure Active Directory B2C: Token, session, and single sign-on configuration](active-directory-b2c-token-session-sso.md).</span></span> |
| <span data-ttu-id="28e86-210">Stratégie d’infrastructure de confiance</span><span class="sxs-lookup"><span data-stu-id="28e86-210">Trust framework policy</span></span> |`tfp` |`b2c_1_sign_in` |<span data-ttu-id="28e86-211">Il s’agit de nom hello de stratégie hello qui a été tooacquire utilisé le jeton d’ID hello.</span><span class="sxs-lookup"><span data-stu-id="28e86-211">This is hello name of hello policy that was used tooacquire hello ID token.</span></span> |
| <span data-ttu-id="28e86-212">Moment de l’authentification</span><span class="sxs-lookup"><span data-stu-id="28e86-212">Authentication time</span></span> |`auth_time` |`1438535543` |<span data-ttu-id="28e86-213">Cette revendication est heure hello auquel une dernière entrée informations d’identification utilisateur, représentée en heure de l’époque.</span><span class="sxs-lookup"><span data-stu-id="28e86-213">This claim is hello time at which a user last entered credentials, represented in epoch time.</span></span> |

### <a name="refresh-tokens"></a><span data-ttu-id="28e86-214">Jetons d’actualisation</span><span class="sxs-lookup"><span data-stu-id="28e86-214">Refresh tokens</span></span>
<span data-ttu-id="28e86-215">Actualiser les jetons sont des jetons de sécurité de votre application peut utiliser les nouveaux jetons d’ID tooacquire et accès dans un flux OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="28e86-215">Refresh tokens are security tokens that your app can use tooacquire new ID tokens and access tokens in an OAuth 2.0 flow.</span></span> <span data-ttu-id="28e86-216">Ils fournissent votre application avec tooresources d’accès à long terme pour le compte des utilisateurs sans nécessiter une interaction avec les utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="28e86-216">They provide your app with long-term access tooresources on behalf of users without requiring interaction with those users.</span></span>

<span data-ttu-id="28e86-217">tooreceive un jeton d’actualisation dans une réponse de jeton, votre application doit demander l’autorisation hello `offline_acesss` étendue.</span><span class="sxs-lookup"><span data-stu-id="28e86-217">tooreceive a refresh token in a token response, your app must request hello `offline_acesss` scope.</span></span> <span data-ttu-id="28e86-218">toolearn plus en détail hello `offline_access` étendue, consultez le toohello [référence de protocole d’Azure AD B2C](active-directory-b2c-reference-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="28e86-218">toolearn more about hello `offline_access` scope, refer toohello [Azure AD B2C protocol reference](active-directory-b2c-reference-protocols.md).</span></span>

<span data-ttu-id="28e86-219">Jetons d’actualisation sont et sera toujours, application de tooyour complètement opaque.</span><span class="sxs-lookup"><span data-stu-id="28e86-219">Refresh tokens are, and will always be, completely opaque tooyour app.</span></span> <span data-ttu-id="28e86-220">Ils sont émis par Azure AD et ne peuvent être inspectés et interprétés que par Azure AD.</span><span class="sxs-lookup"><span data-stu-id="28e86-220">They are issued by Azure AD and can be inspected and interpreted only by Azure AD.</span></span> <span data-ttu-id="28e86-221">Ils sont de longue durées, mais votre application ne doit pas être écrit avec attente hello qui dure un jeton d’actualisation pour une période spécifique.</span><span class="sxs-lookup"><span data-stu-id="28e86-221">They are long-lived, but your app should not be written with hello expectation that a refresh token will last for a specific period of time.</span></span> <span data-ttu-id="28e86-222">Les jetons d’actualisation peuvent être rendus non valides à tout moment, et ce pour diverses raisons.</span><span class="sxs-lookup"><span data-stu-id="28e86-222">Refresh tokens can be invalidated at any moment for a variety of reasons.</span></span> <span data-ttu-id="28e86-223">Hello la seule façon pour votre tooknow application si un jeton d’actualisation est valide est tooattempt tooredeem il en effectuant une demande de jeton de tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="28e86-223">hello only way for your app tooknow if a refresh token is valid is tooattempt tooredeem it by making a token request tooAzure AD.</span></span>

<span data-ttu-id="28e86-224">Lorsque vous utilisez un jeton d’actualisation pour un nouveau jeton (et si votre application a été accordée hello `offline_access` étendue), vous recevez un nouveau jeton d’actualisation dans la réponse du jeton hello.</span><span class="sxs-lookup"><span data-stu-id="28e86-224">When you redeem a refresh token for a new token (and if your app has been granted hello `offline_access` scope), you will receive a new refresh token in hello token response.</span></span> <span data-ttu-id="28e86-225">Vous devez enregistrer le jeton d’actualisation hello qui vient d’être émis.</span><span class="sxs-lookup"><span data-stu-id="28e86-225">You should save hello newly issued refresh token.</span></span> <span data-ttu-id="28e86-226">Il doit remplacer le jeton d’actualisation hello que vous avez utilisé précédemment dans la demande hello.</span><span class="sxs-lookup"><span data-stu-id="28e86-226">It should replace hello refresh token you previously used in hello request.</span></span> <span data-ttu-id="28e86-227">Vous avez ainsi la garantie que vos jetons d’actualisation resteront valides le plus longtemps possible.</span><span class="sxs-lookup"><span data-stu-id="28e86-227">This helps guarantee that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="token-validation"></a><span data-ttu-id="28e86-228">Validation du jeton</span><span class="sxs-lookup"><span data-stu-id="28e86-228">Token validation</span></span>
<span data-ttu-id="28e86-229">toovalidate un jeton, votre application doit vérifier la signature de hello et revendications de jeton de hello.</span><span class="sxs-lookup"><span data-stu-id="28e86-229">toovalidate a token, your app should check both hello signature and claims of hello token.</span></span>

<span data-ttu-id="28e86-230">Il existe de nombreuses bibliothèques open source pour valider les jetons JWT en fonction de votre langage préféré.</span><span class="sxs-lookup"><span data-stu-id="28e86-230">Many open source libraries are available for validating JWTs, depending on your preferred language.</span></span> <span data-ttu-id="28e86-231">Nous vous recommandons d’explorer ces options plutôt que d’implémenter votre propre logique de validation.</span><span class="sxs-lookup"><span data-stu-id="28e86-231">We recommend that you explore those options rather than implement your own validation logic.</span></span> <span data-ttu-id="28e86-232">informations de Hello dans ce guide peuvent vous aider à apprendre tooproperly utiliser ces bibliothèques.</span><span class="sxs-lookup"><span data-stu-id="28e86-232">hello information in this guide can help you learn how tooproperly use those libraries.</span></span>

### <a name="validate-hello-signature"></a><span data-ttu-id="28e86-233">Valider la signature de hello</span><span class="sxs-lookup"><span data-stu-id="28e86-233">Validate hello signature</span></span>
<span data-ttu-id="28e86-234">Un jeton Web JSON inclut trois segments, séparés par hello `.` caractère.</span><span class="sxs-lookup"><span data-stu-id="28e86-234">A JWT contains three segments, separated by hello `.` character.</span></span> <span data-ttu-id="28e86-235">Hello premier segment est hello *en-tête*, hello est ensuite hello *corps*, et hello le troisième hello *signature*.</span><span class="sxs-lookup"><span data-stu-id="28e86-235">hello first segment is hello *header*, hello second is hello *body*, and hello third is hello *signature*.</span></span> <span data-ttu-id="28e86-236">segment de signature Hello peut être l’authenticité de hello toovalidate utilisés du jeton de hello afin qu’elle peut être approuvée par votre application.</span><span class="sxs-lookup"><span data-stu-id="28e86-236">hello signature segment can be used toovalidate hello authenticity of hello token so that it can be trusted by your app.</span></span>

<span data-ttu-id="28e86-237">Les jetons Azure AD B2C sont signés à l’aide d’algorithmes de chiffrement asymétrique standard, tels que RSA 256.</span><span class="sxs-lookup"><span data-stu-id="28e86-237">Azure AD B2C tokens are signed by using industry-standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="28e86-238">en-tête Hello du jeton de hello contient des informations sur la clé de hello et méthode de chiffrement utilisé le jeton de hello toosign :</span><span class="sxs-lookup"><span data-stu-id="28e86-238">hello header of hello token contains information about hello key and encryption method used toosign hello token:</span></span>

```
{
        "typ": "JWT",
        "alg": "RS256",
        "kid": "GvnPApfWMdLRi8PDmisFn7bprKg"
}
```

<span data-ttu-id="28e86-239">Hello `alg` revendication indique l’algorithme hello qui était le jeton de hello toosign utilisé.</span><span class="sxs-lookup"><span data-stu-id="28e86-239">hello `alg` claim indicates hello algorithm that was used toosign hello token.</span></span> <span data-ttu-id="28e86-240">Hello `kid` revendication indique hello clé publique qui a été de jeton de hello toosign utilisé.</span><span class="sxs-lookup"><span data-stu-id="28e86-240">hello `kid` claim indicates hello particular public key that was used toosign hello token.</span></span>

<span data-ttu-id="28e86-241">À tout moment, Azure AD peut signer un jeton à l’aide de l’un des ensembles de paires de clés publique-privée.</span><span class="sxs-lookup"><span data-stu-id="28e86-241">At any given time, Azure AD can sign a token by using any one of a certain set of public-private key pairs.</span></span> <span data-ttu-id="28e86-242">Azure AD fait pivoter ensemble possible de hello de clés périodiquement, votre application doit être écrite toohandle ces clé change automatiquement.</span><span class="sxs-lookup"><span data-stu-id="28e86-242">Azure AD rotates hello possible set of keys periodically, so your app should be written toohandle those key changes automatically.</span></span> <span data-ttu-id="28e86-243">Un toocheck fréquence raisonnable pour les clés publiques de mises à jour toohello utilisé par Azure AD est de 24 heures.</span><span class="sxs-lookup"><span data-stu-id="28e86-243">A reasonable frequency toocheck for updates toohello public keys used by Azure AD is every 24 hours.</span></span>

<span data-ttu-id="28e86-244">Azure AD B2C a un point de terminaison des métadonnées OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="28e86-244">Azure AD B2C has an OpenID Connect metadata endpoint.</span></span> <span data-ttu-id="28e86-245">Cela permet aux applications toofetch d’informations sur Azure AD B2C lors de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="28e86-245">This allows apps toofetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="28e86-246">Ces informations incluent les points de terminaison, le contenu des jetons et les clés de signature de jetons.</span><span class="sxs-lookup"><span data-stu-id="28e86-246">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="28e86-247">Votre répertoire B2C contient un document de métadonnées JSON pour chaque stratégie.</span><span class="sxs-lookup"><span data-stu-id="28e86-247">Your B2C directory contains a JSON metadata document for each policy.</span></span> <span data-ttu-id="28e86-248">Par exemple, les documents de métadonnées hello pour hello `b2c_1_sign_in` stratégie dans `fabrikamb2c.onmicrosoft.com` se trouve dans :</span><span class="sxs-lookup"><span data-stu-id="28e86-248">For example, hello metadata document for hello `b2c_1_sign_in` policy in  `fabrikamb2c.onmicrosoft.com` is located at:</span></span>

```
https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in
```

<span data-ttu-id="28e86-249">`fabrikamb2c.onmicrosoft.com`est le répertoire de hello B2C utilisé tooauthenticate utilisateur de hello, et `b2c_1_sign_in` est stratégie de hello utilisé le jeton de hello tooacquire.</span><span class="sxs-lookup"><span data-stu-id="28e86-249">`fabrikamb2c.onmicrosoft.com` is hello B2C directory used tooauthenticate hello user, and `b2c_1_sign_in` is hello policy used tooacquire hello token.</span></span> <span data-ttu-id="28e86-250">toodetermine stratégie qui a été toosign utilisé un jeton (et où toogo toofetch hello métadonnées), vous avez deux options.</span><span class="sxs-lookup"><span data-stu-id="28e86-250">toodetermine which policy was used toosign a token (and where toogo toofetch hello metadata), you have two options.</span></span> <span data-ttu-id="28e86-251">Tout d’abord, le nom de la stratégie hello est inclus dans hello `acr` de revendication dans le jeton de hello.</span><span class="sxs-lookup"><span data-stu-id="28e86-251">First, hello policy name is included in hello `acr` claim in hello token.</span></span> <span data-ttu-id="28e86-252">Vous pouvez analyser les revendications hors corps hello Hello JSON par le corps de hello décodage à base 64 et la désérialisation hello qui résulte de chaîne JSON.</span><span class="sxs-lookup"><span data-stu-id="28e86-252">You can parse claims out of hello body of hello JWT by base-64 decoding hello body and deserializing hello JSON string that results.</span></span> <span data-ttu-id="28e86-253">Hello `acr` revendication sera hello de stratégie hello qui était le jeton de hello tooissue utilisé.</span><span class="sxs-lookup"><span data-stu-id="28e86-253">hello `acr` claim will be hello name of hello policy that was used tooissue hello token.</span></span>  <span data-ttu-id="28e86-254">L’autre option consiste à stratégie de hello tooencode valeur hello Hello `state` paramètre lorsque vous émettez la demande de hello et décoder toodetermine stratégie qui a été utilisée.</span><span class="sxs-lookup"><span data-stu-id="28e86-254">Your other option is tooencode hello policy in hello value of hello `state` parameter when you issue hello request, and then decode it toodetermine which policy was used.</span></span> <span data-ttu-id="28e86-255">Les 2 méthodes sont valides.</span><span class="sxs-lookup"><span data-stu-id="28e86-255">Either method is valid.</span></span>

<span data-ttu-id="28e86-256">document de métadonnées Hello est un objet JSON qui contient plusieurs informations utiles.</span><span class="sxs-lookup"><span data-stu-id="28e86-256">hello metadata document is a JSON object that contains several useful pieces of information.</span></span> <span data-ttu-id="28e86-257">Ceux-ci incluent l’emplacement de hello de tooperform requis de points de terminaison hello OpenID Connect de l’authentification.</span><span class="sxs-lookup"><span data-stu-id="28e86-257">These include hello location of hello endpoints required tooperform OpenID Connect authentication.</span></span> <span data-ttu-id="28e86-258">Ils comprennent également `jwks_uri`, ce qui donne l’emplacement hello du jeu hello des clés publiques qui sont des jetons de toosign utilisé.</span><span class="sxs-lookup"><span data-stu-id="28e86-258">They also include `jwks_uri`, which gives hello location of hello set of public keys that are used toosign tokens.</span></span> <span data-ttu-id="28e86-259">Cet emplacement est fourni ici, mais il est meilleur emplacement de hello toofetch dynamiquement à l’aide de document de métadonnées hello et analyse de `jwks_uri`:</span><span class="sxs-lookup"><span data-stu-id="28e86-259">That location is provided here, but it is best toofetch hello location dynamically by using hello metadata document and parsing out `jwks_uri`:</span></span>

```
https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in
```

<span data-ttu-id="28e86-260">document JSON Hello situé à cette URL contient toutes les informations clés publiques hello en cours d’utilisation à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="28e86-260">hello JSON document located at this URL contains all hello public key information in use at a particular moment.</span></span> <span data-ttu-id="28e86-261">Votre application peut utiliser hello `kid` de revendication dans hello JWT en-tête tooselect hello la clé publique dans le document JSON hello toosign utilisé un jeton donné.</span><span class="sxs-lookup"><span data-stu-id="28e86-261">Your app can use hello `kid` claim in hello JWT header tooselect hello public key in hello JSON document that is used toosign a particular token.</span></span> <span data-ttu-id="28e86-262">Il peut ensuite effectuer une validation de signature à l’aide d’une clé publique correcte hello et l’algorithme indiqué de hello.</span><span class="sxs-lookup"><span data-stu-id="28e86-262">It can then perform signature validation by using hello correct public key and hello indicated algorithm.</span></span>

<span data-ttu-id="28e86-263">Description de la validation des signatures tooperform est étendue de hello en dehors de ce document.</span><span class="sxs-lookup"><span data-stu-id="28e86-263">A description of how tooperform signature validation is outside hello scope of this document.</span></span> <span data-ttu-id="28e86-264">De nombreuses bibliothèques open source sont disponible toohelp vous avec cette option si vous en avez besoin.</span><span class="sxs-lookup"><span data-stu-id="28e86-264">Many open source libraries are available toohelp you with this if you need it.</span></span>

### <a name="validate-hello-claims"></a><span data-ttu-id="28e86-265">Valider les réclamations de hello</span><span class="sxs-lookup"><span data-stu-id="28e86-265">Validate hello claims</span></span>
<span data-ttu-id="28e86-266">Lorsque votre application ou les API reçoit un jeton d’ID, il doit également effectuer plusieurs vérifications par rapport aux revendications de hello dans le jeton d’ID hello.</span><span class="sxs-lookup"><span data-stu-id="28e86-266">When your app or API receives an ID token, it should also perform several checks against hello claims in hello ID token.</span></span> <span data-ttu-id="28e86-267">Ces vérifications portent notamment sur les revendications suivantes :</span><span class="sxs-lookup"><span data-stu-id="28e86-267">These include, but are not limited to:</span></span>

* <span data-ttu-id="28e86-268">Hello **public** de revendications : cette opération vérifie que le jeton d’ID hello a été prévue toobe donné tooyour application.</span><span class="sxs-lookup"><span data-stu-id="28e86-268">hello **audience** claim: This verifies that hello ID token was intended toobe given tooyour app.</span></span>
* <span data-ttu-id="28e86-269">Hello **pas avant** et **délai d’expiration** revendications : ces vérifier que le jeton d’ID hello n’a pas expiré.</span><span class="sxs-lookup"><span data-stu-id="28e86-269">hello **not before** and **expiration time** claims: These verify that hello ID token has not expired.</span></span>
* <span data-ttu-id="28e86-270">Hello **émetteur** de revendications : cette opération vérifie ce jeton hello a été émis tooyour application par Azure AD.</span><span class="sxs-lookup"><span data-stu-id="28e86-270">hello **issuer** claim: This verifies that hello token was issued tooyour app by Azure AD.</span></span>
* <span data-ttu-id="28e86-271">Hello **nonce**: il s’agit d’une stratégie de prévention des attaques de relecture de jetons.</span><span class="sxs-lookup"><span data-stu-id="28e86-271">hello **nonce**: This is a strategy for token replay attack mitigation.</span></span>

<span data-ttu-id="28e86-272">Pour obtenir une liste complète des contrôles de votre application doit effectuer, consultez toohello [OpenID Connect de spécification](https://openid.net).</span><span class="sxs-lookup"><span data-stu-id="28e86-272">For a full list of validations your app should perform, refer toohello [OpenID Connect specification](https://openid.net).</span></span> <span data-ttu-id="28e86-273">Détails des valeurs attendues de hello pour ces revendications sont inclus dans hello précédent [jeton section](#types-of-tokens).</span><span class="sxs-lookup"><span data-stu-id="28e86-273">Details of hello expected values for these claims are included in hello preceding [token section](#types-of-tokens).</span></span>  

## <a name="token-lifetimes"></a><span data-ttu-id="28e86-274">Durées de vie des jetons</span><span class="sxs-lookup"><span data-stu-id="28e86-274">Token lifetimes</span></span>
<span data-ttu-id="28e86-275">Hello suivant des durées de vie de jeton est fournies toofurther votre base de connaissances.</span><span class="sxs-lookup"><span data-stu-id="28e86-275">hello following token lifetimes are provided toofurther your knowledge.</span></span> <span data-ttu-id="28e86-276">Elles peuvent vous être utiles lorsque vous développez et déboguez des applications.</span><span class="sxs-lookup"><span data-stu-id="28e86-276">They can help you when you develop and debug apps.</span></span> <span data-ttu-id="28e86-277">Notez que vos applications ne doivent pas être écrites tooexpect une de ces constantes tooremain de durées de vie.</span><span class="sxs-lookup"><span data-stu-id="28e86-277">Note that your apps should not be written tooexpect any of these lifetimes tooremain constant.</span></span> <span data-ttu-id="28e86-278">car celles-ci sont amenées à changer à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="28e86-278">They can and will change.</span></span> <span data-ttu-id="28e86-279">En savoir plus sur hello [personnalisation des durées de vie de jeton](active-directory-b2c-token-session-sso.md) dans Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="28e86-279">Read more about hello [customization of token lifetimes](active-directory-b2c-token-session-sso.md) in Azure AD B2C.</span></span>

| <span data-ttu-id="28e86-280">Jeton</span><span class="sxs-lookup"><span data-stu-id="28e86-280">Token</span></span> | <span data-ttu-id="28e86-281">Durée de vie</span><span class="sxs-lookup"><span data-stu-id="28e86-281">Lifetime</span></span> | <span data-ttu-id="28e86-282">Description</span><span class="sxs-lookup"><span data-stu-id="28e86-282">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="28e86-283">Jetons d’ID</span><span class="sxs-lookup"><span data-stu-id="28e86-283">ID tokens</span></span> |<span data-ttu-id="28e86-284">1 heure</span><span class="sxs-lookup"><span data-stu-id="28e86-284">One hour</span></span> |<span data-ttu-id="28e86-285">Les jetons d’ID sont généralement valides 1 heure.</span><span class="sxs-lookup"><span data-stu-id="28e86-285">ID tokens are typically valid for an hour.</span></span> <span data-ttu-id="28e86-286">Votre application web peut utiliser cette durée de vie toomaintain ses propres sessions avec des utilisateurs (recommandés).</span><span class="sxs-lookup"><span data-stu-id="28e86-286">Your web app can use this lifetime toomaintain its own sessions with users (recommended).</span></span> <span data-ttu-id="28e86-287">Vous pouvez également choisir une durée de vie de session différente.</span><span class="sxs-lookup"><span data-stu-id="28e86-287">You can also choose a different session lifetime.</span></span> <span data-ttu-id="28e86-288">Si votre application a besoin d’un nouveau jeton d’ID de tooget, elle doit simplement toomake un nouveau tooAzure de demande de connexion AD.</span><span class="sxs-lookup"><span data-stu-id="28e86-288">If your app needs tooget a new ID token, it simply needs toomake a new sign-in request tooAzure AD.</span></span> <span data-ttu-id="28e86-289">Si un utilisateur dispose d’une session de navigateur valide auprès d’Azure AD, cet utilisateur peut-être pas les informations d’identification de tooenter requises à nouveau.</span><span class="sxs-lookup"><span data-stu-id="28e86-289">If a user has a valid browser session with Azure AD, that user might not be required tooenter credentials again.</span></span> |
| <span data-ttu-id="28e86-290">Jetons d’actualisation</span><span class="sxs-lookup"><span data-stu-id="28e86-290">Refresh tokens</span></span> |<span data-ttu-id="28e86-291">Jours d’activité too14</span><span class="sxs-lookup"><span data-stu-id="28e86-291">Up too14 days</span></span> |<span data-ttu-id="28e86-292">Un jeton d’actualisation est valide pendant 14 jours au maximum.</span><span class="sxs-lookup"><span data-stu-id="28e86-292">A single refresh token is valid for a maximum of 14 days.</span></span> <span data-ttu-id="28e86-293">Cependant, un jeton d’actualisation peut devenir non valide à tout moment pour différentes raisons.</span><span class="sxs-lookup"><span data-stu-id="28e86-293">However, a refresh token can become invalid at any time for a number of reasons.</span></span> <span data-ttu-id="28e86-294">Votre application doit continuer tootry toouse un jeton d’actualisation jusqu'à ce que la demande de hello échoue, ou jusqu'à ce que votre application remplace le jeton d’actualisation hello avec un autre.</span><span class="sxs-lookup"><span data-stu-id="28e86-294">Your app should continue tootry toouse a refresh token until hello request fails, or until your app replaces hello refresh token with a new one.</span></span> <span data-ttu-id="28e86-295">Un jeton d’actualisation peut également devenir non valide si 90 jours se sont écoulées depuis de l’utilisateur de hello entré en dernier des informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="28e86-295">A refresh token can also become invalid if 90 days have passed since hello user last entered credentials.</span></span> |
| <span data-ttu-id="28e86-296">Codes d’autorisation</span><span class="sxs-lookup"><span data-stu-id="28e86-296">Authorization codes</span></span> |<span data-ttu-id="28e86-297">5 minutes</span><span class="sxs-lookup"><span data-stu-id="28e86-297">Five minutes</span></span> |<span data-ttu-id="28e86-298">La durée de vie des codes d’autorisation est intentionnellement limitée.</span><span class="sxs-lookup"><span data-stu-id="28e86-298">Authorization codes are intentionally short-lived.</span></span> <span data-ttu-id="28e86-299">Ils doivent être utilisés immédiatement après réception pour les jetons d’accès, les jetons d’ID ou les jetons d’actualisation.</span><span class="sxs-lookup"><span data-stu-id="28e86-299">They should be redeemed immediately for access tokens, ID tokens, or refresh tokens when they are received.</span></span> |

