---
title: "Azure Active Directory B2C : applications à page unique créée avec un flux implicite | Microsoft Docs"
description: "Découvrez comment créer des applications à page unique directement en utilisant un flux implicite OAuth 2.0 avec Azure Active Directory B2C."
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: a45cc74c-a37e-453f-b08b-af75855e0792
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/06/2017
ms.author: parakhj
ms.openlocfilehash: 44ff168599e9078506e1afdd0f1dc4657ef0964d
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="azure-ad-b2c-single-page-app-sign-in-by-using-oauth-20-implicit-flow"></a><span data-ttu-id="53728-103">Azure AD B2C : Connexion à une application à page unique en utilisant un flux implicite OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="53728-103">Azure AD B2C: Single-page app sign-in by using OAuth 2.0 implicit flow</span></span>

> [!NOTE]
> <span data-ttu-id="53728-104">Cette fonctionnalité est en préversion.</span><span class="sxs-lookup"><span data-stu-id="53728-104">This feature is in preview.</span></span>
> 

<span data-ttu-id="53728-105">De nombreuses applications modernes disposent d’un frontend d’application à page unique écrit principalement en JavaScript.</span><span class="sxs-lookup"><span data-stu-id="53728-105">Many modern apps have a single-page app front end that primarily is written in JavaScript.</span></span> <span data-ttu-id="53728-106">Souvent, l’application est écrite en utilisant une infrastructure comme AngularJS, Ember.js ou Durandal.js.</span><span class="sxs-lookup"><span data-stu-id="53728-106">Often, the app is written by using a framework like AngularJS, Ember.js, or Durandal.</span></span> <span data-ttu-id="53728-107">Les applications à page unique et d’autres applications JavaScript qui s’exécutent principalement dans un navigateur présentent certaines problématiques supplémentaires pour l’authentification :</span><span class="sxs-lookup"><span data-stu-id="53728-107">Single-page apps and other JavaScript apps that run primarily in a browser have some additional challenges for authentication:</span></span>

* <span data-ttu-id="53728-108">Les caractéristiques de sécurité de ces applications sont considérablement différentes de celles des applications web traditionnelles basées sur serveur.</span><span class="sxs-lookup"><span data-stu-id="53728-108">The security characteristics of these apps are significantly different from traditional server-based web applications.</span></span>
* <span data-ttu-id="53728-109">Beaucoup de serveurs d’autorisation et de fournisseurs d’identité ne prennent pas en charge les demandes de partage des ressources cross-origin (CORS).</span><span class="sxs-lookup"><span data-stu-id="53728-109">Many authorization servers and identity providers do not support cross-origin resource sharing (CORS) requests.</span></span>
* <span data-ttu-id="53728-110">Chacune des redirections à partir de l’application du navigateur plein écran peut perturber de façon assez importante l’expérience utilisateur.</span><span class="sxs-lookup"><span data-stu-id="53728-110">Full-page browser redirects away from the app can be significantly invasive to the user experience.</span></span>

<span data-ttu-id="53728-111">Pour prendre en charge ces applications, Azure Active Directory B2C (Azure AD B2C) utilise le flux implicite OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="53728-111">To support these applications, Azure Active Directory B2C (Azure AD B2C) uses the OAuth 2.0 implicit flow.</span></span> <span data-ttu-id="53728-112">Le flux d’autorisation implicite OAuth 2.0 est décrit dans la [section 4.2 de la spécification OAuth 2.0](http://tools.ietf.org/html/rfc6749) .</span><span class="sxs-lookup"><span data-stu-id="53728-112">The OAuth 2.0 authorization implicit grant flow is described in [section 4.2 of the OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="53728-113">Dans un flux implicite, l’application reçoit des jetons directement du point de terminaison d’autorisation Azure AD, sans aucun échange de serveur à serveur.</span><span class="sxs-lookup"><span data-stu-id="53728-113">In implicit flow, the app receives tokens directly from the Azure Active Directory (Azure AD) authorize endpoint, without any server-to-server exchange.</span></span> <span data-ttu-id="53728-114">Tout le traitement de la logique d’authentification et de la gestion des sessions est entièrement exécuté dans le client JavaScript, sans redirections de pages supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="53728-114">All authentication logic and session handling takes place entirely in the JavaScript client, without additional page redirects.</span></span>

<span data-ttu-id="53728-115">Azure AD B2C étend le flux implicite OAuth 2.0 standard au-delà de la simple authentification et de la simple autorisation.</span><span class="sxs-lookup"><span data-stu-id="53728-115">Azure AD B2C extends the standard OAuth 2.0 implicit flow to more than simple authentication and authorization.</span></span> <span data-ttu-id="53728-116">Azure AD B2C introduit le [paramètre de stratégie](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="53728-116">Azure AD B2C introduces the [policy parameter](active-directory-b2c-reference-policies.md).</span></span> <span data-ttu-id="53728-117">Avec le paramètre de stratégie, vous pouvez utiliser OAuth 2.0 pour ajouter des expériences utilisateur à votre application, comme l’inscription, la connexion et la gestion des profils.</span><span class="sxs-lookup"><span data-stu-id="53728-117">With the policy parameter, you can use OAuth 2.0 to add user experiences to your app, such as sign-up, sign-in, and profile management.</span></span> <span data-ttu-id="53728-118">Dans cet article, nous vous montrons comment utiliser le flux implicite et Azure AD pour implémenter chacune de ces expériences dans vos applications à page unique.</span><span class="sxs-lookup"><span data-stu-id="53728-118">In this article, we show you how to use the implicit flow and Azure AD to implement each of these experiences in your single-page applications.</span></span> <span data-ttu-id="53728-119">Vous pouvez consulter nos exemples [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) ou [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) pour commencer.</span><span class="sxs-lookup"><span data-stu-id="53728-119">To help you get started, take a look at our [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) and [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) samples.</span></span>

<span data-ttu-id="53728-120">Dans les exemples de demandes HTTP de cet article, nous utilisons notre exemple d’annuaire Azure AD B2C, **fabrikamb2c.onmicrosoft.com**.</span><span class="sxs-lookup"><span data-stu-id="53728-120">In the example HTTP requests in this article, we use our sample Azure AD B2C directory, **fabrikamb2c.onmicrosoft.com**.</span></span> <span data-ttu-id="53728-121">Nous utilisons également nos propres exemples d’application et de stratégies.</span><span class="sxs-lookup"><span data-stu-id="53728-121">We also use our own sample application and policies.</span></span> <span data-ttu-id="53728-122">Vous pouvez essayer les demandes par vous-même en utilisant ces valeurs ou bien en les remplaçant par les vôtres.</span><span class="sxs-lookup"><span data-stu-id="53728-122">You can try the requests yourself by using these values, or you can replace them with your own values.</span></span>
<span data-ttu-id="53728-123">Découvrez comment [obtenir votre propre annuaire Azure AD B2C, votre application et vos stratégies](#use-your-own-b2c-tenant).</span><span class="sxs-lookup"><span data-stu-id="53728-123">Learn how to [get your own Azure AD B2C directory, application, and policies](#use-your-own-b2c-tenant).</span></span>


## <a name="protocol-diagram"></a><span data-ttu-id="53728-124">Schéma de protocole</span><span class="sxs-lookup"><span data-stu-id="53728-124">Protocol diagram</span></span>

<span data-ttu-id="53728-125">Le flux de connexion implicite peut être décrit comme dans la figure suivante.</span><span class="sxs-lookup"><span data-stu-id="53728-125">The implicit sign-in flow looks something like the following figure.</span></span> <span data-ttu-id="53728-126">Chaque étape est décrite en détail plus loin dans l’article.</span><span class="sxs-lookup"><span data-stu-id="53728-126">Each step is described in detail later in the article.</span></span>

![Couloirs OpenId Connect](../media/active-directory-v2-flows/convergence_scenarios_implicit.png)

## <a name="send-authentication-requests"></a><span data-ttu-id="53728-128">Envoi de demandes d’authentification</span><span class="sxs-lookup"><span data-stu-id="53728-128">Send authentication requests</span></span>
<span data-ttu-id="53728-129">Lorsque votre application web a besoin d’authentifier l’utilisateur et d’exécuter une stratégie, elle le dirige vers le point de terminaison `/authorize`.</span><span class="sxs-lookup"><span data-stu-id="53728-129">When your web app needs to authenticate the user and execute a policy, it directs the user to the `/authorize` endpoint.</span></span> <span data-ttu-id="53728-130">Il s’agit de la partie interactive du flux, dans laquelle l’utilisateur agit en fonction de la stratégie.</span><span class="sxs-lookup"><span data-stu-id="53728-130">This is the interactive portion of the flow, where the user takes action, depending on the policy.</span></span> <span data-ttu-id="53728-131">L’utilisateur obtient un ID de jeton du point de terminaison Azure AD.</span><span class="sxs-lookup"><span data-stu-id="53728-131">The user gets an ID token from the Azure AD endpoint.</span></span>

<span data-ttu-id="53728-132">Dans cette demande, le client indique dans le paramètre `scope` les autorisations qu’il doit obtenir auprès de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="53728-132">In this request, the client indicates in the `scope` parameter the permissions that it needs to acquire from the user.</span></span> <span data-ttu-id="53728-133">Dans le paramètre `p`, il indique la stratégie à exécuter.</span><span class="sxs-lookup"><span data-stu-id="53728-133">In the `p` parameter, it indicates the policy to execute.</span></span> <span data-ttu-id="53728-134">Les trois exemples suivants utilisent chacun une stratégie différente.</span><span class="sxs-lookup"><span data-stu-id="53728-134">The following three examples (with line breaks for readability) each use a different policy.</span></span> <span data-ttu-id="53728-135">Pour avoir une idée du fonctionnement de chaque demande, essayez de coller la demande dans un navigateur et exécutez-la.</span><span class="sxs-lookup"><span data-stu-id="53728-135">To get a feel for how each request works, try pasting the request into a browser and running it.</span></span>

### <a name="use-a-sign-in-policy"></a><span data-ttu-id="53728-136">Utilisation d’une stratégie de connexion</span><span class="sxs-lookup"><span data-stu-id="53728-136">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_in
```

### <a name="use-a-sign-up-policy"></a><span data-ttu-id="53728-137">Utilisation d’une stratégie d’inscription</span><span class="sxs-lookup"><span data-stu-id="53728-137">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_up
```

### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="53728-138">Utilisation d’une stratégie de modification de profil</span><span class="sxs-lookup"><span data-stu-id="53728-138">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_edit_profile
```

| <span data-ttu-id="53728-139">Paramètre</span><span class="sxs-lookup"><span data-stu-id="53728-139">Parameter</span></span> | <span data-ttu-id="53728-140">Requis ?</span><span class="sxs-lookup"><span data-stu-id="53728-140">Required?</span></span> | <span data-ttu-id="53728-141">Description</span><span class="sxs-lookup"><span data-stu-id="53728-141">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="53728-142">client_id</span><span class="sxs-lookup"><span data-stu-id="53728-142">client_id</span></span> |<span data-ttu-id="53728-143">Requis</span><span class="sxs-lookup"><span data-stu-id="53728-143">Required</span></span> |<span data-ttu-id="53728-144">ID d’application affecté à votre application dans le [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="53728-144">The application ID assigned to your app in the [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="53728-145">response_type</span><span class="sxs-lookup"><span data-stu-id="53728-145">response_type</span></span> |<span data-ttu-id="53728-146">Requis</span><span class="sxs-lookup"><span data-stu-id="53728-146">Required</span></span> |<span data-ttu-id="53728-147">Doit inclure `id_token` pour la connexion à OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="53728-147">Must include `id_token` for OpenID Connect sign-in.</span></span> <span data-ttu-id="53728-148">Il peut également inclure le type de réponse `token`.</span><span class="sxs-lookup"><span data-stu-id="53728-148">It also can include the response type `token`.</span></span> <span data-ttu-id="53728-149">Si vous utilisez `token`, votre application peut recevoir immédiatement un jeton d’accès du point de terminaison d’autorisation sans avoir à effectuer une deuxième demande au point de terminaison d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="53728-149">If you use `token`, your app can immediately receive an access token from the authorize endpoint, without making a second request to the authorize endpoint.</span></span>  <span data-ttu-id="53728-150">Si vous utilisez le type de réponse `token`, le paramètre `scope` doit contenir une étendue indiquant la ressource pour laquelle le jeton doit être émis.</span><span class="sxs-lookup"><span data-stu-id="53728-150">If you use the `token` response type, the `scope` parameter must contain a scope that indicates which resource to issue the token for.</span></span> |
| <span data-ttu-id="53728-151">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="53728-151">redirect_uri</span></span> |<span data-ttu-id="53728-152">Recommandé</span><span class="sxs-lookup"><span data-stu-id="53728-152">Recommended</span></span> |<span data-ttu-id="53728-153">L’URI de redirection de votre application, vers lequel votre application peut envoyer et recevoir des réponses d’authentification.</span><span class="sxs-lookup"><span data-stu-id="53728-153">The redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="53728-154">Il doit correspondre exactement à un des URI de redirection que vous avez inscrits dans le portail, sauf qu’il doit être codé dans l’URL.</span><span class="sxs-lookup"><span data-stu-id="53728-154">It must exactly match one of the redirect URIs that you registered in the portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="53728-155">response_mode</span><span class="sxs-lookup"><span data-stu-id="53728-155">response_mode</span></span> |<span data-ttu-id="53728-156">Recommandé</span><span class="sxs-lookup"><span data-stu-id="53728-156">Recommended</span></span> |<span data-ttu-id="53728-157">Spécifie la méthode à utiliser pour renvoyer le jeton résultant à votre application.</span><span class="sxs-lookup"><span data-stu-id="53728-157">Specifies the method to use to send the resulting token back to your app.</span></span>  <span data-ttu-id="53728-158">Pour les flux implicites, utilisez `fragment`.</span><span class="sxs-lookup"><span data-stu-id="53728-158">For implicit flows, use `fragment`.</span></span> |
| <span data-ttu-id="53728-159">scope</span><span class="sxs-lookup"><span data-stu-id="53728-159">scope</span></span> |<span data-ttu-id="53728-160">Requis</span><span class="sxs-lookup"><span data-stu-id="53728-160">Required</span></span> |<span data-ttu-id="53728-161">Une liste d’étendues séparées par des espaces.</span><span class="sxs-lookup"><span data-stu-id="53728-161">A space-separated list of scopes.</span></span> <span data-ttu-id="53728-162">Une valeur d’étendue unique indique à Azure AD les deux autorisations qui sont demandées.</span><span class="sxs-lookup"><span data-stu-id="53728-162">A single scope value indicates to Azure AD both of the permissions that are being requested.</span></span> <span data-ttu-id="53728-163">L’étendue `openid` indique une autorisation de connecter l’utilisateur et d’obtenir des données relatives à l’utilisateur sous la forme de jetons d’ID.</span><span class="sxs-lookup"><span data-stu-id="53728-163">The `openid` scope indicates a permission to sign in the user and get data about the user in the form of ID tokens.</span></span> <span data-ttu-id="53728-164">(Nous parlons de cela plus en détail ultérieurement dans cet article.) L’étendue `offline_access` est facultative pour les applications Web.</span><span class="sxs-lookup"><span data-stu-id="53728-164">(We'll talk about this more later in the article.) The `offline_access` scope is optional for web apps.</span></span> <span data-ttu-id="53728-165">Elle indique que votre application a besoin d’un jeton d’actualisation pour un accès durable aux ressources.</span><span class="sxs-lookup"><span data-stu-id="53728-165">It indicates that your app needs a refresh token for long-lived access to resources.</span></span> |
| <span data-ttu-id="53728-166">state</span><span class="sxs-lookup"><span data-stu-id="53728-166">state</span></span> |<span data-ttu-id="53728-167">Recommandé</span><span class="sxs-lookup"><span data-stu-id="53728-167">Recommended</span></span> |<span data-ttu-id="53728-168">Valeur incluse dans la demande qui est également retournée dans la réponse de jeton.</span><span class="sxs-lookup"><span data-stu-id="53728-168">A value included in the request that also is returned in the token response.</span></span> <span data-ttu-id="53728-169">Il peut s’agir d’une chaîne de n’importe quel contenu que vous voulez utiliser.</span><span class="sxs-lookup"><span data-stu-id="53728-169">It can be a string of any content that you want to use.</span></span> <span data-ttu-id="53728-170">Généralement, une valeur unique générée de manière aléatoire est utilisée, de façon à empêcher les attaques par falsification de requête intersites.</span><span class="sxs-lookup"><span data-stu-id="53728-170">Usually, a randomly generated, unique value is used, to prevent cross-site request forgery attacks.</span></span> <span data-ttu-id="53728-171">L’état est également utilisé pour coder les informations sur l’état de l’utilisateur dans l’application avant la demande d’authentification, comme la page sur laquelle il était positionné.</span><span class="sxs-lookup"><span data-stu-id="53728-171">The state is also used to encode information about the user's state in the app before the authentication request occurred, like the page they were on.</span></span> |
| <span data-ttu-id="53728-172">nonce</span><span class="sxs-lookup"><span data-stu-id="53728-172">nonce</span></span> |<span data-ttu-id="53728-173">Requis</span><span class="sxs-lookup"><span data-stu-id="53728-173">Required</span></span> |<span data-ttu-id="53728-174">Une valeur incluse dans la demande (générée par l’application) qui est incluse dans le jeton d’ID résultant en tant que revendication.</span><span class="sxs-lookup"><span data-stu-id="53728-174">A value included in the request (generated by the app) that is included in the resulting ID token as a claim.</span></span> <span data-ttu-id="53728-175">L’application peut ensuite vérifier cette valeur afin de contrer les attaques par relecture de jetons.</span><span class="sxs-lookup"><span data-stu-id="53728-175">The app can then verify this value to mitigate token replay attacks.</span></span> <span data-ttu-id="53728-176">En général, la valeur est une chaîne unique aléatoire qui peut être utilisée pour identifier l’origine de la demande.</span><span class="sxs-lookup"><span data-stu-id="53728-176">Usually, the value is a randomized, unique string that can be used to identify the origin of the request.</span></span> |
| <span data-ttu-id="53728-177">p</span><span class="sxs-lookup"><span data-stu-id="53728-177">p</span></span> |<span data-ttu-id="53728-178">Requis</span><span class="sxs-lookup"><span data-stu-id="53728-178">Required</span></span> |<span data-ttu-id="53728-179">Stratégie à exécuter.</span><span class="sxs-lookup"><span data-stu-id="53728-179">The policy to execute.</span></span> <span data-ttu-id="53728-180">Il s’agit du nom d’une stratégie qui est créée dans votre locataire Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="53728-180">It's the name of a policy that is created in your Azure AD B2C tenant.</span></span> <span data-ttu-id="53728-181">La valeur du nom de la stratégie doit commencer par **b2c\_1\_**.</span><span class="sxs-lookup"><span data-stu-id="53728-181">The policy name value should begin with **b2c\_1\_**.</span></span> <span data-ttu-id="53728-182">Pour plus d’informations, consultez [Stratégies prédéfinies d’Azure AD B2C](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="53728-182">For more information, see [Azure AD B2C built-in policies](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="53728-183">prompt</span><span class="sxs-lookup"><span data-stu-id="53728-183">prompt</span></span> |<span data-ttu-id="53728-184">Facultatif</span><span class="sxs-lookup"><span data-stu-id="53728-184">Optional</span></span> |<span data-ttu-id="53728-185">Type d’interaction utilisateur demandée.</span><span class="sxs-lookup"><span data-stu-id="53728-185">The type of user interaction that's required.</span></span> <span data-ttu-id="53728-186">Actuellement, la seule valeur possible est `login`.</span><span class="sxs-lookup"><span data-stu-id="53728-186">Currently, the only valid value is `login`.</span></span> <span data-ttu-id="53728-187">Ceci force l’utilisateur à entrer ses informations d’identification pour cette demande.</span><span class="sxs-lookup"><span data-stu-id="53728-187">This forces the user to enter their credentials on that request.</span></span> <span data-ttu-id="53728-188">L’authentification unique ne prendra pas effet.</span><span class="sxs-lookup"><span data-stu-id="53728-188">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="53728-189">À ce stade, il est demandé à l’utilisateur d’effectuer le flux de travail de la stratégie.</span><span class="sxs-lookup"><span data-stu-id="53728-189">At this point, the user is asked to complete the policy's workflow.</span></span> <span data-ttu-id="53728-190">Il est possible que l’utilisateur doive entrer son nom d’utilisateur et son mot de passe, se connecter avec une identité sociale, s’inscrire à l’annuaire, etc.</span><span class="sxs-lookup"><span data-stu-id="53728-190">This might involve the user entering their username and password, signing in with a social identity, signing up for the directory, or any other number of steps.</span></span> <span data-ttu-id="53728-191">Les actions de l’utilisateur dépendent de la façon dont la stratégie est définie.</span><span class="sxs-lookup"><span data-stu-id="53728-191">User actions depend on how the policy is defined.</span></span>

<span data-ttu-id="53728-192">Une fois que l’utilisateur a terminé la stratégie, Azure AD retourne une réponse à votre application avec la valeur que vous avez utilisée pour `redirect_uri`.</span><span class="sxs-lookup"><span data-stu-id="53728-192">After the user completes the policy, Azure AD returns a response to your app at the value you used for `redirect_uri`.</span></span> <span data-ttu-id="53728-193">Il utilise la méthode spécifiée dans le paramètre `response_mode`.</span><span class="sxs-lookup"><span data-stu-id="53728-193">It uses the method specified in the `response_mode` parameter.</span></span> <span data-ttu-id="53728-194">La réponse est exactement la même pour chacun des scénarios d’actions utilisateur, indépendamment de la stratégie qui a été effectuée.</span><span class="sxs-lookup"><span data-stu-id="53728-194">The response is exactly the same for each of the user action scenarios, independent of the policy that was executed.</span></span>

### <a name="successful-response"></a><span data-ttu-id="53728-195">Réponse correcte</span><span class="sxs-lookup"><span data-stu-id="53728-195">Successful response</span></span>
<span data-ttu-id="53728-196">Une réponse correcte qui utilise `response_mode=fragment` et `response_type=id_token+token` est semblable à ceci (des sauts de ligne ont été insérés pour une meilleure lisibilité) :</span><span class="sxs-lookup"><span data-stu-id="53728-196">A successful response that uses `response_mode=fragment` and `response_type=id_token+token` looks like the following, with line breaks for legibility:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&token_type=Bearer
&expires_in=3599
&scope="90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
&id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
```

| <span data-ttu-id="53728-197">Paramètre</span><span class="sxs-lookup"><span data-stu-id="53728-197">Parameter</span></span> | <span data-ttu-id="53728-198">Description</span><span class="sxs-lookup"><span data-stu-id="53728-198">Description</span></span> |
| --- | --- |
| <span data-ttu-id="53728-199">access_token</span><span class="sxs-lookup"><span data-stu-id="53728-199">access_token</span></span> |<span data-ttu-id="53728-200">Le jeton d'accès que l’application a demandé.</span><span class="sxs-lookup"><span data-stu-id="53728-200">The access token that the app requested.</span></span>  <span data-ttu-id="53728-201">Le jeton d’accès ne doit pas être décodé ni inspecté.</span><span class="sxs-lookup"><span data-stu-id="53728-201">The access token should not be decoded or otherwise inspected.</span></span> <span data-ttu-id="53728-202">Il peut être traité comme une chaîne opaque.</span><span class="sxs-lookup"><span data-stu-id="53728-202">It can be treated as an opaque string.</span></span> |
| <span data-ttu-id="53728-203">token_type</span><span class="sxs-lookup"><span data-stu-id="53728-203">token_type</span></span> |<span data-ttu-id="53728-204">Valeur du type de jeton.</span><span class="sxs-lookup"><span data-stu-id="53728-204">The token type value.</span></span> <span data-ttu-id="53728-205">Le seul type de jeton pris en charge par Azure AD est le jeton porteur.</span><span class="sxs-lookup"><span data-stu-id="53728-205">The only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="53728-206">expires_in</span><span class="sxs-lookup"><span data-stu-id="53728-206">expires_in</span></span> |<span data-ttu-id="53728-207">Durée de validité du jeton d’accès (en secondes).</span><span class="sxs-lookup"><span data-stu-id="53728-207">The length of time that the access token is valid (in seconds).</span></span> |
| <span data-ttu-id="53728-208">scope</span><span class="sxs-lookup"><span data-stu-id="53728-208">scope</span></span> |<span data-ttu-id="53728-209">Étendues de validité du jeton.</span><span class="sxs-lookup"><span data-stu-id="53728-209">The scopes that the token is valid for.</span></span> <span data-ttu-id="53728-210">Vous pouvez également utiliser des étendues pour mettre en cache des jetons pour une utilisation ultérieure.</span><span class="sxs-lookup"><span data-stu-id="53728-210">You also can use scopes to cache tokens for later use.</span></span> |
| <span data-ttu-id="53728-211">id_token</span><span class="sxs-lookup"><span data-stu-id="53728-211">id_token</span></span> |<span data-ttu-id="53728-212">Le jeton d'ID que l’application a demandé.</span><span class="sxs-lookup"><span data-stu-id="53728-212">The ID token that the app requested.</span></span> <span data-ttu-id="53728-213">Vous pouvez utiliser le jeton d'ID pour vérifier l’identité de l’utilisateur et démarrer une session avec lui.</span><span class="sxs-lookup"><span data-stu-id="53728-213">You can use the ID token to verify the user's identity and begin a session with the user.</span></span> <span data-ttu-id="53728-214">Pour plus d’informations sur les jetons d’ID et leur contenu, consultez les [Informations de référence sur les jetons Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="53728-214">For more information about ID tokens and their contents, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |
| <span data-ttu-id="53728-215">state</span><span class="sxs-lookup"><span data-stu-id="53728-215">state</span></span> |<span data-ttu-id="53728-216">Si un paramètre `state` est inclus dans la demande, la même valeur doit apparaître dans la réponse.</span><span class="sxs-lookup"><span data-stu-id="53728-216">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="53728-217">L’application doit vérifier que les valeurs `state` de la demande et de la réponse sont identiques.</span><span class="sxs-lookup"><span data-stu-id="53728-217">The app should verify that the `state` values in the request and response are identical.</span></span> |

### <a name="error-response"></a><span data-ttu-id="53728-218">Réponse d’erreur</span><span class="sxs-lookup"><span data-stu-id="53728-218">Error response</span></span>
<span data-ttu-id="53728-219">Les réponses d’erreur peuvent également être envoyées à l’URI de redirection, pour que l’application puisse les traiter de façon appropriée :</span><span class="sxs-lookup"><span data-stu-id="53728-219">Error responses also can be sent to the redirect URI so that the app can handle them appropriately:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=access_denied
&error_description=the+user+canceled+the+authentication
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="53728-220">Paramètre</span><span class="sxs-lookup"><span data-stu-id="53728-220">Parameter</span></span> | <span data-ttu-id="53728-221">Description</span><span class="sxs-lookup"><span data-stu-id="53728-221">Description</span></span> |
| --- | --- |
| <span data-ttu-id="53728-222">error</span><span class="sxs-lookup"><span data-stu-id="53728-222">error</span></span> |<span data-ttu-id="53728-223">Une chaîne de code d’erreur utilisée pour classer les types d’erreurs qui se produisent.</span><span class="sxs-lookup"><span data-stu-id="53728-223">An error code string used to classify types of errors that occur.</span></span> <span data-ttu-id="53728-224">Vous pouvez aussi utiliser le code d’erreur pour la gestion des erreurs.</span><span class="sxs-lookup"><span data-stu-id="53728-224">You also can use the error code for error handling.</span></span> |
| <span data-ttu-id="53728-225">error_description</span><span class="sxs-lookup"><span data-stu-id="53728-225">error_description</span></span> |<span data-ttu-id="53728-226">Un message d’erreur spécifique qui peut vous aider à identifier la cause principale d’une erreur d’authentification.</span><span class="sxs-lookup"><span data-stu-id="53728-226">A specific error message that can help you identify the root cause of an authentication error.</span></span> |
| <span data-ttu-id="53728-227">state</span><span class="sxs-lookup"><span data-stu-id="53728-227">state</span></span> |<span data-ttu-id="53728-228">Consultez la description complète dans le tableau précédent.</span><span class="sxs-lookup"><span data-stu-id="53728-228">See the full description in the preceding table.</span></span> <span data-ttu-id="53728-229">Si un paramètre `state` est inclus dans la demande, la même valeur doit apparaître dans la réponse.</span><span class="sxs-lookup"><span data-stu-id="53728-229">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="53728-230">L’application doit vérifier que les valeurs `state` de la demande et de la réponse sont identiques.</span><span class="sxs-lookup"><span data-stu-id="53728-230">The app should verify that the `state` values in the request and response are identical.</span></span>|

## <a name="validate-the-id-token"></a><span data-ttu-id="53728-231">Validation du jeton d’ID</span><span class="sxs-lookup"><span data-stu-id="53728-231">Validate the ID token</span></span>
<span data-ttu-id="53728-232">La réception d’un jeton d’ID n’est pas suffisante pour authentifier l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="53728-232">Receiving an ID token is not enough to authenticate the user.</span></span> <span data-ttu-id="53728-233">Vous devez valider la signature du jeton d’ID et vérifier les revendications du jeton selon les exigences de votre application.</span><span class="sxs-lookup"><span data-stu-id="53728-233">You must validate the ID token's signature, and verify the claims in the token per your app's requirements.</span></span> <span data-ttu-id="53728-234">Azure AD B2C utilise les [jetons Web JSON (JWT)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) et le chiffrement de clés publiques pour signer les jetons et vérifier leur validité.</span><span class="sxs-lookup"><span data-stu-id="53728-234">Azure AD B2C uses [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) and public key cryptography to sign tokens and verify that they are valid.</span></span>

<span data-ttu-id="53728-235">Il existe de nombreuses bibliothèques open source pour valider les jetons JWT en fonction du langage que vous préférez utiliser.</span><span class="sxs-lookup"><span data-stu-id="53728-235">Many open-source libraries are available for validating JWTs, depending on the language you prefer to use.</span></span> <span data-ttu-id="53728-236">Nous vous recommandons d’explorer ces bibliothèques open source plutôt que d’implémenter votre propre logique de validation.</span><span class="sxs-lookup"><span data-stu-id="53728-236">Consider exploring available open-source libraries rather than implementing your own validation logic.</span></span> <span data-ttu-id="53728-237">Vous pouvez utiliser les informations de cet article pour découvrir comment utiliser correctement ces bibliothèques.</span><span class="sxs-lookup"><span data-stu-id="53728-237">You can use the information in this article to help you learn how to properly use those libraries.</span></span>

<span data-ttu-id="53728-238">Azure AD B2C a un point de terminaison des métadonnées OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="53728-238">Azure AD B2C has an OpenID Connect metadata endpoint.</span></span> <span data-ttu-id="53728-239">Une application peut utiliser le point de terminaison pour extraire des informations sur Azure AD B2C lors de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="53728-239">An app can use the endpoint to fetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="53728-240">Ces informations incluent les points de terminaison, le contenu des jetons et les clés de signature de jetons.</span><span class="sxs-lookup"><span data-stu-id="53728-240">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="53728-241">Il existe un document de métadonnées JSON pour chaque stratégie dans votre locataire Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="53728-241">There is a JSON metadata document for each policy in your Azure AD B2C tenant.</span></span> <span data-ttu-id="53728-242">Par exemple, le document de métadonnées pour la stratégie b2c_1_sign_in dans le locataire fabrikamb2c.onmicrosoft.com se trouve ici :</span><span class="sxs-lookup"><span data-stu-id="53728-242">For example, the metadata document for the b2c_1_sign_in policy in the fabrikamb2c.onmicrosoft.com tenant is located at:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in`

<span data-ttu-id="53728-243">Une des propriétés de ce document de configuration est `jwks_uri`.</span><span class="sxs-lookup"><span data-stu-id="53728-243">One of the properties of this configuration document is the `jwks_uri`.</span></span> <span data-ttu-id="53728-244">La valeur de la même stratégie serait :</span><span class="sxs-lookup"><span data-stu-id="53728-244">The value for the same policy would be:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`

<span data-ttu-id="53728-245">Pour déterminer la stratégie utilisée pour signer un jeton d’ID (et l’emplacement d’où extraire les métadonnées), deux options sont possibles.</span><span class="sxs-lookup"><span data-stu-id="53728-245">To determine which policy was used to sign an ID token (and where to fetch the metadata from), you have two options.</span></span> <span data-ttu-id="53728-246">D’abord, le nom de la stratégie est inclus dans la revendication `acr` de `id_token`.</span><span class="sxs-lookup"><span data-stu-id="53728-246">First, the policy name is included in the `acr` claim in `id_token`.</span></span> <span data-ttu-id="53728-247">Pour plus d’informations sur la façon d’analyser les revendications à partir d’un jeton d’ID, consultez [Informations de référence sur les jetons Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="53728-247">For information about how to parse the claims from an ID token, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="53728-248">L’autre option consiste à coder la stratégie dans la valeur du paramètre `state` lors de l’émission de la demande.</span><span class="sxs-lookup"><span data-stu-id="53728-248">Your other option is to encode the policy in the value of the `state` parameter when you issue the request.</span></span> <span data-ttu-id="53728-249">puis de décoder le paramètre `state` pour déterminer quelle stratégie a été utilisée.</span><span class="sxs-lookup"><span data-stu-id="53728-249">Then, decode the `state` parameter to determine which policy was used.</span></span> <span data-ttu-id="53728-250">Les 2 méthodes sont valides.</span><span class="sxs-lookup"><span data-stu-id="53728-250">Either method is valid.</span></span>

<span data-ttu-id="53728-251">Après avoir acquis le document de métadonnées auprès du point de terminaison de métadonnées OpenID Connect, vous pouvez utiliser les clés publiques RSA 256 (qui se trouvent sur ce point de terminaison) pour valider la signature du jeton d’ID.</span><span class="sxs-lookup"><span data-stu-id="53728-251">After you've acquired the metadata document from the OpenID Connect metadata endpoint, you can use the RSA-256 public keys (located at this endpoint) to validate the signature of the ID token.</span></span> <span data-ttu-id="53728-252">Il peut y avoir plusieurs clés répertoriées sur ce point de terminaison, chacune étant identifiée par un `kid`.</span><span class="sxs-lookup"><span data-stu-id="53728-252">There might be multiple keys listed at this endpoint at any given time, each identified by a `kid`.</span></span> <span data-ttu-id="53728-253">L’en-tête de `id_token` contient également une revendication de `kid`.</span><span class="sxs-lookup"><span data-stu-id="53728-253">The header of `id_token` also contains a `kid` claim.</span></span> <span data-ttu-id="53728-254">Il indique laquelle de ces clés a été utilisée pour signer le jeton d’ID.</span><span class="sxs-lookup"><span data-stu-id="53728-254">It indicates which of these keys was used to sign the ID token.</span></span> <span data-ttu-id="53728-255">Pour plus d’informations, notamment sur la [validation des jetons](active-directory-b2c-reference-tokens.md#token-validation), consultez les [informations de référence sur les jetons d’Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="53728-255">For more information, including learning about [validating tokens](active-directory-b2c-reference-tokens.md#token-validation), see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>
<!--TODO: Improve the information on this-->

<span data-ttu-id="53728-256">Après la validation de la signature du jeton d’ID, plusieurs revendications nécessitent une vérification.</span><span class="sxs-lookup"><span data-stu-id="53728-256">After you validate the signature of the ID token, several claims require verification.</span></span> <span data-ttu-id="53728-257">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="53728-257">For example:</span></span>

* <span data-ttu-id="53728-258">Validez la revendication `nonce` afin d’empêcher les attaques par relecture de jetons.</span><span class="sxs-lookup"><span data-stu-id="53728-258">Validate the `nonce` claim to prevent token replay attacks.</span></span> <span data-ttu-id="53728-259">Sa valeur doit correspondre à ce que vous avez spécifié dans la requête de connexion.</span><span class="sxs-lookup"><span data-stu-id="53728-259">Its value should be what you specified in the sign-in request.</span></span>
* <span data-ttu-id="53728-260">Validez la revendication `aud` pour vérifier que le jeton d’ID a été émis pour votre application.</span><span class="sxs-lookup"><span data-stu-id="53728-260">Validate the `aud` claim to ensure that the ID token was issued for your app.</span></span> <span data-ttu-id="53728-261">Sa valeur doit correspondre à l’ID d’application de votre application.</span><span class="sxs-lookup"><span data-stu-id="53728-261">Its value should be the application ID of your app.</span></span>
* <span data-ttu-id="53728-262">Validez les revendications `iat` et `exp` pour vérifier que le jeton d’ID n’est pas expiré.</span><span class="sxs-lookup"><span data-stu-id="53728-262">Validate the `iat` and `exp` claims to ensure that the ID token has not expired.</span></span>

<span data-ttu-id="53728-263">Plusieurs autres validations à effectuer sont décrites en détail dans les [spécifications principales d’OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="53728-263">Several more validations that you should perform are described in detail in the [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> <span data-ttu-id="53728-264">En fonction de votre scénario, vous pouvez également valider des revendications supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="53728-264">You might also want to validate additional claims, depending on your scenario.</span></span> <span data-ttu-id="53728-265">Voici quelques validations courantes :</span><span class="sxs-lookup"><span data-stu-id="53728-265">Some common validations include:</span></span>

* <span data-ttu-id="53728-266">Vérifier que l’utilisateur ou l’organisation s’est inscrit pour l’application.</span><span class="sxs-lookup"><span data-stu-id="53728-266">Ensuring that the user or organization has signed up for the app.</span></span>
* <span data-ttu-id="53728-267">Vérifier que l’utilisateur dispose de l’autorisation et des privilèges appropriés.</span><span class="sxs-lookup"><span data-stu-id="53728-267">Ensuring that the user has proper authorization and privileges.</span></span>
* <span data-ttu-id="53728-268">Vérifier qu’une certaine force d’authentification a été appliquée, comme Azure Multi-Factor Authentication.</span><span class="sxs-lookup"><span data-stu-id="53728-268">Ensuring that a certain strength of authentication has occurred, such as by using Azure Multi-Factor Authentication.</span></span>

<span data-ttu-id="53728-269">Pour plus d’informations sur les revendications dans un jeton d’ID, consultez les [Informations de référence sur les jetons Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="53728-269">For more information about the claims in an ID token, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>

<span data-ttu-id="53728-270">Une fois que vous avez entièrement validé le jeton d’ID, vous pouvez commencer une session avec l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="53728-270">After you have completely validated the ID token, you can begin a session with the user.</span></span> <span data-ttu-id="53728-271">Dans votre application, utilisez les revendications du jeton d’ID pour obtenir des informations sur l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="53728-271">In your app, use the claims in the ID token to obtain information about the user.</span></span> <span data-ttu-id="53728-272">Ces informations peuvent être utilisées pour l’affichage, les enregistrements, les autorisations, etc.</span><span class="sxs-lookup"><span data-stu-id="53728-272">This information can be used for display, records, authorization, and so on.</span></span>

## <a name="get-access-tokens"></a><span data-ttu-id="53728-273">Obtenir des jetons d’accès</span><span class="sxs-lookup"><span data-stu-id="53728-273">Get access tokens</span></span>
<span data-ttu-id="53728-274">Si la seule chose que doit faire votre application web est exécuter des stratégies, vous pouvez ignorer les quelques sections suivantes.</span><span class="sxs-lookup"><span data-stu-id="53728-274">If the only thing your web apps needs to do is execute policies, you can skip the next few sections.</span></span> <span data-ttu-id="53728-275">Les informations des sections suivantes s’appliquent uniquement aux applications web qui doivent effectuer des appels authentifiés à une API web et qui sont protégées par Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="53728-275">The information in the following sections are applicable only to web apps that need to make authenticated calls to a web API, and which are protected by Azure AD B2C.</span></span>

<span data-ttu-id="53728-276">Maintenant que vous avez connecté l’utilisateur à votre application à page unique, vous pouvez obtenir des jetons d’accès pour appeler des API web sécurisées par Azure AD.</span><span class="sxs-lookup"><span data-stu-id="53728-276">Now that you've signed the user in to your single-page app, you can get access tokens for calling web APIs that are secured by Azure AD.</span></span> <span data-ttu-id="53728-277">Même si vous avez déjà reçu un jeton en utilisant le type de réponse `token`, vous pouvez utiliser cette méthode pour acquérir des jetons pour des ressources supplémentaires sans avoir à demander à l’utilisateur de se reconnecter.</span><span class="sxs-lookup"><span data-stu-id="53728-277">Even if you have already received a token by using the `token` response type, you can use this method to acquire tokens for additional resources without redirecting the user to sign in again.</span></span>

<span data-ttu-id="53728-278">Dans le flux d’une application web standard, vous faites cela en effectuant une demande au point de terminaison `/token`.</span><span class="sxs-lookup"><span data-stu-id="53728-278">In a typical web app flow, you would do this by making a request to the `/token` endpoint.</span></span>  <span data-ttu-id="53728-279">Cependant, le point de terminaison ne prend pas en charge les demandes CORS : il n’est donc pas possible d’effectuer des appels AJAX pour obtenir et actualiser des jetons.</span><span class="sxs-lookup"><span data-stu-id="53728-279">However, the endpoint does not support CORS requests, so making AJAX calls to get and refresh tokens is not an option.</span></span> <span data-ttu-id="53728-280">Au lieu de cela, vous pouvez utiliser le flux implicite d’un élément IFrame HTML masqué pour obtenir de nouveaux jetons pour d’autres API web.</span><span class="sxs-lookup"><span data-stu-id="53728-280">Instead, you can use the implicit flow in a hidden HTML iframe element to get new tokens for other web APIs.</span></span> <span data-ttu-id="53728-281">Voici un exemple, avec des sauts de ligne pour une meilleure lisibilité :</span><span class="sxs-lookup"><span data-stu-id="53728-281">Here's an example, with line breaks for legibility:</span></span>

```

https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
&response_mode=fragment
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&prompt=none
&domain_hint=organizations
&login_hint=myuser@mycompany.com
&p=b2c_1_sign_in
```

| <span data-ttu-id="53728-282">Paramètre</span><span class="sxs-lookup"><span data-stu-id="53728-282">Parameter</span></span> | <span data-ttu-id="53728-283">Requis ?</span><span class="sxs-lookup"><span data-stu-id="53728-283">Required?</span></span> | <span data-ttu-id="53728-284">Description</span><span class="sxs-lookup"><span data-stu-id="53728-284">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="53728-285">client_id</span><span class="sxs-lookup"><span data-stu-id="53728-285">client_id</span></span> |<span data-ttu-id="53728-286">Requis</span><span class="sxs-lookup"><span data-stu-id="53728-286">Required</span></span> |<span data-ttu-id="53728-287">ID d’application affecté à votre application dans le [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="53728-287">The application ID assigned to your app in the [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="53728-288">response_type</span><span class="sxs-lookup"><span data-stu-id="53728-288">response_type</span></span> |<span data-ttu-id="53728-289">Requis</span><span class="sxs-lookup"><span data-stu-id="53728-289">Required</span></span> |<span data-ttu-id="53728-290">Doit inclure `id_token` pour la connexion à OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="53728-290">Must include `id_token` for OpenID Connect sign-in.</span></span>  <span data-ttu-id="53728-291">Il peut également inclure le type de réponse `token`.</span><span class="sxs-lookup"><span data-stu-id="53728-291">It might also include the response type `token`.</span></span> <span data-ttu-id="53728-292">Si vous utilisez `token` ici, votre application peut recevoir immédiatement un jeton d’accès du point de terminaison d’autorisation, sans avoir à effectuer une deuxième demande au point de terminaison d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="53728-292">If you use `token` here, your app can immediately receive an access token from the authorize endpoint, without making a second request to the authorize endpoint.</span></span> <span data-ttu-id="53728-293">Si vous utilisez le type de réponse `token`, le paramètre `scope` doit contenir une étendue indiquant la ressource pour laquelle le jeton doit être émis.</span><span class="sxs-lookup"><span data-stu-id="53728-293">If you use the `token` response type, the `scope` parameter must contain a scope that indicates which resource to issue the token for.</span></span> |
| <span data-ttu-id="53728-294">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="53728-294">redirect_uri</span></span> |<span data-ttu-id="53728-295">Recommandé</span><span class="sxs-lookup"><span data-stu-id="53728-295">Recommended</span></span> |<span data-ttu-id="53728-296">L’URI de redirection de votre application, vers lequel votre application peut envoyer et recevoir des réponses d’authentification.</span><span class="sxs-lookup"><span data-stu-id="53728-296">The redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="53728-297">Il doit correspondre exactement à un des URI de redirection inscrits dans le portail, sauf qu’il doit être codé dans une URL.</span><span class="sxs-lookup"><span data-stu-id="53728-297">It must exactly match one of the redirect URIs you registered in the portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="53728-298">scope</span><span class="sxs-lookup"><span data-stu-id="53728-298">scope</span></span> |<span data-ttu-id="53728-299">Requis</span><span class="sxs-lookup"><span data-stu-id="53728-299">Required</span></span> |<span data-ttu-id="53728-300">Une liste d’étendues séparées par des espaces.</span><span class="sxs-lookup"><span data-stu-id="53728-300">A space-separated list of scopes.</span></span>  <span data-ttu-id="53728-301">Pour obtenir des jetons, incluez toutes les étendues dont vous avez besoin pour la ressource concernée.</span><span class="sxs-lookup"><span data-stu-id="53728-301">For getting tokens, include all scopes that you require for the intended resource.</span></span> |
| <span data-ttu-id="53728-302">response_mode</span><span class="sxs-lookup"><span data-stu-id="53728-302">response_mode</span></span> |<span data-ttu-id="53728-303">Recommandé</span><span class="sxs-lookup"><span data-stu-id="53728-303">Recommended</span></span> |<span data-ttu-id="53728-304">Spécifie la méthode utilisée pour envoyer le jeton résultant à votre application.</span><span class="sxs-lookup"><span data-stu-id="53728-304">Specifies the method that is used to send the resulting token back to your app.</span></span>  <span data-ttu-id="53728-305">Peut être `query`, `form_post` ou `fragment`.</span><span class="sxs-lookup"><span data-stu-id="53728-305">Can be `query`, `form_post`, or `fragment`.</span></span> |
| <span data-ttu-id="53728-306">state</span><span class="sxs-lookup"><span data-stu-id="53728-306">state</span></span> |<span data-ttu-id="53728-307">Recommandé</span><span class="sxs-lookup"><span data-stu-id="53728-307">Recommended</span></span> |<span data-ttu-id="53728-308">Une valeur incluse dans la requête qui est également renvoyée dans la réponse de jeton.</span><span class="sxs-lookup"><span data-stu-id="53728-308">A value included in the request that is returned in the token response.</span></span>  <span data-ttu-id="53728-309">Il peut s’agir d’une chaîne de n’importe quel contenu que vous voulez utiliser.</span><span class="sxs-lookup"><span data-stu-id="53728-309">It can be a string of any content that you want to use.</span></span>  <span data-ttu-id="53728-310">Généralement, une valeur unique générée de manière aléatoire est utilisée, de façon à empêcher les attaques par falsification de requête intersites.</span><span class="sxs-lookup"><span data-stu-id="53728-310">Usually, a randomly generated, unique value is used, to prevent cross-site request forgery attacks.</span></span>  <span data-ttu-id="53728-311">L’état est également utilisé pour coder les informations sur l’état de l’utilisateur dans l’application avant la demande d’authentification.</span><span class="sxs-lookup"><span data-stu-id="53728-311">The state also is used to encode information about the user's state in the app before the authentication request occurred.</span></span> <span data-ttu-id="53728-312">Par exemple, la page ou la vue où était l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="53728-312">For example, the page or view the user was on.</span></span> |
| <span data-ttu-id="53728-313">nonce</span><span class="sxs-lookup"><span data-stu-id="53728-313">nonce</span></span> |<span data-ttu-id="53728-314">Requis</span><span class="sxs-lookup"><span data-stu-id="53728-314">Required</span></span> |<span data-ttu-id="53728-315">Valeur incluse dans la demande, générée par l’application, qui est incluse dans le jeton d’ID résultant en tant que revendication.</span><span class="sxs-lookup"><span data-stu-id="53728-315">A value included in the request, generated by the app, that is included in the resulting ID token as a claim.</span></span>  <span data-ttu-id="53728-316">L’application peut ensuite vérifier cette valeur afin de contrer les attaques par relecture de jetons.</span><span class="sxs-lookup"><span data-stu-id="53728-316">The app can then verify this value to mitigate token replay attacks.</span></span> <span data-ttu-id="53728-317">La valeur est généralement une chaîne unique aléatoire qui identifie l’origine de la demande.</span><span class="sxs-lookup"><span data-stu-id="53728-317">Usually, the value is a randomized, unique string that identifies the origin of the request.</span></span> |
| <span data-ttu-id="53728-318">prompt</span><span class="sxs-lookup"><span data-stu-id="53728-318">prompt</span></span> |<span data-ttu-id="53728-319">Requis</span><span class="sxs-lookup"><span data-stu-id="53728-319">Required</span></span> |<span data-ttu-id="53728-320">Pour actualiser et obtenir des jetons dans un IFrame masqué, utilisez `prompt=none` pour que l’IFrame ne se bloque pas sur la page de connexion et ne retourne pas immédiatement.</span><span class="sxs-lookup"><span data-stu-id="53728-320">To refresh and get tokens in a hidden iframe, use `prompt=none` to ensure that the iframe does not get stuck on the sign-in page, and returns immediately.</span></span> |
| <span data-ttu-id="53728-321">login_hint</span><span class="sxs-lookup"><span data-stu-id="53728-321">login_hint</span></span> |<span data-ttu-id="53728-322">Requis</span><span class="sxs-lookup"><span data-stu-id="53728-322">Required</span></span> |<span data-ttu-id="53728-323">Pour actualiser et obtenir des jetons dans un IFrame masqué, vous devez inclure dans cet indicateur le nom d’utilisateur de l’utilisateur afin de faire la distinction entre différentes sessions que l’utilisateur pourrait avoir à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="53728-323">To refresh and get tokens in a hidden iframe, include the username of the user in this hint to distinguish between multiple sessions the user might have at a given  time.</span></span> <span data-ttu-id="53728-324">Vous pouvez extraire le nom d’utilisateur à partir d’une connexion précédente en utilisant la revendication `preferred_username`.</span><span class="sxs-lookup"><span data-stu-id="53728-324">You can extract the username from an earlier sign-in by using the `preferred_username` claim.</span></span> |
| <span data-ttu-id="53728-325">domain_hint</span><span class="sxs-lookup"><span data-stu-id="53728-325">domain_hint</span></span> |<span data-ttu-id="53728-326">Requis</span><span class="sxs-lookup"><span data-stu-id="53728-326">Required</span></span> |<span data-ttu-id="53728-327">Peut être `consumers` ou `organizations`.</span><span class="sxs-lookup"><span data-stu-id="53728-327">Can be `consumers` or `organizations`.</span></span>  <span data-ttu-id="53728-328">Pour actualiser et obtenir des jetons dans un IFrame masqué, vous devez inclure la valeur `domain_hint` dans la demande.</span><span class="sxs-lookup"><span data-stu-id="53728-328">For refreshing and getting tokens in a hidden iframe, you must include the `domain_hint` value in the request.</span></span>  <span data-ttu-id="53728-329">Extrayez la revendication `tid` du jeton d’ID d’une connexion précédente pour déterminer la valeur à utiliser.</span><span class="sxs-lookup"><span data-stu-id="53728-329">Extract the `tid` claim from the ID token of an earlier sign-in to determine which value to use.</span></span>  <span data-ttu-id="53728-330">Si la valeur de la revendication `tid` est `9188040d-6c67-4c5b-b112-36a304b66dad`, utilisez `domain_hint=consumers`.</span><span class="sxs-lookup"><span data-stu-id="53728-330">If the `tid` claim value is `9188040d-6c67-4c5b-b112-36a304b66dad`,  use `domain_hint=consumers`.</span></span>  <span data-ttu-id="53728-331">Sinon, utilisez `domain_hint=organizations`.</span><span class="sxs-lookup"><span data-stu-id="53728-331">Otherwise, use `domain_hint=organizations`.</span></span> |

<span data-ttu-id="53728-332">Avec le paramètre `prompt=none`, cette demande réussit ou échoue immédiatement, et retourne à votre application.</span><span class="sxs-lookup"><span data-stu-id="53728-332">By setting the `prompt=none` parameter, this request either succeeds or fails immediately, and returns to your application.</span></span>  <span data-ttu-id="53728-333">Une réponse correcte est envoyée à votre application à l’URI de redirection indiqué, en utilisant la méthode spécifiée dans le paramètre `response_mode`.</span><span class="sxs-lookup"><span data-stu-id="53728-333">A successful response is sent to your app at the indicated redirect URI, by using the method specified in the `response_mode` parameter.</span></span>

### <a name="successful-response"></a><span data-ttu-id="53728-334">Réponse correcte</span><span class="sxs-lookup"><span data-stu-id="53728-334">Successful response</span></span>
<span data-ttu-id="53728-335">Une réponse de réussite utilisant `response_mode=fragment` se présente ainsi :</span><span class="sxs-lookup"><span data-stu-id="53728-335">A successful response by using `response_mode=fragment` looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
&token_type=Bearer
&expires_in=3599
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
```

| <span data-ttu-id="53728-336">Paramètre</span><span class="sxs-lookup"><span data-stu-id="53728-336">Parameter</span></span> | <span data-ttu-id="53728-337">Description</span><span class="sxs-lookup"><span data-stu-id="53728-337">Description</span></span> |
| --- | --- |
| <span data-ttu-id="53728-338">access_token</span><span class="sxs-lookup"><span data-stu-id="53728-338">access_token</span></span> |<span data-ttu-id="53728-339">Le jeton que l’application a demandé.</span><span class="sxs-lookup"><span data-stu-id="53728-339">The token that the app requested.</span></span> |
| <span data-ttu-id="53728-340">token_type</span><span class="sxs-lookup"><span data-stu-id="53728-340">token_type</span></span> |<span data-ttu-id="53728-341">Le type de jeton sera toujours Porteur.</span><span class="sxs-lookup"><span data-stu-id="53728-341">The token type will always be Bearer.</span></span> |
| <span data-ttu-id="53728-342">state</span><span class="sxs-lookup"><span data-stu-id="53728-342">state</span></span> |<span data-ttu-id="53728-343">Si un paramètre `state` est inclus dans la demande, la même valeur doit apparaître dans la réponse.</span><span class="sxs-lookup"><span data-stu-id="53728-343">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="53728-344">L’application doit vérifier que les valeurs `state` de la demande et de la réponse sont identiques.</span><span class="sxs-lookup"><span data-stu-id="53728-344">The app should verify that the `state` values in the request and response are identical.</span></span> |
| <span data-ttu-id="53728-345">expires_in</span><span class="sxs-lookup"><span data-stu-id="53728-345">expires_in</span></span> |<span data-ttu-id="53728-346">La durée de validité (en secondes) du jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="53728-346">How long the access token is valid (in seconds).</span></span> |
| <span data-ttu-id="53728-347">scope</span><span class="sxs-lookup"><span data-stu-id="53728-347">scope</span></span> |<span data-ttu-id="53728-348">Les étendues de validité du jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="53728-348">The scopes that the access token is valid for.</span></span> |

### <a name="error-response"></a><span data-ttu-id="53728-349">Réponse d’erreur</span><span class="sxs-lookup"><span data-stu-id="53728-349">Error response</span></span>
<span data-ttu-id="53728-350">Les réponses d’erreur peuvent également être envoyées à l’URI de redirection, pour que l’application puisse les traiter de façon appropriée.</span><span class="sxs-lookup"><span data-stu-id="53728-350">Error responses also can be sent to the redirect URI so that the app can handle them appropriately.</span></span>  <span data-ttu-id="53728-351">Pour `prompt=none`, une erreur attendue se présente ainsi :</span><span class="sxs-lookup"><span data-stu-id="53728-351">For `prompt=none`, an expected error looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=user_authentication_required
&error_description=the+request+could+not+be+completed+silently
```

| <span data-ttu-id="53728-352">Paramètre</span><span class="sxs-lookup"><span data-stu-id="53728-352">Parameter</span></span> | <span data-ttu-id="53728-353">Description</span><span class="sxs-lookup"><span data-stu-id="53728-353">Description</span></span> |
| --- | --- |
| <span data-ttu-id="53728-354">error</span><span class="sxs-lookup"><span data-stu-id="53728-354">error</span></span> |<span data-ttu-id="53728-355">Une chaîne de code d’erreur qui peut être utilisée pour classer les types d’erreurs qui se produisent.</span><span class="sxs-lookup"><span data-stu-id="53728-355">An error code string that can be used to classify types of errors that occur.</span></span> <span data-ttu-id="53728-356">Vous pouvez également utiliser la chaîne pour réagir aux erreurs.</span><span class="sxs-lookup"><span data-stu-id="53728-356">You also can use the string to react to errors.</span></span> |
| <span data-ttu-id="53728-357">error_description</span><span class="sxs-lookup"><span data-stu-id="53728-357">error_description</span></span> |<span data-ttu-id="53728-358">Un message d’erreur spécifique qui peut vous aider à identifier la cause principale d’une erreur d’authentification.</span><span class="sxs-lookup"><span data-stu-id="53728-358">A specific error message that can help you identify the root cause of an authentication error.</span></span> |

<span data-ttu-id="53728-359">Si vous recevez cette erreur dans la requête iFrame, l’utilisateur doit se connecter de nouveau de manière interactive, ceci pour récupérer un nouveau jeton.</span><span class="sxs-lookup"><span data-stu-id="53728-359">If you receive this error in the iframe request, the user must interactively sign in again to retrieve a new token.</span></span> <span data-ttu-id="53728-360">Vous pouvez gérer ceci de manière appropriée pour votre application.</span><span class="sxs-lookup"><span data-stu-id="53728-360">You can handle this in a way that makes sense for your application.</span></span>

## <a name="refresh-tokens"></a><span data-ttu-id="53728-361">Jetons d’actualisation</span><span class="sxs-lookup"><span data-stu-id="53728-361">Refresh tokens</span></span>
<span data-ttu-id="53728-362">Les jetons d’ID et les jetons d’accès expirent après une courte période de temps.</span><span class="sxs-lookup"><span data-stu-id="53728-362">ID tokens and access tokens both expire after a short period of time.</span></span> <span data-ttu-id="53728-363">Votre application doit actualiser ces jetons périodiquement.</span><span class="sxs-lookup"><span data-stu-id="53728-363">Your app must be prepared to refresh these tokens periodically.</span></span>  <span data-ttu-id="53728-364">Pour actualiser chaque type de jeton, exécutez la même demande d’IFrame masqué que dans l’exemple précédent, en utilisant le paramètre `prompt=none` pour contrôler les étapes d’Azure AD.</span><span class="sxs-lookup"><span data-stu-id="53728-364">To refresh either type of token, perform the same hidden iframe request we used in an earlier example, by using the `prompt=none` parameter to control Azure AD steps.</span></span>  <span data-ttu-id="53728-365">Pour recevoir une nouvelle valeur `id_token`, utilisez `response_type=id_token` et `scope=openid`, ainsi qu’un paramètre `nonce`.</span><span class="sxs-lookup"><span data-stu-id="53728-365">To receive a new `id_token` value, be sure to use `response_type=id_token` and `scope=openid`, and a `nonce` parameter.</span></span>

## <a name="send-a-sign-out-request"></a><span data-ttu-id="53728-366">Envoi d’une demande de déconnexion</span><span class="sxs-lookup"><span data-stu-id="53728-366">Send a sign-out request</span></span>
<span data-ttu-id="53728-367">Lorsque vous souhaitez déconnecter l’utilisateur de l’application, redirigez l’utilisateur vers Azure AD pour effectuer cette déconnexion.</span><span class="sxs-lookup"><span data-stu-id="53728-367">When you want to sign the user out of the app, redirect the user to Azure AD to sign out.</span></span> <span data-ttu-id="53728-368">Si vous ne le faites pas, l’utilisateur doit pouvoir se réauthentifier auprès de votre application sans entrer à nouveau ses informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="53728-368">If you don't do this, the user might be able to reauthenticate to your app without entering their credentials again.</span></span> <span data-ttu-id="53728-369">En effet, il dispose d’une session d’authentification unique valide avec Azure AD.</span><span class="sxs-lookup"><span data-stu-id="53728-369">This is because they will have a valid single sign-on session with Azure AD.</span></span>

<span data-ttu-id="53728-370">Vous pouvez simplement rediriger l’utilisateur vers le `end_session_endpoint` qui est répertorié dans le même document de métadonnées OpenID Connect décrit dans [Validation du jeton d’ID](#validate-the-id-token).</span><span class="sxs-lookup"><span data-stu-id="53728-370">You can simply redirect the user to the `end_session_endpoint` that is listed in the same OpenID Connect metadata document described in [Validate the ID token](#validate-the-id-token).</span></span> <span data-ttu-id="53728-371">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="53728-371">For example:</span></span>

```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/logout?
p=b2c_1_sign_in
&post_logout_redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
```

| <span data-ttu-id="53728-372">Paramètre</span><span class="sxs-lookup"><span data-stu-id="53728-372">Parameter</span></span> | <span data-ttu-id="53728-373">Requis ?</span><span class="sxs-lookup"><span data-stu-id="53728-373">Required?</span></span> | <span data-ttu-id="53728-374">Description</span><span class="sxs-lookup"><span data-stu-id="53728-374">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="53728-375">p</span><span class="sxs-lookup"><span data-stu-id="53728-375">p</span></span> |<span data-ttu-id="53728-376">Requis</span><span class="sxs-lookup"><span data-stu-id="53728-376">Required</span></span> |<span data-ttu-id="53728-377">La stratégie à utiliser pour déconnecter l’utilisateur de votre application.</span><span class="sxs-lookup"><span data-stu-id="53728-377">The policy to use to sign the user out of your application.</span></span> |
| <span data-ttu-id="53728-378">post_logout_redirect_uri</span><span class="sxs-lookup"><span data-stu-id="53728-378">post_logout_redirect_uri</span></span> |<span data-ttu-id="53728-379">Recommandé</span><span class="sxs-lookup"><span data-stu-id="53728-379">Recommended</span></span> |<span data-ttu-id="53728-380">URL vers laquelle l’utilisateur doit être redirigé après la déconnexion.</span><span class="sxs-lookup"><span data-stu-id="53728-380">The URL that the user should be redirected to after successful sign-out.</span></span> <span data-ttu-id="53728-381">Si elle n’est pas incluse, Azure AD B2C affiche un message générique à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="53728-381">If it is not included, Azure AD B2C displays a generic message to the user.</span></span> |

> [!NOTE]
> <span data-ttu-id="53728-382">La redirection de l’utilisateur vers le `end_session_endpoint` efface certains états de l’authentification unique de l’utilisateur auprès d’Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="53728-382">Directing the user to the `end_session_endpoint` clears some of the user's single sign-on state with Azure AD B2C.</span></span> <span data-ttu-id="53728-383">Il ne déconnecte cependant pas l’utilisateur de la session du fournisseur d’identité sociale de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="53728-383">However, it doesn't sign the user out of the user's social identity provider session.</span></span> <span data-ttu-id="53728-384">Si l’utilisateur sélectionne le même fournisseur d’identité lors d’une connexion ultérieure, il est réauthentifié sans entrer ses informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="53728-384">If the user selects the same identify provider during a subsequent sign-in, the user is reauthenticated, without entering their credentials.</span></span> <span data-ttu-id="53728-385">Si un utilisateur veut se déconnecter de votre application Azure AD B2C, cela ne signifie pas nécessairement qu’il veut se déconnecter complètement, par exemple de son compte Facebook.</span><span class="sxs-lookup"><span data-stu-id="53728-385">If a user wants to sign out of your Azure AD B2C application, it does not necessarily mean they want to completely sign out of their Facebook account, for example.</span></span> <span data-ttu-id="53728-386">Cependant, pour des comptes locaux, la session de l’utilisateur sera terminée correctement.</span><span class="sxs-lookup"><span data-stu-id="53728-386">However, for local accounts, the user's session will be ended properly.</span></span>
> 
> 

## <a name="use-your-own-azure-ad-b2c-tenant"></a><span data-ttu-id="53728-387">Utiliser votre propre locataire Azure AD B2C</span><span class="sxs-lookup"><span data-stu-id="53728-387">Use your own Azure AD B2C tenant</span></span>
<span data-ttu-id="53728-388">Pour essayer vous-même ces demandes, procédez selon les trois étapes suivantes.</span><span class="sxs-lookup"><span data-stu-id="53728-388">To try these requests yourself, complete the following three steps.</span></span> <span data-ttu-id="53728-389">Remplacez les exemples de valeurs que nous utilisons dans cet article par vos propres valeurs :</span><span class="sxs-lookup"><span data-stu-id="53728-389">Replace the example values we use in this article with your own values:</span></span>

1. <span data-ttu-id="53728-390">[Créez un locataire Azure AD B2C](active-directory-b2c-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="53728-390">[Create an Azure AD B2C tenant](active-directory-b2c-get-started.md).</span></span> <span data-ttu-id="53728-391">Utilisez le nom de votre locataire dans les demandes.</span><span class="sxs-lookup"><span data-stu-id="53728-391">Use the name of your tenant in the requests.</span></span>
2. <span data-ttu-id="53728-392">[Créez une application](active-directory-b2c-app-registration.md) pour obtenir un ID d’application et une valeur pour `redirect_uri`.</span><span class="sxs-lookup"><span data-stu-id="53728-392">[Create an application](active-directory-b2c-app-registration.md) to obtain an application ID and a `redirect_uri` value.</span></span> <span data-ttu-id="53728-393">Incluez une application web ou une API web dans votre application.</span><span class="sxs-lookup"><span data-stu-id="53728-393">Include a web app or web API in your app.</span></span> <span data-ttu-id="53728-394">Si vous le souhaitez, vous pouvez créer un secret d’application.</span><span class="sxs-lookup"><span data-stu-id="53728-394">Optionally, you can create an application secret.</span></span>
3. <span data-ttu-id="53728-395">[Créez vos stratégies](active-directory-b2c-reference-policies.md) pour obtenir les noms de vos stratégies.</span><span class="sxs-lookup"><span data-stu-id="53728-395">[Create your policies](active-directory-b2c-reference-policies.md) to obtain your policy names.</span></span>

## <a name="samples"></a><span data-ttu-id="53728-396">Exemples</span><span class="sxs-lookup"><span data-stu-id="53728-396">Samples</span></span>

* [<span data-ttu-id="53728-397">Créer une application à page unique en utilisant Node.js</span><span class="sxs-lookup"><span data-stu-id="53728-397">Create a single-page app by using Node.js</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi)
* [<span data-ttu-id="53728-398">Créer une application à page unique en utilisant .NET</span><span class="sxs-lookup"><span data-stu-id="53728-398">Create a single-page app by using .NET</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi)

