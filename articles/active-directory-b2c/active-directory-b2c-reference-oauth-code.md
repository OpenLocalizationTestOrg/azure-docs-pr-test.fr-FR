---
title: "Flux de code d’autorisation - Azure AD B2C | Microsoft Docs"
description: "Découvrez comment toobuild web des applications à l’aide du protocole d’authentification Azure AD B2C et OpenID Connect."
services: active-directory-b2c
documentationcenter: 
author: saeedakhter-msft
manager: krassk
editor: parakhj
ms.assetid: c371aaab-813a-4317-97df-b62e2f53d865
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/16/2017
ms.author: saeedakhter-msft
ms.openlocfilehash: 6bf9d37310bd45b39bda346441413556f9fd4fdc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-b2c-oauth-20-authorization-code-flow"></a><span data-ttu-id="c01b4-103">Azure Active Directory B2C : flux de code d’autorisation OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="c01b4-103">Azure Active Directory B2C: OAuth 2.0 authorization code flow</span></span>
<span data-ttu-id="c01b4-104">Vous pouvez utiliser l’octroi d’un code d’autorisation hello OAuth 2.0 dans les applications installées sur un appareil toogain accès tooprotected des ressources, telles que les API web.</span><span class="sxs-lookup"><span data-stu-id="c01b4-104">You can use hello OAuth 2.0 authorization code grant in apps installed on a device toogain access tooprotected resources, such as web APIs.</span></span> <span data-ttu-id="c01b4-105">À l’aide de mise en œuvre de hello Azure Active Directory B2C (Azure AD B2C) de OAuth 2.0, vous pouvez ajouter d’abonnement, connectez-vous et les tâches de gestion d’identité tooyour des applications mobiles et de bureau.</span><span class="sxs-lookup"><span data-stu-id="c01b4-105">By using hello Azure Active Directory B2C (Azure AD B2C) implementation of OAuth 2.0, you can add sign-up, sign-in, and other identity management tasks tooyour mobile and desktop apps.</span></span> <span data-ttu-id="c01b4-106">Cet article est indépendant du langage.</span><span class="sxs-lookup"><span data-stu-id="c01b4-106">This article is language-independent.</span></span> <span data-ttu-id="c01b4-107">Dans l’article hello, nous décrivons comment toosend et recevoir des messages HTTP sans utiliser les bibliothèques open source.</span><span class="sxs-lookup"><span data-stu-id="c01b4-107">In hello article, we describe how toosend and receive HTTP messages without using any open-source libraries.</span></span>

<!-- TODO: Need link toolibraries -->

<span data-ttu-id="c01b4-108">Hello flux de code d’autorisation OAuth 2.0 est décrit dans [section 4.1 de spécification de hello OAuth 2.0](http://tools.ietf.org/html/rfc6749).</span><span class="sxs-lookup"><span data-stu-id="c01b4-108">hello OAuth 2.0 authorization code flow is described in [section 4.1 of hello OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="c01b4-109">Vous pouvez l’utiliser pour les activités d’authentification et d’autorisation avec la plupart des types d’applications, notamment les [applications web](active-directory-b2c-apps.md#web-apps) et les [applications installées de façon native](active-directory-b2c-apps.md#mobile-and-native-apps).</span><span class="sxs-lookup"><span data-stu-id="c01b4-109">You can use it for authentication and authorization in most app types, including [web apps](active-directory-b2c-apps.md#web-apps) and [natively installed apps](active-directory-b2c-apps.md#mobile-and-native-apps).</span></span> <span data-ttu-id="c01b4-110">Vous pouvez utiliser hello OAuth 2.0 toosecurely de flux de code d’autorisation acquérir *jetons d’accès* pour vos applications, ce qui peut être utilisé tooaccess les ressources qui sont sécurisés par une [serveur d’autorisation](active-directory-b2c-reference-protocols.md#the-basics).</span><span class="sxs-lookup"><span data-stu-id="c01b4-110">You can use hello OAuth 2.0 authorization code flow toosecurely acquire *access tokens* for your apps, which can be used tooaccess resources that are secured by an [authorization server](active-directory-b2c-reference-protocols.md#the-basics).</span></span>

<span data-ttu-id="c01b4-111">Cet article se concentre sur hello **clients publics** flux de code d’autorisation OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="c01b4-111">This article focuses on hello **public clients** OAuth 2.0 authorization code flow.</span></span> <span data-ttu-id="c01b4-112">Un client public est toute application cliente qui ne peut pas être approuvée toosecurely préserver l’intégrité des hello de mot de passe secret principal.</span><span class="sxs-lookup"><span data-stu-id="c01b4-112">A public client is any client application that cannot be trusted toosecurely maintain hello integrity of a secret password.</span></span> <span data-ttu-id="c01b4-113">Cela inclut les applications mobiles, les applications de bureau et essentiellement n’importe quelle application qui s’exécute sur un appareil et nécessite des jetons d’accès tooget.</span><span class="sxs-lookup"><span data-stu-id="c01b4-113">This includes mobile apps, desktop apps, and essentially any application that runs on a device and needs tooget access tokens.</span></span> 

> [!NOTE]
> <span data-ttu-id="c01b4-114">application tooadd identity management tooa web à l’aide d’Azure AD B2C, utilisez [OpenID Connect](active-directory-b2c-reference-oidc.md) au lieu de OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="c01b4-114">tooadd identity management tooa web app by using Azure AD B2C, use [OpenID Connect](active-directory-b2c-reference-oidc.md) instead of OAuth 2.0.</span></span>

<span data-ttu-id="c01b4-115">Azure AD B2C étend standard hello Qu'oauth 2.0 flux toodo plus de l’autorisation et d’authentification simple.</span><span class="sxs-lookup"><span data-stu-id="c01b4-115">Azure AD B2C extends hello standard OAuth 2.0 flows toodo more than simple authentication and authorization.</span></span> <span data-ttu-id="c01b4-116">Il introduit hello [paramètre de stratégie](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="c01b4-116">It introduces hello [policy parameter](active-directory-b2c-reference-policies.md).</span></span> <span data-ttu-id="c01b4-117">Avec les stratégies intégrées, vous pouvez utiliser OAuth 2.0 tooadd utilisateur rencontre tooyour application, telles que d’abonnement, connectez-vous et gestion des profils.</span><span class="sxs-lookup"><span data-stu-id="c01b4-117">With built-in policies, you can use OAuth 2.0 tooadd user experiences tooyour app, such as sign-up, sign-in, and profile management.</span></span> <span data-ttu-id="c01b4-118">Dans cet article, nous vous indiquons comment toouse tooimplement OAuth 2.0 et les stratégies de chacun de ces expériences dans vos applications natives.</span><span class="sxs-lookup"><span data-stu-id="c01b4-118">In this article, we show you how toouse OAuth 2.0 and policies tooimplement each of these experiences in your native applications.</span></span> <span data-ttu-id="c01b4-119">Nous vous montrons également comment tooget les jetons d’accès pour l’accès aux API web.</span><span class="sxs-lookup"><span data-stu-id="c01b4-119">We also show you how tooget access tokens for accessing web APIs.</span></span>

<span data-ttu-id="c01b4-120">Dans les requêtes d’exemple HTTP hello dans cet article, nous utilisons notre répertoire Azure AD B2C d’exemple, **fabrikamb2c.onmicrosoft.com**. Nous utilisons également nos exemples d’application et de stratégies.</span><span class="sxs-lookup"><span data-stu-id="c01b4-120">In hello example HTTP requests in this article, we use our sample Azure AD B2C directory, **fabrikamb2c.onmicrosoft.com**. We also use our sample application and policies.</span></span> <span data-ttu-id="c01b4-121">Vous pouvez essayer de demandes de hello vous-même à l’aide de ces valeurs, ou vous pouvez les remplacer par vos propres valeurs.</span><span class="sxs-lookup"><span data-stu-id="c01b4-121">You can try hello requests yourself by using these values, or you can replace them with your own values.</span></span>
<span data-ttu-id="c01b4-122">Découvrez comment trop[obtenir votre propre annuaire Azure AD B2C, application et des stratégies](#use-your-own-azure-ad-b2c-directory).</span><span class="sxs-lookup"><span data-stu-id="c01b4-122">Learn how too[get your own Azure AD B2C directory, application, and policies](#use-your-own-azure-ad-b2c-directory).</span></span>

## <a name="1-get-an-authorization-code"></a><span data-ttu-id="c01b4-123">1. Obtention d’un code d’autorisation</span><span class="sxs-lookup"><span data-stu-id="c01b4-123">1. Get an authorization code</span></span>
<span data-ttu-id="c01b4-124">flux de code d’autorisation Hello commence par client hello dirigeant hello utilisateur toohello `/authorize` point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="c01b4-124">hello authorization code flow begins with hello client directing hello user toohello `/authorize` endpoint.</span></span> <span data-ttu-id="c01b4-125">Il s’agit partie interactive de hello du flux de hello, où les utilisateurs hello intervient.</span><span class="sxs-lookup"><span data-stu-id="c01b4-125">This is hello interactive part of hello flow, where hello user takes action.</span></span> <span data-ttu-id="c01b4-126">Dans cette demande, les clients hello indique Bonjour `scope` autorisations hello de paramètre qu’il nécessite de tooacquire à partir de l’utilisateur de hello.</span><span class="sxs-lookup"><span data-stu-id="c01b4-126">In this request, hello client indicates in hello `scope` parameter hello permissions that it needs tooacquire from hello user.</span></span> <span data-ttu-id="c01b4-127">Bonjour `p` paramètre, il indique hello stratégie tooexecute.</span><span class="sxs-lookup"><span data-stu-id="c01b4-127">In hello `p` parameter, it indicates hello policy tooexecute.</span></span> <span data-ttu-id="c01b4-128">Hello trois chacun des exemples suivants (avec les sauts de ligne pour une meilleure lisibilité) utilisent une stratégie différente.</span><span class="sxs-lookup"><span data-stu-id="c01b4-128">hello following three examples (with line breaks for readability) each use a different policy.</span></span>

### <a name="use-a-sign-in-policy"></a><span data-ttu-id="c01b4-129">Utilisation d’une stratégie de connexion</span><span class="sxs-lookup"><span data-stu-id="c01b4-129">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_sign_in
```

### <a name="use-a-sign-up-policy"></a><span data-ttu-id="c01b4-130">Utilisation d’une stratégie d’inscription</span><span class="sxs-lookup"><span data-stu-id="c01b4-130">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_sign_up
```

### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="c01b4-131">Utilisation d’une stratégie de modification de profil</span><span class="sxs-lookup"><span data-stu-id="c01b4-131">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_edit_profile
```

| <span data-ttu-id="c01b4-132">Paramètre</span><span class="sxs-lookup"><span data-stu-id="c01b4-132">Parameter</span></span> | <span data-ttu-id="c01b4-133">Requis ?</span><span class="sxs-lookup"><span data-stu-id="c01b4-133">Required?</span></span> | <span data-ttu-id="c01b4-134">Description</span><span class="sxs-lookup"><span data-stu-id="c01b4-134">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c01b4-135">client_id</span><span class="sxs-lookup"><span data-stu-id="c01b4-135">client_id</span></span> |<span data-ttu-id="c01b4-136">Requis</span><span class="sxs-lookup"><span data-stu-id="c01b4-136">Required</span></span> |<span data-ttu-id="c01b4-137">ID de l’application Hello affecté application tooyour Bonjour [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="c01b4-137">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="c01b4-138">response_type</span><span class="sxs-lookup"><span data-stu-id="c01b4-138">response_type</span></span> |<span data-ttu-id="c01b4-139">Requis</span><span class="sxs-lookup"><span data-stu-id="c01b4-139">Required</span></span> |<span data-ttu-id="c01b4-140">type de réponse Hello, qui doit inclure `code` pour les flux de code d’autorisation hello.</span><span class="sxs-lookup"><span data-stu-id="c01b4-140">hello response type, which must include `code` for hello authorization code flow.</span></span> |
| <span data-ttu-id="c01b4-141">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="c01b4-141">redirect_uri</span></span> |<span data-ttu-id="c01b4-142">Requis</span><span class="sxs-lookup"><span data-stu-id="c01b4-142">Required</span></span> |<span data-ttu-id="c01b4-143">Hello URI de redirection de votre application, où les réponses d’authentification sont envoyés et reçus par votre application.</span><span class="sxs-lookup"><span data-stu-id="c01b4-143">hello redirect URI of your app, where authentication responses are sent and received by your app.</span></span> <span data-ttu-id="c01b4-144">Il doit correspondre exactement à celle de redirection de hello URI que vous avez enregistré dans le portail hello, sauf qu’il doit être encodé en URL.</span><span class="sxs-lookup"><span data-stu-id="c01b4-144">It must exactly match one of hello redirect URIs that you registered in hello portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="c01b4-145">scope</span><span class="sxs-lookup"><span data-stu-id="c01b4-145">scope</span></span> |<span data-ttu-id="c01b4-146">Requis</span><span class="sxs-lookup"><span data-stu-id="c01b4-146">Required</span></span> |<span data-ttu-id="c01b4-147">Une liste d’étendues séparées par des espaces.</span><span class="sxs-lookup"><span data-stu-id="c01b4-147">A space-separated list of scopes.</span></span> <span data-ttu-id="c01b4-148">Une valeur d’étendue unique indique tooAzure Active Directory (Azure AD) à la fois des autorisations de hello sont demandées.</span><span class="sxs-lookup"><span data-stu-id="c01b4-148">A single scope value indicates tooAzure Active Directory (Azure AD) both of hello permissions that are being requested.</span></span> <span data-ttu-id="c01b4-149">À l’aide du client hello ID de la portée de hello indique que votre application a besoin d’un jeton d’accès qui peut être utilisé avec votre propre service ou d’une API web, représenté par hello même ID de client.</span><span class="sxs-lookup"><span data-stu-id="c01b4-149">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="c01b4-150">Hello `offline_access` étendue indique que votre application a besoin d’un jeton d’actualisation pour l’accès à long terme tooresources.</span><span class="sxs-lookup"><span data-stu-id="c01b4-150">hello `offline_access` scope indicates that your app needs a refresh token for long-lived access tooresources.</span></span> <span data-ttu-id="c01b4-151">Vous pouvez également utiliser hello `openid` étendue toorequest un jeton d’ID à partir d’Azure Active Directory B2C.</span><span class="sxs-lookup"><span data-stu-id="c01b4-151">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="c01b4-152">response_mode</span><span class="sxs-lookup"><span data-stu-id="c01b4-152">response_mode</span></span> |<span data-ttu-id="c01b4-153">Recommandé</span><span class="sxs-lookup"><span data-stu-id="c01b4-153">Recommended</span></span> |<span data-ttu-id="c01b4-154">méthode Hello utiliser tooyour précédent code d’autorisation qui en résulte toosend hello application.</span><span class="sxs-lookup"><span data-stu-id="c01b4-154">hello method that you use toosend hello resulting authorization code back tooyour app.</span></span> <span data-ttu-id="c01b4-155">Il peut s’agir de `query`, `form_post` ou `fragment`.</span><span class="sxs-lookup"><span data-stu-id="c01b4-155">It can be `query`, `form_post`, or `fragment`.</span></span> |
| <span data-ttu-id="c01b4-156">state</span><span class="sxs-lookup"><span data-stu-id="c01b4-156">state</span></span> |<span data-ttu-id="c01b4-157">Recommandé</span><span class="sxs-lookup"><span data-stu-id="c01b4-157">Recommended</span></span> |<span data-ttu-id="c01b4-158">Une valeur incluse dans la demande hello qui est retourné dans la réponse du jeton hello.</span><span class="sxs-lookup"><span data-stu-id="c01b4-158">A value included in hello request that is returned in hello token response.</span></span> <span data-ttu-id="c01b4-159">Il peut être une chaîne de contenu que vous souhaitez toouse.</span><span class="sxs-lookup"><span data-stu-id="c01b4-159">It can be a string of any content that you want toouse.</span></span> <span data-ttu-id="c01b4-160">En règle générale, une valeur unique générée de manière aléatoire est utilisée, les attaques par falsification de tooprevent demande entre sites.</span><span class="sxs-lookup"><span data-stu-id="c01b4-160">Usually, a randomly generated unique value is  used, tooprevent cross-site request forgery attacks.</span></span> <span data-ttu-id="c01b4-161">état de Hello est également utilisé tooencode informations hello l’état utilisateur dans une application hello avant de la demande d’authentification hello s’est produite.</span><span class="sxs-lookup"><span data-stu-id="c01b4-161">hello state also is used tooencode information about hello user's state in hello app before hello authentication request occurred.</span></span> <span data-ttu-id="c01b4-162">Par exemple, utilisateur de hello page hello a eu lieu ou hello stratégie était en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="c01b4-162">For example, hello page hello user was on, or hello policy that was being executed.</span></span> |
| <span data-ttu-id="c01b4-163">p</span><span class="sxs-lookup"><span data-stu-id="c01b4-163">p</span></span> |<span data-ttu-id="c01b4-164">Requis</span><span class="sxs-lookup"><span data-stu-id="c01b4-164">Required</span></span> |<span data-ttu-id="c01b4-165">stratégie de Hello est exécutée.</span><span class="sxs-lookup"><span data-stu-id="c01b4-165">hello policy that is executed.</span></span> <span data-ttu-id="c01b4-166">Son hello nom d’une stratégie qui est créée dans votre répertoire Azure Active Directory B2C.</span><span class="sxs-lookup"><span data-stu-id="c01b4-166">It's hello name of a policy that is created in your Azure AD B2C directory.</span></span> <span data-ttu-id="c01b4-167">valeur de nom de stratégie Hello doit commencer par **b2c\_1\_**.</span><span class="sxs-lookup"><span data-stu-id="c01b4-167">hello policy name value should begin with **b2c\_1\_**.</span></span> <span data-ttu-id="c01b4-168">toolearn en savoir plus sur les stratégies, consultez [stratégies intégrées d’Azure AD B2C](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="c01b4-168">toolearn more about policies, see [Azure AD B2C built-in policies](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="c01b4-169">prompt</span><span class="sxs-lookup"><span data-stu-id="c01b4-169">prompt</span></span> |<span data-ttu-id="c01b4-170">Facultatif</span><span class="sxs-lookup"><span data-stu-id="c01b4-170">Optional</span></span> |<span data-ttu-id="c01b4-171">type de Hello d’intervention de l’utilisateur qui est requise.</span><span class="sxs-lookup"><span data-stu-id="c01b4-171">hello type of user interaction that is required.</span></span> <span data-ttu-id="c01b4-172">Actuellement, hello seule valeur valide est `login`, qui force hello utilisateur tooenter leurs informations d’identification pour cette demande.</span><span class="sxs-lookup"><span data-stu-id="c01b4-172">Currently, hello only valid value is `login`, which forces hello user tooenter their credentials on that request.</span></span> <span data-ttu-id="c01b4-173">L’authentification unique ne prendra pas effet.</span><span class="sxs-lookup"><span data-stu-id="c01b4-173">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="c01b4-174">À ce stade, les flux de travail de la stratégie toocomplete hello est demandé à utilisateur de hello.</span><span class="sxs-lookup"><span data-stu-id="c01b4-174">At this point, hello user is asked toocomplete hello policy's workflow.</span></span> <span data-ttu-id="c01b4-175">Cela peut également impliquer l’utilisateur de hello entrer leur nom d’utilisateur et un mot de passe, vous connecter avec une identité sociale, souscrire hello répertoire ou tout autre nombre d’étapes.</span><span class="sxs-lookup"><span data-stu-id="c01b4-175">This might involve hello user entering their username and password, signing in with a social identity, signing up for hello directory, or any other number of steps.</span></span> <span data-ttu-id="c01b4-176">Actions de l’utilisateur dépendent de la stratégie de hello est définie.</span><span class="sxs-lookup"><span data-stu-id="c01b4-176">User actions depend on how hello policy is defined.</span></span>

<span data-ttu-id="c01b4-177">Utilisateur de hello après la stratégie de hello, Azure AD renvoie une application tooyour de réponse à la valeur hello vous avez utilisé pour `redirect_uri`.</span><span class="sxs-lookup"><span data-stu-id="c01b4-177">After hello user completes hello policy, Azure AD returns a response tooyour app at hello value you used for `redirect_uri`.</span></span> <span data-ttu-id="c01b4-178">Il utilise la méthode hello spécifié dans hello `response_mode` paramètre.</span><span class="sxs-lookup"><span data-stu-id="c01b4-178">It uses hello method specified in hello `response_mode` parameter.</span></span> <span data-ttu-id="c01b4-179">réponse de Hello est exactement hello même pour chacun des hello action scénarios utilisateur, indépendamment de la stratégie de hello qui a été exécutée.</span><span class="sxs-lookup"><span data-stu-id="c01b4-179">hello response is exactly hello same for each of hello user action scenarios, independent of hello policy that was executed.</span></span>

<span data-ttu-id="c01b4-180">Une réponse correcte utilisant `response_mode=query` se présente ainsi :</span><span class="sxs-lookup"><span data-stu-id="c01b4-180">A successful response that uses `response_mode=query` looks like this:</span></span>

```
GET urn:ietf:wg:oauth:2.0:oob?
code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...        // hello authorization_code, truncated
&state=arbitrary_data_you_can_receive_in_the_response                // hello value provided in hello request
```

| <span data-ttu-id="c01b4-181">Paramètre</span><span class="sxs-lookup"><span data-stu-id="c01b4-181">Parameter</span></span> | <span data-ttu-id="c01b4-182">Description</span><span class="sxs-lookup"><span data-stu-id="c01b4-182">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c01b4-183">code</span><span class="sxs-lookup"><span data-stu-id="c01b4-183">code</span></span> |<span data-ttu-id="c01b4-184">code d’autorisation Hello hello application demandée.</span><span class="sxs-lookup"><span data-stu-id="c01b4-184">hello authorization code that hello app requested.</span></span> <span data-ttu-id="c01b4-185">application Hello peut utiliser toorequest de code d’autorisation hello un jeton d’accès pour une ressource cible.</span><span class="sxs-lookup"><span data-stu-id="c01b4-185">hello app can use hello authorization code toorequest an access token for a target resource.</span></span> <span data-ttu-id="c01b4-186">Les codes d’autorisation ont des durées de vie très courtes.</span><span class="sxs-lookup"><span data-stu-id="c01b4-186">Authorization codes are very short-lived.</span></span> <span data-ttu-id="c01b4-187">Généralement, ils expirent au bout de 10 minutes.</span><span class="sxs-lookup"><span data-stu-id="c01b4-187">Typically, they expire after about 10 minutes.</span></span> |
| <span data-ttu-id="c01b4-188">state</span><span class="sxs-lookup"><span data-stu-id="c01b4-188">state</span></span> |<span data-ttu-id="c01b4-189">Consultez la description complète de hello dans table hello hello précédant la section.</span><span class="sxs-lookup"><span data-stu-id="c01b4-189">See hello full description in hello table in hello preceding section.</span></span> <span data-ttu-id="c01b4-190">Si un `state` paramètre est inclus dans la demande hello, même valeur hello doit apparaître dans la réponse de hello.</span><span class="sxs-lookup"><span data-stu-id="c01b4-190">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="c01b4-191">Hello application doit vérifier que hello `state` valeurs hello demande et de réponse sont identiques.</span><span class="sxs-lookup"><span data-stu-id="c01b4-191">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

<span data-ttu-id="c01b4-192">Réponses d’erreur peuvent également être envoyés l’URI de redirection toohello afin que hello application peut gérer de façon appropriée :</span><span class="sxs-lookup"><span data-stu-id="c01b4-192">Error responses also can be sent toohello redirect URI so that hello app can handle them appropriately:</span></span>

```
GET urn:ietf:wg:oauth:2.0:oob?
error=access_denied
&error_description=The+user+has+cancelled+entering+self-asserted+information
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="c01b4-193">Paramètre</span><span class="sxs-lookup"><span data-stu-id="c01b4-193">Parameter</span></span> | <span data-ttu-id="c01b4-194">Description</span><span class="sxs-lookup"><span data-stu-id="c01b4-194">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c01b4-195">error</span><span class="sxs-lookup"><span data-stu-id="c01b4-195">error</span></span> |<span data-ttu-id="c01b4-196">Une chaîne de code d’erreur que vous pouvez utiliser les types de hello tooclassify d’erreurs qui se produisent.</span><span class="sxs-lookup"><span data-stu-id="c01b4-196">An error code string that you can use tooclassify hello types of errors that occur.</span></span> <span data-ttu-id="c01b4-197">Vous pouvez également utiliser hello chaîne tooreact tooerrors.</span><span class="sxs-lookup"><span data-stu-id="c01b4-197">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="c01b4-198">error_description</span><span class="sxs-lookup"><span data-stu-id="c01b4-198">error_description</span></span> |<span data-ttu-id="c01b4-199">Un message d’erreur spécifique qui peut vous aider à identifier hello origine d’une erreur d’authentification.</span><span class="sxs-lookup"><span data-stu-id="c01b4-199">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |
| <span data-ttu-id="c01b4-200">state</span><span class="sxs-lookup"><span data-stu-id="c01b4-200">state</span></span> |<span data-ttu-id="c01b4-201">Consultez la description complète de hello Bonjour tableau précédent.</span><span class="sxs-lookup"><span data-stu-id="c01b4-201">See hello full description in hello preceding table.</span></span> <span data-ttu-id="c01b4-202">Si un `state` paramètre est inclus dans la demande hello, même valeur hello doit apparaître dans la réponse de hello.</span><span class="sxs-lookup"><span data-stu-id="c01b4-202">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="c01b4-203">Hello application doit vérifier que hello `state` valeurs hello demande et de réponse sont identiques.</span><span class="sxs-lookup"><span data-stu-id="c01b4-203">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

## <a name="2-get-a-token"></a><span data-ttu-id="c01b4-204">2. Obtention d’un jeton</span><span class="sxs-lookup"><span data-stu-id="c01b4-204">2. Get a token</span></span>
<span data-ttu-id="c01b4-205">Maintenant que vous avez acquis un code d’autorisation, vous pouvez échanger hello `code` pour un jeton toohello prévu des ressources en envoyant un toohello de la demande POST `/token` point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="c01b4-205">Now that you've acquired an authorization code, you can redeem hello `code` for a token toohello intended resource by sending a POST request toohello `/token` endpoint.</span></span> <span data-ttu-id="c01b4-206">Dans Azure AD B2C, hello uniquement les ressources que vous pouvez demander un jeton sont votre site web principal de l’application API.</span><span class="sxs-lookup"><span data-stu-id="c01b4-206">In Azure AD B2C, hello only resource that you can request a token for is your app's own back-end web API.</span></span> <span data-ttu-id="c01b4-207">convention de Hello est utilisée pour demander un jeton tooyourself est toouse l’ID de client de votre application en tant qu’étendue de hello :</span><span class="sxs-lookup"><span data-stu-id="c01b4-207">hello convention that's used for requesting a token tooyourself is toouse your app's client ID as hello scope:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access&code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob

```

| <span data-ttu-id="c01b4-208">Paramètre</span><span class="sxs-lookup"><span data-stu-id="c01b4-208">Parameter</span></span> | <span data-ttu-id="c01b4-209">Requis ?</span><span class="sxs-lookup"><span data-stu-id="c01b4-209">Required?</span></span> | <span data-ttu-id="c01b4-210">Description</span><span class="sxs-lookup"><span data-stu-id="c01b4-210">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c01b4-211">p</span><span class="sxs-lookup"><span data-stu-id="c01b4-211">p</span></span> |<span data-ttu-id="c01b4-212">Requis</span><span class="sxs-lookup"><span data-stu-id="c01b4-212">Required</span></span> |<span data-ttu-id="c01b4-213">Hello stratégie qui a été utilisé tooacquire hello autorisation code.</span><span class="sxs-lookup"><span data-stu-id="c01b4-213">hello policy that was used tooacquire hello authorization code.</span></span> <span data-ttu-id="c01b4-214">Vous ne pouvez pas utiliser une autre stratégie dans cette demande.</span><span class="sxs-lookup"><span data-stu-id="c01b4-214">You cannot use a different policy in this request.</span></span> <span data-ttu-id="c01b4-215">Notez que vous ajoutez ce paramètre toohello *chaîne de requête*, et non dans hello corps POST.</span><span class="sxs-lookup"><span data-stu-id="c01b4-215">Note that you add this parameter toohello *query string*, not in hello POST body.</span></span> |
| <span data-ttu-id="c01b4-216">client_id</span><span class="sxs-lookup"><span data-stu-id="c01b4-216">client_id</span></span> |<span data-ttu-id="c01b4-217">Requis</span><span class="sxs-lookup"><span data-stu-id="c01b4-217">Required</span></span> |<span data-ttu-id="c01b4-218">ID de l’application Hello affecté application tooyour Bonjour [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="c01b4-218">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="c01b4-219">grant_type</span><span class="sxs-lookup"><span data-stu-id="c01b4-219">grant_type</span></span> |<span data-ttu-id="c01b4-220">Requis</span><span class="sxs-lookup"><span data-stu-id="c01b4-220">Required</span></span> |<span data-ttu-id="c01b4-221">type Hello d’octroi.</span><span class="sxs-lookup"><span data-stu-id="c01b4-221">hello type of grant.</span></span> <span data-ttu-id="c01b4-222">Pour les flux de code d’autorisation hello, type d’octroi hello doit être `authorization_code`.</span><span class="sxs-lookup"><span data-stu-id="c01b4-222">For hello authorization code flow, hello grant type must be `authorization_code`.</span></span> |
| <span data-ttu-id="c01b4-223">scope</span><span class="sxs-lookup"><span data-stu-id="c01b4-223">scope</span></span> |<span data-ttu-id="c01b4-224">Recommandé</span><span class="sxs-lookup"><span data-stu-id="c01b4-224">Recommended</span></span> |<span data-ttu-id="c01b4-225">Une liste d’étendues séparées par des espaces.</span><span class="sxs-lookup"><span data-stu-id="c01b4-225">A space-separated list of scopes.</span></span> <span data-ttu-id="c01b4-226">Une valeur d’étendue unique indique tooAzure AD à la fois des autorisations de hello sont demandés.</span><span class="sxs-lookup"><span data-stu-id="c01b4-226">A single scope value indicates tooAzure AD both of hello permissions that are being requested.</span></span> <span data-ttu-id="c01b4-227">À l’aide du client hello ID de la portée de hello indique que votre application a besoin d’un jeton d’accès qui peut être utilisé avec votre propre service ou d’une API web, représenté par hello même ID de client.</span><span class="sxs-lookup"><span data-stu-id="c01b4-227">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="c01b4-228">Hello `offline_access` étendue indique que votre application a besoin d’un jeton d’actualisation pour l’accès à long terme tooresources.</span><span class="sxs-lookup"><span data-stu-id="c01b4-228">hello `offline_access` scope indicates that your app needs a refresh token for long-lived access tooresources.</span></span>  <span data-ttu-id="c01b4-229">Vous pouvez également utiliser hello `openid` étendue toorequest un jeton d’ID à partir d’Azure Active Directory B2C.</span><span class="sxs-lookup"><span data-stu-id="c01b4-229">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="c01b4-230">code</span><span class="sxs-lookup"><span data-stu-id="c01b4-230">code</span></span> |<span data-ttu-id="c01b4-231">Requis</span><span class="sxs-lookup"><span data-stu-id="c01b4-231">Required</span></span> |<span data-ttu-id="c01b4-232">code d’autorisation Hello que vous avez obtenue dans la première branche de hello du flux de hello.</span><span class="sxs-lookup"><span data-stu-id="c01b4-232">hello authorization code that you acquired in hello first leg of hello flow.</span></span> |
| <span data-ttu-id="c01b4-233">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="c01b4-233">redirect_uri</span></span> |<span data-ttu-id="c01b4-234">Requis</span><span class="sxs-lookup"><span data-stu-id="c01b4-234">Required</span></span> |<span data-ttu-id="c01b4-235">Hello URI de redirection d’application hello où vous avez reçu le code d’autorisation de hello.</span><span class="sxs-lookup"><span data-stu-id="c01b4-235">hello redirect URI of hello application where you received hello authorization code.</span></span> |

<span data-ttu-id="c01b4-236">Un jeton de réponse correct se présente ainsi :</span><span class="sxs-lookup"><span data-stu-id="c01b4-236">A successful token response looks like this:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="c01b4-237">Paramètre</span><span class="sxs-lookup"><span data-stu-id="c01b4-237">Parameter</span></span> | <span data-ttu-id="c01b4-238">Description</span><span class="sxs-lookup"><span data-stu-id="c01b4-238">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c01b4-239">not_before</span><span class="sxs-lookup"><span data-stu-id="c01b4-239">not_before</span></span> |<span data-ttu-id="c01b4-240">heure de Hello à quels hello jeton est considéré comme valide dans le temps de l’époque.</span><span class="sxs-lookup"><span data-stu-id="c01b4-240">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="c01b4-241">token_type</span><span class="sxs-lookup"><span data-stu-id="c01b4-241">token_type</span></span> |<span data-ttu-id="c01b4-242">valeur de type de jeton Hello.</span><span class="sxs-lookup"><span data-stu-id="c01b4-242">hello token type value.</span></span> <span data-ttu-id="c01b4-243">Hello tapez uniquement que prend en charge d’Azure AD est porteur.</span><span class="sxs-lookup"><span data-stu-id="c01b4-243">hello only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="c01b4-244">access_token</span><span class="sxs-lookup"><span data-stu-id="c01b4-244">access_token</span></span> |<span data-ttu-id="c01b4-245">Hello signé le jeton Web JSON (JWT) que vous avez demandé.</span><span class="sxs-lookup"><span data-stu-id="c01b4-245">hello signed JSON Web Token (JWT) that you requested.</span></span> |
| <span data-ttu-id="c01b4-246">scope</span><span class="sxs-lookup"><span data-stu-id="c01b4-246">scope</span></span> |<span data-ttu-id="c01b4-247">étendues de Hello hello jeton est valide pour.</span><span class="sxs-lookup"><span data-stu-id="c01b4-247">hello scopes that hello token is valid for.</span></span> <span data-ttu-id="c01b4-248">Vous pouvez également utiliser des jetons de toocache étendues pour une utilisation ultérieure.</span><span class="sxs-lookup"><span data-stu-id="c01b4-248">You also can use scopes toocache tokens for later use.</span></span> |
| <span data-ttu-id="c01b4-249">expires_in</span><span class="sxs-lookup"><span data-stu-id="c01b4-249">expires_in</span></span> |<span data-ttu-id="c01b4-250">Durée Hello de hello jeton est valide (en secondes).</span><span class="sxs-lookup"><span data-stu-id="c01b4-250">hello length of time that hello token is valid (in seconds).</span></span> |
| <span data-ttu-id="c01b4-251">refresh_token</span><span class="sxs-lookup"><span data-stu-id="c01b4-251">refresh_token</span></span> |<span data-ttu-id="c01b4-252">Un jeton d’actualisation OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="c01b4-252">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="c01b4-253">application Hello peut utiliser ce jeton tooacquire des jetons supplémentaires après l’expiration du jeton actuel de hello.</span><span class="sxs-lookup"><span data-stu-id="c01b4-253">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span> <span data-ttu-id="c01b4-254">Les jetons d’actualisation sont de longue durée.</span><span class="sxs-lookup"><span data-stu-id="c01b4-254">Refresh tokens are long-lived.</span></span> <span data-ttu-id="c01b4-255">Vous pouvez utiliser les tooretain accès tooresources pendant de longues périodes de temps.</span><span class="sxs-lookup"><span data-stu-id="c01b4-255">You can use them tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="c01b4-256">Pour plus d’informations, consultez hello [référence de jeton Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="c01b4-256">For more information, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |

<span data-ttu-id="c01b4-257">Les réponses d’erreur ressemblent à ceci :</span><span class="sxs-lookup"><span data-stu-id="c01b4-257">Error responses look like this:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="c01b4-258">Paramètre</span><span class="sxs-lookup"><span data-stu-id="c01b4-258">Parameter</span></span> | <span data-ttu-id="c01b4-259">Description</span><span class="sxs-lookup"><span data-stu-id="c01b4-259">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c01b4-260">error</span><span class="sxs-lookup"><span data-stu-id="c01b4-260">error</span></span> |<span data-ttu-id="c01b4-261">Une chaîne de code d’erreur que vous pouvez utiliser les types de hello tooclassify d’erreurs qui se produisent.</span><span class="sxs-lookup"><span data-stu-id="c01b4-261">An error code string that you can use tooclassify hello types of errors that occur.</span></span> <span data-ttu-id="c01b4-262">Vous pouvez également utiliser hello chaîne tooreact tooerrors.</span><span class="sxs-lookup"><span data-stu-id="c01b4-262">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="c01b4-263">error_description</span><span class="sxs-lookup"><span data-stu-id="c01b4-263">error_description</span></span> |<span data-ttu-id="c01b4-264">Un message d’erreur spécifique qui peut vous aider à identifier hello origine d’une erreur d’authentification.</span><span class="sxs-lookup"><span data-stu-id="c01b4-264">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |

## <a name="3-use-hello-token"></a><span data-ttu-id="c01b4-265">3. Utilisation du jeton hello</span><span class="sxs-lookup"><span data-stu-id="c01b4-265">3. Use hello token</span></span>
<span data-ttu-id="c01b4-266">Maintenant que vous avez acquis avec succès d’un jeton d’accès, vous pouvez utiliser le jeton de hello dans l’API web principale tooyour de demandes en l’incluant dans hello `Authorization` en-tête :</span><span class="sxs-lookup"><span data-stu-id="c01b4-266">Now that you've successfully acquired an access token, you can use hello token in requests tooyour back-end web APIs by including it in hello `Authorization` header:</span></span>

```
GET /tasks
Host: https://mytaskwebapi.com
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
```

## <a name="4-refresh-hello-token"></a><span data-ttu-id="c01b4-267">4. Actualiser le jeton de hello</span><span class="sxs-lookup"><span data-stu-id="c01b4-267">4. Refresh hello token</span></span>
<span data-ttu-id="c01b4-268">Les jetons d’accès et les jetons d’ID ont une courte durée de vie.</span><span class="sxs-lookup"><span data-stu-id="c01b4-268">Access tokens and ID tokens are short-lived.</span></span> <span data-ttu-id="c01b4-269">Une fois qu’ils expirent, vous devez actualiser les toocontinue tooaccess ressources.</span><span class="sxs-lookup"><span data-stu-id="c01b4-269">After they expire, you must refresh them toocontinue tooaccess resources.</span></span> <span data-ttu-id="c01b4-270">toodo, envoyer un autre toohello de demande POST `/token` point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="c01b4-270">toodo this, submit another POST request toohello `/token` endpoint.</span></span> <span data-ttu-id="c01b4-271">Cette fois-ci, fournir hello `refresh_token` au lieu de hello `code`:</span><span class="sxs-lookup"><span data-stu-id="c01b4-271">This time, provide hello `refresh_token` instead of hello `code`:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=refresh_token&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access&refresh_token=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob
```

| <span data-ttu-id="c01b4-272">Paramètre</span><span class="sxs-lookup"><span data-stu-id="c01b4-272">Parameter</span></span> | <span data-ttu-id="c01b4-273">Requis ?</span><span class="sxs-lookup"><span data-stu-id="c01b4-273">Required?</span></span> | <span data-ttu-id="c01b4-274">Description</span><span class="sxs-lookup"><span data-stu-id="c01b4-274">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c01b4-275">p</span><span class="sxs-lookup"><span data-stu-id="c01b4-275">p</span></span> |<span data-ttu-id="c01b4-276">Requis</span><span class="sxs-lookup"><span data-stu-id="c01b4-276">Required</span></span> |<span data-ttu-id="c01b4-277">stratégie Hello qui était le jeton d’actualisation d’origine utilisé tooacquire hello.</span><span class="sxs-lookup"><span data-stu-id="c01b4-277">hello policy that was used tooacquire hello original refresh token.</span></span> <span data-ttu-id="c01b4-278">Vous ne pouvez pas utiliser une autre stratégie dans cette demande.</span><span class="sxs-lookup"><span data-stu-id="c01b4-278">You cannot use a different policy in this request.</span></span> <span data-ttu-id="c01b4-279">Notez que vous ajoutez ce paramètre toohello *chaîne de requête*, et non dans hello corps POST.</span><span class="sxs-lookup"><span data-stu-id="c01b4-279">Note that you add this parameter toohello *query string*, not in hello POST body.</span></span> |
| <span data-ttu-id="c01b4-280">client_id</span><span class="sxs-lookup"><span data-stu-id="c01b4-280">client_id</span></span> |<span data-ttu-id="c01b4-281">Recommandé</span><span class="sxs-lookup"><span data-stu-id="c01b4-281">Recommended</span></span> |<span data-ttu-id="c01b4-282">ID de l’application Hello affecté application tooyour Bonjour [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="c01b4-282">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="c01b4-283">grant_type</span><span class="sxs-lookup"><span data-stu-id="c01b4-283">grant_type</span></span> |<span data-ttu-id="c01b4-284">Requis</span><span class="sxs-lookup"><span data-stu-id="c01b4-284">Required</span></span> |<span data-ttu-id="c01b4-285">type Hello d’octroi.</span><span class="sxs-lookup"><span data-stu-id="c01b4-285">hello type of grant.</span></span> <span data-ttu-id="c01b4-286">Pour cette branche du flux de code d’autorisation hello, type d’octroi hello doit être `refresh_token`.</span><span class="sxs-lookup"><span data-stu-id="c01b4-286">For this leg of hello authorization code flow, hello grant type must be `refresh_token`.</span></span> |
| <span data-ttu-id="c01b4-287">scope</span><span class="sxs-lookup"><span data-stu-id="c01b4-287">scope</span></span> |<span data-ttu-id="c01b4-288">Recommandé</span><span class="sxs-lookup"><span data-stu-id="c01b4-288">Recommended</span></span> |<span data-ttu-id="c01b4-289">Une liste d’étendues séparées par des espaces.</span><span class="sxs-lookup"><span data-stu-id="c01b4-289">A space-separated list of scopes.</span></span> <span data-ttu-id="c01b4-290">Une valeur d’étendue unique indique tooAzure AD à la fois des autorisations de hello sont demandés.</span><span class="sxs-lookup"><span data-stu-id="c01b4-290">A single scope value indicates tooAzure AD both of hello permissions that are being requested.</span></span> <span data-ttu-id="c01b4-291">À l’aide du client hello ID de la portée de hello indique que votre application a besoin d’un jeton d’accès qui peut être utilisé avec votre propre service ou d’une API web, représenté par hello même ID de client.</span><span class="sxs-lookup"><span data-stu-id="c01b4-291">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="c01b4-292">Hello `offline_access` étendue indique que nécessaires à votre application un jeton d’actualisation pour l’accès à long terme tooresources.</span><span class="sxs-lookup"><span data-stu-id="c01b4-292">hello `offline_access` scope indicates that your app will need a refresh token for long-lived access tooresources.</span></span>  <span data-ttu-id="c01b4-293">Vous pouvez également utiliser hello `openid` étendue toorequest un jeton d’ID à partir d’Azure Active Directory B2C.</span><span class="sxs-lookup"><span data-stu-id="c01b4-293">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="c01b4-294">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="c01b4-294">redirect_uri</span></span> |<span data-ttu-id="c01b4-295">Facultatif</span><span class="sxs-lookup"><span data-stu-id="c01b4-295">Optional</span></span> |<span data-ttu-id="c01b4-296">Hello URI de redirection d’application hello où vous avez reçu le code d’autorisation de hello.</span><span class="sxs-lookup"><span data-stu-id="c01b4-296">hello redirect URI of hello application where you received hello authorization code.</span></span> |
| <span data-ttu-id="c01b4-297">refresh_token</span><span class="sxs-lookup"><span data-stu-id="c01b4-297">refresh_token</span></span> |<span data-ttu-id="c01b4-298">Requis</span><span class="sxs-lookup"><span data-stu-id="c01b4-298">Required</span></span> |<span data-ttu-id="c01b4-299">Hello d’origine jeton d’actualisation que vous avez obtenue dans la branche de deuxième hello du flux de hello.</span><span class="sxs-lookup"><span data-stu-id="c01b4-299">hello original refresh token that you acquired in hello second leg of hello flow.</span></span> |

<span data-ttu-id="c01b4-300">Un jeton de réponse correct se présente ainsi :</span><span class="sxs-lookup"><span data-stu-id="c01b4-300">A successful token response looks like this:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="c01b4-301">Paramètre</span><span class="sxs-lookup"><span data-stu-id="c01b4-301">Parameter</span></span> | <span data-ttu-id="c01b4-302">Description</span><span class="sxs-lookup"><span data-stu-id="c01b4-302">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c01b4-303">not_before</span><span class="sxs-lookup"><span data-stu-id="c01b4-303">not_before</span></span> |<span data-ttu-id="c01b4-304">heure de Hello à quels hello jeton est considéré comme valide dans le temps de l’époque.</span><span class="sxs-lookup"><span data-stu-id="c01b4-304">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="c01b4-305">token_type</span><span class="sxs-lookup"><span data-stu-id="c01b4-305">token_type</span></span> |<span data-ttu-id="c01b4-306">valeur de type de jeton Hello.</span><span class="sxs-lookup"><span data-stu-id="c01b4-306">hello token type value.</span></span> <span data-ttu-id="c01b4-307">Hello tapez uniquement que prend en charge d’Azure AD est porteur.</span><span class="sxs-lookup"><span data-stu-id="c01b4-307">hello only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="c01b4-308">access_token</span><span class="sxs-lookup"><span data-stu-id="c01b4-308">access_token</span></span> |<span data-ttu-id="c01b4-309">Hello signé JSON que vous avez demandé.</span><span class="sxs-lookup"><span data-stu-id="c01b4-309">hello signed JWT that you requested.</span></span> |
| <span data-ttu-id="c01b4-310">scope</span><span class="sxs-lookup"><span data-stu-id="c01b4-310">scope</span></span> |<span data-ttu-id="c01b4-311">étendues de Hello hello jeton est valide pour.</span><span class="sxs-lookup"><span data-stu-id="c01b4-311">hello scopes that hello token is valid for.</span></span> <span data-ttu-id="c01b4-312">Vous pouvez également utiliser des jetons de toocache hello étendues pour une utilisation ultérieure.</span><span class="sxs-lookup"><span data-stu-id="c01b4-312">You also can use hello scopes toocache tokens for later use.</span></span> |
| <span data-ttu-id="c01b4-313">expires_in</span><span class="sxs-lookup"><span data-stu-id="c01b4-313">expires_in</span></span> |<span data-ttu-id="c01b4-314">Durée Hello de hello jeton est valide (en secondes).</span><span class="sxs-lookup"><span data-stu-id="c01b4-314">hello length of time that hello token is valid (in seconds).</span></span> |
| <span data-ttu-id="c01b4-315">refresh_token</span><span class="sxs-lookup"><span data-stu-id="c01b4-315">refresh_token</span></span> |<span data-ttu-id="c01b4-316">Un jeton d’actualisation OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="c01b4-316">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="c01b4-317">application Hello peut utiliser ce jeton tooacquire des jetons supplémentaires après l’expiration du jeton actuel de hello.</span><span class="sxs-lookup"><span data-stu-id="c01b4-317">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span> <span data-ttu-id="c01b4-318">Actualiser les jetons sont de longue durées et peut être utilisé tooretain accès tooresources pendant de longues périodes de temps.</span><span class="sxs-lookup"><span data-stu-id="c01b4-318">Refresh tokens are long-lived, and can be used tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="c01b4-319">Pour plus d’informations, consultez hello [référence de jeton Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="c01b4-319">For more information, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |

<span data-ttu-id="c01b4-320">Les réponses d’erreur ressemblent à ceci :</span><span class="sxs-lookup"><span data-stu-id="c01b4-320">Error responses look like this:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="c01b4-321">Paramètre</span><span class="sxs-lookup"><span data-stu-id="c01b4-321">Parameter</span></span> | <span data-ttu-id="c01b4-322">Description</span><span class="sxs-lookup"><span data-stu-id="c01b4-322">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c01b4-323">error</span><span class="sxs-lookup"><span data-stu-id="c01b4-323">error</span></span> |<span data-ttu-id="c01b4-324">Une chaîne de code d’erreur que vous pouvez utiliser les types de tooclassify d’erreurs qui se produisent.</span><span class="sxs-lookup"><span data-stu-id="c01b4-324">An error code string that you can use tooclassify types of errors that occur.</span></span> <span data-ttu-id="c01b4-325">Vous pouvez également utiliser hello chaîne tooreact tooerrors.</span><span class="sxs-lookup"><span data-stu-id="c01b4-325">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="c01b4-326">error_description</span><span class="sxs-lookup"><span data-stu-id="c01b4-326">error_description</span></span> |<span data-ttu-id="c01b4-327">Un message d’erreur spécifique qui peut vous aider à identifier hello origine d’une erreur d’authentification.</span><span class="sxs-lookup"><span data-stu-id="c01b4-327">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |

## <a name="use-your-own-azure-ad-b2c-directory"></a><span data-ttu-id="c01b4-328">Utiliser votre propre annuaire Azure AD B2C</span><span class="sxs-lookup"><span data-stu-id="c01b4-328">Use your own Azure AD B2C directory</span></span>
<span data-ttu-id="c01b4-329">tootry ces demandes vous-même, hello complet suivant les étapes.</span><span class="sxs-lookup"><span data-stu-id="c01b4-329">tootry these requests yourself, complete hello following steps.</span></span> <span data-ttu-id="c01b4-330">Remplacez les valeurs d’exemple hello que nous avons utilisé dans cet article avec vos propres valeurs.</span><span class="sxs-lookup"><span data-stu-id="c01b4-330">Replace hello example values we used in this article with your own values.</span></span>

1. <span data-ttu-id="c01b4-331">[Créez un annuaire Azure AD B2C](active-directory-b2c-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="c01b4-331">[Create an Azure AD B2C directory](active-directory-b2c-get-started.md).</span></span> <span data-ttu-id="c01b4-332">Utiliser le nom hello de votre annuaire dans les demandes hello.</span><span class="sxs-lookup"><span data-stu-id="c01b4-332">Use hello name of your directory in hello requests.</span></span>
2. <span data-ttu-id="c01b4-333">[Créer une application](active-directory-b2c-app-registration.md) tooobtain un ID d’application et un URI de redirection.</span><span class="sxs-lookup"><span data-stu-id="c01b4-333">[Create an application](active-directory-b2c-app-registration.md) tooobtain an application ID and a redirect URI.</span></span> <span data-ttu-id="c01b4-334">Incluez un client natif dans votre application.</span><span class="sxs-lookup"><span data-stu-id="c01b4-334">Include a native client in your app.</span></span>
3. <span data-ttu-id="c01b4-335">[Créer vos stratégies](active-directory-b2c-reference-policies.md) tooobtain vos noms de stratégie.</span><span class="sxs-lookup"><span data-stu-id="c01b4-335">[Create your policies](active-directory-b2c-reference-policies.md) tooobtain your policy names.</span></span>

