---
title: "Azure Active Directory B2C : stratégies personnalisées | Microsoft Docs"
description: "Une rubrique sur les stratégies personnalisées Azure Active Directory B2C"
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: 1ff398a4-2079-4615-94f1-57de22c0aad6
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.topic: article
ms.devlang: na
ms.date: 04/04/2017
ms.author: parakhj
ms.openlocfilehash: bada9cf5f1a86f3dd047536f6fd9359c0231a384
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-b2c-custom-policies"></a><span data-ttu-id="c010a-103">Azure Active Directory B2C : stratégies personnalisées</span><span class="sxs-lookup"><span data-stu-id="c010a-103">Azure Active Directory B2C: Custom policies</span></span>

[!INCLUDE [active-directory-b2c-advanced-audience-warning](../../includes/active-directory-b2c-advanced-audience-warning.md)]

## <a name="what-are-custom-policies"></a><span data-ttu-id="c010a-104">Que sont les stratégies personnalisées ?</span><span class="sxs-lookup"><span data-stu-id="c010a-104">What are custom policies?</span></span>

<span data-ttu-id="c010a-105">Les stratégies personnalisées sont des fichiers de configuration qui définissent le comportement de hello de votre locataire Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="c010a-105">Custom policies are configuration files that define hello behavior of your Azure AD B2C tenant.</span></span> <span data-ttu-id="c010a-106">Alors que **stratégies intégrées** sont prédéfinies dans le portail de hello Azure AD B2C pour hello tâches identité les plus courantes, les stratégies personnalisées peuvent être entièrement modifié par un toocomplete de développeur d’identité un nombre illimité de proche de tâches.</span><span class="sxs-lookup"><span data-stu-id="c010a-106">Whereas **built-in policies** are predefined in hello Azure AD B2C portal for hello most common identity tasks, custom policies can be fully edited by an identity developer toocomplete a near unlimited number of tasks.</span></span> <span data-ttu-id="c010a-107">Lisez la suite toodetermine si les stratégies personnalisées sont droite pour vous et votre scénario d’identité.</span><span class="sxs-lookup"><span data-stu-id="c010a-107">Read on toodetermine if custom policies are right for you and your identity scenario.</span></span>

<span data-ttu-id="c010a-108">**La modification de stratégies personnalisées ne s’adresse pas à tout le monde.**</span><span class="sxs-lookup"><span data-stu-id="c010a-108">**Custom policy editing is not for everyone.**</span></span> <span data-ttu-id="c010a-109">demande de la courbe d’apprentissage Hello, temps de démarrage hello est plus long, et stratégies toocustom de futures modifications nécessitera toomaintain d’expertise similaire.</span><span class="sxs-lookup"><span data-stu-id="c010a-109">hello learning curve is demanding, hello startup time is longer, and future changes toocustom policies will require similar expertise toomaintain.</span></span> <span data-ttu-id="c010a-110">Il est important de commencer par étudier attentivement les stratégies prédéfinies dans le cadre de votre scénario avant d’utiliser des stratégies personnalisées.</span><span class="sxs-lookup"><span data-stu-id="c010a-110">Built-in policies should be carefully considered first for your scenario before using custom policies.</span></span>

## <a name="comparing-built-in-policies-and-custom-policies"></a><span data-ttu-id="c010a-111">Comparaison des stratégies prédéfinies et des stratégies personnalisées</span><span class="sxs-lookup"><span data-stu-id="c010a-111">Comparing built-in policies and custom policies</span></span>

| | <span data-ttu-id="c010a-112">Stratégies prédéfinies</span><span class="sxs-lookup"><span data-stu-id="c010a-112">Built-in policies</span></span> | <span data-ttu-id="c010a-113">Stratégies personnalisées</span><span class="sxs-lookup"><span data-stu-id="c010a-113">Custom policies</span></span> |
|-|-------------------|-----------------|
|<span data-ttu-id="c010a-114">Utilisateurs cibles</span><span class="sxs-lookup"><span data-stu-id="c010a-114">Target users</span></span> | <span data-ttu-id="c010a-115">Tous les développeurs d’applications avec ou sans expertise de l’identité</span><span class="sxs-lookup"><span data-stu-id="c010a-115">All app developers with or without identity expertise</span></span> | <span data-ttu-id="c010a-116">Professionnels de l’identité : intégrateurs système, consultants et équipes d’identité internes.</span><span class="sxs-lookup"><span data-stu-id="c010a-116">Identity pros: systems integrators, consultants and in-house identity teams.</span></span> <span data-ttu-id="c010a-117">Ils sont à l’aise avec les flux OpenID Connect et comprennent les fournisseurs d’identité et l’authentification basée sur les revendications.</span><span class="sxs-lookup"><span data-stu-id="c010a-117">They are comfortable with OpenIDConnect flows, and understand identity providers and claims-based authentication</span></span> |
|<span data-ttu-id="c010a-118">Mode de configuration</span><span class="sxs-lookup"><span data-stu-id="c010a-118">Configuration method</span></span> | <span data-ttu-id="c010a-119">Portail Azure avec interface utilisateur conviviale</span><span class="sxs-lookup"><span data-stu-id="c010a-119">Azure portal with a user-friendly UI</span></span> | <span data-ttu-id="c010a-120">Modifier directement les fichiers XML, puis téléchargez toohello portail Azure</span><span class="sxs-lookup"><span data-stu-id="c010a-120">Directly editing XML files and then uploading toohello Azure portal</span></span> |
|<span data-ttu-id="c010a-121">Personnalisation de l’interface utilisateur</span><span class="sxs-lookup"><span data-stu-id="c010a-121">UI customization</span></span> | <span data-ttu-id="c010a-122">Personnalisation complète de l’interface utilisateur, avec prise en charge HTML, CSS et JScript (nécessite un domaine personnalisé)</span><span class="sxs-lookup"><span data-stu-id="c010a-122">Full UI customization, including HTML, CSS, and jscript support(requires custom domain)</span></span><br><br><span data-ttu-id="c010a-123">Prise en charge multilingue avec chaînes personnalisées</span><span class="sxs-lookup"><span data-stu-id="c010a-123">Multilanguage support with Custom strings</span></span> | <span data-ttu-id="c010a-124">Identique</span><span class="sxs-lookup"><span data-stu-id="c010a-124">Same</span></span> |
| <span data-ttu-id="c010a-125">Personnalisation des attributs</span><span class="sxs-lookup"><span data-stu-id="c010a-125">Attribute customization</span></span> | <span data-ttu-id="c010a-126">Attributs standard et personnalisés</span><span class="sxs-lookup"><span data-stu-id="c010a-126">Standard and custom attributes</span></span> | <span data-ttu-id="c010a-127">Identique</span><span class="sxs-lookup"><span data-stu-id="c010a-127">Same</span></span> |
|<span data-ttu-id="c010a-128">Gestion des jetons et des sessions</span><span class="sxs-lookup"><span data-stu-id="c010a-128">Token and session management</span></span> | <span data-ttu-id="c010a-129">Options de jetons personnalisés et de sessions multiples</span><span class="sxs-lookup"><span data-stu-id="c010a-129">Custom token and multiple session options</span></span> | <span data-ttu-id="c010a-130">Identique</span><span class="sxs-lookup"><span data-stu-id="c010a-130">Same</span></span> |
|<span data-ttu-id="c010a-131">Identity Providers</span><span class="sxs-lookup"><span data-stu-id="c010a-131">Identity Providers</span></span>| <span data-ttu-id="c010a-132">**Aujourd'hui** : fournisseur social local prédéfini</span><span class="sxs-lookup"><span data-stu-id="c010a-132">**Today**: predefined local, social provider</span></span><br><br><span data-ttu-id="c010a-133">**À l’avenir** : OIDC basé sur les normes, SAML, OAuth</span><span class="sxs-lookup"><span data-stu-id="c010a-133">**Future**: Standards-based OIDC, SAML, OAuth</span></span> | <span data-ttu-id="c010a-134">**Aujourd'hui** : OIDC basé sur les normes, OAuth, SAML</span><span class="sxs-lookup"><span data-stu-id="c010a-134">**Today**: Standards-based OIDC, OAUTH, SAML</span></span><br><br><span data-ttu-id="c010a-135">**À l’avenir** : WS-Fed</span><span class="sxs-lookup"><span data-stu-id="c010a-135">**Future**: WsFed</span></span> |
|<span data-ttu-id="c010a-136">Tâches d’identité (exemples)</span><span class="sxs-lookup"><span data-stu-id="c010a-136">Identity Tasks (examples)</span></span> | <span data-ttu-id="c010a-137">Inscription ou connexion avec des comptes locaux et de nombreux comptes sociaux</span><span class="sxs-lookup"><span data-stu-id="c010a-137">Signup or SignIn with local and many social accounts</span></span><br><br><span data-ttu-id="c010a-138">Réinitialisation du mot de passe en libre-service</span><span class="sxs-lookup"><span data-stu-id="c010a-138">Self-Service Password Reset</span></span><br><br><span data-ttu-id="c010a-139">Modification de profil</span><span class="sxs-lookup"><span data-stu-id="c010a-139">Profile Edit</span></span><br><br><span data-ttu-id="c010a-140">Scénarios d’authentification multifacteur</span><span class="sxs-lookup"><span data-stu-id="c010a-140">Multi-Factor Auth scenarios</span></span><br><br><span data-ttu-id="c010a-141">Personnalisation des jetons et des sessions</span><span class="sxs-lookup"><span data-stu-id="c010a-141">Customize Tokens and sessions</span></span><br><br><span data-ttu-id="c010a-142">Flux de jetons d’accès</span><span class="sxs-lookup"><span data-stu-id="c010a-142">Access Token flows</span></span> | <span data-ttu-id="c010a-143">Terminer hello même tâches en tant que stratégies intégrées à l’aide de fournisseurs d’identité personnalisé ou utiliser les étendues personnalisées</span><span class="sxs-lookup"><span data-stu-id="c010a-143">Complete hello same tasks as built-in policies using custom identity providers or use custom scopes</span></span><br><br><span data-ttu-id="c010a-144">Utilisateur de disposition dans un autre système au moment de hello d’enregistrement</span><span class="sxs-lookup"><span data-stu-id="c010a-144">Provision user in another system at hello time of registration</span></span><br><br><span data-ttu-id="c010a-145">Envoi d’un courrier électronique de bienvenue avec votre propre fournisseur de service de messagerie</span><span class="sxs-lookup"><span data-stu-id="c010a-145">Send a welcome email using your own email service provider</span></span><br><br><span data-ttu-id="c010a-146">Utilisation d’un magasin d’utilisateurs en dehors de B2C</span><span class="sxs-lookup"><span data-stu-id="c010a-146">Use a user store outside B2C</span></span><br><br><span data-ttu-id="c010a-147">Validation des informations fournies par l’utilisateur avec un système approuvé via une API</span><span class="sxs-lookup"><span data-stu-id="c010a-147">Validate user provided information with a trusted system via API</span></span> |

## <a name="policy-files"></a><span data-ttu-id="c010a-148">Fichiers de stratégie</span><span class="sxs-lookup"><span data-stu-id="c010a-148">Policy files</span></span>

<span data-ttu-id="c010a-149">Une stratégie personnalisée est représentée comme un ou plusieurs fichiers au format XML qui font référence tooeach autre dans une chaîne hiérarchique.</span><span class="sxs-lookup"><span data-stu-id="c010a-149">A custom policy is represented as one or several XML-formatted files which refer tooeach other in a hierarchical chain.</span></span> <span data-ttu-id="c010a-150">définissent les éléments XML de Hello : schéma de revendications, les revendications transformations, les définitions de contenu, profils de fournisseurs et techniques de revendications et étapes d’orchestration Userjourney, entre autres éléments.</span><span class="sxs-lookup"><span data-stu-id="c010a-150">hello XML elements define: Claims schema, claims transformations, content definitions, claims providers/technical profiles, and Userjourney orchestration steps, among other elements.</span></span>

<span data-ttu-id="c010a-151">Nous vous recommandons d’utiliser hello des trois types de fichiers de stratégie :</span><span class="sxs-lookup"><span data-stu-id="c010a-151">We recommend hello use of three types of policy files:</span></span>

- <span data-ttu-id="c010a-152">**Un fichier de BASE**, qui contient la plupart des définitions de hello et pour lequel Azure fournit un exemple complet.</span><span class="sxs-lookup"><span data-stu-id="c010a-152">**A BASE file**, which contains most of hello definitions and for which Azure provides a complete sample.</span></span>  <span data-ttu-id="c010a-153">Nous vous recommandons de que procéder à un nombre minimal de modifications toothis toohelp résolution des problèmes de fichiers et de maintenance à long terme de vos stratégies</span><span class="sxs-lookup"><span data-stu-id="c010a-153">We recommend you make a minimum number of changes toothis file toohelp with troubleshooting, and long-term maintenance of your policies</span></span>
- <span data-ttu-id="c010a-154">**un fichier d’EXTensions** qui contient les modifications de configuration unique hello pour votre client</span><span class="sxs-lookup"><span data-stu-id="c010a-154">**an EXTensions file** that holds hello unique configuration changes for your tenant</span></span>
- <span data-ttu-id="c010a-155">**un fichier de partie de confiance (RP)** qui est hello unique tâche axée sur le fichier qui est appelé directement par l’application hello ou un service (c'est-à-dire dans la partie de confiance).</span><span class="sxs-lookup"><span data-stu-id="c010a-155">**a Relying Party (RP) file** which is hello single task-focused file that is invoked directly by hello application or service (aka Relying Party).</span></span>  <span data-ttu-id="c010a-156">Lire l’article hello des définitions de fichier de stratégie pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="c010a-156">Read hello article on Policy file definitions for more information.</span></span>  <span data-ttu-id="c010a-157">Chaque tâche unique requiert son propre RP et en fonction de la configuration requise de la marque, nombre de hello peut être « total des applications x le nombre total de cas d’utilisation ».</span><span class="sxs-lookup"><span data-stu-id="c010a-157">Each unique task requires its own RP and depending on branding requirements hello number might be "total of applications x total number of use cases".</span></span>


<span data-ttu-id="c010a-158">Les stratégies intégrées dans Azure AD B2C procèdent hello 3-fichier mentionnés ci-dessus, mais le développeur de hello uniquement voit hello fichier du tiers de confiance (RP), tandis que le portail de hello apporte des modifications dans le fichier des extensions de hello arrière-plan toohello.</span><span class="sxs-lookup"><span data-stu-id="c010a-158">Built-in policies in Azure AD B2C follow hello 3-file pattern depicted above, but hello developer only sees hello Relying Party (RP) file, while hello portal makes changes in hello background toohello EXTenstions file.</span></span>

## <a name="core-concepts-you-should-know-when-using-custom-policies"></a><span data-ttu-id="c010a-159">Principaux concepts à connaître pour utiliser les stratégies personnalisées</span><span class="sxs-lookup"><span data-stu-id="c010a-159">Core concepts you should know when using custom policies</span></span>

### <a name="azure-active-directory-b2c"></a><span data-ttu-id="c010a-160">Azure Active Directory B2C</span><span class="sxs-lookup"><span data-stu-id="c010a-160">Azure Active Directory B2C</span></span>

<span data-ttu-id="c010a-161">Service de gestion des accès et des identités clients d’Azure.</span><span class="sxs-lookup"><span data-stu-id="c010a-161">Azure’s customer identity and access management (CIAM) service.</span></span> <span data-ttu-id="c010a-162">le service Hello inclut :</span><span class="sxs-lookup"><span data-stu-id="c010a-162">hello service includes:</span></span>

1. <span data-ttu-id="c010a-163">Un répertoire de l’utilisateur sous forme de hello d’un spécial Azure Active Directory accessible via Microsoft Graph et qui contient les données utilisateur pour les comptes locaux et fédérés</span><span class="sxs-lookup"><span data-stu-id="c010a-163">A user directory in hello form of a special-purpose Azure Active Directory accessible via Microsoft Graph and which holds user data for both local accounts and federated accounts</span></span> 
2. <span data-ttu-id="c010a-164">Accès toohello **infrastructure d’identité expérience** qui orchestre la relation d’approbation entre les utilisateurs et les entités et transmet les revendications entre eux toocomplete une tâche de gestion d’identité ou d’y accéder</span><span class="sxs-lookup"><span data-stu-id="c010a-164">Access toohello **Identity Experience Framework** which orchestrates trust between users and entities and passes claims between them toocomplete an identity/access management task</span></span> 
3. <span data-ttu-id="c010a-165">Un service jeton de sécurité (STS) émettre id jetons, actualisation des jetons et accès jetons (et les assertions SAML équivalentes) et en les validant tooprotect ressources.</span><span class="sxs-lookup"><span data-stu-id="c010a-165">A security token service (STS) issuing id tokens, refresh tokens, and access tokens (and equivalent SAML assertions) and validating them tooprotect resources.</span></span>

<span data-ttu-id="c010a-166">Azure AD B2C interagit avec les fournisseurs d’identité, les utilisateurs, d’autres systèmes et le répertoire utilisateur local hello dans la séquence tooachieve une tâche d’identité (par exemple, la connexion utilisateur, inscrire un nouvel utilisateur, un mot de passe).</span><span class="sxs-lookup"><span data-stu-id="c010a-166">Azure AD B2C interacts with identity providers, users, other systems, and with hello local user directory in sequence tooachieve an identity task (e.g. login a user, register a new user, reset a password).</span></span> <span data-ttu-id="c010a-167">Hello plateforme sous-jacente qui établit l’approbation de partie multiples et exécute ces étapes est appelée hello infrastructure expérience d’identité et une stratégie (également appelé un déplacement de l’utilisateur ou d’une stratégie d’approbation d’infrastructure) définit explicitement les acteurs hello, les actions hello, hello protocoles et séquence hello d’étapes toocomplete.</span><span class="sxs-lookup"><span data-stu-id="c010a-167">hello underlying platform which establishes multi-party trust and executes these steps is called hello Identity Experience Framework and a policy (also called an user journey or a Trust framework policy) explicitly defines hello actors, hello actions, hello protocols, and hello sequence of steps toocomplete.</span></span>

### <a name="identity-experience-framework"></a><span data-ttu-id="c010a-168">Identity Experience Framework (Infrastructure d’expérience d’identité)</span><span class="sxs-lookup"><span data-stu-id="c010a-168">Identity Experience Framework</span></span>

<span data-ttu-id="c010a-169">Plateforme Azure cloud, entièrement configurable et pilotée par des stratégies, qui orchestre les relations de confiance entre entités (en général des fournisseurs de revendications) dans des formats de protocoles standard, notamment OpenID Connect, OAuth, SAML, WS-Fed, ainsi que quelques protocoles non standard (par exemple, des échanges de revendications intersystèmes basés sur l’API REST).</span><span class="sxs-lookup"><span data-stu-id="c010a-169">A fully configurable, policy-driven, cloud-based Azure platform that orchestrates trust between entities (broadly Claims Providers) in standard protocol formats such as OpenIDConnect, OAuth, SAML, WSFed, and a few non-standard ones (e.g. REST API-based system-to-system claims exchanges).</span></span> <span data-ttu-id="c010a-170">Hello I2E crée conviviale, whitelabelled rencontre qui prennent en charge HTML, CSS et jscript.</span><span class="sxs-lookup"><span data-stu-id="c010a-170">hello I2E creates user-friendly, whitelabelled experiences that support HTML, CSS, and jscript.</span></span>  <span data-ttu-id="c010a-171">Aujourd'hui, hello identité expérience Framework est disponible uniquement dans un contexte de hello Azure AD B2C service hello et hiérarchisés pour tooCIAM associés de tâches.</span><span class="sxs-lookup"><span data-stu-id="c010a-171">Today, hello Identity Experience Framework is available only in hello context of hello Azure AD B2C service and prioritized for tasks related tooCIAM.</span></span>

### <a name="built-in-policies"></a><span data-ttu-id="c010a-172">Stratégies prédéfinies</span><span class="sxs-lookup"><span data-stu-id="c010a-172">Built-in policies</span></span>

<span data-ttu-id="c010a-173">Fichiers de configuration que comportement hello directe d’identité de Azure AD B2C tooperform hello couramment utilisé (enregistrement d’utilisateur, ouverture de session, réinitialisation de mot de passe) des tâches et d’interagir avec les parties de confiance dont la relation est également prédéfinie dans Azure AD B2C (de prédéfinies par exemple, fournisseur d’identité Facebook, LinkedIn, Microsoft Account, comptes Google).</span><span class="sxs-lookup"><span data-stu-id="c010a-173">Predefined configuration files that direct hello behavior of Azure AD B2C tooperform hello most commonly used identity tasks (i.e. user registration, signin, password reset) and interact with trusted parties whose relationship is also predefined in Azure AD B2C (e.g. Facebook identity provider, LinkedIn, Microsoft Account, Google accounts).</span></span>  <span data-ttu-id="c010a-174">Bonjour futures, les stratégies intégrées peuvent également fournir pour la personnalisation des fournisseurs d’identité qui sont en général dans le domaine d’entreprise hello tels que Azure Active Directory Premium, Active Directory/ADFS, etc. de Salesforce ID fournisseur.</span><span class="sxs-lookup"><span data-stu-id="c010a-174">In hello future, built-in policies may also provide for customization of identity providers which are typically in hello enterprise realm such as Azure Active Directory Premium, Active Directory/ADFS, Salesforce ID Provider etc.</span></span>


### <a name="custom-policies"></a><span data-ttu-id="c010a-175">Stratégies personnalisées</span><span class="sxs-lookup"><span data-stu-id="c010a-175">Custom policies</span></span>

<span data-ttu-id="c010a-176">Fichiers de configuration qui définissent le comportement hello de l’infrastructure d’identité expérience dans votre locataire Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="c010a-176">Configuration files that define hello behavior of Identity Experience Framework in your Azure AD B2C tenant.</span></span> <span data-ttu-id="c010a-177">Une stratégie personnalisée est accessible en tant qu’un ou plusieurs fichiers XML (voir les définitions de fichiers de stratégie) qui sont exécutées par hello identité expérience Framework lorsqu’elle est appelée par une tierce partie de confiance (par exemple, une application).</span><span class="sxs-lookup"><span data-stu-id="c010a-177">A custom policy is accessible as one or several XML files (see Policy Files definitions) which are executed by hello Identity Experience Framework when invoked by a relying party (e.g. an application).</span></span> <span data-ttu-id="c010a-178">Stratégies personnalisées peuvent être modifiées directement par un toocomplete de développeur d’identité un nombre illimité de proche de tâches.</span><span class="sxs-lookup"><span data-stu-id="c010a-178">Custom policies can be directly edited by an identity developer toocomplete a near unlimited number of tasks.</span></span> <span data-ttu-id="c010a-179">Aux développeurs de configurer les stratégies personnalisées doivent définir hello des relations approuvées dans les points de terminaison de métadonnées de détail prudent tooinclude, les revendications exactes échangent des définitions et configurer les clés secrètes, clés et certificats selon les besoins de chaque fournisseur d’identité.</span><span class="sxs-lookup"><span data-stu-id="c010a-179">Developers configuring custom policies must define hello trusted relationships in careful detail tooinclude metadata endpoints, exact claims exchange definitions, and configure secrets, keys and certificates as needed by each identity provider.</span></span>

## <a name="policy-file-definitions-for-identity-experience-framework-trustframeworks"></a><span data-ttu-id="c010a-180">Définitions de fichiers de stratégie pour les infrastructures de confiance de l’infrastructure d’expérience d’identité</span><span class="sxs-lookup"><span data-stu-id="c010a-180">Policy File Definitions for Identity Experience Framework Trustframeworks</span></span>

### <a name="policy-files"></a><span data-ttu-id="c010a-181">Fichiers de stratégie</span><span class="sxs-lookup"><span data-stu-id="c010a-181">Policy Files</span></span>

<span data-ttu-id="c010a-182">Une stratégie personnalisée est représentée comme un ou plusieurs fichiers au format XML qui font référence tooeach autre dans une chaîne hiérarchique.</span><span class="sxs-lookup"><span data-stu-id="c010a-182">A custom policy is represented as one or several XML-formatted files which refer tooeach other in a hierarchical chain.</span></span> <span data-ttu-id="c010a-183">définissent les éléments XML de Hello : schéma de revendications, les revendications transformations, les définitions de contenu, profils de fournisseurs et techniques de revendications et étapes d’orchestration Userjourney, entre autres éléments.</span><span class="sxs-lookup"><span data-stu-id="c010a-183">hello XML elements define: Claims schema, claims transformations, content definitions, claims providers/technical profiles, and Userjourney orchestration steps, among other elements.</span></span>  <span data-ttu-id="c010a-184">Nous vous recommandons d’utiliser hello des trois types de fichiers de stratégie :</span><span class="sxs-lookup"><span data-stu-id="c010a-184">We recommend hello use of three types of policy files:</span></span>

- <span data-ttu-id="c010a-185">**Un fichier de BASE**, qui contient la plupart des définitions de hello et pour lequel Azure fournit un exemple complet.</span><span class="sxs-lookup"><span data-stu-id="c010a-185">**A BASE file**, which contains most of hello definitions and for which Azure provides a complete sample.</span></span>  <span data-ttu-id="c010a-186">Nous vous recommandons de que procéder à un nombre minimal de modifications toothis toohelp résolution des problèmes de fichiers et de maintenance à long terme de vos stratégies</span><span class="sxs-lookup"><span data-stu-id="c010a-186">We recommend you make a minimum number of changes toothis file toohelp with troubleshooting, and long-term maintenance of your policies</span></span>
- <span data-ttu-id="c010a-187">**un fichier d’EXTensions** qui contient les modifications de configuration unique hello pour votre client</span><span class="sxs-lookup"><span data-stu-id="c010a-187">**an EXTensions file** that holds hello unique configuration changes for your tenant</span></span>
- <span data-ttu-id="c010a-188">**un fichier de partie de confiance (RP)** qui est hello unique tâche axée sur le fichier qui est appelé directement par l’application hello ou un service (c'est-à-dire dans la partie de confiance).</span><span class="sxs-lookup"><span data-stu-id="c010a-188">**a Relying Party (RP) file** which is hello single task-focused file that is invoked directly by hello application or service (aka Relying Party).</span></span>  <span data-ttu-id="c010a-189">Lire l’article hello des définitions de fichier de stratégie pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="c010a-189">Read hello article on Policy file definitions for more information.</span></span>  <span data-ttu-id="c010a-190">Chaque tâche unique requiert son propre RP et en fonction de la configuration requise de la marque, nombre de hello peut être « total des applications x le nombre total de cas d’utilisation ».</span><span class="sxs-lookup"><span data-stu-id="c010a-190">Each unique task requires its own RP and depending on branding requirements hello number might be "total of applications x total number of use cases".</span></span>

![Types de fichiers de stratégie](media/active-directory-b2c-overview-custom/active-directory-b2c-overview-custom-policy-files.png)

| <span data-ttu-id="c010a-192">Type de fichier de stratégie</span><span class="sxs-lookup"><span data-stu-id="c010a-192">Type of policy file</span></span> | <span data-ttu-id="c010a-193">Exemples de noms de fichier</span><span class="sxs-lookup"><span data-stu-id="c010a-193">Examples file name</span></span> | <span data-ttu-id="c010a-194">Utilisation recommandée</span><span class="sxs-lookup"><span data-stu-id="c010a-194">Recommended use</span></span> | <span data-ttu-id="c010a-195">Hérite de</span><span class="sxs-lookup"><span data-stu-id="c010a-195">Inherits from</span></span> |
|---------------------|--------------------|-----------------|---------------|
| <span data-ttu-id="c010a-196">BASE</span><span class="sxs-lookup"><span data-stu-id="c010a-196">BASE</span></span> |<span data-ttu-id="c010a-197">TrustFrameworkBase.xml</span><span class="sxs-lookup"><span data-stu-id="c010a-197">TrustFrameworkBase.xml</span></span><br><br><span data-ttu-id="c010a-198">Mytenant.onmicrosoft.com-B2C-1A_BASE1.xml</span><span class="sxs-lookup"><span data-stu-id="c010a-198">Mytenant.onmicrosoft.com-B2C-1A_BASE1.xml</span></span> | <span data-ttu-id="c010a-199">Inclut le schéma de revendications principal hello, les transformations de revendications, les fournisseurs de revendications et trajets utilisateur configurés par Microsoft</span><span class="sxs-lookup"><span data-stu-id="c010a-199">Includes hello core claims schema, claims transformations, claims providers, and user journeys configured by Microsoft</span></span><br><br><span data-ttu-id="c010a-200">Vérifiez le fichier toothis des modifications minimales</span><span class="sxs-lookup"><span data-stu-id="c010a-200">Make minimal changes toothis file</span></span> | <span data-ttu-id="c010a-201">Aucun</span><span class="sxs-lookup"><span data-stu-id="c010a-201">None</span></span> |
| <span data-ttu-id="c010a-202">Extension (EXT)</span><span class="sxs-lookup"><span data-stu-id="c010a-202">Extension (EXT)</span></span> | <span data-ttu-id="c010a-203">TrustFrameworkExtensions.xml</span><span class="sxs-lookup"><span data-stu-id="c010a-203">TrustFrameworkExtensions.xml</span></span><br><br><span data-ttu-id="c010a-204">Mytenant.onmicrosoft.com-B2C-1A_EXT.xml</span><span class="sxs-lookup"><span data-stu-id="c010a-204">Mytenant.onmicrosoft.com-B2C-1A_EXT.xml</span></span> | <span data-ttu-id="c010a-205">Consolider ici votre fichier BASE toohello modifications</span><span class="sxs-lookup"><span data-stu-id="c010a-205">Consolidate your changes toohello BASE file here</span></span><br><br><span data-ttu-id="c010a-206">Fournisseurs de revendications modifiés.</span><span class="sxs-lookup"><span data-stu-id="c010a-206">Modified claims providers</span></span><br><br><span data-ttu-id="c010a-207">Parcours utilisateur modifiés.</span><span class="sxs-lookup"><span data-stu-id="c010a-207">Modified user journeys</span></span><br><br><span data-ttu-id="c010a-208">Vos propres définitions de schéma personnalisées.</span><span class="sxs-lookup"><span data-stu-id="c010a-208">Your own custom schema definitions</span></span> | <span data-ttu-id="c010a-209">Fichier de BASE</span><span class="sxs-lookup"><span data-stu-id="c010a-209">BASE file</span></span> |
| <span data-ttu-id="c010a-210">Partie de confiance (RP)</span><span class="sxs-lookup"><span data-stu-id="c010a-210">Relying Party (RP)</span></span> | <span data-ttu-id="c010a-211">B2C_1A_sign_up_sign_in.xml</span><span class="sxs-lookup"><span data-stu-id="c010a-211">B2C_1A_sign_up_sign_in.xml</span></span>| <span data-ttu-id="c010a-212">Modifiez les paramètres de jeton, de forme et de session ici</span><span class="sxs-lookup"><span data-stu-id="c010a-212">Change token shape and session settings here</span></span>| <span data-ttu-id="c010a-213">Fichier Extensions(EXT)</span><span class="sxs-lookup"><span data-stu-id="c010a-213">Extensions(EXT) file</span></span> |

### <a name="inheritance-model"></a><span data-ttu-id="c010a-214">Modèle d’héritage</span><span class="sxs-lookup"><span data-stu-id="c010a-214">Inheritance model</span></span>

<span data-ttu-id="c010a-215">Lorsqu’une application appelle un fichier de stratégie de RP hello, hello infrastructure d’identité expérience dans B2C ajouter tous les éléments hello de BASE, puis à partir des EXTENSIONS et enfin de hello RP stratégie fichier tooassemble hello stratégie actuellement en vigueur.</span><span class="sxs-lookup"><span data-stu-id="c010a-215">When an application calls hello RP Policy file, hello Identity Experience Framework in B2C will add all hello elements from BASE, then from EXTENSIONS, and lastly from hello RP policy file tooassemble hello current policy in effect.</span></span>  <span data-ttu-id="c010a-216">Éléments de hello même type et nom de fichier RP hello remplacent celles de hello EXTENSIONS et remplacements d’EXTENSIONS BASE.</span><span class="sxs-lookup"><span data-stu-id="c010a-216">Elements of hello same type and name in hello RP file will override those in hello EXTENSIONS, and EXTENSIONS overrides BASE.</span></span>

<span data-ttu-id="c010a-217">**Stratégies intégrées** dans Azure AD B2C procèdent hello 3-fichier mentionnés ci-dessus, mais le développeur de hello uniquement voit hello fichier du tiers de confiance (RP), tandis que le portail de hello apporte des modifications dans le fichier des extensions de hello arrière-plan toohello.</span><span class="sxs-lookup"><span data-stu-id="c010a-217">**Built-in policies** in Azure AD B2C follow hello 3-file pattern depicted above, but hello developer only sees hello Relying Party (RP) file, while hello portal makes changes in hello background toohello EXTenstions file.</span></span>  <span data-ttu-id="c010a-218">Tous les Azure AD B2C partage un fichier de stratégie de BASE qui est sous contrôle de code hello de l’équipe de hello Azure B2C et est fréquemment mis à jour.</span><span class="sxs-lookup"><span data-stu-id="c010a-218">All of Azure AD B2C shares a BASE policy file that is under hello control of hello Azure B2C team and is updated frequently.</span></span>
