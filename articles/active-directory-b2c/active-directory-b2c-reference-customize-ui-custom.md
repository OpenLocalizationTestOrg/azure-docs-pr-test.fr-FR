---
title: "Azure Active Directory B2C : référence : personnaliser l’interface utilisateur d’un parcours utilisateur avec des stratégies personnalisées | Microsoft Docs"
description: "Une rubrique sur les stratégies personnalisées Azure Active Directory B2C"
services: active-directory-b2c
documentationcenter: 
author: rojasja
manager: krassk
editor: rojasja
ms.assetid: 
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.topic: article
ms.devlang: na
ms.date: 04/25/2017
ms.author: joroja
ms.openlocfilehash: 68f40aa638a687398512278a0b77d1ba392859cf
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="customize-the-ui-of-a-user-journey-with-custom-policies"></a><span data-ttu-id="f0f28-103">Personnaliser l’interface utilisateur d’un parcours utilisateur avec des stratégies personnalisées</span><span class="sxs-lookup"><span data-stu-id="f0f28-103">Customize the UI of a user journey with Custom Policies</span></span>

[!INCLUDE [active-directory-b2c-advanced-audience-warning](../../includes/active-directory-b2c-advanced-audience-warning.md)]

> [!NOTE]
> <span data-ttu-id="f0f28-104">Cet article est une description détaillée du fonctionnement de la personnalisation de l’interface utilisateur et de l’activation des stratégies personnalisées B2C à l’aide de l’infrastructure d’expérience d’identité</span><span class="sxs-lookup"><span data-stu-id="f0f28-104">This article is an advanced description of how UI customization works and how to enable with B2C Custom policies, using the Identity Experience Framework</span></span>


<span data-ttu-id="f0f28-105">Une expérience utilisateur transparente est essentielle à toute solution B2C.</span><span class="sxs-lookup"><span data-stu-id="f0f28-105">A seamless user experience is key for any business-to-consumer solution.</span></span> <span data-ttu-id="f0f28-106">Pour nous, une expérience utilisateur transparente se traduit par une expérience, sur un appareil ou un navigateur, où le parcours d’un utilisateur via notre service ne peut pas être distingué du service que le client utilise.</span><span class="sxs-lookup"><span data-stu-id="f0f28-106">By seamless user experience, we mean an experience, whether on device or browser, where a user’s journey through our service cannot be distinguished from that of the customer service they are using.</span></span>

## <a name="understand-the-cors-way-for-ui-customization"></a><span data-ttu-id="f0f28-107">Comprendre la méthode CORS appliquée à la personnalisation de l’interface utilisateur</span><span class="sxs-lookup"><span data-stu-id="f0f28-107">Understand the CORS way for UI customization</span></span>

<span data-ttu-id="f0f28-108">Azure AD B2C vous permet de personnaliser l’apparence de l’expérience utilisateur sur les différentes pages qui peuvent potentiellement être traitées et affichées par Azure AD B2C via vos stratégies personnalisées.</span><span class="sxs-lookup"><span data-stu-id="f0f28-108">Azure AD B2C allows you to customize the look-and-feel of user experience (UX) on the various pages that can be potentially served and displayed by Azure AD B2C via your custom policies.</span></span>

<span data-ttu-id="f0f28-109">Pour ce faire, Azure AD B2C exécute du code dans le navigateur de votre client et utilise l’approche moderne et standard [Partage des ressources cross-origin (CORS)](http://www.w3.org/TR/cors/) pour charger du contenu personnalisé à partir d’une URL spécifique que vous spécifiez dans une stratégie personnalisée pour qu’elle pointe vers vos modèles HTML5/CSS.</span><span class="sxs-lookup"><span data-stu-id="f0f28-109">For that purpose, Azure AD B2C runs code in your consumer's browser and uses the modern and standard approach [Cross-Origin Resource Sharing (CORS)](http://www.w3.org/TR/cors/) to load custom content from a specific URL that you specify in a custom policy to point to your HTML5/CSS templates.</span></span> <span data-ttu-id="f0f28-110">CORS est un mécanisme qui permet à des ressources limitées (p. ex des polices) sur une page web d’être demandées à partir d’un autre domaine en dehors du domaine d’origine de la ressource.</span><span class="sxs-lookup"><span data-stu-id="f0f28-110">CORS is a mechanism that allows restricted resources, like fonts, on a web page to be requested from another domain outside the domain from which the resource originated.</span></span>

<span data-ttu-id="f0f28-111">Par rapport à l’ancienne méthode traditionnelle, où des pages de modèle sont détenues par la solution dans laquelle vous avez fourni des images et du texte limités et dans laquelle un contrôle restreint de la disposition et de l’apparence a été appliqué, ce qui compromettait la transparence de l’expérience, la méthode CORS prend en charge les modèles HTML5 et CSS, ce qui vous permet d’effectuer les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="f0f28-111">Compared to the old traditional way, where template pages are owned by the solution where you provided limited text and images, where limited control of layout and feel was offered leading to more than difficulties to achieve a seamless experience, the CORS way supports HTML5 and CSS and allow you to:</span></span>

- <span data-ttu-id="f0f28-112">Héberger le contenu et permettre à la solution d’injecter ses contrôles à l’aide d’un script côté client.</span><span class="sxs-lookup"><span data-stu-id="f0f28-112">Host the content and the solution injects its controls using client side script.</span></span>
- <span data-ttu-id="f0f28-113">Avoir un contrôle total sur chaque pixel de la disposition et de l’apparence.</span><span class="sxs-lookup"><span data-stu-id="f0f28-113">Have full control over every pixel of layout and feel.</span></span>

<span data-ttu-id="f0f28-114">Vous pouvez fournir autant de pages de contenu que vous le souhaitez en créant les fichiers HTML5/CSS nécessaires à chaque page.</span><span class="sxs-lookup"><span data-stu-id="f0f28-114">You can provide as many content pages as you like by crafting HTML5/CSS files as appropriate.</span></span>

> [!NOTE]
> <span data-ttu-id="f0f28-115">Pour des raisons de sécurité, l’utilisation de JavaScript est actuellement bloquée pour la personnalisation.</span><span class="sxs-lookup"><span data-stu-id="f0f28-115">For security reasons, the use of JavaScript is currently blocked for customization.</span></span> <span data-ttu-id="f0f28-116">Pour débloquer JavaScript, vous devez utiliser un nom de domaine personnalisé pour votre client Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="f0f28-116">To unblock JavaScript, use of a custom domain name for your Azure AD B2C tenant is needed.</span></span>

<span data-ttu-id="f0f28-117">Dans chacun de vos modèles HTML5/CSS, vous fournissez un élément *d’ancrage*, qui correspond à l’élément `<div id=”api”>` requis dans le HTML ou la page de contenu, comme illustré ci-après.</span><span class="sxs-lookup"><span data-stu-id="f0f28-117">In each of your HTML5/CSS templates, you provide an *anchor* element, which corresponds to the required `<div id=”api”>` element in the HTML or the content page as illustrate hereafter.</span></span> <span data-ttu-id="f0f28-118">Azure AD B2C nécessite que toutes les pages de contenu aient cet élément div spécifique.</span><span class="sxs-lookup"><span data-stu-id="f0f28-118">Azure AD B2C requires that all content pages have this specific div.</span></span>

```
<!DOCTYPE html>
<html>
  <head>
    <title>Your page content’s tile!</title>
  </head>
  <body>
    <div id="api"></div>
  </body>
</html>
```

<span data-ttu-id="f0f28-119">Le contenu lié à Azure AD B2C de la page sera injecté dans cet élément div, tandis que le reste de la page devra être contrôlé par vous.</span><span class="sxs-lookup"><span data-stu-id="f0f28-119">Azure AD B2C-related content for the page will be injected into this div, while the rest of the page is yours to control.</span></span> <span data-ttu-id="f0f28-120">Le code JavaScript d’Azure AD B2C extrait votre contenu et injecte notre HTML dans cet élément div spécifique.</span><span class="sxs-lookup"><span data-stu-id="f0f28-120">The Azure AD B2C’s JavaScript code pulls in your content and injects our HTML into this specific div element.</span></span> <span data-ttu-id="f0f28-121">Azure Active Directory B2C injecte les contrôles suivants comme il se doit : contrôle de sélecteur de compte, contrôles de connexion, contrôles multi-facteur (actuellement basés sur téléphone) et contrôles de collection d’attributs.</span><span class="sxs-lookup"><span data-stu-id="f0f28-121">Azure AD B2C injects the following controls as appropriate: account chooser control, login controls, multi-factor (currently phone-based) controls, and attribute collection controls.</span></span> <span data-ttu-id="f0f28-122">Azure AD B2C s’assure que tous les contrôles sont accessibles et conformes à HTML5, que des styles peuvent leur être appliqués et qu’une version de contrôle ne fera pas l’objet d’une régression.</span><span class="sxs-lookup"><span data-stu-id="f0f28-122">Azure AD B2C ensures that all the controls are HTML5 compliant and accessible, all the controls can be fully styled, and that a control version will not regress.</span></span>

<span data-ttu-id="f0f28-123">Le contenu fusionné s’affiche finalement sous forme d’un document dynamique pour votre client.</span><span class="sxs-lookup"><span data-stu-id="f0f28-123">The merged content is eventually displayed as the dynamic document to your consumer.</span></span>

<span data-ttu-id="f0f28-124">Pour vous assurer que les éléments ci-dessus fonctionnent comme prévu, vous devez :</span><span class="sxs-lookup"><span data-stu-id="f0f28-124">To ensure of the above works as expected, you must:</span></span>

- <span data-ttu-id="f0f28-125">Vérifier que votre contenu est accessible et conforme à HTML5</span><span class="sxs-lookup"><span data-stu-id="f0f28-125">Ensure your content is HTML5 compliant and accessible</span></span>
- <span data-ttu-id="f0f28-126">Vérifier que CORS est activé sur votre serveur de contenu</span><span class="sxs-lookup"><span data-stu-id="f0f28-126">Ensure your content server is enabled for CORS.</span></span>
- <span data-ttu-id="f0f28-127">Traiter du contenu via HTTPS</span><span class="sxs-lookup"><span data-stu-id="f0f28-127">Serve content over HTTPS.</span></span>
- <span data-ttu-id="f0f28-128">Utiliser des URL absolues comme https://yourdomain/content pour tous les liens et le contenu CSS</span><span class="sxs-lookup"><span data-stu-id="f0f28-128">Use absolute URLS such as https://yourdomain/content for all links and CSS content.</span></span>

> [!TIP]
> <span data-ttu-id="f0f28-129">Pour vérifier que CORS est activé sur le site sur lequel votre contenu est hébergé et pour tester vos demandes CORS, vous pouvez utiliser le site http://test-cors.org/.</span><span class="sxs-lookup"><span data-stu-id="f0f28-129">To verify that the site you are hosting your content on has CORS enabled and test CORS requests, you can use the site http://test-cors.org/.</span></span> <span data-ttu-id="f0f28-130">Grâce à ce site, vous pouvez simplement envoyer la demande CORS à un serveur distant (pour déterminer si CORS est pris en charge) ou envoyer la demande CORS à un serveur de test (pour découvrir certaines fonctionnalités de CORS).</span><span class="sxs-lookup"><span data-stu-id="f0f28-130">Thanks to this site, you can simply either send the CORS request to a remote server (to test if CORS is supported), or send the CORS request to a test server (to explore certain features of CORS).</span></span>

> [!TIP]
> <span data-ttu-id="f0f28-131">Le site http://enable-cors.org/ est également une ressource précieuse pour en savoir plus sur CORS.</span><span class="sxs-lookup"><span data-stu-id="f0f28-131">The site http://enable-cors.org/ also constitutes a more than useful resources on CORS.</span></span>

<span data-ttu-id="f0f28-132">Cette approche basée sur CORS permet aux utilisateurs finaux de bénéficier d’expériences cohérentes entre votre application et les pages traitées par Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="f0f28-132">Thanks to this CORS-based approach, the end users will then have consistent experiences between your application and the pages served by Azure AD B2C.</span></span>

## <a name="create-a-storage-account"></a><span data-ttu-id="f0f28-133">Créer un compte de stockage</span><span class="sxs-lookup"><span data-stu-id="f0f28-133">Create a storage account</span></span>

<span data-ttu-id="f0f28-134">Vous devez créer un compte de stockage pour pouvoir continuer avec la procédure suivante.</span><span class="sxs-lookup"><span data-stu-id="f0f28-134">As a prerequisite, you need to create a storage account.</span></span> <span data-ttu-id="f0f28-135">Vous avez besoin d’un abonnement Azure pour créer un compte Azure Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="f0f28-135">You will need an Azure subscription to create an Azure Blob Storage account.</span></span> <span data-ttu-id="f0f28-136">Vous pouvez vous inscrire gratuitement sur le [site web Azure](https://azure.microsoft.com/en-us/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="f0f28-136">You can sign up a free trial at the [Azure website](https://azure.microsoft.com/en-us/pricing/free-trial/).</span></span>

1. <span data-ttu-id="f0f28-137">Ouvrez une session de navigation et accédez au [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="f0f28-137">Open a browsing session and navigate to the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="f0f28-138">Connectez-vous avec vos informations d’identification d’administration.</span><span class="sxs-lookup"><span data-stu-id="f0f28-138">Sign in with your administrative credentials.</span></span>
3. <span data-ttu-id="f0f28-139">Cliquez sur **Nouveau** > **Données et stockage** > **Compte de stockage**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-139">Click **New** > **Data + Storage** > **Storage account**.</span></span>  <span data-ttu-id="f0f28-140">Un panneau **Créer un compte de stockage** s’affiche.</span><span class="sxs-lookup"><span data-stu-id="f0f28-140">A **Create storage account** blade opens up.</span></span>
4. <span data-ttu-id="f0f28-141">Dans **Nom**, fournissez un nom pour le compte de stockage, par exemple *contoso369b2c*.</span><span class="sxs-lookup"><span data-stu-id="f0f28-141">In **Name**, provide a name for the storage account, for example, *contoso369b2c*.</span></span> <span data-ttu-id="f0f28-142">Cette valeur sera ultérieurement appelée *storageAccountName*.</span><span class="sxs-lookup"><span data-stu-id="f0f28-142">This value will be later referred as to *storageAccountName*.</span></span>
5. <span data-ttu-id="f0f28-143">Choisissez les sélections appropriées pour le niveau de tarification, le groupe de ressources et l’abonnement.</span><span class="sxs-lookup"><span data-stu-id="f0f28-143">Pick the appropriate selections for the pricing tier, the resource group and the subscription.</span></span> <span data-ttu-id="f0f28-144">Assurez-vous que l’option **Épingler au tableau d’accueil** est activée.</span><span class="sxs-lookup"><span data-stu-id="f0f28-144">Make sure that you have the **Pin to Startboard** option checked.</span></span> <span data-ttu-id="f0f28-145">Cliquez sur **Create**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-145">Click **Create**.</span></span>
6. <span data-ttu-id="f0f28-146">Revenez au tableau d’accueil et cliquez sur le compte de stockage que vous venez de créer.</span><span class="sxs-lookup"><span data-stu-id="f0f28-146">Go back to the Startboard and click the storage account that you just created.</span></span>
7. <span data-ttu-id="f0f28-147">Dans la section **Services**, cliquez sur **Objets blob**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-147">In the **Services** section, click **Blobs**.</span></span> <span data-ttu-id="f0f28-148">Un **panneau Service BLOB** s’affiche.</span><span class="sxs-lookup"><span data-stu-id="f0f28-148">A **Blob service blade** opens up.</span></span>
8. <span data-ttu-id="f0f28-149">Cliquez sur **+ conteneur**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-149">Click **+ Container**.</span></span>
9. <span data-ttu-id="f0f28-150">Dans **Nom**, fournissez un nom pour le conteneur, par exemple *b2c*.</span><span class="sxs-lookup"><span data-stu-id="f0f28-150">In **Name**, provide a name for the container, for example, *b2c*.</span></span> <span data-ttu-id="f0f28-151">Cette valeur sera ultérieurement appelée *containerName*.</span><span class="sxs-lookup"><span data-stu-id="f0f28-151">This value will be later referred to as *containerName*.</span></span>
9. <span data-ttu-id="f0f28-152">Sélectionnez **Objet blob** pour **Type d’accès**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-152">Select **Blob** as the **Access type**.</span></span> <span data-ttu-id="f0f28-153">Cliquez sur **Create**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-153">Click **Create**.</span></span>
10. <span data-ttu-id="f0f28-154">Le conteneur que vous avez créé apparaît dans la liste sur le **panneau Service BLOB**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-154">The container that you created will appear in the list on the **Blob service blade**.</span></span>
11. <span data-ttu-id="f0f28-155">Fermez le panneau **Objets Blob** .</span><span class="sxs-lookup"><span data-stu-id="f0f28-155">Close the **Blobs** blade.</span></span>
12. <span data-ttu-id="f0f28-156">Dans le **panneau Compte de stockage**, cliquez sur l’icône **Clé**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-156">On the **storage account blade**, click the **Key** icon.</span></span> <span data-ttu-id="f0f28-157">Un **panneau Clés d’accès** s’affiche.</span><span class="sxs-lookup"><span data-stu-id="f0f28-157">An **Access keys blade** opens up.</span></span>  
13. <span data-ttu-id="f0f28-158">Notez la valeur de **key1**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-158">Write down the value of **key1**.</span></span> <span data-ttu-id="f0f28-159">Cette valeur sera ultérieurement appelée *key1*.</span><span class="sxs-lookup"><span data-stu-id="f0f28-159">This value will be later referred as *key1*.</span></span>

## <a name="downloading-the-helper-tool"></a><span data-ttu-id="f0f28-160">Téléchargement de l’outil d’assistance</span><span class="sxs-lookup"><span data-stu-id="f0f28-160">Downloading the helper tool</span></span>

1.  <span data-ttu-id="f0f28-161">Téléchargez l’outil d’assistance à partir de [GitHub](https://github.com/azureadquickstarts/b2c-azureblobstorage-client/archive/master.zip).</span><span class="sxs-lookup"><span data-stu-id="f0f28-161">Download the helper tool from [GitHub](https://github.com/azureadquickstarts/b2c-azureblobstorage-client/archive/master.zip).</span></span>
2.  <span data-ttu-id="f0f28-162">Enregistrer le fichier *B2C-AzureBlobStorage-Client-master.zip* sur votre ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="f0f28-162">Save the *B2C-AzureBlobStorage-Client-master.zip* file on your local machine.</span></span>
3.  <span data-ttu-id="f0f28-163">Extrayez le contenu du fichier B2C-AzureBlobStorage-Client-master.zip sur votre disque local, par exemple sous le dossier **UI-Customization-Pack**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-163">Extract the content of the B2C-AzureBlobStorage-Client-master.zip file on your local disk, for example under the **UI-Customization-Pack** folder.</span></span> <span data-ttu-id="f0f28-164">Cela va créer un dossier *B2C-AzureBlobStorage-Client-master* en dessous.</span><span class="sxs-lookup"><span data-stu-id="f0f28-164">This will create a *B2C-AzureBlobStorage-Client-master* folder underneath.</span></span>
4.  <span data-ttu-id="f0f28-165">Ouvrez ce dossier et extrayez le contenu du fichier archive *B2CAzureStorageClient.zip* qu’il contient.</span><span class="sxs-lookup"><span data-stu-id="f0f28-165">Open that folder and extract the content of the archive file *B2CAzureStorageClient.zip* within it.</span></span>

## <a name="upload-the-ui-customization-pack-sample-files"></a><span data-ttu-id="f0f28-166">Charger les exemples de fichiers UI-Customization-Pack</span><span class="sxs-lookup"><span data-stu-id="f0f28-166">Upload the UI-Customization-Pack sample files</span></span>

1.  <span data-ttu-id="f0f28-167">À l’aide de l’Explorateur Windows, accédez au dossier *B2C-AzureBlobStorage-Client-master* situé sous le dossier *UI-Customization-Pack* créé dans la section précédente.</span><span class="sxs-lookup"><span data-stu-id="f0f28-167">Using Windows Explorer, navigate to the folder *B2C-AzureBlobStorage-Client-master* located under the *UI-Customization-Pack* folder created in the previous section.</span></span>
2.  <span data-ttu-id="f0f28-168">Exécutez le fichier *B2CAzureStorageClient.exe*.</span><span class="sxs-lookup"><span data-stu-id="f0f28-168">Run the *B2CAzureStorageClient.exe* file.</span></span> <span data-ttu-id="f0f28-169">Ce programme charge simplement tous les fichiers dans le répertoire que vous spécifiez pour votre compte de stockage et active l’accès CORS pour ces fichiers.</span><span class="sxs-lookup"><span data-stu-id="f0f28-169">This program will simply upload all the files in the directory that you specify to your storage account, and enable CORS access for those files.</span></span>
3.  <span data-ttu-id="f0f28-170">Lorsque vous y êtes invité, spécifiez : a.</span><span class="sxs-lookup"><span data-stu-id="f0f28-170">When prompted, specify: a.</span></span>  <span data-ttu-id="f0f28-171">Le nom de votre compte de stockage *storageAccountName*, par exemple *contoso369b2c*.</span><span class="sxs-lookup"><span data-stu-id="f0f28-171">The name of your storage account, *storageAccountName*, for example *contoso369b2c*.</span></span>
    <span data-ttu-id="f0f28-172">b.</span><span class="sxs-lookup"><span data-stu-id="f0f28-172">b.</span></span>  <span data-ttu-id="f0f28-173">La clé d’accès primaire de votre stockage Blob Azure *key1*, par exemple *contoso369b2c*.</span><span class="sxs-lookup"><span data-stu-id="f0f28-173">The primary access key of your azure blob storage, *key1*, for example *contoso369b2c*.</span></span>
    <span data-ttu-id="f0f28-174">c.</span><span class="sxs-lookup"><span data-stu-id="f0f28-174">c.</span></span>  <span data-ttu-id="f0f28-175">Le nom de votre conteneur de stockage d’objets blob *containerName*, par exemple *b2c*.</span><span class="sxs-lookup"><span data-stu-id="f0f28-175">The name of your storage blob storage container, *containerName*, for example *b2c*.</span></span>
    <span data-ttu-id="f0f28-176">d.</span><span class="sxs-lookup"><span data-stu-id="f0f28-176">d.</span></span>  <span data-ttu-id="f0f28-177">Le chemin d’accès aux exemples de fichiers *Starter-Pack*, par exemple *..\B2CTemplates\wingtiptoys*.</span><span class="sxs-lookup"><span data-stu-id="f0f28-177">The path of the *Starter-Pack* sample files, for example *..\B2CTemplates\wingtiptoys*.</span></span>

<span data-ttu-id="f0f28-178">Si vous avez suivi les étapes ci-dessus, les fichiers HTML5 et CSS de *UI-Customization-Pack* pour la société fictive **wingtiptoys** pointent désormais vers votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="f0f28-178">If you followed the steps above, the HTML5 and CSS files of the *UI-Customization-Pack* for the fictitious company **wingtiptoys** will now be pointing to your storage account.</span></span>  <span data-ttu-id="f0f28-179">Vous pouvez vérifier que le contenu a été chargé correctement en ouvrant le panneau du conteneur associé dans le portail Azure.</span><span class="sxs-lookup"><span data-stu-id="f0f28-179">You can verify that the content has been uploaded correctly by opening the related container blade in the Azure portal.</span></span> <span data-ttu-id="f0f28-180">Vous pouvez également vérifier que le contenu a été chargé correctement en accédant à la page à partir d’un navigateur.</span><span class="sxs-lookup"><span data-stu-id="f0f28-180">You can alternatively verify that the content has been uploaded correctly by accessing the page from a browser.</span></span> <span data-ttu-id="f0f28-181">Pour plus d’informations, consultez [Azure Active Directory B2C : un outil d’assistance utilisé pour illustrer la fonctionnalité de personnalisation de l’interface utilisateur de la page](active-directory-b2c-reference-ui-customization-helper-tool.md).</span><span class="sxs-lookup"><span data-stu-id="f0f28-181">For more information, see [Azure Active Directory B2C: A helper tool used to demonstrate the page user interface (UI) customization feature](active-directory-b2c-reference-ui-customization-helper-tool.md).</span></span>

## <a name="ensure-the-storage-account-has-cors-enabled"></a><span data-ttu-id="f0f28-182">Vérifier que CORS est activé sur le compte de stockage</span><span class="sxs-lookup"><span data-stu-id="f0f28-182">Ensure the storage account has CORS enabled</span></span>

<span data-ttu-id="f0f28-183">CORS (Partage des ressources cross-origin) doit être activé sur votre point de terminaison pour Azure AD B2C Premium afin de charger votre contenu.</span><span class="sxs-lookup"><span data-stu-id="f0f28-183">CORS (Cross-Origin Resource Sharing) must be enabled on your endpoint for Azure AD B2C Premium to load your content.</span></span> <span data-ttu-id="f0f28-184">Cela est nécessaire car votre contenu est hébergé sur un domaine différent du domaine Azure AD B2C Premium à partir duquel la page sera traitée.</span><span class="sxs-lookup"><span data-stu-id="f0f28-184">This is because your content is hosted on a different domain than the domain Azure AD B2C Premium will be serving the page from.</span></span>

<span data-ttu-id="f0f28-185">Pour vérifier que CORS est activé sur le compte de stockage sur lequel vous hébergez votre contenu, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="f0f28-185">To verify that the storage you are hosting your content on has CORS enabled, proceed with the following steps:</span></span>

1. <span data-ttu-id="f0f28-186">Ouvrez une session de navigation et accédez à la page *unified.html* à l’aide de l’URL complète de son emplacement dans votre compte de stockage, `https://<storageAccountName>.blob.core.windows.net/<containerName>/unified.html`.</span><span class="sxs-lookup"><span data-stu-id="f0f28-186">Open a browsing session and navigate to the page *unified.html* using the full URL of its location in your storage account, `https://<storageAccountName>.blob.core.windows.net/<containerName>/unified.html`.</span></span> <span data-ttu-id="f0f28-187">Par exemple, https://contoso369b2c.blob.core.windows.net/b2c/unified.html.</span><span class="sxs-lookup"><span data-stu-id="f0f28-187">For example, https://contoso369b2c.blob.core.windows.net/b2c/unified.html.</span></span>
2. <span data-ttu-id="f0f28-188">Accédez à http://test-cors.org.</span><span class="sxs-lookup"><span data-stu-id="f0f28-188">Navigate to http://test-cors.org.</span></span> <span data-ttu-id="f0f28-189">Ce site vous permet de vérifier que CORS est activé pour la page que vous utilisez.</span><span class="sxs-lookup"><span data-stu-id="f0f28-189">This site allows you to verify that the page you are using has CORS enabled.</span></span>  
<!--
![test-cors.org](../../media/active-directory-b2c-customize-ui-of-a-user-journey/test-cors.png)
-->

3. <span data-ttu-id="f0f28-190">Dans **URL distante**, entrez l’URL complète de votre contenu unified.html et cliquez sur **Envoyer une requête**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-190">In **Remote URL**, enter the full URL for your unified.html content, and click **Send Request**.</span></span>
4. <span data-ttu-id="f0f28-191">Vérifiez que la sortie dans la section **Résultats** contient *XHR status: 200* (État XHR : 200).</span><span class="sxs-lookup"><span data-stu-id="f0f28-191">Verify that the output in the **Results** section contains *XHR status: 200*.</span></span> <span data-ttu-id="f0f28-192">Cela indique que CORS est activé.</span><span class="sxs-lookup"><span data-stu-id="f0f28-192">This indicates that CORS is enabled.</span></span>
<!--
![CORS enabled](../../media/active-directory-b2c-customize-ui-of-a-user-journey/cors-enabled.png)
-->
<span data-ttu-id="f0f28-193">Le compte de stockage doit maintenant héberger un conteneur d’objets blob nommé *b2c* dans notre exemple, qui contient les modèles wingtiptoys suivants issus de *Starter-Pack*.</span><span class="sxs-lookup"><span data-stu-id="f0f28-193">The storage account should now contain a blob container named *b2c* in our illustration that contains the following wingtiptoys templates from the *Starter-Pack*.</span></span>

<!--
![Correctly configured storage account](../../articles/active-directory-b2c/media/active-directory-b2c-reference-customize-ui-custom/storage-account-final.png)
-->

<span data-ttu-id="f0f28-194">Le tableau suivant décrit l’objectif des pages HTML5 ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="f0f28-194">The following table describes the purpose of the above HTML5 pages.</span></span>

| <span data-ttu-id="f0f28-195">Modèle HTML5</span><span class="sxs-lookup"><span data-stu-id="f0f28-195">HTML5 template</span></span> | <span data-ttu-id="f0f28-196">Description</span><span class="sxs-lookup"><span data-stu-id="f0f28-196">Description</span></span> |
|----------------|-------------|
| <span data-ttu-id="f0f28-197">*phonefactor.html*</span><span class="sxs-lookup"><span data-stu-id="f0f28-197">*phonefactor.html*</span></span> | <span data-ttu-id="f0f28-198">Cette page peut être utilisée comme modèle pour une page d’authentification multi-facteur.</span><span class="sxs-lookup"><span data-stu-id="f0f28-198">This page can be used as a template for a multi-factor authentication page.</span></span> |
| <span data-ttu-id="f0f28-199">*resetpassword.html*</span><span class="sxs-lookup"><span data-stu-id="f0f28-199">*resetpassword.html*</span></span> | <span data-ttu-id="f0f28-200">Cette page peut être utilisée comme modèle pour une page de mot de passe oublié.</span><span class="sxs-lookup"><span data-stu-id="f0f28-200">This page can be used as a template for a forgot password page.</span></span> |
| <span data-ttu-id="f0f28-201">*selfasserted.html*</span><span class="sxs-lookup"><span data-stu-id="f0f28-201">*selfasserted.html*</span></span> | <span data-ttu-id="f0f28-202">Cette page peut être utilisée comme modèle pour une page d’inscription à un compte de réseau social, une page d’inscription à un compte local ou une page de connexion à un compte local.</span><span class="sxs-lookup"><span data-stu-id="f0f28-202">This page can be used as a template for a social account sign-up page, a local account sign-up page, or a local account sign-in page.</span></span> |
| <span data-ttu-id="f0f28-203">*unified.html*</span><span class="sxs-lookup"><span data-stu-id="f0f28-203">*unified.html*</span></span> | <span data-ttu-id="f0f28-204">Cette page peut être utilisée comme modèle pour une page de connexion ou d’inscription unifiée.</span><span class="sxs-lookup"><span data-stu-id="f0f28-204">This page can be used as a template for a unified sign-up or sign-in page.</span></span> |
| <span data-ttu-id="f0f28-205">*updateprofile.html*</span><span class="sxs-lookup"><span data-stu-id="f0f28-205">*updateprofile.html*</span></span> | <span data-ttu-id="f0f28-206">Cette page peut être utilisée comme modèle pour une page de mise à jour de profil.</span><span class="sxs-lookup"><span data-stu-id="f0f28-206">This page can be used as a template for a profile update page.</span></span> |

## <a name="add-a-link-to-your-html5css-templates-to-your-user-journey"></a><span data-ttu-id="f0f28-207">Ajouter un lien à vos modèles HTML5/CSS pour votre parcours utilisateur</span><span class="sxs-lookup"><span data-stu-id="f0f28-207">Add a link to your HTML5/CSS templates to your user journey</span></span>

<span data-ttu-id="f0f28-208">Vous pouvez ajouter un lien à vos modèles HTML5/CSS pour votre parcours utilisateur en modifiant directement une stratégie personnalisée.</span><span class="sxs-lookup"><span data-stu-id="f0f28-208">You can add a link to your HTML5/CSS templates to your user journey by editing a custom policy directly.</span></span>

<span data-ttu-id="f0f28-209">Les modèles HTML5/CSS personnalisés à utiliser dans votre parcours utilisateur doivent être spécifiés dans une liste de définitions de contenu pouvant être utilisées dans ces parcours utilisateur.</span><span class="sxs-lookup"><span data-stu-id="f0f28-209">The custom HTML5/CSS templates to use in your user journey have to be specified in a list of content definitions that can be used in those user journeys.</span></span> <span data-ttu-id="f0f28-210">Pour ce faire, un élément XML *<ContentDefinitions>* facultatif doit être déclaré sous la section *<BuildingBlocks>* de votre fichier XML de stratégie personnalisée.</span><span class="sxs-lookup"><span data-stu-id="f0f28-210">For that purpose, an optional *<ContentDefinitions>* XML element must be declared under the *<BuildingBlocks>* section of your custom policy XML file.</span></span>

<span data-ttu-id="f0f28-211">Le tableau suivant décrit l’ensemble d’ID de définition de contenu reconnus par le moteur d’expérience d’identité Azure AD B2C et le type des pages associés.</span><span class="sxs-lookup"><span data-stu-id="f0f28-211">The following table describes the set of content definition ids recognized by the Azure AD B2C identity experience engine and the type of pages that relates to them.</span></span>

| <span data-ttu-id="f0f28-212">ID de définition de contenu</span><span class="sxs-lookup"><span data-stu-id="f0f28-212">Content definition id</span></span> | <span data-ttu-id="f0f28-213">Description</span><span class="sxs-lookup"><span data-stu-id="f0f28-213">Description</span></span> |
|-----------------------|-------------|
| <span data-ttu-id="f0f28-214">*api.error*</span><span class="sxs-lookup"><span data-stu-id="f0f28-214">*api.error*</span></span> | <span data-ttu-id="f0f28-215">**Page d’erreur**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-215">**Error page**.</span></span> <span data-ttu-id="f0f28-216">Cette page s’affiche lorsqu’une exception ou une erreur est rencontrée.</span><span class="sxs-lookup"><span data-stu-id="f0f28-216">This page is displayed when an exception or an error is encountered.</span></span> |
| <span data-ttu-id="f0f28-217">*api.idpselections*</span><span class="sxs-lookup"><span data-stu-id="f0f28-217">*api.idpselections*</span></span> | <span data-ttu-id="f0f28-218">**Page de sélection du fournisseur d’identité**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-218">**Identity provider selection page**.</span></span> <span data-ttu-id="f0f28-219">Cette page contient une liste de fournisseurs d’identité parmi lesquels l’utilisateur peut faire son choix lors de la connexion.</span><span class="sxs-lookup"><span data-stu-id="f0f28-219">This page contains a list of identity providers that the user can choose from during sign-in.</span></span> <span data-ttu-id="f0f28-220">Il s’agit de fournisseurs d’identité d’entreprise, d’identité de réseaux sociaux tels que Facebook et Google + ou de comptes locaux (basés sur une adresse de messagerie ou un nom d’utilisateur).</span><span class="sxs-lookup"><span data-stu-id="f0f28-220">These are either enterprise identity providers, social identity providers such as Facebook and Google+, or local accounts (based on email address or user name).</span></span> |
| <span data-ttu-id="f0f28-221">*api.idpselections.signup*</span><span class="sxs-lookup"><span data-stu-id="f0f28-221">*api.idpselections.signup*</span></span> | <span data-ttu-id="f0f28-222">**Sélection du fournisseur d’identité pour l’inscription**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-222">**Identity provider selection for sign-up**.</span></span> <span data-ttu-id="f0f28-223">Cette page contient une liste de fournisseurs d’identité parmi lesquels l’utilisateur peut faire son choix lors de l’inscription.</span><span class="sxs-lookup"><span data-stu-id="f0f28-223">This page contains a list of identity providers that the user can choose from during sign-up.</span></span> <span data-ttu-id="f0f28-224">Il s’agit de fournisseurs d’identité d’entreprise, d’identité de réseaux sociaux tels que Facebook et Google + ou de comptes locaux (basés sur une adresse de messagerie ou un nom d’utilisateur).</span><span class="sxs-lookup"><span data-stu-id="f0f28-224">These are either enterprise identity providers, social identity providers such as Facebook and Google+, or local accounts (based on email address or user name).</span></span> |
| <span data-ttu-id="f0f28-225">*api.localaccountpasswordreset*</span><span class="sxs-lookup"><span data-stu-id="f0f28-225">*api.localaccountpasswordreset*</span></span> | <span data-ttu-id="f0f28-226">**Page de mot de passe oublié**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-226">**Forgot password page**.</span></span> <span data-ttu-id="f0f28-227">Cette page contient un formulaire que l’utilisateur doit remplir pour lancer une réinitialisation de mot de passe.</span><span class="sxs-lookup"><span data-stu-id="f0f28-227">This page contains a form that the user has to fill to initiate their password reset.</span></span>  |
| <span data-ttu-id="f0f28-228">*api.localaccountsignin*</span><span class="sxs-lookup"><span data-stu-id="f0f28-228">*api.localaccountsignin*</span></span> | <span data-ttu-id="f0f28-229">**Page de connexion à un compte local**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-229">**Local account sign-in page**.</span></span> <span data-ttu-id="f0f28-230">Cette page contient un formulaire de connexion que l’utilisateur doit renseigner lors de la connexion à un compte local basé sur une adresse e-mail ou un nom d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="f0f28-230">This page contains a sign-in form that the user has to fill in when signing in with a local account that is based on an email address or a user name.</span></span> <span data-ttu-id="f0f28-231">Le formulaire peut contenir une zone de saisie de texte et une zone de saisie de mot de passe.</span><span class="sxs-lookup"><span data-stu-id="f0f28-231">The form can contain a text input box and password entry box.</span></span> |
| <span data-ttu-id="f0f28-232">*api.localaccountsignup*</span><span class="sxs-lookup"><span data-stu-id="f0f28-232">*api.localaccountsignup*</span></span> | <span data-ttu-id="f0f28-233">**Page d’inscription à un compte local**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-233">**Local account sign-up page**.</span></span> <span data-ttu-id="f0f28-234">Cette page contient un formulaire d’inscription que l’utilisateur doit renseigner lors de l’inscription pour un compte local basé sur une adresse électronique ou un nom d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="f0f28-234">This page contains a sign-up form that the user has to fill in when signing up for a local account that is based on an email address or a user name.</span></span> <span data-ttu-id="f0f28-235">Le formulaire peut contenir différentes commandes de saisie telles que la zone de saisie de texte, celle du mot de passe, le bouton radio, les cases du menu déroulant à sélection unique et la sélection de plusieurs cases à cocher.</span><span class="sxs-lookup"><span data-stu-id="f0f28-235">The form can contain different input controls such as text input box, password entry box, radio button, single-select drop-down boxes, and multi-select check boxes.</span></span> |
| <span data-ttu-id="f0f28-236">*api.phonefactor*</span><span class="sxs-lookup"><span data-stu-id="f0f28-236">*api.phonefactor*</span></span> | <span data-ttu-id="f0f28-237">**Page d’authentification multi-facteur**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-237">**Multi-factor authentication page**.</span></span> <span data-ttu-id="f0f28-238">Cette page permet aux utilisateurs de vérifier leurs numéros de téléphone (par voie textuelle ou vocale) au cours de l’inscription ou de la connexion.</span><span class="sxs-lookup"><span data-stu-id="f0f28-238">On this page, users can verify their phone numbers (using text or voice) during sign-up or sign-in.</span></span> |
| <span data-ttu-id="f0f28-239">*api.selfasserted*</span><span class="sxs-lookup"><span data-stu-id="f0f28-239">*api.selfasserted*</span></span> | <span data-ttu-id="f0f28-240">**Page d’inscription à un compte de réseau social**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-240">**Social account sign-up page**.</span></span> <span data-ttu-id="f0f28-241">Cette page contient un formulaire d’inscription que l’utilisateur doit remplir lors de l’inscription à l’aide d’un compte existant à partir d’un fournisseur d’identité de réseaux sociaux tel que Facebook ou Google +.</span><span class="sxs-lookup"><span data-stu-id="f0f28-241">This page contains a sign-up form that the user has to fill in when signing up using an existing account from a social identity provider such as Facebook or Google+.</span></span> <span data-ttu-id="f0f28-242">Cette page est similaire à la page d’inscription à un compte local ci-dessus, à l’exception des champs de saisie de mot de passe.</span><span class="sxs-lookup"><span data-stu-id="f0f28-242">This page is similar to the above social account sign-up page with the exception of the password entry fields.</span></span> |
| <span data-ttu-id="f0f28-243">*api.selfasserted.profileupdate*</span><span class="sxs-lookup"><span data-stu-id="f0f28-243">*api.selfasserted.profileupdate*</span></span> | <span data-ttu-id="f0f28-244">**Page de mise à jour de profil**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-244">**Profile update page**.</span></span> <span data-ttu-id="f0f28-245">Cette page contient un formulaire dont l’utilisateur peut se servir pour mettre à jour son profil.</span><span class="sxs-lookup"><span data-stu-id="f0f28-245">This page contains a form that the user can use to update their profile.</span></span> <span data-ttu-id="f0f28-246">Cette page est similaire à la page d’inscription à un compte local ci-dessus, à l’exception des champs de saisie de mot de passe.</span><span class="sxs-lookup"><span data-stu-id="f0f28-246">This page is similar to the above social account sign-up page with the exception of the password entry fields.</span></span> |
| <span data-ttu-id="f0f28-247">*api.signuporsignin*</span><span class="sxs-lookup"><span data-stu-id="f0f28-247">*api.signuporsignin*</span></span> | <span data-ttu-id="f0f28-248">**Page de connexion ou d’inscription unifiée**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-248">**Unified sign-up or sign-in page**.</span></span>  <span data-ttu-id="f0f28-249">Cette page gère l’inscription et la connexion des utilisateurs, qui peuvent utiliser les fournisseurs d’identité d’entreprise, de réseaux sociaux, tels que Facebook ou Google+, ou de comptes locaux.</span><span class="sxs-lookup"><span data-stu-id="f0f28-249">This page handles both sign-up & sign-in of users, who can use enterprise identity providers, social identity providers such as Facebook or Google+, or local accounts.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f0f28-250">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="f0f28-250">Next steps</span></span>
<span data-ttu-id="f0f28-251">[Understanding the custom policies of the Azure AD B2C Custom Policy starter pack](active-directory-b2c-reference-custom-policies-understanding-contents.md) (Comprendre les stratégies personnalisées du pack de démarrage AD B2C Custom Policy)</span><span class="sxs-lookup"><span data-stu-id="f0f28-251">[Reference: Understand how custom policies work with the Identity Experience Framework in B2C](active-directory-b2c-reference-custom-policies-understanding-contents.md)</span></span>
