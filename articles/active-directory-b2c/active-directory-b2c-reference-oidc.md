---
title: Connexion web avec OpenID Connect - Azure AD B2C | Microsoft Docs
description: "Génération d’applications web à l’aide d’implémentation d’Azure Active Directory hello hello OpenID Connect du protocole d’authentification"
services: active-directory-b2c
documentationcenter: 
author: saeedakhter-msft
manager: krassk
editor: parakhj
ms.assetid: 21d420c8-3c10-4319-b681-adf2e89e7ede
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/16/2017
ms.author: saeedakhter-msft
ms.openlocfilehash: 89e9cfa28e4e5c34304aea355cca2dd0c4b42abc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-b2c-web-sign-in-with-openid-connect"></a><span data-ttu-id="9281a-103">Azure Active Directory B2C : connexion web avec OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="9281a-103">Azure Active Directory B2C: Web sign-in with OpenID Connect</span></span>
<span data-ttu-id="9281a-104">OpenID Connect est un protocole d’authentification, reposant sur OAuth 2.0, qui peuvent être utilisés toosecurely connecter les utilisateurs dans les applications tooweb.</span><span class="sxs-lookup"><span data-stu-id="9281a-104">OpenID Connect is an authentication protocol, built on top of OAuth 2.0, that can be used toosecurely sign users in tooweb applications.</span></span> <span data-ttu-id="9281a-105">En utilisant la mise en œuvre de hello Azure Active Directory B2C (Azure AD B2C) de OpenID Connect, vous pouvez sous-traiter l’inscription, connectez-vous et expériences de gestion d’identité dans votre tooAzure d’applications web Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="9281a-105">By using hello Azure Active Directory B2C (Azure AD B2C) implementation of OpenID Connect, you can outsource sign-up, sign-in, and other identity management experiences in your web applications tooAzure Active Directory (Azure AD).</span></span> <span data-ttu-id="9281a-106">Ce guide vous montre comment toodo ce de manière indépendante du langage.</span><span class="sxs-lookup"><span data-stu-id="9281a-106">This guide shows you how toodo so in a language-independent manner.</span></span> <span data-ttu-id="9281a-107">Il décrit comment toosend et recevoir des messages HTTP sans utiliser l’un de nos bibliothèques open source.</span><span class="sxs-lookup"><span data-stu-id="9281a-107">It describes how toosend and receive HTTP messages without using any of our open-source libraries.</span></span>

<span data-ttu-id="9281a-108">[OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html) étend hello OAuth 2.0 *autorisation* protocole à utiliser comme un *authentification* protocole.</span><span class="sxs-lookup"><span data-stu-id="9281a-108">[OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html) extends hello OAuth 2.0 *authorization* protocol for use as an *authentication* protocol.</span></span> <span data-ttu-id="9281a-109">Ainsi, vous tooperform l’authentification unique à l’aide d’OAuth.</span><span class="sxs-lookup"><span data-stu-id="9281a-109">This allows you tooperform single sign-on by using OAuth.</span></span> <span data-ttu-id="9281a-110">Elle introduit le concept de hello d’un *le jeton d’ID*, qui est un jeton de sécurité qui permet de hello client tooverify hello identité d’utilisateur de hello et obtenir des informations de profil de base sur l’utilisateur de hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-110">It introduces hello concept of an *ID token*, which is a security token that allows hello client tooverify hello identity of hello user and obtain basic profile information about hello user.</span></span>

<span data-ttu-id="9281a-111">Car elle étend OAuth 2.0, il permet également d’applications toosecurely acquérir *jetons d’accès*.</span><span class="sxs-lookup"><span data-stu-id="9281a-111">Because it extends OAuth 2.0, it also enables apps toosecurely acquire *access tokens*.</span></span> <span data-ttu-id="9281a-112">Vous pouvez utiliser les ressources de tooaccess access_tokens qui sont sécurisés par une [serveur d’autorisation](active-directory-b2c-reference-protocols.md#the-basics).</span><span class="sxs-lookup"><span data-stu-id="9281a-112">You can use access_tokens tooaccess resources that are secured by an [authorization server](active-directory-b2c-reference-protocols.md#the-basics).</span></span> <span data-ttu-id="9281a-113">Nous recommandons OpenID Connect si vous concevez une application web hébergée sur un serveur et accessible par le biais d’un navigateur.</span><span class="sxs-lookup"><span data-stu-id="9281a-113">We recommend OpenID Connect if you're building a web application that is hosted on a server and accessed through a browser.</span></span> <span data-ttu-id="9281a-114">Si vous souhaitez tooadd identité tooyour mobile ou de bureau des applications de gestion à l’aide d’Azure AD B2C, vous devez utiliser [OAuth 2.0](active-directory-b2c-reference-oauth-code.md) plutôt que OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="9281a-114">If you want tooadd identity management tooyour mobile or desktop applications by using Azure AD B2C, you should use [OAuth 2.0](active-directory-b2c-reference-oauth-code.md) rather than OpenID Connect.</span></span>

<span data-ttu-id="9281a-115">Azure AD B2C étend hello standard toodo protocole OpenID Connect plus simple d’authentification et d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="9281a-115">Azure AD B2C extends hello standard OpenID Connect protocol toodo more than simple authentication and authorization.</span></span> <span data-ttu-id="9281a-116">Il introduit hello [paramètre de stratégie](active-directory-b2c-reference-policies.md), qui vous permet de toouse OpenID Connect tooadd des expériences utilisateur, tel que d’abonnement, connectez-vous et gestion des profils--tooyour application.</span><span class="sxs-lookup"><span data-stu-id="9281a-116">It introduces hello [policy parameter](active-directory-b2c-reference-policies.md), which enables you toouse OpenID Connect tooadd user experiences--such as sign-up, sign-in, and profile management--tooyour app.</span></span> <span data-ttu-id="9281a-117">Ici, nous vous indiquons comment toouse tooimplement OpenID Connect et les stratégies de chacun de ces expériences dans vos applications web.</span><span class="sxs-lookup"><span data-stu-id="9281a-117">Here, we show you how toouse OpenID Connect and policies tooimplement each of these experiences in your web applications.</span></span> <span data-ttu-id="9281a-118">Nous allons également vous montrer comment tooget les jetons d’accès pour l’accès aux API web.</span><span class="sxs-lookup"><span data-stu-id="9281a-118">We'll also show you how tooget access tokens for accessing web APIs.</span></span>

<span data-ttu-id="9281a-119">demandes d’exemple HTTP Hello dans la section suivante de hello utilisent notre répertoire B2C d’exemple, fabrikamb2c.onmicrosoft.com, ainsi que notre exemple d’application, https://aadb2cplayground.azurewebsites.net et stratégies.</span><span class="sxs-lookup"><span data-stu-id="9281a-119">hello example HTTP requests in hello next section use our sample B2C directory, fabrikamb2c.onmicrosoft.com, as well as our sample application, https://aadb2cplayground.azurewebsites.net, and policies.</span></span> <span data-ttu-id="9281a-120">Vous êtes libre tootry out hello vous-même des demandes à l’aide de ces valeurs, ou vous pouvez les remplacer par les vôtres.</span><span class="sxs-lookup"><span data-stu-id="9281a-120">You're free tootry out hello requests yourself by using these values, or you can replace them with your own.</span></span>
<span data-ttu-id="9281a-121">Découvrez comment trop[obtenir votre propre B2C locataire, application et des stratégies](#use-your-own-b2c-directory).</span><span class="sxs-lookup"><span data-stu-id="9281a-121">Learn how too[get your own B2C tenant, application, and policies](#use-your-own-b2c-directory).</span></span>

## <a name="send-authentication-requests"></a><span data-ttu-id="9281a-122">Envoi de demandes d’authentification</span><span class="sxs-lookup"><span data-stu-id="9281a-122">Send authentication requests</span></span>
<span data-ttu-id="9281a-123">Lorsque votre application web a besoin d’utilisateur de hello tooauthenticate et exécuter une stratégie, il peut diriger hello utilisateur toohello `/authorize` point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="9281a-123">When your web app needs tooauthenticate hello user and execute a policy, it can direct hello user toohello `/authorize` endpoint.</span></span> <span data-ttu-id="9281a-124">Il s’agit d’hello de partie interactive du flux de hello, où hello utilisateur agit, en fonction de la stratégie de hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-124">This is hello interactive portion of hello flow, where hello user takes action, depending on hello policy.</span></span>

<span data-ttu-id="9281a-125">Dans cette demande, client de hello indique les autorisations hello qu’il nécessite de tooacquire à partir de l’utilisateur hello Bonjour `scope` tooexecute de stratégie de paramètre et hello Bonjour `p` paramètre.</span><span class="sxs-lookup"><span data-stu-id="9281a-125">In this request, hello client indicates hello permissions that it needs tooacquire from hello user in hello `scope` parameter and hello policy tooexecute in hello `p` parameter.</span></span> <span data-ttu-id="9281a-126">Trois exemples sont fournis Bonjour suivant sections (avec les sauts de ligne pour une meilleure lisibilité), chacun à l’aide d’une autre stratégie.</span><span class="sxs-lookup"><span data-stu-id="9281a-126">Three examples are provided in hello following sections (with line breaks for readability), each using a different policy.</span></span> <span data-ttu-id="9281a-127">tooget une idée de fonctionne de chaque demande, essayez de demande hello de collage dans un navigateur et de son exécution.</span><span class="sxs-lookup"><span data-stu-id="9281a-127">tooget a feel for how each request works, try pasting hello request into a browser and running it.</span></span>

#### <a name="use-a-sign-in-policy"></a><span data-ttu-id="9281a-128">Utilisation d’une stratégie de connexion</span><span class="sxs-lookup"><span data-stu-id="9281a-128">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code+id_token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=form_post
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_in
```

#### <a name="use-a-sign-up-policy"></a><span data-ttu-id="9281a-129">Utilisation d’une stratégie d’inscription</span><span class="sxs-lookup"><span data-stu-id="9281a-129">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code+id_token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=form_post
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_up
```

#### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="9281a-130">Utilisation d’une stratégie de modification de profil</span><span class="sxs-lookup"><span data-stu-id="9281a-130">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code+id_token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=form_post
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_edit_profile
```

| <span data-ttu-id="9281a-131">Paramètre</span><span class="sxs-lookup"><span data-stu-id="9281a-131">Parameter</span></span> | <span data-ttu-id="9281a-132">Requis ?</span><span class="sxs-lookup"><span data-stu-id="9281a-132">Required?</span></span> | <span data-ttu-id="9281a-133">Description</span><span class="sxs-lookup"><span data-stu-id="9281a-133">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="9281a-134">client_id</span><span class="sxs-lookup"><span data-stu-id="9281a-134">client_id</span></span> |<span data-ttu-id="9281a-135">Requis</span><span class="sxs-lookup"><span data-stu-id="9281a-135">Required</span></span> |<span data-ttu-id="9281a-136">application Hello ID que hello [portail Azure](https://portal.azure.com/) affecté tooyour application.</span><span class="sxs-lookup"><span data-stu-id="9281a-136">hello application ID that hello [Azure portal](https://portal.azure.com/) assigned tooyour app.</span></span> |
| <span data-ttu-id="9281a-137">response_type</span><span class="sxs-lookup"><span data-stu-id="9281a-137">response_type</span></span> |<span data-ttu-id="9281a-138">Requis</span><span class="sxs-lookup"><span data-stu-id="9281a-138">Required</span></span> |<span data-ttu-id="9281a-139">type de réponse Hello, qui doit inclure un jeton d’ID de connexion OpenID.</span><span class="sxs-lookup"><span data-stu-id="9281a-139">hello response type, which must include an ID token for OpenID Connect.</span></span> <span data-ttu-id="9281a-140">Si votre application web a également besoin de jetons pour appeler une API web, vous pouvez utiliser `code+id_token`, comme nous l’avons fait ici.</span><span class="sxs-lookup"><span data-stu-id="9281a-140">If your web app also needs tokens for calling a web API, you can use `code+id_token`, as we've done here.</span></span> |
| <span data-ttu-id="9281a-141">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="9281a-141">redirect_uri</span></span> |<span data-ttu-id="9281a-142">Recommandé</span><span class="sxs-lookup"><span data-stu-id="9281a-142">Recommended</span></span> |<span data-ttu-id="9281a-143">Hello `redirect_uri` paramètre de votre application, où les réponses d’authentification peuvent être envoyés et reçus par votre application.</span><span class="sxs-lookup"><span data-stu-id="9281a-143">hello `redirect_uri` parameter of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="9281a-144">Il doit correspondre exactement à celle de hello `redirect_uri` les paramètres que vous avez enregistré dans le portail hello, sauf qu’elle doit être codée URL.</span><span class="sxs-lookup"><span data-stu-id="9281a-144">It must exactly match one of hello `redirect_uri` parameters that you registered in hello portal, except that it must be URL encoded.</span></span> |
| <span data-ttu-id="9281a-145">scope</span><span class="sxs-lookup"><span data-stu-id="9281a-145">scope</span></span> |<span data-ttu-id="9281a-146">Requis</span><span class="sxs-lookup"><span data-stu-id="9281a-146">Required</span></span> |<span data-ttu-id="9281a-147">Une liste d’étendues séparées par des espaces.</span><span class="sxs-lookup"><span data-stu-id="9281a-147">A space-separated list of scopes.</span></span> <span data-ttu-id="9281a-148">Une valeur d’étendue unique indique tooAzure AD les autorisations qui sont demandées.</span><span class="sxs-lookup"><span data-stu-id="9281a-148">A single scope value indicates tooAzure AD both permissions that are being requested.</span></span> <span data-ttu-id="9281a-149">Hello `openid` étendue indique une autorisation toosign dans hello utilisateur et obtenir des données sur l’utilisateur hello sous forme de hello de jetons d’ID (toocome plus sur ce plus loin dans l’article de hello).</span><span class="sxs-lookup"><span data-stu-id="9281a-149">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of ID tokens (more toocome on this later in hello article).</span></span> <span data-ttu-id="9281a-150">Hello `offline_access` étendue est facultative pour les applications web.</span><span class="sxs-lookup"><span data-stu-id="9281a-150">hello `offline_access` scope is optional for web apps.</span></span> <span data-ttu-id="9281a-151">Il indique que nécessaires à votre application un *jeton d’actualisation* pour tooresources de longue durée d’accès.</span><span class="sxs-lookup"><span data-stu-id="9281a-151">It indicates that your app will need a *refresh token* for long-lived access tooresources.</span></span> |
| <span data-ttu-id="9281a-152">response_mode</span><span class="sxs-lookup"><span data-stu-id="9281a-152">response_mode</span></span> |<span data-ttu-id="9281a-153">Recommandé</span><span class="sxs-lookup"><span data-stu-id="9281a-153">Recommended</span></span> |<span data-ttu-id="9281a-154">méthode Hello qui doit être différé tooyour code d’autorisation résultant toosend utilisé hello application.</span><span class="sxs-lookup"><span data-stu-id="9281a-154">hello method that should be used toosend hello resulting authorization code back tooyour app.</span></span> <span data-ttu-id="9281a-155">Il peut s’agir de `query`, `form_post` ou `fragment`.</span><span class="sxs-lookup"><span data-stu-id="9281a-155">It can be either `query`, `form_post`, or `fragment`.</span></span>  <span data-ttu-id="9281a-156">Hello `form_post` mode de réponse est recommandé pour une sécurité optimale.</span><span class="sxs-lookup"><span data-stu-id="9281a-156">hello `form_post` response mode is recommended for best security.</span></span> |
| <span data-ttu-id="9281a-157">state</span><span class="sxs-lookup"><span data-stu-id="9281a-157">state</span></span> |<span data-ttu-id="9281a-158">Recommandé</span><span class="sxs-lookup"><span data-stu-id="9281a-158">Recommended</span></span> |<span data-ttu-id="9281a-159">Une valeur incluse dans la demande de hello est également renvoyé dans la réponse du jeton hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-159">A value included in hello request that is also returned in hello token response.</span></span> <span data-ttu-id="9281a-160">Il peut s’agir d’une chaîne du contenu de votre choix.</span><span class="sxs-lookup"><span data-stu-id="9281a-160">It can be a string of any content that you want.</span></span> <span data-ttu-id="9281a-161">Une valeur unique générée de manière aléatoire est généralement utilisée pour empêcher les falsifications de requête intersite.</span><span class="sxs-lookup"><span data-stu-id="9281a-161">A randomly generated unique value is typically used for preventing cross-site request forgery attacks.</span></span> <span data-ttu-id="9281a-162">Hello état est également utilisé tooencode informations hello l’état utilisateur dans une application hello avant de la demande d’authentification hello s’est produite, page hello qu’ils étaient sur.</span><span class="sxs-lookup"><span data-stu-id="9281a-162">hello state is also used tooencode information about hello user's state in hello app before hello authentication request occurred, such as hello page they were on.</span></span> |
| <span data-ttu-id="9281a-163">nonce</span><span class="sxs-lookup"><span data-stu-id="9281a-163">nonce</span></span> |<span data-ttu-id="9281a-164">Requis</span><span class="sxs-lookup"><span data-stu-id="9281a-164">Required</span></span> |<span data-ttu-id="9281a-165">Une valeur incluse dans la demande hello (généré par l’application hello) qui est inclus dans le jeton d’ID hello résultant comme une revendication.</span><span class="sxs-lookup"><span data-stu-id="9281a-165">A value included in hello request (generated by hello app) that will be included in hello resulting ID token as a claim.</span></span> <span data-ttu-id="9281a-166">application Hello peut ensuite vérifier des attaques par relecture jeton toomitigate valeur.</span><span class="sxs-lookup"><span data-stu-id="9281a-166">hello app can then verify this value toomitigate token replay attacks.</span></span> <span data-ttu-id="9281a-167">Hello valeur est généralement une chaîne aléatoire unique qui peut être l’origine de hello tooidentify utilisés de demande de hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-167">hello value is typically a randomized unique string that can be used tooidentify hello origin of hello request.</span></span> |
| <span data-ttu-id="9281a-168">p</span><span class="sxs-lookup"><span data-stu-id="9281a-168">p</span></span> |<span data-ttu-id="9281a-169">Requis</span><span class="sxs-lookup"><span data-stu-id="9281a-169">Required</span></span> |<span data-ttu-id="9281a-170">stratégie Hello qui sera exécutée.</span><span class="sxs-lookup"><span data-stu-id="9281a-170">hello policy that will be executed.</span></span> <span data-ttu-id="9281a-171">Il désigne hello une stratégie qui est créée dans votre client B2C.</span><span class="sxs-lookup"><span data-stu-id="9281a-171">It is hello name of a policy that is created in your B2C tenant.</span></span> <span data-ttu-id="9281a-172">valeur de nom de stratégie Hello doit commencer par `b2c\_1\_`.</span><span class="sxs-lookup"><span data-stu-id="9281a-172">hello policy name value should begin with `b2c\_1\_`.</span></span> <span data-ttu-id="9281a-173">En savoir plus sur les stratégies et hello [infrastructure de stratégie extensible](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="9281a-173">Learn more about policies and hello [extensible policy framework](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="9281a-174">prompt</span><span class="sxs-lookup"><span data-stu-id="9281a-174">prompt</span></span> |<span data-ttu-id="9281a-175">Facultatif</span><span class="sxs-lookup"><span data-stu-id="9281a-175">Optional</span></span> |<span data-ttu-id="9281a-176">type de Hello d’intervention de l’utilisateur qui est requise.</span><span class="sxs-lookup"><span data-stu-id="9281a-176">hello type of user interaction that is required.</span></span> <span data-ttu-id="9281a-177">Hello seule valeur valide pour l’instant est `login`, qui force hello utilisateur tooenter leurs informations d’identification pour cette demande.</span><span class="sxs-lookup"><span data-stu-id="9281a-177">hello only valid value at this time is `login`, which forces hello user tooenter their credentials on that request.</span></span> <span data-ttu-id="9281a-178">L’authentification unique ne prendra pas effet.</span><span class="sxs-lookup"><span data-stu-id="9281a-178">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="9281a-179">À ce stade, les flux de travail de la stratégie toocomplete hello est demandé à utilisateur de hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-179">At this point, hello user is asked toocomplete hello policy's workflow.</span></span> <span data-ttu-id="9281a-180">Cela peut également impliquer l’utilisateur de hello entrer leur nom d’utilisateur et un mot de passe, vous connecter avec une identité sociale, souscrire hello répertoire ou tout autre nombre d’étapes, selon la façon dont la stratégie de hello est définie.</span><span class="sxs-lookup"><span data-stu-id="9281a-180">This might involve hello user entering their username and password, signing in with a social identity, signing up for hello directory, or any other number of steps, depending on how hello policy is defined.</span></span>

<span data-ttu-id="9281a-181">Utilisateur de hello après la stratégie de hello, Azure AD renvoie une application tooyour de réponse à hello indiqué `redirect_uri` paramètre, en utilisant la méthode hello qui est spécifié dans hello `response_mode` paramètre.</span><span class="sxs-lookup"><span data-stu-id="9281a-181">After hello user completes hello policy, Azure AD returns a response tooyour app at hello indicated `redirect_uri` parameter, by using hello method that is specified in hello `response_mode` parameter.</span></span> <span data-ttu-id="9281a-182">réponse de Hello est hello même pour chacun des hello précédant le cas, indépendamment de la stratégie de hello est exécutée.</span><span class="sxs-lookup"><span data-stu-id="9281a-182">hello response is hello same for each of hello preceding cases, independent of hello policy that is executed.</span></span>

<span data-ttu-id="9281a-183">Une réponse réussie utilisant `response_mode=fragment` se présenterait ainsi :</span><span class="sxs-lookup"><span data-stu-id="9281a-183">A successful response using `response_mode=fragment` would look like:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="9281a-184">Paramètre</span><span class="sxs-lookup"><span data-stu-id="9281a-184">Parameter</span></span> | <span data-ttu-id="9281a-185">Description</span><span class="sxs-lookup"><span data-stu-id="9281a-185">Description</span></span> |
| --- | --- |
| <span data-ttu-id="9281a-186">id_token</span><span class="sxs-lookup"><span data-stu-id="9281a-186">id_token</span></span> |<span data-ttu-id="9281a-187">Bonjour le jeton d’ID qui hello application demandée.</span><span class="sxs-lookup"><span data-stu-id="9281a-187">hello ID token that hello app requested.</span></span> <span data-ttu-id="9281a-188">Vous pouvez utiliser l’identité de l’utilisateur hello hello ID tooverify jeton et démarrer une session avec l’utilisateur de hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-188">You can use hello ID token tooverify hello user's identity and begin a session with hello user.</span></span> <span data-ttu-id="9281a-189">Plus d’informations sur les jetons d’ID et leur contenu sont inclus dans hello [référence de jeton Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="9281a-189">More details on ID tokens and their contents are included in hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |
| <span data-ttu-id="9281a-190">code</span><span class="sxs-lookup"><span data-stu-id="9281a-190">code</span></span> |<span data-ttu-id="9281a-191">Hello code d’autorisation cette application hello demandée, si vous avez utilisé `response_type=code+id_token`.</span><span class="sxs-lookup"><span data-stu-id="9281a-191">hello authorization code that hello app requested, if you used `response_type=code+id_token`.</span></span> <span data-ttu-id="9281a-192">application Hello peut utiliser toorequest de code d’autorisation hello un jeton d’accès pour une ressource cible.</span><span class="sxs-lookup"><span data-stu-id="9281a-192">hello app can use hello authorization code toorequest an access token for a target resource.</span></span> <span data-ttu-id="9281a-193">Les codes d’autorisation ont des durées de vie très courtes.</span><span class="sxs-lookup"><span data-stu-id="9281a-193">Authorization codes are very short-lived.</span></span> <span data-ttu-id="9281a-194">Généralement, ils expirent au bout de 10 minutes.</span><span class="sxs-lookup"><span data-stu-id="9281a-194">Typically, they expire after about 10 minutes.</span></span> |
| <span data-ttu-id="9281a-195">state</span><span class="sxs-lookup"><span data-stu-id="9281a-195">state</span></span> |<span data-ttu-id="9281a-196">Si un `state` paramètre est inclus dans la demande hello, même valeur hello doit apparaître dans la réponse de hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-196">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="9281a-197">Hello application doit vérifier que hello `state` valeurs hello demande et de réponse sont identiques.</span><span class="sxs-lookup"><span data-stu-id="9281a-197">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

<span data-ttu-id="9281a-198">Réponses d’erreur peuvent également être envoyés à toohello `redirect_uri` paramètre pour que cette application hello puisse les gérer en conséquence :</span><span class="sxs-lookup"><span data-stu-id="9281a-198">Error responses can also be sent toohello `redirect_uri` parameter so that hello app can handle them appropriately:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=access_denied
&error_description=the+user+canceled+the+authentication
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="9281a-199">Paramètre</span><span class="sxs-lookup"><span data-stu-id="9281a-199">Parameter</span></span> | <span data-ttu-id="9281a-200">Description</span><span class="sxs-lookup"><span data-stu-id="9281a-200">Description</span></span> |
| --- | --- |
| <span data-ttu-id="9281a-201">error</span><span class="sxs-lookup"><span data-stu-id="9281a-201">error</span></span> |<span data-ttu-id="9281a-202">Une chaîne de code d’erreur qui peut être des types d’erreurs qui se produisent et qui peut être utilisé tooreact tooerrors tooclassify utilisé.</span><span class="sxs-lookup"><span data-stu-id="9281a-202">An error-code string that can be used tooclassify types of errors that occur and that can be used tooreact tooerrors.</span></span> |
| <span data-ttu-id="9281a-203">error_description</span><span class="sxs-lookup"><span data-stu-id="9281a-203">error_description</span></span> |<span data-ttu-id="9281a-204">Un message d’erreur spécifique qui permettre aider un développeur à identifier la cause de hello d’une erreur d’authentification.</span><span class="sxs-lookup"><span data-stu-id="9281a-204">A specific error message that can help a developer identify hello root cause of an authentication error.</span></span> |
| <span data-ttu-id="9281a-205">state</span><span class="sxs-lookup"><span data-stu-id="9281a-205">state</span></span> |<span data-ttu-id="9281a-206">Consultez la description complète de hello hello premier tableau dans cette section.</span><span class="sxs-lookup"><span data-stu-id="9281a-206">See hello full description in hello first table in this section.</span></span> <span data-ttu-id="9281a-207">Si un `state` paramètre est inclus dans la demande hello, même valeur hello doit apparaître dans la réponse de hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-207">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="9281a-208">Hello application doit vérifier que hello `state` valeurs hello demande et de réponse sont identiques.</span><span class="sxs-lookup"><span data-stu-id="9281a-208">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

## <a name="validate-hello-id-token"></a><span data-ttu-id="9281a-209">Valider le jeton d’ID hello</span><span class="sxs-lookup"><span data-stu-id="9281a-209">Validate hello ID token</span></span>
<span data-ttu-id="9281a-210">Simplement reçoit un jeton d’ID n’est pas suffisamment utilisateur de hello tooauthenticate.</span><span class="sxs-lookup"><span data-stu-id="9281a-210">Just receiving an ID token is not enough tooauthenticate hello user.</span></span> <span data-ttu-id="9281a-211">Vous devez valider la signature du jeton d’ID hello et vérifier les revendications hello dans le jeton hello selon les besoins de votre application.</span><span class="sxs-lookup"><span data-stu-id="9281a-211">You must validate hello ID token's signature and verify hello claims in hello token per your app's requirements.</span></span> <span data-ttu-id="9281a-212">Azure AD B2C utilise [des jetons Web JSON (Jwt)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) et public jetons toosign de chiffrement de clé et vérifiez qu’ils sont valides.</span><span class="sxs-lookup"><span data-stu-id="9281a-212">Azure AD B2C uses [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) and public key cryptography toosign tokens and verify that they are valid.</span></span>

<span data-ttu-id="9281a-213">Il existe de nombreuses bibliothèques open source pour valider les jetons JWT en fonction de votre langage préféré.</span><span class="sxs-lookup"><span data-stu-id="9281a-213">There are many open-source libraries that are available for validating JWTs, depending on your language of preference.</span></span> <span data-ttu-id="9281a-214">Nous vous recommandons d’explorer ces options plutôt que d’implémenter votre propre logique de validation.</span><span class="sxs-lookup"><span data-stu-id="9281a-214">We recommend exploring those options rather than implementing your own validation logic.</span></span> <span data-ttu-id="9281a-215">informations Hello ici sera utiles précieuse pour déterminer comment tooproperly utiliser ces bibliothèques.</span><span class="sxs-lookup"><span data-stu-id="9281a-215">hello information here will be useful in figuring out how tooproperly use those libraries.</span></span>

<span data-ttu-id="9281a-216">Azure AD B2C a OpenID Connect métadonnées point de terminaison, ce qui permet à une application toofetch d’informations sur Azure AD B2C lors de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="9281a-216">Azure AD B2C has an OpenID Connect metadata endpoint, which allows an app toofetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="9281a-217">Ces informations incluent les points de terminaison, le contenu des jetons et les clés de signature de jetons.</span><span class="sxs-lookup"><span data-stu-id="9281a-217">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="9281a-218">Il existe un document de métadonnées JSON pour chaque stratégie dans votre client B2C.</span><span class="sxs-lookup"><span data-stu-id="9281a-218">There is a JSON metadata document for each policy in your B2C tenant.</span></span> <span data-ttu-id="9281a-219">Par exemple, les documents de métadonnées hello pour hello `b2c_1_sign_in` stratégie dans `fabrikamb2c.onmicrosoft.com` se trouve dans :</span><span class="sxs-lookup"><span data-stu-id="9281a-219">For example, hello metadata document for hello `b2c_1_sign_in` policy in `fabrikamb2c.onmicrosoft.com` is located at:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in`

<span data-ttu-id="9281a-220">Une des propriétés hello de ce document de configuration est `jwks_uri`, dont la valeur de hello même stratégie serait :</span><span class="sxs-lookup"><span data-stu-id="9281a-220">One of hello properties of this configuration document is `jwks_uri`, whose value for hello same policy would be:</span></span>

<span data-ttu-id="9281a-221">`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`.</span><span class="sxs-lookup"><span data-stu-id="9281a-221">`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`.</span></span>

<span data-ttu-id="9281a-222">toodetermine stratégie qui a été utilisée dans un jeton d’ID de signature (et à partir d’où toofetch hello métadonnées), vous avez deux options.</span><span class="sxs-lookup"><span data-stu-id="9281a-222">toodetermine which policy was used in signing an ID token (and from where toofetch hello metadata), you have two options.</span></span> <span data-ttu-id="9281a-223">Tout d’abord, le nom de la stratégie hello est inclus dans hello `acr` de revendication dans le jeton d’ID hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-223">First, hello policy name is included in hello `acr` claim in hello ID token.</span></span> <span data-ttu-id="9281a-224">Pour plus d’informations sur la façon dont les revendications à partir d’un jeton d’ID tooparse hello, consultez hello [référence de jeton Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="9281a-224">For information on how tooparse hello claims from an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="9281a-225">L’autre option consiste à stratégie de hello tooencode valeur hello Hello `state` paramètre lorsque vous émettez la demande de hello et décoder toodetermine stratégie qui a été utilisée.</span><span class="sxs-lookup"><span data-stu-id="9281a-225">Your other option is tooencode hello policy in hello value of hello `state` parameter when you issue hello request, and then decode it toodetermine which policy was used.</span></span> <span data-ttu-id="9281a-226">Les 2 méthodes sont valides.</span><span class="sxs-lookup"><span data-stu-id="9281a-226">Either method is valid.</span></span>

<span data-ttu-id="9281a-227">Une fois que vous avez acquis le document de métadonnées hello à partir du point de terminaison des métadonnées de OpenID Connect hello, vous pouvez utiliser les clés publiques RSA 256 de hello (qui sont trouvent dans ce point de terminaison) signature de hello toovalidate de jeton d’ID hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-227">After you've acquired hello metadata document from hello OpenID Connect metadata endpoint, you can use hello RSA 256 public keys (which are located at this endpoint) toovalidate hello signature of hello ID token.</span></span> <span data-ttu-id="9281a-228">Ce point de terminaison peut comporter plusieurs clés à tout moment, chacune étant identifiée par une revendication `kid`.</span><span class="sxs-lookup"><span data-stu-id="9281a-228">There might be multiple keys listed at this endpoint at any given point in time, each identified by a `kid` claim.</span></span> <span data-ttu-id="9281a-229">Hello en-tête de jeton d’ID hello contient également un `kid` de revendication, qui indique à lequel de ces clés a été toosign utilisé le jeton d’ID hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-229">hello header of hello ID token also contains a `kid` claim, which indicates which of these keys was used toosign hello ID token.</span></span> <span data-ttu-id="9281a-230">Pour plus d’informations, consultez hello [référence de jeton Azure AD B2C](active-directory-b2c-reference-tokens.md) (hello section sur [valider des jetons](active-directory-b2c-reference-tokens.md#token-validation), en particulier).</span><span class="sxs-lookup"><span data-stu-id="9281a-230">For more information, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md) (hello section on [validating tokens](active-directory-b2c-reference-tokens.md#token-validation), in particular).</span></span>
<!--TODO: Improve hello information on this-->

<span data-ttu-id="9281a-231">Une fois que vous avez validé la signature de hello du jeton d’ID hello, il existe plusieurs revendications que vous avez besoin de tooverify.</span><span class="sxs-lookup"><span data-stu-id="9281a-231">After you've validated hello signature of hello ID token, there are several claims that you need tooverify.</span></span> <span data-ttu-id="9281a-232">Exemple :</span><span class="sxs-lookup"><span data-stu-id="9281a-232">For instance:</span></span>

* <span data-ttu-id="9281a-233">Vous devez valider hello `nonce` tooprevent les attaques de relecture de jetons de revendications.</span><span class="sxs-lookup"><span data-stu-id="9281a-233">You should validate hello `nonce` claim tooprevent token replay attacks.</span></span> <span data-ttu-id="9281a-234">Sa valeur doit être spécifiée dans la demande de connexion hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-234">Its value should be what you specified in hello sign-in request.</span></span>
* <span data-ttu-id="9281a-235">Vous devez valider hello `aud` revendication tooensure qui hello le jeton d’ID a été émis pour votre application.</span><span class="sxs-lookup"><span data-stu-id="9281a-235">You should validate hello `aud` claim tooensure that hello ID token was issued for your app.</span></span> <span data-ttu-id="9281a-236">Sa valeur doit être l’ID de l’application hello de votre application.</span><span class="sxs-lookup"><span data-stu-id="9281a-236">Its value should be hello application ID of your app.</span></span>
* <span data-ttu-id="9281a-237">Vous devez valider hello `iat` et `exp` revendications tooensure qui hello le jeton d’ID n’a pas expiré.</span><span class="sxs-lookup"><span data-stu-id="9281a-237">You should validate hello `iat` and `exp` claims tooensure that hello ID token has not expired.</span></span>

<span data-ttu-id="9281a-238">Vous devez également effectuer plusieurs autres validations.</span><span class="sxs-lookup"><span data-stu-id="9281a-238">There are also several more validations that you should perform.</span></span> <span data-ttu-id="9281a-239">Ceux-ci sont décrits en détail dans hello [OpenID connecter Core Spec](http://openid.net/specs/openid-connect-core-1_0.html).  Vous pouvez également vous toovalidate des revendications supplémentaires, en fonction de votre scénario.</span><span class="sxs-lookup"><span data-stu-id="9281a-239">These are described in detail in hello [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html).  You might also want toovalidate additional claims, depending on your scenario.</span></span> <span data-ttu-id="9281a-240">Voici quelques validations courantes :</span><span class="sxs-lookup"><span data-stu-id="9281a-240">Some common validations include:</span></span>

* <span data-ttu-id="9281a-241">S’assurer que hello / l’organisation de l’utilisateur a inscrit pour l’application hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-241">Ensuring that hello user/organization has signed up for hello app.</span></span>
* <span data-ttu-id="9281a-242">En vous assurant que l’utilisateur hello a des privilèges / d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="9281a-242">Ensuring that hello user has proper authorization/privileges.</span></span>
* <span data-ttu-id="9281a-243">S’assurer de l’utilisation d’une force certaine d’authentification, comme Azure Multi-Factor Authentication.</span><span class="sxs-lookup"><span data-stu-id="9281a-243">Ensuring that a certain strength of authentication has occurred, such as Azure Multi-Factor Authentication.</span></span>

<span data-ttu-id="9281a-244">Pour plus d’informations sur les revendications hello dans un jeton d’ID, consultez hello [référence de jeton Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="9281a-244">For more information on hello claims in an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>

<span data-ttu-id="9281a-245">Après avoir validé le jeton d’ID hello, vous pouvez commencer une session avec l’utilisateur de hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-245">After you have validated hello ID token, you can begin a session with hello user.</span></span> <span data-ttu-id="9281a-246">Vous pouvez utiliser les revendications hello dans hello ID jeton tooobtain informations hello utilisateur dans votre application.</span><span class="sxs-lookup"><span data-stu-id="9281a-246">You can use hello claims in hello ID token tooobtain information about hello user in your app.</span></span> <span data-ttu-id="9281a-247">Les utilisations de ces informations sont notamment l’affichage, les enregistrements et les autorisations.</span><span class="sxs-lookup"><span data-stu-id="9281a-247">Uses for this information include display, records, and authorization.</span></span>

## <a name="get-a-token"></a><span data-ttu-id="9281a-248">Obtention d’un jeton</span><span class="sxs-lookup"><span data-stu-id="9281a-248">Get a token</span></span>
<span data-ttu-id="9281a-249">Si vous avez besoin de votre tooonly d’application web exécution des stratégies, vous pouvez ignorer hello les sections suivantes.</span><span class="sxs-lookup"><span data-stu-id="9281a-249">If you need your web app tooonly execute policies, you can skip hello next few sections.</span></span> <span data-ttu-id="9281a-250">Ces sections sont des applications tooweb uniquement applicable qui doivent toomake authentifié appels tooa web API et sont également protégées par Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="9281a-250">These sections are applicable only tooweb apps that need toomake authenticated calls tooa web API and are also protected by Azure AD B2C.</span></span>

<span data-ttu-id="9281a-251">Vous pouvez utiliser le code d’autorisation hello que vous avez obtenue (à l’aide de `response_type=code+id_token`) pour un jeton toohello souhaité ressource en envoyant un `POST` demande toohello `/token` point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="9281a-251">You can redeem hello authorization code that you acquired (by using `response_type=code+id_token`) for a token toohello desired resource by sending a `POST` request toohello `/token` endpoint.</span></span> <span data-ttu-id="9281a-252">Actuellement, hello uniquement les ressources que vous pouvez demander un jeton sont votre site web principal de l’application API.</span><span class="sxs-lookup"><span data-stu-id="9281a-252">Currently, hello only resource that you can request a token for is your app's own back-end web API.</span></span> <span data-ttu-id="9281a-253">convention de Hello pour demander un jeton tooyourself est toouse l’ID de client de votre application en tant qu’étendue de hello :</span><span class="sxs-lookup"><span data-stu-id="9281a-253">hello convention for requesting a token tooyourself is toouse your app's client ID as hello scope:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access&code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob&client_secret=<your-application-secret>

```

| <span data-ttu-id="9281a-254">Paramètre</span><span class="sxs-lookup"><span data-stu-id="9281a-254">Parameter</span></span> | <span data-ttu-id="9281a-255">Requis ?</span><span class="sxs-lookup"><span data-stu-id="9281a-255">Required?</span></span> | <span data-ttu-id="9281a-256">Description</span><span class="sxs-lookup"><span data-stu-id="9281a-256">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="9281a-257">p</span><span class="sxs-lookup"><span data-stu-id="9281a-257">p</span></span> |<span data-ttu-id="9281a-258">Requis</span><span class="sxs-lookup"><span data-stu-id="9281a-258">Required</span></span> |<span data-ttu-id="9281a-259">Hello stratégie qui a été utilisé tooacquire hello autorisation code.</span><span class="sxs-lookup"><span data-stu-id="9281a-259">hello policy that was used tooacquire hello authorization code.</span></span> <span data-ttu-id="9281a-260">Vous ne pouvez pas utiliser une autre stratégie dans cette demande.</span><span class="sxs-lookup"><span data-stu-id="9281a-260">You cannot use a different policy in this request.</span></span> <span data-ttu-id="9281a-261">Notez que vous ajoutez cette chaîne de requête de paramètre toohello, le toohello pas `POST` corps.</span><span class="sxs-lookup"><span data-stu-id="9281a-261">Note that you add this parameter toohello query string, not toohello `POST` body.</span></span> |
| <span data-ttu-id="9281a-262">client_id</span><span class="sxs-lookup"><span data-stu-id="9281a-262">client_id</span></span> |<span data-ttu-id="9281a-263">Requis</span><span class="sxs-lookup"><span data-stu-id="9281a-263">Required</span></span> |<span data-ttu-id="9281a-264">application Hello ID que hello [portail Azure](https://portal.azure.com/) affecté tooyour application.</span><span class="sxs-lookup"><span data-stu-id="9281a-264">hello application ID that hello [Azure portal](https://portal.azure.com/) assigned tooyour app.</span></span> |
| <span data-ttu-id="9281a-265">grant_type</span><span class="sxs-lookup"><span data-stu-id="9281a-265">grant_type</span></span> |<span data-ttu-id="9281a-266">Requis</span><span class="sxs-lookup"><span data-stu-id="9281a-266">Required</span></span> |<span data-ttu-id="9281a-267">Hello type d’octroi, qui doit être `authorization_code` pour les flux de code d’autorisation hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-267">hello type of grant, which must be `authorization_code` for hello authorization code flow.</span></span> |
| <span data-ttu-id="9281a-268">scope</span><span class="sxs-lookup"><span data-stu-id="9281a-268">scope</span></span> |<span data-ttu-id="9281a-269">Recommandé</span><span class="sxs-lookup"><span data-stu-id="9281a-269">Recommended</span></span> |<span data-ttu-id="9281a-270">Une liste d’étendues séparées par des espaces.</span><span class="sxs-lookup"><span data-stu-id="9281a-270">A space-separated list of scopes.</span></span> <span data-ttu-id="9281a-271">Une valeur d’étendue unique indique tooAzure AD les autorisations qui sont demandées.</span><span class="sxs-lookup"><span data-stu-id="9281a-271">A single scope value indicates tooAzure AD both permissions that are being requested.</span></span> <span data-ttu-id="9281a-272">Hello `openid` étendue indique une autorisation toosign dans hello utilisateur et obtenir des données sur utilisateur de hello sous forme hello id_token paramètres.</span><span class="sxs-lookup"><span data-stu-id="9281a-272">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of id_token parameters.</span></span> <span data-ttu-id="9281a-273">Il peut être utilisé tooget jetons tooyour l’application back-end API web, qui est représentée par hello même ID d’application en tant que client de hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-273">It can be used tooget tokens tooyour app's own back-end web API, which is represented by hello same application ID as hello client.</span></span> <span data-ttu-id="9281a-274">Hello `offline_access` étendue indique que nécessaires à votre application un jeton d’actualisation pour l’accès à long terme tooresources.</span><span class="sxs-lookup"><span data-stu-id="9281a-274">hello `offline_access` scope indicates that your app will need a refresh token for long-lived access tooresources.</span></span> |
| <span data-ttu-id="9281a-275">code</span><span class="sxs-lookup"><span data-stu-id="9281a-275">code</span></span> |<span data-ttu-id="9281a-276">Requis</span><span class="sxs-lookup"><span data-stu-id="9281a-276">Required</span></span> |<span data-ttu-id="9281a-277">code d’autorisation Hello que vous avez obtenue dans la première branche de hello du flux de hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-277">hello authorization code that you acquired in hello first leg of hello flow.</span></span> |
| <span data-ttu-id="9281a-278">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="9281a-278">redirect_uri</span></span> |<span data-ttu-id="9281a-279">Requis</span><span class="sxs-lookup"><span data-stu-id="9281a-279">Required</span></span> |<span data-ttu-id="9281a-280">Hello `redirect_uri` paramètre d’application hello où vous avez reçu le code d’autorisation de hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-280">hello `redirect_uri` parameter of hello application where you received hello authorization code.</span></span> |
| <span data-ttu-id="9281a-281">client_secret</span><span class="sxs-lookup"><span data-stu-id="9281a-281">client_secret</span></span> |<span data-ttu-id="9281a-282">Requis</span><span class="sxs-lookup"><span data-stu-id="9281a-282">Required</span></span> |<span data-ttu-id="9281a-283">secret d’application Hello que vous avez généré dans hello [portail Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="9281a-283">hello application secret that you generated in hello [Azure portal](https://portal.azure.com/).</span></span> <span data-ttu-id="9281a-284">Ce secret d’application est un artefact de sécurité important.</span><span class="sxs-lookup"><span data-stu-id="9281a-284">This application secret is an important security artifact.</span></span> <span data-ttu-id="9281a-285">Vous devez le stocker sur votre serveur de manière sécurisée.</span><span class="sxs-lookup"><span data-stu-id="9281a-285">You should store it securely on your server.</span></span> <span data-ttu-id="9281a-286">Vous devez également veiller à renouveler ce secret du client régulièrement.</span><span class="sxs-lookup"><span data-stu-id="9281a-286">You should also rotate this client secret on a periodic basis.</span></span> |

<span data-ttu-id="9281a-287">Un jeton de réponse de réussite se présente ainsi :</span><span class="sxs-lookup"><span data-stu-id="9281a-287">A successful token response looks like:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="9281a-288">Paramètre</span><span class="sxs-lookup"><span data-stu-id="9281a-288">Parameter</span></span> | <span data-ttu-id="9281a-289">Description</span><span class="sxs-lookup"><span data-stu-id="9281a-289">Description</span></span> |
| --- | --- |
| <span data-ttu-id="9281a-290">not_before</span><span class="sxs-lookup"><span data-stu-id="9281a-290">not_before</span></span> |<span data-ttu-id="9281a-291">heure de Hello à quels hello jeton est considéré comme valide dans le temps de l’époque.</span><span class="sxs-lookup"><span data-stu-id="9281a-291">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="9281a-292">token_type</span><span class="sxs-lookup"><span data-stu-id="9281a-292">token_type</span></span> |<span data-ttu-id="9281a-293">valeur de type de jeton Hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-293">hello token type value.</span></span> <span data-ttu-id="9281a-294">Hello uniquement le type qui prend en charge d’Azure AD est `Bearer`.</span><span class="sxs-lookup"><span data-stu-id="9281a-294">hello only type that Azure AD supports is `Bearer`.</span></span> |
| <span data-ttu-id="9281a-295">access_token</span><span class="sxs-lookup"><span data-stu-id="9281a-295">access_token</span></span> |<span data-ttu-id="9281a-296">Hello signé le jeton Web JSON que vous avez demandé.</span><span class="sxs-lookup"><span data-stu-id="9281a-296">hello signed JWT token that you requested.</span></span> |
| <span data-ttu-id="9281a-297">scope</span><span class="sxs-lookup"><span data-stu-id="9281a-297">scope</span></span> |<span data-ttu-id="9281a-298">étendues Hello pour le hello jeton est valide.</span><span class="sxs-lookup"><span data-stu-id="9281a-298">hello scopes for which hello token is valid.</span></span> <span data-ttu-id="9281a-299">Elles peuvent être utilisées pour mettre en cache des jetons pour une utilisation ultérieure.</span><span class="sxs-lookup"><span data-stu-id="9281a-299">These can be used for caching tokens for later use.</span></span> |
| <span data-ttu-id="9281a-300">expires_in</span><span class="sxs-lookup"><span data-stu-id="9281a-300">expires_in</span></span> |<span data-ttu-id="9281a-301">Durée Hello de hello du jeton d’accès est valide (en secondes).</span><span class="sxs-lookup"><span data-stu-id="9281a-301">hello length of time that hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="9281a-302">refresh_token</span><span class="sxs-lookup"><span data-stu-id="9281a-302">refresh_token</span></span> |<span data-ttu-id="9281a-303">Un jeton d’actualisation OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="9281a-303">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="9281a-304">application Hello peut utiliser ce jeton tooacquire des jetons supplémentaires après l’expiration du jeton actuel de hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-304">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span> <span data-ttu-id="9281a-305">Actualiser les jetons sont de longue durées et peut être utilisé tooretain accès tooresources pendant de longues périodes de temps.</span><span class="sxs-lookup"><span data-stu-id="9281a-305">Refresh tokens are long-lived and can be used tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="9281a-306">Pour plus d’informations, consultez toohello [référence de jeton B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="9281a-306">For more details, refer toohello [B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="9281a-307">Notez que vous devez avoir utilisé étendue de hello `offline_access` d’autorisation de hello et jeton de demande dans l’ordre tooreceive un jeton d’actualisation.</span><span class="sxs-lookup"><span data-stu-id="9281a-307">Note that you must have used hello scope `offline_access` in both hello authorization and token requests in order tooreceive a refresh token.</span></span> |

<span data-ttu-id="9281a-308">Les réponses d’erreur se présentent comme ceci :</span><span class="sxs-lookup"><span data-stu-id="9281a-308">Error responses look like:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="9281a-309">Paramètre</span><span class="sxs-lookup"><span data-stu-id="9281a-309">Parameter</span></span> | <span data-ttu-id="9281a-310">Description</span><span class="sxs-lookup"><span data-stu-id="9281a-310">Description</span></span> |
| --- | --- |
| <span data-ttu-id="9281a-311">error</span><span class="sxs-lookup"><span data-stu-id="9281a-311">error</span></span> |<span data-ttu-id="9281a-312">Une chaîne de code d’erreur qui peut être des types d’erreurs qui se produisent et qui peut être utilisé tooreact tooerrors tooclassify utilisé.</span><span class="sxs-lookup"><span data-stu-id="9281a-312">An error-code string that can be used tooclassify types of errors that occur and that can be used tooreact tooerrors.</span></span> |
| <span data-ttu-id="9281a-313">error_description</span><span class="sxs-lookup"><span data-stu-id="9281a-313">error_description</span></span> |<span data-ttu-id="9281a-314">Un message d’erreur spécifique qui permettre aider un développeur à identifier la cause de hello d’une erreur d’authentification.</span><span class="sxs-lookup"><span data-stu-id="9281a-314">A specific error message that can help a developer identify hello root cause of an authentication error.</span></span> |

## <a name="use-hello-token"></a><span data-ttu-id="9281a-315">Utilisation du jeton hello</span><span class="sxs-lookup"><span data-stu-id="9281a-315">Use hello token</span></span>
<span data-ttu-id="9281a-316">Maintenant que vous avez acquis avec succès d’un jeton d’accès, vous pouvez utiliser le jeton de hello dans l’API web principale tooyour de demandes en l’incluant dans hello `Authorization` en-tête :</span><span class="sxs-lookup"><span data-stu-id="9281a-316">Now that you've successfully acquired an access token, you can use hello token in requests tooyour back-end web APIs by including it in hello `Authorization` header:</span></span>

```
GET /tasks
Host: https://mytaskwebapi.com
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
```

## <a name="refresh-hello-token"></a><span data-ttu-id="9281a-317">Actualiser le jeton de hello</span><span class="sxs-lookup"><span data-stu-id="9281a-317">Refresh hello token</span></span>
<span data-ttu-id="9281a-318">Les jetons d’ID ont une durée de vie courte.</span><span class="sxs-lookup"><span data-stu-id="9281a-318">ID tokens are short-lived.</span></span> <span data-ttu-id="9281a-319">Vous devez actualiser les qui arrivent à expiration toocontinue en cours tooaccess en mesure de ressources.</span><span class="sxs-lookup"><span data-stu-id="9281a-319">You must refresh them after they expire toocontinue being able tooaccess resources.</span></span> <span data-ttu-id="9281a-320">Vous pouvez le faire en envoyant un autre `POST` demande toohello `/token` point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="9281a-320">You can do so by submitting another `POST` request toohello `/token` endpoint.</span></span> <span data-ttu-id="9281a-321">Cette fois-ci, fournir hello `refresh_token` paramètre au lieu de hello `code` paramètre :</span><span class="sxs-lookup"><span data-stu-id="9281a-321">This time, provide hello `refresh_token` parameter instead of hello `code` parameter:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=refresh_token&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=openid offline_access&refresh_token=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob&client_secret=<your-application-secret>
```

| <span data-ttu-id="9281a-322">Paramètre</span><span class="sxs-lookup"><span data-stu-id="9281a-322">Parameter</span></span> | <span data-ttu-id="9281a-323">Requis</span><span class="sxs-lookup"><span data-stu-id="9281a-323">Required</span></span> | <span data-ttu-id="9281a-324">Description</span><span class="sxs-lookup"><span data-stu-id="9281a-324">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="9281a-325">p</span><span class="sxs-lookup"><span data-stu-id="9281a-325">p</span></span> |<span data-ttu-id="9281a-326">Requis</span><span class="sxs-lookup"><span data-stu-id="9281a-326">Required</span></span> |<span data-ttu-id="9281a-327">stratégie Hello qui était le jeton d’actualisation d’origine utilisé tooacquire hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-327">hello policy that was used tooacquire hello original refresh token.</span></span> <span data-ttu-id="9281a-328">Vous ne pouvez pas utiliser une autre stratégie dans cette demande.</span><span class="sxs-lookup"><span data-stu-id="9281a-328">You cannot use a different policy in this request.</span></span> <span data-ttu-id="9281a-329">Notez que vous ajoutez cette chaîne de requête de paramètre toohello, le toohello pas les corps de publication.</span><span class="sxs-lookup"><span data-stu-id="9281a-329">Note that you add this parameter toohello query string, not toohello POST body.</span></span> |
| <span data-ttu-id="9281a-330">client_id</span><span class="sxs-lookup"><span data-stu-id="9281a-330">client_id</span></span> |<span data-ttu-id="9281a-331">Requis</span><span class="sxs-lookup"><span data-stu-id="9281a-331">Required</span></span> |<span data-ttu-id="9281a-332">application Hello ID que hello [portail Azure](https://portal.azure.com/) affecté tooyour application.</span><span class="sxs-lookup"><span data-stu-id="9281a-332">hello application ID that hello [Azure portal](https://portal.azure.com/) assigned tooyour app.</span></span> |
| <span data-ttu-id="9281a-333">grant_type</span><span class="sxs-lookup"><span data-stu-id="9281a-333">grant_type</span></span> |<span data-ttu-id="9281a-334">Requis</span><span class="sxs-lookup"><span data-stu-id="9281a-334">Required</span></span> |<span data-ttu-id="9281a-335">type de Hello d’octroi, qui doit être un jeton d’actualisation de cette section de flux de code d’autorisation hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-335">hello type of grant, which must be a refresh token for this leg of hello authorization code flow.</span></span> |
| <span data-ttu-id="9281a-336">scope</span><span class="sxs-lookup"><span data-stu-id="9281a-336">scope</span></span> |<span data-ttu-id="9281a-337">Recommandé</span><span class="sxs-lookup"><span data-stu-id="9281a-337">Recommended</span></span> |<span data-ttu-id="9281a-338">Une liste d’étendues séparées par des espaces.</span><span class="sxs-lookup"><span data-stu-id="9281a-338">A space-separated list of scopes.</span></span> <span data-ttu-id="9281a-339">Une valeur d’étendue unique indique tooAzure AD les autorisations qui sont demandées.</span><span class="sxs-lookup"><span data-stu-id="9281a-339">A single scope value indicates tooAzure AD both permissions that are being requested.</span></span> <span data-ttu-id="9281a-340">Hello `openid` étendue indique une autorisation toosign dans hello utilisateur et obtenir des données sur utilisateur hello sous forme de hello de jetons de code.</span><span class="sxs-lookup"><span data-stu-id="9281a-340">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of ID tokens.</span></span> <span data-ttu-id="9281a-341">Il peut être utilisé tooget jetons tooyour l’application back-end API web, qui est représentée par hello même ID d’application en tant que client de hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-341">It can be used tooget tokens tooyour app's own back-end web API, which is represented by hello same application ID as hello client.</span></span> <span data-ttu-id="9281a-342">Hello `offline_access` étendue indique que nécessaires à votre application un jeton d’actualisation pour l’accès à long terme tooresources.</span><span class="sxs-lookup"><span data-stu-id="9281a-342">hello `offline_access` scope indicates that your app will need a refresh token for long-lived access tooresources.</span></span> |
| <span data-ttu-id="9281a-343">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="9281a-343">redirect_uri</span></span> |<span data-ttu-id="9281a-344">Recommandé</span><span class="sxs-lookup"><span data-stu-id="9281a-344">Recommended</span></span> |<span data-ttu-id="9281a-345">Hello `redirect_uri` paramètre d’application hello où vous avez reçu le code d’autorisation de hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-345">hello `redirect_uri` parameter of hello application where you received hello authorization code.</span></span> |
| <span data-ttu-id="9281a-346">refresh_token</span><span class="sxs-lookup"><span data-stu-id="9281a-346">refresh_token</span></span> |<span data-ttu-id="9281a-347">Requis</span><span class="sxs-lookup"><span data-stu-id="9281a-347">Required</span></span> |<span data-ttu-id="9281a-348">Hello d’origine jeton d’actualisation que vous avez obtenue dans la branche de deuxième hello du flux de hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-348">hello original refresh token that you acquired in hello second leg of hello flow.</span></span> <span data-ttu-id="9281a-349">Notez que vous devez avoir utilisé étendue de hello `offline_access` d’autorisation de hello et jeton de demande dans l’ordre tooreceive un jeton d’actualisation.</span><span class="sxs-lookup"><span data-stu-id="9281a-349">Note that you must have used hello scope `offline_access` in both hello authorization and token requests in order tooreceive a refresh token.</span></span> |
| <span data-ttu-id="9281a-350">client_secret</span><span class="sxs-lookup"><span data-stu-id="9281a-350">client_secret</span></span> |<span data-ttu-id="9281a-351">Requis</span><span class="sxs-lookup"><span data-stu-id="9281a-351">Required</span></span> |<span data-ttu-id="9281a-352">secret d’application Hello que vous avez généré dans hello [portail Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="9281a-352">hello application secret that you generated in hello [Azure portal](https://portal.azure.com/).</span></span> <span data-ttu-id="9281a-353">Ce secret d’application est un artefact de sécurité important.</span><span class="sxs-lookup"><span data-stu-id="9281a-353">This application secret is an important security artifact.</span></span> <span data-ttu-id="9281a-354">Vous devez le stocker sur votre serveur de manière sécurisée.</span><span class="sxs-lookup"><span data-stu-id="9281a-354">You should store it securely on your server.</span></span> <span data-ttu-id="9281a-355">Vous devez également veiller à renouveler ce secret du client régulièrement.</span><span class="sxs-lookup"><span data-stu-id="9281a-355">You should also rotate this client secret on a periodic basis.</span></span> |

<span data-ttu-id="9281a-356">Un jeton de réponse de réussite se présente ainsi :</span><span class="sxs-lookup"><span data-stu-id="9281a-356">A successful token response looks like:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="9281a-357">Paramètre</span><span class="sxs-lookup"><span data-stu-id="9281a-357">Parameter</span></span> | <span data-ttu-id="9281a-358">Description</span><span class="sxs-lookup"><span data-stu-id="9281a-358">Description</span></span> |
| --- | --- |
| <span data-ttu-id="9281a-359">not_before</span><span class="sxs-lookup"><span data-stu-id="9281a-359">not_before</span></span> |<span data-ttu-id="9281a-360">heure de Hello à quels hello jeton est considéré comme valide dans le temps de l’époque.</span><span class="sxs-lookup"><span data-stu-id="9281a-360">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="9281a-361">token_type</span><span class="sxs-lookup"><span data-stu-id="9281a-361">token_type</span></span> |<span data-ttu-id="9281a-362">valeur de type de jeton Hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-362">hello token type value.</span></span> <span data-ttu-id="9281a-363">Hello uniquement le type qui prend en charge d’Azure AD est `Bearer`.</span><span class="sxs-lookup"><span data-stu-id="9281a-363">hello only type that Azure AD supports is `Bearer`.</span></span> |
| <span data-ttu-id="9281a-364">access_token</span><span class="sxs-lookup"><span data-stu-id="9281a-364">access_token</span></span> |<span data-ttu-id="9281a-365">Hello signé le jeton Web JSON que vous avez demandé.</span><span class="sxs-lookup"><span data-stu-id="9281a-365">hello signed JWT token that you requested.</span></span> |
| <span data-ttu-id="9281a-366">scope</span><span class="sxs-lookup"><span data-stu-id="9281a-366">scope</span></span> |<span data-ttu-id="9281a-367">étendue de Hello hello jeton est valide, qui peut être utilisé pour mettre en cache des jetons pour une utilisation ultérieure.</span><span class="sxs-lookup"><span data-stu-id="9281a-367">hello scope that hello token is valid for, which can be used for caching tokens for later use.</span></span> |
| <span data-ttu-id="9281a-368">expires_in</span><span class="sxs-lookup"><span data-stu-id="9281a-368">expires_in</span></span> |<span data-ttu-id="9281a-369">Durée Hello de hello du jeton d’accès est valide (en secondes).</span><span class="sxs-lookup"><span data-stu-id="9281a-369">hello length of time that hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="9281a-370">refresh_token</span><span class="sxs-lookup"><span data-stu-id="9281a-370">refresh_token</span></span> |<span data-ttu-id="9281a-371">Un jeton d’actualisation OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="9281a-371">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="9281a-372">application Hello peut utiliser ce jeton tooacquire des jetons supplémentaires après l’expiration du jeton actuel de hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-372">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span>  <span data-ttu-id="9281a-373">Actualiser les jetons sont de longue durées et peut être utilisé tooretain accès tooresources pendant de longues périodes de temps.</span><span class="sxs-lookup"><span data-stu-id="9281a-373">Refresh tokens are long-lived and can be used tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="9281a-374">Pour plus d’informations, consultez toohello [référence de jeton B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="9281a-374">For more detail, refer toohello [B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |

<span data-ttu-id="9281a-375">Les réponses d’erreur se présentent comme ceci :</span><span class="sxs-lookup"><span data-stu-id="9281a-375">Error responses look like:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="9281a-376">Paramètre</span><span class="sxs-lookup"><span data-stu-id="9281a-376">Parameter</span></span> | <span data-ttu-id="9281a-377">Description</span><span class="sxs-lookup"><span data-stu-id="9281a-377">Description</span></span> |
| --- | --- |
| <span data-ttu-id="9281a-378">error</span><span class="sxs-lookup"><span data-stu-id="9281a-378">error</span></span> |<span data-ttu-id="9281a-379">Une chaîne de code d’erreur qui peut être des types d’erreurs qui se produisent et qui peut être utilisé tooreact tooerrors tooclassify utilisé.</span><span class="sxs-lookup"><span data-stu-id="9281a-379">An error-code string that can be used tooclassify types of errors that occur and that can be used tooreact tooerrors.</span></span> |
| <span data-ttu-id="9281a-380">error_description</span><span class="sxs-lookup"><span data-stu-id="9281a-380">error_description</span></span> |<span data-ttu-id="9281a-381">Un message d’erreur spécifique qui permettre aider un développeur à identifier la cause de hello d’une erreur d’authentification.</span><span class="sxs-lookup"><span data-stu-id="9281a-381">A specific error message that can help a developer identify hello root cause of an authentication error.</span></span> |

## <a name="send-a-sign-out-request"></a><span data-ttu-id="9281a-382">Envoi d’une demande de déconnexion</span><span class="sxs-lookup"><span data-stu-id="9281a-382">Send a sign-out request</span></span>
<span data-ttu-id="9281a-383">Lorsque vous souhaitez toosign hello utilisation de l’application hello, il n’est pas suffisant tooclear les cookies de votre application ou sinon final session hello avec l’utilisateur de hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-383">When you want toosign hello user out of hello app, it is not enough tooclear your app's cookies or otherwise end hello session with hello user.</span></span> <span data-ttu-id="9281a-384">Vous devez également rediriger hello utilisateur tooAzure AD toosign out. Si vous ne toodo donc, hello utilisateur devra peut-être application tooyour de tooreauthenticate en mesure de sans entrer de nouveau leurs informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="9281a-384">You must also redirect hello user tooAzure AD toosign out. If you fail toodo so, hello user might be able tooreauthenticate tooyour app without entering their credentials again.</span></span> <span data-ttu-id="9281a-385">En effet, il dispose d’une session d’authentification unique valide avec Azure AD.</span><span class="sxs-lookup"><span data-stu-id="9281a-385">This is because they will have a valid single sign-on session with Azure AD.</span></span>

<span data-ttu-id="9281a-386">Vous pouvez rediriger simplement hello utilisateur toohello `end_session` point de terminaison qui est répertorié dans le document de métadonnées OpenID Connect hello décrit précédemment dans les hello « Valider le jeton d’ID hello » la section :</span><span class="sxs-lookup"><span data-stu-id="9281a-386">You can simply redirect hello user toohello `end_session` endpoint that is listed in hello OpenID Connect metadata document described earlier in hello "Validate hello ID token" section:</span></span>

```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/logout?
p=b2c_1_sign_in
&post_logout_redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
```

| <span data-ttu-id="9281a-387">Paramètre</span><span class="sxs-lookup"><span data-stu-id="9281a-387">Parameter</span></span> | <span data-ttu-id="9281a-388">Requis ?</span><span class="sxs-lookup"><span data-stu-id="9281a-388">Required?</span></span> | <span data-ttu-id="9281a-389">Description</span><span class="sxs-lookup"><span data-stu-id="9281a-389">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="9281a-390">p</span><span class="sxs-lookup"><span data-stu-id="9281a-390">p</span></span> |<span data-ttu-id="9281a-391">Requis</span><span class="sxs-lookup"><span data-stu-id="9281a-391">Required</span></span> |<span data-ttu-id="9281a-392">stratégie Hello que vous souhaitez que toouse toosign hello utilisateur hors de votre application.</span><span class="sxs-lookup"><span data-stu-id="9281a-392">hello policy that you want toouse toosign hello user out of your application.</span></span> |
| <span data-ttu-id="9281a-393">post_logout_redirect_uri</span><span class="sxs-lookup"><span data-stu-id="9281a-393">post_logout_redirect_uri</span></span> |<span data-ttu-id="9281a-394">Recommandé</span><span class="sxs-lookup"><span data-stu-id="9281a-394">Recommended</span></span> |<span data-ttu-id="9281a-395">Hello URL cet utilisateur hello doit être redirigé tooafter réussie déconnexion. Si elle n’est pas incluse, Azure AD B2C affiche hello un message générique.</span><span class="sxs-lookup"><span data-stu-id="9281a-395">hello URL that hello user should be redirected tooafter successful sign-out. If it is not included, Azure AD B2C shows hello user a generic message.</span></span> |

> [!NOTE]
> <span data-ttu-id="9281a-396">Bien que la direction de hello utilisateur toohello `end_session` point de terminaison supprime certaines des hello l’état d’utilisateur unique authentification avec Azure AD B2C, il ne signe pas utilisateur hello hors de leur session du fournisseur (IDP) identité sociaux.</span><span class="sxs-lookup"><span data-stu-id="9281a-396">Although directing hello user toohello `end_session` endpoint will clear some of hello user's single sign-on state with Azure AD B2C, it will not sign hello user out of their social identity provider (IDP) session.</span></span> <span data-ttu-id="9281a-397">Si l’utilisateur de hello sélectionne hello IDP même pendant un signe suivantes, elles seront authentifiés, sans entrer leurs informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="9281a-397">If hello user selects hello same IDP during a subsequent sign-in, they will be reauthenticated, without entering their credentials.</span></span> <span data-ttu-id="9281a-398">Si un utilisateur souhaite toosign hors de votre application B2C, il ne signifie pas nécessairement qu’ils souhaitent toosign hors de leur compte Facebook.</span><span class="sxs-lookup"><span data-stu-id="9281a-398">If a user wants toosign out of your B2C application, it does not necessarily mean they want toosign out of their Facebook account.</span></span> <span data-ttu-id="9281a-399">Toutefois, dans les cas de hello de comptes locaux, hello session utilisateur sera terminée correctement.</span><span class="sxs-lookup"><span data-stu-id="9281a-399">However, in hello case of local accounts, hello user's session will be ended properly.</span></span>
> 
> 

## <a name="use-your-own-b2c-tenant"></a><span data-ttu-id="9281a-400">Utilisation de votre propre client B2C</span><span class="sxs-lookup"><span data-stu-id="9281a-400">Use your own B2C tenant</span></span>
<span data-ttu-id="9281a-401">Si vous souhaitez tootry de ces requêtes pour vous-même, vous devez d’abord effectuer ces trois étapes et puis remplacez décrits précédemment avec vos propres valeurs de l’exemple hello :</span><span class="sxs-lookup"><span data-stu-id="9281a-401">If you want tootry these requests for yourself, you must first perform these three steps, and then replace hello example values described earlier with your own:</span></span>

1. <span data-ttu-id="9281a-402">[Créer un client B2C](active-directory-b2c-get-started.md)et utiliser le nom hello de votre client dans les demandes de hello.</span><span class="sxs-lookup"><span data-stu-id="9281a-402">[Create a B2C tenant](active-directory-b2c-get-started.md), and use hello name of your tenant in hello requests.</span></span>
2. <span data-ttu-id="9281a-403">[Créer une application](active-directory-b2c-app-registration.md) tooobtain un ID d’application.</span><span class="sxs-lookup"><span data-stu-id="9281a-403">[Create an application](active-directory-b2c-app-registration.md) tooobtain an application ID.</span></span> <span data-ttu-id="9281a-404">Incluez une application web/API web dans votre application.</span><span class="sxs-lookup"><span data-stu-id="9281a-404">Include a web app/web API in your app.</span></span> <span data-ttu-id="9281a-405">Si vous le souhaitez, créez un secret d’application.</span><span class="sxs-lookup"><span data-stu-id="9281a-405">Optionally, create an application secret.</span></span>
3. <span data-ttu-id="9281a-406">[Créer vos stratégies](active-directory-b2c-reference-policies.md) tooobtain vos noms de stratégie.</span><span class="sxs-lookup"><span data-stu-id="9281a-406">[Create your policies](active-directory-b2c-reference-policies.md) tooobtain your policy names.</span></span>

