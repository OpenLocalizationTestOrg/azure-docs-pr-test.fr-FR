---
title: "Utilisation de la régression linéaire dans Machine Learning | Microsoft Docs"
description: "Une comparaison des modèles de régression linéaire dans Excel et dans Azure Machine Learning Studio"
metakeywords: 
services: machine-learning
documentationcenter: 
author: garyericson
manager: jhubbard
editor: cgronlun
ms.assetid: 417ae6ab-de4f-4bdd-957a-d96133234656
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/20/2017
ms.author: kbaroni;garye
ms.openlocfilehash: 7feb5d62415850e66f8eb7e22b9ada0d25a7058e
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="using-linear-regression-in-azure-machine-learning"></a><span data-ttu-id="f8b57-103">Utilisation de la régression linéaire dans Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="f8b57-103">Using linear regression in Azure Machine Learning</span></span>
> <span data-ttu-id="f8b57-104">*Kate Baroni* et *Ben Boatman* sont des architectes de solution du Data Insights Center of Excellence de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="f8b57-104">*Kate Baroni* and *Ben Boatman* are enterprise solution architects in Microsoft’s Data Insights Center of Excellence.</span></span> <span data-ttu-id="f8b57-105">Dans cet article, ils décrivent leur expérience de migration d’une suite d’analyse de régression existante vers une solution de cloud à l’aide d’Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="f8b57-105">In this article, they describe their experience migrating an existing regression analysis suite to a cloud-based solution using Azure Machine Learning.</span></span> 
> 
> 

&nbsp; 

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="goal"></a><span data-ttu-id="f8b57-106">Objectif</span><span class="sxs-lookup"><span data-stu-id="f8b57-106">Goal</span></span>
<span data-ttu-id="f8b57-107">Notre projet a commencé avec deux objectifs :</span><span class="sxs-lookup"><span data-stu-id="f8b57-107">Our project started with two goals in mind:</span></span> 

1. <span data-ttu-id="f8b57-108">l’utilisation de l’analyse prédictive pour améliorer la précision des projections de recettes mensuelles de notre organisation ;</span><span class="sxs-lookup"><span data-stu-id="f8b57-108">Use predictive analytics to improve the accuracy of our organization’s monthly revenue projections</span></span> 
2. <span data-ttu-id="f8b57-109">l’utilisation d’Azure Machine Learning pour confirmer, optimiser, mettre à l’échelle nos résultats et en accélérer la vitesse.</span><span class="sxs-lookup"><span data-stu-id="f8b57-109">Use Azure Machine Learning to confirm, optimize, increase velocity, and scale of our results.</span></span> 

<span data-ttu-id="f8b57-110">Comme beaucoup d’entreprises, notre organisation connaît un processus de prévision des recettes mensuelles.</span><span class="sxs-lookup"><span data-stu-id="f8b57-110">Like many businesses, our organization goes through a monthly revenue forecasting process.</span></span> <span data-ttu-id="f8b57-111">Notre petite équipe d’analystes commerciaux a été chargée d’utiliser Azure Machine Learning pour prendre en charge le processus et améliorer la précision des prévisions.</span><span class="sxs-lookup"><span data-stu-id="f8b57-111">Our small team of business analysts was tasked with using Azure Machine Learning to support the process and improve forecast accuracy.</span></span> <span data-ttu-id="f8b57-112">L’équipe a passé plusieurs mois à collecter des données provenant de plusieurs sources et à exécuter les attributs de données via l’analyse statistique afin d’identifier les principaux attributs des prévisions de vente de services.</span><span class="sxs-lookup"><span data-stu-id="f8b57-112">The team spent several months collecting data from multiple sources and running the data attributes through statistical analysis identifying key attributes relevant to services sales forecasting.</span></span> <span data-ttu-id="f8b57-113">L’étape suivante a consisté à réaliser des prototypes de modèles de régression statistique sur les données dans Excel.</span><span class="sxs-lookup"><span data-stu-id="f8b57-113">The next step was to begin prototyping statistical regression models on the data in Excel.</span></span> <span data-ttu-id="f8b57-114">En quelques semaines, nous avions un modèle de régression Excel plus performant que nos anciens processus de prévisions financières et de champ.</span><span class="sxs-lookup"><span data-stu-id="f8b57-114">Within a few weeks, we had an Excel regression model that was outperforming the current field and finance forecasting processes.</span></span> <span data-ttu-id="f8b57-115">C’est devenu le résultat de prédiction de référence.</span><span class="sxs-lookup"><span data-stu-id="f8b57-115">This became the baseline prediction result.</span></span> 

<span data-ttu-id="f8b57-116">Ensuite, nous avons déplacé l’analyse prédictive vers Azure Machine Learning pour savoir comment le Machine Learning pouvait améliorer les performances de prédiction.</span><span class="sxs-lookup"><span data-stu-id="f8b57-116">We then took the next step to moving our predictive analytics over to Azure Machine Learning to find out how Machine Learning could improve on predictive performance.</span></span>

## <a name="achieving-predictive-performance-parity"></a><span data-ttu-id="f8b57-117">Atteinte de la parité des performances de prédiction</span><span class="sxs-lookup"><span data-stu-id="f8b57-117">Achieving predictive performance parity</span></span>
<span data-ttu-id="f8b57-118">Notre priorité était d’atteindre la parité entre les modèles de régression Machine Learning et Excel.</span><span class="sxs-lookup"><span data-stu-id="f8b57-118">Our first priority was to achieve parity between Machine Learning and Excel regression models.</span></span> <span data-ttu-id="f8b57-119">Avec les mêmes données et la même fraction pour l’apprentissage et le test des données, nous voulions obtenir une parité des performances de prédiction entre Excel et Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="f8b57-119">Given the same data, and the same split for training and testing data, we wanted to achieve predictive performance parity between Excel and Machine Learning.</span></span> <span data-ttu-id="f8b57-120">Au départ, nous a échoué.</span><span class="sxs-lookup"><span data-stu-id="f8b57-120">Initially we failed.</span></span> <span data-ttu-id="f8b57-121">Le modèle Excel a surpassé le modèle Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="f8b57-121">The Excel model outperformed the Machine Learning model.</span></span> <span data-ttu-id="f8b57-122">L’échec était dû à un manque de compréhension de la configuration des outils de base dans Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="f8b57-122">The failure was due to a lack of understanding of the base tool setting in Machine Learning.</span></span> <span data-ttu-id="f8b57-123">Après une discussion avec l’équipe de produit Machine Learning, nous avons acquis une meilleure compréhension de la configuration de base requise pour nos jeux de données et atteint la parité entre les deux modèles.</span><span class="sxs-lookup"><span data-stu-id="f8b57-123">After a sync with the Machine Learning product team, we gained a better understanding of the base setting required for our data sets, and achieved parity between the two models.</span></span> 

### <a name="create-regression-model-in-excel"></a><span data-ttu-id="f8b57-124">Création d’un modèle de régression dans Excel</span><span class="sxs-lookup"><span data-stu-id="f8b57-124">Create regression model in Excel</span></span>
<span data-ttu-id="f8b57-125">Notre régression Excel utilisait le modèle de régression linéaire standard trouvé dans l’utilitaire d’analyse d’Excel.</span><span class="sxs-lookup"><span data-stu-id="f8b57-125">Our Excel Regression used the standard linear regression model found in the Excel Analysis ToolPak.</span></span> 

<span data-ttu-id="f8b57-126">Nous avons calculé une *Erreur d’absolue moyenne en pourcentage* et l’avons utilisée comme mesure de performance pour le modèle.</span><span class="sxs-lookup"><span data-stu-id="f8b57-126">We calculated *Mean Absolute % Error* and used it as the performance measure for the model.</span></span> <span data-ttu-id="f8b57-127">L’obtention d’un modèle fonctionnel à l’aide d’Excel nous a pris trois mois.</span><span class="sxs-lookup"><span data-stu-id="f8b57-127">It took 3 months to arrive at a working model using Excel.</span></span> <span data-ttu-id="f8b57-128">Nous avons utilisé nos connaissances pour l’expérience Machine Learning Studio, ce qui a été bénéfique pour en comprendre les exigences.</span><span class="sxs-lookup"><span data-stu-id="f8b57-128">We brought much of the learning into the Machine Learning Studio experiment which ultimately was beneficial in understanding requirements.</span></span>

### <a name="create-comparable-experiment-in-azure-machine-learning"></a><span data-ttu-id="f8b57-129">Création d’une expérience comparable dans Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="f8b57-129">Create comparable experiment in Azure Machine Learning</span></span>
<span data-ttu-id="f8b57-130">Nous avons suivi ces étapes pour créer notre expérience dans Machine Learning Studio :</span><span class="sxs-lookup"><span data-stu-id="f8b57-130">We followed these steps to create our experiment in Machine Learning Studio:</span></span> 

1. <span data-ttu-id="f8b57-131">téléchargement du jeu de données dans un fichier csv vers Machine Learning Studio (très petit fichier) ;</span><span class="sxs-lookup"><span data-stu-id="f8b57-131">Uploaded the dataset as a csv file to Machine Learning Studio (very small file)</span></span>
2. <span data-ttu-id="f8b57-132">création d’une expérience et utilisation du module [Sélectionner des colonnes dans le jeu de données][select-columns] pour sélectionner les mêmes fonctionnalités de données que dans Excel ;</span><span class="sxs-lookup"><span data-stu-id="f8b57-132">Created a new experiment and used the [Select Columns in Dataset][select-columns] module to select the same data features used in Excel</span></span> 
3. <span data-ttu-id="f8b57-133">utilisation du module [Fractionner les données][split] (avec le mode *Expression relative*) pour répartir les données dans les mêmes jeux de données d’apprentissage que dans Excel ;</span><span class="sxs-lookup"><span data-stu-id="f8b57-133">Used the [Split Data][split] module (with *Relative Expression* mode) to divide the data into the same training datasets as had been done in Excel</span></span> 
4. <span data-ttu-id="f8b57-134">expériences avec le module [Régression linéaire][linear-regression] (options par défaut uniquement), documentation et comparaison des résultats à ceux de notre modèle de régression Excel.</span><span class="sxs-lookup"><span data-stu-id="f8b57-134">Experimented with the [Linear Regression][linear-regression] module (default options only), documented, and compared the results to our Excel regression model</span></span>

### <a name="review-initial-results"></a><span data-ttu-id="f8b57-135">Examen des résultats initiaux</span><span class="sxs-lookup"><span data-stu-id="f8b57-135">Review initial results</span></span>
<span data-ttu-id="f8b57-136">Dans un premier temps, le modèle Excel a clairement surpassé le modèle Machine Learning Studio :</span><span class="sxs-lookup"><span data-stu-id="f8b57-136">At first, the Excel model clearly outperformed the Machine Learning Studio model:</span></span> 

|  | <span data-ttu-id="f8b57-137">Excel</span><span class="sxs-lookup"><span data-stu-id="f8b57-137">Excel</span></span> | <span data-ttu-id="f8b57-138">Studio</span><span class="sxs-lookup"><span data-stu-id="f8b57-138">Studio</span></span> |
| --- |:---:|:---:|
| <span data-ttu-id="f8b57-139">Performances</span><span class="sxs-lookup"><span data-stu-id="f8b57-139">Performance</span></span> | | |
| <ul style="list-style-type: none;"><li><span data-ttu-id="f8b57-140">Carré R ajusté</span><span class="sxs-lookup"><span data-stu-id="f8b57-140">Adjusted R Square</span></span></li></ul> |<span data-ttu-id="f8b57-141">0,96</span><span class="sxs-lookup"><span data-stu-id="f8b57-141">0.96</span></span> |<span data-ttu-id="f8b57-142">N/A</span><span class="sxs-lookup"><span data-stu-id="f8b57-142">N/A</span></span> |
| <ul style="list-style-type: none;"><li><span data-ttu-id="f8b57-143">Coefficient de</span><span class="sxs-lookup"><span data-stu-id="f8b57-143">Coefficient of</span></span> <br /><span data-ttu-id="f8b57-144">détermination</span><span class="sxs-lookup"><span data-stu-id="f8b57-144">Determination</span></span></li></ul> |<span data-ttu-id="f8b57-145">N/A</span><span class="sxs-lookup"><span data-stu-id="f8b57-145">N/A</span></span> |<span data-ttu-id="f8b57-146">0,78</span><span class="sxs-lookup"><span data-stu-id="f8b57-146">0.78</span></span><br /><span data-ttu-id="f8b57-147">(faible précision)</span><span class="sxs-lookup"><span data-stu-id="f8b57-147">(low accuracy)</span></span> |
| <span data-ttu-id="f8b57-148">Erreur d'absolue moyenne</span><span class="sxs-lookup"><span data-stu-id="f8b57-148">Mean Absolute Error</span></span> |<span data-ttu-id="f8b57-149">9,5 M $</span><span class="sxs-lookup"><span data-stu-id="f8b57-149">$9.5M</span></span> |<span data-ttu-id="f8b57-150">19,4 M $</span><span class="sxs-lookup"><span data-stu-id="f8b57-150">$ 19.4M</span></span> |
| <span data-ttu-id="f8b57-151">Erreur d’absolue moyenne (%)</span><span class="sxs-lookup"><span data-stu-id="f8b57-151">Mean Absolute Error (%)</span></span> |<span data-ttu-id="f8b57-152">6,03 %</span><span class="sxs-lookup"><span data-stu-id="f8b57-152">6.03%</span></span> |<span data-ttu-id="f8b57-153">12,2 %</span><span class="sxs-lookup"><span data-stu-id="f8b57-153">12.2%</span></span> |

<span data-ttu-id="f8b57-154">Lorsque nous avons présenté notre processus et les résultats obtenus aux chercheurs de données et développeurs de l’équipe Machine Learning, ils ont rapidement fourni des conseils utiles.</span><span class="sxs-lookup"><span data-stu-id="f8b57-154">When we ran our process and results by the developers and data scientists on the Machine Learning team, they quickly provided some useful tips.</span></span> 

* <span data-ttu-id="f8b57-155">Lorsque vous utilisez le module [Régression linéaire][linear-regression] dans Machine Learning Studio, deux méthodes sont fournies :</span><span class="sxs-lookup"><span data-stu-id="f8b57-155">When you use the [Linear Regression][linear-regression] module in Machine Learning Studio, two methods are provided:</span></span>
  * <span data-ttu-id="f8b57-156">descente dégradée en ligne : plus adapté aux problèmes de plus grande échelle ;</span><span class="sxs-lookup"><span data-stu-id="f8b57-156">Online Gradient Descent: May be more suitable for larger-scale problems</span></span>
  * <span data-ttu-id="f8b57-157">moindres carrés ordinaires : il s’agit de la méthode qui vient à l’esprit de la plupart des personnes qui entendent « régression linéaire ».</span><span class="sxs-lookup"><span data-stu-id="f8b57-157">Ordinary Least Squares: This is the method most people think of when they hear linear regression.</span></span> <span data-ttu-id="f8b57-158">Pour les petits groupes de données, les moindres carrés ordinaires peuvent être un meilleur choix.</span><span class="sxs-lookup"><span data-stu-id="f8b57-158">For small datasets, Ordinary Least Squares can be a more optimal choice.</span></span>
* <span data-ttu-id="f8b57-159">Envisagez d’ajuster le paramètre de poids de régularisation L2 pour améliorer les performances.</span><span class="sxs-lookup"><span data-stu-id="f8b57-159">Consider tweaking the L2 Regularization Weight parameter to improve performance.</span></span> <span data-ttu-id="f8b57-160">Il est défini à 0,001 par défaut, mais pour notre petit ensemble de données, nous l’avons défini à 0,005 pour améliorer les performances.</span><span class="sxs-lookup"><span data-stu-id="f8b57-160">It is set to 0.001 by default, but for our small data set we set it to 0.005 to improve performance.</span></span> 

### <a name="mystery-solved"></a><span data-ttu-id="f8b57-161">Mystère résolu !</span><span class="sxs-lookup"><span data-stu-id="f8b57-161">Mystery solved!</span></span>
<span data-ttu-id="f8b57-162">Lorsque nous avons appliqué les recommandations, nous avons obtenu les mêmes performances de référence dans Machine Learning Studio et Excel :</span><span class="sxs-lookup"><span data-stu-id="f8b57-162">When we applied the recommendations, we achieved the same baseline performance in Machine Learning Studio as with Excel:</span></span> 

|  | <span data-ttu-id="f8b57-163">Excel</span><span class="sxs-lookup"><span data-stu-id="f8b57-163">Excel</span></span> | <span data-ttu-id="f8b57-164">Studio (Initial)</span><span class="sxs-lookup"><span data-stu-id="f8b57-164">Studio (Initial)</span></span> | <span data-ttu-id="f8b57-165">Studio avec moindres carrés</span><span class="sxs-lookup"><span data-stu-id="f8b57-165">Studio w/ Least Squares</span></span> |
| --- |:---:|:---:|:---:|
| <span data-ttu-id="f8b57-166">Valeur étiquetée</span><span class="sxs-lookup"><span data-stu-id="f8b57-166">Labeled value</span></span> |<span data-ttu-id="f8b57-167">Chiffres réels (numérique)</span><span class="sxs-lookup"><span data-stu-id="f8b57-167">Actuals (numeric)</span></span> |<span data-ttu-id="f8b57-168">identique</span><span class="sxs-lookup"><span data-stu-id="f8b57-168">same</span></span> |<span data-ttu-id="f8b57-169">identique</span><span class="sxs-lookup"><span data-stu-id="f8b57-169">same</span></span> |
| <span data-ttu-id="f8b57-170">Apprenant</span><span class="sxs-lookup"><span data-stu-id="f8b57-170">Learner</span></span> |<span data-ttu-id="f8b57-171">Excel -> Analyse des données -> Régression</span><span class="sxs-lookup"><span data-stu-id="f8b57-171">Excel -> Data Analysis -> Regression</span></span> |<span data-ttu-id="f8b57-172">Régression linéaire.</span><span class="sxs-lookup"><span data-stu-id="f8b57-172">Linear Regression.</span></span> |<span data-ttu-id="f8b57-173">régression linéaire</span><span class="sxs-lookup"><span data-stu-id="f8b57-173">Linear Regression</span></span> |
| <span data-ttu-id="f8b57-174">Options de l’apprenant</span><span class="sxs-lookup"><span data-stu-id="f8b57-174">Learner options</span></span> |<span data-ttu-id="f8b57-175">N/A</span><span class="sxs-lookup"><span data-stu-id="f8b57-175">N/A</span></span> |<span data-ttu-id="f8b57-176">Valeurs par défaut</span><span class="sxs-lookup"><span data-stu-id="f8b57-176">Defaults</span></span> |<span data-ttu-id="f8b57-177">moindres carrés ordinaires</span><span class="sxs-lookup"><span data-stu-id="f8b57-177">ordinary least squares</span></span><br /><span data-ttu-id="f8b57-178">L2 = 0,005</span><span class="sxs-lookup"><span data-stu-id="f8b57-178">L2 = 0.005</span></span> |
| <span data-ttu-id="f8b57-179">Jeu de données</span><span class="sxs-lookup"><span data-stu-id="f8b57-179">Data Set</span></span> |<span data-ttu-id="f8b57-180">26 lignes, 3 fonctionnalités, 1 étiquette.</span><span class="sxs-lookup"><span data-stu-id="f8b57-180">26 rows, 3 features, 1 label.</span></span> <span data-ttu-id="f8b57-181">Tout au format numérique.</span><span class="sxs-lookup"><span data-stu-id="f8b57-181">All numeric.</span></span> |<span data-ttu-id="f8b57-182">identique</span><span class="sxs-lookup"><span data-stu-id="f8b57-182">same</span></span> |<span data-ttu-id="f8b57-183">identique</span><span class="sxs-lookup"><span data-stu-id="f8b57-183">same</span></span> |
| <span data-ttu-id="f8b57-184">Fractionnement : Formation</span><span class="sxs-lookup"><span data-stu-id="f8b57-184">Split: Train</span></span> |<span data-ttu-id="f8b57-185">Excel a exécuté la formation sur les 18 premières lignes, et le test sur les 8 dernières lignes.</span><span class="sxs-lookup"><span data-stu-id="f8b57-185">Excel trained on the first 18 rows, tested on the last 8 rows.</span></span> |<span data-ttu-id="f8b57-186">identique</span><span class="sxs-lookup"><span data-stu-id="f8b57-186">same</span></span> |<span data-ttu-id="f8b57-187">identique</span><span class="sxs-lookup"><span data-stu-id="f8b57-187">same</span></span> |
| <span data-ttu-id="f8b57-188">Fractionnement : Test</span><span class="sxs-lookup"><span data-stu-id="f8b57-188">Split: Test</span></span> |<span data-ttu-id="f8b57-189">Formule de régression Excel appliquée aux 8 dernières lignes</span><span class="sxs-lookup"><span data-stu-id="f8b57-189">Excel regression formula applied to the last 8 rows</span></span> |<span data-ttu-id="f8b57-190">identique</span><span class="sxs-lookup"><span data-stu-id="f8b57-190">same</span></span> |<span data-ttu-id="f8b57-191">identique</span><span class="sxs-lookup"><span data-stu-id="f8b57-191">same</span></span> |
| <span data-ttu-id="f8b57-192">**Performances**</span><span class="sxs-lookup"><span data-stu-id="f8b57-192">**Performance**</span></span> | | | |
| <span data-ttu-id="f8b57-193">Carré R ajusté</span><span class="sxs-lookup"><span data-stu-id="f8b57-193">Adjusted R Square</span></span> |<span data-ttu-id="f8b57-194">0,96</span><span class="sxs-lookup"><span data-stu-id="f8b57-194">0.96</span></span> |<span data-ttu-id="f8b57-195">N/A</span><span class="sxs-lookup"><span data-stu-id="f8b57-195">N/A</span></span> | |
| <span data-ttu-id="f8b57-196">Coefficient de détermination</span><span class="sxs-lookup"><span data-stu-id="f8b57-196">Coefficient of Determination</span></span> |<span data-ttu-id="f8b57-197">N/A</span><span class="sxs-lookup"><span data-stu-id="f8b57-197">N/A</span></span> |<span data-ttu-id="f8b57-198">0,78</span><span class="sxs-lookup"><span data-stu-id="f8b57-198">0.78</span></span> |<span data-ttu-id="f8b57-199">0,952049</span><span class="sxs-lookup"><span data-stu-id="f8b57-199">0.952049</span></span> |
| <span data-ttu-id="f8b57-200">Erreur d'absolue moyenne</span><span class="sxs-lookup"><span data-stu-id="f8b57-200">Mean Absolute Error</span></span> |<span data-ttu-id="f8b57-201">9,5 M $</span><span class="sxs-lookup"><span data-stu-id="f8b57-201">$9.5M</span></span> |<span data-ttu-id="f8b57-202">19,4 M $</span><span class="sxs-lookup"><span data-stu-id="f8b57-202">$ 19.4M</span></span> |<span data-ttu-id="f8b57-203">9,5 M $</span><span class="sxs-lookup"><span data-stu-id="f8b57-203">$9.5M</span></span> |
| <span data-ttu-id="f8b57-204">Erreur d’absolue moyenne (%)</span><span class="sxs-lookup"><span data-stu-id="f8b57-204">Mean Absolute Error (%)</span></span> |<span data-ttu-id="f8b57-205"><span style="background-color: 00FF00;"> 6,03 %</span></span><span class="sxs-lookup"><span data-stu-id="f8b57-205"><span style="background-color: 00FF00;"> 6.03%</span></span></span> |<span data-ttu-id="f8b57-206">12,2 %</span><span class="sxs-lookup"><span data-stu-id="f8b57-206">12.2%</span></span> |<span data-ttu-id="f8b57-207"><span style="background-color: 00FF00;"> 6,03 %</span></span><span class="sxs-lookup"><span data-stu-id="f8b57-207"><span style="background-color: 00FF00;"> 6.03%</span></span></span> |

<span data-ttu-id="f8b57-208">En outre, les coefficients Excel ont été efficaces par rapport aux pondérations de fonctionnalités du modèle formé Azure :</span><span class="sxs-lookup"><span data-stu-id="f8b57-208">In addition, the Excel coefficients compared well to the feature weights in the Azure trained model:</span></span>

|  | <span data-ttu-id="f8b57-209">Coefficients Excel</span><span class="sxs-lookup"><span data-stu-id="f8b57-209">Excel Coefficients</span></span> | <span data-ttu-id="f8b57-210">Poids des fonctionnalités Azure</span><span class="sxs-lookup"><span data-stu-id="f8b57-210">Azure Feature Weights</span></span> |
| --- |:---:|:---:|
| <span data-ttu-id="f8b57-211">Interception/Décalage</span><span class="sxs-lookup"><span data-stu-id="f8b57-211">Intercept/Bias</span></span> |<span data-ttu-id="f8b57-212">19470209,88</span><span class="sxs-lookup"><span data-stu-id="f8b57-212">19470209.88</span></span> |<span data-ttu-id="f8b57-213">19328500</span><span class="sxs-lookup"><span data-stu-id="f8b57-213">19328500</span></span> |
| <span data-ttu-id="f8b57-214">Fonctionnalité A</span><span class="sxs-lookup"><span data-stu-id="f8b57-214">Feature A</span></span> |<span data-ttu-id="f8b57-215">0,832653063</span><span class="sxs-lookup"><span data-stu-id="f8b57-215">0.832653063</span></span> |<span data-ttu-id="f8b57-216">0,834156</span><span class="sxs-lookup"><span data-stu-id="f8b57-216">0.834156</span></span> |
| <span data-ttu-id="f8b57-217">Fonctionnalité B</span><span class="sxs-lookup"><span data-stu-id="f8b57-217">Feature B</span></span> |<span data-ttu-id="f8b57-218">11071967,08</span><span class="sxs-lookup"><span data-stu-id="f8b57-218">11071967.08</span></span> |<span data-ttu-id="f8b57-219">11007300</span><span class="sxs-lookup"><span data-stu-id="f8b57-219">11007300</span></span> |
| <span data-ttu-id="f8b57-220">Fonctionnalité C</span><span class="sxs-lookup"><span data-stu-id="f8b57-220">Feature C</span></span> |<span data-ttu-id="f8b57-221">25383318,09</span><span class="sxs-lookup"><span data-stu-id="f8b57-221">25383318.09</span></span> |<span data-ttu-id="f8b57-222">25140800</span><span class="sxs-lookup"><span data-stu-id="f8b57-222">25140800</span></span> |

## <a name="next-steps"></a><span data-ttu-id="f8b57-223">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="f8b57-223">Next Steps</span></span>
<span data-ttu-id="f8b57-224">Nous avons voulu utiliser le service web Machine Learning dans Excel.</span><span class="sxs-lookup"><span data-stu-id="f8b57-224">We wanted to consume the Machine Learning web service within Excel.</span></span> <span data-ttu-id="f8b57-225">Nos analystes commerciaux s’appuient sur Excel et nous avions besoin d’une méthode pour appeler le service web Machine Learning avec une ligne de données Excel et qu’il renvoie la valeur prédite vers Excel.</span><span class="sxs-lookup"><span data-stu-id="f8b57-225">Our business analysts rely on Excel and we needed a way to call the Machine Learning web service with a row of Excel data and have it return the predicted value to Excel.</span></span> 

<span data-ttu-id="f8b57-226">Nous souhaitions également optimiser notre modèle, à l’aide des options et des algorithmes disponibles dans Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="f8b57-226">We also wanted to optimize our model, using the options and algorithms available in Machine Learning Studio.</span></span>

### <a name="integration-with-excel"></a><span data-ttu-id="f8b57-227">Intégration à Excel</span><span class="sxs-lookup"><span data-stu-id="f8b57-227">Integration with Excel</span></span>
<span data-ttu-id="f8b57-228">Notre solution était de faire fonctionner notre modèle de régression Machine Learning en créant un service web à partir du modèle formé.</span><span class="sxs-lookup"><span data-stu-id="f8b57-228">Our solution was to operationalize our Machine Learning regression model by creating a web service from the trained model.</span></span> <span data-ttu-id="f8b57-229">En quelques minutes, le service Web a été créé et nous avons pu l’appeler directement à partir d’Excel pour retourner une valeur de recettes prédites.</span><span class="sxs-lookup"><span data-stu-id="f8b57-229">Within a few minutes, the web service was created and we could call it directly from Excel to return a predicted revenue value.</span></span> 

<span data-ttu-id="f8b57-230">La section *tableau de bord des services Web* comprend un classeur Excel à télécharger.</span><span class="sxs-lookup"><span data-stu-id="f8b57-230">The *Web Services Dashboard* section includes a downloadable Excel workbook.</span></span> <span data-ttu-id="f8b57-231">Le classeur est déjà mis en forme avec les informations de schéma et l’API de service Web.</span><span class="sxs-lookup"><span data-stu-id="f8b57-231">The workbook comes pre-formatted with the web service API and schema information embedded.</span></span> <span data-ttu-id="f8b57-232">Lorsque vous cliquez sur *Télécharger un classeur Excel*, il s’ouvre et vous pouvez l’enregistrer sur votre ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="f8b57-232">When you click *Download Excel Workbook*, the workbook opens and you can save it to your local computer.</span></span> 

![][1]

<span data-ttu-id="f8b57-233">Avec le classeur ouvert, copiez vos paramètres prédéfinis dans la section de paramètres bleue comme illustré ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="f8b57-233">With the workbook open, copy your predefined parameters into the blue Parameter section as shown below.</span></span> <span data-ttu-id="f8b57-234">Une fois les paramètres saisis, Excel appelle le service web Machine Learning et les étiquettes notées prédites s’affichent dans la section Valeurs prédites verte.</span><span class="sxs-lookup"><span data-stu-id="f8b57-234">Once the parameters are entered, Excel calls out to the Machine Learning web service and the predicted scored labels will display in the green Predicted Values section.</span></span> <span data-ttu-id="f8b57-235">Le classeur continue à créer des prédictions pour les paramètres en fonction de votre modèle formé pour tous les éléments de ligne saisis sous Paramètres.</span><span class="sxs-lookup"><span data-stu-id="f8b57-235">The workbook will continue to create predictions for parameters based on your trained model for all row items entered under Parameters.</span></span> <span data-ttu-id="f8b57-236">Pour plus d’informations sur l’utilisation de cette fonctionnalité, consultez [Utilisation d’un service Web Microsoft Azure Machine Learning à partir de Microsoft Excel](machine-learning-consuming-from-excel.md).</span><span class="sxs-lookup"><span data-stu-id="f8b57-236">For more information on how to use this feature, see [Consuming an Azure Machine Learning Web Service from Excel](machine-learning-consuming-from-excel.md).</span></span> 

![][2]

### <a name="optimization-and-further-experiments"></a><span data-ttu-id="f8b57-237">Optimisation et autres expériences</span><span class="sxs-lookup"><span data-stu-id="f8b57-237">Optimization and further experiments</span></span>
<span data-ttu-id="f8b57-238">Maintenant que nous disposions d’une référence avec notre modèle Excel, nous sommes passés à l’optimisation de notre modèle de régression linéaire Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="f8b57-238">Now that we had a baseline with our Excel model, we moved ahead to optimize our Machine Learning Linear Regression Model.</span></span> <span data-ttu-id="f8b57-239">Nous avons utilisé le module [Sélection de caractéristiques par filtrage][filter-based-feature-selection] afin d’améliorer notre sélection des éléments de données initiaux. Cela nous a permis d’améliorer les performances de 4,6 % pour l’erreur d’absolue moyenne.</span><span class="sxs-lookup"><span data-stu-id="f8b57-239">We used the module [Filter-Based Feature Selection][filter-based-feature-selection] to improve on our selection of initial data elements and it helped us achieve a performance improvement of 4.6% Mean Absolute Error.</span></span> <span data-ttu-id="f8b57-240">Pour les projets à venir, nous utiliserons cette fonctionnalité qui pourrait nous éviter des semaines d’itération des attributs de données afin de trouver le jeu de fonctionnalités approprié pour la modélisation.</span><span class="sxs-lookup"><span data-stu-id="f8b57-240">For future projects we will use this feature which could save us weeks in iterating through data attributes to find the right set of features to use for modelling.</span></span> 

<span data-ttu-id="f8b57-241">Ensuite, nous prévoyons d’inclure des algorithmes supplémentaires comme les méthodes [bayésiennes][bayesian-linear-regression] ou les [arbres de décision optimisés][boosted-decision-tree-regression] dans notre expérience afin d’en comparer les performances.</span><span class="sxs-lookup"><span data-stu-id="f8b57-241">Next we plan to include additional algorithms like [Bayesian][bayesian-linear-regression] or [Boosted Decision Trees][boosted-decision-tree-regression] in our experiment to compare performance.</span></span> 

<span data-ttu-id="f8b57-242">Si vous souhaitez expérimenter la régression, un bon jeu de données d’essai est l’exemple de jeu de données de régression d’efficacité énergétique, qui comporte un grand nombre d’attributs numériques.</span><span class="sxs-lookup"><span data-stu-id="f8b57-242">If you want to experiment with regression, a good dataset to try is the Energy Efficiency Regression sample dataset, which has lots of numerical attributes.</span></span> <span data-ttu-id="f8b57-243">Le jeu de données est fourni dans le cadre des exemples de jeux de données de Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="f8b57-243">The dataset is provided as part of the sample datasets in Machine Learning Studio.</span></span> <span data-ttu-id="f8b57-244">Vous pouvez utiliser de nombreux modules d’apprentissage pour prédire la charge de chauffe ou de refroidissement.</span><span class="sxs-lookup"><span data-stu-id="f8b57-244">You can use a variety of learning modules to predict either Heating Load or Cooling Load.</span></span> <span data-ttu-id="f8b57-245">Le tableau ci-dessous est une comparaison des différents apprentissages de régression à l’aide du jeu de données d’efficacité énergétique, afin de prédire la charge de refroidissement variable cible :</span><span class="sxs-lookup"><span data-stu-id="f8b57-245">The chart below is a performance comparison of different regression learns against the Energy Efficiency dataset predicting for the target variable Cooling Load:</span></span> 

| <span data-ttu-id="f8b57-246">Modèle</span><span class="sxs-lookup"><span data-stu-id="f8b57-246">Model</span></span> | <span data-ttu-id="f8b57-247">Erreur d'absolue moyenne</span><span class="sxs-lookup"><span data-stu-id="f8b57-247">Mean Absolute Error</span></span> | <span data-ttu-id="f8b57-248">Erreur du carré moyen racine</span><span class="sxs-lookup"><span data-stu-id="f8b57-248">Root Mean Squared Error</span></span> | <span data-ttu-id="f8b57-249">Erreur d’absolue relative</span><span class="sxs-lookup"><span data-stu-id="f8b57-249">Relative Absolute Error</span></span> | <span data-ttu-id="f8b57-250">Erreur carrée relative</span><span class="sxs-lookup"><span data-stu-id="f8b57-250">Relative Squared Error</span></span> | <span data-ttu-id="f8b57-251">Coefficient de détermination</span><span class="sxs-lookup"><span data-stu-id="f8b57-251">Coefficient of Determination</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="f8b57-252">Arbre de décision optimisé</span><span class="sxs-lookup"><span data-stu-id="f8b57-252">Boosted Decision Tree</span></span> |<span data-ttu-id="f8b57-253">0,930113</span><span class="sxs-lookup"><span data-stu-id="f8b57-253">0.930113</span></span> |<span data-ttu-id="f8b57-254">1,4239</span><span class="sxs-lookup"><span data-stu-id="f8b57-254">1.4239</span></span> |<span data-ttu-id="f8b57-255">0,106647</span><span class="sxs-lookup"><span data-stu-id="f8b57-255">0.106647</span></span> |<span data-ttu-id="f8b57-256">0,021662</span><span class="sxs-lookup"><span data-stu-id="f8b57-256">0.021662</span></span> |<span data-ttu-id="f8b57-257">0,978338</span><span class="sxs-lookup"><span data-stu-id="f8b57-257">0.978338</span></span> |
| <span data-ttu-id="f8b57-258">Régression linéaire (descente dégradée)</span><span class="sxs-lookup"><span data-stu-id="f8b57-258">Linear Regression (Gradient Descent)</span></span> |<span data-ttu-id="f8b57-259">2,035693</span><span class="sxs-lookup"><span data-stu-id="f8b57-259">2.035693</span></span> |<span data-ttu-id="f8b57-260">2,98006</span><span class="sxs-lookup"><span data-stu-id="f8b57-260">2.98006</span></span> |<span data-ttu-id="f8b57-261">0,233414</span><span class="sxs-lookup"><span data-stu-id="f8b57-261">0.233414</span></span> |<span data-ttu-id="f8b57-262">0,094881</span><span class="sxs-lookup"><span data-stu-id="f8b57-262">0.094881</span></span> |<span data-ttu-id="f8b57-263">0,905119</span><span class="sxs-lookup"><span data-stu-id="f8b57-263">0.905119</span></span> |
| <span data-ttu-id="f8b57-264">Régression de réseau neuronal</span><span class="sxs-lookup"><span data-stu-id="f8b57-264">Neural Network Regression</span></span> |<span data-ttu-id="f8b57-265">1,548195</span><span class="sxs-lookup"><span data-stu-id="f8b57-265">1.548195</span></span> |<span data-ttu-id="f8b57-266">2,114617</span><span class="sxs-lookup"><span data-stu-id="f8b57-266">2.114617</span></span> |<span data-ttu-id="f8b57-267">0,177517</span><span class="sxs-lookup"><span data-stu-id="f8b57-267">0.177517</span></span> |<span data-ttu-id="f8b57-268">0,047774</span><span class="sxs-lookup"><span data-stu-id="f8b57-268">0.047774</span></span> |<span data-ttu-id="f8b57-269">0,952226</span><span class="sxs-lookup"><span data-stu-id="f8b57-269">0.952226</span></span> |
| <span data-ttu-id="f8b57-270">Régression linéaire (moindres carrés ordinaires)</span><span class="sxs-lookup"><span data-stu-id="f8b57-270">Linear Regression (Ordinary Least Squares)</span></span> |<span data-ttu-id="f8b57-271">1,428273</span><span class="sxs-lookup"><span data-stu-id="f8b57-271">1.428273</span></span> |<span data-ttu-id="f8b57-272">1,984461</span><span class="sxs-lookup"><span data-stu-id="f8b57-272">1.984461</span></span> |<span data-ttu-id="f8b57-273">0,163767</span><span class="sxs-lookup"><span data-stu-id="f8b57-273">0.163767</span></span> |<span data-ttu-id="f8b57-274">0,042074</span><span class="sxs-lookup"><span data-stu-id="f8b57-274">0.042074</span></span> |<span data-ttu-id="f8b57-275">0,957926</span><span class="sxs-lookup"><span data-stu-id="f8b57-275">0.957926</span></span> |

## <a name="key-takeaways"></a><span data-ttu-id="f8b57-276">Points clés</span><span class="sxs-lookup"><span data-stu-id="f8b57-276">Key Takeaways</span></span>
<span data-ttu-id="f8b57-277">Nous avons beaucoup appris en exécutant la régression Excel et les expériences Azure Machine Learning en parallèle.</span><span class="sxs-lookup"><span data-stu-id="f8b57-277">We learned a lot by from running Excel regression and Azure Machine Learning experiments in parallel.</span></span> <span data-ttu-id="f8b57-278">La création du modèle de référence dans Excel et sa comparaison aux modèles utilisant la [régression linéaire][linear-regression] de Machine Learning nous a aidés à découvrir Azure Machine Learning. Nous avons découvert des possibilités d’amélioration des performances du modèle et de sélection des données.</span><span class="sxs-lookup"><span data-stu-id="f8b57-278">Creating the baseline model in Excel and comparing it to models using Machine Learning [Linear Regression][linear-regression] helped us learn Azure Machine Learning, and we discovered opportunities to improve data selection and model performance.</span></span> 

<span data-ttu-id="f8b57-279">Nous avons également découvert qu’il était recommandé d’utiliser la [sélection de caractéristiques par filtrage][filter-based-feature-selection] pour accélérer les projets de prédictions.</span><span class="sxs-lookup"><span data-stu-id="f8b57-279">We also found that it is advisable to use [Filter-Based Feature Selection][filter-based-feature-selection] to accelerate future prediction projects.</span></span> <span data-ttu-id="f8b57-280">En appliquant la sélection des caractéristiques à vos données, vous pouvez créer un modèle amélioré dans Machine Learning, avec de meilleures performances globales.</span><span class="sxs-lookup"><span data-stu-id="f8b57-280">By applying feature selection to your data, you can create an improved model in Machine Learning with better overall performance.</span></span> 

<span data-ttu-id="f8b57-281">La capacité de transférer des analyses prévisionnelles à partir de Machine Learning vers Excel permet une augmentation considérable de la capacité à fournir efficacement des résultats à un vaste public d’utilisateurs professionnels.</span><span class="sxs-lookup"><span data-stu-id="f8b57-281">The ability to transfer the predictive analytic forecasting from Machine Learning to Excel systemically allows a significant increase in the ability to successfully provide results to a broad business user audience.</span></span> 

## <a name="resources"></a><span data-ttu-id="f8b57-282">les ressources</span><span class="sxs-lookup"><span data-stu-id="f8b57-282">Resources</span></span>
<span data-ttu-id="f8b57-283">Voici des ressources pour vous aider à utiliser la régression :</span><span class="sxs-lookup"><span data-stu-id="f8b57-283">Here are some resources for helping you work with regression:</span></span> 

* <span data-ttu-id="f8b57-284">Régression dans Excel.</span><span class="sxs-lookup"><span data-stu-id="f8b57-284">Regression in Excel.</span></span> <span data-ttu-id="f8b57-285">Si vous n’avez jamais essayé la régression dans Excel, ce didacticiel vous aidera beaucoup : [http://www.excel-easy.com/examples/regression.html](http://www.excel-easy.com/examples/regression.html)</span><span class="sxs-lookup"><span data-stu-id="f8b57-285">If you’ve never tried regression in Excel, this tutorial makes it easy: [http://www.excel-easy.com/examples/regression.html](http://www.excel-easy.com/examples/regression.html)</span></span>
* <span data-ttu-id="f8b57-286">Régression et prévisions.</span><span class="sxs-lookup"><span data-stu-id="f8b57-286">Regression vs forecasting.</span></span> <span data-ttu-id="f8b57-287">Tyler Chessman a écrit un article de blog expliquant comment effectuer des prévisions de série chronologique dans Excel, qui contient une excellente description de la régression linéaire pour les débutants.</span><span class="sxs-lookup"><span data-stu-id="f8b57-287">Tyler Chessman wrote a blog article explaining how to do time series forecasting in Excel, which contains a good beginner’s description of linear regression.</span></span> [<span data-ttu-id="f8b57-288">http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts</span><span class="sxs-lookup"><span data-stu-id="f8b57-288">http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts</span></span>](http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts) 
* <span data-ttu-id="f8b57-289">Régression linéaire et moindres carrés ordinaires : défauts, problèmes et pièges.</span><span class="sxs-lookup"><span data-stu-id="f8b57-289">Ordinary Least Squares Linear Regression: Flaws, Problems and Pitfalls.</span></span> <span data-ttu-id="f8b57-290">Pour une introduction et une discussion relatives à la régression : [http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/ ](http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/)</span><span class="sxs-lookup"><span data-stu-id="f8b57-290">For an introduction and discussion of Regression: [http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/ ](http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/)</span></span>

[1]: ./media/machine-learning-linear-regression-in-azure/machine-learning-linear-regression-in-azure-1.png
[2]: ./media/machine-learning-linear-regression-in-azure/machine-learning-linear-regression-in-azure-2.png


<!-- Module References -->
[bayesian-linear-regression]: https://msdn.microsoft.com/library/azure/ee12de50-2b34-4145-aec0-23e0485da308/
[boosted-decision-tree-regression]: https://msdn.microsoft.com/library/azure/0207d252-6c41-4c77-84c3-73bdf1ac5960/
[filter-based-feature-selection]: https://msdn.microsoft.com/library/azure/918b356b-045c-412b-aa12-94a1d2dad90f/
[linear-regression]: https://msdn.microsoft.com/library/azure/31960a6f-789b-4cf7-88d6-2e1152c0bd1a/
[select-columns]: https://msdn.microsoft.com/library/azure/1ec722fa-b623-4e26-a44e-a50c6d726223/
[split]: https://msdn.microsoft.com/library/azure/70530644-c97a-4ab6-85f7-88bf30a8be5f/

