---
title: "tooor de données aaaMove à partir du stockage d’objets Blob Azure à l’aide de connecteurs SSIS | Documents Microsoft"
description: "Déplacer les données tooor à partir du stockage d’objets Blob Azure à l’aide de connecteurs SSIS."
services: machine-learning,storage
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 96a1b5fb-34d1-4b9b-8d99-2bb8289e0398
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/24/2017
ms.author: bradsev
ms.openlocfilehash: 15068af1c69f11e74e109ee5ae2b9f1a674ea388
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="move-data-tooor-from-azure-blob-storage-using-ssis-connectors"></a><span data-ttu-id="cc9cd-103">Déplacer les données tooor de stockage d’objets Blob Azure à l’aide de connecteurs SSIS</span><span class="sxs-lookup"><span data-stu-id="cc9cd-103">Move data tooor from Azure Blob Storage using SSIS connectors</span></span>
<span data-ttu-id="cc9cd-104">Hello [SQL Server Integration Services Feature Pack pour Azure](https://msdn.microsoft.com/library/mt146770.aspx) fournit des composants tooconnect tooAzure, transférer des données entre des sources de données Azure et locales et traiter les données stockées dans Azure.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-104">hello [SQL Server Integration Services Feature Pack for Azure](https://msdn.microsoft.com/library/mt146770.aspx) provides components tooconnect tooAzure, transfer data between Azure and on-premises data sources, and process data stored in Azure.</span></span>

[!INCLUDE [blob-storage-tool-selector](../../includes/machine-learning-blob-storage-tool-selector.md)]

<span data-ttu-id="cc9cd-105">Une fois que les clients ont déplacé des données locales dans le cloud de hello, ils peuvent y accéder à partir de n’importe quel service Azure tooleverage hello toute la puissance de la suite de hello de technologies Azure.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-105">Once customers have moved on-premises data into hello cloud, they can access it from any Azure service tooleverage hello full power of hello suite of Azure technologies.</span></span> <span data-ttu-id="cc9cd-106">Il peut être utilisé, par exemple, dans Machine Learning ou sur un cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-106">It may be used, for example, in Azure Machine Learning or on an HDInsight cluster.</span></span>

<span data-ttu-id="cc9cd-107">Il s’agit généralement être la première étape de hello pour hello [SQL](machine-learning-data-science-process-sql-walkthrough.md) et [HDInsight](machine-learning-data-science-process-hive-walkthrough.md) procédures pas à pas.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-107">This is typically be hello first step for hello [SQL](machine-learning-data-science-process-sql-walkthrough.md) and [HDInsight](machine-learning-data-science-process-hive-walkthrough.md) walkthroughs.</span></span>

<span data-ttu-id="cc9cd-108">Pour en savoir plus sur les scénarios canoniques qui utiliser SSIS tooaccomplish entreprise doit communes dans les scénarios d’intégration hybride données, consultez [faire plus avec SQL Server Integration Services Feature Pack pour Azure](http://blogs.msdn.com/b/ssis/archive/2015/06/25/doing-more-with-sql-server-integration-services-feature-pack-for-azure.aspx) blog.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-108">For a discussion of canonical scenarios that use SSIS tooaccomplish business needs common in hybrid data integration scenarios, see [Doing more with SQL Server Integration Services Feature Pack for Azure](http://blogs.msdn.com/b/ssis/archive/2015/06/25/doing-more-with-sql-server-integration-services-feature-pack-for-azure.aspx) blog.</span></span>

> [!NOTE]
> <span data-ttu-id="cc9cd-109">Pour un stockage d’objets blob tooAzure présentation complète, consultez trop[principes de base Azure Blob](../storage/blobs/storage-dotnet-how-to-use-blobs.md) et trop[Service d’objets Blob Azure](https://msdn.microsoft.com/library/azure/dd179376.aspx).</span><span class="sxs-lookup"><span data-stu-id="cc9cd-109">For a complete introduction tooAzure blob storage, refer too[Azure Blob Basics](../storage/blobs/storage-dotnet-how-to-use-blobs.md) and too[Azure Blob Service](https://msdn.microsoft.com/library/azure/dd179376.aspx).</span></span>
> 
> 

## <a name="prerequisites"></a><span data-ttu-id="cc9cd-110">Composants requis</span><span class="sxs-lookup"><span data-stu-id="cc9cd-110">Prerequisites</span></span>
<span data-ttu-id="cc9cd-111">tâches de hello tooperform décrit dans cet article, vous devez disposer un abonnement Azure et configurer un compte de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-111">tooperform hello tasks described in this article, you must have an Azure subscription and an Azure storage account set up.</span></span> <span data-ttu-id="cc9cd-112">Vous devez connaître votre stockage Azure compte compte et le nom de clé tooupload ou télécharger des données.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-112">You must know your Azure storage account name and account key tooupload or download data.</span></span>

* <span data-ttu-id="cc9cd-113">tooset d’un **abonnement Azure**, consultez [version d’évaluation d’un mois gratuite](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="cc9cd-113">tooset up an **Azure subscription**, see [Free one-month trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="cc9cd-114">Pour obtenir des instructions sur la création d’ **un compte de stockage** et obtenir des informations sur le compte et la clé, consultez la section [À propos des comptes de stockage Azure](../storage/common/storage-create-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="cc9cd-114">For instructions on creating a **storage account** and for getting account and key information, see [About Azure storage accounts](../storage/common/storage-create-storage-account.md).</span></span>

<span data-ttu-id="cc9cd-115">toouse hello **connecteurs SSIS**, vous devez télécharger :</span><span class="sxs-lookup"><span data-stu-id="cc9cd-115">toouse hello **SSIS connectors**, you must download:</span></span>

* <span data-ttu-id="cc9cd-116">**SQL Server 2014 ou 2016 Standard (ou version ultérieure)**: l’installation inclut SQL Server Integration Services.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-116">**SQL Server 2014 or 2016 Standard (or above)**: Install includes SQL Server Integration Services.</span></span>
* <span data-ttu-id="cc9cd-117">**Microsoft SQL Server 2014 ou 2016 Integration Services Feature Pack pour Azure**: ils peuvent être téléchargés, respectivement, à partir de hello [SQL Server 2014 Integration Services](http://www.microsoft.com/download/details.aspx?id=47366) et [intégration de SQL Server 2016 Services](https://www.microsoft.com/download/details.aspx?id=49492) pages.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-117">**Microsoft SQL Server 2014 or 2016 Integration Services Feature Pack for Azure**: These can be downloaded, respectively, from hello [SQL Server 2014 Integration Services](http://www.microsoft.com/download/details.aspx?id=47366) and [SQL Server 2016 Integration Services](https://www.microsoft.com/download/details.aspx?id=49492) pages.</span></span>

> [!NOTE]
> <span data-ttu-id="cc9cd-118">SSIS est installé avec SQL Server, mais n’est pas inclus dans la version Express hello.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-118">SSIS is installed with SQL Server, but is not included in hello Express version.</span></span> <span data-ttu-id="cc9cd-119">Pour plus d'informations sur les applications incluses dans les différentes éditions de SQL Server, consultez [Éditions de SQL Server](http://www.microsoft.com/en-us/server-cloud/products/sql-server-editions/)</span><span class="sxs-lookup"><span data-stu-id="cc9cd-119">For information on what applications are included in various editions of SQL Server, see [SQL Server Editions](http://www.microsoft.com/en-us/server-cloud/products/sql-server-editions/)</span></span>
> 
> 

<span data-ttu-id="cc9cd-120">Pour les supports de formation sur SSIS, consultez la [formation pratique SSIS](http://www.microsoft.com/download/details.aspx?id=20766)</span><span class="sxs-lookup"><span data-stu-id="cc9cd-120">For training materials on SSIS, see [Hands On Training for SSIS](http://www.microsoft.com/download/details.aspx?id=20766)</span></span>

<span data-ttu-id="cc9cd-121">Pour plus d’informations sur la façon de tooget à distance à l’exécution à l’aide de SISS toobuild simple extraction, transformation et les packages de chargement (ETL), consultez [didacticiel SSIS : création d’un Package ETL Simple](https://msdn.microsoft.com/library/ms169917.aspx).</span><span class="sxs-lookup"><span data-stu-id="cc9cd-121">For information on how tooget up-and-running using SISS toobuild simple extraction, transformation, and load (ETL) packages, see [SSIS Tutorial: Creating a Simple ETL Package](https://msdn.microsoft.com/library/ms169917.aspx).</span></span>

## <a name="download-nyc-taxi-dataset"></a><span data-ttu-id="cc9cd-122">Télécharger l’ensemble de données Taxi NYC</span><span class="sxs-lookup"><span data-stu-id="cc9cd-122">Download NYC Taxi dataset</span></span>
<span data-ttu-id="cc9cd-123">Hello exemple décrit ici utiliser un jeu de données disponible publiquement--hello [NYC Taxi allers-retours](http://www.andresmh.com/nyctaxitrips/) jeu de données.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-123">hello example described here use a publicly available dataset -- hello [NYC Taxi Trips](http://www.andresmh.com/nyctaxitrips/) dataset.</span></span> <span data-ttu-id="cc9cd-124">Hello dataset se compose des trajets de taxi environ 173 millions dans NYC dans l’année hello 2013.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-124">hello dataset consists of about 173 million taxi rides in NYC in hello year 2013.</span></span> <span data-ttu-id="cc9cd-125">Il existe deux types de données : les données détaillées relatives aux voyages et celles relatives aux tarifs des courses.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-125">There are two types of data: trip details data and fare data.</span></span> <span data-ttu-id="cc9cd-126">Comme il existe un fichier par élément pour chaque mois, nous avons 24 fichiers, chacun d’eux d’un volume de 2 Go avant compression.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-126">As there is a file for each month, we have 24 files in all, each of which is approximately 2GB uncompressed.</span></span>

## <a name="upload-data-tooazure-blob-storage"></a><span data-ttu-id="cc9cd-127">Télécharger le stockage d’objets blob de données tooAzure</span><span class="sxs-lookup"><span data-stu-id="cc9cd-127">Upload data tooAzure blob storage</span></span>
<span data-ttu-id="cc9cd-128">données toomove à l’aide de hello SSIS du feature pack à partir du stockage d’objets blob tooAzure local, nous utilisons une instance de hello [ **tâche de chargement d’objets Blob Azure**](https://msdn.microsoft.com/library/mt146776.aspx), illustrée ici :</span><span class="sxs-lookup"><span data-stu-id="cc9cd-128">toomove data using hello SSIS feature pack from on-premises tooAzure blob storage, we use an instance of hello [**Azure Blob Upload Task**](https://msdn.microsoft.com/library/mt146776.aspx), shown here:</span></span>

![configure-data-science-vm](./media/machine-learning-data-science-move-data-to-azure-blob-using-ssis/ssis-azure-blob-upload-task.png)

<span data-ttu-id="cc9cd-130">paramètres Hello hello utilise des tâches sont décrites ici :</span><span class="sxs-lookup"><span data-stu-id="cc9cd-130">hello parameters that hello task uses are described here:</span></span>

| <span data-ttu-id="cc9cd-131">Champ</span><span class="sxs-lookup"><span data-stu-id="cc9cd-131">Field</span></span> | <span data-ttu-id="cc9cd-132">Description</span><span class="sxs-lookup"><span data-stu-id="cc9cd-132">Description</span></span> |
| --- | --- |
| <span data-ttu-id="cc9cd-133">**AzureStorageConnection**</span><span class="sxs-lookup"><span data-stu-id="cc9cd-133">**AzureStorageConnection**</span></span> |<span data-ttu-id="cc9cd-134">Spécifie un gestionnaire de connexions de stockage Azure existant ou crée un nouveau qui fait référence le compte de stockage Azure tooan qui pointe de fichiers d’objets blob toowhere hello sont hébergés.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-134">Specifies an existing Azure Storage Connection Manager or creates a new one that refers tooan Azure storage account that points toowhere hello blob files are hosted.</span></span> |
| <span data-ttu-id="cc9cd-135">**BlobContainer**</span><span class="sxs-lookup"><span data-stu-id="cc9cd-135">**BlobContainer**</span></span> |<span data-ttu-id="cc9cd-136">Spécifie le nom hello du conteneur d’objets blob hello qui contiennent les fichiers hello téléchargé comme objet BLOB.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-136">Specifies hello name of hello blob container that hold hello uploaded files as blobs.</span></span> |
| <span data-ttu-id="cc9cd-137">**BlobDirectory**</span><span class="sxs-lookup"><span data-stu-id="cc9cd-137">**BlobDirectory**</span></span> |<span data-ttu-id="cc9cd-138">Spécifie le répertoire d’objets blob hello où hello du fichier téléchargé est stocké en tant qu’objet blob de blocs.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-138">Specifies hello blob directory where hello uploaded file is stored as a block blob.</span></span> <span data-ttu-id="cc9cd-139">répertoire d’objets blob Hello est une structure hiérarchique virtuelle.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-139">hello blob directory is a virtual hierarchical structure.</span></span> <span data-ttu-id="cc9cd-140">Si l’objet blob de hello existe déjà, il a ia remplacé.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-140">If hello blob already exists, it ia replaced.</span></span> |
| <span data-ttu-id="cc9cd-141">**LocalDirectory**</span><span class="sxs-lookup"><span data-stu-id="cc9cd-141">**LocalDirectory**</span></span> |<span data-ttu-id="cc9cd-142">Spécifie le répertoire local hello contenant hello toobe de fichiers téléchargé.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-142">Specifies hello local directory that contains hello files toobe uploaded.</span></span> |
| <span data-ttu-id="cc9cd-143">**FileName**</span><span class="sxs-lookup"><span data-stu-id="cc9cd-143">**FileName**</span></span> |<span data-ttu-id="cc9cd-144">Spécifie un nom filtrer tooselect les fichiers avec le modèle de nom spécifié hello.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-144">Specifies a name filter tooselect files with hello specified name pattern.</span></span> <span data-ttu-id="cc9cd-145">Par exemple, MySheet\*.xls\* inclut des fichiers tels que MySheet001.xls et MySheetABC.xlsx</span><span class="sxs-lookup"><span data-stu-id="cc9cd-145">For example, MySheet\*.xls\* includes files such as MySheet001.xls and MySheetABC.xlsx</span></span> |
| <span data-ttu-id="cc9cd-146">**TimeRangeFrom/TimeRangeTo**</span><span class="sxs-lookup"><span data-stu-id="cc9cd-146">**TimeRangeFrom/TimeRangeTo**</span></span> |<span data-ttu-id="cc9cd-147">Spécifie une plage de temps pour appliquer un filtre.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-147">Specifies a time range filter.</span></span> <span data-ttu-id="cc9cd-148">Les fichiers modifiés après *TimeRangeFrom* et avant *TimeRangeTo* sont inclus.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-148">Files modified after *TimeRangeFrom* and before *TimeRangeTo* are included.</span></span> |

> [!NOTE]
> <span data-ttu-id="cc9cd-149">Hello **AzureStorageConnection** informations d’identification doivent toobe correct et hello **BlobContainer** doit exister avant la tentative de transfert de hello.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-149">hello **AzureStorageConnection** credentials need toobe correct and hello **BlobContainer** must exist before hello transfer is attempted.</span></span>
> 
> 

## <a name="download-data-from-azure-blob-storage"></a><span data-ttu-id="cc9cd-150">Télécharger les données depuis le stockage d’objets blobs Azure</span><span class="sxs-lookup"><span data-stu-id="cc9cd-150">Download data from Azure blob storage</span></span>
<span data-ttu-id="cc9cd-151">données toodownload à partir d’objets blob Azure tooon local de stockage avec SSIS, utilisez une instance de hello [tâche de chargement d’objets Blob Azure](https://msdn.microsoft.com/library/mt146779.aspx).</span><span class="sxs-lookup"><span data-stu-id="cc9cd-151">toodownload data from Azure blob storage tooon-premises storage with SSIS, use an instance of hello [Azure Blob Upload Task](https://msdn.microsoft.com/library/mt146779.aspx).</span></span>

## <a name="more-advanced-ssis-azure-scenarios"></a><span data-ttu-id="cc9cd-152">Scénarios SSIS-Azure plus élaborés</span><span class="sxs-lookup"><span data-stu-id="cc9cd-152">More advanced SSIS-Azure scenarios</span></span>
<span data-ttu-id="cc9cd-153">pack de fonctionnalités Hello SSIS permet plus complexe toobe flux géré par les tâches d’empaquetage ensemble.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-153">hello SSIS feature pack allows for more complex flows toobe handled by packaging tasks together.</span></span> <span data-ttu-id="cc9cd-154">Par exemple, hello blob pourraient de flux de données directement dans un cluster HDInsight, dont la sortie peut être téléchargée tooa arrière blob et stockage local tooon.</span><span class="sxs-lookup"><span data-stu-id="cc9cd-154">For example, hello blob data could feed directly into an HDInsight cluster, whose output could be downloaded back tooa blob and then tooon-premises storage.</span></span> <span data-ttu-id="cc9cd-155">SSIS peut exécuter des tâches Hive et Pig sur un cluster HDInsight à l’aide de connecteurs SSIS supplémentaires :</span><span class="sxs-lookup"><span data-stu-id="cc9cd-155">SSIS can run Hive and Pig jobs on an HDInsight cluster using additional SSIS connectors:</span></span>

* <span data-ttu-id="cc9cd-156">toorun du cluster avec SSIS, utilisez un script Hive sur un Azure HDInsight [tâche Hive](https://msdn.microsoft.com/library/mt146771.aspx).</span><span class="sxs-lookup"><span data-stu-id="cc9cd-156">toorun a Hive script on an Azure HDInsight cluster with SSIS, use [Azure HDInsight Hive Task](https://msdn.microsoft.com/library/mt146771.aspx).</span></span>
* <span data-ttu-id="cc9cd-157">toorun du cluster avec SSIS, utilisez un script Pig sur un Azure HDInsight [tâche Pig Azure HDInsight](https://msdn.microsoft.com/library/mt146781.aspx).</span><span class="sxs-lookup"><span data-stu-id="cc9cd-157">toorun a Pig script on an Azure HDInsight cluster with SSIS, use [Azure HDInsight Pig Task](https://msdn.microsoft.com/library/mt146781.aspx).</span></span>

