---
title: scripts apprentissage Python automatique aaaExecute | Documents Microsoft
description: "Décrit les principes de conception sous-jacents de la prise en charge des scripts Python dans Azure Machine Learning, les scénarios d’utilisation, les fonctionnalités et les restrictions de base."
keywords: "apprentissage automatique Python, pandas, pandas de python, scripts python, exécuter des scripts python"
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: ee9eb764-0d3e-4104-a797-19fc29345d39
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/26/2017
ms.author: bradsev
ms.openlocfilehash: 8d23aaa972a46cb1a07ea0f18cc1e24933fe3e6f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="execute-python-machine-learning-scripts-in-azure-machine-learning-studio"></a><span data-ttu-id="1ce40-104">Exécution des scripts d’apprentissage automatique Python dans Azure Machine Learning Studio</span><span class="sxs-lookup"><span data-stu-id="1ce40-104">Execute Python machine learning scripts in Azure Machine Learning Studio</span></span>

<span data-ttu-id="1ce40-105">Cette rubrique décrit les principes de conception hello sous-jacent hello prise en charge actuelle scripts Python dans Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="1ce40-105">This topic describes hello design principles underlying hello current support for Python scripts in Azure Machine Learning.</span></span> <span data-ttu-id="1ce40-106">principales fonctionnalités Hello sont également présentées, y compris :</span><span class="sxs-lookup"><span data-stu-id="1ce40-106">hello main capabilities provided are also outlined, including:</span></span>

- <span data-ttu-id="1ce40-107">Exécution de scénarios d’usage de base</span><span class="sxs-lookup"><span data-stu-id="1ce40-107">execute basic usage scenarios</span></span>
- <span data-ttu-id="1ce40-108">Notation d’une expérience dans un service web</span><span class="sxs-lookup"><span data-stu-id="1ce40-108">score an experiment in a web service</span></span>
- <span data-ttu-id="1ce40-109">Prise en charge de l’importation de code existant</span><span class="sxs-lookup"><span data-stu-id="1ce40-109">support for importing existing code</span></span>
- <span data-ttu-id="1ce40-110">Exportation de visualisations</span><span class="sxs-lookup"><span data-stu-id="1ce40-110">export visualizations</span></span>
- <span data-ttu-id="1ce40-111">Sélection de fonctionnalités supervisée</span><span class="sxs-lookup"><span data-stu-id="1ce40-111">perform supervised feature selection</span></span>
- <span data-ttu-id="1ce40-112">Prise en compte de certaines limitations</span><span class="sxs-lookup"><span data-stu-id="1ce40-112">understand some limitations</span></span>

<span data-ttu-id="1ce40-113">[Python](https://www.python.org/) est un outil indispensable dans les coffres d’outil hello de nombreux chercheurs de données.</span><span class="sxs-lookup"><span data-stu-id="1ce40-113">[Python](https://www.python.org/) is an indispensable tool in hello tool chest of many data scientists.</span></span> <span data-ttu-id="1ce40-114">Il comprend :</span><span class="sxs-lookup"><span data-stu-id="1ce40-114">It has:</span></span>

* <span data-ttu-id="1ce40-115">une syntaxe concise et élégante,</span><span class="sxs-lookup"><span data-stu-id="1ce40-115">an elegant and concise syntax,</span></span> 
* <span data-ttu-id="1ce40-116">une prise en charge interplateforme,</span><span class="sxs-lookup"><span data-stu-id="1ce40-116">cross-platform support,</span></span> 
* <span data-ttu-id="1ce40-117">un vaste ensemble de bibliothèques puissantes, et</span><span class="sxs-lookup"><span data-stu-id="1ce40-117">a vast collection of powerful libraries, and</span></span> 
* <span data-ttu-id="1ce40-118">des outils de développement avancés.</span><span class="sxs-lookup"><span data-stu-id="1ce40-118">mature development tools.</span></span> 

<span data-ttu-id="1ce40-119">Python est employé dans toutes les phases d’un flux de travail généralement utilisé dans la modélisation de l’apprentissage automatique :</span><span class="sxs-lookup"><span data-stu-id="1ce40-119">Python is being used in all phases of a workflow typically used in machine learning modeling:</span></span>

- <span data-ttu-id="1ce40-120">Ingestion et traitement des données</span><span class="sxs-lookup"><span data-stu-id="1ce40-120">data ingest and processing</span></span> 
- <span data-ttu-id="1ce40-121">Construction des fonctionnalités</span><span class="sxs-lookup"><span data-stu-id="1ce40-121">feature construction</span></span>
- <span data-ttu-id="1ce40-122">Formation aux modèles</span><span class="sxs-lookup"><span data-stu-id="1ce40-122">model training</span></span> 
- <span data-ttu-id="1ce40-123">Validation des modèles</span><span class="sxs-lookup"><span data-stu-id="1ce40-123">model validation</span></span>
- <span data-ttu-id="1ce40-124">déploiement des modèles de hello</span><span class="sxs-lookup"><span data-stu-id="1ce40-124">deployment of hello models</span></span>

<span data-ttu-id="1ce40-125">Azure Machine Learning Studio prend en charge l’intégration des scripts Python dans plusieurs parties d’une expérience d’apprentissage automatique ainsi que leur publication transparente en tant que services web sur Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="1ce40-125">Azure Machine Learning Studio supports embedding Python scripts into various parts of a machine learning experiment and also seamlessly publishing them as web services on Microsoft Azure.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]


## <a name="design-principles-of-python-scripts-in-machine-learning"></a><span data-ttu-id="1ce40-126">Principes de conception des scripts Python dans Machine Learning</span><span class="sxs-lookup"><span data-stu-id="1ce40-126">Design principles of Python scripts in Machine Learning</span></span>

<span data-ttu-id="1ce40-127">tooPython d’interface principale Hello dans Azure Machine Learning Studio est via hello [Execute Python Script] [ execute-python-script] module illustré dans la Figure 1.</span><span class="sxs-lookup"><span data-stu-id="1ce40-127">hello primary interface tooPython in Azure Machine Learning Studio is via hello [Execute Python Script][execute-python-script] module shown in Figure 1.</span></span>

![image1](./media/machine-learning-execute-python-scripts/execute-machine-learning-python-scripts-module.png)

![image2](./media/machine-learning-execute-python-scripts/embedded-machine-learning-python-script.png)

<span data-ttu-id="1ce40-130">Figure 1.</span><span class="sxs-lookup"><span data-stu-id="1ce40-130">Figure 1.</span></span> <span data-ttu-id="1ce40-131">Hello **Execute Python Script** module.</span><span class="sxs-lookup"><span data-stu-id="1ce40-131">hello **Execute Python Script** module.</span></span>

<span data-ttu-id="1ce40-132">Hello [Execute Python Script] [ execute-python-script] module dans Azure ML Studio accepte des entrées de toothree et produit des sorties tootwo (décrits hello après section), comme son analogique R, hello [ Exécutez le Script R] [ execute-r-script] module.</span><span class="sxs-lookup"><span data-stu-id="1ce40-132">hello [Execute Python Script][execute-python-script] module in Azure ML Studio accepts up toothree inputs and produces up tootwo outputs (discussed in hello following section), like its R analogue, hello [Execute R Script][execute-r-script] module.</span></span> <span data-ttu-id="1ce40-133">toobe de code Python exécutée Hello est entré dans la zone du paramètre hello comme spéciale nommée fonction appelée point d’entrée `azureml_main`.</span><span class="sxs-lookup"><span data-stu-id="1ce40-133">hello Python code toobe executed is entered into hello parameter box as a specially named entry-point function called `azureml_main`.</span></span> <span data-ttu-id="1ce40-134">Voici la conception de clés hello principes utilisé tooimplement ce module :</span><span class="sxs-lookup"><span data-stu-id="1ce40-134">Here are hello key design principles used tooimplement this module:</span></span>

1. <span data-ttu-id="1ce40-135">*Doit être idiomatique pour les utilisateurs de Python.*</span><span class="sxs-lookup"><span data-stu-id="1ce40-135">*Must be idiomatic for Python users.*</span></span> <span data-ttu-id="1ce40-136">La plupart des utilisateurs de Python factorisent leur code en tant que fonctions au sein des modules.</span><span class="sxs-lookup"><span data-stu-id="1ce40-136">Most Python users factor their code as functions inside modules.</span></span> <span data-ttu-id="1ce40-137">De ce fait, l’insertion de nombreuses instructions exécutables dans un module de niveau supérieur est relativement rare.</span><span class="sxs-lookup"><span data-stu-id="1ce40-137">So putting a lot of executable statements in a top-level module is relatively rare.</span></span> <span data-ttu-id="1ce40-138">Par conséquent, zone de script hello prend également une fonction de Python spéciale nommée comme toojust opposé une séquence d’instructions.</span><span class="sxs-lookup"><span data-stu-id="1ce40-138">As a result, hello script box also takes a specially named Python function as opposed toojust a sequence of statements.</span></span> <span data-ttu-id="1ce40-139">Hello objets exposés dans la fonction hello sont des types de bibliothèque Python standard comme [Pandas](http://pandas.pydata.org/) des trames de données et [NumPy](http://www.numpy.org/) tableaux.</span><span class="sxs-lookup"><span data-stu-id="1ce40-139">hello objects exposed in hello function are standard Python library types such as [Pandas](http://pandas.pydata.org/) data frames and [NumPy](http://www.numpy.org/) arrays.</span></span>
2. <span data-ttu-id="1ce40-140">*Doit disposer d'une haute fidélité entre les exécutions locales et les exécutions du cloud.*</span><span class="sxs-lookup"><span data-stu-id="1ce40-140">*Must have high-fidelity between local and cloud executions.*</span></span> <span data-ttu-id="1ce40-141">principal utilisé tooexecute hello code Python Hello est basée sur [Anaconda](https://store.continuum.io/cshop/anaconda/), largement utilisé distribution de Python scientifique inter-plateformes.</span><span class="sxs-lookup"><span data-stu-id="1ce40-141">hello backend used tooexecute hello Python code is based on [Anaconda](https://store.continuum.io/cshop/anaconda/), a widely used cross-platform scientific Python distribution.</span></span> <span data-ttu-id="1ce40-142">Il est fourni avec too200 fermer des packages Python courants de hello.</span><span class="sxs-lookup"><span data-stu-id="1ce40-142">It comes with close too200 of hello most common Python packages.</span></span> <span data-ttu-id="1ce40-143">Par conséquent, les scientifiques de données peuvent déboguer et qualifier leur code dans leur environnement Anaconda local compatible avec Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="1ce40-143">Therefore, data scientists can debug and qualify their code on their local Azure Machine Learning-compatible Anaconda environment.</span></span> <span data-ttu-id="1ce40-144">Puis utiliser un environnement de développement existant, tel que [IPython](http://ipython.org/) bloc-notes ou [outils Python pour Visual Studio](http://aka.ms/ptvs), toorun dans le cadre d’une expérience Azure ML.</span><span class="sxs-lookup"><span data-stu-id="1ce40-144">Then use an existing development environment, such as [IPython](http://ipython.org/) notebook or [Python Tools for Visual Studio](http://aka.ms/ptvs), toorun it as part of an Azure ML experiment.</span></span> <span data-ttu-id="1ce40-145">Hello `azureml_main` point d’entrée est une fonction de Python vanille et donc *** peuvent être créés sans code spécifique à Azure ML ou hello SDK installé.</span><span class="sxs-lookup"><span data-stu-id="1ce40-145">hello `azureml_main` entry point is a vanilla Python function and so ****can be authored without Azure ML-specific code or hello SDK installed.</span></span>
3. <span data-ttu-id="1ce40-146">*Doit être composé, de manière transparente, d’autres modules Azure Machine Learning.*</span><span class="sxs-lookup"><span data-stu-id="1ce40-146">*Must be seamlessly composable with other Azure Machine Learning modules.*</span></span> <span data-ttu-id="1ce40-147">Hello [Execute Python Script] [ execute-python-script] module accepte comme entrées et sorties, des jeux de données Azure Machine Learning standard.</span><span class="sxs-lookup"><span data-stu-id="1ce40-147">hello [Execute Python Script][execute-python-script] module accepts, as inputs and outputs, standard Azure Machine Learning datasets.</span></span> <span data-ttu-id="1ce40-148">infrastructure sous-jacente de Hello efficacement et de façon transparente établit un pont entre les runtimes Azure ML et Python hello.</span><span class="sxs-lookup"><span data-stu-id="1ce40-148">hello underlying framework transparently and efficiently bridges hello Azure ML and Python runtimes.</span></span> <span data-ttu-id="1ce40-149">Python peut donc être utilisé en combinaison avec des flux de travail Azure ML existants, y compris ceux qui font appel à R et SQLite.</span><span class="sxs-lookup"><span data-stu-id="1ce40-149">So Python can be used in conjunction with existing Azure ML workflows, including those that call into R and SQLite.</span></span> <span data-ttu-id="1ce40-150">Un scientifique des données peut ainsi composer des flux de travail qui :</span><span class="sxs-lookup"><span data-stu-id="1ce40-150">A  result, data scientist could compose workflows that:</span></span>
   * <span data-ttu-id="1ce40-151">utilisent Python et Pandas pour le prétraitement et le nettoyage de données</span><span class="sxs-lookup"><span data-stu-id="1ce40-151">use Python and Pandas for data pre-processing and cleaning</span></span>
   * <span data-ttu-id="1ce40-152">flux hello données tooa SQL transformation, jointure de plusieurs fonctionnalités tooform de jeux de données</span><span class="sxs-lookup"><span data-stu-id="1ce40-152">feed hello data tooa SQL transformation, joining multiple datasets tooform features</span></span>
   * <span data-ttu-id="1ce40-153">l’apprentissage des modèles à l’aide d’algorithmes de hello dans Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="1ce40-153">train models using hello algorithms in Azure Machine Learning</span></span> 
   * <span data-ttu-id="1ce40-154">Évaluez et post-traiter les résultats hello à l’aide de R.</span><span class="sxs-lookup"><span data-stu-id="1ce40-154">evaluate and post-process hello results using R.</span></span>


## <a name="basic-usage-scenarios-in-ml-for-python-scripts"></a><span data-ttu-id="1ce40-155">Scénarios d’usage de base des scripts Python dans ML</span><span class="sxs-lookup"><span data-stu-id="1ce40-155">Basic usage scenarios in ML for Python scripts</span></span>

<span data-ttu-id="1ce40-156">Dans cette section, nous enquête quelques-unes des utilisations de base hello Hello [Execute Python Script] [ execute-python-script] module.</span><span class="sxs-lookup"><span data-stu-id="1ce40-156">In this section, we survey some of hello basic uses of hello [Execute Python Script][execute-python-script] module.</span></span> <span data-ttu-id="1ce40-157">Module de Python toohello entrées sont exposées comme des trames de données Pandas.</span><span class="sxs-lookup"><span data-stu-id="1ce40-157">Inputs toohello Python module are exposed as Pandas data frames.</span></span> <span data-ttu-id="1ce40-158">Hello fonction doit retourner une seule image de données Pandas empaquetée à l’intérieur d’une Python [séquence](https://docs.python.org/2/c-api/sequence.html) comme un tuple, une liste ou un tableau de NumPy.</span><span class="sxs-lookup"><span data-stu-id="1ce40-158">hello function must return a single Pandas data frame packaged inside of a Python [sequence](https://docs.python.org/2/c-api/sequence.html) such as a tuple, list, or NumPy array.</span></span> <span data-ttu-id="1ce40-159">Hello premier élément de cette séquence est ensuite renvoyé dans hello premier port de sortie du module de hello.</span><span class="sxs-lookup"><span data-stu-id="1ce40-159">hello first element of this sequence is then returned in hello first output port of hello module.</span></span> <span data-ttu-id="1ce40-160">Ce schéma est illustré dans la Figure 2.</span><span class="sxs-lookup"><span data-stu-id="1ce40-160">This scheme is shown in Figure 2.</span></span>

![image3](./media/machine-learning-execute-python-scripts/map-of-python-script-inputs-outputs.png)

<span data-ttu-id="1ce40-162">Figure 2 :</span><span class="sxs-lookup"><span data-stu-id="1ce40-162">Figure 2.</span></span> <span data-ttu-id="1ce40-163">Mappage de port de toooutput valeur tooparameters et retournent des ports d’entrée.</span><span class="sxs-lookup"><span data-stu-id="1ce40-163">Mapping of input ports tooparameters and return value toooutput port.</span></span>

<span data-ttu-id="1ce40-164">Plus d’une sémantique de façon dont les ports d’entrée hello get tooparameters mappé de hello `azureml_main` fonction sont affichés dans le tableau 1 :</span><span class="sxs-lookup"><span data-stu-id="1ce40-164">More detailed semantics of how hello input ports get mapped tooparameters of hello `azureml_main` function are shown in Table 1:</span></span>

![image1T](./media/machine-learning-execute-python-scripts/python-script-inputs-mapped-to-parameters.png)

<span data-ttu-id="1ce40-166">Tableau 1.</span><span class="sxs-lookup"><span data-stu-id="1ce40-166">Table 1.</span></span> <span data-ttu-id="1ce40-167">Mappage de paramètres toofunction de ports d’entrée.</span><span class="sxs-lookup"><span data-stu-id="1ce40-167">Mapping of input ports toofunction parameters.</span></span>

<span data-ttu-id="1ce40-168">mappage de Hello entre les ports d’entrée et les paramètres de fonction est positionnel :</span><span class="sxs-lookup"><span data-stu-id="1ce40-168">hello mapping between input ports and function parameters is positional:</span></span>

- <span data-ttu-id="1ce40-169">port d’entrée connecté première Hello est mappé toohello premier paramètre de fonction hello.</span><span class="sxs-lookup"><span data-stu-id="1ce40-169">hello first connected input port is mapped toohello first parameter of hello function.</span></span> 
- <span data-ttu-id="1ce40-170">Hello deuxième entrée (si vous êtes connecté) est mappé toohello deuxième paramètre de fonction hello.</span><span class="sxs-lookup"><span data-stu-id="1ce40-170">hello second input (if connected) is mapped toohello second parameter of hello function.</span></span>

<span data-ttu-id="1ce40-171">Consultez *Python pour l’analyse de données* (o ' Reilly, 2012) par McKinney ouest pour plus d’informations sur Python Pandas et comment il peut être utilisé toomanipulate données efficacement.</span><span class="sxs-lookup"><span data-stu-id="1ce40-171">See *Python for Data Analysis* (O'Reilly, 2012) by W. McKinney for more information on Python Pandas and on how it can be used toomanipulate data effectively and efficiently.</span></span> 


## <a name="translation-of-input-and-output-types"></a><span data-ttu-id="1ce40-172">Conversion des types d'entrée et de sortie</span><span class="sxs-lookup"><span data-stu-id="1ce40-172">Translation of input and output types</span></span> 
<span data-ttu-id="1ce40-173">Jeux de données d’entrée dans Azure ML est les frames toodata converti dans Pandas.</span><span class="sxs-lookup"><span data-stu-id="1ce40-173">Input datasets in Azure ML are converted toodata frames in Pandas.</span></span> <span data-ttu-id="1ce40-174">Les trames de données de sortie sont converties en arrière tooAzure ML de jeux de données.</span><span class="sxs-lookup"><span data-stu-id="1ce40-174">Output data frames are converted back tooAzure ML datasets.</span></span> <span data-ttu-id="1ce40-175">Hello suivant conversions est effectuée :</span><span class="sxs-lookup"><span data-stu-id="1ce40-175">hello following conversions are performed:</span></span>

1. <span data-ttu-id="1ce40-176">Les colonnes numériques et de chaîne sont converties en tant que-est et les valeurs manquantes dans un jeu de données sont converties too'NA' valeurs Pandas.</span><span class="sxs-lookup"><span data-stu-id="1ce40-176">String and numeric columns are converted as-is and missing values in a dataset are converted too‘NA’ values in Pandas.</span></span> <span data-ttu-id="1ce40-177">Hello même conversion s’effectue sur hello remonte (NA valeurs dans Pandas soient toomissing converti dans Azure ML).</span><span class="sxs-lookup"><span data-stu-id="1ce40-177">hello same conversion happens on hello way back (NA values in Pandas are converted toomissing values in Azure ML).</span></span>
2. <span data-ttu-id="1ce40-178">Les vecteurs d’index dans Pandas ne sont pas pris en charge dans Azure ML.</span><span class="sxs-lookup"><span data-stu-id="1ce40-178">Index vectors in Pandas are not supported in Azure ML.</span></span> <span data-ttu-id="1ce40-179">Toutes les trames de données d’entrée dans la fonction de Python hello toujours ont un index numérique de 64 bits à partir de 0 toohello nombre de lignes moins 1.</span><span class="sxs-lookup"><span data-stu-id="1ce40-179">All input data frames in hello Python function always have a 64-bit numerical index from 0 toohello number of rows minus 1.</span></span> 
3. <span data-ttu-id="1ce40-180">Les jeux de données Azure ML ne peuvent pas comporter de noms de colonnes dupliqués et de noms de colonnes autres que des chaînes.</span><span class="sxs-lookup"><span data-stu-id="1ce40-180">Azure ML datasets cannot have duplicate column names and column names that are not strings.</span></span> <span data-ttu-id="1ce40-181">Si une trame de données de sortie contient les colonnes non numériques, hello le framework appelle `str` sur les noms de colonne hello.</span><span class="sxs-lookup"><span data-stu-id="1ce40-181">If an output data frame contains non-numeric columns, hello framework calls `str` on hello column names.</span></span> <span data-ttu-id="1ce40-182">De même, tous les noms de colonne en double sont automatiquement tronqué tooinsure hello noms sont uniques.</span><span class="sxs-lookup"><span data-stu-id="1ce40-182">Likewise, any duplicate column names are automatically mangled tooinsure hello names are unique.</span></span> <span data-ttu-id="1ce40-183">suffixe de Hello (2) est ajouté le premier toohello doublon, (3) toohello deuxième doublon et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="1ce40-183">hello suffix (2) is added toohello first duplicate, (3) toohello second duplicate, and so on.</span></span>


## <a name="operationalizing-python-scripts"></a><span data-ttu-id="1ce40-184">Mise en place des scripts Python</span><span class="sxs-lookup"><span data-stu-id="1ce40-184">Operationalizing Python scripts</span></span>

<span data-ttu-id="1ce40-185">Les modules [Exécuter le script Python][execute-python-script] utilisés dans une expérience de notation sont appelés lorsqu’ils sont publiés en tant que service web.</span><span class="sxs-lookup"><span data-stu-id="1ce40-185">Any [Execute Python Script][execute-python-script] modules used in a scoring experiment are called when published as a web service.</span></span> <span data-ttu-id="1ce40-186">Par exemple, la Figure 3 illustre une expérience de score contenant tooevaluate de code hello une seule expression Python.</span><span class="sxs-lookup"><span data-stu-id="1ce40-186">For example, Figure 3 shows a scoring experiment that contains hello code tooevaluate a single Python expression.</span></span> 

![image4](./media/machine-learning-execute-python-scripts/figure3a.png)

![image5](./media/machine-learning-execute-python-scripts/python-script-with-python-pandas.png)

<span data-ttu-id="1ce40-189">Figure 3.</span><span class="sxs-lookup"><span data-stu-id="1ce40-189">Figure 3.</span></span> <span data-ttu-id="1ce40-190">Service web pour l'évaluation d'une expression Python.</span><span class="sxs-lookup"><span data-stu-id="1ce40-190">Web service for evaluating a Python expression.</span></span>

<span data-ttu-id="1ce40-191">Un service web créé à partir de cette expérience :</span><span class="sxs-lookup"><span data-stu-id="1ce40-191">A web service created from this experiment:</span></span>

- <span data-ttu-id="1ce40-192">utilise comme entrée une expression Python (sous forme de chaîne)</span><span class="sxs-lookup"><span data-stu-id="1ce40-192">takes as input a Python expression (as a string)</span></span>
- <span data-ttu-id="1ce40-193">Il envoie l’interpréteur Python sous % toohello</span><span class="sxs-lookup"><span data-stu-id="1ce40-193">sends it toohello Python interpreter</span></span> 
- <span data-ttu-id="1ce40-194">Retourne une table qui contient l’expression de hello et résultats de hello évaluée.</span><span class="sxs-lookup"><span data-stu-id="1ce40-194">returns a table containing both hello expression and hello evaluated result.</span></span>


## <a name="importing-existing-python-script-modules"></a><span data-ttu-id="1ce40-195">Importation des modules de script Python existants</span><span class="sxs-lookup"><span data-stu-id="1ce40-195">Importing existing Python script modules</span></span>

<span data-ttu-id="1ce40-196">Un cas d’usage courant pour nombreux chercheurs de données est tooincorporate des scripts Python existants dans des expériences d’Azure ML.</span><span class="sxs-lookup"><span data-stu-id="1ce40-196">A common use-case for many data scientists is tooincorporate existing Python scripts into Azure ML experiments.</span></span> <span data-ttu-id="1ce40-197">Au lieu de demander que tout le code concaténé et collé dans une zone de script unique, hello [Execute Python Script] [ execute-python-script] module accepte un fichier zip qui contient des modules Python au port d’entrée de hello tiers.</span><span class="sxs-lookup"><span data-stu-id="1ce40-197">Instead of requiring that all code be concatenated and pasted into a single script box, hello [Execute Python Script][execute-python-script] module accepts a zip file that contains Python modules at hello third input port.</span></span> <span data-ttu-id="1ce40-198">fichier de Hello est décompressé par l’infrastructure d’exécution hello lors de l’exécution et contenu de hello est ajoutées toohello chemin d’accès de bibliothèque de l’interpréteur Python sous hello.</span><span class="sxs-lookup"><span data-stu-id="1ce40-198">hello file is unzipped by hello execution framework at runtime and hello contents are added toohello library path of hello Python interpreter.</span></span> <span data-ttu-id="1ce40-199">Hello `azureml_main` point d’entrée (fonction) pouvez ensuite importer ces modules directement.</span><span class="sxs-lookup"><span data-stu-id="1ce40-199">hello `azureml_main` entry point function can then import these modules directly.</span></span>

<span data-ttu-id="1ce40-200">Par exemple, considérez le fichier hello Hello.py contenant une fonction « Hello, World » simple.</span><span class="sxs-lookup"><span data-stu-id="1ce40-200">As an example, consider hello file Hello.py containing a simple “Hello, World” function.</span></span>

![image6](./media/machine-learning-execute-python-scripts/figure4.png)

<span data-ttu-id="1ce40-202">Figure 4.</span><span class="sxs-lookup"><span data-stu-id="1ce40-202">Figure 4.</span></span> <span data-ttu-id="1ce40-203">Fonction définie par l’utilisateur dans le fichier Hello.py.</span><span class="sxs-lookup"><span data-stu-id="1ce40-203">User-defined function in Hello.py file.</span></span>

<span data-ttu-id="1ce40-204">Ensuite, nous créons un fichier Hello.zip contenant Hello.py :</span><span class="sxs-lookup"><span data-stu-id="1ce40-204">Next, we create a file Hello.zip that contains Hello.py:</span></span>

![image7](./media/machine-learning-execute-python-scripts/figure5.png)

<span data-ttu-id="1ce40-206">Figure 5.</span><span class="sxs-lookup"><span data-stu-id="1ce40-206">Figure 5.</span></span> <span data-ttu-id="1ce40-207">Fichier zip contenant le code Python défini par l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="1ce40-207">Zip file containing user-defined Python code.</span></span>

<span data-ttu-id="1ce40-208">Téléchargez le fichier zip de hello comme un jeu de données dans Azure Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="1ce40-208">Upload hello zip file as a dataset into Azure Machine Learning Studio.</span></span> <span data-ttu-id="1ce40-209">Puis créez et exécutez une expérience qui utilise du code Python hello dans le fichier de Hello.zip hello en le joignant toohello troisième port d’entrée de hello **Execute Python Script** module, comme indiqué dans cette illustration.</span><span class="sxs-lookup"><span data-stu-id="1ce40-209">Then create and run an experiment that uses hello Python code in hello Hello.zip file by attaching it toohello third input port of hello **Execute Python Script** module, as shown in this figure.</span></span>

![image8](./media/machine-learning-execute-python-scripts/figure6a.png)

![image9](./media/machine-learning-execute-python-scripts/figure6b.png)

<span data-ttu-id="1ce40-212">Figure 6.</span><span class="sxs-lookup"><span data-stu-id="1ce40-212">Figure 6.</span></span> <span data-ttu-id="1ce40-213">Exemple d'expérience dotée d'un code Python défini par l'utilisateur et chargé en tant que fichier zip.</span><span class="sxs-lookup"><span data-stu-id="1ce40-213">Sample experiment with user-defined Python code uploaded as a zip file.</span></span>

<span data-ttu-id="1ce40-214">sortie de module Hello montre le fichier zip hello a été décompressée et cette fonction hello `print_hello` a été exécutée.</span><span class="sxs-lookup"><span data-stu-id="1ce40-214">hello module output shows that hello zip file has been unpackaged and that hello function `print_hello` has been run.</span></span>
<span data-ttu-id="1ce40-215"> 
![image10](./media/machine-learning-execute-python-scripts/figure7.png)</span><span class="sxs-lookup"><span data-stu-id="1ce40-215"> 
![image10](./media/machine-learning-execute-python-scripts/figure7.png)</span></span>

<span data-ttu-id="1ce40-216">Figure 7.</span><span class="sxs-lookup"><span data-stu-id="1ce40-216">Figure 7.</span></span> <span data-ttu-id="1ce40-217">Fonction définie par l’utilisateur en cours d’utilisation à l’intérieur de hello [Execute Python Script] [ execute-python-script] module.</span><span class="sxs-lookup"><span data-stu-id="1ce40-217">User-defined function in use inside hello [Execute Python Script][execute-python-script] module.</span></span>


## <a name="working-with-visualizations"></a><span data-ttu-id="1ce40-218">Utilisation des visualisations</span><span class="sxs-lookup"><span data-stu-id="1ce40-218">Working with visualizations</span></span>

<span data-ttu-id="1ce40-219">Les graphiques créés à l’aide de MatplotLib qui peut être visualisé dans le navigateur de hello peuvent être retournées par hello [Execute Python Script][execute-python-script].</span><span class="sxs-lookup"><span data-stu-id="1ce40-219">Plots created using MatplotLib that can be visualized on hello browser can be returned by hello [Execute Python Script][execute-python-script].</span></span> <span data-ttu-id="1ce40-220">Mais hello graphiques ne sont pas automatiquement redirigés tooimages que lors de l’utilisation de R. Afin de hello utilisateur doit explicitement enregistrer les tracés tooPNG fichiers s’ils sont toobe retourné précédent tooAzure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="1ce40-220">But hello plots are not automatically redirected tooimages as they are when using R. So hello user must explicitly save any plots tooPNG files if they are toobe returned back tooAzure Machine Learning.</span></span> 

<span data-ttu-id="1ce40-221">toogenerate des images à partir de MatplotLib, vous devez effectuer hello procédure :</span><span class="sxs-lookup"><span data-stu-id="1ce40-221">toogenerate images from MatplotLib, you must complete hello following procedure:</span></span>

* <span data-ttu-id="1ce40-222">commutateur hello principal trop « Agrégation » à partir de hello par défaut en fonction de Qt le convertisseur</span><span class="sxs-lookup"><span data-stu-id="1ce40-222">switch hello backend too“AGG” from hello default Qt-based renderer</span></span> 
* <span data-ttu-id="1ce40-223">créer un nouvel objet figure</span><span class="sxs-lookup"><span data-stu-id="1ce40-223">create a new figure object</span></span> 
* <span data-ttu-id="1ce40-224">obtenir l’axe de hello et générer tous les tracés dans celui-ci</span><span class="sxs-lookup"><span data-stu-id="1ce40-224">get hello axis and generate all plots into it</span></span> 
* <span data-ttu-id="1ce40-225">Enregistrez le fichier PNG de hello figure tooa</span><span class="sxs-lookup"><span data-stu-id="1ce40-225">save hello figure tooa PNG file</span></span> 

<span data-ttu-id="1ce40-226">Ce processus est illustré dans hello suivant Figure 8 qui crée une matrice de traçage à nuages de points à l’aide de la fonction de scatter_matrix hello dans Pandas.</span><span class="sxs-lookup"><span data-stu-id="1ce40-226">This process is illustrated in hello following Figure 8 that creates a scatter plot matrix using hello scatter_matrix function in Pandas.</span></span>

![image1v](./media/machine-learning-execute-python-scripts/figure-v1-8.png)

<span data-ttu-id="1ce40-228">Figure 8.</span><span class="sxs-lookup"><span data-stu-id="1ce40-228">Figure 8.</span></span> <span data-ttu-id="1ce40-229">Toosave que matplotlib tooimages les chiffres du code.</span><span class="sxs-lookup"><span data-stu-id="1ce40-229">Code toosave MatplotLib figures tooimages.</span></span>

<span data-ttu-id="1ce40-230">La figure 9 illustre une expérience qui utilise un script hello illustré précédemment tooreturn trace via le port de sortie deuxième hello.</span><span class="sxs-lookup"><span data-stu-id="1ce40-230">Figure 9 shows an experiment that uses hello script shown previously tooreturn plots via hello second output port.</span></span>

![image2v](./media/machine-learning-execute-python-scripts/figure-v2-9a.png) 

![image2v](./media/machine-learning-execute-python-scripts/figure-v2-9b.png) 

<span data-ttu-id="1ce40-233">Figure 9.</span><span class="sxs-lookup"><span data-stu-id="1ce40-233">Figure 9.</span></span> <span data-ttu-id="1ce40-234">Visualisation des graphiques générés à partir d'un code Python.</span><span class="sxs-lookup"><span data-stu-id="1ce40-234">Visualizing plots generated from Python code.</span></span>

<span data-ttu-id="1ce40-235">Est possible tooreturn plusieurs illustrations en les enregistrant dans des images, hello Azure Machine Learning runtime récupère toutes les images et les concatène pour la visualisation.</span><span class="sxs-lookup"><span data-stu-id="1ce40-235">It is possible tooreturn multiple figures by saving them into different images, hello Azure Machine Learning runtime picks up all images and concatenates them for visualization.</span></span>


## <a name="advanced-examples"></a><span data-ttu-id="1ce40-236">Exemples avancés</span><span class="sxs-lookup"><span data-stu-id="1ce40-236">Advanced examples</span></span>

<span data-ttu-id="1ce40-237">environnement de Anaconda Hello installé dans Azure Machine Learning contient les packages courants tels que NumPy, SciPy et Scikits-Learn.</span><span class="sxs-lookup"><span data-stu-id="1ce40-237">hello Anaconda environment installed in Azure Machine Learning contains common packages such as NumPy, SciPy, and Scikits-Learn.</span></span> <span data-ttu-id="1ce40-238">Ces packages peuvent être utilisés efficacement pour diverses tâches de traitement des données dans un pipeline d’apprentissage automatique.</span><span class="sxs-lookup"><span data-stu-id="1ce40-238">These packages can be effectively used for various data processing tasks in a machine learning pipeline.</span></span> <span data-ttu-id="1ce40-239">Par exemple, hello script et expérience suivant illustrent hello utilisation d’apprenants ensemble dans Scikits-Learn des scores d’importance de fonctionnalité toocompute pour un jeu de données.</span><span class="sxs-lookup"><span data-stu-id="1ce40-239">As an example, hello following experiment and script illustrate hello use of ensemble learners in Scikits-Learn toocompute feature importance scores for a dataset.</span></span> <span data-ttu-id="1ce40-240">les scores Hello peuvent être la sélection des fonctionnalités utilisées tooperform supervisé avant d’être introduit dans un autre modèle ML.</span><span class="sxs-lookup"><span data-stu-id="1ce40-240">hello scores can be used tooperform supervised feature selection before being fed into another ML model.</span></span>

<span data-ttu-id="1ce40-241">Voici les scores d’importance hello Python fonction utilisée toocompute hello et les fonctionnalités de hello ordre selon les scores hello :</span><span class="sxs-lookup"><span data-stu-id="1ce40-241">Here is hello Python function used toocompute hello importance scores and order hello features based on hello scores:</span></span>

![image11](./media/machine-learning-execute-python-scripts/figure8.png)

<span data-ttu-id="1ce40-243">Figure 10.</span><span class="sxs-lookup"><span data-stu-id="1ce40-243">Figure 10.</span></span> <span data-ttu-id="1ce40-244">Fonctionnalités de toorank fonction par scores.</span><span class="sxs-lookup"><span data-stu-id="1ce40-244">Function toorank features by scores.</span></span>
<span data-ttu-id="1ce40-245"> Hello expérience suivante puis calcule et retourne les scores d’importance hello des fonctionnalités hello « Pima indien du diabète » jeu de données dans Azure Machine Learning :</span><span class="sxs-lookup"><span data-stu-id="1ce40-245">  hello following experiment then computes and returns hello importance scores of features in hello “Pima Indian Diabetes” dataset in Azure Machine Learning:</span></span>

<span data-ttu-id="1ce40-246">![image12](./media/machine-learning-execute-python-scripts/figure9a.png)
![image13](./media/machine-learning-execute-python-scripts/figure9b.png)</span><span class="sxs-lookup"><span data-stu-id="1ce40-246">![image12](./media/machine-learning-execute-python-scripts/figure9a.png)
![image13](./media/machine-learning-execute-python-scripts/figure9b.png)</span></span>    

<span data-ttu-id="1ce40-247">Figure 11.</span><span class="sxs-lookup"><span data-stu-id="1ce40-247">Figure 11.</span></span> <span data-ttu-id="1ce40-248">Fonctionnalités de toorank expérience hello Pima indien DIABÈTE jeu de données.</span><span class="sxs-lookup"><span data-stu-id="1ce40-248">Experiment toorank features in hello Pima Indian Diabetes dataset.</span></span>

## <a name="limitations"></a><span data-ttu-id="1ce40-249">Limites</span><span class="sxs-lookup"><span data-stu-id="1ce40-249">Limitations</span></span>
<span data-ttu-id="1ce40-250">Hello [Execute Python Script] [ execute-python-script] a actuellement hello limites suivantes :</span><span class="sxs-lookup"><span data-stu-id="1ce40-250">hello [Execute Python Script][execute-python-script] currently has hello following limitations:</span></span>

1. <span data-ttu-id="1ce40-251">*Exécution dans un bac à sable (sandbox).*</span><span class="sxs-lookup"><span data-stu-id="1ce40-251">*Sandboxed execution.*</span></span> <span data-ttu-id="1ce40-252">Hello Python runtime est actuellement de bac à sable et, par conséquent, n’autorise pas toohello accès réseau ou toohello système de fichiers local de manière persistante.</span><span class="sxs-lookup"><span data-stu-id="1ce40-252">hello Python runtime is currently sandboxed and, as a result, does not allow access toohello network or toohello local file system in a persistent manner.</span></span> <span data-ttu-id="1ce40-253">Tous les fichiers enregistrés localement sont isolés et supprimés une fois le module de hello se termine.</span><span class="sxs-lookup"><span data-stu-id="1ce40-253">All files saved locally are isolated and deleted once hello module finishes.</span></span> <span data-ttu-id="1ce40-254">Hello code Python ne peut pas accéder à la plupart des répertoires sur l’ordinateur hello qu'il s’exécute, en cours d’exception hello hello répertoire en cours et ses sous-répertoires.</span><span class="sxs-lookup"><span data-stu-id="1ce40-254">hello Python code cannot access most directories on hello machine it runs on, hello exception being hello current directory and its subdirectories.</span></span>
2. <span data-ttu-id="1ce40-255">*Manque de support de développement et de débogage sophistiqué.*</span><span class="sxs-lookup"><span data-stu-id="1ce40-255">*Lack of sophisticated development and debugging support.*</span></span> <span data-ttu-id="1ce40-256">actuellement, module de Python Hello ne prend pas en charge les fonctionnalités IDE comme intellisense et le débogage.</span><span class="sxs-lookup"><span data-stu-id="1ce40-256">hello Python module currently does not support IDE features such as intellisense and debugging.</span></span> <span data-ttu-id="1ce40-257">En outre, si le module de hello échoue lors de l’exécution, hello trace de pile Python complète est disponible.</span><span class="sxs-lookup"><span data-stu-id="1ce40-257">Also, if hello module fails at runtime, hello full Python stack trace is available.</span></span> <span data-ttu-id="1ce40-258">Mais elle doit être affichée dans le journal de sortie hello pour le module de hello.</span><span class="sxs-lookup"><span data-stu-id="1ce40-258">But it must be viewed in hello output log for hello module.</span></span> <span data-ttu-id="1ce40-259">Actuellement, nous vous recommandons développer et déboguer des scripts Python dans un environnement tel que IPython et réimporter les code hello dans le module de hello.</span><span class="sxs-lookup"><span data-stu-id="1ce40-259">We currently recommend that you develop and debug Python scripts in an environment such as IPython and then import hello code into hello module.</span></span>
3. <span data-ttu-id="1ce40-260">*Sortie de trame de données unique.*</span><span class="sxs-lookup"><span data-stu-id="1ce40-260">*Single data frame output.*</span></span> <span data-ttu-id="1ce40-261">point d’entrée Python Hello est uniquement autorisée tooreturn une trame de données unique en tant que sortie.</span><span class="sxs-lookup"><span data-stu-id="1ce40-261">hello Python entry point is only permitted tooreturn a single data frame as output.</span></span> <span data-ttu-id="1ce40-262">Il n’est pas possible actuellement tooreturn que Python arbitraire des objets tels que les modèles formés sauvegarder directement toohello Azure Machine Learning runtime.</span><span class="sxs-lookup"><span data-stu-id="1ce40-262">It is not currently possible tooreturn arbitrary Python objects such as trained models directly back toohello Azure Machine Learning runtime.</span></span> <span data-ttu-id="1ce40-263">Comme [Execute R Script][execute-r-script], qui a hello même restriction, il est possible dans de nombreux cas, les objets de toopickle dans un octet de tableau et qui retournent ensuite à l’intérieur d’une trame de données.</span><span class="sxs-lookup"><span data-stu-id="1ce40-263">Like [Execute R Script][execute-r-script], which has hello same limitation, it is possible in many cases toopickle objects into a byte array and then return that inside of a data frame.</span></span>
4. <span data-ttu-id="1ce40-264">*Incapacité toocustomize installation de Python*.</span><span class="sxs-lookup"><span data-stu-id="1ce40-264">*Inability toocustomize Python installation*.</span></span> <span data-ttu-id="1ce40-265">Actuellement, hello uniquement moyen tooadd Python modules personnalisés est via le mécanisme de fichier zip hello décrit précédemment.</span><span class="sxs-lookup"><span data-stu-id="1ce40-265">Currently, hello only way tooadd custom Python modules is via hello zip file mechanism described earlier.</span></span> <span data-ttu-id="1ce40-266">Bien que ceci soit faisable pour les petits modules, la procédure est assez lourde pour les gros modules (notamment ceux constitués de DLL natives) ou un grand nombre de modules.</span><span class="sxs-lookup"><span data-stu-id="1ce40-266">While this is feasible for small modules, it is cumbersome for large modules (especially those with native DLLs) or a large number of modules.</span></span> 

## <a name="conclusions"></a><span data-ttu-id="1ce40-267">Conclusions</span><span class="sxs-lookup"><span data-stu-id="1ce40-267">Conclusions</span></span>
<span data-ttu-id="1ce40-268">Hello [Execute Python Script] [ execute-python-script] module permet de code Python existant de tooincorporate un spécialiste des données dans le flux de travail hébergés dans le cloud de machine learning dans Azure Machine Learning et tooseamlessly tiens en tant que partie d’un service web.</span><span class="sxs-lookup"><span data-stu-id="1ce40-268">hello [Execute Python Script][execute-python-script] module allows a data scientist tooincorporate existing Python code into cloud-hosted machine learning workflows in Azure Machine Learning and tooseamlessly operationalize them as part of a web service.</span></span> <span data-ttu-id="1ce40-269">module de script Python Hello interagit naturellement avec d’autres modules dans Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="1ce40-269">hello Python script module interoperates naturally with other modules in Azure Machine Learning.</span></span> <span data-ttu-id="1ce40-270">module de Hello peut être utilisé pour une plage de tâches à partir d’exploration de données toopre-traitement et d’extraction de fonctionnalité et tooevaluation et traitement des résultats de hello.</span><span class="sxs-lookup"><span data-stu-id="1ce40-270">hello module can be used for a range of tasks from data exploration toopre-processing and feature extraction, and then tooevaluation and post-processing of hello results.</span></span> <span data-ttu-id="1ce40-271">Hello principal runtime est utilisé pour l’exécution est basée sur Anaconda, une distribution de Python bien testée et largement utilisée.</span><span class="sxs-lookup"><span data-stu-id="1ce40-271">hello backend runtime used for execution is based on Anaconda, a well-tested and widely used Python distribution.</span></span> <span data-ttu-id="1ce40-272">Cette principal facilite pour vous, les ressources de code existant de la carte tooon dans le cloud de hello.</span><span class="sxs-lookup"><span data-stu-id="1ce40-272">This backend makes it simple for you tooon-board existing code assets into hello cloud.</span></span>

<span data-ttu-id="1ce40-273">Nous pensons que tooprovide des fonctionnalités supplémentaires toohello [Execute Python Script] [ execute-python-script] module comme hello capacité tootrain et opérationnaliser les modèles de Python et tooadd meilleure prise en charge pour hello développement et débogage de code dans Azure Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="1ce40-273">We expect tooprovide additional functionality toohello [Execute Python Script][execute-python-script] module such as hello ability tootrain and operationalize models in Python and tooadd better support for hello development and debugging code in Azure Machine Learning Studio.</span></span>

## <a name="next-steps"></a><span data-ttu-id="1ce40-274">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="1ce40-274">Next steps</span></span>
<span data-ttu-id="1ce40-275">Pour plus d’informations, consultez hello [centre de développement Python](https://azure.microsoft.com/develop/python/).</span><span class="sxs-lookup"><span data-stu-id="1ce40-275">For more information, see hello [Python Developer Center](https://azure.microsoft.com/develop/python/).</span></span>

<!-- Module References -->
[execute-python-script]: https://msdn.microsoft.com/library/azure/cdb56f95-7f4c-404d-bde7-5bb972e6f232/
[execute-r-script]: https://msdn.microsoft.com/library/azure/30806023-392b-42e0-94d6-6b775a6e0fd5/
