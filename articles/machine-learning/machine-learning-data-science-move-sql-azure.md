---
title: "Déplacement de données vers une base de données SQL Azure pour Azure Machine Learning | Microsoft Docs"
description: "Création d’une table SQL et chargement de données dans une table SQL"
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 50f8b862-4d32-44b2-a1e2-4fbc8024acaa
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/29/2017
ms.author: bradsev
ms.openlocfilehash: dfd1649b666c3793339f8624bdf77aa92cca4e88
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/29/2017
---
# <a name="move-data-to-an-azure-sql-database-for-azure-machine-learning"></a><span data-ttu-id="3d578-103">Déplacement de données vers une base de données SQL Azure pour Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="3d578-103">Move data to an Azure SQL Database for Azure Machine Learning</span></span>
<span data-ttu-id="3d578-104">Cette rubrique présente les options de déplacement des données à partir de fichiers plats (formats CSV ou TSV) ou de données stockées sur un ordinateur SQL Server local vers une base de données Azure SQL.</span><span class="sxs-lookup"><span data-stu-id="3d578-104">This topic outlines the options for moving data either from flat files (CSV or TSV formats) or from data stored in an on-premises SQL Server to an Azure SQL database.</span></span> <span data-ttu-id="3d578-105">Ces tâches permettant de déplacer des données vers le cloud font partie du processus TDSP (Team Data Science Process).</span><span class="sxs-lookup"><span data-stu-id="3d578-105">These tasks for moving data to the cloud are part of the Team Data Science Process.</span></span>

<span data-ttu-id="3d578-106">Pour une rubrique présentant les options de déplacement de données sur un SQL Server local pour Machine Learning, voir [Déplacer des données vers SQL Server sur une machine virtuelle Azure](machine-learning-data-science-move-sql-server-virtual-machine.md).</span><span class="sxs-lookup"><span data-stu-id="3d578-106">For a topic that outlines the options for moving data to an on-premises SQL Server for Machine Learning, see [Move data to SQL Server on an Azure virtual machine](machine-learning-data-science-move-sql-server-virtual-machine.md).</span></span>

<span data-ttu-id="3d578-107">Le **menu** suivant pointe vers des rubriques qui expliquent comment recevoir des données dans d’autres environnements cibles où les données peuvent être stockées et traitées pendant le processus TDSP (Team Data Science Process).</span><span class="sxs-lookup"><span data-stu-id="3d578-107">The following **menu** links to topics that describe how to ingest data into target environments where the data can be stored and processed during the Team Data Science Process (TDSP).</span></span>

[!INCLUDE [cap-ingest-data-selector](../../includes/cap-ingest-data-selector.md)]

<span data-ttu-id="3d578-108">Le tableau suivant récapitule les options de déplacement de données vers une base de données SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="3d578-108">The following table summarizes the options for moving data to an Azure SQL Database.</span></span>

| <span data-ttu-id="3d578-109"><b>SOURCE</b></span><span class="sxs-lookup"><span data-stu-id="3d578-109"><b>SOURCE</b></span></span> | <span data-ttu-id="3d578-110"><b>DESTINATION : base de données SQL Azure</b></span><span class="sxs-lookup"><span data-stu-id="3d578-110"><b>DESTINATION: Azure SQL Database</b></span></span> |
| --- | --- |
| <span data-ttu-id="3d578-111"><b>Fichier plat (mise en forme CSV ou TSV)</b></span><span class="sxs-lookup"><span data-stu-id="3d578-111"><b>Flat file (CSV or TSV formatted)</b></span></span> |<span data-ttu-id="3d578-112"><a href="#bulk-insert-sql-query">Requête SQL Bulk Insert</span><span class="sxs-lookup"><span data-stu-id="3d578-112"><a href="#bulk-insert-sql-query">Bulk Insert SQL Query</span></span> |
| <span data-ttu-id="3d578-113"><b>Serveur SQL Server local</b></span><span class="sxs-lookup"><span data-stu-id="3d578-113"><b>On-premises SQL Server</b></span></span> |<span data-ttu-id="3d578-114">1. <a href="#export-flat-file">Exporter dans un fichier plat</span><span class="sxs-lookup"><span data-stu-id="3d578-114">1. <a href="#export-flat-file">Export to Flat File</span></span><br> <span data-ttu-id="3d578-115">2. <a href="#insert-tables-bcp">Assistant Migration de la base de données SQL</span><span class="sxs-lookup"><span data-stu-id="3d578-115">2. <a href="#insert-tables-bcp">SQL Database Migration Wizard</span></span><br> <span data-ttu-id="3d578-116">3. <a href="#db-migration">Sauvegarde et restauration de base de données</span><span class="sxs-lookup"><span data-stu-id="3d578-116">3. <a href="#db-migration">Database back up and restore</span></span><br> <span data-ttu-id="3d578-117">4. <a href="#adf">Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="3d578-117">4. <a href="#adf">Azure Data Factory</span></span> |

## <span data-ttu-id="3d578-118"><a name="prereqs"></a>Configuration requise</span><span class="sxs-lookup"><span data-stu-id="3d578-118"><a name="prereqs"></a>Prerequisites</span></span>
<span data-ttu-id="3d578-119">Les procédures décrites ici nécessitent :</span><span class="sxs-lookup"><span data-stu-id="3d578-119">The procedures outlined here require that you have:</span></span>

* <span data-ttu-id="3d578-120">Un **abonnement Azure**.</span><span class="sxs-lookup"><span data-stu-id="3d578-120">An **Azure subscription**.</span></span> <span data-ttu-id="3d578-121">Si vous n’avez pas d’abonnement, vous pouvez vous inscrire à un [essai gratuit](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="3d578-121">If you do not have a subscription, you can sign up for a [free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="3d578-122">Un **compte de stockage Azure**.</span><span class="sxs-lookup"><span data-stu-id="3d578-122">An **Azure storage account**.</span></span> <span data-ttu-id="3d578-123">Dans ce didacticiel, vous utilisez un compte de stockage Azure pour stocker des données.</span><span class="sxs-lookup"><span data-stu-id="3d578-123">You use an Azure storage account for storing the data in this tutorial.</span></span> <span data-ttu-id="3d578-124">Si vous ne possédez pas de compte de stockage Azure, consultez l’article [Créer un compte de stockage](../storage/common/storage-create-storage-account.md#create-a-storage-account) .</span><span class="sxs-lookup"><span data-stu-id="3d578-124">If you don't have an Azure storage account, see the [Create a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account) article.</span></span> <span data-ttu-id="3d578-125">Après avoir créé le compte de stockage, vous devez obtenir la clé du compte utilisée pour accéder au stockage.</span><span class="sxs-lookup"><span data-stu-id="3d578-125">After you have created the storage account, you need to obtain the account key used to access the storage.</span></span> <span data-ttu-id="3d578-126">Voir [Gérer vos clés d’accès de stockage](../storage/common/storage-create-storage-account.md#manage-your-storage-access-keys).</span><span class="sxs-lookup"><span data-stu-id="3d578-126">See [Manage your storage access keys](../storage/common/storage-create-storage-account.md#manage-your-storage-access-keys).</span></span>
* <span data-ttu-id="3d578-127">Un accès à une **base de données Azure SQL Database**.</span><span class="sxs-lookup"><span data-stu-id="3d578-127">Access to an **Azure SQL Database**.</span></span> <span data-ttu-id="3d578-128">Si vous devez configurer une base de données Azure SQL Database, l’article [Bien démarrer avec Microsoft Azure SQL Database](../sql-database/sql-database-get-started.md) fournit des informations sur la configuration d’une nouvelle instance de base de données Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="3d578-128">If you must set up an Azure SQL Database, [Getting Started with Microsoft Azure SQL Database](../sql-database/sql-database-get-started.md) provides information on how to provision a new instance of an Azure SQL Database.</span></span>
* <span data-ttu-id="3d578-129">**Azure PowerShell** installé et configuré localement.</span><span class="sxs-lookup"><span data-stu-id="3d578-129">Installed and configured **Azure PowerShell** locally.</span></span> <span data-ttu-id="3d578-130">Pour obtenir des instructions, consultez la rubrique [Installation et configuration d'Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="3d578-130">For instructions, see [How to install and configure Azure PowerShell](/powershell/azure/overview).</span></span>

<span data-ttu-id="3d578-131">**Données** : les processus de migration sont illustrés à l’aide du [jeu de données NYC Taxi](http://chriswhong.com/open-data/foil_nyc_taxi/).</span><span class="sxs-lookup"><span data-stu-id="3d578-131">**Data**: The migration processes are demonstrated using the [NYC Taxi dataset](http://chriswhong.com/open-data/foil_nyc_taxi/).</span></span> <span data-ttu-id="3d578-132">Le jeu de données NYC Taxi contient des informations sur les données de voyage et les prix. Il est disponible sur Stockage Blob Azure : [NYC Taxi Data](http://www.andresmh.com/nyctaxitrips/).</span><span class="sxs-lookup"><span data-stu-id="3d578-132">The NYC Taxi dataset contains information on trip data and fairs and is available on Azure blob storage: [NYC Taxi Data](http://www.andresmh.com/nyctaxitrips/).</span></span> <span data-ttu-id="3d578-133">Un échantillon et une description de ces fichiers sont fournis dans la [description du jeu de données des voyages NYC Taxi](machine-learning-data-science-process-sql-walkthrough.md#dataset).</span><span class="sxs-lookup"><span data-stu-id="3d578-133">A sample and description of these files are provided in [NYC Taxi Trips Dataset Description](machine-learning-data-science-process-sql-walkthrough.md#dataset).</span></span>

<span data-ttu-id="3d578-134">Vous pouvez adapter les procédures décrites ici à un jeu de vos propres données ou suivre les étapes décrites à l'aide du jeu de données NYC Taxi.</span><span class="sxs-lookup"><span data-stu-id="3d578-134">You can either adapt the procedures described here to a set of your own data or follow the steps as described by using the NYC Taxi dataset.</span></span> <span data-ttu-id="3d578-135">Pour télécharger le jeu de données NYC Taxi dans votre base de données SQL Server locale, suivez la procédure décrite dans [Importer des données en bloc dans SQL Server Database](machine-learning-data-science-process-sql-walkthrough.md#dbload).</span><span class="sxs-lookup"><span data-stu-id="3d578-135">To upload the NYC Taxi dataset into your on-premises SQL Server database, follow the procedure outlined in [Bulk Import Data into SQL Server Database](machine-learning-data-science-process-sql-walkthrough.md#dbload).</span></span> <span data-ttu-id="3d578-136">Ces instructions concernent un SQL Server sur une machine virtuelle Azure, mais la procédure de téléchargement vers le serveur local SQL Server est la même.</span><span class="sxs-lookup"><span data-stu-id="3d578-136">These instructions are for a SQL Server on an Azure Virtual Machine, but the procedure for uploading to the on-premises SQL Server is the same.</span></span>

## <span data-ttu-id="3d578-137"><a name="file-to-azure-sql-database"></a> Déplacement des données à partir d'un fichier plat source vers une base de données Azure SQL</span><span class="sxs-lookup"><span data-stu-id="3d578-137"><a name="file-to-azure-sql-database"></a> Moving data from a flat file source to an Azure SQL database</span></span>
<span data-ttu-id="3d578-138">Les données de fichiers plats (au format CSV ou TSV) peuvent être déplacées vers une base de données Azure SQL à l'aide d'une requête SQL Bulk Insert.</span><span class="sxs-lookup"><span data-stu-id="3d578-138">Data in flat files (CSV or TSV formatted) can be moved to an Azure SQL database using a Bulk Insert SQL Query.</span></span>

### <span data-ttu-id="3d578-139"><a name="bulk-insert-sql-query"></a> Requête SQL Bulk Insert</span><span class="sxs-lookup"><span data-stu-id="3d578-139"><a name="bulk-insert-sql-query"></a> Bulk Insert SQL Query</span></span>
<span data-ttu-id="3d578-140">Les étapes de la procédure à l'aide de la requête SQL Bulk Insert sont similaires à celles décrites dans les sections de déplacement des données à partir d'une source de fichier plat vers SQL Server sur une machine virtuelle Azure.</span><span class="sxs-lookup"><span data-stu-id="3d578-140">The steps for the procedure using the Bulk Insert SQL Query are similar to those covered in the sections for moving data from a flat file source to SQL Server on an Azure VM.</span></span> <span data-ttu-id="3d578-141">Pour plus d’informations, consultez [Requête SQL Bulk Insert](machine-learning-data-science-move-sql-server-virtual-machine.md#insert-tables-bulkquery).</span><span class="sxs-lookup"><span data-stu-id="3d578-141">For details, see [Bulk Insert SQL Query](machine-learning-data-science-move-sql-server-virtual-machine.md#insert-tables-bulkquery).</span></span>

## <span data-ttu-id="3d578-142"><a name="sql-on-prem-to-sazure-sql-database"></a> Déplacement de données à partir d’un serveur SQL Server local vers une base de données Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="3d578-142"><a name="sql-on-prem-to-sazure-sql-database"></a> Moving Data from on-premises SQL Server to an Azure SQL database</span></span>
<span data-ttu-id="3d578-143">Si la source de données est stockée dans un serveur SQL Server local, il existe différentes possibilités pour déplacer les données vers une base de données Azure SQL Database :</span><span class="sxs-lookup"><span data-stu-id="3d578-143">If the source data is stored in an on-premises SQL Server, there are various possibilities for moving the data to an Azure SQL database:</span></span>

1. [<span data-ttu-id="3d578-144">Exporter dans un fichier plat</span><span class="sxs-lookup"><span data-stu-id="3d578-144">Export to Flat File</span></span>](#export-flat-file)
2. [<span data-ttu-id="3d578-145">Assistant Migration de la base de données SQL</span><span class="sxs-lookup"><span data-stu-id="3d578-145">SQL Database Migration Wizard</span></span>](#insert-tables-bcp)
3. [<span data-ttu-id="3d578-146">Sauvegarde et restauration de base de données</span><span class="sxs-lookup"><span data-stu-id="3d578-146">Database back up and restore</span></span>](#db-migration)
4. [<span data-ttu-id="3d578-147">Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="3d578-147">Azure Data Factory</span></span>](#adf)

<span data-ttu-id="3d578-148">Les étapes des trois premières options sont très similaires à celles décrites dans les sections de [Déplacer des données vers un serveur SQL Server sur une machine virtuelle Azure](machine-learning-data-science-move-sql-server-virtual-machine.md) qui traitent des mêmes procédures.</span><span class="sxs-lookup"><span data-stu-id="3d578-148">The steps for the first three are very similar to those sections in [Move data to SQL Server on an Azure virtual machine](machine-learning-data-science-move-sql-server-virtual-machine.md) that cover these same procedures.</span></span> <span data-ttu-id="3d578-149">Vous trouverez dans les instructions ci-dessous des liens vers les sections appropriées de cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="3d578-149">Links to the appropriate sections in that topic are provided in the following instructions.</span></span>

### <span data-ttu-id="3d578-150"><a name="export-flat-file"></a>Exporter dans un fichier plat</span><span class="sxs-lookup"><span data-stu-id="3d578-150"><a name="export-flat-file"></a>Export to Flat File</span></span>
<span data-ttu-id="3d578-151">Les étapes de l’exportation vers un fichier plat sont similaires à celles de la section [Exporter dans un fichier plat](machine-learning-data-science-move-sql-server-virtual-machine.md#export-flat-file).</span><span class="sxs-lookup"><span data-stu-id="3d578-151">The steps for this exporting to a flat file are similar to those covered in [Export to Flat File](machine-learning-data-science-move-sql-server-virtual-machine.md#export-flat-file).</span></span>

### <span data-ttu-id="3d578-152"><a name="insert-tables-bcp"></a>Assistant Migration de la base de données SQL</span><span class="sxs-lookup"><span data-stu-id="3d578-152"><a name="insert-tables-bcp"></a>SQL Database Migration Wizard</span></span>
<span data-ttu-id="3d578-153">Les étapes d’utilisation de l’Assistant de migration de base de données SQL sont semblables à celles de la section [Assistant Migration de la base de données SQL](machine-learning-data-science-move-sql-server-virtual-machine.md#sql-migration).</span><span class="sxs-lookup"><span data-stu-id="3d578-153">The steps for using the SQL Database Migration Wizard are similar to those covered in [SQL Database Migration Wizard](machine-learning-data-science-move-sql-server-virtual-machine.md#sql-migration).</span></span>

### <span data-ttu-id="3d578-154"><a name="db-migration"></a>Sauvegarde et restauration de base de données</span><span class="sxs-lookup"><span data-stu-id="3d578-154"><a name="db-migration"></a>Database back up and restore</span></span>
<span data-ttu-id="3d578-155">Les étapes d’utilisation de la sauvegarde et de restauration de la base de données sont similaires à celles de la section [Sauvegarde et restauration de base de données](machine-learning-data-science-move-sql-server-virtual-machine.md#sql-backup).</span><span class="sxs-lookup"><span data-stu-id="3d578-155">The steps for using database back up and restore are similar to those covered in [Database back up and restore](machine-learning-data-science-move-sql-server-virtual-machine.md#sql-backup).</span></span>

### <span data-ttu-id="3d578-156"><a name="adf"></a>Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="3d578-156"><a name="adf"></a>Azure Data Factory</span></span>
<span data-ttu-id="3d578-157">La procédure de déplacement des données vers une base de données Azure SQL Database avec Azure Data Factory (ADF) est décrite dans la rubrique [Déplacement de données à partir d’un serveur SQL local vers SQL Azure avec Azure Data Factory](machine-learning-data-science-move-sql-azure-adf.md).</span><span class="sxs-lookup"><span data-stu-id="3d578-157">The procedure for moving data to an Azure SQL database with Azure Data Factory (ADF) is provided in the topic [Move data from an on-premises SQL server to SQL Azure with Azure Data Factory](machine-learning-data-science-move-sql-azure-adf.md).</span></span> <span data-ttu-id="3d578-158">Cette rubrique montre comment déplacer des données d’une base de données SQL Server locale vers une base de données Azure SQL Database via le stockage d’objets blob Azure à l’aide d’ADF.</span><span class="sxs-lookup"><span data-stu-id="3d578-158">This topic shows how to move data from an on-premises SQL Server database to an Azure SQL database via Azure Blob Storage using ADF.</span></span>

<span data-ttu-id="3d578-159">Envisagez d’utiliser ADF lorsque les données doivent être migrées en permanence dans un scénario hybride qui accède aux ressources locales et cloud, et lorsque les données sont traitées ou doivent être modifiées ou si vous avez une logique métier ajoutée en cours de migration.</span><span class="sxs-lookup"><span data-stu-id="3d578-159">Consider using ADF when data needs to be continually migrated in a hybrid scenario that accesses both on-premises and cloud resources, and when the data is transacted or needs to be modified or have business logic added to it when being migrated.</span></span> <span data-ttu-id="3d578-160">ADF permet la planification et la surveillance des travaux à l'aide de scripts JSON simples qui gèrent le déplacement des données sur une base périodique.</span><span class="sxs-lookup"><span data-stu-id="3d578-160">ADF allows for the scheduling and monitoring of jobs using simple JSON scripts that manage the movement of data on a periodic basis.</span></span> <span data-ttu-id="3d578-161">ADF dispose également d'autres fonctionnalités comme la prise en charge des opérations complexes.</span><span class="sxs-lookup"><span data-stu-id="3d578-161">ADF also has other capabilities such as support for complex operations.</span></span>
