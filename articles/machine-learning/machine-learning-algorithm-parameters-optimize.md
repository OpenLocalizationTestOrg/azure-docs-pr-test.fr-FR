---
title: aaaOptimize vos algorithmes dans Azure Machine Learning | Documents Microsoft
description: "Explique comment le paramètre optimal de hello toochoose définie un algorithme dans Azure Machine Learning."
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 6717e30e-b8d8-4cc1-ad0b-1d4727928d32
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/29/2017
ms.author: bradsev
ms.openlocfilehash: fbf2f71abdbce19483fb048d67a39cbb368a928e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="choose-parameters-toooptimize-your-algorithms-in-azure-machine-learning"></a><span data-ttu-id="b2103-103">Choisissez des paramètres toooptimize vos algorithmes dans Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="b2103-103">Choose parameters toooptimize your algorithms in Azure Machine Learning</span></span>
<span data-ttu-id="b2103-104">Cette rubrique décrit le hyperparameter de droite toochoose hello un algorithme dans Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="b2103-104">This topic describes how toochoose hello right hyperparameter set for an algorithm in Azure Machine Learning.</span></span> <span data-ttu-id="b2103-105">La plupart des algorithmes d’apprentissage automatique ont tooset de paramètres.</span><span class="sxs-lookup"><span data-stu-id="b2103-105">Most machine learning algorithms have parameters tooset.</span></span> <span data-ttu-id="b2103-106">Lorsque vous l’apprentissage d’un modèle, vous devez tooprovide valeurs pour ces paramètres.</span><span class="sxs-lookup"><span data-stu-id="b2103-106">When you train a model, you need tooprovide values for those parameters.</span></span> <span data-ttu-id="b2103-107">l’efficacité de Hello du modèle formé de hello dépend des paramètres de modèle hello que vous choisissez.</span><span class="sxs-lookup"><span data-stu-id="b2103-107">hello efficacy of hello trained model depends on hello model parameters that you choose.</span></span> <span data-ttu-id="b2103-108">processus de recherche de jeu optimal de hello de paramètres Hello est connu en tant que *sélection de modèle*.</span><span class="sxs-lookup"><span data-stu-id="b2103-108">hello process of finding hello optimal set of parameters is known as *model selection*.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

<span data-ttu-id="b2103-109">Il existe de sélection de modèle de différentes manières toodo.</span><span class="sxs-lookup"><span data-stu-id="b2103-109">There are various ways toodo model selection.</span></span> <span data-ttu-id="b2103-110">Dans l’apprentissage, la validation croisée est une des méthodes hello plus largement utilisé pour la sélection de modèle, et il est le mécanisme de sélection de modèle par défaut hello dans Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="b2103-110">In machine learning, cross-validation is one of hello most widely used methods for model selection, and it is hello default model selection mechanism in Azure Machine Learning.</span></span> <span data-ttu-id="b2103-111">Comme les langages R et Python sont pris en charge par Azure Machine Learning, vous pouvez toujours implémenter votre propre mécanisme de sélection de modèle, via l’un ou l’autre de ces langages.</span><span class="sxs-lookup"><span data-stu-id="b2103-111">Because Azure Machine Learning supports both R and Python, you can always implement their own model selection mechanisms by using either R or Python.</span></span>

<span data-ttu-id="b2103-112">Il existe quatre étapes dans le processus de hello de trouver le meilleur jeu de paramètres hello :</span><span class="sxs-lookup"><span data-stu-id="b2103-112">There are four steps in hello process of finding hello best parameter set:</span></span>

1. <span data-ttu-id="b2103-113">**Définir l’espace du paramètre hello**: pour l’algorithme hello d’abord déterminer les valeurs de paramètre exacte hello souhaité tooconsider.</span><span class="sxs-lookup"><span data-stu-id="b2103-113">**Define hello parameter space**: For hello algorithm, first decide hello exact parameter values you want tooconsider.</span></span>
2. <span data-ttu-id="b2103-114">**Définir les paramètres de validation croisée hello**: décidez comment toochoose la validation croisée est prise en charge pour le jeu de données hello.</span><span class="sxs-lookup"><span data-stu-id="b2103-114">**Define hello cross-validation settings**: Decide how toochoose cross-validation folds for hello dataset.</span></span>
3. <span data-ttu-id="b2103-115">**Définir la métrique de hello**: décidez quels toouse métrique pour déterminer hello meilleur ensemble de paramètres, tels que de précision, quadratique moyenne racine f-score, la précision, rappel ou erreur.</span><span class="sxs-lookup"><span data-stu-id="b2103-115">**Define hello metric**: Decide what metric toouse for determining hello best set of parameters, such as accuracy, root mean squared error, precision, recall, or f-score.</span></span>
4. <span data-ttu-id="b2103-116">**L’apprentissage, évaluer et comparer**: pour chaque combinaison unique de valeurs de paramètre hello, la validation croisée est effectuée par et en fonction de métrique d’erreur hello que vous définissez.</span><span class="sxs-lookup"><span data-stu-id="b2103-116">**Train, evaluate, and compare**: For each unique combination of hello parameter values, cross-validation is carried out by and based on hello error metric you define.</span></span> <span data-ttu-id="b2103-117">Après l’évaluation et la comparaison, vous pouvez choisir le modèle de meilleures performances de hello.</span><span class="sxs-lookup"><span data-stu-id="b2103-117">After evaluation and comparison, you can choose hello best-performing model.</span></span>

<span data-ttu-id="b2103-118">Hello suivant image illustre montre comment cela peut être effectuée dans Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="b2103-118">hello following image illustrates shows how this can be achieved in Azure Machine Learning.</span></span>

![Trouver hello meilleur jeu de paramètres](./media/machine-learning-algorithm-parameters-optimize/fig1.png)

## <a name="define-hello-parameter-space"></a><span data-ttu-id="b2103-120">Définir l’espace du paramètre hello</span><span class="sxs-lookup"><span data-stu-id="b2103-120">Define hello parameter space</span></span>
<span data-ttu-id="b2103-121">Vous pouvez définir le paramètre hello défini à l’étape de l’initialisation de modèle hello.</span><span class="sxs-lookup"><span data-stu-id="b2103-121">You can define hello parameter set at hello model initialization step.</span></span> <span data-ttu-id="b2103-122">volet des paramètres de tous les algorithmes d’apprentissage automatique Hello comporte deux modes de formateur : *seul paramètre* et *plage de paramètres*.</span><span class="sxs-lookup"><span data-stu-id="b2103-122">hello parameter pane of all machine learning algorithms has two trainer modes: *Single Parameter* and *Parameter Range*.</span></span> <span data-ttu-id="b2103-123">Choisissez le mode Plage de paramètres.</span><span class="sxs-lookup"><span data-stu-id="b2103-123">Choose Parameter Range mode.</span></span> <span data-ttu-id="b2103-124">En mode Plage de paramètres, vous pouvez entrer plusieurs valeurs pour chaque paramètre.</span><span class="sxs-lookup"><span data-stu-id="b2103-124">In Parameter Range mode, you can enter multiple values for each parameter.</span></span> <span data-ttu-id="b2103-125">Vous pouvez entrer des valeurs séparées par des virgules dans la zone de texte hello.</span><span class="sxs-lookup"><span data-stu-id="b2103-125">You can enter comma-separated values in hello text box.</span></span>

![Arbre de décision optimisé à deux classes, paramètre unique](./media/machine-learning-algorithm-parameters-optimize/fig2.png)

 <span data-ttu-id="b2103-127">Ou bien, vous pouvez définir des points de hello minimale et maximale de la grille de hello et du nombre total de hello de toobe points généré avec **utiliser le Générateur de plage**.</span><span class="sxs-lookup"><span data-stu-id="b2103-127">Alternately, you can define hello maximum and minimum points of hello grid and hello total number of points toobe generated with **Use Range Builder**.</span></span> <span data-ttu-id="b2103-128">Par défaut, les valeurs de paramètre hello sont générés sur une échelle linéaire.</span><span class="sxs-lookup"><span data-stu-id="b2103-128">By default, hello parameter values are generated on a linear scale.</span></span> <span data-ttu-id="b2103-129">Toutefois, si **échelle logarithmique** est activée, les valeurs hello sont générés dans l’échelle de journal hello (rapport entre des points adjacents hello hello est constante au lieu de leur différence).</span><span class="sxs-lookup"><span data-stu-id="b2103-129">But if **Log Scale** is checked, hello values are generated in hello log scale (that is, hello ratio of hello adjacent points is constant instead of their difference).</span></span> <span data-ttu-id="b2103-130">Pour les paramètres entiers, vous pouvez définir une plage à l’aide d’un trait d’union.</span><span class="sxs-lookup"><span data-stu-id="b2103-130">For integer parameters, you can define a range by using a hyphen.</span></span> <span data-ttu-id="b2103-131">Par exemple, « 1-10 » signifie que tous les entiers compris entre 1 et 10 (tous deux inclus) forment le jeu de paramètres hello.</span><span class="sxs-lookup"><span data-stu-id="b2103-131">For example, “1-10” means that all integers between 1 and 10 (both inclusive) form hello parameter set.</span></span> <span data-ttu-id="b2103-132">Un mode mixte est également pris en charge.</span><span class="sxs-lookup"><span data-stu-id="b2103-132">A mixed mode is also supported.</span></span> <span data-ttu-id="b2103-133">Par exemple, hello jeu de paramètres « 1-10, 20, 50 « inclurait entiers de 1 à 10, 20 et 50.</span><span class="sxs-lookup"><span data-stu-id="b2103-133">For example, hello parameter set “1-10, 20, 50” would include integers 1-10, 20, and 50.</span></span>

![Arbre de décision optimisé à deux classes, plage de paramètres](./media/machine-learning-algorithm-parameters-optimize/fig3.png)

## <a name="define-cross-validation-folds"></a><span data-ttu-id="b2103-135">Définir les plis de validation croisée</span><span class="sxs-lookup"><span data-stu-id="b2103-135">Define cross-validation folds</span></span>
<span data-ttu-id="b2103-136">Hello [Partition and Sample] [ partition-and-sample] module peut être utilisé toorandomly affecter plis toohello données.</span><span class="sxs-lookup"><span data-stu-id="b2103-136">hello [Partition and Sample][partition-and-sample] module can be used toorandomly assign folds toohello data.</span></span> <span data-ttu-id="b2103-137">Bonjour suivant l’exemple de configuration pour le module de hello, nous définir cinq plis et affecter aléatoirement les instances d’exemple toohello numéros un pli.</span><span class="sxs-lookup"><span data-stu-id="b2103-137">In hello following sample configuration for hello module, we define five folds and randomly assign a fold number toohello sample instances.</span></span>

![Partition et échantillon](./media/machine-learning-algorithm-parameters-optimize/fig4.png)

## <a name="define-hello-metric"></a><span data-ttu-id="b2103-139">Définir la métrique de hello</span><span class="sxs-lookup"><span data-stu-id="b2103-139">Define hello metric</span></span>
<span data-ttu-id="b2103-140">Hello [Hyperparamètres de modèle paramétrer] [ tune-model-hyperparameters] module prend en charge pour le choix de manière empirique hello meilleur ensemble de paramètres pour un algorithme spécifique et un jeu de données.</span><span class="sxs-lookup"><span data-stu-id="b2103-140">hello [Tune Model Hyperparameters][tune-model-hyperparameters] module provides support for empirically choosing hello best set of parameters for a given algorithm and dataset.</span></span> <span data-ttu-id="b2103-141">En outre tooother des informations concernant la formation hello de modèle, hello **propriétés** volet de ce module inclut métrique hello pour déterminer le jeu de paramètres meilleures hello.</span><span class="sxs-lookup"><span data-stu-id="b2103-141">In addition tooother information regarding training hello model, hello **Properties** pane of this module includes hello metric for determining hello best parameter set.</span></span> <span data-ttu-id="b2103-142">Il présente deux listes déroulantes différentes pour les algorithmes de classification et de régression, respectivement.</span><span class="sxs-lookup"><span data-stu-id="b2103-142">It has two different drop-down list boxes for classification and regression algorithms, respectively.</span></span> <span data-ttu-id="b2103-143">Si l’algorithme hello considérée est un algorithme de classification, la métrique de régression hello est ignorée et vice versa.</span><span class="sxs-lookup"><span data-stu-id="b2103-143">If hello algorithm under consideration is a classification algorithm, hello regression metric is ignored and vice versa.</span></span> <span data-ttu-id="b2103-144">Dans cet exemple spécifique, les mesures de hello sont **précision**.</span><span class="sxs-lookup"><span data-stu-id="b2103-144">In this specific example, hello metric is **Accuracy**.</span></span>   

![Paramètres de balayage](./media/machine-learning-algorithm-parameters-optimize/fig5.png)

## <a name="train-evaluate-and-compare"></a><span data-ttu-id="b2103-146">Apprentissage, évaluation et comparaison</span><span class="sxs-lookup"><span data-stu-id="b2103-146">Train, evaluate, and compare</span></span>
<span data-ttu-id="b2103-147">Hello même [Hyperparamètres de modèle paramétrer] [ tune-model-hyperparameters] module effectue l’apprentissage de tous les modèles de hello qui correspondent le jeu de paramètres toohello, évalue diverses métriques et crée ensuite hello mieux formé selon hello métrique sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="b2103-147">hello same [Tune Model Hyperparameters][tune-model-hyperparameters] module trains all hello models that correspond toohello parameter set, evaluates various metrics, and then creates hello best-trained model based on hello metric you choose.</span></span> <span data-ttu-id="b2103-148">Ce module dispose de deux entrées obligatoires :</span><span class="sxs-lookup"><span data-stu-id="b2103-148">This module has two mandatory inputs:</span></span>

* <span data-ttu-id="b2103-149">apprenant non formé de Hello</span><span class="sxs-lookup"><span data-stu-id="b2103-149">hello untrained learner</span></span>
* <span data-ttu-id="b2103-150">jeu de données Hello</span><span class="sxs-lookup"><span data-stu-id="b2103-150">hello dataset</span></span>

<span data-ttu-id="b2103-151">module de Hello possède également un jeu de données facultatif d’entrée.</span><span class="sxs-lookup"><span data-stu-id="b2103-151">hello module also has an optional dataset input.</span></span> <span data-ttu-id="b2103-152">Connectez le jeu de données de hello avec l’entrée de jeu de données obligatoire toohello pli plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="b2103-152">Connect hello dataset with fold information toohello mandatory dataset input.</span></span> <span data-ttu-id="b2103-153">Si hello dataset ne possède pas toutes les informations de pli, une facteur 10 la validation croisée est exécutée automatiquement par défaut.</span><span class="sxs-lookup"><span data-stu-id="b2103-153">If hello dataset is not assigned any fold information, then a 10-fold cross-validation is automatically executed by default.</span></span> <span data-ttu-id="b2103-154">Si l’affectation de plis hello n’est pas effectuée et un jeu de données de validation est fourni sur le port de jeu de données facultatif hello, puis un mode d’apprentissage et de test est choisi et hello le premier jeu de données est le modèle de hello tootrain utilisés pour chaque combinaison de paramètres.</span><span class="sxs-lookup"><span data-stu-id="b2103-154">If hello fold assignment is not done and a validation dataset is provided at hello optional dataset port, then a train-test mode is chosen and hello first dataset is used tootrain hello model for each parameter combination.</span></span>

![Classifieur d’arbre de décision optimisé](./media/machine-learning-algorithm-parameters-optimize/fig6a.png)

<span data-ttu-id="b2103-156">modèle de Hello est ensuite évaluée sur un jeu de données de validation hello.</span><span class="sxs-lookup"><span data-stu-id="b2103-156">hello model is then evaluated on hello validation dataset.</span></span> <span data-ttu-id="b2103-157">Hello laissées sur port de sortie de hello module affiche mesures différentes fonctions de valeurs de paramètre.</span><span class="sxs-lookup"><span data-stu-id="b2103-157">hello left output port of hello module shows different metrics as functions of parameter values.</span></span> <span data-ttu-id="b2103-158">Hello droite port de sortie donne le modèle formé hello qui correspond le modèle de meilleures performances toohello selon toohello choisi métrique (**précision** dans ce cas).</span><span class="sxs-lookup"><span data-stu-id="b2103-158">hello right output port gives hello trained model that corresponds toohello best-performing model according toohello chosen metric (**Accuracy** in this case).</span></span>  

![Jeu de données de validation](./media/machine-learning-algorithm-parameters-optimize/fig6b.png)

<span data-ttu-id="b2103-160">Vous pouvez voir les paramètres exacts hello choisis en affichant le port de sortie de droite hello.</span><span class="sxs-lookup"><span data-stu-id="b2103-160">You can see hello exact parameters chosen by visualizing hello right output port.</span></span> <span data-ttu-id="b2103-161">Ce modèle peut être utilisé lors du calcul de la notation d’un ensemble de test ou dans un service web mis en œuvre après l’enregistrement en tant que modèle formé.</span><span class="sxs-lookup"><span data-stu-id="b2103-161">This model can be used in scoring a test set or in an operationalized web service after saving as a trained model.</span></span>

<!-- Module References -->
[partition-and-sample]: https://msdn.microsoft.com/library/azure/a8726e34-1b3e-4515-b59a-3e4a475654b8/
[tune-model-hyperparameters]: https://msdn.microsoft.com/library/azure/038d91b6-c2f2-42a1-9215-1f2c20ed1b40/
