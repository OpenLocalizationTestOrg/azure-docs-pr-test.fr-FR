---
title: "Maintenance prédictive dans l’industrie aérospatiale avec Azure - Guide technique de la solution Cortana Intelligence | Microsoft Docs"
description: "Guide technique d’utilisation du modèle de solution avec Microsoft Cortana Intelligence pour la maintenance prédictive dans les secteurs de l’aérospatial, des services publics et du transport."
services: cortana-analytics
documentationcenter: 
author: fboylu
manager: jhubbard
editor: cgronlun
ms.assetid: 2c4d2147-0f05-4705-8748-9527c2c1f033
ms.service: cortana-analytics
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/14/2017
ms.author: fboylu
ms.openlocfilehash: d878a9b4d2e614070b5e0bf0cee5a2871963d6ef
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="technical-guide-to-the-cortana-intelligence-solution-template-for-predictive-maintenance-in-aerospace-and-other-businesses"></a><span data-ttu-id="e7d23-103">Guide technique du modèle de solution Cortana Intelligence pour la maintenance prédictive dans l’industrie aérospatiale et d’autres secteurs d’activité</span><span class="sxs-lookup"><span data-stu-id="e7d23-103">Technical guide to the Cortana Intelligence Solution Template for predictive maintenance in aerospace and other businesses</span></span>

## <a name="important"></a><span data-ttu-id="e7d23-104">**Important**</span><span class="sxs-lookup"><span data-stu-id="e7d23-104">**Important**</span></span>
<span data-ttu-id="e7d23-105">Cet article est obsolète.</span><span class="sxs-lookup"><span data-stu-id="e7d23-105">This article has been deprecated.</span></span> <span data-ttu-id="e7d23-106">Les informations sont toujours d’actualité pour la problématique, c’est-à-dire la maintenance prédictive dans l’aérospatiale, toutefois, le dernier article comportant les informations les plus récentes est disponible [ici](https://github.com/Azure/cortana-intelligence-predictive-maintenance-aerospace).</span><span class="sxs-lookup"><span data-stu-id="e7d23-106">The information is still relevant to the problem at hand, i.e. Predictive Maintenance in Aerospace, but the latest article with the most up to date information can be found [here](https://github.com/Azure/cortana-intelligence-predictive-maintenance-aerospace).</span></span> 

## <a name="acknowledgements"></a><span data-ttu-id="e7d23-107">**Remerciements**</span><span class="sxs-lookup"><span data-stu-id="e7d23-107">**Acknowledgements**</span></span>
<span data-ttu-id="e7d23-108">Cet article a été coécrit par les scientifiques de données Yan Zhang, Gauher Shaheen, Fidan Boylu Uz et par l’ingénieur logiciel Dan Grecoe chez Microsoft.</span><span class="sxs-lookup"><span data-stu-id="e7d23-108">This article is authored by data scientists Yan Zhang, Gauher Shaheen, Fidan Boylu Uz and software engineer Dan Grecoe at Microsoft.</span></span>

## <a name="overview"></a><span data-ttu-id="e7d23-109">**Vue d'ensemble**</span><span class="sxs-lookup"><span data-stu-id="e7d23-109">**Overview**</span></span>
<span data-ttu-id="e7d23-110">Les modèles de solution visent à accélérer le processus de création d’une démonstration E2E sur Cortana Intelligence Suite.</span><span class="sxs-lookup"><span data-stu-id="e7d23-110">Solution Templates are designed to accelerate the process of building an E2E demo on top of Cortana Intelligence Suite.</span></span> <span data-ttu-id="e7d23-111">Un modèle déployé fournit à votre abonnement les composants Cortana Intelligence nécessaires et établit les relations entre eux.</span><span class="sxs-lookup"><span data-stu-id="e7d23-111">A deployed template will provision your subscription with necessary Cortana Intelligence components and build the relationships between them.</span></span> <span data-ttu-id="e7d23-112">Il alimente également le pipeline de données avec des exemples de données générées à partir d’une application de générateur de données que vous téléchargez et installez sur votre ordinateur local après avoir déployé le modèle de solution.</span><span class="sxs-lookup"><span data-stu-id="e7d23-112">It also seeds the data pipeline with sample data generated from a data generator application which you will download and install on your local machine after you deploy the solution template.</span></span> <span data-ttu-id="e7d23-113">Les données issues du générateur alimentent le pipeline de données et commencent à générer des prédictions d’apprentissage automatique que vous pouvez ensuite visualiser sur le tableau de bord Power BI.</span><span class="sxs-lookup"><span data-stu-id="e7d23-113">The data generated from the generator will hydrate the data pipeline and start generating machine learning predictions which can then be visualized on the Power BI dashboard.</span></span> <span data-ttu-id="e7d23-114">Le processus de déploiement vous guide à travers plusieurs étapes permettant de configurer les informations d’identification de votre solution.</span><span class="sxs-lookup"><span data-stu-id="e7d23-114">The deployment process will guide you through several steps to set up your solution credentials.</span></span> <span data-ttu-id="e7d23-115">Veillez à consigner les informations d’identification, telles que le nom de la solution, le nom d’utilisateur et le mot de passe, que vous renseignez pendant le déploiement.</span><span class="sxs-lookup"><span data-stu-id="e7d23-115">Make sure you record these credentials such as solution name, username, and password you provide during the deployment.</span></span>  

<span data-ttu-id="e7d23-116">L’objectif de ce document est de vous présenter l’architecture de référence et les différents composants configurés dans votre abonnement dans le cadre de ce modèle de solution.</span><span class="sxs-lookup"><span data-stu-id="e7d23-116">The goal of this document is to explain the reference architecture and different components provisioned in your subscription as part of this solution template.</span></span> <span data-ttu-id="e7d23-117">Ce document explique également comment remplacer les exemples de données par vos propres données réelles afin de vous permettre d’accéder à des analyses et à des prévisions directement dérivées de vos propres données.</span><span class="sxs-lookup"><span data-stu-id="e7d23-117">The document also talks about how to replace the sample data with real data of your own to be able to see insights and predictions from your own data.</span></span> <span data-ttu-id="e7d23-118">Il décrit enfin les éléments du modèle de solution que vous devrez modifier si vous souhaitez personnaliser la solution avec vos propres données.</span><span class="sxs-lookup"><span data-stu-id="e7d23-118">Additionally, the document discusses the parts of the Solution Template that would need to be modified if you wanted to customize the solution with your own data.</span></span> <span data-ttu-id="e7d23-119">Vous trouverez à la fin de ce document des instructions sur la façon de configurer le tableau de bord Power BI pour ce modèle de solution.</span><span class="sxs-lookup"><span data-stu-id="e7d23-119">Instructions on how to build the Power BI dashboard for this Solution Template are provided at the end.</span></span>

> [!TIP]
> <span data-ttu-id="e7d23-120">Vous pouvez télécharger et imprimer une [version PDF de ce document](http://download.microsoft.com/download/F/4/D/F4D7D208-D080-42ED-8813-6030D23329E9/cortana-analytics-technical-guide-predictive-maintenance.pdf).</span><span class="sxs-lookup"><span data-stu-id="e7d23-120">You can download and print a [PDF version of this document](http://download.microsoft.com/download/F/4/D/F4D7D208-D080-42ED-8813-6030D23329E9/cortana-analytics-technical-guide-predictive-maintenance.pdf).</span></span>
> 
> 

## <a name="big-picture"></a><span data-ttu-id="e7d23-121">**Grandes lignes**</span><span class="sxs-lookup"><span data-stu-id="e7d23-121">**Big picture**</span></span>
![Architecture de maintenance prédictive](media/cortana-analytics-technical-guide-predictive-maintenance/predictive-maintenance-architecture.png)

<span data-ttu-id="e7d23-123">Le déploiement de la solution entraîne l’activation de divers services Azure dans Cortana Analytics Suite (*c’est-à-dire* Event Hub, Stream Analytics, HDInsight, Data Factory, Machine Learning, *etc.*).</span><span class="sxs-lookup"><span data-stu-id="e7d23-123">When the solution is deployed, various Azure services within Cortana Analytics Suite are activated (*i.e.* Event Hub, Stream Analytics, HDInsight, Data Factory, Machine Learning, *etc.*).</span></span> <span data-ttu-id="e7d23-124">Le schéma d’architecture ci-dessus illustre globalement la manière dont est construite pour le modèle de solution de maintenance prédictive pour le secteur aérospatial.</span><span class="sxs-lookup"><span data-stu-id="e7d23-124">The architecture diagram above shows, at a high level, how the Predictive Maintenance for Aerospace Solution Template is constructed from end-to-end.</span></span> <span data-ttu-id="e7d23-125">Vous pouvez passer en revue ces services dans le portail Azure en cliquant dessus sur le schéma du modèle de solution créé avec le déploiement de la solution, à l’exception du service HDInsight, qui est configuré à la demande quand les activités de pipeline connexes doivent être exécutées avant d’être supprimées dans la foulée.</span><span class="sxs-lookup"><span data-stu-id="e7d23-125">You will be able to investigate these services in the azure portal by clicking on them on the solution template diagram created with the deployment of the solution with the exception of HDInsight as this service is provisioned on demand when the related pipeline activities are required to run and deleted afterwards.</span></span>
<span data-ttu-id="e7d23-126">Vous pouvez également télécharger ce [schéma en taille réelle](http://download.microsoft.com/download/1/9/B/19B815F0-D1B0-4F67-AED3-A40544225FD1/ca-topologies-maintenance-prediction.png).</span><span class="sxs-lookup"><span data-stu-id="e7d23-126">You can download a [full-size version of the diagram](http://download.microsoft.com/download/1/9/B/19B815F0-D1B0-4F67-AED3-A40544225FD1/ca-topologies-maintenance-prediction.png).</span></span>

<span data-ttu-id="e7d23-127">Les sections suivantes décrivent chaque élément du schéma.</span><span class="sxs-lookup"><span data-stu-id="e7d23-127">The following sections describe each piece.</span></span>

## <a name="data-source-and-ingestion"></a><span data-ttu-id="e7d23-128">**Source et ingestion de données**</span><span class="sxs-lookup"><span data-stu-id="e7d23-128">**Data source and ingestion**</span></span>
### <a name="synthetic-data-source"></a><span data-ttu-id="e7d23-129">Source de données de synthèse</span><span class="sxs-lookup"><span data-stu-id="e7d23-129">Synthetic data source</span></span>
<span data-ttu-id="e7d23-130">Pour ce modèle, la source de données utilisée est générée à partir d’une application de bureau que vous allez télécharger et exécuter localement après la réussite du déploiement.</span><span class="sxs-lookup"><span data-stu-id="e7d23-130">For this template the data source used is generated from a desktop application that you will download and run locally after successful deployment.</span></span> <span data-ttu-id="e7d23-131">Vous trouverez les instructions de téléchargement et d’installation de cette application dans la barre des propriétés quand vous sélectionnez le premier nœud appelé Predictive Maintenance Data Generator sur le schéma du modèle de solution.</span><span class="sxs-lookup"><span data-stu-id="e7d23-131">You will find the instructions to download and install this application in the properties bar when you select the first node called Predictive Maintenance Data Generator on the solution template diagram.</span></span> <span data-ttu-id="e7d23-132">Cette application alimente le service [Azure Event Hub](#azure-event-hub) avec des points de données, ou événements, qui seront utilisés dans le reste du flux de la solution.</span><span class="sxs-lookup"><span data-stu-id="e7d23-132">This application feeds the [Azure Event Hub](#azure-event-hub) service with data points, or events, that will be used in the rest of the solution flow.</span></span> <span data-ttu-id="e7d23-133">Cette source de données est composée ou dérivée des données accessibles au public à partir du [référentiel de données de la NASA](http://ti.arc.nasa.gov/tech/dash/pcoe/prognostic-data-repository/) à l’aide du [jeu de données de simulation de la dégradation du turbomoteur](http://ti.arc.nasa.gov/tech/dash/pcoe/prognostic-data-repository/#turbofan).</span><span class="sxs-lookup"><span data-stu-id="e7d23-133">This data source is comprised of or derived from publicly available data from the [NASA data repository](http://ti.arc.nasa.gov/tech/dash/pcoe/prognostic-data-repository/) using the [Turbofan Engine Degradation Simulation Data Set](http://ti.arc.nasa.gov/tech/dash/pcoe/prognostic-data-repository/#turbofan).</span></span>

<span data-ttu-id="e7d23-134">L’application de génération d’événements alimente le service Azure Event Hub uniquement lorsqu’elle est exécutée sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="e7d23-134">The event generation application will populate the Azure Event Hub only while it's executing on your computer.</span></span>

### <a name="azure-event-hub"></a><span data-ttu-id="e7d23-135">Azure Event Hub</span><span class="sxs-lookup"><span data-stu-id="e7d23-135">Azure event hub</span></span>
<span data-ttu-id="e7d23-136">Le service [Azure Event Hub](https://azure.microsoft.com/services/event-hubs/) est le destinataire des données fournies par la source de données de synthèse décrite ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="e7d23-136">The [Azure Event Hub](https://azure.microsoft.com/services/event-hubs/) service is the recipient of the input provided by the Synthetic Data Source described above.</span></span>

## <a name="data-preparation-and-analysis"></a><span data-ttu-id="e7d23-137">**Préparation et analyse des données**</span><span class="sxs-lookup"><span data-stu-id="e7d23-137">**Data preparation and analysis**</span></span>
### <a name="azure-stream-analytics"></a><span data-ttu-id="e7d23-138">Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="e7d23-138">Azure Stream Analytics</span></span>
<span data-ttu-id="e7d23-139">Le service [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) sert à fournir des analyses en temps quasi-réel sur le flux d’entrée du service [Azure Event Hub](#azure-event-hub) et à publier les résultats dans un tableau de bord [Power BI](https://powerbi.microsoft.com). Il permet également d’archiver, dans le service [Azure Storage](https://azure.microsoft.com/services/storage/), tous les événements bruts entrants qui seront ensuite traités par le service [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/).</span><span class="sxs-lookup"><span data-stu-id="e7d23-139">The [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) service is used to provide near real-time analytics on the input stream from the [Azure Event Hub](#azure-event-hub) service and publish results onto a [Power BI](https://powerbi.microsoft.com) dashboard as well as archiving all raw incoming events to the [Azure Storage](https://azure.microsoft.com/services/storage/) service for later processing by the [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/) service.</span></span>

### <a name="hd-insights-custom-aggregation"></a><span data-ttu-id="e7d23-140">Agrégation personnalisée HD Insights</span><span class="sxs-lookup"><span data-stu-id="e7d23-140">HD Insights custom aggregation</span></span>
<span data-ttu-id="e7d23-141">Le service Azure HD Insight est utilisé pour exécuter des scripts [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) (orchestrés par Azure Data Factory) pour agréger les événements bruts ayant été archivés à l’aide du service Azure Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="e7d23-141">The Azure HD Insight service is used to run [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) scripts (orchestrated by Azure Data Factory) to provide aggregations on the raw events that were archived using the Azure Stream Analytics service.</span></span>

### <a name="azure-machine-learning"></a><span data-ttu-id="e7d23-142">Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="e7d23-142">Azure Machine Learning</span></span>
<span data-ttu-id="e7d23-143">Le service [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) est utilisé (et orchestré par Azure Data Factory) pour prédire la durée de vie restante (RUL) d’un moteur d’avion particulier compte tenu des entrées reçues.</span><span class="sxs-lookup"><span data-stu-id="e7d23-143">The [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) service is used (orchestrated by Azure Data Factory) to make predictions on the remaining useful life (RUL) of a particular aircraft engine given the inputs received.</span></span>

## <a name="data-publishing"></a><span data-ttu-id="e7d23-144">**Publication des données**</span><span class="sxs-lookup"><span data-stu-id="e7d23-144">**Data publishing**</span></span>
### <a name="azure-sql-database-service"></a><span data-ttu-id="e7d23-145">Service de base de données SQL Azure</span><span class="sxs-lookup"><span data-stu-id="e7d23-145">Azure SQL Database Service</span></span>
<span data-ttu-id="e7d23-146">Le service [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) sert à stocker (sous le contrôle d’Azure Data Factory) les prédictions reçues par le service Azure Machine Learning et qui seront utilisées dans le tableau de bord [Power BI](https://powerbi.microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="e7d23-146">The [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) service is used to store (managed by Azure Data Factory) the predictions received by the Azure Machine Learning service that will be consumed in the [Power BI](https://powerbi.microsoft.com) dashboard.</span></span>

## <a name="data-consumption"></a><span data-ttu-id="e7d23-147">**Consommation des données**</span><span class="sxs-lookup"><span data-stu-id="e7d23-147">**Data consumption**</span></span>
### <a name="power-bi"></a><span data-ttu-id="e7d23-148">Power BI</span><span class="sxs-lookup"><span data-stu-id="e7d23-148">Power BI</span></span>
<span data-ttu-id="e7d23-149">Le service [Power BI](https://powerbi.microsoft.com) permet d’afficher un tableau de bord contenant les agrégations et alertes fournies par le service [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/), ainsi que les prédictions de durée de vie restante stockées dans [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) qui ont été générées à l’aide du service [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/).</span><span class="sxs-lookup"><span data-stu-id="e7d23-149">The [Power BI](https://powerbi.microsoft.com) service is used to show a dashboard that contains aggregations and alerts provided by the [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) service as well as RUL predictions stored in [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) that were produced using the [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) service.</span></span> <span data-ttu-id="e7d23-150">Pour obtenir des instructions sur la façon de configurer le tableau de bord Power BI pour ce modèle de solution, consultez la section ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="e7d23-150">For Instructions on how to build the Power BI dashboard for this Solution Template, refer to the section below.</span></span>

## <a name="how-to-bring-in-your-own-data"></a><span data-ttu-id="e7d23-151">**Comment importer vos propres données**</span><span class="sxs-lookup"><span data-stu-id="e7d23-151">**How to bring in your own data**</span></span>
<span data-ttu-id="e7d23-152">Cette section explique comment importer vos propres données dans Azure et décrit les éléments à modifier compte tenu des données que vous importez dans cette architecture.</span><span class="sxs-lookup"><span data-stu-id="e7d23-152">This section describes how to bring your own data to Azure, and what areas would require changes for the data you bring into this architecture.</span></span>

<span data-ttu-id="e7d23-153">Les jeux de données que vous importez ont peu de chance de correspondre parfaitement au [jeu de données de simulation de la dégradation du turbomoteur](http://ti.arc.nasa.gov/tech/dash/pcoe/prognostic-data-repository/#turbofan) utilisé pour ce modèle de solution.</span><span class="sxs-lookup"><span data-stu-id="e7d23-153">It's unlikely that any dataset you bring would match the dataset used by the [Turbofan Engine Degradation Simulation Data Set](http://ti.arc.nasa.gov/tech/dash/pcoe/prognostic-data-repository/#turbofan) used for this solution template.</span></span> <span data-ttu-id="e7d23-154">Il est important de bien comprendre vos données et besoins pour déterminer la façon dont vous allez modifier ce modèle pour l’utiliser avec vos propres données.</span><span class="sxs-lookup"><span data-stu-id="e7d23-154">Understanding your data and the requirements will be crucial in how you modify this template to work with your own data.</span></span> <span data-ttu-id="e7d23-155">Si vous n’êtes pas familiarisé avec le service Azure Machine Learning, vous pouvez consulter la page [Didacticiel sur l’apprentissage automatique : création de votre première expérience dans Azure Machine Learning Studio](machine-learning-create-experiment.md) pour en obtenir un premier aperçu.</span><span class="sxs-lookup"><span data-stu-id="e7d23-155">If this is your first exposure to the Azure Machine Learning service, you can get an introduction to it by using the example in [How to create your first experiment](machine-learning-create-experiment.md).</span></span>

<span data-ttu-id="e7d23-156">Dans les sections suivantes, nous allons décrire les sections du modèle que vous devrez modifier lors de l’introduction d’un nouveau jeu de données.</span><span class="sxs-lookup"><span data-stu-id="e7d23-156">The following sections will discuss the sections of the template that will require modifications when a new dataset is introduced.</span></span>

### <a name="azure-event-hub"></a><span data-ttu-id="e7d23-157">Azure Event Hub</span><span class="sxs-lookup"><span data-stu-id="e7d23-157">Azure Event Hub</span></span>
<span data-ttu-id="e7d23-158">Le service Azure Event Hub est très générique, au point que les données peuvent être publiées sur le hub au format CSV ou JSON.</span><span class="sxs-lookup"><span data-stu-id="e7d23-158">The Azure Event Hub service is very generic, such that data can be posted to the hub in either CSV or JSON format.</span></span> <span data-ttu-id="e7d23-159">Bien que le service Azure Event Hub n’implique aucun traitement particulier, il est important de comprendre les données qui y sont importées.</span><span class="sxs-lookup"><span data-stu-id="e7d23-159">No special processing occurs in the Azure Event Hub, but it's important that you understand the data that's fed into it.</span></span>

<span data-ttu-id="e7d23-160">Ce document ne décrit pas le mode de réception de vos données, mais vous pouvez facilement envoyer des événements ou des données vers un service Azure Event Hub à l’aide des API Event Hub.</span><span class="sxs-lookup"><span data-stu-id="e7d23-160">This document does not describe how to ingest your data, but you can easily send events or data to an Azure Event Hub using the Event Hub API's.</span></span>

### <a name="azure-stream-analytics"></a><span data-ttu-id="e7d23-161">Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="e7d23-161">Azure Stream Analytics</span></span>
<span data-ttu-id="e7d23-162">Le service Azure Stream Analytics permet de fournir des analyses en temps quasi-réel grâce à une lecture des flux de données et à l’envoi de données vers diverses sources.</span><span class="sxs-lookup"><span data-stu-id="e7d23-162">The Azure Stream Analytics service is used to provide near real-time analytics by reading from data streams and outputting data to any number of sources.</span></span>

<span data-ttu-id="e7d23-163">Dans le cas du modèle de solution de maintenance prédictive pour le secteur aérospatial, la requête Azure Stream Analytics se compose de quatre sous-requêtes, chacune utilisant les événements dérivés du service Azure Event Hub et générant des sorties à quatre emplacements distincts.</span><span class="sxs-lookup"><span data-stu-id="e7d23-163">For the Predictive Maintenance for Aerospace Solution Template, the Azure Stream Analytics query consists of four sub-queries, each consuming events from the Azure Event Hub service, and having outputs to four distinct locations.</span></span> <span data-ttu-id="e7d23-164">Ces sorties comprennent trois jeux de données Power BI et un emplacement Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="e7d23-164">These outputs consist of three Power BI datasets and one Azure Storage location.</span></span>

<span data-ttu-id="e7d23-165">Pour accéder à la requête Azure Stream Analytics :</span><span class="sxs-lookup"><span data-stu-id="e7d23-165">The Azure Stream Analytics query can be found by:</span></span>

* <span data-ttu-id="e7d23-166">Connectez-vous au portail Azure</span><span class="sxs-lookup"><span data-stu-id="e7d23-166">Logging into the Azure portal</span></span>
* <span data-ttu-id="e7d23-167">Recherchez les travaux Stream Analytics ![icône Stream Analytics](media/cortana-analytics-technical-guide-predictive-maintenance/icon-stream-analytics.png) qui ont été générés au moment du déploiement de la solution (*par exemple*, **maintenancesa02asapbi** et **maintenancesa02asablob** pour la solution de maintenance prédictive)</span><span class="sxs-lookup"><span data-stu-id="e7d23-167">Locating the Stream Analytics jobs ![Stream Analytics icon](media/cortana-analytics-technical-guide-predictive-maintenance/icon-stream-analytics.png) that were generated when the solution was deployed (*e.g.*, **maintenancesa02asapbi** and **maintenancesa02asablob** for the predictive maintenance solution)</span></span>
* <span data-ttu-id="e7d23-168">Sélectionnez</span><span class="sxs-lookup"><span data-stu-id="e7d23-168">Selecting</span></span>
  
  * <span data-ttu-id="e7d23-169">***INPUTS*** pour afficher l’entrée de la requête</span><span class="sxs-lookup"><span data-stu-id="e7d23-169">***INPUTS*** to view the query input</span></span>
  * <span data-ttu-id="e7d23-170">***QUERY*** pour afficher la requête elle-même</span><span class="sxs-lookup"><span data-stu-id="e7d23-170">***QUERY*** to view the query itself</span></span>
  * <span data-ttu-id="e7d23-171">***OUTPUTS*** pour afficher les différentes sorties</span><span class="sxs-lookup"><span data-stu-id="e7d23-171">***OUTPUTS*** to view the different outputs</span></span>

<span data-ttu-id="e7d23-172">Pour plus d’informations sur la construction des requêtes Azure Stream Analytics, consultez la [référence de requête Stream Analytics](https://msdn.microsoft.com/library/azure/dn834998.aspx) sur MSDN.</span><span class="sxs-lookup"><span data-stu-id="e7d23-172">Information about Azure Stream Analytics query construction can be found in the [Stream Analytics Query Reference](https://msdn.microsoft.com/library/azure/dn834998.aspx) on MSDN.</span></span>

<span data-ttu-id="e7d23-173">Dans cette solution, les requêtes génèrent trois jeux de données avec des informations d’analyse en temps quasi-réel concernant le flux de données entrant dans un tableau de bord Power BI fourni dans le cadre de ce modèle de solution.</span><span class="sxs-lookup"><span data-stu-id="e7d23-173">In this solution, the queries output three datasets with near real-time analytics information about the incoming data stream to a Power BI dashboard that's provided as part of this solution template.</span></span> <span data-ttu-id="e7d23-174">Étant donné que le format des données entrantes est implicitement connu, ces requêtes devront être modifiées en fonction de votre format de données.</span><span class="sxs-lookup"><span data-stu-id="e7d23-174">Because there's implicit knowledge about the incoming data format, these queries would need to be altered based on your data format.</span></span>

<span data-ttu-id="e7d23-175">La requête dans le deuxième travail Stream Analytics **maintenancesa02asablob** génère simplement tous les événements [Event Hub](https://azure.microsoft.com/services/event-hubs/) dans [Stockage Azure](https://azure.microsoft.com/services/storage/) et ne nécessite donc aucune modification, quel que soit votre format de données, puisque les informations d’événement complètes sont transmises en continu vers le stockage.</span><span class="sxs-lookup"><span data-stu-id="e7d23-175">The query in the second Stream Analytics job **maintenancesa02asablob** simply outputs all [Event Hub](https://azure.microsoft.com/services/event-hubs/) events to [Azure Storage](https://azure.microsoft.com/services/storage/) and hence requires no alteration regardless of your data format as the full event information is streamed to storage.</span></span>

### <a name="azure-data-factory"></a><span data-ttu-id="e7d23-176">Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="e7d23-176">Azure Data Factory</span></span>
<span data-ttu-id="e7d23-177">Le service [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/) orchestre le déplacement et le traitement des données.</span><span class="sxs-lookup"><span data-stu-id="e7d23-177">The [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/) service orchestrates the movement and processing of data.</span></span> <span data-ttu-id="e7d23-178">Dans le modèle de solution de maintenance prédictive pour le secteur aérospatial, la fabrique de données est constituée de trois [pipelines](../data-factory/data-factory-create-pipelines.md) qui déplacent et traitent les données à l’aide de différentes technologies.</span><span class="sxs-lookup"><span data-stu-id="e7d23-178">In the Predictive Maintenance for Aerospace Solution Template the data factory is made up of three [pipelines](../data-factory/data-factory-create-pipelines.md) that move and process the data using various technologies.</span></span>  <span data-ttu-id="e7d23-179">Vous pouvez accéder à votre fabrique de données en ouvrant le nœud Data Factory en bas du diagramme du modèle de solution créé avec le déploiement de la solution.</span><span class="sxs-lookup"><span data-stu-id="e7d23-179">You can access your data factory by opening the the Data Factory node at the bottom of the solution template diagram created with the deployment of the solution.</span></span> <span data-ttu-id="e7d23-180">Vous êtes alors redirigé vers la fabrique de données sur votre portail Azure.</span><span class="sxs-lookup"><span data-stu-id="e7d23-180">This will take you to the data factory on your Azure portal.</span></span> <span data-ttu-id="e7d23-181">Si vous rencontrez des erreurs dans vos jeux de données, vous pouvez les ignorer car ces erreurs sont liées à la fabrique de données déployée avant le démarrage du générateur de données.</span><span class="sxs-lookup"><span data-stu-id="e7d23-181">If you see errors under your datasets, you can ignore those as they are due to data factory being deployed before the data generator was started.</span></span> <span data-ttu-id="e7d23-182">Ces erreurs ne perturbent pas le fonctionnement de votre fabrique de données.</span><span class="sxs-lookup"><span data-stu-id="e7d23-182">Those errors do not prevent your data factory from functioning.</span></span>

![Erreurs de jeu de données Data Factory](media/cortana-analytics-technical-guide-predictive-maintenance/data-factory-dataset-error.png)

<span data-ttu-id="e7d23-184">Cette section décrit les [pipelines](../data-factory/data-factory-create-pipelines.md) et les [activités](../data-factory/data-factory-create-pipelines.md) nécessaires qui sont contenus dans le service [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/).</span><span class="sxs-lookup"><span data-stu-id="e7d23-184">This section discusses the necessary [pipelines](../data-factory/data-factory-create-pipelines.md) and [activities](../data-factory/data-factory-create-pipelines.md) contained in the [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/).</span></span> <span data-ttu-id="e7d23-185">Vous trouverez ci-dessous une vue schématique de la solution.</span><span class="sxs-lookup"><span data-stu-id="e7d23-185">Below is the diagram view of the solution.</span></span>

![Azure Data Factory](media/cortana-analytics-technical-guide-predictive-maintenance/azure-data-factory.png)

<span data-ttu-id="e7d23-187">Deux des pipelines de cette fabrique contiennent des scripts [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) utilisés pour partitionner et agréger les données.</span><span class="sxs-lookup"><span data-stu-id="e7d23-187">Two of the pipelines of this factory contain [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) scripts that are used to partition and aggregate the data.</span></span> <span data-ttu-id="e7d23-188">Quand ils sont référencés, les scripts apparaissent dans le compte [Azure Storage](https://azure.microsoft.com/services/storage/) créé pendant l’installation,</span><span class="sxs-lookup"><span data-stu-id="e7d23-188">When noted, the scripts will be located in the [Azure Storage](https://azure.microsoft.com/services/storage/) account created during setup.</span></span> <span data-ttu-id="e7d23-189">à l’emplacement suivant : maintenancesascript\\\\script\\\\hive\\\\ (ou https://[nom de votre solution].blob.core.windows.net/maintenancesascript).</span><span class="sxs-lookup"><span data-stu-id="e7d23-189">Their location will be: maintenancesascript\\\\script\\\\hive\\\\ (or https://[Your solution name].blob.core.windows.net/maintenancesascript).</span></span>

<span data-ttu-id="e7d23-190">De la même manière que les requêtes [Azure Stream Analytics](#azure-stream-analytics-1), les scripts [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) ont une connaissance implicite du format des données entrantes. Vous devez donc modifier ces requêtes en fonction de votre format de données et des exigences [d’ingénierie des caractéristiques](machine-learning-feature-selection-and-engineering.md).</span><span class="sxs-lookup"><span data-stu-id="e7d23-190">Similar to the [Azure Stream Analytics](#azure-stream-analytics-1) queries, the [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) scripts have implicit knowledge about the incoming data format, these queries would need to be altered based on your data format and [feature engineering](machine-learning-feature-selection-and-engineering.md) requirements.</span></span>

#### <a name="aggregateflightinfopipeline"></a><span data-ttu-id="e7d23-191">*AggregateFlightInfoPipeline*</span><span class="sxs-lookup"><span data-stu-id="e7d23-191">*AggregateFlightInfoPipeline*</span></span>
<span data-ttu-id="e7d23-192">Ce [pipeline](../data-factory/data-factory-create-pipelines.md) contient une seule activité, une activité [HDInsightHive](../data-factory/data-factory-hive-activity.md) qui utilise un [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) exécutant un script [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) pour partitionner les données placées dans [Stockage Azure](https://azure.microsoft.com/services/storage/) pendant l’exécution du travail [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/).</span><span class="sxs-lookup"><span data-stu-id="e7d23-192">This [pipeline](../data-factory/data-factory-create-pipelines.md) contains a single activity - an [HDInsightHive](../data-factory/data-factory-hive-activity.md) activity using a [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) that runs a [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) script to partition the data put in [Azure Storage](https://azure.microsoft.com/services/storage/) during the [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) job.</span></span>

<span data-ttu-id="e7d23-193">Le script [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) pour cette tâche de partitionnement est ***AggregateFlightInfo.hql***</span><span class="sxs-lookup"><span data-stu-id="e7d23-193">The [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) script for this partitioning task is ***AggregateFlightInfo.hql***</span></span>

#### <a name="mlscoringpipeline"></a><span data-ttu-id="e7d23-194">*MLScoringPipeline*</span><span class="sxs-lookup"><span data-stu-id="e7d23-194">*MLScoringPipeline*</span></span>
<span data-ttu-id="e7d23-195">Ce [pipeline](../data-factory/data-factory-create-pipelines.md) contient plusieurs activités dont le résultat final contient les prédictions notées à partir de l’expérience [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) associée à ce modèle de solution.</span><span class="sxs-lookup"><span data-stu-id="e7d23-195">This [pipeline](../data-factory/data-factory-create-pipelines.md) contains several activities and whose end result is the scored predictions from the [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) experiment associated with this solution template.</span></span>

<span data-ttu-id="e7d23-196">Ce pipeline contient les activités suivantes :</span><span class="sxs-lookup"><span data-stu-id="e7d23-196">The activities contained in this are:</span></span>

* <span data-ttu-id="e7d23-197">Activité [HDInsightHive](../data-factory/data-factory-hive-activity.md) utilisant un [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) qui exécute un script [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) pour effectuer les agrégations et les tâches d’ingénierie de caractéristiques nécessaires pour l’expérience [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/).</span><span class="sxs-lookup"><span data-stu-id="e7d23-197">[HDInsightHive](../data-factory/data-factory-hive-activity.md) activity using an [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) that runs a [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) script to perform aggregations and feature engineering necessary for the [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) experiment.</span></span>
  <span data-ttu-id="e7d23-198">Le script [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) pour cette tâche de partitionnement est ***PrepareMLInput.hql***.</span><span class="sxs-lookup"><span data-stu-id="e7d23-198">The [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) script for this partitioning task is ***PrepareMLInput.hql***.</span></span>
* <span data-ttu-id="e7d23-199">Activité [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) qui déplace les résultats de l’activité [HDInsightHive](../data-factory/data-factory-hive-activity.md) vers un objet blob [Stockage Azure](https://azure.microsoft.com/services/storage/) unique, accessible à l’activité [AzureMLBatchScoring](https://msdn.microsoft.com/library/azure/dn894009.aspx).</span><span class="sxs-lookup"><span data-stu-id="e7d23-199">[Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) activity that moves the results from the [HDInsightHive](../data-factory/data-factory-hive-activity.md) activity to a single [Azure Storage](https://azure.microsoft.com/services/storage/) blob that can be access by the [AzureMLBatchScoring](https://msdn.microsoft.com/library/azure/dn894009.aspx) activity.</span></span>
* <span data-ttu-id="e7d23-200">[AzureMLBatchScoring](https://msdn.microsoft.com/library/azure/dn894009.aspx) qui appelle l’expérience [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) pour placer les résultats dans un objet blob [Stockage Azure](https://azure.microsoft.com/services/storage/) unique.</span><span class="sxs-lookup"><span data-stu-id="e7d23-200">[AzureMLBatchScoring](https://msdn.microsoft.com/library/azure/dn894009.aspx) activity that calls the [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) experiment which results in the results being put in a single [Azure Storage](https://azure.microsoft.com/services/storage/) blob.</span></span>

#### <a name="copyscoredresultpipeline"></a><span data-ttu-id="e7d23-201">*CopyScoredResultPipeline*</span><span class="sxs-lookup"><span data-stu-id="e7d23-201">*CopyScoredResultPipeline*</span></span>
<span data-ttu-id="e7d23-202">Ce [pipeline](../data-factory/data-factory-create-pipelines.md) contient une seule activité, une activité [copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) qui déplace les résultats de l’expérience [Azure Machine Learning](#azure-machine-learning) entre le service ***MLScoringPipeline*** et la [base de données Azure SQL Database](https://azure.microsoft.com/services/sql-database/) qui a été configurée dans le cadre de l’installation du modèle de solution.</span><span class="sxs-lookup"><span data-stu-id="e7d23-202">This [pipeline](../data-factory/data-factory-create-pipelines.md) contains a single activity - a [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) activity that moves the results of the [Azure Machine Learning](#azure-machine-learning) experiment from the ***MLScoringPipeline*** to the [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) that was provisioned as part of the solution template installation.</span></span>

### <a name="azure-machine-learning"></a><span data-ttu-id="e7d23-203">Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="e7d23-203">Azure Machine Learning</span></span>
<span data-ttu-id="e7d23-204">L’expérience [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) utilisée pour ce modèle de solution permet de prédire la durée de vie restante (RUL) d’un moteur d’avion.</span><span class="sxs-lookup"><span data-stu-id="e7d23-204">The [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) experiment used for this solution template provides the Remaining Useful Life (RUL) of an aircraft engine.</span></span> <span data-ttu-id="e7d23-205">L’expérience est spécifique au jeu de données consommé et doit donc être modifiée ou remplacée compte tenu des données qui y sont importées.</span><span class="sxs-lookup"><span data-stu-id="e7d23-205">The experiment is specific to the data set consumed and therefore will require modification or replacement specific to the data that's brought in.</span></span>

<span data-ttu-id="e7d23-206">Pour plus d’informations sur la création de l’expérience Azure Machine Learning, consultez la page [Maintenance prédictive : étape 1 sur 3, préparation des données et ingénierie des caractéristiques](http://gallery.cortanaanalytics.com/Experiment/Predictive-Maintenance-Step-1-of-3-data-preparation-and-feature-engineering-2)(en anglais).</span><span class="sxs-lookup"><span data-stu-id="e7d23-206">For information about how the Azure Machine Learning experiment was created, see [Predictive Maintenance: Step 1 of 3, data preparation and feature engineering](http://gallery.cortanaanalytics.com/Experiment/Predictive-Maintenance-Step-1-of-3-data-preparation-and-feature-engineering-2).</span></span>

## <a name="monitor-progress"></a><span data-ttu-id="e7d23-207">**Surveiller la progression**</span><span class="sxs-lookup"><span data-stu-id="e7d23-207">**Monitor Progress**</span></span>
 <span data-ttu-id="e7d23-208">Une fois le Générateur de données lancé, l’alimentation du pipeline commence et les différents composants de votre solution entrent en action selon les commandes émises par la fabrique de données.</span><span class="sxs-lookup"><span data-stu-id="e7d23-208">Once the Data Generator is launched, the pipeline begins to get hydrated and the different components of your solution start kicking into action following the commands issued by the Data Factory.</span></span> <span data-ttu-id="e7d23-209">Il existe deux méthodes de surveillance du pipeline.</span><span class="sxs-lookup"><span data-stu-id="e7d23-209">There are two ways you can monitor the pipeline.</span></span>

1. <span data-ttu-id="e7d23-210">Un des travaux Stream Analytics enregistre les données brutes entrantes dans Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="e7d23-210">One of the Stream Analytics job writes the raw incoming data to blob storage.</span></span> <span data-ttu-id="e7d23-211">Si vous cliquez sur le composant de stockage d’objets blob de votre solution à partir de l’écran où vous avez correctement déployé la solution, puis cliquez sur Ouvrir dans le volet droit, vous accédez au [portail de gestion](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="e7d23-211">If you click on Blob Storage component of your solution from the screen you successfully deployed the solution and then click Open in the right panel, it will take you to the [management portal](https://portal.azure.com/).</span></span> <span data-ttu-id="e7d23-212">Une fois dans le portail, cliquez sur Objets BLOB.</span><span class="sxs-lookup"><span data-stu-id="e7d23-212">Once there, click on Blobs.</span></span> <span data-ttu-id="e7d23-213">Dans le panneau suivant, vous verrez une liste de conteneurs.</span><span class="sxs-lookup"><span data-stu-id="e7d23-213">In the next panel, you will see a list of Containers.</span></span> <span data-ttu-id="e7d23-214">Cliquez sur **maintenancesadata**.</span><span class="sxs-lookup"><span data-stu-id="e7d23-214">Click on **maintenancesadata**.</span></span> <span data-ttu-id="e7d23-215">Dans le volet suivant, vous verrez le dossier **rawdata**.</span><span class="sxs-lookup"><span data-stu-id="e7d23-215">In the next panel, you will see the **rawdata** folder.</span></span> <span data-ttu-id="e7d23-216">Dans le dossier rawdata, vous verrez des dossiers nommés par exemple hour=17, hour=18, etc. Si vous voyez ces dossiers, cela signifie que les données brutes sont correctement générées sur votre ordinateur et stockées dans des objets blob.</span><span class="sxs-lookup"><span data-stu-id="e7d23-216">Inside the rawdata folder, you will see folders with names such as hour=17, hour=18 etc. If you see these folders, it indicates that the raw data is successfully being generated on your computer and stored in blob storage.</span></span> <span data-ttu-id="e7d23-217">Vous devriez voir des fichiers csv avec des tailles finies en Mo dans ces dossiers.</span><span class="sxs-lookup"><span data-stu-id="e7d23-217">You should see csv files that should have finite sizes in MB in those folders.</span></span>
2. <span data-ttu-id="e7d23-218">La dernière étape du pipeline consiste à enregistrer des données (par exemple, les prédictions générées à partir de l’apprentissage automatique) dans la base de données SQL.</span><span class="sxs-lookup"><span data-stu-id="e7d23-218">The last step of the pipeline is to write data (e.g. predictions from machine learning) into SQL Database.</span></span> <span data-ttu-id="e7d23-219">Vous devrez peut-être attendre un maximum de trois heures pour les données s'affichent dans la base de données SQL.</span><span class="sxs-lookup"><span data-stu-id="e7d23-219">You might have to wait a maximum of three hours for the data to appear in SQL Database.</span></span> <span data-ttu-id="e7d23-220">Une façon de surveiller la quantité de données disponible dans votre base de données SQL est d’utiliser le [portail Azure](https://manage.windowsazure.com/). Dans le volet gauche, localisez ![l’icône SQL](media/cortana-analytics-technical-guide-predictive-maintenance/icon-SQL-databases.png) SQL DATABASES et cliquez dessus.</span><span class="sxs-lookup"><span data-stu-id="e7d23-220">One way to monitor how much data is available in your SQL Database is through [azure portal](https://manage.windowsazure.com/).On the left panel locate SQL DATABASES ![SQL icon](media/cortana-analytics-technical-guide-predictive-maintenance/icon-SQL-databases.png) and click it.</span></span> <span data-ttu-id="e7d23-221">Recherchez ensuite votre base de données **pmaintenancedb** et cliquez dessus.</span><span class="sxs-lookup"><span data-stu-id="e7d23-221">Then locate your database **pmaintenancedb** and click on it.</span></span> <span data-ttu-id="e7d23-222">En bas de la page suivante, cliquez sur Gérer</span><span class="sxs-lookup"><span data-stu-id="e7d23-222">On the next page at the bottom, click on MANAGE</span></span>
   
    ![Icône Gérer](media/cortana-analytics-technical-guide-predictive-maintenance/icon-manage.png)<span data-ttu-id="e7d23-224">.</span><span class="sxs-lookup"><span data-stu-id="e7d23-224">.</span></span>
   
    <span data-ttu-id="e7d23-225">Ici, vous pouvez cliquer sur Nouvelle requête et rechercher le nombre de lignes (par exemple, select count(*) from PMResult).</span><span class="sxs-lookup"><span data-stu-id="e7d23-225">Here, you can click on New Query and query for the number of rows (e.g. select count(*) from PMResult ).</span></span> <span data-ttu-id="e7d23-226">À mesure que votre base de données augmente, le nombre de lignes de la table devrait augmenter.</span><span class="sxs-lookup"><span data-stu-id="e7d23-226">As your database grows, the number of rows in the table should  increase.</span></span>

## <a name="power-bi-dashboard"></a><span data-ttu-id="e7d23-227">**Tableau de bord Power BI**</span><span class="sxs-lookup"><span data-stu-id="e7d23-227">**Power BI Dashboard**</span></span>
### <a name="overview"></a><span data-ttu-id="e7d23-228">Vue d’ensemble</span><span class="sxs-lookup"><span data-stu-id="e7d23-228">Overview</span></span>
<span data-ttu-id="e7d23-229">Cette section décrit comment configurer un tableau de bord Power BI afin de visualiser vos données en temps réel à partir d’Azure Stream Analytics (chemin à chaud), ainsi que les résultats des prédictions par lots à partir d’Azure Machine Learning (chemin à froid).</span><span class="sxs-lookup"><span data-stu-id="e7d23-229">This section describes how to set up Power BI dashboard to visualize your real time data from Azure Stream Analytics (hot path), as well as batch prediction results from Azure machine learning (cold path).</span></span>

### <a name="setup-cold-path-dashboard"></a><span data-ttu-id="e7d23-230">Configuration du tableau de bord de chemin à froid</span><span class="sxs-lookup"><span data-stu-id="e7d23-230">Setup cold path dashboard</span></span>
<span data-ttu-id="e7d23-231">Dans le pipeline des données de chemin à froid, le principal objectif consiste à obtenir la durée de vie restante prévisionnelle de chaque moteur d’avion au terme d’un vol (cycle).</span><span class="sxs-lookup"><span data-stu-id="e7d23-231">In the cold path data pipeline, the essential goal is to get the predictive RUL (remaining useful life) of each aircraft engine once it finishes a flight (cycle).</span></span> <span data-ttu-id="e7d23-232">Le résultat de la prédiction est mis à jour toutes les 3 heures pour prédire la durée de vie restante des moteurs d’avion qui ont terminé un vol au cours des 3 dernières heures.</span><span class="sxs-lookup"><span data-stu-id="e7d23-232">The prediction result is updated every 3 hours for predicting the aircraft engines that have finished a flight during the past 3 hours.</span></span>

<span data-ttu-id="e7d23-233">Power BI se connecte à une base de données SQL Azure en tant que source de données où sont stockés les résultats de la prédiction.</span><span class="sxs-lookup"><span data-stu-id="e7d23-233">Power BI connects to an Azure SQL database as its data source, where the prediction results are stored.</span></span> <span data-ttu-id="e7d23-234">Remarque : 1) au moment de déployer votre solution, une prédiction réelle s’affichera dans la base de données dans un délai de 3 heures.</span><span class="sxs-lookup"><span data-stu-id="e7d23-234">Note: 1) Upon deploying your solution, a real prediction will show up in the database within 3 hours.</span></span>
<span data-ttu-id="e7d23-235">Le fichier pbix fourni avec le téléchargement de Generator contient certaines données d’amorçage afin que vous puissiez créer immédiatement le tableau de bord Power BI.</span><span class="sxs-lookup"><span data-stu-id="e7d23-235">The pbix file that came with the Generator download contains some seed data so that you may create the Power BI dashboard right away.</span></span> <span data-ttu-id="e7d23-236">2) Dans cette étape, la condition préalable consiste à télécharger et installer le logiciel gratuit [Power BI Desktop](https://powerbi.microsoft.com/documentation/powerbi-desktop-get-the-desktop/).</span><span class="sxs-lookup"><span data-stu-id="e7d23-236">2) In this step, the prerequisite is to download and install the free software [Power BI desktop](https://powerbi.microsoft.com/documentation/powerbi-desktop-get-the-desktop/).</span></span>

<span data-ttu-id="e7d23-237">Lors des étapes suivantes, nous allons vous expliquer comment connecter le fichier pbix à la base de données SQL qui a été lancée au moment du déploiement de la solution et qui contient des données (*par exemple,*</span><span class="sxs-lookup"><span data-stu-id="e7d23-237">The following steps will guide you on how to connect the pbix file to the SQL Database that was spun up at the time of solution deployment containing data (*e.g.*.</span></span> <span data-ttu-id="e7d23-238">résultats de prédiction) pouvant être visualisées.</span><span class="sxs-lookup"><span data-stu-id="e7d23-238">prediction results) for visualization.</span></span>

1. <span data-ttu-id="e7d23-239">Obtenez les informations d’identification de la base de données.</span><span class="sxs-lookup"><span data-stu-id="e7d23-239">Get the database credentials.</span></span>
   
   <span data-ttu-id="e7d23-240">Avant de passer aux étapes suivantes, vous avez besoin du **nom du serveur de base de données, du nom de la base de données, du nom d’utilisateur et du mot de passe** .</span><span class="sxs-lookup"><span data-stu-id="e7d23-240">You'll need **database server name, database name, user name and password** before moving to next steps.</span></span> <span data-ttu-id="e7d23-241">Voici les étapes à suivre pour obtenir ces informations.</span><span class="sxs-lookup"><span data-stu-id="e7d23-241">Here are the steps to guide you how to find them.</span></span>
   
   * <span data-ttu-id="e7d23-242">Une fois qu’**Azure SQL Database** apparaît en vert sur votre schéma de modèle de solution, cliquez dessus, puis cliquez sur **Ouvrir**.</span><span class="sxs-lookup"><span data-stu-id="e7d23-242">Once **'Azure SQL Database'** on your solution template diagram turns green, click it and then click **'Open'**.</span></span>
   * <span data-ttu-id="e7d23-243">La page du portail Azure s’affiche dans un nouvel onglet/fenêtre de navigateur.</span><span class="sxs-lookup"><span data-stu-id="e7d23-243">You'll see a new browser tab/window which displays the Azure portal page.</span></span> <span data-ttu-id="e7d23-244">Cliquez sur **« Groupes de ressources »** dans le volet gauche.</span><span class="sxs-lookup"><span data-stu-id="e7d23-244">Click **'Resource groups'** on the left panel.</span></span>
   * <span data-ttu-id="e7d23-245">Sélectionnez l’abonnement que vous utilisez pour le déploiement de la solution, puis sélectionnez **« NomVotreSolution\_GroupeRessources »**.</span><span class="sxs-lookup"><span data-stu-id="e7d23-245">Select the subscription you're using for deploying the solution, and then select **'YourSolutionName\_ResourceGroup'**.</span></span>
   * <span data-ttu-id="e7d23-246">Dans le nouveau panneau contextuel, cliquez sur ![l’icône SQL](media/cortana-analytics-technical-guide-predictive-maintenance/icon-sql.png) pour accéder à votre base de données.</span><span class="sxs-lookup"><span data-stu-id="e7d23-246">In the new pop out panel, click the  ![SQL icon](media/cortana-analytics-technical-guide-predictive-maintenance/icon-sql.png) icon to access your database.</span></span> <span data-ttu-id="e7d23-247">Le nom de votre base de données apparaît en regard de cette icône (*par exemple*, **pmaintenancedb**) et le **nom du serveur de base de données** est répertorié sous la propriété du nom de serveur et doit être du type **NomVotreSolution.database.windows.net**.</span><span class="sxs-lookup"><span data-stu-id="e7d23-247">Your database name is next to the this icon (*e.g.*, **'pmaintenancedb'**), and  the **database server name** is listed under the Server name property and should look similar to **YourSoutionName.database.windows.net**.</span></span>
   * <span data-ttu-id="e7d23-248">Les **nom d’utilisateur** et **mot de passe** de votre base de données sont identiques aux nom d’utilisateur et mot de passe précédemment enregistrés au moment du déploiement de la solution.</span><span class="sxs-lookup"><span data-stu-id="e7d23-248">Your database **username** and **password** are the same as the username and password previously recorded during deployment of the solution.</span></span>
2. <span data-ttu-id="e7d23-249">Mettre à jour la source de données du fichier de rapport de chemin à froid avec Power BI Desktop.</span><span class="sxs-lookup"><span data-stu-id="e7d23-249">Update the data source of the cold path report file with Power BI Desktop.</span></span>
   
   * <span data-ttu-id="e7d23-250">Dans le dossier de votre ordinateur où vous avez téléchargé et décompressé le fichier Generator, double-cliquez sur le fichier **PowerBI\\PredictiveMaintenanceAerospace.pbix**.</span><span class="sxs-lookup"><span data-stu-id="e7d23-250">In the folder on your PC where you downloaded and unzipped the Generator file, double-click the **PowerBI\\PredictiveMaintenanceAerospace.pbix** file.</span></span> <span data-ttu-id="e7d23-251">Si des messages d’avertissement s’affichent lorsque vous ouvrez le fichier, ignorez-les simplement.</span><span class="sxs-lookup"><span data-stu-id="e7d23-251">If you see any warning messages when you open the file, ignore them.</span></span> <span data-ttu-id="e7d23-252">En haut du fichier, cliquez sur **Modifier les requêtes**.</span><span class="sxs-lookup"><span data-stu-id="e7d23-252">On the top of the file, click **'Edit Queries'**.</span></span>
     
     ![Modifier les requêtes](media/cortana-analytics-technical-guide-predictive-maintenance/edit-queries.png)
   * <span data-ttu-id="e7d23-254">Deux tables apparaissent : **RemainingUsefulLife** et **PMResult**.</span><span class="sxs-lookup"><span data-stu-id="e7d23-254">You'll see two tables, **RemainingUsefulLife** and **PMResult**.</span></span> <span data-ttu-id="e7d23-255">Sélectionnez la première table, puis cliquez sur ![Icône de paramètres de requête](media/cortana-analytics-technical-guide-predictive-maintenance/icon-query-settings.png) à côté de **'Source'**, sous **'ÉTAPES APPLIQUÉES'** sur le panneau **’Paramètres de requête’** à droite.</span><span class="sxs-lookup"><span data-stu-id="e7d23-255">Select the first table and click ![Query settings icon](media/cortana-analytics-technical-guide-predictive-maintenance/icon-query-settings.png) next to **'Source'** under **'APPLIED STEPS'** on the right **'Query Settings'** panel.</span></span> <span data-ttu-id="e7d23-256">Ignorer les messages d’avertissement qui s’affichent.</span><span class="sxs-lookup"><span data-stu-id="e7d23-256">Ignore any warning messages that appear.</span></span>
   * <span data-ttu-id="e7d23-257">Dans la fenêtre contextuelle, remplacez **Serveur** et **Base de données** par vos propres noms de serveur et de base de données, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="e7d23-257">In the pop out window, replace **'Server'** and **'Database'** with your own server and database names, and then click **'OK'**.</span></span> <span data-ttu-id="e7d23-258">Pour le nom du serveur, veillez à spécifier le port 1433 (**NomVotreSolution.database.windows.net, 1433**).</span><span class="sxs-lookup"><span data-stu-id="e7d23-258">For server name, make sure you specify the port 1433 (**YourSoutionName.database.windows.net, 1433**).</span></span> <span data-ttu-id="e7d23-259">Laissez le champ de base de données en tant que **pmaintenancedb**.</span><span class="sxs-lookup"><span data-stu-id="e7d23-259">Leave the Database field as **pmaintenancedb**.</span></span> <span data-ttu-id="e7d23-260">Ignorez les messages d’avertissement qui s’affichent à l’écran.</span><span class="sxs-lookup"><span data-stu-id="e7d23-260">Ignore the warning messages that appear on the screen.</span></span>
   * <span data-ttu-id="e7d23-261">Dans la fenêtre contextuelle suivante, deux options s’affichent dans le volet gauche (**Windows** et **Base de données**).</span><span class="sxs-lookup"><span data-stu-id="e7d23-261">In the next pop out window, you'll see two options on the left pane (**Windows** and **Database**).</span></span> <span data-ttu-id="e7d23-262">Cliquez sur **Base de données** et renseignez vos **Nom d’utilisateur** et **Mot de passe** (il s’agit des nom d’utilisateur et mot de passe que vous avez entrés au moment du déploiement de la solution et de la création de la base de données SQL Azure).</span><span class="sxs-lookup"><span data-stu-id="e7d23-262">Click **'Database'**, fill in your **'Username'** and **'Password'** (this is the username and password you entered when you first deployed the solution and created an Azure SQL database).</span></span> <span data-ttu-id="e7d23-263">Dans ***Sélectionnez le niveau auquel appliquer ces paramètres***, cochez l’option du niveau de base de données.</span><span class="sxs-lookup"><span data-stu-id="e7d23-263">In ***Select which level to apply these settings to***, check database level option.</span></span> <span data-ttu-id="e7d23-264">Cliquez ensuite sur **Se connecter**.</span><span class="sxs-lookup"><span data-stu-id="e7d23-264">Then click **'Connect'**.</span></span>
   * <span data-ttu-id="e7d23-265">Cliquez sur la deuxième table **PMResult**, puis cliquez sur ![l’icône de navigation](media/cortana-analytics-technical-guide-predictive-maintenance/icon-navigation.png) à côté de **'Source'** sous **'ÉTAPES APPLIQUÉES'** sur le panneau **Paramètres de requête** de droite, et mettez à jour les noms de serveur et de base de données comme lors des étapes ci-dessus, puis cliquez sur OK.</span><span class="sxs-lookup"><span data-stu-id="e7d23-265">Click on the second table **PMResult** then click ![Navigation icon](media/cortana-analytics-technical-guide-predictive-maintenance/icon-navigation.png) next to **'Source'** under **'APPLIED STEPS'** on the right **'Query Settings'** panel, and update the server and database names as in the above steps and click OK.</span></span>
   * <span data-ttu-id="e7d23-266">Une fois redirigé sur la page précédente, fermez la fenêtre.</span><span class="sxs-lookup"><span data-stu-id="e7d23-266">Once you're guided back to the previous page, close the window.</span></span> <span data-ttu-id="e7d23-267">Un message s’affiche ; cliquez sur **Appliquer**.</span><span class="sxs-lookup"><span data-stu-id="e7d23-267">A message will pop out - click **Apply**.</span></span> <span data-ttu-id="e7d23-268">Pour finir, cliquez sur le bouton **Enregistrer** pour enregistrer les modifications.</span><span class="sxs-lookup"><span data-stu-id="e7d23-268">Lastly, click the **Save** button to save the changes.</span></span> <span data-ttu-id="e7d23-269">Votre fichier Power BI a maintenant établi la connexion au serveur.</span><span class="sxs-lookup"><span data-stu-id="e7d23-269">Your Power BI file has now established connection to the server.</span></span> <span data-ttu-id="e7d23-270">Si vos visualisations sont vides, veillez à désactiver les sélections de visualisation pour visualiser toutes les données en cliquant sur l’icône de suppression en haut à droite des légendes.</span><span class="sxs-lookup"><span data-stu-id="e7d23-270">If your visualizations are empty, make sure you clear the selections on the visualizations to visualize all the data by clicking the eraser icon on the upper right corner of the legends.</span></span> <span data-ttu-id="e7d23-271">Utilisez le bouton Actualiser pour afficher les nouvelles données sur les visualisations.</span><span class="sxs-lookup"><span data-stu-id="e7d23-271">Use the refresh button to reflect new data on the visualizations.</span></span> <span data-ttu-id="e7d23-272">Au départ, vous verrez uniquement les données d’amorçage sur vos visualisations, étant donné que la fabrique de données est planifiée pour s’actualiser toutes les 3 heures.</span><span class="sxs-lookup"><span data-stu-id="e7d23-272">Initially, you will only see the seed data on your visualizations as the data factory is scheduled to refresh every 3 hours.</span></span> <span data-ttu-id="e7d23-273">Au bout de 3 heures, les nouvelles prédictions sont reflétées dans vos visualisations lorsque vous actualisez les données.</span><span class="sxs-lookup"><span data-stu-id="e7d23-273">After 3 hours, you will see new predictions reflected in your visualizations when you refresh the data.</span></span>
3. <span data-ttu-id="e7d23-274">(Facultatif) Publier le tableau de bord de chemin à froid dans [Power BI en ligne](http://www.powerbi.com/).</span><span class="sxs-lookup"><span data-stu-id="e7d23-274">(Optional) Publish the cold path dashboard to [Power BI online](http://www.powerbi.com/).</span></span> <span data-ttu-id="e7d23-275">Notez que vous avez besoin d’un compte Power BI (ou d’un compte Office 365) pour cette étape.</span><span class="sxs-lookup"><span data-stu-id="e7d23-275">Note that this step needs a Power BI account (or Office 365 account).</span></span>
   
   * <span data-ttu-id="e7d23-276">Cliquez sur **Publier** et attendez quelques secondes : une fenêtre s’affiche pour confirmer que la publication dans Power BI a bien été effectuée,</span><span class="sxs-lookup"><span data-stu-id="e7d23-276">Click **'Publish'** and few seconds later a window appears displaying "Publishing to Power BI Success!"</span></span> <span data-ttu-id="e7d23-277">avec une coche verte.</span><span class="sxs-lookup"><span data-stu-id="e7d23-277">with a green check mark.</span></span> <span data-ttu-id="e7d23-278">Cliquez sur le lien sous « Ouvrir PredictiveMaintenanceAerospace.pbix dans Power BI ».</span><span class="sxs-lookup"><span data-stu-id="e7d23-278">Click the link below "Open PredictiveMaintenanceAerospace.pbix in Power BI".</span></span> <span data-ttu-id="e7d23-279">Pour obtenir des instructions détaillées, consultez la page [Publier à partir de Power BI Desktop](https://support.powerbi.com/knowledgebase/articles/461278-publish-from-power-bi-desktop).</span><span class="sxs-lookup"><span data-stu-id="e7d23-279">To find detailed instructions, see [Publish from Power BI Desktop](https://support.powerbi.com/knowledgebase/articles/461278-publish-from-power-bi-desktop).</span></span>
   * <span data-ttu-id="e7d23-280">Pour créer un tableau de bord : cliquez sur le signe **+** en regard de la section **Tableaux de bord** dans le volet gauche.</span><span class="sxs-lookup"><span data-stu-id="e7d23-280">To create a new dashboard: click the **+** sign next to the **Dashboards** section on the left pane.</span></span> <span data-ttu-id="e7d23-281">Entrez le nom de ce tableau de bord, dans notre exemple « Démo de maintenance prédictive ».</span><span class="sxs-lookup"><span data-stu-id="e7d23-281">Enter the name "Predictive Maintenance Demo" for this new dashboard.</span></span>
   * <span data-ttu-id="e7d23-282">Une fois que vous ouvrez le rapport, cliquez sur ![l’icône PIN](media/cortana-analytics-technical-guide-predictive-maintenance/icon-pin.png) pour épingler toutes les visualisations à votre tableau de bord.</span><span class="sxs-lookup"><span data-stu-id="e7d23-282">Once you open the report, click ![PIN icon](media/cortana-analytics-technical-guide-predictive-maintenance/icon-pin.png) to pin all the visualizations to your dashboard.</span></span> <span data-ttu-id="e7d23-283">Pour obtenir des instructions détaillées, consultez la page [Épingler une vignette à un tableau de bord Power BI à partir d’un rapport](https://support.powerbi.com/knowledgebase/articles/430323-pin-a-tile-to-a-power-bi-dashboard-from-a-report).</span><span class="sxs-lookup"><span data-stu-id="e7d23-283">To find detailed instructions, see [Pin a tile to a Power BI dashboard from a report](https://support.powerbi.com/knowledgebase/articles/430323-pin-a-tile-to-a-power-bi-dashboard-from-a-report).</span></span>
     <span data-ttu-id="e7d23-284">Accédez à la page Tableau de bord et ajustez la taille et l’emplacement de vos visualisations, puis modifier leurs titres.</span><span class="sxs-lookup"><span data-stu-id="e7d23-284">Go to the dashboard page and adjust the size and location of your visualizations and edit their titles.</span></span> <span data-ttu-id="e7d23-285">Pour obtenir des instructions détaillées sur la modification de vos vignettes, consultez [Modifier une vignette -- redimensionner, déplacer, renommer, épingler, supprimer, ajouter un lien hypertexte](https://powerbi.microsoft.com/documentation/powerbi-service-edit-a-tile-in-a-dashboard/#rename).</span><span class="sxs-lookup"><span data-stu-id="e7d23-285">To find detailed instructions on how to edit your tiles, see [Edit a tile -- resize, move, rename, pin, delete, add hyperlink](https://powerbi.microsoft.com/documentation/powerbi-service-edit-a-tile-in-a-dashboard/#rename).</span></span> <span data-ttu-id="e7d23-286">Voici un exemple de tableau de bord sur lequel sont épinglées des visualisations de chemin à froid.</span><span class="sxs-lookup"><span data-stu-id="e7d23-286">Here is an example dashboard with some cold path visualizations pinned to it.</span></span>  <span data-ttu-id="e7d23-287">Selon la durée pendant laquelle vous exécutez votre générateur de données, les numéros des visualisations peuvent être différents.</span><span class="sxs-lookup"><span data-stu-id="e7d23-287">Depending on how long you run your data generator, your numbers on the visualizations may be different.</span></span>
     <br/><span data-ttu-id="e7d23-288">
     ![Affichage final](media/cortana-analytics-technical-guide-predictive-maintenance/final-view.png)
     </span><span class="sxs-lookup"><span data-stu-id="e7d23-288">
     ![Final view](media/cortana-analytics-technical-guide-predictive-maintenance/final-view.png)
     </span></span><br/>
   * <span data-ttu-id="e7d23-289">Pour planifier l’actualisation des données, pointez votre souris sur le jeu de données **PredictiveMaintenanceAerospace**, cliquez sur ![l’icône de points de suspension](media/cortana-analytics-technical-guide-predictive-maintenance/icon-elipsis.png), puis sur **Planifier l’actualisation**.</span><span class="sxs-lookup"><span data-stu-id="e7d23-289">To schedule refresh of the data, hover your mouse over the **PredictiveMaintenanceAerospace** dataset, click ![Elipsis icon](media/cortana-analytics-technical-guide-predictive-maintenance/icon-elipsis.png) and then choose **Schedule Refresh**.</span></span>
     <br/><span data-ttu-id="e7d23-290">
     **Remarque :** si vous voyez un message d’avertissement, cliquez sur **Modifier les informations d’identification** et vérifiez que vos informations d’identification de base de données sont les mêmes que celles décrites à l’étape 1.</span><span class="sxs-lookup"><span data-stu-id="e7d23-290">
     **Note:** If you see a warning massage, click **Edit Credentials** and make sure your database credentials are the same as those described in step 1.</span></span>
     <br/><span data-ttu-id="e7d23-291">
     ![Planifier l’actualisation](media/cortana-analytics-technical-guide-predictive-maintenance/schedule-refresh.png)
</span><span class="sxs-lookup"><span data-stu-id="e7d23-291">
![Schedule refresh](media/cortana-analytics-technical-guide-predictive-maintenance/schedule-refresh.png)
</span></span><br/>
   * <span data-ttu-id="e7d23-292">Développez la section **Planifier l’actualisation** .</span><span class="sxs-lookup"><span data-stu-id="e7d23-292">Expand the **Schedule Refresh** section.</span></span> <span data-ttu-id="e7d23-293">Activez l’option Maintenir vos données à jour.</span><span class="sxs-lookup"><span data-stu-id="e7d23-293">Turn on "keep your data up-to-date".</span></span>
     <br/>
   * <span data-ttu-id="e7d23-294">Planifiez l’actualisation selon vos besoins.</span><span class="sxs-lookup"><span data-stu-id="e7d23-294">Schedule the refresh based on your needs.</span></span> <span data-ttu-id="e7d23-295">Pour plus d’informations, consultez la page [Actualisation des données dans Power BI](https://support.powerbi.com/knowledgebase/articles/474669-data-refresh-in-power-bi).</span><span class="sxs-lookup"><span data-stu-id="e7d23-295">To find more information, see [Data refresh in Power BI](https://support.powerbi.com/knowledgebase/articles/474669-data-refresh-in-power-bi).</span></span>

### <a name="setup-hot-path-dashboard"></a><span data-ttu-id="e7d23-296">Configuration du tableau de bord de chemin à chaud</span><span class="sxs-lookup"><span data-stu-id="e7d23-296">Setup hot path dashboard</span></span>
<span data-ttu-id="e7d23-297">Dans les étapes suivantes, nous allons vous expliquer comment visualiser la sortie de données en temps réel des tâches Stream Analytics qui ont été générées au moment du déploiement de la solution.</span><span class="sxs-lookup"><span data-stu-id="e7d23-297">The following steps will guide you how to visualize real time data output from Stream Analytics jobs that were generated at the time of solution deployment.</span></span> <span data-ttu-id="e7d23-298">Les étapes suivantes nécessitent un compte [Power BI en ligne](http://www.powerbi.com/) .</span><span class="sxs-lookup"><span data-stu-id="e7d23-298">A [Power BI online](http://www.powerbi.com/) account is required to perform the following steps.</span></span> <span data-ttu-id="e7d23-299">Si vous ne possédez pas de compte, vous pouvez en [créer un](https://powerbi.microsoft.com/pricing).</span><span class="sxs-lookup"><span data-stu-id="e7d23-299">If you don't have an account, you can [create one](https://powerbi.microsoft.com/pricing).</span></span>

1. <span data-ttu-id="e7d23-300">Ajouter une sortie Power BI dans Azure Stream Analytics (ASA).</span><span class="sxs-lookup"><span data-stu-id="e7d23-300">Add Power BI output in Azure Stream Analytics (ASA).</span></span>
   
   * <span data-ttu-id="e7d23-301">Pour configurer la sortie de votre travail Azure Stream Analytics en tant que tableau de bord Power BI, vous devez suivre les instructions contenues dans [Azure Stream Analytics et Power BI : tableau de bord d’analyse permettant de visualiser en temps réel les données de diffusion en continu](../stream-analytics/stream-analytics-power-bi-dashboard.md).</span><span class="sxs-lookup"><span data-stu-id="e7d23-301">You will need to follow the instructions in [Azure Stream Analytics & Power BI: A real-time analytics dashboard for real-time visibility of streaming data](../stream-analytics/stream-analytics-power-bi-dashboard.md) to set up the output of your Azure Stream Analytics job as your Power BI dashboard.</span></span>
   * <span data-ttu-id="e7d23-302">La requête ASA possède trois sorties, à savoir **aircraftmonitor**, **aircraftalert** et **flightsbyhour**.</span><span class="sxs-lookup"><span data-stu-id="e7d23-302">The ASA query has three outputs which are **aircraftmonitor**, **aircraftalert**, and **flightsbyhour**.</span></span> <span data-ttu-id="e7d23-303">Vous pouvez afficher la requête en cliquant sur l’onglet Requête.</span><span class="sxs-lookup"><span data-stu-id="e7d23-303">You can view the query by clicking on query tab.</span></span> <span data-ttu-id="e7d23-304">Pour chacune de ces tables, vous devez ajouter une sortie vers ASA.</span><span class="sxs-lookup"><span data-stu-id="e7d23-304">Corresponding to each of these tables, you will need to add an output to ASA.</span></span> <span data-ttu-id="e7d23-305">Quand vous ajoutez la première sortie (*par exemple* **aircraftmonitor**) vérifiez que les paramètres **Alias de sortie**, **Nom du jeu de données** et **Nom de la table** sont identiques (**aircraftmonitor**).</span><span class="sxs-lookup"><span data-stu-id="e7d23-305">When you add the first output (*e.g.* **aircraftmonitor**) make sure the **Output Alias**, **Dataset Name** and **Table Name** are the same (**aircraftmonitor**).</span></span> <span data-ttu-id="e7d23-306">Répétez les étapes pour ajouter des sorties pour **aircraftalert** et **flightsbyhour**.</span><span class="sxs-lookup"><span data-stu-id="e7d23-306">Repeat the steps to add outputs for **aircraftalert**, and **flightsbyhour**.</span></span> <span data-ttu-id="e7d23-307">Une fois que vous avez ajouté les trois tables de sortie et démarré le travail ASA, vous devriez obtenir un message de confirmation (*du type*« La tâche Stream Analytics maintenancesa02asapbi a bien démarré »).</span><span class="sxs-lookup"><span data-stu-id="e7d23-307">Once you have added all three output tables and started the ASA job, you should get a confirmation message (*e.g.*, "Starting Stream Analytics job maintenancesa02asapbi succeeded").</span></span>
2. <span data-ttu-id="e7d23-308">Se connecter à [Power BI en ligne](http://www.powerbi.com)</span><span class="sxs-lookup"><span data-stu-id="e7d23-308">Log in to [Power BI online](http://www.powerbi.com)</span></span>
   
   * <span data-ttu-id="e7d23-309">Dans Mon espace de travail, dans la section Jeux de données du volet gauche, les noms de ***JEUX DE DONNÉES*** **aircraftmonitor**, **aircraftalert** et **flightsbyhour** doivent apparaître. Il s’agit des données de diffusion que vous avez récupérées d’Azure Stream Analytics à l’étape précédente. Le jeu de données **flightsbyhour** n’apparaît pas forcément en même temps que les deux autres jeux de données en raison de la nature de la requête SQL sous-jacente.</span><span class="sxs-lookup"><span data-stu-id="e7d23-309">On the left panel Datasets section in My Workspace, the ***DATASET*** names **aircraftmonitor**, **aircraftalert**, and **flightsbyhour** should appear.This is the streaming data you pushed from Azure Stream Analytics in the previous step.The dataset **flightsbyhour** may not show up at the same time as the other two datasets due to the nature of the SQL query behind it.</span></span> <span data-ttu-id="e7d23-310">Toutefois, il doit s’afficher après une heure.</span><span class="sxs-lookup"><span data-stu-id="e7d23-310">However, it should show up after an hour.</span></span>
   * <span data-ttu-id="e7d23-311">Assurez-vous que le volet ***Visualisations*** est ouvert et qu’il s’affiche à droite de l’écran.</span><span class="sxs-lookup"><span data-stu-id="e7d23-311">Make sure the ***Visualizations*** pane is open and is shown on the right side of the screen.</span></span>
3. <span data-ttu-id="e7d23-312">Une fois que les données affluent dans Power BI, vous pouvez commencer à visualiser les données de diffusion.</span><span class="sxs-lookup"><span data-stu-id="e7d23-312">Once you have the data flowing into Power BI, you can start visualizing the streaming data.</span></span> <span data-ttu-id="e7d23-313">Le tableau ci-dessous est un exemple de tableau de bord sur lequel sont épinglées des visualisations de chemin à chaud.</span><span class="sxs-lookup"><span data-stu-id="e7d23-313">Below is an example dashboard with some hot path visualizations pinned to it.</span></span> <span data-ttu-id="e7d23-314">Vous pouvez créer d’autres vignettes de tableau de bord en fonction des jeux de données appropriés.</span><span class="sxs-lookup"><span data-stu-id="e7d23-314">You can create other dashboard tiles based on appropriate datasets.</span></span> <span data-ttu-id="e7d23-315">Selon la durée pendant laquelle vous exécutez votre générateur de données, les numéros des visualisations peuvent être différents.</span><span class="sxs-lookup"><span data-stu-id="e7d23-315">Depending on how long you run your data generator, your numbers on the visualizations may be different.</span></span>

    ![Vue du tableau de bord](media\cortana-analytics-technical-guide-predictive-maintenance\dashboard-view.png)

1. <span data-ttu-id="e7d23-317">Voici comment vous pouvez créer l’une des vignettes ci-dessus : - « Fleet View of Sensor 11 vs. Threshold 48.26 » :</span><span class="sxs-lookup"><span data-stu-id="e7d23-317">Here are some steps to create one of the tiles above –  the "Fleet View of Sensor 11 vs. Threshold 48.26" tile:</span></span>
   
   * <span data-ttu-id="e7d23-318">Cliquez sur le jeu de données **aircraftmonitor** dans la section Jeux de données du volet gauche.</span><span class="sxs-lookup"><span data-stu-id="e7d23-318">Click dataset **aircraftmonitor** on the left panel Datasets section.</span></span>
   * <span data-ttu-id="e7d23-319">Cliquez sur l’icône **Courbes** .</span><span class="sxs-lookup"><span data-stu-id="e7d23-319">Click the **Line Chart** icon.</span></span>
   * <span data-ttu-id="e7d23-320">Cliquez sur **Traités** dans le volet **Champs** pour l’afficher sous « Axe » dans le volet **Visualisations**.</span><span class="sxs-lookup"><span data-stu-id="e7d23-320">Click **Processed** in the **Fields** pane so that it shows under "Axis" in the **Visualizations** pane.</span></span>
   * <span data-ttu-id="e7d23-321">Cliquez sur « s11 » et « s11alert\_alert » pour faire apparaître les deux sous « Valeurs ».</span><span class="sxs-lookup"><span data-stu-id="e7d23-321">Click "s11" and "s11\_alert" so that they both appear under "Values".</span></span> <span data-ttu-id="e7d23-322">Cliquez sur la flèche située en regard de **s11** et **s11\_alert** et remplacez « Somme » par « Moyenne ».</span><span class="sxs-lookup"><span data-stu-id="e7d23-322">Click the small arrow next to **s11** and **s11\_alert**, change "Sum" to "Average".</span></span>
   * <span data-ttu-id="e7d23-323">Cliquez sur **ENREGISTRER** en haut de l’écran et nommez le rapport « aircraftmonitor ».</span><span class="sxs-lookup"><span data-stu-id="e7d23-323">Click **SAVE** on the top and name the report "aircraftmonitor".</span></span> <span data-ttu-id="e7d23-324">Le rapport « aircraftmonitor » s’affichera dans la section **Rapports** du volet gauche **Navigateur**.</span><span class="sxs-lookup"><span data-stu-id="e7d23-324">The report named "aircraftmonitor" will be shown in the **Reports** section in the **Navigator** pane on the left.</span></span>
   * <span data-ttu-id="e7d23-325">Cliquez sur l’icône **Épingler le visuel** en haut à droite de ce graphique en courbes.</span><span class="sxs-lookup"><span data-stu-id="e7d23-325">Click the **Pin Visual** icon on the top right corner of this line chart.</span></span> <span data-ttu-id="e7d23-326">Une fenêtre « Épingler au tableau de bord » peut apparaître pour vous permettre de sélectionner un tableau de bord.</span><span class="sxs-lookup"><span data-stu-id="e7d23-326">A "Pin to Dashboard" window may show up for you to choose a dashboard.</span></span> <span data-ttu-id="e7d23-327">Sélectionnez « Démo de Maintenance prédictive », puis cliquez sur « Épingler ».</span><span class="sxs-lookup"><span data-stu-id="e7d23-327">Select "Predictive Maintenance Demo", then click "Pin".</span></span>
   * <span data-ttu-id="e7d23-328">Dans le tableau de bord, pointez la souris sur cette vignette, cliquez sur l’icône Modifier située en haut à droite pour donner le titre « Fleet View of Sensor 11 vs. Threshold 48.26 » et le sous-titre « Average across fleet over time ».</span><span class="sxs-lookup"><span data-stu-id="e7d23-328">Hover the mouse over this tile on the dashboard, click the "edit" icon on the top right corner to change its title to "Fleet View of Sensor 11 vs. Threshold 48.26" and subtitle to "Average across fleet over time".</span></span>

## <a name="how-to-delete-your-solution"></a><span data-ttu-id="e7d23-329">**Comment supprimer votre solution**</span><span class="sxs-lookup"><span data-stu-id="e7d23-329">**How to delete your solution**</span></span>
<span data-ttu-id="e7d23-330">Veillez à arrêter le générateur de données quand vous n’utilisez pas la solution activement, car l’exécution du générateur de données entraîne des coûts plus élevés.</span><span class="sxs-lookup"><span data-stu-id="e7d23-330">Please ensure that you stop the data generator when not actively using the solution as running the data generator will incur higher costs.</span></span> <span data-ttu-id="e7d23-331">Supprimez la solution si vous ne l’utilisez pas.</span><span class="sxs-lookup"><span data-stu-id="e7d23-331">Please delete the solution if you are not using it.</span></span> <span data-ttu-id="e7d23-332">La suppression de votre solution supprime tous les composants qui étaient configurés dans votre abonnement quand vous avez déployé la solution.</span><span class="sxs-lookup"><span data-stu-id="e7d23-332">Deleting your solution will delete all the components provisioned in your subscription when you deployed the solution.</span></span> <span data-ttu-id="e7d23-333">Pour supprimer la solution, cliquez sur son nom dans le volet gauche du modèle de solution, puis cliquez sur Supprimer.</span><span class="sxs-lookup"><span data-stu-id="e7d23-333">To delete the solution click on your solution name in the left panel of the solution template and click on delete.</span></span>

## <a name="cost-estimation-tools"></a><span data-ttu-id="e7d23-334">**Outils d’estimation des coûts**</span><span class="sxs-lookup"><span data-stu-id="e7d23-334">**Cost estimation tools**</span></span>
<span data-ttu-id="e7d23-335">Les deux outils suivants peuvent vous aider à mieux comprendre les coûts impliqués dans l’exécution du modèle de solution de maintenance prédictive pour le secteur aérospatial dans votre abonnement :</span><span class="sxs-lookup"><span data-stu-id="e7d23-335">The following two tools are available to help you better understand the total costs involved in running the Predictive Maintenance for Aerospace Solution Template in your subscription:</span></span>

* [<span data-ttu-id="e7d23-336">Microsoft Azure Cost Estimator Tool (en ligne)</span><span class="sxs-lookup"><span data-stu-id="e7d23-336">Microsoft Azure Cost Estimator Tool (online)</span></span>](https://azure.microsoft.com/pricing/calculator/)
* [<span data-ttu-id="e7d23-337">Microsoft Azure Cost Estimator Tool (de bureau)</span><span class="sxs-lookup"><span data-stu-id="e7d23-337">Microsoft Azure Cost Estimator Tool (desktop)</span></span>](http://www.microsoft.com/download/details.aspx?id=43376)

