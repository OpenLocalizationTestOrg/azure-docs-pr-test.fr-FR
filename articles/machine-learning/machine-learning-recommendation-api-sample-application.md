---
title: "opérations aaaCommon Bonjour Machine Learning recommandations API | Documents Microsoft"
description: Exemple d'application Azure ML Recommendation
services: machine-learning
documentationcenter: 
author: LuisCabrer
manager: jhubbard
editor: cgronlun
ms.assetid: 0220bc17-3315-47d7-84a3-ef490263a343
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/31/2017
ms.author: luisca
ROBOTS: NOINDEX
redirect_url: machine-learning-datamarket-deprecation
redirect_document_id: True
ms.openlocfilehash: da16767134a1386617e1184e4a4850f1f346e972
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="recommendations-api-sample-application-walkthrough"></a><span data-ttu-id="1f966-103">Procédure pas à pas d’exemple d’application d’API Recommendations</span><span class="sxs-lookup"><span data-stu-id="1f966-103">Recommendations API Sample Application Walkthrough</span></span>
> [!NOTE]
> <span data-ttu-id="1f966-104">Vous devez commencer à l’aide de hello Service cognitifs de recommandations API au lieu de cette version.</span><span class="sxs-lookup"><span data-stu-id="1f966-104">You should start using hello Recommendations API Cognitive Service instead of this version.</span></span> <span data-ttu-id="1f966-105">Hello Service cognitifs recommandations remplacera ce service et toutes les hello nouvelles fonctionnalités seront développées il.</span><span class="sxs-lookup"><span data-stu-id="1f966-105">hello Recommendations Cognitive Service will be replacing this service, and all hello new features will be developed there.</span></span> <span data-ttu-id="1f966-106">Il propose de nouvelles fonctionnalités telles que la prise en charge du traitement par lot, un meilleur Explorateur d’API, une surface d’API plus propre, une expérience d’inscription/de facturation plus cohérente, etc.</span><span class="sxs-lookup"><span data-stu-id="1f966-106">It has new capabilities like batching support, a better API Explorer, a cleaner API surface, more consistent signup/billing experience, etc.</span></span>
> <span data-ttu-id="1f966-107">En savoir plus sur [migration toohello nouveau Service cognitifs](http://aka.ms/recomigrate)</span><span class="sxs-lookup"><span data-stu-id="1f966-107">Learn more about [Migrating toohello new Cognitive Service](http://aka.ms/recomigrate)</span></span>
> 
> 

## <a name="purpose"></a><span data-ttu-id="1f966-108">Objectif</span><span class="sxs-lookup"><span data-stu-id="1f966-108">Purpose</span></span>
<span data-ttu-id="1f966-109">Ce document illustre l’utilisation de hello Hello Azure Machine Learning recommandations API via une [exemple d’application](https://code.msdn.microsoft.com/Recommendations-144df403).</span><span class="sxs-lookup"><span data-stu-id="1f966-109">This document shows hello usage of hello Azure Machine Learning Recommendations API via a [sample application](https://code.msdn.microsoft.com/Recommendations-144df403).</span></span>

<span data-ttu-id="1f966-110">Cette application n’est pas prévue tooinclude toutes les fonctionnalités, ni utilise-t-elle hello toutes les API.</span><span class="sxs-lookup"><span data-stu-id="1f966-110">This application is not intended tooinclude full functionality, nor does it use all hello APIs.</span></span> <span data-ttu-id="1f966-111">Il illustre certains tooperform opérations courantes lorsque vous souhaitez tout d’abord tooplay avec hello service de recommandation d’apprentissage.</span><span class="sxs-lookup"><span data-stu-id="1f966-111">It demonstrates some common operations tooperform when you first want tooplay with hello Machine Learning recommendation service.</span></span> 

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="introduction-toomachine-learning-recommendation-service"></a><span data-ttu-id="1f966-112">Introduction tooMachine service de recommandation d’apprentissage</span><span class="sxs-lookup"><span data-stu-id="1f966-112">Introduction tooMachine Learning recommendation service</span></span>
<span data-ttu-id="1f966-113">Recommandations via hello service de recommandation d’apprentissage sont activées lorsque vous générez un modèle de recommandation basé sur hello données suivantes :</span><span class="sxs-lookup"><span data-stu-id="1f966-113">Recommendations via hello Machine Learning recommendation service are enabled when you build a recommendation model based on hello following data:</span></span>

* <span data-ttu-id="1f966-114">Un référentiel des éléments hello toorecommend, également connu en tant que catalogue</span><span class="sxs-lookup"><span data-stu-id="1f966-114">A repository of hello items you want toorecommend, also known as a catalog</span></span>
* <span data-ttu-id="1f966-115">Représentation de l’utilisation de hello d’éléments par l’utilisateur ou de session (Cela peut être acquis au fil du temps via l’acquisition de données, pas dans le cadre de l’application d’exemple hello) de données</span><span class="sxs-lookup"><span data-stu-id="1f966-115">Data representing hello usage of items per user or session (this can be acquired over time via data acquisition, not as part of hello sample app)</span></span>

<span data-ttu-id="1f966-116">Une fois un modèle de recommandation est généré, vous pouvez l’utiliser des éléments de toopredict un utilisateur d’intéresser, en fonction de tooa utilisateur sélectionne hello de jeu d’éléments (ou un élément unique).</span><span class="sxs-lookup"><span data-stu-id="1f966-116">After a recommendation model is built, you can use it toopredict items that a user might be interested in, according tooa set of items (or a single item) hello user selects.</span></span>

<span data-ttu-id="1f966-117">tooenable hello scénario précédent, procédez comme suit hello dans hello service de recommandation d’apprentissage :</span><span class="sxs-lookup"><span data-stu-id="1f966-117">tooenable hello previous scenario, do hello following in hello Machine Learning recommendation service:</span></span>

* <span data-ttu-id="1f966-118">Créer un modèle : il s’agit d’un conteneur logique qui contient les données hello (catalogue et utilisation) et les modèles de prédiction hello.</span><span class="sxs-lookup"><span data-stu-id="1f966-118">Create a model: This is a logical container that holds hello data (catalog and usage) and hello prediction model(s).</span></span> <span data-ttu-id="1f966-119">Chaque conteneur de modèle est identifié par un identifiant unique attribué lors de sa création.</span><span class="sxs-lookup"><span data-stu-id="1f966-119">Each model container is identified via a unique ID, which is allocated when it is created.</span></span> <span data-ttu-id="1f966-120">Cet ID est appelé ID de modèle hello, et il est utilisé par la plupart des API de hello.</span><span class="sxs-lookup"><span data-stu-id="1f966-120">This ID is called hello model ID, and it is used by most of hello APIs.</span></span> 
* <span data-ttu-id="1f966-121">Télécharger toocatalog : création d’un conteneur de modèle, vous pouvez associer tooit un catalogue.</span><span class="sxs-lookup"><span data-stu-id="1f966-121">Upload toocatalog: When a model container is created, you can associate tooit a catalog.</span></span>

<span data-ttu-id="1f966-122">**Remarque**: création d’un modèle et le téléchargement de tooa catalogue sont généralement effectuées une seule fois pour le modèle du cycle de vie hello.</span><span class="sxs-lookup"><span data-stu-id="1f966-122">**Note**: Creating a model and uploading tooa catalog are usually performed once for hello model lifecycle.</span></span>

* <span data-ttu-id="1f966-123">Télécharger l’utilisation : cette opération ajoute le conteneur de modèle toohello l’utilisation des données.</span><span class="sxs-lookup"><span data-stu-id="1f966-123">Upload usage: This adds usage data toohello model container.</span></span>
* <span data-ttu-id="1f966-124">Générer un modèle de recommandation : une fois que vous avez suffisamment de données, vous pouvez générer le modèle de recommandation hello.</span><span class="sxs-lookup"><span data-stu-id="1f966-124">Build a recommendation model: After you have enough data, you can build hello recommendation model.</span></span> <span data-ttu-id="1f966-125">Cette opération utilise hello supérieur apprentissage algorithmes toocreate un modèle de recommandation.</span><span class="sxs-lookup"><span data-stu-id="1f966-125">This operation uses hello top Machine Learning algorithms toocreate a recommendation model.</span></span> <span data-ttu-id="1f966-126">Chaque génération est associée à un identifiant unique.</span><span class="sxs-lookup"><span data-stu-id="1f966-126">Each build is associated with a unique ID.</span></span> <span data-ttu-id="1f966-127">Vous devez tookeep un enregistrement de cet ID, car il n’est nécessaire pour la fonctionnalité de hello de certaines API.</span><span class="sxs-lookup"><span data-stu-id="1f966-127">You need tookeep a record of this ID because it is necessary for hello functionality of some APIs.</span></span>
* <span data-ttu-id="1f966-128">Hello analyse processus de création : construction d’un modèle de recommandation est une opération asynchrone, et peut prendre plusieurs minutes tooseveral heures, selon la quantité de hello de données (catalogue et utilisation) et hello des paramètres de génération.</span><span class="sxs-lookup"><span data-stu-id="1f966-128">Monitor hello building process: A recommendation model build is an asynchronous operation, and it can take from several minutes tooseveral hours, depending on hello amount of data (catalog and usage) and hello build parameters.</span></span> <span data-ttu-id="1f966-129">Par conséquent, vous devez générer de hello toomonitor.</span><span class="sxs-lookup"><span data-stu-id="1f966-129">Therefore, you need toomonitor hello build.</span></span> <span data-ttu-id="1f966-130">Un modèle de recommandation est créé uniquement si sa génération associée est réalisée avec succès.</span><span class="sxs-lookup"><span data-stu-id="1f966-130">A recommendation model is created only if its associated build completes successfully.</span></span>
* <span data-ttu-id="1f966-131">(Facultatif) Choisissez la génération active d’un modèle de recommandation. Cette étape est nécessaire uniquement si vous avez associé plusieurs modèles de recommandation à votre conteneur de modèle.</span><span class="sxs-lookup"><span data-stu-id="1f966-131">(Optional) Choose an active recommendation model build: This step is only necessary if you have more than one recommendation model built in your model container.</span></span> <span data-ttu-id="1f966-132">Les recommandations de tooget demande sans indiquer le modèle de recommandation active hello est automatiquement redirigée par hello toohello par défaut active la version du système.</span><span class="sxs-lookup"><span data-stu-id="1f966-132">Any request tooget recommendations without indicating hello active recommendation model is redirected automatically by hello system toohello default active build.</span></span> 

<span data-ttu-id="1f966-133">**Remarque**: un modèle de recommandation actif est prêt pour la production et est conçu pour une charge de production.</span><span class="sxs-lookup"><span data-stu-id="1f966-133">**Note**: An active recommendation model is production ready and it is built for production workload.</span></span> <span data-ttu-id="1f966-134">Il diffère d’un modèle de recommandation non actif, qui reste dans un environnement similaire à celui d’un test (parfois appelé intermédiaire).</span><span class="sxs-lookup"><span data-stu-id="1f966-134">This differs from a non-active recommendation model, which stays in a test-like environment (sometimes called staging).</span></span>

* <span data-ttu-id="1f966-135">Obtenez la recommandation : une fois que vous disposez d’un modèle de recommandation, vous pouvez déclencher la recommandation pour un seul élément ou pour une liste d’éléments que vous avez sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="1f966-135">Get recommendations: After you have a recommendation model, you can trigger recommendations for a single item or a list of items that you select.</span></span> 

<span data-ttu-id="1f966-136">En général, l'appel de la fonction Obtenez une recommandation dure un certain temps.</span><span class="sxs-lookup"><span data-stu-id="1f966-136">You will usually invoke Get Recommendation for a certain period of time.</span></span> <span data-ttu-id="1f966-137">Pendant cette période de temps, vous pouvez rediriger l’utilisation des données toohello système de recommandation d’apprentissage qui ajoute ce conteneur de modèle spécifié de toohello de données.</span><span class="sxs-lookup"><span data-stu-id="1f966-137">During that period of time, you can redirect usage data toohello Machine Learning recommendation system, which adds this data toohello specified model container.</span></span> <span data-ttu-id="1f966-138">Lorsque vous avez suffisamment de données d’utilisation, vous pouvez générer un nouveau modèle de recommandation qui incorpore des données d’utilisation supplémentaires hello.</span><span class="sxs-lookup"><span data-stu-id="1f966-138">When you have enough usage data, you can build a new recommendation model that incorporates hello additional usage data.</span></span> 

## <a name="prerequisites"></a><span data-ttu-id="1f966-139">Composants requis</span><span class="sxs-lookup"><span data-stu-id="1f966-139">Prerequisites</span></span>
* <span data-ttu-id="1f966-140">Visual Studio 2013 ou une version ultérieure</span><span class="sxs-lookup"><span data-stu-id="1f966-140">Visual Studio 2013 or later</span></span>
* <span data-ttu-id="1f966-141">Accès à Internet</span><span class="sxs-lookup"><span data-stu-id="1f966-141">Internet access</span></span> 
* <span data-ttu-id="1f966-142">Abonnement toohello recommandations API (https://datamarket.azure.com/dataset/amla/recommendations).</span><span class="sxs-lookup"><span data-stu-id="1f966-142">Subscription toohello Recommendations API (https://datamarket.azure.com/dataset/amla/recommendations).</span></span>

## <a name="azure-machine-learning-sample-app-solution"></a><span data-ttu-id="1f966-143">Solution de la version d’évaluation de l’application Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="1f966-143">Azure Machine Learning sample app solution</span></span>
<span data-ttu-id="1f966-144">Cette solution contient le code source de hello, exemple d’utilisation, fichier de catalogue et directives toodownload hello packages qui sont requises pour la compilation.</span><span class="sxs-lookup"><span data-stu-id="1f966-144">This solution contains hello source code, sample usage, catalog file, and directives toodownload hello packages that are required for compilation.</span></span>

## <a name="hello-apis-used"></a><span data-ttu-id="1f966-145">Hello API utilisés</span><span class="sxs-lookup"><span data-stu-id="1f966-145">hello APIs used</span></span>
<span data-ttu-id="1f966-146">application Hello utilise la fonctionnalité de recommandation d’apprentissage grâce à un sous-ensemble d’API disponibles.</span><span class="sxs-lookup"><span data-stu-id="1f966-146">hello application uses Machine Learning recommendation functionality via a subset of available APIs.</span></span> <span data-ttu-id="1f966-147">Hello Qu'api suivantes sont illustrées dans l’application hello :</span><span class="sxs-lookup"><span data-stu-id="1f966-147">hello following APIs are demonstrated in hello application:</span></span>

* <span data-ttu-id="1f966-148">Créer des modèles : créer un conteneur logique de toohold les modèles de données et des recommandations.</span><span class="sxs-lookup"><span data-stu-id="1f966-148">Create model: Create a logical container toohold data and recommendation models.</span></span> <span data-ttu-id="1f966-149">Un modèle est identifié par un nom, et vous ne peut pas créer plusieurs modèles avec hello même nom.</span><span class="sxs-lookup"><span data-stu-id="1f966-149">A model is identified by a name, and you  cannot create more than one model with hello same name.</span></span>
* <span data-ttu-id="1f966-150">Télécharger le fichier catalogue : utilisez les données du catalogue tooupload.</span><span class="sxs-lookup"><span data-stu-id="1f966-150">Upload catalog file: Use tooupload catalog data.</span></span>
* <span data-ttu-id="1f966-151">Télécharger le fichier d’utilisation : données tooupload sur l’utilisation.</span><span class="sxs-lookup"><span data-stu-id="1f966-151">Upload usage file: Use tooupload usage data.</span></span>
* <span data-ttu-id="1f966-152">Déclencher la build : utilisez toocreate un modèle de recommandation.</span><span class="sxs-lookup"><span data-stu-id="1f966-152">Trigger build: Use toocreate a recommendation model.</span></span>
* <span data-ttu-id="1f966-153">Surveiller l’exécution de la build : utilisation de l’état de hello toomonitor une recommandation de création du modèle.</span><span class="sxs-lookup"><span data-stu-id="1f966-153">Monitor build execution: Use toomonitor hello status of a recommendation model build.</span></span>
* <span data-ttu-id="1f966-154">Choisissez un modèle de génération de recommandation : utiliser tooindicate le toouse de modèle de recommandation par défaut pour un certain conteneur de modèle.</span><span class="sxs-lookup"><span data-stu-id="1f966-154">Choose a built model for recommendation: Use tooindicate which recommendation model toouse by default for a certain model container.</span></span> <span data-ttu-id="1f966-155">Cette étape est nécessaire uniquement si vous avez plusieurs modèles de recommandation et que vous souhaitez tooactivate non actif générer en tant que modèle de recommandation active hello.</span><span class="sxs-lookup"><span data-stu-id="1f966-155">This step is necessary only if you have more than one recommendation model and you want tooactivate a non-active build as hello active recommendation model.</span></span>
* <span data-ttu-id="1f966-156">Obtenir la recommandation : utiliser tooretrieve éléments selon tooa fonction élément unique ou un ensemble d’éléments recommandé.</span><span class="sxs-lookup"><span data-stu-id="1f966-156">Get recommendation: Use tooretrieve recommended items according tooa given single item or a set of items.</span></span> 

<span data-ttu-id="1f966-157">Pour obtenir une description complète de hello API, consultez la documentation de Microsoft Azure Marketplace hello.</span><span class="sxs-lookup"><span data-stu-id="1f966-157">For a complete description of hello APIs, please see hello Microsoft Azure Marketplace documentation.</span></span> 

<span data-ttu-id="1f966-158">**Remarque**: un modèle peut posséder plusieurs générations au fil du temps (pas simultanément).</span><span class="sxs-lookup"><span data-stu-id="1f966-158">**Note**: A model can have several builds over time (not simultaneously).</span></span> <span data-ttu-id="1f966-159">Chaque build est créée avec hello même ou à une mise à jour catalogue et les données d’utilisation supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="1f966-159">Each build is created with hello same or an updated catalog and additional usage data.</span></span>

## <a name="common-pitfalls"></a><span data-ttu-id="1f966-160">Pièges courants</span><span class="sxs-lookup"><span data-stu-id="1f966-160">Common pitfalls</span></span>
* <span data-ttu-id="1f966-161">Vous devez tooprovide votre nom d’utilisateur et votre application exemple hello de toorun clé de compte principal Microsoft Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="1f966-161">You need tooprovide your user name and your Microsoft Azure Marketplace primary account key toorun hello sample app.</span></span>
* <span data-ttu-id="1f966-162">Exemple hello en cours d’exécution d’application de manière consécutive échoue.</span><span class="sxs-lookup"><span data-stu-id="1f966-162">Running hello sample app consecutively will fail.</span></span> <span data-ttu-id="1f966-163">flux de l’application Hello inclut la création, de chargement, de création d’analyse de hello et de mise en route de recommandations à partir d’un modèle prédéfini ; Par conséquent, il échouera sur consécutives d’exécution si vous ne modifiez pas le nom du modèle hello entre les appels.</span><span class="sxs-lookup"><span data-stu-id="1f966-163">hello application flow includes creating, uploading, building hello monitor, and getting recommendations from a predefined model; therefore, it will fail on consecutive execution if you do not change hello model name between invocations.</span></span>
* <span data-ttu-id="1f966-164">Recommandation peut ne pas renvoyer de données.</span><span class="sxs-lookup"><span data-stu-id="1f966-164">Recommendations might return without data.</span></span> <span data-ttu-id="1f966-165">Hello, exemple d’application utilise un fichier de catalogue et d’utilisation très faible.</span><span class="sxs-lookup"><span data-stu-id="1f966-165">hello sample app uses a very small catalog and usage file.</span></span> <span data-ttu-id="1f966-166">Par conséquent, certains éléments du catalogue de hello n’aura aucune éléments recommandés.</span><span class="sxs-lookup"><span data-stu-id="1f966-166">Therefore, some items from hello catalog will have no recommended items.</span></span>

## <a name="disclaimer"></a><span data-ttu-id="1f966-167">Clause d'exclusion de responsabilité</span><span class="sxs-lookup"><span data-stu-id="1f966-167">Disclaimer</span></span>
<span data-ttu-id="1f966-168">exemple d’application Hello n’est pas prévue toobe s’exécutent dans un environnement de production.</span><span class="sxs-lookup"><span data-stu-id="1f966-168">hello sample app is not intended toobe run in a production environment.</span></span> <span data-ttu-id="1f966-169">données Hello fournies dans le catalogue de hello sont très faible, et elle ne fournit pas d’un modèle de recommandation explicite.</span><span class="sxs-lookup"><span data-stu-id="1f966-169">hello data provided in hello catalog is very small, and it will not provide a meaningful recommendation model.</span></span> <span data-ttu-id="1f966-170">les données de salutation sont fournies comme une démonstration.</span><span class="sxs-lookup"><span data-stu-id="1f966-170">hello data is provided as a demonstration.</span></span> 

