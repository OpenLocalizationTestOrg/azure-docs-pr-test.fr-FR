---
title: aaaUse un local SQL Server dans Azure Machine Learning | Documents Microsoft
description: "Utiliser des données à partir d’un analytique de tooperform avancé de base de données SQL Server local avec Azure Machine Learning."
services: machine-learning
documentationcenter: 
author: garyericson
manager: jhubbard
editor: cgronlun
ms.assetid: 08e4610d-02b6-4071-aad7-a2340ad8e2ea
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/13/2017
ms.author: garye;krishnan
ms.openlocfilehash: c0e9908e296b97b31611ef0192744a59073acd80
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="perform-advanced-analytics-with-azure-machine-learning-using-data-from-an-on-premises-sql-server-database"></a><span data-ttu-id="51447-103">Effectuer des analyses avancées avec Azure Machine Learning en utilisant les données d’une base de données SQL Server locale</span><span class="sxs-lookup"><span data-stu-id="51447-103">Perform advanced analytics with Azure Machine Learning using data from an on-premises SQL Server database</span></span>

[!INCLUDE [import-data-into-aml-studio-selector](../../includes/machine-learning-import-data-into-aml-studio.md)]

<span data-ttu-id="51447-104">Fréquence à laquelle les entreprises qui fonctionnent avec des données locales aimeriez parti tootake de montée en puissance hello et l’agilité de cloud hello pour leur charges de travail d’apprentissage.</span><span class="sxs-lookup"><span data-stu-id="51447-104">Often enterprises that work with on-premises data would like tootake advantage of hello scale and agility of hello cloud for their machine learning workloads.</span></span> <span data-ttu-id="51447-105">Mais ils ne souhaitent pas toodisrupt leurs processus d’entreprise en cours et le flux de travail en déplaçant leur cloud toohello de données local.</span><span class="sxs-lookup"><span data-stu-id="51447-105">But they don't want toodisrupt their current business processes and workflows by moving their on-premises data toohello cloud.</span></span> <span data-ttu-id="51447-106">Azure Machine Learning prend désormais en charge la lecture de vos données à partir d’une base de données SQL Server locale, puis l’apprentissage et l’évaluation d’un modèle avec ces données.</span><span class="sxs-lookup"><span data-stu-id="51447-106">Azure Machine Learning now supports reading your data from an on-premises SQL Server database and then training and scoring a model with this data.</span></span> <span data-ttu-id="51447-107">Vous n’avez plus toomanually copier et synchronisation hello des données entre le cloud de hello et de votre serveur local.</span><span class="sxs-lookup"><span data-stu-id="51447-107">You no longer have toomanually copy and sync hello data between hello cloud and your on-premises server.</span></span> <span data-ttu-id="51447-108">Au lieu de cela, hello **importer des données** module dans Azure Machine Learning Studio peut désormais lire directement à partir de votre base de données SQL Server locale pour votre apprentissage et le score des travaux.</span><span class="sxs-lookup"><span data-stu-id="51447-108">Instead, hello **Import Data** module in Azure Machine Learning Studio can now read directly from your on-premises SQL Server database for your training and scoring jobs.</span></span>

<span data-ttu-id="51447-109">Cet article fournit une vue d’ensemble du mode tooingress local de données SQL server dans Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="51447-109">This article provides an overview of how tooingress on-premises SQL server data into Azure Machine Learning.</span></span> <span data-ttu-id="51447-110">Il part du principe que vous êtes familiarisé avec les concepts d’Azure Machine Learning, comme les espaces de travail, les modules, les jeux de données, les expériences, *etc*.</span><span class="sxs-lookup"><span data-stu-id="51447-110">It assumes that you're familiar with Azure Machine Learning concepts like workspaces, modules, datasets, experiments, *etc.*.</span></span>

> [!NOTE]
> <span data-ttu-id="51447-111">Cette fonctionnalité n’est pas disponible pour les espaces de travail gratuits.</span><span class="sxs-lookup"><span data-stu-id="51447-111">This feature is not available for free workspaces.</span></span> <span data-ttu-id="51447-112">Pour plus d’informations sur la tarification et les niveaux de Machine Learning, consultez la [Tarification d’Azure Machine Learning](https://azure.microsoft.com/pricing/details/machine-learning/).</span><span class="sxs-lookup"><span data-stu-id="51447-112">For more information about Machine Learning pricing and tiers, see [Azure Machine Learning Pricing](https://azure.microsoft.com/pricing/details/machine-learning/).</span></span>
>
>

<!-- -->

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="install-hello-microsoft-data-management-gateway"></a><span data-ttu-id="51447-113">Installer hello passerelle de gestion des données Microsoft</span><span class="sxs-lookup"><span data-stu-id="51447-113">Install hello Microsoft Data Management Gateway</span></span>
<span data-ttu-id="51447-114">tooaccess une base de données SQL Server locale dans Azure Machine Learning, vous devez toodownload et installation hello passerelle de gestion des données de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="51447-114">tooaccess an on-premises SQL Server database in Azure Machine Learning, you need toodownload and install hello Microsoft Data Management Gateway.</span></span> <span data-ttu-id="51447-115">Lorsque vous configurez la connexion à la passerelle hello dans Machine Learning Studio, vous avez opportunité hello pour télécharger et installer la passerelle hello à l’aide de hello **téléchargement et la passerelle de données de Registre** boîte de dialogue décrite ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="51447-115">When you configure hello gateway connection in Machine Learning Studio, you have hello opportunity to download and install hello gateway using hello **Download and register data gateway** dialog described below.</span></span>

<span data-ttu-id="51447-116">Vous pouvez également installer hello passerelle de gestion des données avance en téléchargeant et en exécutant le package d’installation MSI hello de hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=39717).</span><span class="sxs-lookup"><span data-stu-id="51447-116">You also can install hello Data Management Gateway ahead of time by downloading and running hello MSI setup package from hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=39717).</span></span>
<span data-ttu-id="51447-117">Choisissez la version la plus récente hello, en sélectionnant 32 bits ou 64 bits en fonction de votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="51447-117">Choose hello latest version, selecting either 32-bit or 64-bit as appropriate for your computer.</span></span> <span data-ttu-id="51447-118">Hello MSI peut également être utilisé tooupgrade une passerelle de gestion des données toohello dernière version existante, avec tous les paramètres sont conservés.</span><span class="sxs-lookup"><span data-stu-id="51447-118">hello MSI can also be used tooupgrade an existing Data Management Gateway toohello latest version, with all settings preserved.</span></span>

<span data-ttu-id="51447-119">passerelle de Hello a hello suivant des conditions préalables :</span><span class="sxs-lookup"><span data-stu-id="51447-119">hello gateway has hello following prerequisites:</span></span>

* <span data-ttu-id="51447-120">versions de système d’exploitation Windows Hello pris en charge sont Windows 7, Windows 8/8.1, Windows 10, Windows Server 2008 R2, Windows Server 2012 et Windows Server 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="51447-120">hello supported Windows operating system versions are Windows 7, Windows 8/8.1, Windows 10, Windows Server 2008 R2, Windows Server 2012, and Windows Server 2012 R2.</span></span>
* <span data-ttu-id="51447-121">Hello recommandé de configuration pour l’ordinateur de passerelle hello est au moins 2 GHz, 4 cœurs, 8 Go de RAM et disque de 80 Go.</span><span class="sxs-lookup"><span data-stu-id="51447-121">hello recommended configuration for hello gateway machine is at least 2 GHz, 4 cores, 8GB RAM, and 80GB disk.</span></span>
* <span data-ttu-id="51447-122">Si l’ordinateur hôte de hello en veille prolongée, passerelle de hello ne répondra toodata demandes.</span><span class="sxs-lookup"><span data-stu-id="51447-122">If hello host machine hibernates, hello gateway won’t respond toodata requests.</span></span> <span data-ttu-id="51447-123">Par conséquent, configurez un plan d’alimentation sur l’ordinateur de hello avant d’installer la passerelle de hello.</span><span class="sxs-lookup"><span data-stu-id="51447-123">Therefore, configure an appropriate power plan on hello computer before installing hello gateway.</span></span> <span data-ttu-id="51447-124">Si la machine de hello est toohibernate configuré, installation de la passerelle hello affiche un message.</span><span class="sxs-lookup"><span data-stu-id="51447-124">If hello machine is configured toohibernate, hello gateway installation displays a message.</span></span>
* <span data-ttu-id="51447-125">Étant donné que l’activité de copie se produit à une fréquence spécifique, hello l’utilisation des ressources (processeur, mémoire) sur l’ordinateur de hello suit également hello même modèle avec des heures de pointe et les temps d’inactivité.</span><span class="sxs-lookup"><span data-stu-id="51447-125">Because copy activity occurs at a specific frequency, hello resource usage (CPU, memory) on hello machine also follows hello same pattern with peak and idle times.</span></span> <span data-ttu-id="51447-126">L’utilisation des ressources également dépend fortement hello quantité de données en cours de déplacement.</span><span class="sxs-lookup"><span data-stu-id="51447-126">Resource utilization also depends heavily on hello amount of data being moved.</span></span> <span data-ttu-id="51447-127">Quand plusieurs travaux de copie sont en cours, vous constaterez une augmentation des ressources utilisées pendant les heures de pointe.</span><span class="sxs-lookup"><span data-stu-id="51447-127">When multiple copy jobs are in progress, you'll observe resource usage go up during peak times.</span></span> <span data-ttu-id="51447-128">Alors que la configuration minimale hello répertoriée ci-dessus est techniquement suffisante, vous souhaiterez toohave une configuration avec plus de ressources que la configuration minimale hello en fonction de votre charge spécifique pour le déplacement des données.</span><span class="sxs-lookup"><span data-stu-id="51447-128">While hello minimum configuration listed above is technically sufficient, you may want toohave a configuration with more resources than hello minimum configuration depending on your specific load for data movement.</span></span>

<span data-ttu-id="51447-129">Considérez les éléments hello lors de la configuration et l’utilisation d’une passerelle de gestion des données suivants :</span><span class="sxs-lookup"><span data-stu-id="51447-129">Consider hello following when setting up and using a Data Management Gateway:</span></span>

* <span data-ttu-id="51447-130">Vous ne pouvez installer qu’une seule instance de la passerelle de gestion des données sur un même ordinateur.</span><span class="sxs-lookup"><span data-stu-id="51447-130">You can install only one instance of Data Management Gateway on a single computer.</span></span>
* <span data-ttu-id="51447-131">Vous pouvez utiliser une seule passerelle pour plusieurs sources de données locales.</span><span class="sxs-lookup"><span data-stu-id="51447-131">You can use a single gateway for multiple on-premises data sources.</span></span>
* <span data-ttu-id="51447-132">Vous pouvez vous connecter à plusieurs passerelles sur différents ordinateurs toohello même source de données locale.</span><span class="sxs-lookup"><span data-stu-id="51447-132">You can connect multiple gateways on different computers toohello same on-premises data source.</span></span>
* <span data-ttu-id="51447-133">Vous ne configurez une passerelle que pour un seul espace de travail à la fois.</span><span class="sxs-lookup"><span data-stu-id="51447-133">You configure a gateway for only one workspace at a time.</span></span> <span data-ttu-id="51447-134">Pour le moment, les passerelles ne peuvent pas être partagées entre plusieurs espaces de travail.</span><span class="sxs-lookup"><span data-stu-id="51447-134">Currently, gateways can’t be shared across workspaces.</span></span>
* <span data-ttu-id="51447-135">Vous pouvez configurer plusieurs passerelles pour un espace de travail unique.</span><span class="sxs-lookup"><span data-stu-id="51447-135">You can configure multiple gateways for a single workspace.</span></span> <span data-ttu-id="51447-136">Par exemple, vous voudrez toouse une passerelle est connectée tooyour des sources de données de test pendant le développement et une passerelle de production quand vous êtes prêt toooperationalize.</span><span class="sxs-lookup"><span data-stu-id="51447-136">For example, you may want toouse a gateway that's connected tooyour test data sources during development and a production gateway when you're ready toooperationalize.</span></span>
* <span data-ttu-id="51447-137">passerelle de Hello n’a pas besoin toobe sur hello même ordinateur en tant que source de données hello.</span><span class="sxs-lookup"><span data-stu-id="51447-137">hello gateway does not need toobe on hello same machine as hello data source.</span></span> <span data-ttu-id="51447-138">Mais rester proche toohello source de données réduit le temps de hello pour la source de données hello passerelle tooconnect toohello.</span><span class="sxs-lookup"><span data-stu-id="51447-138">But staying closer toohello data source reduces hello time for hello gateway tooconnect toohello data source.</span></span> <span data-ttu-id="51447-139">Nous vous recommandons d’installer la passerelle de hello sur un ordinateur qui est différent de hello une source de données hôtes hello local afin que hello passerelle et source de données ne sont en concurrence pour les ressources.</span><span class="sxs-lookup"><span data-stu-id="51447-139">We recommend that you install hello gateway on a machine that's different from hello one that hosts hello on-premises data source so that hello gateway and data source don't compete for resources.</span></span>
* <span data-ttu-id="51447-140">Si une passerelle est déjà installée sur votre ordinateur desservant des scénarios Power BI ou Azure Data Factory, installez une passerelle distincte pour Azure Machine Learning sur un autre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="51447-140">If you already have a gateway installed on your computer serving Power BI or Azure Data Factory scenarios, install a separate gateway for Azure Machine Learning on another computer.</span></span>

  > [!NOTE]
  > <span data-ttu-id="51447-141">Vous ne pouvez pas exécuter passerelle de gestion des données et Power BI Gateway sur hello même ordinateur.</span><span class="sxs-lookup"><span data-stu-id="51447-141">You can't run Data Management Gateway and Power BI Gateway on hello same computer.</span></span>
  >
  >
* <span data-ttu-id="51447-142">Vous devez toouse hello passerelle de gestion des données pour Azure Machine Learning, même si vous utilisez Azure ExpressRoute pour d’autres données.</span><span class="sxs-lookup"><span data-stu-id="51447-142">You need toouse hello Data Management Gateway for Azure Machine Learning even if you are using Azure ExpressRoute for other data.</span></span> <span data-ttu-id="51447-143">Traitez votre source de données comme une source de données locale (derrière un pare-feu), même quand vous utilisez ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="51447-143">You should treat your data source as an on-premises data source (that's behind a firewall) even when you use ExpressRoute.</span></span> <span data-ttu-id="51447-144">Utiliser une connexion de tooestablish hello passerelle de gestion des données entre l’apprentissage et de la source de données hello.</span><span class="sxs-lookup"><span data-stu-id="51447-144">Use hello Data Management Gateway tooestablish connectivity between Machine Learning and hello data source.</span></span>

<span data-ttu-id="51447-145">Vous trouverez des informations détaillées sur les conditions préalables d’installation, des étapes d’installation et des conseils de dépannage dans l’article de hello [passerelle de gestion des données](../data-factory/data-factory-data-management-gateway.md).</span><span class="sxs-lookup"><span data-stu-id="51447-145">You can find detailed information on installation prerequisites, installation steps, and troubleshooting tips in hello article [Data Management Gateway](../data-factory/data-factory-data-management-gateway.md).</span></span>

## <a name="span-idusing-the-data-gateway-step-by-step-walk-classanchorspan-idtoc450838866-classanchorspanspaningress-data-from-your-on-premises-sql-server-database-into-azure-machine-learning"></a><span data-ttu-id="51447-146"><span id="using-the-data-gateway-step-by-step-walk" class="anchor"><span id="_Toc450838866" class="anchor"></span></span>Intégrer des données de votre base de données SQL Server locale dans Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="51447-146"><span id="using-the-data-gateway-step-by-step-walk" class="anchor"><span id="_Toc450838866" class="anchor"></span></span>Ingress data from your on-premises SQL Server database into Azure Machine Learning</span></span>
<span data-ttu-id="51447-147">Dans cette procédure pas à pas, vous allez configurer une passerelle de gestion des données dans un espace de travail Azure Machine Learning, la configurer, puis lire les données à partir d’une base de données SQL Server locale.</span><span class="sxs-lookup"><span data-stu-id="51447-147">In this walkthrough, you will set up a Data Management Gateway in an Azure Machine Learning workspace, configure it, and then read data from an on-premises SQL Server database.</span></span>

> [!TIP]
> <span data-ttu-id="51447-148">Avant de commencer, désactivez le bloqueur de fenêtres publicitaires de votre navigateur pour `studio.azureml.net`.</span><span class="sxs-lookup"><span data-stu-id="51447-148">Before you start, disable your browser’s pop-up blocker for `studio.azureml.net`.</span></span> <span data-ttu-id="51447-149">Si vous utilisez hello navigateur Google Chrome, télécharger et installer l’une de hello plusieurs plug-ins disponibles à Google Chrome WebStore [Extension d’application une fois cliquez sur](https://chrome.google.com/webstore/search/clickonce?_category=extensions).</span><span class="sxs-lookup"><span data-stu-id="51447-149">If you're using hello Google Chrome browser, download and install one of hello several plug-ins available at Google Chrome WebStore [Click Once App Extension](https://chrome.google.com/webstore/search/clickonce?_category=extensions).</span></span>
>
>

### <a name="step-1-create-a-gateway"></a><span data-ttu-id="51447-150">Étape 1 : Créer une passerelle</span><span class="sxs-lookup"><span data-stu-id="51447-150">Step 1: Create a gateway</span></span>
<span data-ttu-id="51447-151">première étape de Hello est toocreate et configurez hello passerelle tooaccess de votre base de données SQL locale.</span><span class="sxs-lookup"><span data-stu-id="51447-151">hello first step is toocreate and set up hello gateway tooaccess your on-premises SQL database.</span></span>

1. <span data-ttu-id="51447-152">Connectez-vous trop[Azure Machine Learning Studio](https://studio.azureml.net/Home/) et sélectionnez hello espace de travail toowork dans.</span><span class="sxs-lookup"><span data-stu-id="51447-152">Log in too[Azure Machine Learning  Studio](https://studio.azureml.net/Home/) and select hello workspace  that you want toowork in.</span></span>
2. <span data-ttu-id="51447-153">Cliquez sur hello **paramètres** panneau sur hello gauche, puis cliquez sur hello **passerelles de données** onglet en haut de hello.</span><span class="sxs-lookup"><span data-stu-id="51447-153">Click hello **SETTINGS** blade on hello left, and then click hello **DATA  GATEWAYS** tab at hello top.</span></span>
3. <span data-ttu-id="51447-154">Cliquez sur **nouvelle passerelle de données** bas hello écran hello.</span><span class="sxs-lookup"><span data-stu-id="51447-154">Click **NEW DATA GATEWAY** at hello bottom of hello screen.</span></span>

    ![Nouvelle passerelle de données](media/machine-learning-use-data-from-an-on-premises-sql-server/new-data-gateway-button.png)
4. <span data-ttu-id="51447-156">Bonjour **nouvelle passerelle de données** boîte de dialogue, entrez hello **nom de la passerelle** et ajoutez éventuellement un **Description**.</span><span class="sxs-lookup"><span data-stu-id="51447-156">In hello **New data gateway** dialog, enter hello **Gateway Name** and optionally add a **Description**.</span></span> <span data-ttu-id="51447-157">Cliquez sur flèche hello sur hello en bas à droite toogo toohello étape suivante de la configuration de hello.</span><span class="sxs-lookup"><span data-stu-id="51447-157">Click hello arrow on hello bottom right-hand corner toogo toohello next step of hello configuration.</span></span>

    ![Entrez la description et le nom de la passerelle](media/machine-learning-use-data-from-an-on-premises-sql-server/new-data-gateway-dialog-enter-name.png)
5. <span data-ttu-id="51447-159">Bonjour, télécharger et enregistrer la boîte de dialogue de la passerelle de données, copier le Presse-papiers toohello clé d’inscription de passerelle hello.</span><span class="sxs-lookup"><span data-stu-id="51447-159">In hello Download and register data gateway dialog, copy hello GATEWAY  REGISTRATION KEY toohello clipboard.</span></span>

    ![Téléchargez et enregistrez la passerelle de données](media/machine-learning-use-data-from-an-on-premises-sql-server/download-and-register-data-gateway.png)
6. <span data-ttu-id="51447-161"><span id="note-1" class="anchor"></span>Si vous n’avez pas encore téléchargé et installé hello passerelle de gestion des données de Microsoft, puis cliquez sur **passerelle de gestion des données téléchargement**.</span><span class="sxs-lookup"><span data-stu-id="51447-161"><span id="note-1" class="anchor"></span>If you have not yet downloaded and installed hello Microsoft Data Management Gateway, then click **Download data management gateway**.</span></span> <span data-ttu-id="51447-162">Cette prend toothe Microsoft Download Center où vous pouvez sélectionner la version de la passerelle hello vous avez besoin, téléchargez-le et installez-le.</span><span class="sxs-lookup"><span data-stu-id="51447-162">This takes you toothe Microsoft Download Center where you can select hello gateway version you need, download it, and install it.</span></span> <span data-ttu-id="51447-163">Vous trouverez des informations détaillées sur les conditions préalables d’installation, des étapes d’installation et des conseils de dépannage dans hello premières sections de l’article de hello [déplacement des données entre des sources locales et cloud avec la passerelle de gestion des données](../data-factory/data-factory-move-data-between-onprem-and-cloud.md).</span><span class="sxs-lookup"><span data-stu-id="51447-163">You can find detailed information on installation prerequisites, installation steps, and troubleshooting tips in hello beginning sections of hello article [Move data between on-premises sources and cloud with Data Management Gateway](../data-factory/data-factory-move-data-between-onprem-and-cloud.md).</span></span>
7. <span data-ttu-id="51447-164">Après l’installation de la passerelle de hello, hello Gestionnaire de Configuration de passerelle de gestion de données s’ouvre et hello **Registre passerelle** boîte de dialogue s’affiche.</span><span class="sxs-lookup"><span data-stu-id="51447-164">After hello gateway is installed, hello Data Management Gateway Configuration Manager will open and hello **Register gateway** dialog is displayed.</span></span> <span data-ttu-id="51447-165">Hello de coller **clé d’inscription de passerelle** que vous avez copié toohello Presse-papiers, puis cliquez sur **inscrire**.</span><span class="sxs-lookup"><span data-stu-id="51447-165">Paste hello **Gateway Registration Key** that you copied toohello clipboard and click **Register**.</span></span>
8. <span data-ttu-id="51447-166">Si vous disposez déjà d’une passerelle installée, exécutez hello Gestionnaire de Configuration de passerelle de gestion de données.</span><span class="sxs-lookup"><span data-stu-id="51447-166">If you already have a gateway installed, run hello Data Management Gateway Configuration Manager.</span></span> <span data-ttu-id="51447-167">Cliquez sur **modifier la clé**, collez la **clé d’inscription de passerelle** que vous avez copié toohello Presse-papiers dans l’étape précédente de hello, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="51447-167">Click **Change key**, paste the **Gateway Registration Key** that you copied toohello clipboard in hello previous step, and click **OK**.</span></span>
9. <span data-ttu-id="51447-168">Lors de l’installation de hello est terminée, hello **Registre passerelle** boîte de dialogue pour le Gestionnaire de Configuration de passerelle Microsoft Data Management s’affiche.</span><span class="sxs-lookup"><span data-stu-id="51447-168">When hello installation is complete, hello **Register gateway** dialog for Microsoft Data Management Gateway Configuration Manager is displayed.</span></span> <span data-ttu-id="51447-169">Collez hello clé d’inscription de passerelle que vous avez copié dans le Presse-papiers hello à l’étape précédente, puis cliquez sur **inscrire**.</span><span class="sxs-lookup"><span data-stu-id="51447-169">Paste hello GATEWAY REGISTRATION KEY that you copied to hello clipboard in a previous step and click **Register**.</span></span>

    ![Inscrivez la passerelle](media/machine-learning-use-data-from-an-on-premises-sql-server/data-gateway-configuration-manager-register-gateway.png)
10. <span data-ttu-id="51447-171">Hello configuration de la passerelle est terminée lorsque hello valeurs suivantes est définie sur hello **accueil** onglet dans le Gestionnaire de Configuration de passerelle Microsoft Data Management :</span><span class="sxs-lookup"><span data-stu-id="51447-171">hello gateway configuration is complete when hello following values are set on hello **Home** tab in Microsoft Data Management Gateway Configuration Manager:</span></span>

    * <span data-ttu-id="51447-172">**Nom de la passerelle** et **nom de l’Instance** sont définies nom toohello de passerelle de hello.</span><span class="sxs-lookup"><span data-stu-id="51447-172">**Gateway name** and **Instance name** are set toohello name of   hello gateway.</span></span>
    * <span data-ttu-id="51447-173">**L’enregistrement** est défini trop**inscrit**.</span><span class="sxs-lookup"><span data-stu-id="51447-173">**Registration** is set too**Registered**.</span></span>
    * <span data-ttu-id="51447-174">**État** est défini trop**démarré**.</span><span class="sxs-lookup"><span data-stu-id="51447-174">**Status** is set too**Started**.</span></span>
    * <span data-ttu-id="51447-175">barre d’état de Hello en hello bas affiche **connecté tooData Service de Cloud de passerelle de gestion** avec une coche verte.</span><span class="sxs-lookup"><span data-stu-id="51447-175">hello status bar at hello bottom displays **Connected tooData   Management Gateway Cloud Service** along with a green   check mark.</span></span>

      ![Gestionnaire de passerelle de gestion de données](media/machine-learning-use-data-from-an-on-premises-sql-server/data-gateway-configuration-manager-registered.png)

      <span data-ttu-id="51447-177">Azure Machine Learning Studio est actualisée lors de l’inscription de hello a réussi.</span><span class="sxs-lookup"><span data-stu-id="51447-177">Azure Machine Learning Studio also gets updated when hello registration is successful.</span></span>

    ![Inscription de la passerelle réussie](media/machine-learning-use-data-from-an-on-premises-sql-server/gateway-registered.png)
11. <span data-ttu-id="51447-179">Bonjour **télécharger et inscrire la passerelle de données** boîte de dialogue, cliquez sur le programme d’installation de case à cocher toocomplete hello.</span><span class="sxs-lookup"><span data-stu-id="51447-179">In hello **Download and register data gateway** dialog, click the check mark toocomplete hello setup.</span></span> <span data-ttu-id="51447-180">Hello **paramètres** page affiche l’état de la passerelle comme étant « En ligne ».</span><span class="sxs-lookup"><span data-stu-id="51447-180">hello **Settings** page displays the gateway status as "Online".</span></span> <span data-ttu-id="51447-181">Vous trouverez dans le volet de droite hello, état et autres informations utiles.</span><span class="sxs-lookup"><span data-stu-id="51447-181">In hello right-hand pane, you'll find status and other useful information.</span></span>

    ![Paramètres de la passerelle](media/machine-learning-use-data-from-an-on-premises-sql-server/gateway-status.png)
12. <span data-ttu-id="51447-183">Dans le Gestionnaire de Configuration de passerelle de gestion de données de Microsoft de hello basculer toohello **certificat** certificat de hello onglet spécifiée sous cet onglet est utilisé tooencrypt/déchiffrer les informations d’identification pour la banque de données locale hello que vous spécifiez dans le portail de hello.</span><span class="sxs-lookup"><span data-stu-id="51447-183">In hello Microsoft Data Management Gateway Configuration Manager switch toohello **Certificate** tab. hello certificate specified on this tab is used tooencrypt/decrypt credentials for hello on-premises data store that you specify in hello portal.</span></span> <span data-ttu-id="51447-184">Ce certificat est un certificat par défaut de hello.</span><span class="sxs-lookup"><span data-stu-id="51447-184">This certificate is hello default certificate.</span></span> <span data-ttu-id="51447-185">Microsoft vous recommande de modification de ce certificat propre tooyour que vous sauvegardez dans votre système de gestion de certificat.</span><span class="sxs-lookup"><span data-stu-id="51447-185">Microsoft recommends changing this tooyour own certificate that you back up in your certificate management system.</span></span> <span data-ttu-id="51447-186">Cliquez sur **modification** toouse votre propre certificat à la place.</span><span class="sxs-lookup"><span data-stu-id="51447-186">Click **Change** toouse your own certificate instead.</span></span>

    ![Changez le certificat de la passerelle](media/machine-learning-use-data-from-an-on-premises-sql-server/data-gateway-configuration-manager-certificate.png)
13. <span data-ttu-id="51447-188">(facultatif) Si vous souhaitez que la journalisation documentée de tooenable afin de résoudre les problèmes avec la passerelle de hello, dans le Gestionnaire de Configuration de passerelle de gestion de données de Microsoft de hello basculer toothe **Diagnostics** et vérifiez hello **activer la journalisation à des fins de dépannage détaillée** option.</span><span class="sxs-lookup"><span data-stu-id="51447-188">(optional) If you want tooenable verbose logging in order to troubleshoot issues with hello gateway, in hello Microsoft Data Management Gateway Configuration Manager switch toothe **Diagnostics** tab and check hello **Enable verbose logging for troubleshooting purposes** option.</span></span> <span data-ttu-id="51447-189">Hello des informations de journalisation sont accessibles dans hello Observateur d’événements Windows sous hello **journaux des Applications et Services**  - &gt; **passerelle de gestion des données** nœud.</span><span class="sxs-lookup"><span data-stu-id="51447-189">hello logging information can be found in hello Windows Event Viewer under hello **Applications and Services Logs** -&gt; **Data Management Gateway** node.</span></span> <span data-ttu-id="51447-190">Vous pouvez également utiliser hello **Diagnostics** onglet tootest hello connexion tooan local source de données à l’aide de la passerelle de hello.</span><span class="sxs-lookup"><span data-stu-id="51447-190">You can also use hello **Diagnostics** tab tootest hello connection tooan on-premises data source using hello gateway.</span></span>

    ![Activez la journalisation commentée](media/machine-learning-use-data-from-an-on-premises-sql-server/data-gateway-configuration-manager-verbose-logging.png)

<span data-ttu-id="51447-192">Cette étape termine le processus de configuration de passerelle hello dans Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="51447-192">This completes hello gateway setup process in Azure Machine Learning.</span></span>
<span data-ttu-id="51447-193">Vous êtes maintenant prêt toouse vos données locales.</span><span class="sxs-lookup"><span data-stu-id="51447-193">You're now ready toouse your on-premises data.</span></span>

<span data-ttu-id="51447-194">Vous pouvez créer et configurer plusieurs passerelles dans Studio pour chaque espace de travail.</span><span class="sxs-lookup"><span data-stu-id="51447-194">You can create and set up multiple gateways in Studio for each workspace.</span></span> <span data-ttu-id="51447-195">Par exemple, peut avoir une passerelle que vous souhaitez les sources de données de test tooconnect tooyour pendant le développement et une autre passerelle pour vos sources de données de production.</span><span class="sxs-lookup"><span data-stu-id="51447-195">For example, you may have a gateway that you want tooconnect tooyour test data sources during development, and a different gateway for your production data sources.</span></span> <span data-ttu-id="51447-196">Azure Machine Learning vous donne la souplesse tooset des passerelles multiples en fonction de votre environnement d’entreprise.</span><span class="sxs-lookup"><span data-stu-id="51447-196">Azure Machine Learning gives you the flexibility tooset up multiple gateways depending upon your corporate environment.</span></span> <span data-ttu-id="51447-197">Actuellement, vous ne pouvez pas partager une passerelle entre différents espaces de travail et une seule passerelle peut être installée sur un même ordinateur.</span><span class="sxs-lookup"><span data-stu-id="51447-197">Currently you can’t share a gateway between workspaces and only one gateway can be installed on a single computer.</span></span> <span data-ttu-id="51447-198">Pour plus d’informations, consultez [Déplacement de données entre des sources locales et le cloud à l’aide de la passerelle de gestion des données](../data-factory/data-factory-move-data-between-onprem-and-cloud.md).</span><span class="sxs-lookup"><span data-stu-id="51447-198">For more information, see [Move data between on-premises sources and cloud with Data Management Gateway](../data-factory/data-factory-move-data-between-onprem-and-cloud.md).</span></span>

### <a name="step-2-use-hello-gateway-tooread-data-from-an-on-premises-data-source"></a><span data-ttu-id="51447-199">Étape 2 : Utiliser hello passerelle tooread les données à partir d’une source de données locale</span><span class="sxs-lookup"><span data-stu-id="51447-199">Step 2: Use hello gateway tooread data from an on-premises data source</span></span>
<span data-ttu-id="51447-200">Après avoir configuré la passerelle de hello, vous pouvez ajouter un **importer des données** module pour une expérience qui entre des données hello à partir de la base de données SQL Server de hello locale.</span><span class="sxs-lookup"><span data-stu-id="51447-200">After you set up hello gateway, you can add an **Import Data** module to an experiment that inputs hello data from hello on-premises SQL Server database.</span></span>

1. <span data-ttu-id="51447-201">Dans la Machine Learning Studio, sélectionnez hello **expériences** , cliquez sur **+ nouveau** dans hello coin inférieur gauche, puis sélectionnez **expérience vide** (ou sélectionnez un des exemples de plusieurs expériences disponibles).</span><span class="sxs-lookup"><span data-stu-id="51447-201">In Machine Learning Studio, select hello **EXPERIMENTS** tab, click **+NEW** in hello lower-left corner, and select **Blank Experiment** (or select one of several sample experiments available).</span></span>
2. <span data-ttu-id="51447-202">Rechercher et faites glisser hello **importer des données** module toohello expérimenter la zone de dessin.</span><span class="sxs-lookup"><span data-stu-id="51447-202">Find and drag hello **Import Data** module toohello experiment canvas.</span></span>
3. <span data-ttu-id="51447-203">Cliquez sur **enregistrer en tant que** sous la zone de dessin hello.</span><span class="sxs-lookup"><span data-stu-id="51447-203">Click **Save as** below hello canvas.</span></span> <span data-ttu-id="51447-204">Entrez « Azure Machine Learning local SQL Server didacticiel » pour le nom d’expérience hello, sélectionnez l’espace de travail, cliquez sur hello **OK** case à cocher.</span><span class="sxs-lookup"><span data-stu-id="51447-204">Enter "Azure Machine Learning On-Premises SQL Server Tutorial" for hello experiment name, select the workspace, and click hello **OK** check mark.</span></span>

   ![Enregistrez l’expérience sous un nouveau nom](media/machine-learning-use-data-from-an-on-premises-sql-server/experiment-save-as.png)
4. <span data-ttu-id="51447-206">Cliquez sur hello **importer des données** tooselect de module, puis dans le **propriétés** toohello volet à droite de la zone de dessin hello, sélectionnez « Base de données locale SQL » Bonjour **source de données** liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="51447-206">Click hello **Import Data** module tooselect it, then in the **Properties** pane toohello right of hello canvas, select "On-Premises SQL Database" in hello **Data source** dropdown list.</span></span>
5. <span data-ttu-id="51447-207">Sélectionnez hello **passerelle de données** vous avez installé et enregistré.</span><span class="sxs-lookup"><span data-stu-id="51447-207">Select hello **Data gateway** you installed and registered.</span></span> <span data-ttu-id="51447-208">Vous pouvez configurer une autre passerelle en sélectionnant « (ajouter une nouvelle passerelle de données...) ».</span><span class="sxs-lookup"><span data-stu-id="51447-208">You can set up another gateway by selecting "(add new Data Gateway…)".</span></span>

   ![Sélectionnez une passerelle de données pour le module d’importation de données](media/machine-learning-use-data-from-an-on-premises-sql-server/import-data-select-on-premises-data-source.png)
6. <span data-ttu-id="51447-210">Entrez hello SQL **nom du serveur de base de données** et **nom de la base de données**, ainsi que de hello SQL **requête de base de données** vous souhaitez tooexecute.</span><span class="sxs-lookup"><span data-stu-id="51447-210">Enter hello SQL **Database server name** and **Database name**, along with hello SQL **Database query** you want tooexecute.</span></span>
7. <span data-ttu-id="51447-211">Cliquez sur **Entrer des valeurs** sous **Nom d’utilisateur et mot de passe** et entrez vos informations d’identification de base de données.</span><span class="sxs-lookup"><span data-stu-id="51447-211">Click **Enter values** under **User name and password** and enter your database credentials.</span></span> <span data-ttu-id="51447-212">Vous pouvez utiliser l’authentification intégrée Windows ou l’authentification SQL Server en fonction de la configuration de votre serveur local SQL Server.</span><span class="sxs-lookup"><span data-stu-id="51447-212">You can use Windows Integrated Authentication or SQL Server Authentication depending upon how your on-premises SQL Server is configured.</span></span>

   ![Entrez les informations d’identification de la base de données](media/machine-learning-use-data-from-an-on-premises-sql-server/database-credentials.png)

   <span data-ttu-id="51447-214">message de type Hello les modifications « valeurs requises » trop « valeur » avec une coche verte.</span><span class="sxs-lookup"><span data-stu-id="51447-214">hello message "values required" changes too"values set" with a green check mark.</span></span> <span data-ttu-id="51447-215">Il vous suffit d’informations d’identification de tooenter hello qu’une seule fois, sauf si les informations de base de données hello ou le mot de passe change.</span><span class="sxs-lookup"><span data-stu-id="51447-215">You only need tooenter hello credentials once unless hello database information or password changes.</span></span> <span data-ttu-id="51447-216">Azure Machine Learning utilise un certificat hello que vous avez fourni lorsque vous avez installé des informations d’identification de hello passerelle tooencrypt hello dans le cloud de hello.</span><span class="sxs-lookup"><span data-stu-id="51447-216">Azure Machine Learning uses hello certificate you provided when you installed hello gateway tooencrypt hello credentials in hello cloud.</span></span> <span data-ttu-id="51447-217">Azure ne stocke jamais d’informations d’identification locales sans chiffrement.</span><span class="sxs-lookup"><span data-stu-id="51447-217">Azure never stores on-premises credentials without encryption.</span></span>

   ![Importez les propriétés du module de données](media/machine-learning-use-data-from-an-on-premises-sql-server/import-data-properties-entered.png)
8. <span data-ttu-id="51447-219">Cliquez sur **exécuter** expérience de hello toorun.</span><span class="sxs-lookup"><span data-stu-id="51447-219">Click **RUN** toorun hello experiment.</span></span>

<span data-ttu-id="51447-220">Une fois que l’expérience de hello a terminé son exécution, vous pouvez visualiser les données de hello vous avez importé à partir de la base de données hello en cliquant sur le port de sortie hello Hello **importer des données** module et en sélectionnant **visualiser**.</span><span class="sxs-lookup"><span data-stu-id="51447-220">Once hello experiment finishes running, you can visualize hello data you imported from hello database by clicking hello output port of hello **Import Data** module and selecting **Visualize**.</span></span>

<span data-ttu-id="51447-221">Une fois que vous avez terminé le développement de votre expérience, vous pouvez déployer et opérationnaliser votre modèle.</span><span class="sxs-lookup"><span data-stu-id="51447-221">Once you finish developing your experiment, you can deploy and operationalize your model.</span></span> <span data-ttu-id="51447-222">À l’aide de hello Batch Execution Service, les données de base de SQL Server locale hello configuré Bonjour **importer des données** module est lus et utilisé pour calculer les scores.</span><span class="sxs-lookup"><span data-stu-id="51447-222">Using hello Batch Execution Service, data from hello on-premises SQL Server database configured in hello **Import Data** module will be read and used for scoring.</span></span> <span data-ttu-id="51447-223">Vous pouvez utiliser hello demander un Service de réponse pour calculer les scores des données localement, Microsoft recommande d’utiliser le [complément Excel](machine-learning-excel-add-in-for-web-services.md) à la place.</span><span class="sxs-lookup"><span data-stu-id="51447-223">While you can use hello Request Response Service for scoring on-premises data, Microsoft recommends using the [Excel Add-in](machine-learning-excel-add-in-for-web-services.md) instead.</span></span> <span data-ttu-id="51447-224">Actuellement, l’écriture tooan local de la base de données SQL Server via **exporter les données** n’est pas les services web en soit vos expériences ou publiées.</span><span class="sxs-lookup"><span data-stu-id="51447-224">Currently, writing tooan on-premises SQL Server database through **Export Data** is not supported either in your experiments or published web services.</span></span>
