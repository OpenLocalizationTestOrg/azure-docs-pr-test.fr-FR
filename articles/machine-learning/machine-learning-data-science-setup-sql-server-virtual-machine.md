---
title: "Configurer une machine virtuelle SQL Server comme serveur IPython Notebook pour des analyses avancées | Microsoft Docs"
description: "Configurez une machine virtuelle pour la science des données avec SQL Server et un serveur IPython."
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 1fd6014a-d180-4558-b4eb-d9b5a331a99f
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/24/2017
ms.author: xibingao;bradsev
ms.openlocfilehash: 8a151a6a15d4d000a774e3ec4e38bfa0e58ca33b
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="set-up-an-azure-sql-server-virtual-machine-as-an-ipython-notebook-server-for-advanced-analytics"></a><span data-ttu-id="e41c5-103">Configurer une machine virtuelle Azure SQL Server comme serveur IPython Notebook pour des analyses avancées</span><span class="sxs-lookup"><span data-stu-id="e41c5-103">Set up an Azure SQL Server virtual machine as an IPython Notebook server for advanced analytics</span></span>
<span data-ttu-id="e41c5-104">Cette rubrique explique comment approvisionner et configurer une machine virtuelle SQL Server utilisable au sein d’un environnement de science des données dans le cloud.</span><span class="sxs-lookup"><span data-stu-id="e41c5-104">This topic shows how to provision and configure an SQL Server virtual machine to be used as part of a cloud-based data science environment.</span></span> <span data-ttu-id="e41c5-105">Le machine virtuelle Windows est configurée avec des outils connexes, tels que Notebook IPython, l’Explorateur de stockage Azure et AzCopy, ainsi que d’autres utilitaires utiles pour les projets de science des données.</span><span class="sxs-lookup"><span data-stu-id="e41c5-105">The Windows virtual machine is configured with supporting tools such as IPython Notebook, Azure Storage Explorer, and AzCopy, as well as other utilities that are useful for data science projects.</span></span> <span data-ttu-id="e41c5-106">Par exemple, l’Explorateur de stockage Azure et AzCopy facilitent le chargement de données dans le stockage d’objets blob Azure depuis votre ordinateur local ou le téléchargement de ces données vers votre ordinateur local à partir du stockage d’objets blob.</span><span class="sxs-lookup"><span data-stu-id="e41c5-106">Azure Storage Explorer and AzCopy, for example, provide convenient ways to upload data to Azure blob storage from your local machine or to download it to your local machine from blob storage.</span></span>

<span data-ttu-id="e41c5-107">La galerie de machines virtuelles Azure inclut différentes images contenant Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e41c5-107">The Azure virtual machine gallery includes several images that contain Microsoft SQL Server.</span></span> <span data-ttu-id="e41c5-108">Sélectionnez une image de machine virtuelle SQL Server adaptée à vos besoins en matière de données.</span><span class="sxs-lookup"><span data-stu-id="e41c5-108">Select an SQL Server VM image that is suitable for your data needs.</span></span> <span data-ttu-id="e41c5-109">Les images recommandées sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="e41c5-109">Recommended images are:</span></span>

* <span data-ttu-id="e41c5-110">SQL Server 2012 SP2 Enterprise pour les données de taille réduite ou moyenne</span><span class="sxs-lookup"><span data-stu-id="e41c5-110">SQL Server 2012 SP2 Enterprise for small to medium data sizes</span></span>
* <span data-ttu-id="e41c5-111">SQL Server 2012 SP2 Enterprise optimisé pour les charges de travail d’entreposage de données pour les données de taille conséquente ou très volumineuse</span><span class="sxs-lookup"><span data-stu-id="e41c5-111">SQL Server 2012 SP2 Enterprise Optimized for DataWarehousing Workloads for large to very large data sizes</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="e41c5-112">L’image SQL Server 2012 SP2 Enterprise **n’inclut aucun disque de données**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-112">SQL Server 2012 SP2 Enterprise image **does not include a data disk**.</span></span> <span data-ttu-id="e41c5-113">Vous devrez ajouter et/ou attacher un ou plusieurs disques durs virtuels pour stocker vos données.</span><span class="sxs-lookup"><span data-stu-id="e41c5-113">You will need to add and/or attach one or more virtual hard disks to store your data.</span></span> <span data-ttu-id="e41c5-114">Lorsque vous créez une machine virtuelle Azure, elle comporte un disque pour le système d’exploitation mappé au lecteur C et un disque temporaire mappé au lecteur D.</span><span class="sxs-lookup"><span data-stu-id="e41c5-114">When you create an Azure virtual machine, it has a disk for the operating system mapped to the C drive and a temporary disk mapped to the D drive.</span></span> <span data-ttu-id="e41c5-115">Ne stockez pas de données dans le lecteur D.</span><span class="sxs-lookup"><span data-stu-id="e41c5-115">Do not use the D drive to store data.</span></span> <span data-ttu-id="e41c5-116">Comme son nom l’indique, il ne permet qu’un stockage temporaire.</span><span class="sxs-lookup"><span data-stu-id="e41c5-116">As the name implies, it provides temporary storage only.</span></span> <span data-ttu-id="e41c5-117">Il n'offre aucune possibilité de redondance ou de sauvegarde, car il ne réside pas dans le stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="e41c5-117">It offers no redundancy or backup because it doesn't reside in Azure storage.</span></span>
  > 
  > 

## <span data-ttu-id="e41c5-118"><a name="Provision"></a>Se connecter au portail Azure Classic et approvisionner une machine virtuelle SQL Server</span><span class="sxs-lookup"><span data-stu-id="e41c5-118"><a name="Provision"></a>Connect to the Azure Classic Portal and provision an SQL Server virtual machine</span></span>
1. <span data-ttu-id="e41c5-119">Connectez-vous au [portail Azure Classic](http://manage.windowsazure.com/) avec votre compte.</span><span class="sxs-lookup"><span data-stu-id="e41c5-119">Log in to the [Azure Classic portal](http://manage.windowsazure.com/) using your account.</span></span>
   <span data-ttu-id="e41c5-120">Si vous n'avez pas de compte Azure, visitez la page [Version d'évaluation gratuite d'Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="e41c5-120">If you do not have an Azure account, visit [Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
2. <span data-ttu-id="e41c5-121">Dans le portail Azure Classic, en bas à gauche de la page web, cliquez sur **+NOUVEAU**, sur **CALCUL**, sur **MACHINE VIRTUELLE**, puis sur **À PARTIR DE LA GALERIE**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-121">On the Azure Classic portal, at the bottom left of the web page, click **+NEW**, click **COMPUTE**, click **VIRTUAL MACHINE**, and then click **FROM GALLERY**.</span></span>
3. <span data-ttu-id="e41c5-122">Dans la page **Créer une machine virtuelle** , sélectionnez une image de machine virtuelle avec SQL Server adaptée à vos besoins en matière de données, puis cliquez sur la flèche suivante dans le coin inférieur droit de la page.</span><span class="sxs-lookup"><span data-stu-id="e41c5-122">On the **Create a Virtual Machine** page, select a virtual machine image containing SQL Server based on your data needs, and then click the next arrow at the bottom right of the page.</span></span> <span data-ttu-id="e41c5-123">Pour obtenir les informations les plus récentes sur les images SQL Server prises en charge sur Azure, consultez la page [Mise en route de SQL Server sur les machines virtuelles Windows Azure](http://go.microsoft.com/fwlink/p/?LinkId=294720) dans l’ensemble de documentation [SQL Server dans les machines virtuelles Azure](http://go.microsoft.com/fwlink/p/?LinkId=294719).</span><span class="sxs-lookup"><span data-stu-id="e41c5-123">For the most up-to-date information on the supported SQL Server images on Azure, see [Getting Started with SQL Server in Azure Virtual Machines](http://go.microsoft.com/fwlink/p/?LinkId=294720) topic in the [SQL Server in Azure Virtual Machines](http://go.microsoft.com/fwlink/p/?LinkId=294719) documentation set.</span></span>
   
   ![Sélection de la machine virtuelle Serveur SQL][1]
4. <span data-ttu-id="e41c5-125">Dans la première page **Configuration de la machine virtuelle** , entrez les informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="e41c5-125">On the first **Virtual Machine Configuration** page, provide the following information:</span></span>
   
   * <span data-ttu-id="e41c5-126">Entrez un **nom de machine virtuelle**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-126">Provide a **VIRTUAL MACHINE NAME**.</span></span>
   * <span data-ttu-id="e41c5-127">Dans la zone **NEW USER NAME** , entrez un nom d'utilisateur unique pour le compte d'administrateur local de machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="e41c5-127">In the **NEW USER NAME** box, type unique user name for the VM local administrator account.</span></span>
   * <span data-ttu-id="e41c5-128">Dans la zone **NEW PASSWORD** , entrez un mot de passe fort.</span><span class="sxs-lookup"><span data-stu-id="e41c5-128">In the **NEW PASSWORD** box, type a strong password.</span></span> <span data-ttu-id="e41c5-129">Pour plus d'informations, consultez la page [Mots de passe forts](http://msdn.microsoft.com/library/ms161962.aspx).</span><span class="sxs-lookup"><span data-stu-id="e41c5-129">For more information, see [Strong Passwords](http://msdn.microsoft.com/library/ms161962.aspx).</span></span>
   * <span data-ttu-id="e41c5-130">Dans la zone **CONFIRM PASSWORD** entrez de nouveau le mot de passe.</span><span class="sxs-lookup"><span data-stu-id="e41c5-130">In the **CONFIRM PASSWORD** box, retype the password.</span></span>
   * <span data-ttu-id="e41c5-131">Sélectionnez la **taille** adéquate dans le menu déroulant.</span><span class="sxs-lookup"><span data-stu-id="e41c5-131">Select the appropriate **SIZE** from the drop down list.</span></span>
     
     > [!NOTE]
     > <span data-ttu-id="e41c5-132">La taille de la machine virtuelle est spécifiée lors de l’approvisionnement : A2 est la taille minimale recommandée pour les charges de travail de production.</span><span class="sxs-lookup"><span data-stu-id="e41c5-132">The size of the virtual machine is specified during provisioning: A2 is the smallest size recommended for production workloads.</span></span> <span data-ttu-id="e41c5-133">La taille minimale recommandée pour une machine virtuelle utilisant SQL Server Édition Entreprise est A3.</span><span class="sxs-lookup"><span data-stu-id="e41c5-133">The minimum recommended size for a virtual machine is A3 when using SQL Server Enterprise Edition.</span></span> <span data-ttu-id="e41c5-134">Sélectionnez A3 ou plus lorsque vous utilisez SQL Server Enterprise Edition.</span><span class="sxs-lookup"><span data-stu-id="e41c5-134">Select A3 or higher when using SQL Server Enterprise Edition.</span></span> <span data-ttu-id="e41c5-135">Sélectionnez A4 lorsque vous utilisez des images SQL Server 2012 ou 2014 Enterprise optimisées pour les charges de travail transactionnelles.</span><span class="sxs-lookup"><span data-stu-id="e41c5-135">Select A4 when using SQL Server 2012 or 2014 Enterprise Optimized for Transactional Workloads images.</span></span>
     > <span data-ttu-id="e41c5-136">Sélectionnez A7 lorsque vous utilisez des images SQL Server 2012 ou 2014 Enterprise optimisées pour les charges de travail pour l’entreposage de données.</span><span class="sxs-lookup"><span data-stu-id="e41c5-136">Select A7 when using SQL Server 2012 or 2014 Enterprise Optimized for Data Warehousing Workloads images.</span></span> <span data-ttu-id="e41c5-137">La taille sélectionnée limite le nombre de disques de données que vous pouvez configurer.</span><span class="sxs-lookup"><span data-stu-id="e41c5-137">The size selected limits the number of data disks you can configure.</span></span> <span data-ttu-id="e41c5-138">Pour obtenir les informations les plus récentes sur les tailles de machines virtuelles disponibles et le nombre de disques de données que vous pouvez attribuer à une machine virtuelle, consultez la page [Tailles de machines virtuelles pour Azure](http://msdn.microsoft.com/library/azure/dn197896.aspx).</span><span class="sxs-lookup"><span data-stu-id="e41c5-138">For most up-to-date information on available virtual machine sizes and the number of data disks that you can attach to a virtual machine, see [Virtual Machine Sizes for Azure](http://msdn.microsoft.com/library/azure/dn197896.aspx).</span></span> <span data-ttu-id="e41c5-139">Pour connaître les informations de tarification, consultez la page [Machines virtuelles Tarification](https://azure.microsoft.com/pricing/details/virtual-machines/).</span><span class="sxs-lookup"><span data-stu-id="e41c5-139">For pricing information, see [VIrtual Macines Pricing](https://azure.microsoft.com/pricing/details/virtual-machines/).</span></span>
     > 
     > 
   
   <span data-ttu-id="e41c5-140">Cliquez sur la flèche Suivant située en bas à droite pour continuer.</span><span class="sxs-lookup"><span data-stu-id="e41c5-140">Click the next arrow on the bottom right to continue.</span></span>
   
   ![Configuration de machine virtuelle][2]
5. <span data-ttu-id="e41c5-142">Dans la deuxième page **Configuration de la machine virtuelle** , configurez les ressources pour la mise en réseau, le stockage et la disponibilité :</span><span class="sxs-lookup"><span data-stu-id="e41c5-142">On the second **Virtual machine configuration** page, configure resources for networking, storage, and availability:</span></span>
   
   * <span data-ttu-id="e41c5-143">Dans la zone **Service cloud**, sélectionnez **Créer un nouveau service de cloud computing**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-143">In the **Cloud Service** box, choose **Create a new cloud service**.</span></span>
   * <span data-ttu-id="e41c5-144">Dans la zone **Nom du cloud Service DNS**, entrez la première partie d'un nom DNS de votre choix, pour qu'il complète un nom au format **TESTNAME.cloudapp.net**</span><span class="sxs-lookup"><span data-stu-id="e41c5-144">In the **Cloud Service DNS Name** box, provide the first portion of a DNS name of your choice, so that it completes a name in the format **TESTNAME.cloudapp.net**</span></span>
   * <span data-ttu-id="e41c5-145">Dans la zone **REGION/AFFINITY GROUP/VIRTUAL NETWORK** , sélectionnez une région d'hébergement pour cette image virtuelle.</span><span class="sxs-lookup"><span data-stu-id="e41c5-145">In the **REGION/AFFINITY GROUP/VIRTUAL NETWORK** box, select a region where this virtual image will be hosted.</span></span>
   * <span data-ttu-id="e41c5-146">Dans **Compte de stockage**, sélectionnez un compte de stockage existant ou un compte créé automatiquement.</span><span class="sxs-lookup"><span data-stu-id="e41c5-146">In the **Storage Account**, select an existing storage account or select an automatically generated one.</span></span>
   * <span data-ttu-id="e41c5-147">Dans la zone **AVAILABILITY SET**, sélectionnez **(none)**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-147">In the **AVAILABILITY SET** box, select **(none)**.</span></span>
   * <span data-ttu-id="e41c5-148">Lisez et acceptez les informations de tarification.</span><span class="sxs-lookup"><span data-stu-id="e41c5-148">Read and accept the pricing information.</span></span>
6. <span data-ttu-id="e41c5-149">Dans la section **POINTS DE TERMINAISON**, cliquez dans la liste déroulante vide sous **NOM**, sélectionnez **MSSQL**, puis tapez le numéro de port de l’instance du moteur de base de données (**1433** pour l’instance par défaut).</span><span class="sxs-lookup"><span data-stu-id="e41c5-149">In the **ENDPOINTS** section, click in the empty dropdown under **NAME**, and select **MSSQL**  then type the port number of the instance of the Database Engine (**1433** for the default instance).</span></span>
7. <span data-ttu-id="e41c5-150">Votre machine virtuelle SQL Server peut également faire office de serveur Notebook IPython, que nous configurerons ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="e41c5-150">Your SQL Server VM can also serve as an IPython Notebook Server, which will be configured in a later step.</span></span>
   <span data-ttu-id="e41c5-151">Ajoutez un point de terminaison pour spécifier le port à utiliser pour votre serveur Notebook IPython.</span><span class="sxs-lookup"><span data-stu-id="e41c5-151">Add a new endpoint to specify the port to use for your IPython Notebook server.</span></span> <span data-ttu-id="e41c5-152">Entrez un nom dans la colonne **NOM**, puis sélectionnez le numéro de port de votre choix pour le port public et le numéro 9999 pour le port privé.</span><span class="sxs-lookup"><span data-stu-id="e41c5-152">Enter a name in the **NAME** column,    select a port number of your choice for the public port, and 9999 for the private port.</span></span>
   
   <span data-ttu-id="e41c5-153">Cliquez sur la flèche Suivant située en bas à droite pour continuer.</span><span class="sxs-lookup"><span data-stu-id="e41c5-153">Click the next arrow on the bottom right to continue.</span></span>
   
   ![Sélection des ports MSSQL et IPython][3]
8. <span data-ttu-id="e41c5-155">Acceptez l’option **Installer l’agent de machine virtuelle** activée par défaut, puis cliquez sur la coche dans le coin inférieur droit de l’Assistant pour achever le processus d’approvisionnement de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="e41c5-155">Accept the default **Install VM agent** option checked and click the the check mark in the bottom right corner of the wizard to complete the VM provisioning process.</span></span>
   
   `![Dernières Options de machine virtuelle][4]
9. <span data-ttu-id="e41c5-157">Patientez pendant qu'Azure prépare votre machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="e41c5-157">Wait while Azure prepares your virtual machine.</span></span> <span data-ttu-id="e41c5-158">L'état de la machine virtuelle doit normalement passer par les phases suivantes :</span><span class="sxs-lookup"><span data-stu-id="e41c5-158">Expect the virtual machine status to proceed through:</span></span>
   
   * <span data-ttu-id="e41c5-159">Démarrage (configuration)</span><span class="sxs-lookup"><span data-stu-id="e41c5-159">Starting (Provisioning)</span></span>
   * <span data-ttu-id="e41c5-160">Arrêté</span><span class="sxs-lookup"><span data-stu-id="e41c5-160">Stopped</span></span>
   * <span data-ttu-id="e41c5-161">Démarrage (configuration)</span><span class="sxs-lookup"><span data-stu-id="e41c5-161">Starting (Provisioning)</span></span>
   * <span data-ttu-id="e41c5-162">Exécution (configuration)</span><span class="sxs-lookup"><span data-stu-id="e41c5-162">Running (Provisioning)</span></span>
   * <span data-ttu-id="e41c5-163">Exécution</span><span class="sxs-lookup"><span data-stu-id="e41c5-163">Running</span></span>

## <span data-ttu-id="e41c5-164"><a name="RemoteDesktop"></a>Ouvrir la machine virtuelle à l’aide du Bureau à distance et achever la configuration</span><span class="sxs-lookup"><span data-stu-id="e41c5-164"><a name="RemoteDesktop"></a>Open the virtual machine using Remote Desktop and complete setup</span></span>
1. <span data-ttu-id="e41c5-165">Une fois l’approvisionnement terminé, cliquez sur le nom de votre machine virtuelle pour accéder à la page TABLEAU DE BORD.</span><span class="sxs-lookup"><span data-stu-id="e41c5-165">When provisioning completes, click on the name of your virtual machine to go to the DASHBOARD page.</span></span> <span data-ttu-id="e41c5-166">En bas de la page, cliquez sur **Connect**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-166">At the bottom of the page, click **Connect**.</span></span>
2. <span data-ttu-id="e41c5-167">Sélectionnez le fichier .rpd à ouvrir en utilisant le programme Bureau à distance Windows (`%windir%\system32\mstsc.exe`).</span><span class="sxs-lookup"><span data-stu-id="e41c5-167">Choose to open the rpd file using the Windows Remote Desktop program (`%windir%\system32\mstsc.exe`).</span></span>
3. <span data-ttu-id="e41c5-168">Dans la boîte de dialogue **Sécurité de Windows** , entrez le mot de passe du compte d’administrateur local indiqué à l’étape précédente.</span><span class="sxs-lookup"><span data-stu-id="e41c5-168">At the **Windows Security** dialog box, provide the password for the local administrator account that you specified in an earlier step.</span></span>
   <span data-ttu-id="e41c5-169">(Il se peut que vous soyez invité à vérifier les informations d’identification de la machine virtuelle.)</span><span class="sxs-lookup"><span data-stu-id="e41c5-169">(You might be asked to verify the credentials of the virtual machine.)</span></span>
4. <span data-ttu-id="e41c5-170">Lors de la première connexion à cette machine virtuelle, il est possible que plusieurs processus doivent s'effectuer, par exemple, la configuration de votre bureau, les mises à jour de Windows et l'achèvement des tâches de configuration initiales de Windows (sysprep).</span><span class="sxs-lookup"><span data-stu-id="e41c5-170">The first time you log on to this virtual machine, several processes may need to complete, including setup of your desktop, Windows updates, and completion of the Windows initial configuration tasks (sysprep).</span></span> <span data-ttu-id="e41c5-171">Une fois Windows sysprep terminé, les tâches de configuration de SQL Server sont terminées.</span><span class="sxs-lookup"><span data-stu-id="e41c5-171">After Windows sysprep completes, SQL Server setup completes configuration tasks.</span></span> <span data-ttu-id="e41c5-172">L’exécution de ces tâches peut prendre quelques minutes.</span><span class="sxs-lookup"><span data-stu-id="e41c5-172">These tasks may cause a delay of a few minutes while they complete.</span></span> <span data-ttu-id="e41c5-173">`SELECT @@SERVERNAME` ne renvoie pas le nom correct et que SQL Server Management Studio ne soit pas visible sur la page d’accueil.</span><span class="sxs-lookup"><span data-stu-id="e41c5-173">`SELECT @@SERVERNAME` may not return the correct name until SQL Server setup completes, and SQL Server Management Studio may not be visable on the start page.</span></span>

<span data-ttu-id="e41c5-174">Une fois que vous êtes connecté à la machine virtuelle avec le Bureau à distance Windows, celle-ci fonctionne comme un autre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="e41c5-174">Once you are connected to the virtual machine with Windows Remote Desktop, the virtual machine works much like any other computer.</span></span> <span data-ttu-id="e41c5-175">Connectez-vous normalement à l'instance par défaut de SQL Server avec SQL Server Management Studio (exécuté sur la machine virtuelle).</span><span class="sxs-lookup"><span data-stu-id="e41c5-175">Connect to the default instance of SQL Server with SQL Server Management Studio (running on the virtual machine) in the normal way.</span></span>

## <span data-ttu-id="e41c5-176"><a name="InstallIPython"></a>Installer Notebook IPython et les autres outils connexes</span><span class="sxs-lookup"><span data-stu-id="e41c5-176"><a name="InstallIPython"></a>Install IPython Notebook and other supporting tools</span></span>
<span data-ttu-id="e41c5-177">Un script de personnalisation spécial est mis à votre disposition pour vous permettre de configurer la nouvelle machine virtuelle SQL Server en tant que serveur Notebook IPython et pour installer des outils connexes complémentaires, tels qu’AzCopy, l’Explorateur de stockage Azure, des packages de science des données Python très utiles, etc.</span><span class="sxs-lookup"><span data-stu-id="e41c5-177">To configure your new SQL Server VM to serve as an IPython Notebook server, and install additional supporting tools such AzCopy, Azure Storage Explorer, useful Data Science Python packages, and others, a special customization script is provided to you.</span></span> <span data-ttu-id="e41c5-178">Pour effectuer l’installation :</span><span class="sxs-lookup"><span data-stu-id="e41c5-178">To install:</span></span>

1. <span data-ttu-id="e41c5-179">Cliquez avec le bouton droit sur l’icône **Démarrage Windows** et cliquez sur **Invite de commandes (Admin)**</span><span class="sxs-lookup"><span data-stu-id="e41c5-179">Right-click the **Windows Start** icon and click **Command Prompt (Admin)**</span></span>
2. <span data-ttu-id="e41c5-180">Copiez les commandes ci-après et collez-les au niveau de l’invite de commandes.</span><span class="sxs-lookup"><span data-stu-id="e41c5-180">Copy the following commands and paste at the command prompt.</span></span>
  
        set script='https://raw.githubusercontent.com/Azure/Azure-MachineLearning-DataScience/master/Misc/MachineSetup/Azure_VM_Setup_Windows.ps1'
        @powershell -NoProfile -ExecutionPolicy unrestricted -Command "iex ((new-object net.webclient).DownloadString(%script%))"
3. <span data-ttu-id="e41c5-181">Lorsque vous y êtes invité, entrez un mot de passe de votre choix pour le serveur Notebook IPython.</span><span class="sxs-lookup"><span data-stu-id="e41c5-181">When prompted, enter a password of your choice for the IPython Notebook server.</span></span>
4. <span data-ttu-id="e41c5-182">Le script de personnalisation automatise plusieurs procédures post-installation répertoriées ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="e41c5-182">The customization script automates several post-install procedures, which include:</span></span>
    * <span data-ttu-id="e41c5-183">Installation et configuration du serveur Notebook IPython</span><span class="sxs-lookup"><span data-stu-id="e41c5-183">Installation and setup of IPython Notebook server</span></span>
    * <span data-ttu-id="e41c5-184">Ouverture de ports TCP dans le Pare-feu Windows pour les points de terminaison créés précédemment :</span><span class="sxs-lookup"><span data-stu-id="e41c5-184">Opening TCP ports in the Windows firewall for the endpoints created earlier:</span></span>
    * <span data-ttu-id="e41c5-185">pour la connectivité à distance de SQL Server ;</span><span class="sxs-lookup"><span data-stu-id="e41c5-185">For SQL Server remote connectivity</span></span>
    * <span data-ttu-id="e41c5-186">pour la connectivité à distance du serveur Notebook IPython.</span><span class="sxs-lookup"><span data-stu-id="e41c5-186">For IPython Notebook server remote connectivity</span></span>
    * <span data-ttu-id="e41c5-187">Extraction des exemples de notebooks IPython et de scripts SQL</span><span class="sxs-lookup"><span data-stu-id="e41c5-187">Fetching sample IPython notebooks and SQL scripts</span></span>
    * <span data-ttu-id="e41c5-188">Téléchargement et installation des packages de science des données Python utiles</span><span class="sxs-lookup"><span data-stu-id="e41c5-188">Downloading and installing useful Data Science Python packages</span></span>
    * <span data-ttu-id="e41c5-189">Téléchargement et installation d’outils Azure tels qu’AzCopy et Azure Storage Explorer </span><span class="sxs-lookup"><span data-stu-id="e41c5-189">Downloading and installing Azure tools such as AzCopy and Azure Storage Explorer</span></span>  
    <br>
5. <span data-ttu-id="e41c5-190">Vous pouvez accéder à Notebook IPython et l’exécuter depuis n’importe quel navigateur local ou distant en utilisant une URL du type `https://<virtual_machine_DNS_name>:<port>`, où la variable port correspond au port public IPython que vous avez sélectionné lors de l’approvisionnement de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="e41c5-190">You may access and run IPython Notebook from any local or remote browser using a URL of the form `https://<virtual_machine_DNS_name>:<port>`, where port is the IPython public port you selected while provisioning the virtual machine.</span></span>
6. <span data-ttu-id="e41c5-191">Le serveur Notebook IPython s’exécute en tant que service d’arrière-plan et sera redémarré automatiquement quand vous redémarrerez la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="e41c5-191">IPython Notebook server is running as a background service and will be restarted automatically when you restart the virtual machine.</span></span>

## <span data-ttu-id="e41c5-192"><a name="Optional"></a>Attacher des disques de données selon vos besoins</span><span class="sxs-lookup"><span data-stu-id="e41c5-192"><a name="Optional"></a>Attach data disk as needed</span></span>
<span data-ttu-id="e41c5-193">Si l’image de machine virtuelle que vous avez sélectionnée n’inclut aucun disque de données, c’est-à-dire aucun disque autre que le lecteur C (disque du système d’exploitation) ou le lecteur D (disque temporaire), vous devez ajouter un ou plusieurs disques de données pour y stocker vos données.</span><span class="sxs-lookup"><span data-stu-id="e41c5-193">If your VM image does not include data disks, i.e., disks other than C drive (OS disk) and D drive (temporary disk), you need to add one or more data disks to store your data.</span></span> <span data-ttu-id="e41c5-194">L’image de machine virtuelle pour SQL Server 2012 SP2 Enterprise optimisé pour les charges de travail d’entreposage de données est préconfigurée avec des disques supplémentaires pour les fichiers de données et les fichiers journaux SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e41c5-194">The VM image for SQL Server 2012 SP2 Enterprise Optimized for DataWarehousing Workloads comes pre-configured with additional disks for SQL Server data and log files.</span></span>

> [!NOTE]
> <span data-ttu-id="e41c5-195">Ne stockez pas de données dans le lecteur D.</span><span class="sxs-lookup"><span data-stu-id="e41c5-195">Do not use the D drive to store data.</span></span> <span data-ttu-id="e41c5-196">Comme son nom l’indique, il ne permet qu’un stockage temporaire.</span><span class="sxs-lookup"><span data-stu-id="e41c5-196">As the name implies, it provides temporary storage only.</span></span> <span data-ttu-id="e41c5-197">Il n'offre aucune possibilité de redondance ou de sauvegarde, car il ne réside pas dans le stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="e41c5-197">It offers no redundancy or backup because it doesn't reside in Azure storage.</span></span>
> 
> 

<span data-ttu-id="e41c5-198">Pour attacher des disques de données supplémentaires, suivez la procédure décrite dans l’article [Attachement d’un disque de données à une machine virtuelle Windows](../virtual-machines/windows/classic/attach-disk.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json), qui explique en détail comment effectuer les opérations ci-après :</span><span class="sxs-lookup"><span data-stu-id="e41c5-198">To attach additional data disks, follow the steps described in [How to Attach a Data Disk to a Windows Virtual Machine](../virtual-machines/windows/classic/attach-disk.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json), which will guide you through:</span></span>

1. <span data-ttu-id="e41c5-199">Attachement de disques vides à la machine virtuelle approvisionnée aux étapes précédentes</span><span class="sxs-lookup"><span data-stu-id="e41c5-199">Attaching empty disk(s) to the virtual machine provisioned in earlier steps</span></span>
2. <span data-ttu-id="e41c5-200">Initialisation des nouveaux disques dans la machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="e41c5-200">Initialization of the new disk(s) in the virtual machine</span></span>

## <span data-ttu-id="e41c5-201"><a name="SSMS"></a>Se connecter à SQL Server Management Studio et activer l’authentification en mode mixte</span><span class="sxs-lookup"><span data-stu-id="e41c5-201"><a name="SSMS"></a>Connect to SQL Server Management Studio and enable mixed mode authentication</span></span>
<span data-ttu-id="e41c5-202">Le moteur de base de données de SQL Server ne peut pas utiliser l’authentification Windows sans un environnement de domaine.</span><span class="sxs-lookup"><span data-stu-id="e41c5-202">The SQL Server Database Engine cannot use Windows Authentication without domain environment.</span></span> <span data-ttu-id="e41c5-203">Pour vous connecter au moteur de base de données à partir d'un autre ordinateur, configurez SQL Server pour l'authentification en mode mixte</span><span class="sxs-lookup"><span data-stu-id="e41c5-203">To connect to the Database Engine from another computer, configure SQL Server for mixed mode authentication.</span></span> <span data-ttu-id="e41c5-204">qui permet l'authentification SQL Server et l'authentification Windows</span><span class="sxs-lookup"><span data-stu-id="e41c5-204">Mixed mode authentication allows both SQL Server Authentication and Windows Authentication.</span></span> <span data-ttu-id="e41c5-205">Le mode d’authentification SQL est requis pour la réception de données directement à partir de vos bases de données de machine virtuelle SQL Server dans [Azure Machine Learning Studio](https://studio.azureml.net) à l’aide du module Importer les données.</span><span class="sxs-lookup"><span data-stu-id="e41c5-205">SQL authentication mode is required in order to ingest data directly from your SQL Server VM databases in the [Azure Machine Learning Studio](https://studio.azureml.net) using the Import Data module.</span></span>

1. <span data-ttu-id="e41c5-206">Lorsque vous êtes connecté à la machine virtuelle à l’aide du Bureau à distance, utilisez le volet Windows **Rechercher** et tapez **SQL Server Management Studio** (SMSS).</span><span class="sxs-lookup"><span data-stu-id="e41c5-206">While connected to the virtual machine by using Remote Desktop, use the Windows **Search** pane and type **SQL Server Management Studio** (SMSS).</span></span> <span data-ttu-id="e41c5-207">Cliquez pour démarrer SQL Server Management Studio (SSMS).</span><span class="sxs-lookup"><span data-stu-id="e41c5-207">Click to start the SQL Server Management Studio (SSMS).</span></span> <span data-ttu-id="e41c5-208">Vous pouvez ajouter un raccourci pour SSMS sur votre Bureau à des fins d’utilisation ultérieure.</span><span class="sxs-lookup"><span data-stu-id="e41c5-208">You may want to add a shortcut to SSMS on your Desktop for future use.</span></span>
   
   ![Démarrer SSMS][5]
   
   <span data-ttu-id="e41c5-210">Lorsque vous ouvrez Management Studio pour la première fois, il doit créer l’environnement Management Studio pour les utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="e41c5-210">The first time you open Management Studio it must create the users Management Studio environment.</span></span> <span data-ttu-id="e41c5-211">Cette opération peut prendre du temps.</span><span class="sxs-lookup"><span data-stu-id="e41c5-211">This may take a few moments.</span></span>
2. <span data-ttu-id="e41c5-212">Lorsque vous l’ouvrez, Management Studio affiche la boîte de dialogue **Se connecter au serveur**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-212">When opening, Management Studio presents the **Connect to Server** dialog box.</span></span> <span data-ttu-id="e41c5-213">Dans la zone **Nom du serveur**, entrez le nom de la machine virtuelle à connecter au moteur de base de données avec Object Explorer.</span><span class="sxs-lookup"><span data-stu-id="e41c5-213">In the **Server name** box, type the name of the virtual machine to connect to the Database Engine with the Object Explorer.</span></span>
   <span data-ttu-id="e41c5-214">(au lieu d'entrer le nom de la machine virtuelle, vous pouvez également utiliser **(local)** ou un simple point pour le **nom du serveur**).</span><span class="sxs-lookup"><span data-stu-id="e41c5-214">(Instead of the virtual machine name you can also use **(local)** or a single period as the **Server name**.</span></span> <span data-ttu-id="e41c5-215">Sélectionnez **Authentification Windows** et laissez ***your\_VM\_name*\\your\_local\_administrator** dans la zone **Nom d'utilisateur**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-215">Select **Windows Authentication**, and leave ***your\_VM\_name*\\your\_local\_administrator** in the **User name** box.</span></span> <span data-ttu-id="e41c5-216">Cliquez sur **Connecter**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-216">Click **Connect**.</span></span>
   
   ![Se connecter au serveur][6]
   
   <br>
   
   > [!TIP]
   > <span data-ttu-id="e41c5-218">Vous pouvez changer le mode d’authentification SQL Server en effectuant une modification de clé de Registre Windows ou en utilisant SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="e41c5-218">You may change the SQL Server authentication mode using a Windows registry key change or using the SQL Server Management Studio.</span></span> <span data-ttu-id="e41c5-219">Pour changer le mode d’authentification à l’aide d’une modification de clé de Registre, démarrez une **Nouvelle requête** et exécutez le script suivant :</span><span class="sxs-lookup"><span data-stu-id="e41c5-219">To change authentication mode using the registry key change, start a **New Query** and execute the following script:</span></span>
   > 
   > 
   
       USE master
       go
   
       EXEC xp_instance_regwrite N'HKEY_LOCAL_MACHINE', N'Software\Microsoft\MSSQLServer\MSSQLServer', N'LoginMode', REG_DWORD, 2
       go

    <span data-ttu-id="e41c5-220">Pour changer le mode d’authentification au moyen de SQL Server Management Studio :</span><span class="sxs-lookup"><span data-stu-id="e41c5-220">To change the authentication mode using SQL Server management Studio:</span></span>

1. <span data-ttu-id="e41c5-221">Dans **SQL Server Management Studio Object Explorer**, cliquez avec le bouton droit sur le nom de l'instance de SQL Server (le nom de la machine virtuelle), puis cliquez sur **Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-221">In **SQL Server Management Studio Object Explorer**, right-click the name of the instance of SQL Server (the virtual machine name), and then click **Properties**.</span></span>
   
   ![Propriétés de serveur][7]
2. <span data-ttu-id="e41c5-223">Dans la page **Sécurité**, sous **Authentification du serveur**, sélectionnez **Mode d’authentification SQL Server et Windows**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-223">On the **Security** page, under **Server authentication**, select **SQL Server and Windows Authentication mode**, and then click **OK**.</span></span>
   
   ![Sélectionner le mode d'authentification][8]
3. <span data-ttu-id="e41c5-225">Dans la boîte de dialogue **SQL Server Management Studio**, cliquez sur **OK** pour confirmer l'obligation de redémarrer SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e41c5-225">In the **SQL Server Management Studio** dialog box, click **OK** to acknowledge the requirement to restart SQL Server.</span></span>
4. <span data-ttu-id="e41c5-226">Dans l’**Explorateur d’objets**, cliquez avec le bouton droit sur votre serveur, puis cliquez sur **Redémarrer**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-226">In **Object Explorer**, right-click your server, and then click **Restart**.</span></span> <span data-ttu-id="e41c5-227">(si SQL Server Agent est exécuté, il doit également être redémarré).</span><span class="sxs-lookup"><span data-stu-id="e41c5-227">(If SQL Server Agent is running, it must also be restarted.)</span></span>
   
   ![Redémarrer][9]
5. <span data-ttu-id="e41c5-229">Dans la boîte de dialogue **SQL Server Management Studio**, cliquez sur **Oui** pour confirmer que vous voulez redémarrer SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e41c5-229">In the **SQL Server Management Studio** dialog box, click **Yes** to agree that you want to restart SQL Server.</span></span>

## <span data-ttu-id="e41c5-230"><a name="Logins"></a>Créer des connexions d’authentification SQL Server</span><span class="sxs-lookup"><span data-stu-id="e41c5-230"><a name="Logins"></a>Create SQL Server authentication logins</span></span>
<span data-ttu-id="e41c5-231">Pour vous connecter au moteur de base de données à partir d'un autre ordinateur, vous devez créer au moins une connexion d'authentification SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e41c5-231">To connect to the Database Engine from another computer, you must create at least one SQL Server authentication login.</span></span>  

<span data-ttu-id="e41c5-232">Vous pouvez créer des connexions SQL Server par programme ou en utilisant SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="e41c5-232">You may create new SQL Server logins programmatically or using the SQL Server Management Studio.</span></span> <span data-ttu-id="e41c5-233">Pour créer un utilisateur sysadmin avec l’authentification SQL par programme, démarrez une **Nouvelle requête** , puis exécutez le script ci-après.</span><span class="sxs-lookup"><span data-stu-id="e41c5-233">To create a new sysadmin user with SQL authentication programmatically, start a **New Query** and execute the following script.</span></span> <span data-ttu-id="e41c5-234">Remplacez les variables <nouveau nom d’utilisateur\> et <nouveau mot de passe\> par le *nom d’utilisateur* et le *mot de passe* de votre choix.</span><span class="sxs-lookup"><span data-stu-id="e41c5-234">Replace <new user name\> and <new password\> with your choice of *user name* and *password*.</span></span> 

    USE master
    go

    CREATE LOGIN <new user name> WITH PASSWORD = N'<new password>',
        CHECK_POLICY = OFF,
        CHECK_EXPIRATION = OFF;

    EXEC sp_addsrvrolemember @loginame = N'<new user name>', @rolename = N'sysadmin';


<span data-ttu-id="e41c5-235">Ajustez la stratégie de mot de passe selon vos besoins (l’exemple de code désactive la vérification de la stratégie et l’expiration du mot de passe).</span><span class="sxs-lookup"><span data-stu-id="e41c5-235">Adjust the password policy as needed (the sample code turns off policy checking and password expiration).</span></span> <span data-ttu-id="e41c5-236">Pour plus d'informations sur les connexions SQL Server, consultez la page [Créer un compte de connexion](http://msdn.microsoft.com/library/aa337562.aspx).</span><span class="sxs-lookup"><span data-stu-id="e41c5-236">For more information about SQL Server logins, see [Create a Login](http://msdn.microsoft.com/library/aa337562.aspx).</span></span>  

<span data-ttu-id="e41c5-237">Pour créer des connexions SQL Server à l’aide de SQL Server Management Studio :</span><span class="sxs-lookup"><span data-stu-id="e41c5-237">To create new SQL Server logins using the SQL Server Management Studio:</span></span>

1. <span data-ttu-id="e41c5-238">Dans l’ **Explorateur d’objets SQL Server Management Studio**, développez le dossier de l’instance de serveur dans laquelle vous voulez créer la connexion.</span><span class="sxs-lookup"><span data-stu-id="e41c5-238">In **SQL Server Management Studio Object Explorer**, expand the folder of the server instance in which you want to create the new login.</span></span>
2. <span data-ttu-id="e41c5-239">Cliquez avec le bouton droit sur le dossier **Sécurité**, pointez sur **Nouveau**, puis sélectionnez **Connexion...**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-239">Right-click the **Security** folder, point to **New**, and select **Login…**.</span></span>
   
   ![Nouvelle connexion][10]
3. <span data-ttu-id="e41c5-241">Dans la boîte de dialogue **Nouvelle connexion**, sur la page **Général**, entrez le nom du nouvel utilisateur dans la zone **Nom de connexion**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-241">In the **Login - New** dialog box, on the **General** page, enter the name of the new user in the **Login name** box.</span></span>
4. <span data-ttu-id="e41c5-242">Sélectionnez **Authentification SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-242">Select **SQL Server authentication**.</span></span>
5. <span data-ttu-id="e41c5-243">Dans la zone **Mot de passe** , entrez un mot de passe pour le nouvel utilisateur.</span><span class="sxs-lookup"><span data-stu-id="e41c5-243">In the **Password** box, enter a password for the new user.</span></span> <span data-ttu-id="e41c5-244">Entrez de nouveau ce mot de passe dans la zone **Confirmer le mot de passe** .</span><span class="sxs-lookup"><span data-stu-id="e41c5-244">Enter that password again into the **Confirm Password** box.</span></span>
6. <span data-ttu-id="e41c5-245">Pour renforcer la complexité et la sécurité des options de stratégie de mot de passe, sélectionnez **Conserver la stratégie de mot de passe** (recommandé).</span><span class="sxs-lookup"><span data-stu-id="e41c5-245">To enforce password policy options for complexity and enforcement, select **Enforce password policy** (recommended).</span></span> <span data-ttu-id="e41c5-246">Il s'agit d'une option par défaut lorsque l'authentification SQL Server est sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="e41c5-246">This is a default option when SQL Server authentication is selected.</span></span>
7. <span data-ttu-id="e41c5-247">Pour conserver les options de stratégie de mot de passe après expiration, sélectionnez **Conserver l'expiration du mot de passe** (recommandé).</span><span class="sxs-lookup"><span data-stu-id="e41c5-247">To enforce password policy options for expiration, select **Enforce password expiration** (recommended).</span></span> <span data-ttu-id="e41c5-248">La stratégie de conservation de mot de passe doit être sélectionnée pour activer cette case à cocher.</span><span class="sxs-lookup"><span data-stu-id="e41c5-248">Enforce password policy must be selected to enable this checkbox.</span></span> <span data-ttu-id="e41c5-249">Il s'agit d'une option par défaut lorsque l'authentification SQL Server est sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="e41c5-249">This is a default option when SQL Server authentication is selected.</span></span>
8. <span data-ttu-id="e41c5-250">Pour forcer l'utilisateur à créer un mot de passe après sa première connexion, sélectionnez **L'utilisateur doit changer de mot de passe à la prochaine connexion** (recommandé si cette connexion est destinée à une autre personne.</span><span class="sxs-lookup"><span data-stu-id="e41c5-250">To force the user to create a new password after the first time the login is used, select **User must change password at next login** (Recommended if this login is for someone else to use.</span></span> <span data-ttu-id="e41c5-251">Si la connexion est destinée à votre propre usage, ne sélectionnez pas cette option). L'option Conserver l'expiration du mot de passe doit être sélectionnée pour activer cette case à cocher.</span><span class="sxs-lookup"><span data-stu-id="e41c5-251">If the login is for your own use, do not select this option.) Enforce password expiration must be selected to enable this checkbox.</span></span> <span data-ttu-id="e41c5-252">Il s'agit d'une option par défaut lorsque l'authentification SQL Server est sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="e41c5-252">This is a default option when SQL Server authentication is selected.</span></span>
9. <span data-ttu-id="e41c5-253">Dans la liste **Base de données par défaut** , sélectionnez une base de données par défaut pour la connexion.</span><span class="sxs-lookup"><span data-stu-id="e41c5-253">From the **Default database** list, select a default database for the login.</span></span> <span data-ttu-id="e41c5-254">**principale** .</span><span class="sxs-lookup"><span data-stu-id="e41c5-254">**master** is the default for this option.</span></span> <span data-ttu-id="e41c5-255">Si vous n'avez pas encore créé de base de données d'utilisateur, gardez la valeur par défaut **master**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-255">If you have not yet created a user database, leave this set to **master**.</span></span>
10. <span data-ttu-id="e41c5-256">Dans la liste **Langue par défaut**, conservez la valeur **par défaut**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-256">In the **Default language** list, leave **default** as the value.</span></span>
    
    ![Propriétés de connexion][11]
11. <span data-ttu-id="e41c5-258">S’il s’agit de votre première connexion, vous pouvez désigner cette connexion en tant qu’administrateur SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e41c5-258">If this is the first login you are creating, you may want to designate this login as a SQL Server administrator.</span></span> <span data-ttu-id="e41c5-259">Si tel est le cas, sur la page **Rôles du serveur**, activez la case à cocher **administrateur système**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-259">If so, on the **Server Roles** page, check **sysadmin**.</span></span>
    
    > [!IMPORTANT]
    > <span data-ttu-id="e41c5-260">les membres du rôle serveur administrateur système fixe contrôlent complètement le moteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="e41c5-260">Members of the sysadmin fixed server role have complete control of the Database Engine.</span></span> <span data-ttu-id="e41c5-261">Pour des raisons de sécurité, vous devez limiter soigneusement l'appartenance à ce rôle.</span><span class="sxs-lookup"><span data-stu-id="e41c5-261">For security reasons, you should carefully restrict membership in this role.</span></span>
    > 
    > 
    
    ![administrateur système][12]
12. <span data-ttu-id="e41c5-263">Cliquez sur OK.</span><span class="sxs-lookup"><span data-stu-id="e41c5-263">Click OK.</span></span>

## <span data-ttu-id="e41c5-264"><a name="DNS"></a>Déterminer le nom DNS de la machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="e41c5-264"><a name="DNS"></a>Determine the DNS name of the virtual machine</span></span>
<span data-ttu-id="e41c5-265">Pour vous connecter au moteur de base de données SQL Server à partir d'un autre ordinateur, vous devez connaître le nom DNS de la machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="e41c5-265">To connect to the SQL Server Database Engine from another computer, you must know the Domain Name System (DNS) name of the virtual machine.</span></span>

<span data-ttu-id="e41c5-266">Il s'agit du nom utilisé par Internet pour identifier une machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="e41c5-266">(This is the name the internet uses to identify the virtual machine.</span></span> <span data-ttu-id="e41c5-267">Vous pouvez utiliser l'adresse IP, mais celle-ci peut être modifiée lorsqu'Azure déplace des ressources pour des raisons de redondance ou de maintenance.</span><span class="sxs-lookup"><span data-stu-id="e41c5-267">You can use the IP address, but the IP address might change when Azure moves resources for redundancy or maintenance.</span></span> <span data-ttu-id="e41c5-268">Le nom DNS reste stable, car il peut être redirigé vers une nouvelle adresse IP.</span><span class="sxs-lookup"><span data-stu-id="e41c5-268">The DNS name will be stable because it can be redirected to a new IP address.)</span></span>

1. <span data-ttu-id="e41c5-269">Dans le portail Azure Classic (ou à partir de l’étape précédente), sélectionnez **VIRTUAL MACHINES**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-269">In the Azure Classic Portal (or from the previous step), select **VIRTUAL MACHINES**.</span></span>
2. <span data-ttu-id="e41c5-270">Sur la page **VIRTUAL MACHINE INSTANCES**, dans la colonne **DNS NAME**, recherchez et copiez le nom DNS de la machine virtuelle qui apparaît, précédé par **http://**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-270">On the **VIRTUAL MACHINE INSTANCES** page, in the **DNS NAME** column, find and copy the DNS name for the virtual machine which appears preceded by **http://**.</span></span> <span data-ttu-id="e41c5-271">(si l'interface utilisateur n'affiche pas l'intégralité du nom, cliquez dessus avec le bouton droit, puis sélectionnez Copier).</span><span class="sxs-lookup"><span data-stu-id="e41c5-271">(The user interface might not display the entire name, but you can right-click on it, and select copy.)</span></span>

## <span data-ttu-id="e41c5-272"><a name="cde"></a>Se connecter au moteur de base de données à partir d’un autre ordinateur</span><span class="sxs-lookup"><span data-stu-id="e41c5-272"><a name="cde"></a>Connect to the Database Engine from another computer</span></span>
1. <span data-ttu-id="e41c5-273">Sur un ordinateur connecté à Internet, ouvrez SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="e41c5-273">On a computer connected to the internet, open SQL Server Management Studio.</span></span>
2. <span data-ttu-id="e41c5-274">Dans la boîte de dialogue **Se connecter au serveur** ou **Se connecter au moteur de base de données**, dans la zone **Nom du serveur**, entrez le nom DNS de la machine virtuelle (déterminé durant la tâche précédente), ainsi qu'un numéro de port de point de terminaison public au format *NomDNS,numéro_port* tel que **tutorialtestVM.cloudapp.net,57500**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-274">In the **Connect to Server** or **Connect to Database Engine** dialog box, in the **Server name** box, enter the DNS name of the virtual machine (determined in the previous task) and a public endpoint port number in the format of *DNSName,portnumber* such as **tutorialtestVM.cloudapp.net,57500**.</span></span>
3. <span data-ttu-id="e41c5-275">Dans la zone **Authentification**, sélectionnez **Authentification SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-275">In the **Authentication** box, select **SQL Server Authentication**.</span></span>
4. <span data-ttu-id="e41c5-276">Dans la zone **Connexion** , entrez le nom d'une connexion créée lors d'une tâche précédente.</span><span class="sxs-lookup"><span data-stu-id="e41c5-276">In the **Login** box, type the name of a login that you created in an earlier task.</span></span>
5. <span data-ttu-id="e41c5-277">Dans la zone **Mot de passe** , entrez le mot de passe de connexion que vous avez créé lors d'une tâche précédente.</span><span class="sxs-lookup"><span data-stu-id="e41c5-277">In the **Password** box, type the password of the login that you create in an earlier task.</span></span>
6. <span data-ttu-id="e41c5-278">Cliquez sur **Connecter**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-278">Click **Connect**.</span></span>

## <span data-ttu-id="e41c5-279"><a name="amlconnect"></a>Se connecter au moteur de base de données à partir d’Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="e41c5-279"><a name="amlconnect"></a>Connect to the Database Engine from Azure Machine Learning</span></span>
<span data-ttu-id="e41c5-280">Dans les étapes ultérieures du processus TDSP (Team Data Science Process) dans le cloud, vous allez utiliser [Azure Machine Learning Studio](https://studio.azureml.net) pour générer et déployer des modèles d’apprentissage automatique.</span><span class="sxs-lookup"><span data-stu-id="e41c5-280">In later stages of the Team Data Science Process, you will use the [Azure Machine Learning Studio](https://studio.azureml.net) to build and deploy machine learning models.</span></span> <span data-ttu-id="e41c5-281">Pour recevoir des données provenant de vos bases de données de machine virtuelle SQL Server directement dans Azure Machine Learning à des fins d’apprentissage ou de notation, utilisez le module **Importer les données** dans une nouvelle expérience [Azure Machine Learning Studio](https://studio.azureml.net) .</span><span class="sxs-lookup"><span data-stu-id="e41c5-281">To ingest data from your SQL Server VM databases directly into Azure Machine Learning for training or scoring, use the **Import Data** module in a new [Azure Machine Learning Studio](https://studio.azureml.net) experiment.</span></span> <span data-ttu-id="e41c5-282">Des informations détaillées sur ce sujet sont accessibles par le biais des liens du guide du processus TDSP (Team Data Science Process).</span><span class="sxs-lookup"><span data-stu-id="e41c5-282">This topic is covered in more details through the Team Data Science Process guide links.</span></span> <span data-ttu-id="e41c5-283">Pour découvrir une introduction, consultez la page [Azure Machine Learning Studio - De quoi s’agit-il ?](machine-learning-what-is-ml-studio.md).</span><span class="sxs-lookup"><span data-stu-id="e41c5-283">For an introduction, see [What is Azure Machine Learning Studio?](machine-learning-what-is-ml-studio.md).</span></span>

1. <span data-ttu-id="e41c5-284">Dans le volet **Propriétés** du [module Importer les données](https://msdn.microsoft.com/library/azure/dn905997.aspx), sélectionnez **Base de données SQL Azure** dans la liste déroulante **Source de données**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-284">In the **Properties** pane of the [Import Data module](https://msdn.microsoft.com/library/azure/dn905997.aspx), select **Azure SQL Database** from the **Data Source**     dropdown list.</span></span>
2. <span data-ttu-id="e41c5-285">Dans la zone de texte **Nom du serveur de base de données**, entrez `tcp:<DNS name of your virtual machine>,1433`</span><span class="sxs-lookup"><span data-stu-id="e41c5-285">In the **Database server name** text box, enter `tcp:<DNS name of your virtual machine>,1433`</span></span>
3. <span data-ttu-id="e41c5-286">Entrez le nom d’utilisateur SQL dans la zone de texte **Nom de compte d’utilisateur du serveur** .</span><span class="sxs-lookup"><span data-stu-id="e41c5-286">Enter the SQL user name in the **Server user account name** text box.</span></span>
4. <span data-ttu-id="e41c5-287">Entrez le mot de passe de l’utilisateur SQL dans la zone de texte **Mot de passe de compte d’utilisateur du serveur** .</span><span class="sxs-lookup"><span data-stu-id="e41c5-287">Enter the sql user's password in the **Server user account password** text box.</span></span>
   
   ![Importation de données Azure Machine Learning][13]

## <span data-ttu-id="e41c5-289"><a name="shutdown"></a>Arrêter et libérer une machine virtuelle inutilisée</span><span class="sxs-lookup"><span data-stu-id="e41c5-289"><a name="shutdown"></a>Shutdown and deallocate virtual machine when not in use</span></span>
<span data-ttu-id="e41c5-290">Le service Azure Virtual Machines est facturé au tarif du **paiement à l’utilisation**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-290">Azure Virtual Machines are priced as **pay only for what you use**.</span></span> <span data-ttu-id="e41c5-291">Pour vous assurer que vous n’êtes pas facturé lorsque vous n’utilisez pas votre machine virtuelle, cette dernière doit être définie sur l’état **Arrêté (désalloué)** .</span><span class="sxs-lookup"><span data-stu-id="e41c5-291">To ensure that you are not being billed when not using your virtual machine, it has to be in the **Stopped (Deallocated)** state.</span></span>

> [!NOTE]
> <span data-ttu-id="e41c5-292">Si vous arrêtez la machine virtuelle depuis cette dernière (à l’aide des options d’alimentation Windows), la machine virtuelle est arrêtée, mais reste allouée.</span><span class="sxs-lookup"><span data-stu-id="e41c5-292">Shutting down the virtual machine from inside (using Windows power options), the VM is stopped but remains allocated.</span></span> <span data-ttu-id="e41c5-293">Pour obtenir l’assurance que vous ne continuerez pas à être facturé, arrêtez toujours les machines virtuelles à partir du [portail Azure Classic](http://manage.windowsazure.com/).</span><span class="sxs-lookup"><span data-stu-id="e41c5-293">To ensure you’re not being billed, always stop virtual machines from the [Azure Classic Portal](http://manage.windowsazure.com/).</span></span> <span data-ttu-id="e41c5-294">Vous pouvez également arrêter la machine virtuelle par le biais de Powershell en appelant ShutdownRoleOperation avec « PostShutdownAction » défini sur « StoppedDeallocated ».</span><span class="sxs-lookup"><span data-stu-id="e41c5-294">You can also stop the VM through Powershell by calling ShutdownRoleOperation with "PostShutdownAction" equal to "StoppedDeallocated".</span></span>
> 
> 

<span data-ttu-id="e41c5-295">Pour arrêter et libérer la machine virtuelle :</span><span class="sxs-lookup"><span data-stu-id="e41c5-295">To shutdown and deallocate the virtual machine:</span></span>

1. <span data-ttu-id="e41c5-296">Connectez-vous au [portail Azure Classic](http://manage.windowsazure.com/) avec votre compte.</span><span class="sxs-lookup"><span data-stu-id="e41c5-296">Log in to the [Azure Classic Portal](http://manage.windowsazure.com/) using your account.</span></span>  
2. <span data-ttu-id="e41c5-297">Sélectionnez **MACHINES VIRTUELLES** dans la barre de navigation gauche.</span><span class="sxs-lookup"><span data-stu-id="e41c5-297">Select **VIRTUAL MACHINES** from the left navigation bar.</span></span>
3. <span data-ttu-id="e41c5-298">Dans la liste des machines virtuelles, cliquez sur le nom de votre machine virtuelle, puis accédez à la page **TABLEAU DE BORD** .</span><span class="sxs-lookup"><span data-stu-id="e41c5-298">In the list of virtual machines, click on the name of your virtual machine then go to the **DASHBOARD** page.</span></span>
4. <span data-ttu-id="e41c5-299">Au bas de la page, cliquez sur **ARRÊT**.</span><span class="sxs-lookup"><span data-stu-id="e41c5-299">At the bottom of the page, click **SHUTDOWN**.</span></span>

![Arrêt de la machine virtuelle][15]

<span data-ttu-id="e41c5-301">Cette opération libère la machine virtuelle, mais ne la supprime pas.</span><span class="sxs-lookup"><span data-stu-id="e41c5-301">The virtual machine will be deallocated but not deleted.</span></span> <span data-ttu-id="e41c5-302">Vous pouvez redémarrer votre machine virtuelle à tout moment à partir du portail Azure Classic.</span><span class="sxs-lookup"><span data-stu-id="e41c5-302">You may restart your virtual machine at any time from the Azure Classic Portal.</span></span>

## <a name="your-azure-sql-server-vm-is-ready-to-use-whats-next"></a><span data-ttu-id="e41c5-303">Étapes suivantes une fois votre machine virtuelle Azure SQL Server prête à être utilisée</span><span class="sxs-lookup"><span data-stu-id="e41c5-303">Your Azure SQL Server VM is ready to use: what's next?</span></span>
<span data-ttu-id="e41c5-304">Votre machine virtuelle est désormais prête à l’emploi dans vos exercices de science des données.</span><span class="sxs-lookup"><span data-stu-id="e41c5-304">Your virtual machine is now ready to use in your data science exercises.</span></span> <span data-ttu-id="e41c5-305">Cette machine est également utilisable sous la forme d’un serveur Notebook IPython pour l’exploration et le traitement des données, ainsi que pour l’exécution d’autres tâches avec Azure Machine Learning et le processus TDSP (Team Data Science Process).</span><span class="sxs-lookup"><span data-stu-id="e41c5-305">The virtual machine is also ready for use as an IPython Notebook server for the exploration and processing of data, and other tasks in conjunction with Azure Machine Learning and the Team Data Science Process (TDSP).</span></span>

<span data-ttu-id="e41c5-306">Les étapes suivantes du processus de science des données sont présentées dans le [processus TDSP (Team Data Science Process)](https://azure.microsoft.com/documentation/learning-paths/cortana-analytics-process/) et peuvent inclure des étapes de déplacement, de traitement et d’échantillonnage des données dans HDInsight en vue d’en extraire de l’information pertinente avec Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="e41c5-306">The next steps in the data science process are mapped in the [Team Data Science Process](https://azure.microsoft.com/documentation/learning-paths/cortana-analytics-process/) and may include steps that move data into HDInsight, process and sample it there in preparation for learning from the data with Azure Machine Learning.</span></span>

[1]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/selectsqlvmimg.png
[2]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/4vm-config.png
[3]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/sqlvmports.png
[4]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/vmpostopts.png
[5]:./media/machine-learning-data-science-setup-sql-server-virtual-machine/searchssms.png
[6]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/19connect-to-server.png
[7]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/20server-properties.png
[8]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/21mixed-mode.png
[9]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/22restart2.png
[10]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/23new-login.png
[11]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/24test-login.png
[12]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/25sysadmin.png
[13]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/amlreader.png
[15]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/vmshutdown.png

