---
title: "Maintenance prédictive dans l’industrie aérospatiale avec Azure - Modèle de solution Cortana Intelligence | Microsoft Docs"
description: "Modèle de solution avec Microsoft Cortana Intelligence pour la maintenance prédictive dans les secteurs de l’aérospatial, des services publics et du transport."
services: cortana-analytics
documentationcenter: 
author: fboylu
manager: jhubbard
editor: cgronlun
ms.assetid: 2e8b66db-91eb-432b-b305-6abccca25620
ms.service: cortana-analytics
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/14/2017
ms.author: fboylu
ms.openlocfilehash: da7826c49c3548600187956908f5369cc4891065
ms.sourcegitcommit: 4ac89872f4c86c612a71eb7ec30b755e7df89722
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/07/2017
---
# <a name="cortana-intelligence-solution-template-playbook-for-predictive-maintenance-in-aerospace-and-other-businesses"></a>Manuel d’utilisation du modèle de solution Cortana Intelligence pour la maintenance prédictive dans l’industrie aérospatiale et d’autres secteurs d’activité
## <a name="executive-summary"></a>Résumé
La maintenance prédictive est l’une des applications d’analyse prédictive les plus demandées car elle offre des avantages indéniables, notamment en termes de coûts. Ce manuel a pour objectif de fournir une référence pour les solutions de maintenance prédictive en mettant l’accent sur les principaux cas d’usage.
Il présente au lecteur les scénarios d’entreprise les plus courants, les problèmes à résoudre dans le cadre de ces solutions, les données nécessaires pour résoudre ces problèmes, les techniques de modélisation prédictive permettant de créer des solutions à l’aide de ces données, les meilleures pratiques à adopter, ainsi que des exemples d’architectures de solutions.
Il décrit également les caractéristiques des modèles prédictifs développés, telles que l’ingénierie des caractéristiques, le développement de modèle et l’évaluation des performances. Ce manuel contient des instructions liées aux analyses et aux activités professionnelles nécessaires pour réussir le développement et le déploiement de solutions de maintenance prédictive. Ces instructions ont pour but d’aider le lecteur à créer une solution initiale à l’aide de la suite Cortana Intelligence, plus spécifiquement avec Azure Machine Learning comme point de départ de la stratégie de maintenance prédictive à long terme. Vous trouverez la documentation concernant la suite Cortana Intelligence et Azure Machine Learning sur les pages [Cortana Analytics](http://www.microsoft.com/server-cloud/cortana-analytics-suite/overview.aspx) et [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/).

> [!TIP]
> Pour obtenir des conseils techniques pour l’implémentation de ce modèle de solution, consultez le [Guide technique du modèle de solution Cortana Intelligence pour la maintenance prédictive](cortana-analytics-technical-guide-predictive-maintenance.md).
> Pour télécharger un diagramme qui fournit une vue d’ensemble architecturale de ce modèle, consultez [Architecture du modèle de solution Cortana Intelligence pour la maintenance prédictive](cortana-analytics-architecture-predictive-maintenance.md).
> 
> 

## <a name="playbook-overview-and-target-audience"></a>Vue d’ensemble du manuel et public ciblé
Ce manuel est organisé de façon à être utile à la fois à des techniciens chevronnés et à un public moins averti, ayant des connaissances et des intérêts divers en matière de maintenance prédictive. Il traite d’une manière générale des différents types de solutions de maintenance prédictive et explique en détail comment les implémenter. Son contenu est équilibré pour satisfaire à la fois les besoins de ceux qui souhaitent simplement comprendre l’espace de solution et le type d’applications, ainsi que ceux qui cherchent à mettre en œuvre ces solutions et sont donc intéressés par les détails techniques.

La plupart du contenu de ce manuel ne suppose pas une connaissance ou un savoir-faire préalable en science des données Toutefois, certaines parties nécessitent une certaine familiarité avec les concepts de science des données pour pouvoir suivre les détails d’implémentation. Des compétences élémentaires en science des données sont nécessaires pour tirer pleinement parti du contenu de ces sections.

La première moitié du manuel contient une introduction aux applications de maintenance prédictive, explique comment qualifier une solution de maintenance prédictive, présente une collection de cas d’usage courants avec les détails du problème professionnel, les données entourant ces cas d’usage et les avantages professionnels offerts par l’implémentation de ces solutions de maintenance prédictive. Ces sections ne nécessitent aucune connaissance technique dans le domaine de l’analyse prédictive.

Dans la deuxième partie du manuel, nous abordons les types de techniques de modélisation prédictive pour les applications de maintenance prédictive et l’implémentation de ces modèles à travers des exemples de cas d’usage décrits dans la première partie du manuel. Nous examinerons les étapes de prétraitement des données telles que l’étiquetage des données et l’ingénierie des caractéristiques, la sélection du modèle, l’apprentissage et les tests, ainsi que les meilleures pratiques pour l’évaluation des performances. Ces sections sont destinées à un public plus averti.

## <a name="predictive-maintenance-in-iot"></a>Maintenance prédictive dans IoT
L’impact des temps d’arrêt non planifiés de l’équipement peut être extrêmement destructeur pour les entreprises. Il est essentiel de maintenir les équipements opérationnels afin d’optimiser les performances et l’utilisation, et de réduire les temps d’arrêt non planifiés et coûteux. De nos jours, le fait d’attendre qu’une défaillance se produise n’est pas économiquement viable. Pour rester compétitives, les sociétés recherchent de nouvelles méthodes pour optimiser les performances des équipements en utilisant les données collectées à partir de différents canaux. L’une des principales manières d’analyser ces informations consiste à utiliser des techniques d’analyse prédictive qui utilisent des modèles historiques pour prédire les futurs résultats. Parmi ces solutions, la plus populaire est appelée Maintenance prédictive. On peut généralement la définir comme le fait de prédire le risque de défaillance d’un équipement dans un avenir proche. Ainsi, les équipements peuvent être analysés pour identifier les défaillances de manière proactive et agir avant qu’elles ne se produisent. Ces solutions détectent les modèles de défaillance pour déterminer les équipements qui courent le plus grand risque de défaillance. Cette identification précoce des problèmes aide à déployer des ressources de maintenance limitées de façon plus économique et à améliorer la qualité et les processus de la chaîne d’approvisionnement.

Avec l’avènement des applications Internet des Objets (IoT), la maintenance prédictive est l’objet d’une attention croissante, la collecte de données et les technologies de traitement ayant suffisamment évolué pour générer, transmettre, stocker et analyser toutes sortes de données par lots ou en temps réel. Ces technologies facilitent le développement et le déploiement de solutions de bout en bout avec des solutions d’analyse avancées, les solutions de maintenance prédictive fournissant sans doute les avantages les plus conséquents.

Les problèmes d’entreprise entrant dans le cadre de la maintenance prédictive vont des risques opérationnels élevés dus à des défaillances inattendues aux connaissances limitées des causes initiales des problèmes dans les environnements d’entreprise complexes. Pour la plupart de ces problèmes, on peut se poser les questions suivantes :

* Qu’est la probabilité qu’un équipement subisse une défaillance dans un avenir proche ?
* Quelle est la durée de vie restante de l’équipement ?
* Quelles sont les causes des défaillances et quelles actions de maintenance faut-il effectuer pour résoudre ces problèmes ?

En utilisant la maintenance prédictive pour répondre à ces questions, les entreprises peuvent :

* Réduire les risques opérationnels et augmenter le taux de rendement des actifs en identifiant les défaillances potentielles avant qu’elles se produisent
* Réduire les opérations de maintenance périodique inutiles et contrôler les coûts de maintenance
* Améliorer l’image de marque globale, éliminer la mauvaise publicité et les manques à gagner dus à la lassitude des clients
* Réduire l’évaluation des stocks en diminuant les niveaux de stock grâce à la prédiction du seuil de réapprovisionnement
* Découvrir les modèles liés à différents problèmes de maintenance

Les solutions de maintenance prédictive peuvent fournir aux entreprises des indicateurs de performance clés tels que des scores d’intégrité pour surveiller la condition des équipements en temps réel, une estimation de la durée de vie restante des équipements, et une recommandation quant aux activités de maintenance proactive et aux dates de commande estimées pour les pièces de rechange.

## <a name="qualification-criteria-for-predictive-maintenance"></a>Critères de qualification pour la maintenance prédictive
Il est important de souligner que les cas d’usage ou les problèmes d’entreprise ne peuvent pas tous être résolus efficacement par la maintenance prédictive. Voici quelques critères de qualification importants : le problème est-il prédictif par nature ? Existe-t-il un chemin d’actions clair pour éviter les défaillances quand elles sont détectées au préalable et, plus important encore, des données d’une qualité suffisante sont-elles disponibles pour prendre en charge le cas d’usage ? Ici, nous nous concentrons sur les données requises pour la création d’une solution de maintenance prédictive efficace.

Lors de la création de modèles prédictifs, nous utilisons des données historiques pour former le modèle, qui peut alors reconnaître les tendances cachées et identifier ces tendances dans les données ultérieures. Ces modèles sont formés avec des exemples décrits par leurs caractéristiques et la cible de prédiction. Il est prévu que le modèle formé effectue des prédictions sur la cible en examinant uniquement les caractéristiques des nouveaux exemples. Il est essentiel que le modèle capture la relation entre les caractéristiques et la cible de prédiction. Pour former un modèle d’apprentissage automatique efficace, nous avons besoin de données d’apprentissage qui incluent des caractéristiques qui ont réellement une capacité prédictive envers la cible de prédiction, ce qui signifie que les données doivent être adaptées à l’objectif de prédiction si l’on souhaite obtenir des prédictions précises.

Par exemple, si l’objectif consiste à prédire des défaillances de roues de train, les données d’apprentissage doivent contenir des caractéristiques en rapport avec les roues (par exemple, télémétrie reflétant l’intégrité des roues, kilométrage, charge de voiture, etc.). En revanche, si l’objectif consiste à prédire des défaillances des moteurs de train, nous aurons probablement besoin d’un autre jeu de données d’apprentissage ayant des caractéristiques en rapport avec le moteur. Avant de générer des modèles prédictifs, l’expert au sein de l’entreprise doit comprendre la spécification liée à la pertinence des données et disposer du domaine de connaissances nécessaire pour sélectionner des sous-ensembles de données pertinents pour l’analyse.

Nous recherchons trois sources de données essentielles quand nous souhaitons déterminer si un problème d’entreprise est adapté à une solution de maintenance prédictive :

1. Historique des défaillances : en règle générale, dans les applications de maintenance prédictive, les événements de défaillances sont très rares. Toutefois, lors de la conception de modèles prédictifs qui prédisent les défaillances, l’algorithme doit apprendre le modèle de fonctionnement normal, ainsi que le modèle de défaillance, par le biais du processus d’apprentissage. Il est donc essentiel que les données d’apprentissage contiennent un nombre suffisant d’exemples dans les deux catégories, afin d’apprendre ces deux modèles différents. Pour cette raison, il faut que les données présentent un nombre suffisant d’événements de défaillances. Vous pouvez trouver des événements de défaillances dans les enregistrements de maintenance et dans l’historique de remplacement de pièces, et vous pouvez utiliser les anomalies dans les données d’apprentissage comme défaillances identifiées par les experts du domaine.
2. Historique de maintenance ou de réparation : l’une des principales sources de données pour les solutions de maintenance prédictive est l’historique de maintenance détaillé de l’équipement contenant des informations sur les composants remplacés, les actions de maintenance préventive effectuées, et ainsi de suite. Vous devez absolument capturer ces événements, car ils affectent les modèles de dégradation. Leur absence générerait des résultats trompeurs.
3. Conditions de la machine : pour prévoir le nombre de jours (heures, kilomètres, transactions, etc.) qui s’écouleront avant qu’une défaillance de la machine se produise, nous partons du principe que l’intégrité de la machine se dégrade au fur et à mesure de son fonctionnement. Par conséquent, nous prévoyons que les données contiendront des caractéristiques variant avec le temps qui capturent ce modèle de vieillissement et toute anomalie entraînant une dégradation. Dans les applications IoT, les données de télémétrie de différents capteurs représentent un bon exemple. Pour prédire si une machine va subir une défaillance dans un laps de temps spécifique, dans l’idéal les données doivent capturer les tendances de dégradation durant ce laps de temps avant que l’événement de défaillance se produise réellement.

En outre, nous avons besoin de données qui sont en rapport direct avec les conditions de fonctionnement de l’équipement cible de la prédiction. La décision quant à la cible est basée sur la disponibilité des données et sur les besoins métier. Si l’on poursuit avec notre exemple de prédiction de défaillance des roues de train, nous pouvons prédire « si la roue va subir une défaillance » ou « si le train entier va subir une défaillance ». La première prédiction cible un composant spécifique, alors que la seconde cible la défaillance du train. La seconde prédiction répond à une question plus générale qui nécessite des éléments de données beaucoup plus dispersés que la première, ce qui rend plus difficile la génération d’un modèle. À l’inverse, tenter de prédire des défaillances de roues simplement en examinant les données de condition globales du train peut ne pas être possible, car elles ne contiennent pas d’informations au niveau du composant. En général, il est plus judicieux de prédire des événements de défaillances spécifiques que des événements plus généraux.

L’une des questions les plus courantes concernant les données d’historique de défaillances est la suivante : « Combien d’événements de défaillances sont nécessaires pour former un modèle et quel est le nombre considéré comme « suffisant » ? Il n’existe aucune réponse nette à cette question, car dans de nombreux scénarios d’analyse prédictive, c’est généralement la qualité des données qui détermine ce qui est acceptable. Si le jeu de données ne comprend pas de caractéristiques pertinentes pour la prédiction de défaillance, alors même s’il existe de nombreux événements de défaillances, générer un bon modèle peut être impossible. Toutefois, en règle générale, plus les événements de défaillances sont nombreux, meilleur est le modèle. L’estimation approximative du nombre d’exemples de défaillances nécessaires est une mesure qui dépend beaucoup du contexte et des données. Ce problème est abordé dans la section sur la gestion des jeux de données déséquilibrés, dans laquelle nous proposons des solutions quand le nombre de défaillances disponibles est insuffisant.

## <a name="sample-use-cases"></a>Exemples de cas d’utilisation
Cette section est axée sur une collection de cas d’usage de maintenance prédictive dans divers secteurs tels que l’aéronautique, la fourniture de services et le transport. Chaque sous-section examine les cas d’usage collectés dans ces domaines et décrit le problème, les données sous-jacentes au problème et les avantages offerts par une solution de maintenance prédictive.

### <a name="aerospace"></a>Aéronautique
#### <a name="use-case-1-flight-delay-and-cancellations"></a>Cas d’usage 1 : retards et annulations de vols
##### <a name="business-problem-and-data-sources"></a>*Problème et sources de données*
Les coûts importants associés aux retards de vols dus à des problèmes mécaniques sont l’un des problèmes majeurs auxquels font face les compagnies aériennes. Si les défaillances mécaniques ne peuvent pas être réparées, les vols risquent même d’être annulés. Ceci est très coûteux, car les retards génèrent des problèmes de planification et d’exploitation, donnent mauvaise réputation et provoquent le mécontentement de la clientèle, ainsi que de nombreux autres problèmes. Les compagnies aériennes sont particulièrement intéressées par la prédiction de ces défaillances mécaniques, car elles peuvent ainsi réduire les retards ou les annulations de vols. L’objectif de la solution de maintenance prédictive est dans ces cas-là de prédire la probabilité qu’un avion soit retardé ou annulé, sur la base de sources de données pertinentes telles que l’historique de maintenance et les informations sur les itinéraires des vols. Les deux principales sources de données pour ce cas d’usage sont les segments de vol et les journaux d’entretien. Les données de segments de vols comprennent des détails sur les itinéraires des vols tels que la date et l’heure de départ et d’arrivée, les aéroports de départ et d’arrivée, etc. Les données des journaux de maintenance contiennent une série de codes d’erreur et de codes de maintenance qui sont consignés par le personnel de maintenance.

##### <a name="business-value-of-the-predictive-model"></a>*Valeur métier du modèle prédictif*
À l’aide des données d’historique disponibles, nous avons créé un modèle prédictif à l’aide d’un algorithme multi-classification qui prédit le type de problème mécanique entraînant un retard ou l’annulation d’un vol dans les prochaines 24 heures. Grâce à cette prédiction, vous pouvez entreprendre les actions de maintenance nécessaires pour atténuer le risque, pendant les phases de maintenance d’un avion, et éviter ainsi les éventuels retards ou annulations. À l’aide du service web Azure Machine Learning, vous pouvez intégrer facilement et de manière transparente les modèles prédictifs dans les plateformes de système d’exploitation existantes des compagnies aériennes. 

#### <a name="use-case-2-aircraft-component-failure"></a>Cas d’usage 2 : défaillance d’une pièce d’avion
##### <a name="business-problem-and-data-sources"></a>*Problème et sources de données*
Les moteurs d’avion sont des équipements très sensibles et coûteux, et les remplacements de pièces de moteurs figurent parmi les tâches de maintenance les plus courantes dans l’industrie aéronautique. Les solutions de maintenance pour les compagnies aériennes nécessitent une gestion soigneuse de la disponibilité, de la livraison et de la planification des pièces. La possibilité de recueillir des informations sur la fiabilité des pièces permet de réduire sensiblement les coûts d’investissement. La source de données principale pour ce cas d’usage sont les données de télémétrie recueillies à partir de plusieurs capteurs situés dans l’avion, qui fournissent des informations sur son état. Des enregistrements de maintenance ont été également utilisés pour identifier quand se sont produits des défaillances de pièces et quand des remplacements ont été effectués.

##### <a name="business-value-of-the-predictive-model"></a>Valeur métier du modèle prédictif
Nous avons créé un modèle de classification multiclasse qui prédit la probabilité de défaillance due à une certaine pièce au cours du mois à venir. Grâce à ces solutions, les compagnies aériennes peuvent réduire les coûts de réparation des pièces, améliorer la disponibilité des pièces, réduire les niveaux de stocks des biens associés et améliorer la planification de la maintenance.

### <a name="utilities"></a>Services
#### <a name="use-case-1-atm-cash-dispense-failure"></a>Cas d’usage 1 : défaillance d’un distributeur automatique de billets
##### <a name="business-problem-and-data-sources"></a>*Problème et sources de données*
Les dirigeants des sociétés exploitant de nombreux biens déclarent souvent que le principal risque opérationnel pour leurs activités est la défaillance inattendue de leurs biens. Par exemple, dans le secteur bancaire, la défaillance d’équipements tels que des distributeurs automatiques de billets est un problème qui se produit fréquemment. Ces types de problèmes rendent les solutions de maintenance prédictive très souhaitables pour les exploitants de ces machines. Dans ce cas d’usage, le problème de prédiction consiste à calculer la probabilité qu’une transaction de retrait de billets dans un distributeur soit interrompue en raison d’une défaillance du distributeur (due par exemple à un bourrage papier ou une panne de pièce). Dans ce cas, les principales sources de données sont les capteurs qui recueillent des mesures pendant la distribution de billets et les enregistrements de maintenance recueillis au fil du temps. Les données des capteurs incluent des mesures pour chaque transaction effectuée et pour chaque billet distribué. Les mesures des capteurs fournissent des données telles que l’espace entre les billets, l’épaisseur des billets, la distance d’arrivée du billet, etc. Les données de maintenance incluent des codes d’erreur et des informations de réparation. Ces données servent à identifier les cas de défaillances.

##### <a name="business-value-of-the-predictive-model"></a>*Valeur métier du modèle prédictif*
Nous avons généré deux modèles prédictifs pour prédire les défaillances lors des transactions de retrait de billets et les défaillances liées aux billets délivrés durant une transaction. Le fait de pouvoir prédire les défaillances de transactions en amont permet d’effectuer des opérations d’entretien proactives des distributeurs afin de prévenir ces défaillances. En outre, avec la prédiction des défaillances liées aux billets, si une transaction est susceptible d’échouer avant qu’elle se termine en raison d’une défaillance de distribution des billets, il peut être préférable d’arrêter le processus et d’avertir le client qu’une transaction est incomplète, au lieu d’attendre que le service de maintenance arrive après que l’erreur s’est produite, ce qui peut entraîner une insatisfaction plus importante du client.

#### <a name="use-case-2-wind-turbine-failures"></a>Cas d’usage 2 : Défaillances d’une éolienne
##### <a name="business-problem-and-data-sources"></a>*Problème et sources de données*
Avec l’accroissement des préoccupations environnementales, les éoliennes sont devenues une des principales sources de production d’énergie. Leur coût atteint généralement plusieurs millions d’euros. Un des principaux composants des éoliennes est le moteur du générateur, qui est équipé de nombreux capteurs permettant de surveiller l’état et les conditions de la turbine. Les lectures des capteurs contiennent des informations importantes qui peuvent être utilisées pour créer un modèle prédictif permettant de prédire des indicateurs de performance clés (KPI) critiques, comme le temps moyen entre deux pannes pour les composants de l’éolienne. Les données de ce cas d’usage proviennent de plusieurs éoliennes qui se trouvent à trois emplacements différents de la ferme. Les mesures de près d’une centaine de capteurs provenant de chaque turbine ont été enregistrées toutes les 10 secondes pendant un an. Ces relevés comprennent des mesures comme la température, la vitesse du générateur, la puissance de la turbine et le vent générateur.

##### <a name="business-value-of-the-predictive-model"></a>*Valeur métier du modèle prédictif*
Les modèles prédictifs ont été conçus pour estimer la durée de vie utile restante des générateurs et des capteurs de température. En prédisant la probabilité des défaillances, les techniciens de maintenance peuvent se concentrer sur les turbines suspectes qui sont susceptibles de subir une défaillance prochainement, de façon à compléter les schémas de maintenance basés sur le temps.
En outre, les modèles prédictifs apportent des informations sur le niveau de contribution de différents facteurs à la probabilité d’une défaillance, ce qui vous permet d’avoir une meilleure compréhension de la cause des problèmes.

#### <a name="use-case-3-circuit-breaker-failures"></a>Cas d’usage 3 : défaillances des coupe-circuits
##### <a name="business-problem-and-data-sources"></a>*Problème et sources de données*
Les activités liées à l’électricité et au gaz qui impliquent la génération, la distribution et la vente d’énergie électrique nécessitent une maintenance importante afin de s’assurer que les lignes électriques sont opérationnelles en permanence pour garantir la livraison de l’énergie aux ménages. Les défaillances liées à ces opérations sont critiques, car presque toutes les entités sont affectées par les problèmes d’énergie dans les régions où ils se produisent. Les coupe-circuits sont critiques pour ces opérations, car ils constituent un élément d’équipement qui coupe le courant électrique en cas de problèmes et de court-circuits pour éviter tout dommage aux lignes électriques. Le problème pour ce cas d’usage consiste à prédire les défaillances des coupe-circuits à partir des journaux de maintenance, de l’historique des commandes et des spécifications techniques.

Les trois sources de données principales pour ce cas sont : les journaux de maintenance, qui comprennent des actions correctives, préventives et systématiques ; les données opérationnelles, qui comprennent les commandes automatiques et manuelles envoyées aux coupe-circuits, comme les actions d’ouverture et de fermeture ; les données des spécifications techniques sur chaque coupe-circuit, comme l’année de fabrication, l’emplacement, le modèle, etc.

##### <a name="business-value-of-the-predictive-model"></a>*Valeur métier du modèle prédictif*
Les solutions de maintenance prédictive permettent de réduire les coûts de réparation et d’augmenter le cycle de vie des équipements comme les coupe-circuits. Ces modèles vous permettent également d’améliorer la qualité du réseau électrique, car les modèles génèrent des avertissements de façon anticipée, ce qui réduit les défaillances inattendues, conduisant à un nombre moins important d’interruptions de service.

#### <a name="use-case-4-elevator-door-failures"></a>Cas d’usage 4 : défaillances des portes d’ascenseur
##### <a name="business-problem-and-data-sources"></a>*Problème et sources de données*
La plupart des grands fournisseurs d’ascenseurs ont généralement des millions d’ascenseurs en cours de fonctionnement dans le monde entier. Pour obtenir un avantage concurrentiel, elles se concentrent sur la fiabilité, qui est l’élément le plus important pour leurs clients. En s’appuyant sur le potentiel de l’Internet des objets, en connectant leurs ascenseurs au cloud et en collectant des données auprès des capteurs et des systèmes des ascenseurs, elles sont en mesure de transformer les données en connaissances afin d’améliorer considérablement le fonctionnement des appareils, en offrant une maintenance prédictive et préventive, qui n’est pas encore disponible auprès de leurs concurrents. Le besoin métier pour ce cas consiste à fournir une application prédictive de base de connaissances qui prédit les causes potentielles des défaillances des portes. Les données requises pour cette implémentation sont composées de trois parties, qui sont les caractéristiques statiques des ascenseurs (par exemple les identificateurs, la fréquence de la maintenance contractuelle, le type de construction, etc.), les informations d’utilisation (le nombre de cycles des portes, le temps moyen de fermeture des portes, etc.) et l’historique des défaillances (c’est-à-dire l’historique des enregistrements des défaillances et leurs causes).

Un modèle de régression logistique multiclasse a été créé avec Azure Machine Learning pour résoudre le problème de prédiction, avec les caractéristiques statiques intégrées et les données d’utilisation comme caractéristiques, et les causes des enregistrements de l’historique des défaillances comme libellés des classes. Ce modèle prédictif est utilisé par une application sur un appareil mobile utilisé par les techniciens du terrain pour les aider à améliorer l’efficacité de leur travail. Quand un technicien va sur un site pour réparer un ascenseur, il peut se référer à cette application pour les causes recommandées et les meilleurs schémas d’actions de maintenance pour résoudre les problèmes des portes d’ascenseur aussi vite que possible.

### <a name="transportation-and-logistics"></a>Transport et logistique
#### <a name="use-case-1-brake-disc-failures"></a>Cas d’utilisation 1 : défaillances de disques de frein
##### <a name="business-problem-and-data-sources"></a>*Problème et sources de données*
Les stratégies de maintenance pour les véhicules incluent généralement de la maintenance préventive et de la maintenance corrective. La maintenance corrective implique que le véhicule soit réparé après la survenance d’une défaillance, ce qui peut entraîner une gêne importante pour le conducteur, résultant d’une défaillance inattendue et du temps perdu à aller chez un garagiste. La plupart des véhicules sont également soumis à une stratégie de maintenance préventive, qui nécessite la réalisation de certains contrôles selon une planification qui ne prend pas en compte la condition réelle des sous-systèmes des voitures. Aucune de ces approches ne réussit à éliminer entièrement les problèmes. Le cas d’utilisation spécifique est ici la prédiction des défaillances des disques de frein sur la base des données collectées via des capteurs installés dans le système pneumatique d’une voiture, qui effectue le suivi de l’historique des modèles de conduite et d’autres conditions auxquelles la voiture est exposée. La source de données la plus importante pour ce cas est constituée des données des capteurs qui mesurent par exemple les accélérations, les modèles de freinage, les distances parcourues, la vitesse, etc. Ces informations, couplées avec d’autres informations statiques comme les caractéristiques de la voiture, permettent de créer un ensemble efficace de prédicteurs qui peut être utilisé dans un modèle prédictif. Un autre ensemble d’informations essentielles est constitué des données des défaillances qui sont déduites à partir de la base de données des commandes de pièces (utilisée pour conserver les dates et les quantités des commandes de pièces de rechange quand les véhicules sont réparés dans les concessions).

##### <a name="business-value-of-the-predictive-model"></a>*Valeur métier du modèle prédictif*
La valeur métier d’une approche prédictive est ici importante. Un système de maintenance prédictive peut planifier une visite chez le concessionnaire sur la base d’un modèle prédictif. Le modèle peut être basé sur des informations provenant des capteurs qui représentent l’état actuel de la voiture et sur l’historique de la conduite. Cette approche peut réduire le risque de défaillance inattendue, qui peut se produire avant la prochaine maintenance périodique.
Elle peut également réduire le nombre d’opérations de maintenance préventive inutiles. Le conducteur peut être informé de façon proactive que le remplacement d’une pièce peut être nécessaire d’ici quelques semaines et il peut communiquer ces informations au concessionnaire. Le concessionnaire peut alors préparer à l’avance un package de maintenance individuel pour le conducteur.

#### <a name="use-case-2-subway-train-door-failures"></a>Cas d’usage 2 : défaillances des portes des rames de métro
##### <a name="business-problem-and-data-sources"></a>*Problème et sources de données*
Une des principales raisons des retards et des problèmes dans le fonctionnement des métros est la défaillance des portes des voitures des rames. Prédire si une voiture peut avoir une défaillance des portes ou être en mesure de prédire le nombre de jours jusqu’à la prochaine défaillance est extrêmement important. Cette prédiction offre la possibilité d’optimiser la maintenance des portes des rames et de réduire leur durée d’indisponibilité.

#### <a name="data-sources"></a>Sources de données
Ce cas d’usage inclut les trois sources de données suivantes : 

* **Données des événements des rames**, qui sont l’historique des événements qui se produisent dans les rames 
* **Données de maintenance** comme les types de maintenance, les types d’ordre de travail et les codes de priorité  
* **Enregistrements des défaillances**

##### <a name="business-value-of-the-predictive-model"></a>*Valeur métier du modèle prédictif*
Deux modèles ont été créés pour prédire d’une part la probabilité des défaillances de la journée suivante en utilisant la classification binaire, et d’autre part le nombre de jours jusqu’à une défaillance, en utilisant une régression. Comme pour les cas précédents, les modèles créent des opportunités formidables d’améliorer la qualité de service et d’accroître la satisfaction des clients en venant en complément des schémas de maintenance normale.

## <a name="data-preparation"></a>Préparation des données
### <a name="data-sources"></a>Sources de données
Les éléments de données courants pour les problèmes de maintenance prédictive peuvent être résumés comme suit :

* Historique des défaillances : historique des défaillances d’une machine ou d’un composant de la machine.
* Historique de maintenance : historique des réparations d’une machine, par exemple les codes d’erreur, les activités de maintenance antérieures ou les remplacements de composants.
* Conditions et utilisation de la machine : conditions de fonctionnement d’une machine, par exemple les données collectées par les capteurs.
* Caractéristiques de la machine : caractéristiques d’une machine, par exemple la taille du moteur, la marque, le modèle et l’emplacement.
* Caractéristiques de l’opérateur : caractéristiques de l'opérateur, par exemple le sexe et l’expérience passée.

Il est possible et fréquent que l’historique des défaillances soit contenu dans l’historique de la maintenance, par exemple sous la forme de codes d’erreur spéciaux ou de dates de commande des pièces de rechange. Dans ce cas, les défaillances peuvent être extraites des données de maintenance. En outre, les différents domaines d’activité peuvent avoir différentes autres sources de données qui influencent des modèles de défaillance qui ne sont pas répertoriés ici de façon exhaustive. Ceux-ci doivent être identifiés en consultant des experts du domaine lors de la création des modèles prédictifs.

Voici quelques exemples de ces éléments de données provenant des cas d’usage :

Historique des défaillances : dates des retards des vols, dates et types des défaillances des composants des avions, échecs des transactions de retrait d’argent des distributeurs, défaillances des portes des rames/ascenseurs, dates des ordres de remplacement des disques de frein, dates des défaillances des éoliennes et défaillances des commandes des coupe-circuits.

Historique de maintenance : journaux d’erreurs des vols, journaux d’erreurs des transactions des distributeurs, enregistrements de maintenance des rames, y compris le type de maintenance, une brève description, etc., et les enregistrements de maintenance des coupe-circuits.

Conditions et utilisation des machines : routes et chronologie des vols, données des capteurs collectées sur les moteurs des avions, lectures des capteurs pour les transactions des distributeurs, données des événements des rames de métro, lectures des capteurs sur les éoliennes, les ascenseurs et les voitures connectées.

Caractéristiques des machines : spécifications techniques des coupe-circuits, comme les niveaux de voltage, l’emplacement géographique ou les caractéristiques des voitures, comme la marque, le modèle, la cylindrée du moteur, les types de pneus, l’usine de fabrication, etc.

Étant donné les sources de données ci-dessus, les deux types de données principaux que nous observons dans le domaine de la maintenance prédictive sont les données temporelles et les données statiques.
L’historique des défaillances, les conditions des machines, l’historique des réparations et l’historique de l’utilisation sont presque toujours fournis avec un horodatage indiquant la date et l’heure de la collecte pour chaque élément de données. Les caractéristiques des machines et des opérateurs sont généralement statiques, dans la mesure où ils décrivent souvent les spécifications techniques des machines ou les propriétés des opérateurs. Il est possible que ces caractéristiques changent au fil du temps et si c’est le cas, elles doivent être traitées comme des sources de données avec un horodatage.

### <a name="merging-data-sources"></a>Fusion des sources de données
Avant de mettre en œuvre un type d’ingénierie des caractéristiques ou un processus d’attribution de libellé, nous devons tout d’abord préparer nos données sous la forme requise pour créer des caractéristiques à partir de celles-ci. L’objectif final est de générer un enregistrement pour chaque unité de temps pour chaque élément, avec ses caractéristiques et ses libellés, pour les injecter dans l’algorithme d’apprentissage. Pour préparer cet ensemble de données nettoyées finales, certaines étapes de prétraitement sont nécessaires. La première étape consiste à diviser la durée de la collecte des données en unités de temps où chaque enregistrement appartient à une unité de temps pour un équipement. La collecte des données peut également être divisée en d’autres unités, comme des actions ; toutefois, par souci de simplification, nous utilisons des unités de temps pour le reste des explications.

L’unité de mesure du temps peut être la seconde, la minute, l’heure, le jour, le mois, le cycle, le kilomètre ou la transaction, en fonction de l’efficacité de la préparation des données et des modifications observées dans les conditions de l’équipement d’une unité de temps à l’autre, ou selon d’autres facteurs spécifiques au domaine. En d’autres termes, l’unité de temps ne doit pas nécessairement être la même que la fréquence de collecte des données, car dans de nombreux cas, les données ne vont pas différer d’une unité à l’autre. Par exemple, si les valeurs de température ont été collectées toutes les 10 secondes, une unité de temps de 10 secondes utilisée pour toute l’analyse augmente le nombre d’exemples sans apporter d’informations supplémentaires. Une meilleure stratégie serait d’utiliser par exemple une moyenne sur une heure.

Voici des exemples de schémas de données génériques pour les sources de données possibles exposées dans la section précédente :

Enregistrements de maintenance : ce sont les enregistrements des actions de maintenance effectuées. Les données de maintenance brutes sont généralement constituées d’un ID d’équipement et d’un horodatage avec des informations sur les activités de maintenance qui ont été effectuées à ce moment-là. Dans ce cas, les activités de maintenance doivent être traduites en colonnes de catégories, chaque catégorie correspondant à un type d’action de maintenance. Le schéma de données de base pour les enregistrements de maintenance va comprendre un ID d’équipement, une date/heure et des colonnes correspondant aux actions de maintenance.

Enregistrements des défaillances : ce sont les enregistrements qui appartiennent à la cible de prédiction, que nous appelons défaillances ou cause des défaillances. Il peut s’agir de codes d’erreur spécifiques ou d’événements de défaillance définis par une condition métier spécifique. Dans certains cas, les données incluent plusieurs codes d’erreur, certains d’entre eux correspondant à des défaillances intéressantes. Toutes les erreurs ne sont pas des cibles de prédiction : les autres erreurs sont généralement utilisées pour construire des caractéristiques qui peuvent être en corrélation avec des erreurs. Le schéma de données de base pour les enregistrements des défaillances va comprendre des colonnes pour l’ID d’équipement, pour la date/heure et pour la défaillance ou pour la cause de la défaillance si elle est disponible.

Conditions de la machine : il s’agit de préférence de données de surveillance en temps réel concernant les conditions d’exploitation des données. Par exemple, pour les défaillances des portes, les moments de l’ouverture et de la fermeture des portes sont de bons indicateurs sur l’état actuel des portes. Le schéma de données de base pour les conditions des machines va comprendre des colonnes avec l’ID de l’équipement, la date/heure et la valeur de la condition.

Données des machines et des opérateurs : les données des machines et des opérateurs peuvent être fusionnées en un seul schéma, pour identifier quel équipement a été utilisé par l’opérateur, ainsi que les propriétés de l’équipement et de l’opérateur. Par exemple, une voiture est généralement la propriété d’un conducteur avec des attributs comme l’âge, l’expérience en matière de conduite, etc. Si ces données changent au fil du temps, elles doivent également inclure une colonne de date/heure et doivent être traitées comme des données variant dans le temps pour la génération des caractéristiques. Le schéma de données de base pour les conditions des machines va comprendre un ID de l’équipement, les caractéristiques de l’équipement, l’ID de l’opérateur et les caractéristiques de l’opérateur.

La table finale avant l’attribution de libellés et la génération des caractéristiques peut être constituée en effectuant une jointure gauche de la table des conditions des machines avec les enregistrements des défaillances sur l’ID de l’équipement et les champs de date/heure. Cette table peut ensuite être jointe avec les enregistrements de maintenance sur les ID des équipements et les champs de date/heure, et enfin avec les caractéristiques des machines et des opérateurs sur les ID des équipements. La première jointure gauche laisse des valeurs null pour la colonne des défaillances quand la machine est en fonctionnement normal : elles peuvent être imputées par une valeur d’indicateur pour un fonctionnement normal. Cette colonne des défaillances est utilisée pour créer des libellés pour le modèle prédictif.

### <a name="feature-engineering"></a>Ingénierie des caractéristiques
La première étape de la modélisation est l’ingénierie des caractéristiques. L’idée de génération des caractéristiques consiste à décrire conceptuellement et à extraire la condition d’intégrité d’une machine à un moment donné en utilisant les données d’historique qui ont été collectées jusqu’à ce point dans le temps. Dans la section suivante, nous fournissons une vue d’ensemble des types de techniques qui peuvent être utilisées pour la maintenance prédictive et comment l’étiquetage est effectué pour chaque technique. La technique qui doit être utilisée dépend des données et du problème métier. Cependant, les méthodes d’ingénierie des caractéristiques décrites ci-dessous peuvent être utilisées comme référence pour la création des caractéristiques. Nous abordons ci-dessous les caractéristiques antérieures correspondantes qui doivent être construites à partir des sources de données qui contiennent un horodatage, ainsi que les caractéristiques statiques créées à partir des sources de données statiques, et nous fournissons des exemples de cas d’usage.

#### <a name="lag-features"></a>Caractéristiques antérieures correspondantes
Comme mentionné précédemment, dans la maintenance prédictive, les données d’historique ont généralement un horodatage indiquant la date/heure de la collecte pour chaque élément de données. Il existe de nombreuses façons de créer des caractéristiques à partir des données fournies avec un horodatage. Dans cette section, nous abordons quelques-unes de ces méthodes utilisées pour la maintenance prédictive. Nous ne sommes cependant pas limités par ces seules méthodes. Étant donné que l’ingénierie des caractéristiques est considérée comme une des phases les plus créatives de la modélisation prédictive, il peut exister de nombreuses autres façons de créer des caractéristiques. Nous vous proposons ici quelques techniques générales.

##### <a name="rolling-aggregates"></a>*Agrégats cumulatifs*
Pour chaque enregistrement d’un équipement, nous choisissons une fenêtre cumulative de taille « W », qui est le nombre d’unités de temps pour lesquelles nous voulons calculer des agrégats historiques. Nous calculons ensuite les caractéristiques des agrégats cumulatifs en utilisant les périodes W avant la date de cet enregistrement. Les compteurs cumulatifs, les moyennes, les écarts types, les valeurs aberrantes selon les écarts types, les mesures CUSUM, les valeurs minimales et maximales pour la fenêtre sont des exemples d’agrégats cumulatifs. Une autre technique intéressante consiste à capturer les changements de tendance, les pics et les changements de niveau en utilisant des algorithmes qui détectent des anomalies dans les données au moyen d’algorithmes de détection d’anomalies.

Pour la démonstration, observez la Figure 1 où nous représentons des valeurs de capteur enregistrées pour un équipement pour chaque unité de temps avec les lignes bleues, et nous marquons le calcul des caractéristiques de la moyenne cumulative pour W=3 pour les enregistrements à t<sub>1</sub> et t<sub>2</sub> qui sont indiqués respectivement par des regroupements orange et verts.

![Figure 1. Caractéristiques des agrégats cumulatifs](./media/cortana-analytics-playbook-predictive-maintenance/rolling-aggregate-features.png)

Figure 1. Caractéristiques des agrégats cumulatifs

Par exemple, pour une défaillance d’un composant d’un avion, les valeurs de capteur pour la dernière semaine, pour les trois derniers jours et pour le dernier jour ont été utilisées pour créer les caractéristiques des moyennes cumulatives, de l’écart type et de la somme. De même, pour les défaillances des distributeurs de billets, les caractéristiques des valeurs de capteur brutes et des moyennes cumulatives, de la moyenne, de la plage, des écarts type, des valeurs aberrantes au-delà de trois écarts types, de la somme cumulative inférieure et supérieure ont été utilisées.

Pour la prédiction des retards de vol, les nombres de codes d’erreur de la dernière semaine ont été utilisés pour créer des caractéristiques. Pour les défaillances des portes des rames de métro, les nombres d’événements du jour précédent, les nombres d’événements des deux semaines précédentes et l’écart des nombres d’événements des 15 derniers jours ont été utilisés pour créer des caractéristiques antérieures correspondantes. Le même comptage a été utilisé pour les événements relatifs à la maintenance.

En outre, en choisissant un W de très grande taille (par exemple des années), il est possible d’examiner tout l’historique d’une ressource comme compter tous les enregistrements de maintenance, les défaillances, etc. jusqu’à la date/heure de l’enregistrement. Cette méthode a été utilisée pour le comptage des défaillances des coupe-circuits pour les trois dernières années. De même, pour les défaillances des rames de métro, tous les événements de maintenance ont été comptés pour créer une caractéristique pour capturer les effets de la maintenance à long terme.

##### <a name="tumbling-aggregates"></a>*Agrégats bascules*
Pour chaque enregistrement étiqueté d’une ressource, nous choisissons une fenêtre de taille « W-<sub>k</sub> » où k est le nombre de fenêtres de taille « W » pour lesquelles nous voulons créer des fonctions de décalage. La valeur de « k » peut être choisie très grande pour capturer les modèles de dégradation à long terme, ou très petite pour capturer les effets à court terme. Nous utilisons ensuite k fenêtres bascules W-<sub>k</sub>, W-<sub>(k-1)</sub>, ..., W-<sub>2</sub>, W-<sub>1</sub> pour créer des caractéristiques d’agrégation pour les périodes précédant la date et l’heure de l’enregistrement (voir Figure 2). Il existe aussi des fenêtres cumulatives au niveau des enregistrements pour une unité de temps qui n’est pas capturée dans la Figure 2, mais l’idée est la même que dans la Figure 1, où t<sub>2</sub> est également utilisé pour illustrer l’effet cumulatif.

![Figure 2 : Caractéristiques des agrégats bascules](./media/cortana-analytics-playbook-predictive-maintenance/tumbling-aggregate-features.png)

Figure 2 : Caractéristiques des agrégats bascules

Par exemple, pour les éoliennes, W=1 et k=3 mois ont été utilisés pour créer des caractéristiques antérieures correspondantes pour chacun des 3 derniers mois en utilisant les valeurs aberrantes la plus haute et la plus basse.

#### <a name="static-features"></a>Caractéristiques statiques
Il s’agit des spécifications techniques de l’équipement, comme la date de fabrication, le numéro de modèle, l’emplacement, etc. Alors que les caractéristiques antérieures correspondantes sont principalement numériques par nature, les caractéristiques statiques deviennent généralement des variables catégoriques dans les modèles. Par exemple, les propriétés des coupe-circuits, comme les spécifications de voltage, de courant et de puissance, ainsi que les types de transformateurs, les sources d’alimentation, etc., ont été utilisées. Pour les défaillances des disques de frein, le type des jantes, alliage ou acier, a été utilisé pour certaines des caractéristiques statiques.

Lors de la génération des caractéristiques, d’autres étapes importantes doivent être effectuées, comme la gestion des valeurs manquantes et la normalisation. Il existe de nombreuses méthodes d’imputation des valeurs manquantes : elles ne sont pas abordées ici, de même que la normalisation des données. Il est cependant avantageux d’essayer différentes méthodes pour voir si une augmentation des performances de la prédiction est possible.

La table finale des caractéristiques après les étapes d’ingénierie des caractéristiques décrites dans la section précédente doit ressembler au schéma de données suivant quand l’unité de temps est une journée :

| ID d’équipement | Temps | Colonnes de caractéristiques | Étiquette |
| --- | --- | --- | --- |
| 1 |Jour 1 | | |
| 1 |Jour 2 | | |
| ... |... | | |
| 2 |Jour 1 | | |
| 2 |Jour 2 | | |
| ... |... | | |

## <a name="modeling-techniques"></a>Techniques de modélisation
La maintenance prédictive est un domaine très riche utilisant souvent des questions métier qui peuvent être abordées sous de nombreux angles différents de la perspective de modélisation prédictive. Dans les sections suivantes, nous fournissons les principales techniques utilisées pour modéliser différentes questions métier auxquelles des solutions de maintenance prédictive peuvent apporter une réponse. Bien qu’il existe des similarités, chaque modèle a sa propre méthode de construction des étiquettes qui sont décrites en détail. Au titre de ressource susceptible de vous aider, vous pouvez vous référer au modèle de maintenance prédictive qui est inclus dans les exemples d'expériences d’Azure Machine Learning. Vous trouverez les liens vers les ressources en ligne pour ce modèle dans la section des ressources. Vous pouvez voir comment certaines des techniques d’ingénierie des caractéristiques décrites plus haut et la technique de modélisation décrite dans les sections suivantes sont appliquées pour prédire les défaillances des moteurs d’avion à l’aide d’Azure Machine Learning.

### <a name="binary-classification-for-predictive-maintenance"></a>Classification binaire pour la maintenance prédictive
La classification binaire pour la maintenance prédictive est utilisée pour prédire la probabilité qu’un équipement connaisse une défaillance dans une période de temps future. La période de temps est déterminée par et basée sur des règles métier, et sur les données disponibles. Certaines périodes de temps utilisées couramment sont le délai minimal requis pour l’achat de pièces de rechange qui sont probablement à remplacer sur les composants endommagés, ou le temps nécessaire pour déployer des ressources de maintenance qui vont exécuter les travaux de maintenance pour résoudre le problème qui se produira probablement dans cette période de temps. Nous appelons « X » cette période correspondant à un horizon futur.

Pour pouvoir utiliser la classification binaire, nous devons identifier deux types d’exemples que nous appelons positif et négatif. Chaque exemple est un enregistrement qui appartient à une unité de temps pour un équipement, qui décrit de façon conceptuelle et extrait ses conditions de fonctionnement jusqu’à cette unité de temps via l’ingénierie des caractéristiques, en utilisant les sources de données historiques et les autres sources de données décrites précédemment. Dans le contexte de la classification binaire pour la maintenance prédictive, le type positif dénote les défaillances (étiquette 1) et le type négatif dénote les fonctionnements normaux (étiquette = 0), où les étiquettes sont de type catégorique. L’objectif est de trouver un modèle identifiant chaque nouvel exemple comme devant probablement échouer ou fonctionner normalement dans les X prochaines unités de temps.

#### <a name="label-construction"></a>Construction des étiquettes
Pour pouvoir créer un modèle prédictif pour répondre à la question « Quelle est la probabilité que l’équipement connaisse une défaillance au cours des X prochaines unités de temps ? », l’étiquetage est effectué en prenant les X enregistrements avant la défaillance d’un équipement et en les étiquetant en tant que « sur le point de connaître une défaillance » (étiquette = 1) alors que tous les autres enregistrements sont étiquetés en tant que « normal » (étiquette = 0). Dans cette méthode, les étiquettes sont des variables catégoriques (voir Figure 3).

![Figure 3. Étiquetage pour la classification binaire](./media/cortana-analytics-playbook-predictive-maintenance/labelling-for-binary-classification.png)

Figure 3. Étiquetage pour la classification binaire

Pour les retards et les annulations de vols, la valeur de X est choisie comme étant une journée, de façon à prédire les retards dans les prochaines 24 heures. Tous les vols qui sont dans les 24 heures avant des défaillances ont été étiquetés 1s. Pour les défaillances des distributeurs de billets, deux modèles de classification binaire ont été créés pour prédire la probabilité de défaillance d’une transaction dans les 10 prochaines minutes et également pour prédire la probabilité de défaillance pour les 100 prochains billets distribués. Toutes les transactions qui se sont produites au cours des 10 dernières minutes de la défaillance sont étiquetées 1 pour le premier modèle. Tous les billets distribués dans les 100 derniers billets d’une défaillance ont été étiquetés 1 pour le second modèle. Pour les défaillances des coupe-circuits, la tâche consiste à prédire la probabilité d’échec de la prochaine commande de coupe-circuit, auquel cas X est choisi pour être une commande future. Pour les défaillances des portes des rames de métro, le modèle de classification binaire a été créé pour prédire des défaillances dans les 7 prochains jours. Pour les défaillances des éoliennes, X a été choisi avec une valeur de 3 mois.

Les cas des éoliennes et des portes des rames de métro sont également utilisés pour l’analyse de régression pour prédire la durée de vie utile restante en utilisant les mêmes données, mais avec une autre stratégie d’étiquetage qui est expliquée dans la section suivante.

### <a name="regression-for-predictive-maintenance"></a>Régression pour la maintenance prédictive
Les modèles de régression sont utilisés dans la maintenance prédictive pour calculer la durée de vie utile restante d’un équipement, qui est définie comme étant le temps pendant lequel l’équipement reste opérationnel avant que la défaillance suivante se produise. Comme dans la classification binaire, chaque exemple est un enregistrement qui appartient à une unité de temps « Y » pour un équipement. Cependant, dans le contexte de la régression, l’objectif est de trouver un modèle qui calcule la durée de vie utile restante de chaque nouvel exemple comme un nombre continu, qui est la période de temps restante avant la défaillance. Nous appelons cette période de temps un certain multiple de Y. Chaque exemple a également une durée de vie utile restante qui peut être calculée en mesurant le temps restant pour cet exemple avant la défaillance suivante.

#### <a name="label-construction"></a>Construction des étiquettes
Étant donné la question « Quelle est la durée de vie utile restante de l’équipement ?
», les étiquettes pour le modèle de régression peuvent être construites en prenant chaque enregistrement avant la défaillance et en les étiquetant en calculant le nombre d’unités de temps restantes avant la défaillance suivante. Dans cette méthode, les étiquettes sont des variables continues (voir Figure 4).

![Figure 4. Étiquetage pour la régression](./media/cortana-analytics-playbook-predictive-maintenance/labelling-for-regression.png)

Figure 4. Étiquetage pour la régression

À la différence de la classification binaire, pour la régression, les équipements sans aucune défaillance dans les données ne peuvent pas être utilisés pour la modélisation, car l’étiquetage est effectué en référence à un point de défaillance et son calcul n’est pas possible sans connaître la durée pendant laquelle l’équipement a fonctionné avant la défaillance. Ce problème est mieux résolu par une autre technique statistique appelée analyse de survie.
Nous n’allons pas aborder l’analyse de survie dans ce manuel en raison des complications potentielles qui peuvent se produire lors de l’application de la technique aux cas d’usage de maintenance prédictive impliquant des données qui varient dans le temps selon des intervalles rapprochés.

### <a name="multi-class-classification-for-predictive-maintenance"></a>Classification multiclasse pour la maintenance prédictive
La classification multiclasse pour la maintenance prédictive peut être utilisée pour prédire deux résultats futurs. Le premier consiste à affecter un équipement à une des différentes périodes de temps possibles pour donner une plage de temps à la défaillance pour chaque équipement. Le second consiste à identifier la probabilité d’une défaillance dans une période de temps future en raison d’une des différentes causes principales. Ceci permet au personnel de maintenance qui a connaissance de ces informations de gérer les problèmes à l’avance. Une autre technique de modélisation multiclasse est destinée à déterminer la cause principale la plus probable d’une défaillance donnée. Ceci permet de faire des recommandations quant aux actions de maintenance prioritaires pour résoudre une défaillance.
En disposant d’une liste ordonnée des causes principales et des actions de réparation associées,  
les techniciens peuvent être plus efficaces dans le choix des réparations à effectuer en priorité après une défaillance.

#### <a name="label-construction"></a>Construction des étiquettes
Étant donné les deux questions qui sont « Quelle est la probabilité qu’un équipement connaisse une défaillance dans les « aZ » prochaines unités de temps, où « a » est le nombre de périodes ? » et « Quelle est la probabilité que l’équipement connaisse une défaillance dans les X prochaines unités de temps en raison du problème « P<sub>i</sub> », où « i » est le nombre de causes principales possibles ? », l’étiquetage est effectué de la façon suivante pour ces techniques.

Pour la première question, l’étiquetage est effectué en prenant aZ enregistrements avant la défaillance d’un équipement et en les étiquetant avec des compartiments de temps (3Z, 2Z, Z), tout en étiquetant les autres enregistrements comme « normal » (étiquette = 0). Dans cette méthode, l’étiquette est une variable catégorique (voir Figure 5).

![Figure 5. Étiquetage pour la classification multiclasse en vue de la prédiction de l’heure de la défaillance](./media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-failure-time-prediction.png)

Figure 5. Étiquetage pour la classification multiclasse en vue de la prédiction de l’heure de la défaillance

Pour la deuxième question, l’étiquetage est effectué en prenant X enregistrements avant la défaillance d’un équipement et de les étiqueter comme « sur le point de connaître une défaillance en raison du problème P<sub>i</sub> » (étiquette = P<sub>i</sub>), tout en étiquetant tous les autres enregistrements comme « normal » (étiquette = 0). Dans cette méthode, les étiquettes sont des variables catégoriques (voir Figure 6).

![Figure 6. Étiquetage pour la classification multiclasse, pour la prédiction de la cause racine](./media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-root-cause-prediction.png)

Figure 6. Étiquetage pour la classification multiclasse, pour la prédiction de la cause racine

Le modèle affecte une probabilité de défaillance en raison de chaque P<sub>i</sub>, ainsi que la probabilité qu’il n’y ait pas de défaillance. Ces probabilités peuvent être classées par ordre de grandeur pour permettre la prédiction des problèmes les plus susceptibles de se produire dans le futur. Le cas d’usage des défaillances des composants d’un avion a été structuré comme un problème de classification multiclasse. Ceci permet la prédiction des probabilités qu’une défaillance due à deux composants différents d’une vanne de pression se produise dans le mois suivant.

Pour la recommandation d’actions de maintenance après des défaillances, l’étiquetage ne requiert pas le choix d’un horizon futur. La raison en est que le modèle ne prédit les défaillances dans le futur, mais qu’il prédit simplement la cause principale la plus probable une fois que la défaillance a déjà eu lieu. Les défaillances des portes d’ascenseur correspondent au troisième cas, où l’objectif est de prédire la cause de la défaillance à partir des données d’historique sur les conditions d’exploitation. Ce modèle est ensuite utilisé pour prédire les causes principales les plus probables une fois que la défaillance s’est produite. Un des avantages principaux de ce modèle est qu’il permet aux techniciens inexpérimentés de diagnostiquer et de résoudre facilement des problèmes dont la résolution nécessiterait sans cela plusieurs années d’expérience.

## <a name="training-validation-and-testing-methods-in-predictive-maintenance"></a>Méthodes d’apprentissage, de validation et de test dans la maintenance prédictive
Dans la maintenance prédictive, de façon similaire à tout autre espace de solution contenant des données horodatées, la routine standard d’apprentissage et de test doit prendre en compte les aspects variables dans le temps afin d’effectuer une meilleure généralisation sur des données futures non connues.

### <a name="cross-validation"></a>Validation croisée
De nombreux algorithmes d’apprentissage automatique dépendent d’un certain nombre d’hyperparamètres qui peuvent changer considérablement les performances d’un modèle. Les valeurs optimales de ces hyperparamètres ne sont pas calculées automatiquement lors de l’apprentissage du modèle, mais doivent être spécifiées par des spécialistes des données. Il existe plusieurs façons de trouver les bonnes valeurs des hyperparamètres. La plus courante est la « validation croisée de k échantillons », qui fractionne les exemples de façon aléatoire en « k » échantillons. Pour chaque ensemble de valeurs des hyperparamètres, l’algorithme d’apprentissage est exécuté k fois. À chaque itération, les exemples de l’échantillon actuel sont utilisés comme jeu de validation, le reste des exemples étant utilisés comme jeu d’apprentissage. L’algorithme apprend sur les exemples d’apprentissage, et les mesures de performance sont calculées sur les exemples de validation. À la fin de cette boucle pour chaque ensemble de valeurs d’hyperparamètres, nous calculons la moyenne des k valeurs des mesures de performance et nous choisissons les valeurs des hyperparamètres qui ont la meilleure performance moyenne.

Comme mentionné précédemment, dans les problèmes de maintenance prédictive, les données sont enregistrées sous la forme d’une série chronologique d’événements provenant de plusieurs sources de données. Ces enregistrements peuvent être classés en fonction du moment de l’étiquetage d’un enregistrement ou d’un exemple. Par conséquent, si nous divisons de façon aléatoire le jeu de données en un jeu d’apprentissage et un jeu de validation, certains exemples d’apprentissage sont postérieurs à certains exemples de validation. Ceci aboutit à l’estimation des performances futures de valeurs d’hyperparamètres sur la base de données correspondant à des moments antérieurs à l’apprentissage du modèle. Ces estimations peuvent être trop optimistes, surtout si les séries chronologiques ne sont pas fixes et changent de comportement au fil du temps. Par conséquent, les valeurs choisies pour les hyperparamètres peuvent ne pas être optimales.

Un meilleur moyen de trouver les bonnes valeurs des hyperparamètres consiste à fractionner les exemples en un jeu d’apprentissage et un jeu de validation d’une façon dépendante du temps, de sorte que tous les exemples de la validation soient postérieurs à tous les exemples de l’apprentissage. Ensuite, pour chaque ensemble de valeurs d’hyperparamètres, nous effectuons l’apprentissage de l’algorithme sur le jeu d’apprentissage, nous mesurons les performances du modèle sur le même jeu de validation et nous choisissons les valeurs des hyperparamètres qui présentent les meilleures performances. Quand les données des séries chronologiques ne sont pas fixes et évoluent au fil du temps, les valeurs des hyperparamètres choisies selon un fractionnement apprentissage/validation conduisent à de meilleures performances futures du modèle que celles choisies de façon aléatoire par validation croisée.

Le modèle final est généré par un algorithme d’apprentissage travaillant sur l’ensemble des données en utilisant les meilleures valeurs pour les hyperparamètres trouvées via le fractionnement apprentissage/validation ou via la validation croisée.

### <a name="testing-for-model-performance"></a>Test des performances du modèle
Après avoir construit un modèle, nous devons estimer ses performances futures sur des nouvelles données. L’estimation la plus simple est peut-être la performance du modèle sur les données d’apprentissage. Mais cette estimation est trop optimiste, étant donné que le modèle est adapté aux données qui sont utilisées pour évaluer la performance. Une meilleure estimation peut être une mesure de la performance des valeurs des hyperparamètres calculées sur le jeu de validation ou une mesure de la performance moyenne calculée à partir de la validation croisée. Mais pour les mêmes raisons que celles indiqués précédemment, ces estimations sont encore trop optimistes. Nous avons besoin d’approches plus réalistes pour mesurer les performances d’un modèle.

Un moyen est de fractionner les données de façon aléatoire en jeux d’apprentissage, de validation et de test. Les jeux d’apprentissage et de validation sont utilisés pour sélectionner des valeurs d’hyperparamètres et pour effectuer l’apprentissage du modèle avec ces valeurs. Les performances du modèle sont mesurées sur le jeu de test.

Un autre moyen qui convient à la maintenance prédictive consiste à fractionner les exemples en jeux d’apprentissage, de validation et de test d’une façon dépendante du temps, de sorte que tous les exemples de test soient postérieurs à tous les exemples d’apprentissage et de validation. Après le fractionnement, les mesures de la génération et des performances du modèle sont identiques à ce qui est décrit plus haut.

Quand les séries chronologiques sont fixes et faciles à prédire, les deux approches génèrent des estimations similaires des performances futures. Cependant, quand les séries chronologiques ne sont pas fixes et/ou sont difficiles à prédire, la deuxième approche va générer une estimation plus réaliste des performances futures que la première.

### <a name="time-dependent-split"></a>Fractionnement temporel
Au titre de meilleure pratique, nous expliquons plus en détails dans cette section comment implémenter un fractionnement dépendant du temps. Nous décrivons un fractionnement bidirectionnel dépendant du temps entre les jeux d’apprentissage et de test. Cependant, exactement la même logique doit être appliquée au fractionnement temporel pour les jeux d’apprentissage et de validation.

Supposons que nous avons un flux d'événements horodatés tels que des mesures de différents capteurs. Les caractéristiques des exemples d’apprentissage et de test, ainsi que leurs étiquettes, sont définies sur des périodes contenant plusieurs événements.
Par exemple, pour la classification binaire, comme le décrivent les sections Ingénierie des caractéristiques et Techniques de modélisation, les caractéristiques sont créées en fonction des événements passés et les étiquettes sont créées en fonction des événements futurs dans « X » unités de temps à venir. Par conséquent, la période d’étiquetage d'un exemple intervient après la période de ses caractéristiques. Pour le fractionnement temporel, nous choisissons un point dans le temps auquel nous développons un modèle avec des hyperparamètres réglés à l’aide des données historiques jusqu’à ce point. Pour empêcher la fuite des étiquettes futures qui dépassent la limite d’apprentissage dans les données d'apprentissage, nous choisissons X unités avant la date limite d’apprentissage comme dernière période pour étiqueter les exemples d’apprentissage. Dans la Figure 7, chaque cercle plein représente une ligne du jeu de données de caractéristiques final pour lequel les caractéristiques et les étiquettes sont calculées à partir de la méthode décrite ci-dessus. À partir de là, la figure illustre les enregistrements qui doivent être placés dans des jeux d’apprentissage et de test pendant l'implémentation du fractionnement temporel pour X = 2 et W = 3 :

![Figure 7. Fractionnement temporel pour la classification binaire](./media/cortana-analytics-playbook-predictive-maintenance/time-dependent-split-for-binary-classification.png)

Figure 7. Fractionnement temporel pour la classification binaire

Les carrés verts représentent les enregistrements appartenant aux unités de temps qui peuvent être utilisées pour l'apprentissage. Comme expliqué précédemment, chaque exemple d’apprentissage dans le tableau de caractéristiques finales est généré en examinant les 3 dernières périodes de génération de caractéristiques et les 2 prochaines périodes d’étiquetage avant la limite quotidienne d’apprentissage. Nous n'utilisons pas d’exemples dans le jeu d’apprentissage si une partie des 2 périodes futures pour cet exemple dépasse la limite d’apprentissage, car nous estimons ne pas avoir de visibilité au-delà de la limite d'apprentissage. En raison de cette contrainte, les exemples en noir représentent les enregistrements du jeu de données étiqueté final qui ne doivent pas être utilisés dans le jeu de données d'apprentissage. Ces enregistrements ne seront pas utilisés dans les données de test, car ils sont situés avant la limite d’apprentissage et que leurs périodes d’étiquetage dépendent partiellement de la période d’apprentissage. Cela ne doit pas être le cas, car nous voulons séparer complètement les périodes d’étiquetage d’apprentissage et de test afin d’éviter les fuites d’informations d’étiquette.

Cette technique permet le chevauchement des données utilisées pour la génération de caractéristiques entre les exemples d’apprentissage et de test qui sont proches de la limite d’apprentissage. En fonction de la disponibilité des données, une séparation encore plus stricte est possible en n'utilisant aucun exemple du jeu de test qui se trouve dans W unités de temps de la limite d’apprentissage.

D’après notre expérience, nous avons découvert que les modèles de régression utilisés pour prévoir la durée de vie utile restante sont plus sévèrement affectés par le problème de fuite et l’utilisation d'un fractionnement aléatoire entraîne un dépassement extrême. De même, dans les problèmes de régression, le fractionnement doit permettre aux enregistrements qui appartiennent aux équipements défaillants avant la limite d’apprentissage d’être utilisés pour le jeu d’apprentissages, et à ceux qui appartiennent aux équipements défaillants après la limite d’apprentissage d’être utilisés pour le jeu de test.

De manière générale, une des meilleures pratiques de fractionnement des données pour l’apprentissage et le test consiste à utiliser un fractionnement par ID d’équipement. De cette façon, aucun équipement utilisé pour l'apprentissage ne l’est pour les tests, car l'idée des tests est de s'assurer qu’en cas de nouvel équipement utilisé pour effectuer des prévisions, le modèle fournisse des résultats réalistes.

### <a name="handling-imbalanced-data"></a>Gestion de données déséquilibrées
Dans les problèmes de classification, s'il y a plus d'exemples pour une classe que pour les autres, les données sont déséquilibrées. Dans l'idéal, nous voulons avoir suffisamment de représentants de chaque classe dans les données d'apprentissage pour pouvoir distinguer les différentes classes. Si une classe représente moins de 10 % des données, les données sont déséquilibrées et le jeu de données sous-représenté est la classe minoritaire. De façon extrême, dans de nombreux cas, les jeux de données sont déséquilibrés quand une classe est nettement sous-représentée par rapport aux autres, par exemple, si elle ne contient que 0,001 % des points de données. Le déséquilibre des classes est un problème dans de nombreux domaines, notamment pour la détection de fraudes, les intrusions sur le réseau et la maintenance prédictive où les défaillances sont généralement rares tout au long de la durée de vie des équipements, ce qui constitue les exemples de la classe minoritaire.

En cas de déséquilibre des classes, les performances de la plupart des algorithmes d’apprentissage standard sont compromises, car ils tendent à minimiser le taux d’erreur global. Par exemple, pour un jeu de données avec 99 % d’exemples de classe négative et 1 % d’exemples de classe positive, nous pouvons obtenir une précision de 99 % en étiquetant simplement toutes les instances comme étant négatives. Toutefois, cela classifie de manière erronée tous les exemples positifs. L’algorithme n’est donc pas utile, même si la mesure de précision est très élevée. Par conséquent, les mesures d'évaluation classiques, telles que la précision globale sur le taux d'erreur, ne sont pas suffisantes en cas d'apprentissage déséquilibré. D’autres mesures, comme la précision, le rappel, les scores F1 et les courbes ROC de coût ajusté, sont utilisées pour les évaluations dans le cadre de jeux de données déséquilibrés. Ce thème est abordé dans la section Mesures d’évaluation.

Toutefois, il existe des méthodes qui permettent de résoudre le problème de déséquilibre des classes. Les deux plus importantes sont les techniques d’échantillonnage et l’apprentissage sensible au coût.

#### <a name="sampling-methods"></a>Méthodes d’échantillonnage
L'utilisation de méthodes d'échantillonnage dans l’apprentissage déséquilibré consiste à modifier le jeu de données par des mécanismes pour obtenir un jeu de données équilibré. Bien qu'il existe un grand nombre de méthodes d'échantillonnage différentes, les plus efficaces sont le suréchantillonnage et le sous-échantillonnage aléatoires.

Pour faire simple, le suréchantillonnage aléatoire consiste à sélectionner un échantillon aléatoire dans la classe minoritaire, à répliquer ces exemples et à les ajouter au jeu de données d’apprentissage. Cela augmente le nombre d'exemples total dans la classe minoritaire et aboutit à l’équilibre du nombre d'exemples dans les différentes classes. L’un des risques du suréchantillonnage est que plusieurs instances de certains exemples entraînent une trop grande spécificité du classifieur, conduisant à un dépassement.
Cela peut se traduire par une haute précision de l’apprentissage, mais aussi par des performances très médiocres sur les données de test non consultées. À l'inverse, le sous-échantillonnage aléatoire consiste à sélectionner un échantillon aléatoire dans la classe majoritaire et à supprimer ces exemples du jeu de données d’apprentissage. Toutefois, la suppression d’exemples dans la classe majoritaire peut aboutir à ce que le classifieur manque d’importants concepts appartenant à la classe majoritaire. L'échantillonnage hybride, selon lequel la classe minoritaire est suréchantillonnée et la classe majoritaire sous-échantillonnée en même temps, est une autre approche viable. De nombreuses autres techniques d'échantillonnage plus sophistiquées sont disponibles et la recherche de méthodes d'échantillonnage efficaces pour le déséquilibre des classes reçoit une attention constante et les contributions de plusieurs canaux. La recherche et l’expérimentation de différentes techniques afin de déterminer les plus efficaces sont des tâches généralement réservées aux scientifiques des données et qui dépendent largement des propriétés des données. Par ailleurs, les méthodes d'échantillonnage doivent être appliquées uniquement au jeu d’apprentissage et non au jeu de test.

#### <a name="cost-sensitive-learning"></a>Apprentissage sensible au coût
Dans la maintenance prédictive, les défaillances qui constituent la classe minoritaire sont plus intéressantes que les exemples normaux. Ainsi, il est généralement plus utile d’observer les performances d’algorithme dans le cadre des défaillances. On parle généralement de perte inégale ou de coûts asymétriques de la classification incorrecte des éléments de différentes classes, où la prédiction erronée d’un élément positif en négatif peut engendrer un coût supérieur, et réciproquement. Le classifieur doit pouvoir offrir une grande précision de prédiction sur la classe minoritaire, sans gravement compromettre la précision de la classe majoritaire.

Il existe plusieurs façons d’y parvenir. Le problème des pertes inégales peut être traité efficacement en attribuant un coût élevé à la classification incorrecte de la classe minoritaire et en essayant de minimiser le coût total. Certains algorithmes d'apprentissage automatique utilisent cette idée de manière inhérente, par exemple, les machines à vecteurs de support, où le coût des exemples positifs et négatifs peut être incorporé pendant le temps d'apprentissage. De même, des méthodes d’amélioration sont utilisées et montrent généralement de bonnes performances en cas de données déséquilibrées, comme les algorithmes d’arbre de décision optimisé.

## <a name="evaluation-metrics"></a>Mesures d’évaluation
Comme mentionné précédemment, le déséquilibre des classes entraîne des performances médiocres, car les algorithmes ont tendance à mieux classifier les exemples de la classe majoritaire au détriment des cas de la classe minoritaire. En effet, l'erreur de classification incorrecte totale est sensiblement améliorée quand la classe majoritaire est correctement étiquetée. Cela entraîne des taux de rappel faibles et devient un problème plus important quand le coût des fausses alertes est très élevé pour l'entreprise. La précision est la mesure la plus utilisée pour décrire les performances d’un classifieur. Toutefois, comme nous l’avons expliqué ci-dessus, la précision est inefficace et ne reflète pas les performances réelles de la fonctionnalité d'un classifieur, car il est très sensible aux distributions de données. D’autres mesures d'évaluation sont utilisées à la place pour évaluer les problèmes d’apprentissage déséquilibré. Dans ce cas, la précision, le rappel et le score F1 doivent être les mesures initiales à prendre en compte pour l'évaluation des performances du modèle de maintenance prédictive. Dans la maintenance prédictive, les taux de rappel indiquent le nombre de défaillances dans le jeu de test qui ont été correctement identifiées par le modèle. Des taux de rappel plus élevés signifient que le modèle parvient à intercepter les défaillances réelles. La mesure de la précision fait référence au taux de fausses alertes, où les taux de précision inférieurs correspondent aux fausses alertes les plus importantes. Le score F1 attribue aux taux de précision et de rappel le chiffre 1 comme meilleure valeur et 0 comme valeur la pire.

En outre, pour la classification binaire, les tables de déciles et les graphiques de courbe d’élévation sont très utiles pour l'évaluation des performances. Ils s’intéressent uniquement à la classe positive (défaillances) et fournissent une image plus complexe des performances d'algorithme que celle obtenue en observant simplement un point d'exploitation fixe sur la courbe ROC (caractéristique de fonctionnement du récepteur).
Les tables de déciles sont obtenues en classant les exemples de test selon leurs probabilités de défaillances calculées par le modèle avant d’atteindre le seuil pour choisir l'étiquette finale. Les échantillons ordonnés sont regroupés en déciles (par exemple, les 10 % d’échantillons qui ont la plus grande probabilité, puis les 20 %, les 30 % et ainsi de suite). En calculant le rapport entre le taux de vrais positifs de chaque décile et sa ligne de base aléatoire (0,1, 0,2...), on peut estimer l’évolution des performances d’algorithme au niveau de chaque décile. Les graphiques de courbe d'élévation sont utilisés pour tracer les valeurs de décile. Il s’agit de tracer des paires de taux de vrais positifs de décile et de taux de vrais positifs aléatoires pour tous les déciles. En règle générale, les premier déciles sont les résultats les plus intéressants, car ils révèlent les gains les plus élevés. Les premiers déciles peuvent également représenter les éléments « à risque » quand ils sont utilisés pour la maintenance prédictive.

## <a name="sample-solution-architecture"></a>Exemple d’architecture de solution
Quand nous déployons une solution de maintenance prédictive, nous nous intéressons à une solution de bout en bout qui fournit un cycle continu d'ingestion des données, de stockage des données pour l'apprentissage du modèle, de génération des caractéristiques, de prédiction et de visualisation des résultats, avec un mécanisme de génération d’alertes, par exemple, un tableau de bord de surveillance des équipements. Nous voulons un pipeline de données qui fournit à l'utilisateur des informations sur l’avenir de façon continue et automatisée. La Figure 8 ci-dessous illustre un exemple d’architecture de maintenance prédictive pour un pipeline de données IoT. Dans l’architecture, les données de télémétrie en temps réel sont collectées dans un hub d’événements qui stocke les données de diffusion en continu. Ces données sont ingérées par Stream Analytics pour être traitées en temps réel, par exemple, pour la génération des caractéristiques. Les caractéristiques sont ensuite utilisées pour appeler le service web du modèle prédictif et les résultats sont affichés dans le tableau de bord. En même temps, les données ingérées sont également stockées dans une base de données historique et fusionnées avec des sources de données externes, telles que des bases de données locales, pour créer des exemples d’apprentissage pour la modélisation.
Les mêmes entrepôts de données peuvent servir pour le calcul du score du lot des exemples et le stockage des résultats, qui peuvent encore être utilisés pour fournir des rapports prédictifs dans le tableau de bord.

![Figure 8. Exemple d’architecture de solution pour la maintenance prédictive](./media/cortana-analytics-playbook-predictive-maintenance/example-solution-architecture-for-predictive-maintenance.png)

Figure 8. Exemple d’architecture de solution pour la maintenance prédictive

Pour plus d'informations sur chacun des composants de l'architecture, consultez la documentation [Azure](https://azure.microsoft.com/) .

