---
title: Comment configurer l'authentification Azure Active Directory pour votre application App Services
description: "Découvrez comment configurer l'authentification Azure Active Directory pour votre application App Services."
author: mattchenderson
services: app-service
documentationcenter: 
manager: syntaxc4
editor: 
ms.assetid: 6ec6a46c-bce4-47aa-b8a3-e133baef22eb
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 10/01/2016
ms.author: mahender
ms.openlocfilehash: fe007fa8640d5641f29dc88f8f3a8ca52a1ca8ae
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/03/2017
---
# <a name="how-to-configure-your-app-service-application-to-use-azure-active-directory-login"></a><span data-ttu-id="d093f-103">Configurer votre application App Service pour utiliser la connexion Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="d093f-103">How to configure your App Service application to use Azure Active Directory login</span></span>
[!INCLUDE [app-service-mobile-selector-authentication](../../includes/app-service-mobile-selector-authentication.md)]

<span data-ttu-id="d093f-104">Cette rubrique montre comment configurer Azure App Services pour utiliser Azure Active Directory comme fournisseur d’authentification.</span><span class="sxs-lookup"><span data-stu-id="d093f-104">This topic shows you how to configure Azure App Services to use Azure Active Directory as an authentication provider.</span></span>

## <span data-ttu-id="d093f-105"><a name="express"> </a>Configuration d'Azure Active Directory à l'aide de la configuration rapide</span><span class="sxs-lookup"><span data-stu-id="d093f-105"><a name="express"> </a>Configure Azure Active Directory using express settings</span></span>
1. <span data-ttu-id="d093f-106">Dans le [portail Azure], accédez à votre application.</span><span class="sxs-lookup"><span data-stu-id="d093f-106">In the [Azure portal], navigate to your application.</span></span> <span data-ttu-id="d093f-107">Cliquez sur **Paramètres**, puis sur **Authentification/Autorisation**.</span><span class="sxs-lookup"><span data-stu-id="d093f-107">Click **Settings**, and then **Authentication/Authorization**.</span></span>
2. <span data-ttu-id="d093f-108">Si la fonctionnalité Authentification / Autorisation n’est pas activée, positionnez le commutateur sur **On**.</span><span class="sxs-lookup"><span data-stu-id="d093f-108">If the Authentication / Authorization feature is not enabled, turn the switch to **On**.</span></span>
3. <span data-ttu-id="d093f-109">Cliquez sur **Azure Active Directory**, puis sur **Rapide** sous **Mode de gestion**.</span><span class="sxs-lookup"><span data-stu-id="d093f-109">Click **Azure Active Directory**, and then click **Express** under **Management Mode**.</span></span>
4. <span data-ttu-id="d093f-110">Cliquez sur **OK** pour inscrire l'application dans Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="d093f-110">Click **OK** to register the application in Azure Active Directory.</span></span> <span data-ttu-id="d093f-111">Une nouvelle inscription est alors créée.</span><span class="sxs-lookup"><span data-stu-id="d093f-111">This will create a new registration.</span></span> <span data-ttu-id="d093f-112">Si vous choisissez une inscription existante à la place, cliquez sur **Sélectionner une application existante** et recherchez le nom d’une inscription précédemment créée au sein de votre locataire.</span><span class="sxs-lookup"><span data-stu-id="d093f-112">If you want to choose an existing registration instead, click **Select an existing app** and then search for the name of a previously created registration within your tenant.</span></span>
   <span data-ttu-id="d093f-113">Cliquez sur l'inscription pour la sélectionner, puis sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="d093f-113">Click the registration to select it and click **OK**.</span></span> <span data-ttu-id="d093f-114">Cliquez ensuite sur **OK** dans le panneau des paramètres Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="d093f-114">Then click **OK** on the Azure Active Directory settings blade.</span></span>
   
   ![][0]
   
   <span data-ttu-id="d093f-115">Par défaut, App Service fournit une authentification, mais ne restreint pas l'accès autorisé à votre contenu et aux API de votre site.</span><span class="sxs-lookup"><span data-stu-id="d093f-115">By default, App Service provides authentication but does not restrict authorized access to your site content and APIs.</span></span> <span data-ttu-id="d093f-116">Vous devez autoriser les utilisateurs dans votre code d'application.</span><span class="sxs-lookup"><span data-stu-id="d093f-116">You must authorize users in your app code.</span></span>
5. <span data-ttu-id="d093f-117">(Facultatif) Pour restreindre l’accès à votre site aux seuls utilisateurs authentifiés par Azure Active Directory, définissez **Action à exécuter quand une demande n’est pas authentifiée** sur **Se connecter avec Azure Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="d093f-117">(Optional) To restrict access to your site to only users authenticated by Azure Active Directory, set **Action to take when request is not authenticated** to **Log in with Azure Active Directory**.</span></span> <span data-ttu-id="d093f-118">Cela implique que toutes les demandes soient authentifiées. Toutes les demandes non authentifiées sont redirigées vers Azure Active Directory pour être authentifiées.</span><span class="sxs-lookup"><span data-stu-id="d093f-118">This requires that all requests be authenticated, and all unauthenticated requests are redirected to Azure Active Directory for authentication.</span></span>
6. <span data-ttu-id="d093f-119">Cliquez sur **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="d093f-119">Click **Save**.</span></span>

<span data-ttu-id="d093f-120">Vous êtes maintenant prêt à utiliser Azure Active Directory pour l'authentification dans votre application.</span><span class="sxs-lookup"><span data-stu-id="d093f-120">You are now ready to use Azure Active Directory for authentication in your app.</span></span>

## <span data-ttu-id="d093f-121"><a name="advanced"> </a>(Méthode alternative) Configurer manuellement Azure Active Directory avec des paramètres avancés</span><span class="sxs-lookup"><span data-stu-id="d093f-121"><a name="advanced"> </a>(Alternative method) Manually configure Azure Active Directory with advanced settings</span></span>
<span data-ttu-id="d093f-122">Vous pouvez également choisir de fournir des paramètres de configuration manuellement.</span><span class="sxs-lookup"><span data-stu-id="d093f-122">You can also choose to provide configuration settings manually.</span></span> <span data-ttu-id="d093f-123">Il s’agit de la solution préférée si le locataire AAD que vous voulez utiliser diffère de celui avec lequel vous vous connectez à Azure.</span><span class="sxs-lookup"><span data-stu-id="d093f-123">This is the preferred solution if the AAD tenant you wish to use is different from the tenant with which you sign into Azure.</span></span> <span data-ttu-id="d093f-124">Pour terminer la configuration, vous devez d’abord créer une inscription dans Azure Active Directory, puis fournir des informations d’inscription à App Service.</span><span class="sxs-lookup"><span data-stu-id="d093f-124">To complete the configuration, you must first create a registration in Azure Active Directory, and then you must provide some of the registration details to App Service.</span></span>

### <span data-ttu-id="d093f-125"><a name="register"> </a>Inscription de votre application auprès d’Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="d093f-125"><a name="register"> </a>Register your application with Azure Active Directory</span></span>
1. <span data-ttu-id="d093f-126">Connectez-vous au [portail Azure]et accédez à votre application.</span><span class="sxs-lookup"><span data-stu-id="d093f-126">Log on to the [Azure portal], and navigate to your application.</span></span> <span data-ttu-id="d093f-127">Copiez votre **URL**.</span><span class="sxs-lookup"><span data-stu-id="d093f-127">Copy your **URL**.</span></span> <span data-ttu-id="d093f-128">Elle vous permettra de configurer votre application Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="d093f-128">You will use this to configure your Azure Active Directory app.</span></span>
2. <span data-ttu-id="d093f-129">Connectez-vous au [portail Azure Classic] et accédez à **Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="d093f-129">Sign in to the [Azure classic portal] and navigate to **Active Directory**.</span></span>
   
    ![][2]
3. <span data-ttu-id="d093f-130">Sélectionnez votre annuaire, puis l’onglet **Applications** en haut de la page.</span><span class="sxs-lookup"><span data-stu-id="d093f-130">Select your directory, and then select the **Applications** tab at the top.</span></span> <span data-ttu-id="d093f-131">Cliquez sur **AJOUTER** en bas de la page pour créer une inscription d’application.</span><span class="sxs-lookup"><span data-stu-id="d093f-131">Click **ADD** at the bottom to create a new app registration.</span></span>
4. <span data-ttu-id="d093f-132">Cliquez sur **Ajouter une application développée par mon organisation**.</span><span class="sxs-lookup"><span data-stu-id="d093f-132">Click **Add an application my organization is developing**.</span></span>
5. <span data-ttu-id="d093f-133">Dans l’Assistant Ajout d’application, entrez un **Nom** pour votre application et cliquez sur le type **Application Web et/ou API Web**.</span><span class="sxs-lookup"><span data-stu-id="d093f-133">In the Add Application Wizard, enter a **Name** for your application and click the  **Web Application And/Or Web API** type.</span></span> <span data-ttu-id="d093f-134">Ensuite, cliquez pour continuer.</span><span class="sxs-lookup"><span data-stu-id="d093f-134">Then click to continue.</span></span>
6. <span data-ttu-id="d093f-135">Dans la zone **URL DE CONNEXION** , collez l'URL de l'application que vous avez copiée précédemment.</span><span class="sxs-lookup"><span data-stu-id="d093f-135">In the **SIGN-ON URL** box, paste the application URL you copied earlier.</span></span> <span data-ttu-id="d093f-136">Entrez cette URL dans la zone **URI ID d’application** .</span><span class="sxs-lookup"><span data-stu-id="d093f-136">Enter that same URL in the **App ID URI** box.</span></span> <span data-ttu-id="d093f-137">Ensuite, cliquez pour continuer.</span><span class="sxs-lookup"><span data-stu-id="d093f-137">Then click to continue.</span></span>
7. <span data-ttu-id="d093f-138">Une fois que l'application a été ajoutée, cliquez sur l'onglet **Configurer** .</span><span class="sxs-lookup"><span data-stu-id="d093f-138">Once the application has been added, click the **Configure** tab.</span></span> <span data-ttu-id="d093f-139">Remplacez **l’URL de réponse** sous **Authentification unique** par l’URL de votre application en y ajoutant le chemin d’accès */.auth/login/aad/callback*.</span><span class="sxs-lookup"><span data-stu-id="d093f-139">Edit the **Reply URL** under **Single Sign-on** to be the URL of your application appended with the path, */.auth/login/aad/callback*.</span></span> <span data-ttu-id="d093f-140">Par exemple, `https://contoso.azurewebsites.net/.auth/login/aad/callback`.</span><span class="sxs-lookup"><span data-stu-id="d093f-140">For example, `https://contoso.azurewebsites.net/.auth/login/aad/callback`.</span></span> <span data-ttu-id="d093f-141">Assurez-vous d'utiliser le schéma HTTPS.</span><span class="sxs-lookup"><span data-stu-id="d093f-141">Make sure that you are using the HTTPS scheme.</span></span>
   
    ![][3]
8. <span data-ttu-id="d093f-142">Cliquez sur **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="d093f-142">Click **Save**.</span></span> <span data-ttu-id="d093f-143">Copiez ensuite l’ **ID client** pour l’application.</span><span class="sxs-lookup"><span data-stu-id="d093f-143">Then copy the **Client ID** for the app.</span></span> <span data-ttu-id="d093f-144">Vous configurerez l’application pour utiliser cet ID plus tard.</span><span class="sxs-lookup"><span data-stu-id="d093f-144">You will configure your application to use this later.</span></span>
9. <span data-ttu-id="d093f-145">Dans la barre de commandes située en bas, cliquez sur **Afficher les points de terminaison**, puis copiez l’URL du **document de métadonnées de fédération** et téléchargez ce document ou ouvrez-le dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="d093f-145">In the bottom command bar, click **View Endpoints**, and then copy the **Federation Metadata Document** URL and download that document or navigate to it in a browser.</span></span>
10. <span data-ttu-id="d093f-146">L’élément racine **EntityDescriptor** doit contenir un attribut **entityID** au format `https://sts.windows.net/` suivi d’un GUID propre à votre client (appelé « ID client »).</span><span class="sxs-lookup"><span data-stu-id="d093f-146">Within the root **EntityDescriptor** element, there should be an **entityID** attribute of the form `https://sts.windows.net/` followed by a GUID specific to your tenant (called a "tenant ID").</span></span> <span data-ttu-id="d093f-147">Copiez cette valeur qui servira d' **URL de l'émetteur**.</span><span class="sxs-lookup"><span data-stu-id="d093f-147">Copy this value - it will serve as your **Issuer URL**.</span></span> <span data-ttu-id="d093f-148">Vous configurerez l’application pour utiliser cet ID plus tard.</span><span class="sxs-lookup"><span data-stu-id="d093f-148">You will configure your application to use this later.</span></span>

### <span data-ttu-id="d093f-149"><a name="secrets"> </a>Ajout d'informations Azure Active Directory à votre application</span><span class="sxs-lookup"><span data-stu-id="d093f-149"><a name="secrets"> </a>Add Azure Active Directory information to your application</span></span>
1. <span data-ttu-id="d093f-150">Revenez au [portail Azure]et accédez à votre application.</span><span class="sxs-lookup"><span data-stu-id="d093f-150">Back in the [Azure portal], navigate to your application.</span></span> <span data-ttu-id="d093f-151">Cliquez sur **Paramètres**, puis sur **Authentification/Autorisation**.</span><span class="sxs-lookup"><span data-stu-id="d093f-151">Click **Settings**, and then **Authentication/Authorization**.</span></span>
2. <span data-ttu-id="d093f-152">Si la fonctionnalité Authentification/Autorisation n’est pas activée, positionnez le commutateur sur **Activé**.</span><span class="sxs-lookup"><span data-stu-id="d093f-152">If the Authentication/Authorization feature is not enabled, turn the switch to **On**.</span></span>
3. <span data-ttu-id="d093f-153">Cliquez sur **Azure Active Directory**, puis sur **Avancé** sous **Mode de gestion**.</span><span class="sxs-lookup"><span data-stu-id="d093f-153">Click **Azure Active Directory**, and then click **Advanced** under **Management Mode**.</span></span> <span data-ttu-id="d093f-154">Collez-y les valeurs d’ID locataire et d’URL de l’émetteur que vous avez obtenues précédemment.</span><span class="sxs-lookup"><span data-stu-id="d093f-154">Paste in the Client ID and Issuer URL value which you obtained previously.</span></span> <span data-ttu-id="d093f-155">Cliquez ensuite sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="d093f-155">Then click **OK**.</span></span>
   
   ![][1]
   
   <span data-ttu-id="d093f-156">Par défaut, App Service fournit une authentification, mais ne restreint pas l'accès autorisé à votre contenu et aux API de votre site.</span><span class="sxs-lookup"><span data-stu-id="d093f-156">By default, App Service provides authentication but does not restrict authorized access to your site content and APIs.</span></span> <span data-ttu-id="d093f-157">Vous devez autoriser les utilisateurs dans votre code d'application.</span><span class="sxs-lookup"><span data-stu-id="d093f-157">You must authorize users in your app code.</span></span>
4. <span data-ttu-id="d093f-158">(Facultatif) Pour restreindre l’accès à votre site aux seuls utilisateurs authentifiés par Azure Active Directory, définissez **Action à exécuter quand une demande n’est pas authentifiée** sur **Se connecter avec Azure Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="d093f-158">(Optional) To restrict access to your site to only users authenticated by Azure Active Directory, set **Action to take when request is not authenticated** to **Log in with Azure Active Directory**.</span></span> <span data-ttu-id="d093f-159">Cela implique que toutes les demandes soient authentifiées. Toutes les demandes non authentifiées sont redirigées vers Azure Active Directory pour être authentifiées.</span><span class="sxs-lookup"><span data-stu-id="d093f-159">This requires that all requests be authenticated, and all unauthenticated requests are redirected to Azure Active Directory for authentication.</span></span>
5. <span data-ttu-id="d093f-160">Cliquez sur **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="d093f-160">Click **Save**.</span></span>

<span data-ttu-id="d093f-161">Vous êtes maintenant prêt à utiliser Azure Active Directory pour l'authentification dans votre application.</span><span class="sxs-lookup"><span data-stu-id="d093f-161">You are now ready to use Azure Active Directory for authentication in your app.</span></span>

## <a name="optional-configure-a-native-client-application"></a><span data-ttu-id="d093f-162">(Facultatif) Configurer une application cliente native</span><span class="sxs-lookup"><span data-stu-id="d093f-162">(Optional) Configure a native client application</span></span>
<span data-ttu-id="d093f-163">Azure Active Directory permet également d’inscrire les clients natifs, ce qui offre un contrôle accru du mappage d’autorisations.</span><span class="sxs-lookup"><span data-stu-id="d093f-163">Azure Active Directory also allows you to register native clients, which provides greater control over permissions mapping.</span></span> <span data-ttu-id="d093f-164">Cela est utile si vous souhaitez effectuer des connexions à l’aide d’une bibliothèque telle que **Active Directory Authentication Library**.</span><span class="sxs-lookup"><span data-stu-id="d093f-164">You need this if you wish to perform logins using a library such as the **Active Directory Authentication Library**.</span></span>

1. <span data-ttu-id="d093f-165">Accédez à **Active Directory** dans le [portail Azure Classic].</span><span class="sxs-lookup"><span data-stu-id="d093f-165">Navigate to **Active Directory** in the [Azure classic portal].</span></span>
2. <span data-ttu-id="d093f-166">Sélectionnez votre annuaire, puis l’onglet **Applications** en haut de la page.</span><span class="sxs-lookup"><span data-stu-id="d093f-166">Select your directory, and then select the **Applications** tab at the top.</span></span> <span data-ttu-id="d093f-167">Cliquez sur **AJOUTER** en bas de la page pour créer une inscription d’application.</span><span class="sxs-lookup"><span data-stu-id="d093f-167">Click **ADD** at the bottom to create a new app registration.</span></span>
3. <span data-ttu-id="d093f-168">Cliquez sur **Ajouter une application développée par mon organisation**.</span><span class="sxs-lookup"><span data-stu-id="d093f-168">Click **Add an application my organization is developing**.</span></span>
4. <span data-ttu-id="d093f-169">Dans l’Assistant Ajout d’application, entrez un **Nom** pour votre application et cliquez sur le type **Application cliente native**.</span><span class="sxs-lookup"><span data-stu-id="d093f-169">In the Add Application Wizard, enter a **Name** for your application and click the  **Native Client Application** type.</span></span> <span data-ttu-id="d093f-170">Ensuite, cliquez pour continuer.</span><span class="sxs-lookup"><span data-stu-id="d093f-170">Then click to continue.</span></span>
5. <span data-ttu-id="d093f-171">Dans la zone **URI de redirection**, entrez le point de terminaison */.auth/login/done* de votre site à l’aide du modèle HTTPS.</span><span class="sxs-lookup"><span data-stu-id="d093f-171">In the **Redirect URI** box, enter your site's */.auth/login/done* endpoint, using the HTTPS scheme.</span></span> <span data-ttu-id="d093f-172">Cette valeur doit être semblable à *https://contoso.azurewebsites.net/.auth/login/done*.</span><span class="sxs-lookup"><span data-stu-id="d093f-172">This value should be similar to *https://contoso.azurewebsites.net/.auth/login/done*.</span></span> <span data-ttu-id="d093f-173">Si vous créez une application Windows, utilisez plutôt le [SID de package](app-service-mobile-dotnet-how-to-use-client-library.md#package-sid) en tant qu’URI.</span><span class="sxs-lookup"><span data-stu-id="d093f-173">If creating a Windows application, instead use the [package SID](app-service-mobile-dotnet-how-to-use-client-library.md#package-sid) as the URI.</span></span>
6. <span data-ttu-id="d093f-174">Une fois l’application native ajoutée, cliquez sur l’onglet **Configurer** .</span><span class="sxs-lookup"><span data-stu-id="d093f-174">Once the native application has been added, click the **Configure** tab.</span></span> <span data-ttu-id="d093f-175">Recherchez l’ **ID client** et notez-en la valeur.</span><span class="sxs-lookup"><span data-stu-id="d093f-175">Find the **Client ID** and make a note of this value.</span></span>
7. <span data-ttu-id="d093f-176">Faites défiler la page vers le bas jusqu’à la section **Autorisations pour d’autres applications** et cliquez sur **Ajouter une application**.</span><span class="sxs-lookup"><span data-stu-id="d093f-176">Scroll the page down to the **Permissions to other applications** section and click **Add application**.</span></span>
8. <span data-ttu-id="d093f-177">Recherchez l’application web que vous avez inscrite précédemment et cliquez sur l’icône plus, puis sur la coche pour fermer la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="d093f-177">Search for the web application that you registered earlier and click the plus icon.</span></span> <span data-ttu-id="d093f-178">Si l’application web est introuvable, recherchez son inscription et ajoutez une nouvelle URL de réponse (par exemple, la version HTTP de votre URL en cours).</span><span class="sxs-lookup"><span data-stu-id="d093f-178">Then click the check to close the dialog.</span></span> <span data-ttu-id="d093f-179">Cliquez sur Enregistrer, puis répétez ces étapes ; l’application doit apparaître dans la liste.</span><span class="sxs-lookup"><span data-stu-id="d093f-179">If the web application cannot be found, navigate to its registration and add a new reply URL (e.g., the HTTP version of your current URL), click save, and then repeat these steps - the application should show up in the list.</span></span>
9. <span data-ttu-id="d093f-180">Dans la nouvelle entrée que vous venez d’ajouter, ouvrez la liste déroulante **Autorisations déléguées** et sélectionnez **Accès (appName)**.</span><span class="sxs-lookup"><span data-stu-id="d093f-180">On the new entry you just added, open the **Delegated Permissions** dropdown and select **Access (appName)**.</span></span> <span data-ttu-id="d093f-181">Cliquez ensuite sur **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="d093f-181">Then click **Save**.</span></span>

<span data-ttu-id="d093f-182">Vous avez maintenant configuré une application cliente native qui peut accéder à votre application App Service.</span><span class="sxs-lookup"><span data-stu-id="d093f-182">You have now configured a native client application which can access your App Service application.</span></span>

## <span data-ttu-id="d093f-183"><a name="related-content"> </a>Contenu connexe</span><span class="sxs-lookup"><span data-stu-id="d093f-183"><a name="related-content"> </a>Related Content</span></span>
[!INCLUDE [app-service-mobile-related-content-get-started-users](../../includes/app-service-mobile-related-content-get-started-users.md)]

<!-- Images. -->

[0]: ./media/app-service-mobile-how-to-configure-active-directory-authentication/mobile-app-aad-express-settings.png
[1]: ./media/app-service-mobile-how-to-configure-active-directory-authentication/mobile-app-aad-advanced-settings.png
[2]: ./media/app-service-mobile-how-to-configure-active-directory-authentication/app-service-navigate-aad.png
[3]: ./media/app-service-mobile-how-to-configure-active-directory-authentication/app-service-aad-app-configure.png

<!-- URLs. -->

<span data-ttu-id="d093f-184">[portail Azure]: https://portal.azure.com/</span><span class="sxs-lookup"><span data-stu-id="d093f-184">[Azure portal]: https://portal.azure.com/</span></span>
<span data-ttu-id="d093f-185">[portail Azure Classic]: https://manage.windowsazure.com/</span><span class="sxs-lookup"><span data-stu-id="d093f-185">[Azure classic portal]: https://manage.windowsazure.com/</span></span>
[alternative method]:#advanced
