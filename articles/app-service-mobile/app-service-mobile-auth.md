---
title: Authentification et autorisation dans Azure Mobile Apps | Microsoft Docs
description: "Référence et présentation conceptuelles de la fonctionnalité d’authentification/autorisation pour Azure Mobile Apps"
services: app-service\mobile
documentationcenter: 
author: mattchenderson
manager: syntaxc4
editor: 
ms.assetid: a46dbf70-867d-48f6-8885-7f5207ad102e
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 10/01/2016
ms.author: mahender
ms.openlocfilehash: 92c9f91807a6b5d4fea6b504256508f805627a16
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/03/2017
---
# <a name="authentication-and-authorization-in-azure-mobile-apps"></a><span data-ttu-id="ed9b3-103">Authentification et autorisation dans Azure Mobile Apps</span><span class="sxs-lookup"><span data-stu-id="ed9b3-103">Authentication and Authorization in Azure Mobile Apps</span></span>
## <a name="what-is-app-service-authentication--authorization"></a><span data-ttu-id="ed9b3-104">Qu’est-ce que l’authentification/autorisation App Service ?</span><span class="sxs-lookup"><span data-stu-id="ed9b3-104">What is App Service Authentication / Authorization?</span></span>
> [!NOTE]
> <span data-ttu-id="ed9b3-105">Cette rubrique sera migrée vers une rubrique d’ [authentification/autorisation App Service](../app-service/app-service-authentication-overview.md) consolidée, qui couvre les applications web, mobile et les API Apps.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-105">This topic will be migrated to a consolidated [App Service Authentication / Authorization](../app-service/app-service-authentication-overview.md) topic, which covers Web, Mobile, and API Apps.</span></span>
> 
> 

<span data-ttu-id="ed9b3-106">L’authentification/autorisation App Service est une fonctionnalité qui permet à votre application de connecter des utilisateurs sans aucune modification de code sur le serveur principal.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-106">App Service Authentication / Authorization is a feature which allows your application to log in users with no code changes required on the app backend.</span></span> <span data-ttu-id="ed9b3-107">Elle propose un moyen simple de protéger votre application et fonctionne avec des données par utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-107">It provides an easy way to protect your application and work with per-user data.</span></span>

<span data-ttu-id="ed9b3-108">App Service utilise l’identité fédérée, dans laquelle un **fournisseur d’identité** tiers (« IDP ») stocke des comptes et authentifie des utilisateurs. L’application utilise cette identité au lieu de la sienne.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-108">App Service uses federated identity, in which a 3rd-party **identity provider** ("IDP") stores accounts and authenticates users, and the application uses this identity instead of its own.</span></span> <span data-ttu-id="ed9b3-109">App Service prend en charge cinq fournisseurs d’identité prêts à l’emploi : *Azure Active Directory*, *Facebook*, *Google*, *Compte Microsoft* et *Twitter*.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-109">App Service supports five identity providers out of the box: *Azure Active Directory*, *Facebook*, *Google*, *Microsoft Account*, and *Twitter*.</span></span> <span data-ttu-id="ed9b3-110">Vous pouvez également étendre cette prise en charge à vos applications en intégrant un autre fournisseur d’identité ou votre propre solution d’identité personnalisée.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-110">You can also expand this support for your apps by integrating another identity provider or your own custom identity solution.</span></span>

<span data-ttu-id="ed9b3-111">Votre application peut exploiter plusieurs de ces fournisseurs d’identité, vous pouvez donc proposer à vos utilisateurs finaux plusieurs options de connexion.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-111">Your app can leverage any number of these identity providers, so you can provide your end users with options for how they login.</span></span>

<span data-ttu-id="ed9b3-112">Si vous voulez commencer tout de suite, consultez l’un des didacticiels suivants :</span><span class="sxs-lookup"><span data-stu-id="ed9b3-112">If you wish to get started right away, please see one of the following tutorials:</span></span>

* <span data-ttu-id="ed9b3-113">[Ajout de l'authentification à votre application iOS]</span><span class="sxs-lookup"><span data-stu-id="ed9b3-113">[Add authentication to your iOS app]</span></span>
* <span data-ttu-id="ed9b3-114">[Ajout de l'authentification à votre application Xamarin.iOS]</span><span class="sxs-lookup"><span data-stu-id="ed9b3-114">[Add authentication to your Xamarin.iOS app]</span></span>
* <span data-ttu-id="ed9b3-115">[Ajout de l'authentification à votre application Xamarin.Android]</span><span class="sxs-lookup"><span data-stu-id="ed9b3-115">[Add authentication to your Xamarin.Android app]</span></span>
* <span data-ttu-id="ed9b3-116">[Ajout de l’authentification à votre application Windows]</span><span class="sxs-lookup"><span data-stu-id="ed9b3-116">[Add Authentication to your Windows app]</span></span>

## <a name="how-authentication-works"></a><span data-ttu-id="ed9b3-117">Fonctionnement de l’authentification</span><span class="sxs-lookup"><span data-stu-id="ed9b3-117">How authentication works</span></span>
<span data-ttu-id="ed9b3-118">Pour s’authentifier à l’aide d’un des fournisseurs d’identité, vous devez d’abord configurer le fournisseur d’identité pour qu’il reconnaisse votre application.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-118">In order to authenticate using one of the identity providers, you first need to configure the identity provider to know about your application.</span></span> <span data-ttu-id="ed9b3-119">Le fournisseur d’identité vous indique alors des ID et des clés secrètes que vous devez fournir à votre tour à l’application.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-119">The identity provider will then provide you with IDs and secrets that you provide back to the application.</span></span> <span data-ttu-id="ed9b3-120">Ceux-ci établissent la relation d’approbation et permettent à App Service de valider les identités qui lui sont fournies.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-120">This completes the trust relationship and allows App Service to validate identities provided to it.</span></span>

<span data-ttu-id="ed9b3-121">Ces étapes sont détaillées dans les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="ed9b3-121">These steps are detailed in the following topics:</span></span>

* <span data-ttu-id="ed9b3-122">[Comment configurer votre application pour utiliser une connexion Azure Active Directory]</span><span class="sxs-lookup"><span data-stu-id="ed9b3-122">[How to configure your app to use Azure Active Directory login]</span></span>
* <span data-ttu-id="ed9b3-123">[Comment configurer votre application pour utiliser une connexion Facebook]</span><span class="sxs-lookup"><span data-stu-id="ed9b3-123">[How to configure your app to use Facebook login]</span></span>
* <span data-ttu-id="ed9b3-124">[Comment configurer votre application pour utiliser une connexion Google]</span><span class="sxs-lookup"><span data-stu-id="ed9b3-124">[How to configure your app to use Google login]</span></span>
* <span data-ttu-id="ed9b3-125">[Comment configurer votre application pour utiliser une connexion par compte Microsoft]</span><span class="sxs-lookup"><span data-stu-id="ed9b3-125">[How to configure your app to use Microsoft Account login]</span></span>
* <span data-ttu-id="ed9b3-126">[Comment configurer votre application pour utiliser une connexion Twitter]</span><span class="sxs-lookup"><span data-stu-id="ed9b3-126">[How to configure your app to use Twitter login]</span></span>

<span data-ttu-id="ed9b3-127">Une fois que tout est configuré sur le serveur principal, vous pouvez modifier votre client pour la connexion.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-127">Once everything is configured on the backend, you can modify your client to log in.</span></span> <span data-ttu-id="ed9b3-128">Il existe deux approches :</span><span class="sxs-lookup"><span data-stu-id="ed9b3-128">There are two approaches here:</span></span>

* <span data-ttu-id="ed9b3-129">À l’aide d’une seule ligne de code, laissez le Kit de développement logiciel (SDK) client Mobile Apps connecter des utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-129">Using a single line of code, let the Mobile Apps client SDK sign in users.</span></span>
* <span data-ttu-id="ed9b3-130">Exploitez un Kit de développement logiciel (SDK) publié par un fournisseur d’identité donnée pour établir l’identité, puis accédez à App Service.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-130">Leverage an SDK published by a given identity provider to establish identity and then gain access to App Service.</span></span>

> [!TIP]
> <span data-ttu-id="ed9b3-131">La plupart des applications doivent utiliser un Kit de développement logiciel (SDK) de fournisseur pour obtenir une expérience de connexion plus native et tirer parti de la prise en charge de l’actualisation et d’autres avantages propres au fournisseur.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-131">Most applications should use a provider SDK to get a more native-feeling login experience and to leverage refresh support and other provider-specific benefits.</span></span>
> 
> 

### <a name="how-authentication-without-a-provider-sdk-works"></a><span data-ttu-id="ed9b3-132">Fonctionnement de l’authentification sans Kit de développement logiciel (SDK) de fournisseur</span><span class="sxs-lookup"><span data-stu-id="ed9b3-132">How authentication without a provider SDK works</span></span>
<span data-ttu-id="ed9b3-133">Si vous ne voulez pas configurer un SDK de fournisseur, vous pouvez autoriser Mobile Apps à effectuer la connexion pour vous.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-133">If you do not wish to set up a provider SDK, you can allow Mobile Apps to perform the login for you.</span></span> <span data-ttu-id="ed9b3-134">Le SDK client Mobile Apps ouvre un affichage web du fournisseur de votre choix et procède à la connexion.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-134">The Mobile Apps client SDK will open a web view to the provider of your choosing and complete the sign in.</span></span> <span data-ttu-id="ed9b3-135">Dans les blogs et sur les forums, cette opération est de temps en temps appelée « flux serveur » ou « flux dirigé vers le serveur », car le serveur gère la connexion et le Kit de développement logiciel (SDK) client ne reçoit jamais le jeton du fournisseur.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-135">Occasionally on blogs and forums you will see this referred to as the "server flow" or "server-directed flow" since the server is managing the login, and the client SDK never receives the provider token.</span></span>

<span data-ttu-id="ed9b3-136">Le code nécessaire pour démarrer ce flux est couvert dans le didacticiel sur l’authentification pour chaque plateforme.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-136">The code needed to start this flow is covered in the authentication tutorial for each platform.</span></span> <span data-ttu-id="ed9b3-137">À la fin du flux, le SDK client dispose d’un jeton App Service et le jeton est automatiquement joint à toutes les requêtes adressées au serveur principal.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-137">At the end of the flow, the client SDK has an App Service token, and the token is automatically attached to all requests to the backend.</span></span>

### <a name="how-authentication-with-a-provider-sdk-works"></a><span data-ttu-id="ed9b3-138">Fonctionnement de l’authentification avec un Kit de développement logiciel (SDK) de fournisseur</span><span class="sxs-lookup"><span data-stu-id="ed9b3-138">How authentication with a provider SDK works</span></span>
<span data-ttu-id="ed9b3-139">L’utilisation d’un SDK de fournisseur permet à l’expérience de connexion d’interagir plus étroitement avec le système d’exploitation sur lequel l’application s’exécute.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-139">Working with a provider SDK allows the log-in experience to interact more tightly with the platform OS the app is running on.</span></span> <span data-ttu-id="ed9b3-140">Elle permet également d’obtenir un jeton de fournisseur et certaines informations utilisateur sur le client, ce qui facilite beaucoup la consommation d’API graphiques et la personnalisation de l’expérience utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-140">This also gives you a provider token and some user information on the client, which makes it much easier to consume graph APIs and customize the user experience.</span></span> <span data-ttu-id="ed9b3-141">Dans les blogs et sur les forums, cette opération est de temps en temps appelée « flux client » ou « flux dirigé vers le client » car le code sur le client gère la connexion et a accès à un jeton de fournisseur.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-141">Occasionally on blogs and forums you will see this referred to as the "client flow" or "client-directed flow" since code on the client is handling the login, and the client code has access to a provider token.</span></span>

<span data-ttu-id="ed9b3-142">Une fois qu’un jeton de fournisseur est obtenu, il doit être envoyé à App Service à des fins de validation.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-142">Once a provider token is obtained, it needs to be sent to App Service for validation.</span></span> <span data-ttu-id="ed9b3-143">À la fin du flux, le SDK client dispose d’un jeton App Service et le jeton est automatiquement joint à toutes les requêtes adressées au serveur principal.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-143">At the end of the flow, the client SDK has an App Service token, and the token is automatically attached to all requests to the backend.</span></span> <span data-ttu-id="ed9b3-144">Le développeur peut également conserver une référence au jeton de fournisseur s’il le souhaite.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-144">The developer can also keep a reference to the provider token if they so choose.</span></span>

## <a name="how-authorization-works"></a><span data-ttu-id="ed9b3-145">Fonctionnement de l’autorisation</span><span class="sxs-lookup"><span data-stu-id="ed9b3-145">How authorization works</span></span>
<span data-ttu-id="ed9b3-146">L’authentification/autorisation App Service expose plusieurs possibilités d’ **action à réaliser quand la requête n’est pas authentifiée**.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-146">App Service Authentication / Authorization exposes several choices for **Action to take when request is not authenticated**.</span></span> <span data-ttu-id="ed9b3-147">Avant que votre code ne reçoive une demande donnée, App Service peut vérifier si la requête est authentifiée et si elle ne l’est pas, la rejeter et tenter d’inviter l’utilisateur à se connecter avant d’effectuer une nouvelle tentative.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-147">Before your code receives a given request, you can have App Service check to see if the request is authenticated and if not, reject it and attempt to have the user log in before trying again.</span></span>

<span data-ttu-id="ed9b3-148">Une option consiste à rediriger les requêtes non authentifiées vers l’un des fournisseurs d’identité.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-148">One option is to have unauthenticated requests redirect to one of the identity providers.</span></span> <span data-ttu-id="ed9b3-149">Dans un navigateur web, l’utilisateur serait redirigé vers une nouvelle page.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-149">In a web browser, this would actually take the user to a new page.</span></span> <span data-ttu-id="ed9b3-150">En revanche, votre client mobile ne peut pas être redirigé de cette façon et les réponses non authentifiées reçoivent une erreur HTTP *401 non autorisé*.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-150">However, your mobile client cannot be redirected in this way, and unauthenticated responses will receive an HTTP *401 Unauthorized* response.</span></span> <span data-ttu-id="ed9b3-151">C’est pour cela que la première requête de votre client doit toujours être adressée au point de terminaison de connexion. Vous pouvez alors effectuer des appels à d’autres API.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-151">Given this, the first request your client makes should always be to the login endpoint, and then you can make calls to any other APIs.</span></span> <span data-ttu-id="ed9b3-152">Si vous essayez d’appeler une autre API avant de vous connecter, votre client reçoit une erreur.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-152">If you attempt to call another API before logging in, your client will receive an error.</span></span>

<span data-ttu-id="ed9b3-153">Si vous voulez un contrôle plus granulaire des points de terminaison qui exigent une authentification, vous pouvez également choisir « Aucune action (autoriser la requête) » pour les requêtes non authentifiées.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-153">If you wish to have more granular control over which endpoints require authentication, you can also pick "No action (allow request)" for unauthenticated requests.</span></span> <span data-ttu-id="ed9b3-154">Dans ce cas, toutes les décisions d’authentification sont reportées dans le code de votre application.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-154">In this case, all authentication decisions are deferred to your application code.</span></span> <span data-ttu-id="ed9b3-155">Cela vous permet également d’autoriser l’accès à des utilisateurs spécifiques selon des règles d’autorisation personnalisées.</span><span class="sxs-lookup"><span data-stu-id="ed9b3-155">This also allows you to allow access to specific users based on custom authorization rules.</span></span>

## <a name="documentation"></a><span data-ttu-id="ed9b3-156">Documentation</span><span class="sxs-lookup"><span data-stu-id="ed9b3-156">Documentation</span></span>
<span data-ttu-id="ed9b3-157">Les didacticiels suivants montrent comment ajouter l’authentification à vos clients mobiles à l’aide d’App Service :</span><span class="sxs-lookup"><span data-stu-id="ed9b3-157">The following tutorials show how to add authentication to your mobile clients using App Service:</span></span>

* <span data-ttu-id="ed9b3-158">[Ajout de l'authentification à votre application iOS]</span><span class="sxs-lookup"><span data-stu-id="ed9b3-158">[Add authentication to your iOS app]</span></span>
* <span data-ttu-id="ed9b3-159">[Ajout de l'authentification à votre application Xamarin.iOS]</span><span class="sxs-lookup"><span data-stu-id="ed9b3-159">[Add authentication to your Xamarin.iOS app]</span></span>
* <span data-ttu-id="ed9b3-160">[Ajout de l'authentification à votre application Xamarin.Android]</span><span class="sxs-lookup"><span data-stu-id="ed9b3-160">[Add authentication to your Xamarin.Android app]</span></span>
* <span data-ttu-id="ed9b3-161">[Ajout de l’authentification à votre application Windows]</span><span class="sxs-lookup"><span data-stu-id="ed9b3-161">[Add Authentication to your Windows app]</span></span>

<span data-ttu-id="ed9b3-162">Les didacticiels suivants montrent comment configurer App Service pour exploiter différents fournisseurs d’authentification :</span><span class="sxs-lookup"><span data-stu-id="ed9b3-162">The following tutorials show how to configure App Service to leverage different authentication providers:</span></span>

* <span data-ttu-id="ed9b3-163">[Comment configurer votre application pour utiliser une connexion Azure Active Directory]</span><span class="sxs-lookup"><span data-stu-id="ed9b3-163">[How to configure your app to use Azure Active Directory login]</span></span>
* <span data-ttu-id="ed9b3-164">[Comment configurer votre application pour utiliser une connexion Facebook]</span><span class="sxs-lookup"><span data-stu-id="ed9b3-164">[How to configure your app to use Facebook login]</span></span>
* <span data-ttu-id="ed9b3-165">[Comment configurer votre application pour utiliser une connexion Google]</span><span class="sxs-lookup"><span data-stu-id="ed9b3-165">[How to configure your app to use Google login]</span></span>
* <span data-ttu-id="ed9b3-166">[Comment configurer votre application pour utiliser une connexion par compte Microsoft]</span><span class="sxs-lookup"><span data-stu-id="ed9b3-166">[How to configure your app to use Microsoft Account login]</span></span>
* <span data-ttu-id="ed9b3-167">[Comment configurer votre application pour utiliser une connexion Twitter]</span><span class="sxs-lookup"><span data-stu-id="ed9b3-167">[How to configure your app to use Twitter login]</span></span>

<span data-ttu-id="ed9b3-168">Si vous voulez utiliser un système d’identité différent de ceux fournis ici, vous pouvez également exploiter la [prise en charge de l’authentification personnalisée en version préliminaire dans le Kit de développement logiciel (SDK) serveur .NET](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#custom-auth).</span><span class="sxs-lookup"><span data-stu-id="ed9b3-168">If you wish to use an identity system other than the ones provided here, you can also leverage the [preview custom authentication support in the .NET server SDK](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#custom-auth).</span></span>

<span data-ttu-id="ed9b3-169">[Ajout de l'authentification à votre application iOS]: app-service-mobile-ios-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="ed9b3-169">[Add authentication to your iOS app]: app-service-mobile-ios-get-started-users.md</span></span>
<span data-ttu-id="ed9b3-170">[Ajout de l'authentification à votre application Xamarin.iOS]: app-service-mobile-xamarin-ios-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="ed9b3-170">[Add authentication to your Xamarin.iOS app]: app-service-mobile-xamarin-ios-get-started-users.md</span></span>
<span data-ttu-id="ed9b3-171">[Ajout de l'authentification à votre application Xamarin.Android]: app-service-mobile-xamarin-android-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="ed9b3-171">[Add authentication to your Xamarin.Android app]: app-service-mobile-xamarin-android-get-started-users.md</span></span>
<span data-ttu-id="ed9b3-172">[Ajout de l’authentification à votre application Windows]: app-service-mobile-windows-store-dotnet-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="ed9b3-172">[Add Authentication to your Windows app]: app-service-mobile-windows-store-dotnet-get-started-users.md</span></span>

<span data-ttu-id="ed9b3-173">[Comment configurer votre application pour utiliser une connexion Azure Active Directory]: app-service-mobile-how-to-configure-active-directory-authentication.md</span><span class="sxs-lookup"><span data-stu-id="ed9b3-173">[How to configure your app to use Azure Active Directory login]: app-service-mobile-how-to-configure-active-directory-authentication.md</span></span>
<span data-ttu-id="ed9b3-174">[Comment configurer votre application pour utiliser une connexion Facebook]: app-service-mobile-how-to-configure-facebook-authentication.md</span><span class="sxs-lookup"><span data-stu-id="ed9b3-174">[How to configure your app to use Facebook login]: app-service-mobile-how-to-configure-facebook-authentication.md</span></span>
<span data-ttu-id="ed9b3-175">[Comment configurer votre application pour utiliser une connexion Google]: app-service-mobile-how-to-configure-google-authentication.md</span><span class="sxs-lookup"><span data-stu-id="ed9b3-175">[How to configure your app to use Google login]: app-service-mobile-how-to-configure-google-authentication.md</span></span>
<span data-ttu-id="ed9b3-176">[Comment configurer votre application pour utiliser une connexion par compte Microsoft]: app-service-mobile-how-to-configure-microsoft-authentication.md</span><span class="sxs-lookup"><span data-stu-id="ed9b3-176">[How to configure your app to use Microsoft Account login]: app-service-mobile-how-to-configure-microsoft-authentication.md</span></span>
<span data-ttu-id="ed9b3-177">[Comment configurer votre application pour utiliser une connexion Twitter]: app-service-mobile-how-to-configure-twitter-authentication.md</span><span class="sxs-lookup"><span data-stu-id="ed9b3-177">[How to configure your app to use Twitter login]: app-service-mobile-how-to-configure-twitter-authentication.md</span></span>
