---
title: Activer la synchronisation hors connexion pour votre application de plateforme Windows universelle (UWP) avec Mobile Apps| Microsoft Docs
description: "Découvrez comment utiliser une application Azure Mobile pour mettre en cache et synchroniser les données hors connexion dans votre application de plateforme Windows universelle (UWP)."
documentationcenter: windows
author: ggailey777
manager: syntaxc4
editor: 
services: app-service\mobile
ms.assetid: 8fe51773-90de-4014-8a38-41544446d9b5
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: mobile-windows
ms.devlang: dotnet
ms.topic: article
ms.date: 10/01/2016
ms.author: glenga
ms.openlocfilehash: 4b0a57c3bab688487eb9a50461b406e1a6e477c6
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/03/2017
---
# <a name="enable-offline-sync-for-your-windows-app"></a><span data-ttu-id="3d56a-103">Activation de la synchronisation hors connexion pour votre application Windows</span><span class="sxs-lookup"><span data-stu-id="3d56a-103">Enable offline sync for your Windows app</span></span>
[!INCLUDE [app-service-mobile-selector-offline](../../includes/app-service-mobile-selector-offline.md)]

## <a name="overview"></a><span data-ttu-id="3d56a-104">Vue d'ensemble</span><span class="sxs-lookup"><span data-stu-id="3d56a-104">Overview</span></span>
<span data-ttu-id="3d56a-105">Ce didacticiel explique comment prendre en charge le mode hors connexion dans une application de plateforme Windows universelle (UWP) à l’aide d’un backend d’applications mobiles Azure.</span><span class="sxs-lookup"><span data-stu-id="3d56a-105">This tutorial shows you how to add offline support to a Universal Windows Platform (UWP) app using an Azure Mobile App backend.</span></span> <span data-ttu-id="3d56a-106">La synchronisation hors connexion permet aux utilisateurs finaux d’interagir avec une application mobile pour afficher, ajouter ou modifier des données, même lorsqu’il n’existe aucune connexion réseau.</span><span class="sxs-lookup"><span data-stu-id="3d56a-106">Offline sync allows end users to interact with a mobile app--viewing, adding, or modifying data - even when there is no network connection.</span></span> <span data-ttu-id="3d56a-107">Les modifications sont stockées dans une base de données locale.</span><span class="sxs-lookup"><span data-stu-id="3d56a-107">Changes are stored in a local database.</span></span> <span data-ttu-id="3d56a-108">Une fois l'appareil de nouveau en ligne, ces modifications sont synchronisées avec le serveur principal distant.</span><span class="sxs-lookup"><span data-stu-id="3d56a-108">Once the device is back online, these changes are synced with the remote backend.</span></span>

<span data-ttu-id="3d56a-109">Dans ce didacticiel, vous allez mettre à jour le projet d’application UWP du didacticiel [Créer une application Windows] pour prendre en charge les fonctionnalités hors connexion d’Azure Mobile Apps.</span><span class="sxs-lookup"><span data-stu-id="3d56a-109">In this tutorial, you update the UWP app project from the tutorial [Create a Windows app] to support the offline features of Azure Mobile Apps.</span></span> <span data-ttu-id="3d56a-110">Si vous n’utilisez pas le projet de serveur du démarrage rapide téléchargé, vous devez ajouter les packages d’extension d’accès aux données à votre projet.</span><span class="sxs-lookup"><span data-stu-id="3d56a-110">If you do not use the downloaded quick start server project, you must add the data access extension packages to your project.</span></span> <span data-ttu-id="3d56a-111">Pour plus d'informations sur les packages d'extension de serveur, consultez [Fonctionnement avec le Kit de développement logiciel (SDK) du serveur principal .NET pour Azure Mobile Apps](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span><span class="sxs-lookup"><span data-stu-id="3d56a-111">For more information about server extension packages, see [Work with the .NET backend server SDK for Azure Mobile Apps](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span></span>

<span data-ttu-id="3d56a-112">Pour plus d’informations sur la fonctionnalité de synchronisation hors connexion, consultez la rubrique [Synchronisation des données hors connexion dans Azure Mobile Apps].</span><span class="sxs-lookup"><span data-stu-id="3d56a-112">To learn more about the offline sync feature, see the topic [Offline Data Sync in Azure Mobile Apps].</span></span>

## <a name="requirements"></a><span data-ttu-id="3d56a-113">Configuration requise</span><span class="sxs-lookup"><span data-stu-id="3d56a-113">Requirements</span></span>
<span data-ttu-id="3d56a-114">Ce didacticiel nécessite les prérequis suivants :</span><span class="sxs-lookup"><span data-stu-id="3d56a-114">This tutorial requires the following pre-requisites:</span></span>

* <span data-ttu-id="3d56a-115">Visual Studio 2013 s’exécutant sous Windows 8.1 ou version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="3d56a-115">Visual Studio 2013 running on Windows 8.1 or later.</span></span>
* <span data-ttu-id="3d56a-116">finalisation de [Créer une application Windows][Créer une application Windows].</span><span class="sxs-lookup"><span data-stu-id="3d56a-116">Completion of [Create a Windows app][create a windows app].</span></span>
* <span data-ttu-id="3d56a-117">[Azure Mobile Services SQLite Store][sqlite store nuget]</span><span class="sxs-lookup"><span data-stu-id="3d56a-117">[Azure Mobile Services SQLite Store][sqlite store nuget]</span></span>
* [<span data-ttu-id="3d56a-118">SQLite pour développement sur plateforme Windows universelle</span><span class="sxs-lookup"><span data-stu-id="3d56a-118">SQLite for Universal Windows Platform development</span></span>](http://www.sqlite.org/downloads)

## <a name="update-the-client-app-to-support-offline-features"></a><span data-ttu-id="3d56a-119">Mettre à jour l’application cliente pour prendre en charge les fonctionnalités hors connexion</span><span class="sxs-lookup"><span data-stu-id="3d56a-119">Update the client app to support offline features</span></span>
<span data-ttu-id="3d56a-120">Les fonctionnalités hors connexion de l’application mobile Azure vous permettent d’interagir avec une base de données locale hors connexion.</span><span class="sxs-lookup"><span data-stu-id="3d56a-120">Azure Mobile App offline features allow you to interact with a local database when you are in an offline scenario.</span></span> <span data-ttu-id="3d56a-121">Pour utiliser ces fonctionnalités dans votre application, vous initialisez un [SyncContext][synccontext] dans un magasin local.</span><span class="sxs-lookup"><span data-stu-id="3d56a-121">To use these features in your app, you initialize a [SyncContext][synccontext] to a local store.</span></span> <span data-ttu-id="3d56a-122">Ensuite, vous référencez votre table par le biais de l'interface [IMobileServiceSyncTable][IMobileServiceSyncTable] .</span><span class="sxs-lookup"><span data-stu-id="3d56a-122">Then reference your table through the [IMobileServiceSyncTable][IMobileServiceSyncTable] interface.</span></span> <span data-ttu-id="3d56a-123">SQLite est utilisé comme magasin local sur l’appareil.</span><span class="sxs-lookup"><span data-stu-id="3d56a-123">SQLite is used as the local store on the device.</span></span>

1. <span data-ttu-id="3d56a-124">Installez le [Runtime SQLite pour la plateforme Windows universelle](http://sqlite.org/2016/sqlite-uwp-3120200.vsix).</span><span class="sxs-lookup"><span data-stu-id="3d56a-124">Install the [SQLite runtime for the Universal Windows Platform](http://sqlite.org/2016/sqlite-uwp-3120200.vsix).</span></span>
2. <span data-ttu-id="3d56a-125">Dans Visual Studio, ouvrez le gestionnaire de package NuGet du projet d’application UWP que vous avez finalisé dans le didacticiel [Créer une application Windows].</span><span class="sxs-lookup"><span data-stu-id="3d56a-125">In Visual Studio, open the NuGet package manager for the UWP app project that you completed in the [Create a Windows app] tutorial.</span></span>
    <span data-ttu-id="3d56a-126">Recherchez et installez le package NuGet **Microsoft.Azure.Mobile.Client.SQLiteStore**.</span><span class="sxs-lookup"><span data-stu-id="3d56a-126">Search for and install the **Microsoft.Azure.Mobile.Client.SQLiteStore** NuGet package.</span></span>
3. <span data-ttu-id="3d56a-127">Dans l’Explorateur de solutions, cliquez avec le bouton droit sur **Références** > **Ajouter une référence...** > **Windows universel** > **Extensions**, puis activez **SQLite pour plateforme Windows universelle** et **Runtime Visual C++ 2015 pour applications pour plateforme Windows universelle**.</span><span class="sxs-lookup"><span data-stu-id="3d56a-127">In Solution Explorer, right-click **References** > **Add Reference...** > **Universal Windows** > **Extensions**, then enable  both **SQLite for Universal Windows Platform** and **Visual C++ 2015 Runtime for Universal Windows Platform apps**.</span></span>

    ![Ajouter une référence SQLite UWP][1]
4. <span data-ttu-id="3d56a-129">Ouvrez le fichier MainPage.xaml.cs et supprimez les marques de commentaires de la définition `#define OFFLINE_SYNC_ENABLED`.</span><span class="sxs-lookup"><span data-stu-id="3d56a-129">Open the MainPage.xaml.cs file and uncomment the `#define OFFLINE_SYNC_ENABLED` definition.</span></span>
5. <span data-ttu-id="3d56a-130">Dans Visual Studio, appuyez sur **F5** pour régénérer et exécuter l'application cliente.</span><span class="sxs-lookup"><span data-stu-id="3d56a-130">In Visual Studio, press the **F5** key to rebuild and run the client app.</span></span> <span data-ttu-id="3d56a-131">L’application fonctionne comme elle le faisait avant l’activation de la synchronisation hors connexion.</span><span class="sxs-lookup"><span data-stu-id="3d56a-131">The app works the same as it did before you enabled offline sync.</span></span> <span data-ttu-id="3d56a-132">Toutefois, la base de données locale est maintenant remplie avec des données qui peuvent être utilisées dans un scénario hors connexion.</span><span class="sxs-lookup"><span data-stu-id="3d56a-132">However, the local database is now populated with data that can be used in an offline scenario.</span></span>

## <span data-ttu-id="3d56a-133"><a name="update-sync"></a>Mise à jour de l’application pour se déconnecter du backend</span><span class="sxs-lookup"><span data-stu-id="3d56a-133"><a name="update-sync"></a>Update the app to disconnect from the backend</span></span>
<span data-ttu-id="3d56a-134">Dans cette section, vous rompez la connexion avec votre backend d’application mobile afin de simuler un scénario hors connexion.</span><span class="sxs-lookup"><span data-stu-id="3d56a-134">In this section, you break the connection to your Mobile App backend to simulate an offline situation.</span></span> <span data-ttu-id="3d56a-135">Lorsque vous ajouterez des éléments de données, votre gestionnaire d’exceptions signalera que l’application est en mode hors connexion.</span><span class="sxs-lookup"><span data-stu-id="3d56a-135">When you add data items, your exception handler tells you that the app is in offline mode.</span></span> <span data-ttu-id="3d56a-136">Dans cet état, les nouveaux éléments ajoutés au magasin local seront synchronisés avec le backend de l’application mobile lors de la prochaine opération Push en état connecté.</span><span class="sxs-lookup"><span data-stu-id="3d56a-136">In this state, new items added in the local store and will be synced to the mobile app backend when push is next run in a connected state.</span></span>

1. <span data-ttu-id="3d56a-137">Modifiez App.xaml.cs dans le projet partagé.</span><span class="sxs-lookup"><span data-stu-id="3d56a-137">Edit App.xaml.cs in the shared project.</span></span> <span data-ttu-id="3d56a-138">Mettez en commentaire l’initialisation de **MobileServiceClient** et ajoutez les lignes suivantes qui utilisent une URL d’application mobile incorrecte :</span><span class="sxs-lookup"><span data-stu-id="3d56a-138">Comment out the initialization of the **MobileServiceClient** and add the following line, which uses an invalid mobile app URL:</span></span>

         public static MobileServiceClient MobileService = new MobileServiceClient("https://your-service.azurewebsites.fail");

    <span data-ttu-id="3d56a-139">Vous pouvez également illustrer le comportement en mode hors connexion en désactivant les réseaux Wi-Fi et cellulaire sur l’appareil ou utiliser le mode avion.</span><span class="sxs-lookup"><span data-stu-id="3d56a-139">You can also demonstrate offline behavior by disabling wifi and cellular networks on the device or use airplane mode.</span></span>
2. <span data-ttu-id="3d56a-140">Appuyez sur **F5** pour générer et exécuter l'application.</span><span class="sxs-lookup"><span data-stu-id="3d56a-140">Press **F5** to build and run the app.</span></span> <span data-ttu-id="3d56a-141">Notez que la synchronisation a échoué lors de l’actualisation au lancement de l’application.</span><span class="sxs-lookup"><span data-stu-id="3d56a-141">Notice your sync failed on refresh when the app launched.</span></span>
3. <span data-ttu-id="3d56a-142">Entrez de nouveaux éléments et notez que l’opération Push échoue avec un état [CancelledByNetworkError] chaque fois que vous cliquez sur **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="3d56a-142">Enter new items and notice that push fails with a [CancelledByNetworkError] status each time you click **Save**.</span></span> <span data-ttu-id="3d56a-143">Cependant, les nouveaux éléments todo existent dans le magasin local tant qu’ils ne sont pas transmis au backend d’application mobile.</span><span class="sxs-lookup"><span data-stu-id="3d56a-143">However, the new todo items exist in the local store until they can be pushed to the mobile app backend.</span></span>  <span data-ttu-id="3d56a-144">Dans une application de production, si vous supprimez ces exceptions, l’application cliente se comporte comme si elle est encore connectée au backend de l’application mobile.</span><span class="sxs-lookup"><span data-stu-id="3d56a-144">In a production app, if you suppress these exceptions the client app behaves as if it's still connected to the mobile app backend.</span></span>
4. <span data-ttu-id="3d56a-145">Fermez l’application et redémarrez-la pour vérifier que les nouveaux élément que vous avez créés sont conservés dans le magasin local.</span><span class="sxs-lookup"><span data-stu-id="3d56a-145">Close the app and restart it to verify that the new items you created are persisted to the local store.</span></span>
5. <span data-ttu-id="3d56a-146">(Facultatif) Dans Visual Studio, ouvrez l’ **Explorateur de serveurs**.</span><span class="sxs-lookup"><span data-stu-id="3d56a-146">(Optional) In Visual Studio, open **Server Explorer**.</span></span> <span data-ttu-id="3d56a-147">Accédez à votre base de données dans **Azure**->**Bases de données SQL**.</span><span class="sxs-lookup"><span data-stu-id="3d56a-147">Navigate to your database in **Azure**->**SQL Databases**.</span></span> <span data-ttu-id="3d56a-148">Cliquez avec le bouton droit sur votre base de données, puis sélectionnez **Ouvrir dans l’Explorateur d’objets SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="3d56a-148">Right-click your database and select **Open in SQL Server Object Explorer**.</span></span> <span data-ttu-id="3d56a-149">Maintenant, vous pouvez accéder à votre table de base de données SQL et à son contenu.</span><span class="sxs-lookup"><span data-stu-id="3d56a-149">Now you can browse to your SQL database table and its contents.</span></span> <span data-ttu-id="3d56a-150">Vérifiez que les données dans la base de données backend n’ont pas changé.</span><span class="sxs-lookup"><span data-stu-id="3d56a-150">Verify that the data in the backend database has not changed.</span></span>
6. <span data-ttu-id="3d56a-151">(Facultatif) Utilisez un outil REST tel que Fiddler ou Postman pour interroger votre serveur principal mobile, à l’aide d’une requête GET au format `https://<your-mobile-app-backend-name>.azurewebsites.net/tables/TodoItem`.</span><span class="sxs-lookup"><span data-stu-id="3d56a-151">(Optional) Use a REST tool such as Fiddler or Postman to query your mobile backend, using a GET query in the form `https://<your-mobile-app-backend-name>.azurewebsites.net/tables/TodoItem`.</span></span>

## <span data-ttu-id="3d56a-152"><a name="update-online-app"></a>Mettre à jour l’application pour la reconnecter à votre backend d’application mobile</span><span class="sxs-lookup"><span data-stu-id="3d56a-152"><a name="update-online-app"></a>Update the app to reconnect your Mobile App backend</span></span>
<span data-ttu-id="3d56a-153">Dans cette section, vous reconnectez l’application au backend d’application mobile.</span><span class="sxs-lookup"><span data-stu-id="3d56a-153">In this section, you reconnect the app to the mobile app backend.</span></span> <span data-ttu-id="3d56a-154">Ces modifications simulent une reconnexion du réseau sur l’application.</span><span class="sxs-lookup"><span data-stu-id="3d56a-154">These changes simulate a network reconnection on the app.</span></span>

<span data-ttu-id="3d56a-155">Lors de la première exécution de l’application, le gestionnaire d’événements `OnNavigatedTo` appelle `InitLocalStoreAsync`.</span><span class="sxs-lookup"><span data-stu-id="3d56a-155">When you first run the application, the `OnNavigatedTo` event handler calls `InitLocalStoreAsync`.</span></span> <span data-ttu-id="3d56a-156">Cette méthode appelle ensuite `SyncAsync` pour permettre la synchronisation de votre magasin local avec la base de données du backend.</span><span class="sxs-lookup"><span data-stu-id="3d56a-156">This method in turn calls `SyncAsync` to sync your local store with the backend database.</span></span> <span data-ttu-id="3d56a-157">L’application fait une tentative de synchronisation au démarrage.</span><span class="sxs-lookup"><span data-stu-id="3d56a-157">The app attempts to sync on startup.</span></span>

1. <span data-ttu-id="3d56a-158">Ouvrez App.xaml.cs dans le projet partagé, et supprimez les commentaires de votre précédente initialisation de `MobileServiceClient` pour utiliser la bonne URL de l’application mobile.</span><span class="sxs-lookup"><span data-stu-id="3d56a-158">Open App.xaml.cs in the shared project, and uncomment your previous initialization of `MobileServiceClient` to use the correct the mobile app URL.</span></span>
2. <span data-ttu-id="3d56a-159">Appuyez sur **F5** pour régénérer et exécuter l'application.</span><span class="sxs-lookup"><span data-stu-id="3d56a-159">Press the **F5** key to rebuild and run the app.</span></span> <span data-ttu-id="3d56a-160">L’application synchronise vos modifications locales sur le backend d’application mobile Azure par des opérations Push et Pull lorsque le gestionnaire d’événements `OnNavigatedTo` s’exécute.</span><span class="sxs-lookup"><span data-stu-id="3d56a-160">The app syncs your local changes with the Azure Mobile App backend using push and pull operations when the `OnNavigatedTo` event handler executes.</span></span>
3. <span data-ttu-id="3d56a-161">(Facultatif) Affichez les données mises à jour à l’aide de l’Explorateur d’objets SQL Server ou d’un outil REST tel que Fiddler.</span><span class="sxs-lookup"><span data-stu-id="3d56a-161">(Optional) View the updated data using either SQL Server Object Explorer or a REST tool like Fiddler.</span></span> <span data-ttu-id="3d56a-162">Notez que les données ont été synchronisées entre la base de données du backend d’application mobile Azure et le magasin local.</span><span class="sxs-lookup"><span data-stu-id="3d56a-162">Notice the data has been synchronized between the Azure Mobile App backend database and the local store.</span></span>
4. <span data-ttu-id="3d56a-163">Dans l'application, cochez la case en regard de quelques éléments pour les exécuter dans le magasin local.</span><span class="sxs-lookup"><span data-stu-id="3d56a-163">In the app, click the check box beside a few items to complete them in the local store.</span></span>

   <span data-ttu-id="3d56a-164">`UpdateCheckedTodoItem` appelle `SyncAsync` pour synchroniser chaque élément complété avec le backend d’application mobile.</span><span class="sxs-lookup"><span data-stu-id="3d56a-164">`UpdateCheckedTodoItem` calls `SyncAsync` to sync each completed item with the Mobile App backend.</span></span> <span data-ttu-id="3d56a-165">`SyncAsync` appelle des opérations Push et Pull.</span><span class="sxs-lookup"><span data-stu-id="3d56a-165">`SyncAsync` calls both push and pull.</span></span> <span data-ttu-id="3d56a-166">Toutefois, **chaque fois que vous exécutez une opération Pull sur une table modifiée par le client, une opération push préalable est effectuée automatiquement**.</span><span class="sxs-lookup"><span data-stu-id="3d56a-166">However, **whenever you execute a pull against a table that the client has made changes to, a push is always executed automatically**.</span></span> <span data-ttu-id="3d56a-167">Ce comportement garantit la cohérence de toutes les tables dans le magasin local, mais aussi des relations.</span><span class="sxs-lookup"><span data-stu-id="3d56a-167">This behavior ensures all tables in the local store along with relationships remain consistent.</span></span> <span data-ttu-id="3d56a-168">Il peut entraîner un push inattendu.</span><span class="sxs-lookup"><span data-stu-id="3d56a-168">This behavior may result in an unexpected push.</span></span>  <span data-ttu-id="3d56a-169">Pour plus d’informations, consultez la page [Synchronisation des données hors connexion dans Azure Mobile Apps].</span><span class="sxs-lookup"><span data-stu-id="3d56a-169">For more information on this behavior, see [Offline Data Sync in Azure Mobile Apps].</span></span>

## <a name="api-summary"></a><span data-ttu-id="3d56a-170">Résumé de l’API</span><span class="sxs-lookup"><span data-stu-id="3d56a-170">API Summary</span></span>
<span data-ttu-id="3d56a-171">Pour pouvoir prendre en charge les fonctionnalités hors connexion des services mobiles, nous avons utilisé l’interface [IMobileServiceSyncTable] et initialisé [MobileServiceClient.SyncContext][synccontext] avec une base de données SQL locale.</span><span class="sxs-lookup"><span data-stu-id="3d56a-171">To support the offline features of mobile services, we used the [IMobileServiceSyncTable] interface and initialized [MobileServiceClient.SyncContext][synccontext] with a local SQLite database.</span></span> <span data-ttu-id="3d56a-172">Lorsque vous êtes hors connexion, Les opérations normales de création, lecture, mise à jour et suppression pour Mobile Apps fonctionnent comme si l’application était toujours connectée, mais toutes les opérations se rapportent au magasin local.</span><span class="sxs-lookup"><span data-stu-id="3d56a-172">When offline, the normal CRUD operations for Mobile Apps work as if the app is still connected while the operations occur against the local store.</span></span> <span data-ttu-id="3d56a-173">Les méthodes suivantes servent à synchroniser le magasin local avec le serveur :</span><span class="sxs-lookup"><span data-stu-id="3d56a-173">The following methods are used to synchronize the local store with the server:</span></span>

* <span data-ttu-id="3d56a-174">**[PushAsync]** Cette méthode étant membre de [IMobileServicesSyncContext], les modifications sur toutes les tables sont envoyées au backend par push.</span><span class="sxs-lookup"><span data-stu-id="3d56a-174">**[PushAsync]** Because this method is a member of [IMobileServicesSyncContext], changes across all tables are pushed to the backend.</span></span> <span data-ttu-id="3d56a-175">Seuls les enregistrements avec des modifications locales sont envoyés au serveur.</span><span class="sxs-lookup"><span data-stu-id="3d56a-175">Only records with local changes are sent to the server.</span></span>
* <span data-ttu-id="3d56a-176">**[PullAsync]** Une extraction (pull) est démarrée à partir d’une interface [IMobileServiceSyncTable].</span><span class="sxs-lookup"><span data-stu-id="3d56a-176">**[PullAsync]** A pull is started from a [IMobileServiceSyncTable].</span></span> <span data-ttu-id="3d56a-177">Lorsque les modifications sont suivies dans une table, une opération Push implicite est exécutée pour s’assurer de la cohérence de toutes les tables du magasin local et des relations.</span><span class="sxs-lookup"><span data-stu-id="3d56a-177">When there are tracked changes in the table, an implicit push is run to make sure that all tables in the local store along with relationships remain consistent.</span></span> <span data-ttu-id="3d56a-178">Le paramètre *pushOtherTables* contrôle si d’autres tables dans le contexte sont envoyées par une opération Push implicite.</span><span class="sxs-lookup"><span data-stu-id="3d56a-178">The *pushOtherTables* parameter controls whether other tables in the context are pushed in an implicit push.</span></span> <span data-ttu-id="3d56a-179">Le paramètre *query* prend une chaîne de requête [IMobileServiceTableQuery<T>][IMobileServiceTableQuery] ou OData pour filtrer les données renvoyées.</span><span class="sxs-lookup"><span data-stu-id="3d56a-179">The *query* parameter takes an [IMobileServiceTableQuery<T>][IMobileServiceTableQuery] or OData query string to filter the returned data.</span></span> <span data-ttu-id="3d56a-180">Le paramètre *queryId* est utilisé pour définir la synchronisation incrémentielle.</span><span class="sxs-lookup"><span data-stu-id="3d56a-180">The *queryId* parameter is used to define incremental sync.</span></span> <span data-ttu-id="3d56a-181">Pour en savoir plus, consultez [Synchronisation des données hors connexion dans Azure Mobile Apps](app-service-mobile-offline-data-sync.md#how-sync-works).</span><span class="sxs-lookup"><span data-stu-id="3d56a-181">For more information, see [Offline Data Sync in Azure Mobile Apps](app-service-mobile-offline-data-sync.md#how-sync-works).</span></span>
* <span data-ttu-id="3d56a-182">**[PurgeAsync]** Votre application doit appeler régulièrement cette méthode pour vider les données obsolètes du magasin local.</span><span class="sxs-lookup"><span data-stu-id="3d56a-182">**[PurgeAsync]** Your app should periodically call this method to purge stale data from the local store.</span></span> <span data-ttu-id="3d56a-183">Utilisez le paramètre *force* lorsque vous avez besoin de vider toutes les modifications qui n’ont pas encore été synchronisées.</span><span class="sxs-lookup"><span data-stu-id="3d56a-183">Use the *force* parameter when you need to purge any changes that have not yet been synced.</span></span>

<span data-ttu-id="3d56a-184">Pour plus d’informations sur ces concepts, consultez la page [Synchronisation des données hors connexion dans Azure Mobile Apps](app-service-mobile-offline-data-sync.md#how-sync-works).</span><span class="sxs-lookup"><span data-stu-id="3d56a-184">For more information about these concepts, see [Offline Data Sync in Azure Mobile Apps](app-service-mobile-offline-data-sync.md#how-sync-works).</span></span>

## <a name="more-info"></a><span data-ttu-id="3d56a-185">En savoir plus</span><span class="sxs-lookup"><span data-stu-id="3d56a-185">More info</span></span>
<span data-ttu-id="3d56a-186">Les rubriques suivantes fournissent des informations générales supplémentaires sur la fonctionnalité de synchronisation hors connexion de Mobile Apps :</span><span class="sxs-lookup"><span data-stu-id="3d56a-186">The following topics provide additional background information on the offline sync feature of Mobile Apps:</span></span>

* <span data-ttu-id="3d56a-187">[Synchronisation des données hors connexion dans Azure Mobile Apps]</span><span class="sxs-lookup"><span data-stu-id="3d56a-187">[Offline Data Sync in Azure Mobile Apps]</span></span>
* <span data-ttu-id="3d56a-188">[SDK HOWTO Azure Mobile Apps .NET][8]</span><span class="sxs-lookup"><span data-stu-id="3d56a-188">[Azure Mobile Apps .NET SDK HOWTO][8]</span></span>

<!-- Anchors. -->
[Update the app to support offline features]: #enable-offline-app
[Update the sync behavior of the app]: #update-sync
[Update the app to reconnect your Mobile Apps backend]: #update-online-app
[Next Steps]:#next-steps

<!-- Images -->
[1]: ./media/app-service-mobile-windows-store-dotnet-get-started-offline-data/app-service-mobile-add-reference-sqlite-dialog.png
[11]: ./media/app-service-mobile-windows-store-dotnet-get-started-offline-data/app-service-mobile-add-wp81-reference-sqlite-dialog.png
[13]: ./media/app-service-mobile-windows-store-dotnet-get-started-offline-data/cpu-architecture.png


<!-- URLs. -->
<span data-ttu-id="3d56a-189">[Synchronisation des données hors connexion dans Azure Mobile Apps]: app-service-mobile-offline-data-sync.md</span><span class="sxs-lookup"><span data-stu-id="3d56a-189">[Offline Data Sync in Azure Mobile Apps]: app-service-mobile-offline-data-sync.md</span></span>
<span data-ttu-id="3d56a-190">[Créer une application Windows]: app-service-mobile-windows-store-dotnet-get-started.md</span><span class="sxs-lookup"><span data-stu-id="3d56a-190">[create a windows app]: app-service-mobile-windows-store-dotnet-get-started.md</span></span>
[SQLite for Windows 8.1]: http://go.microsoft.com/fwlink/?LinkID=716919
[SQLite for Windows Phone 8.1]: http://go.microsoft.com/fwlink/?LinkID=716920
[SQLite for Windows 10]: http://go.microsoft.com/fwlink/?LinkID=716921
[synccontext]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.mobileserviceclient.synccontext(v=azure.10).aspx
[sqlite store nuget]: https://www.nuget.org/packages/Microsoft.Azure.Mobile.Client.SQLiteStore/
<span data-ttu-id="3d56a-191">[IMobileServiceSyncTable]: https://msdn.microsoft.com/library/azure/mt691742(v=azure.10).aspx</span><span class="sxs-lookup"><span data-stu-id="3d56a-191">[IMobileServiceSyncTable]: https://msdn.microsoft.com/library/azure/mt691742(v=azure.10).aspx</span></span>
[IMobileServiceTableQuery]: https://msdn.microsoft.com/library/azure/dn250631(v=azure.10).aspx
<span data-ttu-id="3d56a-192">[IMobileServicesSyncContext]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.imobileservicesynccontext(v=azure.10).aspx</span><span class="sxs-lookup"><span data-stu-id="3d56a-192">[IMobileServicesSyncContext]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.imobileservicesynccontext(v=azure.10).aspx</span></span>
[MobileServicePushFailedException]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.mobileservicepushfailedexception(v=azure.10).aspx
[Status]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.mobileservicepushcompletionresult.status(v=azure.10).aspx
<span data-ttu-id="3d56a-193">[CancelledByNetworkError]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.mobileservicepushstatus(v=azure.10).aspx</span><span class="sxs-lookup"><span data-stu-id="3d56a-193">[CancelledByNetworkError]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.mobileservicepushstatus(v=azure.10).aspx</span></span>
<span data-ttu-id="3d56a-194">[PullAsync]: https://msdn.microsoft.com/library/azure/mt667558(v=azure.10).aspx</span><span class="sxs-lookup"><span data-stu-id="3d56a-194">[PullAsync]: https://msdn.microsoft.com/library/azure/mt667558(v=azure.10).aspx</span></span>
<span data-ttu-id="3d56a-195">[PushAsync]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.mobileservicesynccontextextensions.pushasync(v=azure.10).aspx</span><span class="sxs-lookup"><span data-stu-id="3d56a-195">[PushAsync]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.mobileservicesynccontextextensions.pushasync(v=azure.10).aspx</span></span>
<span data-ttu-id="3d56a-196">[PurgeAsync]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.imobileservicesynctable.purgeasync(v=azure.10).aspx</span><span class="sxs-lookup"><span data-stu-id="3d56a-196">[PurgeAsync]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.imobileservicesynctable.purgeasync(v=azure.10).aspx</span></span>
[8]: app-service-mobile-dotnet-how-to-use-client-library.md
