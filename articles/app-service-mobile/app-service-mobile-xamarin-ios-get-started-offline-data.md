---
title: aaaEnable la synchronisation hors connexion pour votre application Mobile de Azure (Xamarin iOS)
description: "Découvrez comment toouse l’application Mobile App Service toocache et la synchronisation de données hors connexion dans votre application iOS de Xamarin"
documentationcenter: xamarin
author: ggailey777
manager: cfowler
editor: 
services: app-service\mobile
ms.assetid: 828a287c-5d58-4540-9527-1309ebb0f32b
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: mobile-xamarin-ios
ms.devlang: dotnet
ms.topic: article
ms.date: 10/01/2016
ms.author: glenga
ms.openlocfilehash: 5243f2d292377d8de103a40f45d649394f11b97c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="enable-offline-sync-for-your-xamarinios-mobile-app"></a><span data-ttu-id="b9ca4-103">Activer la synchronisation hors connexion pour votre application mobile Xamarin.iOS</span><span class="sxs-lookup"><span data-stu-id="b9ca4-103">Enable offline sync for your Xamarin.iOS mobile app</span></span>
[!INCLUDE [app-service-mobile-selector-offline](../../includes/app-service-mobile-selector-offline.md)]

## <a name="overview"></a><span data-ttu-id="b9ca4-104">Vue d'ensemble</span><span class="sxs-lookup"><span data-stu-id="b9ca4-104">Overview</span></span>
<span data-ttu-id="b9ca4-105">Ce didacticiel présente la fonctionnalité de synchronisation hors connexion hello des applications mobiles Azure pour Xamarin.iOS.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-105">This tutorial introduces hello offline sync feature of Azure Mobile Apps for Xamarin.iOS.</span></span> <span data-ttu-id="b9ca4-106">Synchronisation hors connexion permet de toointeract des utilisateurs finaux avec une application mobile--affichage, l’ajout ou la modification des données, même lorsqu’il n’existe aucune connexion réseau.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-106">Offline sync allows end users toointeract with a mobile app--viewing, adding, or modifying data--even when there is no network connection.</span></span> <span data-ttu-id="b9ca4-107">Les modifications sont stockées dans une base de données locale.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-107">Changes are stored in a local database.</span></span> <span data-ttu-id="b9ca4-108">Une fois que l’appareil de hello est remis en ligne, ces modifications sont synchronisées avec le service distant hello.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-108">Once hello device is back online, these changes are synced with hello remote service.</span></span>

<span data-ttu-id="b9ca4-109">Dans ce didacticiel, mettre à jour de projet d’application hello Xamarin.iOS de [créer une application iOS de Xamarin] toosupport hello des fonctions hors connexion des applications mobiles Azure.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-109">In this tutorial, update hello Xamarin.iOS app project from [Create a Xamarin iOS app] toosupport hello offline features of Azure Mobile Apps.</span></span> <span data-ttu-id="b9ca4-110">Si vous n’utilisez pas hello téléchargé le projet de démarrage rapide de serveur, vous devez ajouter des packages d’extension hello données accès à votre projet.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-110">If you do not use hello downloaded quick start server project, you must add hello data access extension packages to your project.</span></span> <span data-ttu-id="b9ca4-111">Pour plus d’informations sur les packages d’extension de serveur, consultez [fonctionne avec serveur principal de .NET hello SDK pour les applications mobiles Azure](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span><span class="sxs-lookup"><span data-stu-id="b9ca4-111">For more information about server extension packages, see [Work with hello .NET backend server SDK for Azure Mobile Apps](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span></span>

<span data-ttu-id="b9ca4-112">toolearn en savoir plus sur la fonctionnalité de synchronisation hors connexion hello, consultez rubrique de hello [synchronisation des données hors connexion dans les applications mobiles Azure].</span><span class="sxs-lookup"><span data-stu-id="b9ca4-112">toolearn more about hello offline sync feature, see hello topic [Offline Data Sync in Azure Mobile Apps].</span></span>

## <a name="update-hello-client-app-toosupport-offline-features"></a><span data-ttu-id="b9ca4-113">Mettre à jour des fonctions hors connexion hello client application toosupport</span><span class="sxs-lookup"><span data-stu-id="b9ca4-113">Update hello client app toosupport offline features</span></span>
<span data-ttu-id="b9ca4-114">Les fonctionnalités en mode hors connexion de l’application Mobile Azure permettent de toointeract avec une base de données local lorsque vous êtes dans un scénario hors connexion.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-114">Azure Mobile App offline features allow you toointeract with a local database when you are in an offline scenario.</span></span> <span data-ttu-id="b9ca4-115">l’initialisation de ces fonctionnalités dans votre application, toouse un [SyncContext] magasin local de tooa.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-115">toouse these features in your app, initialize a [SyncContext] tooa local store.</span></span> <span data-ttu-id="b9ca4-116">Faire référence à la table via l’interface de hello [IMobileServiceSyncTable].</span><span class="sxs-lookup"><span data-stu-id="b9ca4-116">Reference your table through hello [IMobileServiceSyncTable] interface.</span></span> <span data-ttu-id="b9ca4-117">SQLite est utilisé comme magasin local hello périphérique de hello.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-117">SQLite is used as hello local store on hello device.</span></span>

1. <span data-ttu-id="b9ca4-118">Gestionnaire de package NuGet hello ouvert dans le projet hello que vous avez hello [créer une application iOS de Xamarin] didacticiel, puis recherchez et installez hello **Microsoft.Azure.Mobile.Client.SQLiteStore** NuGet package.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-118">Open hello NuGet package manager in hello project that you completed in hello [Create a Xamarin iOS app] tutorial,  then search for and install hello **Microsoft.Azure.Mobile.Client.SQLiteStore** NuGet package.</span></span>
2. <span data-ttu-id="b9ca4-119">Ouvrir le fichier de QSTodoService.cs hello et supprimez les commentaires hello `#define OFFLINE_SYNC_ENABLED` définition.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-119">Open hello QSTodoService.cs file and uncomment hello `#define OFFLINE_SYNC_ENABLED` definition.</span></span>
3. <span data-ttu-id="b9ca4-120">Regénérez et exécutez l’application cliente de hello.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-120">Rebuild and run hello client app.</span></span> <span data-ttu-id="b9ca4-121">application Hello fonctionne hello même tel qu’il le faisait avant que vous avez activé la synchronisation hors connexion. Toutefois, base de données locale hello est maintenant remplie avec les données qui peuvent être utilisées dans un scénario hors connexion.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-121">hello app works hello same as it did before you enabled offline sync. However, hello local database is now populated with data that can be used in an offline scenario.</span></span>

## <span data-ttu-id="b9ca4-122"><a name="update-sync"></a>Mettre à jour toodisconnect d’application hello de hello principal</span><span class="sxs-lookup"><span data-stu-id="b9ca4-122"><a name="update-sync"></a>Update hello app toodisconnect from hello backend</span></span>
<span data-ttu-id="b9ca4-123">Dans cette section, vous rompez hello connexion tooyour Mobile application back-end toosimulate une situation hors connexion.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-123">In this section, you break hello connection tooyour Mobile App backend toosimulate an offline situation.</span></span> <span data-ttu-id="b9ca4-124">Lorsque vous ajoutez des éléments de données, votre gestionnaire d’exception vous indique cette application hello est en mode hors connexion.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-124">When you add data items, your exception handler tells you that hello app is in offline mode.</span></span> <span data-ttu-id="b9ca4-125">Dans cet état, les nouveaux éléments ajoutés dans hello local stockent et seront synchronisées pour hello principal de l’application mobile lors de la prochaine exécution push dans l’état connecté.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-125">In this state, new items added in hello local store and will be synced to hello mobile app backend when push is next run in a connected state.</span></span>

1. <span data-ttu-id="b9ca4-126">Modifier QSToDoService.cs dans le projet partagé de hello.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-126">Edit QSToDoService.cs in hello shared project.</span></span> <span data-ttu-id="b9ca4-127">Hello de modification **applicationURL** URL non valide de toopoint tooan :</span><span class="sxs-lookup"><span data-stu-id="b9ca4-127">Change hello **applicationURL** toopoint tooan invalid URL:</span></span>

         const string applicationURL = @"https://your-service.azurewebsites.fail";

    <span data-ttu-id="b9ca4-128">Vous pouvez également montrer le comportement en mode hors connexion en désactivant des Wi-Fi et les réseaux cellulaires sur l’appareil de hello ou à l’aide du mode avion.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-128">You can also demonstrate offline behavior by disabling wifi and cellular networks on hello device or using airplane mode.</span></span>
2. <span data-ttu-id="b9ca4-129">Générez et exécutez l’application hello.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-129">Build and run hello app.</span></span> <span data-ttu-id="b9ca4-130">Notez que la synchronisation a échoué lors de l’actualisation lorsque hello application lancée.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-130">Notice your sync failed on refresh when hello app launched.</span></span>
3. <span data-ttu-id="b9ca4-131">Entrez de nouveaux éléments et notez que l’opération d’envoi échoue avec un état [CancelledByNetworkError] chaque fois que vous cliquez sur **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-131">Enter new items and notice that push fails with a [CancelledByNetworkError] status each time you click **Save**.</span></span> <span data-ttu-id="b9ca4-132">Toutefois, les nouveaux éléments de tâche hello existent dans le magasin local de hello jusqu'à ce que le serveur principal d’application mobile toohello elles peuvent être appliquées.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-132">However, hello new todo items exist in hello local store until they can be pushed toohello mobile app backend.</span></span>  <span data-ttu-id="b9ca4-133">Dans une production application, si vous supprimez ces exceptions hello client application se comporte comme s’il est toujours connecté principal d’application mobile toohello.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-133">In a production app, if you suppress these exceptions hello client app behaves as if it's still connected toohello mobile app backend.</span></span>
4. <span data-ttu-id="b9ca4-134">Fermez l’application hello et redémarrez-le tooverify que hello nouveaux éléments que vous avez créé sont magasin local de toohello persistante.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-134">Close hello app and restart it tooverify that hello new items you created are persisted toohello local store.</span></span>
5. <span data-ttu-id="b9ca4-135">(Facultatif) Si Visual Studio est installé sur votre PC, ouvrez l’**Explorateur de serveurs**.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-135">(Optional) If you have Visual Studio installed on a PC, open **Server Explorer**.</span></span> <span data-ttu-id="b9ca4-136">Accédez de la base de données tooyour dans **Azure**-> **bases de données SQL**.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-136">Navigate tooyour database in **Azure**-> **SQL Databases**.</span></span> <span data-ttu-id="b9ca4-137">Cliquez avec le bouton droit sur votre base de données, puis sélectionnez **Ouvrir dans l’Explorateur d’objets SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-137">Right-click your database and select **Open in SQL Server Object Explorer**.</span></span> <span data-ttu-id="b9ca4-138">Vous pouvez maintenant rechercher table de base de données SQL tooyour et son contenu.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-138">Now you can browse tooyour SQL database table and its contents.</span></span> <span data-ttu-id="b9ca4-139">Vérifiez que les données de salutation dans la base de données principale hello n’a pas changé.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-139">Verify that hello data in hello backend database has not changed.</span></span>
6. <span data-ttu-id="b9ca4-140">(Facultatif) Utiliser un outil REST tel que Fiddler ou Postman tooquery votre serveur principal mobile, à l’aide d’une requête GET sous la forme `https://<your-mobile-app-backend-name>.azurewebsites.net/tables/TodoItem`.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-140">(Optional) Use a REST tool such as Fiddler or Postman tooquery your mobile backend, using a GET query in the form `https://<your-mobile-app-backend-name>.azurewebsites.net/tables/TodoItem`.</span></span>

## <span data-ttu-id="b9ca4-141"><a name="update-online-app"></a>Mettre à jour hello application tooreconnect votre serveur principal de l’application Mobile</span><span class="sxs-lookup"><span data-stu-id="b9ca4-141"><a name="update-online-app"></a>Update hello app tooreconnect your Mobile App backend</span></span>
<span data-ttu-id="b9ca4-142">Dans cette section, reconnectez le serveur principal d’application mobile hello application toohello.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-142">In this section, reconnect hello app toohello mobile app backend.</span></span> <span data-ttu-id="b9ca4-143">Cela simule l’application hello déplacement d’un état en ligne tooan d’état hors connexion avec le serveur principal d’application mobile hello.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-143">This simulates hello app moving from an offline state tooan online state with hello mobile app backend.</span></span>   <span data-ttu-id="b9ca4-144">Si vous simulé rupture de réseau hello en désactivant la connectivité réseau, aucune modification de code n’est nécessaires.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-144">If you simulated hello network breakage by turning off network connectivity, no code changes are needed.</span></span>
<span data-ttu-id="b9ca4-145">Réactiver les réseau hello.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-145">Turn hello network on again.</span></span>  <span data-ttu-id="b9ca4-146">Lorsque vous exécutez tout d’abord des application hello, hello `RefreshDataAsync` méthode est appelée.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-146">When you first run hello application, hello `RefreshDataAsync` method is called.</span></span> <span data-ttu-id="b9ca4-147">Cette action appelle à son tour `SyncAsync` toosync local stocker avec la base de données principale hello.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-147">This in turn calls `SyncAsync` toosync your local store with hello backend database.</span></span>

1. <span data-ttu-id="b9ca4-148">Ouvrez QSToDoService.cs dans le projet partagé de hello et annuler votre modification de hello **applicationURL** propriété.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-148">Open QSToDoService.cs in hello shared project, and revert your change of hello **applicationURL** property.</span></span>
2. <span data-ttu-id="b9ca4-149">Regénérez et exécutez l’application hello.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-149">Rebuild and run hello app.</span></span> <span data-ttu-id="b9ca4-150">Hello application à synchroniser vos modifications locales avec le serveur principal de l’application Mobile Azure hello à l’aide d’opérations push et pull lorsque hello `OnRefreshItemsSelected` méthode s’exécute.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-150">hello app syncs your local changes with hello Azure Mobile App backend using push and pull operations when hello `OnRefreshItemsSelected` method executes.</span></span>
3. <span data-ttu-id="b9ca4-151">(Facultatif) Hello d’affichage mis à jour les données à l’aide de l’Explorateur d’objets SQL Server ou d’un outil REST, comme Fiddler.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-151">(Optional) View hello updated data using either SQL Server Object Explorer or a REST tool like Fiddler.</span></span> <span data-ttu-id="b9ca4-152">Les données de salutation avis a été synchronisées entre la base de données principale de l’application Mobile Azure hello et magasin local de hello.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-152">Notice hello data has been synchronized between hello Azure Mobile App backend database and hello local store.</span></span>
4. <span data-ttu-id="b9ca4-153">Dans l’application hello, cliquez sur Rechercher de hello zone en regard de quelques éléments toocomplete les dans le magasin local de hello.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-153">In hello app, click hello check box beside a few items toocomplete them in hello local store.</span></span>

   <span data-ttu-id="b9ca4-154">`CompleteItemAsync`appels `SyncAsync` élément toosync chaque s’est terminée avec le serveur principal de l’application Mobile hello.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-154">`CompleteItemAsync` calls `SyncAsync` toosync each completed item with hello Mobile App backend.</span></span> <span data-ttu-id="b9ca4-155">`SyncAsync` appelle des opérations Push et Pull.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-155">`SyncAsync` calls both push and pull.</span></span>
   <span data-ttu-id="b9ca4-156">**Chaque fois que vous exécutez une extraction sur une table pour ce client hello a apporté des modifications à, un push sur le contexte de synchronisation hello client est toujours exécuté en premier automatiquement**.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-156">**Whenever you execute a pull against a table that hello client has made changes to, a push on hello client sync context is always executed first automatically**.</span></span> <span data-ttu-id="b9ca4-157">push implicite de Hello garantit que toutes les tables dans le magasin local de hello, ainsi que les relations restent cohérentes.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-157">hello implicit push ensures all tables in hello local store along with relationships remain consistent.</span></span> <span data-ttu-id="b9ca4-158">Pour plus d’informations, consultez la page [synchronisation des données hors connexion dans les applications mobiles Azure].</span><span class="sxs-lookup"><span data-stu-id="b9ca4-158">For more information on this behavior, see [Offline Data Sync in Azure Mobile Apps].</span></span>

## <a name="review-hello-client-sync-code"></a><span data-ttu-id="b9ca4-159">Passez en revue le code de synchronisation hello client</span><span class="sxs-lookup"><span data-stu-id="b9ca4-159">Review hello client sync code</span></span>
<span data-ttu-id="b9ca4-160">projet de client Hello Xamarin que vous avez téléchargé lorsque vous terminé le didacticiel de hello [créer une application iOS de Xamarin] contient déjà du code prenant en charge la synchronisation hors connexion à l’aide d’une base de données local SQLite.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-160">hello Xamarin client project that you downloaded when you completed hello tutorial [Create a Xamarin iOS app] already contains code supporting offline synchronization using a local SQLite database.</span></span> <span data-ttu-id="b9ca4-161">Voici une brève vue d’ensemble de ce qui est déjà inclus dans le code de didacticiel hello.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-161">Here is a brief overview of what is already included in hello tutorial code.</span></span> <span data-ttu-id="b9ca4-162">Pour une vue d’ensemble conceptuelle de la fonctionnalité de hello, consultez [synchronisation des données hors connexion dans les applications mobiles Azure].</span><span class="sxs-lookup"><span data-stu-id="b9ca4-162">For a conceptual overview of hello feature, see [Offline Data Sync in Azure Mobile Apps].</span></span>

* <span data-ttu-id="b9ca4-163">Avant de pouvoir effectuer des opérations de table, le magasin local de hello doit être initialisé.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-163">Before any table operations can be performed, hello local store must be initialized.</span></span> <span data-ttu-id="b9ca4-164">Hello base de données du magasin local est initialisé lorsque `QSTodoListViewController.ViewDidLoad()` exécute `QSTodoService.InitializeStoreAsync()`.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-164">hello local store database is initialized when `QSTodoListViewController.ViewDidLoad()` executes `QSTodoService.InitializeStoreAsync()`.</span></span> <span data-ttu-id="b9ca4-165">Cette méthode crée une nouvelle base de SQLite locale à l’aide de hello `MobileServiceSQLiteStore` classe fournie par le client de l’application Mobile Azure hello SDK.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-165">This method creates a new local SQLite database using hello `MobileServiceSQLiteStore` class provided by hello Azure Mobile App client SDK.</span></span>

    <span data-ttu-id="b9ca4-166">Hello `DefineTable` méthode crée une table dans le magasin local hello qui correspond aux champs hello dans le type de hello fourni, `ToDoItem` dans ce cas.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-166">hello `DefineTable` method creates a table in hello local store that matches hello fields in hello provided type, `ToDoItem` in this case.</span></span> <span data-ttu-id="b9ca4-167">type de Hello ne tooinclude toutes les colonnes hello qui se trouvent dans la base de données distante hello.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-167">hello type doesn't have tooinclude all hello columns that are in hello remote database.</span></span> <span data-ttu-id="b9ca4-168">Il est possible toostore uniquement un sous-ensemble de colonnes.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-168">It is possible toostore just a subset of columns.</span></span>

        // QSTodoService.cs

        public async Task InitializeStoreAsync()
        {
            var store = new MobileServiceSQLiteStore(localDbPath);
            store.DefineTable<ToDoItem>();

            // Uses hello default conflict handler, which fails on conflict
            await client.SyncContext.InitializeAsync(store);
        }
* <span data-ttu-id="b9ca4-169">Hello `todoTable` membre `QSTodoService` est Hello `IMobileServiceSyncTable` de type au lieu de `IMobileServiceTable`.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-169">hello `todoTable` member of `QSTodoService` is of hello `IMobileServiceSyncTable` type instead of `IMobileServiceTable`.</span></span> <span data-ttu-id="b9ca4-170">Hello IMobileServiceSyncTable dirige toutes les créer, lire, mettre à jour et supprimer (CRUD) opérations de table toohello magasin local de base de données.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-170">hello IMobileServiceSyncTable directs all create, read, update, and delete (CRUD) table operations toohello local store database.</span></span>

    <span data-ttu-id="b9ca4-171">Vous décidez lorsque ces modifications sont envoyées principal de l’application Mobile Azure toohello en appelant `IMobileServiceSyncContext.PushAsync()`.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-171">You decide when those changes are pushed toohello Azure Mobile App backend by calling `IMobileServiceSyncContext.PushAsync()`.</span></span> <span data-ttu-id="b9ca4-172">Hello contexte de synchronisation permet de conserver les relations entre les tables en effectuant le suivi en exécutant un push des modifications dans toutes les tables, une application cliente a modifié lorsque `PushAsync` est appelée.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-172">hello sync context helps preserve table relationships by tracking and pushing changes in all tables a client app has modified when `PushAsync` is called.</span></span>

    <span data-ttu-id="b9ca4-173">appels de code Hello fourni `QSTodoService.SyncAsync()` toosync chaque fois que hello todoitem de la liste est actualisée ou un objet todoitem est ajouté ou s’est terminé.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-173">hello provided code calls `QSTodoService.SyncAsync()` toosync whenever hello todoitem list is refreshed or a todoitem is added or completed.</span></span> <span data-ttu-id="b9ca4-174">L’application se synchronise après chaque modification locale.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-174">The app syncs after every local change.</span></span> <span data-ttu-id="b9ca4-175">Si une extraction est exécutée sur une table qui est en attente de mises à jour locales suivi par le contexte de hello, cette opération d’extraction déclenchera automatiquement un push de contexte tout d’abord.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-175">If a pull is executed against a table that has pending local updates tracked by hello context, that pull operation will automatically trigger a context push first.</span></span>

    <span data-ttu-id="b9ca4-176">Dans le code hello fourni, tous les enregistrements hello distant `TodoItem` table sont interrogées, mais il est également possible de toofilter enregistrements en passant un id de requête et une requête trop`PushAsync`.</span><span class="sxs-lookup"><span data-stu-id="b9ca4-176">In hello provided code, all records in hello remote `TodoItem` table are queried, but it is also possible toofilter records by passing a query id and query too`PushAsync`.</span></span> <span data-ttu-id="b9ca4-177">Pour plus d’informations, consultez la section de hello *synchronisation incrémentielle* dans [synchronisation des données hors connexion dans les applications mobiles Azure].</span><span class="sxs-lookup"><span data-stu-id="b9ca4-177">For more information, see hello section *Incremental Sync* in [Offline Data Sync in Azure Mobile Apps].</span></span>

        // QSTodoService.cs
        public async Task SyncAsync()
        {
            try
            {
                await client.SyncContext.PushAsync();
                await todoTable.PullAsync("allTodoItems", todoTable.CreateQuery()); // query ID is used for incremental sync
            }

            catch (MobileServiceInvalidOperationException e)
            {
                Console.Error.WriteLine(@"Sync Failed: {0}", e.Message);
            }
        }

## <a name="additional-resources"></a><span data-ttu-id="b9ca4-178">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="b9ca4-178">Additional Resources</span></span>
* <span data-ttu-id="b9ca4-179">[synchronisation des données hors connexion dans les applications mobiles Azure]</span><span class="sxs-lookup"><span data-stu-id="b9ca4-179">[Offline Data Sync in Azure Mobile Apps]</span></span>
* <span data-ttu-id="b9ca4-180">[SDK HOWTO Azure Mobile Apps .NET][8]</span><span class="sxs-lookup"><span data-stu-id="b9ca4-180">[Azure Mobile Apps .NET SDK HOWTO][8]</span></span>

<!-- Images -->

<!-- URLs. -->
[créer une application iOS de Xamarin]: app-service-mobile-xamarin-ios-get-started.md
[synchronisation des données hors connexion dans les applications mobiles Azure]: app-service-mobile-offline-data-sync.md
[SyncContext]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.mobileserviceclient.synccontext(v=azure.10).aspx
[8]: app-service-mobile-dotnet-how-to-use-client-library.md
