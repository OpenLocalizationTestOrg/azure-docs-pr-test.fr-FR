---
title: "aaaServer enregistre dans la base de données Azure pour PostgreSQL | Documents Microsoft"
description: "Génère des journaux des requêtes et des erreurs dans la base de données Azure pour PostgreSQL."
services: postgresql
author: SaloniSonpal
ms.author: salonis
manager: jhubbard
editor: jasonwhowell
ms.service: postgresql
ms.topic: article
ms.date: 05/10/2017
ms.openlocfilehash: 22575f3882ce67fe640952f0a8dbfd8dcb4b16fc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="server-logs-in-azure-database-for-postgresql"></a><span data-ttu-id="35dda-103">Journaux de serveur dans une base de données Azure pour PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="35dda-103">Server Logs in Azure Database for PostgreSQL</span></span> 
<span data-ttu-id="35dda-104">La base de données Azure pour PostgreSQL génère des journaux des requêtes et des erreurs.</span><span class="sxs-lookup"><span data-stu-id="35dda-104">Azure Database for PostgreSQL generates query and error logs.</span></span> <span data-ttu-id="35dda-105">Toutefois, les journaux d’accès tootransaction n’est pas pris en charge.</span><span class="sxs-lookup"><span data-stu-id="35dda-105">However, access tootransaction logs is not supported.</span></span> <span data-ttu-id="35dda-106">Ces journaux peuvent être utilisé tooidentify, dépanner et réparer les erreurs de configuration et des performances optimales.</span><span class="sxs-lookup"><span data-stu-id="35dda-106">These logs can be used tooidentify, troubleshoot, and repair configuration errors and sub-optimal performance.</span></span> <span data-ttu-id="35dda-107">Pour plus d’informations, consultez la page [Signalement et journalisation des erreurs](https://www.postgresql.org/docs/9.6/static/runtime-config-logging.html).</span><span class="sxs-lookup"><span data-stu-id="35dda-107">For more information, see [Error Reporting and Logging](https://www.postgresql.org/docs/9.6/static/runtime-config-logging.html).</span></span>

## <a name="access-server-logs"></a><span data-ttu-id="35dda-108">Accéder aux journaux du serveur</span><span class="sxs-lookup"><span data-stu-id="35dda-108">Access server logs</span></span>
<span data-ttu-id="35dda-109">Vous pouvez répertorier et télécharger les journaux d’erreurs Azure PostgreSQL server à l’aide de hello portail Azure, [CLI d’Azure](howto-configure-server-logs-using-cli.md) et l’API REST Azure.</span><span class="sxs-lookup"><span data-stu-id="35dda-109">You can list and download Azure PostgreSQL server error logs using hello Azure Portal, [Azure CLI](howto-configure-server-logs-using-cli.md) and Azure REST APIs.</span></span>

## <a name="log-retention"></a><span data-ttu-id="35dda-110">Rétention des journaux</span><span class="sxs-lookup"><span data-stu-id="35dda-110">Log retention</span></span>
<span data-ttu-id="35dda-111">Vous pouvez définir la période de rétention hello pour les journaux système à l’aide de la **journal\_rétention\_période** paramètre associé à votre serveur.</span><span class="sxs-lookup"><span data-stu-id="35dda-111">You can set hello retention period for system logs using the **log\_retention\_period** parameter associated with your server.</span></span> <span data-ttu-id="35dda-112">unité de Hello pour ce paramètre est en jours (peut-être tooconfirm).</span><span class="sxs-lookup"><span data-stu-id="35dda-112">hello unit for this parameter is days (need tooconfirm).</span></span> <span data-ttu-id="35dda-113">valeur par défaut de Hello est de trois jours.</span><span class="sxs-lookup"><span data-stu-id="35dda-113">hello default value is three days.</span></span> <span data-ttu-id="35dda-114">valeur maximale de Hello est de 7 jours.</span><span class="sxs-lookup"><span data-stu-id="35dda-114">hello maximum value is 7 days.</span></span> <span data-ttu-id="35dda-115">Notez que votre serveur doit posséder suffisamment fichiers journaux de stockage alloué toocontain hello conservée.</span><span class="sxs-lookup"><span data-stu-id="35dda-115">Note that your server must have enough allocated storage toocontain hello retained log files.</span></span>
<span data-ttu-id="35dda-116">les fichiers journaux Hello pivote chaque 1 heure ou la taille de 100 Mo, selon ce qui se produit en premier.</span><span class="sxs-lookup"><span data-stu-id="35dda-116">hello log files will rotate every 1 hour or 100MB size, whichever comes first.</span></span>

## <a name="configure-logging-for-azure-postgresql-server"></a><span data-ttu-id="35dda-117">Configurer la journalisation pour le serveur PostgreSQL Azure</span><span class="sxs-lookup"><span data-stu-id="35dda-117">Configure logging for Azure PostgreSQL server</span></span>
<span data-ttu-id="35dda-118">Vous pouvez activer la journalisation des requêtes et des erreurs pour votre serveur.</span><span class="sxs-lookup"><span data-stu-id="35dda-118">You can enable query logging and error logging for your server.</span></span> <span data-ttu-id="35dda-119">Les journaux des erreurs peuvent contenir des informations sur le nettoyage automatique, la connexion et les points de contrôle.</span><span class="sxs-lookup"><span data-stu-id="35dda-119">Error logs can contain auto-vacuum, connection and checkpoints information.</span></span>

<span data-ttu-id="35dda-120">Vous pouvez activer la journalisation des requêtes pour votre instance de base de données PostgreSQL en définissant deux paramètres de serveur : log\_statement et log\_min\_duration\_statement.</span><span class="sxs-lookup"><span data-stu-id="35dda-120">You can enable query logging for your PostgreSQL DB instance by setting two server parameters: log\_statement and log\_min\_duration\_statement.</span></span>

<span data-ttu-id="35dda-121">Hello **journal\_instruction** paramètre contrôle les instructions SQL sont enregistrées.</span><span class="sxs-lookup"><span data-stu-id="35dda-121">hello **log\_statement** parameter controls which SQL statements are logged.</span></span> <span data-ttu-id="35dda-122">Nous vous recommandons de définir ce paramètre trop***tous les*** toolog toutes les instructions ; la valeur par défaut de hello est none (peut-être tooconfirm).</span><span class="sxs-lookup"><span data-stu-id="35dda-122">We recommend setting this parameter too***all*** toolog all statements; hello default value is none (need tooconfirm).</span></span>

<span data-ttu-id="35dda-123">Hello **journal\_min\_durée\_instruction** paramètre définit la limite de hello en millisecondes d’un toobe instruction connecté.</span><span class="sxs-lookup"><span data-stu-id="35dda-123">hello **log\_min\_duration\_statement** parameter sets hello limit in milliseconds of a statement toobe logged.</span></span> <span data-ttu-id="35dda-124">Toutes les instructions SQL qui s’exécutent plus longtemps que la valeur du paramètre hello sont enregistrées.</span><span class="sxs-lookup"><span data-stu-id="35dda-124">All SQL statements that run longer than hello parameter setting are logged.</span></span> <span data-ttu-id="35dda-125">Ce paramètre est désactivé et défini toominus 1 (-1) par défaut (tooconfirm nécessaire).</span><span class="sxs-lookup"><span data-stu-id="35dda-125">This parameter is disabled and set toominus 1 (-1) by default (need tooconfirm).</span></span> <span data-ttu-id="35dda-126">Il peut être utile d’activer ce paramètre pour dépister les requêtes non optimisées dans vos applications.</span><span class="sxs-lookup"><span data-stu-id="35dda-126">Enabling this parameter can be helpful in tracking down unoptimized queries in your applications.</span></span>

<span data-ttu-id="35dda-127">Hello **journal\_min\_messages** vous permet de toocontrol les niveaux de message sont écrits les journaux du serveur toohello.</span><span class="sxs-lookup"><span data-stu-id="35dda-127">hello **log\_min\_messages** allows you toocontrol which message levels are written toohello server log.</span></span> <span data-ttu-id="35dda-128">valeur par défaut Hello est un avertissement.</span><span class="sxs-lookup"><span data-stu-id="35dda-128">hello default is WARNING.</span></span> <span data-ttu-id="35dda-129">(peut-être tooconfirm)</span><span class="sxs-lookup"><span data-stu-id="35dda-129">(need tooconfirm)</span></span>

<span data-ttu-id="35dda-130">Pour plus d’informations sur ces paramètres, consultez la documentation [Signalement et journalisation des erreurs](https://www.postgresql.org/docs/9.6/static/runtime-config-logging.html).</span><span class="sxs-lookup"><span data-stu-id="35dda-130">For more information on these settings, see [Error Reporting and Logging](https://www.postgresql.org/docs/9.6/static/runtime-config-logging.html) documentation.</span></span> <span data-ttu-id="35dda-131">En particulier, pour configurer les paramètres du serveur de base de données Azure pour PostgreSQL, consultez la page [Journaux du serveur de base de données Azure pour PostgreSQL](concepts-server-logs.md).</span><span class="sxs-lookup"><span data-stu-id="35dda-131">For particularly configuring Azure Database for PostgreSQL server parameters, see [Server Logs in Azure Database for PostgreSQL](concepts-server-logs.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="35dda-132">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="35dda-132">Next steps</span></span>
- <span data-ttu-id="35dda-133">les journaux de tooaccess à l’aide d’interface de ligne de commande CLI d’Azure, consultez [configurer et l’accès aux journaux du serveur à l’aide de CLI d’Azure](howto-configure-server-logs-using-cli.md)</span><span class="sxs-lookup"><span data-stu-id="35dda-133">tooaccess logs using Azure CLI command line interface, see [Configure and access server logs using Azure CLI](howto-configure-server-logs-using-cli.md)</span></span>
- <span data-ttu-id="35dda-134">Pour plus d’informations sur les paramètres du serveur, consultez la rubrique [Personnaliser les paramètres de configuration de serveur à l’aide d’Azure CLI](howto-configure-server-parameters-using-cli.md).</span><span class="sxs-lookup"><span data-stu-id="35dda-134">For more information on server parameters, see [Customize server configuration parameters using Azure CLI](howto-configure-server-parameters-using-cli.md).</span></span>