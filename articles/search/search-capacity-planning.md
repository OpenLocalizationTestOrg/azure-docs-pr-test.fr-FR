---
title: "Planification des capacités de Recherche Azure | Microsoft Docs"
description: "Ajustez les ressources informatiques des partitions et des réplicas dans Recherche Azure, où chaque ressource est facturée en unités de recherche facturables."
services: search
documentationcenter: 
author: HeidiSteen
manager: jhubbard
editor: 
tags: azure-portal
ms.assetid: 1dc16afe-56f9-439d-8874-1733ae1a2b74
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 02/08/2017
ms.author: heidist
ms.openlocfilehash: 26f5e71f3d00161a92de702209e224008ec8a5ae
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="scale-resource-levels-for-query-and-indexing-workloads-in-azure-search"></a><span data-ttu-id="d581d-103">Mettre à l’échelle les niveaux de ressources pour interroger et indexer les charges de travail dans Azure Search</span><span class="sxs-lookup"><span data-stu-id="d581d-103">Scale resource levels for query and indexing workloads in Azure Search</span></span>
<span data-ttu-id="d581d-104">Une fois que vous avez [choisi un niveau tarifaire](search-sku-tier.md) et [approvisionné un service de recherche](search-create-service-portal.md), l’étape suivante, facultative, consiste à augmenter le nombre de réplicas ou de partitions utilisés par votre service.</span><span class="sxs-lookup"><span data-stu-id="d581d-104">After you [choose a pricing tier](search-sku-tier.md) and [provision a search service](search-create-service-portal.md), the next step is to optionally increase the number of replicas or partitions used by your service.</span></span> <span data-ttu-id="d581d-105">Chaque niveau propose un nombre fixe d’unités de facturation.</span><span class="sxs-lookup"><span data-stu-id="d581d-105">Each tier offers a fixed number of billing units.</span></span> <span data-ttu-id="d581d-106">Cet article explique comment allouer ces unités pour obtenir une configuration optimale par rapport à vos exigences pour l’exécution des requêtes, l’indexation et le stockage.</span><span class="sxs-lookup"><span data-stu-id="d581d-106">This article explains how to allocate those units to achieve an optimal configuration that balances your requirements for query execution, indexing, and storage.</span></span>

<span data-ttu-id="d581d-107">La configuration des ressources est disponible lorsque vous configurez un service au [niveau basique](http://aka.ms/azuresearchbasic) ou à l’un des [niveaux standard](search-limits-quotas-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="d581d-107">Resource configuration is available when you set up a service at the [Basic tier](http://aka.ms/azuresearchbasic) or one of the [Standard tiers](search-limits-quotas-capacity.md).</span></span> <span data-ttu-id="d581d-108">Pour les services facturables à ces niveaux, la capacité est achetée par incréments *d’unités de recherche* (SU) où chaque partition et chaque réplica est considéré comme une SU.</span><span class="sxs-lookup"><span data-stu-id="d581d-108">For billable services at these tiers, capacity is purchased in increments of *search units* (SUs) where each partition and replica counts as one SU.</span></span> 

<span data-ttu-id="d581d-109">La facture est proportionnelle au nombre de SU : moins elles sont nombreuses, plus la facture diminue.</span><span class="sxs-lookup"><span data-stu-id="d581d-109">Using fewer SUs results in a proportionally lower bill.</span></span> <span data-ttu-id="d581d-110">La facturation reste en vigueur tant que le service est configuré.</span><span class="sxs-lookup"><span data-stu-id="d581d-110">Billing is in effect for as long as the service is set up.</span></span> <span data-ttu-id="d581d-111">Si vous n’utilisez pas temporairement un service, la seule manière d’éviter la facturation consiste à supprimer ce service, puis à le recréer lorsque vous en avez besoin.</span><span class="sxs-lookup"><span data-stu-id="d581d-111">If you are temporarily not using a service, the only way to avoid billing is by deleting the service and then re-creating it when you need it.</span></span>

> [!Note]
> <span data-ttu-id="d581d-112">La suppression d’un service a pour effet de supprimer toutes les données qui s’y trouvent.</span><span class="sxs-lookup"><span data-stu-id="d581d-112">Deleting a service deletes everything on it.</span></span> <span data-ttu-id="d581d-113">Il n’existe aucune fonctionnalité dans Azure Search permettant de sauvegarder et restaurer les données de recherche persistantes.</span><span class="sxs-lookup"><span data-stu-id="d581d-113">There is no facility within Azure Search for backing up and restoring persisted search data.</span></span> <span data-ttu-id="d581d-114">Pour redéployer un index existant sur un nouveau service, vous devez exécuter le programme initialement utilisé pour le créer et le charger.</span><span class="sxs-lookup"><span data-stu-id="d581d-114">To redeploy an existing index on a new service, you should run the program used to create and load it originally.</span></span> 

## <a name="terminology-partitions-and-replicas"></a><span data-ttu-id="d581d-115">Terminologie : partitions et réplicas</span><span class="sxs-lookup"><span data-stu-id="d581d-115">Terminology: partitions and replicas</span></span>
<span data-ttu-id="d581d-116">Les partitions et les réplicas sont les principales ressources qui sous-tendent un service de recherche.</span><span class="sxs-lookup"><span data-stu-id="d581d-116">Partitions and replicas are the primary resources that back a search service.</span></span>

| <span data-ttu-id="d581d-117">Ressource</span><span class="sxs-lookup"><span data-stu-id="d581d-117">Resource</span></span> | <span data-ttu-id="d581d-118">Définition</span><span class="sxs-lookup"><span data-stu-id="d581d-118">Definition</span></span> |
|----------|------------|
|<span data-ttu-id="d581d-119">*Partitions*</span><span class="sxs-lookup"><span data-stu-id="d581d-119">*Partitions*</span></span> | <span data-ttu-id="d581d-120">Fournissent un stockage des index et des E/S pour les opérations de lecture-écriture (par exemple, lors de la reconstruction ou de l’actualisation d’un index).</span><span class="sxs-lookup"><span data-stu-id="d581d-120">Provides index storage and I/O for read/write operations (for example, when rebuilding or refreshing an index).</span></span>|
|<span data-ttu-id="d581d-121">*Réplicas*</span><span class="sxs-lookup"><span data-stu-id="d581d-121">*Replicas*</span></span> | <span data-ttu-id="d581d-122">Instances du service de recherche, principalement utilisées pour équilibrer la charge des opérations de requête.</span><span class="sxs-lookup"><span data-stu-id="d581d-122">Instances of the search service, used primarily to load balance query operations.</span></span> <span data-ttu-id="d581d-123">Chaque réplica héberge toujours une seule copie d’un index.</span><span class="sxs-lookup"><span data-stu-id="d581d-123">Each replica always hosts one copy of an index.</span></span> <span data-ttu-id="d581d-124">Si vous avez 12 réplicas, vous aurez 12 copies de chaque index chargées sur le service.</span><span class="sxs-lookup"><span data-stu-id="d581d-124">If you have 12 replicas, you will have 12 copies of every index loaded on the service.</span></span>|

> [!NOTE]
> <span data-ttu-id="d581d-125">Il n’existe aucun moyen de manipuler ou de gérer directement les index qui s’exécutent sur un réplica.</span><span class="sxs-lookup"><span data-stu-id="d581d-125">There is no way to directly manipulate or manage which indexes run on a replica.</span></span> <span data-ttu-id="d581d-126">Une copie de chaque index sur chaque réplica fait partie de l’architecture de service.</span><span class="sxs-lookup"><span data-stu-id="d581d-126">One copy of each index on every replica is part of the service architecture.</span></span>
>

## <a name="how-to-allocate-partitions-and-replicas"></a><span data-ttu-id="d581d-127">Comment allouer des partitions et des réplicas</span><span class="sxs-lookup"><span data-stu-id="d581d-127">How to allocate partitions and replicas</span></span>
<span data-ttu-id="d581d-128">Dans Azure Search, un service se voit initialement allouer un niveau minimal de ressources consistant en une partition et un réplica.</span><span class="sxs-lookup"><span data-stu-id="d581d-128">In Azure Search, a service is initially allocated a minimal level of resources consisting of one partition and one replica.</span></span> <span data-ttu-id="d581d-129">Pour les niveaux qui le prennent en charge, vous pouvez ajuster progressivement les ressources de calcul en augmentant les partitions si vous avez besoin de plus de stockage et d’E/S ou de réplicas pour des volumes de requêtes plus importants ou des performances améliorées.</span><span class="sxs-lookup"><span data-stu-id="d581d-129">For tiers that support it, you can incrementally adjust computational resources by increasing partitions if you need more storage and I/O, or add more replicas for larger query volumes or better performance.</span></span> <span data-ttu-id="d581d-130">Un seul service doit avoir suffisamment de ressources pour gérer toutes les charges de travail (indexation et requêtes).</span><span class="sxs-lookup"><span data-stu-id="d581d-130">A single service must have sufficient resources to handle all workloads (indexing and queries).</span></span> <span data-ttu-id="d581d-131">Vous ne pouvez pas subdiviser les charges de travail entre plusieurs services.</span><span class="sxs-lookup"><span data-stu-id="d581d-131">You cannot subdivide workloads among multiple services.</span></span>

<span data-ttu-id="d581d-132">Pour augmenter ou modifier l’allocation des réplicas et des partitions, nous vous recommandons l’aide du portail Azure.</span><span class="sxs-lookup"><span data-stu-id="d581d-132">To increase or change the allocation of replicas and partitions, we recommend using the Azure portal.</span></span> <span data-ttu-id="d581d-133">Le portail applique des limites sur les combinaisons autorisées inférieures aux limites maximales :</span><span class="sxs-lookup"><span data-stu-id="d581d-133">The portal enforces limits on allowable combinations that stay below maximum limits:</span></span>

1. <span data-ttu-id="d581d-134">Connectez-vous au [portail Azure](https://portal.azure.com/), puis sélectionnez le service de recherche.</span><span class="sxs-lookup"><span data-stu-id="d581d-134">Sign in to the [Azure portal](https://portal.azure.com/) and select the search service.</span></span>
2. <span data-ttu-id="d581d-135">Dans **Paramètres**, ouvrez le panneau **Mettre à l’échelle** et utilisez les curseurs pour augmenter ou diminuer le nombre de partitions et de réplicas.</span><span class="sxs-lookup"><span data-stu-id="d581d-135">In **Settings**, open the **Scale** blade and use the sliders to increase or decrease the number of partitions and replicas.</span></span>

<span data-ttu-id="d581d-136">Si vous avez besoin d’une approche codée ou scriptée de l’approvisionnement, [l’API REST de gestion](https://msdn.microsoft.com/library/azure/dn832687.aspx) est une alternative au portail.</span><span class="sxs-lookup"><span data-stu-id="d581d-136">If you require a script-based or code-based provisioning approach, the [Management REST API](https://msdn.microsoft.com/library/azure/dn832687.aspx) is an alternative to the portal.</span></span>

<span data-ttu-id="d581d-137">En règle générale, les applications de recherche ont besoin de plus de réplicas que de partitions, en particulier lorsque les opérations de service favorisent les charges de travail de requête.</span><span class="sxs-lookup"><span data-stu-id="d581d-137">Generally, search applications need more replicas than partitions, particularly when the service operations are biased toward query workloads.</span></span> <span data-ttu-id="d581d-138">La section [Haute disponibilité](#HA) explique pourquoi.</span><span class="sxs-lookup"><span data-stu-id="d581d-138">The section on [high availability](#HA) explains why.</span></span>

> [!NOTE]
> <span data-ttu-id="d581d-139">Une fois qu’un service est configuré, il ne peut pas être mis à niveau vers une référence (SKU) supérieure.</span><span class="sxs-lookup"><span data-stu-id="d581d-139">After a service is provisioned, it cannot be upgraded to a higher SKU.</span></span> <span data-ttu-id="d581d-140">Vous devez créer un service de recherche au nouveau niveau et recharger vos index.</span><span class="sxs-lookup"><span data-stu-id="d581d-140">You will need to create a search service at the new tier and reload your indexes.</span></span> <span data-ttu-id="d581d-141">Pour obtenir des instructions sur l’approvisionnement du service, voir [Créer un service Azure Search dans le portail](search-create-service-portal.md) .</span><span class="sxs-lookup"><span data-stu-id="d581d-141">See [Create an Azure Search service in the portal](search-create-service-portal.md) for help with service provisioning.</span></span>
>
>

<a id="HA"></a>

## <a name="high-availability"></a><span data-ttu-id="d581d-142">Haute disponibilité</span><span class="sxs-lookup"><span data-stu-id="d581d-142">High availability</span></span>
<span data-ttu-id="d581d-143">Nous vous recommandons généralement de démarrer avec une partition et un ou deux réplicas, puis de monter en puissance à mesure que les volumes de requête se créent.</span><span class="sxs-lookup"><span data-stu-id="d581d-143">Because it's easy and relatively fast to scale up, we generally recommend that you start with one partition and one or two replicas, and then scale up as query volumes build.</span></span> <span data-ttu-id="d581d-144">Pour de nombreux services au niveau basique ou S1, une partition offre suffisamment de stockage et d’E/S (15 millions de documents par partition).</span><span class="sxs-lookup"><span data-stu-id="d581d-144">For many services at the Basic or S1 tiers, one partition provides sufficient storage and I/O (at 15 million documents per partition).</span></span>

<span data-ttu-id="d581d-145">Les charges de travail de requêtes s’exécutent principalement sur des réplicas.</span><span class="sxs-lookup"><span data-stu-id="d581d-145">Query workloads run primarily on replicas.</span></span> <span data-ttu-id="d581d-146">Si vous nécessitez une haute disponibilité ou un débit plus important, vous aurez probablement besoin de réplicas supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="d581d-146">If you need more throughput or high availability, you will probably require additional replicas.</span></span>

<span data-ttu-id="d581d-147">Recommandations générales pour la haute disponibilité :</span><span class="sxs-lookup"><span data-stu-id="d581d-147">General recommendations for high availability are:</span></span>

* <span data-ttu-id="d581d-148">Deux réplicas pour la haute disponibilité des charges de travail en lecture seule (requêtes)</span><span class="sxs-lookup"><span data-stu-id="d581d-148">Two replicas for high availability of read-only workloads (queries)</span></span>
* <span data-ttu-id="d581d-149">Trois réplicas minimum pour la haute disponibilité des charges de travail en lecture/écriture (les requêtes et l’indexation en tant que documents individuels sont ajoutées, mises à jour ou supprimées)</span><span class="sxs-lookup"><span data-stu-id="d581d-149">Three or more replicas for high availability of read/write workloads (queries plus indexing as individual documents are added, updated, or deleted)</span></span>

<span data-ttu-id="d581d-150">Les contrats de niveau de service (SLA) pour la Recherche Azure sont ciblés au moment des opérations de requête et des mises à jour d’index qui se composent d’ajout, de mise à jour ou de suppression de documents.</span><span class="sxs-lookup"><span data-stu-id="d581d-150">Service level agreements (SLA) for Azure Search are targeted at query operations and at index updates that consist of adding, updating, or deleting documents.</span></span>

### <a name="index-availability-during-a-rebuild"></a><span data-ttu-id="d581d-151">Disponibilité des index lors d’une reconstruction</span><span class="sxs-lookup"><span data-stu-id="d581d-151">Index availability during a rebuild</span></span>

<span data-ttu-id="d581d-152">La haute disponibilité pour Azure Search se rapporte aux requêtes et aux mises à jour d’index qui n’impliquent pas la reconstruction d’un index.</span><span class="sxs-lookup"><span data-stu-id="d581d-152">High availability for Azure Search pertains to queries and index updates that don't involve rebuilding an index.</span></span> <span data-ttu-id="d581d-153">Si vous supprimez un champ, modifiez un type de données ou renommez un champ, vous devez reconstruire l’index.</span><span class="sxs-lookup"><span data-stu-id="d581d-153">If you delete a field, change a data type, or rename a field, you will need to rebuild the index.</span></span> <span data-ttu-id="d581d-154">Pour reconstruire l’index, vous devez supprimer l’index, le recréer et recharger les données.</span><span class="sxs-lookup"><span data-stu-id="d581d-154">To rebuild the index, you must delete the index, re-create the index, and reload the data.</span></span>

> [!NOTE]
> <span data-ttu-id="d581d-155">Vous pouvez ajouter de nouveaux champs à un index Recherche Azure sans reconstruire l’index.</span><span class="sxs-lookup"><span data-stu-id="d581d-155">You can add new fields to an Azure Search index without rebuilding the index.</span></span> <span data-ttu-id="d581d-156">La valeur du nouveau champ sera Null pour tous les documents déjà présents dans l’index.</span><span class="sxs-lookup"><span data-stu-id="d581d-156">The value of the new field will be null for all documents already in the index.</span></span>

<span data-ttu-id="d581d-157">Pour maintenir la disponibilité de l’index pendant une reconstruction, vous devez disposer d’une copie de l’index avec un nom différent sur le même service ou d’une copie de l’index de même nom sur un autre service, et fournir la redirection ou la logique de basculement dans votre code.</span><span class="sxs-lookup"><span data-stu-id="d581d-157">To maintain index availability during a rebuild, you must have a copy of the index with a different name on the same service, or a copy of the index with the same name on a different service, and then provide redirection or failover logic in your code.</span></span>

## <a name="disaster-recovery"></a><span data-ttu-id="d581d-158">Récupération d'urgence</span><span class="sxs-lookup"><span data-stu-id="d581d-158">Disaster recovery</span></span>
<span data-ttu-id="d581d-159">Il n'existe actuellement aucun mécanisme intégré de récupération d'urgence.</span><span class="sxs-lookup"><span data-stu-id="d581d-159">Currently, there is no built-in mechanism for disaster recovery.</span></span> <span data-ttu-id="d581d-160">L’ajout de partitions ou de réplicas ne vous permettra pas d’atteindre les objectifs de récupération d'urgence qui ont été fixés.</span><span class="sxs-lookup"><span data-stu-id="d581d-160">Adding partitions or replicas would be the wrong strategy for meeting disaster recovery objectives.</span></span> <span data-ttu-id="d581d-161">L’approche la plus courante consiste à intégrer la redondance au niveau du service en configurant un deuxième service de recherche dans une autre région.</span><span class="sxs-lookup"><span data-stu-id="d581d-161">The most common approach is to add redundancy at the service level by setting up a second search service in another region.</span></span> <span data-ttu-id="d581d-162">Comme avec la disponibilité pendant une reconstruction d’index, la redirection ou la logique de basculement doit provenir de votre code.</span><span class="sxs-lookup"><span data-stu-id="d581d-162">As with availability during an index rebuild, the redirection or failover logic must come from your code.</span></span>

## <a name="increase-query-performance-with-replicas"></a><span data-ttu-id="d581d-163">Augmenter les performances des requêtes avec des réplicas</span><span class="sxs-lookup"><span data-stu-id="d581d-163">Increase query performance with replicas</span></span>
<span data-ttu-id="d581d-164">La latence des requêtes vous permet de découvrir si des réplicas supplémentaires doivent être ajoutés.</span><span class="sxs-lookup"><span data-stu-id="d581d-164">Query latency is an indicator that additional replicas are needed.</span></span> <span data-ttu-id="d581d-165">En règle générale, la première étape vers l’amélioration des performances des requêtes consiste à ajouter davantage de cette ressource.</span><span class="sxs-lookup"><span data-stu-id="d581d-165">Generally, a first step toward improving query performance is to add more of this resource.</span></span> <span data-ttu-id="d581d-166">Lorsque vous ajoutez des réplicas, les copies supplémentaires de l’index sont mises en ligne pour prendre en charge les charges de travail supérieures de requête et équilibrer la charge des requêtes sur plusieurs réplicas.</span><span class="sxs-lookup"><span data-stu-id="d581d-166">As you add replicas, additional copies of the index are brought online to support bigger query workloads and to load balance the requests over the multiple replicas.</span></span>

<span data-ttu-id="d581d-167">Nous ne pouvons fournir aucune estimation sur les requêtes par seconde (RPS) : les performances des requêtes dépendent de la complexité de la requête et des charges de travail concurrentes.</span><span class="sxs-lookup"><span data-stu-id="d581d-167">We cannot provide hard estimates on queries per second (QPS): query performance depends on the complexity of the query and competing workloads.</span></span> <span data-ttu-id="d581d-168">En moyenne, un réplica au niveau de référence (SKU) De base ou S1 peut traiter environ 15 requêtes par seconde, mais le débit sera supérieur ou inférieur en fonction de la complexité de la requête (les requêtes à facettes sont plus complexes) et de la latence du réseau.</span><span class="sxs-lookup"><span data-stu-id="d581d-168">On average, a replica at Basic or S1 SKUs can service about 15 QPS, but your throughput will be higher or lower depending on query complexity (faceted queries are more complex) and network latency.</span></span> <span data-ttu-id="d581d-169">Cependant, bien que l'ajout de réplicas entraîne une amélioration de l’évolutivité et des performances, le résultat final n'est pas strictement linéaire : en ajoutant trois réplicas, le débit ne sera pas forcément multiplié par trois.</span><span class="sxs-lookup"><span data-stu-id="d581d-169">Also, it's important to recognize that although adding replicas will definitely add scale and performance, the result is not strictly linear: adding three replicas does not guarantee triple throughput.</span></span>

<span data-ttu-id="d581d-170">Pour en savoir plus sur les requêtes par seconde, notamment les approches d’estimation de RPS pour vos charges de travail, voir [Gérer votre service de recherche](search-manage.md).</span><span class="sxs-lookup"><span data-stu-id="d581d-170">To learn about QPS, including approaches for estimating QPS for your workloads, see [Manage your Search service](search-manage.md).</span></span>

## <a name="increase-indexing-performance-with-partitions"></a><span data-ttu-id="d581d-171">Améliorer les performances d’indexation avec des partitions</span><span class="sxs-lookup"><span data-stu-id="d581d-171">Increase indexing performance with partitions</span></span>
<span data-ttu-id="d581d-172">Les applications de recherche nécessitant une actualisation des données en temps réel ou presque ont proportionnellement besoin de plus de partitions que de réplicas.</span><span class="sxs-lookup"><span data-stu-id="d581d-172">Search applications that require near real-time data refresh will need proportionally more partitions than replicas.</span></span> <span data-ttu-id="d581d-173">L’ajout de partitions répartit les opérations de lecture/écriture sur un plus grand nombre de ressources de calcul.</span><span class="sxs-lookup"><span data-stu-id="d581d-173">Adding partitions spreads read/write operations across a larger number of compute resources.</span></span> <span data-ttu-id="d581d-174">Il vous offre également davantage d’espace disque pour stocker des documents et des index supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="d581d-174">It also gives you more disk space for storing additional indexes and documents.</span></span>

<span data-ttu-id="d581d-175">Plus les index sont grands, plus ils sont longs à interroger.</span><span class="sxs-lookup"><span data-stu-id="d581d-175">Larger indexes take longer to query.</span></span> <span data-ttu-id="d581d-176">Par conséquent, peut-être constaterez-vous que chaque augmentation incrémentielle des partitions nécessite une augmentation plus faible mais proportionnelle des réplicas.</span><span class="sxs-lookup"><span data-stu-id="d581d-176">As such, you might find that every incremental increase in partitions requires a smaller but proportional increase in replicas.</span></span> <span data-ttu-id="d581d-177">La complexité et le volume de vos requêtes auront une incidence sur la vitesse d’exécution des requêtes.</span><span class="sxs-lookup"><span data-stu-id="d581d-177">The complexity of your queries and query volume will factor into how quickly query execution is turned around.</span></span>

## <a name="basic-tier-partition-and-replica-combinations"></a><span data-ttu-id="d581d-178">Niveau de base : combinaisons de partitions et de réplicas</span><span class="sxs-lookup"><span data-stu-id="d581d-178">Basic tier: Partition and replica combinations</span></span>
<span data-ttu-id="d581d-179">Un service basique peut avoir exactement une partition et jusqu’à trois réplicas, pour une limite maximale de trois unités de recherche.</span><span class="sxs-lookup"><span data-stu-id="d581d-179">A Basic service can have exactly one partition and up to three replicas, for a maximum limit of three SUs.</span></span> <span data-ttu-id="d581d-180">Les seules ressources ajustables sont les réplicas.</span><span class="sxs-lookup"><span data-stu-id="d581d-180">The only adjustable resource is replicas.</span></span> <span data-ttu-id="d581d-181">Vous devez disposer d’au moins 2 réplicas pour la haute disponibilité sur des requêtes.</span><span class="sxs-lookup"><span data-stu-id="d581d-181">You need a minimum of two replicas for high availability on queries.</span></span>

<a id="chart"></a>

## <a name="standard-tiers-partition-and-replica-combinations"></a><span data-ttu-id="d581d-182">Niveaux Standard : combinaisons de partitions et de réplicas</span><span class="sxs-lookup"><span data-stu-id="d581d-182">Standard tiers: Partition and replica combinations</span></span>
<span data-ttu-id="d581d-183">Ce tableau indique les unités de recherche requises pour prendre en charge les combinaisons de réplicas et de partitions soumises à la limite de 36 unités de recherche (SU), pour tous les niveaux standard.</span><span class="sxs-lookup"><span data-stu-id="d581d-183">This table shows the SUs required to support combinations of replicas and partitions, subject to the 36-SU limit, for all Standard tiers.</span></span>

|   | <span data-ttu-id="d581d-184">**1 partition**</span><span class="sxs-lookup"><span data-stu-id="d581d-184">**1 partition**</span></span> | <span data-ttu-id="d581d-185">**2 partitions**</span><span class="sxs-lookup"><span data-stu-id="d581d-185">**2 partitions**</span></span> | <span data-ttu-id="d581d-186">**3 partitions**</span><span class="sxs-lookup"><span data-stu-id="d581d-186">**3 partitions**</span></span> | <span data-ttu-id="d581d-187">**4 partitions**</span><span class="sxs-lookup"><span data-stu-id="d581d-187">**4 partitions**</span></span> | <span data-ttu-id="d581d-188">**6 partitions**</span><span class="sxs-lookup"><span data-stu-id="d581d-188">**6 partitions**</span></span> | <span data-ttu-id="d581d-189">**12 partitions**</span><span class="sxs-lookup"><span data-stu-id="d581d-189">**12 partitions**</span></span> |
| --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="d581d-190">**1 réplica**</span><span class="sxs-lookup"><span data-stu-id="d581d-190">**1 replica**</span></span> |<span data-ttu-id="d581d-191">1 unité de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-191">1 SU</span></span> |<span data-ttu-id="d581d-192">2 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-192">2 SU</span></span> |<span data-ttu-id="d581d-193">3 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-193">3 SU</span></span> |<span data-ttu-id="d581d-194">4 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-194">4 SU</span></span> |<span data-ttu-id="d581d-195">6 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-195">6 SU</span></span> |<span data-ttu-id="d581d-196">12 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-196">12 SU</span></span> |
| <span data-ttu-id="d581d-197">**2 réplicas**</span><span class="sxs-lookup"><span data-stu-id="d581d-197">**2 replicas**</span></span> |<span data-ttu-id="d581d-198">2 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-198">2 SU</span></span> |<span data-ttu-id="d581d-199">4 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-199">4 SU</span></span> |<span data-ttu-id="d581d-200">6 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-200">6 SU</span></span> |<span data-ttu-id="d581d-201">8 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-201">8 SU</span></span> |<span data-ttu-id="d581d-202">12 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-202">12 SU</span></span> |<span data-ttu-id="d581d-203">24 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-203">24 SU</span></span> |
| <span data-ttu-id="d581d-204">**3 réplicas**</span><span class="sxs-lookup"><span data-stu-id="d581d-204">**3 replicas**</span></span> |<span data-ttu-id="d581d-205">3 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-205">3 SU</span></span> |<span data-ttu-id="d581d-206">6 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-206">6 SU</span></span> |<span data-ttu-id="d581d-207">9 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-207">9 SU</span></span> |<span data-ttu-id="d581d-208">12 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-208">12 SU</span></span> |<span data-ttu-id="d581d-209">18 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-209">18 SU</span></span> |<span data-ttu-id="d581d-210">36 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-210">36 SU</span></span> |
| <span data-ttu-id="d581d-211">**4 réplicas**</span><span class="sxs-lookup"><span data-stu-id="d581d-211">**4 replicas**</span></span> |<span data-ttu-id="d581d-212">4 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-212">4 SU</span></span> |<span data-ttu-id="d581d-213">8 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-213">8 SU</span></span> |<span data-ttu-id="d581d-214">12 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-214">12 SU</span></span> |<span data-ttu-id="d581d-215">16 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-215">16 SU</span></span> |<span data-ttu-id="d581d-216">24 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-216">24 SU</span></span> |<span data-ttu-id="d581d-217">N/A</span><span class="sxs-lookup"><span data-stu-id="d581d-217">N/A</span></span> |
| <span data-ttu-id="d581d-218">**5 réplicas**</span><span class="sxs-lookup"><span data-stu-id="d581d-218">**5 replicas**</span></span> |<span data-ttu-id="d581d-219">5 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-219">5 SU</span></span> |<span data-ttu-id="d581d-220">10 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-220">10 SU</span></span> |<span data-ttu-id="d581d-221">15 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-221">15 SU</span></span> |<span data-ttu-id="d581d-222">20 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-222">20 SU</span></span> |<span data-ttu-id="d581d-223">30 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-223">30 SU</span></span> |<span data-ttu-id="d581d-224">N/A</span><span class="sxs-lookup"><span data-stu-id="d581d-224">N/A</span></span> |
| <span data-ttu-id="d581d-225">**6 réplicas**</span><span class="sxs-lookup"><span data-stu-id="d581d-225">**6 replicas**</span></span> |<span data-ttu-id="d581d-226">6 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-226">6 SU</span></span> |<span data-ttu-id="d581d-227">12 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-227">12 SU</span></span> |<span data-ttu-id="d581d-228">18 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-228">18 SU</span></span> |<span data-ttu-id="d581d-229">24 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-229">24 SU</span></span> |<span data-ttu-id="d581d-230">36 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-230">36 SU</span></span> |<span data-ttu-id="d581d-231">N/A</span><span class="sxs-lookup"><span data-stu-id="d581d-231">N/A</span></span> |
| <span data-ttu-id="d581d-232">**12 réplicas**</span><span class="sxs-lookup"><span data-stu-id="d581d-232">**12 replicas**</span></span> |<span data-ttu-id="d581d-233">12 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-233">12 SU</span></span> |<span data-ttu-id="d581d-234">24 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-234">24 SU</span></span> |<span data-ttu-id="d581d-235">36 unités de recherche</span><span class="sxs-lookup"><span data-stu-id="d581d-235">36 SU</span></span> |<span data-ttu-id="d581d-236">N/A</span><span class="sxs-lookup"><span data-stu-id="d581d-236">N/A</span></span> |<span data-ttu-id="d581d-237">N/A</span><span class="sxs-lookup"><span data-stu-id="d581d-237">N/A</span></span> |<span data-ttu-id="d581d-238">N/A</span><span class="sxs-lookup"><span data-stu-id="d581d-238">N/A</span></span> |

<span data-ttu-id="d581d-239">Les unités de recherche, leur tarification et leur capacité sont détaillées sur le site web Azure.</span><span class="sxs-lookup"><span data-stu-id="d581d-239">SUs, pricing, and capacity are explained in detail on the Azure website.</span></span> <span data-ttu-id="d581d-240">Pour plus d'informations, consultez la rubrique [Tarification](https://azure.microsoft.com/pricing/details/search/).</span><span class="sxs-lookup"><span data-stu-id="d581d-240">For more information, see [Pricing Details](https://azure.microsoft.com/pricing/details/search/).</span></span>

> [!NOTE]
> <span data-ttu-id="d581d-241">Le nombre de réplicas et de partitions est divisible par 12 de manière égale (plus précisément, 1, 2, 3, 4, 6, 12).</span><span class="sxs-lookup"><span data-stu-id="d581d-241">The number of replicas and partitions divides evenly into 12 (specifically, 1, 2, 3, 4, 6, 12).</span></span> <span data-ttu-id="d581d-242">Azure Search divise au préalable chaque index en 12 partitions pour que celles-ci puissent être réparties équitablement sur plusieurs partitions.</span><span class="sxs-lookup"><span data-stu-id="d581d-242">This is because Azure Search pre-divides each index into 12 shards so that it can be spread in equal portions across all partitions.</span></span> <span data-ttu-id="d581d-243">Par exemple, si votre service comporte trois partitions et que vous créez un index, chaque partition contiendra quatre partitions de l'index.</span><span class="sxs-lookup"><span data-stu-id="d581d-243">For example, if your service has three partitions and you create an index, each partition will contain four shards of the index.</span></span> <span data-ttu-id="d581d-244">Le partitionnement d’un index réalisé par la Recherche Azure est un détail d'implémentation susceptible d’être modifié dans des futures versions.</span><span class="sxs-lookup"><span data-stu-id="d581d-244">How Azure Search shards an index is an implementation detail, subject to change in future releases.</span></span> <span data-ttu-id="d581d-245">Le nombre de partitions (12 à l’heure actuelle) peut être, à l’avenir, totalement différent.</span><span class="sxs-lookup"><span data-stu-id="d581d-245">Although the number is 12 today, you shouldn't expect that number to always be 12 in the future.</span></span>
>
>

## <a name="billing-formula-for-replica-and-partition-resources"></a><span data-ttu-id="d581d-246">Formule de facturation des ressources de type réplica et partition</span><span class="sxs-lookup"><span data-stu-id="d581d-246">Billing formula for replica and partition resources</span></span>
<span data-ttu-id="d581d-247">La formule de calcul du nombre de SU utilisées pour des combinaisons données est le produit des réplicas et des partitions, soit (R X P = SU).</span><span class="sxs-lookup"><span data-stu-id="d581d-247">The formula for calculating how many SUs are used for specific combinations is the product of replicas and partitions, or (R X P = SU).</span></span> <span data-ttu-id="d581d-248">Par exemple, le produit de trois réplicas par trois partitions est facturé comme neuf SU.</span><span class="sxs-lookup"><span data-stu-id="d581d-248">For example, three replicas multiplied by three partitions is billed as nine SUs.</span></span>

<span data-ttu-id="d581d-249">Le coût par SU est déterminé par le niveau, avec un taux de facturation inférieur par unité pour le niveau de base par rapport au niveau standard.</span><span class="sxs-lookup"><span data-stu-id="d581d-249">Cost per SU is determined by the tier, with a lower per-unit billing rate for Basic than for Standard.</span></span> <span data-ttu-id="d581d-250">Consultez la [Tarification](https://azure.microsoft.com/pricing/details/search/)pour connaître les coûts pour chaque niveau.</span><span class="sxs-lookup"><span data-stu-id="d581d-250">Rates for each tier can be found on [Pricing Details](https://azure.microsoft.com/pricing/details/search/).</span></span>
