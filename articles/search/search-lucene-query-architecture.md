---
title: architecture de moteur (Lucene) de recherche de texte aaaFull dans Azure Search | Documents Microsoft
description: "Explication des concepts récupération Lucene requête document et de traitement pour la recherche en texte intégral, comme tooAzure associé recherche."
services: search
manager: jhubbard
author: yahnoosh
documentationcenter: 
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 04/06/2017
ms.author: jlembicz
ms.openlocfilehash: c6d1bea8d40154fd9237b9e44584cdfcd193cbd9
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="how-full-text-search-works-in-azure-search"></a><span data-ttu-id="6f92f-103">Fonctionnement de la recherche en texte intégral dans la recherche Azure</span><span class="sxs-lookup"><span data-stu-id="6f92f-103">How full text search works in Azure Search</span></span>

<span data-ttu-id="6f92f-104">Cet article est destiné aux développeurs qui ont besoin d’une compréhension approfondie du fonctionnement de la recherche en texte intégral Lucene dans la recherche Azure.</span><span class="sxs-lookup"><span data-stu-id="6f92f-104">This article is for developers who need a deeper understanding of how Lucene full text search works in Azure Search.</span></span> <span data-ttu-id="6f92f-105">Pour les requêtes de texte, la recherche Azure. fournit en toute transparence les résultats attendus dans la plupart des scénarios, mais il se peut que vous obteniez un résultat « étrange » dans certains cas.</span><span class="sxs-lookup"><span data-stu-id="6f92f-105">For text queries, Azure Search will seamlessly deliver expected results in most scenarios, but occasionally you might get a result that seems "off" somehow.</span></span> <span data-ttu-id="6f92f-106">Dans ce cas, la présence d’un arrière-plan dans hello quatre phases d’exécution de requêtes Lucene (requête analyse analyse lexicale, mise en correspondance, calculer les scores de document) peut vous aider à identifier les modifications spécifiques tooquery paramètres ou de configuration qui remet hello d’index résultat souhaité.</span><span class="sxs-lookup"><span data-stu-id="6f92f-106">In these situations, having a background in hello four stages of Lucene query execution (query parsing, lexical analysis, document matching, scoring) can help you identify specific changes tooquery parameters or index configuration that will deliver hello desired outcome.</span></span> 

> [!Note] 
> <span data-ttu-id="6f92f-107">La recherche Azure utilise Lucene pour la recherche en texte intégral, mais l’intégration Lucene n’est pas exhaustive.</span><span class="sxs-lookup"><span data-stu-id="6f92f-107">Azure Search uses Lucene for full text search, but Lucene integration is not exhaustive.</span></span> <span data-ttu-id="6f92f-108">Nous exposer et étendre Lucene fonctionnalité tooenable hello scénarios important tooAzure recherche sélective.</span><span class="sxs-lookup"><span data-stu-id="6f92f-108">We selectively expose and extend Lucene functionality tooenable hello scenarios important tooAzure Search.</span></span> 

## <a name="architecture-overview-and-diagram"></a><span data-ttu-id="6f92f-109">Présentation et diagramme de l’architecture</span><span class="sxs-lookup"><span data-stu-id="6f92f-109">Architecture overview and diagram</span></span>

<span data-ttu-id="6f92f-110">Le traitement d’une requête de recherche de texte intégral commence par analyser les termes de recherche tooextract hello requête texte.</span><span class="sxs-lookup"><span data-stu-id="6f92f-110">Processing a full text search query starts with parsing hello query text tooextract search terms.</span></span> <span data-ttu-id="6f92f-111">moteur de recherche Hello utilise un tooretrieve indexer des documents avec les termes du contrat de correspondance.</span><span class="sxs-lookup"><span data-stu-id="6f92f-111">hello search engine uses an index tooretrieve documents with matching terms.</span></span> <span data-ttu-id="6f92f-112">Les termes de requête individuels sont parfois divisés et reconstitué dans nouveaux formulaires toocast un réseau plus large sur ce qui peut être considéré comme une correspondance potentielle.</span><span class="sxs-lookup"><span data-stu-id="6f92f-112">Individual query terms are sometimes broken down and reconstituted into new forms toocast a broader net over what could be considered as a potential match.</span></span> <span data-ttu-id="6f92f-113">Un jeu de résultats est ensuite trié par un pertinence score attribué tooeach correspondant document individuel.</span><span class="sxs-lookup"><span data-stu-id="6f92f-113">A result set is then sorted by a relevance score assigned tooeach individual matching document.</span></span> <span data-ttu-id="6f92f-114">Celles haut hello hello liste de classement sont retournées toohello application d’appel.</span><span class="sxs-lookup"><span data-stu-id="6f92f-114">Those at hello top of hello ranked list are returned toohello calling application.</span></span>

<span data-ttu-id="6f92f-115">Après retraitement, l’exécution des requêtes comporte quatre étapes :</span><span class="sxs-lookup"><span data-stu-id="6f92f-115">Restated, query execution has four stages:</span></span> 

1. <span data-ttu-id="6f92f-116">Analyse des requêtes</span><span class="sxs-lookup"><span data-stu-id="6f92f-116">Query parsing</span></span> 
2. <span data-ttu-id="6f92f-117">Analyse lexicale</span><span class="sxs-lookup"><span data-stu-id="6f92f-117">Lexical analysis</span></span> 
3. <span data-ttu-id="6f92f-118">Extraction de documents</span><span class="sxs-lookup"><span data-stu-id="6f92f-118">Document retrieval</span></span> 
4. <span data-ttu-id="6f92f-119">Notation</span><span class="sxs-lookup"><span data-stu-id="6f92f-119">Scoring</span></span> 

<span data-ttu-id="6f92f-120">diagramme de Hello ci-dessous illustre hello composants utilisés tooprocess une demande de recherche.</span><span class="sxs-lookup"><span data-stu-id="6f92f-120">hello diagram below illustrates hello components used tooprocess a search request.</span></span> 

 ![Diagramme d’architecture de requête Lucene dans la recherche Azure][1]


| <span data-ttu-id="6f92f-122">Composants clés</span><span class="sxs-lookup"><span data-stu-id="6f92f-122">Key components</span></span> | <span data-ttu-id="6f92f-123">Description fonctionnelle</span><span class="sxs-lookup"><span data-stu-id="6f92f-123">Functional description</span></span> | 
|----------------|------------------------|
|<span data-ttu-id="6f92f-124">**Analyseurs de requêtes**</span><span class="sxs-lookup"><span data-stu-id="6f92f-124">**Query parsers**</span></span> | <span data-ttu-id="6f92f-125">Séparer les termes de requête d’opérateurs de requête et créer le moteur de recherche hello requête structure (une arborescence de requête) toobe envoyé toohello.</span><span class="sxs-lookup"><span data-stu-id="6f92f-125">Separate query terms from query operators and create hello query structure (a query tree) toobe sent toohello search engine.</span></span> |
|<span data-ttu-id="6f92f-126">**Analyseurs**</span><span class="sxs-lookup"><span data-stu-id="6f92f-126">**Analyzers**</span></span> | <span data-ttu-id="6f92f-127">Effectuez une analyse lexicale sur les termes de requête.</span><span class="sxs-lookup"><span data-stu-id="6f92f-127">Perform lexical analysis on query terms.</span></span> <span data-ttu-id="6f92f-128">Ce processus peut impliquer la transformation, la suppression ou le développement des termes de requête.</span><span class="sxs-lookup"><span data-stu-id="6f92f-128">This process can involve transforming, removing, or expanding of query terms.</span></span> |
|<span data-ttu-id="6f92f-129">**Index**</span><span class="sxs-lookup"><span data-stu-id="6f92f-129">**Index**</span></span> | <span data-ttu-id="6f92f-130">Une structure de données efficace utilisé toostore et organiser interrogeables termes extraits à partir de documents indexés.</span><span class="sxs-lookup"><span data-stu-id="6f92f-130">An efficient data structure used toostore and organize searchable terms extracted from indexed documents.</span></span> |
|<span data-ttu-id="6f92f-131">**Moteur de recherche**</span><span class="sxs-lookup"><span data-stu-id="6f92f-131">**Search engine**</span></span> | <span data-ttu-id="6f92f-132">Récupère et des scores de correspondance des documents basés sur le contenu de hello Hello des index inversé.</span><span class="sxs-lookup"><span data-stu-id="6f92f-132">Retrieves and scores matching documents based on hello contents of hello inverted index.</span></span> |

## <a name="anatomy-of-a-search-request"></a><span data-ttu-id="6f92f-133">Anatomie d’une requête de recherche</span><span class="sxs-lookup"><span data-stu-id="6f92f-133">Anatomy of a search request</span></span>

<span data-ttu-id="6f92f-134">Une requête de recherche est une spécification complète de ce qui doit être renvoyé dans un jeu de résultats.</span><span class="sxs-lookup"><span data-stu-id="6f92f-134">A search request is a complete specification of what should be returned in a result set.</span></span> <span data-ttu-id="6f92f-135">Dans sa forme la plus simple, il s’agit d’une requête vide sans aucun critère.</span><span class="sxs-lookup"><span data-stu-id="6f92f-135">In simplest form, it is an empty query with no criteria of any kind.</span></span> <span data-ttu-id="6f92f-136">Un exemple plus réaliste inclut des paramètres, plusieurs termes, les champs toocertain peut-être avec étendue, avec les règles de tri et éventuellement une expression de filtre de requête.</span><span class="sxs-lookup"><span data-stu-id="6f92f-136">A more realistic example includes parameters, several query terms, perhaps scoped toocertain fields, with possibly a filter expression and ordering rules.</span></span>  

<span data-ttu-id="6f92f-137">exemple Hello est une demande de recherche que vous pouvez envoyer tooAzure recherche à l’aide de hello [API REST](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span><span class="sxs-lookup"><span data-stu-id="6f92f-137">hello following example is a search request you might send tooAzure Search using hello [REST API](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span></span>  

~~~~
POST /indexes/hotels/docs/search?api-version=2016-09-01 
{  
    "search": "Spacious, air-condition* +\"Ocean view\"",  
    "searchFields": "description, title",  
    "searchMode": "any",
    "filter": "price ge 60 and price lt 300",  
    "orderby": "geo.distance(location, geography'POINT(-159.476235 22.227659)')", 
    "queryType": "full" 
 } 
~~~~

<span data-ttu-id="6f92f-138">Pour cette requête, moteur de recherche hello hello suivant :</span><span class="sxs-lookup"><span data-stu-id="6f92f-138">For this request, hello search engine does hello following:</span></span>

1. <span data-ttu-id="6f92f-139">Filtre les documents où le prix de hello est au moins 60 et moins de 300 $.</span><span class="sxs-lookup"><span data-stu-id="6f92f-139">Filters out documents where hello price is at least $60 and less than $300.</span></span>
2. <span data-ttu-id="6f92f-140">Exécute la requête de hello.</span><span class="sxs-lookup"><span data-stu-id="6f92f-140">Executes hello query.</span></span> <span data-ttu-id="6f92f-141">Dans cet exemple, la requête de recherche hello se compose de phrases et les termes du contrat : `"Spacious, air-condition* +\"Ocean view\""` (en général, les utilisateurs n’entrent pas signes de ponctuation, mais inclure dans l’exemple de hello permet tooexplain comment des analyseurs de gérer).</span><span class="sxs-lookup"><span data-stu-id="6f92f-141">In this example, hello search query consists of phrases and terms: `"Spacious, air-condition* +\"Ocean view\""` (users typically don't enter punctuation, but including it in hello example allows us tooexplain how analyzers handle it).</span></span> <span data-ttu-id="6f92f-142">Pour cette requête, moteur de recherche hello analyse description de hello et champs de titre spécifié dans `searchFields` pour les documents qui contiennent « Vue océan » et en outre sur terme hello « spacieux » ou sur les termes qui commencent par Bonjour préfixe « air-condition ».</span><span class="sxs-lookup"><span data-stu-id="6f92f-142">For this query, hello search engine scans hello description and title fields specified in `searchFields` for documents that contain "Ocean view", and additionally on hello term "spacious", or on terms that start with hello prefix "air-condition".</span></span> <span data-ttu-id="6f92f-143">Hello `searchMode` paramètre est toomatch utilisée sur tout terme (valeur par défaut) ou l’ensemble d'entre elles, pour les cas où un terme n’est pas explicitement requis (`+`).</span><span class="sxs-lookup"><span data-stu-id="6f92f-143">hello `searchMode` parameter is used toomatch on any term (default) or all of them, for cases where a term is not explicitly required (`+`).</span></span>
3. <span data-ttu-id="6f92f-144">Commandes hello obtenu des hôtels à proximité tooa l’emplacement géographique et retournées toohello application d’appel.</span><span class="sxs-lookup"><span data-stu-id="6f92f-144">Orders hello resulting set of hotels by proximity tooa given geography location, and then returned toohello calling application.</span></span> 

<span data-ttu-id="6f92f-145">Hello plus grande partie de cet article est sur le traitement de hello *recherche*: `"Spacious, air-condition* +\"Ocean view\""`.</span><span class="sxs-lookup"><span data-stu-id="6f92f-145">hello majority of this article is about processing of hello *search query*: `"Spacious, air-condition* +\"Ocean view\""`.</span></span> <span data-ttu-id="6f92f-146">Le filtrage et le tri ne sont pas abordés.</span><span class="sxs-lookup"><span data-stu-id="6f92f-146">Filtering and ordering are out of scope.</span></span> <span data-ttu-id="6f92f-147">Pour plus d’informations, consultez hello [documentation de référence des API de recherche](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span><span class="sxs-lookup"><span data-stu-id="6f92f-147">For more information, see hello [Search API reference documentation](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span></span>

<a name="stage1"></a>
## <a name="stage-1-query-parsing"></a><span data-ttu-id="6f92f-148">Étape 1 : Analyse des requêtes</span><span class="sxs-lookup"><span data-stu-id="6f92f-148">Stage 1: Query parsing</span></span> 

<span data-ttu-id="6f92f-149">Comme indiqué, la chaîne de requête hello est hello première ligne de hello demande :</span><span class="sxs-lookup"><span data-stu-id="6f92f-149">As noted, hello query string is hello first line of hello request:</span></span> 

~~~~
 "search": "Spacious, air-condition* +\"Ocean view\"", 
~~~~

<span data-ttu-id="6f92f-150">requête Hello analyseur sépare les opérateurs (tels que `*` et `+` dans l’exemple de hello) à partir de la recherche des termes du contrat et décompose les requêtes de recherche hello dans *sous-requêtes* d’un type pris en charge :</span><span class="sxs-lookup"><span data-stu-id="6f92f-150">hello query parser separates operators (such as `*` and `+` in hello example) from search terms, and deconstructs hello search query into *subqueries* of a supported type:</span></span> 

+ <span data-ttu-id="6f92f-151">*requête de terme* pour les termes autonomes (comme spacieux)</span><span class="sxs-lookup"><span data-stu-id="6f92f-151">*term query* for standalone terms (like spacious)</span></span>
+ <span data-ttu-id="6f92f-152">*requête d’expression* pour les termes entre guillemets (comme vue mer)</span><span class="sxs-lookup"><span data-stu-id="6f92f-152">*phrase query* for quoted terms (like ocean view)</span></span>
+ <span data-ttu-id="6f92f-153">*requête de préfixe* pour les termes suivis d’un opérateur de préfixe `*` (comme air condition)</span><span class="sxs-lookup"><span data-stu-id="6f92f-153">*prefix query* for terms followed by a prefix operator `*` (like air-condition)</span></span>

<span data-ttu-id="6f92f-154">Pour obtenir la liste complète des types de requêtes pris en charge, voir [Syntaxe de requête Lucene](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search)</span><span class="sxs-lookup"><span data-stu-id="6f92f-154">For a full list of supported query types see [Lucene query sytnax](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search)</span></span>

<span data-ttu-id="6f92f-155">Opérateurs associés à une sous-requête déterminent si la requête de hello « doit être » ou « doit être » satisfait par ordre d’un document toobe considérée comme une correspondance.</span><span class="sxs-lookup"><span data-stu-id="6f92f-155">Operators associated with a subquery determine whether hello query "must be" or "should be" satisfied in order for a document toobe considered a match.</span></span> <span data-ttu-id="6f92f-156">Par exemple, `+"Ocean view"` en « doit » toohello échéance `+` opérateur.</span><span class="sxs-lookup"><span data-stu-id="6f92f-156">For example, `+"Ocean view"` is "must" due toohello `+` operator.</span></span> 

<span data-ttu-id="6f92f-157">Analyseur de requêtes Hello restructure des sous-requêtes hello un *arborescence de requête* (une structure interne représentant hello requête), il passe sur le moteur de recherche toohello.</span><span class="sxs-lookup"><span data-stu-id="6f92f-157">hello query parser restructures hello subqueries into a *query tree* (an internal structure representing hello query) it passes on toohello search engine.</span></span> <span data-ttu-id="6f92f-158">Dans hello première étape de l’analyse de requête, l’arbre de requête hello ressemble à ceci.</span><span class="sxs-lookup"><span data-stu-id="6f92f-158">In hello first stage of query parsing, hello query tree looks like this.</span></span>  

 ![Mode de recherche de requête booléenne : quelconque][2]

### <a name="supported-parsers-simple-and-full-lucene"></a><span data-ttu-id="6f92f-160">Analyseurs pris en charge : simple et complet (Lucene)</span><span class="sxs-lookup"><span data-stu-id="6f92f-160">Supported parsers: Simple and Full Lucene</span></span> 

 <span data-ttu-id="6f92f-161">La recherche Azure expose deux langages de requête différents, `simple` (valeur par défaut) et `full`.</span><span class="sxs-lookup"><span data-stu-id="6f92f-161">Azure Search exposes two different query languages, `simple` (default) and `full`.</span></span> <span data-ttu-id="6f92f-162">En définissant un hello `queryType` paramètre avec votre demande de recherche, vous indiquez à Analyseur de requêtes hello langage de requête vous choisissez afin qu’il sache comment toointerpret hello la syntaxe et les opérateurs.</span><span class="sxs-lookup"><span data-stu-id="6f92f-162">By setting hello `queryType` parameter with your search request, you tell hello query parser which query language you choose so that it knows how toointerpret hello operators and syntax.</span></span> <span data-ttu-id="6f92f-163">Hello [langue de requête Simple](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) est intuitive et robuste, souvent approprié toointerpret l’entrée d’utilisateur en tant que-sans traitement côté client.</span><span class="sxs-lookup"><span data-stu-id="6f92f-163">hello [Simple query langauge](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) is intuitive and robust, often suitable toointerpret user input as-is without client-side processing.</span></span> <span data-ttu-id="6f92f-164">Il prend en charge les opérateurs de requête courants des moteurs de recherche web.</span><span class="sxs-lookup"><span data-stu-id="6f92f-164">It supports query operators familiar from web search engines.</span></span> <span data-ttu-id="6f92f-165">Hello [langage de requête complète Lucene](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search), que vous obtenez en définissant `queryType=full`, étend le langage de requête Simple hello par défaut en ajoutant la prise en charge pour plus d’opérateurs et des types de requêtes comme caractère générique, floue, regex et les requêtes de portée d’un champ.</span><span class="sxs-lookup"><span data-stu-id="6f92f-165">hello [Full Lucene query language](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search), which you get by setting `queryType=full`, extends hello default Simple query language by adding support for more operators and query types like wildcard, fuzzy, regex, and field-scoped queries.</span></span> <span data-ttu-id="6f92f-166">Par exemple, une expression régulière envoyée en syntaxe de requête simple serait interprétée en tant que chaîne de requête et pas en tant qu’expression.</span><span class="sxs-lookup"><span data-stu-id="6f92f-166">For example, a regular expression sent in Simple query syntax would be interpreted as a query string and not an expression.</span></span> <span data-ttu-id="6f92f-167">demande d’exemple Hello dans cet article utilise un langage de requête complète Lucene hello.</span><span class="sxs-lookup"><span data-stu-id="6f92f-167">hello example request in this article uses hello Full Lucene query language.</span></span>

### <a name="impact-of-searchmode-on-hello-parser"></a><span data-ttu-id="6f92f-168">Impact de searchMode sur l’Analyseur de hello</span><span class="sxs-lookup"><span data-stu-id="6f92f-168">Impact of searchMode on hello parser</span></span> 

<span data-ttu-id="6f92f-169">Un autre paramètre de requête de recherche qui affecte l’analyse est hello `searchMode` paramètre.</span><span class="sxs-lookup"><span data-stu-id="6f92f-169">Another search request parameter that affects parsing is hello `searchMode` parameter.</span></span> <span data-ttu-id="6f92f-170">Il contrôle l’opérateur par défaut de hello pour les requêtes booléennes : n’importe quel (par défaut) ou l’ensemble.</span><span class="sxs-lookup"><span data-stu-id="6f92f-170">It controls hello default operator for Boolean queries: any (default) or all.</span></span>  

<span data-ttu-id="6f92f-171">Lorsque `searchMode=any`, qui est par défaut hello, délimiteur d’espace hello entre spacieux et air-condition est ou (`||`), en le texte de requête d’exemple hello équivalent à :</span><span class="sxs-lookup"><span data-stu-id="6f92f-171">When `searchMode=any`, which is hello default, hello space delimiter between spacious and air-condition is OR (`||`), making hello sample query text equivalent to:</span></span> 

~~~~
Spacious,||air-condition*+"Ocean view" 
~~~~

<span data-ttu-id="6f92f-172">Opérateurs explicites, tels que `+` dans `+"Ocean view"`, ne sont pas ambiguës dans la construction de requête booléenne (terme de hello *doit* correspondent).</span><span class="sxs-lookup"><span data-stu-id="6f92f-172">Explicit operators, such as `+` in `+"Ocean view"`, are unambiguous in boolean query construction (hello term *must* match).</span></span> <span data-ttu-id="6f92f-173">Est moins évidente comment hello toointerpret restants du contrat : spacieux et air-condition.</span><span class="sxs-lookup"><span data-stu-id="6f92f-173">Less obvious is how toointerpret hello remaining terms: spacious and air-condition.</span></span> <span data-ttu-id="6f92f-174">Moteur de recherche hello doit rechercher des correspondances dans la vue de l’océan *et* spacieux *et* air-condition ?</span><span class="sxs-lookup"><span data-stu-id="6f92f-174">Should hello search engine find matches on ocean view *and* spacious *and* air-condition?</span></span> <span data-ttu-id="6f92f-175">Ou il doit trouver océan plus *le des deux* Hello restant des termes du contrat ?</span><span class="sxs-lookup"><span data-stu-id="6f92f-175">Or should it find ocean view plus *either one* of hello remaining terms?</span></span> 

<span data-ttu-id="6f92f-176">Par défaut (`searchMode=any`), moteur de recherche hello suppose d’interprétation plus large de hello.</span><span class="sxs-lookup"><span data-stu-id="6f92f-176">By default (`searchMode=any`), hello search engine assumes hello broader interpretation.</span></span> <span data-ttu-id="6f92f-177">N’importe quel champ *doit* être mis en correspondance, reflétant la sémantique du « ou ».</span><span class="sxs-lookup"><span data-stu-id="6f92f-177">Either field *should* be matched, reflecting "or" semantics.</span></span> <span data-ttu-id="6f92f-178">arborescence de la requête initiale Hello illustré précédemment, par hello deux opérations « doit », présente, hello par défaut.</span><span class="sxs-lookup"><span data-stu-id="6f92f-178">hello initial query tree illustrated previously, with hello two "should" operations, shows hello default.</span></span>  

<span data-ttu-id="6f92f-179">Supposons que nous avons maintenant défini `searchMode=all`.</span><span class="sxs-lookup"><span data-stu-id="6f92f-179">Suppose that we now set `searchMode=all`.</span></span> <span data-ttu-id="6f92f-180">Dans ce cas, espace de hello est interprété comme une opération « et ».</span><span class="sxs-lookup"><span data-stu-id="6f92f-180">In this case, hello space is interpreted as an "and" operation.</span></span> <span data-ttu-id="6f92f-181">Chacun des termes de restantes hello doit être présent dans hello document tooqualify comme une correspondance.</span><span class="sxs-lookup"><span data-stu-id="6f92f-181">Each of hello remaining terms must both be present in hello document tooqualify as a match.</span></span> <span data-ttu-id="6f92f-182">Hello résultant exemple de requête est interprétée comme suit :</span><span class="sxs-lookup"><span data-stu-id="6f92f-182">hello resulting sample query would be interpreted as follows:</span></span> 

~~~~
+Spacious,+air-condition*+"Ocean view"  
~~~~

<span data-ttu-id="6f92f-183">Une arborescence de la requête modifiée pour cette requête se présente comme suit, où un document correspondant est intersection hello de toutes les sous-requêtes de trois :</span><span class="sxs-lookup"><span data-stu-id="6f92f-183">A modified query tree for this query would be as follows, where a matching document is hello intersection of all three subqueries:</span></span> 

 ![Mode de recherche de requête booléenne : tout][3]

> [!Note] 
> <span data-ttu-id="6f92f-185">Choisir `searchMode=any` plutôt que `searchMode=all` est le meilleur moyen d’exécuter des requêtes représentatives.</span><span class="sxs-lookup"><span data-stu-id="6f92f-185">Choosing `searchMode=any` over `searchMode=all` is a decision best arrived at by running representative queries.</span></span> <span data-ttu-id="6f92f-186">Les utilisateurs qui sont susceptibles de tooinclude opérateurs (commun lors de la recherche de document stocke) peut rechercher les résultats plus intuitive si `searchMode=all` informe les constructions de requête booléenne.</span><span class="sxs-lookup"><span data-stu-id="6f92f-186">Users who are likely tooinclude operators (common when searching document stores) might find results more intuitive if `searchMode=all` informs boolean query constructs.</span></span> <span data-ttu-id="6f92f-187">Pour plus d’informations sur l’interaction entre les hello entre `searchMode` et opérateurs, consultez [syntaxe de requête Simple](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search).</span><span class="sxs-lookup"><span data-stu-id="6f92f-187">For more about hello interplay between `searchMode` and operators, see [Simple query syntax](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search).</span></span>

<a name="stage2"></a>
## <a name="stage-2-lexical-analysis"></a><span data-ttu-id="6f92f-188">Étape 2 : Analyse lexicale</span><span class="sxs-lookup"><span data-stu-id="6f92f-188">Stage 2: Lexical analysis</span></span> 

<span data-ttu-id="6f92f-189">Processus d’analyseurs lexicaux *terme requêtes* et *une phrase requêtes* une fois que l’arborescence de requête hello est structurée.</span><span class="sxs-lookup"><span data-stu-id="6f92f-189">Lexical analyzers process *term queries* and *phrase queries* after hello query tree is structured.</span></span> <span data-ttu-id="6f92f-190">Un analyseur accepte hello texte intrants tooit par l’Analyseur de hello et processus hello texte puis termes envoie de nouveau sous forme de jetons toobe intégrés hello arborescence de requête.</span><span class="sxs-lookup"><span data-stu-id="6f92f-190">An analyzer accepts hello text inputs given tooit by hello parser, processes hello text, and then sends back tokenized terms toobe incorporated into hello query tree.</span></span> 

<span data-ttu-id="6f92f-191">forme la plus commune de l’analyse lexicale Hello est *analyse linguistique* qui transforme les termes de requête en fonction de tooa spécifique de règles donné de langage :</span><span class="sxs-lookup"><span data-stu-id="6f92f-191">hello most common form of lexical analysis is *linguistic analysis* which transforms query terms based on rules specific tooa given language:</span></span> 

* <span data-ttu-id="6f92f-192">Réduction d’une requête terme toohello racine d’un mot forme</span><span class="sxs-lookup"><span data-stu-id="6f92f-192">Reducing a query term toohello root form of a word</span></span> 
* <span data-ttu-id="6f92f-193">Supprimer les mots non essentiels (mots vides, tels que « le », « la », « les » ou « et » en français)</span><span class="sxs-lookup"><span data-stu-id="6f92f-193">Removing non-essential words (stopwords, such as "the" or "and" in English)</span></span> 
* <span data-ttu-id="6f92f-194">Diviser un mot composite en composants</span><span class="sxs-lookup"><span data-stu-id="6f92f-194">Breaking a composite word into component parts</span></span> 
* <span data-ttu-id="6f92f-195">Convertir en minuscules un mot en majuscules</span><span class="sxs-lookup"><span data-stu-id="6f92f-195">Lower casing an upper case word</span></span> 

<span data-ttu-id="6f92f-196">Toutes ces opérations ont tendance tooerase les différences entre l’entrée de texte hello fournies par les termes hello hello et utilisateur stockées dans les index hello.</span><span class="sxs-lookup"><span data-stu-id="6f92f-196">All of these operations tend tooerase differences between hello text input provided by hello user and hello terms stored in hello index.</span></span> <span data-ttu-id="6f92f-197">Les opérations aller au-delà du traitement de texte et nécessitent une connaissance approfondie du langage hello lui-même.</span><span class="sxs-lookup"><span data-stu-id="6f92f-197">Such operations go beyond text processing and require in-depth knowledge of hello language itself.</span></span> <span data-ttu-id="6f92f-198">tooadd cette couche de sensibilisation linguistique, Azure Search prend en charge une longue liste de [analyseurs de langage](https://docs.microsoft.com/rest/api/searchservice/language-support) de Lucene et Microsoft.</span><span class="sxs-lookup"><span data-stu-id="6f92f-198">tooadd this layer of linguistic awareness, Azure Search supports a long list of [language analyzers](https://docs.microsoft.com/rest/api/searchservice/language-support) from both Lucene and Microsoft.</span></span>

> [!Note]
> <span data-ttu-id="6f92f-199">Besoins d’analyse peuvent s’échelonner de tooelaborate minimale en fonction de votre scénario.</span><span class="sxs-lookup"><span data-stu-id="6f92f-199">Analysis requirements can range from minimal tooelaborate depending on your scenario.</span></span> <span data-ttu-id="6f92f-200">Vous pouvez contrôler la complexité de l’analyse lexicale par hello en sélectionnant un des analyseurs de hello prédéfini ou en créant votre propre [analyseur personnalisé](https://docs.microsoft.com/rest/api/searchservice/Custom-analyzers-in-Azure-Search).</span><span class="sxs-lookup"><span data-stu-id="6f92f-200">You can control complexity of lexical analysis by hello selecting one of hello predefined analyzers or by creating your own [custom analyzer](https://docs.microsoft.com/rest/api/searchservice/Custom-analyzers-in-Azure-Search).</span></span> <span data-ttu-id="6f92f-201">Analyseurs sont des champs de toosearchable étendue et sont spécifiés dans le cadre d’une définition de champ.</span><span class="sxs-lookup"><span data-stu-id="6f92f-201">Analyzers are scoped toosearchable fields and are specified as part of a field definition.</span></span> <span data-ttu-id="6f92f-202">Ainsi, vous analyse lexicale de toovary sur une base de chaque champ.</span><span class="sxs-lookup"><span data-stu-id="6f92f-202">This allows you toovary lexical analysis on a per-field basis.</span></span> <span data-ttu-id="6f92f-203">N’est pas spécifié, hello *standard* Lucene analyseur est utilisée.</span><span class="sxs-lookup"><span data-stu-id="6f92f-203">Unspecified, hello *standard* Lucene analyzer is used.</span></span>

<span data-ttu-id="6f92f-204">Dans notre exemple, tooanalysis préalable, requête initiale hello possède le terme hello « Spacious » par un majuscule « S » et une virgule qui hello Analyseur de requêtes interprète comme une partie du terme de requête hello (une virgule n'est pas considéré comme un opérateur de langage de requête).</span><span class="sxs-lookup"><span data-stu-id="6f92f-204">In our example, prior tooanalysis, hello initial query tree has hello term "Spacious," with an uppercase "S" and a comma that hello query parser interprets as a part of hello query term (a comma is not considered a query language operator).</span></span>  

<span data-ttu-id="6f92f-205">Lorsque l’Analyseur de hello par défaut traite le terme de hello, il minuscules « vue océan » et « spacieux » et supprimez le caractère de virgule hello.</span><span class="sxs-lookup"><span data-stu-id="6f92f-205">When hello default analyzer processes hello term, it will lowercase "ocean view" and "spacious", and remove hello comma character.</span></span> <span data-ttu-id="6f92f-206">arborescence de la requête modifiée Hello se présentera comme suit :</span><span class="sxs-lookup"><span data-stu-id="6f92f-206">hello modified query tree will look as follows:</span></span> 

 ![Requête booléenne avec termes analysés][4]

### <a name="testing-analyzer-behaviors"></a><span data-ttu-id="6f92f-208">Test des comportements de l’analyseur</span><span class="sxs-lookup"><span data-stu-id="6f92f-208">Testing analyzer behaviors</span></span> 

<span data-ttu-id="6f92f-209">comportement de Hello d’un analyseur peut être testé à l’aide de hello [analyser les API](https://docs.microsoft.com/rest/api/searchservice/test-analyzer).</span><span class="sxs-lookup"><span data-stu-id="6f92f-209">hello behavior of an analyzer can be tested using hello [Analyze API](https://docs.microsoft.com/rest/api/searchservice/test-analyzer).</span></span> <span data-ttu-id="6f92f-210">Entrez le texte hello souhaité tooanalyze toosee le termes du contrat de donnée d’analyseur génère.</span><span class="sxs-lookup"><span data-stu-id="6f92f-210">Provide hello text you want tooanalyze toosee what terms given analyzer will generate.</span></span> <span data-ttu-id="6f92f-211">Par exemple, toosee comment l’analyseur standard de hello traiterait hello air-condition « texte », vous pouvez émettre hello demande :</span><span class="sxs-lookup"><span data-stu-id="6f92f-211">For example, toosee how hello standard analyzer would process hello text "air-condition", you can issue hello following request:</span></span>

~~~~
{ 
    "text": "air-condition",
    "analyzer": "standard"
}
~~~~

<span data-ttu-id="6f92f-212">analyseur standard de Hello s’interrompt de texte d’entrée hello en hello suivant deux jetons, les annoter avec des attributs tels que Démarrer et les offsets de fin (utilisés pour la mise en surbrillance), ainsi que leur position (utilisé pour la correspondance d’expression) :</span><span class="sxs-lookup"><span data-stu-id="6f92f-212">hello standard analyzer breaks hello input text into hello following two tokens, annotating them with attributes like start and end offsets (used for hit highlighting) as well as their position (used for phrase matching):</span></span>

~~~~
{  
  "tokens": [
    {
      "token": "air",
      "startOffset": 0,
      "endOffset": 3,
      "position": 0
    },
    {
      "token": "condition",
      "startOffset": 4,
      "endOffset": 13,
      "position": 1
    }
  ]
}
~~~~

### <a name="exceptions-toolexical-analysis"></a><span data-ttu-id="6f92f-213">Analyse de toolexical d’exceptions</span><span class="sxs-lookup"><span data-stu-id="6f92f-213">Exceptions toolexical analysis</span></span> 

<span data-ttu-id="6f92f-214">Analyse lexicale s’applique uniquement les types de tooquery qui nécessitent des conditions complètes – une requête terme ou une requête d’expression.</span><span class="sxs-lookup"><span data-stu-id="6f92f-214">Lexical analysis applies only tooquery types that require complete terms – either a term query or a phrase query.</span></span> <span data-ttu-id="6f92f-215">Il ne s’applique pas tooquery les types incomplets termes : requête de préfixe, les requêtes génériques, regex requête – ou requête approximative de tooa.</span><span class="sxs-lookup"><span data-stu-id="6f92f-215">It doesn’t apply tooquery types with incomplete terms – prefix query, wildcard query, regex query – or tooa fuzzy query.</span></span> <span data-ttu-id="6f92f-216">Les types, y compris la requête de préfixe hello avec un terme de requête *air-condition\**  dans notre exemple, sont ajoutés directement toohello arbre de requêtes, en ignorant la phase d’analyse hello.</span><span class="sxs-lookup"><span data-stu-id="6f92f-216">Those query types, including hello prefix query with term *air-condition\** in our example, are added directly toohello query tree, bypassing hello analysis stage.</span></span> <span data-ttu-id="6f92f-217">Hello que transformation effectuée sur les termes de requête de ces types est minuscules.</span><span class="sxs-lookup"><span data-stu-id="6f92f-217">hello only transformation performed on query terms of those types is lowercasing.</span></span>

<a name="stage3"></a>
## <a name="stage-3-document-retrieval"></a><span data-ttu-id="6f92f-218">Étape 3 : Extraction de documents</span><span class="sxs-lookup"><span data-stu-id="6f92f-218">Stage 3: Document retrieval</span></span> 

<span data-ttu-id="6f92f-219">Récupération de document fait référence à des documents avec les termes correspondants dans les index de hello toofinding.</span><span class="sxs-lookup"><span data-stu-id="6f92f-219">Document retrieval refers toofinding documents with matching terms in hello index.</span></span> <span data-ttu-id="6f92f-220">Vous comprendrez mieux cette étape à l’aide d’un exemple.</span><span class="sxs-lookup"><span data-stu-id="6f92f-220">This stage is understood best through an example.</span></span> <span data-ttu-id="6f92f-221">Commençons par un index hôtels ayant hello suivant schéma simple :</span><span class="sxs-lookup"><span data-stu-id="6f92f-221">Let's start with a hotels index having hello following simple schema:</span></span> 

~~~~
{   
    "name": "hotels",     
    "fields": [     
        { "name": "id", "type": "Edm.String", "key": true, "searchable": false },     
        { "name": "title", "type": "Edm.String", "searchable": true },     
        { "name": "description", "type": "Edm.String", "searchable": true }
    ] 
} 
~~~~

<span data-ttu-id="6f92f-222">Supposons également que cet index contient hello suivant quatre documents :</span><span class="sxs-lookup"><span data-stu-id="6f92f-222">Further assume that this index contains hello following four documents:</span></span> 

~~~~
{ 
    "value": [
        {         
            "id": "1",         
            "title": "Hotel Atman",         
            "description": "Spacious rooms, ocean view, walking distance toohello beach."   
        },       
        {         
            "id": "2",         
            "title": "Beach Resort",        
            "description": "Located on hello north shore of hello island of Kauaʻi. Ocean view."     
        },       
        {         
            "id": "3",         
            "title": "Playa Hotel",         
            "description": "Comfortable, air-conditioned rooms with ocean view."
        },       
        {         
            "id": "4",         
            "title": "Ocean Retreat",         
            "description": "Quiet and secluded"
        }    
    ]
}
~~~~

<span data-ttu-id="6f92f-223">**Comment les termes sont indexés**</span><span class="sxs-lookup"><span data-stu-id="6f92f-223">**How terms are indexed**</span></span>

<span data-ttu-id="6f92f-224">récupération de toounderstand, il permet de tooknow quelques notions de base sur l’indexation.</span><span class="sxs-lookup"><span data-stu-id="6f92f-224">toounderstand retrieval, it helps tooknow a few basics about indexing.</span></span> <span data-ttu-id="6f92f-225">unité de stockage de Hello est un index inversé, un pour chaque champ de recherche.</span><span class="sxs-lookup"><span data-stu-id="6f92f-225">hello unit of storage is an inverted index, one for each searchable field.</span></span> <span data-ttu-id="6f92f-226">Un index inversé comprend la liste triée de tous les termes issus de tous les documents.</span><span class="sxs-lookup"><span data-stu-id="6f92f-226">Within an inverted index is a sorted list of all terms from all documents.</span></span> <span data-ttu-id="6f92f-227">Chaque terme mappe toohello la liste des documents dans laquelle elle se produit, comme évident dans l’exemple hello ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="6f92f-227">Each term maps toohello list of documents in which it occurs, as evident in hello example below.</span></span>

<span data-ttu-id="6f92f-228">termes du contrat de hello tooproduce dans un index inversé, moteur de recherche hello effectue des analyse lexicale sur le contenu des documents, hello toowhat similaire se produit pendant le traitement des requêtes.</span><span class="sxs-lookup"><span data-stu-id="6f92f-228">tooproduce hello terms in an inverted index, hello search engine performs lexical analysis over hello content of documents, similar toowhat happens during query processing.</span></span> <span data-ttu-id="6f92f-229">Entrées de texte sont passées analyseur tooan, en minuscules, débarrassé des signes de ponctuation et ainsi de suite, en fonction de la configuration d’analyseur hello.</span><span class="sxs-lookup"><span data-stu-id="6f92f-229">Text inputs are passed tooan analyzer, lower-cased, stripped of punctuation, and so forth, depending on hello analyzer configuration.</span></span> <span data-ttu-id="6f92f-230">Il est commun, mais n’est pas obligatoire, toouse hello des analyseurs de mêmes pour la recherche et les opérations d’indexation afin que les termes de requête plus ressembler à des termes du contrat à l’intérieur de hello index.</span><span class="sxs-lookup"><span data-stu-id="6f92f-230">It's common, but not required, toouse hello same analyzers for search and indexing operations so that query terms look more like terms inside hello index.</span></span>

> [!Note]
> <span data-ttu-id="6f92f-231">La recherche Azure vous permet de spécifier différents analyseurs pour l’indexation et la recherche via les paramètres de champ supplémentaires `indexAnalyzer` et `searchAnalyzer`.</span><span class="sxs-lookup"><span data-stu-id="6f92f-231">Azure Search lets you specify different analyzers for indexing and search via additional `indexAnalyzer` and `searchAnalyzer` field parameters.</span></span> <span data-ttu-id="6f92f-232">Si non spécifié, hello analyzer avec hello `analyzer` propriété est utilisée pour l’indexation et de recherche.</span><span class="sxs-lookup"><span data-stu-id="6f92f-232">If unspecified, hello analyzer set with hello `analyzer` property is used for both indexing and searching.</span></span>  

<span data-ttu-id="6f92f-233">**Index inversé pour les documents d’exemple**</span><span class="sxs-lookup"><span data-stu-id="6f92f-233">**Inverted index for example documents**</span></span>

<span data-ttu-id="6f92f-234">Retour de tooour exemple, pour hello **titre** champ, les index hello inversé ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="6f92f-234">Returning tooour example, for hello **title** field, hello inverted index looks like this:</span></span>

| <span data-ttu-id="6f92f-235">Terme</span><span class="sxs-lookup"><span data-stu-id="6f92f-235">Term</span></span> | <span data-ttu-id="6f92f-236">Liste de documents</span><span class="sxs-lookup"><span data-stu-id="6f92f-236">Document list</span></span> |
|------|---------------|
| <span data-ttu-id="6f92f-237">atman</span><span class="sxs-lookup"><span data-stu-id="6f92f-237">atman</span></span> | <span data-ttu-id="6f92f-238">1</span><span class="sxs-lookup"><span data-stu-id="6f92f-238">1</span></span> |
| <span data-ttu-id="6f92f-239">plage</span><span class="sxs-lookup"><span data-stu-id="6f92f-239">beach</span></span> | <span data-ttu-id="6f92f-240">2</span><span class="sxs-lookup"><span data-stu-id="6f92f-240">2</span></span> |
| <span data-ttu-id="6f92f-241">hôtel</span><span class="sxs-lookup"><span data-stu-id="6f92f-241">hotel</span></span> | <span data-ttu-id="6f92f-242">1, 3</span><span class="sxs-lookup"><span data-stu-id="6f92f-242">1, 3</span></span> |
| <span data-ttu-id="6f92f-243">mer</span><span class="sxs-lookup"><span data-stu-id="6f92f-243">ocean</span></span> | <span data-ttu-id="6f92f-244">4</span><span class="sxs-lookup"><span data-stu-id="6f92f-244">4</span></span>  |
| <span data-ttu-id="6f92f-245">playa</span><span class="sxs-lookup"><span data-stu-id="6f92f-245">playa</span></span> | <span data-ttu-id="6f92f-246">3</span><span class="sxs-lookup"><span data-stu-id="6f92f-246">3</span></span> |
| <span data-ttu-id="6f92f-247">complexe</span><span class="sxs-lookup"><span data-stu-id="6f92f-247">resort</span></span> | <span data-ttu-id="6f92f-248">3</span><span class="sxs-lookup"><span data-stu-id="6f92f-248">3</span></span> |
| <span data-ttu-id="6f92f-249">retraite</span><span class="sxs-lookup"><span data-stu-id="6f92f-249">retreat</span></span> | <span data-ttu-id="6f92f-250">4</span><span class="sxs-lookup"><span data-stu-id="6f92f-250">4</span></span> |

<span data-ttu-id="6f92f-251">Dans le champ de titre hello, uniquement *hôtel* s’affiche dans deux documents : 1, 3.</span><span class="sxs-lookup"><span data-stu-id="6f92f-251">In hello title field, only *hotel* shows up in two documents: 1, 3.</span></span>

<span data-ttu-id="6f92f-252">Pourquoi **description** champ, hello index est comme suit :</span><span class="sxs-lookup"><span data-stu-id="6f92f-252">For hello **description** field, hello index is as follows:</span></span>

| <span data-ttu-id="6f92f-253">Terme</span><span class="sxs-lookup"><span data-stu-id="6f92f-253">Term</span></span> | <span data-ttu-id="6f92f-254">Liste de documents</span><span class="sxs-lookup"><span data-stu-id="6f92f-254">Document list</span></span> |
|------|---------------|
| <span data-ttu-id="6f92f-255">air</span><span class="sxs-lookup"><span data-stu-id="6f92f-255">air</span></span> | <span data-ttu-id="6f92f-256">3</span><span class="sxs-lookup"><span data-stu-id="6f92f-256">3</span></span>
| <span data-ttu-id="6f92f-257">and</span><span class="sxs-lookup"><span data-stu-id="6f92f-257">and</span></span> | <span data-ttu-id="6f92f-258">4</span><span class="sxs-lookup"><span data-stu-id="6f92f-258">4</span></span>
| <span data-ttu-id="6f92f-259">plage</span><span class="sxs-lookup"><span data-stu-id="6f92f-259">beach</span></span> | <span data-ttu-id="6f92f-260">1</span><span class="sxs-lookup"><span data-stu-id="6f92f-260">1</span></span>
| <span data-ttu-id="6f92f-261">conditionné</span><span class="sxs-lookup"><span data-stu-id="6f92f-261">conditioned</span></span> | <span data-ttu-id="6f92f-262">3</span><span class="sxs-lookup"><span data-stu-id="6f92f-262">3</span></span>
| <span data-ttu-id="6f92f-263">confortable</span><span class="sxs-lookup"><span data-stu-id="6f92f-263">comfortable</span></span> | <span data-ttu-id="6f92f-264">3</span><span class="sxs-lookup"><span data-stu-id="6f92f-264">3</span></span>
| <span data-ttu-id="6f92f-265">distance</span><span class="sxs-lookup"><span data-stu-id="6f92f-265">distance</span></span> | <span data-ttu-id="6f92f-266">1</span><span class="sxs-lookup"><span data-stu-id="6f92f-266">1</span></span>
| <span data-ttu-id="6f92f-267">île</span><span class="sxs-lookup"><span data-stu-id="6f92f-267">island</span></span> | <span data-ttu-id="6f92f-268">2</span><span class="sxs-lookup"><span data-stu-id="6f92f-268">2</span></span>
| <span data-ttu-id="6f92f-269">kauaʻi</span><span class="sxs-lookup"><span data-stu-id="6f92f-269">kauaʻi</span></span> | <span data-ttu-id="6f92f-270">2</span><span class="sxs-lookup"><span data-stu-id="6f92f-270">2</span></span>
| <span data-ttu-id="6f92f-271">situé</span><span class="sxs-lookup"><span data-stu-id="6f92f-271">located</span></span> | <span data-ttu-id="6f92f-272">2</span><span class="sxs-lookup"><span data-stu-id="6f92f-272">2</span></span>
| <span data-ttu-id="6f92f-273">Nord</span><span class="sxs-lookup"><span data-stu-id="6f92f-273">north</span></span> | <span data-ttu-id="6f92f-274">2</span><span class="sxs-lookup"><span data-stu-id="6f92f-274">2</span></span>
| <span data-ttu-id="6f92f-275">mer</span><span class="sxs-lookup"><span data-stu-id="6f92f-275">ocean</span></span> | <span data-ttu-id="6f92f-276">1, 2, 3</span><span class="sxs-lookup"><span data-stu-id="6f92f-276">1, 2, 3</span></span>
| <span data-ttu-id="6f92f-277">sur</span><span class="sxs-lookup"><span data-stu-id="6f92f-277">of</span></span> | <span data-ttu-id="6f92f-278">2</span><span class="sxs-lookup"><span data-stu-id="6f92f-278">2</span></span>
| <span data-ttu-id="6f92f-279">sur</span><span class="sxs-lookup"><span data-stu-id="6f92f-279">on</span></span> |<span data-ttu-id="6f92f-280">2</span><span class="sxs-lookup"><span data-stu-id="6f92f-280">2</span></span>
| <span data-ttu-id="6f92f-281">calme</span><span class="sxs-lookup"><span data-stu-id="6f92f-281">quiet</span></span> | <span data-ttu-id="6f92f-282">4</span><span class="sxs-lookup"><span data-stu-id="6f92f-282">4</span></span>
| <span data-ttu-id="6f92f-283">chambres</span><span class="sxs-lookup"><span data-stu-id="6f92f-283">rooms</span></span>  | <span data-ttu-id="6f92f-284">1, 3</span><span class="sxs-lookup"><span data-stu-id="6f92f-284">1, 3</span></span>
| <span data-ttu-id="6f92f-285">isolé</span><span class="sxs-lookup"><span data-stu-id="6f92f-285">secluded</span></span> | <span data-ttu-id="6f92f-286">4</span><span class="sxs-lookup"><span data-stu-id="6f92f-286">4</span></span>
| <span data-ttu-id="6f92f-287">rive</span><span class="sxs-lookup"><span data-stu-id="6f92f-287">shore</span></span> | <span data-ttu-id="6f92f-288">2</span><span class="sxs-lookup"><span data-stu-id="6f92f-288">2</span></span>
| <span data-ttu-id="6f92f-289">spacieux</span><span class="sxs-lookup"><span data-stu-id="6f92f-289">spacious</span></span> | <span data-ttu-id="6f92f-290">1</span><span class="sxs-lookup"><span data-stu-id="6f92f-290">1</span></span>
| <span data-ttu-id="6f92f-291">Salut</span><span class="sxs-lookup"><span data-stu-id="6f92f-291">hello</span></span> | <span data-ttu-id="6f92f-292">1, 2</span><span class="sxs-lookup"><span data-stu-id="6f92f-292">1, 2</span></span>
| <span data-ttu-id="6f92f-293">trop</span><span class="sxs-lookup"><span data-stu-id="6f92f-293">too</span></span>| <span data-ttu-id="6f92f-294">1</span><span class="sxs-lookup"><span data-stu-id="6f92f-294">1</span></span>
| <span data-ttu-id="6f92f-295">view</span><span class="sxs-lookup"><span data-stu-id="6f92f-295">view</span></span> | <span data-ttu-id="6f92f-296">1, 2, 3</span><span class="sxs-lookup"><span data-stu-id="6f92f-296">1, 2, 3</span></span>
| <span data-ttu-id="6f92f-297">marche</span><span class="sxs-lookup"><span data-stu-id="6f92f-297">walking</span></span> | <span data-ttu-id="6f92f-298">1</span><span class="sxs-lookup"><span data-stu-id="6f92f-298">1</span></span>
| <span data-ttu-id="6f92f-299">par</span><span class="sxs-lookup"><span data-stu-id="6f92f-299">with</span></span> | <span data-ttu-id="6f92f-300">3</span><span class="sxs-lookup"><span data-stu-id="6f92f-300">3</span></span>


<span data-ttu-id="6f92f-301">**Termes de requête correspondant aux termes indexés**</span><span class="sxs-lookup"><span data-stu-id="6f92f-301">**Matching query terms against indexed terms**</span></span>

<span data-ttu-id="6f92f-302">Étant donné les indices hello inversé ci-dessus, nous allons retourner toohello exemple de requête et voir comment la correspondance des documents sont trouvés pour notre exemple de requête.</span><span class="sxs-lookup"><span data-stu-id="6f92f-302">Given hello inverted indices above, let’s return toohello sample query and see how matching documents are found for our example query.</span></span> <span data-ttu-id="6f92f-303">Rappelez-vous que cette arborescence de la dernière requête hello ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="6f92f-303">Recall that hello final query tree looks like this:</span></span> 

 ![Requête booléenne avec termes analysés][4]

<span data-ttu-id="6f92f-305">Pendant l’exécution de requête, les requêtes sont exécutées sur les champs interrogeables hello indépendamment.</span><span class="sxs-lookup"><span data-stu-id="6f92f-305">During query execution, individual queries are executed against hello searchable fields independently.</span></span> 

+ <span data-ttu-id="6f92f-306">Hello TermQuery, « spacieux » correspond au document 1 (hôtel Atman).</span><span class="sxs-lookup"><span data-stu-id="6f92f-306">hello TermQuery, "spacious", matches document 1 (Hotel Atman).</span></span> 

+ <span data-ttu-id="6f92f-307">Hello PrefixQuery, « air-condition * », ne correspond pas à tous les documents.</span><span class="sxs-lookup"><span data-stu-id="6f92f-307">hello PrefixQuery, "air-condition*", doesn't match any documents.</span></span> 

  <span data-ttu-id="6f92f-308">Ce comportement déroute parfois les développeurs.</span><span class="sxs-lookup"><span data-stu-id="6f92f-308">This is a behavior that sometimes confuses developers.</span></span> <span data-ttu-id="6f92f-309">Bien que le terme hello climatisée existe dans le document de hello, il est fractionné en deux termes par l’Analyseur de hello par défaut.</span><span class="sxs-lookup"><span data-stu-id="6f92f-309">Although hello term air-conditioned exists in hello document, it is split into two terms by hello default analyzer.</span></span> <span data-ttu-id="6f92f-310">N’oubliez pas que les requêtes de préfixe, qui contiennent des termes partiels, ne sont pas analysées.</span><span class="sxs-lookup"><span data-stu-id="6f92f-310">Recall that prefix queries, which contain partial terms, are not analyzed.</span></span> <span data-ttu-id="6f92f-311">Par conséquent, les termes du contrat avec le préfixe « air-condition » est recherchés dans hello index inversé et introuvable.</span><span class="sxs-lookup"><span data-stu-id="6f92f-311">Therefore terms with prefix "air-condition" are looked up in hello inverted index and not found.</span></span>

+ <span data-ttu-id="6f92f-312">Hello PhraseQuery « vue océan », consulte les termes du contrat de hello « océan » et « vue » et vérifie la proximité hello de termes hello document d’origine.</span><span class="sxs-lookup"><span data-stu-id="6f92f-312">hello PhraseQuery, "ocean view", looks up hello terms "ocean" and "view" and checks hello proximity of terms in hello original document.</span></span> <span data-ttu-id="6f92f-313">Documents 1, 2 et 3 correspond à cette requête dans le champ de description hello.</span><span class="sxs-lookup"><span data-stu-id="6f92f-313">Documents 1, 2 and 3 match this query in hello description field.</span></span> <span data-ttu-id="6f92f-314">Document d’avis 4 a océan de terme hello dans le titre de hello mais n’est pas considéré comme une correspondance, nous recherchons une expression de hello « vue océan » plutôt que des mots individuels.</span><span class="sxs-lookup"><span data-stu-id="6f92f-314">Notice document 4 has hello term ocean in hello title but isn’t considered a match, as we're looking for hello "ocean view" phrase rather than individual words.</span></span> 

> [!Note]
> <span data-ttu-id="6f92f-315">Une requête de recherche est exécutée indépendamment par rapport à tous les champs interrogeables Bonjour Azure recherche d’index, sauf si vous limitez les champs hello avec hello `searchFields` paramètre, comme illustré dans la demande de recherche d’exemple hello.</span><span class="sxs-lookup"><span data-stu-id="6f92f-315">A search query is executed independently against all searchable fields in hello Azure Search index unless you limit hello fields set with hello `searchFields` parameter, as illustrated in hello example search request.</span></span> <span data-ttu-id="6f92f-316">Les documents qui correspondent dans un des champs de hello sélectionné sont retournés.</span><span class="sxs-lookup"><span data-stu-id="6f92f-316">Documents that match in any of hello selected fields are returned.</span></span> 

<span data-ttu-id="6f92f-317">Sur hello entier de requête hello en question, documents hello correspondant sont 1, 2, 3.</span><span class="sxs-lookup"><span data-stu-id="6f92f-317">On hello whole, for hello query in question, hello documents that match are 1, 2, 3.</span></span> 

## <a name="stage-4-scoring"></a><span data-ttu-id="6f92f-318">Étape 4 : Notation</span><span class="sxs-lookup"><span data-stu-id="6f92f-318">Stage 4: Scoring</span></span>  

<span data-ttu-id="6f92f-319">Un score de pertinence est attribué à chaque document d’un jeu de résultats de recherche.</span><span class="sxs-lookup"><span data-stu-id="6f92f-319">Every document in a search result set is assigned a relevance score.</span></span> <span data-ttu-id="6f92f-320">fonction Hello du score de pertinence hello est toorank plus élevé de ces documents que mieux répondre à un utilisateur de question exprimé par une requête de recherche hello.</span><span class="sxs-lookup"><span data-stu-id="6f92f-320">hello function of hello relevance score is toorank higher those documents that best answer a user question as expressed by hello search query.</span></span> <span data-ttu-id="6f92f-321">score de Hello est calculé en fonction des propriétés statistiques des termes du contrat de mise en correspondance.</span><span class="sxs-lookup"><span data-stu-id="6f92f-321">hello score is computed based on statistical properties of terms that matched.</span></span> <span data-ttu-id="6f92f-322">Hello core Hello formule de calcul de score est [TF/IDF (fréquence inverse de la fréquence de document de terme)](https://en.wikipedia.org/wiki/Tf%E2%80%93idf).</span><span class="sxs-lookup"><span data-stu-id="6f92f-322">At hello core of hello scoring formula is [TF/IDF (term frequency-inverse document frequency)](https://en.wikipedia.org/wiki/Tf%E2%80%93idf).</span></span> <span data-ttu-id="6f92f-323">Dans les requêtes contenant les termes rares et communes, TF/IDF promeut les résultats contenant le terme de rares hello.</span><span class="sxs-lookup"><span data-stu-id="6f92f-323">In queries containing rare and common terms, TF/IDF promotes results containing hello rare term.</span></span> <span data-ttu-id="6f92f-324">Par exemple, dans un index hypothétique avec tous les articles de Wikipedia, à partir de documents cette requête de mise en correspondance hello *directeur de hello*, des documents spéciaux sur *directeur* sont considérés comme plus pertinents que documents correspondant sur *le*.</span><span class="sxs-lookup"><span data-stu-id="6f92f-324">For example, in a hypothetical index with all Wikipedia articles, from documents that matched hello query *hello president*, documents matching on *president* are considered more relevant than documents matching on *the*.</span></span>


### <a name="scoring-example"></a><span data-ttu-id="6f92f-325">Exemple de notation</span><span class="sxs-lookup"><span data-stu-id="6f92f-325">Scoring example</span></span>

<span data-ttu-id="6f92f-326">Rappel hello trois documents correspondant à notre exemple de requête :</span><span class="sxs-lookup"><span data-stu-id="6f92f-326">Recall hello three documents that matched our example query:</span></span>
~~~~
search=Spacious, air-condition* +"Ocean view"  
~~~~
~~~~
{  
  "value": [
    {
      "@search.score": 0.25610128,
      "id": "1",
      "title": "Hotel Atman",
      "description": "Spacious rooms, ocean view, walking distance toohello beach."
    },
    {
      "@search.score": 0.08951007,
      "id": "3",
      "title": "Playa Hotel",
      "description": "Comfortable, air-conditioned rooms with ocean view."
    },
    {
      "@search.score": 0.05967338,
      "id": "2",
      "title": "Ocean Resort",
      "description": "Located on a cliff on hello north shore of hello island of Kauai. Ocean view."
    }
  ]
}
~~~~

<span data-ttu-id="6f92f-327">Document 1 requête de mise en correspondance hello mieux, car les deux hello terme *spacieux* et d’une expression de requis hello *océan* se produisent dans le champ de description hello.</span><span class="sxs-lookup"><span data-stu-id="6f92f-327">Document 1 matched hello query best because both hello term *spacious* and hello required phrase *ocean view* occur in hello description field.</span></span> <span data-ttu-id="6f92f-328">documents de deux Hello correspondent uniquement l’expression hello *océan*.</span><span class="sxs-lookup"><span data-stu-id="6f92f-328">hello next two documents match only hello phrase *ocean view*.</span></span> <span data-ttu-id="6f92f-329">Il peut étonnante ce score de pertinence hello pour document 2 et 3 est différent, même si elles mises en correspondance la requête hello Bonjour identique.</span><span class="sxs-lookup"><span data-stu-id="6f92f-329">It might be surprising that hello relevance score for document 2 and 3 is different even though they matched hello query in hello same way.</span></span> <span data-ttu-id="6f92f-330">Cela signifie que la formule de calcul de score de hello a de composants plus que simplement TF/IDF.</span><span class="sxs-lookup"><span data-stu-id="6f92f-330">It's because hello scoring formula has more components than just TF/IDF.</span></span> <span data-ttu-id="6f92f-331">Dans ce cas, un score légèrement plus élevé a été affecté au document 3, car sa description est plus courte.</span><span class="sxs-lookup"><span data-stu-id="6f92f-331">In this case, document 3 was assigned a slightly higher score because its description is shorter.</span></span> <span data-ttu-id="6f92f-332">En savoir plus sur [formule de calcul de score pratique Lucene](https://lucene.apache.org/core/4_0_0/core/org/apache/lucene/search/similarities/TFIDFSimilarity.html) toounderstand la longueur de champ et d’autres facteurs peuvent influencer hello note.</span><span class="sxs-lookup"><span data-stu-id="6f92f-332">Learn about [Lucene's Practical Scoring Formula](https://lucene.apache.org/core/4_0_0/core/org/apache/lucene/search/similarities/TFIDFSimilarity.html) toounderstand how field length and other factors can influence hello relevance score.</span></span>

<span data-ttu-id="6f92f-333">Certains types (caractère générique, préfixe, regex) de la requête contribue toujours à un score de constant toohello globale score de document.</span><span class="sxs-lookup"><span data-stu-id="6f92f-333">Some query types (wildcard, prefix, regex) always contribute a constant score toohello overall document score.</span></span> <span data-ttu-id="6f92f-334">Ainsi, les correspondances trouvées par le biais toobe d’extension de requête inclus dans les résultats de hello, mais sans affecter le classement de hello.</span><span class="sxs-lookup"><span data-stu-id="6f92f-334">This allows matches found through query expansion toobe included in hello results, but without affecting hello ranking.</span></span> 

<span data-ttu-id="6f92f-335">L’exemple suivant illustre l’importance de ce facteur.</span><span class="sxs-lookup"><span data-stu-id="6f92f-335">An example illustrates why this matters.</span></span> <span data-ttu-id="6f92f-336">Recherches par caractères génériques, y compris les recherches de préfixes sont ambiguës par définition, car hello entrée est une chaîne partielle avec des correspondances potentielles sur un très grand nombre de termes disparates (prendre en compte une entrée de « visite * », avec des correspondances trouvées sur « présentations », « tourettes », et » TOURMALINE »).</span><span class="sxs-lookup"><span data-stu-id="6f92f-336">Wildcard searches, including prefix searches, are ambiguous by definition because hello input is a partial string with potential matches on a very large number of disparate terms (consider an input of "tour*", with matches found on “tours”, “tourettes”, and “tourmaline”).</span></span> <span data-ttu-id="6f92f-337">Compte tenu de nature hello de ces résultats, il est impossible tooreasonably déduire le termes du contrat est plus utile que d’autres.</span><span class="sxs-lookup"><span data-stu-id="6f92f-337">Given hello nature of these results, there is no way tooreasonably infer which terms are more valuable than others.</span></span> <span data-ttu-id="6f92f-338">Pour cette raison, nous ignorons les fréquences de terme lors de la notation des résultats dans les requêtes de types génériques, de préfixe et d’expression régulière.</span><span class="sxs-lookup"><span data-stu-id="6f92f-338">For this reason, we ignore term frequencies when scoring results in queries of types wildcard, prefix and regex.</span></span> <span data-ttu-id="6f92f-339">Dans une demande de recherche de plusieurs parties qui comprend les termes partielles et totales, les résultats à partir de l’entrée partielle de hello sont intégrés avec une constante score décalage tooavoid vers correspondances potentiellement inattendus.</span><span class="sxs-lookup"><span data-stu-id="6f92f-339">In a multi-part search request that includes partial and complete terms, results from hello partial input are incorporated with a constant score tooavoid bias towards potentially unexpected matches.</span></span>

### <a name="score-tuning"></a><span data-ttu-id="6f92f-340">Paramétrage du score</span><span class="sxs-lookup"><span data-stu-id="6f92f-340">Score tuning</span></span>

<span data-ttu-id="6f92f-341">Il existe deux façons les scores de pertinence tootune dans Azure Search :</span><span class="sxs-lookup"><span data-stu-id="6f92f-341">There are two ways tootune relevance scores in Azure Search:</span></span>

1. <span data-ttu-id="6f92f-342">**Profils de calcul de score** promouvoir des documents dans la liste hello classé de résultats en fonction d’un ensemble de règles.</span><span class="sxs-lookup"><span data-stu-id="6f92f-342">**Scoring profiles** promote documents in hello ranked list of results based on a set of rules.</span></span> <span data-ttu-id="6f92f-343">Dans notre exemple, nous avons prendre en compte les documents mis en correspondance dans le champ de titre hello plus pertinent que les documents mis en correspondance dans le champ de description hello.</span><span class="sxs-lookup"><span data-stu-id="6f92f-343">In our example, we could consider documents that matched in hello title field more relevant than documents that matched in hello description field.</span></span> <span data-ttu-id="6f92f-344">En outre, si notre index comporte un champ Prix pour chaque hôtel, nous aurions pu promouvoir les documents avec un prix inférieur.</span><span class="sxs-lookup"><span data-stu-id="6f92f-344">Additionally, if our index had a price field for each hotel, we could promote documents with lower price.</span></span> <span data-ttu-id="6f92f-345">En savoir plus comment trop[ajouter des index de recherche de profils de calcul de score tooa.](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index)</span><span class="sxs-lookup"><span data-stu-id="6f92f-345">Learn more how too[add Scoring Profiles tooa search index.](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index)</span></span>
2. <span data-ttu-id="6f92f-346">**Renforcement de terme** (disponible uniquement dans la syntaxe de requête complète Lucene hello) fournit un opérateur de renforcement `^` qui peut être appliqué partie tooany d’arborescence de requête hello.</span><span class="sxs-lookup"><span data-stu-id="6f92f-346">**Term boosting** (available only in hello Full Lucene query syntax) provides a boosting operator `^` that can be applied tooany part of hello query tree.</span></span> <span data-ttu-id="6f92f-347">Dans notre exemple, au lieu de rechercher le préfixe du hello *air-condition*\*, un pourriez rechercher un terme exact hello *air-condition* ou préfixe de hello, mais les documents qui correspondent sur hello exacte terme de rang supérieur en appliquant la requête de renforcement toohello terme : *air condition ^ 2 || air-condition**.</span><span class="sxs-lookup"><span data-stu-id="6f92f-347">In our example, instead of searching on hello prefix *air-condition*\*, one could search for either hello exact term *air-condition* or hello prefix, but documents that match on hello exact term are ranked higher by applying boost toohello term query: *air-condition^2||air-condition**.</span></span> <span data-ttu-id="6f92f-348">En savoir plus sur la [promotion de termes](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search#bkmk_termboost).</span><span class="sxs-lookup"><span data-stu-id="6f92f-348">Learn more about [term boosting](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search#bkmk_termboost).</span></span>


### <a name="scoring-in-a-distributed-index"></a><span data-ttu-id="6f92f-349">Notation dans un index distribué</span><span class="sxs-lookup"><span data-stu-id="6f92f-349">Scoring in a distributed index</span></span>

<span data-ttu-id="6f92f-350">Tous les index de recherche de Azure sont automatiquement Fractionner en plusieurs partitions, ce qui nous permet de tooquickly distribuer index hello entre plusieurs nœuds pendant la mise à l’échelle du service vers le haut ou à l’échelle.</span><span class="sxs-lookup"><span data-stu-id="6f92f-350">All indexes in Azure Search are automatically split into multiple shards, allowing us tooquickly distribute hello index among multiple nodes during service scale up or scale down.</span></span> <span data-ttu-id="6f92f-351">Lorsqu’une requête de recherche est émise, elle est émise sur chaque partition indépendamment.</span><span class="sxs-lookup"><span data-stu-id="6f92f-351">When a search request is issued, it’s issued against each shard independently.</span></span> <span data-ttu-id="6f92f-352">Hello résultats de chaque partition sont ensuite fusionnées et classées par score (si aucun autre classement n’est défini).</span><span class="sxs-lookup"><span data-stu-id="6f92f-352">hello results from each shard are then merged and ordered by score (if no other ordering is defined).</span></span> <span data-ttu-id="6f92f-353">Il est important tooknow qui hello score fonction poids terme fréquence des requêtes par rapport à sa fréquence inverse de document dans tous les documents de la partition de hello, pas sur toutes les partitions !</span><span class="sxs-lookup"><span data-stu-id="6f92f-353">It is important tooknow that hello scoring function weights query term frequency against its inverse document frequency in all documents within hello shard, not across all shards!</span></span>

<span data-ttu-id="6f92f-354">Cela signifie qu’un score de pertinence *peut* être différent pour des documents identiques s’ils résident sur différentes partitions.</span><span class="sxs-lookup"><span data-stu-id="6f92f-354">This means a relevance score *could* be different for identical documents if they reside on different shards.</span></span> <span data-ttu-id="6f92f-355">Heureusement, ces différences ont tendance toodisappear comme nombre de hello de documents dans l’index de hello augmente en raison de la distribution du même terme toomore.</span><span class="sxs-lookup"><span data-stu-id="6f92f-355">Fortunately, such differences tend toodisappear as hello number of documents in hello index grows due toomore even term distribution.</span></span> <span data-ttu-id="6f92f-356">Il n’est pas possible tooassume sur quelle partition sera placé n’importe quel document donné.</span><span class="sxs-lookup"><span data-stu-id="6f92f-356">It’s not possible tooassume on which shard any given document will be placed.</span></span> <span data-ttu-id="6f92f-357">Toutefois, en supposant qu’une clé de document ne change pas, il sera toujours être affecté toohello même ID de partition.</span><span class="sxs-lookup"><span data-stu-id="6f92f-357">However, assuming a document key doesn't change, it will always be assigned toohello same shard.</span></span>

<span data-ttu-id="6f92f-358">En général, le score du document n’est pas attribut de meilleures hello pour le classement des documents si la stabilité de l’ordre est importante.</span><span class="sxs-lookup"><span data-stu-id="6f92f-358">In general, document score is not hello best attribute for ordering documents if order stability is important.</span></span> <span data-ttu-id="6f92f-359">Par exemple, étant donné deux documents ont un score identique, il n’existe aucune garantie que celui qui apparaît en premier dans les exécutions suivantes de hello même requête.</span><span class="sxs-lookup"><span data-stu-id="6f92f-359">For example, given two document with an identical score, there is no guarantee which one appears first in subsequent runs of hello same query.</span></span> <span data-ttu-id="6f92f-360">Score du document doit uniquement donner une idée générale de la pertinence du document relatif tooother documents dans le jeu de résultats hello.</span><span class="sxs-lookup"><span data-stu-id="6f92f-360">Document score should only give a general sense of document relevance relative tooother documents in hello results set.</span></span>

## <a name="conclusion"></a><span data-ttu-id="6f92f-361">Conclusion</span><span class="sxs-lookup"><span data-stu-id="6f92f-361">Conclusion</span></span>

<span data-ttu-id="6f92f-362">réussite Hello de moteurs de recherche internet a généré les attentes en matière de recherche en texte intégral sur des données privées.</span><span class="sxs-lookup"><span data-stu-id="6f92f-362">hello success of internet search engines has raised expectations for full text search over private data.</span></span> <span data-ttu-id="6f92f-363">Pour presque n’importe quel type d’expérience de recherche, nous avons maintenant vous attendre hello moteur toounderstand notre intention, même quand les conditions sont mal orthographiées ou incomplète.</span><span class="sxs-lookup"><span data-stu-id="6f92f-363">For almost any kind of search experience, we now expect hello engine toounderstand our intent, even when terms are misspelled or incomplete.</span></span> <span data-ttu-id="6f92f-364">Nous allons même jusqu’à attendre des correspondances en fonction de termes équivalents ou synonymes jamais spécifiés.</span><span class="sxs-lookup"><span data-stu-id="6f92f-364">We might even expect matches based on near equivalent terms or synonyms that we never actually specified.</span></span>

<span data-ttu-id="6f92f-365">À partir d’un point de vue technique, la recherche en texte intégral est très complexe, nécessitant une analyse linguistique sophistiquée et une approche systématique tooprocessing de manière à distiller, développez et transformer des termes de requête toodeliver un résultat correspondant.</span><span class="sxs-lookup"><span data-stu-id="6f92f-365">From a technical standpoint, full text search is highly complex, requiring sophisticated linguistic analysis and a systematic approach tooprocessing in ways that distill, expand, and transform query terms toodeliver a relevant result.</span></span> <span data-ttu-id="6f92f-366">Étant donné les complexités inhérentes hello, il existe un grand nombre de facteurs peuvent affecter les résultats hello d’une requête.</span><span class="sxs-lookup"><span data-stu-id="6f92f-366">Given hello inherent complexities, there are a lot of factors that can affect hello outcome of a query.</span></span> <span data-ttu-id="6f92f-367">Pour cette raison, faisant l’acquisition de mécanismes de hello toounderstand hello heure de recherche en texte intégral offre des avantages tangibles lors de la tentative de toowork par le biais des résultats inattendus.</span><span class="sxs-lookup"><span data-stu-id="6f92f-367">For this reason, investing hello time toounderstand hello mechanics of full text search offers tangible benefits when trying toowork through unexpected results.</span></span>  

<span data-ttu-id="6f92f-368">Cet article a traité la recherche en texte intégral dans le contexte de hello d’Azure Search.</span><span class="sxs-lookup"><span data-stu-id="6f92f-368">This article explored full text search in hello context of Azure Search.</span></span> <span data-ttu-id="6f92f-369">Nous espérons qu’il vous donne suffisamment arrière-plan toorecognize potentiels causes et solutions pour résoudre les problèmes courants de requête.</span><span class="sxs-lookup"><span data-stu-id="6f92f-369">We hope it gives you sufficient background toorecognize potential causes and resolutions for addressing common query problems.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="6f92f-370">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="6f92f-370">Next steps</span></span>

+ <span data-ttu-id="6f92f-371">Générer l’exemple d’index de hello, essayez différentes requêtes et passez en revue les résultats.</span><span class="sxs-lookup"><span data-stu-id="6f92f-371">Build hello sample index, try out different queries and review results.</span></span> <span data-ttu-id="6f92f-372">Pour obtenir des instructions, consultez [construire et interroger un index dans le portail de hello](search-get-started-portal.md#query-index).</span><span class="sxs-lookup"><span data-stu-id="6f92f-372">For instructions, see [Build and query an index in hello portal](search-get-started-portal.md#query-index).</span></span>

+ <span data-ttu-id="6f92f-373">Essayez de syntaxe de requête supplémentaires à partir de hello [recherche de Documents](https://docs.microsoft.com/rest/api/searchservice/search-documents#examples) section exemple ou à partir de [syntaxe de requête Simple](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) dans l’Explorateur de recherche dans le portail de hello.</span><span class="sxs-lookup"><span data-stu-id="6f92f-373">Try additional query syntax from hello [Search Documents](https://docs.microsoft.com/rest/api/searchservice/search-documents#examples) example section or from [Simple query syntax](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) in Search explorer in hello portal.</span></span>

+ <span data-ttu-id="6f92f-374">Révision [profils](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index) si vous souhaitez tootune dans votre application de recherche de classement.</span><span class="sxs-lookup"><span data-stu-id="6f92f-374">Review [scoring profiles](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index) if you want tootune ranking in your search application.</span></span>

+ <span data-ttu-id="6f92f-375">Découvrez comment tooapply [les analyseurs lexicaux spécifiques au langage](https://docs.microsoft.com/rest/api/searchservice/language-support).</span><span class="sxs-lookup"><span data-stu-id="6f92f-375">Learn how tooapply [language-specific lexical analyzers](https://docs.microsoft.com/rest/api/searchservice/language-support).</span></span>

+ <span data-ttu-id="6f92f-376">[Configurez des analyseurs personnalisés](https://docs.microsoft.com/rest/api/searchservice/custom-analyzers-in-azure-search) pour un traitement minimal ou pour un traitement spécialisé sur des champs spécifiques.</span><span class="sxs-lookup"><span data-stu-id="6f92f-376">[Configure custom analyzers](https://docs.microsoft.com/rest/api/searchservice/custom-analyzers-in-azure-search) for either minimal processing or specialized processing on specific fields.</span></span>

+ <span data-ttu-id="6f92f-377">[Comparez les analyseurs standards et les analyseurs anglais](http://alice.unearth.ai/) côte à côte sur ce site web de démonstration.</span><span class="sxs-lookup"><span data-stu-id="6f92f-377">[Compare standard and English analyzers](http://alice.unearth.ai/)) side-by-side on this demo web site.</span></span> 

## <a name="see-also"></a><span data-ttu-id="6f92f-378">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="6f92f-378">See also</span></span>

[<span data-ttu-id="6f92f-379">API REST de recherche de documents</span><span class="sxs-lookup"><span data-stu-id="6f92f-379">Search Documents REST API</span></span>](https://docs.microsoft.com/rest/api/searchservice/search-documents)

[<span data-ttu-id="6f92f-380">Syntaxe de requête simple</span><span class="sxs-lookup"><span data-stu-id="6f92f-380">Simple query syntax</span></span>](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search)

[<span data-ttu-id="6f92f-381">Syntaxe de requête complète Lucene</span><span class="sxs-lookup"><span data-stu-id="6f92f-381">Full Lucene query syntax</span></span>](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search)

[<span data-ttu-id="6f92f-382">Traiter les résultats de recherche</span><span class="sxs-lookup"><span data-stu-id="6f92f-382">Handle search results</span></span>](https://docs.microsoft.com/azure/search/search-pagination-page-layout)

<!--Image references-->
[1]: ./media/search-lucene-query-architecture/architecture-diagram2.png
[2]: ./media/search-lucene-query-architecture/azSearch-queryparsing-should2.png
[3]: ./media/search-lucene-query-architecture/azSearch-queryparsing-must2.png
[4]: ./media/search-lucene-query-architecture/azSearch-queryparsing-spacious2.png
