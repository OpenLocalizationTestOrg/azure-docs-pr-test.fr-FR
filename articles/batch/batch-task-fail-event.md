---
title: "Événement d’échec de tâche Azure Batch | Microsoft Docs"
description: "Référence pour l’événement d’échec de tâche Batch."
services: batch
author: tamram
manager: timlt
ms.assetid: 
ms.service: batch
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: big-compute
ms.date: 04/20/2017
ms.author: tamram
ms.openlocfilehash: 08feb4ec34bb1635f8ea744b54a10b677b94ab3e
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="task-fail-event"></a><span data-ttu-id="e3d31-103">Événement d’échec de tâche</span><span class="sxs-lookup"><span data-stu-id="e3d31-103">Task fail event</span></span>

 <span data-ttu-id="e3d31-104">Cet événement est émis quand une tâche se termine avec une erreur.</span><span class="sxs-lookup"><span data-stu-id="e3d31-104">This event is emitted when a task completes with a failure.</span></span> <span data-ttu-id="e3d31-105">Actuellement, tous les codes de sortie autres que zéro sont considérés comme des échecs.</span><span class="sxs-lookup"><span data-stu-id="e3d31-105">Currently all nonzero exit codes are considered failures.</span></span> <span data-ttu-id="e3d31-106">Cet événement est émis *n plus* d’un événement de fin de tâche et peut être utilisé pour détecter si une tâche a échoué.</span><span class="sxs-lookup"><span data-stu-id="e3d31-106">This event will be emitted *in addition to* a task complete event and can be used to detect when a task has failed.</span></span>


 <span data-ttu-id="e3d31-107">L’exemple suivant montre le corps d’un événement d’échec de tâche.</span><span class="sxs-lookup"><span data-stu-id="e3d31-107">The following example shows the body of a task fail event.</span></span>

```
{
    "jobId": "job-0000000001",
    "id": "task-5",
    "taskType": "User",
    "systemTaskVersion": 0,
    "nodeInfo": {
        "poolId": "pool-001",
        "nodeId": "tvm-257509324_1-20160908t162728z"
    },
    "multiInstanceSettings": {
        "numberOfInstances": 1
    },
    "constraints": {
        "maxTaskRetryCount": 2
    },
    "executionInfo": {
        "startTime": "2016-09-08T16:32:23.799Z",
        "endTime": "2016-09-08T16:34:00.666Z",
        "exitCode": 1,
        "retryCount": 2,
        "requeueCount": 0
    }
}
```

|<span data-ttu-id="e3d31-108">Nom de l'élément</span><span class="sxs-lookup"><span data-stu-id="e3d31-108">Element name</span></span>|<span data-ttu-id="e3d31-109">Type</span><span class="sxs-lookup"><span data-stu-id="e3d31-109">Type</span></span>|<span data-ttu-id="e3d31-110">Remarques</span><span class="sxs-lookup"><span data-stu-id="e3d31-110">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="e3d31-111">jobId</span><span class="sxs-lookup"><span data-stu-id="e3d31-111">jobId</span></span>|<span data-ttu-id="e3d31-112">String</span><span class="sxs-lookup"><span data-stu-id="e3d31-112">String</span></span>|<span data-ttu-id="e3d31-113">ID du travail contenant la tâche.</span><span class="sxs-lookup"><span data-stu-id="e3d31-113">The id of the job containing the task.</span></span>|
|<span data-ttu-id="e3d31-114">id</span><span class="sxs-lookup"><span data-stu-id="e3d31-114">id</span></span>|<span data-ttu-id="e3d31-115">String</span><span class="sxs-lookup"><span data-stu-id="e3d31-115">String</span></span>|<span data-ttu-id="e3d31-116">ID de la tâche.</span><span class="sxs-lookup"><span data-stu-id="e3d31-116">The id of the task.</span></span>|
|<span data-ttu-id="e3d31-117">taskType</span><span class="sxs-lookup"><span data-stu-id="e3d31-117">taskType</span></span>|<span data-ttu-id="e3d31-118">String</span><span class="sxs-lookup"><span data-stu-id="e3d31-118">String</span></span>|<span data-ttu-id="e3d31-119">Type de la tâche.</span><span class="sxs-lookup"><span data-stu-id="e3d31-119">The type of the task.</span></span> <span data-ttu-id="e3d31-120">Ce peut être « JobManager », indiquant qu’il s’agit une tâche du gestionnaire, ou « User », indiquant qu’il ne s’agit pas d’une tâche du gestionnaire.</span><span class="sxs-lookup"><span data-stu-id="e3d31-120">This can either be 'JobManager' indicating it is a job manager task or 'User' indicating it is not a job manager task.</span></span> <span data-ttu-id="e3d31-121">Cet événement n’est pas émis pour des tâches de préparation du travail, des tâches de fin de travail ou des tâches de démarrage.</span><span class="sxs-lookup"><span data-stu-id="e3d31-121">This event is not emitted for job preparation tasks, job release tasks or start tasks.</span></span>|
|<span data-ttu-id="e3d31-122">systemTaskVersion</span><span class="sxs-lookup"><span data-stu-id="e3d31-122">systemTaskVersion</span></span>|<span data-ttu-id="e3d31-123">Int32</span><span class="sxs-lookup"><span data-stu-id="e3d31-123">Int32</span></span>|<span data-ttu-id="e3d31-124">Compteur de tentatives internes d’exécution d’une tâche.</span><span class="sxs-lookup"><span data-stu-id="e3d31-124">This is the internal retry counter on a task.</span></span> <span data-ttu-id="e3d31-125">En interne, le service Batch peut recommencer une tâche pour prendre en compte des problèmes temporaires.</span><span class="sxs-lookup"><span data-stu-id="e3d31-125">Internally the Batch service can retry a task to account for transient issues.</span></span> <span data-ttu-id="e3d31-126">Ces problèmes peuvent être des erreurs de planification internes ou des tentatives de récupération à partir de nœuds de calcul en mauvais état.</span><span class="sxs-lookup"><span data-stu-id="e3d31-126">These issues can include internal scheduling errors or attempts to recover from compute nodes in a bad state.</span></span>|
|[<span data-ttu-id="e3d31-127">nodeInfo</span><span class="sxs-lookup"><span data-stu-id="e3d31-127">nodeInfo</span></span>](#nodeInfo)|<span data-ttu-id="e3d31-128">Type complexe</span><span class="sxs-lookup"><span data-stu-id="e3d31-128">Complex Type</span></span>|<span data-ttu-id="e3d31-129">Contient des informations sur le nœud de calcul sur lequel la tâche a été exécutée.</span><span class="sxs-lookup"><span data-stu-id="e3d31-129">Contains information about the compute node on which the task ran.</span></span>|
|[<span data-ttu-id="e3d31-130">multiInstanceSettings</span><span class="sxs-lookup"><span data-stu-id="e3d31-130">multiInstanceSettings</span></span>](#multiInstanceSettings)|<span data-ttu-id="e3d31-131">Type complexe</span><span class="sxs-lookup"><span data-stu-id="e3d31-131">Complex Type</span></span>|<span data-ttu-id="e3d31-132">Spécifie que la tâche est une tâche multi-instance nécessitant plusieurs nœuds de calcul.</span><span class="sxs-lookup"><span data-stu-id="e3d31-132">Specifies that the task is a Multi-Instance Task requiring multiple compute nodes.</span></span>  <span data-ttu-id="e3d31-133">Pour plus d’informations, voir [multiInstanceSettings](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-task).</span><span class="sxs-lookup"><span data-stu-id="e3d31-133">See [multiInstanceSettings](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-task) for details.</span></span>|
|[<span data-ttu-id="e3d31-134">constraints</span><span class="sxs-lookup"><span data-stu-id="e3d31-134">constraints</span></span>](#constraints)|<span data-ttu-id="e3d31-135">Type complexe</span><span class="sxs-lookup"><span data-stu-id="e3d31-135">Complex Type</span></span>|<span data-ttu-id="e3d31-136">Contraintes d’exécution qui s’appliquent à cette tâche.</span><span class="sxs-lookup"><span data-stu-id="e3d31-136">The execution constraints that apply to this task.</span></span>|
|[<span data-ttu-id="e3d31-137">executionInfo</span><span class="sxs-lookup"><span data-stu-id="e3d31-137">executionInfo</span></span>](#executionInfo)|<span data-ttu-id="e3d31-138">Type complexe</span><span class="sxs-lookup"><span data-stu-id="e3d31-138">Complex Type</span></span>|<span data-ttu-id="e3d31-139">Contient des informations sur l’exécution de la tâche.</span><span class="sxs-lookup"><span data-stu-id="e3d31-139">Contains information about the execution of the task.</span></span>|

###  <span data-ttu-id="e3d31-140"><a name="nodeInfo"></a> nodeInfo</span><span class="sxs-lookup"><span data-stu-id="e3d31-140"><a name="nodeInfo"></a> nodeInfo</span></span>

|<span data-ttu-id="e3d31-141">Nom de l'élément</span><span class="sxs-lookup"><span data-stu-id="e3d31-141">Element name</span></span>|<span data-ttu-id="e3d31-142">Type</span><span class="sxs-lookup"><span data-stu-id="e3d31-142">Type</span></span>|<span data-ttu-id="e3d31-143">Remarques</span><span class="sxs-lookup"><span data-stu-id="e3d31-143">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="e3d31-144">poolId</span><span class="sxs-lookup"><span data-stu-id="e3d31-144">poolId</span></span>|<span data-ttu-id="e3d31-145">Chaîne</span><span class="sxs-lookup"><span data-stu-id="e3d31-145">String</span></span>|<span data-ttu-id="e3d31-146">ID u pool sur lequel la tâche a été exécutée.</span><span class="sxs-lookup"><span data-stu-id="e3d31-146">The id of the pool on which the task ran.</span></span>|
|<span data-ttu-id="e3d31-147">nodeId</span><span class="sxs-lookup"><span data-stu-id="e3d31-147">nodeId</span></span>|<span data-ttu-id="e3d31-148">String</span><span class="sxs-lookup"><span data-stu-id="e3d31-148">String</span></span>|<span data-ttu-id="e3d31-149">ID du nœud sur lequel la tâche a été exécutée.</span><span class="sxs-lookup"><span data-stu-id="e3d31-149">The id of the node on which the task ran.</span></span>|

###  <span data-ttu-id="e3d31-150"><a name="multiInstanceSettings"></a> multiInstanceSettings</span><span class="sxs-lookup"><span data-stu-id="e3d31-150"><a name="multiInstanceSettings"></a> multiInstanceSettings</span></span>

|<span data-ttu-id="e3d31-151">Nom de l'élément</span><span class="sxs-lookup"><span data-stu-id="e3d31-151">Element name</span></span>|<span data-ttu-id="e3d31-152">Type</span><span class="sxs-lookup"><span data-stu-id="e3d31-152">Type</span></span>|<span data-ttu-id="e3d31-153">Remarques</span><span class="sxs-lookup"><span data-stu-id="e3d31-153">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="e3d31-154">numberOfInstances</span><span class="sxs-lookup"><span data-stu-id="e3d31-154">numberOfInstances</span></span>|<span data-ttu-id="e3d31-155">Int32</span><span class="sxs-lookup"><span data-stu-id="e3d31-155">Int32</span></span>|<span data-ttu-id="e3d31-156">Nombre de nœuds de calcul requis pour la tâche.</span><span class="sxs-lookup"><span data-stu-id="e3d31-156">The number of compute nodes required by the task.</span></span>|

###  <span data-ttu-id="e3d31-157"><a name="constraints"></a> constraints</span><span class="sxs-lookup"><span data-stu-id="e3d31-157"><a name="constraints"></a> constraints</span></span>

|<span data-ttu-id="e3d31-158">Nom de l'élément</span><span class="sxs-lookup"><span data-stu-id="e3d31-158">Element name</span></span>|<span data-ttu-id="e3d31-159">Type</span><span class="sxs-lookup"><span data-stu-id="e3d31-159">Type</span></span>|<span data-ttu-id="e3d31-160">Remarques</span><span class="sxs-lookup"><span data-stu-id="e3d31-160">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="e3d31-161">maxTaskRetryCount</span><span class="sxs-lookup"><span data-stu-id="e3d31-161">maxTaskRetryCount</span></span>|<span data-ttu-id="e3d31-162">Int32</span><span class="sxs-lookup"><span data-stu-id="e3d31-162">Int32</span></span>|<span data-ttu-id="e3d31-163">Nombre maximal de fois que la tâche peut être retentée.</span><span class="sxs-lookup"><span data-stu-id="e3d31-163">The maximum number of times the task may be retried.</span></span> <span data-ttu-id="e3d31-164">Le service Batch retente une tâche si le code de sortie de celle-ci diffère de zéro.</span><span class="sxs-lookup"><span data-stu-id="e3d31-164">The Batch service retries a task if its exit code is nonzero.</span></span><br /><br /> <span data-ttu-id="e3d31-165">Notez que cette valeur contrôle spécifiquement le nombre de nouvelles tentatives.</span><span class="sxs-lookup"><span data-stu-id="e3d31-165">Note that this value specifically controls the number of retries.</span></span> <span data-ttu-id="e3d31-166">Le service Batch tente la tâche une fois et peut réessayer jusqu’à cette limite.</span><span class="sxs-lookup"><span data-stu-id="e3d31-166">The Batch service will try the task once, and may then retry up to this limit.</span></span> <span data-ttu-id="e3d31-167">Par exemple, si le nombre maximal de nouvelles tentatives est 3, le service Batch peut tenter d’exécuter la tâche jusqu’à 4 fois (tentative initiale + 3 tentatives supplémentaires).</span><span class="sxs-lookup"><span data-stu-id="e3d31-167">For example, if the maximum retry count is 3, Batch tries a task up to 4 times (one initial try and 3 retries).</span></span><br /><br /> <span data-ttu-id="e3d31-168">Si le nombre maximal de tentatives est 0, le service Batch ne réessaye pas d’exécuter des tâches.</span><span class="sxs-lookup"><span data-stu-id="e3d31-168">If the maximum retry count is 0, the Batch service does not retry tasks.</span></span><br /><br /> <span data-ttu-id="e3d31-169">Si le nombre maximal de nouvelles tentatives est -1, le service Batch réessaie d’exécuter les tâches sans limite.</span><span class="sxs-lookup"><span data-stu-id="e3d31-169">If the maximum retry count is -1, the Batch service retries tasks without limit.</span></span><br /><br /> <span data-ttu-id="e3d31-170">La valeur par défaut est 0 (aucune nouvelle tentative).</span><span class="sxs-lookup"><span data-stu-id="e3d31-170">The default value is 0 (no retries).</span></span>|


###  <span data-ttu-id="e3d31-171"><a name="executionInfo"></a> executionInfo</span><span class="sxs-lookup"><span data-stu-id="e3d31-171"><a name="executionInfo"></a> executionInfo</span></span>

|<span data-ttu-id="e3d31-172">Nom de l'élément</span><span class="sxs-lookup"><span data-stu-id="e3d31-172">Element name</span></span>|<span data-ttu-id="e3d31-173">Type</span><span class="sxs-lookup"><span data-stu-id="e3d31-173">Type</span></span>|<span data-ttu-id="e3d31-174">Remarques</span><span class="sxs-lookup"><span data-stu-id="e3d31-174">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="e3d31-175">startTime</span><span class="sxs-lookup"><span data-stu-id="e3d31-175">startTime</span></span>|<span data-ttu-id="e3d31-176">DateTime</span><span class="sxs-lookup"><span data-stu-id="e3d31-176">DateTime</span></span>|<span data-ttu-id="e3d31-177">Heure à laquelle l’exécution de la tâche a commencé.</span><span class="sxs-lookup"><span data-stu-id="e3d31-177">The time at which the task started running.</span></span> <span data-ttu-id="e3d31-178">« Running » correspond à l’état **en cours d’exécution**. Ainsi, si la tâche spécifie des fichiers de ressources ou des packages d’applications, l’heure de début est l’heure à laquelle la tâche a commencé à télécharger et à déployer ces éléments.</span><span class="sxs-lookup"><span data-stu-id="e3d31-178">'Running' corresponds to the **running** state, so if the task specifies resource files or application packages, then the start time reflects the time at which the task started downloading or deploying these.</span></span>  <span data-ttu-id="e3d31-179">Si la tâche a été redémarrée ou retentée, il s’agit de la dernière heure à laquelle l’exécution de la tâche a commencé.</span><span class="sxs-lookup"><span data-stu-id="e3d31-179">If the task has been restarted or retried, this is the most recent time at which the task started running.</span></span>|
|<span data-ttu-id="e3d31-180">endTime</span><span class="sxs-lookup"><span data-stu-id="e3d31-180">endTime</span></span>|<span data-ttu-id="e3d31-181">DateTime</span><span class="sxs-lookup"><span data-stu-id="e3d31-181">DateTime</span></span>|<span data-ttu-id="e3d31-182">Heure à laquelle la tâche s’est terminée.</span><span class="sxs-lookup"><span data-stu-id="e3d31-182">The time at which the task completed.</span></span>|
|<span data-ttu-id="e3d31-183">exitCode</span><span class="sxs-lookup"><span data-stu-id="e3d31-183">exitCode</span></span>|<span data-ttu-id="e3d31-184">Int32</span><span class="sxs-lookup"><span data-stu-id="e3d31-184">Int32</span></span>|<span data-ttu-id="e3d31-185">Code de sortie de la tâche.</span><span class="sxs-lookup"><span data-stu-id="e3d31-185">The exit code of the task.</span></span>|
|<span data-ttu-id="e3d31-186">retryCount</span><span class="sxs-lookup"><span data-stu-id="e3d31-186">retryCount</span></span>|<span data-ttu-id="e3d31-187">Int32</span><span class="sxs-lookup"><span data-stu-id="e3d31-187">Int32</span></span>|<span data-ttu-id="e3d31-188">Nombre de fois que le service Batch a réessayé d’exécuter la tâche.</span><span class="sxs-lookup"><span data-stu-id="e3d31-188">The number of times the task has been retried by the Batch service.</span></span> <span data-ttu-id="e3d31-189">Si la tâche se termine avec un code de sortie autre que zéro, elle est retentée le nombre de fois spécifié par la valeur MaxTaskRetryCount.</span><span class="sxs-lookup"><span data-stu-id="e3d31-189">The task is retried if it exits with a nonzero exit code, up to the specified MaxTaskRetryCount.</span></span>|
|<span data-ttu-id="e3d31-190">requeueCount</span><span class="sxs-lookup"><span data-stu-id="e3d31-190">requeueCount</span></span>|<span data-ttu-id="e3d31-191">Int32</span><span class="sxs-lookup"><span data-stu-id="e3d31-191">Int32</span></span>|<span data-ttu-id="e3d31-192">Nombre de fois que la tâche a été replacée en file d’attente par le service Batch à la suite d’une demande de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="e3d31-192">The number of times the task has been requeued by the Batch service as the result of a user request.</span></span><br /><br /> <span data-ttu-id="e3d31-193">Lorsque l’utilisateur supprime des nœuds d’un pool (en redimensionnant ou en réduisant le pool), ou quand le travail est désactivé, l’utilisateur peut spécifier que les tâches en cours d’exécution sur les nœuds doivent être replacée en file d’attente pour exécution.</span><span class="sxs-lookup"><span data-stu-id="e3d31-193">When the user removes nodes from a pool (by resizing or shrinking the pool) or when the job is being disabled, the user can specify that running tasks on the nodes be requeued for execution.</span></span> <span data-ttu-id="e3d31-194">Ce nombre reflète le nombre de fois que la tâche a été replacée en file d’attente pour ces raisons.</span><span class="sxs-lookup"><span data-stu-id="e3d31-194">This count tracks how many times the task has been requeued for these reasons.</span></span>|
