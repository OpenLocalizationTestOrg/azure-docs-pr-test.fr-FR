---
title: "aaaGet main CLI d’Azure pour le traitement par lots | Documents Microsoft"
description: "Obtenir une brève introduction commandes de traitement par lots toohello CLI d’Azure pour la gestion des ressources de service Azure Batch"
services: batch
documentationcenter: 
author: tamram
manager: timlt
editor: 
ms.assetid: fcd76587-1827-4bc8-a84d-bba1cd980d85
ms.service: batch
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: multiple
ms.workload: big-compute
ms.date: 07/20/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 14f28311ecb16c8097d0d304a4ad89de282a2e9b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="manage-batch-resources-with-azure-cli"></a><span data-ttu-id="b32d7-103">Gérer les ressources Batch avec Azure CLI</span><span class="sxs-lookup"><span data-stu-id="b32d7-103">Manage Batch resources with Azure CLI</span></span>

<span data-ttu-id="b32d7-104">Bonjour Azure CLI 2.0 est la nouvelle expérience de ligne de commande de Azure pour la gestion des ressources Azure.</span><span class="sxs-lookup"><span data-stu-id="b32d7-104">hello Azure CLI 2.0 is Azure's new command-line experience for managing Azure resources.</span></span> <span data-ttu-id="b32d7-105">Elle peut être utilisée sur macOS, Linux et Windows.</span><span class="sxs-lookup"><span data-stu-id="b32d7-105">It can be used on macOS, Linux, and Windows.</span></span> <span data-ttu-id="b32d7-106">Azure CLI 2.0 est optimisé pour gérer et administrer les ressources Azure à partir de la ligne de commande hello.</span><span class="sxs-lookup"><span data-stu-id="b32d7-106">Azure CLI 2.0 is optimized for managing and administering Azure resources from hello command line.</span></span> <span data-ttu-id="b32d7-107">Vous pouvez utiliser hello CLI d’Azure toomanage votre compte Azure Batch et vos ressources toomanage tels que les pools, les travaux et les tâches.</span><span class="sxs-lookup"><span data-stu-id="b32d7-107">You can use hello Azure CLI toomanage your Azure Batch accounts and toomanage resources such as pools, jobs, and tasks.</span></span> <span data-ttu-id="b32d7-108">Avec hello CLI d’Azure, vous pouvez générer des scripts nombreux hello mêmes tâches mener avec hello API de lot, le portail Azure et les applets de commande PowerShell de lot.</span><span class="sxs-lookup"><span data-stu-id="b32d7-108">With hello Azure CLI, you can script many of hello same tasks you carry out with hello Batch APIs, Azure portal, and Batch PowerShell cmdlets.</span></span>

<span data-ttu-id="b32d7-109">Cet article fournit une vue d’ensemble de l’utilisation de [Azure CLI version 2.0](https://docs.microsoft.com/cli/azure/overview) avec Batch.</span><span class="sxs-lookup"><span data-stu-id="b32d7-109">This article provides an overview of using [Azure CLI version 2.0](https://docs.microsoft.com/cli/azure/overview) with Batch.</span></span> <span data-ttu-id="b32d7-110">Consultez [prise en main Azure CLI 2.0](https://docs.microsoft.com/cli/azure/get-started-with-azure-cli) pour une vue d’ensemble de l’utilisation de hello CLI avec Azure.</span><span class="sxs-lookup"><span data-stu-id="b32d7-110">See [Get started with Azure CLI 2.0](https://docs.microsoft.com/cli/azure/get-started-with-azure-cli) for an overview of using hello CLI with Azure.</span></span>

<span data-ttu-id="b32d7-111">Microsoft recommande d’utiliser la version la plus récente hello Hello CLI d’Azure, version 2.0.</span><span class="sxs-lookup"><span data-stu-id="b32d7-111">Microsoft recommends using hello latest version of hello Azure CLI, version 2.0.</span></span> <span data-ttu-id="b32d7-112">Pour plus d’informations sur la version 2.0, consultez [Azure CLI 2.0 à présent disponible de façon généralisée](https://azure.microsoft.com/blog/announcing-general-availability-of-vm-storage-and-network-azure-cli-2-0/).</span><span class="sxs-lookup"><span data-stu-id="b32d7-112">For more information about version 2.0, see [Azure Command Line 2.0 now generally available](https://azure.microsoft.com/blog/announcing-general-availability-of-vm-storage-and-network-azure-cli-2-0/).</span></span>

## <a name="set-up-hello-azure-cli"></a><span data-ttu-id="b32d7-113">Configurer hello CLI d’Azure</span><span class="sxs-lookup"><span data-stu-id="b32d7-113">Set up hello Azure CLI</span></span>

<span data-ttu-id="b32d7-114">tooinstall hello CLI d’Azure, suivez les instructions de hello dans [installation Bonjour Azure CLI](https://docs.microsoft.com/cli/azure/install-azure-cli.md).</span><span class="sxs-lookup"><span data-stu-id="b32d7-114">tooinstall hello Azure CLI, follow hello steps outlined in [Install hello Azure CLI](https://docs.microsoft.com/cli/azure/install-azure-cli.md).</span></span>

> [!TIP]
> <span data-ttu-id="b32d7-115">Nous recommandons que vous mettez à jour votre installation du CLI d’Azure fréquemment tootake parti du service mises à jour et améliorations.</span><span class="sxs-lookup"><span data-stu-id="b32d7-115">We recommend that you update your Azure CLI installation frequently tootake advantage of service updates and enhancements.</span></span>
> 
> 

## <a name="command-help"></a><span data-ttu-id="b32d7-116">Aide relative aux commandes</span><span class="sxs-lookup"><span data-stu-id="b32d7-116">Command help</span></span>

<span data-ttu-id="b32d7-117">Vous pouvez afficher le texte d’aide pour chaque commande Bonjour CLI d’Azure en ajoutant `-h` toohello commande.</span><span class="sxs-lookup"><span data-stu-id="b32d7-117">You can display help text for every command in hello Azure CLI by appending `-h` toohello command.</span></span> <span data-ttu-id="b32d7-118">Ignorez les autres options.</span><span class="sxs-lookup"><span data-stu-id="b32d7-118">Omit any other options.</span></span> <span data-ttu-id="b32d7-119">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="b32d7-119">For example:</span></span>

* <span data-ttu-id="b32d7-120">aide tooget hello `az` de commandes, entrez :`az -h`</span><span class="sxs-lookup"><span data-stu-id="b32d7-120">tooget help for hello `az` command, enter: `az -h`</span></span>
* <span data-ttu-id="b32d7-121">tooget une liste de toutes les commandes de traitement par lots Bonjour CLI, utilisez :`az batch -h`</span><span class="sxs-lookup"><span data-stu-id="b32d7-121">tooget a list of all Batch commands in hello CLI, use: `az batch -h`</span></span>
* <span data-ttu-id="b32d7-122">aide tooget sur la création d’un compte de traitement par lots, entrez :`az batch account create -h`</span><span class="sxs-lookup"><span data-stu-id="b32d7-122">tooget help on creating a Batch account, enter: `az batch account create -h`</span></span>

<span data-ttu-id="b32d7-123">En cas de doute, utilisez hello `-h` aide des options de ligne de commande de tooget sur n’importe quelle commande CLI d’Azure.</span><span class="sxs-lookup"><span data-stu-id="b32d7-123">When in doubt, use hello `-h` command-line option tooget help on any Azure CLI command.</span></span>

> [!NOTE]
> <span data-ttu-id="b32d7-124">Les versions antérieures de hello CLI d’Azure utilisé `azure` toopreface une commande CLI.</span><span class="sxs-lookup"><span data-stu-id="b32d7-124">Earlier versions of hello Azure CLI used `azure` toopreface a CLI command.</span></span> <span data-ttu-id="b32d7-125">Dans la version 2.0, toutes les commandes sont désormais précédées de `az`.</span><span class="sxs-lookup"><span data-stu-id="b32d7-125">In version 2.0, all commands are now prefaced with `az`.</span></span> <span data-ttu-id="b32d7-126">Être tooupdate que vos scripts toouse hello nouvelle syntaxe avec la version 2.0.</span><span class="sxs-lookup"><span data-stu-id="b32d7-126">Be sure tooupdate your scripts toouse hello new syntax with version 2.0.</span></span>
>
>  

<span data-ttu-id="b32d7-127">En outre, consultez la documentation de référence de CLI d’Azure de toohello pour plus d’informations sur les [les commandes CLI d’Azure pour le lot](https://docs.microsoft.com/cli/azure/batch).</span><span class="sxs-lookup"><span data-stu-id="b32d7-127">Additionally, refer toohello Azure CLI reference documentation for details about [Azure CLI commands for Batch](https://docs.microsoft.com/cli/azure/batch).</span></span> 

## <a name="log-in-and-authenticate"></a><span data-ttu-id="b32d7-128">Connexion et authentification</span><span class="sxs-lookup"><span data-stu-id="b32d7-128">Log in and authenticate</span></span>

<span data-ttu-id="b32d7-129">toouse hello CLI d’Azure par lot, vous devez toolog dans et s’authentifier.</span><span class="sxs-lookup"><span data-stu-id="b32d7-129">toouse hello Azure CLI with Batch, you need toolog in and authenticate.</span></span> <span data-ttu-id="b32d7-130">Il existe deux étapes simples toofollow :</span><span class="sxs-lookup"><span data-stu-id="b32d7-130">There are two simple steps toofollow:</span></span>

1. <span data-ttu-id="b32d7-131">**Connectez-vous à Azure.**</span><span class="sxs-lookup"><span data-stu-id="b32d7-131">**Log into Azure.**</span></span> <span data-ttu-id="b32d7-132">Connexion à Azure donne accéder aux commandes de gestionnaire de ressources tooAzure, y compris [service de gestion par lots](batch-management-dotnet.md) commandes.</span><span class="sxs-lookup"><span data-stu-id="b32d7-132">Logging into Azure gives you access tooAzure Resource Manager commands, including [Batch Management service](batch-management-dotnet.md) commands.</span></span>  
2. <span data-ttu-id="b32d7-133">**Connectez-vous à votre compte Batch.**</span><span class="sxs-lookup"><span data-stu-id="b32d7-133">**Log into your Batch account.**</span></span> <span data-ttu-id="b32d7-134">Connectez votre donne de compte de traitement par lots accéder aux commandes du service tooBatch.</span><span class="sxs-lookup"><span data-stu-id="b32d7-134">Logging into your Batch account gives you access tooBatch service commands.</span></span>   

### <a name="log-in-tooazure"></a><span data-ttu-id="b32d7-135">Connectez-vous à tooAzure</span><span class="sxs-lookup"><span data-stu-id="b32d7-135">Log in tooAzure</span></span>

<span data-ttu-id="b32d7-136">Il existe quelques toolog de différentes façons dans Azure, décrit en détail dans [se connecter avec Azure CLI 2.0](https://docs.microsoft.com/cli/azure/authenticate-azure-cli):</span><span class="sxs-lookup"><span data-stu-id="b32d7-136">There are a few different ways toolog into Azure, described in detail in [Log in with Azure CLI 2.0](https://docs.microsoft.com/cli/azure/authenticate-azure-cli):</span></span>

1. <span data-ttu-id="b32d7-137">[Connexion interactive](https://docs.microsoft.com/cli/azure/authenticate-azure-cli#interactive-log-in).</span><span class="sxs-lookup"><span data-stu-id="b32d7-137">[Log in interactively](https://docs.microsoft.com/cli/azure/authenticate-azure-cli#interactive-log-in).</span></span> <span data-ttu-id="b32d7-138">Se connecter manière interactive lorsque vous exécutez les commandes CLI d’Azure vous-même à partir de la ligne de commande hello.</span><span class="sxs-lookup"><span data-stu-id="b32d7-138">Log in interactively when you are running Azure CLI commands yourself from hello command line.</span></span>
2. <span data-ttu-id="b32d7-139">[Connexion avec un principal de service](https://docs.microsoft.com/cli/azure/authenticate-azure-cli#logging-in-with-a-service-principal).</span><span class="sxs-lookup"><span data-stu-id="b32d7-139">[Log in with a service principal](https://docs.microsoft.com/cli/azure/authenticate-azure-cli#logging-in-with-a-service-principal).</span></span> <span data-ttu-id="b32d7-140">Connectez-vous avec un principal de service lorsque vous exécutez des commandes Azure CLI à partir d’un script ou d’une application.</span><span class="sxs-lookup"><span data-stu-id="b32d7-140">Log in with a service principal when you are running Azure CLI commands from a script or an application.</span></span>

<span data-ttu-id="b32d7-141">Pour des raisons de hello de cet article, nous montrons comment toolog dans Azure interactivement.</span><span class="sxs-lookup"><span data-stu-id="b32d7-141">For hello purposes of this article, we show how toolog into Azure interactively.</span></span> <span data-ttu-id="b32d7-142">Type [ouverture de session az](https://docs.microsoft.com/cli/azure/#login) sur la ligne de commande hello :</span><span class="sxs-lookup"><span data-stu-id="b32d7-142">Type [az login](https://docs.microsoft.com/cli/azure/#login) on hello command line:</span></span>

```azurecli
# Log in tooAzure and authenticate interactively.
az login
```

<span data-ttu-id="b32d7-143">Hello `az login` retourne la commande jeton que vous pouvez utiliser tooauthenticate, comme indiqué ici.</span><span class="sxs-lookup"><span data-stu-id="b32d7-143">hello `az login` command returns a token that you can use tooauthenticate, as shown here.</span></span> <span data-ttu-id="b32d7-144">Suivez les instructions fournies de hello tooopen une page web et envoyer tooAzure de jeton hello :</span><span class="sxs-lookup"><span data-stu-id="b32d7-144">Follow hello instructions provided tooopen a web page and submit hello token tooAzure:</span></span>

![Connectez-vous à tooAzure](./media/batch-cli-get-started/az-login.png)

<span data-ttu-id="b32d7-146">les exemples Hello répertoriés dans hello [exemples de scripts de shell](#sample-shell-scripts) section également afficher comment toostart votre session CLI d’Azure par la journalisation de manière interactive dans Azure.</span><span class="sxs-lookup"><span data-stu-id="b32d7-146">hello examples listed in hello [Sample shell scripts](#sample-shell-scripts) section also show how toostart your Azure CLI session by logging into Azure interactively.</span></span> <span data-ttu-id="b32d7-147">Une fois que vous êtes connecté, vous pouvez appeler toowork de commandes avec des ressources de gestion par lots, y compris des comptes Batch, les clés, les packages d’applications et quotas.</span><span class="sxs-lookup"><span data-stu-id="b32d7-147">Once you have logged in, you can call commands toowork with Batch Management resources, including Batch accounts, keys, application packages, and quotas.</span></span>  

### <a name="log-in-tooyour-batch-account"></a><span data-ttu-id="b32d7-148">Ouvrez une session dans tooyour compte Batch</span><span class="sxs-lookup"><span data-stu-id="b32d7-148">Log in tooyour Batch account</span></span>

<span data-ttu-id="b32d7-149">toouse hello CLI d’Azure toomanage lot ressources, telles que les pools, tâches et les tâches, vous devez toolog dans votre compte Batch et s’authentifier.</span><span class="sxs-lookup"><span data-stu-id="b32d7-149">toouse hello Azure CLI toomanage Batch resources, such as pools, jobs, and tasks, you need toolog into your Batch account and authenticate.</span></span> <span data-ttu-id="b32d7-150">toolog dans toohello service Batch, utilisez hello [connexion au compte batch az](https://docs.microsoft.com/cli/azure/batch/account#login) commande.</span><span class="sxs-lookup"><span data-stu-id="b32d7-150">toolog in toohello Batch service, use hello [az batch account login](https://docs.microsoft.com/cli/azure/batch/account#login) command.</span></span> 

<span data-ttu-id="b32d7-151">Deux options s’offrent à vous pour l’authentification sur votre compte Batch :</span><span class="sxs-lookup"><span data-stu-id="b32d7-151">You have two options for authenticating against your Batch account:</span></span>

- <span data-ttu-id="b32d7-152">**Via l’authentification Azure Active Directory (Azure AD)**</span><span class="sxs-lookup"><span data-stu-id="b32d7-152">**By using Azure Active Directory (Azure AD) authentication.**</span></span> 

    <span data-ttu-id="b32d7-153">L’authentification auprès d’Azure AD est par défaut de hello lorsque vous utilisez hello CLI d’Azure par lot et recommandée pour la plupart des scénarios.</span><span class="sxs-lookup"><span data-stu-id="b32d7-153">Authenticating with Azure AD is hello default when you use hello Azure CLI with Batch, and recommended for most scenarios.</span></span> 
    
    <span data-ttu-id="b32d7-154">Lorsque vous connectez tooAzure interactivement, comme décrit dans la section précédente de hello, vos informations d’identification sont mis en cache, afin de hello CLI d’Azure peut connecter vous tooyour à l’aide de ces mêmes informations d’identification du compte Batch.</span><span class="sxs-lookup"><span data-stu-id="b32d7-154">When you log in tooAzure interactively, as described in hello previous section, your credentials are cached, so hello Azure CLI can log you in tooyour Batch account using those same credentials.</span></span> <span data-ttu-id="b32d7-155">Si vous vous connectez à l’aide d’un principal de service de tooAzure, ces informations d’identification sont également utilisé toolog dans tooyour compte Batch.</span><span class="sxs-lookup"><span data-stu-id="b32d7-155">If you log in tooAzure using a service principal, those credentials are also used toolog in tooyour Batch account.</span></span>

    <span data-ttu-id="b32d7-156">L’avantage d’Azure AD est que le contrôle d’accès se fait en fonction du rôle (RBAC).</span><span class="sxs-lookup"><span data-stu-id="b32d7-156">An advantage of Azure AD is that it offers role-based access control (RBAC).</span></span> <span data-ttu-id="b32d7-157">Avec RBAC, l’accès des utilisateurs dépend de son rôle, plutôt qu’ou non qu’ils possèdent des clés de compte hello.</span><span class="sxs-lookup"><span data-stu-id="b32d7-157">With RBAC, a user's access depends on their assigned role, rather than whether or not they possess hello account keys.</span></span> <span data-ttu-id="b32d7-158">Au lieu de gérer les clés de compte, vous pouvez gérer les rôles RBAC et permettre à Azure AD de gérer l’accès et l’authentification.</span><span class="sxs-lookup"><span data-stu-id="b32d7-158">Instead of managing account keys, you can manage RBAC roles, and let Azure AD handle access and authentication.</span></span>  

    <span data-ttu-id="b32d7-159">L’authentification auprès d’Azure AD est requis si vous avez créé votre compte Azure Batch avec son mode d’allocation de pool jeu too'User abonnement ».</span><span class="sxs-lookup"><span data-stu-id="b32d7-159">Authenticating with Azure AD is required if you created your Azure Batch account with its pool allocation mode set too'User Subscription'.</span></span> 

    <span data-ttu-id="b32d7-160">toolog dans tooyour lot compte à l’aide d’Azure AD, appelez hello [connexion au compte batch az](https://docs.microsoft.com/cli/azure/batch/account#login) commande :</span><span class="sxs-lookup"><span data-stu-id="b32d7-160">toolog in tooyour Batch account using Azure AD, call hello [az batch account login](https://docs.microsoft.com/cli/azure/batch/account#login) command:</span></span> 

    ```azurecli
    az batch account login -g myresource group -n mybatchaccount
    ```

- <span data-ttu-id="b32d7-161">**Via l’authentification par clé partagée.**</span><span class="sxs-lookup"><span data-stu-id="b32d7-161">**By using Shared Key authentication.**</span></span>

    <span data-ttu-id="b32d7-162">[L’authentification Shared Key](https://docs.microsoft.com/rest/api/batchservice/authenticate-requests-to-the-azure-batch-service#authentication-via-shared-key) utilise votre compte d’accès des clés tooauthenticate des commandes de CLI d’Azure pour hello par lots de service.</span><span class="sxs-lookup"><span data-stu-id="b32d7-162">[Shared Key authentication](https://docs.microsoft.com/rest/api/batchservice/authenticate-requests-to-the-azure-batch-service#authentication-via-shared-key) uses your account access keys tooauthenticate Azure CLI commands for hello Batch service.</span></span>

    <span data-ttu-id="b32d7-163">Si vous créez des scripts CLI d’Azure tooautomate les commandes Batch appelant, vous pouvez utiliser l’authentification Shared Key, ou un principal de service Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b32d7-163">If you are creating Azure CLI scripts tooautomate calling Batch commands, you can use either Shared Key authentication, or an Azure AD service principal.</span></span> <span data-ttu-id="b32d7-164">Dans certains scénarios, le recours à l’authentification par clé partagée peut être plus simple que la création d’un principal de service.</span><span class="sxs-lookup"><span data-stu-id="b32d7-164">In some scenarios, using Shared Key authentication may be simpler than creating a service principal.</span></span>  

    <span data-ttu-id="b32d7-165">toolog à l’aide de l’authentification Shared Key, inclure hello `--shared-key-auth` option de ligne de commande hello :</span><span class="sxs-lookup"><span data-stu-id="b32d7-165">toolog in using Shared Key authentication, include hello `--shared-key-auth` option on hello command line:</span></span>

    ```azurecli
    az batch account login -g myresourcegroup -n mybatchaccount --shared-key-auth
    ```

<span data-ttu-id="b32d7-166">les exemples Hello répertoriés dans hello [exemples de scripts de shell](#sample-shell-scripts) section montrent comment toolog à votre compte de traitement par lots avec hello CLI d’Azure à la fois Azure AD et la clé partagée.</span><span class="sxs-lookup"><span data-stu-id="b32d7-166">hello examples listed in hello [Sample shell scripts](#sample-shell-scripts) section show how toolog into your Batch account with hello Azure CLI using both Azure AD and Shared Key.</span></span>

## <a name="use-azure-batch-cli-templates-and-file-transfer-preview"></a><span data-ttu-id="b32d7-167">Utiliser des modèles d’interface CLI Azure Batch et le transfert de fichiers (préversion)</span><span class="sxs-lookup"><span data-stu-id="b32d7-167">Use Azure Batch CLI Templates and File Transfer (Preview)</span></span>

<span data-ttu-id="b32d7-168">Vous pouvez utiliser hello CLI d’Azure toorun lot travaux de bout en bout sans écrire de code.</span><span class="sxs-lookup"><span data-stu-id="b32d7-168">You can use hello Azure CLI toorun Batch jobs end-to-end without writing code.</span></span> <span data-ttu-id="b32d7-169">Fichiers de modèle de traitement par lots prend en charge la création des regroupements, des travaux et des tâches avec hello CLI d’Azure.</span><span class="sxs-lookup"><span data-stu-id="b32d7-169">Batch template files support creating pools, jobs, and tasks with hello Azure CLI.</span></span> <span data-ttu-id="b32d7-170">Vous pouvez également utiliser des fichiers d’entrée du travail tooupload CLI d’Azure hello toohello compte de stockage Azure associé hello compte Batch et télécharger des fichiers de sortie de projet à partir de celui-ci.</span><span class="sxs-lookup"><span data-stu-id="b32d7-170">You can also use hello Azure CLI tooupload job input files toohello Azure Storage account associated with hello Batch account, and download job output files from it.</span></span> <span data-ttu-id="b32d7-171">Pour en savoir plus, consultez la section [Use Azure Batch CLI Templates and File Transfer (Preview)](batch-cli-templates.md) (Utiliser des modèles d’interface CLI Batch et de transfert de fichier (préversion)).</span><span class="sxs-lookup"><span data-stu-id="b32d7-171">For more information, see [Use Azure Batch CLI Templates and File Transfer (Preview)](batch-cli-templates.md).</span></span>

## <a name="sample-shell-scripts"></a><span data-ttu-id="b32d7-172">Exemples de scripts de l’interpréteur de commandes</span><span class="sxs-lookup"><span data-stu-id="b32d7-172">Sample shell scripts</span></span>

<span data-ttu-id="b32d7-173">exemples de scripts Hello répertoriées dans hello suivant tableau montrent fonctionnement des commandes avec le service de traitement par lots hello et tâches courantes de gestion par lots service tooaccomplish toouse CLI d’Azure.</span><span class="sxs-lookup"><span data-stu-id="b32d7-173">hello sample scripts listed in hello following table show how toouse Azure CLI commands with hello Batch service and Batch Management service tooaccomplish common tasks.</span></span> <span data-ttu-id="b32d7-174">Ces exemples de scripts couvrent la plupart des commandes hello disponibles dans hello CLI d’Azure pour le traitement par lots.</span><span class="sxs-lookup"><span data-stu-id="b32d7-174">These sample scripts cover many of hello commands available in hello Azure CLI for Batch.</span></span> 

| <span data-ttu-id="b32d7-175">Script</span><span class="sxs-lookup"><span data-stu-id="b32d7-175">Script</span></span> | <span data-ttu-id="b32d7-176">Remarques</span><span class="sxs-lookup"><span data-stu-id="b32d7-176">Notes</span></span> |
|---|---|
| [<span data-ttu-id="b32d7-177">Création d’un compte Batch</span><span class="sxs-lookup"><span data-stu-id="b32d7-177">Create a Batch account</span></span>](./scripts/batch-cli-sample-create-account.md) | <span data-ttu-id="b32d7-178">Crée un compte Batch et l’associe à un compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="b32d7-178">Creates a Batch account and associates it with a storage account.</span></span> |
| [<span data-ttu-id="b32d7-179">Ajouter une application</span><span class="sxs-lookup"><span data-stu-id="b32d7-179">Add an application</span></span>](./scripts/batch-cli-sample-add-application.md) | <span data-ttu-id="b32d7-180">Ajoute une application et télécharge les fichiers binaires du package.</span><span class="sxs-lookup"><span data-stu-id="b32d7-180">Adds an application and uploads packaged binaries.</span></span>|
| [<span data-ttu-id="b32d7-181">Gérer les pools Batch</span><span class="sxs-lookup"><span data-stu-id="b32d7-181">Manage Batch pools</span></span>](./scripts/batch-cli-sample-manage-pool.md) | <span data-ttu-id="b32d7-182">Montre comment créer, redimensionner et gérer des pools.</span><span class="sxs-lookup"><span data-stu-id="b32d7-182">Demonstrates creating, resizing, and managing pools.</span></span> |
| [<span data-ttu-id="b32d7-183">Exécuter un travail et des tâches avec Batch</span><span class="sxs-lookup"><span data-stu-id="b32d7-183">Run a job and tasks with Batch</span></span>](./scripts/batch-cli-sample-run-job.md) | <span data-ttu-id="b32d7-184">Montre comment exécuter un travail et ajouter des tâches.</span><span class="sxs-lookup"><span data-stu-id="b32d7-184">Demonstrates running a job and adding tasks.</span></span> |

## <a name="json-files-for-resource-creation"></a><span data-ttu-id="b32d7-185">Fichiers JSON pour la création de ressources</span><span class="sxs-lookup"><span data-stu-id="b32d7-185">JSON files for resource creation</span></span>

<span data-ttu-id="b32d7-186">Lorsque vous créez des ressources de traitement par lots telles que les pools et les travaux, vous pouvez spécifier un fichier JSON contenant hello nouvelle configuration de la ressource au lieu de passer de ses paramètres en tant qu’options de ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="b32d7-186">When you create Batch resources like pools and jobs, you can specify a JSON file containing hello new resource's configuration instead of passing its parameters as command-line options.</span></span> <span data-ttu-id="b32d7-187">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="b32d7-187">For example:</span></span>

```azurecli
az batch pool create my_batch_pool.json
```

<span data-ttu-id="b32d7-188">Si vous pouvez créer la plupart des ressources de traitement par lots à l’aide d’uniquement les options de ligne de commande, certaines fonctionnalités requièrent que vous spécifiez un fichier au format JSON contenant les détails de la ressource hello.</span><span class="sxs-lookup"><span data-stu-id="b32d7-188">While you can create most Batch resources using only command-line options, some features require that you specify a JSON-formatted file containing hello resource details.</span></span> <span data-ttu-id="b32d7-189">Par exemple, vous devez utiliser un fichier JSON si vous souhaitez que les fichiers de ressources toospecify pour une tâche de démarrage.</span><span class="sxs-lookup"><span data-stu-id="b32d7-189">For example, you must use a JSON file if you want toospecify resource files for a start task.</span></span>

<span data-ttu-id="b32d7-190">toosee hello syntaxe JSON requis toocreate une ressource, consultez le toohello [référence de l’API REST de lot] [ rest_api] documentation.</span><span class="sxs-lookup"><span data-stu-id="b32d7-190">toosee hello JSON syntax required toocreate a resource, refer toohello [Batch REST API reference][rest_api] documentation.</span></span> <span data-ttu-id="b32d7-191">Chaque « ajouter *type de ressource*« rubrique de référence d’API REST de hello contient des exemples de scripts JSON pour la création de cette ressource.</span><span class="sxs-lookup"><span data-stu-id="b32d7-191">Each "Add *resource type*" topic in hello REST API reference contains sample JSON scripts for creating that resource.</span></span> <span data-ttu-id="b32d7-192">Vous pouvez utiliser ces exemples de scripts JSON en tant que modèles pour toouse de fichiers JSON avec hello CLI d’Azure.</span><span class="sxs-lookup"><span data-stu-id="b32d7-192">You can use those sample JSON scripts as templates for JSON files toouse with hello Azure CLI.</span></span> <span data-ttu-id="b32d7-193">Par exemple, toosee hello syntaxe JSON pour la création du pool, consultez trop[ajouter un compte du pool de tooan][rest_add_pool].</span><span class="sxs-lookup"><span data-stu-id="b32d7-193">For example, toosee hello JSON syntax for pool creation, refer too[Add a pool tooan account][rest_add_pool].</span></span>

<span data-ttu-id="b32d7-194">Pour un exemple de script qui spécifie un fichier JSON, consultez [Exécuter un travail et des tâches avec Batch](./scripts/batch-cli-sample-run-job.md).</span><span class="sxs-lookup"><span data-stu-id="b32d7-194">For a sample script that specifies a JSON file, see [Run a job and tasks with Batch](./scripts/batch-cli-sample-run-job.md).</span></span>

> [!NOTE]
> <span data-ttu-id="b32d7-195">Si vous spécifiez un fichier JSON quand vous créez une ressource, tous les autres paramètres que vous spécifiez sur la ligne de commande hello pour cette ressource sont ignorés.</span><span class="sxs-lookup"><span data-stu-id="b32d7-195">If you specify a JSON file when you create a resource, any other parameters that you specify on hello command line for that resource are ignored.</span></span>
> 
> 

## <a name="efficient-queries-for-batch-resources"></a><span data-ttu-id="b32d7-196">Requêtes efficaces pour les ressources Batch</span><span class="sxs-lookup"><span data-stu-id="b32d7-196">Efficient queries for Batch resources</span></span>

<span data-ttu-id="b32d7-197">Chaque type de ressource Batch prend en charge une commande `list` qui interroge votre compte Batch et répertorie les ressources de ce type.</span><span class="sxs-lookup"><span data-stu-id="b32d7-197">Each Batch resource type supports a `list` command that queries your Batch account and lists resources of that type.</span></span> <span data-ttu-id="b32d7-198">Par exemple, vous pouvez répertorier les pools hello dans vos tâches de compte et hello dans une tâche :</span><span class="sxs-lookup"><span data-stu-id="b32d7-198">For example, you can list hello pools in your account and hello tasks in a job:</span></span>

```azurecli
az batch pool list
az batch task list --job-id job001
```

<span data-ttu-id="b32d7-199">Lorsque vous interrogez le service de traitement par lots hello avec un `list` opération, vous pouvez spécifier la durée hello OData clause toolimit des données retournées.</span><span class="sxs-lookup"><span data-stu-id="b32d7-199">When you query hello Batch service with a `list` operation, you can specify an OData clause toolimit hello amount of data returned.</span></span> <span data-ttu-id="b32d7-200">Étant donné que tous les filtres produit côté serveur, uniquement les données hello demandé dépasse câble de hello.</span><span class="sxs-lookup"><span data-stu-id="b32d7-200">Because all filtering occurs server-side, only hello data you request crosses hello wire.</span></span> <span data-ttu-id="b32d7-201">Utiliser ces clauses de bande passante toosave (et par conséquent, l’heure) lorsque vous effectuez des opérations de liste.</span><span class="sxs-lookup"><span data-stu-id="b32d7-201">Use these clauses toosave bandwidth (and therefore time) when you perform list operations.</span></span>

<span data-ttu-id="b32d7-202">Hello tableau suivant décrit les clauses de OData hello pris en charge par hello service Batch :</span><span class="sxs-lookup"><span data-stu-id="b32d7-202">hello following table describes hello OData clauses supported by hello Batch service:</span></span>

| <span data-ttu-id="b32d7-203">Clause</span><span class="sxs-lookup"><span data-stu-id="b32d7-203">Clause</span></span> | <span data-ttu-id="b32d7-204">Description</span><span class="sxs-lookup"><span data-stu-id="b32d7-204">Description</span></span> |
|---|---|
| `--select-clause [select-clause]` | <span data-ttu-id="b32d7-205">Retourne un sous-ensemble de propriétés pour chaque entité.</span><span class="sxs-lookup"><span data-stu-id="b32d7-205">Returns a subset of properties for each entity.</span></span> |
| `--filter-clause [filter-clause]` | <span data-ttu-id="b32d7-206">Retourne seules les entités qui correspondent aux hello spécifié expression OData.</span><span class="sxs-lookup"><span data-stu-id="b32d7-206">Returns only entities that match hello specified OData expression.</span></span> |
| `--expand-clause [expand-clause]` | <span data-ttu-id="b32d7-207">Obtient des informations d’entité hello dans un seul appel REST sous-jacente.</span><span class="sxs-lookup"><span data-stu-id="b32d7-207">Obtains hello entity information in a single underlying REST call.</span></span> <span data-ttu-id="b32d7-208">Hello développez clause actuellement prend en charge uniquement hello `stats` propriété.</span><span class="sxs-lookup"><span data-stu-id="b32d7-208">hello expand clause currently supports only hello `stats` property.</span></span> |

<span data-ttu-id="b32d7-209">Pour un exemple de script qui montre comment toouse une clause OData, consultez [exécuter un travail et des tâches de traitement par lots](./scripts/batch-cli-sample-run-job.md).</span><span class="sxs-lookup"><span data-stu-id="b32d7-209">For a sample script that shows how toouse an OData clause, see [Run a job and tasks with Batch](./scripts/batch-cli-sample-run-job.md).</span></span>

<span data-ttu-id="b32d7-210">Pour plus d’informations sur l’exécution de requêtes de liste efficace avec les clauses d’OData, consultez [interroger le service de traitement par lots Azure hello efficacement](batch-efficient-list-queries.md).</span><span class="sxs-lookup"><span data-stu-id="b32d7-210">For more information on performing efficient list queries with OData clauses, see [Query hello Azure Batch service efficiently](batch-efficient-list-queries.md).</span></span>

## <a name="troubleshooting-tips"></a><span data-ttu-id="b32d7-211">Conseils de dépannage</span><span class="sxs-lookup"><span data-stu-id="b32d7-211">Troubleshooting tips</span></span>

<span data-ttu-id="b32d7-212">Hello conseils suivants lors de la résolution des problèmes de CLI d’Azure :</span><span class="sxs-lookup"><span data-stu-id="b32d7-212">hello following tips may help when you are troubleshooting Azure CLI issues:</span></span>

* <span data-ttu-id="b32d7-213">Utilisez `-h` tooget **texte d’aide** pour n’importe quelle commande CLI</span><span class="sxs-lookup"><span data-stu-id="b32d7-213">Use `-h` tooget **help text** for any CLI command</span></span>
* <span data-ttu-id="b32d7-214">Utilisez `-v` et `-vv` toodisplay **verbose** sortie de commande.</span><span class="sxs-lookup"><span data-stu-id="b32d7-214">Use `-v` and `-vv` toodisplay **verbose** command output.</span></span> <span data-ttu-id="b32d7-215">Hello lorsque `-vv` indicateur est inclus, hello CLI d’Azure affiche hello réels demandes et réponses REST.</span><span class="sxs-lookup"><span data-stu-id="b32d7-215">When hello `-vv` flag is included, hello Azure CLI displays hello actual REST requests and responses.</span></span> <span data-ttu-id="b32d7-216">Ces commutateurs sont pratiques pour afficher une sortie complète des erreurs.</span><span class="sxs-lookup"><span data-stu-id="b32d7-216">These switches are handy for displaying full error output.</span></span>
* <span data-ttu-id="b32d7-217">Vous pouvez afficher **commande de sortie au format JSON** avec hello `--json` option.</span><span class="sxs-lookup"><span data-stu-id="b32d7-217">You can view **command output as JSON** with hello `--json` option.</span></span> <span data-ttu-id="b32d7-218">Par exemple, `az batch pool show pool001 --json` affiche les propriétés de pool001 au format JSON.</span><span class="sxs-lookup"><span data-stu-id="b32d7-218">For example, `az batch pool show pool001 --json` displays pool001's properties in JSON format.</span></span> <span data-ttu-id="b32d7-219">Vous pouvez ensuite copier et modifier ce toouse de sortie dans un `--json-file` (consultez [fichiers JSON](#json-files) plus haut dans cet article).</span><span class="sxs-lookup"><span data-stu-id="b32d7-219">You can then copy and modify this output toouse in a `--json-file` (see [JSON files](#json-files) earlier in this article).</span></span>
<!---Loc Comment: Please, check link [JSON files] since it's not redirecting tooany location.--->
* <span data-ttu-id="b32d7-220">Hello [forum de lot] [ batch_forum] est analysé par les membres de l’équipe par lots.</span><span class="sxs-lookup"><span data-stu-id="b32d7-220">hello [Batch forum][batch_forum] is monitored by Batch team members.</span></span> <span data-ttu-id="b32d7-221">Vous pouvez y publier vos questions si vous rencontrez des problèmes ou si vous avez besoin d’aide pour une opération spécifique.</span><span class="sxs-lookup"><span data-stu-id="b32d7-221">You can post your questions there if you run into issues or would like help with a specific operation.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b32d7-222">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="b32d7-222">Next steps</span></span>

* <span data-ttu-id="b32d7-223">Pour plus d’informations sur hello CLI d’Azure, consultez hello [documentation relative à Azure CLI](https://docs.microsoft.com/cli/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="b32d7-223">For more information about hello Azure CLI, see hello [Azure CLI documentation](https://docs.microsoft.com/cli/azure/overview).</span></span>
* <span data-ttu-id="b32d7-224">Pour plus d’informations sur les ressources Batch, consultez [Vue d’ensemble d’Azure Batch pour les développeurs](batch-api-basics.md).</span><span class="sxs-lookup"><span data-stu-id="b32d7-224">For more information about Batch resources, see [Overview of Azure Batch for developers](batch-api-basics.md).</span></span>
* <span data-ttu-id="b32d7-225">Pour plus d’informations sur l’utilisation de pools de toocreate de modèles, les tâches et les tâches par lots sans écrire de code, consultez [Azure Batch CLI modèles et le transfert de fichiers (aperçu)](batch-cli-templates.md).</span><span class="sxs-lookup"><span data-stu-id="b32d7-225">For more information about using Batch templates toocreate pools, jobs, and tasks without writing code, see [Use Azure Batch CLI Templates and File Transfer (Preview)](batch-cli-templates.md).</span></span>

[batch_forum]: https://social.msdn.microsoft.com/forums/azure/home?forum=azurebatch
[github_readme]: https://github.com/Azure/azure-xplat-cli/blob/dev/README.md
[rest_api]: https://msdn.microsoft.com/library/azure/dn820158.aspx
[rest_add_pool]: https://msdn.microsoft.com/library/azure/dn820174.aspx
