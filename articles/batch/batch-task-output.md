---
title: "Conserver les résultats ou les journaux des tâches et des travaux terminés dans un magasin de données - Azure Batch | Microsoft Docs"
description: "Découvrez les différentes possibilités pour conserver les données de sortie des tâches et des travaux Batch. Vous pouvez conserver les données dans le Stockage Azure ou un autre magasin de données."
services: batch
author: tamram
manager: timlt
editor: 
ms.assetid: 16e12d0e-958c-46c2-a6b8-7843835d830e
ms.service: batch
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: big-compute
ms.date: 06/16/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 3ca93e823f02b1483ed290cf89de191937d1e2c3
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="persist-job-and-task-output"></a><span data-ttu-id="4dc11-104">Conserver les résultats des tâches et des travaux</span><span class="sxs-lookup"><span data-stu-id="4dc11-104">Persist job and task output</span></span>

[!INCLUDE [batch-task-output-include](../../includes/batch-task-output-include.md)]

<span data-ttu-id="4dc11-105">Voici quelques exemples courants de sortie de tâche :</span><span class="sxs-lookup"><span data-stu-id="4dc11-105">Some common examples of task output include:</span></span>

- <span data-ttu-id="4dc11-106">Fichiers créés au moment où la tâche traite des données d’entrée.</span><span class="sxs-lookup"><span data-stu-id="4dc11-106">Files created when the task processes input data.</span></span>
- <span data-ttu-id="4dc11-107">Fichiers journaux associés à l’exécution des tâches.</span><span class="sxs-lookup"><span data-stu-id="4dc11-107">Log files associated with task execution.</span></span> 

<span data-ttu-id="4dc11-108">Cet article décrit différentes possibilités pour conserver la sortie des tâches et présente les méthodes les plus appropriées en fonction des scénarios.</span><span class="sxs-lookup"><span data-stu-id="4dc11-108">This article describes various options for persisting task output and the scenarios for which each option is most appropriate.</span></span>   

## <a name="about-the-batch-file-conventions-standard"></a><span data-ttu-id="4dc11-109">À propos des conventions standard de nommage des fichiers Batch</span><span class="sxs-lookup"><span data-stu-id="4dc11-109">About the Batch File Conventions standard</span></span>

<span data-ttu-id="4dc11-110">Batch définit un ensemble facultatif de conventions pour nommer les fichiers de sortie de tâche dans le Stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4dc11-110">Batch defines an optional set of conventions for naming task output files in Azure Storage.</span></span> <span data-ttu-id="4dc11-111">Les conventions standard de nommage des fichiers Batch sont décrites dans ce [document](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions).</span><span class="sxs-lookup"><span data-stu-id="4dc11-111">The [Batch File Conventions standard](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions) describes these conventions.</span></span> <span data-ttu-id="4dc11-112">Les conventions standard de nommage des fichiers déterminent les noms du conteneur et du chemin d’objet blob de destination dans le Stockage Azure pour un fichier de sortie donné en fonction des noms du travail et de la tâche.</span><span class="sxs-lookup"><span data-stu-id="4dc11-112">The File Conventions standard determines the names of the destination container and blob path in Azure Storage for a given output file based on the names of the job and task.</span></span>

<span data-ttu-id="4dc11-113">C’est à vous qu’il appartient d’appliquer ou non les conventions standard de nommage des fichiers pour vos fichiers de données de sortie.</span><span class="sxs-lookup"><span data-stu-id="4dc11-113">It's up to you whether you decide to use the File Conventions standard for naming your output data files.</span></span> <span data-ttu-id="4dc11-114">Vous pouvez aussi nommer le conteneur et l’objet blob de destination comme vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="4dc11-114">You can also name the destination container and blob however you wish.</span></span> <span data-ttu-id="4dc11-115">Si vous utilisez les conventions standard de nommage des fichiers pour nommer vos fichiers de sortie, ceux-ci sont visibles dans le [portail Azure][portal].</span><span class="sxs-lookup"><span data-stu-id="4dc11-115">If you do use the File Conventions standard for naming output files, then your output files are available for viewing in the [Azure portal][portal].</span></span>

<span data-ttu-id="4dc11-116">Il existe différentes manières d’utiliser les conventions standard de nommage des fichiers :</span><span class="sxs-lookup"><span data-stu-id="4dc11-116">There are a few different ways that you can use the File Conventions standard:</span></span>

- <span data-ttu-id="4dc11-117">Si vous utilisez l’API du service Batch pour conserver les fichiers de sortie, vous pouvez choisir de nommer les conteneurs et les objets blob de destination conformément aux conventions standard de nommage des fichiers.</span><span class="sxs-lookup"><span data-stu-id="4dc11-117">If you are using the Batch service API to persist output files, you can choose to name destination containers and blobs according to the File Conventions standard.</span></span> <span data-ttu-id="4dc11-118">L’API du service Batch vous permet de conserver les fichiers de sortie à partir du code client, sans modifier votre application de tâche.</span><span class="sxs-lookup"><span data-stu-id="4dc11-118">The Batch service API enables you to persist output files from client code, without modifying your task application.</span></span>
- <span data-ttu-id="4dc11-119">Si vous développez avec .NET, vous pouvez utiliser la [bibliothèque Conventions de nommage des fichiers Azure Batch pour .NET][nuget_package].</span><span class="sxs-lookup"><span data-stu-id="4dc11-119">If you are developing with .NET, you can use the [Azure Batch File Conventions library for .NET][nuget_package].</span></span> <span data-ttu-id="4dc11-120">L’avantage de cette bibliothèque est qu’elle prend en charge l’interrogation des fichiers de sortie en fonction de leur ID ou de leur usage.</span><span class="sxs-lookup"><span data-stu-id="4dc11-120">An advantage of using this library is that it supports querying your output files according to their ID or purpose.</span></span> <span data-ttu-id="4dc11-121">La fonctionnalité d’interrogation intégrée permet d’accéder facilement aux fichiers de sortie à partir d’une application cliente ou à partir d’autres tâches.</span><span class="sxs-lookup"><span data-stu-id="4dc11-121">The built-in querying functionality makes it easy to access output files from a client application or from other tasks.</span></span> <span data-ttu-id="4dc11-122">Cependant, votre application de tâche doit être modifiée de façon à appeler la bibliothèque Conventions de nommage des fichiers.</span><span class="sxs-lookup"><span data-stu-id="4dc11-122">However, your task application must be modified to call File Conventions library.</span></span> <span data-ttu-id="4dc11-123">Pour plus d’informations, consultez le document de référence concernant la [bibliothèque Conventions de nommage des fichiers pour .NET](https://msdn.microsoft.com/library/microsoft.azure.batch.conventions.files.aspx).</span><span class="sxs-lookup"><span data-stu-id="4dc11-123">For more information, see the reference for the [File Conventions library for .NET](https://msdn.microsoft.com/library/microsoft.azure.batch.conventions.files.aspx).</span></span>
- <span data-ttu-id="4dc11-124">Si vous développez avec un autre langage que .NET, vous pouvez implémenter les conventions standard de nommage des fichiers dans votre application.</span><span class="sxs-lookup"><span data-stu-id="4dc11-124">If you are developing with a language other than .NET, you can implement the File Conventions standard in your application.</span></span>

## <a name="design-considerations-for-persisting-output"></a><span data-ttu-id="4dc11-125">Considérations de conception pour la conservation des sorties</span><span class="sxs-lookup"><span data-stu-id="4dc11-125">Design considerations for persisting output</span></span> 

<span data-ttu-id="4dc11-126">Au moment de concevoir votre solution Batch, tenez compte des points suivants s’agissant des sorties des travaux et des tâches.</span><span class="sxs-lookup"><span data-stu-id="4dc11-126">When designing your Batch solution, consider the following factors related to job and task outputs.</span></span>

* <span data-ttu-id="4dc11-127">**Durée de vie de nœud de calcul**: les nœuds de calcul sont souvent temporaires, notamment dans les pools à mise à l’échelle automatique.</span><span class="sxs-lookup"><span data-stu-id="4dc11-127">**Compute node lifetime**: Compute nodes are often transient, especially in autoscale-enabled pools.</span></span> <span data-ttu-id="4dc11-128">La sortie d’une tâche qui s’exécute sur un nœud est disponible uniquement pendant que le nœud existe, et seulement pendant la période de rétention des fichiers que vous avez définie pour la tâche.</span><span class="sxs-lookup"><span data-stu-id="4dc11-128">Output from a task that runs on a node is available only while the node exists, and only within the file retention period you've set for the task.</span></span> <span data-ttu-id="4dc11-129">Si une tâche génère une sortie qui peut être nécessaire à la fin de la tâche, celle-ci doit charger ses fichiers de sortie dans un magasin durable tels que le Stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4dc11-129">If a task produces output that may be needed after the task is complete, then the task must upload its output files to a durable store such as Azure Storage.</span></span>

* <span data-ttu-id="4dc11-130">**Stockage de sortie** : le Stockage Azure est recommandé comme magasin de données pour la sortie des tâches, mais vous pouvez utiliser n’importe quel stockage durable.</span><span class="sxs-lookup"><span data-stu-id="4dc11-130">**Output storage**: Azure Storage is recommended as a data store for task output, but you can use any durable storage.</span></span> <span data-ttu-id="4dc11-131">L’écriture de la sortie des tâches dans le Stockage Azure est intégrée dans l’API du service Batch.</span><span class="sxs-lookup"><span data-stu-id="4dc11-131">Writing task output to Azure Storage is integrated into the Batch service API.</span></span> <span data-ttu-id="4dc11-132">Si vous utilisez une autre forme de stockage durable, vous devez écrire la logique d’application pour conserver vous-même la sortie des tâches.</span><span class="sxs-lookup"><span data-stu-id="4dc11-132">If you use another form of durable storage, you'll need to write the application logic to persist task output yourself.</span></span>   

* <span data-ttu-id="4dc11-133">**Récupération de sortie** : vous pouvez récupérer la sortie des tâches directement à partir des nœuds de calcul de votre pool ou depuis le Stockage Azure ou un autre magasin de données si vous avez conservé la sortie des tâches.</span><span class="sxs-lookup"><span data-stu-id="4dc11-133">**Output retrieval**: You can retrieve task output directly from the compute nodes in your pool, or from Azure Storage or another data store if you have persisted task output.</span></span> <span data-ttu-id="4dc11-134">Pour récupérer la sortie d’une tâche directement à partir d’un nœud de calcul, vous avez besoin du nom de fichier et de son emplacement de sortie sur le nœud.</span><span class="sxs-lookup"><span data-stu-id="4dc11-134">To retrieve a task's output directly from a compute node, you need the file name and its output location on the node.</span></span> <span data-ttu-id="4dc11-135">Si vous conservez la sortie des tâches dans le Stockage Azure, vous avez besoin du chemin complet des fichiers dans le Stockage Azure pour télécharger les fichiers de sortie à l’aide du kit SDK Stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4dc11-135">If you persist task output to Azure Storage, then you need the full path to the file in Azure Storage to download the output files with the Azure Storage SDK.</span></span>

* <span data-ttu-id="4dc11-136">**Affichage de sortie** : lorsque vous accédez à une tâche Batch dans le portail Azure et sélectionnez **Fichiers sur le nœud**, tous les fichiers associés à la tâche s’affichent, et pas seulement les fichiers de sortie qui vous intéressent.</span><span class="sxs-lookup"><span data-stu-id="4dc11-136">**Viewing output**: When you navigate to a Batch task in the Azure portal and select **Files on node**, you are presented with all files associated with the task, not just the output files you're interested in.</span></span> <span data-ttu-id="4dc11-137">De nouveau, les fichiers hébergés sur les nœuds de calcul sont disponibles uniquement lorsque le nœud existe, et seulement pendant la durée de rétention des fichiers que vous avez définie pour la tâche.</span><span class="sxs-lookup"><span data-stu-id="4dc11-137">Again, files on compute nodes are available only while the node exists and only within the file retention time you've set for the task.</span></span> <span data-ttu-id="4dc11-138">Pour afficher la sortie des tâches que vous avez conservée dans le Stockage Azure, vous pouvez utiliser le portail Azure ou une application cliente du Stockage Azure telle que l’[Explorateur de Stockage Azure][storage_explorer].</span><span class="sxs-lookup"><span data-stu-id="4dc11-138">To view task output that you've persisted to Azure Storage, you can use the Azure portal or an Azure Storage client application such as the [Azure Storage Explorer][storage_explorer].</span></span> <span data-ttu-id="4dc11-139">Pour afficher des données de sortie dans le Stockage Azure avec le portail ou un autre outil, vous devez connaître l’emplacement du fichier correspondant et y accéder directement.</span><span class="sxs-lookup"><span data-stu-id="4dc11-139">To view output data in Azure Storage with the portal or another tool, you must know the file's location and navigate to it directly.</span></span>

## <a name="options-for-persisting-output"></a><span data-ttu-id="4dc11-140">Options de conservation de sortie</span><span class="sxs-lookup"><span data-stu-id="4dc11-140">Options for persisting output</span></span>

<span data-ttu-id="4dc11-141">Selon votre scénario, vous pouvez adopter différentes approches pour conserver une sortie de tâche :</span><span class="sxs-lookup"><span data-stu-id="4dc11-141">Depending on your scenario, there are a few different approaches you can take to persist task output:</span></span>

- <span data-ttu-id="4dc11-142">Utiliser l’API du service Batch.</span><span class="sxs-lookup"><span data-stu-id="4dc11-142">Use the Batch service API.</span></span>  
- <span data-ttu-id="4dc11-143">Utiliser la bibliothèque Conventions de nommage des fichiers Batch pour .NET.</span><span class="sxs-lookup"><span data-stu-id="4dc11-143">Use the Batch File Conventions library for .NET.</span></span>  
- <span data-ttu-id="4dc11-144">Implémenter les conventions standard de nommage des fichiers Batch dans votre application.</span><span class="sxs-lookup"><span data-stu-id="4dc11-144">Implement the Batch File Conventions standard in your application.</span></span>
- <span data-ttu-id="4dc11-145">Implémenter une solution de déplacement de fichiers personnalisée.</span><span class="sxs-lookup"><span data-stu-id="4dc11-145">Implement a custom file movement solution.</span></span>

<span data-ttu-id="4dc11-146">Les sections suivantes décrivent plus en détail chacune de ces approches.</span><span class="sxs-lookup"><span data-stu-id="4dc11-146">The following sections describe each approach in more detail.</span></span>

### <a name="use-the-batch-service-api"></a><span data-ttu-id="4dc11-147">Utiliser l’API du service Batch</span><span class="sxs-lookup"><span data-stu-id="4dc11-147">Use the Batch service API</span></span>

<span data-ttu-id="4dc11-148">Avec la version 2017-05-01, le service Batch permet de spécifier des fichiers de sortie dans le Stockage Azure pour les données de tâches au moment d’[ajouter une tâche à un travail](https://docs.microsoft.com/rest/api/batchservice/add-a-task-to-a-job) ou d’[ajouter une collection de tâches à un travail](https://docs.microsoft.com/rest/api/batchservice/add-a-collection-of-tasks-to-a-job).</span><span class="sxs-lookup"><span data-stu-id="4dc11-148">With version 2017-05-01, the Batch service adds support for specifying output files in Azure Storage for task data when you [add a task to a job](https://docs.microsoft.com/rest/api/batchservice/add-a-task-to-a-job) or [add a collection of tasks to a job](https://docs.microsoft.com/rest/api/batchservice/add-a-collection-of-tasks-to-a-job).</span></span>

<span data-ttu-id="4dc11-149">L’API du service Batch prend en charge la conservation des données de tâches sur un compte Stockage Azure à partir des pools créés avec la configuration de machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4dc11-149">The Batch service API supports persisting task data to an Azure Storage account from pools created with the virtual machine configuration.</span></span> <span data-ttu-id="4dc11-150">Avec l’API du service Batch, vous pouvez conserver les données de tâches sans modifier l’application exécutée par votre tâche.</span><span class="sxs-lookup"><span data-stu-id="4dc11-150">With the Batch service API, you can persist task data without modifying the application that your task runs.</span></span> <span data-ttu-id="4dc11-151">Vous pouvez éventuellement vous conformer aux [conventions standard de nommage des fichiers Batch](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions) pour nommer les fichiers que vous conservez dans le Stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4dc11-151">You can optionally adhere to the [Batch File Conventions standard](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions) for naming the files that you persist to Azure Storage.</span></span> 

<span data-ttu-id="4dc11-152">Conservez la sortie des tâches à l’aide de l’API du service Batch dans les cas suivants :</span><span class="sxs-lookup"><span data-stu-id="4dc11-152">Use the Batch service API to persist task output when:</span></span>

- <span data-ttu-id="4dc11-153">Vous voulez conserver les données des tâches Batch et des tâches du Gestionnaire de travaux dans des pools créés avec la configuration de machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4dc11-153">You want to persist data from Batch tasks and job manager tasks in pools created with the virtual machine configuration.</span></span>
- <span data-ttu-id="4dc11-154">Vous voulez conserver les données dans un conteneur de Stockage Azure avec un nom arbitraire.</span><span class="sxs-lookup"><span data-stu-id="4dc11-154">You want to persist data to an Azure Storage container with an arbitrary name.</span></span>
- <span data-ttu-id="4dc11-155">Vous voulez conserver les données dans un conteneur de Stockage Azure nommé conformément aux [conventions standard de nommage des fichiers Batch](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions).</span><span class="sxs-lookup"><span data-stu-id="4dc11-155">You want to persist data to an Azure Storage container named according to the [Batch File Conventions standard](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions).</span></span> 

> [!NOTE]
> <span data-ttu-id="4dc11-156">L’API du service Batch ne prend pas en charge la conservation des données des tâches s’exécutant dans des pools créés avec la configuration de service cloud.</span><span class="sxs-lookup"><span data-stu-id="4dc11-156">The Batch service API does not support persisting data from tasks running in pools created with the cloud service configuration.</span></span> <span data-ttu-id="4dc11-157">Pour plus d’informations sur la conservation de la sortie des tâches de pools exécutant la configuration de services cloud, consultez [Conserver les données des travaux et des tâches dans le Stockage Azure avec la bibliothèque Conventions de nommage des fichiers Batch pour .NET](batch-task-output-file-conventions.md).</span><span class="sxs-lookup"><span data-stu-id="4dc11-157">For information about persisting task output from pools running the cloud services configuration, see [Persist job and task data to Azure Storage with the Batch File Conventions library for .NET to persist ](batch-task-output-file-conventions.md)</span></span>
> 
> 

<span data-ttu-id="4dc11-158">Pour plus d’informations sur la conservation de la sortie des tâches avec l’API du service Batch, consultez [Conserver les données des tâches dans le Stockage Azure à l’aide de l’API du service Batch](batch-task-output-files.md).</span><span class="sxs-lookup"><span data-stu-id="4dc11-158">For more information on persisting task output with the Batch service API, see [Persist task data to Azure Storage with the Batch service API](batch-task-output-files.md).</span></span> <span data-ttu-id="4dc11-159">Consultez aussi l’exemple de projet [PersistOutputs][github_persistoutputs] sur GitHub, qui montre comment utiliser la bibliothèque cliente Batch pour .NET pour conserver la sortie des tâches dans un stockage durable.</span><span class="sxs-lookup"><span data-stu-id="4dc11-159">Also see the [PersistOutputs][github_persistoutputs] sample project on GitHub, which demonstrates how to use the Batch client library for .NET to persist task output to durable storage.</span></span>

### <a name="use-the-batch-file-conventions-library-for-net"></a><span data-ttu-id="4dc11-160">Utiliser la bibliothèque Conventions de nommage des fichiers Batch pour .NET</span><span class="sxs-lookup"><span data-stu-id="4dc11-160">Use the Batch File Conventions library for .NET</span></span>

<span data-ttu-id="4dc11-161">Les développeurs qui élaborent des solutions Batch avec C# et .NET peuvent utiliser la [bibliothèque Conventions de nommage des fichiers pour .NET][nuget_package] pour conserver les données des tâches dans un compte de Stockage Azure, conformément aux [conventions standard de nommage des fichiers Batch](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions).</span><span class="sxs-lookup"><span data-stu-id="4dc11-161">Developers building Batch solutions with C# and .NET can use the [File Conventions library for .NET][nuget_package] to persist task data to an Azure Storage account, according to the [Batch File Conventions standard](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions).</span></span> <span data-ttu-id="4dc11-162">La bibliothèque Conventions de nommage des fichiers gère le déplacement des fichiers de sortie vers le Stockage Azure, ainsi que le nommage des conteneurs et objets blob de destination d’une façon bien connue.</span><span class="sxs-lookup"><span data-stu-id="4dc11-162">The File Conventions library handles moving output files to Azure Storage and naming destination containers and blobs in a well-known way.</span></span>

<span data-ttu-id="4dc11-163">La bibliothèque Conventions de nommage des fichiers prend en charge l’interrogation des fichiers de sortie par ID ou usage, ce qui permet de les localiser facilement sans avoir besoin d’URI de fichiers complets.</span><span class="sxs-lookup"><span data-stu-id="4dc11-163">The File Conventions library supports querying output files by either ID or purpose, making it easy to locate them without needing the complete file URIs.</span></span> 

<span data-ttu-id="4dc11-164">Conservez la sortie des tâches à l’aide de la bibliothèque Conventions de nommage des fichiers Batch pour .NET dans les cas suivants :</span><span class="sxs-lookup"><span data-stu-id="4dc11-164">Use the Batch File Conventions library for .NET to persist task output when:</span></span>

- <span data-ttu-id="4dc11-165">Vous voulez diffuser les données vers le Stockage Azure alors que la tâche est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="4dc11-165">You want to stream data to Azure Storage while the task is still running.</span></span>
- <span data-ttu-id="4dc11-166">Vous voulez conserver les données de pools créés avec la configuration de service cloud ou la configuration de machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="4dc11-166">You want to persist data from pools created with either the cloud service configuration or the virtual machine configuration.</span></span>
- <span data-ttu-id="4dc11-167">Votre application cliente ou d’autres tâches du travail doivent localiser et télécharger les fichiers de sortie des tâches par ID ou usage.</span><span class="sxs-lookup"><span data-stu-id="4dc11-167">Your client application or other tasks in the job needs to locate and download task output files by ID or by purpose.</span></span> 
- <span data-ttu-id="4dc11-168">Vous voulez procéder à la création de points de contrôle ou effectuer un chargement anticipé des résultats initiaux.</span><span class="sxs-lookup"><span data-stu-id="4dc11-168">You want to perform check-pointing or early upload of initial results.</span></span>
- <span data-ttu-id="4dc11-169">Vous voulez consulter la sortie des tâches dans le portail Azure.</span><span class="sxs-lookup"><span data-stu-id="4dc11-169">You want to view task output in the Azure portal.</span></span>

<span data-ttu-id="4dc11-170">Pour plus d’informations sur la conservation de la sortie des tâches avec la bibliothèque Conventions de nommage des fichiers pour .NET, consultez [Conserver les données des travaux et des tâches dans le Stockage Azure avec la bibliothèque Conventions de nommage des fichiers Batch pour .NET](batch-task-output-file-conventions.md).</span><span class="sxs-lookup"><span data-stu-id="4dc11-170">For more information on persisting task output with the File Conventions library for .NET, see [Persist job and task data to Azure Storage with the Batch File Conventions library for .NET to persist ](batch-task-output-file-conventions.md).</span></span> <span data-ttu-id="4dc11-171">Consultez aussi l’exemple de projet [PersistOutputs][github_persistoutputs] sur GitHub, qui montre comment utiliser la bibliothèque Conventions de nommage des fichiers pour .NET pour conserver la sortie des tâches dans un stockage durable.</span><span class="sxs-lookup"><span data-stu-id="4dc11-171">Also see the [PersistOutputs][github_persistoutputs] sample project on GitHub, which demonstrates how to use the File Conventions library for .NET to persist task output to durable storage.</span></span>

<span data-ttu-id="4dc11-172">L’exemple de projet [PersistOutputs][github_persistoutputs] sur GitHub montre comment utiliser la bibliothèque cliente Batch pour .NET pour conserver la sortie des tâches dans un stockage durable.</span><span class="sxs-lookup"><span data-stu-id="4dc11-172">The [PersistOutputs][github_persistoutputs] sample project on GitHub demonstrates how to use the Batch client library for .NET to persist task output to durable storage.</span></span>

### <a name="implement-the-batch-file-conventions-standard"></a><span data-ttu-id="4dc11-173">Implémenter les conventions standard de nommage des fichiers Batch</span><span class="sxs-lookup"><span data-stu-id="4dc11-173">Implement the Batch File Conventions standard</span></span>

<span data-ttu-id="4dc11-174">Si vous utilisez un autre langage que .NET, vous pouvez implémenter les [conventions standard de nommage des fichiers](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions) dans votre propre application.</span><span class="sxs-lookup"><span data-stu-id="4dc11-174">If you are using a language other than .NET, you can implement the [Batch File Conventions standard](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions) in your own application.</span></span> 

<span data-ttu-id="4dc11-175">Vous pouvez souhaiter implémenter les conventions standard de nommage des fichiers par vous-même si vous voulez un schéma de nommage qui a fait ses preuves ou si vous voulez afficher la sortie des tâches dans le portail Azure.</span><span class="sxs-lookup"><span data-stu-id="4dc11-175">You may want to implement the File Conventions naming standard yourself when you want a proven naming scheme, or when you want to view task output in the Azure portal.</span></span>

### <a name="implement-a-custom-file-movement-solution"></a><span data-ttu-id="4dc11-176">Implémenter une solution de déplacement de fichiers personnalisée</span><span class="sxs-lookup"><span data-stu-id="4dc11-176">Implement a custom file movement solution</span></span>

<span data-ttu-id="4dc11-177">Vous pouvez aussi implémenter votre propre solution de déplacement de fichiers complète.</span><span class="sxs-lookup"><span data-stu-id="4dc11-177">You can also implement your own complete file movement solution.</span></span> <span data-ttu-id="4dc11-178">Suivez cette approche dans les cas suivants :</span><span class="sxs-lookup"><span data-stu-id="4dc11-178">Use this approach when:</span></span>

- <span data-ttu-id="4dc11-179">Vous voulez conserver les données des tâches dans un magasin de données différent du Stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="4dc11-179">You want to persist task data to a data store other than Azure Storage.</span></span> <span data-ttu-id="4dc11-180">Pour charger les fichiers dans un magasin de données comme Azure SQL ou Azure DataLake, vous pouvez créer un script personnalisé ou un exécutable à charger à cet emplacement.</span><span class="sxs-lookup"><span data-stu-id="4dc11-180">To upload files to a data store like Azure SQL or Azure DataLake, you can create a custom script or executable to upload to that location.</span></span> <span data-ttu-id="4dc11-181">Vous pouvez ensuite l’appeler sur la ligne de commande après avoir exécuté votre exécutable principal.</span><span class="sxs-lookup"><span data-stu-id="4dc11-181">You can then call it on the command line after running your primary executable.</span></span> <span data-ttu-id="4dc11-182">Par exemple, sur un nœud Windows, vous pouvez appeler ces deux commandes : `doMyWork.exe && uploadMyFilesToSql.exe`</span><span class="sxs-lookup"><span data-stu-id="4dc11-182">For example, on a Windows node, you might call these two commands: `doMyWork.exe && uploadMyFilesToSql.exe`</span></span>
- <span data-ttu-id="4dc11-183">Vous voulez procéder à la création de points de contrôle ou effectuer un chargement anticipé des résultats initiaux.</span><span class="sxs-lookup"><span data-stu-id="4dc11-183">You want to perform check-pointing or early upload of initial results.</span></span>
- <span data-ttu-id="4dc11-184">Vous voulez conserver un contrôle précis de la gestion des erreurs.</span><span class="sxs-lookup"><span data-stu-id="4dc11-184">You want to maintain granular control over error handling.</span></span> <span data-ttu-id="4dc11-185">Par exemple, vous pouvez souhaiter implémenter votre propre solution si vous voulez utiliser des actions de dépendance de tâches pour effectuer certaines actions de chargement en fonction de codes de sortie de tâche spécifiques.</span><span class="sxs-lookup"><span data-stu-id="4dc11-185">For example, you may want to implement your own solution if you want to use task dependency actions to take certain upload actions based on specific task exit codes.</span></span> <span data-ttu-id="4dc11-186">Pour plus d’informations sur les actions de dépendance de tâches, consultez [Créer des dépendances de tâches pour exécuter des tâches qui dépendent d’autres tâches](batch-task-dependencies.md).</span><span class="sxs-lookup"><span data-stu-id="4dc11-186">For more information on task dependency actions, see [Create task dependencies to run tasks that depend on other tasks](batch-task-dependencies.md).</span></span> 

## <a name="next-steps"></a><span data-ttu-id="4dc11-187">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="4dc11-187">Next steps</span></span>

- <span data-ttu-id="4dc11-188">Explorez l’utilisation des nouvelles fonctionnalités de l’API du service Batch pour conserver les données des tâches dans [Conserver les données des tâches dans le Stockage Azure à l’aide de l’API du service Batch](batch-task-output-files.md).</span><span class="sxs-lookup"><span data-stu-id="4dc11-188">Explore using the new features in the Batch service API to persist task data in [Persist task data to Azure Storage with the Batch service API](batch-task-output-files.md).</span></span>
- <span data-ttu-id="4dc11-189">Découvrez comment utiliser la bibliothèque Conventions de nommage des fichiers pour .NET dans [Conserver les données des travaux et des tâches dans le Stockage Azure avec la bibliothèque Conventions de nommage des fichiers Batch pour .NET](batch-task-output-file-conventions.md).</span><span class="sxs-lookup"><span data-stu-id="4dc11-189">Learn about using the Batch File Conventions library for .NET in [Persist job and task data to Azure Storage with the Batch File Conventions library for .NET to persist ](batch-task-output-file-conventions.md).</span></span>
- <span data-ttu-id="4dc11-190">Consultez l’exemple de projet [PersistOutputs][github_persistoutputs] sur GitHub, qui montre comment utiliser la bibliothèque du client Batch pour .NET et la bibliothèque Conventions de nommage des fichiers pour .NET pour conserver la sortie des tâches dans un stockage durable.</span><span class="sxs-lookup"><span data-stu-id="4dc11-190">See the [PersistOutputs][github_persistoutputs] sample project on GitHub, which demonstrates how to use both the Batch client library for .NET and the File Conventions library for .NET to persist task output to durable storage.</span></span>

[nuget_package]: https://www.nuget.org/packages/Microsoft.Azure.Batch.Conventions.Files
[portal]: https://portal.azure.com
[storage_explorer]: http://storageexplorer.com/
