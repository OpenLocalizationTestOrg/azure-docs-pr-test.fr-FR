---
title: "pools d’aaaProvision Azure Batch à partir d’images personnalisées | Documents Microsoft"
description: "Vous pouvez créer un lot de calcul pool à partir d’une image personnalisée de tooprovision les nœuds qui contiennent des logiciels de hello et les données dont vous avez besoin pour votre application. Images personnalisées sont un moyen efficace tooconfigure toorun de nœuds de calcul vos charges de travail de traitement par lots."
services: batch
author: tamram
manager: timlt
ms.service: batch
ms.topic: article
ms.date: 08/07/2017
ms.author: tamram
ms.openlocfilehash: 5cb698ee90f7d3ec9ffe69fa4dc602132c3f7569
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2017
---
# <a name="use-a-custom-image-toocreate-a-pool-of-virtual-machines"></a><span data-ttu-id="97f33-104">Utiliser une image personnalisée de toocreate un pool de machines virtuelles</span><span class="sxs-lookup"><span data-stu-id="97f33-104">Use a custom image toocreate a pool of virtual machines</span></span>

<span data-ttu-id="97f33-105">Lorsque vous créez un pool de machines virtuelles dans Azure Batch, vous spécifiez une image de machine virtuelle (VM) qui fournit un système d’exploitation de hello pour chaque nœud de calcul dans le pool de hello.</span><span class="sxs-lookup"><span data-stu-id="97f33-105">When you create a pool of virtual machines in Azure Batch, you specify a virtual machine (VM) image that provides hello operating system for each compute node in hello pool.</span></span> <span data-ttu-id="97f33-106">Vous pouvez créer un pool de machines virtuelles à partir d’une image de la Place de marché ou en fournissant une image de disque dur virtuel (VHD) personnalisée que vous avez préparée.</span><span class="sxs-lookup"><span data-stu-id="97f33-106">You can create a pool of virtual machines either by using an Azure Marketplace image, or by providing a custom VHD image that you have prepared.</span></span> <span data-ttu-id="97f33-107">Lorsque vous fournissez une image personnalisée, vous pouvez contrôler la configuration de système d’exploitation de hello au moment de hello chaque nœud de calcul est configurée.</span><span class="sxs-lookup"><span data-stu-id="97f33-107">When you provide a custom image, you have control over how hello operating system is configured at hello time that each compute node is provisioned.</span></span> <span data-ttu-id="97f33-108">Votre image personnalisée peut également inclure des applications et le nœud de calcul des données de référence qui sont disponibles sur hello dès qu’elle est configurée.</span><span class="sxs-lookup"><span data-stu-id="97f33-108">Your custom image can also include applications and reference data that are available on hello compute node as soon as it is provisioned.</span></span>

<span data-ttu-id="97f33-109">À l’aide d’une image personnalisée peut gagner du temps lors de l’obtention des nœuds de calcul de votre pool prêt toorun votre charge de travail de traitement par lots.</span><span class="sxs-lookup"><span data-stu-id="97f33-109">Using a custom image can save you time in getting your pool's compute nodes ready toorun your Batch workload.</span></span> <span data-ttu-id="97f33-110">Même si vous pouvez utiliser une image de la Place de marché et installer les logiciels sur chaque nœud de calcul une fois le nœud approvisionné, cette approche peut être moins efficace qu’utiliser une image personnalisée.</span><span class="sxs-lookup"><span data-stu-id="97f33-110">While you can always use an Azure Marketplace image and install software on each compute node after it has been provisioned, this approach may be less efficient than using a custom image.</span></span> 

<span data-ttu-id="97f33-111">Certaines des raisons toouse une image personnalisée qui est configurée pour votre scénario incluent devoir :</span><span class="sxs-lookup"><span data-stu-id="97f33-111">Some reasons toouse a custom image that is configured for your scenario include needing to:</span></span>

- <span data-ttu-id="97f33-112">**Configurer le système d’exploitation de hello (système d’exploitation)** configuration spéciale du système d’exploitation de hello peut être effectuée sur une image personnalisée de hello.</span><span class="sxs-lookup"><span data-stu-id="97f33-112">**Configure hello operating system (OS)** Any special configuration of hello operating system can be performed on hello custom image.</span></span> 
- <span data-ttu-id="97f33-113">**Installer des applications volumineuses** :</span><span class="sxs-lookup"><span data-stu-id="97f33-113">**Install large applications.**</span></span> <span data-ttu-id="97f33-114">il est plus judicieux d’installer des applications sur une image personnalisée que de les installer sur chaque nœud de calcul après leur approvisionnement.</span><span class="sxs-lookup"><span data-stu-id="97f33-114">Installing applications on a custom image is more efficient than installing them on each compute node after it is provisioned.</span></span>
- <span data-ttu-id="97f33-115">**Copier des quantités importantes de données** :</span><span class="sxs-lookup"><span data-stu-id="97f33-115">**Copy significant amounts of data.**</span></span> <span data-ttu-id="97f33-116">Si les données de salutation sont image personnalisée de toohello copié, il doit uniquement toobe copié qu’une seule fois, au lieu de nœud de calcul tooeach, gagner du temps et bande passante.</span><span class="sxs-lookup"><span data-stu-id="97f33-116">If hello data is copied toohello custom image, it only needs toobe copied once, rather than tooeach compute node, saving time and bandwidth.</span></span>
- <span data-ttu-id="97f33-117">**Redémarrez hello machine virtuelle pendant le processus d’installation de hello.**</span><span class="sxs-lookup"><span data-stu-id="97f33-117">**Reboot hello VM during hello setup process.**</span></span> <span data-ttu-id="97f33-118">Hello redémarrage machine virtuelle peut prendre du temps, surtout si vous avez un nombre de nœuds de calcul.</span><span class="sxs-lookup"><span data-stu-id="97f33-118">Rebooting hello VM can be a time-consuming process, especially if you have a number of compute nodes.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="97f33-119">Composants requis</span><span class="sxs-lookup"><span data-stu-id="97f33-119">Prerequisites</span></span>

- <span data-ttu-id="97f33-120">**Un compte de traitement par lots créé avec le mode d’allocation de pool hello abonnement utilisateur.**</span><span class="sxs-lookup"><span data-stu-id="97f33-120">**A Batch account created with hello User Subscription pool allocation mode.**</span></span> <span data-ttu-id="97f33-121">toouse un pools de Machine virtuelle tooprovision image personnalisée, créer votre compte Batch avec hello abonnement utilisateur [mode d’allocation de pool](batch-api-basics.md#pool-allocation-mode).</span><span class="sxs-lookup"><span data-stu-id="97f33-121">toouse a custom image tooprovision Virtual Machine pools, create your Batch account with hello User Subscription [pool allocation mode](batch-api-basics.md#pool-allocation-mode).</span></span> <span data-ttu-id="97f33-122">Avec ce mode, les pools de lot sont allouées en abonnement hello dans laquelle réside hello compte.</span><span class="sxs-lookup"><span data-stu-id="97f33-122">With this mode, Batch pools are allocated into hello subscription where hello account resides.</span></span> <span data-ttu-id="97f33-123">Consultez hello [compte](batch-api-basics.md#account) section [parallèles à grande échelle de développer des solutions avec le traitement par lots de calcul](batch-api-basics.md) pour plus d’informations sur la configuration de mode d’allocation de pool hello lorsque vous créez un compte Batch.</span><span class="sxs-lookup"><span data-stu-id="97f33-123">See hello [Account](batch-api-basics.md#account) section in [Develop large-scale parallel compute solutions with Batch](batch-api-basics.md) for information on setting hello pool allocation mode when you create a Batch account.</span></span>

- <span data-ttu-id="97f33-124">**Un compte de stockage Azure.**</span><span class="sxs-lookup"><span data-stu-id="97f33-124">**An Azure Storage account.**</span></span> <span data-ttu-id="97f33-125">toocreate un pool d’ordinateurs virtuels à l’aide d’une image personnalisée, vous avez besoin d’un compte de stockage Azure standard, à usage général Bonjour même abonnement et région.</span><span class="sxs-lookup"><span data-stu-id="97f33-125">toocreate a pool of virtual machines using a custom image, you need a standard, general-purpose Azure Storage account in hello same subscription and region.</span></span> <span data-ttu-id="97f33-126">Si vous créez une image personnalisée à partir d’une machine virtuelle Azure, vous allez copier compte de stockage hello image toohello où se trouve le disque du système d’exploitation de la machine virtuelle hello, et vous n’aurez pas toocreate un compte de stockage distinct.</span><span class="sxs-lookup"><span data-stu-id="97f33-126">If you create a custom image from an Azure VM, then you will copy hello image toohello storage account where hello VM's OS disk resides, and you won't need toocreate a separate storage account.</span></span> 
    
## <a name="prepare-a-custom-image"></a><span data-ttu-id="97f33-127">Préparer une image personnalisée</span><span class="sxs-lookup"><span data-stu-id="97f33-127">Prepare a custom image</span></span>

<span data-ttu-id="97f33-128">tooprepare une image personnalisée pour une utilisation avec le traitement par lots, vous devez généraliser une installation existante de Windows ou Linux.</span><span class="sxs-lookup"><span data-stu-id="97f33-128">tooprepare a custom image for use with Batch, you must generalize an existing installation of Linux or Windows.</span></span> <span data-ttu-id="97f33-129">La généralisation d’une installation de système d’exploitation supprime les informations spécifiques à la machine.</span><span class="sxs-lookup"><span data-stu-id="97f33-129">Generalizing an operating system installation removes machine-specific information.</span></span> <span data-ttu-id="97f33-130">résultat de Hello est une image qui peut être installée sur d’autres ordinateurs ou les machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="97f33-130">hello result is an image that can be installed on other computers or VMs.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="97f33-131">Traitement par lots ne prend pas en charge l’utilisation d’Azure géré images tooprovision un pool.</span><span class="sxs-lookup"><span data-stu-id="97f33-131">Batch does not currently support using Azure managed images tooprovision a pool.</span></span> <span data-ttu-id="97f33-132">image personnalisée de Hello, vous utilisez tooprovision qu'un pool doit être stocké dans le stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="97f33-132">hello custom image you use tooprovision a pool must be stored in Azure Storage.</span></span> 
>
> <span data-ttu-id="97f33-133">Lorsque vous préparez votre image personnalisée, gardez Bonjour l’esprit les points suivants :</span><span class="sxs-lookup"><span data-stu-id="97f33-133">When preparing your custom image, keep in mind hello following points:</span></span>
> - <span data-ttu-id="97f33-134">Vérifiez cette image de système d’exploitation à base de hello, vous utilisez tooprovision vos pools de lot est n’a pas un préalable installé des extensions Azure, comme extension de Script personnalisé hello.</span><span class="sxs-lookup"><span data-stu-id="97f33-134">Ensure that hello base OS image you use tooprovision your Batch pools does not have any pre-installed Azure extensions, such as hello Custom Script extension.</span></span> <span data-ttu-id="97f33-135">Si l’image de hello contient une extension préinstallée, Azure peut rencontrer des problèmes de la déployer hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="97f33-135">If hello image contains a pre-installed extension, Azure may encounter problems deploying hello VM.</span></span>
> - <span data-ttu-id="97f33-136">Assurez-vous que cette image du système d’exploitation de base de hello que vous fournir utilise hello lecteur temp de la valeur par défaut, comme hello agent de nœud de lot actuellement attend lecteur temp de hello par défaut.</span><span class="sxs-lookup"><span data-stu-id="97f33-136">Ensure that hello base OS image you provide uses hello default temp drive, as hello Batch node agent currently expects hello default temp drive.</span></span>
>
>

<span data-ttu-id="97f33-137">Vous pouvez utiliser une image Windows ou Linux préparée comme image personnalisée.</span><span class="sxs-lookup"><span data-stu-id="97f33-137">You can use any existing prepared Windows or Linux image as a custom image.</span></span> <span data-ttu-id="97f33-138">Par exemple, si vous souhaitez toouse une image locale, puis téléchargez le compte de stockage Azure hello image tooan qui se trouve dans hello même abonnement et région que votre compte de traitement par lots à l’aide de [AzCopy](../storage/storage-use-azcopy.md) ou un autre outil de téléchargement.</span><span class="sxs-lookup"><span data-stu-id="97f33-138">For example, if you wish toouse a local image, then upload hello image tooan Azure Storage account that is in hello same subscription and region as your Batch account using [AzCopy](../storage/storage-use-azcopy.md) or another upload tool.</span></span>

<span data-ttu-id="97f33-139">Vous pouvez aussi préparer une image personnalisée à partir d’une machine virtuelle Azure nouvelle ou existante.</span><span class="sxs-lookup"><span data-stu-id="97f33-139">You can also prepare a custom image from a new or existing Azure VM.</span></span> <span data-ttu-id="97f33-140">Si vous créez une machine virtuelle, vous pouvez utiliser une image Azure Marketplace en tant qu’image de base hello pour votre image personnalisée et puis de le personnaliser.</span><span class="sxs-lookup"><span data-stu-id="97f33-140">If you are creating a new VM, you can use an Azure Marketplace image as hello base image for your custom image and then customize it.</span></span> <span data-ttu-id="97f33-141">image de base toocustomize hello, créez une machine virtuelle Azure et ajoutez vos applications ou les données tooit.</span><span class="sxs-lookup"><span data-stu-id="97f33-141">toocustomize hello base image, create an Azure VM and add your applications or data tooit.</span></span> <span data-ttu-id="97f33-142">Généraliser tooserve de machine virtuelle hello en tant que votre image personnalisée, puis enregistrez-le tooAzure stockage.</span><span class="sxs-lookup"><span data-stu-id="97f33-142">Then generalize hello VM tooserve as your custom image and save it tooAzure Storage.</span></span> 

<span data-ttu-id="97f33-143">tooprepare une image personnalisée à partir d’une machine virtuelle Azure, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="97f33-143">tooprepare a custom image from an Azure VM, follow these steps:</span></span>

1. <span data-ttu-id="97f33-144">Créez une machine virtuelle Azure **non gérée** à partir d’une image de la Place de marché Azure.</span><span class="sxs-lookup"><span data-stu-id="97f33-144">Create an **unmanaged** Azure VM from an Azure Marketplace image.</span></span> <span data-ttu-id="97f33-145">La Place de marché Azure propose des images pour [Windows](../virtual-machines/windows/quick-create-portal.md) et [Linux](../virtual-machines/linux/quick-create-portal.md).</span><span class="sxs-lookup"><span data-stu-id="97f33-145">Azure Marketplace includes images for both [Windows](../virtual-machines/windows/quick-create-portal.md) and [Linux](../virtual-machines/linux/quick-create-portal.md).</span></span>
    
    <span data-ttu-id="97f33-146">À l’étape 3 de hello les processus de création de machine virtuelle, assurez-vous que vous sélectionnez **non** pour **stockage : utiliser des disques gérés** option.</span><span class="sxs-lookup"><span data-stu-id="97f33-146">On step 3 of hello VM creation process, make sure that you select **No** for **Storage: Use Managed Disks** option.</span></span> <span data-ttu-id="97f33-147">Notez également du nom de compte de stockage hello pour le disque du système d’exploitation de la machine virtuelle de hello, que ce compte de stockage est également où Azure enregistre votre image personnalisée :</span><span class="sxs-lookup"><span data-stu-id="97f33-147">Also take note of hello storage account name for hello VM's OS disk, as this storage account is also where Azure will save your custom image:</span></span>

    ![Créer une machine virtuelle non managé et le nom de compte de stockage hello Remarque](media/batch-custom-images/vm-create-storage.png)
 
2. <span data-ttu-id="97f33-149">Effectuer hello du processus de création de votre machine virtuelle, puis attendez qu’elle toobe allouée par Azure.</span><span class="sxs-lookup"><span data-stu-id="97f33-149">Complete hello process of creating your VM, and wait for it toobe allocated by Azure.</span></span> <span data-ttu-id="97f33-150">Voici une image qui montre une machine virtuelle Bonjour Azure portal Bonjour état d’exécution :</span><span class="sxs-lookup"><span data-stu-id="97f33-150">Here's an image that shows a VM in hello Azure portal in hello running state:</span></span>

    ![Créer une machine virtuelle à partir d’une image de la Place de marché](media/batch-custom-images/vm-status-running.png)

3. <span data-ttu-id="97f33-152">Une fois hello machine virtuelle est en cours d’exécution, vous connecter tooit via le protocole RDP (pour Windows) ou de SSH (pour Linux).</span><span class="sxs-lookup"><span data-stu-id="97f33-152">Once hello VM is running, connect tooit via RDP (for Windows) or SSH (for Linux).</span></span> <span data-ttu-id="97f33-153">Installer des logiciels nécessaires ou copier les données souhaitées et puis généraliser hello machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="97f33-153">Install any necessary software or copy desired data, and then generalize hello VM.</span></span> <span data-ttu-id="97f33-154">Suivez les étapes de hello décrites dans [Generalize hello VM](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized.md#generalize-the-vm).</span><span class="sxs-lookup"><span data-stu-id="97f33-154">Follow hello steps described in [Generalize hello VM](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized.md#generalize-the-vm).</span></span> 
   
4. <span data-ttu-id="97f33-155">Suivez les étapes de hello trop[connecter tooAzure PowerShell](../virtual-machines/windows/sa-copy-generalized.md#log-in-to-azure-powershell).</span><span class="sxs-lookup"><span data-stu-id="97f33-155">Follow hello steps too[Log in tooAzure PowerShell](../virtual-machines/windows/sa-copy-generalized.md#log-in-to-azure-powershell).</span></span> <span data-ttu-id="97f33-156">tooinstall Azure PowerShell, consultez [vue d’ensemble de Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview?view=azurermps-4.2.0).</span><span class="sxs-lookup"><span data-stu-id="97f33-156">tooinstall Azure PowerShell, see [Overview of Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview?view=azurermps-4.2.0).</span></span> 

5. <span data-ttu-id="97f33-157">Ensuite, suivez les étapes de hello trop[Deallocate hello VM et ensemble hello état toogeneralized](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized#deallocate-the-vm-and-set-the-state-to-generalized).</span><span class="sxs-lookup"><span data-stu-id="97f33-157">Next, follow hello steps too[Deallocate hello VM and set hello state toogeneralized](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized#deallocate-the-vm-and-set-the-state-to-generalized).</span></span> 

    <span data-ttu-id="97f33-158">Bonjour portail Azure, notez que hello que machine virtuelle est libérée :</span><span class="sxs-lookup"><span data-stu-id="97f33-158">In hello Azure portal, notice that hello VM is deallocated:</span></span>

    ![Vérifiez que hello que machine virtuelle est désallouée.](media/batch-custom-images/vm-status-deallocated.png)

6.  <span data-ttu-id="97f33-160">Créez et enregistrez hello VM image tooAzure stockage à l’aide de hello [Save-AzureRmVMImage](https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvmimage) applet de commande PowerShell.</span><span class="sxs-lookup"><span data-stu-id="97f33-160">Create and save hello VM image tooAzure Storage using hello [Save-AzureRmVMImage](https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvmimage) PowerShell cmdlet.</span></span> <span data-ttu-id="97f33-161">Suivez les instructions de hello décrites dans [créer une image hello](../virtual-machines/windows/sa-copy-generalized.md#create-the-image).</span><span class="sxs-lookup"><span data-stu-id="97f33-161">Follow hello instructions described in [Create hello image](../virtual-machines/windows/sa-copy-generalized.md#create-the-image).</span></span>
    
    <span data-ttu-id="97f33-162">image de machine virtuelle Hello est enregistré le compte de stockage Azure toohello créé en hello machine virtuelle, comme indiqué à l’étape 1 de cette procédure.</span><span class="sxs-lookup"><span data-stu-id="97f33-162">hello VM image is saved toohello Azure Storage account created when hello VM was created, as shown in step 1 of this procedure.</span></span> <span data-ttu-id="97f33-163">applet de commande Hello Save-AzureRmVMImage enregistre hello image toohello **système** conteneur dans ce compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="97f33-163">hello Save-AzureRmVMImage cmdlet saves hello image toohello **system** container in that storage account.</span></span> <span data-ttu-id="97f33-164">Hello `-DestinationContainername` paramètre désigne un répertoire virtuel d’hello **système** conteneur.</span><span class="sxs-lookup"><span data-stu-id="97f33-164">hello `-DestinationContainername` parameter names a virtual directory within hello **system** container.</span></span> <span data-ttu-id="97f33-165">Hello `-VHDNamePrefix` paramètre spécifie un préfixe de nom d’objet blob hello.</span><span class="sxs-lookup"><span data-stu-id="97f33-165">hello `-VHDNamePrefix` parameter specifies a prefix for hello blob name.</span></span> <span data-ttu-id="97f33-166">Ce préfixe est le nom d’objet blob toohello ajoutant au début d’un trait d’union.</span><span class="sxs-lookup"><span data-stu-id="97f33-166">This prefix is prepended toohello blob name with a hyphen.</span></span> 

    <span data-ttu-id="97f33-167">Par exemple, supposons que vous appelez Save-AzureRmVMImage avec hello paramètres suivants :</span><span class="sxs-lookup"><span data-stu-id="97f33-167">For example, suppose you call Save-AzureRmVMImage with hello following parameters:</span></span>  

        Save-AzureRmVMImage -ResourceGroupName sample-resource-group -Name vm-custom-image -DestinationContainerName batchimages -VHDNamePrefix custom -Path C:\Temp\Images\vm-custom-image.json

    <span data-ttu-id="97f33-168">l’image obtenue Hello est enregistré toohello emplacement et nom d’objet blob indiqué ici :</span><span class="sxs-lookup"><span data-stu-id="97f33-168">hello resulting image is saved toohello location and blob name shown here:</span></span>

    ![Emplacement du VHD enregistré dans le conteneur système](media/batch-custom-images/vhd-in-vm-storage-account.png)

    > [!NOTE]
    > <span data-ttu-id="97f33-170">Une machine virtuelle non gérée Azure crée plusieurs comptes de stockage à des différentes fins.</span><span class="sxs-lookup"><span data-stu-id="97f33-170">An Azure unmanaged VM creates several storage accounts for different purposes.</span></span> <span data-ttu-id="97f33-171">Si vous n’avez pas noté nom hello hello du conteneur de stockage pour le disque du système d’exploitation de hello lorsque hello machine virtuelle a été créé, puis rechercher que du compte de stockage de hello associé contient hello **système** conteneur.</span><span class="sxs-lookup"><span data-stu-id="97f33-171">If you did not note hello name of hello storage container for hello OS disk when hello VM was created, then find hello associated storage account that contains hello **system** container.</span></span> <span data-ttu-id="97f33-172">Naviguer dans hello **système** conteneur toofind hello personnalisée à l’aide de valeurs hello spécifiées pour hello **Save-AzureRmVMImage** commande.</span><span class="sxs-lookup"><span data-stu-id="97f33-172">Navigate through hello **system** container toofind hello custom image using hello values you specified for hello **Save-AzureRmVMImage** command.</span></span>

## <a name="create-a-pool-from-a-custom-image-in-hello-portal"></a><span data-ttu-id="97f33-173">Créer un pool à partir d’une image personnalisée dans le portail de hello</span><span class="sxs-lookup"><span data-stu-id="97f33-173">Create a pool from a custom image in hello portal</span></span>

<span data-ttu-id="97f33-174">Une fois que vous avez enregistré votre image personnalisée et que vous connaissez son emplacement, vous pouvez créer un pool Batch à partir de cette image.</span><span class="sxs-lookup"><span data-stu-id="97f33-174">Once you have saved your custom image and you know its location, you can create a Batch pool from that image.</span></span> <span data-ttu-id="97f33-175">Suivez ces étapes de toocreate un pool de hello portail Azure :</span><span class="sxs-lookup"><span data-stu-id="97f33-175">Follow these steps toocreate a pool from hello Azure portal:</span></span>

1. <span data-ttu-id="97f33-176">Accédez à tooyour du compte Batch Bonjour portail Azure.</span><span class="sxs-lookup"><span data-stu-id="97f33-176">Navigate tooyour Batch account in hello Azure portal.</span></span> <span data-ttu-id="97f33-177">Ce compte doit être Bonjour même abonnement et région en tant que stockage de hello compte contenant personnalisée hello.</span><span class="sxs-lookup"><span data-stu-id="97f33-177">This account must be in hello same subscription and region as hello storage account containing hello custom image.</span></span> 
2. <span data-ttu-id="97f33-178">Bonjour **paramètres** fenêtre sur hello de gauche, sélectionnez hello **Pools** élément de menu.</span><span class="sxs-lookup"><span data-stu-id="97f33-178">In hello **Settings** window on hello left, select hello **Pools** menu item.</span></span>
3. <span data-ttu-id="97f33-179">Bonjour **Pools** fenêtre, sélectionnez hello **ajouter** commande.</span><span class="sxs-lookup"><span data-stu-id="97f33-179">In hello **Pools** window, select hello **Add** command.</span></span>
4. <span data-ttu-id="97f33-180">Sur hello **ajouter un Pool** fenêtre, sélectionnez **l’Image personnalisée (Linux/Windows)** de hello **le Type d’Image** liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="97f33-180">On hello **Add Pool** window, select **Custom Image (Linux/Windows)** from hello **Image Type** dropdown.</span></span> <span data-ttu-id="97f33-181">portail de Hello affiche hello **Image personnalisée** sélecteur.</span><span class="sxs-lookup"><span data-stu-id="97f33-181">hello portal displays hello **Custom Image** picker.</span></span> <span data-ttu-id="97f33-182">Accédez toohello compte de stockage où se trouve votre image personnalisée, et sélectionnez hello VHD souhaitée à partir du conteneur de hello.</span><span class="sxs-lookup"><span data-stu-id="97f33-182">Navigate toohello storage account where your custom image is located, and select hello desired VHD from hello container.</span></span> 
5. <span data-ttu-id="97f33-183">Sélectionnez hello correct **Publisher offre/référence (SKU)** pour votre disque dur virtuel personnalisé.</span><span class="sxs-lookup"><span data-stu-id="97f33-183">Select hello correct **Publisher/Offer/Sku** for your custom VHD.</span></span>
6. <span data-ttu-id="97f33-184">Spécifiez hello restant requis de paramètres, y compris hello **taille du nœud**, **dédiés nœuds cibles**, et **faible des nœuds de priorité**, ainsi que les paramètres facultatifs vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="97f33-184">Specify hello remaining required settings, including hello **Node size**, **Target dedicated nodes**, and **Low priority nodes**, as well as any desired optional settings.</span></span>

    <span data-ttu-id="97f33-185">Par exemple, pour une image personnalisée de Microsoft Windows Server Datacenter 2016, hello **ajouter un Pool** fenêtre s’affiche comme illustré ici :</span><span class="sxs-lookup"><span data-stu-id="97f33-185">For example, for a Microsoft Windows Server Datacenter 2016 custom image, hello **Add Pool** window appears as shown here:</span></span>

    ![Ajouter un pool à partir d’une image Windows personnalisée](media/batch-custom-images/add-pool-custom-image.png)
  
<span data-ttu-id="97f33-187">toocheck si un pool existant est basé sur une image personnalisée, consultez hello **système d’exploitation** propriété dans la section Résumé de ressource hello Hello **Pool** fenêtre.</span><span class="sxs-lookup"><span data-stu-id="97f33-187">toocheck whether an existing pool is based on a custom image, see hello **Operating System** property in hello resource summary section of hello **Pool** window.</span></span> <span data-ttu-id="97f33-188">Si le pool de hello a été créé à partir d’une image personnalisée, il est défini trop**Image de machine virtuelle personnalisée**.</span><span class="sxs-lookup"><span data-stu-id="97f33-188">If hello pool was created from a custom image, it is set too**Custom VM Image**.</span></span>

<span data-ttu-id="97f33-189">Tous les disques durs virtuels personnalisés associés à un pool sont affichés sur du pool hello **propriétés** fenêtre.</span><span class="sxs-lookup"><span data-stu-id="97f33-189">All custom VHDs associated with a pool are displayed on hello pool's **Properties** window.</span></span>
 
## <a name="next-steps"></a><span data-ttu-id="97f33-190">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="97f33-190">Next steps</span></span>

- <span data-ttu-id="97f33-191">Pour obtenir une présentation détaillée de Batch, consultez [Développer des solutions de calcul parallèles à grande échelle avec Batch](batch-api-basics.md).</span><span class="sxs-lookup"><span data-stu-id="97f33-191">For an in-depth overview of Batch, see [Develop large-scale parallel compute solutions with Batch](batch-api-basics.md).</span></span>
- <span data-ttu-id="97f33-192">Pour plus d’informations sur la création d’un compte de traitement par lots, consultez [créer un compte de traitement par lots avec hello Azure portal](batch-account-create-portal.md).</span><span class="sxs-lookup"><span data-stu-id="97f33-192">For information about creating a Batch account, see [Create a Batch account with hello Azure portal](batch-account-create-portal.md).</span></span>
