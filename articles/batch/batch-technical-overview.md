---
title: "Azure Batch exécute des solutions de calcul parallèles à grande échelle dans le cloud | Microsoft Docs"
description: "Découvrez l’utilisation d’Azure Batch pour les charges de travail HPC et parallèles à grande échelle"
services: batch
documentationcenter: 
author: tamram
manager: timlt
editor: 
ms.assetid: 93e37d44-7585-495e-8491-312ed584ab79
ms.service: batch
ms.workload: big-compute
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 05/05/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 3bda4859e7ce45f5f7b8df6167e6e9d2cedd5c62
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/11/2017
---
# <a name="run-intrinsically-parallel-workloads-with-batch"></a><span data-ttu-id="9b8d5-103">Exécuter des charges de travail intrinsèquement parallèles avec Batch</span><span class="sxs-lookup"><span data-stu-id="9b8d5-103">Run intrinsically parallel workloads with Batch</span></span>

<span data-ttu-id="9b8d5-104">Azure Batch est une plateforme qui permet d’exécuter efficacement des applications de calcul haute performance (HPC) en parallèle et à grande échelle dans le cloud.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-104">Azure Batch is a platform service for running large-scale parallel and high-performance computing (HPC) applications efficiently in the cloud.</span></span> <span data-ttu-id="9b8d5-105">Azure Batch planifie les travaux nécessitant une grande quantité de ressources système à exécuter sur une collection gérée de machines virtuelles. Il peut mettre automatiquement à l’échelle les ressources de calcul pour répondre aux besoins des tâches.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-105">Azure Batch schedules compute-intensive work to run on a managed collection of virtual machines, and can automatically scale compute resources to meet the needs of your jobs.</span></span>

<span data-ttu-id="9b8d5-106">Avec le Azure Batch, vous définissez facilement des ressources de calcul Azure pour exécuter vos applications en parallèle et à grande échelle.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-106">With Azure Batch, you can easily define Azure compute resources to execute your applications in parallel, and at scale.</span></span> <span data-ttu-id="9b8d5-107">Vous n’avez pas à créer, configurer et gérer manuellement un cluster HPC, des machines virtuelles individuelles, des réseaux virtuels ou une infrastructure complexe de planification des tâches et des travaux.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-107">There's no need to manually create, configure, and manage an HPC cluster, individual virtual machines, virtual networks, or a complex job and task scheduling infrastructure.</span></span> <span data-ttu-id="9b8d5-108">Azure Batch automatise ou simplifie ces tâches.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-108">Azure Batch automates or simplifies these tasks for you.</span></span>

## <a name="use-cases-for-batch"></a><span data-ttu-id="9b8d5-109">Exemples d’utilisation du service Batch</span><span class="sxs-lookup"><span data-stu-id="9b8d5-109">Use cases for Batch</span></span>
<span data-ttu-id="9b8d5-110">Batch est un service Azure géré qui est utilisé pour le *traitement par lots* ou *Batch Computing*, et qui exécute un grand nombre de tâches similaires afin d’obtenir les résultats souhaités.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-110">Batch is a managed Azure service that is used for *batch processing* or *batch computing*--running a large volume of similar tasks for a desired result.</span></span> <span data-ttu-id="9b8d5-111">Le traitement par lots est couramment utilisé dans les entreprises qui sont régulièrement amenées à traiter, transformer et analyser d’importants volumes de données.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-111">Batch computing is most commonly used by organizations that regularly process, transform, and analyze large volumes of data.</span></span>

<span data-ttu-id="9b8d5-112">Le service Batch fonctionne parfaitement avec les applications et charges de travail intrinsèquement parallèles (ou « massivement parallèles »).</span><span class="sxs-lookup"><span data-stu-id="9b8d5-112">Batch works well with intrinsically parallel (also known as "embarrassingly parallel") applications and workloads.</span></span> <span data-ttu-id="9b8d5-113">Les charges de travail intrinsèquement parallèles peuvent être facilement fractionnées en plusieurs tâches exécutées simultanément sur plusieurs ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-113">Intrinsically parallel workloads are those that are easily split into multiple tasks that perform work simultaneously on many computers.</span></span>

![Tâches parallèles][1]<br/>

<span data-ttu-id="9b8d5-115">Voici quelques exemples de charges de travail communément traitées à l’aide de cette technique :</span><span class="sxs-lookup"><span data-stu-id="9b8d5-115">Some examples of workloads that are commonly processed using this technique are:</span></span>

* <span data-ttu-id="9b8d5-116">Modélisation de risques financiers</span><span class="sxs-lookup"><span data-stu-id="9b8d5-116">Financial risk modeling</span></span>
* <span data-ttu-id="9b8d5-117">Analyse des données hydrologiques et météorologiques</span><span class="sxs-lookup"><span data-stu-id="9b8d5-117">Climate and hydrology data analysis</span></span>
* <span data-ttu-id="9b8d5-118">Rendu, analyse et traitement d’images</span><span class="sxs-lookup"><span data-stu-id="9b8d5-118">Image rendering, analysis, and processing</span></span>
* <span data-ttu-id="9b8d5-119">Encodage et transcodage multimédia</span><span class="sxs-lookup"><span data-stu-id="9b8d5-119">Media encoding and transcoding</span></span>
* <span data-ttu-id="9b8d5-120">Analyse de séquence génétique</span><span class="sxs-lookup"><span data-stu-id="9b8d5-120">Genetic sequence analysis</span></span>
* <span data-ttu-id="9b8d5-121">Analyse des contraintes en ingénierie</span><span class="sxs-lookup"><span data-stu-id="9b8d5-121">Engineering stress analysis</span></span>
* <span data-ttu-id="9b8d5-122">Test de logiciels</span><span class="sxs-lookup"><span data-stu-id="9b8d5-122">Software testing</span></span>

<span data-ttu-id="9b8d5-123">Batch peut également effectuer des calculs parallèles avec une opération de réduction à la fin, et des charges de travail HPC plus complexes telles que les applications [MPI (Interface de transfert de message)](batch-mpi.md) .</span><span class="sxs-lookup"><span data-stu-id="9b8d5-123">Batch can also perform parallel calculations with a reduce step at the end, and execute more complex HPC workloads such as [Message Passing Interface (MPI)](batch-mpi.md) applications.</span></span>

<span data-ttu-id="9b8d5-124">Pour obtenir une comparaison entre Batch et d’autres solutions HPC utilisées dans Azure, consultez la page [Solutions Batch et HPC](batch-hpc-solutions.md).</span><span class="sxs-lookup"><span data-stu-id="9b8d5-124">For a comparison between Batch and other HPC solution options in Azure, see [Batch and HPC solutions](batch-hpc-solutions.md).</span></span>

[!INCLUDE [batch-pricing-include](../../includes/batch-pricing-include.md)]

## <a name="scenario-scale-out-a-parallel-workload"></a><span data-ttu-id="9b8d5-125">Scénario : Montée en charge d’une charge de travail parallèle</span><span class="sxs-lookup"><span data-stu-id="9b8d5-125">Scenario: Scale out a parallel workload</span></span>
<span data-ttu-id="9b8d5-126">Une solution courante qui utilise les API Batch pour interagir avec le service Batch suppose une montée en charge de travaux intrinsèquement parallèles (par exemple, le rendu d’images pour les scènes 3D) sur un pool de nœuds de calcul.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-126">A common solution that uses the Batch APIs to interact with the Batch service involves scaling out intrinsically parallel work--such as the rendering of images for 3D scenes--on a pool of compute nodes.</span></span> <span data-ttu-id="9b8d5-127">Ce pool de nœuds de calcul peut être, par exemple, une « ferme de rendu » qui fournit des dizaines, des centaines voire des milliers de cœurs à votre travail de rendu.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-127">This pool of compute nodes can be your "render farm" that provides tens, hundreds, or even thousands of cores to your rendering job, for example.</span></span>

<span data-ttu-id="9b8d5-128">Le schéma suivant illustre un flux de travail Batch courant, dans lequel une application cliente ou un service hébergé utilise Batch pour exécuter une charge de travail parallèle.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-128">The following diagram shows a common Batch workflow, with a client application or hosted service using Batch to run a parallel workload.</span></span>

![Flux de travail de la solution Batch][2]

<span data-ttu-id="9b8d5-130">Dans ce scénario courant, votre application ou service traite une charge de travail de calcul dans Azure Batch en effectuant les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="9b8d5-130">In this common scenario, your application or service processes a computational workload in Azure Batch by performing the following steps:</span></span>

1. <span data-ttu-id="9b8d5-131">Chargement des **fichiers d’entrée** et de **l’application** qui traitera ces fichiers dans votre compte de stockage Azure.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-131">Upload the **input files** and the **application** that will process those files to your Azure Storage account.</span></span> <span data-ttu-id="9b8d5-132">Les fichiers d’entrée peuvent correspondre à des données que votre application va traiter (par exemple, des données de modélisation financière ou des fichiers vidéo à transcoder).</span><span class="sxs-lookup"><span data-stu-id="9b8d5-132">The input files can be any data that your application will process, such as financial modeling data, or video files to be transcoded.</span></span> <span data-ttu-id="9b8d5-133">Les fichiers d’application peuvent être n’importe quelle application pour traiter les données, telle qu’une application de rendu 3D ou un transcodeur multimédia.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-133">The application files can be any application that is used for processing the data, such as a 3D rendering application or media transcoder.</span></span>
2. <span data-ttu-id="9b8d5-134">Création d’un **pool** de nœuds de calcul dans votre compte Batch : il s’agit des machines virtuelles qui exécuteront les tâches.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-134">Create a Batch **pool** of compute nodes in your Batch account--these nodes are the virtual machines that will execute your tasks.</span></span> <span data-ttu-id="9b8d5-135">Vous devez spécifier des propriétés, telles que la [taille du nœud](../cloud-services/cloud-services-sizes-specs.md), le système d’exploitation et l’emplacement d’installation de l’application dans Stockage Azure lorsque les nœuds rejoignent le pool (c’est-à-dire l’application que vous avez chargée à l’étape 1).</span><span class="sxs-lookup"><span data-stu-id="9b8d5-135">You specify properties such as the [node size](../cloud-services/cloud-services-sizes-specs.md), their operating system, and the location in Azure Storage of the application to install when the nodes join the pool (the application that you uploaded in step #1).</span></span> <span data-ttu-id="9b8d5-136">Vous pouvez également configurer la [mise à l’échelle automatique](batch-automatic-scaling.md)du pool en réponse à la charge de travail que génèrent vos tâches.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-136">You can also configure the pool to [automatically scale](batch-automatic-scaling.md) in response to the workload that your tasks generate.</span></span> <span data-ttu-id="9b8d5-137">La mise à l’échelle automatique ajuste le nombre de nœuds de calcul dans le pool.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-137">Auto-scaling dynamically adjusts the number of compute nodes in the pool.</span></span>
3. <span data-ttu-id="9b8d5-138">Création d’un **travail** Batch pour exécuter la charge de travail sur le pool de nœuds de calcul.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-138">Create a Batch **job** to run the workload on the pool of compute nodes.</span></span> <span data-ttu-id="9b8d5-139">Lorsque vous créez un travail, vous devez l’associer à un pool Batch.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-139">When you create a job, you associate it with a Batch pool.</span></span>
4. <span data-ttu-id="9b8d5-140">Ajoutez des **tâches** au travail.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-140">Add **tasks** to the job.</span></span> <span data-ttu-id="9b8d5-141">Lorsque vous ajoutez des tâches à un travail, le service Batch planifie automatiquement l’exécution des tâches sur les nœuds de calcul du pool.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-141">When you add tasks to a job, the Batch service automatically schedules the tasks for execution on the compute nodes in the pool.</span></span> <span data-ttu-id="9b8d5-142">Chaque tâche utilise l’application que vous avez téléchargée pour traiter les fichiers d’entrée.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-142">Each task uses the application that you uploaded to process the input files.</span></span>
   
   * <span data-ttu-id="9b8d5-143">4a.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-143">4a.</span></span> <span data-ttu-id="9b8d5-144">Avant son exécution, la tâche peut charger les données (les fichiers d’entrée) qu’elle devra traiter dans le nœud de calcul auquel elle est affectée.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-144">Before a task executes, it can download the data (the input files) that it is to process to the compute node it is assigned to.</span></span> <span data-ttu-id="9b8d5-145">Si l’application n’a pas déjà été installée sur le nœud (voir l’étape 2), vous pouvez la télécharger à cet emplacement.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-145">If the application has not already been installed on the node (see step #2), it can be downloaded here instead.</span></span> <span data-ttu-id="9b8d5-146">Lorsque les téléchargements sont terminés, les tâches s’exécutent sur les nœuds qui leur sont attribués.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-146">When the downloads are complete, the tasks execute on their assigned nodes.</span></span>
5. <span data-ttu-id="9b8d5-147">Au cours de l’exécution des tâches, vous pouvez interroger le service Batch pour surveiller la progression du travail et des tâches associées.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-147">As the tasks run, you can query Batch to monitor the progress of the job and its tasks.</span></span> <span data-ttu-id="9b8d5-148">Votre application cliente ou le service communique avec le service Batch par le biais de HTTPS.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-148">Your client application or service communicates with the Batch service over HTTPS.</span></span> <span data-ttu-id="9b8d5-149">Étant donné que vous surveillez peut-être des milliers de tâches qui s’exécutent sur des milliers de nœuds de calcul, veillez à [interroger le service Batch efficacement](batch-efficient-list-queries.md).</span><span class="sxs-lookup"><span data-stu-id="9b8d5-149">Because you may be monitoring thousands of tasks running on thousands of compute nodes, be sure to [query the Batch service efficiently](batch-efficient-list-queries.md).</span></span>
6. <span data-ttu-id="9b8d5-150">Une fois les tâches exécutées, elles peuvent chargent leurs données de sortie dans Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-150">As the tasks complete, they can upload their result data to Azure Storage.</span></span> <span data-ttu-id="9b8d5-151">Vous pouvez également extraire des fichiers directement du système de fichiers ou d’un nœud de calcul.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-151">You can also retrieve files directly from the file system on a compute node.</span></span>
7. <span data-ttu-id="9b8d5-152">Lorsque votre analyse détecte la fin de l’exécution des tâches de votre travail, votre application cliente ou votre service peut télécharger les données de sortie afin de les traiter ou de les évaluer.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-152">When your monitoring detects that the tasks in your job have completed, your client application or service can download the output data for further processing or evaluation.</span></span>

<span data-ttu-id="9b8d5-153">N’oubliez pas qu’il ne s’agit ici que d’une des nombreuses façons d’utiliser Batch et que ce scénario décrit seulement quelques-unes des fonctionnalités disponibles.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-153">Keep in mind this is just one way to use Batch, and this scenario describes only a few of its available features.</span></span> <span data-ttu-id="9b8d5-154">Par exemple, vous pouvez exécuter [plusieurs tâches en parallèle](batch-parallel-node-tasks.md) sur chaque nœud de calcul et utiliser [les tâches de préparation et d’exécution de travaux](batch-job-prep-release.md) pour préparer les nœuds à l’exécution de vos travaux avant de les nettoyer.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-154">For example, you can execute [multiple tasks in parallel](batch-parallel-node-tasks.md) on each compute node, and you can use [job preparation and completion tasks](batch-job-prep-release.md) to prepare the nodes for your jobs, then clean up afterward.</span></span>

## <a name="next-steps"></a><span data-ttu-id="9b8d5-155">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="9b8d5-155">Next steps</span></span>
<span data-ttu-id="9b8d5-156">Maintenant que vous disposez d’une vue d’ensemble du service Batch, le moment est venu d’approfondir cette première approche pour découvrir comment utiliser ce service dans le traitement de charges de travail parallèles nécessitant beaucoup de ressources système.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-156">Now that you have a high-level overview of the Batch service, it's time to dig deeper to learn how you can use it to process your compute-intensive parallel workloads.</span></span>

* <span data-ttu-id="9b8d5-157">Consultez la [Présentation des fonctionnalités du service Batch pour les développeurs](batch-api-basics.md). Elle contient des informations indispensables pour toute personne se préparant à l’utilisation de Batch.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-157">Read the [Batch feature overview for developers](batch-api-basics.md), essential information for anyone preparing to use Batch.</span></span> <span data-ttu-id="9b8d5-158">L’article contient des informations plus détaillées sur les ressources du service Batch telles que les pools, les nœuds, les travaux et les tâches, ainsi que sur les nombreuses fonctionnalités API que vous pouvez utiliser lors de la création de votre application Batch.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-158">The article contains more detailed information about Batch service resources like pools, nodes, jobs, and tasks, and the many API features that you can use while building your Batch application.</span></span>
* <span data-ttu-id="9b8d5-159">Découvrez les [outils et API Batch](batch-apis-tools.md) disponibles pour créer des solutions Batch.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-159">Learn about the [Batch APIs and tools](batch-apis-tools.md) available for building Batch solutions.</span></span>
* <span data-ttu-id="9b8d5-160">[Prise en main de la bibliothèque Azure Batch pour .NET](batch-dotnet-get-started.md) pour apprendre à utiliser C# et la bibliothèque .NET Batch pour exécuter une charge de travail simple à l’aide d’un flux de travail Batch courant.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-160">[Get started with the Azure Batch library for .NET](batch-dotnet-get-started.md) to learn how to use C# and the Batch .NET library to execute a simple workload using a common Batch workflow.</span></span> <span data-ttu-id="9b8d5-161">Cet article servira de référence essentielle dans la découverte de l’utilisation du service Batch.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-161">This article should be one of your first stops while learning how to use the Batch service.</span></span> <span data-ttu-id="9b8d5-162">Il existe également une [version Python](batch-python-tutorial.md) du didacticiel.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-162">There is also a [Python version](batch-python-tutorial.md) of the tutorial.</span></span>
* <span data-ttu-id="9b8d5-163">Téléchargez les [exemples de code sur GitHub][github_samples] pour voir comment C# et Python peuvent interagir avec Batch pour planifier et traiter des exemples de charge de travail.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-163">Download the [code samples on GitHub][github_samples] to see how both C# and Python can interface with Batch to schedule and process sample workloads.</span></span>
* <span data-ttu-id="9b8d5-164">Consultez le [parcours d’apprentissage de Batch][learning_path] pour avoir une idée des ressources dont vous allez disposer dans votre découverte du service Batch.</span><span class="sxs-lookup"><span data-stu-id="9b8d5-164">Check out the [Batch Learning Path][learning_path] to get an idea of the resources available to you as you learn to work with Batch.</span></span>


[github_samples]: https://github.com/Azure/azure-batch-samples
[learning_path]: https://azure.microsoft.com/documentation/learning-paths/batch/

[1]: ./media/batch-technical-overview/tech_overview_01.png
[2]: ./media/batch-technical-overview/tech_overview_02.png
