



<span data-ttu-id="729c0-101">Selon votre environnement et le choix, script de hello peut créer toute infrastructure de cluster hello, y compris hello réseau virtuel Azure, comptes de stockage, services de cloud computing, contrôleur de domaine, les bases de données SQL locales ou distantes, nœud principal et cluster supplémentaires nœuds.</span><span class="sxs-lookup"><span data-stu-id="729c0-101">Depending on your environment and choices, hello script can create all hello cluster infrastructure, including hello Azure virtual network, storage accounts, cloud services, domain controller, remote or local SQL databases, head node, and additional cluster nodes.</span></span> <span data-ttu-id="729c0-102">Vous pouvez également script de hello peut utiliser l’infrastructure Azure existante et créer uniquement les nœuds de cluster HPC hello.</span><span class="sxs-lookup"><span data-stu-id="729c0-102">Alternatively, hello script can use pre-existing Azure infrastructure and create only hello HPC cluster nodes.</span></span>

<span data-ttu-id="729c0-103">Pour des informations générales sur la planification d’un cluster HPC Pack, consultez hello [d’évaluation du produit et planification](https://technet.microsoft.com/library/jj899596.aspx) et [mise en route](https://technet.microsoft.com/library/jj899590.aspx) contenu Bonjour bibliothèque TechNet de HPC Pack 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="729c0-103">For background information about planning an HPC Pack cluster, see hello [Product Evaluation and Planning](https://technet.microsoft.com/library/jj899596.aspx) and [Getting Started](https://technet.microsoft.com/library/jj899590.aspx) content in hello HPC Pack 2012 R2 TechNet Library.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="729c0-104">Composants requis</span><span class="sxs-lookup"><span data-stu-id="729c0-104">Prerequisites</span></span>
* <span data-ttu-id="729c0-105">**Abonnement Azure**: vous pouvez utiliser un abonnement soit Bonjour service Global Azure ou Azure Chine.</span><span class="sxs-lookup"><span data-stu-id="729c0-105">**Azure subscription**: You can use a subscription in either hello Azure Global or Azure China service.</span></span> <span data-ttu-id="729c0-106">Limites de votre abonnement affectent hello nombre et type que vous pouvez déployer des nœuds de cluster.</span><span class="sxs-lookup"><span data-stu-id="729c0-106">Your subscription limits affect hello number and type of cluster nodes you can deploy.</span></span> <span data-ttu-id="729c0-107">Pour plus d’informations, consultez [Abonnement Azure et limites, quotas et contraintes du service](../articles/azure-subscription-service-limits.md).</span><span class="sxs-lookup"><span data-stu-id="729c0-107">For information, see [Azure subscription and service limits, quotas, and constraints](../articles/azure-subscription-service-limits.md).</span></span>
* <span data-ttu-id="729c0-108">**Ordinateur client Windows Azure PowerShell 0.8.10 ou version ultérieure installé et configuré**: consultez [prise en main Azure PowerShell](/powershell/azureps-cmdlets-docs) pour tooconnect de procédures et instructions installation tooyour abonnement Azure.</span><span class="sxs-lookup"><span data-stu-id="729c0-108">**Windows client computer with Azure PowerShell 0.8.10 or later installed and configured**: See [Get started with Azure PowerShell](/powershell/azureps-cmdlets-docs) for installation instructions and steps tooconnect tooyour Azure subscription.</span></span>
* <span data-ttu-id="729c0-109">**Script de déploiement IaaS de HPC Pack**: Téléchargez et décompressez hello dernière version de script hello hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=44949).</span><span class="sxs-lookup"><span data-stu-id="729c0-109">**HPC Pack IaaS deployment script**: Download and unpack hello latest version of hello script from hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=44949).</span></span> <span data-ttu-id="729c0-110">Vérifier la version de hello du script de hello en exécutant `New-HPCIaaSCluster.ps1 –Version`.</span><span class="sxs-lookup"><span data-stu-id="729c0-110">Check hello version of hello script by running `New-HPCIaaSCluster.ps1 –Version`.</span></span> <span data-ttu-id="729c0-111">Cet article est basé sur la version 4.5.2 du script de hello.</span><span class="sxs-lookup"><span data-stu-id="729c0-111">This article is based on version 4.5.2 of hello script.</span></span>
* <span data-ttu-id="729c0-112">**Fichier de configuration**: créer un fichier XML que le script de hello utilise cluster HPC de hello tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="729c0-112">**Script configuration file**: Create an XML file that hello script uses tooconfigure hello HPC cluster.</span></span> <span data-ttu-id="729c0-113">Pour plus d’informations et des exemples, consultez les sections plus loin dans cet article et hello fichier Manual.rtf qui accompagne le script de déploiement hello.</span><span class="sxs-lookup"><span data-stu-id="729c0-113">For information and examples, see sections later in this article and hello file Manual.rtf that accompanies hello deployment script.</span></span>

## <a name="syntax"></a><span data-ttu-id="729c0-114">Syntaxe</span><span class="sxs-lookup"><span data-stu-id="729c0-114">Syntax</span></span>
```PowerShell
New-HPCIaaSCluster.ps1 [-ConfigFile] <String> [-AdminUserName]<String> [[-AdminPassword] <String>] [[-HPCImageName] <String>] [[-LogFile] <String>] [-Force] [-NoCleanOnFailure] [-PSSessionSkipCACheck] [<CommonParameters>]
```
> [!NOTE]
> <span data-ttu-id="729c0-115">Exécutez le script de hello en tant qu’administrateur.</span><span class="sxs-lookup"><span data-stu-id="729c0-115">Run hello script as an administrator.</span></span>
> 
> 

### <a name="parameters"></a><span data-ttu-id="729c0-116">Paramètres</span><span class="sxs-lookup"><span data-stu-id="729c0-116">Parameters</span></span>
* <span data-ttu-id="729c0-117">**ConfigFile**: Spécifie le chemin d’accès du fichier hello hello configuration toodescribe hello HPC du cluster de fichiers.</span><span class="sxs-lookup"><span data-stu-id="729c0-117">**ConfigFile**: Specifies hello file path of hello configuration file toodescribe hello HPC cluster.</span></span> <span data-ttu-id="729c0-118">Voir plus d’informations sur le fichier de configuration hello dans cette rubrique, ou dans le fichier de hello Manual.rtf dans le dossier hello contenant un script de hello.</span><span class="sxs-lookup"><span data-stu-id="729c0-118">See more about hello configuration file in this topic, or in hello file Manual.rtf in hello folder containing hello script.</span></span>
* <span data-ttu-id="729c0-119">**AdminUserName**: Spécifie le nom d’utilisateur hello.</span><span class="sxs-lookup"><span data-stu-id="729c0-119">**AdminUserName**: Specifies hello user name.</span></span> <span data-ttu-id="729c0-120">Si la forêt de domaines hello est créée par le script de hello, cela devient le nom d’utilisateur administrateur local hello pour toutes les machines virtuelles et le nom d’administrateur de domaine de hello.</span><span class="sxs-lookup"><span data-stu-id="729c0-120">If hello domain forest is created by hello script, this becomes hello local administrator user name for all VMs and hello domain administrator name.</span></span> <span data-ttu-id="729c0-121">Si la forêt de domaines hello existe déjà, cela spécifie l’utilisateur de domaine hello comme hello tooinstall de nom d’utilisateur administrateur local HPC Pack.</span><span class="sxs-lookup"><span data-stu-id="729c0-121">If hello domain forest already exists, this specifies hello domain user as hello local administrator user name tooinstall HPC Pack.</span></span>
* <span data-ttu-id="729c0-122">**AdminPassword**: Spécifie le mot de passe d’administrateur hello.</span><span class="sxs-lookup"><span data-stu-id="729c0-122">**AdminPassword**: Specifies hello administrator’s password.</span></span> <span data-ttu-id="729c0-123">Si non spécifié dans la ligne de commande hello, script de hello vous invite mot de passe tooinput hello.</span><span class="sxs-lookup"><span data-stu-id="729c0-123">If not specified in hello command line, hello script prompts you tooinput hello password.</span></span>
* <span data-ttu-id="729c0-124">**HPCImageName** (facultatif) : Spécifie le nom d’image de machine virtuelle HPC Pack de hello utilisé cluster HPC de hello toodeploy.</span><span class="sxs-lookup"><span data-stu-id="729c0-124">**HPCImageName** (optional): Specifies hello HPC Pack VM image name used toodeploy hello HPC cluster.</span></span> <span data-ttu-id="729c0-125">Il doit être une image fournie par Microsoft HPC Pack à partir de hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="729c0-125">It must be a Microsoft-provided HPC Pack image from hello Azure Marketplace.</span></span> <span data-ttu-id="729c0-126">Si non spécifié hello (recommandé en général), script choisit la dernière version publiée de hello [image HPC Pack 2012 R2](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/).</span><span class="sxs-lookup"><span data-stu-id="729c0-126">If not specified (recommended usually), hello script chooses hello latest published [HPC Pack 2012 R2 image](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/).</span></span> <span data-ttu-id="729c0-127">image plus récente de Hello est basée sur Windows Server 2012 R2 Datacenter avec HPC Pack 2012 R2 Update 3.</span><span class="sxs-lookup"><span data-stu-id="729c0-127">hello latest image is based on Windows Server 2012 R2 Datacenter with HPC Pack 2012 R2 Update 3 installed.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="729c0-128">Le déploiement échoue si vous ne spécifiez pas d’image HPC Pack valide.</span><span class="sxs-lookup"><span data-stu-id="729c0-128">Deployment fails if you don't specify a valid HPC Pack image.</span></span>
  > 
  > 
* <span data-ttu-id="729c0-129">**Fichier journal** (facultatif) : Spécifie le chemin d’accès du journal de déploiement hello.</span><span class="sxs-lookup"><span data-stu-id="729c0-129">**LogFile** (optional): Specifies hello deployment log file path.</span></span> <span data-ttu-id="729c0-130">Si non spécifié, le script de hello crée un fichier journal dans le répertoire temp de l’ordinateur hello exécutant hello script hello.</span><span class="sxs-lookup"><span data-stu-id="729c0-130">If not specified, hello script creates a log file in hello temp directory of hello computer running hello script.</span></span>
* <span data-ttu-id="729c0-131">**Force** (facultatif) : supprime toutes les invites de confirmation hello.</span><span class="sxs-lookup"><span data-stu-id="729c0-131">**Force** (optional): Suppresses all hello confirmation prompts.</span></span>
* <span data-ttu-id="729c0-132">**NoCleanOnFailure** (facultatif) : Spécifie que hello machines virtuelles Azure qui ne sont pas déployés avec succès ne sont pas supprimés.</span><span class="sxs-lookup"><span data-stu-id="729c0-132">**NoCleanOnFailure** (optional): Specifies that hello Azure VMs that are not successfully deployed are not removed.</span></span> <span data-ttu-id="729c0-133">Supprimez ces machines virtuelles manuellement avant de réexécuter le déploiement hello script toocontinue hello ou hello déploiement peut échouer.</span><span class="sxs-lookup"><span data-stu-id="729c0-133">Remove these VMs manually before rerunning hello script toocontinue hello deployment, or hello deployment may fail.</span></span>
* <span data-ttu-id="729c0-134">**PSSessionSkipCACheck** (facultatif) : pour chaque service cloud avec des machines virtuelles déployées par ce script, un certificat auto-signé est généré automatiquement par Azure et hello toutes les machines virtuelles dans le service cloud hello utiliser ce certificat comme hello Windows par défaut Certificat de gestion (WinRM) à distance.</span><span class="sxs-lookup"><span data-stu-id="729c0-134">**PSSessionSkipCACheck** (optional): For every cloud service with VMs deployed by this script, a self-signed certificate is automatically generated by Azure, and all hello VMs in hello cloud service use this certificate as hello default Windows Remote Management (WinRM) certificate.</span></span> <span data-ttu-id="729c0-135">toodeploy les fonctionnalités HPC dans ces machines virtuelles Azure, script hello par défaut installe temporairement ces certificats Bonjour ordinateur Local\\magasin Autorités de Certification racine de hello client ordinateur toosuppress hello « autorité de certification non approuvée » de sécurité Erreur lors de l’exécution du script.</span><span class="sxs-lookup"><span data-stu-id="729c0-135">toodeploy HPC features in these Azure VMs, hello script by default temporarily installs these certificates in hello Local Computer\\Trusted Root Certification Authorities store of hello client computer toosuppress hello “not trusted CA” security error during script execution.</span></span> <span data-ttu-id="729c0-136">certificats de Hello sont supprimés lorsque hello script se termine.</span><span class="sxs-lookup"><span data-stu-id="729c0-136">hello certificates are removed when hello script finishes.</span></span> <span data-ttu-id="729c0-137">Si ce paramètre est spécifié, les certificats hello ne sont pas installés dans l’ordinateur client de hello et avertissement de sécurité hello est supprimé.</span><span class="sxs-lookup"><span data-stu-id="729c0-137">If this parameter is specified, hello certificates are not installed in hello client computer, and hello security warning is suppressed.</span></span>
  
  > [!IMPORTANT]
  > <span data-ttu-id="729c0-138">Ce paramètre n’est pas recommandé pour les déploiements de production.</span><span class="sxs-lookup"><span data-stu-id="729c0-138">This parameter is not recommended for production deployments.</span></span>
  > 
  > 

### <a name="example"></a><span data-ttu-id="729c0-139">Exemple</span><span class="sxs-lookup"><span data-stu-id="729c0-139">Example</span></span>
<span data-ttu-id="729c0-140">Hello exemple suivant crée un cluster HPC Pack à l’aide du fichier de configuration *MyConfigFile.xml*et spécifie les informations d’identification d’administrateur pour l’installation de cluster de hello.</span><span class="sxs-lookup"><span data-stu-id="729c0-140">hello following example creates an HPC Pack cluster using the configuration file *MyConfigFile.xml*, and specifies administrator credentials for installing hello cluster.</span></span>

```PowerShell
.\New-HPCIaaSCluster.ps1 –ConfigFile MyConfigFile.xml -AdminUserName <username> –AdminPassword <password>
```

### <a name="additional-considerations"></a><span data-ttu-id="729c0-141">Considérations supplémentaires</span><span class="sxs-lookup"><span data-stu-id="729c0-141">Additional considerations</span></span>
* <span data-ttu-id="729c0-142">script de Hello peut également activer la soumission de travaux via le portail web de HPC Pack hello ou hello API REST de HPC Pack.</span><span class="sxs-lookup"><span data-stu-id="729c0-142">hello script can optionally enable job submission through hello HPC Pack web portal or hello HPC Pack REST API.</span></span>
* <span data-ttu-id="729c0-143">script de Hello peut également exécuter des scripts de pré- et post-configuration personnalisés sur le nœud principal de hello si vous souhaitez tooinstall des logiciels supplémentaires ou configurez d’autres paramètres.</span><span class="sxs-lookup"><span data-stu-id="729c0-143">hello script can optionally run custom pre- and post-configuration scripts on hello head node if you want tooinstall additional software or configure other settings.</span></span>

## <a name="configuration-file"></a><span data-ttu-id="729c0-144">Fichier de configuration</span><span class="sxs-lookup"><span data-stu-id="729c0-144">Configuration file</span></span>
<span data-ttu-id="729c0-145">le fichier de configuration Hello pour le script de déploiement hello est un fichier XML.</span><span class="sxs-lookup"><span data-stu-id="729c0-145">hello configuration file for hello deployment script is an XML file.</span></span> <span data-ttu-id="729c0-146">fichier de schéma Hello HPCIaaSClusterConfig.xsd se trouve dans le dossier de scripts de déploiement IaaS de HPC Pack hello.</span><span class="sxs-lookup"><span data-stu-id="729c0-146">hello schema file HPCIaaSClusterConfig.xsd is in hello HPC Pack IaaS deployment script folder.</span></span> <span data-ttu-id="729c0-147">**IaaSClusterConfig** est l’élément racine de hello hello du fichier de configuration, qui contienne des éléments enfants hello décrits en détail dans le fichier hello Manual.rtf dans le dossier des scripts de déploiement hello.</span><span class="sxs-lookup"><span data-stu-id="729c0-147">**IaaSClusterConfig** is hello root element of hello configuration file, which contains hello child elements described in detail in hello file Manual.rtf in hello deployment script folder.</span></span>

