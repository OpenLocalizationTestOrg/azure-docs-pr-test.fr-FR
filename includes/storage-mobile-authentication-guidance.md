## <a name="configure-your-application-tooaccess-azure-storage"></a><span data-ttu-id="69f09-101">Configurer votre tooaccess application Azure Storage</span><span class="sxs-lookup"><span data-stu-id="69f09-101">Configure your application tooaccess Azure Storage</span></span>
<span data-ttu-id="69f09-102">Il existe deux façons tooauthenticate votre tooaccess application services de stockage :</span><span class="sxs-lookup"><span data-stu-id="69f09-102">There are two ways tooauthenticate your application tooaccess Storage services:</span></span>

* <span data-ttu-id="69f09-103">Clé partagée : utilisez la clé partagée aux fins de test uniquement</span><span class="sxs-lookup"><span data-stu-id="69f09-103">Shared Key: Use Shared Key for testing purposes only</span></span>
* <span data-ttu-id="69f09-104">Signature d’accès partagé (SAP) : utilisez la signature d’accès partagé pour les applications de production</span><span class="sxs-lookup"><span data-stu-id="69f09-104">Shared Access Signature (SAS): Use SAS for production applications</span></span>

### <a name="shared-key"></a><span data-ttu-id="69f09-105">Clé partagée</span><span class="sxs-lookup"><span data-stu-id="69f09-105">Shared Key</span></span>
<span data-ttu-id="69f09-106">L’authentification de clé partagée signifie que votre application utilise votre nom de compte et tooaccess clé de compte de services de stockage.</span><span class="sxs-lookup"><span data-stu-id="69f09-106">Shared Key authentication means that your application will use your account name and account key tooaccess Storage services.</span></span> <span data-ttu-id="69f09-107">Pour des raisons de hello afficher rapidement comment toouse cette bibliothèque, nous allons utiliser l’authentification de clé partagée dans cette mise en route.</span><span class="sxs-lookup"><span data-stu-id="69f09-107">For hello purposes of quickly showing how toouse this library, we will be using Shared Key authentication in this getting started.</span></span>

> [!WARNING] 
> <span data-ttu-id="69f09-108">**Utilisez uniquement l’authentification par clé partagée à des fins de test !**</span><span class="sxs-lookup"><span data-stu-id="69f09-108">**Only use Shared Key authentication for testing purposes!**</span></span> <span data-ttu-id="69f09-109">Votre nom de compte et votre clé de compte, donnant toohello d’accès en lecture/écriture intégral compte de stockage associé, personne tooevery distribuée qui télécharge de votre application.</span><span class="sxs-lookup"><span data-stu-id="69f09-109">Your account name and account key, which give full read/write access toohello associated Storage account, will be distributed tooevery person that downloads your app.</span></span> <span data-ttu-id="69f09-110">Ce n’est **pas** une bonne pratique car votre clé risque d’être compromise par des clients non approuvés.</span><span class="sxs-lookup"><span data-stu-id="69f09-110">This is **not** a good practice as you risk having your key compromised by untrusted clients.</span></span>
> 
> 

<span data-ttu-id="69f09-111">Lorsque vous utilisez une authentification par clé partagée, vous créez une [chaîne de connexion](../articles/storage/common/storage-configure-connection-string.md).</span><span class="sxs-lookup"><span data-stu-id="69f09-111">When using Shared Key authentication, you will create a [connection string](../articles/storage/common/storage-configure-connection-string.md).</span></span> <span data-ttu-id="69f09-112">chaîne de connexion Hello se compose de :</span><span class="sxs-lookup"><span data-stu-id="69f09-112">hello connection string is comprised of:</span></span>  

* <span data-ttu-id="69f09-113">Hello **DefaultEndpointsProtocol** -vous pouvez choisir de HTTP ou HTTPS.</span><span class="sxs-lookup"><span data-stu-id="69f09-113">hello **DefaultEndpointsProtocol** - you can choose HTTP or HTTPS.</span></span> <span data-ttu-id="69f09-114">Toutefois, l’utilisation du protocole HTTPS est fortement recommandée.</span><span class="sxs-lookup"><span data-stu-id="69f09-114">However, using HTTPS is highly recommended.</span></span>
* <span data-ttu-id="69f09-115">Hello **nom de compte** hello - nom de votre compte de stockage</span><span class="sxs-lookup"><span data-stu-id="69f09-115">hello **Account Name** - hello name of your storage account</span></span>
* <span data-ttu-id="69f09-116">Hello **clé de compte** - sur hello [Azure Portal](https://portal.azure.com), accédez de compte de stockage tooyour, puis cliquez sur hello **clés** icône toofind ces informations.</span><span class="sxs-lookup"><span data-stu-id="69f09-116">hello **Account Key** - On hello [Azure Portal](https://portal.azure.com), navigate tooyour storage account and click hello **Keys** icon toofind this information.</span></span>
* <span data-ttu-id="69f09-117">(Facultatif) **EndpointSuffix** : utilisé pour les services de stockage dans les régions avec des suffixes de point de terminaison différents, comme Azure China ou Azure Governance.</span><span class="sxs-lookup"><span data-stu-id="69f09-117">(Optional) **EndpointSuffix** - This is used for storage services in regions with different endpoint suffixes, such as Azure China or Azure Governance.</span></span>

<span data-ttu-id="69f09-118">Voici un exemple de chaîne de connexion utilisant l’authentification par clé partagée :</span><span class="sxs-lookup"><span data-stu-id="69f09-118">Here is an example of connection string using Shared Key authentication:</span></span>

`"DefaultEndpointsProtocol=https;AccountName=your_account_name_here;AccountKey=your_account_key_here"`

### <a name="shared-access-signatures-sas"></a><span data-ttu-id="69f09-119">Signatures d’accès partagé (SAP)</span><span class="sxs-lookup"><span data-stu-id="69f09-119">Shared Access Signatures (SAS)</span></span>
<span data-ttu-id="69f09-120">Pour une application mobile, hello recommandé de méthode d’authentification d’une demande par un client contre hello service de stockage Azure est à l’aide d’une Signature d’accès partagé (SAS).</span><span class="sxs-lookup"><span data-stu-id="69f09-120">For a mobile application, hello recommended method for authenticating a request by a client against hello Azure Storage service is by using a Shared Access Signature (SAS).</span></span> <span data-ttu-id="69f09-121">Associations de sécurité vous permettant de toogrant une ressource de tooa d’accès client pour une période de temps, avec un jeu d’autorisations spécifié.</span><span class="sxs-lookup"><span data-stu-id="69f09-121">SAS allows you toogrant a client access tooa resource for a specified period of time, with a specified set of permissions.</span></span>
<span data-ttu-id="69f09-122">En tant que propriétaire du compte de stockage hello, vous devez toogenerate un SAS pour votre tooconsume de clients mobiles.</span><span class="sxs-lookup"><span data-stu-id="69f09-122">As hello storage account owner, you'll need toogenerate a SAS for your mobile clients tooconsume.</span></span> <span data-ttu-id="69f09-123">toogenerate hello SAS, vous souhaiterez probablement toowrite un service séparé qui génère hello SAS toobe distributed tooyour clients.</span><span class="sxs-lookup"><span data-stu-id="69f09-123">toogenerate hello SAS, you'll probably want toowrite a separate service that generates hello SAS toobe distributed tooyour clients.</span></span> <span data-ttu-id="69f09-124">À des fins de test, vous pouvez utiliser hello [Microsoft Azure Storage Explorer](http://storageexplorer.com) ou hello [Azure Portal](https://portal.azure.com) toogenerate une SAP.</span><span class="sxs-lookup"><span data-stu-id="69f09-124">For testing purposes, you can use hello [Microsoft Azure Storage Explorer](http://storageexplorer.com) or hello [Azure Portal](https://portal.azure.com) toogenerate a SAS.</span></span> <span data-ttu-id="69f09-125">Lorsque vous créez hello SAS, vous pouvez spécifier l’intervalle de temps hello pendant le hello SAS est valide et autorisations hello hello SAP accorde toohello client.</span><span class="sxs-lookup"><span data-stu-id="69f09-125">When you create hello SAS, you can specify hello time interval over which hello SAS is valid, and hello permissions that hello SAS grants toohello client.</span></span>

<span data-ttu-id="69f09-126">Bonjour à l’exemple suivant montre comment toouse hello toogenerate de Microsoft Azure Storage Explorer une SAP.</span><span class="sxs-lookup"><span data-stu-id="69f09-126">hello following example shows how toouse hello Microsoft Azure Storage Explorer toogenerate a SAS.</span></span>

1. <span data-ttu-id="69f09-127">Si vous n’avez pas déjà fait, [hello d’installer Microsoft Azure Storage Explorer](http://storageexplorer.com)</span><span class="sxs-lookup"><span data-stu-id="69f09-127">If you haven't already, [Install hello Microsoft Azure Storage Explorer](http://storageexplorer.com)</span></span>
2. <span data-ttu-id="69f09-128">Se connecter tooyour abonnement.</span><span class="sxs-lookup"><span data-stu-id="69f09-128">Connect tooyour subscription.</span></span>
3. <span data-ttu-id="69f09-129">Cliquez sur votre compte de stockage et cliquez sur l’onglet de hello « Actions » en hello en bas à gauche.</span><span class="sxs-lookup"><span data-stu-id="69f09-129">Click on your Storage account and click on hello "Actions" tab at hello bottom left.</span></span> <span data-ttu-id="69f09-130">Cliquez sur « Obtenir Signature d’accès partagé » toogenerate une chaîne de connexion « » de votre SAS.</span><span class="sxs-lookup"><span data-stu-id="69f09-130">Click "Get Shared Access Signature" toogenerate a "connection string" for your SAS.</span></span>
4. <span data-ttu-id="69f09-131">Voici un exemple de chaîne de connexion SAS qu’accorde des autorisations de lecture et écriture au service de hello, conteneur et du niveau de l’objet de service d’objets blob hello hello du compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="69f09-131">Here is an example of a SAS connection string that grants read and write permissions at hello service, container and object level for hello blob service of hello Storage account.</span></span>
   
   `"SharedAccessSignature=sv=2015-04-05&ss=b&srt=sco&sp=rw&se=2016-07-21T18%3A00%3A00Z&sig=3ABdLOJZosCp0o491T%2BqZGKIhafF1nlM3MzESDDD3Gg%3D;BlobEndpoint=https://youraccount.blob.core.windows.net"`

<span data-ttu-id="69f09-132">Comme vous pouvez le voir, lorsque vous utilisez une SAP, vous n’exposez pas votre clé de compte dans votre application.</span><span class="sxs-lookup"><span data-stu-id="69f09-132">As you can see, when using a SAS, you’re not exposing your account key in your application.</span></span> <span data-ttu-id="69f09-133">Plus d’informations sur SAS et les meilleures pratiques pour utiliser des associations de sécurité en consultant [Signatures d’accès partagé : modèle de présentation hello SAP](../articles/storage/common/storage-dotnet-shared-access-signature-part-1.md).</span><span class="sxs-lookup"><span data-stu-id="69f09-133">You can learn more about SAS and best practices for using SAS by checking out [Shared Access Signatures: Understanding hello SAS model](../articles/storage/common/storage-dotnet-shared-access-signature-part-1.md).</span></span>

