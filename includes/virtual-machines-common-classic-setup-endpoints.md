
<span data-ttu-id="437f0-101">Chaque point de terminaison possède un *port public* et un *port privé* :</span><span class="sxs-lookup"><span data-stu-id="437f0-101">Each endpoint has a *public port* and a *private port*:</span></span>

* <span data-ttu-id="437f0-102">port public de Hello est utilisé par toolisten de programme d’équilibrage de charge Azure hello pour virtuels toohello du trafic entrant de hello Internet.</span><span class="sxs-lookup"><span data-stu-id="437f0-102">hello public port is used by hello Azure load balancer toolisten for incoming traffic toohello virtual machine from hello Internet.</span></span>
* <span data-ttu-id="437f0-103">un port privé Hello est utilisé par toolisten de machine virtuelle hello pour le trafic, généralement destination tooan application ou service qui s’exécute sur l’ordinateur virtuel de hello entrants.</span><span class="sxs-lookup"><span data-stu-id="437f0-103">hello private port is used by hello virtual machine toolisten for incoming traffic, typically destined tooan application or service running on hello virtual machine.</span></span>

<span data-ttu-id="437f0-104">Valeurs par défaut pour hello protocole IP et les ports TCP ou UDP pour les protocoles réseau connus sont fournis lorsque vous créez des points de terminaison avec hello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="437f0-104">Default values for hello IP protocol and TCP or UDP ports for well-known network protocols are provided when you create endpoints with hello Azure portal.</span></span> <span data-ttu-id="437f0-105">Pour les points de terminaison personnalisés, vous devez toospecify hello correct protocole IP (TCP ou UDP) et les ports publics et privés hello.</span><span class="sxs-lookup"><span data-stu-id="437f0-105">For custom endpoints, you'll need toospecify hello correct IP protocol (TCP or UDP) and hello public and private ports.</span></span> <span data-ttu-id="437f0-106">toodistribute du trafic entrant au hasard entre plusieurs machines virtuelles, vous devez toocreate un jeu d’équilibrage de charge composé de plusieurs points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="437f0-106">toodistribute incoming traffic randomly across multiple virtual machines, you'll need toocreate a load-balanced set consisting of multiple endpoints.</span></span>

<span data-ttu-id="437f0-107">Après avoir créé un point de terminaison, vous pouvez utiliser un règles contrôle d’accès (ACL) de liste toodefine qui donnent ou refusent le trafic entrant de hello toohello le port public du point de terminaison hello en fonction de son adresse IP de source.</span><span class="sxs-lookup"><span data-stu-id="437f0-107">After you create an endpoint, you can use an access control list (ACL) toodefine rules that permit or deny hello incoming traffic toohello public port of hello endpoint based on its source IP address.</span></span> <span data-ttu-id="437f0-108">Toutefois, si l’ordinateur virtuel de hello est dans un réseau virtuel Azure, vous devez utiliser les groupes de sécurité réseau à la place.</span><span class="sxs-lookup"><span data-stu-id="437f0-108">However, if hello virtual machine is in an Azure virtual network, you should use network security groups instead.</span></span> <span data-ttu-id="437f0-109">Pour plus d'informations, consultez [À propos des groupes de sécurité réseau](../articles/virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="437f0-109">For details, see [About network security groups](../articles/virtual-network/virtual-networks-nsg.md).</span></span>

> [!NOTE]
> <span data-ttu-id="437f0-110">La configuration du pare-feu pour les machines virtuelles Azure s’effectue automatiquement pour les ports associés aux points de terminaison de connectivité à distance qu’Azure configure automatiquement.</span><span class="sxs-lookup"><span data-stu-id="437f0-110">Firewall configuration for Azure virtual machines is done automatically for ports associated with remote connectivity endpoints that Azure sets up automatically.</span></span> <span data-ttu-id="437f0-111">Pour les ports spécifiés pour tous les autres points de terminaison, aucune configuration ne s’effectue automatiquement le pare-feu de l’ordinateur virtuel de hello toohello.</span><span class="sxs-lookup"><span data-stu-id="437f0-111">For ports specified for all other endpoints, no configuration is done automatically toohello firewall of hello virtual machine.</span></span> <span data-ttu-id="437f0-112">Lorsque vous créez un point de terminaison pour la machine virtuelle de hello, vous devez tooensure qui hello pare-feu d’ordinateur virtuel de hello autorise également le trafic de hello pour le protocole de hello et configuration de point de terminaison toohello port privé correspondante.</span><span class="sxs-lookup"><span data-stu-id="437f0-112">When you create an endpoint for hello virtual machine, you'll need tooensure that hello firewall of hello virtual machine also allows hello traffic for hello protocol and private port corresponding toohello endpoint configuration.</span></span> <span data-ttu-id="437f0-113">tooconfigure hello pare-feu, consultez la documentation de hello ou de l’aide en ligne hello système d’exploitation en cours d’exécution sur l’ordinateur virtuel de hello.</span><span class="sxs-lookup"><span data-stu-id="437f0-113">tooconfigure hello firewall, see hello documentation or on-line help for hello operating system running on hello virtual machine.</span></span>
>
>

## <a name="create-an-endpoint"></a><span data-ttu-id="437f0-114">Création d’un point de terminaison</span><span class="sxs-lookup"><span data-stu-id="437f0-114">Create an endpoint</span></span>
1. <span data-ttu-id="437f0-115">Si vous n’avez pas déjà fait, connectez-vous à toohello [portail Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="437f0-115">If you haven't already done so, sign in toohello [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="437f0-116">Cliquez sur **virtuels**, puis cliquez sur nom hello de machine virtuelle de hello que vous souhaitez tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="437f0-116">Click **Virtual Machines**, and then click hello name of hello virtual machine that you want tooconfigure.</span></span>
3. <span data-ttu-id="437f0-117">Cliquez sur **points de terminaison** Bonjour **paramètres** groupe.</span><span class="sxs-lookup"><span data-stu-id="437f0-117">Click **Endpoints** in hello **Settings** group.</span></span> <span data-ttu-id="437f0-118">Hello **points de terminaison** page répertorie tous les hello points de terminaison actuels pour la machine virtuelle de hello.</span><span class="sxs-lookup"><span data-stu-id="437f0-118">hello **Endpoints** page lists all hello current endpoints for hello virtual machine.</span></span> <span data-ttu-id="437f0-119">(Cet exemple est une machine virtuelle Windows.</span><span class="sxs-lookup"><span data-stu-id="437f0-119">(This example is a Windows VM.</span></span> <span data-ttu-id="437f0-120">Par défaut, une machine virtuelle Linux affiche un point de terminaison pour SSH.)</span><span class="sxs-lookup"><span data-stu-id="437f0-120">A Linux VM will by default show an endpoint for SSH.)</span></span>

   <!-- ![Endpoints](./media/virtual-machines-common-classic-setup-endpoints/endpointswindows.png) -->
   ![Points de terminaison](./media/virtual-machines-common-classic-setup-endpoints/endpointsblade.png)

4. <span data-ttu-id="437f0-122">Dans la barre de commandes hello au-dessus des entrées de point de terminaison hello, cliquez sur **ajouter**.</span><span class="sxs-lookup"><span data-stu-id="437f0-122">In hello command bar above hello endpoint entries, click **Add**.</span></span>
5. <span data-ttu-id="437f0-123">Sur hello **ajouter le point de terminaison** , tapez un nom pour le point de terminaison hello dans **nom**.</span><span class="sxs-lookup"><span data-stu-id="437f0-123">On hello **Add endpoint** page, type a name for hello endpoint in **Name**.</span></span>
6. <span data-ttu-id="437f0-124">Dans **Protocole**, choisissez **TCP** ou **UDP**.</span><span class="sxs-lookup"><span data-stu-id="437f0-124">In **Protocol**, choose either **TCP** or **UDP**.</span></span>
7. <span data-ttu-id="437f0-125">Dans **Port Public**, tapez le numéro de port hello pour le trafic entrant à partir de hello Internet hello.</span><span class="sxs-lookup"><span data-stu-id="437f0-125">In **Public Port**, type hello port number for hello incoming traffic from hello Internet.</span></span> <span data-ttu-id="437f0-126">Dans **Port privé**, tapez hello numéro de port sur le hello machine virtuelle écoute.</span><span class="sxs-lookup"><span data-stu-id="437f0-126">In **Private Port**, type hello port number on which hello virtual machine is listening.</span></span> <span data-ttu-id="437f0-127">Ces derniers peuvent être différents.</span><span class="sxs-lookup"><span data-stu-id="437f0-127">These port numbers can be different.</span></span> <span data-ttu-id="437f0-128">Vérifiez que hello pare-feu sur l’ordinateur virtuel de hello a été configuré tooallow hello le trafic correspondant toohello protocol (étape 6) et le port privé.</span><span class="sxs-lookup"><span data-stu-id="437f0-128">Ensure that hello firewall on hello virtual machine has been configured tooallow hello traffic corresponding toohello protocol (in step 6) and private port.</span></span>
10. <span data-ttu-id="437f0-129">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="437f0-129">Click **Ok**.</span></span>

<span data-ttu-id="437f0-130">nouveau point de terminaison Hello s’afficheront sur hello **points de terminaison** page.</span><span class="sxs-lookup"><span data-stu-id="437f0-130">hello new endpoint will be listed on hello **Endpoints** page.</span></span>

![Création du point de terminaison réussie](./media/virtual-machines-common-classic-setup-endpoints/endpointcreated.png)

## <a name="manage-hello-acl-on-an-endpoint"></a><span data-ttu-id="437f0-132">Gérer hello ACL sur un point de terminaison</span><span class="sxs-lookup"><span data-stu-id="437f0-132">Manage hello ACL on an endpoint</span></span>
<span data-ttu-id="437f0-133">ensemble de hello toodefine d’ordinateurs qui peuvent envoyer le trafic, hello ACL sur un point de terminaison peut limiter le trafic basé sur l’adresse IP source.</span><span class="sxs-lookup"><span data-stu-id="437f0-133">toodefine hello set of computers that can send traffic, hello ACL on an endpoint can restrict traffic based upon source IP address.</span></span> <span data-ttu-id="437f0-134">Suivez ces étapes tooadd, modifier ou supprimer une liste ACL sur un point de terminaison.</span><span class="sxs-lookup"><span data-stu-id="437f0-134">Follow these steps tooadd, modify, or remove an ACL on an endpoint.</span></span>

> [!NOTE]
> <span data-ttu-id="437f0-135">Si le point de terminaison hello fait partie d’un jeu d’équilibrage de charge, les modifications apportées toohello ACL sur un point de terminaison sont les points de terminaison tooall appliquée dans l’ensemble de hello.</span><span class="sxs-lookup"><span data-stu-id="437f0-135">If hello endpoint is part of a load-balanced set, any changes you make toohello ACL on an endpoint are applied tooall endpoints in hello set.</span></span>
>
>

<span data-ttu-id="437f0-136">Si l’ordinateur virtuel de hello est dans un réseau virtuel Azure, nous vous recommandons de groupes de sécurité réseau au lieu d’ACL.</span><span class="sxs-lookup"><span data-stu-id="437f0-136">If hello virtual machine is in an Azure virtual network, we recommend network security groups instead of ACLs.</span></span> <span data-ttu-id="437f0-137">Pour plus d'informations, consultez [À propos des groupes de sécurité réseau](../articles/virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="437f0-137">For details, see [About network security groups](../articles/virtual-network/virtual-networks-nsg.md).</span></span>

1. <span data-ttu-id="437f0-138">Si vous n’avez pas déjà fait, inscrivez-vous toohello portail Azure.</span><span class="sxs-lookup"><span data-stu-id="437f0-138">If you haven't already done so, sign in toohello Azure portal.</span></span>
2. <span data-ttu-id="437f0-139">Cliquez sur **virtuels**, puis cliquez sur nom hello de machine virtuelle de hello que vous souhaitez tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="437f0-139">Click **Virtual Machines**, and then click hello name of hello virtual machine that you want tooconfigure.</span></span>
3. <span data-ttu-id="437f0-140">Cliquez sur **Endpoints**.</span><span class="sxs-lookup"><span data-stu-id="437f0-140">Click **Endpoints**.</span></span> <span data-ttu-id="437f0-141">À partir de la liste de hello, sélectionnez le point de terminaison approprié hello.</span><span class="sxs-lookup"><span data-stu-id="437f0-141">From hello list, select hello appropriate endpoint.</span></span> <span data-ttu-id="437f0-142">liste ACL de Hello est bas hello de page de hello.</span><span class="sxs-lookup"><span data-stu-id="437f0-142">hello ACL list is at hello bottom of hello page.</span></span>

   ![Spécifier les détails de l’ACL](./media/virtual-machines-common-classic-setup-endpoints/aclpreentry.png)

4. <span data-ttu-id="437f0-144">Utiliser des lignes de hello liste tooadd, supprimer ou modifier les règles pour une liste ACL et modifier leur ordre.</span><span class="sxs-lookup"><span data-stu-id="437f0-144">Use rows in hello list tooadd, delete, or edit rules for an ACL and change their order.</span></span> <span data-ttu-id="437f0-145">Hello **sous-réseau distant** valeur est une plage d’adresses IP pour le trafic entrant en provenance d’Internet qui hello Azure charge équilibrage utilise toopermit ou refuser hello le trafic en fonction de son adresse IP de source de hello.</span><span class="sxs-lookup"><span data-stu-id="437f0-145">hello **Remote Subnet** value is an IP address range for incoming traffic from hello Internet that hello Azure load balancer uses toopermit or deny hello traffic based on its source IP address.</span></span> <span data-ttu-id="437f0-146">Être vraiment toospecify hello plage d’adresses IP au format CIDR, également connu sous le format de préfixe adresse.</span><span class="sxs-lookup"><span data-stu-id="437f0-146">Be sure toospecify hello IP address range in CIDR format, also known as address prefix format.</span></span> <span data-ttu-id="437f0-147">Par exemple `10.1.0.0/8`.</span><span class="sxs-lookup"><span data-stu-id="437f0-147">An example is `10.1.0.0/8`.</span></span>

 ![Nouvelle entrée ACL](./media/virtual-machines-common-classic-setup-endpoints/newaclentry.png)


<span data-ttu-id="437f0-149">Vous pouvez utiliser des règles tooallow uniquement le trafic à partir d’ordinateurs spécifiques correspondant tooyour des ordinateurs sur le trafic Internet ou toodeny hello à partir de plages d’adresses spécifiques et connus.</span><span class="sxs-lookup"><span data-stu-id="437f0-149">You can use rules tooallow only traffic from specific computers corresponding tooyour computers on hello Internet or toodeny traffic from specific, known address ranges.</span></span>

<span data-ttu-id="437f0-150">règles de Hello sont évaluées dans l’ordre, en commençant par la première règle de hello et se terminant par la règle du dernier hello.</span><span class="sxs-lookup"><span data-stu-id="437f0-150">hello rules are evaluated in order starting with hello first rule and ending with hello last rule.</span></span> <span data-ttu-id="437f0-151">Cela signifie que les règles doivent être commandés auprès toomost moins restrictif restrictif.</span><span class="sxs-lookup"><span data-stu-id="437f0-151">This means that rules should be ordered from least restrictive toomost restrictive.</span></span> <span data-ttu-id="437f0-152">Pour plus d’informations et obtenir des exemples, consultez [Qu’est-ce qu’une liste de contrôle d’accès réseau ?](../articles/virtual-network/virtual-networks-acl.md).</span><span class="sxs-lookup"><span data-stu-id="437f0-152">For examples and more information, see [What is a Network Access Control List](../articles/virtual-network/virtual-networks-acl.md).</span></span>
