# <a name="secure-your-iot-deployment"></a><span data-ttu-id="fd2d5-101">Sécuriser votre déploiement IoT</span><span class="sxs-lookup"><span data-stu-id="fd2d5-101">Secure your IoT deployment</span></span>
<span data-ttu-id="fd2d5-102">Cet article fournit un niveau de détail suivant de hello pour la sécurisation de l’infrastructure de base Azure IoT Internet of Things (IoT) hello.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-102">This article provides hello next level of detail for securing hello Azure IoT-based Internet of Things (IoT) infrastructure.</span></span> <span data-ttu-id="fd2d5-103">Elle lie les détails de niveau tooimplementation pour la configuration et de déploiement de chaque composant.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-103">It links tooimplementation level details for configuring and deploying each component.</span></span> <span data-ttu-id="fd2d5-104">Il fournit également des comparaisons et des choix entre les différentes méthodes.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-104">It also provides comparisons and choices between various competing methods.</span></span>

<span data-ttu-id="fd2d5-105">Sécurisation du déploiement d’Azure IoT hello peut être divisé en hello suivant trois zones de sécurité :</span><span class="sxs-lookup"><span data-stu-id="fd2d5-105">Securing hello Azure IoT deployment can be divided into hello following three security areas:</span></span>

* <span data-ttu-id="fd2d5-106">**Sécurité des appareils**: hello IoT DISPOSITIF pendant qu’il est déployé dans hello générique.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-106">**Device Security**: Securing hello IoT device while it is deployed in hello wild.</span></span>
* <span data-ttu-id="fd2d5-107">**Sécurité de connexion**: toutes les données transmises entre les appareils IoT de hello et IoT Hub est confidentiel et de toute falsification.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-107">**Connection Security**: Ensuring all data transmitted between hello IoT device and IoT Hub is confidential and tamper-proof.</span></span>
* <span data-ttu-id="fd2d5-108">**Sécurité de cloud computing**: en fournissant un moyen toosecure données pendant parcourt, puis il est stocké dans le cloud de hello.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-108">**Cloud Security**: Providing a means toosecure data while it moves through, and is stored in hello cloud.</span></span>

![Trois zones de sécurité][img-overview]

## <a name="secure-device-provisioning-and-authentication"></a><span data-ttu-id="fd2d5-110">Approvisionnement et authentification sécurisés des appareils</span><span class="sxs-lookup"><span data-stu-id="fd2d5-110">Secure device provisioning and authentication</span></span>
<span data-ttu-id="fd2d5-111">Bonjour Azure IoT Suite sécurise les appareils IoT par hello deux méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="fd2d5-111">hello Azure IoT Suite secures IoT devices by hello following two methods:</span></span>

* <span data-ttu-id="fd2d5-112">En fournissant une clé d’identité unique (les jetons de sécurité) pour chaque périphérique, qui peut être utilisé par toocommunicate de périphérique hello avec hello IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-112">By providing a unique identity key (security tokens) for each device, which can be used by hello device toocommunicate with hello IoT Hub.</span></span>
* <span data-ttu-id="fd2d5-113">À l’aide d’un appareil [certificat X.509] [ lnk-x509] et la clé privée comme un toohello de périphérique signifie tooauthenticate hello IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-113">By using an on-device [X.509 certificate][lnk-x509] and private key as a means tooauthenticate hello device toohello IoT Hub.</span></span> <span data-ttu-id="fd2d5-114">Cette méthode d’authentification permet de s’assurer que hello clé privée sur l’appareil de hello ne connaît pas en dehors de l’appareil de hello à tout moment, en fournissant un niveau de sécurité plus élevé.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-114">This authentication method ensures that hello private key on hello device is not known outside hello device at any time, providing a higher level of security.</span></span>

<span data-ttu-id="fd2d5-115">méthode de jeton de sécurité Hello fournit l’authentification pour chaque appel effectué par hello appareil tooIoT Hub en associant l’appel de tooeach clé symétrique hello.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-115">hello security token method provides authentication for each call made by hello device tooIoT Hub by associating hello symmetric key tooeach call.</span></span> <span data-ttu-id="fd2d5-116">L’authentification basée sur X.509 permet l’authentification d’une unité IoT au niveau de la couche physique de hello dans le cadre de l’établissement d’une connexion TLS hello.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-116">X.509-based authentication allows authentication of an IoT device at hello physical layer as part of hello TLS connection establishment.</span></span> <span data-ttu-id="fd2d5-117">méthode de base de jetons de sécurité de Hello peut être utilisée sans l’authentification hello X.509 qui est un modèle moins sécurisé.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-117">hello security-token-based method can be used without hello X.509 authentication which is a less secure pattern.</span></span> <span data-ttu-id="fd2d5-118">Hello choix entre les méthodes hello deux est principalement dictée par hello sécurisé a besoin de l’authentification des appareils toobe et la disponibilité de stockage sécurisé sur l’appareil de hello (toostore hello en toute sécurité une clé privée).</span><span class="sxs-lookup"><span data-stu-id="fd2d5-118">hello choice between hello two methods is primarily dictated by how secure hello device authentication needs toobe, and availability of secure storage on hello device (toostore hello private key securely).</span></span>

## <a name="iot-hub-security-tokens"></a><span data-ttu-id="fd2d5-119">Jetons de sécurité IoT Hub</span><span class="sxs-lookup"><span data-stu-id="fd2d5-119">IoT Hub security tokens</span></span>
<span data-ttu-id="fd2d5-120">IoT Hub utilise la sécurité des jetons tooauthenticate appareils et services tooavoid envoi de clés sur le réseau de hello.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-120">IoT Hub uses security tokens tooauthenticate devices and services tooavoid sending keys on hello network.</span></span> <span data-ttu-id="fd2d5-121">En outre, la validité et la portée des jetons sont limitées dans le temps.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-121">Additionally, security tokens are limited in time validity and scope.</span></span> <span data-ttu-id="fd2d5-122">Les Kits de développement logiciel (SDK) Azure IoT Hub génèrent automatiquement les jetons sans configuration spéciale.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-122">Azure IoT SDKs automatically generate tokens without requiring any special configuration.</span></span> <span data-ttu-id="fd2d5-123">Certains scénarios, cependant, nécessitent hello utilisateur toogenerate et utilisent directement les jetons de sécurité.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-123">Some scenarios, however, require hello user toogenerate and use security tokens directly.</span></span> <span data-ttu-id="fd2d5-124">Citons notamment une utilisation directe des surfaces MQTT, AMQP ou HTTP hello hello ou implémentation hello hello jeton du modèle de service.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-124">These include hello direct use of hello MQTT, AMQP, or HTTP surfaces, or hello implementation of hello token service pattern.</span></span>

<span data-ttu-id="fd2d5-125">Vous trouverez plus d’informations sur la structure de hello du jeton de sécurité hello et son utilisation dans hello suivant des articles :</span><span class="sxs-lookup"><span data-stu-id="fd2d5-125">More details on hello structure of hello security token and its usage can be found in hello following articles:</span></span>

* <span data-ttu-id="fd2d5-126">[Structure du jeton de sécurité][lnk-security-tokens]</span><span class="sxs-lookup"><span data-stu-id="fd2d5-126">[Security token structure][lnk-security-tokens]</span></span>
* <span data-ttu-id="fd2d5-127">[Utilisation de jetons SAP comme appareil][lnk-sas-tokens]</span><span class="sxs-lookup"><span data-stu-id="fd2d5-127">[Using SAS tokens as a device][lnk-sas-tokens]</span></span>

<span data-ttu-id="fd2d5-128">Chaque IoT Hub a un [Registre des identités] [ lnk-identity-registry] qui peut être utilisé toocreate par périphérique ressources hello service, comme une file d’attente qui contient des messages cloud-à-appareil et en vol et tooallow accès toohello points de terminaison de périphérique.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-128">Each IoT Hub has an [identity registry][lnk-identity-registry] that can be used toocreate per-device resources in hello service, such as a queue that contains in-flight cloud-to-device messages, and tooallow access toohello device-facing endpoints.</span></span> <span data-ttu-id="fd2d5-129">Hello Registre des identités IoT Hub fournit le stockage sécurisé des identités des appareils et des clés de sécurité pour une solution.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-129">hello IoT Hub identity registry provides secure storage of device identities and security keys for a solution.</span></span> <span data-ttu-id="fd2d5-130">Individuelles ou des groupes d’identités d’appareil peuvent être ajoutés tooan autorise la liste ou une liste de blocs, l’activation du contrôle total sur l’accès à l’appareil.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-130">Individual or groups of device identities can be added tooan allow list, or a block list, enabling complete control over device access.</span></span> <span data-ttu-id="fd2d5-131">Hello articles suivants fournissent plus de détails sur la structure de hello du Registre des identités hello et opérations prises en charge.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-131">hello following articles provide more details on hello structure of hello identity registry and supported operations.</span></span>

<span data-ttu-id="fd2d5-132">[IoT Hub prend en charge les protocoles tels que MQTT, AMQP, and HTTP][lnk-protocols].</span><span class="sxs-lookup"><span data-stu-id="fd2d5-132">[IoT Hub supports protocols such as MQTT, AMQP, and HTTP][lnk-protocols].</span></span> <span data-ttu-id="fd2d5-133">Chacun de ces protocoles utilisent des jetons de sécurité à partir de tooIoT de périphérique hello IoT Hub différemment :</span><span class="sxs-lookup"><span data-stu-id="fd2d5-133">Each of these protocols use security tokens from hello IoT device tooIoT Hub differently:</span></span>

* <span data-ttu-id="fd2d5-134">AMQP : SASL simple et basée sur les revendications AMQP la sécurité ({stratégie}@sas.root. {} iothubName} dans les cas de hello de jetons d’au niveau du hub IoT ; {deviceId} en cas de l’appareil de portée des jetons).</span><span class="sxs-lookup"><span data-stu-id="fd2d5-134">AMQP: SASL PLAIN and AMQP Claims-based security ({policyName}@sas.root.{iothubName} in hello case of IoT hub-level tokens; {deviceId} in case of device-scoped tokens).</span></span>
* <span data-ttu-id="fd2d5-135">MQTT : Connecter des utilisations de paquet {deviceId} comme hello {ClientId}, {IoThubhostname} / {deviceId} Bonjour **nom d’utilisateur** champ et une SAP de jeton Bonjour **mot de passe** champ.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-135">MQTT: CONNECT packet uses {deviceId} as hello {ClientId}, {IoThubhostname}/{deviceId} in hello **Username** field and a SAS token in hello **Password** field.</span></span>
* <span data-ttu-id="fd2d5-136">HTTP : Jeton valide est dans l’en-tête de demande d’autorisation hello.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-136">HTTP: Valid token is in hello authorization request header.</span></span>

<span data-ttu-id="fd2d5-137">Registre des identités IoT Hub peut être des informations d’identification de sécurité tooconfigure utilisé par périphérique et le contrôle d’accès.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-137">IoT Hub identity registry can be used tooconfigure per-device security credentials and access control.</span></span> <span data-ttu-id="fd2d5-138">Cependant, si une solution IoT représente déjà un investissement significatif dans un [registre d’identité des appareils personnalisé et/ou un schéma d’authentification][lnk-custom-auth], vous pouvez intégrer cette infrastructure existante à IoT Hub en créant un service de jeton.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-138">However, if an IoT solution already has a significant investment in a [custom device identity registry and/or authentication scheme][lnk-custom-auth], it can be integrated into an existing infrastructure with IoT Hub by creating a token service.</span></span>

### <a name="x509-certificate-based-device-authentication"></a><span data-ttu-id="fd2d5-139">Authentification des appareils basée sur un certificat X.509</span><span class="sxs-lookup"><span data-stu-id="fd2d5-139">X.509 certificate-based device authentication</span></span>
<span data-ttu-id="fd2d5-140">Hello d’utilisation d’un [basée sur l’appareil un certificat X.509] [ lnk-use-x509] et sa paire de clés privée et publique associée permet une authentification supplémentaire au niveau de la couche physique de hello.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-140">hello use of a [device-based X.509 certificate][lnk-use-x509] and its associated private and public key pair allows additional authentication at hello physical layer.</span></span> <span data-ttu-id="fd2d5-141">clé privée de Hello est stocké en toute sécurité dans le dispositif de hello et n’est pas détectable en dehors de l’appareil de hello.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-141">hello private key is stored securely in hello device and is not discoverable outside hello device.</span></span> <span data-ttu-id="fd2d5-142">certificat X.509 de Hello contient plus d’informations sur l’appareil hello, telles que les ID de périphérique et d’autres détails d’organisation.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-142">hello X.509 certificate contains information about hello device, such as device ID, and other organizational details.</span></span> <span data-ttu-id="fd2d5-143">Une signature de certificat de hello est générée à l’aide de clé privée de hello.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-143">A signature of hello certificate is generated by using hello private key.</span></span>

<span data-ttu-id="fd2d5-144">Flux d’approvisionnement des appareils de haut niveau :</span><span class="sxs-lookup"><span data-stu-id="fd2d5-144">High-level device provisioning flow:</span></span>

* <span data-ttu-id="fd2d5-145">Associer un identificateur tooa périphérique physique : identité de l’appareil et/ou par appareil de toohello associé de certificat X.509 au cours de l’unité de fabrication ou de mise en service.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-145">Associate an identifier tooa physical device – device identity and/or X.509 certificate associated toohello device during device manufacturing or commissioning.</span></span>
* <span data-ttu-id="fd2d5-146">Créer une entrée d’identité correspondante dans IoT Hub – identité de l’appareil et les informations de périphérique associé Bonjour Registre des identités IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-146">Create a corresponding identity entry in IoT Hub – device identity and associated device information in hello IoT Hub identity registry.</span></span>
* <span data-ttu-id="fd2d5-147">Stocker en toute sécurité l’empreinte numérique du certificat X.509 dans le Registre d’identité IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-147">Securely store X.509 certificate thumbprint in IoT Hub identity registry.</span></span>

### <a name="root-certificate-on-device"></a><span data-ttu-id="fd2d5-148">Certificat racine sur un appareil</span><span class="sxs-lookup"><span data-stu-id="fd2d5-148">Root certificate on device</span></span>
<span data-ttu-id="fd2d5-149">Lors de l’établissement d’une connexion TLS sécurisée avec IoT Hub, appareils IoT de hello authentifie IoT Hub à l’aide d’un certificat racine qui fait partie de l’appareil hello SDK.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-149">While establishing a secure TLS connection with IoT Hub, hello IoT device authenticates IoT Hub using a root certificate which is part of hello device SDK.</span></span> <span data-ttu-id="fd2d5-150">Pour que le client hello C SDK hello est situé sous le dossier de hello »\\c\\certificats » sous la racine hello de dépôt de hello.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-150">For hello C client SDK hello certificate is located under hello folder "\\c\\certs" under hello root of hello repo.</span></span> <span data-ttu-id="fd2d5-151">Bien que ces certificats racine soient de longue durée, ils peuvent malgré tout expirer ou être révoqués.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-151">Though these root certificates are long-lived, they still may expire or be revoked.</span></span> <span data-ttu-id="fd2d5-152">S’il n’existe aucun moyen de mise à jour hello certificat sur l’appareil de hello, hello périphérique ne peut pas être en mesure de toosubsequently connecter toohello IoT Hub (ou tout autre service cloud).</span><span class="sxs-lookup"><span data-stu-id="fd2d5-152">If there is no way of updating hello certificate on hello device, hello device may not be able toosubsequently connect toohello IoT Hub (or any other cloud service).</span></span> <span data-ttu-id="fd2d5-153">Avoir un certificat racine de moyens tooupdate hello une fois déployé appareils IoT de hello réduire de manière efficace ce risque.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-153">Having a means tooupdate hello root certificate once hello IoT device is deployed will effectively mitigate this risk.</span></span>

## <a name="securing-hello-connection"></a><span data-ttu-id="fd2d5-154">Sécurisation de connexion de hello</span><span class="sxs-lookup"><span data-stu-id="fd2d5-154">Securing hello connection</span></span>
<span data-ttu-id="fd2d5-155">Connexion Internet entre appareils IoT de hello et IoT Hub est sécurisée à l’aide de la norme de sécurité TLS (Transport Layer) hello.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-155">Internet connection between hello IoT device and IoT Hub is secured using hello Transport Layer Security (TLS) standard.</span></span> <span data-ttu-id="fd2d5-156">Azure IoT prend en charge [TLS 1.2][lnk-tls12], TLS 1.1 et TLS 1.0, dans cet ordre.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-156">Azure IoT supports [TLS 1.2][lnk-tls12], TLS 1.1 and TLS 1.0, in this order.</span></span> <span data-ttu-id="fd2d5-157">La prise en charge de TLS 1.0 est fournie uniquement à des fins de compatibilité descendante.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-157">Support for TLS 1.0 is provided for backward compatibility only.</span></span> <span data-ttu-id="fd2d5-158">Il est recommandé de toouse TLS 1.2 puisqu’il fournit hello plus de sécurité.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-158">It is recommended toouse TLS 1.2 since it provides hello most security.</span></span>

<span data-ttu-id="fd2d5-159">Azure IoT Suite prend en charge hello suivant des Suites de chiffrement, dans cet ordre.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-159">Azure IoT Suite supports hello following Cipher Suites, in this order.</span></span>

| <span data-ttu-id="fd2d5-160">Suite de chiffrement</span><span class="sxs-lookup"><span data-stu-id="fd2d5-160">Cipher Suite</span></span> | <span data-ttu-id="fd2d5-161">Longueur</span><span class="sxs-lookup"><span data-stu-id="fd2d5-161">Length</span></span> |
| --- | --- |
| <span data-ttu-id="fd2d5-162">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA384 (0xc028) ECDH secp384r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-162">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA384 (0xc028) ECDH secp384r1 (eq.</span></span> <span data-ttu-id="fd2d5-163">7680 bits RSA) FS</span><span class="sxs-lookup"><span data-stu-id="fd2d5-163">7680 bits RSA) FS</span></span> |<span data-ttu-id="fd2d5-164">256</span><span class="sxs-lookup"><span data-stu-id="fd2d5-164">256</span></span> |
| <span data-ttu-id="fd2d5-165">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0xc027) ECDH secp256r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-165">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0xc027) ECDH secp256r1 (eq.</span></span> <span data-ttu-id="fd2d5-166">3072 bits RSA) FS</span><span class="sxs-lookup"><span data-stu-id="fd2d5-166">3072 bits RSA) FS</span></span> |<span data-ttu-id="fd2d5-167">128</span><span class="sxs-lookup"><span data-stu-id="fd2d5-167">128</span></span> |
| <span data-ttu-id="fd2d5-168">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA (0xc014) ECDH secp384r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-168">TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA (0xc014) ECDH secp384r1 (eq.</span></span> <span data-ttu-id="fd2d5-169">7680 bits RSA) FS</span><span class="sxs-lookup"><span data-stu-id="fd2d5-169">7680 bits RSA) FS</span></span> |<span data-ttu-id="fd2d5-170">256</span><span class="sxs-lookup"><span data-stu-id="fd2d5-170">256</span></span> |
| <span data-ttu-id="fd2d5-171">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA (0xc013) ECDH secp256r1 (eq.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-171">TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA (0xc013) ECDH secp256r1 (eq.</span></span> <span data-ttu-id="fd2d5-172">3072 bits RSA) FS</span><span class="sxs-lookup"><span data-stu-id="fd2d5-172">3072 bits RSA) FS</span></span> |<span data-ttu-id="fd2d5-173">128</span><span class="sxs-lookup"><span data-stu-id="fd2d5-173">128</span></span> |
| <span data-ttu-id="fd2d5-174">TLS\_RSA\_WITH\_AES\_256\_GCM\_SHA384 (0x9d)</span><span class="sxs-lookup"><span data-stu-id="fd2d5-174">TLS\_RSA\_WITH\_AES\_256\_GCM\_SHA384 (0x9d)</span></span> |<span data-ttu-id="fd2d5-175">256</span><span class="sxs-lookup"><span data-stu-id="fd2d5-175">256</span></span> |
| <span data-ttu-id="fd2d5-176">TLS\_RSA\_WITH\_AES\_128\_GCM\_SHA256 (0x9c)</span><span class="sxs-lookup"><span data-stu-id="fd2d5-176">TLS\_RSA\_WITH\_AES\_128\_GCM\_SHA256 (0x9c)</span></span> |<span data-ttu-id="fd2d5-177">128</span><span class="sxs-lookup"><span data-stu-id="fd2d5-177">128</span></span> |
| <span data-ttu-id="fd2d5-178">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA256 (0x3d)</span><span class="sxs-lookup"><span data-stu-id="fd2d5-178">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA256 (0x3d)</span></span> |<span data-ttu-id="fd2d5-179">256</span><span class="sxs-lookup"><span data-stu-id="fd2d5-179">256</span></span> |
| <span data-ttu-id="fd2d5-180">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0x3c)</span><span class="sxs-lookup"><span data-stu-id="fd2d5-180">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA256 (0x3c)</span></span> |<span data-ttu-id="fd2d5-181">128</span><span class="sxs-lookup"><span data-stu-id="fd2d5-181">128</span></span> |
| <span data-ttu-id="fd2d5-182">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA (0x35)</span><span class="sxs-lookup"><span data-stu-id="fd2d5-182">TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA (0x35)</span></span> |<span data-ttu-id="fd2d5-183">256</span><span class="sxs-lookup"><span data-stu-id="fd2d5-183">256</span></span> |
| <span data-ttu-id="fd2d5-184">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA (0x2f)</span><span class="sxs-lookup"><span data-stu-id="fd2d5-184">TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA (0x2f)</span></span> |<span data-ttu-id="fd2d5-185">128</span><span class="sxs-lookup"><span data-stu-id="fd2d5-185">128</span></span> |
| <span data-ttu-id="fd2d5-186">TLS\_RSA\_WITH\_3DES\_EDE\_CBC\_SHA (0xa)</span><span class="sxs-lookup"><span data-stu-id="fd2d5-186">TLS\_RSA\_WITH\_3DES\_EDE\_CBC\_SHA (0xa)</span></span> |<span data-ttu-id="fd2d5-187">112</span><span class="sxs-lookup"><span data-stu-id="fd2d5-187">112</span></span> |

## <a name="securing-hello-cloud"></a><span data-ttu-id="fd2d5-188">Sécurisation de cloud de hello</span><span class="sxs-lookup"><span data-stu-id="fd2d5-188">Securing hello cloud</span></span>
<span data-ttu-id="fd2d5-189">Azure IoT Hub permet la définition de [stratégies de contrôle d’accès][lnk-protocols] pour chaque clé de sécurité.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-189">Azure IoT Hub allows definition of [access control policies][lnk-protocols] for each security key.</span></span> <span data-ttu-id="fd2d5-190">Il utilise hello ensemble suivant d’autorisations toogrant accès tooeach de points de terminaison de IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-190">It uses hello following set of permissions toogrant access tooeach of IoT Hub's endpoints.</span></span> <span data-ttu-id="fd2d5-191">Autorisations limitent tooan d’accès hello Qu'iot Hub basé sur la fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-191">Permissions limit hello access tooan IoT Hub based on functionality.</span></span>

* <span data-ttu-id="fd2d5-192">**RegistryRead**.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-192">**RegistryRead**.</span></span> <span data-ttu-id="fd2d5-193">Registre des identités toohello accorde un accès en lecture.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-193">Grants read access toohello identity registry.</span></span> <span data-ttu-id="fd2d5-194">Pour plus d’informations, consultez la rubrique dédiée au [registre des identités][lnk-identity-registry].</span><span class="sxs-lookup"><span data-stu-id="fd2d5-194">For more information, see [identity registry][lnk-identity-registry].</span></span>
* <span data-ttu-id="fd2d5-195">**RegistryReadWrite**.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-195">**RegistryReadWrite**.</span></span> <span data-ttu-id="fd2d5-196">Octroie accès en lecture et écriture toohello Registre des identités.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-196">Grants read and write access toohello identity registry.</span></span> <span data-ttu-id="fd2d5-197">Pour plus d’informations, consultez la rubrique dédiée au [registre des identités][lnk-identity-registry].</span><span class="sxs-lookup"><span data-stu-id="fd2d5-197">For more information, see [identity registry][lnk-identity-registry].</span></span>
* <span data-ttu-id="fd2d5-198">**ServiceConnect**.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-198">**ServiceConnect**.</span></span> <span data-ttu-id="fd2d5-199">Octroie accéder toocloud service orientées communication et la surveillance des points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-199">Grants access toocloud service-facing communication and monitoring endpoints.</span></span> <span data-ttu-id="fd2d5-200">Par exemple, il accorde hello récupérer correspondant des accusés de réception de remise des messages appareil-à-cloud autorisation tooback-fin cloud services tooreceive et envoyer des messages cloud-à-appareil.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-200">For example, it grants permission tooback-end cloud services tooreceive device-to-cloud messages, send cloud-to-device messages, and retrieve hello corresponding delivery acknowledgments.</span></span>
* <span data-ttu-id="fd2d5-201">**DeviceConnect**.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-201">**DeviceConnect**.</span></span> <span data-ttu-id="fd2d5-202">Octroie accéder aux points de terminaison toodevice accessibles.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-202">Grants access toodevice-facing endpoints.</span></span> <span data-ttu-id="fd2d5-203">Par exemple, il accorde l’autorisation des messages appareil-à-cloud toosend et recevoir des messages cloud-à-appareil.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-203">For example, it grants permission toosend device-to-cloud messages and receive cloud-to-device messages.</span></span> <span data-ttu-id="fd2d5-204">Cette autorisation est utilisée par les appareils.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-204">This permission is used by devices.</span></span>

<span data-ttu-id="fd2d5-205">Il existe deux façons tooobtain **DeviceConnect** autorisations avec IoT Hub avec [les jetons de sécurité][lnk-sas-tokens]: à l’aide d’une clé d’identité de périphérique, ou une clé d’accès partagé.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-205">There are two ways tooobtain **DeviceConnect** permissions with IoT Hub with [security tokens][lnk-sas-tokens]: using a device identity key, or a shared access key.</span></span> <span data-ttu-id="fd2d5-206">En outre, il est important toonote toutes les fonctionnalités accessibles à partir d’appareils exposé par la conception sur les points de terminaison avec le préfixe `/devices/{deviceId}`.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-206">Moreover, it is important toonote that all functionality accessible from devices is exposed by design on endpoints with prefix `/devices/{deviceId}`.</span></span>

<span data-ttu-id="fd2d5-207">[Composants de service peuvent uniquement créer des jetons de sécurité] [ lnk-service-tokens] à l’aide des stratégies d’accès l’octroi d’autorisations approprié de hello partagé.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-207">[Service components can only generate security tokens][lnk-service-tokens] using shared access policies granting hello appropriate permissions.</span></span>

<span data-ttu-id="fd2d5-208">IoT Hub Azure et autres services qui peuvent faire partie d’une solution de hello autoriser la gestion des utilisateurs à l’aide de hello Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-208">Azure IoT Hub and other services which may be part of hello solution allow management of users using hello Azure Active Directory.</span></span>

<span data-ttu-id="fd2d5-209">Les données reçues par Azure IoT Hub peuvent être utilisées par une variété de services comme Azure Stream Analytics et le stockage d’objets blob.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-209">Data ingested by Azure IoT Hub can be consumed by a variety of services such as Azure Stream Analytics and Azure blob storage.</span></span> <span data-ttu-id="fd2d5-210">Ces services permettent un accès en gestion.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-210">These services allow management access.</span></span> <span data-ttu-id="fd2d5-211">En savoir plus sur ces services et les options disponibles ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="fd2d5-211">Read more about these services and available options below:</span></span>

* <span data-ttu-id="fd2d5-212">[Azure DocumentDB][lnk-docdb]: un service de base de données évolutives et entièrement indexés pour des données semi-structurées qui gère les métadonnées pour les appareils hello vous configurez, telles que des attributs, la configuration et les propriétés de sécurité.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-212">[Azure DocumentDB][lnk-docdb]: A scalable, fully-indexed database service for semi-structured data that manages metadata for hello devices you provision, such as attributes, configuration, and security properties.</span></span> <span data-ttu-id="fd2d5-213">DocumentDB assure un traitement hautes performances et à débit élevé, ainsi qu’une indexation des données indépendante du schéma. Ce service offre également une interface de requête SQL enrichie.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-213">DocumentDB offers high-performance and high-throughput processing, schema-agnostic indexing of data, and a rich SQL query interface.</span></span>
* <span data-ttu-id="fd2d5-214">[Analytique de flux de données Azure][lnk-asa]: flux en temps réel de traitement dans le cloud hello toorapidly vous permet de développer et déployer un informations économiques analytique solution toouncover en temps réel à partir d’appareils, capteurs, infrastructure et les applications.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-214">[Azure Stream Analytics][lnk-asa]: Real-time stream processing in hello cloud that enables you toorapidly develop and deploy a low-cost analytics solution toouncover real-time insights from devices, sensors, infrastructure, and applications.</span></span> <span data-ttu-id="fd2d5-215">les données de salutation à partir de ce service entièrement géré peuvent évoluer tooany volume tout en atteignant un débit élevé, une latence faible et résilience.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-215">hello data from this fully-managed service can scale tooany volume while still achieving high throughput, low latency, and resiliency.</span></span>
* <span data-ttu-id="fd2d5-216">[Services d’application Azure][lnk-appservices]: un cloud platform toobuild puissantes applications web et mobiles qui se connectent toodata n’importe où ; dans le cloud de hello ou localement.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-216">[Azure App Services][lnk-appservices]: A cloud platform toobuild powerful web and mobile apps that connect toodata anywhere; in hello cloud or on-premises.</span></span> <span data-ttu-id="fd2d5-217">Créez des applications mobiles attrayantes pour iOS, Android et Windows.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-217">Build engaging mobile apps for iOS, Android, and Windows.</span></span> <span data-ttu-id="fd2d5-218">Intégrer avec votre logiciel comme un Service (SaaS) et d’entreprise des applications avec toodozens out of box connectivité des services basés sur le cloud et applications d’entreprise.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-218">Integrate with your Software as a Service (SaaS) and enterprise applications with out-of-the-box connectivity toodozens of cloud-based services and enterprise applications.</span></span> <span data-ttu-id="fd2d5-219">Le code dans votre langage favori et l’IDE et les applications web toobuild (.NET, Node.js, PHP, Python ou Java) et API plus rapidement qu’auparavant.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-219">Code in your favorite language and IDE (.NET, Node.js, PHP, Python, or Java) toobuild web apps and APIs faster than ever.</span></span>
* <span data-ttu-id="fd2d5-220">[Logique d’applications][lnk-logicapps]: fonctionnalité de Logic Apps hello du Service d’applications Azure permet d’intégrer vos systèmes métier-IoT solution tooyour existants et d’automatiser les processus de flux de travail.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-220">[Logic Apps][lnk-logicapps]: hello Logic Apps feature of Azure App Service helps integrate your IoT solution tooyour existing line-of-business systems and automate workflow processes.</span></span> <span data-ttu-id="fd2d5-221">Logique d’applications permet aux développeurs toodesign des flux de travail qui démarrent à partir d’un déclencheur, puis exécutent une série d’étapes, les règles et les actions qui utilisent des connecteurs puissant toointegrate avec vos processus d’entreprise.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-221">Logic Apps enables developers toodesign workflows that start from a trigger and then execute a series of steps—rules and actions that use powerful connectors toointegrate with your business processes.</span></span> <span data-ttu-id="fd2d5-222">Logique d’applications offre d’emploi connectivité tooa vaste écosystème de SaaS, basé sur le cloud et des applications sur site.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-222">Logic Apps offers out-of-the-box connectivity tooa vast ecosystem of SaaS, cloud-based, and on-premises applications.</span></span>
* <span data-ttu-id="fd2d5-223">[Stockage d’objets blob Azure][lnk-blob]: stockage cloud fiable et économique pour les données hello que vos appareils envoient toohello cloud.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-223">[Azure blob storage][lnk-blob]: Reliable, economical cloud storage for hello data that your devices send toohello cloud.</span></span>

## <a name="conclusion"></a><span data-ttu-id="fd2d5-224">Conclusion</span><span class="sxs-lookup"><span data-stu-id="fd2d5-224">Conclusion</span></span>
<span data-ttu-id="fd2d5-225">Cet article fournit une vue d’ensemble des détails au niveau de l’implémentation pour concevoir et déployer une infrastructure IoT à l’aide d’Azure IoT.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-225">This article provides overview of implementation level details for designing and deploying an IoT infrastructure using Azure IoT.</span></span> <span data-ttu-id="fd2d5-226">Configuration de chaque composant toobe sécurisée est la clé pour la sécurisation de hello infrastructure IoT globale.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-226">Configuring each component toobe secure is key in securing hello overall IoT infrastructure.</span></span> <span data-ttu-id="fd2d5-227">le choix de conception Hello disponible dans Azure IoT permettent un certain degré de souplesse et de choix ; Toutefois, chaque choix peut avoir des implications de sécurité.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-227">hello design choices available in Azure IoT provide some level of flexibility and choice; however, each choice may have security implications.</span></span> <span data-ttu-id="fd2d5-228">Nous vous recommandons d’évaluer chacun de ces choix à l’aide d’une évaluation des risques et du coût.</span><span class="sxs-lookup"><span data-stu-id="fd2d5-228">It is recommended that each of these choices be evaluated through a risk/cost assessment.</span></span>

[img-overview]: media/iot-secure-your-deployment/overview.png

[lnk-security-tokens]: ../articles/iot-hub/iot-hub-devguide-security.md#security-token-structure
[lnk-sas-tokens]: ../articles/iot-hub/iot-hub-devguide-security.md#use-sas-tokens-in-a-device-app
[lnk-identity-registry]: ../articles/iot-hub/iot-hub-devguide-identity-registry.md
[lnk-protocols]: ../articles/iot-hub/iot-hub-devguide-security.md
[lnk-custom-auth]: ../articles/iot-hub/iot-hub-devguide-security.md#custom-device-authentication
[lnk-x509]: http://www.itu.int/rec/T-REC-X.509-201210-I/en
[lnk-use-x509]: ../articles/iot-hub/iot-hub-devguide-security.md
[lnk-tls12]: https://tools.ietf.org/html/rfc5246
[lnk-service-tokens]: ../articles/iot-hub/iot-hub-devguide-security.md#use-security-tokens-from-service-components
[lnk-docdb]: https://azure.microsoft.com/services/documentdb/
[lnk-asa]: https://azure.microsoft.com/services/stream-analytics/
[lnk-appservices]: https://azure.microsoft.com/services/app-service/
[lnk-logicapps]: https://azure.microsoft.com/services/app-service/logic/
[lnk-blob]: https://azure.microsoft.com/services/storage/
