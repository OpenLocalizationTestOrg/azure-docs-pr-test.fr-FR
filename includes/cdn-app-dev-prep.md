## <a name="prerequisites"></a><span data-ttu-id="6025a-101">Composants requis</span><span class="sxs-lookup"><span data-stu-id="6025a-101">Prerequisites</span></span>
<span data-ttu-id="6025a-102">Nous pouvons écrire le code de gestion CDN, nous devons toodo certains tooenable préparation notre toointeract code avec hello Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="6025a-102">Before we can write CDN management code, we need toodo some preparation tooenable our code toointeract with hello Azure Resource Manager.</span></span>  <span data-ttu-id="6025a-103">toodo, vous devez :</span><span class="sxs-lookup"><span data-stu-id="6025a-103">toodo this, you'll need to:</span></span>

* <span data-ttu-id="6025a-104">Créer un ordinateur ressource groupe toocontain hello profil CDN que nous avons créé dans ce didacticiel</span><span class="sxs-lookup"><span data-stu-id="6025a-104">Create a resource group toocontain hello CDN profile we create in this tutorial</span></span>
* <span data-ttu-id="6025a-105">Configurer l’authentification Azure Active Directory tooprovide pour notre application</span><span class="sxs-lookup"><span data-stu-id="6025a-105">Configure Azure Active Directory tooprovide authentication for our application</span></span>
* <span data-ttu-id="6025a-106">Appliquer des autorisations de groupe de ressources toohello afin que seules les utilisateurs à partir de notre client Azure AD peut interagir avec notre profil CDN</span><span class="sxs-lookup"><span data-stu-id="6025a-106">Apply permissions toohello resource group so that only authorized users from our Azure AD tenant can interact with our CDN profile</span></span>

### <a name="creating-hello-resource-group"></a><span data-ttu-id="6025a-107">Création du groupe de ressources hello</span><span class="sxs-lookup"><span data-stu-id="6025a-107">Creating hello resource group</span></span>
1. <span data-ttu-id="6025a-108">Ouvrez une session sur hello [Azure Portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="6025a-108">Log into hello [Azure Portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="6025a-109">Cliquez sur hello **nouveau** bouton dans le coin supérieur gauche de hello, puis **gestion**, et **groupe de ressources**.</span><span class="sxs-lookup"><span data-stu-id="6025a-109">Click hello **New** button in hello upper left, and then **Management**, and **Resource Group**.</span></span>

    ![Création d’un groupe de ressources](./media/cdn-app-dev-prep/cdn-new-rg-1-include.png)
3. <span data-ttu-id="6025a-111">Attribuez à votre groupe de ressources le nom *CdnConsoleTutorial*.</span><span class="sxs-lookup"><span data-stu-id="6025a-111">Call your resource group *CdnConsoleTutorial*.</span></span>  <span data-ttu-id="6025a-112">Sélectionnez votre abonnement et choisissez un emplacement près de chez vous.</span><span class="sxs-lookup"><span data-stu-id="6025a-112">Select your subscription and choose a location near you.</span></span>  <span data-ttu-id="6025a-113">Si vous le souhaitez, vous pouvez cliquer sur hello **toodashboard du code confidentiel** case à cocher toopin hello ressource groupe toohello tableau de bord de portail de hello.</span><span class="sxs-lookup"><span data-stu-id="6025a-113">If you wish, you may click hello **Pin toodashboard** checkbox toopin hello resource group toohello dashboard in hello portal.</span></span>  <span data-ttu-id="6025a-114">Cela rend plus facile toofind plus tard.</span><span class="sxs-lookup"><span data-stu-id="6025a-114">This will make it easier toofind later.</span></span>  <span data-ttu-id="6025a-115">Une fois vos sélections effectuées, cliquez sur **Créer**.</span><span class="sxs-lookup"><span data-stu-id="6025a-115">After you've made your selections, click **Create**.</span></span>

    ![Groupe de ressources d’affectation de noms hello](./media/cdn-app-dev-prep/cdn-new-rg-2-include.png)
4. <span data-ttu-id="6025a-117">Une fois le groupe de ressources hello est créé, si vous n’avez pas l’épinglez tooyour le tableau de bord, vous pouvez le trouver en cliquant sur **Parcourir**, puis **groupes de ressources**.</span><span class="sxs-lookup"><span data-stu-id="6025a-117">After hello resource group is created, if you didn't pin it tooyour dashboard, you can find it by clicking **Browse**, then **Resource Groups**.</span></span>  <span data-ttu-id="6025a-118">Cliquez sur tooopen de groupe de ressources hello il.</span><span class="sxs-lookup"><span data-stu-id="6025a-118">Click hello resource group tooopen it.</span></span>  <span data-ttu-id="6025a-119">Notez votre **ID d’abonnement**.</span><span class="sxs-lookup"><span data-stu-id="6025a-119">Make a note of your **Subscription ID**.</span></span>  <span data-ttu-id="6025a-120">Vous en aurez besoin ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="6025a-120">We'll need it later.</span></span>

    ![Groupe de ressources d’affectation de noms hello](./media/cdn-app-dev-prep/cdn-subscription-id-include.png)

### <a name="creating-hello-azure-ad-application-and-applying-permissions"></a><span data-ttu-id="6025a-122">Création d’application hello Azure AD et appliquer des autorisations</span><span class="sxs-lookup"><span data-stu-id="6025a-122">Creating hello Azure AD application and applying permissions</span></span>
<span data-ttu-id="6025a-123">Il existe deux approches de l’authentification avec Azure Active Directory tooapp : des utilisateurs individuels ou un principal de service.</span><span class="sxs-lookup"><span data-stu-id="6025a-123">There are two approaches tooapp authentication with Azure Active Directory: Individual users or a service principal.</span></span> <span data-ttu-id="6025a-124">Un principal de service est un compte service tooa similaire dans Windows.</span><span class="sxs-lookup"><span data-stu-id="6025a-124">A service principal is similar tooa service account in Windows.</span></span>  <span data-ttu-id="6025a-125">Au lieu d’accorder un toointeract d’autorisations utilisateur particulier avec des profils de CDN hello, nous à la place accorder les autorisations hello toohello principal du service.</span><span class="sxs-lookup"><span data-stu-id="6025a-125">Instead of granting a particular user permissions toointeract with hello CDN profiles, we instead grant hello permissions toohello service principal.</span></span>  <span data-ttu-id="6025a-126">Les principaux de service s’utilisent généralement pour des processus automatisés et non interactifs.</span><span class="sxs-lookup"><span data-stu-id="6025a-126">Service principals are generally used for automated, non-interactive processes.</span></span>  <span data-ttu-id="6025a-127">Bien que ce didacticiel est l’écriture d’une application console interactive, nous allons nous concentrer sur l’approche de hello service principal.</span><span class="sxs-lookup"><span data-stu-id="6025a-127">Even though this tutorial is writing an interactive console app, we'll focus on hello service principal approach.</span></span>

<span data-ttu-id="6025a-128">La création d’un principal de service comprend plusieurs étapes, dont la création d’une application Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="6025a-128">Creating a service principal consists of several steps, including creating an Azure Active Directory application.</span></span>  <span data-ttu-id="6025a-129">toodo, nous allons trop[suivez ce didacticiel](../articles/resource-group-create-service-principal-portal.md).</span><span class="sxs-lookup"><span data-stu-id="6025a-129">toodo this, we're going too[follow this tutorial](../articles/resource-group-create-service-principal-portal.md).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="6025a-130">Être toofollow que toutes les étapes hello hello [didacticiel lié](../articles/resource-group-create-service-principal-portal.md).</span><span class="sxs-lookup"><span data-stu-id="6025a-130">Be sure toofollow all hello steps in hello [linked tutorial](../articles/resource-group-create-service-principal-portal.md).</span></span>  <span data-ttu-id="6025a-131">Il est *primordial* de suivre la procédure à la lettre.</span><span class="sxs-lookup"><span data-stu-id="6025a-131">It is *extremely important* that you complete it exactly as described.</span></span>  <span data-ttu-id="6025a-132">Assurez-vous que toonote votre **ID de locataire**, **nom de domaine client** (généralement un *. onmicrosoft.com* domaine, sauf si vous avez spécifié un domaine personnalisé), **ID client** , et **clé d’authentification client**, comme nous aurez besoin ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="6025a-132">Make sure toonote your **tenant ID**, **tenant domain name** (commonly a *.onmicrosoft.com* domain unless you've specified a custom domain), **client ID**, and **client authentication key**, as we will need these later.</span></span>  <span data-ttu-id="6025a-133">Être très prudent tooguard votre **ID client** et **clé d’authentification client**, car ces informations d’identification peuvent être utilisée par tout le monde tooexecute opérations en tant que principal du service hello.</span><span class="sxs-lookup"><span data-stu-id="6025a-133">Be very careful tooguard your **client ID** and **client authentication key**, as these credentials can be used by anyone tooexecute operations as hello service principal.</span></span>
>
> <span data-ttu-id="6025a-134">Lorsque vous obtenez l’étape toohello nommé configurer une application mutualisée, sélectionnez **non**.</span><span class="sxs-lookup"><span data-stu-id="6025a-134">When you get toohello step named Configure multi-tenant application, select **No**.</span></span>
>
> <span data-ttu-id="6025a-135">Si vous obtenez les toohello étape [affecter l’application toorole](../articles/azure-resource-manager/resource-group-create-service-principal-portal.md#assign-application-to-role), groupe de ressources utiliser hello créée précédemment, *CdnConsoleTutorial*, mais au lieu de hello **lecteur** rôle, affecter Hello **collaborateur de profil CDN** rôle.</span><span class="sxs-lookup"><span data-stu-id="6025a-135">When you get toohello step [Assign application toorole](../articles/azure-resource-manager/resource-group-create-service-principal-portal.md#assign-application-to-role), use hello resource group we created earlier,  *CdnConsoleTutorial*, but instead of hello **Reader** role, assign hello **CDN Profile Contributor** role.</span></span>  <span data-ttu-id="6025a-136">Après avoir attribué hello d’application hello **collaborateur de profil CDN** rôle sur votre groupe de ressources, retour toothis didacticiel.</span><span class="sxs-lookup"><span data-stu-id="6025a-136">After you assign hello application hello **CDN Profile Contributor** role on your resource group, return toothis tutorial.</span></span> 
>
>

<span data-ttu-id="6025a-137">Une fois que vous avez créé votre hello de service principal et affectés **collaborateur de profil CDN** rôle, hello **utilisateurs** panneau pour votre groupe de ressources doit ressembler toothis similaire.</span><span class="sxs-lookup"><span data-stu-id="6025a-137">Once you've created your service principal and assigned hello **CDN Profile Contributor** role, hello **Users** blade for your resource group should look similar toothis.</span></span>

![Panneau Utilisateurs](./media/cdn-app-dev-prep/cdn-service-principal-include.png)

### <a name="interactive-user-authentication"></a><span data-ttu-id="6025a-139">Authentification interactive des utilisateurs</span><span class="sxs-lookup"><span data-stu-id="6025a-139">Interactive user authentication</span></span>
<span data-ttu-id="6025a-140">Si, au lieu d’un principal de service, vous préférez que l’authentification d’utilisateur interactif, processus de hello est très similaire toothat pour un principal de service.</span><span class="sxs-lookup"><span data-stu-id="6025a-140">If, instead of a service principal, you'd rather have interactive individual user authentication, hello process is very similar toothat for a service principal.</span></span>  <span data-ttu-id="6025a-141">En fait, vous devez toofollow hello la même procédure, mais apporter quelques modifications mineures.</span><span class="sxs-lookup"><span data-stu-id="6025a-141">In fact, you will need toofollow hello same procedure, but make a few minor changes.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="6025a-142">Procédez comme suit uniquement si vous choisissez l’authentification utilisateur individuel toouse au lieu d’un service principal.</span><span class="sxs-lookup"><span data-stu-id="6025a-142">Only follow these next steps if you are choosing toouse individual user authentication instead of a service principal.</span></span>
>
>

1. <span data-ttu-id="6025a-143">Lors de la création de votre application, au lieu de choisir **Application web**, sélectionnez **Application native**.</span><span class="sxs-lookup"><span data-stu-id="6025a-143">When creating your application, instead of **Web Application**, choose **Native application**.</span></span>

    ![Application native](./media/cdn-app-dev-prep/cdn-native-application-include.png)
2. <span data-ttu-id="6025a-145">Sur la page suivante de hello, vous serez invité pour un **URI de redirection**.</span><span class="sxs-lookup"><span data-stu-id="6025a-145">On hello next page, you will be prompted for a **redirect URI**.</span></span>  <span data-ttu-id="6025a-146">Hello URI ne sont pas validés, mais rappelez-vous que vous avez entrés.</span><span class="sxs-lookup"><span data-stu-id="6025a-146">hello URI won't be validated, but remember what you entered.</span></span>  <span data-ttu-id="6025a-147">Vous en aurez besoin ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="6025a-147">You'll need it later.</span></span>
3. <span data-ttu-id="6025a-148">Il n’existe aucun besoin toocreate un **clé d’authentification client**.</span><span class="sxs-lookup"><span data-stu-id="6025a-148">There is no need toocreate a **client authentication key**.</span></span>
4. <span data-ttu-id="6025a-149">Au lieu d’affecter un toohello de principal du service **collaborateur de profil CDN** rôle, nous allons tooassign utilisateurs ou groupes individuels.</span><span class="sxs-lookup"><span data-stu-id="6025a-149">Instead of assigning a service principal toohello **CDN Profile Contributor** role, we're going tooassign individual users or groups.</span></span>  <span data-ttu-id="6025a-150">Dans cet exemple, vous pouvez voir que j’ai attribué *CDN démonstration utilisateur* toohello **collaborateur de profil CDN** rôle.</span><span class="sxs-lookup"><span data-stu-id="6025a-150">In this example, you can see that I've assigned  *CDN Demo User* toohello **CDN Profile Contributor** role.</span></span>  

    ![Accès d’utilisateurs individuels](./media/cdn-app-dev-prep/cdn-aad-user-include.png)
