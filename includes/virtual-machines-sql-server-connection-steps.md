### <a name="open-tcp-ports-in-hello-windows-firewall-for-hello-default-instance-of-hello-database-engine"></a><span data-ttu-id="2684e-101">Ouvrez les ports TCP dans le pare-feu Windows hello hello instance par défaut de hello du moteur de base de données</span><span class="sxs-lookup"><span data-stu-id="2684e-101">Open TCP ports in hello Windows firewall for hello default instance of hello Database Engine</span></span>
1. <span data-ttu-id="2684e-102">Se connecter toohello virtuels avec le Bureau à distance.</span><span class="sxs-lookup"><span data-stu-id="2684e-102">Connect toohello virtual machine with Remote Desktop.</span></span> <span data-ttu-id="2684e-103">Pour obtenir des instructions détaillées sur la connexion toohello machine virtuelle, consultez [ouvrir une VM SQL avec le Bureau à distance](../articles/virtual-machines/windows/sql/virtual-machines-windows-portal-sql-server-provision.md#open-the-vm-with-remote-desktop).</span><span class="sxs-lookup"><span data-stu-id="2684e-103">For detailed instructions on connecting toohello VM, see [Open a SQL VM with Remote Desktop](../articles/virtual-machines/windows/sql/virtual-machines-windows-portal-sql-server-provision.md#open-the-vm-with-remote-desktop).</span></span>
2. <span data-ttu-id="2684e-104">Une fois connecté, à l’écran d’accueil hello, tapez **WF.msc**, puis appuyez sur ENTRÉE.</span><span class="sxs-lookup"><span data-stu-id="2684e-104">Once logged in, at hello Start screen, type **WF.msc**, and then hit ENTER.</span></span>
   
    ![Démarrer hello programme de pare-feu](./media/virtual-machines-sql-server-connection-steps/12Open-WF.png)
3. <span data-ttu-id="2684e-106">Bonjour **pare-feu Windows avec fonctions avancées de sécurité**, dans hello du volet gauche, cliquez sur **règles de trafic entrant**, puis cliquez sur **nouvelle règle** dans le volet d’actions hello.</span><span class="sxs-lookup"><span data-stu-id="2684e-106">In hello **Windows Firewall with Advanced Security**, in hello left pane, right-click **Inbound Rules**, and then click **New Rule** in hello action pane.</span></span>
   
    ![Nouvelle règle](./media/virtual-machines-sql-server-connection-steps/13New-FW-Rule.png)
4. <span data-ttu-id="2684e-108">Bonjour **Assistant Nouvelle règle de trafic entrant** boîte de dialogue **le Type de règle**, sélectionnez **Port**, puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="2684e-108">In hello **New Inbound Rule Wizard** dialog box, under **Rule Type**, select **Port**, and then click **Next**.</span></span>
5. <span data-ttu-id="2684e-109">Bonjour **protocole et Ports** boîte de dialogue, par défaut hello **TCP**.</span><span class="sxs-lookup"><span data-stu-id="2684e-109">In hello **Protocol and Ports** dialog, use hello default **TCP**.</span></span> <span data-ttu-id="2684e-110">Bonjour **ports locaux spécifiques** zone, puis hello de type numéro de port d’instance hello Hello du moteur de base de données (**1433** pour l’instance par défaut de hello ou de votre choix pour un port privé à l’étape de point de terminaison hello hello).</span><span class="sxs-lookup"><span data-stu-id="2684e-110">In hello **Specific local ports** box, then type hello port number of hello instance of hello Database Engine (**1433** for hello default instance or your choice for hello private port in hello endpoint step).</span></span>
   
    ![Port TCP 1433](./media/virtual-machines-sql-server-connection-steps/14Port-1433.png)
6. <span data-ttu-id="2684e-112">Cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="2684e-112">Click **Next**.</span></span>
7. <span data-ttu-id="2684e-113">Bonjour **Action** boîte de dialogue, sélectionnez **autoriser la connexion hello**, puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="2684e-113">In hello **Action** dialog box, select **Allow hello connection**, and then click **Next**.</span></span>
   
    <span data-ttu-id="2684e-114">**Note de sécurité :** sélection **autoriser la connexion de hello si elle est sécurisée** peut fournir une sécurité supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="2684e-114">**Security Note:** Selecting **Allow hello connection if it is secure** can provide additional security.</span></span> <span data-ttu-id="2684e-115">Sélectionnez cette option si vous souhaitez que les options de sécurité supplémentaires tooconfigure dans votre environnement.</span><span class="sxs-lookup"><span data-stu-id="2684e-115">Select this option if you want tooconfigure additional security options in your environment.</span></span>
   
    ![Autoriser les connexions](./media/virtual-machines-sql-server-connection-steps/15Allow-Connection.png)
8. <span data-ttu-id="2684e-117">Bonjour **profil** boîte de dialogue, sélectionnez **Public**, **privé**, et **domaine**.</span><span class="sxs-lookup"><span data-stu-id="2684e-117">In hello **Profile** dialog box, select **Public**, **Private**, and **Domain**.</span></span> <span data-ttu-id="2684e-118">Cliquez ensuite sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="2684e-118">Then click **Next**.</span></span>
   
    <span data-ttu-id="2684e-119">**Note de sécurité :** sélection **Public** autorise l’accès via internet de hello.</span><span class="sxs-lookup"><span data-stu-id="2684e-119">**Security Note:**  Selecting **Public** allows access over hello internet.</span></span> <span data-ttu-id="2684e-120">Lorsque cela est possible, sélectionnez un profil plus restrictif.</span><span class="sxs-lookup"><span data-stu-id="2684e-120">Whenever possible, select a more restrictive profile.</span></span>
   
    ![Profil public](./media/virtual-machines-sql-server-connection-steps/16Public-Private-Domain-Profile.png)
9. <span data-ttu-id="2684e-122">Bonjour **nom** boîte de dialogue, tapez un nom et une description pour cette règle, puis cliquez sur **Terminer**.</span><span class="sxs-lookup"><span data-stu-id="2684e-122">In hello **Name** dialog box, type a name and description for this rule, and then click **Finish**.</span></span>
   
    ![Nom de la règle](./media/virtual-machines-sql-server-connection-steps/17Rule-Name.png)

<span data-ttu-id="2684e-124">Le cas échéant, ouvrez des ports supplémentaires pour les autres composants.</span><span class="sxs-lookup"><span data-stu-id="2684e-124">Open additional ports for other components as needed.</span></span> <span data-ttu-id="2684e-125">Pour plus d’informations, consultez [tooAllow de pare-feu Windows hello accès à SQL Server de configuration](http://msdn.microsoft.com/library/cc646023.aspx).</span><span class="sxs-lookup"><span data-stu-id="2684e-125">For more information, see [Configuring hello Windows Firewall tooAllow SQL Server Access](http://msdn.microsoft.com/library/cc646023.aspx).</span></span>

### <a name="configure-sql-server-toolisten-on-hello-tcp-protocol"></a><span data-ttu-id="2684e-126">Configurer SQL Server toolisten sur hello protocole TCP</span><span class="sxs-lookup"><span data-stu-id="2684e-126">Configure SQL Server toolisten on hello TCP protocol</span></span>

[!INCLUDE [Enable TCP](virtual-machines-sql-server-connection-tcp-protocol.md)]

### <a name="configure-sql-server-for-mixed-mode-authentication"></a><span data-ttu-id="2684e-127">Configuration de SQL Server pour l'authentification en mode mixte</span><span class="sxs-lookup"><span data-stu-id="2684e-127">Configure SQL Server for mixed mode authentication</span></span>
<span data-ttu-id="2684e-128">Hello du moteur de base de données SQL Server ne peut pas utiliser l’authentification Windows sans environnement de domaine.</span><span class="sxs-lookup"><span data-stu-id="2684e-128">hello SQL Server Database Engine cannot use Windows Authentication without domain environment.</span></span> <span data-ttu-id="2684e-129">tooconnect toohello du moteur de base de données à partir d’un autre ordinateur, configurez SQL Server pour l’authentification en mode mixte.</span><span class="sxs-lookup"><span data-stu-id="2684e-129">tooconnect toohello Database Engine from another computer, configure SQL Server for mixed mode authentication.</span></span> <span data-ttu-id="2684e-130">qui permet l'authentification SQL Server et l'authentification Windows</span><span class="sxs-lookup"><span data-stu-id="2684e-130">Mixed mode authentication allows both SQL Server Authentication and Windows Authentication.</span></span>

> [!NOTE]
> <span data-ttu-id="2684e-131">(il n’est pas nécessaire de configurer l’authentification en mode mixte si vous avez configuré un réseau virtuel Azure avec un environnement de domaine configuré).</span><span class="sxs-lookup"><span data-stu-id="2684e-131">Configuring mixed mode authentication might not be necessary if you have configured an Azure Virtual Network with a configured domain environment.</span></span>
> 
> 

1. <span data-ttu-id="2684e-132">Lors de la machine virtuelle toohello connecté, sur la page de démarrage hello, tapez **SQL Server Management Studio** et cliquez sur icône sélectionnée de hello.</span><span class="sxs-lookup"><span data-stu-id="2684e-132">While connected toohello virtual machine, on hello Start page, type **SQL Server Management Studio** and click hello selected icon.</span></span>
   
    <span data-ttu-id="2684e-133">Hello la première fois que vous ouvrez Management Studio, il doit créer des environnement de Management Studio utilisateurs hello.</span><span class="sxs-lookup"><span data-stu-id="2684e-133">hello first time you open Management Studio it must create hello users Management Studio environment.</span></span> <span data-ttu-id="2684e-134">Cette opération peut prendre du temps.</span><span class="sxs-lookup"><span data-stu-id="2684e-134">This may take a few moments.</span></span>
2. <span data-ttu-id="2684e-135">Management Studio présente hello **connecter tooServer** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="2684e-135">Management Studio presents hello **Connect tooServer** dialog box.</span></span> <span data-ttu-id="2684e-136">Bonjour **nom du serveur** zone, entrez un nom hello de hello machine virtuelle tooconnect toohello du moteur de base de données avec l’Explorateur d’objets de hello (au lieu du nom d’ordinateur virtuel hello vous pouvez également utiliser **(local)** ou un période unique comme hello **nom du serveur**).</span><span class="sxs-lookup"><span data-stu-id="2684e-136">In hello **Server name** box, type hello name of hello virtual machine tooconnect toohello Database Engine  with hello Object Explorer (Instead of hello virtual machine name you can also use **(local)** or a single period as hello **Server name**).</span></span> <span data-ttu-id="2684e-137">Sélectionnez **l’authentification Windows**et laisser  ***your_VM_name*\your_local_administrator** Bonjour **nom d’utilisateur** boîte.</span><span class="sxs-lookup"><span data-stu-id="2684e-137">Select **Windows Authentication**, and leave ***your_VM_name*\your_local_administrator** in hello **User name** box.</span></span> <span data-ttu-id="2684e-138">Cliquez sur **Connecter**.</span><span class="sxs-lookup"><span data-stu-id="2684e-138">Click **Connect**.</span></span>
   
    ![Se connecter tooServer](./media/virtual-machines-sql-server-connection-steps/19Connect-to-Server.png)
3. <span data-ttu-id="2684e-140">Dans l’Explorateur d’objets SQL Server Management Studio, le bouton droit sur hello instance hello de SQL Server (nom de machine virtuelle hello), puis cliquez sur **propriétés**.</span><span class="sxs-lookup"><span data-stu-id="2684e-140">In SQL Server Management Studio Object Explorer, right-click hello name of hello instance of SQL Server (hello virtual machine name), and then click **Properties**.</span></span>
   
    ![Propriétés de serveur](./media/virtual-machines-sql-server-connection-steps/20Server-Properties.png)
4. <span data-ttu-id="2684e-142">Sur hello **sécurité** sous **l’authentification du serveur**, sélectionnez **mode d’authentification SQL Server et Windows**, puis cliquez sur **OK** .</span><span class="sxs-lookup"><span data-stu-id="2684e-142">On hello **Security** page, under **Server authentication**, select **SQL Server and Windows Authentication mode**, and then click **OK**.</span></span>
   
    ![Sélectionner le mode d'authentification](./media/virtual-machines-sql-server-connection-steps/21Mixed-Mode.png)
5. <span data-ttu-id="2684e-144">Dans la boîte de dialogue hello SQL Server Management Studio, cliquez sur **OK** tooacknowledge hello exigence toorestart SQL Server.</span><span class="sxs-lookup"><span data-stu-id="2684e-144">In hello SQL Server Management Studio dialog box, click **OK** tooacknowledge hello requirement toorestart SQL Server.</span></span>
6. <span data-ttu-id="2684e-145">Dans l’Explorateur d’objets, cliquez avec le bouton droit sur votre serveur, puis cliquez sur **Redémarrer**.</span><span class="sxs-lookup"><span data-stu-id="2684e-145">In Object Explorer, right-click your server, and then click **Restart**.</span></span> <span data-ttu-id="2684e-146">(si SQL Server Agent est exécuté, il doit également être redémarré).</span><span class="sxs-lookup"><span data-stu-id="2684e-146">(If SQL Server Agent is running, it must also be restarted.)</span></span>
   
    ![Redémarrer](./media/virtual-machines-sql-server-connection-steps/22Restart2.png)
7. <span data-ttu-id="2684e-148">Dans la boîte de dialogue hello SQL Server Management Studio, cliquez sur **Oui** tooagree que vous souhaitez toorestart SQL Server.</span><span class="sxs-lookup"><span data-stu-id="2684e-148">In hello SQL Server Management Studio dialog box, click **Yes** tooagree that you want toorestart SQL Server.</span></span>

### <a name="create-sql-server-authentication-logins"></a><span data-ttu-id="2684e-149">Création de connexions d'authentification SQL Server</span><span class="sxs-lookup"><span data-stu-id="2684e-149">Create SQL Server authentication logins</span></span>
<span data-ttu-id="2684e-150">tooconnect toohello du moteur de base de données à partir d’un autre ordinateur, vous devez créer au moins une connexion d’authentification SQL Server.</span><span class="sxs-lookup"><span data-stu-id="2684e-150">tooconnect toohello Database Engine from another computer, you must create at least one SQL Server authentication login.</span></span>

1. <span data-ttu-id="2684e-151">Dans l’Explorateur d’objets SQL Server Management Studio, développez le dossier hello d’instance de serveur hello dans lequel vous souhaitez toocreate hello nouveau compte de connexion.</span><span class="sxs-lookup"><span data-stu-id="2684e-151">In SQL Server Management Studio Object Explorer, expand hello folder of hello server instance in which you want toocreate hello new login.</span></span>
2. <span data-ttu-id="2684e-152">Avec le bouton hello **sécurité** dossier, pointez trop**nouveau**, puis sélectionnez **connexion...** .</span><span class="sxs-lookup"><span data-stu-id="2684e-152">Right-click hello **Security** folder, point too**New**, and select **Login...**.</span></span>
   
    ![Nouvelle connexion](./media/virtual-machines-sql-server-connection-steps/23New-Login.png)
3. <span data-ttu-id="2684e-154">Bonjour **nouvelle connexion** la boîte de dialogue hello **général** , entrez le nom hello du nouvel utilisateur de hello Bonjour **nom de connexion** boîte.</span><span class="sxs-lookup"><span data-stu-id="2684e-154">In hello **Login - New** dialog box, on hello **General** page, enter hello name of hello new user in hello **Login name** box.</span></span>
4. <span data-ttu-id="2684e-155">Sélectionnez **Authentification SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="2684e-155">Select **SQL Server authentication**.</span></span>
5. <span data-ttu-id="2684e-156">Bonjour **mot de passe** , entrez un mot de passe pour le nouvel utilisateur de hello.</span><span class="sxs-lookup"><span data-stu-id="2684e-156">In hello **Password** box, enter a password for hello new user.</span></span> <span data-ttu-id="2684e-157">Entrez de nouveau ce mot de passe dans hello **confirmer le mot de passe** boîte.</span><span class="sxs-lookup"><span data-stu-id="2684e-157">Enter that password again into hello **Confirm Password** box.</span></span>
6. <span data-ttu-id="2684e-158">Sélectionnez les options de mise en œuvre de mot de passe hello requis (**appliquer la stratégie de mot de passe**, **appliquer l’expiration du mot de passe**, et **utilisateur doit changer de mot de passe à la prochaine connexion**).</span><span class="sxs-lookup"><span data-stu-id="2684e-158">Select hello password enforcement options required (**Enforce password policy**, **Enforce password expiration**, and **User must change password at next login**).</span></span> <span data-ttu-id="2684e-159">Si vous utilisez cette connexion pour vous-même, il est inutile toorequire modification d’un mot de passe à la prochaine connexion de hello.</span><span class="sxs-lookup"><span data-stu-id="2684e-159">If you are using this login for yourself, you do not need toorequire a password change at hello next login.</span></span>
7. <span data-ttu-id="2684e-160">À partir de hello **base de données par défaut** , sélectionnez une base de données par défaut pour la connexion de hello.</span><span class="sxs-lookup"><span data-stu-id="2684e-160">From hello **Default database** list, select a default database for hello login.</span></span> <span data-ttu-id="2684e-161">**maître** est par défaut de hello pour cette option.</span><span class="sxs-lookup"><span data-stu-id="2684e-161">**master** is hello default for this option.</span></span> <span data-ttu-id="2684e-162">Si vous n’avez pas encore créé une base de données utilisateur, laissez ce paramètre défini trop**master**.</span><span class="sxs-lookup"><span data-stu-id="2684e-162">If you have not yet created a user database, leave this set too**master**.</span></span>
   
    ![Propriétés de connexion](./media/virtual-machines-sql-server-connection-steps/24Test-Login.png)
8. <span data-ttu-id="2684e-164">Si c’est la première ouverture de session hello que vous créez, vous souhaiterez toodesignate cette connexion en tant qu’un administrateur SQL Server.</span><span class="sxs-lookup"><span data-stu-id="2684e-164">If this is hello first login you are creating, you may want toodesignate this login as a SQL Server administrator.</span></span> <span data-ttu-id="2684e-165">Si tel est le cas, hello **rôles serveur** page, vérifiez **sysadmin**.</span><span class="sxs-lookup"><span data-stu-id="2684e-165">If so, on hello **Server Roles** page, check **sysadmin**.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="2684e-166">Les membres du rôle serveur fixe sysadmin de hello disposent du contrôle total hello du moteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="2684e-166">Members of hello sysadmin fixed server role have complete control of hello Database Engine.</span></span> <span data-ttu-id="2684e-167">Vous devez limiter soigneusement l'appartenance à ce rôle.</span><span class="sxs-lookup"><span data-stu-id="2684e-167">You should carefully restrict membership in this role.</span></span>
   > 
   > 
   
   ![administrateur système](./media/virtual-machines-sql-server-connection-steps/25sysadmin.png)
9. <span data-ttu-id="2684e-169">Cliquez sur OK.</span><span class="sxs-lookup"><span data-stu-id="2684e-169">Click OK.</span></span>

<span data-ttu-id="2684e-170">Pour plus d'informations sur les connexions SQL Server, consultez la page [Créer un compte de connexion](http://msdn.microsoft.com/library/aa337562.aspx).</span><span class="sxs-lookup"><span data-stu-id="2684e-170">For more information about SQL Server logins, see [Create a Login](http://msdn.microsoft.com/library/aa337562.aspx).</span></span>

