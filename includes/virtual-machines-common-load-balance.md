

<span data-ttu-id="5e323-101">Deux niveaux d’équilibrage de charge sont disponibles pour les services d’infrastructure Azure :</span><span class="sxs-lookup"><span data-stu-id="5e323-101">There are two levels of load balancing available for Azure infrastructure services:</span></span>

* <span data-ttu-id="5e323-102">**Au niveau du DNS**: l’équilibrage de charge pour les services de cloud de trafic toodifferent situé dans les données de différents centres de, toodifferent des sites Web Azure situés dans différents centres de données, ou tooexternal points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="5e323-102">**DNS Level**:  Load balancing for traffic toodifferent cloud services located in different data centers, toodifferent Azure websites located in different data centers, or tooexternal endpoints.</span></span> <span data-ttu-id="5e323-103">Cette opération est effectuée avec Azure Traffic Manager et méthode d’équilibrage de charge hello tourniquet (Round Robin).</span><span class="sxs-lookup"><span data-stu-id="5e323-103">This is done with Azure Traffic Manager and hello Round Robin load balancing method.</span></span>
* <span data-ttu-id="5e323-104">**Au niveau du réseau**: charger l’équilibrage des entrant Internet trafic toodifferent virtuels d’un service cloud, ou l’équilibrage du trafic entre les machines virtuelles dans un service cloud ou d’un réseau virtuel.</span><span class="sxs-lookup"><span data-stu-id="5e323-104">**Network Level**:  Load balancing of incoming Internet traffic toodifferent virtual machines of a cloud service, or load balancing of traffic between virtual machines in a cloud service or virtual network.</span></span> <span data-ttu-id="5e323-105">Cela est effectué avec équilibrage de charge Azure hello.</span><span class="sxs-lookup"><span data-stu-id="5e323-105">This is done with hello Azure load balancer.</span></span>

## <a name="traffic-manager-load-balancing-for-cloud-services-and-websites"></a><span data-ttu-id="5e323-106">Équilibrage de charge de Traffic Manager pour des services cloud et des sites Web</span><span class="sxs-lookup"><span data-stu-id="5e323-106">Traffic Manager load balancing for cloud services and websites</span></span>
<span data-ttu-id="5e323-107">Traffic Manager vous permet de répartition hello toocontrol tooendpoints de trafic utilisateur, ce qui peut inclure des services de cloud computing, sites Web, des sites externes et des autres profils Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="5e323-107">Traffic Manager allows you toocontrol hello distribution of user traffic tooendpoints, which can include cloud services, websites, external sites, and other Traffic Manager profiles.</span></span> <span data-ttu-id="5e323-108">Traffic Manager fonctionne en appliquant une requêtes (nom DNS) tooDomain du moteur de stratégies intelligent pour les noms de domaine hello de vos ressources Internet.</span><span class="sxs-lookup"><span data-stu-id="5e323-108">Traffic Manager works by applying an intelligent policy engine tooDomain Name System (DNS) queries for hello domain names of your Internet resources.</span></span> <span data-ttu-id="5e323-109">Vos services de cloud computing ou les sites Web peuvent être exécutés dans différents centres de données dans Bonjour.</span><span class="sxs-lookup"><span data-stu-id="5e323-109">Your cloud services or websites can be running in different datacenters across hello world.</span></span>

<span data-ttu-id="5e323-110">Vous devez utiliser REST ou Windows PowerShell tooconfigure points de terminaison externes ou des profils Traffic Manager comme points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="5e323-110">You must use either REST or Windows PowerShell tooconfigure external endpoints or Traffic Manager profiles as endpoints.</span></span>

<span data-ttu-id="5e323-111">Traffic Manager utilise trois toodistribute le trafic des méthodes de l’équilibrage de charge :</span><span class="sxs-lookup"><span data-stu-id="5e323-111">Traffic Manager uses three load-balancing methods toodistribute traffic:</span></span>

* <span data-ttu-id="5e323-112">**Basculement**: utilisez cette méthode lorsque toouse un point de terminaison principal pour tout le trafic, mais vous fournissez des sauvegardes au cas où hello principal devient indisponible.</span><span class="sxs-lookup"><span data-stu-id="5e323-112">**Failover**:  Use this method when you want toouse a primary endpoint for all traffic, but provide backups in case hello primary becomes unavailable.</span></span>
* <span data-ttu-id="5e323-113">**Performances**: utilisez cette méthode lorsque vous avez des points de terminaison dans différents emplacements géographiques et que vous souhaitez demander les clients toouse hello le plus proche » » point de terminaison en termes de latence la plus faible de hello.</span><span class="sxs-lookup"><span data-stu-id="5e323-113">**Performance**:  Use this method when you have endpoints in different geographic locations and you want requesting clients toouse hello "closest" endpoint in terms of hello lowest latency.</span></span>
* <span data-ttu-id="5e323-114">**Tourniquet (Round Robin) :** utiliser cette méthode lorsque vous souhaitez que la charge toodistribute sur un ensemble de cloud services Bonjour même centre de données ou sur les services de cloud computing ou sites Web situés dans différents centres de données.</span><span class="sxs-lookup"><span data-stu-id="5e323-114">**Round Robin:**  Use this method when you want toodistribute load across a set of cloud services in hello same datacenter or across cloud services or websites in different datacenters.</span></span>

<span data-ttu-id="5e323-115">Pour plus d’informations, consultez la page [À propos des méthodes d’équilibrage de charge dans Traffic Manager](../articles/traffic-manager/traffic-manager-routing-methods.md).</span><span class="sxs-lookup"><span data-stu-id="5e323-115">For more information, see [About Traffic Manager Load Balancing Methods](../articles/traffic-manager/traffic-manager-routing-methods.md).</span></span>

<span data-ttu-id="5e323-116">Hello suivant schéma montre un exemple de méthode d’équilibrage de charge tourniquet (Round Robin) pour distribuer le trafic entre les différents services cloud de hello.</span><span class="sxs-lookup"><span data-stu-id="5e323-116">hello following diagram shows an example of hello Round Robin load balancing method for distributing traffic between different cloud services.</span></span>

![loadbalancing](./media/virtual-machines-common-load-balance/TMSummary.png)

<span data-ttu-id="5e323-118">processus de base Hello est suivant de hello :</span><span class="sxs-lookup"><span data-stu-id="5e323-118">hello basic process is hello following:</span></span>

1. <span data-ttu-id="5e323-119">Un client Internet interroge un service web tooa correspondant de domaine nom.</span><span class="sxs-lookup"><span data-stu-id="5e323-119">An Internet client queries a domain name corresponding tooa web service.</span></span>
2. <span data-ttu-id="5e323-120">DNS transfère hello nom requête demande tooTraffic Manager.</span><span class="sxs-lookup"><span data-stu-id="5e323-120">DNS forwards hello name query request tooTraffic Manager.</span></span>
3. <span data-ttu-id="5e323-121">Traffic Manager choisit hello suivant cloud service hello liste de tourniquet (Round Robin) et renvoie un hello nom DNS.</span><span class="sxs-lookup"><span data-stu-id="5e323-121">Traffic Manager chooses hello next cloud service in hello Round Robin list and sends back hello DNS name.</span></span> <span data-ttu-id="5e323-122">serveur DNS du client Hello Internet résout l’adresse IP tooan hello et il envoie au client Internet toohello.</span><span class="sxs-lookup"><span data-stu-id="5e323-122">hello Internet client's DNS server resolves hello name tooan IP address and sends it toohello Internet client.</span></span>
4. <span data-ttu-id="5e323-123">le client Internet Hello établit une connexion avec le service cloud hello choisi par le Gestionnaire de trafic.</span><span class="sxs-lookup"><span data-stu-id="5e323-123">hello Internet client connects with hello cloud service chosen by Traffic Manager.</span></span>

<span data-ttu-id="5e323-124">Pour plus d'informations, consultez la rubrique [Traffic Manager](../articles/traffic-manager/traffic-manager-overview.md).</span><span class="sxs-lookup"><span data-stu-id="5e323-124">For more information, see [Traffic Manager](../articles/traffic-manager/traffic-manager-overview.md).</span></span>

## <a name="azure-load-balancing-for-virtual-machines"></a><span data-ttu-id="5e323-125">Équilibrage de charge Azure pour des machines virtuelles</span><span class="sxs-lookup"><span data-stu-id="5e323-125">Azure load balancing for virtual machines</span></span>
<span data-ttu-id="5e323-126">Machines virtuelles dans hello même service cloud ou réseau virtuel permettre communiquer entre eux directement à l’aide de leurs adresses IP privées.</span><span class="sxs-lookup"><span data-stu-id="5e323-126">Virtual machines in hello same cloud service or virtual network can communicate with each other directly using their private IP addresses.</span></span> <span data-ttu-id="5e323-127">Ordinateurs et les services en dehors de hello service de cloud computing ou réseau virtuel peut communiquer uniquement avec les machines virtuelles dans un service cloud ou d’un réseau virtuel avec un point de terminaison configuré.</span><span class="sxs-lookup"><span data-stu-id="5e323-127">Computers and services outside hello cloud service or virtual network can only communicate with virtual machines in a cloud service or virtual network with a configured endpoint.</span></span> <span data-ttu-id="5e323-128">Un point de terminaison est un mappage d’une adresse IP publique et une adresse IP privée de port toothat et le port d’un ordinateur virtuel ou un rôle web au sein d’un service cloud Azure.</span><span class="sxs-lookup"><span data-stu-id="5e323-128">An endpoint is a mapping of a public IP address and port toothat private IP address and port of a virtual machine or web role within an Azure cloud service.</span></span>

<span data-ttu-id="5e323-129">Hello équilibrage de charge Azure distribue aléatoirement un type spécifique de trafic entrant entre plusieurs machines virtuelles ou services dans une configuration appelée un jeu d’équilibrage de charge.</span><span class="sxs-lookup"><span data-stu-id="5e323-129">hello Azure Load Balancer randomly distributes a specific type of incoming traffic across multiple virtual machines or services in a configuration known as a load-balanced set.</span></span> <span data-ttu-id="5e323-130">Par exemple, vous pouvez répartir la charge hello du trafic de demande web sur plusieurs serveurs web ou les rôles web.</span><span class="sxs-lookup"><span data-stu-id="5e323-130">For example, you can spread hello load of web request traffic across multiple web servers or web roles.</span></span>

<span data-ttu-id="5e323-131">Hello diagramme suivant illustre un point de terminaison avec équilibrage de charge pour le trafic web (non chiffré) standard qui est partagé entre trois machines virtuelles pour hello public et privé le port TCP 80.</span><span class="sxs-lookup"><span data-stu-id="5e323-131">hello following diagram shows a load-balanced endpoint for standard (unencrypted) web traffic that is shared among three virtual machines for hello public and private TCP port of 80.</span></span> <span data-ttu-id="5e323-132">Celles-ci sont incluses dans un jeu d’équilibrage de la charge.</span><span class="sxs-lookup"><span data-stu-id="5e323-132">These three virtual machines are in a load-balanced set.</span></span>

![loadbalancing](./media/virtual-machines-common-load-balance/LoadBalancing.png)

<span data-ttu-id="5e323-134">Pour plus d’informations, consultez la page [Équilibrage de charge Azure](../articles/load-balancer/load-balancer-overview.md).</span><span class="sxs-lookup"><span data-stu-id="5e323-134">For more information, see [Azure Load Balancer](../articles/load-balancer/load-balancer-overview.md).</span></span> <span data-ttu-id="5e323-135">Les étapes de hello toocreate un jeu d’équilibrage de charge, consultez [configurer un jeu d’équilibrage de charge](../articles/load-balancer/load-balancer-get-started-internet-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="5e323-135">For hello steps toocreate a load-balanced set, see [Configure a load-balanced set](../articles/load-balancer/load-balancer-get-started-internet-arm-ps.md).</span></span>

<span data-ttu-id="5e323-136">Azure peut également équilibrer la charge au sein d’un service cloud ou réseau virtuel.</span><span class="sxs-lookup"><span data-stu-id="5e323-136">Azure can also load balance within a cloud service or virtual network.</span></span> <span data-ttu-id="5e323-137">Cela est connu comme l’équilibrage de charge interne et peut être utilisé dans hello suivant façons :</span><span class="sxs-lookup"><span data-stu-id="5e323-137">This is known as internal load balancing and can be used in hello following ways:</span></span>

* <span data-ttu-id="5e323-138">Solde tooload entre les serveurs dans les différents niveaux d’une application à plusieurs niveaux (par exemple, entre les couches web et de la base de données).</span><span class="sxs-lookup"><span data-stu-id="5e323-138">tooload balance between servers in different tiers of a multi-tier application (for example, between web and database tiers).</span></span>
* <span data-ttu-id="5e323-139">tooload solde line-of-business (LOB) applications hébergées dans Azure sans équilibreur de charge supplémentaires ou de logiciels.</span><span class="sxs-lookup"><span data-stu-id="5e323-139">tooload balance line-of-business (LOB) applications hosted in Azure without requiring additional load balancer hardware or software.</span></span>
* <span data-ttu-id="5e323-140">tooinclude serveurs locaux dans l’ensemble de hello d’ordinateurs dont le trafic est à charge équilibrée.</span><span class="sxs-lookup"><span data-stu-id="5e323-140">tooinclude on-premises servers in hello set of computers whose traffic is load balanced.</span></span>

<span data-ttu-id="5e323-141">TooAzure équilibrage de charge similaire, équilibrage de charge interne est facilitée par la configuration d’un jeu d’équilibrage de la charge interne.</span><span class="sxs-lookup"><span data-stu-id="5e323-141">Similar tooAzure load balancing, internal load balancing is facilitated by configuring an internal load-balanced set.</span></span>

<span data-ttu-id="5e323-142">Hello suivant schéma montre un exemple du point de terminaison avec équilibrage de charge interne pour une application métier (LOB) qui est partagée entre trois machines virtuelles dans un réseau virtuel intersite.</span><span class="sxs-lookup"><span data-stu-id="5e323-142">hello following diagram shows an example of an internal load-balanced endpoint for a line of business (LOB) application that is shared among three virtual machines in a cross-premises virtual network.</span></span>

![loadbalancing](./media/virtual-machines-common-load-balance/LOBServers.png)

## <a name="load-balancer-considerations"></a><span data-ttu-id="5e323-144">Considérations relatives à l’équilibreur de charge</span><span class="sxs-lookup"><span data-stu-id="5e323-144">Load balancer considerations</span></span>
<span data-ttu-id="5e323-145">Un équilibreur de charge est configuré par défaut tootimeout une session en 4 minutes d’inactivité.</span><span class="sxs-lookup"><span data-stu-id="5e323-145">A load balancer is configured by default tootimeout an idle session in 4 minutes.</span></span> <span data-ttu-id="5e323-146">Si votre application derrière un équilibreur de charge quitte une connexion inactive pendant plus de 4 minutes et qu’il n’est pas une configuration Keep-Alive, hello est abandonnée.</span><span class="sxs-lookup"><span data-stu-id="5e323-146">If your application behind a load balancer leaves a connection idle for more than 4 minutes and it doesn't have a Keep-Alive configuration, hello connection will be dropped.</span></span> <span data-ttu-id="5e323-147">Vous pouvez modifier tooallow de comportement de programme d’équilibrage de charge hello un [paramètre de délai d’attente plus de temps pour l’équilibrage de charge Azure](../articles/load-balancer/load-balancer-tcp-idle-timeout.md).</span><span class="sxs-lookup"><span data-stu-id="5e323-147">You can change hello load balancer behavior tooallow a [longer timeout setting for Azure load balancer](../articles/load-balancer/load-balancer-tcp-idle-timeout.md).</span></span>

<span data-ttu-id="5e323-148">Autre considération est de type hello du mode de distribution pris en charge par l’équilibrage de charge Azure.</span><span class="sxs-lookup"><span data-stu-id="5e323-148">Other consideration is hello type of distribution mode supported by Azure Load Balancer.</span></span> <span data-ttu-id="5e323-149">Vous pouvez configurer l’affinité d’IP source (adresse IP source, adresse IP de destination) ou le protocole IP source (adresse IP source, adresse IP de destination et protocole).</span><span class="sxs-lookup"><span data-stu-id="5e323-149">You can configure source IP affinity (source IP, destination IP) or source IP protocol (source IP , destination IP and protocol).</span></span> <span data-ttu-id="5e323-150">Pour plus d’informations, consultez l’article [Azure Load Balancer distribution mode (source IP affinity)](../articles/load-balancer/load-balancer-distribution-mode.md) (Mode de distribution de l’équilibreur de charge Azure [affinité d’IP source]).</span><span class="sxs-lookup"><span data-stu-id="5e323-150">Check out [Azure Load Balancer distribution mode (source IP affinity)](../articles/load-balancer/load-balancer-distribution-mode.md) for more information.</span></span>

## <a name="next-steps"></a><span data-ttu-id="5e323-151">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="5e323-151">Next steps</span></span>
<span data-ttu-id="5e323-152">Les étapes de hello toocreate un jeu d’équilibrage de charge, consultez [configurer un jeu d’équilibrage de la charge interne](../articles/load-balancer/load-balancer-get-started-ilb-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="5e323-152">For hello steps toocreate a load-balanced set, see [Configure an internal load-balanced set](../articles/load-balancer/load-balancer-get-started-ilb-arm-ps.md).</span></span>

<span data-ttu-id="5e323-153">Pour plus d’informations sur l’équilibrage de charge, voir l’article [Équilibrage de charge interne](../articles/load-balancer/load-balancer-internal-overview.md).</span><span class="sxs-lookup"><span data-stu-id="5e323-153">For more information about load balancer, see [Internal load balancing](../articles/load-balancer/load-balancer-internal-overview.md).</span></span>

