<span data-ttu-id="e4dcc-101">Azure effectue périodiquement des mises à jour tooimprove hello fiabilité, les performances et sécurité de l’infrastructure d’hôte hello pour les ordinateurs virtuels.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-101">Azure periodically performs updates tooimprove hello reliability, performance, and security of hello host infrastructure for virtual machines.</span></span> <span data-ttu-id="e4dcc-102">Ces mises à jour de plage à partir de la mise à jour corrective de composants logiciels Bonjour hébergeant l’environnement (par exemple, le système d’exploitation, hyperviseur et divers agents déployés sur l’ordinateur hôte de hello), la mise à niveau des composants réseau, toohardware mise hors service.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-102">These updates range from patching software components in hello hosting environment (like operating system, hypervisor, and various agents deployed on hello host), upgrading networking components, toohardware decommissioning.</span></span> <span data-ttu-id="e4dcc-103">majorité Hello de ces mises à jour sont effectuées sans toutes toohello hébergé impact sur les machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-103">hello majority of these updates are performed without any impact toohello hosted virtual machines.</span></span> <span data-ttu-id="e4dcc-104">Cependant, il existe des cas où les mises à jour ont un impact :</span><span class="sxs-lookup"><span data-stu-id="e4dcc-104">However, there are cases where updates do have an impact:</span></span>

- <span data-ttu-id="e4dcc-105">Si la maintenance de hello ne nécessite pas de redémarrage, Azure utilise hello toopause de migration sur place machine virtuelle lors de l’hôte de hello est mise à jour.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-105">If hello maintenance does not require a reboot, Azure uses in-place migration toopause hello VM while hello host is updated.</span></span>

- <span data-ttu-id="e4dcc-106">Si la maintenance requiert un redémarrage, vous obtenez un avis lors de la planification de maintenance de hello.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-106">If maintenance requires a reboot, you get a notice of when hello maintenance is planned.</span></span> <span data-ttu-id="e4dcc-107">Dans ce cas, vous allez également recevoir une fenêtre de temps où vous pouvez commencer la maintenance de hello vous-même, à un moment qui vous convient.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-107">In these cases, you'll also be given a time window where you can start hello maintenance yourself, at a time that works for you.</span></span>

<span data-ttu-id="e4dcc-108">Cette page décrit comment Microsoft Azure exécute les deux types de maintenance.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-108">This page describes how Microsoft Azure performs both types of maintenance.</span></span> <span data-ttu-id="e4dcc-109">Pour plus d’informations sur les événements non planifiés (interruptions), consultez disponibilité hello de gérer des machines virtuelles pour [Windows] (.. / articles/virtual-machines/windows/manage-availability.md) ou [Linux](../articles/virtual-machines/linux/manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="e4dcc-109">For more information about unplanned events (outages), see Manage hello availability of virtual machines for [Windows] (../articles/virtual-machines/windows/manage-availability.md) or [Linux](../articles/virtual-machines/linux/manage-availability.md).</span></span>

<span data-ttu-id="e4dcc-110">Hello d’applications s’exécutant sur une machine virtuelle peut collectent des informations sur les mises à jour à venir à l’aide de Service de métadonnées Azure pour [Windows](../articles/virtual-machines/windows/instance-metadata-service.md) ou [Linux] (.. / articles/virtual-machines/linux/instance-metadata-service.md).</span><span class="sxs-lookup"><span data-stu-id="e4dcc-110">Applications running in a virtual machine can gather information about upcoming updates by using hello Azure Metadata Service for [Windows](../articles/virtual-machines/windows/instance-metadata-service.md) or [Linux] (../articles/virtual-machines/linux/instance-metadata-service.md).</span></span>

## <a name="in-place-vm-migration"></a><span data-ttu-id="e4dcc-111">Migration sur place d’une machine virtuelle</span><span class="sxs-lookup"><span data-stu-id="e4dcc-111">In-place VM migration</span></span>

<span data-ttu-id="e4dcc-112">Lorsque les mises à jour ne nécessitent pas un redémarrage complet, une migration dynamique sur place est utilisée.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-112">When updates don't require a full reboot, an in-place live migration is used.</span></span> <span data-ttu-id="e4dcc-113">Au cours de la mise à jour hello hello virtual machine est suspendue pendant environ 30 secondes, en conservant mémoire hello dans la mémoire RAM, tandis que hello environnement d’hébergement applique les correctifs et mises à jour nécessaires de hello.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-113">During hello update hello virtual machine is paused for about 30 seconds, preserving hello memory in RAM, while hello hosting environment applies hello necessary updates and patches.</span></span> <span data-ttu-id="e4dcc-114">Hello ordinateur virtuel est ensuite redémarré et que l’horloge de l’ordinateur virtuel de hello hello est automatiquement synchronisé.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-114">hello virtual machine is then resumed and hello clock of hello virtual machine is automatically synchronized.</span></span>

<span data-ttu-id="e4dcc-115">Pour les machines virtuelles dans des groupes à haute disponibilité, les domaines de mise à jour sont mis à jour un par un.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-115">For VMs in availability sets, update domains are updated one at a time.</span></span> <span data-ttu-id="e4dcc-116">Tous les ordinateurs virtuels dans un domaine de mise à jour (ID) sont en pause, mis à jour et puis redémarrés avant la maintenance planifiée se déplace sur toohello UD suivant.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-116">All VMs in one update domain (UD) are paused, updated and then resumed before planned maintenance moves on toohello next UD.</span></span>

<span data-ttu-id="e4dcc-117">Certaines applications peuvent être affectées par ces types de mises à jour.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-117">Some applications may be impacted by these types of updates.</span></span> <span data-ttu-id="e4dcc-118">Les applications qui effectuent le traitement, comme la diffusion multimédia en continu ou le transcodage ou un débit élevé, les scénarios de mise en réseau des événements en temps réel ne peuvent pas être conçue tootolerate une pause deuxième 30.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-118">Applications that perform real-time event processing, like media streaming or transcoding, or high throughput networking scenarios, may not be designed tootolerate a 30 second pause.</span></span> <!-- sooooo, what should they do? --> 


## <a name="maintenance-requiring-a-reboot"></a><span data-ttu-id="e4dcc-119">Maintenance nécessitant un redémarrage</span><span class="sxs-lookup"><span data-stu-id="e4dcc-119">Maintenance requiring a reboot</span></span>

<span data-ttu-id="e4dcc-120">Quand les machines virtuelles doivent toobe redémarré pour la maintenance planifiée, vous êtes averti à l’avance.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-120">When VMs need toobe rebooted for planned maintenance, you are notified in advance.</span></span> <span data-ttu-id="e4dcc-121">Maintenance planifiée comprend deux phases : hello libre-service de fenêtre et une fenêtre de maintenance planifiée.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-121">Planned maintenance has two phases: hello self-service window and a scheduled maintenance window.</span></span>

<span data-ttu-id="e4dcc-122">Hello **libre-service de fenêtre** vous permet de déclencher une maintenance hello sur vos machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-122">hello **self-service window** lets you initiate hello maintenance on your VMs.</span></span> <span data-ttu-id="e4dcc-123">Pendant ce temps, vous pouvez interroger chaque toosee VM leur état et vérifier le résultat de hello de votre dernière demande de maintenance.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-123">During this time, you can query each VM toosee their status and check hello result of your last maintenance request.</span></span>

<span data-ttu-id="e4dcc-124">Lorsque vous démarrez libre-service de maintenance, votre machine virtuelle est nœud déplacé tooa qui a déjà été mis à jour et donne sur toute sa puissance.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-124">When you start self-service maintenance, your VM is moved tooa node that has already been updated and then powers it back on.</span></span> <span data-ttu-id="e4dcc-125">Étant donné que hello machine virtuelle a redémarré, disque temporaire de hello est perdu et les adresses IP dynamiques associés à interface réseau virtuelle sont mis à jour.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-125">Because hello VM reboots, hello temporary disk is lost and dynamic IP addresses associated with virtual network interface are updated.</span></span>

<span data-ttu-id="e4dcc-126">Si vous démarrez libre-service de maintenance et il existe une erreur pendant le processus de hello, hello opération est arrêtée, hello VM n’est pas mis à jour et il est également supprimé à partir de l’itération de maintenance hello planifié.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-126">If you start self-service maintenance and there is an error during hello process, hello operation is stopped, hello VM is not updated and it is also removed from hello planned maintenance iteration.</span></span> <span data-ttu-id="e4dcc-127">Vous être contacté en une date ultérieure, avec une planification et proposé une nouvelle opportunité toodo libre-service de maintenance.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-127">You will be contacted in a later time with a new schedule and offered a new opportunity toodo self-service maintenance.</span></span> 

<span data-ttu-id="e4dcc-128">Lors de la fenêtre de libre-service hello est passée, hello **fenêtre de maintenance planifiée** commence.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-128">When hello self-service window has passed, hello **scheduled maintenance window** begins.</span></span> <span data-ttu-id="e4dcc-129">Pendant cette période, vous pouvez tout de même interroger hello fenêtre de maintenance, mais n’est plus maintenance de hello toostart en mesure de vous-même.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-129">During this time window, you can still query for hello maintenance window, but no longer be able toostart hello maintenance yourself.</span></span>

## <a name="availability-considerations-during-planned-maintenance"></a><span data-ttu-id="e4dcc-130">Considérations relatives à la disponibilité lors de la maintenance planifiée</span><span class="sxs-lookup"><span data-stu-id="e4dcc-130">Availability Considerations during Planned Maintenance</span></span> 

<span data-ttu-id="e4dcc-131">Si vous décidez toowait jusqu'à ce que hello planifié la fenêtre de maintenance, il existe quelques tooconsider choses pour maintenir la disponibilité le plus élevée de hello de vos machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-131">If you decide toowait until hello planned maintenance window, there are a few things tooconsider for maintaining hello highest availabilty of your VMs.</span></span> 

### <a name="paired-regions"></a><span data-ttu-id="e4dcc-132">Régions jumelées</span><span class="sxs-lookup"><span data-stu-id="e4dcc-132">Paired Regions</span></span>

<span data-ttu-id="e4dcc-133">Chaque région Azure est associée à une autre région de hello même geography, ensemble, ils apporter une paire régionale.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-133">Each Azure region is paired with another region within hello same geography, together they make a regional pair.</span></span> <span data-ttu-id="e4dcc-134">Pendant les maintenances, Azure met à jour uniquement des machines virtuelles dans une région d’une paire de région de hello.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-134">During planned maintenance, Azure will only update hello VMs in a single region of a region pair.</span></span> <span data-ttu-id="e4dcc-135">Par exemple, lors de la mise à jour hello ordinateurs virtuels de l’Amérique du Nord, Azure ne mettra pas à jour les Machines virtuelles dans l’Amérique du Sud à hello même temps.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-135">For example, when updating hello Virtual Machines in North Central US, Azure will not update any Virtual Machines in South Central US at hello same time.</span></span> <span data-ttu-id="e4dcc-136">Toutefois, autres régions comme Europe du Nord peut être en cours de maintenance à hello même temps que les États-Unis.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-136">However, other regions such as North Europe can be under maintenance at hello same time as East US.</span></span> <span data-ttu-id="e4dcc-137">Comprendre le fonctionnement des paires régionales peut vous aider à mieux répartir vos machines virtuelles entre les régions.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-137">Understanding how region pairs work can help you better distribute your VMs across regions.</span></span> <span data-ttu-id="e4dcc-138">Pour en savoir plus, consultez [Paires régionales Azure](https://docs.microsoft.com/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="e4dcc-138">For more information, see [Azure region pairs](https://docs.microsoft.com/azure/best-practices-availability-paired-regions).</span></span>

### <a name="availability-sets-and-scale-sets"></a><span data-ttu-id="e4dcc-139">Groupes à haute disponibilité et groupes identiques</span><span class="sxs-lookup"><span data-stu-id="e4dcc-139">Availability sets and scale sets</span></span>

<span data-ttu-id="e4dcc-140">Lors du déploiement d’une charge de travail sur des machines virtuelles Azure, vous pouvez créer des machines virtuelles de hello dans une application de tooyour disponibilité ensemble tooprovide haute disponibilité.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-140">When deploying a workload on Azure VMs, you can create hello VMs within an availability set tooprovide high availability tooyour application.</span></span> <span data-ttu-id="e4dcc-141">Ceci vous garantit qu’au moins une des machines virtuelles sera disponible pendant une panne ou un événement de maintenance.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-141">This ensures that during either an outage or maintenance events, at least one virtual machine is available.</span></span>

<span data-ttu-id="e4dcc-142">Au sein d’un ensemble de disponibilité, des ordinateurs virtuels individuels sont réparties sur les domaines de mise à jour too20 (domaines d’erreur).</span><span class="sxs-lookup"><span data-stu-id="e4dcc-142">Within an availability set, individual VMs are spread across up too20 update domains (UDs).</span></span> <span data-ttu-id="e4dcc-143">Lors de la maintenance planifiée, un seul domaine de mise à jour est affecté à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-143">During planned maintenance, only a single update domain is impacted at any given time.</span></span> <span data-ttu-id="e4dcc-144">N’oubliez pas que commande hello de domaines de mise à jour un impact sur ne pas nécessairement se produit séquentiellement.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-144">Be aware that hello order of update domains being impacted does not necessarily happen sequentially.</span></span> 

<span data-ttu-id="e4dcc-145">Machines virtuelles identiques sont une ressource de calcul Azure qui vous permet de toodeploy et gérer un ensemble de machines virtuelles identiques en tant qu’une seule ressource.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-145">Virtual machine scale sets are an Azure compute resource that enables you toodeploy and manage a set of identical VMs as a single resource.</span></span> <span data-ttu-id="e4dcc-146">ensemble d’échelle Hello est déployé automatiquement sur les domaines de mise à jour, telles que des machines virtuelles dans un ensemble de disponibilité.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-146">hello scale set is automatically deployed across update domains, like VMs in an availability set.</span></span> <span data-ttu-id="e4dcc-147">Comme pour les groupes à haute disponibilité, un seul domaine de mise à jour n’est impacté à la fois dans des groupes identiques.</span><span class="sxs-lookup"><span data-stu-id="e4dcc-147">Just like with availability sets, with scale sets only a single update domain is impacted at any given time.</span></span>

<span data-ttu-id="e4dcc-148">Pour plus d’informations sur la configuration de vos ordinateurs virtuels pour la haute disponibilité, consultez disponibilité hello de gérer vos machines virtuelles pour Windows (.. / articles/virtual-machines/windows/manage-availability.md) ou [Linux](../articles/virtual-machines/linux/manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="e4dcc-148">For more information about configuring your virtual machines for high availability, see Manage hello availability of your virtual machines for Windows (../articles/virtual-machines/windows/manage-availability.md) or [Linux](../articles/virtual-machines/linux/manage-availability.md).</span></span>
